!(function(){var lM=Object.getOwnPropertySymbols;var h8=Object.prototype.hasOwnProperty,p8=Object.prototype.propertyIsEnumerable;var Z_=Math.pow;var i2=(Hr,jt)=>{var F={};for(var s in Hr)h8.call(Hr,s)&&jt.indexOf(s)<0&&(F[s]=Hr[s]);if(Hr!=null&&lM)for(var s of lM(Hr))jt.indexOf(s)<0&&p8.call(Hr,s)&&(F[s]=Hr[s]);return F};(self.webpackChunkreact_mapboxgl_zt=self.webpackChunkreact_mapboxgl_zt||[]).push([[648],{68640:function(Hr,jt,F){"use strict";F.d(jt,{iN:function(){return Wt},R_:function(){return He},EV:function(){return xt},Ti:function(){return Zt},ez:function(){return Qe}});var s=F(84432),tt=2,q=.16,c=.05,xe=.05,Ge=.15,ze=5,Pe=4,ye=[{index:7,amount:15},{index:6,amount:25},{index:5,amount:30},{index:5,amount:45},{index:5,amount:65},{index:5,amount:85},{index:4,amount:90},{index:3,amount:95},{index:2,amount:97},{index:1,amount:98}];function te(An,Ur,Kr){var Rn;return Math.round(An.h)>=60&&Math.round(An.h)<=240?Rn=Kr?Math.round(An.h)-tt*Ur:Math.round(An.h)+tt*Ur:Rn=Kr?Math.round(An.h)+tt*Ur:Math.round(An.h)-tt*Ur,Rn<0?Rn+=360:Rn>=360&&(Rn-=360),Rn}function je(An,Ur,Kr){if(An.h===0&&An.s===0)return An.s;var Rn;return Kr?Rn=An.s-q*Ur:Ur===Pe?Rn=An.s+q:Rn=An.s+c*Ur,Rn>1&&(Rn=1),Kr&&Ur===ze&&Rn>.1&&(Rn=.1),Rn<.06&&(Rn=.06),Math.round(Rn*100)/100}function Ee(An,Ur,Kr){var Rn;return Kr?Rn=An.v+xe*Ur:Rn=An.v-Ge*Ur,Rn=Math.max(0,Math.min(1,Rn)),Math.round(Rn*100)/100}function He(An){for(var Ur=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Kr=[],Rn=new s.t(An),Wr=Rn.toHsv(),Ii=ze;Ii>0;Ii-=1){var pr=new s.t({h:te(Wr,Ii,!0),s:je(Wr,Ii,!0),v:Ee(Wr,Ii,!0)});Kr.push(pr)}Kr.push(Rn);for(var it=1;it<=Pe;it+=1){var Ot=new s.t({h:te(Wr,it),s:je(Wr,it),v:Ee(Wr,it)});Kr.push(Ot)}return Ur.theme==="dark"?ye.map(function(Bn){var fn=Bn.index,gn=Bn.amount;return new s.t(Ur.backgroundColor||"#141414").mix(Kr[fn],gn).toHexString()}):Kr.map(function(Bn){return Bn.toHexString()})}var Qe={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1677FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},ot=["#fff1f0","#ffccc7","#ffa39e","#ff7875","#ff4d4f","#f5222d","#cf1322","#a8071a","#820014","#5c0011"];ot.primary=ot[5];var qe=["#fff2e8","#ffd8bf","#ffbb96","#ff9c6e","#ff7a45","#fa541c","#d4380d","#ad2102","#871400","#610b00"];qe.primary=qe[5];var gt=["#fff7e6","#ffe7ba","#ffd591","#ffc069","#ffa940","#fa8c16","#d46b08","#ad4e00","#873800","#612500"];gt.primary=gt[5];var xt=["#fffbe6","#fff1b8","#ffe58f","#ffd666","#ffc53d","#faad14","#d48806","#ad6800","#874d00","#613400"];xt.primary=xt[5];var Xe=["#feffe6","#ffffb8","#fffb8f","#fff566","#ffec3d","#fadb14","#d4b106","#ad8b00","#876800","#614700"];Xe.primary=Xe[5];var Ut=["#fcffe6","#f4ffb8","#eaff8f","#d3f261","#bae637","#a0d911","#7cb305","#5b8c00","#3f6600","#254000"];Ut.primary=Ut[5];var yt=["#f6ffed","#d9f7be","#b7eb8f","#95de64","#73d13d","#52c41a","#389e0d","#237804","#135200","#092b00"];yt.primary=yt[5];var Pt=["#e6fffb","#b5f5ec","#87e8de","#5cdbd3","#36cfc9","#13c2c2","#08979c","#006d75","#00474f","#002329"];Pt.primary=Pt[5];var Wt=["#e6f4ff","#bae0ff","#91caff","#69b1ff","#4096ff","#1677ff","#0958d9","#003eb3","#002c8c","#001d66"];Wt.primary=Wt[5];var kt=["#f0f5ff","#d6e4ff","#adc6ff","#85a5ff","#597ef7","#2f54eb","#1d39c4","#10239e","#061178","#030852"];kt.primary=kt[5];var Sr=["#f9f0ff","#efdbff","#d3adf7","#b37feb","#9254de","#722ed1","#531dab","#391085","#22075e","#120338"];Sr.primary=Sr[5];var cr=["#fff0f6","#ffd6e7","#ffadd2","#ff85c0","#f759ab","#eb2f96","#c41d7f","#9e1068","#780650","#520339"];cr.primary=cr[5];var Xn=["#a6a6a6","#999999","#8c8c8c","#808080","#737373","#666666","#404040","#1a1a1a","#000000","#000000"];Xn.primary=Xn[5];var We=null,Zt={red:ot,volcano:qe,orange:gt,gold:xt,yellow:Xe,lime:Ut,green:yt,cyan:Pt,blue:Wt,geekblue:kt,purple:Sr,magenta:cr,grey:Xn},cn=["#2a1215","#431418","#58181c","#791a1f","#a61d24","#d32029","#e84749","#f37370","#f89f9a","#fac8c3"];cn.primary=cn[5];var Kt=["#2b1611","#441d12","#592716","#7c3118","#aa3e19","#d84a1b","#e87040","#f3956a","#f8b692","#fad4bc"];Kt.primary=Kt[5];var Fe=["#2b1d11","#442a11","#593815","#7c4a15","#aa6215","#d87a16","#e89a3c","#f3b765","#f8cf8d","#fae3b7"];Fe.primary=Fe[5];var Ln=["#2b2111","#443111","#594214","#7c5914","#aa7714","#d89614","#e8b339","#f3cc62","#f8df8b","#faedb5"];Ln.primary=Ln[5];var hn=["#2b2611","#443b11","#595014","#7c6e14","#aa9514","#d8bd14","#e8d639","#f3ea62","#f8f48b","#fafab5"];hn.primary=hn[5];var On=["#1f2611","#2e3c10","#3e4f13","#536d13","#6f9412","#8bbb11","#a9d134","#c9e75d","#e4f88b","#f0fab5"];On.primary=On[5];var ut=["#162312","#1d3712","#274916","#306317","#3c8618","#49aa19","#6abe39","#8fd460","#b2e58b","#d5f2bb"];ut.primary=ut[5];var Yt=["#112123","#113536","#144848","#146262","#138585","#13a8a8","#33bcb7","#58d1c9","#84e2d8","#b2f1e8"];Yt.primary=Yt[5];var bn=["#111a2c","#112545","#15325b","#15417e","#1554ad","#1668dc","#3c89e8","#65a9f3","#8dc5f8","#b7dcfa"];bn.primary=bn[5];var he=["#131629","#161d40","#1c2755","#203175","#263ea0","#2b4acb","#5273e0","#7f9ef3","#a8c1f8","#d2e0fa"];he.primary=he[5];var Jt=["#1a1325","#24163a","#301c4d","#3e2069","#51258f","#642ab5","#854eca","#ab7ae0","#cda8f0","#ebd7fa"];Jt.primary=Jt[5];var wi=["#291321","#40162f","#551c3b","#75204f","#a02669","#cb2b83","#e0529c","#f37fb7","#f8a8cc","#fad2e3"];wi.primary=wi[5];var ai=["#151515","#1f1f1f","#2d2d2d","#393939","#494949","#5a5a5a","#6a6a6a","#7b7b7b","#888888","#969696"];ai.primary=ai[5];var $e={red:cn,volcano:Kt,orange:Fe,gold:Ln,yellow:hn,lime:On,green:ut,cyan:Yt,blue:bn,geekblue:he,purple:Jt,magenta:wi,grey:ai}},83509:function(Hr,jt,F){"use strict";F.d(jt,{rb:function(){return Rn},IX:function(){return Zt}});var s=F(5147),tt=F(89692),q=F(38926),c=F(54153),xe=F(75271),Ge=F(55921),ze=F(59295),Pe=F(45985),ye=F(63662),te=F(76525),je=F(56216),Ee=(0,Pe.Z)(function Wr(){(0,ze.Z)(this,Wr)}),He=Ee,Qe="CALC_UNIT",ot=new RegExp(Qe,"g");function qe(Wr){return typeof Wr=="number"?"".concat(Wr).concat(Qe):Wr}var gt=function(Wr){(0,te.Z)(pr,Wr);var Ii=(0,je.Z)(pr);function pr(it,Ot){var Bn;(0,ze.Z)(this,pr),Bn=Ii.call(this),(0,q.Z)((0,ye.Z)(Bn),"result",""),(0,q.Z)((0,ye.Z)(Bn),"unitlessCssVar",void 0),(0,q.Z)((0,ye.Z)(Bn),"lowPriority",void 0);var fn=(0,s.Z)(it);return Bn.unitlessCssVar=Ot,it instanceof pr?Bn.result="(".concat(it.result,")"):fn==="number"?Bn.result=qe(it):fn==="string"&&(Bn.result=it),Bn}return(0,Pe.Z)(pr,[{key:"add",value:function(Ot){return Ot instanceof pr?this.result="".concat(this.result," + ").concat(Ot.getResult()):(typeof Ot=="number"||typeof Ot=="string")&&(this.result="".concat(this.result," + ").concat(qe(Ot))),this.lowPriority=!0,this}},{key:"sub",value:function(Ot){return Ot instanceof pr?this.result="".concat(this.result," - ").concat(Ot.getResult()):(typeof Ot=="number"||typeof Ot=="string")&&(this.result="".concat(this.result," - ").concat(qe(Ot))),this.lowPriority=!0,this}},{key:"mul",value:function(Ot){return this.lowPriority&&(this.result="(".concat(this.result,")")),Ot instanceof pr?this.result="".concat(this.result," * ").concat(Ot.getResult(!0)):(typeof Ot=="number"||typeof Ot=="string")&&(this.result="".concat(this.result," * ").concat(Ot)),this.lowPriority=!1,this}},{key:"div",value:function(Ot){return this.lowPriority&&(this.result="(".concat(this.result,")")),Ot instanceof pr?this.result="".concat(this.result," / ").concat(Ot.getResult(!0)):(typeof Ot=="number"||typeof Ot=="string")&&(this.result="".concat(this.result," / ").concat(Ot)),this.lowPriority=!1,this}},{key:"getResult",value:function(Ot){return this.lowPriority||Ot?"(".concat(this.result,")"):this.result}},{key:"equal",value:function(Ot){var Bn=this,fn=Ot||{},gn=fn.unit,Er=!0;return typeof gn=="boolean"?Er=gn:Array.from(this.unitlessCssVar).some(function(Vn){return Bn.result.includes(Vn)})&&(Er=!1),this.result=this.result.replace(ot,Er?"px":""),typeof this.lowPriority!="undefined"?"calc(".concat(this.result,")"):this.result}}]),pr}(He),xt=function(Wr){(0,te.Z)(pr,Wr);var Ii=(0,je.Z)(pr);function pr(it){var Ot;return(0,ze.Z)(this,pr),Ot=Ii.call(this),(0,q.Z)((0,ye.Z)(Ot),"result",0),it instanceof pr?Ot.result=it.result:typeof it=="number"&&(Ot.result=it),Ot}return(0,Pe.Z)(pr,[{key:"add",value:function(Ot){return Ot instanceof pr?this.result+=Ot.result:typeof Ot=="number"&&(this.result+=Ot),this}},{key:"sub",value:function(Ot){return Ot instanceof pr?this.result-=Ot.result:typeof Ot=="number"&&(this.result-=Ot),this}},{key:"mul",value:function(Ot){return Ot instanceof pr?this.result*=Ot.result:typeof Ot=="number"&&(this.result*=Ot),this}},{key:"div",value:function(Ot){return Ot instanceof pr?this.result/=Ot.result:typeof Ot=="number"&&(this.result/=Ot),this}},{key:"equal",value:function(){return this.result}}]),pr}(He),Xe=xt,Ut=function(Ii,pr){var it=Ii==="css"?gt:Xe;return function(Ot){return new it(Ot,pr)}},yt=Ut,Pt=function(Ii,pr){return"".concat([pr,Ii.replace(/([A-Z]+)([A-Z][a-z]+)/g,"$1-$2").replace(/([a-z])([A-Z])/g,"$1-$2")].filter(Boolean).join("-"))},Wt=Pt,kt=F(22217);function Sr(Wr,Ii,pr,it){var Ot=(0,c.Z)({},Ii[Wr]);if(it!=null&&it.deprecatedTokens){var Bn=it.deprecatedTokens;Bn.forEach(function(gn){var Er=(0,tt.Z)(gn,2),Vn=Er[0],ri=Er[1];if(Ot!=null&&Ot[Vn]||Ot!=null&&Ot[ri]){var fi;(fi=Ot[ri])!==null&&fi!==void 0||(Ot[ri]=Ot==null?void 0:Ot[Vn])}})}var fn=(0,c.Z)((0,c.Z)({},pr),Ot);return Object.keys(fn).forEach(function(gn){fn[gn]===Ii[gn]&&delete fn[gn]}),fn}var cr=Sr,Xn=typeof CSSINJS_STATISTIC!="undefined",We=!0;function Zt(){for(var Wr=arguments.length,Ii=new Array(Wr),pr=0;pr<Wr;pr++)Ii[pr]=arguments[pr];if(!Xn)return Object.assign.apply(Object,[{}].concat(Ii));We=!1;var it={};return Ii.forEach(function(Ot){if((0,s.Z)(Ot)==="object"){var Bn=Object.keys(Ot);Bn.forEach(function(fn){Object.defineProperty(it,fn,{configurable:!0,enumerable:!0,get:function(){return Ot[fn]}})})}}),We=!0,it}var cn={},Kt={};function Fe(){}var Ln=function(Ii){var pr,it=Ii,Ot=Fe;return Xn&&typeof Proxy!="undefined"&&(pr=new Set,it=new Proxy(Ii,{get:function(fn,gn){if(We){var Er;(Er=pr)===null||Er===void 0||Er.add(gn)}return fn[gn]}}),Ot=function(fn,gn){var Er;cn[fn]={global:Array.from(pr),component:(0,c.Z)((0,c.Z)({},(Er=cn[fn])===null||Er===void 0?void 0:Er.component),gn)}}),{token:it,keys:pr,flush:Ot}},hn=Ln;function On(Wr,Ii,pr){if(typeof pr=="function"){var it;return pr(Zt(Ii,(it=Ii[Wr])!==null&&it!==void 0?it:{}))}return pr!=null?pr:{}}var ut=On;function Yt(Wr){return Wr==="js"?{max:Math.max,min:Math.min}:{max:function(){for(var pr=arguments.length,it=new Array(pr),Ot=0;Ot<pr;Ot++)it[Ot]=arguments[Ot];return"max(".concat(it.map(function(Bn){return(0,Ge.bf)(Bn)}).join(","),")")},min:function(){for(var pr=arguments.length,it=new Array(pr),Ot=0;Ot<pr;Ot++)it[Ot]=arguments[Ot];return"min(".concat(it.map(function(Bn){return(0,Ge.bf)(Bn)}).join(","),")")}}}var bn=Yt,he=1e3*60*10,Jt=function(){function Wr(){(0,ze.Z)(this,Wr),(0,q.Z)(this,"map",new Map),(0,q.Z)(this,"objectIDMap",new WeakMap),(0,q.Z)(this,"nextID",0),(0,q.Z)(this,"lastAccessBeat",new Map),(0,q.Z)(this,"accessBeat",0)}return(0,Pe.Z)(Wr,[{key:"set",value:function(pr,it){this.clear();var Ot=this.getCompositeKey(pr);this.map.set(Ot,it),this.lastAccessBeat.set(Ot,Date.now())}},{key:"get",value:function(pr){var it=this.getCompositeKey(pr),Ot=this.map.get(it);return this.lastAccessBeat.set(it,Date.now()),this.accessBeat+=1,Ot}},{key:"getCompositeKey",value:function(pr){var it=this,Ot=pr.map(function(Bn){return Bn&&(0,s.Z)(Bn)==="object"?"obj_".concat(it.getObjectID(Bn)):"".concat((0,s.Z)(Bn),"_").concat(Bn)});return Ot.join("|")}},{key:"getObjectID",value:function(pr){if(this.objectIDMap.has(pr))return this.objectIDMap.get(pr);var it=this.nextID;return this.objectIDMap.set(pr,it),this.nextID+=1,it}},{key:"clear",value:function(){var pr=this;if(this.accessBeat>1e4){var it=Date.now();this.lastAccessBeat.forEach(function(Ot,Bn){it-Ot>he&&(pr.map.delete(Bn),pr.lastAccessBeat.delete(Bn))}),this.accessBeat=0}}}]),Wr}(),wi=new Jt;function ai(Wr,Ii){return xe.useMemo(function(){var pr=wi.get(Ii);if(pr)return pr;var it=Wr();return wi.set(Ii,it),it},Ii)}var $e=ai,An=function(){return{}},Ur=An;function Kr(Wr){var Ii=Wr.useCSP,pr=Ii===void 0?Ur:Ii,it=Wr.useToken,Ot=Wr.usePrefix,Bn=Wr.getResetStyles,fn=Wr.getCommonStyle,gn=Wr.getCompUnitless;function Er(qr,Jr,wr,Yn){var yr=Array.isArray(qr)?qr[0]:qr;function Pr(si){return"".concat(String(yr)).concat(si.slice(0,1).toUpperCase()).concat(si.slice(1))}var Ir=(Yn==null?void 0:Yn.unitless)||{},Xr=typeof gn=="function"?gn(qr):{},rr=(0,c.Z)((0,c.Z)({},Xr),{},(0,q.Z)({},Pr("zIndexPopup"),!0));Object.keys(Ir).forEach(function(si){rr[Pr(si)]=Ir[si]});var gr=(0,c.Z)((0,c.Z)({},Yn),{},{unitless:rr,prefixToken:Pr}),ei=ri(qr,Jr,wr,gr),Un=Vn(yr,wr,gr);return function(si){var Si=arguments.length>1&&arguments[1]!==void 0?arguments[1]:si,Yi=ei(si,Si),xo=(0,tt.Z)(Yi,2),Qr=xo[1],co=Un(Si),tn=(0,tt.Z)(co,2),Tn=tn[0],ir=tn[1];return[Tn,Qr,ir]}}function Vn(qr,Jr,wr){var Yn=wr.unitless,yr=wr.injectStyle,Pr=yr===void 0?!0:yr,Ir=wr.prefixToken,Xr=wr.ignore,rr=function(Un){var si=Un.rootCls,Si=Un.cssVar,Yi=Si===void 0?{}:Si,xo=it(),Qr=xo.realToken;return(0,Ge.CI)({path:[qr],prefix:Yi.prefix,key:Yi.key,unitless:Yn,ignore:Xr,token:Qr,scope:si},function(){var co=ut(qr,Qr,Jr),tn=cr(qr,Qr,co,{deprecatedTokens:wr==null?void 0:wr.deprecatedTokens});return Object.keys(co).forEach(function(Tn){tn[Ir(Tn)]=tn[Tn],delete tn[Tn]}),tn}),null},gr=function(Un){var si=it(),Si=si.cssVar;return[function(Yi){return Pr&&Si?xe.createElement(xe.Fragment,null,xe.createElement(rr,{rootCls:Un,cssVar:Si,component:qr}),Yi):Yi},Si==null?void 0:Si.key]};return gr}function ri(qr,Jr,wr){var Yn=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},yr=Array.isArray(qr)?qr:[qr,qr],Pr=(0,tt.Z)(yr,1),Ir=Pr[0],Xr=yr.join("-"),rr=Wr.layer||{name:"antd"};return function(gr){var ei=arguments.length>1&&arguments[1]!==void 0?arguments[1]:gr,Un=it(),si=Un.theme,Si=Un.realToken,Yi=Un.hashId,xo=Un.token,Qr=Un.cssVar,co=Ot(),tn=co.rootPrefixCls,Tn=co.iconPrefixCls,ir=pr(),kr=Qr?"css":"js",gi=$e(function(){var uo=new Set;return Qr&&Object.keys(Yn.unitless||{}).forEach(function(Re){uo.add((0,Ge.ks)(Re,Qr.prefix)),uo.add((0,Ge.ks)(Re,Wt(Ir,Qr.prefix)))}),yt(kr,uo)},[kr,Ir,Qr==null?void 0:Qr.prefix]),li=bn(kr),eo=li.max,io=li.min,Lo={theme:si,token:xo,hashId:Yi,nonce:function(){return ir.nonce},clientOnly:Yn.clientOnly,layer:rr,order:Yn.order||-999};typeof Bn=="function"&&(0,Ge.xy)((0,c.Z)((0,c.Z)({},Lo),{},{clientOnly:!1,path:["Shared",tn]}),function(){return Bn(xo,{prefix:{rootPrefixCls:tn,iconPrefixCls:Tn},csp:ir})});var Co=(0,Ge.xy)((0,c.Z)((0,c.Z)({},Lo),{},{path:[Xr,gr,Tn]}),function(){if(Yn.injectStyle===!1)return[];var uo=hn(xo),Re=uo.token,de=uo.flush,Y=ut(Ir,Si,wr),Ze=".".concat(gr),pe=cr(Ir,Si,Y,{deprecatedTokens:Yn.deprecatedTokens});Qr&&Y&&(0,s.Z)(Y)==="object"&&Object.keys(Y).forEach(function(At){Y[At]="var(".concat((0,Ge.ks)(At,Wt(Ir,Qr.prefix)),")")});var et=Zt(Re,{componentCls:Ze,prefixCls:gr,iconCls:".".concat(Tn),antCls:".".concat(tn),calc:gi,max:eo,min:io},Qr?Y:pe),nt=Jr(et,{hashId:Yi,prefixCls:gr,rootPrefixCls:tn,iconPrefixCls:Tn});de(Ir,pe);var ln=typeof fn=="function"?fn(et,gr,ei,Yn.resetFont):null;return[Yn.resetStyle===!1?null:ln,nt]});return[Co,Yi]}}function fi(qr,Jr,wr){var Yn=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},yr=ri(qr,Jr,wr,(0,c.Z)({resetStyle:!1,order:-998},Yn)),Pr=function(Xr){var rr=Xr.prefixCls,gr=Xr.rootCls,ei=gr===void 0?rr:gr;return yr(rr,ei),null};return Pr}return{genStyleHooks:Er,genSubStyleComponent:fi,genComponentStyleHook:ri}}var Rn=Kr},55921:function(Hr,jt,F){"use strict";F.d(jt,{E4:function(){return nu},uP:function(){return cr},jG:function(){return wi},t2:function(){return Re},ks:function(){return qr},bf:function(){return ri},CI:function(){return Yl},fp:function(){return Y},xy:function(){return zs}});var s=F(38926),tt=F(89692),q=F(46865),c=F(54153);function xe(on){for(var $n=0,Kn,hr=0,Yr=on.length;Yr>=4;++hr,Yr-=4)Kn=on.charCodeAt(hr)&255|(on.charCodeAt(++hr)&255)<<8|(on.charCodeAt(++hr)&255)<<16|(on.charCodeAt(++hr)&255)<<24,Kn=(Kn&65535)*1540483477+((Kn>>>16)*59797<<16),Kn^=Kn>>>24,$n=(Kn&65535)*1540483477+((Kn>>>16)*59797<<16)^($n&65535)*1540483477+(($n>>>16)*59797<<16);switch(Yr){case 3:$n^=(on.charCodeAt(hr+2)&255)<<16;case 2:$n^=(on.charCodeAt(hr+1)&255)<<8;case 1:$n^=on.charCodeAt(hr)&255,$n=($n&65535)*1540483477+(($n>>>16)*59797<<16)}return $n^=$n>>>13,$n=($n&65535)*1540483477+(($n>>>16)*59797<<16),(($n^$n>>>15)>>>0).toString(36)}var Ge=xe,ze=F(18263),Pe=F(75271),ye=F.t(Pe,2),te=F(54596),je=F(47996),Ee=F(59295),He=F(45985),Qe="%";function ot(on){return on.join(Qe)}var qe=function(){function on($n){(0,Ee.Z)(this,on),(0,s.Z)(this,"instanceId",void 0),(0,s.Z)(this,"cache",new Map),this.instanceId=$n}return(0,He.Z)(on,[{key:"get",value:function(Kn){return this.opGet(ot(Kn))}},{key:"opGet",value:function(Kn){return this.cache.get(Kn)||null}},{key:"update",value:function(Kn,hr){return this.opUpdate(ot(Kn),hr)}},{key:"opUpdate",value:function(Kn,hr){var Yr=this.cache.get(Kn),Ki=hr(Yr);Ki===null?this.cache.delete(Kn):this.cache.set(Kn,Ki)}}]),on}(),gt=qe,xt=null,Xe="data-token-hash",Ut="data-css-hash",yt="data-cache-path",Pt="__cssinjs_instance__";function Wt(){var on=Math.random().toString(12).slice(2);if(typeof document!="undefined"&&document.head&&document.body){var $n=document.body.querySelectorAll("style[".concat(Ut,"]"))||[],Kn=document.head.firstChild;Array.from($n).forEach(function(Yr){Yr[Pt]=Yr[Pt]||on,Yr[Pt]===on&&document.head.insertBefore(Yr,Kn)});var hr={};Array.from(document.querySelectorAll("style[".concat(Ut,"]"))).forEach(function(Yr){var Ki=Yr.getAttribute(Ut);if(hr[Ki]){if(Yr[Pt]===on){var mo;(mo=Yr.parentNode)===null||mo===void 0||mo.removeChild(Yr)}}else hr[Ki]=!0})}return new gt(on)}var kt=Pe.createContext({hashPriority:"low",cache:Wt(),defaultCache:!0}),Sr=function($n){var Kn=$n.children,hr=_objectWithoutProperties($n,xt),Yr=React.useContext(kt),Ki=useMemo(function(){var mo=_objectSpread({},Yr);Object.keys(hr).forEach(function(Io){var lo=hr[Io];hr[Io]!==void 0&&(mo[Io]=lo)});var Ji=hr.cache;return mo.cache=mo.cache||Wt(),mo.defaultCache=!Ji&&Yr.defaultCache,mo},[Yr,hr],function(mo,Ji){return!isEqual(mo[0],Ji[0],!0)||!isEqual(mo[1],Ji[1],!0)});return React.createElement(kt.Provider,{value:Ki},Kn)},cr=kt,Xn=F(5147),We=F(18415),Zt="CALC_UNIT",cn=new RegExp(Zt,"g");function Kt(on){return typeof on=="number"?"".concat(on).concat(Zt):on}var Fe=null,Ln=function($n,Kn){var hr=$n==="css"?CSSCalculator:NumCalculator;return function(Yr){return new hr(Yr,Kn)}},hn=null;function On(on,$n){if(on.length!==$n.length)return!1;for(var Kn=0;Kn<on.length;Kn++)if(on[Kn]!==$n[Kn])return!1;return!0}var ut=function(){function on(){(0,Ee.Z)(this,on),(0,s.Z)(this,"cache",void 0),(0,s.Z)(this,"keys",void 0),(0,s.Z)(this,"cacheCallTimes",void 0),this.cache=new Map,this.keys=[],this.cacheCallTimes=0}return(0,He.Z)(on,[{key:"size",value:function(){return this.keys.length}},{key:"internalGet",value:function(Kn){var hr,Yr,Ki=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,mo={map:this.cache};return Kn.forEach(function(Ji){if(!mo)mo=void 0;else{var Io;mo=(Io=mo)===null||Io===void 0||(Io=Io.map)===null||Io===void 0?void 0:Io.get(Ji)}}),(hr=mo)!==null&&hr!==void 0&&hr.value&&Ki&&(mo.value[1]=this.cacheCallTimes++),(Yr=mo)===null||Yr===void 0?void 0:Yr.value}},{key:"get",value:function(Kn){var hr;return(hr=this.internalGet(Kn,!0))===null||hr===void 0?void 0:hr[0]}},{key:"has",value:function(Kn){return!!this.internalGet(Kn)}},{key:"set",value:function(Kn,hr){var Yr=this;if(!this.has(Kn)){if(this.size()+1>on.MAX_CACHE_SIZE+on.MAX_CACHE_OFFSET){var Ki=this.keys.reduce(function(lo,no){var Uo=(0,tt.Z)(lo,2),No=Uo[1];return Yr.internalGet(no)[1]<No?[no,Yr.internalGet(no)[1]]:lo},[this.keys[0],this.cacheCallTimes]),mo=(0,tt.Z)(Ki,1),Ji=mo[0];this.delete(Ji)}this.keys.push(Kn)}var Io=this.cache;Kn.forEach(function(lo,no){if(no===Kn.length-1)Io.set(lo,{value:[hr,Yr.cacheCallTimes++]});else{var Uo=Io.get(lo);Uo?Uo.map||(Uo.map=new Map):Io.set(lo,{map:new Map}),Io=Io.get(lo).map}})}},{key:"deleteByPath",value:function(Kn,hr){var Yr=Kn.get(hr[0]);if(hr.length===1){var Ki;return Yr.map?Kn.set(hr[0],{map:Yr.map}):Kn.delete(hr[0]),(Ki=Yr.value)===null||Ki===void 0?void 0:Ki[0]}var mo=this.deleteByPath(Yr.map,hr.slice(1));return(!Yr.map||Yr.map.size===0)&&!Yr.value&&Kn.delete(hr[0]),mo}},{key:"delete",value:function(Kn){if(this.has(Kn))return this.keys=this.keys.filter(function(hr){return!On(hr,Kn)}),this.deleteByPath(this.cache,Kn)}}]),on}();(0,s.Z)(ut,"MAX_CACHE_SIZE",20),(0,s.Z)(ut,"MAX_CACHE_OFFSET",5);var Yt=F(4449),bn=0,he=function(){function on($n){(0,Ee.Z)(this,on),(0,s.Z)(this,"derivatives",void 0),(0,s.Z)(this,"id",void 0),this.derivatives=Array.isArray($n)?$n:[$n],this.id=bn,$n.length===0&&(0,Yt.Kp)($n.length>0,"[Ant Design CSS-in-JS] Theme should have at least one derivative function."),bn+=1}return(0,He.Z)(on,[{key:"getDerivativeToken",value:function(Kn){return this.derivatives.reduce(function(hr,Yr){return Yr(Kn,hr)},void 0)}}]),on}(),Jt=new ut;function wi(on){var $n=Array.isArray(on)?on:[on];return Jt.has($n)||Jt.set($n,new he($n)),Jt.get($n)}var ai=new WeakMap,$e={};function An(on,$n){for(var Kn=ai,hr=0;hr<$n.length;hr+=1){var Yr=$n[hr];Kn.has(Yr)||Kn.set(Yr,new WeakMap),Kn=Kn.get(Yr)}return Kn.has($e)||Kn.set($e,on()),Kn.get($e)}var Ur=new WeakMap;function Kr(on){var $n=Ur.get(on)||"";return $n||(Object.keys(on).forEach(function(Kn){var hr=on[Kn];$n+=Kn,hr instanceof he?$n+=hr.id:hr&&(0,Xn.Z)(hr)==="object"?$n+=Kr(hr):$n+=hr}),$n=Ge($n),Ur.set(on,$n)),$n}function Rn(on,$n){return Ge("".concat($n,"_").concat(Kr(on)))}var Wr="random-".concat(Date.now(),"-").concat(Math.random()).replace(/\./g,""),Ii="_bAmBoO_";function pr(on,$n,Kn){if((0,We.Z)()){var hr,Yr;(0,ze.hq)(on,Wr);var Ki=document.createElement("div");Ki.style.position="fixed",Ki.style.left="0",Ki.style.top="0",$n==null||$n(Ki),document.body.appendChild(Ki);var mo=Kn?Kn(Ki):(hr=getComputedStyle(Ki).content)===null||hr===void 0?void 0:hr.includes(Ii);return(Yr=Ki.parentNode)===null||Yr===void 0||Yr.removeChild(Ki),(0,ze.jL)(Wr),mo}return!1}var it=null;function Ot(){return it===void 0&&(it=pr("@layer ".concat(Wr," { .").concat(Wr,' { content: "').concat(Ii,'"!important; } }'),function(on){on.className=Wr})),it}var Bn=void 0;function fn(){return Bn===void 0&&(Bn=pr(":where(.".concat(Wr,') { content: "').concat(Ii,'"!important; }'),function(on){on.className=Wr})),Bn}var gn=void 0;function Er(){return gn===void 0&&(gn=pr(".".concat(Wr," { inset-block: 93px !important; }"),function(on){on.className=Wr},function(on){return getComputedStyle(on).bottom==="93px"})),gn}var Vn=(0,We.Z)();function ri(on){return typeof on=="number"?"".concat(on,"px"):on}function fi(on,$n,Kn){var hr,Yr=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},Ki=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(Ki)return on;var mo=(0,c.Z)((0,c.Z)({},Yr),{},(hr={},(0,s.Z)(hr,Xe,$n),(0,s.Z)(hr,Ut,Kn),hr)),Ji=Object.keys(mo).map(function(Io){var lo=mo[Io];return lo?"".concat(Io,'="').concat(lo,'"'):null}).filter(function(Io){return Io}).join(" ");return"<style ".concat(Ji,">").concat(on,"</style>")}var qr=function($n){var Kn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return"--".concat(Kn?"".concat(Kn,"-"):"").concat($n).replace(/([a-z0-9])([A-Z])/g,"$1-$2").replace(/([A-Z]+)([A-Z][a-z0-9]+)/g,"$1-$2").replace(/([a-z])([A-Z0-9])/g,"$1-$2").toLowerCase()},Jr=function($n,Kn,hr){return Object.keys($n).length?".".concat(Kn).concat(hr!=null&&hr.scope?".".concat(hr.scope):"","{").concat(Object.entries($n).map(function(Yr){var Ki=(0,tt.Z)(Yr,2),mo=Ki[0],Ji=Ki[1];return"".concat(mo,":").concat(Ji,";")}).join(""),"}"):""},wr=function($n,Kn,hr){var Yr={},Ki={};return Object.entries($n).forEach(function(mo){var Ji,Io,lo=(0,tt.Z)(mo,2),no=lo[0],Uo=lo[1];if(hr!=null&&(Ji=hr.preserve)!==null&&Ji!==void 0&&Ji[no])Ki[no]=Uo;else if((typeof Uo=="string"||typeof Uo=="number")&&!(hr!=null&&(Io=hr.ignore)!==null&&Io!==void 0&&Io[no])){var No,ea=qr(no,hr==null?void 0:hr.prefix);Yr[ea]=typeof Uo=="number"&&!(hr!=null&&(No=hr.unitless)!==null&&No!==void 0&&No[no])?"".concat(Uo,"px"):String(Uo),Ki[no]="var(".concat(ea,")")}}),[Ki,Jr(Yr,Kn,{scope:hr==null?void 0:hr.scope})]},Yn=F(92076),yr=(0,c.Z)({},ye),Pr=yr.useInsertionEffect,Ir=function($n,Kn,hr){Pe.useMemo($n,hr),(0,Yn.Z)(function(){return Kn(!0)},hr)},Xr=Pr?function(on,$n,Kn){return Pr(function(){return on(),$n()},Kn)}:Ir,rr=Xr,gr=(0,c.Z)({},ye),ei=gr.useInsertionEffect,Un=function($n){var Kn=[],hr=!1;function Yr(Ki){hr||Kn.push(Ki)}return Pe.useEffect(function(){return hr=!1,function(){hr=!0,Kn.length&&Kn.forEach(function(Ki){return Ki()})}},$n),Yr},si=function(){return function($n){$n()}},Si=typeof ei!="undefined"?Un:si,Yi=Si;function xo(){return!1}var Qr=!1;function co(){return Qr}var tn=xo;if(0)var Tn,ir;function kr(on,$n,Kn,hr,Yr){var Ki=Pe.useContext(cr),mo=Ki.cache,Ji=[on].concat((0,q.Z)($n)),Io=ot(Ji),lo=Yi([Io]),no=tn(),Uo=function(ua){mo.opUpdate(Io,function(Oa){var es=Oa||[void 0,void 0],Ra=(0,tt.Z)(es,2),qa=Ra[0],Xa=qa===void 0?0:qa,is=Ra[1],ns=is,Wa=ns||Kn(),Os=[Xa,Wa];return ua?ua(Os):Os})};Pe.useMemo(function(){Uo()},[Io]);var No=mo.opGet(Io),ea=No[1];return rr(function(){Yr==null||Yr(ea)},function(Ua){return Uo(function(ua){var Oa=(0,tt.Z)(ua,2),es=Oa[0],Ra=Oa[1];return Ua&&es===0&&(Yr==null||Yr(ea)),[es+1,Ra]}),function(){mo.opUpdate(Io,function(ua){var Oa=ua||[],es=(0,tt.Z)(Oa,2),Ra=es[0],qa=Ra===void 0?0:Ra,Xa=es[1],is=qa-1;return is===0?(lo(function(){(Ua||!mo.opGet(Io))&&(hr==null||hr(Xa,!1))}),null):[qa-1,Xa]})}},[Io]),ea}var gi={},li="css",eo=new Map;function io(on){eo.set(on,(eo.get(on)||0)+1)}function Lo(on,$n){if(typeof document!="undefined"){var Kn=document.querySelectorAll("style[".concat(Xe,'="').concat(on,'"]'));Kn.forEach(function(hr){if(hr[Pt]===$n){var Yr;(Yr=hr.parentNode)===null||Yr===void 0||Yr.removeChild(hr)}})}}var Co=0;function uo(on,$n){eo.set(on,(eo.get(on)||0)-1);var Kn=Array.from(eo.keys()),hr=Kn.filter(function(Yr){var Ki=eo.get(Yr)||0;return Ki<=0});Kn.length-hr.length>Co&&hr.forEach(function(Yr){Lo(Yr,$n),eo.delete(Yr)})}var Re=function($n,Kn,hr,Yr){var Ki=hr.getDerivativeToken($n),mo=(0,c.Z)((0,c.Z)({},Ki),Kn);return Yr&&(mo=Yr(mo)),mo},de="token";function Y(on,$n){var Kn=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},hr=(0,Pe.useContext)(cr),Yr=hr.cache.instanceId,Ki=hr.container,mo=Kn.salt,Ji=mo===void 0?"":mo,Io=Kn.override,lo=Io===void 0?gi:Io,no=Kn.formatToken,Uo=Kn.getComputedToken,No=Kn.cssVar,ea=An(function(){return Object.assign.apply(Object,[{}].concat((0,q.Z)($n)))},$n),Ua=Kr(ea),ua=Kr(lo),Oa=No?Kr(No):"",es=kr(de,[Ji,on.id,Ua,ua,Oa],function(){var Ra,qa=Uo?Uo(ea,lo,on):Re(ea,lo,on,no),Xa=(0,c.Z)({},qa),is="";if(No){var ns=wr(qa,No.key,{prefix:No.prefix,ignore:No.ignore,unitless:No.unitless,preserve:No.preserve}),Wa=(0,tt.Z)(ns,2);qa=Wa[0],is=Wa[1]}var Os=Rn(qa,Ji);qa._tokenKey=Os,Xa._tokenKey=Rn(Xa,Ji);var sc=(Ra=No==null?void 0:No.key)!==null&&Ra!==void 0?Ra:Os;qa._themeKey=sc,io(sc);var bl="".concat(li,"-").concat(Ge(Os));return qa._hashId=bl,[qa,bl,Xa,is,(No==null?void 0:No.key)||""]},function(Ra){uo(Ra[0]._themeKey,Yr)},function(Ra){var qa=(0,tt.Z)(Ra,4),Xa=qa[0],is=qa[3];if(No&&is){var ns=(0,ze.hq)(is,Ge("css-variables-".concat(Xa._themeKey)),{mark:Ut,prepend:"queue",attachTo:Ki,priority:-999});ns[Pt]=Yr,ns.setAttribute(Xe,Xa._themeKey)}});return es}var Ze=function($n,Kn,hr){var Yr=(0,tt.Z)($n,5),Ki=Yr[2],mo=Yr[3],Ji=Yr[4],Io=hr||{},lo=Io.plain;if(!mo)return null;var no=Ki._tokenKey,Uo=-999,No={"data-rc-order":"prependQueue","data-rc-priority":"".concat(Uo)},ea=fi(mo,Ji,no,No,lo);return[Uo,no,ea]},pe=F(23022),et={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},nt=et,ln="-ms-",At="-moz-",sn="-webkit-",vn="comm",Je="rule",Rt="decl",Xt="@page",nn="@media",dt="@import",lt="@charset",En="@viewport",_n="@supports",Wn="@document",nr="@namespace",mr="@keyframes",Nr="@font-face",ui="@counter-style",Zr="@font-feature-values",qi="@layer",pt="@scope",Sn=Math.abs,qt=String.fromCharCode,Nn=Object.assign;function lr(on,$n){return fo(on,0)^45?((($n<<2^fo(on,0))<<2^fo(on,1))<<2^fo(on,2))<<2^fo(on,3):0}function di(on){return on.trim()}function Ti(on,$n){return(on=$n.exec(on))?on[0]:on}function bo(on,$n,Kn){return on.replace($n,Kn)}function Zi(on,$n,Kn){return on.indexOf($n,Kn)}function fo(on,$n){return on.charCodeAt($n)|0}function yo(on,$n,Kn){return on.slice($n,Kn)}function Gi(on){return on.length}function Oo(on){return on.length}function Xo(on,$n){return $n.push(on),on}function Bo(on,$n){return on.map($n).join("")}function Eo(on,$n){return on.filter(function(Kn){return!Ti(Kn,$n)})}function zo(on,$n){for(var Kn="",hr=0;hr<on.length;hr++)Kn+=$n(on[hr],hr,on,$n)||"";return Kn}function Zo(on,$n,Kn,hr){switch(on.type){case qi:if(on.children.length)break;case dt:case nr:case Rt:return on.return=on.return||on.value;case vn:return"";case mr:return on.return=on.value+"{"+zo(on.children,hr)+"}";case Je:if(!Gi(on.value=on.props.join(",")))return""}return Gi(Kn=zo(on.children,hr))?on.return=on.value+"{"+Kn+"}":""}var na=1,po=1,wo=0,So=0,K=0,_e="";function wt(on,$n,Kn,hr,Yr,Ki,mo,Ji){return{value:on,root:$n,parent:Kn,type:hr,props:Yr,children:Ki,line:na,column:po,length:mo,return:"",siblings:Ji}}function Tt(on,$n){return assign(wt("",null,null,"",null,null,0,on.siblings),on,{length:-on.length},$n)}function In(on){for(;on.root;)on=Tt(on.root,{children:[on]});append(on,on.siblings)}function Qn(){return K}function ci(){return K=So>0?fo(_e,--So):0,po--,K===10&&(po=1,na--),K}function fr(){return K=So<wo?fo(_e,So++):0,po++,K===10&&(po=1,na++),K}function Ai(){return fo(_e,So)}function to(){return So}function xr(on,$n){return yo(_e,on,$n)}function Vi(on){switch(on){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Fr(on){return na=po=1,wo=Gi(_e=on),So=0,[]}function Ei(on){return _e="",on}function _i(on){return di(xr(So-1,Ye(on===91?on+2:on===40?on+1:on)))}function bi(on){return Ei(jo(Fr(on)))}function Yo(on){for(;(K=Ai())&&K<33;)fr();return Vi(on)>2||Vi(K)>3?"":" "}function jo(on){for(;fr();)switch(Vi(K)){case 0:append(Ke(So-1),on);break;case 2:append(_i(K),on);break;default:append(from(K),on)}return on}function an(on,$n){for(;--$n&&fr()&&!(K<48||K>102||K>57&&K<65||K>70&&K<97););return xr(on,to()+($n<6&&Ai()==32&&fr()==32))}function Ye(on){for(;fr();)switch(K){case on:return So;case 34:case 39:on!==34&&on!==39&&Ye(K);break;case 40:on===41&&Ye(on);break;case 92:fr();break}return So}function Ce(on,$n){for(;fr()&&on+K!==57;)if(on+K===84&&Ai()===47)break;return"/*"+xr($n,So-1)+"*"+qt(on===47?on:fr())}function Ke(on){for(;!Vi(Ai());)fr();return xr(on,So)}function Be(on){return Ei(Nt("",null,null,null,[""],on=Fr(on),0,[0],on))}function Nt(on,$n,Kn,hr,Yr,Ki,mo,Ji,Io){for(var lo=0,no=0,Uo=mo,No=0,ea=0,Ua=0,ua=1,Oa=1,es=1,Ra=0,qa="",Xa=Yr,is=Ki,ns=hr,Wa=qa;Oa;)switch(Ua=Ra,Ra=fr()){case 40:if(Ua!=108&&fo(Wa,Uo-1)==58){Zi(Wa+=bo(_i(Ra),"&","&\f"),"&\f",Sn(lo?Ji[lo-1]:0))!=-1&&(es=-1);break}case 34:case 39:case 91:Wa+=_i(Ra);break;case 9:case 10:case 13:case 32:Wa+=Yo(Ua);break;case 92:Wa+=an(to()-1,7);continue;case 47:switch(Ai()){case 42:case 47:Xo(tr(Ce(fr(),to()),$n,Kn,Io),Io),(Vi(Ua||1)==5||Vi(Ai()||1)==5)&&Gi(Wa)&&yo(Wa,-1,void 0)!==" "&&(Wa+=" ");break;default:Wa+="/"}break;case 123*ua:Ji[lo++]=Gi(Wa)*es;case 125*ua:case 59:case 0:switch(Ra){case 0:case 125:Oa=0;case 59+no:es==-1&&(Wa=bo(Wa,/\f/g,"")),ea>0&&(Gi(Wa)-Uo||ua===0&&Ua===47)&&Xo(ea>32?Rr(Wa+";",hr,Kn,Uo-1,Io):Rr(bo(Wa," ","")+";",hr,Kn,Uo-2,Io),Io);break;case 59:Wa+=";";default:if(Xo(ns=dn(Wa,$n,Kn,lo,no,Yr,Ji,qa,Xa=[],is=[],Uo,Ki),Ki),Ra===123)if(no===0)Nt(Wa,$n,ns,ns,Xa,Ki,Uo,Ji,is);else{switch(No){case 99:if(fo(Wa,3)===110)break;case 108:if(fo(Wa,2)===97)break;default:no=0;case 100:case 109:case 115:}no?Nt(on,ns,ns,hr&&Xo(dn(on,ns,ns,0,0,Yr,Ji,qa,Yr,Xa=[],Uo,is),is),Yr,is,Uo,Ji,hr?Xa:is):Nt(Wa,ns,ns,ns,[""],is,0,Ji,is)}}lo=no=ea=0,ua=es=1,qa=Wa="",Uo=mo;break;case 58:Uo=1+Gi(Wa),ea=Ua;default:if(ua<1){if(Ra==123)--ua;else if(Ra==125&&ua++==0&&ci()==125)continue}switch(Wa+=qt(Ra),Ra*ua){case 38:es=no>0?1:(Wa+="\f",-1);break;case 44:Ji[lo++]=(Gi(Wa)-1)*es,es=1;break;case 64:Ai()===45&&(Wa+=_i(fr())),No=Ai(),no=Uo=Gi(qa=Wa+=Ke(to())),Ra++;break;case 45:Ua===45&&Gi(Wa)==2&&(ua=0)}}return Ki}function dn(on,$n,Kn,hr,Yr,Ki,mo,Ji,Io,lo,no,Uo){for(var No=Yr-1,ea=Yr===0?Ki:[""],Ua=Oo(ea),ua=0,Oa=0,es=0;ua<hr;++ua)for(var Ra=0,qa=yo(on,No+1,No=Sn(Oa=mo[ua])),Xa=on;Ra<Ua;++Ra)(Xa=di(Oa>0?ea[Ra]+" "+qa:bo(qa,/&\f/g,ea[Ra])))&&(Io[es++]=Xa);return wt(on,$n,Kn,Yr===0?Je:Ji,Io,lo,no,Uo)}function tr(on,$n,Kn,hr){return wt(on,$n,Kn,vn,qt(Qn()),yo(on,2,-2),0,hr)}function Rr(on,$n,Kn,hr,Yr){return wt(on,$n,Kn,Rt,yo(on,0,hr),yo(on,hr+1,-1),hr,Yr)}function Lr(on,$n){var Kn=$n.path,hr=$n.parentSelectors;devWarning(!1,"[Ant Design CSS-in-JS] ".concat(Kn?"Error in ".concat(Kn,": "):"").concat(on).concat(hr.length?" Selector: ".concat(hr.join(" | ")):""))}var Mr=function($n,Kn,hr){if($n==="content"){var Yr=/(attr|counters?|url|(((repeating-)?(linear|radial))|conic)-gradient)\(|(no-)?(open|close)-quote/,Ki=["normal","none","initial","inherit","unset"];(typeof Kn!="string"||Ki.indexOf(Kn)===-1&&!Yr.test(Kn)&&(Kn.charAt(0)!==Kn.charAt(Kn.length-1)||Kn.charAt(0)!=='"'&&Kn.charAt(0)!=="'"))&&lintWarning("You seem to be using a value for 'content' without quotes, try replacing it with `content: '\"".concat(Kn,"\"'`."),hr)}},vi=null,zi=function($n,Kn,hr){$n==="animation"&&hr.hashId&&Kn!=="none"&&lintWarning("You seem to be using hashed animation '".concat(Kn,"', in which case 'animationName' with Keyframe as value is recommended."),hr)},Mo=null;function Oi(on){var $n,Kn=(($n=on.match(/:not\(([^)]*)\)/))===null||$n===void 0?void 0:$n[1])||"",hr=Kn.split(/(\[[^[]*])|(?=[.#])/).filter(function(Yr){return Yr});return hr.length>1}function Ni(on){return on.parentSelectors.reduce(function($n,Kn){return $n?Kn.includes("&")?Kn.replace(/&/g,$n):"".concat($n," ").concat(Kn):Kn},"")}var hi=function($n,Kn,hr){var Yr=Ni(hr),Ki=Yr.match(/:not\([^)]*\)/g)||[];Ki.length>0&&Ki.some(Oi)&&lintWarning("Concat ':not' selector not support in legacy browsers.",hr)},Wi=null,Hi=function($n,Kn,hr){switch($n){case"marginLeft":case"marginRight":case"paddingLeft":case"paddingRight":case"left":case"right":case"borderLeft":case"borderLeftWidth":case"borderLeftStyle":case"borderLeftColor":case"borderRight":case"borderRightWidth":case"borderRightStyle":case"borderRightColor":case"borderTopLeftRadius":case"borderTopRightRadius":case"borderBottomLeftRadius":case"borderBottomRightRadius":lintWarning("You seem to be using non-logical property '".concat($n,"' which is not compatible with RTL mode. Please use logical properties and values instead. For more information: https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Logical_Properties."),hr);return;case"margin":case"padding":case"borderWidth":case"borderStyle":if(typeof Kn=="string"){var Yr=Kn.split(" ").map(function(Ji){return Ji.trim()});Yr.length===4&&Yr[1]!==Yr[3]&&lintWarning("You seem to be using '".concat($n,"' property with different left ").concat($n," and right ").concat($n,", which is not compatible with RTL mode. Please use logical properties and values instead. For more information: https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Logical_Properties."),hr)}return;case"clear":case"textAlign":(Kn==="left"||Kn==="right")&&lintWarning("You seem to be using non-logical value '".concat(Kn,"' of ").concat($n,", which is not compatible with RTL mode. Please use logical properties and values instead. For more information: https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Logical_Properties."),hr);return;case"borderRadius":if(typeof Kn=="string"){var Ki=Kn.split("/").map(function(Ji){return Ji.trim()}),mo=Ki.reduce(function(Ji,Io){if(Ji)return Ji;var lo=Io.split(" ").map(function(no){return no.trim()});return lo.length>=2&&lo[0]!==lo[1]||lo.length===3&&lo[1]!==lo[2]||lo.length===4&&lo[2]!==lo[3]?!0:Ji},!1);mo&&lintWarning("You seem to be using non-logical value '".concat(Kn,"' of ").concat($n,", which is not compatible with RTL mode. Please use logical properties and values instead. For more information: https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Logical_Properties."),hr)}return;default:}},Po=null,aa=function($n,Kn,hr){(typeof Kn=="string"&&/NaN/g.test(Kn)||Number.isNaN(Kn))&&lintWarning("Unexpected 'NaN' in property '".concat($n,": ").concat(Kn,"'."),hr)},ha=null,Ta=function($n,Kn,hr){hr.parentSelectors.some(function(Yr){var Ki=Yr.split(",");return Ki.some(function(mo){return mo.split("&").length>2})})&&lintWarning("Should not use more than one `&` in a selector.",hr)},Ma=null,Sa="data-ant-cssinjs-cache-path",ba="_FILE_STYLE__";function ja(on){return Object.keys(on).map(function($n){var Kn=on[$n];return"".concat($n,":").concat(Kn)}).join(";")}var wa,Ps=!0;function Ts(on){var $n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;wa=on,Ps=$n}function _s(){if(!wa&&(wa={},(0,We.Z)())){var on=document.createElement("div");on.className=Sa,on.style.position="fixed",on.style.visibility="hidden",on.style.top="-9999px",document.body.appendChild(on);var $n=getComputedStyle(on).content||"";$n=$n.replace(/^"/,"").replace(/"$/,""),$n.split(";").forEach(function(Yr){var Ki=Yr.split(":"),mo=(0,tt.Z)(Ki,2),Ji=mo[0],Io=mo[1];wa[Ji]=Io});var Kn=document.querySelector("style[".concat(Sa,"]"));if(Kn){var hr;Ps=!1,(hr=Kn.parentNode)===null||hr===void 0||hr.removeChild(Kn)}document.body.removeChild(on)}}function il(on){return _s(),!!wa[on]}function ol(on){var $n=wa[on],Kn=null;if($n&&(0,We.Z)())if(Ps)Kn=ba;else{var hr=document.querySelector("style[".concat(Ut,'="').concat(wa[on],'"]'));hr?Kn=hr.innerHTML:delete wa[on]}return[Kn,$n]}var Al="_skip_check_",Vs="_multi_value_";function Dl(on){var $n=zo(Be(on),Zo);return $n.replace(/\{%%%\:[^;];}/g,";")}function mc(on){return(0,Xn.Z)(on)==="object"&&on&&(Al in on||Vs in on)}function pa(on,$n,Kn){if(!$n)return on;var hr=".".concat($n),Yr=Kn==="low"?":where(".concat(hr,")"):hr,Ki=on.split(",").map(function(mo){var Ji,Io=mo.trim().split(/\s+/),lo=Io[0]||"",no=((Ji=lo.match(/^\w+/))===null||Ji===void 0?void 0:Ji[0])||"";return lo="".concat(no).concat(Yr).concat(lo.slice(no.length)),[lo].concat((0,q.Z)(Io.slice(1))).join(" ")});return Ki.join(",")}var Ha=function on($n){var Kn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},hr=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{root:!0,parentSelectors:[]},Yr=hr.root,Ki=hr.injectHash,mo=hr.parentSelectors,Ji=Kn.hashId,Io=Kn.layer,lo=Kn.path,no=Kn.hashPriority,Uo=Kn.transformers,No=Uo===void 0?[]:Uo,ea=Kn.linters,Ua=ea===void 0?[]:ea,ua="",Oa={};function es(Xa){var is=Xa.getName(Ji);if(!Oa[is]){var ns=on(Xa.style,Kn,{root:!1,parentSelectors:mo}),Wa=(0,tt.Z)(ns,1),Os=Wa[0];Oa[is]="@keyframes ".concat(Xa.getName(Ji)).concat(Os)}}function Ra(Xa){var is=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return Xa.forEach(function(ns){Array.isArray(ns)?Ra(ns,is):ns&&is.push(ns)}),is}var qa=Ra(Array.isArray($n)?$n:[$n]);return qa.forEach(function(Xa){var is=typeof Xa=="string"&&!Yr?{}:Xa;if(typeof is=="string")ua+="".concat(is,`
`);else if(is._keyframe)es(is);else{var ns=No.reduce(function(Wa,Os){var sc;return(Os==null||(sc=Os.visit)===null||sc===void 0?void 0:sc.call(Os,Wa))||Wa},is);Object.keys(ns).forEach(function(Wa){var Os=ns[Wa];if((0,Xn.Z)(Os)==="object"&&Os&&(Wa!=="animationName"||!Os._keyframe)&&!mc(Os)){var sc=!1,bl=Wa.trim(),lc=!1;(Yr||Ki)&&Ji?bl.startsWith("@")?sc=!0:bl==="&"?bl=pa("",Ji,no):bl=pa(Wa,Ji,no):Yr&&!Ji&&(bl==="&"||bl==="")&&(bl="",lc=!0);var Zu=on(Os,Kn,{root:lc,injectHash:sc,parentSelectors:[].concat((0,q.Z)(mo),[bl])}),ql=(0,tt.Z)(Zu,2),Ml=ql[0],Zl=ql[1];Oa=(0,c.Z)((0,c.Z)({},Oa),Zl),ua+="".concat(bl).concat(Ml)}else{let Ll=function(Vl,Ql){var qc=Vl.replace(/[A-Z]/g,function(cc){return"-".concat(cc.toLowerCase())}),Hl=Ql;!nt[Vl]&&typeof Hl=="number"&&Hl!==0&&(Hl="".concat(Hl,"px")),Vl==="animationName"&&Ql!==null&&Ql!==void 0&&Ql._keyframe&&(es(Ql),Hl=Ql.getName(Ji)),ua+="".concat(qc,":").concat(Hl,";")};var yc,Jl=(yc=Os==null?void 0:Os.value)!==null&&yc!==void 0?yc:Os;(0,Xn.Z)(Os)==="object"&&Os!==null&&Os!==void 0&&Os[Vs]&&Array.isArray(Jl)?Jl.forEach(function(Vl){Ll(Wa,Vl)}):Ll(Wa,Jl)}})}}),Yr?Io&&(ua&&(ua="@layer ".concat(Io.name," {").concat(ua,"}")),Io.dependencies&&(Oa["@layer ".concat(Io.name)]=Io.dependencies.map(function(Xa){return"@layer ".concat(Xa,", ").concat(Io.name,";")}).join(`
`))):ua="{".concat(ua,"}"),[ua,Oa]};function ca(on,$n){return Ge("".concat(on.join("%")).concat($n))}function Go(){return null}var hs="style";function zs(on,$n){var Kn=on.token,hr=on.path,Yr=on.hashId,Ki=on.layer,mo=on.nonce,Ji=on.clientOnly,Io=on.order,lo=Io===void 0?0:Io,no=Pe.useContext(cr),Uo=no.autoClear,No=no.mock,ea=no.defaultCache,Ua=no.hashPriority,ua=no.container,Oa=no.ssrInline,es=no.transformers,Ra=no.linters,qa=no.cache,Xa=no.layer,is=Kn._tokenKey,ns=[is];Xa&&ns.push("layer"),ns.push.apply(ns,(0,q.Z)(hr));var Wa=Vn,Os=kr(hs,ns,function(){var ql=ns.join("|");if(il(ql)){var Ml=ol(ql),Zl=(0,tt.Z)(Ml,2),yc=Zl[0],Jl=Zl[1];if(yc)return[yc,is,Jl,{},Ji,lo]}var Ll=$n(),Vl=Ha(Ll,{hashId:Yr,hashPriority:Ua,layer:Xa?Ki:void 0,path:hr.join("-"),transformers:es,linters:Ra}),Ql=(0,tt.Z)(Vl,2),qc=Ql[0],Hl=Ql[1],cc=Dl(qc),ec=ca(ns,cc);return[cc,is,ec,Hl,Ji,lo]},function(ql,Ml){var Zl=(0,tt.Z)(ql,3),yc=Zl[2];(Ml||Uo)&&Vn&&(0,ze.jL)(yc,{mark:Ut})},function(ql){var Ml=(0,tt.Z)(ql,4),Zl=Ml[0],yc=Ml[1],Jl=Ml[2],Ll=Ml[3];if(Wa&&Zl!==ba){var Vl={mark:Ut,prepend:Xa?!1:"queue",attachTo:ua,priority:lo},Ql=typeof mo=="function"?mo():mo;Ql&&(Vl.csp={nonce:Ql});var qc=[],Hl=[];Object.keys(Ll).forEach(function(ec){ec.startsWith("@layer")?qc.push(ec):Hl.push(ec)}),qc.forEach(function(ec){(0,ze.hq)(Dl(Ll[ec]),"_layer-".concat(ec),(0,c.Z)((0,c.Z)({},Vl),{},{prepend:!0}))});var cc=(0,ze.hq)(Zl,Jl,Vl);cc[Pt]=qa.instanceId,cc.setAttribute(Xe,is),Hl.forEach(function(ec){(0,ze.hq)(Dl(Ll[ec]),"_effect-".concat(ec),Vl)})}}),sc=(0,tt.Z)(Os,3),bl=sc[0],lc=sc[1],Zu=sc[2];return function(ql){var Ml;if(!Oa||Wa||!ea)Ml=Pe.createElement(Go,null);else{var Zl;Ml=Pe.createElement("style",(0,pe.Z)({},(Zl={},(0,s.Z)(Zl,Xe,lc),(0,s.Z)(Zl,Ut,Zu),Zl),{dangerouslySetInnerHTML:{__html:bl}}))}return Pe.createElement(Pe.Fragment,null,Ml,ql)}}var ic=function($n,Kn,hr){var Yr=(0,tt.Z)($n,6),Ki=Yr[0],mo=Yr[1],Ji=Yr[2],Io=Yr[3],lo=Yr[4],no=Yr[5],Uo=hr||{},No=Uo.plain;if(lo)return null;var ea=Ki,Ua={"data-rc-order":"prependQueue","data-rc-priority":"".concat(no)};return ea=fi(Ki,mo,Ji,Ua,No),Io&&Object.keys(Io).forEach(function(ua){if(!Kn[ua]){Kn[ua]=!0;var Oa=Dl(Io[ua]),es=fi(Oa,mo,"_effect-".concat(ua),Ua,No);ua.startsWith("@layer")?ea=es+ea:ea+=es}}),[no,Ji,ea]},gc="cssVar",jc=function($n,Kn){var hr=$n.key,Yr=$n.prefix,Ki=$n.unitless,mo=$n.ignore,Ji=$n.token,Io=$n.scope,lo=Io===void 0?"":Io,no=(0,Pe.useContext)(cr),Uo=no.cache.instanceId,No=no.container,ea=Ji._tokenKey,Ua=[].concat((0,q.Z)($n.path),[hr,lo,ea]),ua=kr(gc,Ua,function(){var Oa=Kn(),es=wr(Oa,hr,{prefix:Yr,unitless:Ki,ignore:mo,scope:lo}),Ra=(0,tt.Z)(es,2),qa=Ra[0],Xa=Ra[1],is=ca(Ua,Xa);return[qa,Xa,is,hr]},function(Oa){var es=(0,tt.Z)(Oa,3),Ra=es[2];Vn&&(0,ze.jL)(Ra,{mark:Ut})},function(Oa){var es=(0,tt.Z)(Oa,3),Ra=es[1],qa=es[2];if(Ra){var Xa=(0,ze.hq)(Ra,qa,{mark:Ut,prepend:"queue",attachTo:No,priority:-999});Xa[Pt]=Uo,Xa.setAttribute(Xe,hr)}});return ua},_l=function($n,Kn,hr){var Yr=(0,tt.Z)($n,4),Ki=Yr[1],mo=Yr[2],Ji=Yr[3],Io=hr||{},lo=Io.plain;if(!Ki)return null;var no=-999,Uo={"data-rc-order":"prependQueue","data-rc-priority":"".concat(no)},No=fi(Ki,Ji,mo,Uo,lo);return[no,mo,No]},Yl=jc,sa,Fo=(sa={},(0,s.Z)(sa,hs,ic),(0,s.Z)(sa,de,Ze),(0,s.Z)(sa,gc,_l),sa);function hu(on){return on!==null}function Qo(on,$n){var Kn=typeof $n=="boolean"?{plain:$n}:$n||{},hr=Kn.plain,Yr=hr===void 0?!1:hr,Ki=Kn.types,mo=Ki===void 0?["style","token","cssVar"]:Ki,Ji=new RegExp("^(".concat((typeof mo=="string"?[mo]:mo).join("|"),")%")),Io=Array.from(on.cache.keys()).filter(function(No){return Ji.test(No)}),lo={},no={},Uo="";return Io.map(function(No){var ea=No.replace(Ji,"").replace(/%/g,"|"),Ua=No.split("%"),ua=_slicedToArray(Ua,1),Oa=ua[0],es=Fo[Oa],Ra=es(on.cache.get(No)[1],lo,{plain:Yr});if(!Ra)return null;var qa=_slicedToArray(Ra,3),Xa=qa[0],is=qa[1],ns=qa[2];return No.startsWith("style")&&(no[ea]=is),[Xa,ns]}).filter(hu).sort(function(No,ea){var Ua=_slicedToArray(No,1),ua=Ua[0],Oa=_slicedToArray(ea,1),es=Oa[0];return ua-es}).forEach(function(No){var ea=_slicedToArray(No,2),Ua=ea[1];Uo+=Ua}),Uo+=toStyleStr(".".concat(ATTR_CACHE_MAP,'{content:"').concat(serializeCacheMap(no),'";}'),void 0,void 0,_defineProperty({},ATTR_CACHE_MAP,ATTR_CACHE_MAP),Yr),Uo}var oc=function(){function on($n,Kn){(0,Ee.Z)(this,on),(0,s.Z)(this,"name",void 0),(0,s.Z)(this,"style",void 0),(0,s.Z)(this,"_keyframe",!0),this.name=$n,this.style=Kn}return(0,He.Z)(on,[{key:"getName",value:function(){var Kn=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return Kn?"".concat(Kn,"-").concat(this.name):this.name}}]),on}(),nu=oc;function ia(on){if(typeof on=="number")return[[on],!1];var $n=String(on).trim(),Kn=$n.match(/(.*)(!important)/),hr=(Kn?Kn[1]:$n).trim().split(/\s+/),Yr=[],Ki=0;return[hr.reduce(function(mo,Ji){if(Ji.includes("(")||Ji.includes(")")){var Io=Ji.split("(").length-1,lo=Ji.split(")").length-1;Ki+=Io-lo}return Ki>=0&&Yr.push(Ji),Ki===0&&(mo.push(Yr.join(" ")),Yr=[]),mo},[]),!!Kn]}function Ec(on){return on.notSplit=!0,on}var vc={inset:["top","right","bottom","left"],insetBlock:["top","bottom"],insetBlockStart:["top"],insetBlockEnd:["bottom"],insetInline:["left","right"],insetInlineStart:["left"],insetInlineEnd:["right"],marginBlock:["marginTop","marginBottom"],marginBlockStart:["marginTop"],marginBlockEnd:["marginBottom"],marginInline:["marginLeft","marginRight"],marginInlineStart:["marginLeft"],marginInlineEnd:["marginRight"],paddingBlock:["paddingTop","paddingBottom"],paddingBlockStart:["paddingTop"],paddingBlockEnd:["paddingBottom"],paddingInline:["paddingLeft","paddingRight"],paddingInlineStart:["paddingLeft"],paddingInlineEnd:["paddingRight"],borderBlock:Ec(["borderTop","borderBottom"]),borderBlockStart:Ec(["borderTop"]),borderBlockEnd:Ec(["borderBottom"]),borderInline:Ec(["borderLeft","borderRight"]),borderInlineStart:Ec(["borderLeft"]),borderInlineEnd:Ec(["borderRight"]),borderBlockWidth:["borderTopWidth","borderBottomWidth"],borderBlockStartWidth:["borderTopWidth"],borderBlockEndWidth:["borderBottomWidth"],borderInlineWidth:["borderLeftWidth","borderRightWidth"],borderInlineStartWidth:["borderLeftWidth"],borderInlineEndWidth:["borderRightWidth"],borderBlockStyle:["borderTopStyle","borderBottomStyle"],borderBlockStartStyle:["borderTopStyle"],borderBlockEndStyle:["borderBottomStyle"],borderInlineStyle:["borderLeftStyle","borderRightStyle"],borderInlineStartStyle:["borderLeftStyle"],borderInlineEndStyle:["borderRightStyle"],borderBlockColor:["borderTopColor","borderBottomColor"],borderBlockStartColor:["borderTopColor"],borderBlockEndColor:["borderBottomColor"],borderInlineColor:["borderLeftColor","borderRightColor"],borderInlineStartColor:["borderLeftColor"],borderInlineEndColor:["borderRightColor"],borderStartStartRadius:["borderTopLeftRadius"],borderStartEndRadius:["borderTopRightRadius"],borderEndStartRadius:["borderBottomLeftRadius"],borderEndEndRadius:["borderBottomRightRadius"]};function ru(on,$n){var Kn=on;return $n&&(Kn="".concat(Kn," !important")),{_skip_check_:!0,value:Kn}}var ku={visit:function($n){var Kn={};return Object.keys($n).forEach(function(hr){var Yr=$n[hr],Ki=vc[hr];if(Ki&&(typeof Yr=="number"||typeof Yr=="string")){var mo=ia(Yr),Ji=(0,tt.Z)(mo,2),Io=Ji[0],lo=Ji[1];Ki.length&&Ki.notSplit?Ki.forEach(function(no){Kn[no]=ru(Yr,lo)}):Ki.length===1?Kn[Ki[0]]=ru(Io[0],lo):Ki.length===2?Ki.forEach(function(no,Uo){var No;Kn[no]=ru((No=Io[Uo])!==null&&No!==void 0?No:Io[0],lo)}):Ki.length===4?Ki.forEach(function(no,Uo){var No,ea;Kn[no]=ru((No=(ea=Io[Uo])!==null&&ea!==void 0?ea:Io[Uo-2])!==null&&No!==void 0?No:Io[0],lo)}):Kn[hr]=Yr}else Kn[hr]=Yr}),Kn}},ac=null,gl=/url\([^)]+\)|var\([^)]+\)|(\d*\.?\d+)px/g;function Bi(on,$n){var Kn=Math.pow(10,$n+1),hr=Math.floor(on*Kn);return Math.round(hr/10)*10/Kn}var ju=function(){var $n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Kn=$n.rootValue,hr=Kn===void 0?16:Kn,Yr=$n.precision,Ki=Yr===void 0?5:Yr,mo=$n.mediaQuery,Ji=mo===void 0?!1:mo,Io=function(Uo,No){if(!No)return Uo;var ea=parseFloat(No);if(ea<=1)return Uo;var Ua=Bi(ea/hr,Ki);return"".concat(Ua,"rem")},lo=function(Uo){var No=_objectSpread({},Uo);return Object.entries(Uo).forEach(function(ea){var Ua=_slicedToArray(ea,2),ua=Ua[0],Oa=Ua[1];if(typeof Oa=="string"&&Oa.includes("px")){var es=Oa.replace(gl,Io);No[ua]=es}!unitless[ua]&&typeof Oa=="number"&&Oa!==0&&(No[ua]="".concat(Oa,"px").replace(gl,Io));var Ra=ua.trim();if(Ra.startsWith("@")&&Ra.includes("px")&&Ji){var qa=ua.replace(gl,Io);No[qa]=No[ua],delete No[ua]}}),No};return{visit:lo}},ld=null,Yc={supportModernCSS:function(){return fn()&&Er()}}},84432:function(Hr,jt,F){"use strict";F.d(jt,{t:function(){return Ge}});var s=F(38926);const tt=Math.round;function q(ze,Pe){const ye=ze.replace(/^[^(]*\((.*)/,"$1").replace(/\).*/,"").match(/\d*\.?\d+%?/g)||[],te=ye.map(je=>parseFloat(je));for(let je=0;je<3;je+=1)te[je]=Pe(te[je]||0,ye[je]||"",je);return ye[3]?te[3]=ye[3].includes("%")?te[3]/100:te[3]:te[3]=1,te}const c=(ze,Pe,ye)=>ye===0?ze:ze/100;function xe(ze,Pe){const ye=Pe||255;return ze>ye?ye:ze<0?0:ze}class Ge{constructor(Pe){(0,s.Z)(this,"isValid",!0),(0,s.Z)(this,"r",0),(0,s.Z)(this,"g",0),(0,s.Z)(this,"b",0),(0,s.Z)(this,"a",1),(0,s.Z)(this,"_h",void 0),(0,s.Z)(this,"_s",void 0),(0,s.Z)(this,"_l",void 0),(0,s.Z)(this,"_v",void 0),(0,s.Z)(this,"_max",void 0),(0,s.Z)(this,"_min",void 0),(0,s.Z)(this,"_brightness",void 0);function ye(te){return te[0]in Pe&&te[1]in Pe&&te[2]in Pe}if(Pe)if(typeof Pe=="string"){let je=function(Ee){return te.startsWith(Ee)};const te=Pe.trim();/^#?[A-F\d]{3,8}$/i.test(te)?this.fromHexString(te):je("rgb")?this.fromRgbString(te):je("hsl")?this.fromHslString(te):(je("hsv")||je("hsb"))&&this.fromHsvString(te)}else if(Pe instanceof Ge)this.r=Pe.r,this.g=Pe.g,this.b=Pe.b,this.a=Pe.a,this._h=Pe._h,this._s=Pe._s,this._l=Pe._l,this._v=Pe._v;else if(ye("rgb"))this.r=xe(Pe.r),this.g=xe(Pe.g),this.b=xe(Pe.b),this.a=typeof Pe.a=="number"?xe(Pe.a,1):1;else if(ye("hsl"))this.fromHsl(Pe);else if(ye("hsv"))this.fromHsv(Pe);else throw new Error("@ant-design/fast-color: unsupported input "+JSON.stringify(Pe))}setR(Pe){return this._sc("r",Pe)}setG(Pe){return this._sc("g",Pe)}setB(Pe){return this._sc("b",Pe)}setA(Pe){return this._sc("a",Pe,1)}setHue(Pe){const ye=this.toHsv();return ye.h=Pe,this._c(ye)}getLuminance(){function Pe(Ee){const He=Ee/255;return He<=.03928?He/12.92:Math.pow((He+.055)/1.055,2.4)}const ye=Pe(this.r),te=Pe(this.g),je=Pe(this.b);return .2126*ye+.7152*te+.0722*je}getHue(){if(typeof this._h=="undefined"){const Pe=this.getMax()-this.getMin();Pe===0?this._h=0:this._h=tt(60*(this.r===this.getMax()?(this.g-this.b)/Pe+(this.g<this.b?6:0):this.g===this.getMax()?(this.b-this.r)/Pe+2:(this.r-this.g)/Pe+4))}return this._h}getSaturation(){if(typeof this._s=="undefined"){const Pe=this.getMax()-this.getMin();Pe===0?this._s=0:this._s=Pe/this.getMax()}return this._s}getLightness(){return typeof this._l=="undefined"&&(this._l=(this.getMax()+this.getMin())/510),this._l}getValue(){return typeof this._v=="undefined"&&(this._v=this.getMax()/255),this._v}getBrightness(){return typeof this._brightness=="undefined"&&(this._brightness=(this.r*299+this.g*587+this.b*114)/1e3),this._brightness}darken(Pe=10){const ye=this.getHue(),te=this.getSaturation();let je=this.getLightness()-Pe/100;return je<0&&(je=0),this._c({h:ye,s:te,l:je,a:this.a})}lighten(Pe=10){const ye=this.getHue(),te=this.getSaturation();let je=this.getLightness()+Pe/100;return je>1&&(je=1),this._c({h:ye,s:te,l:je,a:this.a})}mix(Pe,ye=50){const te=this._c(Pe),je=ye/100,Ee=Qe=>(te[Qe]-this[Qe])*je+this[Qe],He={r:tt(Ee("r")),g:tt(Ee("g")),b:tt(Ee("b")),a:tt(Ee("a")*100)/100};return this._c(He)}tint(Pe=10){return this.mix({r:255,g:255,b:255,a:1},Pe)}shade(Pe=10){return this.mix({r:0,g:0,b:0,a:1},Pe)}onBackground(Pe){const ye=this._c(Pe),te=this.a+ye.a*(1-this.a),je=Ee=>tt((this[Ee]*this.a+ye[Ee]*ye.a*(1-this.a))/te);return this._c({r:je("r"),g:je("g"),b:je("b"),a:te})}isDark(){return this.getBrightness()<128}isLight(){return this.getBrightness()>=128}equals(Pe){return this.r===Pe.r&&this.g===Pe.g&&this.b===Pe.b&&this.a===Pe.a}clone(){return this._c(this)}toHexString(){let Pe="#";const ye=(this.r||0).toString(16);Pe+=ye.length===2?ye:"0"+ye;const te=(this.g||0).toString(16);Pe+=te.length===2?te:"0"+te;const je=(this.b||0).toString(16);if(Pe+=je.length===2?je:"0"+je,typeof this.a=="number"&&this.a>=0&&this.a<1){const Ee=tt(this.a*255).toString(16);Pe+=Ee.length===2?Ee:"0"+Ee}return Pe}toHsl(){return{h:this.getHue(),s:this.getSaturation(),l:this.getLightness(),a:this.a}}toHslString(){const Pe=this.getHue(),ye=tt(this.getSaturation()*100),te=tt(this.getLightness()*100);return this.a!==1?`hsla(${Pe},${ye}%,${te}%,${this.a})`:`hsl(${Pe},${ye}%,${te}%)`}toHsv(){return{h:this.getHue(),s:this.getSaturation(),v:this.getValue(),a:this.a}}toRgb(){return{r:this.r,g:this.g,b:this.b,a:this.a}}toRgbString(){return this.a!==1?`rgba(${this.r},${this.g},${this.b},${this.a})`:`rgb(${this.r},${this.g},${this.b})`}toString(){return this.toRgbString()}_sc(Pe,ye,te){const je=this.clone();return je[Pe]=xe(ye,te),je}_c(Pe){return new this.constructor(Pe)}getMax(){return typeof this._max=="undefined"&&(this._max=Math.max(this.r,this.g,this.b)),this._max}getMin(){return typeof this._min=="undefined"&&(this._min=Math.min(this.r,this.g,this.b)),this._min}fromHexString(Pe){const ye=Pe.replace("#","");function te(je,Ee){return parseInt(ye[je]+ye[Ee||je],16)}ye.length<6?(this.r=te(0),this.g=te(1),this.b=te(2),this.a=ye[3]?te(3)/255:1):(this.r=te(0,1),this.g=te(2,3),this.b=te(4,5),this.a=ye[6]?te(6,7)/255:1)}fromHsl({h:Pe,s:ye,l:te,a:je}){if(this._h=Pe%360,this._s=ye,this._l=te,this.a=typeof je=="number"?je:1,ye<=0){const Xe=tt(te*255);this.r=Xe,this.g=Xe,this.b=Xe}let Ee=0,He=0,Qe=0;const ot=Pe/60,qe=(1-Math.abs(2*te-1))*ye,gt=qe*(1-Math.abs(ot%2-1));ot>=0&&ot<1?(Ee=qe,He=gt):ot>=1&&ot<2?(Ee=gt,He=qe):ot>=2&&ot<3?(He=qe,Qe=gt):ot>=3&&ot<4?(He=gt,Qe=qe):ot>=4&&ot<5?(Ee=gt,Qe=qe):ot>=5&&ot<6&&(Ee=qe,Qe=gt);const xt=te-qe/2;this.r=tt((Ee+xt)*255),this.g=tt((He+xt)*255),this.b=tt((Qe+xt)*255)}fromHsv({h:Pe,s:ye,v:te,a:je}){this._h=Pe%360,this._s=ye,this._v=te,this.a=typeof je=="number"?je:1;const Ee=tt(te*255);if(this.r=Ee,this.g=Ee,this.b=Ee,ye<=0)return;const He=Pe/60,Qe=Math.floor(He),ot=He-Qe,qe=tt(te*(1-ye)*255),gt=tt(te*(1-ye*ot)*255),xt=tt(te*(1-ye*(1-ot))*255);switch(Qe){case 0:this.g=xt,this.b=qe;break;case 1:this.r=gt,this.b=qe;break;case 2:this.r=qe,this.b=xt;break;case 3:this.r=qe,this.g=gt;break;case 4:this.r=xt,this.g=qe;break;case 5:default:this.g=qe,this.b=gt;break}}fromHsvString(Pe){const ye=q(Pe,c);this.fromHsv({h:ye[0],s:ye[1],v:ye[2],a:ye[3]})}fromHslString(Pe){const ye=q(Pe,c);this.fromHsl({h:ye[0],s:ye[1],l:ye[2],a:ye[3]})}fromRgbString(Pe){const ye=q(Pe,(te,je)=>je.includes("%")?tt(te/100*255):te);this.r=ye[0],this.g=ye[1],this.b=ye[2],this.a=ye[3]}}},23738:function(Hr,jt,F){"use strict";F.d(jt,{Z:function(){return On}});var s=F(23022),tt=F(89692),q=F(38926),c=F(58190),xe=F(75271),Ge=F(82187),ze=F.n(Ge),Pe=F(68640),ye=F(53552),te=F(54153),je=F(5147),Ee=F(18263),He=F(16167),Qe=F(4449);function ot(ut){return ut.replace(/-(.)/g,function(Yt,bn){return bn.toUpperCase()})}function qe(ut,Yt){(0,Qe.ZP)(ut,"[@ant-design/icons] ".concat(Yt))}function gt(ut){return(0,je.Z)(ut)==="object"&&typeof ut.name=="string"&&typeof ut.theme=="string"&&((0,je.Z)(ut.icon)==="object"||typeof ut.icon=="function")}function xt(){var ut=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Object.keys(ut).reduce(function(Yt,bn){var he=ut[bn];switch(bn){case"class":Yt.className=he,delete Yt.class;break;default:delete Yt[bn],Yt[ot(bn)]=he}return Yt},{})}function Xe(ut,Yt,bn){return bn?xe.createElement(ut.tag,(0,te.Z)((0,te.Z)({key:Yt},xt(ut.attrs)),bn),(ut.children||[]).map(function(he,Jt){return Xe(he,"".concat(Yt,"-").concat(ut.tag,"-").concat(Jt))})):xe.createElement(ut.tag,(0,te.Z)({key:Yt},xt(ut.attrs)),(ut.children||[]).map(function(he,Jt){return Xe(he,"".concat(Yt,"-").concat(ut.tag,"-").concat(Jt))}))}function Ut(ut){return(0,Pe.R_)(ut)[0]}function yt(ut){return ut?Array.isArray(ut)?ut:[ut]:[]}var Pt={width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true",focusable:"false"},Wt=`
.anticon {
  display: inline-flex;
  align-items: center;
  color: inherit;
  font-style: normal;
  line-height: 0;
  text-align: center;
  text-transform: none;
  vertical-align: -0.125em;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

.anticon > * {
  line-height: 1;
}

.anticon svg {
  display: inline-block;
}

.anticon::before {
  display: none;
}

.anticon .anticon-icon {
  display: block;
}

.anticon[tabindex] {
  cursor: pointer;
}

.anticon-spin::before,
.anticon-spin {
  display: inline-block;
  -webkit-animation: loadingCircle 1s infinite linear;
  animation: loadingCircle 1s infinite linear;
}

@-webkit-keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}

@keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}
`,kt=function(Yt){var bn=(0,xe.useContext)(ye.Z),he=bn.csp,Jt=bn.prefixCls,wi=bn.layer,ai=Wt;Jt&&(ai=ai.replace(/anticon/g,Jt)),wi&&(ai="@layer ".concat(wi,` {
`).concat(ai,`
}`)),(0,xe.useEffect)(function(){var $e=Yt.current,An=(0,He.A)($e);(0,Ee.hq)(ai,"@ant-design-icons",{prepend:!wi,csp:he,attachTo:An})},[])},Sr=["icon","className","onClick","style","primaryColor","secondaryColor"],cr={primaryColor:"#333",secondaryColor:"#E6E6E6",calculated:!1};function Xn(ut){var Yt=ut.primaryColor,bn=ut.secondaryColor;cr.primaryColor=Yt,cr.secondaryColor=bn||Ut(Yt),cr.calculated=!!bn}function We(){return(0,te.Z)({},cr)}var Zt=function(Yt){var bn=Yt.icon,he=Yt.className,Jt=Yt.onClick,wi=Yt.style,ai=Yt.primaryColor,$e=Yt.secondaryColor,An=(0,c.Z)(Yt,Sr),Ur=xe.useRef(),Kr=cr;if(ai&&(Kr={primaryColor:ai,secondaryColor:$e||Ut(ai)}),kt(Ur),qe(gt(bn),"icon should be icon definiton, but got ".concat(bn)),!gt(bn))return null;var Rn=bn;return Rn&&typeof Rn.icon=="function"&&(Rn=(0,te.Z)((0,te.Z)({},Rn),{},{icon:Rn.icon(Kr.primaryColor,Kr.secondaryColor)})),Xe(Rn.icon,"svg-".concat(Rn.name),(0,te.Z)((0,te.Z)({className:he,onClick:Jt,style:wi,"data-icon":Rn.name,width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},An),{},{ref:Ur}))};Zt.displayName="IconReact",Zt.getTwoToneColors=We,Zt.setTwoToneColors=Xn;var cn=Zt;function Kt(ut){var Yt=yt(ut),bn=(0,tt.Z)(Yt,2),he=bn[0],Jt=bn[1];return cn.setTwoToneColors({primaryColor:he,secondaryColor:Jt})}function Fe(){var ut=cn.getTwoToneColors();return ut.calculated?[ut.primaryColor,ut.secondaryColor]:ut.primaryColor}var Ln=["className","icon","spin","rotate","tabIndex","onClick","twoToneColor"];Kt(Pe.iN.primary);var hn=xe.forwardRef(function(ut,Yt){var bn=ut.className,he=ut.icon,Jt=ut.spin,wi=ut.rotate,ai=ut.tabIndex,$e=ut.onClick,An=ut.twoToneColor,Ur=(0,c.Z)(ut,Ln),Kr=xe.useContext(ye.Z),Rn=Kr.prefixCls,Wr=Rn===void 0?"anticon":Rn,Ii=Kr.rootClassName,pr=ze()(Ii,Wr,(0,q.Z)((0,q.Z)({},"".concat(Wr,"-").concat(he.name),!!he.name),"".concat(Wr,"-spin"),!!Jt||he.name==="loading"),bn),it=ai;it===void 0&&$e&&(it=-1);var Ot=wi?{msTransform:"rotate(".concat(wi,"deg)"),transform:"rotate(".concat(wi,"deg)")}:void 0,Bn=yt(An),fn=(0,tt.Z)(Bn,2),gn=fn[0],Er=fn[1];return xe.createElement("span",(0,s.Z)({role:"img","aria-label":he.name},Ur,{ref:Yt,tabIndex:it,onClick:$e,className:pr}),xe.createElement(cn,{icon:he,primaryColor:gn,secondaryColor:Er,style:Ot}))});hn.displayName="AntdIcon",hn.getTwoToneColor=Fe,hn.setTwoToneColor=Kt;var On=hn},53552:function(Hr,jt,F){"use strict";var s=F(75271),tt=(0,s.createContext)({});jt.Z=tt},4692:function(Hr,jt,F){"use strict";F.d(jt,{Z:function(){return Pe}});var s=F(23022),tt=F(75271),q={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z"}}]},name:"check-circle",theme:"filled"},c=q,xe=F(23738),Ge=function(te,je){return tt.createElement(xe.Z,(0,s.Z)({},te,{ref:je,icon:c}))},ze=tt.forwardRef(Ge),Pe=ze},3642:function(Hr,jt,F){"use strict";F.d(jt,{Z:function(){return Pe}});var s=F(23022),tt=F(75271),q={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 00-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z"}}]},name:"check",theme:"outlined"},c=q,xe=F(23738),Ge=function(te,je){return tt.createElement(xe.Z,(0,s.Z)({},te,{ref:je,icon:c}))},ze=tt.forwardRef(Ge),Pe=ze},75434:function(Hr,jt,F){"use strict";F.d(jt,{Z:function(){return Pe}});var s=F(23022),tt=F(75271),q={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64c247.4 0 448 200.6 448 448S759.4 960 512 960 64 759.4 64 512 264.6 64 512 64zm127.98 274.82h-.04l-.08.06L512 466.75 384.14 338.88c-.04-.05-.06-.06-.08-.06a.12.12 0 00-.07 0c-.03 0-.05.01-.09.05l-45.02 45.02a.2.2 0 00-.05.09.12.12 0 000 .07v.02a.27.27 0 00.06.06L466.75 512 338.88 639.86c-.05.04-.06.06-.06.08a.12.12 0 000 .07c0 .03.01.05.05.09l45.02 45.02a.2.2 0 00.09.05.12.12 0 00.07 0c.02 0 .04-.01.08-.05L512 557.25l127.86 127.87c.04.04.06.05.08.05a.12.12 0 00.07 0c.03 0 .05-.01.09-.05l45.02-45.02a.2.2 0 00.05-.09.12.12 0 000-.07v-.02a.27.27 0 00-.05-.06L557.25 512l127.87-127.86c.04-.04.05-.06.05-.08a.12.12 0 000-.07c0-.03-.01-.05-.05-.09l-45.02-45.02a.2.2 0 00-.09-.05.12.12 0 00-.07 0z"}}]},name:"close-circle",theme:"filled"},c=q,xe=F(23738),Ge=function(te,je){return tt.createElement(xe.Z,(0,s.Z)({},te,{ref:je,icon:c}))},ze=tt.forwardRef(Ge),Pe=ze},14258:function(Hr,jt,F){"use strict";F.d(jt,{Z:function(){return Pe}});var s=F(23022),tt=F(75271),q={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M799.86 166.31c.02 0 .04.02.08.06l57.69 57.7c.04.03.05.05.06.08a.12.12 0 010 .06c0 .03-.02.05-.06.09L569.93 512l287.7 287.7c.04.04.05.06.06.09a.12.12 0 010 .07c0 .02-.02.04-.06.08l-57.7 57.69c-.03.04-.05.05-.07.06a.12.12 0 01-.07 0c-.03 0-.05-.02-.09-.06L512 569.93l-287.7 287.7c-.04.04-.06.05-.09.06a.12.12 0 01-.07 0c-.02 0-.04-.02-.08-.06l-57.69-57.7c-.04-.03-.05-.05-.06-.07a.12.12 0 010-.07c0-.03.02-.05.06-.09L454.07 512l-287.7-287.7c-.04-.04-.05-.06-.06-.09a.12.12 0 010-.07c0-.02.02-.04.06-.08l57.7-57.69c.03-.04.05-.05.07-.06a.12.12 0 01.07 0c.03 0 .05.02.09.06L512 454.07l287.7-287.7c.04-.04.06-.05.09-.06a.12.12 0 01.07 0z"}}]},name:"close",theme:"outlined"},c=q,xe=F(23738),Ge=function(te,je){return tt.createElement(xe.Z,(0,s.Z)({},te,{ref:je,icon:c}))},ze=tt.forwardRef(Ge),Pe=ze},13143:function(Hr,jt,F){"use strict";F.d(jt,{Z:function(){return Pe}});var s=F(23022),tt=F(75271),q={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z"}}]},name:"down",theme:"outlined"},c=q,xe=F(23738),Ge=function(te,je){return tt.createElement(xe.Z,(0,s.Z)({},te,{ref:je,icon:c}))},ze=tt.forwardRef(Ge),Pe=ze},64267:function(Hr,jt,F){"use strict";F.d(jt,{Z:function(){return Pe}});var s=F(23022),tt=F(75271),q={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm-32 232c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V296zm32 440a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"exclamation-circle",theme:"filled"},c=q,xe=F(23738),Ge=function(te,je){return tt.createElement(xe.Z,(0,s.Z)({},te,{ref:je,icon:c}))},ze=tt.forwardRef(Ge),Pe=ze},24573:function(Hr,jt,F){"use strict";F.d(jt,{Z:function(){return Pe}});var s=F(23022),tt=F(75271),q={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"}}]},name:"loading",theme:"outlined"},c=q,xe=F(23738),Ge=function(te,je){return tt.createElement(xe.Z,(0,s.Z)({},te,{ref:je,icon:c}))},ze=tt.forwardRef(Ge),Pe=ze},27806:function(Hr,jt,F){"use strict";F.d(jt,{Z:function(){return Pe}});var s=F(23022),tt=F(75271),q={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M765.7 486.8L314.9 134.7A7.97 7.97 0 00302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 000-50.4z"}}]},name:"right",theme:"outlined"},c=q,xe=F(23738),Ge=function(te,je){return tt.createElement(xe.Z,(0,s.Z)({},te,{ref:je,icon:c}))},ze=tt.forwardRef(Ge),Pe=ze},17023:function(Hr,jt,F){"use strict";F.d(jt,{Z:function(){return Pe}});var s=F(23022),tt=F(75271),q={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"}}]},name:"search",theme:"outlined"},c=q,xe=F(23738),Ge=function(te,je){return tt.createElement(xe.Z,(0,s.Z)({},te,{ref:je,icon:c}))},ze=tt.forwardRef(Ge),Pe=ze},84896:function(Hr,jt,F){"use strict";F.d(jt,{Z:function(){return Pe}});var s=F(23022),tt=F(75271),q={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M890.5 755.3L537.9 269.2c-12.8-17.6-39-17.6-51.7 0L133.5 755.3A8 8 0 00140 768h75c5.1 0 9.9-2.5 12.9-6.6L512 369.8l284.1 391.6c3 4.1 7.8 6.6 12.9 6.6h75c6.5 0 10.3-7.4 6.5-12.7z"}}]},name:"up",theme:"outlined"},c=q,xe=F(23738),Ge=function(te,je){return tt.createElement(xe.Z,(0,s.Z)({},te,{ref:je,icon:c}))},ze=tt.forwardRef(Ge),Pe=ze},12398:function(Hr,jt,F){var s=F(1129);Hr.exports.geometry=tt,Hr.exports.ring=c;function tt(Ge){var ze=0,Pe;switch(Ge.type){case"Polygon":return q(Ge.coordinates);case"MultiPolygon":for(Pe=0;Pe<Ge.coordinates.length;Pe++)ze+=q(Ge.coordinates[Pe]);return ze;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0;case"GeometryCollection":for(Pe=0;Pe<Ge.geometries.length;Pe++)ze+=tt(Ge.geometries[Pe]);return ze}}function q(Ge){var ze=0;if(Ge&&Ge.length>0){ze+=Math.abs(c(Ge[0]));for(var Pe=1;Pe<Ge.length;Pe++)ze-=Math.abs(c(Ge[Pe]))}return ze}function c(Ge){var ze,Pe,ye,te,je,Ee,He,Qe=0,ot=Ge.length;if(ot>2){for(He=0;He<ot;He++)He===ot-2?(te=ot-2,je=ot-1,Ee=0):He===ot-1?(te=ot-1,je=0,Ee=1):(te=He,je=He+1,Ee=He+2),ze=Ge[te],Pe=Ge[je],ye=Ge[Ee],Qe+=(xe(ye[0])-xe(ze[0]))*Math.sin(xe(Pe[1]));Qe=Qe*s.RADIUS*s.RADIUS/2}return Qe}function xe(Ge){return Ge*Math.PI/180}},74444:function(Hr){Hr.exports=F;var jt={Point:"geometry",MultiPoint:"geometry",LineString:"geometry",MultiLineString:"geometry",Polygon:"geometry",MultiPolygon:"geometry",GeometryCollection:"geometry",Feature:"feature",FeatureCollection:"featurecollection"};function F(s){if(!s||!s.type)return null;var tt=jt[s.type];if(!tt)return null;if(tt==="geometry")return{type:"FeatureCollection",features:[{type:"Feature",properties:{},geometry:s}]};if(tt==="feature")return{type:"FeatureCollection",features:[s]};if(tt==="featurecollection")return s}},2180:function(Hr,jt,F){"use strict";F.d(jt,{Il:function(){return gt},G5:function(){return cr},ZP:function(){return Ii}});var s=F(23022),tt=F(38926),q=F(89692),c=F(75271),xe=F(54153),Ge=F(59295),ze=F(45985),Pe=F(76525),ye=F(56216),te=F(58190),je=F(5147),Ee=F(84432),He=["b"],Qe=["v"],ot=function(it){return Math.round(Number(it||0))},qe=function(it){if(it instanceof Ee.t)return it;if(it&&(0,je.Z)(it)==="object"&&"h"in it&&"b"in it){var Ot=it,Bn=Ot.b,fn=(0,te.Z)(Ot,He);return(0,xe.Z)((0,xe.Z)({},fn),{},{v:Bn})}return typeof it=="string"&&/hsb/.test(it)?it.replace(/hsb/,"hsv"):it},gt=function(pr){(0,Pe.Z)(Ot,pr);var it=(0,ye.Z)(Ot);function Ot(Bn){return(0,Ge.Z)(this,Ot),it.call(this,qe(Bn))}return(0,ze.Z)(Ot,[{key:"toHsbString",value:function(){var fn=this.toHsb(),gn=ot(fn.s*100),Er=ot(fn.b*100),Vn=ot(fn.h),ri=fn.a,fi="hsb(".concat(Vn,", ").concat(gn,"%, ").concat(Er,"%)"),qr="hsba(".concat(Vn,", ").concat(gn,"%, ").concat(Er,"%, ").concat(ri.toFixed(ri===0?0:2),")");return ri===1?fi:qr}},{key:"toHsb",value:function(){var fn=this.toHsv(),gn=fn.v,Er=(0,te.Z)(fn,Qe);return(0,xe.Z)((0,xe.Z)({},Er),{},{b:gn,a:this.a})}}]),Ot}(Ee.t),xt="rc-color-picker",Xe=function(it){return it instanceof gt?it:new gt(it)},Ut=Xe("#1677ff"),yt=function(it){var Ot=it.offset,Bn=it.targetRef,fn=it.containerRef,gn=it.color,Er=it.type,Vn=fn.current.getBoundingClientRect(),ri=Vn.width,fi=Vn.height,qr=Bn.current.getBoundingClientRect(),Jr=qr.width,wr=qr.height,Yn=Jr/2,yr=wr/2,Pr=(Ot.x+Yn)/ri,Ir=1-(Ot.y+yr)/fi,Xr=gn.toHsb(),rr=Pr,gr=(Ot.x+Yn)/ri*360;if(Er)switch(Er){case"hue":return Xe((0,xe.Z)((0,xe.Z)({},Xr),{},{h:gr<=0?0:gr}));case"alpha":return Xe((0,xe.Z)((0,xe.Z)({},Xr),{},{a:rr<=0?0:rr}))}return Xe({h:Xr.h,s:Pr<=0?0:Pr,b:Ir>=1?1:Ir,a:Xr.a})},Pt=function(it,Ot){var Bn=it.toHsb();switch(Ot){case"hue":return{x:Bn.h/360*100,y:50};case"alpha":return{x:it.a*100,y:50};default:return{x:Bn.s*100,y:(1-Bn.b)*100}}},Wt=F(82187),kt=F.n(Wt),Sr=function(it){var Ot=it.color,Bn=it.prefixCls,fn=it.className,gn=it.style,Er=it.onClick,Vn="".concat(Bn,"-color-block");return c.createElement("div",{className:kt()(Vn,fn),style:gn,onClick:Er},c.createElement("div",{className:"".concat(Vn,"-inner"),style:{background:Ot}}))},cr=Sr;function Xn(pr){var it="touches"in pr?pr.touches[0]:pr,Ot=document.documentElement.scrollLeft||document.body.scrollLeft||window.pageXOffset,Bn=document.documentElement.scrollTop||document.body.scrollTop||window.pageYOffset;return{pageX:it.pageX-Ot,pageY:it.pageY-Bn}}function We(pr){var it=pr.targetRef,Ot=pr.containerRef,Bn=pr.direction,fn=pr.onDragChange,gn=pr.onDragChangeComplete,Er=pr.calculate,Vn=pr.color,ri=pr.disabledDrag,fi=(0,c.useState)({x:0,y:0}),qr=(0,q.Z)(fi,2),Jr=qr[0],wr=qr[1],Yn=(0,c.useRef)(null),yr=(0,c.useRef)(null);(0,c.useEffect)(function(){wr(Er())},[Vn]),(0,c.useEffect)(function(){return function(){document.removeEventListener("mousemove",Yn.current),document.removeEventListener("mouseup",yr.current),document.removeEventListener("touchmove",Yn.current),document.removeEventListener("touchend",yr.current),Yn.current=null,yr.current=null}},[]);var Pr=function(ei){var Un=Xn(ei),si=Un.pageX,Si=Un.pageY,Yi=Ot.current.getBoundingClientRect(),xo=Yi.x,Qr=Yi.y,co=Yi.width,tn=Yi.height,Tn=it.current.getBoundingClientRect(),ir=Tn.width,kr=Tn.height,gi=ir/2,li=kr/2,eo=Math.max(0,Math.min(si-xo,co))-gi,io=Math.max(0,Math.min(Si-Qr,tn))-li,Lo={x:eo,y:Bn==="x"?Jr.y:io};if(ir===0&&kr===0||ir!==kr)return!1;fn==null||fn(Lo)},Ir=function(ei){ei.preventDefault(),Pr(ei)},Xr=function(ei){ei.preventDefault(),document.removeEventListener("mousemove",Yn.current),document.removeEventListener("mouseup",yr.current),document.removeEventListener("touchmove",Yn.current),document.removeEventListener("touchend",yr.current),Yn.current=null,yr.current=null,gn==null||gn()},rr=function(ei){document.removeEventListener("mousemove",Yn.current),document.removeEventListener("mouseup",yr.current),!ri&&(Pr(ei),document.addEventListener("mousemove",Ir),document.addEventListener("mouseup",Xr),document.addEventListener("touchmove",Ir),document.addEventListener("touchend",Xr),Yn.current=Ir,yr.current=Xr)};return[Jr,rr]}var Zt=We,cn=F(22217),Kt=function(it){var Ot=it.size,Bn=Ot===void 0?"default":Ot,fn=it.color,gn=it.prefixCls;return c.createElement("div",{className:kt()("".concat(gn,"-handler"),(0,tt.Z)({},"".concat(gn,"-handler-sm"),Bn==="small")),style:{backgroundColor:fn}})},Fe=Kt,Ln=function(it){var Ot=it.children,Bn=it.style,fn=it.prefixCls;return c.createElement("div",{className:"".concat(fn,"-palette"),style:(0,xe.Z)({position:"relative"},Bn)},Ot)},hn=Ln,On=(0,c.forwardRef)(function(pr,it){var Ot=pr.children,Bn=pr.x,fn=pr.y;return c.createElement("div",{ref:it,style:{position:"absolute",left:"".concat(Bn,"%"),top:"".concat(fn,"%"),zIndex:1,transform:"translate(-50%, -50%)"}},Ot)}),ut=On,Yt=function(it){var Ot=it.color,Bn=it.onChange,fn=it.prefixCls,gn=it.onChangeComplete,Er=it.disabled,Vn=(0,c.useRef)(),ri=(0,c.useRef)(),fi=(0,c.useRef)(Ot),qr=(0,cn.zX)(function(Pr){var Ir=yt({offset:Pr,targetRef:ri,containerRef:Vn,color:Ot});fi.current=Ir,Bn(Ir)}),Jr=Zt({color:Ot,containerRef:Vn,targetRef:ri,calculate:function(){return Pt(Ot)},onDragChange:qr,onDragChangeComplete:function(){return gn==null?void 0:gn(fi.current)},disabledDrag:Er}),wr=(0,q.Z)(Jr,2),Yn=wr[0],yr=wr[1];return c.createElement("div",{ref:Vn,className:"".concat(fn,"-select"),onMouseDown:yr,onTouchStart:yr},c.createElement(hn,{prefixCls:fn},c.createElement(ut,{x:Yn.x,y:Yn.y,ref:ri},c.createElement(Fe,{color:Ot.toRgbString(),prefixCls:fn})),c.createElement("div",{className:"".concat(fn,"-saturation"),style:{backgroundColor:"hsl(".concat(Ot.toHsb().h,",100%, 50%)"),backgroundImage:"linear-gradient(0deg, #000, transparent),linear-gradient(90deg, #fff, hsla(0, 0%, 100%, 0))"}})))},bn=Yt,he=function(it,Ot){var Bn=(0,cn.C8)(it,{value:Ot}),fn=(0,q.Z)(Bn,2),gn=fn[0],Er=fn[1],Vn=(0,c.useMemo)(function(){return Xe(gn)},[gn]);return[Vn,Er]},Jt=he,wi=function(it){var Ot=it.colors,Bn=it.children,fn=it.direction,gn=fn===void 0?"to right":fn,Er=it.type,Vn=it.prefixCls,ri=(0,c.useMemo)(function(){return Ot.map(function(fi,qr){var Jr=Xe(fi);return Er==="alpha"&&qr===Ot.length-1&&(Jr=new gt(Jr.setA(1))),Jr.toRgbString()}).join(",")},[Ot,Er]);return c.createElement("div",{className:"".concat(Vn,"-gradient"),style:{position:"absolute",inset:0,background:"linear-gradient(".concat(gn,", ").concat(ri,")")}},Bn)},ai=wi,$e=function(it){var Ot=it.prefixCls,Bn=it.colors,fn=it.disabled,gn=it.onChange,Er=it.onChangeComplete,Vn=it.color,ri=it.type,fi=(0,c.useRef)(),qr=(0,c.useRef)(),Jr=(0,c.useRef)(Vn),wr=function(Un){return ri==="hue"?Un.getHue():Un.a*100},Yn=(0,cn.zX)(function(ei){var Un=yt({offset:ei,targetRef:qr,containerRef:fi,color:Vn,type:ri});Jr.current=Un,gn(wr(Un))}),yr=Zt({color:Vn,targetRef:qr,containerRef:fi,calculate:function(){return Pt(Vn,ri)},onDragChange:Yn,onDragChangeComplete:function(){Er(wr(Jr.current))},direction:"x",disabledDrag:fn}),Pr=(0,q.Z)(yr,2),Ir=Pr[0],Xr=Pr[1],rr=c.useMemo(function(){if(ri==="hue"){var ei=Vn.toHsb();ei.s=1,ei.b=1,ei.a=1;var Un=new gt(ei);return Un}return Vn},[Vn,ri]),gr=c.useMemo(function(){return Bn.map(function(ei){return"".concat(ei.color," ").concat(ei.percent,"%")})},[Bn]);return c.createElement("div",{ref:fi,className:kt()("".concat(Ot,"-slider"),"".concat(Ot,"-slider-").concat(ri)),onMouseDown:Xr,onTouchStart:Xr},c.createElement(hn,{prefixCls:Ot},c.createElement(ut,{x:Ir.x,y:Ir.y,ref:qr},c.createElement(Fe,{size:"small",color:rr.toHexString(),prefixCls:Ot})),c.createElement(ai,{colors:gr,type:ri,prefixCls:Ot})))},An=$e;function Ur(pr){return c.useMemo(function(){var it=pr||{},Ot=it.slider;return[Ot||An]},[pr])}var Kr=[{color:"rgb(255, 0, 0)",percent:0},{color:"rgb(255, 255, 0)",percent:17},{color:"rgb(0, 255, 0)",percent:33},{color:"rgb(0, 255, 255)",percent:50},{color:"rgb(0, 0, 255)",percent:67},{color:"rgb(255, 0, 255)",percent:83},{color:"rgb(255, 0, 0)",percent:100}],Rn=(0,c.forwardRef)(function(pr,it){var Ot=pr.value,Bn=pr.defaultValue,fn=pr.prefixCls,gn=fn===void 0?xt:fn,Er=pr.onChange,Vn=pr.onChangeComplete,ri=pr.className,fi=pr.style,qr=pr.panelRender,Jr=pr.disabledAlpha,wr=Jr===void 0?!1:Jr,Yn=pr.disabled,yr=Yn===void 0?!1:Yn,Pr=pr.components,Ir=Ur(Pr),Xr=(0,q.Z)(Ir,1),rr=Xr[0],gr=Jt(Bn||Ut,Ot),ei=(0,q.Z)(gr,2),Un=ei[0],si=ei[1],Si=(0,c.useMemo)(function(){return Un.setA(1).toRgbString()},[Un]),Yi=function(io,Lo){Ot||si(io),Er==null||Er(io,Lo)},xo=function(io){return new gt(Un.setHue(io))},Qr=function(io){return new gt(Un.setA(io/100))},co=function(io){Yi(xo(io),{type:"hue",value:io})},tn=function(io){Yi(Qr(io),{type:"alpha",value:io})},Tn=function(io){Vn&&Vn(xo(io))},ir=function(io){Vn&&Vn(Qr(io))},kr=kt()("".concat(gn,"-panel"),ri,(0,tt.Z)({},"".concat(gn,"-panel-disabled"),yr)),gi={prefixCls:gn,disabled:yr,color:Un},li=c.createElement(c.Fragment,null,c.createElement(bn,(0,s.Z)({onChange:Yi},gi,{onChangeComplete:Vn})),c.createElement("div",{className:"".concat(gn,"-slider-container")},c.createElement("div",{className:kt()("".concat(gn,"-slider-group"),(0,tt.Z)({},"".concat(gn,"-slider-group-disabled-alpha"),wr))},c.createElement(rr,(0,s.Z)({},gi,{type:"hue",colors:Kr,min:0,max:359,value:Un.getHue(),onChange:co,onChangeComplete:Tn})),!wr&&c.createElement(rr,(0,s.Z)({},gi,{type:"alpha",colors:[{percent:0,color:"rgba(255, 0, 4, 0)"},{percent:100,color:Si}],min:0,max:100,value:Un.a*100,onChange:tn,onChangeComplete:ir}))),c.createElement(cr,{color:Un.toRgbString(),prefixCls:gn})));return c.createElement("div",{className:kr,style:fi,ref:it},typeof qr=="function"?qr(li):li)}),Wr=Rn,Ii=Wr},94889:function(){"use strict"},58596:function(){"use strict"},78018:function(Hr,jt,F){"use strict";var s=F(75271),tt=F(60824),q=F(23137);const c=xe=>{const{space:Ge,form:ze,children:Pe}=xe;if(Pe==null)return null;let ye=Pe;return ze&&(ye=s.createElement(tt.Ux,{override:!0,status:!0},ye)),Ge&&(ye=s.createElement(q.BR,null,ye)),ye};jt.Z=c},52445:function(Hr,jt,F){"use strict";F.d(jt,{i:function(){return xe}});var s=F(75271),tt=F(93954),q=F(62639),c=F(98446);function xe(ze){return Pe=>s.createElement(q.ZP,{theme:{token:{motion:!1,zIndexPopupBase:0}}},s.createElement(ze,Object.assign({},Pe)))}const Ge=(ze,Pe,ye,te,je)=>xe(He=>{const{prefixCls:Qe,style:ot}=He,qe=s.useRef(null),[gt,xt]=s.useState(0),[Xe,Ut]=s.useState(0),[yt,Pt]=(0,tt.Z)(!1,{value:He.open}),{getPrefixCls:Wt}=s.useContext(c.E_),kt=Wt(te||"select",Qe);s.useEffect(()=>{if(Pt(!0),typeof ResizeObserver!="undefined"){const Xn=new ResizeObserver(Zt=>{const cn=Zt[0].target;xt(cn.offsetHeight+8),Ut(cn.offsetWidth)}),We=setInterval(()=>{var Zt;const cn=je?`.${je(kt)}`:`.${kt}-dropdown`,Kt=(Zt=qe.current)===null||Zt===void 0?void 0:Zt.querySelector(cn);Kt&&(clearInterval(We),Xn.observe(Kt))},10);return()=>{clearInterval(We),Xn.disconnect()}}},[]);let Sr=Object.assign(Object.assign({},He),{style:Object.assign(Object.assign({},ot),{margin:0}),open:yt,visible:yt,getPopupContainer:()=>qe.current});ye&&(Sr=ye(Sr)),Pe&&Object.assign(Sr,{[Pe]:{overflow:{adjustX:!1,adjustY:!1}}});const cr={paddingBottom:gt,position:"relative",minWidth:Xe};return s.createElement("div",{ref:qe,style:cr},s.createElement(ze,Object.assign({},Sr)))});jt.Z=Ge},53835:function(Hr,jt,F){"use strict";F.d(jt,{o2:function(){return xe},yT:function(){return Ge}});var s=F(46865),tt=F(98990);const q=tt.i.map(ze=>`${ze}-inverse`),c=["success","processing","error","default","warning"];function xe(ze){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0)?[].concat((0,s.Z)(q),(0,s.Z)(tt.i)).includes(ze):tt.i.includes(ze)}function Ge(ze){return c.includes(ze)}},93473:function(Hr,jt,F){"use strict";var s=F(75271),tt=F(75434);const q=c=>{let xe;return typeof c=="object"&&(c!=null&&c.clearIcon)?xe=c:c&&(xe={clearIcon:s.createElement(tt.Z,null)}),xe};jt.Z=q},17522:function(Hr,jt,F){"use strict";F.d(jt,{Z:function(){return s}});const s=tt=>tt?typeof tt=="function"?tt():tt:null},85990:function(Hr,jt,F){"use strict";F.d(jt,{Z:function(){return tt}});var s=F(75271);function tt(){const[,q]=s.useReducer(c=>c+1,0);return q}},19952:function(Hr,jt,F){"use strict";F.d(jt,{Cn:function(){return je},u6:function(){return Ge}});var s=F(75271),tt=F(67699),q=F(61803);const c=100,Ge=c*10,ze=Ge+c,Pe={Modal:c,Drawer:c,Popover:c,Popconfirm:c,Tooltip:c,Tour:c,FloatButton:c},ye={SelectLike:50,Dropdown:50,DatePicker:50,Menu:50,ImagePreview:1};function te(Ee){return Ee in Pe}const je=(Ee,He)=>{const[,Qe]=(0,tt.ZP)(),ot=s.useContext(q.Z),qe=te(Ee);let gt;if(He!==void 0)gt=[He,He];else{let xt=ot!=null?ot:0;qe?xt+=(ot?0:Qe.zIndexPopupBase)+Pe[Ee]:xt+=ye[Ee],gt=[ot===void 0?He:xt,xt]}return gt}},13635:function(Hr,jt,F){"use strict";F.d(jt,{m:function(){return Pe}});var s=F(98446);const tt=()=>({height:0,opacity:0}),q=ye=>{const{scrollHeight:te}=ye;return{height:te,opacity:1}},c=ye=>({height:ye?ye.offsetHeight:0}),xe=(ye,te)=>(te==null?void 0:te.deadline)===!0||te.propertyName==="height",Ge=function(){return{motionName:`${arguments.length>0&&arguments[0]!==void 0?arguments[0]:s.Rf}-motion-collapse`,onAppearStart:tt,onEnterStart:tt,onAppearActive:q,onEnterActive:q,onLeaveStart:c,onLeaveActive:tt,onAppearEnd:xe,onEnterEnd:xe,onLeaveEnd:xe,motionDeadline:500}},ze=null,Pe=(ye,te,je)=>je!==void 0?je:`${ye}-${te}`;jt.Z=Ge},5416:function(Hr,jt,F){"use strict";F.d(jt,{Z:function(){return Ge}});var s=F(18533);function tt(ze,Pe,ye,te){if(te===!1)return{adjustX:!1,adjustY:!1};const je=te&&typeof te=="object"?te:{},Ee={};switch(ze){case"top":case"bottom":Ee.shiftX=Pe.arrowOffsetHorizontal*2+ye,Ee.shiftY=!0,Ee.adjustY=!0;break;case"left":case"right":Ee.shiftY=Pe.arrowOffsetVertical*2+ye,Ee.shiftX=!0,Ee.adjustX=!0;break}const He=Object.assign(Object.assign({},Ee),je);return He.shiftX||(He.adjustX=!0),He.shiftY||(He.adjustY=!0),He}const q={left:{points:["cr","cl"]},right:{points:["cl","cr"]},top:{points:["bc","tc"]},bottom:{points:["tc","bc"]},topLeft:{points:["bl","tl"]},leftTop:{points:["tr","tl"]},topRight:{points:["br","tr"]},rightTop:{points:["tl","tr"]},bottomRight:{points:["tr","br"]},rightBottom:{points:["bl","br"]},bottomLeft:{points:["tl","bl"]},leftBottom:{points:["br","bl"]}},c={topLeft:{points:["bl","tc"]},leftTop:{points:["tr","cl"]},topRight:{points:["br","tc"]},rightTop:{points:["tl","cr"]},bottomRight:{points:["tr","bc"]},rightBottom:{points:["bl","cr"]},bottomLeft:{points:["tl","bc"]},leftBottom:{points:["br","cl"]}},xe=new Set(["topLeft","topRight","bottomLeft","bottomRight","leftTop","leftBottom","rightTop","rightBottom"]);function Ge(ze){const{arrowWidth:Pe,autoAdjustOverflow:ye,arrowPointAtCenter:te,offset:je,borderRadius:Ee,visibleFirst:He}=ze,Qe=Pe/2,ot={};return Object.keys(q).forEach(qe=>{const gt=te&&c[qe]||q[qe],xt=Object.assign(Object.assign({},gt),{offset:[0,0],dynamicInset:!0});switch(ot[qe]=xt,xe.has(qe)&&(xt.autoArrow=!1),qe){case"top":case"topLeft":case"topRight":xt.offset[1]=-Qe-je;break;case"bottom":case"bottomLeft":case"bottomRight":xt.offset[1]=Qe+je;break;case"left":case"leftTop":case"leftBottom":xt.offset[0]=-Qe-je;break;case"right":case"rightTop":case"rightBottom":xt.offset[0]=Qe+je;break}const Xe=(0,s.wZ)({contentRadius:Ee,limitVerticalRadius:!0});if(te)switch(qe){case"topLeft":case"bottomLeft":xt.offset[0]=-Xe.arrowOffsetHorizontal-Qe;break;case"topRight":case"bottomRight":xt.offset[0]=Xe.arrowOffsetHorizontal+Qe;break;case"leftTop":case"rightTop":xt.offset[1]=-Xe.arrowOffsetHorizontal*2+Qe;break;case"leftBottom":case"rightBottom":xt.offset[1]=Xe.arrowOffsetHorizontal*2-Qe;break}xt.overflow=tt(qe,Xe,Pe,ye),He&&(xt.htmlRegion="visibleFirst")}),ot}},26021:function(Hr,jt,F){"use strict";F.d(jt,{M2:function(){return tt},Tm:function(){return c},wm:function(){return q}});var s=F(75271);function tt(xe){return xe&&s.isValidElement(xe)&&xe.type===s.Fragment}const q=(xe,Ge,ze)=>s.isValidElement(xe)?s.cloneElement(xe,typeof ze=="function"?ze(xe.props||{}):ze):Ge;function c(xe,Ge){return q(xe,xe,Ge)}},96777:function(Hr,jt,F){"use strict";F.d(jt,{ZP:function(){return Ge},c4:function(){return q},m9:function(){return ze}});var s=F(75271),tt=F(67699);const q=["xxl","xl","lg","md","sm","xs"],c=Pe=>({xs:`(max-width: ${Pe.screenXSMax}px)`,sm:`(min-width: ${Pe.screenSM}px)`,md:`(min-width: ${Pe.screenMD}px)`,lg:`(min-width: ${Pe.screenLG}px)`,xl:`(min-width: ${Pe.screenXL}px)`,xxl:`(min-width: ${Pe.screenXXL}px)`}),xe=Pe=>{const ye=Pe,te=[].concat(q).reverse();return te.forEach((je,Ee)=>{const He=je.toUpperCase(),Qe=`screen${He}Min`,ot=`screen${He}`;if(!(ye[Qe]<=ye[ot]))throw new Error(`${Qe}<=${ot} fails : !(${ye[Qe]}<=${ye[ot]})`);if(Ee<te.length-1){const qe=`screen${He}Max`;if(!(ye[ot]<=ye[qe]))throw new Error(`${ot}<=${qe} fails : !(${ye[ot]}<=${ye[qe]})`);const xt=`screen${te[Ee+1].toUpperCase()}Min`;if(!(ye[qe]<=ye[xt]))throw new Error(`${qe}<=${xt} fails : !(${ye[qe]}<=${ye[xt]})`)}}),Pe};function Ge(){const[,Pe]=(0,tt.ZP)(),ye=c(xe(Pe));return s.useMemo(()=>{const te=new Map;let je=-1,Ee={};return{matchHandlers:{},dispatch(He){return Ee=He,te.forEach(Qe=>Qe(Ee)),te.size>=1},subscribe(He){return te.size||this.register(),je+=1,te.set(je,He),He(Ee),je},unsubscribe(He){te.delete(He),te.size||this.unregister()},unregister(){Object.keys(ye).forEach(He=>{const Qe=ye[He],ot=this.matchHandlers[Qe];ot==null||ot.mql.removeListener(ot==null?void 0:ot.listener)}),te.clear()},register(){Object.keys(ye).forEach(He=>{const Qe=ye[He],ot=gt=>{let{matches:xt}=gt;this.dispatch(Object.assign(Object.assign({},Ee),{[He]:xt}))},qe=window.matchMedia(Qe);qe.addListener(ot),this.matchHandlers[Qe]={mql:qe,listener:ot},ot(qe)})},responsiveMap:ye}},[Pe])}const ze=(Pe,ye)=>{if(ye&&typeof ye=="object")for(let te=0;te<q.length;te++){const je=q[te];if(Pe[je]&&ye[je]!==void 0)return ye[je]}}},94773:function(Hr,jt,F){"use strict";F.d(jt,{F:function(){return xe},Z:function(){return c}});var s=F(82187),tt=F.n(s);const q=null;function c(Ge,ze,Pe){return tt()({[`${Ge}-status-success`]:ze==="success",[`${Ge}-status-warning`]:ze==="warning",[`${Ge}-status-error`]:ze==="error",[`${Ge}-status-validating`]:ze==="validating",[`${Ge}-has-feedback`]:Pe})}const xe=(Ge,ze)=>ze||Ge},87117:function(Hr,jt,F){"use strict";F.d(jt,{G8:function(){return ze},ln:function(){return Pe}});var s=F(75271),tt=F(4449);function q(){}let c=null;function xe(){c=null,rcResetWarned()}let Ge=null;const ze=s.createContext({}),Pe=()=>{const te=()=>{};return te.deprecated=q,te};var ye=null},54070:function(Hr,jt,F){"use strict";F.d(jt,{Z:function(){return cr}});var s=F(75271),tt=F(82187),q=F.n(tt),c=F(60900),xe=F(42684),Ge=F(98446),ze=F(26021),Pe=F(84825);const ye=Xn=>{const{componentCls:We,colorPrimary:Zt}=Xn;return{[We]:{position:"absolute",background:"transparent",pointerEvents:"none",boxSizing:"border-box",color:`var(--wave-color, ${Zt})`,boxShadow:"0 0 0 0 currentcolor",opacity:.2,"&.wave-motion-appear":{transition:[`box-shadow 0.4s ${Xn.motionEaseOutCirc}`,`opacity 2s ${Xn.motionEaseOutCirc}`].join(","),"&-active":{boxShadow:"0 0 0 6px currentcolor",opacity:0},"&.wave-quick":{transition:[`box-shadow ${Xn.motionDurationSlow} ${Xn.motionEaseInOut}`,`opacity ${Xn.motionDurationSlow} ${Xn.motionEaseInOut}`].join(",")}}}}};var te=(0,Pe.A1)("Wave",Xn=>[ye(Xn)]),je=F(59373),Ee=F(49975),He=F(67699),Qe=F(5276),ot=F(62803),qe=F(92703);function gt(Xn){return Xn&&Xn!=="#fff"&&Xn!=="#ffffff"&&Xn!=="rgb(255, 255, 255)"&&Xn!=="rgba(255, 255, 255, 1)"&&!/rgba\((?:\d*, ){3}0\)/.test(Xn)&&Xn!=="transparent"}function xt(Xn){const{borderTopColor:We,borderColor:Zt,backgroundColor:cn}=getComputedStyle(Xn);return gt(We)?We:gt(Zt)?Zt:gt(cn)?cn:null}function Xe(Xn){return Number.isNaN(Xn)?0:Xn}const Ut=Xn=>{const{className:We,target:Zt,component:cn,registerUnmount:Kt}=Xn,Fe=s.useRef(null),Ln=s.useRef(null);s.useEffect(()=>{Ln.current=Kt()},[]);const[hn,On]=s.useState(null),[ut,Yt]=s.useState([]),[bn,he]=s.useState(0),[Jt,wi]=s.useState(0),[ai,$e]=s.useState(0),[An,Ur]=s.useState(0),[Kr,Rn]=s.useState(!1),Wr={left:bn,top:Jt,width:ai,height:An,borderRadius:ut.map(it=>`${it}px`).join(" ")};hn&&(Wr["--wave-color"]=hn);function Ii(){const it=getComputedStyle(Zt);On(xt(Zt));const Ot=it.position==="static",{borderLeftWidth:Bn,borderTopWidth:fn}=it;he(Ot?Zt.offsetLeft:Xe(-parseFloat(Bn))),wi(Ot?Zt.offsetTop:Xe(-parseFloat(fn))),$e(Zt.offsetWidth),Ur(Zt.offsetHeight);const{borderTopLeftRadius:gn,borderTopRightRadius:Er,borderBottomLeftRadius:Vn,borderBottomRightRadius:ri}=it;Yt([gn,Er,ri,Vn].map(fi=>Xe(parseFloat(fi))))}if(s.useEffect(()=>{if(Zt){const it=(0,Ee.Z)(()=>{Ii(),Rn(!0)});let Ot;return typeof ResizeObserver!="undefined"&&(Ot=new ResizeObserver(Ii),Ot.observe(Zt)),()=>{Ee.Z.cancel(it),Ot==null||Ot.disconnect()}}},[]),!Kr)return null;const pr=(cn==="Checkbox"||cn==="Radio")&&(Zt==null?void 0:Zt.classList.contains(Qe.A));return s.createElement(ot.ZP,{visible:!0,motionAppear:!0,motionName:"wave-motion",motionDeadline:5e3,onAppearEnd:(it,Ot)=>{var Bn,fn;if(Ot.deadline||Ot.propertyName==="opacity"){const gn=(Bn=Fe.current)===null||Bn===void 0?void 0:Bn.parentElement;(fn=Ln.current)===null||fn===void 0||fn.call(Ln).then(()=>{gn==null||gn.remove()})}return!1}},(it,Ot)=>{let{className:Bn}=it;return s.createElement("div",{ref:(0,xe.sQ)(Fe,Ot),className:q()(We,Bn,{"wave-quick":pr}),style:Wr})})};var Pt=(Xn,We)=>{var Zt;const{component:cn}=We;if(cn==="Checkbox"&&!(!((Zt=Xn.querySelector("input"))===null||Zt===void 0)&&Zt.checked))return;const Kt=document.createElement("div");Kt.style.position="absolute",Kt.style.left="0px",Kt.style.top="0px",Xn==null||Xn.insertBefore(Kt,Xn==null?void 0:Xn.firstChild);const Fe=(0,qe.x)();let Ln=null;function hn(){return Ln}Ln=Fe(s.createElement(Ut,Object.assign({},We,{target:Xn,registerUnmount:hn})),Kt)},kt=(Xn,We,Zt)=>{const{wave:cn}=s.useContext(Ge.E_),[,Kt,Fe]=(0,He.ZP)(),Ln=(0,je.Z)(ut=>{const Yt=Xn.current;if(cn!=null&&cn.disabled||!Yt)return;const bn=Yt.querySelector(`.${Qe.A}`)||Yt,{showEffect:he}=cn||{};(he||Pt)(bn,{className:We,token:Kt,component:Zt,event:ut,hashId:Fe})}),hn=s.useRef(null);return ut=>{Ee.Z.cancel(hn.current),hn.current=(0,Ee.Z)(()=>{Ln(ut)})}},cr=Xn=>{const{children:We,disabled:Zt,component:cn}=Xn,{getPrefixCls:Kt}=(0,s.useContext)(Ge.E_),Fe=(0,s.useRef)(null),Ln=Kt("wave"),[,hn]=te(Ln),On=kt(Fe,q()(Ln,hn),cn);if(s.useEffect(()=>{const Yt=Fe.current;if(!Yt||Yt.nodeType!==1||Zt)return;const bn=he=>{!(0,c.Z)(he.target)||!Yt.getAttribute||Yt.getAttribute("disabled")||Yt.disabled||Yt.className.includes("disabled")||Yt.className.includes("-leave")||On(he)};return Yt.addEventListener("click",bn,!0),()=>{Yt.removeEventListener("click",bn,!0)}},[Zt]),!s.isValidElement(We))return We!=null?We:null;const ut=(0,xe.Yr)(We)?(0,xe.sQ)((0,xe.C4)(We),Fe):Fe;return(0,ze.Tm)(We,{ref:ut})}},5276:function(Hr,jt,F){"use strict";F.d(jt,{A:function(){return tt}});var s=F(98446);const tt=`${s.Rf}-wave-target`},61803:function(Hr,jt,F){"use strict";var s=F(75271);const tt=s.createContext(void 0);jt.Z=tt},40859:function(Hr,jt,F){"use strict";var s=F(58492);jt.Z=s.Z},59527:function(Hr,jt,F){"use strict";F.d(jt,{Z:function(){return q}});var s=F(75271),tt=F(49975);function q(c){const xe=s.useRef(null),Ge=()=>{tt.Z.cancel(xe.current),xe.current=null};return[()=>{Ge(),xe.current=(0,tt.Z)(()=>{xe.current=null})},ye=>{xe.current&&(ye.stopPropagation(),Ge()),c==null||c(ye)}]}},62023:function(Hr,jt,F){"use strict";F.d(jt,{Z:function(){return Bn}});var s=F(75271),tt=F(27806),q=F(82187),c=F.n(q),xe=F(23022),Ge=F(46865),ze=F(89692),Pe=F(5147),ye=F(93954),te=F(4449),je=F(58190),Ee=F(81626),He=F(54153),Qe=F(38926),ot=F(62803),qe=F(14583),gt=s.forwardRef(function(fn,gn){var Er=fn.prefixCls,Vn=fn.forceRender,ri=fn.className,fi=fn.style,qr=fn.children,Jr=fn.isActive,wr=fn.role,Yn=fn.classNames,yr=fn.styles,Pr=s.useState(Jr||Vn),Ir=(0,ze.Z)(Pr,2),Xr=Ir[0],rr=Ir[1];return s.useEffect(function(){(Vn||Jr)&&rr(!0)},[Vn,Jr]),Xr?s.createElement("div",{ref:gn,className:c()("".concat(Er,"-content"),(0,Qe.Z)((0,Qe.Z)({},"".concat(Er,"-content-active"),Jr),"".concat(Er,"-content-inactive"),!Jr),ri),style:fi,role:wr},s.createElement("div",{className:c()("".concat(Er,"-content-box"),Yn==null?void 0:Yn.body),style:yr==null?void 0:yr.body},qr)):null});gt.displayName="PanelContent";var xt=gt,Xe=["showArrow","headerClass","isActive","onItemClick","forceRender","className","classNames","styles","prefixCls","collapsible","accordion","panelKey","extra","header","expandIcon","openMotion","destroyInactivePanel","children"],Ut=s.forwardRef(function(fn,gn){var Er=fn.showArrow,Vn=Er===void 0?!0:Er,ri=fn.headerClass,fi=fn.isActive,qr=fn.onItemClick,Jr=fn.forceRender,wr=fn.className,Yn=fn.classNames,yr=Yn===void 0?{}:Yn,Pr=fn.styles,Ir=Pr===void 0?{}:Pr,Xr=fn.prefixCls,rr=fn.collapsible,gr=fn.accordion,ei=fn.panelKey,Un=fn.extra,si=fn.header,Si=fn.expandIcon,Yi=fn.openMotion,xo=fn.destroyInactivePanel,Qr=fn.children,co=(0,je.Z)(fn,Xe),tn=rr==="disabled",Tn=Un!=null&&typeof Un!="boolean",ir=(0,Qe.Z)((0,Qe.Z)((0,Qe.Z)({onClick:function(){qr==null||qr(ei)},onKeyDown:function(Co){(Co.key==="Enter"||Co.keyCode===qe.Z.ENTER||Co.which===qe.Z.ENTER)&&(qr==null||qr(ei))},role:gr?"tab":"button"},"aria-expanded",fi),"aria-disabled",tn),"tabIndex",tn?-1:0),kr=typeof Si=="function"?Si(fn):s.createElement("i",{className:"arrow"}),gi=kr&&s.createElement("div",(0,xe.Z)({className:"".concat(Xr,"-expand-icon")},["header","icon"].includes(rr)?ir:{}),kr),li=c()("".concat(Xr,"-item"),(0,Qe.Z)((0,Qe.Z)({},"".concat(Xr,"-item-active"),fi),"".concat(Xr,"-item-disabled"),tn),wr),eo=c()(ri,"".concat(Xr,"-header"),(0,Qe.Z)({},"".concat(Xr,"-collapsible-").concat(rr),!!rr),yr.header),io=(0,He.Z)({className:eo,style:Ir.header},["header","icon"].includes(rr)?{}:ir);return s.createElement("div",(0,xe.Z)({},co,{ref:gn,className:li}),s.createElement("div",io,Vn&&gi,s.createElement("span",(0,xe.Z)({className:"".concat(Xr,"-header-text")},rr==="header"?ir:{}),si),Tn&&s.createElement("div",{className:"".concat(Xr,"-extra")},Un)),s.createElement(ot.ZP,(0,xe.Z)({visible:fi,leavedClassName:"".concat(Xr,"-content-hidden")},Yi,{forceRender:Jr,removeOnLeave:xo}),function(Lo,Co){var uo=Lo.className,Re=Lo.style;return s.createElement(xt,{ref:Co,prefixCls:Xr,className:uo,classNames:yr,style:Re,styles:Ir,isActive:fi,forceRender:Jr,role:gr?"tabpanel":void 0},Qr)}))}),yt=Ut,Pt=["children","label","key","collapsible","onItemClick","destroyInactivePanel"],Wt=function(gn,Er){var Vn=Er.prefixCls,ri=Er.accordion,fi=Er.collapsible,qr=Er.destroyInactivePanel,Jr=Er.onItemClick,wr=Er.activeKey,Yn=Er.openMotion,yr=Er.expandIcon;return gn.map(function(Pr,Ir){var Xr=Pr.children,rr=Pr.label,gr=Pr.key,ei=Pr.collapsible,Un=Pr.onItemClick,si=Pr.destroyInactivePanel,Si=(0,je.Z)(Pr,Pt),Yi=String(gr!=null?gr:Ir),xo=ei!=null?ei:fi,Qr=si!=null?si:qr,co=function(ir){xo!=="disabled"&&(Jr(ir),Un==null||Un(ir))},tn=!1;return ri?tn=wr[0]===Yi:tn=wr.indexOf(Yi)>-1,s.createElement(yt,(0,xe.Z)({},Si,{prefixCls:Vn,key:Yi,panelKey:Yi,isActive:tn,accordion:ri,openMotion:Yn,expandIcon:yr,header:rr,collapsible:xo,onItemClick:co,destroyInactivePanel:Qr}),Xr)})},kt=function(gn,Er,Vn){if(!gn)return null;var ri=Vn.prefixCls,fi=Vn.accordion,qr=Vn.collapsible,Jr=Vn.destroyInactivePanel,wr=Vn.onItemClick,Yn=Vn.activeKey,yr=Vn.openMotion,Pr=Vn.expandIcon,Ir=gn.key||String(Er),Xr=gn.props,rr=Xr.header,gr=Xr.headerClass,ei=Xr.destroyInactivePanel,Un=Xr.collapsible,si=Xr.onItemClick,Si=!1;fi?Si=Yn[0]===Ir:Si=Yn.indexOf(Ir)>-1;var Yi=Un!=null?Un:qr,xo=function(tn){Yi!=="disabled"&&(wr(tn),si==null||si(tn))},Qr={key:Ir,panelKey:Ir,header:rr,headerClass:gr,isActive:Si,prefixCls:ri,destroyInactivePanel:ei!=null?ei:Jr,openMotion:yr,accordion:fi,children:gn.props.children,onItemClick:xo,expandIcon:Pr,collapsible:Yi};return typeof gn.type=="string"?gn:(Object.keys(Qr).forEach(function(co){typeof Qr[co]=="undefined"&&delete Qr[co]}),s.cloneElement(gn,Qr))};function Sr(fn,gn,Er){return Array.isArray(fn)?Wt(fn,Er):(0,Ee.Z)(gn).map(function(Vn,ri){return kt(Vn,ri,Er)})}var cr=Sr,Xn=F(71305);function We(fn){var gn=fn;if(!Array.isArray(gn)){var Er=(0,Pe.Z)(gn);gn=Er==="number"||Er==="string"?[gn]:[]}return gn.map(function(Vn){return String(Vn)})}var Zt=s.forwardRef(function(fn,gn){var Er=fn.prefixCls,Vn=Er===void 0?"rc-collapse":Er,ri=fn.destroyInactivePanel,fi=ri===void 0?!1:ri,qr=fn.style,Jr=fn.accordion,wr=fn.className,Yn=fn.children,yr=fn.collapsible,Pr=fn.openMotion,Ir=fn.expandIcon,Xr=fn.activeKey,rr=fn.defaultActiveKey,gr=fn.onChange,ei=fn.items,Un=c()(Vn,wr),si=(0,ye.Z)([],{value:Xr,onChange:function(Tn){return gr==null?void 0:gr(Tn)},defaultValue:rr,postState:We}),Si=(0,ze.Z)(si,2),Yi=Si[0],xo=Si[1],Qr=function(Tn){return xo(function(){if(Jr)return Yi[0]===Tn?[]:[Tn];var ir=Yi.indexOf(Tn),kr=ir>-1;return kr?Yi.filter(function(gi){return gi!==Tn}):[].concat((0,Ge.Z)(Yi),[Tn])})};(0,te.ZP)(!Yn,"[rc-collapse] `children` will be removed in next major version. Please use `items` instead.");var co=cr(ei,Yn,{prefixCls:Vn,accordion:Jr,openMotion:Pr,expandIcon:Ir,collapsible:yr,destroyInactivePanel:fi,onItemClick:Qr,activeKey:Yi});return s.createElement("div",(0,xe.Z)({ref:gn,className:Un,style:qr,role:Jr?"tablist":void 0},(0,Xn.Z)(fn,{aria:!0,data:!0})),co)}),cn=Object.assign(Zt,{Panel:yt}),Kt=cn,Fe=cn.Panel,Ln=F(18051),hn=F(13635),On=F(26021),ut=F(98446),Yt=F(95741),he=s.forwardRef((fn,gn)=>{const{getPrefixCls:Er}=s.useContext(ut.E_),{prefixCls:Vn,className:ri,showArrow:fi=!0}=fn,qr=Er("collapse",Vn),Jr=c()({[`${qr}-no-arrow`]:!fi},ri);return s.createElement(Kt.Panel,Object.assign({ref:gn},fn,{prefixCls:qr,className:Jr}))}),Jt=F(55921),wi=F(34299),ai=F(40894),$e=F(84825),An=F(83509);const Ur=fn=>{const{componentCls:gn,contentBg:Er,padding:Vn,headerBg:ri,headerPadding:fi,collapseHeaderPaddingSM:qr,collapseHeaderPaddingLG:Jr,collapsePanelBorderRadius:wr,lineWidth:Yn,lineType:yr,colorBorder:Pr,colorText:Ir,colorTextHeading:Xr,colorTextDisabled:rr,fontSizeLG:gr,lineHeight:ei,lineHeightLG:Un,marginSM:si,paddingSM:Si,paddingLG:Yi,paddingXS:xo,motionDurationSlow:Qr,fontSizeIcon:co,contentPadding:tn,fontHeight:Tn,fontHeightLG:ir}=fn,kr=`${(0,Jt.bf)(Yn)} ${yr} ${Pr}`;return{[gn]:Object.assign(Object.assign({},(0,wi.Wf)(fn)),{backgroundColor:ri,border:kr,borderRadius:wr,"&-rtl":{direction:"rtl"},[`& > ${gn}-item`]:{borderBottom:kr,"&:first-child":{[`
            &,
            & > ${gn}-header`]:{borderRadius:`${(0,Jt.bf)(wr)} ${(0,Jt.bf)(wr)} 0 0`}},"&:last-child":{[`
            &,
            & > ${gn}-header`]:{borderRadius:`0 0 ${(0,Jt.bf)(wr)} ${(0,Jt.bf)(wr)}`}},[`> ${gn}-header`]:Object.assign(Object.assign({position:"relative",display:"flex",flexWrap:"nowrap",alignItems:"flex-start",padding:fi,color:Xr,lineHeight:ei,cursor:"pointer",transition:`all ${Qr}, visibility 0s`},(0,wi.Qy)(fn)),{[`> ${gn}-header-text`]:{flex:"auto"},[`${gn}-expand-icon`]:{height:Tn,display:"flex",alignItems:"center",paddingInlineEnd:si},[`${gn}-arrow`]:Object.assign(Object.assign({},(0,wi.Ro)()),{fontSize:co,transition:`transform ${Qr}`,svg:{transition:`transform ${Qr}`}}),[`${gn}-header-text`]:{marginInlineEnd:"auto"}}),[`${gn}-collapsible-header`]:{cursor:"default",[`${gn}-header-text`]:{flex:"none",cursor:"pointer"}},[`${gn}-collapsible-icon`]:{cursor:"unset",[`${gn}-expand-icon`]:{cursor:"pointer"}}},[`${gn}-content`]:{color:Ir,backgroundColor:Er,borderTop:kr,[`& > ${gn}-content-box`]:{padding:tn},"&-hidden":{display:"none"}},"&-small":{[`> ${gn}-item`]:{[`> ${gn}-header`]:{padding:qr,paddingInlineStart:xo,[`> ${gn}-expand-icon`]:{marginInlineStart:fn.calc(Si).sub(xo).equal()}},[`> ${gn}-content > ${gn}-content-box`]:{padding:Si}}},"&-large":{[`> ${gn}-item`]:{fontSize:gr,lineHeight:Un,[`> ${gn}-header`]:{padding:Jr,paddingInlineStart:Vn,[`> ${gn}-expand-icon`]:{height:ir,marginInlineStart:fn.calc(Yi).sub(Vn).equal()}},[`> ${gn}-content > ${gn}-content-box`]:{padding:Yi}}},[`${gn}-item:last-child`]:{borderBottom:0,[`> ${gn}-content`]:{borderRadius:`0 0 ${(0,Jt.bf)(wr)} ${(0,Jt.bf)(wr)}`}},[`& ${gn}-item-disabled > ${gn}-header`]:{"\n          &,\n          & > .arrow\n        ":{color:rr,cursor:"not-allowed"}},[`&${gn}-icon-position-end`]:{[`& > ${gn}-item`]:{[`> ${gn}-header`]:{[`${gn}-expand-icon`]:{order:1,paddingInlineEnd:0,paddingInlineStart:si}}}}})}},Kr=fn=>{const{componentCls:gn}=fn,Er=`> ${gn}-item > ${gn}-header ${gn}-arrow`;return{[`${gn}-rtl`]:{[Er]:{transform:"rotate(180deg)"}}}},Rn=fn=>{const{componentCls:gn,headerBg:Er,paddingXXS:Vn,colorBorder:ri}=fn;return{[`${gn}-borderless`]:{backgroundColor:Er,border:0,[`> ${gn}-item`]:{borderBottom:`1px solid ${ri}`},[`
        > ${gn}-item:last-child,
        > ${gn}-item:last-child ${gn}-header
      `]:{borderRadius:0},[`> ${gn}-item:last-child`]:{borderBottom:0},[`> ${gn}-item > ${gn}-content`]:{backgroundColor:"transparent",borderTop:0},[`> ${gn}-item > ${gn}-content > ${gn}-content-box`]:{paddingTop:Vn}}}},Wr=fn=>{const{componentCls:gn,paddingSM:Er}=fn;return{[`${gn}-ghost`]:{backgroundColor:"transparent",border:0,[`> ${gn}-item`]:{borderBottom:0,[`> ${gn}-content`]:{backgroundColor:"transparent",border:0,[`> ${gn}-content-box`]:{paddingBlock:Er}}}}}},Ii=fn=>({headerPadding:`${fn.paddingSM}px ${fn.padding}px`,headerBg:fn.colorFillAlter,contentPadding:`${fn.padding}px 16px`,contentBg:fn.colorBgContainer});var pr=(0,$e.I$)("Collapse",fn=>{const gn=(0,An.IX)(fn,{collapseHeaderPaddingSM:`${(0,Jt.bf)(fn.paddingXS)} ${(0,Jt.bf)(fn.paddingSM)}`,collapseHeaderPaddingLG:`${(0,Jt.bf)(fn.padding)} ${(0,Jt.bf)(fn.paddingLG)}`,collapsePanelBorderRadius:fn.borderRadiusLG});return[Ur(gn),Rn(gn),Wr(gn),Kr(gn),(0,ai.Z)(gn)]},Ii),Ot=Object.assign(s.forwardRef((fn,gn)=>{const{getPrefixCls:Er,direction:Vn,expandIcon:ri,className:fi,style:qr}=(0,ut.dj)("collapse"),{prefixCls:Jr,className:wr,rootClassName:Yn,style:yr,bordered:Pr=!0,ghost:Ir,size:Xr,expandIconPosition:rr="start",children:gr,expandIcon:ei}=fn,Un=(0,Yt.Z)(li=>{var eo;return(eo=Xr!=null?Xr:li)!==null&&eo!==void 0?eo:"middle"}),si=Er("collapse",Jr),Si=Er(),[Yi,xo,Qr]=pr(si),co=s.useMemo(()=>rr==="left"?"start":rr==="right"?"end":rr,[rr]),tn=ei!=null?ei:ri,Tn=s.useCallback(function(){let li=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const eo=typeof tn=="function"?tn(li):s.createElement(tt.Z,{rotate:li.isActive?Vn==="rtl"?-90:90:void 0,"aria-label":li.isActive?"expanded":"collapsed"});return(0,On.Tm)(eo,()=>{var io;return{className:c()((io=eo==null?void 0:eo.props)===null||io===void 0?void 0:io.className,`${si}-arrow`)}})},[tn,si]),ir=c()(`${si}-icon-position-${co}`,{[`${si}-borderless`]:!Pr,[`${si}-rtl`]:Vn==="rtl",[`${si}-ghost`]:!!Ir,[`${si}-${Un}`]:Un!=="middle"},fi,wr,Yn,xo,Qr),kr=Object.assign(Object.assign({},(0,hn.Z)(Si)),{motionAppear:!1,leavedClassName:`${si}-content-hidden`}),gi=s.useMemo(()=>gr?(0,Ee.Z)(gr).map((li,eo)=>{var io,Lo;const Co=li.props;if(Co!=null&&Co.disabled){const uo=(io=li.key)!==null&&io!==void 0?io:String(eo),Re=Object.assign(Object.assign({},(0,Ln.Z)(li.props,["disabled"])),{key:uo,collapsible:(Lo=Co.collapsible)!==null&&Lo!==void 0?Lo:"disabled"});return(0,On.Tm)(li,Re)}return li}):null,[gr]);return Yi(s.createElement(Kt,Object.assign({ref:gn,openMotion:kr},(0,Ln.Z)(fn,["rootClassName"]),{expandIcon:Tn,prefixCls:si,className:ir,style:Object.assign(Object.assign({},qr),yr)}),gi))}),{Panel:he}),Bn=Ot},82227:function(Hr,jt,F){"use strict";F.d(jt,{Ot:function(){return c},y9:function(){return Ge}});var s=F(59295),tt=F(45985),q=F(2180);const c=(ze,Pe)=>(ze==null?void 0:ze.replace(/[^\w/]/g,"").slice(0,Pe?8:6))||"",xe=(ze,Pe)=>ze?c(ze,Pe):"";let Ge=function(){function ze(Pe){(0,s.Z)(this,ze);var ye;if(this.cleared=!1,Pe instanceof ze){this.metaColor=Pe.metaColor.clone(),this.colors=(ye=Pe.colors)===null||ye===void 0?void 0:ye.map(je=>({color:new ze(je.color),percent:je.percent})),this.cleared=Pe.cleared;return}const te=Array.isArray(Pe);te&&Pe.length?(this.colors=Pe.map(je=>{let{color:Ee,percent:He}=je;return{color:new ze(Ee),percent:He}}),this.metaColor=new q.Il(this.colors[0].color.metaColor)):this.metaColor=new q.Il(te?"":Pe),(!Pe||te&&!this.colors)&&(this.metaColor=this.metaColor.setA(0),this.cleared=!0)}return(0,tt.Z)(ze,[{key:"toHsb",value:function(){return this.metaColor.toHsb()}},{key:"toHsbString",value:function(){return this.metaColor.toHsbString()}},{key:"toHex",value:function(){return xe(this.toHexString(),this.metaColor.a<1)}},{key:"toHexString",value:function(){return this.metaColor.toHexString()}},{key:"toRgb",value:function(){return this.metaColor.toRgb()}},{key:"toRgbString",value:function(){return this.metaColor.toRgbString()}},{key:"isGradient",value:function(){return!!this.colors&&!this.cleared}},{key:"getColors",value:function(){return this.colors||[{color:this,percent:0}]}},{key:"toCssString",value:function(){const{colors:ye}=this;return ye?`linear-gradient(90deg, ${ye.map(je=>`${je.color.toRgbString()} ${je.percent}%`).join(", ")})`:this.metaColor.toRgbString()}},{key:"equals",value:function(ye){return!ye||this.isGradient()!==ye.isGradient()?!1:this.isGradient()?this.colors.length===ye.colors.length&&this.colors.every((te,je)=>{const Ee=ye.colors[je];return te.percent===Ee.percent&&te.color.equals(Ee.color)}):this.toHexString()===ye.toHexString()}}])}()},29230:function(Hr,jt,F){"use strict";F.d(jt,{U:function(){return je}});var s=F(75271),tt=F(2180),q=F(82187),c=F.n(q),xe=F(93954),Ge=F(62023),ze=F(77648),Pe=F(67699),ye=F(70395);const te=Qe=>Qe.map(ot=>(ot.colors=ot.colors.map(ye.vC),ot)),je=(Qe,ot)=>{const{r:qe,g:gt,b:xt,a:Xe}=Qe.toRgb(),Ut=new tt.Il(Qe.toRgbString()).onBackground(ot).toHsv();return Xe<=.5?Ut.v>.5:qe*.299+gt*.587+xt*.114>192},Ee=(Qe,ot)=>{var qe;return`panel-${(qe=Qe.key)!==null&&qe!==void 0?qe:ot}`},He=Qe=>{let{prefixCls:ot,presets:qe,value:gt,onChange:xt}=Qe;const[Xe]=(0,ze.Z)("ColorPicker"),[,Ut]=(0,Pe.ZP)(),[yt]=(0,xe.Z)(te(qe),{value:te(qe),postState:te}),Pt=`${ot}-presets`,Wt=(0,s.useMemo)(()=>yt.reduce((cr,Xn,We)=>{const{defaultOpen:Zt=!0}=Xn;return Zt&&cr.push(Ee(Xn,We)),cr},[]),[yt]),kt=cr=>{xt==null||xt(cr)},Sr=yt.map((cr,Xn)=>{var We;return{key:Ee(cr,Xn),label:s.createElement("div",{className:`${Pt}-label`},cr==null?void 0:cr.label),children:s.createElement("div",{className:`${Pt}-items`},Array.isArray(cr==null?void 0:cr.colors)&&((We=cr.colors)===null||We===void 0?void 0:We.length)>0?cr.colors.map((Zt,cn)=>s.createElement(tt.G5,{key:`preset-${cn}-${Zt.toHexString()}`,color:(0,ye.vC)(Zt).toRgbString(),prefixCls:ot,className:c()(`${Pt}-color`,{[`${Pt}-color-checked`]:Zt.toHexString()===(gt==null?void 0:gt.toHexString()),[`${Pt}-color-bright`]:je(Zt,Ut.colorBgElevated)}),onClick:()=>kt(Zt)})):s.createElement("span",{className:`${Pt}-empty`},Xe.presetEmpty))}});return s.createElement("div",{className:Pt},s.createElement(Ge.Z,{defaultActiveKey:Wt,ghost:!0,items:Sr}))};jt.Z=He},89874:function(Hr,jt,F){"use strict";F.d(jt,{Z:function(){return vn}});var s=F(75271),tt=F(82187),q=F.n(tt),c=F(93954),xe=F(78018),Ge=F(52445),ze=F(94773),Pe=F(98446),ye=F(98472),te=F(38437),je=F(95741),Ee=F(60824),He=F(60916),Qe=F(23137),ot=F(82227),qe=F(67567),gt=F(46865),xt=F(2180),Xe=F(92076),Ut=F(82162);const yt=s.createContext({}),Pt=s.createContext({});var Wt=F(70395),Sr=Je=>{let{prefixCls:Rt,value:Xt,onChange:nn}=Je;const dt=()=>{if(nn&&Xt&&!Xt.cleared){const lt=Xt.toHsb();lt.a=0;const En=(0,Wt.vC)(lt);En.cleared=!0,nn(En)}};return s.createElement("div",{className:`${Rt}-clear`,onClick:dt})},cr=F(30142);const Xn="hex",We="rgb",Zt="hsb";var cn=F(33839),Fe=Je=>{let{prefixCls:Rt,min:Xt=0,max:nn=100,value:dt,onChange:lt,className:En,formatter:_n}=Je;const Wn=`${Rt}-steppers`,[nr,mr]=(0,s.useState)(dt);return(0,s.useEffect)(()=>{Number.isNaN(dt)||mr(dt)},[dt]),s.createElement(cn.Z,{className:q()(Wn,En),min:Xt,max:nn,value:nr,formatter:_n,size:"small",onChange:Nr=>{dt||mr(Nr||0),lt==null||lt(Nr)}})},hn=Je=>{let{prefixCls:Rt,value:Xt,onChange:nn}=Je;const dt=`${Rt}-alpha-input`,[lt,En]=(0,s.useState)((0,Wt.vC)(Xt||"#000"));(0,s.useEffect)(()=>{Xt&&En(Xt)},[Xt]);const _n=Wn=>{const nr=lt.toHsb();nr.a=(Wn||0)/100;const mr=(0,Wt.vC)(nr);Xt||En(mr),nn==null||nn(mr)};return s.createElement(Fe,{value:(0,Wt.uZ)(lt),prefixCls:Rt,formatter:Wn=>`${Wn}%`,className:dt,onChange:_n})},On=F(58793);const ut=/(^#[\da-f]{6}$)|(^#[\da-f]{8}$)/i,Yt=Je=>ut.test(`#${Je}`);var he=Je=>{let{prefixCls:Rt,value:Xt,onChange:nn}=Je;const dt=`${Rt}-hex-input`,[lt,En]=(0,s.useState)(()=>Xt?(0,ot.Ot)(Xt.toHexString()):void 0);(0,s.useEffect)(()=>{Xt&&En((0,ot.Ot)(Xt.toHexString()))},[Xt]);const _n=Wn=>{const nr=Wn.target.value;En((0,ot.Ot)(nr)),Yt((0,ot.Ot)(nr,!0))&&(nn==null||nn((0,Wt.vC)(nr)))};return s.createElement(On.Z,{className:dt,value:lt,prefix:"#",onChange:_n,size:"small"})},wi=Je=>{let{prefixCls:Rt,value:Xt,onChange:nn}=Je;const dt=`${Rt}-hsb-input`,[lt,En]=(0,s.useState)((0,Wt.vC)(Xt||"#000"));(0,s.useEffect)(()=>{Xt&&En(Xt)},[Xt]);const _n=(Wn,nr)=>{const mr=lt.toHsb();mr[nr]=nr==="h"?Wn:(Wn||0)/100;const Nr=(0,Wt.vC)(mr);Xt||En(Nr),nn==null||nn(Nr)};return s.createElement("div",{className:dt},s.createElement(Fe,{max:360,min:0,value:Number(lt.toHsb().h),prefixCls:Rt,className:dt,formatter:Wn=>(0,Wt.lx)(Wn||0).toString(),onChange:Wn=>_n(Number(Wn),"h")}),s.createElement(Fe,{max:100,min:0,value:Number(lt.toHsb().s)*100,prefixCls:Rt,className:dt,formatter:Wn=>`${(0,Wt.lx)(Wn||0)}%`,onChange:Wn=>_n(Number(Wn),"s")}),s.createElement(Fe,{max:100,min:0,value:Number(lt.toHsb().b)*100,prefixCls:Rt,className:dt,formatter:Wn=>`${(0,Wt.lx)(Wn||0)}%`,onChange:Wn=>_n(Number(Wn),"b")}))},$e=Je=>{let{prefixCls:Rt,value:Xt,onChange:nn}=Je;const dt=`${Rt}-rgb-input`,[lt,En]=(0,s.useState)((0,Wt.vC)(Xt||"#000"));(0,s.useEffect)(()=>{Xt&&En(Xt)},[Xt]);const _n=(Wn,nr)=>{const mr=lt.toRgb();mr[nr]=Wn||0;const Nr=(0,Wt.vC)(mr);Xt||En(Nr),nn==null||nn(Nr)};return s.createElement("div",{className:dt},s.createElement(Fe,{max:255,min:0,value:Number(lt.toRgb().r),prefixCls:Rt,className:dt,onChange:Wn=>_n(Number(Wn),"r")}),s.createElement(Fe,{max:255,min:0,value:Number(lt.toRgb().g),prefixCls:Rt,className:dt,onChange:Wn=>_n(Number(Wn),"g")}),s.createElement(Fe,{max:255,min:0,value:Number(lt.toRgb().b),prefixCls:Rt,className:dt,onChange:Wn=>_n(Number(Wn),"b")}))};const An=[Xn,Zt,We].map(Je=>({value:Je,label:Je.toUpperCase()}));var Kr=Je=>{const{prefixCls:Rt,format:Xt,value:nn,disabledAlpha:dt,onFormatChange:lt,onChange:En,disabledFormat:_n}=Je,[Wn,nr]=(0,c.Z)(Xn,{value:Xt,onChange:lt}),mr=`${Rt}-input`,Nr=Zr=>{nr(Zr)},ui=(0,s.useMemo)(()=>{const Zr={value:nn,prefixCls:Rt,onChange:En};switch(Wn){case Zt:return s.createElement(wi,Object.assign({},Zr));case We:return s.createElement($e,Object.assign({},Zr));default:return s.createElement(he,Object.assign({},Zr))}},[Wn,Rt,nn,En]);return s.createElement("div",{className:`${mr}-container`},!_n&&s.createElement(cr.default,{value:Wn,variant:"borderless",getPopupContainer:Zr=>Zr,popupMatchSelectWidth:68,placement:"bottomRight",onChange:Nr,className:`${Rt}-format-select`,size:"small",options:An}),s.createElement("div",{className:mr},ui),!dt&&s.createElement(hn,{prefixCls:Rt,value:nn,onChange:En}))},Rn=F(28661),Wr=F(59373),Ii=F(80300),pr=F(14391),it=function(Je,Rt){var Xt={};for(var nn in Je)Object.prototype.hasOwnProperty.call(Je,nn)&&Rt.indexOf(nn)<0&&(Xt[nn]=Je[nn]);if(Je!=null&&typeof Object.getOwnPropertySymbols=="function")for(var dt=0,nn=Object.getOwnPropertySymbols(Je);dt<nn.length;dt++)Rt.indexOf(nn[dt])<0&&Object.prototype.propertyIsEnumerable.call(Je,nn[dt])&&(Xt[nn[dt]]=Je[nn[dt]]);return Xt};const Ot=Je=>{const{prefixCls:Rt,colors:Xt,type:nn,color:dt,range:lt=!1,className:En,activeIndex:_n,onActive:Wn,onDragStart:nr,onDragChange:mr,onKeyDelete:Nr}=Je,ui=it(Je,["prefixCls","colors","type","color","range","className","activeIndex","onActive","onDragStart","onDragChange","onKeyDelete"]),Zr=Object.assign(Object.assign({},ui),{track:!1}),qi=s.useMemo(()=>`linear-gradient(90deg, ${Xt.map(bo=>`${bo.color} ${bo.percent}%`).join(", ")})`,[Xt]),pt=s.useMemo(()=>!dt||!nn?null:nn==="alpha"?dt.toRgbString():`hsl(${dt.toHsb().h}, 100%, 50%)`,[dt,nn]),Sn=(0,Wr.Z)(nr),qt=(0,Wr.Z)(mr),Nn=s.useMemo(()=>({onDragStart:Sn,onDragChange:qt}),[]),lr=(0,Wr.Z)((Ti,bo)=>{const{onFocus:Zi,style:fo,className:yo,onKeyDown:Gi}=Ti.props,Oo=Object.assign({},fo);return nn==="gradient"&&(Oo.background=(0,Wt.AO)(Xt,bo.value)),s.cloneElement(Ti,{onFocus:Xo=>{Wn==null||Wn(bo.index),Zi==null||Zi(Xo)},style:Oo,className:q()(yo,{[`${Rt}-slider-handle-active`]:_n===bo.index}),onKeyDown:Xo=>{(Xo.key==="Delete"||Xo.key==="Backspace")&&Nr&&Nr(bo.index),Gi==null||Gi(Xo)}})}),di=s.useMemo(()=>({direction:"ltr",handleRender:lr}),[]);return s.createElement(pr.Z.Provider,{value:di},s.createElement(Rn.y.Provider,{value:Nn},s.createElement(Ii.Z,Object.assign({},Zr,{className:q()(En,`${Rt}-slider`),tooltip:{open:!1},range:{editable:lt,minCount:2},styles:{rail:{background:qi},handle:pt?{background:pt}:{}},classNames:{rail:`${Rt}-slider-rail`,handle:`${Rt}-slider-handle`}}))))};var fn=Je=>{const{value:Rt,onChange:Xt,onChangeComplete:nn}=Je,dt=En=>Xt(En[0]),lt=En=>nn(En[0]);return s.createElement(Ot,Object.assign({},Je,{value:[Rt],onChange:dt,onChangeComplete:lt}))};function gn(Je){return(0,gt.Z)(Je).sort((Rt,Xt)=>Rt.percent-Xt.percent)}const Er=Je=>{const{prefixCls:Rt,mode:Xt,onChange:nn,onChangeComplete:dt,onActive:lt,activeIndex:En,onGradientDragging:_n,colors:Wn}=Je,nr=Xt==="gradient",mr=s.useMemo(()=>Wn.map(qt=>({percent:qt.percent,color:qt.color.toRgbString()})),[Wn]),Nr=s.useMemo(()=>mr.map(qt=>qt.percent),[mr]),ui=s.useRef(mr),Zr=qt=>{let{rawValues:Nn,draggingIndex:lr,draggingValue:di}=qt;if(Nn.length>mr.length){const Ti=(0,Wt.AO)(mr,di),bo=(0,gt.Z)(mr);bo.splice(lr,0,{percent:di,color:Ti}),ui.current=bo}else ui.current=mr;_n(!0),nn(new ot.y9(gn(ui.current)),!0)},qi=qt=>{let{deleteIndex:Nn,draggingIndex:lr,draggingValue:di}=qt,Ti=(0,gt.Z)(ui.current);Nn!==-1?Ti.splice(Nn,1):(Ti[lr]=Object.assign(Object.assign({},Ti[lr]),{percent:di}),Ti=gn(Ti)),nn(new ot.y9(Ti),!0)},pt=qt=>{const Nn=(0,gt.Z)(mr);Nn.splice(qt,1);const lr=new ot.y9(Nn);nn(lr),dt(lr)},Sn=qt=>{dt(new ot.y9(mr)),En>=qt.length&&lt(qt.length-1),_n(!1)};return nr?s.createElement(Ot,{min:0,max:100,prefixCls:Rt,className:`${Rt}-gradient-slider`,colors:mr,color:null,value:Nr,range:!0,onChangeComplete:Sn,disabled:!1,type:"gradient",activeIndex:En,onActive:lt,onDragStart:Zr,onDragChange:qi,onKeyDelete:pt}):null};var Vn=s.memo(Er),ri=function(Je,Rt){var Xt={};for(var nn in Je)Object.prototype.hasOwnProperty.call(Je,nn)&&Rt.indexOf(nn)<0&&(Xt[nn]=Je[nn]);if(Je!=null&&typeof Object.getOwnPropertySymbols=="function")for(var dt=0,nn=Object.getOwnPropertySymbols(Je);dt<nn.length;dt++)Rt.indexOf(nn[dt])<0&&Object.prototype.propertyIsEnumerable.call(Je,nn[dt])&&(Xt[nn[dt]]=Je[nn[dt]]);return Xt};const fi={slider:fn};var Jr=()=>{const Je=(0,s.useContext)(yt),{mode:Rt,onModeChange:Xt,modeOptions:nn,prefixCls:dt,allowClear:lt,value:En,disabledAlpha:_n,onChange:Wn,onClear:nr,onChangeComplete:mr,activeIndex:Nr,gradientDragging:ui}=Je,Zr=ri(Je,["mode","onModeChange","modeOptions","prefixCls","allowClear","value","disabledAlpha","onChange","onClear","onChangeComplete","activeIndex","gradientDragging"]),qi=s.useMemo(()=>En.cleared?[{percent:0,color:new ot.y9("")},{percent:100,color:new ot.y9("")}]:En.getColors(),[En]),pt=!En.isGradient(),[Sn,qt]=s.useState(En);(0,Xe.Z)(()=>{var Eo;pt||qt((Eo=qi[Nr])===null||Eo===void 0?void 0:Eo.color)},[ui,Nr]);const Nn=s.useMemo(()=>{var Eo;return pt?En:ui?Sn:(Eo=qi[Nr])===null||Eo===void 0?void 0:Eo.color},[En,Nr,pt,Sn,ui]),[lr,di]=s.useState(Nn),[Ti,bo]=s.useState(0),Zi=lr!=null&&lr.equals(Nn)?Nn:lr;(0,Xe.Z)(()=>{di(Nn)},[Ti,Nn==null?void 0:Nn.toHexString()]);const fo=(Eo,zo)=>{let Zo=(0,Wt.vC)(Eo);if(En.cleared){const po=Zo.toRgb();if(!po.r&&!po.g&&!po.b&&zo){const{type:wo,value:So=0}=zo;Zo=new ot.y9({h:wo==="hue"?So:0,s:1,b:1,a:wo==="alpha"?So/100:1})}else Zo=(0,Wt.T7)(Zo)}if(Rt==="single")return Zo;const na=(0,gt.Z)(qi);return na[Nr]=Object.assign(Object.assign({},na[Nr]),{color:Zo}),new ot.y9(na)},yo=(Eo,zo,Zo)=>{const na=fo(Eo,Zo);di(na.isGradient()?na.getColors()[Nr].color:na),Wn(na,zo)},Gi=(Eo,zo)=>{mr(fo(Eo,zo)),bo(Zo=>Zo+1)},Oo=Eo=>{Wn(fo(Eo))};let Xo=null;const Bo=nn.length>1;return(lt||Bo)&&(Xo=s.createElement("div",{className:`${dt}-operation`},Bo&&s.createElement(Ut.Z,{size:"small",options:nn,value:Rt,onChange:Xt}),s.createElement(Sr,Object.assign({prefixCls:dt,value:En,onChange:Eo=>{Wn(Eo),nr==null||nr()}},Zr)))),s.createElement(s.Fragment,null,Xo,s.createElement(Vn,Object.assign({},Je,{colors:qi})),s.createElement(xt.ZP,{prefixCls:dt,value:Zi==null?void 0:Zi.toHsb(),disabledAlpha:_n,onChange:(Eo,zo)=>{yo(Eo,!0,zo)},onChangeComplete:(Eo,zo)=>{Gi(Eo,zo)},components:fi}),s.createElement(Kr,Object.assign({value:Nn,onChange:Oo,prefixCls:dt,disabledAlpha:_n},Zr)))},wr=F(29230),yr=()=>{const{prefixCls:Je,value:Rt,presets:Xt,onChange:nn}=(0,s.useContext)(Pt);return Array.isArray(Xt)?s.createElement(wr.Z,{value:Rt,presets:Xt,prefixCls:Je,onChange:nn}):null},Ir=Je=>{const{prefixCls:Rt,presets:Xt,panelRender:nn,value:dt,onChange:lt,onClear:En,allowClear:_n,disabledAlpha:Wn,mode:nr,onModeChange:mr,modeOptions:Nr,onChangeComplete:ui,activeIndex:Zr,onActive:qi,format:pt,onFormatChange:Sn,gradientDragging:qt,onGradientDragging:Nn,disabledFormat:lr}=Je,di=`${Rt}-inner`,Ti=s.useMemo(()=>({prefixCls:Rt,value:dt,onChange:lt,onClear:En,allowClear:_n,disabledAlpha:Wn,mode:nr,onModeChange:mr,modeOptions:Nr,onChangeComplete:ui,activeIndex:Zr,onActive:qi,format:pt,onFormatChange:Sn,gradientDragging:qt,onGradientDragging:Nn,disabledFormat:lr}),[Rt,dt,lt,En,_n,Wn,nr,mr,Nr,ui,Zr,qi,pt,Sn,qt,Nn,lr]),bo=s.useMemo(()=>({prefixCls:Rt,value:dt,presets:Xt,onChange:lt}),[Rt,dt,Xt,lt]),Zi=s.createElement("div",{className:`${di}-content`},s.createElement(Jr,null),Array.isArray(Xt)&&s.createElement(qe.Z,null),s.createElement(yr,null));return s.createElement(yt.Provider,{value:Ti},s.createElement(Pt.Provider,{value:bo},s.createElement("div",{className:di},typeof nn=="function"?nn(Zi,{components:{Picker:Jr,Presets:yr}}):Zi)))},Xr=F(71305),rr=F(77648),gr=function(Je,Rt){var Xt={};for(var nn in Je)Object.prototype.hasOwnProperty.call(Je,nn)&&Rt.indexOf(nn)<0&&(Xt[nn]=Je[nn]);if(Je!=null&&typeof Object.getOwnPropertySymbols=="function")for(var dt=0,nn=Object.getOwnPropertySymbols(Je);dt<nn.length;dt++)Rt.indexOf(nn[dt])<0&&Object.prototype.propertyIsEnumerable.call(Je,nn[dt])&&(Xt[nn[dt]]=Je[nn[dt]]);return Xt},Un=(0,s.forwardRef)((Je,Rt)=>{const{color:Xt,prefixCls:nn,open:dt,disabled:lt,format:En,className:_n,showText:Wn,activeIndex:nr}=Je,mr=gr(Je,["color","prefixCls","open","disabled","format","className","showText","activeIndex"]),Nr=`${nn}-trigger`,ui=`${Nr}-text`,Zr=`${ui}-cell`,[qi]=(0,rr.Z)("ColorPicker"),pt=s.useMemo(()=>{if(!Wn)return"";if(typeof Wn=="function")return Wn(Xt);if(Xt.cleared)return qi.transparent;if(Xt.isGradient())return Xt.getColors().map((lr,di)=>{const Ti=nr!==-1&&nr!==di;return s.createElement("span",{key:di,className:q()(Zr,Ti&&`${Zr}-inactive`)},lr.color.toRgbString()," ",lr.percent,"%")});const qt=Xt.toHexString().toUpperCase(),Nn=(0,Wt.uZ)(Xt);switch(En){case"rgb":return Xt.toRgbString();case"hsb":return Xt.toHsbString();default:return Nn<100?`${qt.slice(0,7)},${Nn}%`:qt}},[Xt,En,Wn,nr]),Sn=(0,s.useMemo)(()=>Xt.cleared?s.createElement(Sr,{prefixCls:nn}):s.createElement(xt.G5,{prefixCls:nn,color:Xt.toCssString()}),[Xt,nn]);return s.createElement("div",Object.assign({ref:Rt,className:q()(Nr,_n,{[`${Nr}-active`]:dt,[`${Nr}-disabled`]:lt})},(0,Xr.Z)(mr)),Sn,Wn&&s.createElement("div",{className:ui},pt))});function si(Je,Rt,Xt){const[nn]=(0,rr.Z)("ColorPicker"),[dt,lt]=(0,c.Z)(Je,{value:Rt}),[En,_n]=s.useState("single"),[Wn,nr]=s.useMemo(()=>{const pt=(Array.isArray(Xt)?Xt:[Xt]).filter(lr=>lr);pt.length||pt.push("single");const Sn=new Set(pt),qt=[],Nn=(lr,di)=>{Sn.has(lr)&&qt.push({label:di,value:lr})};return Nn("single",nn.singleColor),Nn("gradient",nn.gradientColor),[qt,Sn]},[Xt]),[mr,Nr]=s.useState(null),ui=(0,Wr.Z)(pt=>{Nr(pt),lt(pt)}),Zr=s.useMemo(()=>{const pt=(0,Wt.vC)(dt||"");return pt.equals(mr)?mr:pt},[dt,mr]),qi=s.useMemo(()=>{var pt;return nr.has(En)?En:(pt=Wn[0])===null||pt===void 0?void 0:pt.value},[nr,En,Wn]);return s.useEffect(()=>{_n(Zr.isGradient()?"gradient":"single")},[Zr]),[Zr,ui,qi,_n,Wn]}var Si=F(55921),Yi=F(9288),xo=F(84825),Qr=F(83509);const co=(Je,Rt)=>({backgroundImage:`conic-gradient(${Rt} 0 25%, transparent 0 50%, ${Rt} 0 75%, transparent 0)`,backgroundSize:`${Je} ${Je}`});var Tn=(Je,Rt)=>{const{componentCls:Xt,borderRadiusSM:nn,colorPickerInsetShadow:dt,lineWidth:lt,colorFillSecondary:En}=Je;return{[`${Xt}-color-block`]:Object.assign(Object.assign({position:"relative",borderRadius:nn,width:Rt,height:Rt,boxShadow:dt,flex:"none"},co("50%",Je.colorFillSecondary)),{[`${Xt}-color-block-inner`]:{width:"100%",height:"100%",boxShadow:`inset 0 0 0 ${(0,Si.bf)(lt)} ${En}`,borderRadius:"inherit"}})}},kr=Je=>{const{componentCls:Rt,antCls:Xt,fontSizeSM:nn,lineHeightSM:dt,colorPickerAlphaInputWidth:lt,marginXXS:En,paddingXXS:_n,controlHeightSM:Wn,marginXS:nr,fontSizeIcon:mr,paddingXS:Nr,colorTextPlaceholder:ui,colorPickerInputNumberHandleWidth:Zr,lineWidth:qi}=Je;return{[`${Rt}-input-container`]:{display:"flex",[`${Rt}-steppers${Xt}-input-number`]:{fontSize:nn,lineHeight:dt,[`${Xt}-input-number-input`]:{paddingInlineStart:_n,paddingInlineEnd:0},[`${Xt}-input-number-handler-wrap`]:{width:Zr}},[`${Rt}-steppers${Rt}-alpha-input`]:{flex:`0 0 ${(0,Si.bf)(lt)}`,marginInlineStart:En},[`${Rt}-format-select${Xt}-select`]:{marginInlineEnd:nr,width:"auto","&-single":{[`${Xt}-select-selector`]:{padding:0,border:0},[`${Xt}-select-arrow`]:{insetInlineEnd:0},[`${Xt}-select-selection-item`]:{paddingInlineEnd:Je.calc(mr).add(En).equal(),fontSize:nn,lineHeight:(0,Si.bf)(Wn)},[`${Xt}-select-item-option-content`]:{fontSize:nn,lineHeight:dt},[`${Xt}-select-dropdown`]:{[`${Xt}-select-item`]:{minHeight:"auto"}}}},[`${Rt}-input`]:{gap:En,alignItems:"center",flex:1,width:0,[`${Rt}-hsb-input,${Rt}-rgb-input`]:{display:"flex",gap:En,alignItems:"center"},[`${Rt}-steppers`]:{flex:1},[`${Rt}-hex-input${Xt}-input-affix-wrapper`]:{flex:1,padding:`0 ${(0,Si.bf)(Nr)}`,[`${Xt}-input`]:{fontSize:nn,textTransform:"uppercase",lineHeight:(0,Si.bf)(Je.calc(Wn).sub(Je.calc(qi).mul(2)).equal())},[`${Xt}-input-prefix`]:{color:ui}}}}}},li=Je=>{const{componentCls:Rt,controlHeightLG:Xt,borderRadiusSM:nn,colorPickerInsetShadow:dt,marginSM:lt,colorBgElevated:En,colorFillSecondary:_n,lineWidthBold:Wn,colorPickerHandlerSize:nr}=Je;return{userSelect:"none",[`${Rt}-select`]:{[`${Rt}-palette`]:{minHeight:Je.calc(Xt).mul(4).equal(),overflow:"hidden",borderRadius:nn},[`${Rt}-saturation`]:{position:"absolute",borderRadius:"inherit",boxShadow:dt,inset:0},marginBottom:lt},[`${Rt}-handler`]:{width:nr,height:nr,border:`${(0,Si.bf)(Wn)} solid ${En}`,position:"relative",borderRadius:"50%",cursor:"pointer",boxShadow:`${dt}, 0 0 0 1px ${_n}`}}},io=Je=>{const{componentCls:Rt,antCls:Xt,colorTextQuaternary:nn,paddingXXS:dt,colorPickerPresetColorSize:lt,fontSizeSM:En,colorText:_n,lineHeightSM:Wn,lineWidth:nr,borderRadius:mr,colorFill:Nr,colorWhite:ui,marginXXS:Zr,paddingXS:qi,fontHeightSM:pt}=Je;return{[`${Rt}-presets`]:{[`${Xt}-collapse-item > ${Xt}-collapse-header`]:{padding:0,[`${Xt}-collapse-expand-icon`]:{height:pt,color:nn,paddingInlineEnd:dt}},[`${Xt}-collapse`]:{display:"flex",flexDirection:"column",gap:Zr},[`${Xt}-collapse-item > ${Xt}-collapse-content > ${Xt}-collapse-content-box`]:{padding:`${(0,Si.bf)(qi)} 0`},"&-label":{fontSize:En,color:_n,lineHeight:Wn},"&-items":{display:"flex",flexWrap:"wrap",gap:Je.calc(Zr).mul(1.5).equal(),[`${Rt}-presets-color`]:{position:"relative",cursor:"pointer",width:lt,height:lt,"&::before":{content:'""',pointerEvents:"none",width:Je.calc(lt).add(Je.calc(nr).mul(4)).equal(),height:Je.calc(lt).add(Je.calc(nr).mul(4)).equal(),position:"absolute",top:Je.calc(nr).mul(-2).equal(),insetInlineStart:Je.calc(nr).mul(-2).equal(),borderRadius:mr,border:`${(0,Si.bf)(nr)} solid transparent`,transition:`border-color ${Je.motionDurationMid} ${Je.motionEaseInBack}`},"&:hover::before":{borderColor:Nr},"&::after":{boxSizing:"border-box",position:"absolute",top:"50%",insetInlineStart:"21.5%",display:"table",width:Je.calc(lt).div(13).mul(5).equal(),height:Je.calc(lt).div(13).mul(8).equal(),border:`${(0,Si.bf)(Je.lineWidthBold)} solid ${Je.colorWhite}`,borderTop:0,borderInlineStart:0,transform:"rotate(45deg) scale(0) translate(-50%,-50%)",opacity:0,content:'""',transition:`all ${Je.motionDurationFast} ${Je.motionEaseInBack}, opacity ${Je.motionDurationFast}`},[`&${Rt}-presets-color-checked`]:{"&::after":{opacity:1,borderColor:ui,transform:"rotate(45deg) scale(1) translate(-50%,-50%)",transition:`transform ${Je.motionDurationMid} ${Je.motionEaseOutBack} ${Je.motionDurationFast}`},[`&${Rt}-presets-color-bright`]:{"&::after":{borderColor:"rgba(0, 0, 0, 0.45)"}}}}},"&-empty":{fontSize:En,color:nn}}}},Co=Je=>{const{componentCls:Rt,colorPickerInsetShadow:Xt,colorBgElevated:nn,colorFillSecondary:dt,lineWidthBold:lt,colorPickerHandlerSizeSM:En,colorPickerSliderHeight:_n,marginSM:Wn,marginXS:nr}=Je,mr=Je.calc(En).sub(Je.calc(lt).mul(2).equal()).equal(),Nr=Je.calc(En).add(Je.calc(lt).mul(2).equal()).equal(),ui={"&:after":{transform:"scale(1)",boxShadow:`${Xt}, 0 0 0 1px ${Je.colorPrimaryActive}`}};return{[`${Rt}-slider`]:[co((0,Si.bf)(_n),Je.colorFillSecondary),{margin:0,padding:0,height:_n,borderRadius:Je.calc(_n).div(2).equal(),"&-rail":{height:_n,borderRadius:Je.calc(_n).div(2).equal(),boxShadow:Xt},[`& ${Rt}-slider-handle`]:{width:mr,height:mr,top:0,borderRadius:"100%","&:before":{display:"block",position:"absolute",background:"transparent",left:{_skip_check_:!0,value:"50%"},top:"50%",transform:"translate(-50%, -50%)",width:Nr,height:Nr,borderRadius:"100%"},"&:after":{width:En,height:En,border:`${(0,Si.bf)(lt)} solid ${nn}`,boxShadow:`${Xt}, 0 0 0 1px ${dt}`,outline:"none",insetInlineStart:Je.calc(lt).mul(-1).equal(),top:Je.calc(lt).mul(-1).equal(),background:"transparent",transition:"none"},"&:focus":ui}}],[`${Rt}-slider-container`]:{display:"flex",gap:Wn,marginBottom:Wn,[`${Rt}-slider-group`]:{flex:1,flexDirection:"column",justifyContent:"space-between",display:"flex","&-disabled-alpha":{justifyContent:"center"}}},[`${Rt}-gradient-slider`]:{marginBottom:nr,[`& ${Rt}-slider-handle`]:{"&:after":{transform:"scale(0.8)"},"&-active, &:focus":ui}}}};const uo=(Je,Rt,Xt)=>({borderInlineEndWidth:Je.lineWidth,borderColor:Rt,boxShadow:`0 0 0 ${(0,Si.bf)(Je.controlOutlineWidth)} ${Xt}`,outline:0}),Re=Je=>{const{componentCls:Rt}=Je;return{"&-rtl":{[`${Rt}-presets-color`]:{"&::after":{direction:"ltr"}},[`${Rt}-clear`]:{"&::after":{direction:"ltr"}}}}},de=(Je,Rt,Xt)=>{const{componentCls:nn,borderRadiusSM:dt,lineWidth:lt,colorSplit:En,colorBorder:_n,red6:Wn}=Je;return{[`${nn}-clear`]:Object.assign(Object.assign({width:Rt,height:Rt,borderRadius:dt,border:`${(0,Si.bf)(lt)} solid ${En}`,position:"relative",overflow:"hidden",cursor:"inherit",transition:`all ${Je.motionDurationFast}`},Xt),{"&::after":{content:'""',position:"absolute",insetInlineEnd:Je.calc(lt).mul(-1).equal(),top:Je.calc(lt).mul(-1).equal(),display:"block",width:40,height:2,transformOrigin:"calc(100% - 1px) 1px",transform:"rotate(-45deg)",backgroundColor:Wn},"&:hover":{borderColor:_n}})}},Y=Je=>{const{componentCls:Rt,colorError:Xt,colorWarning:nn,colorErrorHover:dt,colorWarningHover:lt,colorErrorOutline:En,colorWarningOutline:_n}=Je;return{[`&${Rt}-status-error`]:{borderColor:Xt,"&:hover":{borderColor:dt},[`&${Rt}-trigger-active`]:Object.assign({},uo(Je,Xt,En))},[`&${Rt}-status-warning`]:{borderColor:nn,"&:hover":{borderColor:lt},[`&${Rt}-trigger-active`]:Object.assign({},uo(Je,nn,_n))}}},Ze=Je=>{const{componentCls:Rt,controlHeightLG:Xt,controlHeightSM:nn,controlHeight:dt,controlHeightXS:lt,borderRadius:En,borderRadiusSM:_n,borderRadiusXS:Wn,borderRadiusLG:nr,fontSizeLG:mr}=Je;return{[`&${Rt}-lg`]:{minWidth:Xt,minHeight:Xt,borderRadius:nr,[`${Rt}-color-block, ${Rt}-clear`]:{width:dt,height:dt,borderRadius:En},[`${Rt}-trigger-text`]:{fontSize:mr}},[`&${Rt}-sm`]:{minWidth:nn,minHeight:nn,borderRadius:_n,[`${Rt}-color-block, ${Rt}-clear`]:{width:lt,height:lt,borderRadius:Wn},[`${Rt}-trigger-text`]:{lineHeight:(0,Si.bf)(lt)}}}},pe=Je=>{const{antCls:Rt,componentCls:Xt,colorPickerWidth:nn,colorPrimary:dt,motionDurationMid:lt,colorBgElevated:En,colorTextDisabled:_n,colorText:Wn,colorBgContainerDisabled:nr,borderRadius:mr,marginXS:Nr,marginSM:ui,controlHeight:Zr,controlHeightSM:qi,colorBgTextActive:pt,colorPickerPresetColorSize:Sn,colorPickerPreviewSize:qt,lineWidth:Nn,colorBorder:lr,paddingXXS:di,fontSize:Ti,colorPrimaryHover:bo,controlOutline:Zi}=Je;return[{[Xt]:Object.assign({[`${Xt}-inner`]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({"&-content":{display:"flex",flexDirection:"column",width:nn,[`& > ${Rt}-divider`]:{margin:`${(0,Si.bf)(ui)} 0 ${(0,Si.bf)(Nr)}`}},[`${Xt}-panel`]:Object.assign({},li(Je))},Co(Je)),Tn(Je,qt)),kr(Je)),io(Je)),de(Je,Sn,{marginInlineStart:"auto"})),{[`${Xt}-operation`]:{display:"flex",justifyContent:"space-between",marginBottom:Nr}}),"&-trigger":Object.assign(Object.assign(Object.assign(Object.assign({minWidth:Zr,minHeight:Zr,borderRadius:mr,border:`${(0,Si.bf)(Nn)} solid ${lr}`,cursor:"pointer",display:"inline-flex",alignItems:"flex-start",justifyContent:"center",transition:`all ${lt}`,background:En,padding:Je.calc(di).sub(Nn).equal(),[`${Xt}-trigger-text`]:{marginInlineStart:Nr,marginInlineEnd:Je.calc(Nr).sub(Je.calc(di).sub(Nn)).equal(),fontSize:Ti,color:Wn,alignSelf:"center","&-cell":{"&:not(:last-child):after":{content:'", "'},"&-inactive":{color:_n}}},"&:hover":{borderColor:bo},[`&${Xt}-trigger-active`]:Object.assign({},uo(Je,dt,Zi)),"&-disabled":{color:_n,background:nr,cursor:"not-allowed","&:hover":{borderColor:pt},[`${Xt}-trigger-text`]:{color:_n}}},de(Je,qi)),Tn(Je,qi)),Y(Je)),Ze(Je))},Re(Je))},(0,Yi.c)(Je,{focusElCls:`${Xt}-trigger-active`})]};var et=(0,xo.I$)("ColorPicker",Je=>{const{colorTextQuaternary:Rt,marginSM:Xt}=Je,nn=8,dt=(0,Qr.IX)(Je,{colorPickerWidth:234,colorPickerHandlerSize:16,colorPickerHandlerSizeSM:12,colorPickerAlphaInputWidth:44,colorPickerInputNumberHandleWidth:16,colorPickerPresetColorSize:24,colorPickerInsetShadow:`inset 0 0 1px 0 ${Rt}`,colorPickerSliderHeight:nn,colorPickerPreviewSize:Je.calc(nn).mul(2).add(Xt).equal()});return[pe(dt)]}),nt=function(Je,Rt){var Xt={};for(var nn in Je)Object.prototype.hasOwnProperty.call(Je,nn)&&Rt.indexOf(nn)<0&&(Xt[nn]=Je[nn]);if(Je!=null&&typeof Object.getOwnPropertySymbols=="function")for(var dt=0,nn=Object.getOwnPropertySymbols(Je);dt<nn.length;dt++)Rt.indexOf(nn[dt])<0&&Object.prototype.propertyIsEnumerable.call(Je,nn[dt])&&(Xt[nn[dt]]=Je[nn[dt]]);return Xt};const ln=Je=>{const{mode:Rt,value:Xt,defaultValue:nn,format:dt,defaultFormat:lt,allowClear:En=!1,presets:_n,children:Wn,trigger:nr="click",open:mr,disabled:Nr,placement:ui="bottomLeft",arrow:Zr=!0,panelRender:qi,showText:pt,style:Sn,className:qt,size:Nn,rootClassName:lr,prefixCls:di,styles:Ti,disabledAlpha:bo=!1,onFormatChange:Zi,onChange:fo,onClear:yo,onOpenChange:Gi,onChangeComplete:Oo,getPopupContainer:Xo,autoAdjustOverflow:Bo=!0,destroyTooltipOnHide:Eo,disabledFormat:zo}=Je,Zo=nt(Je,["mode","value","defaultValue","format","defaultFormat","allowClear","presets","children","trigger","open","disabled","placement","arrow","panelRender","showText","style","className","size","rootClassName","prefixCls","styles","disabledAlpha","onFormatChange","onChange","onClear","onOpenChange","onChangeComplete","getPopupContainer","autoAdjustOverflow","destroyTooltipOnHide","disabledFormat"]),{getPrefixCls:na,direction:po,colorPicker:wo}=(0,s.useContext)(Pe.E_),So=(0,s.useContext)(ye.Z),K=Nr!=null?Nr:So,[_e,wt]=(0,c.Z)(!1,{value:mr,postState:Wi=>!K&&Wi,onChange:Gi}),[Tt,In]=(0,c.Z)(dt,{value:dt,defaultValue:lt,onChange:Zi}),Qn=na("color-picker",di),[ci,fr,Ai,to,xr]=si(nn,Xt,Rt),Vi=(0,s.useMemo)(()=>(0,Wt.uZ)(ci)<100,[ci]),[Fr,Ei]=s.useState(null),_i=Wi=>{if(Oo){let Hi=(0,Wt.vC)(Wi);bo&&Vi&&(Hi=(0,Wt.T7)(Wi)),Oo(Hi)}},bi=(Wi,Hi)=>{let Po=(0,Wt.vC)(Wi);bo&&Vi&&(Po=(0,Wt.T7)(Po)),fr(Po),Ei(null),fo&&fo(Po,Po.toCssString()),Hi||_i(Po)},[Yo,jo]=s.useState(0),[an,Ye]=s.useState(!1),Ce=Wi=>{if(to(Wi),Wi==="single"&&ci.isGradient())jo(0),bi(new ot.y9(ci.getColors()[0].color)),Ei(ci);else if(Wi==="gradient"&&!ci.isGradient()){const Hi=Vi?(0,Wt.T7)(ci):ci;bi(new ot.y9(Fr||[{percent:0,color:Hi},{percent:100,color:Hi}]))}},{status:Ke}=s.useContext(Ee.aM),{compactSize:Be,compactItemClassnames:Nt}=(0,Qe.ri)(Qn,po),dn=(0,je.Z)(Wi=>{var Hi;return(Hi=Nn!=null?Nn:Be)!==null&&Hi!==void 0?Hi:Wi}),tr=(0,te.Z)(Qn),[Rr,Lr,Mr]=et(Qn,tr),vi={[`${Qn}-rtl`]:po},zi=q()(lr,Mr,tr,vi),Mo=q()((0,ze.Z)(Qn,Ke),{[`${Qn}-sm`]:dn==="small",[`${Qn}-lg`]:dn==="large"},Nt,wo==null?void 0:wo.className,zi,qt,Lr),Oi=q()(Qn,zi),Ni={open:_e,trigger:nr,placement:ui,arrow:Zr,rootClassName:lr,getPopupContainer:Xo,autoAdjustOverflow:Bo,destroyTooltipOnHide:Eo},hi=Object.assign(Object.assign({},wo==null?void 0:wo.style),Sn);return Rr(s.createElement(He.Z,Object.assign({style:Ti==null?void 0:Ti.popup,styles:{body:Ti==null?void 0:Ti.popupOverlayInner},onOpenChange:Wi=>{(!Wi||!K)&&wt(Wi)},content:s.createElement(xe.Z,{form:!0},s.createElement(Ir,{mode:Ai,onModeChange:Ce,modeOptions:xr,prefixCls:Qn,value:ci,allowClear:En,disabled:K,disabledAlpha:bo,presets:_n,panelRender:qi,format:Tt,onFormatChange:In,onChange:bi,onChangeComplete:_i,onClear:yo,activeIndex:Yo,onActive:jo,gradientDragging:an,onGradientDragging:Ye,disabledFormat:zo})),classNames:{root:Oi}},Ni),Wn||s.createElement(Un,Object.assign({activeIndex:_e?Yo:-1,open:_e,className:Mo,style:hi,prefixCls:Qn,disabled:K,showText:pt,format:Tt},Zo,{color:ci}))))},At=(0,Ge.Z)(ln,void 0,Je=>Object.assign(Object.assign({},Je),{placement:"bottom",autoAdjustOverflow:!1}),"color-picker",Je=>Je);ln._InternalPanelDoNotUseOrYouWillBeFired=At;var sn=ln,vn=sn},70395:function(Hr,jt,F){"use strict";F.d(jt,{AO:function(){return Pe},T7:function(){return ze},lx:function(){return xe},uZ:function(){return Ge},vC:function(){return c}});var s=F(46865),tt=F(2180),q=F(82227);const c=ye=>ye instanceof q.y9?ye:new q.y9(ye),xe=ye=>Math.round(Number(ye||0)),Ge=ye=>xe(ye.toHsb().a*100),ze=(ye,te)=>{const je=ye.toRgb();if(!je.r&&!je.g&&!je.b){const Ee=ye.toHsb();return Ee.a=te||1,c(Ee)}return je.a=te||1,c(je)},Pe=(ye,te)=>{const je=[{percent:0,color:ye[0].color}].concat((0,s.Z)(ye),[{percent:100,color:ye[ye.length-1].color}]);for(let Ee=0;Ee<je.length-1;Ee+=1){const He=je[Ee].percent,Qe=je[Ee+1].percent,ot=je[Ee].color,qe=je[Ee+1].color;if(He<=te&&te<=Qe){const gt=Qe-He;if(gt===0)return ot;const xt=(te-He)/gt*100,Xe=new tt.Il(ot),Ut=new tt.Il(qe);return Xe.mix(Ut,xt).toRgbString()}}return""}},98472:function(Hr,jt,F){"use strict";F.d(jt,{n:function(){return q}});var s=F(75271);const tt=s.createContext(!1),q=c=>{let{children:xe,disabled:Ge}=c;const ze=s.useContext(tt);return s.createElement(tt.Provider,{value:Ge!=null?Ge:ze},xe)};jt.Z=tt},10497:function(Hr,jt,F){"use strict";F.d(jt,{q:function(){return q}});var s=F(75271);const tt=s.createContext(void 0),q=c=>{let{children:xe,size:Ge}=c;const ze=s.useContext(tt);return s.createElement(tt.Provider,{value:Ge||ze},xe)};jt.Z=tt},92703:function(Hr,jt,F){"use strict";F.d(jt,{x:function(){return Zt},q:function(){return We}});var s=F(75271),tt=F(30967),q=F.t(tt,2),c=F(57250),xe=F(90594),Ge=F(5147),ze=F(54153),Pe=(0,ze.Z)({},q),ye=Pe.version,te=Pe.render,je=Pe.unmountComponentAtNode,Ee;try{var He=Number((ye||"").split(".")[0]);He>=18&&(Ee=Pe.createRoot)}catch(cn){}function Qe(cn){var Kt=Pe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;Kt&&(0,Ge.Z)(Kt)==="object"&&(Kt.usingClientEntryPoint=cn)}var ot="__rc_react_root__";function qe(cn,Kt){Qe(!0);var Fe=Kt[ot]||Ee(Kt);Qe(!1),Fe.render(cn),Kt[ot]=Fe}function gt(cn,Kt){te==null||te(cn,Kt)}function xt(cn,Kt){}function Xe(cn,Kt){if(Ee){qe(cn,Kt);return}gt(cn,Kt)}function Ut(cn){return yt.apply(this,arguments)}function yt(){return yt=(0,xe.Z)((0,c.Z)().mark(function cn(Kt){return(0,c.Z)().wrap(function(Ln){for(;;)switch(Ln.prev=Ln.next){case 0:return Ln.abrupt("return",Promise.resolve().then(function(){var hn;(hn=Kt[ot])===null||hn===void 0||hn.unmount(),delete Kt[ot]}));case 1:case"end":return Ln.stop()}},cn)})),yt.apply(this,arguments)}function Pt(cn){je(cn)}function Wt(cn){}function kt(cn){return Sr.apply(this,arguments)}function Sr(){return Sr=(0,xe.Z)((0,c.Z)().mark(function cn(Kt){return(0,c.Z)().wrap(function(Ln){for(;;)switch(Ln.prev=Ln.next){case 0:if(Ee===void 0){Ln.next=2;break}return Ln.abrupt("return",Ut(Kt));case 2:Pt(Kt);case 3:case"end":return Ln.stop()}},cn)})),Sr.apply(this,arguments)}let Xn=(cn,Kt)=>(Xe(cn,Kt),()=>kt(Kt));function We(cn){Xn=cn}function Zt(){return Xn}},98446:function(Hr,jt,F){"use strict";F.d(jt,{E_:function(){return Ge},Rf:function(){return tt},dj:function(){return ye},oR:function(){return q},tr:function(){return c}});var s=F(75271);const tt="ant",q="anticon",c=["outlined","borderless","filled","underlined"],xe=(te,je)=>je||(te?`${tt}-${te}`:tt),Ge=s.createContext({getPrefixCls:xe,iconPrefixCls:q}),{Consumer:ze}=Ge,Pe={};function ye(te){const je=s.useContext(Ge),{getPrefixCls:Ee,direction:He,getPopupContainer:Qe}=je,ot=je[te];return Object.assign(Object.assign({classNames:Pe,styles:Pe},ot),{getPrefixCls:Ee,direction:He,getPopupContainer:Qe})}},22463:function(Hr,jt,F){"use strict";var s=F(75271),tt=F(98446),q=F(35335);const c=xe=>{const{componentName:Ge}=xe,{getPrefixCls:ze}=(0,s.useContext)(tt.E_),Pe=ze("empty");switch(Ge){case"Table":case"List":return s.createElement(q.Z,{image:q.Z.PRESENTED_IMAGE_SIMPLE});case"Select":case"TreeSelect":case"Cascader":case"Transfer":case"Mentions":return s.createElement(q.Z,{image:q.Z.PRESENTED_IMAGE_SIMPLE,className:`${Pe}-small`});case"Table.filter":return null;default:return s.createElement(q.Z,null)}};jt.Z=c},38437:function(Hr,jt,F){"use strict";var s=F(67699);const tt=q=>{const[,,,,c]=(0,s.ZP)();return c?`${q}-css-var`:""};jt.Z=tt},95741:function(Hr,jt,F){"use strict";var s=F(75271),tt=F(10497);const q=c=>{const xe=s.useContext(tt.Z);return s.useMemo(()=>c?typeof c=="string"?c!=null?c:xe:c instanceof Function?c(xe):xe:xe,[c,xe])};jt.Z=q},62639:function(Hr,jt,F){"use strict";F.d(jt,{ZP:function(){return Jr},w6:function(){return ri}});var s=F(75271),tt=F.t(s,2),q=F(55921),c=F(53552),xe=F(54596),Ge=F(27636),ze=F(87117),Pe=F(63613),ye=F(3786),te=F(59379);const je="internalMark";var He=wr=>{const{locale:Yn={},children:yr,_ANT_MARK__:Pr}=wr;s.useEffect(()=>(0,ye.f)(Yn==null?void 0:Yn.Modal),[Yn]);const Ir=s.useMemo(()=>Object.assign(Object.assign({},Yn),{exist:!0}),[Yn]);return s.createElement(te.Z.Provider,{value:Ir},yr)},Qe=F(42474),ot=F(38920),qe=F(20284),gt=F(30767),xt=F(98446),Xe=F(68640),Ut=F(84432),yt=F(18415),Pt=F(18263);const Wt=`-ant-${Date.now()}-${Math.random()}`;function kt(wr,Yn){const yr={},Pr=(rr,gr)=>{let ei=rr.clone();return ei=(gr==null?void 0:gr(ei))||ei,ei.toRgbString()},Ir=(rr,gr)=>{const ei=new Ut.t(rr),Un=(0,Xe.R_)(ei.toRgbString());yr[`${gr}-color`]=Pr(ei),yr[`${gr}-color-disabled`]=Un[1],yr[`${gr}-color-hover`]=Un[4],yr[`${gr}-color-active`]=Un[6],yr[`${gr}-color-outline`]=ei.clone().setA(.2).toRgbString(),yr[`${gr}-color-deprecated-bg`]=Un[0],yr[`${gr}-color-deprecated-border`]=Un[2]};if(Yn.primaryColor){Ir(Yn.primaryColor,"primary");const rr=new Ut.t(Yn.primaryColor),gr=(0,Xe.R_)(rr.toRgbString());gr.forEach((Un,si)=>{yr[`primary-${si+1}`]=Un}),yr["primary-color-deprecated-l-35"]=Pr(rr,Un=>Un.lighten(35)),yr["primary-color-deprecated-l-20"]=Pr(rr,Un=>Un.lighten(20)),yr["primary-color-deprecated-t-20"]=Pr(rr,Un=>Un.tint(20)),yr["primary-color-deprecated-t-50"]=Pr(rr,Un=>Un.tint(50)),yr["primary-color-deprecated-f-12"]=Pr(rr,Un=>Un.setA(Un.a*.12));const ei=new Ut.t(gr[0]);yr["primary-color-active-deprecated-f-30"]=Pr(ei,Un=>Un.setA(Un.a*.3)),yr["primary-color-active-deprecated-d-02"]=Pr(ei,Un=>Un.darken(2))}return Yn.successColor&&Ir(Yn.successColor,"success"),Yn.warningColor&&Ir(Yn.warningColor,"warning"),Yn.errorColor&&Ir(Yn.errorColor,"error"),Yn.infoColor&&Ir(Yn.infoColor,"info"),`
  :root {
    ${Object.keys(yr).map(rr=>`--${wr}-${rr}: ${yr[rr]};`).join(`
`)}
  }
  `.trim()}function Sr(wr,Yn){const yr=kt(wr,Yn);(0,yt.Z)()&&(0,Pt.hq)(yr,`${Wt}-dynamic-theme`)}var cr=F(98472),Xn=F(10497);function We(){const wr=(0,s.useContext)(cr.Z),Yn=(0,s.useContext)(Xn.Z);return{componentDisabled:wr,componentSize:Yn}}var Zt=We,cn=F(47996);const Kt=Object.assign({},tt),{useId:Fe}=Kt;var On=typeof Fe=="undefined"?()=>"":Fe;function ut(wr,Yn,yr){var Pr,Ir;const Xr=(0,ze.ln)("ConfigProvider"),rr=wr||{},gr=rr.inherit===!1||!Yn?Object.assign(Object.assign({},qe.u_),{hashed:(Pr=Yn==null?void 0:Yn.hashed)!==null&&Pr!==void 0?Pr:qe.u_.hashed,cssVar:Yn==null?void 0:Yn.cssVar}):Yn,ei=On();return(0,xe.Z)(()=>{var Un,si;if(!wr)return Yn;const Si=Object.assign({},gr.components);Object.keys(wr.components||{}).forEach(Qr=>{Si[Qr]=Object.assign(Object.assign({},Si[Qr]),wr.components[Qr])});const Yi=`css-var-${ei.replace(/:/g,"")}`,xo=((Un=rr.cssVar)!==null&&Un!==void 0?Un:gr.cssVar)&&Object.assign(Object.assign(Object.assign({prefix:yr==null?void 0:yr.prefixCls},typeof gr.cssVar=="object"?gr.cssVar:{}),typeof rr.cssVar=="object"?rr.cssVar:{}),{key:typeof rr.cssVar=="object"&&((si=rr.cssVar)===null||si===void 0?void 0:si.key)||Yi});return Object.assign(Object.assign(Object.assign({},gr),rr),{token:Object.assign(Object.assign({},gr.token),rr.token),components:Si,cssVar:xo})},[rr,gr],(Un,si)=>Un.some((Si,Yi)=>{const xo=si[Yi];return!(0,cn.Z)(Si,xo,!0)}))}var Yt=F(62803),bn=F(67699);function he(wr){const{children:Yn}=wr,[,yr]=(0,bn.ZP)(),{motion:Pr}=yr,Ir=s.useRef(!1);return Ir.current=Ir.current||Pr===!1,Ir.current?s.createElement(Yt.zt,{motion:Pr},Yn):Yn}const Jt=null;var wi=()=>null,ai=F(34299),An=(wr,Yn)=>{const[yr,Pr]=(0,bn.ZP)();return(0,q.xy)({theme:yr,token:Pr,hashId:"",path:["ant-design-icons",wr],nonce:()=>Yn==null?void 0:Yn.nonce,layer:{name:"antd"}},()=>[(0,ai.JT)(wr)])},Ur=function(wr,Yn){var yr={};for(var Pr in wr)Object.prototype.hasOwnProperty.call(wr,Pr)&&Yn.indexOf(Pr)<0&&(yr[Pr]=wr[Pr]);if(wr!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Ir=0,Pr=Object.getOwnPropertySymbols(wr);Ir<Pr.length;Ir++)Yn.indexOf(Pr[Ir])<0&&Object.prototype.propertyIsEnumerable.call(wr,Pr[Ir])&&(yr[Pr[Ir]]=wr[Pr[Ir]]);return yr};let Kr=!1;const Rn=null,Wr=null,Ii=["getTargetContainer","getPopupContainer","renderEmpty","input","pagination","form","select","button"];let pr,it,Ot,Bn;function fn(){return pr||xt.Rf}function gn(){return it||xt.oR}function Er(wr){return Object.keys(wr).some(Yn=>Yn.endsWith("Color"))}const Vn=wr=>{const{prefixCls:Yn,iconPrefixCls:yr,theme:Pr,holderRender:Ir}=wr;Yn!==void 0&&(pr=Yn),yr!==void 0&&(it=yr),"holderRender"in wr&&(Bn=Ir),Pr&&(Er(Pr)?Sr(fn(),Pr):Ot=Pr)},ri=()=>({getPrefixCls:(wr,Yn)=>Yn||(wr?`${fn()}-${wr}`:fn()),getIconPrefixCls:gn,getRootPrefixCls:()=>pr||fn(),getTheme:()=>Ot,holderRender:Bn}),fi=wr=>{const{children:Yn,csp:yr,autoInsertSpaceInButton:Pr,alert:Ir,anchor:Xr,form:rr,locale:gr,componentSize:ei,direction:Un,space:si,splitter:Si,virtual:Yi,dropdownMatchSelectWidth:xo,popupMatchSelectWidth:Qr,popupOverflow:co,legacyLocale:tn,parentContext:Tn,iconPrefixCls:ir,theme:kr,componentDisabled:gi,segmented:li,statistic:eo,spin:io,calendar:Lo,carousel:Co,cascader:uo,collapse:Re,typography:de,checkbox:Y,descriptions:Ze,divider:pe,drawer:et,skeleton:nt,steps:ln,image:At,layout:sn,list:vn,mentions:Je,modal:Rt,progress:Xt,result:nn,slider:dt,breadcrumb:lt,menu:En,pagination:_n,input:Wn,textArea:nr,empty:mr,badge:Nr,radio:ui,rate:Zr,switch:qi,transfer:pt,avatar:Sn,message:qt,tag:Nn,table:lr,card:di,tabs:Ti,timeline:bo,timePicker:Zi,upload:fo,notification:yo,tree:Gi,colorPicker:Oo,datePicker:Xo,rangePicker:Bo,flex:Eo,wave:zo,dropdown:Zo,warning:na,tour:po,tooltip:wo,popover:So,popconfirm:K,floatButtonGroup:_e,variant:wt,inputNumber:Tt,treeSelect:In}=wr,Qn=s.useCallback((jo,an)=>{const{prefixCls:Ye}=wr;if(an)return an;const Ce=Ye||Tn.getPrefixCls("");return jo?`${Ce}-${jo}`:Ce},[Tn.getPrefixCls,wr.prefixCls]),ci=ir||Tn.iconPrefixCls||xt.oR,fr=yr||Tn.csp;An(ci,fr);const Ai=ut(kr,Tn.theme,{prefixCls:Qn("")}),to={csp:fr,autoInsertSpaceInButton:Pr,alert:Ir,anchor:Xr,locale:gr||tn,direction:Un,space:si,splitter:Si,virtual:Yi,popupMatchSelectWidth:Qr!=null?Qr:xo,popupOverflow:co,getPrefixCls:Qn,iconPrefixCls:ci,theme:Ai,segmented:li,statistic:eo,spin:io,calendar:Lo,carousel:Co,cascader:uo,collapse:Re,typography:de,checkbox:Y,descriptions:Ze,divider:pe,drawer:et,skeleton:nt,steps:ln,image:At,input:Wn,textArea:nr,layout:sn,list:vn,mentions:Je,modal:Rt,progress:Xt,result:nn,slider:dt,breadcrumb:lt,menu:En,pagination:_n,empty:mr,badge:Nr,radio:ui,rate:Zr,switch:qi,transfer:pt,avatar:Sn,message:qt,tag:Nn,table:lr,card:di,tabs:Ti,timeline:bo,timePicker:Zi,upload:fo,notification:yo,tree:Gi,colorPicker:Oo,datePicker:Xo,rangePicker:Bo,flex:Eo,wave:zo,dropdown:Zo,warning:na,tour:po,tooltip:wo,popover:So,popconfirm:K,floatButtonGroup:_e,variant:wt,inputNumber:Tt,treeSelect:In},xr=Object.assign({},Tn);Object.keys(to).forEach(jo=>{to[jo]!==void 0&&(xr[jo]=to[jo])}),Ii.forEach(jo=>{const an=wr[jo];an&&(xr[jo]=an)}),typeof Pr!="undefined"&&(xr.button=Object.assign({autoInsertSpace:Pr},xr.button));const Vi=(0,xe.Z)(()=>xr,xr,(jo,an)=>{const Ye=Object.keys(jo),Ce=Object.keys(an);return Ye.length!==Ce.length||Ye.some(Ke=>jo[Ke]!==an[Ke])}),{layer:Fr}=s.useContext(q.uP),Ei=s.useMemo(()=>({prefixCls:ci,csp:fr,layer:Fr?"antd":void 0}),[ci,fr,Fr]);let _i=s.createElement(s.Fragment,null,s.createElement(wi,{dropdownMatchSelectWidth:xo}),Yn);const bi=s.useMemo(()=>{var jo,an,Ye,Ce;return(0,Ge.T)(((jo=Qe.Z.Form)===null||jo===void 0?void 0:jo.defaultValidateMessages)||{},((Ye=(an=Vi.locale)===null||an===void 0?void 0:an.Form)===null||Ye===void 0?void 0:Ye.defaultValidateMessages)||{},((Ce=Vi.form)===null||Ce===void 0?void 0:Ce.validateMessages)||{},(rr==null?void 0:rr.validateMessages)||{})},[Vi,rr==null?void 0:rr.validateMessages]);Object.keys(bi).length>0&&(_i=s.createElement(Pe.Z.Provider,{value:bi},_i)),gr&&(_i=s.createElement(He,{locale:gr,_ANT_MARK__:je},_i)),(ci||fr)&&(_i=s.createElement(c.Z.Provider,{value:Ei},_i)),ei&&(_i=s.createElement(Xn.q,{size:ei},_i)),_i=s.createElement(he,null,_i);const Yo=s.useMemo(()=>{const jo=Ai||{},{algorithm:an,token:Ye,components:Ce,cssVar:Ke}=jo,Be=Ur(jo,["algorithm","token","components","cssVar"]),Nt=an&&(!Array.isArray(an)||an.length>0)?(0,q.jG)(an):ot.Z,dn={};Object.entries(Ce||{}).forEach(Rr=>{let[Lr,Mr]=Rr;const vi=Object.assign({},Mr);"algorithm"in vi&&(vi.algorithm===!0?vi.theme=Nt:(Array.isArray(vi.algorithm)||typeof vi.algorithm=="function")&&(vi.theme=(0,q.jG)(vi.algorithm)),delete vi.algorithm),dn[Lr]=vi});const tr=Object.assign(Object.assign({},gt.Z),Ye);return Object.assign(Object.assign({},Be),{theme:Nt,token:tr,components:dn,override:Object.assign({override:tr},dn),cssVar:Ke})},[Ai]);return kr&&(_i=s.createElement(qe.Mj.Provider,{value:Yo},_i)),Vi.warning&&(_i=s.createElement(ze.G8.Provider,{value:Vi.warning},_i)),gi!==void 0&&(_i=s.createElement(cr.n,{disabled:gi},_i)),s.createElement(xt.E_.Provider,{value:Vi},_i)},qr=wr=>{const Yn=s.useContext(xt.E_),yr=s.useContext(te.Z);return s.createElement(fi,Object.assign({parentContext:Yn,legacyLocale:yr},wr))};qr.ConfigContext=xt.E_,qr.SizeContext=Xn.Z,qr.config=Vn,qr.useConfig=Zt,Object.defineProperty(qr,"SizeContext",{get:()=>Xn.Z});var Jr=qr},58492:function(Hr,jt,F){"use strict";F.d(jt,{Z:function(){return ze}});var s=F(54153),tt={yearFormat:"YYYY",dayFormat:"D",cellMeridiemFormat:"A",monthBeforeYear:!0},q=(0,s.Z)((0,s.Z)({},tt),{},{locale:"en_US",today:"Today",now:"Now",backToToday:"Back to today",ok:"OK",clear:"Clear",week:"Week",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",dateFormat:"M/D/YYYY",dateTimeFormat:"M/D/YYYY HH:mm:ss",previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"}),c=q,xe=F(85985),ze={lang:Object.assign({placeholder:"Select date",yearPlaceholder:"Select year",quarterPlaceholder:"Select quarter",monthPlaceholder:"Select month",weekPlaceholder:"Select week",rangePlaceholder:["Start date","End date"],rangeYearPlaceholder:["Start year","End year"],rangeQuarterPlaceholder:["Start quarter","End quarter"],rangeMonthPlaceholder:["Start month","End month"],rangeWeekPlaceholder:["Start week","End week"]},c),timePickerLocale:Object.assign({},xe.Z)}},67567:function(Hr,jt,F){"use strict";F.d(jt,{Z:function(){return Qe}});var s=F(75271),tt=F(82187),q=F.n(tt),c=F(98446),xe=F(55921),Ge=F(34299),ze=F(84825),Pe=F(83509);const ye=ot=>{const{componentCls:qe,sizePaddingEdgeHorizontal:gt,colorSplit:xt,lineWidth:Xe,textPaddingInline:Ut,orientationMargin:yt,verticalMarginInline:Pt}=ot;return{[qe]:Object.assign(Object.assign({},(0,Ge.Wf)(ot)),{borderBlockStart:`${(0,xe.bf)(Xe)} solid ${xt}`,"&-vertical":{position:"relative",top:"-0.06em",display:"inline-block",height:"0.9em",marginInline:Pt,marginBlock:0,verticalAlign:"middle",borderTop:0,borderInlineStart:`${(0,xe.bf)(Xe)} solid ${xt}`},"&-horizontal":{display:"flex",clear:"both",width:"100%",minWidth:"100%",margin:`${(0,xe.bf)(ot.dividerHorizontalGutterMargin)} 0`},[`&-horizontal${qe}-with-text`]:{display:"flex",alignItems:"center",margin:`${(0,xe.bf)(ot.dividerHorizontalWithTextGutterMargin)} 0`,color:ot.colorTextHeading,fontWeight:500,fontSize:ot.fontSizeLG,whiteSpace:"nowrap",textAlign:"center",borderBlockStart:`0 ${xt}`,"&::before, &::after":{position:"relative",width:"50%",borderBlockStart:`${(0,xe.bf)(Xe)} solid transparent`,borderBlockStartColor:"inherit",borderBlockEnd:0,transform:"translateY(50%)",content:"''"}},[`&-horizontal${qe}-with-text-start`]:{"&::before":{width:`calc(${yt} * 100%)`},"&::after":{width:`calc(100% - ${yt} * 100%)`}},[`&-horizontal${qe}-with-text-end`]:{"&::before":{width:`calc(100% - ${yt} * 100%)`},"&::after":{width:`calc(${yt} * 100%)`}},[`${qe}-inner-text`]:{display:"inline-block",paddingBlock:0,paddingInline:Ut},"&-dashed":{background:"none",borderColor:xt,borderStyle:"dashed",borderWidth:`${(0,xe.bf)(Xe)} 0 0`},[`&-horizontal${qe}-with-text${qe}-dashed`]:{"&::before, &::after":{borderStyle:"dashed none none"}},[`&-vertical${qe}-dashed`]:{borderInlineStartWidth:Xe,borderInlineEnd:0,borderBlockStart:0,borderBlockEnd:0},"&-dotted":{background:"none",borderColor:xt,borderStyle:"dotted",borderWidth:`${(0,xe.bf)(Xe)} 0 0`},[`&-horizontal${qe}-with-text${qe}-dotted`]:{"&::before, &::after":{borderStyle:"dotted none none"}},[`&-vertical${qe}-dotted`]:{borderInlineStartWidth:Xe,borderInlineEnd:0,borderBlockStart:0,borderBlockEnd:0},[`&-plain${qe}-with-text`]:{color:ot.colorText,fontWeight:"normal",fontSize:ot.fontSize},[`&-horizontal${qe}-with-text-start${qe}-no-default-orientation-margin-start`]:{"&::before":{width:0},"&::after":{width:"100%"},[`${qe}-inner-text`]:{paddingInlineStart:gt}},[`&-horizontal${qe}-with-text-end${qe}-no-default-orientation-margin-end`]:{"&::before":{width:"100%"},"&::after":{width:0},[`${qe}-inner-text`]:{paddingInlineEnd:gt}}})}},te=ot=>({textPaddingInline:"1em",orientationMargin:.05,verticalMarginInline:ot.marginXS});var je=(0,ze.I$)("Divider",ot=>{const qe=(0,Pe.IX)(ot,{dividerHorizontalWithTextGutterMargin:ot.margin,dividerHorizontalGutterMargin:ot.marginLG,sizePaddingEdgeHorizontal:0});return[ye(qe)]},te,{unitless:{orientationMargin:!0}}),Ee=function(ot,qe){var gt={};for(var xt in ot)Object.prototype.hasOwnProperty.call(ot,xt)&&qe.indexOf(xt)<0&&(gt[xt]=ot[xt]);if(ot!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Xe=0,xt=Object.getOwnPropertySymbols(ot);Xe<xt.length;Xe++)qe.indexOf(xt[Xe])<0&&Object.prototype.propertyIsEnumerable.call(ot,xt[Xe])&&(gt[xt[Xe]]=ot[xt[Xe]]);return gt},Qe=ot=>{const{getPrefixCls:qe,direction:gt,className:xt,style:Xe}=(0,c.dj)("divider"),{prefixCls:Ut,type:yt="horizontal",orientation:Pt="center",orientationMargin:Wt,className:kt,rootClassName:Sr,children:cr,dashed:Xn,variant:We="solid",plain:Zt,style:cn}=ot,Kt=Ee(ot,["prefixCls","type","orientation","orientationMargin","className","rootClassName","children","dashed","variant","plain","style"]),Fe=qe("divider",Ut),[Ln,hn,On]=je(Fe),ut=!!cr,Yt=s.useMemo(()=>Pt==="left"?gt==="rtl"?"end":"start":Pt==="right"?gt==="rtl"?"start":"end":Pt,[gt,Pt]),bn=Yt==="start"&&Wt!=null,he=Yt==="end"&&Wt!=null,Jt=q()(Fe,xt,hn,On,`${Fe}-${yt}`,{[`${Fe}-with-text`]:ut,[`${Fe}-with-text-${Yt}`]:ut,[`${Fe}-dashed`]:!!Xn,[`${Fe}-${We}`]:We!=="solid",[`${Fe}-plain`]:!!Zt,[`${Fe}-rtl`]:gt==="rtl",[`${Fe}-no-default-orientation-margin-start`]:bn,[`${Fe}-no-default-orientation-margin-end`]:he},kt,Sr),wi=s.useMemo(()=>typeof Wt=="number"?Wt:/^\d+$/.test(Wt)?Number(Wt):Wt,[Wt]),ai={marginInlineStart:bn?wi:void 0,marginInlineEnd:he?wi:void 0};return Ln(s.createElement("div",Object.assign({className:Jt,style:Object.assign(Object.assign({},Xe),cn)},Kt,{role:"separator"}),cr&&yt!=="vertical"&&s.createElement("span",{className:`${Fe}-inner-text`,style:ai},cr)))}},35335:function(Hr,jt,F){"use strict";F.d(jt,{Z:function(){return Ut}});var s=F(75271),tt=F(82187),q=F.n(tt),c=F(77648),xe=F(84432),Ge=F(67699),Pe=()=>{const[,yt]=(0,Ge.ZP)(),[Pt]=(0,c.Z)("Empty"),kt=new xe.t(yt.colorBgBase).toHsl().l<.5?{opacity:.65}:{};return s.createElement("svg",{style:kt,width:"184",height:"152",viewBox:"0 0 184 152",xmlns:"http://www.w3.org/2000/svg"},s.createElement("title",null,(Pt==null?void 0:Pt.description)||"Empty"),s.createElement("g",{fill:"none",fillRule:"evenodd"},s.createElement("g",{transform:"translate(24 31.67)"},s.createElement("ellipse",{fillOpacity:".8",fill:"#F5F5F7",cx:"67.797",cy:"106.89",rx:"67.797",ry:"12.668"}),s.createElement("path",{d:"M122.034 69.674L98.109 40.229c-1.148-1.386-2.826-2.225-4.593-2.225h-51.44c-1.766 0-3.444.839-4.592 2.225L13.56 69.674v15.383h108.475V69.674z",fill:"#AEB8C2"}),s.createElement("path",{d:"M101.537 86.214L80.63 61.102c-1.001-1.207-2.507-1.867-4.048-1.867H31.724c-1.54 0-3.047.66-4.048 1.867L6.769 86.214v13.792h94.768V86.214z",fill:"url(#linearGradient-1)",transform:"translate(13.56)"}),s.createElement("path",{d:"M33.83 0h67.933a4 4 0 0 1 4 4v93.344a4 4 0 0 1-4 4H33.83a4 4 0 0 1-4-4V4a4 4 0 0 1 4-4z",fill:"#F5F5F7"}),s.createElement("path",{d:"M42.678 9.953h50.237a2 2 0 0 1 2 2V36.91a2 2 0 0 1-2 2H42.678a2 2 0 0 1-2-2V11.953a2 2 0 0 1 2-2zM42.94 49.767h49.713a2.262 2.262 0 1 1 0 4.524H42.94a2.262 2.262 0 0 1 0-4.524zM42.94 61.53h49.713a2.262 2.262 0 1 1 0 4.525H42.94a2.262 2.262 0 0 1 0-4.525zM121.813 105.032c-.775 3.071-3.497 5.36-6.735 5.36H20.515c-3.238 0-5.96-2.29-6.734-5.36a7.309 7.309 0 0 1-.222-1.79V69.675h26.318c2.907 0 5.25 2.448 5.25 5.42v.04c0 2.971 2.37 5.37 5.277 5.37h34.785c2.907 0 5.277-2.421 5.277-5.393V75.1c0-2.972 2.343-5.426 5.25-5.426h26.318v33.569c0 .617-.077 1.216-.221 1.789z",fill:"#DCE0E6"})),s.createElement("path",{d:"M149.121 33.292l-6.83 2.65a1 1 0 0 1-1.317-1.23l1.937-6.207c-2.589-2.944-4.109-6.534-4.109-10.408C138.802 8.102 148.92 0 161.402 0 173.881 0 184 8.102 184 18.097c0 9.995-10.118 18.097-22.599 18.097-4.528 0-8.744-1.066-12.28-2.902z",fill:"#DCE0E6"}),s.createElement("g",{transform:"translate(149.65 15.383)",fill:"#FFF"},s.createElement("ellipse",{cx:"20.654",cy:"3.167",rx:"2.849",ry:"2.815"}),s.createElement("path",{d:"M5.698 5.63H0L2.898.704zM9.259.704h4.985V5.63H9.259z"}))))},te=()=>{const[,yt]=(0,Ge.ZP)(),[Pt]=(0,c.Z)("Empty"),{colorFill:Wt,colorFillTertiary:kt,colorFillQuaternary:Sr,colorBgContainer:cr}=yt,{borderColor:Xn,shadowColor:We,contentColor:Zt}=(0,s.useMemo)(()=>({borderColor:new xe.t(Wt).onBackground(cr).toHexString(),shadowColor:new xe.t(kt).onBackground(cr).toHexString(),contentColor:new xe.t(Sr).onBackground(cr).toHexString()}),[Wt,kt,Sr,cr]);return s.createElement("svg",{width:"64",height:"41",viewBox:"0 0 64 41",xmlns:"http://www.w3.org/2000/svg"},s.createElement("title",null,(Pt==null?void 0:Pt.description)||"Empty"),s.createElement("g",{transform:"translate(0 1)",fill:"none",fillRule:"evenodd"},s.createElement("ellipse",{fill:We,cx:"32",cy:"33",rx:"32",ry:"7"}),s.createElement("g",{fillRule:"nonzero",stroke:Xn},s.createElement("path",{d:"M55 12.76L44.854 1.258C44.367.474 43.656 0 42.907 0H21.093c-.749 0-1.46.474-1.947 1.257L9 12.761V22h46v-9.24z"}),s.createElement("path",{d:"M41.613 15.931c0-1.605.994-2.93 2.227-2.931H55v18.137C55 33.26 53.68 35 52.05 35h-40.1C10.32 35 9 33.259 9 31.137V13h11.16c1.233 0 2.227 1.323 2.227 2.928v.022c0 1.605 1.005 2.901 2.237 2.901h14.752c1.232 0 2.237-1.308 2.237-2.913v-.007z",fill:Zt}))))},je=F(84825),Ee=F(83509);const He=yt=>{const{componentCls:Pt,margin:Wt,marginXS:kt,marginXL:Sr,fontSize:cr,lineHeight:Xn}=yt;return{[Pt]:{marginInline:kt,fontSize:cr,lineHeight:Xn,textAlign:"center",[`${Pt}-image`]:{height:yt.emptyImgHeight,marginBottom:kt,opacity:yt.opacityImage,img:{height:"100%"},svg:{maxWidth:"100%",height:"100%",margin:"auto"}},[`${Pt}-description`]:{color:yt.colorTextDescription},[`${Pt}-footer`]:{marginTop:Wt},"&-normal":{marginBlock:Sr,color:yt.colorTextDescription,[`${Pt}-description`]:{color:yt.colorTextDescription},[`${Pt}-image`]:{height:yt.emptyImgHeightMD}},"&-small":{marginBlock:kt,color:yt.colorTextDescription,[`${Pt}-image`]:{height:yt.emptyImgHeightSM}}}}};var Qe=(0,je.I$)("Empty",yt=>{const{componentCls:Pt,controlHeightLG:Wt,calc:kt}=yt,Sr=(0,Ee.IX)(yt,{emptyImgCls:`${Pt}-img`,emptyImgHeight:kt(Wt).mul(2.5).equal(),emptyImgHeightMD:Wt,emptyImgHeightSM:kt(Wt).mul(.875).equal()});return[He(Sr)]}),ot=F(98446),qe=function(yt,Pt){var Wt={};for(var kt in yt)Object.prototype.hasOwnProperty.call(yt,kt)&&Pt.indexOf(kt)<0&&(Wt[kt]=yt[kt]);if(yt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Sr=0,kt=Object.getOwnPropertySymbols(yt);Sr<kt.length;Sr++)Pt.indexOf(kt[Sr])<0&&Object.prototype.propertyIsEnumerable.call(yt,kt[Sr])&&(Wt[kt[Sr]]=yt[kt[Sr]]);return Wt};const gt=s.createElement(Pe,null),xt=s.createElement(te,null),Xe=yt=>{const{className:Pt,rootClassName:Wt,prefixCls:kt,image:Sr=gt,description:cr,children:Xn,imageStyle:We,style:Zt,classNames:cn,styles:Kt}=yt,Fe=qe(yt,["className","rootClassName","prefixCls","image","description","children","imageStyle","style","classNames","styles"]),{getPrefixCls:Ln,direction:hn,className:On,style:ut,classNames:Yt,styles:bn}=(0,ot.dj)("empty"),he=Ln("empty",kt),[Jt,wi,ai]=Qe(he),[$e]=(0,c.Z)("Empty"),An=typeof cr!="undefined"?cr:$e==null?void 0:$e.description,Ur=typeof An=="string"?An:"empty";let Kr=null;return typeof Sr=="string"?Kr=s.createElement("img",{alt:Ur,src:Sr}):Kr=Sr,Jt(s.createElement("div",Object.assign({className:q()(wi,ai,he,On,{[`${he}-normal`]:Sr===xt,[`${he}-rtl`]:hn==="rtl"},Pt,Wt,Yt.root,cn==null?void 0:cn.root),style:Object.assign(Object.assign(Object.assign(Object.assign({},bn.root),ut),Kt==null?void 0:Kt.root),Zt)},Fe),s.createElement("div",{className:q()(`${he}-image`,Yt.image,cn==null?void 0:cn.image),style:Object.assign(Object.assign(Object.assign({},We),bn.image),Kt==null?void 0:Kt.image)},Kr),An&&s.createElement("div",{className:q()(`${he}-description`,Yt.description,cn==null?void 0:cn.description),style:Object.assign(Object.assign({},bn.description),Kt==null?void 0:Kt.description)},An),Xn&&s.createElement("div",{className:q()(`${he}-footer`,Yt.footer,cn==null?void 0:cn.footer),style:Object.assign(Object.assign({},bn.footer),Kt==null?void 0:Kt.footer)},Xn)))};Xe.PRESENTED_IMAGE_DEFAULT=gt,Xe.PRESENTED_IMAGE_SIMPLE=xt;var Ut=Xe},60824:function(Hr,jt,F){"use strict";F.d(jt,{RV:function(){return Ge},Rk:function(){return ze},Ux:function(){return ye},aM:function(){return Pe},pg:function(){return te},q3:function(){return c},qI:function(){return xe}});var s=F(75271),tt=F(93930),q=F(18051);const c=s.createContext({labelAlign:"right",vertical:!1,itemRef:()=>{}}),xe=s.createContext(null),Ge=je=>{const Ee=(0,q.Z)(je,["prefixCls"]);return s.createElement(tt.RV,Object.assign({},Ee))},ze=s.createContext({prefixCls:""}),Pe=s.createContext({}),ye=je=>{let{children:Ee,status:He,override:Qe}=je;const ot=s.useContext(Pe),qe=s.useMemo(()=>{const gt=Object.assign({},ot);return Qe&&delete gt.isFormItemInput,He&&(delete gt.status,delete gt.hasFeedback,delete gt.feedbackIcon),gt},[He,Qe,ot]);return s.createElement(Pe.Provider,{value:qe},Ee)},te=s.createContext(void 0)},7038:function(Hr,jt,F){"use strict";var s=F(75271),tt=F(60824),q=F(98446);const c=function(xe,Ge){let ze=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;var Pe,ye;const{variant:te,[xe]:je}=s.useContext(q.E_),Ee=s.useContext(tt.pg),He=je==null?void 0:je.variant;let Qe;typeof Ge!="undefined"?Qe=Ge:ze===!1?Qe="borderless":Qe=(ye=(Pe=Ee!=null?Ee:He)!==null&&Pe!==void 0?Pe:te)!==null&&ye!==void 0?ye:"outlined";const ot=q.tr.includes(Qe);return[Qe,ot]};jt.Z=c},54735:function(Hr,jt,F){"use strict";F.d(jt,{Z:function(){return qi}});var s=F(60824),tt=F(46865),q=F(75271),c=F(82187),xe=F.n(c),Ge=F(62803),ze=F(13635),Pe=F(38437);function ye(pt){const[Sn,qt]=q.useState(pt);return q.useEffect(()=>{const Nn=setTimeout(()=>{qt(pt)},pt.length?0:10);return()=>{clearTimeout(Nn)}},[pt]),Sn}var te=F(55921),je=F(34299),Ee=F(3153),He=F(40894),Qe=F(83509),ot=F(84825),gt=pt=>{const{componentCls:Sn}=pt,qt=`${Sn}-show-help`,Nn=`${Sn}-show-help-item`;return{[qt]:{transition:`opacity ${pt.motionDurationFast} ${pt.motionEaseInOut}`,"&-appear, &-enter":{opacity:0,"&-active":{opacity:1}},"&-leave":{opacity:1,"&-active":{opacity:0}},[Nn]:{overflow:"hidden",transition:`height ${pt.motionDurationFast} ${pt.motionEaseInOut},
                     opacity ${pt.motionDurationFast} ${pt.motionEaseInOut},
                     transform ${pt.motionDurationFast} ${pt.motionEaseInOut} !important`,[`&${Nn}-appear, &${Nn}-enter`]:{transform:"translateY(-5px)",opacity:0,"&-active":{transform:"translateY(0)",opacity:1}},[`&${Nn}-leave-active`]:{transform:"translateY(-5px)"}}}}};const xt=pt=>({legend:{display:"block",width:"100%",marginBottom:pt.marginLG,padding:0,color:pt.colorTextDescription,fontSize:pt.fontSizeLG,lineHeight:"inherit",border:0,borderBottom:`${(0,te.bf)(pt.lineWidth)} ${pt.lineType} ${pt.colorBorder}`},'input[type="search"]':{boxSizing:"border-box"},'input[type="radio"], input[type="checkbox"]':{lineHeight:"normal"},'input[type="file"]':{display:"block"},'input[type="range"]':{display:"block",width:"100%"},"select[multiple], select[size]":{height:"auto"},"input[type='file']:focus,\n  input[type='radio']:focus,\n  input[type='checkbox']:focus":{outline:0,boxShadow:`0 0 0 ${(0,te.bf)(pt.controlOutlineWidth)} ${pt.controlOutline}`},output:{display:"block",paddingTop:15,color:pt.colorText,fontSize:pt.fontSize,lineHeight:pt.lineHeight}}),Xe=(pt,Sn)=>{const{formItemCls:qt}=pt;return{[qt]:{[`${qt}-label > label`]:{height:Sn},[`${qt}-control-input`]:{minHeight:Sn}}}},Ut=pt=>{const{componentCls:Sn}=pt;return{[pt.componentCls]:Object.assign(Object.assign(Object.assign({},(0,je.Wf)(pt)),xt(pt)),{[`${Sn}-text`]:{display:"inline-block",paddingInlineEnd:pt.paddingSM},"&-small":Object.assign({},Xe(pt,pt.controlHeightSM)),"&-large":Object.assign({},Xe(pt,pt.controlHeightLG))})}},yt=pt=>{const{formItemCls:Sn,iconCls:qt,componentCls:Nn,rootPrefixCls:lr,antCls:di,labelRequiredMarkColor:Ti,labelColor:bo,labelFontSize:Zi,labelHeight:fo,labelColonMarginInlineStart:yo,labelColonMarginInlineEnd:Gi,itemMarginBottom:Oo}=pt;return{[Sn]:Object.assign(Object.assign({},(0,je.Wf)(pt)),{marginBottom:Oo,verticalAlign:"top","&-with-help":{transition:"none"},[`&-hidden,
        &-hidden${di}-row`]:{display:"none"},"&-has-warning":{[`${Sn}-split`]:{color:pt.colorError}},"&-has-error":{[`${Sn}-split`]:{color:pt.colorWarning}},[`${Sn}-label`]:{flexGrow:0,overflow:"hidden",whiteSpace:"nowrap",textAlign:"end",verticalAlign:"middle","&-left":{textAlign:"start"},"&-wrap":{overflow:"unset",lineHeight:pt.lineHeight,whiteSpace:"unset"},"> label":{position:"relative",display:"inline-flex",alignItems:"center",maxWidth:"100%",height:fo,color:bo,fontSize:Zi,[`> ${qt}`]:{fontSize:pt.fontSize,verticalAlign:"top"},[`&${Sn}-required:not(${Sn}-required-mark-optional)::before`]:{display:"inline-block",marginInlineEnd:pt.marginXXS,color:Ti,fontSize:pt.fontSize,fontFamily:"SimSun, sans-serif",lineHeight:1,content:'"*"',[`${Nn}-hide-required-mark &`]:{display:"none"}},[`${Sn}-optional`]:{display:"inline-block",marginInlineStart:pt.marginXXS,color:pt.colorTextDescription,[`${Nn}-hide-required-mark &`]:{display:"none"}},[`${Sn}-tooltip`]:{color:pt.colorTextDescription,cursor:"help",writingMode:"horizontal-tb",marginInlineStart:pt.marginXXS},"&::after":{content:'":"',position:"relative",marginBlock:0,marginInlineStart:yo,marginInlineEnd:Gi},[`&${Sn}-no-colon::after`]:{content:'"\\a0"'}}},[`${Sn}-control`]:{"--ant-display":"flex",flexDirection:"column",flexGrow:1,[`&:first-child:not([class^="'${lr}-col-'"]):not([class*="' ${lr}-col-'"])`]:{width:"100%"},"&-input":{position:"relative",display:"flex",alignItems:"center",minHeight:pt.controlHeight,"&-content":{flex:"auto",maxWidth:"100%"}}},[Sn]:{"&-additional":{display:"flex",flexDirection:"column"},"&-explain, &-extra":{clear:"both",color:pt.colorTextDescription,fontSize:pt.fontSize,lineHeight:pt.lineHeight},"&-explain-connected":{width:"100%"},"&-extra":{minHeight:pt.controlHeightSM,transition:`color ${pt.motionDurationMid} ${pt.motionEaseOut}`},"&-explain":{"&-error":{color:pt.colorError},"&-warning":{color:pt.colorWarning}}},[`&-with-help ${Sn}-explain`]:{height:"auto",opacity:1},[`${Sn}-feedback-icon`]:{fontSize:pt.fontSize,textAlign:"center",visibility:"visible",animationName:Ee.kr,animationDuration:pt.motionDurationMid,animationTimingFunction:pt.motionEaseOutBack,pointerEvents:"none","&-success":{color:pt.colorSuccess},"&-error":{color:pt.colorError},"&-warning":{color:pt.colorWarning},"&-validating":{color:pt.colorPrimary}}})}},Pt=(pt,Sn)=>{const{formItemCls:qt}=pt;return{[`${Sn}-horizontal`]:{[`${qt}-label`]:{flexGrow:0},[`${qt}-control`]:{flex:"1 1 0",minWidth:0},[`${qt}-label[class$='-24'], ${qt}-label[class*='-24 ']`]:{[`& + ${qt}-control`]:{minWidth:"unset"}}}}},Wt=pt=>{const{componentCls:Sn,formItemCls:qt,inlineItemMarginBottom:Nn}=pt;return{[`${Sn}-inline`]:{display:"flex",flexWrap:"wrap",[qt]:{flex:"none",marginInlineEnd:pt.margin,marginBottom:Nn,"&-row":{flexWrap:"nowrap"},[`> ${qt}-label,
        > ${qt}-control`]:{display:"inline-block",verticalAlign:"top"},[`> ${qt}-label`]:{flex:"none"},[`${Sn}-text`]:{display:"inline-block"},[`${qt}-has-feedback`]:{display:"inline-block"}}}}},kt=pt=>({padding:pt.verticalLabelPadding,margin:pt.verticalLabelMargin,whiteSpace:"initial",textAlign:"start","> label":{margin:0,"&::after":{visibility:"hidden"}}}),Sr=pt=>{const{componentCls:Sn,formItemCls:qt,rootPrefixCls:Nn}=pt;return{[`${qt} ${qt}-label`]:kt(pt),[`${Sn}:not(${Sn}-inline)`]:{[qt]:{flexWrap:"wrap",[`${qt}-label, ${qt}-control`]:{[`&:not([class*=" ${Nn}-col-xs"])`]:{flex:"0 0 100%",maxWidth:"100%"}}}}}},cr=pt=>{const{componentCls:Sn,formItemCls:qt,antCls:Nn}=pt;return{[`${Sn}-vertical`]:{[`${qt}:not(${qt}-horizontal)`]:{[`${qt}-row`]:{flexDirection:"column"},[`${qt}-label > label`]:{height:"auto"},[`${qt}-control`]:{width:"100%"},[`${qt}-label,
        ${Nn}-col-24${qt}-label,
        ${Nn}-col-xl-24${qt}-label`]:kt(pt)}},[`@media (max-width: ${(0,te.bf)(pt.screenXSMax)})`]:[Sr(pt),{[Sn]:{[`${qt}:not(${qt}-horizontal)`]:{[`${Nn}-col-xs-24${qt}-label`]:kt(pt)}}}],[`@media (max-width: ${(0,te.bf)(pt.screenSMMax)})`]:{[Sn]:{[`${qt}:not(${qt}-horizontal)`]:{[`${Nn}-col-sm-24${qt}-label`]:kt(pt)}}},[`@media (max-width: ${(0,te.bf)(pt.screenMDMax)})`]:{[Sn]:{[`${qt}:not(${qt}-horizontal)`]:{[`${Nn}-col-md-24${qt}-label`]:kt(pt)}}},[`@media (max-width: ${(0,te.bf)(pt.screenLGMax)})`]:{[Sn]:{[`${qt}:not(${qt}-horizontal)`]:{[`${Nn}-col-lg-24${qt}-label`]:kt(pt)}}}}},Xn=pt=>{const{formItemCls:Sn,antCls:qt}=pt;return{[`${Sn}-vertical`]:{[`${Sn}-row`]:{flexDirection:"column"},[`${Sn}-label > label`]:{height:"auto"},[`${Sn}-control`]:{width:"100%"}},[`${Sn}-vertical ${Sn}-label,
      ${qt}-col-24${Sn}-label,
      ${qt}-col-xl-24${Sn}-label`]:kt(pt),[`@media (max-width: ${(0,te.bf)(pt.screenXSMax)})`]:[Sr(pt),{[Sn]:{[`${qt}-col-xs-24${Sn}-label`]:kt(pt)}}],[`@media (max-width: ${(0,te.bf)(pt.screenSMMax)})`]:{[Sn]:{[`${qt}-col-sm-24${Sn}-label`]:kt(pt)}},[`@media (max-width: ${(0,te.bf)(pt.screenMDMax)})`]:{[Sn]:{[`${qt}-col-md-24${Sn}-label`]:kt(pt)}},[`@media (max-width: ${(0,te.bf)(pt.screenLGMax)})`]:{[Sn]:{[`${qt}-col-lg-24${Sn}-label`]:kt(pt)}}}},We=pt=>({labelRequiredMarkColor:pt.colorError,labelColor:pt.colorTextHeading,labelFontSize:pt.fontSize,labelHeight:pt.controlHeight,labelColonMarginInlineStart:pt.marginXXS/2,labelColonMarginInlineEnd:pt.marginXS,itemMarginBottom:pt.marginLG,verticalLabelPadding:`0 0 ${pt.paddingXS}px`,verticalLabelMargin:0,inlineItemMarginBottom:0}),Zt=(pt,Sn)=>(0,Qe.IX)(pt,{formItemCls:`${pt.componentCls}-item`,rootPrefixCls:Sn});var cn=(0,ot.I$)("Form",(pt,Sn)=>{let{rootPrefixCls:qt}=Sn;const Nn=Zt(pt,qt);return[Ut(Nn),yt(Nn),gt(Nn),Pt(Nn,Nn.componentCls),Pt(Nn,Nn.formItemCls),Wt(Nn),cr(Nn),Xn(Nn),(0,He.Z)(Nn),Ee.kr]},We,{order:-1e3});const Kt=[];function Fe(pt,Sn,qt){let Nn=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;return{key:typeof pt=="string"?pt:`${Sn}-${Nn}`,error:pt,errorStatus:qt}}var hn=pt=>{let{help:Sn,helpStatus:qt,errors:Nn=Kt,warnings:lr=Kt,className:di,fieldId:Ti,onVisibleChanged:bo}=pt;const{prefixCls:Zi}=q.useContext(s.Rk),fo=`${Zi}-item-explain`,yo=(0,Pe.Z)(Zi),[Gi,Oo,Xo]=cn(Zi,yo),Bo=q.useMemo(()=>(0,ze.Z)(Zi),[Zi]),Eo=ye(Nn),zo=ye(lr),Zo=q.useMemo(()=>Sn!=null?[Fe(Sn,"help",qt)]:[].concat((0,tt.Z)(Eo.map((wo,So)=>Fe(wo,"error","error",So))),(0,tt.Z)(zo.map((wo,So)=>Fe(wo,"warning","warning",So)))),[Sn,qt,Eo,zo]),na=q.useMemo(()=>{const wo={};return Zo.forEach(So=>{let{key:K}=So;wo[K]=(wo[K]||0)+1}),Zo.map((So,K)=>Object.assign(Object.assign({},So),{key:wo[So.key]>1?`${So.key}-fallback-${K}`:So.key}))},[Zo]),po={};return Ti&&(po.id=`${Ti}_help`),Gi(q.createElement(Ge.ZP,{motionDeadline:Bo.motionDeadline,motionName:`${Zi}-show-help`,visible:!!na.length,onVisibleChanged:bo},wo=>{const{className:So,style:K}=wo;return q.createElement("div",Object.assign({},po,{className:xe()(fo,So,Xo,yo,di,Oo),style:K}),q.createElement(Ge.V4,Object.assign({keys:na},(0,ze.Z)(Zi),{motionName:`${Zi}-show-help-item`,component:!1}),_e=>{const{key:wt,error:Tt,errorStatus:In,className:Qn,style:ci}=_e;return q.createElement("div",{key:wt,className:xe()(Qn,{[`${fo}-${In}`]:In}),style:ci},Tt)}))}))},On=F(93930),ut=F(98446),Yt=F(98472),bn=F(95741),he=F(10497),Jt=F(4525),wi=F(56680);const ai=["parentNode"],$e="form_item";function An(pt){return pt===void 0||pt===!1?[]:Array.isArray(pt)?pt:[pt]}function Ur(pt,Sn){if(!pt.length)return;const qt=pt.join("_");return Sn?`${Sn}_${qt}`:ai.includes(qt)?`${$e}_${qt}`:qt}function Kr(pt,Sn,qt,Nn,lr,di){let Ti=Nn;return di!==void 0?Ti=di:qt.validating?Ti="validating":pt.length?Ti="error":Sn.length?Ti="warning":(qt.touched||lr&&qt.validated)&&(Ti="success"),Ti}var Rn=function(pt,Sn){var qt={};for(var Nn in pt)Object.prototype.hasOwnProperty.call(pt,Nn)&&Sn.indexOf(Nn)<0&&(qt[Nn]=pt[Nn]);if(pt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var lr=0,Nn=Object.getOwnPropertySymbols(pt);lr<Nn.length;lr++)Sn.indexOf(Nn[lr])<0&&Object.prototype.propertyIsEnumerable.call(pt,Nn[lr])&&(qt[Nn[lr]]=pt[Nn[lr]]);return qt};function Wr(pt){return An(pt).join("_")}function Ii(pt,Sn){const qt=Sn.getFieldInstance(pt),Nn=(0,Jt.bn)(qt);if(Nn)return Nn;const lr=Ur(An(pt),Sn.__INTERNAL__.name);if(lr)return document.getElementById(lr)}function pr(pt){const[Sn]=(0,On.cI)(),qt=q.useRef({}),Nn=q.useMemo(()=>pt!=null?pt:Object.assign(Object.assign({},Sn),{__INTERNAL__:{itemRef:lr=>di=>{const Ti=Wr(lr);di?qt.current[Ti]=di:delete qt.current[Ti]}},scrollToField:function(lr){let di=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{focus:Ti}=di,bo=Rn(di,["focus"]),Zi=Ii(lr,Nn);Zi&&((0,wi.Z)(Zi,Object.assign({scrollMode:"if-needed",block:"nearest"},bo)),Ti&&Nn.focusField(lr))},focusField:lr=>{var di,Ti;const bo=Nn.getFieldInstance(lr);typeof(bo==null?void 0:bo.focus)=="function"?bo.focus():(Ti=(di=Ii(lr,Nn))===null||di===void 0?void 0:di.focus)===null||Ti===void 0||Ti.call(di)},getFieldInstance:lr=>{const di=Wr(lr);return qt.current[di]}}),[pt,Sn]);return[Nn]}var it=F(63613),Ot=function(pt,Sn){var qt={};for(var Nn in pt)Object.prototype.hasOwnProperty.call(pt,Nn)&&Sn.indexOf(Nn)<0&&(qt[Nn]=pt[Nn]);if(pt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var lr=0,Nn=Object.getOwnPropertySymbols(pt);lr<Nn.length;lr++)Sn.indexOf(Nn[lr])<0&&Object.prototype.propertyIsEnumerable.call(pt,Nn[lr])&&(qt[Nn[lr]]=pt[Nn[lr]]);return qt};const Bn=(pt,Sn)=>{const qt=q.useContext(Yt.Z),{getPrefixCls:Nn,direction:lr,requiredMark:di,colon:Ti,scrollToFirstError:bo,className:Zi,style:fo}=(0,ut.dj)("form"),{prefixCls:yo,className:Gi,rootClassName:Oo,size:Xo,disabled:Bo=qt,form:Eo,colon:zo,labelAlign:Zo,labelWrap:na,labelCol:po,wrapperCol:wo,hideRequiredMark:So,layout:K="horizontal",scrollToFirstError:_e,requiredMark:wt,onFinishFailed:Tt,name:In,style:Qn,feedbackIcons:ci,variant:fr}=pt,Ai=Ot(pt,["prefixCls","className","rootClassName","size","disabled","form","colon","labelAlign","labelWrap","labelCol","wrapperCol","hideRequiredMark","layout","scrollToFirstError","requiredMark","onFinishFailed","name","style","feedbackIcons","variant"]),to=(0,bn.Z)(Xo),xr=q.useContext(it.Z),Vi=q.useMemo(()=>wt!==void 0?wt:So?!1:di!==void 0?di:!0,[So,wt,di]),Fr=zo!=null?zo:Ti,Ei=Nn("form",yo),_i=(0,Pe.Z)(Ei),[bi,Yo,jo]=cn(Ei,_i),an=xe()(Ei,`${Ei}-${K}`,{[`${Ei}-hide-required-mark`]:Vi===!1,[`${Ei}-rtl`]:lr==="rtl",[`${Ei}-${to}`]:to},jo,_i,Yo,Zi,Gi,Oo),[Ye]=pr(Eo),{__INTERNAL__:Ce}=Ye;Ce.name=In;const Ke=q.useMemo(()=>({name:In,labelAlign:Zo,labelCol:po,labelWrap:na,wrapperCol:wo,vertical:K==="vertical",colon:Fr,requiredMark:Vi,itemRef:Ce.itemRef,form:Ye,feedbackIcons:ci}),[In,Zo,po,wo,K,Fr,Vi,Ye,ci]),Be=q.useRef(null);q.useImperativeHandle(Sn,()=>{var tr;return Object.assign(Object.assign({},Ye),{nativeElement:(tr=Be.current)===null||tr===void 0?void 0:tr.nativeElement})});const Nt=(tr,Rr)=>{if(tr){let Lr={block:"nearest"};typeof tr=="object"&&(Lr=Object.assign(Object.assign({},Lr),tr)),Ye.scrollToField(Rr,Lr)}},dn=tr=>{if(Tt==null||Tt(tr),tr.errorFields.length){const Rr=tr.errorFields[0].name;if(_e!==void 0){Nt(_e,Rr);return}bo!==void 0&&Nt(bo,Rr)}};return bi(q.createElement(s.pg.Provider,{value:fr},q.createElement(Yt.n,{disabled:Bo},q.createElement(he.Z.Provider,{value:to},q.createElement(s.RV,{validateMessages:xr},q.createElement(s.q3.Provider,{value:Ke},q.createElement(On.ZP,Object.assign({id:In},Ai,{name:In,onFinishFailed:dn,form:Ye,ref:Be,style:Object.assign(Object.assign({},fo),Qn),className:an}))))))))};var gn=q.forwardRef(Bn),Er=F(60784),Vn=F(42684),ri=F(26021),fi=F(87117),qr=F(81626);function Jr(pt){if(typeof pt=="function")return pt;const Sn=(0,qr.Z)(pt);return Sn.length<=1?Sn[0]:Sn}const wr=()=>{const{status:pt,errors:Sn=[],warnings:qt=[]}=q.useContext(s.aM);return{status:pt,errors:Sn,warnings:qt}};wr.Context=s.aM;var Yn=wr,yr=F(49975);function Pr(pt){const[Sn,qt]=q.useState(pt),Nn=q.useRef(null),lr=q.useRef([]),di=q.useRef(!1);q.useEffect(()=>(di.current=!1,()=>{di.current=!0,yr.Z.cancel(Nn.current),Nn.current=null}),[]);function Ti(bo){di.current||(Nn.current===null&&(lr.current=[],Nn.current=(0,yr.Z)(()=>{Nn.current=null,qt(Zi=>{let fo=Zi;return lr.current.forEach(yo=>{fo=yo(fo)}),fo})})),lr.current.push(bo))}return[Sn,Ti]}function Ir(){const{itemRef:pt}=q.useContext(s.q3),Sn=q.useRef({});function qt(Nn,lr){const di=lr&&typeof lr=="object"&&(0,Vn.C4)(lr),Ti=Nn.join("_");return(Sn.current.name!==Ti||Sn.current.originRef!==di)&&(Sn.current.name=Ti,Sn.current.originRef=di,Sn.current.ref=(0,Vn.sQ)(pt(Nn),di)),Sn.current.ref}return qt}var Xr=F(60900),rr=F(92076),gr=F(18051),ei=F(78769),Un=F(22217),si=F(11365);const Si=pt=>{const{formItemCls:Sn}=pt;return{"@media screen and (-ms-high-contrast: active), (-ms-high-contrast: none)":{[`${Sn}-control`]:{display:"flex"}}}};var Yi=(0,ot.bk)(["Form","item-item"],(pt,Sn)=>{let{rootPrefixCls:qt}=Sn;const Nn=Zt(pt,qt);return[Si(Nn)]}),xo=function(pt,Sn){var qt={};for(var Nn in pt)Object.prototype.hasOwnProperty.call(pt,Nn)&&Sn.indexOf(Nn)<0&&(qt[Nn]=pt[Nn]);if(pt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var lr=0,Nn=Object.getOwnPropertySymbols(pt);lr<Nn.length;lr++)Sn.indexOf(Nn[lr])<0&&Object.prototype.propertyIsEnumerable.call(pt,Nn[lr])&&(qt[Nn[lr]]=pt[Nn[lr]]);return qt};const Qr=24;var tn=pt=>{const{prefixCls:Sn,status:qt,labelCol:Nn,wrapperCol:lr,children:di,errors:Ti,warnings:bo,_internalItemRender:Zi,extra:fo,help:yo,fieldId:Gi,marginBottom:Oo,onErrorVisibleChanged:Xo,label:Bo}=pt,Eo=`${Sn}-item`,zo=q.useContext(s.q3),Zo=q.useMemo(()=>{let Ai=Object.assign({},lr||zo.wrapperCol||{});return Bo===null&&!Nn&&!lr&&zo.labelCol&&[void 0,"xs","sm","md","lg","xl","xxl"].forEach(xr=>{const Vi=xr?[xr]:[],Fr=(0,Un.U2)(zo.labelCol,Vi),Ei=typeof Fr=="object"?Fr:{},_i=(0,Un.U2)(Ai,Vi),bi=typeof _i=="object"?_i:{};"span"in Ei&&!("offset"in bi)&&Ei.span<Qr&&(Ai=(0,Un.t8)(Ai,[].concat(Vi,["offset"]),Ei.span))}),Ai},[lr,zo]),na=xe()(`${Eo}-control`,Zo.className),po=q.useMemo(()=>{const{labelCol:Ai,wrapperCol:to}=zo;return xo(zo,["labelCol","wrapperCol"])},[zo]),wo=q.useRef(null),[So,K]=q.useState(0);(0,rr.Z)(()=>{fo&&wo.current?K(wo.current.clientHeight):K(0)},[fo]);const _e=q.createElement("div",{className:`${Eo}-control-input`},q.createElement("div",{className:`${Eo}-control-input-content`},di)),wt=q.useMemo(()=>({prefixCls:Sn,status:qt}),[Sn,qt]),Tt=Oo!==null||Ti.length||bo.length?q.createElement(s.Rk.Provider,{value:wt},q.createElement(hn,{fieldId:Gi,errors:Ti,warnings:bo,help:yo,helpStatus:qt,className:`${Eo}-explain-connected`,onVisibleChanged:Xo})):null,In={};Gi&&(In.id=`${Gi}_extra`);const Qn=fo?q.createElement("div",Object.assign({},In,{className:`${Eo}-extra`,ref:wo}),fo):null,ci=Tt||Qn?q.createElement("div",{className:`${Eo}-additional`,style:Oo?{minHeight:Oo+So}:{}},Tt,Qn):null,fr=Zi&&Zi.mark==="pro_table_render"&&Zi.render?Zi.render(pt,{input:_e,errorList:Tt,extra:Qn}):q.createElement(q.Fragment,null,_e,ci);return q.createElement(s.q3.Provider,{value:po},q.createElement(si.Z,Object.assign({},Zo,{className:na}),fr),q.createElement(Yi,{prefixCls:Sn}))},Tn=F(23022),ir={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M623.6 316.7C593.6 290.4 554 276 512 276s-81.6 14.5-111.6 40.7C369.2 344 352 380.7 352 420v7.6c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V420c0-44.1 43.1-80 96-80s96 35.9 96 80c0 31.1-22 59.6-56.1 72.7-21.2 8.1-39.2 22.3-52.1 40.9-13.1 19-19.9 41.8-19.9 64.9V620c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8v-22.7a48.3 48.3 0 0130.9-44.8c59-22.7 97.1-74.7 97.1-132.5.1-39.3-17.1-76-48.3-103.3zM472 732a40 40 0 1080 0 40 40 0 10-80 0z"}}]},name:"question-circle",theme:"outlined"},kr=ir,gi=F(23738),li=function(Sn,qt){return q.createElement(gi.Z,(0,Tn.Z)({},Sn,{ref:qt,icon:kr}))},eo=q.forwardRef(li),io=eo,Lo=F(77648),Co=F(42474),uo=F(9202),Re=function(pt,Sn){var qt={};for(var Nn in pt)Object.prototype.hasOwnProperty.call(pt,Nn)&&Sn.indexOf(Nn)<0&&(qt[Nn]=pt[Nn]);if(pt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var lr=0,Nn=Object.getOwnPropertySymbols(pt);lr<Nn.length;lr++)Sn.indexOf(Nn[lr])<0&&Object.prototype.propertyIsEnumerable.call(pt,Nn[lr])&&(qt[Nn[lr]]=pt[Nn[lr]]);return qt};function de(pt){return pt?typeof pt=="object"&&!q.isValidElement(pt)?pt:{title:pt}:null}var Ze=pt=>{let{prefixCls:Sn,label:qt,htmlFor:Nn,labelCol:lr,labelAlign:di,colon:Ti,required:bo,requiredMark:Zi,tooltip:fo,vertical:yo}=pt;var Gi;const[Oo]=(0,Lo.Z)("Form"),{labelAlign:Xo,labelCol:Bo,labelWrap:Eo,colon:zo}=q.useContext(s.q3);if(!qt)return null;const Zo=lr||Bo||{},na=di||Xo,po=`${Sn}-item-label`,wo=xe()(po,na==="left"&&`${po}-left`,Zo.className,{[`${po}-wrap`]:!!Eo});let So=qt;const K=Ti===!0||zo!==!1&&Ti!==!1;K&&!yo&&typeof qt=="string"&&qt.trim()&&(So=qt.replace(/[:|]\s*$/,""));const wt=de(fo);if(wt){const{icon:ci=q.createElement(io,null)}=wt,fr=Re(wt,["icon"]),Ai=q.createElement(uo.Z,Object.assign({},fr),q.cloneElement(ci,{className:`${Sn}-item-tooltip`,title:"",onClick:to=>{to.preventDefault()},tabIndex:null}));So=q.createElement(q.Fragment,null,So,Ai)}const Tt=Zi==="optional",In=typeof Zi=="function";In?So=Zi(So,{required:!!bo}):Tt&&!bo&&(So=q.createElement(q.Fragment,null,So,q.createElement("span",{className:`${Sn}-item-optional`,title:""},(Oo==null?void 0:Oo.optional)||((Gi=Co.Z.Form)===null||Gi===void 0?void 0:Gi.optional))));const Qn=xe()({[`${Sn}-item-required`]:bo,[`${Sn}-item-required-mark-optional`]:Tt||In,[`${Sn}-item-no-colon`]:!K});return q.createElement(si.Z,Object.assign({},Zo,{className:wo}),q.createElement("label",{htmlFor:Nn,className:Qn,title:typeof qt=="string"?qt:""},So))},pe=F(4692),et=F(75434),nt=F(64267),ln=F(24573);const At={success:pe.Z,warning:nt.Z,error:et.Z,validating:ln.Z};function sn(pt){let{children:Sn,errors:qt,warnings:Nn,hasFeedback:lr,validateStatus:di,prefixCls:Ti,meta:bo,noStyle:Zi}=pt;const fo=`${Ti}-item`,{feedbackIcons:yo}=q.useContext(s.q3),Gi=Kr(qt,Nn,bo,null,!!lr,di),{isFormItemInput:Oo,status:Xo,hasFeedback:Bo,feedbackIcon:Eo}=q.useContext(s.aM),zo=q.useMemo(()=>{var Zo;let na;if(lr){const wo=lr!==!0&&lr.icons||yo,So=Gi&&((Zo=wo==null?void 0:wo({status:Gi,errors:qt,warnings:Nn}))===null||Zo===void 0?void 0:Zo[Gi]),K=Gi&&At[Gi];na=So!==!1&&K?q.createElement("span",{className:xe()(`${fo}-feedback-icon`,`${fo}-feedback-icon-${Gi}`)},So||q.createElement(K,null)):null}const po={status:Gi||"",errors:qt,warnings:Nn,hasFeedback:!!lr,feedbackIcon:na,isFormItemInput:!0};return Zi&&(po.status=(Gi!=null?Gi:Xo)||"",po.isFormItemInput=Oo,po.hasFeedback=!!(lr!=null?lr:Bo),po.feedbackIcon=lr!==void 0?po.feedbackIcon:Eo),po},[Gi,lr,Zi,Oo,Xo]);return q.createElement(s.aM.Provider,{value:zo},Sn)}var vn=function(pt,Sn){var qt={};for(var Nn in pt)Object.prototype.hasOwnProperty.call(pt,Nn)&&Sn.indexOf(Nn)<0&&(qt[Nn]=pt[Nn]);if(pt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var lr=0,Nn=Object.getOwnPropertySymbols(pt);lr<Nn.length;lr++)Sn.indexOf(Nn[lr])<0&&Object.prototype.propertyIsEnumerable.call(pt,Nn[lr])&&(qt[Nn[lr]]=pt[Nn[lr]]);return qt};function Je(pt){const{prefixCls:Sn,className:qt,rootClassName:Nn,style:lr,help:di,errors:Ti,warnings:bo,validateStatus:Zi,meta:fo,hasFeedback:yo,hidden:Gi,children:Oo,fieldId:Xo,required:Bo,isRequired:Eo,onSubItemMetaChange:zo,layout:Zo}=pt,na=vn(pt,["prefixCls","className","rootClassName","style","help","errors","warnings","validateStatus","meta","hasFeedback","hidden","children","fieldId","required","isRequired","onSubItemMetaChange","layout"]),po=`${Sn}-item`,{requiredMark:wo,vertical:So}=q.useContext(s.q3),K=So||Zo==="vertical",_e=q.useRef(null),wt=ye(Ti),Tt=ye(bo),In=di!=null,Qn=!!(In||Ti.length||bo.length),ci=!!_e.current&&(0,Xr.Z)(_e.current),[fr,Ai]=q.useState(null);(0,rr.Z)(()=>{if(Qn&&_e.current){const Ei=getComputedStyle(_e.current);Ai(parseInt(Ei.marginBottom,10))}},[Qn,ci]);const to=Ei=>{Ei||Ai(null)},Vi=function(){let Ei=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const _i=Ei?wt:fo.errors,bi=Ei?Tt:fo.warnings;return Kr(_i,bi,fo,"",!!yo,Zi)}(),Fr=xe()(po,qt,Nn,{[`${po}-with-help`]:In||wt.length||Tt.length,[`${po}-has-feedback`]:Vi&&yo,[`${po}-has-success`]:Vi==="success",[`${po}-has-warning`]:Vi==="warning",[`${po}-has-error`]:Vi==="error",[`${po}-is-validating`]:Vi==="validating",[`${po}-hidden`]:Gi,[`${po}-${Zo}`]:Zo});return q.createElement("div",{className:Fr,style:lr,ref:_e},q.createElement(ei.Z,Object.assign({className:`${po}-row`},(0,gr.Z)(na,["_internalItemRender","colon","dependencies","extra","fieldKey","getValueFromEvent","getValueProps","htmlFor","id","initialValue","isListField","label","labelAlign","labelCol","labelWrap","messageVariables","name","normalize","noStyle","preserve","requiredMark","rules","shouldUpdate","trigger","tooltip","validateFirst","validateTrigger","valuePropName","wrapperCol","validateDebounce"])),q.createElement(Ze,Object.assign({htmlFor:Xo},pt,{requiredMark:wo,required:Bo!=null?Bo:Eo,prefixCls:Sn,vertical:K})),q.createElement(tn,Object.assign({},pt,fo,{errors:wt,warnings:Tt,prefixCls:Sn,status:Vi,help:di,marginBottom:fr,onErrorVisibleChanged:to}),q.createElement(s.qI.Provider,{value:zo},q.createElement(sn,{prefixCls:Sn,meta:fo,errors:fo.errors,warnings:fo.warnings,hasFeedback:yo,validateStatus:Vi},Oo)))),!!fr&&q.createElement("div",{className:`${po}-margin-offset`,style:{marginBottom:-fr}}))}const Rt="__SPLIT__",Xt=null;function nn(pt,Sn){const qt=Object.keys(pt),Nn=Object.keys(Sn);return qt.length===Nn.length&&qt.every(lr=>{const di=pt[lr],Ti=Sn[lr];return di===Ti||typeof di=="function"||typeof Ti=="function"})}const dt=q.memo(pt=>{let{children:Sn}=pt;return Sn},(pt,Sn)=>nn(pt.control,Sn.control)&&pt.update===Sn.update&&pt.childProps.length===Sn.childProps.length&&pt.childProps.every((qt,Nn)=>qt===Sn.childProps[Nn]));function lt(){return{errors:[],warnings:[],touched:!1,validating:!1,name:[],validated:!1}}function En(pt){const{name:Sn,noStyle:qt,className:Nn,dependencies:lr,prefixCls:di,shouldUpdate:Ti,rules:bo,children:Zi,required:fo,label:yo,messageVariables:Gi,trigger:Oo="onChange",validateTrigger:Xo,hidden:Bo,help:Eo,layout:zo}=pt,{getPrefixCls:Zo}=q.useContext(ut.E_),{name:na}=q.useContext(s.q3),po=Jr(Zi),wo=typeof po=="function",So=q.useContext(s.qI),{validateTrigger:K}=q.useContext(On.zb),_e=Xo!==void 0?Xo:K,wt=Sn!=null,Tt=Zo("form",di),In=(0,Pe.Z)(Tt),[Qn,ci,fr]=cn(Tt,In),Ai=(0,fi.ln)("Form.Item"),to=q.useContext(On.ZM),xr=q.useRef(null),[Vi,Fr]=Pr({}),[Ei,_i]=(0,Er.Z)(()=>lt()),bi=Be=>{const Nt=to==null?void 0:to.getKey(Be.name);if(_i(Be.destroy?lt():Be,!0),qt&&Eo!==!1&&So){let dn=Be.name;if(Be.destroy)dn=xr.current||dn;else if(Nt!==void 0){const[tr,Rr]=Nt;dn=[tr].concat((0,tt.Z)(Rr)),xr.current=dn}So(Be,dn)}},Yo=(Be,Nt)=>{Fr(dn=>{const tr=Object.assign({},dn),Lr=[].concat((0,tt.Z)(Be.name.slice(0,-1)),(0,tt.Z)(Nt)).join(Rt);return Be.destroy?delete tr[Lr]:tr[Lr]=Be,tr})},[jo,an]=q.useMemo(()=>{const Be=(0,tt.Z)(Ei.errors),Nt=(0,tt.Z)(Ei.warnings);return Object.values(Vi).forEach(dn=>{Be.push.apply(Be,(0,tt.Z)(dn.errors||[])),Nt.push.apply(Nt,(0,tt.Z)(dn.warnings||[]))}),[Be,Nt]},[Vi,Ei.errors,Ei.warnings]),Ye=Ir();function Ce(Be,Nt,dn){return qt&&!Bo?q.createElement(sn,{prefixCls:Tt,hasFeedback:pt.hasFeedback,validateStatus:pt.validateStatus,meta:Ei,errors:jo,warnings:an,noStyle:!0},Be):q.createElement(Je,Object.assign({key:"row"},pt,{className:xe()(Nn,fr,In,ci),prefixCls:Tt,fieldId:Nt,isRequired:dn,errors:jo,warnings:an,meta:Ei,onSubItemMetaChange:Yo,layout:zo}),Be)}if(!wt&&!wo&&!lr)return Qn(Ce(po));let Ke={};return typeof yo=="string"?Ke.label=yo:Sn&&(Ke.label=String(Sn)),Gi&&(Ke=Object.assign(Object.assign({},Ke),Gi)),Qn(q.createElement(On.gN,Object.assign({},pt,{messageVariables:Ke,trigger:Oo,validateTrigger:_e,onMetaChange:bi}),(Be,Nt,dn)=>{const tr=An(Sn).length&&Nt?Nt.name:[],Rr=Ur(tr,na),Lr=fo!==void 0?fo:!!(bo!=null&&bo.some(zi=>{if(zi&&typeof zi=="object"&&zi.required&&!zi.warningOnly)return!0;if(typeof zi=="function"){const Mo=zi(dn);return(Mo==null?void 0:Mo.required)&&!(Mo!=null&&Mo.warningOnly)}return!1})),Mr=Object.assign({},Be);let vi=null;if(Array.isArray(po)&&wt)vi=po;else if(!(wo&&(!(Ti||lr)||wt))){if(!(lr&&!wo&&!wt))if(q.isValidElement(po)){const zi=Object.assign(Object.assign({},po.props),Mr);if(zi.id||(zi.id=Rr),Eo||jo.length>0||an.length>0||pt.extra){const Ni=[];(Eo||jo.length>0)&&Ni.push(`${Rr}_help`),pt.extra&&Ni.push(`${Rr}_extra`),zi["aria-describedby"]=Ni.join(" ")}jo.length>0&&(zi["aria-invalid"]="true"),Lr&&(zi["aria-required"]="true"),(0,Vn.Yr)(po)&&(zi.ref=Ye(tr,po)),new Set([].concat((0,tt.Z)(An(Oo)),(0,tt.Z)(An(_e)))).forEach(Ni=>{zi[Ni]=function(){for(var hi,Wi,Hi,Po,aa,ha=arguments.length,Ta=new Array(ha),Ma=0;Ma<ha;Ma++)Ta[Ma]=arguments[Ma];(Hi=Mr[Ni])===null||Hi===void 0||(hi=Hi).call.apply(hi,[Mr].concat(Ta)),(aa=(Po=po.props)[Ni])===null||aa===void 0||(Wi=aa).call.apply(Wi,[Po].concat(Ta))}});const Oi=[zi["aria-required"],zi["aria-invalid"],zi["aria-describedby"]];vi=q.createElement(dt,{control:Mr,update:po,childProps:Oi},(0,ri.Tm)(po,zi))}else wo&&(Ti||lr)&&!wt?vi=po(dn):vi=po}return Ce(vi,Rr,Lr)}))}const _n=En;_n.useStatus=Yn;var Wn=_n,nr=function(pt,Sn){var qt={};for(var Nn in pt)Object.prototype.hasOwnProperty.call(pt,Nn)&&Sn.indexOf(Nn)<0&&(qt[Nn]=pt[Nn]);if(pt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var lr=0,Nn=Object.getOwnPropertySymbols(pt);lr<Nn.length;lr++)Sn.indexOf(Nn[lr])<0&&Object.prototype.propertyIsEnumerable.call(pt,Nn[lr])&&(qt[Nn[lr]]=pt[Nn[lr]]);return qt},Nr=pt=>{var{prefixCls:Sn,children:qt}=pt,Nn=nr(pt,["prefixCls","children"]);const{getPrefixCls:lr}=q.useContext(ut.E_),di=lr("form",Sn),Ti=q.useMemo(()=>({prefixCls:di,status:"error"}),[di]);return q.createElement(On.aV,Object.assign({},Nn),(bo,Zi,fo)=>q.createElement(s.Rk.Provider,{value:Ti},qt(bo.map(yo=>Object.assign(Object.assign({},yo),{fieldKey:yo.key})),Zi,{errors:fo.errors,warnings:fo.warnings})))};function ui(){const{form:pt}=q.useContext(s.q3);return pt}const Zr=gn;Zr.Item=Wn,Zr.List=Nr,Zr.ErrorList=hn,Zr.useForm=pr,Zr.useFormInstance=ui,Zr.useWatch=On.qo,Zr.Provider=s.RV,Zr.create=()=>{};var qi=Zr},63613:function(Hr,jt,F){"use strict";var s=F(75271);jt.Z=(0,s.createContext)(void 0)},60017:function(Hr,jt,F){"use strict";var s=F(75271);const tt=(0,s.createContext)({});jt.Z=tt},11365:function(Hr,jt,F){"use strict";var s=F(75271),tt=F(82187),q=F.n(tt),c=F(98446),xe=F(60017),Ge=F(40672),ze=function(je,Ee){var He={};for(var Qe in je)Object.prototype.hasOwnProperty.call(je,Qe)&&Ee.indexOf(Qe)<0&&(He[Qe]=je[Qe]);if(je!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ot=0,Qe=Object.getOwnPropertySymbols(je);ot<Qe.length;ot++)Ee.indexOf(Qe[ot])<0&&Object.prototype.propertyIsEnumerable.call(je,Qe[ot])&&(He[Qe[ot]]=je[Qe[ot]]);return He};function Pe(je){return typeof je=="number"?`${je} ${je} auto`:/^\d+(\.\d+)?(px|em|rem|%)$/.test(je)?`0 0 ${je}`:je}const ye=["xs","sm","md","lg","xl","xxl"],te=s.forwardRef((je,Ee)=>{const{getPrefixCls:He,direction:Qe}=s.useContext(c.E_),{gutter:ot,wrap:qe}=s.useContext(xe.Z),{prefixCls:gt,span:xt,order:Xe,offset:Ut,push:yt,pull:Pt,className:Wt,children:kt,flex:Sr,style:cr}=je,Xn=ze(je,["prefixCls","span","order","offset","push","pull","className","children","flex","style"]),We=He("col",gt),[Zt,cn,Kt]=(0,Ge.cG)(We),Fe={};let Ln={};ye.forEach(ut=>{let Yt={};const bn=je[ut];typeof bn=="number"?Yt.span=bn:typeof bn=="object"&&(Yt=bn||{}),delete Xn[ut],Ln=Object.assign(Object.assign({},Ln),{[`${We}-${ut}-${Yt.span}`]:Yt.span!==void 0,[`${We}-${ut}-order-${Yt.order}`]:Yt.order||Yt.order===0,[`${We}-${ut}-offset-${Yt.offset}`]:Yt.offset||Yt.offset===0,[`${We}-${ut}-push-${Yt.push}`]:Yt.push||Yt.push===0,[`${We}-${ut}-pull-${Yt.pull}`]:Yt.pull||Yt.pull===0,[`${We}-rtl`]:Qe==="rtl"}),Yt.flex&&(Ln[`${We}-${ut}-flex`]=!0,Fe[`--${We}-${ut}-flex`]=Pe(Yt.flex))});const hn=q()(We,{[`${We}-${xt}`]:xt!==void 0,[`${We}-order-${Xe}`]:Xe,[`${We}-offset-${Ut}`]:Ut,[`${We}-push-${yt}`]:yt,[`${We}-pull-${Pt}`]:Pt},Wt,Ln,cn,Kt),On={};if(ot&&ot[0]>0){const ut=ot[0]/2;On.paddingLeft=ut,On.paddingRight=ut}return Sr&&(On.flex=Pe(Sr),qe===!1&&!On.minWidth&&(On.minWidth=0)),Zt(s.createElement("div",Object.assign({},Xn,{style:Object.assign(Object.assign(Object.assign({},On),cr),Fe),className:hn,ref:Ee}),kt))});jt.Z=te},19240:function(Hr,jt,F){"use strict";var s=F(75271),tt=F(92076),q=F(85990),c=F(96777);function xe(){let Ge=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,ze=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const Pe=(0,s.useRef)(ze),ye=(0,q.Z)(),te=(0,c.ZP)();return(0,tt.Z)(()=>{const je=te.subscribe(Ee=>{Pe.current=Ee,Ge&&ye()});return()=>te.unsubscribe(je)},[]),Pe.current}jt.Z=xe},78769:function(Hr,jt,F){"use strict";F.d(jt,{Z:function(){return ot}});var s=F(75271),tt=F(82187),q=F.n(tt),c=F(96777),xe=F(98446),Ge=F(19240);function ze(qe,gt){const xt=[void 0,void 0],Xe=Array.isArray(qe)?qe:[qe,void 0],Ut=gt||{xs:!0,sm:!0,md:!0,lg:!0,xl:!0,xxl:!0};return Xe.forEach((yt,Pt)=>{if(typeof yt=="object"&&yt!==null)for(let Wt=0;Wt<c.c4.length;Wt++){const kt=c.c4[Wt];if(Ut[kt]&&yt[kt]!==void 0){xt[Pt]=yt[kt];break}}else xt[Pt]=yt}),xt}var Pe=F(60017),ye=F(40672),te=function(qe,gt){var xt={};for(var Xe in qe)Object.prototype.hasOwnProperty.call(qe,Xe)&&gt.indexOf(Xe)<0&&(xt[Xe]=qe[Xe]);if(qe!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Ut=0,Xe=Object.getOwnPropertySymbols(qe);Ut<Xe.length;Ut++)gt.indexOf(Xe[Ut])<0&&Object.prototype.propertyIsEnumerable.call(qe,Xe[Ut])&&(xt[Xe[Ut]]=qe[Xe[Ut]]);return xt};const je=null,Ee=null;function He(qe,gt){const[xt,Xe]=s.useState(typeof qe=="string"?qe:""),Ut=()=>{if(typeof qe=="string"&&Xe(qe),typeof qe=="object")for(let yt=0;yt<c.c4.length;yt++){const Pt=c.c4[yt];if(!gt||!gt[Pt])continue;const Wt=qe[Pt];if(Wt!==void 0){Xe(Wt);return}}};return s.useEffect(()=>{Ut()},[JSON.stringify(qe),gt]),xt}var ot=s.forwardRef((qe,gt)=>{const{prefixCls:xt,justify:Xe,align:Ut,className:yt,style:Pt,children:Wt,gutter:kt=0,wrap:Sr}=qe,cr=te(qe,["prefixCls","justify","align","className","style","children","gutter","wrap"]),{getPrefixCls:Xn,direction:We}=s.useContext(xe.E_),Zt=(0,Ge.Z)(!0,null),cn=He(Ut,Zt),Kt=He(Xe,Zt),Fe=Xn("row",xt),[Ln,hn,On]=(0,ye.VM)(Fe),ut=ze(kt,Zt),Yt=q()(Fe,{[`${Fe}-no-wrap`]:Sr===!1,[`${Fe}-${Kt}`]:Kt,[`${Fe}-${cn}`]:cn,[`${Fe}-rtl`]:We==="rtl"},yt,hn,On),bn={},he=ut[0]!=null&&ut[0]>0?ut[0]/-2:void 0;he&&(bn.marginLeft=he,bn.marginRight=he);const[Jt,wi]=ut;bn.rowGap=wi;const ai=s.useMemo(()=>({gutter:[Jt,wi],wrap:Sr}),[Jt,wi,Sr]);return Ln(s.createElement(Pe.Z.Provider,{value:ai},s.createElement("div",Object.assign({},cr,{className:Yt,style:Object.assign(Object.assign({},bn),Pt),ref:gt}),Wt)))})},40672:function(Hr,jt,F){"use strict";F.d(jt,{VM:function(){return je},cG:function(){return He},hd:function(){return Ee}});var s=F(55921),tt=F(84825),q=F(83509);const c=Qe=>{const{componentCls:ot}=Qe;return{[ot]:{display:"flex",flexFlow:"row wrap",minWidth:0,"&::before, &::after":{display:"flex"},"&-no-wrap":{flexWrap:"nowrap"},"&-start":{justifyContent:"flex-start"},"&-center":{justifyContent:"center"},"&-end":{justifyContent:"flex-end"},"&-space-between":{justifyContent:"space-between"},"&-space-around":{justifyContent:"space-around"},"&-space-evenly":{justifyContent:"space-evenly"},"&-top":{alignItems:"flex-start"},"&-middle":{alignItems:"center"},"&-bottom":{alignItems:"flex-end"}}}},xe=Qe=>{const{componentCls:ot}=Qe;return{[ot]:{position:"relative",maxWidth:"100%",minHeight:1}}},Ge=(Qe,ot)=>{const{prefixCls:qe,componentCls:gt,gridColumns:xt}=Qe,Xe={};for(let Ut=xt;Ut>=0;Ut--)Ut===0?(Xe[`${gt}${ot}-${Ut}`]={display:"none"},Xe[`${gt}-push-${Ut}`]={insetInlineStart:"auto"},Xe[`${gt}-pull-${Ut}`]={insetInlineEnd:"auto"},Xe[`${gt}${ot}-push-${Ut}`]={insetInlineStart:"auto"},Xe[`${gt}${ot}-pull-${Ut}`]={insetInlineEnd:"auto"},Xe[`${gt}${ot}-offset-${Ut}`]={marginInlineStart:0},Xe[`${gt}${ot}-order-${Ut}`]={order:0}):(Xe[`${gt}${ot}-${Ut}`]=[{"--ant-display":"block",display:"block"},{display:"var(--ant-display)",flex:`0 0 ${Ut/xt*100}%`,maxWidth:`${Ut/xt*100}%`}],Xe[`${gt}${ot}-push-${Ut}`]={insetInlineStart:`${Ut/xt*100}%`},Xe[`${gt}${ot}-pull-${Ut}`]={insetInlineEnd:`${Ut/xt*100}%`},Xe[`${gt}${ot}-offset-${Ut}`]={marginInlineStart:`${Ut/xt*100}%`},Xe[`${gt}${ot}-order-${Ut}`]={order:Ut});return Xe[`${gt}${ot}-flex`]={flex:`var(--${qe}${ot}-flex)`},Xe},ze=(Qe,ot)=>Ge(Qe,ot),Pe=(Qe,ot,qe)=>({[`@media (min-width: ${(0,s.bf)(ot)})`]:Object.assign({},ze(Qe,qe))}),ye=()=>({}),te=()=>({}),je=(0,tt.I$)("Grid",c,ye),Ee=Qe=>({xs:Qe.screenXSMin,sm:Qe.screenSMMin,md:Qe.screenMDMin,lg:Qe.screenLGMin,xl:Qe.screenXLMin,xxl:Qe.screenXXLMin}),He=(0,tt.I$)("Grid",Qe=>{const ot=(0,q.IX)(Qe,{gridColumns:24}),qe=Ee(ot);return delete qe.xs,[xe(ot),ze(ot,""),ze(ot,"-xs"),Object.keys(qe).map(gt=>Pe(ot,qe[gt],`-${gt}`)).reduce((gt,xt)=>Object.assign(Object.assign({},gt),xt),{})]},te)},60830:function(Hr,jt,F){"use strict";F.r(jt),F.d(jt,{Affix:function(){return Wt},Alert:function(){return Yn},Anchor:function(){return Co},App:function(){return Ou},AutoComplete:function(){return Em},Avatar:function(){return vh},BackTop:function(){return Rv},Badge:function(){return Yu},Breadcrumb:function(){return pC},Button:function(){return $n},Calendar:function(){return g1},Card:function(){return tS},Carousel:function(){return xS},Cascader:function(){return vt},Checkbox:function(){return ni},Col:function(){return Qi},Collapse:function(){return ho.Z},ColorPicker:function(){return da.Z},ConfigProvider:function(){return _e.ZP},DatePicker:function(){return m2},Descriptions:function(){return TM},Divider:function(){return MM.Z},Drawer:function(){return WM},Dropdown:function(){return wx},Empty:function(){return zS.Z},Flex:function(){return fP},FloatButton:function(){return MP},Form:function(){return PP.Z},Grid:function(){return RP},Image:function(){return FO},Input:function(){return b3},InputNumber:function(){return x3.Z},Layout:function(){return P3},List:function(){return TR},Mentions:function(){return e$},Menu:function(){return Xv},Modal:function(){return f$},Pagination:function(){return Ox},Popconfirm:function(){return w$},Popover:function(){return Hd.Z},Progress:function(){return tw},QRCode:function(){return x4},Radio:function(){return nw.ZP},Rate:function(){return V4},Result:function(){return lA},Row:function(){return cA},Segmented:function(){return uA.Z},Select:function(){return gu.default},Skeleton:function(){return zr},Slider:function(){return dA.Z},Space:function(){return R2},Spin:function(){return gv},Splitter:function(){return f8},Statistic:function(){return EA},Steps:function(){return JA},Switch:function(){return cD},Table:function(){return Dz},Tabs:function(){return Lh},Tag:function(){return Vz},TimePicker:function(){return sN},Timeline:function(){return vN},Tooltip:function(){return Du.Z},Tour:function(){return kN},Transfer:function(){return h6},Tree:function(){return oT},TreeSelect:function(){return H6},Typography:function(){return kB},Upload:function(){return NF},Watermark:function(){return YF},message:function(){return l$},notification:function(){return y$},theme:function(){return nN},unstableSetRender:function(){return wt.q},version:function(){return BF.Z}});var s=F(75271),tt=F(82187),q=F.n(tt),c=F(40493),xe=F(46865),Ge=F(49975);function ze(e){let t;const a=f=>()=>{t=null,e.apply(void 0,(0,xe.Z)(f))},o=function(){if(t==null){for(var f=arguments.length,y=new Array(f),C=0;C<f;C++)y[C]=arguments[C];t=(0,Ge.Z)(a(y))}};return o.cancel=()=>{Ge.Z.cancel(t),t=null},o}var Pe=ze,ye=F(98446),te=F(84825);const je=e=>{const{componentCls:t}=e;return{[t]:{position:"fixed",zIndex:e.zIndexPopup}}},Ee=e=>({zIndexPopup:e.zIndexBase+10});var He=(0,te.I$)("Affix",je,Ee);function Qe(e){return e!==window?e.getBoundingClientRect():{top:0,bottom:window.innerHeight}}function ot(e,t,a){if(a!==void 0&&Math.round(t.top)>Math.round(e.top)-a)return a+t.top}function qe(e,t,a){if(a!==void 0&&Math.round(t.bottom)<Math.round(e.bottom)+a){const o=window.innerHeight-t.bottom;return a+o}}var gt=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a};const xt=["resize","scroll","touchstart","touchmove","touchend","pageshow","load"];function Xe(){return typeof window!="undefined"?window:null}const Ut=0,yt=1;var Wt=s.forwardRef((e,t)=>{var a;const{style:o,offsetTop:f,offsetBottom:y,prefixCls:C,className:w,rootClassName:I,children:D,target:L,onChange:z,onTestUpdatePosition:k}=e,Z=gt(e,["style","offsetTop","offsetBottom","prefixCls","className","rootClassName","children","target","onChange","onTestUpdatePosition"]),{getPrefixCls:j,getTargetContainer:G}=s.useContext(ye.E_),H=j("affix",C),[X,ne]=s.useState(!1),[oe,ae]=s.useState(),[ie,le]=s.useState(),fe=s.useRef(Ut),me=s.useRef(null),ge=s.useRef(null),be=s.useRef(null),Ie=s.useRef(null),Oe=s.useRef(null),Te=(a=L!=null?L:G)!==null&&a!==void 0?a:Xe,Ve=y===void 0&&f===void 0?0:f,De=()=>{if(fe.current!==yt||!Ie.current||!be.current||!Te)return;const $t=Te();if($t){const Ht={status:Ut},Mt=Qe(be.current);if(Mt.top===0&&Mt.left===0&&Mt.width===0&&Mt.height===0)return;const Cn=Qe($t),Hn=ot(Mt,Cn,Ve),pn=qe(Mt,Cn,y);Hn!==void 0?(Ht.affixStyle={position:"fixed",top:Hn,width:Mt.width,height:Mt.height},Ht.placeholderStyle={width:Mt.width,height:Mt.height}):pn!==void 0&&(Ht.affixStyle={position:"fixed",bottom:pn,width:Mt.width,height:Mt.height},Ht.placeholderStyle={width:Mt.width,height:Mt.height}),Ht.lastAffix=!!Ht.affixStyle,X!==Ht.lastAffix&&(z==null||z(Ht.lastAffix)),fe.current=Ht.status,ae(Ht.affixStyle),le(Ht.placeholderStyle),ne(Ht.lastAffix)}},Ue=()=>{fe.current=yt,De()},ke=Pe(()=>{Ue()}),st=Pe(()=>{if(Te&&oe){const $t=Te();if($t&&be.current){const Ht=Qe($t),Mt=Qe(be.current),Cn=ot(Mt,Ht,Ve),Hn=qe(Mt,Ht,y);if(Cn!==void 0&&oe.top===Cn||Hn!==void 0&&oe.bottom===Hn)return}}Ue()}),ct=()=>{const $t=Te==null?void 0:Te();$t&&(xt.forEach(Ht=>{var Mt;ge.current&&((Mt=me.current)===null||Mt===void 0||Mt.removeEventListener(Ht,ge.current)),$t==null||$t.addEventListener(Ht,st)}),me.current=$t,ge.current=st)},Et=()=>{Oe.current&&(clearTimeout(Oe.current),Oe.current=null);const $t=Te==null?void 0:Te();xt.forEach(Ht=>{var Mt;$t==null||$t.removeEventListener(Ht,st),ge.current&&((Mt=me.current)===null||Mt===void 0||Mt.removeEventListener(Ht,ge.current))}),ke.cancel(),st.cancel()};s.useImperativeHandle(t,()=>({updatePosition:ke})),s.useEffect(()=>(Oe.current=setTimeout(ct),()=>Et()),[]),s.useEffect(()=>{ct()},[L,oe]),s.useEffect(()=>{ke()},[L,f,y]);const[It,Ct,mt]=He(H),bt=q()(I,Ct,H,mt),zt=q()({[bt]:oe});return It(s.createElement(c.Z,{onResize:ke},s.createElement("div",Object.assign({style:o,className:w,ref:be},Z),oe&&s.createElement("div",{style:ie,"aria-hidden":"true"}),s.createElement("div",{className:zt,ref:Ie,style:oe},s.createElement(c.Z,{onResize:ke},D)))))}),kt=F(4692),Sr=F(75434),cr=F(14258),Xn=F(64267),We=F(23022),Zt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm32 664c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V456c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272zm-32-344a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"info-circle",theme:"filled"},cn=Zt,Kt=F(23738),Fe=function(t,a){return s.createElement(Kt.Z,(0,We.Z)({},t,{ref:a,icon:cn}))},Ln=s.forwardRef(Fe),hn=Ln,On=F(62803),ut=F(71305),Yt=F(42684),bn=F(26021),he=F(55921),Jt=F(34299);const wi=(e,t,a,o,f)=>({background:e,border:`${(0,he.bf)(o.lineWidth)} ${o.lineType} ${t}`,[`${f}-icon`]:{color:a}}),ai=e=>{const{componentCls:t,motionDurationSlow:a,marginXS:o,marginSM:f,fontSize:y,fontSizeLG:C,lineHeight:w,borderRadiusLG:I,motionEaseInOutCirc:D,withDescriptionIconSize:L,colorText:z,colorTextHeading:k,withDescriptionPadding:Z,defaultPadding:j}=e;return{[t]:Object.assign(Object.assign({},(0,Jt.Wf)(e)),{position:"relative",display:"flex",alignItems:"center",padding:j,wordWrap:"break-word",borderRadius:I,[`&${t}-rtl`]:{direction:"rtl"},[`${t}-content`]:{flex:1,minWidth:0},[`${t}-icon`]:{marginInlineEnd:o,lineHeight:0},"&-description":{display:"none",fontSize:y,lineHeight:w},"&-message":{color:k},[`&${t}-motion-leave`]:{overflow:"hidden",opacity:1,transition:`max-height ${a} ${D}, opacity ${a} ${D},
        padding-top ${a} ${D}, padding-bottom ${a} ${D},
        margin-bottom ${a} ${D}`},[`&${t}-motion-leave-active`]:{maxHeight:0,marginBottom:"0 !important",paddingTop:0,paddingBottom:0,opacity:0}}),[`${t}-with-description`]:{alignItems:"flex-start",padding:Z,[`${t}-icon`]:{marginInlineEnd:f,fontSize:L,lineHeight:0},[`${t}-message`]:{display:"block",marginBottom:o,color:k,fontSize:C},[`${t}-description`]:{display:"block",color:z}},[`${t}-banner`]:{marginBottom:0,border:"0 !important",borderRadius:0}}},$e=e=>{const{componentCls:t,colorSuccess:a,colorSuccessBorder:o,colorSuccessBg:f,colorWarning:y,colorWarningBorder:C,colorWarningBg:w,colorError:I,colorErrorBorder:D,colorErrorBg:L,colorInfo:z,colorInfoBorder:k,colorInfoBg:Z}=e;return{[t]:{"&-success":wi(f,o,a,e,t),"&-info":wi(Z,k,z,e,t),"&-warning":wi(w,C,y,e,t),"&-error":Object.assign(Object.assign({},wi(L,D,I,e,t)),{[`${t}-description > pre`]:{margin:0,padding:0}})}}},An=e=>{const{componentCls:t,iconCls:a,motionDurationMid:o,marginXS:f,fontSizeIcon:y,colorIcon:C,colorIconHover:w}=e;return{[t]:{"&-action":{marginInlineStart:f},[`${t}-close-icon`]:{marginInlineStart:f,padding:0,overflow:"hidden",fontSize:y,lineHeight:(0,he.bf)(y),backgroundColor:"transparent",border:"none",outline:"none",cursor:"pointer",[`${a}-close`]:{color:C,transition:`color ${o}`,"&:hover":{color:w}}},"&-close-text":{color:C,transition:`color ${o}`,"&:hover":{color:w}}}}},Ur=e=>({withDescriptionIconSize:e.fontSizeHeading3,defaultPadding:`${e.paddingContentVerticalSM}px 12px`,withDescriptionPadding:`${e.paddingMD}px ${e.paddingContentHorizontalLG}px`});var Kr=(0,te.I$)("Alert",e=>[ai(e),$e(e),An(e)],Ur),Rn=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a};const Wr={success:kt.Z,info:hn,error:Sr.Z,warning:Xn.Z},Ii=e=>{const{icon:t,prefixCls:a,type:o}=e,f=Wr[o]||null;return t?(0,bn.wm)(t,s.createElement("span",{className:`${a}-icon`},t),()=>({className:q()(`${a}-icon`,t.props.className)})):s.createElement(f,{className:`${a}-icon`})},pr=e=>{const{isClosable:t,prefixCls:a,closeIcon:o,handleClose:f,ariaProps:y}=e,C=o===!0||o===void 0?s.createElement(cr.Z,null):o;return t?s.createElement("button",Object.assign({type:"button",onClick:f,className:`${a}-close-icon`,tabIndex:0},y),C):null};var Ot=s.forwardRef((e,t)=>{const{description:a,prefixCls:o,message:f,banner:y,className:C,rootClassName:w,style:I,onMouseEnter:D,onMouseLeave:L,onClick:z,afterClose:k,showIcon:Z,closable:j,closeText:G,closeIcon:H,action:X,id:ne}=e,oe=Rn(e,["description","prefixCls","message","banner","className","rootClassName","style","onMouseEnter","onMouseLeave","onClick","afterClose","showIcon","closable","closeText","closeIcon","action","id"]),[ae,ie]=s.useState(!1),le=s.useRef(null);s.useImperativeHandle(t,()=>({nativeElement:le.current}));const{getPrefixCls:fe,direction:me,closable:ge,closeIcon:be,className:Ie,style:Oe}=(0,ye.dj)("alert"),Te=fe("alert",o),[Ve,De,Ue]=Kr(Te),ke=zt=>{var $t;ie(!0),($t=e.onClose)===null||$t===void 0||$t.call(e,zt)},st=s.useMemo(()=>e.type!==void 0?e.type:y?"warning":"info",[e.type,y]),ct=s.useMemo(()=>typeof j=="object"&&j.closeIcon||G?!0:typeof j=="boolean"?j:H!==!1&&H!==null&&H!==void 0?!0:!!ge,[G,H,j,ge]),Et=y&&Z===void 0?!0:Z,It=q()(Te,`${Te}-${st}`,{[`${Te}-with-description`]:!!a,[`${Te}-no-icon`]:!Et,[`${Te}-banner`]:!!y,[`${Te}-rtl`]:me==="rtl"},Ie,C,w,Ue,De),Ct=(0,ut.Z)(oe,{aria:!0,data:!0}),mt=s.useMemo(()=>typeof j=="object"&&j.closeIcon?j.closeIcon:G||(H!==void 0?H:typeof ge=="object"&&ge.closeIcon?ge.closeIcon:be),[H,j,G,be]),bt=s.useMemo(()=>{const zt=j!=null?j:ge;if(typeof zt=="object"){const{closeIcon:$t}=zt;return Rn(zt,["closeIcon"])}return{}},[j,ge]);return Ve(s.createElement(On.ZP,{visible:!ae,motionName:`${Te}-motion`,motionAppear:!1,motionEnter:!1,onLeaveStart:zt=>({maxHeight:zt.offsetHeight}),onLeaveEnd:k},(zt,$t)=>{let{className:Ht,style:Mt}=zt;return s.createElement("div",Object.assign({id:ne,ref:(0,Yt.sQ)(le,$t),"data-show":!ae,className:q()(It,Ht),style:Object.assign(Object.assign(Object.assign({},Oe),I),Mt),onMouseEnter:D,onMouseLeave:L,onClick:z,role:"alert"},Ct),Et?s.createElement(Ii,{description:a,icon:e.icon,prefixCls:Te,type:st}):null,s.createElement("div",{className:`${Te}-content`},f?s.createElement("div",{className:`${Te}-message`},f):null,a?s.createElement("div",{className:`${Te}-description`},a):null),X?s.createElement("div",{className:`${Te}-action`},X):null,s.createElement(pr,{isClosable:ct,prefixCls:Te,closeIcon:mt,handleClose:ke,ariaProps:bt}))}))}),Bn=F(59295),fn=F(45985),gn=F(51123),Er=F(57649),Vn=F(78512);function ri(e,t,a){return t=(0,gn.Z)(t),(0,Vn.Z)(e,(0,Er.Z)()?Reflect.construct(t,a||[],(0,gn.Z)(e).constructor):t.apply(e,a))}var fi=F(76525),Jr=function(e){function t(){var a;return(0,Bn.Z)(this,t),a=ri(this,t,arguments),a.state={error:void 0,info:{componentStack:""}},a}return(0,fi.Z)(t,e),(0,fn.Z)(t,[{key:"componentDidCatch",value:function(o,f){this.setState({error:o,info:f})}},{key:"render",value:function(){const{message:o,description:f,id:y,children:C}=this.props,{error:w,info:I}=this.state,D=(I==null?void 0:I.componentStack)||null,L=typeof o=="undefined"?(w||"").toString():o,z=typeof f=="undefined"?D:f;return w?s.createElement(Ot,{id:y,type:"error",message:L,description:s.createElement("pre",{style:{fontSize:"0.9em",overflowX:"auto"}},z)}):C}}])}(s.Component);const wr=Ot;wr.ErrorBoundary=Jr;var Yn=wr,yr=F(59373),Pr=F(56680);function Ir(e){return e!=null&&e===e.window}var rr=e=>{var t,a;if(typeof window=="undefined")return 0;let o=0;return Ir(e)?o=e.pageYOffset:e instanceof Document?o=e.documentElement.scrollTop:(e instanceof HTMLElement||e)&&(o=e.scrollTop),e&&!Ir(e)&&typeof o!="number"&&(o=(a=((t=e.ownerDocument)!==null&&t!==void 0?t:e).documentElement)===null||a===void 0?void 0:a.scrollTop),o};function gr(e,t,a,o){const f=a-t;return e/=o/2,e<1?f/2*e*e*e+t:f/2*((e-=2)*e*e+2)+t}function ei(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{getContainer:a=()=>window,callback:o,duration:f=450}=t,y=a(),C=rr(y),w=Date.now(),I=()=>{const L=Date.now()-w,z=gr(L>f?f:L,C,e,f);Ir(y)?y.scrollTo(window.pageXOffset,z):y instanceof Document||y.constructor.name==="HTMLDocument"?y.documentElement.scrollTop=z:y.scrollTop=z,L<f?(0,Ge.Z)(I):typeof o=="function"&&o()};(0,Ge.Z)(I)}var Un=F(38437),Si=s.createContext(void 0),xo=e=>{const{href:t,title:a,prefixCls:o,children:f,className:y,target:C,replace:w}=e,I=s.useContext(Si),{registerLink:D,unregisterLink:L,scrollTo:z,onClick:k,activeLink:Z,direction:j}=I||{};s.useEffect(()=>(D==null||D(t),()=>{L==null||L(t)}),[t]);const G=ie=>{k==null||k(ie,{title:a,href:t}),z==null||z(t),w&&(ie.preventDefault(),window.location.replace(t))},{getPrefixCls:H}=s.useContext(ye.E_),X=H("anchor",o),ne=Z===t,oe=q()(`${X}-link`,y,{[`${X}-link-active`]:ne}),ae=q()(`${X}-link-title`,{[`${X}-link-title-active`]:ne});return s.createElement("div",{className:oe},s.createElement("a",{className:ae,href:t,title:typeof a=="string"?a:"",target:C,onClick:G},a),j!=="horizontal"?f:null)},Qr=F(83509);const co=e=>{const{componentCls:t,holderOffsetBlock:a,motionDurationSlow:o,lineWidthBold:f,colorPrimary:y,lineType:C,colorSplit:w,calc:I}=e;return{[`${t}-wrapper`]:{marginBlockStart:I(a).mul(-1).equal(),paddingBlockStart:a,[t]:Object.assign(Object.assign({},(0,Jt.Wf)(e)),{position:"relative",paddingInlineStart:f,[`${t}-link`]:{paddingBlock:e.linkPaddingBlock,paddingInline:`${(0,he.bf)(e.linkPaddingInlineStart)} 0`,"&-title":Object.assign(Object.assign({},Jt.vS),{position:"relative",display:"block",marginBlockEnd:e.anchorTitleBlock,color:e.colorText,transition:`all ${e.motionDurationSlow}`,"&:only-child":{marginBlockEnd:0}}),[`&-active > ${t}-link-title`]:{color:e.colorPrimary},[`${t}-link`]:{paddingBlock:e.anchorPaddingBlockSecondary}}}),[`&:not(${t}-wrapper-horizontal)`]:{[t]:{"&::before":{position:"absolute",insetInlineStart:0,top:0,height:"100%",borderInlineStart:`${(0,he.bf)(f)} ${C} ${w}`,content:'" "'},[`${t}-ink`]:{position:"absolute",insetInlineStart:0,display:"none",transform:"translateY(-50%)",transition:`top ${o} ease-in-out`,width:f,backgroundColor:y,[`&${t}-ink-visible`]:{display:"inline-block"}}}},[`${t}-fixed ${t}-ink ${t}-ink`]:{display:"none"}}}},tn=e=>{const{componentCls:t,motionDurationSlow:a,lineWidthBold:o,colorPrimary:f}=e;return{[`${t}-wrapper-horizontal`]:{position:"relative","&::before":{position:"absolute",left:{_skip_check_:!0,value:0},right:{_skip_check_:!0,value:0},bottom:0,borderBottom:`${(0,he.bf)(e.lineWidth)} ${e.lineType} ${e.colorSplit}`,content:'" "'},[t]:{overflowX:"scroll",position:"relative",display:"flex",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"},[`${t}-link:first-of-type`]:{paddingInline:0},[`${t}-ink`]:{position:"absolute",bottom:0,transition:`left ${a} ease-in-out, width ${a} ease-in-out`,height:o,backgroundColor:f}}}}},Tn=e=>({linkPaddingBlock:e.paddingXXS,linkPaddingInlineStart:e.padding});var ir=(0,te.I$)("Anchor",e=>{const{fontSize:t,fontSizeLG:a,paddingXXS:o,calc:f}=e,y=(0,Qr.IX)(e,{holderOffsetBlock:o,anchorPaddingBlockSecondary:f(o).div(2).equal(),anchorTitleBlock:f(t).div(14).mul(3).equal(),anchorBallSize:f(a).div(2).equal()});return[co(y),tn(y)]},Tn);function kr(){return window}function gi(e,t){if(!e.getClientRects().length)return 0;const a=e.getBoundingClientRect();return a.width||a.height?t===window?a.top-e.ownerDocument.documentElement.clientTop:a.top-t.getBoundingClientRect().top:a.top}const li=/#([\S ]+)$/;var io=e=>{var t;const{rootClassName:a,prefixCls:o,className:f,style:y,offsetTop:C,affix:w=!0,showInkInFixed:I=!1,children:D,items:L,direction:z="vertical",bounds:k,targetOffset:Z,onClick:j,onChange:G,getContainer:H,getCurrentAnchor:X,replace:ne}=e,[oe,ae]=s.useState([]),[ie,le]=s.useState(null),fe=s.useRef(ie),me=s.useRef(null),ge=s.useRef(null),be=s.useRef(!1),{direction:Ie,getPrefixCls:Oe,className:Te,style:Ve}=(0,ye.dj)("anchor"),{getTargetContainer:De}=s.useContext(ye.E_),Ue=Oe("anchor",o),ke=(0,Un.Z)(Ue),[st,ct,Et]=ir(Ue,ke),It=(t=H!=null?H:De)!==null&&t!==void 0?t:kr,Ct=JSON.stringify(oe),mt=(0,yr.Z)(br=>{oe.includes(br)||ae(or=>[].concat((0,xe.Z)(or),[br]))}),bt=(0,yr.Z)(br=>{oe.includes(br)&&ae(or=>or.filter(ar=>ar!==br))}),zt=()=>{var br;const or=(br=me.current)===null||br===void 0?void 0:br.querySelector(`.${Ue}-link-title-active`);if(or&&ge.current){const{style:ar}=ge.current,Fn=z==="horizontal";ar.top=Fn?"":`${or.offsetTop+or.clientHeight/2}px`,ar.height=Fn?"":`${or.clientHeight}px`,ar.left=Fn?`${or.offsetLeft}px`:"",ar.width=Fn?`${or.clientWidth}px`:"",Fn&&(0,Pr.Z)(or,{scrollMode:"if-needed",block:"nearest"})}},$t=function(br){let or=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,ar=arguments.length>2&&arguments[2]!==void 0?arguments[2]:5;const Fn=[],sr=It();return br.forEach(Gr=>{const yi=li.exec(Gr==null?void 0:Gr.toString());if(!yi)return;const Di=document.getElementById(yi[1]);if(Di){const Ui=gi(Di,sr);Ui<=or+ar&&Fn.push({link:Gr,top:Ui})}}),Fn.length?Fn.reduce((yi,Di)=>Di.top>yi.top?Di:yi).link:""},Ht=(0,yr.Z)(br=>{if(fe.current===br)return;const or=typeof X=="function"?X(br):br;le(or),fe.current=or,G==null||G(br)}),Mt=s.useCallback(()=>{if(be.current)return;const br=$t(oe,Z!==void 0?Z:C||0,k);Ht(br)},[Ct,Z,C]),Cn=s.useCallback(br=>{Ht(br);const or=li.exec(br);if(!or)return;const ar=document.getElementById(or[1]);if(!ar)return;const Fn=It(),sr=rr(Fn),Gr=gi(ar,Fn);let yi=sr+Gr;yi-=Z!==void 0?Z:C||0,be.current=!0,ei(yi,{getContainer:It,callback(){be.current=!1}})},[Z,C]),Hn=q()(ct,Et,ke,a,`${Ue}-wrapper`,{[`${Ue}-wrapper-horizontal`]:z==="horizontal",[`${Ue}-rtl`]:Ie==="rtl"},f,Te),pn=q()(Ue,{[`${Ue}-fixed`]:!w&&!I}),Dn=q()(`${Ue}-ink`,{[`${Ue}-ink-visible`]:ie}),Qt=Object.assign(Object.assign({maxHeight:C?`calc(100vh - ${C}px)`:"100vh"},Ve),y),Ft=br=>Array.isArray(br)?br.map(or=>s.createElement(xo,Object.assign({replace:ne},or,{key:or.key}),z==="vertical"&&Ft(or.children))):null,kn=s.createElement("div",{ref:me,className:Hn,style:Qt},s.createElement("div",{className:pn},s.createElement("span",{className:Dn,ref:ge}),"items"in e?Ft(L):D));s.useEffect(()=>{const br=It();return Mt(),br==null||br.addEventListener("scroll",Mt),()=>{br==null||br.removeEventListener("scroll",Mt)}},[Ct]),s.useEffect(()=>{typeof X=="function"&&Ht(X(fe.current||""))},[X]),s.useEffect(()=>{zt()},[z,X,Ct,ie]);const Pn=s.useMemo(()=>({registerLink:mt,unregisterLink:bt,scrollTo:Cn,activeLink:ie,onClick:j,direction:z}),[ie,j,Cn,z]),Dr=w&&typeof w=="object"?w:void 0;return st(s.createElement(Si.Provider,{value:Pn},w?s.createElement(Wt,Object.assign({offsetTop:C,target:It},Dr),kn):kn))};const Lo=io;Lo.Link=xo;var Co=Lo,uo=F(87117),Re=F(89692),de=F(58190),Y=F(54153),Ze=F(30967),pe=F(38926),et=F(5147),nt=F(14583),ln=s.forwardRef(function(e,t){var a=e.prefixCls,o=e.style,f=e.className,y=e.duration,C=y===void 0?4.5:y,w=e.showProgress,I=e.pauseOnHover,D=I===void 0?!0:I,L=e.eventKey,z=e.content,k=e.closable,Z=e.closeIcon,j=Z===void 0?"x":Z,G=e.props,H=e.onClick,X=e.onNoticeClose,ne=e.times,oe=e.hovering,ae=s.useState(!1),ie=(0,Re.Z)(ae,2),le=ie[0],fe=ie[1],me=s.useState(0),ge=(0,Re.Z)(me,2),be=ge[0],Ie=ge[1],Oe=s.useState(0),Te=(0,Re.Z)(Oe,2),Ve=Te[0],De=Te[1],Ue=oe||le,ke=C>0&&w,st=function(){X(L)},ct=function(zt){(zt.key==="Enter"||zt.code==="Enter"||zt.keyCode===nt.Z.ENTER)&&st()};s.useEffect(function(){if(!Ue&&C>0){var bt=Date.now()-Ve,zt=setTimeout(function(){st()},C*1e3-Ve);return function(){D&&clearTimeout(zt),De(Date.now()-bt)}}},[C,Ue,ne]),s.useEffect(function(){if(!Ue&&ke&&(D||Ve===0)){var bt=performance.now(),zt,$t=function Ht(){cancelAnimationFrame(zt),zt=requestAnimationFrame(function(Mt){var Cn=Mt+Ve-bt,Hn=Math.min(Cn/(C*1e3),1);Ie(Hn*100),Hn<1&&Ht()})};return $t(),function(){D&&cancelAnimationFrame(zt)}}},[C,Ve,Ue,ke,ne]);var Et=s.useMemo(function(){return(0,et.Z)(k)==="object"&&k!==null?k:k?{closeIcon:j}:{}},[k,j]),It=(0,ut.Z)(Et,!0),Ct=100-(!be||be<0?0:be>100?100:be),mt="".concat(a,"-notice");return s.createElement("div",(0,We.Z)({},G,{ref:t,className:q()(mt,f,(0,pe.Z)({},"".concat(mt,"-closable"),k)),style:o,onMouseEnter:function(zt){var $t;fe(!0),G==null||($t=G.onMouseEnter)===null||$t===void 0||$t.call(G,zt)},onMouseLeave:function(zt){var $t;fe(!1),G==null||($t=G.onMouseLeave)===null||$t===void 0||$t.call(G,zt)},onClick:H}),s.createElement("div",{className:"".concat(mt,"-content")},z),k&&s.createElement("a",(0,We.Z)({tabIndex:0,className:"".concat(mt,"-close"),onKeyDown:ct,"aria-label":"Close"},It,{onClick:function(zt){zt.preventDefault(),zt.stopPropagation(),st()}}),Et.closeIcon),ke&&s.createElement("progress",{className:"".concat(mt,"-progress"),max:"100",value:Ct},Ct+"%"))}),At=ln,sn=s.createContext({}),vn=function(t){var a=t.children,o=t.classNames;return s.createElement(sn.Provider,{value:{classNames:o}},a)},Je=vn,Rt=8,Xt=3,nn=16,dt=function(t){var a={offset:Rt,threshold:Xt,gap:nn};if(t&&(0,et.Z)(t)==="object"){var o,f,y;a.offset=(o=t.offset)!==null&&o!==void 0?o:Rt,a.threshold=(f=t.threshold)!==null&&f!==void 0?f:Xt,a.gap=(y=t.gap)!==null&&y!==void 0?y:nn}return[!!t,a]},lt=dt,En=["className","style","classNames","styles"],_n=function(t){var a=t.configList,o=t.placement,f=t.prefixCls,y=t.className,C=t.style,w=t.motion,I=t.onAllNoticeRemoved,D=t.onNoticeClose,L=t.stack,z=(0,s.useContext)(sn),k=z.classNames,Z=(0,s.useRef)({}),j=(0,s.useState)(null),G=(0,Re.Z)(j,2),H=G[0],X=G[1],ne=(0,s.useState)([]),oe=(0,Re.Z)(ne,2),ae=oe[0],ie=oe[1],le=a.map(function(Ue){return{config:Ue,key:String(Ue.key)}}),fe=lt(L),me=(0,Re.Z)(fe,2),ge=me[0],be=me[1],Ie=be.offset,Oe=be.threshold,Te=be.gap,Ve=ge&&(ae.length>0||le.length<=Oe),De=typeof w=="function"?w(o):w;return(0,s.useEffect)(function(){ge&&ae.length>1&&ie(function(Ue){return Ue.filter(function(ke){return le.some(function(st){var ct=st.key;return ke===ct})})})},[ae,le,ge]),(0,s.useEffect)(function(){var Ue;if(ge&&Z.current[(Ue=le[le.length-1])===null||Ue===void 0?void 0:Ue.key]){var ke;X(Z.current[(ke=le[le.length-1])===null||ke===void 0?void 0:ke.key])}},[le,ge]),s.createElement(On.V4,(0,We.Z)({key:o,className:q()(f,"".concat(f,"-").concat(o),k==null?void 0:k.list,y,(0,pe.Z)((0,pe.Z)({},"".concat(f,"-stack"),!!ge),"".concat(f,"-stack-expanded"),Ve)),style:C,keys:le,motionAppear:!0},De,{onAllRemoved:function(){I(o)}}),function(Ue,ke){var st=Ue.config,ct=Ue.className,Et=Ue.style,It=Ue.index,Ct=st,mt=Ct.key,bt=Ct.times,zt=String(mt),$t=st,Ht=$t.className,Mt=$t.style,Cn=$t.classNames,Hn=$t.styles,pn=(0,de.Z)($t,En),Dn=le.findIndex(function(yi){return yi.key===zt}),Qt={};if(ge){var Ft=le.length-1-(Dn>-1?Dn:It-1),kn=o==="top"||o==="bottom"?"-50%":"0";if(Ft>0){var Pn,Dr,br;Qt.height=Ve?(Pn=Z.current[zt])===null||Pn===void 0?void 0:Pn.offsetHeight:H==null?void 0:H.offsetHeight;for(var or=0,ar=0;ar<Ft;ar++){var Fn;or+=((Fn=Z.current[le[le.length-1-ar].key])===null||Fn===void 0?void 0:Fn.offsetHeight)+Te}var sr=(Ve?or:Ft*Ie)*(o.startsWith("top")?1:-1),Gr=!Ve&&H!==null&&H!==void 0&&H.offsetWidth&&(Dr=Z.current[zt])!==null&&Dr!==void 0&&Dr.offsetWidth?((H==null?void 0:H.offsetWidth)-Ie*2*(Ft<3?Ft:3))/((br=Z.current[zt])===null||br===void 0?void 0:br.offsetWidth):1;Qt.transform="translate3d(".concat(kn,", ").concat(sr,"px, 0) scaleX(").concat(Gr,")")}else Qt.transform="translate3d(".concat(kn,", 0, 0)")}return s.createElement("div",{ref:ke,className:q()("".concat(f,"-notice-wrapper"),ct,Cn==null?void 0:Cn.wrapper),style:(0,Y.Z)((0,Y.Z)((0,Y.Z)({},Et),Qt),Hn==null?void 0:Hn.wrapper),onMouseEnter:function(){return ie(function(Di){return Di.includes(zt)?Di:[].concat((0,xe.Z)(Di),[zt])})},onMouseLeave:function(){return ie(function(Di){return Di.filter(function(Ui){return Ui!==zt})})}},s.createElement(At,(0,We.Z)({},pn,{ref:function(Di){Dn>-1?Z.current[zt]=Di:delete Z.current[zt]},prefixCls:f,classNames:Cn,styles:Hn,className:q()(Ht,k==null?void 0:k.notice),style:Mt,times:bt,key:mt,eventKey:mt,onNoticeClose:D,hovering:ge&&ae.length>0})))})},Wn=_n,nr=s.forwardRef(function(e,t){var a=e.prefixCls,o=a===void 0?"rc-notification":a,f=e.container,y=e.motion,C=e.maxCount,w=e.className,I=e.style,D=e.onAllRemoved,L=e.stack,z=e.renderNotifications,k=s.useState([]),Z=(0,Re.Z)(k,2),j=Z[0],G=Z[1],H=function(ge){var be,Ie=j.find(function(Oe){return Oe.key===ge});Ie==null||(be=Ie.onClose)===null||be===void 0||be.call(Ie),G(function(Oe){return Oe.filter(function(Te){return Te.key!==ge})})};s.useImperativeHandle(t,function(){return{open:function(ge){G(function(be){var Ie=(0,xe.Z)(be),Oe=Ie.findIndex(function(De){return De.key===ge.key}),Te=(0,Y.Z)({},ge);if(Oe>=0){var Ve;Te.times=(((Ve=be[Oe])===null||Ve===void 0?void 0:Ve.times)||0)+1,Ie[Oe]=Te}else Te.times=0,Ie.push(Te);return C>0&&Ie.length>C&&(Ie=Ie.slice(-C)),Ie})},close:function(ge){H(ge)},destroy:function(){G([])}}});var X=s.useState({}),ne=(0,Re.Z)(X,2),oe=ne[0],ae=ne[1];s.useEffect(function(){var me={};j.forEach(function(ge){var be=ge.placement,Ie=be===void 0?"topRight":be;Ie&&(me[Ie]=me[Ie]||[],me[Ie].push(ge))}),Object.keys(oe).forEach(function(ge){me[ge]=me[ge]||[]}),ae(me)},[j]);var ie=function(ge){ae(function(be){var Ie=(0,Y.Z)({},be),Oe=Ie[ge]||[];return Oe.length||delete Ie[ge],Ie})},le=s.useRef(!1);if(s.useEffect(function(){Object.keys(oe).length>0?le.current=!0:le.current&&(D==null||D(),le.current=!1)},[oe]),!f)return null;var fe=Object.keys(oe);return(0,Ze.createPortal)(s.createElement(s.Fragment,null,fe.map(function(me){var ge=oe[me],be=s.createElement(Wn,{key:me,configList:ge,placement:me,prefixCls:o,className:w==null?void 0:w(me),style:I==null?void 0:I(me),motion:y,onNoticeClose:H,onAllNoticeRemoved:ie,stack:L});return z?z(be,{prefixCls:o,key:me}):be})),f)}),mr=nr,Nr=["getContainer","motion","prefixCls","maxCount","className","style","onAllRemoved","stack","renderNotifications"],ui=function(){return document.body},Zr=0;function qi(){for(var e={},t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];return a.forEach(function(f){f&&Object.keys(f).forEach(function(y){var C=f[y];C!==void 0&&(e[y]=C)})}),e}function pt(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=e.getContainer,a=t===void 0?ui:t,o=e.motion,f=e.prefixCls,y=e.maxCount,C=e.className,w=e.style,I=e.onAllRemoved,D=e.stack,L=e.renderNotifications,z=(0,de.Z)(e,Nr),k=s.useState(),Z=(0,Re.Z)(k,2),j=Z[0],G=Z[1],H=s.useRef(),X=s.createElement(mr,{container:j,ref:H,prefixCls:f,motion:o,maxCount:y,className:C,style:w,onAllRemoved:I,stack:D,renderNotifications:L}),ne=s.useState([]),oe=(0,Re.Z)(ne,2),ae=oe[0],ie=oe[1],le=s.useMemo(function(){return{open:function(me){var ge=qi(z,me);(ge.key===null||ge.key===void 0)&&(ge.key="rc-notification-".concat(Zr),Zr+=1),ie(function(be){return[].concat((0,xe.Z)(be),[{type:"open",config:ge}])})},close:function(me){ie(function(ge){return[].concat((0,xe.Z)(ge),[{type:"close",key:me}])})},destroy:function(){ie(function(me){return[].concat((0,xe.Z)(me),[{type:"destroy"}])})}}},[]);return s.useEffect(function(){G(a())}),s.useEffect(function(){if(H.current&&ae.length){ae.forEach(function(ge){switch(ge.type){case"open":H.current.open(ge.config);break;case"close":H.current.close(ge.key);break;case"destroy":H.current.destroy();break}});var fe,me;ie(function(ge){return(fe!==ge||!me)&&(fe=ge,me=ge.filter(function(be){return!ae.includes(be)})),me})}},[ae]),[le,X]}var Sn=F(24573),qt=F(19952);const Nn=e=>{const{componentCls:t,iconCls:a,boxShadow:o,colorText:f,colorSuccess:y,colorError:C,colorWarning:w,colorInfo:I,fontSizeLG:D,motionEaseInOutCirc:L,motionDurationSlow:z,marginXS:k,paddingXS:Z,borderRadiusLG:j,zIndexPopup:G,contentPadding:H,contentBg:X}=e,ne=`${t}-notice`,oe=new he.E4("MessageMoveIn",{"0%":{padding:0,transform:"translateY(-100%)",opacity:0},"100%":{padding:Z,transform:"translateY(0)",opacity:1}}),ae=new he.E4("MessageMoveOut",{"0%":{maxHeight:e.height,padding:Z,opacity:1},"100%":{maxHeight:0,padding:0,opacity:0}}),ie={padding:Z,textAlign:"center",[`${t}-custom-content`]:{display:"flex",alignItems:"center"},[`${t}-custom-content > ${a}`]:{marginInlineEnd:k,fontSize:D},[`${ne}-content`]:{display:"inline-block",padding:H,background:X,borderRadius:j,boxShadow:o,pointerEvents:"all"},[`${t}-success > ${a}`]:{color:y},[`${t}-error > ${a}`]:{color:C},[`${t}-warning > ${a}`]:{color:w},[`${t}-info > ${a},
      ${t}-loading > ${a}`]:{color:I}};return[{[t]:Object.assign(Object.assign({},(0,Jt.Wf)(e)),{color:f,position:"fixed",top:k,width:"100%",pointerEvents:"none",zIndex:G,[`${t}-move-up`]:{animationFillMode:"forwards"},[`
        ${t}-move-up-appear,
        ${t}-move-up-enter
      `]:{animationName:oe,animationDuration:z,animationPlayState:"paused",animationTimingFunction:L},[`
        ${t}-move-up-appear${t}-move-up-appear-active,
        ${t}-move-up-enter${t}-move-up-enter-active
      `]:{animationPlayState:"running"},[`${t}-move-up-leave`]:{animationName:ae,animationDuration:z,animationPlayState:"paused",animationTimingFunction:L},[`${t}-move-up-leave${t}-move-up-leave-active`]:{animationPlayState:"running"},"&-rtl":{direction:"rtl",span:{direction:"rtl"}}})},{[t]:{[`${ne}-wrapper`]:Object.assign({},ie)}},{[`${t}-notice-pure-panel`]:Object.assign(Object.assign({},ie),{padding:0,textAlign:"start"})}]},lr=e=>({zIndexPopup:e.zIndexPopupBase+qt.u6+10,contentBg:e.colorBgElevated,contentPadding:`${(e.controlHeightLG-e.fontSize*e.lineHeight)/2}px ${e.paddingSM}px`});var di=(0,te.I$)("Message",e=>{const t=(0,Qr.IX)(e,{height:150});return[Nn(t)]},lr),Ti=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a};const bo={info:s.createElement(hn,null),success:s.createElement(kt.Z,null),error:s.createElement(Sr.Z,null),warning:s.createElement(Xn.Z,null),loading:s.createElement(Sn.Z,null)},Zi=e=>{let{prefixCls:t,type:a,icon:o,children:f}=e;return s.createElement("div",{className:q()(`${t}-custom-content`,`${t}-${a}`)},o||bo[a],s.createElement("span",null,f))};var yo=e=>{const{prefixCls:t,className:a,type:o,icon:f,content:y}=e,C=Ti(e,["prefixCls","className","type","icon","content"]),{getPrefixCls:w}=s.useContext(ye.E_),I=t||w("message"),D=(0,Un.Z)(I),[L,z,k]=di(I,D);return L(s.createElement(At,Object.assign({},C,{prefixCls:I,className:q()(a,z,`${I}-notice-pure-panel`,k,D),eventKey:"pure",duration:null,content:s.createElement(Zi,{prefixCls:I,type:o,icon:f},y)})))};function Gi(e,t){return{motionName:t!=null?t:`${e}-move-up`}}function Oo(e){let t;const a=new Promise(f=>{t=e(()=>{f(!0)})}),o=()=>{t==null||t()};return o.then=(f,y)=>a.then(f,y),o.promise=a,o}var Xo=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a};const Bo=8,Eo=3,zo=e=>{let{children:t,prefixCls:a}=e;const o=(0,Un.Z)(a),[f,y,C]=di(a,o);return f(s.createElement(Je,{classNames:{list:q()(y,C,o)}},t))},Zo=(e,t)=>{let{prefixCls:a,key:o}=t;return s.createElement(zo,{prefixCls:a,key:o},e)},na=s.forwardRef((e,t)=>{const{top:a,prefixCls:o,getContainer:f,maxCount:y,duration:C=Eo,rtl:w,transitionName:I,onAllRemoved:D}=e,{getPrefixCls:L,getPopupContainer:z,message:k,direction:Z}=s.useContext(ye.E_),j=o||L("message"),G=()=>({left:"50%",transform:"translateX(-50%)",top:a!=null?a:Bo}),H=()=>q()({[`${j}-rtl`]:w!=null?w:Z==="rtl"}),X=()=>Gi(j,I),ne=s.createElement("span",{className:`${j}-close-x`},s.createElement(cr.Z,{className:`${j}-close-icon`})),[oe,ae]=pt({prefixCls:j,style:G,className:H,motion:X,closable:!1,closeIcon:ne,duration:C,getContainer:()=>(f==null?void 0:f())||(z==null?void 0:z())||document.body,maxCount:y,onAllRemoved:D,renderNotifications:Zo});return s.useImperativeHandle(t,()=>Object.assign(Object.assign({},oe),{prefixCls:j,message:k})),ae});let po=0;function wo(e){const t=s.useRef(null),a=(0,uo.ln)("Message");return[s.useMemo(()=>{const f=D=>{var L;(L=t.current)===null||L===void 0||L.close(D)},y=D=>{if(!t.current){const fe=()=>{};return fe.then=()=>{},fe}const{open:L,prefixCls:z,message:k}=t.current,Z=`${z}-notice`,{content:j,icon:G,type:H,key:X,className:ne,style:oe,onClose:ae}=D,ie=Xo(D,["content","icon","type","key","className","style","onClose"]);let le=X;return le==null&&(po+=1,le=`antd-message-${po}`),Oo(fe=>(L(Object.assign(Object.assign({},ie),{key:le,content:s.createElement(Zi,{prefixCls:z,type:H,icon:G},j),placement:"top",className:q()(H&&`${Z}-${H}`,ne,k==null?void 0:k.className),style:Object.assign(Object.assign({},k==null?void 0:k.style),oe),onClose:()=>{ae==null||ae(),fe()}})),()=>{f(le)}))},w={open:y,destroy:D=>{var L;D!==void 0?f(D):(L=t.current)===null||L===void 0||L.destroy()}};return["info","success","warning","error","loading"].forEach(D=>{const L=(z,k,Z)=>{let j;z&&typeof z=="object"&&"content"in z?j=z:j={content:z};let G,H;typeof k=="function"?H=k:(G=k,H=Z);const X=Object.assign(Object.assign({onClose:H,duration:G},j),{type:D});return y(X)};w[D]=L}),w},[]),s.createElement(na,Object.assign({key:"message-holder"},e,{ref:t}))]}function So(e){return wo(e)}function K(){const[e,t]=s.useState([]),a=s.useCallback(o=>(t(f=>[].concat((0,xe.Z)(f),[o])),()=>{t(f=>f.filter(y=>y!==o))}),[]);return[e,a]}var _e=F(62639),wt=F(92703),Tt=F(13635),In=F(77648),Qn=F(67699),ci=F(60784),fr=F(18051),Ai=F(54070),to=F(98472),xr=F(95741),Vi=F(23137),Fr=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a};const Ei=s.createContext(void 0);var bi=e=>{const{getPrefixCls:t,direction:a}=s.useContext(ye.E_),{prefixCls:o,size:f,className:y}=e,C=Fr(e,["prefixCls","size","className"]),w=t("btn-group",o),[,,I]=(0,Qn.ZP)(),D=s.useMemo(()=>{switch(f){case"large":return"lg";case"small":return"sm";default:return""}},[f]),L=q()(w,{[`${w}-${D}`]:D,[`${w}-rtl`]:a==="rtl"},y,I);return s.createElement(Ei.Provider,{value:f},s.createElement("div",Object.assign({},C,{className:L})))},Yo=F(98990);const jo=/^[\u4E00-\u9FA5]{2}$/,an=jo.test.bind(jo);function Ye(e){return e==="danger"?{danger:!0}:{type:e}}function Ce(e){return typeof e=="string"}function Ke(e){return e==="text"||e==="link"}function Be(e,t){if(e==null)return;const a=t?" ":"";return typeof e!="string"&&typeof e!="number"&&Ce(e.type)&&an(e.props.children)?(0,bn.Tm)(e,{children:e.props.children.split("").join(a)}):Ce(e)?an(e)?s.createElement("span",null,e.split("").join(a)):s.createElement("span",null,e):(0,bn.M2)(e)?s.createElement("span",null,e):e}function Nt(e,t){let a=!1;const o=[];return s.Children.forEach(e,f=>{const y=typeof f,C=y==="string"||y==="number";if(a&&C){const w=o.length-1,I=o[w];o[w]=`${I}${f}`}else o.push(f);a=C}),s.Children.map(o,f=>Be(f,t))}const dn=null,tr=null,Rr=null,Lr=null,Mr=["default","primary","danger"].concat((0,xe.Z)(Yo.i));var zi=(0,s.forwardRef)((e,t)=>{const{className:a,style:o,children:f,prefixCls:y}=e,C=q()(`${y}-icon`,a);return s.createElement("span",{ref:t,className:C,style:o},f)});const Mo=(0,s.forwardRef)((e,t)=>{const{prefixCls:a,className:o,style:f,iconClassName:y}=e,C=q()(`${a}-loading-icon`,o);return s.createElement(zi,{prefixCls:a,className:C,style:f,ref:t},s.createElement(Sn.Z,{className:y}))}),Oi=()=>({width:0,opacity:0,transform:"scale(0)"}),Ni=e=>({width:e.scrollWidth,opacity:1,transform:"scale(1)"});var Wi=e=>{const{prefixCls:t,loading:a,existIcon:o,className:f,style:y,mount:C}=e,w=!!a;return o?s.createElement(Mo,{prefixCls:t,className:f,style:y}):s.createElement(On.ZP,{visible:w,motionName:`${t}-loading-icon-motion`,motionAppear:!C,motionEnter:!C,motionLeave:!C,removeOnLeave:!0,onAppearStart:Oi,onAppearActive:Ni,onEnterStart:Oi,onEnterActive:Ni,onLeaveStart:Ni,onLeaveActive:Oi},(I,D)=>{let{className:L,style:z}=I;const k=Object.assign(Object.assign({},y),z);return s.createElement(Mo,{prefixCls:t,className:q()(f,L),style:k,ref:D})})};const Hi=(e,t)=>({[`> span, > ${e}`]:{"&:not(:last-child)":{[`&, & > ${e}`]:{"&:not(:disabled)":{borderInlineEndColor:t}}},"&:not(:first-child)":{[`&, & > ${e}`]:{"&:not(:disabled)":{borderInlineStartColor:t}}}}});var aa=e=>{const{componentCls:t,fontSize:a,lineWidth:o,groupBorderColor:f,colorErrorHover:y}=e;return{[`${t}-group`]:[{position:"relative",display:"inline-flex",[`> span, > ${t}`]:{"&:not(:last-child)":{[`&, & > ${t}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},"&:not(:first-child)":{marginInlineStart:e.calc(o).mul(-1).equal(),[`&, & > ${t}`]:{borderStartStartRadius:0,borderEndStartRadius:0}}},[t]:{position:"relative",zIndex:1,"&:hover, &:focus, &:active":{zIndex:2},"&[disabled]":{zIndex:0}},[`${t}-icon-only`]:{fontSize:a}},Hi(`${t}-primary`,f),Hi(`${t}-danger`,y)]}},ha=F(82227),Ta=F(29230),Ma=F(78611),Sa=F(58570);const ba=e=>{const{paddingInline:t,onlyIconSize:a}=e;return(0,Qr.IX)(e,{buttonPaddingHorizontal:t,buttonPaddingVertical:0,buttonIconOnlyFontSize:a})},ja=e=>{var t,a,o,f,y,C;const w=(t=e.contentFontSize)!==null&&t!==void 0?t:e.fontSize,I=(a=e.contentFontSizeSM)!==null&&a!==void 0?a:e.fontSize,D=(o=e.contentFontSizeLG)!==null&&o!==void 0?o:e.fontSizeLG,L=(f=e.contentLineHeight)!==null&&f!==void 0?f:(0,Ma.D)(w),z=(y=e.contentLineHeightSM)!==null&&y!==void 0?y:(0,Ma.D)(I),k=(C=e.contentLineHeightLG)!==null&&C!==void 0?C:(0,Ma.D)(D),Z=(0,Ta.U)(new ha.y9(e.colorBgSolid),"#fff")?"#000":"#fff",j=Yo.i.reduce((G,H)=>Object.assign(Object.assign({},G),{[`${H}ShadowColor`]:`0 ${(0,he.bf)(e.controlOutlineWidth)} 0 ${(0,Sa.Z)(e[`${H}1`],e.colorBgContainer)}`}),{});return Object.assign(Object.assign({},j),{fontWeight:400,defaultShadow:`0 ${e.controlOutlineWidth}px 0 ${e.controlTmpOutline}`,primaryShadow:`0 ${e.controlOutlineWidth}px 0 ${e.controlOutline}`,dangerShadow:`0 ${e.controlOutlineWidth}px 0 ${e.colorErrorOutline}`,primaryColor:e.colorTextLightSolid,dangerColor:e.colorTextLightSolid,borderColorDisabled:e.colorBorder,defaultGhostColor:e.colorBgContainer,ghostBg:"transparent",defaultGhostBorderColor:e.colorBgContainer,paddingInline:e.paddingContentHorizontal-e.lineWidth,paddingInlineLG:e.paddingContentHorizontal-e.lineWidth,paddingInlineSM:8-e.lineWidth,onlyIconSize:"inherit",onlyIconSizeSM:"inherit",onlyIconSizeLG:"inherit",groupBorderColor:e.colorPrimaryHover,linkHoverBg:"transparent",textTextColor:e.colorText,textTextHoverColor:e.colorText,textTextActiveColor:e.colorText,textHoverBg:e.colorFillTertiary,defaultColor:e.colorText,defaultBg:e.colorBgContainer,defaultBorderColor:e.colorBorder,defaultBorderColorDisabled:e.colorBorder,defaultHoverBg:e.colorBgContainer,defaultHoverColor:e.colorPrimaryHover,defaultHoverBorderColor:e.colorPrimaryHover,defaultActiveBg:e.colorBgContainer,defaultActiveColor:e.colorPrimaryActive,defaultActiveBorderColor:e.colorPrimaryActive,solidTextColor:Z,contentFontSize:w,contentFontSizeSM:I,contentFontSizeLG:D,contentLineHeight:L,contentLineHeightSM:z,contentLineHeightLG:k,paddingBlock:Math.max((e.controlHeight-w*L)/2-e.lineWidth,0),paddingBlockSM:Math.max((e.controlHeightSM-I*z)/2-e.lineWidth,0),paddingBlockLG:Math.max((e.controlHeightLG-D*k)/2-e.lineWidth,0)})},wa=e=>{const{componentCls:t,iconCls:a,fontWeight:o,opacityLoading:f,motionDurationSlow:y,motionEaseInOut:C,marginXS:w,calc:I}=e;return{[t]:{outline:"none",position:"relative",display:"inline-flex",gap:e.marginXS,alignItems:"center",justifyContent:"center",fontWeight:o,whiteSpace:"nowrap",textAlign:"center",backgroundImage:"none",background:"transparent",border:`${(0,he.bf)(e.lineWidth)} ${e.lineType} transparent`,cursor:"pointer",transition:`all ${e.motionDurationMid} ${e.motionEaseInOut}`,userSelect:"none",touchAction:"manipulation",color:e.colorText,"&:disabled > *":{pointerEvents:"none"},[`${t}-icon > svg`]:(0,Jt.Ro)(),"> a":{color:"currentColor"},"&:not(:disabled)":(0,Jt.Qy)(e),[`&${t}-two-chinese-chars::first-letter`]:{letterSpacing:"0.34em"},[`&${t}-two-chinese-chars > *:not(${a})`]:{marginInlineEnd:"-0.34em",letterSpacing:"0.34em"},[`&${t}-icon-only`]:{paddingInline:0,[`&${t}-compact-item`]:{flex:"none"},[`&${t}-round`]:{width:"auto"}},[`&${t}-loading`]:{opacity:f,cursor:"default"},[`${t}-loading-icon`]:{transition:["width","opacity","margin"].map(D=>`${D} ${y} ${C}`).join(",")},[`&:not(${t}-icon-end)`]:{[`${t}-loading-icon-motion`]:{"&-appear-start, &-enter-start":{marginInlineEnd:I(w).mul(-1).equal()},"&-appear-active, &-enter-active":{marginInlineEnd:0},"&-leave-start":{marginInlineEnd:0},"&-leave-active":{marginInlineEnd:I(w).mul(-1).equal()}}},"&-icon-end":{flexDirection:"row-reverse",[`${t}-loading-icon-motion`]:{"&-appear-start, &-enter-start":{marginInlineStart:I(w).mul(-1).equal()},"&-appear-active, &-enter-active":{marginInlineStart:0},"&-leave-start":{marginInlineStart:0},"&-leave-active":{marginInlineStart:I(w).mul(-1).equal()}}}}}},Ps=(e,t,a)=>({[`&:not(:disabled):not(${e}-disabled)`]:{"&:hover":t,"&:active":a}}),Ts=e=>({minWidth:e.controlHeight,paddingInlineStart:0,paddingInlineEnd:0,borderRadius:"50%"}),_s=e=>({borderRadius:e.controlHeight,paddingInlineStart:e.calc(e.controlHeight).div(2).equal(),paddingInlineEnd:e.calc(e.controlHeight).div(2).equal()}),il=e=>({cursor:"not-allowed",borderColor:e.borderColorDisabled,color:e.colorTextDisabled,background:e.colorBgContainerDisabled,boxShadow:"none"}),ol=(e,t,a,o,f,y,C,w)=>({[`&${e}-background-ghost`]:Object.assign(Object.assign({color:a||void 0,background:t,borderColor:o||void 0,boxShadow:"none"},Ps(e,Object.assign({background:t},C),Object.assign({background:t},w))),{"&:disabled":{cursor:"not-allowed",color:f||void 0,borderColor:y||void 0}})}),Al=e=>({[`&:disabled, &${e.componentCls}-disabled`]:Object.assign({},il(e))}),Vs=e=>({[`&:disabled, &${e.componentCls}-disabled`]:{cursor:"not-allowed",color:e.colorTextDisabled}}),Dl=(e,t,a,o)=>{const y=o&&["link","text"].includes(o)?Vs:Al;return Object.assign(Object.assign({},y(e)),Ps(e.componentCls,t,a))},mc=(e,t,a,o,f)=>({[`&${e.componentCls}-variant-solid`]:Object.assign({color:t,background:a},Dl(e,o,f))}),pa=(e,t,a,o,f)=>({[`&${e.componentCls}-variant-outlined, &${e.componentCls}-variant-dashed`]:Object.assign({borderColor:t,background:a},Dl(e,o,f))}),Ha=e=>({[`&${e.componentCls}-variant-dashed`]:{borderStyle:"dashed"}}),ca=(e,t,a,o)=>({[`&${e.componentCls}-variant-filled`]:Object.assign({boxShadow:"none",background:t},Dl(e,a,o))}),Go=(e,t,a,o,f)=>({[`&${e.componentCls}-variant-${a}`]:Object.assign({color:t,boxShadow:"none"},Dl(e,o,f,a))}),hs=e=>{const{componentCls:t}=e;return Yo.i.reduce((a,o)=>{const f=e[`${o}6`],y=e[`${o}1`],C=e[`${o}5`],w=e[`${o}2`],I=e[`${o}3`],D=e[`${o}7`];return Object.assign(Object.assign({},a),{[`&${t}-color-${o}`]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({color:f,boxShadow:e[`${o}ShadowColor`]},mc(e,e.colorTextLightSolid,f,{background:C},{background:D})),pa(e,f,e.colorBgContainer,{color:C,borderColor:C,background:e.colorBgContainer},{color:D,borderColor:D,background:e.colorBgContainer})),Ha(e)),ca(e,y,{background:w},{background:I})),Go(e,f,"link",{color:C},{color:D})),Go(e,f,"text",{color:C,background:y},{color:D,background:I}))})},{})},zs=e=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({color:e.defaultColor,boxShadow:e.defaultShadow},mc(e,e.solidTextColor,e.colorBgSolid,{color:e.solidTextColor,background:e.colorBgSolidHover},{color:e.solidTextColor,background:e.colorBgSolidActive})),Ha(e)),ca(e,e.colorFillTertiary,{background:e.colorFillSecondary},{background:e.colorFill})),ol(e.componentCls,e.ghostBg,e.defaultGhostColor,e.defaultGhostBorderColor,e.colorTextDisabled,e.colorBorder)),Go(e,e.textTextColor,"link",{color:e.colorLinkHover,background:e.linkHoverBg},{color:e.colorLinkActive})),ic=e=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({color:e.colorPrimary,boxShadow:e.primaryShadow},pa(e,e.colorPrimary,e.colorBgContainer,{color:e.colorPrimaryTextHover,borderColor:e.colorPrimaryHover,background:e.colorBgContainer},{color:e.colorPrimaryTextActive,borderColor:e.colorPrimaryActive,background:e.colorBgContainer})),Ha(e)),ca(e,e.colorPrimaryBg,{background:e.colorPrimaryBgHover},{background:e.colorPrimaryBorder})),Go(e,e.colorPrimaryText,"text",{color:e.colorPrimaryTextHover,background:e.colorPrimaryBg},{color:e.colorPrimaryTextActive,background:e.colorPrimaryBorder})),Go(e,e.colorPrimaryText,"link",{color:e.colorPrimaryTextHover,background:e.linkHoverBg},{color:e.colorPrimaryTextActive})),ol(e.componentCls,e.ghostBg,e.colorPrimary,e.colorPrimary,e.colorTextDisabled,e.colorBorder,{color:e.colorPrimaryHover,borderColor:e.colorPrimaryHover},{color:e.colorPrimaryActive,borderColor:e.colorPrimaryActive})),gc=e=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({color:e.colorError,boxShadow:e.dangerShadow},mc(e,e.dangerColor,e.colorError,{background:e.colorErrorHover},{background:e.colorErrorActive})),pa(e,e.colorError,e.colorBgContainer,{color:e.colorErrorHover,borderColor:e.colorErrorBorderHover},{color:e.colorErrorActive,borderColor:e.colorErrorActive})),Ha(e)),ca(e,e.colorErrorBg,{background:e.colorErrorBgFilledHover},{background:e.colorErrorBgActive})),Go(e,e.colorError,"text",{color:e.colorErrorHover,background:e.colorErrorBg},{color:e.colorErrorHover,background:e.colorErrorBgActive})),Go(e,e.colorError,"link",{color:e.colorErrorHover},{color:e.colorErrorActive})),ol(e.componentCls,e.ghostBg,e.colorError,e.colorError,e.colorTextDisabled,e.colorBorder,{color:e.colorErrorHover,borderColor:e.colorErrorHover},{color:e.colorErrorActive,borderColor:e.colorErrorActive})),jc=e=>Object.assign(Object.assign({},Go(e,e.colorLink,"link",{color:e.colorLinkHover},{color:e.colorLinkActive})),ol(e.componentCls,e.ghostBg,e.colorInfo,e.colorInfo,e.colorTextDisabled,e.colorBorder,{color:e.colorInfoHover,borderColor:e.colorInfoHover},{color:e.colorInfoActive,borderColor:e.colorInfoActive})),_l=e=>{const{componentCls:t}=e;return Object.assign({[`${t}-color-default`]:zs(e),[`${t}-color-primary`]:ic(e),[`${t}-color-dangerous`]:gc(e),[`${t}-color-link`]:jc(e)},hs(e))},Yl=e=>Object.assign(Object.assign(Object.assign(Object.assign({},pa(e,e.defaultBorderColor,e.defaultBg,{color:e.defaultHoverColor,borderColor:e.defaultHoverBorderColor,background:e.defaultHoverBg},{color:e.defaultActiveColor,borderColor:e.defaultActiveBorderColor,background:e.defaultActiveBg})),Go(e,e.textTextColor,"text",{color:e.textTextHoverColor,background:e.textHoverBg},{color:e.textTextActiveColor,background:e.colorBgTextActive})),mc(e,e.primaryColor,e.colorPrimary,{background:e.colorPrimaryHover,color:e.primaryColor},{background:e.colorPrimaryActive,color:e.primaryColor})),Go(e,e.colorLink,"link",{color:e.colorLinkHover,background:e.linkHoverBg},{color:e.colorLinkActive})),sa=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const{componentCls:a,controlHeight:o,fontSize:f,borderRadius:y,buttonPaddingHorizontal:C,iconCls:w,buttonPaddingVertical:I,buttonIconOnlyFontSize:D}=e;return[{[t]:{fontSize:f,height:o,padding:`${(0,he.bf)(I)} ${(0,he.bf)(C)}`,borderRadius:y,[`&${a}-icon-only`]:{width:o,[w]:{fontSize:D}}}},{[`${a}${a}-circle${t}`]:Ts(e)},{[`${a}${a}-round${t}`]:_s(e)}]},Fo=e=>{const t=(0,Qr.IX)(e,{fontSize:e.contentFontSize});return sa(t,e.componentCls)},hu=e=>{const t=(0,Qr.IX)(e,{controlHeight:e.controlHeightSM,fontSize:e.contentFontSizeSM,padding:e.paddingXS,buttonPaddingHorizontal:e.paddingInlineSM,buttonPaddingVertical:0,borderRadius:e.borderRadiusSM,buttonIconOnlyFontSize:e.onlyIconSizeSM});return sa(t,`${e.componentCls}-sm`)},Qo=e=>{const t=(0,Qr.IX)(e,{controlHeight:e.controlHeightLG,fontSize:e.contentFontSizeLG,buttonPaddingHorizontal:e.paddingInlineLG,buttonPaddingVertical:0,borderRadius:e.borderRadiusLG,buttonIconOnlyFontSize:e.onlyIconSizeLG});return sa(t,`${e.componentCls}-lg`)},oc=e=>{const{componentCls:t}=e;return{[t]:{[`&${t}-block`]:{width:"100%"}}}};var nu=(0,te.I$)("Button",e=>{const t=ba(e);return[wa(t),Fo(t),hu(t),Qo(t),oc(t),_l(t),Yl(t),aa(t)]},ja,{unitless:{fontWeight:!0,contentLineHeight:!0,contentLineHeightSM:!0,contentLineHeightLG:!0}}),ia=F(9288);function Ec(e,t){return{[`&-item:not(${t}-last-item)`]:{marginBottom:e.calc(e.lineWidth).mul(-1).equal()},"&-item":{"&:hover,&:focus,&:active":{zIndex:2},"&[disabled]":{zIndex:0}}}}function vc(e,t){return{[`&-item:not(${t}-first-item):not(${t}-last-item)`]:{borderRadius:0},[`&-item${t}-first-item:not(${t}-last-item)`]:{[`&, &${e}-sm, &${e}-lg`]:{borderEndEndRadius:0,borderEndStartRadius:0}},[`&-item${t}-last-item:not(${t}-first-item)`]:{[`&, &${e}-sm, &${e}-lg`]:{borderStartStartRadius:0,borderStartEndRadius:0}}}}function ru(e){const t=`${e.componentCls}-compact-vertical`;return{[t]:Object.assign(Object.assign({},Ec(e,t)),vc(e.componentCls,t))}}const ku=e=>{const{componentCls:t,colorPrimaryHover:a,lineWidth:o,calc:f}=e,y=f(o).mul(-1).equal(),C=w=>{const I=`${t}-compact${w?"-vertical":""}-item${t}-primary:not([disabled])`;return{[`${I} + ${I}::before`]:{position:"absolute",top:w?y:0,insetInlineStart:w?0:y,backgroundColor:a,content:'""',width:w?"100%":o,height:w?o:"100%"}}};return Object.assign(Object.assign({},C()),C(!0))};var ac=(0,te.bk)(["Button","compact"],e=>{const t=ba(e);return[(0,ia.c)(t),ru(t),ku(t)]},ja),gl=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a};function Bi(e){if(typeof e=="object"&&e){let t=e==null?void 0:e.delay;return t=!Number.isNaN(t)&&typeof t=="number"?t:0,{loading:t<=0,delay:t}}return{loading:!!e,delay:0}}const ju={default:["default","outlined"],primary:["primary","solid"],dashed:["default","dashed"],link:["link","link"],text:["default","text"]},Yc=s.forwardRef((e,t)=>{var a,o;const{loading:f=!1,prefixCls:y,color:C,variant:w,type:I,danger:D=!1,shape:L="default",size:z,styles:k,disabled:Z,className:j,rootClassName:G,children:H,icon:X,iconPosition:ne="start",ghost:oe=!1,block:ae=!1,htmlType:ie="button",classNames:le,style:fe={},autoInsertSpace:me,autoFocus:ge}=e,be=gl(e,["loading","prefixCls","color","variant","type","danger","shape","size","styles","disabled","className","rootClassName","children","icon","iconPosition","ghost","block","htmlType","classNames","style","autoInsertSpace","autoFocus"]),Ie=I||"default",[Oe,Te]=(0,s.useMemo)(()=>{if(C&&w)return[C,w];const ur=ju[Ie]||[];return D?["danger",ur[1]]:ur},[I,C,w,D]),De=Oe==="danger"?"dangerous":Oe,{getPrefixCls:Ue,direction:ke,autoInsertSpace:st,className:ct,style:Et,classNames:It,styles:Ct}=(0,ye.dj)("button"),mt=(a=me!=null?me:st)!==null&&a!==void 0?a:!0,bt=Ue("btn",y),[zt,$t,Ht]=nu(bt),Mt=(0,s.useContext)(to.Z),Cn=Z!=null?Z:Mt,Hn=(0,s.useContext)(Ei),pn=(0,s.useMemo)(()=>Bi(f),[f]),[Dn,Qt]=(0,s.useState)(pn.loading),[Ft,kn]=(0,s.useState)(!1),Pn=(0,s.useRef)(null),Dr=(0,Yt.x1)(t,Pn),br=s.Children.count(H)===1&&!X&&!Ke(Te),or=(0,s.useRef)(!0);s.useEffect(()=>(or.current=!1,()=>{or.current=!0}),[]),(0,s.useEffect)(()=>{let ur=null;pn.delay>0?ur=setTimeout(()=>{ur=null,Qt(!0)},pn.delay):Qt(pn.loading);function Tr(){ur&&(clearTimeout(ur),ur=null)}return Tr},[pn]),(0,s.useEffect)(()=>{if(!Pn.current||!mt)return;const ur=Pn.current.textContent||"";br&&an(ur)?Ft||kn(!0):Ft&&kn(!1)}),(0,s.useEffect)(()=>{ge&&Pn.current&&Pn.current.focus()},[]);const ar=s.useCallback(ur=>{var Tr;if(Dn||Cn){ur.preventDefault();return}(Tr=e.onClick)===null||Tr===void 0||Tr.call(e,("href"in e,ur))},[e.onClick,Dn,Cn]),{compactSize:Fn,compactItemClassnames:sr}=(0,Vi.ri)(bt,ke),Gr={large:"lg",small:"sm",middle:void 0},yi=(0,xr.Z)(ur=>{var Tr,qn;return(qn=(Tr=z!=null?z:Fn)!==null&&Tr!==void 0?Tr:Hn)!==null&&qn!==void 0?qn:ur}),Di=yi&&(o=Gr[yi])!==null&&o!==void 0?o:"",Ui=Dn?"loading":X,$o=(0,fr.Z)(be,["navigate"]),Ri=q()(bt,$t,Ht,{[`${bt}-${L}`]:L!=="default"&&L,[`${bt}-${Ie}`]:Ie,[`${bt}-dangerous`]:D,[`${bt}-color-${De}`]:De,[`${bt}-variant-${Te}`]:Te,[`${bt}-${Di}`]:Di,[`${bt}-icon-only`]:!H&&H!==0&&!!Ui,[`${bt}-background-ghost`]:oe&&!Ke(Te),[`${bt}-loading`]:Dn,[`${bt}-two-chinese-chars`]:Ft&&mt&&!Dn,[`${bt}-block`]:ae,[`${bt}-rtl`]:ke==="rtl",[`${bt}-icon-end`]:ne==="end"},sr,j,G,ct),mi=Object.assign(Object.assign({},Et),fe),Pi=q()(le==null?void 0:le.icon,It.icon),ao=Object.assign(Object.assign({},(k==null?void 0:k.icon)||{}),Ct.icon||{}),ki=X&&!Dn?s.createElement(zi,{prefixCls:bt,className:Pi,style:ao},X):f&&typeof f=="object"&&f.icon?s.createElement(zi,{prefixCls:bt,className:Pi,style:ao},f.icon):s.createElement(Wi,{existIcon:!!X,prefixCls:bt,loading:Dn,mount:or.current}),Ao=H||H===0?Nt(H,br&&mt):null;if($o.href!==void 0)return zt(s.createElement("a",Object.assign({},$o,{className:q()(Ri,{[`${bt}-disabled`]:Cn}),href:Cn?void 0:$o.href,style:mi,onClick:ar,ref:Dr,tabIndex:Cn?-1:0}),ki,Ao));let Cr=s.createElement("button",Object.assign({},be,{type:ie,className:Ri,style:mi,onClick:ar,disabled:Cn,ref:Dr}),ki,Ao,sr&&s.createElement(ac,{prefixCls:bt}));return Ke(Te)||(Cr=s.createElement(Ai.Z,{component:"Button",disabled:Dn},Cr)),zt(Cr)});Yc.Group=bi,Yc.__ANT_BUTTON=!0;var on=Yc,$n=on;function Kn(e){return!!(e!=null&&e.then)}var Yr=e=>{const{type:t,children:a,prefixCls:o,buttonProps:f,close:y,autoFocus:C,emitEvent:w,isSilent:I,quitOnNullishReturnValue:D,actionFn:L}=e,z=s.useRef(!1),k=s.useRef(null),[Z,j]=(0,ci.Z)(!1),G=function(){y==null||y.apply(void 0,arguments)};s.useEffect(()=>{let ne=null;return C&&(ne=setTimeout(()=>{var oe;(oe=k.current)===null||oe===void 0||oe.focus({preventScroll:!0})})),()=>{ne&&clearTimeout(ne)}},[]);const H=ne=>{Kn(ne)&&(j(!0),ne.then(function(){j(!1,!0),G.apply(void 0,arguments),z.current=!1},oe=>{if(j(!1,!0),z.current=!1,!(I!=null&&I()))return Promise.reject(oe)}))},X=ne=>{if(z.current)return;if(z.current=!0,!L){G();return}let oe;if(w){if(oe=L(ne),D&&!Kn(oe)){z.current=!1,G(ne);return}}else if(L.length)oe=L(y),z.current=!1;else if(oe=L(),!Kn(oe)){G();return}H(oe)};return s.createElement($n,Object.assign({},Ye(t),{onClick:X,loading:Z,prefixCls:o},f,{ref:k}),a)};const Ki=s.createContext({}),{Provider:mo}=Ki;var Io=()=>{const{autoFocusButton:e,cancelButtonProps:t,cancelTextLocale:a,isSilent:o,mergedOkCancel:f,rootPrefixCls:y,close:C,onCancel:w,onConfirm:I}=(0,s.useContext)(Ki);return f?s.createElement(Yr,{isSilent:o,actionFn:w,close:function(){C==null||C.apply(void 0,arguments),I==null||I(!1)},autoFocus:e==="cancel",buttonProps:t,prefixCls:`${y}-btn`},a):null},no=()=>{const{autoFocusButton:e,close:t,isSilent:a,okButtonProps:o,rootPrefixCls:f,okTextLocale:y,okType:C,onConfirm:w,onOk:I}=(0,s.useContext)(Ki);return s.createElement(Yr,{isSilent:a,type:C||"primary",actionFn:I,close:function(){t==null||t.apply(void 0,arguments),w==null||w(!0)},autoFocus:e==="ok",buttonProps:o,prefixCls:`${f}-btn`},y)},Uo=F(54869),No=s.createContext({}),ea=F(89648),Ua=F(73188);function ua(e,t,a){var o=t;return!o&&a&&(o="".concat(e,"-").concat(a)),o}function Oa(e,t){var a=e["page".concat(t?"Y":"X","Offset")],o="scroll".concat(t?"Top":"Left");if(typeof a!="number"){var f=e.document;a=f.documentElement[o],typeof a!="number"&&(a=f.body[o])}return a}function es(e){var t=e.getBoundingClientRect(),a={left:t.left,top:t.top},o=e.ownerDocument,f=o.defaultView||o.parentWindow;return a.left+=Oa(f),a.top+=Oa(f,!0),a}var Ra=s.memo(function(e){var t=e.children;return t},function(e,t){var a=t.shouldUpdate;return!a}),qa={width:0,height:0,overflow:"hidden",outline:"none"},Xa={outline:"none"},is=s.forwardRef(function(e,t){var a=e.prefixCls,o=e.className,f=e.style,y=e.title,C=e.ariaId,w=e.footer,I=e.closable,D=e.closeIcon,L=e.onClose,z=e.children,k=e.bodyStyle,Z=e.bodyProps,j=e.modalRender,G=e.onMouseDown,H=e.onMouseUp,X=e.holderRef,ne=e.visible,oe=e.forceRender,ae=e.width,ie=e.height,le=e.classNames,fe=e.styles,me=s.useContext(No),ge=me.panel,be=(0,Yt.x1)(X,ge),Ie=(0,s.useRef)(),Oe=(0,s.useRef)();s.useImperativeHandle(t,function(){return{focus:function(){var Ct;(Ct=Ie.current)===null||Ct===void 0||Ct.focus({preventScroll:!0})},changeActive:function(Ct){var mt=document,bt=mt.activeElement;Ct&&bt===Oe.current?Ie.current.focus({preventScroll:!0}):!Ct&&bt===Ie.current&&Oe.current.focus({preventScroll:!0})}}});var Te={};ae!==void 0&&(Te.width=ae),ie!==void 0&&(Te.height=ie);var Ve=w?s.createElement("div",{className:q()("".concat(a,"-footer"),le==null?void 0:le.footer),style:(0,Y.Z)({},fe==null?void 0:fe.footer)},w):null,De=y?s.createElement("div",{className:q()("".concat(a,"-header"),le==null?void 0:le.header),style:(0,Y.Z)({},fe==null?void 0:fe.header)},s.createElement("div",{className:"".concat(a,"-title"),id:C},y)):null,Ue=(0,s.useMemo)(function(){return(0,et.Z)(I)==="object"&&I!==null?I:I?{closeIcon:D!=null?D:s.createElement("span",{className:"".concat(a,"-close-x")})}:{}},[I,D,a]),ke=(0,ut.Z)(Ue,!0),st=(0,et.Z)(I)==="object"&&I.disabled,ct=I?s.createElement("button",(0,We.Z)({type:"button",onClick:L,"aria-label":"Close"},ke,{className:"".concat(a,"-close"),disabled:st}),Ue.closeIcon):null,Et=s.createElement("div",{className:q()("".concat(a,"-content"),le==null?void 0:le.content),style:fe==null?void 0:fe.content},ct,De,s.createElement("div",(0,We.Z)({className:q()("".concat(a,"-body"),le==null?void 0:le.body),style:(0,Y.Z)((0,Y.Z)({},k),fe==null?void 0:fe.body)},Z),z),Ve);return s.createElement("div",{key:"dialog-element",role:"dialog","aria-labelledby":y?C:null,"aria-modal":"true",ref:be,style:(0,Y.Z)((0,Y.Z)({},f),Te),className:q()(a,o),onMouseDown:G,onMouseUp:H},s.createElement("div",{ref:Ie,tabIndex:0,style:Xa},s.createElement(Ra,{shouldUpdate:ne||oe},j?j(Et):Et)),s.createElement("div",{tabIndex:0,ref:Oe,style:qa}))}),ns=is,Wa=s.forwardRef(function(e,t){var a=e.prefixCls,o=e.title,f=e.style,y=e.className,C=e.visible,w=e.forceRender,I=e.destroyOnClose,D=e.motionName,L=e.ariaId,z=e.onVisibleChanged,k=e.mousePosition,Z=(0,s.useRef)(),j=s.useState(),G=(0,Re.Z)(j,2),H=G[0],X=G[1],ne={};H&&(ne.transformOrigin=H);function oe(){var ae=es(Z.current);X(k&&(k.x||k.y)?"".concat(k.x-ae.left,"px ").concat(k.y-ae.top,"px"):"")}return s.createElement(On.ZP,{visible:C,onVisibleChanged:z,onAppearPrepare:oe,onEnterPrepare:oe,forceRender:w,motionName:D,removeOnLeave:I,ref:Z},function(ae,ie){var le=ae.className,fe=ae.style;return s.createElement(ns,(0,We.Z)({},e,{ref:t,title:o,ariaId:L,prefixCls:a,holderRef:ie,style:(0,Y.Z)((0,Y.Z)((0,Y.Z)({},fe),f),ne),className:q()(y,le)}))})});Wa.displayName="Content";var Os=Wa,sc=function(t){var a=t.prefixCls,o=t.style,f=t.visible,y=t.maskProps,C=t.motionName,w=t.className;return s.createElement(On.ZP,{key:"mask",visible:f,motionName:C,leavedClassName:"".concat(a,"-mask-hidden")},function(I,D){var L=I.className,z=I.style;return s.createElement("div",(0,We.Z)({ref:D,style:(0,Y.Z)((0,Y.Z)({},z),o),className:q()("".concat(a,"-mask"),L,w)},y))})},bl=sc,lc=F(4449),Zu=function(t){var a=t.prefixCls,o=a===void 0?"rc-dialog":a,f=t.zIndex,y=t.visible,C=y===void 0?!1:y,w=t.keyboard,I=w===void 0?!0:w,D=t.focusTriggerAfterClose,L=D===void 0?!0:D,z=t.wrapStyle,k=t.wrapClassName,Z=t.wrapProps,j=t.onClose,G=t.afterOpenChange,H=t.afterClose,X=t.transitionName,ne=t.animation,oe=t.closable,ae=oe===void 0?!0:oe,ie=t.mask,le=ie===void 0?!0:ie,fe=t.maskTransitionName,me=t.maskAnimation,ge=t.maskClosable,be=ge===void 0?!0:ge,Ie=t.maskStyle,Oe=t.maskProps,Te=t.rootClassName,Ve=t.classNames,De=t.styles,Ue=(0,s.useRef)(),ke=(0,s.useRef)(),st=(0,s.useRef)(),ct=s.useState(C),Et=(0,Re.Z)(ct,2),It=Et[0],Ct=Et[1],mt=(0,Ua.Z)();function bt(){(0,ea.Z)(ke.current,document.activeElement)||(Ue.current=document.activeElement)}function zt(){if(!(0,ea.Z)(ke.current,document.activeElement)){var kn;(kn=st.current)===null||kn===void 0||kn.focus()}}function $t(kn){if(kn)zt();else{if(Ct(!1),le&&Ue.current&&L){try{Ue.current.focus({preventScroll:!0})}catch(Pn){}Ue.current=null}It&&(H==null||H())}G==null||G(kn)}function Ht(kn){j==null||j(kn)}var Mt=(0,s.useRef)(!1),Cn=(0,s.useRef)(),Hn=function(){clearTimeout(Cn.current),Mt.current=!0},pn=function(){Cn.current=setTimeout(function(){Mt.current=!1})},Dn=null;be&&(Dn=function(Pn){Mt.current?Mt.current=!1:ke.current===Pn.target&&Ht(Pn)});function Qt(kn){if(I&&kn.keyCode===nt.Z.ESC){kn.stopPropagation(),Ht(kn);return}C&&kn.keyCode===nt.Z.TAB&&st.current.changeActive(!kn.shiftKey)}(0,s.useEffect)(function(){C&&(Ct(!0),bt())},[C]),(0,s.useEffect)(function(){return function(){clearTimeout(Cn.current)}},[]);var Ft=(0,Y.Z)((0,Y.Z)((0,Y.Z)({zIndex:f},z),De==null?void 0:De.wrapper),{},{display:It?null:"none"});return s.createElement("div",(0,We.Z)({className:q()("".concat(o,"-root"),Te)},(0,ut.Z)(t,{data:!0})),s.createElement(bl,{prefixCls:o,visible:le&&C,motionName:ua(o,fe,me),style:(0,Y.Z)((0,Y.Z)({zIndex:f},Ie),De==null?void 0:De.mask),maskProps:Oe,className:Ve==null?void 0:Ve.mask}),s.createElement("div",(0,We.Z)({tabIndex:-1,onKeyDown:Qt,className:q()("".concat(o,"-wrap"),k,Ve==null?void 0:Ve.wrapper),ref:ke,onClick:Dn,style:Ft},Z),s.createElement(Os,(0,We.Z)({},t,{onMouseDown:Hn,onMouseUp:pn,ref:st,closable:ae,ariaId:mt,prefixCls:o,visible:C&&It,onClose:Ht,onVisibleChanged:$t,motionName:ua(o,X,ne)}))))},ql=Zu,Ml=function(t){var a=t.visible,o=t.getContainer,f=t.forceRender,y=t.destroyOnClose,C=y===void 0?!1:y,w=t.afterClose,I=t.panelRef,D=s.useState(a),L=(0,Re.Z)(D,2),z=L[0],k=L[1],Z=s.useMemo(function(){return{panel:I}},[I]);return s.useEffect(function(){a&&k(!0)},[a]),!f&&C&&!z?null:s.createElement(No.Provider,{value:Z},s.createElement(Uo.Z,{open:a||f||z,autoDestroy:!1,getContainer:o,autoLock:a||z},s.createElement(ql,(0,We.Z)({},t,{destroyOnClose:C,afterClose:function(){w==null||w(),k(!1)}}))))};Ml.displayName="Dialog";var Zl=Ml,yc=Zl,Jl=F(78018);function Ll(e){if(e)return{closable:e.closable,closeIcon:e.closeIcon}}function Vl(e){const{closable:t,closeIcon:a}=e||{};return s.useMemo(()=>{if(!t&&(t===!1||a===!1||a===null))return!1;if(t===void 0&&a===void 0)return null;let o={closeIcon:typeof a!="boolean"&&a!==null?a:void 0};return t&&typeof t=="object"&&(o=Object.assign(Object.assign({},o),t)),o},[t,a])}function Ql(){const e={};for(var t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];return a.forEach(f=>{f&&Object.keys(f).forEach(y=>{f[y]!==void 0&&(e[y]=f[y])})}),e}const qc={};function Hl(e,t){let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:qc;const o=Vl(e),f=Vl(t),y=typeof o!="boolean"?!!(o!=null&&o.disabled):!1,C=s.useMemo(()=>Object.assign({closeIcon:s.createElement(cr.Z,null)},a),[a]),w=s.useMemo(()=>o===!1?!1:o?Ql(C,f,o):f===!1?!1:f?Ql(C,f):C.closable?C:!1,[o,f,C]);return s.useMemo(()=>{if(w===!1)return[!1,null,y];const{closeIconRender:I}=C,{closeIcon:D}=w;let L=D;if(L!=null){I&&(L=I(D));const z=(0,ut.Z)(w,!0);Object.keys(z).length&&(L=s.isValidElement(L)?s.cloneElement(L,z):s.createElement("span",Object.assign({},z),L))}return[!0,L,y]},[w,C])}var cc=F(18415);const ec=()=>(0,cc.Z)()&&window.document.documentElement;var Ya=F(61803),pu=e=>{const{prefixCls:t,className:a,style:o,size:f,shape:y}=e,C=q()({[`${t}-lg`]:f==="large",[`${t}-sm`]:f==="small"}),w=q()({[`${t}-circle`]:y==="circle",[`${t}-square`]:y==="square",[`${t}-round`]:y==="round"}),I=s.useMemo(()=>typeof f=="number"?{width:f,height:f,lineHeight:`${f}px`}:{},[f]);return s.createElement("span",{className:q()(t,C,w,a),style:Object.assign(Object.assign({},I),o)})};const Jh=new he.E4("ant-skeleton-loading",{"0%":{backgroundPosition:"100% 50%"},"100%":{backgroundPosition:"0 50%"}}),Pd=e=>({height:e,lineHeight:(0,he.bf)(e)}),cd=e=>Object.assign({width:e},Pd(e)),Hs=e=>({background:e.skeletonLoadingBackground,backgroundSize:"400% 100%",animationName:Jh,animationDuration:e.skeletonLoadingMotionDuration,animationTimingFunction:"ease",animationIterationCount:"infinite"}),Vu=(e,t)=>Object.assign({width:t(e).mul(5).equal(),minWidth:t(e).mul(5).equal()},Pd(e)),Xf=e=>{const{skeletonAvatarCls:t,gradientFromColor:a,controlHeight:o,controlHeightLG:f,controlHeightSM:y}=e;return{[t]:Object.assign({display:"inline-block",verticalAlign:"top",background:a},cd(o)),[`${t}${t}-circle`]:{borderRadius:"50%"},[`${t}${t}-lg`]:Object.assign({},cd(f)),[`${t}${t}-sm`]:Object.assign({},cd(y))}},Od=e=>{const{controlHeight:t,borderRadiusSM:a,skeletonInputCls:o,controlHeightLG:f,controlHeightSM:y,gradientFromColor:C,calc:w}=e;return{[o]:Object.assign({display:"inline-block",verticalAlign:"top",background:C,borderRadius:a},Vu(t,w)),[`${o}-lg`]:Object.assign({},Vu(f,w)),[`${o}-sm`]:Object.assign({},Vu(y,w))}},of=e=>Object.assign({width:e},Pd(e)),af=e=>{const{skeletonImageCls:t,imageSizeBase:a,gradientFromColor:o,borderRadiusSM:f,calc:y}=e;return{[t]:Object.assign(Object.assign({display:"inline-flex",alignItems:"center",justifyContent:"center",verticalAlign:"middle",background:o,borderRadius:f},of(y(a).mul(2).equal())),{[`${t}-path`]:{fill:"#bfbfbf"},[`${t}-svg`]:Object.assign(Object.assign({},of(a)),{maxWidth:y(a).mul(4).equal(),maxHeight:y(a).mul(4).equal()}),[`${t}-svg${t}-svg-circle`]:{borderRadius:"50%"}}),[`${t}${t}-circle`]:{borderRadius:"50%"}}},sf=(e,t,a)=>{const{skeletonButtonCls:o}=e;return{[`${a}${o}-circle`]:{width:t,minWidth:t,borderRadius:"50%"},[`${a}${o}-round`]:{borderRadius:t}}},Rd=(e,t)=>Object.assign({width:t(e).mul(2).equal(),minWidth:t(e).mul(2).equal()},Pd(e)),ud=e=>{const{borderRadiusSM:t,skeletonButtonCls:a,controlHeight:o,controlHeightLG:f,controlHeightSM:y,gradientFromColor:C,calc:w}=e;return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({[a]:Object.assign({display:"inline-block",verticalAlign:"top",background:C,borderRadius:t,width:w(o).mul(2).equal(),minWidth:w(o).mul(2).equal()},Rd(o,w))},sf(e,o,a)),{[`${a}-lg`]:Object.assign({},Rd(f,w))}),sf(e,f,`${a}-lg`)),{[`${a}-sm`]:Object.assign({},Rd(y,w))}),sf(e,y,`${a}-sm`))},$d=e=>{const{componentCls:t,skeletonAvatarCls:a,skeletonTitleCls:o,skeletonParagraphCls:f,skeletonButtonCls:y,skeletonInputCls:C,skeletonImageCls:w,controlHeight:I,controlHeightLG:D,controlHeightSM:L,gradientFromColor:z,padding:k,marginSM:Z,borderRadius:j,titleHeight:G,blockRadius:H,paragraphLiHeight:X,controlHeightXS:ne,paragraphMarginTop:oe}=e;return{[t]:{display:"table",width:"100%",[`${t}-header`]:{display:"table-cell",paddingInlineEnd:k,verticalAlign:"top",[a]:Object.assign({display:"inline-block",verticalAlign:"top",background:z},cd(I)),[`${a}-circle`]:{borderRadius:"50%"},[`${a}-lg`]:Object.assign({},cd(D)),[`${a}-sm`]:Object.assign({},cd(L))},[`${t}-content`]:{display:"table-cell",width:"100%",verticalAlign:"top",[o]:{width:"100%",height:G,background:z,borderRadius:H,[`+ ${f}`]:{marginBlockStart:L}},[f]:{padding:0,"> li":{width:"100%",height:X,listStyle:"none",background:z,borderRadius:H,"+ li":{marginBlockStart:ne}}},[`${f}> li:last-child:not(:first-child):not(:nth-child(2))`]:{width:"61%"}},[`&-round ${t}-content`]:{[`${o}, ${f} > li`]:{borderRadius:j}}},[`${t}-with-avatar ${t}-content`]:{[o]:{marginBlockStart:Z,[`+ ${f}`]:{marginBlockStart:oe}}},[`${t}${t}-element`]:Object.assign(Object.assign(Object.assign(Object.assign({display:"inline-block",width:"auto"},ud(e)),Xf(e)),Od(e)),af(e)),[`${t}${t}-block`]:{width:"100%",[y]:{width:"100%"},[C]:{width:"100%"}},[`${t}${t}-active`]:{[`
        ${o},
        ${f} > li,
        ${a},
        ${y},
        ${C},
        ${w}
      `]:Object.assign({},Hs(e))}}},Yf=e=>{const{colorFillContent:t,colorFill:a}=e,o=t,f=a;return{color:o,colorGradientEnd:f,gradientFromColor:o,gradientToColor:f,titleHeight:e.controlHeight/2,blockRadius:e.borderRadiusSM,paragraphMarginTop:e.marginLG+e.marginXXS,paragraphLiHeight:e.controlHeight/2}};var Ul=(0,te.I$)("Skeleton",e=>{const{componentCls:t,calc:a}=e,o=(0,Qr.IX)(e,{skeletonAvatarCls:`${t}-avatar`,skeletonTitleCls:`${t}-title`,skeletonParagraphCls:`${t}-paragraph`,skeletonButtonCls:`${t}-button`,skeletonInputCls:`${t}-input`,skeletonImageCls:`${t}-image`,imageSizeBase:a(e.controlHeight).mul(1.5).equal(),borderRadius:100,skeletonLoadingBackground:`linear-gradient(90deg, ${e.gradientFromColor} 25%, ${e.gradientToColor} 37%, ${e.gradientFromColor} 63%)`,skeletonLoadingMotionDuration:"1.4s"});return[$d(o)]},Yf,{deprecatedTokens:[["color","gradientFromColor"],["colorGradientEnd","gradientToColor"]]}),Ad=e=>{const{prefixCls:t,className:a,rootClassName:o,active:f,shape:y="circle",size:C="default"}=e,{getPrefixCls:w}=s.useContext(ye.E_),I=w("skeleton",t),[D,L,z]=Ul(I),k=(0,fr.Z)(e,["prefixCls","className"]),Z=q()(I,`${I}-element`,{[`${I}-active`]:f},a,o,L,z);return D(s.createElement("div",{className:Z},s.createElement(pu,Object.assign({prefixCls:`${I}-avatar`,shape:y,size:C},k))))},Qf=e=>{const{prefixCls:t,className:a,rootClassName:o,active:f,block:y=!1,size:C="default"}=e,{getPrefixCls:w}=s.useContext(ye.E_),I=w("skeleton",t),[D,L,z]=Ul(I),k=(0,fr.Z)(e,["prefixCls"]),Z=q()(I,`${I}-element`,{[`${I}-active`]:f,[`${I}-block`]:y},a,o,L,z);return D(s.createElement("div",{className:Z},s.createElement(pu,Object.assign({prefixCls:`${I}-button`,size:C},k))))};const eh="M365.714286 329.142857q0 45.714286-32.036571 77.677714t-77.677714 32.036571-77.677714-32.036571-32.036571-77.677714 32.036571-77.677714 77.677714-32.036571 77.677714 32.036571 32.036571 77.677714zM950.857143 548.571429l0 256-804.571429 0 0-109.714286 182.857143-182.857143 91.428571 91.428571 292.571429-292.571429zM1005.714286 146.285714l-914.285714 0q-7.460571 0-12.873143 5.412571t-5.412571 12.873143l0 694.857143q0 7.460571 5.412571 12.873143t12.873143 5.412571l914.285714 0q7.460571 0 12.873143-5.412571t5.412571-12.873143l0-694.857143q0-7.460571-5.412571-12.873143t-12.873143-5.412571zM1097.142857 164.571429l0 694.857143q0 37.741714-26.843429 64.585143t-64.585143 26.843429l-914.285714 0q-37.741714 0-64.585143-26.843429t-26.843429-64.585143l0-694.857143q0-37.741714 26.843429-64.585143t64.585143-26.843429l914.285714 0q37.741714 0 64.585143 26.843429t26.843429 64.585143z";var nh=e=>{const{prefixCls:t,className:a,rootClassName:o,style:f,active:y}=e,{getPrefixCls:C}=s.useContext(ye.E_),w=C("skeleton",t),[I,D,L]=Ul(w),z=q()(w,`${w}-element`,{[`${w}-active`]:y},a,o,D,L);return I(s.createElement("div",{className:z},s.createElement("div",{className:q()(`${w}-image`,a),style:f},s.createElement("svg",{viewBox:"0 0 1098 1024",xmlns:"http://www.w3.org/2000/svg",className:`${w}-image-svg`},s.createElement("title",null,"Image placeholder"),s.createElement("path",{d:eh,className:`${w}-image-path`})))))},Dd=e=>{const{prefixCls:t,className:a,rootClassName:o,active:f,block:y,size:C="default"}=e,{getPrefixCls:w}=s.useContext(ye.E_),I=w("skeleton",t),[D,L,z]=Ul(I),k=(0,fr.Z)(e,["prefixCls"]),Z=q()(I,`${I}-element`,{[`${I}-active`]:f,[`${I}-block`]:y},a,o,L,z);return D(s.createElement("div",{className:Z},s.createElement(pu,Object.assign({prefixCls:`${I}-input`,size:C},k))))},rh=e=>{const{prefixCls:t,className:a,rootClassName:o,style:f,active:y,children:C}=e,{getPrefixCls:w}=s.useContext(ye.E_),I=w("skeleton",t),[D,L,z]=Ul(I),k=q()(I,`${I}-element`,{[`${I}-active`]:y},L,a,o,z);return D(s.createElement("div",{className:k},s.createElement("div",{className:q()(`${I}-image`,a),style:f},C)))};const Hu=(e,t)=>{const{width:a,rows:o=2}=t;if(Array.isArray(a))return a[e];if(o-1===e)return a};var cm=e=>{const{prefixCls:t,className:a,style:o,rows:f=0}=e,y=Array.from({length:f}).map((C,w)=>s.createElement("li",{key:w,style:{width:Hu(w,e)}}));return s.createElement("ul",{className:q()(t,a),style:o},y)},dm=e=>{let{prefixCls:t,className:a,width:o,style:f}=e;return s.createElement("h3",{className:q()(t,a),style:Object.assign({width:o},f)})};function oh(e){return e&&typeof e=="object"?e:{}}function Qh(e,t){return e&&!t?{size:"large",shape:"square"}:{size:"large",shape:"circle"}}function ah(e,t){return!e&&t?{width:"38%"}:e&&t?{width:"50%"}:{}}function sh(e,t){const a={};return(!e||!t)&&(a.width="61%"),!e&&t?a.rows=3:a.rows=2,a}const mu=e=>{const{prefixCls:t,loading:a,className:o,rootClassName:f,style:y,children:C,avatar:w=!1,title:I=!0,paragraph:D=!0,active:L,round:z}=e,{getPrefixCls:k,direction:Z,className:j,style:G}=(0,ye.dj)("skeleton"),H=k("skeleton",t),[X,ne,oe]=Ul(H);if(a||!("loading"in e)){const ae=!!w,ie=!!I,le=!!D;let fe;if(ae){const be=Object.assign(Object.assign({prefixCls:`${H}-avatar`},Qh(ie,le)),oh(w));fe=s.createElement("div",{className:`${H}-header`},s.createElement(pu,Object.assign({},be)))}let me;if(ie||le){let be;if(ie){const Oe=Object.assign(Object.assign({prefixCls:`${H}-title`},ah(ae,le)),oh(I));be=s.createElement(dm,Object.assign({},Oe))}let Ie;if(le){const Oe=Object.assign(Object.assign({prefixCls:`${H}-paragraph`},sh(ae,ie)),oh(D));Ie=s.createElement(cm,Object.assign({},Oe))}me=s.createElement("div",{className:`${H}-content`},be,Ie)}const ge=q()(H,{[`${H}-with-avatar`]:ae,[`${H}-active`]:L,[`${H}-rtl`]:Z==="rtl",[`${H}-round`]:z},j,o,f,ne,oe);return X(s.createElement("div",{className:ge,style:Object.assign(Object.assign({},G),y)},fe,me))}return C!=null?C:null};mu.Button=Qf,mu.Avatar=Ad,mu.Input=Dd,mu.Image=nh,mu.Node=rh;var wn=mu,zr=wn;function oo(){}const ma=s.createContext({add:oo,remove:oo});function el(e){const t=s.useContext(ma),a=s.useRef(null);return(0,yr.Z)(f=>{if(f){const y=e?f.querySelector(e):f;t.add(y),a.current=y}else t.remove(a.current)})}var os=ma,Us=()=>{const{cancelButtonProps:e,cancelTextLocale:t,onCancel:a}=(0,s.useContext)(Ki);return s.createElement($n,Object.assign({onClick:a},e),t)},tl=()=>{const{confirmLoading:e,okButtonProps:t,okType:a,okTextLocale:o,onOk:f}=(0,s.useContext)(Ki);return s.createElement($n,Object.assign({},Ye(a),{loading:e,onClick:f},t),o)},Zc=F(3786);function _c(e,t){return s.createElement("span",{className:`${e}-close-x`},t||s.createElement(cr.Z,{className:`${e}-close-icon`}))}const Pl=e=>{const{okText:t,okType:a="primary",cancelText:o,confirmLoading:f,onOk:y,onCancel:C,okButtonProps:w,cancelButtonProps:I,footer:D}=e,[L]=(0,In.Z)("Modal",(0,Zc.A)()),z=t||(L==null?void 0:L.okText),k=o||(L==null?void 0:L.cancelText),Z={confirmLoading:f,okButtonProps:w,cancelButtonProps:I,okTextLocale:z,cancelTextLocale:k,okType:a,onOk:y,onCancel:C},j=s.useMemo(()=>Z,(0,xe.Z)(Object.values(Z)));let G;return typeof D=="function"||typeof D=="undefined"?(G=s.createElement(s.Fragment,null,s.createElement(Us,null),s.createElement(tl,null)),typeof D=="function"&&(G=D(G,{OkBtn:tl,CancelBtn:Us})),G=s.createElement(mo,{value:j},G)):G=D,s.createElement(to.n,{disabled:!1},G)};var Jc=F(40672),bc=F(79318);const zc=new he.E4("antFadeIn",{"0%":{opacity:0},"100%":{opacity:1}}),Nc=new he.E4("antFadeOut",{"0%":{opacity:1},"100%":{opacity:0}}),iu=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const{antCls:a}=e,o=`${a}-fade`,f=t?"&":"";return[(0,bc.R)(o,zc,Nc,e.motionDurationMid,t),{[`
        ${f}${o}-enter,
        ${f}${o}-appear
      `]:{opacity:0,animationTimingFunction:"linear"},[`${f}${o}-leave`]:{animationTimingFunction:"linear"}}]};var ou=F(3153);function lf(e){return{position:e,inset:0}}const dd=e=>{const{componentCls:t,antCls:a}=e;return[{[`${t}-root`]:{[`${t}${a}-zoom-enter, ${t}${a}-zoom-appear`]:{transform:"none",opacity:0,animationDuration:e.motionDurationSlow,userSelect:"none"},[`${t}${a}-zoom-leave ${t}-content`]:{pointerEvents:"none"},[`${t}-mask`]:Object.assign(Object.assign({},lf("fixed")),{zIndex:e.zIndexPopupBase,height:"100%",backgroundColor:e.colorBgMask,pointerEvents:"none",[`${t}-hidden`]:{display:"none"}}),[`${t}-wrap`]:Object.assign(Object.assign({},lf("fixed")),{zIndex:e.zIndexPopupBase,overflow:"auto",outline:0,WebkitOverflowScrolling:"touch"})}},{[`${t}-root`]:iu(e)}]},Uu=e=>{const{componentCls:t}=e;return[{[`${t}-root`]:{[`${t}-wrap-rtl`]:{direction:"rtl"},[`${t}-centered`]:{textAlign:"center","&::before":{display:"inline-block",width:0,height:"100%",verticalAlign:"middle",content:'""'},[t]:{top:0,display:"inline-block",paddingBottom:0,textAlign:"start",verticalAlign:"middle"}},[`@media (max-width: ${e.screenSMMax}px)`]:{[t]:{maxWidth:"calc(100vw - 16px)",margin:`${(0,he.bf)(e.marginXS)} auto`},[`${t}-centered`]:{[t]:{flex:1}}}}},{[t]:Object.assign(Object.assign({},(0,Jt.Wf)(e)),{pointerEvents:"none",position:"relative",top:100,width:"auto",maxWidth:`calc(100vw - ${(0,he.bf)(e.calc(e.margin).mul(2).equal())})`,margin:"0 auto",paddingBottom:e.paddingLG,[`${t}-title`]:{margin:0,color:e.titleColor,fontWeight:e.fontWeightStrong,fontSize:e.titleFontSize,lineHeight:e.titleLineHeight,wordWrap:"break-word"},[`${t}-content`]:{position:"relative",backgroundColor:e.contentBg,backgroundClip:"padding-box",border:0,borderRadius:e.borderRadiusLG,boxShadow:e.boxShadow,pointerEvents:"auto",padding:e.contentPadding},[`${t}-close`]:Object.assign({position:"absolute",top:e.calc(e.modalHeaderHeight).sub(e.modalCloseBtnSize).div(2).equal(),insetInlineEnd:e.calc(e.modalHeaderHeight).sub(e.modalCloseBtnSize).div(2).equal(),zIndex:e.calc(e.zIndexPopupBase).add(10).equal(),padding:0,color:e.modalCloseIconColor,fontWeight:e.fontWeightStrong,lineHeight:1,textDecoration:"none",background:"transparent",borderRadius:e.borderRadiusSM,width:e.modalCloseBtnSize,height:e.modalCloseBtnSize,border:0,outline:0,cursor:"pointer",transition:`color ${e.motionDurationMid}, background-color ${e.motionDurationMid}`,"&-x":{display:"flex",fontSize:e.fontSizeLG,fontStyle:"normal",lineHeight:(0,he.bf)(e.modalCloseBtnSize),justifyContent:"center",textTransform:"none",textRendering:"auto"},"&:disabled":{pointerEvents:"none"},"&:hover":{color:e.modalCloseIconHoverColor,backgroundColor:e.colorBgTextHover,textDecoration:"none"},"&:active":{backgroundColor:e.colorBgTextActive}},(0,Jt.Qy)(e)),[`${t}-header`]:{color:e.colorText,background:e.headerBg,borderRadius:`${(0,he.bf)(e.borderRadiusLG)} ${(0,he.bf)(e.borderRadiusLG)} 0 0`,marginBottom:e.headerMarginBottom,padding:e.headerPadding,borderBottom:e.headerBorderBottom},[`${t}-body`]:{fontSize:e.fontSize,lineHeight:e.lineHeight,wordWrap:"break-word",padding:e.bodyPadding,[`${t}-body-skeleton`]:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",margin:`${(0,he.bf)(e.margin)} auto`}},[`${t}-footer`]:{textAlign:"end",background:e.footerBg,marginTop:e.footerMarginTop,padding:e.footerPadding,borderTop:e.footerBorderTop,borderRadius:e.footerBorderRadius,[`> ${e.antCls}-btn + ${e.antCls}-btn`]:{marginInlineStart:e.marginXS}},[`${t}-open`]:{overflow:"hidden"}})},{[`${t}-pure-panel`]:{top:"auto",padding:0,display:"flex",flexDirection:"column",[`${t}-content,
          ${t}-body,
          ${t}-confirm-body-wrapper`]:{display:"flex",flexDirection:"column",flex:"auto"},[`${t}-confirm-body`]:{marginBottom:"auto"}}}]},cf=e=>{const{componentCls:t}=e;return{[`${t}-root`]:{[`${t}-wrap-rtl`]:{direction:"rtl",[`${t}-confirm-body`]:{direction:"rtl"}}}}},uf=e=>{const{componentCls:t}=e,a=(0,Jc.hd)(e);delete a.xs;const o=Object.keys(a).map(f=>({[`@media (min-width: ${(0,he.bf)(a[f])})`]:{width:`var(--${t.replace(".","")}-${f}-width)`}}));return{[`${t}-root`]:{[t]:[{width:`var(--${t.replace(".","")}-xs-width)`}].concat((0,xe.Z)(o))}}},lh=e=>{const t=e.padding,a=e.fontSizeHeading5,o=e.lineHeightHeading5;return(0,Qr.IX)(e,{modalHeaderHeight:e.calc(e.calc(o).mul(a).equal()).add(e.calc(t).mul(2).equal()).equal(),modalFooterBorderColorSplit:e.colorSplit,modalFooterBorderStyle:e.lineType,modalFooterBorderWidth:e.lineWidth,modalCloseIconColor:e.colorIcon,modalCloseIconHoverColor:e.colorIconHover,modalCloseBtnSize:e.controlHeight,modalConfirmIconSize:e.fontHeight,modalTitleHeight:e.calc(e.titleFontSize).mul(e.titleLineHeight).equal()})},df=e=>({footerBg:"transparent",headerBg:e.colorBgElevated,titleLineHeight:e.lineHeightHeading5,titleFontSize:e.fontSizeHeading5,contentBg:e.colorBgElevated,titleColor:e.colorTextHeading,contentPadding:e.wireframe?0:`${(0,he.bf)(e.paddingMD)} ${(0,he.bf)(e.paddingContentHorizontalLG)}`,headerPadding:e.wireframe?`${(0,he.bf)(e.padding)} ${(0,he.bf)(e.paddingLG)}`:0,headerBorderBottom:e.wireframe?`${(0,he.bf)(e.lineWidth)} ${e.lineType} ${e.colorSplit}`:"none",headerMarginBottom:e.wireframe?0:e.marginXS,bodyPadding:e.wireframe?e.paddingLG:0,footerPadding:e.wireframe?`${(0,he.bf)(e.paddingXS)} ${(0,he.bf)(e.padding)}`:0,footerBorderTop:e.wireframe?`${(0,he.bf)(e.lineWidth)} ${e.lineType} ${e.colorSplit}`:"none",footerBorderRadius:e.wireframe?`0 0 ${(0,he.bf)(e.borderRadiusLG)} ${(0,he.bf)(e.borderRadiusLG)}`:0,footerMarginTop:e.wireframe?0:e.marginSM,confirmBodyPadding:e.wireframe?`${(0,he.bf)(e.padding*2)} ${(0,he.bf)(e.padding*2)} ${(0,he.bf)(e.paddingLG)}`:0,confirmIconMarginInlineEnd:e.wireframe?e.margin:e.marginSM,confirmBtnsMarginTop:e.wireframe?e.marginLG:e.marginSM});var fm=(0,te.I$)("Modal",e=>{const t=lh(e);return[Uu(t),cf(t),dd(t),(0,ou._y)(t,"zoom"),uf(t)]},df,{unitless:{titleLineHeight:!0}}),ch=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a};let Ld;const hm=e=>{Ld={x:e.pageX,y:e.pageY},setTimeout(()=>{Ld=null},100)};ec()&&document.documentElement.addEventListener("click",hm,!0);var Zg=e=>{var t;const{getPopupContainer:a,getPrefixCls:o,direction:f,modal:y}=s.useContext(ye.E_),C=$t=>{const{onCancel:Ht}=e;Ht==null||Ht($t)},w=$t=>{const{onOk:Ht}=e;Ht==null||Ht($t)},{prefixCls:I,className:D,rootClassName:L,open:z,wrapClassName:k,centered:Z,getContainer:j,focusTriggerAfterClose:G=!0,style:H,visible:X,width:ne=520,footer:oe,classNames:ae,styles:ie,children:le,loading:fe}=e,me=ch(e,["prefixCls","className","rootClassName","open","wrapClassName","centered","getContainer","focusTriggerAfterClose","style","visible","width","footer","classNames","styles","children","loading"]),ge=o("modal",I),be=o(),Ie=(0,Un.Z)(ge),[Oe,Te,Ve]=fm(ge,Ie),De=q()(k,{[`${ge}-centered`]:Z!=null?Z:y==null?void 0:y.centered,[`${ge}-wrap-rtl`]:f==="rtl"}),Ue=oe!==null&&!fe?s.createElement(Pl,Object.assign({},e,{onOk:w,onCancel:C})):null,[ke,st,ct]=Hl(Ll(e),Ll(y),{closable:!0,closeIcon:s.createElement(cr.Z,{className:`${ge}-close-icon`}),closeIconRender:$t=>_c(ge,$t)}),Et=el(`.${ge}-content`),[It,Ct]=(0,qt.Cn)("Modal",me.zIndex),[mt,bt]=s.useMemo(()=>ne&&typeof ne=="object"?[void 0,ne]:[ne,void 0],[ne]),zt=s.useMemo(()=>{const $t={};return bt&&Object.keys(bt).forEach(Ht=>{const Mt=bt[Ht];Mt!==void 0&&($t[`--${ge}-${Ht}-width`]=typeof Mt=="number"?`${Mt}px`:Mt)}),$t},[bt]);return Oe(s.createElement(Jl.Z,{form:!0,space:!0},s.createElement(Ya.Z.Provider,{value:Ct},s.createElement(yc,Object.assign({width:mt},me,{zIndex:It,getContainer:j===void 0?a:j,prefixCls:ge,rootClassName:q()(Te,L,Ve,Ie),footer:Ue,visible:z!=null?z:X,mousePosition:(t=me.mousePosition)!==null&&t!==void 0?t:Ld,onClose:C,closable:ke&&{disabled:ct,closeIcon:st},closeIcon:st,focusTriggerAfterClose:G,transitionName:(0,Tt.m)(be,"zoom",e.transitionName),maskTransitionName:(0,Tt.m)(be,"fade",e.maskTransitionName),className:q()(Te,D,y==null?void 0:y.className),style:Object.assign(Object.assign(Object.assign({},y==null?void 0:y.style),H),zt),classNames:Object.assign(Object.assign(Object.assign({},y==null?void 0:y.classNames),ae),{wrapper:q()(De,ae==null?void 0:ae.wrapper)}),styles:Object.assign(Object.assign({},y==null?void 0:y.styles),ie),panelRef:Et}),fe?s.createElement(zr,{active:!0,title:!1,paragraph:{rows:4},className:`${ge}-body-skeleton`}):le))))};const zd=e=>{const{componentCls:t,titleFontSize:a,titleLineHeight:o,modalConfirmIconSize:f,fontSize:y,lineHeight:C,modalTitleHeight:w,fontHeight:I,confirmBodyPadding:D}=e,L=`${t}-confirm`;return{[L]:{"&-rtl":{direction:"rtl"},[`${e.antCls}-modal-header`]:{display:"none"},[`${L}-body-wrapper`]:Object.assign({},(0,Jt.dF)()),[`&${t} ${t}-body`]:{padding:D},[`${L}-body`]:{display:"flex",flexWrap:"nowrap",alignItems:"start",[`> ${e.iconCls}`]:{flex:"none",fontSize:f,marginInlineEnd:e.confirmIconMarginInlineEnd,marginTop:e.calc(e.calc(I).sub(f).equal()).div(2).equal()},[`&-has-title > ${e.iconCls}`]:{marginTop:e.calc(e.calc(w).sub(f).equal()).div(2).equal()}},[`${L}-paragraph`]:{display:"flex",flexDirection:"column",flex:"auto",rowGap:e.marginXS,maxWidth:`calc(100% - ${(0,he.bf)(e.marginSM)})`},[`${e.iconCls} + ${L}-paragraph`]:{maxWidth:`calc(100% - ${(0,he.bf)(e.calc(e.modalConfirmIconSize).add(e.marginSM).equal())})`},[`${L}-title`]:{color:e.colorTextHeading,fontWeight:e.fontWeightStrong,fontSize:a,lineHeight:o},[`${L}-content`]:{color:e.colorText,fontSize:y,lineHeight:C},[`${L}-btns`]:{textAlign:"end",marginTop:e.confirmBtnsMarginTop,[`${e.antCls}-btn + ${e.antCls}-btn`]:{marginBottom:0,marginInlineStart:e.marginXS}}},[`${L}-error ${L}-body > ${e.iconCls}`]:{color:e.colorError},[`${L}-warning ${L}-body > ${e.iconCls},
        ${L}-confirm ${L}-body > ${e.iconCls}`]:{color:e.colorWarning},[`${L}-info ${L}-body > ${e.iconCls}`]:{color:e.colorInfo},[`${L}-success ${L}-body > ${e.iconCls}`]:{color:e.colorSuccess}}};var ep=(0,te.bk)(["Modal","confirm"],e=>{const t=lh(e);return[zd(t)]},df,{order:-1e3}),_o=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a};function tp(e){const{prefixCls:t,icon:a,okText:o,cancelText:f,confirmPrefixCls:y,type:C,okCancel:w,footer:I,locale:D}=e,L=_o(e,["prefixCls","icon","okText","cancelText","confirmPrefixCls","type","okCancel","footer","locale"]);let z=a;if(!a&&a!==null)switch(C){case"info":z=s.createElement(hn,null);break;case"success":z=s.createElement(kt.Z,null);break;case"error":z=s.createElement(Sr.Z,null);break;default:z=s.createElement(Xn.Z,null)}const k=w!=null?w:C==="confirm",Z=e.autoFocusButton===null?!1:e.autoFocusButton||"ok",[j]=(0,In.Z)("Modal"),G=D||j,H=o||(k?G==null?void 0:G.okText:G==null?void 0:G.justOkText),X=f||(G==null?void 0:G.cancelText),ne=Object.assign({autoFocusButton:Z,cancelTextLocale:X,okTextLocale:H,mergedOkCancel:k},L),oe=s.useMemo(()=>ne,(0,xe.Z)(Object.values(ne))),ae=s.createElement(s.Fragment,null,s.createElement(Io,null),s.createElement(no,null)),ie=e.title!==void 0&&e.title!==null,le=`${y}-body`;return s.createElement("div",{className:`${y}-body-wrapper`},s.createElement("div",{className:q()(le,{[`${le}-has-title`]:ie})},z,s.createElement("div",{className:`${y}-paragraph`},ie&&s.createElement("span",{className:`${y}-title`},e.title),s.createElement("div",{className:`${y}-content`},e.content))),I===void 0||typeof I=="function"?s.createElement(mo,{value:oe},s.createElement("div",{className:`${y}-btns`},typeof I=="function"?I(ae,{OkBtn:no,CancelBtn:Io}):ae)):I,s.createElement(ep,{prefixCls:t}))}const pm=e=>{const{close:t,zIndex:a,maskStyle:o,direction:f,prefixCls:y,wrapClassName:C,rootPrefixCls:w,bodyStyle:I,closable:D=!1,onConfirm:L,styles:z}=e,k=`${y}-confirm`,Z=e.width||416,j=e.style||{},G=e.mask===void 0?!0:e.mask,H=e.maskClosable===void 0?!1:e.maskClosable,X=q()(k,`${k}-${e.type}`,{[`${k}-rtl`]:f==="rtl"},e.className),[,ne]=(0,Qn.ZP)(),oe=s.useMemo(()=>a!==void 0?a:ne.zIndexPopupBase+qt.u6,[a,ne]);return s.createElement(Zg,Object.assign({},e,{className:X,wrapClassName:q()({[`${k}-centered`]:!!e.centered},C),onCancel:()=>{t==null||t({triggerCancel:!0}),L==null||L(!1)},title:"",footer:null,transitionName:(0,Tt.m)(w||"","zoom",e.transitionName),maskTransitionName:(0,Tt.m)(w||"","fade",e.maskTransitionName),mask:G,maskClosable:H,style:j,styles:Object.assign({body:I,mask:o},z),width:Z,zIndex:oe,closable:D}),s.createElement(tp,Object.assign({},e,{confirmPrefixCls:k})))};var fd=e=>{const{rootPrefixCls:t,iconPrefixCls:a,direction:o,theme:f}=e;return s.createElement(_e.ZP,{prefixCls:t,iconPrefixCls:a,direction:o,theme:f},s.createElement(pm,Object.assign({},e)))},Wu=[];let Vg="";function Hg(){return Vg}const np=e=>{var t,a;const{prefixCls:o,getContainer:f,direction:y}=e,C=(0,Zc.A)(),w=(0,s.useContext)(ye.E_),I=Hg()||w.getPrefixCls(),D=o||`${I}-modal`;let L=f;return L===!1&&(L=void 0),s.createElement(fd,Object.assign({},e,{rootPrefixCls:I,prefixCls:D,iconPrefixCls:w.iconPrefixCls,theme:w.theme,direction:y!=null?y:w.direction,locale:(a=(t=w.locale)===null||t===void 0?void 0:t.Modal)!==null&&a!==void 0?a:C,getContainer:L}))};function Bd(e){const t=(0,_e.w6)(),a=document.createDocumentFragment();let o=Object.assign(Object.assign({},e),{close:I,open:!0}),f,y;function C(){for(var L,z=arguments.length,k=new Array(z),Z=0;Z<z;Z++)k[Z]=arguments[Z];if(k.some(H=>H==null?void 0:H.triggerCancel)){var G;(L=e.onCancel)===null||L===void 0||(G=L).call.apply(G,[e,()=>{}].concat((0,xe.Z)(k.slice(1))))}for(let H=0;H<Wu.length;H++)if(Wu[H]===I){Wu.splice(H,1);break}y()}function w(L){clearTimeout(f),f=setTimeout(()=>{const z=t.getPrefixCls(void 0,Hg()),k=t.getIconPrefixCls(),Z=t.getTheme(),j=s.createElement(np,Object.assign({},L));y=(0,wt.x)()(s.createElement(_e.ZP,{prefixCls:z,iconPrefixCls:k,theme:Z},t.holderRender?t.holderRender(j):j),a)})}function I(){for(var L=arguments.length,z=new Array(L),k=0;k<L;k++)z[k]=arguments[k];o=Object.assign(Object.assign({},o),{open:!1,afterClose:()=>{typeof e.afterClose=="function"&&e.afterClose(),C.apply(this,z)}}),o.visible&&delete o.visible,w(o)}function D(L){typeof L=="function"?o=L(o):o=Object.assign(Object.assign({},o),L),w(o)}return w(o),Wu.push(I),{destroy:I,update:D}}function rp(e){return Object.assign(Object.assign({},e),{type:"warning"})}function mm(e){return Object.assign(Object.assign({},e),{type:"info"})}function ip(e){return Object.assign(Object.assign({},e),{type:"success"})}function ff(e){return Object.assign(Object.assign({},e),{type:"error"})}function uh(e){return Object.assign(Object.assign({},e),{type:"confirm"})}function gm(e){let{rootPrefixCls:t}=e;Vg=t}var Ac=F(42474),Vc=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a};const hd=(e,t)=>{var a,{afterClose:o,config:f}=e,y=Vc(e,["afterClose","config"]);const[C,w]=s.useState(!0),[I,D]=s.useState(f),{direction:L,getPrefixCls:z}=s.useContext(ye.E_),k=z("modal"),Z=z(),j=()=>{var ne;o(),(ne=I.afterClose)===null||ne===void 0||ne.call(I)},G=function(){var ne;w(!1);for(var oe=arguments.length,ae=new Array(oe),ie=0;ie<oe;ie++)ae[ie]=arguments[ie];if(ae.some(me=>me==null?void 0:me.triggerCancel)){var fe;(ne=I.onCancel)===null||ne===void 0||(fe=ne).call.apply(fe,[I,()=>{}].concat((0,xe.Z)(ae.slice(1))))}};s.useImperativeHandle(t,()=>({destroy:G,update:ne=>{D(oe=>Object.assign(Object.assign({},oe),ne))}}));const H=(a=I.okCancel)!==null&&a!==void 0?a:I.type==="confirm",[X]=(0,In.Z)("Modal",Ac.Z.Modal);return s.createElement(fd,Object.assign({prefixCls:k,rootPrefixCls:Z},I,{close:G,open:C,afterClose:j,okText:I.okText||(H?X==null?void 0:X.okText:X==null?void 0:X.justOkText),direction:I.direction||L,cancelText:I.cancelText||(X==null?void 0:X.cancelText)},y))};var vm=s.forwardRef(hd);let op=0;const hf=s.memo(s.forwardRef((e,t)=>{const[a,o]=K();return s.useImperativeHandle(t,()=>({patchElement:o}),[]),s.createElement(s.Fragment,null,a)}));function ap(){const e=s.useRef(null),[t,a]=s.useState([]);s.useEffect(()=>{t.length&&((0,xe.Z)(t).forEach(C=>{C()}),a([]))},[t]);const o=s.useCallback(y=>function(w){var I;op+=1;const D=s.createRef();let L;const z=new Promise(H=>{L=H});let k=!1,Z;const j=s.createElement(vm,{key:`modal-${op}`,config:y(w),ref:D,afterClose:()=>{Z==null||Z()},isSilent:()=>k,onConfirm:H=>{L(H)}});return Z=(I=e.current)===null||I===void 0?void 0:I.patchElement(j),Z&&Wu.push(Z),{destroy:()=>{function H(){var X;(X=D.current)===null||X===void 0||X.destroy()}D.current?H():a(X=>[].concat((0,xe.Z)(X),[H]))},update:H=>{function X(){var ne;(ne=D.current)===null||ne===void 0||ne.update(H)}D.current?X():a(ne=>[].concat((0,xe.Z)(ne),[X]))},then:H=>(k=!0,z.then(H))}},[]);return[s.useMemo(()=>({info:o(mm),success:o(ip),error:o(ff),warning:o(rp),confirm:o(uh)}),[]),s.createElement(hf,{key:"modal-holder",ref:e})]}var pf=ap,Ws=e=>{const{componentCls:t,notificationMarginEdge:a,animationMaxHeight:o}=e,f=`${t}-notice`,y=new he.E4("antNotificationFadeIn",{"0%":{transform:"translate3d(100%, 0, 0)",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",opacity:1}}),C=new he.E4("antNotificationTopFadeIn",{"0%":{top:-o,opacity:0},"100%":{top:0,opacity:1}}),w=new he.E4("antNotificationBottomFadeIn",{"0%":{bottom:e.calc(o).mul(-1).equal(),opacity:0},"100%":{bottom:0,opacity:1}}),I=new he.E4("antNotificationLeftFadeIn",{"0%":{transform:"translate3d(-100%, 0, 0)",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",opacity:1}});return{[t]:{[`&${t}-top, &${t}-bottom`]:{marginInline:0,[f]:{marginInline:"auto auto"}},[`&${t}-top`]:{[`${t}-fade-enter${t}-fade-enter-active, ${t}-fade-appear${t}-fade-appear-active`]:{animationName:C}},[`&${t}-bottom`]:{[`${t}-fade-enter${t}-fade-enter-active, ${t}-fade-appear${t}-fade-appear-active`]:{animationName:w}},[`&${t}-topRight, &${t}-bottomRight`]:{[`${t}-fade-enter${t}-fade-enter-active, ${t}-fade-appear${t}-fade-appear-active`]:{animationName:y}},[`&${t}-topLeft, &${t}-bottomLeft`]:{marginRight:{value:0,_skip_check_:!0},marginLeft:{value:a,_skip_check_:!0},[f]:{marginInlineEnd:"auto",marginInlineStart:0},[`${t}-fade-enter${t}-fade-enter-active, ${t}-fade-appear${t}-fade-appear-active`]:{animationName:I}}}}};const sp=["top","topLeft","topRight","bottom","bottomLeft","bottomRight"],dh={topLeft:"left",topRight:"right",bottomLeft:"left",bottomRight:"right",top:"left",bottom:"left"},lp=(e,t)=>{const{componentCls:a}=e;return{[`${a}-${t}`]:{[`&${a}-stack > ${a}-notice-wrapper`]:{[t.startsWith("top")?"top":"bottom"]:0,[dh[t]]:{value:0,_skip_check_:!0}}}}},ym=e=>{const t={};for(let a=1;a<e.notificationStackLayer;a++)t[`&:nth-last-child(${a+1})`]={overflow:"hidden",[`& > ${e.componentCls}-notice`]:{opacity:0,transition:`opacity ${e.motionDurationMid}`}};return Object.assign({[`&:not(:nth-last-child(-n+${e.notificationStackLayer}))`]:{opacity:0,overflow:"hidden",color:"transparent",pointerEvents:"none"}},t)},fh=e=>{const t={};for(let a=1;a<e.notificationStackLayer;a++)t[`&:nth-last-child(${a+1})`]={background:e.colorBgBlur,backdropFilter:"blur(10px)","-webkit-backdrop-filter":"blur(10px)"};return Object.assign({},t)};var mf=e=>{const{componentCls:t}=e;return Object.assign({[`${t}-stack`]:{[`& > ${t}-notice-wrapper`]:Object.assign({transition:`transform ${e.motionDurationSlow}, backdrop-filter 0s`,willChange:"transform, opacity",position:"absolute"},ym(e))},[`${t}-stack:not(${t}-stack-expanded)`]:{[`& > ${t}-notice-wrapper`]:Object.assign({},fh(e))},[`${t}-stack${t}-stack-expanded`]:{[`& > ${t}-notice-wrapper`]:{"&:not(:nth-last-child(-n + 1))":{opacity:1,overflow:"unset",color:"inherit",pointerEvents:"auto",[`& > ${e.componentCls}-notice`]:{opacity:1}},"&:after":{content:'""',position:"absolute",height:e.margin,width:"100%",insetInline:0,bottom:e.calc(e.margin).mul(-1).equal(),background:"transparent",pointerEvents:"auto"}}}},sp.map(a=>lp(e,a)).reduce((a,o)=>Object.assign(Object.assign({},a),o),{}))};const Fd=e=>{const{iconCls:t,componentCls:a,boxShadow:o,fontSizeLG:f,notificationMarginBottom:y,borderRadiusLG:C,colorSuccess:w,colorInfo:I,colorWarning:D,colorError:L,colorTextHeading:z,notificationBg:k,notificationPadding:Z,notificationMarginEdge:j,notificationProgressBg:G,notificationProgressHeight:H,fontSize:X,lineHeight:ne,width:oe,notificationIconSize:ae,colorText:ie}=e,le=`${a}-notice`;return{position:"relative",marginBottom:y,marginInlineStart:"auto",background:k,borderRadius:C,boxShadow:o,[le]:{padding:Z,width:oe,maxWidth:`calc(100vw - ${(0,he.bf)(e.calc(j).mul(2).equal())})`,overflow:"hidden",lineHeight:ne,wordWrap:"break-word"},[`${le}-message`]:{marginBottom:e.marginXS,color:z,fontSize:f,lineHeight:e.lineHeightLG},[`${le}-description`]:{fontSize:X,color:ie},[`${le}-closable ${le}-message`]:{paddingInlineEnd:e.paddingLG},[`${le}-with-icon ${le}-message`]:{marginBottom:e.marginXS,marginInlineStart:e.calc(e.marginSM).add(ae).equal(),fontSize:f},[`${le}-with-icon ${le}-description`]:{marginInlineStart:e.calc(e.marginSM).add(ae).equal(),fontSize:X},[`${le}-icon`]:{position:"absolute",fontSize:ae,lineHeight:1,[`&-success${t}`]:{color:w},[`&-info${t}`]:{color:I},[`&-warning${t}`]:{color:D},[`&-error${t}`]:{color:L}},[`${le}-close`]:Object.assign({position:"absolute",top:e.notificationPaddingVertical,insetInlineEnd:e.notificationPaddingHorizontal,color:e.colorIcon,outline:"none",width:e.notificationCloseButtonSize,height:e.notificationCloseButtonSize,borderRadius:e.borderRadiusSM,transition:`background-color ${e.motionDurationMid}, color ${e.motionDurationMid}`,display:"flex",alignItems:"center",justifyContent:"center","&:hover":{color:e.colorIconHover,backgroundColor:e.colorBgTextHover},"&:active":{backgroundColor:e.colorBgTextActive}},(0,Jt.Qy)(e)),[`${le}-progress`]:{position:"absolute",display:"block",appearance:"none",WebkitAppearance:"none",inlineSize:`calc(100% - ${(0,he.bf)(C)} * 2)`,left:{_skip_check_:!0,value:C},right:{_skip_check_:!0,value:C},bottom:0,blockSize:H,border:0,"&, &::-webkit-progress-bar":{borderRadius:C,backgroundColor:"rgba(0, 0, 0, 0.04)"},"&::-moz-progress-bar":{background:G},"&::-webkit-progress-value":{borderRadius:C,background:G}},[`${le}-actions`]:{float:"right",marginTop:e.marginSM}}},Mi=e=>{const{componentCls:t,notificationMarginBottom:a,notificationMarginEdge:o,motionDurationMid:f,motionEaseInOut:y}=e,C=`${t}-notice`,w=new he.E4("antNotificationFadeOut",{"0%":{maxHeight:e.animationMaxHeight,marginBottom:a},"100%":{maxHeight:0,marginBottom:0,paddingTop:0,paddingBottom:0,opacity:0}});return[{[t]:Object.assign(Object.assign({},(0,Jt.Wf)(e)),{position:"fixed",zIndex:e.zIndexPopup,marginRight:{value:o,_skip_check_:!0},[`${t}-hook-holder`]:{position:"relative"},[`${t}-fade-appear-prepare`]:{opacity:"0 !important"},[`${t}-fade-enter, ${t}-fade-appear`]:{animationDuration:e.motionDurationMid,animationTimingFunction:y,animationFillMode:"both",opacity:0,animationPlayState:"paused"},[`${t}-fade-leave`]:{animationTimingFunction:y,animationFillMode:"both",animationDuration:f,animationPlayState:"paused"},[`${t}-fade-enter${t}-fade-enter-active, ${t}-fade-appear${t}-fade-appear-active`]:{animationPlayState:"running"},[`${t}-fade-leave${t}-fade-leave-active`]:{animationName:w,animationPlayState:"running"},"&-rtl":{direction:"rtl",[`${C}-actions`]:{float:"left"}}})},{[t]:{[`${C}-wrapper`]:Object.assign({},Fd(e))}}]},so=e=>({zIndexPopup:e.zIndexPopupBase+qt.u6+50,width:384}),kd=e=>{const t=e.paddingMD,a=e.paddingLG;return(0,Qr.IX)(e,{notificationBg:e.colorBgElevated,notificationPaddingVertical:t,notificationPaddingHorizontal:a,notificationIconSize:e.calc(e.fontSizeLG).mul(e.lineHeightLG).equal(),notificationCloseButtonSize:e.calc(e.controlHeightLG).mul(.55).equal(),notificationMarginBottom:e.margin,notificationPadding:`${(0,he.bf)(e.paddingMD)} ${(0,he.bf)(e.paddingContentHorizontalLG)}`,notificationMarginEdge:e.marginLG,animationMaxHeight:150,notificationStackLayer:3,notificationProgressHeight:2,notificationProgressBg:`linear-gradient(90deg, ${e.colorPrimaryBorderHover}, ${e.colorPrimary})`})};var nl=(0,te.I$)("Notification",e=>{const t=kd(e);return[Mi(t),Ws(t),mf(t)]},so),er=(0,te.bk)(["Notification","PurePanel"],e=>{const t=`${e.componentCls}-notice`,a=kd(e);return{[`${t}-pure-panel`]:Object.assign(Object.assign({},Fd(a)),{width:a.width,maxWidth:`calc(100vw - ${(0,he.bf)(e.calc(a.notificationMarginEdge).mul(2).equal())})`,margin:0})}},so),Ug=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a};const _m={info:s.createElement(hn,null),success:s.createElement(kt.Z,null),error:s.createElement(Sr.Z,null),warning:s.createElement(Xn.Z,null),loading:s.createElement(Sn.Z,null)};function ph(e,t){return t===null||t===!1?null:t||s.createElement(cr.Z,{className:`${e}-close-icon`})}const Wg={success:kt.Z,info:hn,error:Sr.Z,warning:Xn.Z},bm=e=>{const{prefixCls:t,icon:a,type:o,message:f,description:y,actions:C,role:w="alert"}=e;let I=null;return a?I=s.createElement("span",{className:`${t}-icon`},a):o&&(I=s.createElement(Wg[o]||null,{className:q()(`${t}-icon`,`${t}-icon-${o}`)})),s.createElement("div",{className:q()({[`${t}-with-icon`]:I}),role:w},I,s.createElement("div",{className:`${t}-message`},f),s.createElement("div",{className:`${t}-description`},y),C&&s.createElement("div",{className:`${t}-actions`},C))};var gf=e=>{const{prefixCls:t,className:a,icon:o,type:f,message:y,description:C,btn:w,actions:I,closable:D=!0,closeIcon:L,className:z}=e,k=Ug(e,["prefixCls","className","icon","type","message","description","btn","actions","closable","closeIcon","className"]),{getPrefixCls:Z}=s.useContext(ye.E_),j=I!=null?I:w,G=t||Z("notification"),H=`${G}-notice`,X=(0,Un.Z)(G),[ne,oe,ae]=nl(G,X);return ne(s.createElement("div",{className:q()(`${H}-pure-panel`,oe,a,ae,X)},s.createElement(er,{prefixCls:G}),s.createElement(At,Object.assign({},k,{prefixCls:G,eventKey:"pure",duration:null,closable:D,className:q()({notificationClassName:z}),closeIcon:ph(G,L),content:s.createElement(bm,{prefixCls:H,icon:o,type:f,message:y,description:C,actions:j})}))))};function Mv(e,t,a){let o;switch(e){case"top":o={left:"50%",transform:"translateX(-50%)",right:"auto",top:t,bottom:"auto"};break;case"topLeft":o={left:0,top:t,bottom:"auto"};break;case"topRight":o={right:0,top:t,bottom:"auto"};break;case"bottom":o={left:"50%",transform:"translateX(-50%)",right:"auto",top:"auto",bottom:a};break;case"bottomLeft":o={left:0,top:"auto",bottom:a};break;default:o={right:0,top:"auto",bottom:a};break}return o}function Pv(e){return{motionName:`${e}-fade`}}function Gg(e,t,a){return typeof e!="undefined"?e:typeof(t==null?void 0:t.closeIcon)!="undefined"?t.closeIcon:a==null?void 0:a.closeIcon}var cp=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a};const Gu=24,xm=4.5,Cm="topRight",jd=e=>{let{children:t,prefixCls:a}=e;const o=(0,Un.Z)(a),[f,y,C]=nl(a,o);return f(s.createElement(Je,{classNames:{list:q()(y,C,o)}},t))},up=(e,t)=>{let{prefixCls:a,key:o}=t;return s.createElement(jd,{prefixCls:a,key:o},e)},Mu=s.forwardRef((e,t)=>{const{top:a,bottom:o,prefixCls:f,getContainer:y,maxCount:C,rtl:w,onAllRemoved:I,stack:D,duration:L,pauseOnHover:z=!0,showProgress:k}=e,{getPrefixCls:Z,getPopupContainer:j,notification:G,direction:H}=(0,s.useContext)(ye.E_),[,X]=(0,Qn.ZP)(),ne=f||Z("notification"),oe=me=>Mv(me,a!=null?a:Gu,o!=null?o:Gu),ae=()=>q()({[`${ne}-rtl`]:w!=null?w:H==="rtl"}),ie=()=>Pv(ne),[le,fe]=pt({prefixCls:ne,style:oe,className:ae,motion:ie,closable:!0,closeIcon:ph(ne),duration:L!=null?L:xm,getContainer:()=>(y==null?void 0:y())||(j==null?void 0:j())||document.body,maxCount:C,pauseOnHover:z,showProgress:k,onAllRemoved:I,renderNotifications:up,stack:D===!1?!1:{threshold:typeof D=="object"?D==null?void 0:D.threshold:void 0,offset:8,gap:X.margin}});return s.useImperativeHandle(t,()=>Object.assign(Object.assign({},le),{prefixCls:ne,notification:G})),fe});function Pu(e){const t=s.useRef(null),a=(0,uo.ln)("Notification");return[s.useMemo(()=>{const f=I=>{var D;if(!t.current)return;const{open:L,prefixCls:z,notification:k}=t.current,Z=`${z}-notice`,{message:j,description:G,icon:H,type:X,btn:ne,actions:oe,className:ae,style:ie,role:le="alert",closeIcon:fe,closable:me}=I,ge=cp(I,["message","description","icon","type","btn","actions","className","style","role","closeIcon","closable"]),be=oe!=null?oe:ne,Ie=ph(Z,Gg(fe,e,k));return L(Object.assign(Object.assign({placement:(D=e==null?void 0:e.placement)!==null&&D!==void 0?D:Cm},ge),{content:s.createElement(bm,{prefixCls:Z,icon:H,type:X,message:j,description:G,actions:be,role:le}),className:q()(X&&`${Z}-${X}`,ae,k==null?void 0:k.className),style:Object.assign(Object.assign({},k==null?void 0:k.style),ie),closeIcon:Ie,closable:me!=null?me:!!Ie}))},C={open:f,destroy:I=>{var D,L;I!==void 0?(D=t.current)===null||D===void 0||D.close(I):(L=t.current)===null||L===void 0||L.destroy()}};return["success","info","warning","error"].forEach(I=>{C[I]=D=>f(Object.assign(Object.assign({},D),{type:I}))}),C},[]),s.createElement(Mu,Object.assign({key:"notification-holder"},e,{ref:t}))]}function Sm(e){return Pu(e)}const zl=s.createContext({});var vf=s.createContext({message:{},notification:{},modal:{}});const Gs=e=>{const{componentCls:t,colorText:a,fontSize:o,lineHeight:f,fontFamily:y}=e;return{[t]:{color:a,fontSize:o,lineHeight:f,fontFamily:y,[`&${t}-rtl`]:{direction:"rtl"}}}},bs=()=>({});var Kg=(0,te.I$)("App",Gs,bs),yf=e=>{const{prefixCls:t,children:a,className:o,rootClassName:f,message:y,notification:C,style:w,component:I="div"}=e,{direction:D,getPrefixCls:L}=(0,s.useContext)(ye.E_),z=L("app",t),[k,Z,j]=Kg(z),G=q()(Z,z,o,f,j,{[`${z}-rtl`]:D==="rtl"}),H=(0,s.useContext)(zl),X=s.useMemo(()=>({message:Object.assign(Object.assign({},H.message),y),notification:Object.assign(Object.assign({},H.notification),C)}),[y,C,H.message,H.notification]),[ne,oe]=So(X.message),[ae,ie]=Sm(X.notification),[le,fe]=pf(),me=s.useMemo(()=>({message:ne,notification:ae,modal:le}),[ne,ae,le]);(0,uo.ln)("App")(!(j&&I===!1),"usage","When using cssVar, ensure `component` is assigned a valid React component string.");const ge=I===!1?s.Fragment:I,be={className:G,style:w};return k(s.createElement(vf.Provider,{value:me},s.createElement(zl.Provider,{value:X},s.createElement(ge,Object.assign({},I===!1?void 0:be),fe,oe,ie,a))))},dp=()=>s.useContext(vf);const _f=yf;_f.useApp=dp;var Ou=_f,vl=F(52445),gu=F(30142),Wl=F(81626);const{Option:fp}=gu.default;function hp(e){return(e==null?void 0:e.type)&&(e.type.isSelectOption||e.type.isSelectOptGroup)}const Zd=(e,t)=>{var a;const{prefixCls:o,className:f,popupClassName:y,dropdownClassName:C,children:w,dataSource:I}=e,D=(0,Wl.Z)(w);let L;D.length===1&&s.isValidElement(D[0])&&!hp(D[0])&&([L]=D);const z=L?()=>L:void 0;let k;D.length&&hp(D[0])?k=w:k=I?I.map(H=>{if(s.isValidElement(H))return H;switch(typeof H){case"string":return s.createElement(fp,{key:H,value:H},H);case"object":{const{value:X}=H;return s.createElement(fp,{key:X,value:X},H.text)}default:return}}):[];const{getPrefixCls:Z}=s.useContext(ye.E_),j=Z("select",o),[G]=(0,qt.Cn)("SelectLike",(a=e.dropdownStyle)===null||a===void 0?void 0:a.zIndex);return s.createElement(gu.default,Object.assign({ref:t,suffixIcon:null},(0,fr.Z)(e,["dataSource","dropdownClassName"]),{prefixCls:j,popupClassName:y||C,dropdownStyle:Object.assign(Object.assign({},e.dropdownStyle),{zIndex:G}),className:q()(`${j}-auto-complete`,f),mode:gu.default.SECRET_COMBOBOX_MODE_DO_NOT_USE,getInputElement:z}),k)};var Ku=s.forwardRef(Zd);const{Option:wm}=gu.default,pp=(0,vl.Z)(Ku,"dropdownAlign",e=>(0,fr.Z)(e,["visible"])),mh=Ku;mh.Option=wm,mh._InternalPanelDoNotUseOrYouWillBeFired=pp;var Em=mh,Nl=F(96777),Xu=F(19240),Vd=s.createContext({});const gd=e=>{const{antCls:t,componentCls:a,iconCls:o,avatarBg:f,avatarColor:y,containerSize:C,containerSizeLG:w,containerSizeSM:I,textFontSize:D,textFontSizeLG:L,textFontSizeSM:z,borderRadius:k,borderRadiusLG:Z,borderRadiusSM:j,lineWidth:G,lineType:H}=e,X=(ne,oe,ae)=>({width:ne,height:ne,borderRadius:"50%",[`&${a}-square`]:{borderRadius:ae},[`&${a}-icon`]:{fontSize:oe,[`> ${o}`]:{margin:0}}});return{[a]:Object.assign(Object.assign(Object.assign(Object.assign({},(0,Jt.Wf)(e)),{position:"relative",display:"inline-flex",justifyContent:"center",alignItems:"center",overflow:"hidden",color:y,whiteSpace:"nowrap",textAlign:"center",verticalAlign:"middle",background:f,border:`${(0,he.bf)(G)} ${H} transparent`,"&-image":{background:"transparent"},[`${t}-image-img`]:{display:"block"}}),X(C,D,k)),{"&-lg":Object.assign({},X(w,L,Z)),"&-sm":Object.assign({},X(I,z,j)),"> img":{display:"block",width:"100%",height:"100%",objectFit:"cover"}})}},mp=e=>{const{componentCls:t,groupBorderColor:a,groupOverlapping:o,groupSpace:f}=e;return{[`${t}-group`]:{display:"inline-flex",[t]:{borderColor:a},"> *:not(:first-child)":{marginInlineStart:o}},[`${t}-group-popover`]:{[`${t} + ${t}`]:{marginInlineStart:f}}}},Ru=e=>{const{controlHeight:t,controlHeightLG:a,controlHeightSM:o,fontSize:f,fontSizeLG:y,fontSizeXL:C,fontSizeHeading3:w,marginXS:I,marginXXS:D,colorBorderBg:L}=e;return{containerSize:t,containerSizeLG:a,containerSizeSM:o,textFontSize:Math.round((y+C)/2),textFontSizeLG:w,textFontSizeSM:f,groupSpace:D,groupOverlapping:-I,groupBorderColor:L}};var gh=(0,te.I$)("Avatar",e=>{const{colorTextLightSolid:t,colorTextPlaceholder:a}=e,o=(0,Qr.IX)(e,{avatarBg:a,avatarColor:t});return[gd(o),mp(o)]},Ru),bf=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a};const Im=(e,t)=>{const[a,o]=s.useState(1),[f,y]=s.useState(!1),[C,w]=s.useState(!0),I=s.useRef(null),D=s.useRef(null),L=(0,Yt.sQ)(t,I),{getPrefixCls:z,avatar:k}=s.useContext(ye.E_),Z=s.useContext(Vd),j=()=>{if(!D.current||!I.current)return;const Mt=D.current.offsetWidth,Cn=I.current.offsetWidth;if(Mt!==0&&Cn!==0){const{gap:Hn=4}=e;Hn*2<Cn&&o(Cn-Hn*2<Mt?(Cn-Hn*2)/Mt:1)}};s.useEffect(()=>{y(!0)},[]),s.useEffect(()=>{w(!0),o(1)},[e.src]),s.useEffect(j,[e.gap]);const G=()=>{const{onError:Mt}=e;(Mt==null?void 0:Mt())!==!1&&w(!1)},{prefixCls:H,shape:X,size:ne,src:oe,srcSet:ae,icon:ie,className:le,rootClassName:fe,alt:me,draggable:ge,children:be,crossOrigin:Ie}=e,Oe=bf(e,["prefixCls","shape","size","src","srcSet","icon","className","rootClassName","alt","draggable","children","crossOrigin"]),Te=(0,xr.Z)(Mt=>{var Cn,Hn;return(Hn=(Cn=ne!=null?ne:Z==null?void 0:Z.size)!==null&&Cn!==void 0?Cn:Mt)!==null&&Hn!==void 0?Hn:"default"}),Ve=Object.keys(typeof Te=="object"?Te||{}:{}).some(Mt=>["xs","sm","md","lg","xl","xxl"].includes(Mt)),De=(0,Xu.Z)(Ve),Ue=s.useMemo(()=>{if(typeof Te!="object")return{};const Mt=Nl.c4.find(Hn=>De[Hn]),Cn=Te[Mt];return Cn?{width:Cn,height:Cn,fontSize:Cn&&(ie||be)?Cn/2:18}:{}},[De,Te]),ke=z("avatar",H),st=(0,Un.Z)(ke),[ct,Et,It]=gh(ke,st),Ct=q()({[`${ke}-lg`]:Te==="large",[`${ke}-sm`]:Te==="small"}),mt=s.isValidElement(oe),bt=X||(Z==null?void 0:Z.shape)||"circle",zt=q()(ke,Ct,k==null?void 0:k.className,`${ke}-${bt}`,{[`${ke}-image`]:mt||oe&&C,[`${ke}-icon`]:!!ie},It,st,le,fe,Et),$t=typeof Te=="number"?{width:Te,height:Te,fontSize:ie?Te/2:18}:{};let Ht;if(typeof oe=="string"&&C)Ht=s.createElement("img",{src:oe,draggable:ge,srcSet:ae,onError:G,alt:me,crossOrigin:Ie});else if(mt)Ht=oe;else if(ie)Ht=ie;else if(f||a!==1){const Mt=`scale(${a})`,Cn={msTransform:Mt,WebkitTransform:Mt,transform:Mt};Ht=s.createElement(c.Z,{onResize:j},s.createElement("span",{className:`${ke}-string`,ref:D,style:Object.assign({},Cn)},be))}else Ht=s.createElement("span",{className:`${ke}-string`,style:{opacity:0},ref:D},be);return delete Oe.onError,delete Oe.gap,ct(s.createElement("span",Object.assign({},Oe,{style:Object.assign(Object.assign(Object.assign(Object.assign({},$t),Ue),k==null?void 0:k.style),Oe.style),className:zt,ref:L}),Ht))};var xf=s.forwardRef(Im),Hd=F(60916);const gp=e=>{const{size:t,shape:a}=s.useContext(Vd),o=s.useMemo(()=>({size:e.size||t,shape:e.shape||a}),[e.size,e.shape,t,a]);return s.createElement(Vd.Provider,{value:o},e.children)};var Jg=e=>{var t,a,o,f;const{getPrefixCls:y,direction:C}=s.useContext(ye.E_),{prefixCls:w,className:I,rootClassName:D,style:L,maxCount:z,maxStyle:k,size:Z,shape:j,maxPopoverPlacement:G,maxPopoverTrigger:H,children:X,max:ne}=e,oe=y("avatar",w),ae=`${oe}-group`,ie=(0,Un.Z)(oe),[le,fe,me]=gh(oe,ie),ge=q()(ae,{[`${ae}-rtl`]:C==="rtl"},me,ie,I,D,fe),be=(0,Wl.Z)(X).map((Te,Ve)=>(0,bn.Tm)(Te,{key:`avatar-key-${Ve}`})),Ie=(ne==null?void 0:ne.count)||z,Oe=be.length;if(Ie&&Ie<Oe){const Te=be.slice(0,Ie),Ve=be.slice(Ie,Oe),De=(ne==null?void 0:ne.style)||k,Ue=((t=ne==null?void 0:ne.popover)===null||t===void 0?void 0:t.trigger)||H||"hover",ke=((a=ne==null?void 0:ne.popover)===null||a===void 0?void 0:a.placement)||G||"top",st=Object.assign(Object.assign({content:Ve},ne==null?void 0:ne.popover),{classNames:{root:q()(`${ae}-popover`,(f=(o=ne==null?void 0:ne.popover)===null||o===void 0?void 0:o.classNames)===null||f===void 0?void 0:f.root)},placement:ke,trigger:Ue});return Te.push(s.createElement(Hd.Z,Object.assign({key:"avatar-popover-key",destroyTooltipOnHide:!0},st),s.createElement(xf,{style:De},`+${Oe-Ie}`))),le(s.createElement(gp,{shape:j,size:Z},s.createElement("div",{className:ge,style:L},Te)))}return le(s.createElement(gp,{shape:j,size:Z},s.createElement("div",{className:ge,style:L},be)))};const vp=xf;vp.Group=Jg;var vh=vp,Qg={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M859.9 168H164.1c-4.5 0-8.1 3.6-8.1 8v60c0 4.4 3.6 8 8.1 8h695.8c4.5 0 8.1-3.6 8.1-8v-60c0-4.4-3.6-8-8.1-8zM518.3 355a8 8 0 00-12.6 0l-112 141.7a7.98 7.98 0 006.3 12.9h73.9V848c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V509.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 355z"}}]},name:"vertical-align-top",theme:"outlined"},e0=Qg,t0=function(t,a){return s.createElement(Kt.Z,(0,We.Z)({},t,{ref:a,icon:e0}))},n0=s.forwardRef(t0),Mm=n0;const yh=e=>{const{componentCls:t,backTopFontSize:a,backTopSize:o,zIndexPopup:f}=e;return{[t]:Object.assign(Object.assign({},(0,Jt.Wf)(e)),{position:"fixed",insetInlineEnd:e.backTopInlineEnd,insetBlockEnd:e.backTopBlockEnd,zIndex:f,width:40,height:40,cursor:"pointer","&:empty":{display:"none"},[`${t}-content`]:{width:o,height:o,overflow:"hidden",color:e.backTopColor,textAlign:"center",backgroundColor:e.backTopBackground,borderRadius:o,transition:`all ${e.motionDurationMid}`,"&:hover":{backgroundColor:e.backTopHoverBackground,transition:`all ${e.motionDurationMid}`}},[`${t}-icon`]:{fontSize:a,lineHeight:(0,he.bf)(o)}})}},_h=e=>{const{componentCls:t,screenMD:a,screenXS:o,backTopInlineEndMD:f,backTopInlineEndXS:y}=e;return{[`@media (max-width: ${(0,he.bf)(a)})`]:{[t]:{insetInlineEnd:f}},[`@media (max-width: ${(0,he.bf)(o)})`]:{[t]:{insetInlineEnd:y}}}},Hc=e=>({zIndexPopup:e.zIndexBase+10});var bh=(0,te.I$)("BackTop",e=>{const{fontSizeHeading3:t,colorTextDescription:a,colorTextLightSolid:o,colorText:f,controlHeightLG:y,calc:C}=e,w=(0,Qr.IX)(e,{backTopBackground:a,backTopColor:o,backTopHoverBackground:f,backTopFontSize:t,backTopSize:y,backTopBlockEnd:C(y).mul(1.25).equal(),backTopInlineEnd:C(y).mul(2.5).equal(),backTopInlineEndMD:C(y).mul(1.5).equal(),backTopInlineEndXS:C(y).mul(.5).equal()});return[yh(w),_h(w)]},Hc),Rv=e=>{const{prefixCls:t,className:a,rootClassName:o,visibilityHeight:f=400,target:y,onClick:C,duration:w=450}=e,[I,D]=s.useState(f===0),L=s.useRef(null),z=()=>{var me;return((me=L.current)===null||me===void 0?void 0:me.ownerDocument)||window},k=Pe(me=>{const ge=rr(me.target);D(ge>=f)});s.useEffect(()=>{const ge=(y||z)();return k({target:ge}),ge==null||ge.addEventListener("scroll",k),()=>{k.cancel(),ge==null||ge.removeEventListener("scroll",k)}},[y]);const Z=me=>{ei(0,{getContainer:y||z,duration:w}),C==null||C(me)},{getPrefixCls:j,direction:G}=s.useContext(ye.E_),H=j("back-top",t),X=j(),[ne,oe,ae]=bh(H),ie=q()(oe,ae,H,{[`${H}-rtl`]:G==="rtl"},a,o),le=(0,fr.Z)(e,["prefixCls","className","rootClassName","children","visibilityHeight","target"]),fe=s.createElement("div",{className:`${H}-content`},s.createElement("div",{className:`${H}-icon`},s.createElement(Mm,null)));return ne(s.createElement("div",Object.assign({},le,{className:ie,onClick:Z,ref:L}),s.createElement(On.ZP,{visible:I,motionName:`${X}-fade`},me=>{let{className:ge}=me;return(0,bn.Tm)(e.children||fe,be=>{let{className:Ie}=be;return{className:q()(ge,Ie)}})})))},yp=F(53835),cl=F(75428);const _p=new he.E4("antStatusProcessing",{"0%":{transform:"scale(0.8)",opacity:.5},"100%":{transform:"scale(2.4)",opacity:0}}),$v=new he.E4("antZoomBadgeIn",{"0%":{transform:"scale(0) translate(50%, -50%)",opacity:0},"100%":{transform:"scale(1) translate(50%, -50%)"}}),Pm=new he.E4("antZoomBadgeOut",{"0%":{transform:"scale(1) translate(50%, -50%)"},"100%":{transform:"scale(0) translate(50%, -50%)",opacity:0}}),xh=new he.E4("antNoWrapperZoomBadgeIn",{"0%":{transform:"scale(0)",opacity:0},"100%":{transform:"scale(1)"}}),r0=new he.E4("antNoWrapperZoomBadgeOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0)",opacity:0}}),Ch=new he.E4("antBadgeLoadingCircle",{"0%":{transformOrigin:"50%"},"100%":{transform:"translate(50%, -50%) rotate(360deg)",transformOrigin:"50%"}}),bp=e=>{const{componentCls:t,iconCls:a,antCls:o,badgeShadowSize:f,textFontSize:y,textFontSizeSM:C,statusSize:w,dotSize:I,textFontWeight:D,indicatorHeight:L,indicatorHeightSM:z,marginXS:k,calc:Z}=e,j=`${o}-scroll-number`,G=(0,cl.Z)(e,(H,X)=>{let{darkColor:ne}=X;return{[`&${t} ${t}-color-${H}`]:{background:ne,[`&:not(${t}-count)`]:{color:ne},"a:hover &":{background:ne}}}});return{[t]:Object.assign(Object.assign(Object.assign(Object.assign({},(0,Jt.Wf)(e)),{position:"relative",display:"inline-block",width:"fit-content",lineHeight:1,[`${t}-count`]:{display:"inline-flex",justifyContent:"center",zIndex:e.indicatorZIndex,minWidth:L,height:L,color:e.badgeTextColor,fontWeight:D,fontSize:y,lineHeight:(0,he.bf)(L),whiteSpace:"nowrap",textAlign:"center",background:e.badgeColor,borderRadius:Z(L).div(2).equal(),boxShadow:`0 0 0 ${(0,he.bf)(f)} ${e.badgeShadowColor}`,transition:`background ${e.motionDurationMid}`,a:{color:e.badgeTextColor},"a:hover":{color:e.badgeTextColor},"a:hover &":{background:e.badgeColorHover}},[`${t}-count-sm`]:{minWidth:z,height:z,fontSize:C,lineHeight:(0,he.bf)(z),borderRadius:Z(z).div(2).equal()},[`${t}-multiple-words`]:{padding:`0 ${(0,he.bf)(e.paddingXS)}`,bdi:{unicodeBidi:"plaintext"}},[`${t}-dot`]:{zIndex:e.indicatorZIndex,width:I,minWidth:I,height:I,background:e.badgeColor,borderRadius:"100%",boxShadow:`0 0 0 ${(0,he.bf)(f)} ${e.badgeShadowColor}`},[`${t}-count, ${t}-dot, ${j}-custom-component`]:{position:"absolute",top:0,insetInlineEnd:0,transform:"translate(50%, -50%)",transformOrigin:"100% 0%",[`&${a}-spin`]:{animationName:Ch,animationDuration:"1s",animationIterationCount:"infinite",animationTimingFunction:"linear"}},[`&${t}-status`]:{lineHeight:"inherit",verticalAlign:"baseline",[`${t}-status-dot`]:{position:"relative",top:-1,display:"inline-block",width:w,height:w,verticalAlign:"middle",borderRadius:"50%"},[`${t}-status-success`]:{backgroundColor:e.colorSuccess},[`${t}-status-processing`]:{overflow:"visible",color:e.colorInfo,backgroundColor:e.colorInfo,borderColor:"currentcolor","&::after":{position:"absolute",top:0,insetInlineStart:0,width:"100%",height:"100%",borderWidth:f,borderStyle:"solid",borderColor:"inherit",borderRadius:"50%",animationName:_p,animationDuration:e.badgeProcessingDuration,animationIterationCount:"infinite",animationTimingFunction:"ease-in-out",content:'""'}},[`${t}-status-default`]:{backgroundColor:e.colorTextPlaceholder},[`${t}-status-error`]:{backgroundColor:e.colorError},[`${t}-status-warning`]:{backgroundColor:e.colorWarning},[`${t}-status-text`]:{marginInlineStart:k,color:e.colorText,fontSize:e.fontSize}}}),G),{[`${t}-zoom-appear, ${t}-zoom-enter`]:{animationName:$v,animationDuration:e.motionDurationSlow,animationTimingFunction:e.motionEaseOutBack,animationFillMode:"both"},[`${t}-zoom-leave`]:{animationName:Pm,animationDuration:e.motionDurationSlow,animationTimingFunction:e.motionEaseOutBack,animationFillMode:"both"},[`&${t}-not-a-wrapper`]:{[`${t}-zoom-appear, ${t}-zoom-enter`]:{animationName:xh,animationDuration:e.motionDurationSlow,animationTimingFunction:e.motionEaseOutBack},[`${t}-zoom-leave`]:{animationName:r0,animationDuration:e.motionDurationSlow,animationTimingFunction:e.motionEaseOutBack},[`&:not(${t}-status)`]:{verticalAlign:"middle"},[`${j}-custom-component, ${t}-count`]:{transform:"none"},[`${j}-custom-component, ${j}`]:{position:"relative",top:"auto",display:"block",transformOrigin:"50% 50%"}},[j]:{overflow:"hidden",transition:`all ${e.motionDurationMid} ${e.motionEaseOutBack}`,[`${j}-only`]:{position:"relative",display:"inline-block",height:L,transition:`all ${e.motionDurationSlow} ${e.motionEaseOutBack}`,WebkitTransformStyle:"preserve-3d",WebkitBackfaceVisibility:"hidden",[`> p${j}-only-unit`]:{height:L,margin:0,WebkitTransformStyle:"preserve-3d",WebkitBackfaceVisibility:"hidden"}},[`${j}-symbol`]:{verticalAlign:"top"}},"&-rtl":{direction:"rtl",[`${t}-count, ${t}-dot, ${j}-custom-component`]:{transform:"translate(-50%, -50%)"}}})}},vu=e=>{const{fontHeight:t,lineWidth:a,marginXS:o,colorBorderBg:f}=e,y=t,C=a,w=e.colorTextLightSolid,I=e.colorError,D=e.colorErrorHover;return(0,Qr.IX)(e,{badgeFontHeight:y,badgeShadowSize:C,badgeTextColor:w,badgeColor:I,badgeColorHover:D,badgeShadowColor:f,badgeProcessingDuration:"1.2s",badgeRibbonOffset:o,badgeRibbonCornerTransform:"scaleY(0.75)",badgeRibbonCornerFilter:"brightness(75%)"})},Cf=e=>{const{fontSize:t,lineHeight:a,fontSizeSM:o,lineWidth:f}=e;return{indicatorZIndex:"auto",indicatorHeight:Math.round(t*a)-2*f,indicatorHeightSM:t,dotSize:o/2,textFontSize:o,textFontSizeSM:o,textFontWeight:"normal",statusSize:o/2}};var Cl=(0,te.I$)("Badge",e=>{const t=vu(e);return bp(t)},Cf);const su=e=>{const{antCls:t,badgeFontHeight:a,marginXS:o,badgeRibbonOffset:f,calc:y}=e,C=`${t}-ribbon`,w=`${t}-ribbon-wrapper`,I=(0,cl.Z)(e,(D,L)=>{let{darkColor:z}=L;return{[`&${C}-color-${D}`]:{background:z,color:z}}});return{[w]:{position:"relative"},[C]:Object.assign(Object.assign(Object.assign(Object.assign({},(0,Jt.Wf)(e)),{position:"absolute",top:o,padding:`0 ${(0,he.bf)(e.paddingXS)}`,color:e.colorPrimary,lineHeight:(0,he.bf)(a),whiteSpace:"nowrap",backgroundColor:e.colorPrimary,borderRadius:e.borderRadiusSM,[`${C}-text`]:{color:e.badgeTextColor},[`${C}-corner`]:{position:"absolute",top:"100%",width:f,height:f,color:"currentcolor",border:`${(0,he.bf)(y(f).div(2).equal())} solid`,transform:e.badgeRibbonCornerTransform,transformOrigin:"top",filter:e.badgeRibbonCornerFilter}}),I),{[`&${C}-placement-end`]:{insetInlineEnd:y(f).mul(-1).equal(),borderEndEndRadius:0,[`${C}-corner`]:{insetInlineEnd:0,borderInlineEndColor:"transparent",borderBlockEndColor:"transparent"}},[`&${C}-placement-start`]:{insetInlineStart:y(f).mul(-1).equal(),borderEndStartRadius:0,[`${C}-corner`]:{insetInlineStart:0,borderBlockEndColor:"transparent",borderInlineStartColor:"transparent"}},"&-rtl":{direction:"rtl"}})}};var Sf=(0,te.I$)(["Badge","Ribbon"],e=>{const t=vu(e);return su(t)},Cf),i0=e=>{const{className:t,prefixCls:a,style:o,color:f,children:y,text:C,placement:w="end",rootClassName:I}=e,{getPrefixCls:D,direction:L}=s.useContext(ye.E_),z=D("ribbon",a),k=`${z}-wrapper`,[Z,j,G]=Sf(z,k),H=(0,yp.o2)(f,!1),X=q()(z,`${z}-placement-${w}`,{[`${z}-rtl`]:L==="rtl",[`${z}-color-${f}`]:H},t),ne={},oe={};return f&&!H&&(ne.background=f,oe.color=f),Z(s.createElement("div",{className:q()(k,I,j,G)},y,s.createElement("div",{className:q()(X,j),style:Object.assign(Object.assign({},ne),o)},s.createElement("span",{className:`${z}-text`},C),s.createElement("div",{className:`${z}-corner`,style:oe}))))};const Om=e=>{const{prefixCls:t,value:a,current:o,offset:f=0}=e;let y;return f&&(y={position:"absolute",top:`${f}00%`,left:0}),s.createElement("span",{style:y,className:q()(`${t}-only-unit`,{current:o})},a)};function Sh(e,t,a){let o=e,f=0;for(;(o+10)%10!==t;)o+=a,f+=a;return f}var Av=e=>{const{prefixCls:t,count:a,value:o}=e,f=Number(o),y=Math.abs(a),[C,w]=s.useState(f),[I,D]=s.useState(y),L=()=>{w(f),D(y)};s.useEffect(()=>{const Z=setTimeout(L,1e3);return()=>clearTimeout(Z)},[f]);let z,k;if(C===f||Number.isNaN(f)||Number.isNaN(C))z=[s.createElement(Om,Object.assign({},e,{key:f,current:!0}))],k={transition:"none"};else{z=[];const Z=f+10,j=[];for(let ne=f;ne<=Z;ne+=1)j.push(ne);const G=I<y?1:-1,H=j.findIndex(ne=>ne%10===C);z=(G<0?j.slice(0,H+1):j.slice(H)).map((ne,oe)=>{const ae=ne%10;return s.createElement(Om,Object.assign({},e,{key:ne,value:ae,offset:G<0?oe-H:oe,current:oe===H}))}),k={transform:`translateY(${-Sh(C,f,G)}00%)`}}return s.createElement("span",{className:`${t}-only`,style:k,onTransitionEnd:L},z)},Rm=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a},Ud=s.forwardRef((e,t)=>{const{prefixCls:a,count:o,className:f,motionClassName:y,style:C,title:w,show:I,component:D="sup",children:L}=e,z=Rm(e,["prefixCls","count","className","motionClassName","style","title","show","component","children"]),{getPrefixCls:k}=s.useContext(ye.E_),Z=k("scroll-number",a),j=Object.assign(Object.assign({},z),{"data-show":I,style:C,className:q()(Z,f,y),title:w});let G=o;if(o&&Number(o)%1===0){const H=String(o).split("");G=s.createElement("bdi",null,H.map((X,ne)=>s.createElement(Av,{prefixCls:Z,count:Number(o),value:X,key:H.length-ne})))}return C!=null&&C.borderColor&&(j.style=Object.assign(Object.assign({},C),{boxShadow:`0 0 0 1px ${C.borderColor} inset`})),L?(0,bn.Tm)(L,H=>({className:q()(`${Z}-custom-component`,H==null?void 0:H.className,y)})):s.createElement(D,Object.assign({},j,{ref:t}),G)}),Wd=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a};const lu=s.forwardRef((e,t)=>{var a,o,f,y,C;const{prefixCls:w,scrollNumberPrefixCls:I,children:D,status:L,text:z,color:k,count:Z=null,overflowCount:j=99,dot:G=!1,size:H="default",title:X,offset:ne,style:oe,className:ae,rootClassName:ie,classNames:le,styles:fe,showZero:me=!1}=e,ge=Wd(e,["prefixCls","scrollNumberPrefixCls","children","status","text","color","count","overflowCount","dot","size","title","offset","style","className","rootClassName","classNames","styles","showZero"]),{getPrefixCls:be,direction:Ie,badge:Oe}=s.useContext(ye.E_),Te=be("badge",w),[Ve,De,Ue]=Cl(Te),ke=Z>j?`${j}+`:Z,st=ke==="0"||ke===0,ct=Z===null||st&&!me,Et=(L!=null||k!=null)&&ct,It=G&&!st,Ct=It?"":ke,mt=(0,s.useMemo)(()=>(Ct==null||Ct===""||st&&!me)&&!It,[Ct,st,me,It]),bt=(0,s.useRef)(Z);mt||(bt.current=Z);const zt=bt.current,$t=(0,s.useRef)(Ct);mt||($t.current=Ct);const Ht=$t.current,Mt=(0,s.useRef)(It);mt||(Mt.current=It);const Cn=(0,s.useMemo)(()=>{if(!ne)return Object.assign(Object.assign({},Oe==null?void 0:Oe.style),oe);const Dr={marginTop:ne[1]};return Ie==="rtl"?Dr.left=parseInt(ne[0],10):Dr.right=-parseInt(ne[0],10),Object.assign(Object.assign(Object.assign({},Dr),Oe==null?void 0:Oe.style),oe)},[Ie,ne,oe,Oe==null?void 0:Oe.style]),Hn=X!=null?X:typeof zt=="string"||typeof zt=="number"?zt:void 0,pn=mt||!z?null:s.createElement("span",{className:`${Te}-status-text`},z),Dn=!zt||typeof zt!="object"?void 0:(0,bn.Tm)(zt,Dr=>({style:Object.assign(Object.assign({},Cn),Dr.style)})),Qt=(0,yp.o2)(k,!1),Ft=q()(le==null?void 0:le.indicator,(a=Oe==null?void 0:Oe.classNames)===null||a===void 0?void 0:a.indicator,{[`${Te}-status-dot`]:Et,[`${Te}-status-${L}`]:!!L,[`${Te}-color-${k}`]:Qt}),kn={};k&&!Qt&&(kn.color=k,kn.background=k);const Pn=q()(Te,{[`${Te}-status`]:Et,[`${Te}-not-a-wrapper`]:!D,[`${Te}-rtl`]:Ie==="rtl"},ae,ie,Oe==null?void 0:Oe.className,(o=Oe==null?void 0:Oe.classNames)===null||o===void 0?void 0:o.root,le==null?void 0:le.root,De,Ue);if(!D&&Et){const Dr=Cn.color;return Ve(s.createElement("span",Object.assign({},ge,{className:Pn,style:Object.assign(Object.assign(Object.assign({},fe==null?void 0:fe.root),(f=Oe==null?void 0:Oe.styles)===null||f===void 0?void 0:f.root),Cn)}),s.createElement("span",{className:Ft,style:Object.assign(Object.assign(Object.assign({},fe==null?void 0:fe.indicator),(y=Oe==null?void 0:Oe.styles)===null||y===void 0?void 0:y.indicator),kn)}),z&&s.createElement("span",{style:{color:Dr},className:`${Te}-status-text`},z)))}return Ve(s.createElement("span",Object.assign({ref:t},ge,{className:Pn,style:Object.assign(Object.assign({},(C=Oe==null?void 0:Oe.styles)===null||C===void 0?void 0:C.root),fe==null?void 0:fe.root)}),D,s.createElement(On.ZP,{visible:!mt,motionName:`${Te}-zoom`,motionAppear:!1,motionDeadline:1e3},Dr=>{let{className:br}=Dr;var or,ar;const Fn=be("scroll-number",I),sr=Mt.current,Gr=q()(le==null?void 0:le.indicator,(or=Oe==null?void 0:Oe.classNames)===null||or===void 0?void 0:or.indicator,{[`${Te}-dot`]:sr,[`${Te}-count`]:!sr,[`${Te}-count-sm`]:H==="small",[`${Te}-multiple-words`]:!sr&&Ht&&Ht.toString().length>1,[`${Te}-status-${L}`]:!!L,[`${Te}-color-${k}`]:Qt});let yi=Object.assign(Object.assign(Object.assign({},fe==null?void 0:fe.indicator),(ar=Oe==null?void 0:Oe.styles)===null||ar===void 0?void 0:ar.indicator),Cn);return k&&!Qt&&(yi=yi||{},yi.background=k),s.createElement(Ud,{prefixCls:Fn,show:!mt,motionClassName:br,className:Gr,count:Ht,title:Hn,style:yi,key:"scrollNumber"},Dn)}),pn))});lu.Ribbon=i0;var Yu=lu,$u=F(13143),yd={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M724 218.3V141c0-6.7-7.7-10.4-12.9-6.3L260.3 486.8a31.86 31.86 0 000 50.3l450.8 352.1c5.3 4.1 12.9.4 12.9-6.3v-77.3c0-4.9-2.3-9.6-6.1-12.6l-360-281 360-281.1c3.8-3 6.1-7.7 6.1-12.6z"}}]},name:"left",theme:"outlined"},Dv=yd,Lv=function(t,a){return s.createElement(Kt.Z,(0,We.Z)({},t,{ref:a,icon:Dv}))},zv=s.forwardRef(Lv),Qc=zv,yu=F(27806),uc=F(83190),wf=nt.Z.ESC,s0=nt.Z.TAB;function l0(e){var t=e.visible,a=e.triggerRef,o=e.onVisibleChange,f=e.autoFocus,y=e.overlayRef,C=s.useRef(!1),w=function(){if(t){var z,k;(z=a.current)===null||z===void 0||(k=z.focus)===null||k===void 0||k.call(z),o==null||o(!1)}},I=function(){var z;return(z=y.current)!==null&&z!==void 0&&z.focus?(y.current.focus(),C.current=!0,!0):!1},D=function(z){switch(z.keyCode){case wf:w();break;case s0:{var k=!1;C.current||(k=I()),k?z.preventDefault():w();break}}};s.useEffect(function(){return t?(window.addEventListener("keydown",D),f&&(0,Ge.Z)(I,3),function(){window.removeEventListener("keydown",D),C.current=!1}):function(){C.current=!1}},[t])}var Ef=(0,s.forwardRef)(function(e,t){var a=e.overlay,o=e.arrow,f=e.prefixCls,y=(0,s.useMemo)(function(){var w;return typeof a=="function"?w=a():w=a,w},[a]),C=(0,Yt.sQ)(t,(0,Yt.C4)(y));return s.createElement(s.Fragment,null,o&&s.createElement("div",{className:"".concat(f,"-arrow")}),s.cloneElement(y,{ref:(0,Yt.Yr)(y)?C:void 0}))}),Cp=Ef,xc={adjustX:1,adjustY:1},Cc=[0,0],If={topLeft:{points:["bl","tl"],overflow:xc,offset:[0,-4],targetOffset:Cc},top:{points:["bc","tc"],overflow:xc,offset:[0,-4],targetOffset:Cc},topRight:{points:["br","tr"],overflow:xc,offset:[0,-4],targetOffset:Cc},bottomLeft:{points:["tl","bl"],overflow:xc,offset:[0,4],targetOffset:Cc},bottom:{points:["tc","bc"],overflow:xc,offset:[0,4],targetOffset:Cc},bottomRight:{points:["tr","br"],overflow:xc,offset:[0,4],targetOffset:Cc}},Gd=If,Kd=["arrow","prefixCls","transitionName","animation","align","placement","placements","getPopupContainer","showAction","hideAction","overlayClassName","overlayStyle","visible","trigger","autoFocus","overlay","children","onVisibleChange"];function $m(e,t){var a,o=e.arrow,f=o===void 0?!1:o,y=e.prefixCls,C=y===void 0?"rc-dropdown":y,w=e.transitionName,I=e.animation,D=e.align,L=e.placement,z=L===void 0?"bottomLeft":L,k=e.placements,Z=k===void 0?Gd:k,j=e.getPopupContainer,G=e.showAction,H=e.hideAction,X=e.overlayClassName,ne=e.overlayStyle,oe=e.visible,ae=e.trigger,ie=ae===void 0?["hover"]:ae,le=e.autoFocus,fe=e.overlay,me=e.children,ge=e.onVisibleChange,be=(0,de.Z)(e,Kd),Ie=s.useState(),Oe=(0,Re.Z)(Ie,2),Te=Oe[0],Ve=Oe[1],De="visible"in e?oe:Te,Ue=s.useRef(null),ke=s.useRef(null),st=s.useRef(null);s.useImperativeHandle(t,function(){return Ue.current});var ct=function(Mt){Ve(Mt),ge==null||ge(Mt)};l0({visible:De,triggerRef:st,onVisibleChange:ct,autoFocus:le,overlayRef:ke});var Et=function(Mt){var Cn=e.onOverlayClick;Ve(!1),Cn&&Cn(Mt)},It=function(){return s.createElement(Cp,{ref:ke,overlay:fe,prefixCls:C,arrow:f})},Ct=function(){return typeof fe=="function"?It:It()},mt=function(){var Mt=e.minOverlayWidthMatchTrigger,Cn=e.alignPoint;return"minOverlayWidthMatchTrigger"in e?Mt:!Cn},bt=function(){var Mt=e.openClassName;return Mt!==void 0?Mt:"".concat(C,"-open")},zt=s.cloneElement(me,{className:q()((a=me.props)===null||a===void 0?void 0:a.className,De&&bt()),ref:(0,Yt.Yr)(me)?(0,Yt.sQ)(st,(0,Yt.C4)(me)):void 0}),$t=H;return!$t&&ie.indexOf("contextMenu")!==-1&&($t=["click"]),s.createElement(uc.Z,(0,We.Z)({builtinPlacements:Z},be,{prefixCls:C,ref:Ue,popupClassName:q()(X,(0,pe.Z)({},"".concat(C,"-show-arrow"),f)),popupStyle:ne,action:ie,showAction:G,hideAction:$t,popupPlacement:z,popupAlign:D,popupTransitionName:w,popupAnimation:I,popupVisible:De,stretch:mt()?"minWidth":"",popup:Ct(),onPopupVisibleChange:ct,onPopupClick:Et,getPopupContainer:j}),zt)}var ps=s.forwardRef($m),qu=ps,Fs=F(93954),Sp=e=>typeof e!="object"&&typeof e!="function"||e===null,_u=F(5416),Dc=F(50009),Ol=F(47996),Bc=s.createContext(null);function dc(e,t){return e===void 0?null:"".concat(e,"-").concat(t)}function Am(e){var t=s.useContext(Bc);return dc(t,e)}var rl=F(54596),Dm=["children","locked"],Lc=s.createContext(null);function p(e,t){var a=(0,Y.Z)({},e);return Object.keys(t).forEach(function(o){var f=t[o];f!==void 0&&(a[o]=f)}),a}function r(e){var t=e.children,a=e.locked,o=(0,de.Z)(e,Dm),f=s.useContext(Lc),y=(0,rl.Z)(function(){return p(f,o)},[f,o],function(C,w){return!a&&(C[0]!==w[0]||!(0,Ol.Z)(C[1],w[1],!0))});return s.createElement(Lc.Provider,{value:y},t)}var l=[],m=s.createContext(null);function _(){return s.useContext(m)}var x=s.createContext(l);function E(e){var t=s.useContext(x);return s.useMemo(function(){return e!==void 0?[].concat((0,xe.Z)(t),[e]):t},[t,e])}var R=s.createContext(null),B=s.createContext({}),V=B,U=F(59422),Q=nt.Z.LEFT,ee=nt.Z.RIGHT,ce=nt.Z.UP,Me=nt.Z.DOWN,Se=nt.Z.ENTER,Le=nt.Z.ESC,Ae=nt.Z.HOME,rt=nt.Z.END,St=[ce,Me,Q,ee];function _t(e,t,a,o){var f,y="prev",C="next",w="children",I="parent";if(e==="inline"&&o===Se)return{inlineTrigger:!0};var D=(0,pe.Z)((0,pe.Z)({},ce,y),Me,C),L=(0,pe.Z)((0,pe.Z)((0,pe.Z)((0,pe.Z)({},Q,a?C:y),ee,a?y:C),Me,w),Se,w),z=(0,pe.Z)((0,pe.Z)((0,pe.Z)((0,pe.Z)((0,pe.Z)((0,pe.Z)({},ce,y),Me,C),Se,w),Le,I),Q,a?w:I),ee,a?I:w),k={inline:D,horizontal:L,vertical:z,inlineSub:D,horizontalSub:z,verticalSub:z},Z=(f=k["".concat(e).concat(t?"":"Sub")])===null||f===void 0?void 0:f[o];switch(Z){case y:return{offset:-1,sibling:!0};case C:return{offset:1,sibling:!0};case I:return{offset:-1,sibling:!1};case w:return{offset:1,sibling:!1};default:return null}}function Vt(e){for(var t=e;t;){if(t.getAttribute("data-menu-list"))return t;t=t.parentElement}return null}function Lt(e,t){for(var a=e||document.activeElement;a;){if(t.has(a))return a;a=a.parentElement}return null}function Bt(e,t){var a=(0,U.tS)(e,!0);return a.filter(function(o){return t.has(o)})}function Dt(e,t,a){var o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1;if(!e)return null;var f=Bt(e,t),y=f.length,C=f.findIndex(function(w){return a===w});return o<0?C===-1?C=y-1:C-=1:o>0&&(C+=1),C=(C+y)%y,f[C]}var rn=function(t,a){var o=new Set,f=new Map,y=new Map;return t.forEach(function(C){var w=document.querySelector("[data-menu-id='".concat(dc(a,C),"']"));w&&(o.add(w),y.set(w,C),f.set(C,w))}),{elements:o,key2element:f,element2key:y}};function xn(e,t,a,o,f,y,C,w,I,D){var L=s.useRef(),z=s.useRef();z.current=t;var k=function(){Ge.Z.cancel(L.current)};return s.useEffect(function(){return function(){k()}},[]),function(Z){var j=Z.which;if([].concat(St,[Se,Le,Ae,rt]).includes(j)){var G=y(),H=rn(G,o),X=H,ne=X.elements,oe=X.key2element,ae=X.element2key,ie=oe.get(t),le=Lt(ie,ne),fe=ae.get(le),me=_t(e,C(fe,!0).length===1,a,j);if(!me&&j!==Ae&&j!==rt)return;(St.includes(j)||[Ae,rt].includes(j))&&Z.preventDefault();var ge=function(ke){if(ke){var st=ke,ct=ke.querySelector("a");ct!=null&&ct.getAttribute("href")&&(st=ct);var Et=ae.get(ke);w(Et),k(),L.current=(0,Ge.Z)(function(){z.current===Et&&st.focus()})}};if([Ae,rt].includes(j)||me.sibling||!le){var be;!le||e==="inline"?be=f.current:be=Vt(le);var Ie,Oe=Bt(be,ne);j===Ae?Ie=Oe[0]:j===rt?Ie=Oe[Oe.length-1]:Ie=Dt(be,ne,le,me.offset),ge(Ie)}else if(me.inlineTrigger)I(fe);else if(me.offset>0)I(fe,!0),k(),L.current=(0,Ge.Z)(function(){H=rn(G,o);var Ue=le.getAttribute("aria-controls"),ke=document.getElementById(Ue),st=Dt(ke,H.elements);ge(st)},5);else if(me.offset<0){var Te=C(fe,!0),Ve=Te[Te.length-2],De=oe.get(Ve);I(Ve,!1),ge(De)}}D==null||D(Z)}}function dr(e){Promise.resolve().then(e)}var Jn="__RC_UTIL_PATH_SPLIT__",Br=function(t){return t.join(Jn)},Ar=function(t){return t.split(Jn)},Zn="rc-menu-more";function vr(){var e=s.useState({}),t=(0,Re.Z)(e,2),a=t[1],o=(0,s.useRef)(new Map),f=(0,s.useRef)(new Map),y=s.useState([]),C=(0,Re.Z)(y,2),w=C[0],I=C[1],D=(0,s.useRef)(0),L=(0,s.useRef)(!1),z=function(){L.current||a({})},k=(0,s.useCallback)(function(oe,ae){var ie=Br(ae);f.current.set(ie,oe),o.current.set(oe,ie),D.current+=1;var le=D.current;dr(function(){le===D.current&&z()})},[]),Z=(0,s.useCallback)(function(oe,ae){var ie=Br(ae);f.current.delete(ie),o.current.delete(oe)},[]),j=(0,s.useCallback)(function(oe){I(oe)},[]),G=(0,s.useCallback)(function(oe,ae){var ie=o.current.get(oe)||"",le=Ar(ie);return ae&&w.includes(le[0])&&le.unshift(Zn),le},[w]),H=(0,s.useCallback)(function(oe,ae){return oe.filter(function(ie){return ie!==void 0}).some(function(ie){var le=G(ie,!0);return le.includes(ae)})},[G]),X=function(){var ae=(0,xe.Z)(o.current.keys());return w.length&&ae.push(Zn),ae},ne=(0,s.useCallback)(function(oe){var ae="".concat(o.current.get(oe)).concat(Jn),ie=new Set;return(0,xe.Z)(f.current.keys()).forEach(function(le){le.startsWith(ae)&&ie.add(f.current.get(le))}),ie},[]);return s.useEffect(function(){return function(){L.current=!0}},[]),{registerPath:k,unregisterPath:Z,refreshOverflowKeys:j,isSubPathKey:H,getKeyPath:G,getKeys:X,getSubPathKeys:ne}}function oi(e){var t=s.useRef(e);t.current=e;var a=s.useCallback(function(){for(var o,f=arguments.length,y=new Array(f),C=0;C<f;C++)y[C]=arguments[C];return(o=t.current)===null||o===void 0?void 0:o.call.apply(o,[t].concat(y))},[]);return e?a:void 0}var jn=Math.random().toFixed(5).toString().slice(2),Vr=0;function _r(e){var t=(0,Fs.Z)(e,{value:e}),a=(0,Re.Z)(t,2),o=a[0],f=a[1];return s.useEffect(function(){Vr+=1;var y="".concat(jn,"-").concat(Vr);f("rc-menu-uuid-".concat(y))},[]),o}var $i=F(56216);function ti(e,t,a,o){var f=s.useContext(Lc),y=f.activeKey,C=f.onActive,w=f.onInactive,I={active:y===e};return t||(I.onMouseEnter=function(D){a==null||a({key:e,domEvent:D}),C(e)},I.onMouseLeave=function(D){o==null||o({key:e,domEvent:D}),w(e)}),I}function jr(e){var t=s.useContext(Lc),a=t.mode,o=t.rtl,f=t.inlineIndent;if(a!=="inline")return null;var y=e;return o?{paddingRight:y*f}:{paddingLeft:y*f}}function Ci(e){var t=e.icon,a=e.props,o=e.children,f;return t===null||t===!1?null:(typeof t=="function"?f=s.createElement(t,(0,Y.Z)({},a)):typeof t!="boolean"&&(f=t),f||o||null)}var Li=["item"];function ro(e){var t=e.item,a=(0,de.Z)(e,Li);return Object.defineProperty(a,"item",{get:function(){return(0,lc.ZP)(!1,"`info.item` is deprecated since we will move to function component that not provides React Node instance in future."),t}}),a}var vo=["title","attribute","elementRef"],la=["style","className","eventKey","warnKey","disabled","itemIcon","children","role","onMouseEnter","onMouseLeave","onClick","onKeyDown","onFocus"],Wo=["active"],Ko=function(e){(0,fi.Z)(a,e);var t=(0,$i.Z)(a);function a(){return(0,Bn.Z)(this,a),t.apply(this,arguments)}return(0,fn.Z)(a,[{key:"render",value:function(){var f=this.props,y=f.title,C=f.attribute,w=f.elementRef,I=(0,de.Z)(f,vo),D=(0,fr.Z)(I,["eventKey","popupClassName","popupOffset","onTitleClick"]);return(0,lc.ZP)(!C,"`attribute` of Menu.Item is deprecated. Please pass attribute directly."),s.createElement(Dc.Z.Item,(0,We.Z)({},C,{title:typeof y=="string"?y:void 0},D,{ref:w}))}}]),a}(s.Component),ya=s.forwardRef(function(e,t){var a=e.style,o=e.className,f=e.eventKey,y=e.warnKey,C=e.disabled,w=e.itemIcon,I=e.children,D=e.role,L=e.onMouseEnter,z=e.onMouseLeave,k=e.onClick,Z=e.onKeyDown,j=e.onFocus,G=(0,de.Z)(e,la),H=Am(f),X=s.useContext(Lc),ne=X.prefixCls,oe=X.onItemClick,ae=X.disabled,ie=X.overflowDisabled,le=X.itemIcon,fe=X.selectedKeys,me=X.onActive,ge=s.useContext(V),be=ge._internalRenderMenuItem,Ie="".concat(ne,"-item"),Oe=s.useRef(),Te=s.useRef(),Ve=ae||C,De=(0,Yt.x1)(t,Te),Ue=E(f),ke=function(Hn){return{key:f,keyPath:(0,xe.Z)(Ue).reverse(),item:Oe.current,domEvent:Hn}},st=w||le,ct=ti(f,Ve,L,z),Et=ct.active,It=(0,de.Z)(ct,Wo),Ct=fe.includes(f),mt=jr(Ue.length),bt=function(Hn){if(!Ve){var pn=ke(Hn);k==null||k(ro(pn)),oe(pn)}},zt=function(Hn){if(Z==null||Z(Hn),Hn.which===nt.Z.ENTER){var pn=ke(Hn);k==null||k(ro(pn)),oe(pn)}},$t=function(Hn){me(f),j==null||j(Hn)},Ht={};e.role==="option"&&(Ht["aria-selected"]=Ct);var Mt=s.createElement(Ko,(0,We.Z)({ref:Oe,elementRef:De,role:D===null?"none":D||"menuitem",tabIndex:C?null:-1,"data-menu-id":ie&&H?null:H},(0,fr.Z)(G,["extra"]),It,Ht,{component:"li","aria-disabled":C,style:(0,Y.Z)((0,Y.Z)({},mt),a),className:q()(Ie,(0,pe.Z)((0,pe.Z)((0,pe.Z)({},"".concat(Ie,"-active"),Et),"".concat(Ie,"-selected"),Ct),"".concat(Ie,"-disabled"),Ve),o),onClick:bt,onKeyDown:zt,onFocus:$t}),I,s.createElement(Ci,{props:(0,Y.Z)((0,Y.Z)({},e),{},{isSelected:Ct}),icon:st}));return be&&(Mt=be(Mt,e,{selected:Ct})),Mt});function as(e,t){var a=e.eventKey,o=_(),f=E(a);return s.useEffect(function(){if(o)return o.registerPath(a,f),function(){o.unregisterPath(a,f)}},[f]),o?null:s.createElement(ya,(0,We.Z)({},e,{ref:t}))}var ms=s.forwardRef(as),ul=["className","children"],Ks=function(t,a){var o=t.className,f=t.children,y=(0,de.Z)(t,ul),C=s.useContext(Lc),w=C.prefixCls,I=C.mode,D=C.rtl;return s.createElement("ul",(0,We.Z)({className:q()(w,D&&"".concat(w,"-rtl"),"".concat(w,"-sub"),"".concat(w,"-").concat(I==="inline"?"inline":"vertical"),o),role:"menu"},y,{"data-menu-list":!0,ref:a}),f)},Pa=s.forwardRef(Ks);Pa.displayName="SubMenuList";var us=Pa;function Do(e,t){return(0,Wl.Z)(e).map(function(a,o){if(s.isValidElement(a)){var f,y,C=a.key,w=(f=(y=a.props)===null||y===void 0?void 0:y.eventKey)!==null&&f!==void 0?f:C,I=w==null;I&&(w="tmp_key-".concat([].concat((0,xe.Z)(t),[o]).join("-")));var D={key:w,eventKey:w};return s.cloneElement(a,D)}return a})}var xa={adjustX:1,adjustY:1},ys={topLeft:{points:["bl","tl"],overflow:xa},topRight:{points:["br","tr"],overflow:xa},bottomLeft:{points:["tl","bl"],overflow:xa},bottomRight:{points:["tr","br"],overflow:xa},leftTop:{points:["tr","tl"],overflow:xa},leftBottom:{points:["br","bl"],overflow:xa},rightTop:{points:["tl","tr"],overflow:xa},rightBottom:{points:["bl","br"],overflow:xa}},xs={topLeft:{points:["bl","tl"],overflow:xa},topRight:{points:["br","tr"],overflow:xa},bottomLeft:{points:["tl","bl"],overflow:xa},bottomRight:{points:["tr","br"],overflow:xa},rightTop:{points:["tr","tl"],overflow:xa},rightBottom:{points:["br","bl"],overflow:xa},leftTop:{points:["tl","tr"],overflow:xa},leftBottom:{points:["bl","br"],overflow:xa}},dl=null;function Gl(e,t,a){if(t)return t;if(a)return a[e]||a.other}var Bl={horizontal:"bottomLeft",vertical:"rightTop","vertical-left":"rightTop","vertical-right":"leftTop"};function Fl(e){var t=e.prefixCls,a=e.visible,o=e.children,f=e.popup,y=e.popupStyle,C=e.popupClassName,w=e.popupOffset,I=e.disabled,D=e.mode,L=e.onVisibleChange,z=s.useContext(Lc),k=z.getPopupContainer,Z=z.rtl,j=z.subMenuOpenDelay,G=z.subMenuCloseDelay,H=z.builtinPlacements,X=z.triggerSubMenuAction,ne=z.forceSubMenuRender,oe=z.rootClassName,ae=z.motion,ie=z.defaultMotions,le=s.useState(!1),fe=(0,Re.Z)(le,2),me=fe[0],ge=fe[1],be=Z?(0,Y.Z)((0,Y.Z)({},xs),H):(0,Y.Z)((0,Y.Z)({},ys),H),Ie=Bl[D],Oe=Gl(D,ae,ie),Te=s.useRef(Oe);D!=="inline"&&(Te.current=Oe);var Ve=(0,Y.Z)((0,Y.Z)({},Te.current),{},{leavedClassName:"".concat(t,"-hidden"),removeOnLeave:!1,motionAppear:!0}),De=s.useRef();return s.useEffect(function(){return De.current=(0,Ge.Z)(function(){ge(a)}),function(){Ge.Z.cancel(De.current)}},[a]),s.createElement(uc.Z,{prefixCls:t,popupClassName:q()("".concat(t,"-popup"),(0,pe.Z)({},"".concat(t,"-rtl"),Z),C,oe),stretch:D==="horizontal"?"minWidth":null,getPopupContainer:k,builtinPlacements:be,popupPlacement:Ie,popupVisible:me,popup:f,popupStyle:y,popupAlign:w&&{offset:w},action:I?[]:[X],mouseEnterDelay:j,mouseLeaveDelay:G,onPopupVisibleChange:L,forceRender:ne,popupMotion:Ve,fresh:!0},o)}function eu(e){var t=e.id,a=e.open,o=e.keyPath,f=e.children,y="inline",C=s.useContext(Lc),w=C.prefixCls,I=C.forceSubMenuRender,D=C.motion,L=C.defaultMotions,z=C.mode,k=s.useRef(!1);k.current=z===y;var Z=s.useState(!k.current),j=(0,Re.Z)(Z,2),G=j[0],H=j[1],X=k.current?a:!1;s.useEffect(function(){k.current&&H(!1)},[z]);var ne=(0,Y.Z)({},Gl(y,D,L));o.length>1&&(ne.motionAppear=!1);var oe=ne.onVisibleChanged;return ne.onVisibleChanged=function(ae){return!k.current&&!ae&&H(!0),oe==null?void 0:oe(ae)},G?null:s.createElement(r,{mode:y,locked:!k.current},s.createElement(On.ZP,(0,We.Z)({visible:X},ne,{forceRender:I,removeOnLeave:!1,leavedClassName:"".concat(w,"-hidden")}),function(ae){var ie=ae.className,le=ae.style;return s.createElement(us,{id:t,className:ie,style:le},f)}))}var Ic=["style","className","title","eventKey","warnKey","disabled","internalPopupClose","children","itemIcon","expandIcon","popupClassName","popupOffset","popupStyle","onClick","onMouseEnter","onMouseLeave","onTitleClick","onTitleMouseEnter","onTitleMouseLeave"],al=["active"],ks=s.forwardRef(function(e,t){var a=e.style,o=e.className,f=e.title,y=e.eventKey,C=e.warnKey,w=e.disabled,I=e.internalPopupClose,D=e.children,L=e.itemIcon,z=e.expandIcon,k=e.popupClassName,Z=e.popupOffset,j=e.popupStyle,G=e.onClick,H=e.onMouseEnter,X=e.onMouseLeave,ne=e.onTitleClick,oe=e.onTitleMouseEnter,ae=e.onTitleMouseLeave,ie=(0,de.Z)(e,Ic),le=Am(y),fe=s.useContext(Lc),me=fe.prefixCls,ge=fe.mode,be=fe.openKeys,Ie=fe.disabled,Oe=fe.overflowDisabled,Te=fe.activeKey,Ve=fe.selectedKeys,De=fe.itemIcon,Ue=fe.expandIcon,ke=fe.onItemClick,st=fe.onOpenChange,ct=fe.onActive,Et=s.useContext(V),It=Et._internalRenderSubMenuItem,Ct=s.useContext(R),mt=Ct.isSubPathKey,bt=E(),zt="".concat(me,"-submenu"),$t=Ie||w,Ht=s.useRef(),Mt=s.useRef(),Cn=L!=null?L:De,Hn=z!=null?z:Ue,pn=be.includes(y),Dn=!Oe&&pn,Qt=mt(Ve,y),Ft=ti(y,$t,oe,ae),kn=Ft.active,Pn=(0,de.Z)(Ft,al),Dr=s.useState(!1),br=(0,Re.Z)(Dr,2),or=br[0],ar=br[1],Fn=function(qn){$t||ar(qn)},sr=function(qn){Fn(!0),H==null||H({key:y,domEvent:qn})},Gr=function(qn){Fn(!1),X==null||X({key:y,domEvent:qn})},yi=s.useMemo(function(){return kn||(ge!=="inline"?or||mt([Te],y):!1)},[ge,kn,Te,or,y,mt]),Di=jr(bt.length),Ui=function(qn){$t||(ne==null||ne({key:y,domEvent:qn}),ge==="inline"&&st(y,!pn))},$o=oi(function(Tr){G==null||G(ro(Tr)),ke(Tr)}),Ri=function(qn){ge!=="inline"&&st(y,qn)},mi=function(){ct(y)},Pi=le&&"".concat(le,"-popup"),ao=s.useMemo(function(){return s.createElement(Ci,{icon:ge!=="horizontal"?Hn:void 0,props:(0,Y.Z)((0,Y.Z)({},e),{},{isOpen:Dn,isSubMenu:!0})},s.createElement("i",{className:"".concat(zt,"-arrow")}))},[ge,Hn,e,Dn,zt]),ki=s.createElement("div",(0,We.Z)({role:"menuitem",style:Di,className:"".concat(zt,"-title"),tabIndex:$t?null:-1,ref:Ht,title:typeof f=="string"?f:null,"data-menu-id":Oe&&le?null:le,"aria-expanded":Dn,"aria-haspopup":!0,"aria-controls":Pi,"aria-disabled":$t,onClick:Ui,onFocus:mi},Pn),f,ao),Ao=s.useRef(ge);if(ge!=="inline"&&bt.length>1?Ao.current="vertical":Ao.current=ge,!Oe){var Cr=Ao.current;ki=s.createElement(Fl,{mode:Cr,prefixCls:zt,visible:!I&&Dn&&ge!=="inline",popupClassName:k,popupOffset:Z,popupStyle:j,popup:s.createElement(r,{mode:Cr==="horizontal"?"vertical":Cr},s.createElement(us,{id:Pi,ref:Mt},D)),disabled:$t,onVisibleChange:Ri},ki)}var ur=s.createElement(Dc.Z.Item,(0,We.Z)({ref:t,role:"none"},ie,{component:"li",style:a,className:q()(zt,"".concat(zt,"-").concat(ge),o,(0,pe.Z)((0,pe.Z)((0,pe.Z)((0,pe.Z)({},"".concat(zt,"-open"),Dn),"".concat(zt,"-active"),yi),"".concat(zt,"-selected"),Qt),"".concat(zt,"-disabled"),$t)),onMouseEnter:sr,onMouseLeave:Gr}),ki,!Oe&&s.createElement(eu,{id:Pi,open:Dn,keyPath:bt},D));return It&&(ur=It(ur,e,{selected:Qt,active:yi,open:Dn,disabled:$t})),s.createElement(r,{onItemClick:$o,mode:ge==="horizontal"?"vertical":ge,itemIcon:Cn,expandIcon:Hn},ur)}),Rs=s.forwardRef(function(e,t){var a=e.eventKey,o=e.children,f=E(a),y=Do(o,f),C=_();s.useEffect(function(){if(C)return C.registerPath(a,f),function(){C.unregisterPath(a,f)}},[f]);var w;return C?w=y:w=s.createElement(ks,(0,We.Z)({ref:t},e),y),s.createElement(x.Provider,{value:f},w)}),rs=Rs;function fl(e){var t=e.className,a=e.style,o=s.useContext(Lc),f=o.prefixCls,y=_();return y?null:s.createElement("li",{role:"separator",className:q()("".concat(f,"-item-divider"),t),style:a})}var nc=["className","title","eventKey","children"],Ns=s.forwardRef(function(e,t){var a=e.className,o=e.title,f=e.eventKey,y=e.children,C=(0,de.Z)(e,nc),w=s.useContext(Lc),I=w.prefixCls,D="".concat(I,"-item-group");return s.createElement("li",(0,We.Z)({ref:t,role:"presentation"},C,{onClick:function(z){return z.stopPropagation()},className:q()(D,a)}),s.createElement("div",{role:"presentation",className:"".concat(D,"-title"),title:typeof o=="string"?o:void 0},o),s.createElement("ul",{role:"group",className:"".concat(D,"-list")},y))}),Tc=s.forwardRef(function(e,t){var a=e.eventKey,o=e.children,f=E(a),y=Do(o,f),C=_();return C?y:s.createElement(Ns,(0,We.Z)({ref:t},(0,fr.Z)(e,["warnKey"])),y)}),Uc=Tc,Wc=["label","children","key","type","extra"];function Mc(e,t,a){var o=t.item,f=t.group,y=t.submenu,C=t.divider;return(e||[]).map(function(w,I){if(w&&(0,et.Z)(w)==="object"){var D=w,L=D.label,z=D.children,k=D.key,Z=D.type,j=D.extra,G=(0,de.Z)(D,Wc),H=k!=null?k:"tmp-".concat(I);return z||Z==="group"?Z==="group"?s.createElement(f,(0,We.Z)({key:H},G,{title:L}),Mc(z,t,a)):s.createElement(y,(0,We.Z)({key:H},G,{title:L}),Mc(z,t,a)):Z==="divider"?s.createElement(C,(0,We.Z)({key:H},G)):s.createElement(o,(0,We.Z)({key:H},G,{extra:j}),L,(!!j||j===0)&&s.createElement("span",{className:"".concat(a,"-item-extra")},j))}return null}).filter(function(w){return w})}function bu(e,t,a,o,f){var y=e,C=(0,Y.Z)({divider:fl,item:ms,group:Uc,submenu:rs},o);return t&&(y=Mc(t,C,f)),Do(y,a)}var cu=["prefixCls","rootClassName","style","className","tabIndex","items","children","direction","id","mode","inlineCollapsed","disabled","disabledOverflow","subMenuOpenDelay","subMenuCloseDelay","forceSubMenuRender","defaultOpenKeys","openKeys","activeKey","defaultActiveFirst","selectable","multiple","defaultSelectedKeys","selectedKeys","onSelect","onDeselect","inlineIndent","motion","defaultMotions","triggerSubMenuAction","builtinPlacements","itemIcon","expandIcon","overflowedIndicator","overflowedIndicatorPopupClassName","getPopupContainer","onClick","onOpenChange","onKeyDown","openAnimation","openTransitionName","_internalRenderMenuItem","_internalRenderSubMenuItem","_internalComponents"],pc=[],Xd=s.forwardRef(function(e,t){var a,o=e,f=o.prefixCls,y=f===void 0?"rc-menu":f,C=o.rootClassName,w=o.style,I=o.className,D=o.tabIndex,L=D===void 0?0:D,z=o.items,k=o.children,Z=o.direction,j=o.id,G=o.mode,H=G===void 0?"vertical":G,X=o.inlineCollapsed,ne=o.disabled,oe=o.disabledOverflow,ae=o.subMenuOpenDelay,ie=ae===void 0?.1:ae,le=o.subMenuCloseDelay,fe=le===void 0?.1:le,me=o.forceSubMenuRender,ge=o.defaultOpenKeys,be=o.openKeys,Ie=o.activeKey,Oe=o.defaultActiveFirst,Te=o.selectable,Ve=Te===void 0?!0:Te,De=o.multiple,Ue=De===void 0?!1:De,ke=o.defaultSelectedKeys,st=o.selectedKeys,ct=o.onSelect,Et=o.onDeselect,It=o.inlineIndent,Ct=It===void 0?24:It,mt=o.motion,bt=o.defaultMotions,zt=o.triggerSubMenuAction,$t=zt===void 0?"hover":zt,Ht=o.builtinPlacements,Mt=o.itemIcon,Cn=o.expandIcon,Hn=o.overflowedIndicator,pn=Hn===void 0?"...":Hn,Dn=o.overflowedIndicatorPopupClassName,Qt=o.getPopupContainer,Ft=o.onClick,kn=o.onOpenChange,Pn=o.onKeyDown,Dr=o.openAnimation,br=o.openTransitionName,or=o._internalRenderMenuItem,ar=o._internalRenderSubMenuItem,Fn=o._internalComponents,sr=(0,de.Z)(o,cu),Gr=s.useMemo(function(){return[bu(k,z,pc,Fn,y),bu(k,z,pc,{},y)]},[k,z,Fn]),yi=(0,Re.Z)(Gr,2),Di=yi[0],Ui=yi[1],$o=s.useState(!1),Ri=(0,Re.Z)($o,2),mi=Ri[0],Pi=Ri[1],ao=s.useRef(),ki=_r(j),Ao=Z==="rtl",Cr=(0,Fs.Z)(ge,{value:be,postState:function(Qs){return Qs||pc}}),ur=(0,Re.Z)(Cr,2),Tr=ur[0],qn=ur[1],pi=function(Qs){var Ia=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;function Va(){qn(Qs),kn==null||kn(Qs)}Ia?(0,Ze.flushSync)(Va):Va()},ji=s.useState(Tr),go=(0,Re.Z)(ji,2),ra=go[0],Aa=go[1],oa=s.useRef(!1),Cs=s.useMemo(function(){return(H==="inline"||H==="vertical")&&X?["vertical",X]:[H,!1]},[H,X]),Za=(0,Re.Z)(Cs,2),Ga=Za[0],va=Za[1],ts=Ga==="inline",As=s.useState(Ga),Ro=(0,Re.Z)(As,2),ta=Ro[0],$a=Ro[1],Ka=s.useState(va),ss=(0,Re.Z)(Ka,2),ll=ss[0],Rl=ss[1];s.useEffect(function(){$a(Ga),Rl(va),oa.current&&(ts?qn(ra):pi(pc))},[Ga,va]);var yl=s.useState(0),Xl=(0,Re.Z)(yl,2),ga=Xl[0],qo=Xl[1],Jo=ga>=Di.length-1||ta!=="horizontal"||oe;s.useEffect(function(){ts&&Aa(Tr)},[Tr]),s.useEffect(function(){return oa.current=!0,function(){oa.current=!1}},[]);var Vo=vr(),ls=Vo.registerPath,Ds=Vo.unregisterPath,ka=Vo.refreshOverflowKeys,Ca=Vo.isSubPathKey,gs=Vo.getKeyPath,vs=Vo.getKeys,Ys=Vo.getSubPathKeys,_a=s.useMemo(function(){return{registerPath:ls,unregisterPath:Ds}},[ls,Ds]),Ho=s.useMemo(function(){return{isSubPathKey:Ca}},[Ca]);s.useEffect(function(){ka(Jo?pc:Di.slice(ga+1).map(function(Tl){return Tl.key}))},[ga,Jo]);var Da=(0,Fs.Z)(Ie||Oe&&((a=Di[0])===null||a===void 0?void 0:a.key),{value:Ie}),ds=(0,Re.Z)(Da,2),Bs=ds[0],qs=ds[1],rc=oi(function(Tl){qs(Tl)}),Js=oi(function(){qs(void 0)});(0,s.useImperativeHandle)(t,function(){return{list:ao.current,focus:function(Qs){var Ia,Va=vs(),ml=rn(Va,ki),kc=ml.elements,rf=ml.key2element,Fg=ml.element2key,kg=Bt(ao.current,kc),Ev=Bs!=null?Bs:kg[0]?Fg.get(kg[0]):(Ia=Di.find(function(Na){return!Na.props.disabled}))===null||Ia===void 0?void 0:Ia.key,ws=rf.get(Ev);if(Ev&&ws){var fa;ws==null||(fa=ws.focus)===null||fa===void 0||fa.call(ws,Qs)}}}});var La=(0,Fs.Z)(ke||[],{value:st,postState:function(Qs){return Array.isArray(Qs)?Qs:Qs==null?pc:[Qs]}}),cs=(0,Re.Z)(La,2),Ss=cs[0],$l=cs[1],Fu=function(Qs){if(Ve){var Ia=Qs.key,Va=Ss.includes(Ia),ml;Ue?Va?ml=Ss.filter(function(rf){return rf!==Ia}):ml=[].concat((0,xe.Z)(Ss),[Ia]):ml=[Ia],$l(ml);var kc=(0,Y.Z)((0,Y.Z)({},Qs),{},{selectedKeys:ml});Va?Et==null||Et(kc):ct==null||ct(kc)}!Ue&&Tr.length&&ta!=="inline"&&pi(pc)},Kh=oi(function(Tl){Ft==null||Ft(ro(Tl)),Fu(Tl)}),im=oi(function(Tl,Qs){var Ia=Tr.filter(function(ml){return ml!==Tl});if(Qs)Ia.push(Tl);else if(ta!=="inline"){var Va=Ys(Tl);Ia=Ia.filter(function(ml){return!Va.has(ml)})}(0,Ol.Z)(Tr,Ia,!0)||pi(Ia,!0)}),om=function(Qs,Ia){var Va=Ia!=null?Ia:!Tr.includes(Qs);im(Qs,Va)},Kf=xn(ta,Bs,Ao,ki,ao,vs,gs,qs,om,Pn);s.useEffect(function(){Pi(!0)},[]);var Xh=s.useMemo(function(){return{_internalRenderMenuItem:or,_internalRenderSubMenuItem:ar}},[or,ar]),Yh=ta!=="horizontal"||oe?Di:Di.map(function(Tl,Qs){return s.createElement(r,{key:Tl.key,overflowDisabled:Qs>ga},Tl)}),am=s.createElement(Dc.Z,(0,We.Z)({id:j,ref:ao,prefixCls:"".concat(y,"-overflow"),component:"ul",itemComponent:ms,className:q()(y,"".concat(y,"-root"),"".concat(y,"-").concat(ta),I,(0,pe.Z)((0,pe.Z)({},"".concat(y,"-inline-collapsed"),ll),"".concat(y,"-rtl"),Ao),C),dir:Z,style:w,role:"menu",tabIndex:L,data:Yh,renderRawItem:function(Qs){return Qs},renderRawRest:function(Qs){var Ia=Qs.length,Va=Ia?Di.slice(-Ia):null;return s.createElement(rs,{eventKey:Zn,title:pn,disabled:Jo,internalPopupClose:Ia===0,popupClassName:Dn},Va)},maxCount:ta!=="horizontal"||oe?Dc.Z.INVALIDATE:Dc.Z.RESPONSIVE,ssr:"full","data-menu-list":!0,onVisibleChange:function(Qs){qo(Qs)},onKeyDown:Kf},sr));return s.createElement(V.Provider,{value:Xh},s.createElement(Bc.Provider,{value:ki},s.createElement(r,{prefixCls:y,rootClassName:C,mode:ta,openKeys:Tr,rtl:Ao,disabled:ne,motion:mi?mt:null,defaultMotions:mi?bt:null,activeKey:Bs,onActive:rc,onInactive:Js,selectedKeys:Ss,inlineIndent:Ct,subMenuOpenDelay:ie,subMenuCloseDelay:fe,forceSubMenuRender:me,builtinPlacements:Ht,triggerSubMenuAction:$t,getPopupContainer:Qt,itemIcon:Mt,expandIcon:Cn,onItemClick:Kh,onOpenChange:im},s.createElement(R.Provider,{value:Ho},am),s.createElement("div",{style:{display:"none"},"aria-hidden":!0},s.createElement(m.Provider,{value:_a},Ui)))))}),Au=Xd,xu=Au;xu.Item=ms,xu.SubMenu=rs,xu.ItemGroup=Uc,xu.Divider=fl;var _d=xu,wp={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 192H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM104 228a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"bars",theme:"outlined"},Lm=wp,U_=function(t,a){return s.createElement(Kt.Z,(0,We.Z)({},t,{ref:a,icon:Lm}))},sC=s.forwardRef(U_),lC=sC;const Nv=s.createContext({siderHook:{addSider:()=>null,removeSider:()=>null}}),W_=e=>{const{antCls:t,componentCls:a,colorText:o,footerBg:f,headerHeight:y,headerPadding:C,headerColor:w,footerPadding:I,fontSize:D,bodyBg:L,headerBg:z}=e;return{[a]:{display:"flex",flex:"auto",flexDirection:"column",minHeight:0,background:L,"&, *":{boxSizing:"border-box"},[`&${a}-has-sider`]:{flexDirection:"row",[`> ${a}, > ${a}-content`]:{width:0}},[`${a}-header, &${a}-footer`]:{flex:"0 0 auto"},"&-rtl":{direction:"rtl"}},[`${a}-header`]:{height:y,padding:C,color:w,lineHeight:(0,he.bf)(y),background:z,[`${t}-menu`]:{lineHeight:"inherit"}},[`${a}-footer`]:{padding:I,color:o,fontSize:D,background:f},[`${a}-content`]:{flex:"auto",color:o,minHeight:0}}},Bv=e=>{const{colorBgLayout:t,controlHeight:a,controlHeightLG:o,colorText:f,controlHeightSM:y,marginXXS:C,colorTextLightSolid:w,colorBgContainer:I}=e,D=o*1.25;return{colorBgHeader:"#001529",colorBgBody:t,colorBgTrigger:"#002140",bodyBg:t,headerBg:"#001529",headerHeight:a*2,headerPadding:`0 ${D}px`,headerColor:f,footerPadding:`${y}px ${D}px`,footerBg:t,siderBg:"#001529",triggerHeight:o+C*2,triggerBg:"#002140",triggerColor:w,zeroTriggerWidth:o,zeroTriggerHeight:o,lightSiderBg:I,lightTriggerBg:I,lightTriggerColor:f}},Fv=[["colorBgBody","bodyBg"],["colorBgHeader","headerBg"],["colorBgTrigger","triggerBg"]];var kv=(0,te.I$)("Layout",e=>[W_(e)],Bv,{deprecatedTokens:Fv});const G_=e=>{const{componentCls:t,siderBg:a,motionDurationMid:o,motionDurationSlow:f,antCls:y,triggerHeight:C,triggerColor:w,triggerBg:I,headerHeight:D,zeroTriggerWidth:L,zeroTriggerHeight:z,borderRadiusLG:k,lightSiderBg:Z,lightTriggerColor:j,lightTriggerBg:G,bodyBg:H}=e;return{[t]:{position:"relative",minWidth:0,background:a,transition:`all ${o}, background 0s`,"&-has-trigger":{paddingBottom:C},"&-right":{order:1},[`${t}-children`]:{height:"100%",marginTop:-.1,paddingTop:.1,[`${y}-menu${y}-menu-inline-collapsed`]:{width:"auto"}},[`&-zero-width ${t}-children`]:{overflow:"hidden"},[`${t}-trigger`]:{position:"fixed",bottom:0,zIndex:1,height:C,color:w,lineHeight:(0,he.bf)(C),textAlign:"center",background:I,cursor:"pointer",transition:`all ${o}`},[`${t}-zero-width-trigger`]:{position:"absolute",top:D,insetInlineEnd:e.calc(L).mul(-1).equal(),zIndex:1,width:L,height:z,color:w,fontSize:e.fontSizeXL,display:"flex",alignItems:"center",justifyContent:"center",background:a,borderRadius:`0 ${(0,he.bf)(k)} ${(0,he.bf)(k)} 0`,cursor:"pointer",transition:`background ${f} ease`,"&::after":{position:"absolute",inset:0,background:"transparent",transition:`all ${f}`,content:'""'},"&:hover::after":{background:"rgba(255, 255, 255, 0.2)"},"&-right":{insetInlineStart:e.calc(L).mul(-1).equal(),borderRadius:`${(0,he.bf)(k)} 0 0 ${(0,he.bf)(k)}`}},"&-light":{background:Z,[`${t}-trigger`]:{color:j,background:G},[`${t}-zero-width-trigger`]:{color:j,background:G,border:`1px solid ${H}`,borderInlineStart:0}}}}};var K_=(0,te.I$)(["Layout","Sider"],e=>[G_(e)],Bv,{deprecatedTokens:Fv}),jv=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a};const Yd={xs:"479.98px",sm:"575.98px",md:"767.98px",lg:"991.98px",xl:"1199.98px",xxl:"1599.98px"},Sc=e=>!Number.isNaN(Number.parseFloat(e))&&isFinite(e),zm=s.createContext({}),Nm=(()=>{let e=0;return function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return e+=1,`${t}${e}`}})();var X_=s.forwardRef((e,t)=>{const{prefixCls:a,className:o,trigger:f,children:y,defaultCollapsed:C=!1,theme:w="dark",style:I={},collapsible:D=!1,reverseArrow:L=!1,width:z=200,collapsedWidth:k=80,zeroWidthTriggerStyle:Z,breakpoint:j,onCollapse:G,onBreakpoint:H}=e,X=jv(e,["prefixCls","className","trigger","children","defaultCollapsed","theme","style","collapsible","reverseArrow","width","collapsedWidth","zeroWidthTriggerStyle","breakpoint","onCollapse","onBreakpoint"]),{siderHook:ne}=(0,s.useContext)(Nv),[oe,ae]=(0,s.useState)("collapsed"in e?e.collapsed:C),[ie,le]=(0,s.useState)(!1);(0,s.useEffect)(()=>{"collapsed"in e&&ae(e.collapsed)},[e.collapsed]);const fe=(Mt,Cn)=>{"collapsed"in e||ae(Mt),G==null||G(Mt,Cn)},{getPrefixCls:me,direction:ge}=(0,s.useContext)(ye.E_),be=me("layout-sider",a),[Ie,Oe,Te]=K_(be),Ve=(0,s.useRef)(null);Ve.current=Mt=>{le(Mt.matches),H==null||H(Mt.matches),oe!==Mt.matches&&fe(Mt.matches,"responsive")},(0,s.useEffect)(()=>{function Mt(Hn){return Ve.current(Hn)}let Cn;if(typeof window!="undefined"){const{matchMedia:Hn}=window;if(Hn&&j&&j in Yd){Cn=Hn(`screen and (max-width: ${Yd[j]})`);try{Cn.addEventListener("change",Mt)}catch(pn){Cn.addListener(Mt)}Mt(Cn)}}return()=>{try{Cn==null||Cn.removeEventListener("change",Mt)}catch(Hn){Cn==null||Cn.removeListener(Mt)}}},[j]),(0,s.useEffect)(()=>{const Mt=Nm("ant-sider-");return ne.addSider(Mt),()=>ne.removeSider(Mt)},[]);const De=()=>{fe(!oe,"clickTrigger")},Ue=(0,fr.Z)(X,["collapsed"]),ke=oe?k:z,st=Sc(ke)?`${ke}px`:String(ke),ct=parseFloat(String(k||0))===0?s.createElement("span",{onClick:De,className:q()(`${be}-zero-width-trigger`,`${be}-zero-width-trigger-${L?"right":"left"}`),style:Z},f||s.createElement(lC,null)):null,Et=ge==="rtl"==!L,mt={expanded:Et?s.createElement(yu.Z,null):s.createElement(Qc,null),collapsed:Et?s.createElement(Qc,null):s.createElement(yu.Z,null)}[oe?"collapsed":"expanded"],bt=f!==null?ct||s.createElement("div",{className:`${be}-trigger`,onClick:De,style:{width:st}},f||mt):null,zt=Object.assign(Object.assign({},I),{flex:`0 0 ${st}`,maxWidth:st,minWidth:st,width:st}),$t=q()(be,`${be}-${w}`,{[`${be}-collapsed`]:!!oe,[`${be}-has-trigger`]:D&&f!==null&&!ct,[`${be}-below`]:!!ie,[`${be}-zero-width`]:parseFloat(st)===0},o,Oe,Te),Ht=s.useMemo(()=>({siderCollapsed:oe}),[oe]);return Ie(s.createElement(zm.Provider,{value:Ht},s.createElement("aside",Object.assign({className:$t},Ue,{style:zt,ref:t}),s.createElement("div",{className:`${be}-children`},y),D||ie&&ct?bt:null)))}),Bm={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M176 511a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"ellipsis",theme:"outlined"},Y_=Bm,wh=function(t,a){return s.createElement(Kt.Z,(0,We.Z)({},t,{ref:a,icon:Y_}))},Fm=s.forwardRef(wh),Zv=Fm,c0=(0,s.createContext)({prefixCls:"",firstLevel:!0,inlineCollapsed:!1}),cC=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a},q_=e=>{const{prefixCls:t,className:a,dashed:o}=e,f=cC(e,["prefixCls","className","dashed"]),{getPrefixCls:y}=s.useContext(ye.E_),C=y("menu",t),w=q()({[`${C}-item-divider-dashed`]:!!o},a);return s.createElement(fl,Object.assign({className:w},f))},Du=F(9202),Q_=e=>{var t;const{className:a,children:o,icon:f,title:y,danger:C,extra:w}=e,{prefixCls:I,firstLevel:D,direction:L,disableMenuItemTitleTooltip:z,inlineCollapsed:k}=s.useContext(c0),Z=oe=>{const ae=o==null?void 0:o[0],ie=s.createElement("span",{className:q()(`${I}-title-content`,{[`${I}-title-content-with-extra`]:!!w||w===0})},o);return(!f||s.isValidElement(o)&&o.type==="span")&&o&&oe&&D&&typeof ae=="string"?s.createElement("div",{className:`${I}-inline-collapsed-noicon`},ae.charAt(0)):ie},{siderCollapsed:j}=s.useContext(zm);let G=y;typeof y=="undefined"?G=D?o:"":y===!1&&(G="");const H={title:G};!j&&!k&&(H.title=null,H.open=!1);const X=(0,Wl.Z)(o).length;let ne=s.createElement(ms,Object.assign({},(0,fr.Z)(e,["title","icon","danger"]),{className:q()({[`${I}-item-danger`]:C,[`${I}-item-only-child`]:(f?X+1:X)===1},a),title:typeof y=="string"?y:void 0}),(0,bn.Tm)(f,{className:q()(s.isValidElement(f)?(t=f.props)===null||t===void 0?void 0:t.className:"",`${I}-item-icon`)}),Z(k));return z||(ne=s.createElement(Du.Z,Object.assign({},H,{placement:L==="rtl"?"left":"right",classNames:{root:`${I}-inline-collapsed-tooltip`}}),ne)),ne},Ep=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a};const Vv=s.createContext(null),Kl=s.forwardRef((e,t)=>{const{children:a}=e,o=Ep(e,["children"]),f=s.useContext(Vv),y=s.useMemo(()=>Object.assign(Object.assign({},f),o),[f,o.prefixCls,o.mode,o.selectable,o.rootClassName]),C=(0,Yt.t4)(a),w=(0,Yt.x1)(t,C?(0,Yt.C4)(a):null);return s.createElement(Vv.Provider,{value:y},s.createElement(Jl.Z,{space:!0},C?s.cloneElement(a,{ref:w}):a))});var km=Vv,Sl=F(84432),Ip=F(40894),Pc=F(17877),eb=e=>{const{componentCls:t,motionDurationSlow:a,horizontalLineHeight:o,colorSplit:f,lineWidth:y,lineType:C,itemPaddingInline:w}=e;return{[`${t}-horizontal`]:{lineHeight:o,border:0,borderBottom:`${(0,he.bf)(y)} ${C} ${f}`,boxShadow:"none","&::after":{display:"block",clear:"both",height:0,content:'"\\20"'},[`${t}-item, ${t}-submenu`]:{position:"relative",display:"inline-block",verticalAlign:"bottom",paddingInline:w},[`> ${t}-item:hover,
        > ${t}-item-active,
        > ${t}-submenu ${t}-submenu-title:hover`]:{backgroundColor:"transparent"},[`${t}-item, ${t}-submenu-title`]:{transition:[`border-color ${a}`,`background ${a}`].join(",")},[`${t}-submenu-arrow`]:{display:"none"}}}},jm=e=>{let{componentCls:t,menuArrowOffset:a,calc:o}=e;return{[`${t}-rtl`]:{direction:"rtl"},[`${t}-submenu-rtl`]:{transformOrigin:"100% 0"},[`${t}-rtl${t}-vertical,
    ${t}-submenu-rtl ${t}-vertical`]:{[`${t}-submenu-arrow`]:{"&::before":{transform:`rotate(-45deg) translateY(${(0,he.bf)(o(a).mul(-1).equal())})`},"&::after":{transform:`rotate(45deg) translateY(${(0,he.bf)(a)})`}}}}};const d0=e=>Object.assign({},(0,Jt.oN)(e));var tb=(e,t)=>{const{componentCls:a,itemColor:o,itemSelectedColor:f,subMenuItemSelectedColor:y,groupTitleColor:C,itemBg:w,subMenuItemBg:I,itemSelectedBg:D,activeBarHeight:L,activeBarWidth:z,activeBarBorderWidth:k,motionDurationSlow:Z,motionEaseInOut:j,motionEaseOut:G,itemPaddingInline:H,motionDurationMid:X,itemHoverColor:ne,lineType:oe,colorSplit:ae,itemDisabledColor:ie,dangerItemColor:le,dangerItemHoverColor:fe,dangerItemSelectedColor:me,dangerItemActiveBg:ge,dangerItemSelectedBg:be,popupBg:Ie,itemHoverBg:Oe,itemActiveBg:Te,menuSubMenuBg:Ve,horizontalItemSelectedColor:De,horizontalItemSelectedBg:Ue,horizontalItemBorderRadius:ke,horizontalItemHoverBg:st}=e;return{[`${a}-${t}, ${a}-${t} > ${a}`]:{color:o,background:w,[`&${a}-root:focus-visible`]:Object.assign({},d0(e)),[`${a}-item`]:{"&-group-title, &-extra":{color:C}},[`${a}-submenu-selected > ${a}-submenu-title`]:{color:y},[`${a}-item, ${a}-submenu-title`]:{color:o,[`&:not(${a}-item-disabled):focus-visible`]:Object.assign({},d0(e))},[`${a}-item-disabled, ${a}-submenu-disabled`]:{color:`${ie} !important`},[`${a}-item:not(${a}-item-selected):not(${a}-submenu-selected)`]:{[`&:hover, > ${a}-submenu-title:hover`]:{color:ne}},[`&:not(${a}-horizontal)`]:{[`${a}-item:not(${a}-item-selected)`]:{"&:hover":{backgroundColor:Oe},"&:active":{backgroundColor:Te}},[`${a}-submenu-title`]:{"&:hover":{backgroundColor:Oe},"&:active":{backgroundColor:Te}}},[`${a}-item-danger`]:{color:le,[`&${a}-item:hover`]:{[`&:not(${a}-item-selected):not(${a}-submenu-selected)`]:{color:fe}},[`&${a}-item:active`]:{background:ge}},[`${a}-item a`]:{"&, &:hover":{color:"inherit"}},[`${a}-item-selected`]:{color:f,[`&${a}-item-danger`]:{color:me},"a, a:hover":{color:"inherit"}},[`& ${a}-item-selected`]:{backgroundColor:D,[`&${a}-item-danger`]:{backgroundColor:be}},[`&${a}-submenu > ${a}`]:{backgroundColor:Ve},[`&${a}-popup > ${a}`]:{backgroundColor:Ie},[`&${a}-submenu-popup > ${a}`]:{backgroundColor:Ie},[`&${a}-horizontal`]:Object.assign(Object.assign({},t==="dark"?{borderBottom:0}:{}),{[`> ${a}-item, > ${a}-submenu`]:{top:k,marginTop:e.calc(k).mul(-1).equal(),marginBottom:0,borderRadius:ke,"&::after":{position:"absolute",insetInline:H,bottom:0,borderBottom:`${(0,he.bf)(L)} solid transparent`,transition:`border-color ${Z} ${j}`,content:'""'},"&:hover, &-active, &-open":{background:st,"&::after":{borderBottomWidth:L,borderBottomColor:De}},"&-selected":{color:De,backgroundColor:Ue,"&:hover":{backgroundColor:Ue},"&::after":{borderBottomWidth:L,borderBottomColor:De}}}}),[`&${a}-root`]:{[`&${a}-inline, &${a}-vertical`]:{borderInlineEnd:`${(0,he.bf)(k)} ${oe} ${ae}`}},[`&${a}-inline`]:{[`${a}-sub${a}-inline`]:{background:I},[`${a}-item`]:{position:"relative","&::after":{position:"absolute",insetBlock:0,insetInlineEnd:0,borderInlineEnd:`${(0,he.bf)(z)} solid ${f}`,transform:"scaleY(0.0001)",opacity:0,transition:[`transform ${X} ${G}`,`opacity ${X} ${G}`].join(","),content:'""'},[`&${a}-item-danger`]:{"&::after":{borderInlineEndColor:me}}},[`${a}-selected, ${a}-item-selected`]:{"&::after":{transform:"scaleY(1)",opacity:1,transition:[`transform ${X} ${j}`,`opacity ${X} ${j}`].join(",")}}}}}};const Uv=e=>{const{componentCls:t,itemHeight:a,itemMarginInline:o,padding:f,menuArrowSize:y,marginXS:C,itemMarginBlock:w,itemWidth:I,itemPaddingInline:D}=e,L=e.calc(y).add(f).add(C).equal();return{[`${t}-item`]:{position:"relative",overflow:"hidden"},[`${t}-item, ${t}-submenu-title`]:{height:a,lineHeight:(0,he.bf)(a),paddingInline:D,overflow:"hidden",textOverflow:"ellipsis",marginInline:o,marginBlock:w,width:I},[`> ${t}-item,
            > ${t}-submenu > ${t}-submenu-title`]:{height:a,lineHeight:(0,he.bf)(a)},[`${t}-item-group-list ${t}-submenu-title,
            ${t}-submenu-title`]:{paddingInlineEnd:L}}};var Wv=e=>{const{componentCls:t,iconCls:a,itemHeight:o,colorTextLightSolid:f,dropdownWidth:y,controlHeightLG:C,motionEaseOut:w,paddingXL:I,itemMarginInline:D,fontSizeLG:L,motionDurationFast:z,motionDurationSlow:k,paddingXS:Z,boxShadowSecondary:j,collapsedWidth:G,collapsedIconSize:H}=e,X={height:o,lineHeight:(0,he.bf)(o),listStylePosition:"inside",listStyleType:"disc"};return[{[t]:{"&-inline, &-vertical":Object.assign({[`&${t}-root`]:{boxShadow:"none"}},Uv(e))},[`${t}-submenu-popup`]:{[`${t}-vertical`]:Object.assign(Object.assign({},Uv(e)),{boxShadow:j})}},{[`${t}-submenu-popup ${t}-vertical${t}-sub`]:{minWidth:y,maxHeight:`calc(100vh - ${(0,he.bf)(e.calc(C).mul(2.5).equal())})`,padding:"0",overflow:"hidden",borderInlineEnd:0,"&:not([class*='-active'])":{overflowX:"hidden",overflowY:"auto"}}},{[`${t}-inline`]:{width:"100%",[`&${t}-root`]:{[`${t}-item, ${t}-submenu-title`]:{display:"flex",alignItems:"center",transition:[`border-color ${k}`,`background ${k}`,`padding ${z} ${w}`].join(","),[`> ${t}-title-content`]:{flex:"auto",minWidth:0,overflow:"hidden",textOverflow:"ellipsis"},"> *":{flex:"none"}}},[`${t}-sub${t}-inline`]:{padding:0,border:0,borderRadius:0,boxShadow:"none",[`& > ${t}-submenu > ${t}-submenu-title`]:X,[`& ${t}-item-group-title`]:{paddingInlineStart:I}},[`${t}-item`]:X}},{[`${t}-inline-collapsed`]:{width:G,[`&${t}-root`]:{[`${t}-item, ${t}-submenu ${t}-submenu-title`]:{[`> ${t}-inline-collapsed-noicon`]:{fontSize:L,textAlign:"center"}}},[`> ${t}-item,
          > ${t}-item-group > ${t}-item-group-list > ${t}-item,
          > ${t}-item-group > ${t}-item-group-list > ${t}-submenu > ${t}-submenu-title,
          > ${t}-submenu > ${t}-submenu-title`]:{insetInlineStart:0,paddingInline:`calc(50% - ${(0,he.bf)(e.calc(H).div(2).equal())} - ${(0,he.bf)(D)})`,textOverflow:"clip",[`
            ${t}-submenu-arrow,
            ${t}-submenu-expand-icon
          `]:{opacity:0},[`${t}-item-icon, ${a}`]:{margin:0,fontSize:H,lineHeight:(0,he.bf)(o),"+ span":{display:"inline-block",opacity:0}}},[`${t}-item-icon, ${a}`]:{display:"inline-block"},"&-tooltip":{pointerEvents:"none",[`${t}-item-icon, ${a}`]:{display:"none"},"a, a:hover":{color:f}},[`${t}-item-group-title`]:Object.assign(Object.assign({},Jt.vS),{paddingInline:Z})}}]};const f0=e=>{const{componentCls:t,motionDurationSlow:a,motionDurationMid:o,motionEaseInOut:f,motionEaseOut:y,iconCls:C,iconSize:w,iconMarginInlineEnd:I}=e;return{[`${t}-item, ${t}-submenu-title`]:{position:"relative",display:"block",margin:0,whiteSpace:"nowrap",cursor:"pointer",transition:[`border-color ${a}`,`background ${a}`,`padding calc(${a} + 0.1s) ${f}`].join(","),[`${t}-item-icon, ${C}`]:{minWidth:w,fontSize:w,transition:[`font-size ${o} ${y}`,`margin ${a} ${f}`,`color ${a}`].join(","),"+ span":{marginInlineStart:I,opacity:1,transition:[`opacity ${a} ${f}`,`margin ${a}`,`color ${a}`].join(",")}},[`${t}-item-icon`]:Object.assign({},(0,Jt.Ro)()),[`&${t}-item-only-child`]:{[`> ${C}, > ${t}-item-icon`]:{marginInlineEnd:0}}},[`${t}-item-disabled, ${t}-submenu-disabled`]:{background:"none !important",cursor:"not-allowed","&::after":{borderColor:"transparent !important"},a:{color:"inherit !important",cursor:"not-allowed",pointerEvents:"none"},[`> ${t}-submenu-title`]:{color:"inherit !important",cursor:"not-allowed"}}}},Gv=e=>{const{componentCls:t,motionDurationSlow:a,motionEaseInOut:o,borderRadius:f,menuArrowSize:y,menuArrowOffset:C}=e;return{[`${t}-submenu`]:{"&-expand-icon, &-arrow":{position:"absolute",top:"50%",insetInlineEnd:e.margin,width:y,color:"currentcolor",transform:"translateY(-50%)",transition:`transform ${a} ${o}, opacity ${a}`},"&-arrow":{"&::before, &::after":{position:"absolute",width:e.calc(y).mul(.6).equal(),height:e.calc(y).mul(.15).equal(),backgroundColor:"currentcolor",borderRadius:f,transition:[`background ${a} ${o}`,`transform ${a} ${o}`,`top ${a} ${o}`,`color ${a} ${o}`].join(","),content:'""'},"&::before":{transform:`rotate(45deg) translateY(${(0,he.bf)(e.calc(C).mul(-1).equal())})`},"&::after":{transform:`rotate(-45deg) translateY(${(0,he.bf)(C)})`}}}}},rb=e=>{const{antCls:t,componentCls:a,fontSize:o,motionDurationSlow:f,motionDurationMid:y,motionEaseInOut:C,paddingXS:w,padding:I,colorSplit:D,lineWidth:L,zIndexPopup:z,borderRadiusLG:k,subMenuItemBorderRadius:Z,menuArrowSize:j,menuArrowOffset:G,lineType:H,groupTitleLineHeight:X,groupTitleFontSize:ne}=e;return[{"":{[a]:Object.assign(Object.assign({},(0,Jt.dF)()),{"&-hidden":{display:"none"}})},[`${a}-submenu-hidden`]:{display:"none"}},{[a]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(0,Jt.Wf)(e)),(0,Jt.dF)()),{marginBottom:0,paddingInlineStart:0,fontSize:o,lineHeight:0,listStyle:"none",outline:"none",transition:`width ${f} cubic-bezier(0.2, 0, 0, 1) 0s`,"ul, ol":{margin:0,padding:0,listStyle:"none"},"&-overflow":{display:"flex",[`${a}-item`]:{flex:"none"}},[`${a}-item, ${a}-submenu, ${a}-submenu-title`]:{borderRadius:e.itemBorderRadius},[`${a}-item-group-title`]:{padding:`${(0,he.bf)(w)} ${(0,he.bf)(I)}`,fontSize:ne,lineHeight:X,transition:`all ${f}`},[`&-horizontal ${a}-submenu`]:{transition:[`border-color ${f} ${C}`,`background ${f} ${C}`].join(",")},[`${a}-submenu, ${a}-submenu-inline`]:{transition:[`border-color ${f} ${C}`,`background ${f} ${C}`,`padding ${y} ${C}`].join(",")},[`${a}-submenu ${a}-sub`]:{cursor:"initial",transition:[`background ${f} ${C}`,`padding ${f} ${C}`].join(",")},[`${a}-title-content`]:{transition:`color ${f}`,"&-with-extra":{display:"inline-flex",alignItems:"center",width:"100%"},[`> ${t}-typography-ellipsis-single-line`]:{display:"inline",verticalAlign:"unset"},[`${a}-item-extra`]:{marginInlineStart:"auto",paddingInlineStart:e.padding}},[`${a}-item a`]:{"&::before":{position:"absolute",inset:0,backgroundColor:"transparent",content:'""'}},[`${a}-item-divider`]:{overflow:"hidden",lineHeight:0,borderColor:D,borderStyle:H,borderWidth:0,borderTopWidth:L,marginBlock:L,padding:0,"&-dashed":{borderStyle:"dashed"}}}),f0(e)),{[`${a}-item-group`]:{[`${a}-item-group-list`]:{margin:0,padding:0,[`${a}-item, ${a}-submenu-title`]:{paddingInline:`${(0,he.bf)(e.calc(o).mul(2).equal())} ${(0,he.bf)(I)}`}}},"&-submenu":{"&-popup":{position:"absolute",zIndex:z,borderRadius:k,boxShadow:"none",transformOrigin:"0 0",[`&${a}-submenu`]:{background:"transparent"},"&::before":{position:"absolute",inset:0,zIndex:-1,width:"100%",height:"100%",opacity:0,content:'""'},[`> ${a}`]:Object.assign(Object.assign(Object.assign({borderRadius:k},f0(e)),Gv(e)),{[`${a}-item, ${a}-submenu > ${a}-submenu-title`]:{borderRadius:Z},[`${a}-submenu-title::after`]:{transition:`transform ${f} ${C}`}})},"\n          &-placement-leftTop,\n          &-placement-bottomRight,\n          ":{transformOrigin:"100% 0"},"\n          &-placement-leftBottom,\n          &-placement-topRight,\n          ":{transformOrigin:"100% 100%"},"\n          &-placement-rightBottom,\n          &-placement-topLeft,\n          ":{transformOrigin:"0 100%"},"\n          &-placement-bottomLeft,\n          &-placement-rightTop,\n          ":{transformOrigin:"0 0"},"\n          &-placement-leftTop,\n          &-placement-leftBottom\n          ":{paddingInlineEnd:e.paddingXS},"\n          &-placement-rightTop,\n          &-placement-rightBottom\n          ":{paddingInlineStart:e.paddingXS},"\n          &-placement-topRight,\n          &-placement-topLeft\n          ":{paddingBottom:e.paddingXS},"\n          &-placement-bottomRight,\n          &-placement-bottomLeft\n          ":{paddingTop:e.paddingXS}}}),Gv(e)),{[`&-inline-collapsed ${a}-submenu-arrow,
        &-inline ${a}-submenu-arrow`]:{"&::before":{transform:`rotate(-45deg) translateX(${(0,he.bf)(G)})`},"&::after":{transform:`rotate(45deg) translateX(${(0,he.bf)(e.calc(G).mul(-1).equal())})`}},[`${a}-submenu-open${a}-submenu-inline > ${a}-submenu-title > ${a}-submenu-arrow`]:{transform:`translateY(${(0,he.bf)(e.calc(j).mul(.2).mul(-1).equal())})`,"&::after":{transform:`rotate(-45deg) translateX(${(0,he.bf)(e.calc(G).mul(-1).equal())})`},"&::before":{transform:`rotate(45deg) translateX(${(0,he.bf)(G)})`}}})},{[`${t}-layout-header`]:{[a]:{lineHeight:"inherit"}}}]},ib=e=>{var t,a,o;const{colorPrimary:f,colorError:y,colorTextDisabled:C,colorErrorBg:w,colorText:I,colorTextDescription:D,colorBgContainer:L,colorFillAlter:z,colorFillContent:k,lineWidth:Z,lineWidthBold:j,controlItemBgActive:G,colorBgTextHover:H,controlHeightLG:X,lineHeight:ne,colorBgElevated:oe,marginXXS:ae,padding:ie,fontSize:le,controlHeightSM:fe,fontSizeLG:me,colorTextLightSolid:ge,colorErrorHover:be}=e,Ie=(t=e.activeBarWidth)!==null&&t!==void 0?t:0,Oe=(a=e.activeBarBorderWidth)!==null&&a!==void 0?a:Z,Te=(o=e.itemMarginInline)!==null&&o!==void 0?o:e.marginXXS,Ve=new Sl.t(ge).setA(.65).toRgbString();return{dropdownWidth:160,zIndexPopup:e.zIndexPopupBase+50,radiusItem:e.borderRadiusLG,itemBorderRadius:e.borderRadiusLG,radiusSubMenuItem:e.borderRadiusSM,subMenuItemBorderRadius:e.borderRadiusSM,colorItemText:I,itemColor:I,colorItemTextHover:I,itemHoverColor:I,colorItemTextHoverHorizontal:f,horizontalItemHoverColor:f,colorGroupTitle:D,groupTitleColor:D,colorItemTextSelected:f,itemSelectedColor:f,subMenuItemSelectedColor:f,colorItemTextSelectedHorizontal:f,horizontalItemSelectedColor:f,colorItemBg:L,itemBg:L,colorItemBgHover:H,itemHoverBg:H,colorItemBgActive:k,itemActiveBg:G,colorSubItemBg:z,subMenuItemBg:z,colorItemBgSelected:G,itemSelectedBg:G,colorItemBgSelectedHorizontal:"transparent",horizontalItemSelectedBg:"transparent",colorActiveBarWidth:0,activeBarWidth:Ie,colorActiveBarHeight:j,activeBarHeight:j,colorActiveBarBorderSize:Z,activeBarBorderWidth:Oe,colorItemTextDisabled:C,itemDisabledColor:C,colorDangerItemText:y,dangerItemColor:y,colorDangerItemTextHover:y,dangerItemHoverColor:y,colorDangerItemTextSelected:y,dangerItemSelectedColor:y,colorDangerItemBgActive:w,dangerItemActiveBg:w,colorDangerItemBgSelected:w,dangerItemSelectedBg:w,itemMarginInline:Te,horizontalItemBorderRadius:0,horizontalItemHoverBg:"transparent",itemHeight:X,groupTitleLineHeight:ne,collapsedWidth:X*2,popupBg:oe,itemMarginBlock:ae,itemPaddingInline:ie,horizontalLineHeight:`${X*1.15}px`,iconSize:le,iconMarginInlineEnd:fe-le,collapsedIconSize:me,groupTitleFontSize:le,darkItemDisabledColor:new Sl.t(ge).setA(.25).toRgbString(),darkItemColor:Ve,darkDangerItemColor:y,darkItemBg:"#001529",darkPopupBg:"#001529",darkSubMenuItemBg:"#000c17",darkItemSelectedColor:ge,darkItemSelectedBg:f,darkDangerItemSelectedBg:y,darkItemHoverBg:"transparent",darkGroupTitleColor:Ve,darkItemHoverColor:ge,darkDangerItemHoverColor:be,darkDangerItemSelectedColor:ge,darkDangerItemActiveBg:y,itemWidth:Ie?`calc(100% + ${Oe}px)`:`calc(100% - ${Te*2}px)`}};var ob=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;return(0,te.I$)("Menu",f=>{const{colorBgElevated:y,controlHeightLG:C,fontSize:w,darkItemColor:I,darkDangerItemColor:D,darkItemBg:L,darkSubMenuItemBg:z,darkItemSelectedColor:k,darkItemSelectedBg:Z,darkDangerItemSelectedBg:j,darkItemHoverBg:G,darkGroupTitleColor:H,darkItemHoverColor:X,darkItemDisabledColor:ne,darkDangerItemHoverColor:oe,darkDangerItemSelectedColor:ae,darkDangerItemActiveBg:ie,popupBg:le,darkPopupBg:fe}=f,me=f.calc(w).div(7).mul(5).equal(),ge=(0,Qr.IX)(f,{menuArrowSize:me,menuHorizontalHeight:f.calc(C).mul(1.15).equal(),menuArrowOffset:f.calc(me).mul(.25).equal(),menuSubMenuBg:y,calc:f.calc,popupBg:le}),be=(0,Qr.IX)(ge,{itemColor:I,itemHoverColor:X,groupTitleColor:H,itemSelectedColor:k,subMenuItemSelectedColor:k,itemBg:L,popupBg:fe,subMenuItemBg:z,itemActiveBg:"transparent",itemSelectedBg:Z,activeBarHeight:0,activeBarBorderWidth:0,itemHoverBg:G,itemDisabledColor:ne,dangerItemColor:D,dangerItemHoverColor:oe,dangerItemSelectedColor:ae,dangerItemActiveBg:ie,dangerItemSelectedBg:j,menuSubMenuBg:z,horizontalItemSelectedColor:k,horizontalItemSelectedBg:Z});return[rb(ge),eb(ge),Wv(ge),tb(ge,"light"),tb(be,"dark"),jm(ge),(0,Ip.Z)(ge),(0,Pc.oN)(ge,"slide-up"),(0,Pc.oN)(ge,"slide-down"),(0,ou._y)(ge,"zoom-big")]},ib,{deprecatedTokens:[["colorGroupTitle","groupTitleColor"],["radiusItem","itemBorderRadius"],["radiusSubMenuItem","subMenuItemBorderRadius"],["colorItemText","itemColor"],["colorItemTextHover","itemHoverColor"],["colorItemTextHoverHorizontal","horizontalItemHoverColor"],["colorItemTextSelected","itemSelectedColor"],["colorItemTextSelectedHorizontal","horizontalItemSelectedColor"],["colorItemTextDisabled","itemDisabledColor"],["colorDangerItemText","dangerItemColor"],["colorDangerItemTextHover","dangerItemHoverColor"],["colorDangerItemTextSelected","dangerItemSelectedColor"],["colorDangerItemBgActive","dangerItemActiveBg"],["colorDangerItemBgSelected","dangerItemSelectedBg"],["colorItemBg","itemBg"],["colorItemBgHover","itemHoverBg"],["colorSubItemBg","subMenuItemBg"],["colorItemBgActive","itemActiveBg"],["colorItemBgSelectedHorizontal","horizontalItemSelectedBg"],["colorActiveBarWidth","activeBarWidth"],["colorActiveBarHeight","activeBarHeight"],["colorActiveBarBorderSize","activeBarBorderWidth"],["colorItemBgSelected","itemSelectedBg"]],injectStyle:a,unitless:{groupTitleLineHeight:!0}})(e,t)},Ju=e=>{var t;const{popupClassName:a,icon:o,title:f,theme:y}=e,C=s.useContext(c0),{prefixCls:w,inlineCollapsed:I,theme:D}=C,L=E();let z;if(!o)z=I&&!L.length&&f&&typeof f=="string"?s.createElement("div",{className:`${w}-inline-collapsed-noicon`},f.charAt(0)):s.createElement("span",{className:`${w}-title-content`},f);else{const j=s.isValidElement(f)&&f.type==="span";z=s.createElement(s.Fragment,null,(0,bn.Tm)(o,{className:q()(s.isValidElement(o)?(t=o.props)===null||t===void 0?void 0:t.className:"",`${w}-item-icon`)}),j?f:s.createElement("span",{className:`${w}-title-content`},f))}const k=s.useMemo(()=>Object.assign(Object.assign({},C),{firstLevel:!1}),[C]),[Z]=(0,qt.Cn)("Menu");return s.createElement(c0.Provider,{value:k},s.createElement(rs,Object.assign({},(0,fr.Z)(e,["icon"]),{title:z,popupClassName:q()(w,a,`${w}-${y||D}`),popupStyle:Object.assign({zIndex:Z},e.popupStyle)})))},sb=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a};function Kv(e){return e===null||e===!1}const dC={item:Q_,submenu:Ju,divider:q_};var fC=(0,s.forwardRef)((e,t)=>{var a;const o=s.useContext(km),f=o||{},{getPrefixCls:y,getPopupContainer:C,direction:w,menu:I}=s.useContext(ye.E_),D=y(),{prefixCls:L,className:z,style:k,theme:Z="light",expandIcon:j,_internalDisableMenuItemTitleTooltip:G,inlineCollapsed:H,siderCollapsed:X,rootClassName:ne,mode:oe,selectable:ae,onClick:ie,overflowedIndicatorPopupClassName:le}=e,fe=sb(e,["prefixCls","className","style","theme","expandIcon","_internalDisableMenuItemTitleTooltip","inlineCollapsed","siderCollapsed","rootClassName","mode","selectable","onClick","overflowedIndicatorPopupClassName"]),me=(0,fr.Z)(fe,["collapsedWidth"]);(a=f.validator)===null||a===void 0||a.call(f,{mode:oe});const ge=(0,yr.Z)(function(){var Ct;ie==null||ie.apply(void 0,arguments),(Ct=f.onClick)===null||Ct===void 0||Ct.call(f)}),be=f.mode||oe,Ie=ae!=null?ae:f.selectable,Oe=H!=null?H:X,Te={horizontal:{motionName:`${D}-slide-up`},inline:(0,Tt.Z)(D),other:{motionName:`${D}-zoom-big`}},Ve=y("menu",L||f.prefixCls),De=(0,Un.Z)(Ve),[Ue,ke,st]=ob(Ve,De,!o),ct=q()(`${Ve}-${Z}`,I==null?void 0:I.className,z),Et=s.useMemo(()=>{var Ct,mt;if(typeof j=="function"||Kv(j))return j||null;if(typeof f.expandIcon=="function"||Kv(f.expandIcon))return f.expandIcon||null;if(typeof(I==null?void 0:I.expandIcon)=="function"||Kv(I==null?void 0:I.expandIcon))return(I==null?void 0:I.expandIcon)||null;const bt=(Ct=j!=null?j:f==null?void 0:f.expandIcon)!==null&&Ct!==void 0?Ct:I==null?void 0:I.expandIcon;return(0,bn.Tm)(bt,{className:q()(`${Ve}-submenu-expand-icon`,s.isValidElement(bt)?(mt=bt.props)===null||mt===void 0?void 0:mt.className:void 0)})},[j,f==null?void 0:f.expandIcon,I==null?void 0:I.expandIcon,Ve]),It=s.useMemo(()=>({prefixCls:Ve,inlineCollapsed:Oe||!1,direction:w,firstLevel:!0,theme:Z,mode:be,disableMenuItemTitleTooltip:G}),[Ve,Oe,w,G,Z]);return Ue(s.createElement(km.Provider,{value:null},s.createElement(c0.Provider,{value:It},s.createElement(_d,Object.assign({getPopupContainer:C,overflowedIndicator:s.createElement(Zv,null),overflowedIndicatorPopupClassName:q()(Ve,`${Ve}-${Z}`,le),mode:be,selectable:Ie,onClick:ge},me,{inlineCollapsed:Oe,style:Object.assign(Object.assign({},I==null?void 0:I.style),k),className:ct,prefixCls:Ve,direction:w,defaultMotions:Te,expandIcon:Et,ref:t,rootClassName:q()(ne,ke,f.rootClassName,st,De),_internalComponents:dC})))))});const Zm=(0,s.forwardRef)((e,t)=>{const a=(0,s.useRef)(null),o=s.useContext(zm);return(0,s.useImperativeHandle)(t,()=>({menu:a.current,focus:f=>{var y;(y=a.current)===null||y===void 0||y.focus(f)}})),s.createElement(fC,Object.assign({ref:a},e,o))});Zm.Item=Q_,Zm.SubMenu=Ju,Zm.Divider=q_,Zm.ItemGroup=Uc;var Xv=Zm,h0=F(48221),Eh=F(18533),Vm=F(2276),cb=e=>{const{componentCls:t,menuCls:a,colorError:o,colorTextLightSolid:f}=e,y=`${a}-item`;return{[`${t}, ${t}-menu-submenu`]:{[`${a} ${y}`]:{[`&${y}-danger:not(${y}-disabled)`]:{color:o,"&:hover":{color:f,backgroundColor:o}}}}}};const Yv=e=>{const{componentCls:t,menuCls:a,zIndexPopup:o,dropdownArrowDistance:f,sizePopupArrow:y,antCls:C,iconCls:w,motionDurationMid:I,paddingBlock:D,fontSize:L,dropdownEdgeChildPadding:z,colorTextDisabled:k,fontSizeIcon:Z,controlPaddingHorizontal:j,colorBgElevated:G}=e;return[{[t]:{position:"absolute",top:-9999,left:{_skip_check_:!0,value:-9999},zIndex:o,display:"block","&::before":{position:"absolute",insetBlock:e.calc(y).div(2).sub(f).equal(),zIndex:-9999,opacity:1e-4,content:'""'},"&-menu-vertical":{maxHeight:"100vh",overflowY:"auto"},[`&-trigger${C}-btn`]:{[`& > ${w}-down, & > ${C}-btn-icon > ${w}-down`]:{fontSize:Z}},[`${t}-wrap`]:{position:"relative",[`${C}-btn > ${w}-down`]:{fontSize:Z},[`${w}-down::before`]:{transition:`transform ${I}`}},[`${t}-wrap-open`]:{[`${w}-down::before`]:{transform:"rotate(180deg)"}},"\n        &-hidden,\n        &-menu-hidden,\n        &-menu-submenu-hidden\n      ":{display:"none"},[`&${C}-slide-down-enter${C}-slide-down-enter-active${t}-placement-bottomLeft,
          &${C}-slide-down-appear${C}-slide-down-appear-active${t}-placement-bottomLeft,
          &${C}-slide-down-enter${C}-slide-down-enter-active${t}-placement-bottom,
          &${C}-slide-down-appear${C}-slide-down-appear-active${t}-placement-bottom,
          &${C}-slide-down-enter${C}-slide-down-enter-active${t}-placement-bottomRight,
          &${C}-slide-down-appear${C}-slide-down-appear-active${t}-placement-bottomRight`]:{animationName:Pc.fJ},[`&${C}-slide-up-enter${C}-slide-up-enter-active${t}-placement-topLeft,
          &${C}-slide-up-appear${C}-slide-up-appear-active${t}-placement-topLeft,
          &${C}-slide-up-enter${C}-slide-up-enter-active${t}-placement-top,
          &${C}-slide-up-appear${C}-slide-up-appear-active${t}-placement-top,
          &${C}-slide-up-enter${C}-slide-up-enter-active${t}-placement-topRight,
          &${C}-slide-up-appear${C}-slide-up-appear-active${t}-placement-topRight`]:{animationName:Pc.Qt},[`&${C}-slide-down-leave${C}-slide-down-leave-active${t}-placement-bottomLeft,
          &${C}-slide-down-leave${C}-slide-down-leave-active${t}-placement-bottom,
          &${C}-slide-down-leave${C}-slide-down-leave-active${t}-placement-bottomRight`]:{animationName:Pc.Uw},[`&${C}-slide-up-leave${C}-slide-up-leave-active${t}-placement-topLeft,
          &${C}-slide-up-leave${C}-slide-up-leave-active${t}-placement-top,
          &${C}-slide-up-leave${C}-slide-up-leave-active${t}-placement-topRight`]:{animationName:Pc.ly}}},(0,Eh.ZP)(e,G,{arrowPlacement:{top:!0,bottom:!0}}),{[`${t} ${a}`]:{position:"relative",margin:0},[`${a}-submenu-popup`]:{position:"absolute",zIndex:o,background:"transparent",boxShadow:"none",transformOrigin:"0 0","ul, li":{listStyle:"none",margin:0}},[`${t}, ${t}-menu-submenu`]:Object.assign(Object.assign({},(0,Jt.Wf)(e)),{[a]:Object.assign(Object.assign({padding:z,listStyleType:"none",backgroundColor:G,backgroundClip:"padding-box",borderRadius:e.borderRadiusLG,outline:"none",boxShadow:e.boxShadowSecondary},(0,Jt.Qy)(e)),{"&:empty":{padding:0,boxShadow:"none"},[`${a}-item-group-title`]:{padding:`${(0,he.bf)(D)} ${(0,he.bf)(j)}`,color:e.colorTextDescription,transition:`all ${I}`},[`${a}-item`]:{position:"relative",display:"flex",alignItems:"center"},[`${a}-item-icon`]:{minWidth:L,marginInlineEnd:e.marginXS,fontSize:e.fontSizeSM},[`${a}-title-content`]:{flex:"auto","&-with-extra":{display:"inline-flex",alignItems:"center",width:"100%"},"> a":{color:"inherit",transition:`all ${I}`,"&:hover":{color:"inherit"},"&::after":{position:"absolute",inset:0,content:'""'}},[`${a}-item-extra`]:{paddingInlineStart:e.padding,marginInlineStart:"auto",fontSize:e.fontSizeSM,color:e.colorTextDescription}},[`${a}-item, ${a}-submenu-title`]:Object.assign(Object.assign({display:"flex",margin:0,padding:`${(0,he.bf)(D)} ${(0,he.bf)(j)}`,color:e.colorText,fontWeight:"normal",fontSize:L,lineHeight:e.lineHeight,cursor:"pointer",transition:`all ${I}`,borderRadius:e.borderRadiusSM,"&:hover, &-active":{backgroundColor:e.controlItemBgHover}},(0,Jt.Qy)(e)),{"&-selected":{color:e.colorPrimary,backgroundColor:e.controlItemBgActive,"&:hover, &-active":{backgroundColor:e.controlItemBgActiveHover}},"&-disabled":{color:k,cursor:"not-allowed","&:hover":{color:k,backgroundColor:G,cursor:"not-allowed"},a:{pointerEvents:"none"}},"&-divider":{height:1,margin:`${(0,he.bf)(e.marginXXS)} 0`,overflow:"hidden",lineHeight:0,backgroundColor:e.colorSplit},[`${t}-menu-submenu-expand-icon`]:{position:"absolute",insetInlineEnd:e.paddingXS,[`${t}-menu-submenu-arrow-icon`]:{marginInlineEnd:"0 !important",color:e.colorTextDescription,fontSize:Z,fontStyle:"normal"}}}),[`${a}-item-group-list`]:{margin:`0 ${(0,he.bf)(e.marginXS)}`,padding:0,listStyle:"none"},[`${a}-submenu-title`]:{paddingInlineEnd:e.calc(j).add(e.fontSizeSM).equal()},[`${a}-submenu-vertical`]:{position:"relative"},[`${a}-submenu${a}-submenu-disabled ${t}-menu-submenu-title`]:{[`&, ${t}-menu-submenu-arrow-icon`]:{color:k,backgroundColor:G,cursor:"not-allowed"}},[`${a}-submenu-selected ${t}-menu-submenu-title`]:{color:e.colorPrimary}})})},[(0,Pc.oN)(e,"slide-up"),(0,Pc.oN)(e,"slide-down"),(0,h0.Fm)(e,"move-up"),(0,h0.Fm)(e,"move-down"),(0,ou._y)(e,"zoom-big")]]},ub=e=>Object.assign(Object.assign({zIndexPopup:e.zIndexPopupBase+50,paddingBlock:(e.controlHeight-e.fontSize*e.lineHeight)/2},(0,Eh.wZ)({contentRadius:e.borderRadiusLG,limitVerticalRadius:!0})),(0,Vm.w)(e));var db=(0,te.I$)("Dropdown",e=>{const{marginXXS:t,sizePopupArrow:a,paddingXXS:o,componentCls:f}=e,y=(0,Qr.IX)(e,{menuCls:`${f}-menu`,dropdownArrowDistance:e.calc(a).div(2).add(t).equal(),dropdownEdgeChildPadding:o});return[Yv(y),cb(y)]},ub,{resetStyle:!1});const qv=null,p0=e=>{var t;const{menu:a,arrow:o,prefixCls:f,children:y,trigger:C,disabled:w,dropdownRender:I,getPopupContainer:D,overlayClassName:L,rootClassName:z,overlayStyle:k,open:Z,onOpenChange:j,visible:G,onVisibleChange:H,mouseEnterDelay:X=.15,mouseLeaveDelay:ne=.1,autoAdjustOverflow:oe=!0,placement:ae="",overlay:ie,transitionName:le}=e,{getPopupContainer:fe,getPrefixCls:me,direction:ge,dropdown:be}=s.useContext(ye.E_),Ie=(0,uo.ln)("Dropdown"),Oe=s.useMemo(()=>{const Ft=me();return le!==void 0?le:ae.includes("top")?`${Ft}-slide-down`:`${Ft}-slide-up`},[me,ae,le]),Te=s.useMemo(()=>ae?ae.includes("Center")?ae.slice(0,ae.indexOf("Center")):ae:ge==="rtl"?"bottomRight":"bottomLeft",[ae,ge]),Ve=me("dropdown",f),De=(0,Un.Z)(Ve),[Ue,ke,st]=db(Ve,De),[,ct]=(0,Qn.ZP)(),Et=s.Children.only(Sp(y)?s.createElement("span",null,y):y),It=(0,bn.Tm)(Et,{className:q()(`${Ve}-trigger`,{[`${Ve}-rtl`]:ge==="rtl"},Et.props.className),disabled:(t=Et.props.disabled)!==null&&t!==void 0?t:w}),Ct=w?[]:C,mt=!!(Ct!=null&&Ct.includes("contextMenu")),[bt,zt]=(0,Fs.Z)(!1,{value:Z!=null?Z:G}),$t=(0,yr.Z)(Ft=>{j==null||j(Ft,{source:"trigger"}),H==null||H(Ft),zt(Ft)}),Ht=q()(L,z,ke,st,De,be==null?void 0:be.className,{[`${Ve}-rtl`]:ge==="rtl"}),Mt=(0,_u.Z)({arrowPointAtCenter:typeof o=="object"&&o.pointAtCenter,autoAdjustOverflow:oe,offset:ct.marginXXS,arrowWidth:o?ct.sizePopupArrow:0,borderRadius:ct.borderRadius}),Cn=s.useCallback(()=>{a!=null&&a.selectable&&(a!=null&&a.multiple)||(j==null||j(!1,{source:"menu"}),zt(!1))},[a==null?void 0:a.selectable,a==null?void 0:a.multiple]),Hn=()=>{let Ft;return a!=null&&a.items?Ft=s.createElement(Xv,Object.assign({},a)):typeof ie=="function"?Ft=ie():Ft=ie,I&&(Ft=I(Ft)),Ft=s.Children.only(typeof Ft=="string"?s.createElement("span",null,Ft):Ft),s.createElement(Kl,{prefixCls:`${Ve}-menu`,rootClassName:q()(st,De),expandIcon:s.createElement("span",{className:`${Ve}-menu-submenu-arrow`},ge==="rtl"?s.createElement(Qc,{className:`${Ve}-menu-submenu-arrow-icon`}):s.createElement(yu.Z,{className:`${Ve}-menu-submenu-arrow-icon`})),mode:"vertical",selectable:!1,onClick:Cn,validator:kn=>{let{mode:Pn}=kn}},Ft)},[pn,Dn]=(0,qt.Cn)("Dropdown",k==null?void 0:k.zIndex);let Qt=s.createElement(qu,Object.assign({alignPoint:mt},(0,fr.Z)(e,["rootClassName"]),{mouseEnterDelay:X,mouseLeaveDelay:ne,visible:bt,builtinPlacements:Mt,arrow:!!o,overlayClassName:Ht,prefixCls:Ve,getPopupContainer:D||fe,transitionName:Oe,trigger:Ct,overlay:Hn,placement:Te,onVisibleChange:$t,overlayStyle:Object.assign(Object.assign(Object.assign({},be==null?void 0:be.style),k),{zIndex:pn})}),It);return pn&&(Qt=s.createElement(Ya.Z.Provider,{value:Dn},Qt)),Ue(Qt)},fb=(0,vl.Z)(p0,"align",void 0,"dropdown",e=>e),hb=e=>s.createElement(fb,Object.assign({},e),s.createElement("span",null));p0._InternalPanelDoNotUseOrYouWillBeFired=hb;var Tf=p0;const Mf=e=>{let{children:t}=e;const{getPrefixCls:a}=s.useContext(ye.E_),o=a("breadcrumb");return s.createElement("li",{className:`${o}-separator`,"aria-hidden":"true"},t===""?t:t||"/")};Mf.__ANT_BREADCRUMB_SEPARATOR=!0;var m0=Mf,g0=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a};function pb(e,t){if(e.title===void 0||e.title===null)return null;const a=Object.keys(t).join("|");return typeof e.title=="object"?e.title:String(e.title).replace(new RegExp(`:(${a})`,"g"),(o,f)=>t[f]||o)}function Jv(e,t,a,o){if(a==null)return null;const{className:f,onClick:y}=t,C=g0(t,["className","onClick"]),w=Object.assign(Object.assign({},(0,ut.Z)(C,{data:!0,aria:!0})),{onClick:y});return o!==void 0?s.createElement("a",Object.assign({},w,{className:q()(`${e}-link`,f),href:o}),a):s.createElement("span",Object.assign({},w,{className:q()(`${e}-link`,f)}),a)}function v0(e,t){return(o,f,y,C,w)=>{if(t)return t(o,f,y,C);const I=pb(o,f);return Jv(e,o,I,w)}}var y0=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a};const Hm=e=>{const{prefixCls:t,separator:a="/",children:o,menu:f,overlay:y,dropdownProps:C,href:w}=e,D=(L=>{if(f||y){const z=Object.assign({},C);if(f){const k=f||{},{items:Z}=k,j=y0(k,["items"]);z.menu=Object.assign(Object.assign({},j),{items:Z==null?void 0:Z.map((G,H)=>{var{key:X,title:ne,label:oe,path:ae}=G,ie=y0(G,["key","title","label","path"]);let le=oe!=null?oe:ne;return ae&&(le=s.createElement("a",{href:`${w}${ae}`},le)),Object.assign(Object.assign({},ie),{key:X!=null?X:H,label:le})})})}else y&&(z.overlay=y);return s.createElement(Tf,Object.assign({placement:"bottom"},z),s.createElement("span",{className:`${t}-overlay-link`},L,s.createElement($u.Z,null)))}return L})(o);return D!=null?s.createElement(s.Fragment,null,s.createElement("li",null,D),a&&s.createElement(m0,null,a)):null},Qv=e=>{const{prefixCls:t,children:a,href:o}=e,f=y0(e,["prefixCls","children","href"]),{getPrefixCls:y}=s.useContext(ye.E_),C=y("breadcrumb",t);return s.createElement(Hm,Object.assign({},f,{prefixCls:C}),Jv(C,f,a,o))};Qv.__ANT_BREADCRUMB_ITEM=!0;var ey=Qv;const ty=e=>{const{componentCls:t,iconCls:a,calc:o}=e;return{[t]:Object.assign(Object.assign({},(0,Jt.Wf)(e)),{color:e.itemColor,fontSize:e.fontSize,[a]:{fontSize:e.iconFontSize},ol:{display:"flex",flexWrap:"wrap",margin:0,padding:0,listStyle:"none"},a:Object.assign({color:e.linkColor,transition:`color ${e.motionDurationMid}`,padding:`0 ${(0,he.bf)(e.paddingXXS)}`,borderRadius:e.borderRadiusSM,height:e.fontHeight,display:"inline-block",marginInline:o(e.marginXXS).mul(-1).equal(),"&:hover":{color:e.linkHoverColor,backgroundColor:e.colorBgTextHover}},(0,Jt.Qy)(e)),"li:last-child":{color:e.lastItemColor},[`${t}-separator`]:{marginInline:e.separatorMargin,color:e.separatorColor},[`${t}-link`]:{[`
          > ${a} + span,
          > ${a} + a
        `]:{marginInlineStart:e.marginXXS}},[`${t}-overlay-link`]:{borderRadius:e.borderRadiusSM,height:e.fontHeight,display:"inline-block",padding:`0 ${(0,he.bf)(e.paddingXXS)}`,marginInline:o(e.marginXXS).mul(-1).equal(),[`> ${a}`]:{marginInlineStart:e.marginXXS,fontSize:e.fontSizeIcon},"&:hover":{color:e.linkHoverColor,backgroundColor:e.colorBgTextHover,a:{color:e.linkHoverColor}},a:{"&:hover":{backgroundColor:"transparent"}}},[`&${e.componentCls}-rtl`]:{direction:"rtl"}})}},mb=e=>({itemColor:e.colorTextDescription,lastItemColor:e.colorText,iconFontSize:e.fontSize,linkColor:e.colorTextDescription,linkHoverColor:e.colorText,separatorColor:e.colorTextDescription,separatorMargin:e.marginXS});var hC=(0,te.I$)("Breadcrumb",e=>{const t=(0,Qr.IX)(e,{});return ty(t)},mb),ny=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a};function gb(e){const{breadcrumbName:t,children:a}=e,o=ny(e,["breadcrumbName","children"]),f=Object.assign({title:t},o);return a&&(f.menu={items:a.map(y=>{var{breadcrumbName:C}=y,w=ny(y,["breadcrumbName"]);return Object.assign(Object.assign({},w),{title:C})})}),f}function vb(e,t){return(0,s.useMemo)(()=>e||(t?t.map(gb):null),[e,t])}var yb=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a};const ry=(e,t)=>{if(t===void 0)return t;let a=(t||"").replace(/^\//,"");return Object.keys(e).forEach(o=>{a=a.replace(`:${o}`,e[o])}),a},_0=e=>{const{prefixCls:t,separator:a="/",style:o,className:f,rootClassName:y,routes:C,items:w,children:I,itemRender:D,params:L={}}=e,z=yb(e,["prefixCls","separator","style","className","rootClassName","routes","items","children","itemRender","params"]),{getPrefixCls:k,direction:Z,breadcrumb:j}=s.useContext(ye.E_);let G;const H=k("breadcrumb",t),[X,ne,oe]=hC(H),ae=vb(w,C),ie=v0(H,D);if(ae&&ae.length>0){const me=[],ge=w||C;G=ae.map((be,Ie)=>{const{path:Oe,key:Te,type:Ve,menu:De,overlay:Ue,onClick:ke,className:st,separator:ct,dropdownProps:Et}=be,It=ry(L,Oe);It!==void 0&&me.push(It);const Ct=Te!=null?Te:Ie;if(Ve==="separator")return s.createElement(m0,{key:Ct},ct);const mt={},bt=Ie===ae.length-1;De?mt.menu=De:Ue&&(mt.overlay=Ue);let{href:zt}=be;return me.length&&It!==void 0&&(zt=`#/${me.join("/")}`),s.createElement(Hm,Object.assign({key:Ct},mt,(0,ut.Z)(be,{data:!0,aria:!0}),{className:st,dropdownProps:Et,href:zt,separator:bt?"":a,onClick:ke,prefixCls:H}),ie(be,L,ge,me,zt))})}else if(I){const me=(0,Wl.Z)(I).length;G=(0,Wl.Z)(I).map((ge,be)=>{if(!ge)return ge;const Ie=be===me-1;return(0,bn.Tm)(ge,{separator:Ie?"":a,key:be})})}const le=q()(H,j==null?void 0:j.className,{[`${H}-rtl`]:Z==="rtl"},f,y,ne,oe),fe=Object.assign(Object.assign({},j==null?void 0:j.style),o);return X(s.createElement("nav",Object.assign({className:le,style:fe},z),s.createElement("ol",null,G)))};_0.Item=ey,_0.Separator=m0;var iy=_0,pC=iy,mC=F(16483),uu=F.n(mC),gC=F(92098),_b=F.n(gC),Pf=F(2845),Um=F.n(Pf),Wm=F(88777),b0=F.n(Wm),Gm=F(41466),bb=F.n(Gm),xb=F(79771),Cb=F.n(xb),Sb=F(30156),vC=F.n(Sb);uu().extend(vC()),uu().extend(Cb()),uu().extend(_b()),uu().extend(Um()),uu().extend(b0()),uu().extend(bb()),uu().extend(function(e,t){var a=t.prototype,o=a.format;a.format=function(y){var C=(y||"").replace("Wo","wo");return o.bind(this)(C)}});var yC={bn_BD:"bn-bd",by_BY:"be",en_GB:"en-gb",en_US:"en",fr_BE:"fr",fr_CA:"fr-ca",hy_AM:"hy-am",kmr_IQ:"ku",nl_BE:"nl-be",pt_BR:"pt-br",zh_CN:"zh-cn",zh_HK:"zh-hk",zh_TW:"zh-tw"},Of=function(t){var a=yC[t];return a||t.split("_")[0]},Km=function(){},wb={getNow:function(){var t=uu()();return typeof t.tz=="function"?t.tz():t},getFixedDate:function(t){return uu()(t,["YYYY-M-DD","YYYY-MM-DD"])},getEndDate:function(t){return t.endOf("month")},getWeekDay:function(t){var a=t.locale("en");return a.weekday()+a.localeData().firstDayOfWeek()},getYear:function(t){return t.year()},getMonth:function(t){return t.month()},getDate:function(t){return t.date()},getHour:function(t){return t.hour()},getMinute:function(t){return t.minute()},getSecond:function(t){return t.second()},getMillisecond:function(t){return t.millisecond()},addYear:function(t,a){return t.add(a,"year")},addMonth:function(t,a){return t.add(a,"month")},addDate:function(t,a){return t.add(a,"day")},setYear:function(t,a){return t.year(a)},setMonth:function(t,a){return t.month(a)},setDate:function(t,a){return t.date(a)},setHour:function(t,a){return t.hour(a)},setMinute:function(t,a){return t.minute(a)},setSecond:function(t,a){return t.second(a)},setMillisecond:function(t,a){return t.millisecond(a)},isAfter:function(t,a){return t.isAfter(a)},isValidate:function(t){return t.isValid()},locale:{getWeekFirstDay:function(t){return uu()().locale(Of(t)).localeData().firstDayOfWeek()},getWeekFirstDate:function(t,a){return a.locale(Of(t)).weekday(0)},getWeek:function(t,a){return a.locale(Of(t)).week()},getShortWeekDays:function(t){return uu()().locale(Of(t)).localeData().weekdaysMin()},getShortMonths:function(t){return uu()().locale(Of(t)).localeData().monthsShort()},format:function(t,a,o){return a.locale(Of(t)).format(o)},parse:function(t,a,o){for(var f=Of(t),y=0;y<o.length;y+=1){var C=o[y],w=a;if(C.includes("wo")||C.includes("Wo")){for(var I=w.split("-")[0],D=w.split("-")[1],L=uu()(I,"YYYY").startOf("year").locale(f),z=0;z<=52;z+=1){var k=L.add(z,"week");if(k.format("Wo")===D)return k}return Km(),null}var Z=uu()(w,C,!0).locale(f);if(Z.isValid())return Z}return a&&Km(),null}}},Eb=wb,$s=F(22217),hl=F(92076);function Ib(e,t){return e!==void 0?e:t?"bottomRight":"bottomLeft"}var Tb=s.createContext(null),Lu=Tb,Mb={bottomLeft:{points:["tl","bl"],offset:[0,4],overflow:{adjustX:1,adjustY:1}},bottomRight:{points:["tr","br"],offset:[0,4],overflow:{adjustX:1,adjustY:1}},topLeft:{points:["bl","tl"],offset:[0,-4],overflow:{adjustX:0,adjustY:1}},topRight:{points:["br","tr"],offset:[0,-4],overflow:{adjustX:0,adjustY:1}}};function Pb(e){var t=e.popupElement,a=e.popupStyle,o=e.popupClassName,f=e.popupAlign,y=e.transitionName,C=e.getPopupContainer,w=e.children,I=e.range,D=e.placement,L=e.builtinPlacements,z=L===void 0?Mb:L,k=e.direction,Z=e.visible,j=e.onClose,G=s.useContext(Lu),H=G.prefixCls,X="".concat(H,"-dropdown"),ne=Ib(D,k==="rtl");return s.createElement(uc.Z,{showAction:[],hideAction:["click"],popupPlacement:ne,builtinPlacements:z,prefixCls:X,popupTransitionName:y,popup:t,popupAlign:f,popupVisible:Z,popupClassName:q()(o,(0,pe.Z)((0,pe.Z)({},"".concat(X,"-range"),I),"".concat(X,"-rtl"),k==="rtl")),popupStyle:a,stretch:"minWidth",getPopupContainer:C,onPopupVisibleChange:function(ae){ae||j()}},w)}var Ob=Pb;function x0(e,t){for(var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"0",o=String(e);o.length<t;)o="".concat(a).concat(o);return o}function Rf(e){return e==null?[]:Array.isArray(e)?e:[e]}function qd(e,t,a){var o=(0,xe.Z)(e);return o[t]=a,o}function Xm(e,t){var a={},o=t||Object.keys(e);return o.forEach(function(f){e[f]!==void 0&&(a[f]=e[f])}),a}function oy(e,t,a){if(a)return a;switch(e){case"time":return t.fieldTimeFormat;case"datetime":return t.fieldDateTimeFormat;case"month":return t.fieldMonthFormat;case"year":return t.fieldYearFormat;case"quarter":return t.fieldQuarterFormat;case"week":return t.fieldWeekFormat;default:return t.fieldDateFormat}}function Rb(e,t,a){var o=a!==void 0?a:t[t.length-1],f=t.find(function(y){return e[y]});return o!==f?e[f]:void 0}function $b(e){return Xm(e,["placement","builtinPlacements","popupAlign","getPopupContainer","transitionName","direction"])}function ay(e,t,a,o){var f=s.useMemo(function(){return e||function(C,w){var I=C;return t&&w.type==="date"?t(I,w.today):a&&w.type==="month"?a(I,w.locale):w.originNode}},[e,a,t]),y=s.useCallback(function(C,w){return f(C,(0,Y.Z)((0,Y.Z)({},w),{},{range:o}))},[f,o]);return y}function Ab(e,t){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],o=s.useState([!1,!1]),f=(0,Re.Z)(o,2),y=f[0],C=f[1],w=function(L,z){C(function(k){return qd(k,z,L)})},I=s.useMemo(function(){return y.map(function(D,L){if(D)return!0;var z=e[L];return z?!!(!a[L]&&!z||z&&t(z,{activeIndex:L})):!1})},[e,y,t,a]);return[I,w]}function Db(e,t,a,o,f){var y="",C=[];return e&&C.push(f?"hh":"HH"),t&&C.push("mm"),a&&C.push("ss"),y=C.join(":"),o&&(y+=".SSS"),f&&(y+=" A"),y}function _C(e,t,a,o,f,y){var C=e.fieldDateTimeFormat,w=e.fieldDateFormat,I=e.fieldTimeFormat,D=e.fieldMonthFormat,L=e.fieldYearFormat,z=e.fieldWeekFormat,k=e.fieldQuarterFormat,Z=e.yearFormat,j=e.cellYearFormat,G=e.cellQuarterFormat,H=e.dayFormat,X=e.cellDateFormat,ne=Db(t,a,o,f,y);return(0,Y.Z)((0,Y.Z)({},e),{},{fieldDateTimeFormat:C||"YYYY-MM-DD ".concat(ne),fieldDateFormat:w||"YYYY-MM-DD",fieldTimeFormat:I||ne,fieldMonthFormat:D||"YYYY-MM",fieldYearFormat:L||"YYYY",fieldWeekFormat:z||"gggg-wo",fieldQuarterFormat:k||"YYYY-[Q]Q",yearFormat:Z||"YYYY",cellYearFormat:j||"YYYY",cellQuarterFormat:G||"[Q]Q",cellDateFormat:X||H||"D"})}function Lb(e,t){var a=t.showHour,o=t.showMinute,f=t.showSecond,y=t.showMillisecond,C=t.use12Hours;return s.useMemo(function(){return _C(e,a,o,f,y,C)},[e,a,o,f,y,C])}function Tp(e,t,a){return a!=null?a:t.some(function(o){return e.includes(o)})}var bC=["showNow","showHour","showMinute","showSecond","showMillisecond","use12Hours","hourStep","minuteStep","secondStep","millisecondStep","hideDisabledOptions","defaultValue","disabledHours","disabledMinutes","disabledSeconds","disabledMilliseconds","disabledTime","changeOnScroll","defaultOpenValue"];function xC(e){var t=Xm(e,bC),a=e.format,o=e.picker,f=null;return a&&(f=a,Array.isArray(f)&&(f=f[0]),f=(0,et.Z)(f)==="object"?f.format:f),o==="time"&&(t.format=f),[t,f]}function CC(e){return e&&typeof e=="string"}function C0(e,t,a,o){return[e,t,a,o].some(function(f){return f!==void 0})}function S0(e,t,a,o,f){var y=t,C=a,w=o;if(!e&&!y&&!C&&!w&&!f)y=!0,C=!0,w=!0;else if(e){var I,D,L,z=[y,C,w].some(function(j){return j===!1}),k=[y,C,w].some(function(j){return j===!0}),Z=z?!0:!k;y=(I=y)!==null&&I!==void 0?I:Z,C=(D=C)!==null&&D!==void 0?D:Z,w=(L=w)!==null&&L!==void 0?L:Z}return[y,C,w,f]}function sy(e){var t=e.showTime,a=xC(e),o=(0,Re.Z)(a,2),f=o[0],y=o[1],C=t&&(0,et.Z)(t)==="object"?t:{},w=(0,Y.Z)((0,Y.Z)({defaultOpenValue:C.defaultOpenValue||C.defaultValue},f),C),I=w.showMillisecond,D=w.showHour,L=w.showMinute,z=w.showSecond,k=C0(D,L,z,I),Z=S0(k,D,L,z,I),j=(0,Re.Z)(Z,3);return D=j[0],L=j[1],z=j[2],[w,(0,Y.Z)((0,Y.Z)({},w),{},{showHour:D,showMinute:L,showSecond:z,showMillisecond:I}),w.format,y]}function ly(e,t,a,o,f){var y=e==="time";if(e==="datetime"||y){for(var C=o,w=oy(e,f,null),I=w,D=[t,a],L=0;L<D.length;L+=1){var z=Rf(D[L])[0];if(CC(z)){I=z;break}}var k=C.showHour,Z=C.showMinute,j=C.showSecond,G=C.showMillisecond,H=C.use12Hours,X=Tp(I,["a","A","LT","LLL","LTS"],H),ne=C0(k,Z,j,G);ne||(k=Tp(I,["H","h","k","LT","LLL"]),Z=Tp(I,["m","LT","LLL"]),j=Tp(I,["s","LTS"]),G=Tp(I,["SSS"]));var oe=S0(ne,k,Z,j,G),ae=(0,Re.Z)(oe,3);k=ae[0],Z=ae[1],j=ae[2];var ie=t||Db(k,Z,j,G,X);return(0,Y.Z)((0,Y.Z)({},C),{},{format:ie,showHour:k,showMinute:Z,showSecond:j,showMillisecond:G,use12Hours:X})}return null}function zb(e,t,a){if(t===!1)return null;var o=t&&(0,et.Z)(t)==="object"?t:{};return o.clearIcon||a||s.createElement("span",{className:"".concat(e,"-clear-btn")})}var w0=7;function Jd(e,t,a){return!e&&!t||e===t?!0:!e||!t?!1:a()}function E0(e,t,a){return Jd(t,a,function(){var o=Math.floor(e.getYear(t)/10),f=Math.floor(e.getYear(a)/10);return o===f})}function $f(e,t,a){return Jd(t,a,function(){return e.getYear(t)===e.getYear(a)})}function cy(e,t){var a=Math.floor(e.getMonth(t)/3);return a+1}function uy(e,t,a){return Jd(t,a,function(){return $f(e,t,a)&&cy(e,t)===cy(e,a)})}function I0(e,t,a){return Jd(t,a,function(){return $f(e,t,a)&&e.getMonth(t)===e.getMonth(a)})}function dy(e,t,a){return Jd(t,a,function(){return $f(e,t,a)&&I0(e,t,a)&&e.getDate(t)===e.getDate(a)})}function Mp(e,t,a){return Jd(t,a,function(){return e.getHour(t)===e.getHour(a)&&e.getMinute(t)===e.getMinute(a)&&e.getSecond(t)===e.getSecond(a)})}function fy(e,t,a){return Jd(t,a,function(){return dy(e,t,a)&&Mp(e,t,a)&&e.getMillisecond(t)===e.getMillisecond(a)})}function Ym(e,t,a,o){return Jd(a,o,function(){var f=e.locale.getWeekFirstDate(t,a),y=e.locale.getWeekFirstDate(t,o);return $f(e,f,y)&&e.locale.getWeek(t,a)===e.locale.getWeek(t,o)})}function Gc(e,t,a,o,f){switch(f){case"date":return dy(e,a,o);case"week":return Ym(e,t.locale,a,o);case"month":return I0(e,a,o);case"quarter":return uy(e,a,o);case"year":return $f(e,a,o);case"decade":return E0(e,a,o);case"time":return Mp(e,a,o);default:return fy(e,a,o)}}function T0(e,t,a,o){return!t||!a||!o?!1:e.isAfter(o,t)&&e.isAfter(a,o)}function M0(e,t,a,o,f){return Gc(e,t,a,o,f)?!0:e.isAfter(a,o)}function SC(e,t,a){var o=t.locale.getWeekFirstDay(e),f=t.setDate(a,1),y=t.getWeekDay(f),C=t.addDate(f,o-y);return t.getMonth(C)===t.getMonth(a)&&t.getDate(C)>1&&(C=t.addDate(C,-7)),C}function Oc(e,t){var a=t.generateConfig,o=t.locale,f=t.format;return e?typeof f=="function"?f(e):a.locale.format(o.locale,e,f):""}function P0(e,t,a){var o=t,f=["getHour","getMinute","getSecond","getMillisecond"],y=["setHour","setMinute","setSecond","setMillisecond"];return y.forEach(function(C,w){a?o=e[C](o,e[f[w]](a)):o=e[C](o,0)}),o}function Nb(e,t,a,o,f){var y=(0,$s.zX)(function(C,w){return!!(a&&a(C,w)||o&&e.isAfter(o,C)&&!Gc(e,t,o,C,w.type)||f&&e.isAfter(C,f)&&!Gc(e,t,f,C,w.type))});return y}function wC(e,t,a){return s.useMemo(function(){var o=oy(e,t,a),f=Rf(o),y=f[0],C=(0,et.Z)(y)==="object"&&y.type==="mask"?y.format:null;return[f.map(function(w){return typeof w=="string"||typeof w=="function"?w:w.format}),C]},[e,t,a])}function Rc(e,t,a){return typeof e[0]=="function"||a?!0:t}function Qu(e,t,a,o){var f=(0,$s.zX)(function(y,C){var w=(0,Y.Z)({type:t},C);if(delete w.activeIndex,!e.isValidate(y)||a&&a(y,w))return!0;if((t==="date"||t==="time")&&o){var I,D=C&&C.activeIndex===1?"end":"start",L=((I=o.disabledTime)===null||I===void 0?void 0:I.call(o,y,D,{from:w.from}))||{},z=L.disabledHours,k=L.disabledMinutes,Z=L.disabledSeconds,j=L.disabledMilliseconds,G=o.disabledHours,H=o.disabledMinutes,X=o.disabledSeconds,ne=z||G,oe=k||H,ae=Z||X,ie=e.getHour(y),le=e.getMinute(y),fe=e.getSecond(y),me=e.getMillisecond(y);if(ne&&ne().includes(ie)||oe&&oe(ie).includes(le)||ae&&ae(ie,le).includes(fe)||j&&j(ie,le,fe).includes(me))return!0}return!1});return f}function Pp(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,a=s.useMemo(function(){var o=e&&Rf(e);return t&&o&&(o[1]=o[1]||o[0]),o},[e,t]);return a}function O0(e,t){var a=e.generateConfig,o=e.locale,f=e.picker,y=f===void 0?"date":f,C=e.prefixCls,w=C===void 0?"rc-picker":C,I=e.styles,D=I===void 0?{}:I,L=e.classNames,z=L===void 0?{}:L,k=e.order,Z=k===void 0?!0:k,j=e.components,G=j===void 0?{}:j,H=e.inputRender,X=e.allowClear,ne=e.clearIcon,oe=e.needConfirm,ae=e.multiple,ie=e.format,le=e.inputReadOnly,fe=e.disabledDate,me=e.minDate,ge=e.maxDate,be=e.showTime,Ie=e.value,Oe=e.defaultValue,Te=e.pickerValue,Ve=e.defaultPickerValue,De=Pp(Ie),Ue=Pp(Oe),ke=Pp(Te),st=Pp(Ve),ct=y==="date"&&be?"datetime":y,Et=ct==="time"||ct==="datetime",It=Et||ae,Ct=oe!=null?oe:Et,mt=sy(e),bt=(0,Re.Z)(mt,4),zt=bt[0],$t=bt[1],Ht=bt[2],Mt=bt[3],Cn=Lb(o,$t),Hn=s.useMemo(function(){return ly(ct,Ht,Mt,zt,Cn)},[ct,Ht,Mt,zt,Cn]),pn=s.useMemo(function(){return(0,Y.Z)((0,Y.Z)({},e),{},{prefixCls:w,locale:Cn,picker:y,styles:D,classNames:z,order:Z,components:(0,Y.Z)({input:H},G),clearIcon:zb(w,X,ne),showTime:Hn,value:De,defaultValue:Ue,pickerValue:ke,defaultPickerValue:st},t==null?void 0:t())},[e]),Dn=wC(ct,Cn,ie),Qt=(0,Re.Z)(Dn,2),Ft=Qt[0],kn=Qt[1],Pn=Rc(Ft,le,ae),Dr=Nb(a,o,fe,me,ge),br=Qu(a,y,Dr,Hn),or=s.useMemo(function(){return(0,Y.Z)((0,Y.Z)({},pn),{},{needConfirm:Ct,inputReadOnly:Pn,disabledDate:Dr})},[pn,Ct,Pn,Dr]);return[or,ct,It,Ft,kn,br]}function R0(e,t,a){var o=(0,$s.C8)(t,{value:e}),f=(0,Re.Z)(o,2),y=f[0],C=f[1],w=s.useRef(e),I=s.useRef(),D=function(){Ge.Z.cancel(I.current)},L=(0,$s.zX)(function(){C(w.current),a&&y!==w.current&&a(w.current)}),z=(0,$s.zX)(function(k,Z){D(),w.current=k,k||Z?L():I.current=(0,Ge.Z)(L)});return s.useEffect(function(){return D},[]),[y,z]}function Ih(e,t){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],o=arguments.length>3?arguments[3]:void 0,f=a.every(function(L){return L})?!1:e,y=R0(f,t||!1,o),C=(0,Re.Z)(y,2),w=C[0],I=C[1];function D(L){var z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};(!z.inherit||w)&&I(L,z.force)}return[w,D]}function Bb(e){var t=s.useRef();return s.useImperativeHandle(e,function(){var a;return{nativeElement:(a=t.current)===null||a===void 0?void 0:a.nativeElement,focus:function(f){var y;(y=t.current)===null||y===void 0||y.focus(f)},blur:function(){var f;(f=t.current)===null||f===void 0||f.blur()}}}),t}function Fb(e,t){return s.useMemo(function(){return e||(t?((0,lc.ZP)(!1,"`ranges` is deprecated. Please use `presets` instead."),Object.entries(t).map(function(a){var o=(0,Re.Z)(a,2),f=o[0],y=o[1];return{label:f,value:y}})):[])},[e,t])}function Th(e,t){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,o=s.useRef(t);o.current=t,(0,hl.o)(function(){if(e)o.current(e);else{var f=(0,Ge.Z)(function(){o.current(e)},a);return function(){Ge.Z.cancel(f)}}},[e])}function kb(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,o=s.useState(0),f=(0,Re.Z)(o,2),y=f[0],C=f[1],w=s.useState(!1),I=(0,Re.Z)(w,2),D=I[0],L=I[1],z=s.useRef([]),k=s.useRef(null),Z=s.useRef(null),j=function(ae){k.current=ae},G=function(ae){return k.current===ae},H=function(ae){L(ae)},X=function(ae){return ae&&(Z.current=ae),Z.current},ne=function(ae){var ie=z.current,le=new Set(ie.filter(function(me){return ae[me]||t[me]})),fe=ie[ie.length-1]===0?1:0;return le.size>=2||e[fe]?null:fe};return Th(D||a,function(){D||(z.current=[],j(null))}),s.useEffect(function(){D&&z.current.push(y)},[D,y]),[D,H,X,y,C,ne,z.current,j,G]}function EC(e,t,a,o,f,y){var C=a[a.length-1],w=function(D,L){var z=(0,Re.Z)(e,2),k=z[0],Z=z[1],j=(0,Y.Z)((0,Y.Z)({},L),{},{from:Rb(e,a)});return C===1&&t[0]&&k&&!Gc(o,f,k,D,j.type)&&o.isAfter(k,D)||C===0&&t[1]&&Z&&!Gc(o,f,Z,D,j.type)&&o.isAfter(D,Z)?!0:y==null?void 0:y(D,j)};return w}function Op(e,t,a,o){switch(t){case"date":case"week":return e.addMonth(a,o);case"month":case"quarter":return e.addYear(a,o);case"year":return e.addYear(a,o*10);case"decade":return e.addYear(a,o*100);default:return a}}var qm=[];function hy(e,t,a,o,f,y,C,w){var I=arguments.length>8&&arguments[8]!==void 0?arguments[8]:qm,D=arguments.length>9&&arguments[9]!==void 0?arguments[9]:qm,L=arguments.length>10&&arguments[10]!==void 0?arguments[10]:qm,z=arguments.length>11?arguments[11]:void 0,k=arguments.length>12?arguments[12]:void 0,Z=arguments.length>13?arguments[13]:void 0,j=C==="time",G=y||0,H=function(ke){var st=e.getNow();return j&&(st=P0(e,st)),I[ke]||a[ke]||st},X=(0,Re.Z)(D,2),ne=X[0],oe=X[1],ae=(0,$s.C8)(function(){return H(0)},{value:ne}),ie=(0,Re.Z)(ae,2),le=ie[0],fe=ie[1],me=(0,$s.C8)(function(){return H(1)},{value:oe}),ge=(0,Re.Z)(me,2),be=ge[0],Ie=ge[1],Oe=s.useMemo(function(){var Ue=[le,be][G];return j?Ue:P0(e,Ue,L[G])},[j,le,be,G,e,L]),Te=function(ke){var st=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"panel",ct=[fe,Ie][G];ct(ke);var Et=[le,be];Et[G]=ke,z&&(!Gc(e,t,le,Et[0],C)||!Gc(e,t,be,Et[1],C))&&z(Et,{source:st,range:G===1?"end":"start",mode:o})},Ve=function(ke,st){if(w){var ct={date:"month",week:"month",month:"year",quarter:"year"},Et=ct[C];if(Et&&!Gc(e,t,ke,st,Et))return Op(e,C,st,-1);if(C==="year"&&ke){var It=Math.floor(e.getYear(ke)/10),Ct=Math.floor(e.getYear(st)/10);if(It!==Ct)return Op(e,C,st,-1)}}return st},De=s.useRef(null);return(0,hl.Z)(function(){if(f&&!I[G]){var Ue=j?null:e.getNow();if(De.current!==null&&De.current!==G?Ue=[le,be][G^1]:a[G]?Ue=G===0?a[0]:Ve(a[0],a[1]):a[G^1]&&(Ue=a[G^1]),Ue){k&&e.isAfter(k,Ue)&&(Ue=k);var ke=w?Op(e,C,Ue,1):Ue;Z&&e.isAfter(ke,Z)&&(Ue=w?Op(e,C,Z,-1):Z),Te(Ue,"reset")}}},[f,G,a[G]]),s.useEffect(function(){f?De.current=G:De.current=null},[f,G]),(0,hl.Z)(function(){f&&I&&I[G]&&Te(I[G],"reset")},[f,G]),[Oe,Te]}function $0(e,t){var a=s.useRef(e),o=s.useState({}),f=(0,Re.Z)(o,2),y=f[1],C=function(D){return D&&t!==void 0?t:a.current},w=function(D){a.current=D,y({})};return[C,w,C(!0)]}var IC=[];function py(e,t,a){var o=function(C){return C.map(function(w){return Oc(w,{generateConfig:e,locale:t,format:a[0]})})},f=function(C,w){for(var I=Math.max(C.length,w.length),D=-1,L=0;L<I;L+=1){var z=C[L]||null,k=w[L]||null;if(z!==k&&!fy(e,z,k)){D=L;break}}return[D<0,D!==0]};return[o,f]}function Jm(e,t){return(0,xe.Z)(e).sort(function(a,o){return t.isAfter(a,o)?1:-1})}function my(e){var t=$0(e),a=(0,Re.Z)(t,2),o=a[0],f=a[1],y=(0,$s.zX)(function(){f(e)});return s.useEffect(function(){y()},[e]),[o,f]}function jb(e,t,a,o,f,y,C,w,I){var D=(0,$s.C8)(y,{value:C}),L=(0,Re.Z)(D,2),z=L[0],k=L[1],Z=z||IC,j=my(Z),G=(0,Re.Z)(j,2),H=G[0],X=G[1],ne=py(e,t,a),oe=(0,Re.Z)(ne,2),ae=oe[0],ie=oe[1],le=(0,$s.zX)(function(me){var ge=(0,xe.Z)(me);if(o)for(var be=0;be<2;be+=1)ge[be]=ge[be]||null;else f&&(ge=Jm(ge.filter(function(Ue){return Ue}),e));var Ie=ie(H(),ge),Oe=(0,Re.Z)(Ie,2),Te=Oe[0],Ve=Oe[1];if(!Te&&(X(ge),w)){var De=ae(ge);w(ge,De,{range:Ve?"end":"start"})}}),fe=function(){I&&I(H())};return[Z,k,H,le,fe]}function Zb(e,t,a,o,f,y,C,w,I,D){var L=e.generateConfig,z=e.locale,k=e.picker,Z=e.onChange,j=e.allowEmpty,G=e.order,H=y.some(function(Te){return Te})?!1:G,X=py(L,z,C),ne=(0,Re.Z)(X,2),oe=ne[0],ae=ne[1],ie=$0(t),le=(0,Re.Z)(ie,2),fe=le[0],me=le[1],ge=(0,$s.zX)(function(){me(t)});s.useEffect(function(){ge()},[t]);var be=(0,$s.zX)(function(Te){var Ve=Te===null,De=(0,xe.Z)(Te||fe());if(Ve)for(var Ue=Math.max(y.length,De.length),ke=0;ke<Ue;ke+=1)y[ke]||(De[ke]=null);H&&De[0]&&De[1]&&(De=Jm(De,L)),f(De);var st=De,ct=(0,Re.Z)(st,2),Et=ct[0],It=ct[1],Ct=!Et,mt=!It,bt=j?(!Ct||j[0])&&(!mt||j[1]):!0,zt=!G||Ct||mt||Gc(L,z,Et,It,k)||L.isAfter(It,Et),$t=(y[0]||!Et||!D(Et,{activeIndex:0}))&&(y[1]||!It||!D(It,{from:Et,activeIndex:1})),Ht=Ve||bt&&zt&&$t;if(Ht){a(De);var Mt=ae(De,t),Cn=(0,Re.Z)(Mt,1),Hn=Cn[0];Z&&!Hn&&Z(Ve&&De.every(function(pn){return!pn})?null:De,oe(De))}return Ht}),Ie=(0,$s.zX)(function(Te,Ve){var De=qd(fe(),Te,o()[Te]);me(De),Ve&&be()}),Oe=!w&&!I;return Th(!Oe,function(){Oe&&(be(),f(t),ge())},2),[Ie,be]}function Vb(e,t,a,o,f){return t!=="date"&&t!=="time"?!1:a!==void 0?a:o!==void 0?o:!f&&(e==="date"||e==="time")}function Hb(e,t,a,o,f,y){var C=e;function w(z,k,Z){var j=y[z](C),G=Z.find(function(oe){return oe.value===j});if(!G||G.disabled){var H=Z.filter(function(oe){return!oe.disabled}),X=(0,xe.Z)(H).reverse(),ne=X.find(function(oe){return oe.value<=j})||H[0];ne&&(j=ne.value,C=y[k](C,j))}return j}var I=w("getHour","setHour",t()),D=w("getMinute","setMinute",a(I)),L=w("getSecond","setSecond",o(I,D));return w("getMillisecond","setMillisecond",f(I,D,L)),C}function Kc(){return[]}function Af(e,t){for(var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,f=arguments.length>4&&arguments[4]!==void 0?arguments[4]:[],y=arguments.length>5&&arguments[5]!==void 0?arguments[5]:2,C=[],w=a>=1?a|0:1,I=e;I<=t;I+=w){var D=f.includes(I);(!D||!o)&&C.push({label:x0(I,y),value:I,disabled:D})}return C}function Df(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=arguments.length>2?arguments[2]:void 0,o=t||{},f=o.use12Hours,y=o.hourStep,C=y===void 0?1:y,w=o.minuteStep,I=w===void 0?1:w,D=o.secondStep,L=D===void 0?1:D,z=o.millisecondStep,k=z===void 0?100:z,Z=o.hideDisabledOptions,j=o.disabledTime,G=o.disabledHours,H=o.disabledMinutes,X=o.disabledSeconds,ne=s.useMemo(function(){return a||e.getNow()},[a,e]);if(0)var oe,ae,ie;var le=s.useCallback(function(It){var Ct=(j==null?void 0:j(It))||{};return[Ct.disabledHours||G||Kc,Ct.disabledMinutes||H||Kc,Ct.disabledSeconds||X||Kc,Ct.disabledMilliseconds||Kc]},[j,G,H,X]),fe=s.useMemo(function(){return le(ne)},[ne,le]),me=(0,Re.Z)(fe,4),ge=me[0],be=me[1],Ie=me[2],Oe=me[3],Te=s.useCallback(function(It,Ct,mt,bt){var zt=Af(0,23,C,Z,It()),$t=f?zt.map(function(Hn){return(0,Y.Z)((0,Y.Z)({},Hn),{},{label:x0(Hn.value%12||12,2)})}):zt,Ht=function(pn){return Af(0,59,I,Z,Ct(pn))},Mt=function(pn,Dn){return Af(0,59,L,Z,mt(pn,Dn))},Cn=function(pn,Dn,Qt){return Af(0,999,k,Z,bt(pn,Dn,Qt),3)};return[$t,Ht,Mt,Cn]},[Z,C,f,k,I,L]),Ve=s.useMemo(function(){return Te(ge,be,Ie,Oe)},[Te,ge,be,Ie,Oe]),De=(0,Re.Z)(Ve,4),Ue=De[0],ke=De[1],st=De[2],ct=De[3],Et=function(Ct,mt){var bt=function(){return Ue},zt=ke,$t=st,Ht=ct;if(mt){var Mt=le(mt),Cn=(0,Re.Z)(Mt,4),Hn=Cn[0],pn=Cn[1],Dn=Cn[2],Qt=Cn[3],Ft=Te(Hn,pn,Dn,Qt),kn=(0,Re.Z)(Ft,4),Pn=kn[0],Dr=kn[1],br=kn[2],or=kn[3];bt=function(){return Pn},zt=Dr,$t=br,Ht=or}var ar=Hb(Ct,bt,zt,$t,Ht,e);return ar};return[Et,Ue,ke,st,ct]}function gy(e){var t=e.mode,a=e.internalMode,o=e.renderExtraFooter,f=e.showNow,y=e.showTime,C=e.onSubmit,w=e.onNow,I=e.invalid,D=e.needConfirm,L=e.generateConfig,z=e.disabledDate,k=s.useContext(Lu),Z=k.prefixCls,j=k.locale,G=k.button,H=G===void 0?"button":G,X=L.getNow(),ne=Df(L,y,X),oe=(0,Re.Z)(ne,1),ae=oe[0],ie=o==null?void 0:o(t),le=z(X,{type:t}),fe=function(){if(!le){var Ve=ae(X);w(Ve)}},me="".concat(Z,"-now"),ge="".concat(me,"-btn"),be=f&&s.createElement("li",{className:me},s.createElement("a",{className:q()(ge,le&&"".concat(ge,"-disabled")),"aria-disabled":le,onClick:fe},a==="date"?j.today:j.now)),Ie=D&&s.createElement("li",{className:"".concat(Z,"-ok")},s.createElement(H,{disabled:I,onClick:C},j.ok)),Oe=(be||Ie)&&s.createElement("ul",{className:"".concat(Z,"-ranges")},be,Ie);return!ie&&!Oe?null:s.createElement("div",{className:"".concat(Z,"-footer")},ie&&s.createElement("div",{className:"".concat(Z,"-footer-extra")},ie),Oe)}function Qm(e,t,a){function o(f,y){var C=f.findIndex(function(I){return Gc(e,t,I,y,a)});if(C===-1)return[].concat((0,xe.Z)(f),[y]);var w=(0,xe.Z)(f);return w.splice(C,1),w}return o}var Mh=s.createContext(null);function eg(){return s.useContext(Mh)}function Ph(e,t){var a=e.prefixCls,o=e.generateConfig,f=e.locale,y=e.disabledDate,C=e.minDate,w=e.maxDate,I=e.cellRender,D=e.hoverValue,L=e.hoverRangeValue,z=e.onHover,k=e.values,Z=e.pickerValue,j=e.onSelect,G=e.prevIcon,H=e.nextIcon,X=e.superPrevIcon,ne=e.superNextIcon,oe=o.getNow(),ae={now:oe,values:k,pickerValue:Z,prefixCls:a,disabledDate:y,minDate:C,maxDate:w,cellRender:I,hoverValue:D,hoverRangeValue:L,onHover:z,locale:f,generateConfig:o,onSelect:j,panelType:t,prevIcon:G,nextIcon:H,superPrevIcon:X,superNextIcon:ne};return[ae,oe]}var Lf=s.createContext({});function Rp(e){for(var t=e.rowNum,a=e.colNum,o=e.baseDate,f=e.getCellDate,y=e.prefixColumn,C=e.rowClassName,w=e.titleFormat,I=e.getCellText,D=e.getCellClassName,L=e.headerCells,z=e.cellSelection,k=z===void 0?!0:z,Z=e.disabledDate,j=eg(),G=j.prefixCls,H=j.panelType,X=j.now,ne=j.disabledDate,oe=j.cellRender,ae=j.onHover,ie=j.hoverValue,le=j.hoverRangeValue,fe=j.generateConfig,me=j.values,ge=j.locale,be=j.onSelect,Ie=Z||ne,Oe="".concat(G,"-cell"),Te=s.useContext(Lf),Ve=Te.onCellDblClick,De=function(mt){return me.some(function(bt){return bt&&Gc(fe,ge,mt,bt,H)})},Ue=[],ke=0;ke<t;ke+=1){for(var st=[],ct=void 0,Et=function(){var mt=ke*a+It,bt=f(o,mt),zt=Ie==null?void 0:Ie(bt,{type:H});It===0&&(ct=bt,y&&st.push(y(ct)));var $t=!1,Ht=!1,Mt=!1;if(k&&le){var Cn=(0,Re.Z)(le,2),Hn=Cn[0],pn=Cn[1];$t=T0(fe,Hn,pn,bt),Ht=Gc(fe,ge,bt,Hn,H),Mt=Gc(fe,ge,bt,pn,H)}var Dn=w?Oc(bt,{locale:ge,format:w,generateConfig:fe}):void 0,Qt=s.createElement("div",{className:"".concat(Oe,"-inner")},I(bt));st.push(s.createElement("td",{key:It,title:Dn,className:q()(Oe,(0,Y.Z)((0,pe.Z)((0,pe.Z)((0,pe.Z)((0,pe.Z)((0,pe.Z)((0,pe.Z)({},"".concat(Oe,"-disabled"),zt),"".concat(Oe,"-hover"),(ie||[]).some(function(Ft){return Gc(fe,ge,bt,Ft,H)})),"".concat(Oe,"-in-range"),$t&&!Ht&&!Mt),"".concat(Oe,"-range-start"),Ht),"".concat(Oe,"-range-end"),Mt),"".concat(G,"-cell-selected"),!le&&H!=="week"&&De(bt)),D(bt))),onClick:function(){zt||be(bt)},onDoubleClick:function(){!zt&&Ve&&Ve()},onMouseEnter:function(){zt||ae==null||ae(bt)},onMouseLeave:function(){zt||ae==null||ae(null)}},oe?oe(bt,{prefixCls:G,originNode:Qt,today:X,type:H,locale:ge}):Qt))},It=0;It<a;It+=1)Et();Ue.push(s.createElement("tr",{key:ke,className:C==null?void 0:C(ct)},st))}return s.createElement("div",{className:"".concat(G,"-body")},s.createElement("table",{className:"".concat(G,"-content")},L&&s.createElement("thead",null,s.createElement("tr",null,L)),s.createElement("tbody",null,Ue)))}var tg={visibility:"hidden"};function vy(e){var t=e.offset,a=e.superOffset,o=e.onChange,f=e.getStart,y=e.getEnd,C=e.children,w=eg(),I=w.prefixCls,D=w.prevIcon,L=D===void 0?"\u2039":D,z=w.nextIcon,k=z===void 0?"\u203A":z,Z=w.superPrevIcon,j=Z===void 0?"\xAB":Z,G=w.superNextIcon,H=G===void 0?"\xBB":G,X=w.minDate,ne=w.maxDate,oe=w.generateConfig,ae=w.locale,ie=w.pickerValue,le=w.panelType,fe="".concat(I,"-header"),me=s.useContext(Lf),ge=me.hidePrev,be=me.hideNext,Ie=me.hideHeader,Oe=s.useMemo(function(){if(!X||!t||!y)return!1;var Ct=y(t(-1,ie));return!M0(oe,ae,Ct,X,le)},[X,t,ie,y,oe,ae,le]),Te=s.useMemo(function(){if(!X||!a||!y)return!1;var Ct=y(a(-1,ie));return!M0(oe,ae,Ct,X,le)},[X,a,ie,y,oe,ae,le]),Ve=s.useMemo(function(){if(!ne||!t||!f)return!1;var Ct=f(t(1,ie));return!M0(oe,ae,ne,Ct,le)},[ne,t,ie,f,oe,ae,le]),De=s.useMemo(function(){if(!ne||!a||!f)return!1;var Ct=f(a(1,ie));return!M0(oe,ae,ne,Ct,le)},[ne,a,ie,f,oe,ae,le]),Ue=function(mt){t&&o(t(mt,ie))},ke=function(mt){a&&o(a(mt,ie))};if(Ie)return null;var st="".concat(fe,"-prev-btn"),ct="".concat(fe,"-next-btn"),Et="".concat(fe,"-super-prev-btn"),It="".concat(fe,"-super-next-btn");return s.createElement("div",{className:fe},a&&s.createElement("button",{type:"button","aria-label":ae.previousYear,onClick:function(){return ke(-1)},tabIndex:-1,className:q()(Et,Te&&"".concat(Et,"-disabled")),disabled:Te,style:ge?tg:{}},j),t&&s.createElement("button",{type:"button","aria-label":ae.previousMonth,onClick:function(){return Ue(-1)},tabIndex:-1,className:q()(st,Oe&&"".concat(st,"-disabled")),disabled:Oe,style:ge?tg:{}},L),s.createElement("div",{className:"".concat(fe,"-view")},C),t&&s.createElement("button",{type:"button","aria-label":ae.nextMonth,onClick:function(){return Ue(1)},tabIndex:-1,className:q()(ct,Ve&&"".concat(ct,"-disabled")),disabled:Ve,style:be?tg:{}},k),a&&s.createElement("button",{type:"button","aria-label":ae.nextYear,onClick:function(){return ke(1)},tabIndex:-1,className:q()(It,De&&"".concat(It,"-disabled")),disabled:De,style:be?tg:{}},H))}var Oh=vy;function A0(e){var t=e.prefixCls,a=e.panelName,o=a===void 0?"date":a,f=e.locale,y=e.generateConfig,C=e.pickerValue,w=e.onPickerValueChange,I=e.onModeChange,D=e.mode,L=D===void 0?"date":D,z=e.disabledDate,k=e.onSelect,Z=e.onHover,j=e.showWeek,G="".concat(t,"-").concat(o,"-panel"),H="".concat(t,"-cell"),X=L==="week",ne=Ph(e,L),oe=(0,Re.Z)(ne,2),ae=oe[0],ie=oe[1],le=y.locale.getWeekFirstDay(f.locale),fe=y.setDate(C,1),me=SC(f.locale,y,fe),ge=y.getMonth(C),be=j===void 0?X:j,Ie=be?function(Ct){var mt=z==null?void 0:z(Ct,{type:"week"});return s.createElement("td",{key:"week",className:q()(H,"".concat(H,"-week"),(0,pe.Z)({},"".concat(H,"-disabled"),mt)),onClick:function(){mt||k(Ct)},onMouseEnter:function(){mt||Z==null||Z(Ct)},onMouseLeave:function(){mt||Z==null||Z(null)}},s.createElement("div",{className:"".concat(H,"-inner")},y.locale.getWeek(f.locale,Ct)))}:null,Oe=[],Te=f.shortWeekDays||(y.locale.getShortWeekDays?y.locale.getShortWeekDays(f.locale):[]);Ie&&Oe.push(s.createElement("th",{key:"empty"},s.createElement("span",{style:{width:0,height:0,position:"absolute",overflow:"hidden",opacity:0}},f.week)));for(var Ve=0;Ve<w0;Ve+=1)Oe.push(s.createElement("th",{key:Ve},Te[(Ve+le)%w0]));var De=function(mt,bt){return y.addDate(mt,bt)},Ue=function(mt){return Oc(mt,{locale:f,format:f.cellDateFormat,generateConfig:y})},ke=function(mt){var bt=(0,pe.Z)((0,pe.Z)({},"".concat(t,"-cell-in-view"),I0(y,mt,C)),"".concat(t,"-cell-today"),dy(y,mt,ie));return bt},st=f.shortMonths||(y.locale.getShortMonths?y.locale.getShortMonths(f.locale):[]),ct=s.createElement("button",{type:"button","aria-label":f.yearSelect,key:"year",onClick:function(){I("year",C)},tabIndex:-1,className:"".concat(t,"-year-btn")},Oc(C,{locale:f,format:f.yearFormat,generateConfig:y})),Et=s.createElement("button",{type:"button","aria-label":f.monthSelect,key:"month",onClick:function(){I("month",C)},tabIndex:-1,className:"".concat(t,"-month-btn")},f.monthFormat?Oc(C,{locale:f,format:f.monthFormat,generateConfig:y}):st[ge]),It=f.monthBeforeYear?[Et,ct]:[ct,Et];return s.createElement(Mh.Provider,{value:ae},s.createElement("div",{className:q()(G,j&&"".concat(G,"-show-week"))},s.createElement(Oh,{offset:function(mt){return y.addMonth(C,mt)},superOffset:function(mt){return y.addYear(C,mt)},onChange:w,getStart:function(mt){return y.setDate(mt,1)},getEnd:function(mt){var bt=y.setDate(mt,1);return bt=y.addMonth(bt,1),y.addDate(bt,-1)}},It),s.createElement(Rp,(0,We.Z)({titleFormat:f.fieldDateFormat},e,{colNum:w0,rowNum:6,baseDate:me,headerCells:Oe,getCellDate:De,getCellText:Ue,getCellClassName:ke,prefixColumn:Ie,cellSelection:!X}))))}var yy=F(60900),Qd=1/3;function Ub(e,t){var a=s.useRef(!1),o=s.useRef(null),f=s.useRef(null),y=function(){return a.current},C=function(){Ge.Z.cancel(o.current),a.current=!1},w=s.useRef(),I=function(){var z=e.current;if(f.current=null,w.current=0,z){var k=z.querySelector('[data-value="'.concat(t,'"]')),Z=z.querySelector("li"),j=function G(){C(),a.current=!0,w.current+=1;var H=z.scrollTop,X=Z.offsetTop,ne=k.offsetTop,oe=ne-X;if(ne===0&&k!==Z||!(0,yy.Z)(z)){w.current<=5&&(o.current=(0,Ge.Z)(G));return}var ae=H+(oe-H)*Qd,ie=Math.abs(oe-ae);if(f.current!==null&&f.current<ie){C();return}if(f.current=ie,ie<=1){z.scrollTop=oe,C();return}z.scrollTop=ae,o.current=(0,Ge.Z)(G)};k&&Z&&j()}},D=(0,$s.zX)(I);return[D,C,y]}var Wb=300;function Gb(e){return e.map(function(t){var a=t.value,o=t.label,f=t.disabled;return[a,o,f].join(",")}).join(";")}function $p(e){var t=e.units,a=e.value,o=e.optionalValue,f=e.type,y=e.onChange,C=e.onHover,w=e.onDblClick,I=e.changeOnScroll,D=eg(),L=D.prefixCls,z=D.cellRender,k=D.now,Z=D.locale,j="".concat(L,"-time-panel"),G="".concat(L,"-time-panel-cell"),H=s.useRef(null),X=s.useRef(),ne=function(){clearTimeout(X.current)},oe=Ub(H,a!=null?a:o),ae=(0,Re.Z)(oe,3),ie=ae[0],le=ae[1],fe=ae[2];(0,hl.Z)(function(){return ie(),ne(),function(){le(),ne()}},[a,o,Gb(t)]);var me=function(Ie){ne();var Oe=Ie.target;!fe()&&I&&(X.current=setTimeout(function(){var Te=H.current,Ve=Te.querySelector("li").offsetTop,De=Array.from(Te.querySelectorAll("li")),Ue=De.map(function(It){return It.offsetTop-Ve}),ke=Ue.map(function(It,Ct){return t[Ct].disabled?Number.MAX_SAFE_INTEGER:Math.abs(It-Oe.scrollTop)}),st=Math.min.apply(Math,(0,xe.Z)(ke)),ct=ke.findIndex(function(It){return It===st}),Et=t[ct];Et&&!Et.disabled&&y(Et.value)},Wb))},ge="".concat(j,"-column");return s.createElement("ul",{className:ge,ref:H,"data-type":f,onScroll:me},t.map(function(be){var Ie=be.label,Oe=be.value,Te=be.disabled,Ve=s.createElement("div",{className:"".concat(G,"-inner")},Ie);return s.createElement("li",{key:Oe,className:q()(G,(0,pe.Z)((0,pe.Z)({},"".concat(G,"-selected"),a===Oe),"".concat(G,"-disabled"),Te)),onClick:function(){Te||y(Oe)},onDoubleClick:function(){!Te&&w&&w()},onMouseEnter:function(){C(Oe)},onMouseLeave:function(){C(null)},"data-value":Oe},z?z(Oe,{prefixCls:L,originNode:Ve,today:k,type:"time",subType:f,locale:Z}):Ve)}))}function zf(e){return e<12}function TC(e){var t=e.showHour,a=e.showMinute,o=e.showSecond,f=e.showMillisecond,y=e.use12Hours,C=e.changeOnScroll,w=eg(),I=w.prefixCls,D=w.values,L=w.generateConfig,z=w.locale,k=w.onSelect,Z=w.onHover,j=Z===void 0?function(){}:Z,G=w.pickerValue,H=(D==null?void 0:D[0])||null,X=s.useContext(Lf),ne=X.onCellDblClick,oe=Df(L,e,H),ae=(0,Re.Z)(oe,5),ie=ae[0],le=ae[1],fe=ae[2],me=ae[3],ge=ae[4],be=function(pi){var ji=H&&L[pi](H),go=G&&L[pi](G);return[ji,go]},Ie=be("getHour"),Oe=(0,Re.Z)(Ie,2),Te=Oe[0],Ve=Oe[1],De=be("getMinute"),Ue=(0,Re.Z)(De,2),ke=Ue[0],st=Ue[1],ct=be("getSecond"),Et=(0,Re.Z)(ct,2),It=Et[0],Ct=Et[1],mt=be("getMillisecond"),bt=(0,Re.Z)(mt,2),zt=bt[0],$t=bt[1],Ht=Te===null?null:zf(Te)?"am":"pm",Mt=s.useMemo(function(){return y?zf(Te)?le.filter(function(qn){return zf(qn.value)}):le.filter(function(qn){return!zf(qn.value)}):le},[Te,le,y]),Cn=function(pi,ji){var go,ra=pi.filter(function(Aa){return!Aa.disabled});return ji!=null?ji:ra==null||(go=ra[0])===null||go===void 0?void 0:go.value},Hn=Cn(le,Te),pn=s.useMemo(function(){return fe(Hn)},[fe,Hn]),Dn=Cn(pn,ke),Qt=s.useMemo(function(){return me(Hn,Dn)},[me,Hn,Dn]),Ft=Cn(Qt,It),kn=s.useMemo(function(){return ge(Hn,Dn,Ft)},[ge,Hn,Dn,Ft]),Pn=Cn(kn,zt),Dr=s.useMemo(function(){if(!y)return[];var qn=L.getNow(),pi=L.setHour(qn,6),ji=L.setHour(qn,18),go=function(Aa,oa){var Cs=z.cellMeridiemFormat;return Cs?Oc(Aa,{generateConfig:L,locale:z,format:Cs}):oa};return[{label:go(pi,"AM"),value:"am",disabled:le.every(function(ra){return ra.disabled||!zf(ra.value)})},{label:go(ji,"PM"),value:"pm",disabled:le.every(function(ra){return ra.disabled||zf(ra.value)})}]},[le,y,L,z]),br=function(pi){var ji=ie(pi);k(ji)},or=s.useMemo(function(){var qn=H||G||L.getNow(),pi=function(go){return go!=null};return pi(Te)?(qn=L.setHour(qn,Te),qn=L.setMinute(qn,ke),qn=L.setSecond(qn,It),qn=L.setMillisecond(qn,zt)):pi(Ve)?(qn=L.setHour(qn,Ve),qn=L.setMinute(qn,st),qn=L.setSecond(qn,Ct),qn=L.setMillisecond(qn,$t)):pi(Hn)&&(qn=L.setHour(qn,Hn),qn=L.setMinute(qn,Dn),qn=L.setSecond(qn,Ft),qn=L.setMillisecond(qn,Pn)),qn},[H,G,Te,ke,It,zt,Hn,Dn,Ft,Pn,Ve,st,Ct,$t,L]),ar=function(pi,ji){return pi===null?null:L[ji](or,pi)},Fn=function(pi){return ar(pi,"setHour")},sr=function(pi){return ar(pi,"setMinute")},Gr=function(pi){return ar(pi,"setSecond")},yi=function(pi){return ar(pi,"setMillisecond")},Di=function(pi){return pi===null?null:pi==="am"&&!zf(Te)?L.setHour(or,Te-12):pi==="pm"&&zf(Te)?L.setHour(or,Te+12):or},Ui=function(pi){br(Fn(pi))},$o=function(pi){br(sr(pi))},Ri=function(pi){br(Gr(pi))},mi=function(pi){br(yi(pi))},Pi=function(pi){br(Di(pi))},ao=function(pi){j(Fn(pi))},ki=function(pi){j(sr(pi))},Ao=function(pi){j(Gr(pi))},Cr=function(pi){j(yi(pi))},ur=function(pi){j(Di(pi))},Tr={onDblClick:ne,changeOnScroll:C};return s.createElement("div",{className:"".concat(I,"-content")},t&&s.createElement($p,(0,We.Z)({units:Mt,value:Te,optionalValue:Ve,type:"hour",onChange:Ui,onHover:ao},Tr)),a&&s.createElement($p,(0,We.Z)({units:pn,value:ke,optionalValue:st,type:"minute",onChange:$o,onHover:ki},Tr)),o&&s.createElement($p,(0,We.Z)({units:Qt,value:It,optionalValue:Ct,type:"second",onChange:Ri,onHover:Ao},Tr)),f&&s.createElement($p,(0,We.Z)({units:kn,value:zt,optionalValue:$t,type:"millisecond",onChange:mi,onHover:Cr},Tr)),y&&s.createElement($p,(0,We.Z)({units:Dr,value:Ht,type:"meridiem",onChange:Pi,onHover:ur},Tr)))}function _y(e){var t=e.prefixCls,a=e.value,o=e.locale,f=e.generateConfig,y=e.showTime,C=y||{},w=C.format,I="".concat(t,"-time-panel"),D=Ph(e,"time"),L=(0,Re.Z)(D,1),z=L[0];return s.createElement(Mh.Provider,{value:z},s.createElement("div",{className:q()(I)},s.createElement(Oh,null,a?Oc(a,{locale:o,format:w,generateConfig:f}):"\xA0"),s.createElement(TC,y)))}function Kb(e){var t=e.prefixCls,a=e.generateConfig,o=e.showTime,f=e.onSelect,y=e.value,C=e.pickerValue,w=e.onHover,I="".concat(t,"-datetime-panel"),D=Df(a,o),L=(0,Re.Z)(D,1),z=L[0],k=function(H){return y?P0(a,H,y):P0(a,H,C)},Z=function(H){w==null||w(H&&k(H))},j=function(H){var X=k(H);f(z(X,X))};return s.createElement("div",{className:I},s.createElement(A0,(0,We.Z)({},e,{onSelect:j,onHover:Z})),s.createElement(_y,e))}function Xb(e){var t=e.prefixCls,a=e.locale,o=e.generateConfig,f=e.pickerValue,y=e.disabledDate,C=e.onPickerValueChange,w="".concat(t,"-decade-panel"),I=Ph(e,"decade"),D=(0,Re.Z)(I,1),L=D[0],z=function(le){var fe=Math.floor(o.getYear(le)/100)*100;return o.setYear(le,fe)},k=function(le){var fe=z(le);return o.addYear(fe,99)},Z=z(f),j=k(f),G=o.addYear(Z,-10),H=function(le,fe){return o.addYear(le,fe*10)},X=function(le){var fe=a.cellYearFormat,me=Oc(le,{locale:a,format:fe,generateConfig:o}),ge=Oc(o.addYear(le,9),{locale:a,format:fe,generateConfig:o});return"".concat(me,"-").concat(ge)},ne=function(le){return(0,pe.Z)({},"".concat(t,"-cell-in-view"),E0(o,le,Z)||E0(o,le,j)||T0(o,Z,j,le))},oe=y?function(ie,le){var fe=o.setDate(ie,1),me=o.setMonth(fe,0),ge=o.setYear(me,Math.floor(o.getYear(me)/10)*10),be=o.addYear(ge,10),Ie=o.addDate(be,-1);return y(ge,le)&&y(Ie,le)}:null,ae="".concat(Oc(Z,{locale:a,format:a.yearFormat,generateConfig:o}),"-").concat(Oc(j,{locale:a,format:a.yearFormat,generateConfig:o}));return s.createElement(Mh.Provider,{value:L},s.createElement("div",{className:w},s.createElement(Oh,{superOffset:function(le){return o.addYear(f,le*100)},onChange:C,getStart:z,getEnd:k},ae),s.createElement(Rp,(0,We.Z)({},e,{disabledDate:oe,colNum:3,rowNum:4,baseDate:G,getCellDate:H,getCellText:X,getCellClassName:ne}))))}function ng(e){var t=e.prefixCls,a=e.locale,o=e.generateConfig,f=e.pickerValue,y=e.disabledDate,C=e.onPickerValueChange,w=e.onModeChange,I="".concat(t,"-month-panel"),D=Ph(e,"month"),L=(0,Re.Z)(D,1),z=L[0],k=o.setMonth(f,0),Z=a.shortMonths||(o.locale.getShortMonths?o.locale.getShortMonths(a.locale):[]),j=function(ae,ie){return o.addMonth(ae,ie)},G=function(ae){var ie=o.getMonth(ae);return a.monthFormat?Oc(ae,{locale:a,format:a.monthFormat,generateConfig:o}):Z[ie]},H=function(){return(0,pe.Z)({},"".concat(t,"-cell-in-view"),!0)},X=y?function(oe,ae){var ie=o.setDate(oe,1),le=o.setMonth(ie,o.getMonth(ie)+1),fe=o.addDate(le,-1);return y(ie,ae)&&y(fe,ae)}:null,ne=s.createElement("button",{type:"button",key:"year","aria-label":a.yearSelect,onClick:function(){w("year")},tabIndex:-1,className:"".concat(t,"-year-btn")},Oc(f,{locale:a,format:a.yearFormat,generateConfig:o}));return s.createElement(Mh.Provider,{value:z},s.createElement("div",{className:I},s.createElement(Oh,{superOffset:function(ae){return o.addYear(f,ae)},onChange:C,getStart:function(ae){return o.setMonth(ae,0)},getEnd:function(ae){return o.setMonth(ae,11)}},ne),s.createElement(Rp,(0,We.Z)({},e,{disabledDate:X,titleFormat:a.fieldMonthFormat,colNum:3,rowNum:4,baseDate:k,getCellDate:j,getCellText:G,getCellClassName:H}))))}function rg(e){var t=e.prefixCls,a=e.locale,o=e.generateConfig,f=e.pickerValue,y=e.onPickerValueChange,C=e.onModeChange,w="".concat(t,"-quarter-panel"),I=Ph(e,"quarter"),D=(0,Re.Z)(I,1),L=D[0],z=o.setMonth(f,0),k=function(X,ne){return o.addMonth(X,ne*3)},Z=function(X){return Oc(X,{locale:a,format:a.cellQuarterFormat,generateConfig:o})},j=function(){return(0,pe.Z)({},"".concat(t,"-cell-in-view"),!0)},G=s.createElement("button",{type:"button",key:"year","aria-label":a.yearSelect,onClick:function(){C("year")},tabIndex:-1,className:"".concat(t,"-year-btn")},Oc(f,{locale:a,format:a.yearFormat,generateConfig:o}));return s.createElement(Mh.Provider,{value:L},s.createElement("div",{className:w},s.createElement(Oh,{superOffset:function(X){return o.addYear(f,X)},onChange:y,getStart:function(X){return o.setMonth(X,0)},getEnd:function(X){return o.setMonth(X,11)}},G),s.createElement(Rp,(0,We.Z)({},e,{titleFormat:a.fieldQuarterFormat,colNum:4,rowNum:1,baseDate:z,getCellDate:k,getCellText:Z,getCellClassName:j}))))}function Yb(e){var t=e.prefixCls,a=e.generateConfig,o=e.locale,f=e.value,y=e.hoverValue,C=e.hoverRangeValue,w=o.locale,I="".concat(t,"-week-panel-row"),D=function(z){var k={};if(C){var Z=(0,Re.Z)(C,2),j=Z[0],G=Z[1],H=Ym(a,w,j,z),X=Ym(a,w,G,z);k["".concat(I,"-range-start")]=H,k["".concat(I,"-range-end")]=X,k["".concat(I,"-range-hover")]=!H&&!X&&T0(a,j,G,z)}return y&&(k["".concat(I,"-hover")]=y.some(function(ne){return Ym(a,w,z,ne)})),q()(I,(0,pe.Z)({},"".concat(I,"-selected"),!C&&Ym(a,w,f,z)),k)};return s.createElement(A0,(0,We.Z)({},e,{mode:"week",panelName:"week",rowClassName:D}))}function ig(e){var t=e.prefixCls,a=e.locale,o=e.generateConfig,f=e.pickerValue,y=e.disabledDate,C=e.onPickerValueChange,w=e.onModeChange,I="".concat(t,"-year-panel"),D=Ph(e,"year"),L=(0,Re.Z)(D,1),z=L[0],k=function(fe){var me=Math.floor(o.getYear(fe)/10)*10;return o.setYear(fe,me)},Z=function(fe){var me=k(fe);return o.addYear(me,9)},j=k(f),G=Z(f),H=o.addYear(j,-1),X=function(fe,me){return o.addYear(fe,me)},ne=function(fe){return Oc(fe,{locale:a,format:a.cellYearFormat,generateConfig:o})},oe=function(fe){return(0,pe.Z)({},"".concat(t,"-cell-in-view"),$f(o,fe,j)||$f(o,fe,G)||T0(o,j,G,fe))},ae=y?function(le,fe){var me=o.setMonth(le,0),ge=o.setDate(me,1),be=o.addYear(ge,1),Ie=o.addDate(be,-1);return y(ge,fe)&&y(Ie,fe)}:null,ie=s.createElement("button",{type:"button",key:"decade","aria-label":a.decadeSelect,onClick:function(){w("decade")},tabIndex:-1,className:"".concat(t,"-decade-btn")},Oc(j,{locale:a,format:a.yearFormat,generateConfig:o}),"-",Oc(G,{locale:a,format:a.yearFormat,generateConfig:o}));return s.createElement(Mh.Provider,{value:z},s.createElement("div",{className:I},s.createElement(Oh,{superOffset:function(fe){return o.addYear(f,fe*10)},onChange:C,getStart:k,getEnd:Z},ie),s.createElement(Rp,(0,We.Z)({},e,{disabledDate:ae,titleFormat:a.fieldYearFormat,colNum:3,rowNum:4,baseDate:H,getCellDate:X,getCellText:ne,getCellClassName:oe}))))}var qb={date:A0,datetime:Kb,week:Yb,month:ng,quarter:rg,year:ig,decade:Xb,time:_y};function Jb(e,t){var a,o=e.locale,f=e.generateConfig,y=e.direction,C=e.prefixCls,w=e.tabIndex,I=w===void 0?0:w,D=e.multiple,L=e.defaultValue,z=e.value,k=e.onChange,Z=e.onSelect,j=e.defaultPickerValue,G=e.pickerValue,H=e.onPickerValueChange,X=e.mode,ne=e.onPanelChange,oe=e.picker,ae=oe===void 0?"date":oe,ie=e.showTime,le=e.hoverValue,fe=e.hoverRangeValue,me=e.cellRender,ge=e.dateRender,be=e.monthCellRender,Ie=e.components,Oe=Ie===void 0?{}:Ie,Te=e.hideHeader,Ve=((a=s.useContext(Lu))===null||a===void 0?void 0:a.prefixCls)||C||"rc-picker",De=s.useRef();s.useImperativeHandle(t,function(){return{nativeElement:De.current}});var Ue=sy(e),ke=(0,Re.Z)(Ue,4),st=ke[0],ct=ke[1],Et=ke[2],It=ke[3],Ct=Lb(o,ct),mt=ae==="date"&&ie?"datetime":ae,bt=s.useMemo(function(){return ly(mt,Et,It,st,Ct)},[mt,Et,It,st,Ct]),zt=f.getNow(),$t=(0,$s.C8)(ae,{value:X,postState:function(ur){return ur||"date"}}),Ht=(0,Re.Z)($t,2),Mt=Ht[0],Cn=Ht[1],Hn=Mt==="date"&&bt?"datetime":Mt,pn=Qm(f,o,mt),Dn=(0,$s.C8)(L,{value:z}),Qt=(0,Re.Z)(Dn,2),Ft=Qt[0],kn=Qt[1],Pn=s.useMemo(function(){var Cr=Rf(Ft).filter(function(ur){return ur});return D?Cr:Cr.slice(0,1)},[Ft,D]),Dr=(0,$s.zX)(function(Cr){kn(Cr),k&&(Cr===null||Pn.length!==Cr.length||Pn.some(function(ur,Tr){return!Gc(f,o,ur,Cr[Tr],mt)}))&&(k==null||k(D?Cr:Cr[0]))}),br=(0,$s.zX)(function(Cr){if(Z==null||Z(Cr),Mt===ae){var ur=D?pn(Pn,Cr):[Cr];Dr(ur)}}),or=(0,$s.C8)(j||Pn[0]||zt,{value:G}),ar=(0,Re.Z)(or,2),Fn=ar[0],sr=ar[1];s.useEffect(function(){Pn[0]&&!G&&sr(Pn[0])},[Pn[0]]);var Gr=function(ur,Tr){ne==null||ne(ur||G,Tr||Mt)},yi=function(ur){var Tr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;sr(ur),H==null||H(ur),Tr&&Gr(ur)},Di=function(ur,Tr){Cn(ur),Tr&&yi(Tr),Gr(Tr,ur)},Ui=function(ur){if(br(ur),yi(ur),Mt!==ae){var Tr=["decade","year"],qn=[].concat(Tr,["month"]),pi={quarter:[].concat(Tr,["quarter"]),week:[].concat((0,xe.Z)(qn),["week"]),date:[].concat((0,xe.Z)(qn),["date"])},ji=pi[ae]||qn,go=ji.indexOf(Mt),ra=ji[go+1];ra&&Di(ra,ur)}},$o=s.useMemo(function(){var Cr,ur;if(Array.isArray(fe)){var Tr=(0,Re.Z)(fe,2);Cr=Tr[0],ur=Tr[1]}else Cr=fe;return!Cr&&!ur?null:(Cr=Cr||ur,ur=ur||Cr,f.isAfter(Cr,ur)?[ur,Cr]:[Cr,ur])},[fe,f]),Ri=ay(me,ge,be),mi=Oe[Hn]||qb[Hn]||A0,Pi=s.useContext(Lf),ao=s.useMemo(function(){return(0,Y.Z)((0,Y.Z)({},Pi),{},{hideHeader:Te})},[Pi,Te]),ki="".concat(Ve,"-panel"),Ao=Xm(e,["showWeek","prevIcon","nextIcon","superPrevIcon","superNextIcon","disabledDate","minDate","maxDate","onHover"]);return s.createElement(Lf.Provider,{value:ao},s.createElement("div",{ref:De,tabIndex:I,className:q()(ki,(0,pe.Z)({},"".concat(ki,"-rtl"),y==="rtl"))},s.createElement(mi,(0,We.Z)({},Ao,{showTime:bt,prefixCls:Ve,locale:Ct,generateConfig:f,onModeChange:Di,pickerValue:Fn,onPickerValueChange:function(ur){yi(ur,!0)},value:Pn[0],onSelect:Ui,values:Pn,cellRender:Ri,hoverRangeValue:$o,hoverValue:le}))))}var ed=s.memo(s.forwardRef(Jb)),Ap=ed;function Dp(e){var t=e.picker,a=e.multiplePanel,o=e.pickerValue,f=e.onPickerValueChange,y=e.needConfirm,C=e.onSubmit,w=e.range,I=e.hoverValue,D=s.useContext(Lu),L=D.prefixCls,z=D.generateConfig,k=s.useCallback(function(ne,oe){return Op(z,t,ne,oe)},[z,t]),Z=s.useMemo(function(){return k(o,1)},[o,k]),j=function(oe){f(k(oe,-1))},G={onCellDblClick:function(){y&&C()}},H=t==="time",X=(0,Y.Z)((0,Y.Z)({},e),{},{hoverValue:null,hoverRangeValue:null,hideHeader:H});return w?X.hoverRangeValue=I:X.hoverValue=I,a?s.createElement("div",{className:"".concat(L,"-panels")},s.createElement(Lf.Provider,{value:(0,Y.Z)((0,Y.Z)({},G),{},{hideNext:!0})},s.createElement(Ap,X)),s.createElement(Lf.Provider,{value:(0,Y.Z)((0,Y.Z)({},G),{},{hidePrev:!0})},s.createElement(Ap,(0,We.Z)({},X,{pickerValue:Z,onPickerValueChange:j})))):s.createElement(Lf.Provider,{value:(0,Y.Z)({},G)},s.createElement(Ap,X))}function ef(e){return typeof e=="function"?e():e}function Qb(e){var t=e.prefixCls,a=e.presets,o=e.onClick,f=e.onHover;return a.length?s.createElement("div",{className:"".concat(t,"-presets")},s.createElement("ul",null,a.map(function(y,C){var w=y.label,I=y.value;return s.createElement("li",{key:C,onClick:function(){o(ef(I))},onMouseEnter:function(){f(ef(I))},onMouseLeave:function(){f(null)}},w)}))):null}function by(e){var t=e.panelRender,a=e.internalMode,o=e.picker,f=e.showNow,y=e.range,C=e.multiple,w=e.activeInfo,I=w===void 0?[0,0,0]:w,D=e.presets,L=e.onPresetHover,z=e.onPresetSubmit,k=e.onFocus,Z=e.onBlur,j=e.onPanelMouseDown,G=e.direction,H=e.value,X=e.onSelect,ne=e.isInvalid,oe=e.defaultOpenValue,ae=e.onOk,ie=e.onSubmit,le=s.useContext(Lu),fe=le.prefixCls,me="".concat(fe,"-panel"),ge=G==="rtl",be=s.useRef(null),Ie=s.useRef(null),Oe=s.useState(0),Te=(0,Re.Z)(Oe,2),Ve=Te[0],De=Te[1],Ue=s.useState(0),ke=(0,Re.Z)(Ue,2),st=ke[0],ct=ke[1],Et=s.useState(0),It=(0,Re.Z)(Et,2),Ct=It[0],mt=It[1],bt=function(Ui){Ui.width&&De(Ui.width)},zt=(0,Re.Z)(I,3),$t=zt[0],Ht=zt[1],Mt=zt[2],Cn=s.useState(0),Hn=(0,Re.Z)(Cn,2),pn=Hn[0],Dn=Hn[1];s.useEffect(function(){Dn(10)},[$t]),s.useEffect(function(){if(y&&Ie.current){var Di,Ui=((Di=be.current)===null||Di===void 0?void 0:Di.offsetWidth)||0,$o=Ie.current.getBoundingClientRect();if(!$o.height||$o.right<0){Dn(function(ao){return Math.max(0,ao-1)});return}var Ri=(ge?Ht-Ui:$t)-$o.left;if(mt(Ri),Ve&&Ve<Mt){var mi=ge?$o.right-(Ht-Ui+Ve):$t+Ui-$o.left-Ve,Pi=Math.max(0,mi);ct(Pi)}else ct(0)}},[pn,ge,Ve,$t,Ht,Mt,y]);function Qt(Di){return Di.filter(function(Ui){return Ui})}var Ft=s.useMemo(function(){return Qt(Rf(H))},[H]),kn=o==="time"&&!Ft.length,Pn=s.useMemo(function(){return kn?Qt([oe]):Ft},[kn,Ft,oe]),Dr=kn?oe:Ft,br=s.useMemo(function(){return Pn.length?Pn.some(function(Di){return ne(Di)}):!0},[Pn,ne]),or=function(){kn&&X(oe),ae(),ie()},ar=s.createElement("div",{className:"".concat(fe,"-panel-layout")},s.createElement(Qb,{prefixCls:fe,presets:D,onClick:z,onHover:L}),s.createElement("div",null,s.createElement(Dp,(0,We.Z)({},e,{value:Dr})),s.createElement(gy,(0,We.Z)({},e,{showNow:C?!1:f,invalid:br,onSubmit:or}))));t&&(ar=t(ar));var Fn="".concat(me,"-container"),sr="marginLeft",Gr="marginRight",yi=s.createElement("div",{onMouseDown:j,tabIndex:-1,className:q()(Fn,"".concat(fe,"-").concat(a,"-panel-container")),style:(0,pe.Z)((0,pe.Z)({},ge?Gr:sr,st),ge?sr:Gr,"auto"),onFocus:k,onBlur:Z},ar);return y&&(yi=s.createElement("div",{onMouseDown:j,ref:Ie,className:q()("".concat(fe,"-range-wrapper"),"".concat(fe,"-").concat(o,"-range-wrapper"))},s.createElement("div",{ref:be,className:"".concat(fe,"-range-arrow"),style:{left:Ct}}),s.createElement(c.Z,{onResize:bt},yi))),yi}function og(e,t){var a=e.format,o=e.maskFormat,f=e.generateConfig,y=e.locale,C=e.preserveInvalidOnBlur,w=e.inputReadOnly,I=e.required,D=e["aria-required"],L=e.onSubmit,z=e.onFocus,k=e.onBlur,Z=e.onInputChange,j=e.onInvalid,G=e.open,H=e.onOpenChange,X=e.onKeyDown,ne=e.onChange,oe=e.activeHelp,ae=e.name,ie=e.autoComplete,le=e.id,fe=e.value,me=e.invalid,ge=e.placeholder,be=e.disabled,Ie=e.activeIndex,Oe=e.allHelp,Te=e.picker,Ve=function(Ct,mt){var bt=f.locale.parse(y.locale,Ct,[mt]);return bt&&f.isValidate(bt)?bt:null},De=a[0],Ue=s.useCallback(function(It){return Oc(It,{locale:y,format:De,generateConfig:f})},[y,f,De]),ke=s.useMemo(function(){return fe.map(Ue)},[fe,Ue]),st=s.useMemo(function(){var It=Te==="time"?8:10,Ct=typeof De=="function"?De(f.getNow()).length:De.length;return Math.max(It,Ct)+2},[De,Te,f]),ct=function(Ct){for(var mt=0;mt<a.length;mt+=1){var bt=a[mt];if(typeof bt=="string"){var zt=Ve(Ct,bt);if(zt)return zt}}return!1},Et=function(Ct){function mt($t){return Ct!==void 0?$t[Ct]:$t}var bt=(0,ut.Z)(e,{aria:!0,data:!0}),zt=(0,Y.Z)((0,Y.Z)({},bt),{},{format:o,validateFormat:function(Ht){return!!ct(Ht)},preserveInvalidOnBlur:C,readOnly:w,required:I,"aria-required":D,name:ae,autoComplete:ie,size:st,id:mt(le),value:mt(ke)||"",invalid:mt(me),placeholder:mt(ge),active:Ie===Ct,helped:Oe||oe&&Ie===Ct,disabled:mt(be),onFocus:function(Ht){z(Ht,Ct)},onBlur:function(Ht){k(Ht,Ct)},onSubmit:L,onChange:function(Ht){Z();var Mt=ct(Ht);if(Mt){j(!1,Ct),ne(Mt,Ct);return}j(!!Ht,Ct)},onHelp:function(){H(!0,{index:Ct})},onKeyDown:function(Ht){var Mt=!1;if(X==null||X(Ht,function(){Mt=!0}),!Ht.defaultPrevented&&!Mt)switch(Ht.key){case"Escape":H(!1,{index:Ct});break;case"Enter":G||H(!0);break}}},t==null?void 0:t({valueTexts:ke}));return Object.keys(zt).forEach(function($t){zt[$t]===void 0&&delete zt[$t]}),zt};return[Et,Ue]}var e1=["onMouseEnter","onMouseLeave"];function ag(e){return s.useMemo(function(){return Xm(e,e1)},[e])}var D0=["icon","type"],MC=["onClear"];function L0(e){var t=e.icon,a=e.type,o=(0,de.Z)(e,D0),f=s.useContext(Lu),y=f.prefixCls;return t?s.createElement("span",(0,We.Z)({className:"".concat(y,"-").concat(a)},o),t):null}function xy(e){var t=e.onClear,a=(0,de.Z)(e,MC);return s.createElement(L0,(0,We.Z)({},a,{type:"clear",role:"button",onMouseDown:function(f){f.preventDefault()},onClick:function(f){f.stopPropagation(),t()}}))}var Nf=["YYYY","MM","DD","HH","mm","ss","SSS"],z0="\u9867",PC=function(){function e(t){(0,Bn.Z)(this,e),(0,pe.Z)(this,"format",void 0),(0,pe.Z)(this,"maskFormat",void 0),(0,pe.Z)(this,"cells",void 0),(0,pe.Z)(this,"maskCells",void 0),this.format=t;var a=Nf.map(function(w){return"(".concat(w,")")}).join("|"),o=new RegExp(a,"g");this.maskFormat=t.replace(o,function(w){return z0.repeat(w.length)});var f=new RegExp("(".concat(Nf.join("|"),")")),y=(t.split(f)||[]).filter(function(w){return w}),C=0;this.cells=y.map(function(w){var I=Nf.includes(w),D=C,L=C+w.length;return C=L,{text:w,mask:I,start:D,end:L}}),this.maskCells=this.cells.filter(function(w){return w.mask})}return(0,fn.Z)(e,[{key:"getSelection",value:function(a){var o=this.maskCells[a]||{},f=o.start,y=o.end;return[f||0,y||0]}},{key:"match",value:function(a){for(var o=0;o<this.maskFormat.length;o+=1){var f=this.maskFormat[o],y=a[o];if(!y||f!==z0&&f!==y)return!1}return!0}},{key:"size",value:function(){return this.maskCells.length}},{key:"getMaskCellIndex",value:function(a){for(var o=Number.MAX_SAFE_INTEGER,f=0,y=0;y<this.maskCells.length;y+=1){var C=this.maskCells[y],w=C.start,I=C.end;if(a>=w&&a<=I)return y;var D=Math.min(Math.abs(a-w),Math.abs(a-I));D<o&&(o=D,f=y)}return f}}]),e}();function t1(e){var t={YYYY:[0,9999,new Date().getFullYear()],MM:[1,12],DD:[1,31],HH:[0,23],mm:[0,59],ss:[0,59],SSS:[0,999]};return t[e]}var Cy=["active","showActiveCls","suffixIcon","format","validateFormat","onChange","onInput","helped","onHelp","onSubmit","onKeyDown","preserveInvalidOnBlur","invalid","clearIcon"],OC=s.forwardRef(function(e,t){var a=e.active,o=e.showActiveCls,f=o===void 0?!0:o,y=e.suffixIcon,C=e.format,w=e.validateFormat,I=e.onChange,D=e.onInput,L=e.helped,z=e.onHelp,k=e.onSubmit,Z=e.onKeyDown,j=e.preserveInvalidOnBlur,G=j===void 0?!1:j,H=e.invalid,X=e.clearIcon,ne=(0,de.Z)(e,Cy),oe=e.value,ae=e.onFocus,ie=e.onBlur,le=e.onMouseUp,fe=s.useContext(Lu),me=fe.prefixCls,ge=fe.input,be=ge===void 0?"input":ge,Ie="".concat(me,"-input"),Oe=s.useState(!1),Te=(0,Re.Z)(Oe,2),Ve=Te[0],De=Te[1],Ue=s.useState(oe),ke=(0,Re.Z)(Ue,2),st=ke[0],ct=ke[1],Et=s.useState(""),It=(0,Re.Z)(Et,2),Ct=It[0],mt=It[1],bt=s.useState(null),zt=(0,Re.Z)(bt,2),$t=zt[0],Ht=zt[1],Mt=s.useState(null),Cn=(0,Re.Z)(Mt,2),Hn=Cn[0],pn=Cn[1],Dn=st||"";s.useEffect(function(){ct(oe)},[oe]);var Qt=s.useRef(),Ft=s.useRef();s.useImperativeHandle(t,function(){return{nativeElement:Qt.current,inputElement:Ft.current,focus:function(ur){Ft.current.focus(ur)},blur:function(){Ft.current.blur()}}});var kn=s.useMemo(function(){return new PC(C||"")},[C]),Pn=s.useMemo(function(){return L?[0,0]:kn.getSelection($t)},[kn,$t,L]),Dr=(0,Re.Z)(Pn,2),br=Dr[0],or=Dr[1],ar=function(ur){ur&&ur!==C&&ur!==oe&&z()},Fn=(0,$s.zX)(function(Cr){w(Cr)&&I(Cr),ct(Cr),ar(Cr)}),sr=function(ur){if(!C){var Tr=ur.target.value;ar(Tr),ct(Tr),I(Tr)}},Gr=function(ur){var Tr=ur.clipboardData.getData("text");w(Tr)&&Fn(Tr)},yi=s.useRef(!1),Di=function(){yi.current=!0},Ui=function(ur){var Tr=ur.target,qn=Tr.selectionStart,pi=kn.getMaskCellIndex(qn);Ht(pi),pn({}),le==null||le(ur),yi.current=!1},$o=function(ur){De(!0),Ht(0),mt(""),ae(ur)},Ri=function(ur){ie(ur)},mi=function(ur){De(!1),Ri(ur)};Th(a,function(){!a&&!G&&ct(oe)});var Pi=function(ur){ur.key==="Enter"&&w(Dn)&&k(),Z==null||Z(ur)},ao=function(ur){Pi(ur);var Tr=ur.key,qn=null,pi=null,ji=or-br,go=C.slice(br,or),ra=function(Za){Ht(function(Ga){var va=Ga+Za;return va=Math.max(va,0),va=Math.min(va,kn.size()-1),va})},Aa=function(Za){var Ga=t1(go),va=(0,Re.Z)(Ga,3),ts=va[0],As=va[1],Ro=va[2],ta=Dn.slice(br,or),$a=Number(ta);if(isNaN($a))return String(Ro||(Za>0?ts:As));var Ka=$a+Za,ss=As-ts+1;return String(ts+(ss+Ka-ts)%ss)};switch(Tr){case"Backspace":case"Delete":qn="",pi=go;break;case"ArrowLeft":qn="",ra(-1);break;case"ArrowRight":qn="",ra(1);break;case"ArrowUp":qn="",pi=Aa(1);break;case"ArrowDown":qn="",pi=Aa(-1);break;default:isNaN(Number(Tr))||(qn=Ct+Tr,pi=qn);break}if(qn!==null&&(mt(qn),qn.length>=ji&&(ra(1),mt(""))),pi!==null){var oa=Dn.slice(0,br)+x0(pi,ji)+Dn.slice(or);Fn(oa.slice(0,C.length))}pn({})},ki=s.useRef();(0,hl.Z)(function(){if(!(!Ve||!C||yi.current)){if(!kn.match(Dn)){Fn(C);return}return Ft.current.setSelectionRange(br,or),ki.current=(0,Ge.Z)(function(){Ft.current.setSelectionRange(br,or)}),function(){Ge.Z.cancel(ki.current)}}},[kn,C,Ve,Dn,$t,br,or,Hn,Fn]);var Ao=C?{onFocus:$o,onBlur:mi,onKeyDown:ao,onMouseDown:Di,onMouseUp:Ui,onPaste:Gr}:{};return s.createElement("div",{ref:Qt,className:q()(Ie,(0,pe.Z)((0,pe.Z)({},"".concat(Ie,"-active"),a&&f),"".concat(Ie,"-placeholder"),L))},s.createElement(be,(0,We.Z)({ref:Ft,"aria-invalid":H,autoComplete:"off"},ne,{onKeyDown:Pi,onBlur:Ri},Ao,{value:Dn,onChange:sr})),s.createElement(L0,{type:"suffix",icon:y}),X)}),Rh=OC,Bf=["id","prefix","clearIcon","suffixIcon","separator","activeIndex","activeHelp","allHelp","focused","onFocus","onBlur","onKeyDown","locale","generateConfig","placeholder","className","style","onClick","onClear","value","onChange","onSubmit","onInputChange","format","maskFormat","preserveInvalidOnBlur","onInvalid","disabled","invalid","inputReadOnly","direction","onOpenChange","onActiveInfo","placement","onMouseDown","required","aria-required","autoFocus","tabIndex"],n1=["index"];function r1(e,t){var a=e.id,o=e.prefix,f=e.clearIcon,y=e.suffixIcon,C=e.separator,w=C===void 0?"~":C,I=e.activeIndex,D=e.activeHelp,L=e.allHelp,z=e.focused,k=e.onFocus,Z=e.onBlur,j=e.onKeyDown,G=e.locale,H=e.generateConfig,X=e.placeholder,ne=e.className,oe=e.style,ae=e.onClick,ie=e.onClear,le=e.value,fe=e.onChange,me=e.onSubmit,ge=e.onInputChange,be=e.format,Ie=e.maskFormat,Oe=e.preserveInvalidOnBlur,Te=e.onInvalid,Ve=e.disabled,De=e.invalid,Ue=e.inputReadOnly,ke=e.direction,st=e.onOpenChange,ct=e.onActiveInfo,Et=e.placement,It=e.onMouseDown,Ct=e.required,mt=e["aria-required"],bt=e.autoFocus,zt=e.tabIndex,$t=(0,de.Z)(e,Bf),Ht=ke==="rtl",Mt=s.useContext(Lu),Cn=Mt.prefixCls,Hn=s.useMemo(function(){if(typeof a=="string")return[a];var Ri=a||{};return[Ri.start,Ri.end]},[a]),pn=s.useRef(),Dn=s.useRef(),Qt=s.useRef(),Ft=function(mi){var Pi;return(Pi=[Dn,Qt][mi])===null||Pi===void 0?void 0:Pi.current};s.useImperativeHandle(t,function(){return{nativeElement:pn.current,focus:function(mi){if((0,et.Z)(mi)==="object"){var Pi,ao=mi||{},ki=ao.index,Ao=ki===void 0?0:ki,Cr=(0,de.Z)(ao,n1);(Pi=Ft(Ao))===null||Pi===void 0||Pi.focus(Cr)}else{var ur;(ur=Ft(mi!=null?mi:0))===null||ur===void 0||ur.focus()}},blur:function(){var mi,Pi;(mi=Ft(0))===null||mi===void 0||mi.blur(),(Pi=Ft(1))===null||Pi===void 0||Pi.blur()}}});var kn=ag($t),Pn=s.useMemo(function(){return Array.isArray(X)?X:[X,X]},[X]),Dr=og((0,Y.Z)((0,Y.Z)({},e),{},{id:Hn,placeholder:Pn})),br=(0,Re.Z)(Dr,1),or=br[0],ar=s.useState({position:"absolute",width:0}),Fn=(0,Re.Z)(ar,2),sr=Fn[0],Gr=Fn[1],yi=(0,$s.zX)(function(){var Ri=Ft(I);if(Ri){var mi=Ri.nativeElement.getBoundingClientRect(),Pi=pn.current.getBoundingClientRect(),ao=mi.left-Pi.left;Gr(function(ki){return(0,Y.Z)((0,Y.Z)({},ki),{},{width:mi.width,left:ao})}),ct([mi.left,mi.right,Pi.width])}});s.useEffect(function(){yi()},[I]);var Di=f&&(le[0]&&!Ve[0]||le[1]&&!Ve[1]),Ui=bt&&!Ve[0],$o=bt&&!Ui&&!Ve[1];return s.createElement(c.Z,{onResize:yi},s.createElement("div",(0,We.Z)({},kn,{className:q()(Cn,"".concat(Cn,"-range"),(0,pe.Z)((0,pe.Z)((0,pe.Z)((0,pe.Z)({},"".concat(Cn,"-focused"),z),"".concat(Cn,"-disabled"),Ve.every(function(Ri){return Ri})),"".concat(Cn,"-invalid"),De.some(function(Ri){return Ri})),"".concat(Cn,"-rtl"),Ht),ne),style:oe,ref:pn,onClick:ae,onMouseDown:function(mi){var Pi=mi.target;Pi!==Dn.current.inputElement&&Pi!==Qt.current.inputElement&&mi.preventDefault(),It==null||It(mi)}}),o&&s.createElement("div",{className:"".concat(Cn,"-prefix")},o),s.createElement(Rh,(0,We.Z)({ref:Dn},or(0),{autoFocus:Ui,tabIndex:zt,"date-range":"start"})),s.createElement("div",{className:"".concat(Cn,"-range-separator")},w),s.createElement(Rh,(0,We.Z)({ref:Qt},or(1),{autoFocus:$o,tabIndex:zt,"date-range":"end"})),s.createElement("div",{className:"".concat(Cn,"-active-bar"),style:sr}),s.createElement(L0,{type:"suffix",icon:y}),Di&&s.createElement(xy,{icon:f,onClear:ie})))}var N0=s.forwardRef(r1),Sy=N0;function i1(e,t){var a=e!=null?e:t;return Array.isArray(a)?a:[a,a]}function sg(e){return e===1?"end":"start"}function lg(e,t){var a=O0(e,function(){var fa=e.disabled,Na=e.allowEmpty,fs=i1(fa,!1),Ls=i1(Na,!1);return{disabled:fs,allowEmpty:Ls}}),o=(0,Re.Z)(a,6),f=o[0],y=o[1],C=o[2],w=o[3],I=o[4],D=o[5],L=f.prefixCls,z=f.styles,k=f.classNames,Z=f.defaultValue,j=f.value,G=f.needConfirm,H=f.onKeyDown,X=f.disabled,ne=f.allowEmpty,oe=f.disabledDate,ae=f.minDate,ie=f.maxDate,le=f.defaultOpen,fe=f.open,me=f.onOpenChange,ge=f.locale,be=f.generateConfig,Ie=f.picker,Oe=f.showNow,Te=f.showToday,Ve=f.showTime,De=f.mode,Ue=f.onPanelChange,ke=f.onCalendarChange,st=f.onOk,ct=f.defaultPickerValue,Et=f.pickerValue,It=f.onPickerValueChange,Ct=f.inputReadOnly,mt=f.suffixIcon,bt=f.onFocus,zt=f.onBlur,$t=f.presets,Ht=f.ranges,Mt=f.components,Cn=f.cellRender,Hn=f.dateRender,pn=f.monthCellRender,Dn=f.onClick,Qt=Bb(t),Ft=Ih(fe,le,X,me),kn=(0,Re.Z)(Ft,2),Pn=kn[0],Dr=kn[1],br=function(Na,fs){(X.some(function(Ls){return!Ls})||!Na)&&Dr(Na,fs)},or=jb(be,ge,w,!0,!1,Z,j,ke,st),ar=(0,Re.Z)(or,5),Fn=ar[0],sr=ar[1],Gr=ar[2],yi=ar[3],Di=ar[4],Ui=Gr(),$o=kb(X,ne,Pn),Ri=(0,Re.Z)($o,9),mi=Ri[0],Pi=Ri[1],ao=Ri[2],ki=Ri[3],Ao=Ri[4],Cr=Ri[5],ur=Ri[6],Tr=Ri[7],qn=Ri[8],pi=function(Na,fs){Pi(!0),bt==null||bt(Na,{range:sg(fs!=null?fs:ki)})},ji=function(Na,fs){Pi(!1),zt==null||zt(Na,{range:sg(fs!=null?fs:ki)})},go=s.useMemo(function(){if(!Ve)return null;var fa=Ve.disabledTime,Na=fa?function(fs){var Ls=sg(ki),hc=Rb(Ui,ur,ki);return fa(fs,Ls,{from:hc})}:void 0;return(0,Y.Z)((0,Y.Z)({},Ve),{},{disabledTime:Na})},[Ve,ki,Ui,ur]),ra=(0,$s.C8)([Ie,Ie],{value:De}),Aa=(0,Re.Z)(ra,2),oa=Aa[0],Cs=Aa[1],Za=oa[ki]||Ie,Ga=Za==="date"&&go?"datetime":Za,va=Ga===Ie&&Ga!=="time",ts=Vb(Ie,Za,Oe,Te,!0),As=Zb(f,Fn,sr,Gr,yi,X,w,mi,Pn,D),Ro=(0,Re.Z)(As,2),ta=Ro[0],$a=Ro[1],Ka=EC(Ui,X,ur,be,ge,oe),ss=Ab(Ui,D,ne),ll=(0,Re.Z)(ss,2),Rl=ll[0],yl=ll[1],Xl=hy(be,ge,Ui,oa,Pn,ki,y,va,ct,Et,go==null?void 0:go.defaultOpenValue,It,ae,ie),ga=(0,Re.Z)(Xl,2),qo=ga[0],Jo=ga[1],Vo=(0,$s.zX)(function(fa,Na,fs){var Ls=qd(oa,ki,Na);if((Ls[0]!==oa[0]||Ls[1]!==oa[1])&&Cs(Ls),Ue&&fs!==!1){var hc=(0,xe.Z)(Ui);fa&&(hc[ki]=fa),Ue(hc,Ls)}}),ls=function(Na,fs){return qd(Ui,fs,Na)},Ds=function(Na,fs){var Ls=Ui;Na&&(Ls=ls(Na,ki)),Tr(ki);var hc=Cr(Ls);yi(Ls),ta(ki,hc===null),hc===null?br(!1,{force:!0}):fs||Qt.current.focus({index:hc})},ka=function(Na){var fs,Ls=Na.target.getRootNode();if(!Qt.current.nativeElement.contains((fs=Ls.activeElement)!==null&&fs!==void 0?fs:document.activeElement)){var hc=X.findIndex(function(qh){return!qh});hc>=0&&Qt.current.focus({index:hc})}br(!0),Dn==null||Dn(Na)},Ca=function(){$a(null),br(!1,{force:!0})},gs=s.useState(null),vs=(0,Re.Z)(gs,2),Ys=vs[0],_a=vs[1],Ho=s.useState(null),Da=(0,Re.Z)(Ho,2),ds=Da[0],Bs=Da[1],qs=s.useMemo(function(){return ds||Ui},[Ui,ds]);s.useEffect(function(){Pn||Bs(null)},[Pn]);var rc=s.useState([0,0,0]),Js=(0,Re.Z)(rc,2),La=Js[0],cs=Js[1],Ss=Fb($t,Ht),$l=function(Na){Bs(Na),_a("preset")},Fu=function(Na){var fs=$a(Na);fs&&br(!1,{force:!0})},Kh=function(Na){Ds(Na)},im=function(Na){Bs(Na?ls(Na,ki):null),_a("cell")},om=function(Na){br(!0),pi(Na)},Kf=function(){ao("panel")},Xh=function(Na){var fs=qd(Ui,ki,Na);yi(fs),!G&&!C&&y===Ga&&Ds(Na)},Yh=function(){br(!1)},am=ay(Cn,Hn,pn,sg(ki)),Tl=Ui[ki]||null,Qs=(0,$s.zX)(function(fa){return D(fa,{activeIndex:ki})}),Ia=s.useMemo(function(){var fa=(0,ut.Z)(f,!1),Na=(0,fr.Z)(f,[].concat((0,xe.Z)(Object.keys(fa)),["onChange","onCalendarChange","style","className","onPanelChange","disabledTime"]));return Na},[f]),Va=s.createElement(by,(0,We.Z)({},Ia,{showNow:ts,showTime:go,range:!0,multiplePanel:va,activeInfo:La,disabledDate:Ka,onFocus:om,onBlur:ji,onPanelMouseDown:Kf,picker:Ie,mode:Za,internalMode:Ga,onPanelChange:Vo,format:I,value:Tl,isInvalid:Qs,onChange:null,onSelect:Xh,pickerValue:qo,defaultOpenValue:Rf(Ve==null?void 0:Ve.defaultOpenValue)[ki],onPickerValueChange:Jo,hoverValue:qs,onHover:im,needConfirm:G,onSubmit:Ds,onOk:Di,presets:Ss,onPresetHover:$l,onPresetSubmit:Fu,onNow:Kh,cellRender:am})),ml=function(Na,fs){var Ls=ls(Na,fs);yi(Ls)},kc=function(){ao("input")},rf=function(Na,fs){var Ls=ur.length,hc=ur[Ls-1];if(Ls&&hc!==fs&&G&&!ne[hc]&&!qn(hc)&&Ui[hc]){Qt.current.focus({index:hc});return}ao("input"),br(!0,{inherit:!0}),ki!==fs&&Pn&&!G&&C&&Ds(null,!0),Ao(fs),pi(Na,fs)},Fg=function(Na,fs){if(br(!1),!G&&ao()==="input"){var Ls=Cr(Ui);ta(ki,Ls===null)}ji(Na,fs)},kg=function(Na,fs){Na.key==="Tab"&&Ds(null,!0),H==null||H(Na,fs)},Ev=s.useMemo(function(){return{prefixCls:L,locale:ge,generateConfig:be,button:Mt.button,input:Mt.input}},[L,ge,be,Mt.button,Mt.input]);if((0,hl.Z)(function(){Pn&&ki!==void 0&&Vo(null,Ie,!1)},[Pn,ki,Ie]),(0,hl.Z)(function(){var fa=ao();!Pn&&fa==="input"&&(br(!1),Ds(null,!0)),!Pn&&C&&!G&&fa==="panel"&&(br(!0),Ds())},[Pn]),0)var ws;return s.createElement(Lu.Provider,{value:Ev},s.createElement(Ob,(0,We.Z)({},$b(f),{popupElement:Va,popupStyle:z.popup,popupClassName:k.popup,visible:Pn,onClose:Yh,range:!0}),s.createElement(Sy,(0,We.Z)({},f,{ref:Qt,suffixIcon:mt,activeIndex:mi||Pn?ki:null,activeHelp:!!ds,allHelp:!!ds&&Ys==="preset",focused:mi,onFocus:rf,onBlur:Fg,onKeyDown:kg,onSubmit:Ds,value:qs,maskFormat:I,onChange:ml,onInputChange:kc,format:w,inputReadOnly:Ct,disabled:X,open:Pn,onOpenChange:br,onClick:ka,onClear:Ca,invalid:Rl,onInvalid:yl,onActiveInfo:cs}))))}var o1=s.forwardRef(lg),RC=o1;function Ff(e){var t=e.prefixCls,a=e.value,o=e.onRemove,f=e.removeIcon,y=f===void 0?"\xD7":f,C=e.formatDate,w=e.disabled,I=e.maxTagCount,D=e.placeholder,L="".concat(t,"-selector"),z="".concat(t,"-selection"),k="".concat(z,"-overflow");function Z(H,X){return s.createElement("span",{className:q()("".concat(z,"-item")),title:typeof H=="string"?H:null},s.createElement("span",{className:"".concat(z,"-item-content")},H),!w&&X&&s.createElement("span",{onMouseDown:function(oe){oe.preventDefault()},onClick:X,className:"".concat(z,"-item-remove")},y))}function j(H){var X=C(H),ne=function(ae){ae&&ae.stopPropagation(),o(H)};return Z(X,ne)}function G(H){var X="+ ".concat(H.length," ...");return Z(X)}return s.createElement("div",{className:L},s.createElement(Dc.Z,{prefixCls:k,data:a,renderItem:j,renderRest:G,itemKey:function(X){return C(X)},maxCount:I}),!a.length&&s.createElement("span",{className:"".concat(t,"-selection-placeholder")},D))}var $C=["id","open","prefix","clearIcon","suffixIcon","activeHelp","allHelp","focused","onFocus","onBlur","onKeyDown","locale","generateConfig","placeholder","className","style","onClick","onClear","internalPicker","value","onChange","onSubmit","onInputChange","multiple","maxTagCount","format","maskFormat","preserveInvalidOnBlur","onInvalid","disabled","invalid","inputReadOnly","direction","onOpenChange","onMouseDown","required","aria-required","autoFocus","tabIndex","removeIcon"];function cg(e,t){var a=e.id,o=e.open,f=e.prefix,y=e.clearIcon,C=e.suffixIcon,w=e.activeHelp,I=e.allHelp,D=e.focused,L=e.onFocus,z=e.onBlur,k=e.onKeyDown,Z=e.locale,j=e.generateConfig,G=e.placeholder,H=e.className,X=e.style,ne=e.onClick,oe=e.onClear,ae=e.internalPicker,ie=e.value,le=e.onChange,fe=e.onSubmit,me=e.onInputChange,ge=e.multiple,be=e.maxTagCount,Ie=e.format,Oe=e.maskFormat,Te=e.preserveInvalidOnBlur,Ve=e.onInvalid,De=e.disabled,Ue=e.invalid,ke=e.inputReadOnly,st=e.direction,ct=e.onOpenChange,Et=e.onMouseDown,It=e.required,Ct=e["aria-required"],mt=e.autoFocus,bt=e.tabIndex,zt=e.removeIcon,$t=(0,de.Z)(e,$C),Ht=st==="rtl",Mt=s.useContext(Lu),Cn=Mt.prefixCls,Hn=s.useRef(),pn=s.useRef();s.useImperativeHandle(t,function(){return{nativeElement:Hn.current,focus:function(sr){var Gr;(Gr=pn.current)===null||Gr===void 0||Gr.focus(sr)},blur:function(){var sr;(sr=pn.current)===null||sr===void 0||sr.blur()}}});var Dn=ag($t),Qt=function(sr){le([sr])},Ft=function(sr){var Gr=ie.filter(function(yi){return yi&&!Gc(j,Z,yi,sr,ae)});le(Gr),o||fe()},kn=og((0,Y.Z)((0,Y.Z)({},e),{},{onChange:Qt}),function(Fn){var sr=Fn.valueTexts;return{value:sr[0]||"",active:D}}),Pn=(0,Re.Z)(kn,2),Dr=Pn[0],br=Pn[1],or=!!(y&&ie.length&&!De),ar=ge?s.createElement(s.Fragment,null,s.createElement(Ff,{prefixCls:Cn,value:ie,onRemove:Ft,formatDate:br,maxTagCount:be,disabled:De,removeIcon:zt,placeholder:G}),s.createElement("input",{className:"".concat(Cn,"-multiple-input"),value:ie.map(br).join(","),ref:pn,readOnly:!0,autoFocus:mt,tabIndex:bt}),s.createElement(L0,{type:"suffix",icon:C}),or&&s.createElement(xy,{icon:y,onClear:oe})):s.createElement(Rh,(0,We.Z)({ref:pn},Dr(),{autoFocus:mt,tabIndex:bt,suffixIcon:C,clearIcon:or&&s.createElement(xy,{icon:y,onClear:oe}),showActiveCls:!1}));return s.createElement("div",(0,We.Z)({},Dn,{className:q()(Cn,(0,pe.Z)((0,pe.Z)((0,pe.Z)((0,pe.Z)((0,pe.Z)({},"".concat(Cn,"-multiple"),ge),"".concat(Cn,"-focused"),D),"".concat(Cn,"-disabled"),De),"".concat(Cn,"-invalid"),Ue),"".concat(Cn,"-rtl"),Ht),H),style:X,ref:Hn,onClick:ne,onMouseDown:function(sr){var Gr,yi=sr.target;yi!==((Gr=pn.current)===null||Gr===void 0?void 0:Gr.inputElement)&&sr.preventDefault(),Et==null||Et(sr)}}),f&&s.createElement("div",{className:"".concat(Cn,"-prefix")},f),ar)}var ug=s.forwardRef(cg),dg=ug;function fg(e,t){var a=O0(e),o=(0,Re.Z)(a,6),f=o[0],y=o[1],C=o[2],w=o[3],I=o[4],D=o[5],L=f,z=L.prefixCls,k=L.styles,Z=L.classNames,j=L.order,G=L.defaultValue,H=L.value,X=L.needConfirm,ne=L.onChange,oe=L.onKeyDown,ae=L.disabled,ie=L.disabledDate,le=L.minDate,fe=L.maxDate,me=L.defaultOpen,ge=L.open,be=L.onOpenChange,Ie=L.locale,Oe=L.generateConfig,Te=L.picker,Ve=L.showNow,De=L.showToday,Ue=L.showTime,ke=L.mode,st=L.onPanelChange,ct=L.onCalendarChange,Et=L.onOk,It=L.multiple,Ct=L.defaultPickerValue,mt=L.pickerValue,bt=L.onPickerValueChange,zt=L.inputReadOnly,$t=L.suffixIcon,Ht=L.removeIcon,Mt=L.onFocus,Cn=L.onBlur,Hn=L.presets,pn=L.components,Dn=L.cellRender,Qt=L.dateRender,Ft=L.monthCellRender,kn=L.onClick,Pn=Bb(t);function Dr(Ia){return Ia===null?null:It?Ia:Ia[0]}var br=Qm(Oe,Ie,y),or=Ih(ge,me,[ae],be),ar=(0,Re.Z)(or,2),Fn=ar[0],sr=ar[1],Gr=function(Va,ml,kc){if(ct){var rf=(0,Y.Z)({},kc);delete rf.range,ct(Dr(Va),Dr(ml),rf)}},yi=function(Va){Et==null||Et(Dr(Va))},Di=jb(Oe,Ie,w,!1,j,G,H,Gr,yi),Ui=(0,Re.Z)(Di,5),$o=Ui[0],Ri=Ui[1],mi=Ui[2],Pi=Ui[3],ao=Ui[4],ki=mi(),Ao=kb([ae]),Cr=(0,Re.Z)(Ao,4),ur=Cr[0],Tr=Cr[1],qn=Cr[2],pi=Cr[3],ji=function(Va){Tr(!0),Mt==null||Mt(Va,{})},go=function(Va){Tr(!1),Cn==null||Cn(Va,{})},ra=(0,$s.C8)(Te,{value:ke}),Aa=(0,Re.Z)(ra,2),oa=Aa[0],Cs=Aa[1],Za=oa==="date"&&Ue?"datetime":oa,Ga=Vb(Te,oa,Ve,De),va=ne&&function(Ia,Va){ne(Dr(Ia),Dr(Va))},ts=Zb((0,Y.Z)((0,Y.Z)({},f),{},{onChange:va}),$o,Ri,mi,Pi,[],w,ur,Fn,D),As=(0,Re.Z)(ts,2),Ro=As[1],ta=Ab(ki,D),$a=(0,Re.Z)(ta,2),Ka=$a[0],ss=$a[1],ll=s.useMemo(function(){return Ka.some(function(Ia){return Ia})},[Ka]),Rl=function(Va,ml){if(bt){var kc=(0,Y.Z)((0,Y.Z)({},ml),{},{mode:ml.mode[0]});delete kc.range,bt(Va[0],kc)}},yl=hy(Oe,Ie,ki,[oa],Fn,pi,y,!1,Ct,mt,Rf(Ue==null?void 0:Ue.defaultOpenValue),Rl,le,fe),Xl=(0,Re.Z)(yl,2),ga=Xl[0],qo=Xl[1],Jo=(0,$s.zX)(function(Ia,Va,ml){if(Cs(Va),st&&ml!==!1){var kc=Ia||ki[ki.length-1];st(kc,Va)}}),Vo=function(){Ro(mi()),sr(!1,{force:!0})},ls=function(Va){!ae&&!Pn.current.nativeElement.contains(document.activeElement)&&Pn.current.focus(),sr(!0),kn==null||kn(Va)},Ds=function(){Ro(null),sr(!1,{force:!0})},ka=s.useState(null),Ca=(0,Re.Z)(ka,2),gs=Ca[0],vs=Ca[1],Ys=s.useState(null),_a=(0,Re.Z)(Ys,2),Ho=_a[0],Da=_a[1],ds=s.useMemo(function(){var Ia=[Ho].concat((0,xe.Z)(ki)).filter(function(Va){return Va});return It?Ia:Ia.slice(0,1)},[ki,Ho,It]),Bs=s.useMemo(function(){return!It&&Ho?[Ho]:ki.filter(function(Ia){return Ia})},[ki,Ho,It]);s.useEffect(function(){Fn||Da(null)},[Fn]);var qs=Fb(Hn),rc=function(Va){Da(Va),vs("preset")},Js=function(Va){var ml=It?br(mi(),Va):[Va],kc=Ro(ml);kc&&!It&&sr(!1,{force:!0})},La=function(Va){Js(Va)},cs=function(Va){Da(Va),vs("cell")},Ss=function(Va){sr(!0),ji(Va)},$l=function(Va){if(qn("panel"),!(It&&Za!==Te)){var ml=It?br(mi(),Va):[Va];Pi(ml),!X&&!C&&y===Za&&Vo()}},Fu=function(){sr(!1)},Kh=ay(Dn,Qt,Ft),im=s.useMemo(function(){var Ia=(0,ut.Z)(f,!1),Va=(0,fr.Z)(f,[].concat((0,xe.Z)(Object.keys(Ia)),["onChange","onCalendarChange","style","className","onPanelChange"]));return(0,Y.Z)((0,Y.Z)({},Va),{},{multiple:f.multiple})},[f]),om=s.createElement(by,(0,We.Z)({},im,{showNow:Ga,showTime:Ue,disabledDate:ie,onFocus:Ss,onBlur:go,picker:Te,mode:oa,internalMode:Za,onPanelChange:Jo,format:I,value:ki,isInvalid:D,onChange:null,onSelect:$l,pickerValue:ga,defaultOpenValue:Ue==null?void 0:Ue.defaultOpenValue,onPickerValueChange:qo,hoverValue:ds,onHover:cs,needConfirm:X,onSubmit:Vo,onOk:ao,presets:qs,onPresetHover:rc,onPresetSubmit:Js,onNow:La,cellRender:Kh})),Kf=function(Va){Pi(Va)},Xh=function(){qn("input")},Yh=function(Va){qn("input"),sr(!0,{inherit:!0}),ji(Va)},am=function(Va){sr(!1),go(Va)},Tl=function(Va,ml){Va.key==="Tab"&&Vo(),oe==null||oe(Va,ml)},Qs=s.useMemo(function(){return{prefixCls:z,locale:Ie,generateConfig:Oe,button:pn.button,input:pn.input}},[z,Ie,Oe,pn.button,pn.input]);return(0,hl.Z)(function(){Fn&&pi!==void 0&&Jo(null,Te,!1)},[Fn,pi,Te]),(0,hl.Z)(function(){var Ia=qn();!Fn&&Ia==="input"&&(sr(!1),Vo()),!Fn&&C&&!X&&Ia==="panel"&&Vo()},[Fn]),s.createElement(Lu.Provider,{value:Qs},s.createElement(Ob,(0,We.Z)({},$b(f),{popupElement:om,popupStyle:k.popup,popupClassName:Z.popup,visible:Fn,onClose:Fu}),s.createElement(dg,(0,We.Z)({},f,{ref:Pn,suffixIcon:$t,removeIcon:Ht,activeHelp:!!Ho,allHelp:!!Ho&&gs==="preset",focused:ur,onFocus:Yh,onBlur:am,onKeyDown:Tl,onSubmit:Vo,value:Bs,maskFormat:I,onChange:Kf,onInputChange:Xh,internalPicker:y,format:w,inputReadOnly:zt,disabled:ae,open:Fn,onOpenChange:sr,onClick:ls,onClear:Ds,invalid:ll,onInvalid:function(Va){ss(Va,0)}}))))}var B0=s.forwardRef(fg),AC=B0,DC=AC,$c=F(60824),F0=F(63374),a1=F(47944);const s1=10,l1=20;function LC(e){const{fullscreen:t,validRange:a,generateConfig:o,locale:f,prefixCls:y,value:C,onChange:w,divRef:I}=e,D=o.getYear(C||o.getNow());let L=D-s1,z=L+l1;a&&(L=o.getYear(a[0]),z=o.getYear(a[1])+1);const k=f&&f.year==="\u5E74"?"\u5E74":"",Z=[];for(let j=L;j<z;j++)Z.push({label:`${j}${k}`,value:j});return s.createElement(gu.default,{size:t?void 0:"small",options:Z,value:D,className:`${y}-year-select`,onChange:j=>{let G=o.setYear(C,j);if(a){const[H,X]=a,ne=o.getYear(G),oe=o.getMonth(G);ne===o.getYear(X)&&oe>o.getMonth(X)&&(G=o.setMonth(G,o.getMonth(X))),ne===o.getYear(H)&&oe<o.getMonth(H)&&(G=o.setMonth(G,o.getMonth(H)))}w(G)},getPopupContainer:()=>I.current})}function c1(e){const{prefixCls:t,fullscreen:a,validRange:o,value:f,generateConfig:y,locale:C,onChange:w,divRef:I}=e,D=y.getMonth(f||y.getNow());let L=0,z=11;if(o){const[j,G]=o,H=y.getYear(f);y.getYear(G)===H&&(z=y.getMonth(G)),y.getYear(j)===H&&(L=y.getMonth(j))}const k=C.shortMonths||y.locale.getShortMonths(C.locale),Z=[];for(let j=L;j<=z;j+=1)Z.push({label:k[j],value:j});return s.createElement(gu.default,{size:a?void 0:"small",className:`${t}-month-select`,value:D,options:Z,onChange:j=>{w(y.setMonth(f,j))},getPopupContainer:()=>I.current})}function zC(e){const{prefixCls:t,locale:a,mode:o,fullscreen:f,onModeChange:y}=e;return s.createElement(F0.Z,{onChange:C=>{let{target:{value:w}}=C;y(w)},value:o,size:f?void 0:"small",className:`${t}-mode-switch`},s.createElement(a1.Z,{value:"month"},a.month),s.createElement(a1.Z,{value:"year"},a.year))}function u1(e){const{prefixCls:t,fullscreen:a,mode:o,onChange:f,onModeChange:y}=e,C=s.useRef(null),w=(0,s.useContext)($c.aM),I=(0,s.useMemo)(()=>Object.assign(Object.assign({},w),{isFormItemInput:!1}),[w]),D=Object.assign(Object.assign({},e),{fullscreen:a,divRef:C});return s.createElement("div",{className:`${t}-header`,ref:C},s.createElement($c.aM.Provider,{value:I},s.createElement(LC,Object.assign({},D,{onChange:L=>{f(L,"year")}})),o==="month"&&s.createElement(c1,Object.assign({},D,{onChange:L=>{f(L,"month")}}))),s.createElement(zC,Object.assign({},D,{onModeChange:y})))}var NC=u1,d1=F(40859);const BC=e=>{const{pickerCellCls:t,pickerCellInnerCls:a,cellHeight:o,borderRadiusSM:f,motionDurationMid:y,cellHoverBg:C,lineWidth:w,lineType:I,colorPrimary:D,cellActiveWithRangeBg:L,colorTextLightSolid:z,colorTextDisabled:k,cellBgDisabled:Z,colorFillSecondary:j}=e;return{"&::before":{position:"absolute",top:"50%",insetInlineStart:0,insetInlineEnd:0,zIndex:1,height:o,transform:"translateY(-50%)",content:'""',pointerEvents:"none"},[a]:{position:"relative",zIndex:2,display:"inline-block",minWidth:o,height:o,lineHeight:(0,he.bf)(o),borderRadius:f,transition:`background ${y}`},[`&:hover:not(${t}-in-view):not(${t}-disabled),
    &:hover:not(${t}-selected):not(${t}-range-start):not(${t}-range-end):not(${t}-disabled)`]:{[a]:{background:C}},[`&-in-view${t}-today ${a}`]:{"&::before":{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,zIndex:1,border:`${(0,he.bf)(w)} ${I} ${D}`,borderRadius:f,content:'""'}},[`&-in-view${t}-in-range,
      &-in-view${t}-range-start,
      &-in-view${t}-range-end`]:{position:"relative",[`&:not(${t}-disabled):before`]:{background:L}},[`&-in-view${t}-selected,
      &-in-view${t}-range-start,
      &-in-view${t}-range-end`]:{[`&:not(${t}-disabled) ${a}`]:{color:z,background:D},[`&${t}-disabled ${a}`]:{background:j}},[`&-in-view${t}-range-start:not(${t}-disabled):before`]:{insetInlineStart:"50%"},[`&-in-view${t}-range-end:not(${t}-disabled):before`]:{insetInlineEnd:"50%"},[`&-in-view${t}-range-start:not(${t}-range-end) ${a}`]:{borderStartStartRadius:f,borderEndStartRadius:f,borderStartEndRadius:0,borderEndEndRadius:0},[`&-in-view${t}-range-end:not(${t}-range-start) ${a}`]:{borderStartStartRadius:0,borderEndStartRadius:0,borderStartEndRadius:f,borderEndEndRadius:f},"&-disabled":{color:k,cursor:"not-allowed",[a]:{background:"transparent"},"&::before":{background:Z}},[`&-disabled${t}-today ${a}::before`]:{borderColor:k}}},f1=e=>{const{componentCls:t,pickerCellCls:a,pickerCellInnerCls:o,pickerYearMonthCellWidth:f,pickerControlIconSize:y,cellWidth:C,paddingSM:w,paddingXS:I,paddingXXS:D,colorBgContainer:L,lineWidth:z,lineType:k,borderRadiusLG:Z,colorPrimary:j,colorTextHeading:G,colorSplit:H,pickerControlIconBorderWidth:X,colorIcon:ne,textHeight:oe,motionDurationMid:ae,colorIconHover:ie,fontWeightStrong:le,cellHeight:fe,pickerCellPaddingVertical:me,colorTextDisabled:ge,colorText:be,fontSize:Ie,motionDurationSlow:Oe,withoutTimeCellHeight:Te,pickerQuarterPanelContentHeight:Ve,borderRadiusSM:De,colorTextLightSolid:Ue,cellHoverBg:ke,timeColumnHeight:st,timeColumnWidth:ct,timeCellHeight:Et,controlItemBgActive:It,marginXXS:Ct,pickerDatePanelPaddingHorizontal:mt,pickerControlIconMargin:bt}=e,zt=e.calc(C).mul(7).add(e.calc(mt).mul(2)).equal();return{[t]:{"&-panel":{display:"inline-flex",flexDirection:"column",textAlign:"center",background:L,borderRadius:Z,outline:"none","&-focused":{borderColor:j},"&-rtl":{[`${t}-prev-icon,
              ${t}-super-prev-icon`]:{transform:"rotate(45deg)"},[`${t}-next-icon,
              ${t}-super-next-icon`]:{transform:"rotate(-135deg)"},[`${t}-time-panel`]:{[`${t}-content`]:{direction:"ltr","> *":{direction:"rtl"}}}}},"&-decade-panel,\n        &-year-panel,\n        &-quarter-panel,\n        &-month-panel,\n        &-week-panel,\n        &-date-panel,\n        &-time-panel":{display:"flex",flexDirection:"column",width:zt},"&-header":{display:"flex",padding:`0 ${(0,he.bf)(I)}`,color:G,borderBottom:`${(0,he.bf)(z)} ${k} ${H}`,"> *":{flex:"none"},button:{padding:0,color:ne,lineHeight:(0,he.bf)(oe),background:"transparent",border:0,cursor:"pointer",transition:`color ${ae}`,fontSize:"inherit",display:"inline-flex",alignItems:"center",justifyContent:"center","&:empty":{display:"none"}},"> button":{minWidth:"1.6em",fontSize:Ie,"&:hover":{color:ie},"&:disabled":{opacity:.25,pointerEvents:"none"}},"&-view":{flex:"auto",fontWeight:le,lineHeight:(0,he.bf)(oe),"> button":{color:"inherit",fontWeight:"inherit","&:not(:first-child)":{marginInlineStart:I},"&:hover":{color:j}}}},"&-prev-icon,\n        &-next-icon,\n        &-super-prev-icon,\n        &-super-next-icon":{position:"relative",width:y,height:y,"&::before":{position:"absolute",top:0,insetInlineStart:0,width:y,height:y,border:"0 solid currentcolor",borderBlockWidth:`${(0,he.bf)(X)} 0`,borderInlineWidth:`${(0,he.bf)(X)} 0`,content:'""'}},"&-super-prev-icon,\n        &-super-next-icon":{"&::after":{position:"absolute",top:bt,insetInlineStart:bt,display:"inline-block",width:y,height:y,border:"0 solid currentcolor",borderBlockWidth:`${(0,he.bf)(X)} 0`,borderInlineWidth:`${(0,he.bf)(X)} 0`,content:'""'}},"&-prev-icon, &-super-prev-icon":{transform:"rotate(-45deg)"},"&-next-icon, &-super-next-icon":{transform:"rotate(135deg)"},"&-content":{width:"100%",tableLayout:"fixed",borderCollapse:"collapse","th, td":{position:"relative",minWidth:fe,fontWeight:"normal"},th:{height:e.calc(fe).add(e.calc(me).mul(2)).equal(),color:be,verticalAlign:"middle"}},"&-cell":Object.assign({padding:`${(0,he.bf)(me)} 0`,color:ge,cursor:"pointer","&-in-view":{color:be}},BC(e)),"&-decade-panel,\n        &-year-panel,\n        &-quarter-panel,\n        &-month-panel":{[`${t}-content`]:{height:e.calc(Te).mul(4).equal()},[o]:{padding:`0 ${(0,he.bf)(I)}`}},"&-quarter-panel":{[`${t}-content`]:{height:Ve}},"&-decade-panel":{[o]:{padding:`0 ${(0,he.bf)(e.calc(I).div(2).equal())}`},[`${t}-cell::before`]:{display:"none"}},"&-year-panel,\n        &-quarter-panel,\n        &-month-panel":{[`${t}-body`]:{padding:`0 ${(0,he.bf)(I)}`},[o]:{width:f}},"&-date-panel":{[`${t}-body`]:{padding:`${(0,he.bf)(I)} ${(0,he.bf)(mt)}`},[`${t}-content th`]:{boxSizing:"border-box",padding:0}},"&-week-panel":{[`${t}-cell`]:{[`&:hover ${o},
            &-selected ${o},
            ${o}`]:{background:"transparent !important"}},"&-row":{td:{"&:before":{transition:`background ${ae}`},"&:first-child:before":{borderStartStartRadius:De,borderEndStartRadius:De},"&:last-child:before":{borderStartEndRadius:De,borderEndEndRadius:De}},"&:hover td:before":{background:ke},"&-range-start td, &-range-end td, &-selected td, &-hover td":{[`&${a}`]:{"&:before":{background:j},[`&${t}-cell-week`]:{color:new Sl.t(Ue).setA(.5).toHexString()},[o]:{color:Ue}}},"&-range-hover td:before":{background:It}}},"&-week-panel, &-date-panel-show-week":{[`${t}-body`]:{padding:`${(0,he.bf)(I)} ${(0,he.bf)(w)}`},[`${t}-content th`]:{width:"auto"}},"&-datetime-panel":{display:"flex",[`${t}-time-panel`]:{borderInlineStart:`${(0,he.bf)(z)} ${k} ${H}`},[`${t}-date-panel,
          ${t}-time-panel`]:{transition:`opacity ${Oe}`},"&-active":{[`${t}-date-panel,
            ${t}-time-panel`]:{opacity:.3,"&-active":{opacity:1}}}},"&-time-panel":{width:"auto",minWidth:"auto",[`${t}-content`]:{display:"flex",flex:"auto",height:st},"&-column":{flex:"1 0 auto",width:ct,margin:`${(0,he.bf)(D)} 0`,padding:0,overflowY:"hidden",textAlign:"start",listStyle:"none",transition:`background ${ae}`,overflowX:"hidden","&::-webkit-scrollbar":{width:8,backgroundColor:"transparent"},"&::-webkit-scrollbar-thumb":{backgroundColor:e.colorTextTertiary,borderRadius:e.borderRadiusSM},"&":{scrollbarWidth:"thin",scrollbarColor:`${e.colorTextTertiary} transparent`},"&::after":{display:"block",height:`calc(100% - ${(0,he.bf)(Et)})`,content:'""'},"&:not(:first-child)":{borderInlineStart:`${(0,he.bf)(z)} ${k} ${H}`},"&-active":{background:new Sl.t(It).setA(.2).toHexString()},"&:hover":{overflowY:"auto"},"> li":{margin:0,padding:0,[`&${t}-time-panel-cell`]:{marginInline:Ct,[`${t}-time-panel-cell-inner`]:{display:"block",width:e.calc(ct).sub(e.calc(Ct).mul(2)).equal(),height:Et,margin:0,paddingBlock:0,paddingInlineEnd:0,paddingInlineStart:e.calc(ct).sub(Et).div(2).equal(),color:be,lineHeight:(0,he.bf)(Et),borderRadius:De,cursor:"pointer",transition:`background ${ae}`,"&:hover":{background:ke}},"&-selected":{[`${t}-time-panel-cell-inner`]:{background:It}},"&-disabled":{[`${t}-time-panel-cell-inner`]:{color:ge,background:"transparent",cursor:"not-allowed"}}}}}}}}};var k0=e=>{const{componentCls:t,textHeight:a,lineWidth:o,paddingSM:f,antCls:y,colorPrimary:C,cellActiveWithRangeBg:w,colorPrimaryBorder:I,lineType:D,colorSplit:L}=e;return{[`${t}-dropdown`]:{[`${t}-footer`]:{borderTop:`${(0,he.bf)(o)} ${D} ${L}`,"&-extra":{padding:`0 ${(0,he.bf)(f)}`,lineHeight:(0,he.bf)(e.calc(a).sub(e.calc(o).mul(2)).equal()),textAlign:"start","&:not(:last-child)":{borderBottom:`${(0,he.bf)(o)} ${D} ${L}`}}},[`${t}-panels + ${t}-footer ${t}-ranges`]:{justifyContent:"space-between"},[`${t}-ranges`]:{marginBlock:0,paddingInline:(0,he.bf)(f),overflow:"hidden",textAlign:"start",listStyle:"none",display:"flex",justifyContent:"center",alignItems:"center","> li":{lineHeight:(0,he.bf)(e.calc(a).sub(e.calc(o).mul(2)).equal()),display:"inline-block"},[`${t}-now-btn-disabled`]:{pointerEvents:"none",color:e.colorTextDisabled},[`${t}-preset > ${y}-tag-blue`]:{color:C,background:w,borderColor:I,cursor:"pointer"},[`${t}-ok`]:{paddingBlock:e.calc(o).mul(2).equal(),marginInlineStart:"auto"}}}}},Cu=F(21571);const hg=e=>{const{componentCls:t,controlHeightLG:a,paddingXXS:o,padding:f}=e;return{pickerCellCls:`${t}-cell`,pickerCellInnerCls:`${t}-cell-inner`,pickerYearMonthCellWidth:e.calc(a).mul(1.5).equal(),pickerQuarterPanelContentHeight:e.calc(a).mul(1.4).equal(),pickerCellPaddingVertical:e.calc(o).add(e.calc(o).div(2)).equal(),pickerCellBorderGap:2,pickerControlIconSize:7,pickerControlIconMargin:4,pickerControlIconBorderWidth:1.5,pickerDatePanelPaddingHorizontal:e.calc(f).add(e.calc(o).div(2)).equal()}},h1=e=>{const{colorBgContainerDisabled:t,controlHeight:a,controlHeightSM:o,controlHeightLG:f,paddingXXS:y,lineWidth:C}=e,w=y*2,I=C*2,D=Math.min(a-w,a-I),L=Math.min(o-w,o-I),z=Math.min(f-w,f-I);return{INTERNAL_FIXED_ITEM_MARGIN:Math.floor(y/2),cellHoverBg:e.controlItemBgHover,cellActiveWithRangeBg:e.controlItemBgActive,cellHoverWithRangeBg:new Sl.t(e.colorPrimary).lighten(35).toHexString(),cellRangeBorderColor:new Sl.t(e.colorPrimary).lighten(20).toHexString(),cellBgDisabled:t,timeColumnWidth:f*1.4,timeColumnHeight:28*8,timeCellHeight:28,cellWidth:o*1.5,cellHeight:o,textHeight:f,withoutTimeCellHeight:f*1.65,multipleItemBg:e.colorFillSecondary,multipleItemBorderColor:"transparent",multipleItemHeight:D,multipleItemHeightSM:L,multipleItemHeightLG:z,multipleSelectorBgDisabled:t,multipleItemColorDisabled:e.colorTextDisabled,multipleItemBorderColorDisabled:"transparent"}},Ey=e=>Object.assign(Object.assign(Object.assign(Object.assign({},(0,Cu.T)(e)),h1(e)),(0,Vm.w)(e)),{presetsWidth:120,presetsMaxWidth:200,zIndexPopup:e.zIndexPopupBase+50}),Iy=e=>{const{calendarCls:t,componentCls:a,fullBg:o,fullPanelBg:f,itemActiveBg:y}=e;return{[t]:Object.assign(Object.assign(Object.assign({},f1(e)),(0,Jt.Wf)(e)),{background:o,"&-rtl":{direction:"rtl"},[`${t}-header`]:{display:"flex",justifyContent:"flex-end",padding:`${(0,he.bf)(e.paddingSM)} 0`,[`${t}-year-select`]:{minWidth:e.yearControlWidth},[`${t}-month-select`]:{minWidth:e.monthControlWidth,marginInlineStart:e.marginXS},[`${t}-mode-switch`]:{marginInlineStart:e.marginXS}}}),[`${t} ${a}-panel`]:{background:f,border:0,borderTop:`${(0,he.bf)(e.lineWidth)} ${e.lineType} ${e.colorSplit}`,borderRadius:0,[`${a}-month-panel, ${a}-date-panel`]:{width:"auto"},[`${a}-body`]:{padding:`${(0,he.bf)(e.paddingXS)} 0`},[`${a}-content`]:{width:"100%"}},[`${t}-mini`]:{borderRadius:e.borderRadiusLG,[`${t}-header`]:{paddingInlineEnd:e.paddingXS,paddingInlineStart:e.paddingXS},[`${a}-panel`]:{borderRadius:`0 0 ${(0,he.bf)(e.borderRadiusLG)} ${(0,he.bf)(e.borderRadiusLG)}`},[`${a}-content`]:{height:e.miniContentHeight,th:{height:"auto",padding:0,lineHeight:(0,he.bf)(e.weekHeight)}},[`${a}-cell::before`]:{pointerEvents:"none"}},[`${t}${t}-full`]:{[`${a}-panel`]:{display:"block",width:"100%",textAlign:"end",background:o,border:0,[`${a}-body`]:{"th, td":{padding:0},th:{height:"auto",paddingInlineEnd:e.paddingSM,paddingBottom:e.paddingXXS,lineHeight:(0,he.bf)(e.weekHeight)}}},[`${a}-cell-week ${a}-cell-inner`]:{display:"block",borderRadius:0,borderTop:`${(0,he.bf)(e.lineWidthBold)} ${e.lineType} ${e.colorSplit}`,width:"100%",height:e.calc(e.dateValueHeight).add(e.dateContentHeight).add(e.calc(e.paddingXS).div(2)).add(e.lineWidthBold).equal()},[`${a}-cell`]:{"&::before":{display:"none"},"&:hover":{[`${t}-date`]:{background:e.controlItemBgHover}},[`${t}-date-today::before`]:{display:"none"},[`&-in-view${a}-cell-selected`]:{[`${t}-date, ${t}-date-today`]:{background:y}},"&-selected, &-selected:hover":{[`${t}-date, ${t}-date-today`]:{[`${t}-date-value`]:{color:e.colorPrimary}}}},[`${t}-date`]:{display:"block",width:"auto",height:"auto",margin:`0 ${(0,he.bf)(e.calc(e.marginXS).div(2).equal())}`,padding:`${(0,he.bf)(e.calc(e.paddingXS).div(2).equal())} ${(0,he.bf)(e.paddingXS)} 0`,border:0,borderTop:`${(0,he.bf)(e.lineWidthBold)} ${e.lineType} ${e.colorSplit}`,borderRadius:0,transition:`background ${e.motionDurationSlow}`,"&-value":{lineHeight:(0,he.bf)(e.dateValueHeight),transition:`color ${e.motionDurationSlow}`},"&-content":{position:"static",width:"auto",height:e.dateContentHeight,overflowY:"auto",color:e.colorText,lineHeight:e.lineHeight,textAlign:"start"},"&-today":{borderColor:e.colorPrimary,[`${t}-date-value`]:{color:e.colorText}}}},[`@media only screen and (max-width: ${(0,he.bf)(e.screenXS)}) `]:{[t]:{[`${t}-header`]:{display:"block",[`${t}-year-select`]:{width:"50%"},[`${t}-month-select`]:{width:`calc(50% - ${(0,he.bf)(e.paddingXS)})`},[`${t}-mode-switch`]:{width:"100%",marginTop:e.marginXS,marginInlineStart:0,"> label":{width:"50%",textAlign:"center"}}}}}}},j0=e=>Object.assign({fullBg:e.colorBgContainer,fullPanelBg:e.colorBgContainer,itemActiveBg:e.controlItemBgActive,yearControlWidth:80,monthControlWidth:70,miniContentHeight:256},h1(e));var p1=(0,te.I$)("Calendar",e=>{const t=`${e.componentCls}-calendar`,a=(0,Qr.IX)(e,hg(e),{calendarCls:t,pickerCellInnerCls:`${e.componentCls}-cell-inner`,dateValueHeight:e.controlHeightSM,weekHeight:e.calc(e.controlHeightSM).mul(.75).equal(),dateContentHeight:e.calc(e.calc(e.fontHeightSM).add(e.marginXS)).mul(3).add(e.calc(e.lineWidth).mul(2)).equal()});return[Iy(a)]},j0);const Ty=(e,t,a)=>{const{getYear:o}=a;return e&&t&&o(e)===o(t)},pg=(e,t,a)=>{const{getMonth:o}=a;return Ty(e,t,a)&&o(e)===o(t)},My=(e,t,a)=>{const{getDate:o}=a;return pg(e,t,a)&&o(e)===o(t)};var mg=e=>a=>{const{prefixCls:o,className:f,rootClassName:y,style:C,dateFullCellRender:w,dateCellRender:I,monthFullCellRender:D,monthCellRender:L,cellRender:z,fullCellRender:k,headerRender:Z,value:j,defaultValue:G,disabledDate:H,mode:X,validRange:ne,fullscreen:oe=!0,showWeek:ae,onChange:ie,onPanelChange:le,onSelect:fe}=a,{getPrefixCls:me,direction:ge,className:be,style:Ie}=(0,ye.dj)("calendar"),Oe=me("picker",o),Te=`${Oe}-calendar`,[Ve,De,Ue]=p1(Oe,Te),ke=e.getNow(),[st,ct]=(0,Fs.Z)(()=>j||e.getNow(),{defaultValue:G,value:j}),[Et,It]=(0,Fs.Z)("month",{value:X}),Ct=s.useMemo(()=>Et==="year"?"month":"date",[Et]),mt=s.useCallback(Qt=>(ne?e.isAfter(ne[0],Qt)||e.isAfter(Qt,ne[1]):!1)||!!(H!=null&&H(Qt)),[H,ne]),bt=(Qt,Ft)=>{le==null||le(Qt,Ft)},zt=Qt=>{ct(Qt),My(Qt,st,e)||((Ct==="date"&&!pg(Qt,st,e)||Ct==="month"&&!Ty(Qt,st,e))&&bt(Qt,Et),ie==null||ie(Qt))},$t=Qt=>{It(Qt),bt(st,Qt)},Ht=(Qt,Ft)=>{zt(Qt),fe==null||fe(Qt,{source:Ft})},Mt=s.useCallback((Qt,Ft)=>k?k(Qt,Ft):w?w(Qt):s.createElement("div",{className:q()(`${Oe}-cell-inner`,`${Te}-date`,{[`${Te}-date-today`]:My(ke,Qt,e)})},s.createElement("div",{className:`${Te}-date-value`},String(e.getDate(Qt)).padStart(2,"0")),s.createElement("div",{className:`${Te}-date-content`},z?z(Qt,Ft):I==null?void 0:I(Qt))),[w,I,z,k]),Cn=s.useCallback((Qt,Ft)=>{if(k)return k(Qt,Ft);if(D)return D(Qt);const kn=Ft.locale.shortMonths||e.locale.getShortMonths(Ft.locale.locale);return s.createElement("div",{className:q()(`${Oe}-cell-inner`,`${Te}-date`,{[`${Te}-date-today`]:pg(ke,Qt,e)})},s.createElement("div",{className:`${Te}-date-value`},kn[e.getMonth(Qt)]),s.createElement("div",{className:`${Te}-date-content`},z?z(Qt,Ft):L==null?void 0:L(Qt)))},[D,L,z,k]),[Hn]=(0,In.Z)("Calendar",d1.Z),pn=Object.assign(Object.assign({},Hn),a.locale),Dn=(Qt,Ft)=>{if(Ft.type==="date")return Mt(Qt,Ft);if(Ft.type==="month")return Cn(Qt,Object.assign(Object.assign({},Ft),{locale:pn==null?void 0:pn.lang}))};return Ve(s.createElement("div",{className:q()(Te,{[`${Te}-full`]:oe,[`${Te}-mini`]:!oe,[`${Te}-rtl`]:ge==="rtl"},be,f,y,De,Ue),style:Object.assign(Object.assign({},Ie),C)},Z?Z({value:st,type:Et,onChange:Qt=>{Ht(Qt,"customize")},onTypeChange:$t}):s.createElement(NC,{prefixCls:Te,value:st,generateConfig:e,mode:Et,fullscreen:oe,locale:pn==null?void 0:pn.lang,validRange:ne,onChange:Ht,onModeChange:$t}),s.createElement(Ap,{value:st,prefixCls:Oe,locale:pn==null?void 0:pn.lang,generateConfig:e,cellRender:Dn,onSelect:Qt=>{Ht(Qt,Ct)},mode:Ct,picker:Ct,disabledDate:mt,hideHeader:!0,showWeek:ae})))};const Py=mg(Eb);Py.generateCalendar=mg;var g1=Py,v1={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z"}},{tag:"path",attrs:{d:"M192 474h672q8 0 8 8v60q0 8-8 8H160q-8 0-8-8v-60q0-8 8-8z"}}]},name:"plus",theme:"outlined"},y1=v1,Oy=function(t,a){return s.createElement(Kt.Z,(0,We.Z)({},t,{ref:a,icon:y1}))},Ry=s.forwardRef(Oy),$y=Ry,Ay=F(21611),$h=(0,s.createContext)(null),Z0=function(t){var a=t.activeTabOffset,o=t.horizontal,f=t.rtl,y=t.indicator,C=y===void 0?{}:y,w=C.size,I=C.align,D=I===void 0?"center":I,L=(0,s.useState)(),z=(0,Re.Z)(L,2),k=z[0],Z=z[1],j=(0,s.useRef)(),G=s.useCallback(function(X){return typeof w=="function"?w(X):typeof w=="number"?w:X},[w]);function H(){Ge.Z.cancel(j.current)}return(0,s.useEffect)(function(){var X={};if(a)if(o){X.width=G(a.width);var ne=f?"right":"left";D==="start"&&(X[ne]=a[ne]),D==="center"&&(X[ne]=a[ne]+a.width/2,X.transform=f?"translateX(50%)":"translateX(-50%)"),D==="end"&&(X[ne]=a[ne]+a.width,X.transform="translateX(-100%)")}else X.height=G(a.height),D==="start"&&(X.top=a.top),D==="center"&&(X.top=a.top+a.height/2,X.transform="translateY(-50%)"),D==="end"&&(X.top=a.top+a.height,X.transform="translateY(-100%)");return H(),j.current=(0,Ge.Z)(function(){Z(X)}),H},[a,o,f,D,G]),{style:k}},_1=Z0,gg={width:0,height:0,left:0,top:0};function b1(e,t,a){return(0,s.useMemo)(function(){for(var o,f=new Map,y=t.get((o=e[0])===null||o===void 0?void 0:o.key)||gg,C=y.left+y.width,w=0;w<e.length;w+=1){var I=e[w].key,D=t.get(I);if(!D){var L;D=t.get((L=e[w-1])===null||L===void 0?void 0:L.key)||gg}var z=f.get(I)||(0,Y.Z)({},D);z.right=C-z.left-z.width,f.set(I,z)}return f},[e.map(function(o){return o.key}).join("_"),t,a])}function x1(e,t){var a=s.useRef(e),o=s.useState({}),f=(0,Re.Z)(o,2),y=f[1];function C(w){var I=typeof w=="function"?w(a.current):w;I!==a.current&&t(I,a.current),a.current=I,y({})}return[a.current,C]}var C1=.1,Dy=.01,vg=20,Ly=Math.pow(.995,vg);function S1(e,t){var a=(0,s.useState)(),o=(0,Re.Z)(a,2),f=o[0],y=o[1],C=(0,s.useState)(0),w=(0,Re.Z)(C,2),I=w[0],D=w[1],L=(0,s.useState)(0),z=(0,Re.Z)(L,2),k=z[0],Z=z[1],j=(0,s.useState)(),G=(0,Re.Z)(j,2),H=G[0],X=G[1],ne=(0,s.useRef)();function oe(ge){var be=ge.touches[0],Ie=be.screenX,Oe=be.screenY;y({x:Ie,y:Oe}),window.clearInterval(ne.current)}function ae(ge){if(f){var be=ge.touches[0],Ie=be.screenX,Oe=be.screenY;y({x:Ie,y:Oe});var Te=Ie-f.x,Ve=Oe-f.y;t(Te,Ve);var De=Date.now();D(De),Z(De-I),X({x:Te,y:Ve})}}function ie(){if(f&&(y(null),X(null),H)){var ge=H.x/k,be=H.y/k,Ie=Math.abs(ge),Oe=Math.abs(be);if(Math.max(Ie,Oe)<C1)return;var Te=ge,Ve=be;ne.current=window.setInterval(function(){if(Math.abs(Te)<Dy&&Math.abs(Ve)<Dy){window.clearInterval(ne.current);return}Te*=Ly,Ve*=Ly,t(Te*vg,Ve*vg)},vg)}}var le=(0,s.useRef)();function fe(ge){var be=ge.deltaX,Ie=ge.deltaY,Oe=0,Te=Math.abs(be),Ve=Math.abs(Ie);Te===Ve?Oe=le.current==="x"?be:Ie:Te>Ve?(Oe=be,le.current="x"):(Oe=Ie,le.current="y"),t(-Oe,-Oe)&&ge.preventDefault()}var me=(0,s.useRef)(null);me.current={onTouchStart:oe,onTouchMove:ae,onTouchEnd:ie,onWheel:fe},s.useEffect(function(){function ge(Te){me.current.onTouchStart(Te)}function be(Te){me.current.onTouchMove(Te)}function Ie(Te){me.current.onTouchEnd(Te)}function Oe(Te){me.current.onWheel(Te)}return document.addEventListener("touchmove",be,{passive:!1}),document.addEventListener("touchend",Ie,{passive:!0}),e.current.addEventListener("touchstart",ge,{passive:!0}),e.current.addEventListener("wheel",Oe,{passive:!1}),function(){document.removeEventListener("touchmove",be),document.removeEventListener("touchend",Ie)}},[])}function zy(e){var t=(0,s.useState)(0),a=(0,Re.Z)(t,2),o=a[0],f=a[1],y=(0,s.useRef)(0),C=(0,s.useRef)();return C.current=e,(0,hl.o)(function(){var w;(w=C.current)===null||w===void 0||w.call(C)},[o]),function(){y.current===o&&(y.current+=1,f(y.current))}}function w1(e){var t=(0,s.useRef)([]),a=(0,s.useState)({}),o=(0,Re.Z)(a,2),f=o[1],y=(0,s.useRef)(typeof e=="function"?e():e),C=zy(function(){var I=y.current;t.current.forEach(function(D){I=D(I)}),t.current=[],y.current=I,f({})});function w(I){t.current.push(I),C()}return[y.current,w]}var E1={width:0,height:0,left:0,top:0,right:0};function Ny(e,t,a,o,f,y,C){var w=C.tabs,I=C.tabPosition,D=C.rtl,L,z,k;return["top","bottom"].includes(I)?(L="width",z=D?"right":"left",k=Math.abs(a)):(L="height",z="top",k=-a),(0,s.useMemo)(function(){if(!w.length)return[0,0];for(var Z=w.length,j=Z,G=0;G<Z;G+=1){var H=e.get(w[G].key)||E1;if(Math.floor(H[z]+H[L])>Math.floor(k+t)){j=G-1;break}}for(var X=0,ne=Z-1;ne>=0;ne-=1){var oe=e.get(w[ne].key)||E1;if(oe[z]<k){X=ne+1;break}}return X>=j?[0,0]:[X,j]},[e,t,o,f,y,k,I,w.map(function(Z){return Z.key}).join("_"),D])}function By(e){var t;return e instanceof Map?(t={},e.forEach(function(a,o){t[o]=a})):t=e,JSON.stringify(t)}var I1="TABS_DQ";function yg(e){return String(e).replace(/"/g,I1)}function bd(e,t,a,o){return!(!a||o||e===!1||e===void 0&&(t===!1||t===null))}var Fy=s.forwardRef(function(e,t){var a=e.prefixCls,o=e.editable,f=e.locale,y=e.style;return!o||o.showAdd===!1?null:s.createElement("button",{ref:t,type:"button",className:"".concat(a,"-nav-add"),style:y,"aria-label":(f==null?void 0:f.addAriaLabel)||"Add tab",onClick:function(w){o.onEdit("add",{event:w})}},o.addIcon||"+")}),ky=Fy,T1=s.forwardRef(function(e,t){var a=e.position,o=e.prefixCls,f=e.extra;if(!f)return null;var y,C={};return(0,et.Z)(f)==="object"&&!s.isValidElement(f)?C=f:C.right=f,a==="right"&&(y=C.right),a==="left"&&(y=C.left),y?s.createElement("div",{className:"".concat(o,"-extra-content"),ref:t},y):null}),_g=T1,jy=s.forwardRef(function(e,t){var a=e.prefixCls,o=e.id,f=e.tabs,y=e.locale,C=e.mobile,w=e.more,I=w===void 0?{}:w,D=e.style,L=e.className,z=e.editable,k=e.tabBarGutter,Z=e.rtl,j=e.removeAriaLabel,G=e.onTabClick,H=e.getPopupContainer,X=e.popupClassName,ne=(0,s.useState)(!1),oe=(0,Re.Z)(ne,2),ae=oe[0],ie=oe[1],le=(0,s.useState)(null),fe=(0,Re.Z)(le,2),me=fe[0],ge=fe[1],be=I.icon,Ie=be===void 0?"More":be,Oe="".concat(o,"-more-popup"),Te="".concat(a,"-dropdown"),Ve=me!==null?"".concat(Oe,"-").concat(me):null,De=y==null?void 0:y.dropdownAriaLabel;function Ue(mt,bt){mt.preventDefault(),mt.stopPropagation(),z.onEdit("remove",{key:bt,event:mt})}var ke=s.createElement(_d,{onClick:function(bt){var zt=bt.key,$t=bt.domEvent;G(zt,$t),ie(!1)},prefixCls:"".concat(Te,"-menu"),id:Oe,tabIndex:-1,role:"listbox","aria-activedescendant":Ve,selectedKeys:[me],"aria-label":De!==void 0?De:"expanded dropdown"},f.map(function(mt){var bt=mt.closable,zt=mt.disabled,$t=mt.closeIcon,Ht=mt.key,Mt=mt.label,Cn=bd(bt,$t,z,zt);return s.createElement(ms,{key:Ht,id:"".concat(Oe,"-").concat(Ht),role:"option","aria-controls":o&&"".concat(o,"-panel-").concat(Ht),disabled:zt},s.createElement("span",null,Mt),Cn&&s.createElement("button",{type:"button","aria-label":j||"remove",tabIndex:0,className:"".concat(Te,"-menu-item-remove"),onClick:function(pn){pn.stopPropagation(),Ue(pn,Ht)}},$t||z.removeIcon||"\xD7"))}));function st(mt){for(var bt=f.filter(function(Cn){return!Cn.disabled}),zt=bt.findIndex(function(Cn){return Cn.key===me})||0,$t=bt.length,Ht=0;Ht<$t;Ht+=1){zt=(zt+mt+$t)%$t;var Mt=bt[zt];if(!Mt.disabled){ge(Mt.key);return}}}function ct(mt){var bt=mt.which;if(!ae){[nt.Z.DOWN,nt.Z.SPACE,nt.Z.ENTER].includes(bt)&&(ie(!0),mt.preventDefault());return}switch(bt){case nt.Z.UP:st(-1),mt.preventDefault();break;case nt.Z.DOWN:st(1),mt.preventDefault();break;case nt.Z.ESC:ie(!1);break;case nt.Z.SPACE:case nt.Z.ENTER:me!==null&&G(me,mt);break}}(0,s.useEffect)(function(){var mt=document.getElementById(Ve);mt&&mt.scrollIntoView&&mt.scrollIntoView(!1)},[me]),(0,s.useEffect)(function(){ae||ge(null)},[ae]);var Et=(0,pe.Z)({},Z?"marginRight":"marginLeft",k);f.length||(Et.visibility="hidden",Et.order=1);var It=q()((0,pe.Z)({},"".concat(Te,"-rtl"),Z)),Ct=C?null:s.createElement(qu,(0,We.Z)({prefixCls:Te,overlay:ke,visible:f.length?ae:!1,onVisibleChange:ie,overlayClassName:q()(It,X),mouseEnterDelay:.1,mouseLeaveDelay:.1,getPopupContainer:H},I),s.createElement("button",{type:"button",className:"".concat(a,"-nav-more"),style:Et,"aria-haspopup":"listbox","aria-controls":Oe,id:"".concat(o,"-more"),"aria-expanded":ae,onKeyDown:ct},Ie));return s.createElement("div",{className:q()("".concat(a,"-nav-operations"),L),style:D,ref:t},Ct,s.createElement(ky,{prefixCls:a,locale:y,editable:z}))}),M1=s.memo(jy,function(e,t){return t.tabMoving}),FC=function(t){var a=t.prefixCls,o=t.id,f=t.active,y=t.focus,C=t.tab,w=C.key,I=C.label,D=C.disabled,L=C.closeIcon,z=C.icon,k=t.closable,Z=t.renderWrapper,j=t.removeAriaLabel,G=t.editable,H=t.onClick,X=t.onFocus,ne=t.onBlur,oe=t.onKeyDown,ae=t.onMouseDown,ie=t.onMouseUp,le=t.style,fe=t.tabCount,me=t.currentPosition,ge="".concat(a,"-tab"),be=bd(k,L,G,D);function Ie(Ue){D||H(Ue)}function Oe(Ue){Ue.preventDefault(),Ue.stopPropagation(),G.onEdit("remove",{key:w,event:Ue})}var Te=s.useMemo(function(){return z&&typeof I=="string"?s.createElement("span",null,I):I},[I,z]),Ve=s.useRef(null);s.useEffect(function(){y&&Ve.current&&Ve.current.focus()},[y]);var De=s.createElement("div",{key:w,"data-node-key":yg(w),className:q()(ge,(0,pe.Z)((0,pe.Z)((0,pe.Z)((0,pe.Z)({},"".concat(ge,"-with-remove"),be),"".concat(ge,"-active"),f),"".concat(ge,"-disabled"),D),"".concat(ge,"-focus"),y)),style:le,onClick:Ie},s.createElement("div",{ref:Ve,role:"tab","aria-selected":f,id:o&&"".concat(o,"-tab-").concat(w),className:"".concat(ge,"-btn"),"aria-controls":o&&"".concat(o,"-panel-").concat(w),"aria-disabled":D,tabIndex:D?null:f?0:-1,onClick:function(ke){ke.stopPropagation(),Ie(ke)},onKeyDown:oe,onMouseDown:ae,onMouseUp:ie,onFocus:X,onBlur:ne},y&&s.createElement("div",{"aria-live":"polite",style:{width:0,height:0,position:"absolute",overflow:"hidden",opacity:0}},"Tab ".concat(me," of ").concat(fe)),z&&s.createElement("span",{className:"".concat(ge,"-icon")},z),I&&Te),be&&s.createElement("button",{type:"button",role:"tab","aria-label":j||"remove",tabIndex:f?0:-1,className:"".concat(ge,"-remove"),onClick:function(ke){ke.stopPropagation(),Oe(ke)}},L||G.removeIcon||"\xD7"));return Z?Z(De):De},kC=FC,jC=function(t,a){var o=t.offsetWidth,f=t.offsetHeight,y=t.offsetTop,C=t.offsetLeft,w=t.getBoundingClientRect(),I=w.width,D=w.height,L=w.left,z=w.top;return Math.abs(I-o)<1?[I,D,L-a.left,z-a.top]:[o,f,C,y]},Lp=function(t){var a=t.current||{},o=a.offsetWidth,f=o===void 0?0:o,y=a.offsetHeight,C=y===void 0?0:y;if(t.current){var w=t.current.getBoundingClientRect(),I=w.width,D=w.height;if(Math.abs(I-f)<1)return[I,D]}return[f,C]},V0=function(t,a){return t[a?0:1]},ZC=s.forwardRef(function(e,t){var a=e.className,o=e.style,f=e.id,y=e.animated,C=e.activeKey,w=e.rtl,I=e.extra,D=e.editable,L=e.locale,z=e.tabPosition,k=e.tabBarGutter,Z=e.children,j=e.onTabClick,G=e.onTabScroll,H=e.indicator,X=s.useContext($h),ne=X.prefixCls,oe=X.tabs,ae=(0,s.useRef)(null),ie=(0,s.useRef)(null),le=(0,s.useRef)(null),fe=(0,s.useRef)(null),me=(0,s.useRef)(null),ge=(0,s.useRef)(null),be=(0,s.useRef)(null),Ie=z==="top"||z==="bottom",Oe=x1(0,function(_a,Ho){Ie&&G&&G({direction:_a>Ho?"left":"right"})}),Te=(0,Re.Z)(Oe,2),Ve=Te[0],De=Te[1],Ue=x1(0,function(_a,Ho){!Ie&&G&&G({direction:_a>Ho?"top":"bottom"})}),ke=(0,Re.Z)(Ue,2),st=ke[0],ct=ke[1],Et=(0,s.useState)([0,0]),It=(0,Re.Z)(Et,2),Ct=It[0],mt=It[1],bt=(0,s.useState)([0,0]),zt=(0,Re.Z)(bt,2),$t=zt[0],Ht=zt[1],Mt=(0,s.useState)([0,0]),Cn=(0,Re.Z)(Mt,2),Hn=Cn[0],pn=Cn[1],Dn=(0,s.useState)([0,0]),Qt=(0,Re.Z)(Dn,2),Ft=Qt[0],kn=Qt[1],Pn=w1(new Map),Dr=(0,Re.Z)(Pn,2),br=Dr[0],or=Dr[1],ar=b1(oe,br,$t[0]),Fn=V0(Ct,Ie),sr=V0($t,Ie),Gr=V0(Hn,Ie),yi=V0(Ft,Ie),Di=Math.floor(Fn)<Math.floor(sr+Gr),Ui=Di?Fn-yi:Fn-Gr,$o="".concat(ne,"-nav-operations-hidden"),Ri=0,mi=0;Ie&&w?(Ri=0,mi=Math.max(0,sr-Ui)):(Ri=Math.min(0,Ui-sr),mi=0);function Pi(_a){return _a<Ri?Ri:_a>mi?mi:_a}var ao=(0,s.useRef)(null),ki=(0,s.useState)(),Ao=(0,Re.Z)(ki,2),Cr=Ao[0],ur=Ao[1];function Tr(){ur(Date.now())}function qn(){ao.current&&clearTimeout(ao.current)}S1(fe,function(_a,Ho){function Da(ds,Bs){ds(function(qs){var rc=Pi(qs+Bs);return rc})}return Di?(Ie?Da(De,_a):Da(ct,Ho),qn(),Tr(),!0):!1}),(0,s.useEffect)(function(){return qn(),Cr&&(ao.current=setTimeout(function(){ur(0)},100)),qn},[Cr]);var pi=Ny(ar,Ui,Ie?Ve:st,sr,Gr,yi,(0,Y.Z)((0,Y.Z)({},e),{},{tabs:oe})),ji=(0,Re.Z)(pi,2),go=ji[0],ra=ji[1],Aa=(0,yr.Z)(function(){var _a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:C,Ho=ar.get(_a)||{width:0,height:0,left:0,right:0,top:0};if(Ie){var Da=Ve;w?Ho.right<Ve?Da=Ho.right:Ho.right+Ho.width>Ve+Ui&&(Da=Ho.right+Ho.width-Ui):Ho.left<-Ve?Da=-Ho.left:Ho.left+Ho.width>-Ve+Ui&&(Da=-(Ho.left+Ho.width-Ui)),ct(0),De(Pi(Da))}else{var ds=st;Ho.top<-st?ds=-Ho.top:Ho.top+Ho.height>-st+Ui&&(ds=-(Ho.top+Ho.height-Ui)),De(0),ct(Pi(ds))}}),oa=(0,s.useState)(),Cs=(0,Re.Z)(oa,2),Za=Cs[0],Ga=Cs[1],va=(0,s.useState)(!1),ts=(0,Re.Z)(va,2),As=ts[0],Ro=ts[1],ta=oe.filter(function(_a){return!_a.disabled}).map(function(_a){return _a.key}),$a=function(Ho){var Da=ta.indexOf(Za||C),ds=ta.length,Bs=(Da+Ho+ds)%ds,qs=ta[Bs];Ga(qs)},Ka=function(Ho){var Da=Ho.code,ds=w&&Ie,Bs=ta[0],qs=ta[ta.length-1];switch(Da){case"ArrowLeft":{Ie&&$a(ds?1:-1);break}case"ArrowRight":{Ie&&$a(ds?-1:1);break}case"ArrowUp":{Ho.preventDefault(),Ie||$a(-1);break}case"ArrowDown":{Ho.preventDefault(),Ie||$a(1);break}case"Home":{Ho.preventDefault(),Ga(Bs);break}case"End":{Ho.preventDefault(),Ga(qs);break}case"Enter":case"Space":{Ho.preventDefault(),j(Za,Ho);break}case"Backspace":case"Delete":{var rc=ta.indexOf(Za),Js=oe.find(function(cs){return cs.key===Za}),La=bd(Js==null?void 0:Js.closable,Js==null?void 0:Js.closeIcon,D,Js==null?void 0:Js.disabled);La&&(Ho.preventDefault(),Ho.stopPropagation(),D.onEdit("remove",{key:Za,event:Ho}),rc===ta.length-1?$a(-1):$a(1));break}}},ss={};Ie?ss[w?"marginRight":"marginLeft"]=k:ss.marginTop=k;var ll=oe.map(function(_a,Ho){var Da=_a.key;return s.createElement(kC,{id:f,prefixCls:ne,key:Da,tab:_a,style:Ho===0?void 0:ss,closable:_a.closable,editable:D,active:Da===C,focus:Da===Za,renderWrapper:Z,removeAriaLabel:L==null?void 0:L.removeAriaLabel,tabCount:ta.length,currentPosition:Ho+1,onClick:function(Bs){j(Da,Bs)},onKeyDown:Ka,onFocus:function(){As||Ga(Da),Aa(Da),Tr(),fe.current&&(w||(fe.current.scrollLeft=0),fe.current.scrollTop=0)},onBlur:function(){Ga(void 0)},onMouseDown:function(){Ro(!0)},onMouseUp:function(){Ro(!1)}})}),Rl=function(){return or(function(){var Ho,Da=new Map,ds=(Ho=me.current)===null||Ho===void 0?void 0:Ho.getBoundingClientRect();return oe.forEach(function(Bs){var qs,rc=Bs.key,Js=(qs=me.current)===null||qs===void 0?void 0:qs.querySelector('[data-node-key="'.concat(yg(rc),'"]'));if(Js){var La=jC(Js,ds),cs=(0,Re.Z)(La,4),Ss=cs[0],$l=cs[1],Fu=cs[2],Kh=cs[3];Da.set(rc,{width:Ss,height:$l,left:Fu,top:Kh})}}),Da})};(0,s.useEffect)(function(){Rl()},[oe.map(function(_a){return _a.key}).join("_")]);var yl=zy(function(){var _a=Lp(ae),Ho=Lp(ie),Da=Lp(le);mt([_a[0]-Ho[0]-Da[0],_a[1]-Ho[1]-Da[1]]);var ds=Lp(be);pn(ds);var Bs=Lp(ge);kn(Bs);var qs=Lp(me);Ht([qs[0]-ds[0],qs[1]-ds[1]]),Rl()}),Xl=oe.slice(0,go),ga=oe.slice(ra+1),qo=[].concat((0,xe.Z)(Xl),(0,xe.Z)(ga)),Jo=ar.get(C),Vo=_1({activeTabOffset:Jo,horizontal:Ie,indicator:H,rtl:w}),ls=Vo.style;(0,s.useEffect)(function(){Aa()},[C,Ri,mi,By(Jo),By(ar),Ie]),(0,s.useEffect)(function(){yl()},[w]);var Ds=!!qo.length,ka="".concat(ne,"-nav-wrap"),Ca,gs,vs,Ys;return Ie?w?(gs=Ve>0,Ca=Ve!==mi):(Ca=Ve<0,gs=Ve!==Ri):(vs=st<0,Ys=st!==Ri),s.createElement(c.Z,{onResize:yl},s.createElement("div",{ref:(0,Yt.x1)(t,ae),role:"tablist","aria-orientation":Ie?"horizontal":"vertical",className:q()("".concat(ne,"-nav"),a),style:o,onKeyDown:function(){Tr()}},s.createElement(_g,{ref:ie,position:"left",extra:I,prefixCls:ne}),s.createElement(c.Z,{onResize:yl},s.createElement("div",{className:q()(ka,(0,pe.Z)((0,pe.Z)((0,pe.Z)((0,pe.Z)({},"".concat(ka,"-ping-left"),Ca),"".concat(ka,"-ping-right"),gs),"".concat(ka,"-ping-top"),vs),"".concat(ka,"-ping-bottom"),Ys)),ref:fe},s.createElement(c.Z,{onResize:yl},s.createElement("div",{ref:me,className:"".concat(ne,"-nav-list"),style:{transform:"translate(".concat(Ve,"px, ").concat(st,"px)"),transition:Cr?"none":void 0}},ll,s.createElement(ky,{ref:be,prefixCls:ne,locale:L,editable:D,style:(0,Y.Z)((0,Y.Z)({},ll.length===0?void 0:ss),{},{visibility:Ds?"hidden":null})}),s.createElement("div",{className:q()("".concat(ne,"-ink-bar"),(0,pe.Z)({},"".concat(ne,"-ink-bar-animated"),y.inkBar)),style:ls}))))),s.createElement(M1,(0,We.Z)({},e,{removeAriaLabel:L==null?void 0:L.removeAriaLabel,ref:ge,prefixCls:ne,tabs:qo,className:!Ds&&$o,tabMoving:!!Cr})),s.createElement(_g,{ref:le,position:"right",extra:I,prefixCls:ne})))}),P1=ZC,O1=s.forwardRef(function(e,t){var a=e.prefixCls,o=e.className,f=e.style,y=e.id,C=e.active,w=e.tabKey,I=e.children;return s.createElement("div",{id:y&&"".concat(y,"-panel-").concat(w),role:"tabpanel",tabIndex:C?0:-1,"aria-labelledby":y&&"".concat(y,"-tab-").concat(w),"aria-hidden":!C,style:f,className:q()(a,C&&"".concat(a,"-active"),o),ref:t},I)}),bg=O1,R1=["renderTabBar"],$1=["label","key"],A1=function(t){var a=t.renderTabBar,o=(0,de.Z)(t,R1),f=s.useContext($h),y=f.tabs;if(a){var C=(0,Y.Z)((0,Y.Z)({},o),{},{panes:y.map(function(w){var I=w.label,D=w.key,L=(0,de.Z)(w,$1);return s.createElement(bg,(0,We.Z)({tab:I,key:D,tabKey:D},L))})});return a(C,P1)}return s.createElement(P1,o)},Zy=A1,D1=["key","forceRender","style","className","destroyInactiveTabPane"],L1=function(t){var a=t.id,o=t.activeKey,f=t.animated,y=t.tabPosition,C=t.destroyInactiveTabPane,w=s.useContext($h),I=w.prefixCls,D=w.tabs,L=f.tabPane,z="".concat(I,"-tabpane");return s.createElement("div",{className:q()("".concat(I,"-content-holder"))},s.createElement("div",{className:q()("".concat(I,"-content"),"".concat(I,"-content-").concat(y),(0,pe.Z)({},"".concat(I,"-content-animated"),L))},D.map(function(k){var Z=k.key,j=k.forceRender,G=k.style,H=k.className,X=k.destroyInactiveTabPane,ne=(0,de.Z)(k,D1),oe=Z===o;return s.createElement(On.ZP,(0,We.Z)({key:Z,visible:oe,forceRender:j,removeOnLeave:!!(C||X),leavedClassName:"".concat(z,"-hidden")},f.tabPaneMotion),function(ae,ie){var le=ae.style,fe=ae.className;return s.createElement(bg,(0,We.Z)({},ne,{prefixCls:z,id:a,tabKey:Z,animated:L,active:oe,style:(0,Y.Z)((0,Y.Z)({},G),le),className:q()(H,fe),ref:ie}))})})))},Ah=L1;function zp(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{inkBar:!0,tabPane:!1},t;return e===!1?t={inkBar:!1,tabPane:!1}:e===!0?t={inkBar:!0,tabPane:!1}:t=(0,Y.Z)({inkBar:!0},(0,et.Z)(e)==="object"?e:{}),t.tabPaneMotion&&t.tabPane===void 0&&(t.tabPane=!0),!t.tabPaneMotion&&t.tabPane&&(t.tabPane=!1),t}var z1=["id","prefixCls","className","items","direction","activeKey","defaultActiveKey","editable","animated","tabPosition","tabBarGutter","tabBarStyle","tabBarExtraContent","locale","more","destroyInactiveTabPane","renderTabBar","onChange","onTabClick","onTabScroll","getPopupContainer","popupClassName","indicator"],Np=0,VC=s.forwardRef(function(e,t){var a=e.id,o=e.prefixCls,f=o===void 0?"rc-tabs":o,y=e.className,C=e.items,w=e.direction,I=e.activeKey,D=e.defaultActiveKey,L=e.editable,z=e.animated,k=e.tabPosition,Z=k===void 0?"top":k,j=e.tabBarGutter,G=e.tabBarStyle,H=e.tabBarExtraContent,X=e.locale,ne=e.more,oe=e.destroyInactiveTabPane,ae=e.renderTabBar,ie=e.onChange,le=e.onTabClick,fe=e.onTabScroll,me=e.getPopupContainer,ge=e.popupClassName,be=e.indicator,Ie=(0,de.Z)(e,z1),Oe=s.useMemo(function(){return(C||[]).filter(function(Ft){return Ft&&(0,et.Z)(Ft)==="object"&&"key"in Ft})},[C]),Te=w==="rtl",Ve=zp(z),De=(0,s.useState)(!1),Ue=(0,Re.Z)(De,2),ke=Ue[0],st=Ue[1];(0,s.useEffect)(function(){st((0,Ay.Z)())},[]);var ct=(0,Fs.Z)(function(){var Ft;return(Ft=Oe[0])===null||Ft===void 0?void 0:Ft.key},{value:I,defaultValue:D}),Et=(0,Re.Z)(ct,2),It=Et[0],Ct=Et[1],mt=(0,s.useState)(function(){return Oe.findIndex(function(Ft){return Ft.key===It})}),bt=(0,Re.Z)(mt,2),zt=bt[0],$t=bt[1];(0,s.useEffect)(function(){var Ft=Oe.findIndex(function(Pn){return Pn.key===It});if(Ft===-1){var kn;Ft=Math.max(0,Math.min(zt,Oe.length-1)),Ct((kn=Oe[Ft])===null||kn===void 0?void 0:kn.key)}$t(Ft)},[Oe.map(function(Ft){return Ft.key}).join("_"),It,zt]);var Ht=(0,Fs.Z)(null,{value:a}),Mt=(0,Re.Z)(Ht,2),Cn=Mt[0],Hn=Mt[1];(0,s.useEffect)(function(){a||(Hn("rc-tabs-".concat(Np)),Np+=1)},[]);function pn(Ft,kn){le==null||le(Ft,kn);var Pn=Ft!==It;Ct(Ft),Pn&&(ie==null||ie(Ft))}var Dn={id:Cn,activeKey:It,animated:Ve,tabPosition:Z,rtl:Te,mobile:ke},Qt=(0,Y.Z)((0,Y.Z)({},Dn),{},{editable:L,locale:X,more:ne,tabBarGutter:j,onTabClick:pn,onTabScroll:fe,extra:H,style:G,panes:null,getPopupContainer:me,popupClassName:ge,indicator:be});return s.createElement($h.Provider,{value:{tabs:Oe,prefixCls:f}},s.createElement("div",(0,We.Z)({ref:t,id:a,className:q()(f,"".concat(f,"-").concat(Z),(0,pe.Z)((0,pe.Z)((0,pe.Z)({},"".concat(f,"-mobile"),ke),"".concat(f,"-editable"),L),"".concat(f,"-rtl"),Te),y)},Ie),s.createElement(Zy,(0,We.Z)({},Qt,{renderTabBar:ae})),s.createElement(Ah,(0,We.Z)({destroyInactiveTabPane:oe},Dn,{animated:Ve}))))}),Vy=VC,H0=Vy;const Hy={motionAppear:!1,motionEnter:!0,motionLeave:!0};function Bp(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{inkBar:!0,tabPane:!1},a;return t===!1?a={inkBar:!1,tabPane:!1}:t===!0?a={inkBar:!0,tabPane:!0}:a=Object.assign({inkBar:!0},typeof t=="object"?t:{}),a.tabPane&&(a.tabPaneMotion=Object.assign(Object.assign({},Hy),{motionName:(0,Tt.m)(e,"switch")})),a}var Uy=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a};function Dh(e){return e.filter(t=>t)}function N1(e,t){if(e)return e;const a=(0,Wl.Z)(t).map(o=>{if(s.isValidElement(o)){const{key:f,props:y}=o,C=y||{},{tab:w}=C,I=Uy(C,["tab"]);return Object.assign(Object.assign({key:String(f)},I),{label:w})}return null});return Dh(a)}var B1=e=>{const{componentCls:t,motionDurationSlow:a}=e;return[{[t]:{[`${t}-switch`]:{"&-appear, &-enter":{transition:"none","&-start":{opacity:0},"&-active":{opacity:1,transition:`opacity ${a}`}},"&-leave":{position:"absolute",transition:"none",inset:0,"&-start":{opacity:1},"&-active":{opacity:0,transition:`opacity ${a}`}}}}},[(0,Pc.oN)(e,"slide-up"),(0,Pc.oN)(e,"slide-down")]]};const F1=e=>{const{componentCls:t,tabsCardPadding:a,cardBg:o,cardGutter:f,colorBorderSecondary:y,itemSelectedColor:C}=e;return{[`${t}-card`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab`]:{margin:0,padding:a,background:o,border:`${(0,he.bf)(e.lineWidth)} ${e.lineType} ${y}`,transition:`all ${e.motionDurationSlow} ${e.motionEaseInOut}`},[`${t}-tab-active`]:{color:C,background:e.colorBgContainer},[`${t}-tab-focus`]:Object.assign({},(0,Jt.oN)(e,-3)),[`${t}-ink-bar`]:{visibility:"hidden"},[`& ${t}-tab${t}-tab-focus ${t}-tab-btn`]:{outline:"none"}},[`&${t}-top, &${t}-bottom`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab + ${t}-tab`]:{marginLeft:{_skip_check_:!0,value:(0,he.bf)(f)}}}},[`&${t}-top`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab`]:{borderRadius:`${(0,he.bf)(e.borderRadiusLG)} ${(0,he.bf)(e.borderRadiusLG)} 0 0`},[`${t}-tab-active`]:{borderBottomColor:e.colorBgContainer}}},[`&${t}-bottom`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab`]:{borderRadius:`0 0 ${(0,he.bf)(e.borderRadiusLG)} ${(0,he.bf)(e.borderRadiusLG)}`},[`${t}-tab-active`]:{borderTopColor:e.colorBgContainer}}},[`&${t}-left, &${t}-right`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab + ${t}-tab`]:{marginTop:(0,he.bf)(f)}}},[`&${t}-left`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab`]:{borderRadius:{_skip_check_:!0,value:`${(0,he.bf)(e.borderRadiusLG)} 0 0 ${(0,he.bf)(e.borderRadiusLG)}`}},[`${t}-tab-active`]:{borderRightColor:{_skip_check_:!0,value:e.colorBgContainer}}}},[`&${t}-right`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab`]:{borderRadius:{_skip_check_:!0,value:`0 ${(0,he.bf)(e.borderRadiusLG)} ${(0,he.bf)(e.borderRadiusLG)} 0`}},[`${t}-tab-active`]:{borderLeftColor:{_skip_check_:!0,value:e.colorBgContainer}}}}}}},U0=e=>{const{componentCls:t,itemHoverColor:a,dropdownEdgeChildVerticalPadding:o}=e;return{[`${t}-dropdown`]:Object.assign(Object.assign({},(0,Jt.Wf)(e)),{position:"absolute",top:-9999,left:{_skip_check_:!0,value:-9999},zIndex:e.zIndexPopup,display:"block","&-hidden":{display:"none"},[`${t}-dropdown-menu`]:{maxHeight:e.tabsDropdownHeight,margin:0,padding:`${(0,he.bf)(o)} 0`,overflowX:"hidden",overflowY:"auto",textAlign:{_skip_check_:!0,value:"left"},listStyleType:"none",backgroundColor:e.colorBgContainer,backgroundClip:"padding-box",borderRadius:e.borderRadiusLG,outline:"none",boxShadow:e.boxShadowSecondary,"&-item":Object.assign(Object.assign({},Jt.vS),{display:"flex",alignItems:"center",minWidth:e.tabsDropdownWidth,margin:0,padding:`${(0,he.bf)(e.paddingXXS)} ${(0,he.bf)(e.paddingSM)}`,color:e.colorText,fontWeight:"normal",fontSize:e.fontSize,lineHeight:e.lineHeight,cursor:"pointer",transition:`all ${e.motionDurationSlow}`,"> span":{flex:1,whiteSpace:"nowrap"},"&-remove":{flex:"none",marginLeft:{_skip_check_:!0,value:e.marginSM},color:e.colorTextDescription,fontSize:e.fontSizeSM,background:"transparent",border:0,cursor:"pointer","&:hover":{color:a}},"&:hover":{background:e.controlItemBgHover},"&-disabled":{"&, &:hover":{color:e.colorTextDisabled,background:"transparent",cursor:"not-allowed"}}})}})}},xg=e=>{const{componentCls:t,margin:a,colorBorderSecondary:o,horizontalMargin:f,verticalItemPadding:y,verticalItemMargin:C,calc:w}=e;return{[`${t}-top, ${t}-bottom`]:{flexDirection:"column",[`> ${t}-nav, > div > ${t}-nav`]:{margin:f,"&::before":{position:"absolute",right:{_skip_check_:!0,value:0},left:{_skip_check_:!0,value:0},borderBottom:`${(0,he.bf)(e.lineWidth)} ${e.lineType} ${o}`,content:"''"},[`${t}-ink-bar`]:{height:e.lineWidthBold,"&-animated":{transition:`width ${e.motionDurationSlow}, left ${e.motionDurationSlow},
            right ${e.motionDurationSlow}`}},[`${t}-nav-wrap`]:{"&::before, &::after":{top:0,bottom:0,width:e.controlHeight},"&::before":{left:{_skip_check_:!0,value:0},boxShadow:e.boxShadowTabsOverflowLeft},"&::after":{right:{_skip_check_:!0,value:0},boxShadow:e.boxShadowTabsOverflowRight},[`&${t}-nav-wrap-ping-left::before`]:{opacity:1},[`&${t}-nav-wrap-ping-right::after`]:{opacity:1}}}},[`${t}-top`]:{[`> ${t}-nav,
        > div > ${t}-nav`]:{"&::before":{bottom:0},[`${t}-ink-bar`]:{bottom:0}}},[`${t}-bottom`]:{[`> ${t}-nav, > div > ${t}-nav`]:{order:1,marginTop:a,marginBottom:0,"&::before":{top:0},[`${t}-ink-bar`]:{top:0}},[`> ${t}-content-holder, > div > ${t}-content-holder`]:{order:0}},[`${t}-left, ${t}-right`]:{[`> ${t}-nav, > div > ${t}-nav`]:{flexDirection:"column",minWidth:w(e.controlHeight).mul(1.25).equal(),[`${t}-tab`]:{padding:y,textAlign:"center"},[`${t}-tab + ${t}-tab`]:{margin:C},[`${t}-nav-wrap`]:{flexDirection:"column","&::before, &::after":{right:{_skip_check_:!0,value:0},left:{_skip_check_:!0,value:0},height:e.controlHeight},"&::before":{top:0,boxShadow:e.boxShadowTabsOverflowTop},"&::after":{bottom:0,boxShadow:e.boxShadowTabsOverflowBottom},[`&${t}-nav-wrap-ping-top::before`]:{opacity:1},[`&${t}-nav-wrap-ping-bottom::after`]:{opacity:1}},[`${t}-ink-bar`]:{width:e.lineWidthBold,"&-animated":{transition:`height ${e.motionDurationSlow}, top ${e.motionDurationSlow}`}},[`${t}-nav-list, ${t}-nav-operations`]:{flex:"1 0 auto",flexDirection:"column"}}},[`${t}-left`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-ink-bar`]:{right:{_skip_check_:!0,value:0}}},[`> ${t}-content-holder, > div > ${t}-content-holder`]:{marginLeft:{_skip_check_:!0,value:(0,he.bf)(w(e.lineWidth).mul(-1).equal())},borderLeft:{_skip_check_:!0,value:`${(0,he.bf)(e.lineWidth)} ${e.lineType} ${e.colorBorder}`},[`> ${t}-content > ${t}-tabpane`]:{paddingLeft:{_skip_check_:!0,value:e.paddingLG}}}},[`${t}-right`]:{[`> ${t}-nav, > div > ${t}-nav`]:{order:1,[`${t}-ink-bar`]:{left:{_skip_check_:!0,value:0}}},[`> ${t}-content-holder, > div > ${t}-content-holder`]:{order:0,marginRight:{_skip_check_:!0,value:w(e.lineWidth).mul(-1).equal()},borderRight:{_skip_check_:!0,value:`${(0,he.bf)(e.lineWidth)} ${e.lineType} ${e.colorBorder}`},[`> ${t}-content > ${t}-tabpane`]:{paddingRight:{_skip_check_:!0,value:e.paddingLG}}}}}},UC=e=>{const{componentCls:t,cardPaddingSM:a,cardPaddingLG:o,horizontalItemPaddingSM:f,horizontalItemPaddingLG:y}=e;return{[t]:{"&-small":{[`> ${t}-nav`]:{[`${t}-tab`]:{padding:f,fontSize:e.titleFontSizeSM}}},"&-large":{[`> ${t}-nav`]:{[`${t}-tab`]:{padding:y,fontSize:e.titleFontSizeLG}}}},[`${t}-card`]:{[`&${t}-small`]:{[`> ${t}-nav`]:{[`${t}-tab`]:{padding:a}},[`&${t}-bottom`]:{[`> ${t}-nav ${t}-tab`]:{borderRadius:`0 0 ${(0,he.bf)(e.borderRadius)} ${(0,he.bf)(e.borderRadius)}`}},[`&${t}-top`]:{[`> ${t}-nav ${t}-tab`]:{borderRadius:`${(0,he.bf)(e.borderRadius)} ${(0,he.bf)(e.borderRadius)} 0 0`}},[`&${t}-right`]:{[`> ${t}-nav ${t}-tab`]:{borderRadius:{_skip_check_:!0,value:`0 ${(0,he.bf)(e.borderRadius)} ${(0,he.bf)(e.borderRadius)} 0`}}},[`&${t}-left`]:{[`> ${t}-nav ${t}-tab`]:{borderRadius:{_skip_check_:!0,value:`${(0,he.bf)(e.borderRadius)} 0 0 ${(0,he.bf)(e.borderRadius)}`}}}},[`&${t}-large`]:{[`> ${t}-nav`]:{[`${t}-tab`]:{padding:o}}}}}},WC=e=>{const{componentCls:t,itemActiveColor:a,itemHoverColor:o,iconCls:f,tabsHorizontalItemMargin:y,horizontalItemPadding:C,itemSelectedColor:w,itemColor:I}=e,D=`${t}-tab`;return{[D]:{position:"relative",WebkitTouchCallout:"none",WebkitTapHighlightColor:"transparent",display:"inline-flex",alignItems:"center",padding:C,fontSize:e.titleFontSize,background:"transparent",border:0,outline:"none",cursor:"pointer",color:I,"&-btn, &-remove":{"&:focus:not(:focus-visible), &:active":{color:a}},"&-btn":{outline:"none",transition:`all ${e.motionDurationSlow}`,[`${D}-icon:not(:last-child)`]:{marginInlineEnd:e.marginSM}},"&-remove":Object.assign({flex:"none",marginRight:{_skip_check_:!0,value:e.calc(e.marginXXS).mul(-1).equal()},marginLeft:{_skip_check_:!0,value:e.marginXS},color:e.colorTextDescription,fontSize:e.fontSizeSM,background:"transparent",border:"none",outline:"none",cursor:"pointer",transition:`all ${e.motionDurationSlow}`,"&:hover":{color:e.colorTextHeading}},(0,Jt.Qy)(e)),"&:hover":{color:o},[`&${D}-active ${D}-btn`]:{color:w,textShadow:e.tabsActiveTextShadow},[`&${D}-focus ${D}-btn`]:Object.assign({},(0,Jt.oN)(e)),[`&${D}-disabled`]:{color:e.colorTextDisabled,cursor:"not-allowed"},[`&${D}-disabled ${D}-btn, &${D}-disabled ${t}-remove`]:{"&:focus, &:active":{color:e.colorTextDisabled}},[`& ${D}-remove ${f}`]:{margin:0},[`${f}:not(:last-child)`]:{marginRight:{_skip_check_:!0,value:e.marginSM}}},[`${D} + ${D}`]:{margin:{_skip_check_:!0,value:y}}}},k1=e=>{const{componentCls:t,tabsHorizontalItemMarginRTL:a,iconCls:o,cardGutter:f,calc:y}=e;return{[`${t}-rtl`]:{direction:"rtl",[`${t}-nav`]:{[`${t}-tab`]:{margin:{_skip_check_:!0,value:a},[`${t}-tab:last-of-type`]:{marginLeft:{_skip_check_:!0,value:0}},[o]:{marginRight:{_skip_check_:!0,value:0},marginLeft:{_skip_check_:!0,value:(0,he.bf)(e.marginSM)}},[`${t}-tab-remove`]:{marginRight:{_skip_check_:!0,value:(0,he.bf)(e.marginXS)},marginLeft:{_skip_check_:!0,value:(0,he.bf)(y(e.marginXXS).mul(-1).equal())},[o]:{margin:0}}}},[`&${t}-left`]:{[`> ${t}-nav`]:{order:1},[`> ${t}-content-holder`]:{order:0}},[`&${t}-right`]:{[`> ${t}-nav`]:{order:0},[`> ${t}-content-holder`]:{order:1}},[`&${t}-card${t}-top, &${t}-card${t}-bottom`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab + ${t}-tab`]:{marginRight:{_skip_check_:!0,value:f},marginLeft:{_skip_check_:!0,value:0}}}}},[`${t}-dropdown-rtl`]:{direction:"rtl"},[`${t}-menu-item`]:{[`${t}-dropdown-rtl`]:{textAlign:{_skip_check_:!0,value:"right"}}}}},GC=e=>{const{componentCls:t,tabsCardPadding:a,cardHeight:o,cardGutter:f,itemHoverColor:y,itemActiveColor:C,colorBorderSecondary:w}=e;return{[t]:Object.assign(Object.assign(Object.assign(Object.assign({},(0,Jt.Wf)(e)),{display:"flex",[`> ${t}-nav, > div > ${t}-nav`]:{position:"relative",display:"flex",flex:"none",alignItems:"center",[`${t}-nav-wrap`]:{position:"relative",display:"flex",flex:"auto",alignSelf:"stretch",overflow:"hidden",whiteSpace:"nowrap",transform:"translate(0)","&::before, &::after":{position:"absolute",zIndex:1,opacity:0,transition:`opacity ${e.motionDurationSlow}`,content:"''",pointerEvents:"none"}},[`${t}-nav-list`]:{position:"relative",display:"flex",transition:`opacity ${e.motionDurationSlow}`},[`${t}-nav-operations`]:{display:"flex",alignSelf:"stretch"},[`${t}-nav-operations-hidden`]:{position:"absolute",visibility:"hidden",pointerEvents:"none"},[`${t}-nav-more`]:{position:"relative",padding:a,background:"transparent",border:0,color:e.colorText,"&::after":{position:"absolute",right:{_skip_check_:!0,value:0},bottom:0,left:{_skip_check_:!0,value:0},height:e.calc(e.controlHeightLG).div(8).equal(),transform:"translateY(100%)",content:"''"}},[`${t}-nav-add`]:Object.assign({minWidth:o,marginLeft:{_skip_check_:!0,value:f},padding:(0,he.bf)(e.paddingXS),background:"transparent",border:`${(0,he.bf)(e.lineWidth)} ${e.lineType} ${w}`,borderRadius:`${(0,he.bf)(e.borderRadiusLG)} ${(0,he.bf)(e.borderRadiusLG)} 0 0`,outline:"none",cursor:"pointer",color:e.colorText,transition:`all ${e.motionDurationSlow} ${e.motionEaseInOut}`,"&:hover":{color:y},"&:active, &:focus:not(:focus-visible)":{color:C}},(0,Jt.Qy)(e,-3))},[`${t}-extra-content`]:{flex:"none"},[`${t}-ink-bar`]:{position:"absolute",background:e.inkBarColor,pointerEvents:"none"}}),WC(e)),{[`${t}-content`]:{position:"relative",width:"100%"},[`${t}-content-holder`]:{flex:"auto",minWidth:0,minHeight:0},[`${t}-tabpane`]:Object.assign(Object.assign({},(0,Jt.Qy)(e)),{"&-hidden":{display:"none"}})}),[`${t}-centered`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-nav-wrap`]:{[`&:not([class*='${t}-nav-wrap-ping']) > ${t}-nav-list`]:{margin:"auto"}}}}}},KC=e=>{const t=e.controlHeightLG;return{zIndexPopup:e.zIndexPopupBase+50,cardBg:e.colorFillAlter,cardHeight:t,cardPadding:`${(t-Math.round(e.fontSize*e.lineHeight))/2-e.lineWidth}px ${e.padding}px`,cardPaddingSM:`${e.paddingXXS*1.5}px ${e.padding}px`,cardPaddingLG:`${e.paddingXS}px ${e.padding}px ${e.paddingXXS*1.5}px`,titleFontSize:e.fontSize,titleFontSizeLG:e.fontSizeLG,titleFontSizeSM:e.fontSize,inkBarColor:e.colorPrimary,horizontalMargin:`0 0 ${e.margin}px 0`,horizontalItemGutter:32,horizontalItemMargin:"",horizontalItemMarginRTL:"",horizontalItemPadding:`${e.paddingSM}px 0`,horizontalItemPaddingSM:`${e.paddingXS}px 0`,horizontalItemPaddingLG:`${e.padding}px 0`,verticalItemPadding:`${e.paddingXS}px ${e.paddingLG}px`,verticalItemMargin:`${e.margin}px 0 0 0`,itemColor:e.colorText,itemSelectedColor:e.colorPrimary,itemHoverColor:e.colorPrimaryHover,itemActiveColor:e.colorPrimaryActive,cardGutter:e.marginXXS/2}};var XC=(0,te.I$)("Tabs",e=>{const t=(0,Qr.IX)(e,{tabsCardPadding:e.cardPadding,dropdownEdgeChildVerticalPadding:e.paddingXXS,tabsActiveTextShadow:"0 0 0.25px currentcolor",tabsDropdownHeight:200,tabsDropdownWidth:120,tabsHorizontalItemMargin:`0 0 0 ${(0,he.bf)(e.horizontalItemGutter)}`,tabsHorizontalItemMarginRTL:`0 0 0 ${(0,he.bf)(e.horizontalItemGutter)}`});return[UC(t),k1(t),xg(t),U0(t),F1(t),GC(t),B1(t)]},KC),Cg=()=>null,Wy=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a};const kf=e=>{var t,a,o,f,y,C,w,I,D,L,z;const{type:k,className:Z,rootClassName:j,size:G,onEdit:H,hideAdd:X,centered:ne,addIcon:oe,removeIcon:ae,moreIcon:ie,more:le,popupClassName:fe,children:me,items:ge,animated:be,style:Ie,indicatorSize:Oe,indicator:Te}=e,Ve=Wy(e,["type","className","rootClassName","size","onEdit","hideAdd","centered","addIcon","removeIcon","moreIcon","more","popupClassName","children","items","animated","style","indicatorSize","indicator"]),{prefixCls:De}=Ve,{direction:Ue,tabs:ke,getPrefixCls:st,getPopupContainer:ct}=s.useContext(ye.E_),Et=st("tabs",De),It=(0,Un.Z)(Et),[Ct,mt,bt]=XC(Et,It);let zt;k==="editable-card"&&(zt={onEdit:(Dn,Qt)=>{let{key:Ft,event:kn}=Qt;H==null||H(Dn==="add"?kn:Ft,Dn)},removeIcon:(t=ae!=null?ae:ke==null?void 0:ke.removeIcon)!==null&&t!==void 0?t:s.createElement(cr.Z,null),addIcon:(oe!=null?oe:ke==null?void 0:ke.addIcon)||s.createElement($y,null),showAdd:X!==!0});const $t=st(),Ht=(0,xr.Z)(G),Mt=N1(ge,me),Cn=Bp(Et,be),Hn=Object.assign(Object.assign({},ke==null?void 0:ke.style),Ie),pn={align:(a=Te==null?void 0:Te.align)!==null&&a!==void 0?a:(o=ke==null?void 0:ke.indicator)===null||o===void 0?void 0:o.align,size:(w=(y=(f=Te==null?void 0:Te.size)!==null&&f!==void 0?f:Oe)!==null&&y!==void 0?y:(C=ke==null?void 0:ke.indicator)===null||C===void 0?void 0:C.size)!==null&&w!==void 0?w:ke==null?void 0:ke.indicatorSize};return Ct(s.createElement(H0,Object.assign({direction:Ue,getPopupContainer:ct},Ve,{items:Mt,className:q()({[`${Et}-${Ht}`]:Ht,[`${Et}-card`]:["card","editable-card"].includes(k),[`${Et}-editable-card`]:k==="editable-card",[`${Et}-centered`]:ne},ke==null?void 0:ke.className,Z,j,mt,bt,It),popupClassName:q()(fe,mt,bt,It),style:Hn,editable:zt,more:Object.assign({icon:(z=(L=(D=(I=ke==null?void 0:ke.more)===null||I===void 0?void 0:I.icon)!==null&&D!==void 0?D:ke==null?void 0:ke.moreIcon)!==null&&L!==void 0?L:ie)!==null&&z!==void 0?z:s.createElement(Zv,null),transitionName:`${$t}-slide-up`},le),prefixCls:Et,animated:Cn,indicator:pn})))};kf.TabPane=Cg;var Lh=kf,Sg=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a},wg=e=>{var{prefixCls:t,className:a,hoverable:o=!0}=e,f=Sg(e,["prefixCls","className","hoverable"]);const{getPrefixCls:y}=s.useContext(ye.E_),C=y("card",t),w=q()(`${C}-grid`,a,{[`${C}-grid-hoverable`]:o});return s.createElement("div",Object.assign({},f,{className:w}))};const Gy=e=>{const{antCls:t,componentCls:a,headerHeight:o,headerPadding:f,tabsMarginBottom:y}=e;return Object.assign(Object.assign({display:"flex",justifyContent:"center",flexDirection:"column",minHeight:o,marginBottom:-1,padding:`0 ${(0,he.bf)(f)}`,color:e.colorTextHeading,fontWeight:e.fontWeightStrong,fontSize:e.headerFontSize,background:e.headerBg,borderBottom:`${(0,he.bf)(e.lineWidth)} ${e.lineType} ${e.colorBorderSecondary}`,borderRadius:`${(0,he.bf)(e.borderRadiusLG)} ${(0,he.bf)(e.borderRadiusLG)} 0 0`},(0,Jt.dF)()),{"&-wrapper":{width:"100%",display:"flex",alignItems:"center"},"&-title":Object.assign(Object.assign({display:"inline-block",flex:1},Jt.vS),{[`
          > ${a}-typography,
          > ${a}-typography-edit-content
        `]:{insetInlineStart:0,marginTop:0,marginBottom:0}}),[`${t}-tabs-top`]:{clear:"both",marginBottom:y,color:e.colorText,fontWeight:"normal",fontSize:e.fontSize,"&-bar":{borderBottom:`${(0,he.bf)(e.lineWidth)} ${e.lineType} ${e.colorBorderSecondary}`}}})},Ky=e=>{const{cardPaddingBase:t,colorBorderSecondary:a,cardShadow:o,lineWidth:f}=e;return{width:"33.33%",padding:t,border:0,borderRadius:0,boxShadow:`
      ${(0,he.bf)(f)} 0 0 0 ${a},
      0 ${(0,he.bf)(f)} 0 0 ${a},
      ${(0,he.bf)(f)} ${(0,he.bf)(f)} 0 0 ${a},
      ${(0,he.bf)(f)} 0 0 0 ${a} inset,
      0 ${(0,he.bf)(f)} 0 0 ${a} inset;
    `,transition:`all ${e.motionDurationMid}`,"&-hoverable:hover":{position:"relative",zIndex:1,boxShadow:o}}},W0=e=>{const{componentCls:t,iconCls:a,actionsLiMargin:o,cardActionsIconSize:f,colorBorderSecondary:y,actionsBg:C}=e;return Object.assign(Object.assign({margin:0,padding:0,listStyle:"none",background:C,borderTop:`${(0,he.bf)(e.lineWidth)} ${e.lineType} ${y}`,display:"flex",borderRadius:`0 0 ${(0,he.bf)(e.borderRadiusLG)} ${(0,he.bf)(e.borderRadiusLG)}`},(0,Jt.dF)()),{"& > li":{margin:o,color:e.colorTextDescription,textAlign:"center","> span":{position:"relative",display:"block",minWidth:e.calc(e.cardActionsIconSize).mul(2).equal(),fontSize:e.fontSize,lineHeight:e.lineHeight,cursor:"pointer","&:hover":{color:e.colorPrimary,transition:`color ${e.motionDurationMid}`},[`a:not(${t}-btn), > ${a}`]:{display:"inline-block",width:"100%",color:e.colorTextDescription,lineHeight:(0,he.bf)(e.fontHeight),transition:`color ${e.motionDurationMid}`,"&:hover":{color:e.colorPrimary}},[`> ${a}`]:{fontSize:f,lineHeight:(0,he.bf)(e.calc(f).mul(e.lineHeight).equal())}},"&:not(:last-child)":{borderInlineEnd:`${(0,he.bf)(e.lineWidth)} ${e.lineType} ${y}`}}})},Eg=e=>Object.assign(Object.assign({margin:`${(0,he.bf)(e.calc(e.marginXXS).mul(-1).equal())} 0`,display:"flex"},(0,Jt.dF)()),{"&-avatar":{paddingInlineEnd:e.padding},"&-detail":{overflow:"hidden",flex:1,"> div:not(:last-child)":{marginBottom:e.marginXS}},"&-title":Object.assign({color:e.colorTextHeading,fontWeight:e.fontWeightStrong,fontSize:e.fontSizeLG},Jt.vS),"&-description":{color:e.colorTextDescription}}),Z1=e=>{const{componentCls:t,colorFillAlter:a,headerPadding:o,bodyPadding:f}=e;return{[`${t}-head`]:{padding:`0 ${(0,he.bf)(o)}`,background:a,"&-title":{fontSize:e.fontSize}},[`${t}-body`]:{padding:`${(0,he.bf)(e.padding)} ${(0,he.bf)(f)}`}}},Fp=e=>{const{componentCls:t}=e;return{overflow:"hidden",[`${t}-body`]:{userSelect:"none"}}},V1=e=>{const{componentCls:t,cardShadow:a,cardHeadPadding:o,colorBorderSecondary:f,boxShadowTertiary:y,bodyPadding:C,extraColor:w}=e;return{[t]:Object.assign(Object.assign({},(0,Jt.Wf)(e)),{position:"relative",background:e.colorBgContainer,borderRadius:e.borderRadiusLG,[`&:not(${t}-bordered)`]:{boxShadow:y},[`${t}-head`]:Gy(e),[`${t}-extra`]:{marginInlineStart:"auto",color:w,fontWeight:"normal",fontSize:e.fontSize},[`${t}-body`]:Object.assign({padding:C,borderRadius:`0 0 ${(0,he.bf)(e.borderRadiusLG)} ${(0,he.bf)(e.borderRadiusLG)}`},(0,Jt.dF)()),[`${t}-grid`]:Ky(e),[`${t}-cover`]:{"> *":{display:"block",width:"100%",borderRadius:`${(0,he.bf)(e.borderRadiusLG)} ${(0,he.bf)(e.borderRadiusLG)} 0 0`}},[`${t}-actions`]:W0(e),[`${t}-meta`]:Eg(e)}),[`${t}-bordered`]:{border:`${(0,he.bf)(e.lineWidth)} ${e.lineType} ${f}`,[`${t}-cover`]:{marginTop:-1,marginInlineStart:-1,marginInlineEnd:-1}},[`${t}-hoverable`]:{cursor:"pointer",transition:`box-shadow ${e.motionDurationMid}, border-color ${e.motionDurationMid}`,"&:hover":{borderColor:"transparent",boxShadow:a}},[`${t}-contain-grid`]:{borderRadius:`${(0,he.bf)(e.borderRadiusLG)} ${(0,he.bf)(e.borderRadiusLG)} 0 0 `,[`${t}-body`]:{display:"flex",flexWrap:"wrap"},[`&:not(${t}-loading) ${t}-body`]:{marginBlockStart:e.calc(e.lineWidth).mul(-1).equal(),marginInlineStart:e.calc(e.lineWidth).mul(-1).equal(),padding:0}},[`${t}-contain-tabs`]:{[`> div${t}-head`]:{minHeight:0,[`${t}-head-title, ${t}-extra`]:{paddingTop:o}}},[`${t}-type-inner`]:Z1(e),[`${t}-loading`]:Fp(e),[`${t}-rtl`]:{direction:"rtl"}}},qC=e=>{const{componentCls:t,bodyPaddingSM:a,headerPaddingSM:o,headerHeightSM:f,headerFontSizeSM:y}=e;return{[`${t}-small`]:{[`> ${t}-head`]:{minHeight:f,padding:`0 ${(0,he.bf)(o)}`,fontSize:y,[`> ${t}-head-wrapper`]:{[`> ${t}-extra`]:{fontSize:e.fontSize}}},[`> ${t}-body`]:{padding:a}},[`${t}-small${t}-contain-tabs`]:{[`> ${t}-head`]:{[`${t}-head-title, ${t}-extra`]:{paddingTop:0,display:"flex",alignItems:"center"}}}}},H1=e=>{var t,a;return{headerBg:"transparent",headerFontSize:e.fontSizeLG,headerFontSizeSM:e.fontSize,headerHeight:e.fontSizeLG*e.lineHeightLG+e.padding*2,headerHeightSM:e.fontSize*e.lineHeight+e.paddingXS*2,actionsBg:e.colorBgContainer,actionsLiMargin:`${e.paddingSM}px 0`,tabsMarginBottom:-e.padding-e.lineWidth,extraColor:e.colorText,bodyPaddingSM:12,headerPaddingSM:12,bodyPadding:(t=e.bodyPadding)!==null&&t!==void 0?t:e.paddingLG,headerPadding:(a=e.headerPadding)!==null&&a!==void 0?a:e.paddingLG}};var JC=(0,te.I$)("Card",e=>{const t=(0,Qr.IX)(e,{cardShadow:e.boxShadowCard,cardHeadPadding:e.padding,cardPaddingBase:e.paddingLG,cardActionsIconSize:e.fontSize});return[V1(t),qC(t)]},H1),jf=F(7038),U1=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a};const QC=e=>{const{actionClasses:t,actions:a=[],actionStyle:o}=e;return s.createElement("ul",{className:t,style:o},a.map((f,y)=>{const C=`action-${y}`;return s.createElement("li",{style:{width:`${100/a.length}%`},key:C},s.createElement("span",null,f))}))};var G0=s.forwardRef((e,t)=>{const{prefixCls:a,className:o,rootClassName:f,style:y,extra:C,headStyle:w={},bodyStyle:I={},title:D,loading:L,bordered:z,variant:k,size:Z,type:j,cover:G,actions:H,tabList:X,children:ne,activeTabKey:oe,defaultActiveTabKey:ae,tabBarExtraContent:ie,hoverable:le,tabProps:fe={},classNames:me,styles:ge}=e,be=U1(e,["prefixCls","className","rootClassName","style","extra","headStyle","bodyStyle","title","loading","bordered","variant","size","type","cover","actions","tabList","children","activeTabKey","defaultActiveTabKey","tabBarExtraContent","hoverable","tabProps","classNames","styles"]),{getPrefixCls:Ie,direction:Oe,card:Te}=s.useContext(ye.E_),[Ve]=(0,jf.Z)("card",k,z),De=ar=>{var Fn;(Fn=e.onTabChange)===null||Fn===void 0||Fn.call(e,ar)},Ue=ar=>{var Fn;return q()((Fn=Te==null?void 0:Te.classNames)===null||Fn===void 0?void 0:Fn[ar],me==null?void 0:me[ar])},ke=ar=>{var Fn;return Object.assign(Object.assign({},(Fn=Te==null?void 0:Te.styles)===null||Fn===void 0?void 0:Fn[ar]),ge==null?void 0:ge[ar])},st=s.useMemo(()=>{let ar=!1;return s.Children.forEach(ne,Fn=>{(Fn==null?void 0:Fn.type)===wg&&(ar=!0)}),ar},[ne]),ct=Ie("card",a),[Et,It,Ct]=JC(ct),mt=s.createElement(zr,{loading:!0,active:!0,paragraph:{rows:4},title:!1},ne),bt=oe!==void 0,zt=Object.assign(Object.assign({},fe),{[bt?"activeKey":"defaultActiveKey"]:bt?oe:ae,tabBarExtraContent:ie});let $t;const Ht=(0,xr.Z)(Z),Mt=!Ht||Ht==="default"?"large":Ht,Cn=X?s.createElement(Lh,Object.assign({size:Mt},zt,{className:`${ct}-head-tabs`,onChange:De,items:X.map(ar=>{var{tab:Fn}=ar,sr=U1(ar,["tab"]);return Object.assign({label:Fn},sr)})})):null;if(D||C||Cn){const ar=q()(`${ct}-head`,Ue("header")),Fn=q()(`${ct}-head-title`,Ue("title")),sr=q()(`${ct}-extra`,Ue("extra")),Gr=Object.assign(Object.assign({},w),ke("header"));$t=s.createElement("div",{className:ar,style:Gr},s.createElement("div",{className:`${ct}-head-wrapper`},D&&s.createElement("div",{className:Fn,style:ke("title")},D),C&&s.createElement("div",{className:sr,style:ke("extra")},C)),Cn)}const Hn=q()(`${ct}-cover`,Ue("cover")),pn=G?s.createElement("div",{className:Hn,style:ke("cover")},G):null,Dn=q()(`${ct}-body`,Ue("body")),Qt=Object.assign(Object.assign({},I),ke("body")),Ft=s.createElement("div",{className:Dn,style:Qt},L?mt:ne),kn=q()(`${ct}-actions`,Ue("actions")),Pn=H!=null&&H.length?s.createElement(QC,{actionClasses:kn,actionStyle:ke("actions"),actions:H}):null,Dr=(0,fr.Z)(be,["onTabChange"]),br=q()(ct,Te==null?void 0:Te.className,{[`${ct}-loading`]:L,[`${ct}-bordered`]:Ve!=="borderless",[`${ct}-hoverable`]:le,[`${ct}-contain-grid`]:st,[`${ct}-contain-tabs`]:X==null?void 0:X.length,[`${ct}-${Ht}`]:Ht,[`${ct}-type-${j}`]:!!j,[`${ct}-rtl`]:Oe==="rtl"},o,f,It,Ct),or=Object.assign(Object.assign({},Te==null?void 0:Te.style),y);return Et(s.createElement("div",Object.assign({ref:t},Dr,{className:br,style:or}),$t,pn,Ft,Pn))}),eS=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a},K0=e=>{const{prefixCls:t,className:a,avatar:o,title:f,description:y}=e,C=eS(e,["prefixCls","className","avatar","title","description"]),{getPrefixCls:w}=s.useContext(ye.E_),I=w("card",t),D=q()(`${I}-meta`,a),L=o?s.createElement("div",{className:`${I}-meta-avatar`},o):null,z=f?s.createElement("div",{className:`${I}-meta-title`},f):null,k=y?s.createElement("div",{className:`${I}-meta-description`},y):null,Z=z||k?s.createElement("div",{className:`${I}-meta-detail`},z,k):null;return s.createElement("div",Object.assign({},C,{className:D}),L,Z)};const Xy=G0;Xy.Grid=wg,Xy.Meta=K0;var tS=Xy,nS={animating:!1,autoplaying:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,dragging:!1,edgeDragged:!1,initialized:!1,lazyLoadedList:[],listHeight:null,listWidth:null,scrolling:!1,slideCount:null,slideHeight:null,slideWidth:null,swipeLeft:null,swiped:!1,swiping:!1,touchObject:{startX:0,startY:0,curX:0,curY:0},trackStyle:{},trackWidth:0,targetSlide:0},X0=nS;function rS(e,t,a){var o=a||{},f=o.noTrailing,y=f===void 0?!1:f,C=o.noLeading,w=C===void 0?!1:C,I=o.debounceMode,D=I===void 0?void 0:I,L,z=!1,k=0;function Z(){L&&clearTimeout(L)}function j(H){var X=H||{},ne=X.upcomingOnly,oe=ne===void 0?!1:ne;Z(),z=!oe}function G(){for(var H=arguments.length,X=new Array(H),ne=0;ne<H;ne++)X[ne]=arguments[ne];var oe=this,ae=Date.now()-k;if(z)return;function ie(){k=Date.now(),t.apply(oe,X)}function le(){L=void 0}!w&&D&&!L&&ie(),Z(),D===void 0&&ae>e?w?(k=Date.now(),y||(L=setTimeout(D?le:ie,e))):ie():y!==!0&&(L=setTimeout(D?le:ie,D===void 0?e-ae:e))}return G.cancel=j,G}function W1(e,t,a){var o=a||{},f=o.atBegin,y=f===void 0?!1:f;return rS(e,t,{debounceMode:y!==!1})}var G1={accessibility:!0,adaptiveHeight:!1,afterChange:null,appendDots:function(t){return s.createElement("ul",{style:{display:"block"}},t)},arrows:!0,autoplay:!1,autoplaySpeed:3e3,beforeChange:null,centerMode:!1,centerPadding:"50px",className:"",cssEase:"ease",customPaging:function(t){return s.createElement("button",null,t+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:null,nextArrow:null,onEdge:null,onInit:null,onLazyLoadError:null,onReInit:null,pauseOnDotsHover:!1,pauseOnFocus:!1,pauseOnHover:!0,prevArrow:null,responsive:null,rows:1,rtl:!1,slide:"div",slidesPerRow:1,slidesToScroll:1,slidesToShow:1,speed:500,swipe:!0,swipeEvent:null,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,waitForAnimate:!0,asNavFor:null},Yy=G1;function qy(e,t,a){return Math.max(t,Math.min(e,a))}var kp=function(t){var a=["onTouchStart","onTouchMove","onWheel"];a.includes(t._reactName)||t.preventDefault()},Y0=function(t){for(var a=[],o=Zf(t),f=zh(t),y=o;y<f;y++)t.lazyLoadedList.indexOf(y)<0&&a.push(y);return a},d2=function(t){for(var a=[],o=Zf(t),f=zh(t),y=o;y<f;y++)a.push(y);return a},Zf=function(t){return t.currentSlide-iS(t)},zh=function(t){return t.currentSlide+Jy(t)},iS=function(t){return t.centerMode?Math.floor(t.slidesToShow/2)+(parseInt(t.centerPadding)>0?1:0):0},Jy=function(t){return t.centerMode?Math.floor((t.slidesToShow-1)/2)+1+(parseInt(t.centerPadding)>0?1:0):t.slidesToShow},q0=function(t){return t&&t.offsetWidth||0},J0=function(t){return t&&t.offsetHeight||0},Qy=function(t){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,o,f,y,C;return o=t.startX-t.curX,f=t.startY-t.curY,y=Math.atan2(f,o),C=Math.round(y*180/Math.PI),C<0&&(C=360-Math.abs(C)),C<=45&&C>=0||C<=360&&C>=315?"left":C>=135&&C<=225?"right":a===!0?C>=35&&C<=135?"up":"down":"vertical"},Ig=function(t){var a=!0;return t.infinite||(t.centerMode&&t.currentSlide>=t.slideCount-1||t.slideCount<=t.slidesToShow||t.currentSlide>=t.slideCount-t.slidesToShow)&&(a=!1),a},Q0=function(t,a){var o={};return a.forEach(function(f){return o[f]=t[f]}),o},K1=function(t){var a=s.Children.count(t.children),o=t.listRef,f=Math.ceil(q0(o)),y=t.trackRef&&t.trackRef.node,C=Math.ceil(q0(y)),w;if(t.vertical)w=f;else{var I=t.centerMode&&parseInt(t.centerPadding)*2;typeof t.centerPadding=="string"&&t.centerPadding.slice(-1)==="%"&&(I*=f/100),w=Math.ceil((f-I)/t.slidesToShow)}var D=o&&J0(o.querySelector('[data-index="0"]')),L=D*t.slidesToShow,z=t.currentSlide===void 0?t.initialSlide:t.currentSlide;t.rtl&&t.currentSlide===void 0&&(z=a-1-t.initialSlide);var k=t.lazyLoadedList||[],Z=Y0((0,Y.Z)((0,Y.Z)({},t),{},{currentSlide:z,lazyLoadedList:k}));k=k.concat(Z);var j={slideCount:a,slideWidth:w,listWidth:f,trackWidth:C,currentSlide:z,slideHeight:D,listHeight:L,lazyLoadedList:k};return t.autoplaying===null&&t.autoplay&&(j.autoplaying="playing"),j},X1=function(t){var a=t.waitForAnimate,o=t.animating,f=t.fade,y=t.infinite,C=t.index,w=t.slideCount,I=t.lazyLoad,D=t.currentSlide,L=t.centerMode,z=t.slidesToScroll,k=t.slidesToShow,Z=t.useCSS,j=t.lazyLoadedList;if(a&&o)return{};var G=C,H,X,ne,oe={},ae={},ie=y?C:qy(C,0,w-1);if(f){if(!y&&(C<0||C>=w))return{};C<0?G=C+w:C>=w&&(G=C-w),I&&j.indexOf(G)<0&&(j=j.concat(G)),oe={animating:!0,currentSlide:G,lazyLoadedList:j,targetSlide:G},ae={animating:!1,targetSlide:G}}else H=G,G<0?(H=G+w,y?w%z!==0&&(H=w-w%z):H=0):!Ig(t)&&G>D?G=H=D:L&&G>=w?(G=y?w:w-1,H=y?0:w-1):G>=w&&(H=G-w,y?w%z!==0&&(H=0):H=w-k),!y&&G+k>=w&&(H=w-k),X=Zp((0,Y.Z)((0,Y.Z)({},t),{},{slideIndex:G})),ne=Zp((0,Y.Z)((0,Y.Z)({},t),{},{slideIndex:H})),y||(X===ne&&(G=H),X=ne),I&&(j=j.concat(Y0((0,Y.Z)((0,Y.Z)({},t),{},{currentSlide:G})))),Z?(oe={animating:!0,currentSlide:H,trackStyle:i_((0,Y.Z)((0,Y.Z)({},t),{},{left:X})),lazyLoadedList:j,targetSlide:ie},ae={animating:!1,currentSlide:H,trackStyle:jp((0,Y.Z)((0,Y.Z)({},t),{},{left:ne})),swipeLeft:null,targetSlide:ie}):oe={currentSlide:H,trackStyle:jp((0,Y.Z)((0,Y.Z)({},t),{},{left:ne})),lazyLoadedList:j,targetSlide:ie};return{state:oe,nextState:ae}},Y1=function(t,a){var o,f,y,C,w,I=t.slidesToScroll,D=t.slidesToShow,L=t.slideCount,z=t.currentSlide,k=t.targetSlide,Z=t.lazyLoad,j=t.infinite;if(C=L%I!==0,o=C?0:(L-z)%I,a.message==="previous")y=o===0?I:D-o,w=z-y,Z&&!j&&(f=z-y,w=f===-1?L-1:f),j||(w=k-I);else if(a.message==="next")y=o===0?I:o,w=z+y,Z&&!j&&(w=(z+I)%L+o),j||(w=k+I);else if(a.message==="dots")w=a.index*a.slidesToScroll;else if(a.message==="children"){if(w=a.index,j){var G=aS((0,Y.Z)((0,Y.Z)({},t),{},{targetSlide:w}));w>a.currentSlide&&G==="left"?w=w-L:w<a.currentSlide&&G==="right"&&(w=w+L)}}else a.message==="index"&&(w=Number(a.index));return w},q1=function(t,a,o){return t.target.tagName.match("TEXTAREA|INPUT|SELECT")||!a?"":t.keyCode===37?o?"next":"previous":t.keyCode===39?o?"previous":"next":""},ev=function(t,a,o){return t.target.tagName==="IMG"&&kp(t),!a||!o&&t.type.indexOf("mouse")!==-1?"":{dragging:!0,touchObject:{startX:t.touches?t.touches[0].pageX:t.clientX,startY:t.touches?t.touches[0].pageY:t.clientY,curX:t.touches?t.touches[0].pageX:t.clientX,curY:t.touches?t.touches[0].pageY:t.clientY}}},J1=function(t,a){var o=a.scrolling,f=a.animating,y=a.vertical,C=a.swipeToSlide,w=a.verticalSwiping,I=a.rtl,D=a.currentSlide,L=a.edgeFriction,z=a.edgeDragged,k=a.onEdge,Z=a.swiped,j=a.swiping,G=a.slideCount,H=a.slidesToScroll,X=a.infinite,ne=a.touchObject,oe=a.swipeEvent,ae=a.listHeight,ie=a.listWidth;if(!o){if(f)return kp(t);y&&C&&w&&kp(t);var le,fe={},me=Zp(a);ne.curX=t.touches?t.touches[0].pageX:t.clientX,ne.curY=t.touches?t.touches[0].pageY:t.clientY,ne.swipeLength=Math.round(Math.sqrt(Math.pow(ne.curX-ne.startX,2)));var ge=Math.round(Math.sqrt(Math.pow(ne.curY-ne.startY,2)));if(!w&&!j&&ge>10)return{scrolling:!0};w&&(ne.swipeLength=ge);var be=(I?-1:1)*(ne.curX>ne.startX?1:-1);w&&(be=ne.curY>ne.startY?1:-1);var Ie=Math.ceil(G/H),Oe=Qy(a.touchObject,w),Te=ne.swipeLength;return X||(D===0&&(Oe==="right"||Oe==="down")||D+1>=Ie&&(Oe==="left"||Oe==="up")||!Ig(a)&&(Oe==="left"||Oe==="up"))&&(Te=ne.swipeLength*L,z===!1&&k&&(k(Oe),fe.edgeDragged=!0)),!Z&&oe&&(oe(Oe),fe.swiped=!0),y?le=me+Te*(ae/ie)*be:I?le=me-Te*be:le=me+Te*be,w&&(le=me+Te*be),fe=(0,Y.Z)((0,Y.Z)({},fe),{},{touchObject:ne,swipeLeft:le,trackStyle:jp((0,Y.Z)((0,Y.Z)({},a),{},{left:le}))}),Math.abs(ne.curX-ne.startX)<Math.abs(ne.curY-ne.startY)*.8||ne.swipeLength>10&&(fe.swiping=!0,kp(t)),fe}},e_=function(t,a){var o=a.dragging,f=a.swipe,y=a.touchObject,C=a.listWidth,w=a.touchThreshold,I=a.verticalSwiping,D=a.listHeight,L=a.swipeToSlide,z=a.scrolling,k=a.onSwipe,Z=a.targetSlide,j=a.currentSlide,G=a.infinite;if(!o)return f&&kp(t),{};var H=I?D/w:C/w,X=Qy(y,I),ne={dragging:!1,edgeDragged:!1,scrolling:!1,swiping:!1,swiped:!1,swipeLeft:null,touchObject:{}};if(z||!y.swipeLength)return ne;if(y.swipeLength>H){kp(t),k&&k(X);var oe,ae,ie=G?j:Z;switch(X){case"left":case"up":ae=ie+r_(a),oe=L?n_(a,ae):ae,ne.currentDirection=0;break;case"right":case"down":ae=ie-r_(a),oe=L?n_(a,ae):ae,ne.currentDirection=1;break;default:oe=ie}ne.triggerSlideHandler=oe}else{var le=Zp(a);ne.trackStyle=i_((0,Y.Z)((0,Y.Z)({},a),{},{left:le}))}return ne},t_=function(t){for(var a=t.infinite?t.slideCount*2:t.slideCount,o=t.infinite?t.slidesToShow*-1:0,f=t.infinite?t.slidesToShow*-1:0,y=[];o<a;)y.push(o),o=f+t.slidesToScroll,f+=Math.min(t.slidesToScroll,t.slidesToShow);return y},n_=function(t,a){var o=t_(t),f=0;if(a>o[o.length-1])a=o[o.length-1];else for(var y in o){if(a<o[y]){a=f;break}f=o[y]}return a},r_=function(t){var a=t.centerMode?t.slideWidth*Math.floor(t.slidesToShow/2):0;if(t.swipeToSlide){var o,f=t.listRef,y=f.querySelectorAll&&f.querySelectorAll(".slick-slide")||[];if(Array.from(y).every(function(I){if(t.vertical){if(I.offsetTop+J0(I)/2>t.swipeLeft*-1)return o=I,!1}else if(I.offsetLeft-a+q0(I)/2>t.swipeLeft*-1)return o=I,!1;return!0}),!o)return 0;var C=t.rtl===!0?t.slideCount-t.currentSlide:t.currentSlide,w=Math.abs(o.dataset.index-C)||1;return w}else return t.slidesToScroll},tv=function(t,a){return a.reduce(function(o,f){return o&&t.hasOwnProperty(f)},!0)?null:console.error("Keys Missing:",t)},jp=function(t){tv(t,["left","variableWidth","slideCount","slidesToShow","slideWidth"]);var a,o;if(!t.vertical)a=oS(t)*t.slideWidth;else{var f=t.unslick?t.slideCount:t.slideCount+2*t.slidesToShow;o=f*t.slideHeight}var y={opacity:1,transition:"",WebkitTransition:""};if(t.useTransform){var C=t.vertical?"translate3d(0px, "+t.left+"px, 0px)":"translate3d("+t.left+"px, 0px, 0px)",w=t.vertical?"translate3d(0px, "+t.left+"px, 0px)":"translate3d("+t.left+"px, 0px, 0px)",I=t.vertical?"translateY("+t.left+"px)":"translateX("+t.left+"px)";y=(0,Y.Z)((0,Y.Z)({},y),{},{WebkitTransform:C,transform:w,msTransform:I})}else t.vertical?y.top=t.left:y.left=t.left;return t.fade&&(y={opacity:1}),a&&(y.width=a),o&&(y.height=o),window&&!window.addEventListener&&window.attachEvent&&(t.vertical?y.marginTop=t.left+"px":y.marginLeft=t.left+"px"),y},i_=function(t){tv(t,["left","variableWidth","slideCount","slidesToShow","slideWidth","speed","cssEase"]);var a=jp(t);return t.useTransform?(a.WebkitTransition="-webkit-transform "+t.speed+"ms "+t.cssEase,a.transition="transform "+t.speed+"ms "+t.cssEase):t.vertical?a.transition="top "+t.speed+"ms "+t.cssEase:a.transition="left "+t.speed+"ms "+t.cssEase,a},Zp=function(t){if(t.unslick)return 0;tv(t,["slideIndex","trackRef","infinite","centerMode","slideCount","slidesToShow","slidesToScroll","slideWidth","listWidth","variableWidth","slideHeight"]);var a=t.slideIndex,o=t.trackRef,f=t.infinite,y=t.centerMode,C=t.slideCount,w=t.slidesToShow,I=t.slidesToScroll,D=t.slideWidth,L=t.listWidth,z=t.variableWidth,k=t.slideHeight,Z=t.fade,j=t.vertical,G=0,H,X,ne=0;if(Z||t.slideCount===1)return 0;var oe=0;if(f?(oe=-xd(t),C%I!==0&&a+I>C&&(oe=-(a>C?w-(a-C):C%I)),y&&(oe+=parseInt(w/2))):(C%I!==0&&a+I>C&&(oe=w-C%I),y&&(oe=parseInt(w/2))),G=oe*D,ne=oe*k,j?H=a*k*-1+ne:H=a*D*-1+G,z===!0){var ae,ie=o&&o.node;if(ae=a+xd(t),X=ie&&ie.childNodes[ae],H=X?X.offsetLeft*-1:0,y===!0){ae=f?a+xd(t):a,X=ie&&ie.children[ae],H=0;for(var le=0;le<ae;le++)H-=ie&&ie.children[le]&&ie.children[le].offsetWidth;H-=parseInt(t.centerPadding),H+=X&&(L-X.offsetWidth)/2}}return H},xd=function(t){return t.unslick||!t.infinite?0:t.variableWidth?t.slideCount:t.slidesToShow+(t.centerMode?1:0)},td=function(t){return t.unslick||!t.infinite?0:t.slideCount},oS=function(t){return t.slideCount===1?1:xd(t)+t.slideCount+td(t)},aS=function(t){return t.targetSlide>t.currentSlide?t.targetSlide>t.currentSlide+sS(t)?"left":"right":t.targetSlide<t.currentSlide-nv(t)?"right":"left"},sS=function(t){var a=t.slidesToShow,o=t.centerMode,f=t.rtl,y=t.centerPadding;if(o){var C=(a-1)/2+1;return parseInt(y)>0&&(C+=1),f&&a%2===0&&(C+=1),C}return f?0:a-1},nv=function(t){var a=t.slidesToShow,o=t.centerMode,f=t.rtl,y=t.centerPadding;if(o){var C=(a-1)/2+1;return parseInt(y)>0&&(C+=1),!f&&a%2===0&&(C+=1),C}return f?a-1:0},Q1=function(){return!!(typeof window!="undefined"&&window.document&&window.document.createElement)},lS=Object.keys(Yy);function cS(e){return lS.reduce(function(t,a){return e.hasOwnProperty(a)&&(t[a]=e[a]),t},{})}function uS(e,t,a){return t=(0,gn.Z)(t),(0,Vn.Z)(e,(0,Er.Z)()?Reflect.construct(t,a||[],(0,gn.Z)(e).constructor):t.apply(e,a))}var o_=function(t){var a,o,f,y,C;t.rtl?C=t.slideCount-1-t.index:C=t.index,f=C<0||C>=t.slideCount,t.centerMode?(y=Math.floor(t.slidesToShow/2),o=(C-t.currentSlide)%t.slideCount===0,C>t.currentSlide-y-1&&C<=t.currentSlide+y&&(a=!0)):a=t.currentSlide<=C&&C<t.currentSlide+t.slidesToShow;var w;t.targetSlide<0?w=t.targetSlide+t.slideCount:t.targetSlide>=t.slideCount?w=t.targetSlide-t.slideCount:w=t.targetSlide;var I=C===w;return{"slick-slide":!0,"slick-active":a,"slick-center":o,"slick-cloned":f,"slick-current":I}},dS=function(t){var a={};return(t.variableWidth===void 0||t.variableWidth===!1)&&(a.width=t.slideWidth),t.fade&&(a.position="relative",t.vertical&&t.slideHeight?a.top=-t.index*parseInt(t.slideHeight):a.left=-t.index*parseInt(t.slideWidth),a.opacity=t.currentSlide===t.index?1:0,a.zIndex=t.currentSlide===t.index?999:998,t.useCSS&&(a.transition="opacity "+t.speed+"ms "+t.cssEase+", visibility "+t.speed+"ms "+t.cssEase)),a},a_=function(t,a){return t.key+"-"+a},fS=function(t){var a,o=[],f=[],y=[],C=s.Children.count(t.children),w=Zf(t),I=zh(t);return s.Children.forEach(t.children,function(D,L){var z,k={message:"children",index:L,slidesToScroll:t.slidesToScroll,currentSlide:t.currentSlide};!t.lazyLoad||t.lazyLoad&&t.lazyLoadedList.indexOf(L)>=0?z=D:z=s.createElement("div",null);var Z=dS((0,Y.Z)((0,Y.Z)({},t),{},{index:L})),j=z.props.className||"",G=o_((0,Y.Z)((0,Y.Z)({},t),{},{index:L}));if(o.push(s.cloneElement(z,{key:"original"+a_(z,L),"data-index":L,className:q()(G,j),tabIndex:"-1","aria-hidden":!G["slick-active"],style:(0,Y.Z)((0,Y.Z)({outline:"none"},z.props.style||{}),Z),onClick:function(ne){z.props&&z.props.onClick&&z.props.onClick(ne),t.focusOnSelect&&t.focusOnSelect(k)}})),t.infinite&&C>1&&t.fade===!1&&!t.unslick){var H=C-L;H<=xd(t)&&(a=-H,a>=w&&(z=D),G=o_((0,Y.Z)((0,Y.Z)({},t),{},{index:a})),f.push(s.cloneElement(z,{key:"precloned"+a_(z,a),"data-index":a,tabIndex:"-1",className:q()(G,j),"aria-hidden":!G["slick-active"],style:(0,Y.Z)((0,Y.Z)({},z.props.style||{}),Z),onClick:function(ne){z.props&&z.props.onClick&&z.props.onClick(ne),t.focusOnSelect&&t.focusOnSelect(k)}}))),a=C+L,a<I&&(z=D),G=o_((0,Y.Z)((0,Y.Z)({},t),{},{index:a})),y.push(s.cloneElement(z,{key:"postcloned"+a_(z,a),"data-index":a,tabIndex:"-1",className:q()(G,j),"aria-hidden":!G["slick-active"],style:(0,Y.Z)((0,Y.Z)({},z.props.style||{}),Z),onClick:function(ne){z.props&&z.props.onClick&&z.props.onClick(ne),t.focusOnSelect&&t.focusOnSelect(k)}}))}}),t.rtl?f.concat(o,y).reverse():f.concat(o,y)},hS=function(e){function t(){var a;(0,Bn.Z)(this,t);for(var o=arguments.length,f=new Array(o),y=0;y<o;y++)f[y]=arguments[y];return a=uS(this,t,[].concat(f)),(0,pe.Z)(a,"node",null),(0,pe.Z)(a,"handleRef",function(C){a.node=C}),a}return(0,fi.Z)(t,e),(0,fn.Z)(t,[{key:"render",value:function(){var o=fS(this.props),f=this.props,y=f.onMouseEnter,C=f.onMouseOver,w=f.onMouseLeave,I={onMouseEnter:y,onMouseOver:C,onMouseLeave:w};return s.createElement("div",(0,We.Z)({ref:this.handleRef,className:"slick-track",style:this.props.trackStyle},I),o)}}])}(s.PureComponent);function pS(e,t,a){return t=(0,gn.Z)(t),(0,Vn.Z)(e,(0,Er.Z)()?Reflect.construct(t,a||[],(0,gn.Z)(e).constructor):t.apply(e,a))}var mS=function(t){var a;return t.infinite?a=Math.ceil(t.slideCount/t.slidesToScroll):a=Math.ceil((t.slideCount-t.slidesToShow)/t.slidesToScroll)+1,a},Su=function(e){function t(){return(0,Bn.Z)(this,t),pS(this,t,arguments)}return(0,fi.Z)(t,e),(0,fn.Z)(t,[{key:"clickHandler",value:function(o,f){f.preventDefault(),this.props.clickHandler(o)}},{key:"render",value:function(){for(var o=this.props,f=o.onMouseEnter,y=o.onMouseOver,C=o.onMouseLeave,w=o.infinite,I=o.slidesToScroll,D=o.slidesToShow,L=o.slideCount,z=o.currentSlide,k=mS({slideCount:L,slidesToScroll:I,slidesToShow:D,infinite:w}),Z={onMouseEnter:f,onMouseOver:y,onMouseLeave:C},j=[],G=0;G<k;G++){var H=(G+1)*I-1,X=w?H:qy(H,0,L-1),ne=X-(I-1),oe=w?ne:qy(ne,0,L-1),ae=q()({"slick-active":w?z>=oe&&z<=X:z===oe}),ie={message:"dots",index:G,slidesToScroll:I,currentSlide:z},le=this.clickHandler.bind(this,ie);j=j.concat(s.createElement("li",{key:G,className:ae},s.cloneElement(this.props.customPaging(G),{onClick:le})))}return s.cloneElement(this.props.appendDots(j),(0,Y.Z)({className:this.props.dotsClass},Z))}}])}(s.PureComponent);function Vp(e,t,a){return t=(0,gn.Z)(t),(0,Vn.Z)(e,(0,Er.Z)()?Reflect.construct(t,a||[],(0,gn.Z)(e).constructor):t.apply(e,a))}var gS=function(e){function t(){return(0,Bn.Z)(this,t),Vp(this,t,arguments)}return(0,fi.Z)(t,e),(0,fn.Z)(t,[{key:"clickHandler",value:function(o,f){f&&f.preventDefault(),this.props.clickHandler(o,f)}},{key:"render",value:function(){var o={"slick-arrow":!0,"slick-prev":!0},f=this.clickHandler.bind(this,{message:"previous"});!this.props.infinite&&(this.props.currentSlide===0||this.props.slideCount<=this.props.slidesToShow)&&(o["slick-disabled"]=!0,f=null);var y={key:"0","data-role":"none",className:q()(o),style:{display:"block"},onClick:f},C={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},w;return this.props.prevArrow?w=s.cloneElement(this.props.prevArrow,(0,Y.Z)((0,Y.Z)({},y),C)):w=s.createElement("button",(0,We.Z)({key:"0",type:"button"},y)," ","Previous"),w}}])}(s.PureComponent),ex=function(e){function t(){return(0,Bn.Z)(this,t),Vp(this,t,arguments)}return(0,fi.Z)(t,e),(0,fn.Z)(t,[{key:"clickHandler",value:function(o,f){f&&f.preventDefault(),this.props.clickHandler(o,f)}},{key:"render",value:function(){var o={"slick-arrow":!0,"slick-next":!0},f=this.clickHandler.bind(this,{message:"next"});Ig(this.props)||(o["slick-disabled"]=!0,f=null);var y={key:"1","data-role":"none",className:q()(o),style:{display:"block"},onClick:f},C={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},w;return this.props.nextArrow?w=s.cloneElement(this.props.nextArrow,(0,Y.Z)((0,Y.Z)({},y),C)):w=s.createElement("button",(0,We.Z)({key:"1",type:"button"},y)," ","Next"),w}}])}(s.PureComponent),tx=F(73023),vS=["animating"];function nx(e,t,a){return t=(0,gn.Z)(t),(0,Vn.Z)(e,(0,Er.Z)()?Reflect.construct(t,a||[],(0,gn.Z)(e).constructor):t.apply(e,a))}var rx=function(e){function t(a){var o;(0,Bn.Z)(this,t),o=nx(this,t,[a]),(0,pe.Z)(o,"listRefHandler",function(y){return o.list=y}),(0,pe.Z)(o,"trackRefHandler",function(y){return o.track=y}),(0,pe.Z)(o,"adaptHeight",function(){if(o.props.adaptiveHeight&&o.list){var y=o.list.querySelector('[data-index="'.concat(o.state.currentSlide,'"]'));o.list.style.height=J0(y)+"px"}}),(0,pe.Z)(o,"componentDidMount",function(){if(o.props.onInit&&o.props.onInit(),o.props.lazyLoad){var y=Y0((0,Y.Z)((0,Y.Z)({},o.props),o.state));y.length>0&&(o.setState(function(w){return{lazyLoadedList:w.lazyLoadedList.concat(y)}}),o.props.onLazyLoad&&o.props.onLazyLoad(y))}var C=(0,Y.Z)({listRef:o.list,trackRef:o.track},o.props);o.updateState(C,!0,function(){o.adaptHeight(),o.props.autoplay&&o.autoPlay("playing")}),o.props.lazyLoad==="progressive"&&(o.lazyLoadTimer=setInterval(o.progressiveLazyLoad,1e3)),o.ro=new tx.Z(function(){o.state.animating?(o.onWindowResized(!1),o.callbackTimers.push(setTimeout(function(){return o.onWindowResized()},o.props.speed))):o.onWindowResized()}),o.ro.observe(o.list),document.querySelectorAll&&Array.prototype.forEach.call(document.querySelectorAll(".slick-slide"),function(w){w.onfocus=o.props.pauseOnFocus?o.onSlideFocus:null,w.onblur=o.props.pauseOnFocus?o.onSlideBlur:null}),window.addEventListener?window.addEventListener("resize",o.onWindowResized):window.attachEvent("onresize",o.onWindowResized)}),(0,pe.Z)(o,"componentWillUnmount",function(){o.animationEndCallback&&clearTimeout(o.animationEndCallback),o.lazyLoadTimer&&clearInterval(o.lazyLoadTimer),o.callbackTimers.length&&(o.callbackTimers.forEach(function(y){return clearTimeout(y)}),o.callbackTimers=[]),window.addEventListener?window.removeEventListener("resize",o.onWindowResized):window.detachEvent("onresize",o.onWindowResized),o.autoplayTimer&&clearInterval(o.autoplayTimer),o.ro.disconnect()}),(0,pe.Z)(o,"componentDidUpdate",function(y){if(o.checkImagesLoad(),o.props.onReInit&&o.props.onReInit(),o.props.lazyLoad){var C=Y0((0,Y.Z)((0,Y.Z)({},o.props),o.state));C.length>0&&(o.setState(function(D){return{lazyLoadedList:D.lazyLoadedList.concat(C)}}),o.props.onLazyLoad&&o.props.onLazyLoad(C))}o.adaptHeight();var w=(0,Y.Z)((0,Y.Z)({listRef:o.list,trackRef:o.track},o.props),o.state),I=o.didPropsChange(y);I&&o.updateState(w,I,function(){o.state.currentSlide>=s.Children.count(o.props.children)&&o.changeSlide({message:"index",index:s.Children.count(o.props.children)-o.props.slidesToShow,currentSlide:o.state.currentSlide}),(y.autoplay!==o.props.autoplay||y.autoplaySpeed!==o.props.autoplaySpeed)&&(!y.autoplay&&o.props.autoplay?o.autoPlay("playing"):o.props.autoplay?o.autoPlay("update"):o.pause("paused"))})}),(0,pe.Z)(o,"onWindowResized",function(y){o.debouncedResize&&o.debouncedResize.cancel(),o.debouncedResize=W1(50,function(){return o.resizeWindow(y)}),o.debouncedResize()}),(0,pe.Z)(o,"resizeWindow",function(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,C=!!(o.track&&o.track.node);if(C){var w=(0,Y.Z)((0,Y.Z)({listRef:o.list,trackRef:o.track},o.props),o.state);o.updateState(w,y,function(){o.props.autoplay?o.autoPlay("update"):o.pause("paused")}),o.setState({animating:!1}),clearTimeout(o.animationEndCallback),delete o.animationEndCallback}}),(0,pe.Z)(o,"updateState",function(y,C,w){var I=K1(y);y=(0,Y.Z)((0,Y.Z)((0,Y.Z)({},y),I),{},{slideIndex:I.currentSlide});var D=Zp(y);y=(0,Y.Z)((0,Y.Z)({},y),{},{left:D});var L=jp(y);(C||s.Children.count(o.props.children)!==s.Children.count(y.children))&&(I.trackStyle=L),o.setState(I,w)}),(0,pe.Z)(o,"ssrInit",function(){if(o.props.variableWidth){var y=0,C=0,w=[],I=xd((0,Y.Z)((0,Y.Z)((0,Y.Z)({},o.props),o.state),{},{slideCount:o.props.children.length})),D=td((0,Y.Z)((0,Y.Z)((0,Y.Z)({},o.props),o.state),{},{slideCount:o.props.children.length}));o.props.children.forEach(function(le){w.push(le.props.style.width),y+=le.props.style.width});for(var L=0;L<I;L++)C+=w[w.length-1-L],y+=w[w.length-1-L];for(var z=0;z<D;z++)y+=w[z];for(var k=0;k<o.state.currentSlide;k++)C+=w[k];var Z={width:y+"px",left:-C+"px"};if(o.props.centerMode){var j="".concat(w[o.state.currentSlide],"px");Z.left="calc(".concat(Z.left," + (100% - ").concat(j,") / 2 ) ")}return{trackStyle:Z}}var G=s.Children.count(o.props.children),H=(0,Y.Z)((0,Y.Z)((0,Y.Z)({},o.props),o.state),{},{slideCount:G}),X=xd(H)+td(H)+G,ne=100/o.props.slidesToShow*X,oe=100/X,ae=-oe*(xd(H)+o.state.currentSlide)*ne/100;o.props.centerMode&&(ae+=(100-oe*ne/100)/2);var ie={width:ne+"%",left:ae+"%"};return{slideWidth:oe+"%",trackStyle:ie}}),(0,pe.Z)(o,"checkImagesLoad",function(){var y=o.list&&o.list.querySelectorAll&&o.list.querySelectorAll(".slick-slide img")||[],C=y.length,w=0;Array.prototype.forEach.call(y,function(I){var D=function(){return++w&&w>=C&&o.onWindowResized()};if(!I.onclick)I.onclick=function(){return I.parentNode.focus()};else{var L=I.onclick;I.onclick=function(z){L(z),I.parentNode.focus()}}I.onload||(o.props.lazyLoad?I.onload=function(){o.adaptHeight(),o.callbackTimers.push(setTimeout(o.onWindowResized,o.props.speed))}:(I.onload=D,I.onerror=function(){D(),o.props.onLazyLoadError&&o.props.onLazyLoadError()}))})}),(0,pe.Z)(o,"progressiveLazyLoad",function(){for(var y=[],C=(0,Y.Z)((0,Y.Z)({},o.props),o.state),w=o.state.currentSlide;w<o.state.slideCount+td(C);w++)if(o.state.lazyLoadedList.indexOf(w)<0){y.push(w);break}for(var I=o.state.currentSlide-1;I>=-xd(C);I--)if(o.state.lazyLoadedList.indexOf(I)<0){y.push(I);break}y.length>0?(o.setState(function(D){return{lazyLoadedList:D.lazyLoadedList.concat(y)}}),o.props.onLazyLoad&&o.props.onLazyLoad(y)):o.lazyLoadTimer&&(clearInterval(o.lazyLoadTimer),delete o.lazyLoadTimer)}),(0,pe.Z)(o,"slideHandler",function(y){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,w=o.props,I=w.asNavFor,D=w.beforeChange,L=w.onLazyLoad,z=w.speed,k=w.afterChange,Z=o.state.currentSlide,j=X1((0,Y.Z)((0,Y.Z)((0,Y.Z)({index:y},o.props),o.state),{},{trackRef:o.track,useCSS:o.props.useCSS&&!C})),G=j.state,H=j.nextState;if(G){D&&D(Z,G.currentSlide);var X=G.lazyLoadedList.filter(function(ne){return o.state.lazyLoadedList.indexOf(ne)<0});L&&X.length>0&&L(X),!o.props.waitForAnimate&&o.animationEndCallback&&(clearTimeout(o.animationEndCallback),k&&k(Z),delete o.animationEndCallback),o.setState(G,function(){I&&o.asNavForIndex!==y&&(o.asNavForIndex=y,I.innerSlider.slideHandler(y)),H&&(o.animationEndCallback=setTimeout(function(){var ne=H.animating,oe=(0,de.Z)(H,vS);o.setState(oe,function(){o.callbackTimers.push(setTimeout(function(){return o.setState({animating:ne})},10)),k&&k(G.currentSlide),delete o.animationEndCallback})},z))})}}),(0,pe.Z)(o,"changeSlide",function(y){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,w=(0,Y.Z)((0,Y.Z)({},o.props),o.state),I=Y1(w,y);if(!(I!==0&&!I)&&(C===!0?o.slideHandler(I,C):o.slideHandler(I),o.props.autoplay&&o.autoPlay("update"),o.props.focusOnSelect)){var D=o.list.querySelectorAll(".slick-current");D[0]&&D[0].focus()}}),(0,pe.Z)(o,"clickHandler",function(y){o.clickable===!1&&(y.stopPropagation(),y.preventDefault()),o.clickable=!0}),(0,pe.Z)(o,"keyHandler",function(y){var C=q1(y,o.props.accessibility,o.props.rtl);C!==""&&o.changeSlide({message:C})}),(0,pe.Z)(o,"selectHandler",function(y){o.changeSlide(y)}),(0,pe.Z)(o,"disableBodyScroll",function(){var y=function(w){w=w||window.event,w.preventDefault&&w.preventDefault(),w.returnValue=!1};window.ontouchmove=y}),(0,pe.Z)(o,"enableBodyScroll",function(){window.ontouchmove=null}),(0,pe.Z)(o,"swipeStart",function(y){o.props.verticalSwiping&&o.disableBodyScroll();var C=ev(y,o.props.swipe,o.props.draggable);C!==""&&o.setState(C)}),(0,pe.Z)(o,"swipeMove",function(y){var C=J1(y,(0,Y.Z)((0,Y.Z)((0,Y.Z)({},o.props),o.state),{},{trackRef:o.track,listRef:o.list,slideIndex:o.state.currentSlide}));C&&(C.swiping&&(o.clickable=!1),o.setState(C))}),(0,pe.Z)(o,"swipeEnd",function(y){var C=e_(y,(0,Y.Z)((0,Y.Z)((0,Y.Z)({},o.props),o.state),{},{trackRef:o.track,listRef:o.list,slideIndex:o.state.currentSlide}));if(C){var w=C.triggerSlideHandler;delete C.triggerSlideHandler,o.setState(C),w!==void 0&&(o.slideHandler(w),o.props.verticalSwiping&&o.enableBodyScroll())}}),(0,pe.Z)(o,"touchEnd",function(y){o.swipeEnd(y),o.clickable=!0}),(0,pe.Z)(o,"slickPrev",function(){o.callbackTimers.push(setTimeout(function(){return o.changeSlide({message:"previous"})},0))}),(0,pe.Z)(o,"slickNext",function(){o.callbackTimers.push(setTimeout(function(){return o.changeSlide({message:"next"})},0))}),(0,pe.Z)(o,"slickGoTo",function(y){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(y=Number(y),isNaN(y))return"";o.callbackTimers.push(setTimeout(function(){return o.changeSlide({message:"index",index:y,currentSlide:o.state.currentSlide},C)},0))}),(0,pe.Z)(o,"play",function(){var y;if(o.props.rtl)y=o.state.currentSlide-o.props.slidesToScroll;else if(Ig((0,Y.Z)((0,Y.Z)({},o.props),o.state)))y=o.state.currentSlide+o.props.slidesToScroll;else return!1;o.slideHandler(y)}),(0,pe.Z)(o,"autoPlay",function(y){o.autoplayTimer&&clearInterval(o.autoplayTimer);var C=o.state.autoplaying;if(y==="update"){if(C==="hovered"||C==="focused"||C==="paused")return}else if(y==="leave"){if(C==="paused"||C==="focused")return}else if(y==="blur"&&(C==="paused"||C==="hovered"))return;o.autoplayTimer=setInterval(o.play,o.props.autoplaySpeed+50),o.setState({autoplaying:"playing"})}),(0,pe.Z)(o,"pause",function(y){o.autoplayTimer&&(clearInterval(o.autoplayTimer),o.autoplayTimer=null);var C=o.state.autoplaying;y==="paused"?o.setState({autoplaying:"paused"}):y==="focused"?(C==="hovered"||C==="playing")&&o.setState({autoplaying:"focused"}):C==="playing"&&o.setState({autoplaying:"hovered"})}),(0,pe.Z)(o,"onDotsOver",function(){return o.props.autoplay&&o.pause("hovered")}),(0,pe.Z)(o,"onDotsLeave",function(){return o.props.autoplay&&o.state.autoplaying==="hovered"&&o.autoPlay("leave")}),(0,pe.Z)(o,"onTrackOver",function(){return o.props.autoplay&&o.pause("hovered")}),(0,pe.Z)(o,"onTrackLeave",function(){return o.props.autoplay&&o.state.autoplaying==="hovered"&&o.autoPlay("leave")}),(0,pe.Z)(o,"onSlideFocus",function(){return o.props.autoplay&&o.pause("focused")}),(0,pe.Z)(o,"onSlideBlur",function(){return o.props.autoplay&&o.state.autoplaying==="focused"&&o.autoPlay("blur")}),(0,pe.Z)(o,"render",function(){var y=q()("slick-slider",o.props.className,{"slick-vertical":o.props.vertical,"slick-initialized":!0}),C=(0,Y.Z)((0,Y.Z)({},o.props),o.state),w=Q0(C,["fade","cssEase","speed","infinite","centerMode","focusOnSelect","currentSlide","lazyLoad","lazyLoadedList","rtl","slideWidth","slideHeight","listHeight","vertical","slidesToShow","slidesToScroll","slideCount","trackStyle","variableWidth","unslick","centerPadding","targetSlide","useCSS"]),I=o.props.pauseOnHover;w=(0,Y.Z)((0,Y.Z)({},w),{},{onMouseEnter:I?o.onTrackOver:null,onMouseLeave:I?o.onTrackLeave:null,onMouseOver:I?o.onTrackOver:null,focusOnSelect:o.props.focusOnSelect&&o.clickable?o.selectHandler:null});var D;if(o.props.dots===!0&&o.state.slideCount>=o.props.slidesToShow){var L=Q0(C,["dotsClass","slideCount","slidesToShow","currentSlide","slidesToScroll","clickHandler","children","customPaging","infinite","appendDots"]),z=o.props.pauseOnDotsHover;L=(0,Y.Z)((0,Y.Z)({},L),{},{clickHandler:o.changeSlide,onMouseEnter:z?o.onDotsLeave:null,onMouseOver:z?o.onDotsOver:null,onMouseLeave:z?o.onDotsLeave:null}),D=s.createElement(Su,L)}var k,Z,j=Q0(C,["infinite","centerMode","currentSlide","slideCount","slidesToShow","prevArrow","nextArrow"]);j.clickHandler=o.changeSlide,o.props.arrows&&(k=s.createElement(gS,j),Z=s.createElement(ex,j));var G=null;o.props.vertical&&(G={height:o.state.listHeight});var H=null;o.props.vertical===!1?o.props.centerMode===!0&&(H={padding:"0px "+o.props.centerPadding}):o.props.centerMode===!0&&(H={padding:o.props.centerPadding+" 0px"});var X=(0,Y.Z)((0,Y.Z)({},G),H),ne=o.props.touchMove,oe={className:"slick-list",style:X,onClick:o.clickHandler,onMouseDown:ne?o.swipeStart:null,onMouseMove:o.state.dragging&&ne?o.swipeMove:null,onMouseUp:ne?o.swipeEnd:null,onMouseLeave:o.state.dragging&&ne?o.swipeEnd:null,onTouchStart:ne?o.swipeStart:null,onTouchMove:o.state.dragging&&ne?o.swipeMove:null,onTouchEnd:ne?o.touchEnd:null,onTouchCancel:o.state.dragging&&ne?o.swipeEnd:null,onKeyDown:o.props.accessibility?o.keyHandler:null},ae={className:y,dir:"ltr",style:o.props.style};return o.props.unslick&&(oe={className:"slick-list"},ae={className:y,style:o.props.style}),s.createElement("div",ae,o.props.unslick?"":k,s.createElement("div",(0,We.Z)({ref:o.listRefHandler},oe),s.createElement(hS,(0,We.Z)({ref:o.trackRefHandler},w),o.props.children)),o.props.unslick?"":Z,o.props.unslick?"":D)}),o.list=null,o.track=null,o.state=(0,Y.Z)((0,Y.Z)({},X0),{},{currentSlide:o.props.initialSlide,targetSlide:o.props.initialSlide?o.props.initialSlide:0,slideCount:s.Children.count(o.props.children)}),o.callbackTimers=[],o.clickable=!0,o.debouncedResize=null;var f=o.ssrInit();return o.state=(0,Y.Z)((0,Y.Z)({},o.state),f),o}return(0,fi.Z)(t,e),(0,fn.Z)(t,[{key:"didPropsChange",value:function(o){for(var f=!1,y=0,C=Object.keys(this.props);y<C.length;y++){var w=C[y];if(!o.hasOwnProperty(w)){f=!0;break}if(!((0,et.Z)(o[w])==="object"||typeof o[w]=="function"||isNaN(o[w]))&&o[w]!==this.props[w]){f=!0;break}}return f||s.Children.count(this.props.children)!==s.Children.count(o.children)}}])}(s.Component),ix=F(55518),s_=F.n(ix);function yS(e,t,a){return t=(0,gn.Z)(t),(0,Vn.Z)(e,(0,Er.Z)()?Reflect.construct(t,a||[],(0,gn.Z)(e).constructor):t.apply(e,a))}var ox=function(e){function t(a){var o;return(0,Bn.Z)(this,t),o=yS(this,t,[a]),(0,pe.Z)(o,"innerSliderRefHandler",function(f){return o.innerSlider=f}),(0,pe.Z)(o,"slickPrev",function(){return o.innerSlider.slickPrev()}),(0,pe.Z)(o,"slickNext",function(){return o.innerSlider.slickNext()}),(0,pe.Z)(o,"slickGoTo",function(f){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return o.innerSlider.slickGoTo(f,y)}),(0,pe.Z)(o,"slickPause",function(){return o.innerSlider.pause("paused")}),(0,pe.Z)(o,"slickPlay",function(){return o.innerSlider.autoPlay("play")}),o.state={breakpoint:null},o._responsiveMediaHandlers=[],o}return(0,fi.Z)(t,e),(0,fn.Z)(t,[{key:"media",value:function(o,f){var y=window.matchMedia(o),C=function(I){var D=I.matches;D&&f()};y.addListener(C),C(y),this._responsiveMediaHandlers.push({mql:y,query:o,listener:C})}},{key:"componentDidMount",value:function(){var o=this;if(this.props.responsive){var f=this.props.responsive.map(function(C){return C.breakpoint});f.sort(function(C,w){return C-w}),f.forEach(function(C,w){var I;w===0?I=s_()({minWidth:0,maxWidth:C}):I=s_()({minWidth:f[w-1]+1,maxWidth:C}),Q1()&&o.media(I,function(){o.setState({breakpoint:C})})});var y=s_()({minWidth:f.slice(-1)[0]});Q1()&&this.media(y,function(){o.setState({breakpoint:null})})}}},{key:"componentWillUnmount",value:function(){this._responsiveMediaHandlers.forEach(function(o){o.mql.removeListener(o.listener)})}},{key:"render",value:function(){var o=this,f,y;this.state.breakpoint?(y=this.props.responsive.filter(function(G){return G.breakpoint===o.state.breakpoint}),f=y[0].settings==="unslick"?"unslick":(0,Y.Z)((0,Y.Z)((0,Y.Z)({},Yy),this.props),y[0].settings)):f=(0,Y.Z)((0,Y.Z)({},Yy),this.props),f.centerMode&&(f.slidesToScroll>1,f.slidesToScroll=1),f.fade&&(f.slidesToShow>1,f.slidesToScroll>1,f.slidesToShow=1,f.slidesToScroll=1);var C=s.Children.toArray(this.props.children);C=C.filter(function(G){return typeof G=="string"?!!G.trim():!!G}),f.variableWidth&&(f.rows>1||f.slidesPerRow>1)&&(console.warn("variableWidth is not supported in case of rows > 1 or slidesPerRow > 1"),f.variableWidth=!1);for(var w=[],I=null,D=0;D<C.length;D+=f.rows*f.slidesPerRow){for(var L=[],z=D;z<D+f.rows*f.slidesPerRow;z+=f.slidesPerRow){for(var k=[],Z=z;Z<z+f.slidesPerRow&&(f.variableWidth&&C[Z].props.style&&(I=C[Z].props.style.width),!(Z>=C.length));Z+=1)k.push(s.cloneElement(C[Z],{key:100*D+10*z+Z,tabIndex:-1,style:{width:"".concat(100/f.slidesPerRow,"%"),display:"inline-block"}}));L.push(s.createElement("div",{key:10*D+z},k))}f.variableWidth?w.push(s.createElement("div",{key:D,style:{width:I}},L)):w.push(s.createElement("div",{key:D},L))}if(f==="unslick"){var j="regular slider "+(this.props.className||"");return s.createElement("div",{className:j},C)}else w.length<=f.slidesToShow&&!f.infinite&&(f.unslick=!0);return s.createElement(rx,(0,We.Z)({style:this.props.style,ref:this.innerSliderRefHandler},cS(f)),w)}}])}(s.Component),kl=ox;const Vf="--dot-duration",Tg=e=>{const{componentCls:t,antCls:a}=e;return{[t]:Object.assign(Object.assign({},(0,Jt.Wf)(e)),{".slick-slider":{position:"relative",display:"block",boxSizing:"border-box",touchAction:"pan-y",WebkitTouchCallout:"none",WebkitTapHighlightColor:"transparent",".slick-track, .slick-list":{transform:"translate3d(0, 0, 0)",touchAction:"pan-y"}},".slick-list":{position:"relative",display:"block",margin:0,padding:0,overflow:"hidden","&:focus":{outline:"none"},"&.dragging":{cursor:"pointer"},".slick-slide":{pointerEvents:"none",[`input${a}-radio-input, input${a}-checkbox-input`]:{visibility:"hidden"},"&.slick-active":{pointerEvents:"auto",[`input${a}-radio-input, input${a}-checkbox-input`]:{visibility:"visible"}},"> div > div":{verticalAlign:"bottom"}}},".slick-track":{position:"relative",top:0,insetInlineStart:0,display:"block","&::before, &::after":{display:"table",content:'""'},"&::after":{clear:"both"}},".slick-slide":{display:"none",float:"left",height:"100%",minHeight:1,img:{display:"block"},"&.dragging img":{pointerEvents:"none"}},".slick-initialized .slick-slide":{display:"block"},".slick-vertical .slick-slide":{display:"block",height:"auto"}})}},Mg=e=>{const{componentCls:t,motionDurationSlow:a,arrowSize:o,arrowOffset:f}=e,y=e.calc(o).div(Math.SQRT2).equal();return{[t]:{".slick-prev, .slick-next":{position:"absolute",top:"50%",width:o,height:o,transform:"translateY(-50%)",color:"#fff",opacity:.4,background:"transparent",padding:0,lineHeight:0,border:0,outline:"none",cursor:"pointer",zIndex:1,transition:`opacity ${a}`,"&:hover, &:focus":{opacity:1},"&.slick-disabled":{pointerEvents:"none",opacity:0},"&::after":{boxSizing:"border-box",position:"absolute",top:e.calc(o).sub(y).div(2).equal(),insetInlineStart:e.calc(o).sub(y).div(2).equal(),display:"inline-block",width:y,height:y,border:"0 solid currentcolor",borderInlineWidth:"2px 0",borderBlockWidth:"2px 0",borderRadius:1,content:'""'}},".slick-prev":{insetInlineStart:f,"&::after":{transform:"rotate(-45deg)"}},".slick-next":{insetInlineEnd:f,"&::after":{transform:"rotate(135deg)"}}}}},ax=e=>{const{componentCls:t,dotOffset:a,dotWidth:o,dotHeight:f,dotGap:y,colorBgContainer:C,motionDurationSlow:w}=e;return{[t]:{".slick-dots":{position:"absolute",insetInlineEnd:0,bottom:0,insetInlineStart:0,zIndex:15,display:"flex !important",justifyContent:"center",paddingInlineStart:0,margin:0,listStyle:"none","&-bottom":{bottom:a},"&-top":{top:a,bottom:"auto"},li:{position:"relative",display:"inline-block",flex:"0 1 auto",boxSizing:"content-box",width:o,height:f,marginInline:y,padding:0,textAlign:"center",textIndent:-999,verticalAlign:"top",transition:`all ${w}`,borderRadius:f,overflow:"hidden","&::after":{display:"block",position:"absolute",top:0,insetInlineStart:0,width:"100%",height:f,content:'""',background:C,borderRadius:f,opacity:1,outline:"none",cursor:"pointer",overflow:"hidden",transform:"translate3d(-100%, 0, 0)"},button:{position:"relative",display:"block",width:"100%",height:f,padding:0,color:"transparent",fontSize:0,background:C,border:0,borderRadius:f,outline:"none",cursor:"pointer",opacity:.2,transition:`all ${w}`,overflow:"hidden","&:hover":{opacity:.75},"&::after":{position:"absolute",inset:e.calc(y).mul(-1).equal(),content:'""'}},"&.slick-active":{width:e.dotActiveWidth,position:"relative","&:hover":{opacity:1},"&::after":{transform:"translate3d(0, 0, 0)",transition:`transform var(${Vf}) ease-out`}}}}}}},_S=e=>{const{componentCls:t,dotOffset:a,arrowOffset:o,marginXXS:f}=e,y={width:e.dotHeight,height:e.dotWidth};return{[`${t}-vertical`]:{".slick-prev, .slick-next":{insetInlineStart:"50%",marginBlockStart:"unset",transform:"translateX(-50%)"},".slick-prev":{insetBlockStart:o,insetInlineStart:"50%","&::after":{transform:"rotate(45deg)"}},".slick-next":{insetBlockStart:"auto",insetBlockEnd:o,"&::after":{transform:"rotate(-135deg)"}},".slick-dots":{top:"50%",bottom:"auto",flexDirection:"column",width:e.dotHeight,height:"auto",margin:0,transform:"translateY(-50%)","&-left":{insetInlineEnd:"auto",insetInlineStart:a},"&-right":{insetInlineEnd:a,insetInlineStart:"auto"},li:Object.assign(Object.assign({},y),{margin:`${(0,he.bf)(f)} 0`,verticalAlign:"baseline",button:y,"&::after":Object.assign(Object.assign({},y),{height:0}),"&.slick-active":Object.assign(Object.assign({},y),{button:y,"&::after":Object.assign(Object.assign({},y),{transition:`height var(${Vf}) ease-out`})})})}}}},bS=e=>{const{componentCls:t}=e;return[{[`${t}-rtl`]:{direction:"rtl",".slick-dots":{[`${t}-rtl&`]:{flexDirection:"row-reverse"}}}},{[`${t}-vertical`]:{".slick-dots":{[`${t}-rtl&`]:{flexDirection:"column"}}}}]},l_=e=>({arrowSize:16,arrowOffset:e.marginXS,dotWidth:16,dotHeight:3,dotGap:e.marginXXS,dotOffset:12,dotWidthActive:24,dotActiveWidth:24});var nd=(0,te.I$)("Carousel",e=>[Tg(e),Mg(e),ax(e),_S(e),bS(e)],l_,{deprecatedTokens:[["dotWidthActive","dotActiveWidth"]]}),rv=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a};const sx="slick-dots",zu=e=>{var{currentSlide:t,slideCount:a}=e,o=rv(e,["currentSlide","slideCount"]);return s.createElement("button",Object.assign({type:"button"},o))};var xS=s.forwardRef((e,t)=>{const{dots:a=!0,arrows:o=!1,prevArrow:f=s.createElement(zu,{"aria-label":"prev"}),nextArrow:y=s.createElement(zu,{"aria-label":"next"}),draggable:C=!1,waitForAnimate:w=!1,dotPosition:I="bottom",vertical:D=I==="left"||I==="right",rootClassName:L,className:z,style:k,id:Z,autoplay:j=!1,autoplaySpeed:G=3e3}=e,H=rv(e,["dots","arrows","prevArrow","nextArrow","draggable","waitForAnimate","dotPosition","vertical","rootClassName","className","style","id","autoplay","autoplaySpeed"]),{getPrefixCls:X,direction:ne,className:oe,style:ae}=(0,ye.dj)("carousel"),ie=s.useRef(null),le=function(st){let ct=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;ie.current.slickGoTo(st,ct)};s.useImperativeHandle(t,()=>({goTo:le,autoPlay:ie.current.innerSlider.autoPlay,innerSlider:ie.current.innerSlider,prev:ie.current.slickPrev,next:ie.current.slickNext}),[ie.current]);const fe=s.useRef(s.Children.count(e.children));s.useEffect(()=>{fe.current!==s.Children.count(e.children)&&(le(e.initialSlide||0,!1),fe.current=s.Children.count(e.children))},[e.children]);const me=Object.assign({vertical:D,className:q()(z,oe),style:Object.assign(Object.assign({},ae),k),autoplay:!!j},H);me.effect==="fade"&&(me.fade=!0);const ge=X("carousel",me.prefixCls),be=!!a,Ie=q()(sx,`${sx}-${I}`,typeof a=="boolean"?!1:a==null?void 0:a.className),[Oe,Te,Ve]=nd(ge),De=q()(ge,{[`${ge}-rtl`]:ne==="rtl",[`${ge}-vertical`]:me.vertical},Te,Ve,L),ke=j&&(typeof j=="object"?j.dotDuration:!1)?{[Vf]:`${G}ms`}:{};return Oe(s.createElement("div",{className:De,id:Z,style:ke},s.createElement(kl,Object.assign({ref:ie},me,{dots:be,dotsClass:Ie,arrows:o,prevArrow:f,nextArrow:y,draggable:C,verticalSwiping:D,autoplaySpeed:G,waitForAnimate:w}))))}),iv=F(12321),wu=F(21125),CS=s.createContext({}),Nh=CS,Hp="__rc_cascader_search_mark__",c_=function(t,a,o){var f=o.label,y=f===void 0?"":f;return a.some(function(C){return String(C[y]).toLowerCase().includes(t.toLowerCase())})},u_=function(t,a,o,f){return a.map(function(y){return y[f.label]}).join(" / ")},SS=function(t,a,o,f,y,C){var w=y.filter,I=w===void 0?c_:w,D=y.render,L=D===void 0?u_:D,z=y.limit,k=z===void 0?50:z,Z=y.sort;return s.useMemo(function(){var j=[];if(!t)return[];function G(H,X){var ne=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;H.forEach(function(oe){if(!(!Z&&k!==!1&&k>0&&j.length>=k)){var ae=[].concat((0,xe.Z)(X),[oe]),ie=oe[o.children],le=ne||oe.disabled;if((!ie||ie.length===0||C)&&I(t,ae,{label:o.label})){var fe;j.push((0,Y.Z)((0,Y.Z)({},oe),{},(fe={disabled:le},(0,pe.Z)(fe,o.label,L(t,ae,f,o)),(0,pe.Z)(fe,Hp,ae),(0,pe.Z)(fe,o.children,void 0),fe)))}ie&&G(oe[o.children],ae,le)}})}return G(a,[]),Z&&j.sort(function(H,X){return Z(H[Hp],X[Hp],t,o)}),k!==!1&&k>0?j.slice(0,k):j},[t,a,o,f,L,C,I,Z,k])},lx=SS,Bh="__RC_CASCADER_SPLIT__",ov="SHOW_PARENT",Nu="SHOW_CHILD";function Xc(e){return e.join(Bh)}function Hf(e){return e.map(Xc)}function Up(e){return e.split(Bh)}function d_(e){var t=e||{},a=t.label,o=t.value,f=t.children,y=o||"value";return{label:a||"label",value:y,key:y,children:f||"children"}}function Wp(e,t){var a,o;return(a=e.isLeaf)!==null&&a!==void 0?a:!((o=e[t.children])!==null&&o!==void 0&&o.length)}function av(e){var t=e.parentElement;if(t){var a=e.offsetTop-t.offsetTop;a-t.scrollTop<0?t.scrollTo({top:a}):a+e.offsetHeight-t.scrollTop>t.offsetHeight&&t.scrollTo({top:a+e.offsetHeight-t.offsetHeight})}}function cx(e,t){return e.map(function(a){var o;return(o=a[Hp])===null||o===void 0?void 0:o.map(function(f){return f[t.value]})})}function Pg(e){return Array.isArray(e)&&Array.isArray(e[0])}function Og(e){return e?Pg(e)?e:(e.length===0?[]:[e]).map(function(t){return Array.isArray(t)?t:[t]}):[]}function sv(e,t,a){var o=new Set(e),f=t();return e.filter(function(y){var C=f[y],w=C?C.parent:null,I=C?C.children:null;return C&&C.node.disabled?!0:a===Nu?!(I&&I.some(function(D){return D.key&&o.has(D.key)})):!(w&&!w.node.disabled&&o.has(w.key))})}function Gp(e,t,a){for(var o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,f=t,y=[],C=function(){var D,L,z,k=e[w],Z=(D=f)===null||D===void 0?void 0:D.findIndex(function(G){var H=G[a.value];return o?String(H)===String(k):H===k}),j=Z!==-1?(L=f)===null||L===void 0?void 0:L[Z]:null;y.push({value:(z=j==null?void 0:j[a.value])!==null&&z!==void 0?z:k,index:Z,option:j}),f=j==null?void 0:j[a.children]},w=0;w<e.length;w+=1)C();return y}var lv=function(e,t,a,o,f){return s.useMemo(function(){var y=f||function(C){var w=o?C.slice(-1):C,I=" / ";return w.every(function(D){return["string","number"].includes((0,et.Z)(D))})?w.join(I):w.reduce(function(D,L,z){var k=s.isValidElement(L)?s.cloneElement(L,{key:z}):L;return z===0?[k]:[].concat((0,xe.Z)(D),[I,k])},[])};return e.map(function(C){var w,I=Gp(C,t,a),D=y(I.map(function(z){var k,Z=z.option,j=z.value;return(k=Z==null?void 0:Z[a.label])!==null&&k!==void 0?k:j}),I.map(function(z){var k=z.option;return k})),L=Xc(C);return{label:D,value:L,key:L,valueCells:C,disabled:(w=I[I.length-1])===null||w===void 0||(w=w.option)===null||w===void 0?void 0:w.disabled}})},[e,t,a,f,o])};function ux(e,t){return s.useCallback(function(a){var o=[],f=[];return a.forEach(function(y){var C=Gp(y,e,t);C.every(function(w){return w.option})?f.push(y):o.push(y)}),[f,o]},[e,t])}var Uf=F(37861),dx=function(e,t){var a=s.useRef({options:[],info:{keyEntities:{},pathKeyEntities:{}}}),o=s.useCallback(function(){return a.current.options!==e&&(a.current.options=e,a.current.info=(0,Uf.I8)(e,{fieldNames:t,initWrapper:function(y){return(0,Y.Z)((0,Y.Z)({},y),{},{pathKeyEntities:{}})},processEntity:function(y,C){var w=y.nodes.map(function(I){return I[t.value]}).join(Bh);C.pathKeyEntities[w]=y,y.key=w}})),a.current.info.pathKeyEntities},[t,e]);return o};function f_(e,t){var a=s.useMemo(function(){return t||[]},[t]),o=dx(a,e),f=s.useCallback(function(y){var C=o();return y.map(function(w){var I=C[w].nodes;return I.map(function(D){return D[e.value]})})},[o,e]);return[a,o,f]}function wS(e){return s.useMemo(function(){if(!e)return[!1,{}];var t={matchInputWidth:!0,limit:50};return e&&(0,et.Z)(e)==="object"&&(t=(0,Y.Z)((0,Y.Z)({},t),e)),t.limit<=0&&(t.limit=!1),[!0,t]},[e])}var Cd=F(59454);function fx(e,t,a,o,f,y,C,w){return function(I){if(!e)t(I);else{var D=Xc(I),L=Hf(a),z=Hf(o),k=L.includes(D),Z=f.some(function(le){return Xc(le)===D}),j=a,G=f;if(Z&&!k)G=f.filter(function(le){return Xc(le)!==D});else{var H=k?L.filter(function(le){return le!==D}):[].concat((0,xe.Z)(L),[D]),X=y(),ne;if(k){var oe=(0,Cd.S)(H,{checked:!1,halfCheckedKeys:z},X);ne=oe.checkedKeys}else{var ae=(0,Cd.S)(H,!0,X);ne=ae.checkedKeys}var ie=sv(ne,y,w);j=C(ie)}t([].concat((0,xe.Z)(G),(0,xe.Z)(j)))}}}function h_(e,t,a,o,f){return s.useMemo(function(){var y=f(t),C=(0,Re.Z)(y,2),w=C[0],I=C[1];if(!e||!t.length)return[w,[],I];var D=Hf(w),L=a(),z=(0,Cd.S)(D,!0,L),k=z.checkedKeys,Z=z.halfCheckedKeys;return[o(k),o(Z),I]},[e,t,a,o,f])}var Fh=s.memo(function(e){var t=e.children;return t},function(e,t){return!t.open}),p_=Fh;function ES(e){var t,a=e.prefixCls,o=e.checked,f=e.halfChecked,y=e.disabled,C=e.onClick,w=e.disableCheckbox,I=s.useContext(Nh),D=I.checkable,L=typeof D!="boolean"?D:null;return s.createElement("span",{className:q()("".concat(a),(t={},(0,pe.Z)(t,"".concat(a,"-checked"),o),(0,pe.Z)(t,"".concat(a,"-indeterminate"),!o&&f),(0,pe.Z)(t,"".concat(a,"-disabled"),y||w),t)),onClick:C},L)}var m_="__cascader_fix_label__";function IS(e){var t=e.prefixCls,a=e.multiple,o=e.options,f=e.activeValue,y=e.prevValuePath,C=e.onToggleOpen,w=e.onSelect,I=e.onActive,D=e.checkedSet,L=e.halfCheckedSet,z=e.loadingKeys,k=e.isSelectable,Z=e.disabled,j="".concat(t,"-menu"),G="".concat(t,"-menu-item"),H=s.useContext(Nh),X=H.fieldNames,ne=H.changeOnSelect,oe=H.expandTrigger,ae=H.expandIcon,ie=H.loadingIcon,le=H.dropdownMenuColumnStyle,fe=H.optionRender,me=oe==="hover",ge=function(Oe){return Z||Oe},be=s.useMemo(function(){return o.map(function(Ie){var Oe,Te=Ie.disabled,Ve=Ie.disableCheckbox,De=Ie[Hp],Ue=(Oe=Ie[m_])!==null&&Oe!==void 0?Oe:Ie[X.label],ke=Ie[X.value],st=Wp(Ie,X),ct=De?De.map(function(bt){return bt[X.value]}):[].concat((0,xe.Z)(y),[ke]),Et=Xc(ct),It=z.includes(Et),Ct=D.has(Et),mt=L.has(Et);return{disabled:Te,label:Ue,value:ke,isLeaf:st,isLoading:It,checked:Ct,halfChecked:mt,option:Ie,disableCheckbox:Ve,fullPath:ct,fullPathKey:Et}})},[o,D,X,L,z,y]);return s.createElement("ul",{className:j,role:"menu"},be.map(function(Ie){var Oe,Te=Ie.disabled,Ve=Ie.label,De=Ie.value,Ue=Ie.isLeaf,ke=Ie.isLoading,st=Ie.checked,ct=Ie.halfChecked,Et=Ie.option,It=Ie.fullPath,Ct=Ie.fullPathKey,mt=Ie.disableCheckbox,bt=function(){if(!ge(Te)){var Mt=(0,xe.Z)(It);me&&Ue&&Mt.pop(),I(Mt)}},zt=function(){k(Et)&&!ge(Te)&&w(It,Ue)},$t;return typeof Et.title=="string"?$t=Et.title:typeof Ve=="string"&&($t=Ve),s.createElement("li",{key:Ct,className:q()(G,(Oe={},(0,pe.Z)(Oe,"".concat(G,"-expand"),!Ue),(0,pe.Z)(Oe,"".concat(G,"-active"),f===De||f===Ct),(0,pe.Z)(Oe,"".concat(G,"-disabled"),ge(Te)),(0,pe.Z)(Oe,"".concat(G,"-loading"),ke),Oe)),style:le,role:"menuitemcheckbox",title:$t,"aria-checked":st,"data-path-key":Ct,onClick:function(){bt(),!mt&&(!a||Ue)&&zt()},onDoubleClick:function(){ne&&C(!1)},onMouseEnter:function(){me&&bt()},onMouseDown:function(Mt){Mt.preventDefault()}},a&&s.createElement(ES,{prefixCls:"".concat(t,"-checkbox"),checked:st,halfChecked:ct,disabled:ge(Te)||mt,disableCheckbox:mt,onClick:function(Mt){mt||(Mt.stopPropagation(),zt())}}),s.createElement("div",{className:"".concat(G,"-content")},fe?fe(Et):Ve),!ke&&ae&&!Ue&&s.createElement("div",{className:"".concat(G,"-expand-icon")},ae),ke&&ie&&s.createElement("div",{className:"".concat(G,"-loading-icon")},ie))}))}var TS=function(t,a){var o=s.useContext(Nh),f=o.values,y=f[0],C=s.useState([]),w=(0,Re.Z)(C,2),I=w[0],D=w[1];return s.useEffect(function(){t||D(y||[])},[a,y]),[I,D]},MS=TS,hx=function(e,t,a,o,f,y,C){var w=C.direction,I=C.searchValue,D=C.toggleOpen,L=C.open,z=w==="rtl",k=s.useMemo(function(){for(var le=-1,fe=t,me=[],ge=[],be=o.length,Ie=cx(t,a),Oe=function(ke){var st=fe.findIndex(function(ct,Et){return(Ie[Et]?Xc(Ie[Et]):ct[a.value])===o[ke]});if(st===-1)return 1;le=st,me.push(le),ge.push(o[ke]),fe=fe[le][a.children]},Te=0;Te<be&&fe&&!Oe(Te);Te+=1);for(var Ve=t,De=0;De<me.length-1;De+=1)Ve=Ve[me[De]][a.children];return[ge,le,Ve,Ie]},[o,a,t]),Z=(0,Re.Z)(k,4),j=Z[0],G=Z[1],H=Z[2],X=Z[3],ne=function(fe){f(fe)},oe=function(fe){var me=H.length,ge=G;ge===-1&&fe<0&&(ge=me);for(var be=0;be<me;be+=1){ge=(ge+fe+me)%me;var Ie=H[ge];if(Ie&&!Ie.disabled){var Oe=j.slice(0,-1).concat(X[ge]?Xc(X[ge]):Ie[a.value]);ne(Oe);return}}},ae=function(){if(j.length>1){var fe=j.slice(0,-1);ne(fe)}else D(!1)},ie=function(){var fe,me=((fe=H[G])===null||fe===void 0?void 0:fe[a.children])||[],ge=me.find(function(Ie){return!Ie.disabled});if(ge){var be=[].concat((0,xe.Z)(j),[ge[a.value]]);ne(be)}};s.useImperativeHandle(e,function(){return{onKeyDown:function(fe){var me=fe.which;switch(me){case nt.Z.UP:case nt.Z.DOWN:{var ge=0;me===nt.Z.UP?ge=-1:me===nt.Z.DOWN&&(ge=1),ge!==0&&oe(ge);break}case nt.Z.LEFT:{if(I)break;z?ie():ae();break}case nt.Z.RIGHT:{if(I)break;z?ae():ie();break}case nt.Z.BACKSPACE:{I||ae();break}case nt.Z.ENTER:{if(j.length){var be=H[G],Ie=(be==null?void 0:be[Hp])||[];Ie.length?y(Ie.map(function(Oe){return Oe[a.value]}),Ie[Ie.length-1]):y(j,H[G])}break}case nt.Z.ESC:D(!1),L&&fe.stopPropagation()}},onKeyUp:function(){}}})},PS=s.forwardRef(function(e,t){var a,o,f,y=e.prefixCls,C=e.multiple,w=e.searchValue,I=e.toggleOpen,D=e.notFoundContent,L=e.direction,z=e.open,k=e.disabled,Z=s.useRef(null),j=L==="rtl",G=s.useContext(Nh),H=G.options,X=G.values,ne=G.halfValues,oe=G.fieldNames,ae=G.changeOnSelect,ie=G.onSelect,le=G.searchOptions,fe=G.dropdownPrefixCls,me=G.loadData,ge=G.expandTrigger,be=fe||y,Ie=s.useState([]),Oe=(0,Re.Z)(Ie,2),Te=Oe[0],Ve=Oe[1],De=function(Ft){if(!(!me||w)){var kn=Gp(Ft,H,oe),Pn=kn.map(function(or){var ar=or.option;return ar}),Dr=Pn[Pn.length-1];if(Dr&&!Wp(Dr,oe)){var br=Xc(Ft);Ve(function(or){return[].concat((0,xe.Z)(or),[br])}),me(Pn)}}};s.useEffect(function(){Te.length&&Te.forEach(function(Qt){var Ft=Up(Qt),kn=Gp(Ft,H,oe,!0).map(function(Dr){var br=Dr.option;return br}),Pn=kn[kn.length-1];(!Pn||Pn[oe.children]||Wp(Pn,oe))&&Ve(function(Dr){return Dr.filter(function(br){return br!==Qt})})})},[H,Te,oe]);var Ue=s.useMemo(function(){return new Set(Hf(X))},[X]),ke=s.useMemo(function(){return new Set(Hf(ne))},[ne]),st=MS(C,z),ct=(0,Re.Z)(st,2),Et=ct[0],It=ct[1],Ct=function(Ft){It(Ft),De(Ft)},mt=function(Ft){if(k)return!1;var kn=Ft.disabled,Pn=Wp(Ft,oe);return!kn&&(Pn||ae||C)},bt=function(Ft,kn){var Pn=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;ie(Ft),!C&&(kn||ae&&(ge==="hover"||Pn))&&I(!1)},zt=s.useMemo(function(){return w?le:H},[w,le,H]),$t=s.useMemo(function(){for(var Qt=[{options:zt}],Ft=zt,kn=cx(Ft,oe),Pn=function(){var or=Et[Dr],ar=Ft.find(function(sr,Gr){return(kn[Gr]?Xc(kn[Gr]):sr[oe.value])===or}),Fn=ar==null?void 0:ar[oe.children];if(!(Fn!=null&&Fn.length))return 1;Ft=Fn,Qt.push({options:Fn})},Dr=0;Dr<Et.length&&!Pn();Dr+=1);return Qt},[zt,Et,oe]),Ht=function(Ft,kn){mt(kn)&&bt(Ft,Wp(kn,oe),!0)};hx(t,zt,oe,Et,Ct,Ht,{direction:L,searchValue:w,toggleOpen:I,open:z}),s.useEffect(function(){if(!w)for(var Qt=0;Qt<Et.length;Qt+=1){var Ft,kn=Et.slice(0,Qt+1),Pn=Xc(kn),Dr=(Ft=Z.current)===null||Ft===void 0?void 0:Ft.querySelector('li[data-path-key="'.concat(Pn.replace(/\\{0,2}"/g,'\\"'),'"]'));Dr&&av(Dr)}},[Et,w]);var Mt=!((a=$t[0])!==null&&a!==void 0&&(a=a.options)!==null&&a!==void 0&&a.length),Cn=[(o={},(0,pe.Z)(o,oe.value,"__EMPTY__"),(0,pe.Z)(o,m_,D),(0,pe.Z)(o,"disabled",!0),o)],Hn=(0,Y.Z)((0,Y.Z)({},e),{},{multiple:!Mt&&C,onSelect:bt,onActive:Ct,onToggleOpen:I,checkedSet:Ue,halfCheckedSet:ke,loadingKeys:Te,isSelectable:mt}),pn=Mt?[{options:Cn}]:$t,Dn=pn.map(function(Qt,Ft){var kn=Et.slice(0,Ft),Pn=Et[Ft];return s.createElement(IS,(0,We.Z)({key:Ft},Hn,{prefixCls:be,options:Qt.options,prevValuePath:kn,activeValue:Pn}))});return s.createElement(p_,{open:z},s.createElement("div",{className:q()("".concat(be,"-menus"),(f={},(0,pe.Z)(f,"".concat(be,"-menu-empty"),Mt),(0,pe.Z)(f,"".concat(be,"-rtl"),j),f)),ref:Z},Dn))}),px=PS,mx=s.forwardRef(function(e,t){var a=(0,iv.lk)();return s.createElement(px,(0,We.Z)({},e,a,{ref:t}))}),OS=mx;function Kp(){}function g_(e){var t,a=e,o=a.prefixCls,f=o===void 0?"rc-cascader":o,y=a.style,C=a.className,w=a.options,I=a.checkable,D=a.defaultValue,L=a.value,z=a.fieldNames,k=a.changeOnSelect,Z=a.onChange,j=a.showCheckedStrategy,G=a.loadData,H=a.expandTrigger,X=a.expandIcon,ne=X===void 0?">":X,oe=a.loadingIcon,ae=a.direction,ie=a.notFoundContent,le=ie===void 0?"Not Found":ie,fe=a.disabled,me=!!I,ge=(0,$s.C8)(D,{value:L,postState:Og}),be=(0,Re.Z)(ge,2),Ie=be[0],Oe=be[1],Te=s.useMemo(function(){return d_(z)},[JSON.stringify(z)]),Ve=f_(Te,w),De=(0,Re.Z)(Ve,3),Ue=De[0],ke=De[1],st=De[2],ct=ux(Ue,Te),Et=h_(me,Ie,ke,st,ct),It=(0,Re.Z)(Et,3),Ct=It[0],mt=It[1],bt=It[2],zt=(0,$s.zX)(function(pn){if(Oe(pn),Z){var Dn=Og(pn),Qt=Dn.map(function(Pn){return Gp(Pn,Ue,Te).map(function(Dr){return Dr.option})}),Ft=me?Dn:Dn[0],kn=me?Qt:Qt[0];Z(Ft,kn)}}),$t=fx(me,zt,Ct,mt,bt,ke,st,j),Ht=(0,$s.zX)(function(pn){$t(pn)}),Mt=s.useMemo(function(){return{options:Ue,fieldNames:Te,values:Ct,halfValues:mt,changeOnSelect:k,onSelect:Ht,checkable:I,searchOptions:[],dropdownPrefixCls:void 0,loadData:G,expandTrigger:H,expandIcon:ne,loadingIcon:oe,dropdownMenuColumnStyle:void 0}},[Ue,Te,Ct,mt,k,Ht,I,G,H,ne,oe]),Cn="".concat(f,"-panel"),Hn=!Ue.length;return s.createElement(Nh.Provider,{value:Mt},s.createElement("div",{className:q()(Cn,(t={},(0,pe.Z)(t,"".concat(Cn,"-rtl"),ae==="rtl"),(0,pe.Z)(t,"".concat(Cn,"-empty"),Hn),t),C),style:y},Hn?le:s.createElement(px,{prefixCls:f,searchValue:"",multiple:me,toggleOpen:Kp,open:!0,direction:ae,disabled:fe})))}function RS(e){var t=e.onPopupVisibleChange,a=e.popupVisible,o=e.popupClassName,f=e.popupPlacement;warning(!t,"`onPopupVisibleChange` is deprecated. Please use `onDropdownVisibleChange` instead."),warning(a===void 0,"`popupVisible` is deprecated. Please use `open` instead."),warning(o===void 0,"`popupClassName` is deprecated. Please use `dropdownClassName` instead."),warning(f===void 0,"`popupPlacement` is deprecated. Please use `placement` instead.")}function h2(e,t){if(e){var a=function o(f){for(var y=0;y<f.length;y++){var C=f[y];if(C[t==null?void 0:t.value]===null)return warning(!1,"`value` in Cascader options should not be `null`."),!0;if(Array.isArray(C[t==null?void 0:t.children])&&o(C[t==null?void 0:t.children]))return!0}};a(e)}}var $S=null,v_=["id","prefixCls","fieldNames","defaultValue","value","changeOnSelect","onChange","displayRender","checkable","autoClearSearchValue","searchValue","onSearch","showSearch","expandTrigger","options","dropdownPrefixCls","loadData","popupVisible","open","popupClassName","dropdownClassName","dropdownMenuColumnStyle","dropdownStyle","popupPlacement","placement","onDropdownVisibleChange","onPopupVisibleChange","expandIcon","loadingIcon","children","dropdownMatchSelectWidth","showCheckedStrategy","optionRender"],Xp=s.forwardRef(function(e,t){var a=e.id,o=e.prefixCls,f=o===void 0?"rc-cascader":o,y=e.fieldNames,C=e.defaultValue,w=e.value,I=e.changeOnSelect,D=e.onChange,L=e.displayRender,z=e.checkable,k=e.autoClearSearchValue,Z=k===void 0?!0:k,j=e.searchValue,G=e.onSearch,H=e.showSearch,X=e.expandTrigger,ne=e.options,oe=e.dropdownPrefixCls,ae=e.loadData,ie=e.popupVisible,le=e.open,fe=e.popupClassName,me=e.dropdownClassName,ge=e.dropdownMenuColumnStyle,be=e.dropdownStyle,Ie=e.popupPlacement,Oe=e.placement,Te=e.onDropdownVisibleChange,Ve=e.onPopupVisibleChange,De=e.expandIcon,Ue=De===void 0?">":De,ke=e.loadingIcon,st=e.children,ct=e.dropdownMatchSelectWidth,Et=ct===void 0?!1:ct,It=e.showCheckedStrategy,Ct=It===void 0?ov:It,mt=e.optionRender,bt=(0,de.Z)(e,v_),zt=(0,wu.ZP)(a),$t=!!z,Ht=(0,Fs.Z)(C,{value:w,postState:Og}),Mt=(0,Re.Z)(Ht,2),Cn=Mt[0],Hn=Mt[1],pn=s.useMemo(function(){return d_(y)},[JSON.stringify(y)]),Dn=f_(pn,ne),Qt=(0,Re.Z)(Dn,3),Ft=Qt[0],kn=Qt[1],Pn=Qt[2],Dr=(0,Fs.Z)("",{value:j,postState:function(va){return va||""}}),br=(0,Re.Z)(Dr,2),or=br[0],ar=br[1],Fn=function(va,ts){ar(va),ts.source!=="blur"&&G&&G(va)},sr=wS(H),Gr=(0,Re.Z)(sr,2),yi=Gr[0],Di=Gr[1],Ui=lx(or,Ft,pn,oe||f,Di,I||$t),$o=ux(Ft,pn),Ri=h_($t,Cn,kn,Pn,$o),mi=(0,Re.Z)(Ri,3),Pi=mi[0],ao=mi[1],ki=mi[2],Ao=s.useMemo(function(){var Ga=Hf(Pi),va=sv(Ga,kn,Ct);return[].concat((0,xe.Z)(ki),(0,xe.Z)(Pn(va)))},[Pi,kn,Pn,ki,Ct]),Cr=lv(Ao,Ft,pn,$t,L),ur=(0,yr.Z)(function(Ga){if(Hn(Ga),D){var va=Og(Ga),ts=va.map(function(ta){return Gp(ta,Ft,pn).map(function($a){return $a.option})}),As=$t?va:va[0],Ro=$t?ts:ts[0];D(As,Ro)}}),Tr=fx($t,ur,Pi,ao,ki,kn,Pn,Ct),qn=(0,yr.Z)(function(Ga){(!$t||Z)&&ar(""),Tr(Ga)}),pi=function(va,ts){if(ts.type==="clear"){ur([]);return}var As=ts.values[0],Ro=As.valueCells;qn(Ro)},ji=le!==void 0?le:ie,go=me||fe,ra=Oe||Ie,Aa=function(va){Te==null||Te(va),Ve==null||Ve(va)},oa=s.useMemo(function(){return{options:Ft,fieldNames:pn,values:Pi,halfValues:ao,changeOnSelect:I,onSelect:qn,checkable:z,searchOptions:Ui,dropdownPrefixCls:oe,loadData:ae,expandTrigger:X,expandIcon:Ue,loadingIcon:ke,dropdownMenuColumnStyle:ge,optionRender:mt}},[Ft,pn,Pi,ao,I,qn,z,Ui,oe,ae,X,Ue,ke,ge,mt]),Cs=!(or?Ui:Ft).length,Za=or&&Di.matchInputWidth||Cs?{}:{minWidth:"auto"};return s.createElement(Nh.Provider,{value:oa},s.createElement(iv.Ac,(0,We.Z)({},bt,{ref:t,id:zt,prefixCls:f,autoClearSearchValue:Z,dropdownMatchSelectWidth:Et,dropdownStyle:(0,Y.Z)((0,Y.Z)({},Za),be),displayValues:Cr,onDisplayValuesChange:pi,mode:$t?"multiple":void 0,searchValue:or,onSearch:Fn,showSearch:yi,OptionList:OS,emptyOptions:Cs,open:ji,dropdownClassName:go,placement:ra,onDropdownVisibleChange:Aa,getRawInputElement:function(){return st}})))});Xp.SHOW_PARENT=ov,Xp.SHOW_CHILD=Nu,Xp.Panel=g_;var gx=Xp,Yp=gx,Fc=F(94773),Wf=F(22463),u=F(95799),n=F(80043),i=F(50360),d=F(54299);function g(e,t){const{getPrefixCls:a,direction:o,renderEmpty:f}=s.useContext(ye.E_),y=t||o,C=a("select",e),w=a("cascader",e);return[C,w,y,f]}var h=g;function v(e,t){return s.useMemo(()=>t?s.createElement("span",{className:`${e}-checkbox-inner`}):!1,[t])}var M=(e,t,a)=>{let o=a;a||(o=t?s.createElement(Qc,null):s.createElement(yu.Z,null));const f=s.createElement("span",{className:`${e}-menu-item-loading-icon`},s.createElement(Sn.Z,{spin:!0}));return s.useMemo(()=>[o,f],[o])};const A=e=>{const{checkboxCls:t}=e,a=`${t}-wrapper`;return[{[`${t}-group`]:Object.assign(Object.assign({},(0,Jt.Wf)(e)),{display:"inline-flex",flexWrap:"wrap",columnGap:e.marginXS,[`> ${e.antCls}-row`]:{flex:1}}),[a]:Object.assign(Object.assign({},(0,Jt.Wf)(e)),{display:"inline-flex",alignItems:"baseline",cursor:"pointer","&:after":{display:"inline-block",width:0,overflow:"hidden",content:"'\\a0'"},[`& + ${a}`]:{marginInlineStart:0},[`&${a}-in-form-item`]:{'input[type="checkbox"]':{width:14,height:14}}}),[t]:Object.assign(Object.assign({},(0,Jt.Wf)(e)),{position:"relative",whiteSpace:"nowrap",lineHeight:1,cursor:"pointer",borderRadius:e.borderRadiusSM,alignSelf:"center",[`${t}-input`]:{position:"absolute",inset:0,zIndex:1,cursor:"pointer",opacity:0,margin:0,[`&:focus-visible + ${t}-inner`]:Object.assign({},(0,Jt.oN)(e))},[`${t}-inner`]:{boxSizing:"border-box",display:"block",width:e.checkboxSize,height:e.checkboxSize,direction:"ltr",backgroundColor:e.colorBgContainer,border:`${(0,he.bf)(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,borderRadius:e.borderRadiusSM,borderCollapse:"separate",transition:`all ${e.motionDurationSlow}`,"&:after":{boxSizing:"border-box",position:"absolute",top:"50%",insetInlineStart:"25%",display:"table",width:e.calc(e.checkboxSize).div(14).mul(5).equal(),height:e.calc(e.checkboxSize).div(14).mul(8).equal(),border:`${(0,he.bf)(e.lineWidthBold)} solid ${e.colorWhite}`,borderTop:0,borderInlineStart:0,transform:"rotate(45deg) scale(0) translate(-50%,-50%)",opacity:0,content:'""',transition:`all ${e.motionDurationFast} ${e.motionEaseInBack}, opacity ${e.motionDurationFast}`}},"& + span":{paddingInlineStart:e.paddingXS,paddingInlineEnd:e.paddingXS}})},{[`
        ${a}:not(${a}-disabled),
        ${t}:not(${t}-disabled)
      `]:{[`&:hover ${t}-inner`]:{borderColor:e.colorPrimary}},[`${a}:not(${a}-disabled)`]:{[`&:hover ${t}-checked:not(${t}-disabled) ${t}-inner`]:{backgroundColor:e.colorPrimaryHover,borderColor:"transparent"},[`&:hover ${t}-checked:not(${t}-disabled):after`]:{borderColor:e.colorPrimaryHover}}},{[`${t}-checked`]:{[`${t}-inner`]:{backgroundColor:e.colorPrimary,borderColor:e.colorPrimary,"&:after":{opacity:1,transform:"rotate(45deg) scale(1) translate(-50%,-50%)",transition:`all ${e.motionDurationMid} ${e.motionEaseOutBack} ${e.motionDurationFast}`}}},[`
        ${a}-checked:not(${a}-disabled),
        ${t}-checked:not(${t}-disabled)
      `]:{[`&:hover ${t}-inner`]:{backgroundColor:e.colorPrimaryHover,borderColor:"transparent"}}},{[t]:{"&-indeterminate":{[`${t}-inner`]:{backgroundColor:`${e.colorBgContainer} !important`,borderColor:`${e.colorBorder} !important`,"&:after":{top:"50%",insetInlineStart:"50%",width:e.calc(e.fontSizeLG).div(2).equal(),height:e.calc(e.fontSizeLG).div(2).equal(),backgroundColor:e.colorPrimary,border:0,transform:"translate(-50%, -50%) scale(1)",opacity:1,content:'""'}},[`&:hover ${t}-inner`]:{backgroundColor:`${e.colorBgContainer} !important`,borderColor:`${e.colorPrimary} !important`}}}},{[`${a}-disabled`]:{cursor:"not-allowed"},[`${t}-disabled`]:{[`&, ${t}-input`]:{cursor:"not-allowed",pointerEvents:"none"},[`${t}-inner`]:{background:e.colorBgContainerDisabled,borderColor:e.colorBorder,"&:after":{borderColor:e.colorTextDisabled}},"&:after":{display:"none"},"& + span":{color:e.colorTextDisabled},[`&${t}-indeterminate ${t}-inner::after`]:{background:e.colorTextDisabled}}}]};function b(e,t){const a=(0,Qr.IX)(t,{checkboxCls:`.${e}`,checkboxSize:t.controlInteractiveSize});return[A(a)]}var P=(0,te.I$)("Checkbox",(e,t)=>{let{prefixCls:a}=t;return[b(a,e)]}),T=e=>{const{prefixCls:t,componentCls:a}=e,o=`${a}-menu-item`,f=`
  &${o}-expand ${o}-expand-icon,
  ${o}-loading-icon
`;return[b(`${t}-checkbox`,e),{[a]:{"&-checkbox":{top:0,marginInlineEnd:e.paddingXS,pointerEvents:"unset"},"&-menus":{display:"flex",flexWrap:"nowrap",alignItems:"flex-start",[`&${a}-menu-empty`]:{[`${a}-menu`]:{width:"100%",height:"auto",[o]:{color:e.colorTextDisabled}}}},"&-menu":{flexGrow:1,flexShrink:0,minWidth:e.controlItemWidth,height:e.dropdownHeight,margin:0,padding:e.menuPadding,overflow:"auto",verticalAlign:"top",listStyle:"none","-ms-overflow-style":"-ms-autohiding-scrollbar","&:not(:last-child)":{borderInlineEnd:`${(0,he.bf)(e.lineWidth)} ${e.lineType} ${e.colorSplit}`},"&-item":Object.assign(Object.assign({},Jt.vS),{display:"flex",flexWrap:"nowrap",alignItems:"center",padding:e.optionPadding,lineHeight:e.lineHeight,cursor:"pointer",transition:`all ${e.motionDurationMid}`,borderRadius:e.borderRadiusSM,"&:hover":{background:e.controlItemBgHover},"&-disabled":{color:e.colorTextDisabled,cursor:"not-allowed","&:hover":{background:"transparent"},[f]:{color:e.colorTextDisabled}},[`&-active:not(${o}-disabled)`]:{"&, &:hover":{color:e.optionSelectedColor,fontWeight:e.optionSelectedFontWeight,backgroundColor:e.optionSelectedBg}},"&-content":{flex:"auto"},[f]:{marginInlineStart:e.paddingXXS,color:e.colorTextDescription,fontSize:e.fontSizeIcon},"&-keyword":{color:e.colorHighlight}})}}}]};const O=e=>{const{componentCls:t,antCls:a}=e;return[{[t]:{width:e.controlWidth}},{[`${t}-dropdown`]:[{[`&${a}-select-dropdown`]:{padding:0}},T(e)]},{[`${t}-dropdown-rtl`]:{direction:"rtl"}},(0,ia.c)(e)]},N=e=>{const t=Math.round((e.controlHeight-e.fontSize*e.lineHeight)/2);return{controlWidth:184,controlItemWidth:111,dropdownHeight:180,optionSelectedBg:e.controlItemBgActive,optionSelectedFontWeight:e.fontWeightStrong,optionPadding:`${t}px ${e.paddingSM}px`,menuPadding:e.paddingXXS,optionSelectedColor:e.colorText}};var W=(0,te.I$)("Cascader",e=>[O(e)],N);const J=e=>{const{componentCls:t}=e;return{[`${t}-panel`]:[T(e),{display:"inline-flex",border:`${(0,he.bf)(e.lineWidth)} ${e.lineType} ${e.colorSplit}`,borderRadius:e.borderRadiusLG,overflowX:"auto",maxWidth:"100%",[`${t}-menus`]:{alignItems:"stretch"},[`${t}-menu`]:{height:"auto"},"&-empty":{padding:e.paddingXXS}}]}};var se=(0,te.A1)(["Cascader","Panel"],e=>J(e),N);function ue(e){const{prefixCls:t,className:a,multiple:o,rootClassName:f,notFoundContent:y,direction:C,expandIcon:w,disabled:I}=e,D=s.useContext(to.Z),L=I!=null?I:D,[z,k,Z,j]=h(t,C),G=(0,Un.Z)(k),[H,X,ne]=W(k,G);se(k);const oe=Z==="rtl",[ae,ie]=M(z,oe,w),le=y||(j==null?void 0:j("Cascader"))||s.createElement(Wf.Z,{componentName:"Cascader"}),fe=v(k,o);return H(s.createElement(g_,Object.assign({},e,{checkable:fe,prefixCls:k,className:q()(a,X,f,ne,G),notFoundContent:le,direction:Z,expandIcon:ae,loadingIcon:ie,disabled:L})))}var re=ue,ve=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a};const{SHOW_CHILD:we,SHOW_PARENT:Ne}=Yp;function ht(e,t,a){const o=e.toLowerCase().split(t).reduce((C,w,I)=>I===0?[w]:[].concat((0,xe.Z)(C),[t,w]),[]),f=[];let y=0;return o.forEach((C,w)=>{const I=y+C.length;let D=e.slice(y,I);y=I,w%2===1&&(D=s.createElement("span",{className:`${a}-menu-item-keyword`,key:`separator-${w}`},D)),f.push(D)}),f}const ft=(e,t,a,o)=>{const f=[],y=e.toLowerCase();return t.forEach((C,w)=>{w!==0&&f.push(" / ");let I=C[o.label];const D=typeof I;(D==="string"||D==="number")&&(I=ht(String(I),y,a)),f.push(I)}),f},at=s.forwardRef((e,t)=>{var a;const{prefixCls:o,size:f,disabled:y,className:C,rootClassName:w,multiple:I,bordered:D=!0,transitionName:L,choiceTransitionName:z="",popupClassName:k,dropdownClassName:Z,expandIcon:j,placement:G,showSearch:H,allowClear:X=!0,notFoundContent:ne,direction:oe,getPopupContainer:ae,status:ie,showArrow:le,builtinPlacements:fe,style:me,variant:ge}=e,be=ve(e,["prefixCls","size","disabled","className","rootClassName","multiple","bordered","transitionName","choiceTransitionName","popupClassName","dropdownClassName","expandIcon","placement","showSearch","allowClear","notFoundContent","direction","getPopupContainer","status","showArrow","builtinPlacements","style","variant"]),Ie=(0,fr.Z)(be,["suffixIcon"]),{getPrefixCls:Oe,getPopupContainer:Te,className:Ve,style:De}=(0,ye.dj)("cascader"),{popupOverflow:Ue}=s.useContext(ye.E_),{status:ke,hasFeedback:st,isFormItemInput:ct,feedbackIcon:Et}=s.useContext($c.aM),It=(0,Fc.F)(ke,ie),[Ct,mt,bt,zt]=h(o,oe),$t=bt==="rtl",Ht=Oe(),Mt=(0,Un.Z)(Ct),[Cn,Hn,pn]=(0,n.Z)(Ct,Mt),Dn=(0,Un.Z)(mt),[Qt]=W(mt,Dn),{compactSize:Ft,compactItemClassnames:kn}=(0,Vi.ri)(Ct,oe),[Pn,Dr]=(0,jf.Z)("cascader",ge,D),br=ne||(zt==null?void 0:zt("Cascader"))||s.createElement(Wf.Z,{componentName:"Cascader"}),or=q()(k||Z,`${mt}-dropdown`,{[`${mt}-dropdown-rtl`]:bt==="rtl"},w,Mt,Dn,Hn,pn),ar=s.useMemo(()=>{if(!H)return H;let ur={render:ft};return typeof H=="object"&&(ur=Object.assign(Object.assign({},ur),H)),ur},[H]),Fn=(0,xr.Z)(ur=>{var Tr;return(Tr=f!=null?f:Ft)!==null&&Tr!==void 0?Tr:ur}),sr=s.useContext(to.Z),Gr=y!=null?y:sr,[yi,Di]=M(Ct,$t,j),Ui=v(mt,I),$o=(0,d.Z)(e.suffixIcon,le),{suffixIcon:Ri,removeIcon:mi,clearIcon:Pi}=(0,i.Z)(Object.assign(Object.assign({},e),{hasFeedback:st,feedbackIcon:Et,showSuffixIcon:$o,multiple:I,prefixCls:Ct,componentName:"Cascader"})),ao=s.useMemo(()=>G!==void 0?G:$t?"bottomRight":"bottomLeft",[G,$t]),ki=X===!0?{clearIcon:Pi}:X,[Ao]=(0,qt.Cn)("SelectLike",(a=Ie.dropdownStyle)===null||a===void 0?void 0:a.zIndex),Cr=s.createElement(Yp,Object.assign({prefixCls:Ct,className:q()(!o&&mt,{[`${Ct}-lg`]:Fn==="large",[`${Ct}-sm`]:Fn==="small",[`${Ct}-rtl`]:$t,[`${Ct}-${Pn}`]:Dr,[`${Ct}-in-form-item`]:ct},(0,Fc.Z)(Ct,It,st),kn,Ve,C,w,Mt,Dn,Hn,pn),disabled:Gr,style:Object.assign(Object.assign({},De),me)},Ie,{builtinPlacements:(0,u.Z)(fe,Ue),direction:bt,placement:ao,notFoundContent:br,allowClear:ki,showSearch:ar,expandIcon:yi,suffixIcon:Ri,removeIcon:mi,loadingIcon:Di,checkable:Ui,dropdownClassName:or,dropdownPrefixCls:o||mt,dropdownStyle:Object.assign(Object.assign({},Ie.dropdownStyle),{zIndex:Ao}),choiceTransitionName:(0,Tt.m)(Ht,"",z),transitionName:(0,Tt.m)(Ht,"slide-up",L),getPopupContainer:ae||Te,ref:t}));return Qt(Cn(Cr))}),Gt=(0,vl.Z)(at,"dropdownAlign",e=>(0,fr.Z)(e,["visible"]));at.SHOW_PARENT=Ne,at.SHOW_CHILD=we,at.Panel=re,at._InternalPanelDoNotUseOrYouWillBeFired=Gt;var vt=at,en=F(12977),mn=F(5276),yn=s.createContext(null),zn=F(59527),Gn=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a};const Mn=(e,t)=>{var a;const{prefixCls:o,className:f,rootClassName:y,children:C,indeterminate:w=!1,style:I,onMouseEnter:D,onMouseLeave:L,skipGroup:z=!1,disabled:k}=e,Z=Gn(e,["prefixCls","className","rootClassName","children","indeterminate","style","onMouseEnter","onMouseLeave","skipGroup","disabled"]),{getPrefixCls:j,direction:G,checkbox:H}=s.useContext(ye.E_),X=s.useContext(yn),{isFormItemInput:ne}=s.useContext($c.aM),oe=s.useContext(to.Z),ae=(a=(X==null?void 0:X.disabled)||k)!==null&&a!==void 0?a:oe,ie=s.useRef(Z.value),le=s.useRef(null),fe=(0,Yt.sQ)(t,le);s.useEffect(()=>{X==null||X.registerValue(Z.value)},[]),s.useEffect(()=>{if(!z)return Z.value!==ie.current&&(X==null||X.cancelValue(ie.current),X==null||X.registerValue(Z.value),ie.current=Z.value),()=>X==null?void 0:X.cancelValue(Z.value)},[Z.value]),s.useEffect(()=>{var st;!((st=le.current)===null||st===void 0)&&st.input&&(le.current.input.indeterminate=w)},[w]);const me=j("checkbox",o),ge=(0,Un.Z)(me),[be,Ie,Oe]=P(me,ge),Te=Object.assign({},Z);X&&!z&&(Te.onChange=function(){Z.onChange&&Z.onChange.apply(Z,arguments),X.toggleOption&&X.toggleOption({label:C,value:Z.value})},Te.name=X.name,Te.checked=X.value.includes(Z.value));const Ve=q()(`${me}-wrapper`,{[`${me}-rtl`]:G==="rtl",[`${me}-wrapper-checked`]:Te.checked,[`${me}-wrapper-disabled`]:ae,[`${me}-wrapper-in-form-item`]:ne},H==null?void 0:H.className,f,y,Oe,ge,Ie),De=q()({[`${me}-indeterminate`]:w},mn.A,Ie),[Ue,ke]=(0,zn.Z)(Te.onClick);return be(s.createElement(Ai.Z,{component:"Checkbox",disabled:ae},s.createElement("label",{className:Ve,style:Object.assign(Object.assign({},H==null?void 0:H.style),I),onMouseEnter:D,onMouseLeave:L,onClick:Ue},s.createElement(en.Z,Object.assign({},Te,{onClick:ke,prefixCls:me,className:De,disabled:ae,ref:fe})),C!==void 0&&s.createElement("span",{className:`${me}-label`},C))))};var ii=s.forwardRef(Mn),Or=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a},Fi=s.forwardRef((e,t)=>{const{defaultValue:a,children:o,options:f=[],prefixCls:y,className:C,rootClassName:w,style:I,onChange:D}=e,L=Or(e,["defaultValue","children","options","prefixCls","className","rootClassName","style","onChange"]),{getPrefixCls:z,direction:k}=s.useContext(ye.E_),[Z,j]=s.useState(L.value||a||[]),[G,H]=s.useState([]);s.useEffect(()=>{"value"in L&&j(L.value||[])},[L.value]);const X=s.useMemo(()=>f.map(De=>typeof De=="string"||typeof De=="number"?{label:De,value:De}:De),[f]),ne=De=>{H(Ue=>Ue.filter(ke=>ke!==De))},oe=De=>{H(Ue=>[].concat((0,xe.Z)(Ue),[De]))},ae=De=>{const Ue=Z.indexOf(De.value),ke=(0,xe.Z)(Z);Ue===-1?ke.push(De.value):ke.splice(Ue,1),"value"in L||j(ke),D==null||D(ke.filter(st=>G.includes(st)).sort((st,ct)=>{const Et=X.findIndex(Ct=>Ct.value===st),It=X.findIndex(Ct=>Ct.value===ct);return Et-It}))},ie=z("checkbox",y),le=`${ie}-group`,fe=(0,Un.Z)(ie),[me,ge,be]=P(ie,fe),Ie=(0,fr.Z)(L,["value","disabled"]),Oe=f.length?X.map(De=>s.createElement(ii,{prefixCls:ie,key:De.value.toString(),disabled:"disabled"in De?De.disabled:L.disabled,value:De.value,checked:Z.includes(De.value),onChange:De.onChange,className:`${le}-item`,style:De.style,title:De.title,id:De.id,required:De.required},De.label)):o,Te={toggleOption:ae,value:Z,disabled:L.disabled,name:L.name,registerValue:oe,cancelValue:ne},Ve=q()(le,{[`${le}-rtl`]:k==="rtl"},C,w,be,fe,ge);return me(s.createElement("div",Object.assign({className:Ve,style:I},Ie,{ref:t}),s.createElement(yn.Provider,{value:Te},Oe)))});const xi=ii;xi.Group=Fi,xi.__ANT_CHECKBOX=!0;var ni=xi,To=F(11365),Qi=To.Z,ho=F(62023),da=F(89874),za={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 184H712v-64c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v64H384v-64c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v64H144c-17.7 0-32 14.3-32 32v664c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V216c0-17.7-14.3-32-32-32zm-40 656H184V460h656v380zM184 392V256h128v48c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-48h256v48c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-48h128v136H184z"}}]},name:"calendar",theme:"outlined"},Ba=za,Fa=function(t,a){return s.createElement(Kt.Z,(0,We.Z)({},t,{ref:a,icon:Ba}))},Ja=s.forwardRef(Fa),Qa=Ja,js={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M686.7 638.6L544.1 535.5V288c0-4.4-3.6-8-8-8H488c-4.4 0-8 3.6-8 8v275.4c0 2.6 1.2 5 3.3 6.5l165.4 120.6c3.6 2.6 8.6 1.8 11.2-1.7l28.6-39c2.6-3.7 1.8-8.7-1.8-11.2z"}}]},name:"clock-circle",theme:"outlined"},Ms=js,Ea=function(t,a){return s.createElement(Kt.Z,(0,We.Z)({},t,{ref:a,icon:Ms}))},Es=s.forwardRef(Ea),Is=Es,Xs={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M873.1 596.2l-164-208A32 32 0 00684 376h-64.8c-6.7 0-10.4 7.7-6.3 13l144.3 183H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h695.9c26.8 0 41.7-30.8 25.2-51.8z"}}]},name:"swap-right",theme:"outlined"},wl=Xs,jl=function(t,a){return s.createElement(Kt.Z,(0,We.Z)({},t,{ref:a,icon:wl}))},El=s.forwardRef(jl),pl=El,Il=F(58492),sl=F(43452),wc=F(17543);const Zs=(e,t)=>{const{componentCls:a,controlHeight:o}=e,f=t?`${a}-${t}`:"",y=(0,wc.gp)(e);return[{[`${a}-multiple${f}`]:{paddingBlock:y.containerPadding,paddingInlineStart:y.basePadding,minHeight:o,[`${a}-selection-item`]:{height:y.itemHeight,lineHeight:(0,he.bf)(y.itemLineHeight)}}}]};var rd=e=>{const{componentCls:t,calc:a,lineWidth:o}=e,f=(0,Qr.IX)(e,{fontHeight:e.fontSize,selectHeight:e.controlHeightSM,multipleSelectItemHeight:e.multipleItemHeightSM,borderRadius:e.borderRadiusSM,borderRadiusSM:e.borderRadiusXS,controlHeight:e.controlHeightSM}),y=(0,Qr.IX)(e,{fontHeight:a(e.multipleItemHeightLG).sub(a(o).mul(2).equal()).equal(),fontSize:e.fontSizeLG,selectHeight:e.controlHeightLG,multipleSelectItemHeight:e.multipleItemHeightLG,borderRadius:e.borderRadiusLG,borderRadiusSM:e.borderRadius,controlHeight:e.controlHeightLG});return[Zs(f,"small"),Zs(e),Zs(y,"large"),{[`${t}${t}-multiple`]:Object.assign(Object.assign({width:"100%",cursor:"text",[`${t}-selector`]:{flex:"auto",padding:0,position:"relative","&:after":{margin:0},[`${t}-selection-placeholder`]:{position:"absolute",top:"50%",insetInlineStart:e.inputPaddingHorizontalBase,insetInlineEnd:0,transform:"translateY(-50%)",transition:`all ${e.motionDurationSlow}`,overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",flex:1,color:e.colorTextPlaceholder,pointerEvents:"none"}}},(0,wc._z)(e)),{[`${t}-multiple-input`]:{width:0,height:0,border:0,visibility:"hidden",position:"absolute",zIndex:-1}})}]},fc=F(57616),kh=e=>{const{componentCls:t}=e;return{[t]:[Object.assign(Object.assign(Object.assign(Object.assign({},(0,fc.qG)(e)),(0,fc.vc)(e)),(0,fc.H8)(e)),(0,fc.Mu)(e)),{"&-outlined":{[`&${t}-multiple ${t}-selection-item`]:{background:e.multipleItemBg,border:`${(0,he.bf)(e.lineWidth)} ${e.lineType} ${e.multipleItemBorderColor}`}},"&-filled":{[`&${t}-multiple ${t}-selection-item`]:{background:e.colorBgContainer,border:`${(0,he.bf)(e.lineWidth)} ${e.lineType} ${e.colorSplit}`}},"&-borderless":{[`&${t}-multiple ${t}-selection-item`]:{background:e.multipleItemBg,border:`${(0,he.bf)(e.lineWidth)} ${e.lineType} ${e.multipleItemBorderColor}`}},"&-underlined":{[`&${t}-multiple ${t}-selection-item`]:{background:e.multipleItemBg,border:`${(0,he.bf)(e.lineWidth)} ${e.lineType} ${e.multipleItemBorderColor}`}}}]}};const Sd=(e,t,a,o)=>{const f=e.calc(a).add(2).equal(),y=e.max(e.calc(t).sub(f).div(2).equal(),0),C=e.max(e.calc(t).sub(f).sub(y).equal(),0);return{padding:`${(0,he.bf)(y)} ${(0,he.bf)(o)} ${(0,he.bf)(C)}`}},jh=e=>{const{componentCls:t,colorError:a,colorWarning:o}=e;return{[`${t}:not(${t}-disabled):not([disabled])`]:{[`&${t}-status-error`]:{[`${t}-active-bar`]:{background:a}},[`&${t}-status-warning`]:{[`${t}-active-bar`]:{background:o}}}}},Rg=e=>{const{componentCls:t,antCls:a,controlHeight:o,paddingInline:f,lineWidth:y,lineType:C,colorBorder:w,borderRadius:I,motionDurationMid:D,colorTextDisabled:L,colorTextPlaceholder:z,controlHeightLG:k,fontSizeLG:Z,controlHeightSM:j,paddingInlineSM:G,paddingXS:H,marginXS:X,colorTextDescription:ne,lineWidthBold:oe,colorPrimary:ae,motionDurationSlow:ie,zIndexPopup:le,paddingXXS:fe,sizePopupArrow:me,colorBgElevated:ge,borderRadiusLG:be,boxShadowSecondary:Ie,borderRadiusSM:Oe,colorSplit:Te,cellHoverBg:Ve,presetsWidth:De,presetsMaxWidth:Ue,boxShadowPopoverArrow:ke,fontHeight:st,fontHeightLG:ct,lineHeightLG:Et}=e;return[{[t]:Object.assign(Object.assign(Object.assign({},(0,Jt.Wf)(e)),Sd(e,o,st,f)),{position:"relative",display:"inline-flex",alignItems:"center",lineHeight:1,borderRadius:I,transition:`border ${D}, box-shadow ${D}, background ${D}`,[`${t}-prefix`]:{flex:"0 0 auto",marginInlineEnd:e.inputAffixPadding},[`${t}-input`]:{position:"relative",display:"inline-flex",alignItems:"center",width:"100%","> input":Object.assign(Object.assign({position:"relative",display:"inline-block",width:"100%",color:"inherit",fontSize:e.fontSize,lineHeight:e.lineHeight,transition:`all ${D}`},(0,sl.nz)(z)),{flex:"auto",minWidth:1,height:"auto",padding:0,background:"transparent",border:0,fontFamily:"inherit","&:focus":{boxShadow:"none",outline:0},"&[disabled]":{background:"transparent",color:L,cursor:"not-allowed"}}),"&-placeholder":{"> input":{color:z}}},"&-large":Object.assign(Object.assign({},Sd(e,k,ct,f)),{[`${t}-input > input`]:{fontSize:Z,lineHeight:Et}}),"&-small":Object.assign({},Sd(e,j,st,G)),[`${t}-suffix`]:{display:"flex",flex:"none",alignSelf:"center",marginInlineStart:e.calc(H).div(2).equal(),color:L,lineHeight:1,pointerEvents:"none",transition:`opacity ${D}, color ${D}`,"> *":{verticalAlign:"top","&:not(:last-child)":{marginInlineEnd:X}}},[`${t}-clear`]:{position:"absolute",top:"50%",insetInlineEnd:0,color:L,lineHeight:1,transform:"translateY(-50%)",cursor:"pointer",opacity:0,transition:`opacity ${D}, color ${D}`,"> *":{verticalAlign:"top"},"&:hover":{color:ne}},"&:hover":{[`${t}-clear`]:{opacity:1},[`${t}-suffix:not(:last-child)`]:{opacity:0}},[`${t}-separator`]:{position:"relative",display:"inline-block",width:"1em",height:Z,color:L,fontSize:Z,verticalAlign:"top",cursor:"default",[`${t}-focused &`]:{color:ne},[`${t}-range-separator &`]:{[`${t}-disabled &`]:{cursor:"not-allowed"}}},"&-range":{position:"relative",display:"inline-flex",[`${t}-active-bar`]:{bottom:e.calc(y).mul(-1).equal(),height:oe,background:ae,opacity:0,transition:`all ${ie} ease-out`,pointerEvents:"none"},[`&${t}-focused`]:{[`${t}-active-bar`]:{opacity:1}},[`${t}-range-separator`]:{alignItems:"center",padding:`0 ${(0,he.bf)(H)}`,lineHeight:1}},"&-range, &-multiple":{[`${t}-clear`]:{insetInlineEnd:f},[`&${t}-small`]:{[`${t}-clear`]:{insetInlineEnd:G}}},"&-dropdown":Object.assign(Object.assign(Object.assign({},(0,Jt.Wf)(e)),f1(e)),{pointerEvents:"none",position:"absolute",top:-9999,left:{_skip_check_:!0,value:-9999},zIndex:le,[`&${t}-dropdown-hidden`]:{display:"none"},"&-rtl":{direction:"rtl"},[`&${t}-dropdown-placement-bottomLeft,
            &${t}-dropdown-placement-bottomRight`]:{[`${t}-range-arrow`]:{top:0,display:"block",transform:"translateY(-100%)"}},[`&${t}-dropdown-placement-topLeft,
            &${t}-dropdown-placement-topRight`]:{[`${t}-range-arrow`]:{bottom:0,display:"block",transform:"translateY(100%) rotate(180deg)"}},[`&${a}-slide-up-appear, &${a}-slide-up-enter`]:{[`${t}-range-arrow${t}-range-arrow`]:{transition:"none"}},[`&${a}-slide-up-enter${a}-slide-up-enter-active${t}-dropdown-placement-topLeft,
          &${a}-slide-up-enter${a}-slide-up-enter-active${t}-dropdown-placement-topRight,
          &${a}-slide-up-appear${a}-slide-up-appear-active${t}-dropdown-placement-topLeft,
          &${a}-slide-up-appear${a}-slide-up-appear-active${t}-dropdown-placement-topRight`]:{animationName:Pc.Qt},[`&${a}-slide-up-enter${a}-slide-up-enter-active${t}-dropdown-placement-bottomLeft,
          &${a}-slide-up-enter${a}-slide-up-enter-active${t}-dropdown-placement-bottomRight,
          &${a}-slide-up-appear${a}-slide-up-appear-active${t}-dropdown-placement-bottomLeft,
          &${a}-slide-up-appear${a}-slide-up-appear-active${t}-dropdown-placement-bottomRight`]:{animationName:Pc.fJ},[`&${a}-slide-up-leave ${t}-panel-container`]:{pointerEvents:"none"},[`&${a}-slide-up-leave${a}-slide-up-leave-active${t}-dropdown-placement-topLeft,
          &${a}-slide-up-leave${a}-slide-up-leave-active${t}-dropdown-placement-topRight`]:{animationName:Pc.ly},[`&${a}-slide-up-leave${a}-slide-up-leave-active${t}-dropdown-placement-bottomLeft,
          &${a}-slide-up-leave${a}-slide-up-leave-active${t}-dropdown-placement-bottomRight`]:{animationName:Pc.Uw},[`${t}-panel > ${t}-time-panel`]:{paddingTop:fe},[`${t}-range-wrapper`]:{display:"flex",position:"relative"},[`${t}-range-arrow`]:Object.assign(Object.assign({position:"absolute",zIndex:1,display:"none",paddingInline:e.calc(f).mul(1.5).equal(),boxSizing:"content-box",transition:`all ${ie} ease-out`},(0,Vm.W)(e,ge,ke)),{"&:before":{insetInlineStart:e.calc(f).mul(1.5).equal()}}),[`${t}-panel-container`]:{overflow:"hidden",verticalAlign:"top",background:ge,borderRadius:be,boxShadow:Ie,transition:`margin ${ie}`,display:"inline-block",pointerEvents:"auto",[`${t}-panel-layout`]:{display:"flex",flexWrap:"nowrap",alignItems:"stretch"},[`${t}-presets`]:{display:"flex",flexDirection:"column",minWidth:De,maxWidth:Ue,ul:{height:0,flex:"auto",listStyle:"none",overflow:"auto",margin:0,padding:H,borderInlineEnd:`${(0,he.bf)(y)} ${C} ${Te}`,li:Object.assign(Object.assign({},Jt.vS),{borderRadius:Oe,paddingInline:H,paddingBlock:e.calc(j).sub(st).div(2).equal(),cursor:"pointer",transition:`all ${ie}`,"+ li":{marginTop:X},"&:hover":{background:Ve}})}},[`${t}-panels`]:{display:"inline-flex",flexWrap:"nowrap","&:last-child":{[`${t}-panel`]:{borderWidth:0}}},[`${t}-panel`]:{verticalAlign:"top",background:"transparent",borderRadius:0,borderWidth:0,[`${t}-content, table`]:{textAlign:"center"},"&-focused":{borderColor:w}}}}),"&-dropdown-range":{padding:`${(0,he.bf)(e.calc(me).mul(2).div(3).equal())} 0`,"&-hidden":{display:"none"}},"&-rtl":{direction:"rtl",[`${t}-separator`]:{transform:"scale(-1, 1)"},[`${t}-footer`]:{"&-extra":{direction:"rtl"}}}})},(0,Pc.oN)(e,"slide-up"),(0,Pc.oN)(e,"slide-down"),(0,h0.Fm)(e,"move-up"),(0,h0.Fm)(e,"move-down")]};var y_=(0,te.I$)("DatePicker",e=>{const t=(0,Qr.IX)((0,Cu.e)(e),hg(e),{inputPaddingHorizontalBase:e.calc(e.paddingSM).sub(1).equal(),multipleSelectItemHeight:e.multipleItemHeight,selectHeight:e.controlHeight});return[k0(t),Rg(t),kh(t),jh(t),rd(t),(0,ia.c)(e,{focusElCls:`${e.componentCls}-focused`})]},Ey);function vx(e,t,a){return a!==void 0?a:t==="year"&&e.lang.yearPlaceholder?e.lang.yearPlaceholder:t==="quarter"&&e.lang.quarterPlaceholder?e.lang.quarterPlaceholder:t==="month"&&e.lang.monthPlaceholder?e.lang.monthPlaceholder:t==="week"&&e.lang.weekPlaceholder?e.lang.weekPlaceholder:t==="time"&&e.timePickerLocale.placeholder?e.timePickerLocale.placeholder:e.lang.placeholder}function yx(e,t,a){return a!==void 0?a:t==="year"&&e.lang.yearPlaceholder?e.lang.rangeYearPlaceholder:t==="quarter"&&e.lang.quarterPlaceholder?e.lang.rangeQuarterPlaceholder:t==="month"&&e.lang.monthPlaceholder?e.lang.rangeMonthPlaceholder:t==="week"&&e.lang.weekPlaceholder?e.lang.rangeWeekPlaceholder:t==="time"&&e.timePickerLocale.placeholder?e.timePickerLocale.rangePlaceholder:e.lang.rangePlaceholder}function __(e,t){const{allowClear:a=!0}=e,{clearIcon:o,removeIcon:f}=(0,i.Z)(Object.assign(Object.assign({},e),{prefixCls:t,componentName:"DatePicker"}));return[s.useMemo(()=>a===!1?!1:Object.assign({clearIcon:o},a===!0?{}:a),[a,o]),f]}const[_x,bx]=["week","WeekPicker"],[b_,x_]=["month","MonthPicker"],[wd,xx]=["year","YearPicker"],[Zh,C_]=["quarter","QuarterPicker"],[cv,uv]=["time","TimePicker"];var S_=e=>s.createElement($n,Object.assign({size:"small",type:"primary"},e));function Cx(e){return(0,s.useMemo)(()=>Object.assign({button:S_},e),[e])}var Eu=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a},$g=e=>(0,s.forwardRef)((a,o)=>{var f;const{prefixCls:y,getPopupContainer:C,components:w,className:I,style:D,placement:L,size:z,disabled:k,bordered:Z=!0,placeholder:j,popupClassName:G,dropdownClassName:H,status:X,rootClassName:ne,variant:oe,picker:ae}=a,ie=Eu(a,["prefixCls","getPopupContainer","components","className","style","placement","size","disabled","bordered","placeholder","popupClassName","dropdownClassName","status","rootClassName","variant","picker"]),le=s.useRef(null),{getPrefixCls:fe,direction:me,getPopupContainer:ge,rangePicker:be}=(0,s.useContext)(ye.E_),Ie=fe("picker",y),{compactSize:Oe,compactItemClassnames:Te}=(0,Vi.ri)(Ie,me),Ve=fe(),[De,Ue]=(0,jf.Z)("rangePicker",oe,Z),ke=(0,Un.Z)(Ie),[st,ct,Et]=y_(Ie,ke),[It]=__(a,Ie),Ct=Cx(w),mt=(0,xr.Z)(Ft=>{var kn;return(kn=z!=null?z:Oe)!==null&&kn!==void 0?kn:Ft}),bt=s.useContext(to.Z),zt=k!=null?k:bt,$t=(0,s.useContext)($c.aM),{hasFeedback:Ht,status:Mt,feedbackIcon:Cn}=$t,Hn=s.createElement(s.Fragment,null,ae===cv?s.createElement(Is,null):s.createElement(Qa,null),Ht&&Cn);(0,s.useImperativeHandle)(o,()=>le.current);const[pn]=(0,In.Z)("Calendar",Il.Z),Dn=Object.assign(Object.assign({},pn),a.locale),[Qt]=(0,qt.Cn)("DatePicker",(f=a.popupStyle)===null||f===void 0?void 0:f.zIndex);return st(s.createElement(Jl.Z,{space:!0},s.createElement(RC,Object.assign({separator:s.createElement("span",{"aria-label":"to",className:`${Ie}-separator`},s.createElement(pl,null)),disabled:zt,ref:le,placement:L,placeholder:yx(Dn,ae,j),suffixIcon:Hn,prevIcon:s.createElement("span",{className:`${Ie}-prev-icon`}),nextIcon:s.createElement("span",{className:`${Ie}-next-icon`}),superPrevIcon:s.createElement("span",{className:`${Ie}-super-prev-icon`}),superNextIcon:s.createElement("span",{className:`${Ie}-super-next-icon`}),transitionName:`${Ve}-slide-up`,picker:ae},ie,{className:q()({[`${Ie}-${mt}`]:mt,[`${Ie}-${De}`]:Ue},(0,Fc.Z)(Ie,(0,Fc.F)(Mt,X),Ht),ct,Te,I,be==null?void 0:be.className,Et,ke,ne),style:Object.assign(Object.assign({},be==null?void 0:be.style),D),locale:Dn.lang,prefixCls:Ie,getPopupContainer:C||ge,generateConfig:e,components:Ct,direction:me,classNames:{popup:q()(ct,G||H,Et,ke,ne)},styles:{popup:Object.assign(Object.assign({},a.popupStyle),{zIndex:Qt})},allowClear:It}))))}),w_=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a},uM=e=>{const t=(I,D)=>{const L=D===uv?"timePicker":"datePicker";return(0,s.forwardRef)((k,Z)=>{var j;const{prefixCls:G,getPopupContainer:H,components:X,style:ne,className:oe,rootClassName:ae,size:ie,bordered:le,placement:fe,placeholder:me,popupClassName:ge,dropdownClassName:be,disabled:Ie,status:Oe,variant:Te,onCalendarChange:Ve}=k,De=w_(k,["prefixCls","getPopupContainer","components","style","className","rootClassName","size","bordered","placement","placeholder","popupClassName","dropdownClassName","disabled","status","variant","onCalendarChange"]),{getPrefixCls:Ue,direction:ke,getPopupContainer:st,[L]:ct}=(0,s.useContext)(ye.E_),Et=Ue("picker",G),{compactSize:It,compactItemClassnames:Ct}=(0,Vi.ri)(Et,ke),mt=s.useRef(null),[bt,zt]=(0,jf.Z)("datePicker",Te,le),$t=(0,Un.Z)(Et),[Ht,Mt,Cn]=y_(Et,$t);(0,s.useImperativeHandle)(Z,()=>mt.current);const Hn={showToday:!0},pn=I||k.picker,Dn=Ue(),{onSelect:Qt,multiple:Ft}=De,kn=Qt&&I==="time"&&!Ft,Pn=(ao,ki,Ao)=>{Ve==null||Ve(ao,ki,Ao),kn&&Qt(ao)},[Dr,br]=__(k,Et),or=Cx(X),ar=(0,xr.Z)(ao=>{var ki;return(ki=ie!=null?ie:It)!==null&&ki!==void 0?ki:ao}),Fn=s.useContext(to.Z),sr=Ie!=null?Ie:Fn,Gr=(0,s.useContext)($c.aM),{hasFeedback:yi,status:Di,feedbackIcon:Ui}=Gr,$o=s.createElement(s.Fragment,null,pn==="time"?s.createElement(Is,null):s.createElement(Qa,null),yi&&Ui),[Ri]=(0,In.Z)("DatePicker",Il.Z),mi=Object.assign(Object.assign({},Ri),k.locale),[Pi]=(0,qt.Cn)("DatePicker",(j=k.popupStyle)===null||j===void 0?void 0:j.zIndex);return Ht(s.createElement(Jl.Z,{space:!0},s.createElement(DC,Object.assign({ref:mt,placeholder:vx(mi,pn,me),suffixIcon:$o,placement:fe,prevIcon:s.createElement("span",{className:`${Et}-prev-icon`}),nextIcon:s.createElement("span",{className:`${Et}-next-icon`}),superPrevIcon:s.createElement("span",{className:`${Et}-super-prev-icon`}),superNextIcon:s.createElement("span",{className:`${Et}-super-next-icon`}),transitionName:`${Dn}-slide-up`,picker:I,onCalendarChange:Pn},Hn,De,{locale:mi.lang,className:q()({[`${Et}-${ar}`]:ar,[`${Et}-${bt}`]:zt},(0,Fc.Z)(Et,(0,Fc.F)(Di,Oe),yi),Mt,Ct,ct==null?void 0:ct.className,oe,Cn,$t,ae),style:Object.assign(Object.assign({},ct==null?void 0:ct.style),ne),prefixCls:Et,getPopupContainer:H||st,generateConfig:e,components:or,direction:ke,disabled:sr,classNames:{popup:q()(Mt,Cn,$t,ae,ge||be)},styles:{popup:Object.assign(Object.assign({},k.popupStyle),{zIndex:Pi})},allowClear:Dr,removeIcon:br}))))})},a=t(),o=t(_x,bx),f=t(b_,x_),y=t(wd,xx),C=t(Zh,C_),w=t(cv,uv);return{DatePicker:a,WeekPicker:o,MonthPicker:f,YearPicker:y,TimePicker:w,QuarterPicker:C}},p2=e=>{const{DatePicker:t,WeekPicker:a,MonthPicker:o,YearPicker:f,TimePicker:y,QuarterPicker:C}=uM(e),w=$g(e),I=t;return I.WeekPicker=a,I.MonthPicker=o,I.YearPicker=f,I.RangePicker=w,I.TimePicker=y,I.QuarterPicker=C,I};const dv=p2(Eb),dM=(0,vl.Z)(dv,"popupAlign",void 0,"picker");dv._InternalPanelDoNotUseOrYouWillBeFired=dM;const fM=(0,vl.Z)(dv.RangePicker,"popupAlign",void 0,"picker");dv._InternalRangePanelDoNotUseOrYouWillBeFired=fM,dv.generatePicker=p2;var m2=dv,hM={xxl:3,xl:3,lg:3,md:3,sm:2,xs:1},AS=s.createContext({}),pM=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a};const mM=e=>(0,Wl.Z)(e).map(t=>Object.assign(Object.assign({},t==null?void 0:t.props),{key:t.key}));function gM(e,t,a){const o=s.useMemo(()=>t||mM(a),[t,a]);return s.useMemo(()=>o.map(y=>{var{span:C}=y,w=pM(y,["span"]);return C==="filled"?Object.assign(Object.assign({},w),{filled:!0}):Object.assign(Object.assign({},w),{span:typeof C=="number"?C:(0,Nl.m9)(e,C)})}),[o,e])}var vM=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a};function yM(e,t){let a=[],o=[],f=!1,y=0;return e.filter(C=>C).forEach(C=>{const{filled:w}=C,I=vM(C,["filled"]);if(w){o.push(I),a.push(o),o=[],y=0;return}const D=t-y;y+=C.span||1,y>=t?(y>t?(f=!0,o.push(Object.assign(Object.assign({},I),{span:D}))):o.push(I),a.push(o),o=[],y=0):o.push(I)}),o.length>0&&a.push(o),a=a.map(C=>{const w=C.reduce((I,D)=>I+(D.span||1),0);if(w<t){const I=C[C.length-1];return I.span=t-(w-(I.span||1)),C}return C}),[a,f]}var _M=(e,t)=>{const[a,o]=(0,s.useMemo)(()=>yM(t,e),[t,e]);return a},bM=e=>{let{children:t}=e;return t};function g2(e){return e!=null}var DS=e=>{const{itemPrefixCls:t,component:a,span:o,className:f,style:y,labelStyle:C,contentStyle:w,bordered:I,label:D,content:L,colon:z,type:k,styles:Z}=e,j=a,G=s.useContext(AS),{classNames:H}=G;return I?s.createElement(j,{className:q()({[`${t}-item-label`]:k==="label",[`${t}-item-content`]:k==="content",[`${H==null?void 0:H.label}`]:k==="label",[`${H==null?void 0:H.content}`]:k==="content"},f),style:y,colSpan:o},g2(D)&&s.createElement("span",{style:Object.assign(Object.assign({},C),Z==null?void 0:Z.label)},D),g2(L)&&s.createElement("span",{style:Object.assign(Object.assign({},C),Z==null?void 0:Z.content)},L)):s.createElement(j,{className:q()(`${t}-item`,f),style:y,colSpan:o},s.createElement("div",{className:`${t}-item-container`},(D||D===0)&&s.createElement("span",{className:q()(`${t}-item-label`,H==null?void 0:H.label,{[`${t}-item-no-colon`]:!z}),style:Object.assign(Object.assign({},C),Z==null?void 0:Z.label)},D),(L||L===0)&&s.createElement("span",{className:q()(`${t}-item-content`,H==null?void 0:H.content),style:Object.assign(Object.assign({},w),Z==null?void 0:Z.content)},L)))};function LS(e,t,a){let{colon:o,prefixCls:f,bordered:y}=t,{component:C,type:w,showLabel:I,showContent:D,labelStyle:L,contentStyle:z,styles:k}=a;return e.map((Z,j)=>{let{label:G,children:H,prefixCls:X=f,className:ne,style:oe,labelStyle:ae,contentStyle:ie,span:le=1,key:fe,styles:me}=Z;return typeof C=="string"?s.createElement(DS,{key:`${w}-${fe||j}`,className:ne,style:oe,styles:{label:Object.assign(Object.assign(Object.assign(Object.assign({},L),k==null?void 0:k.label),ae),me==null?void 0:me.label),content:Object.assign(Object.assign(Object.assign(Object.assign({},z),k==null?void 0:k.content),ie),me==null?void 0:me.content)},span:le,colon:o,component:C,itemPrefixCls:X,bordered:y,label:I?G:null,content:D?H:null,type:w}):[s.createElement(DS,{key:`label-${fe||j}`,className:ne,style:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},L),k==null?void 0:k.label),oe),ae),me==null?void 0:me.label),span:1,colon:o,component:C[0],itemPrefixCls:X,bordered:y,label:G,type:"label"}),s.createElement(DS,{key:`content-${fe||j}`,className:ne,style:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},z),k==null?void 0:k.content),oe),ie),me==null?void 0:me.content),span:le*2-1,component:C[1],itemPrefixCls:X,bordered:y,content:H,type:"content"})]})}var xM=e=>{const t=s.useContext(AS),{prefixCls:a,vertical:o,row:f,index:y,bordered:C}=e;return o?s.createElement(s.Fragment,null,s.createElement("tr",{key:`label-${y}`,className:`${a}-row`},LS(f,e,Object.assign({component:"th",type:"label",showLabel:!0},t))),s.createElement("tr",{key:`content-${y}`,className:`${a}-row`},LS(f,e,Object.assign({component:"td",type:"content",showContent:!0},t)))):s.createElement("tr",{key:y,className:`${a}-row`},LS(f,e,Object.assign({component:C?["th","td"]:"td",type:"item",showLabel:!0,showContent:!0},t)))};const CM=e=>{const{componentCls:t,labelBg:a}=e;return{[`&${t}-bordered`]:{[`> ${t}-view`]:{border:`${(0,he.bf)(e.lineWidth)} ${e.lineType} ${e.colorSplit}`,"> table":{tableLayout:"auto"},[`${t}-row`]:{borderBottom:`${(0,he.bf)(e.lineWidth)} ${e.lineType} ${e.colorSplit}`,"&:last-child":{borderBottom:"none"},[`> ${t}-item-label, > ${t}-item-content`]:{padding:`${(0,he.bf)(e.padding)} ${(0,he.bf)(e.paddingLG)}`,borderInlineEnd:`${(0,he.bf)(e.lineWidth)} ${e.lineType} ${e.colorSplit}`,"&:last-child":{borderInlineEnd:"none"}},[`> ${t}-item-label`]:{color:e.colorTextSecondary,backgroundColor:a,"&::after":{display:"none"}}}},[`&${t}-middle`]:{[`${t}-row`]:{[`> ${t}-item-label, > ${t}-item-content`]:{padding:`${(0,he.bf)(e.paddingSM)} ${(0,he.bf)(e.paddingLG)}`}}},[`&${t}-small`]:{[`${t}-row`]:{[`> ${t}-item-label, > ${t}-item-content`]:{padding:`${(0,he.bf)(e.paddingXS)} ${(0,he.bf)(e.padding)}`}}}}}},SM=e=>{const{componentCls:t,extraColor:a,itemPaddingBottom:o,itemPaddingEnd:f,colonMarginRight:y,colonMarginLeft:C,titleMarginBottom:w}=e;return{[t]:Object.assign(Object.assign(Object.assign({},(0,Jt.Wf)(e)),CM(e)),{"&-rtl":{direction:"rtl"},[`${t}-header`]:{display:"flex",alignItems:"center",marginBottom:w},[`${t}-title`]:Object.assign(Object.assign({},Jt.vS),{flex:"auto",color:e.titleColor,fontWeight:e.fontWeightStrong,fontSize:e.fontSizeLG,lineHeight:e.lineHeightLG}),[`${t}-extra`]:{marginInlineStart:"auto",color:a,fontSize:e.fontSize},[`${t}-view`]:{width:"100%",borderRadius:e.borderRadiusLG,table:{width:"100%",tableLayout:"fixed",borderCollapse:"collapse"}},[`${t}-row`]:{"> th, > td":{paddingBottom:o,paddingInlineEnd:f},"> th:last-child, > td:last-child":{paddingInlineEnd:0},"&:last-child":{borderBottom:"none","> th, > td":{paddingBottom:0}}},[`${t}-item-label`]:{color:e.labelColor,fontWeight:"normal",fontSize:e.fontSize,lineHeight:e.lineHeight,textAlign:"start","&::after":{content:'":"',position:"relative",top:-.5,marginInline:`${(0,he.bf)(C)} ${(0,he.bf)(y)}`},[`&${t}-item-no-colon::after`]:{content:'""'}},[`${t}-item-no-label`]:{"&::after":{margin:0,content:'""'}},[`${t}-item-content`]:{display:"table-cell",flex:1,color:e.contentColor,fontSize:e.fontSize,lineHeight:e.lineHeight,wordBreak:"break-word",overflowWrap:"break-word"},[`${t}-item`]:{paddingBottom:0,verticalAlign:"top","&-container":{display:"flex",[`${t}-item-label`]:{display:"inline-flex",alignItems:"baseline"},[`${t}-item-content`]:{display:"inline-flex",alignItems:"baseline",minWidth:"1em"}}},"&-middle":{[`${t}-row`]:{"> th, > td":{paddingBottom:e.paddingSM}}},"&-small":{[`${t}-row`]:{"> th, > td":{paddingBottom:e.paddingXS}}}})}},wM=e=>({labelBg:e.colorFillAlter,labelColor:e.colorTextTertiary,titleColor:e.colorText,titleMarginBottom:e.fontSizeSM*e.lineHeightSM,itemPaddingBottom:e.padding,itemPaddingEnd:e.padding,colonMarginRight:e.marginXS,colonMarginLeft:e.marginXXS/2,contentColor:e.colorText,extraColor:e.colorText});var EM=(0,te.I$)("Descriptions",e=>{const t=(0,Qr.IX)(e,{});return SM(t)},wM),IM=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a};const v2=e=>{const{prefixCls:t,title:a,extra:o,column:f,colon:y=!0,bordered:C,layout:w,children:I,className:D,rootClassName:L,style:z,size:k,labelStyle:Z,contentStyle:j,styles:G,items:H,classNames:X}=e,ne=IM(e,["prefixCls","title","extra","column","colon","bordered","layout","children","className","rootClassName","style","size","labelStyle","contentStyle","styles","items","classNames"]),{getPrefixCls:oe,direction:ae,className:ie,style:le,classNames:fe,styles:me}=(0,ye.dj)("descriptions"),ge=oe("descriptions",t),be=(0,Xu.Z)(),Ie=s.useMemo(()=>{var ct;return typeof f=="number"?f:(ct=(0,Nl.m9)(be,Object.assign(Object.assign({},hM),f)))!==null&&ct!==void 0?ct:3},[be,f]),Oe=gM(be,H,I),Te=(0,xr.Z)(k),Ve=_M(Ie,Oe),[De,Ue,ke]=EM(ge),st=s.useMemo(()=>({labelStyle:Z,contentStyle:j,styles:{content:Object.assign(Object.assign({},me.content),G==null?void 0:G.content),label:Object.assign(Object.assign({},me.label),G==null?void 0:G.label)},classNames:{label:q()(fe.label,X==null?void 0:X.label),content:q()(fe.content,X==null?void 0:X.content)}}),[Z,j,G,X,fe,me]);return De(s.createElement(AS.Provider,{value:st},s.createElement("div",Object.assign({className:q()(ge,ie,fe.root,X==null?void 0:X.root,{[`${ge}-${Te}`]:Te&&Te!=="default",[`${ge}-bordered`]:!!C,[`${ge}-rtl`]:ae==="rtl"},D,L,Ue,ke),style:Object.assign(Object.assign(Object.assign(Object.assign({},le),me.root),G==null?void 0:G.root),z)},ne),(a||o)&&s.createElement("div",{className:q()(`${ge}-header`,fe.header,X==null?void 0:X.header),style:Object.assign(Object.assign({},me.header),G==null?void 0:G.header)},a&&s.createElement("div",{className:q()(`${ge}-title`,fe.title,X==null?void 0:X.title),style:Object.assign(Object.assign({},me.title),G==null?void 0:G.title)},a),o&&s.createElement("div",{className:q()(`${ge}-extra`,fe.extra,X==null?void 0:X.extra),style:Object.assign(Object.assign({},me.extra),G==null?void 0:G.extra)},o)),s.createElement("div",{className:`${ge}-view`},s.createElement("table",null,s.createElement("tbody",null,Ve.map((ct,Et)=>s.createElement(xM,{key:Et,index:Et,colon:y,prefixCls:ge,vertical:w==="vertical",bordered:C,row:ct}))))))))};v2.Item=bM;var TM=v2,MM=F(67567),PM=s.createContext(null),y2=s.createContext({}),_2=PM,OM=["prefixCls","className","containerRef"],RM=function(t){var a=t.prefixCls,o=t.className,f=t.containerRef,y=(0,de.Z)(t,OM),C=s.useContext(y2),w=C.panel,I=(0,Yt.x1)(w,f);return s.createElement("div",(0,We.Z)({className:q()("".concat(a,"-content"),o),role:"dialog",ref:I},(0,ut.Z)(t,{aria:!0}),{"aria-modal":"true"},y))},$M=RM;function b2(e){return typeof e=="string"&&String(Number(e))===e?((0,lc.ZP)(!1,"Invalid value type of `width` or `height` which should be number type instead."),Number(e)):e}function C8(e){warning(!("wrapperClassName"in e),"'wrapperClassName' is removed. Please use 'rootClassName' instead."),warning(canUseDom()||!e.open,"Drawer with 'open' in SSR is not work since no place to createPortal. Please move to 'useEffect' instead.")}var x2={width:0,height:0,overflow:"hidden",outline:"none",position:"absolute"};function AM(e,t){var a,o,f,y=e.prefixCls,C=e.open,w=e.placement,I=e.inline,D=e.push,L=e.forceRender,z=e.autoFocus,k=e.keyboard,Z=e.classNames,j=e.rootClassName,G=e.rootStyle,H=e.zIndex,X=e.className,ne=e.id,oe=e.style,ae=e.motion,ie=e.width,le=e.height,fe=e.children,me=e.mask,ge=e.maskClosable,be=e.maskMotion,Ie=e.maskClassName,Oe=e.maskStyle,Te=e.afterOpenChange,Ve=e.onClose,De=e.onMouseEnter,Ue=e.onMouseOver,ke=e.onMouseLeave,st=e.onClick,ct=e.onKeyDown,Et=e.onKeyUp,It=e.styles,Ct=e.drawerRender,mt=s.useRef(),bt=s.useRef(),zt=s.useRef();s.useImperativeHandle(t,function(){return mt.current});var $t=function(sr){var Gr=sr.keyCode,yi=sr.shiftKey;switch(Gr){case nt.Z.TAB:{if(Gr===nt.Z.TAB){if(!yi&&document.activeElement===zt.current){var Di;(Di=bt.current)===null||Di===void 0||Di.focus({preventScroll:!0})}else if(yi&&document.activeElement===bt.current){var Ui;(Ui=zt.current)===null||Ui===void 0||Ui.focus({preventScroll:!0})}}break}case nt.Z.ESC:{Ve&&k&&(sr.stopPropagation(),Ve(sr));break}}};s.useEffect(function(){if(C&&z){var Fn;(Fn=mt.current)===null||Fn===void 0||Fn.focus({preventScroll:!0})}},[C]);var Ht=s.useState(!1),Mt=(0,Re.Z)(Ht,2),Cn=Mt[0],Hn=Mt[1],pn=s.useContext(_2),Dn;typeof D=="boolean"?Dn=D?{}:{distance:0}:Dn=D||{};var Qt=(a=(o=(f=Dn)===null||f===void 0?void 0:f.distance)!==null&&o!==void 0?o:pn==null?void 0:pn.pushDistance)!==null&&a!==void 0?a:180,Ft=s.useMemo(function(){return{pushDistance:Qt,push:function(){Hn(!0)},pull:function(){Hn(!1)}}},[Qt]);s.useEffect(function(){if(C){var Fn;pn==null||(Fn=pn.push)===null||Fn===void 0||Fn.call(pn)}else{var sr;pn==null||(sr=pn.pull)===null||sr===void 0||sr.call(pn)}},[C]),s.useEffect(function(){return function(){var Fn;pn==null||(Fn=pn.pull)===null||Fn===void 0||Fn.call(pn)}},[]);var kn=me&&s.createElement(On.ZP,(0,We.Z)({key:"mask"},be,{visible:C}),function(Fn,sr){var Gr=Fn.className,yi=Fn.style;return s.createElement("div",{className:q()("".concat(y,"-mask"),Gr,Z==null?void 0:Z.mask,Ie),style:(0,Y.Z)((0,Y.Z)((0,Y.Z)({},yi),Oe),It==null?void 0:It.mask),onClick:ge&&C?Ve:void 0,ref:sr})}),Pn=typeof ae=="function"?ae(w):ae,Dr={};if(Cn&&Qt)switch(w){case"top":Dr.transform="translateY(".concat(Qt,"px)");break;case"bottom":Dr.transform="translateY(".concat(-Qt,"px)");break;case"left":Dr.transform="translateX(".concat(Qt,"px)");break;default:Dr.transform="translateX(".concat(-Qt,"px)");break}w==="left"||w==="right"?Dr.width=b2(ie):Dr.height=b2(le);var br={onMouseEnter:De,onMouseOver:Ue,onMouseLeave:ke,onClick:st,onKeyDown:ct,onKeyUp:Et},or=s.createElement(On.ZP,(0,We.Z)({key:"panel"},Pn,{visible:C,forceRender:L,onVisibleChanged:function(sr){Te==null||Te(sr)},removeOnLeave:!1,leavedClassName:"".concat(y,"-content-wrapper-hidden")}),function(Fn,sr){var Gr=Fn.className,yi=Fn.style,Di=s.createElement($M,(0,We.Z)({id:ne,containerRef:sr,prefixCls:y,className:q()(X,Z==null?void 0:Z.content),style:(0,Y.Z)((0,Y.Z)({},oe),It==null?void 0:It.content)},(0,ut.Z)(e,{aria:!0}),br),fe);return s.createElement("div",(0,We.Z)({className:q()("".concat(y,"-content-wrapper"),Z==null?void 0:Z.wrapper,Gr),style:(0,Y.Z)((0,Y.Z)((0,Y.Z)({},Dr),yi),It==null?void 0:It.wrapper)},(0,ut.Z)(e,{data:!0})),Ct?Ct(Di):Di)}),ar=(0,Y.Z)({},G);return H&&(ar.zIndex=H),s.createElement(_2.Provider,{value:Ft},s.createElement("div",{className:q()(y,"".concat(y,"-").concat(w),j,(0,pe.Z)((0,pe.Z)({},"".concat(y,"-open"),C),"".concat(y,"-inline"),I)),style:ar,tabIndex:-1,ref:mt,onKeyDown:$t},kn,s.createElement("div",{tabIndex:0,ref:bt,style:x2,"aria-hidden":"true","data-sentinel":"start"}),or,s.createElement("div",{tabIndex:0,ref:zt,style:x2,"aria-hidden":"true","data-sentinel":"end"})))}var DM=s.forwardRef(AM),LM=DM,zM=function(t){var a=t.open,o=a===void 0?!1:a,f=t.prefixCls,y=f===void 0?"rc-drawer":f,C=t.placement,w=C===void 0?"right":C,I=t.autoFocus,D=I===void 0?!0:I,L=t.keyboard,z=L===void 0?!0:L,k=t.width,Z=k===void 0?378:k,j=t.mask,G=j===void 0?!0:j,H=t.maskClosable,X=H===void 0?!0:H,ne=t.getContainer,oe=t.forceRender,ae=t.afterOpenChange,ie=t.destroyOnClose,le=t.onMouseEnter,fe=t.onMouseOver,me=t.onMouseLeave,ge=t.onClick,be=t.onKeyDown,Ie=t.onKeyUp,Oe=t.panelRef,Te=s.useState(!1),Ve=(0,Re.Z)(Te,2),De=Ve[0],Ue=Ve[1],ke=s.useState(!1),st=(0,Re.Z)(ke,2),ct=st[0],Et=st[1];(0,hl.Z)(function(){Et(!0)},[]);var It=ct?o:!1,Ct=s.useRef(),mt=s.useRef();(0,hl.Z)(function(){It&&(mt.current=document.activeElement)},[It]);var bt=function(Cn){var Hn;if(Ue(Cn),ae==null||ae(Cn),!Cn&&mt.current&&!((Hn=Ct.current)!==null&&Hn!==void 0&&Hn.contains(mt.current))){var pn;(pn=mt.current)===null||pn===void 0||pn.focus({preventScroll:!0})}},zt=s.useMemo(function(){return{panel:Oe}},[Oe]);if(!oe&&!De&&!It&&ie)return null;var $t={onMouseEnter:le,onMouseOver:fe,onMouseLeave:me,onClick:ge,onKeyDown:be,onKeyUp:Ie},Ht=(0,Y.Z)((0,Y.Z)({},t),{},{open:It,prefixCls:y,placement:w,autoFocus:D,keyboard:z,width:Z,mask:G,maskClosable:X,inline:ne===!1,afterOpenChange:bt,ref:Ct},$t);return s.createElement(y2.Provider,{value:zt},s.createElement(Uo.Z,{open:It||oe||De,autoDestroy:!1,getContainer:ne,autoLock:G&&(It||De)},s.createElement(LM,Ht)))},NM=zM,BM=NM,C2=e=>{var t,a;const{prefixCls:o,title:f,footer:y,extra:C,loading:w,onClose:I,headerStyle:D,bodyStyle:L,footerStyle:z,children:k,classNames:Z,styles:j}=e,G=(0,ye.dj)("drawer"),H=s.useCallback(ie=>s.createElement("button",{type:"button",onClick:I,"aria-label":"Close",className:`${o}-close`},ie),[I]),[X,ne]=Hl(Ll(e),Ll(G),{closable:!0,closeIconRender:H}),oe=s.useMemo(()=>{var ie,le;return!f&&!X?null:s.createElement("div",{style:Object.assign(Object.assign(Object.assign({},(ie=G.styles)===null||ie===void 0?void 0:ie.header),D),j==null?void 0:j.header),className:q()(`${o}-header`,{[`${o}-header-close-only`]:X&&!f&&!C},(le=G.classNames)===null||le===void 0?void 0:le.header,Z==null?void 0:Z.header)},s.createElement("div",{className:`${o}-header-title`},ne,f&&s.createElement("div",{className:`${o}-title`},f)),C&&s.createElement("div",{className:`${o}-extra`},C))},[X,ne,C,D,o,f]),ae=s.useMemo(()=>{var ie,le;if(!y)return null;const fe=`${o}-footer`;return s.createElement("div",{className:q()(fe,(ie=G.classNames)===null||ie===void 0?void 0:ie.footer,Z==null?void 0:Z.footer),style:Object.assign(Object.assign(Object.assign({},(le=G.styles)===null||le===void 0?void 0:le.footer),z),j==null?void 0:j.footer)},y)},[y,z,o]);return s.createElement(s.Fragment,null,oe,s.createElement("div",{className:q()(`${o}-body`,Z==null?void 0:Z.body,(t=G.classNames)===null||t===void 0?void 0:t.body),style:Object.assign(Object.assign(Object.assign({},(a=G.styles)===null||a===void 0?void 0:a.body),L),j==null?void 0:j.body)},w?s.createElement(zr,{active:!0,title:!1,paragraph:{rows:5},className:`${o}-body-skeleton`}):k),ae)};const FM=e=>{const t="100%";return{left:`translateX(-${t})`,right:`translateX(${t})`,top:`translateY(-${t})`,bottom:`translateY(${t})`}[e]},S2=(e,t)=>({"&-enter, &-appear":Object.assign(Object.assign({},e),{"&-active":t}),"&-leave":Object.assign(Object.assign({},t),{"&-active":e})}),w2=(e,t)=>Object.assign({"&-enter, &-appear, &-leave":{"&-start":{transition:"none"},"&-active":{transition:`all ${t}`}}},S2({opacity:e},{opacity:1})),kM=(e,t)=>[w2(.7,t),S2({transform:FM(e)},{transform:"none"})];var jM=e=>{const{componentCls:t,motionDurationSlow:a}=e;return{[t]:{[`${t}-mask-motion`]:w2(0,a),[`${t}-panel-motion`]:["left","right","top","bottom"].reduce((o,f)=>Object.assign(Object.assign({},o),{[`&-${f}`]:kM(f,a)}),{})}}};const ZM=e=>{const{borderRadiusSM:t,componentCls:a,zIndexPopup:o,colorBgMask:f,colorBgElevated:y,motionDurationSlow:C,motionDurationMid:w,paddingXS:I,padding:D,paddingLG:L,fontSizeLG:z,lineHeightLG:k,lineWidth:Z,lineType:j,colorSplit:G,marginXS:H,colorIcon:X,colorIconHover:ne,colorBgTextHover:oe,colorBgTextActive:ae,colorText:ie,fontWeightStrong:le,footerPaddingBlock:fe,footerPaddingInline:me,calc:ge}=e,be=`${a}-content-wrapper`;return{[a]:{position:"fixed",inset:0,zIndex:o,pointerEvents:"none",color:ie,"&-pure":{position:"relative",background:y,display:"flex",flexDirection:"column",[`&${a}-left`]:{boxShadow:e.boxShadowDrawerLeft},[`&${a}-right`]:{boxShadow:e.boxShadowDrawerRight},[`&${a}-top`]:{boxShadow:e.boxShadowDrawerUp},[`&${a}-bottom`]:{boxShadow:e.boxShadowDrawerDown}},"&-inline":{position:"absolute"},[`${a}-mask`]:{position:"absolute",inset:0,zIndex:o,background:f,pointerEvents:"auto"},[be]:{position:"absolute",zIndex:o,maxWidth:"100vw",transition:`all ${C}`,"&-hidden":{display:"none"}},[`&-left > ${be}`]:{top:0,bottom:0,left:{_skip_check_:!0,value:0},boxShadow:e.boxShadowDrawerLeft},[`&-right > ${be}`]:{top:0,right:{_skip_check_:!0,value:0},bottom:0,boxShadow:e.boxShadowDrawerRight},[`&-top > ${be}`]:{top:0,insetInline:0,boxShadow:e.boxShadowDrawerUp},[`&-bottom > ${be}`]:{bottom:0,insetInline:0,boxShadow:e.boxShadowDrawerDown},[`${a}-content`]:{display:"flex",flexDirection:"column",width:"100%",height:"100%",overflow:"auto",background:y,pointerEvents:"auto"},[`${a}-header`]:{display:"flex",flex:0,alignItems:"center",padding:`${(0,he.bf)(D)} ${(0,he.bf)(L)}`,fontSize:z,lineHeight:k,borderBottom:`${(0,he.bf)(Z)} ${j} ${G}`,"&-title":{display:"flex",flex:1,alignItems:"center",minWidth:0,minHeight:0}},[`${a}-extra`]:{flex:"none"},[`${a}-close`]:Object.assign({display:"inline-flex",width:ge(z).add(I).equal(),height:ge(z).add(I).equal(),borderRadius:t,justifyContent:"center",alignItems:"center",marginInlineEnd:H,color:X,fontWeight:le,fontSize:z,fontStyle:"normal",lineHeight:1,textAlign:"center",textTransform:"none",textDecoration:"none",background:"transparent",border:0,cursor:"pointer",transition:`all ${w}`,textRendering:"auto","&:hover":{color:ne,backgroundColor:oe,textDecoration:"none"},"&:active":{backgroundColor:ae}},(0,Jt.Qy)(e)),[`${a}-title`]:{flex:1,margin:0,fontWeight:e.fontWeightStrong,fontSize:z,lineHeight:k},[`${a}-body`]:{flex:1,minWidth:0,minHeight:0,padding:L,overflow:"auto",[`${a}-body-skeleton`]:{width:"100%",height:"100%",display:"flex",justifyContent:"center"}},[`${a}-footer`]:{flexShrink:0,padding:`${(0,he.bf)(fe)} ${(0,he.bf)(me)}`,borderTop:`${(0,he.bf)(Z)} ${j} ${G}`},"&-rtl":{direction:"rtl"}}}},VM=e=>({zIndexPopup:e.zIndexPopupBase,footerPaddingBlock:e.paddingXS,footerPaddingInline:e.padding});var E2=(0,te.I$)("Drawer",e=>{const t=(0,Qr.IX)(e,{});return[ZM(t),jM(t)]},VM),I2=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a};const E8=null,HM={distance:180},T2=e=>{var t;const{rootClassName:a,width:o,height:f,size:y="default",mask:C=!0,push:w=HM,open:I,afterOpenChange:D,onClose:L,prefixCls:z,getContainer:k,style:Z,className:j,visible:G,afterVisibleChange:H,maskStyle:X,drawerStyle:ne,contentWrapperStyle:oe}=e,ae=I2(e,["rootClassName","width","height","size","mask","push","open","afterOpenChange","onClose","prefixCls","getContainer","style","className","visible","afterVisibleChange","maskStyle","drawerStyle","contentWrapperStyle"]),{getPopupContainer:ie,getPrefixCls:le,direction:fe,className:me,style:ge,classNames:be,styles:Ie}=(0,ye.dj)("drawer"),Oe=le("drawer",z),[Te,Ve,De]=E2(Oe),Ue=k===void 0&&ie?()=>ie(document.body):k,ke=q()({"no-mask":!C,[`${Oe}-rtl`]:fe==="rtl"},a,Ve,De),st=s.useMemo(()=>o!=null?o:y==="large"?736:378,[o,y]),ct=s.useMemo(()=>f!=null?f:y==="large"?736:378,[f,y]),Et={motionName:(0,Tt.m)(Oe,"mask-motion"),motionAppear:!0,motionEnter:!0,motionLeave:!0,motionDeadline:500},It=Ht=>({motionName:(0,Tt.m)(Oe,`panel-motion-${Ht}`),motionAppear:!0,motionEnter:!0,motionLeave:!0,motionDeadline:500}),Ct=el(),[mt,bt]=(0,qt.Cn)("Drawer",ae.zIndex),{classNames:zt={},styles:$t={}}=ae;return Te(s.createElement(Jl.Z,{form:!0,space:!0},s.createElement(Ya.Z.Provider,{value:bt},s.createElement(BM,Object.assign({prefixCls:Oe,onClose:L,maskMotion:Et,motion:It},ae,{classNames:{mask:q()(zt.mask,be.mask),content:q()(zt.content,be.content),wrapper:q()(zt.wrapper,be.wrapper)},styles:{mask:Object.assign(Object.assign(Object.assign({},$t.mask),X),Ie.mask),content:Object.assign(Object.assign(Object.assign({},$t.content),ne),Ie.content),wrapper:Object.assign(Object.assign(Object.assign({},$t.wrapper),oe),Ie.wrapper)},open:I!=null?I:G,mask:C,push:w,width:st,height:ct,style:Object.assign(Object.assign({},ge),Z),className:q()(me,j),rootClassName:ke,getContainer:Ue,afterOpenChange:D!=null?D:H,panelRef:Ct,zIndex:mt}),s.createElement(C2,Object.assign({prefixCls:Oe},ae,{onClose:L}))))))},UM=e=>{const{prefixCls:t,style:a,className:o,placement:f="right"}=e,y=I2(e,["prefixCls","style","className","placement"]),{getPrefixCls:C}=s.useContext(ye.E_),w=C("drawer",t),[I,D,L]=E2(w),z=q()(w,`${w}-pure`,`${w}-${f}`,D,L,o);return I(s.createElement("div",{className:z,style:a},s.createElement(C2,Object.assign({prefixCls:w},y))))};T2._InternalPanelDoNotUseOrYouWillBeFired=UM;var WM=T2;function Sx(e){return["small","middle","large"].includes(e)}function M2(e){return e?typeof e=="number"&&!Number.isNaN(e):!1}const P2=s.createContext({latestIndex:0}),GM=P2.Provider;var KM=e=>{let{className:t,index:a,children:o,split:f,style:y}=e;const{latestIndex:C}=s.useContext(P2);return o==null?null:s.createElement(s.Fragment,null,s.createElement("div",{className:t,style:y},o),a<C&&f&&s.createElement("span",{className:`${t}-split`},f))},XM=F(45936),YM=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a};const O2=s.forwardRef((e,t)=>{var a;const{getPrefixCls:o,direction:f,size:y,className:C,style:w,classNames:I,styles:D}=(0,ye.dj)("space"),{size:L=y!=null?y:"small",align:z,className:k,rootClassName:Z,children:j,direction:G="horizontal",prefixCls:H,split:X,style:ne,wrap:oe=!1,classNames:ae,styles:ie}=e,le=YM(e,["size","align","className","rootClassName","children","direction","prefixCls","split","style","wrap","classNames","styles"]),[fe,me]=Array.isArray(L)?L:[L,L],ge=Sx(me),be=Sx(fe),Ie=M2(me),Oe=M2(fe),Te=(0,Wl.Z)(j,{keepEmpty:!0}),Ve=z===void 0&&G==="horizontal"?"center":z,De=o("space",H),[Ue,ke,st]=(0,XM.Z)(De),ct=q()(De,C,ke,`${De}-${G}`,{[`${De}-rtl`]:f==="rtl",[`${De}-align-${Ve}`]:Ve,[`${De}-gap-row-${me}`]:ge,[`${De}-gap-col-${fe}`]:be},k,Z,st),Et=q()(`${De}-item`,(a=ae==null?void 0:ae.item)!==null&&a!==void 0?a:I.item);let It=0;const Ct=Te.map((zt,$t)=>{var Ht;zt!=null&&(It=$t);const Mt=(zt==null?void 0:zt.key)||`${Et}-${$t}`;return s.createElement(KM,{className:Et,key:Mt,index:$t,split:X,style:(Ht=ie==null?void 0:ie.item)!==null&&Ht!==void 0?Ht:D.item},zt)}),mt=s.useMemo(()=>({latestIndex:It}),[It]);if(Te.length===0)return null;const bt={};return oe&&(bt.flexWrap="wrap"),!be&&Oe&&(bt.columnGap=fe),!ge&&Ie&&(bt.rowGap=me),Ue(s.createElement("div",Object.assign({ref:t,className:ct,style:Object.assign(Object.assign(Object.assign({},bt),w),ne)},le),s.createElement(GM,{value:mt},Ct)))});O2.Compact=Vi.ZP;var R2=O2,qM=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a};const $2=e=>{const{getPopupContainer:t,getPrefixCls:a,direction:o}=s.useContext(ye.E_),{prefixCls:f,type:y="default",danger:C,disabled:w,loading:I,onClick:D,htmlType:L,children:z,className:k,menu:Z,arrow:j,autoFocus:G,overlay:H,trigger:X,align:ne,open:oe,onOpenChange:ae,placement:ie,getPopupContainer:le,href:fe,icon:me=s.createElement(Zv,null),title:ge,buttonsRender:be=Mt=>Mt,mouseEnterDelay:Ie,mouseLeaveDelay:Oe,overlayClassName:Te,overlayStyle:Ve,destroyPopupOnHide:De,dropdownRender:Ue}=e,ke=qM(e,["prefixCls","type","danger","disabled","loading","onClick","htmlType","children","className","menu","arrow","autoFocus","overlay","trigger","align","open","onOpenChange","placement","getPopupContainer","href","icon","title","buttonsRender","mouseEnterDelay","mouseLeaveDelay","overlayClassName","overlayStyle","destroyPopupOnHide","dropdownRender"]),st=a("dropdown",f),ct=`${st}-button`,Et={menu:Z,arrow:j,autoFocus:G,align:ne,disabled:w,trigger:w?[]:X,onOpenChange:ae,getPopupContainer:le||t,mouseEnterDelay:Ie,mouseLeaveDelay:Oe,overlayClassName:Te,overlayStyle:Ve,destroyPopupOnHide:De,dropdownRender:Ue},{compactSize:It,compactItemClassnames:Ct}=(0,Vi.ri)(st,o),mt=q()(ct,Ct,k);"overlay"in e&&(Et.overlay=H),"open"in e&&(Et.open=oe),"placement"in e?Et.placement=ie:Et.placement=o==="rtl"?"bottomLeft":"bottomRight";const bt=s.createElement($n,{type:y,danger:C,disabled:w,loading:I,onClick:D,htmlType:L,href:fe,title:ge},z),zt=s.createElement($n,{type:y,danger:C,icon:me}),[$t,Ht]=be([bt,zt]);return s.createElement(R2.Compact,Object.assign({className:mt,size:It,block:!0},ke),$t,s.createElement(Tf,Object.assign({},Et),Ht))};$2.__ANT_BUTTON=!0;var JM=$2;const A2=Tf;A2.Button=JM;var wx=A2,zS=F(35335);const D2=["wrap","nowrap","wrap-reverse"],L2=["flex-start","flex-end","start","end","center","space-between","space-around","space-evenly","stretch","normal","left","right"],z2=["center","start","end","flex-start","flex-end","self-start","self-end","baseline","normal","stretch"],QM=(e,t)=>{const a=t.wrap===!0?"wrap":t.wrap;return{[`${e}-wrap-${a}`]:a&&D2.includes(a)}},eP=(e,t)=>{const a={};return z2.forEach(o=>{a[`${e}-align-${o}`]=t.align===o}),a[`${e}-align-stretch`]=!t.align&&!!t.vertical,a},tP=(e,t)=>{const a={};return L2.forEach(o=>{a[`${e}-justify-${o}`]=t.justify===o}),a};function nP(e,t){return q()(Object.assign(Object.assign(Object.assign({},QM(e,t)),eP(e,t)),tP(e,t)))}var rP=nP;const iP=e=>{const{componentCls:t}=e;return{[t]:{display:"flex",margin:0,padding:0,"&-vertical":{flexDirection:"column"},"&-rtl":{direction:"rtl"},"&:empty":{display:"none"}}}},oP=e=>{const{componentCls:t}=e;return{[t]:{"&-gap-small":{gap:e.flexGapSM},"&-gap-middle":{gap:e.flexGap},"&-gap-large":{gap:e.flexGapLG}}}},aP=e=>{const{componentCls:t}=e,a={};return D2.forEach(o=>{a[`${t}-wrap-${o}`]={flexWrap:o}}),a},sP=e=>{const{componentCls:t}=e,a={};return z2.forEach(o=>{a[`${t}-align-${o}`]={alignItems:o}}),a},lP=e=>{const{componentCls:t}=e,a={};return L2.forEach(o=>{a[`${t}-justify-${o}`]={justifyContent:o}}),a},cP=()=>({});var uP=(0,te.I$)("Flex",e=>{const{paddingXS:t,padding:a,paddingLG:o}=e,f=(0,Qr.IX)(e,{flexGapSM:t,flexGap:a,flexGapLG:o});return[iP(f),oP(f),aP(f),sP(f),lP(f)]},cP,{resetStyle:!1}),dP=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a},fP=s.forwardRef((e,t)=>{const{prefixCls:a,rootClassName:o,className:f,style:y,flex:C,gap:w,children:I,vertical:D=!1,component:L="div"}=e,z=dP(e,["prefixCls","rootClassName","className","style","flex","gap","children","vertical","component"]),{flex:k,direction:Z,getPrefixCls:j}=s.useContext(ye.E_),G=j("flex",a),[H,X,ne]=uP(G),oe=D!=null?D:k==null?void 0:k.vertical,ae=q()(f,o,k==null?void 0:k.className,G,X,ne,rP(G,e),{[`${G}-rtl`]:Z==="rtl",[`${G}-gap-${w}`]:Sx(w),[`${G}-vertical`]:oe}),ie=Object.assign(Object.assign({},k==null?void 0:k.style),y);return C&&(ie.flex=C),w&&!Sx(w)&&(ie.gap=w),H(s.createElement(L,Object.assign({ref:t,className:ae,style:ie},(0,fr.Z)(z,["justify","wrap","align"])),I))});const N2=s.createContext(void 0),{Provider:hP}=N2;var B2=N2,pP={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494zM504 618H320c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h184c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zM312 490v48c0 4.4 3.6 8 8 8h384c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H320c-4.4 0-8 3.6-8 8z"}}]},name:"file-text",theme:"outlined"},mP=pP,gP=function(t,a){return s.createElement(Kt.Z,(0,We.Z)({},t,{ref:a,icon:mP}))},vP=s.forwardRef(gP),F2=vP;const yP=e=>{const{icon:t,description:a,prefixCls:o,className:f}=e,y=s.createElement("div",{className:`${o}-icon`},s.createElement(F2,null));return s.createElement("div",{onClick:e.onClick,onFocus:e.onFocus,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,className:q()(f,`${o}-content`)},t||a?s.createElement(s.Fragment,null,t&&s.createElement("div",{className:`${o}-icon`},t),a&&s.createElement("div",{className:`${o}-description`},a)):y)};var _P=(0,s.memo)(yP),k2=e=>e===0?0:e-Math.sqrt(Math.pow(e,2)/2),bP=e=>{const{componentCls:t,floatButtonSize:a,motionDurationSlow:o,motionEaseInOutCirc:f,calc:y}=e,C=new he.E4("antFloatButtonMoveTopIn",{"0%":{transform:`translate3d(0, ${(0,he.bf)(a)}, 0)`,transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),w=new he.E4("antFloatButtonMoveTopOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:`translate3d(0, ${(0,he.bf)(a)}, 0)`,transformOrigin:"0 0",opacity:0}}),I=new he.E4("antFloatButtonMoveRightIn",{"0%":{transform:`translate3d(${y(a).mul(-1).equal()}, 0, 0)`,transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),D=new he.E4("antFloatButtonMoveRightOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:`translate3d(${y(a).mul(-1).equal()}, 0, 0)`,transformOrigin:"0 0",opacity:0}}),L=new he.E4("antFloatButtonMoveBottomIn",{"0%":{transform:`translate3d(0, ${y(a).mul(-1).equal()}, 0)`,transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),z=new he.E4("antFloatButtonMoveBottomOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:`translate3d(0, ${y(a).mul(-1).equal()}, 0)`,transformOrigin:"0 0",opacity:0}}),k=new he.E4("antFloatButtonMoveLeftIn",{"0%":{transform:`translate3d(${(0,he.bf)(a)}, 0, 0)`,transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),Z=new he.E4("antFloatButtonMoveLeftOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:`translate3d(${(0,he.bf)(a)}, 0, 0)`,transformOrigin:"0 0",opacity:0}}),j=`${t}-group`;return[{[j]:{[`&${j}-top ${j}-wrap`]:(0,bc.R)(`${j}-wrap`,C,w,o,!0),[`&${j}-bottom ${j}-wrap`]:(0,bc.R)(`${j}-wrap`,L,z,o,!0),[`&${j}-left ${j}-wrap`]:(0,bc.R)(`${j}-wrap`,k,Z,o,!0),[`&${j}-right ${j}-wrap`]:(0,bc.R)(`${j}-wrap`,I,D,o,!0)}},{[`${j}-wrap`]:{[`&${j}-wrap-enter, &${j}-wrap-appear`]:{opacity:0,animationTimingFunction:f},[`&${j}-wrap-leave`]:{opacity:1,animationTimingFunction:f}}}]};const xP=e=>{const{antCls:t,componentCls:a,floatButtonSize:o,margin:f,borderRadiusLG:y,borderRadiusSM:C,badgeOffset:w,floatButtonBodyPadding:I,zIndexPopupBase:D,calc:L}=e,z=`${a}-group`;return{[z]:Object.assign(Object.assign({},(0,Jt.Wf)(e)),{zIndex:D,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",border:"none",position:"fixed",height:"auto",boxShadow:"none",minWidth:o,minHeight:o,insetInlineEnd:e.floatButtonInsetInlineEnd,bottom:e.floatButtonInsetBlockEnd,borderRadius:y,[`${z}-wrap`]:{zIndex:-1,display:"flex",justifyContent:"center",alignItems:"center",position:"absolute"},[`&${z}-rtl`]:{direction:"rtl"},[a]:{position:"static"}}),[`${z}-top > ${z}-wrap`]:{flexDirection:"column",top:"auto",bottom:L(o).add(f).equal(),"&::after":{content:'""',position:"absolute",width:"100%",height:f,bottom:L(f).mul(-1).equal()}},[`${z}-bottom > ${z}-wrap`]:{flexDirection:"column",top:L(o).add(f).equal(),bottom:"auto","&::after":{content:'""',position:"absolute",width:"100%",height:f,top:L(f).mul(-1).equal()}},[`${z}-right > ${z}-wrap`]:{flexDirection:"row",left:{_skip_check_:!0,value:L(o).add(f).equal()},right:{_skip_check_:!0,value:"auto"},"&::after":{content:'""',position:"absolute",width:f,height:"100%",left:{_skip_check_:!0,value:L(f).mul(-1).equal()}}},[`${z}-left > ${z}-wrap`]:{flexDirection:"row",left:{_skip_check_:!0,value:"auto"},right:{_skip_check_:!0,value:L(o).add(f).equal()},"&::after":{content:'""',position:"absolute",width:f,height:"100%",right:{_skip_check_:!0,value:L(f).mul(-1).equal()}}},[`${z}-circle`]:{gap:f,[`${z}-wrap`]:{gap:f}},[`${z}-square`]:{[`${a}-square`]:{padding:0,borderRadius:0,[`&${z}-trigger`]:{borderRadius:y},"&:first-child":{borderStartStartRadius:y,borderStartEndRadius:y},"&:last-child":{borderEndStartRadius:y,borderEndEndRadius:y},"&:not(:last-child)":{borderBottom:`${(0,he.bf)(e.lineWidth)} ${e.lineType} ${e.colorSplit}`},[`${t}-badge`]:{[`${t}-badge-count`]:{top:L(L(I).add(w)).mul(-1).equal(),insetInlineEnd:L(L(I).add(w)).mul(-1).equal()}}},[`${z}-wrap`]:{borderRadius:y,boxShadow:e.boxShadowSecondary,[`${a}-square`]:{boxShadow:"none",borderRadius:0,padding:I,[`${a}-body`]:{width:e.floatButtonBodySize,height:e.floatButtonBodySize,borderRadius:C}}}},[`${z}-top > ${z}-wrap, ${z}-bottom > ${z}-wrap`]:{[`> ${a}-square`]:{"&:first-child":{borderStartStartRadius:y,borderStartEndRadius:y},"&:last-child":{borderEndStartRadius:y,borderEndEndRadius:y},"&:not(:last-child)":{borderBottom:`${(0,he.bf)(e.lineWidth)} ${e.lineType} ${e.colorSplit}`}}},[`${z}-left > ${z}-wrap, ${z}-right > ${z}-wrap`]:{[`> ${a}-square`]:{"&:first-child":{borderStartStartRadius:y,borderEndStartRadius:y},"&:last-child":{borderStartEndRadius:y,borderEndEndRadius:y},"&:not(:last-child)":{borderInlineEnd:`${(0,he.bf)(e.lineWidth)} ${e.lineType} ${e.colorSplit}`}}},[`${z}-circle-shadow`]:{boxShadow:"none"},[`${z}-square-shadow`]:{boxShadow:e.boxShadowSecondary,[`${a}-square`]:{boxShadow:"none",padding:I,[`${a}-body`]:{width:e.floatButtonBodySize,height:e.floatButtonBodySize,borderRadius:C}}}}},CP=e=>{const{antCls:t,componentCls:a,floatButtonBodyPadding:o,floatButtonIconSize:f,floatButtonSize:y,borderRadiusLG:C,badgeOffset:w,dotOffsetInSquare:I,dotOffsetInCircle:D,zIndexPopupBase:L,calc:z}=e;return{[a]:Object.assign(Object.assign({},(0,Jt.Wf)(e)),{border:"none",position:"fixed",cursor:"pointer",zIndex:L,display:"block",width:y,height:y,insetInlineEnd:e.floatButtonInsetInlineEnd,bottom:e.floatButtonInsetBlockEnd,boxShadow:e.boxShadowSecondary,"&-pure":{position:"relative",inset:"auto"},"&:empty":{display:"none"},[`${t}-badge`]:{width:"100%",height:"100%",[`${t}-badge-count`]:{transform:"translate(0, 0)",transformOrigin:"center",top:z(w).mul(-1).equal(),insetInlineEnd:z(w).mul(-1).equal()}},[`${a}-body`]:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",transition:`all ${e.motionDurationMid}`,[`${a}-content`]:{overflow:"hidden",textAlign:"center",minHeight:y,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",padding:`${(0,he.bf)(z(o).div(2).equal())} ${(0,he.bf)(o)}`,[`${a}-icon`]:{textAlign:"center",margin:"auto",width:f,fontSize:f,lineHeight:1}}}}),[`${a}-rtl`]:{direction:"rtl"},[`${a}-circle`]:{height:y,borderRadius:"50%",[`${t}-badge`]:{[`${t}-badge-dot`]:{top:D,insetInlineEnd:D}},[`${a}-body`]:{borderRadius:"50%"}},[`${a}-square`]:{height:"auto",minHeight:y,borderRadius:C,[`${t}-badge`]:{[`${t}-badge-dot`]:{top:I,insetInlineEnd:I}},[`${a}-body`]:{height:"auto",borderRadius:C}},[`${a}-default`]:{backgroundColor:e.floatButtonBackgroundColor,transition:`background-color ${e.motionDurationMid}`,[`${a}-body`]:{backgroundColor:e.floatButtonBackgroundColor,transition:`background-color ${e.motionDurationMid}`,"&:hover":{backgroundColor:e.colorFillContent},[`${a}-content`]:{[`${a}-icon`]:{color:e.colorText},[`${a}-description`]:{display:"flex",alignItems:"center",lineHeight:(0,he.bf)(e.fontSizeLG),color:e.colorText,fontSize:e.fontSizeSM}}}},[`${a}-primary`]:{backgroundColor:e.colorPrimary,[`${a}-body`]:{backgroundColor:e.colorPrimary,transition:`background-color ${e.motionDurationMid}`,"&:hover":{backgroundColor:e.colorPrimaryHover},[`${a}-content`]:{[`${a}-icon`]:{color:e.colorTextLightSolid},[`${a}-description`]:{display:"flex",alignItems:"center",lineHeight:(0,he.bf)(e.fontSizeLG),color:e.colorTextLightSolid,fontSize:e.fontSizeSM}}}}}},SP=e=>({dotOffsetInCircle:k2(e.controlHeightLG/2),dotOffsetInSquare:k2(e.borderRadiusLG)});var j2=(0,te.I$)("FloatButton",e=>{const{colorTextLightSolid:t,colorBgElevated:a,controlHeightLG:o,marginXXL:f,marginLG:y,fontSize:C,fontSizeIcon:w,controlItemBgHover:I,paddingXXS:D,calc:L}=e,z=(0,Qr.IX)(e,{floatButtonBackgroundColor:a,floatButtonColor:t,floatButtonHoverBackgroundColor:I,floatButtonFontSize:C,floatButtonIconSize:L(w).mul(1.5).equal(),floatButtonSize:o,floatButtonInsetBlockEnd:f,floatButtonInsetInlineEnd:y,floatButtonBodySize:L(o).sub(L(D).mul(2)).equal(),floatButtonBodyPadding:D,badgeOffset:L(D).mul(1.5).equal()});return[xP(z),CP(z),iu(e),bP(z)]},SP),wP=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a};const Ex="float-btn";var Ag=s.forwardRef((e,t)=>{const{prefixCls:a,className:o,rootClassName:f,style:y,type:C="default",shape:w="circle",icon:I,description:D,tooltip:L,htmlType:z="button",badge:k={}}=e,Z=wP(e,["prefixCls","className","rootClassName","style","type","shape","icon","description","tooltip","htmlType","badge"]),{getPrefixCls:j,direction:G}=(0,s.useContext)(ye.E_),H=(0,s.useContext)(B2),X=j(Ex,a),ne=(0,Un.Z)(X),[oe,ae,ie]=j2(X,ne),le=H||w,fe=q()(ae,ie,ne,X,o,f,`${X}-${C}`,`${X}-${le}`,{[`${X}-rtl`]:G==="rtl"}),[me]=(0,qt.Cn)("FloatButton",y==null?void 0:y.zIndex),ge=Object.assign(Object.assign({},y),{zIndex:me}),be=(0,fr.Z)(k,["title","children","status","text"]),Ie=(0,s.useMemo)(()=>({prefixCls:X,description:D,icon:I,type:C}),[X,D,I,C]);let Oe=s.createElement("div",{className:`${X}-body`},s.createElement(_P,Object.assign({},Ie)));return"badge"in e&&(Oe=s.createElement(Yu,Object.assign({},be),Oe)),"tooltip"in e&&(Oe=s.createElement(Du.Z,{title:L,placement:G==="rtl"?"right":"left"},Oe)),oe(e.href?s.createElement("a",Object.assign({ref:t},Z,{className:fe,style:ge}),Oe):s.createElement("button",Object.assign({ref:t},Z,{className:fe,style:ge,type:z}),Oe))}),EP=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a},Z2=s.forwardRef((e,t)=>{const{prefixCls:a,className:o,type:f="default",shape:y="circle",visibilityHeight:C=400,icon:w=s.createElement(Mm,null),target:I,onClick:D,duration:L=450}=e,z=EP(e,["prefixCls","className","type","shape","visibilityHeight","icon","target","onClick","duration"]),[k,Z]=(0,s.useState)(C===0),j=s.useRef(null);s.useImperativeHandle(t,()=>({nativeElement:j.current}));const G=()=>{var me;return((me=j.current)===null||me===void 0?void 0:me.ownerDocument)||window},H=Pe(me=>{const ge=rr(me.target);Z(ge>=C)});(0,s.useEffect)(()=>{const ge=(I||G)();return H({target:ge}),ge==null||ge.addEventListener("scroll",H),()=>{H.cancel(),ge==null||ge.removeEventListener("scroll",H)}},[I]);const X=me=>{ei(0,{getContainer:I||G,duration:L}),D==null||D(me)},{getPrefixCls:ne}=(0,s.useContext)(ye.E_),oe=ne(Ex,a),ae=ne(),le=(0,s.useContext)(B2)||y,fe=Object.assign({prefixCls:oe,icon:w,type:f,shape:le},z);return s.createElement(On.ZP,{visible:k,motionName:`${ae}-fade`},(me,ge)=>{let{className:be}=me;return s.createElement(Ag,Object.assign({ref:(0,Yt.sQ)(j,ge)},fe,{onClick:X,className:q()(o,be)}))})}),IP=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a},V2=e=>{var t;const{prefixCls:a,className:o,style:f,shape:y="circle",type:C="default",placement:w="top",icon:I=s.createElement(F2,null),closeIcon:D,description:L,trigger:z,children:k,onOpenChange:Z,open:j,onClick:G}=e,H=IP(e,["prefixCls","className","style","shape","type","placement","icon","closeIcon","description","trigger","children","onOpenChange","open","onClick"]),{direction:X,getPrefixCls:ne,closeIcon:oe}=(0,ye.dj)("floatButtonGroup"),ae=(t=D!=null?D:oe)!==null&&t!==void 0?t:s.createElement(cr.Z,null),ie=ne(Ex,a),le=(0,Un.Z)(ie),[fe,me,ge]=j2(ie,le),be=`${ie}-group`,Ie=z&&["click","hover"].includes(z),Oe=w&&["top","left","right","bottom"].includes(w),Te=q()(be,me,ge,le,o,{[`${be}-rtl`]:X==="rtl",[`${be}-${y}`]:y,[`${be}-${y}-shadow`]:!Ie,[`${be}-${w}`]:Ie&&Oe}),[Ve]=(0,qt.Cn)("FloatButton",f==null?void 0:f.zIndex),De=Object.assign(Object.assign({},f),{zIndex:Ve}),Ue=q()(me,`${be}-wrap`),[ke,st]=(0,Fs.Z)(!1,{value:j}),ct=s.useRef(null),Et=z==="hover",It=z==="click",Ct=(0,yr.Z)($t=>{ke!==$t&&(st($t),Z==null||Z($t))}),mt=()=>{Et&&Ct(!0)},bt=()=>{Et&&Ct(!1)},zt=$t=>{It&&Ct(!ke),G==null||G($t)};return s.useEffect(()=>{if(It){const $t=Ht=>{var Mt;!((Mt=ct.current)===null||Mt===void 0)&&Mt.contains(Ht.target)||Ct(!1)};return document.addEventListener("click",$t,{capture:!0}),()=>document.removeEventListener("click",$t,{capture:!0})}},[It]),fe(s.createElement(hP,{value:y},s.createElement("div",{ref:ct,className:Te,style:De,onMouseEnter:mt,onMouseLeave:bt},Ie?s.createElement(s.Fragment,null,s.createElement(On.ZP,{visible:ke,motionName:`${be}-wrap`},$t=>{let{className:Ht}=$t;return s.createElement("div",{className:q()(Ht,Ue)},k)}),s.createElement(Ag,Object.assign({type:C,icon:ke?ae:I,description:L,"aria-label":e["aria-label"],className:`${be}-trigger`,onClick:zt},H))):k)))},H2=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a};const U2=e=>{var{backTop:t}=e,a=H2(e,["backTop"]);return t?s.createElement(Z2,Object.assign({},a,{visibilityHeight:0})):s.createElement(Ag,Object.assign({},a))};var TP=e=>{var{className:t,items:a}=e,o=H2(e,["className","items"]);const{prefixCls:f}=o,{getPrefixCls:y}=s.useContext(ye.E_),w=`${y(Ex,f)}-pure`;return a?s.createElement(V2,Object.assign({className:q()(t,w)},o),a.map((I,D)=>s.createElement(U2,Object.assign({key:D},I)))):s.createElement(U2,Object.assign({className:q()(t,w)},o))};Ag.BackTop=Z2,Ag.Group=V2,Ag._InternalPanelDoNotUseOrYouWillBeFired=TP;var MP=Ag,PP=F(54735);function OP(){return(0,Xu.Z)()}var RP={useBreakpoint:OP},$P={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z"}}]},name:"eye",theme:"outlined"},AP=$P,DP=function(t,a){return s.createElement(Kt.Z,(0,We.Z)({},t,{ref:a,icon:AP}))},LP=s.forwardRef(DP),NS=LP,W2=/margin|padding|width|height|max|min|offset/,BS={left:!0,top:!0},G2={cssFloat:1,styleFloat:1,float:1};function K2(e){return e.nodeType===1?e.ownerDocument.defaultView.getComputedStyle(e,null):{}}function zP(e,t,a){if(t=t.toLowerCase(),a==="auto"){if(t==="height")return e.offsetHeight;if(t==="width")return e.offsetWidth}return t in BS||(BS[t]=W2.test(t)),BS[t]?parseFloat(a)||0:a}function z8(e,t){var a=arguments.length,o=K2(e);return t=G2[t]?"cssFloat"in e.style?"cssFloat":"styleFloat":t,a===1?o:zP(e,t,o[t]||e.style[t])}function NP(e,t,a){var o=arguments.length;if(t=G2[t]?"cssFloat"in e.style?"cssFloat":"styleFloat":t,o===3)return typeof a=="number"&&W2.test(t)&&(a="".concat(a,"px")),e.style[t]=a,a;for(var f in t)t.hasOwnProperty(f)&&NP(e,f,t[f]);return K2(e)}function N8(e){return e===document.body?document.documentElement.clientWidth:e.offsetWidth}function B8(e){return e===document.body?window.innerHeight||document.documentElement.clientHeight:e.offsetHeight}function F8(){var e=Math.max(document.documentElement.scrollWidth,document.body.scrollWidth),t=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight);return{width:e,height:t}}function X2(){var e=document.documentElement.clientWidth,t=window.innerHeight||document.documentElement.clientHeight;return{width:e,height:t}}function k8(){return{scrollLeft:Math.max(document.documentElement.scrollLeft,document.body.scrollLeft),scrollTop:Math.max(document.documentElement.scrollTop,document.body.scrollTop)}}function BP(e){var t=e.getBoundingClientRect(),a=document.documentElement;return{left:t.left+(window.pageXOffset||a.scrollLeft)-(a.clientLeft||document.body.clientLeft||0),top:t.top+(window.pageYOffset||a.scrollTop)-(a.clientTop||document.body.clientTop||0)}}function Jp(e,t,a,o){var f=Ze.unstable_batchedUpdates?function(C){Ze.unstable_batchedUpdates(a,C)}:a;return e!=null&&e.addEventListener&&e.addEventListener(t,f,o),{remove:function(){e!=null&&e.removeEventListener&&e.removeEventListener(t,f,o)}}}var E_=s.createContext(null),FP=function(t){var a=t.visible,o=t.maskTransitionName,f=t.getContainer,y=t.prefixCls,C=t.rootClassName,w=t.icons,I=t.countRender,D=t.showSwitch,L=t.showProgress,z=t.current,k=t.transform,Z=t.count,j=t.scale,G=t.minScale,H=t.maxScale,X=t.closeIcon,ne=t.onActive,oe=t.onClose,ae=t.onZoomIn,ie=t.onZoomOut,le=t.onRotateRight,fe=t.onRotateLeft,me=t.onFlipX,ge=t.onFlipY,be=t.onReset,Ie=t.toolbarRender,Oe=t.zIndex,Te=t.image,Ve=(0,s.useContext)(E_),De=w.rotateLeft,Ue=w.rotateRight,ke=w.zoomIn,st=w.zoomOut,ct=w.close,Et=w.left,It=w.right,Ct=w.flipX,mt=w.flipY,bt="".concat(y,"-operations-operation");s.useEffect(function(){var Pn=function(br){br.keyCode===nt.Z.ESC&&oe()};return a&&window.addEventListener("keydown",Pn),function(){window.removeEventListener("keydown",Pn)}},[a]);var zt=function(Dr,br){Dr.preventDefault(),Dr.stopPropagation(),ne(br)},$t=s.useCallback(function(Pn){var Dr=Pn.type,br=Pn.disabled,or=Pn.onClick,ar=Pn.icon;return s.createElement("div",{key:Dr,className:q()(bt,"".concat(y,"-operations-operation-").concat(Dr),(0,pe.Z)({},"".concat(y,"-operations-operation-disabled"),!!br)),onClick:or},ar)},[bt,y]),Ht=D?$t({icon:Et,onClick:function(Dr){return zt(Dr,-1)},type:"prev",disabled:z===0}):void 0,Mt=D?$t({icon:It,onClick:function(Dr){return zt(Dr,1)},type:"next",disabled:z===Z-1}):void 0,Cn=$t({icon:mt,onClick:ge,type:"flipY"}),Hn=$t({icon:Ct,onClick:me,type:"flipX"}),pn=$t({icon:De,onClick:fe,type:"rotateLeft"}),Dn=$t({icon:Ue,onClick:le,type:"rotateRight"}),Qt=$t({icon:st,onClick:ie,type:"zoomOut",disabled:j<=G}),Ft=$t({icon:ke,onClick:ae,type:"zoomIn",disabled:j===H}),kn=s.createElement("div",{className:"".concat(y,"-operations")},Cn,Hn,pn,Dn,Qt,Ft);return s.createElement(On.ZP,{visible:a,motionName:o},function(Pn){var Dr=Pn.className,br=Pn.style;return s.createElement(Uo.Z,{open:!0,getContainer:f!=null?f:document.body},s.createElement("div",{className:q()("".concat(y,"-operations-wrapper"),Dr,C),style:(0,Y.Z)((0,Y.Z)({},br),{},{zIndex:Oe})},X===null?null:s.createElement("button",{className:"".concat(y,"-close"),onClick:oe},X||ct),D&&s.createElement(s.Fragment,null,s.createElement("div",{className:q()("".concat(y,"-switch-left"),(0,pe.Z)({},"".concat(y,"-switch-left-disabled"),z===0)),onClick:function(ar){return zt(ar,-1)}},Et),s.createElement("div",{className:q()("".concat(y,"-switch-right"),(0,pe.Z)({},"".concat(y,"-switch-right-disabled"),z===Z-1)),onClick:function(ar){return zt(ar,1)}},It)),s.createElement("div",{className:"".concat(y,"-footer")},L&&s.createElement("div",{className:"".concat(y,"-progress")},I?I(z+1,Z):"".concat(z+1," / ").concat(Z)),Ie?Ie(kn,(0,Y.Z)((0,Y.Z)({icons:{prevIcon:Ht,nextIcon:Mt,flipYIcon:Cn,flipXIcon:Hn,rotateLeftIcon:pn,rotateRightIcon:Dn,zoomOutIcon:Qt,zoomInIcon:Ft},actions:{onActive:ne,onFlipY:ge,onFlipX:me,onRotateLeft:fe,onRotateRight:le,onZoomOut:ie,onZoomIn:ae,onReset:be,onClose:oe},transform:k},Ve?{current:z,total:Z}:{}),{},{image:Te})):kn)))})},kP=FP,Ix={x:0,y:0,rotate:0,scale:1,flipX:!1,flipY:!1};function jP(e,t,a,o){var f=(0,s.useRef)(null),y=(0,s.useRef)([]),C=(0,s.useState)(Ix),w=(0,Re.Z)(C,2),I=w[0],D=w[1],L=function(j){D(Ix),(0,Ol.Z)(Ix,I)||o==null||o({transform:Ix,action:j})},z=function(j,G){f.current===null&&(y.current=[],f.current=(0,Ge.Z)(function(){D(function(H){var X=H;return y.current.forEach(function(ne){X=(0,Y.Z)((0,Y.Z)({},X),ne)}),f.current=null,o==null||o({transform:X,action:G}),X})})),y.current.push((0,Y.Z)((0,Y.Z)({},I),j))},k=function(j,G,H,X,ne){var oe=e.current,ae=oe.width,ie=oe.height,le=oe.offsetWidth,fe=oe.offsetHeight,me=oe.offsetLeft,ge=oe.offsetTop,be=j,Ie=I.scale*j;Ie>a?(Ie=a,be=a/I.scale):Ie<t&&(Ie=ne?Ie:t,be=Ie/I.scale);var Oe=H!=null?H:innerWidth/2,Te=X!=null?X:innerHeight/2,Ve=be-1,De=Ve*ae*.5,Ue=Ve*ie*.5,ke=Ve*(Oe-I.x-me),st=Ve*(Te-I.y-ge),ct=I.x-(ke-De),Et=I.y-(st-Ue);if(j<1&&Ie===1){var It=le*Ie,Ct=fe*Ie,mt=X2(),bt=mt.width,zt=mt.height;It<=bt&&Ct<=zt&&(ct=0,Et=0)}z({x:ct,y:Et,scale:Ie},G)};return{transform:I,resetTransform:L,updateTransform:z,dispatchZoomChange:k}}function Y2(e,t,a,o){var f=t+a,y=(a-o)/2;if(a>o){if(t>0)return(0,pe.Z)({},e,y);if(t<0&&f<o)return(0,pe.Z)({},e,-y)}else if(t<0||f>o)return(0,pe.Z)({},e,t<0?y:-y);return{}}function q2(e,t,a,o){var f=X2(),y=f.width,C=f.height,w=null;return e<=y&&t<=C?w={x:0,y:0}:(e>y||t>C)&&(w=(0,Y.Z)((0,Y.Z)({},Y2("x",a,e,y)),Y2("y",o,t,C))),w}var fv=1,ZP=1;function VP(e,t,a,o,f,y,C){var w=f.rotate,I=f.scale,D=f.x,L=f.y,z=(0,s.useState)(!1),k=(0,Re.Z)(z,2),Z=k[0],j=k[1],G=(0,s.useRef)({diffX:0,diffY:0,transformX:0,transformY:0}),H=function(ie){!t||ie.button!==0||(ie.preventDefault(),ie.stopPropagation(),G.current={diffX:ie.pageX-D,diffY:ie.pageY-L,transformX:D,transformY:L},j(!0))},X=function(ie){a&&Z&&y({x:ie.pageX-G.current.diffX,y:ie.pageY-G.current.diffY},"move")},ne=function(){if(a&&Z){j(!1);var ie=G.current,le=ie.transformX,fe=ie.transformY,me=D!==le&&L!==fe;if(!me)return;var ge=e.current.offsetWidth*I,be=e.current.offsetHeight*I,Ie=e.current.getBoundingClientRect(),Oe=Ie.left,Te=Ie.top,Ve=w%180!==0,De=q2(Ve?be:ge,Ve?ge:be,Oe,Te);De&&y((0,Y.Z)({},De),"dragRebound")}},oe=function(ie){if(!(!a||ie.deltaY==0)){var le=Math.abs(ie.deltaY/100),fe=Math.min(le,ZP),me=fv+fe*o;ie.deltaY>0&&(me=fv/me),C(me,"wheel",ie.clientX,ie.clientY)}};return(0,s.useEffect)(function(){var ae,ie,le,fe;if(t){le=Jp(window,"mouseup",ne,!1),fe=Jp(window,"mousemove",X,!1);try{window.top!==window.self&&(ae=Jp(window.top,"mouseup",ne,!1),ie=Jp(window.top,"mousemove",X,!1))}catch(me){(0,lc.Kp)(!1,"[rc-image] ".concat(me))}}return function(){var me,ge,be,Ie;(me=le)===null||me===void 0||me.remove(),(ge=fe)===null||ge===void 0||ge.remove(),(be=ae)===null||be===void 0||be.remove(),(Ie=ie)===null||Ie===void 0||Ie.remove()}},[a,Z,D,L,w,t]),{isMoving:Z,onMouseDown:H,onMouseMove:X,onMouseUp:ne,onWheel:oe}}function HP(e){return new Promise(function(t){var a=document.createElement("img");a.onerror=function(){return t(!1)},a.onload=function(){return t(!0)},a.src=e})}function J2(e){var t=e.src,a=e.isCustomPlaceholder,o=e.fallback,f=(0,s.useState)(a?"loading":"normal"),y=(0,Re.Z)(f,2),C=y[0],w=y[1],I=(0,s.useRef)(!1),D=C==="error";(0,s.useEffect)(function(){var Z=!0;return HP(t).then(function(j){!j&&Z&&w("error")}),function(){Z=!1}},[t]),(0,s.useEffect)(function(){a&&!I.current?w("loading"):D&&w("normal")},[t]);var L=function(){w("normal")},z=function(j){I.current=!1,C==="loading"&&j!==null&&j!==void 0&&j.complete&&(j.naturalWidth||j.naturalHeight)&&(I.current=!0,L())},k=D&&o?{src:o}:{onLoad:L,src:t};return[z,k,C]}function Tx(e,t){var a=e.x-t.x,o=e.y-t.y;return Math.hypot(a,o)}function UP(e,t,a,o){var f=Tx(e,a),y=Tx(t,o);if(f===0&&y===0)return[e.x,e.y];var C=f/(f+y),w=e.x+C*(t.x-e.x),I=e.y+C*(t.y-e.y);return[w,I]}function WP(e,t,a,o,f,y,C){var w=f.rotate,I=f.scale,D=f.x,L=f.y,z=(0,s.useState)(!1),k=(0,Re.Z)(z,2),Z=k[0],j=k[1],G=(0,s.useRef)({point1:{x:0,y:0},point2:{x:0,y:0},eventType:"none"}),H=function(ie){G.current=(0,Y.Z)((0,Y.Z)({},G.current),ie)},X=function(ie){if(t){ie.stopPropagation(),j(!0);var le=ie.touches,fe=le===void 0?[]:le;fe.length>1?H({point1:{x:fe[0].clientX,y:fe[0].clientY},point2:{x:fe[1].clientX,y:fe[1].clientY},eventType:"touchZoom"}):H({point1:{x:fe[0].clientX-D,y:fe[0].clientY-L},eventType:"move"})}},ne=function(ie){var le=ie.touches,fe=le===void 0?[]:le,me=G.current,ge=me.point1,be=me.point2,Ie=me.eventType;if(fe.length>1&&Ie==="touchZoom"){var Oe={x:fe[0].clientX,y:fe[0].clientY},Te={x:fe[1].clientX,y:fe[1].clientY},Ve=UP(ge,be,Oe,Te),De=(0,Re.Z)(Ve,2),Ue=De[0],ke=De[1],st=Tx(Oe,Te)/Tx(ge,be);C(st,"touchZoom",Ue,ke,!0),H({point1:Oe,point2:Te,eventType:"touchZoom"})}else Ie==="move"&&(y({x:fe[0].clientX-ge.x,y:fe[0].clientY-ge.y},"move"),H({eventType:"move"}))},oe=function(){if(a){if(Z&&j(!1),H({eventType:"none"}),o>I)return y({x:0,y:0,scale:o},"touchZoom");var ie=e.current.offsetWidth*I,le=e.current.offsetHeight*I,fe=e.current.getBoundingClientRect(),me=fe.left,ge=fe.top,be=w%180!==0,Ie=q2(be?le:ie,be?ie:le,me,ge);Ie&&y((0,Y.Z)({},Ie),"dragRebound")}};return(0,s.useEffect)(function(){var ae;return a&&t&&(ae=Jp(window,"touchmove",function(ie){return ie.preventDefault()},{passive:!1})),function(){var ie;(ie=ae)===null||ie===void 0||ie.remove()}},[a,t]),{isTouching:Z,onTouchStart:X,onTouchMove:ne,onTouchEnd:oe}}var GP=["fallback","src","imgRef"],KP=["prefixCls","src","alt","imageInfo","fallback","movable","onClose","visible","icons","rootClassName","closeIcon","getContainer","current","count","countRender","scaleStep","minScale","maxScale","transitionName","maskTransitionName","imageRender","imgCommonProps","toolbarRender","onTransform","onChange"],XP=function(t){var a=t.fallback,o=t.src,f=t.imgRef,y=(0,de.Z)(t,GP),C=J2({src:o,fallback:a}),w=(0,Re.Z)(C,2),I=w[0],D=w[1];return s.createElement("img",(0,We.Z)({ref:function(z){f.current=z,I(z)}},y,D))},YP=function(t){var a=t.prefixCls,o=t.src,f=t.alt,y=t.imageInfo,C=t.fallback,w=t.movable,I=w===void 0?!0:w,D=t.onClose,L=t.visible,z=t.icons,k=z===void 0?{}:z,Z=t.rootClassName,j=t.closeIcon,G=t.getContainer,H=t.current,X=H===void 0?0:H,ne=t.count,oe=ne===void 0?1:ne,ae=t.countRender,ie=t.scaleStep,le=ie===void 0?.5:ie,fe=t.minScale,me=fe===void 0?1:fe,ge=t.maxScale,be=ge===void 0?50:ge,Ie=t.transitionName,Oe=Ie===void 0?"zoom":Ie,Te=t.maskTransitionName,Ve=Te===void 0?"fade":Te,De=t.imageRender,Ue=t.imgCommonProps,ke=t.toolbarRender,st=t.onTransform,ct=t.onChange,Et=(0,de.Z)(t,KP),It=(0,s.useRef)(),Ct=(0,s.useContext)(E_),mt=Ct&&oe>1,bt=Ct&&oe>=1,zt=(0,s.useState)(!0),$t=(0,Re.Z)(zt,2),Ht=$t[0],Mt=$t[1],Cn=jP(It,me,be,st),Hn=Cn.transform,pn=Cn.resetTransform,Dn=Cn.updateTransform,Qt=Cn.dispatchZoomChange,Ft=VP(It,I,L,le,Hn,Dn,Qt),kn=Ft.isMoving,Pn=Ft.onMouseDown,Dr=Ft.onWheel,br=WP(It,I,L,me,Hn,Dn,Qt),or=br.isTouching,ar=br.onTouchStart,Fn=br.onTouchMove,sr=br.onTouchEnd,Gr=Hn.rotate,yi=Hn.scale,Di=q()((0,pe.Z)({},"".concat(a,"-moving"),kn));(0,s.useEffect)(function(){Ht||Mt(!0)},[Ht]);var Ui=function(){pn("close")},$o=function(){Qt(fv+le,"zoomIn")},Ri=function(){Qt(fv/(fv+le),"zoomOut")},mi=function(){Dn({rotate:Gr+90},"rotateRight")},Pi=function(){Dn({rotate:Gr-90},"rotateLeft")},ao=function(){Dn({flipX:!Hn.flipX},"flipX")},ki=function(){Dn({flipY:!Hn.flipY},"flipY")},Ao=function(){pn("reset")},Cr=function(go){var ra=X+go;!Number.isInteger(ra)||ra<0||ra>oe-1||(Mt(!1),pn(go<0?"prev":"next"),ct==null||ct(ra,X))},ur=function(go){!L||!mt||(go.keyCode===nt.Z.LEFT?Cr(-1):go.keyCode===nt.Z.RIGHT&&Cr(1))},Tr=function(go){L&&(yi!==1?Dn({x:0,y:0,scale:1},"doubleClick"):Qt(fv+le,"doubleClick",go.clientX,go.clientY))};(0,s.useEffect)(function(){var ji=Jp(window,"keydown",ur,!1);return function(){ji.remove()}},[L,mt,X]);var qn=s.createElement(XP,(0,We.Z)({},Ue,{width:t.width,height:t.height,imgRef:It,className:"".concat(a,"-img"),alt:f,style:{transform:"translate3d(".concat(Hn.x,"px, ").concat(Hn.y,"px, 0) scale3d(").concat(Hn.flipX?"-":"").concat(yi,", ").concat(Hn.flipY?"-":"").concat(yi,", 1) rotate(").concat(Gr,"deg)"),transitionDuration:(!Ht||or)&&"0s"},fallback:C,src:o,onWheel:Dr,onMouseDown:Pn,onDoubleClick:Tr,onTouchStart:ar,onTouchMove:Fn,onTouchEnd:sr,onTouchCancel:sr})),pi=(0,Y.Z)({url:o,alt:f},y);return s.createElement(s.Fragment,null,s.createElement(yc,(0,We.Z)({transitionName:Oe,maskTransitionName:Ve,closable:!1,keyboard:!0,prefixCls:a,onClose:D,visible:L,classNames:{wrapper:Di},rootClassName:Z,getContainer:G},Et,{afterClose:Ui}),s.createElement("div",{className:"".concat(a,"-img-wrapper")},De?De(qn,(0,Y.Z)({transform:Hn,image:pi},Ct?{current:X}:{})):qn)),s.createElement(kP,{visible:L,transform:Hn,maskTransitionName:Ve,closeIcon:j,getContainer:G,prefixCls:a,rootClassName:Z,icons:k,countRender:ae,showSwitch:mt,showProgress:bt,current:X,count:oe,scale:yi,minScale:me,maxScale:be,toolbarRender:ke,onActive:Cr,onZoomIn:$o,onZoomOut:Ri,onRotateRight:mi,onRotateLeft:Pi,onFlipX:ao,onFlipY:ki,onClose:D,onReset:Ao,zIndex:Et.zIndex!==void 0?Et.zIndex+1:void 0,image:pi}))},Q2=YP,FS=["crossOrigin","decoding","draggable","loading","referrerPolicy","sizes","srcSet","useMap","alt"];function qP(e){var t=s.useState({}),a=(0,Re.Z)(t,2),o=a[0],f=a[1],y=s.useCallback(function(w,I){return f(function(D){return(0,Y.Z)((0,Y.Z)({},D),{},(0,pe.Z)({},w,I))}),function(){f(function(D){var L=(0,Y.Z)({},D);return delete L[w],L})}},[]),C=s.useMemo(function(){return e?e.map(function(w){if(typeof w=="string")return{data:{src:w}};var I={};return Object.keys(w).forEach(function(D){["src"].concat((0,xe.Z)(FS)).includes(D)&&(I[D]=w[D])}),{data:I}}):Object.keys(o).reduce(function(w,I){var D=o[I],L=D.canPreview,z=D.data;return L&&w.push({data:z,id:I}),w},[])},[e,o]);return[C,y,!!e]}var JP=["visible","onVisibleChange","getContainer","current","movable","minScale","maxScale","countRender","closeIcon","onChange","onTransform","toolbarRender","imageRender"],QP=["src"],eO=function(t){var a,o=t.previewPrefixCls,f=o===void 0?"rc-image-preview":o,y=t.children,C=t.icons,w=C===void 0?{}:C,I=t.items,D=t.preview,L=t.fallback,z=(0,et.Z)(D)==="object"?D:{},k=z.visible,Z=z.onVisibleChange,j=z.getContainer,G=z.current,H=z.movable,X=z.minScale,ne=z.maxScale,oe=z.countRender,ae=z.closeIcon,ie=z.onChange,le=z.onTransform,fe=z.toolbarRender,me=z.imageRender,ge=(0,de.Z)(z,JP),be=qP(I),Ie=(0,Re.Z)(be,3),Oe=Ie[0],Te=Ie[1],Ve=Ie[2],De=(0,Fs.Z)(0,{value:G}),Ue=(0,Re.Z)(De,2),ke=Ue[0],st=Ue[1],ct=(0,s.useState)(!1),Et=(0,Re.Z)(ct,2),It=Et[0],Ct=Et[1],mt=((a=Oe[ke])===null||a===void 0?void 0:a.data)||{},bt=mt.src,zt=(0,de.Z)(mt,QP),$t=(0,Fs.Z)(!!k,{value:k,onChange:function(or,ar){Z==null||Z(or,ar,ke)}}),Ht=(0,Re.Z)($t,2),Mt=Ht[0],Cn=Ht[1],Hn=(0,s.useState)(null),pn=(0,Re.Z)(Hn,2),Dn=pn[0],Qt=pn[1],Ft=s.useCallback(function(br,or,ar,Fn){var sr=Ve?Oe.findIndex(function(Gr){return Gr.data.src===or}):Oe.findIndex(function(Gr){return Gr.id===br});st(sr<0?0:sr),Cn(!0),Qt({x:ar,y:Fn}),Ct(!0)},[Oe,Ve]);s.useEffect(function(){Mt?It||st(0):Ct(!1)},[Mt]);var kn=function(or,ar){st(or),ie==null||ie(or,ar)},Pn=function(){Cn(!1),Qt(null)},Dr=s.useMemo(function(){return{register:Te,onPreview:Ft}},[Te,Ft]);return s.createElement(E_.Provider,{value:Dr},y,s.createElement(Q2,(0,We.Z)({"aria-hidden":!Mt,movable:H,visible:Mt,prefixCls:f,closeIcon:ae,onClose:Pn,mousePosition:Dn,imgCommonProps:zt,src:bt,fallback:L,icons:w,minScale:X,maxScale:ne,getContainer:j,current:ke,count:Oe.length,countRender:oe,onTransform:le,toolbarRender:fe,imageRender:me,onChange:kn},ge)))},tO=eO,eE=0;function nO(e,t){var a=s.useState(function(){return eE+=1,String(eE)}),o=(0,Re.Z)(a,1),f=o[0],y=s.useContext(E_),C={data:t,canPreview:e};return s.useEffect(function(){if(y)return y.register(f,C)},[]),s.useEffect(function(){y&&y.register(f,C)},[e,t]),f}var rO=["src","alt","onPreviewClose","prefixCls","previewPrefixCls","placeholder","fallback","width","height","style","preview","className","onClick","onError","wrapperClassName","wrapperStyle","rootClassName"],iO=["src","visible","onVisibleChange","getContainer","mask","maskClassName","movable","icons","scaleStep","minScale","maxScale","imageRender","toolbarRender"],tE=function(t){var a=t.src,o=t.alt,f=t.onPreviewClose,y=t.prefixCls,C=y===void 0?"rc-image":y,w=t.previewPrefixCls,I=w===void 0?"".concat(C,"-preview"):w,D=t.placeholder,L=t.fallback,z=t.width,k=t.height,Z=t.style,j=t.preview,G=j===void 0?!0:j,H=t.className,X=t.onClick,ne=t.onError,oe=t.wrapperClassName,ae=t.wrapperStyle,ie=t.rootClassName,le=(0,de.Z)(t,rO),fe=D&&D!==!0,me=(0,et.Z)(G)==="object"?G:{},ge=me.src,be=me.visible,Ie=be===void 0?void 0:be,Oe=me.onVisibleChange,Te=Oe===void 0?f:Oe,Ve=me.getContainer,De=Ve===void 0?void 0:Ve,Ue=me.mask,ke=me.maskClassName,st=me.movable,ct=me.icons,Et=me.scaleStep,It=me.minScale,Ct=me.maxScale,mt=me.imageRender,bt=me.toolbarRender,zt=(0,de.Z)(me,iO),$t=ge!=null?ge:a,Ht=(0,Fs.Z)(!!Ie,{value:Ie,onChange:Te}),Mt=(0,Re.Z)(Ht,2),Cn=Mt[0],Hn=Mt[1],pn=J2({src:a,isCustomPlaceholder:fe,fallback:L}),Dn=(0,Re.Z)(pn,3),Qt=Dn[0],Ft=Dn[1],kn=Dn[2],Pn=(0,s.useState)(null),Dr=(0,Re.Z)(Pn,2),br=Dr[0],or=Dr[1],ar=(0,s.useContext)(E_),Fn=!!G,sr=function(){Hn(!1),or(null)},Gr=q()(C,oe,ie,(0,pe.Z)({},"".concat(C,"-error"),kn==="error")),yi=(0,s.useMemo)(function(){var Ri={};return FS.forEach(function(mi){t[mi]!==void 0&&(Ri[mi]=t[mi])}),Ri},FS.map(function(Ri){return t[Ri]})),Di=(0,s.useMemo)(function(){return(0,Y.Z)((0,Y.Z)({},yi),{},{src:$t})},[$t,yi]),Ui=nO(Fn,Di),$o=function(mi){var Pi=BP(mi.target),ao=Pi.left,ki=Pi.top;ar?ar.onPreview(Ui,$t,ao,ki):(or({x:ao,y:ki}),Hn(!0)),X==null||X(mi)};return s.createElement(s.Fragment,null,s.createElement("div",(0,We.Z)({},le,{className:Gr,onClick:Fn?$o:X,style:(0,Y.Z)({width:z,height:k},ae)}),s.createElement("img",(0,We.Z)({},yi,{className:q()("".concat(C,"-img"),(0,pe.Z)({},"".concat(C,"-img-placeholder"),D===!0),H),style:(0,Y.Z)({height:k},Z),ref:Qt},Ft,{width:z,height:k,onError:ne})),kn==="loading"&&s.createElement("div",{"aria-hidden":"true",className:"".concat(C,"-placeholder")},D),Ue&&Fn&&s.createElement("div",{className:q()("".concat(C,"-mask"),ke),style:{display:(Z==null?void 0:Z.display)==="none"?"none":void 0}},Ue)),!ar&&Fn&&s.createElement(Q2,(0,We.Z)({"aria-hidden":!Cn,visible:Cn,prefixCls:I,onClose:sr,mousePosition:br,src:$t,alt:o,imageInfo:{width:z,height:k},fallback:L,getContainer:De,icons:ct,movable:st,scaleStep:Et,minScale:It,maxScale:Ct,rootClassName:ie,imageRender:mt,imgCommonProps:yi,toolbarRender:bt},zt)))};tE.PreviewGroup=tO;var oO=tE,nE=oO,aO={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M672 418H144c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H188V494h440v326z"}},{tag:"path",attrs:{d:"M819.3 328.5c-78.8-100.7-196-153.6-314.6-154.2l-.2-64c0-6.5-7.6-10.1-12.6-6.1l-128 101c-4 3.1-3.9 9.1 0 12.3L492 318.6c5.1 4 12.7.4 12.6-6.1v-63.9c12.9.1 25.9.9 38.8 2.5 42.1 5.2 82.1 18.2 119 38.7 38.1 21.2 71.2 49.7 98.4 84.3 27.1 34.7 46.7 73.7 58.1 115.8a325.95 325.95 0 016.5 140.9h74.9c14.8-103.6-11.3-213-81-302.3z"}}]},name:"rotate-left",theme:"outlined"},sO=aO,lO=function(t,a){return s.createElement(Kt.Z,(0,We.Z)({},t,{ref:a,icon:sO}))},cO=s.forwardRef(lO),uO=cO,dO={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M480.5 251.2c13-1.6 25.9-2.4 38.8-2.5v63.9c0 6.5 7.5 10.1 12.6 6.1L660 217.6c4-3.2 4-9.2 0-12.3l-128-101c-5.1-4-12.6-.4-12.6 6.1l-.2 64c-118.6.5-235.8 53.4-314.6 154.2A399.75 399.75 0 00123.5 631h74.9c-.9-5.3-1.7-10.7-2.4-16.1-5.1-42.1-2.1-84.1 8.9-124.8 11.4-42.2 31-81.1 58.1-115.8 27.2-34.7 60.3-63.2 98.4-84.3 37-20.6 76.9-33.6 119.1-38.8z"}},{tag:"path",attrs:{d:"M880 418H352c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H396V494h440v326z"}}]},name:"rotate-right",theme:"outlined"},fO=dO,hO=function(t,a){return s.createElement(Kt.Z,(0,We.Z)({},t,{ref:a,icon:fO}))},pO=s.forwardRef(hO),mO=pO,gO={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M847.9 592H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h605.2L612.9 851c-4.1 5.2-.4 13 6.3 13h72.5c4.9 0 9.5-2.2 12.6-6.1l168.8-214.1c16.5-21 1.6-51.8-25.2-51.8zM872 356H266.8l144.3-183c4.1-5.2.4-13-6.3-13h-72.5c-4.9 0-9.5 2.2-12.6 6.1L150.9 380.2c-16.5 21-1.6 51.8 25.1 51.8h696c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"swap",theme:"outlined"},vO=gO,yO=function(t,a){return s.createElement(Kt.Z,(0,We.Z)({},t,{ref:a,icon:vO}))},_O=s.forwardRef(yO),rE=_O,bO={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M637 443H519V309c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v134H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h118v134c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V519h118c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"}}]},name:"zoom-in",theme:"outlined"},xO=bO,CO=function(t,a){return s.createElement(Kt.Z,(0,We.Z)({},t,{ref:a,icon:xO}))},SO=s.forwardRef(CO),wO=SO,EO={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M637 443H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h312c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"}}]},name:"zoom-out",theme:"outlined"},IO=EO,TO=function(t,a){return s.createElement(Kt.Z,(0,We.Z)({},t,{ref:a,icon:IO}))},MO=s.forwardRef(TO),PO=MO;const kS=e=>({position:e||"absolute",inset:0}),OO=e=>{const{iconCls:t,motionDurationSlow:a,paddingXXS:o,marginXXS:f,prefixCls:y,colorTextLightSolid:C}=e;return{position:"absolute",inset:0,display:"flex",alignItems:"center",justifyContent:"center",color:C,background:new Sl.t("#000").setA(.5).toRgbString(),cursor:"pointer",opacity:0,transition:`opacity ${a}`,[`.${y}-mask-info`]:Object.assign(Object.assign({},Jt.vS),{padding:`0 ${(0,he.bf)(o)}`,[t]:{marginInlineEnd:f,svg:{verticalAlign:"baseline"}}})}},RO=e=>{const{previewCls:t,modalMaskBg:a,paddingSM:o,marginXL:f,margin:y,paddingLG:C,previewOperationColorDisabled:w,previewOperationHoverColor:I,motionDurationSlow:D,iconCls:L,colorTextLightSolid:z}=e,k=new Sl.t(a).setA(.1),Z=k.clone().setA(.2);return{[`${t}-footer`]:{position:"fixed",bottom:f,left:{_skip_check_:!0,value:"50%"},display:"flex",flexDirection:"column",alignItems:"center",color:e.previewOperationColor,transform:"translateX(-50%)"},[`${t}-progress`]:{marginBottom:y},[`${t}-close`]:{position:"fixed",top:f,right:{_skip_check_:!0,value:f},display:"flex",color:z,backgroundColor:k.toRgbString(),borderRadius:"50%",padding:o,outline:0,border:0,cursor:"pointer",transition:`all ${D}`,"&:hover":{backgroundColor:Z.toRgbString()},[`& > ${L}`]:{fontSize:e.previewOperationSize}},[`${t}-operations`]:{display:"flex",alignItems:"center",padding:`0 ${(0,he.bf)(C)}`,backgroundColor:k.toRgbString(),borderRadius:100,"&-operation":{marginInlineStart:o,padding:o,cursor:"pointer",transition:`all ${D}`,userSelect:"none",[`&:not(${t}-operations-operation-disabled):hover > ${L}`]:{color:I},"&-disabled":{color:w,cursor:"not-allowed"},"&:first-of-type":{marginInlineStart:0},[`& > ${L}`]:{fontSize:e.previewOperationSize}}}}},$O=e=>{const{modalMaskBg:t,iconCls:a,previewOperationColorDisabled:o,previewCls:f,zIndexPopup:y,motionDurationSlow:C}=e,w=new Sl.t(t).setA(.1),I=w.clone().setA(.2);return{[`${f}-switch-left, ${f}-switch-right`]:{position:"fixed",insetBlockStart:"50%",zIndex:e.calc(y).add(1).equal(),display:"flex",alignItems:"center",justifyContent:"center",width:e.imagePreviewSwitchSize,height:e.imagePreviewSwitchSize,marginTop:e.calc(e.imagePreviewSwitchSize).mul(-1).div(2).equal(),color:e.previewOperationColor,background:w.toRgbString(),borderRadius:"50%",transform:"translateY(-50%)",cursor:"pointer",transition:`all ${C}`,userSelect:"none","&:hover":{background:I.toRgbString()},"&-disabled":{"&, &:hover":{color:o,background:"transparent",cursor:"not-allowed",[`> ${a}`]:{cursor:"not-allowed"}}},[`> ${a}`]:{fontSize:e.previewOperationSize}},[`${f}-switch-left`]:{insetInlineStart:e.marginSM},[`${f}-switch-right`]:{insetInlineEnd:e.marginSM}}},AO=e=>{const{motionEaseOut:t,previewCls:a,motionDurationSlow:o,componentCls:f}=e;return[{[`${f}-preview-root`]:{[a]:{height:"100%",textAlign:"center",pointerEvents:"none"},[`${a}-body`]:Object.assign(Object.assign({},kS()),{overflow:"hidden"}),[`${a}-img`]:{maxWidth:"100%",maxHeight:"70%",verticalAlign:"middle",transform:"scale3d(1, 1, 1)",cursor:"grab",transition:`transform ${o} ${t} 0s`,userSelect:"none","&-wrapper":Object.assign(Object.assign({},kS()),{transition:`transform ${o} ${t} 0s`,display:"flex",justifyContent:"center",alignItems:"center","& > *":{pointerEvents:"auto"},"&::before":{display:"inline-block",width:1,height:"50%",marginInlineEnd:-1,content:'""'}})},[`${a}-moving`]:{[`${a}-preview-img`]:{cursor:"grabbing","&-wrapper":{transitionDuration:"0s"}}}}},{[`${f}-preview-root`]:{[`${a}-wrap`]:{zIndex:e.zIndexPopup}}},{[`${f}-preview-operations-wrapper`]:{position:"fixed",zIndex:e.calc(e.zIndexPopup).add(1).equal()},"&":[RO(e),$O(e)]}]},DO=e=>{const{componentCls:t}=e;return{[t]:{position:"relative",display:"inline-block",[`${t}-img`]:{width:"100%",height:"auto",verticalAlign:"middle"},[`${t}-img-placeholder`]:{backgroundColor:e.colorBgContainerDisabled,backgroundImage:"url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNMTQuNSAyLjVoLTEzQS41LjUgMCAwIDAgMSAzdjEwYS41LjUgMCAwIDAgLjUuNWgxM2EuNS41IDAgMCAwIC41LS41VjNhLjUuNSAwIDAgMC0uNS0uNXpNNS4yODEgNC43NWExIDEgMCAwIDEgMCAyIDEgMSAwIDAgMSAwLTJ6bTguMDMgNi44M2EuMTI3LjEyNyAwIDAgMS0uMDgxLjAzSDIuNzY5YS4xMjUuMTI1IDAgMCAxLS4wOTYtLjIwN2wyLjY2MS0zLjE1NmEuMTI2LjEyNiAwIDAgMSAuMTc3LS4wMTZsLjAxNi4wMTZMNy4wOCAxMC4wOWwyLjQ3LTIuOTNhLjEyNi4xMjYgMCAwIDEgLjE3Ny0uMDE2bC4wMTUuMDE2IDMuNTg4IDQuMjQ0YS4xMjcuMTI3IDAgMCAxLS4wMi4xNzV6IiBmaWxsPSIjOEM4QzhDIiBmaWxsLXJ1bGU9Im5vbnplcm8iLz48L3N2Zz4=')",backgroundRepeat:"no-repeat",backgroundPosition:"center center",backgroundSize:"30%"},[`${t}-mask`]:Object.assign({},OO(e)),[`${t}-mask:hover`]:{opacity:1},[`${t}-placeholder`]:Object.assign({},kS())}}},LO=e=>{const{previewCls:t}=e;return{[`${t}-root`]:(0,ou._y)(e,"zoom"),"&":iu(e,!0)}},zO=e=>({zIndexPopup:e.zIndexPopupBase+80,previewOperationColor:new Sl.t(e.colorTextLightSolid).setA(.65).toRgbString(),previewOperationHoverColor:new Sl.t(e.colorTextLightSolid).setA(.85).toRgbString(),previewOperationColorDisabled:new Sl.t(e.colorTextLightSolid).setA(.25).toRgbString(),previewOperationSize:e.fontSizeIcon*1.5});var iE=(0,te.I$)("Image",e=>{const t=`${e.componentCls}-preview`,a=(0,Qr.IX)(e,{previewCls:t,modalMaskBg:new Sl.t("#000").setA(.45).toRgbString(),imagePreviewSwitchSize:e.controlHeightLG});return[DO(a),AO(a),dd((0,Qr.IX)(a,{componentCls:t})),LO(a)]},zO),NO=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a};const oE={rotateLeft:s.createElement(uO,null),rotateRight:s.createElement(mO,null),zoomIn:s.createElement(wO,null),zoomOut:s.createElement(PO,null),close:s.createElement(cr.Z,null),left:s.createElement(Qc,null),right:s.createElement(yu.Z,null),flipX:s.createElement(rE,null),flipY:s.createElement(rE,{rotate:90})};var BO=e=>{var{previewPrefixCls:t,preview:a}=e,o=NO(e,["previewPrefixCls","preview"]);const{getPrefixCls:f}=s.useContext(ye.E_),y=f("image",t),C=`${y}-preview`,w=f(),I=(0,Un.Z)(y),[D,L,z]=iE(y,I),[k]=(0,qt.Cn)("ImagePreview",typeof a=="object"?a.zIndex:void 0),Z=s.useMemo(()=>{var j;if(a===!1)return a;const G=typeof a=="object"?a:{},H=q()(L,z,I,(j=G.rootClassName)!==null&&j!==void 0?j:"");return Object.assign(Object.assign({},G),{transitionName:(0,Tt.m)(w,"zoom",G.transitionName),maskTransitionName:(0,Tt.m)(w,"fade",G.maskTransitionName),rootClassName:H,zIndex:k})},[a]);return D(s.createElement(nE.PreviewGroup,Object.assign({preview:Z,previewPrefixCls:C,icons:oE},o)))},aE=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a};const sE=e=>{const{prefixCls:t,preview:a,className:o,rootClassName:f,style:y}=e,C=aE(e,["prefixCls","preview","className","rootClassName","style"]),{getPrefixCls:w,getPopupContainer:I,className:D,style:L,preview:z}=(0,ye.dj)("image"),[k]=(0,In.Z)("Image"),Z=w("image",t),j=w(),G=(0,Un.Z)(Z),[H,X,ne]=iE(Z,G),oe=q()(f,X,ne,G),ae=q()(o,X,D),[ie]=(0,qt.Cn)("ImagePreview",typeof a=="object"?a.zIndex:void 0),le=s.useMemo(()=>{if(a===!1)return a;const me=typeof a=="object"?a:{},{getContainer:ge,closeIcon:be,rootClassName:Ie}=me,Oe=aE(me,["getContainer","closeIcon","rootClassName"]);return Object.assign(Object.assign({mask:s.createElement("div",{className:`${Z}-mask-info`},s.createElement(NS,null),k==null?void 0:k.preview),icons:oE},Oe),{rootClassName:q()(oe,Ie),getContainer:ge!=null?ge:I,transitionName:(0,Tt.m)(j,"zoom",me.transitionName),maskTransitionName:(0,Tt.m)(j,"fade",me.maskTransitionName),zIndex:ie,closeIcon:be!=null?be:z==null?void 0:z.closeIcon})},[a,k,z==null?void 0:z.closeIcon]),fe=Object.assign(Object.assign({},L),y);return H(s.createElement(nE,Object.assign({prefixCls:Z,preview:le,rootClassName:oe,className:ae,style:fe},C)))};sE.PreviewGroup=BO;var FO=sE,kO=e=>{const{getPrefixCls:t,direction:a}=(0,s.useContext)(ye.E_),{prefixCls:o,className:f}=e,y=t("input-group",o),C=t("input"),[w,I,D]=(0,sl.ZP)(C),L=q()(y,D,{[`${y}-lg`]:e.size==="large",[`${y}-sm`]:e.size==="small",[`${y}-compact`]:e.compact,[`${y}-rtl`]:a==="rtl"},I,f),z=(0,s.useContext)($c.aM),k=(0,s.useMemo)(()=>Object.assign(Object.assign({},z),{isFormItemInput:!1}),[z]);return w(s.createElement("span",{className:L,style:e.style,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,onFocus:e.onFocus,onBlur:e.onBlur},s.createElement($c.aM.Provider,{value:k},e.children)))},hv=F(58793);const jO=e=>{const{componentCls:t,paddingXS:a}=e;return{[t]:{display:"inline-flex",alignItems:"center",flexWrap:"nowrap",columnGap:a,"&-rtl":{direction:"rtl"},[`${t}-input`]:{textAlign:"center",paddingInline:e.paddingXXS},[`&${t}-sm ${t}-input`]:{paddingInline:e.calc(e.paddingXXS).div(2).equal()},[`&${t}-lg ${t}-input`]:{paddingInline:e.paddingXS}}}};var ZO=(0,te.I$)(["Input","OTP"],e=>{const t=(0,Qr.IX)(e,(0,Cu.e)(e));return[jO(t)]},Cu.T),VO=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a},HO=s.forwardRef((e,t)=>{const{value:a,onChange:o,onActiveChange:f,index:y,mask:C}=e,w=VO(e,["value","onChange","onActiveChange","index","mask"]),I=a&&typeof C=="string"?C:a,D=j=>{o(y,j.target.value)},L=s.useRef(null);s.useImperativeHandle(t,()=>L.current);const z=()=>{(0,Ge.Z)(()=>{var j;const G=(j=L.current)===null||j===void 0?void 0:j.input;document.activeElement===G&&G&&G.select()})},k=j=>{const{key:G,ctrlKey:H,metaKey:X}=j;G==="ArrowLeft"?f(y-1):G==="ArrowRight"?f(y+1):G==="z"&&(H||X)&&j.preventDefault(),z()},Z=j=>{j.key==="Backspace"&&!a&&f(y-1),z()};return s.createElement(hv.Z,Object.assign({type:C===!0?"password":"text"},w,{ref:L,value:I,onInput:D,onFocus:z,onKeyDown:k,onKeyUp:Z,onMouseDown:z,onMouseUp:z}))}),UO=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a};function Mx(e){return(e||"").split("")}const WO=e=>{const{index:t,prefixCls:a,separator:o}=e,f=typeof o=="function"?o(t):o;return f?s.createElement("span",{className:`${a}-separator`},f):null};var GO=s.forwardRef((e,t)=>{const{prefixCls:a,length:o=6,size:f,defaultValue:y,value:C,onChange:w,formatter:I,separator:D,variant:L,disabled:z,status:k,autoFocus:Z,mask:j,type:G,onInput:H,inputMode:X}=e,ne=UO(e,["prefixCls","length","size","defaultValue","value","onChange","formatter","separator","variant","disabled","status","autoFocus","mask","type","onInput","inputMode"]),{getPrefixCls:oe,direction:ae}=s.useContext(ye.E_),ie=oe("otp",a),le=(0,ut.Z)(ne,{aria:!0,data:!0,attr:!0}),[fe,me,ge]=ZO(ie),be=(0,xr.Z)(bt=>f!=null?f:bt),Ie=s.useContext($c.aM),Oe=(0,Fc.F)(Ie.status,k),Te=s.useMemo(()=>Object.assign(Object.assign({},Ie),{status:Oe,hasFeedback:!1,feedbackIcon:null}),[Ie,Oe]),Ve=s.useRef(null),De=s.useRef({});s.useImperativeHandle(t,()=>({focus:()=>{var bt;(bt=De.current[0])===null||bt===void 0||bt.focus()},blur:()=>{var bt;for(let zt=0;zt<o;zt+=1)(bt=De.current[zt])===null||bt===void 0||bt.blur()},nativeElement:Ve.current}));const Ue=bt=>I?I(bt):bt,[ke,st]=s.useState(()=>Mx(Ue(y||"")));s.useEffect(()=>{C!==void 0&&st(Mx(C))},[C]);const ct=(0,yr.Z)(bt=>{st(bt),H&&H(bt),w&&bt.length===o&&bt.every(zt=>zt)&&bt.some((zt,$t)=>ke[$t]!==zt)&&w(bt.join(""))}),Et=(0,yr.Z)((bt,zt)=>{let $t=(0,xe.Z)(ke);for(let Mt=0;Mt<bt;Mt+=1)$t[Mt]||($t[Mt]="");zt.length<=1?$t[bt]=zt:$t=$t.slice(0,bt).concat(Mx(zt)),$t=$t.slice(0,o);for(let Mt=$t.length-1;Mt>=0&&!$t[Mt];Mt-=1)$t.pop();const Ht=Ue($t.map(Mt=>Mt||" ").join(""));return $t=Mx(Ht).map((Mt,Cn)=>Mt===" "&&!$t[Cn]?$t[Cn]:Mt),$t}),It=(bt,zt)=>{var $t;const Ht=Et(bt,zt),Mt=Math.min(bt+zt.length,o-1);Mt!==bt&&Ht[bt]!==void 0&&(($t=De.current[Mt])===null||$t===void 0||$t.focus()),ct(Ht)},Ct=bt=>{var zt;(zt=De.current[bt])===null||zt===void 0||zt.focus()},mt={variant:L,disabled:z,status:Oe,mask:j,type:G,inputMode:X};return fe(s.createElement("div",Object.assign({},le,{ref:Ve,className:q()(ie,{[`${ie}-sm`]:be==="small",[`${ie}-lg`]:be==="large",[`${ie}-rtl`]:ae==="rtl"},ge,me)}),s.createElement($c.aM.Provider,{value:Te},Array.from({length:o}).map((bt,zt)=>{const $t=`otp-${zt}`,Ht=ke[zt]||"";return s.createElement(s.Fragment,{key:$t},s.createElement(HO,Object.assign({ref:Mt=>{De.current[zt]=Mt},index:zt,size:be,htmlSize:1,className:`${ie}-input`,onChange:It,value:Ht,onActiveChange:Ct,autoFocus:zt===0&&Z},mt)),zt<o-1&&s.createElement(WO,{separator:D,index:zt,prefixCls:ie}))}))))}),KO={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2Q889.47 375.11 816.7 305l-50.88 50.88C807.31 395.53 843.45 447.4 874.7 512 791.5 684.2 673.4 766 512 766q-72.67 0-133.87-22.38L323 798.75Q408 838 512 838q288.3 0 430.2-300.3a60.29 60.29 0 000-51.5zm-63.57-320.64L836 122.88a8 8 0 00-11.32 0L715.31 232.2Q624.86 186 512 186q-288.3 0-430.2 300.3a60.3 60.3 0 000 51.5q56.69 119.4 136.5 191.41L112.48 835a8 8 0 000 11.31L155.17 889a8 8 0 0011.31 0l712.15-712.12a8 8 0 000-11.32zM149.3 512C232.6 339.8 350.7 258 512 258c54.54 0 104.13 9.36 149.12 28.39l-70.3 70.3a176 176 0 00-238.13 238.13l-83.42 83.42C223.1 637.49 183.3 582.28 149.3 512zm246.7 0a112.11 112.11 0 01146.2-106.69L401.31 546.2A112 112 0 01396 512z"}},{tag:"path",attrs:{d:"M508 624c-3.46 0-6.87-.16-10.25-.47l-52.82 52.82a176.09 176.09 0 00227.42-227.42l-52.82 52.82c.31 3.38.47 6.79.47 10.25a111.94 111.94 0 01-112 112z"}}]},name:"eye-invisible",theme:"outlined"},XO=KO,YO=function(t,a){return s.createElement(Kt.Z,(0,We.Z)({},t,{ref:a,icon:XO}))},qO=s.forwardRef(YO),JO=qO,QO=F(81391),e3=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a};const t3=e=>e?s.createElement(NS,null):s.createElement(JO,null),n3={click:"onClick",hover:"onMouseOver"};var r3=s.forwardRef((e,t)=>{const{disabled:a,action:o="click",visibilityToggle:f=!0,iconRender:y=t3}=e,C=s.useContext(to.Z),w=a!=null?a:C,I=typeof f=="object"&&f.visible!==void 0,[D,L]=(0,s.useState)(()=>I?f.visible:!1),z=(0,s.useRef)(null);s.useEffect(()=>{I&&L(f.visible)},[I,f]);const k=(0,QO.Z)(z),Z=()=>{var be;if(w)return;D&&k();const Ie=!D;L(Ie),typeof f=="object"&&((be=f.onVisibleChange)===null||be===void 0||be.call(f,Ie))},j=be=>{const Ie=n3[o]||"",Oe=y(D),Te={[Ie]:Z,className:`${be}-icon`,key:"passwordIcon",onMouseDown:Ve=>{Ve.preventDefault()},onMouseUp:Ve=>{Ve.preventDefault()}};return s.cloneElement(s.isValidElement(Oe)?Oe:s.createElement("span",null,Oe),Te)},{className:G,prefixCls:H,inputPrefixCls:X,size:ne}=e,oe=e3(e,["className","prefixCls","inputPrefixCls","size"]),{getPrefixCls:ae}=s.useContext(ye.E_),ie=ae("input",X),le=ae("input-password",H),fe=f&&j(le),me=q()(le,G,{[`${le}-${ne}`]:!!ne}),ge=Object.assign(Object.assign({},(0,fr.Z)(oe,["suffix","iconRender","visibilityToggle"])),{type:D?"text":"password",className:me,prefixCls:ie,suffix:fe});return ne&&(ge.size=ne),s.createElement(hv.Z,Object.assign({ref:(0,Yt.sQ)(t,z)},ge))}),jS=F(17023),i3=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a},o3=s.forwardRef((e,t)=>{const{prefixCls:a,inputPrefixCls:o,className:f,size:y,suffix:C,enterButton:w=!1,addonAfter:I,loading:D,disabled:L,onSearch:z,onChange:k,onCompositionStart:Z,onCompositionEnd:j}=e,G=i3(e,["prefixCls","inputPrefixCls","className","size","suffix","enterButton","addonAfter","loading","disabled","onSearch","onChange","onCompositionStart","onCompositionEnd"]),{getPrefixCls:H,direction:X}=s.useContext(ye.E_),ne=s.useRef(!1),oe=H("input-search",a),ae=H("input",o),{compactSize:ie}=(0,Vi.ri)(oe,X),le=(0,xr.Z)(It=>{var Ct;return(Ct=y!=null?y:ie)!==null&&Ct!==void 0?Ct:It}),fe=s.useRef(null),me=It=>{It!=null&&It.target&&It.type==="click"&&z&&z(It.target.value,It,{source:"clear"}),k==null||k(It)},ge=It=>{var Ct;document.activeElement===((Ct=fe.current)===null||Ct===void 0?void 0:Ct.input)&&It.preventDefault()},be=It=>{var Ct,mt;z&&z((mt=(Ct=fe.current)===null||Ct===void 0?void 0:Ct.input)===null||mt===void 0?void 0:mt.value,It,{source:"input"})},Ie=It=>{ne.current||D||be(It)},Oe=typeof w=="boolean"?s.createElement(jS.Z,null):null,Te=`${oe}-button`;let Ve;const De=w||{},Ue=De.type&&De.type.__ANT_BUTTON===!0;Ue||De.type==="button"?Ve=(0,bn.Tm)(De,Object.assign({onMouseDown:ge,onClick:It=>{var Ct,mt;(mt=(Ct=De==null?void 0:De.props)===null||Ct===void 0?void 0:Ct.onClick)===null||mt===void 0||mt.call(Ct,It),be(It)},key:"enterButton"},Ue?{className:Te,size:le}:{})):Ve=s.createElement($n,{className:Te,type:w?"primary":void 0,size:le,disabled:L,key:"enterButton",onMouseDown:ge,onClick:be,loading:D,icon:Oe},w),I&&(Ve=[Ve,(0,bn.Tm)(I,{key:"addonAfter"})]);const ke=q()(oe,{[`${oe}-rtl`]:X==="rtl",[`${oe}-${le}`]:!!le,[`${oe}-with-button`]:!!w},f),st=Object.assign(Object.assign({},G),{className:ke,prefixCls:ae,type:"search"}),ct=It=>{ne.current=!0,Z==null||Z(It)},Et=It=>{ne.current=!1,j==null||j(It)};return s.createElement(hv.Z,Object.assign({ref:(0,Yt.sQ)(fe,t),onPressEnter:Ie},st,{size:le,onCompositionStart:ct,onCompositionEnd:Et,addonAfter:Ve,suffix:C,onChange:me,disabled:L}))}),lE=F(44885),a3=F(88555),ZS=F(68677),s3=`
  min-height:0 !important;
  max-height:none !important;
  height:0 !important;
  visibility:hidden !important;
  overflow:hidden !important;
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important;
  pointer-events: none !important;
`,l3=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","font-variant","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing","word-break","white-space"],VS={},od;function c3(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,a=e.getAttribute("id")||e.getAttribute("data-reactid")||e.getAttribute("name");if(t&&VS[a])return VS[a];var o=window.getComputedStyle(e),f=o.getPropertyValue("box-sizing")||o.getPropertyValue("-moz-box-sizing")||o.getPropertyValue("-webkit-box-sizing"),y=parseFloat(o.getPropertyValue("padding-bottom"))+parseFloat(o.getPropertyValue("padding-top")),C=parseFloat(o.getPropertyValue("border-bottom-width"))+parseFloat(o.getPropertyValue("border-top-width")),w=l3.map(function(D){return"".concat(D,":").concat(o.getPropertyValue(D))}).join(";"),I={sizingStyle:w,paddingSize:y,borderSize:C,boxSizing:f};return t&&a&&(VS[a]=I),I}function u3(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;od||(od=document.createElement("textarea"),od.setAttribute("tab-index","-1"),od.setAttribute("aria-hidden","true"),od.setAttribute("name","hiddenTextarea"),document.body.appendChild(od)),e.getAttribute("wrap")?od.setAttribute("wrap",e.getAttribute("wrap")):od.removeAttribute("wrap");var f=c3(e,t),y=f.paddingSize,C=f.borderSize,w=f.boxSizing,I=f.sizingStyle;od.setAttribute("style","".concat(I,";").concat(s3)),od.value=e.value||e.placeholder||"";var D=void 0,L=void 0,z,k=od.scrollHeight;if(w==="border-box"?k+=C:w==="content-box"&&(k-=y),a!==null||o!==null){od.value=" ";var Z=od.scrollHeight-y;a!==null&&(D=Z*a,w==="border-box"&&(D=D+y+C),k=Math.max(D,k)),o!==null&&(L=Z*o,w==="border-box"&&(L=L+y+C),z=k>L?"":"hidden",k=Math.min(L,k))}var j={height:k,overflowY:z,resize:"none"};return D&&(j.minHeight=D),L&&(j.maxHeight=L),j}var d3=["prefixCls","defaultValue","value","autoSize","onResize","className","style","disabled","onChange","onInternalAutoSize"],HS=0,US=1,WS=2,f3=s.forwardRef(function(e,t){var a=e,o=a.prefixCls,f=a.defaultValue,y=a.value,C=a.autoSize,w=a.onResize,I=a.className,D=a.style,L=a.disabled,z=a.onChange,k=a.onInternalAutoSize,Z=(0,de.Z)(a,d3),j=(0,Fs.Z)(f,{value:y,postState:function(zt){return zt!=null?zt:""}}),G=(0,Re.Z)(j,2),H=G[0],X=G[1],ne=function(zt){X(zt.target.value),z==null||z(zt)},oe=s.useRef();s.useImperativeHandle(t,function(){return{textArea:oe.current}});var ae=s.useMemo(function(){return C&&(0,et.Z)(C)==="object"?[C.minRows,C.maxRows]:[]},[C]),ie=(0,Re.Z)(ae,2),le=ie[0],fe=ie[1],me=!!C,ge=function(){try{if(document.activeElement===oe.current){var zt=oe.current,$t=zt.selectionStart,Ht=zt.selectionEnd,Mt=zt.scrollTop;oe.current.setSelectionRange($t,Ht),oe.current.scrollTop=Mt}}catch(Cn){}},be=s.useState(WS),Ie=(0,Re.Z)(be,2),Oe=Ie[0],Te=Ie[1],Ve=s.useState(),De=(0,Re.Z)(Ve,2),Ue=De[0],ke=De[1],st=function(){Te(HS)};(0,hl.Z)(function(){me&&st()},[y,le,fe,me]),(0,hl.Z)(function(){if(Oe===HS)Te(US);else if(Oe===US){var bt=u3(oe.current,!1,le,fe);Te(WS),ke(bt)}else ge()},[Oe]);var ct=s.useRef(),Et=function(){Ge.Z.cancel(ct.current)},It=function(zt){Oe===WS&&(w==null||w(zt),C&&(Et(),ct.current=(0,Ge.Z)(function(){st()})))};s.useEffect(function(){return Et},[]);var Ct=me?Ue:null,mt=(0,Y.Z)((0,Y.Z)({},D),Ct);return(Oe===HS||Oe===US)&&(mt.overflowY="hidden",mt.overflowX="hidden"),s.createElement(c.Z,{onResize:It,disabled:!(C||w)},s.createElement("textarea",(0,We.Z)({},Z,{ref:oe,style:mt,className:q()(o,I,(0,pe.Z)({},"".concat(o,"-disabled"),L)),disabled:L,value:H,onChange:ne})))}),h3=f3,p3=["defaultValue","value","onFocus","onBlur","onChange","allowClear","maxLength","onCompositionStart","onCompositionEnd","suffix","prefixCls","showCount","count","className","style","disabled","hidden","classNames","styles","onResize","onClear","onPressEnter","readOnly","autoSize","onKeyDown"],m3=s.forwardRef(function(e,t){var a,o=e.defaultValue,f=e.value,y=e.onFocus,C=e.onBlur,w=e.onChange,I=e.allowClear,D=e.maxLength,L=e.onCompositionStart,z=e.onCompositionEnd,k=e.suffix,Z=e.prefixCls,j=Z===void 0?"rc-textarea":Z,G=e.showCount,H=e.count,X=e.className,ne=e.style,oe=e.disabled,ae=e.hidden,ie=e.classNames,le=e.styles,fe=e.onResize,me=e.onClear,ge=e.onPressEnter,be=e.readOnly,Ie=e.autoSize,Oe=e.onKeyDown,Te=(0,de.Z)(e,p3),Ve=(0,Fs.Z)(o,{value:f,defaultValue:o}),De=(0,Re.Z)(Ve,2),Ue=De[0],ke=De[1],st=Ue==null?"":String(Ue),ct=s.useState(!1),Et=(0,Re.Z)(ct,2),It=Et[0],Ct=Et[1],mt=s.useRef(!1),bt=s.useState(null),zt=(0,Re.Z)(bt,2),$t=zt[0],Ht=zt[1],Mt=(0,s.useRef)(null),Cn=(0,s.useRef)(null),Hn=function(){var Cr;return(Cr=Cn.current)===null||Cr===void 0?void 0:Cr.textArea},pn=function(){Hn().focus()};(0,s.useImperativeHandle)(t,function(){var Ao;return{resizableTextArea:Cn.current,focus:pn,blur:function(){Hn().blur()},nativeElement:((Ao=Mt.current)===null||Ao===void 0?void 0:Ao.nativeElement)||Hn()}}),(0,s.useEffect)(function(){Ct(function(Ao){return!oe&&Ao})},[oe]);var Dn=s.useState(null),Qt=(0,Re.Z)(Dn,2),Ft=Qt[0],kn=Qt[1];s.useEffect(function(){if(Ft){var Ao;(Ao=Hn()).setSelectionRange.apply(Ao,(0,xe.Z)(Ft))}},[Ft]);var Pn=(0,a3.Z)(H,G),Dr=(a=Pn.max)!==null&&a!==void 0?a:D,br=Number(Dr)>0,or=Pn.strategy(st),ar=!!Dr&&or>Dr,Fn=function(Cr,ur){var Tr=ur;!mt.current&&Pn.exceedFormatter&&Pn.max&&Pn.strategy(ur)>Pn.max&&(Tr=Pn.exceedFormatter(ur,{max:Pn.max}),ur!==Tr&&kn([Hn().selectionStart||0,Hn().selectionEnd||0])),ke(Tr),(0,ZS.rJ)(Cr.currentTarget,Cr,w,Tr)},sr=function(Cr){mt.current=!0,L==null||L(Cr)},Gr=function(Cr){mt.current=!1,Fn(Cr,Cr.currentTarget.value),z==null||z(Cr)},yi=function(Cr){Fn(Cr,Cr.target.value)},Di=function(Cr){Cr.key==="Enter"&&ge&&ge(Cr),Oe==null||Oe(Cr)},Ui=function(Cr){Ct(!0),y==null||y(Cr)},$o=function(Cr){Ct(!1),C==null||C(Cr)},Ri=function(Cr){ke(""),pn(),(0,ZS.rJ)(Hn(),Cr,w)},mi=k,Pi;Pn.show&&(Pn.showFormatter?Pi=Pn.showFormatter({value:st,count:or,maxLength:Dr}):Pi="".concat(or).concat(br?" / ".concat(Dr):""),mi=s.createElement(s.Fragment,null,mi,s.createElement("span",{className:q()("".concat(j,"-data-count"),ie==null?void 0:ie.count),style:le==null?void 0:le.count},Pi)));var ao=function(Cr){var ur;fe==null||fe(Cr),(ur=Hn())!==null&&ur!==void 0&&ur.style.height&&Ht(!0)},ki=!Ie&&!G&&!I;return s.createElement(lE.Q,{ref:Mt,value:st,allowClear:I,handleReset:Ri,suffix:mi,prefixCls:j,classNames:(0,Y.Z)((0,Y.Z)({},ie),{},{affixWrapper:q()(ie==null?void 0:ie.affixWrapper,(0,pe.Z)((0,pe.Z)({},"".concat(j,"-show-count"),G),"".concat(j,"-textarea-allow-clear"),I))}),disabled:oe,focused:It,className:q()(X,ar&&"".concat(j,"-out-of-range")),style:(0,Y.Z)((0,Y.Z)({},ne),$t&&!ki?{height:"auto"}:{}),dataAttrs:{affixWrapper:{"data-count":typeof Pi=="string"?Pi:void 0}},hidden:ae,readOnly:be,onClear:me},s.createElement(h3,(0,We.Z)({},Te,{autoSize:Ie,maxLength:D,onKeyDown:Di,onChange:yi,onFocus:Ui,onBlur:$o,onCompositionStart:sr,onCompositionEnd:Gr,className:q()(ie==null?void 0:ie.textarea),style:(0,Y.Z)((0,Y.Z)({},le==null?void 0:le.textarea),{},{resize:ne==null?void 0:ne.resize}),disabled:oe,prefixCls:j,onResize:ao,ref:Cn,readOnly:be})))}),g3=m3,cE=g3,uE=F(93473);const v3=e=>{const{componentCls:t,paddingLG:a}=e,o=`${t}-textarea`;return{[o]:{position:"relative","&-show-count":{[`> ${t}`]:{height:"100%"},[`${t}-data-count`]:{position:"absolute",bottom:e.calc(e.fontSize).mul(e.lineHeight).mul(-1).equal(),insetInlineEnd:0,color:e.colorTextDescription,whiteSpace:"nowrap",pointerEvents:"none"}},[`
        &-allow-clear > ${t},
        &-affix-wrapper${o}-has-feedback ${t}
      `]:{paddingInlineEnd:a},[`&-affix-wrapper${t}-affix-wrapper`]:{padding:0,[`> textarea${t}`]:{fontSize:"inherit",border:"none",outline:"none",background:"transparent",minHeight:e.calc(e.controlHeight).sub(e.calc(e.lineWidth).mul(2)).equal(),"&:focus":{boxShadow:"none !important"}},[`${t}-suffix`]:{margin:0,"> *:not(:last-child)":{marginInline:0},[`${t}-clear-icon`]:{position:"absolute",insetInlineEnd:e.paddingInline,insetBlockStart:e.paddingXS},[`${o}-suffix`]:{position:"absolute",top:0,insetInlineEnd:e.paddingInline,bottom:0,zIndex:1,display:"inline-flex",alignItems:"center",margin:"auto",pointerEvents:"none"}}},[`&-affix-wrapper${t}-affix-wrapper-sm`]:{[`${t}-suffix`]:{[`${t}-clear-icon`]:{insetInlineEnd:e.paddingInlineSM}}}}}};var y3=(0,te.I$)(["Input","TextArea"],e=>{const t=(0,Qr.IX)(e,(0,Cu.e)(e));return[v3(t)]},Cu.T,{resetFont:!1}),_3=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a},dE=(0,s.forwardRef)((e,t)=>{var a;const{prefixCls:o,bordered:f=!0,size:y,disabled:C,status:w,allowClear:I,classNames:D,rootClassName:L,className:z,style:k,styles:Z,variant:j}=e,G=_3(e,["prefixCls","bordered","size","disabled","status","allowClear","classNames","rootClassName","className","style","styles","variant"]),{getPrefixCls:H,direction:X,allowClear:ne,autoComplete:oe,className:ae,style:ie,classNames:le,styles:fe}=(0,ye.dj)("textArea"),me=s.useContext(to.Z),ge=C!=null?C:me,{status:be,hasFeedback:Ie,feedbackIcon:Oe}=s.useContext($c.aM),Te=(0,Fc.F)(be,w),Ve=s.useRef(null);s.useImperativeHandle(t,()=>{var Ht;return{resizableTextArea:(Ht=Ve.current)===null||Ht===void 0?void 0:Ht.resizableTextArea,focus:Mt=>{var Cn,Hn;(0,ZS.nH)((Hn=(Cn=Ve.current)===null||Cn===void 0?void 0:Cn.resizableTextArea)===null||Hn===void 0?void 0:Hn.textArea,Mt)},blur:()=>{var Mt;return(Mt=Ve.current)===null||Mt===void 0?void 0:Mt.blur()}}});const De=H("input",o),Ue=(0,Un.Z)(De),[ke,st,ct]=(0,sl.TI)(De,L),[Et]=y3(De,Ue),{compactSize:It,compactItemClassnames:Ct}=(0,Vi.ri)(De,X),mt=(0,xr.Z)(Ht=>{var Mt;return(Mt=y!=null?y:It)!==null&&Mt!==void 0?Mt:Ht}),[bt,zt]=(0,jf.Z)("textArea",j,f),$t=(0,uE.Z)(I!=null?I:ne);return ke(Et(s.createElement(cE,Object.assign({autoComplete:oe},G,{style:Object.assign(Object.assign({},ie),k),styles:Object.assign(Object.assign({},fe),Z),disabled:ge,allowClear:$t,className:q()(ct,Ue,z,L,Ct,ae),classNames:Object.assign(Object.assign(Object.assign({},D),le),{textarea:q()({[`${De}-sm`]:mt==="small",[`${De}-lg`]:mt==="large"},st,D==null?void 0:D.textarea,le.textarea),variant:q()({[`${De}-${bt}`]:zt},(0,Fc.Z)(De,Te)),affixWrapper:q()(`${De}-textarea-affix-wrapper`,{[`${De}-affix-wrapper-rtl`]:X==="rtl",[`${De}-affix-wrapper-sm`]:mt==="small",[`${De}-affix-wrapper-lg`]:mt==="large",[`${De}-textarea-show-count`]:e.showCount||((a=e.count)===null||a===void 0?void 0:a.show)},st)}),prefixCls:De,suffix:Ie&&s.createElement("span",{className:`${De}-textarea-suffix`},Oe),ref:Ve}))))});const pv=hv.Z;pv.Group=kO,pv.Search=o3,pv.TextArea=dE,pv.Password=r3,pv.OTP=GO;var b3=pv,x3=F(33839);function C3(e,t,a){return typeof a=="boolean"?a:e.length?!0:(0,Wl.Z)(t).some(f=>f.type===X_)}var fE=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a};function Px(e){let{suffixCls:t,tagName:a,displayName:o}=e;return f=>s.forwardRef((C,w)=>s.createElement(f,Object.assign({ref:w,suffixCls:t,tagName:a},C)))}const GS=s.forwardRef((e,t)=>{const{prefixCls:a,suffixCls:o,className:f,tagName:y}=e,C=fE(e,["prefixCls","suffixCls","className","tagName"]),{getPrefixCls:w}=s.useContext(ye.E_),I=w("layout",a),[D,L,z]=kv(I),k=o?`${I}-${o}`:I;return D(s.createElement(y,Object.assign({className:q()(a||k,f,L,z),ref:t},C)))}),S3=s.forwardRef((e,t)=>{const{direction:a}=s.useContext(ye.E_),[o,f]=s.useState([]),{prefixCls:y,className:C,rootClassName:w,children:I,hasSider:D,tagName:L,style:z}=e,k=fE(e,["prefixCls","className","rootClassName","children","hasSider","tagName","style"]),Z=(0,fr.Z)(k,["suffixCls"]),{getPrefixCls:j,className:G,style:H}=(0,ye.dj)("layout"),X=j("layout",y),ne=C3(o,I,D),[oe,ae,ie]=kv(X),le=q()(X,{[`${X}-has-sider`]:ne,[`${X}-rtl`]:a==="rtl"},G,C,w,ae,ie),fe=s.useMemo(()=>({siderHook:{addSider:me=>{f(ge=>[].concat((0,xe.Z)(ge),[me]))},removeSider:me=>{f(ge=>ge.filter(be=>be!==me))}}}),[]);return oe(s.createElement(Nv.Provider,{value:fe},s.createElement(L,Object.assign({ref:t,className:le,style:Object.assign(Object.assign({},H),z)},Z),I)))}),w3=Px({tagName:"div",displayName:"Layout"})(S3),E3=Px({suffixCls:"header",tagName:"header",displayName:"Header"})(GS),I3=Px({suffixCls:"footer",tagName:"footer",displayName:"Footer"})(GS),T3=Px({suffixCls:"content",tagName:"main",displayName:"Content"})(GS);var M3=w3;const mv=M3;mv.Header=E3,mv.Footer=I3,mv.Content=T3,mv.Sider=X_,mv._InternalSiderContext=zm;var P3=mv,KS=function(){const e=Object.assign({},arguments.length<=0?void 0:arguments[0]);for(let t=1;t<arguments.length;t++){const a=t<0||arguments.length<=t?void 0:arguments[t];a&&Object.keys(a).forEach(o=>{const f=a[o];f!==void 0&&(e[o]=f)})}return e},hE=F(78769),O3={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M272.9 512l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L186.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H532c6.7 0 10.4-7.7 6.3-12.9L272.9 512zm304 0l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L490.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H836c6.7 0 10.4-7.7 6.3-12.9L576.9 512z"}}]},name:"double-left",theme:"outlined"},R3=O3,$3=function(t,a){return s.createElement(Kt.Z,(0,We.Z)({},t,{ref:a,icon:R3}))},A3=s.forwardRef($3),pE=A3,D3={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M533.2 492.3L277.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H188c-6.7 0-10.4 7.7-6.3 12.9L447.1 512 181.7 851.1A7.98 7.98 0 00188 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5zm304 0L581.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H492c-6.7 0-10.4 7.7-6.3 12.9L751.1 512 485.7 851.1A7.98 7.98 0 00492 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5z"}}]},name:"double-right",theme:"outlined"},L3=D3,z3=function(t,a){return s.createElement(Kt.Z,(0,We.Z)({},t,{ref:a,icon:L3}))},N3=s.forwardRef(z3),mE=N3,B3={items_per_page:"\u6761/\u9875",jump_to:"\u8DF3\u81F3",jump_to_confirm:"\u786E\u5B9A",page:"\u9875",prev_page:"\u4E0A\u4E00\u9875",next_page:"\u4E0B\u4E00\u9875",prev_5:"\u5411\u524D 5 \u9875",next_5:"\u5411\u540E 5 \u9875",prev_3:"\u5411\u524D 3 \u9875",next_3:"\u5411\u540E 3 \u9875",page_size:"\u9875\u7801"},F3=B3,k3=[10,20,50,100],j3=function(t){var a=t.pageSizeOptions,o=a===void 0?k3:a,f=t.locale,y=t.changeSize,C=t.pageSize,w=t.goButton,I=t.quickGo,D=t.rootPrefixCls,L=t.disabled,z=t.buildOptionText,k=t.showSizeChanger,Z=t.sizeChangerRender,j=s.useState(""),G=(0,Re.Z)(j,2),H=G[0],X=G[1],ne=function(){return!H||Number.isNaN(H)?void 0:Number(H)},oe=typeof z=="function"?z:function(Oe){return"".concat(Oe," ").concat(f.items_per_page)},ae=function(Te){X(Te.target.value)},ie=function(Te){w||H===""||(X(""),!(Te.relatedTarget&&(Te.relatedTarget.className.indexOf("".concat(D,"-item-link"))>=0||Te.relatedTarget.className.indexOf("".concat(D,"-item"))>=0))&&(I==null||I(ne())))},le=function(Te){H!==""&&(Te.keyCode===nt.Z.ENTER||Te.type==="click")&&(X(""),I==null||I(ne()))},fe=function(){return o.some(function(Te){return Te.toString()===C.toString()})?o:o.concat([C]).sort(function(Te,Ve){var De=Number.isNaN(Number(Te))?0:Number(Te),Ue=Number.isNaN(Number(Ve))?0:Number(Ve);return De-Ue})},me="".concat(D,"-options");if(!k&&!I)return null;var ge=null,be=null,Ie=null;return k&&Z&&(ge=Z({disabled:L,size:C,onSizeChange:function(Te){y==null||y(Number(Te))},"aria-label":f.page_size,className:"".concat(me,"-size-changer"),options:fe().map(function(Oe){return{label:oe(Oe),value:Oe}})})),I&&(w&&(Ie=typeof w=="boolean"?s.createElement("button",{type:"button",onClick:le,onKeyUp:le,disabled:L,className:"".concat(me,"-quick-jumper-button")},f.jump_to_confirm):s.createElement("span",{onClick:le,onKeyUp:le},w)),be=s.createElement("div",{className:"".concat(me,"-quick-jumper")},f.jump_to,s.createElement("input",{disabled:L,type:"text",value:H,onChange:ae,onKeyUp:le,onBlur:ie,"aria-label":f.page}),f.page,Ie)),s.createElement("li",{className:me},ge,be)},Z3=j3,V3=function(t){var a=t.rootPrefixCls,o=t.page,f=t.active,y=t.className,C=t.showTitle,w=t.onClick,I=t.onKeyPress,D=t.itemRender,L="".concat(a,"-item"),z=q()(L,"".concat(L,"-").concat(o),(0,pe.Z)((0,pe.Z)({},"".concat(L,"-active"),f),"".concat(L,"-disabled"),!o),y),k=function(){w(o)},Z=function(H){I(H,w,o)},j=D(o,"page",s.createElement("a",{rel:"nofollow"},o));return j?s.createElement("li",{title:C?String(o):null,className:z,onClick:k,onKeyDown:Z,tabIndex:0},j):null},I_=V3,H3=function(t,a,o){return o};function XS(){}function gE(e){var t=Number(e);return typeof t=="number"&&!Number.isNaN(t)&&isFinite(t)&&Math.floor(t)===t}function Dg(e,t,a){var o=typeof e=="undefined"?t:e;return Math.floor((a-1)/o)+1}var U3=function(t){var a=t.prefixCls,o=a===void 0?"rc-pagination":a,f=t.selectPrefixCls,y=f===void 0?"rc-select":f,C=t.className,w=t.current,I=t.defaultCurrent,D=I===void 0?1:I,L=t.total,z=L===void 0?0:L,k=t.pageSize,Z=t.defaultPageSize,j=Z===void 0?10:Z,G=t.onChange,H=G===void 0?XS:G,X=t.hideOnSinglePage,ne=t.align,oe=t.showPrevNextJumpers,ae=oe===void 0?!0:oe,ie=t.showQuickJumper,le=t.showLessItems,fe=t.showTitle,me=fe===void 0?!0:fe,ge=t.onShowSizeChange,be=ge===void 0?XS:ge,Ie=t.locale,Oe=Ie===void 0?F3:Ie,Te=t.style,Ve=t.totalBoundaryShowSizeChanger,De=Ve===void 0?50:Ve,Ue=t.disabled,ke=t.simple,st=t.showTotal,ct=t.showSizeChanger,Et=ct===void 0?z>De:ct,It=t.sizeChangerRender,Ct=t.pageSizeOptions,mt=t.itemRender,bt=mt===void 0?H3:mt,zt=t.jumpPrevIcon,$t=t.jumpNextIcon,Ht=t.prevIcon,Mt=t.nextIcon,Cn=s.useRef(null),Hn=(0,Fs.Z)(10,{value:k,defaultValue:j}),pn=(0,Re.Z)(Hn,2),Dn=pn[0],Qt=pn[1],Ft=(0,Fs.Z)(1,{value:w,defaultValue:D,postState:function(cs){return Math.max(1,Math.min(cs,Dg(void 0,Dn,z)))}}),kn=(0,Re.Z)(Ft,2),Pn=kn[0],Dr=kn[1],br=s.useState(Pn),or=(0,Re.Z)(br,2),ar=or[0],Fn=or[1];(0,s.useEffect)(function(){Fn(Pn)},[Pn]);var sr=H!==XS,Gr="current"in t,yi=Math.max(1,Pn-(le?3:5)),Di=Math.min(Dg(void 0,Dn,z),Pn+(le?3:5));function Ui(La,cs){var Ss=La||s.createElement("button",{type:"button","aria-label":cs,className:"".concat(o,"-item-link")});return typeof La=="function"&&(Ss=s.createElement(La,(0,Y.Z)({},t))),Ss}function $o(La){var cs=La.target.value,Ss=Dg(void 0,Dn,z),$l;return cs===""?$l=cs:Number.isNaN(Number(cs))?$l=ar:cs>=Ss?$l=Ss:$l=Number(cs),$l}function Ri(La){return gE(La)&&La!==Pn&&gE(z)&&z>0}var mi=z>Dn?ie:!1;function Pi(La){(La.keyCode===nt.Z.UP||La.keyCode===nt.Z.DOWN)&&La.preventDefault()}function ao(La){var cs=$o(La);switch(cs!==ar&&Fn(cs),La.keyCode){case nt.Z.ENTER:Cr(cs);break;case nt.Z.UP:Cr(cs-1);break;case nt.Z.DOWN:Cr(cs+1);break;default:break}}function ki(La){Cr($o(La))}function Ao(La){var cs=Dg(La,Dn,z),Ss=Pn>cs&&cs!==0?cs:Pn;Qt(La),Fn(Ss),be==null||be(Pn,La),Dr(Ss),H==null||H(Ss,La)}function Cr(La){if(Ri(La)&&!Ue){var cs=Dg(void 0,Dn,z),Ss=La;return La>cs?Ss=cs:La<1&&(Ss=1),Ss!==ar&&Fn(Ss),Dr(Ss),H==null||H(Ss,Dn),Ss}return Pn}var ur=Pn>1,Tr=Pn<Dg(void 0,Dn,z);function qn(){ur&&Cr(Pn-1)}function pi(){Tr&&Cr(Pn+1)}function ji(){Cr(yi)}function go(){Cr(Di)}function ra(La,cs){if(La.key==="Enter"||La.charCode===nt.Z.ENTER||La.keyCode===nt.Z.ENTER){for(var Ss=arguments.length,$l=new Array(Ss>2?Ss-2:0),Fu=2;Fu<Ss;Fu++)$l[Fu-2]=arguments[Fu];cs.apply(void 0,$l)}}function Aa(La){ra(La,qn)}function oa(La){ra(La,pi)}function Cs(La){ra(La,ji)}function Za(La){ra(La,go)}function Ga(La){var cs=bt(La,"prev",Ui(Ht,"prev page"));return s.isValidElement(cs)?s.cloneElement(cs,{disabled:!ur}):cs}function va(La){var cs=bt(La,"next",Ui(Mt,"next page"));return s.isValidElement(cs)?s.cloneElement(cs,{disabled:!Tr}):cs}function ts(La){(La.type==="click"||La.keyCode===nt.Z.ENTER)&&Cr(ar)}var As=null,Ro=(0,ut.Z)(t,{aria:!0,data:!0}),ta=st&&s.createElement("li",{className:"".concat(o,"-total-text")},st(z,[z===0?0:(Pn-1)*Dn+1,Pn*Dn>z?z:Pn*Dn])),$a=null,Ka=Dg(void 0,Dn,z);if(X&&z<=Dn)return null;var ss=[],ll={rootPrefixCls:o,onClick:Cr,onKeyPress:ra,showTitle:me,itemRender:bt,page:-1},Rl=Pn-1>0?Pn-1:0,yl=Pn+1<Ka?Pn+1:Ka,Xl=ie&&ie.goButton,ga=(0,et.Z)(ke)==="object"?ke.readOnly:!ke,qo=Xl,Jo=null;ke&&(Xl&&(typeof Xl=="boolean"?qo=s.createElement("button",{type:"button",onClick:ts,onKeyUp:ts},Oe.jump_to_confirm):qo=s.createElement("span",{onClick:ts,onKeyUp:ts},Xl),qo=s.createElement("li",{title:me?"".concat(Oe.jump_to).concat(Pn,"/").concat(Ka):null,className:"".concat(o,"-simple-pager")},qo)),Jo=s.createElement("li",{title:me?"".concat(Pn,"/").concat(Ka):null,className:"".concat(o,"-simple-pager")},ga?ar:s.createElement("input",{type:"text","aria-label":Oe.jump_to,value:ar,disabled:Ue,onKeyDown:Pi,onKeyUp:ao,onChange:ao,onBlur:ki,size:3}),s.createElement("span",{className:"".concat(o,"-slash")},"/"),Ka));var Vo=le?1:2;if(Ka<=3+Vo*2){Ka||ss.push(s.createElement(I_,(0,We.Z)({},ll,{key:"noPager",page:1,className:"".concat(o,"-item-disabled")})));for(var ls=1;ls<=Ka;ls+=1)ss.push(s.createElement(I_,(0,We.Z)({},ll,{key:ls,page:ls,active:Pn===ls})))}else{var Ds=le?Oe.prev_3:Oe.prev_5,ka=le?Oe.next_3:Oe.next_5,Ca=bt(yi,"jump-prev",Ui(zt,"prev page")),gs=bt(Di,"jump-next",Ui($t,"next page"));ae&&(As=Ca?s.createElement("li",{title:me?Ds:null,key:"prev",onClick:ji,tabIndex:0,onKeyDown:Cs,className:q()("".concat(o,"-jump-prev"),(0,pe.Z)({},"".concat(o,"-jump-prev-custom-icon"),!!zt))},Ca):null,$a=gs?s.createElement("li",{title:me?ka:null,key:"next",onClick:go,tabIndex:0,onKeyDown:Za,className:q()("".concat(o,"-jump-next"),(0,pe.Z)({},"".concat(o,"-jump-next-custom-icon"),!!$t))},gs):null);var vs=Math.max(1,Pn-Vo),Ys=Math.min(Pn+Vo,Ka);Pn-1<=Vo&&(Ys=1+Vo*2),Ka-Pn<=Vo&&(vs=Ka-Vo*2);for(var _a=vs;_a<=Ys;_a+=1)ss.push(s.createElement(I_,(0,We.Z)({},ll,{key:_a,page:_a,active:Pn===_a})));if(Pn-1>=Vo*2&&Pn!==3&&(ss[0]=s.cloneElement(ss[0],{className:q()("".concat(o,"-item-after-jump-prev"),ss[0].props.className)}),ss.unshift(As)),Ka-Pn>=Vo*2&&Pn!==Ka-2){var Ho=ss[ss.length-1];ss[ss.length-1]=s.cloneElement(Ho,{className:q()("".concat(o,"-item-before-jump-next"),Ho.props.className)}),ss.push($a)}vs!==1&&ss.unshift(s.createElement(I_,(0,We.Z)({},ll,{key:1,page:1}))),Ys!==Ka&&ss.push(s.createElement(I_,(0,We.Z)({},ll,{key:Ka,page:Ka})))}var Da=Ga(Rl);if(Da){var ds=!ur||!Ka;Da=s.createElement("li",{title:me?Oe.prev_page:null,onClick:qn,tabIndex:ds?null:0,onKeyDown:Aa,className:q()("".concat(o,"-prev"),(0,pe.Z)({},"".concat(o,"-disabled"),ds)),"aria-disabled":ds},Da)}var Bs=va(yl);if(Bs){var qs,rc;ke?(qs=!Tr,rc=ur?0:null):(qs=!Tr||!Ka,rc=qs?null:0),Bs=s.createElement("li",{title:me?Oe.next_page:null,onClick:pi,tabIndex:rc,onKeyDown:oa,className:q()("".concat(o,"-next"),(0,pe.Z)({},"".concat(o,"-disabled"),qs)),"aria-disabled":qs},Bs)}var Js=q()(o,C,(0,pe.Z)((0,pe.Z)((0,pe.Z)((0,pe.Z)((0,pe.Z)({},"".concat(o,"-start"),ne==="start"),"".concat(o,"-center"),ne==="center"),"".concat(o,"-end"),ne==="end"),"".concat(o,"-simple"),ke),"".concat(o,"-disabled"),Ue));return s.createElement("ul",(0,We.Z)({className:Js,style:Te,ref:Cn},Ro),ta,Da,ke?Jo:ss,Bs,s.createElement(Z3,{locale:Oe,rootPrefixCls:o,disabled:Ue,selectPrefixCls:y,changeSize:Ao,pageSize:Dn,pageSizeOptions:Ct,quickGo:mi?Cr:null,goButton:qo,showSizeChanger:Et,sizeChangerRender:It}))},W3=U3,G3=F(18507);const K3=e=>{const{componentCls:t}=e;return{[`${t}-disabled`]:{"&, &:hover":{cursor:"not-allowed",[`${t}-item-link`]:{color:e.colorTextDisabled,cursor:"not-allowed"}},"&:focus-visible":{cursor:"not-allowed",[`${t}-item-link`]:{color:e.colorTextDisabled,cursor:"not-allowed"}}},[`&${t}-disabled`]:{cursor:"not-allowed",[`${t}-item`]:{cursor:"not-allowed","&:hover, &:active":{backgroundColor:"transparent"},a:{color:e.colorTextDisabled,backgroundColor:"transparent",border:"none",cursor:"not-allowed"},"&-active":{borderColor:e.colorBorder,backgroundColor:e.itemActiveBgDisabled,"&:hover, &:active":{backgroundColor:e.itemActiveBgDisabled},a:{color:e.itemActiveColorDisabled}}},[`${t}-item-link`]:{color:e.colorTextDisabled,cursor:"not-allowed","&:hover, &:active":{backgroundColor:"transparent"},[`${t}-simple&`]:{backgroundColor:"transparent","&:hover, &:active":{backgroundColor:"transparent"}}},[`${t}-simple-pager`]:{color:e.colorTextDisabled},[`${t}-jump-prev, ${t}-jump-next`]:{[`${t}-item-link-icon`]:{opacity:0},[`${t}-item-ellipsis`]:{opacity:1}}},[`&${t}-simple`]:{[`${t}-prev, ${t}-next`]:{[`&${t}-disabled ${t}-item-link`]:{"&:hover, &:active":{backgroundColor:"transparent"}}}}}},X3=e=>{const{componentCls:t}=e;return{[`&${t}-mini ${t}-total-text, &${t}-mini ${t}-simple-pager`]:{height:e.itemSizeSM,lineHeight:(0,he.bf)(e.itemSizeSM)},[`&${t}-mini ${t}-item`]:{minWidth:e.itemSizeSM,height:e.itemSizeSM,margin:0,lineHeight:(0,he.bf)(e.calc(e.itemSizeSM).sub(2).equal())},[`&${t}-mini:not(${t}-disabled) ${t}-item:not(${t}-item-active)`]:{backgroundColor:"transparent",borderColor:"transparent","&:hover":{backgroundColor:e.colorBgTextHover},"&:active":{backgroundColor:e.colorBgTextActive}},[`&${t}-mini ${t}-prev, &${t}-mini ${t}-next`]:{minWidth:e.itemSizeSM,height:e.itemSizeSM,margin:0,lineHeight:(0,he.bf)(e.itemSizeSM)},[`&${t}-mini:not(${t}-disabled)`]:{[`${t}-prev, ${t}-next`]:{[`&:hover ${t}-item-link`]:{backgroundColor:e.colorBgTextHover},[`&:active ${t}-item-link`]:{backgroundColor:e.colorBgTextActive},[`&${t}-disabled:hover ${t}-item-link`]:{backgroundColor:"transparent"}}},[`
    &${t}-mini ${t}-prev ${t}-item-link,
    &${t}-mini ${t}-next ${t}-item-link
    `]:{backgroundColor:"transparent",borderColor:"transparent","&::after":{height:e.itemSizeSM,lineHeight:(0,he.bf)(e.itemSizeSM)}},[`&${t}-mini ${t}-jump-prev, &${t}-mini ${t}-jump-next`]:{height:e.itemSizeSM,marginInlineEnd:0,lineHeight:(0,he.bf)(e.itemSizeSM)},[`&${t}-mini ${t}-options`]:{marginInlineStart:e.paginationMiniOptionsMarginInlineStart,"&-size-changer":{top:e.miniOptionsSizeChangerTop},"&-quick-jumper":{height:e.itemSizeSM,lineHeight:(0,he.bf)(e.itemSizeSM),input:Object.assign(Object.assign({},(0,sl.x0)(e)),{width:e.paginationMiniQuickJumperInputWidth,height:e.controlHeightSM})}}}},Y3=e=>{const{componentCls:t}=e;return{[`
    &${t}-simple ${t}-prev,
    &${t}-simple ${t}-next
    `]:{height:e.itemSizeSM,lineHeight:(0,he.bf)(e.itemSizeSM),verticalAlign:"top",[`${t}-item-link`]:{height:e.itemSizeSM,backgroundColor:"transparent",border:0,"&:hover":{backgroundColor:e.colorBgTextHover},"&:active":{backgroundColor:e.colorBgTextActive},"&::after":{height:e.itemSizeSM,lineHeight:(0,he.bf)(e.itemSizeSM)}}},[`&${t}-simple ${t}-simple-pager`]:{display:"inline-block",height:e.itemSizeSM,marginInlineEnd:e.marginXS,input:{boxSizing:"border-box",height:"100%",padding:`0 ${(0,he.bf)(e.paginationItemPaddingInline)}`,textAlign:"center",backgroundColor:e.itemInputBg,border:`${(0,he.bf)(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,borderRadius:e.borderRadius,outline:"none",transition:`border-color ${e.motionDurationMid}`,color:"inherit","&:hover":{borderColor:e.colorPrimary},"&:focus":{borderColor:e.colorPrimaryHover,boxShadow:`${(0,he.bf)(e.inputOutlineOffset)} 0 ${(0,he.bf)(e.controlOutlineWidth)} ${e.controlOutline}`},"&[disabled]":{color:e.colorTextDisabled,backgroundColor:e.colorBgContainerDisabled,borderColor:e.colorBorder,cursor:"not-allowed"}}}}},q3=e=>{const{componentCls:t}=e;return{[`${t}-jump-prev, ${t}-jump-next`]:{outline:0,[`${t}-item-container`]:{position:"relative",[`${t}-item-link-icon`]:{color:e.colorPrimary,fontSize:e.fontSizeSM,opacity:0,transition:`all ${e.motionDurationMid}`,"&-svg":{top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,margin:"auto"}},[`${t}-item-ellipsis`]:{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,display:"block",margin:"auto",color:e.colorTextDisabled,letterSpacing:e.paginationEllipsisLetterSpacing,textAlign:"center",textIndent:e.paginationEllipsisTextIndent,opacity:1,transition:`all ${e.motionDurationMid}`}},"&:hover":{[`${t}-item-link-icon`]:{opacity:1},[`${t}-item-ellipsis`]:{opacity:0}}},[`
    ${t}-prev,
    ${t}-jump-prev,
    ${t}-jump-next
    `]:{marginInlineEnd:e.marginXS},[`
    ${t}-prev,
    ${t}-next,
    ${t}-jump-prev,
    ${t}-jump-next
    `]:{display:"inline-block",minWidth:e.itemSize,height:e.itemSize,color:e.colorText,fontFamily:e.fontFamily,lineHeight:(0,he.bf)(e.itemSize),textAlign:"center",verticalAlign:"middle",listStyle:"none",borderRadius:e.borderRadius,cursor:"pointer",transition:`all ${e.motionDurationMid}`},[`${t}-prev, ${t}-next`]:{outline:0,button:{color:e.colorText,cursor:"pointer",userSelect:"none"},[`${t}-item-link`]:{display:"block",width:"100%",height:"100%",padding:0,fontSize:e.fontSizeSM,textAlign:"center",backgroundColor:"transparent",border:`${(0,he.bf)(e.lineWidth)} ${e.lineType} transparent`,borderRadius:e.borderRadius,outline:"none",transition:`all ${e.motionDurationMid}`},[`&:hover ${t}-item-link`]:{backgroundColor:e.colorBgTextHover},[`&:active ${t}-item-link`]:{backgroundColor:e.colorBgTextActive},[`&${t}-disabled:hover`]:{[`${t}-item-link`]:{backgroundColor:"transparent"}}},[`${t}-slash`]:{marginInlineEnd:e.paginationSlashMarginInlineEnd,marginInlineStart:e.paginationSlashMarginInlineStart},[`${t}-options`]:{display:"inline-block",marginInlineStart:e.margin,verticalAlign:"middle","&-size-changer":{display:"inline-block",width:"auto"},"&-quick-jumper":{display:"inline-block",height:e.controlHeight,marginInlineStart:e.marginXS,lineHeight:(0,he.bf)(e.controlHeight),verticalAlign:"top",input:Object.assign(Object.assign(Object.assign({},(0,sl.ik)(e)),(0,fc.$U)(e,{borderColor:e.colorBorder,hoverBorderColor:e.colorPrimaryHover,activeBorderColor:e.colorPrimary,activeShadow:e.activeShadow})),{"&[disabled]":Object.assign({},(0,fc.Xy)(e)),width:e.calc(e.controlHeightLG).mul(1.25).equal(),height:e.controlHeight,boxSizing:"border-box",margin:0,marginInlineStart:e.marginXS,marginInlineEnd:e.marginXS})}}}},J3=e=>{const{componentCls:t}=e;return{[`${t}-item`]:{display:"inline-block",minWidth:e.itemSize,height:e.itemSize,marginInlineEnd:e.marginXS,fontFamily:e.fontFamily,lineHeight:(0,he.bf)(e.calc(e.itemSize).sub(2).equal()),textAlign:"center",verticalAlign:"middle",listStyle:"none",backgroundColor:e.itemBg,border:`${(0,he.bf)(e.lineWidth)} ${e.lineType} transparent`,borderRadius:e.borderRadius,outline:0,cursor:"pointer",userSelect:"none",a:{display:"block",padding:`0 ${(0,he.bf)(e.paginationItemPaddingInline)}`,color:e.colorText,"&:hover":{textDecoration:"none"}},[`&:not(${t}-item-active)`]:{"&:hover":{transition:`all ${e.motionDurationMid}`,backgroundColor:e.colorBgTextHover},"&:active":{backgroundColor:e.colorBgTextActive}},"&-active":{fontWeight:e.fontWeightStrong,backgroundColor:e.itemActiveBg,borderColor:e.colorPrimary,a:{color:e.colorPrimary},"&:hover":{borderColor:e.colorPrimaryHover},"&:hover a":{color:e.colorPrimaryHover}}}}},Q3=e=>{const{componentCls:t}=e;return{[t]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(0,Jt.Wf)(e)),{display:"flex","&-start":{justifyContent:"start"},"&-center":{justifyContent:"center"},"&-end":{justifyContent:"end"},"ul, ol":{margin:0,padding:0,listStyle:"none"},"&::after":{display:"block",clear:"both",height:0,overflow:"hidden",visibility:"hidden",content:'""'},[`${t}-total-text`]:{display:"inline-block",height:e.itemSize,marginInlineEnd:e.marginXS,lineHeight:(0,he.bf)(e.calc(e.itemSize).sub(2).equal()),verticalAlign:"middle"}}),J3(e)),q3(e)),Y3(e)),X3(e)),K3(e)),{[`@media only screen and (max-width: ${e.screenLG}px)`]:{[`${t}-item`]:{"&-after-jump-prev, &-before-jump-next":{display:"none"}}},[`@media only screen and (max-width: ${e.screenSM}px)`]:{[`${t}-options`]:{display:"none"}}}),[`&${e.componentCls}-rtl`]:{direction:"rtl"}}},eR=e=>{const{componentCls:t}=e;return{[`${t}:not(${t}-disabled)`]:{[`${t}-item`]:Object.assign({},(0,Jt.Qy)(e)),[`${t}-jump-prev, ${t}-jump-next`]:{"&:focus-visible":Object.assign({[`${t}-item-link-icon`]:{opacity:1},[`${t}-item-ellipsis`]:{opacity:0}},(0,Jt.oN)(e))},[`${t}-prev, ${t}-next`]:{[`&:focus-visible ${t}-item-link`]:Object.assign({},(0,Jt.oN)(e))}}}},vE=e=>Object.assign({itemBg:e.colorBgContainer,itemSize:e.controlHeight,itemSizeSM:e.controlHeightSM,itemActiveBg:e.colorBgContainer,itemLinkBg:e.colorBgContainer,itemActiveColorDisabled:e.colorTextDisabled,itemActiveBgDisabled:e.controlItemBgActiveDisabled,itemInputBg:e.colorBgContainer,miniOptionsSizeChangerTop:0},(0,Cu.T)(e)),yE=e=>(0,Qr.IX)(e,{inputOutlineOffset:0,paginationMiniOptionsMarginInlineStart:e.calc(e.marginXXS).div(2).equal(),paginationMiniQuickJumperInputWidth:e.calc(e.controlHeightLG).mul(1.1).equal(),paginationItemPaddingInline:e.calc(e.marginXXS).mul(1.5).equal(),paginationEllipsisLetterSpacing:e.calc(e.marginXXS).div(2).equal(),paginationSlashMarginInlineStart:e.marginSM,paginationSlashMarginInlineEnd:e.marginSM,paginationEllipsisTextIndent:"0.13em"},(0,Cu.e)(e));var tR=(0,te.I$)("Pagination",e=>{const t=yE(e);return[Q3(t),eR(t)]},vE);const nR=e=>{const{componentCls:t}=e;return{[`${t}${t}-bordered${t}-disabled:not(${t}-mini)`]:{"&, &:hover":{[`${t}-item-link`]:{borderColor:e.colorBorder}},"&:focus-visible":{[`${t}-item-link`]:{borderColor:e.colorBorder}},[`${t}-item, ${t}-item-link`]:{backgroundColor:e.colorBgContainerDisabled,borderColor:e.colorBorder,[`&:hover:not(${t}-item-active)`]:{backgroundColor:e.colorBgContainerDisabled,borderColor:e.colorBorder,a:{color:e.colorTextDisabled}},[`&${t}-item-active`]:{backgroundColor:e.itemActiveBgDisabled}},[`${t}-prev, ${t}-next`]:{"&:hover button":{backgroundColor:e.colorBgContainerDisabled,borderColor:e.colorBorder,color:e.colorTextDisabled},[`${t}-item-link`]:{backgroundColor:e.colorBgContainerDisabled,borderColor:e.colorBorder}}},[`${t}${t}-bordered:not(${t}-mini)`]:{[`${t}-prev, ${t}-next`]:{"&:hover button":{borderColor:e.colorPrimaryHover,backgroundColor:e.itemBg},[`${t}-item-link`]:{backgroundColor:e.itemLinkBg,borderColor:e.colorBorder},[`&:hover ${t}-item-link`]:{borderColor:e.colorPrimary,backgroundColor:e.itemBg,color:e.colorPrimary},[`&${t}-disabled`]:{[`${t}-item-link`]:{borderColor:e.colorBorder,color:e.colorTextDisabled}}},[`${t}-item`]:{backgroundColor:e.itemBg,border:`${(0,he.bf)(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,[`&:hover:not(${t}-item-active)`]:{borderColor:e.colorPrimary,backgroundColor:e.itemBg,a:{color:e.colorPrimary}},"&-active":{borderColor:e.colorPrimary}}}}};var rR=(0,te.bk)(["Pagination","bordered"],e=>{const t=yE(e);return[nR(t)]},vE);function _E(e){return(0,s.useMemo)(()=>typeof e=="boolean"?[e,{}]:e&&typeof e=="object"?[!0,e]:[void 0,void 0],[e])}var iR=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a},oR=e=>{const{align:t,prefixCls:a,selectPrefixCls:o,className:f,rootClassName:y,style:C,size:w,locale:I,responsive:D,showSizeChanger:L,selectComponentClass:z,pageSizeOptions:k}=e,Z=iR(e,["align","prefixCls","selectPrefixCls","className","rootClassName","style","size","locale","responsive","showSizeChanger","selectComponentClass","pageSizeOptions"]),{xs:j}=(0,Xu.Z)(D),[,G]=(0,Qn.ZP)(),{getPrefixCls:H,direction:X,showSizeChanger:ne,className:oe,style:ae}=(0,ye.dj)("pagination"),ie=H("pagination",a),[le,fe,me]=tR(ie),ge=(0,xr.Z)(w),be=ge==="small"||!!(j&&!ge&&D),[Ie]=(0,In.Z)("Pagination",G3.Z),Oe=Object.assign(Object.assign({},Ie),I),[Te,Ve]=_E(L),[De,Ue]=_E(ne),ke=Te!=null?Te:De,st=Ve!=null?Ve:Ue,ct=z||gu.default,Et=s.useMemo(()=>k?k.map($t=>Number($t)):void 0,[k]),It=$t=>{var Ht;const{disabled:Mt,size:Cn,onSizeChange:Hn,"aria-label":pn,className:Dn,options:Qt}=$t,{className:Ft,onChange:kn}=st||{},Pn=(Ht=Qt.find(Dr=>String(Dr.value)===String(Cn)))===null||Ht===void 0?void 0:Ht.value;return s.createElement(ct,Object.assign({disabled:Mt,showSearch:!0,popupMatchSelectWidth:!1,getPopupContainer:Dr=>Dr.parentNode,"aria-label":pn,options:Qt},st,{value:Pn,onChange:(Dr,br)=>{Hn==null||Hn(Dr),kn==null||kn(Dr,br)},size:be?"small":"middle",className:q()(Dn,Ft)}))},Ct=s.useMemo(()=>{const $t=s.createElement("span",{className:`${ie}-item-ellipsis`},"\u2022\u2022\u2022"),Ht=s.createElement("button",{className:`${ie}-item-link`,type:"button",tabIndex:-1},X==="rtl"?s.createElement(yu.Z,null):s.createElement(Qc,null)),Mt=s.createElement("button",{className:`${ie}-item-link`,type:"button",tabIndex:-1},X==="rtl"?s.createElement(Qc,null):s.createElement(yu.Z,null)),Cn=s.createElement("a",{className:`${ie}-item-link`},s.createElement("div",{className:`${ie}-item-container`},X==="rtl"?s.createElement(mE,{className:`${ie}-item-link-icon`}):s.createElement(pE,{className:`${ie}-item-link-icon`}),$t)),Hn=s.createElement("a",{className:`${ie}-item-link`},s.createElement("div",{className:`${ie}-item-container`},X==="rtl"?s.createElement(pE,{className:`${ie}-item-link-icon`}):s.createElement(mE,{className:`${ie}-item-link-icon`}),$t));return{prevIcon:Ht,nextIcon:Mt,jumpPrevIcon:Cn,jumpNextIcon:Hn}},[X,ie]),mt=H("select",o),bt=q()({[`${ie}-${t}`]:!!t,[`${ie}-mini`]:be,[`${ie}-rtl`]:X==="rtl",[`${ie}-bordered`]:G.wireframe},oe,f,y,fe,me),zt=Object.assign(Object.assign({},ae),C);return le(s.createElement(s.Fragment,null,G.wireframe&&s.createElement(rR,{prefixCls:ie}),s.createElement(W3,Object.assign({},Ct,Z,{style:zt,prefixCls:ie,selectPrefixCls:mt,className:bt,locale:Oe,pageSizeOptions:Et,showSizeChanger:ke,sizeChangerRender:It}))))},Ox=oR;const Rx=100,bE=Rx/5,xE=Rx/2-bE/2,YS=xE*2*Math.PI,CE=50,SE=e=>{const{dotClassName:t,style:a,hasCircleCls:o}=e;return s.createElement("circle",{className:q()(`${t}-circle`,{[`${t}-circle-bg`]:o}),r:xE,cx:CE,cy:CE,strokeWidth:bE,style:a})};var aR=e=>{let{percent:t,prefixCls:a}=e;const o=`${a}-dot`,f=`${o}-holder`,y=`${f}-hidden`,[C,w]=s.useState(!1);(0,hl.Z)(()=>{t!==0&&w(!0)},[t!==0]);const I=Math.max(Math.min(t,100),0);if(!C)return null;const D={strokeDashoffset:`${YS/4}`,strokeDasharray:`${YS*I/100} ${YS*(100-I)/100}`};return s.createElement("span",{className:q()(f,`${o}-progress`,I<=0&&y)},s.createElement("svg",{viewBox:`0 0 ${Rx} ${Rx}`,role:"progressbar","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":I},s.createElement(SE,{dotClassName:o,hasCircleCls:!0}),s.createElement(SE,{dotClassName:o,style:D})))};function sR(e){const{prefixCls:t,percent:a=0}=e,o=`${t}-dot`,f=`${o}-holder`,y=`${f}-hidden`;return s.createElement(s.Fragment,null,s.createElement("span",{className:q()(f,a>0&&y)},s.createElement("span",{className:q()(o,`${t}-dot-spin`)},[1,2,3,4].map(C=>s.createElement("i",{className:`${t}-dot-item`,key:C})))),s.createElement(aR,{prefixCls:t,percent:a}))}function lR(e){const{prefixCls:t,indicator:a,percent:o}=e,f=`${t}-dot`;return a&&s.isValidElement(a)?(0,bn.Tm)(a,{className:q()(a.props.className,f),percent:o}):s.createElement(sR,{prefixCls:t,percent:o})}const cR=new he.E4("antSpinMove",{to:{opacity:1}}),uR=new he.E4("antRotate",{to:{transform:"rotate(405deg)"}}),dR=e=>{const{componentCls:t,calc:a}=e;return{[t]:Object.assign(Object.assign({},(0,Jt.Wf)(e)),{position:"absolute",display:"none",color:e.colorPrimary,fontSize:0,textAlign:"center",verticalAlign:"middle",opacity:0,transition:`transform ${e.motionDurationSlow} ${e.motionEaseInOutCirc}`,"&-spinning":{position:"relative",display:"inline-block",opacity:1},[`${t}-text`]:{fontSize:e.fontSize,paddingTop:a(a(e.dotSize).sub(e.fontSize)).div(2).add(2).equal()},"&-fullscreen":{position:"fixed",width:"100vw",height:"100vh",backgroundColor:e.colorBgMask,zIndex:e.zIndexPopupBase,inset:0,display:"flex",alignItems:"center",flexDirection:"column",justifyContent:"center",opacity:0,visibility:"hidden",transition:`all ${e.motionDurationMid}`,"&-show":{opacity:1,visibility:"visible"},[t]:{[`${t}-dot-holder`]:{color:e.colorWhite},[`${t}-text`]:{color:e.colorTextLightSolid}}},"&-nested-loading":{position:"relative",[`> div > ${t}`]:{position:"absolute",top:0,insetInlineStart:0,zIndex:4,display:"block",width:"100%",height:"100%",maxHeight:e.contentHeight,[`${t}-dot`]:{position:"absolute",top:"50%",insetInlineStart:"50%",margin:a(e.dotSize).mul(-1).div(2).equal()},[`${t}-text`]:{position:"absolute",top:"50%",width:"100%",textShadow:`0 1px 2px ${e.colorBgContainer}`},[`&${t}-show-text ${t}-dot`]:{marginTop:a(e.dotSize).div(2).mul(-1).sub(10).equal()},"&-sm":{[`${t}-dot`]:{margin:a(e.dotSizeSM).mul(-1).div(2).equal()},[`${t}-text`]:{paddingTop:a(a(e.dotSizeSM).sub(e.fontSize)).div(2).add(2).equal()},[`&${t}-show-text ${t}-dot`]:{marginTop:a(e.dotSizeSM).div(2).mul(-1).sub(10).equal()}},"&-lg":{[`${t}-dot`]:{margin:a(e.dotSizeLG).mul(-1).div(2).equal()},[`${t}-text`]:{paddingTop:a(a(e.dotSizeLG).sub(e.fontSize)).div(2).add(2).equal()},[`&${t}-show-text ${t}-dot`]:{marginTop:a(e.dotSizeLG).div(2).mul(-1).sub(10).equal()}}},[`${t}-container`]:{position:"relative",transition:`opacity ${e.motionDurationSlow}`,"&::after":{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,zIndex:10,width:"100%",height:"100%",background:e.colorBgContainer,opacity:0,transition:`all ${e.motionDurationSlow}`,content:'""',pointerEvents:"none"}},[`${t}-blur`]:{clear:"both",opacity:.5,userSelect:"none",pointerEvents:"none","&::after":{opacity:.4,pointerEvents:"auto"}}},"&-tip":{color:e.spinDotDefault},[`${t}-dot-holder`]:{width:"1em",height:"1em",fontSize:e.dotSize,display:"inline-block",transition:`transform ${e.motionDurationSlow} ease, opacity ${e.motionDurationSlow} ease`,transformOrigin:"50% 50%",lineHeight:1,color:e.colorPrimary,"&-hidden":{transform:"scale(0.3)",opacity:0}},[`${t}-dot-progress`]:{position:"absolute",inset:0},[`${t}-dot`]:{position:"relative",display:"inline-block",fontSize:e.dotSize,width:"1em",height:"1em","&-item":{position:"absolute",display:"block",width:a(e.dotSize).sub(a(e.marginXXS).div(2)).div(2).equal(),height:a(e.dotSize).sub(a(e.marginXXS).div(2)).div(2).equal(),background:"currentColor",borderRadius:"100%",transform:"scale(0.75)",transformOrigin:"50% 50%",opacity:.3,animationName:cR,animationDuration:"1s",animationIterationCount:"infinite",animationTimingFunction:"linear",animationDirection:"alternate","&:nth-child(1)":{top:0,insetInlineStart:0,animationDelay:"0s"},"&:nth-child(2)":{top:0,insetInlineEnd:0,animationDelay:"0.4s"},"&:nth-child(3)":{insetInlineEnd:0,bottom:0,animationDelay:"0.8s"},"&:nth-child(4)":{bottom:0,insetInlineStart:0,animationDelay:"1.2s"}},"&-spin":{transform:"rotate(45deg)",animationName:uR,animationDuration:"1.2s",animationIterationCount:"infinite",animationTimingFunction:"linear"},"&-circle":{strokeLinecap:"round",transition:["stroke-dashoffset","stroke-dasharray","stroke","stroke-width","opacity"].map(o=>`${o} ${e.motionDurationSlow} ease`).join(","),fillOpacity:0,stroke:"currentcolor"},"&-circle-bg":{stroke:e.colorFillSecondary}},[`&-sm ${t}-dot`]:{"&, &-holder":{fontSize:e.dotSizeSM}},[`&-sm ${t}-dot-holder`]:{i:{width:a(a(e.dotSizeSM).sub(a(e.marginXXS).div(2))).div(2).equal(),height:a(a(e.dotSizeSM).sub(a(e.marginXXS).div(2))).div(2).equal()}},[`&-lg ${t}-dot`]:{"&, &-holder":{fontSize:e.dotSizeLG}},[`&-lg ${t}-dot-holder`]:{i:{width:a(a(e.dotSizeLG).sub(e.marginXXS)).div(2).equal(),height:a(a(e.dotSizeLG).sub(e.marginXXS)).div(2).equal()}},[`&${t}-show-text ${t}-text`]:{display:"block"}})}},fR=e=>{const{controlHeightLG:t,controlHeight:a}=e;return{contentHeight:400,dotSize:t/2,dotSizeSM:t*.35,dotSizeLG:a}};var hR=(0,te.I$)("Spin",e=>{const t=(0,Qr.IX)(e,{spinDotDefault:e.colorTextDescription});return[dR(t)]},fR);const pR=200,wE=[[30,.05],[70,.03],[96,.01]];function mR(e,t){const[a,o]=s.useState(0),f=s.useRef(null),y=t==="auto";return s.useEffect(()=>(y&&e&&(o(0),f.current=setInterval(()=>{o(C=>{const w=100-C;for(let I=0;I<wE.length;I+=1){const[D,L]=wE[I];if(C<=D)return C+w*L}return C})},pR)),()=>{clearInterval(f.current)}),[y,e]),y?a:t}var gR=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a};const q8=null;let EE;function vR(e,t){return!!e&&!!t&&!Number.isNaN(Number(t))}const IE=e=>{var t;const{prefixCls:a,spinning:o=!0,delay:f=0,className:y,rootClassName:C,size:w="default",tip:I,wrapperClassName:D,style:L,children:z,fullscreen:k=!1,indicator:Z,percent:j}=e,G=gR(e,["prefixCls","spinning","delay","className","rootClassName","size","tip","wrapperClassName","style","children","fullscreen","indicator","percent"]),{getPrefixCls:H,direction:X,className:ne,style:oe,indicator:ae}=(0,ye.dj)("spin"),ie=H("spin",a),[le,fe,me]=hR(ie),[ge,be]=s.useState(()=>o&&!vR(o,f)),Ie=mR(ge,j);s.useEffect(()=>{if(o){const st=W1(f,()=>{be(!0)});return st(),()=>{var ct;(ct=st==null?void 0:st.cancel)===null||ct===void 0||ct.call(st)}}be(!1)},[f,o]);const Oe=s.useMemo(()=>typeof z!="undefined"&&!k,[z,k]),Te=q()(ie,ne,{[`${ie}-sm`]:w==="small",[`${ie}-lg`]:w==="large",[`${ie}-spinning`]:ge,[`${ie}-show-text`]:!!I,[`${ie}-rtl`]:X==="rtl"},y,!k&&C,fe,me),Ve=q()(`${ie}-container`,{[`${ie}-blur`]:ge}),De=(t=Z!=null?Z:ae)!==null&&t!==void 0?t:EE,Ue=Object.assign(Object.assign({},oe),L),ke=s.createElement("div",Object.assign({},G,{style:Ue,className:Te,"aria-live":"polite","aria-busy":ge}),s.createElement(lR,{prefixCls:ie,indicator:De,percent:Ie}),I&&(Oe||k)?s.createElement("div",{className:`${ie}-text`},I):null);return le(Oe?s.createElement("div",Object.assign({},G,{className:q()(`${ie}-nested-loading`,D,fe,me)}),ge&&s.createElement("div",{key:"loading"},ke),s.createElement("div",{className:Ve,key:"container"},z)):k?s.createElement("div",{className:q()(`${ie}-fullscreen`,{[`${ie}-fullscreen-show`]:ge},C,fe,me)},ke):ke)};IE.setDefaultIndicator=e=>{EE=e};var gv=IE;const qS=s.createContext({}),J8=qS.Consumer;var TE=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a};const yR=e=>{var{prefixCls:t,className:a,avatar:o,title:f,description:y}=e,C=TE(e,["prefixCls","className","avatar","title","description"]);const{getPrefixCls:w}=(0,s.useContext)(ye.E_),I=w("list",t),D=q()(`${I}-item-meta`,a),L=s.createElement("div",{className:`${I}-item-meta-content`},f&&s.createElement("h4",{className:`${I}-item-meta-title`},f),y&&s.createElement("div",{className:`${I}-item-meta-description`},y));return s.createElement("div",Object.assign({},C,{className:D}),o&&s.createElement("div",{className:`${I}-item-meta-avatar`},o),(f||y)&&L)},ME=s.forwardRef((e,t)=>{const{prefixCls:a,children:o,actions:f,extra:y,styles:C,className:w,classNames:I,colStyle:D}=e,L=TE(e,["prefixCls","children","actions","extra","styles","className","classNames","colStyle"]),{grid:z,itemLayout:k}=(0,s.useContext)(qS),{getPrefixCls:Z,list:j}=(0,s.useContext)(ye.E_),G=fe=>{var me,ge;return q()((ge=(me=j==null?void 0:j.item)===null||me===void 0?void 0:me.classNames)===null||ge===void 0?void 0:ge[fe],I==null?void 0:I[fe])},H=fe=>{var me,ge;return Object.assign(Object.assign({},(ge=(me=j==null?void 0:j.item)===null||me===void 0?void 0:me.styles)===null||ge===void 0?void 0:ge[fe]),C==null?void 0:C[fe])},X=()=>{let fe=!1;return s.Children.forEach(o,me=>{typeof me=="string"&&(fe=!0)}),fe&&s.Children.count(o)>1},ne=()=>k==="vertical"?!!y:!X(),oe=Z("list",a),ae=f&&f.length>0&&s.createElement("ul",{className:q()(`${oe}-item-action`,G("actions")),key:"actions",style:H("actions")},f.map((fe,me)=>s.createElement("li",{key:`${oe}-item-action-${me}`},fe,me!==f.length-1&&s.createElement("em",{className:`${oe}-item-action-split`})))),ie=z?"div":"li",le=s.createElement(ie,Object.assign({},L,z?{}:{ref:t},{className:q()(`${oe}-item`,{[`${oe}-item-no-flex`]:!ne()},w)}),k==="vertical"&&y?[s.createElement("div",{className:`${oe}-item-main`,key:"content"},o,ae),s.createElement("div",{className:q()(`${oe}-item-extra`,G("extra")),key:"extra",style:H("extra")},y)]:[o,ae,(0,bn.Tm)(y,{key:"extra"})]);return z?s.createElement(To.Z,{ref:t,flex:1,style:D},le):le});ME.Meta=yR;var _R=ME;const bR=e=>{const{listBorderedCls:t,componentCls:a,paddingLG:o,margin:f,itemPaddingSM:y,itemPaddingLG:C,marginLG:w,borderRadiusLG:I}=e;return{[t]:{border:`${(0,he.bf)(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,borderRadius:I,[`${a}-header,${a}-footer,${a}-item`]:{paddingInline:o},[`${a}-pagination`]:{margin:`${(0,he.bf)(f)} ${(0,he.bf)(w)}`}},[`${t}${a}-sm`]:{[`${a}-item,${a}-header,${a}-footer`]:{padding:y}},[`${t}${a}-lg`]:{[`${a}-item,${a}-header,${a}-footer`]:{padding:C}}}},xR=e=>{const{componentCls:t,screenSM:a,screenMD:o,marginLG:f,marginSM:y,margin:C}=e;return{[`@media screen and (max-width:${o}px)`]:{[t]:{[`${t}-item`]:{[`${t}-item-action`]:{marginInlineStart:f}}},[`${t}-vertical`]:{[`${t}-item`]:{[`${t}-item-extra`]:{marginInlineStart:f}}}},[`@media screen and (max-width: ${a}px)`]:{[t]:{[`${t}-item`]:{flexWrap:"wrap",[`${t}-action`]:{marginInlineStart:y}}},[`${t}-vertical`]:{[`${t}-item`]:{flexWrap:"wrap-reverse",[`${t}-item-main`]:{minWidth:e.contentWidth},[`${t}-item-extra`]:{margin:`auto auto ${(0,he.bf)(C)}`}}}}}},CR=e=>{const{componentCls:t,antCls:a,controlHeight:o,minHeight:f,paddingSM:y,marginLG:C,padding:w,itemPadding:I,colorPrimary:D,itemPaddingSM:L,itemPaddingLG:z,paddingXS:k,margin:Z,colorText:j,colorTextDescription:G,motionDurationSlow:H,lineWidth:X,headerBg:ne,footerBg:oe,emptyTextPadding:ae,metaMarginBottom:ie,avatarMarginRight:le,titleMarginBottom:fe,descriptionFontSize:me}=e;return{[t]:Object.assign(Object.assign({},(0,Jt.Wf)(e)),{position:"relative","*":{outline:"none"},[`${t}-header`]:{background:ne},[`${t}-footer`]:{background:oe},[`${t}-header, ${t}-footer`]:{paddingBlock:y},[`${t}-pagination`]:{marginBlockStart:C,[`${a}-pagination-options`]:{textAlign:"start"}},[`${t}-spin`]:{minHeight:f,textAlign:"center"},[`${t}-items`]:{margin:0,padding:0,listStyle:"none"},[`${t}-item`]:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:I,color:j,[`${t}-item-meta`]:{display:"flex",flex:1,alignItems:"flex-start",maxWidth:"100%",[`${t}-item-meta-avatar`]:{marginInlineEnd:le},[`${t}-item-meta-content`]:{flex:"1 0",width:0,color:j},[`${t}-item-meta-title`]:{margin:`0 0 ${(0,he.bf)(e.marginXXS)} 0`,color:j,fontSize:e.fontSize,lineHeight:e.lineHeight,"> a":{color:j,transition:`all ${H}`,"&:hover":{color:D}}},[`${t}-item-meta-description`]:{color:G,fontSize:me,lineHeight:e.lineHeight}},[`${t}-item-action`]:{flex:"0 0 auto",marginInlineStart:e.marginXXL,padding:0,fontSize:0,listStyle:"none","& > li":{position:"relative",display:"inline-block",padding:`0 ${(0,he.bf)(k)}`,color:G,fontSize:e.fontSize,lineHeight:e.lineHeight,textAlign:"center","&:first-child":{paddingInlineStart:0}},[`${t}-item-action-split`]:{position:"absolute",insetBlockStart:"50%",insetInlineEnd:0,width:X,height:e.calc(e.fontHeight).sub(e.calc(e.marginXXS).mul(2)).equal(),transform:"translateY(-50%)",backgroundColor:e.colorSplit}}},[`${t}-empty`]:{padding:`${(0,he.bf)(w)} 0`,color:G,fontSize:e.fontSizeSM,textAlign:"center"},[`${t}-empty-text`]:{padding:ae,color:e.colorTextDisabled,fontSize:e.fontSize,textAlign:"center"},[`${t}-item-no-flex`]:{display:"block"}}),[`${t}-grid ${a}-col > ${t}-item`]:{display:"block",maxWidth:"100%",marginBlockEnd:Z,paddingBlock:0,borderBlockEnd:"none"},[`${t}-vertical ${t}-item`]:{alignItems:"initial",[`${t}-item-main`]:{display:"block",flex:1},[`${t}-item-extra`]:{marginInlineStart:C},[`${t}-item-meta`]:{marginBlockEnd:ie,[`${t}-item-meta-title`]:{marginBlockStart:0,marginBlockEnd:fe,color:j,fontSize:e.fontSizeLG,lineHeight:e.lineHeightLG}},[`${t}-item-action`]:{marginBlockStart:w,marginInlineStart:"auto","> li":{padding:`0 ${(0,he.bf)(w)}`,"&:first-child":{paddingInlineStart:0}}}},[`${t}-split ${t}-item`]:{borderBlockEnd:`${(0,he.bf)(e.lineWidth)} ${e.lineType} ${e.colorSplit}`,"&:last-child":{borderBlockEnd:"none"}},[`${t}-split ${t}-header`]:{borderBlockEnd:`${(0,he.bf)(e.lineWidth)} ${e.lineType} ${e.colorSplit}`},[`${t}-split${t}-empty ${t}-footer`]:{borderTop:`${(0,he.bf)(e.lineWidth)} ${e.lineType} ${e.colorSplit}`},[`${t}-loading ${t}-spin-nested-loading`]:{minHeight:o},[`${t}-split${t}-something-after-last-item ${a}-spin-container > ${t}-items > ${t}-item:last-child`]:{borderBlockEnd:`${(0,he.bf)(e.lineWidth)} ${e.lineType} ${e.colorSplit}`},[`${t}-lg ${t}-item`]:{padding:z},[`${t}-sm ${t}-item`]:{padding:L},[`${t}:not(${t}-vertical)`]:{[`${t}-item-no-flex`]:{[`${t}-item-action`]:{float:"right"}}}}},SR=e=>({contentWidth:220,itemPadding:`${(0,he.bf)(e.paddingContentVertical)} 0`,itemPaddingSM:`${(0,he.bf)(e.paddingContentVerticalSM)} ${(0,he.bf)(e.paddingContentHorizontal)}`,itemPaddingLG:`${(0,he.bf)(e.paddingContentVerticalLG)} ${(0,he.bf)(e.paddingContentHorizontalLG)}`,headerBg:"transparent",footerBg:"transparent",emptyTextPadding:e.padding,metaMarginBottom:e.padding,avatarMarginRight:e.padding,titleMarginBottom:e.paddingSM,descriptionFontSize:e.fontSize});var wR=(0,te.I$)("List",e=>{const t=(0,Qr.IX)(e,{listBorderedCls:`${e.componentCls}-bordered`,minHeight:e.controlHeightLG});return[CR(t),bR(t),xR(t)]},SR),ER=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a};function IR(e,t){var{pagination:a=!1,prefixCls:o,bordered:f=!1,split:y=!0,className:C,rootClassName:w,style:I,children:D,itemLayout:L,loadMore:z,grid:k,dataSource:Z=[],size:j,header:G,footer:H,loading:X=!1,rowKey:ne,renderItem:oe,locale:ae}=e,ie=ER(e,["pagination","prefixCls","bordered","split","className","rootClassName","style","children","itemLayout","loadMore","grid","dataSource","size","header","footer","loading","rowKey","renderItem","locale"]);const le=a&&typeof a=="object"?a:{},[fe,me]=s.useState(le.defaultCurrent||1),[ge,be]=s.useState(le.defaultPageSize||10),{getPrefixCls:Ie,direction:Oe,className:Te,style:Ve}=(0,ye.dj)("list"),{renderEmpty:De}=s.useContext(ye.E_),Ue={current:1,total:0},ke=sr=>(Gr,yi)=>{var Di;me(Gr),be(yi),a&&((Di=a==null?void 0:a[sr])===null||Di===void 0||Di.call(a,Gr,yi))},st=ke("onChange"),ct=ke("onShowSizeChange"),Et=(sr,Gr)=>{if(!oe)return null;let yi;return typeof ne=="function"?yi=ne(sr):ne?yi=sr[ne]:yi=sr.key,yi||(yi=`list-item-${Gr}`),s.createElement(s.Fragment,{key:yi},oe(sr,Gr))},It=()=>!!(z||a||H),Ct=Ie("list",o),[mt,bt,zt]=wR(Ct);let $t=X;typeof $t=="boolean"&&($t={spinning:$t});const Ht=!!($t!=null&&$t.spinning),Mt=(0,xr.Z)(j);let Cn="";switch(Mt){case"large":Cn="lg";break;case"small":Cn="sm";break;default:break}const Hn=q()(Ct,{[`${Ct}-vertical`]:L==="vertical",[`${Ct}-${Cn}`]:Cn,[`${Ct}-split`]:y,[`${Ct}-bordered`]:f,[`${Ct}-loading`]:Ht,[`${Ct}-grid`]:!!k,[`${Ct}-something-after-last-item`]:It(),[`${Ct}-rtl`]:Oe==="rtl"},Te,C,w,bt,zt),pn=KS(Ue,{total:Z.length,current:fe,pageSize:ge},a||{}),Dn=Math.ceil(pn.total/pn.pageSize);pn.current>Dn&&(pn.current=Dn);const Qt=a&&s.createElement("div",{className:q()(`${Ct}-pagination`)},s.createElement(Ox,Object.assign({align:"end"},pn,{onChange:st,onShowSizeChange:ct})));let Ft=(0,xe.Z)(Z);a&&Z.length>(pn.current-1)*pn.pageSize&&(Ft=(0,xe.Z)(Z).splice((pn.current-1)*pn.pageSize,pn.pageSize));const kn=Object.keys(k||{}).some(sr=>["xs","sm","md","lg","xl","xxl"].includes(sr)),Pn=(0,Xu.Z)(kn),Dr=s.useMemo(()=>{for(let sr=0;sr<Nl.c4.length;sr+=1){const Gr=Nl.c4[sr];if(Pn[Gr])return Gr}},[Pn]),br=s.useMemo(()=>{if(!k)return;const sr=Dr&&k[Dr]?k[Dr]:k.column;if(sr)return{width:`${100/sr}%`,maxWidth:`${100/sr}%`}},[JSON.stringify(k),Dr]);let or=Ht&&s.createElement("div",{style:{minHeight:53}});if(Ft.length>0){const sr=Ft.map((Gr,yi)=>Et(Gr,yi));or=k?s.createElement(hE.Z,{gutter:k.gutter},s.Children.map(sr,Gr=>s.createElement("div",{key:Gr==null?void 0:Gr.key,style:br},Gr))):s.createElement("ul",{className:`${Ct}-items`},sr)}else!D&&!Ht&&(or=s.createElement("div",{className:`${Ct}-empty-text`},(ae==null?void 0:ae.emptyText)||(De==null?void 0:De("List"))||s.createElement(Wf.Z,{componentName:"List"})));const ar=pn.position||"bottom",Fn=s.useMemo(()=>({grid:k,itemLayout:L}),[JSON.stringify(k),L]);return mt(s.createElement(qS.Provider,{value:Fn},s.createElement("div",Object.assign({ref:t,style:Object.assign(Object.assign({},Ve),I),className:Hn},ie),(ar==="top"||ar==="both")&&Qt,G&&s.createElement("div",{className:`${Ct}-header`},G),s.createElement(gv,Object.assign({},$t),or,D),H&&s.createElement("div",{className:`${Ct}-footer`},H),z||(ar==="bottom"||ar==="both")&&Qt)))}const PE=s.forwardRef(IR);PE.Item=_R;var TR=PE;function MR(){var e=(0,s.useState)({id:0,callback:null}),t=(0,Re.Z)(e,2),a=t[0],o=t[1],f=(0,s.useCallback)(function(y){o(function(C){var w=C.id;return{id:w+1,callback:y}})},[]);return(0,s.useEffect)(function(){var y;(y=a.callback)===null||y===void 0||y.call(a)},[a]),f}var PR=s.createContext(null),OE=PR;function OR(e){var t=s.useContext(OE),a=t.notFoundContent,o=t.activeIndex,f=t.setActiveIndex,y=t.selectOption,C=t.onFocus,w=t.onBlur,I=t.onScroll,D=e.prefixCls,L=e.options,z=L[o]||{};return s.createElement(_d,{prefixCls:"".concat(D,"-menu"),activeKey:z.key,onSelect:function(Z){var j=Z.key,G=L.find(function(H){var X=H.key;return X===j});y(G)},onFocus:C,onBlur:w,onScroll:I},L.map(function(k,Z){var j=k.key,G=k.disabled,H=k.className,X=k.style,ne=k.label;return s.createElement(ms,{key:j,disabled:G,className:H,style:X,onMouseEnter:function(){f(Z)}},ne)}),!L.length&&s.createElement(ms,{disabled:!0},a))}var RR=OR,$R={bottomRight:{points:["tl","br"],offset:[0,4],overflow:{adjustX:1,adjustY:1}},bottomLeft:{points:["tr","bl"],offset:[0,4],overflow:{adjustX:1,adjustY:1}},topRight:{points:["bl","tr"],offset:[0,-4],overflow:{adjustX:1,adjustY:1}},topLeft:{points:["br","tl"],offset:[0,-4],overflow:{adjustX:1,adjustY:1}}},AR=function(t){var a=t.prefixCls,o=t.options,f=t.children,y=t.visible,C=t.transitionName,w=t.getPopupContainer,I=t.dropdownClassName,D=t.direction,L=t.placement,z="".concat(a,"-dropdown"),k=s.createElement(RR,{prefixCls:z,options:o}),Z=(0,s.useMemo)(function(){var j;return D==="rtl"?j=L==="top"?"topLeft":"bottomLeft":j=L==="top"?"topRight":"bottomRight",j},[D,L]);return s.createElement(uc.Z,{prefixCls:z,popupVisible:y,popup:k,popupPlacement:Z,popupTransitionName:C,builtinPlacements:$R,getPopupContainer:w,popupClassName:I},f)},DR=AR,LR=function(){return null},zR=LR;function NR(e){var t=e.selectionStart;return e.value.slice(0,t)}function BR(e,t){return t.reduce(function(a,o){var f=e.lastIndexOf(o);return f>a.location?{location:f,prefix:o}:a},{location:-1,prefix:""})}function RE(e){return(e||"").toLowerCase()}function FR(e,t,a){var o=e[0];if(!o||o===a)return e;for(var f=e,y=t.length,C=0;C<y;C+=1)if(RE(f[C])!==RE(t[C])){f=f.slice(C);break}else C===y-1&&(f=f.slice(y));return f}function kR(e,t){var a=t.measureLocation,o=t.prefix,f=t.targetText,y=t.selectionStart,C=t.split,w=e.slice(0,a);w[w.length-C.length]===C&&(w=w.slice(0,w.length-C.length)),w&&(w="".concat(w).concat(C));var I=FR(e.slice(y),f.slice(y-a-o.length),C);I.slice(0,C.length)===C&&(I=I.slice(C.length));var D="".concat(w).concat(o).concat(f).concat(C);return{text:"".concat(D).concat(I),selectionLocation:D.length}}function jR(e,t){e.setSelectionRange(t,t),e.blur(),e.focus()}function ZR(e,t){return!t||e.indexOf(t)===-1}function VR(e,t){var a=t.value,o=a===void 0?"":a,f=e.toLowerCase();return o.toLowerCase().indexOf(f)!==-1}var HR=["prefixCls","className","style","prefix","split","notFoundContent","value","defaultValue","children","options","open","allowClear","silent","validateSearch","filterOption","onChange","onKeyDown","onKeyUp","onPressEnter","onSearch","onSelect","onFocus","onBlur","transitionName","placement","direction","getPopupContainer","dropdownClassName","rows","visible","onPopupScroll"],UR=["suffix","prefixCls","defaultValue","value","allowClear","onChange","classNames","className","disabled","onClear"],WR=(0,s.forwardRef)(function(e,t){var a=e.prefixCls,o=e.className,f=e.style,y=e.prefix,C=y===void 0?"@":y,w=e.split,I=w===void 0?" ":w,D=e.notFoundContent,L=D===void 0?"Not Found":D,z=e.value,k=e.defaultValue,Z=e.children,j=e.options,G=e.open,H=e.allowClear,X=e.silent,ne=e.validateSearch,oe=ne===void 0?ZR:ne,ae=e.filterOption,ie=ae===void 0?VR:ae,le=e.onChange,fe=e.onKeyDown,me=e.onKeyUp,ge=e.onPressEnter,be=e.onSearch,Ie=e.onSelect,Oe=e.onFocus,Te=e.onBlur,Ve=e.transitionName,De=e.placement,Ue=e.direction,ke=e.getPopupContainer,st=e.dropdownClassName,ct=e.rows,Et=ct===void 0?1:ct,It=e.visible,Ct=e.onPopupScroll,mt=(0,de.Z)(e,HR),bt=(0,s.useMemo)(function(){return Array.isArray(C)?C:[C]},[C]),zt=(0,s.useRef)(null),$t=(0,s.useRef)(null),Ht=(0,s.useRef)(null),Mt=function(){var Jo;return(Jo=$t.current)===null||Jo===void 0||(Jo=Jo.resizableTextArea)===null||Jo===void 0?void 0:Jo.textArea};s.useImperativeHandle(t,function(){var qo;return{focus:function(){var Vo;return(Vo=$t.current)===null||Vo===void 0?void 0:Vo.focus()},blur:function(){var Vo;return(Vo=$t.current)===null||Vo===void 0?void 0:Vo.blur()},textarea:(qo=$t.current)===null||qo===void 0||(qo=qo.resizableTextArea)===null||qo===void 0?void 0:qo.textArea,nativeElement:zt.current}});var Cn=(0,s.useState)(!1),Hn=(0,Re.Z)(Cn,2),pn=Hn[0],Dn=Hn[1],Qt=(0,s.useState)(""),Ft=(0,Re.Z)(Qt,2),kn=Ft[0],Pn=Ft[1],Dr=(0,s.useState)(""),br=(0,Re.Z)(Dr,2),or=br[0],ar=br[1],Fn=(0,s.useState)(0),sr=(0,Re.Z)(Fn,2),Gr=sr[0],yi=sr[1],Di=(0,s.useState)(0),Ui=(0,Re.Z)(Di,2),$o=Ui[0],Ri=Ui[1],mi=(0,s.useState)(!1),Pi=(0,Re.Z)(mi,2),ao=Pi[0],ki=Pi[1],Ao=(0,Fs.Z)("",{defaultValue:k,value:z}),Cr=(0,Re.Z)(Ao,2),ur=Cr[0],Tr=Cr[1];(0,s.useEffect)(function(){pn&&Ht.current&&(Ht.current.scrollTop=Mt().scrollTop)},[pn]);var qn=s.useMemo(function(){if(G)for(var qo=0;qo<bt.length;qo+=1){var Jo=bt[qo],Vo=ur.lastIndexOf(Jo);if(Vo>=0)return[!0,"",Jo,Vo]}return[pn,kn,or,Gr]},[G,pn,bt,ur,kn,or,Gr]),pi=(0,Re.Z)(qn,4),ji=pi[0],go=pi[1],ra=pi[2],Aa=pi[3],oa=s.useCallback(function(qo){var Jo;return j&&j.length>0?Jo=j.map(function(Vo){var ls;return(0,Y.Z)((0,Y.Z)({},Vo),{},{key:(ls=Vo==null?void 0:Vo.key)!==null&&ls!==void 0?ls:Vo.value})}):Jo=(0,Wl.Z)(Z).map(function(Vo){var ls=Vo.props,Ds=Vo.key;return(0,Y.Z)((0,Y.Z)({},ls),{},{label:ls.children,key:Ds||ls.value})}),Jo.filter(function(Vo){return ie===!1?!0:ie(qo,Vo)})},[Z,j,ie]),Cs=s.useMemo(function(){return oa(go)},[oa,go]),Za=MR(),Ga=function(Jo,Vo,ls){Dn(!0),Pn(Jo),ar(Vo),yi(ls),Ri(0)},va=function(Jo){Dn(!1),yi(0),Pn(""),Za(Jo)},ts=function(Jo){Tr(Jo),le==null||le(Jo)},As=function(Jo){var Vo=Jo.target.value;ts(Vo)},Ro=function(Jo){var Vo,ls=Jo.value,Ds=ls===void 0?"":ls,ka=kR(ur,{measureLocation:Aa,targetText:Ds,prefix:ra,selectionStart:(Vo=Mt())===null||Vo===void 0?void 0:Vo.selectionStart,split:I}),Ca=ka.text,gs=ka.selectionLocation;ts(Ca),va(function(){jR(Mt(),gs)}),Ie==null||Ie(Jo,ra)},ta=function(Jo){var Vo=Jo.which;if(fe==null||fe(Jo),!!ji){if(Vo===nt.Z.UP||Vo===nt.Z.DOWN){var ls=Cs.length,Ds=Vo===nt.Z.UP?-1:1,ka=($o+Ds+ls)%ls;Ri(ka),Jo.preventDefault()}else if(Vo===nt.Z.ESC)va();else if(Vo===nt.Z.ENTER){if(Jo.preventDefault(),X)return;if(!Cs.length){va();return}var Ca=Cs[$o];Ro(Ca)}}},$a=function(Jo){var Vo=Jo.key,ls=Jo.which,Ds=Jo.target,ka=NR(Ds),Ca=BR(ka,bt),gs=Ca.location,vs=Ca.prefix;if(me==null||me(Jo),[nt.Z.ESC,nt.Z.UP,nt.Z.DOWN,nt.Z.ENTER].indexOf(ls)===-1)if(gs!==-1){var Ys=ka.slice(gs+vs.length),_a=oe(Ys,I),Ho=!!oa(Ys).length;_a?(Vo===vs||Vo==="Shift"||ls===nt.Z.ALT||Vo==="AltGraph"||ji||Ys!==go&&Ho)&&Ga(Ys,vs,gs):ji&&va(),be&&_a&&be(Ys,vs)}else ji&&va()},Ka=function(Jo){!ji&&ge&&ge(Jo)},ss=(0,s.useRef)(),ll=function(Jo){window.clearTimeout(ss.current),!ao&&Jo&&Oe&&Oe(Jo),ki(!0)},Rl=function(Jo){ss.current=window.setTimeout(function(){ki(!1),va(),Te==null||Te(Jo)},0)},yl=function(){ll()},Xl=function(){Rl()},ga=function(Jo){Ct==null||Ct(Jo)};return s.createElement("div",{className:q()(a,o),style:f,ref:zt},s.createElement(cE,(0,We.Z)({ref:$t,value:ur},mt,{rows:Et,onChange:As,onKeyDown:ta,onKeyUp:$a,onPressEnter:Ka,onFocus:ll,onBlur:Rl})),ji&&s.createElement("div",{ref:Ht,className:"".concat(a,"-measure")},ur.slice(0,Aa),s.createElement(OE.Provider,{value:{notFoundContent:L,activeIndex:$o,setActiveIndex:Ri,selectOption:Ro,onFocus:yl,onBlur:Xl,onScroll:ga}},s.createElement(DR,{prefixCls:a,transitionName:Ve,placement:De,direction:Ue,options:Cs,visible:!0,getPopupContainer:ke,dropdownClassName:st},s.createElement("span",null,ra))),ur.slice(Aa+ra.length)))}),$E=(0,s.forwardRef)(function(e,t){var a=e.suffix,o=e.prefixCls,f=o===void 0?"rc-mentions":o,y=e.defaultValue,C=e.value,w=e.allowClear,I=e.onChange,D=e.classNames,L=e.className,z=e.disabled,k=e.onClear,Z=(0,de.Z)(e,UR),j=(0,s.useRef)(null),G=(0,s.useRef)(null);(0,s.useImperativeHandle)(t,function(){var le,fe;return(0,Y.Z)((0,Y.Z)({},G.current),{},{nativeElement:((le=j.current)===null||le===void 0?void 0:le.nativeElement)||((fe=G.current)===null||fe===void 0?void 0:fe.nativeElement)})});var H=(0,Fs.Z)("",{defaultValue:y,value:C}),X=(0,Re.Z)(H,2),ne=X[0],oe=X[1],ae=function(fe){oe(fe),I==null||I(fe)},ie=function(){ae("")};return s.createElement(lE.Q,{suffix:a,prefixCls:f,value:ne,allowClear:w,handleReset:ie,className:L,classNames:D,disabled:z,ref:j,onClear:k},s.createElement(WR,(0,We.Z)({className:D==null?void 0:D.mentions,prefixCls:f,ref:G,onChange:ae,disabled:z},Z)))});$E.Option=zR;var GR=$E,AE=GR;function $x(e){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1)&&e==null?[]:Array.isArray(e)?e:[e]}const KR=e=>{const{componentCls:t,colorTextDisabled:a,controlItemBgHover:o,controlPaddingHorizontal:f,colorText:y,motionDurationSlow:C,lineHeight:w,controlHeight:I,paddingInline:D,paddingBlock:L,fontSize:z,fontSizeIcon:k,colorTextTertiary:Z,colorTextQuaternary:j,colorBgElevated:G,paddingXXS:H,paddingLG:X,borderRadius:ne,borderRadiusLG:oe,boxShadowSecondary:ae,itemPaddingVertical:ie,calc:le}=e;return{[t]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(0,Jt.Wf)(e)),(0,sl.ik)(e)),{position:"relative",display:"inline-block",height:"auto",padding:0,overflow:"hidden",lineHeight:w,whiteSpace:"pre-wrap",verticalAlign:"bottom"}),(0,fc.qG)(e)),(0,fc.H8)(e)),(0,fc.Mu)(e)),{"&-affix-wrapper":Object.assign(Object.assign({},(0,sl.ik)(e)),{display:"inline-flex",padding:0,"&::before":{display:"inline-block",width:0,visibility:"hidden",content:'"\\a0"'},[`${t}-suffix`]:{position:"absolute",top:0,insetInlineEnd:D,bottom:0,zIndex:1,display:"inline-flex",alignItems:"center",margin:"auto"},[`&:has(${t}-suffix) > ${t} > textarea`]:{paddingInlineEnd:X},[`${t}-clear-icon`]:{position:"absolute",insetInlineEnd:0,insetBlockStart:le(z).mul(w).mul(.5).add(L).equal(),transform:"translateY(-50%)",margin:0,padding:0,color:j,fontSize:k,verticalAlign:-1,cursor:"pointer",transition:`color ${C}`,border:"none",outline:"none",backgroundColor:"transparent","&:hover":{color:Z},"&:active":{color:y},"&-hidden":{visibility:"hidden"}}})}),(0,fc.vc)(e)),{"&-disabled":{"> textarea":Object.assign({},(0,fc.Xy)(e))},[`&, &-affix-wrapper > ${t}`]:{[`> textarea, ${t}-measure`]:{color:y,boxSizing:"border-box",minHeight:e.calc(I).sub(2),margin:0,padding:`${(0,he.bf)(L)} ${(0,he.bf)(D)}`,overflow:"inherit",overflowX:"hidden",overflowY:"auto",fontWeight:"inherit",fontSize:"inherit",fontFamily:"inherit",fontStyle:"inherit",fontVariant:"inherit",fontSizeAdjust:"inherit",fontStretch:"inherit",lineHeight:"inherit",direction:"inherit",letterSpacing:"inherit",whiteSpace:"inherit",textAlign:"inherit",verticalAlign:"top",wordWrap:"break-word",wordBreak:"inherit",tabSize:"inherit"},"> textarea":Object.assign({width:"100%",border:"none",outline:"none",resize:"none",backgroundColor:"transparent"},(0,sl.nz)(e.colorTextPlaceholder)),[`${t}-measure`]:{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,zIndex:-1,color:"transparent",pointerEvents:"none","> span":{display:"inline-block",minHeight:"1em"}}},"&-dropdown":Object.assign(Object.assign({},(0,Jt.Wf)(e)),{position:"absolute",top:-9999,insetInlineStart:-9999,zIndex:e.zIndexPopup,boxSizing:"border-box",fontSize:z,fontVariant:"initial",padding:H,backgroundColor:G,borderRadius:oe,outline:"none",boxShadow:ae,"&-hidden":{display:"none"},[`${t}-dropdown-menu`]:{maxHeight:e.dropdownHeight,margin:0,paddingInlineStart:0,overflow:"auto",listStyle:"none",outline:"none","&-item":Object.assign(Object.assign({},Jt.vS),{position:"relative",display:"block",minWidth:e.controlItemWidth,padding:`${(0,he.bf)(ie)} ${(0,he.bf)(f)}`,color:y,borderRadius:ne,fontWeight:"normal",lineHeight:w,cursor:"pointer",transition:`background ${C} ease`,"&:hover":{backgroundColor:o},"&-disabled":{color:a,cursor:"not-allowed","&:hover":{color:a,backgroundColor:o,cursor:"not-allowed"}},"&-selected":{color:y,fontWeight:e.fontWeightStrong,backgroundColor:o},"&-active":{backgroundColor:o}})}})})}},XR=e=>Object.assign(Object.assign({},(0,Cu.T)(e)),{dropdownHeight:250,controlItemWidth:100,zIndexPopup:e.zIndexPopupBase+50,itemPaddingVertical:(e.controlHeight-e.fontHeight)/2});var YR=(0,te.I$)("Mentions",e=>{const t=(0,Qr.IX)(e,(0,Cu.e)(e));return[KR(t)]},XR),qR=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a};const{Option:DE}=AE;function JR(){return!0}const T_=s.forwardRef((e,t)=>{const{prefixCls:a,className:o,rootClassName:f,disabled:y,loading:C,filterOption:w,children:I,notFoundContent:D,options:L,status:z,allowClear:k=!1,popupClassName:Z,style:j,variant:G}=e,H=qR(e,["prefixCls","className","rootClassName","disabled","loading","filterOption","children","notFoundContent","options","status","allowClear","popupClassName","style","variant"]),[X,ne]=s.useState(!1),oe=s.useRef(null),ae=(0,Yt.sQ)(t,oe),{getPrefixCls:ie,renderEmpty:le,direction:fe,mentions:me}=s.useContext(ye.E_),{status:ge,hasFeedback:be,feedbackIcon:Ie}=s.useContext($c.aM),Oe=(0,Fc.F)(ge,z),Te=function(){H.onFocus&&H.onFocus.apply(H,arguments),ne(!0)},Ve=function(){H.onBlur&&H.onBlur.apply(H,arguments),ne(!1)},De=s.useMemo(()=>D!==void 0?D:(le==null?void 0:le("Select"))||s.createElement(Wf.Z,{componentName:"Select"}),[D,le]),Ue=s.useMemo(()=>C?s.createElement(DE,{value:"ANTD_SEARCHING",disabled:!0},s.createElement(gv,{size:"small"})):I,[C,I]),ke=C?[{value:"ANTD_SEARCHING",disabled:!0,label:s.createElement(gv,{size:"small"})}]:L,st=C?JR:w,ct=ie("mentions",a),Et=(0,uE.Z)(k),It=(0,Un.Z)(ct),[Ct,mt,bt]=YR(ct,It),[zt,$t]=(0,jf.Z)("mentions",G),Ht=be&&s.createElement(s.Fragment,null,Ie),Mt=q()(me==null?void 0:me.className,o,f,bt,It),Cn=s.createElement(AE,Object.assign({silent:C,prefixCls:ct,notFoundContent:De,className:Mt,disabled:y,allowClear:Et,direction:fe,style:Object.assign(Object.assign({},me==null?void 0:me.style),j)},H,{filterOption:st,onFocus:Te,onBlur:Ve,dropdownClassName:q()(Z,f,mt,bt,It),ref:ae,options:ke,suffix:Ht,classNames:{mentions:q()({[`${ct}-disabled`]:y,[`${ct}-focused`]:X,[`${ct}-rtl`]:fe==="rtl"},mt),variant:q()({[`${ct}-${zt}`]:$t},(0,Fc.Z)(ct,Oe)),affixWrapper:mt}}),Ue);return Ct(Cn)});T_.Option=DE;const QR=(0,vl.Z)(T_,void 0,void 0,"mentions");T_._InternalPanelDoNotUseOrYouWillBeFired=QR,T_.getMentions=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{prefix:a="@",split:o=" "}=t,f=$x(a);return e.split(o).map(function(){let y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",C=null;return f.some(w=>y.slice(0,w.length)===w?(C=w,!0):!1),C!==null?{prefix:C,value:y.slice(C.length)}:null}).filter(y=>!!y&&!!y.value)};var e$=T_;let Ed=null,Lg=e=>e(),M_=[],P_={};function LE(){const{getContainer:e,duration:t,rtl:a,maxCount:o,top:f}=P_,y=(e==null?void 0:e())||document.body;return{getContainer:()=>y,duration:t,rtl:a,maxCount:o,top:f}}const t$=s.forwardRef((e,t)=>{const{messageConfig:a,sync:o}=e,{getPrefixCls:f}=(0,s.useContext)(ye.E_),y=P_.prefixCls||f("message"),C=(0,s.useContext)(zl),[w,I]=wo(Object.assign(Object.assign(Object.assign({},a),{prefixCls:y}),C.message));return s.useImperativeHandle(t,()=>{const D=Object.assign({},w);return Object.keys(D).forEach(L=>{D[L]=function(){return o(),w[L].apply(w,arguments)}}),{instance:D,sync:o}}),I}),n$=s.forwardRef((e,t)=>{const[a,o]=s.useState(LE),f=()=>{o(LE)};s.useEffect(f,[]);const y=(0,_e.w6)(),C=y.getRootPrefixCls(),w=y.getIconPrefixCls(),I=y.getTheme(),D=s.createElement(t$,{ref:t,sync:f,messageConfig:a});return s.createElement(_e.ZP,{prefixCls:C,iconPrefixCls:w,theme:I},y.holderRender?y.holderRender(D):D)});function Ax(){if(!Ed){const e=document.createDocumentFragment(),t={fragment:e};Ed=t,Lg(()=>{(0,wt.x)()(s.createElement(n$,{ref:o=>{const{instance:f,sync:y}=o||{};Promise.resolve().then(()=>{!t.instance&&f&&(t.instance=f,t.sync=y,Ax())})}}),e)});return}Ed.instance&&(M_.forEach(e=>{const{type:t,skipped:a}=e;if(!a)switch(t){case"open":{Lg(()=>{const o=Ed.instance.open(Object.assign(Object.assign({},P_),e.config));o==null||o.then(e.resolve),e.setCloseFn(o)});break}case"destroy":Lg(()=>{Ed==null||Ed.instance.destroy(e.key)});break;default:Lg(()=>{var o;const f=(o=Ed.instance)[t].apply(o,(0,xe.Z)(e.args));f==null||f.then(e.resolve),e.setCloseFn(f)})}}),M_=[])}function r$(e){P_=Object.assign(Object.assign({},P_),e),Lg(()=>{var t;(t=Ed==null?void 0:Ed.sync)===null||t===void 0||t.call(Ed)})}function i$(e){const t=Oo(a=>{let o;const f={type:"open",config:e,resolve:a,setCloseFn:y=>{o=y}};return M_.push(f),()=>{o?Lg(()=>{o()}):f.skipped=!0}});return Ax(),t}function o$(e,t){const a=(0,_e.w6)(),o=Oo(f=>{let y;const C={type:e,args:t,resolve:f,setCloseFn:w=>{y=w}};return M_.push(C),()=>{y?Lg(()=>{y()}):C.skipped=!0}});return Ax(),o}const a$=e=>{M_.push({type:"destroy",key:e}),Ax()},s$=["success","info","warning","error","loading"],zE={open:i$,destroy:a$,config:r$,useMessage:So,_InternalPanelDoNotUseOrYouWillBeFired:yo};s$.forEach(e=>{zE[e]=function(){for(var t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];return o$(e,a)}});const rk=()=>{};let ik=null,ok=null;var l$=zE,c$=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a};const u$=e=>{const{prefixCls:t,className:a,closeIcon:o,closable:f,type:y,title:C,children:w,footer:I}=e,D=c$(e,["prefixCls","className","closeIcon","closable","type","title","children","footer"]),{getPrefixCls:L}=s.useContext(ye.E_),z=L(),k=t||L("modal"),Z=(0,Un.Z)(z),[j,G,H]=fm(k,Z),X=`${k}-confirm`;let ne={};return y?ne={closable:f!=null?f:!1,title:"",footer:"",children:s.createElement(tp,Object.assign({},e,{prefixCls:k,confirmPrefixCls:X,rootPrefixCls:z,content:w}))}:ne={closable:f!=null?f:!0,title:C,footer:I!==null&&s.createElement(Pl,Object.assign({},e)),children:w},j(s.createElement(ns,Object.assign({prefixCls:k,className:q()(G,`${k}-pure-panel`,y&&X,y&&`${X}-${y}`,a,H,Z)},D,{closeIcon:_c(k,o),closable:f},ne)))};var d$=(0,vl.i)(u$);function NE(e){return Bd(rp(e))}const tf=Zg;tf.useModal=pf,tf.info=function(t){return Bd(mm(t))},tf.success=function(t){return Bd(ip(t))},tf.error=function(t){return Bd(ff(t))},tf.warning=NE,tf.warn=NE,tf.confirm=function(t){return Bd(uh(t))},tf.destroyAll=function(){for(;Wu.length;){const t=Wu.pop();t&&t()}},tf.config=gm,tf._InternalPanelDoNotUseOrYouWillBeFired=d$;var f$=tf;let nf=null,Dx=e=>e(),Lx=[],O_={};function BE(){const{getContainer:e,rtl:t,maxCount:a,top:o,bottom:f,showProgress:y,pauseOnHover:C}=O_,w=(e==null?void 0:e())||document.body;return{getContainer:()=>w,rtl:t,maxCount:a,top:o,bottom:f,showProgress:y,pauseOnHover:C}}const h$=s.forwardRef((e,t)=>{const{notificationConfig:a,sync:o}=e,{getPrefixCls:f}=(0,s.useContext)(ye.E_),y=O_.prefixCls||f("notification"),C=(0,s.useContext)(zl),[w,I]=Pu(Object.assign(Object.assign(Object.assign({},a),{prefixCls:y}),C.notification));return s.useEffect(o,[]),s.useImperativeHandle(t,()=>{const D=Object.assign({},w);return Object.keys(D).forEach(L=>{D[L]=function(){return o(),w[L].apply(w,arguments)}}),{instance:D,sync:o}}),I}),p$=s.forwardRef((e,t)=>{const[a,o]=s.useState(BE),f=()=>{o(BE)};s.useEffect(f,[]);const y=(0,_e.w6)(),C=y.getRootPrefixCls(),w=y.getIconPrefixCls(),I=y.getTheme(),D=s.createElement(h$,{ref:t,sync:f,notificationConfig:a});return s.createElement(_e.ZP,{prefixCls:C,iconPrefixCls:w,theme:I},y.holderRender?y.holderRender(D):D)});function JS(){if(!nf){const e=document.createDocumentFragment(),t={fragment:e};nf=t,Dx(()=>{(0,wt.x)()(s.createElement(p$,{ref:o=>{const{instance:f,sync:y}=o||{};Promise.resolve().then(()=>{!t.instance&&f&&(t.instance=f,t.sync=y,JS())})}}),e)});return}nf.instance&&(Lx.forEach(e=>{switch(e.type){case"open":{Dx(()=>{nf.instance.open(Object.assign(Object.assign({},O_),e.config))});break}case"destroy":Dx(()=>{nf==null||nf.instance.destroy(e.key)});break}}),Lx=[])}function m$(e){O_=Object.assign(Object.assign({},O_),e),Dx(()=>{var t;(t=nf==null?void 0:nf.sync)===null||t===void 0||t.call(nf)})}function FE(e){const t=(0,_e.w6)();Lx.push({type:"open",config:e}),JS()}const g$=e=>{Lx.push({type:"destroy",key:e}),JS()},v$=["success","info","warning","error"],kE={open:FE,destroy:g$,config:m$,useNotification:Sm,_InternalPanelDoNotUseOrYouWillBeFired:gf};v$.forEach(e=>{kE[e]=t=>FE(Object.assign(Object.assign({},t),{type:e}))});const sk=()=>{};let lk=null,ck=null;var y$=kE,jE=F(17522),ZE=F(97294);const _$=e=>{const{componentCls:t,iconCls:a,antCls:o,zIndexPopup:f,colorText:y,colorWarning:C,marginXXS:w,marginXS:I,fontSize:D,fontWeightStrong:L,colorTextHeading:z}=e;return{[t]:{zIndex:f,[`&${o}-popover`]:{fontSize:D},[`${t}-message`]:{marginBottom:I,display:"flex",flexWrap:"nowrap",alignItems:"start",[`> ${t}-message-icon ${a}`]:{color:C,fontSize:D,lineHeight:1,marginInlineEnd:I},[`${t}-title`]:{fontWeight:L,color:z,"&:only-child":{fontWeight:"normal"}},[`${t}-description`]:{marginTop:w,color:y}},[`${t}-buttons`]:{textAlign:"end",whiteSpace:"nowrap",button:{marginInlineStart:I}}}}},b$=e=>{const{zIndexPopupBase:t}=e;return{zIndexPopup:t+60}};var VE=(0,te.I$)("Popconfirm",e=>_$(e),b$,{resetStyle:!1}),x$=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a};const HE=e=>{const{prefixCls:t,okButtonProps:a,cancelButtonProps:o,title:f,description:y,cancelText:C,okText:w,okType:I="primary",icon:D=s.createElement(Xn.Z,null),showCancel:L=!0,close:z,onConfirm:k,onCancel:Z,onPopupClick:j}=e,{getPrefixCls:G}=s.useContext(ye.E_),[H]=(0,In.Z)("Popconfirm",Ac.Z.Popconfirm),X=(0,jE.Z)(f),ne=(0,jE.Z)(y);return s.createElement("div",{className:`${t}-inner-content`,onClick:j},s.createElement("div",{className:`${t}-message`},D&&s.createElement("span",{className:`${t}-message-icon`},D),s.createElement("div",{className:`${t}-message-text`},X&&s.createElement("div",{className:`${t}-title`},X),ne&&s.createElement("div",{className:`${t}-description`},ne))),s.createElement("div",{className:`${t}-buttons`},L&&s.createElement($n,Object.assign({onClick:Z,size:"small"},o),C||(H==null?void 0:H.cancelText)),s.createElement(Yr,{buttonProps:Object.assign(Object.assign({size:"small"},Ye(I)),a),actionFn:k,close:z,prefixCls:G("btn"),quitOnNullishReturnValue:!0,emitEvent:!0},w||(H==null?void 0:H.okText))))};var C$=e=>{const{prefixCls:t,placement:a,className:o,style:f}=e,y=x$(e,["prefixCls","placement","className","style"]),{getPrefixCls:C}=s.useContext(ye.E_),w=C("popconfirm",t),[I]=VE(w);return I(s.createElement(ZE.ZP,{placement:a,className:q()(w,o),style:f,content:s.createElement(HE,Object.assign({prefixCls:w},y))}))},S$=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a};const UE=s.forwardRef((e,t)=>{var a,o;const{prefixCls:f,placement:y="top",trigger:C="click",okType:w="primary",icon:I=s.createElement(Xn.Z,null),children:D,overlayClassName:L,onOpenChange:z,onVisibleChange:k,overlayStyle:Z,styles:j,classNames:G}=e,H=S$(e,["prefixCls","placement","trigger","okType","icon","children","overlayClassName","onOpenChange","onVisibleChange","overlayStyle","styles","classNames"]),{getPrefixCls:X,className:ne,style:oe,classNames:ae,styles:ie}=(0,ye.dj)("popconfirm"),[le,fe]=(0,Fs.Z)(!1,{value:(a=e.open)!==null&&a!==void 0?a:e.visible,defaultValue:(o=e.defaultOpen)!==null&&o!==void 0?o:e.defaultVisible}),me=(ke,st)=>{fe(ke,!0),k==null||k(ke),z==null||z(ke,st)},ge=ke=>{me(!1,ke)},be=ke=>{var st;return(st=e.onConfirm)===null||st===void 0?void 0:st.call(void 0,ke)},Ie=ke=>{var st;me(!1,ke),(st=e.onCancel)===null||st===void 0||st.call(void 0,ke)},Oe=(ke,st)=>{const{disabled:ct=!1}=e;ct||me(ke,st)},Te=X("popconfirm",f),Ve=q()(Te,ne,L,ae.root,G==null?void 0:G.root),De=q()(ae.body,G==null?void 0:G.body),[Ue]=VE(Te);return Ue(s.createElement(Hd.Z,Object.assign({},(0,fr.Z)(H,["title"]),{trigger:C,placement:y,onOpenChange:Oe,open:le,ref:t,classNames:{root:Ve,body:De},styles:{root:Object.assign(Object.assign(Object.assign(Object.assign({},ie.root),oe),Z),j==null?void 0:j.root),body:Object.assign(Object.assign({},ie.body),j==null?void 0:j.body)},content:s.createElement(HE,Object.assign({okType:w,icon:I},e,{prefixCls:Te,close:ge,onConfirm:be,onCancel:Ie})),"data-popover-inject":!0}),D))});UE._InternalPanelDoNotUseOrYouWillBeFired=C$;var w$=UE,QS=F(3642),WE={percent:0,prefixCls:"rc-progress",strokeColor:"#2db7f5",strokeLinecap:"round",strokeWidth:1,trailColor:"#D9D9D9",trailWidth:1,gapPosition:"bottom"},GE=function(){var t=(0,s.useRef)([]),a=(0,s.useRef)(null);return(0,s.useEffect)(function(){var o=Date.now(),f=!1;t.current.forEach(function(y){if(y){f=!0;var C=y.style;C.transitionDuration=".3s, .3s, .3s, .06s",a.current&&o-a.current<100&&(C.transitionDuration="0s, 0s")}}),f&&(a.current=Date.now())}),t.current},E$=["className","percent","prefixCls","strokeColor","strokeLinecap","strokeWidth","style","trailColor","trailWidth","transition"],I$=function(t){var a=(0,Y.Z)((0,Y.Z)({},WE),t),o=a.className,f=a.percent,y=a.prefixCls,C=a.strokeColor,w=a.strokeLinecap,I=a.strokeWidth,D=a.style,L=a.trailColor,z=a.trailWidth,k=a.transition,Z=(0,de.Z)(a,E$);delete Z.gapPosition;var j=Array.isArray(f)?f:[f],G=Array.isArray(C)?C:[C],H=GE(),X=I/2,ne=100-I/2,oe="M ".concat(w==="round"?X:0,",").concat(X,`
         L `).concat(w==="round"?ne:100,",").concat(X),ae="0 0 100 ".concat(I),ie=0;return s.createElement("svg",(0,We.Z)({className:q()("".concat(y,"-line"),o),viewBox:ae,preserveAspectRatio:"none",style:D},Z),s.createElement("path",{className:"".concat(y,"-line-trail"),d:oe,strokeLinecap:w,stroke:L,strokeWidth:z||I,fillOpacity:"0"}),j.map(function(le,fe){var me=1;switch(w){case"round":me=1-I/100;break;case"square":me=1-I/2/100;break;default:me=1;break}var ge={strokeDasharray:"".concat(le*me,"px, 100px"),strokeDashoffset:"-".concat(ie,"px"),transition:k||"stroke-dashoffset 0.3s ease 0s, stroke-dasharray .3s ease 0s, stroke 0.3s linear"},be=G[fe]||G[G.length-1];return ie+=le,s.createElement("path",{key:fe,className:"".concat(y,"-line-path"),d:oe,strokeLinecap:w,stroke:be,strokeWidth:I,fillOpacity:"0",ref:function(Oe){H[fe]=Oe},style:ge})}))},T$=I$,KE=0,M$=(0,cc.Z)();function P$(){var e;return M$?(e=KE,KE+=1):e="TEST_OR_SSR",e}var O$=function(e){var t=s.useState(),a=(0,Re.Z)(t,2),o=a[0],f=a[1];return s.useEffect(function(){f("rc_progress_".concat(P$()))},[]),e||o},XE=function(t){var a=t.bg,o=t.children;return s.createElement("div",{style:{width:"100%",height:"100%",background:a}},o)};function YE(e,t){return Object.keys(e).map(function(a){var o=parseFloat(a),f="".concat(Math.floor(o*t),"%");return"".concat(e[a]," ").concat(f)})}var R$=s.forwardRef(function(e,t){var a=e.prefixCls,o=e.color,f=e.gradientId,y=e.radius,C=e.style,w=e.ptg,I=e.strokeLinecap,D=e.strokeWidth,L=e.size,z=e.gapDegree,k=o&&(0,et.Z)(o)==="object",Z=k?"#FFF":void 0,j=L/2,G=s.createElement("circle",{className:"".concat(a,"-circle-path"),r:y,cx:j,cy:j,stroke:Z,strokeLinecap:I,strokeWidth:D,opacity:w===0?0:1,style:C,ref:t});if(!k)return G;var H="".concat(f,"-conic"),X=z?"".concat(180+z/2,"deg"):"0deg",ne=YE(o,(360-z)/360),oe=YE(o,1),ae="conic-gradient(from ".concat(X,", ").concat(ne.join(", "),")"),ie="linear-gradient(to ".concat(z?"bottom":"top",", ").concat(oe.join(", "),")");return s.createElement(s.Fragment,null,s.createElement("mask",{id:H},G),s.createElement("foreignObject",{x:0,y:0,width:L,height:L,mask:"url(#".concat(H,")")},s.createElement(XE,{bg:ie},s.createElement(XE,{bg:ae}))))}),$$=R$,R_=100,ew=function(t,a,o,f,y,C,w,I,D,L){var z=arguments.length>10&&arguments[10]!==void 0?arguments[10]:0,k=o/100*360*((360-C)/360),Z=C===0?0:{bottom:0,top:180,left:90,right:-90}[w],j=(100-f)/100*a;D==="round"&&f!==100&&(j+=L/2,j>=a&&(j=a-.01));var G=R_/2;return{stroke:typeof I=="string"?I:void 0,strokeDasharray:"".concat(a,"px ").concat(t),strokeDashoffset:j+z,transform:"rotate(".concat(y+k+Z,"deg)"),transformOrigin:"".concat(G,"px ").concat(G,"px"),transition:"stroke-dashoffset .3s ease 0s, stroke-dasharray .3s ease 0s, stroke .3s, stroke-width .06s ease .3s, opacity .3s ease 0s",fillOpacity:0}},A$=["id","prefixCls","steps","strokeWidth","trailWidth","gapDegree","gapPosition","trailColor","strokeLinecap","style","className","strokeColor","percent"];function qE(e){var t=e!=null?e:[];return Array.isArray(t)?t:[t]}var D$=function(t){var a=(0,Y.Z)((0,Y.Z)({},WE),t),o=a.id,f=a.prefixCls,y=a.steps,C=a.strokeWidth,w=a.trailWidth,I=a.gapDegree,D=I===void 0?0:I,L=a.gapPosition,z=a.trailColor,k=a.strokeLinecap,Z=a.style,j=a.className,G=a.strokeColor,H=a.percent,X=(0,de.Z)(a,A$),ne=R_/2,oe=O$(o),ae="".concat(oe,"-gradient"),ie=ne-C/2,le=Math.PI*2*ie,fe=D>0?90+D/2:-90,me=le*((360-D)/360),ge=(0,et.Z)(y)==="object"?y:{count:y,gap:2},be=ge.count,Ie=ge.gap,Oe=qE(H),Te=qE(G),Ve=Te.find(function(It){return It&&(0,et.Z)(It)==="object"}),De=Ve&&(0,et.Z)(Ve)==="object",Ue=De?"butt":k,ke=ew(le,me,0,100,fe,D,L,z,Ue,C),st=GE(),ct=function(){var Ct=0;return Oe.map(function(mt,bt){var zt=Te[bt]||Te[Te.length-1],$t=ew(le,me,Ct,mt,fe,D,L,zt,Ue,C);return Ct+=mt,s.createElement($$,{key:bt,color:zt,ptg:mt,radius:ie,prefixCls:f,gradientId:ae,style:$t,strokeLinecap:Ue,strokeWidth:C,gapDegree:D,ref:function(Mt){st[bt]=Mt},size:R_})}).reverse()},Et=function(){var Ct=Math.round(be*(Oe[0]/100)),mt=100/be,bt=0;return new Array(be).fill(null).map(function(zt,$t){var Ht=$t<=Ct-1?Te[0]:z,Mt=Ht&&(0,et.Z)(Ht)==="object"?"url(#".concat(ae,")"):void 0,Cn=ew(le,me,bt,mt,fe,D,L,Ht,"butt",C,Ie);return bt+=(me-Cn.strokeDashoffset+Ie)*100/me,s.createElement("circle",{key:$t,className:"".concat(f,"-circle-path"),r:ie,cx:ne,cy:ne,stroke:Mt,strokeWidth:C,opacity:1,style:Cn,ref:function(pn){st[$t]=pn}})})};return s.createElement("svg",(0,We.Z)({className:q()("".concat(f,"-circle"),j),viewBox:"0 0 ".concat(R_," ").concat(R_),style:Z,id:o,role:"presentation"},X),!be&&s.createElement("circle",{className:"".concat(f,"-circle-trail"),r:ie,cx:ne,cy:ne,stroke:z,strokeLinecap:Ue,strokeWidth:w||C,style:ke}),be?Et():ct())},JE=D$,fk={Line:T$,Circle:JE},Qp=F(68640);function em(e){return!e||e<0?0:e>100?100:e}function zx(e){let{success:t,successPercent:a}=e,o=a;return t&&"progress"in t&&(o=t.progress),t&&"percent"in t&&(o=t.percent),o}const L$=e=>{let{percent:t,success:a,successPercent:o}=e;const f=em(zx({success:a,successPercent:o}));return[f,em(em(t)-f)]},z$=e=>{let{success:t={},strokeColor:a}=e;const{strokeColor:o}=t;return[o||Qp.ez.green,a||null]},Nx=(e,t,a)=>{var o,f,y,C;let w=-1,I=-1;if(t==="step"){const D=a.steps,L=a.strokeWidth;typeof e=="string"||typeof e=="undefined"?(w=e==="small"?2:14,I=L!=null?L:8):typeof e=="number"?[w,I]=[e,e]:[w=14,I=8]=Array.isArray(e)?e:[e.width,e.height],w*=D}else if(t==="line"){const D=a==null?void 0:a.strokeWidth;typeof e=="string"||typeof e=="undefined"?I=D||(e==="small"?6:8):typeof e=="number"?[w,I]=[e,e]:[w=-1,I=8]=Array.isArray(e)?e:[e.width,e.height]}else(t==="circle"||t==="dashboard")&&(typeof e=="string"||typeof e=="undefined"?[w,I]=e==="small"?[60,60]:[120,120]:typeof e=="number"?[w,I]=[e,e]:Array.isArray(e)&&(w=(f=(o=e[0])!==null&&o!==void 0?o:e[1])!==null&&f!==void 0?f:120,I=(C=(y=e[0])!==null&&y!==void 0?y:e[1])!==null&&C!==void 0?C:120));return[w,I]},N$=3,B$=e=>N$/e*100;var F$=e=>{const{prefixCls:t,trailColor:a=null,strokeLinecap:o="round",gapPosition:f,gapDegree:y,width:C=120,type:w,children:I,success:D,size:L=C,steps:z}=e,[k,Z]=Nx(L,"circle");let{strokeWidth:j}=e;j===void 0&&(j=Math.max(B$(k),6));const G={width:k,height:Z,fontSize:k*.15+6},H=s.useMemo(()=>{if(y||y===0)return y;if(w==="dashboard")return 75},[y,w]),X=L$(e),ne=f||w==="dashboard"&&"bottom"||void 0,oe=Object.prototype.toString.call(e.strokeColor)==="[object Object]",ae=z$({success:D,strokeColor:e.strokeColor}),ie=q()(`${t}-inner`,{[`${t}-circle-gradient`]:oe}),le=s.createElement(JE,{steps:z,percent:z?X[1]:X,strokeWidth:j,trailWidth:j,strokeColor:z?ae[1]:ae,strokeLinecap:o,trailColor:a,prefixCls:t,gapDegree:H,gapPosition:ne}),fe=k<=20,me=s.createElement("div",{className:ie,style:G},le,!fe&&I);return fe?s.createElement(Du.Z,{title:I},me):me};const Bx="--progress-line-stroke-color",QE="--progress-percent",eI=e=>{const t=e?"100%":"-100%";return new he.E4(`antProgress${e?"RTL":"LTR"}Active`,{"0%":{transform:`translateX(${t}) scaleX(0)`,opacity:.1},"20%":{transform:`translateX(${t}) scaleX(0)`,opacity:.5},to:{transform:"translateX(0) scaleX(1)",opacity:0}})},k$=e=>{const{componentCls:t,iconCls:a}=e;return{[t]:Object.assign(Object.assign({},(0,Jt.Wf)(e)),{display:"inline-block","&-rtl":{direction:"rtl"},"&-line":{position:"relative",width:"100%",fontSize:e.fontSize},[`${t}-outer`]:{display:"inline-flex",alignItems:"center",width:"100%"},[`${t}-inner`]:{position:"relative",display:"inline-block",width:"100%",flex:1,overflow:"hidden",verticalAlign:"middle",backgroundColor:e.remainingColor,borderRadius:e.lineBorderRadius},[`${t}-inner:not(${t}-circle-gradient)`]:{[`${t}-circle-path`]:{stroke:e.defaultColor}},[`${t}-success-bg, ${t}-bg`]:{position:"relative",background:e.defaultColor,borderRadius:e.lineBorderRadius,transition:`all ${e.motionDurationSlow} ${e.motionEaseInOutCirc}`},[`${t}-layout-bottom`]:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",[`${t}-text`]:{width:"max-content",marginInlineStart:0,marginTop:e.marginXXS}},[`${t}-bg`]:{overflow:"hidden","&::after":{content:'""',background:{_multi_value_:!0,value:["inherit",`var(${Bx})`]},height:"100%",width:`calc(1 / var(${QE}) * 100%)`,display:"block"},[`&${t}-bg-inner`]:{minWidth:"max-content","&::after":{content:"none"},[`${t}-text-inner`]:{color:e.colorWhite,[`&${t}-text-bright`]:{color:"rgba(0, 0, 0, 0.45)"}}}},[`${t}-success-bg`]:{position:"absolute",insetBlockStart:0,insetInlineStart:0,backgroundColor:e.colorSuccess},[`${t}-text`]:{display:"inline-block",marginInlineStart:e.marginXS,color:e.colorText,lineHeight:1,width:"2em",whiteSpace:"nowrap",textAlign:"start",verticalAlign:"middle",wordBreak:"normal",[a]:{fontSize:e.fontSize},[`&${t}-text-outer`]:{width:"max-content"},[`&${t}-text-outer${t}-text-start`]:{width:"max-content",marginInlineStart:0,marginInlineEnd:e.marginXS}},[`${t}-text-inner`]:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",height:"100%",marginInlineStart:0,padding:`0 ${(0,he.bf)(e.paddingXXS)}`,[`&${t}-text-start`]:{justifyContent:"start"},[`&${t}-text-end`]:{justifyContent:"end"}},[`&${t}-status-active`]:{[`${t}-bg::before`]:{position:"absolute",inset:0,backgroundColor:e.colorBgContainer,borderRadius:e.lineBorderRadius,opacity:0,animationName:eI(),animationDuration:e.progressActiveMotionDuration,animationTimingFunction:e.motionEaseOutQuint,animationIterationCount:"infinite",content:'""'}},[`&${t}-rtl${t}-status-active`]:{[`${t}-bg::before`]:{animationName:eI(!0)}},[`&${t}-status-exception`]:{[`${t}-bg`]:{backgroundColor:e.colorError},[`${t}-text`]:{color:e.colorError}},[`&${t}-status-exception ${t}-inner:not(${t}-circle-gradient)`]:{[`${t}-circle-path`]:{stroke:e.colorError}},[`&${t}-status-success`]:{[`${t}-bg`]:{backgroundColor:e.colorSuccess},[`${t}-text`]:{color:e.colorSuccess}},[`&${t}-status-success ${t}-inner:not(${t}-circle-gradient)`]:{[`${t}-circle-path`]:{stroke:e.colorSuccess}}})}},j$=e=>{const{componentCls:t,iconCls:a}=e;return{[t]:{[`${t}-circle-trail`]:{stroke:e.remainingColor},[`&${t}-circle ${t}-inner`]:{position:"relative",lineHeight:1,backgroundColor:"transparent"},[`&${t}-circle ${t}-text`]:{position:"absolute",insetBlockStart:"50%",insetInlineStart:0,width:"100%",margin:0,padding:0,color:e.circleTextColor,fontSize:e.circleTextFontSize,lineHeight:1,whiteSpace:"normal",textAlign:"center",transform:"translateY(-50%)",[a]:{fontSize:e.circleIconFontSize}},[`${t}-circle&-status-exception`]:{[`${t}-text`]:{color:e.colorError}},[`${t}-circle&-status-success`]:{[`${t}-text`]:{color:e.colorSuccess}}},[`${t}-inline-circle`]:{lineHeight:1,[`${t}-inner`]:{verticalAlign:"bottom"}}}},Z$=e=>{const{componentCls:t}=e;return{[t]:{[`${t}-steps`]:{display:"inline-block","&-outer":{display:"flex",flexDirection:"row",alignItems:"center"},"&-item":{flexShrink:0,minWidth:e.progressStepMinWidth,marginInlineEnd:e.progressStepMarginInlineEnd,backgroundColor:e.remainingColor,transition:`all ${e.motionDurationSlow}`,"&-active":{backgroundColor:e.defaultColor}}}}}},V$=e=>{const{componentCls:t,iconCls:a}=e;return{[t]:{[`${t}-small&-line, ${t}-small&-line ${t}-text ${a}`]:{fontSize:e.fontSizeSM}}}},H$=e=>({circleTextColor:e.colorText,defaultColor:e.colorInfo,remainingColor:e.colorFillSecondary,lineBorderRadius:100,circleTextFontSize:"1em",circleIconFontSize:`${e.fontSize/e.fontSizeSM}em`});var U$=(0,te.I$)("Progress",e=>{const t=e.calc(e.marginXXS).div(2).equal(),a=(0,Qr.IX)(e,{progressStepMarginInlineEnd:t,progressStepMinWidth:t,progressActiveMotionDuration:"2.4s"});return[k$(a),j$(a),Z$(a),V$(a)]},H$),W$=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a};const G$=e=>{let t=[];return Object.keys(e).forEach(a=>{const o=parseFloat(a.replace(/%/g,""));Number.isNaN(o)||t.push({key:o,value:e[a]})}),t=t.sort((a,o)=>a.key-o.key),t.map(a=>{let{key:o,value:f}=a;return`${f} ${o}%`}).join(", ")},K$=(e,t)=>{const{from:a=Qp.ez.blue,to:o=Qp.ez.blue,direction:f=t==="rtl"?"to left":"to right"}=e,y=W$(e,["from","to","direction"]);if(Object.keys(y).length!==0){const w=G$(y),I=`linear-gradient(${f}, ${w})`;return{background:I,[Bx]:I}}const C=`linear-gradient(${f}, ${a}, ${o})`;return{background:C,[Bx]:C}};var X$=e=>{const{prefixCls:t,direction:a,percent:o,size:f,strokeWidth:y,strokeColor:C,strokeLinecap:w="round",children:I,trailColor:D=null,percentPosition:L,success:z}=e,{align:k,type:Z}=L,j=C&&typeof C!="string"?K$(C,a):{[Bx]:C,background:C},G=w==="square"||w==="butt"?0:void 0,H=f!=null?f:[-1,y||(f==="small"?6:8)],[X,ne]=Nx(H,"line",{strokeWidth:y}),oe={backgroundColor:D||void 0,borderRadius:G},ae=Object.assign(Object.assign({width:`${em(o)}%`,height:ne,borderRadius:G},j),{[QE]:em(o)/100}),ie=zx(e),le={width:`${em(ie)}%`,height:ne,borderRadius:G,backgroundColor:z==null?void 0:z.strokeColor},fe={width:X<0?"100%":X},me=s.createElement("div",{className:`${t}-inner`,style:oe},s.createElement("div",{className:q()(`${t}-bg`,`${t}-bg-${Z}`),style:ae},Z==="inner"&&I),ie!==void 0&&s.createElement("div",{className:`${t}-success-bg`,style:le})),ge=Z==="outer"&&k==="start",be=Z==="outer"&&k==="end";return Z==="outer"&&k==="center"?s.createElement("div",{className:`${t}-layout-bottom`},me,I):s.createElement("div",{className:`${t}-outer`,style:fe},ge&&I,me,be&&I)},Y$=e=>{const{size:t,steps:a,rounding:o=Math.round,percent:f=0,strokeWidth:y=8,strokeColor:C,trailColor:w=null,prefixCls:I,children:D}=e,L=o(a*(f/100)),z=t==="small"?2:14,k=t!=null?t:[z,y],[Z,j]=Nx(k,"step",{steps:a,strokeWidth:y}),G=Z/a,H=Array.from({length:a});for(let X=0;X<a;X++){const ne=Array.isArray(C)?C[X]:C;H[X]=s.createElement("div",{key:X,className:q()(`${I}-steps-item`,{[`${I}-steps-item-active`]:X<=L-1}),style:{backgroundColor:X<=L-1?ne:w,width:G,height:j}})}return s.createElement("div",{className:`${I}-steps-outer`},H,D)},q$=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a};const gk=null,J$=["normal","exception","active","success"];var Q$=s.forwardRef((e,t)=>{const{prefixCls:a,className:o,rootClassName:f,steps:y,strokeColor:C,percent:w=0,size:I="default",showInfo:D=!0,type:L="line",status:z,format:k,style:Z,percentPosition:j={}}=e,G=q$(e,["prefixCls","className","rootClassName","steps","strokeColor","percent","size","showInfo","type","status","format","style","percentPosition"]),{align:H="end",type:X="outer"}=j,ne=Array.isArray(C)?C[0]:C,oe=typeof C=="string"||Array.isArray(C)?C:void 0,ae=s.useMemo(()=>{if(ne){const ct=typeof ne=="string"?ne:Object.values(ne)[0];return new Sl.t(ct).isLight()}return!1},[C]),ie=s.useMemo(()=>{var ct,Et;const It=zx(e);return parseInt(It!==void 0?(ct=It!=null?It:0)===null||ct===void 0?void 0:ct.toString():(Et=w!=null?w:0)===null||Et===void 0?void 0:Et.toString(),10)},[w,e.success,e.successPercent]),le=s.useMemo(()=>!J$.includes(z)&&ie>=100?"success":z||"normal",[z,ie]),{getPrefixCls:fe,direction:me,progress:ge}=s.useContext(ye.E_),be=fe("progress",a),[Ie,Oe,Te]=U$(be),Ve=L==="line",De=Ve&&!y,Ue=s.useMemo(()=>{if(!D)return null;const ct=zx(e);let Et;const It=k||(mt=>`${mt}%`),Ct=Ve&&ae&&X==="inner";return X==="inner"||k||le!=="exception"&&le!=="success"?Et=It(em(w),em(ct)):le==="exception"?Et=Ve?s.createElement(Sr.Z,null):s.createElement(cr.Z,null):le==="success"&&(Et=Ve?s.createElement(kt.Z,null):s.createElement(QS.Z,null)),s.createElement("span",{className:q()(`${be}-text`,{[`${be}-text-bright`]:Ct,[`${be}-text-${H}`]:De,[`${be}-text-${X}`]:De}),title:typeof Et=="string"?Et:void 0},Et)},[D,w,ie,le,L,be,k]);let ke;L==="line"?ke=y?s.createElement(Y$,Object.assign({},e,{strokeColor:oe,prefixCls:be,steps:typeof y=="object"?y.count:y}),Ue):s.createElement(X$,Object.assign({},e,{strokeColor:ne,prefixCls:be,direction:me,percentPosition:{align:H,type:X}}),Ue):(L==="circle"||L==="dashboard")&&(ke=s.createElement(F$,Object.assign({},e,{strokeColor:ne,prefixCls:be,progressStatus:le}),Ue));const st=q()(be,`${be}-status-${le}`,{[`${be}-${L==="dashboard"&&"circle"||L}`]:L!=="line",[`${be}-inline-circle`]:L==="circle"&&Nx(I,"circle")[0]<=20,[`${be}-line`]:De,[`${be}-line-align-${H}`]:De,[`${be}-line-position-${X}`]:De,[`${be}-steps`]:y,[`${be}-show-info`]:D,[`${be}-${I}`]:typeof I=="string",[`${be}-rtl`]:me==="rtl"},ge==null?void 0:ge.className,o,f,Oe,Te);return Ie(s.createElement("div",Object.assign({ref:t,style:Object.assign(Object.assign({},ge==null?void 0:ge.style),Z),className:st,role:"progressbar","aria-valuenow":ie,"aria-valuemin":0,"aria-valuemax":100},(0,fr.Z)(G,["trailColor","strokeWidth","width","gapDegree","gapPosition","strokeLinecap","success","successPercent"])),ke))}),tw=Q$,e4=F(62851);function zg(e,t){var a=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=(0,e4.Z)(e))||t&&e&&typeof e.length=="number"){a&&(e=a);var o=0,f=function(){};return{s:f,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(D){throw D},f}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var y,C=!0,w=!1;return{s:function(){a=a.call(e)},n:function(){var D=a.next();return C=D.done,D},e:function(D){w=!0,y=D},f:function(){try{C||a.return==null||a.return()}finally{if(w)throw y}}}}var vv,$_;function Bu(e,t,a){if(t<0||t>31||e>>>t)throw new RangeError("Value out of range");for(var o=t-1;o>=0;o--)a.push(e>>>o&1)}function Hh(e,t){return(e>>>t&1)!=0}function ad(e){if(!e)throw new Error("Assertion error")}var Gf=function(){function e(t,a){(0,Bn.Z)(this,e),(0,pe.Z)(this,"modeBits",void 0),(0,pe.Z)(this,"numBitsCharCount",void 0),this.modeBits=t,this.numBitsCharCount=a}return(0,fn.Z)(e,[{key:"numCharCountBits",value:function(a){return this.numBitsCharCount[Math.floor((a+7)/17)]}}]),e}();vv=Gf,(0,pe.Z)(Gf,"NUMERIC",new vv(1,[10,12,14])),(0,pe.Z)(Gf,"ALPHANUMERIC",new vv(2,[9,11,13])),(0,pe.Z)(Gf,"BYTE",new vv(4,[8,16,16])),(0,pe.Z)(Gf,"KANJI",new vv(8,[8,10,12])),(0,pe.Z)(Gf,"ECI",new vv(7,[0,0,0]));var Id=(0,fn.Z)(function e(t,a){(0,Bn.Z)(this,e),(0,pe.Z)(this,"ordinal",void 0),(0,pe.Z)(this,"formatBits",void 0),this.ordinal=t,this.formatBits=a});$_=Id,(0,pe.Z)(Id,"LOW",new $_(0,1)),(0,pe.Z)(Id,"MEDIUM",new $_(1,0)),(0,pe.Z)(Id,"QUARTILE",new $_(2,3)),(0,pe.Z)(Id,"HIGH",new $_(3,2));var Ng=function(){function e(t,a,o){if((0,Bn.Z)(this,e),(0,pe.Z)(this,"mode",void 0),(0,pe.Z)(this,"numChars",void 0),(0,pe.Z)(this,"bitData",void 0),this.mode=t,this.numChars=a,this.bitData=o,a<0)throw new RangeError("Invalid argument");this.bitData=o.slice()}return(0,fn.Z)(e,[{key:"getData",value:function(){return this.bitData.slice()}}],[{key:"makeBytes",value:function(a){var o=[],f=zg(a),y;try{for(f.s();!(y=f.n()).done;){var C=y.value;Bu(C,8,o)}}catch(w){f.e(w)}finally{f.f()}return new e(Gf.BYTE,a.length,o)}},{key:"makeNumeric",value:function(a){if(!e.isNumeric(a))throw new RangeError("String contains non-numeric characters");for(var o=[],f=0;f<a.length;){var y=Math.min(a.length-f,3);Bu(parseInt(a.substring(f,f+y),10),y*3+1,o),f+=y}return new e(Gf.NUMERIC,a.length,o)}},{key:"makeAlphanumeric",value:function(a){if(!e.isAlphanumeric(a))throw new RangeError("String contains unencodable characters in alphanumeric mode");var o=[],f;for(f=0;f+2<=a.length;f+=2){var y=e.ALPHANUMERIC_CHARSET.indexOf(a.charAt(f))*45;y+=e.ALPHANUMERIC_CHARSET.indexOf(a.charAt(f+1)),Bu(y,11,o)}return f<a.length&&Bu(e.ALPHANUMERIC_CHARSET.indexOf(a.charAt(f)),6,o),new e(Gf.ALPHANUMERIC,a.length,o)}},{key:"makeSegments",value:function(a){return a==""?[]:e.isNumeric(a)?[e.makeNumeric(a)]:e.isAlphanumeric(a)?[e.makeAlphanumeric(a)]:[e.makeBytes(e.toUtf8ByteArray(a))]}},{key:"makeEci",value:function(a){var o=[];if(a<0)throw new RangeError("ECI assignment value out of range");if(a<128)Bu(a,8,o);else if(a<16384)Bu(2,2,o),Bu(a,14,o);else if(a<1e6)Bu(6,3,o),Bu(a,21,o);else throw new RangeError("ECI assignment value out of range");return new e(Gf.ECI,0,o)}},{key:"isNumeric",value:function(a){return e.NUMERIC_REGEX.test(a)}},{key:"isAlphanumeric",value:function(a){return e.ALPHANUMERIC_REGEX.test(a)}},{key:"getTotalBits",value:function(a,o){var f=0,y=zg(a),C;try{for(y.s();!(C=y.n()).done;){var w=C.value,I=w.mode.numCharCountBits(o);if(w.numChars>=1<<I)return 1/0;f+=4+I+w.bitData.length}}catch(D){y.e(D)}finally{y.f()}return f}},{key:"toUtf8ByteArray",value:function(a){for(var o=encodeURI(a),f=[],y=0;y<o.length;y++)o.charAt(y)!="%"?f.push(o.charCodeAt(y)):(f.push(parseInt(o.substring(y+1,y+3),16)),y+=2);return f}}]),e}();(0,pe.Z)(Ng,"NUMERIC_REGEX",/^[0-9]*$/),(0,pe.Z)(Ng,"ALPHANUMERIC_REGEX",/^[A-Z0-9 $%*+.\/:-]*$/),(0,pe.Z)(Ng,"ALPHANUMERIC_CHARSET","0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:");var Uh=function(){function e(t,a,o,f){(0,Bn.Z)(this,e),(0,pe.Z)(this,"size",void 0),(0,pe.Z)(this,"mask",void 0),(0,pe.Z)(this,"modules",[]),(0,pe.Z)(this,"isFunction",[]),(0,pe.Z)(this,"version",void 0),(0,pe.Z)(this,"errorCorrectionLevel",void 0);var y=f;if(this.version=t,this.errorCorrectionLevel=a,t<e.MIN_VERSION||t>e.MAX_VERSION)throw new RangeError("Version value out of range");if(y<-1||y>7)throw new RangeError("Mask value out of range");this.size=t*4+17;for(var C=[],w=0;w<this.size;w++)C.push(!1);for(var I=0;I<this.size;I++)this.modules.push(C.slice()),this.isFunction.push(C.slice());this.drawFunctionPatterns();var D=this.addEccAndInterleave(o);if(this.drawCodewords(D),y==-1)for(var L=1e9,z=0;z<8;z++){this.applyMask(z),this.drawFormatBits(z);var k=this.getPenaltyScore();k<L&&(y=z,L=k),this.applyMask(z)}ad(0<=y&&y<=7),this.mask=y,this.applyMask(y),this.drawFormatBits(y),this.isFunction=[]}return(0,fn.Z)(e,[{key:"getModule",value:function(a,o){return 0<=a&&a<this.size&&0<=o&&o<this.size&&this.modules[o][a]}},{key:"getModules",value:function(){return this.modules}},{key:"drawFunctionPatterns",value:function(){for(var a=0;a<this.size;a++)this.setFunctionModule(6,a,a%2==0),this.setFunctionModule(a,6,a%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);for(var o=this.getAlignmentPatternPositions(),f=o.length,y=0;y<f;y++)for(var C=0;C<f;C++)y==0&&C==0||y==0&&C==f-1||y==f-1&&C==0||this.drawAlignmentPattern(o[y],o[C]);this.drawFormatBits(0),this.drawVersion()}},{key:"drawFormatBits",value:function(a){for(var o=this.errorCorrectionLevel.formatBits<<3|a,f=o,y=0;y<10;y++)f=f<<1^(f>>>9)*1335;var C=(o<<10|f)^21522;ad(C>>>15==0);for(var w=0;w<=5;w++)this.setFunctionModule(8,w,Hh(C,w));this.setFunctionModule(8,7,Hh(C,6)),this.setFunctionModule(8,8,Hh(C,7)),this.setFunctionModule(7,8,Hh(C,8));for(var I=9;I<15;I++)this.setFunctionModule(14-I,8,Hh(C,I));for(var D=0;D<8;D++)this.setFunctionModule(this.size-1-D,8,Hh(C,D));for(var L=8;L<15;L++)this.setFunctionModule(8,this.size-15+L,Hh(C,L));this.setFunctionModule(8,this.size-8,!0)}},{key:"drawVersion",value:function(){if(!(this.version<7)){for(var a=this.version,o=0;o<12;o++)a=a<<1^(a>>>11)*7973;var f=this.version<<12|a;ad(f>>>18==0);for(var y=0;y<18;y++){var C=Hh(f,y),w=this.size-11+y%3,I=Math.floor(y/3);this.setFunctionModule(w,I,C),this.setFunctionModule(I,w,C)}}}},{key:"drawFinderPattern",value:function(a,o){for(var f=-4;f<=4;f++)for(var y=-4;y<=4;y++){var C=Math.max(Math.abs(y),Math.abs(f)),w=a+y,I=o+f;0<=w&&w<this.size&&0<=I&&I<this.size&&this.setFunctionModule(w,I,C!=2&&C!=4)}}},{key:"drawAlignmentPattern",value:function(a,o){for(var f=-2;f<=2;f++)for(var y=-2;y<=2;y++)this.setFunctionModule(a+y,o+f,Math.max(Math.abs(y),Math.abs(f))!=1)}},{key:"setFunctionModule",value:function(a,o,f){this.modules[o][a]=f,this.isFunction[o][a]=!0}},{key:"addEccAndInterleave",value:function(a){var o=this.version,f=this.errorCorrectionLevel;if(a.length!=e.getNumDataCodewords(o,f))throw new RangeError("Invalid argument");for(var y=e.NUM_ERROR_CORRECTION_BLOCKS[f.ordinal][o],C=e.ECC_CODEWORDS_PER_BLOCK[f.ordinal][o],w=Math.floor(e.getNumRawDataModules(o)/8),I=y-w%y,D=Math.floor(w/y),L=[],z=e.reedSolomonComputeDivisor(C),k=0,Z=0;k<y;k++){var j=a.slice(Z,Z+D-C+(k<I?0:1));Z+=j.length;var G=e.reedSolomonComputeRemainder(j,z);k<I&&j.push(0),L.push(j.concat(G))}for(var H=[],X=function(ae){L.forEach(function(ie,le){(ae!=D-C||le>=I)&&H.push(ie[ae])})},ne=0;ne<L[0].length;ne++)X(ne);return ad(H.length==w),H}},{key:"drawCodewords",value:function(a){if(a.length!=Math.floor(e.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");for(var o=0,f=this.size-1;f>=1;f-=2){f==6&&(f=5);for(var y=0;y<this.size;y++)for(var C=0;C<2;C++){var w=f-C,I=(f+1&2)==0,D=I?this.size-1-y:y;!this.isFunction[D][w]&&o<a.length*8&&(this.modules[D][w]=Hh(a[o>>>3],7-(o&7)),o++)}}ad(o==a.length*8)}},{key:"applyMask",value:function(a){if(a<0||a>7)throw new RangeError("Mask value out of range");for(var o=0;o<this.size;o++)for(var f=0;f<this.size;f++){var y=void 0;switch(a){case 0:y=(f+o)%2==0;break;case 1:y=o%2==0;break;case 2:y=f%3==0;break;case 3:y=(f+o)%3==0;break;case 4:y=(Math.floor(f/3)+Math.floor(o/2))%2==0;break;case 5:y=f*o%2+f*o%3==0;break;case 6:y=(f*o%2+f*o%3)%2==0;break;case 7:y=((f+o)%2+f*o%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[o][f]&&y&&(this.modules[o][f]=!this.modules[o][f])}}},{key:"getPenaltyScore",value:function(){for(var a=0,o=0;o<this.size;o++){for(var f=!1,y=0,C=[0,0,0,0,0,0,0],w=0;w<this.size;w++)this.modules[o][w]==f?(y++,y==5?a+=e.PENALTY_N1:y>5&&a++):(this.finderPenaltyAddHistory(y,C),f||(a+=this.finderPenaltyCountPatterns(C)*e.PENALTY_N3),f=this.modules[o][w],y=1);a+=this.finderPenaltyTerminateAndCount(f,y,C)*e.PENALTY_N3}for(var I=0;I<this.size;I++){for(var D=!1,L=0,z=[0,0,0,0,0,0,0],k=0;k<this.size;k++)this.modules[k][I]==D?(L++,L==5?a+=e.PENALTY_N1:L>5&&a++):(this.finderPenaltyAddHistory(L,z),D||(a+=this.finderPenaltyCountPatterns(z)*e.PENALTY_N3),D=this.modules[k][I],L=1);a+=this.finderPenaltyTerminateAndCount(D,L,z)*e.PENALTY_N3}for(var Z=0;Z<this.size-1;Z++)for(var j=0;j<this.size-1;j++){var G=this.modules[Z][j];G==this.modules[Z][j+1]&&G==this.modules[Z+1][j]&&G==this.modules[Z+1][j+1]&&(a+=e.PENALTY_N2)}var H=0,X=zg(this.modules),ne;try{for(X.s();!(ne=X.n()).done;){var oe=ne.value;H=oe.reduce(function(le,fe){return le+(fe?1:0)},H)}}catch(le){X.e(le)}finally{X.f()}var ae=this.size*this.size,ie=Math.ceil(Math.abs(H*20-ae*10)/ae)-1;return ad(0<=ie&&ie<=9),a+=ie*e.PENALTY_N4,ad(0<=a&&a<=2568888),a}},{key:"getAlignmentPatternPositions",value:function(){if(this.version==1)return[];for(var a=Math.floor(this.version/7)+2,o=this.version==32?26:Math.ceil((this.version*4+4)/(a*2-2))*2,f=[6],y=this.size-7;f.length<a;y-=o)f.splice(1,0,y);return f}},{key:"finderPenaltyCountPatterns",value:function(a){var o=a[1];ad(o<=this.size*3);var f=o>0&&a[2]==o&&a[3]==o*3&&a[4]==o&&a[5]==o;return(f&&a[0]>=o*4&&a[6]>=o?1:0)+(f&&a[6]>=o*4&&a[0]>=o?1:0)}},{key:"finderPenaltyTerminateAndCount",value:function(a,o,f){var y=o;return a&&(this.finderPenaltyAddHistory(y,f),y=0),y+=this.size,this.finderPenaltyAddHistory(y,f),this.finderPenaltyCountPatterns(f)}},{key:"finderPenaltyAddHistory",value:function(a,o){var f=a;o[0]==0&&(f+=this.size),o.pop(),o.unshift(f)}}],[{key:"encodeText",value:function(a,o){var f=Ng.makeSegments(a);return e.encodeSegments(f,o)}},{key:"encodeBinary",value:function(a,o){var f=Ng.makeBytes(a);return e.encodeSegments([f],o)}},{key:"encodeSegments",value:function(a,o){var f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,y=arguments.length>3&&arguments[3]!==void 0?arguments[3]:40,C=arguments.length>4&&arguments[4]!==void 0?arguments[4]:-1,w=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0;if(!(e.MIN_VERSION<=f&&f<=y&&y<=e.MAX_VERSION)||C<-1||C>7)throw new RangeError("Invalid value");var I,D;for(I=f;;I++){var L=e.getNumDataCodewords(I,o)*8,z=Ng.getTotalBits(a,I);if(z<=L){D=z;break}if(I>=y)throw new RangeError("Data too long")}for(var k=o,Z=0,j=[Id.MEDIUM,Id.QUARTILE,Id.HIGH];Z<j.length;Z++){var G=j[Z];w&&D<=e.getNumDataCodewords(I,G)*8&&(k=G)}var H=[],X=zg(a),ne;try{for(X.s();!(ne=X.n()).done;){var oe=ne.value;Bu(oe.mode.modeBits,4,H),Bu(oe.numChars,oe.mode.numCharCountBits(I),H);var ae=zg(oe.getData()),ie;try{for(ae.s();!(ie=ae.n()).done;){var le=ie.value;H.push(le)}}catch(be){ae.e(be)}finally{ae.f()}}}catch(be){X.e(be)}finally{X.f()}ad(H.length==D);var fe=e.getNumDataCodewords(I,k)*8;ad(H.length<=fe),Bu(0,Math.min(4,fe-H.length),H),Bu(0,(8-H.length%8)%8,H),ad(H.length%8==0);for(var me=236;H.length<fe;me^=253)Bu(me,8,H);for(var ge=[];ge.length*8<H.length;)ge.push(0);return H.forEach(function(be,Ie){return ge[Ie>>>3]|=be<<7-(Ie&7)}),new e(I,k,ge,C)}},{key:"getNumRawDataModules",value:function(a){if(a<e.MIN_VERSION||a>e.MAX_VERSION)throw new RangeError("Version number out of range");var o=(16*a+128)*a+64;if(a>=2){var f=Math.floor(a/7)+2;o-=(25*f-10)*f-55,a>=7&&(o-=36)}return ad(208<=o&&o<=29648),o}},{key:"getNumDataCodewords",value:function(a,o){return Math.floor(e.getNumRawDataModules(a)/8)-e.ECC_CODEWORDS_PER_BLOCK[o.ordinal][a]*e.NUM_ERROR_CORRECTION_BLOCKS[o.ordinal][a]}},{key:"reedSolomonComputeDivisor",value:function(a){if(a<1||a>255)throw new RangeError("Degree out of range");for(var o=[],f=0;f<a-1;f++)o.push(0);o.push(1);for(var y=1,C=0;C<a;C++){for(var w=0;w<o.length;w++)o[w]=e.reedSolomonMultiply(o[w],y),w+1<o.length&&(o[w]^=o[w+1]);y=e.reedSolomonMultiply(y,2)}return o}},{key:"reedSolomonComputeRemainder",value:function(a,o){var f=o.map(function(){return 0}),y=zg(a),C;try{var w=function(){var D=C.value,L=D^f.shift();f.push(0),o.forEach(function(z,k){return f[k]^=e.reedSolomonMultiply(z,L)})};for(y.s();!(C=y.n()).done;)w()}catch(I){y.e(I)}finally{y.f()}return f}},{key:"reedSolomonMultiply",value:function(a,o){if(a>>>8||o>>>8)throw new RangeError("Byte out of range");for(var f=0,y=7;y>=0;y--)f=f<<1^(f>>>7)*285,f^=(o>>>y&1)*a;return ad(f>>>8==0),f}}]),e}();(0,pe.Z)(Uh,"MIN_VERSION",1),(0,pe.Z)(Uh,"MAX_VERSION",40),(0,pe.Z)(Uh,"PENALTY_N1",3),(0,pe.Z)(Uh,"PENALTY_N2",3),(0,pe.Z)(Uh,"PENALTY_N3",40),(0,pe.Z)(Uh,"PENALTY_N4",10),(0,pe.Z)(Uh,"ECC_CODEWORDS_PER_BLOCK",[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]]),(0,pe.Z)(Uh,"NUM_ERROR_CORRECTION_BLOCKS",[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]]);var t4={L:Id.LOW,M:Id.MEDIUM,Q:Id.QUARTILE,H:Id.HIGH},tI=128,nI="L",rI="#FFFFFF",iI="#000000",oI=!1,aI=1,n4=4,r4=0,i4=.1;function sI(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=[];return e.forEach(function(o,f){var y=null;o.forEach(function(C,w){if(!C&&y!==null){a.push("M".concat(y+t," ").concat(f+t,"h").concat(w-y,"v1H").concat(y+t,"z")),y=null;return}if(w===o.length-1){if(!C)return;y===null?a.push("M".concat(w+t,",").concat(f+t," h1v1H").concat(w+t,"z")):a.push("M".concat(y+t,",").concat(f+t," h").concat(w+1-y,"v1H").concat(y+t,"z"));return}C&&y===null&&(y=w)})}),a.join("")}function lI(e,t){return e.slice().map(function(a,o){return o<t.y||o>=t.y+t.h?a:a.map(function(f,y){return y<t.x||y>=t.x+t.w?f:!1})})}function o4(e,t,a,o){if(o==null)return null;var f=e.length+a*2,y=Math.floor(t*i4),C=f/t,w=(o.width||y)*C,I=(o.height||y)*C,D=o.x==null?e.length/2-w/2:o.x*C,L=o.y==null?e.length/2-I/2:o.y*C,z=o.opacity==null?1:o.opacity,k=null;if(o.excavate){var Z=Math.floor(D),j=Math.floor(L),G=Math.ceil(w+D-Z),H=Math.ceil(I+L-j);k={x:Z,y:j,w:G,h:H}}var X=o.crossOrigin;return{x:D,y:L,h:I,w,excavation:k,opacity:z,crossOrigin:X}}function a4(e,t){return t!=null?Math.floor(t):e?n4:r4}var s4=function(){try{new Path2D().addPath(new Path2D)}catch(e){return!1}return!0}();function cI(e){var t=e.value,a=e.level,o=e.minVersion,f=e.includeMargin,y=e.marginSize,C=e.imageSettings,w=e.size,I=(0,s.useMemo)(function(){var j=Ng.makeSegments(t);return Uh.encodeSegments(j,t4[a],o)},[t,a,o]),D=(0,s.useMemo)(function(){var j=I.getModules(),G=a4(f,y),H=j.length+G*2,X=o4(j,w,G,C);return{cells:j,margin:G,numCells:H,calculatedImageSettings:X}},[I,w,C,f,y]),L=D.cells,z=D.margin,k=D.numCells,Z=D.calculatedImageSettings;return{qrcode:I,margin:z,cells:L,numCells:k,calculatedImageSettings:Z}}var l4=["value","size","level","bgColor","fgColor","includeMargin","minVersion","marginSize","style","imageSettings"],uI=s.forwardRef(function(t,a){var o=t.value,f=t.size,y=f===void 0?tI:f,C=t.level,w=C===void 0?nI:C,I=t.bgColor,D=I===void 0?rI:I,L=t.fgColor,z=L===void 0?iI:L,k=t.includeMargin,Z=k===void 0?oI:k,j=t.minVersion,G=j===void 0?aI:j,H=t.marginSize,X=t.style,ne=t.imageSettings,oe=(0,de.Z)(t,l4),ae=ne==null?void 0:ne.src,ie=(0,s.useRef)(null),le=(0,s.useRef)(null),fe=(0,s.useCallback)(function(st){ie.current=st,typeof a=="function"?a(st):a&&(a.current=st)},[a]),me=(0,s.useState)(!1),ge=(0,Re.Z)(me,2),be=ge[1],Ie=cI({value:o,level:w,minVersion:G,includeMargin:Z,marginSize:H,imageSettings:ne,size:y}),Oe=Ie.margin,Te=Ie.cells,Ve=Ie.numCells,De=Ie.calculatedImageSettings;(0,s.useEffect)(function(){if(ie.current!=null){var st=ie.current,ct=st.getContext("2d");if(!ct)return;var Et=Te,It=le.current,Ct=De!=null&&It!==null&&It.complete&&It.naturalHeight!==0&&It.naturalWidth!==0;Ct&&De.excavation!=null&&(Et=lI(Te,De.excavation));var mt=window.devicePixelRatio||1;st.height=st.width=y*mt;var bt=y/Ve*mt;ct.scale(bt,bt),ct.fillStyle=D,ct.fillRect(0,0,Ve,Ve),ct.fillStyle=z,s4?ct.fill(new Path2D(sI(Et,Oe))):Te.forEach(function(zt,$t){zt.forEach(function(Ht,Mt){Ht&&ct.fillRect(Mt+Oe,$t+Oe,1,1)})}),De&&(ct.globalAlpha=De.opacity),Ct&&ct.drawImage(It,De.x+Oe,De.y+Oe,De.w,De.h)}}),(0,s.useEffect)(function(){be(!1)},[ae]);var Ue=(0,Y.Z)({height:y,width:y},X),ke=null;return ae!=null&&(ke=s.createElement("img",{src:ae,key:ae,style:{display:"none"},onLoad:function(){be(!0)},ref:le,crossOrigin:De==null?void 0:De.crossOrigin})),s.createElement(s.Fragment,null,s.createElement("canvas",(0,We.Z)({style:Ue,height:y,width:y,ref:fe,role:"img"},oe)),ke)});uI.displayName="QRCodeCanvas";var c4=["value","size","level","bgColor","fgColor","includeMargin","minVersion","title","marginSize","imageSettings"],dI=s.forwardRef(function(t,a){var o=t.value,f=t.size,y=f===void 0?tI:f,C=t.level,w=C===void 0?nI:C,I=t.bgColor,D=I===void 0?rI:I,L=t.fgColor,z=L===void 0?iI:L,k=t.includeMargin,Z=k===void 0?oI:k,j=t.minVersion,G=j===void 0?aI:j,H=t.title,X=t.marginSize,ne=t.imageSettings,oe=(0,de.Z)(t,c4),ae=cI({value:o,level:w,minVersion:G,includeMargin:Z,marginSize:X,imageSettings:ne,size:y}),ie=ae.margin,le=ae.cells,fe=ae.numCells,me=ae.calculatedImageSettings,ge=le,be=null;ne!=null&&me!=null&&(me.excavation!=null&&(ge=lI(le,me.excavation)),be=s.createElement("image",{href:ne.src,height:me.h,width:me.w,x:me.x+ie,y:me.y+ie,preserveAspectRatio:"none",opacity:me.opacity,crossOrigin:me.crossOrigin}));var Ie=sI(ge,ie);return s.createElement("svg",(0,We.Z)({height:y,width:y,viewBox:"0 0 ".concat(fe," ").concat(fe),ref:a,role:"img"},oe),!!H&&s.createElement("title",null,H),s.createElement("path",{fill:D,d:"M0,0 h".concat(fe,"v").concat(fe,"H0z"),shapeRendering:"crispEdges"}),s.createElement("path",{fill:z,d:Ie,shapeRendering:"crispEdges"}),be)});dI.displayName="QRCodeSVG";var u4={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.1 209.3l-56.4 44.1C775.8 155.1 656.2 92 521.9 92 290 92 102.3 279.5 102 511.5 101.7 743.7 289.8 932 521.9 932c181.3 0 335.8-115 394.6-276.1 1.5-4.2-.7-8.9-4.9-10.3l-56.7-19.5a8 8 0 00-10.1 4.8c-1.8 5-3.8 10-5.9 14.9-17.3 41-42.1 77.8-73.7 109.4A344.77 344.77 0 01655.9 829c-42.3 17.9-87.4 27-133.8 27-46.5 0-91.5-9.1-133.8-27A341.5 341.5 0 01279 755.2a342.16 342.16 0 01-73.7-109.4c-17.9-42.4-27-87.4-27-133.9s9.1-91.5 27-133.9c17.3-41 42.1-77.8 73.7-109.4 31.6-31.6 68.4-56.4 109.3-73.8 42.3-17.9 87.4-27 133.8-27 46.5 0 91.5 9.1 133.8 27a341.5 341.5 0 01109.3 73.8c9.9 9.9 19.2 20.4 27.8 31.4l-60.2 47a8 8 0 003 14.1l175.6 43c5 1.2 9.9-2.6 9.9-7.7l.8-180.9c-.1-6.6-7.8-10.3-13-6.2z"}}]},name:"reload",theme:"outlined"},d4=u4,f4=function(t,a){return s.createElement(Kt.Z,(0,We.Z)({},t,{ref:a,icon:d4}))},h4=s.forwardRef(f4),p4=h4;const m4=s.createElement(gv,null);function g4(e){let{prefixCls:t,locale:a,onRefresh:o,statusRender:f,status:y}=e;const C=s.createElement(s.Fragment,null,s.createElement("p",{className:`${t}-expired`},a==null?void 0:a.expired),o&&s.createElement($n,{type:"link",icon:s.createElement(p4,null),onClick:o},a==null?void 0:a.refresh)),w=s.createElement("p",{className:`${t}-scanned`},a==null?void 0:a.scanned),I={expired:C,loading:m4,scanned:w},D=z=>I[z.status];return(f!=null?f:D)({status:y,locale:a,onRefresh:o})}const v4=e=>{const{componentCls:t,lineWidth:a,lineType:o,colorSplit:f}=e;return{[t]:Object.assign(Object.assign({},(0,Jt.Wf)(e)),{display:"flex",justifyContent:"center",alignItems:"center",padding:e.paddingSM,backgroundColor:e.colorWhite,borderRadius:e.borderRadiusLG,border:`${(0,he.bf)(a)} ${o} ${f}`,position:"relative",overflow:"hidden",[`& > ${t}-mask`]:{position:"absolute",insetBlockStart:0,insetInlineStart:0,zIndex:10,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",width:"100%",height:"100%",color:e.colorText,lineHeight:e.lineHeight,background:e.QRCodeMaskBackgroundColor,textAlign:"center",[`& > ${t}-expired, & > ${t}-scanned`]:{color:e.QRCodeTextColor}},"> canvas":{alignSelf:"stretch",flex:"auto",minWidth:0},"&-icon":{marginBlockEnd:e.marginXS,fontSize:e.controlHeight}}),[`${t}-borderless`]:{borderColor:"transparent",padding:0,borderRadius:0}}},y4=e=>({QRCodeMaskBackgroundColor:new Sl.t(e.colorBgContainer).setA(.96).toRgbString()});var _4=(0,te.I$)("QRCode",e=>{const t=(0,Qr.IX)(e,{QRCodeTextColor:e.colorText});return v4(t)},y4),b4=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a},x4=e=>{var t,a,o,f;const[,y]=(0,Qn.ZP)(),{value:C,type:w="canvas",icon:I="",size:D=160,iconSize:L,color:z=y.colorText,errorLevel:k="M",status:Z="active",bordered:j=!0,onRefresh:G,style:H,className:X,rootClassName:ne,prefixCls:oe,bgColor:ae="transparent",statusRender:ie}=e,le=b4(e,["value","type","icon","size","iconSize","color","errorLevel","status","bordered","onRefresh","style","className","rootClassName","prefixCls","bgColor","statusRender"]),{getPrefixCls:fe}=(0,s.useContext)(ye.E_),me=fe("qrcode",oe),[ge,be,Ie]=_4(me),Oe={src:I,x:void 0,y:void 0,height:typeof L=="number"?L:(t=L==null?void 0:L.height)!==null&&t!==void 0?t:40,width:typeof L=="number"?L:(a=L==null?void 0:L.width)!==null&&a!==void 0?a:40,excavate:!0,crossOrigin:"anonymous"},Te=(0,ut.Z)(le,!0),Ve=(0,fr.Z)(le,Object.keys(Te)),De=Object.assign({value:C,size:D,level:k,bgColor:ae,fgColor:z,style:{width:H==null?void 0:H.width,height:H==null?void 0:H.height},imageSettings:I?Oe:void 0},Te),[Ue]=(0,In.Z)("QRCode");if(!C)return null;const ke=q()(me,X,ne,be,Ie,{[`${me}-borderless`]:!j}),st=Object.assign(Object.assign({backgroundColor:ae},H),{width:(o=H==null?void 0:H.width)!==null&&o!==void 0?o:D,height:(f=H==null?void 0:H.height)!==null&&f!==void 0?f:D});return ge(s.createElement("div",Object.assign({},Ve,{className:ke,style:st}),Z!=="active"&&s.createElement("div",{className:`${me}-mask`},s.createElement(g4,{prefixCls:me,locale:Ue,status:Z,onRefresh:G,statusRender:ie})),w==="canvas"?s.createElement(uI,Object.assign({},De)):s.createElement(dI,Object.assign({},De))))},nw=F(89965),C4={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M908.1 353.1l-253.9-36.9L540.7 86.1c-3.1-6.3-8.2-11.4-14.5-14.5-15.8-7.8-35-1.3-42.9 14.5L369.8 316.2l-253.9 36.9c-7 1-13.4 4.3-18.3 9.3a32.05 32.05 0 00.6 45.3l183.7 179.1-43.4 252.9a31.95 31.95 0 0046.4 33.7L512 754l227.1 119.4c6.2 3.3 13.4 4.4 20.3 3.2 17.4-3 29.1-19.5 26.1-36.9l-43.4-252.9 183.7-179.1c5-4.9 8.3-11.3 9.3-18.3 2.7-17.5-9.5-33.7-27-36.3z"}}]},name:"star",theme:"filled"},S4=C4,w4=function(t,a){return s.createElement(Kt.Z,(0,We.Z)({},t,{ref:a,icon:S4}))},E4=s.forwardRef(w4),I4=E4;function T4(e,t){var a=e.disabled,o=e.prefixCls,f=e.character,y=e.characterRender,C=e.index,w=e.count,I=e.value,D=e.allowHalf,L=e.focused,z=e.onHover,k=e.onClick,Z=function(ie){z(ie,C)},j=function(ie){k(ie,C)},G=function(ie){ie.keyCode===nt.Z.ENTER&&k(ie,C)},H=C+1,X=new Set([o]);I===0&&C===0&&L?X.add("".concat(o,"-focused")):D&&I+.5>=H&&I<H?(X.add("".concat(o,"-half")),X.add("".concat(o,"-active")),L&&X.add("".concat(o,"-focused"))):(H<=I?X.add("".concat(o,"-full")):X.add("".concat(o,"-zero")),H===I&&L&&X.add("".concat(o,"-focused")));var ne=typeof f=="function"?f(e):f,oe=s.createElement("li",{className:q()(Array.from(X)),ref:t},s.createElement("div",{onClick:a?null:j,onKeyDown:a?null:G,onMouseMove:a?null:Z,role:"radio","aria-checked":I>C?"true":"false","aria-posinset":C+1,"aria-setsize":w,tabIndex:a?-1:0},s.createElement("div",{className:"".concat(o,"-first")},ne),s.createElement("div",{className:"".concat(o,"-second")},ne)));return y&&(oe=y(oe,e)),oe}var M4=s.forwardRef(T4);function P4(){var e=s.useRef({});function t(o){return e.current[o]}function a(o){return function(f){e.current[o]=f}}return[t,a]}function O4(e){var t=e.pageXOffset,a="scrollLeft";if(typeof t!="number"){var o=e.document;t=o.documentElement[a],typeof t!="number"&&(t=o.body[a])}return t}function R4(e){var t,a,o=e.ownerDocument,f=o.body,y=o&&o.documentElement,C=e.getBoundingClientRect();return t=C.left,a=C.top,t-=y.clientLeft||f.clientLeft||0,a-=y.clientTop||f.clientTop||0,{left:t,top:a}}function $4(e){var t=R4(e),a=e.ownerDocument,o=a.defaultView||a.parentWindow;return t.left+=O4(o),t.left}var A4=["prefixCls","className","defaultValue","value","count","allowHalf","allowClear","keyboard","character","characterRender","disabled","direction","tabIndex","autoFocus","onHoverChange","onChange","onFocus","onBlur","onKeyDown","onMouseLeave"];function D4(e,t){var a=e.prefixCls,o=a===void 0?"rc-rate":a,f=e.className,y=e.defaultValue,C=e.value,w=e.count,I=w===void 0?5:w,D=e.allowHalf,L=D===void 0?!1:D,z=e.allowClear,k=z===void 0?!0:z,Z=e.keyboard,j=Z===void 0?!0:Z,G=e.character,H=G===void 0?"\u2605":G,X=e.characterRender,ne=e.disabled,oe=e.direction,ae=oe===void 0?"ltr":oe,ie=e.tabIndex,le=ie===void 0?0:ie,fe=e.autoFocus,me=e.onHoverChange,ge=e.onChange,be=e.onFocus,Ie=e.onBlur,Oe=e.onKeyDown,Te=e.onMouseLeave,Ve=(0,de.Z)(e,A4),De=P4(),Ue=(0,Re.Z)(De,2),ke=Ue[0],st=Ue[1],ct=s.useRef(null),Et=function(){if(!ne){var Ri;(Ri=ct.current)===null||Ri===void 0||Ri.focus()}};s.useImperativeHandle(t,function(){return{focus:Et,blur:function(){if(!ne){var Ri;(Ri=ct.current)===null||Ri===void 0||Ri.blur()}}}});var It=(0,Fs.Z)(y||0,{value:C}),Ct=(0,Re.Z)(It,2),mt=Ct[0],bt=Ct[1],zt=(0,Fs.Z)(null),$t=(0,Re.Z)(zt,2),Ht=$t[0],Mt=$t[1],Cn=function(Ri,mi){var Pi=ae==="rtl",ao=Ri+1;if(L){var ki=ke(Ri),Ao=$4(ki),Cr=ki.clientWidth;(Pi&&mi-Ao>Cr/2||!Pi&&mi-Ao<Cr/2)&&(ao-=.5)}return ao},Hn=function(Ri){bt(Ri),ge==null||ge(Ri)},pn=s.useState(!1),Dn=(0,Re.Z)(pn,2),Qt=Dn[0],Ft=Dn[1],kn=function(){Ft(!0),be==null||be()},Pn=function(){Ft(!1),Ie==null||Ie()},Dr=s.useState(null),br=(0,Re.Z)(Dr,2),or=br[0],ar=br[1],Fn=function(Ri,mi){var Pi=Cn(mi,Ri.pageX);Pi!==Ht&&(ar(Pi),Mt(null)),me==null||me(Pi)},sr=function(Ri){ne||(ar(null),Mt(null),me==null||me(void 0)),Ri&&(Te==null||Te(Ri))},Gr=function(Ri,mi){var Pi=Cn(mi,Ri.pageX),ao=!1;k&&(ao=Pi===mt),sr(),Hn(ao?0:Pi),Mt(ao?Pi:null)},yi=function(Ri){var mi=Ri.keyCode,Pi=ae==="rtl",ao=L?.5:1;j&&(mi===nt.Z.RIGHT&&mt<I&&!Pi?(Hn(mt+ao),Ri.preventDefault()):mi===nt.Z.LEFT&&mt>0&&!Pi||mi===nt.Z.RIGHT&&mt>0&&Pi?(Hn(mt-ao),Ri.preventDefault()):mi===nt.Z.LEFT&&mt<I&&Pi&&(Hn(mt+ao),Ri.preventDefault())),Oe==null||Oe(Ri)};s.useEffect(function(){fe&&!ne&&Et()},[]);var Di=new Array(I).fill(0).map(function($o,Ri){return s.createElement(M4,{ref:st(Ri),index:Ri,count:I,disabled:ne,prefixCls:"".concat(o,"-star"),allowHalf:L,value:or===null?mt:or,onClick:Gr,onHover:Fn,key:$o||Ri,character:H,characterRender:X,focused:Qt})}),Ui=q()(o,f,(0,pe.Z)((0,pe.Z)({},"".concat(o,"-disabled"),ne),"".concat(o,"-rtl"),ae==="rtl"));return s.createElement("ul",(0,We.Z)({className:Ui,onMouseLeave:sr,tabIndex:ne?-1:le,onFocus:ne?null:kn,onBlur:ne?null:Pn,onKeyDown:ne?null:yi,ref:ct},(0,ut.Z)(Ve,{aria:!0,data:!0,attr:!0})),Di)}var L4=s.forwardRef(D4),z4=L4;const N4=e=>{const{componentCls:t}=e;return{[`${t}-star`]:{position:"relative",display:"inline-block",color:"inherit",cursor:"pointer","&:not(:last-child)":{marginInlineEnd:e.marginXS},"> div":{transition:`all ${e.motionDurationMid}, outline 0s`,"&:hover":{transform:e.starHoverScale},"&:focus":{outline:0},"&:focus-visible":{outline:`${(0,he.bf)(e.lineWidth)} dashed ${e.starColor}`,transform:e.starHoverScale}},"&-first, &-second":{color:e.starBg,transition:`all ${e.motionDurationMid}`,userSelect:"none"},"&-first":{position:"absolute",top:0,insetInlineStart:0,width:"50%",height:"100%",overflow:"hidden",opacity:0},[`&-half ${t}-star-first, &-half ${t}-star-second`]:{opacity:1},[`&-half ${t}-star-first, &-full ${t}-star-second`]:{color:"inherit"}}}},B4=e=>({[`&-rtl${e.componentCls}`]:{direction:"rtl"}}),F4=e=>{const{componentCls:t}=e;return{[t]:Object.assign(Object.assign(Object.assign(Object.assign({},(0,Jt.Wf)(e)),{display:"inline-block",margin:0,padding:0,color:e.starColor,fontSize:e.starSize,lineHeight:1,listStyle:"none",outline:"none",[`&-disabled${t} ${t}-star`]:{cursor:"default","> div:hover":{transform:"scale(1)"}}}),N4(e)),B4(e))}},k4=e=>({starColor:e.yellow6,starSize:e.controlHeightLG*.5,starHoverScale:"scale(1.1)",starBg:e.colorFillContent});var j4=(0,te.I$)("Rate",e=>{const t=(0,Qr.IX)(e,{});return[F4(t)]},k4),Z4=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a},V4=s.forwardRef((e,t)=>{const{prefixCls:a,className:o,rootClassName:f,style:y,tooltips:C,character:w=s.createElement(I4,null),disabled:I}=e,D=Z4(e,["prefixCls","className","rootClassName","style","tooltips","character","disabled"]),L=(ie,le)=>{let{index:fe}=le;return C?s.createElement(Du.Z,{title:C[fe]},ie):ie},{getPrefixCls:z,direction:k,rate:Z}=s.useContext(ye.E_),j=z("rate",a),[G,H,X]=j4(j),ne=Object.assign(Object.assign({},Z==null?void 0:Z.style),y),oe=s.useContext(to.Z),ae=I!=null?I:oe;return G(s.createElement(z4,Object.assign({ref:t,character:w,characterRender:L,disabled:ae},D,{className:q()(o,f,H,X,Z==null?void 0:Z.className),style:ne,prefixCls:j,direction:k})))}),H4={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M955.7 856l-416-720c-6.2-10.7-16.9-16-27.7-16s-21.6 5.3-27.7 16l-416 720C56 877.4 71.4 904 96 904h832c24.6 0 40-26.6 27.7-48zM480 416c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v184c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V416zm32 352a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"warning",theme:"filled"},U4=H4,W4=function(t,a){return s.createElement(Kt.Z,(0,We.Z)({},t,{ref:a,icon:U4}))},G4=s.forwardRef(W4),K4=G4,X4=()=>s.createElement("svg",{width:"252",height:"294"},s.createElement("title",null,"No Found"),s.createElement("defs",null,s.createElement("path",{d:"M0 .387h251.772v251.772H0z"})),s.createElement("g",{fill:"none",fillRule:"evenodd"},s.createElement("g",{transform:"translate(0 .012)"},s.createElement("mask",{fill:"#fff"}),s.createElement("path",{d:"M0 127.32v-2.095C0 56.279 55.892.387 124.838.387h2.096c68.946 0 124.838 55.892 124.838 124.838v2.096c0 68.946-55.892 124.838-124.838 124.838h-2.096C55.892 252.16 0 196.267 0 127.321",fill:"#E4EBF7",mask:"url(#b)"})),s.createElement("path",{d:"M39.755 130.84a8.276 8.276 0 1 1-16.468-1.66 8.276 8.276 0 0 1 16.468 1.66",fill:"#FFF"}),s.createElement("path",{d:"M36.975 134.297l10.482 5.943M48.373 146.508l-12.648 10.788",stroke:"#FFF",strokeWidth:"2"}),s.createElement("path",{d:"M39.875 159.352a5.667 5.667 0 1 1-11.277-1.136 5.667 5.667 0 0 1 11.277 1.136M57.588 143.247a5.708 5.708 0 1 1-11.358-1.145 5.708 5.708 0 0 1 11.358 1.145M99.018 26.875l29.82-.014a4.587 4.587 0 1 0-.003-9.175l-29.82.013a4.587 4.587 0 1 0 .003 9.176M110.424 45.211l29.82-.013a4.588 4.588 0 0 0-.004-9.175l-29.82.013a4.587 4.587 0 1 0 .004 9.175",fill:"#FFF"}),s.createElement("path",{d:"M112.798 26.861v-.002l15.784-.006a4.588 4.588 0 1 0 .003 9.175l-15.783.007v-.002a4.586 4.586 0 0 0-.004-9.172M184.523 135.668c-.553 5.485-5.447 9.483-10.931 8.93-5.485-.553-9.483-5.448-8.93-10.932.552-5.485 5.447-9.483 10.932-8.93 5.485.553 9.483 5.447 8.93 10.932",fill:"#FFF"}),s.createElement("path",{d:"M179.26 141.75l12.64 7.167M193.006 156.477l-15.255 13.011",stroke:"#FFF",strokeWidth:"2"}),s.createElement("path",{d:"M184.668 170.057a6.835 6.835 0 1 1-13.6-1.372 6.835 6.835 0 0 1 13.6 1.372M203.34 153.325a6.885 6.885 0 1 1-13.7-1.382 6.885 6.885 0 0 1 13.7 1.382",fill:"#FFF"}),s.createElement("path",{d:"M151.931 192.324a2.222 2.222 0 1 1-4.444 0 2.222 2.222 0 0 1 4.444 0zM225.27 116.056a2.222 2.222 0 1 1-4.445 0 2.222 2.222 0 0 1 4.444 0zM216.38 151.08a2.223 2.223 0 1 1-4.446-.001 2.223 2.223 0 0 1 4.446 0zM176.917 107.636a2.223 2.223 0 1 1-4.445 0 2.223 2.223 0 0 1 4.445 0zM195.291 92.165a2.223 2.223 0 1 1-4.445 0 2.223 2.223 0 0 1 4.445 0zM202.058 180.711a2.223 2.223 0 1 1-4.446 0 2.223 2.223 0 0 1 4.446 0z",stroke:"#FFF",strokeWidth:"2"}),s.createElement("path",{stroke:"#FFF",strokeWidth:"2",d:"M214.404 153.302l-1.912 20.184-10.928 5.99M173.661 174.792l-6.356 9.814h-11.36l-4.508 6.484M174.941 125.168v-15.804M220.824 117.25l-12.84 7.901-15.31-7.902V94.39"}),s.createElement("path",{d:"M166.588 65.936h-3.951a4.756 4.756 0 0 1-4.743-4.742 4.756 4.756 0 0 1 4.743-4.743h3.951a4.756 4.756 0 0 1 4.743 4.743 4.756 4.756 0 0 1-4.743 4.742",fill:"#FFF"}),s.createElement("path",{d:"M174.823 30.03c0-16.281 13.198-29.48 29.48-29.48 16.28 0 29.48 13.199 29.48 29.48 0 16.28-13.2 29.48-29.48 29.48-16.282 0-29.48-13.2-29.48-29.48",fill:"#1677ff"}),s.createElement("path",{d:"M205.952 38.387c.5.5.785 1.142.785 1.928s-.286 1.465-.785 1.964c-.572.5-1.214.75-2 .75-.785 0-1.429-.285-1.929-.785-.572-.5-.82-1.143-.82-1.929s.248-1.428.82-1.928c.5-.5 1.144-.75 1.93-.75.785 0 1.462.25 1.999.75m4.285-19.463c1.428 1.249 2.143 2.963 2.143 5.142 0 1.712-.427 3.13-1.219 4.25-.067.096-.137.18-.218.265-.416.429-1.41 1.346-2.956 2.699a5.07 5.07 0 0 0-1.428 1.75 5.207 5.207 0 0 0-.536 2.357v.5h-4.107v-.5c0-1.357.215-2.536.714-3.5.464-.964 1.857-2.464 4.178-4.536l.43-.5c.643-.785.964-1.643.964-2.535 0-1.18-.358-2.108-1-2.785-.678-.68-1.643-1.001-2.858-1.001-1.536 0-2.642.464-3.357 1.43-.37.5-.621 1.135-.76 1.904a1.999 1.999 0 0 1-1.971 1.63h-.004c-1.277 0-2.257-1.183-1.98-2.43.337-1.518 1.02-2.78 2.073-3.784 1.536-1.5 3.607-2.25 6.25-2.25 2.32 0 4.214.607 5.642 1.894",fill:"#FFF"}),s.createElement("path",{d:"M52.04 76.131s21.81 5.36 27.307 15.945c5.575 10.74-6.352 9.26-15.73 4.935-10.86-5.008-24.7-11.822-11.577-20.88",fill:"#FFB594"}),s.createElement("path",{d:"M90.483 67.504l-.449 2.893c-.753.49-4.748-2.663-4.748-2.663l-1.645.748-1.346-5.684s6.815-4.589 8.917-5.018c2.452-.501 9.884.94 10.7 2.278 0 0 1.32.486-2.227.69-3.548.203-5.043.447-6.79 3.132-1.747 2.686-2.412 3.624-2.412 3.624",fill:"#FFC6A0"}),s.createElement("path",{d:"M128.055 111.367c-2.627-7.724-6.15-13.18-8.917-15.478-3.5-2.906-9.34-2.225-11.366-4.187-1.27-1.231-3.215-1.197-3.215-1.197s-14.98-3.158-16.828-3.479c-2.37-.41-2.124-.714-6.054-1.405-1.57-1.907-2.917-1.122-2.917-1.122l-7.11-1.383c-.853-1.472-2.423-1.023-2.423-1.023l-2.468-.897c-1.645 9.976-7.74 13.796-7.74 13.796 1.795 1.122 15.703 8.3 15.703 8.3l5.107 37.11s-3.321 5.694 1.346 9.109c0 0 19.883-3.743 34.921-.329 0 0 3.047-2.546.972-8.806.523-3.01 1.394-8.263 1.736-11.622.385.772 2.019 1.918 3.14 3.477 0 0 9.407-7.365 11.052-14.012-.832-.723-1.598-1.585-2.267-2.453-.567-.736-.358-2.056-.765-2.717-.669-1.084-1.804-1.378-1.907-1.682",fill:"#FFF"}),s.createElement("path",{d:"M101.09 289.998s4.295 2.041 7.354 1.021c2.821-.94 4.53.668 7.08 1.178 2.55.51 6.874 1.1 11.686-1.26-.103-5.51-6.889-3.98-11.96-6.713-2.563-1.38-3.784-4.722-3.598-8.799h-9.402s-1.392 10.52-1.16 14.573",fill:"#CBD1D1"}),s.createElement("path",{d:"M101.067 289.826s2.428 1.271 6.759.653c3.058-.437 3.712.481 7.423 1.031 3.712.55 10.724-.069 11.823-.894.413 1.1-.343 2.063-.343 2.063s-1.512.603-4.812.824c-2.03.136-5.8.291-7.607-.503-1.787-1.375-5.247-1.903-5.728-.241-3.918.95-7.355-.286-7.355-.286l-.16-2.647z",fill:"#2B0849"}),s.createElement("path",{d:"M108.341 276.044h3.094s-.103 6.702 4.536 8.558c-4.64.618-8.558-2.303-7.63-8.558",fill:"#A4AABA"}),s.createElement("path",{d:"M57.542 272.401s-2.107 7.416-4.485 12.306c-1.798 3.695-4.225 7.492 5.465 7.492 6.648 0 8.953-.48 7.423-6.599-1.53-6.12.266-13.199.266-13.199h-8.669z",fill:"#CBD1D1"}),s.createElement("path",{d:"M51.476 289.793s2.097 1.169 6.633 1.169c6.083 0 8.249-1.65 8.249-1.65s.602 1.114-.619 2.165c-.993.855-3.597 1.591-7.39 1.546-4.145-.048-5.832-.566-6.736-1.168-.825-.55-.687-1.58-.137-2.062",fill:"#2B0849"}),s.createElement("path",{d:"M58.419 274.304s.033 1.519-.314 2.93c-.349 1.42-1.078 3.104-1.13 4.139-.058 1.151 4.537 1.58 5.155.034.62-1.547 1.294-6.427 1.913-7.252.619-.825-4.903-2.119-5.624.15",fill:"#A4AABA"}),s.createElement("path",{d:"M99.66 278.514l13.378.092s1.298-54.52 1.853-64.403c.554-9.882 3.776-43.364 1.002-63.128l-12.547-.644-22.849.78s-.434 3.966-1.195 9.976c-.063.496-.682.843-.749 1.365-.075.585.423 1.354.32 1.966-2.364 14.08-6.377 33.104-8.744 46.677-.116.666-1.234 1.009-1.458 2.691-.04.302.211 1.525.112 1.795-6.873 18.744-10.949 47.842-14.277 61.885l14.607-.014s2.197-8.57 4.03-16.97c2.811-12.886 23.111-85.01 23.111-85.01l3.016-.521 1.043 46.35s-.224 1.234.337 2.02c.56.785-.56 1.123-.392 2.244l.392 1.794s-.449 7.178-.898 11.89c-.448 4.71-.092 39.165-.092 39.165",fill:"#7BB2F9"}),s.createElement("path",{d:"M76.085 221.626c1.153.094 4.038-2.019 6.955-4.935M106.36 225.142s2.774-1.11 6.103-3.883",stroke:"#648BD8",strokeWidth:"1.051",strokeLinecap:"round",strokeLinejoin:"round"}),s.createElement("path",{d:"M107.275 222.1s2.773-1.11 6.102-3.884",stroke:"#648BD8",strokeLinecap:"round",strokeLinejoin:"round"}),s.createElement("path",{d:"M74.74 224.767s2.622-.591 6.505-3.365M86.03 151.634c-.27 3.106.3 8.525-4.336 9.123M103.625 149.88s.11 14.012-1.293 15.065c-2.219 1.664-2.99 1.944-2.99 1.944M99.79 150.438s.035 12.88-1.196 24.377M93.673 175.911s7.212-1.664 9.431-1.664M74.31 205.861a212.013 212.013 0 0 1-.979 4.56s-1.458 1.832-1.009 3.776c.449 1.944-.947 2.045-4.985 15.355-1.696 5.59-4.49 18.591-6.348 27.597l-.231 1.12M75.689 197.807a320.934 320.934 0 0 1-.882 4.754M82.591 152.233L81.395 162.7s-1.097.15-.5 2.244c.113 1.346-2.674 15.775-5.18 30.43M56.12 274.418h13.31",stroke:"#648BD8",strokeWidth:"1.051",strokeLinecap:"round",strokeLinejoin:"round"}),s.createElement("path",{d:"M116.241 148.22s-17.047-3.104-35.893.2c.158 2.514-.003 4.15-.003 4.15s14.687-2.818 35.67-.312c.252-2.355.226-4.038.226-4.038",fill:"#192064"}),s.createElement("path",{d:"M106.322 151.165l.003-4.911a.81.81 0 0 0-.778-.815c-2.44-.091-5.066-.108-7.836-.014a.818.818 0 0 0-.789.815l-.003 4.906a.81.81 0 0 0 .831.813c2.385-.06 4.973-.064 7.73.017a.815.815 0 0 0 .842-.81",fill:"#FFF"}),s.createElement("path",{d:"M105.207 150.233l.002-3.076a.642.642 0 0 0-.619-.646 94.321 94.321 0 0 0-5.866-.01.65.65 0 0 0-.63.647v3.072a.64.64 0 0 0 .654.644 121.12 121.12 0 0 1 5.794.011c.362.01.665-.28.665-.642",fill:"#192064"}),s.createElement("path",{d:"M100.263 275.415h12.338M101.436 270.53c.006 3.387.042 5.79.111 6.506M101.451 264.548a915.75 915.75 0 0 0-.015 4.337M100.986 174.965l.898 44.642s.673 1.57-.225 2.692c-.897 1.122 2.468.673.898 2.243-1.57 1.57.897 1.122 0 3.365-.596 1.489-.994 21.1-1.096 35.146",stroke:"#648BD8",strokeWidth:"1.051",strokeLinecap:"round",strokeLinejoin:"round"}),s.createElement("path",{d:"M46.876 83.427s-.516 6.045 7.223 5.552c11.2-.712 9.218-9.345 31.54-21.655-.786-2.708-2.447-4.744-2.447-4.744s-11.068 3.11-22.584 8.046c-6.766 2.9-13.395 6.352-13.732 12.801M104.46 91.057l.941-5.372-8.884-11.43-5.037 5.372-1.74 7.834a.321.321 0 0 0 .108.32c.965.8 6.5 5.013 14.347 3.544a.332.332 0 0 0 .264-.268",fill:"#FFC6A0"}),s.createElement("path",{d:"M93.942 79.387s-4.533-2.853-2.432-6.855c1.623-3.09 4.513 1.133 4.513 1.133s.52-3.642 3.121-3.642c.52-1.04 1.561-4.162 1.561-4.162s11.445 2.601 13.526 3.121c0 5.203-2.304 19.424-7.84 19.861-8.892.703-12.449-9.456-12.449-9.456",fill:"#FFC6A0"}),s.createElement("path",{d:"M113.874 73.446c2.601-2.081 3.47-9.722 3.47-9.722s-2.479-.49-6.64-2.05c-4.683-2.081-12.798-4.747-17.48.976-9.668 3.223-2.05 19.823-2.05 19.823l2.713-3.021s-3.935-3.287-2.08-6.243c2.17-3.462 3.92 1.073 3.92 1.073s.637-2.387 3.581-3.342c.355-.71 1.036-2.674 1.432-3.85a1.073 1.073 0 0 1 1.263-.704c2.4.558 8.677 2.019 11.356 2.662.522.125.871.615.82 1.15l-.305 3.248z",fill:"#520038"}),s.createElement("path",{d:"M104.977 76.064c-.103.61-.582 1.038-1.07.956-.489-.083-.801-.644-.698-1.254.103-.61.582-1.038 1.07-.956.488.082.8.644.698 1.254M112.132 77.694c-.103.61-.582 1.038-1.07.956-.488-.083-.8-.644-.698-1.254.103-.61.582-1.038 1.07-.956.488.082.8.643.698 1.254",fill:"#552950"}),s.createElement("path",{stroke:"#DB836E",strokeWidth:"1.118",strokeLinecap:"round",strokeLinejoin:"round",d:"M110.13 74.84l-.896 1.61-.298 4.357h-2.228"}),s.createElement("path",{d:"M110.846 74.481s1.79-.716 2.506.537",stroke:"#5C2552",strokeWidth:"1.118",strokeLinecap:"round",strokeLinejoin:"round"}),s.createElement("path",{d:"M92.386 74.282s.477-1.114 1.113-.716c.637.398 1.274 1.433.558 1.99-.717.556.159 1.67.159 1.67",stroke:"#DB836E",strokeWidth:"1.118",strokeLinecap:"round",strokeLinejoin:"round"}),s.createElement("path",{d:"M103.287 72.93s1.83 1.113 4.137.954",stroke:"#5C2552",strokeWidth:"1.118",strokeLinecap:"round",strokeLinejoin:"round"}),s.createElement("path",{d:"M103.685 81.762s2.227 1.193 4.376 1.193M104.64 84.308s.954.398 1.511.318M94.693 81.205s2.308 7.4 10.424 7.639",stroke:"#DB836E",strokeWidth:"1.118",strokeLinecap:"round",strokeLinejoin:"round"}),s.createElement("path",{d:"M81.45 89.384s.45 5.647-4.935 12.787M69 82.654s-.726 9.282-8.204 14.206",stroke:"#E4EBF7",strokeWidth:"1.101",strokeLinecap:"round",strokeLinejoin:"round"}),s.createElement("path",{d:"M129.405 122.865s-5.272 7.403-9.422 10.768",stroke:"#E4EBF7",strokeWidth:"1.051",strokeLinecap:"round",strokeLinejoin:"round"}),s.createElement("path",{d:"M119.306 107.329s.452 4.366-2.127 32.062",stroke:"#E4EBF7",strokeWidth:"1.101",strokeLinecap:"round",strokeLinejoin:"round"}),s.createElement("path",{d:"M150.028 151.232h-49.837a1.01 1.01 0 0 1-1.01-1.01v-31.688c0-.557.452-1.01 1.01-1.01h49.837c.558 0 1.01.453 1.01 1.01v31.688a1.01 1.01 0 0 1-1.01 1.01",fill:"#F2D7AD"}),s.createElement("path",{d:"M150.29 151.232h-19.863v-33.707h20.784v32.786a.92.92 0 0 1-.92.92",fill:"#F4D19D"}),s.createElement("path",{d:"M123.554 127.896H92.917a.518.518 0 0 1-.425-.816l6.38-9.113c.193-.277.51-.442.85-.442h31.092l-7.26 10.371z",fill:"#F2D7AD"}),s.createElement("path",{fill:"#CC9B6E",d:"M123.689 128.447H99.25v-.519h24.169l7.183-10.26.424.298z"}),s.createElement("path",{d:"M158.298 127.896h-18.669a2.073 2.073 0 0 1-1.659-.83l-7.156-9.541h19.965c.49 0 .95.23 1.244.622l6.69 8.92a.519.519 0 0 1-.415.83",fill:"#F4D19D"}),s.createElement("path",{fill:"#CC9B6E",d:"M157.847 128.479h-19.384l-7.857-10.475.415-.31 7.7 10.266h19.126zM130.554 150.685l-.032-8.177.519-.002.032 8.177z"}),s.createElement("path",{fill:"#CC9B6E",d:"M130.511 139.783l-.08-21.414.519-.002.08 21.414zM111.876 140.932l-.498-.143 1.479-5.167.498.143zM108.437 141.06l-2.679-2.935 2.665-3.434.41.318-2.397 3.089 2.384 2.612zM116.607 141.06l-.383-.35 2.383-2.612-2.397-3.089.41-.318 2.665 3.434z"}),s.createElement("path",{d:"M154.316 131.892l-3.114-1.96.038 3.514-1.043.092c-1.682.115-3.634.23-4.789.23-1.902 0-2.693 2.258 2.23 2.648l-2.645-.596s-2.168 1.317.504 2.3c0 0-1.58 1.217.561 2.58-.584 3.504 5.247 4.058 7.122 3.59 1.876-.47 4.233-2.359 4.487-5.16.28-3.085-.89-5.432-3.35-7.238",fill:"#FFC6A0"}),s.createElement("path",{d:"M153.686 133.577s-6.522.47-8.36.372c-1.836-.098-1.904 2.19 2.359 2.264 3.739.15 5.451-.044 5.451-.044",stroke:"#DB836E",strokeWidth:"1.051",strokeLinecap:"round",strokeLinejoin:"round"}),s.createElement("path",{d:"M145.16 135.877c-1.85 1.346.561 2.355.561 2.355s3.478.898 6.73.617",stroke:"#DB836E",strokeWidth:"1.051",strokeLinecap:"round",strokeLinejoin:"round"}),s.createElement("path",{d:"M151.89 141.71s-6.28.111-6.73-2.132c-.223-1.346.45-1.402.45-1.402M146.114 140.868s-1.103 3.16 5.44 3.533M151.202 129.932v3.477M52.838 89.286c3.533-.337 8.423-1.248 13.582-7.754",stroke:"#DB836E",strokeWidth:"1.051",strokeLinecap:"round",strokeLinejoin:"round"}),s.createElement("path",{d:"M168.567 248.318a6.647 6.647 0 0 1-6.647-6.647v-66.466a6.647 6.647 0 1 1 13.294 0v66.466a6.647 6.647 0 0 1-6.647 6.647",fill:"#5BA02E"}),s.createElement("path",{d:"M176.543 247.653a6.647 6.647 0 0 1-6.646-6.647v-33.232a6.647 6.647 0 1 1 13.293 0v33.232a6.647 6.647 0 0 1-6.647 6.647",fill:"#92C110"}),s.createElement("path",{d:"M186.443 293.613H158.92a3.187 3.187 0 0 1-3.187-3.187v-46.134a3.187 3.187 0 0 1 3.187-3.187h27.524a3.187 3.187 0 0 1 3.187 3.187v46.134a3.187 3.187 0 0 1-3.187 3.187",fill:"#F2D7AD"}),s.createElement("path",{d:"M88.979 89.48s7.776 5.384 16.6 2.842",stroke:"#E4EBF7",strokeWidth:"1.101",strokeLinecap:"round",strokeLinejoin:"round"}))),Y4=()=>s.createElement("svg",{width:"254",height:"294"},s.createElement("title",null,"Server Error"),s.createElement("defs",null,s.createElement("path",{d:"M0 .335h253.49v253.49H0z"}),s.createElement("path",{d:"M0 293.665h253.49V.401H0z"})),s.createElement("g",{fill:"none",fillRule:"evenodd"},s.createElement("g",{transform:"translate(0 .067)"},s.createElement("mask",{fill:"#fff"}),s.createElement("path",{d:"M0 128.134v-2.11C0 56.608 56.273.334 125.69.334h2.11c69.416 0 125.69 56.274 125.69 125.69v2.11c0 69.417-56.274 125.69-125.69 125.69h-2.11C56.273 253.824 0 197.551 0 128.134",fill:"#E4EBF7",mask:"url(#b)"})),s.createElement("path",{d:"M39.989 132.108a8.332 8.332 0 1 1-16.581-1.671 8.332 8.332 0 0 1 16.58 1.671",fill:"#FFF"}),s.createElement("path",{d:"M37.19 135.59l10.553 5.983M48.665 147.884l-12.734 10.861",stroke:"#FFF",strokeWidth:"2"}),s.createElement("path",{d:"M40.11 160.816a5.706 5.706 0 1 1-11.354-1.145 5.706 5.706 0 0 1 11.354 1.145M57.943 144.6a5.747 5.747 0 1 1-11.436-1.152 5.747 5.747 0 0 1 11.436 1.153M99.656 27.434l30.024-.013a4.619 4.619 0 1 0-.004-9.238l-30.024.013a4.62 4.62 0 0 0 .004 9.238M111.14 45.896l30.023-.013a4.62 4.62 0 1 0-.004-9.238l-30.024.013a4.619 4.619 0 1 0 .004 9.238",fill:"#FFF"}),s.createElement("path",{d:"M113.53 27.421v-.002l15.89-.007a4.619 4.619 0 1 0 .005 9.238l-15.892.007v-.002a4.618 4.618 0 0 0-.004-9.234M150.167 70.091h-3.979a4.789 4.789 0 0 1-4.774-4.775 4.788 4.788 0 0 1 4.774-4.774h3.979a4.789 4.789 0 0 1 4.775 4.774 4.789 4.789 0 0 1-4.775 4.775",fill:"#FFF"}),s.createElement("path",{d:"M171.687 30.234c0-16.392 13.289-29.68 29.681-29.68 16.392 0 29.68 13.288 29.68 29.68 0 16.393-13.288 29.681-29.68 29.681s-29.68-13.288-29.68-29.68",fill:"#FF603B"}),s.createElement("path",{d:"M203.557 19.435l-.676 15.035a1.514 1.514 0 0 1-3.026 0l-.675-15.035a2.19 2.19 0 1 1 4.377 0m-.264 19.378c.513.477.77 1.1.77 1.87s-.257 1.393-.77 1.907c-.55.476-1.21.733-1.943.733a2.545 2.545 0 0 1-1.87-.77c-.55-.514-.806-1.136-.806-1.87 0-.77.256-1.393.806-1.87.513-.513 1.137-.733 1.87-.733.77 0 1.43.22 1.943.733",fill:"#FFF"}),s.createElement("path",{d:"M119.3 133.275c4.426-.598 3.612-1.204 4.079-4.778.675-5.18-3.108-16.935-8.262-25.118-1.088-10.72-12.598-11.24-12.598-11.24s4.312 4.895 4.196 16.199c1.398 5.243.804 14.45.804 14.45s5.255 11.369 11.78 10.487",fill:"#FFB594"}),s.createElement("path",{d:"M100.944 91.61s1.463-.583 3.211.582c8.08 1.398 10.368 6.706 11.3 11.368 1.864 1.282 1.864 2.33 1.864 3.496.365.777 1.515 3.03 1.515 3.03s-7.225 1.748-10.954 6.758c-1.399-6.41-6.936-25.235-6.936-25.235",fill:"#FFF"}),s.createElement("path",{d:"M94.008 90.5l1.019-5.815-9.23-11.874-5.233 5.581-2.593 9.863s8.39 5.128 16.037 2.246",fill:"#FFB594"}),s.createElement("path",{d:"M82.931 78.216s-4.557-2.868-2.445-6.892c1.632-3.107 4.537 1.139 4.537 1.139s.524-3.662 3.139-3.662c.523-1.046 1.569-4.184 1.569-4.184s11.507 2.615 13.6 3.138c-.001 5.23-2.317 19.529-7.884 19.969-8.94.706-12.516-9.508-12.516-9.508",fill:"#FFC6A0"}),s.createElement("path",{d:"M102.971 72.243c2.616-2.093 3.489-9.775 3.489-9.775s-2.492-.492-6.676-2.062c-4.708-2.092-12.867-4.771-17.575.982-9.54 4.41-2.062 19.93-2.062 19.93l2.729-3.037s-3.956-3.304-2.092-6.277c2.183-3.48 3.943 1.08 3.943 1.08s.64-2.4 3.6-3.36c.356-.714 1.04-2.69 1.44-3.872a1.08 1.08 0 0 1 1.27-.707c2.41.56 8.723 2.03 11.417 2.676.524.126.876.619.825 1.156l-.308 3.266z",fill:"#520038"}),s.createElement("path",{d:"M101.22 76.514c-.104.613-.585 1.044-1.076.96-.49-.082-.805-.646-.702-1.26.104-.613.585-1.044 1.076-.961.491.083.805.647.702 1.26M94.26 75.074c-.104.613-.585 1.044-1.076.96-.49-.082-.805-.646-.702-1.26.104-.613.585-1.044 1.076-.96.491.082.805.646.702 1.26",fill:"#552950"}),s.createElement("path",{stroke:"#DB836E",strokeWidth:"1.063",strokeLinecap:"round",strokeLinejoin:"round",d:"M99.206 73.644l-.9 1.62-.3 4.38h-2.24"}),s.createElement("path",{d:"M99.926 73.284s1.8-.72 2.52.54",stroke:"#5C2552",strokeWidth:"1.117",strokeLinecap:"round",strokeLinejoin:"round"}),s.createElement("path",{d:"M81.367 73.084s.48-1.12 1.12-.72c.64.4 1.28 1.44.56 2s.16 1.68.16 1.68",stroke:"#DB836E",strokeWidth:"1.117",strokeLinecap:"round",strokeLinejoin:"round"}),s.createElement("path",{d:"M92.326 71.724s1.84 1.12 4.16.96",stroke:"#5C2552",strokeWidth:"1.117",strokeLinecap:"round",strokeLinejoin:"round"}),s.createElement("path",{d:"M92.726 80.604s2.24 1.2 4.4 1.2M93.686 83.164s.96.4 1.52.32M83.687 80.044s1.786 6.547 9.262 7.954",stroke:"#DB836E",strokeWidth:"1.063",strokeLinecap:"round",strokeLinejoin:"round"}),s.createElement("path",{d:"M95.548 91.663s-1.068 2.821-8.298 2.105c-7.23-.717-10.29-5.044-10.29-5.044",stroke:"#E4EBF7",strokeWidth:"1.136",strokeLinecap:"round",strokeLinejoin:"round"}),s.createElement("path",{d:"M78.126 87.478s6.526 4.972 16.47 2.486c0 0 9.577 1.02 11.536 5.322 5.36 11.77.543 36.835 0 39.962 3.496 4.055-.466 8.483-.466 8.483-15.624-3.548-35.81-.6-35.81-.6-4.849-3.546-1.223-9.044-1.223-9.044L62.38 110.32c-2.485-15.227.833-19.803 3.549-20.743 3.03-1.049 8.04-1.282 8.04-1.282.496-.058 1.08-.076 1.37-.233 2.36-1.282 2.787-.583 2.787-.583",fill:"#FFF"}),s.createElement("path",{d:"M65.828 89.81s-6.875.465-7.59 8.156c-.466 8.857 3.03 10.954 3.03 10.954s6.075 22.102 16.796 22.957c8.39-2.176 4.758-6.702 4.661-11.42-.233-11.304-7.108-16.897-7.108-16.897s-4.212-13.75-9.789-13.75",fill:"#FFC6A0"}),s.createElement("path",{d:"M71.716 124.225s.855 11.264 9.828 6.486c4.765-2.536 7.581-13.828 9.789-22.568 1.456-5.768 2.58-12.197 2.58-12.197l-4.973-1.709s-2.408 5.516-7.769 12.275c-4.335 5.467-9.144 11.11-9.455 17.713",fill:"#FFC6A0"}),s.createElement("path",{d:"M108.463 105.191s1.747 2.724-2.331 30.535c2.376 2.216 1.053 6.012-.233 7.51",stroke:"#E4EBF7",strokeWidth:"1.085",strokeLinecap:"round",strokeLinejoin:"round"}),s.createElement("path",{d:"M123.262 131.527s-.427 2.732-11.77 1.981c-15.187-1.006-25.326-3.25-25.326-3.25l.933-5.8s.723.215 9.71-.068c11.887-.373 18.714-6.07 24.964-1.022 4.039 3.263 1.489 8.16 1.489 8.16",fill:"#FFC6A0"}),s.createElement("path",{d:"M70.24 90.974s-5.593-4.739-11.054 2.68c-3.318 7.223.517 15.284 2.664 19.578-.31 3.729 2.33 4.311 2.33 4.311s.108.895 1.516 2.68c4.078-7.03 6.72-9.166 13.711-12.546-.328-.656-1.877-3.265-1.825-3.767.175-1.69-1.282-2.623-1.282-2.623s-.286-.156-1.165-2.738c-.788-2.313-2.036-5.177-4.895-7.575",fill:"#FFF"}),s.createElement("path",{d:"M90.232 288.027s4.855 2.308 8.313 1.155c3.188-1.063 5.12.755 8.002 1.331 2.881.577 7.769 1.243 13.207-1.424-.117-6.228-7.786-4.499-13.518-7.588-2.895-1.56-4.276-5.336-4.066-9.944H91.544s-1.573 11.89-1.312 16.47",fill:"#CBD1D1"}),s.createElement("path",{d:"M90.207 287.833s2.745 1.437 7.639.738c3.456-.494 3.223.66 7.418 1.282 4.195.621 13.092-.194 14.334-1.126.466 1.242-.388 2.33-.388 2.33s-1.709.682-5.438.932c-2.295.154-8.098.276-10.14-.621-2.02-1.554-4.894-1.515-6.06-.234-4.427 1.075-7.184-.31-7.184-.31l-.181-2.991z",fill:"#2B0849"}),s.createElement("path",{d:"M98.429 272.257h3.496s-.117 7.574 5.127 9.671c-5.244.7-9.672-2.602-8.623-9.671",fill:"#A4AABA"}),s.createElement("path",{d:"M44.425 272.046s-2.208 7.774-4.702 12.899c-1.884 3.874-4.428 7.854 5.729 7.854 6.97 0 9.385-.503 7.782-6.917-1.604-6.415.279-13.836.279-13.836h-9.088z",fill:"#CBD1D1"}),s.createElement("path",{d:"M38.066 290.277s2.198 1.225 6.954 1.225c6.376 0 8.646-1.73 8.646-1.73s.63 1.168-.649 2.27c-1.04.897-3.77 1.668-7.745 1.621-4.347-.05-6.115-.593-7.062-1.224-.864-.577-.72-1.657-.144-2.162",fill:"#2B0849"}),s.createElement("path",{d:"M45.344 274.041s.035 1.592-.329 3.07c-.365 1.49-1.13 3.255-1.184 4.34-.061 1.206 4.755 1.657 5.403.036.65-1.622 1.357-6.737 2.006-7.602.648-.865-5.14-2.222-5.896.156",fill:"#A4AABA"}),s.createElement("path",{d:"M89.476 277.57l13.899.095s1.349-56.643 1.925-66.909c.576-10.267 3.923-45.052 1.042-65.585l-13.037-.669-23.737.81s-.452 4.12-1.243 10.365c-.065.515-.708.874-.777 1.417-.078.608.439 1.407.332 2.044-2.455 14.627-5.797 32.736-8.256 46.837-.121.693-1.282 1.048-1.515 2.796-.042.314.22 1.584.116 1.865-7.14 19.473-12.202 52.601-15.66 67.19l15.176-.015s2.282-10.145 4.185-18.871c2.922-13.389 24.012-88.32 24.012-88.32l3.133-.954-.158 48.568s-.233 1.282.35 2.098c.583.815-.581 1.167-.408 2.331l.408 1.864s-.466 7.458-.932 12.352c-.467 4.895 1.145 40.69 1.145 40.69",fill:"#7BB2F9"}),s.createElement("path",{d:"M64.57 218.881c1.197.099 4.195-2.097 7.225-5.127M96.024 222.534s2.881-1.152 6.34-4.034",stroke:"#648BD8",strokeWidth:"1.085",strokeLinecap:"round",strokeLinejoin:"round"}),s.createElement("path",{d:"M96.973 219.373s2.882-1.153 6.34-4.034",stroke:"#648BD8",strokeWidth:"1.032",strokeLinecap:"round",strokeLinejoin:"round"}),s.createElement("path",{d:"M63.172 222.144s2.724-.614 6.759-3.496M74.903 146.166c-.281 3.226.31 8.856-4.506 9.478M93.182 144.344s.115 14.557-1.344 15.65c-2.305 1.73-3.107 2.02-3.107 2.02M89.197 144.923s.269 13.144-1.01 25.088M83.525 170.71s6.81-1.051 9.116-1.051M46.026 270.045l-.892 4.538M46.937 263.289l-.815 4.157M62.725 202.503c-.33 1.618-.102 1.904-.449 3.438 0 0-2.756 1.903-2.29 3.923.466 2.02-.31 3.424-4.505 17.252-1.762 5.807-4.233 18.922-6.165 28.278-.03.144-.521 2.646-1.14 5.8M64.158 194.136c-.295 1.658-.6 3.31-.917 4.938M71.33 146.787l-1.244 10.877s-1.14.155-.519 2.33c.117 1.399-2.778 16.39-5.382 31.615M44.242 273.727H58.07",stroke:"#648BD8",strokeWidth:"1.085",strokeLinecap:"round",strokeLinejoin:"round"}),s.createElement("path",{d:"M106.18 142.117c-3.028-.489-18.825-2.744-36.219.2a.625.625 0 0 0-.518.644c.063 1.307.044 2.343.015 2.995a.617.617 0 0 0 .716.636c3.303-.534 17.037-2.412 35.664-.266.347.04.66-.214.692-.56.124-1.347.16-2.425.17-3.029a.616.616 0 0 0-.52-.62",fill:"#192064"}),s.createElement("path",{d:"M96.398 145.264l.003-5.102a.843.843 0 0 0-.809-.847 114.104 114.104 0 0 0-8.141-.014.85.85 0 0 0-.82.847l-.003 5.097c0 .476.388.857.864.845 2.478-.064 5.166-.067 8.03.017a.848.848 0 0 0 .876-.843",fill:"#FFF"}),s.createElement("path",{d:"M95.239 144.296l.002-3.195a.667.667 0 0 0-.643-.672c-1.9-.061-3.941-.073-6.094-.01a.675.675 0 0 0-.654.672l-.002 3.192c0 .376.305.677.68.669 1.859-.042 3.874-.043 6.02.012.376.01.69-.291.691-.668",fill:"#192064"}),s.createElement("path",{d:"M90.102 273.522h12.819M91.216 269.761c.006 3.519-.072 5.55 0 6.292M90.923 263.474c-.009 1.599-.016 2.558-.016 4.505M90.44 170.404l.932 46.38s.7 1.631-.233 2.796c-.932 1.166 2.564.7.932 2.33-1.63 1.633.933 1.166 0 3.497-.618 1.546-1.031 21.921-1.138 36.513",stroke:"#648BD8",strokeWidth:"1.085",strokeLinecap:"round",strokeLinejoin:"round"}),s.createElement("path",{d:"M73.736 98.665l2.214 4.312s2.098.816 1.865 2.68l.816 2.214M64.297 116.611c.233-.932 2.176-7.147 12.585-10.488M77.598 90.042s7.691 6.137 16.547 2.72",stroke:"#E4EBF7",strokeWidth:"1.085",strokeLinecap:"round",strokeLinejoin:"round"}),s.createElement("path",{d:"M91.974 86.954s5.476-.816 7.574-4.545c1.297-.345.72 2.212-.33 3.671-.7.971-1.01 1.554-1.01 1.554s.194.31.155.816c-.053.697-.175.653-.272 1.048-.081.335.108.657 0 1.049-.046.17-.198.5-.382.878-.12.249-.072.687-.2.948-.231.469-1.562 1.87-2.622 2.855-3.826 3.554-5.018 1.644-6.001-.408-.894-1.865-.661-5.127-.874-6.875-.35-2.914-2.622-3.03-1.923-4.429.343-.685 2.87.69 3.263 1.748.757 2.04 2.952 1.807 2.622 1.69",fill:"#FFC6A0"}),s.createElement("path",{d:"M99.8 82.429c-.465.077-.35.272-.97 1.243-.622.971-4.817 2.932-6.39 3.224-2.589.48-2.278-1.56-4.254-2.855-1.69-1.107-3.562-.638-1.398 1.398.99.932.932 1.107 1.398 3.205.335 1.506-.64 3.67.7 5.593",stroke:"#DB836E",strokeWidth:".774",strokeLinecap:"round",strokeLinejoin:"round"}),s.createElement("path",{d:"M79.543 108.673c-2.1 2.926-4.266 6.175-5.557 8.762",stroke:"#E59788",strokeWidth:".774",strokeLinecap:"round",strokeLinejoin:"round"}),s.createElement("path",{d:"M87.72 124.768s-2.098-1.942-5.127-2.719c-3.03-.777-3.574-.155-5.516.078-1.942.233-3.885-.932-3.652.7.233 1.63 5.05 1.01 5.206 2.097.155 1.087-6.37 2.796-8.313 2.175-.777.777.466 1.864 2.02 2.175.233 1.554 2.253 1.554 2.253 1.554s.699 1.01 2.641 1.088c2.486 1.32 8.934-.7 10.954-1.554 2.02-.855-.466-5.594-.466-5.594",fill:"#FFC6A0"}),s.createElement("path",{d:"M73.425 122.826s.66 1.127 3.167 1.418c2.315.27 2.563.583 2.563.583s-2.545 2.894-9.07 2.272M72.416 129.274s3.826.097 4.933-.718M74.98 130.75s1.961.136 3.36-.505M77.232 131.916s1.748.019 2.914-.505M73.328 122.321s-.595-1.032 1.262-.427c1.671.544 2.833.055 5.128.155 1.389.061 3.067-.297 3.982.15 1.606.784 3.632 2.181 3.632 2.181s10.526 1.204 19.033-1.127M78.864 108.104s-8.39 2.758-13.168 12.12",stroke:"#E59788",strokeWidth:".774",strokeLinecap:"round",strokeLinejoin:"round"}),s.createElement("path",{d:"M109.278 112.533s3.38-3.613 7.575-4.662",stroke:"#E4EBF7",strokeWidth:"1.085",strokeLinecap:"round",strokeLinejoin:"round"}),s.createElement("path",{d:"M107.375 123.006s9.697-2.745 11.445-.88",stroke:"#E59788",strokeWidth:".774",strokeLinecap:"round",strokeLinejoin:"round"}),s.createElement("path",{d:"M194.605 83.656l3.971-3.886M187.166 90.933l3.736-3.655M191.752 84.207l-4.462-4.56M198.453 91.057l-4.133-4.225M129.256 163.074l3.718-3.718M122.291 170.039l3.498-3.498M126.561 163.626l-4.27-4.27M132.975 170.039l-3.955-3.955",stroke:"#BFCDDD",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),s.createElement("path",{d:"M190.156 211.779h-1.604a4.023 4.023 0 0 1-4.011-4.011V175.68a4.023 4.023 0 0 1 4.01-4.01h1.605a4.023 4.023 0 0 1 4.011 4.01v32.088a4.023 4.023 0 0 1-4.01 4.01",fill:"#A3B4C6"}),s.createElement("path",{d:"M237.824 212.977a4.813 4.813 0 0 1-4.813 4.813h-86.636a4.813 4.813 0 0 1 0-9.626h86.636a4.813 4.813 0 0 1 4.813 4.813",fill:"#A3B4C6"}),s.createElement("mask",{fill:"#fff"}),s.createElement("path",{fill:"#A3B4C6",mask:"url(#d)",d:"M154.098 190.096h70.513v-84.617h-70.513z"}),s.createElement("path",{d:"M224.928 190.096H153.78a3.219 3.219 0 0 1-3.208-3.209V167.92a3.219 3.219 0 0 1 3.208-3.21h71.148a3.219 3.219 0 0 1 3.209 3.21v18.967a3.219 3.219 0 0 1-3.21 3.209M224.928 130.832H153.78a3.218 3.218 0 0 1-3.208-3.208v-18.968a3.219 3.219 0 0 1 3.208-3.209h71.148a3.219 3.219 0 0 1 3.209 3.21v18.967a3.218 3.218 0 0 1-3.21 3.208",fill:"#BFCDDD",mask:"url(#d)"}),s.createElement("path",{d:"M159.563 120.546a2.407 2.407 0 1 1 0-4.813 2.407 2.407 0 0 1 0 4.813M166.98 120.546a2.407 2.407 0 1 1 0-4.813 2.407 2.407 0 0 1 0 4.813M174.397 120.546a2.407 2.407 0 1 1 0-4.813 2.407 2.407 0 0 1 0 4.813M222.539 120.546h-22.461a.802.802 0 0 1-.802-.802v-3.208c0-.443.359-.803.802-.803h22.46c.444 0 .803.36.803.803v3.208c0 .443-.36.802-.802.802",fill:"#FFF",mask:"url(#d)"}),s.createElement("path",{d:"M224.928 160.464H153.78a3.218 3.218 0 0 1-3.208-3.209v-18.967a3.219 3.219 0 0 1 3.208-3.209h71.148a3.219 3.219 0 0 1 3.209 3.209v18.967a3.218 3.218 0 0 1-3.21 3.209",fill:"#BFCDDD",mask:"url(#d)"}),s.createElement("path",{d:"M173.455 130.832h49.301M164.984 130.832h6.089M155.952 130.832h6.75M173.837 160.613h49.3M165.365 160.613h6.089M155.57 160.613h6.751",stroke:"#7C90A5",strokeWidth:"1.124",strokeLinecap:"round",strokeLinejoin:"round",mask:"url(#d)"}),s.createElement("path",{d:"M159.563 151.038a2.407 2.407 0 1 1 0-4.814 2.407 2.407 0 0 1 0 4.814M166.98 151.038a2.407 2.407 0 1 1 0-4.814 2.407 2.407 0 0 1 0 4.814M174.397 151.038a2.407 2.407 0 1 1 .001-4.814 2.407 2.407 0 0 1 0 4.814M222.539 151.038h-22.461a.802.802 0 0 1-.802-.802v-3.209c0-.443.359-.802.802-.802h22.46c.444 0 .803.36.803.802v3.209c0 .443-.36.802-.802.802M159.563 179.987a2.407 2.407 0 1 1 0-4.813 2.407 2.407 0 0 1 0 4.813M166.98 179.987a2.407 2.407 0 1 1 0-4.813 2.407 2.407 0 0 1 0 4.813M174.397 179.987a2.407 2.407 0 1 1 0-4.813 2.407 2.407 0 0 1 0 4.813M222.539 179.987h-22.461a.802.802 0 0 1-.802-.802v-3.209c0-.443.359-.802.802-.802h22.46c.444 0 .803.36.803.802v3.209c0 .443-.36.802-.802.802",fill:"#FFF",mask:"url(#d)"}),s.createElement("path",{d:"M203.04 221.108h-27.372a2.413 2.413 0 0 1-2.406-2.407v-11.448a2.414 2.414 0 0 1 2.406-2.407h27.372a2.414 2.414 0 0 1 2.407 2.407V218.7a2.413 2.413 0 0 1-2.407 2.407",fill:"#BFCDDD",mask:"url(#d)"}),s.createElement("path",{d:"M177.259 207.217v11.52M201.05 207.217v11.52",stroke:"#A3B4C6",strokeWidth:"1.124",strokeLinecap:"round",strokeLinejoin:"round",mask:"url(#d)"}),s.createElement("path",{d:"M162.873 267.894a9.422 9.422 0 0 1-9.422-9.422v-14.82a9.423 9.423 0 0 1 18.845 0v14.82a9.423 9.423 0 0 1-9.423 9.422",fill:"#5BA02E",mask:"url(#d)"}),s.createElement("path",{d:"M171.22 267.83a9.422 9.422 0 0 1-9.422-9.423v-3.438a9.423 9.423 0 0 1 18.845 0v3.438a9.423 9.423 0 0 1-9.422 9.423",fill:"#92C110",mask:"url(#d)"}),s.createElement("path",{d:"M181.31 293.666h-27.712a3.209 3.209 0 0 1-3.209-3.21V269.79a3.209 3.209 0 0 1 3.209-3.21h27.711a3.209 3.209 0 0 1 3.209 3.21v20.668a3.209 3.209 0 0 1-3.209 3.209",fill:"#F2D7AD",mask:"url(#d)"})));const q4=e=>{const{componentCls:t,lineHeightHeading3:a,iconCls:o,padding:f,paddingXL:y,paddingXS:C,paddingLG:w,marginXS:I,lineHeight:D}=e;return{[t]:{padding:`${(0,he.bf)(e.calc(w).mul(2).equal())} ${(0,he.bf)(y)}`,"&-rtl":{direction:"rtl"}},[`${t} ${t}-image`]:{width:e.imageWidth,height:e.imageHeight,margin:"auto"},[`${t} ${t}-icon`]:{marginBottom:w,textAlign:"center",[`& > ${o}`]:{fontSize:e.iconFontSize}},[`${t} ${t}-title`]:{color:e.colorTextHeading,fontSize:e.titleFontSize,lineHeight:a,marginBlock:I,textAlign:"center"},[`${t} ${t}-subtitle`]:{color:e.colorTextDescription,fontSize:e.subtitleFontSize,lineHeight:D,textAlign:"center"},[`${t} ${t}-content`]:{marginTop:w,padding:`${(0,he.bf)(w)} ${(0,he.bf)(e.calc(f).mul(2.5).equal())}`,backgroundColor:e.colorFillAlter},[`${t} ${t}-extra`]:{margin:e.extraMargin,textAlign:"center","& > *":{marginInlineEnd:C,"&:last-child":{marginInlineEnd:0}}}}},J4=e=>{const{componentCls:t,iconCls:a}=e;return{[`${t}-success ${t}-icon > ${a}`]:{color:e.resultSuccessIconColor},[`${t}-error ${t}-icon > ${a}`]:{color:e.resultErrorIconColor},[`${t}-info ${t}-icon > ${a}`]:{color:e.resultInfoIconColor},[`${t}-warning ${t}-icon > ${a}`]:{color:e.resultWarningIconColor}}},Q4=e=>[q4(e),J4(e)],eA=e=>Q4(e),tA=e=>({titleFontSize:e.fontSizeHeading3,subtitleFontSize:e.fontSize,iconFontSize:e.fontSizeHeading3*3,extraMargin:`${e.paddingLG}px 0 0 0`});var nA=(0,te.I$)("Result",e=>{const t=e.colorInfo,a=e.colorError,o=e.colorSuccess,f=e.colorWarning,y=(0,Qr.IX)(e,{resultInfoIconColor:t,resultErrorIconColor:a,resultSuccessIconColor:o,resultWarningIconColor:f,imageWidth:250,imageHeight:295});return[eA(y)]},tA),rA=()=>s.createElement("svg",{width:"251",height:"294"},s.createElement("title",null,"Unauthorized"),s.createElement("g",{fill:"none",fillRule:"evenodd"},s.createElement("path",{d:"M0 129.023v-2.084C0 58.364 55.591 2.774 124.165 2.774h2.085c68.574 0 124.165 55.59 124.165 124.165v2.084c0 68.575-55.59 124.166-124.165 124.166h-2.085C55.591 253.189 0 197.598 0 129.023",fill:"#E4EBF7"}),s.createElement("path",{d:"M41.417 132.92a8.231 8.231 0 1 1-16.38-1.65 8.231 8.231 0 0 1 16.38 1.65",fill:"#FFF"}),s.createElement("path",{d:"M38.652 136.36l10.425 5.91M49.989 148.505l-12.58 10.73",stroke:"#FFF",strokeWidth:"2"}),s.createElement("path",{d:"M41.536 161.28a5.636 5.636 0 1 1-11.216-1.13 5.636 5.636 0 0 1 11.216 1.13M59.154 145.261a5.677 5.677 0 1 1-11.297-1.138 5.677 5.677 0 0 1 11.297 1.138M100.36 29.516l29.66-.013a4.562 4.562 0 1 0-.004-9.126l-29.66.013a4.563 4.563 0 0 0 .005 9.126M111.705 47.754l29.659-.013a4.563 4.563 0 1 0-.004-9.126l-29.66.013a4.563 4.563 0 1 0 .005 9.126",fill:"#FFF"}),s.createElement("path",{d:"M114.066 29.503V29.5l15.698-.007a4.563 4.563 0 1 0 .004 9.126l-15.698.007v-.002a4.562 4.562 0 0 0-.004-9.122M185.405 137.723c-.55 5.455-5.418 9.432-10.873 8.882-5.456-.55-9.432-5.418-8.882-10.873.55-5.455 5.418-9.432 10.873-8.882 5.455.55 9.432 5.418 8.882 10.873",fill:"#FFF"}),s.createElement("path",{d:"M180.17 143.772l12.572 7.129M193.841 158.42L178.67 171.36",stroke:"#FFF",strokeWidth:"2"}),s.createElement("path",{d:"M185.55 171.926a6.798 6.798 0 1 1-13.528-1.363 6.798 6.798 0 0 1 13.527 1.363M204.12 155.285a6.848 6.848 0 1 1-13.627-1.375 6.848 6.848 0 0 1 13.626 1.375",fill:"#FFF"}),s.createElement("path",{d:"M152.988 194.074a2.21 2.21 0 1 1-4.42 0 2.21 2.21 0 0 1 4.42 0zM225.931 118.217a2.21 2.21 0 1 1-4.421 0 2.21 2.21 0 0 1 4.421 0zM217.09 153.051a2.21 2.21 0 1 1-4.421 0 2.21 2.21 0 0 1 4.42 0zM177.84 109.842a2.21 2.21 0 1 1-4.422 0 2.21 2.21 0 0 1 4.421 0zM196.114 94.454a2.21 2.21 0 1 1-4.421 0 2.21 2.21 0 0 1 4.421 0zM202.844 182.523a2.21 2.21 0 1 1-4.42 0 2.21 2.21 0 0 1 4.42 0z",stroke:"#FFF",strokeWidth:"2"}),s.createElement("path",{stroke:"#FFF",strokeWidth:"2",d:"M215.125 155.262l-1.902 20.075-10.87 5.958M174.601 176.636l-6.322 9.761H156.98l-4.484 6.449M175.874 127.28V111.56M221.51 119.404l-12.77 7.859-15.228-7.86V96.668"}),s.createElement("path",{d:"M180.68 29.32C180.68 13.128 193.806 0 210 0c16.193 0 29.32 13.127 29.32 29.32 0 16.194-13.127 29.322-29.32 29.322-16.193 0-29.32-13.128-29.32-29.321",fill:"#A26EF4"}),s.createElement("path",{d:"M221.45 41.706l-21.563-.125a1.744 1.744 0 0 1-1.734-1.754l.071-12.23a1.744 1.744 0 0 1 1.754-1.734l21.562.125c.964.006 1.74.791 1.735 1.755l-.071 12.229a1.744 1.744 0 0 1-1.754 1.734",fill:"#FFF"}),s.createElement("path",{d:"M215.106 29.192c-.015 2.577-2.049 4.654-4.543 4.64-2.494-.014-4.504-2.115-4.489-4.693l.04-6.925c.016-2.577 2.05-4.654 4.543-4.64 2.494.015 4.504 2.116 4.49 4.693l-.04 6.925zm-4.53-14.074a6.877 6.877 0 0 0-6.916 6.837l-.043 7.368a6.877 6.877 0 0 0 13.754.08l.042-7.368a6.878 6.878 0 0 0-6.837-6.917zM167.566 68.367h-3.93a4.73 4.73 0 0 1-4.717-4.717 4.73 4.73 0 0 1 4.717-4.717h3.93a4.73 4.73 0 0 1 4.717 4.717 4.73 4.73 0 0 1-4.717 4.717",fill:"#FFF"}),s.createElement("path",{d:"M168.214 248.838a6.611 6.611 0 0 1-6.61-6.611v-66.108a6.611 6.611 0 0 1 13.221 0v66.108a6.611 6.611 0 0 1-6.61 6.61",fill:"#5BA02E"}),s.createElement("path",{d:"M176.147 248.176a6.611 6.611 0 0 1-6.61-6.61v-33.054a6.611 6.611 0 1 1 13.221 0v33.053a6.611 6.611 0 0 1-6.61 6.611",fill:"#92C110"}),s.createElement("path",{d:"M185.994 293.89h-27.376a3.17 3.17 0 0 1-3.17-3.17v-45.887a3.17 3.17 0 0 1 3.17-3.17h27.376a3.17 3.17 0 0 1 3.17 3.17v45.886a3.17 3.17 0 0 1-3.17 3.17",fill:"#F2D7AD"}),s.createElement("path",{d:"M81.972 147.673s6.377-.927 17.566-1.28c11.729-.371 17.57 1.086 17.57 1.086s3.697-3.855.968-8.424c1.278-12.077 5.982-32.827.335-48.273-1.116-1.339-3.743-1.512-7.536-.62-1.337.315-7.147-.149-7.983-.1l-15.311-.347s-3.487-.17-8.035-.508c-1.512-.113-4.227-1.683-5.458-.338-.406.443-2.425 5.669-1.97 16.077l8.635 35.642s-3.141 3.61 1.219 7.085",fill:"#FFF"}),s.createElement("path",{d:"M75.768 73.325l-.9-6.397 11.982-6.52s7.302-.118 8.038 1.205c.737 1.324-5.616.993-5.616.993s-1.836 1.388-2.615 2.5c-1.654 2.363-.986 6.471-8.318 5.986-1.708.284-2.57 2.233-2.57 2.233",fill:"#FFC6A0"}),s.createElement("path",{d:"M52.44 77.672s14.217 9.406 24.973 14.444c1.061.497-2.094 16.183-11.892 11.811-7.436-3.318-20.162-8.44-21.482-14.496-.71-3.258 2.543-7.643 8.401-11.76M141.862 80.113s-6.693 2.999-13.844 6.876c-3.894 2.11-10.137 4.704-12.33 7.988-6.224 9.314 3.536 11.22 12.947 7.503 6.71-2.651 28.999-12.127 13.227-22.367",fill:"#FFB594"}),s.createElement("path",{d:"M76.166 66.36l3.06 3.881s-2.783 2.67-6.31 5.747c-7.103 6.195-12.803 14.296-15.995 16.44-3.966 2.662-9.754 3.314-12.177-.118-3.553-5.032.464-14.628 31.422-25.95",fill:"#FFC6A0"}),s.createElement("path",{d:"M64.674 85.116s-2.34 8.413-8.912 14.447c.652.548 18.586 10.51 22.144 10.056 5.238-.669 6.417-18.968 1.145-20.531-.702-.208-5.901-1.286-8.853-2.167-.87-.26-1.611-1.71-3.545-.936l-1.98-.869zM128.362 85.826s5.318 1.956 7.325 13.734c-.546.274-17.55 12.35-21.829 7.805-6.534-6.94-.766-17.393 4.275-18.61 4.646-1.121 5.03-1.37 10.23-2.929",fill:"#FFF"}),s.createElement("path",{d:"M78.18 94.656s.911 7.41-4.914 13.078",stroke:"#E4EBF7",strokeWidth:"1.051",strokeLinecap:"round",strokeLinejoin:"round"}),s.createElement("path",{d:"M87.397 94.68s3.124 2.572 10.263 2.572c7.14 0 9.074-3.437 9.074-3.437",stroke:"#E4EBF7",strokeWidth:".932",strokeLinecap:"round",strokeLinejoin:"round"}),s.createElement("path",{d:"M117.184 68.639l-6.781-6.177s-5.355-4.314-9.223-.893c-3.867 3.422 4.463 2.083 5.653 4.165 1.19 2.082.848 1.143-2.083.446-5.603-1.331-2.082.893 2.975 5.355 2.091 1.845 6.992.955 6.992.955l2.467-3.851z",fill:"#FFC6A0"}),s.createElement("path",{d:"M105.282 91.315l-.297-10.937-15.918-.027-.53 10.45c-.026.403.17.788.515.999 2.049 1.251 9.387 5.093 15.799.424.287-.21.443-.554.431-.91",fill:"#FFB594"}),s.createElement("path",{d:"M107.573 74.24c.817-1.147.982-9.118 1.015-11.928a1.046 1.046 0 0 0-.965-1.055l-4.62-.365c-7.71-1.044-17.071.624-18.253 6.346-5.482 5.813-.421 13.244-.421 13.244s1.963 3.566 4.305 6.791c.756 1.041.398-3.731 3.04-5.929 5.524-4.594 15.899-7.103 15.899-7.103",fill:"#5C2552"}),s.createElement("path",{d:"M88.426 83.206s2.685 6.202 11.602 6.522c7.82.28 8.973-7.008 7.434-17.505l-.909-5.483c-6.118-2.897-15.478.54-15.478.54s-.576 2.044-.19 5.504c-2.276 2.066-1.824 5.618-1.824 5.618s-.905-1.922-1.98-2.321c-.86-.32-1.897.089-2.322 1.98-1.04 4.632 3.667 5.145 3.667 5.145",fill:"#FFC6A0"}),s.createElement("path",{stroke:"#DB836E",strokeWidth:"1.145",strokeLinecap:"round",strokeLinejoin:"round",d:"M100.843 77.099l1.701-.928-1.015-4.324.674-1.406"}),s.createElement("path",{d:"M105.546 74.092c-.022.713-.452 1.279-.96 1.263-.51-.016-.904-.607-.882-1.32.021-.713.452-1.278.96-1.263.51.016.904.607.882 1.32M97.592 74.349c-.022.713-.452 1.278-.961 1.263-.509-.016-.904-.607-.882-1.32.022-.713.452-1.279.961-1.263.51.016.904.606.882 1.32",fill:"#552950"}),s.createElement("path",{d:"M91.132 86.786s5.269 4.957 12.679 2.327",stroke:"#DB836E",strokeWidth:"1.145",strokeLinecap:"round",strokeLinejoin:"round"}),s.createElement("path",{d:"M99.776 81.903s-3.592.232-1.44-2.79c1.59-1.496 4.897-.46 4.897-.46s1.156 3.906-3.457 3.25",fill:"#DB836E"}),s.createElement("path",{d:"M102.88 70.6s2.483.84 3.402.715M93.883 71.975s2.492-1.144 4.778-1.073",stroke:"#5C2552",strokeWidth:"1.526",strokeLinecap:"round",strokeLinejoin:"round"}),s.createElement("path",{d:"M86.32 77.374s.961.879 1.458 2.106c-.377.48-1.033 1.152-.236 1.809M99.337 83.719s1.911.151 2.509-.254",stroke:"#DB836E",strokeWidth:"1.145",strokeLinecap:"round",strokeLinejoin:"round"}),s.createElement("path",{d:"M87.782 115.821l15.73-3.012M100.165 115.821l10.04-2.008",stroke:"#E4EBF7",strokeWidth:"1.051",strokeLinecap:"round",strokeLinejoin:"round"}),s.createElement("path",{d:"M66.508 86.763s-1.598 8.83-6.697 14.078",stroke:"#E4EBF7",strokeWidth:"1.114",strokeLinecap:"round",strokeLinejoin:"round"}),s.createElement("path",{d:"M128.31 87.934s3.013 4.121 4.06 11.785",stroke:"#E4EBF7",strokeWidth:"1.051",strokeLinecap:"round",strokeLinejoin:"round"}),s.createElement("path",{d:"M64.09 84.816s-6.03 9.912-13.607 9.903",stroke:"#DB836E",strokeWidth:".795",strokeLinecap:"round",strokeLinejoin:"round"}),s.createElement("path",{d:"M112.366 65.909l-.142 5.32s5.993 4.472 11.945 9.202c4.482 3.562 8.888 7.455 10.985 8.662 4.804 2.766 8.9 3.355 11.076 1.808 4.071-2.894 4.373-9.878-8.136-15.263-4.271-1.838-16.144-6.36-25.728-9.73",fill:"#FFC6A0"}),s.createElement("path",{d:"M130.532 85.488s4.588 5.757 11.619 6.214",stroke:"#DB836E",strokeWidth:".75",strokeLinecap:"round",strokeLinejoin:"round"}),s.createElement("path",{d:"M121.708 105.73s-.393 8.564-1.34 13.612",stroke:"#E4EBF7",strokeWidth:"1.051",strokeLinecap:"round",strokeLinejoin:"round"}),s.createElement("path",{d:"M115.784 161.512s-3.57-1.488-2.678-7.14",stroke:"#648BD8",strokeWidth:"1.051",strokeLinecap:"round",strokeLinejoin:"round"}),s.createElement("path",{d:"M101.52 290.246s4.326 2.057 7.408 1.03c2.842-.948 4.564.673 7.132 1.186 2.57.514 6.925 1.108 11.772-1.269-.104-5.551-6.939-4.01-12.048-6.763-2.582-1.39-3.812-4.757-3.625-8.863h-9.471s-1.402 10.596-1.169 14.68",fill:"#CBD1D1"}),s.createElement("path",{d:"M101.496 290.073s2.447 1.281 6.809.658c3.081-.44 3.74.485 7.479 1.039 3.739.554 10.802-.07 11.91-.9.415 1.108-.347 2.077-.347 2.077s-1.523.608-4.847.831c-2.045.137-5.843.293-7.663-.507-1.8-1.385-5.286-1.917-5.77-.243-3.947.958-7.41-.288-7.41-.288l-.16-2.667z",fill:"#2B0849"}),s.createElement("path",{d:"M108.824 276.19h3.116s-.103 6.751 4.57 8.62c-4.673.624-8.62-2.32-7.686-8.62",fill:"#A4AABA"}),s.createElement("path",{d:"M57.65 272.52s-2.122 7.47-4.518 12.396c-1.811 3.724-4.255 7.548 5.505 7.548 6.698 0 9.02-.483 7.479-6.648-1.541-6.164.268-13.296.268-13.296H57.65z",fill:"#CBD1D1"}),s.createElement("path",{d:"M51.54 290.04s2.111 1.178 6.682 1.178c6.128 0 8.31-1.662 8.31-1.662s.605 1.122-.624 2.18c-1 .862-3.624 1.603-7.444 1.559-4.177-.049-5.876-.57-6.786-1.177-.831-.554-.692-1.593-.138-2.078",fill:"#2B0849"}),s.createElement("path",{d:"M58.533 274.438s.034 1.529-.315 2.95c-.352 1.431-1.087 3.127-1.139 4.17-.058 1.16 4.57 1.592 5.194.035.623-1.559 1.303-6.475 1.927-7.306.622-.831-4.94-2.135-5.667.15",fill:"#A4AABA"}),s.createElement("path",{d:"M100.885 277.015l13.306.092s1.291-54.228 1.843-64.056c.552-9.828 3.756-43.13.997-62.788l-12.48-.64-22.725.776s-.433 3.944-1.19 9.921c-.062.493-.677.838-.744 1.358-.075.582.42 1.347.318 1.956-2.35 14.003-6.343 32.926-8.697 46.425-.116.663-1.227 1.004-1.45 2.677-.04.3.21 1.516.112 1.785-6.836 18.643-10.89 47.584-14.2 61.551l14.528-.014s2.185-8.524 4.008-16.878c2.796-12.817 22.987-84.553 22.987-84.553l3-.517 1.037 46.1s-.223 1.228.334 2.008c.558.782-.556 1.117-.39 2.233l.39 1.784s-.446 7.14-.892 11.826c-.446 4.685-.092 38.954-.092 38.954",fill:"#7BB2F9"}),s.createElement("path",{d:"M77.438 220.434c1.146.094 4.016-2.008 6.916-4.91M107.55 223.931s2.758-1.103 6.069-3.862",stroke:"#648BD8",strokeWidth:"1.051",strokeLinecap:"round",strokeLinejoin:"round"}),s.createElement("path",{d:"M108.459 220.905s2.759-1.104 6.07-3.863",stroke:"#648BD8",strokeLinecap:"round",strokeLinejoin:"round"}),s.createElement("path",{d:"M76.099 223.557s2.608-.587 6.47-3.346M87.33 150.82c-.27 3.088.297 8.478-4.315 9.073M104.829 149.075s.11 13.936-1.286 14.983c-2.207 1.655-2.975 1.934-2.975 1.934M101.014 149.63s.035 12.81-1.19 24.245M94.93 174.965s7.174-1.655 9.38-1.655M75.671 204.754c-.316 1.55-.64 3.067-.973 4.535 0 0-1.45 1.822-1.003 3.756.446 1.934-.943 2.034-4.96 15.273-1.686 5.559-4.464 18.49-6.313 27.447-.078.38-4.018 18.06-4.093 18.423M77.043 196.743a313.269 313.269 0 0 1-.877 4.729M83.908 151.414l-1.19 10.413s-1.091.148-.496 2.23c.111 1.34-2.66 15.692-5.153 30.267M57.58 272.94h13.238",stroke:"#648BD8",strokeWidth:"1.051",strokeLinecap:"round",strokeLinejoin:"round"}),s.createElement("path",{d:"M117.377 147.423s-16.955-3.087-35.7.199c.157 2.501-.002 4.128-.002 4.128s14.607-2.802 35.476-.31c.251-2.342.226-4.017.226-4.017",fill:"#192064"}),s.createElement("path",{d:"M107.511 150.353l.004-4.885a.807.807 0 0 0-.774-.81c-2.428-.092-5.04-.108-7.795-.014a.814.814 0 0 0-.784.81l-.003 4.88c0 .456.371.82.827.808a140.76 140.76 0 0 1 7.688.017.81.81 0 0 0 .837-.806",fill:"#FFF"}),s.createElement("path",{d:"M106.402 149.426l.002-3.06a.64.64 0 0 0-.616-.643 94.135 94.135 0 0 0-5.834-.009.647.647 0 0 0-.626.643l-.001 3.056c0 .36.291.648.651.64 1.78-.04 3.708-.041 5.762.012.36.009.662-.279.662-.64",fill:"#192064"}),s.createElement("path",{d:"M101.485 273.933h12.272M102.652 269.075c.006 3.368.04 5.759.11 6.47M102.667 263.125c-.009 1.53-.015 2.98-.016 4.313M102.204 174.024l.893 44.402s.669 1.561-.224 2.677c-.892 1.116 2.455.67.893 2.231-1.562 1.562.893 1.116 0 3.347-.592 1.48-.988 20.987-1.09 34.956",stroke:"#648BD8",strokeWidth:"1.051",strokeLinecap:"round",strokeLinejoin:"round"})));const iA={success:kt.Z,error:Sr.Z,info:Xn.Z,warning:K4},A_={404:X4,500:Y4,403:rA},oA=Object.keys(A_),aA=e=>{let{prefixCls:t,icon:a,status:o}=e;const f=q()(`${t}-icon`);if(oA.includes(`${o}`)){const C=A_[o];return s.createElement("div",{className:`${f} ${t}-image`},s.createElement(C,null))}const y=s.createElement(iA[o]);return a===null||a===!1?null:s.createElement("div",{className:f},a||y)},sA=e=>{let{prefixCls:t,extra:a}=e;return a?s.createElement("div",{className:`${t}-extra`},a):null},Fx=e=>{let{prefixCls:t,className:a,rootClassName:o,subTitle:f,title:y,style:C,children:w,status:I="info",icon:D,extra:L}=e;const{getPrefixCls:z,direction:k,result:Z}=s.useContext(ye.E_),j=z("result",t),[G,H,X]=nA(j),ne=q()(j,`${j}-${I}`,a,Z==null?void 0:Z.className,o,{[`${j}-rtl`]:k==="rtl"},H,X),oe=Object.assign(Object.assign({},Z==null?void 0:Z.style),C);return G(s.createElement("div",{className:ne,style:oe},s.createElement(aA,{prefixCls:j,status:I,icon:D}),s.createElement("div",{className:`${j}-title`},y),f&&s.createElement("div",{className:`${j}-subtitle`},f),s.createElement(sA,{prefixCls:j,extra:L}),w&&s.createElement("div",{className:`${j}-content`},w)))};Fx.PRESENTED_IMAGE_403=A_[403],Fx.PRESENTED_IMAGE_404=A_[404],Fx.PRESENTED_IMAGE_500=A_[500];var lA=Fx,cA=hE.Z,uA=F(82162),dA=F(80300),rw=F(85990),fA=e=>{const{value:t,formatter:a,precision:o,decimalSeparator:f,groupSeparator:y="",prefixCls:C}=e;let w;if(typeof a=="function")w=a(t);else{const I=String(t),D=I.match(/^(-?)(\d*)(\.(\d+))?$/);if(!D||I==="-")w=I;else{const L=D[1];let z=D[2]||"0",k=D[4]||"";z=z.replace(/\B(?=(\d{3})+(?!\d))/g,y),typeof o=="number"&&(k=k.padEnd(o,"0").slice(0,o>0?o:0)),k&&(k=`${f}${k}`),w=[s.createElement("span",{key:"int",className:`${C}-content-value-int`},L,z),k&&s.createElement("span",{key:"decimal",className:`${C}-content-value-decimal`},k)]}}return s.createElement("span",{className:`${C}-content-value`},w)};const hA=e=>{const{componentCls:t,marginXXS:a,padding:o,colorTextDescription:f,titleFontSize:y,colorTextHeading:C,contentFontSize:w,fontFamily:I}=e;return{[t]:Object.assign(Object.assign({},(0,Jt.Wf)(e)),{[`${t}-title`]:{marginBottom:a,color:f,fontSize:y},[`${t}-skeleton`]:{paddingTop:o},[`${t}-content`]:{color:C,fontSize:w,fontFamily:I,[`${t}-content-value`]:{display:"inline-block",direction:"ltr"},[`${t}-content-prefix, ${t}-content-suffix`]:{display:"inline-block"},[`${t}-content-prefix`]:{marginInlineEnd:a},[`${t}-content-suffix`]:{marginInlineStart:a}}})}},pA=e=>{const{fontSizeHeading3:t,fontSize:a}=e;return{titleFontSize:a,contentFontSize:t}};var mA=(0,te.I$)("Statistic",e=>{const t=(0,Qr.IX)(e,{});return[hA(t)]},pA),gA=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a},iw=e=>{const{prefixCls:t,className:a,rootClassName:o,style:f,valueStyle:y,value:C=0,title:w,valueRender:I,prefix:D,suffix:L,loading:z=!1,formatter:k,precision:Z,decimalSeparator:j=".",groupSeparator:G=",",onMouseEnter:H,onMouseLeave:X}=e,ne=gA(e,["prefixCls","className","rootClassName","style","valueStyle","value","title","valueRender","prefix","suffix","loading","formatter","precision","decimalSeparator","groupSeparator","onMouseEnter","onMouseLeave"]),{getPrefixCls:oe,direction:ae,className:ie,style:le}=(0,ye.dj)("statistic"),fe=oe("statistic",t),[me,ge,be]=mA(fe),Ie=s.createElement(fA,{decimalSeparator:j,groupSeparator:G,prefixCls:fe,formatter:k,precision:Z,value:C}),Oe=q()(fe,{[`${fe}-rtl`]:ae==="rtl"},ie,a,o,ge,be),Te=(0,ut.Z)(ne,{aria:!0,data:!0});return me(s.createElement("div",Object.assign({},Te,{className:Oe,style:Object.assign(Object.assign({},le),f),onMouseEnter:H,onMouseLeave:X}),w&&s.createElement("div",{className:`${fe}-title`},w),s.createElement(zr,{paragraph:!1,loading:z,className:`${fe}-skeleton`},s.createElement("div",{style:y,className:`${fe}-content`},D&&s.createElement("span",{className:`${fe}-content-prefix`},D),I?I(Ie):Ie,L&&s.createElement("span",{className:`${fe}-content-suffix`},L)))))};const vA=[["Y",1e3*60*60*24*365],["M",1e3*60*60*24*30],["D",1e3*60*60*24],["H",1e3*60*60],["m",1e3*60],["s",1e3],["S",1]];function yA(e,t){let a=e;const o=/\[[^\]]*]/g,f=(t.match(o)||[]).map(I=>I.slice(1,-1)),y=t.replace(o,"[]"),C=vA.reduce((I,D)=>{let[L,z]=D;if(I.includes(L)){const k=Math.floor(a/z);return a-=k*z,I.replace(new RegExp(`${L}+`,"g"),Z=>{const j=Z.length;return k.toString().padStart(j,"0")})}return I},y);let w=0;return C.replace(o,()=>{const I=f[w];return w+=1,I})}function _A(e,t){const{format:a=""}=t,o=new Date(e).getTime(),f=Date.now(),y=Math.max(o-f,0);return yA(y,a)}var bA=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a};const xA=1e3/30;function CA(e){return new Date(e).getTime()}const SA=e=>{const{value:t,format:a="HH:mm:ss",onChange:o,onFinish:f}=e,y=bA(e,["value","format","onChange","onFinish"]),C=(0,rw.Z)(),w=s.useRef(null),I=()=>{f==null||f(),w.current&&(clearInterval(w.current),w.current=null)},D=()=>{const k=CA(t);k>=Date.now()&&(w.current=setInterval(()=>{C(),o==null||o(k-Date.now()),k<Date.now()&&I()},xA))};s.useEffect(()=>(D(),()=>{w.current&&(clearInterval(w.current),w.current=null)}),[t]);const L=(k,Z)=>_A(k,Object.assign(Object.assign({},Z),{format:a})),z=k=>(0,bn.Tm)(k,{title:void 0});return s.createElement(iw,Object.assign({},y,{value:t,valueRender:z,formatter:L}))};var wA=s.memo(SA);iw.Countdown=wA;var EA=iw,IA=["className","prefixCls","style","active","status","iconPrefix","icon","wrapperStyle","stepNumber","disabled","description","title","subTitle","progressDot","stepIcon","tailContent","icons","stepIndex","onStepClick","onClick","render"];function fI(e){return typeof e=="string"}function TA(e){var t,a=e.className,o=e.prefixCls,f=e.style,y=e.active,C=e.status,w=e.iconPrefix,I=e.icon,D=e.wrapperStyle,L=e.stepNumber,z=e.disabled,k=e.description,Z=e.title,j=e.subTitle,G=e.progressDot,H=e.stepIcon,X=e.tailContent,ne=e.icons,oe=e.stepIndex,ae=e.onStepClick,ie=e.onClick,le=e.render,fe=(0,de.Z)(e,IA),me=!!ae&&!z,ge={};me&&(ge.role="button",ge.tabIndex=0,ge.onClick=function(De){ie==null||ie(De),ae(oe)},ge.onKeyDown=function(De){var Ue=De.which;(Ue===nt.Z.ENTER||Ue===nt.Z.SPACE)&&ae(oe)});var be=function(){var Ue,ke,st=q()("".concat(o,"-icon"),"".concat(w,"icon"),(Ue={},(0,pe.Z)(Ue,"".concat(w,"icon-").concat(I),I&&fI(I)),(0,pe.Z)(Ue,"".concat(w,"icon-check"),!I&&C==="finish"&&(ne&&!ne.finish||!ne)),(0,pe.Z)(Ue,"".concat(w,"icon-cross"),!I&&C==="error"&&(ne&&!ne.error||!ne)),Ue)),ct=s.createElement("span",{className:"".concat(o,"-icon-dot")});return G?typeof G=="function"?ke=s.createElement("span",{className:"".concat(o,"-icon")},G(ct,{index:L-1,status:C,title:Z,description:k})):ke=s.createElement("span",{className:"".concat(o,"-icon")},ct):I&&!fI(I)?ke=s.createElement("span",{className:"".concat(o,"-icon")},I):ne&&ne.finish&&C==="finish"?ke=s.createElement("span",{className:"".concat(o,"-icon")},ne.finish):ne&&ne.error&&C==="error"?ke=s.createElement("span",{className:"".concat(o,"-icon")},ne.error):I||C==="finish"||C==="error"?ke=s.createElement("span",{className:st}):ke=s.createElement("span",{className:"".concat(o,"-icon")},L),H&&(ke=H({index:L-1,status:C,title:Z,description:k,node:ke})),ke},Ie=C||"wait",Oe=q()("".concat(o,"-item"),"".concat(o,"-item-").concat(Ie),a,(t={},(0,pe.Z)(t,"".concat(o,"-item-custom"),I),(0,pe.Z)(t,"".concat(o,"-item-active"),y),(0,pe.Z)(t,"".concat(o,"-item-disabled"),z===!0),t)),Te=(0,Y.Z)({},f),Ve=s.createElement("div",(0,We.Z)({},fe,{className:Oe,style:Te}),s.createElement("div",(0,We.Z)({onClick:ie},ge,{className:"".concat(o,"-item-container")}),s.createElement("div",{className:"".concat(o,"-item-tail")},X),s.createElement("div",{className:"".concat(o,"-item-icon")},be()),s.createElement("div",{className:"".concat(o,"-item-content")},s.createElement("div",{className:"".concat(o,"-item-title")},Z,j&&s.createElement("div",{title:typeof j=="string"?j:void 0,className:"".concat(o,"-item-subtitle")},j)),k&&s.createElement("div",{className:"".concat(o,"-item-description")},k))));return le&&(Ve=le(Ve)||null),Ve}var hI=TA,MA=["prefixCls","style","className","children","direction","type","labelPlacement","iconPrefix","status","size","current","progressDot","stepIcon","initial","icons","onChange","itemRender","items"];function pI(e){var t,a=e.prefixCls,o=a===void 0?"rc-steps":a,f=e.style,y=f===void 0?{}:f,C=e.className,w=e.children,I=e.direction,D=I===void 0?"horizontal":I,L=e.type,z=L===void 0?"default":L,k=e.labelPlacement,Z=k===void 0?"horizontal":k,j=e.iconPrefix,G=j===void 0?"rc":j,H=e.status,X=H===void 0?"process":H,ne=e.size,oe=e.current,ae=oe===void 0?0:oe,ie=e.progressDot,le=ie===void 0?!1:ie,fe=e.stepIcon,me=e.initial,ge=me===void 0?0:me,be=e.icons,Ie=e.onChange,Oe=e.itemRender,Te=e.items,Ve=Te===void 0?[]:Te,De=(0,de.Z)(e,MA),Ue=z==="navigation",ke=z==="inline",st=ke||le,ct=ke?"horizontal":D,Et=ke?void 0:ne,It=st?"vertical":Z,Ct=q()(o,"".concat(o,"-").concat(ct),C,(t={},(0,pe.Z)(t,"".concat(o,"-").concat(Et),Et),(0,pe.Z)(t,"".concat(o,"-label-").concat(It),ct==="horizontal"),(0,pe.Z)(t,"".concat(o,"-dot"),!!st),(0,pe.Z)(t,"".concat(o,"-navigation"),Ue),(0,pe.Z)(t,"".concat(o,"-inline"),ke),t)),mt=function($t){Ie&&ae!==$t&&Ie($t)},bt=function($t,Ht){var Mt=(0,Y.Z)({},$t),Cn=ge+Ht;return X==="error"&&Ht===ae-1&&(Mt.className="".concat(o,"-next-error")),Mt.status||(Cn===ae?Mt.status=X:Cn<ae?Mt.status="finish":Mt.status="wait"),ke&&(Mt.icon=void 0,Mt.subTitle=void 0),!Mt.render&&Oe&&(Mt.render=function(Hn){return Oe(Mt,Hn)}),s.createElement(hI,(0,We.Z)({},Mt,{active:Cn===ae,stepNumber:Cn+1,stepIndex:Cn,key:Cn,prefixCls:o,iconPrefix:G,wrapperStyle:y,progressDot:st,stepIcon:fe,icons:be,onStepClick:Ie&&mt}))};return s.createElement("div",(0,We.Z)({className:Ct,style:y},De),Ve.filter(function(zt){return zt}).map(bt))}pI.Step=hI;var PA=pI,mI=PA,OA=e=>{const{componentCls:t,customIconTop:a,customIconSize:o,customIconFontSize:f}=e;return{[`${t}-item-custom`]:{[`> ${t}-item-container > ${t}-item-icon`]:{height:"auto",background:"none",border:0,[`> ${t}-icon`]:{top:a,width:o,height:o,fontSize:f,lineHeight:(0,he.bf)(o)}}},[`&:not(${t}-vertical)`]:{[`${t}-item-custom`]:{[`${t}-item-icon`]:{width:"auto",background:"none"}}}}},RA=e=>{const{componentCls:t}=e,a=`${t}-item`;return{[`${t}-horizontal`]:{[`${a}-tail`]:{transform:"translateY(-50%)"}}}},$A=e=>{const{componentCls:t,inlineDotSize:a,inlineTitleColor:o,inlineTailColor:f}=e,y=e.calc(e.paddingXS).add(e.lineWidth).equal(),C={[`${t}-item-container ${t}-item-content ${t}-item-title`]:{color:o}};return{[`&${t}-inline`]:{width:"auto",display:"inline-flex",[`${t}-item`]:{flex:"none","&-container":{padding:`${(0,he.bf)(y)} ${(0,he.bf)(e.paddingXXS)} 0`,margin:`0 ${(0,he.bf)(e.calc(e.marginXXS).div(2).equal())}`,borderRadius:e.borderRadiusSM,cursor:"pointer",transition:`background-color ${e.motionDurationMid}`,"&:hover":{background:e.controlItemBgHover},"&[role='button']:hover":{opacity:1}},"&-icon":{width:a,height:a,marginInlineStart:`calc(50% - ${(0,he.bf)(e.calc(a).div(2).equal())})`,[`> ${t}-icon`]:{top:0},[`${t}-icon-dot`]:{borderRadius:e.calc(e.fontSizeSM).div(4).equal(),"&::after":{display:"none"}}},"&-content":{width:"auto",marginTop:e.calc(e.marginXS).sub(e.lineWidth).equal()},"&-title":{color:o,fontSize:e.fontSizeSM,lineHeight:e.lineHeightSM,fontWeight:"normal",marginBottom:e.calc(e.marginXXS).div(2).equal()},"&-description":{display:"none"},"&-tail":{marginInlineStart:0,top:e.calc(a).div(2).add(y).equal(),transform:"translateY(-50%)","&:after":{width:"100%",height:e.lineWidth,borderRadius:0,marginInlineStart:0,background:f}},[`&:first-child ${t}-item-tail`]:{width:"50%",marginInlineStart:"50%"},[`&:last-child ${t}-item-tail`]:{display:"block",width:"50%"},"&-wait":Object.assign({[`${t}-item-icon ${t}-icon ${t}-icon-dot`]:{backgroundColor:e.colorBorderBg,border:`${(0,he.bf)(e.lineWidth)} ${e.lineType} ${f}`}},C),"&-finish":Object.assign({[`${t}-item-tail::after`]:{backgroundColor:f},[`${t}-item-icon ${t}-icon ${t}-icon-dot`]:{backgroundColor:f,border:`${(0,he.bf)(e.lineWidth)} ${e.lineType} ${f}`}},C),"&-error":C,"&-active, &-process":Object.assign({[`${t}-item-icon`]:{width:a,height:a,marginInlineStart:`calc(50% - ${(0,he.bf)(e.calc(a).div(2).equal())})`,top:0}},C),[`&:not(${t}-item-active) > ${t}-item-container[role='button']:hover`]:{[`${t}-item-title`]:{color:o}}}}}},AA=e=>{const{componentCls:t,iconSize:a,lineHeight:o,iconSizeSM:f}=e;return{[`&${t}-label-vertical`]:{[`${t}-item`]:{overflow:"visible","&-tail":{marginInlineStart:e.calc(a).div(2).add(e.controlHeightLG).equal(),padding:`0 ${(0,he.bf)(e.paddingLG)}`},"&-content":{display:"block",width:e.calc(a).div(2).add(e.controlHeightLG).mul(2).equal(),marginTop:e.marginSM,textAlign:"center"},"&-icon":{display:"inline-block",marginInlineStart:e.controlHeightLG},"&-title":{paddingInlineEnd:0,paddingInlineStart:0,"&::after":{display:"none"}},"&-subtitle":{display:"block",marginBottom:e.marginXXS,marginInlineStart:0,lineHeight:o}},[`&${t}-small:not(${t}-dot)`]:{[`${t}-item`]:{"&-icon":{marginInlineStart:e.calc(a).sub(f).div(2).add(e.controlHeightLG).equal()}}}}}},DA=e=>{const{componentCls:t,navContentMaxWidth:a,navArrowColor:o,stepsNavActiveColor:f,motionDurationSlow:y}=e;return{[`&${t}-navigation`]:{paddingTop:e.paddingSM,[`&${t}-small`]:{[`${t}-item`]:{"&-container":{marginInlineStart:e.calc(e.marginSM).mul(-1).equal()}}},[`${t}-item`]:{overflow:"visible",textAlign:"center","&-container":{display:"inline-block",height:"100%",marginInlineStart:e.calc(e.margin).mul(-1).equal(),paddingBottom:e.paddingSM,textAlign:"start",transition:`opacity ${y}`,[`${t}-item-content`]:{maxWidth:a},[`${t}-item-title`]:Object.assign(Object.assign({maxWidth:"100%",paddingInlineEnd:0},Jt.vS),{"&::after":{display:"none"}})},[`&:not(${t}-item-active)`]:{[`${t}-item-container[role='button']`]:{cursor:"pointer","&:hover":{opacity:.85}}},"&:last-child":{flex:1,"&::after":{display:"none"}},"&::after":{position:"absolute",top:`calc(50% - ${(0,he.bf)(e.calc(e.paddingSM).div(2).equal())})`,insetInlineStart:"100%",display:"inline-block",width:e.fontSizeIcon,height:e.fontSizeIcon,borderTop:`${(0,he.bf)(e.lineWidth)} ${e.lineType} ${o}`,borderBottom:"none",borderInlineStart:"none",borderInlineEnd:`${(0,he.bf)(e.lineWidth)} ${e.lineType} ${o}`,transform:"translateY(-50%) translateX(-50%) rotate(45deg)",content:'""'},"&::before":{position:"absolute",bottom:0,insetInlineStart:"50%",display:"inline-block",width:0,height:e.lineWidthBold,backgroundColor:f,transition:`width ${y}, inset-inline-start ${y}`,transitionTimingFunction:"ease-out",content:'""'}},[`${t}-item${t}-item-active::before`]:{insetInlineStart:0,width:"100%"}},[`&${t}-navigation${t}-vertical`]:{[`> ${t}-item`]:{marginInlineEnd:0,"&::before":{display:"none"},[`&${t}-item-active::before`]:{top:0,insetInlineEnd:0,insetInlineStart:"unset",display:"block",width:e.calc(e.lineWidth).mul(3).equal(),height:`calc(100% - ${(0,he.bf)(e.marginLG)})`},"&::after":{position:"relative",insetInlineStart:"50%",display:"block",width:e.calc(e.controlHeight).mul(.25).equal(),height:e.calc(e.controlHeight).mul(.25).equal(),marginBottom:e.marginXS,textAlign:"center",transform:"translateY(-50%) translateX(-50%) rotate(135deg)"},"&:last-child":{"&::after":{display:"none"}},[`> ${t}-item-container > ${t}-item-tail`]:{visibility:"hidden"}}},[`&${t}-navigation${t}-horizontal`]:{[`> ${t}-item > ${t}-item-container > ${t}-item-tail`]:{visibility:"hidden"}}}},LA=e=>{const{antCls:t,componentCls:a,iconSize:o,iconSizeSM:f,processIconColor:y,marginXXS:C,lineWidthBold:w,lineWidth:I,paddingXXS:D}=e,L=e.calc(o).add(e.calc(w).mul(4).equal()).equal(),z=e.calc(f).add(e.calc(e.lineWidth).mul(4).equal()).equal();return{[`&${a}-with-progress`]:{[`${a}-item`]:{paddingTop:D,[`&-process ${a}-item-container ${a}-item-icon ${a}-icon`]:{color:y}},[`&${a}-vertical > ${a}-item `]:{paddingInlineStart:D,[`> ${a}-item-container > ${a}-item-tail`]:{top:C,insetInlineStart:e.calc(o).div(2).sub(I).add(D).equal()}},[`&, &${a}-small`]:{[`&${a}-horizontal ${a}-item:first-child`]:{paddingBottom:D,paddingInlineStart:D}},[`&${a}-small${a}-vertical > ${a}-item > ${a}-item-container > ${a}-item-tail`]:{insetInlineStart:e.calc(f).div(2).sub(I).add(D).equal()},[`&${a}-label-vertical ${a}-item ${a}-item-tail`]:{top:e.calc(o).div(2).add(D).equal()},[`${a}-item-icon`]:{position:"relative",[`${t}-progress`]:{position:"absolute",insetInlineStart:"50%",top:"50%",transform:"translate(-50%, -50%)","&-inner":{width:`${(0,he.bf)(L)} !important`,height:`${(0,he.bf)(L)} !important`}}},[`&${a}-small`]:{[`&${a}-label-vertical ${a}-item ${a}-item-tail`]:{top:e.calc(f).div(2).add(D).equal()},[`${a}-item-icon ${t}-progress-inner`]:{width:`${(0,he.bf)(z)} !important`,height:`${(0,he.bf)(z)} !important`}}}}},zA=e=>{const{componentCls:t,descriptionMaxWidth:a,lineHeight:o,dotCurrentSize:f,dotSize:y,motionDurationSlow:C}=e;return{[`&${t}-dot, &${t}-dot${t}-small`]:{[`${t}-item`]:{"&-title":{lineHeight:o},"&-tail":{top:e.calc(e.dotSize).sub(e.calc(e.lineWidth).mul(3).equal()).div(2).equal(),width:"100%",marginTop:0,marginBottom:0,marginInline:`${(0,he.bf)(e.calc(a).div(2).equal())} 0`,padding:0,"&::after":{width:`calc(100% - ${(0,he.bf)(e.calc(e.marginSM).mul(2).equal())})`,height:e.calc(e.lineWidth).mul(3).equal(),marginInlineStart:e.marginSM}},"&-icon":{width:y,height:y,marginInlineStart:e.calc(e.descriptionMaxWidth).sub(y).div(2).equal(),paddingInlineEnd:0,lineHeight:(0,he.bf)(y),background:"transparent",border:0,[`${t}-icon-dot`]:{position:"relative",float:"left",width:"100%",height:"100%",borderRadius:100,transition:`all ${C}`,"&::after":{position:"absolute",top:e.calc(e.marginSM).mul(-1).equal(),insetInlineStart:e.calc(y).sub(e.calc(e.controlHeightLG).mul(1.5).equal()).div(2).equal(),width:e.calc(e.controlHeightLG).mul(1.5).equal(),height:e.controlHeight,background:"transparent",content:'""'}}},"&-content":{width:a},[`&-process ${t}-item-icon`]:{position:"relative",top:e.calc(y).sub(f).div(2).equal(),width:f,height:f,lineHeight:(0,he.bf)(f),background:"none",marginInlineStart:e.calc(e.descriptionMaxWidth).sub(f).div(2).equal()},[`&-process ${t}-icon`]:{[`&:first-child ${t}-icon-dot`]:{insetInlineStart:0}}}},[`&${t}-vertical${t}-dot`]:{[`${t}-item-icon`]:{marginTop:e.calc(e.controlHeight).sub(y).div(2).equal(),marginInlineStart:0,background:"none"},[`${t}-item-process ${t}-item-icon`]:{marginTop:e.calc(e.controlHeight).sub(f).div(2).equal(),top:0,insetInlineStart:e.calc(y).sub(f).div(2).equal(),marginInlineStart:0},[`${t}-item > ${t}-item-container > ${t}-item-tail`]:{top:e.calc(e.controlHeight).sub(y).div(2).equal(),insetInlineStart:0,margin:0,padding:`${(0,he.bf)(e.calc(y).add(e.paddingXS).equal())} 0 ${(0,he.bf)(e.paddingXS)}`,"&::after":{marginInlineStart:e.calc(y).sub(e.lineWidth).div(2).equal()}},[`&${t}-small`]:{[`${t}-item-icon`]:{marginTop:e.calc(e.controlHeightSM).sub(y).div(2).equal()},[`${t}-item-process ${t}-item-icon`]:{marginTop:e.calc(e.controlHeightSM).sub(f).div(2).equal()},[`${t}-item > ${t}-item-container > ${t}-item-tail`]:{top:e.calc(e.controlHeightSM).sub(y).div(2).equal()}},[`${t}-item:first-child ${t}-icon-dot`]:{insetInlineStart:0},[`${t}-item-content`]:{width:"inherit"}}}},NA=e=>{const{componentCls:t}=e;return{[`&${t}-rtl`]:{direction:"rtl",[`${t}-item`]:{"&-subtitle":{float:"left"}},[`&${t}-navigation`]:{[`${t}-item::after`]:{transform:"rotate(-45deg)"}},[`&${t}-vertical`]:{[`> ${t}-item`]:{"&::after":{transform:"rotate(225deg)"},[`${t}-item-icon`]:{float:"right"}}},[`&${t}-dot`]:{[`${t}-item-icon ${t}-icon-dot, &${t}-small ${t}-item-icon ${t}-icon-dot`]:{float:"right"}}}}},BA=e=>{const{componentCls:t,iconSizeSM:a,fontSizeSM:o,fontSize:f,colorTextDescription:y}=e;return{[`&${t}-small`]:{[`&${t}-horizontal:not(${t}-label-vertical) ${t}-item`]:{paddingInlineStart:e.paddingSM,"&:first-child":{paddingInlineStart:0}},[`${t}-item-icon`]:{width:a,height:a,marginTop:0,marginBottom:0,marginInline:`0 ${(0,he.bf)(e.marginXS)}`,fontSize:o,lineHeight:(0,he.bf)(a),textAlign:"center",borderRadius:a},[`${t}-item-title`]:{paddingInlineEnd:e.paddingSM,fontSize:f,lineHeight:(0,he.bf)(a),"&::after":{top:e.calc(a).div(2).equal()}},[`${t}-item-description`]:{color:y,fontSize:f},[`${t}-item-tail`]:{top:e.calc(a).div(2).sub(e.paddingXXS).equal()},[`${t}-item-custom ${t}-item-icon`]:{width:"inherit",height:"inherit",lineHeight:"inherit",background:"none",border:0,borderRadius:0,[`> ${t}-icon`]:{fontSize:a,lineHeight:(0,he.bf)(a),transform:"none"}}}}},FA=e=>{const{componentCls:t,iconSizeSM:a,iconSize:o}=e;return{[`&${t}-vertical`]:{display:"flex",flexDirection:"column",[`> ${t}-item`]:{display:"block",flex:"1 0 auto",paddingInlineStart:0,overflow:"visible",[`${t}-item-icon`]:{float:"left",marginInlineEnd:e.margin},[`${t}-item-content`]:{display:"block",minHeight:e.calc(e.controlHeight).mul(1.5).equal(),overflow:"hidden"},[`${t}-item-title`]:{lineHeight:(0,he.bf)(o)},[`${t}-item-description`]:{paddingBottom:e.paddingSM}},[`> ${t}-item > ${t}-item-container > ${t}-item-tail`]:{position:"absolute",top:0,insetInlineStart:e.calc(o).div(2).sub(e.lineWidth).equal(),width:e.lineWidth,height:"100%",padding:`${(0,he.bf)(e.calc(e.marginXXS).mul(1.5).add(o).equal())} 0 ${(0,he.bf)(e.calc(e.marginXXS).mul(1.5).equal())}`,"&::after":{width:e.lineWidth,height:"100%"}},[`> ${t}-item:not(:last-child) > ${t}-item-container > ${t}-item-tail`]:{display:"block"},[` > ${t}-item > ${t}-item-container > ${t}-item-content > ${t}-item-title`]:{"&::after":{display:"none"}},[`&${t}-small ${t}-item-container`]:{[`${t}-item-tail`]:{position:"absolute",top:0,insetInlineStart:e.calc(a).div(2).sub(e.lineWidth).equal(),padding:`${(0,he.bf)(e.calc(e.marginXXS).mul(1.5).add(a).equal())} 0 ${(0,he.bf)(e.calc(e.marginXXS).mul(1.5).equal())}`},[`${t}-item-title`]:{lineHeight:(0,he.bf)(a)}}}}};const kA="wait",jA="process",ZA="finish",VA="error",kx=(e,t)=>{const a=`${t.componentCls}-item`,o=`${e}IconColor`,f=`${e}TitleColor`,y=`${e}DescriptionColor`,C=`${e}TailColor`,w=`${e}IconBgColor`,I=`${e}IconBorderColor`,D=`${e}DotColor`;return{[`${a}-${e} ${a}-icon`]:{backgroundColor:t[w],borderColor:t[I],[`> ${t.componentCls}-icon`]:{color:t[o],[`${t.componentCls}-icon-dot`]:{background:t[D]}}},[`${a}-${e}${a}-custom ${a}-icon`]:{[`> ${t.componentCls}-icon`]:{color:t[D]}},[`${a}-${e} > ${a}-container > ${a}-content > ${a}-title`]:{color:t[f],"&::after":{backgroundColor:t[C]}},[`${a}-${e} > ${a}-container > ${a}-content > ${a}-description`]:{color:t[y]},[`${a}-${e} > ${a}-container > ${a}-tail::after`]:{backgroundColor:t[C]}}},HA=e=>{const{componentCls:t,motionDurationSlow:a}=e,o=`${t}-item`,f=`${o}-icon`;return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({[o]:{position:"relative",display:"inline-block",flex:1,overflow:"hidden",verticalAlign:"top","&:last-child":{flex:"none",[`> ${o}-container > ${o}-tail, > ${o}-container >  ${o}-content > ${o}-title::after`]:{display:"none"}}},[`${o}-container`]:{outline:"none","&:focus-visible":{[f]:Object.assign({},(0,Jt.oN)(e))}},[`${f}, ${o}-content`]:{display:"inline-block",verticalAlign:"top"},[f]:{width:e.iconSize,height:e.iconSize,marginTop:0,marginBottom:0,marginInlineStart:0,marginInlineEnd:e.marginXS,fontSize:e.iconFontSize,fontFamily:e.fontFamily,lineHeight:(0,he.bf)(e.iconSize),textAlign:"center",borderRadius:e.iconSize,border:`${(0,he.bf)(e.lineWidth)} ${e.lineType} transparent`,transition:`background-color ${a}, border-color ${a}`,[`${t}-icon`]:{position:"relative",top:e.iconTop,color:e.colorPrimary,lineHeight:1}},[`${o}-tail`]:{position:"absolute",top:e.calc(e.iconSize).div(2).equal(),insetInlineStart:0,width:"100%","&::after":{display:"inline-block",width:"100%",height:e.lineWidth,background:e.colorSplit,borderRadius:e.lineWidth,transition:`background ${a}`,content:'""'}},[`${o}-title`]:{position:"relative",display:"inline-block",paddingInlineEnd:e.padding,color:e.colorText,fontSize:e.fontSizeLG,lineHeight:(0,he.bf)(e.titleLineHeight),"&::after":{position:"absolute",top:e.calc(e.titleLineHeight).div(2).equal(),insetInlineStart:"100%",display:"block",width:9999,height:e.lineWidth,background:e.processTailColor,content:'""'}},[`${o}-subtitle`]:{display:"inline",marginInlineStart:e.marginXS,color:e.colorTextDescription,fontWeight:"normal",fontSize:e.fontSize},[`${o}-description`]:{color:e.colorTextDescription,fontSize:e.fontSize}},kx(kA,e)),kx(jA,e)),{[`${o}-process > ${o}-container > ${o}-title`]:{fontWeight:e.fontWeightStrong}}),kx(ZA,e)),kx(VA,e)),{[`${o}${t}-next-error > ${t}-item-title::after`]:{background:e.colorError},[`${o}-disabled`]:{cursor:"not-allowed"}})},UA=e=>{const{componentCls:t,motionDurationSlow:a}=e;return{[`& ${t}-item`]:{[`&:not(${t}-item-active)`]:{[`& > ${t}-item-container[role='button']`]:{cursor:"pointer",[`${t}-item`]:{[`&-title, &-subtitle, &-description, &-icon ${t}-icon`]:{transition:`color ${a}`}},"&:hover":{[`${t}-item`]:{"&-title, &-subtitle, &-description":{color:e.colorPrimary}}}},[`&:not(${t}-item-process)`]:{[`& > ${t}-item-container[role='button']:hover`]:{[`${t}-item`]:{"&-icon":{borderColor:e.colorPrimary,[`${t}-icon`]:{color:e.colorPrimary}}}}}}},[`&${t}-horizontal:not(${t}-label-vertical)`]:{[`${t}-item`]:{paddingInlineStart:e.padding,whiteSpace:"nowrap","&:first-child":{paddingInlineStart:0},[`&:last-child ${t}-item-title`]:{paddingInlineEnd:0},"&-tail":{display:"none"},"&-description":{maxWidth:e.descriptionMaxWidth,whiteSpace:"normal"}}}}},WA=e=>{const{componentCls:t}=e;return{[t]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(0,Jt.Wf)(e)),{display:"flex",width:"100%",fontSize:0,textAlign:"initial"}),HA(e)),UA(e)),OA(e)),BA(e)),FA(e)),RA(e)),AA(e)),zA(e)),DA(e)),NA(e)),LA(e)),$A(e))}},GA=e=>({titleLineHeight:e.controlHeight,customIconSize:e.controlHeight,customIconTop:0,customIconFontSize:e.controlHeightSM,iconSize:e.controlHeight,iconTop:-.5,iconFontSize:e.fontSize,iconSizeSM:e.fontSizeHeading3,dotSize:e.controlHeight/4,dotCurrentSize:e.controlHeightLG/4,navArrowColor:e.colorTextDisabled,navContentMaxWidth:"auto",descriptionMaxWidth:140,waitIconColor:e.wireframe?e.colorTextDisabled:e.colorTextLabel,waitIconBgColor:e.wireframe?e.colorBgContainer:e.colorFillContent,waitIconBorderColor:e.wireframe?e.colorTextDisabled:"transparent",finishIconBgColor:e.wireframe?e.colorBgContainer:e.controlItemBgActive,finishIconBorderColor:e.wireframe?e.colorPrimary:e.controlItemBgActive});var KA=(0,te.I$)("Steps",e=>{const{colorTextDisabled:t,controlHeightLG:a,colorTextLightSolid:o,colorText:f,colorPrimary:y,colorTextDescription:C,colorTextQuaternary:w,colorError:I,colorBorderSecondary:D,colorSplit:L}=e,z=(0,Qr.IX)(e,{processIconColor:o,processTitleColor:f,processDescriptionColor:f,processIconBgColor:y,processIconBorderColor:y,processDotColor:y,processTailColor:L,waitTitleColor:C,waitDescriptionColor:C,waitTailColor:L,waitDotColor:t,finishIconColor:y,finishTitleColor:f,finishDescriptionColor:C,finishTailColor:y,finishDotColor:y,errorIconColor:o,errorTitleColor:I,errorDescriptionColor:I,errorTailColor:L,errorIconBgColor:I,errorIconBorderColor:I,errorDotColor:I,stepsNavActiveColor:y,stepsProgressSize:a,inlineDotSize:6,inlineTitleColor:w,inlineTailColor:D});return[WA(z)]},GA);function XA(e){return e.filter(t=>t)}function YA(e,t){if(e)return e;const a=(0,Wl.Z)(t).map(o=>{if(s.isValidElement(o)){const{props:f}=o;return Object.assign({},f)}return null});return XA(a)}var qA=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a};const gI=e=>{const{percent:t,size:a,className:o,rootClassName:f,direction:y,items:C,responsive:w=!0,current:I=0,children:D,style:L}=e,z=qA(e,["percent","size","className","rootClassName","direction","items","responsive","current","children","style"]),{xs:k}=(0,Xu.Z)(w),{getPrefixCls:Z,direction:j,className:G,style:H}=(0,ye.dj)("steps"),X=s.useMemo(()=>w&&k?"vertical":y,[k,y]),ne=(0,xr.Z)(a),oe=Z("steps",e.prefixCls),[ae,ie,le]=KA(oe),fe=e.type==="inline",me=Z("",e.iconPrefix),ge=YA(C,D),be=fe?void 0:t,Ie=Object.assign(Object.assign({},H),L),Oe=q()(G,{[`${oe}-rtl`]:j==="rtl",[`${oe}-with-progress`]:be!==void 0},o,f,ie,le),Te={finish:s.createElement(QS.Z,{className:`${oe}-finish-icon`}),error:s.createElement(cr.Z,{className:`${oe}-error-icon`})},Ve=Ue=>{let{node:ke,status:st}=Ue;if(st==="process"&&be!==void 0){const ct=ne==="small"?32:40;return s.createElement("div",{className:`${oe}-progress-icon`},s.createElement(tw,{type:"circle",percent:be,size:ct,strokeWidth:4,format:()=>null}),ke)}return ke},De=(Ue,ke)=>Ue.description?s.createElement(Du.Z,{title:Ue.description},ke):ke;return ae(s.createElement(mI,Object.assign({icons:Te},z,{style:Ie,current:I,size:ne,items:ge,itemRender:fe?De:void 0,stepIcon:Ve,direction:X,prefixCls:oe,iconPrefix:me,className:Oe})))};gI.Step=mI.Step;var JA=gI,QA=["prefixCls","className","checked","defaultChecked","disabled","loadingIcon","checkedChildren","unCheckedChildren","onClick","onChange","onKeyDown"],vI=s.forwardRef(function(e,t){var a,o=e.prefixCls,f=o===void 0?"rc-switch":o,y=e.className,C=e.checked,w=e.defaultChecked,I=e.disabled,D=e.loadingIcon,L=e.checkedChildren,z=e.unCheckedChildren,k=e.onClick,Z=e.onChange,j=e.onKeyDown,G=(0,de.Z)(e,QA),H=(0,Fs.Z)(!1,{value:C,defaultValue:w}),X=(0,Re.Z)(H,2),ne=X[0],oe=X[1];function ae(me,ge){var be=ne;return I||(be=me,oe(be),Z==null||Z(be,ge)),be}function ie(me){me.which===nt.Z.LEFT?ae(!1,me):me.which===nt.Z.RIGHT&&ae(!0,me),j==null||j(me)}function le(me){var ge=ae(!ne,me);k==null||k(ge,me)}var fe=q()(f,y,(a={},(0,pe.Z)(a,"".concat(f,"-checked"),ne),(0,pe.Z)(a,"".concat(f,"-disabled"),I),a));return s.createElement("button",(0,We.Z)({},G,{type:"button",role:"switch","aria-checked":ne,disabled:I,className:fe,ref:t,onKeyDown:ie,onClick:le}),D,s.createElement("span",{className:"".concat(f,"-inner")},s.createElement("span",{className:"".concat(f,"-inner-checked")},L),s.createElement("span",{className:"".concat(f,"-inner-unchecked")},z)))});vI.displayName="Switch";var eD=vI;const tD=e=>{const{componentCls:t,trackHeightSM:a,trackPadding:o,trackMinWidthSM:f,innerMinMarginSM:y,innerMaxMarginSM:C,handleSizeSM:w,calc:I}=e,D=`${t}-inner`,L=(0,he.bf)(I(w).add(I(o).mul(2)).equal()),z=(0,he.bf)(I(C).mul(2).equal());return{[t]:{[`&${t}-small`]:{minWidth:f,height:a,lineHeight:(0,he.bf)(a),[`${t}-inner`]:{paddingInlineStart:C,paddingInlineEnd:y,[`${D}-checked, ${D}-unchecked`]:{minHeight:a},[`${D}-checked`]:{marginInlineStart:`calc(-100% + ${L} - ${z})`,marginInlineEnd:`calc(100% - ${L} + ${z})`},[`${D}-unchecked`]:{marginTop:I(a).mul(-1).equal(),marginInlineStart:0,marginInlineEnd:0}},[`${t}-handle`]:{width:w,height:w},[`${t}-loading-icon`]:{top:I(I(w).sub(e.switchLoadingIconSize)).div(2).equal(),fontSize:e.switchLoadingIconSize},[`&${t}-checked`]:{[`${t}-inner`]:{paddingInlineStart:y,paddingInlineEnd:C,[`${D}-checked`]:{marginInlineStart:0,marginInlineEnd:0},[`${D}-unchecked`]:{marginInlineStart:`calc(100% - ${L} + ${z})`,marginInlineEnd:`calc(-100% + ${L} - ${z})`}},[`${t}-handle`]:{insetInlineStart:`calc(100% - ${(0,he.bf)(I(w).add(o).equal())})`}},[`&:not(${t}-disabled):active`]:{[`&:not(${t}-checked) ${D}`]:{[`${D}-unchecked`]:{marginInlineStart:I(e.marginXXS).div(2).equal(),marginInlineEnd:I(e.marginXXS).mul(-1).div(2).equal()}},[`&${t}-checked ${D}`]:{[`${D}-checked`]:{marginInlineStart:I(e.marginXXS).mul(-1).div(2).equal(),marginInlineEnd:I(e.marginXXS).div(2).equal()}}}}}}},nD=e=>{const{componentCls:t,handleSize:a,calc:o}=e;return{[t]:{[`${t}-loading-icon${e.iconCls}`]:{position:"relative",top:o(o(a).sub(e.fontSize)).div(2).equal(),color:e.switchLoadingIconColor,verticalAlign:"top"},[`&${t}-checked ${t}-loading-icon`]:{color:e.switchColor}}}},rD=e=>{const{componentCls:t,trackPadding:a,handleBg:o,handleShadow:f,handleSize:y,calc:C}=e,w=`${t}-handle`;return{[t]:{[w]:{position:"absolute",top:a,insetInlineStart:a,width:y,height:y,transition:`all ${e.switchDuration} ease-in-out`,"&::before":{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,backgroundColor:o,borderRadius:C(y).div(2).equal(),boxShadow:f,transition:`all ${e.switchDuration} ease-in-out`,content:'""'}},[`&${t}-checked ${w}`]:{insetInlineStart:`calc(100% - ${(0,he.bf)(C(y).add(a).equal())})`},[`&:not(${t}-disabled):active`]:{[`${w}::before`]:{insetInlineEnd:e.switchHandleActiveInset,insetInlineStart:0},[`&${t}-checked ${w}::before`]:{insetInlineEnd:0,insetInlineStart:e.switchHandleActiveInset}}}}},iD=e=>{const{componentCls:t,trackHeight:a,trackPadding:o,innerMinMargin:f,innerMaxMargin:y,handleSize:C,calc:w}=e,I=`${t}-inner`,D=(0,he.bf)(w(C).add(w(o).mul(2)).equal()),L=(0,he.bf)(w(y).mul(2).equal());return{[t]:{[I]:{display:"block",overflow:"hidden",borderRadius:100,height:"100%",paddingInlineStart:y,paddingInlineEnd:f,transition:`padding-inline-start ${e.switchDuration} ease-in-out, padding-inline-end ${e.switchDuration} ease-in-out`,[`${I}-checked, ${I}-unchecked`]:{display:"block",color:e.colorTextLightSolid,fontSize:e.fontSizeSM,transition:`margin-inline-start ${e.switchDuration} ease-in-out, margin-inline-end ${e.switchDuration} ease-in-out`,pointerEvents:"none",minHeight:a},[`${I}-checked`]:{marginInlineStart:`calc(-100% + ${D} - ${L})`,marginInlineEnd:`calc(100% - ${D} + ${L})`},[`${I}-unchecked`]:{marginTop:w(a).mul(-1).equal(),marginInlineStart:0,marginInlineEnd:0}},[`&${t}-checked ${I}`]:{paddingInlineStart:f,paddingInlineEnd:y,[`${I}-checked`]:{marginInlineStart:0,marginInlineEnd:0},[`${I}-unchecked`]:{marginInlineStart:`calc(100% - ${D} + ${L})`,marginInlineEnd:`calc(-100% + ${D} - ${L})`}},[`&:not(${t}-disabled):active`]:{[`&:not(${t}-checked) ${I}`]:{[`${I}-unchecked`]:{marginInlineStart:w(o).mul(2).equal(),marginInlineEnd:w(o).mul(-1).mul(2).equal()}},[`&${t}-checked ${I}`]:{[`${I}-checked`]:{marginInlineStart:w(o).mul(-1).mul(2).equal(),marginInlineEnd:w(o).mul(2).equal()}}}}}},oD=e=>{const{componentCls:t,trackHeight:a,trackMinWidth:o}=e;return{[t]:Object.assign(Object.assign(Object.assign(Object.assign({},(0,Jt.Wf)(e)),{position:"relative",display:"inline-block",boxSizing:"border-box",minWidth:o,height:a,lineHeight:(0,he.bf)(a),verticalAlign:"middle",background:e.colorTextQuaternary,border:"0",borderRadius:100,cursor:"pointer",transition:`all ${e.motionDurationMid}`,userSelect:"none",[`&:hover:not(${t}-disabled)`]:{background:e.colorTextTertiary}}),(0,Jt.Qy)(e)),{[`&${t}-checked`]:{background:e.switchColor,[`&:hover:not(${t}-disabled)`]:{background:e.colorPrimaryHover}},[`&${t}-loading, &${t}-disabled`]:{cursor:"not-allowed",opacity:e.switchDisabledOpacity,"*":{boxShadow:"none",cursor:"not-allowed"}},[`&${t}-rtl`]:{direction:"rtl"}})}},aD=e=>{const{fontSize:t,lineHeight:a,controlHeight:o,colorWhite:f}=e,y=t*a,C=o/2,w=2,I=y-w*2,D=C-w*2;return{trackHeight:y,trackHeightSM:C,trackMinWidth:I*2+w*4,trackMinWidthSM:D*2+w*2,trackPadding:w,handleBg:f,handleSize:I,handleSizeSM:D,handleShadow:`0 2px 4px 0 ${new Sl.t("#00230b").setA(.2).toRgbString()}`,innerMinMargin:I/2,innerMaxMargin:I+w+w*2,innerMinMarginSM:D/2,innerMaxMarginSM:D+w+w*2}};var sD=(0,te.I$)("Switch",e=>{const t=(0,Qr.IX)(e,{switchDuration:e.motionDurationMid,switchColor:e.colorPrimary,switchDisabledOpacity:e.opacityLoading,switchLoadingIconSize:e.calc(e.fontSizeIcon).mul(.75).equal(),switchLoadingIconColor:`rgba(0, 0, 0, ${e.opacityLoading})`,switchHandleActiveInset:"-30%"});return[oD(t),iD(t),rD(t),nD(t),tD(t)]},aD),lD=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a};const yI=s.forwardRef((e,t)=>{const{prefixCls:a,size:o,disabled:f,loading:y,className:C,rootClassName:w,style:I,checked:D,value:L,defaultChecked:z,defaultValue:k,onChange:Z}=e,j=lD(e,["prefixCls","size","disabled","loading","className","rootClassName","style","checked","value","defaultChecked","defaultValue","onChange"]),[G,H]=(0,Fs.Z)(!1,{value:D!=null?D:L,defaultValue:z!=null?z:k}),{getPrefixCls:X,direction:ne,switch:oe}=s.useContext(ye.E_),ae=s.useContext(to.Z),ie=(f!=null?f:ae)||y,le=X("switch",a),fe=s.createElement("div",{className:`${le}-handle`},y&&s.createElement(Sn.Z,{className:`${le}-loading-icon`})),[me,ge,be]=sD(le),Ie=(0,xr.Z)(o),Oe=q()(oe==null?void 0:oe.className,{[`${le}-small`]:Ie==="small",[`${le}-loading`]:y,[`${le}-rtl`]:ne==="rtl"},C,w,ge,be),Te=Object.assign(Object.assign({},oe==null?void 0:oe.style),I),Ve=function(){H(arguments.length<=0?void 0:arguments[0]),Z==null||Z.apply(void 0,arguments)};return me(s.createElement(Ai.Z,{component:"Switch"},s.createElement(eD,Object.assign({},j,{checked:G,onChange:Ve,prefixCls:le,className:Oe,style:Te,disabled:ie,ref:t,loadingIcon:fe}))))});yI.__ANT_SWITCH=!0;var cD=yI,Wh={},D_="rc-table-internal-hook";function ow(e){var t=s.createContext(void 0),a=function(f){var y=f.value,C=f.children,w=s.useRef(y);w.current=y;var I=s.useState(function(){return{getValue:function(){return w.current},listeners:new Set}}),D=(0,Re.Z)(I,1),L=D[0];return(0,hl.Z)(function(){(0,Ze.unstable_batchedUpdates)(function(){L.listeners.forEach(function(z){z(y)})})},[y]),s.createElement(t.Provider,{value:L},C)};return{Context:t,Provider:a,defaultValue:e}}function tu(e,t){var a=(0,yr.Z)(typeof t=="function"?t:function(z){if(t===void 0)return z;if(!Array.isArray(t))return z[t];var k={};return t.forEach(function(Z){k[Z]=z[Z]}),k}),o=s.useContext(e==null?void 0:e.Context),f=o||{},y=f.listeners,C=f.getValue,w=s.useRef();w.current=a(o?C():e==null?void 0:e.defaultValue);var I=s.useState({}),D=(0,Re.Z)(I,2),L=D[1];return(0,hl.Z)(function(){if(!o)return;function z(k){var Z=a(k);(0,Ol.Z)(w.current,Z,!0)||L({})}return y.add(z),function(){y.delete(z)}},[o]),w.current}function _I(){var e=s.createContext(null);function t(){return s.useContext(e)}function a(f,y){var C=(0,Yt.Yr)(f),w=function(D,L){var z=C?{ref:L}:{},k=s.useRef(0),Z=s.useRef(D),j=t();return j!==null?s.createElement(f,(0,We.Z)({},D,z)):((!y||y(Z.current,D))&&(k.current+=1),Z.current=D,s.createElement(e.Provider,{value:k.current},s.createElement(f,(0,We.Z)({},D,z))))};return C?s.forwardRef(w):w}function o(f,y){var C=(0,Yt.Yr)(f),w=function(D,L){var z=C?{ref:L}:{};return t(),s.createElement(f,(0,We.Z)({},D,z))};return C?s.memo(s.forwardRef(w),y):s.memo(w,y)}return{makeImmutable:a,responseImmutable:o,useImmutableMark:t}}var aw=_I(),zk=aw.makeImmutable,Nk=aw.responseImmutable,Bk=aw.useImmutableMark,sw=_I(),bI=sw.makeImmutable,yv=sw.responseImmutable,uD=sw.useImmutableMark,dD=ow(),Iu=dD;function Fk(e,t){var a=React.useRef(0);a.current+=1;var o=React.useRef(e),f=[];Object.keys(e||{}).map(function(C){var w;(e==null?void 0:e[C])!==((w=o.current)===null||w===void 0?void 0:w[C])&&f.push(C)}),o.current=e;var y=React.useRef([]);return f.length&&(y.current=f),React.useDebugValue(a.current),React.useDebugValue(y.current.join(", ")),t&&console.log("".concat(t,":"),a.current,y.current),a.current}var kk=null,jk=null,lw=F(36040),fD=s.createContext({renderWithProps:!1}),xI=fD,hD="RC_TABLE_KEY";function pD(e){return e==null?[]:Array.isArray(e)?e:[e]}function jx(e){var t=[],a={};return e.forEach(function(o){for(var f=o||{},y=f.key,C=f.dataIndex,w=y||pD(C).join("-")||hD;a[w];)w="".concat(w,"_next");a[w]=!0,t.push(w)}),t}function cw(e){return e!=null}function mD(e){return typeof e=="number"&&!Number.isNaN(e)}function gD(e){return e&&(0,et.Z)(e)==="object"&&!Array.isArray(e)&&!s.isValidElement(e)}function vD(e,t,a,o,f,y){var C=s.useContext(xI),w=uD(),I=(0,rl.Z)(function(){if(cw(o))return[o];var D=t==null||t===""?[]:Array.isArray(t)?t:[t],L=(0,lw.Z)(e,D),z=L,k=void 0;if(f){var Z=f(L,e,a);gD(Z)?(z=Z.children,k=Z.props,C.renderWithProps=!0):z=Z}return[z,k]},[w,e,o,t,f,a],function(D,L){if(y){var z=(0,Re.Z)(D,2),k=z[1],Z=(0,Re.Z)(L,2),j=Z[1];return y(j,k)}return C.renderWithProps?!0:!(0,Ol.Z)(D,L,!0)});return I}function yD(e,t,a,o){var f=e+t-1;return e<=o&&f>=a}function _D(e,t){return tu(Iu,function(a){var o=yD(e,t||1,a.hoverStartRow,a.hoverEndRow);return[o,a.onHover]})}var bD=function(t){var a=t.ellipsis,o=t.rowType,f=t.children,y,C=a===!0?{showTitle:!0}:a;return C&&(C.showTitle||o==="header")&&(typeof f=="string"||typeof f=="number"?y=f.toString():s.isValidElement(f)&&typeof f.props.children=="string"&&(y=f.props.children)),y};function xD(e){var t,a,o,f,y,C,w,I,D=e.component,L=e.children,z=e.ellipsis,k=e.scope,Z=e.prefixCls,j=e.className,G=e.align,H=e.record,X=e.render,ne=e.dataIndex,oe=e.renderIndex,ae=e.shouldCellUpdate,ie=e.index,le=e.rowType,fe=e.colSpan,me=e.rowSpan,ge=e.fixLeft,be=e.fixRight,Ie=e.firstFixLeft,Oe=e.lastFixLeft,Te=e.firstFixRight,Ve=e.lastFixRight,De=e.appendNode,Ue=e.additionalProps,ke=Ue===void 0?{}:Ue,st=e.isSticky,ct="".concat(Z,"-cell"),Et=tu(Iu,["supportSticky","allColumnsFixedLeft","rowHoverable"]),It=Et.supportSticky,Ct=Et.allColumnsFixedLeft,mt=Et.rowHoverable,bt=vD(H,ne,oe,L,X,ae),zt=(0,Re.Z)(bt,2),$t=zt[0],Ht=zt[1],Mt={},Cn=typeof ge=="number"&&It,Hn=typeof be=="number"&&It;Cn&&(Mt.position="sticky",Mt.left=ge),Hn&&(Mt.position="sticky",Mt.right=be);var pn=(t=(a=(o=Ht==null?void 0:Ht.colSpan)!==null&&o!==void 0?o:ke.colSpan)!==null&&a!==void 0?a:fe)!==null&&t!==void 0?t:1,Dn=(f=(y=(C=Ht==null?void 0:Ht.rowSpan)!==null&&C!==void 0?C:ke.rowSpan)!==null&&y!==void 0?y:me)!==null&&f!==void 0?f:1,Qt=_D(ie,Dn),Ft=(0,Re.Z)(Qt,2),kn=Ft[0],Pn=Ft[1],Dr=(0,$s.zX)(function(yi){var Di;H&&Pn(ie,ie+Dn-1),ke==null||(Di=ke.onMouseEnter)===null||Di===void 0||Di.call(ke,yi)}),br=(0,$s.zX)(function(yi){var Di;H&&Pn(-1,-1),ke==null||(Di=ke.onMouseLeave)===null||Di===void 0||Di.call(ke,yi)});if(pn===0||Dn===0)return null;var or=(w=ke.title)!==null&&w!==void 0?w:bD({rowType:le,ellipsis:z,children:$t}),ar=q()(ct,j,(I={},(0,pe.Z)((0,pe.Z)((0,pe.Z)((0,pe.Z)((0,pe.Z)((0,pe.Z)((0,pe.Z)((0,pe.Z)((0,pe.Z)((0,pe.Z)(I,"".concat(ct,"-fix-left"),Cn&&It),"".concat(ct,"-fix-left-first"),Ie&&It),"".concat(ct,"-fix-left-last"),Oe&&It),"".concat(ct,"-fix-left-all"),Oe&&Ct&&It),"".concat(ct,"-fix-right"),Hn&&It),"".concat(ct,"-fix-right-first"),Te&&It),"".concat(ct,"-fix-right-last"),Ve&&It),"".concat(ct,"-ellipsis"),z),"".concat(ct,"-with-append"),De),"".concat(ct,"-fix-sticky"),(Cn||Hn)&&st&&It),(0,pe.Z)(I,"".concat(ct,"-row-hover"),!Ht&&kn)),ke.className,Ht==null?void 0:Ht.className),Fn={};G&&(Fn.textAlign=G);var sr=(0,Y.Z)((0,Y.Z)((0,Y.Z)((0,Y.Z)({},Ht==null?void 0:Ht.style),Mt),Fn),ke.style),Gr=$t;return(0,et.Z)(Gr)==="object"&&!Array.isArray(Gr)&&!s.isValidElement(Gr)&&(Gr=null),z&&(Oe||Te)&&(Gr=s.createElement("span",{className:"".concat(ct,"-content")},Gr)),s.createElement(D,(0,We.Z)({},Ht,ke,{className:ar,style:sr,title:or,scope:k,onMouseEnter:mt?Dr:void 0,onMouseLeave:mt?br:void 0,colSpan:pn!==1?pn:null,rowSpan:Dn!==1?Dn:null}),De,Gr)}var _v=s.memo(xD);function uw(e,t,a,o,f){var y=a[e]||{},C=a[t]||{},w,I;y.fixed==="left"?w=o.left[f==="rtl"?t:e]:C.fixed==="right"&&(I=o.right[f==="rtl"?e:t]);var D=!1,L=!1,z=!1,k=!1,Z=a[t+1],j=a[e-1],G=Z&&!Z.fixed||j&&!j.fixed||a.every(function(ae){return ae.fixed==="left"});if(f==="rtl"){if(w!==void 0){var H=j&&j.fixed==="left";k=!H&&G}else if(I!==void 0){var X=Z&&Z.fixed==="right";z=!X&&G}}else if(w!==void 0){var ne=Z&&Z.fixed==="left";D=!ne&&G}else if(I!==void 0){var oe=j&&j.fixed==="right";L=!oe&&G}return{fixLeft:w,fixRight:I,lastFixLeft:D,firstFixRight:L,lastFixRight:z,firstFixLeft:k,isSticky:o.isSticky}}var CD=s.createContext({}),CI=CD;function SD(e){var t=e.className,a=e.index,o=e.children,f=e.colSpan,y=f===void 0?1:f,C=e.rowSpan,w=e.align,I=tu(Iu,["prefixCls","direction"]),D=I.prefixCls,L=I.direction,z=s.useContext(CI),k=z.scrollColumnIndex,Z=z.stickyOffsets,j=z.flattenColumns,G=a+y-1,H=G+1===k?y+1:y,X=uw(a,a+H-1,j,Z,L);return s.createElement(_v,(0,We.Z)({className:t,index:a,component:"td",prefixCls:D,record:null,dataIndex:null,align:w,colSpan:H,rowSpan:C,render:function(){return o}},X))}var wD=["children"];function ED(e){var t=e.children,a=(0,de.Z)(e,wD);return s.createElement("tr",a,t)}function dw(e){var t=e.children;return t}dw.Row=ED,dw.Cell=SD;var SI=dw;function ID(e){var t=e.children,a=e.stickyOffsets,o=e.flattenColumns,f=tu(Iu,"prefixCls"),y=o.length-1,C=o[y],w=s.useMemo(function(){return{stickyOffsets:a,flattenColumns:o,scrollColumnIndex:C!=null&&C.scrollbar?y:null}},[C,o,y,a]);return s.createElement(CI.Provider,{value:w},s.createElement("tfoot",{className:"".concat(f,"-summary")},t))}var Zx=yv(ID),wI=SI,EI=function(t){if((0,cc.Z)()&&window.document.documentElement){var a=Array.isArray(t)?t:[t],o=window.document.documentElement;return a.some(function(f){return f in o.style})}return!1},TD=function(t,a){if(!EI(t))return!1;var o=document.createElement("div"),f=o.style[t];return o.style[t]=a,o.style[t]!==f};function fw(e,t){return!Array.isArray(e)&&t!==void 0?TD(e,t):EI(e)}var Vx=F(90242);function II(e,t,a,o,f,y,C){e.push({record:t,indent:a,index:C});var w=y(t),I=f==null?void 0:f.has(w);if(t&&Array.isArray(t[o])&&I)for(var D=0;D<t[o].length;D+=1)II(e,t[o][D],a+1,o,f,y,D)}function TI(e,t,a,o){var f=s.useMemo(function(){if(a!=null&&a.size){for(var y=[],C=0;C<(e==null?void 0:e.length);C+=1){var w=e[C];II(y,w,0,t,a,o,C)}return y}return e==null?void 0:e.map(function(I,D){return{record:I,indent:0,index:D}})},[e,t,a,o]);return f}function MI(e,t,a,o){var f=tu(Iu,["prefixCls","fixedInfoList","flattenColumns","expandableType","expandRowByClick","onTriggerExpand","rowClassName","expandedRowClassName","indentSize","expandIcon","expandedRowRender","expandIconColumnIndex","expandedKeys","childrenColumnName","rowExpandable","onRow"]),y=f.flattenColumns,C=f.expandableType,w=f.expandedKeys,I=f.childrenColumnName,D=f.onTriggerExpand,L=f.rowExpandable,z=f.onRow,k=f.expandRowByClick,Z=f.rowClassName,j=C==="nest",G=C==="row"&&(!L||L(e)),H=G||j,X=w&&w.has(t),ne=I&&e&&e[I],oe=(0,$s.zX)(D),ae=z==null?void 0:z(e,a),ie=ae==null?void 0:ae.onClick,le=function(be){k&&H&&D(e,be);for(var Ie=arguments.length,Oe=new Array(Ie>1?Ie-1:0),Te=1;Te<Ie;Te++)Oe[Te-1]=arguments[Te];ie==null||ie.apply(void 0,[be].concat(Oe))},fe;typeof Z=="string"?fe=Z:typeof Z=="function"&&(fe=Z(e,a,o));var me=jx(y);return(0,Y.Z)((0,Y.Z)({},f),{},{columnsKey:me,nestExpandable:j,expanded:X,hasNestChildren:ne,record:e,onTriggerExpand:oe,rowSupportExpand:G,expandable:H,rowProps:(0,Y.Z)((0,Y.Z)({},ae),{},{className:q()(fe,ae==null?void 0:ae.className),onClick:le})})}function MD(e){var t=e.prefixCls,a=e.children,o=e.component,f=e.cellComponent,y=e.className,C=e.expanded,w=e.colSpan,I=e.isEmpty,D=tu(Iu,["scrollbarSize","fixHeader","fixColumn","componentWidth","horizonScroll"]),L=D.scrollbarSize,z=D.fixHeader,k=D.fixColumn,Z=D.componentWidth,j=D.horizonScroll,G=a;return(I?j&&Z:k)&&(G=s.createElement("div",{style:{width:Z-(z&&!I?L:0),position:"sticky",left:0,overflow:"hidden"},className:"".concat(t,"-expanded-row-fixed")},G)),s.createElement(o,{className:y,style:{display:C?null:"none"}},s.createElement(_v,{component:f,prefixCls:t,colSpan:w},G))}var PI=MD;function PD(e){var t=e.prefixCls,a=e.record,o=e.onExpand,f=e.expanded,y=e.expandable,C="".concat(t,"-row-expand-icon");if(!y)return s.createElement("span",{className:q()(C,"".concat(t,"-row-spaced"))});var w=function(D){o(a,D),D.stopPropagation()};return s.createElement("span",{className:q()(C,(0,pe.Z)((0,pe.Z)({},"".concat(t,"-row-expanded"),f),"".concat(t,"-row-collapsed"),!f)),onClick:w})}function OD(e,t,a){var o=[];function f(y){(y||[]).forEach(function(C,w){o.push(t(C,w)),f(C[a])})}return f(e),o}function OI(e,t,a,o){return typeof e=="string"?e:typeof e=="function"?e(t,a,o):""}function RI(e,t,a,o,f){var y=e.record,C=e.prefixCls,w=e.columnsKey,I=e.fixedInfoList,D=e.expandIconColumnIndex,L=e.nestExpandable,z=e.indentSize,k=e.expandIcon,Z=e.expanded,j=e.hasNestChildren,G=e.onTriggerExpand,H=w[a],X=I[a],ne;a===(D||0)&&L&&(ne=s.createElement(s.Fragment,null,s.createElement("span",{style:{paddingLeft:"".concat(z*o,"px")},className:"".concat(C,"-row-indent indent-level-").concat(o)}),k({prefixCls:C,expanded:Z,expandable:j,record:y,onExpand:G})));var oe;return t.onCell&&(oe=t.onCell(y,f)),{key:H,fixedInfo:X,appendCellNode:ne,additionalCellProps:oe||{}}}function RD(e){var t=e.className,a=e.style,o=e.record,f=e.index,y=e.renderIndex,C=e.rowKey,w=e.indent,I=w===void 0?0:w,D=e.rowComponent,L=e.cellComponent,z=e.scopeCellComponent,k=MI(o,C,f,I),Z=k.prefixCls,j=k.flattenColumns,G=k.expandedRowClassName,H=k.expandedRowRender,X=k.rowProps,ne=k.expanded,oe=k.rowSupportExpand,ae=s.useRef(!1);ae.current||(ae.current=ne);var ie=OI(G,o,f,I),le=s.createElement(D,(0,We.Z)({},X,{"data-row-key":C,className:q()(t,"".concat(Z,"-row"),"".concat(Z,"-row-level-").concat(I),X==null?void 0:X.className,(0,pe.Z)({},ie,I>=1)),style:(0,Y.Z)((0,Y.Z)({},a),X==null?void 0:X.style)}),j.map(function(ge,be){var Ie=ge.render,Oe=ge.dataIndex,Te=ge.className,Ve=RI(k,ge,be,I,f),De=Ve.key,Ue=Ve.fixedInfo,ke=Ve.appendCellNode,st=Ve.additionalCellProps;return s.createElement(_v,(0,We.Z)({className:Te,ellipsis:ge.ellipsis,align:ge.align,scope:ge.rowScope,component:ge.rowScope?z:L,prefixCls:Z,key:De,record:o,index:f,renderIndex:y,dataIndex:Oe,render:Ie,shouldCellUpdate:ge.shouldCellUpdate},Ue,{appendNode:ke,additionalProps:st}))})),fe;if(oe&&(ae.current||ne)){var me=H(o,f,I+1,ne);fe=s.createElement(PI,{expanded:ne,className:q()("".concat(Z,"-expanded-row"),"".concat(Z,"-expanded-row-level-").concat(I+1),ie),prefixCls:Z,component:D,cellComponent:L,colSpan:j.length,isEmpty:!1},me)}return s.createElement(s.Fragment,null,le,fe)}var $D=yv(RD);function AD(e){var t=e.columnKey,a=e.onColumnResize,o=s.useRef();return s.useEffect(function(){o.current&&a(t,o.current.offsetWidth)},[]),s.createElement(c.Z,{data:t},s.createElement("td",{ref:o,style:{padding:0,border:0,height:0}},s.createElement("div",{style:{height:0,overflow:"hidden"}},"\xA0")))}function DD(e){var t=e.prefixCls,a=e.columnsKey,o=e.onColumnResize;return s.createElement("tr",{"aria-hidden":"true",className:"".concat(t,"-measure-row"),style:{height:0,fontSize:0}},s.createElement(c.Z.Collection,{onBatchResize:function(y){y.forEach(function(C){var w=C.data,I=C.size;o(w,I.offsetWidth)})}},a.map(function(f){return s.createElement(AD,{key:f,columnKey:f,onColumnResize:o})})))}function LD(e){var t=e.data,a=e.measureColumnWidth,o=tu(Iu,["prefixCls","getComponent","onColumnResize","flattenColumns","getRowKey","expandedKeys","childrenColumnName","emptyNode"]),f=o.prefixCls,y=o.getComponent,C=o.onColumnResize,w=o.flattenColumns,I=o.getRowKey,D=o.expandedKeys,L=o.childrenColumnName,z=o.emptyNode,k=TI(t,L,D,I),Z=s.useRef({renderWithProps:!1}),j=y(["body","wrapper"],"tbody"),G=y(["body","row"],"tr"),H=y(["body","cell"],"td"),X=y(["body","cell"],"th"),ne;t.length?ne=k.map(function(ae,ie){var le=ae.record,fe=ae.indent,me=ae.index,ge=I(le,ie);return s.createElement($D,{key:ge,rowKey:ge,record:le,index:ie,renderIndex:me,rowComponent:G,cellComponent:H,scopeCellComponent:X,indent:fe})}):ne=s.createElement(PI,{expanded:!0,className:"".concat(f,"-placeholder"),prefixCls:f,component:G,cellComponent:H,colSpan:w.length,isEmpty:!0},z);var oe=jx(w);return s.createElement(xI.Provider,{value:Z.current},s.createElement(j,{className:"".concat(f,"-tbody")},a&&s.createElement(DD,{prefixCls:f,columnsKey:oe,onColumnResize:C}),ne))}var zD=yv(LD),ND=["expandable"],L_="RC_TABLE_INTERNAL_COL_DEFINE";function BD(e){var t=e.expandable,a=(0,de.Z)(e,ND),o;return"expandable"in e?o=(0,Y.Z)((0,Y.Z)({},a),t):o=a,o.showExpandColumn===!1&&(o.expandIconColumnIndex=-1),o}var FD=["columnType"];function kD(e){for(var t=e.colWidths,a=e.columns,o=e.columCount,f=tu(Iu,["tableLayout"]),y=f.tableLayout,C=[],w=o||a.length,I=!1,D=w-1;D>=0;D-=1){var L=t[D],z=a&&a[D],k=void 0,Z=void 0;if(z&&(k=z[L_],y==="auto"&&(Z=z.minWidth)),L||Z||k||I){var j=k||{},G=j.columnType,H=(0,de.Z)(j,FD);C.unshift(s.createElement("col",(0,We.Z)({key:D,style:{width:L,minWidth:Z}},H))),I=!0}}return s.createElement("colgroup",null,C)}var $I=kD,jD=["className","noData","columns","flattenColumns","colWidths","columCount","stickyOffsets","direction","fixHeader","stickyTopOffset","stickyBottomOffset","stickyClassName","onScroll","maxContentScroll","children"];function ZD(e,t){return(0,s.useMemo)(function(){for(var a=[],o=0;o<t;o+=1){var f=e[o];if(f!==void 0)a[o]=f;else return null}return a},[e.join("_"),t])}var VD=s.forwardRef(function(e,t){var a=e.className,o=e.noData,f=e.columns,y=e.flattenColumns,C=e.colWidths,w=e.columCount,I=e.stickyOffsets,D=e.direction,L=e.fixHeader,z=e.stickyTopOffset,k=e.stickyBottomOffset,Z=e.stickyClassName,j=e.onScroll,G=e.maxContentScroll,H=e.children,X=(0,de.Z)(e,jD),ne=tu(Iu,["prefixCls","scrollbarSize","isSticky","getComponent"]),oe=ne.prefixCls,ae=ne.scrollbarSize,ie=ne.isSticky,le=ne.getComponent,fe=le(["header","table"],"table"),me=ie&&!L?0:ae,ge=s.useRef(null),be=s.useCallback(function(st){(0,Yt.mH)(t,st),(0,Yt.mH)(ge,st)},[]);s.useEffect(function(){var st;function ct(Et){var It=Et,Ct=It.currentTarget,mt=It.deltaX;mt&&(j({currentTarget:Ct,scrollLeft:Ct.scrollLeft+mt}),Et.preventDefault())}return(st=ge.current)===null||st===void 0||st.addEventListener("wheel",ct,{passive:!1}),function(){var Et;(Et=ge.current)===null||Et===void 0||Et.removeEventListener("wheel",ct)}},[]);var Ie=s.useMemo(function(){return y.every(function(st){return st.width})},[y]),Oe=y[y.length-1],Te={fixed:Oe?Oe.fixed:null,scrollbar:!0,onHeaderCell:function(){return{className:"".concat(oe,"-cell-scrollbar")}}},Ve=(0,s.useMemo)(function(){return me?[].concat((0,xe.Z)(f),[Te]):f},[me,f]),De=(0,s.useMemo)(function(){return me?[].concat((0,xe.Z)(y),[Te]):y},[me,y]),Ue=(0,s.useMemo)(function(){var st=I.right,ct=I.left;return(0,Y.Z)((0,Y.Z)({},I),{},{left:D==="rtl"?[].concat((0,xe.Z)(ct.map(function(Et){return Et+me})),[0]):ct,right:D==="rtl"?st:[].concat((0,xe.Z)(st.map(function(Et){return Et+me})),[0]),isSticky:ie})},[me,I,ie]),ke=ZD(C,w);return s.createElement("div",{style:(0,Y.Z)({overflow:"hidden"},ie?{top:z,bottom:k}:{}),ref:be,className:q()(a,(0,pe.Z)({},Z,!!Z))},s.createElement(fe,{style:{tableLayout:"fixed",visibility:o||ke?null:"hidden"}},(!o||!G||Ie)&&s.createElement($I,{colWidths:ke?[].concat((0,xe.Z)(ke),[me]):[],columCount:w+1,columns:De}),H((0,Y.Z)((0,Y.Z)({},X),{},{stickyOffsets:Ue,columns:Ve,flattenColumns:De}))))}),AI=s.memo(VD),HD=function(t){var a=t.cells,o=t.stickyOffsets,f=t.flattenColumns,y=t.rowComponent,C=t.cellComponent,w=t.onHeaderRow,I=t.index,D=tu(Iu,["prefixCls","direction"]),L=D.prefixCls,z=D.direction,k;w&&(k=w(a.map(function(j){return j.column}),I));var Z=jx(a.map(function(j){return j.column}));return s.createElement(y,k,a.map(function(j,G){var H=j.column,X=uw(j.colStart,j.colEnd,f,o,z),ne;return H&&H.onHeaderCell&&(ne=j.column.onHeaderCell(H)),s.createElement(_v,(0,We.Z)({},j,{scope:H.title?j.colSpan>1?"colgroup":"col":null,ellipsis:H.ellipsis,align:H.align,component:C,prefixCls:L,key:Z[G]},X,{additionalProps:ne,rowType:"header"}))}))},UD=HD;function WD(e){var t=[];function a(C,w){var I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;t[I]=t[I]||[];var D=w,L=C.filter(Boolean).map(function(z){var k={key:z.key,className:z.className||"",children:z.title,column:z,colStart:D},Z=1,j=z.children;return j&&j.length>0&&(Z=a(j,D,I+1).reduce(function(G,H){return G+H},0),k.hasSubColumns=!0),"colSpan"in z&&(Z=z.colSpan),"rowSpan"in z&&(k.rowSpan=z.rowSpan),k.colSpan=Z,k.colEnd=k.colStart+Z-1,t[I].push(k),D+=Z,Z});return L}a(e,0);for(var o=t.length,f=function(w){t[w].forEach(function(I){!("rowSpan"in I)&&!I.hasSubColumns&&(I.rowSpan=o-w)})},y=0;y<o;y+=1)f(y);return t}var GD=function(t){var a=t.stickyOffsets,o=t.columns,f=t.flattenColumns,y=t.onHeaderRow,C=tu(Iu,["prefixCls","getComponent"]),w=C.prefixCls,I=C.getComponent,D=s.useMemo(function(){return WD(o)},[o]),L=I(["header","wrapper"],"thead"),z=I(["header","row"],"tr"),k=I(["header","cell"],"th");return s.createElement(L,{className:"".concat(w,"-thead")},D.map(function(Z,j){var G=s.createElement(UD,{key:j,flattenColumns:f,cells:Z,stickyOffsets:a,rowComponent:z,cellComponent:k,onHeaderRow:y,index:j});return G}))},DI=yv(GD);function LI(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return typeof t=="number"?t:t.endsWith("%")?e*parseFloat(t)/100:null}function KD(e,t,a){return s.useMemo(function(){if(t&&t>0){var o=0,f=0;e.forEach(function(k){var Z=LI(t,k.width);Z?o+=Z:f+=1});var y=Math.max(t,a),C=Math.max(y-o,f),w=f,I=C/f,D=0,L=e.map(function(k){var Z=(0,Y.Z)({},k),j=LI(t,Z.width);if(j)Z.width=j;else{var G=Math.floor(I);Z.width=w===1?C:G,C-=G,w-=1}return D+=Z.width,Z});if(D<y){var z=y/D;C=y,L.forEach(function(k,Z){var j=Math.floor(k.width*z);k.width=Z===L.length-1?C:j,C-=j})}return[L,Math.max(D,y)]}return[e,t]},[e,t,a])}var XD=["children"],YD=["fixed"];function hw(e){return(0,Wl.Z)(e).filter(function(t){return s.isValidElement(t)}).map(function(t){var a=t.key,o=t.props,f=o.children,y=(0,de.Z)(o,XD),C=(0,Y.Z)({key:a},y);return f&&(C.children=hw(f)),C})}function zI(e){return e.filter(function(t){return t&&(0,et.Z)(t)==="object"&&!t.hidden}).map(function(t){var a=t.children;return a&&a.length>0?(0,Y.Z)((0,Y.Z)({},t),{},{children:zI(a)}):t})}function pw(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"key";return e.filter(function(a){return a&&(0,et.Z)(a)==="object"}).reduce(function(a,o,f){var y=o.fixed,C=y===!0?"left":y,w="".concat(t,"-").concat(f),I=o.children;return I&&I.length>0?[].concat((0,xe.Z)(a),(0,xe.Z)(pw(I,w).map(function(D){return(0,Y.Z)({fixed:C},D)}))):[].concat((0,xe.Z)(a),[(0,Y.Z)((0,Y.Z)({key:w},o),{},{fixed:C})])},[])}function qD(e){return e.map(function(t){var a=t.fixed,o=(0,de.Z)(t,YD),f=a;return a==="left"?f="right":a==="right"&&(f="left"),(0,Y.Z)({fixed:f},o)})}function JD(e,t){var a=e.prefixCls,o=e.columns,f=e.children,y=e.expandable,C=e.expandedKeys,w=e.columnTitle,I=e.getRowKey,D=e.onTriggerExpand,L=e.expandIcon,z=e.rowExpandable,k=e.expandIconColumnIndex,Z=e.direction,j=e.expandRowByClick,G=e.columnWidth,H=e.fixed,X=e.scrollWidth,ne=e.clientWidth,oe=s.useMemo(function(){var Oe=o||hw(f)||[];return zI(Oe.slice())},[o,f]),ae=s.useMemo(function(){if(y){var Oe=oe.slice();if(!Oe.includes(Wh)){var Te=k||0;Te>=0&&(Te||H==="left"||!H)&&Oe.splice(Te,0,Wh),H==="right"&&Oe.splice(oe.length,0,Wh)}var Ve=Oe.indexOf(Wh);Oe=Oe.filter(function(st,ct){return st!==Wh||ct===Ve});var De=oe[Ve],Ue;H?Ue=H:Ue=De?De.fixed:null;var ke=(0,pe.Z)((0,pe.Z)((0,pe.Z)((0,pe.Z)((0,pe.Z)((0,pe.Z)({},L_,{className:"".concat(a,"-expand-icon-col"),columnType:"EXPAND_COLUMN"}),"title",w),"fixed",Ue),"className","".concat(a,"-row-expand-icon-cell")),"width",G),"render",function(ct,Et,It){var Ct=I(Et,It),mt=C.has(Ct),bt=z?z(Et):!0,zt=L({prefixCls:a,expanded:mt,expandable:bt,record:Et,onExpand:D});return j?s.createElement("span",{onClick:function(Ht){return Ht.stopPropagation()}},zt):zt});return Oe.map(function(st){return st===Wh?ke:st})}return oe.filter(function(st){return st!==Wh})},[y,oe,I,C,L,Z]),ie=s.useMemo(function(){var Oe=ae;return t&&(Oe=t(Oe)),Oe.length||(Oe=[{render:function(){return null}}]),Oe},[t,ae,Z]),le=s.useMemo(function(){return Z==="rtl"?qD(pw(ie)):pw(ie)},[ie,Z,X]),fe=s.useMemo(function(){for(var Oe=-1,Te=le.length-1;Te>=0;Te-=1){var Ve=le[Te].fixed;if(Ve==="left"||Ve===!0){Oe=Te;break}}if(Oe>=0)for(var De=0;De<=Oe;De+=1){var Ue=le[De].fixed;if(Ue!=="left"&&Ue!==!0)return!0}var ke=le.findIndex(function(Et){var It=Et.fixed;return It==="right"});if(ke>=0)for(var st=ke;st<le.length;st+=1){var ct=le[st].fixed;if(ct!=="right")return!0}return!1},[le]),me=KD(le,X,ne),ge=(0,Re.Z)(me,2),be=ge[0],Ie=ge[1];return[ie,be,Ie,fe]}var QD=JD;function e5(e,t,a){var o=BD(e),f=o.expandIcon,y=o.expandedRowKeys,C=o.defaultExpandedRowKeys,w=o.defaultExpandAllRows,I=o.expandedRowRender,D=o.onExpand,L=o.onExpandedRowsChange,z=o.childrenColumnName,k=f||PD,Z=z||"children",j=s.useMemo(function(){return I?"row":e.expandable&&e.internalHooks===D_&&e.expandable.__PARENT_RENDER_ICON__||t.some(function(ie){return ie&&(0,et.Z)(ie)==="object"&&ie[Z]})?"nest":!1},[!!I,t]),G=s.useState(function(){return C||(w?OD(t,a,Z):[])}),H=(0,Re.Z)(G,2),X=H[0],ne=H[1],oe=s.useMemo(function(){return new Set(y||X||[])},[y,X]),ae=s.useCallback(function(ie){var le=a(ie,t.indexOf(ie)),fe,me=oe.has(le);me?(oe.delete(le),fe=(0,xe.Z)(oe)):fe=[].concat((0,xe.Z)(oe),[le]),ne(fe),D&&D(!me,ie),L&&L(fe)},[a,oe,t,D,L]);return[o,j,oe,k,Z,ae]}function t5(e,t,a){var o=e.map(function(f,y){return uw(y,y,e,t,a)});return(0,rl.Z)(function(){return o},[o],function(f,y){return!(0,Ol.Z)(f,y)})}function NI(e){var t=(0,s.useRef)(e),a=(0,s.useState)({}),o=(0,Re.Z)(a,2),f=o[1],y=(0,s.useRef)(null),C=(0,s.useRef)([]);function w(I){C.current.push(I);var D=Promise.resolve();y.current=D,D.then(function(){if(y.current===D){var L=C.current,z=t.current;C.current=[],L.forEach(function(k){t.current=k(t.current)}),y.current=null,z!==t.current&&f({})}})}return(0,s.useEffect)(function(){return function(){y.current=null}},[]),[t.current,w]}function n5(e){var t=(0,s.useRef)(e||null),a=(0,s.useRef)();function o(){window.clearTimeout(a.current)}function f(C){t.current=C,o(),a.current=window.setTimeout(function(){t.current=null,a.current=void 0},100)}function y(){return t.current}return(0,s.useEffect)(function(){return o},[]),[f,y]}function r5(){var e=s.useState(-1),t=(0,Re.Z)(e,2),a=t[0],o=t[1],f=s.useState(-1),y=(0,Re.Z)(f,2),C=y[0],w=y[1],I=s.useCallback(function(D,L){o(D),w(L)},[]);return[a,C,I]}var BI=(0,cc.Z)()?window:null;function i5(e,t){var a=(0,et.Z)(e)==="object"?e:{},o=a.offsetHeader,f=o===void 0?0:o,y=a.offsetSummary,C=y===void 0?0:y,w=a.offsetScroll,I=w===void 0?0:w,D=a.getContainer,L=D===void 0?function(){return BI}:D,z=L()||BI,k=!!e;return s.useMemo(function(){return{isSticky:k,stickyClassName:k?"".concat(t,"-sticky-holder"):"",offsetHeader:f,offsetSummary:C,offsetScroll:I,container:z}},[k,I,f,C,t,z])}function o5(e,t,a){var o=(0,s.useMemo)(function(){var f=t.length,y=function(D,L,z){for(var k=[],Z=0,j=D;j!==L;j+=z)k.push(Z),t[j].fixed&&(Z+=e[j]||0);return k},C=y(0,f,1),w=y(f-1,-1,-1).reverse();return a==="rtl"?{left:w,right:C}:{left:C,right:w}},[e,t,a]);return o}var a5=o5;function s5(e){var t=e.className,a=e.children;return s.createElement("div",{className:t},a)}var FI=s5,kI=F(4525);function jI(e){var t=(0,kI.bn)(e),a=t.getBoundingClientRect(),o=document.documentElement;return{left:a.left+(window.pageXOffset||o.scrollLeft)-(o.clientLeft||document.body.clientLeft||0),top:a.top+(window.pageYOffset||o.scrollTop)-(o.clientTop||document.body.clientTop||0)}}var l5=function(t,a){var o,f,y=t.scrollBodyRef,C=t.onScroll,w=t.offsetScroll,I=t.container,D=t.direction,L=tu(Iu,"prefixCls"),z=((o=y.current)===null||o===void 0?void 0:o.scrollWidth)||0,k=((f=y.current)===null||f===void 0?void 0:f.clientWidth)||0,Z=z&&k*(k/z),j=s.useRef(),G=NI({scrollLeft:0,isHiddenScrollBar:!0}),H=(0,Re.Z)(G,2),X=H[0],ne=H[1],oe=s.useRef({delta:0,x:0}),ae=s.useState(!1),ie=(0,Re.Z)(ae,2),le=ie[0],fe=ie[1],me=s.useRef(null);s.useEffect(function(){return function(){Ge.Z.cancel(me.current)}},[]);var ge=function(){fe(!1)},be=function(De){De.persist(),oe.current.delta=De.pageX-X.scrollLeft,oe.current.x=0,fe(!0),De.preventDefault()},Ie=function(De){var Ue,ke=De||((Ue=window)===null||Ue===void 0?void 0:Ue.event),st=ke.buttons;if(!le||st===0){le&&fe(!1);return}var ct=oe.current.x+De.pageX-oe.current.x-oe.current.delta,Et=D==="rtl";ct=Math.max(Et?Z-k:0,Math.min(Et?0:k-Z,ct));var It=!Et||Math.abs(ct)+Math.abs(Z)<k;It&&(C({scrollLeft:ct/k*(z+2)}),oe.current.x=De.pageX)},Oe=function(){Ge.Z.cancel(me.current),me.current=(0,Ge.Z)(function(){if(y.current){var De=jI(y.current).top,Ue=De+y.current.offsetHeight,ke=I===window?document.documentElement.scrollTop+window.innerHeight:jI(I).top+I.clientHeight;Ue-(0,Vx.Z)()<=ke||De>=ke-w?ne(function(st){return(0,Y.Z)((0,Y.Z)({},st),{},{isHiddenScrollBar:!0})}):ne(function(st){return(0,Y.Z)((0,Y.Z)({},st),{},{isHiddenScrollBar:!1})})}})},Te=function(De){ne(function(Ue){return(0,Y.Z)((0,Y.Z)({},Ue),{},{scrollLeft:De/z*k||0})})};return s.useImperativeHandle(a,function(){return{setScrollLeft:Te,checkScrollBarVisible:Oe}}),s.useEffect(function(){var Ve=Jp(document.body,"mouseup",ge,!1),De=Jp(document.body,"mousemove",Ie,!1);return Oe(),function(){Ve.remove(),De.remove()}},[Z,le]),s.useEffect(function(){if(y.current){for(var Ve=[],De=y.current;De;)Ve.push(De),De=De.parentElement;return Ve.forEach(function(Ue){return Ue.addEventListener("scroll",Oe,!1)}),window.addEventListener("resize",Oe,!1),window.addEventListener("scroll",Oe,!1),I.addEventListener("scroll",Oe,!1),function(){Ve.forEach(function(Ue){return Ue.removeEventListener("scroll",Oe)}),window.removeEventListener("resize",Oe),window.removeEventListener("scroll",Oe),I.removeEventListener("scroll",Oe)}}},[I]),s.useEffect(function(){X.isHiddenScrollBar||ne(function(Ve){var De=y.current;return De?(0,Y.Z)((0,Y.Z)({},Ve),{},{scrollLeft:De.scrollLeft/De.scrollWidth*De.clientWidth}):Ve})},[X.isHiddenScrollBar]),z<=k||!Z||X.isHiddenScrollBar?null:s.createElement("div",{style:{height:(0,Vx.Z)(),width:k,bottom:w},className:"".concat(L,"-sticky-scroll")},s.createElement("div",{onMouseDown:be,ref:j,className:q()("".concat(L,"-sticky-scroll-bar"),(0,pe.Z)({},"".concat(L,"-sticky-scroll-bar-active"),le)),style:{width:"".concat(Z,"px"),transform:"translate3d(".concat(X.scrollLeft,"px, 0, 0)")}}))},c5=s.forwardRef(l5);function u5(e){return null}var d5=u5;function f5(e){return null}var h5=f5,ZI="rc-table",p5=[],m5={};function g5(){return"No Data"}function v5(e,t){var a=(0,Y.Z)({rowKey:"key",prefixCls:ZI,emptyText:g5},e),o=a.prefixCls,f=a.className,y=a.rowClassName,C=a.style,w=a.data,I=a.rowKey,D=a.scroll,L=a.tableLayout,z=a.direction,k=a.title,Z=a.footer,j=a.summary,G=a.caption,H=a.id,X=a.showHeader,ne=a.components,oe=a.emptyText,ae=a.onRow,ie=a.onHeaderRow,le=a.onScroll,fe=a.internalHooks,me=a.transformColumns,ge=a.internalRefs,be=a.tailor,Ie=a.getContainerWidth,Oe=a.sticky,Te=a.rowHoverable,Ve=Te===void 0?!0:Te,De=w||p5,Ue=!!De.length,ke=fe===D_,st=s.useCallback(function(ws,fa){return(0,lw.Z)(ne,ws)||fa},[ne]),ct=s.useMemo(function(){return typeof I=="function"?I:function(ws){var fa=ws&&ws[I];return fa}},[I]),Et=st(["body"]),It=r5(),Ct=(0,Re.Z)(It,3),mt=Ct[0],bt=Ct[1],zt=Ct[2],$t=e5(a,De,ct),Ht=(0,Re.Z)($t,6),Mt=Ht[0],Cn=Ht[1],Hn=Ht[2],pn=Ht[3],Dn=Ht[4],Qt=Ht[5],Ft=D==null?void 0:D.x,kn=s.useState(0),Pn=(0,Re.Z)(kn,2),Dr=Pn[0],br=Pn[1],or=QD((0,Y.Z)((0,Y.Z)((0,Y.Z)({},a),Mt),{},{expandable:!!Mt.expandedRowRender,columnTitle:Mt.columnTitle,expandedKeys:Hn,getRowKey:ct,onTriggerExpand:Qt,expandIcon:pn,expandIconColumnIndex:Mt.expandIconColumnIndex,direction:z,scrollWidth:ke&&be&&typeof Ft=="number"?Ft:null,clientWidth:Dr}),ke?me:null),ar=(0,Re.Z)(or,4),Fn=ar[0],sr=ar[1],Gr=ar[2],yi=ar[3],Di=Gr!=null?Gr:Ft,Ui=s.useMemo(function(){return{columns:Fn,flattenColumns:sr}},[Fn,sr]),$o=s.useRef(),Ri=s.useRef(),mi=s.useRef(),Pi=s.useRef();s.useImperativeHandle(t,function(){return{nativeElement:$o.current,scrollTo:function(fa){var Na;if(mi.current instanceof HTMLElement){var fs=fa.index,Ls=fa.top,hc=fa.key;if(mD(Ls)){var qh;(qh=mi.current)===null||qh===void 0||qh.scrollTo({top:Ls})}else{var jg,j_=hc!=null?hc:ct(De[fs]);(jg=mi.current.querySelector('[data-row-key="'.concat(j_,'"]')))===null||jg===void 0||jg.scrollIntoView()}}else(Na=mi.current)!==null&&Na!==void 0&&Na.scrollTo&&mi.current.scrollTo(fa)}}});var ao=s.useRef(),ki=s.useState(!1),Ao=(0,Re.Z)(ki,2),Cr=Ao[0],ur=Ao[1],Tr=s.useState(!1),qn=(0,Re.Z)(Tr,2),pi=qn[0],ji=qn[1],go=NI(new Map),ra=(0,Re.Z)(go,2),Aa=ra[0],oa=ra[1],Cs=jx(sr),Za=Cs.map(function(ws){return Aa.get(ws)}),Ga=s.useMemo(function(){return Za},[Za.join("_")]),va=a5(Ga,sr,z),ts=D&&cw(D.y),As=D&&cw(Di)||!!Mt.fixed,Ro=As&&sr.some(function(ws){var fa=ws.fixed;return fa}),ta=s.useRef(),$a=i5(Oe,o),Ka=$a.isSticky,ss=$a.offsetHeader,ll=$a.offsetSummary,Rl=$a.offsetScroll,yl=$a.stickyClassName,Xl=$a.container,ga=s.useMemo(function(){return j==null?void 0:j(De)},[j,De]),qo=(ts||Ka)&&s.isValidElement(ga)&&ga.type===SI&&ga.props.fixed,Jo,Vo,ls;ts&&(Vo={overflowY:Ue?"scroll":"auto",maxHeight:D.y}),As&&(Jo={overflowX:"auto"},ts||(Vo={overflowY:"hidden"}),ls={width:Di===!0?"auto":Di,minWidth:"100%"});var Ds=s.useCallback(function(ws,fa){(0,yy.Z)($o.current)&&oa(function(Na){if(Na.get(ws)!==fa){var fs=new Map(Na);return fs.set(ws,fa),fs}return Na})},[]),ka=n5(null),Ca=(0,Re.Z)(ka,2),gs=Ca[0],vs=Ca[1];function Ys(ws,fa){fa&&(typeof fa=="function"?fa(ws):fa.scrollLeft!==ws&&(fa.scrollLeft=ws,fa.scrollLeft!==ws&&setTimeout(function(){fa.scrollLeft=ws},0)))}var _a=(0,yr.Z)(function(ws){var fa=ws.currentTarget,Na=ws.scrollLeft,fs=z==="rtl",Ls=typeof Na=="number"?Na:fa.scrollLeft,hc=fa||m5;if(!vs()||vs()===hc){var qh;gs(hc),Ys(Ls,Ri.current),Ys(Ls,mi.current),Ys(Ls,ao.current),Ys(Ls,(qh=ta.current)===null||qh===void 0?void 0:qh.setScrollLeft)}var jg=fa||Ri.current;if(jg){var j_=ke&&be&&typeof Di=="number"?Di:jg.scrollWidth,r2=jg.clientWidth;if(j_===r2){ur(!1),ji(!1);return}fs?(ur(-Ls<j_-r2),ji(-Ls>0)):(ur(Ls>0),ji(Ls<j_-r2))}}),Ho=(0,yr.Z)(function(ws){_a(ws),le==null||le(ws)}),Da=function(){if(As&&mi.current){var fa;_a({currentTarget:(0,kI.bn)(mi.current),scrollLeft:(fa=mi.current)===null||fa===void 0?void 0:fa.scrollLeft})}else ur(!1),ji(!1)},ds=function(fa){var Na,fs=fa.width;(Na=ta.current)===null||Na===void 0||Na.checkScrollBarVisible();var Ls=$o.current?$o.current.offsetWidth:fs;ke&&Ie&&$o.current&&(Ls=Ie($o.current,Ls)||Ls),Ls!==Dr&&(Da(),br(Ls))},Bs=s.useRef(!1);s.useEffect(function(){Bs.current&&Da()},[As,w,Fn.length]),s.useEffect(function(){Bs.current=!0},[]);var qs=s.useState(0),rc=(0,Re.Z)(qs,2),Js=rc[0],La=rc[1],cs=s.useState(!0),Ss=(0,Re.Z)(cs,2),$l=Ss[0],Fu=Ss[1];s.useEffect(function(){(!be||!ke)&&(mi.current instanceof Element?La((0,Vx.o)(mi.current).width):La((0,Vx.o)(Pi.current).width)),Fu(fw("position","sticky"))},[]),s.useEffect(function(){ke&&ge&&(ge.body.current=mi.current)});var Kh=s.useCallback(function(ws){return s.createElement(s.Fragment,null,s.createElement(DI,ws),qo==="top"&&s.createElement(Zx,ws,ga))},[qo,ga]),im=s.useCallback(function(ws){return s.createElement(Zx,ws,ga)},[ga]),om=st(["table"],"table"),Kf=s.useMemo(function(){return L||(Ro?Di==="max-content"?"auto":"fixed":ts||Ka||sr.some(function(ws){var fa=ws.ellipsis;return fa})?"fixed":"auto")},[ts,Ro,sr,L,Ka]),Xh,Yh={colWidths:Ga,columCount:sr.length,stickyOffsets:va,onHeaderRow:ie,fixHeader:ts,scroll:D},am=s.useMemo(function(){return Ue?null:typeof oe=="function"?oe():oe},[Ue,oe]),Tl=s.createElement(zD,{data:De,measureColumnWidth:ts||As||Ka}),Qs=s.createElement($I,{colWidths:sr.map(function(ws){var fa=ws.width;return fa}),columns:sr}),Ia=G!=null?s.createElement("caption",{className:"".concat(o,"-caption")},G):void 0,Va=(0,ut.Z)(a,{data:!0}),ml=(0,ut.Z)(a,{aria:!0});if(ts||Ka){var kc;typeof Et=="function"?(kc=Et(De,{scrollbarSize:Js,ref:mi,onScroll:_a}),Yh.colWidths=sr.map(function(ws,fa){var Na=ws.width,fs=fa===sr.length-1?Na-Js:Na;return typeof fs=="number"&&!Number.isNaN(fs)?fs:0})):kc=s.createElement("div",{style:(0,Y.Z)((0,Y.Z)({},Jo),Vo),onScroll:Ho,ref:mi,className:q()("".concat(o,"-body"))},s.createElement(om,(0,We.Z)({style:(0,Y.Z)((0,Y.Z)({},ls),{},{tableLayout:Kf})},ml),Ia,Qs,Tl,!qo&&ga&&s.createElement(Zx,{stickyOffsets:va,flattenColumns:sr},ga)));var rf=(0,Y.Z)((0,Y.Z)((0,Y.Z)({noData:!De.length,maxContentScroll:As&&Di==="max-content"},Yh),Ui),{},{direction:z,stickyClassName:yl,onScroll:_a});Xh=s.createElement(s.Fragment,null,X!==!1&&s.createElement(AI,(0,We.Z)({},rf,{stickyTopOffset:ss,className:"".concat(o,"-header"),ref:Ri}),Kh),kc,qo&&qo!=="top"&&s.createElement(AI,(0,We.Z)({},rf,{stickyBottomOffset:ll,className:"".concat(o,"-summary"),ref:ao}),im),Ka&&mi.current&&mi.current instanceof Element&&s.createElement(c5,{ref:ta,offsetScroll:Rl,scrollBodyRef:mi,onScroll:_a,container:Xl,direction:z}))}else Xh=s.createElement("div",{style:(0,Y.Z)((0,Y.Z)({},Jo),Vo),className:q()("".concat(o,"-content")),onScroll:_a,ref:mi},s.createElement(om,(0,We.Z)({style:(0,Y.Z)((0,Y.Z)({},ls),{},{tableLayout:Kf})},ml),Ia,Qs,X!==!1&&s.createElement(DI,(0,We.Z)({},Yh,Ui)),Tl,ga&&s.createElement(Zx,{stickyOffsets:va,flattenColumns:sr},ga)));var Fg=s.createElement("div",(0,We.Z)({className:q()(o,f,(0,pe.Z)((0,pe.Z)((0,pe.Z)((0,pe.Z)((0,pe.Z)((0,pe.Z)((0,pe.Z)((0,pe.Z)((0,pe.Z)((0,pe.Z)({},"".concat(o,"-rtl"),z==="rtl"),"".concat(o,"-ping-left"),Cr),"".concat(o,"-ping-right"),pi),"".concat(o,"-layout-fixed"),L==="fixed"),"".concat(o,"-fixed-header"),ts),"".concat(o,"-fixed-column"),Ro),"".concat(o,"-fixed-column-gapped"),Ro&&yi),"".concat(o,"-scroll-horizontal"),As),"".concat(o,"-has-fix-left"),sr[0]&&sr[0].fixed),"".concat(o,"-has-fix-right"),sr[sr.length-1]&&sr[sr.length-1].fixed==="right")),style:C,id:H,ref:$o},Va),k&&s.createElement(FI,{className:"".concat(o,"-title")},k(De)),s.createElement("div",{ref:Pi,className:"".concat(o,"-container")},Xh),Z&&s.createElement(FI,{className:"".concat(o,"-footer")},Z(De)));As&&(Fg=s.createElement(c.Z,{onResize:ds},Fg));var kg=t5(sr,va,z),Ev=s.useMemo(function(){return{scrollX:Di,prefixCls:o,getComponent:st,scrollbarSize:Js,direction:z,fixedInfoList:kg,isSticky:Ka,supportSticky:$l,componentWidth:Dr,fixHeader:ts,fixColumn:Ro,horizonScroll:As,tableLayout:Kf,rowClassName:y,expandedRowClassName:Mt.expandedRowClassName,expandIcon:pn,expandableType:Cn,expandRowByClick:Mt.expandRowByClick,expandedRowRender:Mt.expandedRowRender,onTriggerExpand:Qt,expandIconColumnIndex:Mt.expandIconColumnIndex,indentSize:Mt.indentSize,allColumnsFixedLeft:sr.every(function(ws){return ws.fixed==="left"}),emptyNode:am,columns:Fn,flattenColumns:sr,onColumnResize:Ds,hoverStartRow:mt,hoverEndRow:bt,onHover:zt,rowExpandable:Mt.rowExpandable,onRow:ae,getRowKey:ct,expandedKeys:Hn,childrenColumnName:Dn,rowHoverable:Ve}},[Di,o,st,Js,z,kg,Ka,$l,Dr,ts,Ro,As,Kf,y,Mt.expandedRowClassName,pn,Cn,Mt.expandRowByClick,Mt.expandedRowRender,Qt,Mt.expandIconColumnIndex,Mt.indentSize,am,Fn,sr,Ds,mt,bt,zt,Mt.rowExpandable,ae,ct,Hn,Dn,Ve]);return s.createElement(Iu.Provider,{value:Ev},Fg)}var y5=s.forwardRef(v5);function VI(e){return bI(y5,e)}var bv=VI();bv.EXPAND_COLUMN=Wh,bv.INTERNAL_HOOKS=D_,bv.Column=d5,bv.ColumnGroup=h5,bv.Summary=wI;var _5=bv,b5=F(98131),mw=ow(null),HI=ow(null);function x5(e,t,a){var o=t||1;return a[e+o]-(a[e]||0)}function C5(e){var t=e.rowInfo,a=e.column,o=e.colIndex,f=e.indent,y=e.index,C=e.component,w=e.renderIndex,I=e.record,D=e.style,L=e.className,z=e.inverse,k=e.getHeight,Z=a.render,j=a.dataIndex,G=a.className,H=a.width,X=tu(HI,["columnsOffset"]),ne=X.columnsOffset,oe=RI(t,a,o,f,y),ae=oe.key,ie=oe.fixedInfo,le=oe.appendCellNode,fe=oe.additionalCellProps,me=fe.style,ge=fe.colSpan,be=ge===void 0?1:ge,Ie=fe.rowSpan,Oe=Ie===void 0?1:Ie,Te=o-1,Ve=x5(Te,be,ne),De=be>1?H-Ve:0,Ue=(0,Y.Z)((0,Y.Z)((0,Y.Z)({},me),D),{},{flex:"0 0 ".concat(Ve,"px"),width:"".concat(Ve,"px"),marginRight:De,pointerEvents:"auto"}),ke=s.useMemo(function(){return z?Oe<=1:be===0||Oe===0||Oe>1},[Oe,be,z]);ke?Ue.visibility="hidden":z&&(Ue.height=k==null?void 0:k(Oe));var st=ke?function(){return null}:Z,ct={};return(Oe===0||be===0)&&(ct.rowSpan=1,ct.colSpan=1),s.createElement(_v,(0,We.Z)({className:q()(G,L),ellipsis:a.ellipsis,align:a.align,scope:a.rowScope,component:C,prefixCls:t.prefixCls,key:ae,record:I,index:y,renderIndex:w,dataIndex:j,render:st,shouldCellUpdate:a.shouldCellUpdate},ie,{appendNode:le,additionalProps:(0,Y.Z)((0,Y.Z)({},fe),{},{style:Ue},ct)}))}var S5=C5,w5=["data","index","className","rowKey","style","extra","getHeight"],E5=s.forwardRef(function(e,t){var a=e.data,o=e.index,f=e.className,y=e.rowKey,C=e.style,w=e.extra,I=e.getHeight,D=(0,de.Z)(e,w5),L=a.record,z=a.indent,k=a.index,Z=tu(Iu,["prefixCls","flattenColumns","fixColumn","componentWidth","scrollX"]),j=Z.scrollX,G=Z.flattenColumns,H=Z.prefixCls,X=Z.fixColumn,ne=Z.componentWidth,oe=tu(mw,["getComponent"]),ae=oe.getComponent,ie=MI(L,y,o,z),le=ae(["body","row"],"div"),fe=ae(["body","cell"],"div"),me=ie.rowSupportExpand,ge=ie.expanded,be=ie.rowProps,Ie=ie.expandedRowRender,Oe=ie.expandedRowClassName,Te;if(me&&ge){var Ve=Ie(L,o,z+1,ge),De=OI(Oe,L,o,z),Ue={};X&&(Ue={style:(0,pe.Z)({},"--virtual-width","".concat(ne,"px"))});var ke="".concat(H,"-expanded-row-cell");Te=s.createElement(le,{className:q()("".concat(H,"-expanded-row"),"".concat(H,"-expanded-row-level-").concat(z+1),De)},s.createElement(_v,{component:fe,prefixCls:H,className:q()(ke,(0,pe.Z)({},"".concat(ke,"-fixed"),X)),additionalProps:Ue},Ve))}var st=(0,Y.Z)((0,Y.Z)({},C),{},{width:j});w&&(st.position="absolute",st.pointerEvents="none");var ct=s.createElement(le,(0,We.Z)({},be,D,{"data-row-key":y,ref:me?null:t,className:q()(f,"".concat(H,"-row"),be==null?void 0:be.className,(0,pe.Z)({},"".concat(H,"-row-extra"),w)),style:(0,Y.Z)((0,Y.Z)({},st),be==null?void 0:be.style)}),G.map(function(Et,It){return s.createElement(S5,{key:It,component:fe,rowInfo:ie,column:Et,colIndex:It,indent:z,index:o,renderIndex:k,record:L,inverse:w,getHeight:I})}));return me?s.createElement("div",{ref:t},ct,Te):ct}),I5=yv(E5),UI=I5,T5=s.forwardRef(function(e,t){var a=e.data,o=e.onScroll,f=tu(Iu,["flattenColumns","onColumnResize","getRowKey","prefixCls","expandedKeys","childrenColumnName","scrollX","direction"]),y=f.flattenColumns,C=f.onColumnResize,w=f.getRowKey,I=f.expandedKeys,D=f.prefixCls,L=f.childrenColumnName,z=f.scrollX,k=f.direction,Z=tu(mw),j=Z.sticky,G=Z.scrollY,H=Z.listItemHeight,X=Z.getComponent,ne=Z.onScroll,oe=s.useRef(),ae=TI(a,L,I,w),ie=s.useMemo(function(){var Te=0;return y.map(function(Ve){var De=Ve.width,Ue=Ve.key;return Te+=De,[Ue,De,Te]})},[y]),le=s.useMemo(function(){return ie.map(function(Te){return Te[2]})},[ie]);s.useEffect(function(){ie.forEach(function(Te){var Ve=(0,Re.Z)(Te,2),De=Ve[0],Ue=Ve[1];C(De,Ue)})},[ie]),s.useImperativeHandle(t,function(){var Te,Ve={scrollTo:function(Ue){var ke;(ke=oe.current)===null||ke===void 0||ke.scrollTo(Ue)},nativeElement:(Te=oe.current)===null||Te===void 0?void 0:Te.nativeElement};return Object.defineProperty(Ve,"scrollLeft",{get:function(){var Ue;return((Ue=oe.current)===null||Ue===void 0?void 0:Ue.getScrollInfo().x)||0},set:function(Ue){var ke;(ke=oe.current)===null||ke===void 0||ke.scrollTo({left:Ue})}}),Ve});var fe=function(Ve,De){var Ue,ke=(Ue=ae[De])===null||Ue===void 0?void 0:Ue.record,st=Ve.onCell;if(st){var ct,Et=st(ke,De);return(ct=Et==null?void 0:Et.rowSpan)!==null&&ct!==void 0?ct:1}return 1},me=function(Ve){var De=Ve.start,Ue=Ve.end,ke=Ve.getSize,st=Ve.offsetY;if(Ue<0)return null;for(var ct=y.filter(function(pn){return fe(pn,De)===0}),Et=De,It=function(Dn){if(ct=ct.filter(function(Qt){return fe(Qt,Dn)===0}),!ct.length)return Et=Dn,1},Ct=De;Ct>=0&&!It(Ct);Ct-=1);for(var mt=y.filter(function(pn){return fe(pn,Ue)!==1}),bt=Ue,zt=function(Dn){if(mt=mt.filter(function(Qt){return fe(Qt,Dn)!==1}),!mt.length)return bt=Math.max(Dn-1,Ue),1},$t=Ue;$t<ae.length&&!zt($t);$t+=1);for(var Ht=[],Mt=function(Dn){var Qt=ae[Dn];if(!Qt)return 1;y.some(function(Ft){return fe(Ft,Dn)>1})&&Ht.push(Dn)},Cn=Et;Cn<=bt;Cn+=1)Mt(Cn);var Hn=Ht.map(function(pn){var Dn=ae[pn],Qt=w(Dn.record,pn),Ft=function(Dr){var br=pn+Dr-1,or=w(ae[br].record,br),ar=ke(Qt,or);return ar.bottom-ar.top},kn=ke(Qt);return s.createElement(UI,{key:pn,data:Dn,rowKey:Qt,index:pn,style:{top:-st+kn.top},extra:!0,getHeight:Ft})});return Hn},ge=s.useMemo(function(){return{columnsOffset:le}},[le]),be="".concat(D,"-tbody"),Ie=X(["body","wrapper"]),Oe={};return j&&(Oe.position="sticky",Oe.bottom=0,(0,et.Z)(j)==="object"&&j.offsetScroll&&(Oe.bottom=j.offsetScroll)),s.createElement(HI.Provider,{value:ge},s.createElement(b5.Z,{fullHeight:!1,ref:oe,prefixCls:"".concat(be,"-virtual"),styles:{horizontalScrollBar:Oe},className:be,height:G,itemHeight:H||24,data:ae,itemKey:function(Ve){return w(Ve.record)},component:Ie,scrollWidth:z,direction:k,onVirtualScroll:function(Ve){var De,Ue=Ve.x;o({currentTarget:(De=oe.current)===null||De===void 0?void 0:De.nativeElement,scrollLeft:Ue})},onScroll:ne,extraRender:me},function(Te,Ve,De){var Ue=w(Te.record,Ve);return s.createElement(UI,{data:Te,rowKey:Ue,index:Ve,style:De.style})}))}),M5=yv(T5),P5=M5,O5=function(t,a){var o=a.ref,f=a.onScroll;return s.createElement(P5,{ref:o,data:t,onScroll:f})};function R5(e,t){var a=e.data,o=e.columns,f=e.scroll,y=e.sticky,C=e.prefixCls,w=C===void 0?ZI:C,I=e.className,D=e.listItemHeight,L=e.components,z=e.onScroll,k=f||{},Z=k.x,j=k.y;typeof Z!="number"&&(Z=1),typeof j!="number"&&(j=500);var G=(0,$s.zX)(function(ne,oe){return(0,lw.Z)(L,ne)||oe}),H=(0,$s.zX)(z),X=s.useMemo(function(){return{sticky:y,scrollY:j,listItemHeight:D,getComponent:G,onScroll:H}},[y,j,D,G,H]);return s.createElement(mw.Provider,{value:X},s.createElement(_5,(0,We.Z)({},e,{className:q()(I,"".concat(w,"-virtual")),scroll:(0,Y.Z)((0,Y.Z)({},f),{},{x:Z}),components:(0,Y.Z)((0,Y.Z)({},L),{},{body:a!=null&&a.length?O5:void 0}),columns:o,internalHooks:D_,tailor:!0,ref:t})))}var $5=s.forwardRef(R5);function WI(e){return bI($5,e)}var Zk=WI(),Vk=null,A5=e=>null,D5=e=>null,gw=F(44443);function vw(e){const[t,a]=(0,s.useState)(null);return[(0,s.useCallback)((y,C,w)=>{const I=t!=null?t:y,D=Math.min(I||0,y),L=Math.max(I||0,y),z=C.slice(D,L+1).map(j=>e(j)),k=z.some(j=>!w.has(j)),Z=[];return z.forEach(j=>{k?(w.has(j)||Z.push(j),w.add(j)):(w.delete(j),Z.push(j))}),a(k?L:null),Z},[t]),y=>{a(y)}]}const tm={},yw="SELECT_ALL",_w="SELECT_INVERT",bw="SELECT_NONE",GI=[],KI=(e,t)=>{let a=[];return(t||[]).forEach(o=>{a.push(o),o&&typeof o=="object"&&e in o&&(a=[].concat((0,xe.Z)(a),(0,xe.Z)(KI(e,o[e]))))}),a};var L5=(e,t)=>{const{preserveSelectedRowKeys:a,selectedRowKeys:o,defaultSelectedRowKeys:f,getCheckboxProps:y,onChange:C,onSelect:w,onSelectAll:I,onSelectInvert:D,onSelectNone:L,onSelectMultiple:z,columnWidth:k,type:Z,selections:j,fixed:G,renderCell:H,hideSelectAll:X,checkStrictly:ne=!0}=t||{},{prefixCls:oe,data:ae,pageData:ie,getRecordByKey:le,getRowKey:fe,expandType:me,childrenColumnName:ge,locale:be,getPopupContainer:Ie}=e,Oe=(0,uo.ln)("Table"),[Te,Ve]=vw(pn=>pn),[De,Ue]=(0,Fs.Z)(o||f||GI,{value:o}),ke=s.useRef(new Map),st=(0,s.useCallback)(pn=>{if(a){const Dn=new Map;pn.forEach(Qt=>{let Ft=le(Qt);!Ft&&ke.current.has(Qt)&&(Ft=ke.current.get(Qt)),Dn.set(Qt,Ft)}),ke.current=Dn}},[le,a]);s.useEffect(()=>{st(De)},[De]);const ct=(0,s.useMemo)(()=>KI(ge,ie),[ge,ie]),{keyEntities:Et}=(0,s.useMemo)(()=>{if(ne)return{keyEntities:null};let pn=ae;if(a){const Dn=new Set(ct.map((Ft,kn)=>fe(Ft,kn))),Qt=Array.from(ke.current).reduce((Ft,kn)=>{let[Pn,Dr]=kn;return Dn.has(Pn)?Ft:Ft.concat(Dr)},[]);pn=[].concat((0,xe.Z)(pn),(0,xe.Z)(Qt))}return(0,Uf.I8)(pn,{externalGetKey:fe,childrenPropName:ge})},[ae,fe,ne,ge,a,ct]),It=(0,s.useMemo)(()=>{const pn=new Map;return ct.forEach((Dn,Qt)=>{const Ft=fe(Dn,Qt),kn=(y?y(Dn):null)||{};pn.set(Ft,kn)}),pn},[ct,fe,y]),Ct=(0,s.useCallback)(pn=>{const Dn=fe(pn);let Qt;return It.has(Dn)?Qt=It.get(fe(pn)):Qt=y?y(pn):void 0,!!(Qt!=null&&Qt.disabled)},[It,fe]),[mt,bt]=(0,s.useMemo)(()=>{if(ne)return[De||[],[]];const{checkedKeys:pn,halfCheckedKeys:Dn}=(0,Cd.S)(De,!0,Et,Ct);return[pn||[],Dn]},[De,ne,Et,Ct]),zt=(0,s.useMemo)(()=>{const pn=Z==="radio"?mt.slice(0,1):mt;return new Set(pn)},[mt,Z]),$t=(0,s.useMemo)(()=>Z==="radio"?new Set:new Set(bt),[bt,Z]);s.useEffect(()=>{t||Ue(GI)},[!!t]);const Ht=(0,s.useCallback)((pn,Dn)=>{let Qt,Ft;st(pn),a?(Qt=pn,Ft=pn.map(kn=>ke.current.get(kn))):(Qt=[],Ft=[],pn.forEach(kn=>{const Pn=le(kn);Pn!==void 0&&(Qt.push(kn),Ft.push(Pn))})),Ue(Qt),C==null||C(Qt,Ft,{type:Dn})},[Ue,le,C,a]),Mt=(0,s.useCallback)((pn,Dn,Qt,Ft)=>{if(w){const kn=Qt.map(Pn=>le(Pn));w(le(pn),Dn,kn,Ft)}Ht(Qt,"single")},[w,le,Ht]),Cn=(0,s.useMemo)(()=>!j||X?null:(j===!0?[yw,_w,bw]:j).map(Dn=>Dn===yw?{key:"all",text:be.selectionAll,onSelect(){Ht(ae.map((Qt,Ft)=>fe(Qt,Ft)).filter(Qt=>{const Ft=It.get(Qt);return!(Ft!=null&&Ft.disabled)||zt.has(Qt)}),"all")}}:Dn===_w?{key:"invert",text:be.selectInvert,onSelect(){const Qt=new Set(zt);ie.forEach((kn,Pn)=>{const Dr=fe(kn,Pn),br=It.get(Dr);br!=null&&br.disabled||(Qt.has(Dr)?Qt.delete(Dr):Qt.add(Dr))});const Ft=Array.from(Qt);D&&(Oe.deprecated(!1,"onSelectInvert","onChange"),D(Ft)),Ht(Ft,"invert")}}:Dn===bw?{key:"none",text:be.selectNone,onSelect(){L==null||L(),Ht(Array.from(zt).filter(Qt=>{const Ft=It.get(Qt);return Ft==null?void 0:Ft.disabled}),"none")}}:Dn).map(Dn=>Object.assign(Object.assign({},Dn),{onSelect:function(){for(var Qt,Ft,kn=arguments.length,Pn=new Array(kn),Dr=0;Dr<kn;Dr++)Pn[Dr]=arguments[Dr];(Ft=Dn.onSelect)===null||Ft===void 0||(Qt=Ft).call.apply(Qt,[Dn].concat(Pn)),Ve(null)}})),[j,zt,ie,fe,D,Ht]);return[(0,s.useCallback)(pn=>{var Dn;if(!t)return pn.filter(Pi=>Pi!==tm);let Qt=(0,xe.Z)(pn);const Ft=new Set(zt),kn=ct.map(fe).filter(Pi=>!It.get(Pi).disabled),Pn=kn.every(Pi=>Ft.has(Pi)),Dr=kn.some(Pi=>Ft.has(Pi)),br=()=>{const Pi=[];Pn?kn.forEach(ki=>{Ft.delete(ki),Pi.push(ki)}):kn.forEach(ki=>{Ft.has(ki)||(Ft.add(ki),Pi.push(ki))});const ao=Array.from(Ft);I==null||I(!Pn,ao.map(ki=>le(ki)),Pi.map(ki=>le(ki))),Ht(ao,"all"),Ve(null)};let or,ar;if(Z!=="radio"){let Pi;if(Cn){const ur={getPopupContainer:Ie,items:Cn.map((Tr,qn)=>{const{key:pi,text:ji,onSelect:go}=Tr;return{key:pi!=null?pi:qn,onClick:()=>{go==null||go(kn)},label:ji}})};Pi=s.createElement("div",{className:`${oe}-selection-extra`},s.createElement(wx,{menu:ur,getPopupContainer:Ie},s.createElement("span",null,s.createElement($u.Z,null))))}const ao=ct.map((ur,Tr)=>{const qn=fe(ur,Tr),pi=It.get(qn)||{};return Object.assign({checked:Ft.has(qn)},pi)}).filter(ur=>{let{disabled:Tr}=ur;return Tr}),ki=!!ao.length&&ao.length===ct.length,Ao=ki&&ao.every(ur=>{let{checked:Tr}=ur;return Tr}),Cr=ki&&ao.some(ur=>{let{checked:Tr}=ur;return Tr});ar=s.createElement(ni,{checked:ki?Ao:!!ct.length&&Pn,indeterminate:ki?!Ao&&Cr:!Pn&&Dr,onChange:br,disabled:ct.length===0||ki,"aria-label":Pi?"Custom selection":"Select all",skipGroup:!0}),or=!X&&s.createElement("div",{className:`${oe}-selection`},ar,Pi)}let Fn;Z==="radio"?Fn=(Pi,ao,ki)=>{const Ao=fe(ao,ki),Cr=Ft.has(Ao),ur=It.get(Ao);return{node:s.createElement(nw.ZP,Object.assign({},ur,{checked:Cr,onClick:Tr=>{var qn;Tr.stopPropagation(),(qn=ur==null?void 0:ur.onClick)===null||qn===void 0||qn.call(ur,Tr)},onChange:Tr=>{var qn;Ft.has(Ao)||Mt(Ao,!0,[Ao],Tr.nativeEvent),(qn=ur==null?void 0:ur.onChange)===null||qn===void 0||qn.call(ur,Tr)}})),checked:Cr}}:Fn=(Pi,ao,ki)=>{var Ao;const Cr=fe(ao,ki),ur=Ft.has(Cr),Tr=$t.has(Cr),qn=It.get(Cr);let pi;return me==="nest"?pi=Tr:pi=(Ao=qn==null?void 0:qn.indeterminate)!==null&&Ao!==void 0?Ao:Tr,{node:s.createElement(ni,Object.assign({},qn,{indeterminate:pi,checked:ur,skipGroup:!0,onClick:ji=>{var go;ji.stopPropagation(),(go=qn==null?void 0:qn.onClick)===null||go===void 0||go.call(qn,ji)},onChange:ji=>{var go;const{nativeEvent:ra}=ji,{shiftKey:Aa}=ra,oa=kn.findIndex(Za=>Za===Cr),Cs=mt.some(Za=>kn.includes(Za));if(Aa&&ne&&Cs){const Za=Te(oa,kn,Ft),Ga=Array.from(Ft);z==null||z(!ur,Ga.map(va=>le(va)),Za.map(va=>le(va))),Ht(Ga,"multiple")}else{const Za=mt;if(ne){const Ga=ur?(0,gw._5)(Za,Cr):(0,gw.L0)(Za,Cr);Mt(Cr,!ur,Ga,ra)}else{const Ga=(0,Cd.S)([].concat((0,xe.Z)(Za),[Cr]),!0,Et,Ct),{checkedKeys:va,halfCheckedKeys:ts}=Ga;let As=va;if(ur){const Ro=new Set(va);Ro.delete(Cr),As=(0,Cd.S)(Array.from(Ro),{checked:!1,halfCheckedKeys:ts},Et,Ct).checkedKeys}Mt(Cr,!ur,As,ra)}}Ve(ur?null:oa),(go=qn==null?void 0:qn.onChange)===null||go===void 0||go.call(qn,ji)}})),checked:ur}};const sr=(Pi,ao,ki)=>{const{node:Ao,checked:Cr}=Fn(Pi,ao,ki);return H?H(Cr,ao,ki,Ao):Ao};if(!Qt.includes(tm))if(Qt.findIndex(Pi=>{var ao;return((ao=Pi[L_])===null||ao===void 0?void 0:ao.columnType)==="EXPAND_COLUMN"})===0){const[Pi,...ao]=Qt;Qt=[Pi,tm].concat((0,xe.Z)(ao))}else Qt=[tm].concat((0,xe.Z)(Qt));const Gr=Qt.indexOf(tm);Qt=Qt.filter((Pi,ao)=>Pi!==tm||ao===Gr);const yi=Qt[Gr-1],Di=Qt[Gr+1];let Ui=G;Ui===void 0&&((Di==null?void 0:Di.fixed)!==void 0?Ui=Di.fixed:(yi==null?void 0:yi.fixed)!==void 0&&(Ui=yi.fixed)),Ui&&yi&&((Dn=yi[L_])===null||Dn===void 0?void 0:Dn.columnType)==="EXPAND_COLUMN"&&yi.fixed===void 0&&(yi.fixed=Ui);const $o=q()(`${oe}-selection-col`,{[`${oe}-selection-col-with-dropdown`]:j&&Z==="checkbox"}),Ri=()=>t!=null&&t.columnTitle?typeof t.columnTitle=="function"?t.columnTitle(ar):t.columnTitle:or,mi={fixed:Ui,width:k,className:`${oe}-selection-column`,title:Ri(),render:sr,onCell:t.onCell,[L_]:{className:$o}};return Qt.map(Pi=>Pi===tm?mi:Pi)},[fe,ct,t,mt,zt,$t,k,Cn,me,It,z,Mt,Ct]),zt]};function z5(e,t){return e._antProxy=e._antProxy||{},Object.keys(t).forEach(a=>{if(!(a in e._antProxy)){const o=e[a];e._antProxy[a]=o,e[a]=t[a]}}),e}function N5(e,t){return(0,s.useImperativeHandle)(e,()=>{const a=t(),{nativeElement:o}=a;return typeof Proxy!="undefined"?new Proxy(o,{get(f,y){return a[y]?a[y]:Reflect.get(f,y)}}):z5(o,a)})}function B5(e){return t=>{const{prefixCls:a,onExpand:o,record:f,expanded:y,expandable:C}=t,w=`${a}-row-expand-icon`;return s.createElement("button",{type:"button",onClick:I=>{o(f,I),I.stopPropagation()},className:q()(w,{[`${w}-spaced`]:!C,[`${w}-expanded`]:C&&y,[`${w}-collapsed`]:C&&!y}),"aria-label":y?e.collapse:e.expand,"aria-expanded":y})}}var F5=B5;function k5(e){return(a,o)=>{const f=a.querySelector(`.${e}-container`);let y=o;if(f){const C=getComputedStyle(f),w=parseInt(C.borderLeftWidth,10),I=parseInt(C.borderRightWidth,10);y=o-w-I}return y}}const nm=(e,t)=>"key"in e&&e.key!==void 0&&e.key!==null?e.key:e.dataIndex?Array.isArray(e.dataIndex)?e.dataIndex.join("."):e.dataIndex:t;function xv(e,t){return t?`${t}-${e}`:`${e}`}const Hx=(e,t)=>typeof e=="function"?e(t):e,j5=(e,t)=>{const a=Hx(e,t);return Object.prototype.toString.call(a)==="[object Object]"?"":a};var Z5={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M349 838c0 17.7 14.2 32 31.8 32h262.4c17.6 0 31.8-14.3 31.8-32V642H349v196zm531.1-684H143.9c-24.5 0-39.8 26.7-27.5 48l221.3 376h348.8l221.3-376c12.1-21.3-3.2-48-27.7-48z"}}]},name:"filter",theme:"filled"},V5=Z5,H5=function(t,a){return s.createElement(Kt.Z,(0,We.Z)({},t,{ref:a,icon:V5}))},U5=s.forwardRef(H5),W5=U5;function G5(e){const t=s.useRef(e),a=(0,rw.Z)();return[()=>t.current,o=>{t.current=o,a()}]}var Ux=F(91606),K5={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494z"}}]},name:"file",theme:"outlined"},X5=K5,Y5=function(t,a){return s.createElement(Kt.Z,(0,We.Z)({},t,{ref:a,icon:X5}))},q5=s.forwardRef(Y5),XI=q5,J5={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 444H820V330.4c0-17.7-14.3-32-32-32H473L355.7 186.2a8.15 8.15 0 00-5.5-2.2H96c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h698c13 0 24.8-7.9 29.7-20l134-332c1.5-3.8 2.3-7.9 2.3-12 0-17.7-14.3-32-32-32zM136 256h188.5l119.6 114.4H748V444H238c-13 0-24.8 7.9-29.7 20L136 643.2V256zm635.3 512H159l103.3-256h612.4L771.3 768z"}}]},name:"folder-open",theme:"outlined"},Q5=J5,eL=function(t,a){return s.createElement(Kt.Z,(0,We.Z)({},t,{ref:a,icon:Q5}))},tL=s.forwardRef(eL),nL=tL,rL={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 298.4H521L403.7 186.2a8.15 8.15 0 00-5.5-2.2H144c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V330.4c0-17.7-14.3-32-32-32zM840 768H184V256h188.5l119.6 114.4H840V768z"}}]},name:"folder",theme:"outlined"},iL=rL,oL=function(t,a){return s.createElement(Kt.Z,(0,We.Z)({},t,{ref:a,icon:iL}))},aL=s.forwardRef(oL),sL=aL,lL={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M300 276.5a56 56 0 1056-97 56 56 0 00-56 97zm0 284a56 56 0 1056-97 56 56 0 00-56 97zM640 228a56 56 0 10112 0 56 56 0 00-112 0zm0 284a56 56 0 10112 0 56 56 0 00-112 0zM300 844.5a56 56 0 1056-97 56 56 0 00-56 97zM640 796a56 56 0 10112 0 56 56 0 00-112 0z"}}]},name:"holder",theme:"outlined"},cL=lL,uL=function(t,a){return s.createElement(Kt.Z,(0,We.Z)({},t,{ref:a,icon:cL}))},dL=s.forwardRef(uL),fL=dL;const hL=e=>{let{treeCls:t,treeNodeCls:a,directoryNodeSelectedBg:o,directoryNodeSelectedColor:f,motionDurationMid:y,borderRadius:C,controlItemBgHover:w}=e;return{[`${t}${t}-directory ${a}`]:{[`${t}-node-content-wrapper`]:{position:"static",[`> *:not(${t}-drop-indicator)`]:{position:"relative"},"&:hover":{background:"transparent"},"&:before":{position:"absolute",inset:0,transition:`background-color ${y}`,content:'""',borderRadius:C},"&:hover:before":{background:w}},[`${t}-switcher, ${t}-checkbox, ${t}-draggable-icon`]:{zIndex:1},"&-selected":{[`${t}-switcher, ${t}-draggable-icon`]:{color:f},[`${t}-node-content-wrapper`]:{color:f,background:"transparent","&:before, &:hover:before":{background:o}}}}}},pL=new he.E4("ant-tree-node-fx-do-not-use",{"0%":{opacity:0},"100%":{opacity:1}}),mL=(e,t)=>({[`.${e}-switcher-icon`]:{display:"inline-block",fontSize:10,verticalAlign:"baseline",svg:{transition:`transform ${t.motionDurationSlow}`}}}),gL=(e,t)=>({[`.${e}-drop-indicator`]:{position:"absolute",zIndex:1,height:2,backgroundColor:t.colorPrimary,borderRadius:1,pointerEvents:"none","&:after":{position:"absolute",top:-3,insetInlineStart:-6,width:8,height:8,backgroundColor:"transparent",border:`${(0,he.bf)(t.lineWidthBold)} solid ${t.colorPrimary}`,borderRadius:"50%",content:'""'}}}),vL=(e,t)=>{const{treeCls:a,treeNodeCls:o,treeNodePadding:f,titleHeight:y,indentSize:C,nodeSelectedBg:w,nodeHoverBg:I,colorTextQuaternary:D,controlItemBgActiveDisabled:L}=t;return{[a]:Object.assign(Object.assign({},(0,Jt.Wf)(t)),{background:t.colorBgContainer,borderRadius:t.borderRadius,transition:`background-color ${t.motionDurationSlow}`,"&-rtl":{direction:"rtl"},[`&${a}-rtl ${a}-switcher_close ${a}-switcher-icon svg`]:{transform:"rotate(90deg)"},[`&-focused:not(:hover):not(${a}-active-focused)`]:Object.assign({},(0,Jt.oN)(t)),[`${a}-list-holder-inner`]:{alignItems:"flex-start"},[`&${a}-block-node`]:{[`${a}-list-holder-inner`]:{alignItems:"stretch",[`${a}-node-content-wrapper`]:{flex:"auto"},[`${o}.dragging:after`]:{position:"absolute",inset:0,border:`1px solid ${t.colorPrimary}`,opacity:0,animationName:pL,animationDuration:t.motionDurationSlow,animationPlayState:"running",animationFillMode:"forwards",content:'""',pointerEvents:"none",borderRadius:t.borderRadius}}},[o]:{display:"flex",alignItems:"flex-start",marginBottom:f,lineHeight:(0,he.bf)(y),position:"relative","&:before":{content:'""',position:"absolute",zIndex:1,insetInlineStart:0,width:"100%",top:"100%",height:f},[`&-disabled ${a}-node-content-wrapper`]:{color:t.colorTextDisabled,cursor:"not-allowed","&:hover":{background:"transparent"}},[`${a}-checkbox-disabled + ${a}-node-selected,&${o}-disabled${o}-selected ${a}-node-content-wrapper`]:{backgroundColor:L},[`${a}-checkbox-disabled`]:{pointerEvents:"unset"},[`&:not(${o}-disabled)`]:{[`${a}-node-content-wrapper`]:{"&:hover":{color:t.nodeHoverColor}}},[`&-active ${a}-node-content-wrapper`]:{background:t.controlItemBgHover},[`&:not(${o}-disabled).filter-node ${a}-title`]:{color:t.colorPrimary,fontWeight:500},"&-draggable":{cursor:"grab",[`${a}-draggable-icon`]:{flexShrink:0,width:y,textAlign:"center",visibility:"visible",color:D},[`&${o}-disabled ${a}-draggable-icon`]:{visibility:"hidden"}}},[`${a}-indent`]:{alignSelf:"stretch",whiteSpace:"nowrap",userSelect:"none","&-unit":{display:"inline-block",width:C}},[`${a}-draggable-icon`]:{visibility:"hidden"},[`${a}-switcher, ${a}-checkbox`]:{marginInlineEnd:t.calc(t.calc(y).sub(t.controlInteractiveSize)).div(2).equal()},[`${a}-switcher`]:Object.assign(Object.assign({},mL(e,t)),{position:"relative",flex:"none",alignSelf:"stretch",width:y,textAlign:"center",cursor:"pointer",userSelect:"none",transition:`all ${t.motionDurationSlow}`,"&-noop":{cursor:"unset"},"&:before":{pointerEvents:"none",content:'""',width:y,height:y,position:"absolute",left:{_skip_check_:!0,value:0},top:0,borderRadius:t.borderRadius,transition:`all ${t.motionDurationSlow}`},[`&:not(${a}-switcher-noop):hover:before`]:{backgroundColor:t.colorBgTextHover},[`&_close ${a}-switcher-icon svg`]:{transform:"rotate(-90deg)"},"&-loading-icon":{color:t.colorPrimary},"&-leaf-line":{position:"relative",zIndex:1,display:"inline-block",width:"100%",height:"100%","&:before":{position:"absolute",top:0,insetInlineEnd:t.calc(y).div(2).equal(),bottom:t.calc(f).mul(-1).equal(),marginInlineStart:-1,borderInlineEnd:`1px solid ${t.colorBorder}`,content:'""'},"&:after":{position:"absolute",width:t.calc(t.calc(y).div(2).equal()).mul(.8).equal(),height:t.calc(y).div(2).equal(),borderBottom:`1px solid ${t.colorBorder}`,content:'""'}}}),[`${a}-node-content-wrapper`]:Object.assign(Object.assign({position:"relative",minHeight:y,paddingBlock:0,paddingInline:t.paddingXS,background:"transparent",borderRadius:t.borderRadius,cursor:"pointer",transition:`all ${t.motionDurationMid}, border 0s, line-height 0s, box-shadow 0s`},gL(e,t)),{"&:hover":{backgroundColor:I},[`&${a}-node-selected`]:{color:t.nodeSelectedColor,backgroundColor:w},[`${a}-iconEle`]:{display:"inline-block",width:y,height:y,textAlign:"center",verticalAlign:"top","&:empty":{display:"none"}}}),[`${a}-unselectable ${a}-node-content-wrapper:hover`]:{backgroundColor:"transparent"},[`${o}.drop-container > [draggable]`]:{boxShadow:`0 0 0 2px ${t.colorPrimary}`},"&-show-line":{[`${a}-indent-unit`]:{position:"relative",height:"100%","&:before":{position:"absolute",top:0,insetInlineEnd:t.calc(y).div(2).equal(),bottom:t.calc(f).mul(-1).equal(),borderInlineEnd:`1px solid ${t.colorBorder}`,content:'""'},"&-end:before":{display:"none"}},[`${a}-switcher`]:{background:"transparent","&-line-icon":{verticalAlign:"-0.15em"}}},[`${o}-leaf-last ${a}-switcher-leaf-line:before`]:{top:"auto !important",bottom:"auto !important",height:`${(0,he.bf)(t.calc(y).div(2).equal())} !important`}})}},YI=(e,t)=>{const a=`.${e}`,o=`${a}-treenode`,f=t.calc(t.paddingXS).div(2).equal(),y=(0,Qr.IX)(t,{treeCls:a,treeNodeCls:o,treeNodePadding:f});return[vL(e,y),hL(y)]},qI=e=>{const{controlHeightSM:t,controlItemBgHover:a,controlItemBgActive:o}=e,f=t;return{titleHeight:f,indentSize:f,nodeHoverBg:a,nodeHoverColor:e.colorText,nodeSelectedBg:o,nodeSelectedColor:e.colorText}},yL=e=>{const{colorTextLightSolid:t,colorPrimary:a}=e;return Object.assign(Object.assign({},qI(e)),{directoryNodeSelectedColor:t,directoryNodeSelectedBg:a})};var _L=(0,te.I$)("Tree",(e,t)=>{let{prefixCls:a}=t;return[{[e.componentCls]:b(`${a}-checkbox`,e)},YI(a,e),(0,Ip.Z)(e)]},yL);const JI=4;function bL(e){const{dropPosition:t,dropLevelOffset:a,prefixCls:o,indent:f,direction:y="ltr"}=e,C=y==="ltr"?"left":"right",w=y==="ltr"?"right":"left",I={[C]:-a*f+JI,[w]:0};switch(t){case-1:I.top=-3;break;case 1:I.bottom=-3;break;default:I.bottom=-3,I[C]=f+JI;break}return s.createElement("div",{style:I,className:`${o}-drop-indicator`})}var xL=bL,CL={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"}}]},name:"caret-down",theme:"filled"},SL=CL,wL=function(t,a){return s.createElement(Kt.Z,(0,We.Z)({},t,{ref:a,icon:SL}))},EL=s.forwardRef(wL),IL=EL,TL={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M328 544h368c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"minus-square",theme:"outlined"},ML=TL,PL=function(t,a){return s.createElement(Kt.Z,(0,We.Z)({},t,{ref:a,icon:ML}))},OL=s.forwardRef(PL),RL=OL,$L={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M328 544h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"plus-square",theme:"outlined"},AL=$L,DL=function(t,a){return s.createElement(Kt.Z,(0,We.Z)({},t,{ref:a,icon:AL}))},LL=s.forwardRef(DL),zL=LL,QI=e=>{const{prefixCls:t,switcherIcon:a,treeNodeProps:o,showLine:f,switcherLoadingIcon:y}=e,{isLeaf:C,expanded:w,loading:I}=o;if(I)return s.isValidElement(y)?y:s.createElement(Sn.Z,{className:`${t}-switcher-loading-icon`});let D;if(f&&typeof f=="object"&&(D=f.showLeafIcon),C){if(!f)return null;if(typeof D!="boolean"&&D){const k=typeof D=="function"?D(o):D,Z=`${t}-switcher-line-custom-icon`;return s.isValidElement(k)?(0,bn.Tm)(k,{className:q()(k.props.className||"",Z)}):k}return D?s.createElement(XI,{className:`${t}-switcher-line-icon`}):s.createElement("span",{className:`${t}-switcher-leaf-line`})}const L=`${t}-switcher-icon`,z=typeof a=="function"?a(o):a;return s.isValidElement(z)?(0,bn.Tm)(z,{className:q()(z.props.className||"",L)}):z!==void 0?z:f?w?s.createElement(RL,{className:`${t}-switcher-line-icon`}):s.createElement(zL,{className:`${t}-switcher-line-icon`}):s.createElement(IL,{className:L})},eT=s.forwardRef((e,t)=>{var a;const{getPrefixCls:o,direction:f,virtual:y,tree:C}=s.useContext(ye.E_),{prefixCls:w,className:I,showIcon:D=!1,showLine:L,switcherIcon:z,switcherLoadingIcon:k,blockNode:Z=!1,children:j,checkable:G=!1,selectable:H=!0,draggable:X,motion:ne,style:oe}=e,ae=o("tree",w),ie=o(),le=ne!=null?ne:Object.assign(Object.assign({},(0,Tt.Z)(ie)),{motionAppear:!1}),fe=Object.assign(Object.assign({},e),{checkable:G,selectable:H,showIcon:D,motion:le,blockNode:Z,showLine:!!L,dropIndicatorRender:xL}),[me,ge,be]=_L(ae),[,Ie]=(0,Qn.ZP)(),Oe=Ie.paddingXS/2+(((a=Ie.Tree)===null||a===void 0?void 0:a.titleHeight)||Ie.controlHeightSM),Te=s.useMemo(()=>{if(!X)return!1;let De={};switch(typeof X){case"function":De.nodeDraggable=X;break;case"object":De=Object.assign({},X);break;default:break}return De.icon!==!1&&(De.icon=De.icon||s.createElement(fL,null)),De},[X]),Ve=De=>s.createElement(QI,{prefixCls:ae,switcherIcon:z,switcherLoadingIcon:k,treeNodeProps:De,showLine:L});return me(s.createElement(Ux.ZP,Object.assign({itemHeight:Oe,ref:t,virtual:y},fe,{style:Object.assign(Object.assign({},C==null?void 0:C.style),oe),prefixCls:ae,className:q()({[`${ae}-icon-hide`]:!D,[`${ae}-block-node`]:Z,[`${ae}-unselectable`]:!H,[`${ae}-rtl`]:f==="rtl"},C==null?void 0:C.className,I,ge,be),direction:f,checkable:G&&s.createElement("span",{className:`${ae}-checkbox-inner`}),selectable:H,switcherIcon:Ve,draggable:Te}),j))});const tT=0,xw=1,nT=2;function Cw(e,t,a){const{key:o,children:f}=a;function y(C){const w=C[o],I=C[f];t(w,C)!==!1&&Cw(I||[],t,a)}e.forEach(y)}function NL(e){let{treeData:t,expandedKeys:a,startKey:o,endKey:f,fieldNames:y}=e;const C=[];let w=tT;if(o&&o===f)return[o];if(!o||!f)return[];function I(D){return D===o||D===f}return Cw(t,D=>{if(w===nT)return!1;if(I(D)){if(C.push(D),w===tT)w=xw;else if(w===xw)return w=nT,!1}else w===xw&&C.push(D);return a.includes(D)},(0,Uf.w$)(y)),C}function Sw(e,t,a){const o=(0,xe.Z)(t),f=[];return Cw(e,(y,C)=>{const w=o.indexOf(y);return w!==-1&&(f.push(C),o.splice(w,1)),!!o.length},(0,Uf.w$)(a)),f}var rT=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a};function BL(e){const{isLeaf:t,expanded:a}=e;return t?s.createElement(XI,null):a?s.createElement(nL,null):s.createElement(sL,null)}function iT(e){let{treeData:t,children:a}=e;return t||(0,Uf.zn)(a)}const FL=(e,t)=>{var{defaultExpandAll:a,defaultExpandParent:o,defaultExpandedKeys:f}=e,y=rT(e,["defaultExpandAll","defaultExpandParent","defaultExpandedKeys"]);const C=s.useRef(null),w=s.useRef(null),I=()=>{const{keyEntities:me}=(0,Uf.I8)(iT(y));let ge;return a?ge=Object.keys(me):o?ge=(0,gw.r7)(y.expandedKeys||f||[],me):ge=y.expandedKeys||f||[],ge},[D,L]=s.useState(y.selectedKeys||y.defaultSelectedKeys||[]),[z,k]=s.useState(()=>I());s.useEffect(()=>{"selectedKeys"in y&&L(y.selectedKeys)},[y.selectedKeys]),s.useEffect(()=>{"expandedKeys"in y&&k(y.expandedKeys)},[y.expandedKeys]);const Z=(me,ge)=>{var be;return"expandedKeys"in y||k(me),(be=y.onExpand)===null||be===void 0?void 0:be.call(y,me,ge)},j=(me,ge)=>{var be;const{multiple:Ie,fieldNames:Oe}=y,{node:Te,nativeEvent:Ve}=ge,{key:De=""}=Te,Ue=iT(y),ke=Object.assign(Object.assign({},ge),{selected:!0}),st=(Ve==null?void 0:Ve.ctrlKey)||(Ve==null?void 0:Ve.metaKey),ct=Ve==null?void 0:Ve.shiftKey;let Et;Ie&&st?(Et=me,C.current=De,w.current=Et,ke.selectedNodes=Sw(Ue,Et,Oe)):Ie&&ct?(Et=Array.from(new Set([].concat((0,xe.Z)(w.current||[]),(0,xe.Z)(NL({treeData:Ue,expandedKeys:z,startKey:De,endKey:C.current,fieldNames:Oe}))))),ke.selectedNodes=Sw(Ue,Et,Oe)):(Et=[De],C.current=De,w.current=Et,ke.selectedNodes=Sw(Ue,Et,Oe)),(be=y.onSelect)===null||be===void 0||be.call(y,Et,ke),"selectedKeys"in y||L(Et)},{getPrefixCls:G,direction:H}=s.useContext(ye.E_),{prefixCls:X,className:ne,showIcon:oe=!0,expandAction:ae="click"}=y,ie=rT(y,["prefixCls","className","showIcon","expandAction"]),le=G("tree",X),fe=q()(`${le}-directory`,{[`${le}-directory-rtl`]:H==="rtl"},ne);return s.createElement(eT,Object.assign({icon:BL,ref:t,blockNode:!0},ie,{showIcon:oe,expandAction:ae,prefixCls:le,className:fe,expandedKeys:z,selectedKeys:D,onSelect:j,onExpand:Z}))};var kL=s.forwardRef(FL);const ww=eT;ww.DirectoryTree=kL,ww.TreeNode=Ux.OF;var oT=ww,aT=e=>{const{value:t,filterSearch:a,tablePrefixCls:o,locale:f,onChange:y}=e;return a?s.createElement("div",{className:`${o}-filter-dropdown-search`},s.createElement(hv.Z,{prefix:s.createElement(jS.Z,null),placeholder:f.filterSearchPlaceholder,onChange:y,value:t,htmlSize:1,className:`${o}-filter-dropdown-search-input`})):null};const jL=e=>{const{keyCode:t}=e;t===nt.Z.ENTER&&e.stopPropagation()};var ZL=s.forwardRef((e,t)=>s.createElement("div",{className:e.className,onClick:a=>a.stopPropagation(),onKeyDown:jL,ref:t},e.children));function Cv(e){let t=[];return(e||[]).forEach(a=>{let{value:o,children:f}=a;t.push(o),f&&(t=[].concat((0,xe.Z)(t),(0,xe.Z)(Cv(f))))}),t}function VL(e){return e.some(t=>{let{children:a}=t;return a})}function sT(e,t){return typeof t=="string"||typeof t=="number"?t==null?void 0:t.toString().toLowerCase().includes(e.trim().toLowerCase()):!1}function lT(e){let{filters:t,prefixCls:a,filteredKeys:o,filterMultiple:f,searchValue:y,filterSearch:C}=e;return t.map((w,I)=>{const D=String(w.value);if(w.children)return{key:D||I,label:w.text,popupClassName:`${a}-dropdown-submenu`,children:lT({filters:w.children,prefixCls:a,filteredKeys:o,filterMultiple:f,searchValue:y,filterSearch:C})};const L=f?ni:nw.ZP,z={key:w.value!==void 0?D:I,label:s.createElement(s.Fragment,null,s.createElement(L,{checked:o.includes(D)}),s.createElement("span",null,w.text))};return y.trim()?typeof C=="function"?C(y,w)?z:null:sT(y,w.text)?z:null:z})}function Ew(e){return e||[]}var HL=e=>{var t,a,o,f;const{tablePrefixCls:y,prefixCls:C,column:w,dropdownPrefixCls:I,columnKey:D,filterOnClose:L,filterMultiple:z,filterMode:k="menu",filterSearch:Z=!1,filterState:j,triggerFilter:G,locale:H,children:X,getPopupContainer:ne,rootClassName:oe}=e,{filterResetToDefaultFilteredValue:ae,defaultFilteredValue:ie,filterDropdownProps:le={},filterDropdownOpen:fe,filterDropdownVisible:me,onFilterDropdownVisibleChange:ge,onFilterDropdownOpenChange:be}=w,[Ie,Oe]=s.useState(!1),Te=!!(j&&(!((t=j.filteredKeys)===null||t===void 0)&&t.length||j.forceFiltered)),Ve=Fn=>{var sr;Oe(Fn),(sr=le.onOpenChange)===null||sr===void 0||sr.call(le,Fn),be==null||be(Fn),ge==null||ge(Fn)},De=(f=(o=(a=le.open)!==null&&a!==void 0?a:fe)!==null&&o!==void 0?o:me)!==null&&f!==void 0?f:Ie,Ue=j==null?void 0:j.filteredKeys,[ke,st]=G5(Ew(Ue)),ct=Fn=>{let{selectedKeys:sr}=Fn;st(sr)},Et=(Fn,sr)=>{let{node:Gr,checked:yi}=sr;ct(z?{selectedKeys:Fn}:{selectedKeys:yi&&Gr.key?[Gr.key]:[]})};s.useEffect(()=>{Ie&&ct({selectedKeys:Ew(Ue)})},[Ue]);const[It,Ct]=s.useState([]),mt=Fn=>{Ct(Fn)},[bt,zt]=s.useState(""),$t=Fn=>{const{value:sr}=Fn.target;zt(sr)};s.useEffect(()=>{Ie||zt("")},[Ie]);const Ht=Fn=>{const sr=Fn!=null&&Fn.length?Fn:null;if(sr===null&&(!j||!j.filteredKeys)||(0,Ol.Z)(sr,j==null?void 0:j.filteredKeys,!0))return null;G({column:w,key:D,filteredKeys:sr})},Mt=()=>{Ve(!1),Ht(ke())},Cn=function(){let{confirm:Fn,closeDropdown:sr}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{confirm:!1,closeDropdown:!1};Fn&&Ht([]),sr&&Ve(!1),zt(""),st(ae?(ie||[]).map(Gr=>String(Gr)):[])},Hn=function(){let{closeDropdown:Fn}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{closeDropdown:!0};Fn&&Ve(!1),Ht(ke())},pn=(Fn,sr)=>{sr.source==="trigger"&&(Fn&&Ue!==void 0&&st(Ew(Ue)),Ve(Fn),!Fn&&!w.filterDropdown&&L&&Mt())},Dn=q()({[`${I}-menu-without-submenu`]:!VL(w.filters||[])}),Qt=Fn=>{if(Fn.target.checked){const sr=Cv(w==null?void 0:w.filters).map(Gr=>String(Gr));st(sr)}else st([])},Ft=Fn=>{let{filters:sr}=Fn;return(sr||[]).map((Gr,yi)=>{const Di=String(Gr.value),Ui={title:Gr.text,key:Gr.value!==void 0?Di:String(yi)};return Gr.children&&(Ui.children=Ft({filters:Gr.children})),Ui})},kn=Fn=>{var sr;return Object.assign(Object.assign({},Fn),{text:Fn.title,value:Fn.key,children:((sr=Fn.children)===null||sr===void 0?void 0:sr.map(Gr=>kn(Gr)))||[]})};let Pn;const{direction:Dr,renderEmpty:br}=s.useContext(ye.E_);if(typeof w.filterDropdown=="function")Pn=w.filterDropdown({prefixCls:`${I}-custom`,setSelectedKeys:Fn=>ct({selectedKeys:Fn}),selectedKeys:ke(),confirm:Hn,clearFilters:Cn,filters:w.filters,visible:De,close:()=>{Ve(!1)}});else if(w.filterDropdown)Pn=w.filterDropdown;else{const Fn=ke()||[],sr=()=>{var yi,Di;const Ui=(yi=br==null?void 0:br("Table.filter"))!==null&&yi!==void 0?yi:s.createElement(zS.Z,{image:zS.Z.PRESENTED_IMAGE_SIMPLE,description:H.filterEmptyText,styles:{image:{height:24}},style:{margin:0,padding:"16px 0"}});if((w.filters||[]).length===0)return Ui;if(k==="tree")return s.createElement(s.Fragment,null,s.createElement(aT,{filterSearch:Z,value:bt,onChange:$t,tablePrefixCls:y,locale:H}),s.createElement("div",{className:`${y}-filter-dropdown-tree`},z?s.createElement(ni,{checked:Fn.length===Cv(w.filters).length,indeterminate:Fn.length>0&&Fn.length<Cv(w.filters).length,className:`${y}-filter-dropdown-checkall`,onChange:Qt},(Di=H==null?void 0:H.filterCheckall)!==null&&Di!==void 0?Di:H==null?void 0:H.filterCheckAll):null,s.createElement(oT,{checkable:!0,selectable:!1,blockNode:!0,multiple:z,checkStrictly:!z,className:`${I}-menu`,onCheck:Et,checkedKeys:Fn,selectedKeys:Fn,showIcon:!1,treeData:Ft({filters:w.filters}),autoExpandParent:!0,defaultExpandAll:!0,filterTreeNode:bt.trim()?mi=>typeof Z=="function"?Z(bt,kn(mi)):sT(bt,mi.title):void 0})));const $o=lT({filters:w.filters||[],filterSearch:Z,prefixCls:C,filteredKeys:ke(),filterMultiple:z,searchValue:bt}),Ri=$o.every(mi=>mi===null);return s.createElement(s.Fragment,null,s.createElement(aT,{filterSearch:Z,value:bt,onChange:$t,tablePrefixCls:y,locale:H}),Ri?Ui:s.createElement(Xv,{selectable:!0,multiple:z,prefixCls:`${I}-menu`,className:Dn,onSelect:ct,onDeselect:ct,selectedKeys:Fn,getPopupContainer:ne,openKeys:It,onOpenChange:mt,items:$o}))},Gr=()=>ae?(0,Ol.Z)((ie||[]).map(yi=>String(yi)),Fn,!0):Fn.length===0;Pn=s.createElement(s.Fragment,null,sr(),s.createElement("div",{className:`${C}-dropdown-btns`},s.createElement($n,{type:"link",size:"small",disabled:Gr(),onClick:()=>Cn()},H.filterReset),s.createElement($n,{type:"primary",size:"small",onClick:Mt},H.filterConfirm)))}w.filterDropdown&&(Pn=s.createElement(Kl,{selectable:void 0},Pn)),Pn=s.createElement(ZL,{className:`${C}-dropdown`},Pn);const ar=KS({trigger:["click"],placement:Dr==="rtl"?"bottomLeft":"bottomRight",children:(()=>{let Fn;return typeof w.filterIcon=="function"?Fn=w.filterIcon(Te):w.filterIcon?Fn=w.filterIcon:Fn=s.createElement(W5,null),s.createElement("span",{role:"button",tabIndex:-1,className:q()(`${C}-trigger`,{active:Te}),onClick:sr=>{sr.stopPropagation()}},Fn)})(),getPopupContainer:ne},Object.assign(Object.assign({},le),{rootClassName:q()(oe,le.rootClassName),open:De,onOpenChange:pn,dropdownRender:()=>typeof(le==null?void 0:le.dropdownRender)=="function"?le.dropdownRender(Pn):Pn}));return s.createElement("div",{className:`${C}-column`},s.createElement("span",{className:`${y}-column-title`},X),s.createElement(wx,Object.assign({},ar)))};const Iw=(e,t,a)=>{let o=[];return(e||[]).forEach((f,y)=>{var C;const w=xv(y,a);if(f.filters||"filterDropdown"in f||"onFilter"in f)if("filteredValue"in f){let I=f.filteredValue;"filterDropdown"in f||(I=(C=I==null?void 0:I.map(String))!==null&&C!==void 0?C:I),o.push({column:f,key:nm(f,w),filteredKeys:I,forceFiltered:f.filtered})}else o.push({column:f,key:nm(f,w),filteredKeys:t&&f.defaultFilteredValue?f.defaultFilteredValue:void 0,forceFiltered:f.filtered});"children"in f&&(o=[].concat((0,xe.Z)(o),(0,xe.Z)(Iw(f.children,t,w))))}),o};function cT(e,t,a,o,f,y,C,w,I){return a.map((D,L)=>{const z=xv(L,w),{filterOnClose:k=!0,filterMultiple:Z=!0,filterMode:j,filterSearch:G}=D;let H=D;if(H.filters||H.filterDropdown){const X=nm(H,z),ne=o.find(oe=>{let{key:ae}=oe;return X===ae});H=Object.assign(Object.assign({},H),{title:oe=>s.createElement(HL,{tablePrefixCls:e,prefixCls:`${e}-filter`,dropdownPrefixCls:t,column:H,columnKey:X,filterState:ne,filterOnClose:k,filterMultiple:Z,filterMode:j,filterSearch:G,triggerFilter:y,locale:f,getPopupContainer:C,rootClassName:I},Hx(D.title,oe))})}return"children"in H&&(H=Object.assign(Object.assign({},H),{children:cT(e,t,H.children,o,f,y,C,z,I)})),H})}const uT=e=>{const t={};return e.forEach(a=>{let{key:o,filteredKeys:f,column:y}=a;const C=o,{filters:w,filterDropdown:I}=y;if(I)t[C]=f||null;else if(Array.isArray(f)){const D=Cv(w);t[C]=D.filter(L=>f.includes(String(L)))}else t[C]=null}),t},Tw=(e,t,a)=>t.reduce((f,y)=>{const{column:{onFilter:C,filters:w},filteredKeys:I}=y;return C&&I&&I.length?f.map(D=>Object.assign({},D)).filter(D=>I.some(L=>{const z=Cv(w),k=z.findIndex(j=>String(j)===String(L)),Z=k!==-1?z[k]:L;return D[a]&&(D[a]=Tw(D[a],t,a)),C(Z,D)})):f},e),dT=e=>e.flatMap(t=>"children"in t?[t].concat((0,xe.Z)(dT(t.children||[]))):[t]);var UL=e=>{const{prefixCls:t,dropdownPrefixCls:a,mergedColumns:o,onFilterChange:f,getPopupContainer:y,locale:C,rootClassName:w}=e,I=(0,uo.ln)("Table"),D=s.useMemo(()=>dT(o||[]),[o]),[L,z]=s.useState(()=>Iw(D,!0)),k=s.useMemo(()=>{const H=Iw(D,!1);if(H.length===0)return H;let X=!0,ne=!0;if(H.forEach(oe=>{let{filteredKeys:ae}=oe;ae!==void 0?X=!1:ne=!1}),X){const oe=(D||[]).map((ae,ie)=>nm(ae,xv(ie)));return L.filter(ae=>{let{key:ie}=ae;return oe.includes(ie)}).map(ae=>{const ie=D[oe.findIndex(le=>le===ae.key)];return Object.assign(Object.assign({},ae),{column:Object.assign(Object.assign({},ae.column),ie),forceFiltered:ie.filtered})})}return H},[D,L]),Z=s.useMemo(()=>uT(k),[k]),j=H=>{const X=k.filter(ne=>{let{key:oe}=ne;return oe!==H.key});X.push(H),z(X),f(uT(X),X)};return[H=>cT(t,a,H,k,C,j,y,void 0,w),k,Z]},WL=(e,t,a)=>{const o=s.useRef({});function f(y){var C;if(!o.current||o.current.data!==e||o.current.childrenColumnName!==t||o.current.getRowKey!==a){let I=function(D){D.forEach((L,z)=>{const k=a(L,z);w.set(k,L),L&&typeof L=="object"&&t in L&&I(L[t]||[])})};const w=new Map;I(e),o.current={data:e,childrenColumnName:t,kvMap:w,getRowKey:a}}return(C=o.current.kvMap)===null||C===void 0?void 0:C.get(y)}return[f]},GL=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a};const fT=10;function KL(e,t){const a={current:e.current,pageSize:e.pageSize};return Object.keys(t&&typeof t=="object"?t:{}).forEach(f=>{const y=e[f];typeof y!="function"&&(a[f]=y)}),a}function XL(e,t,a){const o=a&&typeof a=="object"?a:{},{total:f=0}=o,y=GL(o,["total"]),[C,w]=(0,s.useState)(()=>({current:"defaultCurrent"in y?y.defaultCurrent:1,pageSize:"defaultPageSize"in y?y.defaultPageSize:fT})),I=KS(C,y,{total:f>0?f:e}),D=Math.ceil((f||e)/I.pageSize);I.current>D&&(I.current=D||1);const L=(k,Z)=>{w({current:k!=null?k:1,pageSize:Z||I.pageSize})},z=(k,Z)=>{var j;a&&((j=a.onChange)===null||j===void 0||j.call(a,k,Z)),L(k,Z),t(k,Z||(I==null?void 0:I.pageSize))};return a===!1?[{},()=>{}]:[Object.assign(Object.assign({},I),{onChange:z}),L]}var YL=XL,qL={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"}}]},name:"caret-down",theme:"outlined"},JL=qL,QL=function(t,a){return s.createElement(Kt.Z,(0,We.Z)({},t,{ref:a,icon:JL}))},ez=s.forwardRef(QL),tz=ez,nz={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M858.9 689L530.5 308.2c-9.4-10.9-27.5-10.9-37 0L165.1 689c-12.2 14.2-1.2 35 18.5 35h656.8c19.7 0 30.7-20.8 18.5-35z"}}]},name:"caret-up",theme:"outlined"},rz=nz,iz=function(t,a){return s.createElement(Kt.Z,(0,We.Z)({},t,{ref:a,icon:rz}))},oz=s.forwardRef(iz),az=oz;const Wx="ascend",Mw="descend",Gx=e=>typeof e.sorter=="object"&&typeof e.sorter.multiple=="number"?e.sorter.multiple:!1,hT=e=>typeof e=="function"?e:e&&typeof e=="object"&&e.compare?e.compare:!1,sz=(e,t)=>t?e[e.indexOf(t)+1]:e[0],Pw=(e,t,a)=>{let o=[];const f=(y,C)=>{o.push({column:y,key:nm(y,C),multiplePriority:Gx(y),sortOrder:y.sortOrder})};return(e||[]).forEach((y,C)=>{const w=xv(C,a);y.children?("sortOrder"in y&&f(y,w),o=[].concat((0,xe.Z)(o),(0,xe.Z)(Pw(y.children,t,w)))):y.sorter&&("sortOrder"in y?f(y,w):t&&y.defaultSortOrder&&o.push({column:y,key:nm(y,w),multiplePriority:Gx(y),sortOrder:y.defaultSortOrder}))}),o},pT=(e,t,a,o,f,y,C,w)=>(t||[]).map((D,L)=>{const z=xv(L,w);let k=D;if(k.sorter){const Z=k.sortDirections||f,j=k.showSorterTooltip===void 0?C:k.showSorterTooltip,G=nm(k,z),H=a.find(ge=>{let{key:be}=ge;return be===G}),X=H?H.sortOrder:null,ne=sz(Z,X);let oe;if(D.sortIcon)oe=D.sortIcon({sortOrder:X});else{const ge=Z.includes(Wx)&&s.createElement(az,{className:q()(`${e}-column-sorter-up`,{active:X===Wx})}),be=Z.includes(Mw)&&s.createElement(tz,{className:q()(`${e}-column-sorter-down`,{active:X===Mw})});oe=s.createElement("span",{className:q()(`${e}-column-sorter`,{[`${e}-column-sorter-full`]:!!(ge&&be)})},s.createElement("span",{className:`${e}-column-sorter-inner`,"aria-hidden":"true"},ge,be))}const{cancelSort:ae,triggerAsc:ie,triggerDesc:le}=y||{};let fe=ae;ne===Mw?fe=le:ne===Wx&&(fe=ie);const me=typeof j=="object"?Object.assign({title:fe},j):{title:fe};k=Object.assign(Object.assign({},k),{className:q()(k.className,{[`${e}-column-sort`]:X}),title:ge=>{const be=`${e}-column-sorters`,Ie=s.createElement("span",{className:`${e}-column-title`},Hx(D.title,ge)),Oe=s.createElement("div",{className:be},Ie,oe);return j?typeof j!="boolean"&&(j==null?void 0:j.target)==="sorter-icon"?s.createElement("div",{className:`${be} ${e}-column-sorters-tooltip-target-sorter`},Ie,s.createElement(Du.Z,Object.assign({},me),oe)):s.createElement(Du.Z,Object.assign({},me),Oe):Oe},onHeaderCell:ge=>{var be;const Ie=((be=D.onHeaderCell)===null||be===void 0?void 0:be.call(D,ge))||{},Oe=Ie.onClick,Te=Ie.onKeyDown;Ie.onClick=Ue=>{o({column:D,key:G,sortOrder:ne,multiplePriority:Gx(D)}),Oe==null||Oe(Ue)},Ie.onKeyDown=Ue=>{Ue.keyCode===nt.Z.ENTER&&(o({column:D,key:G,sortOrder:ne,multiplePriority:Gx(D)}),Te==null||Te(Ue))};const Ve=j5(D.title,{}),De=Ve==null?void 0:Ve.toString();return X&&(Ie["aria-sort"]=X==="ascend"?"ascending":"descending"),Ie["aria-label"]=De||"",Ie.className=q()(Ie.className,`${e}-column-has-sorters`),Ie.tabIndex=0,D.ellipsis&&(Ie.title=(Ve!=null?Ve:"").toString()),Ie}})}return"children"in k&&(k=Object.assign(Object.assign({},k),{children:pT(e,k.children,a,o,f,y,C,z)})),k}),mT=e=>{const{column:t,sortOrder:a}=e;return{column:t,order:a,field:t.dataIndex,columnKey:t.key}},gT=e=>{const t=e.filter(a=>{let{sortOrder:o}=a;return o}).map(mT);if(t.length===0&&e.length){const a=e.length-1;return Object.assign(Object.assign({},mT(e[a])),{column:void 0,order:void 0,field:void 0,columnKey:void 0})}return t.length<=1?t[0]||{}:t},Ow=(e,t,a)=>{const o=t.slice().sort((C,w)=>w.multiplePriority-C.multiplePriority),f=e.slice(),y=o.filter(C=>{let{column:{sorter:w},sortOrder:I}=C;return hT(w)&&I});return y.length?f.sort((C,w)=>{for(let I=0;I<y.length;I+=1){const D=y[I],{column:{sorter:L},sortOrder:z}=D,k=hT(L);if(k&&z){const Z=k(C,w,z);if(Z!==0)return z===Wx?Z:-Z}}return 0}).map(C=>{const w=C[a];return w?Object.assign(Object.assign({},C),{[a]:Ow(w,t,a)}):C}):f};var lz=e=>{const{prefixCls:t,mergedColumns:a,sortDirections:o,tableLocale:f,showSorterTooltip:y,onSorterChange:C}=e,[w,I]=s.useState(Pw(a,!0)),D=(G,H)=>{const X=[];return G.forEach((ne,oe)=>{const ae=xv(oe,H);if(X.push(nm(ne,ae)),Array.isArray(ne.children)){const ie=D(ne.children,ae);X.push.apply(X,(0,xe.Z)(ie))}}),X},L=s.useMemo(()=>{let G=!0;const H=Pw(a,!1);if(!H.length){const ae=D(a);return w.filter(ie=>{let{key:le}=ie;return ae.includes(le)})}const X=[];function ne(ae){G?X.push(ae):X.push(Object.assign(Object.assign({},ae),{sortOrder:null}))}let oe=null;return H.forEach(ae=>{oe===null?(ne(ae),ae.sortOrder&&(ae.multiplePriority===!1?G=!1:oe=!0)):(oe&&ae.multiplePriority!==!1||(G=!1),ne(ae))}),X},[a,w]),z=s.useMemo(()=>{var G,H;const X=L.map(ne=>{let{column:oe,sortOrder:ae}=ne;return{column:oe,order:ae}});return{sortColumns:X,sortColumn:(G=X[0])===null||G===void 0?void 0:G.column,sortOrder:(H=X[0])===null||H===void 0?void 0:H.order}},[L]),k=G=>{let H;G.multiplePriority===!1||!L.length||L[0].multiplePriority===!1?H=[G]:H=[].concat((0,xe.Z)(L.filter(X=>{let{key:ne}=X;return ne!==G.key})),[G]),I(H),C(gT(H),H)};return[G=>pT(t,G,L,k,o,f,y),L,z,()=>gT(L)]};const vT=(e,t)=>e.map(o=>{const f=Object.assign({},o);return f.title=Hx(o.title,t),"children"in f&&(f.children=vT(f.children,t)),f});var cz=e=>[s.useCallback(a=>vT(a,e),[e])],uz=VI((e,t)=>{const{_renderTimes:a}=e,{_renderTimes:o}=t;return a!==o}),dz=WI((e,t)=>{const{_renderTimes:a}=e,{_renderTimes:o}=t;return a!==o}),fz=e=>{const{componentCls:t,lineWidth:a,lineType:o,tableBorderColor:f,tableHeaderBg:y,tablePaddingVertical:C,tablePaddingHorizontal:w,calc:I}=e,D=`${(0,he.bf)(a)} ${o} ${f}`,L=(z,k,Z)=>({[`&${t}-${z}`]:{[`> ${t}-container`]:{[`> ${t}-content, > ${t}-body`]:{"\n            > table > tbody > tr > th,\n            > table > tbody > tr > td\n          ":{[`> ${t}-expanded-row-fixed`]:{margin:`${(0,he.bf)(I(k).mul(-1).equal())}
              ${(0,he.bf)(I(I(Z).add(a)).mul(-1).equal())}`}}}}}});return{[`${t}-wrapper`]:{[`${t}${t}-bordered`]:Object.assign(Object.assign(Object.assign({[`> ${t}-title`]:{border:D,borderBottom:0},[`> ${t}-container`]:{borderInlineStart:D,borderTop:D,[`
            > ${t}-content,
            > ${t}-header,
            > ${t}-body,
            > ${t}-summary
          `]:{"> table":{"\n                > thead > tr > th,\n                > thead > tr > td,\n                > tbody > tr > th,\n                > tbody > tr > td,\n                > tfoot > tr > th,\n                > tfoot > tr > td\n              ":{borderInlineEnd:D},"> thead":{"> tr:not(:last-child) > th":{borderBottom:D},"> tr > th::before":{backgroundColor:"transparent !important"}},"\n                > thead > tr,\n                > tbody > tr,\n                > tfoot > tr\n              ":{[`> ${t}-cell-fix-right-first::after`]:{borderInlineEnd:D}},"\n                > tbody > tr > th,\n                > tbody > tr > td\n              ":{[`> ${t}-expanded-row-fixed`]:{margin:`${(0,he.bf)(I(C).mul(-1).equal())} ${(0,he.bf)(I(I(w).add(a)).mul(-1).equal())}`,"&::after":{position:"absolute",top:0,insetInlineEnd:a,bottom:0,borderInlineEnd:D,content:'""'}}}}}},[`&${t}-scroll-horizontal`]:{[`> ${t}-container > ${t}-body`]:{"> table > tbody":{[`
                > tr${t}-expanded-row,
                > tr${t}-placeholder
              `]:{"> th, > td":{borderInlineEnd:0}}}}}},L("middle",e.tablePaddingVerticalMiddle,e.tablePaddingHorizontalMiddle)),L("small",e.tablePaddingVerticalSmall,e.tablePaddingHorizontalSmall)),{[`> ${t}-footer`]:{border:D,borderTop:0}}),[`${t}-cell`]:{[`${t}-container:first-child`]:{borderTop:0},"&-scrollbar:not([rowspan])":{boxShadow:`0 ${(0,he.bf)(a)} 0 ${(0,he.bf)(a)} ${y}`}},[`${t}-bordered ${t}-cell-scrollbar`]:{borderInlineEnd:D}}}},hz=e=>{const{componentCls:t}=e;return{[`${t}-wrapper`]:{[`${t}-cell-ellipsis`]:Object.assign(Object.assign({},Jt.vS),{wordBreak:"keep-all",[`
          &${t}-cell-fix-left-last,
          &${t}-cell-fix-right-first
        `]:{overflow:"visible",[`${t}-cell-content`]:{display:"block",overflow:"hidden",textOverflow:"ellipsis"}},[`${t}-column-title`]:{overflow:"hidden",textOverflow:"ellipsis",wordBreak:"keep-all"}})}}},pz=e=>{const{componentCls:t}=e;return{[`${t}-wrapper`]:{[`${t}-tbody > tr${t}-placeholder`]:{textAlign:"center",color:e.colorTextDisabled,"\n          &:hover > th,\n          &:hover > td,\n        ":{background:e.colorBgContainer}}}}},mz=e=>{const{componentCls:t,antCls:a,motionDurationSlow:o,lineWidth:f,paddingXS:y,lineType:C,tableBorderColor:w,tableExpandIconBg:I,tableExpandColumnWidth:D,borderRadius:L,tablePaddingVertical:z,tablePaddingHorizontal:k,tableExpandedRowBg:Z,paddingXXS:j,expandIconMarginTop:G,expandIconSize:H,expandIconHalfInner:X,expandIconScale:ne,calc:oe}=e,ae=`${(0,he.bf)(f)} ${C} ${w}`,ie=oe(j).sub(f).equal();return{[`${t}-wrapper`]:{[`${t}-expand-icon-col`]:{width:D},[`${t}-row-expand-icon-cell`]:{textAlign:"center",[`${t}-row-expand-icon`]:{display:"inline-flex",float:"none",verticalAlign:"sub"}},[`${t}-row-indent`]:{height:1,float:"left"},[`${t}-row-expand-icon`]:Object.assign(Object.assign({},(0,Jt.Nd)(e)),{position:"relative",float:"left",width:H,height:H,color:"inherit",lineHeight:(0,he.bf)(H),background:I,border:ae,borderRadius:L,transform:`scale(${ne})`,"&:focus, &:hover, &:active":{borderColor:"currentcolor"},"&::before, &::after":{position:"absolute",background:"currentcolor",transition:`transform ${o} ease-out`,content:'""'},"&::before":{top:X,insetInlineEnd:ie,insetInlineStart:ie,height:f},"&::after":{top:ie,bottom:ie,insetInlineStart:X,width:f,transform:"rotate(90deg)"},"&-collapsed::before":{transform:"rotate(-180deg)"},"&-collapsed::after":{transform:"rotate(0deg)"},"&-spaced":{"&::before, &::after":{display:"none",content:"none"},background:"transparent",border:0,visibility:"hidden"}}),[`${t}-row-indent + ${t}-row-expand-icon`]:{marginTop:G,marginInlineEnd:y},[`tr${t}-expanded-row`]:{"&, &:hover":{"> th, > td":{background:Z}},[`${a}-descriptions-view`]:{display:"flex",table:{flex:"auto",width:"100%"}}},[`${t}-expanded-row-fixed`]:{position:"relative",margin:`${(0,he.bf)(oe(z).mul(-1).equal())} ${(0,he.bf)(oe(k).mul(-1).equal())}`,padding:`${(0,he.bf)(z)} ${(0,he.bf)(k)}`}}}},gz=e=>{const{componentCls:t,antCls:a,iconCls:o,tableFilterDropdownWidth:f,tableFilterDropdownSearchWidth:y,paddingXXS:C,paddingXS:w,colorText:I,lineWidth:D,lineType:L,tableBorderColor:z,headerIconColor:k,fontSizeSM:Z,tablePaddingHorizontal:j,borderRadius:G,motionDurationSlow:H,colorTextDescription:X,colorPrimary:ne,tableHeaderFilterActiveBg:oe,colorTextDisabled:ae,tableFilterDropdownBg:ie,tableFilterDropdownHeight:le,controlItemBgHover:fe,controlItemBgActive:me,boxShadowSecondary:ge,filterDropdownMenuBg:be,calc:Ie}=e,Oe=`${a}-dropdown`,Te=`${t}-filter-dropdown`,Ve=`${a}-tree`,De=`${(0,he.bf)(D)} ${L} ${z}`;return[{[`${t}-wrapper`]:{[`${t}-filter-column`]:{display:"flex",justifyContent:"space-between"},[`${t}-filter-trigger`]:{position:"relative",display:"flex",alignItems:"center",marginBlock:Ie(C).mul(-1).equal(),marginInline:`${(0,he.bf)(C)} ${(0,he.bf)(Ie(j).div(2).mul(-1).equal())}`,padding:`0 ${(0,he.bf)(C)}`,color:k,fontSize:Z,borderRadius:G,cursor:"pointer",transition:`all ${H}`,"&:hover":{color:X,background:oe},"&.active":{color:ne}}}},{[`${a}-dropdown`]:{[Te]:Object.assign(Object.assign({},(0,Jt.Wf)(e)),{minWidth:f,backgroundColor:ie,borderRadius:G,boxShadow:ge,overflow:"hidden",[`${Oe}-menu`]:{maxHeight:le,overflowX:"hidden",border:0,boxShadow:"none",borderRadius:"unset",backgroundColor:be,"&:empty::after":{display:"block",padding:`${(0,he.bf)(w)} 0`,color:ae,fontSize:Z,textAlign:"center",content:'"Not Found"'}},[`${Te}-tree`]:{paddingBlock:`${(0,he.bf)(w)} 0`,paddingInline:w,[Ve]:{padding:0},[`${Ve}-treenode ${Ve}-node-content-wrapper:hover`]:{backgroundColor:fe},[`${Ve}-treenode-checkbox-checked ${Ve}-node-content-wrapper`]:{"&, &:hover":{backgroundColor:me}}},[`${Te}-search`]:{padding:w,borderBottom:De,"&-input":{input:{minWidth:y},[o]:{color:ae}}},[`${Te}-checkall`]:{width:"100%",marginBottom:C,marginInlineStart:C},[`${Te}-btns`]:{display:"flex",justifyContent:"space-between",padding:`${(0,he.bf)(Ie(w).sub(D).equal())} ${(0,he.bf)(w)}`,overflow:"hidden",borderTop:De}})}},{[`${a}-dropdown ${Te}, ${Te}-submenu`]:{[`${a}-checkbox-wrapper + span`]:{paddingInlineStart:w,color:I},"> ul":{maxHeight:"calc(100vh - 130px)",overflowX:"hidden",overflowY:"auto"}}}]},vz=e=>{const{componentCls:t,lineWidth:a,colorSplit:o,motionDurationSlow:f,zIndexTableFixed:y,tableBg:C,zIndexTableSticky:w,calc:I}=e,D=o;return{[`${t}-wrapper`]:{[`
        ${t}-cell-fix-left,
        ${t}-cell-fix-right
      `]:{position:"sticky !important",zIndex:y,background:C},[`
        ${t}-cell-fix-left-first::after,
        ${t}-cell-fix-left-last::after
      `]:{position:"absolute",top:0,right:{_skip_check_:!0,value:0},bottom:I(a).mul(-1).equal(),width:30,transform:"translateX(100%)",transition:`box-shadow ${f}`,content:'""',pointerEvents:"none"},[`${t}-cell-fix-left-all::after`]:{display:"none"},[`
        ${t}-cell-fix-right-first::after,
        ${t}-cell-fix-right-last::after
      `]:{position:"absolute",top:0,bottom:I(a).mul(-1).equal(),left:{_skip_check_:!0,value:0},width:30,transform:"translateX(-100%)",transition:`box-shadow ${f}`,content:'""',pointerEvents:"none"},[`${t}-container`]:{position:"relative","&::before, &::after":{position:"absolute",top:0,bottom:0,zIndex:I(w).add(1).equal({unit:!1}),width:30,transition:`box-shadow ${f}`,content:'""',pointerEvents:"none"},"&::before":{insetInlineStart:0},"&::after":{insetInlineEnd:0}},[`${t}-ping-left`]:{[`&:not(${t}-has-fix-left) ${t}-container::before`]:{boxShadow:`inset 10px 0 8px -8px ${D}`},[`
          ${t}-cell-fix-left-first::after,
          ${t}-cell-fix-left-last::after
        `]:{boxShadow:`inset 10px 0 8px -8px ${D}`},[`${t}-cell-fix-left-last::before`]:{backgroundColor:"transparent !important"}},[`${t}-ping-right`]:{[`&:not(${t}-has-fix-right) ${t}-container::after`]:{boxShadow:`inset -10px 0 8px -8px ${D}`},[`
          ${t}-cell-fix-right-first::after,
          ${t}-cell-fix-right-last::after
        `]:{boxShadow:`inset -10px 0 8px -8px ${D}`}},[`${t}-fixed-column-gapped`]:{[`
        ${t}-cell-fix-left-first::after,
        ${t}-cell-fix-left-last::after,
        ${t}-cell-fix-right-first::after,
        ${t}-cell-fix-right-last::after
      `]:{boxShadow:"none"}}}}},yz=e=>{const{componentCls:t,antCls:a,margin:o}=e;return{[`${t}-wrapper`]:{[`${t}-pagination${a}-pagination`]:{margin:`${(0,he.bf)(o)} 0`},[`${t}-pagination`]:{display:"flex",flexWrap:"wrap",rowGap:e.paddingXS,"> *":{flex:"none"},"&-left":{justifyContent:"flex-start"},"&-center":{justifyContent:"center"},"&-right":{justifyContent:"flex-end"}}}}},_z=e=>{const{componentCls:t,tableRadius:a}=e;return{[`${t}-wrapper`]:{[t]:{[`${t}-title, ${t}-header`]:{borderRadius:`${(0,he.bf)(a)} ${(0,he.bf)(a)} 0 0`},[`${t}-title + ${t}-container`]:{borderStartStartRadius:0,borderStartEndRadius:0,[`${t}-header, table`]:{borderRadius:0},"table > thead > tr:first-child":{"th:first-child, th:last-child, td:first-child, td:last-child":{borderRadius:0}}},"&-container":{borderStartStartRadius:a,borderStartEndRadius:a,"table > thead > tr:first-child":{"> *:first-child":{borderStartStartRadius:a},"> *:last-child":{borderStartEndRadius:a}}},"&-footer":{borderRadius:`0 0 ${(0,he.bf)(a)} ${(0,he.bf)(a)}`}}}}},bz=e=>{const{componentCls:t}=e;return{[`${t}-wrapper-rtl`]:{direction:"rtl",table:{direction:"rtl"},[`${t}-pagination-left`]:{justifyContent:"flex-end"},[`${t}-pagination-right`]:{justifyContent:"flex-start"},[`${t}-row-expand-icon`]:{float:"right","&::after":{transform:"rotate(-90deg)"},"&-collapsed::before":{transform:"rotate(180deg)"},"&-collapsed::after":{transform:"rotate(0deg)"}},[`${t}-container`]:{"&::before":{insetInlineStart:"unset",insetInlineEnd:0},"&::after":{insetInlineStart:0,insetInlineEnd:"unset"},[`${t}-row-indent`]:{float:"right"}}}}},xz=e=>{const{componentCls:t,antCls:a,iconCls:o,fontSizeIcon:f,padding:y,paddingXS:C,headerIconColor:w,headerIconHoverColor:I,tableSelectionColumnWidth:D,tableSelectedRowBg:L,tableSelectedRowHoverBg:z,tableRowHoverBg:k,tablePaddingHorizontal:Z,calc:j}=e;return{[`${t}-wrapper`]:{[`${t}-selection-col`]:{width:D,[`&${t}-selection-col-with-dropdown`]:{width:j(D).add(f).add(j(y).div(4)).equal()}},[`${t}-bordered ${t}-selection-col`]:{width:j(D).add(j(C).mul(2)).equal(),[`&${t}-selection-col-with-dropdown`]:{width:j(D).add(f).add(j(y).div(4)).add(j(C).mul(2)).equal()}},[`
        table tr th${t}-selection-column,
        table tr td${t}-selection-column,
        ${t}-selection-column
      `]:{paddingInlineEnd:e.paddingXS,paddingInlineStart:e.paddingXS,textAlign:"center",[`${a}-radio-wrapper`]:{marginInlineEnd:0}},[`table tr th${t}-selection-column${t}-cell-fix-left`]:{zIndex:j(e.zIndexTableFixed).add(1).equal({unit:!1})},[`table tr th${t}-selection-column::after`]:{backgroundColor:"transparent !important"},[`${t}-selection`]:{position:"relative",display:"inline-flex",flexDirection:"column"},[`${t}-selection-extra`]:{position:"absolute",top:0,zIndex:1,cursor:"pointer",transition:`all ${e.motionDurationSlow}`,marginInlineStart:"100%",paddingInlineStart:(0,he.bf)(j(Z).div(4).equal()),[o]:{color:w,fontSize:f,verticalAlign:"baseline","&:hover":{color:I}}},[`${t}-tbody`]:{[`${t}-row`]:{[`&${t}-row-selected`]:{[`> ${t}-cell`]:{background:L,"&-row-hover":{background:z}}},[`> ${t}-cell-row-hover`]:{background:k}}}}}},Cz=e=>{const{componentCls:t,tableExpandColumnWidth:a,calc:o}=e,f=(y,C,w,I)=>({[`${t}${t}-${y}`]:{fontSize:I,[`
        ${t}-title,
        ${t}-footer,
        ${t}-cell,
        ${t}-thead > tr > th,
        ${t}-tbody > tr > th,
        ${t}-tbody > tr > td,
        tfoot > tr > th,
        tfoot > tr > td
      `]:{padding:`${(0,he.bf)(C)} ${(0,he.bf)(w)}`},[`${t}-filter-trigger`]:{marginInlineEnd:(0,he.bf)(o(w).div(2).mul(-1).equal())},[`${t}-expanded-row-fixed`]:{margin:`${(0,he.bf)(o(C).mul(-1).equal())} ${(0,he.bf)(o(w).mul(-1).equal())}`},[`${t}-tbody`]:{[`${t}-wrapper:only-child ${t}`]:{marginBlock:(0,he.bf)(o(C).mul(-1).equal()),marginInline:`${(0,he.bf)(o(a).sub(w).equal())} ${(0,he.bf)(o(w).mul(-1).equal())}`}},[`${t}-selection-extra`]:{paddingInlineStart:(0,he.bf)(o(w).div(4).equal())}}});return{[`${t}-wrapper`]:Object.assign(Object.assign({},f("middle",e.tablePaddingVerticalMiddle,e.tablePaddingHorizontalMiddle,e.tableFontSizeMiddle)),f("small",e.tablePaddingVerticalSmall,e.tablePaddingHorizontalSmall,e.tableFontSizeSmall))}},Sz=e=>{const{componentCls:t,marginXXS:a,fontSizeIcon:o,headerIconColor:f,headerIconHoverColor:y}=e;return{[`${t}-wrapper`]:{[`${t}-thead th${t}-column-has-sorters`]:{outline:"none",cursor:"pointer",transition:`all ${e.motionDurationSlow}, left 0s`,"&:hover":{background:e.tableHeaderSortHoverBg,"&::before":{backgroundColor:"transparent !important"}},"&:focus-visible":{color:e.colorPrimary},[`
          &${t}-cell-fix-left:hover,
          &${t}-cell-fix-right:hover
        `]:{background:e.tableFixedHeaderSortActiveBg}},[`${t}-thead th${t}-column-sort`]:{background:e.tableHeaderSortBg,"&::before":{backgroundColor:"transparent !important"}},[`td${t}-column-sort`]:{background:e.tableBodySortBg},[`${t}-column-title`]:{position:"relative",zIndex:1,flex:1,minWidth:0},[`${t}-column-sorters`]:{display:"flex",flex:"auto",alignItems:"center",justifyContent:"space-between","&::after":{position:"absolute",inset:0,width:"100%",height:"100%",content:'""'}},[`${t}-column-sorters-tooltip-target-sorter`]:{"&::after":{content:"none"}},[`${t}-column-sorter`]:{marginInlineStart:a,color:f,fontSize:0,transition:`color ${e.motionDurationSlow}`,"&-inner":{display:"inline-flex",flexDirection:"column",alignItems:"center"},"&-up, &-down":{fontSize:o,"&.active":{color:e.colorPrimary}},[`${t}-column-sorter-up + ${t}-column-sorter-down`]:{marginTop:"-0.3em"}},[`${t}-column-sorters:hover ${t}-column-sorter`]:{color:y}}}},wz=e=>{const{componentCls:t,opacityLoading:a,tableScrollThumbBg:o,tableScrollThumbBgHover:f,tableScrollThumbSize:y,tableScrollBg:C,zIndexTableSticky:w,stickyScrollBarBorderRadius:I,lineWidth:D,lineType:L,tableBorderColor:z}=e,k=`${(0,he.bf)(D)} ${L} ${z}`;return{[`${t}-wrapper`]:{[`${t}-sticky`]:{"&-holder":{position:"sticky",zIndex:w,background:e.colorBgContainer},"&-scroll":{position:"sticky",bottom:0,height:`${(0,he.bf)(y)} !important`,zIndex:w,display:"flex",alignItems:"center",background:C,borderTop:k,opacity:a,"&:hover":{transformOrigin:"center bottom"},"&-bar":{height:y,backgroundColor:o,borderRadius:I,transition:`all ${e.motionDurationSlow}, transform none`,position:"absolute",bottom:0,"&:hover, &-active":{backgroundColor:f}}}}}}},yT=e=>{const{componentCls:t,lineWidth:a,tableBorderColor:o,calc:f}=e,y=`${(0,he.bf)(a)} ${e.lineType} ${o}`;return{[`${t}-wrapper`]:{[`${t}-summary`]:{position:"relative",zIndex:e.zIndexTableFixed,background:e.tableBg,"> tr":{"> th, > td":{borderBottom:y}}},[`div${t}-summary`]:{boxShadow:`0 ${(0,he.bf)(f(a).mul(-1).equal())} 0 ${o}`}}}},Ez=e=>{const{componentCls:t,motionDurationMid:a,lineWidth:o,lineType:f,tableBorderColor:y,calc:C}=e,w=`${(0,he.bf)(o)} ${f} ${y}`,I=`${t}-expanded-row-cell`;return{[`${t}-wrapper`]:{[`${t}-tbody-virtual`]:{[`${t}-tbody-virtual-holder-inner`]:{[`
            & > ${t}-row, 
            & > div:not(${t}-row) > ${t}-row
          `]:{display:"flex",boxSizing:"border-box",width:"100%"}},[`${t}-cell`]:{borderBottom:w,transition:`background ${a}`},[`${t}-expanded-row`]:{[`${I}${I}-fixed`]:{position:"sticky",insetInlineStart:0,overflow:"hidden",width:`calc(var(--virtual-width) - ${(0,he.bf)(o)})`,borderInlineEnd:"none"}}},[`${t}-bordered`]:{[`${t}-tbody-virtual`]:{"&:after":{content:'""',insetInline:0,bottom:0,borderBottom:w,position:"absolute"},[`${t}-cell`]:{borderInlineEnd:w,[`&${t}-cell-fix-right-first:before`]:{content:'""',position:"absolute",insetBlock:0,insetInlineStart:C(o).mul(-1).equal(),borderInlineStart:w}}},[`&${t}-virtual`]:{[`${t}-placeholder ${t}-cell`]:{borderInlineEnd:w,borderBottom:w}}}}}};const Iz=e=>{const{componentCls:t,fontWeightStrong:a,tablePaddingVertical:o,tablePaddingHorizontal:f,tableExpandColumnWidth:y,lineWidth:C,lineType:w,tableBorderColor:I,tableFontSize:D,tableBg:L,tableRadius:z,tableHeaderTextColor:k,motionDurationMid:Z,tableHeaderBg:j,tableHeaderCellSplitColor:G,tableFooterTextColor:H,tableFooterBg:X,calc:ne}=e,oe=`${(0,he.bf)(C)} ${w} ${I}`;return{[`${t}-wrapper`]:Object.assign(Object.assign({clear:"both",maxWidth:"100%"},(0,Jt.dF)()),{[t]:Object.assign(Object.assign({},(0,Jt.Wf)(e)),{fontSize:D,background:L,borderRadius:`${(0,he.bf)(z)} ${(0,he.bf)(z)} 0 0`,scrollbarColor:`${e.tableScrollThumbBg} ${e.tableScrollBg}`}),table:{width:"100%",textAlign:"start",borderRadius:`${(0,he.bf)(z)} ${(0,he.bf)(z)} 0 0`,borderCollapse:"separate",borderSpacing:0},[`
          ${t}-cell,
          ${t}-thead > tr > th,
          ${t}-tbody > tr > th,
          ${t}-tbody > tr > td,
          tfoot > tr > th,
          tfoot > tr > td
        `]:{position:"relative",padding:`${(0,he.bf)(o)} ${(0,he.bf)(f)}`,overflowWrap:"break-word"},[`${t}-title`]:{padding:`${(0,he.bf)(o)} ${(0,he.bf)(f)}`},[`${t}-thead`]:{"\n          > tr > th,\n          > tr > td\n        ":{position:"relative",color:k,fontWeight:a,textAlign:"start",background:j,borderBottom:oe,transition:`background ${Z} ease`,"&[colspan]:not([colspan='1'])":{textAlign:"center"},[`&:not(:last-child):not(${t}-selection-column):not(${t}-row-expand-icon-cell):not([colspan])::before`]:{position:"absolute",top:"50%",insetInlineEnd:0,width:1,height:"1.6em",backgroundColor:G,transform:"translateY(-50%)",transition:`background-color ${Z}`,content:'""'}},"> tr:not(:last-child) > th[colspan]":{borderBottom:0}},[`${t}-tbody`]:{"> tr":{"> th, > td":{transition:`background ${Z}, border-color ${Z}`,borderBottom:oe,[`
              > ${t}-wrapper:only-child,
              > ${t}-expanded-row-fixed > ${t}-wrapper:only-child
            `]:{[t]:{marginBlock:(0,he.bf)(ne(o).mul(-1).equal()),marginInline:`${(0,he.bf)(ne(y).sub(f).equal())}
                ${(0,he.bf)(ne(f).mul(-1).equal())}`,[`${t}-tbody > tr:last-child > td`]:{borderBottomWidth:0,"&:first-child, &:last-child":{borderRadius:0}}}}},"> th":{position:"relative",color:k,fontWeight:a,textAlign:"start",background:j,borderBottom:oe,transition:`background ${Z} ease`}}},[`${t}-footer`]:{padding:`${(0,he.bf)(o)} ${(0,he.bf)(f)}`,color:H,background:X}})}},Tz=e=>{const{colorFillAlter:t,colorBgContainer:a,colorTextHeading:o,colorFillSecondary:f,colorFillContent:y,controlItemBgActive:C,controlItemBgActiveHover:w,padding:I,paddingSM:D,paddingXS:L,colorBorderSecondary:z,borderRadiusLG:k,controlHeight:Z,colorTextPlaceholder:j,fontSize:G,fontSizeSM:H,lineHeight:X,lineWidth:ne,colorIcon:oe,colorIconHover:ae,opacityLoading:ie,controlInteractiveSize:le}=e,fe=new Sl.t(f).onBackground(a).toHexString(),me=new Sl.t(y).onBackground(a).toHexString(),ge=new Sl.t(t).onBackground(a).toHexString(),be=new Sl.t(oe),Ie=new Sl.t(ae),Oe=le/2-ne,Te=Oe*2+ne*3;return{headerBg:ge,headerColor:o,headerSortActiveBg:fe,headerSortHoverBg:me,bodySortBg:ge,rowHoverBg:ge,rowSelectedBg:C,rowSelectedHoverBg:w,rowExpandedBg:t,cellPaddingBlock:I,cellPaddingInline:I,cellPaddingBlockMD:D,cellPaddingInlineMD:L,cellPaddingBlockSM:L,cellPaddingInlineSM:L,borderColor:z,headerBorderRadius:k,footerBg:ge,footerColor:o,cellFontSize:G,cellFontSizeMD:G,cellFontSizeSM:G,headerSplitColor:z,fixedHeaderSortActiveBg:fe,headerFilterHoverBg:y,filterDropdownMenuBg:a,filterDropdownBg:a,expandIconBg:a,selectionColumnWidth:Z,stickyScrollBarBg:j,stickyScrollBarBorderRadius:100,expandIconMarginTop:(G*X-ne*3)/2-Math.ceil((H*1.4-ne*3)/2),headerIconColor:be.clone().setA(be.a*ie).toRgbString(),headerIconHoverColor:Ie.clone().setA(Ie.a*ie).toRgbString(),expandIconHalfInner:Oe,expandIconSize:Te,expandIconScale:le/Te}},_T=2;var Mz=(0,te.I$)("Table",e=>{const{colorTextHeading:t,colorSplit:a,colorBgContainer:o,controlInteractiveSize:f,headerBg:y,headerColor:C,headerSortActiveBg:w,headerSortHoverBg:I,bodySortBg:D,rowHoverBg:L,rowSelectedBg:z,rowSelectedHoverBg:k,rowExpandedBg:Z,cellPaddingBlock:j,cellPaddingInline:G,cellPaddingBlockMD:H,cellPaddingInlineMD:X,cellPaddingBlockSM:ne,cellPaddingInlineSM:oe,borderColor:ae,footerBg:ie,footerColor:le,headerBorderRadius:fe,cellFontSize:me,cellFontSizeMD:ge,cellFontSizeSM:be,headerSplitColor:Ie,fixedHeaderSortActiveBg:Oe,headerFilterHoverBg:Te,filterDropdownBg:Ve,expandIconBg:De,selectionColumnWidth:Ue,stickyScrollBarBg:ke,calc:st}=e,ct=(0,Qr.IX)(e,{tableFontSize:me,tableBg:o,tableRadius:fe,tablePaddingVertical:j,tablePaddingHorizontal:G,tablePaddingVerticalMiddle:H,tablePaddingHorizontalMiddle:X,tablePaddingVerticalSmall:ne,tablePaddingHorizontalSmall:oe,tableBorderColor:ae,tableHeaderTextColor:C,tableHeaderBg:y,tableFooterTextColor:le,tableFooterBg:ie,tableHeaderCellSplitColor:Ie,tableHeaderSortBg:w,tableHeaderSortHoverBg:I,tableBodySortBg:D,tableFixedHeaderSortActiveBg:Oe,tableHeaderFilterActiveBg:Te,tableFilterDropdownBg:Ve,tableRowHoverBg:L,tableSelectedRowBg:z,tableSelectedRowHoverBg:k,zIndexTableFixed:_T,zIndexTableSticky:st(_T).add(1).equal({unit:!1}),tableFontSizeMiddle:ge,tableFontSizeSmall:be,tableSelectionColumnWidth:Ue,tableExpandIconBg:De,tableExpandColumnWidth:st(f).add(st(e.padding).mul(2)).equal(),tableExpandedRowBg:Z,tableFilterDropdownWidth:120,tableFilterDropdownHeight:264,tableFilterDropdownSearchWidth:140,tableScrollThumbSize:8,tableScrollThumbBg:ke,tableScrollThumbBgHover:t,tableScrollBg:a});return[Iz(ct),yz(ct),yT(ct),Sz(ct),gz(ct),fz(ct),_z(ct),mz(ct),yT(ct),pz(ct),xz(ct),vz(ct),wz(ct),hz(ct),Cz(ct),bz(ct),Ez(ct)]},Tz,{unitless:{expandIconScale:!0}});const Pz=[],Oz=(e,t)=>{var a,o;const{prefixCls:f,className:y,rootClassName:C,style:w,size:I,bordered:D,dropdownPrefixCls:L,dataSource:z,pagination:k,rowSelection:Z,rowKey:j="key",rowClassName:G,columns:H,children:X,childrenColumnName:ne,onChange:oe,getPopupContainer:ae,loading:ie,expandIcon:le,expandable:fe,expandedRowRender:me,expandIconColumnIndex:ge,indentSize:be,scroll:Ie,sortDirections:Oe,locale:Te,showSorterTooltip:Ve={target:"full-header"},virtual:De}=e,Ue=(0,uo.ln)("Table"),ke=s.useMemo(()=>H||hw(X),[H,X]),st=s.useMemo(()=>ke.some(ga=>ga.responsive),[ke]),ct=(0,Xu.Z)(st),Et=s.useMemo(()=>{const ga=new Set(Object.keys(ct).filter(qo=>ct[qo]));return ke.filter(qo=>!qo.responsive||qo.responsive.some(Jo=>ga.has(Jo)))},[ke,ct]),It=(0,fr.Z)(e,["className","style","columns"]),{locale:Ct=Ac.Z,direction:mt,table:bt,renderEmpty:zt,getPrefixCls:$t,getPopupContainer:Ht}=s.useContext(ye.E_),Mt=(0,xr.Z)(I),Cn=Object.assign(Object.assign({},Ct.Table),Te),Hn=z||Pz,pn=$t("table",f),Dn=$t("dropdown",L),[,Qt]=(0,Qn.ZP)(),Ft=(0,Un.Z)(pn),[kn,Pn,Dr]=Mz(pn,Ft),br=Object.assign(Object.assign({childrenColumnName:ne,expandIconColumnIndex:ge},fe),{expandIcon:(a=fe==null?void 0:fe.expandIcon)!==null&&a!==void 0?a:(o=bt==null?void 0:bt.expandable)===null||o===void 0?void 0:o.expandIcon}),{childrenColumnName:or="children"}=br,ar=s.useMemo(()=>Hn.some(ga=>ga==null?void 0:ga[or])?"nest":me||fe!=null&&fe.expandedRowRender?"row":null,[Hn]),Fn={body:s.useRef(null)},sr=k5(pn),Gr=s.useRef(null),yi=s.useRef(null);N5(t,()=>Object.assign(Object.assign({},yi.current),{nativeElement:Gr.current}));const Di=s.useMemo(()=>typeof j=="function"?j:ga=>ga==null?void 0:ga[j],[j]),[Ui]=WL(Hn,or,Di),$o={},Ri=function(ga,qo){let Jo=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;var Vo,ls,Ds,ka;const Ca=Object.assign(Object.assign({},$o),ga);Jo&&((Vo=$o.resetPagination)===null||Vo===void 0||Vo.call($o),!((ls=Ca.pagination)===null||ls===void 0)&&ls.current&&(Ca.pagination.current=1),k&&((Ds=k.onChange)===null||Ds===void 0||Ds.call(k,1,(ka=Ca.pagination)===null||ka===void 0?void 0:ka.pageSize))),Ie&&Ie.scrollToFirstRowOnChange!==!1&&Fn.body.current&&ei(0,{getContainer:()=>Fn.body.current}),oe==null||oe(Ca.pagination,Ca.filters,Ca.sorter,{currentDataSource:Tw(Ow(Hn,Ca.sorterStates,or),Ca.filterStates,or),action:qo})},mi=(ga,qo)=>{Ri({sorter:ga,sorterStates:qo},"sort",!1)},[Pi,ao,ki,Ao]=lz({prefixCls:pn,mergedColumns:Et,onSorterChange:mi,sortDirections:Oe||["ascend","descend"],tableLocale:Cn,showSorterTooltip:Ve}),Cr=s.useMemo(()=>Ow(Hn,ao,or),[Hn,ao]);$o.sorter=Ao(),$o.sorterStates=ao;const ur=(ga,qo)=>{Ri({filters:ga,filterStates:qo},"filter",!0)},[Tr,qn,pi]=UL({prefixCls:pn,locale:Cn,dropdownPrefixCls:Dn,mergedColumns:Et,onFilterChange:ur,getPopupContainer:ae||Ht,rootClassName:q()(C,Ft)}),ji=Tw(Cr,qn,or);$o.filters=pi,$o.filterStates=qn;const go=s.useMemo(()=>{const ga={};return Object.keys(pi).forEach(qo=>{pi[qo]!==null&&(ga[qo]=pi[qo])}),Object.assign(Object.assign({},ki),{filters:ga})},[ki,pi]),[ra]=cz(go),Aa=(ga,qo)=>{Ri({pagination:Object.assign(Object.assign({},$o.pagination),{current:ga,pageSize:qo})},"paginate")},[oa,Cs]=YL(ji.length,Aa,k);$o.pagination=k===!1?{}:KL(oa,k),$o.resetPagination=Cs;const Za=s.useMemo(()=>{if(k===!1||!oa.pageSize)return ji;const{current:ga=1,total:qo,pageSize:Jo=fT}=oa;return ji.length<qo?ji.length>Jo?ji.slice((ga-1)*Jo,ga*Jo):ji:ji.slice((ga-1)*Jo,ga*Jo)},[!!k,ji,oa==null?void 0:oa.current,oa==null?void 0:oa.pageSize,oa==null?void 0:oa.total]),[Ga,va]=L5({prefixCls:pn,data:ji,pageData:Za,getRowKey:Di,getRecordByKey:Ui,expandType:ar,childrenColumnName:or,locale:Cn,getPopupContainer:ae||Ht},Z),ts=(ga,qo,Jo)=>{let Vo;return typeof G=="function"?Vo=q()(G(ga,qo,Jo)):Vo=q()(G),q()({[`${pn}-row-selected`]:va.has(Di(ga,qo))},Vo)};br.__PARENT_RENDER_ICON__=br.expandIcon,br.expandIcon=br.expandIcon||le||F5(Cn),ar==="nest"&&br.expandIconColumnIndex===void 0?br.expandIconColumnIndex=Z?1:0:br.expandIconColumnIndex>0&&Z&&(br.expandIconColumnIndex-=1),typeof br.indentSize!="number"&&(br.indentSize=typeof be=="number"?be:15);const As=s.useCallback(ga=>ra(Ga(Tr(Pi(ga)))),[Pi,Tr,Ga]);let Ro,ta;if(k!==!1&&(oa!=null&&oa.total)){let ga;oa.size?ga=oa.size:ga=Mt==="small"||Mt==="middle"?"small":void 0;const qo=ls=>s.createElement(Ox,Object.assign({},oa,{className:q()(`${pn}-pagination ${pn}-pagination-${ls}`,oa.className),size:ga})),Jo=mt==="rtl"?"left":"right",{position:Vo}=oa;if(Vo!==null&&Array.isArray(Vo)){const ls=Vo.find(Ca=>Ca.includes("top")),Ds=Vo.find(Ca=>Ca.includes("bottom")),ka=Vo.every(Ca=>`${Ca}`=="none");!ls&&!Ds&&!ka&&(ta=qo(Jo)),ls&&(Ro=qo(ls.toLowerCase().replace("top",""))),Ds&&(ta=qo(Ds.toLowerCase().replace("bottom","")))}else ta=qo(Jo)}let $a;typeof ie=="boolean"?$a={spinning:ie}:typeof ie=="object"&&($a=Object.assign({spinning:!0},ie));const Ka=q()(Dr,Ft,`${pn}-wrapper`,bt==null?void 0:bt.className,{[`${pn}-wrapper-rtl`]:mt==="rtl"},y,C,Pn),ss=Object.assign(Object.assign({},bt==null?void 0:bt.style),w),ll=typeof(Te==null?void 0:Te.emptyText)!="undefined"?Te.emptyText:(zt==null?void 0:zt("Table"))||s.createElement(Wf.Z,{componentName:"Table"}),Rl=De?dz:uz,yl={},Xl=s.useMemo(()=>{const{fontSize:ga,lineHeight:qo,lineWidth:Jo,padding:Vo,paddingXS:ls,paddingSM:Ds}=Qt,ka=Math.floor(ga*qo);switch(Mt){case"middle":return Ds*2+ka+Jo;case"small":return ls*2+ka+Jo;default:return Vo*2+ka+Jo}},[Qt,Mt]);return De&&(yl.listItemHeight=Xl),kn(s.createElement("div",{ref:Gr,className:Ka,style:ss},s.createElement(gv,Object.assign({spinning:!1},$a),Ro,s.createElement(Rl,Object.assign({},yl,It,{ref:yi,columns:Et,direction:mt,expandable:br,prefixCls:pn,className:q()({[`${pn}-middle`]:Mt==="middle",[`${pn}-small`]:Mt==="small",[`${pn}-bordered`]:D,[`${pn}-empty`]:Hn.length===0},Dr,Ft,Pn),data:Za,rowKey:Di,rowClassName:ts,emptyText:ll,internalHooks:D_,internalRefs:Fn,transformColumns:As,getContainerWidth:sr})),ta)))};var Rz=s.forwardRef(Oz);const $z=(e,t)=>{const a=s.useRef(0);return a.current+=1,s.createElement(Rz,Object.assign({},e,{ref:t,_renderTimes:a.current}))},Gh=s.forwardRef($z);Gh.SELECTION_COLUMN=tm,Gh.EXPAND_COLUMN=Wh,Gh.SELECTION_ALL=yw,Gh.SELECTION_INVERT=_w,Gh.SELECTION_NONE=bw,Gh.Column=A5,Gh.ColumnGroup=D5,Gh.Summary=wI;var Az=Gh,Dz=Az;const Lz=e=>{const{paddingXXS:t,lineWidth:a,tagPaddingHorizontal:o,componentCls:f,calc:y}=e,C=y(o).sub(a).equal(),w=y(t).sub(a).equal();return{[f]:Object.assign(Object.assign({},(0,Jt.Wf)(e)),{display:"inline-block",height:"auto",marginInlineEnd:e.marginXS,paddingInline:C,fontSize:e.tagFontSize,lineHeight:e.tagLineHeight,whiteSpace:"nowrap",background:e.defaultBg,border:`${(0,he.bf)(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,borderRadius:e.borderRadiusSM,opacity:1,transition:`all ${e.motionDurationMid}`,textAlign:"start",position:"relative",[`&${f}-rtl`]:{direction:"rtl"},"&, a, a:hover":{color:e.defaultColor},[`${f}-close-icon`]:{marginInlineStart:w,fontSize:e.tagIconSize,color:e.colorTextDescription,cursor:"pointer",transition:`all ${e.motionDurationMid}`,"&:hover":{color:e.colorTextHeading}},[`&${f}-has-color`]:{borderColor:"transparent",[`&, a, a:hover, ${e.iconCls}-close, ${e.iconCls}-close:hover`]:{color:e.colorTextLightSolid}},"&-checkable":{backgroundColor:"transparent",borderColor:"transparent",cursor:"pointer",[`&:not(${f}-checkable-checked):hover`]:{color:e.colorPrimary,backgroundColor:e.colorFillSecondary},"&:active, &-checked":{color:e.colorTextLightSolid},"&-checked":{backgroundColor:e.colorPrimary,"&:hover":{backgroundColor:e.colorPrimaryHover}},"&:active":{backgroundColor:e.colorPrimaryActive}},"&-hidden":{display:"none"},[`> ${e.iconCls} + span, > span + ${e.iconCls}`]:{marginInlineStart:C}}),[`${f}-borderless`]:{borderColor:"transparent",background:e.tagBorderlessBg}}},Rw=e=>{const{lineWidth:t,fontSizeIcon:a,calc:o}=e,f=e.fontSizeSM;return(0,Qr.IX)(e,{tagFontSize:f,tagLineHeight:(0,he.bf)(o(e.lineHeightSM).mul(f).equal()),tagIconSize:o(a).sub(o(t).mul(2)).equal(),tagPaddingHorizontal:8,tagBorderlessBg:e.defaultBg})},$w=e=>({defaultBg:new Sl.t(e.colorFillQuaternary).onBackground(e.colorBgContainer).toHexString(),defaultColor:e.colorText});var bT=(0,te.I$)("Tag",e=>{const t=Rw(e);return Lz(t)},$w),zz=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a},Nz=s.forwardRef((e,t)=>{const{prefixCls:a,style:o,className:f,checked:y,onChange:C,onClick:w}=e,I=zz(e,["prefixCls","style","className","checked","onChange","onClick"]),{getPrefixCls:D,tag:L}=s.useContext(ye.E_),z=X=>{C==null||C(!y),w==null||w(X)},k=D("tag",a),[Z,j,G]=bT(k),H=q()(k,`${k}-checkable`,{[`${k}-checkable-checked`]:y},L==null?void 0:L.className,f,j,G);return Z(s.createElement("span",Object.assign({},I,{ref:t,style:Object.assign(Object.assign({},o),L==null?void 0:L.style),className:H,onClick:z})))});const Bz=e=>(0,cl.Z)(e,(t,a)=>{let{textColor:o,lightBorderColor:f,lightColor:y,darkColor:C}=a;return{[`${e.componentCls}${e.componentCls}-${t}`]:{color:o,background:y,borderColor:f,"&-inverse":{color:e.colorTextLightSolid,background:C,borderColor:C},[`&${e.componentCls}-borderless`]:{borderColor:"transparent"}}}});var Fz=(0,te.bk)(["Tag","preset"],e=>{const t=Rw(e);return Bz(t)},$w);function kz(e){return typeof e!="string"?e:e.charAt(0).toUpperCase()+e.slice(1)}const Kx=(e,t,a)=>{const o=kz(a);return{[`${e.componentCls}${e.componentCls}-${t}`]:{color:e[`color${a}`],background:e[`color${o}Bg`],borderColor:e[`color${o}Border`],[`&${e.componentCls}-borderless`]:{borderColor:"transparent"}}}};var jz=(0,te.bk)(["Tag","status"],e=>{const t=Rw(e);return[Kx(t,"success","Success"),Kx(t,"processing","Info"),Kx(t,"error","Error"),Kx(t,"warning","Warning")]},$w),Zz=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a};const xT=s.forwardRef((e,t)=>{const{prefixCls:a,className:o,rootClassName:f,style:y,children:C,icon:w,color:I,onClose:D,bordered:L=!0,visible:z}=e,k=Zz(e,["prefixCls","className","rootClassName","style","children","icon","color","onClose","bordered","visible"]),{getPrefixCls:Z,direction:j,tag:G}=s.useContext(ye.E_),[H,X]=s.useState(!0),ne=(0,fr.Z)(k,["closeIcon","closable"]);s.useEffect(()=>{z!==void 0&&X(z)},[z]);const oe=(0,yp.o2)(I),ae=(0,yp.yT)(I),ie=oe||ae,le=Object.assign(Object.assign({backgroundColor:I&&!ie?I:void 0},G==null?void 0:G.style),y),fe=Z("tag",a),[me,ge,be]=bT(fe),Ie=q()(fe,G==null?void 0:G.className,{[`${fe}-${I}`]:ie,[`${fe}-has-color`]:I&&!ie,[`${fe}-hidden`]:!H,[`${fe}-rtl`]:j==="rtl",[`${fe}-borderless`]:!L},o,f,ge,be),Oe=st=>{st.stopPropagation(),D==null||D(st),!st.defaultPrevented&&X(!1)},[,Te]=Hl(Ll(e),Ll(G),{closable:!1,closeIconRender:st=>{const ct=s.createElement("span",{className:`${fe}-close-icon`,onClick:Oe},st);return(0,bn.wm)(st,ct,Et=>({onClick:It=>{var Ct;(Ct=Et==null?void 0:Et.onClick)===null||Ct===void 0||Ct.call(Et,It),Oe(It)},className:q()(Et==null?void 0:Et.className,`${fe}-close-icon`)}))}}),Ve=typeof k.onClick=="function"||C&&C.type==="a",De=w||null,Ue=De?s.createElement(s.Fragment,null,De,C&&s.createElement("span",null,C)):C,ke=s.createElement("span",Object.assign({},ne,{ref:t,className:Ie,style:le}),Ue,Te,oe&&s.createElement(Fz,{key:"preset",prefixCls:fe}),ae&&s.createElement(jz,{key:"status",prefixCls:fe}));return me(Ve?s.createElement(Ai.Z,{component:"Tag"},ke):ke)});xT.CheckableTag=Nz;var Vz=xT,Hz=F(38920),CT=F(30767),Uz=F(33598),Wz=e=>{const t=e!=null&&e.algorithm?(0,he.jG)(e.algorithm):Hz.Z,a=Object.assign(Object.assign({},CT.Z),e==null?void 0:e.token);return(0,he.t2)(a,{override:e==null?void 0:e.token},t,Uz.Z)},Aw=F(20284),Dw=F(28893),Gz=F(10154),Kz=F(79319);function Xz(e){const{sizeUnit:t,sizeStep:a}=e,o=a-2;return{sizeXXL:t*(o+10),sizeXL:t*(o+6),sizeLG:t*(o+2),sizeMD:t*(o+2),sizeMS:t*(o+1),size:t*o,sizeSM:t*o,sizeXS:t*(o-1),sizeXXS:t*(o-1)}}var Yz=(e,t)=>{const a=t!=null?t:(0,Dw.Z)(e),o=a.fontSizeSM,f=a.controlHeight-4;return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},a),Xz(t!=null?t:e)),(0,Kz.Z)(o)),{controlHeight:f}),(0,Gz.Z)(Object.assign(Object.assign({},a),{controlHeight:f})))},qz=F(40329);const Td=(e,t)=>new Sl.t(e).setA(t).toRgbString(),Sv=(e,t)=>new Sl.t(e).lighten(t).toHexString(),Jz=e=>{const t=(0,Qp.R_)(e,{theme:"dark"});return{1:t[0],2:t[1],3:t[2],4:t[3],5:t[6],6:t[5],7:t[4],8:t[6],9:t[5],10:t[4]}},Qz=(e,t)=>{const a=e||"#000",o=t||"#fff";return{colorBgBase:a,colorTextBase:o,colorText:Td(o,.85),colorTextSecondary:Td(o,.65),colorTextTertiary:Td(o,.45),colorTextQuaternary:Td(o,.25),colorFill:Td(o,.18),colorFillSecondary:Td(o,.12),colorFillTertiary:Td(o,.08),colorFillQuaternary:Td(o,.04),colorBgSolid:Td(o,.95),colorBgSolidHover:Td(o,1),colorBgSolidActive:Td(o,.9),colorBgElevated:Sv(a,12),colorBgContainer:Sv(a,8),colorBgLayout:Sv(a,0),colorBgSpotlight:Sv(a,26),colorBgBlur:Td(o,.04),colorBorder:Sv(a,26),colorBorderSecondary:Sv(a,19)}};var eN=(e,t)=>{const a=Object.keys(CT.M).map(f=>{const y=(0,Qp.R_)(e[f],{theme:"dark"});return Array.from({length:10},()=>1).reduce((C,w,I)=>(C[`${f}-${I+1}`]=y[I],C[`${f}${I+1}`]=y[I],C),{})}).reduce((f,y)=>(f=Object.assign(Object.assign({},f),y),f),{}),o=t!=null?t:(0,Dw.Z)(e);return Object.assign(Object.assign(Object.assign({},o),a),(0,qz.Z)(e,{generateColorPalettes:Jz,generateNeutralColorPalettes:Qz}))};function tN(){const[e,t,a]=(0,Qn.ZP)();return{theme:e,token:t,hashId:a}}var nN={defaultSeed:Aw.u_.token,useToken:tN,defaultAlgorithm:Dw.Z,darkAlgorithm:eN,compactAlgorithm:Yz,getDesignToken:Wz,defaultConfig:Aw.u_,_internalContext:Aw.Mj},rN=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a};const{TimePicker:iN,RangePicker:oN}=m2,aN=s.forwardRef((e,t)=>s.createElement(oN,Object.assign({},e,{picker:"time",mode:void 0,ref:t}))),z_=s.forwardRef((e,t)=>{var{addon:a,renderExtraFooter:o,variant:f,bordered:y}=e,C=rN(e,["addon","renderExtraFooter","variant","bordered"]);const[w]=(0,jf.Z)("timePicker",f,y),I=s.useMemo(()=>{if(o)return o;if(a)return a},[a,o]);return s.createElement(iN,Object.assign({},C,{mode:void 0,ref:t,renderExtraFooter:I,variant:w}))}),ST=(0,vl.Z)(z_,"popupAlign",void 0,"picker");z_._InternalPanelDoNotUseOrYouWillBeFired=ST,z_.RangePicker=aN,z_._InternalPanelDoNotUseOrYouWillBeFired=ST;var sN=z_;const lN=e=>{const{componentCls:t,calc:a}=e;return{[t]:Object.assign(Object.assign({},(0,Jt.Wf)(e)),{margin:0,padding:0,listStyle:"none",[`${t}-item`]:{position:"relative",margin:0,paddingBottom:e.itemPaddingBottom,fontSize:e.fontSize,listStyle:"none","&-tail":{position:"absolute",insetBlockStart:e.itemHeadSize,insetInlineStart:a(a(e.itemHeadSize).sub(e.tailWidth)).div(2).equal(),height:`calc(100% - ${(0,he.bf)(e.itemHeadSize)})`,borderInlineStart:`${(0,he.bf)(e.tailWidth)} ${e.lineType} ${e.tailColor}`},"&-pending":{[`${t}-item-head`]:{fontSize:e.fontSizeSM,backgroundColor:"transparent"},[`${t}-item-tail`]:{display:"none"}},"&-head":{position:"absolute",width:e.itemHeadSize,height:e.itemHeadSize,backgroundColor:e.dotBg,border:`${(0,he.bf)(e.dotBorderWidth)} ${e.lineType} transparent`,borderRadius:"50%","&-blue":{color:e.colorPrimary,borderColor:e.colorPrimary},"&-red":{color:e.colorError,borderColor:e.colorError},"&-green":{color:e.colorSuccess,borderColor:e.colorSuccess},"&-gray":{color:e.colorTextDisabled,borderColor:e.colorTextDisabled}},"&-head-custom":{position:"absolute",insetBlockStart:a(e.itemHeadSize).div(2).equal(),insetInlineStart:a(e.itemHeadSize).div(2).equal(),width:"auto",height:"auto",marginBlockStart:0,paddingBlock:e.customHeadPaddingVertical,lineHeight:1,textAlign:"center",border:0,borderRadius:0,transform:"translate(-50%, -50%)"},"&-content":{position:"relative",insetBlockStart:a(a(e.fontSize).mul(e.lineHeight).sub(e.fontSize)).mul(-1).add(e.lineWidth).equal(),marginInlineStart:a(e.margin).add(e.itemHeadSize).equal(),marginInlineEnd:0,marginBlockStart:0,marginBlockEnd:0,wordBreak:"break-word"},"&-last":{[`> ${t}-item-tail`]:{display:"none"},[`> ${t}-item-content`]:{minHeight:a(e.controlHeightLG).mul(1.2).equal()}}},[`&${t}-alternate,
        &${t}-right,
        &${t}-label`]:{[`${t}-item`]:{"&-tail, &-head, &-head-custom":{insetInlineStart:"50%"},"&-head":{marginInlineStart:a(e.marginXXS).mul(-1).equal(),"&-custom":{marginInlineStart:a(e.tailWidth).div(2).equal()}},"&-left":{[`${t}-item-content`]:{insetInlineStart:`calc(50% - ${(0,he.bf)(e.marginXXS)})`,width:`calc(50% - ${(0,he.bf)(e.marginSM)})`,textAlign:"start"}},"&-right":{[`${t}-item-content`]:{width:`calc(50% - ${(0,he.bf)(e.marginSM)})`,margin:0,textAlign:"end"}}}},[`&${t}-right`]:{[`${t}-item-right`]:{[`${t}-item-tail,
            ${t}-item-head,
            ${t}-item-head-custom`]:{insetInlineStart:`calc(100% - ${(0,he.bf)(a(a(e.itemHeadSize).add(e.tailWidth)).div(2).equal())})`},[`${t}-item-content`]:{width:`calc(100% - ${(0,he.bf)(a(e.itemHeadSize).add(e.marginXS).equal())})`}}},[`&${t}-pending
        ${t}-item-last
        ${t}-item-tail`]:{display:"block",height:`calc(100% - ${(0,he.bf)(e.margin)})`,borderInlineStart:`${(0,he.bf)(e.tailWidth)} dotted ${e.tailColor}`},[`&${t}-reverse
        ${t}-item-last
        ${t}-item-tail`]:{display:"none"},[`&${t}-reverse ${t}-item-pending`]:{[`${t}-item-tail`]:{insetBlockStart:e.margin,display:"block",height:`calc(100% - ${(0,he.bf)(e.margin)})`,borderInlineStart:`${(0,he.bf)(e.tailWidth)} dotted ${e.tailColor}`},[`${t}-item-content`]:{minHeight:a(e.controlHeightLG).mul(1.2).equal()}},[`&${t}-label`]:{[`${t}-item-label`]:{position:"absolute",insetBlockStart:a(a(e.fontSize).mul(e.lineHeight).sub(e.fontSize)).mul(-1).add(e.tailWidth).equal(),width:`calc(50% - ${(0,he.bf)(e.marginSM)})`,textAlign:"end"},[`${t}-item-right`]:{[`${t}-item-label`]:{insetInlineStart:`calc(50% + ${(0,he.bf)(e.marginSM)})`,width:`calc(50% - ${(0,he.bf)(e.marginSM)})`,textAlign:"start"}}},"&-rtl":{direction:"rtl",[`${t}-item-head-custom`]:{transform:"translate(50%, -50%)"}}})}},cN=e=>({tailColor:e.colorSplit,tailWidth:e.lineWidthBold,dotBorderWidth:e.wireframe?e.lineWidthBold:e.lineWidth*3,dotBg:e.colorBgContainer,itemPaddingBottom:e.padding*1.25});var uN=(0,te.I$)("Timeline",e=>{const t=(0,Qr.IX)(e,{itemHeadSize:10,customHeadPaddingVertical:e.paddingXXS,paddingInlineEnd:2});return[lN(t)]},cN),dN=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a},wT=e=>{var{prefixCls:t,className:a,color:o="blue",dot:f,pending:y=!1,position:C,label:w,children:I}=e,D=dN(e,["prefixCls","className","color","dot","pending","position","label","children"]);const{getPrefixCls:L}=s.useContext(ye.E_),z=L("timeline",t),k=q()(`${z}-item`,{[`${z}-item-pending`]:y},a),Z=/blue|red|green|gray/.test(o||"")?void 0:o,j=q()(`${z}-item-head`,{[`${z}-item-head-custom`]:!!f,[`${z}-item-head-${o}`]:!Z});return s.createElement("li",Object.assign({},D,{className:k}),w&&s.createElement("div",{className:`${z}-item-label`},w),s.createElement("div",{className:`${z}-item-tail`}),s.createElement("div",{className:j,style:{borderColor:Z,color:Z}},f),s.createElement("div",{className:`${z}-item-content`},I))},ET=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a},fN=e=>{var{prefixCls:t,className:a,pending:o=!1,children:f,items:y,rootClassName:C,reverse:w=!1,direction:I,hashId:D,pendingDot:L,mode:z=""}=e,k=ET(e,["prefixCls","className","pending","children","items","rootClassName","reverse","direction","hashId","pendingDot","mode"]);const Z=(ie,le)=>z==="alternate"?ie==="right"?`${t}-item-right`:ie==="left"?`${t}-item-left`:le%2===0?`${t}-item-left`:`${t}-item-right`:z==="left"?`${t}-item-left`:z==="right"?`${t}-item-right`:ie==="right"?`${t}-item-right`:"",j=(0,xe.Z)(y||[]),G=typeof o=="boolean"?null:o;o&&j.push({pending:!!o,dot:L||s.createElement(Sn.Z,null),children:G}),w&&j.reverse();const H=j.length,X=`${t}-item-last`,ne=j.filter(ie=>!!ie).map((ie,le)=>{var fe;const me=le===H-2?X:"",ge=le===H-1?X:"",{className:be}=ie,Ie=ET(ie,["className"]);return s.createElement(wT,Object.assign({},Ie,{className:q()([be,!w&&o?me:ge,Z((fe=ie==null?void 0:ie.position)!==null&&fe!==void 0?fe:"",le)]),key:(ie==null?void 0:ie.key)||le}))}),oe=j.some(ie=>!!(ie!=null&&ie.label)),ae=q()(t,{[`${t}-pending`]:!!o,[`${t}-reverse`]:!!w,[`${t}-${z}`]:!!z&&!oe,[`${t}-label`]:oe,[`${t}-rtl`]:I==="rtl"},a,C,D);return s.createElement("ul",Object.assign({},k,{className:ae}),ne)};function hN(e,t){return e&&Array.isArray(e)?e:(0,Wl.Z)(t).map(a=>{var o,f;return Object.assign({children:(f=(o=a==null?void 0:a.props)===null||o===void 0?void 0:o.children)!==null&&f!==void 0?f:""},a.props)})}var pN=hN,mN=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a};const IT=e=>{const{getPrefixCls:t,direction:a,timeline:o}=s.useContext(ye.E_),{prefixCls:f,children:y,items:C,className:w,style:I}=e,D=mN(e,["prefixCls","children","items","className","style"]),L=t("timeline",f),z=(0,Un.Z)(L),[k,Z,j]=uN(L,z),G=pN(C,y);return k(s.createElement(fN,Object.assign({},D,{className:q()(o==null?void 0:o.className,w,j,z),style:Object.assign(Object.assign({},o==null?void 0:o.style),I),prefixCls:L,direction:a,items:G,hashId:Z})))};IT.Item=wT;var gN=IT,vN=gN;function TT(e){return e!==null&&(0,et.Z)(e)==="object"}function MT(e,t,a){if(e===!1||t===!1&&(!TT(e)||!e.closeIcon))return null;var o=typeof t!="boolean"?t:void 0;if(TT(e)){var f;return(0,Y.Z)((0,Y.Z)({},e),{},{closeIcon:(f=e.closeIcon)!==null&&f!==void 0?f:o})}return a||e||t?{closeIcon:o}:"empty"}function yN(e,t,a,o){return s.useMemo(function(){var f=MT(e,t,!1),y=MT(a,o,!0);return f!=="empty"?f:y},[a,o,e,t])}function _N(e){var t=window.innerWidth||document.documentElement.clientWidth,a=window.innerHeight||document.documentElement.clientHeight,o=e.getBoundingClientRect(),f=o.top,y=o.right,C=o.bottom,w=o.left;return f>=0&&w>=0&&y<=t&&C<=a}function bN(e,t,a){var o;return(o=a!=null?a:t)!==null&&o!==void 0?o:e===null?"center":"bottom"}function xN(e){return typeof e=="number"&&!Number.isNaN(e)}function CN(e,t,a,o){var f=(0,s.useState)(void 0),y=(0,Re.Z)(f,2),C=y[0],w=y[1];(0,hl.Z)(function(){var G=typeof e=="function"?e():e;w(G||null)});var I=(0,s.useState)(null),D=(0,Re.Z)(I,2),L=D[0],z=D[1],k=(0,yr.Z)(function(){if(C){!_N(C)&&t&&C.scrollIntoView(o);var G=C.getBoundingClientRect(),H=G.left,X=G.top,ne=G.width,oe=G.height,ae={left:H,top:X,width:ne,height:oe,radius:0};z(function(ie){return JSON.stringify(ie)!==JSON.stringify(ae)?ae:ie})}else z(null)}),Z=function(H){var X;return(X=Array.isArray(a==null?void 0:a.offset)?a==null?void 0:a.offset[H]:a==null?void 0:a.offset)!==null&&X!==void 0?X:6};(0,hl.Z)(function(){return k(),window.addEventListener("resize",k),function(){window.removeEventListener("resize",k)}},[C,t,k]);var j=(0,s.useMemo)(function(){if(!L)return L;var G=Z(0),H=Z(1),X=xN(a==null?void 0:a.radius)?a==null?void 0:a.radius:2;return{left:L.left-G,top:L.top-H,width:L.width+G*2,height:L.height+H*2,radius:X}},[L,a]);return[j,C]}var Xx={fill:"transparent",pointerEvents:"auto"},SN=function(t){var a=t.prefixCls,o=t.rootClassName,f=t.pos,y=t.showMask,C=t.style,w=C===void 0?{}:C,I=t.fill,D=I===void 0?"rgba(0,0,0,0.5)":I,L=t.open,z=t.animated,k=t.zIndex,Z=t.disabledInteraction,j=(0,Ua.Z)(),G="".concat(a,"-mask-").concat(j),H=(0,et.Z)(z)==="object"?z==null?void 0:z.placeholder:z,X=typeof navigator!="undefined"&&/^((?!chrome|android).)*safari/i.test(navigator.userAgent),ne=X?{width:"100%",height:"100%"}:{width:"100vw",height:"100vh"};return s.createElement(Uo.Z,{open:L,autoLock:!0},s.createElement("div",{className:q()("".concat(a,"-mask"),o),style:(0,Y.Z)({position:"fixed",left:0,right:0,top:0,bottom:0,zIndex:k,pointerEvents:f&&!Z?"none":"auto"},w)},y?s.createElement("svg",{style:{width:"100%",height:"100%"}},s.createElement("defs",null,s.createElement("mask",{id:G},s.createElement("rect",(0,We.Z)({x:"0",y:"0"},ne,{fill:"white"})),f&&s.createElement("rect",{x:f.left,y:f.top,rx:f.radius,width:f.width,height:f.height,fill:"black",className:H?"".concat(a,"-placeholder-animated"):""}))),s.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:D,mask:"url(#".concat(G,")")}),f&&s.createElement(s.Fragment,null,s.createElement("rect",(0,We.Z)({},Xx,{x:"0",y:"0",width:"100%",height:f.top})),s.createElement("rect",(0,We.Z)({},Xx,{x:"0",y:"0",width:f.left,height:"100%"})),s.createElement("rect",(0,We.Z)({},Xx,{x:"0",y:f.top+f.height,width:"100%",height:"calc(100vh - ".concat(f.top+f.height,"px)")})),s.createElement("rect",(0,We.Z)({},Xx,{x:f.left+f.width,y:"0",width:"calc(100vw - ".concat(f.left+f.width,"px)"),height:"100%"})))):null))},wN=SN,T7={adjustX:1,adjustY:1},EN=[0,0],PT={left:{points:["cr","cl"],offset:[-8,0]},right:{points:["cl","cr"],offset:[8,0]},top:{points:["bc","tc"],offset:[0,-8]},bottom:{points:["tc","bc"],offset:[0,8]},topLeft:{points:["bl","tl"],offset:[0,-8]},leftTop:{points:["tr","tl"],offset:[-8,0]},topRight:{points:["br","tr"],offset:[0,-8]},rightTop:{points:["tl","tr"],offset:[8,0]},bottomRight:{points:["tr","br"],offset:[0,8]},rightBottom:{points:["bl","br"],offset:[8,0]},bottomLeft:{points:["tl","bl"],offset:[0,8]},leftBottom:{points:["br","bl"],offset:[-8,0]}};function OT(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,t={};return Object.keys(PT).forEach(function(a){t[a]=(0,Y.Z)((0,Y.Z)({},PT[a]),{},{autoArrow:e,targetOffset:EN})}),t}var M7=OT();function IN(e){var t,a=e.prefixCls,o=e.current,f=e.total,y=e.title,C=e.description,w=e.onClose,I=e.onPrev,D=e.onNext,L=e.onFinish,z=e.className,k=e.closable,Z=(0,ut.Z)(k||{},!0),j=(t=k==null?void 0:k.closeIcon)!==null&&t!==void 0?t:s.createElement("span",{className:"".concat(a,"-close-x")},"\xD7"),G=!!k;return s.createElement("div",{className:q()("".concat(a,"-content"),z)},s.createElement("div",{className:"".concat(a,"-inner")},G&&s.createElement("button",(0,We.Z)({type:"button",onClick:w,"aria-label":"Close"},Z,{className:"".concat(a,"-close")}),j),s.createElement("div",{className:"".concat(a,"-header")},s.createElement("div",{className:"".concat(a,"-title")},y)),s.createElement("div",{className:"".concat(a,"-description")},C),s.createElement("div",{className:"".concat(a,"-footer")},s.createElement("div",{className:"".concat(a,"-sliders")},f>1?(0,xe.Z)(Array.from({length:f}).keys()).map(function(H,X){return s.createElement("span",{key:H,className:X===o?"active":""})}):null),s.createElement("div",{className:"".concat(a,"-buttons")},o!==0?s.createElement("button",{className:"".concat(a,"-prev-btn"),onClick:I},"Prev"):null,o===f-1?s.createElement("button",{className:"".concat(a,"-finish-btn"),onClick:L},"Finish"):s.createElement("button",{className:"".concat(a,"-next-btn"),onClick:D},"Next")))))}var TN=function(t){var a=t.current,o=t.renderPanel;return s.createElement(s.Fragment,null,typeof o=="function"?o(t,a):s.createElement(IN,t))},MN=TN,PN=["prefixCls","steps","defaultCurrent","current","onChange","onClose","onFinish","open","mask","arrow","rootClassName","placement","renderPanel","gap","animated","scrollIntoViewOptions","zIndex","closeIcon","closable","builtinPlacements","disabledInteraction"],ON={left:"50%",top:"50%",width:1,height:1},RT={block:"center",inline:"center"},RN=function(t){var a=t.prefixCls,o=a===void 0?"rc-tour":a,f=t.steps,y=f===void 0?[]:f,C=t.defaultCurrent,w=t.current,I=t.onChange,D=t.onClose,L=t.onFinish,z=t.open,k=t.mask,Z=k===void 0?!0:k,j=t.arrow,G=j===void 0?!0:j,H=t.rootClassName,X=t.placement,ne=t.renderPanel,oe=t.gap,ae=t.animated,ie=t.scrollIntoViewOptions,le=ie===void 0?RT:ie,fe=t.zIndex,me=fe===void 0?1001:fe,ge=t.closeIcon,be=t.closable,Ie=t.builtinPlacements,Oe=t.disabledInteraction,Te=(0,de.Z)(t,PN),Ve=s.useRef(),De=(0,Fs.Z)(0,{value:w,defaultValue:C}),Ue=(0,Re.Z)(De,2),ke=Ue[0],st=Ue[1],ct=(0,Fs.Z)(void 0,{value:z,postState:function(qn){return ke<0||ke>=y.length?!1:qn!=null?qn:!0}}),Et=(0,Re.Z)(ct,2),It=Et[0],Ct=Et[1],mt=s.useState(It),bt=(0,Re.Z)(mt,2),zt=bt[0],$t=bt[1],Ht=s.useRef(It);(0,hl.Z)(function(){It&&(Ht.current||st(0),$t(!0)),Ht.current=It},[It]);var Mt=y[ke]||{},Cn=Mt.target,Hn=Mt.placement,pn=Mt.style,Dn=Mt.arrow,Qt=Mt.className,Ft=Mt.mask,kn=Mt.scrollIntoViewOptions,Pn=kn===void 0?RT:kn,Dr=Mt.closeIcon,br=Mt.closable,or=yN(br,Dr,be,ge),ar=It&&(Ft!=null?Ft:Z),Fn=Pn!=null?Pn:le,sr=CN(Cn,z,oe,Fn),Gr=(0,Re.Z)(sr,2),yi=Gr[0],Di=Gr[1],Ui=bN(Di,X,Hn),$o=Di?typeof Dn=="undefined"?G:Dn:!1,Ri=(0,et.Z)($o)==="object"?$o.pointAtCenter:!1;(0,hl.Z)(function(){var Tr;(Tr=Ve.current)===null||Tr===void 0||Tr.forceAlign()},[Ri,ke]);var mi=function(qn){st(qn),I==null||I(qn)},Pi=(0,s.useMemo)(function(){return Ie?typeof Ie=="function"?Ie({arrowPointAtCenter:Ri}):Ie:OT(Ri)},[Ie,Ri]);if(Di===void 0||!zt)return null;var ao=function(){Ct(!1),D==null||D(ke)},ki=function(){return s.createElement(MN,(0,We.Z)({arrow:$o,key:"content",prefixCls:o,total:y.length,renderPanel:ne,onPrev:function(){mi(ke-1)},onNext:function(){mi(ke+1)},onClose:ao,current:ke,onFinish:function(){ao(),L==null||L()}},y[ke],{closable:or}))},Ao=typeof ar=="boolean"?ar:!!ar,Cr=typeof ar=="boolean"?void 0:ar,ur=function(qn){return qn||Di||document.body};return s.createElement(s.Fragment,null,s.createElement(wN,{zIndex:me,prefixCls:o,pos:yi,showMask:Ao,style:Cr==null?void 0:Cr.style,fill:Cr==null?void 0:Cr.color,open:It,animated:ae,rootClassName:H,disabledInteraction:Oe}),s.createElement(uc.Z,(0,We.Z)({},Te,{builtinPlacements:Pi,ref:Ve,popupStyle:pn,popupPlacement:Ui,popupVisible:It,popupClassName:q()(H,Qt),prefixCls:o,popup:ki,forceRender:!1,destroyPopupOnHide:!0,zIndex:me,getTriggerDOMNode:ur,arrow:!!$o}),s.createElement(Uo.Z,{open:It,autoLock:!0},s.createElement("div",{className:q()(H,"".concat(o,"-target-placeholder")),style:(0,Y.Z)((0,Y.Z)({},yi||ON),{},{position:"fixed",pointerEvents:"none"})}))))},$N=RN,AN=$N;function Lw(e){return e!=null}var $T=e=>{var t,a;const{stepProps:o,current:f,type:y,indicatorsRender:C}=e,{prefixCls:w,total:I=1,title:D,onClose:L,onPrev:z,onNext:k,onFinish:Z,cover:j,description:G,nextButtonProps:H,prevButtonProps:X,type:ne,closable:oe}=o,ae=ne!=null?ne:y,ie=s.createElement("button",{type:"button",onClick:L,className:`${w}-close`},(oe==null?void 0:oe.closeIcon)||s.createElement(cr.Z,{className:`${w}-close-icon`})),le=f===I-1,fe=()=>{var Ue;z==null||z(),(Ue=X==null?void 0:X.onClick)===null||Ue===void 0||Ue.call(X)},me=()=>{var Ue;le?Z==null||Z():k==null||k(),(Ue=H==null?void 0:H.onClick)===null||Ue===void 0||Ue.call(H)},ge=Lw(D)?s.createElement("div",{className:`${w}-header`},s.createElement("div",{className:`${w}-title`},D)):null,be=Lw(G)?s.createElement("div",{className:`${w}-description`},G):null,Ie=Lw(j)?s.createElement("div",{className:`${w}-cover`},j):null;let Oe;C?Oe=C(f,I):Oe=(0,xe.Z)(Array.from({length:I}).keys()).map((Ue,ke)=>s.createElement("span",{key:Ue,className:q()(ke===f&&`${w}-indicator-active`,`${w}-indicator`)}));const Te=ae==="primary"?"default":"primary",Ve={type:"default",ghost:ae==="primary"},[De]=(0,In.Z)("Tour",Ac.Z.Tour);return s.createElement("div",{className:`${w}-content`},s.createElement("div",{className:`${w}-inner`},oe&&ie,Ie,ge,be,s.createElement("div",{className:`${w}-footer`},I>1&&s.createElement("div",{className:`${w}-indicators`},Oe),s.createElement("div",{className:`${w}-buttons`},f!==0?s.createElement($n,Object.assign({},Ve,X,{onClick:fe,size:"small",className:q()(`${w}-prev-btn`,X==null?void 0:X.className)}),(t=X==null?void 0:X.children)!==null&&t!==void 0?t:De==null?void 0:De.Previous):null,s.createElement($n,Object.assign({type:Te},H,{onClick:me,size:"small",className:q()(`${w}-next-btn`,H==null?void 0:H.className)}),(a=H==null?void 0:H.children)!==null&&a!==void 0?a:le?De==null?void 0:De.Finish:De==null?void 0:De.Next)))))};const DN=e=>{const{componentCls:t,padding:a,paddingXS:o,borderRadius:f,borderRadiusXS:y,colorPrimary:C,colorFill:w,indicatorHeight:I,indicatorWidth:D,boxShadowTertiary:L,zIndexPopup:z,colorBgElevated:k,fontWeightStrong:Z,marginXS:j,colorTextLightSolid:G,tourBorderRadius:H,colorWhite:X,primaryNextBtnHoverBg:ne,closeBtnSize:oe,motionDurationSlow:ae,antCls:ie,primaryPrevBtnBg:le}=e;return[{[t]:Object.assign(Object.assign({},(0,Jt.Wf)(e)),{position:"absolute",zIndex:z,maxWidth:"fit-content",visibility:"visible",width:520,"--antd-arrow-background-color":k,"&-pure":{maxWidth:"100%",position:"relative"},[`&${t}-hidden`]:{display:"none"},[`${t}-content`]:{position:"relative"},[`${t}-inner`]:{textAlign:"start",textDecoration:"none",borderRadius:H,boxShadow:L,position:"relative",backgroundColor:k,border:"none",backgroundClip:"padding-box",[`${t}-close`]:Object.assign({position:"absolute",top:a,insetInlineEnd:a,color:e.colorIcon,background:"none",border:"none",width:oe,height:oe,borderRadius:e.borderRadiusSM,transition:`background-color ${e.motionDurationMid}, color ${e.motionDurationMid}`,display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer","&:hover":{color:e.colorIconHover,backgroundColor:e.colorBgTextHover},"&:active":{backgroundColor:e.colorBgTextActive}},(0,Jt.Qy)(e)),[`${t}-cover`]:{textAlign:"center",padding:`${(0,he.bf)(e.calc(a).add(oe).add(o).equal())} ${(0,he.bf)(a)} 0`,img:{width:"100%"}},[`${t}-header`]:{padding:`${(0,he.bf)(a)} ${(0,he.bf)(a)} ${(0,he.bf)(o)}`,width:`calc(100% - ${(0,he.bf)(oe)})`,wordBreak:"break-word",[`${t}-title`]:{fontWeight:Z}},[`${t}-description`]:{padding:`0 ${(0,he.bf)(a)}`,wordWrap:"break-word"},[`${t}-footer`]:{padding:`${(0,he.bf)(o)} ${(0,he.bf)(a)} ${(0,he.bf)(a)}`,textAlign:"end",borderRadius:`0 0 ${(0,he.bf)(y)} ${(0,he.bf)(y)}`,display:"flex",[`${t}-indicators`]:{display:"inline-block",[`${t}-indicator`]:{width:D,height:I,display:"inline-block",borderRadius:"50%",background:w,"&:not(:last-child)":{marginInlineEnd:I},"&-active":{background:C}}},[`${t}-buttons`]:{marginInlineStart:"auto",[`${ie}-btn`]:{marginInlineStart:j}}}},[`${t}-primary, &${t}-primary`]:{"--antd-arrow-background-color":C,[`${t}-inner`]:{color:G,textAlign:"start",textDecoration:"none",backgroundColor:C,borderRadius:f,boxShadow:L,[`${t}-close`]:{color:G},[`${t}-indicators`]:{[`${t}-indicator`]:{background:le,"&-active":{background:G}}},[`${t}-prev-btn`]:{color:G,borderColor:le,backgroundColor:C,"&:hover":{backgroundColor:le,borderColor:"transparent"}},[`${t}-next-btn`]:{color:C,borderColor:"transparent",background:X,"&:hover":{background:ne}}}}}),[`${t}-mask`]:{[`${t}-placeholder-animated`]:{transition:`all ${ae}`}},[["&-placement-left","&-placement-leftTop","&-placement-leftBottom","&-placement-right","&-placement-rightTop","&-placement-rightBottom"].join(",")]:{[`${t}-inner`]:{borderRadius:e.min(H,Eh.qN)}}},(0,Eh.ZP)(e,"var(--antd-arrow-background-color)")]},LN=e=>Object.assign(Object.assign({zIndexPopup:e.zIndexPopupBase+70,closeBtnSize:e.fontSize*e.lineHeight,primaryPrevBtnBg:new Sl.t(e.colorTextLightSolid).setA(.15).toRgbString(),primaryNextBtnHoverBg:new Sl.t(e.colorBgTextHover).onBackground(e.colorWhite).toRgbString()},(0,Eh.wZ)({contentRadius:e.borderRadiusLG,limitVerticalRadius:!0})),(0,Vm.w)(e));var AT=(0,te.I$)("Tour",e=>{const{borderRadiusLG:t}=e,a=(0,Qr.IX)(e,{indicatorWidth:6,indicatorHeight:6,tourBorderRadius:t});return[DN(a)]},LN),zN=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a};const NN=e=>{const{prefixCls:t,current:a=0,total:o=6,className:f,style:y,type:C,closable:w,closeIcon:I}=e,D=zN(e,["prefixCls","current","total","className","style","type","closable","closeIcon"]),{getPrefixCls:L}=s.useContext(ye.E_),z=L("tour",t),[k,Z,j]=AT(z),[G,H]=Hl({closable:w,closeIcon:I},null,{closable:!0,closeIconRender:X=>s.isValidElement(X)?(0,bn.Tm)(X,{className:q()(X.props.className,`${z}-close-icon`)}):X});return k(s.createElement(ZE.t5,{prefixCls:z,hashId:Z,className:q()(f,`${z}-pure`,C&&`${z}-${C}`,j),style:y},s.createElement($T,{stepProps:Object.assign(Object.assign({},D),{prefixCls:z,total:o,closable:G?{closeIcon:H}:void 0}),current:a,type:C})))};var BN=(0,vl.i)(NN),FN=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a};const DT=e=>{const{prefixCls:t,type:a,rootClassName:o,indicatorsRender:f,steps:y,closeIcon:C}=e,w=FN(e,["prefixCls","type","rootClassName","indicatorsRender","steps","closeIcon"]),{getPrefixCls:I,direction:D,tour:L}=(0,s.useContext)(ye.E_),z=I("tour",t),[k,Z,j]=AT(z),[,G]=(0,Qn.ZP)(),H=s.useMemo(()=>y==null?void 0:y.map(le=>{var fe;return Object.assign(Object.assign({},le),{className:q()(le.className,{[`${z}-primary`]:((fe=le.type)!==null&&fe!==void 0?fe:a)==="primary"})})}),[y,a]),X=le=>{var fe;return(0,_u.Z)({arrowPointAtCenter:(fe=le==null?void 0:le.arrowPointAtCenter)!==null&&fe!==void 0?fe:!0,autoAdjustOverflow:!0,offset:G.marginXXS,arrowWidth:G.sizePopupArrow,borderRadius:G.borderRadius})},ne=q()({[`${z}-rtl`]:D==="rtl"},Z,j,o),oe=(le,fe)=>s.createElement($T,{type:a,stepProps:le,current:fe,indicatorsRender:f}),[ae,ie]=(0,qt.Cn)("Tour",w.zIndex);return k(s.createElement(Ya.Z.Provider,{value:ie},s.createElement(AN,Object.assign({},w,{closeIcon:C!=null?C:L==null?void 0:L.closeIcon,zIndex:ae,rootClassName:ne,prefixCls:z,animated:!0,renderPanel:oe,builtinPlacements:X,steps:H}))))};DT._InternalPanelDoNotUseOrYouWillBeFired=BN;var kN=DT;const Yx=e=>{const t=new Map;return e.forEach((a,o)=>{t.set(a,o)}),t},jN=e=>{const t=new Map;return e.forEach((a,o)=>{let{disabled:f,key:y}=a;f&&t.set(y,o)}),t};var ZN=(e,t,a)=>{const o=s.useMemo(()=>(e||[]).map(C=>t?Object.assign(Object.assign({},C),{key:t(C)}):C),[e,t]),[f,y]=s.useMemo(()=>{var C;const w=[],I=Array.from({length:(C=a==null?void 0:a.length)!==null&&C!==void 0?C:0}),D=Yx(a||[]);return o.forEach(L=>{if(D.has(L.key)){const z=D.get(L.key);I[z]=L}else w.push(L)}),[w,I]},[o,a]);return[o,f.filter(Boolean),y.filter(Boolean)]};const VN=[];function qx(e,t){const a=e.filter(o=>t.has(o));return e.length===a.length?e:a}function LT(e){return Array.from(e).join(";")}function HN(e,t,a){const[o,f]=s.useMemo(()=>[new Set(e.map(z=>z==null?void 0:z.key)),new Set(t.map(z=>z==null?void 0:z.key))],[e,t]),[y,C]=(0,$s.C8)(VN,{value:a}),w=s.useMemo(()=>qx(y,o),[y,o]),I=s.useMemo(()=>qx(y,f),[y,f]);s.useEffect(()=>{C([].concat((0,xe.Z)(qx(y,o)),(0,xe.Z)(qx(y,f))))},[LT(o),LT(f)]);const D=(0,$s.zX)(z=>{C([].concat((0,xe.Z)(z),(0,xe.Z)(I)))}),L=(0,$s.zX)(z=>{C([].concat((0,xe.Z)(w),(0,xe.Z)(z)))});return[w,I,D,L]}var UN=HN,WN={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z"}}]},name:"delete",theme:"outlined"},GN=WN,KN=function(t,a){return s.createElement(Kt.Z,(0,We.Z)({},t,{ref:a,icon:GN}))},XN=s.forwardRef(KN),zT=XN;const YN=e=>{const{renderedText:t,renderedEl:a,item:o,checked:f,disabled:y,prefixCls:C,onClick:w,onRemove:I,showRemove:D}=e,L=q()(`${C}-content-item`,{[`${C}-content-item-disabled`]:y||o.disabled,[`${C}-content-item-checked`]:f&&!o.disabled});let z;(typeof t=="string"||typeof t=="number")&&(z=String(t));const[k]=(0,In.Z)("Transfer",Ac.Z.Transfer),Z={className:L,title:z},j=s.createElement("span",{className:`${C}-content-item-text`},a);return D?s.createElement("li",Object.assign({},Z),j,s.createElement("button",{type:"button",disabled:y||o.disabled,className:`${C}-content-item-remove`,"aria-label":k==null?void 0:k.remove,onClick:()=>I==null?void 0:I(o)},s.createElement(zT,null))):(Z.onClick=y||o.disabled?void 0:G=>w(o,G),s.createElement("li",Object.assign({},Z),s.createElement(ni,{className:`${C}-checkbox`,checked:f,disabled:y||o.disabled}),j))};var qN=s.memo(YN);const JN=["handleFilter","handleClear","checkedKeys"],QN=e=>Object.assign(Object.assign({},{simple:!0,showSizeChanger:!1,showLessItems:!1}),e),e6=(e,t)=>{const{prefixCls:a,filteredRenderItems:o,selectedKeys:f,disabled:y,showRemove:C,pagination:w,onScroll:I,onItemSelect:D,onItemRemove:L}=e,[z,k]=s.useState(1),Z=s.useMemo(()=>w?QN(typeof w=="object"?w:{}):null,[w]),[j,G]=(0,Fs.Z)(10,{value:Z==null?void 0:Z.pageSize});s.useEffect(()=>{if(Z){const fe=Math.ceil(o.length/j);k(Math.min(z,fe))}},[o,Z,j]);const H=(fe,me)=>{D(fe.key,!f.includes(fe.key),me)},X=fe=>{L==null||L([fe.key])},ne=fe=>{k(fe)},oe=(fe,me)=>{k(fe),G(me)},ae=s.useMemo(()=>Z?o.slice((z-1)*j,z*j):o,[z,o,Z,j]);s.useImperativeHandle(t,()=>({items:ae}));const ie=Z?s.createElement(Ox,{size:"small",disabled:y,simple:Z.simple,pageSize:j,showLessItems:Z.showLessItems,showSizeChanger:Z.showSizeChanger,className:`${a}-pagination`,total:o.length,current:z,onChange:ne,onShowSizeChange:oe}):null,le=q()(`${a}-content`,{[`${a}-content-show-remove`]:C});return s.createElement(s.Fragment,null,s.createElement("ul",{className:le,onScroll:I},(ae||[]).map(fe=>{let{renderedEl:me,renderedText:ge,item:be}=fe;return s.createElement(qN,{key:be.key,item:be,renderedText:ge,renderedEl:me,prefixCls:a,showRemove:C,onClick:H,onRemove:X,checked:f.includes(be.key),disabled:y||be.disabled})})),ie)};var t6=s.forwardRef(e6),NT=e=>{const{placeholder:t="",value:a,prefixCls:o,disabled:f,onChange:y,handleClear:C}=e,w=s.useCallback(I=>{y==null||y(I),I.target.value===""&&(C==null||C())},[y]);return s.createElement(hv.Z,{placeholder:t,className:o,value:a,onChange:w,disabled:f,allowClear:!0,prefix:s.createElement(jS.Z,null)})};const n6=()=>null;function r6(e){return!!(e&&!s.isValidElement(e)&&Object.prototype.toString.call(e)==="[object Object]")}function N_(e){return e.filter(t=>!t.disabled).map(t=>t.key)}const i6=e=>e!==void 0,o6=e=>e&&typeof e=="object"?Object.assign(Object.assign({},e),{defaultValue:e.defaultValue||""}):{defaultValue:"",placeholder:""};var zw=e=>{const{prefixCls:t,dataSource:a=[],titleText:o="",checkedKeys:f,disabled:y,showSearch:C=!1,style:w,searchPlaceholder:I,notFoundContent:D,selectAll:L,deselectAll:z,selectCurrent:k,selectInvert:Z,removeAll:j,removeCurrent:G,showSelectAll:H=!0,showRemove:X,pagination:ne,direction:oe,itemsUnit:ae,itemUnit:ie,selectAllLabel:le,selectionsIcon:fe,footer:me,renderList:ge,onItemSelectAll:be,onItemRemove:Ie,handleFilter:Oe,handleClear:Te,filterOption:Ve,render:De=n6}=e,Ue=o6(C),[ke,st]=(0,s.useState)(Ue.defaultValue),ct=(0,s.useRef)({}),Et=or=>{st(or.target.value),Oe(or)},It=()=>{st(""),Te()},Ct=(or,ar)=>Ve?Ve(ke,ar,oe):or.includes(ke),mt=or=>{let ar=ge?ge(Object.assign(Object.assign({},or),{onItemSelect:(sr,Gr)=>or.onItemSelect(sr,Gr)})):null;const Fn=!!ar;return Fn||(ar=s.createElement(t6,Object.assign({ref:ct},or))),{customize:Fn,bodyContent:ar}},bt=or=>{const ar=De(or),Fn=r6(ar);return{item:or,renderedEl:Fn?ar.label:ar,renderedText:Fn?ar.value:ar}},zt=(0,s.useMemo)(()=>Array.isArray(D)?D[oe==="left"?0:1]:D,[D,oe]),[$t,Ht]=(0,s.useMemo)(()=>{const or=[],ar=[];return a.forEach(Fn=>{const sr=bt(Fn);ke&&!Ct(sr.renderedText,Fn)||(or.push(Fn),ar.push(sr))}),[or,ar]},[a,ke]),Mt=(0,s.useMemo)(()=>$t.filter(or=>f.includes(or.key)&&!or.disabled),[f,$t]),Cn=(0,s.useMemo)(()=>{if(Mt.length===0)return"none";const or=Yx(f);return $t.every(ar=>or.has(ar.key)||!!ar.disabled)?"all":"part"},[f,Mt]),Hn=(0,s.useMemo)(()=>{const or=C?s.createElement("div",{className:`${t}-body-search-wrapper`},s.createElement(NT,{prefixCls:`${t}-search`,onChange:Et,handleClear:It,placeholder:Ue.placeholder||I,value:ke,disabled:y})):null,{customize:ar,bodyContent:Fn}=mt(Object.assign(Object.assign({},(0,fr.Z)(e,JN)),{filteredItems:$t,filteredRenderItems:Ht,selectedKeys:f}));let sr;return ar?sr=s.createElement("div",{className:`${t}-body-customize-wrapper`},Fn):sr=$t.length?Fn:s.createElement("div",{className:`${t}-body-not-found`},zt),s.createElement("div",{className:q()(`${t}-body`,{[`${t}-body-with-search`]:C})},or,sr)},[C,t,I,ke,y,f,$t,Ht,zt]),pn=s.createElement(ni,{disabled:a.filter(or=>!or.disabled).length===0||y,checked:Cn==="all",indeterminate:Cn==="part",className:`${t}-checkbox`,onChange:()=>{be==null||be($t.filter(or=>!or.disabled).map(or=>{let{key:ar}=or;return ar}),Cn!=="all")}}),Dn=(or,ar)=>{if(le)return typeof le=="function"?le({selectedCount:or,totalCount:ar}):le;const Fn=ar>1?ae:ie;return s.createElement(s.Fragment,null,(or>0?`${or}/`:"")+ar," ",Fn)},Qt=me&&(me.length<2?me(e):me(e,{direction:oe})),Ft=q()(t,{[`${t}-with-pagination`]:!!ne,[`${t}-with-footer`]:!!Qt}),kn=Qt?s.createElement("div",{className:`${t}-footer`},Qt):null,Pn=!X&&!ne&&pn;let Dr;X?Dr=[ne?{key:"removeCurrent",label:G,onClick(){var or;const ar=N_((((or=ct.current)===null||or===void 0?void 0:or.items)||[]).map(Fn=>Fn.item));Ie==null||Ie(ar)}}:null,{key:"removeAll",label:j,onClick(){Ie==null||Ie(N_($t))}}].filter(Boolean):Dr=[{key:"selectAll",label:Cn==="all"?z:L,onClick(){const or=N_($t);be==null||be(or,or.length!==f.length)}},ne?{key:"selectCurrent",label:k,onClick(){var or;const ar=((or=ct.current)===null||or===void 0?void 0:or.items)||[];be==null||be(N_(ar.map(Fn=>Fn.item)),!0)}}:null,{key:"selectInvert",label:Z,onClick(){var or;const ar=N_((((or=ct.current)===null||or===void 0?void 0:or.items)||[]).map(Gr=>Gr.item)),Fn=new Set(f),sr=new Set(Fn);ar.forEach(Gr=>{Fn.has(Gr)?sr.delete(Gr):sr.add(Gr)}),be==null||be(Array.from(sr),"replace")}}];const br=s.createElement(wx,{className:`${t}-header-dropdown`,menu:{items:Dr},disabled:y},i6(fe)?fe:s.createElement($u.Z,null));return s.createElement("div",{className:Ft,style:w},s.createElement("div",{className:`${t}-header`},H?s.createElement(s.Fragment,null,Pn,br):null,s.createElement("span",{className:`${t}-header-selected`},Dn(Mt.length,$t.length)),s.createElement("span",{className:`${t}-header-title`},o)),Hn,kn)},BT=e=>{const{disabled:t,moveToLeft:a,moveToRight:o,leftArrowText:f="",rightArrowText:y="",leftActive:C,rightActive:w,className:I,style:D,direction:L,oneWay:z}=e;return s.createElement("div",{className:I,style:D},s.createElement($n,{type:"primary",size:"small",disabled:t||!w,onClick:o,icon:L!=="rtl"?s.createElement(yu.Z,null):s.createElement(Qc,null)},y),!z&&s.createElement($n,{type:"primary",size:"small",disabled:t||!C,onClick:a,icon:L!=="rtl"?s.createElement(Qc,null):s.createElement(yu.Z,null)},f))};const a6=e=>{const{antCls:t,componentCls:a,listHeight:o,controlHeightLG:f}=e,y=`${t}-table`,C=`${t}-input`;return{[`${a}-customize-list`]:{[`${a}-list`]:{flex:"1 1 50%",width:"auto",height:"auto",minHeight:o,minWidth:0},[`${y}-wrapper`]:{[`${y}-small`]:{border:0,borderRadius:0,[`${y}-selection-column`]:{width:f,minWidth:f}},[`${y}-pagination${y}-pagination`]:{margin:0,padding:e.paddingXS}},[`${C}[disabled]`]:{backgroundColor:"transparent"}}}},FT=(e,t)=>{const{componentCls:a,colorBorder:o}=e;return{[`${a}-list`]:{borderColor:t,"&-search:not([disabled])":{borderColor:o}}}},s6=e=>{const{componentCls:t}=e;return{[`${t}-status-error`]:Object.assign({},FT(e,e.colorError)),[`${t}-status-warning`]:Object.assign({},FT(e,e.colorWarning))}},l6=e=>{const{componentCls:t,colorBorder:a,colorSplit:o,lineWidth:f,itemHeight:y,headerHeight:C,transferHeaderVerticalPadding:w,itemPaddingBlock:I,controlItemBgActive:D,colorTextDisabled:L,colorTextSecondary:z,listHeight:k,listWidth:Z,listWidthLG:j,fontSizeIcon:G,marginXS:H,paddingSM:X,lineType:ne,antCls:oe,iconCls:ae,motionDurationSlow:ie,controlItemBgHover:le,borderRadiusLG:fe,colorBgContainer:me,colorText:ge,controlItemBgActiveHover:be}=e,Ie=(0,he.bf)(e.calc(fe).sub(f).equal());return{display:"flex",flexDirection:"column",width:Z,height:k,border:`${(0,he.bf)(f)} ${ne} ${a}`,borderRadius:e.borderRadiusLG,"&-with-pagination":{width:j,height:"auto"},"&-search":{[`${ae}-search`]:{color:L}},"&-header":{display:"flex",flex:"none",alignItems:"center",height:C,padding:`${(0,he.bf)(e.calc(w).sub(f).equal())} ${(0,he.bf)(X)} ${(0,he.bf)(w)}`,color:ge,background:me,borderBottom:`${(0,he.bf)(f)} ${ne} ${o}`,borderRadius:`${(0,he.bf)(fe)} ${(0,he.bf)(fe)} 0 0`,"> *:not(:last-child)":{marginInlineEnd:4},"> *":{flex:"none"},"&-title":Object.assign(Object.assign({},Jt.vS),{flex:"auto",textAlign:"end"}),"&-dropdown":Object.assign(Object.assign({},(0,Jt.Ro)()),{fontSize:G,transform:"translateY(10%)",cursor:"pointer","&[disabled]":{cursor:"not-allowed"}})},"&-body":{display:"flex",flex:"auto",flexDirection:"column",fontSize:e.fontSize,minHeight:0,"&-search-wrapper":{position:"relative",flex:"none",padding:X}},"&-content":{flex:"auto",margin:0,padding:0,overflow:"auto",listStyle:"none",borderRadius:`0 0 ${Ie} ${Ie}`,"&-item":{display:"flex",alignItems:"center",minHeight:y,padding:`${(0,he.bf)(I)} ${(0,he.bf)(X)}`,transition:`all ${ie}`,"> *:not(:last-child)":{marginInlineEnd:H},"> *":{flex:"none"},"&-text":Object.assign(Object.assign({},Jt.vS),{flex:"auto"}),"&-remove":Object.assign(Object.assign({},(0,Jt.Nd)(e)),{color:a,"&:hover, &:focus":{color:z}}),[`&:not(${t}-list-content-item-disabled)`]:{"&:hover":{backgroundColor:le,cursor:"pointer"},[`&${t}-list-content-item-checked:hover`]:{backgroundColor:be}},"&-checked":{backgroundColor:D},"&-disabled":{color:L,cursor:"not-allowed"}},[`&-show-remove ${t}-list-content-item:not(${t}-list-content-item-disabled):hover`]:{background:"transparent",cursor:"default"}},"&-pagination":{padding:e.paddingXS,textAlign:"end",borderTop:`${(0,he.bf)(f)} ${ne} ${o}`,[`${oe}-pagination-options`]:{paddingInlineEnd:e.paddingXS}},"&-body-not-found":{flex:"none",width:"100%",margin:"auto 0",color:L,textAlign:"center"},"&-footer":{borderTop:`${(0,he.bf)(f)} ${ne} ${o}`},"&-checkbox":{lineHeight:1}}},c6=e=>{const{antCls:t,iconCls:a,componentCls:o,marginXS:f,marginXXS:y,fontSizeIcon:C,colorBgContainerDisabled:w}=e;return{[o]:Object.assign(Object.assign({},(0,Jt.Wf)(e)),{position:"relative",display:"flex",alignItems:"stretch",[`${o}-disabled`]:{[`${o}-list`]:{background:w}},[`${o}-list`]:l6(e),[`${o}-operation`]:{display:"flex",flex:"none",flexDirection:"column",alignSelf:"center",margin:`0 ${(0,he.bf)(f)}`,verticalAlign:"middle",gap:y,[`${t}-btn ${a}`]:{fontSize:C}}})}},u6=e=>{const{componentCls:t}=e;return{[`${t}-rtl`]:{direction:"rtl"}}},d6=e=>{const{fontSize:t,lineHeight:a,controlHeight:o,controlHeightLG:f,lineWidth:y}=e,C=Math.round(t*a);return{listWidth:180,listHeight:200,listWidthLG:250,headerHeight:f,itemHeight:o,itemPaddingBlock:(o-C)/2,transferHeaderVerticalPadding:Math.ceil((f-y-C)/2)}};var f6=(0,te.I$)("Transfer",e=>{const t=(0,Qr.IX)(e);return[c6(t),a6(t),s6(t),u6(t)]},d6);const Jx=e=>{const{dataSource:t,targetKeys:a=[],selectedKeys:o,selectAllLabels:f=[],operations:y=[],style:C={},listStyle:w={},locale:I={},titles:D,disabled:L,showSearch:z=!1,operationStyle:k,showSelectAll:Z,oneWay:j,pagination:G,status:H,prefixCls:X,className:ne,rootClassName:oe,selectionsIcon:ae,filterOption:ie,render:le,footer:fe,children:me,rowKey:ge,onScroll:be,onChange:Ie,onSearch:Oe,onSelectChange:Te}=e,{getPrefixCls:Ve,renderEmpty:De,direction:Ue,transfer:ke}=(0,s.useContext)(ye.E_),st=Ve("transfer",X),[ct,Et,It]=f6(st),[Ct,mt,bt]=ZN(t,ge,a),[zt,$t,Ht,Mt]=UN(mt,bt,o),[Cn,Hn]=vw(Ro=>Ro.key),[pn,Dn]=vw(Ro=>Ro.key),Qt=(0,s.useCallback)((Ro,ta)=>{if(Ro==="left"){const $a=typeof ta=="function"?ta(zt||[]):ta;Ht($a)}else{const $a=typeof ta=="function"?ta($t||[]):ta;Mt($a)}},[zt,$t]),Ft=(Ro,ta)=>{(Ro==="left"?Hn:Dn)(ta)},kn=(0,s.useCallback)((Ro,ta)=>{Ro==="left"?Te==null||Te(ta,$t):Te==null||Te(zt,ta)},[zt,$t]),Pn=Ro=>{var ta;return(ta=D!=null?D:Ro.titles)!==null&&ta!==void 0?ta:[]},Dr=Ro=>{be==null||be("left",Ro)},br=Ro=>{be==null||be("right",Ro)},or=Ro=>{const ta=Ro==="right"?zt:$t,$a=jN(Ct),Ka=ta.filter(yl=>!$a.has(yl)),ss=Yx(Ka),ll=Ro==="right"?Ka.concat(a):a.filter(yl=>!ss.has(yl)),Rl=Ro==="right"?"left":"right";Qt(Rl,[]),kn(Rl,[]),Ie==null||Ie(ll,Ro,Ka)},ar=()=>{or("left"),Ft("left",null)},Fn=()=>{or("right"),Ft("right",null)},sr=(Ro,ta,$a)=>{Qt(Ro,Ka=>{let ss=[];if($a==="replace")ss=ta;else if($a)ss=Array.from(new Set([].concat((0,xe.Z)(Ka),(0,xe.Z)(ta))));else{const ll=Yx(ta);ss=Ka.filter(Rl=>!ll.has(Rl))}return kn(Ro,ss),ss}),Ft(Ro,null)},Gr=(Ro,ta)=>{sr("left",Ro,ta)},yi=(Ro,ta)=>{sr("right",Ro,ta)},Di=Ro=>Oe==null?void 0:Oe("left",Ro.target.value),Ui=Ro=>Oe==null?void 0:Oe("right",Ro.target.value),$o=()=>Oe==null?void 0:Oe("left",""),Ri=()=>Oe==null?void 0:Oe("right",""),mi=(Ro,ta,$a,Ka,ss)=>{ta.has($a)&&(ta.delete($a),Ft(Ro,null)),Ka&&(ta.add($a),Ft(Ro,ss))},Pi=(Ro,ta,$a,Ka)=>{(Ro==="left"?Cn:pn)(Ka,ta,$a)},ao=(Ro,ta,$a,Ka)=>{const ss=Ro==="left",ll=(0,xe.Z)(ss?zt:$t),Rl=new Set(ll),yl=(0,xe.Z)(ss?mt:bt).filter(qo=>!(qo!=null&&qo.disabled)),Xl=yl.findIndex(qo=>qo.key===ta);Ka&&ll.length>0?Pi(Ro,yl,Rl,Xl):mi(Ro,Rl,ta,$a,Xl);const ga=Array.from(Rl);kn(Ro,ga),e.selectedKeys||Qt(Ro,ga)},ki=(Ro,ta,$a)=>{ao("left",Ro,ta,$a==null?void 0:$a.shiftKey)},Ao=(Ro,ta,$a)=>{ao("right",Ro,ta,$a==null?void 0:$a.shiftKey)},Cr=Ro=>{Qt("right",[]),Ie==null||Ie(a.filter(ta=>!Ro.includes(ta)),"left",(0,xe.Z)(Ro))},ur=Ro=>typeof w=="function"?w({direction:Ro}):w||{},Tr=(0,s.useContext)($c.aM),{hasFeedback:qn,status:pi}=Tr,ji=Ro=>Object.assign(Object.assign(Object.assign({},Ro),{notFoundContent:(De==null?void 0:De("Transfer"))||s.createElement(Wf.Z,{componentName:"Transfer"})}),I),go=(0,Fc.F)(pi,H),ra=!me&&G,Aa=bt.filter(Ro=>$t.includes(Ro.key)&&!Ro.disabled).length>0,oa=mt.filter(Ro=>zt.includes(Ro.key)&&!Ro.disabled).length>0,Cs=q()(st,{[`${st}-disabled`]:L,[`${st}-customize-list`]:!!me,[`${st}-rtl`]:Ue==="rtl"},(0,Fc.Z)(st,go,qn),ke==null?void 0:ke.className,ne,oe,Et,It),[Za]=(0,In.Z)("Transfer",Ac.Z.Transfer),Ga=ji(Za),[va,ts]=Pn(Ga),As=ae!=null?ae:ke==null?void 0:ke.selectionsIcon;return ct(s.createElement("div",{className:Cs,style:Object.assign(Object.assign({},ke==null?void 0:ke.style),C)},s.createElement(zw,Object.assign({prefixCls:`${st}-list`,titleText:va,dataSource:mt,filterOption:ie,style:ur("left"),checkedKeys:zt,handleFilter:Di,handleClear:$o,onItemSelect:ki,onItemSelectAll:Gr,render:le,showSearch:z,renderList:me,footer:fe,onScroll:Dr,disabled:L,direction:Ue==="rtl"?"right":"left",showSelectAll:Z,selectAllLabel:f[0],pagination:ra,selectionsIcon:As},Ga)),s.createElement(BT,{className:`${st}-operation`,rightActive:oa,rightArrowText:y[0],moveToRight:Fn,leftActive:Aa,leftArrowText:y[1],moveToLeft:ar,style:k,disabled:L,direction:Ue,oneWay:j}),s.createElement(zw,Object.assign({prefixCls:`${st}-list`,titleText:ts,dataSource:bt,filterOption:ie,style:ur("right"),checkedKeys:$t,handleFilter:Ui,handleClear:Ri,onItemSelect:Ao,onItemSelectAll:yi,onItemRemove:Cr,render:le,showSearch:z,renderList:me,footer:fe,onScroll:br,disabled:L,direction:Ue==="rtl"?"left":"right",showSelectAll:Z,selectAllLabel:f[1],showRemove:j,pagination:ra,selectionsIcon:As},Ga))))};Jx.List=zw,Jx.Search=NT,Jx.Operation=BT;var h6=Jx,p6=function(e){var t=s.useRef({valueLabels:new Map});return s.useMemo(function(){var a=t.current.valueLabels,o=new Map,f=e.map(function(y){var C=y.value,w=y.label,I=w!=null?w:a.get(C);return o.set(C,I),(0,Y.Z)((0,Y.Z)({},y),{},{label:I})});return t.current.valueLabels=o,[f]},[e])},m6=function(t,a,o,f){return s.useMemo(function(){var y=function(Z){return Z.map(function(j){var G=j.value;return G})},C=y(t),w=y(a),I=C.filter(function(k){return!f[k]}),D=C,L=w;if(o){var z=(0,Cd.S)(C,!0,f);D=z.checkedKeys,L=z.halfCheckedKeys}return[Array.from(new Set([].concat((0,xe.Z)(I),(0,xe.Z)(D)))),L]},[t,a,o,f])},g6=m6,v6=function(e,t){return s.useMemo(function(){var a=(0,Uf.I8)(e,{fieldNames:t,initWrapper:function(f){return(0,Y.Z)((0,Y.Z)({},f),{},{valueEntities:new Map})},processEntity:function(f,y){var C=f.node[t.value];if(0)var w;y.valueEntities.set(C,f)}});return a},[e,t])},y6=function(){return null},Nw=y6,_6=["children","value"];function kT(e){return(0,Wl.Z)(e).map(function(t){if(!s.isValidElement(t)||!t.type)return null;var a=t,o=a.key,f=a.props,y=f.children,C=f.value,w=(0,de.Z)(f,_6),I=(0,Y.Z)({key:o,value:C},w),D=kT(y);return D.length&&(I.children=D),I}).filter(function(t){return t})}function Bw(e){if(!e)return e;var t=(0,Y.Z)({},e);return"props"in t||Object.defineProperty(t,"props",{get:function(){return(0,lc.ZP)(!1,"New `rc-tree-select` not support return node instance as argument anymore. Please consider to remove `props` access."),t}}),t}function b6(e,t,a,o,f,y){var C=null,w=null;function I(){function D(L){var z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"0",k=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return L.map(function(Z,j){var G="".concat(z,"-").concat(j),H=Z[y.value],X=a.includes(H),ne=D(Z[y.children]||[],G,X),oe=s.createElement(Nw,Z,ne.map(function(ie){return ie.node}));if(t===H&&(C=oe),X){var ae={pos:G,node:oe,children:ne};return k||w.push(ae),ae}return null}).filter(function(Z){return Z})}w||(w=[],D(o),w.sort(function(L,z){var k=L.node.props.value,Z=z.node.props.value,j=a.indexOf(k),G=a.indexOf(Z);return j-G}))}Object.defineProperty(e,"triggerNode",{get:function(){return(0,lc.ZP)(!1,"`triggerNode` is deprecated. Please consider decoupling data with node."),I(),C}}),Object.defineProperty(e,"allCheckedNodes",{get:function(){return(0,lc.ZP)(!1,"`allCheckedNodes` is deprecated. Please consider decoupling data with node."),I(),f?w:w.map(function(L){var z=L.node;return z})}})}var x6=function(t,a,o){var f=o.fieldNames,y=o.treeNodeFilterProp,C=o.filterTreeNode,w=f.children;return s.useMemo(function(){if(!a||C===!1)return t;var I=typeof C=="function"?C:function(L,z){return String(z[y]).toUpperCase().includes(a.toUpperCase())},D=function L(z){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return z.reduce(function(Z,j){var G=j[w],H=k||I(a,Bw(j)),X=L(G||[],H);return(H||X.length)&&Z.push((0,Y.Z)((0,Y.Z)({},j),{},(0,pe.Z)({isLeaf:void 0},w,X))),Z},[])};return D(t)},[t,a,w,y,C])},C6=x6;function jT(e){var t=s.useRef();t.current=e;var a=s.useCallback(function(){return t.current.apply(t,arguments)},[]);return a}function S6(e,t){var a=t.id,o=t.pId,f=t.rootPId,y=new Map,C=[];return e.forEach(function(w){var I=w[a],D=(0,Y.Z)((0,Y.Z)({},w),{},{key:w.key||I});y.set(I,D)}),y.forEach(function(w){var I=w[o],D=y.get(I);D?(D.children=D.children||[],D.children.push(w)):(I===f||f===null)&&C.push(w)}),C}function w6(e,t,a){return s.useMemo(function(){if(e){if(a){var o=(0,Y.Z)({id:"id",pId:"pId",rootPId:null},(0,et.Z)(a)==="object"?a:{});return S6(e,o)}return e}return kT(t)},[t,a,e])}var E6=s.createContext(null),ZT=E6,I6=s.createContext(null),VT=I6,T6=function(t){return Array.isArray(t)?t:t!==void 0?[t]:[]},M6=function(t){var a=t||{},o=a.label,f=a.value,y=a.children;return{_title:o?[o]:["title","label"],value:f||"value",key:f||"value",children:y||"children"}},Fw=function(t){return!t||t.disabled||t.disableCheckbox||t.checkable===!1},P6=function(t,a){var o=[],f=function y(C){C.forEach(function(w){var I=w[a.children];I&&(o.push(w[a.value]),y(I))})};return f(t),o},HT=function(t){return t==null},O6={width:0,height:0,display:"flex",overflow:"hidden",opacity:0,border:0,padding:0,margin:0},R6=function(t,a){var o=(0,iv.lk)(),f=o.prefixCls,y=o.multiple,C=o.searchValue,w=o.toggleOpen,I=o.open,D=o.notFoundContent,L=s.useContext(VT),z=L.virtual,k=L.listHeight,Z=L.listItemHeight,j=L.listItemScrollOffset,G=L.treeData,H=L.fieldNames,X=L.onSelect,ne=L.dropdownMatchSelectWidth,oe=L.treeExpandAction,ae=L.treeTitleRender,ie=L.onPopupScroll,le=L.leftMaxCount,fe=L.leafCountOnly,me=L.valueEntities,ge=s.useContext(ZT),be=ge.checkable,Ie=ge.checkedKeys,Oe=ge.halfCheckedKeys,Te=ge.treeExpandedKeys,Ve=ge.treeDefaultExpandAll,De=ge.treeDefaultExpandedKeys,Ue=ge.onTreeExpand,ke=ge.treeIcon,st=ge.showTreeIcon,ct=ge.switcherIcon,Et=ge.treeLine,It=ge.treeNodeFilterProp,Ct=ge.loadData,mt=ge.treeLoadedKeys,bt=ge.treeMotion,zt=ge.onTreeLoad,$t=ge.keyEntities,Ht=s.useRef(),Mt=(0,rl.Z)(function(){return G},[I,G],function(ji,go){return go[0]&&ji[1]!==go[1]}),Cn=s.useMemo(function(){return be?{checked:Ie,halfChecked:Oe}:null},[be,Ie,Oe]);s.useEffect(function(){if(I&&!y&&Ie.length){var ji;(ji=Ht.current)===null||ji===void 0||ji.scrollTo({key:Ie[0]})}},[I]);var Hn=function(go){go.preventDefault()},pn=function(go,ra){var Aa=ra.node;be&&Fw(Aa)||(X(Aa.key,{selected:!Ie.includes(Aa.key)}),y||w(!1))},Dn=s.useState(De),Qt=(0,Re.Z)(Dn,2),Ft=Qt[0],kn=Qt[1],Pn=s.useState(null),Dr=(0,Re.Z)(Pn,2),br=Dr[0],or=Dr[1],ar=s.useMemo(function(){return Te?(0,xe.Z)(Te):C?br:Ft},[Ft,br,Te,C]),Fn=function(go){kn(go),or(go),Ue&&Ue(go)},sr=String(C).toLowerCase(),Gr=function(go){return sr?String(go[It]).toLowerCase().includes(sr):!1};s.useEffect(function(){C&&or(P6(G,H))},[C]);var yi=s.useState(function(){return new Map}),Di=(0,Re.Z)(yi,2),Ui=Di[0],$o=Di[1];s.useEffect(function(){le&&$o(new Map)},[le]);function Ri(ji){var go=ji[H.value];if(!Ui.has(go)){var ra=me.get(go),Aa=(ra.children||[]).length===0;if(Aa)Ui.set(go,!1);else{var oa=ra.children.filter(function(Za){return!Za.node.disabled&&!Za.node.disableCheckbox&&!Ie.includes(Za.node[H.value])}),Cs=oa.length;Ui.set(go,Cs>le)}}return Ui.get(go)}var mi=(0,$s.zX)(function(ji){var go=ji[H.value];return Ie.includes(go)||le===null?!1:le<=0?!0:fe&&le?Ri(ji):!1}),Pi=function ji(go){var ra=zg(go),Aa;try{for(ra.s();!(Aa=ra.n()).done;){var oa=Aa.value;if(!(oa.disabled||oa.selectable===!1)){if(C){if(Gr(oa))return oa}else return oa;if(oa[H.children]){var Cs=ji(oa[H.children]);if(Cs)return Cs}}}}catch(Za){ra.e(Za)}finally{ra.f()}return null},ao=s.useState(null),ki=(0,Re.Z)(ao,2),Ao=ki[0],Cr=ki[1],ur=$t[Ao];s.useEffect(function(){if(I){var ji=null,go=function(){var Aa=Pi(Mt);return Aa?Aa[H.value]:null};!y&&Ie.length&&!C?ji=Ie[0]:ji=go(),Cr(ji)}},[I,C]),s.useImperativeHandle(a,function(){var ji;return{scrollTo:(ji=Ht.current)===null||ji===void 0?void 0:ji.scrollTo,onKeyDown:function(ra){var Aa,oa=ra.which;switch(oa){case nt.Z.UP:case nt.Z.DOWN:case nt.Z.LEFT:case nt.Z.RIGHT:(Aa=Ht.current)===null||Aa===void 0||Aa.onKeyDown(ra);break;case nt.Z.ENTER:{if(ur){var Cs=mi(ur.node),Za=(ur==null?void 0:ur.node)||{},Ga=Za.selectable,va=Za.value,ts=Za.disabled;Ga!==!1&&!ts&&!Cs&&pn(null,{node:{key:Ao},selected:!Ie.includes(va)})}break}case nt.Z.ESC:w(!1)}},onKeyUp:function(){}}});var Tr=(0,rl.Z)(function(){return!C},[C,Te||Ft],function(ji,go){var ra=(0,Re.Z)(ji,1),Aa=ra[0],oa=(0,Re.Z)(go,2),Cs=oa[0],Za=oa[1];return Aa!==Cs&&!!(Cs||Za)}),qn=Tr?Ct:null;if(Mt.length===0)return s.createElement("div",{role:"listbox",className:"".concat(f,"-empty"),onMouseDown:Hn},D);var pi={fieldNames:H};return mt&&(pi.loadedKeys=mt),ar&&(pi.expandedKeys=ar),s.createElement("div",{onMouseDown:Hn},ur&&I&&s.createElement("span",{style:O6,"aria-live":"assertive"},ur.node.value),s.createElement(Ux.y6.Provider,{value:{nodeDisabled:mi}},s.createElement(Ux.ZP,(0,We.Z)({ref:Ht,focusable:!1,prefixCls:"".concat(f,"-tree"),treeData:Mt,height:k,itemHeight:Z,itemScrollOffset:j,virtual:z!==!1&&ne!==!1,multiple:y,icon:ke,showIcon:st,switcherIcon:ct,showLine:Et,loadData:qn,motion:bt,activeKey:Ao,checkable:be,checkStrictly:!0,checkedKeys:Cn,selectedKeys:be?[]:Ie,defaultExpandAll:Ve,titleRender:ae},pi,{onActiveChange:Cr,onSelect:pn,onCheck:pn,onExpand:Fn,onLoad:zt,filterTreeNode:Gr,expandAction:oe,onScroll:ie}))))},$6=s.forwardRef(R6),A6=$6,kw="SHOW_ALL",jw="SHOW_PARENT",Qx="SHOW_CHILD";function UT(e,t,a,o){var f=new Set(e);return t===Qx?e.filter(function(y){var C=a[y];return!C||!C.children||!C.children.some(function(w){var I=w.node;return f.has(I[o.value])})||!C.children.every(function(w){var I=w.node;return Fw(I)||f.has(I[o.value])})}):t===jw?e.filter(function(y){var C=a[y],w=C?C.parent:null;return!w||Fw(w.node)||!f.has(w.key)}):e}function D7(e){var t=e.searchPlaceholder,a=e.treeCheckStrictly,o=e.treeCheckable,f=e.labelInValue,y=e.value,C=e.multiple,w=e.showCheckedStrategy,I=e.maxCount;warning(!t,"`searchPlaceholder` has been removed."),a&&f===!1&&warning(!1,"`treeCheckStrictly` will force set `labelInValue` to `true`."),(f||a)&&warning(toArray(y).every(function(D){return D&&_typeof(D)==="object"&&"value"in D}),"Invalid prop `value` supplied to `TreeSelect`. You should use { label: string, value: string | number } or [{ label: string, value: string | number }] instead."),a||C||o?warning(!y||Array.isArray(y),"`value` should be an array when `TreeSelect` is checkable or multiple."):warning(!Array.isArray(y),"`value` should not be array when `TreeSelect` is single mode."),I&&(w==="SHOW_ALL"&&!a||w==="SHOW_PARENT")&&warning(!1,"`maxCount` not work with `showCheckedStrategy=SHOW_ALL` (when `treeCheckStrictly=false`) or `showCheckedStrategy=SHOW_PARENT`.")}var L7=null,D6=["id","prefixCls","value","defaultValue","onChange","onSelect","onDeselect","searchValue","inputValue","onSearch","autoClearSearchValue","filterTreeNode","treeNodeFilterProp","showCheckedStrategy","treeNodeLabelProp","multiple","treeCheckable","treeCheckStrictly","labelInValue","maxCount","fieldNames","treeDataSimpleMode","treeData","children","loadData","treeLoadedKeys","onTreeLoad","treeDefaultExpandAll","treeExpandedKeys","treeDefaultExpandedKeys","onTreeExpand","treeExpandAction","virtual","listHeight","listItemHeight","listItemScrollOffset","onDropdownVisibleChange","dropdownMatchSelectWidth","treeLine","treeIcon","showTreeIcon","switcherIcon","treeMotion","treeTitleRender","onPopupScroll"];function L6(e){return!e||(0,et.Z)(e)!=="object"}var z6=s.forwardRef(function(e,t){var a=e.id,o=e.prefixCls,f=o===void 0?"rc-tree-select":o,y=e.value,C=e.defaultValue,w=e.onChange,I=e.onSelect,D=e.onDeselect,L=e.searchValue,z=e.inputValue,k=e.onSearch,Z=e.autoClearSearchValue,j=Z===void 0?!0:Z,G=e.filterTreeNode,H=e.treeNodeFilterProp,X=H===void 0?"value":H,ne=e.showCheckedStrategy,oe=e.treeNodeLabelProp,ae=e.multiple,ie=e.treeCheckable,le=e.treeCheckStrictly,fe=e.labelInValue,me=e.maxCount,ge=e.fieldNames,be=e.treeDataSimpleMode,Ie=e.treeData,Oe=e.children,Te=e.loadData,Ve=e.treeLoadedKeys,De=e.onTreeLoad,Ue=e.treeDefaultExpandAll,ke=e.treeExpandedKeys,st=e.treeDefaultExpandedKeys,ct=e.onTreeExpand,Et=e.treeExpandAction,It=e.virtual,Ct=e.listHeight,mt=Ct===void 0?200:Ct,bt=e.listItemHeight,zt=bt===void 0?20:bt,$t=e.listItemScrollOffset,Ht=$t===void 0?0:$t,Mt=e.onDropdownVisibleChange,Cn=e.dropdownMatchSelectWidth,Hn=Cn===void 0?!0:Cn,pn=e.treeLine,Dn=e.treeIcon,Qt=e.showTreeIcon,Ft=e.switcherIcon,kn=e.treeMotion,Pn=e.treeTitleRender,Dr=e.onPopupScroll,br=(0,de.Z)(e,D6),or=(0,wu.ZP)(a),ar=ie&&!le,Fn=ie||le,sr=le||fe,Gr=Fn||ae,yi=(0,Fs.Z)(C,{value:y}),Di=(0,Re.Z)(yi,2),Ui=Di[0],$o=Di[1],Ri=s.useMemo(function(){return ie?ne||Qx:kw},[ne,ie]),mi=s.useMemo(function(){return M6(ge)},[JSON.stringify(ge)]),Pi=(0,Fs.Z)("",{value:L!==void 0?L:z,postState:function(Ca){return Ca||""}}),ao=(0,Re.Z)(Pi,2),ki=ao[0],Ao=ao[1],Cr=function(Ca){Ao(Ca),k==null||k(Ca)},ur=w6(Ie,Oe,be),Tr=v6(ur,mi),qn=Tr.keyEntities,pi=Tr.valueEntities,ji=s.useCallback(function(ka){var Ca=[],gs=[];return ka.forEach(function(vs){pi.has(vs)?gs.push(vs):Ca.push(vs)}),{missingRawValues:Ca,existRawValues:gs}},[pi]),go=C6(ur,ki,{fieldNames:mi,treeNodeFilterProp:X,filterTreeNode:G}),ra=s.useCallback(function(ka){if(ka){if(oe)return ka[oe];for(var Ca=mi._title,gs=0;gs<Ca.length;gs+=1){var vs=ka[Ca[gs]];if(vs!==void 0)return vs}}},[mi,oe]),Aa=s.useCallback(function(ka){var Ca=T6(ka);return Ca.map(function(gs){return L6(gs)?{value:gs}:gs})},[]),oa=s.useCallback(function(ka){var Ca=Aa(ka);return Ca.map(function(gs){var vs=gs.label,Ys=gs.value,_a=gs.halfChecked,Ho,Da=pi.get(Ys);if(Da){var ds;vs=Pn?Pn(Da.node):(ds=vs)!==null&&ds!==void 0?ds:ra(Da.node),Ho=Da.node.disabled}else if(vs===void 0){var Bs=Aa(Ui).find(function(qs){return qs.value===Ys});vs=Bs.label}return{label:vs,value:Ys,halfChecked:_a,disabled:Ho}})},[pi,ra,Aa,Ui]),Cs=s.useMemo(function(){return Aa(Ui===null?[]:Ui)},[Aa,Ui]),Za=s.useMemo(function(){var ka=[],Ca=[];return Cs.forEach(function(gs){gs.halfChecked?Ca.push(gs):ka.push(gs)}),[ka,Ca]},[Cs]),Ga=(0,Re.Z)(Za,2),va=Ga[0],ts=Ga[1],As=s.useMemo(function(){return va.map(function(ka){return ka.value})},[va]),Ro=g6(va,ts,ar,qn),ta=(0,Re.Z)(Ro,2),$a=ta[0],Ka=ta[1],ss=s.useMemo(function(){var ka=UT($a,Ri,qn,mi),Ca=ka.map(function(_a){var Ho,Da;return(Ho=(Da=qn[_a])===null||Da===void 0||(Da=Da.node)===null||Da===void 0?void 0:Da[mi.value])!==null&&Ho!==void 0?Ho:_a}),gs=Ca.map(function(_a){var Ho=va.find(function(ds){return ds.value===_a}),Da=fe?Ho==null?void 0:Ho.label:Pn==null?void 0:Pn(Ho);return{value:_a,label:Da}}),vs=oa(gs),Ys=vs[0];return!Gr&&Ys&&HT(Ys.value)&&HT(Ys.label)?[]:vs.map(function(_a){var Ho;return(0,Y.Z)((0,Y.Z)({},_a),{},{label:(Ho=_a.label)!==null&&Ho!==void 0?Ho:_a.value})})},[mi,Gr,$a,va,oa,Ri,qn]),ll=p6(ss),Rl=(0,Re.Z)(ll,1),yl=Rl[0],Xl=s.useMemo(function(){return Gr&&(Ri==="SHOW_CHILD"||le||!ie)?me:null},[me,Gr,le,Ri,ie]),ga=jT(function(ka,Ca,gs){var vs=UT(ka,Ri,qn,mi);if(!(Xl&&vs.length>Xl)){var Ys=oa(ka);if($o(Ys),j&&Ao(""),w){var _a=ka;ar&&(_a=vs.map(function(Ss){var $l=pi.get(Ss);return $l?$l.node[mi.value]:Ss}));var Ho=Ca||{triggerValue:void 0,selected:void 0},Da=Ho.triggerValue,ds=Ho.selected,Bs=_a;if(le){var qs=ts.filter(function(Ss){return!_a.includes(Ss.value)});Bs=[].concat((0,xe.Z)(Bs),(0,xe.Z)(qs))}var rc=oa(Bs),Js={preValue:va,triggerValue:Da},La=!0;(le||gs==="selection"&&!ds)&&(La=!1),b6(Js,Da,ka,ur,La,mi),Fn?Js.checked=ds:Js.selected=ds;var cs=sr?rc:rc.map(function(Ss){return Ss.value});w(Gr?cs:cs[0],sr?null:rc.map(function(Ss){return Ss.label}),Js)}}}),qo=s.useCallback(function(ka,Ca){var gs,vs=Ca.selected,Ys=Ca.source,_a=qn[ka],Ho=_a==null?void 0:_a.node,Da=(gs=Ho==null?void 0:Ho[mi.value])!==null&&gs!==void 0?gs:ka;if(!Gr)ga([Da],{selected:!0,triggerValue:Da},"option");else{var ds=vs?[].concat((0,xe.Z)(As),[Da]):$a.filter(function($l){return $l!==Da});if(ar){var Bs=ji(ds),qs=Bs.missingRawValues,rc=Bs.existRawValues,Js=rc.map(function($l){return pi.get($l).key}),La;if(vs){var cs=(0,Cd.S)(Js,!0,qn);La=cs.checkedKeys}else{var Ss=(0,Cd.S)(Js,{checked:!1,halfCheckedKeys:Ka},qn);La=Ss.checkedKeys}ds=[].concat((0,xe.Z)(qs),(0,xe.Z)(La.map(function($l){return qn[$l].node[mi.value]})))}ga(ds,{selected:vs,triggerValue:Da},Ys||"option")}vs||!Gr?I==null||I(Da,Bw(Ho)):D==null||D(Da,Bw(Ho))},[ji,pi,qn,mi,Gr,As,ga,ar,I,D,$a,Ka,me]),Jo=s.useCallback(function(ka){if(Mt){var Ca={};Object.defineProperty(Ca,"documentClickClose",{get:function(){return(0,lc.ZP)(!1,"Second param of `onDropdownVisibleChange` has been removed."),!1}}),Mt(ka,Ca)}},[Mt]),Vo=jT(function(ka,Ca){var gs=ka.map(function(vs){return vs.value});if(Ca.type==="clear"){ga(gs,{},"selection");return}Ca.values.length&&qo(Ca.values[0].value,{selected:!1,source:"selection"})}),ls=s.useMemo(function(){return{virtual:It,dropdownMatchSelectWidth:Hn,listHeight:mt,listItemHeight:zt,listItemScrollOffset:Ht,treeData:go,fieldNames:mi,onSelect:qo,treeExpandAction:Et,treeTitleRender:Pn,onPopupScroll:Dr,leftMaxCount:me===void 0?null:me-yl.length,leafCountOnly:Ri==="SHOW_CHILD"&&!le&&!!ie,valueEntities:pi}},[It,Hn,mt,zt,Ht,go,mi,qo,Et,Pn,Dr,me,yl.length,Ri,le,ie,pi]),Ds=s.useMemo(function(){return{checkable:Fn,loadData:Te,treeLoadedKeys:Ve,onTreeLoad:De,checkedKeys:$a,halfCheckedKeys:Ka,treeDefaultExpandAll:Ue,treeExpandedKeys:ke,treeDefaultExpandedKeys:st,onTreeExpand:ct,treeIcon:Dn,treeMotion:kn,showTreeIcon:Qt,switcherIcon:Ft,treeLine:pn,treeNodeFilterProp:X,keyEntities:qn}},[Fn,Te,Ve,De,$a,Ka,Ue,ke,st,ct,Dn,kn,Qt,Ft,pn,X,qn]);return s.createElement(VT.Provider,{value:ls},s.createElement(ZT.Provider,{value:Ds},s.createElement(iv.Ac,(0,We.Z)({ref:t},br,{id:or,prefixCls:f,mode:Gr?"multiple":void 0,displayValues:yl,onDisplayValuesChange:Vo,searchValue:ki,onSearch:Cr,OptionList:A6,emptyOptions:!ur.length,onDropdownVisibleChange:Jo,dropdownMatchSelectWidth:Hn}))))}),B_=z6;B_.TreeNode=Nw,B_.SHOW_ALL=kw,B_.SHOW_PARENT=jw,B_.SHOW_CHILD=Qx;var N6=B_,B6=N6;const F6=e=>{const{componentCls:t,treePrefixCls:a,colorBgElevated:o}=e,f=`.${a}`;return[{[`${t}-dropdown`]:[{padding:`${(0,he.bf)(e.paddingXS)} ${(0,he.bf)(e.calc(e.paddingXS).div(2).equal())}`},YI(a,(0,Qr.IX)(e,{colorBgContainer:o})),{[f]:{borderRadius:0,[`${f}-list-holder-inner`]:{alignItems:"stretch",[`${f}-treenode`]:{[`${f}-node-content-wrapper`]:{flex:"auto"}}}}},b(`${a}-checkbox`,e),{"&-rtl":{direction:"rtl",[`${f}-switcher${f}-switcher_close`]:{[`${f}-switcher-icon svg`]:{transform:"rotate(90deg)"}}}}]}]},z7=null;function k6(e,t,a){return(0,te.I$)("TreeSelect",o=>{const f=(0,Qr.IX)(o,{treePrefixCls:t});return[F6(f)]},qI)(e,a)}var j6=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a};const Z6=(e,t)=>{var a;const{prefixCls:o,size:f,disabled:y,bordered:C=!0,className:w,rootClassName:I,treeCheckable:D,multiple:L,listHeight:z=256,listItemHeight:k,placement:Z,notFoundContent:j,switcherIcon:G,treeLine:H,getPopupContainer:X,popupClassName:ne,dropdownClassName:oe,treeIcon:ae=!1,transitionName:ie,choiceTransitionName:le="",status:fe,treeExpandAction:me,builtinPlacements:ge,dropdownMatchSelectWidth:be,popupMatchSelectWidth:Ie,allowClear:Oe,variant:Te,dropdownStyle:Ve,tagRender:De,maxCount:Ue,showCheckedStrategy:ke,treeCheckStrictly:st}=e,ct=j6(e,["prefixCls","size","disabled","bordered","className","rootClassName","treeCheckable","multiple","listHeight","listItemHeight","placement","notFoundContent","switcherIcon","treeLine","getPopupContainer","popupClassName","dropdownClassName","treeIcon","transitionName","choiceTransitionName","status","treeExpandAction","builtinPlacements","dropdownMatchSelectWidth","popupMatchSelectWidth","allowClear","variant","dropdownStyle","tagRender","maxCount","showCheckedStrategy","treeCheckStrictly"]),{getPopupContainer:Et,getPrefixCls:It,renderEmpty:Ct,direction:mt,virtual:bt,popupMatchSelectWidth:zt,popupOverflow:$t}=s.useContext(ye.E_),[,Ht]=(0,Qn.ZP)(),Mt=k!=null?k:(Ht==null?void 0:Ht.controlHeightSM)+(Ht==null?void 0:Ht.paddingXXS),Cn=It(),Hn=It("select",o),pn=It("select-tree",o),Dn=It("tree-select",o),{compactSize:Qt,compactItemClassnames:Ft}=(0,Vi.ri)(Hn,mt),kn=(0,Un.Z)(Hn),Pn=(0,Un.Z)(Dn),[Dr,br,or]=(0,n.Z)(Hn,kn),[ar]=k6(Dn,pn,Pn),[Fn,sr]=(0,jf.Z)("treeSelect",Te,C),Gr=q()(ne||oe,`${Dn}-dropdown`,{[`${Dn}-dropdown-rtl`]:mt==="rtl"},I,or,kn,Pn,br),yi=!!(D||L),Di=s.useMemo(()=>{if(!(Ue&&(ke==="SHOW_ALL"&&!st||ke==="SHOW_PARENT")))return Ue},[Ue,ke,st]),Ui=(0,d.Z)(e.suffixIcon,e.showArrow),$o=(a=Ie!=null?Ie:be)!==null&&a!==void 0?a:zt,{status:Ri,hasFeedback:mi,isFormItemInput:Pi,feedbackIcon:ao}=s.useContext($c.aM),ki=(0,Fc.F)(Ri,fe),{suffixIcon:Ao,removeIcon:Cr,clearIcon:ur}=(0,i.Z)(Object.assign(Object.assign({},ct),{multiple:yi,showSuffixIcon:Ui,hasFeedback:mi,feedbackIcon:ao,prefixCls:Hn,componentName:"TreeSelect"})),Tr=Oe===!0?{clearIcon:ur}:Oe;let qn;j!==void 0?qn=j:qn=(Ct==null?void 0:Ct("Select"))||s.createElement(Wf.Z,{componentName:"Select"});const pi=(0,fr.Z)(ct,["suffixIcon","removeIcon","clearIcon","itemIcon","switcherIcon"]),ji=s.useMemo(()=>Z!==void 0?Z:mt==="rtl"?"bottomRight":"bottomLeft",[Z,mt]),go=(0,xr.Z)(va=>{var ts;return(ts=f!=null?f:Qt)!==null&&ts!==void 0?ts:va}),ra=s.useContext(to.Z),Aa=y!=null?y:ra,oa=q()(!o&&Dn,{[`${Hn}-lg`]:go==="large",[`${Hn}-sm`]:go==="small",[`${Hn}-rtl`]:mt==="rtl",[`${Hn}-${Fn}`]:sr,[`${Hn}-in-form-item`]:Pi},(0,Fc.Z)(Hn,ki,mi),Ft,w,I,or,kn,Pn,br),Cs=va=>s.createElement(QI,{prefixCls:pn,switcherIcon:G,treeNodeProps:va,showLine:H}),[Za]=(0,qt.Cn)("SelectLike",Ve==null?void 0:Ve.zIndex),Ga=s.createElement(B6,Object.assign({virtual:bt,disabled:Aa},pi,{dropdownMatchSelectWidth:$o,builtinPlacements:(0,u.Z)(ge,$t),ref:t,prefixCls:Hn,className:oa,listHeight:z,listItemHeight:Mt,treeCheckable:D&&s.createElement("span",{className:`${Hn}-tree-checkbox-inner`}),treeLine:!!H,suffixIcon:Ao,multiple:yi,placement:ji,removeIcon:Cr,allowClear:Tr,switcherIcon:Cs,showTreeIcon:ae,notFoundContent:qn,getPopupContainer:X||Et,treeMotion:null,dropdownClassName:Gr,dropdownStyle:Object.assign(Object.assign({},Ve),{zIndex:Za}),choiceTransitionName:(0,Tt.m)(Cn,"",le),transitionName:(0,Tt.m)(Cn,"slide-up",ie),treeExpandAction:me,tagRender:yi?De:void 0,maxCount:Di,showCheckedStrategy:ke,treeCheckStrictly:st}));return Dr(ar(Ga))},Bg=s.forwardRef(Z6),V6=(0,vl.Z)(Bg,"dropdownAlign",e=>(0,fr.Z)(e,["visible"]));Bg.TreeNode=Nw,Bg.SHOW_ALL=kw,Bg.SHOW_PARENT=jw,Bg.SHOW_CHILD=Qx,Bg._InternalPanelDoNotUseOrYouWillBeFired=V6;var H6=Bg,U6={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z"}}]},name:"edit",theme:"outlined"},W6=U6,G6=function(t,a){return s.createElement(Kt.Z,(0,We.Z)({},t,{ref:a,icon:W6}))},K6=s.forwardRef(G6),X6=K6,Y6={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M864 170h-60c-4.4 0-8 3.6-8 8v518H310v-73c0-6.7-7.8-10.5-13-6.3l-141.9 112a8 8 0 000 12.6l141.9 112c5.3 4.2 13 .4 13-6.3v-75h498c35.3 0 64-28.7 64-64V178c0-4.4-3.6-8-8-8z"}}]},name:"enter",theme:"outlined"},q6=Y6,J6=function(t,a){return s.createElement(Kt.Z,(0,We.Z)({},t,{ref:a,icon:q6}))},Q6=s.forwardRef(J6),eB=Q6;const tB=(e,t,a,o)=>{const{titleMarginBottom:f,fontWeightStrong:y}=o;return{marginBottom:f,color:a,fontWeight:y,fontSize:e,lineHeight:t}},nB=e=>{const t=[1,2,3,4,5],a={};return t.forEach(o=>{a[`
      h${o}&,
      div&-h${o},
      div&-h${o} > textarea,
      h${o}
    `]=tB(e[`fontSizeHeading${o}`],e[`lineHeightHeading${o}`],e.colorTextHeading,e)}),a},rB=e=>{const{componentCls:t}=e;return{"a&, a":Object.assign(Object.assign({},(0,Jt.Nd)(e)),{userSelect:"text",[`&[disabled], &${t}-disabled`]:{color:e.colorTextDisabled,cursor:"not-allowed","&:active, &:hover":{color:e.colorTextDisabled},"&:active":{pointerEvents:"none"}}})}},iB=e=>({code:{margin:"0 0.2em",paddingInline:"0.4em",paddingBlock:"0.2em 0.1em",fontSize:"85%",fontFamily:e.fontFamilyCode,background:"rgba(150, 150, 150, 0.1)",border:"1px solid rgba(100, 100, 100, 0.2)",borderRadius:3},kbd:{margin:"0 0.2em",paddingInline:"0.4em",paddingBlock:"0.15em 0.1em",fontSize:"90%",fontFamily:e.fontFamilyCode,background:"rgba(150, 150, 150, 0.06)",border:"1px solid rgba(100, 100, 100, 0.2)",borderBottomWidth:2,borderRadius:3},mark:{padding:0,backgroundColor:Qp.EV[2]},"u, ins":{textDecoration:"underline",textDecorationSkipInk:"auto"},"s, del":{textDecoration:"line-through"},strong:{fontWeight:600},"ul, ol":{marginInline:0,marginBlock:"0 1em",padding:0,li:{marginInline:"20px 0",marginBlock:0,paddingInline:"4px 0",paddingBlock:0}},ul:{listStyleType:"circle",ul:{listStyleType:"disc"}},ol:{listStyleType:"decimal"},"pre, blockquote":{margin:"1em 0"},pre:{padding:"0.4em 0.6em",whiteSpace:"pre-wrap",wordWrap:"break-word",background:"rgba(150, 150, 150, 0.1)",border:"1px solid rgba(100, 100, 100, 0.2)",borderRadius:3,fontFamily:e.fontFamilyCode,code:{display:"inline",margin:0,padding:0,fontSize:"inherit",fontFamily:"inherit",background:"transparent",border:0}},blockquote:{paddingInline:"0.6em 0",paddingBlock:0,borderInlineStart:"4px solid rgba(100, 100, 100, 0.2)",opacity:.85}}),oB=e=>{const{componentCls:t,paddingSM:a}=e,o=a;return{"&-edit-content":{position:"relative","div&":{insetInlineStart:e.calc(e.paddingSM).mul(-1).equal(),marginTop:e.calc(o).mul(-1).equal(),marginBottom:`calc(1em - ${(0,he.bf)(o)})`},[`${t}-edit-content-confirm`]:{position:"absolute",insetInlineEnd:e.calc(e.marginXS).add(2).equal(),insetBlockEnd:e.marginXS,color:e.colorTextDescription,fontWeight:"normal",fontSize:e.fontSize,fontStyle:"normal",pointerEvents:"none"},textarea:{margin:"0!important",MozTransition:"none",height:"1em"}}}},aB=e=>({[`${e.componentCls}-copy-success`]:{"\n    &,\n    &:hover,\n    &:focus":{color:e.colorSuccess}},[`${e.componentCls}-copy-icon-only`]:{marginInlineStart:0}}),sB=()=>({"\n  a&-ellipsis,\n  span&-ellipsis\n  ":{display:"inline-block",maxWidth:"100%"},"&-ellipsis-single-line":{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis","a&, span&":{verticalAlign:"bottom"},"> code":{paddingBlock:0,maxWidth:"calc(100% - 1.2em)",display:"inline-block",overflow:"hidden",textOverflow:"ellipsis",verticalAlign:"bottom",boxSizing:"content-box"}},"&-ellipsis-multiple-line":{display:"-webkit-box",overflow:"hidden",WebkitLineClamp:3,WebkitBoxOrient:"vertical"}}),lB=e=>{const{componentCls:t,titleMarginTop:a}=e;return{[t]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({color:e.colorText,wordBreak:"break-word",lineHeight:e.lineHeight,[`&${t}-secondary`]:{color:e.colorTextDescription},[`&${t}-success`]:{color:e.colorSuccess},[`&${t}-warning`]:{color:e.colorWarning},[`&${t}-danger`]:{color:e.colorError,"a&:active, a&:focus":{color:e.colorErrorActive},"a&:hover":{color:e.colorErrorHover}},[`&${t}-disabled`]:{color:e.colorTextDisabled,cursor:"not-allowed",userSelect:"none"},"\n        div&,\n        p\n      ":{marginBottom:"1em"}},nB(e)),{[`
      & + h1${t},
      & + h2${t},
      & + h3${t},
      & + h4${t},
      & + h5${t}
      `]:{marginTop:a},"\n      div,\n      ul,\n      li,\n      p,\n      h1,\n      h2,\n      h3,\n      h4,\n      h5":{"\n        + h1,\n        + h2,\n        + h3,\n        + h4,\n        + h5\n        ":{marginTop:a}}}),iB(e)),rB(e)),{[`
        ${t}-expand,
        ${t}-collapse,
        ${t}-edit,
        ${t}-copy
      `]:Object.assign(Object.assign({},(0,Jt.Nd)(e)),{marginInlineStart:e.marginXXS})}),oB(e)),aB(e)),sB()),{"&-rtl":{direction:"rtl"}})}},cB=()=>({titleMarginTop:"1.2em",titleMarginBottom:"0.5em"});var WT=(0,te.I$)("Typography",e=>[lB(e)],cB),uB=e=>{const{prefixCls:t,"aria-label":a,className:o,style:f,direction:y,maxLength:C,autoSize:w=!0,value:I,onSave:D,onCancel:L,onEnd:z,component:k,enterIcon:Z=s.createElement(eB,null)}=e,j=s.useRef(null),G=s.useRef(!1),H=s.useRef(null),[X,ne]=s.useState(I);s.useEffect(()=>{ne(I)},[I]),s.useEffect(()=>{var Ve;if(!((Ve=j.current)===null||Ve===void 0)&&Ve.resizableTextArea){const{textArea:De}=j.current.resizableTextArea;De.focus();const{length:Ue}=De.value;De.setSelectionRange(Ue,Ue)}},[]);const oe=Ve=>{let{target:De}=Ve;ne(De.value.replace(/[\n\r]/g,""))},ae=()=>{G.current=!0},ie=()=>{G.current=!1},le=Ve=>{let{keyCode:De}=Ve;G.current||(H.current=De)},fe=()=>{D(X.trim())},me=Ve=>{let{keyCode:De,ctrlKey:Ue,altKey:ke,metaKey:st,shiftKey:ct}=Ve;H.current!==De||G.current||Ue||ke||st||ct||(De===nt.Z.ENTER?(fe(),z==null||z()):De===nt.Z.ESC&&L())},ge=()=>{fe()},[be,Ie,Oe]=WT(t),Te=q()(t,`${t}-edit-content`,{[`${t}-rtl`]:y==="rtl",[`${t}-${k}`]:!!k},o,Ie,Oe);return be(s.createElement("div",{className:Te,style:f},s.createElement(dE,{ref:j,maxLength:C,value:X,onChange:oe,onKeyDown:le,onKeyUp:me,onCompositionStart:ae,onCompositionEnd:ie,onBlur:ge,"aria-label":a,rows:1,autoSize:w}),Z!==null?(0,bn.Tm)(Z,{className:`${t}-edit-content-confirm`}):null))},dB=F(874),fB=F.n(dB),hB=function(e,t,a,o){function f(y){return y instanceof a?y:new a(function(C){C(y)})}return new(a||(a=Promise))(function(y,C){function w(L){try{D(o.next(L))}catch(z){C(z)}}function I(L){try{D(o.throw(L))}catch(z){C(z)}}function D(L){L.done?y(L.value):f(L.value).then(w,I)}D((o=o.apply(e,t||[])).next())})},pB=e=>{let{copyConfig:t,children:a}=e;const[o,f]=s.useState(!1),[y,C]=s.useState(!1),w=s.useRef(null),I=()=>{w.current&&clearTimeout(w.current)},D={};t.format&&(D.format=t.format),s.useEffect(()=>I,[]);const L=(0,yr.Z)(z=>hB(void 0,void 0,void 0,function*(){var k;z==null||z.preventDefault(),z==null||z.stopPropagation(),C(!0);try{const Z=typeof t.text=="function"?yield t.text():t.text;fB()(Z||$x(a,!0).join("")||"",D),C(!1),f(!0),I(),w.current=setTimeout(()=>{f(!1)},3e3),(k=t.onCopy)===null||k===void 0||k.call(t,z)}catch(Z){throw C(!1),Z}}));return{copied:o,copyLoading:y,onClick:L}};function Zw(e,t){return s.useMemo(()=>{const a=!!e;return[a,Object.assign(Object.assign({},t),a&&typeof e=="object"?e:null)]},[e])}var mB=e=>{const t=(0,s.useRef)(void 0);return(0,s.useEffect)(()=>{t.current=e}),t.current},gB=(e,t,a)=>(0,s.useMemo)(()=>e===!0?{title:t!=null?t:a}:(0,s.isValidElement)(e)?{title:e}:typeof e=="object"?Object.assign({title:t!=null?t:a},e):{title:e},[e,t,a]),vB=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a},GT=s.forwardRef((e,t)=>{const{prefixCls:a,component:o="article",className:f,rootClassName:y,setContentRef:C,children:w,direction:I,style:D}=e,L=vB(e,["prefixCls","component","className","rootClassName","setContentRef","children","direction","style"]),{getPrefixCls:z,direction:k,className:Z,style:j}=(0,ye.dj)("typography"),G=I!=null?I:k,H=C?(0,Yt.sQ)(t,C):t,X=z("typography",a),[ne,oe,ae]=WT(X),ie=q()(X,Z,{[`${X}-rtl`]:G==="rtl"},f,y,oe,ae),le=Object.assign(Object.assign({},j),D);return ne(s.createElement(o,Object.assign({className:ie,style:le,ref:H},L),w))}),yB={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2L263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z"}}]},name:"copy",theme:"outlined"},_B=yB,bB=function(t,a){return s.createElement(Kt.Z,(0,We.Z)({},t,{ref:a,icon:_B}))},xB=s.forwardRef(bB),CB=xB;function KT(e){return e===!1?[!1,!1]:Array.isArray(e)?e:[e]}function Vw(e,t,a){return e===!0||e===void 0?t:e||a&&t}function SB(e){const t=document.createElement("em");e.appendChild(t);const a=e.getBoundingClientRect(),o=t.getBoundingClientRect();return e.removeChild(t),a.left>o.left||o.right>a.right||a.top>o.top||o.bottom>a.bottom}const Hw=e=>["string","number"].includes(typeof e);var wB=e=>{let{prefixCls:t,copied:a,locale:o,iconOnly:f,tooltips:y,icon:C,tabIndex:w,onCopy:I,loading:D}=e;const L=KT(y),z=KT(C),{copied:k,copy:Z}=o!=null?o:{},j=a?k:Z,G=Vw(L[a?1:0],j),H=typeof G=="string"?G:j;return s.createElement(Du.Z,{title:G},s.createElement("button",{type:"button",className:q()(`${t}-copy`,{[`${t}-copy-success`]:a,[`${t}-copy-icon-only`]:f}),onClick:I,"aria-label":H,tabIndex:w},a?Vw(z[1],s.createElement(QS.Z,null),!0):Vw(z[0],D?s.createElement(Sn.Z,null):s.createElement(CB,null),!0)))};const eC=s.forwardRef((e,t)=>{let{style:a,children:o}=e;const f=s.useRef(null);return s.useImperativeHandle(t,()=>({isExceed:()=>{const y=f.current;return y.scrollHeight>y.clientHeight},getHeight:()=>f.current.clientHeight})),s.createElement("span",{"aria-hidden":!0,ref:f,style:Object.assign({position:"fixed",display:"block",left:0,top:0,pointerEvents:"none",backgroundColor:"rgba(255, 0, 0, 0.65)"},a)},o)}),EB=e=>e.reduce((t,a)=>t+(Hw(a)?String(a).length:1),0);function XT(e,t){let a=0;const o=[];for(let f=0;f<e.length;f+=1){if(a===t)return o;const y=e[f],w=Hw(y)?String(y).length:1,I=a+w;if(I>t){const D=t-a;return o.push(String(y).slice(0,D)),o}o.push(y),a=I}return e}const Uw=0,Ww=1,Gw=2,Kw=3,YT=4,tC={display:"-webkit-box",overflow:"hidden",WebkitBoxOrient:"vertical"};function IB(e){const{enableMeasure:t,width:a,text:o,children:f,rows:y,expanded:C,miscDeps:w,onEllipsis:I}=e,D=s.useMemo(()=>(0,Wl.Z)(o),[o]),L=s.useMemo(()=>EB(D),[o]),z=s.useMemo(()=>f(D,!1),[o]),[k,Z]=s.useState(null),j=s.useRef(null),G=s.useRef(null),H=s.useRef(null),X=s.useRef(null),ne=s.useRef(null),[oe,ae]=s.useState(!1),[ie,le]=s.useState(Uw),[fe,me]=s.useState(0),[ge,be]=s.useState(null);(0,hl.Z)(()=>{le(t&&a&&L?Ww:Uw)},[a,o,y,t,D]),(0,hl.Z)(()=>{var Ve,De,Ue,ke;if(ie===Ww){le(Gw);const st=G.current&&getComputedStyle(G.current).whiteSpace;be(st)}else if(ie===Gw){const st=!!(!((Ve=H.current)===null||Ve===void 0)&&Ve.isExceed());le(st?Kw:YT),Z(st?[0,L]:null),ae(st);const ct=((De=H.current)===null||De===void 0?void 0:De.getHeight())||0,Et=y===1?0:((Ue=X.current)===null||Ue===void 0?void 0:Ue.getHeight())||0,It=((ke=ne.current)===null||ke===void 0?void 0:ke.getHeight())||0,Ct=Math.max(ct,Et+It);me(Ct+1),I(st)}},[ie]);const Ie=k?Math.ceil((k[0]+k[1])/2):0;(0,hl.Z)(()=>{var Ve;const[De,Ue]=k||[0,0];if(De!==Ue){const st=(((Ve=j.current)===null||Ve===void 0?void 0:Ve.getHeight())||0)>fe;let ct=Ie;Ue-De===1&&(ct=st?De:Ue),Z(st?[De,ct]:[ct,Ue])}},[k,Ie]);const Oe=s.useMemo(()=>{if(!t)return f(D,!1);if(ie!==Kw||!k||k[0]!==k[1]){const Ve=f(D,!1);return[YT,Uw].includes(ie)?Ve:s.createElement("span",{style:Object.assign(Object.assign({},tC),{WebkitLineClamp:y})},Ve)}return f(C?D:XT(D,k[0]),oe)},[C,ie,k,D].concat((0,xe.Z)(w))),Te={width:a,margin:0,padding:0,whiteSpace:ge==="nowrap"?"normal":"inherit"};return s.createElement(s.Fragment,null,Oe,ie===Gw&&s.createElement(s.Fragment,null,s.createElement(eC,{style:Object.assign(Object.assign(Object.assign({},Te),tC),{WebkitLineClamp:y}),ref:H},z),s.createElement(eC,{style:Object.assign(Object.assign(Object.assign({},Te),tC),{WebkitLineClamp:y-1}),ref:X},z),s.createElement(eC,{style:Object.assign(Object.assign(Object.assign({},Te),tC),{WebkitLineClamp:1}),ref:ne},f([],!0))),ie===Kw&&k&&k[0]!==k[1]&&s.createElement(eC,{style:Object.assign(Object.assign({},Te),{top:400}),ref:j},f(XT(D,Ie),!0)),ie===Ww&&s.createElement("span",{style:{whiteSpace:"inherit"},ref:G}))}var TB=e=>{let{enableEllipsis:t,isEllipsis:a,children:o,tooltipProps:f}=e;return!(f!=null&&f.title)||!t?o:s.createElement(Du.Z,Object.assign({open:a?void 0:!1},f),o)},MB=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a};function PB(e,t){let{mark:a,code:o,underline:f,delete:y,strong:C,keyboard:w,italic:I}=e,D=t;function L(z,k){k&&(D=s.createElement(z,{},D))}return L("strong",C),L("u",f),L("del",y),L("code",o),L("mark",a),L("kbd",w),L("i",I),D}const OB="...";var nC=s.forwardRef((e,t)=>{var a;const{prefixCls:o,className:f,style:y,type:C,disabled:w,children:I,ellipsis:D,editable:L,copyable:z,component:k,title:Z}=e,j=MB(e,["prefixCls","className","style","type","disabled","children","ellipsis","editable","copyable","component","title"]),{getPrefixCls:G,direction:H}=s.useContext(ye.E_),[X]=(0,In.Z)("Text"),ne=s.useRef(null),oe=s.useRef(null),ae=G("typography",o),ie=(0,fr.Z)(j,["mark","code","delete","underline","strong","keyboard","italic"]),[le,fe]=Zw(L),[me,ge]=(0,Fs.Z)(!1,{value:fe.editing}),{triggerType:be=["icon"]}=fe,Ie=Tr=>{var qn;Tr&&((qn=fe.onStart)===null||qn===void 0||qn.call(fe)),ge(Tr)},Oe=mB(me);(0,hl.Z)(()=>{var Tr;!me&&Oe&&((Tr=oe.current)===null||Tr===void 0||Tr.focus())},[me]);const Te=Tr=>{Tr==null||Tr.preventDefault(),Ie(!0)},Ve=Tr=>{var qn;(qn=fe.onChange)===null||qn===void 0||qn.call(fe,Tr),Ie(!1)},De=()=>{var Tr;(Tr=fe.onCancel)===null||Tr===void 0||Tr.call(fe),Ie(!1)},[Ue,ke]=Zw(z),{copied:st,copyLoading:ct,onClick:Et}=pB({copyConfig:ke,children:I}),[It,Ct]=s.useState(!1),[mt,bt]=s.useState(!1),[zt,$t]=s.useState(!1),[Ht,Mt]=s.useState(!1),[Cn,Hn]=s.useState(!0),[pn,Dn]=Zw(D,{expandable:!1,symbol:Tr=>Tr?X==null?void 0:X.collapse:X==null?void 0:X.expand}),[Qt,Ft]=(0,Fs.Z)(Dn.defaultExpanded||!1,{value:Dn.expanded}),kn=pn&&(!Qt||Dn.expandable==="collapsible"),{rows:Pn=1}=Dn,Dr=s.useMemo(()=>kn&&(Dn.suffix!==void 0||Dn.onEllipsis||Dn.expandable||le||Ue),[kn,Dn,le,Ue]);(0,hl.Z)(()=>{pn&&!Dr&&(Ct(fw("webkitLineClamp")),bt(fw("textOverflow")))},[Dr,pn]);const[br,or]=s.useState(kn),ar=s.useMemo(()=>Dr?!1:Pn===1?mt:It,[Dr,mt,It]);(0,hl.Z)(()=>{or(ar&&kn)},[ar,kn]);const Fn=kn&&(br?Ht:zt),sr=kn&&Pn===1&&br,Gr=kn&&Pn>1&&br,yi=(Tr,qn)=>{var pi;Ft(qn.expanded),(pi=Dn.onExpand)===null||pi===void 0||pi.call(Dn,Tr,qn)},[Di,Ui]=s.useState(0),$o=Tr=>{let{offsetWidth:qn}=Tr;Ui(qn)},Ri=Tr=>{var qn;$t(Tr),zt!==Tr&&((qn=Dn.onEllipsis)===null||qn===void 0||qn.call(Dn,Tr))};s.useEffect(()=>{const Tr=ne.current;if(pn&&br&&Tr){const qn=SB(Tr);Ht!==qn&&Mt(qn)}},[pn,br,I,Gr,Cn,Di]),s.useEffect(()=>{const Tr=ne.current;if(typeof IntersectionObserver=="undefined"||!Tr||!br||!kn)return;const qn=new IntersectionObserver(()=>{Hn(!!Tr.offsetParent)});return qn.observe(Tr),()=>{qn.disconnect()}},[br,kn]);const mi=gB(Dn.tooltip,fe.text,I),Pi=s.useMemo(()=>{if(!(!pn||br))return[fe.text,I,Z,mi.title].find(Hw)},[pn,br,Z,mi.title,Fn]);if(me)return s.createElement(uB,{value:(a=fe.text)!==null&&a!==void 0?a:typeof I=="string"?I:"",onSave:Ve,onCancel:De,onEnd:fe.onEnd,prefixCls:ae,className:f,style:y,direction:H,component:k,maxLength:fe.maxLength,autoSize:fe.autoSize,enterIcon:fe.enterIcon});const ao=()=>{const{expandable:Tr,symbol:qn}=Dn;return Tr?s.createElement("button",{type:"button",key:"expand",className:`${ae}-${Qt?"collapse":"expand"}`,onClick:pi=>yi(pi,{expanded:!Qt}),"aria-label":Qt?X.collapse:X==null?void 0:X.expand},typeof qn=="function"?qn(Qt):qn):null},ki=()=>{if(!le)return;const{icon:Tr,tooltip:qn,tabIndex:pi}=fe,ji=(0,Wl.Z)(qn)[0]||(X==null?void 0:X.edit),go=typeof ji=="string"?ji:"";return be.includes("icon")?s.createElement(Du.Z,{key:"edit",title:qn===!1?"":ji},s.createElement("button",{type:"button",ref:oe,className:`${ae}-edit`,onClick:Te,"aria-label":go,tabIndex:pi},Tr||s.createElement(X6,{role:"button"}))):null},Ao=()=>Ue?s.createElement(wB,Object.assign({key:"copy"},ke,{prefixCls:ae,copied:st,locale:X,onCopy:Et,loading:ct,iconOnly:I==null})):null,Cr=Tr=>[Tr&&ao(),ki(),Ao()],ur=Tr=>[Tr&&!Qt&&s.createElement("span",{"aria-hidden":!0,key:"ellipsis"},OB),Dn.suffix,Cr(Tr)];return s.createElement(c.Z,{onResize:$o,disabled:!kn},Tr=>s.createElement(TB,{tooltipProps:mi,enableEllipsis:kn,isEllipsis:Fn},s.createElement(GT,Object.assign({className:q()({[`${ae}-${C}`]:C,[`${ae}-disabled`]:w,[`${ae}-ellipsis`]:pn,[`${ae}-ellipsis-single-line`]:sr,[`${ae}-ellipsis-multiple-line`]:Gr},f),prefixCls:o,style:Object.assign(Object.assign({},y),{WebkitLineClamp:Gr?Pn:void 0}),component:k,ref:(0,Yt.sQ)(Tr,ne,t),direction:H,onClick:be.includes("text")?Te:void 0,"aria-label":Pi==null?void 0:Pi.toString(),title:Z},ie),s.createElement(IB,{enableMeasure:kn&&!br,text:I,rows:Pn,width:Di,onEllipsis:Ri,expanded:Qt,miscDeps:[st,Qt,ct,le,Ue,X]},(qn,pi)=>PB(e,s.createElement(s.Fragment,null,qn.length>0&&pi&&!Qt&&Pi?s.createElement("span",{key:"show-content","aria-hidden":!0},qn):qn,ur(pi)))))))}),RB=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a},$B=s.forwardRef((e,t)=>{var{ellipsis:a,rel:o}=e,f=RB(e,["ellipsis","rel"]);const y=Object.assign(Object.assign({},f),{rel:o===void 0&&f.target==="_blank"?"noopener noreferrer":o});return delete y.navigate,s.createElement(nC,Object.assign({},y,{ref:t,ellipsis:!!a,component:"a"}))}),AB=s.forwardRef((e,t)=>s.createElement(nC,Object.assign({ref:t},e,{component:"div"}))),DB=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a};const LB=(e,t)=>{var{ellipsis:a}=e,o=DB(e,["ellipsis"]);const f=s.useMemo(()=>a&&typeof a=="object"?(0,fr.Z)(a,["expandable","rows"]):a,[a]);return s.createElement(nC,Object.assign({ref:t},o,{ellipsis:f,component:"span"}))};var zB=s.forwardRef(LB),NB=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a};const BB=[1,2,3,4,5];var FB=s.forwardRef((e,t)=>{const{level:a=1}=e,o=NB(e,["level"]),f=BB.includes(a)?`h${a}`:"h1";return s.createElement(nC,Object.assign({ref:t},o,{component:f}))});const F_=GT;F_.Text=zB,F_.Link=$B,F_.Title=FB,F_.Paragraph=AB;var kB=F_,sd=F(63662),Md=F(57250),wv=F(90594),Xw=function(e,t){if(e&&t){var a=Array.isArray(t)?t:t.split(","),o=e.name||"",f=e.type||"",y=f.replace(/\/.*$/,"");return a.some(function(C){var w=C.trim();if(/^\*(\/\*)?$/.test(C))return!0;if(w.charAt(0)==="."){var I=o.toLowerCase(),D=w.toLowerCase(),L=[D];return(D===".jpg"||D===".jpeg")&&(L=[".jpg",".jpeg"]),L.some(function(z){return I.endsWith(z)})}return/\/\*$/.test(w)?y===w.replace(/\/.*$/,""):f===w?!0:/^\w+$/.test(w)?((0,lc.ZP)(!1,"Upload takes an invalidate 'accept' type '".concat(w,"'.Skip for check.")),!0):!1})}return!0};function jB(e,t){var a="cannot ".concat(e.method," ").concat(e.action," ").concat(t.status,"'"),o=new Error(a);return o.status=t.status,o.method=e.method,o.url=e.action,o}function qT(e){var t=e.responseText||e.response;if(!t)return t;try{return JSON.parse(t)}catch(a){return t}}function ZB(e){var t=new XMLHttpRequest;e.onProgress&&t.upload&&(t.upload.onprogress=function(y){y.total>0&&(y.percent=y.loaded/y.total*100),e.onProgress(y)});var a=new FormData;e.data&&Object.keys(e.data).forEach(function(f){var y=e.data[f];if(Array.isArray(y)){y.forEach(function(C){a.append("".concat(f,"[]"),C)});return}a.append(f,y)}),e.file instanceof Blob?a.append(e.filename,e.file,e.file.name):a.append(e.filename,e.file),t.onerror=function(y){e.onError(y)},t.onload=function(){return t.status<200||t.status>=300?e.onError(jB(e,t),qT(t)):e.onSuccess(qT(t),t)},t.open(e.method,e.action,!0),e.withCredentials&&"withCredentials"in t&&(t.withCredentials=!0);var o=e.headers||{};return o["X-Requested-With"]!==null&&t.setRequestHeader("X-Requested-With","XMLHttpRequest"),Object.keys(o).forEach(function(f){o[f]!==null&&t.setRequestHeader(f,o[f])}),t.send(a),{abort:function(){t.abort()}}}var VB=function(){var e=(0,wv.Z)((0,Md.Z)().mark(function t(a,o){var f,y,C,w,I,D,L,z;return(0,Md.Z)().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:D=function(){return D=(0,wv.Z)((0,Md.Z)().mark(function G(H){return(0,Md.Z)().wrap(function(ne){for(;;)switch(ne.prev=ne.next){case 0:return ne.abrupt("return",new Promise(function(oe){H.file(function(ae){o(ae)?(H.fullPath&&!ae.webkitRelativePath&&(Object.defineProperties(ae,{webkitRelativePath:{writable:!0}}),ae.webkitRelativePath=H.fullPath.replace(/^\//,""),Object.defineProperties(ae,{webkitRelativePath:{writable:!1}})),oe(ae)):oe(null)})}));case 1:case"end":return ne.stop()}},G)})),D.apply(this,arguments)},I=function(G){return D.apply(this,arguments)},w=function(){return w=(0,wv.Z)((0,Md.Z)().mark(function G(H){var X,ne,oe,ae,ie;return(0,Md.Z)().wrap(function(fe){for(;;)switch(fe.prev=fe.next){case 0:X=H.createReader(),ne=[];case 2:return fe.next=5,new Promise(function(me){X.readEntries(me,function(){return me([])})});case 5:if(oe=fe.sent,ae=oe.length,ae){fe.next=9;break}return fe.abrupt("break",12);case 9:for(ie=0;ie<ae;ie++)ne.push(oe[ie]);fe.next=2;break;case 12:return fe.abrupt("return",ne);case 13:case"end":return fe.stop()}},G)})),w.apply(this,arguments)},C=function(G){return w.apply(this,arguments)},f=[],y=[],a.forEach(function(j){return y.push(j.webkitGetAsEntry())}),L=function(){var j=(0,wv.Z)((0,Md.Z)().mark(function G(H,X){var ne,oe;return(0,Md.Z)().wrap(function(ie){for(;;)switch(ie.prev=ie.next){case 0:if(H){ie.next=2;break}return ie.abrupt("return");case 2:if(H.path=X||"",!H.isFile){ie.next=10;break}return ie.next=6,I(H);case 6:ne=ie.sent,ne&&f.push(ne),ie.next=15;break;case 10:if(!H.isDirectory){ie.next=15;break}return ie.next=13,C(H);case 13:oe=ie.sent,y.push.apply(y,(0,xe.Z)(oe));case 15:case"end":return ie.stop()}},G)}));return function(H,X){return j.apply(this,arguments)}}(),z=0;case 9:if(!(z<y.length)){Z.next=15;break}return Z.next=12,L(y[z]);case 12:z++,Z.next=9;break;case 15:return Z.abrupt("return",f);case 16:case"end":return Z.stop()}},t)}));return function(a,o){return e.apply(this,arguments)}}(),HB=VB,UB=+new Date,WB=0;function Yw(){return"rc-upload-".concat(UB,"-").concat(++WB)}var GB=["component","prefixCls","className","classNames","disabled","id","name","style","styles","multiple","accept","capture","children","directory","openFileDialogOnClick","onMouseEnter","onMouseLeave","hasControlInside"],KB=function(e){(0,fi.Z)(a,e);var t=(0,$i.Z)(a);function a(){var o;(0,Bn.Z)(this,a);for(var f=arguments.length,y=new Array(f),C=0;C<f;C++)y[C]=arguments[C];return o=t.call.apply(t,[this].concat(y)),(0,pe.Z)((0,sd.Z)(o),"state",{uid:Yw()}),(0,pe.Z)((0,sd.Z)(o),"reqs",{}),(0,pe.Z)((0,sd.Z)(o),"fileInput",void 0),(0,pe.Z)((0,sd.Z)(o),"_isMounted",void 0),(0,pe.Z)((0,sd.Z)(o),"onChange",function(w){var I=o.props,D=I.accept,L=I.directory,z=w.target.files,k=(0,xe.Z)(z).filter(function(Z){return!L||Xw(Z,D)});o.uploadFiles(k),o.reset()}),(0,pe.Z)((0,sd.Z)(o),"onClick",function(w){var I=o.fileInput;if(I){var D=w.target,L=o.props.onClick;if(D&&D.tagName==="BUTTON"){var z=I.parentNode;z.focus(),D.blur()}I.click(),L&&L(w)}}),(0,pe.Z)((0,sd.Z)(o),"onKeyDown",function(w){w.key==="Enter"&&o.onClick(w)}),(0,pe.Z)((0,sd.Z)(o),"onFileDrop",function(){var w=(0,wv.Z)((0,Md.Z)().mark(function I(D){var L,z,k;return(0,Md.Z)().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:if(L=o.props.multiple,D.preventDefault(),D.type!=="dragover"){j.next=4;break}return j.abrupt("return");case 4:if(!o.props.directory){j.next=11;break}return j.next=7,HB(Array.prototype.slice.call(D.dataTransfer.items),function(G){return Xw(G,o.props.accept)});case 7:z=j.sent,o.uploadFiles(z),j.next=14;break;case 11:k=(0,xe.Z)(D.dataTransfer.files).filter(function(G){return Xw(G,o.props.accept)}),L===!1&&(k=k.slice(0,1)),o.uploadFiles(k);case 14:case"end":return j.stop()}},I)}));return function(I){return w.apply(this,arguments)}}()),(0,pe.Z)((0,sd.Z)(o),"uploadFiles",function(w){var I=(0,xe.Z)(w),D=I.map(function(L){return L.uid=Yw(),o.processFile(L,I)});Promise.all(D).then(function(L){var z=o.props.onBatchStart;z==null||z(L.map(function(k){var Z=k.origin,j=k.parsedFile;return{file:Z,parsedFile:j}})),L.filter(function(k){return k.parsedFile!==null}).forEach(function(k){o.post(k)})})}),(0,pe.Z)((0,sd.Z)(o),"processFile",function(){var w=(0,wv.Z)((0,Md.Z)().mark(function I(D,L){var z,k,Z,j,G,H,X,ne,oe;return(0,Md.Z)().wrap(function(ie){for(;;)switch(ie.prev=ie.next){case 0:if(z=o.props.beforeUpload,k=D,!z){ie.next=14;break}return ie.prev=3,ie.next=6,z(D,L);case 6:k=ie.sent,ie.next=12;break;case 9:ie.prev=9,ie.t0=ie.catch(3),k=!1;case 12:if(k!==!1){ie.next=14;break}return ie.abrupt("return",{origin:D,parsedFile:null,action:null,data:null});case 14:if(Z=o.props.action,typeof Z!="function"){ie.next=21;break}return ie.next=18,Z(D);case 18:j=ie.sent,ie.next=22;break;case 21:j=Z;case 22:if(G=o.props.data,typeof G!="function"){ie.next=29;break}return ie.next=26,G(D);case 26:H=ie.sent,ie.next=30;break;case 29:H=G;case 30:return X=((0,et.Z)(k)==="object"||typeof k=="string")&&k?k:D,X instanceof File?ne=X:ne=new File([X],D.name,{type:D.type}),oe=ne,oe.uid=D.uid,ie.abrupt("return",{origin:D,data:H,parsedFile:oe,action:j});case 35:case"end":return ie.stop()}},I,null,[[3,9]])}));return function(I,D){return w.apply(this,arguments)}}()),(0,pe.Z)((0,sd.Z)(o),"saveFileInput",function(w){o.fileInput=w}),o}return(0,fn.Z)(a,[{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"componentWillUnmount",value:function(){this._isMounted=!1,this.abort()}},{key:"post",value:function(f){var y=this,C=f.data,w=f.origin,I=f.action,D=f.parsedFile;if(this._isMounted){var L=this.props,z=L.onStart,k=L.customRequest,Z=L.name,j=L.headers,G=L.withCredentials,H=L.method,X=w.uid,ne=k||ZB,oe={action:I,filename:Z,data:C,file:D,headers:j,withCredentials:G,method:H||"post",onProgress:function(ie){var le=y.props.onProgress;le==null||le(ie,D)},onSuccess:function(ie,le){var fe=y.props.onSuccess;fe==null||fe(ie,D,le),delete y.reqs[X]},onError:function(ie,le){var fe=y.props.onError;fe==null||fe(ie,le,D),delete y.reqs[X]}};z(w),this.reqs[X]=ne(oe)}}},{key:"reset",value:function(){this.setState({uid:Yw()})}},{key:"abort",value:function(f){var y=this.reqs;if(f){var C=f.uid?f.uid:f;y[C]&&y[C].abort&&y[C].abort(),delete y[C]}else Object.keys(y).forEach(function(w){y[w]&&y[w].abort&&y[w].abort(),delete y[w]})}},{key:"render",value:function(){var f=this.props,y=f.component,C=f.prefixCls,w=f.className,I=f.classNames,D=I===void 0?{}:I,L=f.disabled,z=f.id,k=f.name,Z=f.style,j=f.styles,G=j===void 0?{}:j,H=f.multiple,X=f.accept,ne=f.capture,oe=f.children,ae=f.directory,ie=f.openFileDialogOnClick,le=f.onMouseEnter,fe=f.onMouseLeave,me=f.hasControlInside,ge=(0,de.Z)(f,GB),be=q()((0,pe.Z)((0,pe.Z)((0,pe.Z)({},C,!0),"".concat(C,"-disabled"),L),w,w)),Ie=ae?{directory:"directory",webkitdirectory:"webkitdirectory"}:{},Oe=L?{}:{onClick:ie?this.onClick:function(){},onKeyDown:ie?this.onKeyDown:function(){},onMouseEnter:le,onMouseLeave:fe,onDrop:this.onFileDrop,onDragOver:this.onFileDrop,tabIndex:me?void 0:"0"};return s.createElement(y,(0,We.Z)({},Oe,{className:be,role:me?void 0:"button",style:Z}),s.createElement("input",(0,We.Z)({},(0,ut.Z)(ge,{aria:!0,data:!0}),{id:z,name:k,disabled:L,type:"file",ref:this.saveFileInput,onClick:function(Ve){return Ve.stopPropagation()},key:this.state.uid,style:(0,Y.Z)({display:"none"},G.input),className:D.input,accept:X},Ie,{multiple:H,onChange:this.onChange},ne!=null?{capture:ne}:{})),oe)}}]),a}(s.Component),XB=KB;function qw(){}var JT=function(e){(0,fi.Z)(a,e);var t=(0,$i.Z)(a);function a(){var o;(0,Bn.Z)(this,a);for(var f=arguments.length,y=new Array(f),C=0;C<f;C++)y[C]=arguments[C];return o=t.call.apply(t,[this].concat(y)),(0,pe.Z)((0,sd.Z)(o),"uploader",void 0),(0,pe.Z)((0,sd.Z)(o),"saveUploader",function(w){o.uploader=w}),o}return(0,fn.Z)(a,[{key:"abort",value:function(f){this.uploader.abort(f)}},{key:"render",value:function(){return s.createElement(XB,(0,We.Z)({},this.props,{ref:this.saveUploader}))}}]),a}(s.Component);(0,pe.Z)(JT,"defaultProps",{component:"span",prefixCls:"rc-upload",data:{},headers:{},name:"file",multipart:!1,onStart:qw,onError:qw,onSuccess:qw,multiple:!1,beforeUpload:null,customRequest:null,withCredentials:!1,openFileDialogOnClick:!0,hasControlInside:!1});var YB=JT,QT=YB,qB=e=>{const{componentCls:t,iconCls:a}=e;return{[`${t}-wrapper`]:{[`${t}-drag`]:{position:"relative",width:"100%",height:"100%",textAlign:"center",background:e.colorFillAlter,border:`${(0,he.bf)(e.lineWidth)} dashed ${e.colorBorder}`,borderRadius:e.borderRadiusLG,cursor:"pointer",transition:`border-color ${e.motionDurationSlow}`,[t]:{padding:e.padding},[`${t}-btn`]:{display:"table",width:"100%",height:"100%",outline:"none",borderRadius:e.borderRadiusLG,"&:focus-visible":{outline:`${(0,he.bf)(e.lineWidthFocus)} solid ${e.colorPrimaryBorder}`}},[`${t}-drag-container`]:{display:"table-cell",verticalAlign:"middle"},[`
          &:not(${t}-disabled):hover,
          &-hover:not(${t}-disabled)
        `]:{borderColor:e.colorPrimaryHover},[`p${t}-drag-icon`]:{marginBottom:e.margin,[a]:{color:e.colorPrimary,fontSize:e.uploadThumbnailSize}},[`p${t}-text`]:{margin:`0 0 ${(0,he.bf)(e.marginXXS)}`,color:e.colorTextHeading,fontSize:e.fontSizeLG},[`p${t}-hint`]:{color:e.colorTextDescription,fontSize:e.fontSize},[`&${t}-disabled`]:{[`p${t}-drag-icon ${a},
            p${t}-text,
            p${t}-hint
          `]:{color:e.colorTextDisabled}}}}}},JB=e=>{const{componentCls:t,iconCls:a,fontSize:o,lineHeight:f,calc:y}=e,C=`${t}-list-item`,w=`${C}-actions`,I=`${C}-action`;return{[`${t}-wrapper`]:{[`${t}-list`]:Object.assign(Object.assign({},(0,Jt.dF)()),{lineHeight:e.lineHeight,[C]:{position:"relative",height:y(e.lineHeight).mul(o).equal(),marginTop:e.marginXS,fontSize:o,display:"flex",alignItems:"center",transition:`background-color ${e.motionDurationSlow}`,borderRadius:e.borderRadiusSM,"&:hover":{backgroundColor:e.controlItemBgHover},[`${C}-name`]:Object.assign(Object.assign({},Jt.vS),{padding:`0 ${(0,he.bf)(e.paddingXS)}`,lineHeight:f,flex:"auto",transition:`all ${e.motionDurationSlow}`}),[w]:{whiteSpace:"nowrap",[I]:{opacity:0},[a]:{color:e.actionsColor,transition:`all ${e.motionDurationSlow}`},[`
              ${I}:focus-visible,
              &.picture ${I}
            `]:{opacity:1}},[`${t}-icon ${a}`]:{color:e.colorTextDescription,fontSize:o},[`${C}-progress`]:{position:"absolute",bottom:e.calc(e.uploadProgressOffset).mul(-1).equal(),width:"100%",paddingInlineStart:y(o).add(e.paddingXS).equal(),fontSize:o,lineHeight:0,pointerEvents:"none","> div":{margin:0}}},[`${C}:hover ${I}`]:{opacity:1},[`${C}-error`]:{color:e.colorError,[`${C}-name, ${t}-icon ${a}`]:{color:e.colorError},[w]:{[`${a}, ${a}:hover`]:{color:e.colorError},[I]:{opacity:1}}},[`${t}-list-item-container`]:{transition:`opacity ${e.motionDurationSlow}, height ${e.motionDurationSlow}`,"&::before":{display:"table",width:0,height:0,content:'""'}}})}}},QB=e=>{const{componentCls:t}=e,a=new he.E4("uploadAnimateInlineIn",{from:{width:0,height:0,padding:0,opacity:0,margin:e.calc(e.marginXS).div(-2).equal()}}),o=new he.E4("uploadAnimateInlineOut",{to:{width:0,height:0,padding:0,opacity:0,margin:e.calc(e.marginXS).div(-2).equal()}}),f=`${t}-animate-inline`;return[{[`${t}-wrapper`]:{[`${f}-appear, ${f}-enter, ${f}-leave`]:{animationDuration:e.motionDurationSlow,animationTimingFunction:e.motionEaseInOutCirc,animationFillMode:"forwards"},[`${f}-appear, ${f}-enter`]:{animationName:a},[`${f}-leave`]:{animationName:o}}},{[`${t}-wrapper`]:iu(e)},a,o]};const eF=e=>{const{componentCls:t,iconCls:a,uploadThumbnailSize:o,uploadProgressOffset:f,calc:y}=e,C=`${t}-list`,w=`${C}-item`;return{[`${t}-wrapper`]:{[`
        ${C}${C}-picture,
        ${C}${C}-picture-card,
        ${C}${C}-picture-circle
      `]:{[w]:{position:"relative",height:y(o).add(y(e.lineWidth).mul(2)).add(y(e.paddingXS).mul(2)).equal(),padding:e.paddingXS,border:`${(0,he.bf)(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,borderRadius:e.borderRadiusLG,"&:hover":{background:"transparent"},[`${w}-thumbnail`]:Object.assign(Object.assign({},Jt.vS),{width:o,height:o,lineHeight:(0,he.bf)(y(o).add(e.paddingSM).equal()),textAlign:"center",flex:"none",[a]:{fontSize:e.fontSizeHeading2,color:e.colorPrimary},img:{display:"block",width:"100%",height:"100%",overflow:"hidden"}}),[`${w}-progress`]:{bottom:f,width:`calc(100% - ${(0,he.bf)(y(e.paddingSM).mul(2).equal())})`,marginTop:0,paddingInlineStart:y(o).add(e.paddingXS).equal()}},[`${w}-error`]:{borderColor:e.colorError,[`${w}-thumbnail ${a}`]:{[`svg path[fill='${Qp.iN[0]}']`]:{fill:e.colorErrorBg},[`svg path[fill='${Qp.iN.primary}']`]:{fill:e.colorError}}},[`${w}-uploading`]:{borderStyle:"dashed",[`${w}-name`]:{marginBottom:f}}},[`${C}${C}-picture-circle ${w}`]:{[`&, &::before, ${w}-thumbnail`]:{borderRadius:"50%"}}}}},tF=e=>{const{componentCls:t,iconCls:a,fontSizeLG:o,colorTextLightSolid:f,calc:y}=e,C=`${t}-list`,w=`${C}-item`,I=e.uploadPicCardSize;return{[`
      ${t}-wrapper${t}-picture-card-wrapper,
      ${t}-wrapper${t}-picture-circle-wrapper
    `]:Object.assign(Object.assign({},(0,Jt.dF)()),{display:"block",[`${t}${t}-select`]:{width:I,height:I,textAlign:"center",verticalAlign:"top",backgroundColor:e.colorFillAlter,border:`${(0,he.bf)(e.lineWidth)} dashed ${e.colorBorder}`,borderRadius:e.borderRadiusLG,cursor:"pointer",transition:`border-color ${e.motionDurationSlow}`,[`> ${t}`]:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",textAlign:"center"},[`&:not(${t}-disabled):hover`]:{borderColor:e.colorPrimary}},[`${C}${C}-picture-card, ${C}${C}-picture-circle`]:{display:"flex",flexWrap:"wrap","@supports not (gap: 1px)":{"& > *":{marginBlockEnd:e.marginXS,marginInlineEnd:e.marginXS}},"@supports (gap: 1px)":{gap:e.marginXS},[`${C}-item-container`]:{display:"inline-block",width:I,height:I,verticalAlign:"top"},"&::after":{display:"none"},"&::before":{display:"none"},[w]:{height:"100%",margin:0,"&::before":{position:"absolute",zIndex:1,width:`calc(100% - ${(0,he.bf)(y(e.paddingXS).mul(2).equal())})`,height:`calc(100% - ${(0,he.bf)(y(e.paddingXS).mul(2).equal())})`,backgroundColor:e.colorBgMask,opacity:0,transition:`all ${e.motionDurationSlow}`,content:'" "'}},[`${w}:hover`]:{[`&::before, ${w}-actions`]:{opacity:1}},[`${w}-actions`]:{position:"absolute",insetInlineStart:0,zIndex:10,width:"100%",whiteSpace:"nowrap",textAlign:"center",opacity:0,transition:`all ${e.motionDurationSlow}`,[`
            ${a}-eye,
            ${a}-download,
            ${a}-delete
          `]:{zIndex:10,width:o,margin:`0 ${(0,he.bf)(e.marginXXS)}`,fontSize:o,cursor:"pointer",transition:`all ${e.motionDurationSlow}`,color:f,"&:hover":{color:f},svg:{verticalAlign:"baseline"}}},[`${w}-thumbnail, ${w}-thumbnail img`]:{position:"static",display:"block",width:"100%",height:"100%",objectFit:"contain"},[`${w}-name`]:{display:"none",textAlign:"center"},[`${w}-file + ${w}-name`]:{position:"absolute",bottom:e.margin,display:"block",width:`calc(100% - ${(0,he.bf)(y(e.paddingXS).mul(2).equal())})`},[`${w}-uploading`]:{[`&${w}`]:{backgroundColor:e.colorFillAlter},[`&::before, ${a}-eye, ${a}-download, ${a}-delete`]:{display:"none"}},[`${w}-progress`]:{bottom:e.marginXL,width:`calc(100% - ${(0,he.bf)(y(e.paddingXS).mul(2).equal())})`,paddingInlineStart:0}}}),[`${t}-wrapper${t}-picture-circle-wrapper`]:{[`${t}${t}-select`]:{borderRadius:"50%"}}}};var nF=e=>{const{componentCls:t}=e;return{[`${t}-rtl`]:{direction:"rtl"}}};const rF=e=>{const{componentCls:t,colorTextDisabled:a}=e;return{[`${t}-wrapper`]:Object.assign(Object.assign({},(0,Jt.Wf)(e)),{[t]:{outline:0,"input[type='file']":{cursor:"pointer"}},[`${t}-select`]:{display:"inline-block"},[`${t}-hidden`]:{display:"none"},[`${t}-disabled`]:{color:a,cursor:"not-allowed"}})}},iF=e=>({actionsColor:e.colorTextDescription});var oF=(0,te.I$)("Upload",e=>{const{fontSizeHeading3:t,fontHeight:a,lineWidth:o,controlHeightLG:f,calc:y}=e,C=(0,Qr.IX)(e,{uploadThumbnailSize:y(t).mul(2).equal(),uploadProgressOffset:y(y(a).div(2)).add(o).equal(),uploadPicCardSize:y(f).mul(2.55).equal()});return[rF(C),qB(C),eF(C),tF(C),JB(C),QB(C),nF(C),(0,Ip.Z)(C)]},iF),aF={icon:function(t,a){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M534 352V136H232v752h560V394H576a42 42 0 01-42-42z",fill:a}},{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM602 137.8L790.2 326H602V137.8zM792 888H232V136h302v216a42 42 0 0042 42h216v494z",fill:t}}]}},name:"file",theme:"twotone"},sF=aF,lF=function(t,a){return s.createElement(Kt.Z,(0,We.Z)({},t,{ref:a,icon:sF}))},cF=s.forwardRef(lF),uF=cF,dF={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M779.3 196.6c-94.2-94.2-247.6-94.2-341.7 0l-261 260.8c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l261-260.8c32.4-32.4 75.5-50.2 121.3-50.2s88.9 17.8 121.2 50.2c32.4 32.4 50.2 75.5 50.2 121.2 0 45.8-17.8 88.8-50.2 121.2l-266 265.9-43.1 43.1c-40.3 40.3-105.8 40.3-146.1 0-19.5-19.5-30.2-45.4-30.2-73s10.7-53.5 30.2-73l263.9-263.8c6.7-6.6 15.5-10.3 24.9-10.3h.1c9.4 0 18.1 3.7 24.7 10.3 6.7 6.7 10.3 15.5 10.3 24.9 0 9.3-3.7 18.1-10.3 24.7L372.4 653c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l215.6-215.6c19.9-19.9 30.8-46.3 30.8-74.4s-11-54.6-30.8-74.4c-41.1-41.1-107.9-41-149 0L463 364 224.8 602.1A172.22 172.22 0 00174 724.8c0 46.3 18.1 89.8 50.8 122.5 33.9 33.8 78.3 50.7 122.7 50.7 44.4 0 88.8-16.9 122.6-50.7l309.2-309C824.8 492.7 850 432 850 367.5c.1-64.6-25.1-125.3-70.7-170.9z"}}]},name:"paper-clip",theme:"outlined"},fF=dF,hF=function(t,a){return s.createElement(Kt.Z,(0,We.Z)({},t,{ref:a,icon:fF}))},pF=s.forwardRef(hF),mF=pF,gF={icon:function(t,a){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 632H136v-39.9l138.5-164.3 150.1 178L658.1 489 888 761.6V792zm0-129.8L664.2 396.8c-3.2-3.8-9-3.8-12.2 0L424.6 666.4l-144-170.7c-3.2-3.8-9-3.8-12.2 0L136 652.7V232h752v430.2z",fill:t}},{tag:"path",attrs:{d:"M424.6 765.8l-150.1-178L136 752.1V792h752v-30.4L658.1 489z",fill:a}},{tag:"path",attrs:{d:"M136 652.7l132.4-157c3.2-3.8 9-3.8 12.2 0l144 170.7L652 396.8c3.2-3.8 9-3.8 12.2 0L888 662.2V232H136v420.7zM304 280a88 88 0 110 176 88 88 0 010-176z",fill:a}},{tag:"path",attrs:{d:"M276 368a28 28 0 1056 0 28 28 0 10-56 0z",fill:a}},{tag:"path",attrs:{d:"M304 456a88 88 0 100-176 88 88 0 000 176zm0-116c15.5 0 28 12.5 28 28s-12.5 28-28 28-28-12.5-28-28 12.5-28 28-28z",fill:t}}]}},name:"picture",theme:"twotone"},vF=gF,yF=function(t,a){return s.createElement(Kt.Z,(0,We.Z)({},t,{ref:a,icon:vF}))},_F=s.forwardRef(yF),bF=_F;function rC(e){return Object.assign(Object.assign({},e),{lastModified:e.lastModified,lastModifiedDate:e.lastModifiedDate,name:e.name,size:e.size,type:e.type,uid:e.uid,percent:0,originFileObj:e})}function iC(e,t){const a=(0,xe.Z)(t),o=a.findIndex(f=>{let{uid:y}=f;return y===e.uid});return o===-1?a.push(e):a[o]=e,a}function Jw(e,t){const a=e.uid!==void 0?"uid":"name";return t.filter(o=>o[a]===e[a])[0]}function xF(e,t){const a=e.uid!==void 0?"uid":"name",o=t.filter(f=>f[a]!==e[a]);return o.length===t.length?null:o}const CF=function(){const t=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:"").split("/"),o=t[t.length-1].split(/#|\?/)[0];return(/\.[^./\\]*$/.exec(o)||[""])[0]},eM=e=>e.indexOf("image/")===0,SF=e=>{if(e.type&&!e.thumbUrl)return eM(e.type);const t=e.thumbUrl||e.url||"",a=CF(t);return/^data:image\//.test(t)||/(webp|svg|png|gif|jpg|jpeg|jfif|bmp|dpg|ico|heic|heif)$/i.test(a)?!0:!(/^data:/.test(t)||a)},rm=200;function wF(e){return new Promise(t=>{if(!e.type||!eM(e.type)){t("");return}const a=document.createElement("canvas");a.width=rm,a.height=rm,a.style.cssText=`position: fixed; left: 0; top: 0; width: ${rm}px; height: ${rm}px; z-index: 9999; display: none;`,document.body.appendChild(a);const o=a.getContext("2d"),f=new Image;if(f.onload=()=>{const{width:y,height:C}=f;let w=rm,I=rm,D=0,L=0;y>C?(I=C*(rm/y),L=-(I-w)/2):(w=y*(rm/C),D=-(w-I)/2),o.drawImage(f,D,L,w,I);const z=a.toDataURL();document.body.removeChild(a),window.URL.revokeObjectURL(f.src),t(z)},f.crossOrigin="anonymous",e.type.startsWith("image/svg+xml")){const y=new FileReader;y.onload=()=>{y.result&&typeof y.result=="string"&&(f.src=y.result)},y.readAsDataURL(e)}else if(e.type.startsWith("image/gif")){const y=new FileReader;y.onload=()=>{y.result&&t(y.result)},y.readAsDataURL(e)}else f.src=window.URL.createObjectURL(e)})}var EF={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M505.7 661a8 8 0 0012.6 0l112-141.7c4.1-5.2.4-12.9-6.3-12.9h-74.1V168c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v338.3H400c-6.7 0-10.4 7.7-6.3 12.9l112 141.8zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"download",theme:"outlined"},IF=EF,TF=function(t,a){return s.createElement(Kt.Z,(0,We.Z)({},t,{ref:a,icon:IF}))},MF=s.forwardRef(TF),PF=MF,OF=s.forwardRef((e,t)=>{let{prefixCls:a,className:o,style:f,locale:y,listType:C,file:w,items:I,progress:D,iconRender:L,actionIconRender:z,itemRender:k,isImgUrl:Z,showPreviewIcon:j,showRemoveIcon:G,showDownloadIcon:H,previewIcon:X,removeIcon:ne,downloadIcon:oe,extra:ae,onPreview:ie,onDownload:le,onClose:fe}=e;var me,ge;const{status:be}=w,[Ie,Oe]=s.useState(be);s.useEffect(()=>{be!=="removed"&&Oe(be)},[be]);const[Te,Ve]=s.useState(!1);s.useEffect(()=>{const Qt=setTimeout(()=>{Ve(!0)},300);return()=>{clearTimeout(Qt)}},[]);const De=L(w);let Ue=s.createElement("div",{className:`${a}-icon`},De);if(C==="picture"||C==="picture-card"||C==="picture-circle")if(Ie==="uploading"||!w.thumbUrl&&!w.url){const Qt=q()(`${a}-list-item-thumbnail`,{[`${a}-list-item-file`]:Ie!=="uploading"});Ue=s.createElement("div",{className:Qt},De)}else{const Qt=Z!=null&&Z(w)?s.createElement("img",{src:w.thumbUrl||w.url,alt:w.name,className:`${a}-list-item-image`,crossOrigin:w.crossOrigin}):De,Ft=q()(`${a}-list-item-thumbnail`,{[`${a}-list-item-file`]:Z&&!Z(w)});Ue=s.createElement("a",{className:Ft,onClick:kn=>ie(w,kn),href:w.url||w.thumbUrl,target:"_blank",rel:"noopener noreferrer"},Qt)}const ke=q()(`${a}-list-item`,`${a}-list-item-${Ie}`),st=typeof w.linkProps=="string"?JSON.parse(w.linkProps):w.linkProps,ct=(typeof G=="function"?G(w):G)?z((typeof ne=="function"?ne(w):ne)||s.createElement(zT,null),()=>fe(w),a,y.removeFile,!0):null,Et=(typeof H=="function"?H(w):H)&&Ie==="done"?z((typeof oe=="function"?oe(w):oe)||s.createElement(PF,null),()=>le(w),a,y.downloadFile):null,It=C!=="picture-card"&&C!=="picture-circle"&&s.createElement("span",{key:"download-delete",className:q()(`${a}-list-item-actions`,{picture:C==="picture"})},Et,ct),Ct=typeof ae=="function"?ae(w):ae,mt=Ct&&s.createElement("span",{className:`${a}-list-item-extra`},Ct),bt=q()(`${a}-list-item-name`),zt=w.url?s.createElement("a",Object.assign({key:"view",target:"_blank",rel:"noopener noreferrer",className:bt,title:w.name},st,{href:w.url,onClick:Qt=>ie(w,Qt)}),w.name,mt):s.createElement("span",{key:"view",className:bt,onClick:Qt=>ie(w,Qt),title:w.name},w.name,mt),$t=(typeof j=="function"?j(w):j)&&(w.url||w.thumbUrl)?s.createElement("a",{href:w.url||w.thumbUrl,target:"_blank",rel:"noopener noreferrer",onClick:Qt=>ie(w,Qt),title:y.previewFile},typeof X=="function"?X(w):X||s.createElement(NS,null)):null,Ht=(C==="picture-card"||C==="picture-circle")&&Ie!=="uploading"&&s.createElement("span",{className:`${a}-list-item-actions`},$t,Ie==="done"&&Et,ct),{getPrefixCls:Mt}=s.useContext(ye.E_),Cn=Mt(),Hn=s.createElement("div",{className:ke},Ue,zt,It,Ht,Te&&s.createElement(On.ZP,{motionName:`${Cn}-fade`,visible:Ie==="uploading",motionDeadline:2e3},Qt=>{let{className:Ft}=Qt;const kn="percent"in w?s.createElement(tw,Object.assign({},D,{type:"line",percent:w.percent,"aria-label":w["aria-label"],"aria-labelledby":w["aria-labelledby"]})):null;return s.createElement("div",{className:q()(`${a}-list-item-progress`,Ft)},kn)})),pn=w.response&&typeof w.response=="string"?w.response:((me=w.error)===null||me===void 0?void 0:me.statusText)||((ge=w.error)===null||ge===void 0?void 0:ge.message)||y.uploadError,Dn=Ie==="error"?s.createElement(Du.Z,{title:pn,getPopupContainer:Qt=>Qt.parentNode},Hn):Hn;return s.createElement("div",{className:q()(`${a}-list-item-container`,o),style:f,ref:t},k?k(Dn,w,I,{download:le.bind(null,w),preview:ie.bind(null,w),remove:fe.bind(null,w)}):Dn)});const RF=(e,t)=>{const{listType:a="text",previewFile:o=wF,onPreview:f,onDownload:y,onRemove:C,locale:w,iconRender:I,isImageUrl:D=SF,prefixCls:L,items:z=[],showPreviewIcon:k=!0,showRemoveIcon:Z=!0,showDownloadIcon:j=!1,removeIcon:G,previewIcon:H,downloadIcon:X,extra:ne,progress:oe={size:[-1,2],showInfo:!1},appendAction:ae,appendActionVisible:ie=!0,itemRender:le,disabled:fe}=e,me=(0,rw.Z)(),[ge,be]=s.useState(!1),Ie=["picture-card","picture-circle"].includes(a);s.useEffect(()=>{a.startsWith("picture")&&(z||[]).forEach(mt=>{!(mt.originFileObj instanceof File||mt.originFileObj instanceof Blob)||mt.thumbUrl!==void 0||(mt.thumbUrl="",o==null||o(mt.originFileObj).then(bt=>{mt.thumbUrl=bt||"",me()}))})},[a,z,o]),s.useEffect(()=>{be(!0)},[]);const Oe=(mt,bt)=>{if(f)return bt==null||bt.preventDefault(),f(mt)},Te=mt=>{typeof y=="function"?y(mt):mt.url&&window.open(mt.url)},Ve=mt=>{C==null||C(mt)},De=mt=>{if(I)return I(mt,a);const bt=mt.status==="uploading";if(a.startsWith("picture")){const zt=a==="picture"?s.createElement(Sn.Z,null):w.uploading,$t=D!=null&&D(mt)?s.createElement(bF,null):s.createElement(uF,null);return bt?zt:$t}return bt?s.createElement(Sn.Z,null):s.createElement(mF,null)},Ue=(mt,bt,zt,$t,Ht)=>{const Mt={type:"text",size:"small",title:$t,onClick:Cn=>{var Hn,pn;bt(),s.isValidElement(mt)&&((pn=(Hn=mt.props).onClick)===null||pn===void 0||pn.call(Hn,Cn))},className:`${zt}-list-item-action`};return Ht&&(Mt.disabled=fe),s.isValidElement(mt)?s.createElement($n,Object.assign({},Mt,{icon:(0,bn.Tm)(mt,Object.assign(Object.assign({},mt.props),{onClick:()=>{}}))})):s.createElement($n,Object.assign({},Mt),s.createElement("span",null,mt))};s.useImperativeHandle(t,()=>({handlePreview:Oe,handleDownload:Te}));const{getPrefixCls:ke}=s.useContext(ye.E_),st=ke("upload",L),ct=ke(),Et=q()(`${st}-list`,`${st}-list-${a}`),It=s.useMemo(()=>(0,fr.Z)((0,Tt.Z)(ct),["onAppearEnd","onEnterEnd","onLeaveEnd"]),[ct]),Ct=Object.assign(Object.assign({},Ie?{}:It),{motionDeadline:2e3,motionName:`${st}-${Ie?"animate-inline":"animate"}`,keys:(0,xe.Z)(z.map(mt=>({key:mt.uid,file:mt}))),motionAppear:ge});return s.createElement("div",{className:Et},s.createElement(On.V4,Object.assign({},Ct,{component:!1}),mt=>{let{key:bt,file:zt,className:$t,style:Ht}=mt;return s.createElement(OF,{key:bt,locale:w,prefixCls:st,className:$t,style:Ht,file:zt,items:z,progress:oe,listType:a,isImgUrl:D,showPreviewIcon:k,showRemoveIcon:Z,showDownloadIcon:j,removeIcon:G,previewIcon:H,downloadIcon:X,extra:ne,iconRender:De,actionIconRender:Ue,itemRender:le,onPreview:Oe,onDownload:Te,onClose:Ve})}),ae&&s.createElement(On.ZP,Object.assign({},Ct,{visible:ie,forceRender:!0}),mt=>{let{className:bt,style:zt}=mt;return(0,bn.Tm)(ae,$t=>({className:q()($t.className,bt),style:Object.assign(Object.assign(Object.assign({},zt),{pointerEvents:bt?"none":void 0}),$t.style)}))}))};var $F=s.forwardRef(RF),AF=function(e,t,a,o){function f(y){return y instanceof a?y:new a(function(C){C(y)})}return new(a||(a=Promise))(function(y,C){function w(L){try{D(o.next(L))}catch(z){C(z)}}function I(L){try{D(o.throw(L))}catch(z){C(z)}}function D(L){L.done?y(L.value):f(L.value).then(w,I)}D((o=o.apply(e,t||[])).next())})};const k_=`__LIST_IGNORE_${Date.now()}__`,DF=(e,t)=>{const{fileList:a,defaultFileList:o,onRemove:f,showUploadList:y=!0,listType:C="text",onPreview:w,onDownload:I,onChange:D,onDrop:L,previewFile:z,disabled:k,locale:Z,iconRender:j,isImageUrl:G,progress:H,prefixCls:X,className:ne,type:oe="select",children:ae,style:ie,itemRender:le,maxCount:fe,data:me={},multiple:ge=!1,hasControlInside:be=!0,action:Ie="",accept:Oe="",supportServerRender:Te=!0,rootClassName:Ve}=e,De=s.useContext(to.Z),Ue=k!=null?k:De,[ke,st]=(0,Fs.Z)(o||[],{value:a,postState:Cr=>Cr!=null?Cr:[]}),[ct,Et]=s.useState("drop"),It=s.useRef(null),Ct=s.useRef(null);s.useMemo(()=>{const Cr=Date.now();(a||[]).forEach((ur,Tr)=>{!ur.uid&&!Object.isFrozen(ur)&&(ur.uid=`__AUTO__${Cr}_${Tr}__`)})},[a]);const mt=(Cr,ur,Tr)=>{let qn=(0,xe.Z)(ur),pi=!1;fe===1?qn=qn.slice(-1):fe&&(pi=qn.length>fe,qn=qn.slice(0,fe)),(0,Ze.flushSync)(()=>{st(qn)});const ji={file:Cr,fileList:qn};Tr&&(ji.event=Tr),(!pi||Cr.status==="removed"||qn.some(go=>go.uid===Cr.uid))&&(0,Ze.flushSync)(()=>{D==null||D(ji)})},bt=(Cr,ur)=>AF(void 0,void 0,void 0,function*(){const{beforeUpload:Tr,transformFile:qn}=e;let pi=Cr;if(Tr){const ji=yield Tr(Cr,ur);if(ji===!1)return!1;if(delete Cr[k_],ji===k_)return Object.defineProperty(Cr,k_,{value:!0,configurable:!0}),!1;typeof ji=="object"&&ji&&(pi=ji)}return qn&&(pi=yield qn(pi)),pi}),zt=Cr=>{const ur=Cr.filter(pi=>!pi.file[k_]);if(!ur.length)return;const Tr=ur.map(pi=>rC(pi.file));let qn=(0,xe.Z)(ke);Tr.forEach(pi=>{qn=iC(pi,qn)}),Tr.forEach((pi,ji)=>{let go=pi;if(ur[ji].parsedFile)pi.status="uploading";else{const{originFileObj:ra}=pi;let Aa;try{Aa=new File([ra],ra.name,{type:ra.type})}catch(oa){Aa=new Blob([ra],{type:ra.type}),Aa.name=ra.name,Aa.lastModifiedDate=new Date,Aa.lastModified=new Date().getTime()}Aa.uid=pi.uid,go=Aa}mt(go,qn)})},$t=(Cr,ur,Tr)=>{try{typeof Cr=="string"&&(Cr=JSON.parse(Cr))}catch(ji){}if(!Jw(ur,ke))return;const qn=rC(ur);qn.status="done",qn.percent=100,qn.response=Cr,qn.xhr=Tr;const pi=iC(qn,ke);mt(qn,pi)},Ht=(Cr,ur)=>{if(!Jw(ur,ke))return;const Tr=rC(ur);Tr.status="uploading",Tr.percent=Cr.percent;const qn=iC(Tr,ke);mt(Tr,qn,Cr)},Mt=(Cr,ur,Tr)=>{if(!Jw(Tr,ke))return;const qn=rC(Tr);qn.error=Cr,qn.response=ur,qn.status="error";const pi=iC(qn,ke);mt(qn,pi)},Cn=Cr=>{let ur;Promise.resolve(typeof f=="function"?f(Cr):f).then(Tr=>{var qn;if(Tr===!1)return;const pi=xF(Cr,ke);pi&&(ur=Object.assign(Object.assign({},Cr),{status:"removed"}),ke==null||ke.forEach(ji=>{const go=ur.uid!==void 0?"uid":"name";ji[go]===ur[go]&&!Object.isFrozen(ji)&&(ji.status="removed")}),(qn=It.current)===null||qn===void 0||qn.abort(ur),mt(ur,pi))})},Hn=Cr=>{Et(Cr.type),Cr.type==="drop"&&(L==null||L(Cr))};s.useImperativeHandle(t,()=>({onBatchStart:zt,onSuccess:$t,onProgress:Ht,onError:Mt,fileList:ke,upload:It.current,nativeElement:Ct.current}));const{getPrefixCls:pn,direction:Dn,upload:Qt}=s.useContext(ye.E_),Ft=pn("upload",X),kn=Object.assign(Object.assign({onBatchStart:zt,onError:Mt,onProgress:Ht,onSuccess:$t},e),{data:me,multiple:ge,action:Ie,accept:Oe,supportServerRender:Te,prefixCls:Ft,disabled:Ue,beforeUpload:bt,onChange:void 0,hasControlInside:be});delete kn.className,delete kn.style,(!ae||Ue)&&delete kn.id;const Pn=`${Ft}-wrapper`,[Dr,br,or]=oF(Ft,Pn),[ar]=(0,In.Z)("Upload",Ac.Z.Upload),{showRemoveIcon:Fn,showPreviewIcon:sr,showDownloadIcon:Gr,removeIcon:yi,previewIcon:Di,downloadIcon:Ui,extra:$o}=typeof y=="boolean"?{}:y,Ri=typeof Fn=="undefined"?!Ue:Fn,mi=(Cr,ur)=>y?s.createElement($F,{prefixCls:Ft,listType:C,items:ke,previewFile:z,onPreview:w,onDownload:I,onRemove:Cn,showRemoveIcon:Ri,showPreviewIcon:sr,showDownloadIcon:Gr,removeIcon:yi,previewIcon:Di,downloadIcon:Ui,iconRender:j,extra:$o,locale:Object.assign(Object.assign({},ar),Z),isImageUrl:G,progress:H,appendAction:Cr,appendActionVisible:ur,itemRender:le,disabled:Ue}):Cr,Pi=q()(Pn,ne,Ve,br,or,Qt==null?void 0:Qt.className,{[`${Ft}-rtl`]:Dn==="rtl",[`${Ft}-picture-card-wrapper`]:C==="picture-card",[`${Ft}-picture-circle-wrapper`]:C==="picture-circle"}),ao=Object.assign(Object.assign({},Qt==null?void 0:Qt.style),ie);if(oe==="drag"){const Cr=q()(br,Ft,`${Ft}-drag`,{[`${Ft}-drag-uploading`]:ke.some(ur=>ur.status==="uploading"),[`${Ft}-drag-hover`]:ct==="dragover",[`${Ft}-disabled`]:Ue,[`${Ft}-rtl`]:Dn==="rtl"});return Dr(s.createElement("span",{className:Pi,ref:Ct},s.createElement("div",{className:Cr,style:ao,onDrop:Hn,onDragOver:Hn,onDragLeave:Hn},s.createElement(QT,Object.assign({},kn,{ref:It,className:`${Ft}-btn`}),s.createElement("div",{className:`${Ft}-drag-container`},ae))),mi()))}const ki=q()(Ft,`${Ft}-select`,{[`${Ft}-disabled`]:Ue,[`${Ft}-hidden`]:!ae}),Ao=s.createElement("div",{className:ki},s.createElement(QT,Object.assign({},kn,{ref:It})));return Dr(C==="picture-card"||C==="picture-circle"?s.createElement("span",{className:Pi,ref:Ct},mi(Ao,!!ae)):s.createElement("span",{className:Pi,ref:Ct},Ao,mi()))};var tM=s.forwardRef(DF),LF=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a},zF=s.forwardRef((e,t)=>{var{style:a,height:o,hasControlInside:f=!1}=e,y=LF(e,["style","height","hasControlInside"]);return s.createElement(tM,Object.assign({ref:t,hasControlInside:f},y,{type:"drag",style:Object.assign(Object.assign({},a),{height:o})}))});const Qw=tM;Qw.Dragger=zF,Qw.LIST_IGNORE=k_;var NF=Qw,BF=F(41424),rj=function(e){(0,fi.Z)(a,e);var t=(0,$i.Z)(a);function a(){return(0,Bn.Z)(this,a),t.apply(this,arguments)}return(0,fn.Z)(a,[{key:"render",value:function(){return this.props.children}}]),a}(s.Component),ij=null,FF={subtree:!0,childList:!0,attributeFilter:["style","class"]};function kF(e,t){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:FF;s.useEffect(function(){if(!(!(0,cc.Z)()||!e)){var o,f=Array.isArray(e)?e:[e];return"MutationObserver"in window&&(o=new MutationObserver(t),f.forEach(function(y){o.observe(y,a)})),function(){var y,C;(y=o)===null||y===void 0||y.takeRecords(),(C=o)===null||C===void 0||C.disconnect()}}},[a,e])}var oj=function(t){var a=t.children,o=t.options,f=t.onMutate,y=f===void 0?function(){}:f,C=useEvent(y),w=React.useRef(null),I=React.useRef(null),D=React.isValidElement(a)&&supportRef(a),L=useComposeRef(I,D?a.ref:null),z=React.useState(null),k=_slicedToArray(z,2),Z=k[0],j=k[1];return useMutateObserver(Z,C,o),useLayoutEffect(function(){j(findDOMNode(I.current)||findDOMNode(w.current))}),a?React.createElement(DomWrapper,{ref:w},D?React.cloneElement(a,{ref:L}):a):null},aj=null,sj=null;const nM=3;function e2(e,t){let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;const o=document.createElement("canvas"),f=o.getContext("2d"),y=e*a,C=t*a;return o.setAttribute("width",`${y}px`),o.setAttribute("height",`${C}px`),f.save(),[f,o,y,C]}function jF(){function e(t,a,o,f,y,C,w,I){const[D,L,z,k]=e2(f,y,o);if(t instanceof HTMLImageElement)D.drawImage(t,0,0,z,k);else{const{color:It,fontSize:Ct,fontStyle:mt,fontWeight:bt,fontFamily:zt,textAlign:$t}=C,Ht=Number(Ct)*o;D.font=`${mt} normal ${bt} ${Ht}px/${y}px ${zt}`,D.fillStyle=It,D.textAlign=$t,D.textBaseline="top";const Mt=$x(t);Mt==null||Mt.forEach((Cn,Hn)=>{D.fillText(Cn!=null?Cn:"",z/2,Hn*(Ht+nM*o))})}const Z=Math.PI/180*Number(a),j=Math.max(f,y),[G,H,X]=e2(j,j,o);G.translate(X/2,X/2),G.rotate(Z),z>0&&k>0&&G.drawImage(L,-z/2,-k/2);function ne(It,Ct){const mt=It*Math.cos(Z)-Ct*Math.sin(Z),bt=It*Math.sin(Z)+Ct*Math.cos(Z);return[mt,bt]}let oe=0,ae=0,ie=0,le=0;const fe=z/2,me=k/2;[[0-fe,0-me],[0+fe,0-me],[0+fe,0+me],[0-fe,0+me]].forEach(It=>{let[Ct,mt]=It;const[bt,zt]=ne(Ct,mt);oe=Math.min(oe,bt),ae=Math.max(ae,bt),ie=Math.min(ie,zt),le=Math.max(le,zt)});const be=oe+X/2,Ie=ie+X/2,Oe=ae-oe,Te=le-ie,Ve=w*o,De=I*o,Ue=(Oe+Ve)*2,ke=Te+De,[st,ct]=e2(Ue,ke);function Et(){let It=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,Ct=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;st.drawImage(H,be,Ie,Oe,Te,It,Ct,Oe,Te)}return Et(),Et(Oe+Ve,-Te/2-De/2),Et(Oe+Ve,+Te/2+De/2),[ct.toDataURL(),Ue/o,ke/o]}return e}function ZF(e){const t=s.useRef(!1),a=s.useRef(null),o=(0,yr.Z)(e);return()=>{t.current||(t.current=!0,o(),a.current=(0,Ge.Z)(()=>{t.current=!1}))}}function VF(){const e=s.useRef([null,null]);return(a,o)=>{const f=a.map(y=>y instanceof HTMLElement||isNaN(y)?"":y);return(0,Ol.Z)(e.current[0],f)||(e.current=[f,o()]),e.current[1]}}function HF(e){return e.replace(/([A-Z])/g,"-$1").toLowerCase()}function UF(e){return Object.keys(e).map(t=>`${HF(t)}: ${e[t]};`).join(" ")}function WF(){return window.devicePixelRatio||1}const GF=(e,t)=>{let a=!1;return e.removedNodes.length&&(a=Array.from(e.removedNodes).some(o=>t(o))),e.type==="attributes"&&t(e.target)&&(a=!0),a},lj=2,cj=3,KF={visibility:"visible !important"};function XF(e){const t=s.useRef(new Map);return[(y,C,w)=>{if(w){if(!t.current.get(w)){const D=document.createElement("div");t.current.set(w,D)}const I=t.current.get(w);I.setAttribute("style",UF(Object.assign(Object.assign(Object.assign({},e),{backgroundImage:`url('${y}')`,backgroundSize:`${Math.floor(C)}px`}),KF))),I.removeAttribute("class"),I.removeAttribute("hidden"),I.parentElement!==w&&w.append(I)}return t.current.get(w)},y=>{const C=t.current.get(y);C&&y&&y.removeChild(C),t.current.delete(y)},y=>Array.from(t.current.values()).includes(y)]}function rM(e,t){return e.size===t.size?e:t}const iM=100,oM=100,aM={position:"relative",overflow:"hidden"};var YF=e=>{var t,a;const{zIndex:o=9,rotate:f=-22,width:y,height:C,image:w,content:I,font:D={},style:L,className:z,rootClassName:k,gap:Z=[iM,oM],offset:j,children:G,inherit:H=!0}=e,X=Object.assign(Object.assign({},aM),L),[,ne]=(0,Qn.ZP)(),{color:oe=ne.colorFill,fontSize:ae=ne.fontSizeLG,fontWeight:ie="normal",fontStyle:le="normal",fontFamily:fe="sans-serif",textAlign:me="center"}=D,[ge=iM,be=oM]=Z,Ie=ge/2,Oe=be/2,Te=(t=j==null?void 0:j[0])!==null&&t!==void 0?t:Ie,Ve=(a=j==null?void 0:j[1])!==null&&a!==void 0?a:Oe,De=s.useMemo(()=>{const Ft={zIndex:o,position:"absolute",left:0,top:0,width:"100%",height:"100%",pointerEvents:"none",backgroundRepeat:"repeat"};let kn=Te-Ie,Pn=Ve-Oe;return kn>0&&(Ft.left=`${kn}px`,Ft.width=`calc(100% - ${kn}px)`,kn=0),Pn>0&&(Ft.top=`${Pn}px`,Ft.height=`calc(100% - ${Pn}px)`,Pn=0),Ft.backgroundPosition=`${kn}px ${Pn}px`,Ft},[o,Te,Ie,Ve,Oe]),[Ue,ke]=s.useState(),[st,ct]=s.useState(new Set),Et=s.useMemo(()=>{const Ft=Ue?[Ue]:[];return[].concat(Ft,(0,xe.Z)(Array.from(st)))},[Ue,st]),It=Ft=>{let kn=120,Pn=64;if(!w&&Ft.measureText){Ft.font=`${Number(ae)}px ${fe}`;const Dr=$x(I),br=Dr.map(or=>{const ar=Ft.measureText(or);return[ar.width,ar.fontBoundingBoxAscent+ar.fontBoundingBoxDescent]});kn=Math.ceil(Math.max.apply(Math,(0,xe.Z)(br.map(or=>or[0])))),Pn=Math.ceil(Math.max.apply(Math,(0,xe.Z)(br.map(or=>or[1]))))*Dr.length+(Dr.length-1)*nM}return[y!=null?y:kn,C!=null?C:Pn]},Ct=jF(),mt=VF(),[bt,zt]=s.useState(null),Ht=ZF(()=>{const kn=document.createElement("canvas").getContext("2d");if(kn){const Pn=WF(),[Dr,br]=It(kn),or=ar=>{const Fn=[ar||"",f,Pn,Dr,br,{color:oe,fontSize:ae,fontStyle:le,fontWeight:ie,fontFamily:fe,textAlign:me},ge,be],sr=mt(Fn,()=>Ct.apply(void 0,Fn)),[Gr,yi]=sr;zt([Gr,yi])};if(w){const ar=new Image;ar.onload=()=>{or(ar)},ar.onerror=()=>{or(I)},ar.crossOrigin="anonymous",ar.referrerPolicy="no-referrer",ar.src=w}else or(I)}}),[Mt,Cn,Hn]=XF(De);(0,s.useEffect)(()=>{bt&&Et.forEach(Ft=>{Mt(bt[0],bt[1],Ft)})},[bt,Et]);const pn=(0,yr.Z)(Ft=>{Ft.forEach(kn=>{if(GF(kn,Hn))Ht();else if(kn.target===Ue&&kn.attributeName==="style"){const Pn=Object.keys(aM);for(let Dr=0;Dr<Pn.length;Dr+=1){const br=Pn[Dr],or=X[br],ar=Ue.style[br];or&&or!==ar&&(Ue.style[br]=or)}}})});kF(Et,pn),(0,s.useEffect)(Ht,[f,o,y,C,w,I,oe,ae,ie,le,fe,me,ge,be,Te,Ve]);const Dn=s.useMemo(()=>({add:Ft=>{ct(kn=>{const Pn=new Set(kn);return Pn.add(Ft),rM(kn,Pn)})},remove:Ft=>{Cn(Ft),ct(kn=>{const Pn=new Set(kn);return Pn.delete(Ft),rM(kn,Pn)})}}),[]),Qt=H?s.createElement(os.Provider,{value:Dn},G):G;return s.createElement("div",{ref:ke,className:q()(z,k),style:X},Qt)};const qF=(0,s.forwardRef)((e,t)=>{const{prefixCls:a,className:o,children:f,size:y,style:C={}}=e,w=q()(`${a}-panel`,{[`${a}-panel-hidden`]:y===0},o),I=y!==void 0;return s.createElement("div",{ref:t,className:w,style:Object.assign(Object.assign({},C),{flexBasis:I?y:"auto",flexGrow:I?0:1})},f)});var JF=()=>null,QF=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(a[o[f]]=e[o[f]]);return a};function e8(e){if(e&&typeof e=="object")return e;const t=!!e;return{start:t,end:t}}function t8(e){return s.useMemo(()=>(0,Wl.Z)(e).filter(s.isValidElement).map(a=>{const{props:o}=a,{collapsible:f}=o,y=QF(o,["collapsible"]);return Object.assign(Object.assign({},y),{collapsible:e8(f)})}),[e])}function n8(e,t,a){return s.useMemo(()=>{const o=[];for(let f=0;f<e.length-1;f+=1){const y=e[f],C=e[f+1],w=t[f],I=t[f+1],{resizable:D=!0,min:L,collapsible:z}=y,{resizable:k=!0,min:Z,collapsible:j}=C,G=D&&k&&(w!==0||!L)&&(I!==0||!Z),H=z.end&&w>0||j.start&&I===0&&w>0,X=j.start&&I>0||z.end&&w===0&&I>0;o[f]={resizable:G,startCollapsible:!!(a?X:H),endCollapsible:!!(a?H:X)}}return o},[t,e])}function oC(e){return Number(e.slice(0,-1))/100}function t2(e){return typeof e=="string"&&e.endsWith("%")}function r8(e,t){const a=e.map(j=>j.size),o=e.length,f=t||0,y=j=>j*f,[C,w]=s.useState(()=>e.map(j=>j.defaultSize)),I=s.useMemo(()=>{var j;const G=[];for(let H=0;H<o;H+=1)G[H]=(j=a[H])!==null&&j!==void 0?j:C[H];return G},[o,C,a]),D=s.useMemo(()=>{let j=[],G=0;for(let X=0;X<o;X+=1){const ne=I[X];if(t2(ne))j[X]=oC(ne);else if(ne||ne===0){const oe=Number(ne);Number.isNaN(oe)||(j[X]=oe/f)}else G+=1,j[X]=void 0}const H=j.reduce((X,ne)=>X+(ne||0),0);if(H>1||!G){const X=1/H;j=j.map(ne=>ne===void 0?0:ne*X)}else{const X=(1-H)/G;j=j.map(ne=>ne===void 0?X:ne)}return j},[I,f]),L=s.useMemo(()=>D.map(y),[D,f]),z=s.useMemo(()=>e.map(j=>t2(j.min)?oC(j.min):(j.min||0)/f),[e,f]),k=s.useMemo(()=>e.map(j=>t2(j.max)?oC(j.max):(j.max||f)/f),[e,f]);return[s.useMemo(()=>t?L:I,[L,t]),L,D,z,k,w]}function i8(e,t,a,o,f,y){const C=e.map(ae=>[ae.min,ae.max]),w=o||0,I=ae=>ae*w;function D(ae,ie){return typeof ae=="string"?I(oC(ae)):ae!=null?ae:ie}const[L,z]=s.useState([]),k=s.useRef([]),[Z,j]=s.useState(null),G=()=>a.map(I);return[ae=>{z(G()),j({index:ae,confirmed:!1})},(ae,ie)=>{var le;let fe=null;if((!Z||!Z.confirmed)&&ie!==0){if(ie>0)fe=ae,j({index:ae,confirmed:!0});else for(let Ue=ae;Ue>=0;Ue-=1)if(L[Ue]>0&&t[Ue].resizable){fe=Ue,j({index:Ue,confirmed:!0});break}}const me=(le=fe!=null?fe:Z==null?void 0:Z.index)!==null&&le!==void 0?le:ae,ge=(0,xe.Z)(L),be=me+1,Ie=D(C[me][0],0),Oe=D(C[be][0],0),Te=D(C[me][1],w),Ve=D(C[be][1],w);let De=ie;return ge[me]+De<Ie&&(De=Ie-ge[me]),ge[be]-De<Oe&&(De=ge[be]-Oe),ge[me]+De>Te&&(De=Te-ge[me]),ge[be]-De>Ve&&(De=ge[be]-Ve),ge[me]+=De,ge[be]-=De,f(ge),ge},()=>{j(null)},(ae,ie)=>{const le=G(),fe=y?ie==="start"?"end":"start":ie,me=fe==="start"?ae:ae+1,ge=fe==="start"?ae+1:ae,be=le[me],Ie=le[ge];if(be!==0&&Ie!==0)le[me]=0,le[ge]+=be,k.current[ae]=be;else{const Oe=be+Ie,Te=D(C[me][0],0),Ve=D(C[me][1],w),De=D(C[ge][0],0),Ue=D(C[ge][1],w),ke=Math.max(Te,Oe-Ue),ct=(Math.min(Ve,Oe-De)-ke)/2,Et=k.current[ae],It=Oe-Et;Et&&Et<=Ue&&Et>=De&&It<=Ve&&It>=Te?(le[ge]=Et,le[me]=It):(le[me]-=ct,le[ge]+=ct)}return f(le),le},Z==null?void 0:Z.index]}var o8=F(84896);function n2(e){return typeof e=="number"&&!Number.isNaN(e)?Math.round(e):0}var a8=e=>{const{prefixCls:t,vertical:a,index:o,active:f,ariaNow:y,ariaMin:C,ariaMax:w,resizable:I,startCollapsible:D,endCollapsible:L,onOffsetStart:z,onOffsetUpdate:k,onOffsetEnd:Z,onCollapse:j,lazy:G,containerSize:H}=e,X=`${t}-bar`,[ne,oe]=(0,s.useState)(null),[ae,ie]=(0,s.useState)(0),le=a?0:ae,fe=a?ae:0,me=Ue=>{I&&Ue.currentTarget&&(oe([Ue.pageX,Ue.pageY]),z(o))},ge=Ue=>{if(I&&Ue.touches.length===1){const ke=Ue.touches[0];oe([ke.pageX,ke.pageY]),z(o)}},be=Ue=>{const ke=H*y/100,st=ke+Ue,ct=Math.max(0,H*C/100),Et=Math.min(H,H*w/100);return Math.max(ct,Math.min(Et,st))-ke},Ie=(0,yr.Z)((Ue,ke)=>{const st=be(a?ke:Ue);ie(st)}),Oe=(0,yr.Z)(()=>{k(o,le,fe),ie(0)});s.useEffect(()=>{if(ne){const Ue=Et=>{const{pageX:It,pageY:Ct}=Et,mt=It-ne[0],bt=Ct-ne[1];G?Ie(mt,bt):k(o,mt,bt)},ke=()=>{G&&Oe(),oe(null),Z()},st=Et=>{if(Et.touches.length===1){const It=Et.touches[0],Ct=It.pageX-ne[0],mt=It.pageY-ne[1];G?Ie(Ct,mt):k(o,Ct,mt)}},ct=()=>{G&&Oe(),oe(null),Z()};return window.addEventListener("touchmove",st),window.addEventListener("touchend",ct),window.addEventListener("mousemove",Ue),window.addEventListener("mouseup",ke),()=>{window.removeEventListener("mousemove",Ue),window.removeEventListener("mouseup",ke),window.removeEventListener("touchmove",st),window.removeEventListener("touchend",ct)}}},[ne,G,a,o,H,y,C,w]);const Te={[`--${X}-preview-offset`]:`${ae}px`},Ve=a?o8.Z:Qc,De=a?$u.Z:yu.Z;return s.createElement("div",{className:X,role:"separator","aria-valuenow":n2(y),"aria-valuemin":n2(C),"aria-valuemax":n2(w)},G&&s.createElement("div",{className:q()(`${X}-preview`,{[`${X}-preview-active`]:!!ae}),style:Te}),s.createElement("div",{className:q()(`${X}-dragger`,{[`${X}-dragger-disabled`]:!I,[`${X}-dragger-active`]:f}),onMouseDown:me,onTouchStart:ge}),D&&s.createElement("div",{className:q()(`${X}-collapse-bar`,`${X}-collapse-bar-start`),onClick:()=>j(o,"start")},s.createElement(Ve,{className:q()(`${X}-collapse-icon`,`${X}-collapse-start`)})),L&&s.createElement("div",{className:q()(`${X}-collapse-bar`,`${X}-collapse-bar-end`),onClick:()=>j(o,"end")},s.createElement(De,{className:q()(`${X}-collapse-icon`,`${X}-collapse-end`)})))};const s8=e=>{const{componentCls:t}=e;return{[`&-rtl${t}-horizontal`]:{[`> ${t}-bar`]:{[`${t}-bar-collapse-previous`]:{insetInlineEnd:0,insetInlineStart:"unset"},[`${t}-bar-collapse-next`]:{insetInlineEnd:"unset",insetInlineStart:0}}},[`&-rtl${t}-vertical`]:{[`> ${t}-bar`]:{[`${t}-bar-collapse-previous`]:{insetInlineEnd:"50%",insetInlineStart:"unset"},[`${t}-bar-collapse-next`]:{insetInlineEnd:"50%",insetInlineStart:"unset"}}}}},aC={position:"absolute",top:"50%",left:{_skip_check_:!0,value:"50%"},transform:"translate(-50%, -50%)"},l8=e=>{const{componentCls:t,colorFill:a,splitBarDraggableSize:o,splitBarSize:f,splitTriggerSize:y,controlItemBgHover:C,controlItemBgActive:w,controlItemBgActiveHover:I,prefixCls:D}=e,L=`${t}-bar`,z=`${t}-mask`,k=`${t}-panel`,Z=e.calc(y).div(2).equal(),j=`${D}-bar-preview-offset`,G={position:"absolute",background:e.colorPrimary,opacity:.2,pointerEvents:"none",transition:"none",zIndex:1,display:"none"};return{[t]:Object.assign(Object.assign(Object.assign({},(0,Jt.Wf)(e)),{display:"flex",width:"100%",height:"100%",alignItems:"stretch",[`> ${L}`]:{flex:"none",position:"relative",userSelect:"none",[`${L}-dragger`]:Object.assign(Object.assign({},aC),{zIndex:1,"&::before":Object.assign({content:'""',background:C},aC),"&::after":Object.assign({content:'""',background:a},aC),[`&:hover:not(${L}-dragger-active)`]:{"&::before":{background:w}},"&-active":{zIndex:2,"&::before":{background:I}},[`&-disabled${L}-dragger`]:{zIndex:0,"&, &:hover, &-active":{cursor:"default","&::before":{background:C}},"&::after":{display:"none"}}}),[`${L}-collapse-bar`]:Object.assign(Object.assign({},aC),{zIndex:e.zIndexPopupBase,background:C,fontSize:e.fontSizeSM,borderRadius:e.borderRadiusXS,color:e.colorText,cursor:"pointer",opacity:0,display:"flex",alignItems:"center",justifyContent:"center","&:hover":{background:w},"&:active":{background:I}}),"&:hover, &:active":{[`${L}-collapse-bar`]:{opacity:1}}},[z]:{position:"fixed",zIndex:e.zIndexPopupBase,inset:0,"&-horizontal":{cursor:"col-resize"},"&-vertical":{cursor:"row-resize"}},"&-horizontal":{flexDirection:"row",[`> ${L}`]:{width:0,[`${L}-preview`]:Object.assign(Object.assign({height:"100%",width:f},G),{[`&${L}-preview-active`]:{display:"block",transform:`translateX(var(--${j}))`}}),[`${L}-dragger`]:{cursor:"col-resize",height:"100%",width:y,"&::before":{height:"100%",width:f},"&::after":{height:o,width:f}},[`${L}-collapse-bar`]:{width:e.fontSizeSM,height:e.controlHeightSM,"&-start":{left:{_skip_check_:!0,value:"auto"},right:{_skip_check_:!0,value:Z},transform:"translateY(-50%)"},"&-end":{left:{_skip_check_:!0,value:Z},right:{_skip_check_:!0,value:"auto"},transform:"translateY(-50%)"}}}},"&-vertical":{flexDirection:"column",[`> ${L}`]:{height:0,[`${L}-preview`]:Object.assign(Object.assign({height:f,width:"100%"},G),{[`&${L}-preview-active`]:{display:"block",transform:`translateY(var(--${j}))`}}),[`${L}-dragger`]:{cursor:"row-resize",width:"100%",height:y,"&::before":{width:"100%",height:f},"&::after":{width:o,height:f}},[`${L}-collapse-bar`]:{height:e.fontSizeSM,width:e.controlHeightSM,"&-start":{top:"auto",bottom:Z,transform:"translateX(-50%)"},"&-end":{top:Z,bottom:"auto",transform:"translateX(-50%)"}}}},[k]:{overflow:"auto",padding:"0 1px",scrollbarWidth:"thin",boxSizing:"border-box","&-hidden":{padding:0,overflow:"hidden"},[`&:has(${t}:only-child)`]:{overflow:"hidden"}}}),s8(e))}},c8=e=>{var t;const a=e.splitBarSize||2,o=e.splitTriggerSize||6,f=e.resizeSpinnerSize||20,y=(t=e.splitBarDraggableSize)!==null&&t!==void 0?t:f;return{splitBarSize:a,splitTriggerSize:o,splitBarDraggableSize:y,resizeSpinnerSize:f}};var u8=(0,te.I$)("Splitter",e=>[l8(e)],c8),d8=e=>{const{prefixCls:t,className:a,style:o,layout:f="horizontal",children:y,rootClassName:C,onResizeStart:w,onResize:I,onResizeEnd:D,lazy:L}=e,{getPrefixCls:z,direction:k,className:Z,style:j}=(0,ye.dj)("splitter"),G=z("splitter",t),H=(0,Un.Z)(G),[X,ne,oe]=u8(G,H),ae=f==="vertical",ie=k==="rtl",le=!ae&&ie,fe=t8(y),[me,ge]=(0,s.useState)(),be=pn=>{const{offsetWidth:Dn,offsetHeight:Qt}=pn,Ft=ae?Qt:Dn;Ft!==0&&ge(Ft)},[Ie,Oe,Te,Ve,De,Ue]=r8(fe,me),ke=n8(fe,Oe,ie),[st,ct,Et,It,Ct]=i8(fe,ke,Te,me,Ue,ie),mt=(0,yr.Z)(pn=>{st(pn),w==null||w(Oe)}),bt=(0,yr.Z)((pn,Dn)=>{const Qt=ct(pn,Dn);I==null||I(Qt)}),zt=(0,yr.Z)(()=>{Et(),D==null||D(Oe)}),$t=(0,yr.Z)((pn,Dn)=>{const Qt=It(pn,Dn);I==null||I(Qt),D==null||D(Qt)}),Ht=q()(G,a,`${G}-${f}`,{[`${G}-rtl`]:ie},C,Z,oe,H,ne),Mt=`${G}-mask`,Cn=s.useMemo(()=>{const pn=[];let Dn=0;for(let Qt=0;Qt<fe.length;Qt+=1)Dn+=Te[Qt],pn.push(Dn);return pn},[Te]),Hn=Object.assign(Object.assign({},j),o);return X(s.createElement(c.Z,{onResize:be},s.createElement("div",{style:Hn,className:Ht},fe.map((pn,Dn)=>{const Qt=s.createElement(qF,Object.assign({},pn,{prefixCls:G,size:Ie[Dn]}));let Ft=null;const kn=ke[Dn];if(kn){const Pn=(Cn[Dn-1]||0)+Ve[Dn],Dr=(Cn[Dn+1]||100)-De[Dn+1],br=(Cn[Dn-1]||0)+De[Dn],or=(Cn[Dn+1]||100)-Ve[Dn+1];Ft=s.createElement(a8,{lazy:L,index:Dn,active:Ct===Dn,prefixCls:G,vertical:ae,resizable:kn.resizable,ariaNow:Cn[Dn]*100,ariaMin:Math.max(Pn,Dr)*100,ariaMax:Math.min(br,or)*100,startCollapsible:kn.startCollapsible,endCollapsible:kn.endCollapsible,onOffsetStart:mt,onOffsetUpdate:(ar,Fn,sr)=>{let Gr=ae?sr:Fn;le&&(Gr=-Gr),bt(ar,Gr)},onOffsetEnd:zt,onCollapse:$t,containerSize:me||0})}return s.createElement(s.Fragment,{key:`split-panel-${Dn}`},Qt,Ft)}),typeof Ct=="number"&&s.createElement("div",{"aria-hidden":!0,className:q()(Mt,`${Mt}-${f}`)}))))};const sM=d8;sM.Panel=JF;var f8=sM},33839:function(Hr,jt,F){"use strict";F.d(jt,{Z:function(){return co}});var s=F(75271),tt=F(13143),q=F(84896),c=F(82187),xe=F.n(c),Ge=F(23022),ze=F(38926),Pe=F(5147),ye=F(89692),te=F(58190),je=F(59295),Ee=F(45985);function He(){return typeof BigInt=="function"}function Qe(tn){return!tn&&tn!==0&&!Number.isNaN(tn)||!String(tn).trim()}function ot(tn){var Tn=tn.trim(),ir=Tn.startsWith("-");ir&&(Tn=Tn.slice(1)),Tn=Tn.replace(/(\.\d*[^0])0*$/,"$1").replace(/\.0*$/,"").replace(/^0+/,""),Tn.startsWith(".")&&(Tn="0".concat(Tn));var kr=Tn||"0",gi=kr.split("."),li=gi[0]||"0",eo=gi[1]||"0";li==="0"&&eo==="0"&&(ir=!1);var io=ir?"-":"";return{negative:ir,negativeStr:io,trimStr:kr,integerStr:li,decimalStr:eo,fullStr:"".concat(io).concat(kr)}}function qe(tn){var Tn=String(tn);return!Number.isNaN(Number(Tn))&&Tn.includes("e")}function gt(tn){var Tn=String(tn);if(qe(tn)){var ir=Number(Tn.slice(Tn.indexOf("e-")+2)),kr=Tn.match(/\.(\d+)/);return kr!=null&&kr[1]&&(ir+=kr[1].length),ir}return Tn.includes(".")&&Xe(Tn)?Tn.length-Tn.indexOf(".")-1:0}function xt(tn){var Tn=String(tn);if(qe(tn)){if(tn>Number.MAX_SAFE_INTEGER)return String(He()?BigInt(tn).toString():Number.MAX_SAFE_INTEGER);if(tn<Number.MIN_SAFE_INTEGER)return String(He()?BigInt(tn).toString():Number.MIN_SAFE_INTEGER);Tn=tn.toFixed(gt(Tn))}return ot(Tn).fullStr}function Xe(tn){return typeof tn=="number"?!Number.isNaN(tn):tn?/^\s*-?\d+(\.\d+)?\s*$/.test(tn)||/^\s*-?\d+\.\s*$/.test(tn)||/^\s*-?\.\d+\s*$/.test(tn):!1}var Ut=function(){function tn(Tn){if((0,je.Z)(this,tn),(0,ze.Z)(this,"origin",""),(0,ze.Z)(this,"negative",void 0),(0,ze.Z)(this,"integer",void 0),(0,ze.Z)(this,"decimal",void 0),(0,ze.Z)(this,"decimalLen",void 0),(0,ze.Z)(this,"empty",void 0),(0,ze.Z)(this,"nan",void 0),Qe(Tn)){this.empty=!0;return}if(this.origin=String(Tn),Tn==="-"||Number.isNaN(Tn)){this.nan=!0;return}var ir=Tn;if(qe(ir)&&(ir=Number(ir)),ir=typeof ir=="string"?ir:xt(ir),Xe(ir)){var kr=ot(ir);this.negative=kr.negative;var gi=kr.trimStr.split(".");this.integer=BigInt(gi[0]);var li=gi[1]||"0";this.decimal=BigInt(li),this.decimalLen=li.length}else this.nan=!0}return(0,Ee.Z)(tn,[{key:"getMark",value:function(){return this.negative?"-":""}},{key:"getIntegerStr",value:function(){return this.integer.toString()}},{key:"getDecimalStr",value:function(){return this.decimal.toString().padStart(this.decimalLen,"0")}},{key:"alignDecimal",value:function(ir){var kr="".concat(this.getMark()).concat(this.getIntegerStr()).concat(this.getDecimalStr().padEnd(ir,"0"));return BigInt(kr)}},{key:"negate",value:function(){var ir=new tn(this.toString());return ir.negative=!ir.negative,ir}},{key:"cal",value:function(ir,kr,gi){var li=Math.max(this.getDecimalStr().length,ir.getDecimalStr().length),eo=this.alignDecimal(li),io=ir.alignDecimal(li),Lo=kr(eo,io).toString(),Co=gi(li),uo=ot(Lo),Re=uo.negativeStr,de=uo.trimStr,Y="".concat(Re).concat(de.padStart(Co+1,"0"));return new tn("".concat(Y.slice(0,-Co),".").concat(Y.slice(-Co)))}},{key:"add",value:function(ir){if(this.isInvalidate())return new tn(ir);var kr=new tn(ir);return kr.isInvalidate()?this:this.cal(kr,function(gi,li){return gi+li},function(gi){return gi})}},{key:"multi",value:function(ir){var kr=new tn(ir);return this.isInvalidate()||kr.isInvalidate()?new tn(NaN):this.cal(kr,function(gi,li){return gi*li},function(gi){return gi*2})}},{key:"isEmpty",value:function(){return this.empty}},{key:"isNaN",value:function(){return this.nan}},{key:"isInvalidate",value:function(){return this.isEmpty()||this.isNaN()}},{key:"equals",value:function(ir){return this.toString()===(ir==null?void 0:ir.toString())}},{key:"lessEquals",value:function(ir){return this.add(ir.negate().toString()).toNumber()<=0}},{key:"toNumber",value:function(){return this.isNaN()?NaN:Number(this.toString())}},{key:"toString",value:function(){var ir=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return ir?this.isInvalidate()?"":ot("".concat(this.getMark()).concat(this.getIntegerStr(),".").concat(this.getDecimalStr())).fullStr:this.origin}}]),tn}(),yt=function(){function tn(Tn){if((0,je.Z)(this,tn),(0,ze.Z)(this,"origin",""),(0,ze.Z)(this,"number",void 0),(0,ze.Z)(this,"empty",void 0),Qe(Tn)){this.empty=!0;return}this.origin=String(Tn),this.number=Number(Tn)}return(0,Ee.Z)(tn,[{key:"negate",value:function(){return new tn(-this.toNumber())}},{key:"add",value:function(ir){if(this.isInvalidate())return new tn(ir);var kr=Number(ir);if(Number.isNaN(kr))return this;var gi=this.number+kr;if(gi>Number.MAX_SAFE_INTEGER)return new tn(Number.MAX_SAFE_INTEGER);if(gi<Number.MIN_SAFE_INTEGER)return new tn(Number.MIN_SAFE_INTEGER);var li=Math.max(gt(this.number),gt(kr));return new tn(gi.toFixed(li))}},{key:"multi",value:function(ir){var kr=Number(ir);if(this.isInvalidate()||Number.isNaN(kr))return new tn(NaN);var gi=this.number*kr;if(gi>Number.MAX_SAFE_INTEGER)return new tn(Number.MAX_SAFE_INTEGER);if(gi<Number.MIN_SAFE_INTEGER)return new tn(Number.MIN_SAFE_INTEGER);var li=Math.max(gt(this.number),gt(kr));return new tn(gi.toFixed(li))}},{key:"isEmpty",value:function(){return this.empty}},{key:"isNaN",value:function(){return Number.isNaN(this.number)}},{key:"isInvalidate",value:function(){return this.isEmpty()||this.isNaN()}},{key:"equals",value:function(ir){return this.toNumber()===(ir==null?void 0:ir.toNumber())}},{key:"lessEquals",value:function(ir){return this.add(ir.negate().toString()).toNumber()<=0}},{key:"toNumber",value:function(){return this.number}},{key:"toString",value:function(){var ir=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return ir?this.isInvalidate()?"":xt(this.number):this.origin}}]),tn}();function Pt(tn){return He()?new Ut(tn):new yt(tn)}function Wt(tn,Tn,ir){var kr=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(tn==="")return"";var gi=ot(tn),li=gi.negativeStr,eo=gi.integerStr,io=gi.decimalStr,Lo="".concat(Tn).concat(io),Co="".concat(li).concat(eo);if(ir>=0){var uo=Number(io[ir]);if(uo>=5&&!kr){var Re=Pt(tn).add("".concat(li,"0.").concat("0".repeat(ir)).concat(10-uo));return Wt(Re.toString(),Tn,ir,kr)}return ir===0?Co:"".concat(Co).concat(Tn).concat(io.padEnd(ir,"0").slice(0,ir))}return Lo===".0"?Co:"".concat(Co).concat(Lo)}var kt=Pt,Sr=F(44885),cr=F(92076);function Xn(tn,Tn){return typeof Proxy!="undefined"&&tn?new Proxy(tn,{get:function(kr,gi){if(Tn[gi])return Tn[gi];var li=kr[gi];return typeof li=="function"?li.bind(kr):li}}):tn}var We=F(42684),Zt=F(4449);function cn(tn,Tn){var ir=(0,s.useRef)(null);function kr(){try{var li=tn.selectionStart,eo=tn.selectionEnd,io=tn.value,Lo=io.substring(0,li),Co=io.substring(eo);ir.current={start:li,end:eo,value:io,beforeTxt:Lo,afterTxt:Co}}catch(uo){}}function gi(){if(tn&&ir.current&&Tn)try{var li=tn.value,eo=ir.current,io=eo.beforeTxt,Lo=eo.afterTxt,Co=eo.start,uo=li.length;if(li.startsWith(io))uo=io.length;else if(li.endsWith(Lo))uo=li.length-ir.current.afterTxt.length;else{var Re=io[Co-1],de=li.indexOf(Re,Co-1);de!==-1&&(uo=de+1)}tn.setSelectionRange(uo,uo)}catch(Y){(0,Zt.ZP)(!1,"Something warning of cursor restore. Please fire issue about this: ".concat(Y.message))}}return[kr,gi]}var Kt=F(21611),Fe=function(){var Tn=(0,s.useState)(!1),ir=(0,ye.Z)(Tn,2),kr=ir[0],gi=ir[1];return(0,cr.Z)(function(){gi((0,Kt.Z)())},[]),kr},Ln=Fe,hn=F(49975),On=200,ut=600;function Yt(tn){var Tn=tn.prefixCls,ir=tn.upNode,kr=tn.downNode,gi=tn.upDisabled,li=tn.downDisabled,eo=tn.onStep,io=s.useRef(),Lo=s.useRef([]),Co=s.useRef();Co.current=eo;var uo=function(){clearTimeout(io.current)},Re=function(At,sn){At.preventDefault(),uo(),Co.current(sn);function vn(){Co.current(sn),io.current=setTimeout(vn,On)}io.current=setTimeout(vn,ut)};s.useEffect(function(){return function(){uo(),Lo.current.forEach(function(ln){return hn.Z.cancel(ln)})}},[]);var de=Ln();if(de)return null;var Y="".concat(Tn,"-handler"),Ze=xe()(Y,"".concat(Y,"-up"),(0,ze.Z)({},"".concat(Y,"-up-disabled"),gi)),pe=xe()(Y,"".concat(Y,"-down"),(0,ze.Z)({},"".concat(Y,"-down-disabled"),li)),et=function(){return Lo.current.push((0,hn.Z)(uo))},nt={unselectable:"on",role:"button",onMouseUp:et,onMouseLeave:et};return s.createElement("div",{className:"".concat(Y,"-wrap")},s.createElement("span",(0,Ge.Z)({},nt,{onMouseDown:function(At){Re(At,!0)},"aria-label":"Increase Value","aria-disabled":gi,className:Ze}),ir||s.createElement("span",{unselectable:"on",className:"".concat(Tn,"-handler-up-inner")})),s.createElement("span",(0,Ge.Z)({},nt,{onMouseDown:function(At){Re(At,!1)},"aria-label":"Decrease Value","aria-disabled":li,className:pe}),kr||s.createElement("span",{unselectable:"on",className:"".concat(Tn,"-handler-down-inner")})))}function bn(tn){var Tn=typeof tn=="number"?xt(tn):ot(tn).fullStr,ir=Tn.includes(".");return ir?ot(Tn.replace(/(\d)\.(\d)/g,"$1$2.")).fullStr:tn+"0"}var he=F(68677),Jt=function(){var tn=(0,s.useRef)(0),Tn=function(){hn.Z.cancel(tn.current)};return(0,s.useEffect)(function(){return Tn},[]),function(ir){Tn(),tn.current=(0,hn.Z)(function(){ir()})}},wi=["prefixCls","className","style","min","max","step","defaultValue","value","disabled","readOnly","upHandler","downHandler","keyboard","changeOnWheel","controls","classNames","stringMode","parser","formatter","precision","decimalSeparator","onChange","onInput","onPressEnter","onStep","changeOnBlur","domRef"],ai=["disabled","style","prefixCls","value","prefix","suffix","addonBefore","addonAfter","className","classNames"],$e=function(Tn,ir){return Tn||ir.isEmpty()?ir.toString():ir.toNumber()},An=function(Tn){var ir=kt(Tn);return ir.isInvalidate()?null:ir},Ur=s.forwardRef(function(tn,Tn){var ir=tn.prefixCls,kr=tn.className,gi=tn.style,li=tn.min,eo=tn.max,io=tn.step,Lo=io===void 0?1:io,Co=tn.defaultValue,uo=tn.value,Re=tn.disabled,de=tn.readOnly,Y=tn.upHandler,Ze=tn.downHandler,pe=tn.keyboard,et=tn.changeOnWheel,nt=et===void 0?!1:et,ln=tn.controls,At=ln===void 0?!0:ln,sn=tn.classNames,vn=tn.stringMode,Je=tn.parser,Rt=tn.formatter,Xt=tn.precision,nn=tn.decimalSeparator,dt=tn.onChange,lt=tn.onInput,En=tn.onPressEnter,_n=tn.onStep,Wn=tn.changeOnBlur,nr=Wn===void 0?!0:Wn,mr=tn.domRef,Nr=(0,te.Z)(tn,wi),ui="".concat(ir,"-input"),Zr=s.useRef(null),qi=s.useState(!1),pt=(0,ye.Z)(qi,2),Sn=pt[0],qt=pt[1],Nn=s.useRef(!1),lr=s.useRef(!1),di=s.useRef(!1),Ti=s.useState(function(){return kt(uo!=null?uo:Co)}),bo=(0,ye.Z)(Ti,2),Zi=bo[0],fo=bo[1];function yo(Ce){uo===void 0&&fo(Ce)}var Gi=s.useCallback(function(Ce,Ke){if(!Ke)return Xt>=0?Xt:Math.max(gt(Ce),gt(Lo))},[Xt,Lo]),Oo=s.useCallback(function(Ce){var Ke=String(Ce);if(Je)return Je(Ke);var Be=Ke;return nn&&(Be=Be.replace(nn,".")),Be.replace(/[^\w.-]+/g,"")},[Je,nn]),Xo=s.useRef(""),Bo=s.useCallback(function(Ce,Ke){if(Rt)return Rt(Ce,{userTyping:Ke,input:String(Xo.current)});var Be=typeof Ce=="number"?xt(Ce):Ce;if(!Ke){var Nt=Gi(Be,Ke);if(Xe(Be)&&(nn||Nt>=0)){var dn=nn||".";Be=Wt(Be,dn,Nt)}}return Be},[Rt,Gi,nn]),Eo=s.useState(function(){var Ce=Co!=null?Co:uo;return Zi.isInvalidate()&&["string","number"].includes((0,Pe.Z)(Ce))?Number.isNaN(Ce)?"":Ce:Bo(Zi.toString(),!1)}),zo=(0,ye.Z)(Eo,2),Zo=zo[0],na=zo[1];Xo.current=Zo;function po(Ce,Ke){na(Bo(Ce.isInvalidate()?Ce.toString(!1):Ce.toString(!Ke),Ke))}var wo=s.useMemo(function(){return An(eo)},[eo,Xt]),So=s.useMemo(function(){return An(li)},[li,Xt]),K=s.useMemo(function(){return!wo||!Zi||Zi.isInvalidate()?!1:wo.lessEquals(Zi)},[wo,Zi]),_e=s.useMemo(function(){return!So||!Zi||Zi.isInvalidate()?!1:Zi.lessEquals(So)},[So,Zi]),wt=cn(Zr.current,Sn),Tt=(0,ye.Z)(wt,2),In=Tt[0],Qn=Tt[1],ci=function(Ke){return wo&&!Ke.lessEquals(wo)?wo:So&&!So.lessEquals(Ke)?So:null},fr=function(Ke){return!ci(Ke)},Ai=function(Ke,Be){var Nt=Ke,dn=fr(Nt)||Nt.isEmpty();if(!Nt.isEmpty()&&!Be&&(Nt=ci(Nt)||Nt,dn=!0),!de&&!Re&&dn){var tr=Nt.toString(),Rr=Gi(tr,Be);return Rr>=0&&(Nt=kt(Wt(tr,".",Rr)),fr(Nt)||(Nt=kt(Wt(tr,".",Rr,!0)))),Nt.equals(Zi)||(yo(Nt),dt==null||dt(Nt.isEmpty()?null:$e(vn,Nt)),uo===void 0&&po(Nt,Be)),Nt}return Zi},to=Jt(),xr=function Ce(Ke){if(In(),Xo.current=Ke,na(Ke),!lr.current){var Be=Oo(Ke),Nt=kt(Be);Nt.isNaN()||Ai(Nt,!0)}lt==null||lt(Ke),to(function(){var dn=Ke;Je||(dn=Ke.replace(//g,".")),dn!==Ke&&Ce(dn)})},Vi=function(){lr.current=!0},Fr=function(){lr.current=!1,xr(Zr.current.value)},Ei=function(Ke){xr(Ke.target.value)},_i=function(Ke){var Be;if(!(Ke&&K||!Ke&&_e)){Nn.current=!1;var Nt=kt(di.current?bn(Lo):Lo);Ke||(Nt=Nt.negate());var dn=(Zi||kt(0)).add(Nt.toString()),tr=Ai(dn,!1);_n==null||_n($e(vn,tr),{offset:di.current?bn(Lo):Lo,type:Ke?"up":"down"}),(Be=Zr.current)===null||Be===void 0||Be.focus()}},bi=function(Ke){var Be=kt(Oo(Zo)),Nt;Be.isNaN()?Nt=Ai(Zi,Ke):Nt=Ai(Be,Ke),uo!==void 0?po(Zi,!1):Nt.isNaN()||po(Nt,!1)},Yo=function(){Nn.current=!0},jo=function(Ke){var Be=Ke.key,Nt=Ke.shiftKey;Nn.current=!0,di.current=Nt,Be==="Enter"&&(lr.current||(Nn.current=!1),bi(!1),En==null||En(Ke)),pe!==!1&&!lr.current&&["Up","ArrowUp","Down","ArrowDown"].includes(Be)&&(_i(Be==="Up"||Be==="ArrowUp"),Ke.preventDefault())},an=function(){Nn.current=!1,di.current=!1};s.useEffect(function(){if(nt&&Sn){var Ce=function(Nt){_i(Nt.deltaY<0),Nt.preventDefault()},Ke=Zr.current;if(Ke)return Ke.addEventListener("wheel",Ce,{passive:!1}),function(){return Ke.removeEventListener("wheel",Ce)}}});var Ye=function(){nr&&bi(!1),qt(!1),Nn.current=!1};return(0,cr.o)(function(){Zi.isInvalidate()||po(Zi,!1)},[Xt,Rt]),(0,cr.o)(function(){var Ce=kt(uo);fo(Ce);var Ke=kt(Oo(Zo));(!Ce.equals(Ke)||!Nn.current||Rt)&&po(Ce,Nn.current)},[uo]),(0,cr.o)(function(){Rt&&Qn()},[Zo]),s.createElement("div",{ref:mr,className:xe()(ir,kr,(0,ze.Z)((0,ze.Z)((0,ze.Z)((0,ze.Z)((0,ze.Z)({},"".concat(ir,"-focused"),Sn),"".concat(ir,"-disabled"),Re),"".concat(ir,"-readonly"),de),"".concat(ir,"-not-a-number"),Zi.isNaN()),"".concat(ir,"-out-of-range"),!Zi.isInvalidate()&&!fr(Zi))),style:gi,onFocus:function(){qt(!0)},onBlur:Ye,onKeyDown:jo,onKeyUp:an,onCompositionStart:Vi,onCompositionEnd:Fr,onBeforeInput:Yo},At&&s.createElement(Yt,{prefixCls:ir,upNode:Y,downNode:Ze,upDisabled:K,downDisabled:_e,onStep:_i}),s.createElement("div",{className:"".concat(ui,"-wrap")},s.createElement("input",(0,Ge.Z)({autoComplete:"off",role:"spinbutton","aria-valuemin":li,"aria-valuemax":eo,"aria-valuenow":Zi.isInvalidate()?null:Zi.toString(),step:Lo},Nr,{ref:(0,We.sQ)(Zr,Tn),className:ui,value:Zo,onChange:Ei,disabled:Re,readOnly:de}))))}),Kr=s.forwardRef(function(tn,Tn){var ir=tn.disabled,kr=tn.style,gi=tn.prefixCls,li=gi===void 0?"rc-input-number":gi,eo=tn.value,io=tn.prefix,Lo=tn.suffix,Co=tn.addonBefore,uo=tn.addonAfter,Re=tn.className,de=tn.classNames,Y=(0,te.Z)(tn,ai),Ze=s.useRef(null),pe=s.useRef(null),et=s.useRef(null),nt=function(At){et.current&&(0,he.nH)(et.current,At)};return s.useImperativeHandle(Tn,function(){return Xn(et.current,{focus:nt,nativeElement:Ze.current.nativeElement||pe.current})}),s.createElement(Sr.Q,{className:Re,triggerFocus:nt,prefixCls:li,value:eo,disabled:ir,style:kr,prefix:io,suffix:Lo,addonAfter:uo,addonBefore:Co,classNames:de,components:{affixWrapper:"div",groupWrapper:"div",wrapper:"div",groupAddon:"div"},ref:Ze},s.createElement(Ur,(0,Ge.Z)({prefixCls:li,disabled:ir,ref:et,domRef:pe,className:de==null?void 0:de.input},Y)))}),Rn=Kr,Wr=Rn,Ii=F(78018),pr=F(94773),it=F(98446),Ot=F(62639),Bn=F(98472),fn=F(38437),gn=F(95741),Er=F(60824),Vn=F(7038),ri=F(23137),fi=F(55921),qr=F(43452),Jr=F(21571),wr=F(57616),Yn=F(34299),yr=F(9288),Pr=F(84825),Ir=F(83509),Xr=F(84432);const rr=tn=>{var Tn;const ir=(Tn=tn.handleVisible)!==null&&Tn!==void 0?Tn:"auto",kr=tn.controlHeightSM-tn.lineWidth*2;return Object.assign(Object.assign({},(0,Jr.T)(tn)),{controlWidth:90,handleWidth:kr,handleFontSize:tn.fontSize/2,handleVisible:ir,handleActiveBg:tn.colorFillAlter,handleBg:tn.colorBgContainer,filledHandleBg:new Xr.t(tn.colorFillSecondary).onBackground(tn.colorBgContainer).toHexString(),handleHoverColor:tn.colorPrimary,handleBorderColor:tn.colorBorder,handleOpacity:ir===!0?1:0,handleVisibleWidth:ir===!0?kr:0})},gr=(tn,Tn)=>{let{componentCls:ir,borderRadiusSM:kr,borderRadiusLG:gi}=tn;const li=Tn==="lg"?gi:kr;return{[`&-${Tn}`]:{[`${ir}-handler-wrap`]:{borderStartEndRadius:li,borderEndEndRadius:li},[`${ir}-handler-up`]:{borderStartEndRadius:li},[`${ir}-handler-down`]:{borderEndEndRadius:li}}}},ei=tn=>{const{componentCls:Tn,lineWidth:ir,lineType:kr,borderRadius:gi,inputFontSizeSM:li,inputFontSizeLG:eo,controlHeightLG:io,controlHeightSM:Lo,colorError:Co,paddingInlineSM:uo,paddingBlockSM:Re,paddingBlockLG:de,paddingInlineLG:Y,colorTextDescription:Ze,motionDurationMid:pe,handleHoverColor:et,handleOpacity:nt,paddingInline:ln,paddingBlock:At,handleBg:sn,handleActiveBg:vn,colorTextDisabled:Je,borderRadiusSM:Rt,borderRadiusLG:Xt,controlWidth:nn,handleBorderColor:dt,filledHandleBg:lt,lineHeightLG:En,calc:_n}=tn;return[{[Tn]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(0,Yn.Wf)(tn)),(0,qr.ik)(tn)),{display:"inline-block",width:nn,margin:0,padding:0,borderRadius:gi}),(0,wr.qG)(tn,{[`${Tn}-handler-wrap`]:{background:sn,[`${Tn}-handler-down`]:{borderBlockStart:`${(0,fi.bf)(ir)} ${kr} ${dt}`}}})),(0,wr.H8)(tn,{[`${Tn}-handler-wrap`]:{background:lt,[`${Tn}-handler-down`]:{borderBlockStart:`${(0,fi.bf)(ir)} ${kr} ${dt}`}},"&:focus-within":{[`${Tn}-handler-wrap`]:{background:sn}}})),(0,wr.vc)(tn,{[`${Tn}-handler-wrap`]:{background:sn,[`${Tn}-handler-down`]:{borderBlockStart:`${(0,fi.bf)(ir)} ${kr} ${dt}`}}})),(0,wr.Mu)(tn)),{"&-rtl":{direction:"rtl",[`${Tn}-input`]:{direction:"rtl"}},"&-lg":{padding:0,fontSize:eo,lineHeight:En,borderRadius:Xt,[`input${Tn}-input`]:{height:_n(io).sub(_n(ir).mul(2)).equal(),padding:`${(0,fi.bf)(de)} ${(0,fi.bf)(Y)}`}},"&-sm":{padding:0,fontSize:li,borderRadius:Rt,[`input${Tn}-input`]:{height:_n(Lo).sub(_n(ir).mul(2)).equal(),padding:`${(0,fi.bf)(Re)} ${(0,fi.bf)(uo)}`}},"&-out-of-range":{[`${Tn}-input-wrap`]:{input:{color:Co}}},"&-group":Object.assign(Object.assign(Object.assign({},(0,Yn.Wf)(tn)),(0,qr.s7)(tn)),{"&-wrapper":Object.assign(Object.assign(Object.assign({display:"inline-block",textAlign:"start",verticalAlign:"top",[`${Tn}-affix-wrapper`]:{width:"100%"},"&-lg":{[`${Tn}-group-addon`]:{borderRadius:Xt,fontSize:tn.fontSizeLG}},"&-sm":{[`${Tn}-group-addon`]:{borderRadius:Rt}}},(0,wr.ir)(tn)),(0,wr.S5)(tn)),{[`&:not(${Tn}-compact-first-item):not(${Tn}-compact-last-item)${Tn}-compact-item`]:{[`${Tn}, ${Tn}-group-addon`]:{borderRadius:0}},[`&:not(${Tn}-compact-last-item)${Tn}-compact-first-item`]:{[`${Tn}, ${Tn}-group-addon`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`&:not(${Tn}-compact-first-item)${Tn}-compact-last-item`]:{[`${Tn}, ${Tn}-group-addon`]:{borderStartStartRadius:0,borderEndStartRadius:0}}})}),[`&-disabled ${Tn}-input`]:{cursor:"not-allowed"},[Tn]:{"&-input":Object.assign(Object.assign(Object.assign(Object.assign({},(0,Yn.Wf)(tn)),{width:"100%",padding:`${(0,fi.bf)(At)} ${(0,fi.bf)(ln)}`,textAlign:"start",backgroundColor:"transparent",border:0,borderRadius:gi,outline:0,transition:`all ${pe} linear`,appearance:"textfield",fontSize:"inherit"}),(0,qr.nz)(tn.colorTextPlaceholder)),{'&[type="number"]::-webkit-inner-spin-button, &[type="number"]::-webkit-outer-spin-button':{margin:0,webkitAppearance:"none",appearance:"none"}})},[`&:hover ${Tn}-handler-wrap, &-focused ${Tn}-handler-wrap`]:{width:tn.handleWidth,opacity:1}})},{[Tn]:Object.assign(Object.assign(Object.assign({[`${Tn}-handler-wrap`]:{position:"absolute",insetBlockStart:0,insetInlineEnd:0,width:tn.handleVisibleWidth,opacity:nt,height:"100%",borderStartStartRadius:0,borderStartEndRadius:gi,borderEndEndRadius:gi,borderEndStartRadius:0,display:"flex",flexDirection:"column",alignItems:"stretch",transition:`all ${pe}`,overflow:"hidden",[`${Tn}-handler`]:{display:"flex",alignItems:"center",justifyContent:"center",flex:"auto",height:"40%",[`
              ${Tn}-handler-up-inner,
              ${Tn}-handler-down-inner
            `]:{marginInlineEnd:0,fontSize:tn.handleFontSize}}},[`${Tn}-handler`]:{height:"50%",overflow:"hidden",color:Ze,fontWeight:"bold",lineHeight:0,textAlign:"center",cursor:"pointer",borderInlineStart:`${(0,fi.bf)(ir)} ${kr} ${dt}`,transition:`all ${pe} linear`,"&:active":{background:vn},"&:hover":{height:"60%",[`
              ${Tn}-handler-up-inner,
              ${Tn}-handler-down-inner
            `]:{color:et}},"&-up-inner, &-down-inner":Object.assign(Object.assign({},(0,Yn.Ro)()),{color:Ze,transition:`all ${pe} linear`,userSelect:"none"})},[`${Tn}-handler-up`]:{borderStartEndRadius:gi},[`${Tn}-handler-down`]:{borderEndEndRadius:gi}},gr(tn,"lg")),gr(tn,"sm")),{"&-disabled, &-readonly":{[`${Tn}-handler-wrap`]:{display:"none"},[`${Tn}-input`]:{color:"inherit"}},[`
          ${Tn}-handler-up-disabled,
          ${Tn}-handler-down-disabled
        `]:{cursor:"not-allowed"},[`
          ${Tn}-handler-up-disabled:hover &-handler-up-inner,
          ${Tn}-handler-down-disabled:hover &-handler-down-inner
        `]:{color:Je}})}]},Un=tn=>{const{componentCls:Tn,paddingBlock:ir,paddingInline:kr,inputAffixPadding:gi,controlWidth:li,borderRadiusLG:eo,borderRadiusSM:io,paddingInlineLG:Lo,paddingInlineSM:Co,paddingBlockLG:uo,paddingBlockSM:Re,motionDurationMid:de}=tn;return{[`${Tn}-affix-wrapper`]:Object.assign(Object.assign({[`input${Tn}-input`]:{padding:`${(0,fi.bf)(ir)} 0`}},(0,qr.ik)(tn)),{position:"relative",display:"inline-flex",alignItems:"center",width:li,padding:0,paddingInlineStart:kr,"&-lg":{borderRadius:eo,paddingInlineStart:Lo,[`input${Tn}-input`]:{padding:`${(0,fi.bf)(uo)} 0`}},"&-sm":{borderRadius:io,paddingInlineStart:Co,[`input${Tn}-input`]:{padding:`${(0,fi.bf)(Re)} 0`}},[`&:not(${Tn}-disabled):hover`]:{zIndex:1},"&-focused, &:focus":{zIndex:1},[`&-disabled > ${Tn}-disabled`]:{background:"transparent"},[`> div${Tn}`]:{width:"100%",border:"none",outline:"none",[`&${Tn}-focused`]:{boxShadow:"none !important"}},"&::before":{display:"inline-block",width:0,visibility:"hidden",content:'"\\a0"'},[`${Tn}-handler-wrap`]:{zIndex:2},[Tn]:{position:"static",color:"inherit","&-prefix, &-suffix":{display:"flex",flex:"none",alignItems:"center",pointerEvents:"none"},"&-prefix":{marginInlineEnd:gi},"&-suffix":{insetBlockStart:0,insetInlineEnd:0,height:"100%",marginInlineEnd:kr,marginInlineStart:gi,transition:`margin ${de}`}},[`&:hover ${Tn}-handler-wrap, &-focused ${Tn}-handler-wrap`]:{width:tn.handleWidth,opacity:1},[`&:not(${Tn}-affix-wrapper-without-controls):hover ${Tn}-suffix`]:{marginInlineEnd:tn.calc(tn.handleWidth).add(kr).equal()}})}};var si=(0,Pr.I$)("InputNumber",tn=>{const Tn=(0,Ir.IX)(tn,(0,Jr.e)(tn));return[ei(Tn),Un(Tn),(0,yr.c)(Tn)]},rr,{unitless:{handleOpacity:!0}}),Si=function(tn,Tn){var ir={};for(var kr in tn)Object.prototype.hasOwnProperty.call(tn,kr)&&Tn.indexOf(kr)<0&&(ir[kr]=tn[kr]);if(tn!=null&&typeof Object.getOwnPropertySymbols=="function")for(var gi=0,kr=Object.getOwnPropertySymbols(tn);gi<kr.length;gi++)Tn.indexOf(kr[gi])<0&&Object.prototype.propertyIsEnumerable.call(tn,kr[gi])&&(ir[kr[gi]]=tn[kr[gi]]);return ir};const Yi=s.forwardRef((tn,Tn)=>{const{getPrefixCls:ir,direction:kr}=s.useContext(it.E_),gi=s.useRef(null);s.useImperativeHandle(Tn,()=>gi.current);const{className:li,rootClassName:eo,size:io,disabled:Lo,prefixCls:Co,addonBefore:uo,addonAfter:Re,prefix:de,suffix:Y,bordered:Ze,readOnly:pe,status:et,controls:nt,variant:ln}=tn,At=Si(tn,["className","rootClassName","size","disabled","prefixCls","addonBefore","addonAfter","prefix","suffix","bordered","readOnly","status","controls","variant"]),sn=ir("input-number",Co),vn=(0,fn.Z)(sn),[Je,Rt,Xt]=si(sn,vn),{compactSize:nn,compactItemClassnames:dt}=(0,ri.ri)(sn,kr);let lt=s.createElement(q.Z,{className:`${sn}-handler-up-inner`}),En=s.createElement(tt.Z,{className:`${sn}-handler-down-inner`});const _n=typeof nt=="boolean"?nt:void 0;typeof nt=="object"&&(lt=typeof nt.upIcon=="undefined"?lt:s.createElement("span",{className:`${sn}-handler-up-inner`},nt.upIcon),En=typeof nt.downIcon=="undefined"?En:s.createElement("span",{className:`${sn}-handler-down-inner`},nt.downIcon));const{hasFeedback:Wn,status:nr,isFormItemInput:mr,feedbackIcon:Nr}=s.useContext(Er.aM),ui=(0,pr.F)(nr,et),Zr=(0,gn.Z)(bo=>{var Zi;return(Zi=io!=null?io:nn)!==null&&Zi!==void 0?Zi:bo}),qi=s.useContext(Bn.Z),pt=Lo!=null?Lo:qi,[Sn,qt]=(0,Vn.Z)("inputNumber",ln,Ze),Nn=Wn&&s.createElement(s.Fragment,null,Nr),lr=xe()({[`${sn}-lg`]:Zr==="large",[`${sn}-sm`]:Zr==="small",[`${sn}-rtl`]:kr==="rtl",[`${sn}-in-form-item`]:mr},Rt),di=`${sn}-group`,Ti=s.createElement(Wr,Object.assign({ref:gi,disabled:pt,className:xe()(Xt,vn,li,eo,dt),upHandler:lt,downHandler:En,prefixCls:sn,readOnly:pe,controls:_n,prefix:de,suffix:Nn||Y,addonBefore:uo&&s.createElement(Ii.Z,{form:!0,space:!0},uo),addonAfter:Re&&s.createElement(Ii.Z,{form:!0,space:!0},Re),classNames:{input:lr,variant:xe()({[`${sn}-${Sn}`]:qt},(0,pr.Z)(sn,ui,Wn)),affixWrapper:xe()({[`${sn}-affix-wrapper-sm`]:Zr==="small",[`${sn}-affix-wrapper-lg`]:Zr==="large",[`${sn}-affix-wrapper-rtl`]:kr==="rtl",[`${sn}-affix-wrapper-without-controls`]:nt===!1},Rt),wrapper:xe()({[`${di}-rtl`]:kr==="rtl"},Rt),groupWrapper:xe()({[`${sn}-group-wrapper-sm`]:Zr==="small",[`${sn}-group-wrapper-lg`]:Zr==="large",[`${sn}-group-wrapper-rtl`]:kr==="rtl",[`${sn}-group-wrapper-${Sn}`]:qt},(0,pr.Z)(`${sn}-group-wrapper`,ui,Wn),Rt)}},At));return Je(Ti)}),xo=Yi,Qr=tn=>s.createElement(Ot.ZP,{theme:{components:{InputNumber:{handleVisible:!0}}}},s.createElement(Yi,Object.assign({},tn)));xo._InternalPanelDoNotUseOrYouWillBeFired=Qr;var co=xo},58793:function(Hr,jt,F){"use strict";F.d(jt,{Z:function(){return yt}});var s=F(75271),tt=F(82187),q=F.n(tt),c=F(44885),xe=F(42684),Ge=F(78018),ze=F(93473),Pe=F(94773),ye=F(98446),te=F(98472),je=F(38437),Ee=F(95741),He=F(60824),Qe=F(7038),ot=F(23137),qe=F(81391),gt=F(43452);function xt(Pt){return!!(Pt.prefix||Pt.suffix||Pt.allowClear||Pt.showCount)}var Xe=function(Pt,Wt){var kt={};for(var Sr in Pt)Object.prototype.hasOwnProperty.call(Pt,Sr)&&Wt.indexOf(Sr)<0&&(kt[Sr]=Pt[Sr]);if(Pt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var cr=0,Sr=Object.getOwnPropertySymbols(Pt);cr<Sr.length;cr++)Wt.indexOf(Sr[cr])<0&&Object.prototype.propertyIsEnumerable.call(Pt,Sr[cr])&&(kt[Sr[cr]]=Pt[Sr[cr]]);return kt},yt=(0,s.forwardRef)((Pt,Wt)=>{const{prefixCls:kt,bordered:Sr=!0,status:cr,size:Xn,disabled:We,onBlur:Zt,onFocus:cn,suffix:Kt,allowClear:Fe,addonAfter:Ln,addonBefore:hn,className:On,style:ut,styles:Yt,rootClassName:bn,onChange:he,classNames:Jt,variant:wi}=Pt,ai=Xe(Pt,["prefixCls","bordered","status","size","disabled","onBlur","onFocus","suffix","allowClear","addonAfter","addonBefore","className","style","styles","rootClassName","onChange","classNames","variant"]),{getPrefixCls:$e,direction:An,allowClear:Ur,autoComplete:Kr,className:Rn,style:Wr,classNames:Ii,styles:pr}=(0,ye.dj)("input"),it=$e("input",kt),Ot=(0,s.useRef)(null),Bn=(0,je.Z)(it),[fn,gn,Er]=(0,gt.TI)(it,bn),[Vn]=(0,gt.ZP)(it,Bn),{compactSize:ri,compactItemClassnames:fi}=(0,ot.ri)(it,An),qr=(0,Ee.Z)(co=>{var tn;return(tn=Xn!=null?Xn:ri)!==null&&tn!==void 0?tn:co}),Jr=s.useContext(te.Z),wr=We!=null?We:Jr,{status:Yn,hasFeedback:yr,feedbackIcon:Pr}=(0,s.useContext)(He.aM),Ir=(0,Pe.F)(Yn,cr),Xr=xt(Pt)||!!yr,rr=(0,s.useRef)(Xr),gr=(0,qe.Z)(Ot,!0),ei=co=>{gr(),Zt==null||Zt(co)},Un=co=>{gr(),cn==null||cn(co)},si=co=>{gr(),he==null||he(co)},Si=(yr||Kt)&&s.createElement(s.Fragment,null,Kt,yr&&Pr),Yi=(0,ze.Z)(Fe!=null?Fe:Ur),[xo,Qr]=(0,Qe.Z)("input",wi,Sr);return fn(Vn(s.createElement(c.Z,Object.assign({ref:(0,xe.sQ)(Wt,Ot),prefixCls:it,autoComplete:Kr},ai,{disabled:wr,onBlur:ei,onFocus:Un,style:Object.assign(Object.assign({},Wr),ut),styles:Object.assign(Object.assign({},pr),Yt),suffix:Si,allowClear:Yi,className:q()(On,bn,Er,Bn,fi,Rn),onChange:si,addonBefore:hn&&s.createElement(Ge.Z,{form:!0,space:!0},hn),addonAfter:Ln&&s.createElement(Ge.Z,{form:!0,space:!0},Ln),classNames:Object.assign(Object.assign(Object.assign({},Jt),Ii),{input:q()({[`${it}-sm`]:qr==="small",[`${it}-lg`]:qr==="large",[`${it}-rtl`]:An==="rtl"},Jt==null?void 0:Jt.input,Ii.input,gn),variant:q()({[`${it}-${xo}`]:Qr},(0,Pe.Z)(it,Ir)),affixWrapper:q()({[`${it}-affix-wrapper-sm`]:qr==="small",[`${it}-affix-wrapper-lg`]:qr==="large",[`${it}-affix-wrapper-rtl`]:An==="rtl"},gn),wrapper:q()({[`${it}-group-rtl`]:An==="rtl"},gn),groupWrapper:q()({[`${it}-group-wrapper-sm`]:qr==="small",[`${it}-group-wrapper-lg`]:qr==="large",[`${it}-group-wrapper-rtl`]:An==="rtl",[`${it}-group-wrapper-${xo}`]:Qr},(0,Pe.Z)(`${it}-group-wrapper`,Ir,yr),gn)})}))))})},81391:function(Hr,jt,F){"use strict";F.d(jt,{Z:function(){return tt}});var s=F(75271);function tt(q,c){const xe=(0,s.useRef)([]),Ge=()=>{xe.current.push(setTimeout(()=>{var ze,Pe,ye,te;!((ze=q.current)===null||ze===void 0)&&ze.input&&((Pe=q.current)===null||Pe===void 0?void 0:Pe.input.getAttribute("type"))==="password"&&(!((ye=q.current)===null||ye===void 0)&&ye.input.hasAttribute("value"))&&((te=q.current)===null||te===void 0||te.input.removeAttribute("value"))}))};return(0,s.useEffect)(()=>(c&&Ge(),()=>xe.current.forEach(ze=>{ze&&clearTimeout(ze)})),[]),Ge}},43452:function(Hr,jt,F){"use strict";F.d(jt,{TI:function(){return Ut},ik:function(){return Ee},nz:function(){return Pe},s7:function(){return He},x0:function(){return je}});var s=F(55921),tt=F(34299),q=F(9288),c=F(84825),xe=F(83509),Ge=F(21571),ze=F(57616);const Pe=yt=>({"&::-moz-placeholder":{opacity:1},"&::placeholder":{color:yt,userSelect:"none"},"&:placeholder-shown":{textOverflow:"ellipsis"}}),ye=yt=>({borderColor:yt.activeBorderColor,boxShadow:yt.activeShadow,outline:0,backgroundColor:yt.activeBg}),te=yt=>{const{paddingBlockLG:Pt,lineHeightLG:Wt,borderRadiusLG:kt,paddingInlineLG:Sr}=yt;return{padding:`${(0,s.bf)(Pt)} ${(0,s.bf)(Sr)}`,fontSize:yt.inputFontSizeLG,lineHeight:Wt,borderRadius:kt}},je=yt=>({padding:`${(0,s.bf)(yt.paddingBlockSM)} ${(0,s.bf)(yt.paddingInlineSM)}`,fontSize:yt.inputFontSizeSM,borderRadius:yt.borderRadiusSM}),Ee=yt=>Object.assign(Object.assign({position:"relative",display:"inline-block",width:"100%",minWidth:0,padding:`${(0,s.bf)(yt.paddingBlock)} ${(0,s.bf)(yt.paddingInline)}`,color:yt.colorText,fontSize:yt.inputFontSize,lineHeight:yt.lineHeight,borderRadius:yt.borderRadius,transition:`all ${yt.motionDurationMid}`},Pe(yt.colorTextPlaceholder)),{"textarea&":{maxWidth:"100%",height:"auto",minHeight:yt.controlHeight,lineHeight:yt.lineHeight,verticalAlign:"bottom",transition:`all ${yt.motionDurationSlow}, height 0s`,resize:"vertical"},"&-lg":Object.assign({},te(yt)),"&-sm":Object.assign({},je(yt)),"&-rtl, &-textarea-rtl":{direction:"rtl"}}),He=yt=>{const{componentCls:Pt,antCls:Wt}=yt;return{position:"relative",display:"table",width:"100%",borderCollapse:"separate",borderSpacing:0,"&[class*='col-']":{paddingInlineEnd:yt.paddingXS,"&:last-child":{paddingInlineEnd:0}},[`&-lg ${Pt}, &-lg > ${Pt}-group-addon`]:Object.assign({},te(yt)),[`&-sm ${Pt}, &-sm > ${Pt}-group-addon`]:Object.assign({},je(yt)),[`&-lg ${Wt}-select-single ${Wt}-select-selector`]:{height:yt.controlHeightLG},[`&-sm ${Wt}-select-single ${Wt}-select-selector`]:{height:yt.controlHeightSM},[`> ${Pt}`]:{display:"table-cell","&:not(:first-child):not(:last-child)":{borderRadius:0}},[`${Pt}-group`]:{"&-addon, &-wrap":{display:"table-cell",width:1,whiteSpace:"nowrap",verticalAlign:"middle","&:not(:first-child):not(:last-child)":{borderRadius:0}},"&-wrap > *":{display:"block !important"},"&-addon":{position:"relative",padding:`0 ${(0,s.bf)(yt.paddingInline)}`,color:yt.colorText,fontWeight:"normal",fontSize:yt.inputFontSize,textAlign:"center",borderRadius:yt.borderRadius,transition:`all ${yt.motionDurationSlow}`,lineHeight:1,[`${Wt}-select`]:{margin:`${(0,s.bf)(yt.calc(yt.paddingBlock).add(1).mul(-1).equal())} ${(0,s.bf)(yt.calc(yt.paddingInline).mul(-1).equal())}`,[`&${Wt}-select-single:not(${Wt}-select-customize-input):not(${Wt}-pagination-size-changer)`]:{[`${Wt}-select-selector`]:{backgroundColor:"inherit",border:`${(0,s.bf)(yt.lineWidth)} ${yt.lineType} transparent`,boxShadow:"none"}}},[`${Wt}-cascader-picker`]:{margin:`-9px ${(0,s.bf)(yt.calc(yt.paddingInline).mul(-1).equal())}`,backgroundColor:"transparent",[`${Wt}-cascader-input`]:{textAlign:"start",border:0,boxShadow:"none"}}}},[Pt]:{width:"100%",marginBottom:0,textAlign:"inherit","&:focus":{zIndex:1,borderInlineEndWidth:1},"&:hover":{zIndex:1,borderInlineEndWidth:1,[`${Pt}-search-with-button &`]:{zIndex:0}}},[`> ${Pt}:first-child, ${Pt}-group-addon:first-child`]:{borderStartEndRadius:0,borderEndEndRadius:0,[`${Wt}-select ${Wt}-select-selector`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`> ${Pt}-affix-wrapper`]:{[`&:not(:first-child) ${Pt}`]:{borderStartStartRadius:0,borderEndStartRadius:0},[`&:not(:last-child) ${Pt}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`> ${Pt}:last-child, ${Pt}-group-addon:last-child`]:{borderStartStartRadius:0,borderEndStartRadius:0,[`${Wt}-select ${Wt}-select-selector`]:{borderStartStartRadius:0,borderEndStartRadius:0}},[`${Pt}-affix-wrapper`]:{"&:not(:last-child)":{borderStartEndRadius:0,borderEndEndRadius:0,[`${Pt}-search &`]:{borderStartStartRadius:yt.borderRadius,borderEndStartRadius:yt.borderRadius}},[`&:not(:first-child), ${Pt}-search &:not(:first-child)`]:{borderStartStartRadius:0,borderEndStartRadius:0}},[`&${Pt}-group-compact`]:Object.assign(Object.assign({display:"block"},(0,tt.dF)()),{[`${Pt}-group-addon, ${Pt}-group-wrap, > ${Pt}`]:{"&:not(:first-child):not(:last-child)":{borderInlineEndWidth:yt.lineWidth,"&:hover, &:focus":{zIndex:1}}},"& > *":{display:"inline-flex",float:"none",verticalAlign:"top",borderRadius:0},[`
        & > ${Pt}-affix-wrapper,
        & > ${Pt}-number-affix-wrapper,
        & > ${Wt}-picker-range
      `]:{display:"inline-flex"},"& > *:not(:last-child)":{marginInlineEnd:yt.calc(yt.lineWidth).mul(-1).equal(),borderInlineEndWidth:yt.lineWidth},[Pt]:{float:"none"},[`& > ${Wt}-select > ${Wt}-select-selector,
      & > ${Wt}-select-auto-complete ${Pt},
      & > ${Wt}-cascader-picker ${Pt},
      & > ${Pt}-group-wrapper ${Pt}`]:{borderInlineEndWidth:yt.lineWidth,borderRadius:0,"&:hover, &:focus":{zIndex:1}},[`& > ${Wt}-select-focused`]:{zIndex:1},[`& > ${Wt}-select > ${Wt}-select-arrow`]:{zIndex:1},[`& > *:first-child,
      & > ${Wt}-select:first-child > ${Wt}-select-selector,
      & > ${Wt}-select-auto-complete:first-child ${Pt},
      & > ${Wt}-cascader-picker:first-child ${Pt}`]:{borderStartStartRadius:yt.borderRadius,borderEndStartRadius:yt.borderRadius},[`& > *:last-child,
      & > ${Wt}-select:last-child > ${Wt}-select-selector,
      & > ${Wt}-cascader-picker:last-child ${Pt},
      & > ${Wt}-cascader-picker-focused:last-child ${Pt}`]:{borderInlineEndWidth:yt.lineWidth,borderStartEndRadius:yt.borderRadius,borderEndEndRadius:yt.borderRadius},[`& > ${Wt}-select-auto-complete ${Pt}`]:{verticalAlign:"top"},[`${Pt}-group-wrapper + ${Pt}-group-wrapper`]:{marginInlineStart:yt.calc(yt.lineWidth).mul(-1).equal(),[`${Pt}-affix-wrapper`]:{borderRadius:0}},[`${Pt}-group-wrapper:not(:last-child)`]:{[`&${Pt}-search > ${Pt}-group`]:{[`& > ${Pt}-group-addon > ${Pt}-search-button`]:{borderRadius:0},[`& > ${Pt}`]:{borderStartStartRadius:yt.borderRadius,borderStartEndRadius:0,borderEndEndRadius:0,borderEndStartRadius:yt.borderRadius}}}})}},Qe=yt=>{const{componentCls:Pt,controlHeightSM:Wt,lineWidth:kt,calc:Sr}=yt,Xn=Sr(Wt).sub(Sr(kt).mul(2)).sub(16).div(2).equal();return{[Pt]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(0,tt.Wf)(yt)),Ee(yt)),(0,ze.qG)(yt)),(0,ze.H8)(yt)),(0,ze.Mu)(yt)),(0,ze.vc)(yt)),{'&[type="color"]':{height:yt.controlHeight,[`&${Pt}-lg`]:{height:yt.controlHeightLG},[`&${Pt}-sm`]:{height:Wt,paddingTop:Xn,paddingBottom:Xn}},'&[type="search"]::-webkit-search-cancel-button, &[type="search"]::-webkit-search-decoration':{"-webkit-appearance":"none"}})}},ot=yt=>{const{componentCls:Pt}=yt;return{[`${Pt}-clear-icon`]:{margin:0,padding:0,lineHeight:0,color:yt.colorTextQuaternary,fontSize:yt.fontSizeIcon,verticalAlign:-1,cursor:"pointer",transition:`color ${yt.motionDurationSlow}`,border:"none",outline:"none",backgroundColor:"transparent","&:hover":{color:yt.colorTextTertiary},"&:active":{color:yt.colorText},"&-hidden":{visibility:"hidden"},"&-has-suffix":{margin:`0 ${(0,s.bf)(yt.inputAffixPadding)}`}}}},qe=yt=>{const{componentCls:Pt,inputAffixPadding:Wt,colorTextDescription:kt,motionDurationSlow:Sr,colorIcon:cr,colorIconHover:Xn,iconCls:We}=yt,Zt=`${Pt}-affix-wrapper`,cn=`${Pt}-affix-wrapper-disabled`;return{[Zt]:Object.assign(Object.assign(Object.assign(Object.assign({},Ee(yt)),{display:"inline-flex",[`&:not(${Pt}-disabled):hover`]:{zIndex:1,[`${Pt}-search-with-button &`]:{zIndex:0}},"&-focused, &:focus":{zIndex:1},[`> input${Pt}`]:{padding:0},[`> input${Pt}, > textarea${Pt}`]:{fontSize:"inherit",border:"none",borderRadius:0,outline:"none",background:"transparent",color:"inherit","&::-ms-reveal":{display:"none"},"&:focus":{boxShadow:"none !important"}},"&::before":{display:"inline-block",width:0,visibility:"hidden",content:'"\\a0"'},[Pt]:{"&-prefix, &-suffix":{display:"flex",flex:"none",alignItems:"center","> *:not(:last-child)":{marginInlineEnd:yt.paddingXS}},"&-show-count-suffix":{color:kt},"&-show-count-has-suffix":{marginInlineEnd:yt.paddingXXS},"&-prefix":{marginInlineEnd:Wt},"&-suffix":{marginInlineStart:Wt}}}),ot(yt)),{[`${We}${Pt}-password-icon`]:{color:cr,cursor:"pointer",transition:`all ${Sr}`,"&:hover":{color:Xn}}}),[`${Pt}-underlined`]:{borderRadius:0},[cn]:{[`${We}${Pt}-password-icon`]:{color:cr,cursor:"not-allowed","&:hover":{color:cr}}}}},gt=yt=>{const{componentCls:Pt,borderRadiusLG:Wt,borderRadiusSM:kt}=yt;return{[`${Pt}-group`]:Object.assign(Object.assign(Object.assign({},(0,tt.Wf)(yt)),He(yt)),{"&-rtl":{direction:"rtl"},"&-wrapper":Object.assign(Object.assign(Object.assign({display:"inline-block",width:"100%",textAlign:"start",verticalAlign:"top","&-rtl":{direction:"rtl"},"&-lg":{[`${Pt}-group-addon`]:{borderRadius:Wt,fontSize:yt.inputFontSizeLG}},"&-sm":{[`${Pt}-group-addon`]:{borderRadius:kt}}},(0,ze.ir)(yt)),(0,ze.S5)(yt)),{[`&:not(${Pt}-compact-first-item):not(${Pt}-compact-last-item)${Pt}-compact-item`]:{[`${Pt}, ${Pt}-group-addon`]:{borderRadius:0}},[`&:not(${Pt}-compact-last-item)${Pt}-compact-first-item`]:{[`${Pt}, ${Pt}-group-addon`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`&:not(${Pt}-compact-first-item)${Pt}-compact-last-item`]:{[`${Pt}, ${Pt}-group-addon`]:{borderStartStartRadius:0,borderEndStartRadius:0}},[`&:not(${Pt}-compact-last-item)${Pt}-compact-item`]:{[`${Pt}-affix-wrapper`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`&:not(${Pt}-compact-first-item)${Pt}-compact-item`]:{[`${Pt}-affix-wrapper`]:{borderStartStartRadius:0,borderEndStartRadius:0}}})})}},xt=yt=>{const{componentCls:Pt,antCls:Wt}=yt,kt=`${Pt}-search`;return{[kt]:{[Pt]:{"&:hover, &:focus":{[`+ ${Pt}-group-addon ${kt}-button:not(${Wt}-btn-primary)`]:{borderInlineStartColor:yt.colorPrimaryHover}}},[`${Pt}-affix-wrapper`]:{height:yt.controlHeight,borderRadius:0},[`${Pt}-lg`]:{lineHeight:yt.calc(yt.lineHeightLG).sub(2e-4).equal()},[`> ${Pt}-group`]:{[`> ${Pt}-group-addon:last-child`]:{insetInlineStart:-1,padding:0,border:0,[`${kt}-button`]:{marginInlineEnd:-1,borderStartStartRadius:0,borderEndStartRadius:0,boxShadow:"none"},[`${kt}-button:not(${Wt}-btn-primary)`]:{color:yt.colorTextDescription,"&:hover":{color:yt.colorPrimaryHover},"&:active":{color:yt.colorPrimaryActive},[`&${Wt}-btn-loading::before`]:{insetInlineStart:0,insetInlineEnd:0,insetBlockStart:0,insetBlockEnd:0}}}},[`${kt}-button`]:{height:yt.controlHeight,"&:hover, &:focus":{zIndex:1}},"&-large":{[`${Pt}-affix-wrapper, ${kt}-button`]:{height:yt.controlHeightLG}},"&-small":{[`${Pt}-affix-wrapper, ${kt}-button`]:{height:yt.controlHeightSM}},"&-rtl":{direction:"rtl"},[`&${Pt}-compact-item`]:{[`&:not(${Pt}-compact-last-item)`]:{[`${Pt}-group-addon`]:{[`${Pt}-search-button`]:{marginInlineEnd:yt.calc(yt.lineWidth).mul(-1).equal(),borderRadius:0}}},[`&:not(${Pt}-compact-first-item)`]:{[`${Pt},${Pt}-affix-wrapper`]:{borderRadius:0}},[`> ${Pt}-group-addon ${Pt}-search-button,
        > ${Pt},
        ${Pt}-affix-wrapper`]:{"&:hover, &:focus, &:active":{zIndex:2}},[`> ${Pt}-affix-wrapper-focused`]:{zIndex:2}}}}},Xe=yt=>{const{componentCls:Pt}=yt;return{[`${Pt}-out-of-range`]:{[`&, & input, & textarea, ${Pt}-show-count-suffix, ${Pt}-data-count`]:{color:yt.colorError}}}},Ut=(0,c.I$)(["Input","Shared"],yt=>{const Pt=(0,xe.IX)(yt,(0,Ge.e)(yt));return[Qe(Pt),qe(Pt)]},Ge.T,{resetFont:!1});jt.ZP=(0,c.I$)(["Input","Component"],yt=>{const Pt=(0,xe.IX)(yt,(0,Ge.e)(yt));return[gt(Pt),xt(Pt),Xe(Pt),(0,q.c)(Pt)]},Ge.T,{resetFont:!1})},21571:function(Hr,jt,F){"use strict";F.d(jt,{T:function(){return q},e:function(){return tt}});var s=F(83509);function tt(c){return(0,s.IX)(c,{inputAffixPadding:c.paddingXXS})}const q=c=>{const{controlHeight:xe,fontSize:Ge,lineHeight:ze,lineWidth:Pe,controlHeightSM:ye,controlHeightLG:te,fontSizeLG:je,lineHeightLG:Ee,paddingSM:He,controlPaddingHorizontalSM:Qe,controlPaddingHorizontal:ot,colorFillAlter:qe,colorPrimaryHover:gt,colorPrimary:xt,controlOutlineWidth:Xe,controlOutline:Ut,colorErrorOutline:yt,colorWarningOutline:Pt,colorBgContainer:Wt,inputFontSize:kt,inputFontSizeLG:Sr,inputFontSizeSM:cr}=c,Xn=kt||Ge,We=cr||Xn,Zt=Sr||je,cn=Math.round((xe-Xn*ze)/2*10)/10-Pe,Kt=Math.round((ye-We*ze)/2*10)/10-Pe,Fe=Math.ceil((te-Zt*Ee)/2*10)/10-Pe;return{paddingBlock:Math.max(cn,0),paddingBlockSM:Math.max(Kt,0),paddingBlockLG:Math.max(Fe,0),paddingInline:He-Pe,paddingInlineSM:Qe-Pe,paddingInlineLG:ot-Pe,addonBg:qe,activeBorderColor:xt,hoverBorderColor:gt,activeShadow:`0 0 0 ${Xe}px ${Ut}`,errorActiveShadow:`0 0 0 ${Xe}px ${yt}`,warningActiveShadow:`0 0 0 ${Xe}px ${Pt}`,hoverBg:Wt,activeBg:Wt,inputFontSize:Xn,inputFontSizeLG:Zt,inputFontSizeSM:We}}},57616:function(Hr,jt,F){"use strict";F.d(jt,{$U:function(){return xe},H8:function(){return He},Mu:function(){return te},S5:function(){return ot},Xy:function(){return c},ir:function(){return ye},qG:function(){return ze},vc:function(){return xt}});var s=F(55921),tt=F(83509);const q=Xe=>({borderColor:Xe.hoverBorderColor,backgroundColor:Xe.hoverBg}),c=Xe=>({color:Xe.colorTextDisabled,backgroundColor:Xe.colorBgContainerDisabled,borderColor:Xe.colorBorder,boxShadow:"none",cursor:"not-allowed",opacity:1,"input[disabled], textarea[disabled]":{cursor:"not-allowed"},"&:hover:not([disabled])":Object.assign({},q((0,tt.IX)(Xe,{hoverBorderColor:Xe.colorBorder,hoverBg:Xe.colorBgContainerDisabled})))}),xe=(Xe,Ut)=>({background:Xe.colorBgContainer,borderWidth:Xe.lineWidth,borderStyle:Xe.lineType,borderColor:Ut.borderColor,"&:hover":{borderColor:Ut.hoverBorderColor,backgroundColor:Xe.hoverBg},"&:focus, &:focus-within":{borderColor:Ut.activeBorderColor,boxShadow:Ut.activeShadow,outline:0,backgroundColor:Xe.activeBg}}),Ge=(Xe,Ut)=>({[`&${Xe.componentCls}-status-${Ut.status}:not(${Xe.componentCls}-disabled)`]:Object.assign(Object.assign({},xe(Xe,Ut)),{[`${Xe.componentCls}-prefix, ${Xe.componentCls}-suffix`]:{color:Ut.affixColor}}),[`&${Xe.componentCls}-status-${Ut.status}${Xe.componentCls}-disabled`]:{borderColor:Ut.borderColor}}),ze=(Xe,Ut)=>({"&-outlined":Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},xe(Xe,{borderColor:Xe.colorBorder,hoverBorderColor:Xe.hoverBorderColor,activeBorderColor:Xe.activeBorderColor,activeShadow:Xe.activeShadow})),{[`&${Xe.componentCls}-disabled, &[disabled]`]:Object.assign({},c(Xe))}),Ge(Xe,{status:"error",borderColor:Xe.colorError,hoverBorderColor:Xe.colorErrorBorderHover,activeBorderColor:Xe.colorError,activeShadow:Xe.errorActiveShadow,affixColor:Xe.colorError})),Ge(Xe,{status:"warning",borderColor:Xe.colorWarning,hoverBorderColor:Xe.colorWarningBorderHover,activeBorderColor:Xe.colorWarning,activeShadow:Xe.warningActiveShadow,affixColor:Xe.colorWarning})),Ut)}),Pe=(Xe,Ut)=>({[`&${Xe.componentCls}-group-wrapper-status-${Ut.status}`]:{[`${Xe.componentCls}-group-addon`]:{borderColor:Ut.addonBorderColor,color:Ut.addonColor}}}),ye=Xe=>({"&-outlined":Object.assign(Object.assign(Object.assign({[`${Xe.componentCls}-group`]:{"&-addon":{background:Xe.addonBg,border:`${(0,s.bf)(Xe.lineWidth)} ${Xe.lineType} ${Xe.colorBorder}`},"&-addon:first-child":{borderInlineEnd:0},"&-addon:last-child":{borderInlineStart:0}}},Pe(Xe,{status:"error",addonBorderColor:Xe.colorError,addonColor:Xe.colorErrorText})),Pe(Xe,{status:"warning",addonBorderColor:Xe.colorWarning,addonColor:Xe.colorWarningText})),{[`&${Xe.componentCls}-group-wrapper-disabled`]:{[`${Xe.componentCls}-group-addon`]:Object.assign({},c(Xe))}})}),te=(Xe,Ut)=>{const{componentCls:yt}=Xe;return{"&-borderless":Object.assign({background:"transparent",border:"none","&:focus, &:focus-within":{outline:"none"},[`&${yt}-disabled, &[disabled]`]:{color:Xe.colorTextDisabled,cursor:"not-allowed"},[`&${yt}-status-error`]:{"&, & input, & textarea":{color:Xe.colorError}},[`&${yt}-status-warning`]:{"&, & input, & textarea":{color:Xe.colorWarning}}},Ut)}},je=(Xe,Ut)=>({background:Ut.bg,borderWidth:Xe.lineWidth,borderStyle:Xe.lineType,borderColor:"transparent","input&, & input, textarea&, & textarea":{color:Ut==null?void 0:Ut.inputColor},"&:hover":{background:Ut.hoverBg},"&:focus, &:focus-within":{outline:0,borderColor:Ut.activeBorderColor,backgroundColor:Xe.activeBg}}),Ee=(Xe,Ut)=>({[`&${Xe.componentCls}-status-${Ut.status}:not(${Xe.componentCls}-disabled)`]:Object.assign(Object.assign({},je(Xe,Ut)),{[`${Xe.componentCls}-prefix, ${Xe.componentCls}-suffix`]:{color:Ut.affixColor}})}),He=(Xe,Ut)=>({"&-filled":Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},je(Xe,{bg:Xe.colorFillTertiary,hoverBg:Xe.colorFillSecondary,activeBorderColor:Xe.activeBorderColor})),{[`&${Xe.componentCls}-disabled, &[disabled]`]:Object.assign({},c(Xe))}),Ee(Xe,{status:"error",bg:Xe.colorErrorBg,hoverBg:Xe.colorErrorBgHover,activeBorderColor:Xe.colorError,inputColor:Xe.colorErrorText,affixColor:Xe.colorError})),Ee(Xe,{status:"warning",bg:Xe.colorWarningBg,hoverBg:Xe.colorWarningBgHover,activeBorderColor:Xe.colorWarning,inputColor:Xe.colorWarningText,affixColor:Xe.colorWarning})),Ut)}),Qe=(Xe,Ut)=>({[`&${Xe.componentCls}-group-wrapper-status-${Ut.status}`]:{[`${Xe.componentCls}-group-addon`]:{background:Ut.addonBg,color:Ut.addonColor}}}),ot=Xe=>({"&-filled":Object.assign(Object.assign(Object.assign({[`${Xe.componentCls}-group`]:{"&-addon":{background:Xe.colorFillTertiary},[`${Xe.componentCls}-filled:not(:focus):not(:focus-within)`]:{"&:not(:first-child)":{borderInlineStart:`${(0,s.bf)(Xe.lineWidth)} ${Xe.lineType} ${Xe.colorSplit}`},"&:not(:last-child)":{borderInlineEnd:`${(0,s.bf)(Xe.lineWidth)} ${Xe.lineType} ${Xe.colorSplit}`}}}},Qe(Xe,{status:"error",addonBg:Xe.colorErrorBg,addonColor:Xe.colorErrorText})),Qe(Xe,{status:"warning",addonBg:Xe.colorWarningBg,addonColor:Xe.colorWarningText})),{[`&${Xe.componentCls}-group-wrapper-disabled`]:{[`${Xe.componentCls}-group`]:{"&-addon":{background:Xe.colorFillTertiary,color:Xe.colorTextDisabled},"&-addon:first-child":{borderInlineStart:`${(0,s.bf)(Xe.lineWidth)} ${Xe.lineType} ${Xe.colorBorder}`,borderTop:`${(0,s.bf)(Xe.lineWidth)} ${Xe.lineType} ${Xe.colorBorder}`,borderBottom:`${(0,s.bf)(Xe.lineWidth)} ${Xe.lineType} ${Xe.colorBorder}`},"&-addon:last-child":{borderInlineEnd:`${(0,s.bf)(Xe.lineWidth)} ${Xe.lineType} ${Xe.colorBorder}`,borderTop:`${(0,s.bf)(Xe.lineWidth)} ${Xe.lineType} ${Xe.colorBorder}`,borderBottom:`${(0,s.bf)(Xe.lineWidth)} ${Xe.lineType} ${Xe.colorBorder}`}}}})}),qe=(Xe,Ut)=>({background:Xe.colorBgContainer,borderWidth:`${(0,s.bf)(Xe.lineWidth)} 0`,borderStyle:`${Xe.lineType} none`,borderColor:`transparent transparent ${Ut.borderColor} transparent`,borderRadius:0,"&:hover":{borderColor:`transparent transparent ${Ut.borderColor} transparent`,backgroundColor:Xe.hoverBg},"&:focus, &:focus-within":{borderColor:`transparent transparent ${Ut.borderColor} transparent`,outline:0,backgroundColor:Xe.activeBg}}),gt=(Xe,Ut)=>({[`&${Xe.componentCls}-status-${Ut.status}:not(${Xe.componentCls}-disabled)`]:Object.assign(Object.assign({},qe(Xe,Ut)),{[`${Xe.componentCls}-prefix, ${Xe.componentCls}-suffix`]:{color:Ut.affixColor}}),[`&${Xe.componentCls}-status-${Ut.status}${Xe.componentCls}-disabled`]:{borderColor:Ut.borderColor}}),xt=(Xe,Ut)=>({"&-underlined":Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},qe(Xe,{borderColor:Xe.colorBorder,hoverBorderColor:Xe.hoverBorderColor,activeBorderColor:Xe.activeBorderColor,activeShadow:Xe.activeShadow})),{[`&${Xe.componentCls}-disabled, &[disabled]`]:{color:Xe.colorTextDisabled,boxShadow:"none",cursor:"not-allowed","&:hover":{borderColor:Xe.colorBorder}},"input[disabled], textarea[disabled]":{cursor:"not-allowed"}}),gt(Xe,{status:"error",borderColor:Xe.colorError,hoverBorderColor:Xe.colorErrorBorderHover,activeBorderColor:Xe.colorError,activeShadow:Xe.errorActiveShadow,affixColor:Xe.colorError})),gt(Xe,{status:"warning",borderColor:Xe.colorWarning,hoverBorderColor:Xe.colorWarningBorderHover,activeBorderColor:Xe.colorWarning,activeShadow:Xe.warningActiveShadow,affixColor:Xe.colorWarning})),Ut)})},59379:function(Hr,jt,F){"use strict";var s=F(75271);const tt=(0,s.createContext)(void 0);jt.Z=tt},42474:function(Hr,jt,F){"use strict";var s=F(18507),tt=F(40859),q=F(58492),c=F(85985);const xe="${label} is not a valid ${type}",Ge={locale:"en",Pagination:s.Z,DatePicker:q.Z,TimePicker:c.Z,Calendar:tt.Z,global:{placeholder:"Please select"},Table:{filterTitle:"Filter menu",filterConfirm:"OK",filterReset:"Reset",filterEmptyText:"No filters",filterCheckAll:"Select all items",filterSearchPlaceholder:"Search in filters",emptyText:"No data",selectAll:"Select current page",selectInvert:"Invert current page",selectNone:"Clear all data",selectionAll:"Select all data",sortTitle:"Sort",expand:"Expand row",collapse:"Collapse row",triggerDesc:"Click to sort descending",triggerAsc:"Click to sort ascending",cancelSort:"Click to cancel sorting"},Tour:{Next:"Next",Previous:"Previous",Finish:"Finish"},Modal:{okText:"OK",cancelText:"Cancel",justOkText:"OK"},Popconfirm:{okText:"OK",cancelText:"Cancel"},Transfer:{titles:["",""],searchPlaceholder:"Search here",itemUnit:"item",itemsUnit:"items",remove:"Remove",selectCurrent:"Select current page",removeCurrent:"Remove current page",selectAll:"Select all data",deselectAll:"Deselect all data",removeAll:"Remove all data",selectInvert:"Invert current page"},Upload:{uploading:"Uploading...",removeFile:"Remove file",uploadError:"Upload error",previewFile:"Preview file",downloadFile:"Download file"},Empty:{description:"No data"},Icon:{icon:"icon"},Text:{edit:"Edit",copy:"Copy",copied:"Copied",expand:"Expand",collapse:"Collapse"},Form:{optional:"(optional)",defaultValidateMessages:{default:"Field validation error for ${label}",required:"Please enter ${label}",enum:"${label} must be one of [${enum}]",whitespace:"${label} cannot be a blank character",date:{format:"${label} date format is invalid",parse:"${label} cannot be converted to a date",invalid:"${label} is an invalid date"},types:{string:xe,method:xe,array:xe,object:xe,number:xe,date:xe,boolean:xe,integer:xe,float:xe,regexp:xe,email:xe,url:xe,hex:xe},string:{len:"${label} must be ${len} characters",min:"${label} must be at least ${min} characters",max:"${label} must be up to ${max} characters",range:"${label} must be between ${min}-${max} characters"},number:{len:"${label} must be equal to ${len}",min:"${label} must be minimum ${min}",max:"${label} must be maximum ${max}",range:"${label} must be between ${min}-${max}"},array:{len:"Must be ${len} ${label}",min:"At least ${min} ${label}",max:"At most ${max} ${label}",range:"The amount of ${label} must be between ${min}-${max}"},pattern:{mismatch:"${label} does not match the pattern ${pattern}"}}},Image:{preview:"Preview"},QRCode:{expired:"QR code expired",refresh:"Refresh",scanned:"Scanned"},ColorPicker:{presetEmpty:"Empty",transparent:"Transparent",singleColor:"Single",gradientColor:"Gradient"}};jt.Z=Ge},77648:function(Hr,jt,F){"use strict";var s=F(75271),tt=F(59379),q=F(42474);const c=(xe,Ge)=>{const ze=s.useContext(tt.Z),Pe=s.useMemo(()=>{var te;const je=Ge||q.Z[xe],Ee=(te=ze==null?void 0:ze[xe])!==null&&te!==void 0?te:{};return Object.assign(Object.assign({},typeof je=="function"?je():je),Ee||{})},[xe,Ge,ze]),ye=s.useMemo(()=>{const te=ze==null?void 0:ze.locale;return ze!=null&&ze.exist&&!te?q.Z.locale:te},[ze]);return[Pe,ye]};jt.Z=c},3786:function(Hr,jt,F){"use strict";F.d(jt,{A:function(){return Ge},f:function(){return xe}});var s=F(42474);let tt=Object.assign({},s.Z.Modal),q=[];const c=()=>q.reduce((ze,Pe)=>Object.assign(Object.assign({},ze),Pe),s.Z.Modal);function xe(ze){if(ze){const Pe=Object.assign({},ze);return q.push(Pe),tt=c(),()=>{q=q.filter(ye=>ye!==Pe),tt=c()}}tt=Object.assign({},s.Z.Modal)}function Ge(){return tt}},97294:function(Hr,jt,F){"use strict";F.d(jt,{aV:function(){return ye},t5:function(){return te}});var s=F(75271),tt=F(82187),q=F.n(tt),c=F(75219),xe=F(17522),Ge=F(98446),ze=F(51759),Pe=function(Ee,He){var Qe={};for(var ot in Ee)Object.prototype.hasOwnProperty.call(Ee,ot)&&He.indexOf(ot)<0&&(Qe[ot]=Ee[ot]);if(Ee!=null&&typeof Object.getOwnPropertySymbols=="function")for(var qe=0,ot=Object.getOwnPropertySymbols(Ee);qe<ot.length;qe++)He.indexOf(ot[qe])<0&&Object.prototype.propertyIsEnumerable.call(Ee,ot[qe])&&(Qe[ot[qe]]=Ee[ot[qe]]);return Qe};const ye=Ee=>{let{title:He,content:Qe,prefixCls:ot}=Ee;return!He&&!Qe?null:s.createElement(s.Fragment,null,He&&s.createElement("div",{className:`${ot}-title`},He),Qe&&s.createElement("div",{className:`${ot}-inner-content`},Qe))},te=Ee=>{const{hashId:He,prefixCls:Qe,className:ot,style:qe,placement:gt="top",title:xt,content:Xe,children:Ut}=Ee,yt=(0,xe.Z)(xt),Pt=(0,xe.Z)(Xe),Wt=q()(He,Qe,`${Qe}-pure`,`${Qe}-placement-${gt}`,ot);return s.createElement("div",{className:Wt,style:qe},s.createElement("div",{className:`${Qe}-arrow`}),s.createElement(c.G,Object.assign({},Ee,{className:He,prefixCls:Qe}),Ut||s.createElement(ye,{prefixCls:Qe,title:yt,content:Pt})))},je=Ee=>{const{prefixCls:He,className:Qe}=Ee,ot=Pe(Ee,["prefixCls","className"]),{getPrefixCls:qe}=s.useContext(Ge.E_),gt=qe("popover",He),[xt,Xe,Ut]=(0,ze.Z)(gt);return xt(s.createElement(te,Object.assign({},ot,{prefixCls:gt,hashId:Xe,className:q()(Qe,Ut)})))};jt.ZP=je},60916:function(Hr,jt,F){"use strict";var s=F(75271),tt=F(82187),q=F.n(tt),c=F(93954),xe=F(14583),Ge=F(17522),ze=F(13635),Pe=F(26021),ye=F(9202),te=F(97294),je=F(98446),Ee=F(51759),He=function(qe,gt){var xt={};for(var Xe in qe)Object.prototype.hasOwnProperty.call(qe,Xe)&&gt.indexOf(Xe)<0&&(xt[Xe]=qe[Xe]);if(qe!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Ut=0,Xe=Object.getOwnPropertySymbols(qe);Ut<Xe.length;Ut++)gt.indexOf(Xe[Ut])<0&&Object.prototype.propertyIsEnumerable.call(qe,Xe[Ut])&&(xt[Xe[Ut]]=qe[Xe[Ut]]);return xt};const ot=s.forwardRef((qe,gt)=>{var xt,Xe;const{prefixCls:Ut,title:yt,content:Pt,overlayClassName:Wt,placement:kt="top",trigger:Sr="hover",children:cr,mouseEnterDelay:Xn=.1,mouseLeaveDelay:We=.1,onOpenChange:Zt,overlayStyle:cn={},styles:Kt,classNames:Fe}=qe,Ln=He(qe,["prefixCls","title","content","overlayClassName","placement","trigger","children","mouseEnterDelay","mouseLeaveDelay","onOpenChange","overlayStyle","styles","classNames"]),{getPrefixCls:hn,className:On,style:ut,classNames:Yt,styles:bn}=(0,je.dj)("popover"),he=hn("popover",Ut),[Jt,wi,ai]=(0,Ee.Z)(he),$e=hn(),An=q()(Wt,wi,ai,On,Yt.root,Fe==null?void 0:Fe.root),Ur=q()(Yt.body,Fe==null?void 0:Fe.body),[Kr,Rn]=(0,c.Z)(!1,{value:(xt=qe.open)!==null&&xt!==void 0?xt:qe.visible,defaultValue:(Xe=qe.defaultOpen)!==null&&Xe!==void 0?Xe:qe.defaultVisible}),Wr=(Bn,fn)=>{Rn(Bn,!0),Zt==null||Zt(Bn,fn)},Ii=Bn=>{Bn.keyCode===xe.Z.ESC&&Wr(!1,Bn)},pr=Bn=>{Wr(Bn)},it=(0,Ge.Z)(yt),Ot=(0,Ge.Z)(Pt);return Jt(s.createElement(ye.Z,Object.assign({placement:kt,trigger:Sr,mouseEnterDelay:Xn,mouseLeaveDelay:We},Ln,{prefixCls:he,classNames:{root:An,body:Ur},styles:{root:Object.assign(Object.assign(Object.assign(Object.assign({},bn.root),ut),cn),Kt==null?void 0:Kt.root),body:Object.assign(Object.assign({},bn.body),Kt==null?void 0:Kt.body)},ref:gt,open:Kr,onOpenChange:pr,overlay:it||Ot?s.createElement(te.aV,{prefixCls:he,title:it,content:Ot}):null,transitionName:(0,ze.m)($e,"zoom-big",Ln.transitionName),"data-popover-inject":!0}),(0,Pe.Tm)(cr,{onKeyDown:Bn=>{var fn,gn;s.isValidElement(cr)&&((gn=cr==null?void 0:(fn=cr.props).onKeyDown)===null||gn===void 0||gn.call(fn,Bn)),Ii(Bn)}})))});ot._InternalPanelDoNotUseOrYouWillBeFired=te.ZP,jt.Z=ot},51759:function(Hr,jt,F){"use strict";var s=F(34299),tt=F(3153),q=F(18533),c=F(2276),xe=F(98990),Ge=F(84825),ze=F(83509);const Pe=je=>{const{componentCls:Ee,popoverColor:He,titleMinWidth:Qe,fontWeightStrong:ot,innerPadding:qe,boxShadowSecondary:gt,colorTextHeading:xt,borderRadiusLG:Xe,zIndexPopup:Ut,titleMarginBottom:yt,colorBgElevated:Pt,popoverBg:Wt,titleBorderBottom:kt,innerContentPadding:Sr,titlePadding:cr}=je;return[{[Ee]:Object.assign(Object.assign({},(0,s.Wf)(je)),{position:"absolute",top:0,left:{_skip_check_:!0,value:0},zIndex:Ut,fontWeight:"normal",whiteSpace:"normal",textAlign:"start",cursor:"auto",userSelect:"text","--valid-offset-x":"var(--arrow-offset-horizontal, var(--arrow-x))",transformOrigin:["var(--valid-offset-x, 50%)","var(--arrow-y, 50%)"].join(" "),"--antd-arrow-background-color":Pt,width:"max-content",maxWidth:"100vw","&-rtl":{direction:"rtl"},"&-hidden":{display:"none"},[`${Ee}-content`]:{position:"relative"},[`${Ee}-inner`]:{backgroundColor:Wt,backgroundClip:"padding-box",borderRadius:Xe,boxShadow:gt,padding:qe},[`${Ee}-title`]:{minWidth:Qe,marginBottom:yt,color:xt,fontWeight:ot,borderBottom:kt,padding:cr},[`${Ee}-inner-content`]:{color:He,padding:Sr}})},(0,q.ZP)(je,"var(--antd-arrow-background-color)"),{[`${Ee}-pure`]:{position:"relative",maxWidth:"none",margin:je.sizePopupArrow,display:"inline-block",[`${Ee}-content`]:{display:"inline-block"}}}]},ye=je=>{const{componentCls:Ee}=je;return{[Ee]:xe.i.map(He=>{const Qe=je[`${He}6`];return{[`&${Ee}-${He}`]:{"--antd-arrow-background-color":Qe,[`${Ee}-inner`]:{backgroundColor:Qe},[`${Ee}-arrow`]:{background:"transparent"}}}})}},te=je=>{const{lineWidth:Ee,controlHeight:He,fontHeight:Qe,padding:ot,wireframe:qe,zIndexPopupBase:gt,borderRadiusLG:xt,marginXS:Xe,lineType:Ut,colorSplit:yt,paddingSM:Pt}=je,Wt=He-Qe,kt=Wt/2,Sr=Wt/2-Ee,cr=ot;return Object.assign(Object.assign(Object.assign({titleMinWidth:177,zIndexPopup:gt+30},(0,c.w)(je)),(0,q.wZ)({contentRadius:xt,limitVerticalRadius:!0})),{innerPadding:qe?0:12,titleMarginBottom:qe?0:Xe,titlePadding:qe?`${kt}px ${cr}px ${Sr}px`:0,titleBorderBottom:qe?`${Ee}px ${Ut} ${yt}`:"none",innerContentPadding:qe?`${Pt}px ${cr}px`:0})};jt.Z=(0,Ge.I$)("Popover",je=>{const{colorBgElevated:Ee,colorText:He}=je,Qe=(0,ze.IX)(je,{popoverBg:Ee,popoverColor:He});return[Pe(Qe),ye(Qe),(0,tt._y)(Qe,"zoom-big")]},te,{resetStyle:!1,deprecatedTokens:[["width","titleMinWidth"],["minWidth","titleMinWidth"]]})},53498:function(Hr,jt,F){"use strict";F.d(jt,{Ag:function(){return c},IH:function(){return xe},w:function(){return q}});var s=F(75271);const tt=s.createContext(null),q=tt.Provider;jt.ZP=tt;const c=s.createContext(null),xe=c.Provider},63374:function(Hr,jt,F){"use strict";var s=F(75271),tt=F(82187),q=F.n(tt),c=F(93954),xe=F(71305),Ge=F(98446),ze=F(38437),Pe=F(95741),ye=F(53498),te=F(74398),je=F(89603),Ee=F(73188);const He=s.forwardRef((Qe,ot)=>{const{getPrefixCls:qe,direction:gt}=s.useContext(Ge.E_),xt=(0,Ee.Z)(),{prefixCls:Xe,className:Ut,rootClassName:yt,options:Pt,buttonStyle:Wt="outline",disabled:kt,children:Sr,size:cr,style:Xn,id:We,optionType:Zt,name:cn=xt,defaultValue:Kt,value:Fe,block:Ln=!1,onChange:hn,onMouseEnter:On,onMouseLeave:ut,onFocus:Yt,onBlur:bn}=Qe,[he,Jt]=(0,c.Z)(Kt,{value:Fe}),wi=s.useCallback(Ot=>{const Bn=he,fn=Ot.target.value;"value"in Qe||Jt(fn),fn!==Bn&&(hn==null||hn(Ot))},[he,Jt,hn]),ai=qe("radio",Xe),$e=`${ai}-group`,An=(0,ze.Z)(ai),[Ur,Kr,Rn]=(0,je.Z)(ai,An);let Wr=Sr;Pt&&Pt.length>0&&(Wr=Pt.map(Ot=>typeof Ot=="string"||typeof Ot=="number"?s.createElement(te.Z,{key:Ot.toString(),prefixCls:ai,disabled:kt,value:Ot,checked:he===Ot},Ot):s.createElement(te.Z,{key:`radio-group-value-options-${Ot.value}`,prefixCls:ai,disabled:Ot.disabled||kt,value:Ot.value,checked:he===Ot.value,title:Ot.title,style:Ot.style,id:Ot.id,required:Ot.required},Ot.label)));const Ii=(0,Pe.Z)(cr),pr=q()($e,`${$e}-${Wt}`,{[`${$e}-${Ii}`]:Ii,[`${$e}-rtl`]:gt==="rtl",[`${$e}-block`]:Ln},Ut,yt,Kr,Rn,An),it=s.useMemo(()=>({onChange:wi,value:he,disabled:kt,name:cn,optionType:Zt,block:Ln}),[wi,he,kt,cn,Zt,Ln]);return Ur(s.createElement("div",Object.assign({},(0,xe.Z)(Qe,{aria:!0,data:!0}),{className:pr,style:Xn,onMouseEnter:On,onMouseLeave:ut,onFocus:Yt,onBlur:bn,id:We,ref:ot}),s.createElement(ye.w,{value:it},Wr)))});jt.Z=s.memo(He)},89965:function(Hr,jt,F){"use strict";var s=F(63374),tt=F(74398),q=F(47944);const c=tt.Z;c.Button=q.Z,c.Group=s.Z,c.__ANT_RADIO=!0,jt.ZP=c},74398:function(Hr,jt,F){"use strict";var s=F(75271),tt=F(82187),q=F.n(tt),c=F(12977),xe=F(42684),Ge=F(54070),ze=F(5276),Pe=F(59527),ye=F(98446),te=F(98472),je=F(38437),Ee=F(60824),He=F(53498),Qe=F(89603),ot=function(xt,Xe){var Ut={};for(var yt in xt)Object.prototype.hasOwnProperty.call(xt,yt)&&Xe.indexOf(yt)<0&&(Ut[yt]=xt[yt]);if(xt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Pt=0,yt=Object.getOwnPropertySymbols(xt);Pt<yt.length;Pt++)Xe.indexOf(yt[Pt])<0&&Object.prototype.propertyIsEnumerable.call(xt,yt[Pt])&&(Ut[yt[Pt]]=xt[yt[Pt]]);return Ut};const qe=(xt,Xe)=>{var Ut,yt;const Pt=s.useContext(He.ZP),Wt=s.useContext(He.Ag),{getPrefixCls:kt,direction:Sr,radio:cr}=s.useContext(ye.E_),Xn=s.useRef(null),We=(0,xe.sQ)(Xe,Xn),{isFormItemInput:Zt}=s.useContext(Ee.aM),cn=pr=>{var it,Ot;(it=xt.onChange)===null||it===void 0||it.call(xt,pr),(Ot=Pt==null?void 0:Pt.onChange)===null||Ot===void 0||Ot.call(Pt,pr)},{prefixCls:Kt,className:Fe,rootClassName:Ln,children:hn,style:On,title:ut}=xt,Yt=ot(xt,["prefixCls","className","rootClassName","children","style","title"]),bn=kt("radio",Kt),he=((Pt==null?void 0:Pt.optionType)||Wt)==="button",Jt=he?`${bn}-button`:bn,wi=(0,je.Z)(bn),[ai,$e,An]=(0,Qe.Z)(bn,wi),Ur=Object.assign({},Yt),Kr=s.useContext(te.Z);Pt&&(Ur.name=Pt.name,Ur.onChange=cn,Ur.checked=xt.value===Pt.value,Ur.disabled=(Ut=Ur.disabled)!==null&&Ut!==void 0?Ut:Pt.disabled),Ur.disabled=(yt=Ur.disabled)!==null&&yt!==void 0?yt:Kr;const Rn=q()(`${Jt}-wrapper`,{[`${Jt}-wrapper-checked`]:Ur.checked,[`${Jt}-wrapper-disabled`]:Ur.disabled,[`${Jt}-wrapper-rtl`]:Sr==="rtl",[`${Jt}-wrapper-in-form-item`]:Zt,[`${Jt}-wrapper-block`]:!!(Pt!=null&&Pt.block)},cr==null?void 0:cr.className,Fe,Ln,$e,An,wi),[Wr,Ii]=(0,Pe.Z)(Ur.onClick);return ai(s.createElement(Ge.Z,{component:"Radio",disabled:Ur.disabled},s.createElement("label",{className:Rn,style:Object.assign(Object.assign({},cr==null?void 0:cr.style),On),onMouseEnter:xt.onMouseEnter,onMouseLeave:xt.onMouseLeave,title:ut,onClick:Wr},s.createElement(c.Z,Object.assign({},Ur,{className:q()(Ur.className,{[ze.A]:!he}),type:"radio",prefixCls:Jt,ref:We,onClick:Ii})),hn!==void 0?s.createElement("span",{className:`${Jt}-label`},hn):null)))},gt=s.forwardRef(qe);jt.Z=gt},47944:function(Hr,jt,F){"use strict";var s=F(75271),tt=F(98446),q=F(53498),c=F(74398),xe=function(ze,Pe){var ye={};for(var te in ze)Object.prototype.hasOwnProperty.call(ze,te)&&Pe.indexOf(te)<0&&(ye[te]=ze[te]);if(ze!=null&&typeof Object.getOwnPropertySymbols=="function")for(var je=0,te=Object.getOwnPropertySymbols(ze);je<te.length;je++)Pe.indexOf(te[je])<0&&Object.prototype.propertyIsEnumerable.call(ze,te[je])&&(ye[te[je]]=ze[te[je]]);return ye};const Ge=(ze,Pe)=>{const{getPrefixCls:ye}=s.useContext(tt.E_),{prefixCls:te}=ze,je=xe(ze,["prefixCls"]),Ee=ye("radio",te);return s.createElement(q.IH,{value:"button"},s.createElement(c.Z,Object.assign({prefixCls:Ee},je,{type:"radio",ref:Pe})))};jt.Z=s.forwardRef(Ge)},89603:function(Hr,jt,F){"use strict";var s=F(55921),tt=F(34299),q=F(84825),c=F(83509);const xe=ye=>{const{componentCls:te,antCls:je}=ye,Ee=`${te}-group`;return{[Ee]:Object.assign(Object.assign({},(0,tt.Wf)(ye)),{display:"inline-block",fontSize:0,[`&${Ee}-rtl`]:{direction:"rtl"},[`&${Ee}-block`]:{display:"flex"},[`${je}-badge ${je}-badge-count`]:{zIndex:1},[`> ${je}-badge:not(:first-child) > ${je}-button-wrapper`]:{borderInlineStart:"none"}})}},Ge=ye=>{const{componentCls:te,wrapperMarginInlineEnd:je,colorPrimary:Ee,radioSize:He,motionDurationSlow:Qe,motionDurationMid:ot,motionEaseInOutCirc:qe,colorBgContainer:gt,colorBorder:xt,lineWidth:Xe,colorBgContainerDisabled:Ut,colorTextDisabled:yt,paddingXS:Pt,dotColorDisabled:Wt,lineType:kt,radioColor:Sr,radioBgColor:cr,calc:Xn}=ye,We=`${te}-inner`,cn=Xn(He).sub(Xn(4).mul(2)),Kt=Xn(1).mul(He).equal({unit:!0});return{[`${te}-wrapper`]:Object.assign(Object.assign({},(0,tt.Wf)(ye)),{display:"inline-flex",alignItems:"baseline",marginInlineStart:0,marginInlineEnd:je,cursor:"pointer","&:last-child":{marginInlineEnd:0},[`&${te}-wrapper-rtl`]:{direction:"rtl"},"&-disabled":{cursor:"not-allowed",color:ye.colorTextDisabled},"&::after":{display:"inline-block",width:0,overflow:"hidden",content:'"\\a0"'},"&-block":{flex:1,justifyContent:"center"},[`${te}-checked::after`]:{position:"absolute",insetBlockStart:0,insetInlineStart:0,width:"100%",height:"100%",border:`${(0,s.bf)(Xe)} ${kt} ${Ee}`,borderRadius:"50%",visibility:"hidden",opacity:0,content:'""'},[te]:Object.assign(Object.assign({},(0,tt.Wf)(ye)),{position:"relative",display:"inline-block",outline:"none",cursor:"pointer",alignSelf:"center",borderRadius:"50%"}),[`${te}-wrapper:hover &,
        &:hover ${We}`]:{borderColor:Ee},[`${te}-input:focus-visible + ${We}`]:Object.assign({},(0,tt.oN)(ye)),[`${te}:hover::after, ${te}-wrapper:hover &::after`]:{visibility:"visible"},[`${te}-inner`]:{"&::after":{boxSizing:"border-box",position:"absolute",insetBlockStart:"50%",insetInlineStart:"50%",display:"block",width:Kt,height:Kt,marginBlockStart:Xn(1).mul(He).div(-2).equal({unit:!0}),marginInlineStart:Xn(1).mul(He).div(-2).equal({unit:!0}),backgroundColor:Sr,borderBlockStart:0,borderInlineStart:0,borderRadius:Kt,transform:"scale(0)",opacity:0,transition:`all ${Qe} ${qe}`,content:'""'},boxSizing:"border-box",position:"relative",insetBlockStart:0,insetInlineStart:0,display:"block",width:Kt,height:Kt,backgroundColor:gt,borderColor:xt,borderStyle:"solid",borderWidth:Xe,borderRadius:"50%",transition:`all ${ot}`},[`${te}-input`]:{position:"absolute",inset:0,zIndex:1,cursor:"pointer",opacity:0},[`${te}-checked`]:{[We]:{borderColor:Ee,backgroundColor:cr,"&::after":{transform:`scale(${ye.calc(ye.dotSize).div(He).equal()})`,opacity:1,transition:`all ${Qe} ${qe}`}}},[`${te}-disabled`]:{cursor:"not-allowed",[We]:{backgroundColor:Ut,borderColor:xt,cursor:"not-allowed","&::after":{backgroundColor:Wt}},[`${te}-input`]:{cursor:"not-allowed"},[`${te}-disabled + span`]:{color:yt,cursor:"not-allowed"},[`&${te}-checked`]:{[We]:{"&::after":{transform:`scale(${Xn(cn).div(He).equal()})`}}}},[`span${te} + *`]:{paddingInlineStart:Pt,paddingInlineEnd:Pt}})}},ze=ye=>{const{buttonColor:te,controlHeight:je,componentCls:Ee,lineWidth:He,lineType:Qe,colorBorder:ot,motionDurationSlow:qe,motionDurationMid:gt,buttonPaddingInline:xt,fontSize:Xe,buttonBg:Ut,fontSizeLG:yt,controlHeightLG:Pt,controlHeightSM:Wt,paddingXS:kt,borderRadius:Sr,borderRadiusSM:cr,borderRadiusLG:Xn,buttonCheckedBg:We,buttonSolidCheckedColor:Zt,colorTextDisabled:cn,colorBgContainerDisabled:Kt,buttonCheckedBgDisabled:Fe,buttonCheckedColorDisabled:Ln,colorPrimary:hn,colorPrimaryHover:On,colorPrimaryActive:ut,buttonSolidCheckedBg:Yt,buttonSolidCheckedHoverBg:bn,buttonSolidCheckedActiveBg:he,calc:Jt}=ye;return{[`${Ee}-button-wrapper`]:{position:"relative",display:"inline-block",height:je,margin:0,paddingInline:xt,paddingBlock:0,color:te,fontSize:Xe,lineHeight:(0,s.bf)(Jt(je).sub(Jt(He).mul(2)).equal()),background:Ut,border:`${(0,s.bf)(He)} ${Qe} ${ot}`,borderBlockStartWidth:Jt(He).add(.02).equal(),borderInlineStartWidth:0,borderInlineEndWidth:He,cursor:"pointer",transition:[`color ${gt}`,`background ${gt}`,`box-shadow ${gt}`].join(","),a:{color:te},[`> ${Ee}-button`]:{position:"absolute",insetBlockStart:0,insetInlineStart:0,zIndex:-1,width:"100%",height:"100%"},"&:not(:first-child)":{"&::before":{position:"absolute",insetBlockStart:Jt(He).mul(-1).equal(),insetInlineStart:Jt(He).mul(-1).equal(),display:"block",boxSizing:"content-box",width:1,height:"100%",paddingBlock:He,paddingInline:0,backgroundColor:ot,transition:`background-color ${qe}`,content:'""'}},"&:first-child":{borderInlineStart:`${(0,s.bf)(He)} ${Qe} ${ot}`,borderStartStartRadius:Sr,borderEndStartRadius:Sr},"&:last-child":{borderStartEndRadius:Sr,borderEndEndRadius:Sr},"&:first-child:last-child":{borderRadius:Sr},[`${Ee}-group-large &`]:{height:Pt,fontSize:yt,lineHeight:(0,s.bf)(Jt(Pt).sub(Jt(He).mul(2)).equal()),"&:first-child":{borderStartStartRadius:Xn,borderEndStartRadius:Xn},"&:last-child":{borderStartEndRadius:Xn,borderEndEndRadius:Xn}},[`${Ee}-group-small &`]:{height:Wt,paddingInline:Jt(kt).sub(He).equal(),paddingBlock:0,lineHeight:(0,s.bf)(Jt(Wt).sub(Jt(He).mul(2)).equal()),"&:first-child":{borderStartStartRadius:cr,borderEndStartRadius:cr},"&:last-child":{borderStartEndRadius:cr,borderEndEndRadius:cr}},"&:hover":{position:"relative",color:hn},"&:has(:focus-visible)":Object.assign({},(0,tt.oN)(ye)),[`${Ee}-inner, input[type='checkbox'], input[type='radio']`]:{width:0,height:0,opacity:0,pointerEvents:"none"},[`&-checked:not(${Ee}-button-wrapper-disabled)`]:{zIndex:1,color:hn,background:We,borderColor:hn,"&::before":{backgroundColor:hn},"&:first-child":{borderColor:hn},"&:hover":{color:On,borderColor:On,"&::before":{backgroundColor:On}},"&:active":{color:ut,borderColor:ut,"&::before":{backgroundColor:ut}}},[`${Ee}-group-solid &-checked:not(${Ee}-button-wrapper-disabled)`]:{color:Zt,background:Yt,borderColor:Yt,"&:hover":{color:Zt,background:bn,borderColor:bn},"&:active":{color:Zt,background:he,borderColor:he}},"&-disabled":{color:cn,backgroundColor:Kt,borderColor:ot,cursor:"not-allowed","&:first-child, &:hover":{color:cn,backgroundColor:Kt,borderColor:ot}},[`&-disabled${Ee}-button-wrapper-checked`]:{color:Ln,backgroundColor:Fe,borderColor:ot,boxShadow:"none"},"&-block":{flex:1,textAlign:"center"}}}},Pe=ye=>{const{wireframe:te,padding:je,marginXS:Ee,lineWidth:He,fontSizeLG:Qe,colorText:ot,colorBgContainer:qe,colorTextDisabled:gt,controlItemBgActiveDisabled:xt,colorTextLightSolid:Xe,colorPrimary:Ut,colorPrimaryHover:yt,colorPrimaryActive:Pt,colorWhite:Wt}=ye,kt=4,Sr=Qe,cr=te?Sr-kt*2:Sr-(kt+He)*2;return{radioSize:Sr,dotSize:cr,dotColorDisabled:gt,buttonSolidCheckedColor:Xe,buttonSolidCheckedBg:Ut,buttonSolidCheckedHoverBg:yt,buttonSolidCheckedActiveBg:Pt,buttonBg:qe,buttonCheckedBg:qe,buttonColor:ot,buttonCheckedBgDisabled:xt,buttonCheckedColorDisabled:gt,buttonPaddingInline:je-He,wrapperMarginInlineEnd:Ee,radioColor:te?Ut:Wt,radioBgColor:te?qe:Ut}};jt.Z=(0,q.I$)("Radio",ye=>{const{controlOutline:te,controlOutlineWidth:je}=ye,Ee=`0 0 0 ${(0,s.bf)(je)} ${te}`,He=Ee,Qe=(0,c.IX)(ye,{radioFocusShadow:Ee,radioButtonFocusShadow:He});return[xe(Qe),Ge(Qe),ze(Qe)]},Pe,{unitless:{radioSize:!0,dotSize:!0}})},82162:function(Hr,jt,F){"use strict";F.d(jt,{Z:function(){return ai}});var s=F(75271),tt=F(82187),q=F.n(tt),c=F(23022),xe=F(89692),Ge=F(58190),ze=F(38926),Pe=F(54153),ye=F(5147),te=F(93954),je=F(18051),Ee=F(42684),He=F(62803),Qe=F(92076),ot=function(An,Ur){if(!An)return null;var Kr={left:An.offsetLeft,right:An.parentElement.clientWidth-An.clientWidth-An.offsetLeft,width:An.clientWidth,top:An.offsetTop,bottom:An.parentElement.clientHeight-An.clientHeight-An.offsetTop,height:An.clientHeight};return Ur?{left:0,right:0,width:0,top:Kr.top,bottom:Kr.bottom,height:Kr.height}:{left:Kr.left,right:Kr.right,width:Kr.width,top:0,bottom:0,height:0}},qe=function(An){return An!==void 0?"".concat(An,"px"):void 0};function gt($e){var An=$e.prefixCls,Ur=$e.containerRef,Kr=$e.value,Rn=$e.getValueIndex,Wr=$e.motionName,Ii=$e.onMotionStart,pr=$e.onMotionEnd,it=$e.direction,Ot=$e.vertical,Bn=Ot===void 0?!1:Ot,fn=s.useRef(null),gn=s.useState(Kr),Er=(0,xe.Z)(gn,2),Vn=Er[0],ri=Er[1],fi=function(Yi){var xo,Qr=Rn(Yi),co=(xo=Ur.current)===null||xo===void 0?void 0:xo.querySelectorAll(".".concat(An,"-item"))[Qr];return(co==null?void 0:co.offsetParent)&&co},qr=s.useState(null),Jr=(0,xe.Z)(qr,2),wr=Jr[0],Yn=Jr[1],yr=s.useState(null),Pr=(0,xe.Z)(yr,2),Ir=Pr[0],Xr=Pr[1];(0,Qe.Z)(function(){if(Vn!==Kr){var Si=fi(Vn),Yi=fi(Kr),xo=ot(Si,Bn),Qr=ot(Yi,Bn);ri(Kr),Yn(xo),Xr(Qr),Si&&Yi?Ii():pr()}},[Kr]);var rr=s.useMemo(function(){if(Bn){var Si;return qe((Si=wr==null?void 0:wr.top)!==null&&Si!==void 0?Si:0)}return qe(it==="rtl"?-(wr==null?void 0:wr.right):wr==null?void 0:wr.left)},[Bn,it,wr]),gr=s.useMemo(function(){if(Bn){var Si;return qe((Si=Ir==null?void 0:Ir.top)!==null&&Si!==void 0?Si:0)}return qe(it==="rtl"?-(Ir==null?void 0:Ir.right):Ir==null?void 0:Ir.left)},[Bn,it,Ir]),ei=function(){return Bn?{transform:"translateY(var(--thumb-start-top))",height:"var(--thumb-start-height)"}:{transform:"translateX(var(--thumb-start-left))",width:"var(--thumb-start-width)"}},Un=function(){return Bn?{transform:"translateY(var(--thumb-active-top))",height:"var(--thumb-active-height)"}:{transform:"translateX(var(--thumb-active-left))",width:"var(--thumb-active-width)"}},si=function(){Yn(null),Xr(null),pr()};return!wr||!Ir?null:s.createElement(He.ZP,{visible:!0,motionName:Wr,motionAppear:!0,onAppearStart:ei,onAppearActive:Un,onVisibleChanged:si},function(Si,Yi){var xo=Si.className,Qr=Si.style,co=(0,Pe.Z)((0,Pe.Z)({},Qr),{},{"--thumb-start-left":rr,"--thumb-start-width":qe(wr==null?void 0:wr.width),"--thumb-active-left":gr,"--thumb-active-width":qe(Ir==null?void 0:Ir.width),"--thumb-start-top":rr,"--thumb-start-height":qe(wr==null?void 0:wr.height),"--thumb-active-top":gr,"--thumb-active-height":qe(Ir==null?void 0:Ir.height)}),tn={ref:(0,Ee.sQ)(fn,Yi),style:co,className:q()("".concat(An,"-thumb"),xo)};return s.createElement("div",tn)})}var xt=["prefixCls","direction","vertical","options","disabled","defaultValue","value","name","onChange","className","motionName"];function Xe($e){if(typeof $e.title!="undefined")return $e.title;if((0,ye.Z)($e.label)!=="object"){var An;return(An=$e.label)===null||An===void 0?void 0:An.toString()}}function Ut($e){return $e.map(function(An){if((0,ye.Z)(An)==="object"&&An!==null){var Ur=Xe(An);return(0,Pe.Z)((0,Pe.Z)({},An),{},{title:Ur})}return{label:An==null?void 0:An.toString(),title:An==null?void 0:An.toString(),value:An}})}var yt=function(An){var Ur=An.prefixCls,Kr=An.className,Rn=An.disabled,Wr=An.checked,Ii=An.label,pr=An.title,it=An.value,Ot=An.name,Bn=An.onChange,fn=An.onFocus,gn=An.onBlur,Er=An.onKeyDown,Vn=An.onKeyUp,ri=An.onMouseDown,fi=function(Jr){Rn||Bn(Jr,it)};return s.createElement("label",{className:q()(Kr,(0,ze.Z)({},"".concat(Ur,"-item-disabled"),Rn)),onMouseDown:ri},s.createElement("input",{name:Ot,className:"".concat(Ur,"-item-input"),type:"radio",disabled:Rn,checked:Wr,onChange:fi,onFocus:fn,onBlur:gn,onKeyDown:Er,onKeyUp:Vn}),s.createElement("div",{className:"".concat(Ur,"-item-label"),title:pr,"aria-selected":Wr},Ii))},Pt=s.forwardRef(function($e,An){var Ur,Kr,Rn=$e.prefixCls,Wr=Rn===void 0?"rc-segmented":Rn,Ii=$e.direction,pr=$e.vertical,it=$e.options,Ot=it===void 0?[]:it,Bn=$e.disabled,fn=$e.defaultValue,gn=$e.value,Er=$e.name,Vn=$e.onChange,ri=$e.className,fi=ri===void 0?"":ri,qr=$e.motionName,Jr=qr===void 0?"thumb-motion":qr,wr=(0,Ge.Z)($e,xt),Yn=s.useRef(null),yr=s.useMemo(function(){return(0,Ee.sQ)(Yn,An)},[Yn,An]),Pr=s.useMemo(function(){return Ut(Ot)},[Ot]),Ir=(0,te.Z)((Ur=Pr[0])===null||Ur===void 0?void 0:Ur.value,{value:gn,defaultValue:fn}),Xr=(0,xe.Z)(Ir,2),rr=Xr[0],gr=Xr[1],ei=s.useState(!1),Un=(0,xe.Z)(ei,2),si=Un[0],Si=Un[1],Yi=function(Y,Ze){gr(Ze),Vn==null||Vn(Ze)},xo=(0,je.Z)(wr,["children"]),Qr=s.useState(!1),co=(0,xe.Z)(Qr,2),tn=co[0],Tn=co[1],ir=s.useState(!1),kr=(0,xe.Z)(ir,2),gi=kr[0],li=kr[1],eo=function(){li(!0)},io=function(){li(!1)},Lo=function(){Tn(!1)},Co=function(Y){Y.key==="Tab"&&Tn(!0)},uo=function(Y){var Ze=Pr.findIndex(function(ln){return ln.value===rr}),pe=Pr.length,et=(Ze+Y+pe)%pe,nt=Pr[et];nt&&(gr(nt.value),Vn==null||Vn(nt.value))},Re=function(Y){switch(Y.key){case"ArrowLeft":case"ArrowUp":uo(-1);break;case"ArrowRight":case"ArrowDown":uo(1);break}};return s.createElement("div",(0,c.Z)({role:"radiogroup","aria-label":"segmented control",tabIndex:Bn?void 0:0},xo,{className:q()(Wr,(Kr={},(0,ze.Z)(Kr,"".concat(Wr,"-rtl"),Ii==="rtl"),(0,ze.Z)(Kr,"".concat(Wr,"-disabled"),Bn),(0,ze.Z)(Kr,"".concat(Wr,"-vertical"),pr),Kr),fi),ref:yr}),s.createElement("div",{className:"".concat(Wr,"-group")},s.createElement(gt,{vertical:pr,prefixCls:Wr,value:rr,containerRef:Yn,motionName:"".concat(Wr,"-").concat(Jr),direction:Ii,getValueIndex:function(Y){return Pr.findIndex(function(Ze){return Ze.value===Y})},onMotionStart:function(){Si(!0)},onMotionEnd:function(){Si(!1)}}),Pr.map(function(de){var Y;return s.createElement(yt,(0,c.Z)({},de,{name:Er,key:de.value,prefixCls:Wr,className:q()(de.className,"".concat(Wr,"-item"),(Y={},(0,ze.Z)(Y,"".concat(Wr,"-item-selected"),de.value===rr&&!si),(0,ze.Z)(Y,"".concat(Wr,"-item-focused"),gi&&tn&&de.value===rr),Y)),checked:de.value===rr,onChange:Yi,onFocus:eo,onBlur:io,onKeyDown:Re,onKeyUp:Co,onMouseDown:Lo,disabled:!!Bn||!!de.disabled}))})))}),Wt=Pt,kt=Wt,Sr=F(73188),cr=F(98446),Xn=F(95741),We=F(55921),Zt=F(34299),cn=F(84825),Kt=F(83509);function Fe($e,An){return{[`${$e}, ${$e}:hover, ${$e}:focus`]:{color:An.colorTextDisabled,cursor:"not-allowed"}}}function Ln($e){return{backgroundColor:$e.itemSelectedBg,boxShadow:$e.boxShadowTertiary}}const hn=Object.assign({overflow:"hidden"},Zt.vS),On=$e=>{const{componentCls:An}=$e,Ur=$e.calc($e.controlHeight).sub($e.calc($e.trackPadding).mul(2)).equal(),Kr=$e.calc($e.controlHeightLG).sub($e.calc($e.trackPadding).mul(2)).equal(),Rn=$e.calc($e.controlHeightSM).sub($e.calc($e.trackPadding).mul(2)).equal();return{[An]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(0,Zt.Wf)($e)),{display:"inline-block",padding:$e.trackPadding,color:$e.itemColor,background:$e.trackBg,borderRadius:$e.borderRadius,transition:`all ${$e.motionDurationMid} ${$e.motionEaseInOut}`}),(0,Zt.Qy)($e)),{[`${An}-group`]:{position:"relative",display:"flex",alignItems:"stretch",justifyItems:"flex-start",flexDirection:"row",width:"100%"},[`&${An}-rtl`]:{direction:"rtl"},[`&${An}-vertical`]:{[`${An}-group`]:{flexDirection:"column"},[`${An}-thumb`]:{width:"100%",height:0,padding:`0 ${(0,We.bf)($e.paddingXXS)}`}},[`&${An}-block`]:{display:"flex"},[`&${An}-block ${An}-item`]:{flex:1,minWidth:0},[`${An}-item`]:{position:"relative",textAlign:"center",cursor:"pointer",transition:`color ${$e.motionDurationMid} ${$e.motionEaseInOut}`,borderRadius:$e.borderRadiusSM,transform:"translateZ(0)","&-selected":Object.assign(Object.assign({},Ln($e)),{color:$e.itemSelectedColor}),"&-focused":Object.assign({},(0,Zt.oN)($e)),"&::after":{content:'""',position:"absolute",zIndex:-1,width:"100%",height:"100%",top:0,insetInlineStart:0,borderRadius:"inherit",opacity:0,transition:`opacity ${$e.motionDurationMid}`,pointerEvents:"none"},[`&:hover:not(${An}-item-selected):not(${An}-item-disabled)`]:{color:$e.itemHoverColor,"&::after":{opacity:1,backgroundColor:$e.itemHoverBg}},[`&:active:not(${An}-item-selected):not(${An}-item-disabled)`]:{color:$e.itemHoverColor,"&::after":{opacity:1,backgroundColor:$e.itemActiveBg}},"&-label":Object.assign({minHeight:Ur,lineHeight:(0,We.bf)(Ur),padding:`0 ${(0,We.bf)($e.segmentedPaddingHorizontal)}`},hn),"&-icon + *":{marginInlineStart:$e.calc($e.marginSM).div(2).equal()},"&-input":{position:"absolute",insetBlockStart:0,insetInlineStart:0,width:0,height:0,opacity:0,pointerEvents:"none"}},[`${An}-thumb`]:Object.assign(Object.assign({},Ln($e)),{position:"absolute",insetBlockStart:0,insetInlineStart:0,width:0,height:"100%",padding:`${(0,We.bf)($e.paddingXXS)} 0`,borderRadius:$e.borderRadiusSM,transition:`transform ${$e.motionDurationSlow} ${$e.motionEaseInOut}, height ${$e.motionDurationSlow} ${$e.motionEaseInOut}`,[`& ~ ${An}-item:not(${An}-item-selected):not(${An}-item-disabled)::after`]:{backgroundColor:"transparent"}}),[`&${An}-lg`]:{borderRadius:$e.borderRadiusLG,[`${An}-item-label`]:{minHeight:Kr,lineHeight:(0,We.bf)(Kr),padding:`0 ${(0,We.bf)($e.segmentedPaddingHorizontal)}`,fontSize:$e.fontSizeLG},[`${An}-item, ${An}-thumb`]:{borderRadius:$e.borderRadius}},[`&${An}-sm`]:{borderRadius:$e.borderRadiusSM,[`${An}-item-label`]:{minHeight:Rn,lineHeight:(0,We.bf)(Rn),padding:`0 ${(0,We.bf)($e.segmentedPaddingHorizontalSM)}`},[`${An}-item, ${An}-thumb`]:{borderRadius:$e.borderRadiusXS}}}),Fe(`&-disabled ${An}-item`,$e)),Fe(`${An}-item-disabled`,$e)),{[`${An}-thumb-motion-appear-active`]:{transition:`transform ${$e.motionDurationSlow} ${$e.motionEaseInOut}, width ${$e.motionDurationSlow} ${$e.motionEaseInOut}`,willChange:"transform, width"},[`&${An}-shape-round`]:{borderRadius:9999,[`${An}-item, ${An}-thumb`]:{borderRadius:9999}}})}},ut=$e=>{const{colorTextLabel:An,colorText:Ur,colorFillSecondary:Kr,colorBgElevated:Rn,colorFill:Wr,lineWidthBold:Ii,colorBgLayout:pr}=$e;return{trackPadding:Ii,trackBg:pr,itemColor:An,itemHoverColor:Ur,itemHoverBg:Kr,itemSelectedBg:Rn,itemActiveBg:Wr,itemSelectedColor:Ur}};var Yt=(0,cn.I$)("Segmented",$e=>{const{lineWidth:An,calc:Ur}=$e,Kr=(0,Kt.IX)($e,{segmentedPaddingHorizontal:Ur($e.controlPaddingHorizontal).sub(An).equal(),segmentedPaddingHorizontalSM:Ur($e.controlPaddingHorizontalSM).sub(An).equal()});return[On(Kr)]},ut),bn=function($e,An){var Ur={};for(var Kr in $e)Object.prototype.hasOwnProperty.call($e,Kr)&&An.indexOf(Kr)<0&&(Ur[Kr]=$e[Kr]);if($e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Rn=0,Kr=Object.getOwnPropertySymbols($e);Rn<Kr.length;Rn++)An.indexOf(Kr[Rn])<0&&Object.prototype.propertyIsEnumerable.call($e,Kr[Rn])&&(Ur[Kr[Rn]]=$e[Kr[Rn]]);return Ur};function he($e){return typeof $e=="object"&&!!($e!=null&&$e.icon)}var ai=s.forwardRef(($e,An)=>{const Ur=(0,Sr.Z)(),{prefixCls:Kr,className:Rn,rootClassName:Wr,block:Ii,options:pr=[],size:it="middle",style:Ot,vertical:Bn,shape:fn="default",name:gn=Ur}=$e,Er=bn($e,["prefixCls","className","rootClassName","block","options","size","style","vertical","shape","name"]),{getPrefixCls:Vn,direction:ri,className:fi,style:qr}=(0,cr.dj)("segmented"),Jr=Vn("segmented",Kr),[wr,Yn,yr]=Yt(Jr),Pr=(0,Xn.Z)(it),Ir=s.useMemo(()=>pr.map(gr=>{if(he(gr)){const{icon:ei,label:Un}=gr,si=bn(gr,["icon","label"]);return Object.assign(Object.assign({},si),{label:s.createElement(s.Fragment,null,s.createElement("span",{className:`${Jr}-item-icon`},ei),Un&&s.createElement("span",null,Un))})}return gr}),[pr,Jr]),Xr=q()(Rn,Wr,fi,{[`${Jr}-block`]:Ii,[`${Jr}-sm`]:Pr==="small",[`${Jr}-lg`]:Pr==="large",[`${Jr}-vertical`]:Bn,[`${Jr}-shape-${fn}`]:fn==="round"},Yn,yr),rr=Object.assign(Object.assign({},qr),Ot);return wr(s.createElement(kt,Object.assign({},Er,{name:gn,className:Xr,style:rr,options:Ir,ref:An,prefixCls:Jr,direction:ri,vertical:Bn})))})},30142:function(Hr,jt,F){"use strict";var s=F(75271),tt=F(82187),q=F.n(tt),c=F(12321),xe=F(18051),Ge=F(19952),ze=F(13635),Pe=F(52445),ye=F(94773),te=F(98446),je=F(22463),Ee=F(98472),He=F(38437),Qe=F(95741),ot=F(60824),qe=F(7038),gt=F(23137),xt=F(67699),Xe=F(95799),Ut=F(80043),yt=F(50360),Pt=F(54299),Wt=function(We,Zt){var cn={};for(var Kt in We)Object.prototype.hasOwnProperty.call(We,Kt)&&Zt.indexOf(Kt)<0&&(cn[Kt]=We[Kt]);if(We!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Fe=0,Kt=Object.getOwnPropertySymbols(We);Fe<Kt.length;Fe++)Zt.indexOf(Kt[Fe])<0&&Object.prototype.propertyIsEnumerable.call(We,Kt[Fe])&&(cn[Kt[Fe]]=We[Kt[Fe]]);return cn};const kt="SECRET_COMBOBOX_MODE_DO_NOT_USE",Sr=(We,Zt)=>{var cn;const{prefixCls:Kt,bordered:Fe,className:Ln,rootClassName:hn,getPopupContainer:On,popupClassName:ut,dropdownClassName:Yt,listHeight:bn=256,placement:he,listItemHeight:Jt,size:wi,disabled:ai,notFoundContent:$e,status:An,builtinPlacements:Ur,dropdownMatchSelectWidth:Kr,popupMatchSelectWidth:Rn,direction:Wr,style:Ii,allowClear:pr,variant:it,dropdownStyle:Ot,transitionName:Bn,tagRender:fn,maxCount:gn,prefix:Er}=We,Vn=Wt(We,["prefixCls","bordered","className","rootClassName","getPopupContainer","popupClassName","dropdownClassName","listHeight","placement","listItemHeight","size","disabled","notFoundContent","status","builtinPlacements","dropdownMatchSelectWidth","popupMatchSelectWidth","direction","style","allowClear","variant","dropdownStyle","transitionName","tagRender","maxCount","prefix"]),{getPopupContainer:ri,getPrefixCls:fi,renderEmpty:qr,direction:Jr,virtual:wr,popupMatchSelectWidth:Yn,popupOverflow:yr}=s.useContext(te.E_),Pr=(0,te.dj)("select"),[,Ir]=(0,xt.ZP)(),Xr=Jt!=null?Jt:Ir==null?void 0:Ir.controlHeight,rr=fi("select",Kt),gr=fi(),ei=Wr!=null?Wr:Jr,{compactSize:Un,compactItemClassnames:si}=(0,gt.ri)(rr,ei),[Si,Yi]=(0,qe.Z)("select",it,Fe),xo=(0,He.Z)(rr),[Qr,co,tn]=(0,Ut.Z)(rr,xo),Tn=s.useMemo(()=>{const{mode:Xt}=We;if(Xt!=="combobox")return Xt===kt?"combobox":Xt},[We.mode]),ir=Tn==="multiple"||Tn==="tags",kr=(0,Pt.Z)(We.suffixIcon,We.showArrow),gi=(cn=Rn!=null?Rn:Kr)!==null&&cn!==void 0?cn:Yn,{status:li,hasFeedback:eo,isFormItemInput:io,feedbackIcon:Lo}=s.useContext(ot.aM),Co=(0,ye.F)(li,An);let uo;$e!==void 0?uo=$e:Tn==="combobox"?uo=null:uo=(qr==null?void 0:qr("Select"))||s.createElement(je.Z,{componentName:"Select"});const{suffixIcon:Re,itemIcon:de,removeIcon:Y,clearIcon:Ze}=(0,yt.Z)(Object.assign(Object.assign({},Vn),{multiple:ir,hasFeedback:eo,feedbackIcon:Lo,showSuffixIcon:kr,prefixCls:rr,componentName:"Select"})),pe=pr===!0?{clearIcon:Ze}:pr,et=(0,xe.Z)(Vn,["suffixIcon","itemIcon"]),nt=q()(ut||Yt,{[`${rr}-dropdown-${ei}`]:ei==="rtl"},hn,tn,xo,co),ln=(0,Qe.Z)(Xt=>{var nn;return(nn=wi!=null?wi:Un)!==null&&nn!==void 0?nn:Xt}),At=s.useContext(Ee.Z),sn=ai!=null?ai:At,vn=q()({[`${rr}-lg`]:ln==="large",[`${rr}-sm`]:ln==="small",[`${rr}-rtl`]:ei==="rtl",[`${rr}-${Si}`]:Yi,[`${rr}-in-form-item`]:io},(0,ye.Z)(rr,Co,eo),si,Pr.className,Ln,hn,tn,xo,co),Je=s.useMemo(()=>he!==void 0?he:ei==="rtl"?"bottomRight":"bottomLeft",[he,ei]),[Rt]=(0,Ge.Cn)("SelectLike",Ot==null?void 0:Ot.zIndex);return Qr(s.createElement(c.ZP,Object.assign({ref:Zt,virtual:wr,showSearch:Pr.showSearch},et,{style:Object.assign(Object.assign({},Pr.style),Ii),dropdownMatchSelectWidth:gi,transitionName:(0,ze.m)(gr,"slide-up",Bn),builtinPlacements:(0,Xe.Z)(Ur,yr),listHeight:bn,listItemHeight:Xr,mode:Tn,prefixCls:rr,placement:Je,direction:ei,prefix:Er,suffixIcon:Re,menuItemSelectedIcon:de,removeIcon:Y,allowClear:pe,notFoundContent:uo,className:vn,getPopupContainer:On||ri,dropdownClassName:nt,disabled:sn,dropdownStyle:Object.assign(Object.assign({},Ot),{zIndex:Rt}),maxCount:ir?gn:void 0,tagRender:ir?fn:void 0})))},cr=s.forwardRef(Sr),Xn=(0,Pe.Z)(cr,"dropdownAlign");cr.SECRET_COMBOBOX_MODE_DO_NOT_USE=kt,cr.Option=c.Wx,cr.OptGroup=c.Xo,cr._InternalPanelDoNotUseOrYouWillBeFired=Xn,jt.default=cr},95799:function(Hr,jt){"use strict";const F=tt=>{const c={overflow:{adjustX:!0,adjustY:!0,shiftY:!0},htmlRegion:tt==="scroll"?"scroll":"visible",dynamicInset:!0};return{bottomLeft:Object.assign(Object.assign({},c),{points:["tl","bl"],offset:[0,4]}),bottomRight:Object.assign(Object.assign({},c),{points:["tr","br"],offset:[0,4]}),topLeft:Object.assign(Object.assign({},c),{points:["bl","tl"],offset:[0,-4]}),topRight:Object.assign(Object.assign({},c),{points:["br","tr"],offset:[0,-4]})}};function s(tt,q){return tt||F(q)}jt.Z=s},80043:function(Hr,jt,F){"use strict";F.d(jt,{Z:function(){return Kt}});var s=F(34299),tt=F(9288),q=F(84825),c=F(83509),xe=F(17877),Ge=F(48221);const ze=Fe=>{const{optionHeight:Ln,optionFontSize:hn,optionLineHeight:On,optionPadding:ut}=Fe;return{position:"relative",display:"block",minHeight:Ln,padding:ut,color:Fe.colorText,fontWeight:"normal",fontSize:hn,lineHeight:On,boxSizing:"border-box"}};var ye=Fe=>{const{antCls:Ln,componentCls:hn}=Fe,On=`${hn}-item`,ut=`&${Ln}-slide-up-enter${Ln}-slide-up-enter-active`,Yt=`&${Ln}-slide-up-appear${Ln}-slide-up-appear-active`,bn=`&${Ln}-slide-up-leave${Ln}-slide-up-leave-active`,he=`${hn}-dropdown-placement-`,Jt=`${On}-option-selected`;return[{[`${hn}-dropdown`]:Object.assign(Object.assign({},(0,s.Wf)(Fe)),{position:"absolute",top:-9999,zIndex:Fe.zIndexPopup,boxSizing:"border-box",padding:Fe.paddingXXS,overflow:"hidden",fontSize:Fe.fontSize,fontVariant:"initial",backgroundColor:Fe.colorBgElevated,borderRadius:Fe.borderRadiusLG,outline:"none",boxShadow:Fe.boxShadowSecondary,[`
          ${ut}${he}bottomLeft,
          ${Yt}${he}bottomLeft
        `]:{animationName:xe.fJ},[`
          ${ut}${he}topLeft,
          ${Yt}${he}topLeft,
          ${ut}${he}topRight,
          ${Yt}${he}topRight
        `]:{animationName:xe.Qt},[`${bn}${he}bottomLeft`]:{animationName:xe.Uw},[`
          ${bn}${he}topLeft,
          ${bn}${he}topRight
        `]:{animationName:xe.ly},"&-hidden":{display:"none"},[On]:Object.assign(Object.assign({},ze(Fe)),{cursor:"pointer",transition:`background ${Fe.motionDurationSlow} ease`,borderRadius:Fe.borderRadiusSM,"&-group":{color:Fe.colorTextDescription,fontSize:Fe.fontSizeSM,cursor:"default"},"&-option":{display:"flex","&-content":Object.assign({flex:"auto"},s.vS),"&-state":{flex:"none",display:"flex",alignItems:"center"},[`&-active:not(${On}-option-disabled)`]:{backgroundColor:Fe.optionActiveBg},[`&-selected:not(${On}-option-disabled)`]:{color:Fe.optionSelectedColor,fontWeight:Fe.optionSelectedFontWeight,backgroundColor:Fe.optionSelectedBg,[`${On}-option-state`]:{color:Fe.colorPrimary}},"&-disabled":{[`&${On}-option-selected`]:{backgroundColor:Fe.colorBgContainerDisabled},color:Fe.colorTextDisabled,cursor:"not-allowed"},"&-grouped":{paddingInlineStart:Fe.calc(Fe.controlPaddingHorizontal).mul(2).equal()}},"&-empty":Object.assign(Object.assign({},ze(Fe)),{color:Fe.colorTextDisabled})}),[`${Jt}:has(+ ${Jt})`]:{borderEndStartRadius:0,borderEndEndRadius:0,[`& + ${Jt}`]:{borderStartStartRadius:0,borderStartEndRadius:0}},"&-rtl":{direction:"rtl"}})},(0,xe.oN)(Fe,"slide-up"),(0,xe.oN)(Fe,"slide-down"),(0,Ge.Fm)(Fe,"move-up"),(0,Ge.Fm)(Fe,"move-down")]},te=F(17543),je=F(55921);function Ee(Fe,Ln){const{componentCls:hn,inputPaddingHorizontalBase:On,borderRadius:ut}=Fe,Yt=Fe.calc(Fe.controlHeight).sub(Fe.calc(Fe.lineWidth).mul(2)).equal(),bn=Ln?`${hn}-${Ln}`:"";return{[`${hn}-single${bn}`]:{fontSize:Fe.fontSize,height:Fe.controlHeight,[`${hn}-selector`]:Object.assign(Object.assign({},(0,s.Wf)(Fe,!0)),{display:"flex",borderRadius:ut,flex:"1 1 auto",[`${hn}-selection-search`]:{position:"absolute",inset:0,width:"100%","&-input":{width:"100%",WebkitAppearance:"textfield"}},[`
          ${hn}-selection-item,
          ${hn}-selection-placeholder
        `]:{display:"block",padding:0,lineHeight:(0,je.bf)(Yt),transition:`all ${Fe.motionDurationSlow}, visibility 0s`,alignSelf:"center"},[`${hn}-selection-placeholder`]:{transition:"none",pointerEvents:"none"},[["&:after",`${hn}-selection-item:empty:after`,`${hn}-selection-placeholder:empty:after`].join(",")]:{display:"inline-block",width:0,visibility:"hidden",content:'"\\a0"'}}),[`
        &${hn}-show-arrow ${hn}-selection-item,
        &${hn}-show-arrow ${hn}-selection-search,
        &${hn}-show-arrow ${hn}-selection-placeholder
      `]:{paddingInlineEnd:Fe.showArrowPaddingInlineEnd},[`&${hn}-open ${hn}-selection-item`]:{color:Fe.colorTextPlaceholder},[`&:not(${hn}-customize-input)`]:{[`${hn}-selector`]:{width:"100%",height:"100%",alignItems:"center",padding:`0 ${(0,je.bf)(On)}`,[`${hn}-selection-search-input`]:{height:Yt},"&:after":{lineHeight:(0,je.bf)(Yt)}}},[`&${hn}-customize-input`]:{[`${hn}-selector`]:{"&:after":{display:"none"},[`${hn}-selection-search`]:{position:"static",width:"100%"},[`${hn}-selection-placeholder`]:{position:"absolute",insetInlineStart:0,insetInlineEnd:0,padding:`0 ${(0,je.bf)(On)}`,"&:after":{display:"none"}}}}}}}function He(Fe){const{componentCls:Ln}=Fe,hn=Fe.calc(Fe.controlPaddingHorizontalSM).sub(Fe.lineWidth).equal();return[Ee(Fe),Ee((0,c.IX)(Fe,{controlHeight:Fe.controlHeightSM,borderRadius:Fe.borderRadiusSM}),"sm"),{[`${Ln}-single${Ln}-sm`]:{[`&:not(${Ln}-customize-input)`]:{[`${Ln}-selector`]:{padding:`0 ${(0,je.bf)(hn)}`},[`&${Ln}-show-arrow ${Ln}-selection-search`]:{insetInlineEnd:Fe.calc(hn).add(Fe.calc(Fe.fontSize).mul(1.5)).equal()},[`
            &${Ln}-show-arrow ${Ln}-selection-item,
            &${Ln}-show-arrow ${Ln}-selection-placeholder
          `]:{paddingInlineEnd:Fe.calc(Fe.fontSize).mul(1.5).equal()}}}},Ee((0,c.IX)(Fe,{controlHeight:Fe.singleItemHeightLG,fontSize:Fe.fontSizeLG,borderRadius:Fe.borderRadiusLG}),"lg")]}const Qe=Fe=>{const{fontSize:Ln,lineHeight:hn,lineWidth:On,controlHeight:ut,controlHeightSM:Yt,controlHeightLG:bn,paddingXXS:he,controlPaddingHorizontal:Jt,zIndexPopupBase:wi,colorText:ai,fontWeightStrong:$e,controlItemBgActive:An,controlItemBgHover:Ur,colorBgContainer:Kr,colorFillSecondary:Rn,colorBgContainerDisabled:Wr,colorTextDisabled:Ii,colorPrimaryHover:pr,colorPrimary:it,controlOutline:Ot}=Fe,Bn=he*2,fn=On*2,gn=Math.min(ut-Bn,ut-fn),Er=Math.min(Yt-Bn,Yt-fn),Vn=Math.min(bn-Bn,bn-fn);return{INTERNAL_FIXED_ITEM_MARGIN:Math.floor(he/2),zIndexPopup:wi+50,optionSelectedColor:ai,optionSelectedFontWeight:$e,optionSelectedBg:An,optionActiveBg:Ur,optionPadding:`${(ut-Ln*hn)/2}px ${Jt}px`,optionFontSize:Ln,optionLineHeight:hn,optionHeight:ut,selectorBg:Kr,clearBg:Kr,singleItemHeightLG:bn,multipleItemBg:Rn,multipleItemBorderColor:"transparent",multipleItemHeight:gn,multipleItemHeightSM:Er,multipleItemHeightLG:Vn,multipleSelectorBgDisabled:Wr,multipleItemColorDisabled:Ii,multipleItemBorderColorDisabled:"transparent",showArrowPaddingInlineEnd:Math.ceil(Fe.fontSize*1.25),hoverBorderColor:pr,activeBorderColor:it,activeOutlineColor:Ot,selectAffixPadding:he}},ot=(Fe,Ln)=>{const{componentCls:hn,antCls:On,controlOutlineWidth:ut}=Fe;return{[`&:not(${hn}-customize-input) ${hn}-selector`]:{border:`${(0,je.bf)(Fe.lineWidth)} ${Fe.lineType} ${Ln.borderColor}`,background:Fe.selectorBg},[`&:not(${hn}-disabled):not(${hn}-customize-input):not(${On}-pagination-size-changer)`]:{[`&:hover ${hn}-selector`]:{borderColor:Ln.hoverBorderHover},[`${hn}-focused& ${hn}-selector`]:{borderColor:Ln.activeBorderColor,boxShadow:`0 0 0 ${(0,je.bf)(ut)} ${Ln.activeOutlineColor}`,outline:0},[`${hn}-prefix`]:{color:Ln.color}}}},qe=(Fe,Ln)=>({[`&${Fe.componentCls}-status-${Ln.status}`]:Object.assign({},ot(Fe,Ln))}),gt=Fe=>({"&-outlined":Object.assign(Object.assign(Object.assign(Object.assign({},ot(Fe,{borderColor:Fe.colorBorder,hoverBorderHover:Fe.hoverBorderColor,activeBorderColor:Fe.activeBorderColor,activeOutlineColor:Fe.activeOutlineColor,color:Fe.colorText})),qe(Fe,{status:"error",borderColor:Fe.colorError,hoverBorderHover:Fe.colorErrorHover,activeBorderColor:Fe.colorError,activeOutlineColor:Fe.colorErrorOutline,color:Fe.colorError})),qe(Fe,{status:"warning",borderColor:Fe.colorWarning,hoverBorderHover:Fe.colorWarningHover,activeBorderColor:Fe.colorWarning,activeOutlineColor:Fe.colorWarningOutline,color:Fe.colorWarning})),{[`&${Fe.componentCls}-disabled`]:{[`&:not(${Fe.componentCls}-customize-input) ${Fe.componentCls}-selector`]:{background:Fe.colorBgContainerDisabled,color:Fe.colorTextDisabled}},[`&${Fe.componentCls}-multiple ${Fe.componentCls}-selection-item`]:{background:Fe.multipleItemBg,border:`${(0,je.bf)(Fe.lineWidth)} ${Fe.lineType} ${Fe.multipleItemBorderColor}`}})}),xt=(Fe,Ln)=>{const{componentCls:hn,antCls:On}=Fe;return{[`&:not(${hn}-customize-input) ${hn}-selector`]:{background:Ln.bg,border:`${(0,je.bf)(Fe.lineWidth)} ${Fe.lineType} transparent`,color:Ln.color},[`&:not(${hn}-disabled):not(${hn}-customize-input):not(${On}-pagination-size-changer)`]:{[`&:hover ${hn}-selector`]:{background:Ln.hoverBg},[`${hn}-focused& ${hn}-selector`]:{background:Fe.selectorBg,borderColor:Ln.activeBorderColor,outline:0}}}},Xe=(Fe,Ln)=>({[`&${Fe.componentCls}-status-${Ln.status}`]:Object.assign({},xt(Fe,Ln))}),Ut=Fe=>({"&-filled":Object.assign(Object.assign(Object.assign(Object.assign({},xt(Fe,{bg:Fe.colorFillTertiary,hoverBg:Fe.colorFillSecondary,activeBorderColor:Fe.activeBorderColor,color:Fe.colorText})),Xe(Fe,{status:"error",bg:Fe.colorErrorBg,hoverBg:Fe.colorErrorBgHover,activeBorderColor:Fe.colorError,color:Fe.colorError})),Xe(Fe,{status:"warning",bg:Fe.colorWarningBg,hoverBg:Fe.colorWarningBgHover,activeBorderColor:Fe.colorWarning,color:Fe.colorWarning})),{[`&${Fe.componentCls}-disabled`]:{[`&:not(${Fe.componentCls}-customize-input) ${Fe.componentCls}-selector`]:{borderColor:Fe.colorBorder,background:Fe.colorBgContainerDisabled,color:Fe.colorTextDisabled}},[`&${Fe.componentCls}-multiple ${Fe.componentCls}-selection-item`]:{background:Fe.colorBgContainer,border:`${(0,je.bf)(Fe.lineWidth)} ${Fe.lineType} ${Fe.colorSplit}`}})}),yt=Fe=>({"&-borderless":{[`${Fe.componentCls}-selector`]:{background:"transparent",border:`${(0,je.bf)(Fe.lineWidth)} ${Fe.lineType} transparent`},[`&${Fe.componentCls}-disabled`]:{[`&:not(${Fe.componentCls}-customize-input) ${Fe.componentCls}-selector`]:{color:Fe.colorTextDisabled}},[`&${Fe.componentCls}-multiple ${Fe.componentCls}-selection-item`]:{background:Fe.multipleItemBg,border:`${(0,je.bf)(Fe.lineWidth)} ${Fe.lineType} ${Fe.multipleItemBorderColor}`},[`&${Fe.componentCls}-status-error`]:{[`${Fe.componentCls}-prefix, ${Fe.componentCls}-selection-item`]:{color:Fe.colorError}},[`&${Fe.componentCls}-status-warning`]:{[`${Fe.componentCls}-prefix, ${Fe.componentCls}-selection-item`]:{color:Fe.colorWarning}}}}),Pt=(Fe,Ln)=>{const{componentCls:hn,antCls:On}=Fe;return{[`&:not(${hn}-customize-input) ${hn}-selector`]:{borderWidth:`0 0 ${(0,je.bf)(Fe.lineWidth)} 0`,borderStyle:`none none ${Fe.lineType} none`,borderColor:Ln.borderColor,background:Fe.selectorBg,borderRadius:0},[`&:not(${hn}-disabled):not(${hn}-customize-input):not(${On}-pagination-size-changer)`]:{[`&:hover ${hn}-selector`]:{borderColor:Ln.hoverBorderHover},[`${hn}-focused& ${hn}-selector`]:{borderColor:Ln.activeBorderColor,outline:0},[`${hn}-prefix`]:{color:Ln.color}}}},Wt=(Fe,Ln)=>({[`&${Fe.componentCls}-status-${Ln.status}`]:Object.assign({},Pt(Fe,Ln))}),kt=Fe=>({"&-underlined":Object.assign(Object.assign(Object.assign(Object.assign({},Pt(Fe,{borderColor:Fe.colorBorder,hoverBorderHover:Fe.hoverBorderColor,activeBorderColor:Fe.activeBorderColor,activeOutlineColor:Fe.activeOutlineColor,color:Fe.colorText})),Wt(Fe,{status:"error",borderColor:Fe.colorError,hoverBorderHover:Fe.colorErrorHover,activeBorderColor:Fe.colorError,activeOutlineColor:Fe.colorErrorOutline,color:Fe.colorError})),Wt(Fe,{status:"warning",borderColor:Fe.colorWarning,hoverBorderHover:Fe.colorWarningHover,activeBorderColor:Fe.colorWarning,activeOutlineColor:Fe.colorWarningOutline,color:Fe.colorWarning})),{[`&${Fe.componentCls}-disabled`]:{[`&:not(${Fe.componentCls}-customize-input) ${Fe.componentCls}-selector`]:{color:Fe.colorTextDisabled}},[`&${Fe.componentCls}-multiple ${Fe.componentCls}-selection-item`]:{background:Fe.multipleItemBg,border:`${(0,je.bf)(Fe.lineWidth)} ${Fe.lineType} ${Fe.multipleItemBorderColor}`}})});var cr=Fe=>({[Fe.componentCls]:Object.assign(Object.assign(Object.assign(Object.assign({},gt(Fe)),Ut(Fe)),yt(Fe)),kt(Fe))});const Xn=Fe=>{const{componentCls:Ln}=Fe;return{position:"relative",transition:`all ${Fe.motionDurationMid} ${Fe.motionEaseInOut}`,input:{cursor:"pointer"},[`${Ln}-show-search&`]:{cursor:"text",input:{cursor:"auto",color:"inherit",height:"100%"}},[`${Ln}-disabled&`]:{cursor:"not-allowed",input:{cursor:"not-allowed"}}}},We=Fe=>{const{componentCls:Ln}=Fe;return{[`${Ln}-selection-search-input`]:{margin:0,padding:0,background:"transparent",border:"none",outline:"none",appearance:"none",fontFamily:"inherit","&::-webkit-search-cancel-button":{display:"none","-webkit-appearance":"none"}}}},Zt=Fe=>{const{antCls:Ln,componentCls:hn,inputPaddingHorizontalBase:On,iconCls:ut}=Fe;return{[hn]:Object.assign(Object.assign({},(0,s.Wf)(Fe)),{position:"relative",display:"inline-flex",cursor:"pointer",[`&:not(${hn}-customize-input) ${hn}-selector`]:Object.assign(Object.assign({},Xn(Fe)),We(Fe)),[`${hn}-selection-item`]:Object.assign(Object.assign({flex:1,fontWeight:"normal",position:"relative",userSelect:"none"},s.vS),{[`> ${Ln}-typography`]:{display:"inline"}}),[`${hn}-selection-placeholder`]:Object.assign(Object.assign({},s.vS),{flex:1,color:Fe.colorTextPlaceholder,pointerEvents:"none"}),[`${hn}-arrow`]:Object.assign(Object.assign({},(0,s.Ro)()),{position:"absolute",top:"50%",insetInlineStart:"auto",insetInlineEnd:On,height:Fe.fontSizeIcon,marginTop:Fe.calc(Fe.fontSizeIcon).mul(-1).div(2).equal(),color:Fe.colorTextQuaternary,fontSize:Fe.fontSizeIcon,lineHeight:1,textAlign:"center",pointerEvents:"none",display:"flex",alignItems:"center",transition:`opacity ${Fe.motionDurationSlow} ease`,[ut]:{verticalAlign:"top",transition:`transform ${Fe.motionDurationSlow}`,"> svg":{verticalAlign:"top"},[`&:not(${hn}-suffix)`]:{pointerEvents:"auto"}},[`${hn}-disabled &`]:{cursor:"not-allowed"},"> *:not(:last-child)":{marginInlineEnd:8}}),[`${hn}-selection-wrap`]:{display:"flex",width:"100%",position:"relative",minWidth:0,"&:after":{content:'"\\a0"',width:0,overflow:"hidden"}},[`${hn}-prefix`]:{flex:"none",marginInlineEnd:Fe.selectAffixPadding},[`${hn}-clear`]:{position:"absolute",top:"50%",insetInlineStart:"auto",insetInlineEnd:On,zIndex:1,display:"inline-block",width:Fe.fontSizeIcon,height:Fe.fontSizeIcon,marginTop:Fe.calc(Fe.fontSizeIcon).mul(-1).div(2).equal(),color:Fe.colorTextQuaternary,fontSize:Fe.fontSizeIcon,fontStyle:"normal",lineHeight:1,textAlign:"center",textTransform:"none",cursor:"pointer",opacity:0,transition:`color ${Fe.motionDurationMid} ease, opacity ${Fe.motionDurationSlow} ease`,textRendering:"auto","&:before":{display:"block"},"&:hover":{color:Fe.colorTextTertiary}},[`&:hover ${hn}-clear`]:{opacity:1,background:Fe.colorBgBase,borderRadius:"50%"}}),[`${hn}-status`]:{"&-error, &-warning, &-success, &-validating":{[`&${hn}-has-feedback`]:{[`${hn}-clear`]:{insetInlineEnd:Fe.calc(On).add(Fe.fontSize).add(Fe.paddingXS).equal()}}}}}},cn=Fe=>{const{componentCls:Ln}=Fe;return[{[Ln]:{[`&${Ln}-in-form-item`]:{width:"100%"}}},Zt(Fe),He(Fe),(0,te.ZP)(Fe),ye(Fe),{[`${Ln}-rtl`]:{direction:"rtl"}},(0,tt.c)(Fe,{borderElCls:`${Ln}-selector`,focusElCls:`${Ln}-focused`})]};var Kt=(0,q.I$)("Select",(Fe,Ln)=>{let{rootPrefixCls:hn}=Ln;const On=(0,c.IX)(Fe,{rootPrefixCls:hn,inputPaddingHorizontalBase:Fe.calc(Fe.paddingSM).sub(1).equal(),multipleSelectItemHeight:Fe.multipleItemHeight,selectHeight:Fe.controlHeight});return[cn(On),cr(On)]},Qe,{unitless:{optionLineHeight:!0,optionSelectedFontWeight:!0}})},17543:function(Hr,jt,F){"use strict";F.d(jt,{_z:function(){return Ge},gp:function(){return c}});var s=F(55921),tt=F(34299),q=F(83509);const c=te=>{const{multipleSelectItemHeight:je,paddingXXS:Ee,lineWidth:He,INTERNAL_FIXED_ITEM_MARGIN:Qe}=te,ot=te.max(te.calc(Ee).sub(He).equal(),0),qe=te.max(te.calc(ot).sub(Qe).equal(),0);return{basePadding:ot,containerPadding:qe,itemHeight:(0,s.bf)(je),itemLineHeight:(0,s.bf)(te.calc(je).sub(te.calc(te.lineWidth).mul(2)).equal())}},xe=te=>{const{multipleSelectItemHeight:je,selectHeight:Ee,lineWidth:He}=te;return te.calc(Ee).sub(je).div(2).sub(He).equal()},Ge=te=>{const{componentCls:je,iconCls:Ee,borderRadiusSM:He,motionDurationSlow:Qe,paddingXS:ot,multipleItemColorDisabled:qe,multipleItemBorderColorDisabled:gt,colorIcon:xt,colorIconHover:Xe,INTERNAL_FIXED_ITEM_MARGIN:Ut}=te;return{[`${je}-selection-overflow`]:{position:"relative",display:"flex",flex:"auto",flexWrap:"wrap",maxWidth:"100%","&-item":{flex:"none",alignSelf:"center",maxWidth:"100%",display:"inline-flex"},[`${je}-selection-item`]:{display:"flex",alignSelf:"center",flex:"none",boxSizing:"border-box",maxWidth:"100%",marginBlock:Ut,borderRadius:He,cursor:"default",transition:`font-size ${Qe}, line-height ${Qe}, height ${Qe}`,marginInlineEnd:te.calc(Ut).mul(2).equal(),paddingInlineStart:ot,paddingInlineEnd:te.calc(ot).div(2).equal(),[`${je}-disabled&`]:{color:qe,borderColor:gt,cursor:"not-allowed"},"&-content":{display:"inline-block",marginInlineEnd:te.calc(ot).div(2).equal(),overflow:"hidden",whiteSpace:"pre",textOverflow:"ellipsis"},"&-remove":Object.assign(Object.assign({},(0,tt.Ro)()),{display:"inline-flex",alignItems:"center",color:xt,fontWeight:"bold",fontSize:10,lineHeight:"inherit",cursor:"pointer",[`> ${Ee}`]:{verticalAlign:"-0.2em"},"&:hover":{color:Xe}})}}}},ze=(te,je)=>{const{componentCls:Ee,INTERNAL_FIXED_ITEM_MARGIN:He}=te,Qe=`${Ee}-selection-overflow`,ot=te.multipleSelectItemHeight,qe=xe(te),gt=je?`${Ee}-${je}`:"",xt=c(te);return{[`${Ee}-multiple${gt}`]:Object.assign(Object.assign({},Ge(te)),{[`${Ee}-selector`]:{display:"flex",alignItems:"center",width:"100%",height:"100%",paddingInline:xt.basePadding,paddingBlock:xt.containerPadding,borderRadius:te.borderRadius,[`${Ee}-disabled&`]:{background:te.multipleSelectorBgDisabled,cursor:"not-allowed"},"&:after":{display:"inline-block",width:0,margin:`${(0,s.bf)(He)} 0`,lineHeight:(0,s.bf)(ot),visibility:"hidden",content:'"\\a0"'}},[`${Ee}-selection-item`]:{height:xt.itemHeight,lineHeight:(0,s.bf)(xt.itemLineHeight)},[`${Ee}-selection-wrap`]:{alignSelf:"flex-start","&:after":{lineHeight:(0,s.bf)(ot),marginBlock:He}},[`${Ee}-prefix`]:{marginInlineStart:te.calc(te.inputPaddingHorizontalBase).sub(xt.basePadding).equal()},[`${Qe}-item + ${Qe}-item,
        ${Ee}-prefix + ${Ee}-selection-wrap
      `]:{[`${Ee}-selection-search`]:{marginInlineStart:0},[`${Ee}-selection-placeholder`]:{insetInlineStart:0}},[`${Qe}-item-suffix`]:{minHeight:xt.itemHeight,marginBlock:He},[`${Ee}-selection-search`]:{display:"inline-flex",position:"relative",maxWidth:"100%",marginInlineStart:te.calc(te.inputPaddingHorizontalBase).sub(qe).equal(),"\n          &-input,\n          &-mirror\n        ":{height:ot,fontFamily:te.fontFamily,lineHeight:(0,s.bf)(ot),transition:`all ${te.motionDurationSlow}`},"&-input":{width:"100%",minWidth:4.1},"&-mirror":{position:"absolute",top:0,insetInlineStart:0,insetInlineEnd:"auto",zIndex:999,whiteSpace:"pre",visibility:"hidden"}},[`${Ee}-selection-placeholder`]:{position:"absolute",top:"50%",insetInlineStart:te.calc(te.inputPaddingHorizontalBase).sub(xt.basePadding).equal(),insetInlineEnd:te.inputPaddingHorizontalBase,transform:"translateY(-50%)",transition:`all ${te.motionDurationSlow}`}})}};function Pe(te,je){const{componentCls:Ee}=te,He=je?`${Ee}-${je}`:"",Qe={[`${Ee}-multiple${He}`]:{fontSize:te.fontSize,[`${Ee}-selector`]:{[`${Ee}-show-search&`]:{cursor:"text"}},[`
        &${Ee}-show-arrow ${Ee}-selector,
        &${Ee}-allow-clear ${Ee}-selector
      `]:{paddingInlineEnd:te.calc(te.fontSizeIcon).add(te.controlPaddingHorizontal).equal()}}};return[ze(te,je),Qe]}const ye=te=>{const{componentCls:je}=te,Ee=(0,q.IX)(te,{selectHeight:te.controlHeightSM,multipleSelectItemHeight:te.multipleItemHeightSM,borderRadius:te.borderRadiusSM,borderRadiusSM:te.borderRadiusXS}),He=(0,q.IX)(te,{fontSize:te.fontSizeLG,selectHeight:te.controlHeightLG,multipleSelectItemHeight:te.multipleItemHeightLG,borderRadius:te.borderRadiusLG,borderRadiusSM:te.borderRadius});return[Pe(te),Pe(Ee,"sm"),{[`${je}-multiple${je}-sm`]:{[`${je}-selection-placeholder`]:{insetInline:te.calc(te.controlPaddingHorizontalSM).sub(te.lineWidth).equal()},[`${je}-selection-search`]:{marginInlineStart:2}}},Pe(He,"lg")]};jt.ZP=ye},50360:function(Hr,jt,F){"use strict";F.d(jt,{Z:function(){return Pe}});var s=F(75271),tt=F(3642),q=F(75434),c=F(14258),xe=F(13143),Ge=F(24573),ze=F(17023);function Pe(ye){let{suffixIcon:te,clearIcon:je,menuItemSelectedIcon:Ee,removeIcon:He,loading:Qe,multiple:ot,hasFeedback:qe,prefixCls:gt,showSuffixIcon:xt,feedbackIcon:Xe,showArrow:Ut,componentName:yt}=ye;const Pt=je!=null?je:s.createElement(q.Z,null),Wt=Xn=>te===null&&!qe&&!Ut?null:s.createElement(s.Fragment,null,xt!==!1&&Xn,qe&&Xe);let kt=null;if(te!==void 0)kt=Wt(te);else if(Qe)kt=Wt(s.createElement(Ge.Z,{spin:!0}));else{const Xn=`${gt}-suffix`;kt=We=>{let{open:Zt,showSearch:cn}=We;return Wt(Zt&&cn?s.createElement(ze.Z,{className:Xn}):s.createElement(xe.Z,{className:Xn}))}}let Sr=null;Ee!==void 0?Sr=Ee:ot?Sr=s.createElement(tt.Z,null):Sr=null;let cr=null;return He!==void 0?cr=He:cr=s.createElement(c.Z,null),{clearIcon:Pt,suffixIcon:kt,itemIcon:Sr,removeIcon:cr}}},54299:function(Hr,jt,F){"use strict";F.d(jt,{Z:function(){return s}});function s(tt,q){return q!==void 0?q:tt!==null}},14391:function(Hr,jt,F){"use strict";var s=F(75271);const tt=(0,s.createContext)({});jt.Z=tt},80300:function(Hr,jt,F){"use strict";F.d(jt,{Z:function(){return We}});var s=F(75271),tt=F(82187),q=F.n(tt),c=F(28661),xe=F(49975),Ge=F(98472),ze=F(14391),Pe=F(42684),ye=F(9202),je=s.forwardRef((Zt,cn)=>{const{open:Kt,draggingDelete:Fe}=Zt,Ln=(0,s.useRef)(null),hn=Kt&&!Fe,On=(0,s.useRef)(null);function ut(){xe.Z.cancel(On.current),On.current=null}function Yt(){On.current=(0,xe.Z)(()=>{var bn;(bn=Ln.current)===null||bn===void 0||bn.forceAlign(),On.current=null})}return s.useEffect(()=>(hn?Yt():ut(),ut),[hn,Zt.title]),s.createElement(ye.Z,Object.assign({ref:(0,Pe.sQ)(Ln,cn)},Zt,{open:hn}))}),Ee=F(55921),He=F(84432),Qe=F(34299),ot=F(84825),qe=F(83509);const gt=Zt=>{const{componentCls:cn,antCls:Kt,controlSize:Fe,dotSize:Ln,marginFull:hn,marginPart:On,colorFillContentHover:ut,handleColorDisabled:Yt,calc:bn,handleSize:he,handleSizeHover:Jt,handleActiveColor:wi,handleActiveOutlineColor:ai,handleLineWidth:$e,handleLineWidthHover:An,motionDurationMid:Ur}=Zt;return{[cn]:Object.assign(Object.assign({},(0,Qe.Wf)(Zt)),{position:"relative",height:Fe,margin:`${(0,Ee.bf)(On)} ${(0,Ee.bf)(hn)}`,padding:0,cursor:"pointer",touchAction:"none","&-vertical":{margin:`${(0,Ee.bf)(hn)} ${(0,Ee.bf)(On)}`},[`${cn}-rail`]:{position:"absolute",backgroundColor:Zt.railBg,borderRadius:Zt.borderRadiusXS,transition:`background-color ${Ur}`},[`${cn}-track,${cn}-tracks`]:{position:"absolute",transition:`background-color ${Ur}`},[`${cn}-track`]:{backgroundColor:Zt.trackBg,borderRadius:Zt.borderRadiusXS},[`${cn}-track-draggable`]:{boxSizing:"content-box",backgroundClip:"content-box",border:"solid rgba(0,0,0,0)"},"&:hover":{[`${cn}-rail`]:{backgroundColor:Zt.railHoverBg},[`${cn}-track`]:{backgroundColor:Zt.trackHoverBg},[`${cn}-dot`]:{borderColor:ut},[`${cn}-handle::after`]:{boxShadow:`0 0 0 ${(0,Ee.bf)($e)} ${Zt.colorPrimaryBorderHover}`},[`${cn}-dot-active`]:{borderColor:Zt.dotActiveBorderColor}},[`${cn}-handle`]:{position:"absolute",width:he,height:he,outline:"none",userSelect:"none","&-dragging-delete":{opacity:0},"&::before":{content:'""',position:"absolute",insetInlineStart:bn($e).mul(-1).equal(),insetBlockStart:bn($e).mul(-1).equal(),width:bn(he).add(bn($e).mul(2)).equal(),height:bn(he).add(bn($e).mul(2)).equal(),backgroundColor:"transparent"},"&::after":{content:'""',position:"absolute",insetBlockStart:0,insetInlineStart:0,width:he,height:he,backgroundColor:Zt.colorBgElevated,boxShadow:`0 0 0 ${(0,Ee.bf)($e)} ${Zt.handleColor}`,outline:"0px solid transparent",borderRadius:"50%",cursor:"pointer",transition:`
            inset-inline-start ${Ur},
            inset-block-start ${Ur},
            width ${Ur},
            height ${Ur},
            box-shadow ${Ur},
            outline ${Ur}
          `},"&:hover, &:active, &:focus":{"&::before":{insetInlineStart:bn(Jt).sub(he).div(2).add(An).mul(-1).equal(),insetBlockStart:bn(Jt).sub(he).div(2).add(An).mul(-1).equal(),width:bn(Jt).add(bn(An).mul(2)).equal(),height:bn(Jt).add(bn(An).mul(2)).equal()},"&::after":{boxShadow:`0 0 0 ${(0,Ee.bf)(An)} ${wi}`,outline:`6px solid ${ai}`,width:Jt,height:Jt,insetInlineStart:Zt.calc(he).sub(Jt).div(2).equal(),insetBlockStart:Zt.calc(he).sub(Jt).div(2).equal()}}},[`&-lock ${cn}-handle`]:{"&::before, &::after":{transition:"none"}},[`${cn}-mark`]:{position:"absolute",fontSize:Zt.fontSize},[`${cn}-mark-text`]:{position:"absolute",display:"inline-block",color:Zt.colorTextDescription,textAlign:"center",wordBreak:"keep-all",cursor:"pointer",userSelect:"none","&-active":{color:Zt.colorText}},[`${cn}-step`]:{position:"absolute",background:"transparent",pointerEvents:"none"},[`${cn}-dot`]:{position:"absolute",width:Ln,height:Ln,backgroundColor:Zt.colorBgElevated,border:`${(0,Ee.bf)($e)} solid ${Zt.dotBorderColor}`,borderRadius:"50%",cursor:"pointer",transition:`border-color ${Zt.motionDurationSlow}`,pointerEvents:"auto","&-active":{borderColor:Zt.dotActiveBorderColor}},[`&${cn}-disabled`]:{cursor:"not-allowed",[`${cn}-rail`]:{backgroundColor:`${Zt.railBg} !important`},[`${cn}-track`]:{backgroundColor:`${Zt.trackBgDisabled} !important`},[`
          ${cn}-dot
        `]:{backgroundColor:Zt.colorBgElevated,borderColor:Zt.trackBgDisabled,boxShadow:"none",cursor:"not-allowed"},[`${cn}-handle::after`]:{backgroundColor:Zt.colorBgElevated,cursor:"not-allowed",width:he,height:he,boxShadow:`0 0 0 ${(0,Ee.bf)($e)} ${Yt}`,insetInlineStart:0,insetBlockStart:0},[`
          ${cn}-mark-text,
          ${cn}-dot
        `]:{cursor:"not-allowed !important"}},[`&-tooltip ${Kt}-tooltip-inner`]:{minWidth:"unset"}})}},xt=(Zt,cn)=>{const{componentCls:Kt,railSize:Fe,handleSize:Ln,dotSize:hn,marginFull:On,calc:ut}=Zt,Yt=cn?"paddingBlock":"paddingInline",bn=cn?"width":"height",he=cn?"height":"width",Jt=cn?"insetBlockStart":"insetInlineStart",wi=cn?"top":"insetInlineStart",ai=ut(Fe).mul(3).sub(Ln).div(2).equal(),$e=ut(Ln).sub(Fe).div(2).equal(),An=cn?{borderWidth:`${(0,Ee.bf)($e)} 0`,transform:`translateY(${(0,Ee.bf)(ut($e).mul(-1).equal())})`}:{borderWidth:`0 ${(0,Ee.bf)($e)}`,transform:`translateX(${(0,Ee.bf)(Zt.calc($e).mul(-1).equal())})`};return{[Yt]:Fe,[he]:ut(Fe).mul(3).equal(),[`${Kt}-rail`]:{[bn]:"100%",[he]:Fe},[`${Kt}-track,${Kt}-tracks`]:{[he]:Fe},[`${Kt}-track-draggable`]:Object.assign({},An),[`${Kt}-handle`]:{[Jt]:ai},[`${Kt}-mark`]:{insetInlineStart:0,top:0,[wi]:ut(Fe).mul(3).add(cn?0:On).equal(),[bn]:"100%"},[`${Kt}-step`]:{insetInlineStart:0,top:0,[wi]:Fe,[bn]:"100%",[he]:Fe},[`${Kt}-dot`]:{position:"absolute",[Jt]:ut(Fe).sub(hn).div(2).equal()}}},Xe=Zt=>{const{componentCls:cn,marginPartWithMark:Kt}=Zt;return{[`${cn}-horizontal`]:Object.assign(Object.assign({},xt(Zt,!0)),{[`&${cn}-with-marks`]:{marginBottom:Kt}})}},Ut=Zt=>{const{componentCls:cn}=Zt;return{[`${cn}-vertical`]:Object.assign(Object.assign({},xt(Zt,!1)),{height:"100%"})}},yt=Zt=>{const Kt=Zt.controlHeightLG/4,Fe=Zt.controlHeightSM/2,Ln=Zt.lineWidth+1,hn=Zt.lineWidth+1*1.5,On=Zt.colorPrimary,ut=new He.t(On).setA(.2).toRgbString();return{controlSize:Kt,railSize:4,handleSize:Kt,handleSizeHover:Fe,dotSize:8,handleLineWidth:Ln,handleLineWidthHover:hn,railBg:Zt.colorFillTertiary,railHoverBg:Zt.colorFillSecondary,trackBg:Zt.colorPrimaryBorder,trackHoverBg:Zt.colorPrimaryBorderHover,handleColor:Zt.colorPrimaryBorder,handleActiveColor:On,handleActiveOutlineColor:ut,handleColorDisabled:new He.t(Zt.colorTextDisabled).onBackground(Zt.colorBgContainer).toHexString(),dotBorderColor:Zt.colorBorderSecondary,dotActiveBorderColor:Zt.colorPrimaryBorder,trackBgDisabled:Zt.colorBgContainerDisabled}};var Pt=(0,ot.I$)("Slider",Zt=>{const cn=(0,qe.IX)(Zt,{marginPart:Zt.calc(Zt.controlHeight).sub(Zt.controlSize).div(2).equal(),marginFull:Zt.calc(Zt.controlSize).div(2).equal(),marginPartWithMark:Zt.calc(Zt.controlHeightLG).sub(Zt.controlSize).equal()});return[gt(cn),Xe(cn),Ut(cn)]},yt);function Wt(){const[Zt,cn]=s.useState(!1),Kt=s.useRef(null),Fe=()=>{xe.Z.cancel(Kt.current)},Ln=hn=>{Fe(),hn?cn(hn):Kt.current=(0,xe.Z)(()=>{cn(hn)})};return s.useEffect(()=>Fe,[]),[Zt,Ln]}var kt=F(98446),Sr=function(Zt,cn){var Kt={};for(var Fe in Zt)Object.prototype.hasOwnProperty.call(Zt,Fe)&&cn.indexOf(Fe)<0&&(Kt[Fe]=Zt[Fe]);if(Zt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Ln=0,Fe=Object.getOwnPropertySymbols(Zt);Ln<Fe.length;Ln++)cn.indexOf(Fe[Ln])<0&&Object.prototype.propertyIsEnumerable.call(Zt,Fe[Ln])&&(Kt[Fe[Ln]]=Zt[Fe[Ln]]);return Kt};function cr(Zt,cn){return Zt||Zt===null?Zt:cn||cn===null?cn:Kt=>typeof Kt=="number"?Kt.toString():""}var We=s.forwardRef((Zt,cn)=>{const{prefixCls:Kt,range:Fe,className:Ln,rootClassName:hn,style:On,disabled:ut,tooltipPrefixCls:Yt,tipFormatter:bn,tooltipVisible:he,getTooltipPopupContainer:Jt,tooltipPlacement:wi,tooltip:ai={},onChangeComplete:$e,classNames:An,styles:Ur}=Zt,Kr=Sr(Zt,["prefixCls","range","className","rootClassName","style","disabled","tooltipPrefixCls","tipFormatter","tooltipVisible","getTooltipPopupContainer","tooltipPlacement","tooltip","onChangeComplete","classNames","styles"]),{vertical:Rn}=Zt,{getPrefixCls:Wr,direction:Ii,className:pr,style:it,classNames:Ot,styles:Bn,getPopupContainer:fn}=(0,kt.dj)("slider"),gn=s.useContext(Ge.Z),Er=ut!=null?ut:gn,{handleRender:Vn,direction:ri}=s.useContext(ze.Z),qr=(ri||Ii)==="rtl",[Jr,wr]=Wt(),[Yn,yr]=Wt(),Pr=Object.assign({},ai),{open:Ir,placement:Xr,getPopupContainer:rr,prefixCls:gr,formatter:ei}=Pr,Un=Ir!=null?Ir:he,si=(Jr||Yn)&&Un!==!1,Si=cr(ei,bn),[Yi,xo]=Wt(),Qr=Re=>{$e==null||$e(Re),xo(!1)},co=(Re,de)=>Re||(de?qr?"left":"right":"top"),tn=Wr("slider",Kt),[Tn,ir,kr]=Pt(tn),gi=q()(Ln,pr,Ot.root,An==null?void 0:An.root,hn,{[`${tn}-rtl`]:qr,[`${tn}-lock`]:Yi},ir,kr);qr&&!Kr.vertical&&(Kr.reverse=!Kr.reverse),s.useEffect(()=>{const Re=()=>{(0,xe.Z)(()=>{yr(!1)},1)};return document.addEventListener("mouseup",Re),()=>{document.removeEventListener("mouseup",Re)}},[]);const li=Fe&&!Un,eo=Vn||((Re,de)=>{const{index:Y}=de,Ze=Re.props;function pe(At,sn,vn){var Je,Rt,Xt,nn;vn&&((Rt=(Je=Kr)[At])===null||Rt===void 0||Rt.call(Je,sn)),(nn=(Xt=Ze)[At])===null||nn===void 0||nn.call(Xt,sn)}const et=Object.assign(Object.assign({},Ze),{onMouseEnter:At=>{wr(!0),pe("onMouseEnter",At)},onMouseLeave:At=>{wr(!1),pe("onMouseLeave",At)},onMouseDown:At=>{yr(!0),xo(!0),pe("onMouseDown",At)},onFocus:At=>{var sn;yr(!0),(sn=Kr.onFocus)===null||sn===void 0||sn.call(Kr,At),pe("onFocus",At,!0)},onBlur:At=>{var sn;yr(!1),(sn=Kr.onBlur)===null||sn===void 0||sn.call(Kr,At),pe("onBlur",At,!0)}}),nt=s.cloneElement(Re,et),ln=(!!Un||si)&&Si!==null;return li?nt:s.createElement(je,Object.assign({},Pr,{prefixCls:Wr("tooltip",gr!=null?gr:Yt),title:Si?Si(de.value):"",open:ln,placement:co(Xr!=null?Xr:wi,Rn),key:Y,classNames:{root:`${tn}-tooltip`},getPopupContainer:rr||Jt||fn}),nt)}),io=li?(Re,de)=>{const Y=s.cloneElement(Re,{style:Object.assign(Object.assign({},Re.props.style),{visibility:"hidden"})});return s.createElement(je,Object.assign({},Pr,{prefixCls:Wr("tooltip",gr!=null?gr:Yt),title:Si?Si(de.value):"",open:Si!==null&&si,placement:co(Xr!=null?Xr:wi,Rn),key:"tooltip",classNames:{root:`${tn}-tooltip`},getPopupContainer:rr||Jt||fn,draggingDelete:de.draggingDelete}),Y)}:void 0,Lo=Object.assign(Object.assign(Object.assign(Object.assign({},Bn.root),it),Ur==null?void 0:Ur.root),On),Co=Object.assign(Object.assign({},Bn.tracks),Ur==null?void 0:Ur.tracks),uo=q()(Ot.tracks,An==null?void 0:An.tracks);return Tn(s.createElement(c.Z,Object.assign({},Kr,{classNames:Object.assign({handle:q()(Ot.handle,An==null?void 0:An.handle),rail:q()(Ot.rail,An==null?void 0:An.rail),track:q()(Ot.track,An==null?void 0:An.track)},uo?{tracks:uo}:{}),styles:Object.assign({handle:Object.assign(Object.assign({},Bn.handle),Ur==null?void 0:Ur.handle),rail:Object.assign(Object.assign({},Bn.rail),Ur==null?void 0:Ur.rail),track:Object.assign(Object.assign({},Bn.track),Ur==null?void 0:Ur.track)},Object.keys(Co).length?{tracks:Co}:{}),step:Kr.step,range:Fe,className:gi,style:Lo,disabled:Er,ref:cn,prefixCls:tn,handleRender:eo,activeHandleRender:io,onChangeComplete:Qr})))})},23137:function(Hr,jt,F){"use strict";F.d(jt,{BR:function(){return je},ri:function(){return te}});var s=F(75271),tt=F(82187),q=F.n(tt),c=F(81626),xe=F(98446),Ge=F(95741),ze=F(45936),Pe=function(Qe,ot){var qe={};for(var gt in Qe)Object.prototype.hasOwnProperty.call(Qe,gt)&&ot.indexOf(gt)<0&&(qe[gt]=Qe[gt]);if(Qe!=null&&typeof Object.getOwnPropertySymbols=="function")for(var xt=0,gt=Object.getOwnPropertySymbols(Qe);xt<gt.length;xt++)ot.indexOf(gt[xt])<0&&Object.prototype.propertyIsEnumerable.call(Qe,gt[xt])&&(qe[gt[xt]]=Qe[gt[xt]]);return qe};const ye=s.createContext(null),te=(Qe,ot)=>{const qe=s.useContext(ye),gt=s.useMemo(()=>{if(!qe)return"";const{compactDirection:xt,isFirstItem:Xe,isLastItem:Ut}=qe,yt=xt==="vertical"?"-vertical-":"-";return q()(`${Qe}-compact${yt}item`,{[`${Qe}-compact${yt}first-item`]:Xe,[`${Qe}-compact${yt}last-item`]:Ut,[`${Qe}-compact${yt}item-rtl`]:ot==="rtl"})},[Qe,ot,qe]);return{compactSize:qe==null?void 0:qe.compactSize,compactDirection:qe==null?void 0:qe.compactDirection,compactItemClassnames:gt}},je=Qe=>{const{children:ot}=Qe;return s.createElement(ye.Provider,{value:null},ot)},Ee=Qe=>{const{children:ot}=Qe,qe=Pe(Qe,["children"]);return s.createElement(ye.Provider,{value:s.useMemo(()=>qe,[qe])},ot)},He=Qe=>{const{getPrefixCls:ot,direction:qe}=s.useContext(xe.E_),{size:gt,direction:xt,block:Xe,prefixCls:Ut,className:yt,rootClassName:Pt,children:Wt}=Qe,kt=Pe(Qe,["size","direction","block","prefixCls","className","rootClassName","children"]),Sr=(0,Ge.Z)(Ln=>gt!=null?gt:Ln),cr=ot("space-compact",Ut),[Xn,We]=(0,ze.Z)(cr),Zt=q()(cr,We,{[`${cr}-rtl`]:qe==="rtl",[`${cr}-block`]:Xe,[`${cr}-vertical`]:xt==="vertical"},yt,Pt),cn=s.useContext(ye),Kt=(0,c.Z)(Wt),Fe=s.useMemo(()=>Kt.map((Ln,hn)=>{const On=(Ln==null?void 0:Ln.key)||`${cr}-item-${hn}`;return s.createElement(Ee,{key:On,compactSize:Sr,compactDirection:xt,isFirstItem:hn===0&&(!cn||(cn==null?void 0:cn.isFirstItem)),isLastItem:hn===Kt.length-1&&(!cn||(cn==null?void 0:cn.isLastItem))},Ln)}),[gt,Kt,cn]);return Kt.length===0?null:Xn(s.createElement("div",Object.assign({className:Zt},kt),Fe))};jt.ZP=He},45936:function(Hr,jt,F){"use strict";F.d(jt,{Z:function(){return Pe}});var s=F(84825),tt=F(83509),c=ye=>{const{componentCls:te}=ye;return{[te]:{"&-block":{display:"flex",width:"100%"},"&-vertical":{flexDirection:"column"}}}};const xe=ye=>{const{componentCls:te,antCls:je}=ye;return{[te]:{display:"inline-flex","&-rtl":{direction:"rtl"},"&-vertical":{flexDirection:"column"},"&-align":{flexDirection:"column","&-center":{alignItems:"center"},"&-start":{alignItems:"flex-start"},"&-end":{alignItems:"flex-end"},"&-baseline":{alignItems:"baseline"}},[`${te}-item:empty`]:{display:"none"},[`${te}-item > ${je}-badge-not-a-wrapper:only-child`]:{display:"block"}}}},Ge=ye=>{const{componentCls:te}=ye;return{[te]:{"&-gap-row-small":{rowGap:ye.spaceGapSmallSize},"&-gap-row-middle":{rowGap:ye.spaceGapMiddleSize},"&-gap-row-large":{rowGap:ye.spaceGapLargeSize},"&-gap-col-small":{columnGap:ye.spaceGapSmallSize},"&-gap-col-middle":{columnGap:ye.spaceGapMiddleSize},"&-gap-col-large":{columnGap:ye.spaceGapLargeSize}}}},ze=()=>({});var Pe=(0,s.I$)("Space",ye=>{const te=(0,tt.IX)(ye,{spaceGapSmallSize:ye.paddingXS,spaceGapMiddleSize:ye.padding,spaceGapLargeSize:ye.paddingLG});return[xe(te),Ge(te),c(te)]},()=>({}),{resetStyle:!1})},9288:function(Hr,jt,F){"use strict";F.d(jt,{c:function(){return q}});function s(c,xe,Ge){const{focusElCls:ze,focus:Pe,borderElCls:ye}=Ge,te=ye?"> *":"",je=["hover",Pe?"focus":null,"active"].filter(Boolean).map(Ee=>`&:${Ee} ${te}`).join(",");return{[`&-item:not(${xe}-last-item)`]:{marginInlineEnd:c.calc(c.lineWidth).mul(-1).equal()},"&-item":Object.assign(Object.assign({[je]:{zIndex:2}},ze?{[`&${ze}`]:{zIndex:2}}:{}),{[`&[disabled] ${te}`]:{zIndex:0}})}}function tt(c,xe,Ge){const{borderElCls:ze}=Ge,Pe=ze?`> ${ze}`:"";return{[`&-item:not(${xe}-first-item):not(${xe}-last-item) ${Pe}`]:{borderRadius:0},[`&-item:not(${xe}-last-item)${xe}-first-item`]:{[`& ${Pe}, &${c}-sm ${Pe}, &${c}-lg ${Pe}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`&-item:not(${xe}-first-item)${xe}-last-item`]:{[`& ${Pe}, &${c}-sm ${Pe}, &${c}-lg ${Pe}`]:{borderStartStartRadius:0,borderEndStartRadius:0}}}}function q(c){let xe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{focus:!0};const{componentCls:Ge}=c,ze=`${Ge}-compact`;return{[ze]:Object.assign(Object.assign({},s(c,ze,xe)),tt(Ge,ze,xe))}}},34299:function(Hr,jt,F){"use strict";F.d(jt,{JT:function(){return te},Lx:function(){return Ge},Nd:function(){return je},Qy:function(){return ye},Ro:function(){return c},Wf:function(){return q},dF:function(){return xe},du:function(){return ze},oN:function(){return Pe},vS:function(){return tt}});var s=F(55921);const tt={overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},q=function(Ee){let He=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return{boxSizing:"border-box",margin:0,padding:0,color:Ee.colorText,fontSize:Ee.fontSize,lineHeight:Ee.lineHeight,listStyle:"none",fontFamily:He?"inherit":Ee.fontFamily}},c=()=>({display:"inline-flex",alignItems:"center",color:"inherit",fontStyle:"normal",lineHeight:0,textAlign:"center",textTransform:"none",verticalAlign:"-0.125em",textRendering:"optimizeLegibility","-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale","> *":{lineHeight:1},svg:{display:"inline-block"}}),xe=()=>({"&::before":{display:"table",content:'""'},"&::after":{display:"table",clear:"both",content:'""'}}),Ge=Ee=>({a:{color:Ee.colorLink,textDecoration:Ee.linkDecoration,backgroundColor:"transparent",outline:"none",cursor:"pointer",transition:`color ${Ee.motionDurationSlow}`,"-webkit-text-decoration-skip":"objects","&:hover":{color:Ee.colorLinkHover},"&:active":{color:Ee.colorLinkActive},"&:active, &:hover":{textDecoration:Ee.linkHoverDecoration,outline:0},"&:focus":{textDecoration:Ee.linkFocusDecoration,outline:0},"&[disabled]":{color:Ee.colorTextDisabled,cursor:"not-allowed"}}}),ze=(Ee,He,Qe,ot)=>{const qe=`[class^="${He}"], [class*=" ${He}"]`,gt=Qe?`.${Qe}`:qe,xt={boxSizing:"border-box","&::before, &::after":{boxSizing:"border-box"}};let Xe={};return ot!==!1&&(Xe={fontFamily:Ee.fontFamily,fontSize:Ee.fontSize}),{[gt]:Object.assign(Object.assign(Object.assign({},Xe),xt),{[qe]:xt})}},Pe=(Ee,He)=>({outline:`${(0,s.bf)(Ee.lineWidthFocus)} solid ${Ee.colorPrimaryBorder}`,outlineOffset:He!=null?He:1,transition:"outline-offset 0s, outline 0s"}),ye=(Ee,He)=>({"&:focus-visible":Object.assign({},Pe(Ee,He))}),te=Ee=>({[`.${Ee}`]:Object.assign(Object.assign({},c()),{[`.${Ee} .${Ee}-icon`]:{display:"block"}})}),je=Ee=>Object.assign(Object.assign({color:Ee.colorLink,textDecoration:Ee.linkDecoration,outline:"none",cursor:"pointer",transition:`all ${Ee.motionDurationSlow}`,border:0,padding:0,background:"none",userSelect:"none"},ye(Ee)),{"&:focus, &:hover":{color:Ee.colorLinkHover},"&:active":{color:Ee.colorLinkActive}})},40894:function(Hr,jt){"use strict";const F=s=>({[s.componentCls]:{[`${s.antCls}-motion-collapse-legacy`]:{overflow:"hidden","&-active":{transition:`height ${s.motionDurationMid} ${s.motionEaseInOut},
        opacity ${s.motionDurationMid} ${s.motionEaseInOut} !important`}},[`${s.antCls}-motion-collapse`]:{overflow:"hidden",transition:`height ${s.motionDurationMid} ${s.motionEaseInOut},
        opacity ${s.motionDurationMid} ${s.motionEaseInOut} !important`}}});jt.Z=F},79318:function(Hr,jt,F){"use strict";F.d(jt,{R:function(){return q}});const s=c=>({animationDuration:c,animationFillMode:"both"}),tt=c=>({animationDuration:c,animationFillMode:"both"}),q=function(c,xe,Ge,ze){const ye=(arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1)?"&":"";return{[`
      ${ye}${c}-enter,
      ${ye}${c}-appear
    `]:Object.assign(Object.assign({},s(ze)),{animationPlayState:"paused"}),[`${ye}${c}-leave`]:Object.assign(Object.assign({},tt(ze)),{animationPlayState:"paused"}),[`
      ${ye}${c}-enter${c}-enter-active,
      ${ye}${c}-appear${c}-appear-active
    `]:{animationName:xe,animationPlayState:"running"},[`${ye}${c}-leave${c}-leave-active`]:{animationName:Ge,animationPlayState:"running",pointerEvents:"none"}}}},48221:function(Hr,jt,F){"use strict";F.d(jt,{Fm:function(){return Ee}});var s=F(55921),tt=F(79318);const q=new s.E4("antMoveDownIn",{"0%":{transform:"translate3d(0, 100%, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),c=new s.E4("antMoveDownOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(0, 100%, 0)",transformOrigin:"0 0",opacity:0}}),xe=new s.E4("antMoveLeftIn",{"0%":{transform:"translate3d(-100%, 0, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),Ge=new s.E4("antMoveLeftOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(-100%, 0, 0)",transformOrigin:"0 0",opacity:0}}),ze=new s.E4("antMoveRightIn",{"0%":{transform:"translate3d(100%, 0, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),Pe=new s.E4("antMoveRightOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(100%, 0, 0)",transformOrigin:"0 0",opacity:0}}),ye=new s.E4("antMoveUpIn",{"0%":{transform:"translate3d(0, -100%, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),te=new s.E4("antMoveUpOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(0, -100%, 0)",transformOrigin:"0 0",opacity:0}}),je={"move-up":{inKeyframes:ye,outKeyframes:te},"move-down":{inKeyframes:q,outKeyframes:c},"move-left":{inKeyframes:xe,outKeyframes:Ge},"move-right":{inKeyframes:ze,outKeyframes:Pe}},Ee=(He,Qe)=>{const{antCls:ot}=He,qe=`${ot}-${Qe}`,{inKeyframes:gt,outKeyframes:xt}=je[Qe];return[(0,tt.R)(qe,gt,xt,He.motionDurationMid),{[`
        ${qe}-enter,
        ${qe}-appear
      `]:{opacity:0,animationTimingFunction:He.motionEaseOutCirc},[`${qe}-leave`]:{animationTimingFunction:He.motionEaseInOutCirc}}]}},17877:function(Hr,jt,F){"use strict";F.d(jt,{Qt:function(){return xe},Uw:function(){return c},fJ:function(){return q},ly:function(){return Ge},oN:function(){return Ee}});var s=F(55921),tt=F(79318);const q=new s.E4("antSlideUpIn",{"0%":{transform:"scaleY(0.8)",transformOrigin:"0% 0%",opacity:0},"100%":{transform:"scaleY(1)",transformOrigin:"0% 0%",opacity:1}}),c=new s.E4("antSlideUpOut",{"0%":{transform:"scaleY(1)",transformOrigin:"0% 0%",opacity:1},"100%":{transform:"scaleY(0.8)",transformOrigin:"0% 0%",opacity:0}}),xe=new s.E4("antSlideDownIn",{"0%":{transform:"scaleY(0.8)",transformOrigin:"100% 100%",opacity:0},"100%":{transform:"scaleY(1)",transformOrigin:"100% 100%",opacity:1}}),Ge=new s.E4("antSlideDownOut",{"0%":{transform:"scaleY(1)",transformOrigin:"100% 100%",opacity:1},"100%":{transform:"scaleY(0.8)",transformOrigin:"100% 100%",opacity:0}}),ze=new s.E4("antSlideLeftIn",{"0%":{transform:"scaleX(0.8)",transformOrigin:"0% 0%",opacity:0},"100%":{transform:"scaleX(1)",transformOrigin:"0% 0%",opacity:1}}),Pe=new s.E4("antSlideLeftOut",{"0%":{transform:"scaleX(1)",transformOrigin:"0% 0%",opacity:1},"100%":{transform:"scaleX(0.8)",transformOrigin:"0% 0%",opacity:0}}),ye=new s.E4("antSlideRightIn",{"0%":{transform:"scaleX(0.8)",transformOrigin:"100% 0%",opacity:0},"100%":{transform:"scaleX(1)",transformOrigin:"100% 0%",opacity:1}}),te=new s.E4("antSlideRightOut",{"0%":{transform:"scaleX(1)",transformOrigin:"100% 0%",opacity:1},"100%":{transform:"scaleX(0.8)",transformOrigin:"100% 0%",opacity:0}}),je={"slide-up":{inKeyframes:q,outKeyframes:c},"slide-down":{inKeyframes:xe,outKeyframes:Ge},"slide-left":{inKeyframes:ze,outKeyframes:Pe},"slide-right":{inKeyframes:ye,outKeyframes:te}},Ee=(He,Qe)=>{const{antCls:ot}=He,qe=`${ot}-${Qe}`,{inKeyframes:gt,outKeyframes:xt}=je[Qe];return[(0,tt.R)(qe,gt,xt,He.motionDurationMid),{[`
      ${qe}-enter,
      ${qe}-appear
    `]:{transform:"scale(0)",transformOrigin:"0% 0%",opacity:0,animationTimingFunction:He.motionEaseOutQuint,"&-prepare":{transform:"scale(1)"}},[`${qe}-leave`]:{animationTimingFunction:He.motionEaseInQuint}}]}},3153:function(Hr,jt,F){"use strict";F.d(jt,{_y:function(){return qe},kr:function(){return q}});var s=F(55921),tt=F(79318);const q=new s.E4("antZoomIn",{"0%":{transform:"scale(0.2)",opacity:0},"100%":{transform:"scale(1)",opacity:1}}),c=new s.E4("antZoomOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0.2)",opacity:0}}),xe=new s.E4("antZoomBigIn",{"0%":{transform:"scale(0.8)",opacity:0},"100%":{transform:"scale(1)",opacity:1}}),Ge=new s.E4("antZoomBigOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0.8)",opacity:0}}),ze=new s.E4("antZoomUpIn",{"0%":{transform:"scale(0.8)",transformOrigin:"50% 0%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"50% 0%"}}),Pe=new s.E4("antZoomUpOut",{"0%":{transform:"scale(1)",transformOrigin:"50% 0%"},"100%":{transform:"scale(0.8)",transformOrigin:"50% 0%",opacity:0}}),ye=new s.E4("antZoomLeftIn",{"0%":{transform:"scale(0.8)",transformOrigin:"0% 50%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"0% 50%"}}),te=new s.E4("antZoomLeftOut",{"0%":{transform:"scale(1)",transformOrigin:"0% 50%"},"100%":{transform:"scale(0.8)",transformOrigin:"0% 50%",opacity:0}}),je=new s.E4("antZoomRightIn",{"0%":{transform:"scale(0.8)",transformOrigin:"100% 50%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"100% 50%"}}),Ee=new s.E4("antZoomRightOut",{"0%":{transform:"scale(1)",transformOrigin:"100% 50%"},"100%":{transform:"scale(0.8)",transformOrigin:"100% 50%",opacity:0}}),He=new s.E4("antZoomDownIn",{"0%":{transform:"scale(0.8)",transformOrigin:"50% 100%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"50% 100%"}}),Qe=new s.E4("antZoomDownOut",{"0%":{transform:"scale(1)",transformOrigin:"50% 100%"},"100%":{transform:"scale(0.8)",transformOrigin:"50% 100%",opacity:0}}),ot={zoom:{inKeyframes:q,outKeyframes:c},"zoom-big":{inKeyframes:xe,outKeyframes:Ge},"zoom-big-fast":{inKeyframes:xe,outKeyframes:Ge},"zoom-left":{inKeyframes:ye,outKeyframes:te},"zoom-right":{inKeyframes:je,outKeyframes:Ee},"zoom-up":{inKeyframes:ze,outKeyframes:Pe},"zoom-down":{inKeyframes:He,outKeyframes:Qe}},qe=(gt,xt)=>{const{antCls:Xe}=gt,Ut=`${Xe}-${xt}`,{inKeyframes:yt,outKeyframes:Pt}=ot[xt];return[(0,tt.R)(Ut,yt,Pt,xt==="zoom-big-fast"?gt.motionDurationFast:gt.motionDurationMid),{[`
        ${Ut}-enter,
        ${Ut}-appear
      `]:{transform:"scale(0)",opacity:0,animationTimingFunction:gt.motionEaseOutCirc,"&-prepare":{transform:"none"}},[`${Ut}-leave`]:{animationTimingFunction:gt.motionEaseInOutCirc}}]}},18533:function(Hr,jt,F){"use strict";F.d(jt,{ZP:function(){return Ge},qN:function(){return q},wZ:function(){return c}});var s=F(55921),tt=F(2276);const q=8;function c(ze){const{contentRadius:Pe,limitVerticalRadius:ye}=ze,te=Pe>12?Pe+2:12;return{arrowOffsetHorizontal:te,arrowOffsetVertical:ye?q:te}}function xe(ze,Pe){return ze?Pe:{}}function Ge(ze,Pe,ye){const{componentCls:te,boxShadowPopoverArrow:je,arrowOffsetVertical:Ee,arrowOffsetHorizontal:He}=ze,{arrowDistance:Qe=0,arrowPlacement:ot={left:!0,right:!0,top:!0,bottom:!0}}=ye||{};return{[te]:Object.assign(Object.assign(Object.assign(Object.assign({[`${te}-arrow`]:[Object.assign(Object.assign({position:"absolute",zIndex:1,display:"block"},(0,tt.W)(ze,Pe,je)),{"&:before":{background:Pe}})]},xe(!!ot.top,{[[`&-placement-top > ${te}-arrow`,`&-placement-topLeft > ${te}-arrow`,`&-placement-topRight > ${te}-arrow`].join(",")]:{bottom:Qe,transform:"translateY(100%) rotate(180deg)"},[`&-placement-top > ${te}-arrow`]:{left:{_skip_check_:!0,value:"50%"},transform:"translateX(-50%) translateY(100%) rotate(180deg)"},"&-placement-topLeft":{"--arrow-offset-horizontal":He,[`> ${te}-arrow`]:{left:{_skip_check_:!0,value:He}}},"&-placement-topRight":{"--arrow-offset-horizontal":`calc(100% - ${(0,s.bf)(He)})`,[`> ${te}-arrow`]:{right:{_skip_check_:!0,value:He}}}})),xe(!!ot.bottom,{[[`&-placement-bottom > ${te}-arrow`,`&-placement-bottomLeft > ${te}-arrow`,`&-placement-bottomRight > ${te}-arrow`].join(",")]:{top:Qe,transform:"translateY(-100%)"},[`&-placement-bottom > ${te}-arrow`]:{left:{_skip_check_:!0,value:"50%"},transform:"translateX(-50%) translateY(-100%)"},"&-placement-bottomLeft":{"--arrow-offset-horizontal":He,[`> ${te}-arrow`]:{left:{_skip_check_:!0,value:He}}},"&-placement-bottomRight":{"--arrow-offset-horizontal":`calc(100% - ${(0,s.bf)(He)})`,[`> ${te}-arrow`]:{right:{_skip_check_:!0,value:He}}}})),xe(!!ot.left,{[[`&-placement-left > ${te}-arrow`,`&-placement-leftTop > ${te}-arrow`,`&-placement-leftBottom > ${te}-arrow`].join(",")]:{right:{_skip_check_:!0,value:Qe},transform:"translateX(100%) rotate(90deg)"},[`&-placement-left > ${te}-arrow`]:{top:{_skip_check_:!0,value:"50%"},transform:"translateY(-50%) translateX(100%) rotate(90deg)"},[`&-placement-leftTop > ${te}-arrow`]:{top:Ee},[`&-placement-leftBottom > ${te}-arrow`]:{bottom:Ee}})),xe(!!ot.right,{[[`&-placement-right > ${te}-arrow`,`&-placement-rightTop > ${te}-arrow`,`&-placement-rightBottom > ${te}-arrow`].join(",")]:{left:{_skip_check_:!0,value:Qe},transform:"translateX(-100%) rotate(-90deg)"},[`&-placement-right > ${te}-arrow`]:{top:{_skip_check_:!0,value:"50%"},transform:"translateY(-50%) translateX(-100%) rotate(-90deg)"},[`&-placement-rightTop > ${te}-arrow`]:{top:Ee},[`&-placement-rightBottom > ${te}-arrow`]:{bottom:Ee}}))}}},2276:function(Hr,jt,F){"use strict";F.d(jt,{W:function(){return q},w:function(){return tt}});var s=F(55921);function tt(c){const{sizePopupArrow:xe,borderRadiusXS:Ge,borderRadiusOuter:ze}=c,Pe=xe/2,ye=0,te=Pe,je=ze*1/Math.sqrt(2),Ee=Pe-ze*(1-1/Math.sqrt(2)),He=Pe-Ge*(1/Math.sqrt(2)),Qe=ze*(Math.sqrt(2)-1)+Ge*(1/Math.sqrt(2)),ot=2*Pe-He,qe=Qe,gt=2*Pe-je,xt=Ee,Xe=2*Pe-ye,Ut=te,yt=Pe*Math.sqrt(2)+ze*(Math.sqrt(2)-2),Pt=ze*(Math.sqrt(2)-1),Wt=`polygon(${Pt}px 100%, 50% ${Pt}px, ${2*Pe-Pt}px 100%, ${Pt}px 100%)`,kt=`path('M ${ye} ${te} A ${ze} ${ze} 0 0 0 ${je} ${Ee} L ${He} ${Qe} A ${Ge} ${Ge} 0 0 1 ${ot} ${qe} L ${gt} ${xt} A ${ze} ${ze} 0 0 0 ${Xe} ${Ut} Z')`;return{arrowShadowWidth:yt,arrowPath:kt,arrowPolygon:Wt}}const q=(c,xe,Ge)=>{const{sizePopupArrow:ze,arrowPolygon:Pe,arrowPath:ye,arrowShadowWidth:te,borderRadiusXS:je,calc:Ee}=c;return{pointerEvents:"none",width:ze,height:ze,overflow:"hidden","&::before":{position:"absolute",bottom:0,insetInlineStart:0,width:ze,height:Ee(ze).div(2).equal(),background:xe,clipPath:{_multi_value_:!0,value:[Pe,ye]},content:'""'},"&::after":{content:'""',position:"absolute",width:te,height:te,bottom:0,insetInline:0,margin:"auto",borderRadius:{_skip_check_:!0,value:`0 0 ${(0,s.bf)(je)} 0`},transform:"translateY(50%) rotate(-135deg)",boxShadow:Ge,zIndex:0,background:"transparent"}}}},20284:function(Hr,jt,F){"use strict";F.d(jt,{Mj:function(){return c},u_:function(){return q}});var s=F(75271),tt=F(30767);const q={token:tt.Z,override:{override:tt.Z},hashed:!0},c=s.createContext(q)},98990:function(Hr,jt,F){"use strict";F.d(jt,{i:function(){return s}});const s=["blue","purple","cyan","green","magenta","pink","red","orange","yellow","volcano","geekblue","lime","gold"]},28893:function(Hr,jt,F){"use strict";F.d(jt,{Z:function(){return ot}});var s=F(68640),tt=F(30767),q=F(40329),xe=qe=>{let gt=qe,xt=qe,Xe=qe,Ut=qe;return qe<6&&qe>=5?gt=qe+1:qe<16&&qe>=6?gt=qe+2:qe>=16&&(gt=16),qe<7&&qe>=5?xt=4:qe<8&&qe>=7?xt=5:qe<14&&qe>=8?xt=6:qe<16&&qe>=14?xt=7:qe>=16&&(xt=8),qe<6&&qe>=2?Xe=1:qe>=6&&(Xe=2),qe>4&&qe<8?Ut=4:qe>=8&&(Ut=6),{borderRadius:qe,borderRadiusXS:Xe,borderRadiusSM:xt,borderRadiusLG:gt,borderRadiusOuter:Ut}};function Ge(qe){const{motionUnit:gt,motionBase:xt,borderRadius:Xe,lineWidth:Ut}=qe;return Object.assign({motionDurationFast:`${(xt+gt).toFixed(1)}s`,motionDurationMid:`${(xt+gt*2).toFixed(1)}s`,motionDurationSlow:`${(xt+gt*3).toFixed(1)}s`,lineWidthBold:Ut+1},xe(Xe))}var ze=F(10154),Pe=F(79319);function ye(qe){const{sizeUnit:gt,sizeStep:xt}=qe;return{sizeXXL:gt*(xt+8),sizeXL:gt*(xt+4),sizeLG:gt*(xt+2),sizeMD:gt*(xt+1),sizeMS:gt*xt,size:gt*xt,sizeSM:gt*(xt-1),sizeXS:gt*(xt-2),sizeXXS:gt*(xt-3)}}var te=F(84432);const je=(qe,gt)=>new te.t(qe).setA(gt).toRgbString(),Ee=(qe,gt)=>new te.t(qe).darken(gt).toHexString(),He=qe=>{const gt=(0,s.R_)(qe);return{1:gt[0],2:gt[1],3:gt[2],4:gt[3],5:gt[4],6:gt[5],7:gt[6],8:gt[4],9:gt[5],10:gt[6]}},Qe=(qe,gt)=>{const xt=qe||"#fff",Xe=gt||"#000";return{colorBgBase:xt,colorTextBase:Xe,colorText:je(Xe,.88),colorTextSecondary:je(Xe,.65),colorTextTertiary:je(Xe,.45),colorTextQuaternary:je(Xe,.25),colorFill:je(Xe,.15),colorFillSecondary:je(Xe,.06),colorFillTertiary:je(Xe,.04),colorFillQuaternary:je(Xe,.02),colorBgSolid:je(Xe,1),colorBgSolidHover:je(Xe,.75),colorBgSolidActive:je(Xe,.95),colorBgLayout:Ee(xt,4),colorBgContainer:Ee(xt,0),colorBgElevated:Ee(xt,0),colorBgSpotlight:je(Xe,.85),colorBgBlur:"transparent",colorBorder:Ee(xt,15),colorBorderSecondary:Ee(xt,6)}};function ot(qe){s.ez.pink=s.ez.magenta,s.Ti.pink=s.Ti.magenta;const gt=Object.keys(tt.M).map(xt=>{const Xe=qe[xt]===s.ez[xt]?s.Ti[xt]:(0,s.R_)(qe[xt]);return Array.from({length:10},()=>1).reduce((Ut,yt,Pt)=>(Ut[`${xt}-${Pt+1}`]=Xe[Pt],Ut[`${xt}${Pt+1}`]=Xe[Pt],Ut),{})}).reduce((xt,Xe)=>(xt=Object.assign(Object.assign({},xt),Xe),xt),{});return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},qe),gt),(0,q.Z)(qe,{generateColorPalettes:He,generateNeutralColorPalettes:Qe})),(0,Pe.Z)(qe.fontSize)),ye(qe)),(0,ze.Z)(qe)),Ge(qe))}},38920:function(Hr,jt,F){"use strict";var s=F(55921),tt=F(28893);const q=(0,s.jG)(tt.Z);jt.Z=q},30767:function(Hr,jt,F){"use strict";F.d(jt,{M:function(){return s}});const s={blue:"#1677FF",purple:"#722ED1",cyan:"#13C2C2",green:"#52C41A",magenta:"#EB2F96",pink:"#EB2F96",red:"#F5222D",orange:"#FA8C16",yellow:"#FADB14",volcano:"#FA541C",geekblue:"#2F54EB",gold:"#FAAD14",lime:"#A0D911"},tt=Object.assign(Object.assign({},s),{colorPrimary:"#1677ff",colorSuccess:"#52c41a",colorWarning:"#faad14",colorError:"#ff4d4f",colorInfo:"#1677ff",colorLink:"",colorTextBase:"",colorBgBase:"",fontFamily:`-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial,
'Noto Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol',
'Noto Color Emoji'`,fontFamilyCode:"'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, Courier, monospace",fontSize:14,lineWidth:1,lineType:"solid",motionUnit:.1,motionBase:0,motionEaseOutCirc:"cubic-bezier(0.08, 0.82, 0.17, 1)",motionEaseInOutCirc:"cubic-bezier(0.78, 0.14, 0.15, 0.86)",motionEaseOut:"cubic-bezier(0.215, 0.61, 0.355, 1)",motionEaseInOut:"cubic-bezier(0.645, 0.045, 0.355, 1)",motionEaseOutBack:"cubic-bezier(0.12, 0.4, 0.29, 1.46)",motionEaseInBack:"cubic-bezier(0.71, -0.46, 0.88, 0.6)",motionEaseInQuint:"cubic-bezier(0.755, 0.05, 0.855, 0.06)",motionEaseOutQuint:"cubic-bezier(0.23, 1, 0.32, 1)",borderRadius:6,sizeUnit:4,sizeStep:4,sizePopupArrow:16,controlHeight:32,zIndexBase:0,zIndexPopupBase:1e3,opacityImage:1,wireframe:!1,motion:!0});jt.Z=tt},40329:function(Hr,jt,F){"use strict";F.d(jt,{Z:function(){return tt}});var s=F(84432);function tt(q,c){let{generateColorPalettes:xe,generateNeutralColorPalettes:Ge}=c;const{colorSuccess:ze,colorWarning:Pe,colorError:ye,colorInfo:te,colorPrimary:je,colorBgBase:Ee,colorTextBase:He}=q,Qe=xe(je),ot=xe(ze),qe=xe(Pe),gt=xe(ye),xt=xe(te),Xe=Ge(Ee,He),Ut=q.colorLink||q.colorInfo,yt=xe(Ut),Pt=new s.t(gt[1]).mix(new s.t(gt[3]),50).toHexString();return Object.assign(Object.assign({},Xe),{colorPrimaryBg:Qe[1],colorPrimaryBgHover:Qe[2],colorPrimaryBorder:Qe[3],colorPrimaryBorderHover:Qe[4],colorPrimaryHover:Qe[5],colorPrimary:Qe[6],colorPrimaryActive:Qe[7],colorPrimaryTextHover:Qe[8],colorPrimaryText:Qe[9],colorPrimaryTextActive:Qe[10],colorSuccessBg:ot[1],colorSuccessBgHover:ot[2],colorSuccessBorder:ot[3],colorSuccessBorderHover:ot[4],colorSuccessHover:ot[4],colorSuccess:ot[6],colorSuccessActive:ot[7],colorSuccessTextHover:ot[8],colorSuccessText:ot[9],colorSuccessTextActive:ot[10],colorErrorBg:gt[1],colorErrorBgHover:gt[2],colorErrorBgFilledHover:Pt,colorErrorBgActive:gt[3],colorErrorBorder:gt[3],colorErrorBorderHover:gt[4],colorErrorHover:gt[5],colorError:gt[6],colorErrorActive:gt[7],colorErrorTextHover:gt[8],colorErrorText:gt[9],colorErrorTextActive:gt[10],colorWarningBg:qe[1],colorWarningBgHover:qe[2],colorWarningBorder:qe[3],colorWarningBorderHover:qe[4],colorWarningHover:qe[4],colorWarning:qe[6],colorWarningActive:qe[7],colorWarningTextHover:qe[8],colorWarningText:qe[9],colorWarningTextActive:qe[10],colorInfoBg:xt[1],colorInfoBgHover:xt[2],colorInfoBorder:xt[3],colorInfoBorderHover:xt[4],colorInfoHover:xt[4],colorInfo:xt[6],colorInfoActive:xt[7],colorInfoTextHover:xt[8],colorInfoText:xt[9],colorInfoTextActive:xt[10],colorLinkHover:yt[4],colorLink:yt[6],colorLinkActive:yt[7],colorBgMask:new s.t("#000").setA(.45).toRgbString(),colorWhite:"#fff"})}},10154:function(Hr,jt){"use strict";const F=s=>{const{controlHeight:tt}=s;return{controlHeightSM:tt*.75,controlHeightXS:tt*.5,controlHeightLG:tt*1.25}};jt.Z=F},79319:function(Hr,jt,F){"use strict";var s=F(78611);const tt=q=>{const c=(0,s.Z)(q),xe=c.map(He=>He.size),Ge=c.map(He=>He.lineHeight),ze=xe[1],Pe=xe[0],ye=xe[2],te=Ge[1],je=Ge[0],Ee=Ge[2];return{fontSizeSM:Pe,fontSize:ze,fontSizeLG:ye,fontSizeXL:xe[3],fontSizeHeading1:xe[6],fontSizeHeading2:xe[5],fontSizeHeading3:xe[4],fontSizeHeading4:xe[3],fontSizeHeading5:xe[2],lineHeight:te,lineHeightLG:Ee,lineHeightSM:je,fontHeight:Math.round(te*ze),fontHeightLG:Math.round(Ee*ye),fontHeightSM:Math.round(je*Pe),lineHeightHeading1:Ge[6],lineHeightHeading2:Ge[5],lineHeightHeading3:Ge[4],lineHeightHeading4:Ge[3],lineHeightHeading5:Ge[2]}};jt.Z=tt},78611:function(Hr,jt,F){"use strict";F.d(jt,{D:function(){return s},Z:function(){return tt}});function s(q){return(q+8)/q}function tt(q){const c=Array.from({length:10}).map((xe,Ge)=>{const ze=Ge-1,Pe=q*Math.pow(Math.E,ze/5),ye=Ge>1?Math.floor(Pe):Math.ceil(Pe);return Math.floor(ye/2)*2});return c[1]=q,c.map(xe=>({size:xe,lineHeight:s(xe)}))}},67699:function(Hr,jt,F){"use strict";F.d(jt,{NJ:function(){return ye},ZP:function(){return He}});var s=F(75271),tt=F(55921),q=F(41424),c=F(20284),xe=F(38920),Ge=F(30767),ze=F(33598),Pe=function(Qe,ot){var qe={};for(var gt in Qe)Object.prototype.hasOwnProperty.call(Qe,gt)&&ot.indexOf(gt)<0&&(qe[gt]=Qe[gt]);if(Qe!=null&&typeof Object.getOwnPropertySymbols=="function")for(var xt=0,gt=Object.getOwnPropertySymbols(Qe);xt<gt.length;xt++)ot.indexOf(gt[xt])<0&&Object.prototype.propertyIsEnumerable.call(Qe,gt[xt])&&(qe[gt[xt]]=Qe[gt[xt]]);return qe};const ye={lineHeight:!0,lineHeightSM:!0,lineHeightLG:!0,lineHeightHeading1:!0,lineHeightHeading2:!0,lineHeightHeading3:!0,lineHeightHeading4:!0,lineHeightHeading5:!0,opacityLoading:!0,fontWeightStrong:!0,zIndexPopupBase:!0,zIndexBase:!0,opacityImage:!0},te={size:!0,sizeSM:!0,sizeLG:!0,sizeMD:!0,sizeXS:!0,sizeXXS:!0,sizeMS:!0,sizeXL:!0,sizeXXL:!0,sizeUnit:!0,sizeStep:!0,motionBase:!0,motionUnit:!0},je={screenXS:!0,screenXSMin:!0,screenXSMax:!0,screenSM:!0,screenSMMin:!0,screenSMMax:!0,screenMD:!0,screenMDMin:!0,screenMDMax:!0,screenLG:!0,screenLGMin:!0,screenLGMax:!0,screenXL:!0,screenXLMin:!0,screenXLMax:!0,screenXXL:!0,screenXXLMin:!0},Ee=(Qe,ot,qe)=>{const gt=qe.getDerivativeToken(Qe),{override:xt}=ot,Xe=Pe(ot,["override"]);let Ut=Object.assign(Object.assign({},gt),{override:xt});return Ut=(0,ze.Z)(Ut),Xe&&Object.entries(Xe).forEach(yt=>{let[Pt,Wt]=yt;const{theme:kt}=Wt,Sr=Pe(Wt,["theme"]);let cr=Sr;kt&&(cr=Ee(Object.assign(Object.assign({},Ut),Sr),{override:Sr},kt)),Ut[Pt]=cr}),Ut};function He(){const{token:Qe,hashed:ot,theme:qe,override:gt,cssVar:xt}=s.useContext(c.Mj),Xe=`${q.Z}-${ot||""}`,Ut=qe||xe.Z,[yt,Pt,Wt]=(0,tt.fp)(Ut,[Ge.Z,Qe],{salt:Xe,override:gt,getComputedToken:Ee,formatToken:ze.Z,cssVar:xt&&{prefix:xt.prefix,key:xt.key,unitless:ye,ignore:te,preserve:je}});return[Ut,Wt,ot?Pt:"",yt,xt]}},33598:function(Hr,jt,F){"use strict";F.d(jt,{Z:function(){return xe}});var s=F(84432),tt=F(30767),q=F(58570),c=function(Ge,ze){var Pe={};for(var ye in Ge)Object.prototype.hasOwnProperty.call(Ge,ye)&&ze.indexOf(ye)<0&&(Pe[ye]=Ge[ye]);if(Ge!=null&&typeof Object.getOwnPropertySymbols=="function")for(var te=0,ye=Object.getOwnPropertySymbols(Ge);te<ye.length;te++)ze.indexOf(ye[te])<0&&Object.prototype.propertyIsEnumerable.call(Ge,ye[te])&&(Pe[ye[te]]=Ge[ye[te]]);return Pe};function xe(Ge){const{override:ze}=Ge,Pe=c(Ge,["override"]),ye=Object.assign({},ze);Object.keys(tt.Z).forEach(xt=>{delete ye[xt]});const te=Object.assign(Object.assign({},Pe),ye),je=480,Ee=576,He=768,Qe=992,ot=1200,qe=1600;if(te.motion===!1){const xt="0s";te.motionDurationFast=xt,te.motionDurationMid=xt,te.motionDurationSlow=xt}return Object.assign(Object.assign(Object.assign({},te),{colorFillContent:te.colorFillSecondary,colorFillContentHover:te.colorFill,colorFillAlter:te.colorFillQuaternary,colorBgContainerDisabled:te.colorFillTertiary,colorBorderBg:te.colorBgContainer,colorSplit:(0,q.Z)(te.colorBorderSecondary,te.colorBgContainer),colorTextPlaceholder:te.colorTextQuaternary,colorTextDisabled:te.colorTextQuaternary,colorTextHeading:te.colorText,colorTextLabel:te.colorTextSecondary,colorTextDescription:te.colorTextTertiary,colorTextLightSolid:te.colorWhite,colorHighlight:te.colorError,colorBgTextHover:te.colorFillSecondary,colorBgTextActive:te.colorFill,colorIcon:te.colorTextTertiary,colorIconHover:te.colorText,colorErrorOutline:(0,q.Z)(te.colorErrorBg,te.colorBgContainer),colorWarningOutline:(0,q.Z)(te.colorWarningBg,te.colorBgContainer),fontSizeIcon:te.fontSizeSM,lineWidthFocus:te.lineWidth*3,lineWidth:te.lineWidth,controlOutlineWidth:te.lineWidth*2,controlInteractiveSize:te.controlHeight/2,controlItemBgHover:te.colorFillTertiary,controlItemBgActive:te.colorPrimaryBg,controlItemBgActiveHover:te.colorPrimaryBgHover,controlItemBgActiveDisabled:te.colorFill,controlTmpOutline:te.colorFillQuaternary,controlOutline:(0,q.Z)(te.colorPrimaryBg,te.colorBgContainer),lineType:te.lineType,borderRadius:te.borderRadius,borderRadiusXS:te.borderRadiusXS,borderRadiusSM:te.borderRadiusSM,borderRadiusLG:te.borderRadiusLG,fontWeightStrong:600,opacityLoading:.65,linkDecoration:"none",linkHoverDecoration:"none",linkFocusDecoration:"none",controlPaddingHorizontal:12,controlPaddingHorizontalSM:8,paddingXXS:te.sizeXXS,paddingXS:te.sizeXS,paddingSM:te.sizeSM,padding:te.size,paddingMD:te.sizeMD,paddingLG:te.sizeLG,paddingXL:te.sizeXL,paddingContentHorizontalLG:te.sizeLG,paddingContentVerticalLG:te.sizeMS,paddingContentHorizontal:te.sizeMS,paddingContentVertical:te.sizeSM,paddingContentHorizontalSM:te.size,paddingContentVerticalSM:te.sizeXS,marginXXS:te.sizeXXS,marginXS:te.sizeXS,marginSM:te.sizeSM,margin:te.size,marginMD:te.sizeMD,marginLG:te.sizeLG,marginXL:te.sizeXL,marginXXL:te.sizeXXL,boxShadow:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowSecondary:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowTertiary:`
      0 1px 2px 0 rgba(0, 0, 0, 0.03),
      0 1px 6px -1px rgba(0, 0, 0, 0.02),
      0 2px 4px 0 rgba(0, 0, 0, 0.02)
    `,screenXS:je,screenXSMin:je,screenXSMax:Ee-1,screenSM:Ee,screenSMMin:Ee,screenSMMax:He-1,screenMD:He,screenMDMin:He,screenMDMax:Qe-1,screenLG:Qe,screenLGMin:Qe,screenLGMax:ot-1,screenXL:ot,screenXLMin:ot,screenXLMax:qe-1,screenXXL:qe,screenXXLMin:qe,boxShadowPopoverArrow:"2px 2px 5px rgba(0, 0, 0, 0.05)",boxShadowCard:`
      0 1px 2px -2px ${new s.t("rgba(0, 0, 0, 0.16)").toRgbString()},
      0 3px 6px 0 ${new s.t("rgba(0, 0, 0, 0.12)").toRgbString()},
      0 5px 12px 4px ${new s.t("rgba(0, 0, 0, 0.09)").toRgbString()}
    `,boxShadowDrawerRight:`
      -6px 0 16px 0 rgba(0, 0, 0, 0.08),
      -3px 0 6px -4px rgba(0, 0, 0, 0.12),
      -9px 0 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerLeft:`
      6px 0 16px 0 rgba(0, 0, 0, 0.08),
      3px 0 6px -4px rgba(0, 0, 0, 0.12),
      9px 0 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerUp:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerDown:`
      0 -6px 16px 0 rgba(0, 0, 0, 0.08),
      0 -3px 6px -4px rgba(0, 0, 0, 0.12),
      0 -9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowTabsOverflowLeft:"inset 10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowRight:"inset -10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowTop:"inset 0 10px 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowBottom:"inset 0 -10px 8px -8px rgba(0, 0, 0, 0.08)"}),ye)}},75428:function(Hr,jt,F){"use strict";F.d(jt,{Z:function(){return tt}});var s=F(98990);function tt(q,c){return s.i.reduce((xe,Ge)=>{const ze=q[`${Ge}1`],Pe=q[`${Ge}3`],ye=q[`${Ge}6`],te=q[`${Ge}7`];return Object.assign(Object.assign({},xe),c(Ge,{lightColor:ze,lightBorderColor:Pe,darkColor:ye,textColor:te}))},{})}},84825:function(Hr,jt,F){"use strict";F.d(jt,{A1:function(){return ze},I$:function(){return Ge},bk:function(){return Pe}});var s=F(75271),tt=F(83509),q=F(98446),c=F(34299),xe=F(67699);const{genStyleHooks:Ge,genComponentStyleHook:ze,genSubStyleComponent:Pe}=(0,tt.rb)({usePrefix:()=>{const{getPrefixCls:ye,iconPrefixCls:te}=(0,s.useContext)(q.E_);return{rootPrefixCls:ye(),iconPrefixCls:te}},useToken:()=>{const[ye,te,je,Ee,He]=(0,xe.ZP)();return{theme:ye,realToken:te,hashId:je,token:Ee,cssVar:He}},useCSP:()=>{const{csp:ye}=(0,s.useContext)(q.E_);return ye!=null?ye:{}},getResetStyles:(ye,te)=>{var je;const Ee=(0,c.Lx)(ye);return[Ee,{"&":Ee},(0,c.JT)((je=te==null?void 0:te.prefix.iconPrefixCls)!==null&&je!==void 0?je:q.oR)]},getCommonStyle:c.du,getCompUnitless:()=>xe.NJ})},58570:function(Hr,jt,F){"use strict";var s=F(84432);function tt(c){return c>=0&&c<=255}function q(c,xe){const{r:Ge,g:ze,b:Pe,a:ye}=new s.t(c).toRgb();if(ye<1)return c;const{r:te,g:je,b:Ee}=new s.t(xe).toRgb();for(let He=.01;He<=1;He+=.01){const Qe=Math.round((Ge-te*(1-He))/He),ot=Math.round((ze-je*(1-He))/He),qe=Math.round((Pe-Ee*(1-He))/He);if(tt(Qe)&&tt(ot)&&tt(qe))return new s.t({r:Qe,g:ot,b:qe,a:Math.round(He*100)/100}).toRgbString()}return new s.t({r:Ge,g:ze,b:Pe,a:1}).toRgbString()}jt.Z=q},85985:function(Hr,jt){"use strict";const F={placeholder:"Select time",rangePlaceholder:["Start time","End time"]};jt.Z=F},9202:function(Hr,jt,F){"use strict";F.d(jt,{Z:function(){return Ln}});var s=F(75271),tt=F(82187),q=F.n(tt),c=F(75219),xe=F(93954),Ge=F(78018),ze=F(19952),Pe=F(13635),ye=F(5416),te=F(26021),je=F(87117),Ee=F(61803),He=F(67699),Qe=F(98446),ot=F(55921),qe=F(34299),gt=F(3153),xt=F(18533),Xe=F(2276),Ut=F(75428),yt=F(83509),Pt=F(84825);const Wt=hn=>{const{calc:On,componentCls:ut,tooltipMaxWidth:Yt,tooltipColor:bn,tooltipBg:he,tooltipBorderRadius:Jt,zIndexPopup:wi,controlHeight:ai,boxShadowSecondary:$e,paddingSM:An,paddingXS:Ur,arrowOffsetHorizontal:Kr,sizePopupArrow:Rn}=hn,Wr=On(Jt).add(Rn).add(Kr).equal(),Ii=On(Jt).mul(2).add(Rn).equal();return[{[ut]:Object.assign(Object.assign(Object.assign(Object.assign({},(0,qe.Wf)(hn)),{position:"absolute",zIndex:wi,display:"block",width:"max-content",maxWidth:Yt,visibility:"visible","--valid-offset-x":"var(--arrow-offset-horizontal, var(--arrow-x))",transformOrigin:["var(--valid-offset-x, 50%)","var(--arrow-y, 50%)"].join(" "),"&-hidden":{display:"none"},"--antd-arrow-background-color":he,[`${ut}-inner`]:{minWidth:Ii,minHeight:ai,padding:`${(0,ot.bf)(hn.calc(An).div(2).equal())} ${(0,ot.bf)(Ur)}`,color:bn,textAlign:"start",textDecoration:"none",wordWrap:"break-word",backgroundColor:he,borderRadius:Jt,boxShadow:$e,boxSizing:"border-box"},[["&-placement-topLeft","&-placement-topRight","&-placement-bottomLeft","&-placement-bottomRight"].join(",")]:{minWidth:Wr},[["&-placement-left","&-placement-leftTop","&-placement-leftBottom","&-placement-right","&-placement-rightTop","&-placement-rightBottom"].join(",")]:{[`${ut}-inner`]:{borderRadius:hn.min(Jt,xt.qN)}},[`${ut}-content`]:{position:"relative"}}),(0,Ut.Z)(hn,(pr,it)=>{let{darkColor:Ot}=it;return{[`&${ut}-${pr}`]:{[`${ut}-inner`]:{backgroundColor:Ot},[`${ut}-arrow`]:{"--antd-arrow-background-color":Ot}}}})),{"&-rtl":{direction:"rtl"}})},(0,xt.ZP)(hn,"var(--antd-arrow-background-color)"),{[`${ut}-pure`]:{position:"relative",maxWidth:"none",margin:hn.sizePopupArrow}}]},kt=hn=>Object.assign(Object.assign({zIndexPopup:hn.zIndexPopupBase+70},(0,xt.wZ)({contentRadius:hn.borderRadius,limitVerticalRadius:!0})),(0,Xe.w)((0,yt.IX)(hn,{borderRadiusOuter:Math.min(hn.borderRadiusOuter,4)})));var Sr=function(hn){let On=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return(0,Pt.I$)("Tooltip",Yt=>{const{borderRadius:bn,colorTextLightSolid:he,colorBgSpotlight:Jt}=Yt,wi=(0,yt.IX)(Yt,{tooltipMaxWidth:250,tooltipColor:he,tooltipBorderRadius:bn,tooltipBg:Jt});return[Wt(wi),(0,gt._y)(Yt,"zoom-big-fast")]},kt,{resetStyle:!1,injectStyle:On})(hn)},cr=F(53835);function Xn(hn,On){const ut=(0,cr.o2)(On),Yt=q()({[`${hn}-${On}`]:On&&ut}),bn={},he={};return On&&!ut&&(bn.background=On,he["--antd-arrow-background-color"]=On),{className:Yt,overlayStyle:bn,arrowStyle:he}}var Zt=hn=>{const{prefixCls:On,className:ut,placement:Yt="top",title:bn,color:he,overlayInnerStyle:Jt}=hn,{getPrefixCls:wi}=s.useContext(Qe.E_),ai=wi("tooltip",On),[$e,An,Ur]=Sr(ai),Kr=Xn(ai,he),Rn=Kr.arrowStyle,Wr=Object.assign(Object.assign({},Jt),Kr.overlayStyle),Ii=q()(An,Ur,ai,`${ai}-pure`,`${ai}-placement-${Yt}`,ut,Kr.className);return $e(s.createElement("div",{className:Ii,style:Rn},s.createElement("div",{className:`${ai}-arrow`}),s.createElement(c.G,Object.assign({},hn,{className:An,prefixCls:ai,overlayInnerStyle:Wr}),bn)))},cn=function(hn,On){var ut={};for(var Yt in hn)Object.prototype.hasOwnProperty.call(hn,Yt)&&On.indexOf(Yt)<0&&(ut[Yt]=hn[Yt]);if(hn!=null&&typeof Object.getOwnPropertySymbols=="function")for(var bn=0,Yt=Object.getOwnPropertySymbols(hn);bn<Yt.length;bn++)On.indexOf(Yt[bn])<0&&Object.prototype.propertyIsEnumerable.call(hn,Yt[bn])&&(ut[Yt[bn]]=hn[Yt[bn]]);return ut};const Fe=s.forwardRef((hn,On)=>{var ut,Yt;const{prefixCls:bn,openClassName:he,getTooltipContainer:Jt,color:wi,overlayInnerStyle:ai,children:$e,afterOpenChange:An,afterVisibleChange:Ur,destroyTooltipOnHide:Kr,arrow:Rn=!0,title:Wr,overlay:Ii,builtinPlacements:pr,arrowPointAtCenter:it=!1,autoAdjustOverflow:Ot=!0,motion:Bn,getPopupContainer:fn,placement:gn="top",mouseEnterDelay:Er=.1,mouseLeaveDelay:Vn=.1,overlayStyle:ri,rootClassName:fi,overlayClassName:qr,styles:Jr,classNames:wr}=hn,Yn=cn(hn,["prefixCls","openClassName","getTooltipContainer","color","overlayInnerStyle","children","afterOpenChange","afterVisibleChange","destroyTooltipOnHide","arrow","title","overlay","builtinPlacements","arrowPointAtCenter","autoAdjustOverflow","motion","getPopupContainer","placement","mouseEnterDelay","mouseLeaveDelay","overlayStyle","rootClassName","overlayClassName","styles","classNames"]),yr=!!Rn,[,Pr]=(0,He.ZP)(),{getPopupContainer:Ir,getPrefixCls:Xr,direction:rr,className:gr,style:ei,classNames:Un,styles:si}=(0,Qe.dj)("tooltip"),Si=(0,je.ln)("Tooltip"),Yi=s.useRef(null),xo=()=>{var Je;(Je=Yi.current)===null||Je===void 0||Je.forceAlign()};s.useImperativeHandle(On,()=>{var Je,Rt;return{forceAlign:xo,forcePopupAlign:()=>{Si.deprecated(!1,"forcePopupAlign","forceAlign"),xo()},nativeElement:(Je=Yi.current)===null||Je===void 0?void 0:Je.nativeElement,popupElement:(Rt=Yi.current)===null||Rt===void 0?void 0:Rt.popupElement}});const[Qr,co]=(0,xe.Z)(!1,{value:(ut=hn.open)!==null&&ut!==void 0?ut:hn.visible,defaultValue:(Yt=hn.defaultOpen)!==null&&Yt!==void 0?Yt:hn.defaultVisible}),tn=!Wr&&!Ii&&Wr!==0,Tn=Je=>{var Rt,Xt;co(tn?!1:Je),tn||((Rt=hn.onOpenChange)===null||Rt===void 0||Rt.call(hn,Je),(Xt=hn.onVisibleChange)===null||Xt===void 0||Xt.call(hn,Je))},ir=s.useMemo(()=>{var Je,Rt;let Xt=it;return typeof Rn=="object"&&(Xt=(Rt=(Je=Rn.pointAtCenter)!==null&&Je!==void 0?Je:Rn.arrowPointAtCenter)!==null&&Rt!==void 0?Rt:it),pr||(0,ye.Z)({arrowPointAtCenter:Xt,autoAdjustOverflow:Ot,arrowWidth:yr?Pr.sizePopupArrow:0,borderRadius:Pr.borderRadius,offset:Pr.marginXXS,visibleFirst:!0})},[it,Rn,pr,Pr]),kr=s.useMemo(()=>Wr===0?Wr:Ii||Wr||"",[Ii,Wr]),gi=s.createElement(Ge.Z,{space:!0},typeof kr=="function"?kr():kr),li=Xr("tooltip",bn),eo=Xr(),io=hn["data-popover-inject"];let Lo=Qr;!("open"in hn)&&!("visible"in hn)&&tn&&(Lo=!1);const Co=s.isValidElement($e)&&!(0,te.M2)($e)?$e:s.createElement("span",null,$e),uo=Co.props,Re=!uo.className||typeof uo.className=="string"?q()(uo.className,he||`${li}-open`):uo.className,[de,Y,Ze]=Sr(li,!io),pe=Xn(li,wi),et=pe.arrowStyle,nt=q()(qr,{[`${li}-rtl`]:rr==="rtl"},pe.className,fi,Y,Ze,gr,Un.root,wr==null?void 0:wr.root),ln=q()(Un.body,wr==null?void 0:wr.body),[At,sn]=(0,ze.Cn)("Tooltip",Yn.zIndex),vn=s.createElement(c.Z,Object.assign({},Yn,{zIndex:At,showArrow:yr,placement:gn,mouseEnterDelay:Er,mouseLeaveDelay:Vn,prefixCls:li,classNames:{root:nt,body:ln},styles:{root:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},et),si.root),ei),ri),Jr==null?void 0:Jr.root),body:Object.assign(Object.assign(Object.assign(Object.assign({},si.body),ai),Jr==null?void 0:Jr.body),pe.overlayStyle)},getTooltipContainer:fn||Jt||Ir,ref:Yi,builtinPlacements:ir,overlay:gi,visible:Lo,onVisibleChange:Tn,afterVisibleChange:An!=null?An:Ur,arrowContent:s.createElement("span",{className:`${li}-arrow-content`}),motion:{motionName:(0,Pe.m)(eo,"zoom-big-fast",hn.transitionName),motionDeadline:1e3},destroyTooltipOnHide:!!Kr}),Lo?(0,te.Tm)(Co,{className:Re}):Co);return de(s.createElement(Ee.Z.Provider,{value:sn},vn))});Fe._InternalPanelDoNotUseOrYouWillBeFired=Zt;var Ln=Fe},41424:function(Hr,jt,F){"use strict";F.d(jt,{Z:function(){return tt}});var s="5.24.2",tt=s},16483:function(Hr){(function(jt,F){Hr.exports=F()})(this,function(){"use strict";var jt=1e3,F=6e4,s=36e5,tt="millisecond",q="second",c="minute",xe="hour",Ge="day",ze="week",Pe="month",ye="quarter",te="year",je="date",Ee="Invalid Date",He=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,Qe=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,ot={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(Xn){var We=["th","st","nd","rd"],Zt=Xn%100;return"["+Xn+(We[(Zt-20)%10]||We[Zt]||We[0])+"]"}},qe=function(Xn,We,Zt){var cn=String(Xn);return!cn||cn.length>=We?Xn:""+Array(We+1-cn.length).join(Zt)+Xn},gt={s:qe,z:function(Xn){var We=-Xn.utcOffset(),Zt=Math.abs(We),cn=Math.floor(Zt/60),Kt=Zt%60;return(We<=0?"+":"-")+qe(cn,2,"0")+":"+qe(Kt,2,"0")},m:function Xn(We,Zt){if(We.date()<Zt.date())return-Xn(Zt,We);var cn=12*(Zt.year()-We.year())+(Zt.month()-We.month()),Kt=We.clone().add(cn,Pe),Fe=Zt-Kt<0,Ln=We.clone().add(cn+(Fe?-1:1),Pe);return+(-(cn+(Zt-Kt)/(Fe?Kt-Ln:Ln-Kt))||0)},a:function(Xn){return Xn<0?Math.ceil(Xn)||0:Math.floor(Xn)},p:function(Xn){return{M:Pe,y:te,w:ze,d:Ge,D:je,h:xe,m:c,s:q,ms:tt,Q:ye}[Xn]||String(Xn||"").toLowerCase().replace(/s$/,"")},u:function(Xn){return Xn===void 0}},xt="en",Xe={};Xe[xt]=ot;var Ut="$isDayjsObject",yt=function(Xn){return Xn instanceof Sr||!(!Xn||!Xn[Ut])},Pt=function Xn(We,Zt,cn){var Kt;if(!We)return xt;if(typeof We=="string"){var Fe=We.toLowerCase();Xe[Fe]&&(Kt=Fe),Zt&&(Xe[Fe]=Zt,Kt=Fe);var Ln=We.split("-");if(!Kt&&Ln.length>1)return Xn(Ln[0])}else{var hn=We.name;Xe[hn]=We,Kt=hn}return!cn&&Kt&&(xt=Kt),Kt||!cn&&xt},Wt=function(Xn,We){if(yt(Xn))return Xn.clone();var Zt=typeof We=="object"?We:{};return Zt.date=Xn,Zt.args=arguments,new Sr(Zt)},kt=gt;kt.l=Pt,kt.i=yt,kt.w=function(Xn,We){return Wt(Xn,{locale:We.$L,utc:We.$u,x:We.$x,$offset:We.$offset})};var Sr=function(){function Xn(Zt){this.$L=Pt(Zt.locale,null,!0),this.parse(Zt),this.$x=this.$x||Zt.x||{},this[Ut]=!0}var We=Xn.prototype;return We.parse=function(Zt){this.$d=function(cn){var Kt=cn.date,Fe=cn.utc;if(Kt===null)return new Date(NaN);if(kt.u(Kt))return new Date;if(Kt instanceof Date)return new Date(Kt);if(typeof Kt=="string"&&!/Z$/i.test(Kt)){var Ln=Kt.match(He);if(Ln){var hn=Ln[2]-1||0,On=(Ln[7]||"0").substring(0,3);return Fe?new Date(Date.UTC(Ln[1],hn,Ln[3]||1,Ln[4]||0,Ln[5]||0,Ln[6]||0,On)):new Date(Ln[1],hn,Ln[3]||1,Ln[4]||0,Ln[5]||0,Ln[6]||0,On)}}return new Date(Kt)}(Zt),this.init()},We.init=function(){var Zt=this.$d;this.$y=Zt.getFullYear(),this.$M=Zt.getMonth(),this.$D=Zt.getDate(),this.$W=Zt.getDay(),this.$H=Zt.getHours(),this.$m=Zt.getMinutes(),this.$s=Zt.getSeconds(),this.$ms=Zt.getMilliseconds()},We.$utils=function(){return kt},We.isValid=function(){return this.$d.toString()!==Ee},We.isSame=function(Zt,cn){var Kt=Wt(Zt);return this.startOf(cn)<=Kt&&Kt<=this.endOf(cn)},We.isAfter=function(Zt,cn){return Wt(Zt)<this.startOf(cn)},We.isBefore=function(Zt,cn){return this.endOf(cn)<Wt(Zt)},We.$g=function(Zt,cn,Kt){return kt.u(Zt)?this[cn]:this.set(Kt,Zt)},We.unix=function(){return Math.floor(this.valueOf()/1e3)},We.valueOf=function(){return this.$d.getTime()},We.startOf=function(Zt,cn){var Kt=this,Fe=!!kt.u(cn)||cn,Ln=kt.p(Zt),hn=function(ai,$e){var An=kt.w(Kt.$u?Date.UTC(Kt.$y,$e,ai):new Date(Kt.$y,$e,ai),Kt);return Fe?An:An.endOf(Ge)},On=function(ai,$e){return kt.w(Kt.toDate()[ai].apply(Kt.toDate("s"),(Fe?[0,0,0,0]:[23,59,59,999]).slice($e)),Kt)},ut=this.$W,Yt=this.$M,bn=this.$D,he="set"+(this.$u?"UTC":"");switch(Ln){case te:return Fe?hn(1,0):hn(31,11);case Pe:return Fe?hn(1,Yt):hn(0,Yt+1);case ze:var Jt=this.$locale().weekStart||0,wi=(ut<Jt?ut+7:ut)-Jt;return hn(Fe?bn-wi:bn+(6-wi),Yt);case Ge:case je:return On(he+"Hours",0);case xe:return On(he+"Minutes",1);case c:return On(he+"Seconds",2);case q:return On(he+"Milliseconds",3);default:return this.clone()}},We.endOf=function(Zt){return this.startOf(Zt,!1)},We.$set=function(Zt,cn){var Kt,Fe=kt.p(Zt),Ln="set"+(this.$u?"UTC":""),hn=(Kt={},Kt[Ge]=Ln+"Date",Kt[je]=Ln+"Date",Kt[Pe]=Ln+"Month",Kt[te]=Ln+"FullYear",Kt[xe]=Ln+"Hours",Kt[c]=Ln+"Minutes",Kt[q]=Ln+"Seconds",Kt[tt]=Ln+"Milliseconds",Kt)[Fe],On=Fe===Ge?this.$D+(cn-this.$W):cn;if(Fe===Pe||Fe===te){var ut=this.clone().set(je,1);ut.$d[hn](On),ut.init(),this.$d=ut.set(je,Math.min(this.$D,ut.daysInMonth())).$d}else hn&&this.$d[hn](On);return this.init(),this},We.set=function(Zt,cn){return this.clone().$set(Zt,cn)},We.get=function(Zt){return this[kt.p(Zt)]()},We.add=function(Zt,cn){var Kt,Fe=this;Zt=Number(Zt);var Ln=kt.p(cn),hn=function(Yt){var bn=Wt(Fe);return kt.w(bn.date(bn.date()+Math.round(Yt*Zt)),Fe)};if(Ln===Pe)return this.set(Pe,this.$M+Zt);if(Ln===te)return this.set(te,this.$y+Zt);if(Ln===Ge)return hn(1);if(Ln===ze)return hn(7);var On=(Kt={},Kt[c]=F,Kt[xe]=s,Kt[q]=jt,Kt)[Ln]||1,ut=this.$d.getTime()+Zt*On;return kt.w(ut,this)},We.subtract=function(Zt,cn){return this.add(-1*Zt,cn)},We.format=function(Zt){var cn=this,Kt=this.$locale();if(!this.isValid())return Kt.invalidDate||Ee;var Fe=Zt||"YYYY-MM-DDTHH:mm:ssZ",Ln=kt.z(this),hn=this.$H,On=this.$m,ut=this.$M,Yt=Kt.weekdays,bn=Kt.months,he=Kt.meridiem,Jt=function($e,An,Ur,Kr){return $e&&($e[An]||$e(cn,Fe))||Ur[An].slice(0,Kr)},wi=function($e){return kt.s(hn%12||12,$e,"0")},ai=he||function($e,An,Ur){var Kr=$e<12?"AM":"PM";return Ur?Kr.toLowerCase():Kr};return Fe.replace(Qe,function($e,An){return An||function(Ur){switch(Ur){case"YY":return String(cn.$y).slice(-2);case"YYYY":return kt.s(cn.$y,4,"0");case"M":return ut+1;case"MM":return kt.s(ut+1,2,"0");case"MMM":return Jt(Kt.monthsShort,ut,bn,3);case"MMMM":return Jt(bn,ut);case"D":return cn.$D;case"DD":return kt.s(cn.$D,2,"0");case"d":return String(cn.$W);case"dd":return Jt(Kt.weekdaysMin,cn.$W,Yt,2);case"ddd":return Jt(Kt.weekdaysShort,cn.$W,Yt,3);case"dddd":return Yt[cn.$W];case"H":return String(hn);case"HH":return kt.s(hn,2,"0");case"h":return wi(1);case"hh":return wi(2);case"a":return ai(hn,On,!0);case"A":return ai(hn,On,!1);case"m":return String(On);case"mm":return kt.s(On,2,"0");case"s":return String(cn.$s);case"ss":return kt.s(cn.$s,2,"0");case"SSS":return kt.s(cn.$ms,3,"0");case"Z":return Ln}return null}($e)||Ln.replace(":","")})},We.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},We.diff=function(Zt,cn,Kt){var Fe,Ln=this,hn=kt.p(cn),On=Wt(Zt),ut=(On.utcOffset()-this.utcOffset())*F,Yt=this-On,bn=function(){return kt.m(Ln,On)};switch(hn){case te:Fe=bn()/12;break;case Pe:Fe=bn();break;case ye:Fe=bn()/3;break;case ze:Fe=(Yt-ut)/6048e5;break;case Ge:Fe=(Yt-ut)/864e5;break;case xe:Fe=Yt/s;break;case c:Fe=Yt/F;break;case q:Fe=Yt/jt;break;default:Fe=Yt}return Kt?Fe:kt.a(Fe)},We.daysInMonth=function(){return this.endOf(Pe).$D},We.$locale=function(){return Xe[this.$L]},We.locale=function(Zt,cn){if(!Zt)return this.$L;var Kt=this.clone(),Fe=Pt(Zt,cn,!0);return Fe&&(Kt.$L=Fe),Kt},We.clone=function(){return kt.w(this.$d,this)},We.toDate=function(){return new Date(this.valueOf())},We.toJSON=function(){return this.isValid()?this.toISOString():null},We.toISOString=function(){return this.$d.toISOString()},We.toString=function(){return this.$d.toUTCString()},Xn}(),cr=Sr.prototype;return Wt.prototype=cr,[["$ms",tt],["$s",q],["$m",c],["$H",xe],["$W",Ge],["$M",Pe],["$y",te],["$D",je]].forEach(function(Xn){cr[Xn[1]]=function(We){return this.$g(We,Xn[0],Xn[1])}}),Wt.extend=function(Xn,We){return Xn.$i||(Xn(We,Sr,Wt),Xn.$i=!0),Wt},Wt.locale=Pt,Wt.isDayjs=yt,Wt.unix=function(Xn){return Wt(1e3*Xn)},Wt.en=Xe[xt],Wt.Ls=Xe,Wt.p={},Wt})},79771:function(Hr){(function(jt,F){Hr.exports=F()})(this,function(){"use strict";return function(jt,F){var s=F.prototype,tt=s.format;s.format=function(q){var c=this,xe=this.$locale();if(!this.isValid())return tt.bind(this)(q);var Ge=this.$utils(),ze=(q||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,function(Pe){switch(Pe){case"Q":return Math.ceil((c.$M+1)/3);case"Do":return xe.ordinal(c.$D);case"gggg":return c.weekYear();case"GGGG":return c.isoWeekYear();case"wo":return xe.ordinal(c.week(),"W");case"w":case"ww":return Ge.s(c.week(),Pe==="w"?1:2,"0");case"W":case"WW":return Ge.s(c.isoWeek(),Pe==="W"?1:2,"0");case"k":case"kk":return Ge.s(String(c.$H===0?24:c.$H),Pe==="k"?1:2,"0");case"X":return Math.floor(c.$d.getTime()/1e3);case"x":return c.$d.getTime();case"z":return"["+c.offsetName()+"]";case"zzz":return"["+c.offsetName("long")+"]";default:return Pe}});return tt.bind(this)(ze)}}})},30156:function(Hr){(function(jt,F){Hr.exports=F()})(this,function(){"use strict";var jt={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},F=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|Q|YYYY|YY?|ww?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,s=/\d/,tt=/\d\d/,q=/\d\d?/,c=/\d*[^-_:/,()\s\d]+/,xe={},Ge=function(He){return(He=+He)+(He>68?1900:2e3)},ze=function(He){return function(Qe){this[He]=+Qe}},Pe=[/[+-]\d\d:?(\d\d)?|Z/,function(He){(this.zone||(this.zone={})).offset=function(Qe){if(!Qe||Qe==="Z")return 0;var ot=Qe.match(/([+-]|\d\d)/g),qe=60*ot[1]+(+ot[2]||0);return qe===0?0:ot[0]==="+"?-qe:qe}(He)}],ye=function(He){var Qe=xe[He];return Qe&&(Qe.indexOf?Qe:Qe.s.concat(Qe.f))},te=function(He,Qe){var ot,qe=xe.meridiem;if(qe){for(var gt=1;gt<=24;gt+=1)if(He.indexOf(qe(gt,0,Qe))>-1){ot=gt>12;break}}else ot=He===(Qe?"pm":"PM");return ot},je={A:[c,function(He){this.afternoon=te(He,!1)}],a:[c,function(He){this.afternoon=te(He,!0)}],Q:[s,function(He){this.month=3*(He-1)+1}],S:[s,function(He){this.milliseconds=100*+He}],SS:[tt,function(He){this.milliseconds=10*+He}],SSS:[/\d{3}/,function(He){this.milliseconds=+He}],s:[q,ze("seconds")],ss:[q,ze("seconds")],m:[q,ze("minutes")],mm:[q,ze("minutes")],H:[q,ze("hours")],h:[q,ze("hours")],HH:[q,ze("hours")],hh:[q,ze("hours")],D:[q,ze("day")],DD:[tt,ze("day")],Do:[c,function(He){var Qe=xe.ordinal,ot=He.match(/\d+/);if(this.day=ot[0],Qe)for(var qe=1;qe<=31;qe+=1)Qe(qe).replace(/\[|\]/g,"")===He&&(this.day=qe)}],w:[q,ze("week")],ww:[tt,ze("week")],M:[q,ze("month")],MM:[tt,ze("month")],MMM:[c,function(He){var Qe=ye("months"),ot=(ye("monthsShort")||Qe.map(function(qe){return qe.slice(0,3)})).indexOf(He)+1;if(ot<1)throw new Error;this.month=ot%12||ot}],MMMM:[c,function(He){var Qe=ye("months").indexOf(He)+1;if(Qe<1)throw new Error;this.month=Qe%12||Qe}],Y:[/[+-]?\d+/,ze("year")],YY:[tt,function(He){this.year=Ge(He)}],YYYY:[/\d{4}/,ze("year")],Z:Pe,ZZ:Pe};function Ee(He){var Qe,ot;Qe=He,ot=xe&&xe.formats;for(var qe=(He=Qe.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(Wt,kt,Sr){var cr=Sr&&Sr.toUpperCase();return kt||ot[Sr]||jt[Sr]||ot[cr].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(Xn,We,Zt){return We||Zt.slice(1)})})).match(F),gt=qe.length,xt=0;xt<gt;xt+=1){var Xe=qe[xt],Ut=je[Xe],yt=Ut&&Ut[0],Pt=Ut&&Ut[1];qe[xt]=Pt?{regex:yt,parser:Pt}:Xe.replace(/^\[|\]$/g,"")}return function(Wt){for(var kt={},Sr=0,cr=0;Sr<gt;Sr+=1){var Xn=qe[Sr];if(typeof Xn=="string")cr+=Xn.length;else{var We=Xn.regex,Zt=Xn.parser,cn=Wt.slice(cr),Kt=We.exec(cn)[0];Zt.call(kt,Kt),Wt=Wt.replace(Kt,"")}}return function(Fe){var Ln=Fe.afternoon;if(Ln!==void 0){var hn=Fe.hours;Ln?hn<12&&(Fe.hours+=12):hn===12&&(Fe.hours=0),delete Fe.afternoon}}(kt),kt}}return function(He,Qe,ot){ot.p.customParseFormat=!0,He&&He.parseTwoDigitYear&&(Ge=He.parseTwoDigitYear);var qe=Qe.prototype,gt=qe.parse;qe.parse=function(xt){var Xe=xt.date,Ut=xt.utc,yt=xt.args;this.$u=Ut;var Pt=yt[1];if(typeof Pt=="string"){var Wt=yt[2]===!0,kt=yt[3]===!0,Sr=Wt||kt,cr=yt[2];kt&&(cr=yt[2]),xe=this.$locale(),!Wt&&cr&&(xe=ot.Ls[cr]),this.$d=function(cn,Kt,Fe,Ln){try{if(["x","X"].indexOf(Kt)>-1)return new Date((Kt==="X"?1e3:1)*cn);var hn=Ee(Kt)(cn),On=hn.year,ut=hn.month,Yt=hn.day,bn=hn.hours,he=hn.minutes,Jt=hn.seconds,wi=hn.milliseconds,ai=hn.zone,$e=hn.week,An=new Date,Ur=Yt||(On||ut?1:An.getDate()),Kr=On||An.getFullYear(),Rn=0;On&&!ut||(Rn=ut>0?ut-1:An.getMonth());var Wr,Ii=bn||0,pr=he||0,it=Jt||0,Ot=wi||0;return ai?new Date(Date.UTC(Kr,Rn,Ur,Ii,pr,it,Ot+60*ai.offset*1e3)):Fe?new Date(Date.UTC(Kr,Rn,Ur,Ii,pr,it,Ot)):(Wr=new Date(Kr,Rn,Ur,Ii,pr,it,Ot),$e&&(Wr=Ln(Wr).week($e).toDate()),Wr)}catch(Bn){return new Date("")}}(Xe,Pt,Ut,ot),this.init(),cr&&cr!==!0&&(this.$L=this.locale(cr).$L),Sr&&Xe!=this.format(Pt)&&(this.$d=new Date("")),xe={}}else if(Pt instanceof Array)for(var Xn=Pt.length,We=1;We<=Xn;We+=1){yt[1]=Pt[We-1];var Zt=ot.apply(this,yt);if(Zt.isValid()){this.$d=Zt.$d,this.$L=Zt.$L,this.init();break}We===Xn&&(this.$d=new Date(""))}else gt.call(this,xt)}}})},2845:function(Hr){(function(jt,F){Hr.exports=F()})(this,function(){"use strict";return function(jt,F,s){var tt=F.prototype,q=function(Pe){return Pe&&(Pe.indexOf?Pe:Pe.s)},c=function(Pe,ye,te,je,Ee){var He=Pe.name?Pe:Pe.$locale(),Qe=q(He[ye]),ot=q(He[te]),qe=Qe||ot.map(function(xt){return xt.slice(0,je)});if(!Ee)return qe;var gt=He.weekStart;return qe.map(function(xt,Xe){return qe[(Xe+(gt||0))%7]})},xe=function(){return s.Ls[s.locale()]},Ge=function(Pe,ye){return Pe.formats[ye]||function(te){return te.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(je,Ee,He){return Ee||He.slice(1)})}(Pe.formats[ye.toUpperCase()])},ze=function(){var Pe=this;return{months:function(ye){return ye?ye.format("MMMM"):c(Pe,"months")},monthsShort:function(ye){return ye?ye.format("MMM"):c(Pe,"monthsShort","months",3)},firstDayOfWeek:function(){return Pe.$locale().weekStart||0},weekdays:function(ye){return ye?ye.format("dddd"):c(Pe,"weekdays")},weekdaysMin:function(ye){return ye?ye.format("dd"):c(Pe,"weekdaysMin","weekdays",2)},weekdaysShort:function(ye){return ye?ye.format("ddd"):c(Pe,"weekdaysShort","weekdays",3)},longDateFormat:function(ye){return Ge(Pe.$locale(),ye)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};tt.localeData=function(){return ze.bind(this)()},s.localeData=function(){var Pe=xe();return{firstDayOfWeek:function(){return Pe.weekStart||0},weekdays:function(){return s.weekdays()},weekdaysShort:function(){return s.weekdaysShort()},weekdaysMin:function(){return s.weekdaysMin()},months:function(){return s.months()},monthsShort:function(){return s.monthsShort()},longDateFormat:function(ye){return Ge(Pe,ye)},meridiem:Pe.meridiem,ordinal:Pe.ordinal}},s.months=function(){return c(xe(),"months")},s.monthsShort=function(){return c(xe(),"monthsShort","months",3)},s.weekdays=function(Pe){return c(xe(),"weekdays",null,null,Pe)},s.weekdaysShort=function(Pe){return c(xe(),"weekdaysShort","weekdays",3,Pe)},s.weekdaysMin=function(Pe){return c(xe(),"weekdaysMin","weekdays",2,Pe)}}})},88777:function(Hr){(function(jt,F){Hr.exports=F()})(this,function(){"use strict";var jt="week",F="year";return function(s,tt,q){var c=tt.prototype;c.week=function(xe){if(xe===void 0&&(xe=null),xe!==null)return this.add(7*(xe-this.week()),"day");var Ge=this.$locale().yearStart||1;if(this.month()===11&&this.date()>25){var ze=q(this).startOf(F).add(1,F).date(Ge),Pe=q(this).endOf(jt);if(ze.isBefore(Pe))return 1}var ye=q(this).startOf(F).date(Ge).startOf(jt).subtract(1,"millisecond"),te=this.diff(ye,jt,!0);return te<0?q(this).startOf("week").week():Math.ceil(te)},c.weeks=function(xe){return xe===void 0&&(xe=null),this.week(xe)}}})},41466:function(Hr){(function(jt,F){Hr.exports=F()})(this,function(){"use strict";return function(jt,F){F.prototype.weekYear=function(){var s=this.month(),tt=this.week(),q=this.year();return tt===1&&s===11?q+1:s===0&&tt>=52?q-1:q}}})},92098:function(Hr){(function(jt,F){Hr.exports=F()})(this,function(){"use strict";return function(jt,F){F.prototype.weekday=function(s){var tt=this.$locale().weekStart||0,q=this.$W,c=(q<tt?q+7:q)-tt;return this.$utils().u(s)?c:this.subtract(c,"day").add(s,"day")}}})},3341:function(Hr){"use strict";Hr.exports=function jt(F,s){if(F===s)return!0;if(F&&s&&typeof F=="object"&&typeof s=="object"){if(F.constructor!==s.constructor)return!1;var tt,q,c;if(Array.isArray(F)){if(tt=F.length,tt!=s.length)return!1;for(q=tt;q--!==0;)if(!jt(F[q],s[q]))return!1;return!0}if(F.constructor===RegExp)return F.source===s.source&&F.flags===s.flags;if(F.valueOf!==Object.prototype.valueOf)return F.valueOf()===s.valueOf();if(F.toString!==Object.prototype.toString)return F.toString()===s.toString();if(c=Object.keys(F),tt=c.length,tt!==Object.keys(s).length)return!1;for(q=tt;q--!==0;)if(!Object.prototype.hasOwnProperty.call(s,c[q]))return!1;for(q=tt;q--!==0;){var xe=c[q];if(!jt(F[xe],s[xe]))return!1}return!0}return F!==F&&s!==s}},55518:function(Hr,jt,F){var s=F(3806),tt=function(xe){var Ge=/[height|width]$/;return Ge.test(xe)},q=function(xe){var Ge="",ze=Object.keys(xe);return ze.forEach(function(Pe,ye){var te=xe[Pe];Pe=s(Pe),tt(Pe)&&typeof te=="number"&&(te=te+"px"),te===!0?Ge+=Pe:te===!1?Ge+="not "+Pe:Ge+="("+Pe+": "+te+")",ye<ze.length-1&&(Ge+=" and ")}),Ge},c=function(xe){var Ge="";return typeof xe=="string"?xe:xe instanceof Array?(xe.forEach(function(ze,Pe){Ge+=q(ze),Pe<xe.length-1&&(Ge+=", ")}),Ge):q(xe)};Hr.exports=c},95959:function(Hr){(function(jt,F){Hr.exports=F()})(this,function(){"use strict";var jt,F,s;function tt(c,xe){if(!jt)jt=xe;else if(!F)F=xe;else{var Ge="self.onerror = function() { console.error('An error occurred while parsing the WebWorker bundle. This is most likely due to improper transpilation by Babel; please see https://docs.mapbox.com/mapbox-gl-js/guides/install/#transpiling'); }; var sharedChunk = {}; ("+jt+")(sharedChunk); ("+F+")(sharedChunk); self.onerror = null;",ze={};jt(ze),s=xe(ze),typeof window!="undefined"&&window&&window.URL&&window.URL.createObjectURL&&(s.workerUrl=window.URL.createObjectURL(new Blob([Ge],{type:"text/javascript"})))}}tt(["exports"],function(c){function xe(u){return u&&u.__esModule&&Object.prototype.hasOwnProperty.call(u,"default")?u.default:u}var Ge,ze={},Pe={};function ye(){if(Ge)return Pe;Ge=1,Object.defineProperty(Pe,"__esModule",{value:!0}),Pe.setMatrixArrayType=function(g){Pe.ARRAY_TYPE=n=g},Pe.toRadian=function(g){return g*d},Pe.equals=function(g,h){return Math.abs(g-h)<=u*Math.max(1,Math.abs(g),Math.abs(h))},Pe.RANDOM=Pe.ARRAY_TYPE=Pe.EPSILON=void 0;var u=1e-6;Pe.EPSILON=u;var n=typeof Float32Array!="undefined"?Float32Array:Array;Pe.ARRAY_TYPE=n;var i=Math.random;Pe.RANDOM=i;var d=Math.PI/180;return Math.hypot||(Math.hypot=function(){for(var g=0,h=arguments.length;h--;)g+=arguments[h]*arguments[h];return Math.sqrt(g)}),Pe}var te,je={};function Ee(){if(te)return je;function u(h){return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},u(h)}te=1,Object.defineProperty(je,"__esModule",{value:!0}),je.create=function(){var h=new n.ARRAY_TYPE(4);return n.ARRAY_TYPE!=Float32Array&&(h[1]=0,h[2]=0),h[0]=1,h[3]=1,h},je.clone=function(h){var v=new n.ARRAY_TYPE(4);return v[0]=h[0],v[1]=h[1],v[2]=h[2],v[3]=h[3],v},je.copy=function(h,v){return h[0]=v[0],h[1]=v[1],h[2]=v[2],h[3]=v[3],h},je.identity=function(h){return h[0]=1,h[1]=0,h[2]=0,h[3]=1,h},je.fromValues=function(h,v,S,M){var A=new n.ARRAY_TYPE(4);return A[0]=h,A[1]=v,A[2]=S,A[3]=M,A},je.set=function(h,v,S,M,A){return h[0]=v,h[1]=S,h[2]=M,h[3]=A,h},je.transpose=function(h,v){if(h===v){var S=v[1];h[1]=v[2],h[2]=S}else h[0]=v[0],h[1]=v[2],h[2]=v[1],h[3]=v[3];return h},je.invert=function(h,v){var S=v[0],M=v[1],A=v[2],b=v[3],P=S*b-A*M;return P?(h[0]=b*(P=1/P),h[1]=-M*P,h[2]=-A*P,h[3]=S*P,h):null},je.adjoint=function(h,v){var S=v[0];return h[0]=v[3],h[1]=-v[1],h[2]=-v[2],h[3]=S,h},je.determinant=function(h){return h[0]*h[3]-h[2]*h[1]},je.multiply=d,je.rotate=function(h,v,S){var M=v[0],A=v[1],b=v[2],P=v[3],$=Math.sin(S),T=Math.cos(S);return h[0]=M*T+b*$,h[1]=A*T+P*$,h[2]=M*-$+b*T,h[3]=A*-$+P*T,h},je.scale=function(h,v,S){var M=v[1],A=v[2],b=v[3],P=S[0],$=S[1];return h[0]=v[0]*P,h[1]=M*P,h[2]=A*$,h[3]=b*$,h},je.fromRotation=function(h,v){var S=Math.sin(v),M=Math.cos(v);return h[0]=M,h[1]=S,h[2]=-S,h[3]=M,h},je.fromScaling=function(h,v){return h[0]=v[0],h[1]=0,h[2]=0,h[3]=v[1],h},je.str=function(h){return"mat2("+h[0]+", "+h[1]+", "+h[2]+", "+h[3]+")"},je.frob=function(h){return Math.hypot(h[0],h[1],h[2],h[3])},je.LDU=function(h,v,S,M){return h[2]=M[2]/M[0],S[0]=M[0],S[1]=M[1],S[3]=M[3]-h[2]*S[1],[h,v,S]},je.add=function(h,v,S){return h[0]=v[0]+S[0],h[1]=v[1]+S[1],h[2]=v[2]+S[2],h[3]=v[3]+S[3],h},je.subtract=g,je.exactEquals=function(h,v){return h[0]===v[0]&&h[1]===v[1]&&h[2]===v[2]&&h[3]===v[3]},je.equals=function(h,v){var S=h[0],M=h[1],A=h[2],b=h[3],P=v[0],$=v[1],T=v[2],O=v[3];return Math.abs(S-P)<=n.EPSILON*Math.max(1,Math.abs(S),Math.abs(P))&&Math.abs(M-$)<=n.EPSILON*Math.max(1,Math.abs(M),Math.abs($))&&Math.abs(A-T)<=n.EPSILON*Math.max(1,Math.abs(A),Math.abs(T))&&Math.abs(b-O)<=n.EPSILON*Math.max(1,Math.abs(b),Math.abs(O))},je.multiplyScalar=function(h,v,S){return h[0]=v[0]*S,h[1]=v[1]*S,h[2]=v[2]*S,h[3]=v[3]*S,h},je.multiplyScalarAndAdd=function(h,v,S,M){return h[0]=v[0]+S[0]*M,h[1]=v[1]+S[1]*M,h[2]=v[2]+S[2]*M,h[3]=v[3]+S[3]*M,h},je.sub=je.mul=void 0;var n=function(h,v){if(h&&h.__esModule)return h;if(h===null||u(h)!=="object"&&typeof h!="function")return{default:h};var S=i(void 0);if(S&&S.has(h))return S.get(h);var M={},A=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var b in h)if(b!=="default"&&Object.prototype.hasOwnProperty.call(h,b)){var P=A?Object.getOwnPropertyDescriptor(h,b):null;P&&(P.get||P.set)?Object.defineProperty(M,b,P):M[b]=h[b]}return M.default=h,S&&S.set(h,M),M}(ye());function i(h){if(typeof WeakMap!="function")return null;var v=new WeakMap,S=new WeakMap;return(i=function(M){return M?S:v})(h)}function d(h,v,S){var M=v[0],A=v[1],b=v[2],P=v[3],$=S[0],T=S[1],O=S[2],N=S[3];return h[0]=M*$+b*T,h[1]=A*$+P*T,h[2]=M*O+b*N,h[3]=A*O+P*N,h}function g(h,v,S){return h[0]=v[0]-S[0],h[1]=v[1]-S[1],h[2]=v[2]-S[2],h[3]=v[3]-S[3],h}return je.mul=d,je.sub=g,je}var He,Qe={};function ot(){if(He)return Qe;function u(h){return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},u(h)}He=1,Object.defineProperty(Qe,"__esModule",{value:!0}),Qe.create=function(){var h=new n.ARRAY_TYPE(6);return n.ARRAY_TYPE!=Float32Array&&(h[1]=0,h[2]=0,h[4]=0,h[5]=0),h[0]=1,h[3]=1,h},Qe.clone=function(h){var v=new n.ARRAY_TYPE(6);return v[0]=h[0],v[1]=h[1],v[2]=h[2],v[3]=h[3],v[4]=h[4],v[5]=h[5],v},Qe.copy=function(h,v){return h[0]=v[0],h[1]=v[1],h[2]=v[2],h[3]=v[3],h[4]=v[4],h[5]=v[5],h},Qe.identity=function(h){return h[0]=1,h[1]=0,h[2]=0,h[3]=1,h[4]=0,h[5]=0,h},Qe.fromValues=function(h,v,S,M,A,b){var P=new n.ARRAY_TYPE(6);return P[0]=h,P[1]=v,P[2]=S,P[3]=M,P[4]=A,P[5]=b,P},Qe.set=function(h,v,S,M,A,b,P){return h[0]=v,h[1]=S,h[2]=M,h[3]=A,h[4]=b,h[5]=P,h},Qe.invert=function(h,v){var S=v[0],M=v[1],A=v[2],b=v[3],P=v[4],$=v[5],T=S*b-M*A;return T?(h[0]=b*(T=1/T),h[1]=-M*T,h[2]=-A*T,h[3]=S*T,h[4]=(A*$-b*P)*T,h[5]=(M*P-S*$)*T,h):null},Qe.determinant=function(h){return h[0]*h[3]-h[1]*h[2]},Qe.multiply=d,Qe.rotate=function(h,v,S){var M=v[0],A=v[1],b=v[2],P=v[3],$=v[4],T=v[5],O=Math.sin(S),N=Math.cos(S);return h[0]=M*N+b*O,h[1]=A*N+P*O,h[2]=M*-O+b*N,h[3]=A*-O+P*N,h[4]=$,h[5]=T,h},Qe.scale=function(h,v,S){var M=v[1],A=v[2],b=v[3],P=v[4],$=v[5],T=S[0],O=S[1];return h[0]=v[0]*T,h[1]=M*T,h[2]=A*O,h[3]=b*O,h[4]=P,h[5]=$,h},Qe.translate=function(h,v,S){var M=v[0],A=v[1],b=v[2],P=v[3],$=v[4],T=v[5],O=S[0],N=S[1];return h[0]=M,h[1]=A,h[2]=b,h[3]=P,h[4]=M*O+b*N+$,h[5]=A*O+P*N+T,h},Qe.fromRotation=function(h,v){var S=Math.sin(v),M=Math.cos(v);return h[0]=M,h[1]=S,h[2]=-S,h[3]=M,h[4]=0,h[5]=0,h},Qe.fromScaling=function(h,v){return h[0]=v[0],h[1]=0,h[2]=0,h[3]=v[1],h[4]=0,h[5]=0,h},Qe.fromTranslation=function(h,v){return h[0]=1,h[1]=0,h[2]=0,h[3]=1,h[4]=v[0],h[5]=v[1],h},Qe.str=function(h){return"mat2d("+h[0]+", "+h[1]+", "+h[2]+", "+h[3]+", "+h[4]+", "+h[5]+")"},Qe.frob=function(h){return Math.hypot(h[0],h[1],h[2],h[3],h[4],h[5],1)},Qe.add=function(h,v,S){return h[0]=v[0]+S[0],h[1]=v[1]+S[1],h[2]=v[2]+S[2],h[3]=v[3]+S[3],h[4]=v[4]+S[4],h[5]=v[5]+S[5],h},Qe.subtract=g,Qe.multiplyScalar=function(h,v,S){return h[0]=v[0]*S,h[1]=v[1]*S,h[2]=v[2]*S,h[3]=v[3]*S,h[4]=v[4]*S,h[5]=v[5]*S,h},Qe.multiplyScalarAndAdd=function(h,v,S,M){return h[0]=v[0]+S[0]*M,h[1]=v[1]+S[1]*M,h[2]=v[2]+S[2]*M,h[3]=v[3]+S[3]*M,h[4]=v[4]+S[4]*M,h[5]=v[5]+S[5]*M,h},Qe.exactEquals=function(h,v){return h[0]===v[0]&&h[1]===v[1]&&h[2]===v[2]&&h[3]===v[3]&&h[4]===v[4]&&h[5]===v[5]},Qe.equals=function(h,v){var S=h[0],M=h[1],A=h[2],b=h[3],P=h[4],$=h[5],T=v[0],O=v[1],N=v[2],W=v[3],J=v[4],se=v[5];return Math.abs(S-T)<=n.EPSILON*Math.max(1,Math.abs(S),Math.abs(T))&&Math.abs(M-O)<=n.EPSILON*Math.max(1,Math.abs(M),Math.abs(O))&&Math.abs(A-N)<=n.EPSILON*Math.max(1,Math.abs(A),Math.abs(N))&&Math.abs(b-W)<=n.EPSILON*Math.max(1,Math.abs(b),Math.abs(W))&&Math.abs(P-J)<=n.EPSILON*Math.max(1,Math.abs(P),Math.abs(J))&&Math.abs($-se)<=n.EPSILON*Math.max(1,Math.abs($),Math.abs(se))},Qe.sub=Qe.mul=void 0;var n=function(h,v){if(h&&h.__esModule)return h;if(h===null||u(h)!=="object"&&typeof h!="function")return{default:h};var S=i(void 0);if(S&&S.has(h))return S.get(h);var M={},A=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var b in h)if(b!=="default"&&Object.prototype.hasOwnProperty.call(h,b)){var P=A?Object.getOwnPropertyDescriptor(h,b):null;P&&(P.get||P.set)?Object.defineProperty(M,b,P):M[b]=h[b]}return M.default=h,S&&S.set(h,M),M}(ye());function i(h){if(typeof WeakMap!="function")return null;var v=new WeakMap,S=new WeakMap;return(i=function(M){return M?S:v})(h)}function d(h,v,S){var M=v[0],A=v[1],b=v[2],P=v[3],$=v[4],T=v[5],O=S[0],N=S[1],W=S[2],J=S[3],se=S[4],ue=S[5];return h[0]=M*O+b*N,h[1]=A*O+P*N,h[2]=M*W+b*J,h[3]=A*W+P*J,h[4]=M*se+b*ue+$,h[5]=A*se+P*ue+T,h}function g(h,v,S){return h[0]=v[0]-S[0],h[1]=v[1]-S[1],h[2]=v[2]-S[2],h[3]=v[3]-S[3],h[4]=v[4]-S[4],h[5]=v[5]-S[5],h}return Qe.mul=d,Qe.sub=g,Qe}var qe,gt={};function xt(){if(qe)return gt;function u(h){return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},u(h)}qe=1,Object.defineProperty(gt,"__esModule",{value:!0}),gt.create=function(){var h=new n.ARRAY_TYPE(9);return n.ARRAY_TYPE!=Float32Array&&(h[1]=0,h[2]=0,h[3]=0,h[5]=0,h[6]=0,h[7]=0),h[0]=1,h[4]=1,h[8]=1,h},gt.fromMat4=function(h,v){return h[0]=v[0],h[1]=v[1],h[2]=v[2],h[3]=v[4],h[4]=v[5],h[5]=v[6],h[6]=v[8],h[7]=v[9],h[8]=v[10],h},gt.clone=function(h){var v=new n.ARRAY_TYPE(9);return v[0]=h[0],v[1]=h[1],v[2]=h[2],v[3]=h[3],v[4]=h[4],v[5]=h[5],v[6]=h[6],v[7]=h[7],v[8]=h[8],v},gt.copy=function(h,v){return h[0]=v[0],h[1]=v[1],h[2]=v[2],h[3]=v[3],h[4]=v[4],h[5]=v[5],h[6]=v[6],h[7]=v[7],h[8]=v[8],h},gt.fromValues=function(h,v,S,M,A,b,P,$,T){var O=new n.ARRAY_TYPE(9);return O[0]=h,O[1]=v,O[2]=S,O[3]=M,O[4]=A,O[5]=b,O[6]=P,O[7]=$,O[8]=T,O},gt.set=function(h,v,S,M,A,b,P,$,T,O){return h[0]=v,h[1]=S,h[2]=M,h[3]=A,h[4]=b,h[5]=P,h[6]=$,h[7]=T,h[8]=O,h},gt.identity=function(h){return h[0]=1,h[1]=0,h[2]=0,h[3]=0,h[4]=1,h[5]=0,h[6]=0,h[7]=0,h[8]=1,h},gt.transpose=function(h,v){if(h===v){var S=v[1],M=v[2],A=v[5];h[1]=v[3],h[2]=v[6],h[3]=S,h[5]=v[7],h[6]=M,h[7]=A}else h[0]=v[0],h[1]=v[3],h[2]=v[6],h[3]=v[1],h[4]=v[4],h[5]=v[7],h[6]=v[2],h[7]=v[5],h[8]=v[8];return h},gt.invert=function(h,v){var S=v[0],M=v[1],A=v[2],b=v[3],P=v[4],$=v[5],T=v[6],O=v[7],N=v[8],W=N*P-$*O,J=-N*b+$*T,se=O*b-P*T,ue=S*W+M*J+A*se;return ue?(h[0]=W*(ue=1/ue),h[1]=(-N*M+A*O)*ue,h[2]=($*M-A*P)*ue,h[3]=J*ue,h[4]=(N*S-A*T)*ue,h[5]=(-$*S+A*b)*ue,h[6]=se*ue,h[7]=(-O*S+M*T)*ue,h[8]=(P*S-M*b)*ue,h):null},gt.adjoint=function(h,v){var S=v[0],M=v[1],A=v[2],b=v[3],P=v[4],$=v[5],T=v[6],O=v[7],N=v[8];return h[0]=P*N-$*O,h[1]=A*O-M*N,h[2]=M*$-A*P,h[3]=$*T-b*N,h[4]=S*N-A*T,h[5]=A*b-S*$,h[6]=b*O-P*T,h[7]=M*T-S*O,h[8]=S*P-M*b,h},gt.determinant=function(h){var v=h[3],S=h[4],M=h[5],A=h[6],b=h[7],P=h[8];return h[0]*(P*S-M*b)+h[1]*(-P*v+M*A)+h[2]*(b*v-S*A)},gt.multiply=d,gt.translate=function(h,v,S){var M=v[0],A=v[1],b=v[2],P=v[3],$=v[4],T=v[5],O=v[6],N=v[7],W=v[8],J=S[0],se=S[1];return h[0]=M,h[1]=A,h[2]=b,h[3]=P,h[4]=$,h[5]=T,h[6]=J*M+se*P+O,h[7]=J*A+se*$+N,h[8]=J*b+se*T+W,h},gt.rotate=function(h,v,S){var M=v[0],A=v[1],b=v[2],P=v[3],$=v[4],T=v[5],O=v[6],N=v[7],W=v[8],J=Math.sin(S),se=Math.cos(S);return h[0]=se*M+J*P,h[1]=se*A+J*$,h[2]=se*b+J*T,h[3]=se*P-J*M,h[4]=se*$-J*A,h[5]=se*T-J*b,h[6]=O,h[7]=N,h[8]=W,h},gt.scale=function(h,v,S){var M=S[0],A=S[1];return h[0]=M*v[0],h[1]=M*v[1],h[2]=M*v[2],h[3]=A*v[3],h[4]=A*v[4],h[5]=A*v[5],h[6]=v[6],h[7]=v[7],h[8]=v[8],h},gt.fromTranslation=function(h,v){return h[0]=1,h[1]=0,h[2]=0,h[3]=0,h[4]=1,h[5]=0,h[6]=v[0],h[7]=v[1],h[8]=1,h},gt.fromRotation=function(h,v){var S=Math.sin(v),M=Math.cos(v);return h[0]=M,h[1]=S,h[2]=0,h[3]=-S,h[4]=M,h[5]=0,h[6]=0,h[7]=0,h[8]=1,h},gt.fromScaling=function(h,v){return h[0]=v[0],h[1]=0,h[2]=0,h[3]=0,h[4]=v[1],h[5]=0,h[6]=0,h[7]=0,h[8]=1,h},gt.fromMat2d=function(h,v){return h[0]=v[0],h[1]=v[1],h[2]=0,h[3]=v[2],h[4]=v[3],h[5]=0,h[6]=v[4],h[7]=v[5],h[8]=1,h},gt.fromQuat=function(h,v){var S=v[0],M=v[1],A=v[2],b=v[3],P=S+S,$=M+M,T=A+A,O=S*P,N=M*P,W=M*$,J=A*P,se=A*$,ue=A*T,re=b*P,ve=b*$,we=b*T;return h[0]=1-W-ue,h[3]=N-we,h[6]=J+ve,h[1]=N+we,h[4]=1-O-ue,h[7]=se-re,h[2]=J-ve,h[5]=se+re,h[8]=1-O-W,h},gt.normalFromMat4=function(h,v){var S=v[0],M=v[1],A=v[2],b=v[3],P=v[4],$=v[5],T=v[6],O=v[7],N=v[8],W=v[9],J=v[10],se=v[11],ue=v[12],re=v[13],ve=v[14],we=v[15],Ne=S*$-M*P,ht=S*T-A*P,ft=S*O-b*P,at=M*T-A*$,Gt=M*O-b*$,vt=A*O-b*T,en=N*re-W*ue,mn=N*ve-J*ue,un=N*we-se*ue,yn=W*ve-J*re,zn=W*we-se*re,Gn=J*we-se*ve,Mn=Ne*Gn-ht*zn+ft*yn+at*un-Gt*mn+vt*en;return Mn?(h[0]=($*Gn-T*zn+O*yn)*(Mn=1/Mn),h[1]=(T*un-P*Gn-O*mn)*Mn,h[2]=(P*zn-$*un+O*en)*Mn,h[3]=(A*zn-M*Gn-b*yn)*Mn,h[4]=(S*Gn-A*un+b*mn)*Mn,h[5]=(M*un-S*zn-b*en)*Mn,h[6]=(re*vt-ve*Gt+we*at)*Mn,h[7]=(ve*ft-ue*vt-we*ht)*Mn,h[8]=(ue*Gt-re*ft+we*Ne)*Mn,h):null},gt.projection=function(h,v,S){return h[0]=2/v,h[1]=0,h[2]=0,h[3]=0,h[4]=-2/S,h[5]=0,h[6]=-1,h[7]=1,h[8]=1,h},gt.str=function(h){return"mat3("+h[0]+", "+h[1]+", "+h[2]+", "+h[3]+", "+h[4]+", "+h[5]+", "+h[6]+", "+h[7]+", "+h[8]+")"},gt.frob=function(h){return Math.hypot(h[0],h[1],h[2],h[3],h[4],h[5],h[6],h[7],h[8])},gt.add=function(h,v,S){return h[0]=v[0]+S[0],h[1]=v[1]+S[1],h[2]=v[2]+S[2],h[3]=v[3]+S[3],h[4]=v[4]+S[4],h[5]=v[5]+S[5],h[6]=v[6]+S[6],h[7]=v[7]+S[7],h[8]=v[8]+S[8],h},gt.subtract=g,gt.multiplyScalar=function(h,v,S){return h[0]=v[0]*S,h[1]=v[1]*S,h[2]=v[2]*S,h[3]=v[3]*S,h[4]=v[4]*S,h[5]=v[5]*S,h[6]=v[6]*S,h[7]=v[7]*S,h[8]=v[8]*S,h},gt.multiplyScalarAndAdd=function(h,v,S,M){return h[0]=v[0]+S[0]*M,h[1]=v[1]+S[1]*M,h[2]=v[2]+S[2]*M,h[3]=v[3]+S[3]*M,h[4]=v[4]+S[4]*M,h[5]=v[5]+S[5]*M,h[6]=v[6]+S[6]*M,h[7]=v[7]+S[7]*M,h[8]=v[8]+S[8]*M,h},gt.exactEquals=function(h,v){return h[0]===v[0]&&h[1]===v[1]&&h[2]===v[2]&&h[3]===v[3]&&h[4]===v[4]&&h[5]===v[5]&&h[6]===v[6]&&h[7]===v[7]&&h[8]===v[8]},gt.equals=function(h,v){var S=h[0],M=h[1],A=h[2],b=h[3],P=h[4],$=h[5],T=h[6],O=h[7],N=h[8],W=v[0],J=v[1],se=v[2],ue=v[3],re=v[4],ve=v[5],we=v[6],Ne=v[7],ht=v[8];return Math.abs(S-W)<=n.EPSILON*Math.max(1,Math.abs(S),Math.abs(W))&&Math.abs(M-J)<=n.EPSILON*Math.max(1,Math.abs(M),Math.abs(J))&&Math.abs(A-se)<=n.EPSILON*Math.max(1,Math.abs(A),Math.abs(se))&&Math.abs(b-ue)<=n.EPSILON*Math.max(1,Math.abs(b),Math.abs(ue))&&Math.abs(P-re)<=n.EPSILON*Math.max(1,Math.abs(P),Math.abs(re))&&Math.abs($-ve)<=n.EPSILON*Math.max(1,Math.abs($),Math.abs(ve))&&Math.abs(T-we)<=n.EPSILON*Math.max(1,Math.abs(T),Math.abs(we))&&Math.abs(O-Ne)<=n.EPSILON*Math.max(1,Math.abs(O),Math.abs(Ne))&&Math.abs(N-ht)<=n.EPSILON*Math.max(1,Math.abs(N),Math.abs(ht))},gt.sub=gt.mul=void 0;var n=function(h,v){if(h&&h.__esModule)return h;if(h===null||u(h)!=="object"&&typeof h!="function")return{default:h};var S=i(void 0);if(S&&S.has(h))return S.get(h);var M={},A=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var b in h)if(b!=="default"&&Object.prototype.hasOwnProperty.call(h,b)){var P=A?Object.getOwnPropertyDescriptor(h,b):null;P&&(P.get||P.set)?Object.defineProperty(M,b,P):M[b]=h[b]}return M.default=h,S&&S.set(h,M),M}(ye());function i(h){if(typeof WeakMap!="function")return null;var v=new WeakMap,S=new WeakMap;return(i=function(M){return M?S:v})(h)}function d(h,v,S){var M=v[0],A=v[1],b=v[2],P=v[3],$=v[4],T=v[5],O=v[6],N=v[7],W=v[8],J=S[0],se=S[1],ue=S[2],re=S[3],ve=S[4],we=S[5],Ne=S[6],ht=S[7],ft=S[8];return h[0]=J*M+se*P+ue*O,h[1]=J*A+se*$+ue*N,h[2]=J*b+se*T+ue*W,h[3]=re*M+ve*P+we*O,h[4]=re*A+ve*$+we*N,h[5]=re*b+ve*T+we*W,h[6]=Ne*M+ht*P+ft*O,h[7]=Ne*A+ht*$+ft*N,h[8]=Ne*b+ht*T+ft*W,h}function g(h,v,S){return h[0]=v[0]-S[0],h[1]=v[1]-S[1],h[2]=v[2]-S[2],h[3]=v[3]-S[3],h[4]=v[4]-S[4],h[5]=v[5]-S[5],h[6]=v[6]-S[6],h[7]=v[7]-S[7],h[8]=v[8]-S[8],h}return gt.mul=d,gt.sub=g,gt}var Xe,Ut={};function yt(){if(Xe)return Ut;function u(b){return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(P){return typeof P}:function(P){return P&&typeof Symbol=="function"&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":typeof P},u(b)}Xe=1,Object.defineProperty(Ut,"__esModule",{value:!0}),Ut.create=function(){var b=new n.ARRAY_TYPE(16);return n.ARRAY_TYPE!=Float32Array&&(b[1]=0,b[2]=0,b[3]=0,b[4]=0,b[6]=0,b[7]=0,b[8]=0,b[9]=0,b[11]=0,b[12]=0,b[13]=0,b[14]=0),b[0]=1,b[5]=1,b[10]=1,b[15]=1,b},Ut.clone=function(b){var P=new n.ARRAY_TYPE(16);return P[0]=b[0],P[1]=b[1],P[2]=b[2],P[3]=b[3],P[4]=b[4],P[5]=b[5],P[6]=b[6],P[7]=b[7],P[8]=b[8],P[9]=b[9],P[10]=b[10],P[11]=b[11],P[12]=b[12],P[13]=b[13],P[14]=b[14],P[15]=b[15],P},Ut.copy=function(b,P){return b[0]=P[0],b[1]=P[1],b[2]=P[2],b[3]=P[3],b[4]=P[4],b[5]=P[5],b[6]=P[6],b[7]=P[7],b[8]=P[8],b[9]=P[9],b[10]=P[10],b[11]=P[11],b[12]=P[12],b[13]=P[13],b[14]=P[14],b[15]=P[15],b},Ut.fromValues=function(b,P,$,T,O,N,W,J,se,ue,re,ve,we,Ne,ht,ft){var at=new n.ARRAY_TYPE(16);return at[0]=b,at[1]=P,at[2]=$,at[3]=T,at[4]=O,at[5]=N,at[6]=W,at[7]=J,at[8]=se,at[9]=ue,at[10]=re,at[11]=ve,at[12]=we,at[13]=Ne,at[14]=ht,at[15]=ft,at},Ut.set=function(b,P,$,T,O,N,W,J,se,ue,re,ve,we,Ne,ht,ft,at){return b[0]=P,b[1]=$,b[2]=T,b[3]=O,b[4]=N,b[5]=W,b[6]=J,b[7]=se,b[8]=ue,b[9]=re,b[10]=ve,b[11]=we,b[12]=Ne,b[13]=ht,b[14]=ft,b[15]=at,b},Ut.identity=d,Ut.transpose=function(b,P){if(b===P){var $=P[1],T=P[2],O=P[3],N=P[6],W=P[7],J=P[11];b[1]=P[4],b[2]=P[8],b[3]=P[12],b[4]=$,b[6]=P[9],b[7]=P[13],b[8]=T,b[9]=N,b[11]=P[14],b[12]=O,b[13]=W,b[14]=J}else b[0]=P[0],b[1]=P[4],b[2]=P[8],b[3]=P[12],b[4]=P[1],b[5]=P[5],b[6]=P[9],b[7]=P[13],b[8]=P[2],b[9]=P[6],b[10]=P[10],b[11]=P[14],b[12]=P[3],b[13]=P[7],b[14]=P[11],b[15]=P[15];return b},Ut.invert=function(b,P){var $=P[0],T=P[1],O=P[2],N=P[3],W=P[4],J=P[5],se=P[6],ue=P[7],re=P[8],ve=P[9],we=P[10],Ne=P[11],ht=P[12],ft=P[13],at=P[14],Gt=P[15],vt=$*J-T*W,en=$*se-O*W,mn=$*ue-N*W,un=T*se-O*J,yn=T*ue-N*J,zn=O*ue-N*se,Gn=re*ft-ve*ht,Mn=re*at-we*ht,$r=re*Gt-Ne*ht,ii=ve*at-we*ft,Or=ve*Gt-Ne*ft,Xi=we*Gt-Ne*at,Fi=vt*Xi-en*Or+mn*ii+un*$r-yn*Mn+zn*Gn;return Fi?(b[0]=(J*Xi-se*Or+ue*ii)*(Fi=1/Fi),b[1]=(O*Or-T*Xi-N*ii)*Fi,b[2]=(ft*zn-at*yn+Gt*un)*Fi,b[3]=(we*yn-ve*zn-Ne*un)*Fi,b[4]=(se*$r-W*Xi-ue*Mn)*Fi,b[5]=($*Xi-O*$r+N*Mn)*Fi,b[6]=(at*mn-ht*zn-Gt*en)*Fi,b[7]=(re*zn-we*mn+Ne*en)*Fi,b[8]=(W*Or-J*$r+ue*Gn)*Fi,b[9]=(T*$r-$*Or-N*Gn)*Fi,b[10]=(ht*yn-ft*mn+Gt*vt)*Fi,b[11]=(ve*mn-re*yn-Ne*vt)*Fi,b[12]=(J*Mn-W*ii-se*Gn)*Fi,b[13]=($*ii-T*Mn+O*Gn)*Fi,b[14]=(ft*en-ht*un-at*vt)*Fi,b[15]=(re*un-ve*en+we*vt)*Fi,b):null},Ut.adjoint=function(b,P){var $=P[0],T=P[1],O=P[2],N=P[3],W=P[4],J=P[5],se=P[6],ue=P[7],re=P[8],ve=P[9],we=P[10],Ne=P[11],ht=P[12],ft=P[13],at=P[14],Gt=P[15];return b[0]=J*(we*Gt-Ne*at)-ve*(se*Gt-ue*at)+ft*(se*Ne-ue*we),b[1]=-(T*(we*Gt-Ne*at)-ve*(O*Gt-N*at)+ft*(O*Ne-N*we)),b[2]=T*(se*Gt-ue*at)-J*(O*Gt-N*at)+ft*(O*ue-N*se),b[3]=-(T*(se*Ne-ue*we)-J*(O*Ne-N*we)+ve*(O*ue-N*se)),b[4]=-(W*(we*Gt-Ne*at)-re*(se*Gt-ue*at)+ht*(se*Ne-ue*we)),b[5]=$*(we*Gt-Ne*at)-re*(O*Gt-N*at)+ht*(O*Ne-N*we),b[6]=-($*(se*Gt-ue*at)-W*(O*Gt-N*at)+ht*(O*ue-N*se)),b[7]=$*(se*Ne-ue*we)-W*(O*Ne-N*we)+re*(O*ue-N*se),b[8]=W*(ve*Gt-Ne*ft)-re*(J*Gt-ue*ft)+ht*(J*Ne-ue*ve),b[9]=-($*(ve*Gt-Ne*ft)-re*(T*Gt-N*ft)+ht*(T*Ne-N*ve)),b[10]=$*(J*Gt-ue*ft)-W*(T*Gt-N*ft)+ht*(T*ue-N*J),b[11]=-($*(J*Ne-ue*ve)-W*(T*Ne-N*ve)+re*(T*ue-N*J)),b[12]=-(W*(ve*at-we*ft)-re*(J*at-se*ft)+ht*(J*we-se*ve)),b[13]=$*(ve*at-we*ft)-re*(T*at-O*ft)+ht*(T*we-O*ve),b[14]=-($*(J*at-se*ft)-W*(T*at-O*ft)+ht*(T*se-O*J)),b[15]=$*(J*we-se*ve)-W*(T*we-O*ve)+re*(T*se-O*J),b},Ut.determinant=function(b){var P=b[0],$=b[1],T=b[2],O=b[3],N=b[4],W=b[5],J=b[6],se=b[7],ue=b[8],re=b[9],ve=b[10],we=b[11],Ne=b[12],ht=b[13],ft=b[14],at=b[15];return(P*W-$*N)*(ve*at-we*ft)-(P*J-T*N)*(re*at-we*ht)+(P*se-O*N)*(re*ft-ve*ht)+($*J-T*W)*(ue*at-we*Ne)-($*se-O*W)*(ue*ft-ve*Ne)+(T*se-O*J)*(ue*ht-re*Ne)},Ut.multiply=g,Ut.translate=function(b,P,$){var T,O,N,W,J,se,ue,re,ve,we,Ne,ht,ft=$[0],at=$[1],Gt=$[2];return P===b?(b[12]=P[0]*ft+P[4]*at+P[8]*Gt+P[12],b[13]=P[1]*ft+P[5]*at+P[9]*Gt+P[13],b[14]=P[2]*ft+P[6]*at+P[10]*Gt+P[14],b[15]=P[3]*ft+P[7]*at+P[11]*Gt+P[15]):(O=P[1],N=P[2],W=P[3],J=P[4],se=P[5],ue=P[6],re=P[7],ve=P[8],we=P[9],Ne=P[10],ht=P[11],b[0]=T=P[0],b[1]=O,b[2]=N,b[3]=W,b[4]=J,b[5]=se,b[6]=ue,b[7]=re,b[8]=ve,b[9]=we,b[10]=Ne,b[11]=ht,b[12]=T*ft+J*at+ve*Gt+P[12],b[13]=O*ft+se*at+we*Gt+P[13],b[14]=N*ft+ue*at+Ne*Gt+P[14],b[15]=W*ft+re*at+ht*Gt+P[15]),b},Ut.scale=function(b,P,$){var T=$[0],O=$[1],N=$[2];return b[0]=P[0]*T,b[1]=P[1]*T,b[2]=P[2]*T,b[3]=P[3]*T,b[4]=P[4]*O,b[5]=P[5]*O,b[6]=P[6]*O,b[7]=P[7]*O,b[8]=P[8]*N,b[9]=P[9]*N,b[10]=P[10]*N,b[11]=P[11]*N,b[12]=P[12],b[13]=P[13],b[14]=P[14],b[15]=P[15],b},Ut.rotate=function(b,P,$,T){var O,N,W,J,se,ue,re,ve,we,Ne,ht,ft,at,Gt,vt,en,mn,un,yn,zn,Gn,Mn,$r,ii,Or=T[0],Xi=T[1],Fi=T[2],xi=Math.hypot(Or,Xi,Fi);return xi<n.EPSILON?null:(Or*=xi=1/xi,Xi*=xi,Fi*=xi,O=Math.sin($),N=Math.cos($),se=P[1],ue=P[2],re=P[3],we=P[5],Ne=P[6],ht=P[7],at=P[9],Gt=P[10],vt=P[11],en=Or*Or*(W=1-N)+N,yn=Or*Xi*W-Fi*O,zn=Xi*Xi*W+N,Gn=Fi*Xi*W+Or*O,Mn=Or*Fi*W+Xi*O,$r=Xi*Fi*W-Or*O,ii=Fi*Fi*W+N,b[0]=(J=P[0])*en+(ve=P[4])*(mn=Xi*Or*W+Fi*O)+(ft=P[8])*(un=Fi*Or*W-Xi*O),b[1]=se*en+we*mn+at*un,b[2]=ue*en+Ne*mn+Gt*un,b[3]=re*en+ht*mn+vt*un,b[4]=J*yn+ve*zn+ft*Gn,b[5]=se*yn+we*zn+at*Gn,b[6]=ue*yn+Ne*zn+Gt*Gn,b[7]=re*yn+ht*zn+vt*Gn,b[8]=J*Mn+ve*$r+ft*ii,b[9]=se*Mn+we*$r+at*ii,b[10]=ue*Mn+Ne*$r+Gt*ii,b[11]=re*Mn+ht*$r+vt*ii,P!==b&&(b[12]=P[12],b[13]=P[13],b[14]=P[14],b[15]=P[15]),b)},Ut.rotateX=function(b,P,$){var T=Math.sin($),O=Math.cos($),N=P[4],W=P[5],J=P[6],se=P[7],ue=P[8],re=P[9],ve=P[10],we=P[11];return P!==b&&(b[0]=P[0],b[1]=P[1],b[2]=P[2],b[3]=P[3],b[12]=P[12],b[13]=P[13],b[14]=P[14],b[15]=P[15]),b[4]=N*O+ue*T,b[5]=W*O+re*T,b[6]=J*O+ve*T,b[7]=se*O+we*T,b[8]=ue*O-N*T,b[9]=re*O-W*T,b[10]=ve*O-J*T,b[11]=we*O-se*T,b},Ut.rotateY=function(b,P,$){var T=Math.sin($),O=Math.cos($),N=P[0],W=P[1],J=P[2],se=P[3],ue=P[8],re=P[9],ve=P[10],we=P[11];return P!==b&&(b[4]=P[4],b[5]=P[5],b[6]=P[6],b[7]=P[7],b[12]=P[12],b[13]=P[13],b[14]=P[14],b[15]=P[15]),b[0]=N*O-ue*T,b[1]=W*O-re*T,b[2]=J*O-ve*T,b[3]=se*O-we*T,b[8]=N*T+ue*O,b[9]=W*T+re*O,b[10]=J*T+ve*O,b[11]=se*T+we*O,b},Ut.rotateZ=function(b,P,$){var T=Math.sin($),O=Math.cos($),N=P[0],W=P[1],J=P[2],se=P[3],ue=P[4],re=P[5],ve=P[6],we=P[7];return P!==b&&(b[8]=P[8],b[9]=P[9],b[10]=P[10],b[11]=P[11],b[12]=P[12],b[13]=P[13],b[14]=P[14],b[15]=P[15]),b[0]=N*O+ue*T,b[1]=W*O+re*T,b[2]=J*O+ve*T,b[3]=se*O+we*T,b[4]=ue*O-N*T,b[5]=re*O-W*T,b[6]=ve*O-J*T,b[7]=we*O-se*T,b},Ut.fromTranslation=function(b,P){return b[0]=1,b[1]=0,b[2]=0,b[3]=0,b[4]=0,b[5]=1,b[6]=0,b[7]=0,b[8]=0,b[9]=0,b[10]=1,b[11]=0,b[12]=P[0],b[13]=P[1],b[14]=P[2],b[15]=1,b},Ut.fromScaling=function(b,P){return b[0]=P[0],b[1]=0,b[2]=0,b[3]=0,b[4]=0,b[5]=P[1],b[6]=0,b[7]=0,b[8]=0,b[9]=0,b[10]=P[2],b[11]=0,b[12]=0,b[13]=0,b[14]=0,b[15]=1,b},Ut.fromRotation=function(b,P,$){var T,O,N,W=$[0],J=$[1],se=$[2],ue=Math.hypot(W,J,se);return ue<n.EPSILON?null:(W*=ue=1/ue,J*=ue,se*=ue,T=Math.sin(P),O=Math.cos(P),b[0]=W*W*(N=1-O)+O,b[1]=J*W*N+se*T,b[2]=se*W*N-J*T,b[3]=0,b[4]=W*J*N-se*T,b[5]=J*J*N+O,b[6]=se*J*N+W*T,b[7]=0,b[8]=W*se*N+J*T,b[9]=J*se*N-W*T,b[10]=se*se*N+O,b[11]=0,b[12]=0,b[13]=0,b[14]=0,b[15]=1,b)},Ut.fromXRotation=function(b,P){var $=Math.sin(P),T=Math.cos(P);return b[0]=1,b[1]=0,b[2]=0,b[3]=0,b[4]=0,b[5]=T,b[6]=$,b[7]=0,b[8]=0,b[9]=-$,b[10]=T,b[11]=0,b[12]=0,b[13]=0,b[14]=0,b[15]=1,b},Ut.fromYRotation=function(b,P){var $=Math.sin(P),T=Math.cos(P);return b[0]=T,b[1]=0,b[2]=-$,b[3]=0,b[4]=0,b[5]=1,b[6]=0,b[7]=0,b[8]=$,b[9]=0,b[10]=T,b[11]=0,b[12]=0,b[13]=0,b[14]=0,b[15]=1,b},Ut.fromZRotation=function(b,P){var $=Math.sin(P),T=Math.cos(P);return b[0]=T,b[1]=$,b[2]=0,b[3]=0,b[4]=-$,b[5]=T,b[6]=0,b[7]=0,b[8]=0,b[9]=0,b[10]=1,b[11]=0,b[12]=0,b[13]=0,b[14]=0,b[15]=1,b},Ut.fromRotationTranslation=h,Ut.fromQuat2=function(b,P){var $=new n.ARRAY_TYPE(3),T=-P[0],O=-P[1],N=-P[2],W=P[3],J=P[4],se=P[5],ue=P[6],re=P[7],ve=T*T+O*O+N*N+W*W;return ve>0?($[0]=2*(J*W+re*T+se*N-ue*O)/ve,$[1]=2*(se*W+re*O+ue*T-J*N)/ve,$[2]=2*(ue*W+re*N+J*O-se*T)/ve):($[0]=2*(J*W+re*T+se*N-ue*O),$[1]=2*(se*W+re*O+ue*T-J*N),$[2]=2*(ue*W+re*N+J*O-se*T)),h(b,P,$),b},Ut.getTranslation=function(b,P){return b[0]=P[12],b[1]=P[13],b[2]=P[14],b},Ut.getScaling=v,Ut.getRotation=function(b,P){var $=new n.ARRAY_TYPE(3);v($,P);var T=1/$[0],O=1/$[1],N=1/$[2],W=P[0]*T,J=P[1]*O,se=P[2]*N,ue=P[4]*T,re=P[5]*O,ve=P[6]*N,we=P[8]*T,Ne=P[9]*O,ht=P[10]*N,ft=W+re+ht,at=0;return ft>0?(at=2*Math.sqrt(ft+1),b[3]=.25*at,b[0]=(ve-Ne)/at,b[1]=(we-se)/at,b[2]=(J-ue)/at):W>re&&W>ht?(at=2*Math.sqrt(1+W-re-ht),b[3]=(ve-Ne)/at,b[0]=.25*at,b[1]=(J+ue)/at,b[2]=(we+se)/at):re>ht?(at=2*Math.sqrt(1+re-W-ht),b[3]=(we-se)/at,b[0]=(J+ue)/at,b[1]=.25*at,b[2]=(ve+Ne)/at):(at=2*Math.sqrt(1+ht-W-re),b[3]=(J-ue)/at,b[0]=(we+se)/at,b[1]=(ve+Ne)/at,b[2]=.25*at),b},Ut.fromRotationTranslationScale=function(b,P,$,T){var O=P[0],N=P[1],W=P[2],J=P[3],se=O+O,ue=N+N,re=W+W,ve=O*se,we=O*ue,Ne=O*re,ht=N*ue,ft=N*re,at=W*re,Gt=J*se,vt=J*ue,en=J*re,mn=T[0],un=T[1],yn=T[2];return b[0]=(1-(ht+at))*mn,b[1]=(we+en)*mn,b[2]=(Ne-vt)*mn,b[3]=0,b[4]=(we-en)*un,b[5]=(1-(ve+at))*un,b[6]=(ft+Gt)*un,b[7]=0,b[8]=(Ne+vt)*yn,b[9]=(ft-Gt)*yn,b[10]=(1-(ve+ht))*yn,b[11]=0,b[12]=$[0],b[13]=$[1],b[14]=$[2],b[15]=1,b},Ut.fromRotationTranslationScaleOrigin=function(b,P,$,T,O){var N=P[0],W=P[1],J=P[2],se=P[3],ue=N+N,re=W+W,ve=J+J,we=N*ue,Ne=N*re,ht=N*ve,ft=W*re,at=W*ve,Gt=J*ve,vt=se*ue,en=se*re,mn=se*ve,un=T[0],yn=T[1],zn=T[2],Gn=O[0],Mn=O[1],$r=O[2],ii=(1-(ft+Gt))*un,Or=(Ne+mn)*un,Xi=(ht-en)*un,Fi=(Ne-mn)*yn,xi=(1-(we+Gt))*yn,ni=(at+vt)*yn,To=(ht+en)*zn,Qi=(at-vt)*zn,ho=(1-(we+ft))*zn;return b[0]=ii,b[1]=Or,b[2]=Xi,b[3]=0,b[4]=Fi,b[5]=xi,b[6]=ni,b[7]=0,b[8]=To,b[9]=Qi,b[10]=ho,b[11]=0,b[12]=$[0]+Gn-(ii*Gn+Fi*Mn+To*$r),b[13]=$[1]+Mn-(Or*Gn+xi*Mn+Qi*$r),b[14]=$[2]+$r-(Xi*Gn+ni*Mn+ho*$r),b[15]=1,b},Ut.fromQuat=function(b,P){var $=P[0],T=P[1],O=P[2],N=P[3],W=$+$,J=T+T,se=O+O,ue=$*W,re=T*W,ve=T*J,we=O*W,Ne=O*J,ht=O*se,ft=N*W,at=N*J,Gt=N*se;return b[0]=1-ve-ht,b[1]=re+Gt,b[2]=we-at,b[3]=0,b[4]=re-Gt,b[5]=1-ue-ht,b[6]=Ne+ft,b[7]=0,b[8]=we+at,b[9]=Ne-ft,b[10]=1-ue-ve,b[11]=0,b[12]=0,b[13]=0,b[14]=0,b[15]=1,b},Ut.frustum=function(b,P,$,T,O,N,W){var J=1/($-P),se=1/(O-T),ue=1/(N-W);return b[0]=2*N*J,b[1]=0,b[2]=0,b[3]=0,b[4]=0,b[5]=2*N*se,b[6]=0,b[7]=0,b[8]=($+P)*J,b[9]=(O+T)*se,b[10]=(W+N)*ue,b[11]=-1,b[12]=0,b[13]=0,b[14]=W*N*2*ue,b[15]=0,b},Ut.perspectiveNO=S,Ut.perspectiveZO=function(b,P,$,T,O){var N,W=1/Math.tan(P/2);return b[0]=W/$,b[1]=0,b[2]=0,b[3]=0,b[4]=0,b[5]=W,b[6]=0,b[7]=0,b[8]=0,b[9]=0,b[11]=-1,b[12]=0,b[13]=0,b[15]=0,O!=null&&O!==1/0?(b[10]=O*(N=1/(T-O)),b[14]=O*T*N):(b[10]=-1,b[14]=-T),b},Ut.perspectiveFromFieldOfView=function(b,P,$,T){var O=Math.tan(P.upDegrees*Math.PI/180),N=Math.tan(P.downDegrees*Math.PI/180),W=Math.tan(P.leftDegrees*Math.PI/180),J=Math.tan(P.rightDegrees*Math.PI/180),se=2/(W+J),ue=2/(O+N);return b[0]=se,b[1]=0,b[2]=0,b[3]=0,b[4]=0,b[5]=ue,b[6]=0,b[7]=0,b[8]=-(W-J)*se*.5,b[9]=(O-N)*ue*.5,b[10]=T/($-T),b[11]=-1,b[12]=0,b[13]=0,b[14]=T*$/($-T),b[15]=0,b},Ut.orthoNO=M,Ut.orthoZO=function(b,P,$,T,O,N,W){var J=1/(P-$),se=1/(T-O),ue=1/(N-W);return b[0]=-2*J,b[1]=0,b[2]=0,b[3]=0,b[4]=0,b[5]=-2*se,b[6]=0,b[7]=0,b[8]=0,b[9]=0,b[10]=ue,b[11]=0,b[12]=(P+$)*J,b[13]=(O+T)*se,b[14]=N*ue,b[15]=1,b},Ut.lookAt=function(b,P,$,T){var O,N,W,J,se,ue,re,ve,we,Ne,ht=P[0],ft=P[1],at=P[2],Gt=T[0],vt=T[1],en=T[2],mn=$[0],un=$[1],yn=$[2];return Math.abs(ht-mn)<n.EPSILON&&Math.abs(ft-un)<n.EPSILON&&Math.abs(at-yn)<n.EPSILON?d(b):(re=ht-mn,ve=ft-un,we=at-yn,O=vt*(we*=Ne=1/Math.hypot(re,ve,we))-en*(ve*=Ne),N=en*(re*=Ne)-Gt*we,W=Gt*ve-vt*re,(Ne=Math.hypot(O,N,W))?(O*=Ne=1/Ne,N*=Ne,W*=Ne):(O=0,N=0,W=0),J=ve*W-we*N,se=we*O-re*W,ue=re*N-ve*O,(Ne=Math.hypot(J,se,ue))?(J*=Ne=1/Ne,se*=Ne,ue*=Ne):(J=0,se=0,ue=0),b[0]=O,b[1]=J,b[2]=re,b[3]=0,b[4]=N,b[5]=se,b[6]=ve,b[7]=0,b[8]=W,b[9]=ue,b[10]=we,b[11]=0,b[12]=-(O*ht+N*ft+W*at),b[13]=-(J*ht+se*ft+ue*at),b[14]=-(re*ht+ve*ft+we*at),b[15]=1,b)},Ut.targetTo=function(b,P,$,T){var O=P[0],N=P[1],W=P[2],J=T[0],se=T[1],ue=T[2],re=O-$[0],ve=N-$[1],we=W-$[2],Ne=re*re+ve*ve+we*we;Ne>0&&(re*=Ne=1/Math.sqrt(Ne),ve*=Ne,we*=Ne);var ht=se*we-ue*ve,ft=ue*re-J*we,at=J*ve-se*re;return(Ne=ht*ht+ft*ft+at*at)>0&&(ht*=Ne=1/Math.sqrt(Ne),ft*=Ne,at*=Ne),b[0]=ht,b[1]=ft,b[2]=at,b[3]=0,b[4]=ve*at-we*ft,b[5]=we*ht-re*at,b[6]=re*ft-ve*ht,b[7]=0,b[8]=re,b[9]=ve,b[10]=we,b[11]=0,b[12]=O,b[13]=N,b[14]=W,b[15]=1,b},Ut.str=function(b){return"mat4("+b[0]+", "+b[1]+", "+b[2]+", "+b[3]+", "+b[4]+", "+b[5]+", "+b[6]+", "+b[7]+", "+b[8]+", "+b[9]+", "+b[10]+", "+b[11]+", "+b[12]+", "+b[13]+", "+b[14]+", "+b[15]+")"},Ut.frob=function(b){return Math.hypot(b[0],b[1],b[2],b[3],b[4],b[5],b[6],b[7],b[8],b[9],b[10],b[11],b[12],b[13],b[14],b[15])},Ut.add=function(b,P,$){return b[0]=P[0]+$[0],b[1]=P[1]+$[1],b[2]=P[2]+$[2],b[3]=P[3]+$[3],b[4]=P[4]+$[4],b[5]=P[5]+$[5],b[6]=P[6]+$[6],b[7]=P[7]+$[7],b[8]=P[8]+$[8],b[9]=P[9]+$[9],b[10]=P[10]+$[10],b[11]=P[11]+$[11],b[12]=P[12]+$[12],b[13]=P[13]+$[13],b[14]=P[14]+$[14],b[15]=P[15]+$[15],b},Ut.subtract=A,Ut.multiplyScalar=function(b,P,$){return b[0]=P[0]*$,b[1]=P[1]*$,b[2]=P[2]*$,b[3]=P[3]*$,b[4]=P[4]*$,b[5]=P[5]*$,b[6]=P[6]*$,b[7]=P[7]*$,b[8]=P[8]*$,b[9]=P[9]*$,b[10]=P[10]*$,b[11]=P[11]*$,b[12]=P[12]*$,b[13]=P[13]*$,b[14]=P[14]*$,b[15]=P[15]*$,b},Ut.multiplyScalarAndAdd=function(b,P,$,T){return b[0]=P[0]+$[0]*T,b[1]=P[1]+$[1]*T,b[2]=P[2]+$[2]*T,b[3]=P[3]+$[3]*T,b[4]=P[4]+$[4]*T,b[5]=P[5]+$[5]*T,b[6]=P[6]+$[6]*T,b[7]=P[7]+$[7]*T,b[8]=P[8]+$[8]*T,b[9]=P[9]+$[9]*T,b[10]=P[10]+$[10]*T,b[11]=P[11]+$[11]*T,b[12]=P[12]+$[12]*T,b[13]=P[13]+$[13]*T,b[14]=P[14]+$[14]*T,b[15]=P[15]+$[15]*T,b},Ut.exactEquals=function(b,P){return b[0]===P[0]&&b[1]===P[1]&&b[2]===P[2]&&b[3]===P[3]&&b[4]===P[4]&&b[5]===P[5]&&b[6]===P[6]&&b[7]===P[7]&&b[8]===P[8]&&b[9]===P[9]&&b[10]===P[10]&&b[11]===P[11]&&b[12]===P[12]&&b[13]===P[13]&&b[14]===P[14]&&b[15]===P[15]},Ut.equals=function(b,P){var $=b[0],T=b[1],O=b[2],N=b[3],W=b[4],J=b[5],se=b[6],ue=b[7],re=b[8],ve=b[9],we=b[10],Ne=b[11],ht=b[12],ft=b[13],at=b[14],Gt=b[15],vt=P[0],en=P[1],mn=P[2],un=P[3],yn=P[4],zn=P[5],Gn=P[6],Mn=P[7],$r=P[8],ii=P[9],Or=P[10],Xi=P[11],Fi=P[12],xi=P[13],ni=P[14],To=P[15];return Math.abs($-vt)<=n.EPSILON*Math.max(1,Math.abs($),Math.abs(vt))&&Math.abs(T-en)<=n.EPSILON*Math.max(1,Math.abs(T),Math.abs(en))&&Math.abs(O-mn)<=n.EPSILON*Math.max(1,Math.abs(O),Math.abs(mn))&&Math.abs(N-un)<=n.EPSILON*Math.max(1,Math.abs(N),Math.abs(un))&&Math.abs(W-yn)<=n.EPSILON*Math.max(1,Math.abs(W),Math.abs(yn))&&Math.abs(J-zn)<=n.EPSILON*Math.max(1,Math.abs(J),Math.abs(zn))&&Math.abs(se-Gn)<=n.EPSILON*Math.max(1,Math.abs(se),Math.abs(Gn))&&Math.abs(ue-Mn)<=n.EPSILON*Math.max(1,Math.abs(ue),Math.abs(Mn))&&Math.abs(re-$r)<=n.EPSILON*Math.max(1,Math.abs(re),Math.abs($r))&&Math.abs(ve-ii)<=n.EPSILON*Math.max(1,Math.abs(ve),Math.abs(ii))&&Math.abs(we-Or)<=n.EPSILON*Math.max(1,Math.abs(we),Math.abs(Or))&&Math.abs(Ne-Xi)<=n.EPSILON*Math.max(1,Math.abs(Ne),Math.abs(Xi))&&Math.abs(ht-Fi)<=n.EPSILON*Math.max(1,Math.abs(ht),Math.abs(Fi))&&Math.abs(ft-xi)<=n.EPSILON*Math.max(1,Math.abs(ft),Math.abs(xi))&&Math.abs(at-ni)<=n.EPSILON*Math.max(1,Math.abs(at),Math.abs(ni))&&Math.abs(Gt-To)<=n.EPSILON*Math.max(1,Math.abs(Gt),Math.abs(To))},Ut.sub=Ut.mul=Ut.ortho=Ut.perspective=void 0;var n=function(b,P){if(b&&b.__esModule)return b;if(b===null||u(b)!=="object"&&typeof b!="function")return{default:b};var $=i(void 0);if($&&$.has(b))return $.get(b);var T={},O=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var N in b)if(N!=="default"&&Object.prototype.hasOwnProperty.call(b,N)){var W=O?Object.getOwnPropertyDescriptor(b,N):null;W&&(W.get||W.set)?Object.defineProperty(T,N,W):T[N]=b[N]}return T.default=b,$&&$.set(b,T),T}(ye());function i(b){if(typeof WeakMap!="function")return null;var P=new WeakMap,$=new WeakMap;return(i=function(T){return T?$:P})(b)}function d(b){return b[0]=1,b[1]=0,b[2]=0,b[3]=0,b[4]=0,b[5]=1,b[6]=0,b[7]=0,b[8]=0,b[9]=0,b[10]=1,b[11]=0,b[12]=0,b[13]=0,b[14]=0,b[15]=1,b}function g(b,P,$){var T=P[0],O=P[1],N=P[2],W=P[3],J=P[4],se=P[5],ue=P[6],re=P[7],ve=P[8],we=P[9],Ne=P[10],ht=P[11],ft=P[12],at=P[13],Gt=P[14],vt=P[15],en=$[0],mn=$[1],un=$[2],yn=$[3];return b[0]=en*T+mn*J+un*ve+yn*ft,b[1]=en*O+mn*se+un*we+yn*at,b[2]=en*N+mn*ue+un*Ne+yn*Gt,b[3]=en*W+mn*re+un*ht+yn*vt,b[4]=(en=$[4])*T+(mn=$[5])*J+(un=$[6])*ve+(yn=$[7])*ft,b[5]=en*O+mn*se+un*we+yn*at,b[6]=en*N+mn*ue+un*Ne+yn*Gt,b[7]=en*W+mn*re+un*ht+yn*vt,b[8]=(en=$[8])*T+(mn=$[9])*J+(un=$[10])*ve+(yn=$[11])*ft,b[9]=en*O+mn*se+un*we+yn*at,b[10]=en*N+mn*ue+un*Ne+yn*Gt,b[11]=en*W+mn*re+un*ht+yn*vt,b[12]=(en=$[12])*T+(mn=$[13])*J+(un=$[14])*ve+(yn=$[15])*ft,b[13]=en*O+mn*se+un*we+yn*at,b[14]=en*N+mn*ue+un*Ne+yn*Gt,b[15]=en*W+mn*re+un*ht+yn*vt,b}function h(b,P,$){var T=P[0],O=P[1],N=P[2],W=P[3],J=T+T,se=O+O,ue=N+N,re=T*J,ve=T*se,we=T*ue,Ne=O*se,ht=O*ue,ft=N*ue,at=W*J,Gt=W*se,vt=W*ue;return b[0]=1-(Ne+ft),b[1]=ve+vt,b[2]=we-Gt,b[3]=0,b[4]=ve-vt,b[5]=1-(re+ft),b[6]=ht+at,b[7]=0,b[8]=we+Gt,b[9]=ht-at,b[10]=1-(re+Ne),b[11]=0,b[12]=$[0],b[13]=$[1],b[14]=$[2],b[15]=1,b}function v(b,P){var $=P[4],T=P[5],O=P[6],N=P[8],W=P[9],J=P[10];return b[0]=Math.hypot(P[0],P[1],P[2]),b[1]=Math.hypot($,T,O),b[2]=Math.hypot(N,W,J),b}function S(b,P,$,T,O){var N,W=1/Math.tan(P/2);return b[0]=W/$,b[1]=0,b[2]=0,b[3]=0,b[4]=0,b[5]=W,b[6]=0,b[7]=0,b[8]=0,b[9]=0,b[11]=-1,b[12]=0,b[13]=0,b[15]=0,O!=null&&O!==1/0?(b[10]=(O+T)*(N=1/(T-O)),b[14]=2*O*T*N):(b[10]=-1,b[14]=-2*T),b}function M(b,P,$,T,O,N,W){var J=1/(P-$),se=1/(T-O),ue=1/(N-W);return b[0]=-2*J,b[1]=0,b[2]=0,b[3]=0,b[4]=0,b[5]=-2*se,b[6]=0,b[7]=0,b[8]=0,b[9]=0,b[10]=2*ue,b[11]=0,b[12]=(P+$)*J,b[13]=(O+T)*se,b[14]=(W+N)*ue,b[15]=1,b}function A(b,P,$){return b[0]=P[0]-$[0],b[1]=P[1]-$[1],b[2]=P[2]-$[2],b[3]=P[3]-$[3],b[4]=P[4]-$[4],b[5]=P[5]-$[5],b[6]=P[6]-$[6],b[7]=P[7]-$[7],b[8]=P[8]-$[8],b[9]=P[9]-$[9],b[10]=P[10]-$[10],b[11]=P[11]-$[11],b[12]=P[12]-$[12],b[13]=P[13]-$[13],b[14]=P[14]-$[14],b[15]=P[15]-$[15],b}return Ut.perspective=S,Ut.ortho=M,Ut.mul=g,Ut.sub=A,Ut}var Pt,Wt={},kt={};function Sr(){if(Pt)return kt;function u(O){return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(N){return typeof N}:function(N){return N&&typeof Symbol=="function"&&N.constructor===Symbol&&N!==Symbol.prototype?"symbol":typeof N},u(O)}Pt=1,Object.defineProperty(kt,"__esModule",{value:!0}),kt.create=d,kt.clone=function(O){var N=new n.ARRAY_TYPE(3);return N[0]=O[0],N[1]=O[1],N[2]=O[2],N},kt.length=g,kt.fromValues=function(O,N,W){var J=new n.ARRAY_TYPE(3);return J[0]=O,J[1]=N,J[2]=W,J},kt.copy=function(O,N){return O[0]=N[0],O[1]=N[1],O[2]=N[2],O},kt.set=function(O,N,W,J){return O[0]=N,O[1]=W,O[2]=J,O},kt.add=function(O,N,W){return O[0]=N[0]+W[0],O[1]=N[1]+W[1],O[2]=N[2]+W[2],O},kt.subtract=h,kt.multiply=v,kt.divide=S,kt.ceil=function(O,N){return O[0]=Math.ceil(N[0]),O[1]=Math.ceil(N[1]),O[2]=Math.ceil(N[2]),O},kt.floor=function(O,N){return O[0]=Math.floor(N[0]),O[1]=Math.floor(N[1]),O[2]=Math.floor(N[2]),O},kt.min=function(O,N,W){return O[0]=Math.min(N[0],W[0]),O[1]=Math.min(N[1],W[1]),O[2]=Math.min(N[2],W[2]),O},kt.max=function(O,N,W){return O[0]=Math.max(N[0],W[0]),O[1]=Math.max(N[1],W[1]),O[2]=Math.max(N[2],W[2]),O},kt.round=function(O,N){return O[0]=Math.round(N[0]),O[1]=Math.round(N[1]),O[2]=Math.round(N[2]),O},kt.scale=function(O,N,W){return O[0]=N[0]*W,O[1]=N[1]*W,O[2]=N[2]*W,O},kt.scaleAndAdd=function(O,N,W,J){return O[0]=N[0]+W[0]*J,O[1]=N[1]+W[1]*J,O[2]=N[2]+W[2]*J,O},kt.distance=M,kt.squaredDistance=A,kt.squaredLength=b,kt.negate=function(O,N){return O[0]=-N[0],O[1]=-N[1],O[2]=-N[2],O},kt.inverse=function(O,N){return O[0]=1/N[0],O[1]=1/N[1],O[2]=1/N[2],O},kt.normalize=function(O,N){var W=N[0],J=N[1],se=N[2],ue=W*W+J*J+se*se;return ue>0&&(ue=1/Math.sqrt(ue)),O[0]=N[0]*ue,O[1]=N[1]*ue,O[2]=N[2]*ue,O},kt.dot=P,kt.cross=function(O,N,W){var J=N[0],se=N[1],ue=N[2],re=W[0],ve=W[1],we=W[2];return O[0]=se*we-ue*ve,O[1]=ue*re-J*we,O[2]=J*ve-se*re,O},kt.lerp=function(O,N,W,J){var se=N[0],ue=N[1],re=N[2];return O[0]=se+J*(W[0]-se),O[1]=ue+J*(W[1]-ue),O[2]=re+J*(W[2]-re),O},kt.hermite=function(O,N,W,J,se,ue){var re=ue*ue,ve=re*(2*ue-3)+1,we=re*(ue-2)+ue,Ne=re*(ue-1),ht=re*(3-2*ue);return O[0]=N[0]*ve+W[0]*we+J[0]*Ne+se[0]*ht,O[1]=N[1]*ve+W[1]*we+J[1]*Ne+se[1]*ht,O[2]=N[2]*ve+W[2]*we+J[2]*Ne+se[2]*ht,O},kt.bezier=function(O,N,W,J,se,ue){var re=1-ue,ve=re*re,we=ue*ue,Ne=ve*re,ht=3*ue*ve,ft=3*we*re,at=we*ue;return O[0]=N[0]*Ne+W[0]*ht+J[0]*ft+se[0]*at,O[1]=N[1]*Ne+W[1]*ht+J[1]*ft+se[1]*at,O[2]=N[2]*Ne+W[2]*ht+J[2]*ft+se[2]*at,O},kt.random=function(O,N){N=N||1;var W=2*n.RANDOM()*Math.PI,J=2*n.RANDOM()-1,se=Math.sqrt(1-J*J)*N;return O[0]=Math.cos(W)*se,O[1]=Math.sin(W)*se,O[2]=J*N,O},kt.transformMat4=function(O,N,W){var J=N[0],se=N[1],ue=N[2],re=W[3]*J+W[7]*se+W[11]*ue+W[15];return O[0]=(W[0]*J+W[4]*se+W[8]*ue+W[12])/(re=re||1),O[1]=(W[1]*J+W[5]*se+W[9]*ue+W[13])/re,O[2]=(W[2]*J+W[6]*se+W[10]*ue+W[14])/re,O},kt.transformMat3=function(O,N,W){var J=N[0],se=N[1],ue=N[2];return O[0]=J*W[0]+se*W[3]+ue*W[6],O[1]=J*W[1]+se*W[4]+ue*W[7],O[2]=J*W[2]+se*W[5]+ue*W[8],O},kt.transformQuat=function(O,N,W){var J=W[0],se=W[1],ue=W[2],re=N[0],ve=N[1],we=N[2],Ne=se*we-ue*ve,ht=ue*re-J*we,ft=J*ve-se*re,at=se*ft-ue*ht,Gt=ue*Ne-J*ft,vt=J*ht-se*Ne,en=2*W[3];return ht*=en,ft*=en,Gt*=2,vt*=2,O[0]=re+(Ne*=en)+(at*=2),O[1]=ve+ht+Gt,O[2]=we+ft+vt,O},kt.rotateX=function(O,N,W,J){var se=[],ue=[];return se[0]=N[0]-W[0],se[1]=N[1]-W[1],se[2]=N[2]-W[2],ue[0]=se[0],ue[1]=se[1]*Math.cos(J)-se[2]*Math.sin(J),ue[2]=se[1]*Math.sin(J)+se[2]*Math.cos(J),O[0]=ue[0]+W[0],O[1]=ue[1]+W[1],O[2]=ue[2]+W[2],O},kt.rotateY=function(O,N,W,J){var se=[],ue=[];return se[0]=N[0]-W[0],se[1]=N[1]-W[1],se[2]=N[2]-W[2],ue[0]=se[2]*Math.sin(J)+se[0]*Math.cos(J),ue[1]=se[1],ue[2]=se[2]*Math.cos(J)-se[0]*Math.sin(J),O[0]=ue[0]+W[0],O[1]=ue[1]+W[1],O[2]=ue[2]+W[2],O},kt.rotateZ=function(O,N,W,J){var se=[],ue=[];return se[0]=N[0]-W[0],se[1]=N[1]-W[1],se[2]=N[2]-W[2],ue[0]=se[0]*Math.cos(J)-se[1]*Math.sin(J),ue[1]=se[0]*Math.sin(J)+se[1]*Math.cos(J),ue[2]=se[2],O[0]=ue[0]+W[0],O[1]=ue[1]+W[1],O[2]=ue[2]+W[2],O},kt.angle=function(O,N){var W=O[0],J=O[1],se=O[2],ue=N[0],re=N[1],ve=N[2],we=Math.sqrt(W*W+J*J+se*se)*Math.sqrt(ue*ue+re*re+ve*ve),Ne=we&&P(O,N)/we;return Math.acos(Math.min(Math.max(Ne,-1),1))},kt.zero=function(O){return O[0]=0,O[1]=0,O[2]=0,O},kt.str=function(O){return"vec3("+O[0]+", "+O[1]+", "+O[2]+")"},kt.exactEquals=function(O,N){return O[0]===N[0]&&O[1]===N[1]&&O[2]===N[2]},kt.equals=function(O,N){var W=O[0],J=O[1],se=O[2],ue=N[0],re=N[1],ve=N[2];return Math.abs(W-ue)<=n.EPSILON*Math.max(1,Math.abs(W),Math.abs(ue))&&Math.abs(J-re)<=n.EPSILON*Math.max(1,Math.abs(J),Math.abs(re))&&Math.abs(se-ve)<=n.EPSILON*Math.max(1,Math.abs(se),Math.abs(ve))},kt.forEach=kt.sqrLen=kt.len=kt.sqrDist=kt.dist=kt.div=kt.mul=kt.sub=void 0;var n=function(O,N){if(O&&O.__esModule)return O;if(O===null||u(O)!=="object"&&typeof O!="function")return{default:O};var W=i(void 0);if(W&&W.has(O))return W.get(O);var J={},se=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var ue in O)if(ue!=="default"&&Object.prototype.hasOwnProperty.call(O,ue)){var re=se?Object.getOwnPropertyDescriptor(O,ue):null;re&&(re.get||re.set)?Object.defineProperty(J,ue,re):J[ue]=O[ue]}return J.default=O,W&&W.set(O,J),J}(ye());function i(O){if(typeof WeakMap!="function")return null;var N=new WeakMap,W=new WeakMap;return(i=function(J){return J?W:N})(O)}function d(){var O=new n.ARRAY_TYPE(3);return n.ARRAY_TYPE!=Float32Array&&(O[0]=0,O[1]=0,O[2]=0),O}function g(O){return Math.hypot(O[0],O[1],O[2])}function h(O,N,W){return O[0]=N[0]-W[0],O[1]=N[1]-W[1],O[2]=N[2]-W[2],O}function v(O,N,W){return O[0]=N[0]*W[0],O[1]=N[1]*W[1],O[2]=N[2]*W[2],O}function S(O,N,W){return O[0]=N[0]/W[0],O[1]=N[1]/W[1],O[2]=N[2]/W[2],O}function M(O,N){return Math.hypot(N[0]-O[0],N[1]-O[1],N[2]-O[2])}function A(O,N){var W=N[0]-O[0],J=N[1]-O[1],se=N[2]-O[2];return W*W+J*J+se*se}function b(O){var N=O[0],W=O[1],J=O[2];return N*N+W*W+J*J}function P(O,N){return O[0]*N[0]+O[1]*N[1]+O[2]*N[2]}kt.sub=h,kt.mul=v,kt.div=S,kt.dist=M,kt.sqrDist=A,kt.len=g,kt.sqrLen=b;var $,T=($=d(),function(O,N,W,J,se,ue){var re,ve;for(N||(N=3),W||(W=0),ve=J?Math.min(J*N+W,O.length):O.length,re=W;re<ve;re+=N)$[0]=O[re],$[1]=O[re+1],$[2]=O[re+2],se($,$,ue),O[re]=$[0],O[re+1]=$[1],O[re+2]=$[2];return O});return kt.forEach=T,kt}var cr,Xn,We={};function Zt(){if(cr)return We;function u(T){return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(O){return typeof O}:function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O},u(T)}cr=1,Object.defineProperty(We,"__esModule",{value:!0}),We.create=d,We.clone=function(T){var O=new n.ARRAY_TYPE(4);return O[0]=T[0],O[1]=T[1],O[2]=T[2],O[3]=T[3],O},We.fromValues=function(T,O,N,W){var J=new n.ARRAY_TYPE(4);return J[0]=T,J[1]=O,J[2]=N,J[3]=W,J},We.copy=function(T,O){return T[0]=O[0],T[1]=O[1],T[2]=O[2],T[3]=O[3],T},We.set=function(T,O,N,W,J){return T[0]=O,T[1]=N,T[2]=W,T[3]=J,T},We.add=function(T,O,N){return T[0]=O[0]+N[0],T[1]=O[1]+N[1],T[2]=O[2]+N[2],T[3]=O[3]+N[3],T},We.subtract=g,We.multiply=h,We.divide=v,We.ceil=function(T,O){return T[0]=Math.ceil(O[0]),T[1]=Math.ceil(O[1]),T[2]=Math.ceil(O[2]),T[3]=Math.ceil(O[3]),T},We.floor=function(T,O){return T[0]=Math.floor(O[0]),T[1]=Math.floor(O[1]),T[2]=Math.floor(O[2]),T[3]=Math.floor(O[3]),T},We.min=function(T,O,N){return T[0]=Math.min(O[0],N[0]),T[1]=Math.min(O[1],N[1]),T[2]=Math.min(O[2],N[2]),T[3]=Math.min(O[3],N[3]),T},We.max=function(T,O,N){return T[0]=Math.max(O[0],N[0]),T[1]=Math.max(O[1],N[1]),T[2]=Math.max(O[2],N[2]),T[3]=Math.max(O[3],N[3]),T},We.round=function(T,O){return T[0]=Math.round(O[0]),T[1]=Math.round(O[1]),T[2]=Math.round(O[2]),T[3]=Math.round(O[3]),T},We.scale=function(T,O,N){return T[0]=O[0]*N,T[1]=O[1]*N,T[2]=O[2]*N,T[3]=O[3]*N,T},We.scaleAndAdd=function(T,O,N,W){return T[0]=O[0]+N[0]*W,T[1]=O[1]+N[1]*W,T[2]=O[2]+N[2]*W,T[3]=O[3]+N[3]*W,T},We.distance=S,We.squaredDistance=M,We.length=A,We.squaredLength=b,We.negate=function(T,O){return T[0]=-O[0],T[1]=-O[1],T[2]=-O[2],T[3]=-O[3],T},We.inverse=function(T,O){return T[0]=1/O[0],T[1]=1/O[1],T[2]=1/O[2],T[3]=1/O[3],T},We.normalize=function(T,O){var N=O[0],W=O[1],J=O[2],se=O[3],ue=N*N+W*W+J*J+se*se;return ue>0&&(ue=1/Math.sqrt(ue)),T[0]=N*ue,T[1]=W*ue,T[2]=J*ue,T[3]=se*ue,T},We.dot=function(T,O){return T[0]*O[0]+T[1]*O[1]+T[2]*O[2]+T[3]*O[3]},We.cross=function(T,O,N,W){var J=N[0]*W[1]-N[1]*W[0],se=N[0]*W[2]-N[2]*W[0],ue=N[0]*W[3]-N[3]*W[0],re=N[1]*W[2]-N[2]*W[1],ve=N[1]*W[3]-N[3]*W[1],we=N[2]*W[3]-N[3]*W[2],Ne=O[0],ht=O[1],ft=O[2],at=O[3];return T[0]=ht*we-ft*ve+at*re,T[1]=-Ne*we+ft*ue-at*se,T[2]=Ne*ve-ht*ue+at*J,T[3]=-Ne*re+ht*se-ft*J,T},We.lerp=function(T,O,N,W){var J=O[0],se=O[1],ue=O[2],re=O[3];return T[0]=J+W*(N[0]-J),T[1]=se+W*(N[1]-se),T[2]=ue+W*(N[2]-ue),T[3]=re+W*(N[3]-re),T},We.random=function(T,O){var N,W,J,se,ue,re;O=O||1;do ue=(N=2*n.RANDOM()-1)*N+(W=2*n.RANDOM()-1)*W;while(ue>=1);do re=(J=2*n.RANDOM()-1)*J+(se=2*n.RANDOM()-1)*se;while(re>=1);var ve=Math.sqrt((1-ue)/re);return T[0]=O*N,T[1]=O*W,T[2]=O*J*ve,T[3]=O*se*ve,T},We.transformMat4=function(T,O,N){var W=O[0],J=O[1],se=O[2],ue=O[3];return T[0]=N[0]*W+N[4]*J+N[8]*se+N[12]*ue,T[1]=N[1]*W+N[5]*J+N[9]*se+N[13]*ue,T[2]=N[2]*W+N[6]*J+N[10]*se+N[14]*ue,T[3]=N[3]*W+N[7]*J+N[11]*se+N[15]*ue,T},We.transformQuat=function(T,O,N){var W=O[0],J=O[1],se=O[2],ue=N[0],re=N[1],ve=N[2],we=N[3],Ne=we*W+re*se-ve*J,ht=we*J+ve*W-ue*se,ft=we*se+ue*J-re*W,at=-ue*W-re*J-ve*se;return T[0]=Ne*we+at*-ue+ht*-ve-ft*-re,T[1]=ht*we+at*-re+ft*-ue-Ne*-ve,T[2]=ft*we+at*-ve+Ne*-re-ht*-ue,T[3]=O[3],T},We.zero=function(T){return T[0]=0,T[1]=0,T[2]=0,T[3]=0,T},We.str=function(T){return"vec4("+T[0]+", "+T[1]+", "+T[2]+", "+T[3]+")"},We.exactEquals=function(T,O){return T[0]===O[0]&&T[1]===O[1]&&T[2]===O[2]&&T[3]===O[3]},We.equals=function(T,O){var N=T[0],W=T[1],J=T[2],se=T[3],ue=O[0],re=O[1],ve=O[2],we=O[3];return Math.abs(N-ue)<=n.EPSILON*Math.max(1,Math.abs(N),Math.abs(ue))&&Math.abs(W-re)<=n.EPSILON*Math.max(1,Math.abs(W),Math.abs(re))&&Math.abs(J-ve)<=n.EPSILON*Math.max(1,Math.abs(J),Math.abs(ve))&&Math.abs(se-we)<=n.EPSILON*Math.max(1,Math.abs(se),Math.abs(we))},We.forEach=We.sqrLen=We.len=We.sqrDist=We.dist=We.div=We.mul=We.sub=void 0;var n=function(T,O){if(T&&T.__esModule)return T;if(T===null||u(T)!=="object"&&typeof T!="function")return{default:T};var N=i(void 0);if(N&&N.has(T))return N.get(T);var W={},J=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var se in T)if(se!=="default"&&Object.prototype.hasOwnProperty.call(T,se)){var ue=J?Object.getOwnPropertyDescriptor(T,se):null;ue&&(ue.get||ue.set)?Object.defineProperty(W,se,ue):W[se]=T[se]}return W.default=T,N&&N.set(T,W),W}(ye());function i(T){if(typeof WeakMap!="function")return null;var O=new WeakMap,N=new WeakMap;return(i=function(W){return W?N:O})(T)}function d(){var T=new n.ARRAY_TYPE(4);return n.ARRAY_TYPE!=Float32Array&&(T[0]=0,T[1]=0,T[2]=0,T[3]=0),T}function g(T,O,N){return T[0]=O[0]-N[0],T[1]=O[1]-N[1],T[2]=O[2]-N[2],T[3]=O[3]-N[3],T}function h(T,O,N){return T[0]=O[0]*N[0],T[1]=O[1]*N[1],T[2]=O[2]*N[2],T[3]=O[3]*N[3],T}function v(T,O,N){return T[0]=O[0]/N[0],T[1]=O[1]/N[1],T[2]=O[2]/N[2],T[3]=O[3]/N[3],T}function S(T,O){return Math.hypot(O[0]-T[0],O[1]-T[1],O[2]-T[2],O[3]-T[3])}function M(T,O){var N=O[0]-T[0],W=O[1]-T[1],J=O[2]-T[2],se=O[3]-T[3];return N*N+W*W+J*J+se*se}function A(T){return Math.hypot(T[0],T[1],T[2],T[3])}function b(T){var O=T[0],N=T[1],W=T[2],J=T[3];return O*O+N*N+W*W+J*J}We.sub=g,We.mul=h,We.div=v,We.dist=S,We.sqrDist=M,We.len=A,We.sqrLen=b;var P,$=(P=d(),function(T,O,N,W,J,se){var ue,re;for(O||(O=4),N||(N=0),re=W?Math.min(W*O+N,T.length):T.length,ue=N;ue<re;ue+=O)P[0]=T[ue],P[1]=T[ue+1],P[2]=T[ue+2],P[3]=T[ue+3],J(P,P,se),T[ue]=P[0],T[ue+1]=P[1],T[ue+2]=P[2],T[ue+3]=P[3];return T});return We.forEach=$,We}function cn(){if(Xn)return Wt;function u(vt){return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(en){return typeof en}:function(en){return en&&typeof Symbol=="function"&&en.constructor===Symbol&&en!==Symbol.prototype?"symbol":typeof en},u(vt)}Xn=1,Object.defineProperty(Wt,"__esModule",{value:!0}),Wt.create=S,Wt.identity=function(vt){return vt[0]=0,vt[1]=0,vt[2]=0,vt[3]=1,vt},Wt.setAxisAngle=M,Wt.getAxisAngle=function(vt,en){var mn=2*Math.acos(en[3]),un=Math.sin(mn/2);return un>n.EPSILON?(vt[0]=en[0]/un,vt[1]=en[1]/un,vt[2]=en[2]/un):(vt[0]=1,vt[1]=0,vt[2]=0),mn},Wt.getAngle=function(vt,en){var mn=N(vt,en);return Math.acos(2*mn*mn-1)},Wt.multiply=A,Wt.rotateX=function(vt,en,mn){mn*=.5;var un=en[0],yn=en[1],zn=en[2],Gn=en[3],Mn=Math.sin(mn),$r=Math.cos(mn);return vt[0]=un*$r+Gn*Mn,vt[1]=yn*$r+zn*Mn,vt[2]=zn*$r-yn*Mn,vt[3]=Gn*$r-un*Mn,vt},Wt.rotateY=function(vt,en,mn){mn*=.5;var un=en[0],yn=en[1],zn=en[2],Gn=en[3],Mn=Math.sin(mn),$r=Math.cos(mn);return vt[0]=un*$r-zn*Mn,vt[1]=yn*$r+Gn*Mn,vt[2]=zn*$r+un*Mn,vt[3]=Gn*$r-yn*Mn,vt},Wt.rotateZ=function(vt,en,mn){mn*=.5;var un=en[0],yn=en[1],zn=en[2],Gn=en[3],Mn=Math.sin(mn),$r=Math.cos(mn);return vt[0]=un*$r+yn*Mn,vt[1]=yn*$r-un*Mn,vt[2]=zn*$r+Gn*Mn,vt[3]=Gn*$r-zn*Mn,vt},Wt.calculateW=function(vt,en){var mn=en[0],un=en[1],yn=en[2];return vt[0]=mn,vt[1]=un,vt[2]=yn,vt[3]=Math.sqrt(Math.abs(1-mn*mn-un*un-yn*yn)),vt},Wt.exp=b,Wt.ln=P,Wt.pow=function(vt,en,mn){return P(vt,en),O(vt,vt,mn),b(vt,vt),vt},Wt.slerp=$,Wt.random=function(vt){var en=n.RANDOM(),mn=n.RANDOM(),un=n.RANDOM(),yn=Math.sqrt(1-en),zn=Math.sqrt(en);return vt[0]=yn*Math.sin(2*Math.PI*mn),vt[1]=yn*Math.cos(2*Math.PI*mn),vt[2]=zn*Math.sin(2*Math.PI*un),vt[3]=zn*Math.cos(2*Math.PI*un),vt},Wt.invert=function(vt,en){var mn=en[0],un=en[1],yn=en[2],zn=en[3],Gn=mn*mn+un*un+yn*yn+zn*zn,Mn=Gn?1/Gn:0;return vt[0]=-mn*Mn,vt[1]=-un*Mn,vt[2]=-yn*Mn,vt[3]=zn*Mn,vt},Wt.conjugate=function(vt,en){return vt[0]=-en[0],vt[1]=-en[1],vt[2]=-en[2],vt[3]=en[3],vt},Wt.fromMat3=T,Wt.fromEuler=function(vt,en,mn,un){var yn=.5*Math.PI/180;en*=yn,mn*=yn,un*=yn;var zn=Math.sin(en),Gn=Math.cos(en),Mn=Math.sin(mn),$r=Math.cos(mn),ii=Math.sin(un),Or=Math.cos(un);return vt[0]=zn*$r*Or-Gn*Mn*ii,vt[1]=Gn*Mn*Or+zn*$r*ii,vt[2]=Gn*$r*ii-zn*Mn*Or,vt[3]=Gn*$r*Or+zn*Mn*ii,vt},Wt.str=function(vt){return"quat("+vt[0]+", "+vt[1]+", "+vt[2]+", "+vt[3]+")"},Wt.setAxes=Wt.sqlerp=Wt.rotationTo=Wt.equals=Wt.exactEquals=Wt.normalize=Wt.sqrLen=Wt.squaredLength=Wt.len=Wt.length=Wt.lerp=Wt.dot=Wt.scale=Wt.mul=Wt.add=Wt.set=Wt.copy=Wt.fromValues=Wt.clone=void 0;var n=v(ye()),i=v(xt()),d=v(Sr()),g=v(Zt());function h(vt){if(typeof WeakMap!="function")return null;var en=new WeakMap,mn=new WeakMap;return(h=function(un){return un?mn:en})(vt)}function v(vt,en){if(vt&&vt.__esModule)return vt;if(vt===null||u(vt)!=="object"&&typeof vt!="function")return{default:vt};var mn=h(en);if(mn&&mn.has(vt))return mn.get(vt);var un={},yn=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var zn in vt)if(zn!=="default"&&Object.prototype.hasOwnProperty.call(vt,zn)){var Gn=yn?Object.getOwnPropertyDescriptor(vt,zn):null;Gn&&(Gn.get||Gn.set)?Object.defineProperty(un,zn,Gn):un[zn]=vt[zn]}return un.default=vt,mn&&mn.set(vt,un),un}function S(){var vt=new n.ARRAY_TYPE(4);return n.ARRAY_TYPE!=Float32Array&&(vt[0]=0,vt[1]=0,vt[2]=0),vt[3]=1,vt}function M(vt,en,mn){mn*=.5;var un=Math.sin(mn);return vt[0]=un*en[0],vt[1]=un*en[1],vt[2]=un*en[2],vt[3]=Math.cos(mn),vt}function A(vt,en,mn){var un=en[0],yn=en[1],zn=en[2],Gn=en[3],Mn=mn[0],$r=mn[1],ii=mn[2],Or=mn[3];return vt[0]=un*Or+Gn*Mn+yn*ii-zn*$r,vt[1]=yn*Or+Gn*$r+zn*Mn-un*ii,vt[2]=zn*Or+Gn*ii+un*$r-yn*Mn,vt[3]=Gn*Or-un*Mn-yn*$r-zn*ii,vt}function b(vt,en){var mn=en[0],un=en[1],yn=en[2],zn=en[3],Gn=Math.sqrt(mn*mn+un*un+yn*yn),Mn=Math.exp(zn),$r=Gn>0?Mn*Math.sin(Gn)/Gn:0;return vt[0]=mn*$r,vt[1]=un*$r,vt[2]=yn*$r,vt[3]=Mn*Math.cos(Gn),vt}function P(vt,en){var mn=en[0],un=en[1],yn=en[2],zn=en[3],Gn=Math.sqrt(mn*mn+un*un+yn*yn),Mn=Gn>0?Math.atan2(Gn,zn)/Gn:0;return vt[0]=mn*Mn,vt[1]=un*Mn,vt[2]=yn*Mn,vt[3]=.5*Math.log(mn*mn+un*un+yn*yn+zn*zn),vt}function $(vt,en,mn,un){var yn,zn,Gn,Mn,$r,ii=en[0],Or=en[1],Xi=en[2],Fi=en[3],xi=mn[0],ni=mn[1],To=mn[2],Qi=mn[3];return(zn=ii*xi+Or*ni+Xi*To+Fi*Qi)<0&&(zn=-zn,xi=-xi,ni=-ni,To=-To,Qi=-Qi),1-zn>n.EPSILON?(yn=Math.acos(zn),Gn=Math.sin(yn),Mn=Math.sin((1-un)*yn)/Gn,$r=Math.sin(un*yn)/Gn):(Mn=1-un,$r=un),vt[0]=Mn*ii+$r*xi,vt[1]=Mn*Or+$r*ni,vt[2]=Mn*Xi+$r*To,vt[3]=Mn*Fi+$r*Qi,vt}function T(vt,en){var mn,un=en[0]+en[4]+en[8];if(un>0)mn=Math.sqrt(un+1),vt[3]=.5*mn,vt[0]=(en[5]-en[7])*(mn=.5/mn),vt[1]=(en[6]-en[2])*mn,vt[2]=(en[1]-en[3])*mn;else{var yn=0;en[4]>en[0]&&(yn=1),en[8]>en[3*yn+yn]&&(yn=2);var zn=(yn+1)%3,Gn=(yn+2)%3;mn=Math.sqrt(en[3*yn+yn]-en[3*zn+zn]-en[3*Gn+Gn]+1),vt[yn]=.5*mn,vt[3]=(en[3*zn+Gn]-en[3*Gn+zn])*(mn=.5/mn),vt[zn]=(en[3*zn+yn]+en[3*yn+zn])*mn,vt[Gn]=(en[3*Gn+yn]+en[3*yn+Gn])*mn}return vt}Wt.clone=g.clone,Wt.fromValues=g.fromValues,Wt.copy=g.copy,Wt.set=g.set,Wt.add=g.add,Wt.mul=A;var O=g.scale;Wt.scale=O;var N=g.dot;Wt.dot=N,Wt.lerp=g.lerp;var W=g.length;Wt.length=W,Wt.len=W;var J=g.squaredLength;Wt.squaredLength=J,Wt.sqrLen=J;var se=g.normalize;Wt.normalize=se,Wt.exactEquals=g.exactEquals,Wt.equals=g.equals;var ue,re,ve,we=(ue=d.create(),re=d.fromValues(1,0,0),ve=d.fromValues(0,1,0),function(vt,en,mn){var un=d.dot(en,mn);return un<-.999999?(d.cross(ue,re,en),d.len(ue)<1e-6&&d.cross(ue,ve,en),d.normalize(ue,ue),M(vt,ue,Math.PI),vt):un>.999999?(vt[0]=0,vt[1]=0,vt[2]=0,vt[3]=1,vt):(d.cross(ue,en,mn),vt[0]=ue[0],vt[1]=ue[1],vt[2]=ue[2],vt[3]=1+un,se(vt,vt))});Wt.rotationTo=we;var Ne,ht,ft=(Ne=S(),ht=S(),function(vt,en,mn,un,yn,zn){return $(Ne,en,yn,zn),$(ht,mn,un,zn),$(vt,Ne,ht,2*zn*(1-zn)),vt});Wt.sqlerp=ft;var at,Gt=(at=i.create(),function(vt,en,mn,un){return at[0]=mn[0],at[3]=mn[1],at[6]=mn[2],at[1]=un[0],at[4]=un[1],at[7]=un[2],at[2]=-en[0],at[5]=-en[1],at[8]=-en[2],se(vt,T(vt,at))});return Wt.setAxes=Gt,Wt}var Kt,Fe={};function Ln(){if(Kt)return Fe;function u($){return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(T){return typeof T}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T},u($)}Kt=1,Object.defineProperty(Fe,"__esModule",{value:!0}),Fe.create=function(){var $=new n.ARRAY_TYPE(8);return n.ARRAY_TYPE!=Float32Array&&($[0]=0,$[1]=0,$[2]=0,$[4]=0,$[5]=0,$[6]=0,$[7]=0),$[3]=1,$},Fe.clone=function($){var T=new n.ARRAY_TYPE(8);return T[0]=$[0],T[1]=$[1],T[2]=$[2],T[3]=$[3],T[4]=$[4],T[5]=$[5],T[6]=$[6],T[7]=$[7],T},Fe.fromValues=function($,T,O,N,W,J,se,ue){var re=new n.ARRAY_TYPE(8);return re[0]=$,re[1]=T,re[2]=O,re[3]=N,re[4]=W,re[5]=J,re[6]=se,re[7]=ue,re},Fe.fromRotationTranslationValues=function($,T,O,N,W,J,se){var ue=new n.ARRAY_TYPE(8);ue[0]=$,ue[1]=T,ue[2]=O,ue[3]=N;var re=.5*W,ve=.5*J,we=.5*se;return ue[4]=re*N+ve*O-we*T,ue[5]=ve*N+we*$-re*O,ue[6]=we*N+re*T-ve*$,ue[7]=-re*$-ve*T-we*O,ue},Fe.fromRotationTranslation=v,Fe.fromTranslation=function($,T){return $[0]=0,$[1]=0,$[2]=0,$[3]=1,$[4]=.5*T[0],$[5]=.5*T[1],$[6]=.5*T[2],$[7]=0,$},Fe.fromRotation=function($,T){return $[0]=T[0],$[1]=T[1],$[2]=T[2],$[3]=T[3],$[4]=0,$[5]=0,$[6]=0,$[7]=0,$},Fe.fromMat4=function($,T){var O=i.create();d.getRotation(O,T);var N=new n.ARRAY_TYPE(3);return d.getTranslation(N,T),v($,O,N),$},Fe.copy=S,Fe.identity=function($){return $[0]=0,$[1]=0,$[2]=0,$[3]=1,$[4]=0,$[5]=0,$[6]=0,$[7]=0,$},Fe.set=function($,T,O,N,W,J,se,ue,re){return $[0]=T,$[1]=O,$[2]=N,$[3]=W,$[4]=J,$[5]=se,$[6]=ue,$[7]=re,$},Fe.getDual=function($,T){return $[0]=T[4],$[1]=T[5],$[2]=T[6],$[3]=T[7],$},Fe.setDual=function($,T){return $[4]=T[0],$[5]=T[1],$[6]=T[2],$[7]=T[3],$},Fe.getTranslation=function($,T){var O=T[4],N=T[5],W=T[6],J=T[7],se=-T[0],ue=-T[1],re=-T[2],ve=T[3];return $[0]=2*(O*ve+J*se+N*re-W*ue),$[1]=2*(N*ve+J*ue+W*se-O*re),$[2]=2*(W*ve+J*re+O*ue-N*se),$},Fe.translate=function($,T,O){var N=T[0],W=T[1],J=T[2],se=T[3],ue=.5*O[0],re=.5*O[1],ve=.5*O[2],we=T[4],Ne=T[5],ht=T[6],ft=T[7];return $[0]=N,$[1]=W,$[2]=J,$[3]=se,$[4]=se*ue+W*ve-J*re+we,$[5]=se*re+J*ue-N*ve+Ne,$[6]=se*ve+N*re-W*ue+ht,$[7]=-N*ue-W*re-J*ve+ft,$},Fe.rotateX=function($,T,O){var N=-T[0],W=-T[1],J=-T[2],se=T[3],ue=T[4],re=T[5],ve=T[6],we=T[7],Ne=ue*se+we*N+re*J-ve*W,ht=re*se+we*W+ve*N-ue*J,ft=ve*se+we*J+ue*W-re*N,at=we*se-ue*N-re*W-ve*J;return i.rotateX($,T,O),$[4]=Ne*(se=$[3])+at*(N=$[0])+ht*(J=$[2])-ft*(W=$[1]),$[5]=ht*se+at*W+ft*N-Ne*J,$[6]=ft*se+at*J+Ne*W-ht*N,$[7]=at*se-Ne*N-ht*W-ft*J,$},Fe.rotateY=function($,T,O){var N=-T[0],W=-T[1],J=-T[2],se=T[3],ue=T[4],re=T[5],ve=T[6],we=T[7],Ne=ue*se+we*N+re*J-ve*W,ht=re*se+we*W+ve*N-ue*J,ft=ve*se+we*J+ue*W-re*N,at=we*se-ue*N-re*W-ve*J;return i.rotateY($,T,O),$[4]=Ne*(se=$[3])+at*(N=$[0])+ht*(J=$[2])-ft*(W=$[1]),$[5]=ht*se+at*W+ft*N-Ne*J,$[6]=ft*se+at*J+Ne*W-ht*N,$[7]=at*se-Ne*N-ht*W-ft*J,$},Fe.rotateZ=function($,T,O){var N=-T[0],W=-T[1],J=-T[2],se=T[3],ue=T[4],re=T[5],ve=T[6],we=T[7],Ne=ue*se+we*N+re*J-ve*W,ht=re*se+we*W+ve*N-ue*J,ft=ve*se+we*J+ue*W-re*N,at=we*se-ue*N-re*W-ve*J;return i.rotateZ($,T,O),$[4]=Ne*(se=$[3])+at*(N=$[0])+ht*(J=$[2])-ft*(W=$[1]),$[5]=ht*se+at*W+ft*N-Ne*J,$[6]=ft*se+at*J+Ne*W-ht*N,$[7]=at*se-Ne*N-ht*W-ft*J,$},Fe.rotateByQuatAppend=function($,T,O){var N=O[0],W=O[1],J=O[2],se=O[3],ue=T[0],re=T[1],ve=T[2],we=T[3];return $[0]=ue*se+we*N+re*J-ve*W,$[1]=re*se+we*W+ve*N-ue*J,$[2]=ve*se+we*J+ue*W-re*N,$[3]=we*se-ue*N-re*W-ve*J,$[4]=(ue=T[4])*se+(we=T[7])*N+(re=T[5])*J-(ve=T[6])*W,$[5]=re*se+we*W+ve*N-ue*J,$[6]=ve*se+we*J+ue*W-re*N,$[7]=we*se-ue*N-re*W-ve*J,$},Fe.rotateByQuatPrepend=function($,T,O){var N=T[0],W=T[1],J=T[2],se=T[3],ue=O[0],re=O[1],ve=O[2],we=O[3];return $[0]=N*we+se*ue+W*ve-J*re,$[1]=W*we+se*re+J*ue-N*ve,$[2]=J*we+se*ve+N*re-W*ue,$[3]=se*we-N*ue-W*re-J*ve,$[4]=N*(we=O[7])+se*(ue=O[4])+W*(ve=O[6])-J*(re=O[5]),$[5]=W*we+se*re+J*ue-N*ve,$[6]=J*we+se*ve+N*re-W*ue,$[7]=se*we-N*ue-W*re-J*ve,$},Fe.rotateAroundAxis=function($,T,O,N){if(Math.abs(N)<n.EPSILON)return S($,T);var W=Math.hypot(O[0],O[1],O[2]);N*=.5;var J=Math.sin(N),se=J*O[0]/W,ue=J*O[1]/W,re=J*O[2]/W,ve=Math.cos(N),we=T[0],Ne=T[1],ht=T[2],ft=T[3];$[0]=we*ve+ft*se+Ne*re-ht*ue,$[1]=Ne*ve+ft*ue+ht*se-we*re,$[2]=ht*ve+ft*re+we*ue-Ne*se,$[3]=ft*ve-we*se-Ne*ue-ht*re;var at=T[4],Gt=T[5],vt=T[6],en=T[7];return $[4]=at*ve+en*se+Gt*re-vt*ue,$[5]=Gt*ve+en*ue+vt*se-at*re,$[6]=vt*ve+en*re+at*ue-Gt*se,$[7]=en*ve-at*se-Gt*ue-vt*re,$},Fe.add=function($,T,O){return $[0]=T[0]+O[0],$[1]=T[1]+O[1],$[2]=T[2]+O[2],$[3]=T[3]+O[3],$[4]=T[4]+O[4],$[5]=T[5]+O[5],$[6]=T[6]+O[6],$[7]=T[7]+O[7],$},Fe.multiply=M,Fe.scale=function($,T,O){return $[0]=T[0]*O,$[1]=T[1]*O,$[2]=T[2]*O,$[3]=T[3]*O,$[4]=T[4]*O,$[5]=T[5]*O,$[6]=T[6]*O,$[7]=T[7]*O,$},Fe.lerp=function($,T,O,N){var W=1-N;return A(T,O)<0&&(N=-N),$[0]=T[0]*W+O[0]*N,$[1]=T[1]*W+O[1]*N,$[2]=T[2]*W+O[2]*N,$[3]=T[3]*W+O[3]*N,$[4]=T[4]*W+O[4]*N,$[5]=T[5]*W+O[5]*N,$[6]=T[6]*W+O[6]*N,$[7]=T[7]*W+O[7]*N,$},Fe.invert=function($,T){var O=P(T);return $[0]=-T[0]/O,$[1]=-T[1]/O,$[2]=-T[2]/O,$[3]=T[3]/O,$[4]=-T[4]/O,$[5]=-T[5]/O,$[6]=-T[6]/O,$[7]=T[7]/O,$},Fe.conjugate=function($,T){return $[0]=-T[0],$[1]=-T[1],$[2]=-T[2],$[3]=T[3],$[4]=-T[4],$[5]=-T[5],$[6]=-T[6],$[7]=T[7],$},Fe.normalize=function($,T){var O=P(T);if(O>0){O=Math.sqrt(O);var N=T[0]/O,W=T[1]/O,J=T[2]/O,se=T[3]/O,ue=T[4],re=T[5],ve=T[6],we=T[7],Ne=N*ue+W*re+J*ve+se*we;$[0]=N,$[1]=W,$[2]=J,$[3]=se,$[4]=(ue-N*Ne)/O,$[5]=(re-W*Ne)/O,$[6]=(ve-J*Ne)/O,$[7]=(we-se*Ne)/O}return $},Fe.str=function($){return"quat2("+$[0]+", "+$[1]+", "+$[2]+", "+$[3]+", "+$[4]+", "+$[5]+", "+$[6]+", "+$[7]+")"},Fe.exactEquals=function($,T){return $[0]===T[0]&&$[1]===T[1]&&$[2]===T[2]&&$[3]===T[3]&&$[4]===T[4]&&$[5]===T[5]&&$[6]===T[6]&&$[7]===T[7]},Fe.equals=function($,T){var O=$[0],N=$[1],W=$[2],J=$[3],se=$[4],ue=$[5],re=$[6],ve=$[7],we=T[0],Ne=T[1],ht=T[2],ft=T[3],at=T[4],Gt=T[5],vt=T[6],en=T[7];return Math.abs(O-we)<=n.EPSILON*Math.max(1,Math.abs(O),Math.abs(we))&&Math.abs(N-Ne)<=n.EPSILON*Math.max(1,Math.abs(N),Math.abs(Ne))&&Math.abs(W-ht)<=n.EPSILON*Math.max(1,Math.abs(W),Math.abs(ht))&&Math.abs(J-ft)<=n.EPSILON*Math.max(1,Math.abs(J),Math.abs(ft))&&Math.abs(se-at)<=n.EPSILON*Math.max(1,Math.abs(se),Math.abs(at))&&Math.abs(ue-Gt)<=n.EPSILON*Math.max(1,Math.abs(ue),Math.abs(Gt))&&Math.abs(re-vt)<=n.EPSILON*Math.max(1,Math.abs(re),Math.abs(vt))&&Math.abs(ve-en)<=n.EPSILON*Math.max(1,Math.abs(ve),Math.abs(en))},Fe.sqrLen=Fe.squaredLength=Fe.len=Fe.length=Fe.dot=Fe.mul=Fe.setReal=Fe.getReal=void 0;var n=h(ye()),i=h(cn()),d=h(yt());function g($){if(typeof WeakMap!="function")return null;var T=new WeakMap,O=new WeakMap;return(g=function(N){return N?O:T})($)}function h($,T){if($&&$.__esModule)return $;if($===null||u($)!=="object"&&typeof $!="function")return{default:$};var O=g(T);if(O&&O.has($))return O.get($);var N={},W=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var J in $)if(J!=="default"&&Object.prototype.hasOwnProperty.call($,J)){var se=W?Object.getOwnPropertyDescriptor($,J):null;se&&(se.get||se.set)?Object.defineProperty(N,J,se):N[J]=$[J]}return N.default=$,O&&O.set($,N),N}function v($,T,O){var N=.5*O[0],W=.5*O[1],J=.5*O[2],se=T[0],ue=T[1],re=T[2],ve=T[3];return $[0]=se,$[1]=ue,$[2]=re,$[3]=ve,$[4]=N*ve+W*re-J*ue,$[5]=W*ve+J*se-N*re,$[6]=J*ve+N*ue-W*se,$[7]=-N*se-W*ue-J*re,$}function S($,T){return $[0]=T[0],$[1]=T[1],$[2]=T[2],$[3]=T[3],$[4]=T[4],$[5]=T[5],$[6]=T[6],$[7]=T[7],$}function M($,T,O){var N=T[0],W=T[1],J=T[2],se=T[3],ue=O[4],re=O[5],ve=O[6],we=O[7],Ne=T[4],ht=T[5],ft=T[6],at=T[7],Gt=O[0],vt=O[1],en=O[2],mn=O[3];return $[0]=N*mn+se*Gt+W*en-J*vt,$[1]=W*mn+se*vt+J*Gt-N*en,$[2]=J*mn+se*en+N*vt-W*Gt,$[3]=se*mn-N*Gt-W*vt-J*en,$[4]=N*we+se*ue+W*ve-J*re+Ne*mn+at*Gt+ht*en-ft*vt,$[5]=W*we+se*re+J*ue-N*ve+ht*mn+at*vt+ft*Gt-Ne*en,$[6]=J*we+se*ve+N*re-W*ue+ft*mn+at*en+Ne*vt-ht*Gt,$[7]=se*we-N*ue-W*re-J*ve+at*mn-Ne*Gt-ht*vt-ft*en,$}Fe.getReal=i.copy,Fe.setReal=i.copy,Fe.mul=M;var A=i.dot;Fe.dot=A;var b=i.length;Fe.length=b,Fe.len=b;var P=i.squaredLength;return Fe.squaredLength=P,Fe.sqrLen=P,Fe}var hn,On,ut={};function Yt(){if(hn)return ut;function u(T){return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(O){return typeof O}:function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O},u(T)}hn=1,Object.defineProperty(ut,"__esModule",{value:!0}),ut.create=d,ut.clone=function(T){var O=new n.ARRAY_TYPE(2);return O[0]=T[0],O[1]=T[1],O},ut.fromValues=function(T,O){var N=new n.ARRAY_TYPE(2);return N[0]=T,N[1]=O,N},ut.copy=function(T,O){return T[0]=O[0],T[1]=O[1],T},ut.set=function(T,O,N){return T[0]=O,T[1]=N,T},ut.add=function(T,O,N){return T[0]=O[0]+N[0],T[1]=O[1]+N[1],T},ut.subtract=g,ut.multiply=h,ut.divide=v,ut.ceil=function(T,O){return T[0]=Math.ceil(O[0]),T[1]=Math.ceil(O[1]),T},ut.floor=function(T,O){return T[0]=Math.floor(O[0]),T[1]=Math.floor(O[1]),T},ut.min=function(T,O,N){return T[0]=Math.min(O[0],N[0]),T[1]=Math.min(O[1],N[1]),T},ut.max=function(T,O,N){return T[0]=Math.max(O[0],N[0]),T[1]=Math.max(O[1],N[1]),T},ut.round=function(T,O){return T[0]=Math.round(O[0]),T[1]=Math.round(O[1]),T},ut.scale=function(T,O,N){return T[0]=O[0]*N,T[1]=O[1]*N,T},ut.scaleAndAdd=function(T,O,N,W){return T[0]=O[0]+N[0]*W,T[1]=O[1]+N[1]*W,T},ut.distance=S,ut.squaredDistance=M,ut.length=A,ut.squaredLength=b,ut.negate=function(T,O){return T[0]=-O[0],T[1]=-O[1],T},ut.inverse=function(T,O){return T[0]=1/O[0],T[1]=1/O[1],T},ut.normalize=function(T,O){var N=O[0],W=O[1],J=N*N+W*W;return J>0&&(J=1/Math.sqrt(J)),T[0]=O[0]*J,T[1]=O[1]*J,T},ut.dot=function(T,O){return T[0]*O[0]+T[1]*O[1]},ut.cross=function(T,O,N){var W=O[0]*N[1]-O[1]*N[0];return T[0]=T[1]=0,T[2]=W,T},ut.lerp=function(T,O,N,W){var J=O[0],se=O[1];return T[0]=J+W*(N[0]-J),T[1]=se+W*(N[1]-se),T},ut.random=function(T,O){O=O||1;var N=2*n.RANDOM()*Math.PI;return T[0]=Math.cos(N)*O,T[1]=Math.sin(N)*O,T},ut.transformMat2=function(T,O,N){var W=O[0],J=O[1];return T[0]=N[0]*W+N[2]*J,T[1]=N[1]*W+N[3]*J,T},ut.transformMat2d=function(T,O,N){var W=O[0],J=O[1];return T[0]=N[0]*W+N[2]*J+N[4],T[1]=N[1]*W+N[3]*J+N[5],T},ut.transformMat3=function(T,O,N){var W=O[0],J=O[1];return T[0]=N[0]*W+N[3]*J+N[6],T[1]=N[1]*W+N[4]*J+N[7],T},ut.transformMat4=function(T,O,N){var W=O[0],J=O[1];return T[0]=N[0]*W+N[4]*J+N[12],T[1]=N[1]*W+N[5]*J+N[13],T},ut.rotate=function(T,O,N,W){var J=O[0]-N[0],se=O[1]-N[1],ue=Math.sin(W),re=Math.cos(W);return T[0]=J*re-se*ue+N[0],T[1]=J*ue+se*re+N[1],T},ut.angle=function(T,O){var N=T[0],W=T[1],J=O[0],se=O[1],ue=Math.sqrt(N*N+W*W)*Math.sqrt(J*J+se*se);return Math.acos(Math.min(Math.max(ue&&(N*J+W*se)/ue,-1),1))},ut.zero=function(T){return T[0]=0,T[1]=0,T},ut.str=function(T){return"vec2("+T[0]+", "+T[1]+")"},ut.exactEquals=function(T,O){return T[0]===O[0]&&T[1]===O[1]},ut.equals=function(T,O){var N=T[0],W=T[1],J=O[0],se=O[1];return Math.abs(N-J)<=n.EPSILON*Math.max(1,Math.abs(N),Math.abs(J))&&Math.abs(W-se)<=n.EPSILON*Math.max(1,Math.abs(W),Math.abs(se))},ut.forEach=ut.sqrLen=ut.sqrDist=ut.dist=ut.div=ut.mul=ut.sub=ut.len=void 0;var n=function(T,O){if(T&&T.__esModule)return T;if(T===null||u(T)!=="object"&&typeof T!="function")return{default:T};var N=i(void 0);if(N&&N.has(T))return N.get(T);var W={},J=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var se in T)if(se!=="default"&&Object.prototype.hasOwnProperty.call(T,se)){var ue=J?Object.getOwnPropertyDescriptor(T,se):null;ue&&(ue.get||ue.set)?Object.defineProperty(W,se,ue):W[se]=T[se]}return W.default=T,N&&N.set(T,W),W}(ye());function i(T){if(typeof WeakMap!="function")return null;var O=new WeakMap,N=new WeakMap;return(i=function(W){return W?N:O})(T)}function d(){var T=new n.ARRAY_TYPE(2);return n.ARRAY_TYPE!=Float32Array&&(T[0]=0,T[1]=0),T}function g(T,O,N){return T[0]=O[0]-N[0],T[1]=O[1]-N[1],T}function h(T,O,N){return T[0]=O[0]*N[0],T[1]=O[1]*N[1],T}function v(T,O,N){return T[0]=O[0]/N[0],T[1]=O[1]/N[1],T}function S(T,O){return Math.hypot(O[0]-T[0],O[1]-T[1])}function M(T,O){var N=O[0]-T[0],W=O[1]-T[1];return N*N+W*W}function A(T){return Math.hypot(T[0],T[1])}function b(T){var O=T[0],N=T[1];return O*O+N*N}ut.len=A,ut.sub=g,ut.mul=h,ut.div=v,ut.dist=S,ut.sqrDist=M,ut.sqrLen=b;var P,$=(P=d(),function(T,O,N,W,J,se){var ue,re;for(O||(O=2),N||(N=0),re=W?Math.min(W*O+N,T.length):T.length,ue=N;ue<re;ue+=O)P[0]=T[ue],P[1]=T[ue+1],J(P,P,se),T[ue]=P[0],T[ue+1]=P[1];return T});return ut.forEach=$,ut}function bn(){if(On)return ze;function u(T){return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(O){return typeof O}:function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O},u(T)}On=1,Object.defineProperty(ze,"__esModule",{value:!0}),ze.vec4=ze.vec3=ze.vec2=ze.quat2=ze.quat=ze.mat4=ze.mat3=ze.mat2d=ze.mat2=ze.glMatrix=void 0;var n=$(ye());ze.glMatrix=n;var i=$(Ee());ze.mat2=i;var d=$(ot());ze.mat2d=d;var g=$(xt());ze.mat3=g;var h=$(yt());ze.mat4=h;var v=$(cn());ze.quat=v;var S=$(Ln());ze.quat2=S;var M=$(Yt());ze.vec2=M;var A=$(Sr());ze.vec3=A;var b=$(Zt());function P(T){if(typeof WeakMap!="function")return null;var O=new WeakMap,N=new WeakMap;return(P=function(W){return W?N:O})(T)}function $(T,O){if(T&&T.__esModule)return T;if(T===null||u(T)!=="object"&&typeof T!="function")return{default:T};var N=P(O);if(N&&N.has(T))return N.get(T);var W={},J=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var se in T)if(se!=="default"&&Object.prototype.hasOwnProperty.call(T,se)){var ue=J?Object.getOwnPropertyDescriptor(T,se):null;ue&&(ue.get||ue.set)?Object.defineProperty(W,se,ue):W[se]=T[se]}return W.default=T,N&&N.set(T,W),W}return ze.vec4=b,ze}var he,Jt,wi,ai,$e=bn(),An=function(){if(Jt)return he;function u(n,i,d,g){this.cx=3*n,this.bx=3*(d-n)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*i,this.by=3*(g-i)-this.cy,this.ay=1-this.cy-this.by,this.p1x=n,this.p1y=i,this.p2x=d,this.p2y=g}return Jt=1,he=u,u.prototype={sampleCurveX:function(n){return((this.ax*n+this.bx)*n+this.cx)*n},sampleCurveY:function(n){return((this.ay*n+this.by)*n+this.cy)*n},sampleCurveDerivativeX:function(n){return(3*this.ax*n+2*this.bx)*n+this.cx},solveCurveX:function(n,i){if(i===void 0&&(i=1e-6),n<0)return 0;if(n>1)return 1;for(var d=n,g=0;g<8;g++){var h=this.sampleCurveX(d)-n;if(Math.abs(h)<i)return d;var v=this.sampleCurveDerivativeX(d);if(Math.abs(v)<1e-6)break;d-=h/v}var S=0,M=1;for(d=n,g=0;g<20&&(h=this.sampleCurveX(d),!(Math.abs(h-n)<i));g++)n>h?S=d:M=d,d=.5*(M-S)+S;return d},solve:function(n,i){return this.sampleCurveY(this.solveCurveX(n,i))}},he}(),Ur=xe(An);function Kr(){if(ai)return wi;function u(n,i){this.x=n,this.y=i}return ai=1,wi=u,u.prototype={clone:function(){return new u(this.x,this.y)},add:function(n){return this.clone()._add(n)},sub:function(n){return this.clone()._sub(n)},multByPoint:function(n){return this.clone()._multByPoint(n)},divByPoint:function(n){return this.clone()._divByPoint(n)},mult:function(n){return this.clone()._mult(n)},div:function(n){return this.clone()._div(n)},rotate:function(n){return this.clone()._rotate(n)},rotateAround:function(n,i){return this.clone()._rotateAround(n,i)},matMult:function(n){return this.clone()._matMult(n)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(n){return this.x===n.x&&this.y===n.y},dist:function(n){return Math.sqrt(this.distSqr(n))},distSqr:function(n){var i=n.x-this.x,d=n.y-this.y;return i*i+d*d},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(n){return Math.atan2(this.y-n.y,this.x-n.x)},angleWith:function(n){return this.angleWithSep(n.x,n.y)},angleWithSep:function(n,i){return Math.atan2(this.x*i-this.y*n,this.x*n+this.y*i)},_matMult:function(n){var i=n[2]*this.x+n[3]*this.y;return this.x=n[0]*this.x+n[1]*this.y,this.y=i,this},_add:function(n){return this.x+=n.x,this.y+=n.y,this},_sub:function(n){return this.x-=n.x,this.y-=n.y,this},_mult:function(n){return this.x*=n,this.y*=n,this},_div:function(n){return this.x/=n,this.y/=n,this},_multByPoint:function(n){return this.x*=n.x,this.y*=n.y,this},_divByPoint:function(n){return this.x/=n.x,this.y/=n.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var n=this.y;return this.y=this.x,this.x=-n,this},_rotate:function(n){var i=Math.cos(n),d=Math.sin(n),g=d*this.x+i*this.y;return this.x=i*this.x-d*this.y,this.y=g,this},_rotateAround:function(n,i){var d=Math.cos(n),g=Math.sin(n),h=i.y+g*(this.x-i.x)+d*(this.y-i.y);return this.x=i.x+d*(this.x-i.x)-g*(this.y-i.y),this.y=h,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},u.convert=function(n){return n instanceof u?n:Array.isArray(n)?new u(n[0],n[1]):n},wi}var Rn=xe(Kr());function Wr(u,n){if(Array.isArray(u)){if(!Array.isArray(n)||u.length!==n.length)return!1;for(let i=0;i<u.length;i++)if(!Wr(u[i],n[i]))return!1;return!0}if(typeof u=="object"&&u!==null&&n!==null){if(typeof n!="object"||Object.keys(u).length!==Object.keys(n).length)return!1;for(const i in u)if(!Wr(u[i],n[i]))return!1;return!0}return u===n}const Ii=Math.PI/180,pr=180/Math.PI;function it(u){return u*Ii}function Ot(u){return u*pr}const Bn=[[0,0],[1,0],[1,1],[0,1]];function fn(u){if(u<=0)return 0;if(u>=1)return 1;const n=u*u,i=n*u;return 4*(u<.5?i:3*(u-n)+i-.75)}function gn(u,n,i,d){const g=new Ur(u,n,i,d);return function(h){return g.solve(h)}}const Er=gn(.25,.1,.25,1);function Vn(u,n,i){return Math.min(i,Math.max(n,u))}function ri(u,n,i){return(i=Vn((i-u)/(n-u),0,1))*i*(3-2*i)}function fi(u,n,i){const d=i-n,g=((u-n)%d+d)%d+n;return g===n?i:g}function qr(u,n,i){if(!u.length)return i(null,[]);let d=u.length;const g=new Array(u.length);let h=null;u.forEach((v,S)=>{n(v,(M,A)=>{M&&(h=M),g[S]=A,--d==0&&i(h,g)})})}function Jr(u,...n){for(const i of n)for(const d in i)u[d]=i[d];return u}let wr=1;function Yn(){return wr++}function yr(u){return u<=1?1:Math.pow(2,Math.ceil(Math.log(u)/Math.LN2))}function Pr(u,n){u.forEach(i=>{n[i]&&(n[i]=n[i].bind(n))})}function Ir(u,n){return u.indexOf(n,u.length-n.length)!==-1}function Xr(u,n,i){const d={};for(const g in u)d[g]=n.call(this,u[g],g,u);return d}function rr(u,n,i){const d={};for(const g in u)n.call(this,u[g],g,u)&&(d[g]=u[g]);return d}function gr(u){return Array.isArray(u)?u.map(gr):typeof u=="object"&&u?Xr(u,gr):u}const ei={};function Un(u){ei[u]||(typeof console!="undefined"&&console.warn(u),ei[u]=!0)}function si(u,n,i){return(i.y-u.y)*(n.x-u.x)>(n.y-u.y)*(i.x-u.x)}function Si(u){let n=0;for(let i,d,g=0,h=u.length,v=h-1;g<h;v=g++)i=u[g],d=u[v],n+=(d.x-i.x)*(i.y+d.y);return n}function Yi([u,n,i]){const d=it(n+90),g=it(i);return{x:u*Math.cos(d)*Math.sin(g),y:u*Math.sin(d)*Math.sin(g),z:u*Math.cos(g),azimuthal:n,polar:i}}function xo(){return typeof WorkerGlobalScope!="undefined"&&typeof self!="undefined"&&self instanceof WorkerGlobalScope}function Qr(u){const n={};if(u.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,(i,d,g,h)=>{const v=g||h;return n[d]=!v||v.toLowerCase(),""}),n["max-age"]){const i=parseInt(n["max-age"],10);isNaN(i)?delete n["max-age"]:n["max-age"]=i}return n}let co=null;function tn(u,n){return[u[4*n],u[4*n+1],u[4*n+2],u[4*n+3]]}function Tn(u,n,i,d){for(;n<i;){const g=n+i>>1;u[g]<d?n=g+1:i=g}return n}function ir(u,n,i,d){for(;n<i;){const g=n+i>>1;u[g]<=d?n=g+1:i=g}return n}function kr(u){return u>0?1/(1.001-u):1+u}function gi(u){return u>0?1-1/(1.001-u):-u}const li={API_URL:"https://api.mapbox.com",get API_URL_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i},get API_TILEJSON_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/v[0-9]*\/.*\.json.*$)/i},get API_SPRITE_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/styles\/v[0-9]*\/)(.*\/sprite.*\..*$)/i},get API_FONTS_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/fonts\/v[0-9]*\/)(.*\.pbf.*$)/i},get API_STYLE_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/styles\/v[0-9]*\/)(.*$)/i},get API_CDN_URL_REGEX(){return/^((https?:)?\/\/)?api\.mapbox\.c(n|om)(\/mapbox-gl-js\/)(.*$)/i},get EVENTS_URL(){if(!li.API_URL)return null;try{const u=new URL(li.API_URL);return u.hostname==="api.mapbox.cn"?"https://events.mapbox.cn/events/v2":u.hostname==="api.mapbox.com"?"https://events.mapbox.com/events/v2":null}catch(u){return null}},SESSION_PATH:"/map-sessions/v1",FEEDBACK_URL:"https://apps.mapbox.com/feedback",TILE_URL_VERSION:"v4",RASTER_URL_PREFIX:"raster/v1",RASTERARRAYS_URL_PREFIX:"rasterarrays/v1",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,DEFAULT_STYLE:"mapbox://styles/mapbox/standard",MAX_PARALLEL_IMAGE_REQUESTS:16,DRACO_URL:"https://api.mapbox.com/mapbox-gl-js/draco_decoder_gltf_v1.5.6.wasm",MESHOPT_URL:"https://api.mapbox.com/mapbox-gl-js/meshopt_base_v0.20.wasm",MESHOPT_SIMD_URL:"https://api.mapbox.com/mapbox-gl-js/meshopt_simd_v0.20.wasm",GLYPHS_URL:"mapbox://fonts/mapbox/{fontstack}/{range}.pbf",TILES3D_URL_PREFIX:"3dtiles/v1"};function eo(u){return li.API_URL_REGEX.test(u)}function io(u){return li.API_SPRITE_REGEX.test(u)}let Lo,Co,uo,Re,de,Y;function Ze(){return Lo==null&&(Lo=self.OffscreenCanvas&&new OffscreenCanvas(1,1).getContext("2d")&&typeof self.createImageBitmap=="function"),Lo}const pe={now:()=>Re!==void 0?Re:performance.now(),setNow(u){Re=u},restoreNow(){Re=void 0},frame(u){const n=requestAnimationFrame(u);return{cancel:()=>cancelAnimationFrame(n)}},getImageData(u,n=0){const{width:i,height:d}=u;de||(de=document.createElement("canvas"));const g=de.getContext("2d",{willReadFrequently:!0});if(!g)throw new Error("failed to create canvas 2d context");return(i>de.width||d>de.height)&&(de.width=i,de.height=d),g.clearRect(-n,-n,i+2*n,d+2*n),g.drawImage(u,0,0,i,d),g.getImageData(-n,-n,i+2*n,d+2*n)},resolveURL:u=>(Co||(Co=document.createElement("a")),Co.href=u,Co.href),get devicePixelRatio(){return window.devicePixelRatio},get prefersReducedMotion(){return!!window.matchMedia&&(uo==null&&(uo=window.matchMedia("(prefers-reduced-motion: reduce)")),uo.matches)},hasCanvasFingerprintNoise(){if(Y!==void 0)return Y;if(!Ze())return Y=!1,!1;const u=new OffscreenCanvas(85,1),n=u.getContext("2d",{willReadFrequently:!0});let i=0;for(let g=0;g<u.width;++g)n.fillStyle=`rgba(${i++},${i++},${i++}, 255)`,n.fillRect(g,0,1,1);const d=n.getImageData(0,0,u.width,u.height);i=0;for(let g=0;g<d.data.length;++g)if(g%4!=3&&i++!==d.data[g])return Y=!0,!0;return Y=!1,!1}};function et(u,n){const i=u.indexOf("?");if(i<0)return`${u}?${new URLSearchParams(n).toString()}`;const d=new URLSearchParams(u.slice(i));for(const g in n)d.set(g,n[g]);return`${u.slice(0,i)}?${d.toString()}`}function nt(u,n={persistentParams:[]}){const i=u.indexOf("?");if(i<0)return u;const d=new URLSearchParams,g=new URLSearchParams(u.slice(i));for(const v of n.persistentParams){const S=g.get(v);S&&d.set(v,S)}const h=d.toString();return`${u.slice(0,i)}${h.length>0?`?${h}`:""}`}const ln="mapbox-tiles";let At=500,sn=50;const vn=["language","worldview","jobid"];let Je,Rt;function Xt(){try{return caches}catch(u){}}function nn(){const u=Xt();u&&Je==null&&(Je=u.open(ln))}let dt=1/0;const lt={supported:!1,testSupport:function(u){!Wn&&_n&&(nr?Nr(u):En=u)}};let En,_n,Wn=!1,nr=!1;const mr=typeof self!="undefined"?self:{};function Nr(u){const n=u.createTexture();u.bindTexture(u.TEXTURE_2D,n);try{if(u.texImage2D(u.TEXTURE_2D,0,u.RGBA,u.RGBA,u.UNSIGNED_BYTE,_n),u.isContextLost())return;lt.supported=!0}catch(i){}u.deleteTexture(n),Wn=!0}mr.document&&(_n=mr.document.createElement("img"),_n.onload=function(){En&&Nr(En),En=null,nr=!0},_n.onerror=function(){Wn=!0,En=null},_n.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");const ui={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Iconset:"Iconset",Image:"Image",Model:"Model"};typeof Object.freeze=="function"&&Object.freeze(ui);class Zr extends Error{constructor(n,i,d){i===401&&eo(d)&&(n+=": you may have provided an invalid Mapbox access token. See https://docs.mapbox.com/api/overview/#access-tokens-and-token-scopes"),super(n),this.status=i,this.url=d}toString(){return`${this.name}: ${this.message} (${this.status}): ${this.url}`}}const qi=xo()?()=>self.worker&&self.worker.referrer:()=>(location.protocol==="blob:"?parent:self).location.href,pt=function(u,n){if(!(/^file:/.test(i=u.url)||/^file:/.test(qi())&&!/^\w+:/.test(i))){if(self.fetch&&self.Request&&self.AbortController&&Request.prototype.hasOwnProperty("signal"))return function(d,g){const h=new AbortController,v=new Request(d.url,{method:d.method||"GET",body:d.body,credentials:d.credentials,headers:d.headers,referrer:qi(),referrerPolicy:d.referrerPolicy,signal:h.signal});let S=!1,M=!1;const A=(b=v.url).indexOf("sku=")>0&&eo(b);var b;d.type==="json"&&v.headers.set("Accept","application/json");const P=(T,O,N)=>{if(M)return;if(T&&T.message!=="SecurityError"&&Un(T.toString()),O&&N)return $(O);const W=Date.now();fetch(v).then(J=>{if(J.ok){const se=A?J.clone():null;return $(J,se,W)}return g(new Zr(J.statusText,J.status,d.url))}).catch(J=>{J.name!=="AbortError"&&g(new Error(`${J.message} ${d.url}`))})},$=(T,O,N)=>{(d.type==="arrayBuffer"?T.arrayBuffer():d.type==="json"?T.json():T.text()).then(W=>{M||(O&&N&&function(J,se,ue){if(nn(),Je==null)return;const re=Qr(se.headers.get("Cache-Control")||"");if(re["no-store"])return;const ve={status:se.status,statusText:se.statusText,headers:new Headers};se.headers.forEach((ht,ft)=>ve.headers.set(ft,ht)),re["max-age"]&&ve.headers.set("Expires",new Date(ue+1e3*re["max-age"]).toUTCString());const we=ve.headers.get("Expires");if(!we||new Date(we).getTime()-ue<42e4)return;let Ne=nt(J.url,{persistentParams:vn});if(se.status===206){const ht=J.headers.get("Range");if(!ht)return;ve.status=200,Ne=et(Ne,{range:ht})}(function(ht,ft){if(Rt===void 0)try{new Response(new ReadableStream),Rt=!0}catch(at){Rt=!1}Rt?ft(ht.body):ht.blob().then(ft)})(se,ht=>{const ft=new Response((at=se.status)!==200&&at!==404&&[101,103,204,205,304].includes(at)?null:ht,ve);var at;nn(),Je!=null&&Je.then(Gt=>Gt.put(Ne,ft)).catch(Gt=>Un(Gt.message))})}(v,O,N),S=!0,g(null,W,T.headers.get("Cache-Control"),T.headers.get("Expires")))}).catch(W=>{M||g(new Error(W.message))})};return A?function(T,O){if(nn(),Je==null)return O(null);Je.then(N=>{let W=nt(T.url,{persistentParams:vn});const J=T.headers.get("Range");J&&(W=et(W,{range:J})),N.match(W).then(se=>{const ue=function(re){if(!re)return!1;const ve=new Date(re.headers.get("Expires")||0),we=Qr(re.headers.get("Cache-Control")||"");return ve>Date.now()&&!we["no-cache"]}(se);N.delete(W),ue&&N.put(W,se.clone()),O(null,se,ue)}).catch(O)}).catch(O)}(v,P):P(null,null),{cancel:()=>{M=!0,S||h.abort()}}}(u,n);if(xo()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",u,n,void 0,!0)}var i;return function(d,g){const h=new XMLHttpRequest;h.open(d.method||"GET",d.url,!0),d.type==="arrayBuffer"&&(h.responseType="arraybuffer");for(const v in d.headers)h.setRequestHeader(v,d.headers[v]);return d.type==="json"&&(h.responseType="text",h.setRequestHeader("Accept","application/json")),h.withCredentials=d.credentials==="include",h.onerror=()=>{g(new Error(h.statusText))},h.onload=()=>{if((h.status>=200&&h.status<300||h.status===0)&&h.response!==null){let v=h.response;if(d.type==="json")try{v=JSON.parse(h.response)}catch(S){return g(S)}g(null,v,h.getResponseHeader("Cache-Control"),h.getResponseHeader("Expires"))}else g(new Zr(h.statusText,h.status,d.url))},h.send(d.body),{cancel:()=>h.abort()}}(u,n)},Sn=function(u,n){return pt(Jr(u,{type:"arrayBuffer"}),n)};function qt(u){const n=document.createElement("a");return n.href=u,n.protocol===location.protocol&&n.host===location.host}const Nn="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";let lr,di;lr=[],di=0;const Ti=function(u,n){if(lt.supported&&(u.headers||(u.headers={}),u.headers.accept="image/webp,*/*"),di>=li.MAX_PARALLEL_IMAGE_REQUESTS){const h={requestParameters:u,callback:n,cancelled:!1,cancel(){this.cancelled=!0}};return lr.push(h),h}di++;let i=!1;const d=()=>{if(!i)for(i=!0,di--;lr.length&&di<li.MAX_PARALLEL_IMAGE_REQUESTS;){const h=lr.shift(),{requestParameters:v,callback:S,cancelled:M}=h;M||(h.cancel=Ti(v,S).cancel)}},g=Sn(u,(h,v,S,M)=>{d(),h?n(h):v&&(self.createImageBitmap?function(A,b){const P=new Blob([new Uint8Array(A)],{type:"image/png"});createImageBitmap(P).then($=>{b(null,$)}).catch($=>{b(new Error(`Could not load image because of ${$.message}. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.`))})}(v,(A,b)=>n(A,b,S,M)):function(A,b){const P=new Image;P.onload=()=>{b(null,P),URL.revokeObjectURL(P.src),P.onload=null,requestAnimationFrame(()=>{P.src=Nn})},P.onerror=()=>b(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."));const $=new Blob([new Uint8Array(A)],{type:"image/png"});P.src=A.byteLength?URL.createObjectURL($):Nn}(v,(A,b)=>n(A,b,S,M)))});return{cancel:()=>{g.cancel(),d()}}};var bo,Zi,fo,yo={exports:{}},Gi={exports:{}},Oo={exports:{}},Xo=function(){if(fo)return yo.exports;fo=1;var u=(bo||(bo=1,Gi.exports=function(i,d){var g,h,v,S,M,A,b,P;for(h=i.length-(g=3&i.length),v=d,M=3432918353,A=461845907,P=0;P<h;)b=255&i.charCodeAt(P)|(255&i.charCodeAt(++P))<<8|(255&i.charCodeAt(++P))<<16|(255&i.charCodeAt(++P))<<24,++P,v=27492+(65535&(S=5*(65535&(v=(v^=b=(65535&(b=(b=(65535&b)*M+(((b>>>16)*M&65535)<<16)&4294967295)<<15|b>>>17))*A+(((b>>>16)*A&65535)<<16)&4294967295)<<13|v>>>19))+((5*(v>>>16)&65535)<<16)&4294967295))+((58964+(S>>>16)&65535)<<16);switch(b=0,g){case 3:b^=(255&i.charCodeAt(P+2))<<16;case 2:b^=(255&i.charCodeAt(P+1))<<8;case 1:v^=b=(65535&(b=(b=(65535&(b^=255&i.charCodeAt(P)))*M+(((b>>>16)*M&65535)<<16)&4294967295)<<15|b>>>17))*A+(((b>>>16)*A&65535)<<16)&4294967295}return v^=i.length,v=2246822507*(65535&(v^=v>>>16))+((2246822507*(v>>>16)&65535)<<16)&4294967295,v=3266489909*(65535&(v^=v>>>13))+((3266489909*(v>>>16)&65535)<<16)&4294967295,(v^=v>>>16)>>>0}),Gi.exports),n=(Zi||(Zi=1,Oo.exports=function(i,d){for(var g,h=i.length,v=d^h,S=0;h>=4;)g=1540483477*(65535&(g=255&i.charCodeAt(S)|(255&i.charCodeAt(++S))<<8|(255&i.charCodeAt(++S))<<16|(255&i.charCodeAt(++S))<<24))+((1540483477*(g>>>16)&65535)<<16),v=1540483477*(65535&v)+((1540483477*(v>>>16)&65535)<<16)^(g=1540483477*(65535&(g^=g>>>24))+((1540483477*(g>>>16)&65535)<<16)),h-=4,++S;switch(h){case 3:v^=(255&i.charCodeAt(S+2))<<16;case 2:v^=(255&i.charCodeAt(S+1))<<8;case 1:v=1540483477*(65535&(v^=255&i.charCodeAt(S)))+((1540483477*(v>>>16)&65535)<<16)}return v=1540483477*(65535&(v^=v>>>13))+((1540483477*(v>>>16)&65535)<<16),(v^=v>>>15)>>>0}),Oo.exports);return yo.exports=u,yo.exports.murmur3=u,yo.exports.murmur2=n,yo.exports}(),Bo=xe(Xo);class Eo{constructor(n,...i){Jr(this,i[0]||{}),this.type=n}}class zo extends Eo{constructor(n,i={}){super("error",Jr({error:n},i))}}function Zo(u,n,i){i[u]&&i[u].indexOf(n)!==-1||(i[u]=i[u]||[],i[u].push(n))}function na(u,n,i){if(i&&i[u]){const d=i[u].indexOf(n);d!==-1&&i[u].splice(d,1)}}class po{on(n,i){return this._listeners=this._listeners||{},Zo(n,i,this._listeners),this}off(n,i){return na(n,i,this._listeners),na(n,i,this._oneTimeListeners),this}once(n,i){return i?(this._oneTimeListeners=this._oneTimeListeners||{},Zo(n,i,this._oneTimeListeners),this):new Promise(d=>this.once(n,d))}fire(n,i){const d=typeof n=="string"?new Eo(n,i):n,g=d.type;if(this.listens(g)){d.target=this;const h=this._listeners&&this._listeners[g]?this._listeners[g].slice():[];for(const M of h)M.call(this,d);const v=this._oneTimeListeners&&this._oneTimeListeners[g]?this._oneTimeListeners[g].slice():[];for(const M of v)na(g,M,this._oneTimeListeners),M.call(this,d);const S=this._eventedParent;S&&(Jr(d,typeof this._eventedParentData=="function"?this._eventedParentData():this._eventedParentData),S.fire(d))}else d instanceof zo&&console.error(d.error);return this}listens(n){return!!(this._listeners&&this._listeners[n]&&this._listeners[n].length>0||this._oneTimeListeners&&this._oneTimeListeners[n]&&this._oneTimeListeners[n].length>0||this._eventedParent&&this._eventedParent.listens(n))}setEventedParent(n,i){return this._eventedParent=n,this._eventedParentData=i,this}}var wo,So={},K=function(){if(wo)return So;wo=1;var u={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function n(h){return(h=Math.round(h))<0?0:h>255?255:h}function i(h){return n(h[h.length-1]==="%"?parseFloat(h)/100*255:parseInt(h))}function d(h){return(v=h[h.length-1]==="%"?parseFloat(h)/100:parseFloat(h))<0?0:v>1?1:v;var v}function g(h,v,S){return S<0?S+=1:S>1&&(S-=1),6*S<1?h+(v-h)*S*6:2*S<1?v:3*S<2?h+(v-h)*(2/3-S)*6:h}try{So.parseCSSColor=function(h){var v,S=h.replace(/ /g,"").toLowerCase();if(S in u)return u[S].slice();if(S[0]==="#")return S.length===4?(v=parseInt(S.substr(1),16))>=0&&v<=4095?[(3840&v)>>4|(3840&v)>>8,240&v|(240&v)>>4,15&v|(15&v)<<4,1]:null:S.length===7&&(v=parseInt(S.substr(1),16))>=0&&v<=16777215?[(16711680&v)>>16,(65280&v)>>8,255&v,1]:null;var M=S.indexOf("("),A=S.indexOf(")");if(M!==-1&&A+1===S.length){var b=S.substr(0,M),P=S.substr(M+1,A-(M+1)).split(","),$=1;switch(b){case"rgba":if(P.length!==4)return null;$=d(P.pop());case"rgb":return P.length!==3?null:[i(P[0]),i(P[1]),i(P[2]),$];case"hsla":if(P.length!==4)return null;$=d(P.pop());case"hsl":if(P.length!==3)return null;var T=(parseFloat(P[0])%360+360)%360/360,O=d(P[1]),N=d(P[2]),W=N<=.5?N*(O+1):N+O-N*O,J=2*N-W;return[n(255*g(J,W,T+1/3)),n(255*g(J,W,T)),n(255*g(J,W,T-1/3)),$];default:return null}}return null}}catch(h){}return So}();class _e{constructor(n,i,d,g=1){this.r=n,this.g=i,this.b=d,this.a=g}static parse(n){if(!n)return;if(n instanceof _e)return n;if(typeof n!="string")return;const i=K.parseCSSColor(n);return i?new _e(i[0]/255*i[3],i[1]/255*i[3],i[2]/255*i[3],i[3]):void 0}toStringPremultipliedAlpha(){const[n,i,d,g]=this.a===0?[0,0,0,0]:[255*this.r/this.a,255*this.g/this.a,255*this.b/this.a,this.a];return`rgba(${Math.round(n)},${Math.round(i)},${Math.round(d)},${g})`}toString(){const[n,i,d,g]=[this.r,this.g,this.b,this.a];return`rgba(${Math.round(255*n)},${Math.round(255*i)},${Math.round(255*d)},${g})`}toRenderColor(n){const{r:i,g:d,b:g,a:h}=this;return new wt(n,i,d,g,h)}clone(){return new _e(this.r,this.g,this.b,this.a)}}class wt{constructor(n,i,d,g,h){if(n){const v=n.image.height,S=v*v;i=h===0?0:i/h*(v-1),d=h===0?0:d/h*(v-1),g=h===0?0:g/h*(v-1);const M=Math.floor(i),A=Math.floor(d),b=Math.floor(g),P=Math.ceil(i),$=Math.ceil(d),T=Math.ceil(g),O=i-M,N=d-A,W=g-b,J=n.image.data,se=4*(M+A*S+b*v),ue=4*(M+A*S+T*v),re=4*(M+$*S+b*v),ve=4*(M+$*S+T*v),we=4*(P+A*S+b*v),Ne=4*(P+A*S+T*v),ht=4*(P+$*S+b*v),ft=4*(P+$*S+T*v);if(se<0||ft>=J.length)throw new Error("out of range");this.r=Tt(Tt(Tt(J[se],J[ue],W),Tt(J[re],J[ve],W),N),Tt(Tt(J[we],J[Ne],W),Tt(J[ht],J[ft],W),N),O)/255*h,this.g=Tt(Tt(Tt(J[se+1],J[ue+1],W),Tt(J[re+1],J[ve+1],W),N),Tt(Tt(J[we+1],J[Ne+1],W),Tt(J[ht+1],J[ft+1],W),N),O)/255*h,this.b=Tt(Tt(Tt(J[se+2],J[ue+2],W),Tt(J[re+2],J[ve+2],W),N),Tt(Tt(J[we+2],J[Ne+2],W),Tt(J[ht+2],J[ft+2],W),N),O)/255*h,this.a=h}else this.r=i,this.g=d,this.b=g,this.a=h}toArray(){const{r:n,g:i,b:d,a:g}=this;return g===0?[0,0,0,0]:[255*n/g,255*i/g,255*d/g,g]}toHslaArray(){if(this.a===0)return[0,0,0,0];const{r:n,g:i,b:d,a:g}=this,h=Math.min(Math.max(n/g,0),1),v=Math.min(Math.max(i/g,0),1),S=Math.min(Math.max(d/g,0),1),M=Math.min(h,v,S),A=Math.max(h,v,S),b=(M+A)/2;if(M===A)return[0,0,100*b,g];const P=A-M,$=b>.5?P/(2-A-M):P/(A+M);let T=0;return A===h?T=(v-S)/P+(v<S?6:0):A===v?T=(S-h)/P+2:A===S&&(T=(h-v)/P+4),T*=60,[Math.min(Math.max(T,0),360),Math.min(Math.max(100*$,0),100),Math.min(Math.max(100*b,0),100),g]}toArray01(){const{r:n,g:i,b:d,a:g}=this;return g===0?[0,0,0,0]:[n/g,i/g,d/g,g]}toArray01Scaled(n){const{r:i,g:d,b:g,a:h}=this;return h===0?[0,0,0]:[i/h*n,d/h*n,g/h*n]}toArray01PremultipliedAlpha(){const{r:n,g:i,b:d,a:g}=this;return[n,i,d,g]}toArray01Linear(){const{r:n,g:i,b:d,a:g}=this;return g===0?[0,0,0,0]:[Math.pow(n/g,2.2),Math.pow(i/g,2.2),Math.pow(d/g,2.2),g]}}function Tt(u,n,i){return u*(1-i)+n*i}function In(u,n,i){return u.map((d,g)=>Tt(d,n[g],i))}_e.black=new _e(0,0,0,1),_e.white=new _e(1,1,1,1),_e.transparent=new _e(0,0,0,0),_e.red=new _e(1,0,0,1),_e.blue=new _e(0,0,1,1);var Qn=Object.freeze({__proto__:null,array:In,color:function(u,n,i){return new _e(Tt(u.r,n.r,i),Tt(u.g,n.g,i),Tt(u.b,n.b,i),Tt(u.a,n.a,i))},number:Tt});function ci(u,...n){for(const i of n)for(const d in i)u[d]=i[d];return u}class fr extends Error{constructor(n,i){super(i),this.message=i,this.key=n}}class Ai{constructor(n,i=[]){this.parent=n,this.bindings={};for(const[d,g]of i)this.bindings[d]=g}concat(n){return new Ai(this,n)}get(n){if(this.bindings[n])return this.bindings[n];if(this.parent)return this.parent.get(n);throw new Error(`${n} not found in scope.`)}has(n){return!!this.bindings[n]||!!this.parent&&this.parent.has(n)}}const to={kind:"null"},xr={kind:"number"},Vi={kind:"string"},Fr={kind:"boolean"},Ei={kind:"color"},_i={kind:"object"},bi={kind:"value"},Yo={kind:"collator"},jo={kind:"formatted"},an={kind:"resolvedImage"};function Ye(u,n){return{kind:"array",itemType:u,N:n}}function Ce(u){if(u.kind==="array"){const n=Ce(u.itemType);return typeof u.N=="number"?`array<${n}, ${u.N}>`:u.itemType.kind==="value"?"array":`array<${n}>`}return u.kind}const Ke=[to,xr,Vi,Fr,Ei,jo,_i,Ye(bi),an];function Be(u,n){if(n.kind==="error")return null;if(u.kind==="array"){if(n.kind==="array"&&(n.N===0&&n.itemType.kind==="value"||!Be(u.itemType,n.itemType))&&(typeof u.N!="number"||u.N===n.N))return null}else{if(u.kind===n.kind)return null;if(u.kind==="value"){for(const i of Ke)if(!Be(i,n))return null}}return`Expected ${Ce(u)} but found ${Ce(n)} instead.`}function Nt(u,n){return n.some(i=>i.kind===u.kind)}function dn(u,n){return n.some(i=>i==="null"?u===null:i==="array"?Array.isArray(u):i==="object"?u&&!Array.isArray(u)&&typeof u=="object":i===typeof u)}class tr{constructor(n,i,d){this.sensitivity=n?i?"variant":"case":i?"accent":"base",this.locale=d,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(n,i){return this.collator.compare(n,i)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}class Rr{constructor(n,i,d,g,h){this.text=n.normalize?n.normalize():n,this.image=i,this.scale=d,this.fontStack=g,this.textColor=h}}class Lr{constructor(n){this.sections=n}static fromString(n){return new Lr([new Rr(n,null,null,null,null)])}isEmpty(){return this.sections.length===0||!this.sections.some(n=>n.text.length!==0||n.image&&n.image.namePrimary)}static factory(n){return n instanceof Lr?n:Lr.fromString(n)}toString(){return this.sections.length===0?"":this.sections.map(n=>n.text).join("")}serialize(){const n=["format"];for(const i of this.sections){if(i.image){n.push(["image",i.image.namePrimary]);continue}n.push(i.text);const d={};i.fontStack&&(d["text-font"]=["literal",i.fontStack.split(",")]),i.scale&&(d["font-scale"]=i.scale),i.textColor&&(d["text-color"]=["rgba"].concat(i.textColor.toRenderColor(null).toArray())),n.push(d)}return n}}class Mr{constructor(n,i){if(this.id=n,this.options=i||{params:{}},this.options.transform){const{a:d,b:g,c:h,d:v,e:S,f:M}=this.options.transform;this.options.transform=new DOMMatrix([d,g,h,v,S,M])}else this.options.transform=new DOMMatrix([1,0,0,1,0,0])}static deserializeId(n){return JSON.parse(n).id}static deserializeFromString(n){const i=JSON.parse(n),{a:d,b:g,c:h,d:v,e:S,f:M}=i.options.transform;return new DOMMatrix([d,g,h,v,S,M]),new Mr(i.id,i.options)}scaleSelf(n){return this.options.transform=this.options.transform.scale(n),this}serialize(){const n={id:this.id};this.options&&(n.options=this.options);const{a:i,b:d,c:g,d:h,e:v,f:S}=this.options.transform;return n.options.transform={a:i,b:d,c:g,d:h,e:v,f:S},JSON.stringify(n)}}class vi{constructor(n){this.namePrimary=n.namePrimary,n.nameSecondary&&(this.nameSecondary=n.nameSecondary),n.optionsPrimary&&(this.optionsPrimary=n.optionsPrimary),n.optionsSecondary&&(this.optionsSecondary=n.optionsSecondary),this.available=n.available}toString(){return this.namePrimary&&this.nameSecondary?`[${this.namePrimary},${this.nameSecondary}]`:this.namePrimary}getPrimary(){return new Mr(this.namePrimary,{params:this.optionsPrimary&&this.optionsPrimary.params||{}})}getSerializedPrimary(){return this.getPrimary().serialize()}getSecondary(){return this.nameSecondary?new Mr(this.nameSecondary,{params:this.optionsSecondary&&this.optionsSecondary.params||{}}):null}static from(n){return typeof n=="string"?vi.build(n):n}static build(n,i,d,g){return n?new vi({namePrimary:n,nameSecondary:i,optionsPrimary:d,optionsSecondary:g,available:!1}):null}}function zi(u,n,i,d){return typeof u=="number"&&u>=0&&u<=255&&typeof n=="number"&&n>=0&&n<=255&&typeof i=="number"&&i>=0&&i<=255?d===void 0||typeof d=="number"&&d>=0&&d<=1?null:`Invalid rgba value [${[u,n,i,d].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${(typeof d=="number"?[u,n,i,d]:[u,n,i]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function Mo(u){if(u===null||typeof u=="string"||typeof u=="boolean"||typeof u=="number"||u instanceof _e||u instanceof tr||u instanceof Lr||u instanceof vi)return!0;if(Array.isArray(u)){for(const n of u)if(!Mo(n))return!1;return!0}if(typeof u=="object"){for(const n in u)if(!Mo(u[n]))return!1;return!0}return!1}function Oi(u){if(u===null)return to;if(typeof u=="string")return Vi;if(typeof u=="boolean")return Fr;if(typeof u=="number")return xr;if(u instanceof _e)return Ei;if(u instanceof tr)return Yo;if(u instanceof Lr)return jo;if(u instanceof vi)return an;if(Array.isArray(u)){const n=u.length;let i;for(const d of u){const g=Oi(d);if(i){if(i===g)continue;i=bi;break}i=g}return Ye(i||bi,n)}return _i}function Ni(u){const n=typeof u;return u===null?"":n==="string"||n==="number"||n==="boolean"?String(u):u instanceof _e?u.toStringPremultipliedAlpha():u instanceof Lr||u instanceof vi?u.toString():JSON.stringify(u)}class hi{constructor(n,i){this.type=n,this.value=i}static parse(n,i){if(n.length!==2)return i.error(`'literal' expression requires exactly one argument, but found ${n.length-1} instead.`);if(!Mo(n[1]))return i.error("invalid value");const d=n[1];let g=Oi(d);const h=i.expectedType;return g.kind!=="array"||g.N!==0||!h||h.kind!=="array"||typeof h.N=="number"&&h.N!==0||(g=h),new hi(g,d)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}serialize(){return this.type.kind==="array"||this.type.kind==="object"?["literal",this.value]:this.value instanceof _e?["rgba"].concat(this.value.toRenderColor(null).toArray()):this.value instanceof Lr?this.value.serialize():this.value}}class Wi{constructor(n){this.name="ExpressionEvaluationError",this.message=n}toJSON(){return this.message}}const Hi={string:Vi,number:xr,boolean:Fr,object:_i};class Po{constructor(n,i){this.type=n,this.args=i}static parse(n,i){if(n.length<2)return i.error("Expected at least one argument.");let d,g=1;const h=n[0];if(h==="array"){let S,M;if(n.length>2){const A=n[1];if(typeof A!="string"||!(A in Hi)||A==="object")return i.error('The item type argument of "array" must be one of string, number, boolean',1);S=Hi[A],g++}else S=bi;if(n.length>3){if(n[2]!==null&&(typeof n[2]!="number"||n[2]<0||n[2]!==Math.floor(n[2])))return i.error('The length argument to "array" must be a positive integer literal',2);M=n[2],g++}d=Ye(S,M)}else d=Hi[h];const v=[];for(;g<n.length;g++){const S=i.parse(n[g],g,bi);if(!S)return null;v.push(S)}return new Po(d,v)}evaluate(n){for(let i=0;i<this.args.length;i++){const d=this.args[i].evaluate(n);if(!Be(this.type,Oi(d)))return d;if(i===this.args.length-1)throw new Wi(`The expression ${JSON.stringify(this.args[i].serialize())} evaluated to ${Ce(Oi(d))} but was expected to be of type ${Ce(this.type)}.`)}return null}eachChild(n){this.args.forEach(n)}outputDefined(){return this.args.every(n=>n.outputDefined())}serialize(){const n=this.type,i=[n.kind];if(n.kind==="array"){const d=n.itemType;if(d.kind==="string"||d.kind==="number"||d.kind==="boolean"){i.push(d.kind);const g=n.N;(typeof g=="number"||this.args.length>1)&&i.push(g)}}return i.concat(this.args.map(d=>d.serialize()))}}class aa{constructor(n){this.type=jo,this.sections=n}static parse(n,i){if(n.length<2)return i.error("Expected at least one argument.");const d=n[1];if(!Array.isArray(d)&&typeof d=="object")return i.error("First argument must be an image or text section.");const g=[];let h=!1;for(let v=1;v<=n.length-1;++v){const S=n[v];if(h&&typeof S=="object"&&!Array.isArray(S)){h=!1;let M=null;if(S["font-scale"]&&(M=i.parseObjectValue(S["font-scale"],v,"font-scale",xr),!M))return null;let A=null;if(S["text-font"]&&(A=i.parseObjectValue(S["text-font"],v,"text-font",Ye(Vi)),!A))return null;let b=null;if(S["text-color"]&&(b=i.parseObjectValue(S["text-color"],v,"text-color",Ei),!b))return null;const P=g[g.length-1];P.scale=M,P.font=A,P.textColor=b}else{const M=i.parse(n[v],v,bi);if(!M)return null;const A=M.type.kind;if(A!=="string"&&A!=="value"&&A!=="null"&&A!=="resolvedImage")return i.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");h=!0,g.push({content:M,scale:null,font:null,textColor:null})}}return new aa(g)}evaluate(n){return new Lr(this.sections.map(i=>{const d=i.content.evaluate(n);return Oi(d)===an?new Rr("",d,null,null,null):new Rr(Ni(d),null,i.scale?i.scale.evaluate(n):null,i.font?i.font.evaluate(n).join(","):null,i.textColor?i.textColor.evaluate(n):null)}))}eachChild(n){for(const i of this.sections)n(i.content),i.scale&&n(i.scale),i.font&&n(i.font),i.textColor&&n(i.textColor)}outputDefined(){return!1}serialize(){const n=["format"];for(const i of this.sections){n.push(i.content.serialize());const d={};i.scale&&(d["font-scale"]=i.scale.serialize()),i.font&&(d["text-font"]=i.font.serialize()),i.textColor&&(d["text-color"]=i.textColor.serialize()),n.push(d)}return n}}class ha{constructor(n,i,d,g){this._imageWarnHistory={},this.type=an,this.inputPrimary=n,this.inputSecondary=i,this.inputPrimaryParams=d,this.inputSecondaryParams=g}static parse(n,i){if(n.length<2)return i.error("Expected two or more arguments.");let d=1;const g=[];function h(){if(d<n.length){const S=i.parse(n[d],d++,Vi);return S?(g.push({image:S,options:void 0}),!0):(i.error(g.length?"Secondary image variant is not a string.":"No image name provided."),!1)}return!0}function v(){if(d<n.length){if((S=n[d])===null||typeof S!="object"||Array.isArray(S))return!0;const M=n[d].params,A=i.concat(d);if(!M)return d++,!0;if(typeof M!="object"||M.constructor!==Object)return A.error('Image options "params" should be an object'),!1;const b={},P=A.concat(void 0,"params");for(const $ in M){if(!$)return P.error("Image parameter name should be non-empty"),!1;const T=P.concat(void 0,$).parse(M[$],void 0,Ei,void 0,{typeAnnotation:"coerce"});if(!T)return!1;b[$]=T}return g[g.length-1].options=b,d++,!0}var S;return!0}for(let S=0;S<2;S++)if(!h()||!v())return;return new ha(g[0].image,g[1]?g[1].image:void 0,g[0].options,g[1]?g[1].options:void 0)}evaluateParams(n,i){const d={};if(i){for(const g in i)if(i[g])try{const h=i[g].evaluate(n),v=`Ignoring image parameter "${g}" with semi-transparent color ${h.toString()}`;if(h.a!==1){this._imageWarnHistory[v]||(console.warn(v),this._imageWarnHistory[v]=!0);continue}d[g]=h}catch(h){continue}if(Object.keys(d).length!==0)return{params:d}}}evaluate(n){const i=vi.build(this.inputPrimary.evaluate(n),this.inputSecondary?this.inputSecondary.evaluate(n):void 0,this.inputPrimaryParams?this.evaluateParams(n,this.inputPrimaryParams):void 0,this.inputSecondaryParams?this.evaluateParams(n,this.inputSecondaryParams):void 0);return i&&n.availableImages&&(i.available=n.availableImages.indexOf(i.namePrimary)>-1,i.nameSecondary&&i.available&&n.availableImages&&(i.available=n.availableImages.indexOf(i.nameSecondary)>-1)),i}eachChild(n){if(n(this.inputPrimary),this.inputPrimaryParams)for(const i in this.inputPrimaryParams)this.inputPrimaryParams[i]&&n(this.inputPrimaryParams[i]);if(this.inputSecondary&&(n(this.inputSecondary),this.inputSecondaryParams))for(const i in this.inputSecondaryParams)this.inputSecondaryParams[i]&&n(this.inputSecondaryParams[i])}outputDefined(){return!1}serializeParams(n){const i={};if(n){for(const d in n)n[d]&&(i[d]=n[d].serialize());return{params:i}}}serialize(){const n=["image",this.inputPrimary.serialize()];return this.inputPrimaryParams&&n.push(this.serializeParams(this.inputPrimaryParams)),this.inputSecondary&&(n.push(this.inputSecondary.serialize()),this.inputSecondaryParams&&n.push(this.serializeParams(this.inputSecondaryParams))),n}}function Ta(u){return u instanceof Number?"number":u instanceof String?"string":u instanceof Boolean?"boolean":Array.isArray(u)?"array":u===null?"null":typeof u}const Ma={"to-boolean":Fr,"to-color":Ei,"to-number":xr,"to-string":Vi};class Sa{constructor(n,i){this.type=n,this.args=i}static parse(n,i){if(n.length<2)return i.error("Expected at least one argument.");const d=n[0],g=[];let h=to;if(d==="to-array"){if(!Array.isArray(n[1]))return null;const v=n[1].length;if(i.expectedType){if(i.expectedType.kind!=="array")return i.error(`Expected ${i.expectedType.kind} but found array.`);h=Ye(i.expectedType.itemType,v)}else{if(!(v>0&&Mo(n[1][0])))return null;h=Ye(Oi(n[1][0]),v)}for(let S=0;S<v;S++){const M=n[1][S];let A;if(Ta(M)==="array")A=i.parse(M,void 0,h.itemType);else{const b=Ta(M);if(b!==h.itemType.kind)return i.error(`Expected ${h.itemType.kind} but found ${b}.`);A=i.registry.literal.parse(["literal",M===void 0?null:M],i)}if(!A)return null;g.push(A)}}else{if((d==="to-boolean"||d==="to-string")&&n.length!==2)return i.error("Expected one argument.");h=Ma[d];for(let v=1;v<n.length;v++){const S=i.parse(n[v],v,bi);if(!S)return null;g.push(S)}}return new Sa(h,g)}evaluate(n){if(this.type.kind==="boolean")return!!this.args[0].evaluate(n);if(this.type.kind==="color"){let i,d;for(const g of this.args){if(i=g.evaluate(n),d=null,i instanceof _e)return i;if(typeof i=="string"){const h=n.parseColor(i);if(h)return h}else if(Array.isArray(i)&&(d=i.length<3||i.length>4?`Invalid rbga value ${JSON.stringify(i)}: expected an array containing either three or four numeric values.`:zi(i[0],i[1],i[2],i[3]),!d))return new _e(i[0]/255,i[1]/255,i[2]/255,i[3])}throw new Wi(d||`Could not parse color from value '${typeof i=="string"?i:String(JSON.stringify(i))}'`)}if(this.type.kind==="number"){let i=null;for(const d of this.args){if(i=d.evaluate(n),i===null)return 0;const g=Number(i);if(!isNaN(g))return g}throw new Wi(`Could not convert ${JSON.stringify(i)} to number.`)}return this.type.kind==="formatted"?Lr.fromString(Ni(this.args[0].evaluate(n))):this.type.kind==="resolvedImage"?vi.build(Ni(this.args[0].evaluate(n))):this.type.kind==="array"?this.args.map(i=>i.evaluate(n)):Ni(this.args[0].evaluate(n))}eachChild(n){this.args.forEach(n)}outputDefined(){return this.args.every(n=>n.outputDefined())}serialize(){if(this.type.kind==="formatted")return new aa([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if(this.type.kind==="resolvedImage")return new ha(this.args[0]).serialize();const n=this.type.kind==="array"?[]:[`to-${this.type.kind}`];return this.eachChild(i=>{n.push(i.serialize())}),n}}const ba=["Unknown","Point","LineString","Polygon"];class ja{constructor(n,i){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null,this.featureTileCoord=null,this.featureDistanceData=null,this.scope=n,this.options=i}id(){return this.feature&&this.feature.id!==void 0?this.feature.id:null}geometryType(){return this.feature?typeof this.feature.type=="number"?ba[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}measureLight(n){return this.globals.brightness||0}distanceFromCenter(){if(this.featureTileCoord&&this.featureDistanceData){const n=this.featureDistanceData.center,i=this.featureDistanceData.scale,{x:d,y:g}=this.featureTileCoord;return this.featureDistanceData.bearing[0]*(d*i-n[0])+this.featureDistanceData.bearing[1]*(g*i-n[1])}return 0}parseColor(n){let i=this._parseColorCache[n];return i||(i=this._parseColorCache[n]=_e.parse(n)),i}getConfig(n){return this.options?this.options.get(n):null}}class wa{constructor(n,i,d,g,h){this.name=n,this.type=i,this._evaluate=d,this.args=g,this._overloadIndex=h}evaluate(n){if(!this._evaluate){const i=wa.definitions[this.name];this._evaluate=Array.isArray(i)?i[2]:i.overloads[this._overloadIndex][1]}return this._evaluate(n,this.args)}eachChild(n){this.args.forEach(n)}outputDefined(){return!1}serialize(){return[this.name].concat(this.args.map(n=>n.serialize()))}static parse(n,i){const d=n[0],g=wa.definitions[d];if(!g)return i.error(`Unknown expression "${d}". If you wanted a literal array, use ["literal", [...]].`,0);const h=Array.isArray(g)?g[0]:g.type,v=Array.isArray(g)?[[g[1],g[2]]]:g.overloads,S=[];let M=null,A=-1;for(const[b,P]of v){if(Array.isArray(b)&&b.length!==n.length-1)continue;S.push(b),A++,M=new Ql(i.registry,i.path,null,i.scope,void 0,i._scope,i.options);const $=[];let T=!1;for(let O=1;O<n.length;O++){const N=n[O],W=Array.isArray(b)?b[O-1]:b.type,J=M.parse(N,1+$.length,W);if(!J){T=!0;break}$.push(J)}if(!T)if(Array.isArray(b)&&b.length!==$.length)M.error(`Expected ${b.length} arguments, but found ${$.length} instead.`);else{for(let O=0;O<$.length;O++){const N=Array.isArray(b)?b[O]:b.type,W=$[O];M.concat(O+1).checkSubtype(N,W.type)}if(M.errors.length===0)return new wa(d,h,P,$,A)}}if(S.length===1)i.errors.push(...M.errors);else{const b=(S.length?S:v.map(([$])=>$)).map(Ps).join(" | "),P=[];for(let $=1;$<n.length;$++){const T=i.parse(n[$],1+P.length);if(!T)return null;P.push(Ce(T.type))}i.error(`Expected arguments of type ${b}, but found (${P.join(", ")}) instead.`)}return null}static register(n,i){wa.definitions=i;for(const d in i)n[d]=wa}}function Ps(u){return Array.isArray(u)?`(${u.map(Ce).join(", ")})`:`(${Ce(u.type)}...)`}class Ts{constructor(n,i,d){this.type=Yo,this.locale=d,this.caseSensitive=n,this.diacriticSensitive=i}static parse(n,i){if(n.length!==2)return i.error("Expected one argument.");const d=n[1];if(typeof d!="object"||Array.isArray(d))return i.error("Collator options argument must be an object.");const g=d["case-sensitive"]===void 0?i.parse(!1,1,Fr):i.parseObjectValue(d["case-sensitive"],1,"case-sensitive",Fr);if(!g)return null;const h=d["diacritic-sensitive"]===void 0?i.parse(!1,1,Fr):i.parseObjectValue(d["diacritic-sensitive"],1,"diacritic-sensitive",Fr);if(!h)return null;let v=null;return d.locale&&(v=i.parseObjectValue(d.locale,1,"locale",Vi),!v)?null:new Ts(g,h,v)}evaluate(n){return new tr(this.caseSensitive.evaluate(n),this.diacriticSensitive.evaluate(n),this.locale?this.locale.evaluate(n):null)}eachChild(n){n(this.caseSensitive),n(this.diacriticSensitive),this.locale&&n(this.locale)}outputDefined(){return!1}serialize(){const n={};return n["case-sensitive"]=this.caseSensitive.serialize(),n["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(n.locale=this.locale.serialize()),["collator",n]}}function _s(u,n,i=0,d=u.length-1,g=ol){for(;d>i;){if(d-i>600){const M=d-i+1,A=n-i+1,b=Math.log(M),P=.5*Math.exp(2*b/3),$=.5*Math.sqrt(b*P*(M-P)/M)*(A-M/2<0?-1:1);_s(u,n,Math.max(i,Math.floor(n-A*P/M+$)),Math.min(d,Math.floor(n+(M-A)*P/M+$)),g)}const h=u[n];let v=i,S=d;for(il(u,i,n),g(u[d],h)>0&&il(u,i,d);v<S;){for(il(u,v,S),v++,S--;g(u[v],h)<0;)v++;for(;g(u[S],h)>0;)S--}g(u[i],h)===0?il(u,i,S):(S++,il(u,S,d)),S<=n&&(i=S+1),n<=S&&(d=S-1)}}function il(u,n,i){const d=u[n];u[n]=u[i],u[i]=d}function ol(u,n){return u<n?-1:u>n?1:0}function Al(u){let n=0;for(let i,d,g=0,h=u.length,v=h-1;g<h;v=g++)i=u[g],d=u[v],n+=(d.x-i.x)*(i.y+d.y);return n}function Vs(u,n){u[0]=Math.min(u[0],n[0]),u[1]=Math.min(u[1],n[1]),u[2]=Math.max(u[2],n[0]),u[3]=Math.max(u[3],n[1])}function Dl(u,n){return!(u[0]<=n[0]||u[2]>=n[2]||u[1]<=n[1]||u[3]>=n[3])}function mc(u,n,i){const d=u[0]-n[0],g=u[1]-n[1],h=u[0]-i[0],v=u[1]-i[1];return d*v-h*g==0&&d*h<=0&&g*v<=0}function pa(u,n,i=!1){let d=!1;for(let S=0,M=n.length;S<M;S++){const A=n[S];for(let b=0,P=A.length,$=P-1;b<P;$=b++){const T=A[$],O=A[b];if(mc(u,T,O))return i;(h=T)[1]>(g=u)[1]!=(v=O)[1]>g[1]&&g[0]<(v[0]-h[0])*(g[1]-h[1])/(v[1]-h[1])+h[0]&&(d=!d)}}var g,h,v;return d}function Ha(u,n,i,d){const g=d[0]-i[0],h=d[1]-i[1],v=(u[0]-i[0])*h-g*(u[1]-i[1]),S=(n[0]-i[0])*h-g*(n[1]-i[1]);return v>0&&S<0||v<0&&S>0}function ca(u,n,i,d){return(g=[d[0]-i[0],d[1]-i[1]])[0]*(h=[n[0]-u[0],n[1]-u[1]])[1]-g[1]*h[0]!=0&&!(!Ha(u,n,i,d)||!Ha(i,d,u,n));var g,h}const Go=8192;function hs(u,n){const i=(180+u[0])/360,d=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+u[1]*Math.PI/360)))/360,g=Math.pow(2,n.z);return[Math.round(i*g*Go),Math.round(d*g*Go)]}function zs(u,n){for(let i=0;i<n.length;i++)if(pa(u,n[i]))return!0;return!1}function ic(u,n,i){for(const d of i)for(let g=0,h=d.length,v=h-1;g<h;v=g++)if(ca(u,n,d[v],d[g]))return!0;return!1}function gc(u,n){for(let i=0;i<u.length;++i)if(!pa(u[i],n))return!1;for(let i=0;i<u.length-1;++i)if(ic(u[i],u[i+1],n))return!1;return!0}function jc(u,n){for(let i=0;i<n.length;i++)if(gc(u,n[i]))return!0;return!1}function _l(u,n,i){const d=[];for(let g=0;g<u.length;g++){const h=[];for(let v=0;v<u[g].length;v++){const S=hs(u[g][v],i);Vs(n,S),h.push(S)}d.push(h)}return d}function Yl(u,n,i){const d=[];for(let g=0;g<u.length;g++){const h=_l(u[g],n,i);d.push(h)}return d}function sa(u,n,i,d){if(u[0]<i[0]||u[0]>i[2]){const g=.5*d;let h=u[0]-i[0]>g?-d:i[0]-u[0]>g?d:0;h===0&&(h=u[0]-i[2]>g?-d:i[2]-u[0]>g?d:0),u[0]+=h}Vs(n,u)}function Fo(u,n,i,d){const g=Math.pow(2,d.z)*Go,h=[d.x*Go,d.y*Go],v=[];if(!u)return v;for(const S of u)for(const M of S){const A=[M.x+h[0],M.y+h[1]];sa(A,n,i,g),v.push(A)}return v}function hu(u,n,i,d){const g=Math.pow(2,d.z)*Go,h=[d.x*Go,d.y*Go],v=[];if(!u)return v;for(const M of u){const A=[];for(const b of M){const P=[b.x+h[0],b.y+h[1]];Vs(n,P),A.push(P)}v.push(A)}if(n[2]-n[0]<=g/2){(S=n)[0]=S[1]=1/0,S[2]=S[3]=-1/0;for(const M of v)for(const A of M)sa(A,n,i,g)}var S;return v}class Qo{constructor(n,i){this.type=Fr,this.geojson=n,this.geometries=i}static parse(n,i){if(n.length!==2)return i.error(`'within' expression requires exactly one argument, but found ${n.length-1} instead.`);if(Mo(n[1])){const d=n[1];if(d.type==="FeatureCollection")for(let g=0;g<d.features.length;++g){const h=d.features[g].geometry.type;if(h==="Polygon"||h==="MultiPolygon")return new Qo(d,d.features[g].geometry)}else if(d.type==="Feature"){const g=d.geometry.type;if(g==="Polygon"||g==="MultiPolygon")return new Qo(d,d.geometry)}else if(d.type==="Polygon"||d.type==="MultiPolygon")return new Qo(d,d)}return i.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(n){if(n.geometry()!=null&&n.canonicalID()!=null){if(n.geometryType()==="Point")return function(i,d){const g=[1/0,1/0,-1/0,-1/0],h=[1/0,1/0,-1/0,-1/0],v=i.canonicalID();if(!v)return!1;if(d.type==="Polygon"){const S=_l(d.coordinates,h,v),M=Fo(i.geometry(),g,h,v);if(!Dl(g,h))return!1;for(const A of M)if(!pa(A,S))return!1}if(d.type==="MultiPolygon"){const S=Yl(d.coordinates,h,v),M=Fo(i.geometry(),g,h,v);if(!Dl(g,h))return!1;for(const A of M)if(!zs(A,S))return!1}return!0}(n,this.geometries);if(n.geometryType()==="LineString")return function(i,d){const g=[1/0,1/0,-1/0,-1/0],h=[1/0,1/0,-1/0,-1/0],v=i.canonicalID();if(!v)return!1;if(d.type==="Polygon"){const S=_l(d.coordinates,h,v),M=hu(i.geometry(),g,h,v);if(!Dl(g,h))return!1;for(const A of M)if(!gc(A,S))return!1}if(d.type==="MultiPolygon"){const S=Yl(d.coordinates,h,v),M=hu(i.geometry(),g,h,v);if(!Dl(g,h))return!1;for(const A of M)if(!jc(A,S))return!1}return!0}(n,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}serialize(){return["within",this.geojson]}}const oc={kilometers:1,miles:1e3/1609.344,nauticalmiles:1e3/1852,meters:1e3,metres:1e3,yards:1e3/.9144,feet:1e3/.3048,inches:1e3/.0254},nu=1/298.257223563,ia=nu*(2-nu),Ec=Math.PI/180;class vc{static fromTile(n,i,d){const g=Math.PI*(1-2*(n+.5)/Math.pow(2,i)),h=Math.atan(.5*(Math.exp(g)-Math.exp(-g)))/Ec;return new vc(h,d)}static get units(){return oc}constructor(n,i){if(n===void 0)throw new Error("No latitude given.");if(i&&!oc[i])throw new Error(`Unknown unit ${i}. Use one of: ${Object.keys(oc).join(", ")}`);const d=6378.137*Ec*(i?oc[i]:1),g=Math.cos(n*Ec),h=1/(1-ia*(1-g*g)),v=Math.sqrt(h);this.kx=d*v*g,this.ky=d*v*h*(1-ia)}distance(n,i){const d=ac(n[0]-i[0])*this.kx,g=(n[1]-i[1])*this.ky;return Math.sqrt(d*d+g*g)}bearing(n,i){const d=ac(i[0]-n[0])*this.kx;return Math.atan2(d,(i[1]-n[1])*this.ky)/Ec}destination(n,i,d){const g=d*Ec;return this.offset(n,Math.sin(g)*i,Math.cos(g)*i)}offset(n,i,d){return[n[0]+i/this.kx,n[1]+d/this.ky]}lineDistance(n){let i=0;for(let d=0;d<n.length-1;d++)i+=this.distance(n[d],n[d+1]);return i}area(n){let i=0;for(let d=0;d<n.length;d++){const g=n[d];for(let h=0,v=g.length,S=v-1;h<v;S=h++)i+=ac(g[h][0]-g[S][0])*(g[h][1]+g[S][1])*(d?-1:1)}return Math.abs(i)/2*this.kx*this.ky}along(n,i){let d=0;if(i<=0)return n[0];for(let g=0;g<n.length-1;g++){const h=n[g],v=n[g+1],S=this.distance(h,v);if(d+=S,d>i)return ku(h,v,(i-(d-S))/S)}return n[n.length-1]}pointToSegmentDistance(n,i,d){let[g,h]=i,v=ac(d[0]-g)*this.kx,S=(d[1]-h)*this.ky;if(v!==0||S!==0){const M=(ac(n[0]-g)*this.kx*v+(n[1]-h)*this.ky*S)/(v*v+S*S);M>1?(g=d[0],h=d[1]):M>0&&(g+=v/this.kx*M,h+=S/this.ky*M)}return v=ac(n[0]-g)*this.kx,S=(n[1]-h)*this.ky,Math.sqrt(v*v+S*S)}pointOnLine(n,i){let d=1/0,g=n[0][0],h=n[0][1],v=0,S=0;for(let M=0;M<n.length-1;M++){let A=n[M][0],b=n[M][1],P=ac(n[M+1][0]-A)*this.kx,$=(n[M+1][1]-b)*this.ky,T=0;P===0&&$===0||(T=(ac(i[0]-A)*this.kx*P+(i[1]-b)*this.ky*$)/(P*P+$*$),T>1?(A=n[M+1][0],b=n[M+1][1]):T>0&&(A+=P/this.kx*T,b+=$/this.ky*T)),P=ac(i[0]-A)*this.kx,$=(i[1]-b)*this.ky;const O=P*P+$*$;O<d&&(d=O,g=A,h=b,v=M,S=T)}return{point:[g,h],index:v,t:Math.max(0,Math.min(1,S))}}lineSlice(n,i,d){let g=this.pointOnLine(d,n),h=this.pointOnLine(d,i);if(g.index>h.index||g.index===h.index&&g.t>h.t){const A=g;g=h,h=A}const v=[g.point],S=g.index+1,M=h.index;!ru(d[S],v[0])&&S<=M&&v.push(d[S]);for(let A=S+1;A<=M;A++)v.push(d[A]);return ru(d[M],h.point)||v.push(h.point),v}lineSliceAlong(n,i,d){let g=0;const h=[];for(let v=0;v<d.length-1;v++){const S=d[v],M=d[v+1],A=this.distance(S,M);if(g+=A,g>n&&h.length===0&&h.push(ku(S,M,(n-(g-A))/A)),g>=i)return h.push(ku(S,M,(i-(g-A))/A)),h;g>n&&h.push(M)}return h}bufferPoint(n,i){const d=i/this.ky,g=i/this.kx;return[n[0]-g,n[1]-d,n[0]+g,n[1]+d]}bufferBBox(n,i){const d=i/this.ky,g=i/this.kx;return[n[0]-g,n[1]-d,n[2]+g,n[3]+d]}insideBBox(n,i){return ac(n[0]-i[0])>=0&&ac(n[0]-i[2])<=0&&n[1]>=i[1]&&n[1]<=i[3]}}function ru(u,n){return u[0]===n[0]&&u[1]===n[1]}function ku(u,n,i){const d=ac(n[0]-u[0]);return[u[0]+d*i,u[1]+(n[1]-u[1])*i]}function ac(u){for(;u<-180;)u+=360;for(;u>180;)u-=360;return u}class gl{constructor(n=[],i=(d,g)=>d<g?-1:d>g?1:0){if(this.data=n,this.length=this.data.length,this.compare=i,this.length>0)for(let d=(this.length>>1)-1;d>=0;d--)this._down(d)}push(n){this.data.push(n),this._up(this.length++)}pop(){if(this.length===0)return;const n=this.data[0],i=this.data.pop();return--this.length>0&&(this.data[0]=i,this._down(0)),n}peek(){return this.data[0]}_up(n){const{data:i,compare:d}=this,g=i[n];for(;n>0;){const h=n-1>>1,v=i[h];if(d(g,v)>=0)break;i[n]=v,n=h}i[n]=g}_down(n){const{data:i,compare:d}=this,g=this.length>>1,h=i[n];for(;n<g;){let v=1+(n<<1);const S=v+1;if(S<this.length&&d(i[S],i[v])<0&&(v=S),d(i[v],h)>=0)break;i[n]=i[v],n=v}i[n]=h}}var Bi=8192;function ju(u,n){return n.dist-u.dist}const ld=100,Yc=50;function on(u){const n=[1/0,1/0,-1/0,-1/0];if(n.length!==u.length)return!1;for(let i=0;i<n.length;i++)if(n[i]!==u[i])return!1;return!0}function $n(u){return u[1]-u[0]+1}function Kn(u,n){const i=u[1]>=u[0]&&u[1]<n;return i||console.warn("Distance Expression: Index is out of range"),i}function hr(u,n){if(u[0]>u[1])return[null,null];const i=$n(u);if(n){if(i===2)return[u,null];const d=Math.floor(i/2);return[[u[0],u[0]+d],[u[0]+d,u[1]]]}{if(i===1)return[u,null];const d=Math.floor(i/2)-1;return[[u[0],u[0]+d],[u[0]+d+1,u[1]]]}}function Yr(u,n){const i=[1/0,1/0,-1/0,-1/0];if(!Kn(n,u.length))return i;for(let d=n[0];d<=n[1];++d)Vs(i,u[d]);return i}function Ki(u){const n=[1/0,1/0,-1/0,-1/0];for(let i=0;i<u.length;++i)for(let d=0;d<u[i].length;++d)Vs(n,u[i][d]);return n}function mo(u,n,i){if(on(u)||on(n))return NaN;let d=0,g=0;return u[2]<n[0]&&(d=n[0]-u[2]),u[0]>n[2]&&(d=u[0]-n[2]),u[1]>n[3]&&(g=u[1]-n[3]),u[3]<n[1]&&(g=n[1]-u[3]),i.distance([0,0],[d,g])}function Ji(u){return 360*u-180}function Io(u){return 360/Math.PI*Math.atan(Math.exp((180-360*u)*Math.PI/180))-90}function lo(u,n){const i=Math.pow(2,n.z),d=(u.y/Bi+n.y)/i;return[Ji((u.x/Bi+n.x)/i),Io(d)]}function no(u,n){const i=[];for(let d=0;d<u.length;++d)i.push(lo(u[d],n));return i}function Uo(u,n,i){const d=i.pointOnLine(n,u).point;return i.distance(u,d)}function No(u,n,i,d,g){const h=i.slice(d[0],d[1]+1);let v=1/0;for(let S=n[0];S<=n[1];++S)if((v=Math.min(v,Uo(u[S],h,g)))===0)return 0;return v}function ea(u,n,i,d,g){const h=Math.min(g.pointToSegmentDistance(u,i,d),g.pointToSegmentDistance(n,i,d)),v=Math.min(g.pointToSegmentDistance(i,u,n),g.pointToSegmentDistance(d,u,n));return Math.min(h,v)}function Ua(u,n,i,d,g){if(!Kn(n,u.length)||!Kn(d,i.length))return NaN;let h=1/0;for(let v=n[0];v<n[1];++v)for(let S=d[0];S<d[1];++S){if(ca(u[v],u[v+1],i[S],i[S+1]))return 0;h=Math.min(h,ea(u[v],u[v+1],i[S],i[S+1],g))}return h}function ua(u,n,i,d,g){if(!Kn(n,u.length)||!Kn(d,i.length))return NaN;let h=1/0;for(let v=n[0];v<=n[1];++v)for(let S=d[0];S<=d[1];++S)if((h=Math.min(h,g.distance(u[v],i[S])))===0)return h;return h}function Oa(u,n,i){if(pa(u,n,!0))return 0;let d=1/0;for(const g of n){const h=g.length;if(h<2)return console.warn("Distance Expression: Invalid polygon!"),NaN;if(g[0]!==g[h-1]&&(d=Math.min(d,i.pointToSegmentDistance(u,g[h-1],g[0])))===0||(d=Math.min(d,Uo(u,g,i)))===0)return d}return d}function es(u,n,i,d){if(!Kn(n,u.length))return NaN;for(let h=n[0];h<=n[1];++h)if(pa(u[h],i,!0))return 0;let g=1/0;for(let h=n[0];h<n[1];++h)for(const v of i)for(let S=0,M=v.length,A=M-1;S<M;A=S++){if(ca(u[h],u[h+1],v[A],v[S]))return 0;g=Math.min(g,ea(u[h],u[h+1],v[A],v[S],d))}return g}function Ra(u,n){for(const i of u)for(let d=0;d<=i.length-1;++d)if(pa(i[d],n,!0))return!0;return!1}function qa(u,n,i,d=1/0){const g=Ki(u),h=Ki(n);if(d!==1/0&&mo(g,h,i)>=d)return d;if(Dl(g,h)){if(Ra(u,n))return 0}else if(Ra(n,u))return 0;let v=d;for(const S of u)for(let M=0,A=S.length,b=A-1;M<A;b=M++)for(const P of n)for(let $=0,T=P.length,O=T-1;$<T;O=$++){if(ca(S[b],S[M],P[O],P[$]))return 0;v=Math.min(v,ea(S[b],S[M],P[O],P[$],i))}return v}function Xa(u,n,i,d,g,h,v){if(h===null||v===null)return;const S=mo(Yr(d,h),Yr(g,v),i);S<n&&u.push({dist:S,range1:h,range2:v})}function is(u,n,i,d,g=1/0){let h=Math.min(d.distance(u[0],i[0][0]),g);if(h===0)return h;const v=new gl([{dist:0,range1:[0,u.length-1],range2:[0,0]}],ju),S=n?Yc:ld,M=Ki(i);for(;v.length;){const A=v.pop();if(A.dist>=h)continue;const b=A.range1;if($n(b)<=S){if(!Kn(b,u.length))return NaN;if(n){const P=es(u,b,i,d);if((h=Math.min(h,P))===0)return h}else for(let P=b[0];P<=b[1];++P){const $=Oa(u[P],i,d);if((h=Math.min(h,$))===0)return h}}else{const P=hr(b,n);if(P[0]!==null){const $=mo(Yr(u,P[0]),M,d);$<h&&v.push({dist:$,range1:P[0],range2:[0,0]})}if(P[1]!==null){const $=mo(Yr(u,P[1]),M,d);$<h&&v.push({dist:$,range1:P[1],range2:[0,0]})}}}return h}function ns(u,n,i,d,g,h=1/0){let v=Math.min(h,g.distance(u[0],i[0]));if(v===0)return v;const S=new gl([{dist:0,range1:[0,u.length-1],range2:[0,i.length-1]}],ju),M=n?Yc:ld,A=d?Yc:ld;for(;S.length;){const b=S.pop();if(b.dist>=v)continue;const P=b.range1,$=b.range2;if($n(P)<=M&&$n($)<=A){if(!Kn(P,u.length)||!Kn($,i.length))return NaN;if(n&&d?v=Math.min(v,Ua(u,P,i,$,g)):n||d?n&&!d?v=Math.min(v,No(i,$,u,P,g)):!n&&d&&(v=Math.min(v,No(u,P,i,$,g))):v=Math.min(v,ua(u,P,i,$,g)),v===0)return v}else{const T=hr(P,n),O=hr($,d);Xa(S,v,g,u,i,T[0],O[0]),Xa(S,v,g,u,i,T[0],O[1]),Xa(S,v,g,u,i,T[1],O[0]),Xa(S,v,g,u,i,T[1],O[1])}}return v}function Wa(u,n,i,d,g=1/0){let h=g;const v=Yr(u,[0,u.length-1]);for(const S of i)if(!(h!==1/0&&mo(v,Yr(S,[0,S.length-1]),d)>=h)&&(h=Math.min(h,ns(u,n,S,!0,d,h)),h===0))return h;return h}function Os(u,n,i,d,g=1/0){let h=g;const v=Yr(u,[0,u.length-1]);for(const S of i){if(h!==1/0&&mo(v,Ki(S),d)>=h)continue;const M=is(u,n,S,d,h);if(isNaN(M))return M;if((h=Math.min(h,M))===0)return h}return h}function sc(u){return u==="Point"||u==="MultiPoint"||u==="LineString"||u==="MultiLineString"||u==="Polygon"||u==="MultiPolygon"}class bl{constructor(n,i){this.type=xr,this.geojson=n,this.geometries=i}static parse(n,i){if(n.length!==2)return i.error(`'distance' expression requires either one argument, but found ' ${n.length-1} instead.`);if(Mo(n[1])){const d=n[1];if(d.type==="FeatureCollection"){for(let g=0;g<d.features.length;++g)if(sc(d.features[g].geometry.type))return new bl(d,d.features[g].geometry)}else if(d.type==="Feature"){if(sc(d.geometry.type))return new bl(d,d.geometry)}else if(sc(d.type))return new bl(d,d)}return i.error("'distance' expression needs to be an array with format ['Distance', GeoJSONObj].")}evaluate(n){const i=n.geometry(),d=n.canonicalID();if(i!=null&&d!=null){if(n.geometryType()==="Point")return function(g,h,v){const S=[];for(const A of g)for(const b of A)S.push(lo(b,h));const M=new vc(S[0][1],"meters");return v.type==="Point"||v.type==="MultiPoint"||v.type==="LineString"?ns(S,!1,v.type==="Point"?[v.coordinates]:v.coordinates,v.type==="LineString",M):v.type==="MultiLineString"?Wa(S,!1,v.coordinates,M):v.type==="Polygon"||v.type==="MultiPolygon"?Os(S,!1,v.type==="Polygon"?[v.coordinates]:v.coordinates,M):null}(i,d,this.geometries);if(n.geometryType()==="LineString")return function(g,h,v){const S=[];for(const A of g){const b=[];for(const P of A)b.push(lo(P,h));S.push(b)}const M=new vc(S[0][0][1],"meters");if(v.type==="Point"||v.type==="MultiPoint"||v.type==="LineString")return Wa(v.type==="Point"?[v.coordinates]:v.coordinates,v.type==="LineString",S,M);if(v.type==="MultiLineString"){let A=1/0;for(let b=0;b<v.coordinates.length;b++){const P=Wa(v.coordinates[b],!0,S,M,A);if(isNaN(P))return P;if((A=Math.min(A,P))===0)return A}return A}if(v.type==="Polygon"||v.type==="MultiPolygon"){let A=1/0;for(let b=0;b<S.length;b++){const P=Os(S[b],!0,v.type==="Polygon"?[v.coordinates]:v.coordinates,M,A);if(isNaN(P))return P;if((A=Math.min(A,P))===0)return A}return A}return null}(i,d,this.geometries);if(n.geometryType()==="Polygon")return function(g,h,v){const S=[];for(const A of function(b,P){const $=b.length;if($<=1)return[b];const T=[];let O,N;for(let W=0;W<$;W++){const J=Al(b[W]);J!==0&&(b[W].area=Math.abs(J),N===void 0&&(N=J<0),N===J<0?(O&&T.push(O),O=[b[W]]):O.push(b[W]))}return O&&T.push(O),T}(g)){const b=[];for(let P=0;P<A.length;++P)b.push(no(A[P],h));S.push(b)}const M=new vc(S[0][0][0][1],"meters");if(v.type==="Point"||v.type==="MultiPoint"||v.type==="LineString")return Os(v.type==="Point"?[v.coordinates]:v.coordinates,v.type==="LineString",S,M);if(v.type==="MultiLineString"){let A=1/0;for(let b=0;b<v.coordinates.length;b++){const P=Os(v.coordinates[b],!0,S,M,A);if(isNaN(P))return P;if((A=Math.min(A,P))===0)return A}return A}return v.type==="Polygon"||v.type==="MultiPolygon"?function(A,b,P){let $=1/0;for(const T of A)for(const O of b){const N=qa(T,O,P,$);if(isNaN(N))return N;if(($=Math.min($,N))===0)return $}return $}(v.type==="Polygon"?[v.coordinates]:v.coordinates,S,M):null}(i,d,this.geometries);console.warn("Distance Expression: currently only evaluates valid Point/LineString/Polygon geometries.")}else console.warn("Distance Expression: requirs valid feature and canonical information.");return null}eachChild(){}outputDefined(){return!0}serialize(){return["distance",this.geojson]}}function lc(u,n){switch(u){case"string":return Ni(n);case"number":return+n;case"boolean":return!!n;case"color":return _e.parse(n);case"formatted":return Lr.fromString(Ni(n));case"resolvedImage":return vi.build(Ni(n))}return n}function Zu(u,n,i,d){return d!==void 0&&(u=d*Math.round(u/d)),n!==void 0&&u<n&&(u=n),i!==void 0&&u>i&&(u=i),u}class ql{constructor(n,i,d){this.type=n,this.key=i,this.scope=d}static parse(n,i){let d=i.expectedType;if(d==null&&(d=bi),n.length<2||n.length>3)return i.error("Invalid number of arguments for 'config' expression.");const g=i.parse(n[1],1);if(!(g instanceof hi))return i.error("Key name of 'config' expression must be a string literal.");if(n.length>=3){const h=i.parse(n[2],2);return h instanceof hi?new ql(d,Ni(g.value),Ni(h.value)):i.error("Scope of 'config' expression must be a string literal.")}return new ql(d,Ni(g.value))}evaluate(n){const i=[this.key,this.scope,n.scope].filter(Boolean).join(""),d=n.getConfig(i);if(!d)return null;const{type:g,value:h,values:v,minValue:S,maxValue:M,stepValue:A}=d,b=d.default.evaluate(n);let P=b;if(h){const $=n.scope;n.scope=($||"").split("").slice(1).join(""),P=h.evaluate(n),n.scope=$}return g&&(P=lc(g,P)),P===void 0||S===void 0&&M===void 0&&A===void 0||(typeof P=="number"?P=Zu(P,S,M,A):Array.isArray(P)&&(P=P.map($=>typeof $=="number"?Zu($,S,M,A):$))),h!==void 0&&P!==void 0&&v&&!v.includes(P)&&(P=b,g&&(P=lc(g,P))),(g&&g!==this.type||P!==void 0&&Oi(P)!==this.type)&&(P=lc(this.type.kind,P)),P}eachChild(){}outputDefined(){return!1}serialize(){const n=["config",this.key];return this.scope&&n.concat(this.key),n}}function Ml(u){if(u instanceof wa&&(u.name==="get"&&u.args.length===1||u.name==="feature-state"||u.name==="has"&&u.args.length===1||u.name==="properties"||u.name==="geometry-type"||u.name==="id"||/^filter-/.test(u.name))||u instanceof Qo||u instanceof bl)return!1;let n=!0;return u.eachChild(i=>{n&&!Ml(i)&&(n=!1)}),n}function Zl(u){if(u instanceof wa&&u.name==="feature-state")return!1;let n=!0;return u.eachChild(i=>{n&&!Zl(i)&&(n=!1)}),n}function yc(u){if(u instanceof ql)return new Set([u.key]);let n=new Set;return u.eachChild(i=>{n=new Set([...n,...yc(i)])}),n}function Jl(u,n){if(u instanceof wa&&n.indexOf(u.name)>=0)return!1;let i=!0;return u.eachChild(d=>{i&&!Jl(d,n)&&(i=!1)}),i}class Ll{constructor(n,i){this.type=i.type,this.name=n,this.boundExpression=i}static parse(n,i){if(n.length!==2||typeof n[1]!="string")return i.error("'var' expression requires exactly one string literal argument.");const d=n[1];return i.scope.has(d)?new Ll(d,i.scope.get(d)):i.error(`Unknown variable "${d}". Make sure "${d}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(n){return this.boundExpression.evaluate(n)}eachChild(){}outputDefined(){return!1}serialize(){return["var",this.name]}}class Vl{constructor(n,i=[],d,g=new Ai,h=[],v,S){this.registry=n,this.path=i,this.key=i.map(M=>typeof M=="string"?`['${M}']`:`[${M}]`).join(""),this.scope=g,this.errors=h,this.expectedType=d,this._scope=v,this.options=S}parse(n,i,d,g,h={}){return i||d?this.concat(i,null,d,g)._parse(n,h):this._parse(n,h)}parseObjectValue(n,i,d,g,h,v={}){return this.concat(i,d,g,h)._parse(n,v)}_parse(n,i){function d(g,h,v){return v==="assert"?new Po(h,[g]):v==="coerce"?new Sa(h,[g]):g}if(n!==null&&typeof n!="string"&&typeof n!="boolean"&&typeof n!="number"||(n=["literal",n]),Array.isArray(n)){if(n.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');const g=typeof n[0]=="string"?this.registry[n[0]]:void 0;if(g){let h=g.parse(n,this);if(!h)return null;if(this.expectedType){const v=this.expectedType,S=h.type;if(v.kind!=="string"&&v.kind!=="number"&&v.kind!=="boolean"&&v.kind!=="object"&&v.kind!=="array"||S.kind!=="value")if(v.kind!=="color"&&v.kind!=="formatted"&&v.kind!=="resolvedImage"||S.kind!=="value"&&S.kind!=="string"){if(this.checkSubtype(v,S))return null}else h=d(h,v,i.typeAnnotation||"coerce");else h=d(h,v,i.typeAnnotation||"assert")}if(!(h instanceof hi)&&h.type.kind!=="resolvedImage"&&qc(h)){const v=new ja(this._scope,this.options);try{h=new hi(h.type,h.evaluate(v))}catch(S){return this.error(S.message),null}}return h}return Sa.parse(["to-array",n],this)}return this.error(n===void 0?"'undefined' value invalid. Use null instead.":typeof n=="object"?'Bare objects invalid. Use ["literal", {...}] instead.':`Expected an array, but found ${typeof n} instead.`)}concat(n,i,d,g){let h=typeof n=="number"?this.path.concat(n):this.path;h=typeof i=="string"?h.concat(i):h;const v=g?this.scope.concat(g):this.scope;return new Vl(this.registry,h,d||null,v,this.errors,this._scope,this.options)}error(n,...i){const d=`${this.key}${i.map(g=>`[${g}]`).join("")}`;this.errors.push(new fr(d,n))}checkSubtype(n,i){const d=Be(n,i);return d&&this.error(d),d}}var Ql=Vl;function qc(u){if(u instanceof Ll)return qc(u.boundExpression);if(u instanceof wa&&u.name==="error"||u instanceof Ts||u instanceof Qo||u instanceof bl||u instanceof ql)return!1;const n=u instanceof Sa||u instanceof Po;let i=!0;return u.eachChild(d=>{i=n?i&&qc(d):i&&d instanceof hi}),!!i&&Ml(u)&&Jl(u,["zoom","heatmap-density","line-progress","raster-value","sky-radial-progress","accumulated","is-supported-script","pitch","distance-from-center","measure-light","raster-particle-speed"])}function Hl(u,n){const i=u.length-1;let d,g,h=0,v=i,S=0;for(;h<=v;)if(S=Math.floor((h+v)/2),d=u[S],g=u[S+1],d<=n){if(S===i||n<g)return S;h=S+1}else{if(!(d>n))throw new Wi("Input is not a number.");v=S-1}return 0}class cc{constructor(n,i,d){this.type=n,this.input=i,this.labels=[],this.outputs=[];for(const[g,h]of d)this.labels.push(g),this.outputs.push(h)}static parse(n,i){if(n.length-1<4)return i.error(`Expected at least 4 arguments, but found only ${n.length-1}.`);if((n.length-1)%2!=0)return i.error("Expected an even number of arguments.");const d=i.parse(n[1],1,xr);if(!d)return null;const g=[];let h=null;i.expectedType&&i.expectedType.kind!=="value"&&(h=i.expectedType);for(let v=1;v<n.length;v+=2){const S=v===1?-1/0:n[v],M=n[v+1],A=v,b=v+1;if(typeof S!="number")return i.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',A);if(g.length&&g[g.length-1][0]>=S)return i.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',A);const P=i.parse(M,b,h);if(!P)return null;h=h||P.type,g.push([S,P])}return new cc(h,d,g)}evaluate(n){const i=this.labels,d=this.outputs;if(i.length===1)return d[0].evaluate(n);const g=this.input.evaluate(n);if(g<=i[0])return d[0].evaluate(n);const h=i.length;return g>=i[h-1]?d[h-1].evaluate(n):d[Hl(i,g)].evaluate(n)}eachChild(n){n(this.input);for(const i of this.outputs)n(i)}outputDefined(){return this.outputs.every(n=>n.outputDefined())}serialize(){const n=["step",this.input.serialize()];for(let i=0;i<this.labels.length;i++)i>0&&n.push(this.labels[i]),n.push(this.outputs[i].serialize());return n}}const ec=.95047,Ya=1.08883,sm=4/29,pu=6/29,Jh=3*pu*pu,Pd=pu*pu*pu,cd=Math.PI/180,Hs=180/Math.PI;function Vu(u){return u>Pd?Math.pow(u,1/3):u/Jh+sm}function Xf(u){return u>pu?u*u*u:Jh*(u-sm)}function Od(u){return 255*(u<=.0031308?12.92*u:1.055*Math.pow(u,1/2.4)-.055)}function of(u){return(u/=255)<=.04045?u/12.92:Math.pow((u+.055)/1.055,2.4)}function af(u){const n=of(u.r),i=of(u.g),d=of(u.b),g=Vu((.4124564*n+.3575761*i+.1804375*d)/ec),h=Vu((.2126729*n+.7151522*i+.072175*d)/1);return{l:116*h-16,a:500*(g-h),b:200*(h-Vu((.0193339*n+.119192*i+.9503041*d)/Ya)),alpha:u.a}}function sf(u){let n=(u.l+16)/116,i=isNaN(u.a)?n:n+u.a/500,d=isNaN(u.b)?n:n-u.b/200;return n=1*Xf(n),i=ec*Xf(i),d=Ya*Xf(d),new _e(Od(3.2404542*i-1.5371385*n-.4985314*d),Od(-.969266*i+1.8760108*n+.041556*d),Od(.0556434*i-.2040259*n+1.0572252*d),u.alpha)}function Rd(u,n,i){const d=n-u;return u+i*(d>180||d<-180?d-360*Math.round(d/360):d)}const ud={forward:af,reverse:sf,interpolate:function(u,n,i){return{l:Tt(u.l,n.l,i),a:Tt(u.a,n.a,i),b:Tt(u.b,n.b,i),alpha:Tt(u.alpha,n.alpha,i)}}},$d={forward:function(u){const{l:n,a:i,b:d}=af(u),g=Math.atan2(d,i)*Hs;return{h:g<0?g+360:g,c:Math.sqrt(i*i+d*d),l:n,alpha:u.a}},reverse:function(u){const n=u.h*cd,i=u.c;return sf({l:u.l,a:Math.cos(n)*i,b:Math.sin(n)*i,alpha:u.alpha})},interpolate:function(u,n,i){return{h:Rd(u.h,n.h,i),c:Tt(u.c,n.c,i),l:Tt(u.l,n.l,i),alpha:Tt(u.alpha,n.alpha,i)}}};var Yf=Object.freeze({__proto__:null,hcl:$d,lab:ud});class Ul{constructor(n,i,d,g,h,v){this.type=n,this.operator=i,this.interpolation=d,this.input=g,this.dynamicStops=h,this.labels=[],this.outputs=[];for(const[S,M]of v)this.labels.push(S),this.outputs.push(M)}static interpolationFactor(n,i,d,g){let h=0;if(n.name==="exponential")h=qf(i,n.base,d,g);else if(n.name==="linear")h=qf(i,1,d,g);else if(n.name==="cubic-bezier"){const v=n.controlPoints;h=new Ur(v[0],v[1],v[2],v[3]).solve(qf(i,1,d,g))}return h}static parse(n,i){let[d,g,h,...v]=n;if(!Array.isArray(g)||g.length===0)return i.error("Expected an interpolation type expression.",1);if(g[0]==="linear")g={name:"linear"};else if(g[0]==="exponential"){const A=g[1];if(typeof A!="number")return i.error("Exponential interpolation requires a numeric base.",1,1);g={name:"exponential",base:A}}else{if(g[0]!=="cubic-bezier")return i.error(`Unknown interpolation type ${String(g[0])}`,1,0);{const A=g.slice(1);if(A.length!==4||A.some(b=>typeof b!="number"||b<0||b>1))return i.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);g={name:"cubic-bezier",controlPoints:A}}}if(n.length-1<3)return i.error(`Expected at least 3 arguments, but found only ${n.length-1}.`);if(n.length-1>3&&(n.length-1)%2!=0)return i.error("Expected an even number of arguments.");if(h=i.parse(h,2,xr),!h)return null;const S=[];let M=null;if(d==="interpolate-hcl"||d==="interpolate-lab"?M=Ei:i.expectedType&&i.expectedType.kind!=="value"&&(M=i.expectedType),n.length-1==3){const A=i.parse(v[0],3,bi);return A?new Ul(M,d,g,h,A,S):null}for(let A=0;A<v.length;A+=2){const b=v[A],P=v[A+1],$=A+3,T=A+4;if(typeof b!="number")return i.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',$);if(S.length&&S[S.length-1][0]>=b)return i.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',$);const O=i.parse(P,T,M);if(!O)return null;M=M||O.type,S.push([b,O])}return M.kind==="number"||M.kind==="color"||M.kind==="array"&&M.itemType.kind==="number"&&typeof M.N=="number"?new Ul(M,d,g,h,null,S):i.error(`Type ${Ce(M)} is not interpolatable.`)}evaluate(n){let i=this.labels,d=this.outputs;if(this.dynamicStops){const b=this.dynamicStops.evaluate(n);if(b.length%2!=0)throw new Wi("Expected an even number of arguments.");i=[],d=[];for(let P=0;P<b.length;P+=2){const $=b[P],T=new hi(xr,b[P+1]);if(typeof $!="number")throw new Wi('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.');if(i.length&&i[i.length-1]>=$)throw new Wi('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.');i.push($),d.push(T)}if(i.length===0)throw new Wi("Expected at least one input/output pair.")}if(i.length===1)return d[0].evaluate(n);const g=this.input.evaluate(n);if(g<=i[0])return d[0].evaluate(n);const h=i.length;if(g>=i[h-1])return d[h-1].evaluate(n);const v=Hl(i,g),S=Ul.interpolationFactor(this.interpolation,g,i[v],i[v+1]),M=d[v].evaluate(n),A=d[v+1].evaluate(n);return this.operator==="interpolate"?Qn[this.type.kind.toLowerCase()](M,A,S):this.operator==="interpolate-hcl"?$d.reverse($d.interpolate($d.forward(M),$d.forward(A),S)):ud.reverse(ud.interpolate(ud.forward(M),ud.forward(A),S))}eachChild(n){n(this.input);for(const i of this.outputs)n(i)}outputDefined(){return this.outputs.every(n=>n.outputDefined())}serialize(){let n;n=this.interpolation.name==="linear"?["linear"]:this.interpolation.name==="exponential"?this.interpolation.base===1?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);const i=[this.operator,n,this.input.serialize()];if(this.dynamicStops)i.push(this.dynamicStops.serialize());else for(let d=0;d<this.labels.length;d++)i.push(this.labels[d],this.outputs[d].serialize());return i}}function qf(u,n,i,d){const g=d-i,h=u-i;return g===0?0:n===1?h/g:(Math.pow(n,h)-1)/(Math.pow(n,g)-1)}class Ad{constructor(n,i){this.type=n,this.args=i}static parse(n,i){if(n.length<2)return i.error("Expectected at least one argument.");let d=null;const g=i.expectedType;g&&g.kind!=="value"&&(d=g);const h=[];for(const S of n.slice(1)){const M=i.parse(S,1+h.length,d,void 0,{typeAnnotation:"omit"});if(!M)return null;d=d||M.type,h.push(M)}const v=g&&h.some(S=>Be(g,S.type));return new Ad(v?bi:d,h)}evaluate(n){let i,d=null,g=0;for(const h of this.args){if(g++,d=h.evaluate(n),d&&d instanceof vi&&!d.available&&(i||(i=d),d=null,g===this.args.length))return i;if(d!==null)break}return d}eachChild(n){this.args.forEach(n)}outputDefined(){return this.args.every(n=>n.outputDefined())}serialize(){const n=["coalesce"];return this.eachChild(i=>{n.push(i.serialize())}),n}}class Jf{constructor(n,i){this.type=i.type,this.bindings=[].concat(n),this.result=i}evaluate(n){return this.result.evaluate(n)}eachChild(n){for(const i of this.bindings)n(i[1]);n(this.result)}static parse(n,i){if(n.length<4)return i.error(`Expected at least 3 arguments, but found ${n.length-1} instead.`);const d=[];for(let h=1;h<n.length-1;h+=2){const v=n[h];if(typeof v!="string")return i.error(`Expected string, but found ${typeof v} instead.`,h);if(/[^a-zA-Z0-9_]/.test(v))return i.error("Variable names must contain only alphanumeric characters or '_'.",h);const S=i.parse(n[h+1],h+1);if(!S)return null;d.push([v,S])}const g=i.parse(n[n.length-1],n.length-1,i.expectedType,d);return g?new Jf(d,g):null}outputDefined(){return this.result.outputDefined()}serialize(){const n=["let"];for(const[i,d]of this.bindings)n.push(i,d.serialize());return n.push(this.result.serialize()),n}}class Qf{constructor(n,i,d){this.type=n,this.index=i,this.input=d}static parse(n,i){if(n.length!==3)return i.error(`Expected 2 arguments, but found ${n.length-1} instead.`);const d=i.parse(n[1],1,xr),g=i.parse(n[2],2,Ye(i.expectedType||bi));return d&&g?new Qf(g.type.itemType,d,g):null}evaluate(n){const i=this.index.evaluate(n),d=this.input.evaluate(n);if(i<0)throw new Wi(`Array index out of bounds: ${i} < 0.`);if(i>d.length-1)throw new Wi(`Array index out of bounds: ${i} > ${d.length-1}.`);if(i===Math.floor(i))return d[i];const g=Math.floor(i),h=Math.ceil(i),v=d[g],S=d[h];if(typeof v!="number"||typeof S!="number")throw new Wi(`Cannot interpolate between non-number values at index ${i}.`);const M=i-g;return v*(1-M)+S*M}eachChild(n){n(this.index),n(this.input)}outputDefined(){return!1}serialize(){return["at",this.index.serialize(),this.input.serialize()]}}class eh{constructor(n,i){this.type=Fr,this.needle=n,this.haystack=i}static parse(n,i){if(n.length!==3)return i.error(`Expected 2 arguments, but found ${n.length-1} instead.`);const d=i.parse(n[1],1,bi),g=i.parse(n[2],2,bi);return d&&g?Nt(d.type,[Fr,Vi,xr,to,bi])?new eh(d,g):i.error(`Expected first argument to be of type boolean, string, number or null, but found ${Ce(d.type)} instead`):null}evaluate(n){const i=this.needle.evaluate(n),d=this.haystack.evaluate(n);if(d==null)return!1;if(!dn(i,["boolean","string","number","null"]))throw new Wi(`Expected first argument to be of type boolean, string, number or null, but found ${Ce(Oi(i))} instead.`);if(!dn(d,["string","array"]))throw new Wi(`Expected second argument to be of type array or string, but found ${Ce(Oi(d))} instead.`);return d.indexOf(i)>=0}eachChild(n){n(this.needle),n(this.haystack)}outputDefined(){return!0}serialize(){return["in",this.needle.serialize(),this.haystack.serialize()]}}class th{constructor(n,i,d){this.type=xr,this.needle=n,this.haystack=i,this.fromIndex=d}static parse(n,i){if(n.length<=2||n.length>=5)return i.error(`Expected 3 or 4 arguments, but found ${n.length-1} instead.`);const d=i.parse(n[1],1,bi),g=i.parse(n[2],2,bi);if(!d||!g)return null;if(!Nt(d.type,[Fr,Vi,xr,to,bi]))return i.error(`Expected first argument to be of type boolean, string, number or null, but found ${Ce(d.type)} instead`);if(n.length===4){const h=i.parse(n[3],3,xr);return h?new th(d,g,h):null}return new th(d,g)}evaluate(n){const i=this.needle.evaluate(n),d=this.haystack.evaluate(n);if(!dn(i,["boolean","string","number","null"]))throw new Wi(`Expected first argument to be of type boolean, string, number or null, but found ${Ce(Oi(i))} instead.`);if(!dn(d,["string","array"]))throw new Wi(`Expected second argument to be of type array or string, but found ${Ce(Oi(d))} instead.`);if(this.fromIndex){const g=this.fromIndex.evaluate(n);return d.indexOf(i,g)}return d.indexOf(i)}eachChild(n){n(this.needle),n(this.haystack),this.fromIndex&&n(this.fromIndex)}outputDefined(){return!1}serialize(){if(this.fromIndex!=null&&this.fromIndex!==void 0){const n=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),n]}return["index-of",this.needle.serialize(),this.haystack.serialize()]}}class nh{constructor(n,i,d,g,h,v){this.inputType=n,this.type=i,this.input=d,this.cases=g,this.outputs=h,this.otherwise=v}static parse(n,i){if(n.length<5)return i.error(`Expected at least 4 arguments, but found only ${n.length-1}.`);if(n.length%2!=1)return i.error("Expected an even number of arguments.");let d,g;i.expectedType&&i.expectedType.kind!=="value"&&(g=i.expectedType);const h={},v=[];for(let A=2;A<n.length-1;A+=2){let b=n[A];const P=n[A+1];Array.isArray(b)||(b=[b]);const $=i.concat(A);if(b.length===0)return $.error("Expected at least one branch label.");for(const O of b){if(typeof O!="number"&&typeof O!="string")return $.error("Branch labels must be numbers or strings.");if(typeof O=="number"&&Math.abs(O)>Number.MAX_SAFE_INTEGER)return $.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if(typeof O=="number"&&Math.floor(O)!==O)return $.error("Numeric branch labels must be integer values.");if(d){if($.checkSubtype(d,Oi(O)))return null}else d=Oi(O);if(h[String(O)]!==void 0)return $.error("Branch labels must be unique.");h[String(O)]=v.length}const T=i.parse(P,A,g);if(!T)return null;g=g||T.type,v.push(T)}const S=i.parse(n[1],1,bi);if(!S)return null;const M=i.parse(n[n.length-1],n.length-1,g);return M?S.type.kind!=="value"&&i.concat(1).checkSubtype(d,S.type)?null:new nh(d,g,S,h,v,M):null}evaluate(n){const i=this.input.evaluate(n);return(Oi(i)===this.inputType&&this.outputs[this.cases[i]]||this.otherwise).evaluate(n)}eachChild(n){n(this.input),this.outputs.forEach(n),n(this.otherwise)}outputDefined(){return this.outputs.every(n=>n.outputDefined())&&this.otherwise.outputDefined()}serialize(){const n=["match",this.input.serialize()],i=Object.keys(this.cases).sort(),d=[],g={};for(const v of i){const S=g[this.cases[v]];S===void 0?(g[this.cases[v]]=d.length,d.push([this.cases[v],[v]])):d[S][1].push(v)}const h=v=>this.inputType.kind==="number"?Number(v):v;for(const[v,S]of d)n.push(S.length===1?h(S[0]):S.map(h)),n.push(this.outputs[v].serialize());return n.push(this.otherwise.serialize()),n}}class Tu{constructor(n,i,d){this.type=n,this.branches=i,this.otherwise=d}static parse(n,i){if(n.length<4)return i.error(`Expected at least 3 arguments, but found only ${n.length-1}.`);if(n.length%2!=0)return i.error("Expected an odd number of arguments.");let d;i.expectedType&&i.expectedType.kind!=="value"&&(d=i.expectedType);const g=[];for(let v=1;v<n.length-1;v+=2){const S=i.parse(n[v],v,Fr);if(!S)return null;const M=i.parse(n[v+1],v+1,d);if(!M)return null;g.push([S,M]),d=d||M.type}const h=i.parse(n[n.length-1],n.length-1,d);return h?new Tu(d,g,h):null}evaluate(n){for(const[i,d]of this.branches)if(i.evaluate(n))return d.evaluate(n);return this.otherwise.evaluate(n)}eachChild(n){for(const[i,d]of this.branches)n(i),n(d);n(this.otherwise)}outputDefined(){return this.branches.every(([n,i])=>i.outputDefined())&&this.otherwise.outputDefined()}serialize(){const n=["case"];return this.eachChild(i=>{n.push(i.serialize())}),n}}class Dd{constructor(n,i,d,g){this.type=n,this.input=i,this.beginIndex=d,this.endIndex=g}static parse(n,i){if(n.length<=2||n.length>=5)return i.error(`Expected 3 or 4 arguments, but found ${n.length-1} instead.`);const d=i.parse(n[1],1,bi),g=i.parse(n[2],2,xr);if(!d||!g)return null;if(!Nt(d.type,[Ye(bi),Vi,bi]))return i.error(`Expected first argument to be of type array or string, but found ${Ce(d.type)} instead`);if(n.length===4){const h=i.parse(n[3],3,xr);return h?new Dd(d.type,d,g,h):null}return new Dd(d.type,d,g)}evaluate(n){const i=this.input.evaluate(n),d=this.beginIndex.evaluate(n);if(!dn(i,["string","array"]))throw new Wi(`Expected first argument to be of type array or string, but found ${Ce(Oi(i))} instead.`);if(this.endIndex){const g=this.endIndex.evaluate(n);return i.slice(d,g)}return i.slice(d)}eachChild(n){n(this.input),n(this.beginIndex),this.endIndex&&n(this.endIndex)}outputDefined(){return!1}serialize(){if(this.endIndex!=null&&this.endIndex!==void 0){const n=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),n]}return["slice",this.input.serialize(),this.beginIndex.serialize()]}}function lm(u,n){return u==="=="||u==="!="?n.kind==="boolean"||n.kind==="string"||n.kind==="number"||n.kind==="null"||n.kind==="value":n.kind==="string"||n.kind==="number"||n.kind==="value"}function rh(u,n,i,d){return d.compare(n,i)===0}function Hu(u,n,i){const d=u!=="=="&&u!=="!=";return class cM{constructor(h,v,S){this.type=Fr,this.lhs=h,this.rhs=v,this.collator=S,this.hasUntypedArgument=h.type.kind==="value"||v.type.kind==="value"}static parse(h,v){if(h.length!==3&&h.length!==4)return v.error("Expected two or three arguments.");const S=h[0];let M=v.parse(h[1],1,bi);if(!M)return null;if(!lm(S,M.type))return v.concat(1).error(`"${S}" comparisons are not supported for type '${Ce(M.type)}'.`);let A=v.parse(h[2],2,bi);if(!A)return null;if(!lm(S,A.type))return v.concat(2).error(`"${S}" comparisons are not supported for type '${Ce(A.type)}'.`);if(M.type.kind!==A.type.kind&&M.type.kind!=="value"&&A.type.kind!=="value")return v.error(`Cannot compare types '${Ce(M.type)}' and '${Ce(A.type)}'.`);d&&(M.type.kind==="value"&&A.type.kind!=="value"?M=new Po(A.type,[M]):M.type.kind!=="value"&&A.type.kind==="value"&&(A=new Po(M.type,[A])));let b=null;if(h.length===4){if(M.type.kind!=="string"&&A.type.kind!=="string"&&M.type.kind!=="value"&&A.type.kind!=="value")return v.error("Cannot use collator to compare non-string types.");if(b=v.parse(h[3],3,Yo),!b)return null}return new cM(M,A,b)}evaluate(h){const v=this.lhs.evaluate(h),S=this.rhs.evaluate(h);if(d&&this.hasUntypedArgument){const M=Oi(v),A=Oi(S);if(M.kind!==A.kind||M.kind!=="string"&&M.kind!=="number")throw new Wi(`Expected arguments for "${u}" to be (string, string) or (number, number), but found (${M.kind}, ${A.kind}) instead.`)}if(this.collator&&!d&&this.hasUntypedArgument){const M=Oi(v),A=Oi(S);if(M.kind!=="string"||A.kind!=="string")return n(h,v,S)}return this.collator?i(h,v,S,this.collator.evaluate(h)):n(h,v,S)}eachChild(h){h(this.lhs),h(this.rhs),this.collator&&h(this.collator)}outputDefined(){return!0}serialize(){const h=[u];return this.eachChild(v=>{h.push(v.serialize())}),h}}}const ih=Hu("==",function(u,n,i){return n===i},rh),cm=Hu("!=",function(u,n,i){return n!==i},function(u,n,i,d){return!rh(0,n,i,d)}),um=Hu("<",function(u,n,i){return n<i},function(u,n,i,d){return d.compare(n,i)<0}),dm=Hu(">",function(u,n,i){return n>i},function(u,n,i,d){return d.compare(n,i)>0}),oh=Hu("<=",function(u,n,i){return n<=i},function(u,n,i,d){return d.compare(n,i)<=0}),Qh=Hu(">=",function(u,n,i){return n>=i},function(u,n,i,d){return d.compare(n,i)>=0});class ah{constructor(n,i,d,g,h,v){this.type=Vi,this.number=n,this.locale=i,this.currency=d,this.unit=g,this.minFractionDigits=h,this.maxFractionDigits=v}static parse(n,i){if(n.length!==3)return i.error("Expected two arguments.");const d=i.parse(n[1],1,xr);if(!d)return null;const g=n[2];if(typeof g!="object"||Array.isArray(g))return i.error("NumberFormat options argument must be an object.");let h=null;if(g.locale&&(h=i.parseObjectValue(g.locale,2,"locale",Vi),!h))return null;let v=null;if(g.currency&&(v=i.parseObjectValue(g.currency,2,"currency",Vi),!v))return null;let S=null;if(g.unit&&(S=i.parseObjectValue(g.unit,2,"unit",Vi),!S))return null;let M=null;if(g["min-fraction-digits"]&&(M=i.parseObjectValue(g["min-fraction-digits"],2,"min-fraction-digits",xr),!M))return null;let A=null;return g["max-fraction-digits"]&&(A=i.parseObjectValue(g["max-fraction-digits"],2,"max-fraction-digits",xr),!A)?null:new ah(d,h,v,S,M,A)}evaluate(n){return new Intl.NumberFormat(this.locale?this.locale.evaluate(n):[],{style:(this.currency?"currency":this.unit&&"unit")||"decimal",currency:this.currency?this.currency.evaluate(n):void 0,unit:this.unit?this.unit.evaluate(n):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(n):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(n):void 0}).format(this.number.evaluate(n))}eachChild(n){n(this.number),this.locale&&n(this.locale),this.currency&&n(this.currency),this.unit&&n(this.unit),this.minFractionDigits&&n(this.minFractionDigits),this.maxFractionDigits&&n(this.maxFractionDigits)}outputDefined(){return!1}serialize(){const n={};return this.locale&&(n.locale=this.locale.serialize()),this.currency&&(n.currency=this.currency.serialize()),this.unit&&(n.unit=this.unit.serialize()),this.minFractionDigits&&(n["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(n["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),n]}}class sh{constructor(n){this.type=xr,this.input=n}static parse(n,i){if(n.length!==2)return i.error(`Expected 1 argument, but found ${n.length-1} instead.`);const d=i.parse(n[1],1);return d?d.type.kind!=="array"&&d.type.kind!=="string"&&d.type.kind!=="value"?i.error(`Expected argument of type string or array, but found ${Ce(d.type)} instead.`):new sh(d):null}evaluate(n){const i=this.input.evaluate(n);if(typeof i=="string"||Array.isArray(i))return i.length;throw new Wi(`Expected value to be of type string or array, but found ${Ce(Oi(i))} instead.`)}eachChild(n){n(this.input)}outputDefined(){return!1}serialize(){const n=["length"];return this.eachChild(i=>{n.push(i.serialize())}),n}}function mu(u){return function(){u=1831565813+(u|=0)|0;let n=Math.imul(u^u>>>15,1|u);return n=n+Math.imul(n^n>>>7,61|n)^n,((n^n>>>14)>>>0)/4294967296}}const wn={"==":ih,"!=":cm,">":dm,"<":um,">=":Qh,"<=":oh,array:Po,at:Qf,boolean:Po,case:Tu,coalesce:Ad,collator:Ts,format:aa,image:ha,in:eh,"index-of":th,interpolate:Ul,"interpolate-hcl":Ul,"interpolate-lab":Ul,length:sh,let:Jf,literal:hi,match:nh,number:Po,"number-format":ah,object:Po,slice:Dd,step:cc,string:Po,"to-boolean":Sa,"to-color":Sa,"to-number":Sa,"to-string":Sa,var:Ll,within:Qo,distance:bl,config:ql};function zr(u,[n,i,d,g]){n=n.evaluate(u),i=i.evaluate(u),d=d.evaluate(u);const h=g?g.evaluate(u):1,v=zi(n,i,d,h);if(v)throw new Wi(v);return new _e(n/255*h,i/255*h,d/255*h,h)}function oo(u,[n,i,d,g]){n=n.evaluate(u),i=i.evaluate(u),d=d.evaluate(u);const h=g?g.evaluate(u):1,v=function(A,b,P,$){return typeof A=="number"&&A>=0&&A<=360?typeof b=="number"&&b>=0&&b<=100&&typeof P=="number"&&P>=0&&P<=100?$===void 0||typeof $=="number"&&$>=0&&$<=1?null:`Invalid hsla value [${[A,b,P,$].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid hsla value [${(typeof $=="number"?[A,b,P,$]:[A,b,P]).join(", ")}]: 's', and 'l' must be between 0 and 100.`:`Invalid hsla value [${(typeof $=="number"?[A,b,P,$]:[A,b,P]).join(", ")}]: 'h' must be between 0 and 360.`}(n,i,d,h);if(v)throw new Wi(v);const S=`hsla(${n}, ${i}%, ${d}%, ${h})`,M=_e.parse(S);if(!M)throw new Wi(`Failed to parse HSLA color: ${S}`);return M}function ma(u,n){return u in n}function el(u,n){const i=n[u];return i===void 0?null:i}function os(u){return{type:u}}function xl(u){return{result:"success",value:u}}function Us(u){return{result:"error",value:u}}function tc(u,n){return!!u&&!!u.parameters&&u.parameters.indexOf(n)>-1}function tl(u){return u["property-type"]==="data-driven"}function Zc(u){return tc(u.expression,"measure-light")}function _c(u){return tc(u.expression,"zoom")}function Pl(u){return!!u.expression&&u.expression.interpolated}function Jc(u){return typeof u=="object"&&u!==null&&!Array.isArray(u)}function bc(u){return u}function zc(u,n){const i=n.type==="color",d=u.stops&&typeof u.stops[0][0]=="object",g=d||!(d||u.property!==void 0),h=u.type||(Pl(n)?"exponential":"interval");if(i&&((u=ci({},u)).stops&&(u.stops=u.stops.map(A=>[A[0],_e.parse(A[1])])),u.default=_e.parse(u.default?u.default:n.default)),u.colorSpace&&u.colorSpace!=="rgb"&&!Yf[u.colorSpace])throw new Error(`Unknown color space: ${u.colorSpace}`);let v,S,M;if(h==="exponential")v=lf;else if(h==="interval")v=ou;else if(h==="categorical"){v=iu,S=Object.create(null);for(const A of u.stops)S[A[0]]=A[1];M=typeof u.stops[0][0]}else{if(h!=="identity")throw new Error(`Unknown function type "${h}"`);v=dd}if(d){const A={},b=[];for(let T=0;T<u.stops.length;T++){const O=u.stops[T],N=O[0].zoom;A[N]===void 0&&(A[N]={zoom:N,type:u.type,property:u.property,default:u.default,stops:[]},b.push(N)),A[N].stops.push([O[0].value,O[1]])}const P=[];for(const T of b)P.push([A[T].zoom,zc(A[T],n)]);const $={name:"linear"};return{kind:"composite",interpolationType:$,interpolationFactor:Ul.interpolationFactor.bind(void 0,$),zoomStops:P.map(T=>T[0]),evaluate:({zoom:T},O)=>lf({stops:P,base:u.base},n,T).evaluate(T,O)}}if(g){const A=h==="exponential"?{name:"exponential",base:u.base!==void 0?u.base:1}:null;return{kind:"camera",interpolationType:A,interpolationFactor:Ul.interpolationFactor.bind(void 0,A),zoomStops:u.stops.map(b=>b[0]),evaluate:({zoom:b})=>v(u,n,b,S,M)}}return{kind:"source",evaluate(A,b){const P=b&&b.properties?b.properties[u.property]:void 0;return P===void 0?Nc(u.default,n.default):v(u,n,P,S,M)}}}function Nc(u,n,i){return u!==void 0?u:n!==void 0?n:i!==void 0?i:void 0}function iu(u,n,i,d,g){return Nc(typeof i===g?d[i]:void 0,u.default,n.default)}function ou(u,n,i){if(Ta(i)!=="number")return Nc(u.default,n.default);const d=u.stops.length;if(d===1||i<=u.stops[0][0])return u.stops[0][1];if(i>=u.stops[d-1][0])return u.stops[d-1][1];const g=Hl(u.stops.map(h=>h[0]),i);return u.stops[g][1]}function lf(u,n,i){const d=u.base!==void 0?u.base:1;if(Ta(i)!=="number")return Nc(u.default,n.default);const g=u.stops.length;if(g===1||i<=u.stops[0][0])return u.stops[0][1];if(i>=u.stops[g-1][0])return u.stops[g-1][1];const h=Hl(u.stops.map(b=>b[0]),i),v=function(b,P,$,T){const O=T-$,N=b-$;return O===0?0:P===1?N/O:(Math.pow(P,N)-1)/(Math.pow(P,O)-1)}(i,d,u.stops[h][0],u.stops[h+1][0]),S=u.stops[h][1],M=u.stops[h+1][1];let A=Qn[n.type]||bc;if(u.colorSpace&&u.colorSpace!=="rgb"){const b=Yf[u.colorSpace];A=(P,$)=>b.reverse(b.interpolate(b.forward(P),b.forward($),v))}return typeof S.evaluate=="function"?{evaluate(...b){const P=S.evaluate.apply(void 0,b),$=M.evaluate.apply(void 0,b);if(P!==void 0&&$!==void 0)return A(P,$,v)}}:A(S,M,v)}function dd(u,n,i){return n.type==="color"?i=_e.parse(i):n.type==="formatted"?i=Lr.fromString(i.toString()):n.type==="resolvedImage"?i=vi.build(i.toString()):Ta(i)===n.type||n.type==="enum"&&n.values[i]||(i=void 0),Nc(i,u.default,n.default)}wa.register(wn,{error:[{kind:"error"},[Vi],(u,[n])=>{throw new Wi(n.evaluate(u))}],typeof:[Vi,[bi],(u,[n])=>Ce(Oi(n.evaluate(u)))],"to-rgba":[Ye(xr,4),[Ei],(u,[n])=>n.evaluate(u).toRenderColor(null).toArray()],"to-hsla":[Ye(xr,4),[Ei],(u,[n])=>n.evaluate(u).toRenderColor(null).toHslaArray()],rgb:[Ei,[xr,xr,xr],zr],rgba:[Ei,[xr,xr,xr,xr],zr],hsl:[Ei,[xr,xr,xr],oo],hsla:[Ei,[xr,xr,xr,xr],oo],has:{type:Fr,overloads:[[[Vi],(u,[n])=>ma(n.evaluate(u),u.properties())],[[Vi,_i],(u,[n,i])=>ma(n.evaluate(u),i.evaluate(u))]]},get:{type:bi,overloads:[[[Vi],(u,[n])=>el(n.evaluate(u),u.properties())],[[Vi,_i],(u,[n,i])=>el(n.evaluate(u),i.evaluate(u))]]},"feature-state":[bi,[Vi],(u,[n])=>el(n.evaluate(u),u.featureState||{})],properties:[_i,[],u=>u.properties()],"geometry-type":[Vi,[],u=>u.geometryType()],id:[bi,[],u=>u.id()],zoom:[xr,[],u=>u.globals.zoom],pitch:[xr,[],u=>u.globals.pitch||0],"distance-from-center":[xr,[],u=>u.distanceFromCenter()],"measure-light":[xr,[Vi],(u,[n])=>u.measureLight(n.evaluate(u))],"heatmap-density":[xr,[],u=>u.globals.heatmapDensity||0],"line-progress":[xr,[],u=>u.globals.lineProgress||0],"raster-value":[xr,[],u=>u.globals.rasterValue||0],"raster-particle-speed":[xr,[],u=>u.globals.rasterParticleSpeed||0],"sky-radial-progress":[xr,[],u=>u.globals.skyRadialProgress||0],accumulated:[bi,[],u=>u.globals.accumulated===void 0?null:u.globals.accumulated],"+":[xr,os(xr),(u,n)=>{let i=0;for(const d of n)i+=d.evaluate(u);return i}],"*":[xr,os(xr),(u,n)=>{let i=1;for(const d of n)i*=d.evaluate(u);return i}],"-":{type:xr,overloads:[[[xr,xr],(u,[n,i])=>n.evaluate(u)-i.evaluate(u)],[[xr],(u,[n])=>-n.evaluate(u)]]},"/":[xr,[xr,xr],(u,[n,i])=>n.evaluate(u)/i.evaluate(u)],"%":[xr,[xr,xr],(u,[n,i])=>n.evaluate(u)%i.evaluate(u)],ln2:[xr,[],()=>Math.LN2],pi:[xr,[],()=>Math.PI],e:[xr,[],()=>Math.E],"^":[xr,[xr,xr],(u,[n,i])=>Math.pow(n.evaluate(u),i.evaluate(u))],sqrt:[xr,[xr],(u,[n])=>Math.sqrt(n.evaluate(u))],log10:[xr,[xr],(u,[n])=>Math.log(n.evaluate(u))/Math.LN10],ln:[xr,[xr],(u,[n])=>Math.log(n.evaluate(u))],log2:[xr,[xr],(u,[n])=>Math.log(n.evaluate(u))/Math.LN2],sin:[xr,[xr],(u,[n])=>Math.sin(n.evaluate(u))],cos:[xr,[xr],(u,[n])=>Math.cos(n.evaluate(u))],tan:[xr,[xr],(u,[n])=>Math.tan(n.evaluate(u))],asin:[xr,[xr],(u,[n])=>Math.asin(n.evaluate(u))],acos:[xr,[xr],(u,[n])=>Math.acos(n.evaluate(u))],atan:[xr,[xr],(u,[n])=>Math.atan(n.evaluate(u))],min:[xr,os(xr),(u,n)=>Math.min(...n.map(i=>i.evaluate(u)))],max:[xr,os(xr),(u,n)=>Math.max(...n.map(i=>i.evaluate(u)))],abs:[xr,[xr],(u,[n])=>Math.abs(n.evaluate(u))],round:[xr,[xr],(u,[n])=>{const i=n.evaluate(u);return i<0?-Math.round(-i):Math.round(i)}],floor:[xr,[xr],(u,[n])=>Math.floor(n.evaluate(u))],ceil:[xr,[xr],(u,[n])=>Math.ceil(n.evaluate(u))],"filter-==":[Fr,[Vi,bi],(u,[n,i])=>u.properties()[n.value]===i.value],"filter-id-==":[Fr,[bi],(u,[n])=>u.id()===n.value],"filter-type-==":[Fr,[Vi],(u,[n])=>u.geometryType()===n.value],"filter-<":[Fr,[Vi,bi],(u,[n,i])=>{const d=u.properties()[n.value],g=i.value;return typeof d==typeof g&&d<g}],"filter-id-<":[Fr,[bi],(u,[n])=>{const i=u.id(),d=n.value;return typeof i==typeof d&&i<d}],"filter->":[Fr,[Vi,bi],(u,[n,i])=>{const d=u.properties()[n.value],g=i.value;return typeof d==typeof g&&d>g}],"filter-id->":[Fr,[bi],(u,[n])=>{const i=u.id(),d=n.value;return typeof i==typeof d&&i>d}],"filter-<=":[Fr,[Vi,bi],(u,[n,i])=>{const d=u.properties()[n.value],g=i.value;return typeof d==typeof g&&d<=g}],"filter-id-<=":[Fr,[bi],(u,[n])=>{const i=u.id(),d=n.value;return typeof i==typeof d&&i<=d}],"filter->=":[Fr,[Vi,bi],(u,[n,i])=>{const d=u.properties()[n.value],g=i.value;return typeof d==typeof g&&d>=g}],"filter-id->=":[Fr,[bi],(u,[n])=>{const i=u.id(),d=n.value;return typeof i==typeof d&&i>=d}],"filter-has":[Fr,[bi],(u,[n])=>n.value in u.properties()],"filter-has-id":[Fr,[],u=>u.id()!==null&&u.id()!==void 0],"filter-type-in":[Fr,[Ye(Vi)],(u,[n])=>n.value.indexOf(u.geometryType())>=0],"filter-id-in":[Fr,[Ye(bi)],(u,[n])=>n.value.indexOf(u.id())>=0],"filter-in-small":[Fr,[Vi,Ye(bi)],(u,[n,i])=>i.value.indexOf(u.properties()[n.value])>=0],"filter-in-large":[Fr,[Vi,Ye(bi)],(u,[n,i])=>function(d,g,h,v){for(;h<=v;){const S=h+v>>1;if(g[S]===d)return!0;g[S]>d?v=S-1:h=S+1}return!1}(u.properties()[n.value],i.value,0,i.value.length-1)],all:{type:Fr,overloads:[[[Fr,Fr],(u,[n,i])=>n.evaluate(u)&&i.evaluate(u)],[os(Fr),(u,n)=>{for(const i of n)if(!i.evaluate(u))return!1;return!0}]]},any:{type:Fr,overloads:[[[Fr,Fr],(u,[n,i])=>n.evaluate(u)||i.evaluate(u)],[os(Fr),(u,n)=>{for(const i of n)if(i.evaluate(u))return!0;return!1}]]},"!":[Fr,[Fr],(u,[n])=>!n.evaluate(u)],"is-supported-script":[Fr,[Vi],(u,[n])=>{const i=u.globals&&u.globals.isSupportedScript;return!i||i(n.evaluate(u))}],upcase:[Vi,[Vi],(u,[n])=>n.evaluate(u).toUpperCase()],downcase:[Vi,[Vi],(u,[n])=>n.evaluate(u).toLowerCase()],concat:[Vi,os(bi),(u,n)=>n.map(i=>Ni(i.evaluate(u))).join("")],"resolved-locale":[Vi,[Yo],(u,[n])=>n.evaluate(u).resolvedLocale()],random:[xr,[xr,xr,bi],(u,n)=>{const[i,d,g]=n.map(v=>v.evaluate(u));if(i>d||i===d)return i;let h;if(typeof g=="string")h=function(v){let S=0;if(v.length===0)return S;for(let M=0;M<v.length;M++)S=(S<<5)-S+v.charCodeAt(M),S|=0;return S}(g);else{if(typeof g!="number")throw new Wi(`Invalid seed input: ${g}`);h=g}return i+mu(h)()*(d-i)}]});class Uu{constructor(n,i,d,g){this.expression=n,this._warningHistory={},this._evaluator=new ja(d,g),this._defaultValue=i?function(h){return h.type==="color"&&(Jc(h.default)||Array.isArray(h.default))?new _e(0,0,0,0):h.type==="color"?_e.parse(h.default)||null:h.default===void 0?null:h.default}(i):null,this._enumValues=i&&i.type==="enum"?i.values:null,this.configDependencies=yc(n)}evaluateWithoutErrorHandling(n,i,d,g,h,v,S,M){return this._evaluator.globals=n,this._evaluator.feature=i,this._evaluator.featureState=d,this._evaluator.canonical=g||null,this._evaluator.availableImages=h||null,this._evaluator.formattedSection=v,this._evaluator.featureTileCoord=S||null,this._evaluator.featureDistanceData=M||null,this.expression.evaluate(this._evaluator)}evaluate(n,i,d,g,h,v,S,M){this._evaluator.globals=n,this._evaluator.feature=i||null,this._evaluator.featureState=d||null,this._evaluator.canonical=g||null,this._evaluator.availableImages=h||null,this._evaluator.formattedSection=v||null,this._evaluator.featureTileCoord=S||null,this._evaluator.featureDistanceData=M||null;try{const A=this.expression.evaluate(this._evaluator);if(A==null||typeof A=="number"&&A!=A)return this._defaultValue;if(this._enumValues&&!(A in this._enumValues))throw new Wi(`Expected value to be one of ${Object.keys(this._enumValues).map(b=>JSON.stringify(b)).join(", ")}, but found ${JSON.stringify(A)} instead.`);return A}catch(A){return this._warningHistory[A.message]||(this._warningHistory[A.message]=!0,typeof console!="undefined"&&console.warn(`Failed to evaluate expression "${JSON.stringify(this.expression.serialize())}". ${A.message}`)),this._defaultValue}}}function cf(u){return Array.isArray(u)&&u.length>0&&typeof u[0]=="string"&&u[0]in wn}function uf(u,n,i,d){const g=new Ql(wn,[],n?function(v){const S={color:Ei,string:Vi,number:xr,enum:Vi,boolean:Fr,formatted:jo,resolvedImage:an};return v.type==="array"?Ye(S[v.value]||bi,v.length):S[v.type]}(n):void 0,void 0,void 0,i,d),h=g.parse(u,void 0,void 0,void 0,n&&n.type==="string"?{typeAnnotation:"coerce"}:void 0);return h?xl(new Uu(h,n,i,d)):Us(g.errors)}class lh{constructor(n,i,d,g){this.kind=n,this._styleExpression=i,this.isLightConstant=d,this.isLineProgressConstant=g,this.isStateDependent=n!=="constant"&&!Zl(i.expression),this.configDependencies=yc(i.expression)}evaluateWithoutErrorHandling(n,i,d,g,h,v){return this._styleExpression.evaluateWithoutErrorHandling(n,i,d,g,h,v)}evaluate(n,i,d,g,h,v){return this._styleExpression.evaluate(n,i,d,g,h,v)}}class df{constructor(n,i,d,g,h,v){this.kind=n,this.zoomStops=d,this._styleExpression=i,this.isStateDependent=n!=="camera"&&!Zl(i.expression),this.isLightConstant=h,this.isLineProgressConstant=v,this.configDependencies=yc(i.expression),this.interpolationType=g}evaluateWithoutErrorHandling(n,i,d,g,h,v){return this._styleExpression.evaluateWithoutErrorHandling(n,i,d,g,h,v)}evaluate(n,i,d,g,h,v){return this._styleExpression.evaluate(n,i,d,g,h,v)}interpolationFactor(n,i,d){return this.interpolationType?Ul.interpolationFactor(this.interpolationType,n,i,d):0}}function fm(u,n,i,d){if((u=uf(u,n,i,d)).result==="error")return u;const g=u.value.expression,h=Ml(g);if(!h&&!tl(n))return Us([new fr("","data expressions not supported")]);const v=Jl(g,["zoom","pitch","distance-from-center"]);if(!v&&!_c(n))return Us([new fr("","zoom expressions not supported")]);const S=Jl(g,["measure-light"]);if(!S&&!Zc(n))return Us([new fr("","measure-light expression not supported")]);const M=Jl(g,["line-progress"]);if(!M&&!function(P){return tc(P.expression,"line-progress")}(n))return Us([new fr("","line-progress expression not supported")]);const A=n.expression&&n.expression.relaxZoomRestriction,b=Ld(g);return b||v||A?b instanceof fr?Us([b]):b instanceof Ul&&!Pl(n)?Us([new fr("",'"interpolate" expressions cannot be used with this property')]):xl(b?new df(h&&M?"camera":"composite",u.value,b.labels,b instanceof Ul?b.interpolation:void 0,S,M):new lh(h&&M?"constant":"source",u.value,S,M)):Us([new fr("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression, or in the properties of atmosphere.')])}class ch{constructor(n,i){this._parameters=n,this._specification=i,ci(this,zc(this._parameters,this._specification))}static deserialize(n){return new ch(n._parameters,n._specification)}static serialize(n){return{_parameters:n._parameters,_specification:n._specification}}}function Ld(u){let n=null;if(u instanceof Jf)n=Ld(u.result);else if(u instanceof Ad){for(const i of u.args)if(n=Ld(i),n)break}else(u instanceof cc||u instanceof Ul)&&u.input instanceof wa&&u.input.name==="zoom"&&(n=u);return n instanceof fr||u.eachChild(i=>{const d=Ld(i);d instanceof fr?n=d:n&&d&&n!==d&&(n=new fr("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),n}var hm,Iv,Zg=function(){if(Iv)return hm;Iv=1,hm=n;var u=3;function n(i,d,g){var h=this.cells=[];if(i instanceof ArrayBuffer){this.arrayBuffer=i;var v=new Int32Array(this.arrayBuffer);i=v[0],this.d=(d=v[1])+2*(g=v[2]);for(var S=0;S<this.d*this.d;S++){var M=v[u+S],A=v[u+S+1];h.push(M===A?null:v.subarray(M,A))}var b=v[u+h.length+1];this.keys=v.subarray(v[u+h.length],b),this.bboxes=v.subarray(b),this.insert=this._insertReadonly}else{this.d=d+2*g;for(var P=0;P<this.d*this.d;P++)h.push([]);this.keys=[],this.bboxes=[]}this.n=d,this.extent=i,this.padding=g,this.scale=d/i,this.uid=0;var $=g/d*i;this.min=-$,this.max=i+$}return n.prototype.insert=function(i,d,g,h,v){this._forEachCell(d,g,h,v,this._insertCell,this.uid++),this.keys.push(i),this.bboxes.push(d),this.bboxes.push(g),this.bboxes.push(h),this.bboxes.push(v)},n.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},n.prototype._insertCell=function(i,d,g,h,v,S){this.cells[v].push(S)},n.prototype.query=function(i,d,g,h,v){var S=this.min,M=this.max;if(i<=S&&d<=S&&M<=g&&M<=h&&!v)return Array.prototype.slice.call(this.keys);var A=[];return this._forEachCell(i,d,g,h,this._queryCell,A,{},v),A},n.prototype._queryCell=function(i,d,g,h,v,S,M,A){var b=this.cells[v];if(b!==null)for(var P=this.keys,$=this.bboxes,T=0;T<b.length;T++){var O=b[T];if(M[O]===void 0){var N=4*O;(A?A($[N+0],$[N+1],$[N+2],$[N+3]):i<=$[N+2]&&d<=$[N+3]&&g>=$[N+0]&&h>=$[N+1])?(M[O]=!0,S.push(P[O])):M[O]=!1}}},n.prototype._forEachCell=function(i,d,g,h,v,S,M,A){for(var b=this._convertToCellCoord(i),P=this._convertToCellCoord(d),$=this._convertToCellCoord(g),T=this._convertToCellCoord(h),O=b;O<=$;O++)for(var N=P;N<=T;N++){var W=this.d*N+O;if((!A||A(this._convertFromCellCoord(O),this._convertFromCellCoord(N),this._convertFromCellCoord(O+1),this._convertFromCellCoord(N+1)))&&v.call(this,i,d,g,h,W,S,M,A))return}},n.prototype._convertFromCellCoord=function(i){return(i-this.padding)/this.scale},n.prototype._convertToCellCoord=function(i){return Math.max(0,Math.min(this.d-1,Math.floor(i*this.scale)+this.padding))},n.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var i=this.cells,d=u+this.cells.length+1+1,g=0,h=0;h<this.cells.length;h++)g+=this.cells[h].length;var v=new Int32Array(d+g+this.keys.length+this.bboxes.length);v[0]=this.extent,v[1]=this.n,v[2]=this.padding;for(var S=d,M=0;M<i.length;M++){var A=i[M];v[u+M]=S,v.set(A,S),S+=A.length}return v[u+i.length]=S,v.set(this.keys,S),v[u+i.length+1]=S+=this.keys.length,v.set(this.bboxes,S),S+=this.bboxes.length,v.buffer},hm}(),zd=xe(Zg);const ep={};function _o(u,n,i={}){Object.defineProperty(u,"_classRegistryKey",{value:n,writable:!1}),ep[n]={klass:u,omit:i.omit||[]}}_o(Object,"Object"),zd.serialize=function(u,n){const i=u.toArrayBuffer();return n&&n.add(i),{buffer:i}},zd.deserialize=function(u){return new zd(u.buffer)},Object.defineProperty(zd,"name",{value:"Grid"}),_o(zd,"Grid"),typeof DOMMatrix!="undefined"&&_o(DOMMatrix,"DOMMatrix"),_o(_e,"Color"),_o(Error,"Error"),_o(Lr,"Formatted"),_o(Rr,"FormattedSection"),_o(Zr,"AJAXError"),_o(vi,"ResolvedImage"),_o(ch,"StylePropertyFunction"),_o(Uu,"StyleExpression",{omit:["_evaluator"]}),_o(Mr,"ImageIdWithOptions"),_o(df,"ZoomDependentExpression"),_o(lh,"ZoomConstantExpression"),_o(wa,"CompoundExpression",{omit:["_evaluate"]});for(const u in wn)ep[wn[u]._classRegistryKey]||_o(wn[u],`Expression${u}`);function tp(u){return u&&typeof ArrayBuffer!="undefined"&&(u instanceof ArrayBuffer||u.constructor&&u.constructor.name==="ArrayBuffer")}function pm(u){return self.ImageBitmap&&u instanceof ImageBitmap}function Nd(u,n){if(u==null||typeof u=="boolean"||typeof u=="number"||typeof u=="string"||u instanceof Boolean||u instanceof Number||u instanceof String||u instanceof Date||u instanceof RegExp)return u;if(tp(u)||pm(u))return n&&n.add(u),u;if(ArrayBuffer.isView(u))return n&&n.add(u.buffer),u;if(u instanceof ImageData)return n&&n.add(u.data.buffer),u;if(Array.isArray(u)){const i=[];for(const d of u)i.push(Nd(d,n));return i}if(u instanceof Map){const i={$name:"Map"};for(const[d,g]of u.entries())i[d]=Nd(g);return i}if(u instanceof Set){const i={$name:"Set"};let d=0;for(const g of u.values())i[++d]=Nd(g);return i}if(typeof u=="object"){const i=u.constructor,d=i._classRegistryKey;if(!d)throw new Error(`Can't serialize object of unregistered class "${d}".`);const g=i.serialize?i.serialize(u,n):{};if(!i.serialize){for(const h in u)u.hasOwnProperty(h)&&(ep[d].omit.indexOf(h)>=0||(g[h]=Nd(u[h],n)));u instanceof Error&&(g.message=u.message)}if(g.$name)throw new Error("$name property is reserved for worker serialization logic.");return d!=="Object"&&(g.$name=d),g}throw new Error("can't serialize object of type "+typeof u)}function fd(u){if(u==null||typeof u=="boolean"||typeof u=="number"||typeof u=="string"||u instanceof Boolean||u instanceof Number||u instanceof String||u instanceof Date||u instanceof RegExp||tp(u)||pm(u)||ArrayBuffer.isView(u)||u instanceof ImageData)return u;if(Array.isArray(u))return u.map(fd);if(typeof u=="object"){const n=u.$name||"Object";if(n==="Map"){const g=new Map;for(const h of Object.keys(u))h!=="$name"&&g.set(h,fd(u[h]));return g}if(n==="Set"){const g=new Set;for(const h of Object.keys(u))h!=="$name"&&g.add(fd(u[h]));return g}const{klass:i}=ep[n];if(!i)throw new Error(`Can't deserialize unregistered class "${n}".`);if(i.deserialize)return i.deserialize(u);const d=Object.create(i.prototype);for(const g of Object.keys(u))g!=="$name"&&(d[g]=fd(u[g]));return d}throw new Error("can't deserialize object of type "+typeof u)}const ko={"Latin-1 Supplement":u=>u>=128&&u<=255,Arabic:u=>u>=1536&&u<=1791,"Arabic Supplement":u=>u>=1872&&u<=1919,"Arabic Extended-A":u=>u>=2208&&u<=2303,"Hangul Jamo":u=>u>=4352&&u<=4607,"Unified Canadian Aboriginal Syllabics":u=>u>=5120&&u<=5759,Khmer:u=>u>=6016&&u<=6143,"Unified Canadian Aboriginal Syllabics Extended":u=>u>=6320&&u<=6399,"General Punctuation":u=>u>=8192&&u<=8303,"Letterlike Symbols":u=>u>=8448&&u<=8527,"Number Forms":u=>u>=8528&&u<=8591,"Miscellaneous Technical":u=>u>=8960&&u<=9215,"Control Pictures":u=>u>=9216&&u<=9279,"Optical Character Recognition":u=>u>=9280&&u<=9311,"Enclosed Alphanumerics":u=>u>=9312&&u<=9471,"Geometric Shapes":u=>u>=9632&&u<=9727,"Miscellaneous Symbols":u=>u>=9728&&u<=9983,"Miscellaneous Symbols and Arrows":u=>u>=11008&&u<=11263,"CJK Radicals Supplement":u=>u>=11904&&u<=12031,"Kangxi Radicals":u=>u>=12032&&u<=12255,"Ideographic Description Characters":u=>u>=12272&&u<=12287,"CJK Symbols and Punctuation":u=>u>=12288&&u<=12351,Hiragana:u=>u>=12352&&u<=12447,Katakana:u=>u>=12448&&u<=12543,Bopomofo:u=>u>=12544&&u<=12591,"Hangul Compatibility Jamo":u=>u>=12592&&u<=12687,Kanbun:u=>u>=12688&&u<=12703,"Bopomofo Extended":u=>u>=12704&&u<=12735,"CJK Strokes":u=>u>=12736&&u<=12783,"Katakana Phonetic Extensions":u=>u>=12784&&u<=12799,"Enclosed CJK Letters and Months":u=>u>=12800&&u<=13055,"CJK Compatibility":u=>u>=13056&&u<=13311,"CJK Unified Ideographs Extension A":u=>u>=13312&&u<=19903,"Yijing Hexagram Symbols":u=>u>=19904&&u<=19967,"CJK Unified Ideographs":u=>u>=19968&&u<=40959,"Yi Syllables":u=>u>=40960&&u<=42127,"Yi Radicals":u=>u>=42128&&u<=42191,"Hangul Jamo Extended-A":u=>u>=43360&&u<=43391,"Hangul Syllables":u=>u>=44032&&u<=55215,"Hangul Jamo Extended-B":u=>u>=55216&&u<=55295,"Private Use Area":u=>u>=57344&&u<=63743,"CJK Compatibility Ideographs":u=>u>=63744&&u<=64255,"Arabic Presentation Forms-A":u=>u>=64336&&u<=65023,"Vertical Forms":u=>u>=65040&&u<=65055,"CJK Compatibility Forms":u=>u>=65072&&u<=65103,"Small Form Variants":u=>u>=65104&&u<=65135,"Arabic Presentation Forms-B":u=>u>=65136&&u<=65279,"Halfwidth and Fullwidth Forms":u=>u>=65280&&u<=65519,Osage:u=>u>=66736&&u<=66815,"CJK Unified Ideographs Extension B":u=>u>=131072&&u<=173791};function Wu(u){for(const n of u)if(np(n.charCodeAt(0)))return!0;return!1}function Vg(u){for(const n of u)if(!Hg(n.charCodeAt(0)))return!1;return!0}function Hg(u){return!(ko.Arabic(u)||ko["Arabic Supplement"](u)||ko["Arabic Extended-A"](u)||ko["Arabic Presentation Forms-A"](u)||ko["Arabic Presentation Forms-B"](u))}function np(u){return!(u!==746&&u!==747&&(u<4352||!(ko["Bopomofo Extended"](u)||ko.Bopomofo(u)||ko["CJK Compatibility Forms"](u)&&!(u>=65097&&u<=65103)||ko["CJK Compatibility Ideographs"](u)||ko["CJK Compatibility"](u)||ko["CJK Radicals Supplement"](u)||ko["CJK Strokes"](u)||!(!ko["CJK Symbols and Punctuation"](u)||u>=12296&&u<=12305||u>=12308&&u<=12319||u===12336)||ko["CJK Unified Ideographs Extension A"](u)||ko["CJK Unified Ideographs"](u)||ko["Enclosed CJK Letters and Months"](u)||ko["Hangul Compatibility Jamo"](u)||ko["Hangul Jamo Extended-A"](u)||ko["Hangul Jamo Extended-B"](u)||ko["Hangul Jamo"](u)||ko["Hangul Syllables"](u)||ko.Hiragana(u)||ko["Ideographic Description Characters"](u)||ko.Kanbun(u)||ko["Kangxi Radicals"](u)||ko["Katakana Phonetic Extensions"](u)||ko.Katakana(u)&&u!==12540||!(!ko["Halfwidth and Fullwidth Forms"](u)||u===65288||u===65289||u===65293||u>=65306&&u<=65310||u===65339||u===65341||u===65343||u>=65371&&u<=65503||u===65507||u>=65512&&u<=65519)||!(!ko["Small Form Variants"](u)||u>=65112&&u<=65118||u>=65123&&u<=65126)||ko["Unified Canadian Aboriginal Syllabics"](u)||ko["Unified Canadian Aboriginal Syllabics Extended"](u)||ko["Vertical Forms"](u)||ko["Yijing Hexagram Symbols"](u)||ko["Yi Syllables"](u)||ko["Yi Radicals"](u))))}function Bd(u){return!(np(u)||function(n){return!!(ko["Latin-1 Supplement"](n)&&(n===167||n===169||n===174||n===177||n===188||n===189||n===190||n===215||n===247)||ko["General Punctuation"](n)&&(n===8214||n===8224||n===8225||n===8240||n===8241||n===8251||n===8252||n===8258||n===8263||n===8264||n===8265||n===8273)||ko["Letterlike Symbols"](n)||ko["Number Forms"](n)||ko["Miscellaneous Technical"](n)&&(n>=8960&&n<=8967||n>=8972&&n<=8991||n>=8996&&n<=9e3||n===9003||n>=9085&&n<=9114||n>=9150&&n<=9165||n===9167||n>=9169&&n<=9179||n>=9186&&n<=9215)||ko["Control Pictures"](n)&&n!==9251||ko["Optical Character Recognition"](n)||ko["Enclosed Alphanumerics"](n)||ko["Geometric Shapes"](n)||ko["Miscellaneous Symbols"](n)&&!(n>=9754&&n<=9759)||ko["Miscellaneous Symbols and Arrows"](n)&&(n>=11026&&n<=11055||n>=11088&&n<=11097||n>=11192&&n<=11243)||ko["CJK Symbols and Punctuation"](n)||ko.Katakana(n)||ko["Private Use Area"](n)||ko["CJK Compatibility Forms"](n)||ko["Small Form Variants"](n)||ko["Halfwidth and Fullwidth Forms"](n)||n===8734||n===8756||n===8757||n>=9984&&n<=10087||n>=10102&&n<=10131||n===65532||n===65533)}(u))}function rp(u){return u>=1424&&u<=2303||ko["Arabic Presentation Forms-A"](u)||ko["Arabic Presentation Forms-B"](u)}function mm(u,n){return!(!n&&rp(u)||u>=2304&&u<=3583||u>=3840&&u<=4255||ko.Khmer(u))}function ip(u){for(const n of u)if(rp(n.charCodeAt(0)))return!0;return!1}const ff="deferred",uh="loading",gm="loaded";let Ac=null,Vc="unavailable",hd=null;const vm=function(u){u&&typeof u=="string"&&u.indexOf("NetworkError")>-1&&(Vc="error"),Ac&&Ac(u)};function op(){hf.fire(new Eo("pluginStateChange",{pluginStatus:Vc,pluginURL:hd}))}const hf=new po,ap=function(){return Vc},pf=function(){if(Vc!==ff||!hd)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");Vc=uh,op(),hd&&Sn({url:hd},u=>{u?vm(u):(Vc=gm,op())})},au={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:()=>Vc===gm||au.applyArabicShaping!=null,isLoading:()=>Vc===uh,setState(u){Vc=u.pluginStatus,hd=u.pluginURL},isParsed:()=>au.applyArabicShaping!=null&&au.processBidirectionalText!=null&&au.processStyledBidirectionalText!=null,getPluginURL:()=>hd};class Ws{constructor(n,i){this.zoom=n,i?(this.now=i.now,this.fadeDuration=i.fadeDuration,this.transition=i.transition,this.pitch=i.pitch,this.brightness=i.brightness):(this.now=0,this.fadeDuration=0,this.transition={},this.pitch=0,this.brightness=0)}isSupportedScript(n){return function(i,d){for(const g of i)if(!mm(g.charCodeAt(0),d))return!1;return!0}(n,au.isLoaded())}}class sp{constructor(n,i,d,g){this.property=n,this.value=i,this.expression=function(h,v,S,M){if(Jc(h))return new ch(h,v);if(cf(h)||Array.isArray(h)&&h.length>0){const A=fm(h,v,S,M);if(A.result==="error")throw new Error(A.value.map(b=>`${b.key}: ${b.message}`).join(", "));return A.value}{let A=h;return typeof h=="string"&&v.type==="color"&&(A=_e.parse(h)),{kind:"constant",configDependencies:new Set,evaluate:()=>A}}}(i===void 0?n.specification.default:i,n.specification,d,g)}isDataDriven(){return this.expression.kind==="source"||this.expression.kind==="composite"}possiblyEvaluate(n,i,d){return this.property.possiblyEvaluate(this,n,i,d)}}class dh{constructor(n,i,d){this.property=n,this.value=new sp(n,void 0,i,d)}transitioned(n,i){return new ym(this.property,this.value,i,Jr({},n.transition,this.transition),n.now)}untransitioned(){return new ym(this.property,this.value,null,{},0)}}class lp{constructor(n,i,d){this._properties=n,this._values=Object.create(n.defaultTransitionablePropertyValues),this._scope=i,this._options=d,this.configDependencies=new Set}getValue(n){return gr(this._values[n].value.value)}setValue(n,i){this._values.hasOwnProperty(n)||(this._values[n]=new dh(this._values[n].property,this._scope,this._options)),this._values[n].value=new sp(this._values[n].property,i===null?void 0:gr(i),this._scope,this._options),this._values[n].value.expression.configDependencies&&(this.configDependencies=new Set([...this.configDependencies,...this._values[n].value.expression.configDependencies]))}setTransitionOrValue(n,i){i&&(this._options=i);const d=this._properties.properties;if(n)for(const g in n){const h=n[g];if(Ir(g,"-transition")){const v=g.slice(0,-11);d[v]&&this.setTransition(v,h)}else d.hasOwnProperty(g)&&this.setValue(g,h)}}getTransition(n){return gr(this._values[n].transition)}setTransition(n,i){this._values.hasOwnProperty(n)||(this._values[n]=new dh(this._values[n].property)),this._values[n].transition=gr(i)||void 0}serialize(){const n={};for(const i of Object.keys(this._values)){const d=this.getValue(i);d!==void 0&&(n[i]=d);const g=this.getTransition(i);g!==void 0&&(n[`${i}-transition`]=g)}return n}transitioned(n,i){const d=new fh(this._properties);for(const g of Object.keys(this._values))d._values[g]=this._values[g].transitioned(n,i._values[g]);return d}untransitioned(){const n=new fh(this._properties);for(const i of Object.keys(this._values))n._values[i]=this._values[i].untransitioned();return n}}class ym{constructor(n,i,d,g,h){const v=g.delay||0,S=g.duration||0;h=h||0,this.property=n,this.value=i,this.begin=h+v,this.end=this.begin+S,n.specification.transition&&(g.delay||g.duration)&&(this.prior=d)}possiblyEvaluate(n,i,d){const g=n.now||0,h=this.value.possiblyEvaluate(n,i,d),v=this.prior;if(v){if(g>this.end)return this.prior=null,h;if(this.value.isDataDriven())return this.prior=null,h;if(g<this.begin)return v.possiblyEvaluate(n,i,d);{const S=(g-this.begin)/(this.end-this.begin);return this.property.interpolate(v.possiblyEvaluate(n,i,d),h,fn(S))}}return h}}class fh{constructor(n){this._properties=n,this._values=Object.create(n.defaultTransitioningPropertyValues)}possiblyEvaluate(n,i,d){const g=new Fd(this._properties);for(const h of Object.keys(this._values))g._values[h]=this._values[h].possiblyEvaluate(n,i,d);return g}hasTransition(){for(const n of Object.keys(this._values))if(this._values[n].prior)return!0;return!1}}class hh{constructor(n,i,d){this._properties=n,this._values=Object.create(n.defaultPropertyValues),this._scope=i,this._options=d,this.configDependencies=new Set}getValue(n){return gr(this._values[n].value)}setValue(n,i){this._values[n]=new sp(this._values[n].property,i===null?void 0:gr(i),this._scope,this._options),this._values[n].expression.configDependencies&&(this.configDependencies=new Set([...this.configDependencies,...this._values[n].expression.configDependencies]))}serialize(){const n={};for(const i of Object.keys(this._values)){const d=this.getValue(i);d!==void 0&&(n[i]=d)}return n}possiblyEvaluate(n,i,d){const g=new Fd(this._properties);for(const h of Object.keys(this._values))g._values[h]=this._values[h].possiblyEvaluate(n,i,d);return g}}class mf{constructor(n,i,d){this.property=n,this.value=i,this.parameters=d}isConstant(){return this.value.kind==="constant"}constantOr(n){return this.value.kind==="constant"?this.value.value:n}evaluate(n,i,d,g){return this.property.evaluate(this.value,this.parameters,n,i,d,g)}}class Fd{constructor(n){this._properties=n,this._values=Object.create(n.defaultPossiblyEvaluatedValues)}get(n){return this._values[n]}}class Mi{constructor(n){this.specification=n}possiblyEvaluate(n,i){return n.expression.evaluate(i)}interpolate(n,i,d){const g=Qn[this.specification.type];return g?g(n,i,d):n}}class so{constructor(n,i){this.specification=n,this.overrides=i}possiblyEvaluate(n,i,d,g){return new mf(this,n.expression.kind==="constant"||n.expression.kind==="camera"?{kind:"constant",value:n.expression.evaluate(i,null,{},d,g)}:n.expression,i)}interpolate(n,i,d){if(n.value.kind!=="constant"||i.value.kind!=="constant")return n;if(n.value.value===void 0||i.value.value===void 0)return new mf(this,{kind:"constant",value:void 0},n.parameters);const g=Qn[this.specification.type];return g?new mf(this,{kind:"constant",value:g(n.value.value,i.value.value,d)},n.parameters):n}evaluate(n,i,d,g,h,v){return n.kind==="constant"?n.value:n.evaluate(i,d,g,h,v)}}class kd{constructor(n){this.specification=n}possiblyEvaluate(n,i,d,g){return!!n.expression.evaluate(i,null,{},d,g)}interpolate(){return!1}}class nl{constructor(n){this.properties=n,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];const i=new Ws(0,{});for(const d in n){const g=n[d];g.specification.overridable&&this.overridableProperties.push(d);const h=this.defaultPropertyValues[d]=new sp(g,void 0),v=this.defaultTransitionablePropertyValues[d]=new dh(g);this.defaultTransitioningPropertyValues[d]=v.untransitioned(),this.defaultPossiblyEvaluatedValues[d]=h.possiblyEvaluate(i)}}}_o(so,"DataDrivenProperty"),_o(Mi,"DataConstantProperty"),_o(kd,"ColorRampProperty");var er=JSON.parse('{"$version":8,"$root":{"version":{"required":true,"type":"enum","values":[8]},"fragment":{"type":"boolean"},"name":{"type":"string"},"metadata":{"type":"*"},"center":{"type":"array","value":"number"},"zoom":{"type":"number"},"bearing":{"type":"number","default":0,"period":360},"pitch":{"type":"number","default":0},"light":{"type":"light"},"lights":{"required":false,"type":"array","value":"light-3d"},"terrain":{"type":"terrain","optional":true},"fog":{"type":"fog"},"snow":{"type":"snow","experimental":true},"rain":{"type":"rain","experimental":true},"camera":{"type":"camera"},"color-theme":{"type":"colorTheme"},"indoor":{"type":"indoor","experimental":true},"imports":{"type":"array","value":"import"},"schema":{"type":"schema"},"sources":{"required":true,"type":"sources"},"sprite":{"type":"string"},"glyphs":{"type":"string","default":"mapbox://fonts/mapbox/{fontstack}/{range}.pbf"},"transition":{"type":"transition"},"projection":{"type":"projection"},"layers":{"required":true,"type":"array","value":"layer"},"models":{"type":"models"},"featuresets":{"experimental":true,"type":"featuresets"}},"featuresets":{"experimental":true,"*":{"type":"featureset"}},"featureset":{"experimental":true,"metadata":{"experimental":true,"type":"*"},"selectors":{"experimental":true,"type":"array","value":"selector"}},"selector":{"experimental":true,"layer":{"experimental":true,"type":"string","required":true},"properties":{"experimental":true,"type":"selectorProperty","required":false},"featureNamespace":{"experimental":true,"type":"string","required":false},"_uniqueFeatureID":{"experimental":true,"type":"boolean","private":true,"required":false}},"selectorProperty":{"experimental":true,"*":{"experimental":true,"type":"*"}},"model":{"type":"string","required":true},"import":{"id":{"type":"string","required":true},"url":{"type":"string","required":true},"config":{"type":"config"},"data":{"type":"$root"},"color-theme":{"type":"colorTheme","optional":true}},"config":{"*":{"type":"*"}},"schema":{"*":{"type":"option"}},"option":{"default":{"type":"*","property-type":"data-constant","expression":{},"required":true},"type":{"type":"enum","values":{"string":1,"number":1,"boolean":1,"color":1}},"array":{"type":"boolean"},"minValue":{"type":"number"},"maxValue":{"type":"number"},"stepValue":{"type":"number"},"values":{"type":"array","value":"*"},"metadata":{"type":"*"}},"models":{"*":{"type":"model"}},"light-3d":{"id":{"type":"string","required":true},"properties":{"type":"properties"},"type":{"type":"enum","values":{"ambient":{},"directional":{},"flat":{}}}},"properties":["properties_light_directional","properties_light_ambient","properties_light_flat"],"properties_light_directional":{"direction":{"type":"array","default":[210,30],"minimum":[0,0],"maximum":[360,90],"length":2,"value":"number","property-type":"data-constant","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"color":{"type":"color","property-type":"data-constant","default":"#ffffff","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"intensity":{"type":"number","property-type":"data-constant","default":0.5,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"cast-shadows":{"type":"boolean","default":false,"property-type":"data-constant"},"shadow-quality":{"type":"number","property-type":"data-constant","default":1,"minimum":0,"maximum":1,"expression":{"parameters":["zoom"]},"experimental":true},"shadow-intensity":{"type":"number","property-type":"data-constant","default":1,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true}},"properties_light_ambient":{"color":{"type":"color","property-type":"data-constant","default":"#ffffff","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"intensity":{"type":"number","property-type":"data-constant","default":0.5,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true}},"properties_light_flat":{"anchor":{"type":"enum","default":"viewport","values":{"map":1,"viewport":1},"property-type":"data-constant","expression":{"parameters":["zoom"]}},"position":{"type":"array","default":[1.15,210,30],"length":3,"value":"number","property-type":"data-constant","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"color":{"type":"color","property-type":"data-constant","default":"#ffffff","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"intensity":{"type":"number","property-type":"data-constant","default":0.5,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true}},"sources":{"*":{"type":"source"}},"source":["source_vector","source_raster","source_raster_dem","source_raster_array","source_geojson","source_video","source_image","source_model"],"source_vector":{"type":{"required":true,"type":"enum","values":{"vector":1}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"scheme":{"type":"enum","values":{"xyz":1,"tms":1},"default":"xyz"},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"attribution":{"type":"string"},"promoteId":{"type":"promoteId"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_raster":{"type":{"required":true,"type":"enum","values":{"raster":1}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"tileSize":{"type":"number","default":512},"scheme":{"type":"enum","values":{"xyz":1,"tms":1},"default":"xyz"},"attribution":{"type":"string"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_raster_dem":{"type":{"required":true,"type":"enum","values":{"raster-dem":1}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"tileSize":{"type":"number","default":512},"attribution":{"type":"string"},"encoding":{"type":"enum","values":{"terrarium":1,"mapbox":1},"default":"mapbox"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_raster_array":{"experimental":true,"type":{"required":true,"type":"enum","values":{"raster-array":1}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"tileSize":{"type":"number","default":512},"attribution":{"type":"string"},"rasterLayers":{"type":"*"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_geojson":{"type":{"required":true,"type":"enum","values":{"geojson":1}},"data":{"type":"*"},"maxzoom":{"type":"number","default":18},"minzoom":{"type":"number","default":0},"attribution":{"type":"string"},"buffer":{"type":"number","default":128,"maximum":512,"minimum":0},"filter":{"type":"*"},"tolerance":{"type":"number","default":0.375},"cluster":{"type":"boolean","default":false},"clusterRadius":{"type":"number","default":50,"minimum":0},"clusterMaxZoom":{"type":"number"},"clusterMinPoints":{"type":"number"},"clusterProperties":{"type":"*"},"lineMetrics":{"type":"boolean","default":false},"generateId":{"type":"boolean","default":false},"promoteId":{"type":"promoteId"},"dynamic":{"type":"boolean","default":false}},"source_video":{"type":{"required":true,"type":"enum","values":{"video":1}},"urls":{"required":true,"type":"array","value":"string"},"coordinates":{"required":true,"type":"array","length":4,"value":{"type":"array","length":2,"value":"number"}}},"source_image":{"type":{"required":true,"type":"enum","values":{"image":1}},"url":{"required":false,"type":"string"},"coordinates":{"required":true,"type":"array","length":4,"value":{"type":"array","length":2,"value":"number"}}},"source_model":{"type":{"required":true,"type":"enum","values":{"model":1,"batched-model":1}},"maxzoom":{"type":"number","default":18},"minzoom":{"type":"number","default":0},"tiles":{"type":"array","value":"string"}},"layer":{"id":{"type":"string","required":true},"type":{"type":"enum","values":{"fill":{},"line":{},"symbol":{},"circle":{},"heatmap":{},"fill-extrusion":{},"raster":{},"raster-particle":{"experimental":true},"hillshade":{},"model":{"experimental":true},"background":{},"sky":{},"slot":{},"clip":{}},"required":true},"metadata":{"type":"*"},"source":{"type":"string"},"source-layer":{"type":"string"},"slot":{"type":"string"},"minzoom":{"type":"number","minimum":0,"maximum":24},"maxzoom":{"type":"number","minimum":0,"maximum":24},"filter":{"type":"filter"},"layout":{"type":"layout"},"paint":{"type":"paint"}},"layout":["layout_clip","layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_raster-particle","layout_hillshade","layout_background","layout_sky","layout_model"],"layout_background":{"visibility":{"type":"enum","values":{"visible":1,"none":1},"default":"visible","expression":{},"property-type":"constant"}},"layout_sky":{"visibility":{"type":"enum","values":{"visible":1,"none":1},"default":"visible","expression":{},"property-type":"constant"}},"layout_model":{"visibility":{"type":"enum","values":{"visible":1,"none":1},"default":"visible","expression":{},"property-type":"constant"},"model-id":{"type":"string","default":"","property-type":"data-driven","expression":{"parameters":["zoom","feature"]}}},"layout_clip":{"clip-layer-types":{"type":"array","value":"enum","values":{"model":1,"symbol":1},"default":[],"expression":{},"property-type":"data-constant"},"clip-layer-scope":{"type":"array","value":"string","default":[],"expression":{},"property-type":"data-constant"}},"layout_fill":{"fill-sort-key":{"type":"number","expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"visibility":{"type":"enum","values":{"visible":1,"none":1},"default":"visible","expression":{},"property-type":"constant"},"fill-elevation-reference":{"type":"enum","values":{"none":1,"hd-road-base":1,"hd-road-markup":1},"default":"none","experimental":true,"private":true,"expression":{},"property-type":"data-constant"}},"layout_circle":{"circle-sort-key":{"type":"number","expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"circle-elevation-reference":{"type":"enum","values":{"none":1,"hd-road-markup":1},"default":"none","experimental":true,"expression":{},"property-type":"data-constant"},"visibility":{"type":"enum","values":{"visible":1,"none":1},"default":"visible","expression":{},"property-type":"constant"}},"layout_heatmap":{"visibility":{"type":"enum","values":{"visible":1,"none":1},"default":"visible","expression":{},"property-type":"constant"}},"layout_fill-extrusion":{"visibility":{"type":"enum","values":{"visible":1,"none":1},"default":"visible","expression":{},"property-type":"constant"},"fill-extrusion-edge-radius":{"type":"number","experimental":true,"default":0,"minimum":0,"maximum":1,"expression":{},"property-type":"constant"}},"layout_line":{"line-cap":{"type":"enum","values":{"butt":1,"round":1,"square":1},"default":"butt","expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-join":{"type":"enum","values":{"bevel":1,"round":1,"miter":1,"none":1},"default":"miter","expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{"type":"number","default":2,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-round-limit":{"type":"number","default":1.05,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-sort-key":{"type":"number","expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-z-offset":{"type":"number","experimental":true,"default":0,"expression":{"parameters":["zoom","feature","line-progress"]},"property-type":"data-driven"},"line-elevation-reference":{"type":"enum","values":{"none":1,"sea":1,"ground":1,"hd-road-markup":1},"default":"none","experimental":true,"expression":{},"property-type":"data-constant"},"line-cross-slope":{"type":"number","experimental":true,"expression":{},"property-type":"constant"},"visibility":{"type":"enum","values":{"visible":1,"none":1},"default":"visible","expression":{},"property-type":"constant"},"line-width-unit":{"type":"enum","values":{"pixels":1,"meters":1},"default":"pixels","experimental":true,"private":true,"expression":{"parameters":["zoom"]},"property-type":"data-constant"}},"layout_symbol":{"symbol-placement":{"type":"enum","values":{"point":1,"line":1,"line-center":1},"default":"point","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"symbol-spacing":{"type":"number","default":250,"minimum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{"type":"boolean","default":false,"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{"type":"number","expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{"type":"enum","values":{"auto":1,"viewport-y":1,"source":1},"default":"auto","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"symbol-z-elevate":{"type":"boolean","default":false,"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"symbol-elevation-reference":{"type":"enum","values":{"sea":1,"ground":1,"hd-road-markup":1},"default":"ground","experimental":true,"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{"type":"boolean","default":false,"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{"type":"boolean","default":false,"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"icon-optional":{"type":"boolean","default":false,"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{"type":"enum","values":{"map":1,"viewport":1,"auto":1},"default":"auto","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"icon-size":{"type":"number","default":1,"minimum":0,"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-size-scale-range":{"type":"array","value":"number","length":2,"default":[0.8,2],"minimum":0.1,"maximum":10,"experimental":true,"private":true,"expression":{},"property-type":"data-constant"},"icon-text-fit":{"type":"enum","values":{"none":1,"width":1,"height":1,"both":1},"default":"none","expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit-padding":{"type":"array","value":"number","length":4,"default":[0,0,0,0],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-image":{"type":"resolvedImage","tokens":true,"expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{"type":"number","default":0,"period":360,"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{"type":"number","default":2,"minimum":0,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{"type":"boolean","default":false,"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"icon-offset":{"type":"array","value":"number","length":2,"default":[0,0],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{"type":"enum","values":{"center":1,"left":1,"right":1,"top":1,"bottom":1,"top-left":1,"top-right":1,"bottom-left":1,"bottom-right":1},"default":"center","expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{"type":"enum","values":{"map":1,"viewport":1,"auto":1},"default":"auto","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{"type":"enum","values":{"map":1,"viewport":1,"auto":1},"default":"auto","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{"type":"enum","values":{"map":1,"viewport":1,"auto":1},"default":"auto","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"text-field":{"type":"formatted","default":"","tokens":true,"expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-font":{"type":"array","value":"string","default":["Open Sans Regular","Arial Unicode MS Regular"],"expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-size":{"type":"number","default":16,"minimum":0,"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-size-scale-range":{"type":"array","value":"number","length":2,"default":[0.8,2],"minimum":0.1,"maximum":10,"experimental":true,"private":true,"expression":{},"property-type":"data-constant"},"text-max-width":{"type":"number","default":10,"minimum":0,"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{"type":"number","default":1.2,"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-letter-spacing":{"type":"number","default":0,"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-justify":{"type":"enum","values":{"auto":1,"left":1,"center":1,"right":1},"default":"center","expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{"type":"number","default":0,"property-type":"data-driven","expression":{"interpolated":true,"parameters":["zoom","feature"]}},"text-variable-anchor":{"type":"array","value":"enum","values":{"center":1,"left":1,"right":1,"top":1,"bottom":1,"top-left":1,"top-right":1,"bottom-left":1,"bottom-right":1},"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"text-anchor":{"type":"enum","values":{"center":1,"left":1,"right":1,"top":1,"bottom":1,"top-left":1,"top-right":1,"bottom-left":1,"bottom-right":1},"default":"center","expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{"type":"number","default":45,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-writing-mode":{"type":"array","value":"enum","values":{"horizontal":1,"vertical":1},"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"text-rotate":{"type":"number","default":0,"period":360,"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-padding":{"type":"number","default":2,"minimum":0,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-keep-upright":{"type":"boolean","default":true,"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"text-transform":{"type":"enum","values":{"none":1,"uppercase":1,"lowercase":1},"default":"none","expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-offset":{"type":"array","value":"number","length":2,"default":[0,0],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{"type":"boolean","default":false,"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{"type":"boolean","default":false,"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"text-optional":{"type":"boolean","default":false,"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"visibility":{"type":"enum","values":{"visible":1,"none":1},"default":"visible","expression":{},"property-type":"constant"}},"layout_raster":{"visibility":{"type":"enum","values":{"visible":1,"none":1},"default":"visible","expression":{},"property-type":"constant"}},"layout_raster-particle":{"visibility":{"type":"enum","values":{"visible":1,"none":1},"default":"visible","expression":{},"property-type":"constant"}},"layout_hillshade":{"visibility":{"type":"enum","values":{"visible":1,"none":1},"default":"visible","expression":{},"property-type":"constant"}},"filter":{"type":"array","value":"*"},"filter_symbol":{"type":"boolean","default":false,"property-type":"data-driven","expression":{"parameters":["zoom","feature","pitch","distance-from-center"]}},"filter_fill":{"type":"boolean","default":false,"property-type":"data-driven","expression":{"parameters":["zoom","feature"]}},"filter_hillshade":{"type":"boolean","default":false,"property-type":"data-driven","expression":{"parameters":["zoom","feature"]}},"filter_raster":{"type":"boolean","default":false,"property-type":"data-driven","expression":{"parameters":["zoom","feature"]}},"filter_raster-particle":{"type":"boolean","default":false,"property-type":"data-driven","expression":{"parameters":["zoom","feature"]}},"filter_clip":{"type":"boolean","default":false,"property-type":"data-driven","expression":{"parameters":["zoom","feature"]}},"filter_model":{"type":"boolean","default":false,"property-type":"data-driven","expression":{"parameters":["zoom","feature"]}},"filter_line":{"type":"boolean","default":false,"property-type":"data-driven","expression":{"parameters":["zoom","feature"]}},"filter_circle":{"type":"boolean","default":false,"property-type":"data-driven","expression":{"parameters":["zoom","feature"]}},"filter_fill-extrusion":{"type":"boolean","default":false,"property-type":"data-driven","expression":{"parameters":["zoom","feature"]}},"filter_heatmap":{"type":"boolean","default":false,"property-type":"data-driven","expression":{"parameters":["zoom","feature"]}},"filter_operator":{"type":"enum","values":{"==":1,"!=":1,">":1,">=":1,"<":1,"<=":1,"in":1,"!in":1,"all":1,"any":1,"none":1,"has":1,"!has":1}},"geometry_type":{"type":"enum","values":{"Point":1,"LineString":1,"Polygon":1}},"function":{"expression":{"type":"expression"},"stops":{"type":"array","value":"function_stop"},"base":{"type":"number","default":1,"minimum":0},"property":{"type":"string","default":"$zoom"},"type":{"type":"enum","values":{"identity":1,"exponential":1,"interval":1,"categorical":1},"default":"exponential"},"colorSpace":{"type":"enum","values":{"rgb":1,"lab":1,"hcl":1},"default":"rgb"},"default":{"type":"*","required":false}},"function_stop":{"type":"array","minimum":0,"maximum":24,"value":["number","color"],"length":2},"expression":{"type":"array","value":"*","minimum":1},"fog":{"range":{"type":"array","default":[0.5,10],"minimum":-20,"maximum":20,"length":2,"value":"number","property-type":"data-constant","transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true}},"color":{"type":"color","property-type":"data-constant","default":"#ffffff","expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true},"transition":true},"high-color":{"type":"color","property-type":"data-constant","default":"#245cdf","expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true},"transition":true},"space-color":{"type":"color","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],4,"#010b19",7,"#367ab9"],"expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true},"transition":true},"horizon-blend":{"type":"number","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],4,0.2,7,0.1],"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true},"transition":true},"star-intensity":{"type":"number","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],5,0.35,6,0],"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true},"transition":true},"vertical-range":{"type":"array","default":[0,0],"minimum":0,"length":2,"value":"number","property-type":"data-constant","transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true}}},"snow":{"density":{"type":"number","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],11,0,13,0.85],"minimum":0,"maximum":1,"experimental":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true},"transition":true},"intensity":{"type":"number","property-type":"data-constant","default":1,"minimum":0,"maximum":1,"experimental":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true},"transition":true},"color":{"type":"color","property-type":"data-constant","default":"#ffffff","experimental":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true},"transition":true},"opacity":{"type":"number","property-type":"data-constant","default":1,"minimum":0,"maximum":1,"experimental":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true},"transition":true},"vignette":{"type":"number","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],11,0,13,0.3],"minimum":0,"maximum":1,"experimental":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true},"transition":true},"vignette-color":{"type":"color","property-type":"data-constant","default":"#ffffff","experimental":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true},"transition":true},"center-thinning":{"type":"number","property-type":"data-constant","default":0.4,"minimum":0,"maximum":1,"experimental":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true},"transition":true},"direction":{"type":"array","default":[0,50],"minimum":0,"maximum":360,"length":2,"value":"number","property-type":"data-constant","transition":true,"experimental":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true}},"flake-size":{"type":"number","property-type":"data-constant","default":0.71,"minimum":0,"maximum":5,"experimental":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true},"transition":true}},"rain":{"density":{"type":"number","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],11,0,13,0.5],"minimum":0,"maximum":1,"experimental":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true},"transition":true},"intensity":{"type":"number","property-type":"data-constant","default":1,"minimum":0,"maximum":1,"experimental":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true},"transition":true},"color":{"type":"color","property-type":"data-constant","default":["interpolate",["linear"],["measure-light","brightness"],0,"#03113d",0.3,"#a8adbc"],"experimental":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true},"transition":true},"opacity":{"type":"number","property-type":"data-constant","default":["interpolate",["linear"],["measure-light","brightness"],0,0.88,1,0.7],"minimum":0,"maximum":1,"experimental":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true},"transition":true},"vignette":{"type":"number","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],11,0,13,1],"minimum":0,"maximum":1,"experimental":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true},"transition":true},"vignette-color":{"type":"color","property-type":"data-constant","default":["interpolate",["linear"],["measure-light","brightness"],0,"#001736",0.3,"#464646"],"experimental":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true},"transition":true},"center-thinning":{"type":"number","property-type":"data-constant","default":0.57,"minimum":0,"maximum":1,"experimental":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true},"transition":true},"direction":{"type":"array","default":[0,80],"minimum":0,"maximum":360,"length":2,"value":"number","property-type":"data-constant","transition":true,"experimental":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true}},"droplet-size":{"type":"array","default":[2.6,18.2],"minimum":0,"maximum":50,"length":2,"value":"number","property-type":"data-constant","transition":true,"experimental":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true}},"distortion-strength":{"type":"number","property-type":"data-constant","default":0.7,"minimum":0,"maximum":1,"experimental":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true},"transition":true}},"camera":{"camera-projection":{"type":"enum","values":{"perspective":1,"orthographic":1},"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"default":"perspective","property-type":"data-constant"}},"colorTheme":{"data":{"type":"string","property-type":"data-constant","expression":{}}},"indoor":{"floorplanFeaturesetId":{"type":"string","experimental":true,"property-type":"data-constant","expression":{}},"buildingFeaturesetId":{"type":"string","experimental":true,"property-type":"data-constant","expression":{}}},"light":{"anchor":{"type":"enum","default":"viewport","values":{"map":1,"viewport":1},"property-type":"data-constant","expression":{"parameters":["zoom"]}},"position":{"type":"array","default":[1.15,210,30],"length":3,"value":"number","property-type":"data-constant","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"color":{"type":"color","property-type":"data-constant","default":"#ffffff","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"intensity":{"type":"number","property-type":"data-constant","default":0.5,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true}},"projection":{"name":{"type":"enum","values":{"albers":1,"equalEarth":1,"equirectangular":1,"lambertConformalConic":1,"mercator":1,"naturalEarth":1,"winkelTripel":1,"globe":1},"default":"mercator","required":true},"center":{"type":"array","length":2,"value":"number","property-type":"data-constant","minimum":[-180,-90],"maximum":[180,90]},"parallels":{"type":"array","length":2,"value":"number","property-type":"data-constant","minimum":[-90,-90],"maximum":[90,90]}},"terrain":{"source":{"type":"string","required":true},"exaggeration":{"type":"number","property-type":"data-constant","default":1,"minimum":0,"maximum":1000,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true}},"paint":["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_raster-particle","paint_hillshade","paint_background","paint_sky","paint_model"],"paint_fill":{"fill-antialias":{"type":"boolean","default":true,"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"fill-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"fill-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"fill-outline-color":{"type":"color","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"fill-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{"type":"enum","values":{"map":1,"viewport":1},"default":"map","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"fill-pattern":{"type":"resolvedImage","expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"fill-emissive-strength":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"]},"property-type":"data-constant"},"fill-z-offset":{"type":"number","default":0,"minimum":0,"transition":true,"experimental":true,"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"fill-extrusion-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{"type":"enum","values":{"map":1,"viewport":1},"default":"map","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{"type":"resolvedImage","expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"fill-extrusion-height":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-height-alignment":{"type":"enum","experimental":true,"values":{"terrain":1,"flat":1},"default":"flat","property-type":"data-constant"},"fill-extrusion-base-alignment":{"type":"enum","experimental":true,"values":{"terrain":1,"flat":1},"default":"terrain","property-type":"data-constant"},"fill-extrusion-vertical-gradient":{"type":"boolean","default":true,"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-ambient-occlusion-intensity":{"property-type":"data-constant","type":"number","default":0,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"fill-extrusion-ambient-occlusion-radius":{"property-type":"data-constant","type":"number","default":3,"minimum":0,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"fill-extrusion-ambient-occlusion-wall-radius":{"property-type":"data-constant","type":"number","experimental":true,"default":3,"minimum":0,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"fill-extrusion-ambient-occlusion-ground-radius":{"property-type":"data-constant","type":"number","experimental":true,"default":3,"minimum":0,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"fill-extrusion-ambient-occlusion-ground-attenuation":{"property-type":"data-constant","type":"number","experimental":true,"default":0.69,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"fill-extrusion-flood-light-color":{"property-type":"data-constant","type":"color","experimental":true,"default":"#ffffff","transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"]}},"fill-extrusion-flood-light-intensity":{"property-type":"data-constant","type":"number","experimental":true,"default":0,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"]}},"fill-extrusion-flood-light-wall-radius":{"property-type":"data-driven","type":"number","experimental":true,"default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["feature","feature-state"]}},"fill-extrusion-flood-light-ground-radius":{"property-type":"data-driven","type":"number","experimental":true,"default":0,"transition":true,"expression":{"interpolated":true,"parameters":["feature","feature-state"]}},"fill-extrusion-flood-light-ground-attenuation":{"property-type":"data-constant","type":"number","experimental":true,"default":0.69,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"fill-extrusion-vertical-scale":{"property-type":"data-constant","type":"number","experimental":true,"default":1,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"fill-extrusion-rounded-roof":{"property-type":"data-constant","type":"boolean","default":true,"experimental":true,"expression":{"parameters":["zoom"]}},"fill-extrusion-cutoff-fade-range":{"type":"number","default":0,"minimum":0,"maximum":1,"expression":{},"property-type":"data-constant"},"fill-extrusion-emissive-strength":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light","feature-state"]},"property-type":"data-driven"},"fill-extrusion-line-width":{"type":"number","default":0,"minimum":0,"transition":true,"experimental":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"fill-extrusion-cast-shadows":{"type":"boolean","default":true,"property-type":"data-constant"}},"paint_line":{"line-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"line-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"line-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{"type":"enum","values":{"map":1,"viewport":1},"default":"map","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"line-width":{"type":"number","default":1,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light","line-progress"]},"property-type":"data-driven"},"line-gap-width":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"line-offset":{"type":"number","default":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"line-blur":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"line-dasharray":{"type":"array","value":"number","minimum":0,"expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-pattern":{"type":"resolvedImage","expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-gradient":{"type":"color","expression":{"interpolated":true,"parameters":["line-progress"]},"property-type":"color-ramp"},"line-trim-offset":{"type":"array","value":"number","length":2,"default":[0,0],"minimum":[0,0],"maximum":[1,1],"property-type":"constant"},"line-trim-fade-range":{"type":"array","value":"number","experimental":true,"length":2,"default":[0,0],"minimum":[0,0],"maximum":[1,1],"expression":{"interpolated":true,"parameters":["zoom","measure-light"]},"property-type":"data-constant"},"line-trim-color":{"type":"color","experimental":true,"default":"transparent","transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"]},"property-type":"data-constant"},"line-emissive-strength":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"]},"property-type":"data-constant"},"line-border-width":{"type":"number","private":true,"default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-border-color":{"type":"color","private":true,"default":"rgba(0, 0, 0, 0)","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-occlusion-opacity":{"type":"number","default":0,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true,"property-type":"data-constant"}},"paint_circle":{"circle-radius":{"type":"number","default":5,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"circle-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"circle-blur":{"type":"number","default":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"circle-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"circle-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{"type":"enum","values":{"map":1,"viewport":1},"default":"map","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{"type":"enum","values":{"map":1,"viewport":1},"default":"map","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{"type":"enum","values":{"map":1,"viewport":1},"default":"viewport","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"circle-stroke-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"circle-stroke-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"circle-emissive-strength":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"]},"property-type":"data-constant"}},"paint_heatmap":{"heatmap-radius":{"type":"number","default":30,"minimum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"heatmap-weight":{"type":"number","default":1,"minimum":0,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"heatmap-intensity":{"type":"number","default":1,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"heatmap-color":{"type":"color","default":["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",0.1,"royalblue",0.3,"cyan",0.5,"lime",0.7,"yellow",1,"red"],"expression":{"interpolated":true,"parameters":["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_symbol":{"icon-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"icon-occlusion-opacity":{"type":"number","minimum":0,"maximum":1,"default":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"icon-emissive-strength":{"type":"number","default":1,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light","feature-state"]},"property-type":"data-driven"},"text-emissive-strength":{"type":"number","default":1,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light","feature-state"]},"property-type":"data-driven"},"icon-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"icon-halo-color":{"type":"color","default":"rgba(0, 0, 0, 0)","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"icon-halo-width":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"icon-halo-blur":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"icon-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{"type":"enum","values":{"map":1,"viewport":1},"default":"map","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"icon-image-cross-fade":{"type":"number","property-type":"data-driven","default":0,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"transition":true},"text-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"text-occlusion-opacity":{"type":"number","minimum":0,"maximum":1,"default":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"text-color":{"type":"color","default":"#000000","transition":true,"overridable":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"text-halo-color":{"type":"color","default":"rgba(0, 0, 0, 0)","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"text-halo-width":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"text-halo-blur":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"text-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{"type":"enum","values":{"map":1,"viewport":1},"default":"map","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"icon-color-saturation":{"type":"number","default":0,"minimum":-1,"maximum":1,"expression":{},"property-type":"data-constant"},"icon-color-contrast":{"type":"number","default":0,"minimum":-1,"maximum":1,"expression":{},"property-type":"data-constant"},"icon-color-brightness-min":{"type":"number","default":0,"minimum":0,"maximum":1,"expression":{},"property-type":"data-constant"},"icon-color-brightness-max":{"type":"number","default":1,"minimum":0,"maximum":1,"expression":{},"property-type":"data-constant"},"symbol-z-offset":{"type":"number","default":0,"minimum":0,"transition":true,"experimental":true,"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"}},"paint_raster":{"raster-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-color":{"type":"color","expression":{"interpolated":true,"parameters":["raster-value"]},"property-type":"color-ramp"},"raster-color-mix":{"type":"array","default":[0.2126,0.7152,0.0722,0],"length":4,"value":"number","property-type":"data-constant","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"raster-color-range":{"type":"array","length":2,"value":"number","property-type":"data-constant","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"raster-hue-rotate":{"type":"number","default":0,"period":360,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{"type":"number","default":0,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-saturation":{"type":"number","default":0,"minimum":-1,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-contrast":{"type":"number","default":0,"minimum":-1,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-resampling":{"type":"enum","values":{"linear":1,"nearest":1},"default":"linear","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{"type":"number","default":300,"minimum":0,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-emissive-strength":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"]},"property-type":"data-constant"},"raster-array-band":{"type":"string","required":false,"experimental":true,"property-type":"data-constant"},"raster-elevation":{"type":"number","default":0,"minimum":0,"transition":true,"experimental":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_raster-particle":{"raster-particle-array-band":{"type":"string","required":false,"property-type":"data-constant"},"raster-particle-count":{"type":"number","default":512,"minimum":1,"property-type":"data-constant"},"raster-particle-color":{"type":"color","expression":{"interpolated":true,"parameters":["raster-particle-speed"]},"property-type":"color-ramp"},"raster-particle-max-speed":{"type":"number","default":1,"minimum":1,"property-type":"data-constant"},"raster-particle-speed-factor":{"type":"number","default":0.2,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-particle-fade-opacity-factor":{"type":"number","default":0.98,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-particle-reset-rate-factor":{"type":"number","default":0.8,"minimum":0,"maximum":1,"property-type":"data-constant"},"raster-particle-elevation":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_hillshade":{"hillshade-illumination-direction":{"type":"number","default":335,"minimum":0,"maximum":359,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{"type":"enum","values":{"map":1,"viewport":1},"default":"viewport","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{"type":"number","default":0.5,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"]},"property-type":"data-constant"},"hillshade-highlight-color":{"type":"color","default":"#FFFFFF","transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"]},"property-type":"data-constant"},"hillshade-accent-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"]},"property-type":"data-constant"},"hillshade-emissive-strength":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"]},"property-type":"data-constant"}},"paint_background":{"background-pitch-alignment":{"type":"enum","values":{"map":1,"viewport":1},"default":"map","expression":{"parameters":[]},"experimental":true,"property-type":"data-constant"},"background-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"background-pattern":{"type":"resolvedImage","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"background-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"background-emissive-strength":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"]},"property-type":"data-constant"}},"paint_sky":{"sky-type":{"type":"enum","values":{"gradient":1,"atmosphere":1},"default":"atmosphere","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun":{"type":"array","value":"number","length":2,"minimum":[0,0],"maximum":[360,180],"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun-intensity":{"type":"number","default":10,"minimum":0,"maximum":100,"property-type":"data-constant"},"sky-gradient-center":{"type":"array","value":"number","default":[0,0],"length":2,"minimum":[0,0],"maximum":[360,180],"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"sky-gradient-radius":{"type":"number","default":90,"minimum":0,"maximum":180,"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"sky-gradient":{"type":"color","default":["interpolate",["linear"],["sky-radial-progress"],0.8,"#87ceeb",1,"white"],"expression":{"interpolated":true,"parameters":["sky-radial-progress"]},"property-type":"color-ramp"},"sky-atmosphere-halo-color":{"type":"color","default":"white","property-type":"data-constant"},"sky-atmosphere-color":{"type":"color","default":"white","property-type":"data-constant"},"sky-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_model":{"model-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["feature","feature-state","zoom"]},"property-type":"data-driven"},"model-rotation":{"type":"array","value":"number","length":3,"default":[0,0,0],"period":360,"property-type":"data-driven","expression":{"interpolated":true,"parameters":["feature","feature-state","zoom"]},"transition":true},"model-scale":{"type":"array","value":"number","length":3,"default":[1,1,1],"property-type":"data-driven","expression":{"interpolated":true,"parameters":["feature","feature-state","zoom"]},"transition":true},"model-translation":{"type":"array","value":"number","length":3,"default":[0,0,0],"property-type":"data-driven","expression":{"interpolated":true,"parameters":["feature","feature-state","zoom"]},"transition":true},"model-color":{"type":"color","default":"#ffffff","property-type":"data-driven","expression":{"interpolated":true,"parameters":["feature","feature-state","measure-light","zoom"]},"transition":true},"model-color-mix-intensity":{"type":"number","property-type":"data-driven","default":0,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["feature","feature-state","measure-light"]},"transition":true},"model-type":{"type":"enum","values":{"common-3d":1,"location-indicator":1},"default":"common-3d","property-type":"data-constant"},"model-cast-shadows":{"type":"boolean","default":true,"property-type":"data-constant"},"model-receive-shadows":{"type":"boolean","default":true,"property-type":"data-constant"},"model-ambient-occlusion-intensity":{"type":"number","default":1,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant","transition":true},"model-emissive-strength":{"type":"number","property-type":"data-driven","default":0,"minimum":0,"maximum":5,"expression":{"interpolated":true,"parameters":["feature","feature-state","measure-light"]},"transition":true},"model-roughness":{"type":"number","default":1,"minimum":0,"maximum":1,"property-type":"data-driven","expression":{"interpolated":true,"parameters":["feature","feature-state"]},"transition":true},"model-height-based-emissive-strength-multiplier":{"type":"array","default":[1,1,1,1,0],"length":5,"value":"number","property-type":"data-driven","expression":{"interpolated":true,"parameters":["feature","feature-state","measure-light"]},"transition":true},"model-cutoff-fade-range":{"type":"number","default":0,"minimum":0,"maximum":1,"expression":{},"property-type":"data-constant"},"model-front-cutoff":{"type":"array","private":true,"value":"number","property-type":"data-constant","expression":{"interpolated":true,"parameters":["zoom"]},"length":3,"default":[0,0,1],"minimum":[0,0,0],"maximum":[1,1,1]}},"transition":{"duration":{"type":"number","default":300,"minimum":0},"delay":{"type":"number","default":0,"minimum":0}},"property-type":{"data-driven":{"type":"property-type"},"color-ramp":{"type":"property-type"},"data-constant":{"type":"property-type"},"constant":{"type":"property-type"}},"promoteId":{"*":{"type":"*"}}}');function Ug(u){return u instanceof Number||u instanceof String||u instanceof Boolean?u.valueOf():u}function _m(u){if(Array.isArray(u))return u.map(_m);if(u instanceof Object&&!(u instanceof Number||u instanceof String||u instanceof Boolean)){const n={};for(const i in u)n[i]=_m(u[i]);return n}return Ug(u)}function ph(u){if(u===!0||u===!1)return!0;if(!Array.isArray(u)||u.length===0)return!1;switch(u[0]){case"has":return u.length>=2&&u[1]!=="$id"&&u[1]!=="$type";case"in":return u.length>=3&&(typeof u[1]!="string"||Array.isArray(u[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return u.length!==3||Array.isArray(u[1])||Array.isArray(u[2]);case"any":case"all":for(const n of u.slice(1))if(!ph(n)&&typeof n!="boolean")return!1;return!0;default:return!0}}function Wg(u,n="",i=null,d="fill"){if(u==null)return{filter:()=>!0,needGeometry:!1,needFeature:!1};ph(u)||(u=cp(u));const g=u;let h=!0;try{h=function(b){if(!gf(b))return b;let P=_m(b);return Tv(P),P=bm(P),P}(g)}catch(b){console.warn(`Failed to extract static filter. Filter will continue working, but at higher memory usage and slower framerate.
This is most likely a bug, please report this via https://github.com/mapbox/mapbox-gl-js/issues/new?assignees=&labels=&template=Bug_report.md
and paste the contents of this message in the report.
Thank you!
Filter Expression:
${JSON.stringify(g,null,2)}
        `)}let v=null,S=null;if(d!=="background"&&d!=="sky"&&d!=="slot"){S=er[`filter_${d}`];const b=uf(h,S,n,i);if(b.result==="error")throw new Error(b.value.map(P=>`${P.key}: ${P.message}`).join(", "));v=(P,$,T)=>b.value.evaluate(P,$,{},T)}let M=null,A=null;if(h!==g){const b=uf(g,S,n,i);if(b.result==="error")throw new Error(b.value.map(P=>`${P.key}: ${P.message}`).join(", "));M=(P,$,T,O,N)=>b.value.evaluate(P,$,{},T,void 0,void 0,O,N),A=!Ml(b.value.expression)}return{filter:v,dynamicFilter:M||void 0,needGeometry:Gg(h),needFeature:!!A}}function bm(u){if(!Array.isArray(u))return u;const n=function(i){if(Mv.has(i[0])){for(let d=1;d<i.length;d++)if(gf(i[d]))return!0}return i}(u);return n===!0?n:n.map(i=>bm(i))}function Tv(u){let n=!1;const i=[];if(u[0]==="case"){for(let d=1;d<u.length-1;d+=2)n=n||gf(u[d]),i.push(u[d+1]);i.push(u[u.length-1])}else if(u[0]==="match"){n=n||gf(u[1]);for(let d=2;d<u.length-1;d+=2)i.push(u[d+1]);i.push(u[u.length-1])}else if(u[0]==="step"){n=n||gf(u[1]);for(let d=1;d<u.length-1;d+=2)i.push(u[d+1])}n&&(u.length=0,u.push("any",...i));for(let d=1;d<u.length;d++)Tv(u[d])}function gf(u){if(!Array.isArray(u))return!1;if((n=u[0])==="pitch"||n==="distance-from-center")return!0;var n;for(let i=1;i<u.length;i++)if(gf(u[i]))return!0;return!1}const Mv=new Set(["in","==","!=",">",">=","<","<=","to-boolean"]);function Pv(u,n){return u<n?-1:u>n?1:0}function Gg(u){if(!Array.isArray(u))return!1;if(u[0]==="within"||u[0]==="distance")return!0;for(let n=1;n<u.length;n++)if(Gg(u[n]))return!0;return!1}function cp(u){if(!u)return!0;const n=u[0];return u.length<=1?n!=="any":n==="=="?Gu(u[1],u[2],"=="):n==="!="?jd(Gu(u[1],u[2],"==")):n==="<"||n===">"||n==="<="||n===">="?Gu(u[1],u[2],n):n==="any"?(i=u.slice(1),["any"].concat(i.map(cp))):n==="all"?["all"].concat(u.slice(1).map(cp)):n==="none"?["all"].concat(u.slice(1).map(cp).map(jd)):n==="in"?xm(u[1],u.slice(2)):n==="!in"?jd(xm(u[1],u.slice(2))):n==="has"?Cm(u[1]):n!=="!has"||jd(Cm(u[1]));var i}function Gu(u,n,i){switch(u){case"$type":return[`filter-type-${i}`,n];case"$id":return[`filter-id-${i}`,n];default:return[`filter-${i}`,u,n]}}function xm(u,n){if(n.length===0)return!1;switch(u){case"$type":return["filter-type-in",["literal",n]];case"$id":return["filter-id-in",["literal",n]];default:return n.length>200&&!n.some(i=>typeof i!=typeof n[0])?["filter-in-large",u,["literal",n.sort(Pv)]]:["filter-in-small",u,["literal",n]]}}function Cm(u){switch(u){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",u]}}function jd(u){return["!",u]}const up="";function Mu(u,n){return n?`${u}${up}${n}`:u}const Pu="-transition",Sm=new Set(["fill","line","background","hillshade","raster"]);class zl extends po{constructor(n,i,d,g,h){if(super(),this.id=n.id,this.fqid=Mu(this.id,d),this.type=n.type,this.scope=d,this.lut=g,this.options=h,this._featureFilter={filter:()=>!0,needGeometry:!1,needFeature:!1},this._filterCompiled=!1,this.configDependencies=new Set,n.type!=="custom"){if(this.metadata=n.metadata,this.minzoom=n.minzoom,this.maxzoom=n.maxzoom,n.type&&n.type!=="background"&&n.type!=="sky"&&n.type!=="slot"){this.source=n.source,this.sourceLayer=n["source-layer"],this.filter=n.filter;const v=uf(this.filter,er[`filter_${n.type}`]);v.result!=="error"&&(this.configDependencies=new Set([...this.configDependencies,...v.value.configDependencies]))}if(n.slot&&(this.slot=n.slot),i.layout&&(this._unevaluatedLayout=new hh(i.layout,this.scope,h),this.configDependencies=new Set([...this.configDependencies,...this._unevaluatedLayout.configDependencies])),i.paint){this._transitionablePaint=new lp(i.paint,this.scope,h);for(const v in n.paint)this.setPaintProperty(v,n.paint[v]);for(const v in n.layout)this.setLayoutProperty(v,n.layout[v]);this.configDependencies=new Set([...this.configDependencies,...this._transitionablePaint.configDependencies]),this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new Fd(i.paint)}}}onAdd(n){}onRemove(n){}isDraped(n){return!this.is3D()&&Sm.has(this.type)}getLayoutProperty(n){return n==="visibility"?this.visibility:this._unevaluatedLayout.getValue(n)}setLayoutProperty(n,i){if(this.type==="custom"&&n==="visibility")return void(this.visibility=i);const d=this._unevaluatedLayout;d._properties.properties[n]&&(d.setValue(n,i),this.configDependencies=new Set([...this.configDependencies,...d.configDependencies]),n==="visibility"&&this.possiblyEvaluateVisibility())}possiblyEvaluateVisibility(){this._unevaluatedLayout._values.visibility&&(this.visibility=this._unevaluatedLayout._values.visibility.possiblyEvaluate({zoom:0}))}getPaintProperty(n){return Ir(n,Pu)?this._transitionablePaint.getTransition(n.slice(0,-11)):this._transitionablePaint.getValue(n)}setPaintProperty(n,i){const d=this._transitionablePaint,g=d._properties.properties;if(Ir(n,Pu)){const P=n.slice(0,-11);return g[P]&&d.setTransition(P,i||void 0),!1}if(!g[n])return!1;const h=d._values[n],v=h.value.isDataDriven(),S=h.value;d.setValue(n,i),this.configDependencies=new Set([...this.configDependencies,...d.configDependencies]),this._handleSpecialPaintPropertyUpdate(n);const M=d._values[n].value,A=M.isDataDriven(),b=Ir(n,"pattern")||n==="line-dasharray";return A||v||b||this._handleOverridablePaintPropertyUpdate(n,S,M)}_handleSpecialPaintPropertyUpdate(n){}getProgramIds(){return null}getDefaultProgramParams(n,i,d){return null}_handleOverridablePaintPropertyUpdate(n,i,d){return!1}isHidden(n){return!!(this.minzoom&&n<this.minzoom)||!!(this.maxzoom&&n>=this.maxzoom)||this.visibility==="none"}updateTransitions(n){this._transitioningPaint=this._transitionablePaint.transitioned(n,this._transitioningPaint)}hasTransition(){return this._transitioningPaint.hasTransition()}recalculate(n,i){this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(n,void 0,i)),this.paint=this._transitioningPaint.possiblyEvaluate(n,void 0,i)}serialize(){return rr({id:this.id,type:this.type,slot:this.slot,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()},(n,i)=>!(n===void 0||i==="layout"&&!Object.keys(n).length||i==="paint"&&!Object.keys(n).length))}is3D(){return!1}isSky(){return!1}isTileClipped(){return!1}hasOffscreenPass(){return!1}hasShadowPass(){return!1}canCastShadows(){return!1}hasLightBeamPass(){return!1}cutoffRange(){return 0}tileCoverLift(){return 0}resize(){}isStateDependent(){for(const n in this.paint._values){const i=this.paint.get(n);if(i instanceof mf&&tl(i.property.specification)&&(i.value.kind==="source"||i.value.kind==="composite")&&i.value.isStateDependent)return!0}return!1}compileFilter(n){this._filterCompiled||(this._featureFilter=Wg(this.filter,this.scope,n),this._filterCompiled=!0)}invalidateCompiledFilter(){this._filterCompiled=!1}dynamicFilter(){return this._featureFilter.dynamicFilter}dynamicFilterNeedsFeature(){return this._featureFilter.needFeature}getLayerRenderingStats(){return this._stats}resetLayerRenderingStats(n){this._stats&&(n.renderPass==="shadow"?this._stats.numRenderedVerticesInShadowPass=0:this._stats.numRenderedVerticesInTransparentPass=0)}queryRadius(n){}queryIntersectsFeature(n,i,d,g,h,v,S,M,A){}}const V_={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array};class vf{constructor(n,i){this._structArray=n,this._pos1=i*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8}}class Gs{constructor(){this.isTransferred=!1,this.capacity=-1,this.resize(0)}static serialize(n,i){return n._trim(),i&&(n.isTransferred=!0,i.add(n.arrayBuffer)),{length:n.length,arrayBuffer:n.arrayBuffer}}static deserialize(n){const i=Object.create(this.prototype);return i.arrayBuffer=n.arrayBuffer,i.length=n.length,i.capacity=n.arrayBuffer.byteLength/i.bytesPerElement,i._refreshViews(),i}_trim(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())}clear(){this.length=0}resize(n){this.reserve(n),this.length=n}reserve(n){if(n>this.capacity){this.capacity=Math.max(n,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);const i=this.uint8;this._refreshViews(),i&&this.uint8.set(i)}}_refreshViews(){throw new Error("StructArray#_refreshViews() must be implemented by each concrete StructArray layout")}emplace(...n){throw new Error("StructArray#emplace() must be implemented by each concrete StructArray layout")}emplaceBack(...n){throw new Error("StructArray#emplaceBack() must be implemented by each concrete StructArray layout")}destroy(){this.int8=this.uint8=this.int16=this.uint16=this.int32=this.uint32=this.float32=null,this.arrayBuffer=null}}function bs(u,n=1){let i=0,d=0;return{members:u.map(g=>{const h=V_[g.type].BYTES_PER_ELEMENT,v=i=Kg(i,Math.max(n,h)),S=g.components||1;return d=Math.max(d,h),i+=h*S,{name:g.name,type:g.type,components:S,offset:v}}),size:Kg(i,Math.max(d,n)),alignment:n}}function Kg(u,n){return Math.ceil(u/n)*n}class pd extends Gs{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(n,i){const d=this.length;return this.resize(d+1),this.emplace(d,n,i)}emplace(n,i,d){const g=2*n;return this.int16[g+0]=i,this.int16[g+1]=d,n}}pd.prototype.bytesPerElement=4,_o(pd,"StructArrayLayout2i4");class yf extends Gs{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(n,i,d){const g=this.length;return this.resize(g+1),this.emplace(g,n,i,d)}emplace(n,i,d,g){const h=3*n;return this.int16[h+0]=i,this.int16[h+1]=d,this.int16[h+2]=g,n}}yf.prototype.bytesPerElement=6,_o(yf,"StructArrayLayout3i6");class md extends Gs{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(n,i,d,g){const h=this.length;return this.resize(h+1),this.emplace(h,n,i,d,g)}emplace(n,i,d,g,h){const v=4*n;return this.int16[v+0]=i,this.int16[v+1]=d,this.int16[v+2]=g,this.int16[v+3]=h,n}}md.prototype.bytesPerElement=8,_o(md,"StructArrayLayout4i8");class dp extends Gs{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(n,i,d,g,h){const v=this.length;return this.resize(v+1),this.emplace(v,n,i,d,g,h)}emplace(n,i,d,g,h,v){const S=5*n;return this.int16[S+0]=i,this.int16[S+1]=d,this.int16[S+2]=g,this.int16[S+3]=h,this.int16[S+4]=v,n}}dp.prototype.bytesPerElement=10,_o(dp,"StructArrayLayout5i10");class _f extends Gs{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(n,i,d,g,h,v,S){const M=this.length;return this.resize(M+1),this.emplace(M,n,i,d,g,h,v,S)}emplace(n,i,d,g,h,v,S,M){const A=6*n,b=12*n,P=3*n;return this.int16[A+0]=i,this.int16[A+1]=d,this.uint8[b+4]=g,this.uint8[b+5]=h,this.uint8[b+6]=v,this.uint8[b+7]=S,this.float32[P+2]=M,n}}_f.prototype.bytesPerElement=12,_o(_f,"StructArrayLayout2i4ub1f12");class Ou extends Gs{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(n,i,d){const g=this.length;return this.resize(g+1),this.emplace(g,n,i,d)}emplace(n,i,d,g){const h=3*n;return this.float32[h+0]=i,this.float32[h+1]=d,this.float32[h+2]=g,n}}Ou.prototype.bytesPerElement=12,_o(Ou,"StructArrayLayout3f12");class vl extends Gs{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(n,i,d,g,h){const v=this.length;return this.resize(v+1),this.emplace(v,n,i,d,g,h)}emplace(n,i,d,g,h,v){const S=6*n,M=3*n;return this.uint16[S+0]=i,this.uint16[S+1]=d,this.uint16[S+2]=g,this.uint16[S+3]=h,this.float32[M+2]=v,n}}vl.prototype.bytesPerElement=12,_o(vl,"StructArrayLayout4ui1f12");class gu extends Gs{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(n,i,d,g){const h=this.length;return this.resize(h+1),this.emplace(h,n,i,d,g)}emplace(n,i,d,g,h){const v=4*n;return this.uint16[v+0]=i,this.uint16[v+1]=d,this.uint16[v+2]=g,this.uint16[v+3]=h,n}}gu.prototype.bytesPerElement=8,_o(gu,"StructArrayLayout4ui8");class Wl extends Gs{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(n,i,d,g,h,v){const S=this.length;return this.resize(S+1),this.emplace(S,n,i,d,g,h,v)}emplace(n,i,d,g,h,v,S){const M=6*n;return this.int16[M+0]=i,this.int16[M+1]=d,this.int16[M+2]=g,this.int16[M+3]=h,this.int16[M+4]=v,this.int16[M+5]=S,n}}Wl.prototype.bytesPerElement=12,_o(Wl,"StructArrayLayout6i12");class fp extends Gs{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(n,i,d,g,h,v,S,M,A,b,P,$){const T=this.length;return this.resize(T+1),this.emplace(T,n,i,d,g,h,v,S,M,A,b,P,$)}emplace(n,i,d,g,h,v,S,M,A,b,P,$,T){const O=12*n;return this.int16[O+0]=i,this.int16[O+1]=d,this.int16[O+2]=g,this.int16[O+3]=h,this.uint16[O+4]=v,this.uint16[O+5]=S,this.uint16[O+6]=M,this.uint16[O+7]=A,this.int16[O+8]=b,this.int16[O+9]=P,this.int16[O+10]=$,this.int16[O+11]=T,n}}fp.prototype.bytesPerElement=24,_o(fp,"StructArrayLayout4i4ui4i24");class hp extends Gs{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(n,i,d,g,h,v){const S=this.length;return this.resize(S+1),this.emplace(S,n,i,d,g,h,v)}emplace(n,i,d,g,h,v,S){const M=10*n,A=5*n;return this.int16[M+0]=i,this.int16[M+1]=d,this.int16[M+2]=g,this.float32[A+2]=h,this.float32[A+3]=v,this.float32[A+4]=S,n}}hp.prototype.bytesPerElement=20,_o(hp,"StructArrayLayout3i3f20");class Zd extends Gs{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(n,i,d,g){const h=this.length;return this.resize(h+1),this.emplace(h,n,i,d,g)}emplace(n,i,d,g,h){const v=4*n;return this.float32[v+0]=i,this.float32[v+1]=d,this.float32[v+2]=g,this.float32[v+3]=h,n}}Zd.prototype.bytesPerElement=16,_o(Zd,"StructArrayLayout4f16");class Xg extends Gs{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(n){const i=this.length;return this.resize(i+1),this.emplace(i,n)}emplace(n,i){return this.uint32[1*n+0]=i,n}}Xg.prototype.bytesPerElement=4,_o(Xg,"StructArrayLayout1ul4");class Ku extends Gs{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(n,i){const d=this.length;return this.resize(d+1),this.emplace(d,n,i)}emplace(n,i,d){const g=2*n;return this.uint16[g+0]=i,this.uint16[g+1]=d,n}}Ku.prototype.bytesPerElement=4,_o(Ku,"StructArrayLayout2ui4");class wm extends Gs{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(n,i,d,g,h,v,S,M,A,b,P,$,T){const O=this.length;return this.resize(O+1),this.emplace(O,n,i,d,g,h,v,S,M,A,b,P,$,T)}emplace(n,i,d,g,h,v,S,M,A,b,P,$,T,O){const N=20*n,W=10*n;return this.int16[N+0]=i,this.int16[N+1]=d,this.int16[N+2]=g,this.int16[N+3]=h,this.int16[N+4]=v,this.float32[W+3]=S,this.float32[W+4]=M,this.float32[W+5]=A,this.float32[W+6]=b,this.int16[N+14]=P,this.uint32[W+8]=$,this.uint16[N+18]=T,this.uint16[N+19]=O,n}}wm.prototype.bytesPerElement=40,_o(wm,"StructArrayLayout5i4f1i1ul2ui40");class pp extends Gs{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(n,i,d,g,h,v,S){const M=this.length;return this.resize(M+1),this.emplace(M,n,i,d,g,h,v,S)}emplace(n,i,d,g,h,v,S,M){const A=8*n;return this.int16[A+0]=i,this.int16[A+1]=d,this.int16[A+2]=g,this.int16[A+4]=h,this.int16[A+5]=v,this.int16[A+6]=S,this.int16[A+7]=M,n}}pp.prototype.bytesPerElement=16,_o(pp,"StructArrayLayout3i2i2i16");class mh extends Gs{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(n,i,d,g,h){const v=this.length;return this.resize(v+1),this.emplace(v,n,i,d,g,h)}emplace(n,i,d,g,h,v){const S=4*n,M=8*n;return this.float32[S+0]=i,this.float32[S+1]=d,this.float32[S+2]=g,this.int16[M+6]=h,this.int16[M+7]=v,n}}mh.prototype.bytesPerElement=16,_o(mh,"StructArrayLayout2f1f2i16");class Em extends Gs{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(n,i,d,g,h,v){const S=this.length;return this.resize(S+1),this.emplace(S,n,i,d,g,h,v)}emplace(n,i,d,g,h,v,S){const M=20*n,A=5*n;return this.uint8[M+0]=i,this.uint8[M+1]=d,this.float32[A+1]=g,this.float32[A+2]=h,this.float32[A+3]=v,this.float32[A+4]=S,n}}Em.prototype.bytesPerElement=20,_o(Em,"StructArrayLayout2ub4f20");class Nl extends Gs{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(n,i,d){const g=this.length;return this.resize(g+1),this.emplace(g,n,i,d)}emplace(n,i,d,g){const h=3*n;return this.uint16[h+0]=i,this.uint16[h+1]=d,this.uint16[h+2]=g,n}}Nl.prototype.bytesPerElement=6,_o(Nl,"StructArrayLayout3ui6");class Xu extends Gs{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(n,i,d,g,h,v,S,M,A,b,P,$,T,O,N,W,J,se,ue,re,ve){const we=this.length;return this.resize(we+1),this.emplace(we,n,i,d,g,h,v,S,M,A,b,P,$,T,O,N,W,J,se,ue,re,ve)}emplace(n,i,d,g,h,v,S,M,A,b,P,$,T,O,N,W,J,se,ue,re,ve,we){const Ne=30*n,ht=15*n,ft=60*n;return this.int16[Ne+0]=i,this.int16[Ne+1]=d,this.int16[Ne+2]=g,this.float32[ht+2]=h,this.float32[ht+3]=v,this.uint16[Ne+8]=S,this.uint16[Ne+9]=M,this.uint32[ht+5]=A,this.uint32[ht+6]=b,this.uint32[ht+7]=P,this.uint16[Ne+16]=$,this.uint16[Ne+17]=T,this.uint16[Ne+18]=O,this.float32[ht+10]=N,this.float32[ht+11]=W,this.uint8[ft+48]=J,this.uint8[ft+49]=se,this.uint8[ft+50]=ue,this.uint32[ht+13]=re,this.int16[Ne+28]=ve,this.uint8[ft+58]=we,n}}Xu.prototype.bytesPerElement=60,_o(Xu,"StructArrayLayout3i2f2ui3ul3ui2f3ub1ul1i1ub60");class Yg extends Gs{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(n,i,d,g,h,v,S,M,A,b,P,$,T,O,N,W,J,se,ue,re,ve,we,Ne,ht,ft,at,Gt,vt,en,mn,un,yn){const zn=this.length;return this.resize(zn+1),this.emplace(zn,n,i,d,g,h,v,S,M,A,b,P,$,T,O,N,W,J,se,ue,re,ve,we,Ne,ht,ft,at,Gt,vt,en,mn,un,yn)}emplace(n,i,d,g,h,v,S,M,A,b,P,$,T,O,N,W,J,se,ue,re,ve,we,Ne,ht,ft,at,Gt,vt,en,mn,un,yn,zn){const Gn=20*n,Mn=40*n,$r=80*n;return this.float32[Gn+0]=i,this.float32[Gn+1]=d,this.int16[Mn+4]=g,this.int16[Mn+5]=h,this.int16[Mn+6]=v,this.int16[Mn+7]=S,this.int16[Mn+8]=M,this.int16[Mn+9]=A,this.int16[Mn+10]=b,this.int16[Mn+11]=P,this.int16[Mn+12]=$,this.uint16[Mn+13]=T,this.uint16[Mn+14]=O,this.uint16[Mn+15]=N,this.uint16[Mn+16]=W,this.uint16[Mn+17]=J,this.uint16[Mn+18]=se,this.uint16[Mn+19]=ue,this.uint16[Mn+20]=re,this.uint16[Mn+21]=ve,this.uint16[Mn+22]=we,this.uint16[Mn+23]=Ne,this.uint16[Mn+24]=ht,this.uint16[Mn+25]=ft,this.uint16[Mn+26]=at,this.uint16[Mn+27]=Gt,this.uint32[Gn+14]=vt,this.float32[Gn+15]=en,this.float32[Gn+16]=mn,this.float32[Gn+17]=un,this.float32[Gn+18]=yn,this.uint8[$r+76]=zn,n}}Yg.prototype.bytesPerElement=80,_o(Yg,"StructArrayLayout2f9i15ui1ul4f1ub80");class Vd extends Gs{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(n){const i=this.length;return this.resize(i+1),this.emplace(i,n)}emplace(n,i){return this.float32[1*n+0]=i,n}}Vd.prototype.bytesPerElement=4,_o(Vd,"StructArrayLayout1f4");class gd extends Gs{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(n,i,d,g,h){const v=this.length;return this.resize(v+1),this.emplace(v,n,i,d,g,h)}emplace(n,i,d,g,h,v){const S=5*n;return this.float32[S+0]=i,this.float32[S+1]=d,this.float32[S+2]=g,this.float32[S+3]=h,this.float32[S+4]=v,n}}gd.prototype.bytesPerElement=20,_o(gd,"StructArrayLayout5f20");class mp extends Gs{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(n,i,d,g,h,v,S){const M=this.length;return this.resize(M+1),this.emplace(M,n,i,d,g,h,v,S)}emplace(n,i,d,g,h,v,S,M){const A=7*n;return this.float32[A+0]=i,this.float32[A+1]=d,this.float32[A+2]=g,this.float32[A+3]=h,this.float32[A+4]=v,this.float32[A+5]=S,this.float32[A+6]=M,n}}mp.prototype.bytesPerElement=28,_o(mp,"StructArrayLayout7f28");class Ru extends Gs{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(n,i,d,g,h,v,S,M,A,b,P){const $=this.length;return this.resize($+1),this.emplace($,n,i,d,g,h,v,S,M,A,b,P)}emplace(n,i,d,g,h,v,S,M,A,b,P,$){const T=11*n;return this.float32[T+0]=i,this.float32[T+1]=d,this.float32[T+2]=g,this.float32[T+3]=h,this.float32[T+4]=v,this.float32[T+5]=S,this.float32[T+6]=M,this.float32[T+7]=A,this.float32[T+8]=b,this.float32[T+9]=P,this.float32[T+10]=$,n}}Ru.prototype.bytesPerElement=44,_o(Ru,"StructArrayLayout11f44");class gh extends Gs{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(n,i,d,g,h,v,S,M,A){const b=this.length;return this.resize(b+1),this.emplace(b,n,i,d,g,h,v,S,M,A)}emplace(n,i,d,g,h,v,S,M,A,b){const P=9*n;return this.float32[P+0]=i,this.float32[P+1]=d,this.float32[P+2]=g,this.float32[P+3]=h,this.float32[P+4]=v,this.float32[P+5]=S,this.float32[P+6]=M,this.float32[P+7]=A,this.float32[P+8]=b,n}}gh.prototype.bytesPerElement=36,_o(gh,"StructArrayLayout9f36");class bf extends Gs{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(n,i){const d=this.length;return this.resize(d+1),this.emplace(d,n,i)}emplace(n,i,d){const g=2*n;return this.float32[g+0]=i,this.float32[g+1]=d,n}}bf.prototype.bytesPerElement=8,_o(bf,"StructArrayLayout2f8");class Im extends Gs{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(n,i,d,g){const h=this.length;return this.resize(h+1),this.emplace(h,n,i,d,g)}emplace(n,i,d,g,h){const v=6*n;return this.uint32[3*n+0]=i,this.uint16[v+2]=d,this.uint16[v+3]=g,this.uint16[v+4]=h,n}}Im.prototype.bytesPerElement=12,_o(Im,"StructArrayLayout1ul3ui12");class qg extends Gs{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(n){const i=this.length;return this.resize(i+1),this.emplace(i,n)}emplace(n,i){return this.uint16[1*n+0]=i,n}}qg.prototype.bytesPerElement=2,_o(qg,"StructArrayLayout1ui2");class xf extends Gs{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(n,i,d,g,h,v,S,M,A,b,P,$,T,O,N,W){const J=this.length;return this.resize(J+1),this.emplace(J,n,i,d,g,h,v,S,M,A,b,P,$,T,O,N,W)}emplace(n,i,d,g,h,v,S,M,A,b,P,$,T,O,N,W,J){const se=16*n;return this.float32[se+0]=i,this.float32[se+1]=d,this.float32[se+2]=g,this.float32[se+3]=h,this.float32[se+4]=v,this.float32[se+5]=S,this.float32[se+6]=M,this.float32[se+7]=A,this.float32[se+8]=b,this.float32[se+9]=P,this.float32[se+10]=$,this.float32[se+11]=T,this.float32[se+12]=O,this.float32[se+13]=N,this.float32[se+14]=W,this.float32[se+15]=J,n}}xf.prototype.bytesPerElement=64,_o(xf,"StructArrayLayout16f64");class Hd extends Gs{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(n,i,d,g,h,v,S){const M=this.length;return this.resize(M+1),this.emplace(M,n,i,d,g,h,v,S)}emplace(n,i,d,g,h,v,S,M){const A=10*n,b=5*n;return this.uint16[A+0]=i,this.uint16[A+1]=d,this.uint16[A+2]=g,this.uint16[A+3]=h,this.float32[b+2]=v,this.float32[b+3]=S,this.float32[b+4]=M,n}}Hd.prototype.bytesPerElement=20,_o(Hd,"StructArrayLayout4ui3f20");class gp extends Gs{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(n){const i=this.length;return this.resize(i+1),this.emplace(i,n)}emplace(n,i){return this.int16[1*n+0]=i,n}}gp.prototype.bytesPerElement=2,_o(gp,"StructArrayLayout1i2");class Tm extends Gs{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer)}emplaceBack(n){const i=this.length;return this.resize(i+1),this.emplace(i,n)}emplace(n,i){return this.uint8[1*n+0]=i,n}}Tm.prototype.bytesPerElement=1,_o(Tm,"StructArrayLayout1ub1");class Jg extends vf{get projectedAnchorX(){return this._structArray.int16[this._pos2+0]}get projectedAnchorY(){return this._structArray.int16[this._pos2+1]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+2]}get tileAnchorX(){return this._structArray.int16[this._pos2+3]}get tileAnchorY(){return this._structArray.int16[this._pos2+4]}get x1(){return this._structArray.float32[this._pos4+3]}get y1(){return this._structArray.float32[this._pos4+4]}get x2(){return this._structArray.float32[this._pos4+5]}get y2(){return this._structArray.float32[this._pos4+6]}get padding(){return this._structArray.int16[this._pos2+14]}get featureIndex(){return this._structArray.uint32[this._pos4+8]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+18]}get bucketIndex(){return this._structArray.uint16[this._pos2+19]}}Jg.prototype.size=40;class vp extends wm{get(n){return new Jg(this,n)}}_o(vp,"CollisionBoxArray");class vh extends vf{get projectedAnchorX(){return this._structArray.int16[this._pos2+0]}get projectedAnchorY(){return this._structArray.int16[this._pos2+1]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+2]}get tileAnchorX(){return this._structArray.float32[this._pos4+2]}get tileAnchorY(){return this._structArray.float32[this._pos4+3]}get glyphStartIndex(){return this._structArray.uint16[this._pos2+8]}get numGlyphs(){return this._structArray.uint16[this._pos2+9]}get vertexStartIndex(){return this._structArray.uint32[this._pos4+5]}get lineStartIndex(){return this._structArray.uint32[this._pos4+6]}get lineLength(){return this._structArray.uint32[this._pos4+7]}get segment(){return this._structArray.uint16[this._pos2+16]}get lowerSize(){return this._structArray.uint16[this._pos2+17]}get upperSize(){return this._structArray.uint16[this._pos2+18]}get lineOffsetX(){return this._structArray.float32[this._pos4+10]}get lineOffsetY(){return this._structArray.float32[this._pos4+11]}get writingMode(){return this._structArray.uint8[this._pos1+48]}get placedOrientation(){return this._structArray.uint8[this._pos1+49]}set placedOrientation(n){this._structArray.uint8[this._pos1+49]=n}get hidden(){return this._structArray.uint8[this._pos1+50]}set hidden(n){this._structArray.uint8[this._pos1+50]=n}get crossTileID(){return this._structArray.uint32[this._pos4+13]}set crossTileID(n){this._structArray.uint32[this._pos4+13]=n}get associatedIconIndex(){return this._structArray.int16[this._pos2+28]}get flipState(){return this._structArray.uint8[this._pos1+58]}set flipState(n){this._structArray.uint8[this._pos1+58]=n}}vh.prototype.size=60;class Qg extends Xu{get(n){return new vh(this,n)}}_o(Qg,"PlacedSymbolArray");class e0 extends vf{get tileAnchorX(){return this._structArray.float32[this._pos4+0]}get tileAnchorY(){return this._structArray.float32[this._pos4+1]}get projectedAnchorX(){return this._structArray.int16[this._pos2+4]}get projectedAnchorY(){return this._structArray.int16[this._pos2+5]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+6]}get rightJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+7]}get centerJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+8]}get leftJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+9]}get verticalPlacedTextSymbolIndex(){return this._structArray.int16[this._pos2+10]}get placedIconSymbolIndex(){return this._structArray.int16[this._pos2+11]}get verticalPlacedIconSymbolIndex(){return this._structArray.int16[this._pos2+12]}get key(){return this._structArray.uint16[this._pos2+13]}get textBoxStartIndex(){return this._structArray.uint16[this._pos2+14]}get textBoxEndIndex(){return this._structArray.uint16[this._pos2+15]}get verticalTextBoxStartIndex(){return this._structArray.uint16[this._pos2+16]}get verticalTextBoxEndIndex(){return this._structArray.uint16[this._pos2+17]}get iconBoxStartIndex(){return this._structArray.uint16[this._pos2+18]}get iconBoxEndIndex(){return this._structArray.uint16[this._pos2+19]}get verticalIconBoxStartIndex(){return this._structArray.uint16[this._pos2+20]}get verticalIconBoxEndIndex(){return this._structArray.uint16[this._pos2+21]}get featureIndex(){return this._structArray.uint16[this._pos2+22]}get numHorizontalGlyphVertices(){return this._structArray.uint16[this._pos2+23]}get numVerticalGlyphVertices(){return this._structArray.uint16[this._pos2+24]}get numIconVertices(){return this._structArray.uint16[this._pos2+25]}get numVerticalIconVertices(){return this._structArray.uint16[this._pos2+26]}get useRuntimeCollisionCircles(){return this._structArray.uint16[this._pos2+27]}get crossTileID(){return this._structArray.uint32[this._pos4+14]}set crossTileID(n){this._structArray.uint32[this._pos4+14]=n}get textOffset0(){return this._structArray.float32[this._pos4+15]}get textOffset1(){return this._structArray.float32[this._pos4+16]}get collisionCircleDiameter(){return this._structArray.float32[this._pos4+17]}get zOffset(){return this._structArray.float32[this._pos4+18]}set zOffset(n){this._structArray.float32[this._pos4+18]=n}get hasIconTextFit(){return this._structArray.uint8[this._pos1+76]}}e0.prototype.size=80;class t0 extends Yg{get(n){return new e0(this,n)}}_o(t0,"SymbolInstanceArray");class n0 extends Vd{getoffsetX(n){return this.float32[1*n+0]}}_o(n0,"GlyphOffsetArray");class Mm extends pd{getx(n){return this.int16[2*n+0]}gety(n){return this.int16[2*n+1]}}_o(Mm,"SymbolLineVertexArray");class yh extends vf{get featureIndex(){return this._structArray.uint32[this._pos4+0]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+2]}get bucketIndex(){return this._structArray.uint16[this._pos2+3]}get layoutVertexArrayOffset(){return this._structArray.uint16[this._pos2+4]}}yh.prototype.size=12;class _h extends Im{get(n){return new yh(this,n)}}_o(_h,"FeatureIndexArray");class Hc extends Ku{geta_centroid_pos0(n){return this.uint16[2*n+0]}geta_centroid_pos1(n){return this.uint16[2*n+1]}}_o(Hc,"FillExtrusionCentroidArray");class bh extends vf{get a_join_normal_inside0(){return this._structArray.int16[this._pos2+0]}get a_join_normal_inside1(){return this._structArray.int16[this._pos2+1]}get a_join_normal_inside2(){return this._structArray.int16[this._pos2+2]}}bh.prototype.size=6;class Ov extends yf{get(n){return new bh(this,n)}}_o(Ov,"FillExtrusionWallArray");const Rv=bs([{name:"a_pos",components:2,type:"Int16"}],4),yp=bs([{name:"a_pos_3",components:3,type:"Int16"},{name:"a_pos_normal_3",components:3,type:"Int16"}]);class cl{constructor(n=[]){this.segments=n}_prepareSegment(n,i,d,g){let h=this.segments[this.segments.length-1];return n>cl.MAX_VERTEX_ARRAY_LENGTH&&Un(`Max vertices per segment is ${cl.MAX_VERTEX_ARRAY_LENGTH}: bucket requested ${n}`),(!h||h.vertexLength+n>cl.MAX_VERTEX_ARRAY_LENGTH||h.sortKey!==g)&&(h={vertexOffset:i,primitiveOffset:d,vertexLength:0,primitiveLength:0},g!==void 0&&(h.sortKey=g),this.segments.push(h)),h}prepareSegment(n,i,d,g){return this._prepareSegment(n,i.length,d.length,g)}get(){return this.segments}destroy(){for(const n of this.segments)for(const i in n.vaos)n.vaos[i].destroy()}static simpleSegment(n,i,d,g){return new cl([{vertexOffset:n,primitiveOffset:i,vertexLength:d,primitiveLength:g,vaos:{},sortKey:0}])}}function _p(u,n){return 256*(u=Vn(Math.floor(u),0,255))+Vn(Math.floor(n),0,255)}cl.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,_o(cl,"SegmentVector");const $v=bs([{name:"a_pattern",components:4,type:"Uint16"},{name:"a_pixel_ratio",components:1,type:"Float32"}]),Pm=bs([{name:"a_dash",components:4,type:"Uint16"}]);class xh{constructor(){this.ids=[],this.uniqueIds=[],this.positions=[],this.indexed=!1}add(n,i,d,g){this.ids.push(r0(n)),this.positions.push(i,d,g)}eachPosition(n,i){const d=r0(n);let g=0,h=this.ids.length-1;for(;g<h;){const v=g+h>>1;this.ids[v]>=d?h=v:g=v+1}for(;this.ids[g]===d;)i(this.positions[3*g],this.positions[3*g+1],this.positions[3*g+2]),g++}static serialize(n,i){const d=new Float64Array(n.ids),g=new Uint32Array(n.positions);return Ch(d,g,0,d.length-1),i&&(i.add(d.buffer),i.add(g.buffer)),{ids:d,positions:g}}static deserialize(n){const i=new xh;let d;i.ids=n.ids,i.positions=n.positions;for(const g of i.ids)g!==d&&i.uniqueIds.push(g),d=g;return i.indexed=!0,i}}function r0(u){const n=+u;return!isNaN(n)&&Number.MIN_SAFE_INTEGER<=n&&n<=Number.MAX_SAFE_INTEGER?n:Bo(String(u))}function Ch(u,n,i,d){for(;i<d;){const g=u[i+d>>1];let h=i-1,v=d+1;for(;;){do h++;while(u[h]<g);do v--;while(u[v]>g);if(h>=v)break;bp(u,h,v),bp(n,3*h,3*v),bp(n,3*h+1,3*v+1),bp(n,3*h+2,3*v+2)}v-i<d-v?(Ch(u,n,i,v),i=v+1):(Ch(u,n,v+1,d),d=v)}}function bp(u,n,i){const d=u[n];u[n]=u[i],u[i]=d}_o(xh,"FeaturePositionMap");class vu{constructor(n){this.gl=n.gl,this.initialized=!1}fetchUniformLocation(n,i){return this.location||this.initialized||(this.location=this.gl.getUniformLocation(n,i),this.initialized=!0),!!this.location}set(n,i,d){throw new Error("Uniform#set() must be implemented by each concrete Uniform")}}class Cf extends vu{constructor(n){super(n),this.current=0}set(n,i,d){this.fetchUniformLocation(n,i)&&this.current!==d&&(this.current=d,this.gl.uniform1i(this.location,d))}}class Cl extends vu{constructor(n){super(n),this.current=0}set(n,i,d){this.fetchUniformLocation(n,i)&&this.current!==d&&(this.current=d,this.gl.uniform1f(this.location,d))}}class su extends vu{constructor(n){super(n),this.current=[0,0]}set(n,i,d){this.fetchUniformLocation(n,i)&&(d[0]===this.current[0]&&d[1]===this.current[1]||(this.current=d,this.gl.uniform2f(this.location,d[0],d[1])))}}class Sf extends vu{constructor(n){super(n),this.current=[0,0,0]}set(n,i,d){this.fetchUniformLocation(n,i)&&(d[0]===this.current[0]&&d[1]===this.current[1]&&d[2]===this.current[2]||(this.current=d,this.gl.uniform3f(this.location,d[0],d[1],d[2])))}}class xp extends vu{constructor(n){super(n),this.current=[0,0,0,0]}set(n,i,d){this.fetchUniformLocation(n,i)&&(d[0]===this.current[0]&&d[1]===this.current[1]&&d[2]===this.current[2]&&d[3]===this.current[3]||(this.current=d,this.gl.uniform4f(this.location,d[0],d[1],d[2],d[3])))}}class i0 extends vu{constructor(n){super(n),this.current=_e.transparent.toRenderColor(null)}set(n,i,d){this.fetchUniformLocation(n,i)&&(d.r===this.current.r&&d.g===this.current.g&&d.b===this.current.b&&d.a===this.current.a||(this.current=d,this.gl.uniform4f(this.location,d.r,d.g,d.b,d.a)))}}const Om=new Float32Array(16);class Sh extends vu{constructor(n){super(n),this.current=Om}set(n,i,d){if(this.fetchUniformLocation(n,i)){if(d[12]!==this.current[12]||d[0]!==this.current[0])return this.current=d,void this.gl.uniformMatrix4fv(this.location,!1,d);for(let g=1;g<16;g++)if(d[g]!==this.current[g]){this.current=d,this.gl.uniformMatrix4fv(this.location,!1,d);break}}}}const o0=new Float32Array(9),Av=new Float32Array(4);class Rm extends vu{constructor(n){super(n),this.current=Av}set(n,i,d){if(this.fetchUniformLocation(n,i)){for(let g=0;g<4;g++)if(d[g]!==this.current[g]){this.current=d,this.gl.uniformMatrix2fv(this.location,!1,d);break}}}}function a0(u){return[_p(255*u.r,255*u.g),_p(255*u.b,255*u.a)]}class Ud{constructor(n,i,d,g){this.value=n,this.uniformNames=i.map(h=>`u_${h}`),this.type=d,this.context=g}setUniform(n,i,d,g,h){const v=g.constantOr(this.value);i.set(n,h,v instanceof _e?v.toRenderColor(this.ignoreLut?null:this.context.lut):v)}getBinding(n,i){return this.type==="color"?new i0(n):new Cl(n)}}class Wd{constructor(n,i){this.uniformNames=i.map(d=>`u_${d}`),this.pattern=null,this.pixelRatio=1}setConstantPatternPositions(n){this.pixelRatio=n.pixelRatio||1,this.pattern=n.tl.concat(n.br)}setUniform(n,i,d,g,h){const v=h==="u_pattern"||h==="u_dash"?this.pattern:h==="u_pixel_ratio"?this.pixelRatio:null;v&&i.set(n,h,v)}getBinding(n,i){return i==="u_pattern"||i==="u_dash"?new xp(n):new Cl(n)}}class vd{constructor(n,i,d,g){this.expression=n,this.type=d,this.maxValue=0,this.paintVertexAttributes=i.map(h=>({name:`a_${h}`,type:"Float32",components:d==="color"?2:1,offset:0})),this.paintVertexArray=new g}populatePaintArray(n,i,d,g,h,v,S){const M=this.paintVertexArray.length,A=this.expression.kind==="composite"||this.expression.kind==="source"?this.expression.evaluate(new Ws(0,{brightness:v}),i,{},h,g,S):this.expression.kind==="constant"&&this.expression.value;!this.lutExpression||this.lutExpression.kind!=="composite"&&this.lutExpression.kind!=="source"||(this.ignoreLut=this.lutExpression.evaluate(new Ws(0,{brightness:v}),i,{},h,g,S)==="none"),this.paintVertexArray.resize(n),this._setPaintValue(M,n,A,this.context)}updatePaintArray(n,i,d,g,h,v,S){const M=this.expression.kind==="composite"||this.expression.kind==="source"?this.expression.evaluate({zoom:0,brightness:S},d,g,void 0,h):this.expression.kind==="constant"&&this.expression.value;!this.lutExpression||this.lutExpression.kind!=="composite"&&this.lutExpression.kind!=="source"||(this.ignoreLut=this.lutExpression.evaluate({zoom:0,brightness:S},d,g,void 0,h)==="none"),this._setPaintValue(n,i,M,this.context)}_setPaintValue(n,i,d,g){if(this.type==="color"){const h=a0(d.toRenderColor(this.ignoreLut?null:g.lut));for(let v=n;v<i;v++)this.paintVertexArray.emplace(v,h[0],h[1])}else{for(let h=n;h<i;h++)this.paintVertexArray.emplace(h,d);this.maxValue=Math.max(this.maxValue,Math.abs(d))}}upload(n){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=n.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.lutExpression&&this.lutExpression.kind!=="constant"&&(this.lutExpression.isStateDependent||!this.lutExpression.isLightConstant)||this.expression.kind!=="constant"&&(this.expression.isStateDependent||!this.expression.isLightConstant)))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class lu{constructor(n,i,d,g,h,v){this.expression=n,this.uniformNames=i.map(S=>`u_${S}_t`),this.type=d,this.useIntegerZoom=g,this.context=h,this.maxValue=0,this.paintVertexAttributes=i.map(S=>({name:`a_${S}`,type:"Float32",components:d==="color"?4:2,offset:0})),this.paintVertexArray=new v}populatePaintArray(n,i,d,g,h,v,S){const M=this.expression.evaluate(new Ws(this.context.zoom,{brightness:v}),i,{},h,g,S),A=this.expression.evaluate(new Ws(this.context.zoom+1,{brightness:v}),i,{},h,g,S);!this.lutExpression||this.lutExpression.kind!=="composite"&&this.lutExpression.kind!=="source"||(this.ignoreLut=this.lutExpression.evaluate(new Ws(this.context.zoom,{brightness:v}),i,{},h,g,S)==="none");const b=this.paintVertexArray.length;this.paintVertexArray.resize(n),this._setPaintValue(b,n,M,A,this.context)}updatePaintArray(n,i,d,g,h,v,S){const M=this.expression.evaluate({zoom:this.context.zoom,brightness:S},d,g,void 0,h),A=this.expression.evaluate({zoom:this.context.zoom+1,brightness:S},d,g,void 0,h);!this.lutExpression||this.lutExpression.kind!=="composite"&&this.lutExpression.kind!=="source"||(this.ignoreLut=this.lutExpression.evaluate({zoom:this.context.zoom,brightness:S},d,g,void 0,h)==="none"),this._setPaintValue(n,i,M,A,this.context)}_setPaintValue(n,i,d,g,h){if(this.type==="color"){const v=a0(d.toRenderColor(this.ignoreLut?null:h.lut)),S=a0(d.toRenderColor(this.ignoreLut?null:h.lut));for(let M=n;M<i;M++)this.paintVertexArray.emplace(M,v[0],v[1],S[0],S[1])}else{for(let v=n;v<i;v++)this.paintVertexArray.emplace(v,d,g);this.maxValue=Math.max(this.maxValue,Math.abs(d),Math.abs(g))}}upload(n){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=n.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent||!this.expression.isLightConstant))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}setUniform(n,i,d,g,h){const v=this.useIntegerZoom?Math.floor(d.zoom):d.zoom,S=Vn(this.expression.interpolationFactor(v,this.context.zoom,this.context.zoom+1),0,1);i.set(n,h,S)}getBinding(n,i){return new Cl(n)}}class Yu{constructor(n,i,d,g,h){this.expression=n,this.layerId=h,this.paintVertexAttributes=(d==="array"?Pm:$v).members;for(let v=0;v<i.length;++v);this.paintVertexArray=new g}populatePaintArray(n,i,d,g){const h=this.paintVertexArray.length;this.paintVertexArray.resize(n),this._setPaintValues(h,n,i.patterns&&i.patterns[this.layerId],d)}updatePaintArray(n,i,d,g,h,v,S){this._setPaintValues(n,i,d.patterns&&d.patterns[this.layerId],v)}_setPaintValues(n,i,d,g){if(!g||!d)return;const h=g[d];if(!h)return;const{tl:v,br:S,pixelRatio:M}=h;for(let A=n;A<i;A++)this.paintVertexArray.emplace(A,v[0],v[1],S[0],S[1],M)}upload(n){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer=n.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent||!this.expression.isLightConstant))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class $u{constructor(n,i,d=()=>!0){this.binders={},this._buffers=[],this.context=i;const g=[];for(const h in n.paint._values){const v=n.paint.get(h),S=n.paint.get(`${h}-use-theme`);if(h.endsWith("-use-theme")||!d(h)||!(v instanceof mf&&tl(v.property.specification)))continue;const M=Lv(h,n.type),A=v.value,b=v.property.specification.type,P=!!v.property.useIntegerZoom,$=h==="line-dasharray"||h.endsWith("pattern"),T=h==="line-dasharray"&&n.layout.get("line-cap").value.kind!=="constant"||S&&S.value.kind!=="constant";if(A.kind!=="constant"||T)if(A.kind==="source"||T||$){const O=yu(h,b,"source");this.binders[h]=$?new Yu(A,M,b,O,n.id):new vd(A,M,b,O),g.push(`/a_${h}`)}else{const O=yu(h,b,"composite");this.binders[h]=new lu(A,M,b,P,i,O),g.push(`/z_${h}`)}else this.binders[h]=$?new Wd(A.value,M):new Ud(A.value,M,b,i),g.push(`/u_${h}`);S&&(this.binders[h].ignoreLut=S.constantOr("default")==="none",this.binders[h].lutExpression=S.value,this.binders[h].checkUseTheme=!0)}this.cacheKey=g.sort().join("")}getMaxValue(n){const i=this.binders[n];return i instanceof vd||i instanceof lu?i.maxValue:0}populatePaintArrays(n,i,d,g,h,v,S){for(const M in this.binders){const A=this.binders[M];A.context=this.context,A instanceof vd||A instanceof lu||A instanceof Yu?A.populatePaintArray(n,i,d,g,h,v,S):A.lutExpression&&A instanceof Ud&&A.lutExpression&&(A.lutExpression.kind==="composite"||A.lutExpression.kind==="source")&&(A.ignoreLut=A.lutExpression.evaluate(new Ws(0,{brightness:v}),i,{},h,g,S)==="none")}}setConstantPatternPositions(n){for(const i in this.binders){const d=this.binders[i];d instanceof Wd&&d.setConstantPatternPositions(n)}}updatePaintArrays(n,i,d,g,h,v,S,M,A){let b=!1;const P=Object.keys(n),$=P.length!==0&&!M,T=$?P:i.uniqueIds;this.context.lut=h.lut;for(const O in this.binders){const N=this.binders[O];if(N.context=this.context,(N instanceof vd||N instanceof lu||N instanceof Yu)&&N.expression&&N.expression.kind&&N.expression.kind!=="constant"&&(N.expression.isStateDependent===!0||N.expression.isLightConstant===!1)){const W=h.paint.get(O);N.expression=W.value;for(const J of T){const se=n[J.toString()];i.eachPosition(J,(ue,re,ve)=>{const we=g.feature(ue);N.updatePaintArray(re,ve,we,se,v,S,A)})}if(!$)for(const J of d.uniqueIds){const se=n[J.toString()];d.eachPosition(J,(ue,re,ve)=>{const we=g.feature(ue);N.updatePaintArray(re,ve,we,se,v,S,A)})}b=!0}}return b}defines(){const n=[];for(const i in this.binders){const d=this.binders[i];(d instanceof Ud||d instanceof Wd)&&n.push(...d.uniformNames.map(g=>`#define HAS_UNIFORM_${g}`))}return n}getBinderAttributes(){const n=[];for(const i in this.binders){const d=this.binders[i];if(d instanceof vd||d instanceof lu||d instanceof Yu)for(let g=0;g<d.paintVertexAttributes.length;g++)n.push(d.paintVertexAttributes[g].name)}return n}getBinderUniforms(){const n=[];for(const i in this.binders){const d=this.binders[i];if(d instanceof Ud||d instanceof Wd||d instanceof lu)for(const g of d.uniformNames)n.push(g)}return n}getPaintVertexBuffers(){return this._buffers}getUniforms(n){const i=[];for(const d in this.binders){const g=this.binders[d];if(g instanceof Ud||g instanceof Wd||g instanceof lu)for(const h of g.uniformNames)i.push({name:h,property:d,binding:g.getBinding(n,h)})}return i}setUniforms(n,i,d,g,h){for(const{name:v,property:S,binding:M}of d){if(this.binders[S].checkUseTheme&&this.binders[S]instanceof Ud){const A=g.get(`${S}-use-theme`);A.isConstant()&&(this.binders[S].ignoreLut=A.constantOr("default")==="none")}this.binders[S].setUniform(n,M,h,g.get(S),v)}}updatePaintBuffers(){this._buffers=[];for(const n in this.binders){const i=this.binders[n];(i instanceof vd||i instanceof lu||i instanceof Yu)&&i.paintVertexBuffer&&this._buffers.push(i.paintVertexBuffer)}}upload(n){for(const i in this.binders){const d=this.binders[i];(d instanceof vd||d instanceof lu||d instanceof Yu)&&d.upload(n)}this.updatePaintBuffers()}destroy(){for(const n in this.binders){const i=this.binders[n];(i instanceof vd||i instanceof lu||i instanceof Yu)&&i.destroy()}}}class yd{constructor(n,i,d=()=>!0){this.programConfigurations={};for(const g of n)this.programConfigurations[g.id]=new $u(g,i,d);this.needsUpload=!1,this._featureMap=new xh,this._featureMapWithoutIds=new xh,this._bufferOffset=0,this._idlessCounter=0}populatePaintArrays(n,i,d,g,h,v,S,M){for(const A in this.programConfigurations)this.programConfigurations[A].populatePaintArrays(n,i,g,h,v,S,M);i.id!==void 0?this._featureMap.add(i.id,d,this._bufferOffset,n):(this._featureMapWithoutIds.add(this._idlessCounter,d,this._bufferOffset,n),this._idlessCounter+=1),this._bufferOffset=n,this.needsUpload=!0}updatePaintArrays(n,i,d,g,h,v,S){for(const M of d)this.needsUpload=this.programConfigurations[M.id].updatePaintArrays(n,this._featureMap,this._featureMapWithoutIds,i,M,g,h,v,S||0)||this.needsUpload}get(n){return this.programConfigurations[n]}upload(n){if(this.needsUpload){for(const i in this.programConfigurations)this.programConfigurations[i].upload(n);this.needsUpload=!1}}destroy(){for(const n in this.programConfigurations)this.programConfigurations[n].destroy()}}const Dv={"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-occlusion-opacity":["occlusion_opacity"],"icon-occlusion-opacity":["occlusion_opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-emissive-strength":["emissive_strength"],"icon-emissive-strength":["emissive_strength"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"symbol-z-offset":["z_offset"],"line-gap-width":["gapwidth"],"line-pattern":["pattern","pixel_ratio"],"fill-pattern":["pattern","pixel_ratio"],"fill-extrusion-pattern":["pattern","pixel_ratio"],"line-dasharray":["dash"]};function Lv(u,n){return Dv[u]||[u.replace(`${n}-`,"").replace(/-/g,"_")]}const zv={"line-pattern":{source:vl,composite:vl},"fill-pattern":{source:vl,composite:vl},"fill-extrusion-pattern":{source:vl,composite:vl},"line-dasharray":{source:gu,composite:gu}},Qc={color:{source:bf,composite:Zd},number:{source:Vd,composite:bf}};function yu(u,n,i){const d=zv[u];return d&&d[i]||Qc[n][i]}_o(Ud,"ConstantBinder"),_o(Wd,"PatternConstantBinder"),_o(vd,"SourceExpressionBinder"),_o(Yu,"PatternCompositeBinder"),_o(lu,"CompositeExpressionBinder"),_o($u,"ProgramConfiguration",{omit:["_buffers"]}),_o(yd,"ProgramConfigurationSet");const uc=Bi/Math.PI/2,wf=5,s0=6,l0=16383,Ef=64,Cp=[Ef,32,16],xc=-uc,Cc=uc;function If(u,n,i,d=uc){return i=it(i),[u*Math.sin(i)*d,-n*d,u*Math.cos(i)*d]}function Gd(u,n,i){return If(Math.cos(it(u)),Math.sin(it(u)),n,i)}const Kd=63710088e-1,$m=2*Math.PI*Kd;class ps{constructor(n,i){if(isNaN(n)||isNaN(i))throw new Error(`Invalid LngLat object: (${n}, ${i})`);if(this.lng=+n,this.lat=+i,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}wrap(){return new ps(fi(this.lng,-180,180),this.lat)}toArray(){return[this.lng,this.lat]}toString(){return`LngLat(${this.lng}, ${this.lat})`}distanceTo(n){const i=Math.PI/180,d=this.lat*i,g=n.lat*i,h=Math.sin(d)*Math.sin(g)+Math.cos(d)*Math.cos(g)*Math.cos((n.lng-this.lng)*i);return Kd*Math.acos(Math.min(h,1))}toBounds(n=0){const i=360*n/40075017,d=i/Math.cos(Math.PI/180*this.lat);return new qu({lng:this.lng-d,lat:this.lat-i},{lng:this.lng+d,lat:this.lat+i})}toEcef(n){return Gd(this.lat,this.lng,uc+n*uc/Kd)}static convert(n){if(n instanceof ps)return n;if(Array.isArray(n)&&(n.length===2||n.length===3))return new ps(Number(n[0]),Number(n[1]));if(!Array.isArray(n)&&typeof n=="object"&&n!==null)return new ps(Number("lng"in n?n.lng:n.lon),Number(n.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")}}class qu{constructor(n,i){if(n)if(i)this.setSouthWest(n).setNorthEast(i);else if(n.length===4){const d=n;this.setSouthWest([d[0],d[1]]).setNorthEast([d[2],d[3]])}else{const d=n;this.setSouthWest(d[0]).setNorthEast(d[1])}}setNorthEast(n){return this._ne=n instanceof ps?new ps(n.lng,n.lat):ps.convert(n),this}setSouthWest(n){return this._sw=n instanceof ps?new ps(n.lng,n.lat):ps.convert(n),this}extend(n){const i=this._sw,d=this._ne;let g,h;if(n instanceof ps)g=n,h=n;else{if(!(n instanceof qu))return Array.isArray(n)?n.length===4||n.every(Array.isArray)?this.extend(qu.convert(n)):this.extend(ps.convert(n)):typeof n=="object"&&n!==null&&n.hasOwnProperty("lat")&&(n.hasOwnProperty("lon")||n.hasOwnProperty("lng"))?this.extend(ps.convert(n)):this;if(g=n._sw,h=n._ne,!g||!h)return this}return i||d?(i.lng=Math.min(g.lng,i.lng),i.lat=Math.min(g.lat,i.lat),d.lng=Math.max(h.lng,d.lng),d.lat=Math.max(h.lat,d.lat)):(this._sw=new ps(g.lng,g.lat),this._ne=new ps(h.lng,h.lat)),this}getCenter(){return new ps((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)}getSouthWest(){return this._sw}getNorthEast(){return this._ne}getNorthWest(){return new ps(this.getWest(),this.getNorth())}getSouthEast(){return new ps(this.getEast(),this.getSouth())}getWest(){return this._sw.lng}getSouth(){return this._sw.lat}getEast(){return this._ne.lng}getNorth(){return this._ne.lat}toArray(){return[this._sw.toArray(),this._ne.toArray()]}toString(){return`LngLatBounds(${this._sw.toString()}, ${this._ne.toString()})`}isEmpty(){return!(this._sw&&this._ne)}contains(n){const{lng:i,lat:d}=ps.convert(n);let g=this._sw.lng<=i&&i<=this._ne.lng;return this._sw.lng>this._ne.lng&&(g=this._sw.lng>=i&&i>=this._ne.lng),this._sw.lat<=d&&d<=this._ne.lat&&g}static convert(n){if(n)return n instanceof qu?n:new qu(n)}}const Fs=0,H_=25.5;function Sp(u){return $m*Math.cos(u*Math.PI/180)}function _u(u){return(180+u)/360}function Dc(u){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+u*Math.PI/360)))/360}function Ol(u,n){return u/Sp(n)}function Bc(u){return 360*u-180}function dc(u){return 360/Math.PI*Math.atan(Math.exp((180-360*u)*Math.PI/180))-90}function Am(u,n){return u*Sp(dc(n))}const rl=85.051129;function Dm(u){return Math.cos(it(Vn(u,-rl,rl)))}function Lc(u,n){const i=Vn(n,Fs,H_),d=Math.pow(2,i);return Dm(u)*$m/(512*d)}function p(u){return 1/Math.cos(u*Math.PI/180)}function r(u,n=0){const i=Math.exp(Math.PI*(1-(u.y+n/Bi)/(1<<u.z)*2));return 80150034*i/(i*i+1)/Bi/(1<<u.z)}class l{constructor(n,i,d=0){this.x=+n,this.y=+i,this.z=+d}static fromLngLat(n,i=0){const d=ps.convert(n);return new l(_u(d.lng),Dc(d.lat),Ol(i,d.lat))}toLngLat(){return new ps(Bc(this.x),dc(this.y))}toAltitude(){return Am(this.z,this.y)}meterInMercatorCoordinateUnits(){return 1/$m*p(dc(this.y))}}function m(u,n,i,d,g,h,v,S,M){const A=(n+d)/2,b=(i+g)/2,P=new Rn(A,b);S(P),function($,T,O,N,W,J){const se=O-W,ue=N-J;return Math.abs((N-T)*se-(O-$)*ue)/Math.hypot(se,ue)}(P.x,P.y,h.x,h.y,v.x,v.y)>=M?(m(u,n,i,A,b,h,P,S,M),m(u,A,b,d,g,P,v,S,M)):u.push(v)}function _(u,n,i){let d=u[0],g=d.x,h=d.y;n(d);const v=[d];for(let S=1;S<u.length;S++){const M=u[S],{x:A,y:b}=M;n(M),m(v,g,h,A,b,d,M,n,i),g=A,h=b,d=M}return v}function x(u,n,i,d){if(d(n,i)){const g=n.add(i)._mult(.5);x(u,n,g,d),x(u,g,i,d)}else u.push(i)}function E(u,n){let i=u[0];const d=[i];for(let g=1;g<u.length;g++){const h=u[g];x(d,i,h,n),i=h}return d}const R=Math.pow(2,14)-1,B=-R-1;function V(u,n){const i=Math.round(u.x*n),d=Math.round(u.y*n);return u.x=Vn(i,B,R),u.y=Vn(d,B,R),(i<u.x||i>u.x+1||d<u.y||d>u.y+1)&&Un("Geometry exceeds allowed extent, reduce your vector tile buffer size"),u}function U(u,n,i){const d=u.loadGeometry(),g=u.extent,h=Bi/g;if(n&&i&&i.projection.isReprojectedInTileSpace){const v=1<<n.z,{scale:S,x:M,y:A,projection:b}=i,P=$=>{const T=Bc((n.x+$.x/g)/v),O=dc((n.y+$.y/g)/v),N=b.project(T,O);$.x=(N.x*S-M)*g,$.y=(N.y*S-A)*g};for(let $=0;$<d.length;$++)if(u.type!==1)d[$]=_(d[$],P,1);else{const T=[];for(const O of d[$])O.x<0||O.x>=g||O.y<0||O.y>=g||(P(O),T.push(O));d[$]=T}}for(const v of d)for(const S of v)V(S,h);return d}function Q(u,n){return{type:u.type,id:u.id,properties:u.properties,geometry:n?U(u):[]}}function ee(u,n,i,d,g){u.emplaceBack(2*n+(d+1)/2,2*i+(g+1)/2)}function ce(u,n,i){u.emplaceBack(n.x,n.y,n.z,i[0]*16384,i[1]*16384,i[2]*16384)}class Me{constructor(n){this.zoom=n.zoom,this.overscaling=n.overscaling,this.layers=n.layers,this.layerIds=this.layers.map(i=>i.fqid),this.index=n.index,this.hasPattern=!1,this.projection=n.projection,this.layoutVertexArray=new pd,this.indexArray=new Nl,this.segments=new cl,this.programConfigurations=new yd(n.layers,{zoom:n.zoom,lut:n.lut}),this.stateDependentLayerIds=this.layers.filter(i=>i.isStateDependent()).map(i=>i.id)}updateFootprints(n,i){}populate(n,i,d,g){const h=this.layers[0],v=[];let S=null;h.type==="circle"&&(S=h.layout.get("circle-sort-key"));for(const{feature:A,id:b,index:P,sourceLayerIndex:$}of n){const T=this.layers[0]._featureFilter.needGeometry,O=Q(A,T);if(!this.layers[0]._featureFilter.filter(new Ws(this.zoom),O,d))continue;const N=S?S.evaluate(O,{},d):void 0,W={id:b,properties:A.properties,type:A.type,sourceLayerIndex:$,index:P,geometry:T?O.geometry:U(A,d,g),patterns:{},sortKey:N};v.push(W)}S&&v.sort((A,b)=>A.sortKey-b.sortKey);let M=null;g.projection.name==="globe"&&(this.globeExtVertexArray=new Wl,M=g.projection);for(const A of v){const{geometry:b,index:P,sourceLayerIndex:$}=A,T=n[P].feature;this.addFeature(A,b,P,i.availableImages,d,M,i.brightness),i.featureIndex.insert(T,b,P,$,this.index)}}update(n,i,d,g,h,v,S){this.programConfigurations.updatePaintArrays(n,i,h,d,g,v,S)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(n){this.uploaded||(this.layoutVertexBuffer=n.createVertexBuffer(this.layoutVertexArray,Rv.members),this.indexBuffer=n.createIndexBuffer(this.indexArray),this.globeExtVertexArray&&(this.globeExtVertexBuffer=n.createVertexBuffer(this.globeExtVertexArray,yp.members))),this.programConfigurations.upload(n),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.globeExtVertexBuffer&&this.globeExtVertexBuffer.destroy())}addFeature(n,i,d,g,h,v,S){for(const M of i)for(const A of M){const b=A.x,P=A.y;if(b<0||b>=Bi||P<0||P>=Bi)continue;if(v){const O=v.projectTilePoint(b,P,h),N=v.upVector(h,b,P),W=this.globeExtVertexArray;ce(W,O,N),ce(W,O,N),ce(W,O,N),ce(W,O,N)}const $=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,n.sortKey),T=$.vertexLength;ee(this.layoutVertexArray,b,P,-1,-1),ee(this.layoutVertexArray,b,P,1,-1),ee(this.layoutVertexArray,b,P,1,1),ee(this.layoutVertexArray,b,P,-1,1),this.indexArray.emplaceBack(T,T+1,T+2),this.indexArray.emplaceBack(T,T+2,T+3),$.vertexLength+=4,$.primitiveLength+=2}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,n,d,{},g,h,S)}}function Se(u,n){for(let i=0;i<u.length;i++)if(Dt(n,u[i]))return!0;for(let i=0;i<n.length;i++)if(Dt(u,n[i]))return!0;return!!St(u,n)}function Le(u,n,i){return!!Dt(u,n)||!!Vt(n,u,i)}function Ae(u,n){if(u.length===1)return Bt(n,u[0]);for(let i=0;i<n.length;i++){const d=n[i];for(let g=0;g<d.length;g++)if(Dt(u,d[g]))return!0}for(let i=0;i<u.length;i++)if(Bt(n,u[i]))return!0;for(let i=0;i<n.length;i++)if(St(u,n[i]))return!0;return!1}function rt(u,n,i){if(u.length>1){if(St(u,n))return!0;for(let d=0;d<n.length;d++)if(Vt(n[d],u,i))return!0}for(let d=0;d<u.length;d++)if(Vt(u[d],n,i))return!0;return!1}function St(u,n){if(u.length===0||n.length===0)return!1;for(let i=0;i<u.length-1;i++){const d=u[i],g=u[i+1];for(let h=0;h<n.length-1;h++)if(_t(d,g,n[h],n[h+1]))return!0}return!1}function _t(u,n,i,d){return si(u,i,d)!==si(n,i,d)&&si(u,n,i)!==si(u,n,d)}function Vt(u,n,i){const d=i*i;if(n.length===1)return u.distSqr(n[0])<d;for(let g=1;g<n.length;g++)if(Lt(u,n[g-1],n[g])<d)return!0;return!1}function Lt(u,n,i){const d=n.distSqr(i);if(d===0)return u.distSqr(n);const g=((u.x-n.x)*(i.x-n.x)+(u.y-n.y)*(i.y-n.y))/d;return u.distSqr(g<0?n:g>1?i:i.sub(n)._mult(g)._add(n))}function Bt(u,n){let i,d,g,h=!1;for(let v=0;v<u.length;v++){i=u[v];for(let S=0,M=i.length-1;S<i.length;M=S++)d=i[S],g=i[M],d.y>n.y!=g.y>n.y&&n.x<(g.x-d.x)*(n.y-d.y)/(g.y-d.y)+d.x&&(h=!h)}return h}function Dt(u,n){let i=!1;for(let d=0,g=u.length-1;d<u.length;g=d++){const h=u[d],v=u[g];h.y>n.y!=v.y>n.y&&n.x<(v.x-h.x)*(n.y-h.y)/(v.y-h.y)+h.x&&(i=!i)}return i}function rn(u,n,i,d,g){for(const v of u)if(n<=v.x&&i<=v.y&&d>=v.x&&g>=v.y)return!0;const h=[new Rn(n,i),new Rn(n,g),new Rn(d,g),new Rn(d,i)];if(u.length>2){for(const v of h)if(Dt(u,v))return!0}for(let v=0;v<u.length-1;v++)if(xn(u[v],u[v+1],h))return!0;return!1}function xn(u,n,i){const d=i[0],g=i[2];if(u.x<d.x&&n.x<d.x||u.x>g.x&&n.x>g.x||u.y<d.y&&n.y<d.y||u.y>g.y&&n.y>g.y)return!1;const h=si(u,n,i[0]);return h!==si(u,n,i[1])||h!==si(u,n,i[2])||h!==si(u,n,i[3])}function dr(u,n,i,d,g,h){let v=n.y-u.y,S=u.x-n.x;if(h=h||0){const M=v*v+S*S;if(M===0)return!0;const A=Math.sqrt(M);v/=A,S/=A}return!((i.x-u.x)*v+(i.y-u.y)*S-h<0||(d.x-u.x)*v+(d.y-u.y)*S-h<0||(g.x-u.x)*v+(g.y-u.y)*S-h<0)}function Jn(u,n,i,d,g,h,v){return!(dr(u,n,d,g,h,v)||dr(n,i,d,g,h,v)||dr(i,u,d,g,h,v)||dr(d,g,u,n,i,v)||dr(g,h,u,n,i,v)||dr(h,d,u,n,i,v))}function Br(u,n,i){const d=n.paint.get(u).value;return d.kind==="constant"?d.value:i.programConfigurations.get(n.id).getMaxValue(u)}function Ar(u){return Math.sqrt(u[0]*u[0]+u[1]*u[1])}function Zn(u,n,i,d,g){if(!n[0]&&!n[1])return u;const h=Rn.convert(n)._mult(g);i==="viewport"&&h._rotate(-d);const v=[];for(let S=0;S<u.length;S++)v.push(u[S].sub(h));return v}function vr(u,n,i,d){const g=Rn.convert(u)._mult(d);return n==="viewport"&&g._rotate(-i),g}let oi,jn;_o(Me,"CircleBucket",{omit:["layers"]});var Vr,_r={exports:{}},$i=(Vr||(Vr=1,function(u,n){(function(i){function d(h,v,S){var M=g(256*h,256*(v=Math.pow(2,S)-v-1),S),A=g(256*(h+1),256*(v+1),S);return M[0]+","+M[1]+","+A[0]+","+A[1]}function g(h,v,S){var M=2*Math.PI*6378137/256/Math.pow(2,S);return[h*M-2*Math.PI*6378137/2,v*M-2*Math.PI*6378137/2]}i.getURL=function(h,v,S,M,A,b){return b=b||{},h+"?"+["bbox="+d(S,M,A),"format="+(b.format||"image/png"),"service="+(b.service||"WMS"),"version="+(b.version||"1.1.1"),"request="+(b.request||"GetMap"),"srs="+(b.srs||"EPSG:3857"),"width="+(b.width||256),"height="+(b.height||256),"layers="+v].join("&")},i.getTileBBox=d,i.getMercCoords=g,Object.defineProperty(i,"__esModule",{value:!0})})(n)}(0,_r.exports)),_r.exports);class ti{constructor(n,i,d){this.z=n,this.x=i,this.y=d,this.key=Li(0,n,n,i,d)}equals(n){return this.z===n.z&&this.x===n.x&&this.y===n.y}url(n,i){const d=$i.getTileBBox(this.x,this.y,this.z),g=function(h,v,S){let M,A="";for(let b=h;b>0;b--)M=1<<b-1,A+=(v&M?1:0)+(S&M?2:0);return A}(this.z,this.x,this.y);return n[(this.x+this.y)%n.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace(/{z}/g,String(this.z)).replace(/{x}/g,String(this.x)).replace(/{y}/g,String(i==="tms"?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",g).replace("{bbox-epsg-3857}",d)}toString(){return`${this.z}/${this.x}/${this.y}`}}class jr{constructor(n,i){this.wrap=n,this.canonical=i,this.key=Li(n,i.z,i.z,i.x,i.y)}}class Ci{constructor(n,i,d,g,h){this.overscaledZ=n,this.wrap=i,this.canonical=new ti(d,+g,+h),this.key=i===0&&n===d?this.canonical.key:Li(i,n,d,g,h)}equals(n){return this.overscaledZ===n.overscaledZ&&this.wrap===n.wrap&&this.canonical.equals(n.canonical)}scaledTo(n){const i=this.canonical.z-n;return n>this.canonical.z?new Ci(n,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new Ci(n,this.wrap,n,this.canonical.x>>i,this.canonical.y>>i)}calculateScaledKey(n,i=!0){if(this.overscaledZ===n&&i)return this.key;if(n>this.canonical.z)return Li(this.wrap*+i,n,this.canonical.z,this.canonical.x,this.canonical.y);{const d=this.canonical.z-n;return Li(this.wrap*+i,n,n,this.canonical.x>>d,this.canonical.y>>d)}}isChildOf(n){if(n.wrap!==this.wrap)return!1;const i=this.canonical.z-n.canonical.z;return n.overscaledZ===0||n.overscaledZ<this.overscaledZ&&n.canonical.z<this.canonical.z&&n.canonical.x===this.canonical.x>>i&&n.canonical.y===this.canonical.y>>i}children(n){if(this.overscaledZ>=n)return[new Ci(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];const i=this.canonical.z+1,d=2*this.canonical.x,g=2*this.canonical.y;return[new Ci(i,this.wrap,i,d,g),new Ci(i,this.wrap,i,d+1,g),new Ci(i,this.wrap,i,d,g+1),new Ci(i,this.wrap,i,d+1,g+1)]}isLessThan(n){return this.wrap<n.wrap||!(this.wrap>n.wrap)&&(this.overscaledZ<n.overscaledZ||!(this.overscaledZ>n.overscaledZ)&&(this.canonical.x<n.canonical.x||!(this.canonical.x>n.canonical.x)&&this.canonical.y<n.canonical.y))}wrapped(){return new Ci(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)}unwrapTo(n){return new Ci(this.overscaledZ,n,this.canonical.z,this.canonical.x,this.canonical.y)}overscaleFactor(){return Math.pow(2,this.overscaledZ-this.canonical.z)}toUnwrapped(){return new jr(this.wrap,this.canonical)}toString(){return`${this.overscaledZ}/${this.canonical.x}/${this.canonical.y}`}}function Li(u,n,i,d,g){const h=1<<Math.min(i,22);let v=h*(g%h)+d%h;return u&&i<22&&(v+=h*h*((u<0?-2*u-1:2*u)%(1<<2*(22-i)))),16*(32*v+i)+(n-i)}const ro=[u=>{let n=u.canonical.x-1,i=u.wrap;return n<0&&(n=(1<<u.canonical.z)-1,i--),new Ci(u.overscaledZ,i,u.canonical.z,n,u.canonical.y)},u=>{let n=u.canonical.x+1,i=u.wrap;return n===1<<u.canonical.z&&(n=0,i++),new Ci(u.overscaledZ,i,u.canonical.z,n,u.canonical.y)},u=>new Ci(u.overscaledZ,u.wrap,u.canonical.z,u.canonical.x,(u.canonical.y===0?1<<u.canonical.z:u.canonical.y)-1),u=>new Ci(u.overscaledZ,u.wrap,u.canonical.z,u.canonical.x,u.canonical.y===(1<<u.canonical.z)-1?0:u.canonical.y+1)];_o(ti,"CanonicalTileID"),_o(Ci,"OverscaledTileID",{omit:["projMatrix","expandedProjMatrix"]});const vo=bs([{type:"Float32",name:"a_globe_pos",components:3},{type:"Float32",name:"a_uv",components:2}]),{members:la}=vo,Wo=bs([{name:"a_pos_3",components:3,type:"Int16"}]);var Ko=bs([{name:"a_pos",type:"Int16",components:2}]);class ya{constructor(n,i){this.pos=n,this.dir=i}intersectsPlane(n,i,d){const g=$e.vec3.dot(i,this.dir);if(Math.abs(g)<1e-6)return!1;const h=((n[0]-this.pos[0])*i[0]+(n[1]-this.pos[1])*i[1]+(n[2]-this.pos[2])*i[2])/g;return d[0]=this.pos[0]+this.dir[0]*h,d[1]=this.pos[1]+this.dir[1]*h,d[2]=this.pos[2]+this.dir[2]*h,!0}closestPointOnSphere(n,i,d){if($e.vec3.equals(this.pos,n)||i===0)return d[0]=d[1]=d[2]=0,!1;const[g,h,v]=this.dir,S=this.pos[0]-n[0],M=this.pos[1]-n[1],A=this.pos[2]-n[2],b=g*g+h*h+v*v,P=2*(S*g+M*h+A*v),$=P*P-4*b*(S*S+M*M+A*A-i*i);if($<0){const T=Math.max(-P/2,0),O=S+g*T,N=M+h*T,W=A+v*T,J=Math.hypot(O,N,W);return d[0]=O*i/J,d[1]=N*i/J,d[2]=W*i/J,!1}{const T=(-P-Math.sqrt($))/(2*b);if(T<0){const O=Math.hypot(S,M,A);return d[0]=S*i/O,d[1]=M*i/O,d[2]=A*i/O,!1}return d[0]=S+g*T,d[1]=M+h*T,d[2]=A+v*T,!0}}}class as{constructor(n,i,d,g,h){this.TL=n,this.TR=i,this.BR=d,this.BL=g,this.horizon=h}static fromInvProjectionMatrix(n,i,d){const g=[-1,1,1],h=[1,1,1],v=[1,-1,1],S=[-1,-1,1],M=$e.vec3.transformMat4(g,g,n),A=$e.vec3.transformMat4(h,h,n),b=$e.vec3.transformMat4(v,v,n),P=$e.vec3.transformMat4(S,S,n);return new as(M,A,b,P,i/d)}}function ms(u,n,i){let d=1/0,g=-1/0;const h=[];for(const v of u){$e.vec3.sub(h,v,n);const S=$e.vec3.dot(h,i);d=Math.min(d,S),g=Math.max(g,S)}return[d,g]}function ul(u,n){let i=!0;for(let d=0;d<u.planes.length;d++){const g=u.planes[d];let h=0;for(let v=0;v<n.length;v++)h+=$e.vec3.dot(g,n[v])+g[3]>=0;if(h===0)return 0;h!==n.length&&(i=!1)}return i?2:1}function Ks(u,n){for(const i of u.projections){const d=ms(n,u.points[0],i.axis);if(i.projection[1]<d[0]||i.projection[0]>d[1])return 0}return 1}function Pa(u,n){let i=0;const d=[0,0,0,0];for(let g=0;g<u.length;g++)d[0]=u[g][0],d[1]=u[g][1],d[2]=u[g][2],d[3]=1,$e.vec4.dot(d,n)>=0&&i++;return i}class us{constructor(n,i){this.points=n||new Array(8).fill([0,0,0]),this.planes=i||new Array(6).fill([0,0,0,0]),this.bounds=Do.fromPoints(this.points),this.projections=[],this.frustumEdges=[$e.vec3.sub([],this.points[2],this.points[3]),$e.vec3.sub([],this.points[0],this.points[3]),$e.vec3.sub([],this.points[4],this.points[0]),$e.vec3.sub([],this.points[5],this.points[1]),$e.vec3.sub([],this.points[6],this.points[2]),$e.vec3.sub([],this.points[7],this.points[3])];for(const d of this.frustumEdges){const g=[0,-d[2],d[1]],h=[d[2],0,-d[0]];this.projections.push({axis:g,projection:ms(this.points,this.points[0],g)}),this.projections.push({axis:h,projection:ms(this.points,this.points[0],h)})}}static fromInvProjectionMatrix(n,i,d,g){const h=Math.pow(2,d),v=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map(A=>{const b=$e.vec4.transformMat4([],A,n),P=1/b[3]/i*h;return $e.vec4.mul(b,b,[P,P,g?1/b[3]:P,P])}),S=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map(A=>{const b=$e.vec3.sub([],v[A[0]],v[A[1]]),P=$e.vec3.sub([],v[A[2]],v[A[1]]),$=$e.vec3.normalize([],$e.vec3.cross([],b,P)),T=-$e.vec3.dot($,v[A[1]]);return $.concat(T)}),M=[];for(let A=0;A<v.length;A++)M.push([v[A][0],v[A][1],v[A][2]]);return new us(M,S)}intersectsPrecise(n,i,d){for(let g=0;g<i.length;g++)if(!Pa(n,i[g]))return 0;for(let g=0;g<this.planes.length;g++)if(!Pa(n,this.planes[g]))return 0;for(const g of d)for(const h of this.frustumEdges){const v=$e.vec3.cross([],g,h),S=$e.vec3.length(v);if(S===0)continue;$e.vec3.scale(v,v,1/S);const M=ms(this.points,this.points[0],v),A=ms(n,this.points[0],v);if(M[0]>A[1]||A[0]>M[1])return 0}return 1}containsPoint(n){for(const i of this.planes){const d=i[3];if($e.vec3.dot([i[0],i[1],i[2]],n)+d<0)return!1}return!0}}class Do{static fromPoints(n){const i=[1/0,1/0,1/0],d=[-1/0,-1/0,-1/0];for(const g of n)$e.vec3.min(i,i,g),$e.vec3.max(d,d,g);return new Do(i,d)}static fromTileIdAndHeight(n,i,d){const g=1<<n.canonical.z,h=n.canonical.x,v=n.canonical.y;return new Do([h/g,v/g,i],[(h+1)/g,(v+1)/g,d])}static applyTransform(n,i){const d=n.getCorners();for(let g=0;g<d.length;++g)$e.vec3.transformMat4(d[g],d[g],i);return Do.fromPoints(d)}static applyTransformFast(n,i){const d=[i[12],i[13],i[14]],g=[...d];for(let h=0;h<3;h++)for(let v=0;v<3;v++){const S=i[4*v+h],M=S*n.min[v],A=S*n.max[v];d[h]+=Math.min(M,A),g[h]+=Math.max(M,A)}return new Do(d,g)}static projectAabbCorners(n,i){const d=n.getCorners();for(let g=0;g<d.length;++g)$e.vec3.transformMat4(d[g],d[g],i);return d}constructor(n,i){this.min=n,this.max=i,this.center=$e.vec3.scale([],$e.vec3.add([],this.min,this.max),.5)}quadrant(n){const i=[n%2==0,n<2],d=$e.vec3.clone(this.min),g=$e.vec3.clone(this.max);for(let h=0;h<i.length;h++)d[h]=i[h]?this.min[h]:this.center[h],g[h]=i[h]?this.center[h]:this.max[h];return g[2]=this.max[2],new Do(d,g)}distanceX(n){return Math.max(Math.min(this.max[0],n[0]),this.min[0])-n[0]}distanceY(n){return Math.max(Math.min(this.max[1],n[1]),this.min[1])-n[1]}distanceZ(n){return Math.max(Math.min(this.max[2],n[2]),this.min[2])-n[2]}getCorners(){const n=this.min,i=this.max;return[[n[0],n[1],n[2]],[i[0],n[1],n[2]],[i[0],i[1],n[2]],[n[0],i[1],n[2]],[n[0],n[1],i[2]],[i[0],n[1],i[2]],[i[0],i[1],i[2]],[n[0],i[1],i[2]]]}intersects(n){return this.intersectsAabb(n.bounds)?ul(n,this.getCorners()):0}intersectsFlat(n){return this.intersectsAabb(n.bounds)?ul(n,[[this.min[0],this.min[1],0],[this.max[0],this.min[1],0],[this.max[0],this.max[1],0],[this.min[0],this.max[1],0]]):0}intersectsPrecise(n,i){return i||this.intersects(n)?Ks(n,this.getCorners()):0}intersectsPreciseFlat(n,i){return i||this.intersectsFlat(n)?Ks(n,[[this.min[0],this.min[1],0],[this.max[0],this.min[1],0],[this.max[0],this.max[1],0],[this.min[0],this.max[1],0]]):0}intersectsAabb(n){for(let i=0;i<3;++i)if(this.min[i]>n.max[i]||n.min[i]>this.max[i])return!1;return!0}intersectsAabbXY(n){return!(this.min[0]>n.max[0]||n.min[0]>this.max[0]||this.min[1]>n.max[1]||n.min[1]>this.max[1])}encapsulate(n){for(let i=0;i<3;i++)this.min[i]=Math.min(this.min[i],n.min[i]),this.max[i]=Math.max(this.max[i],n.max[i])}encapsulatePoint(n){for(let i=0;i<3;i++)this.min[i]=Math.min(this.min[i],n[i]),this.max[i]=Math.max(this.max[i],n[i])}closestPoint(n){return[Math.max(Math.min(this.max[0],n[0]),this.min[0]),Math.max(Math.min(this.max[1],n[1]),this.min[1]),Math.max(Math.min(this.max[2],n[2]),this.min[2])]}}function xa(u){return u*uc/Kd}_o(Do,"Aabb");const ys=[new Do([xc,xc,xc],[Cc,Cc,Cc]),new Do([xc,xc,xc],[0,0,Cc]),new Do([0,xc,xc],[Cc,0,Cc]),new Do([xc,0,xc],[0,Cc,Cc]),new Do([0,0,xc],[Cc,Cc,Cc])];function xs(u,n,i,d=!0){const g=$e.vec3.scale([],u._camera.position,u.worldSize),h=[n,i,1,1];$e.vec4.transformMat4(h,h,u.pixelMatrixInverse),$e.vec4.scale(h,h,1/h[3]);const v=$e.vec3.sub([],h,g),S=$e.vec3.normalize([],v),M=u.globeMatrix,A=[M[12],M[13],M[14]],b=$e.vec3.sub([],A,g),P=$e.vec3.length(b),$=$e.vec3.normalize([],b),T=u.worldSize/(2*Math.PI),O=$e.vec3.dot($,S),N=Math.asin(T/P);if(N<Math.acos(O)){if(!d)return null;const Gt=[],vt=[];$e.vec3.scale(Gt,S,P/O),$e.vec3.normalize(vt,$e.vec3.sub(vt,Gt,b)),$e.vec3.normalize(S,$e.vec3.add(S,b,$e.vec3.scale(S,vt,Math.tan(N)*P)))}const W=[];new ya(g,S).closestPointOnSphere(A,T,W);const J=$e.vec3.normalize([],tn(M,0)),se=$e.vec3.normalize([],tn(M,1)),ue=$e.vec3.normalize([],tn(M,2)),re=$e.vec3.dot(J,W),ve=$e.vec3.dot(se,W),we=$e.vec3.dot(ue,W),Ne=Ot(Math.asin(-ve/T));let ht=Ot(Math.atan2(re,we));ht=u.center.lng+function(Gt,vt){const en=(vt-Gt+180)%360-180;return en<-180?en+360:en}(u.center.lng,ht);const ft=_u(ht),at=Vn(Dc(Ne),0,1);return new l(ft,at)}class dl{constructor(n,i,d){this.a=$e.vec3.sub([],n,d),this.b=$e.vec3.sub([],i,d),this.center=d;const g=$e.vec3.normalize([],this.a),h=$e.vec3.normalize([],this.b);this.angle=Math.acos($e.vec3.dot(g,h))}}function Gl(u,n){if(u.angle===0)return null;let i;return i=u.a[n]===0?1/u.angle*.5*Math.PI:1/u.angle*Math.atan(u.b[n]/u.a[n]/Math.sin(u.angle)-1/Math.tan(u.angle)),i<0||i>1?null:function(d,g,h,v){const S=Math.sin(h);return d*(Math.sin((1-v)*h)/S)+g*(Math.sin(v*h)/S)}(u.a[n],u.b[n],u.angle,Vn(i,0,1))+u.center[n]}function Bl(u){if(u.z<=1)return ys[u.z+2*u.y+u.x];const n=ks(al(u));return Do.fromPoints(n)}function Fl(u,n,i){return $e.vec3.scale(u,u,1-i),$e.vec3.scaleAndAdd(u,u,n,i)}function eu(u,n,i){for(const d of u)$e.vec3.transformMat4(d,d,n),$e.vec3.scale(d,d,i)}function Ic(u,n,i,d){const g=n/u.worldSize,h=u.globeMatrix;if(i.z<=1){const ft=Bl(i).getCorners();return eu(ft,h,g),Do.fromPoints(ft)}const v=al(i,d),S=ks(v,uc+xa(u._tileCoverLift));eu(S,h,g);const M=Number.MAX_VALUE,A=[-M,-M,-M],b=[M,M,M];if(v.contains(u.center)){for(const Gt of S)$e.vec3.min(b,b,Gt),$e.vec3.max(A,A,Gt);A[2]=0;const ft=u.point,at=[ft.x*g,ft.y*g,0];return $e.vec3.min(b,b,at),$e.vec3.max(A,A,at),new Do(b,A)}if(u._tileCoverLift>0){for(const ft of S)$e.vec3.min(b,b,ft),$e.vec3.max(A,A,ft);return new Do(b,A)}const P=[h[12]*g,h[13]*g,h[14]*g],$=v.getCenter(),T=Vn(u.center.lat,-rl,rl),O=Vn($.lat,-rl,rl),N=_u(u.center.lng),W=Dc(T);let J=N-_u($.lng);const se=W-Dc(O);J>.5?J-=1:J<-.5&&(J+=1);let ue=0;if(Math.abs(J)>Math.abs(se))ue=J>=0?1:3;else{ue=se>=0?0:2;const ft=[h[4]*g,h[5]*g,h[6]*g],at=-Math.sin(it(se>=0?v.getSouth():v.getNorth()))*uc;$e.vec3.scaleAndAdd(P,P,ft,at)}const re=S[ue],ve=S[(ue+1)%4],we=new dl(re,ve,P),Ne=[Gl(we,0)||re[0],Gl(we,1)||re[1],Gl(we,2)||re[2]],ht=Mc(u.zoom);if(ht>0){const ft=function({x:Gt,y:vt,z:en},mn,un,yn,zn){const Gn=1/(1<<en);let Mn=Gt*Gn,$r=Mn+Gn,ii=vt*Gn,Or=ii+Gn,Xi=0;const Fi=(Mn+$r)/2-yn;return Fi>.5?Xi=-1:Fi<-.5&&(Xi=1),Mn=((Mn+Xi)*mn-(yn*=mn))*un+yn,$r=(($r+Xi)*mn-yn)*un+yn,ii=(ii*mn-(zn*=mn))*un+zn,Or=(Or*mn-zn)*un+zn,[[Mn,Or,0],[$r,Or,0],[$r,ii,0],[Mn,ii,0]]}(i,n,u._pixelsPerMercatorPixel,N,W);for(let Gt=0;Gt<S.length;Gt++)Fl(S[Gt],ft[Gt],ht);const at=$e.vec3.add([],ft[ue],ft[(ue+1)%4]);$e.vec3.scale(at,at,.5),Fl(Ne,at,ht)}for(const ft of S)$e.vec3.min(b,b,ft),$e.vec3.max(A,A,ft);return b[2]=Math.min(re[2],ve[2]),$e.vec3.min(b,b,Ne),$e.vec3.max(A,A,Ne),new Do(b,A)}function al({x:u,y:n,z:i},d=!1){const g=1/(1<<i),h=new ps(Bc(u*g),n===(1<<i)-1&&d?-90:dc((n+1)*g)),v=new ps(Bc((u+1)*g),n===0&&d?90:dc(n*g));return new qu(h,v)}function ks(u,n=uc){const i=it(u.getNorth()),d=it(u.getSouth()),g=Math.cos(i),h=Math.cos(d),v=Math.sin(i),S=Math.sin(d),M=u.getWest(),A=u.getEast();return[If(h,S,M,n),If(h,S,A,n),If(g,v,A,n),If(g,v,M,n)]}function Rs(u,n,i,d){const g=1<<i.z,h=(u/Bi+i.x)/g;return Gd(dc((n/Bi+i.y)/g),Bc(h),d)}function rs({min:u,max:n}){return l0/Math.max(n[0]-u[0],n[1]-u[1],n[2]-u[2])}const fl=new Float64Array(16);function nc(u){const n=rs(u),i=$e.mat4.fromScaling(fl,[n,n,n]);return $e.mat4.translate(i,i,$e.vec3.negate([],u.min))}function Ns(u){const n=$e.mat4.fromTranslation(fl,u.min),i=1/rs(u);return $e.mat4.scale(n,n,[i,i,i])}function Tc(u){const n=Bi/(2*Math.PI);return u/(2*Math.PI)/n}function Uc(u,n){return Bi/(512*Math.pow(2,u))*rs(Bl(n))}function Wc(u,n,i,d,g){const h=Tc(i),v=[u,n,-i/(2*Math.PI)],S=$e.mat4.identity(new Float64Array(16));return $e.mat4.translate(S,S,v),$e.mat4.scale(S,S,[h,h,h]),$e.mat4.rotateX(S,S,it(-g)),$e.mat4.rotateY(S,S,it(-d)),S}function Mc(u){return ri(wf,s0,u)}function bu(u,n){const i=Gd(n.lat,n.lng),d=function(h){const v=Gd(h._center.lat,h._center.lng),S=$e.vec3.fromValues(0,1,0);let M=$e.vec3.cross([],S,v);const A=$e.mat4.fromRotation([],-h.angle,v);M=$e.vec3.transformMat4(M,M,A),$e.mat4.fromRotation(A,-h._pitch,M);const b=$e.vec3.normalize([],v);return $e.vec3.scale(b,b,xa(h.cameraToCenterDistance/h.pixelsPerMeter)),$e.vec3.transformMat4(b,b,A),$e.vec3.add([],v,b)}(u),g=$e.vec3.subtract([],d,i);return $e.vec3.angle(g,i)}function cu(u,n){return bu(u,n)>Math.PI/2*1.01}const pc=it(85),Xd=Math.cos(pc),Au=Math.sin(pc),xu=$e.mat4.create(),_d=u=>{const n=[];return u.paint.get("circle-pitch-alignment")==="map"&&n.push("PITCH_WITH_MAP"),u.paint.get("circle-pitch-scale")==="map"&&n.push("SCALE_WITH_MAP"),n};function wp(u,n,i,d,g,h,v,S,M){if(h&&u.queryGeometry.isAboveHorizon)return!1;h&&(M*=u.pixelToTileUnitsFactor);const A=u.tileID.canonical,b=i.projection.upVectorScale(A,i.center.lat,i.worldSize).metersToTile;for(const P of n)for(const $ of P){const T=$.add(S),O=g&&i.elevation?i.elevation.exaggeration()*g.getElevationAt(T.x,T.y,!0):0,N=i.projection.projectTilePoint(T.x,T.y,A);if(O>0){const ue=i.projection.upVector(A,T.x,T.y);N.x+=ue[0]*b*O,N.y+=ue[1]*b*O,N.z+=ue[2]*b*O}const W=h?T:Lm(N.x,N.y,N.z,d),J=h?u.tilespaceRays.map(ue=>lC(ue,O)):u.queryGeometry.screenGeometry,se=$e.vec4.transformMat4([],[N.x,N.y,N.z,1],d);if(!v&&h?M*=se[3]/i.cameraToCenterDistance:v&&!h&&(M*=i.cameraToCenterDistance/se[3]),h){const ue=dc(($.y/Bi+A.y)/(1<<A.z));M/=i.projection.pixelsPerMeter(ue,1)/Ol(1,ue)}if(Le(J,W,M))return!0}return!1}function Lm(u,n,i,d){const g=$e.vec4.transformMat4([],[u,n,i,1],d);return new Rn(g[0]/g[3],g[1]/g[3])}const U_=$e.vec3.fromValues(0,0,0),sC=$e.vec3.fromValues(0,0,1);function lC(u,n){const i=$e.vec3.create();return U_[2]=n,u.intersectsPlane(U_,sC,i),new Rn(i[0],i[1])}class Nv extends Me{}let W_,Bv,Fv,kv;function G_(u,{width:n,height:i},d,g){if(g){if(g instanceof Uint8ClampedArray)g=new Uint8Array(g.buffer);else if(g.length!==n*i*d)throw new RangeError("mismatched image size")}else g=new Uint8Array(n*i*d);return u.width=n,u.height=i,u.data=g,u}function K_(u,n,i){const{width:d,height:g}=n;d===u.width&&g===u.height||(jv(u,n,{x:0,y:0},{x:0,y:0},{width:Math.min(u.width,d),height:Math.min(u.height,g)},i,null),u.width=d,u.height=g,u.data=n.data)}function jv(u,n,i,d,g,h,v,S){if(g.width===0||g.height===0)return n;if(g.width>u.width||g.height>u.height||i.x>u.width-g.width||i.y>u.height-g.height)throw new RangeError("out of range source coordinates for image copy");if(g.width>n.width||g.height>n.height||d.x>n.width-g.width||d.y>n.height-g.height)throw new RangeError("out of range destination coordinates for image copy");const M=u.data,A=n.data,b=h===4&&S;for(let P=0;P<g.height;P++){const $=((i.y+P)*u.width+i.x)*h,T=((d.y+P)*n.width+d.x)*h;if(b)for(let O=0;O<g.width;O++){const N=$+O*h+3,W=T+O*h;A[W+0]=255,A[W+1]=255,A[W+2]=255,A[W+3]=M[N]}else if(v)for(let O=0;O<g.width;O++){const N=$+O*h,W=T+O*h,J=M[N+3],se=new _e(M[N+0]/255*J,M[N+1]/255*J,M[N+2]/255*J,J).toRenderColor(v).toArray();A[W+0]=se[0],A[W+1]=se[1],A[W+2]=se[2],A[W+3]=se[3]}else for(let O=0;O<g.width*h;O++)A[T+O]=M[$+O]}return n}_o(Nv,"HeatmapBucket",{omit:["layers"]});class Yd{constructor(n,i){G_(this,n,1,i)}resize(n){K_(this,new Yd(n),1)}clone(){return new Yd({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(n,i,d,g,h){jv(n,i,d,g,h,1,null)}}class Sc{constructor(n,i){G_(this,n,4,i)}resize(n){K_(this,new Sc(n),4)}replace(n,i){i?this.data.set(n):this.data=n instanceof Uint8ClampedArray?new Uint8Array(n.buffer):n}clone(){return new Sc({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(n,i,d,g,h,v,S){jv(n,i,d,g,h,4,v,S)}}class zm{constructor(n,i){this.width=n.width,this.height=n.height,this.data=i instanceof Uint8Array?new Float32Array(i.buffer):i}}function Nm(u){const n={},i=u.resolution||256,d=u.clips?u.clips.length:1,g=u.image||new Sc({width:i,height:d}),h=(v,S,M)=>{n[u.evaluationKey]=M;const A=u.expression.evaluate(n);A&&(g.data[v+S+0]=Math.floor(255*A.r/A.a),g.data[v+S+1]=Math.floor(255*A.g/A.a),g.data[v+S+2]=Math.floor(255*A.b/A.a),g.data[v+S+3]=Math.floor(255*A.a))};if(u.clips)for(let v=0,S=0;v<d;++v,S+=4*i)for(let M=0,A=0;M<i;M++,A+=4){const b=M/(i-1),{start:P,end:$}=u.clips[v];h(S,A,P*(1-b)+$*b)}else for(let v=0,S=0;v<i;v++,S+=4)h(0,S,v/(i-1));return g}_o(Yd,"AlphaImage"),_o(Sc,"RGBAImage");const o2=bs([{name:"a_pos",components:2,type:"Int16"}],4),{members:X_}=o2;function Bm(u,n,i=2){const d=n&&n.length,g=d?n[0]*i:u.length;let h=Y_(u,0,g,i,!0);const v=[];if(!h||h.next===h.prev)return v;let S,M,A;if(d&&(h=function(b,P,$,T){const O=[];for(let N=0,W=P.length;N<W;N++){const J=Y_(b,P[N]*T,N<W-1?P[N+1]*T:b.length,T,!1);J===J.next&&(J.steiner=!0),O.push(Q_(J))}O.sort(s2);for(let N=0;N<O.length;N++)$=q_(O[N],$);return $}(u,n,h,i)),u.length>80*i){S=1/0,M=1/0;let b=-1/0,P=-1/0;for(let $=i;$<g;$+=i){const T=u[$],O=u[$+1];T<S&&(S=T),O<M&&(M=O),T>b&&(b=T),O>P&&(P=O)}A=Math.max(b-S,P-M),A=A!==0?32767/A:0}return Fm(h,v,i,S,M,A,0),v}function Y_(u,n,i,d,g){let h;if(g===function(v,S,M,A){let b=0;for(let P=S,$=M-A;P<M;P+=A)b+=(v[$]-v[P])*(v[P+1]+v[$+1]),$=P;return b}(u,n,i,d)>0)for(let v=n;v<i;v+=d)h=uC(v/d|0,u[v],u[v+1],h);else for(let v=i-d;v>=n;v-=d)h=uC(v/d|0,u[v],u[v+1],h);return h&&km(h,h.next)&&(jm(h),h=h.next),h}function wh(u,n){if(!u)return u;n||(n=u);let i,d=u;do if(i=!1,d.steiner||!km(d,d.next)&&Kl(d.prev,d,d.next)!==0)d=d.next;else{if(jm(d),d=n=d.prev,d===d.next)break;i=!0}while(i||d!==n);return n}function Fm(u,n,i,d,g,h,v){if(!u)return;!v&&h&&function(M,A,b,P){let $=M;do $.z===0&&($.z=J_($.x,$.y,A,b,P)),$.prevZ=$.prev,$.nextZ=$.next,$=$.next;while($!==M);$.prevZ.nextZ=null,$.prevZ=null,function(T){let O,N=1;do{let W,J=T;T=null;let se=null;for(O=0;J;){O++;let ue=J,re=0;for(let we=0;we<N&&(re++,ue=ue.nextZ,ue);we++);let ve=N;for(;re>0||ve>0&&ue;)re!==0&&(ve===0||!ue||J.z<=ue.z)?(W=J,J=J.nextZ,re--):(W=ue,ue=ue.nextZ,ve--),se?se.nextZ=W:T=W,W.prevZ=se,se=W;J=ue}se.nextZ=null,N*=2}while(O>1)}($)}(u,d,g,h);let S=u;for(;u.prev!==u.next;){const M=u.prev,A=u.next;if(h?a2(u,d,g,h):Zv(u))n.push(M.i,u.i,A.i),jm(u),u=A.next,S=A.next;else if((u=A)===S){v?v===1?Fm(u=c0(wh(u),n),n,i,d,g,h,2):v===2&&cC(u,n,i,d,g,h):Fm(wh(u),n,i,d,g,h,1);break}}}function Zv(u){const n=u.prev,i=u,d=u.next;if(Kl(n,i,d)>=0)return!1;const g=n.x,h=i.x,v=d.x,S=n.y,M=i.y,A=d.y,b=g<h?g<v?g:v:h<v?h:v,P=S<M?S<A?S:A:M<A?M:A,$=g>h?g>v?g:v:h>v?h:v,T=S>M?S>A?S:A:M>A?M:A;let O=d.next;for(;O!==n;){if(O.x>=b&&O.x<=$&&O.y>=P&&O.y<=T&&Ep(g,S,h,M,v,A,O.x,O.y)&&Kl(O.prev,O,O.next)>=0)return!1;O=O.next}return!0}function a2(u,n,i,d){const g=u.prev,h=u,v=u.next;if(Kl(g,h,v)>=0)return!1;const S=g.x,M=h.x,A=v.x,b=g.y,P=h.y,$=v.y,T=S<M?S<A?S:A:M<A?M:A,O=b<P?b<$?b:$:P<$?P:$,N=S>M?S>A?S:A:M>A?M:A,W=b>P?b>$?b:$:P>$?P:$,J=J_(T,O,n,i,d),se=J_(N,W,n,i,d);let ue=u.prevZ,re=u.nextZ;for(;ue&&ue.z>=J&&re&&re.z<=se;){if(ue.x>=T&&ue.x<=N&&ue.y>=O&&ue.y<=W&&ue!==g&&ue!==v&&Ep(S,b,M,P,A,$,ue.x,ue.y)&&Kl(ue.prev,ue,ue.next)>=0||(ue=ue.prevZ,re.x>=T&&re.x<=N&&re.y>=O&&re.y<=W&&re!==g&&re!==v&&Ep(S,b,M,P,A,$,re.x,re.y)&&Kl(re.prev,re,re.next)>=0))return!1;re=re.nextZ}for(;ue&&ue.z>=J;){if(ue.x>=T&&ue.x<=N&&ue.y>=O&&ue.y<=W&&ue!==g&&ue!==v&&Ep(S,b,M,P,A,$,ue.x,ue.y)&&Kl(ue.prev,ue,ue.next)>=0)return!1;ue=ue.prevZ}for(;re&&re.z<=se;){if(re.x>=T&&re.x<=N&&re.y>=O&&re.y<=W&&re!==g&&re!==v&&Ep(S,b,M,P,A,$,re.x,re.y)&&Kl(re.prev,re,re.next)>=0)return!1;re=re.nextZ}return!0}function c0(u,n){let i=u;do{const d=i.prev,g=i.next.next;!km(d,g)&&Sl(d,i,i.next,g)&&u0(d,g)&&u0(g,d)&&(n.push(d.i,i.i,g.i),jm(i),jm(i.next),i=u=g),i=i.next}while(i!==u);return wh(i)}function cC(u,n,i,d,g,h){let v=u;do{let S=v.next.next;for(;S!==v.prev;){if(v.i!==S.i&&Vv(v,S)){let M=eb(v,S);return v=wh(v,v.next),M=wh(M,M.next),Fm(v,n,i,d,g,h,0),void Fm(M,n,i,d,g,h,0)}S=S.next}v=v.next}while(v!==u)}function s2(u,n){return u.x-n.x}function q_(u,n){const i=function(g,h){let v=h;const S=g.x,M=g.y;let A,b=-1/0;do{if(M<=v.y&&M>=v.next.y&&v.next.y!==v.y){const N=v.x+(M-v.y)*(v.next.x-v.x)/(v.next.y-v.y);if(N<=S&&N>b&&(b=N,A=v.x<v.next.x?v:v.next,N===S))return A}v=v.next}while(v!==h);if(!A)return null;const P=A,$=A.x,T=A.y;let O=1/0;v=A;do{if(S>=v.x&&v.x>=$&&S!==v.x&&Ep(M<T?S:b,M,$,T,M<T?b:S,M,v.x,v.y)){const N=Math.abs(M-v.y)/(S-v.x);u0(v,g)&&(N<O||N===O&&(v.x>A.x||v.x===A.x&&Du(A,v)))&&(A=v,O=N)}v=v.next}while(v!==P);return A}(u,n);if(!i)return n;const d=eb(i,u);return wh(d,d.next),wh(i,i.next)}function Du(u,n){return Kl(u.prev,u,n.prev)<0&&Kl(n.next,u,u.next)<0}function J_(u,n,i,d,g){return(u=1431655765&((u=858993459&((u=252645135&((u=16711935&((u=(u-i)*g|0)|u<<8))|u<<4))|u<<2))|u<<1))|(n=1431655765&((n=858993459&((n=252645135&((n=16711935&((n=(n-d)*g|0)|n<<8))|n<<4))|n<<2))|n<<1))<<1}function Q_(u){let n=u,i=u;do(n.x<i.x||n.x===i.x&&n.y<i.y)&&(i=n),n=n.next;while(n!==u);return i}function Ep(u,n,i,d,g,h,v,S){return(g-v)*(n-S)>=(u-v)*(h-S)&&(u-v)*(d-S)>=(i-v)*(n-S)&&(i-v)*(h-S)>=(g-v)*(d-S)}function Vv(u,n){return u.next.i!==n.i&&u.prev.i!==n.i&&!function(i,d){let g=i;do{if(g.i!==i.i&&g.next.i!==i.i&&g.i!==d.i&&g.next.i!==d.i&&Sl(g,g.next,i,d))return!0;g=g.next}while(g!==i);return!1}(u,n)&&(u0(u,n)&&u0(n,u)&&function(i,d){let g=i,h=!1;const v=(i.x+d.x)/2,S=(i.y+d.y)/2;do g.y>S!=g.next.y>S&&g.next.y!==g.y&&v<(g.next.x-g.x)*(S-g.y)/(g.next.y-g.y)+g.x&&(h=!h),g=g.next;while(g!==i);return h}(u,n)&&(Kl(u.prev,u,n.prev)||Kl(u,n.prev,n))||km(u,n)&&Kl(u.prev,u,u.next)>0&&Kl(n.prev,n,n.next)>0)}function Kl(u,n,i){return(n.y-u.y)*(i.x-n.x)-(n.x-u.x)*(i.y-n.y)}function km(u,n){return u.x===n.x&&u.y===n.y}function Sl(u,n,i,d){const g=Pc(Kl(u,n,i)),h=Pc(Kl(u,n,d)),v=Pc(Kl(i,d,u)),S=Pc(Kl(i,d,n));return g!==h&&v!==S||!(g!==0||!Ip(u,i,n))||!(h!==0||!Ip(u,d,n))||!(v!==0||!Ip(i,u,d))||!(S!==0||!Ip(i,n,d))}function Ip(u,n,i){return n.x<=Math.max(u.x,i.x)&&n.x>=Math.min(u.x,i.x)&&n.y<=Math.max(u.y,i.y)&&n.y>=Math.min(u.y,i.y)}function Pc(u){return u>0?1:u<0?-1:0}function u0(u,n){return Kl(u.prev,u,u.next)<0?Kl(u,n,u.next)>=0&&Kl(u,u.prev,n)>=0:Kl(u,n,u.prev)<0||Kl(u,u.next,n)<0}function eb(u,n){const i=d0(u.i,u.x,u.y),d=d0(n.i,n.x,n.y),g=u.next,h=n.prev;return u.next=n,n.prev=u,i.next=g,g.prev=i,d.next=i,i.prev=d,h.next=d,d.prev=h,d}function uC(u,n,i,d){const g=d0(u,n,i);return d?(g.next=d.next,g.prev=d,d.next.prev=g,d.next=g):(g.prev=g,g.next=g),g}function jm(u){u.next.prev=u.prev,u.prev.next=u.next,u.prevZ&&(u.prevZ.nextZ=u.nextZ),u.nextZ&&(u.nextZ.prevZ=u.prevZ)}function d0(u,n,i){return{i:u,x:n,y:i,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}function Hv(u,n){const i=u.length;if(i<=1)return[u];const d=[];let g,h;for(let v=0;v<i;v++){const S=Si(u[v]);S!==0&&(u[v].area=Math.abs(S),h===void 0&&(h=S<0),h===S<0?(g&&d.push(g),g=[u[v]]):g.push(u[v]))}if(g&&d.push(g),n>1)for(let v=0;v<d.length;v++)d[v].length<=n||(_s(d[v],n,1,d[v].length-1,tb),d[v]=d[v].slice(0,n));return d}function tb(u,n){return n.area-u.area}function Uv(u,n,i=1){if(!u)return null;const d=typeof u=="string"?u:u.getPrimary().id;n[d]||(n[d]=[]);const g=vi.from(d).getPrimary().scaleSelf(i);return n[d].push(g),g.serialize()}function nb(u,n,i,d){const g=d.patternDependencies;let h=!1;for(const v of n){const S=v.paint.get(`${u}-pattern`);S.isConstant()||(h=!0),Uv(S.constantOr(null),g,i)&&(h=!0)}return h}function Wv(u,n,i,d,g,h){const v=h.patternDependencies;for(const S of n){const M=S.paint.get(`${u}-pattern`).value;if(M.kind!=="constant"){let A=M.evaluate({zoom:d},i,{},h.availableImages);A=A&&A.name?A.name:A;const b=Uv(A,v,g);b&&(i.patterns[S.id]=b)}}return i}class f0{constructor(n){this.zoom=n.zoom,this.pixelRatio=n.pixelRatio,this.overscaling=n.overscaling,this.layers=n.layers,this.layerIds=this.layers.map(i=>i.fqid),this.index=n.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new pd,this.indexArray=new Nl,this.indexArray2=new Ku,this.programConfigurations=new yd(n.layers,{zoom:n.zoom,lut:n.lut}),this.segments=new cl,this.segments2=new cl,this.stateDependentLayerIds=this.layers.filter(i=>i.isStateDependent()).map(i=>i.id),this.projection=n.projection}updateFootprints(n,i){}populate(n,i,d,g){this.hasPattern=nb("fill",this.layers,this.pixelRatio,i);const h=this.layers[0].layout.get("fill-sort-key"),v=[];for(const{feature:S,id:M,index:A,sourceLayerIndex:b}of n){const P=this.layers[0]._featureFilter.needGeometry,$=Q(S,P);if(!this.layers[0]._featureFilter.filter(new Ws(this.zoom),$,d))continue;const T=h?h.evaluate($,{},d,i.availableImages):void 0,O={id:M,properties:S.properties,type:S.type,sourceLayerIndex:b,index:A,geometry:P?$.geometry:U(S,d,g),patterns:{},sortKey:T};v.push(O)}h&&v.sort((S,M)=>S.sortKey-M.sortKey);for(const S of v){const{geometry:M,index:A,sourceLayerIndex:b}=S;if(this.hasPattern){const P=Wv("fill",this.layers,S,this.zoom,this.pixelRatio,i);this.patternFeatures.push(P)}else this.addFeature(S,M,A,d,{},i.availableImages,i.brightness,i.elevationFeatures);i.featureIndex.insert(n[A].feature,M,A,b,this.index)}}update(n,i,d,g,h,v,S){this.programConfigurations.updatePaintArrays(n,i,h,d,g,v,S)}addFeatures(n,i,d,g,h,v){for(const S of this.patternFeatures)this.addFeature(S,S.geometry,S.index,i,d,g,v,n.elevationFeatures)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(n){this.uploaded||(this.layoutVertexBuffer=n.createVertexBuffer(this.layoutVertexArray,X_),this.indexBuffer=n.createIndexBuffer(this.indexArray),this.indexBuffer2=n.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(n),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())}addFeature(n,i,d,g,h,v=[],S,M){for(const A of Hv(i,500)){let b=0;for(const W of A)b+=W.length;const P=this.segments.prepareSegment(b,this.layoutVertexArray,this.indexArray),$=P.vertexLength,T=[],O=[];for(const W of A){if(W.length===0)continue;W!==A[0]&&O.push(T.length/2);const J=this.segments2.prepareSegment(W.length,this.layoutVertexArray,this.indexArray2),se=J.vertexLength;this.layoutVertexArray.emplaceBack(W[0].x,W[0].y),this.indexArray2.emplaceBack(se+W.length-1,se),T.push(W[0].x),T.push(W[0].y);for(let ue=1;ue<W.length;ue++)this.layoutVertexArray.emplaceBack(W[ue].x,W[ue].y),this.indexArray2.emplaceBack(se+ue-1,se+ue),T.push(W[ue].x),T.push(W[ue].y);J.vertexLength+=W.length,J.primitiveLength+=W.length}const N=Bm(T,O);for(let W=0;W<N.length;W+=3)this.indexArray.emplaceBack($+N[W],$+N[W+1],$+N[W+2]);P.vertexLength+=b,P.primitiveLength+=N.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,n,d,h,v,g,S)}}let Gv,rb,ib,ob;_o(f0,"FillBucket",{omit:["layers","patternFeatures"]});class ab{constructor(n,i,d,g){if(this.triangleCount=i.length/3,this.min=new Rn(0,0),this.max=new Rn(0,0),this.xScale=0,this.yScale=0,this.cellsX=0,this.cellsY=0,this.cells=[],this.payload=[],this.triangleCount===0||n.length===0)return;const[h,v]=[n[0].clone(),n[0].clone()];for(let P=1;P<n.length;++P){const $=n[P];h.x=Math.min(h.x,$.x),h.y=Math.min(h.y,$.y),v.x=Math.max(v.x,$.x),v.y=Math.max(v.y,$.y)}if(g){const P=Math.ceil(Math.max(v.x-h.x,v.y-h.y)/g);d=Math.max(d,P)}if(d===0)return;this.min=h,this.max=v;const S=this.max.sub(this.min);S.x=Math.max(S.x,1),S.y=Math.max(S.y,1);const M=Math.max(S.x,S.y)/d;this.cellsX=Math.max(1,Math.ceil(S.x/M)),this.cellsY=Math.max(1,Math.ceil(S.y/M)),this.xScale=1/M,this.yScale=1/M;const A=[];for(let P=0;P<this.triangleCount;P++){const $=n[i[3*P+0]].sub(this.min),T=n[i[3*P+1]].sub(this.min),O=n[i[3*P+2]].sub(this.min),N=Ju(Math.floor(Math.min($.x,T.x,O.x)),this.xScale,this.cellsX),W=Ju(Math.floor(Math.max($.x,T.x,O.x)),this.xScale,this.cellsX),J=Ju(Math.floor(Math.min($.y,T.y,O.y)),this.yScale,this.cellsY),se=Ju(Math.floor(Math.max($.y,T.y,O.y)),this.yScale,this.cellsY),ue=new Rn(0,0),re=new Rn(0,0),ve=new Rn(0,0),we=new Rn(0,0);for(let Ne=J;Ne<=se;++Ne){ue.y=re.y=Ne*M,ve.y=we.y=(Ne+1)*M;for(let ht=N;ht<=W;++ht)ue.x=ve.x=ht*M,re.x=we.x=(ht+1)*M,(Jn($,T,O,ue,re,we)||Jn($,T,O,ue,we,ve))&&A.push({cellIdx:Ne*this.cellsX+ht,triIdx:P})}}if(A.length===0)return;A.sort((P,$)=>P.cellIdx-$.cellIdx||P.triIdx-$.triIdx);let b=0;for(;b<A.length;){const P=A[b].cellIdx,$={start:this.payload.length,len:0};for(;b<A.length&&A[b].cellIdx===P;)++$.len,this.payload.push(A[b++].triIdx);this.cells[P]=$}}_lazyInitLookup(){this.lookup||(this.lookup=new Uint8Array(Math.ceil(this.triangleCount/8))),this.lookup.fill(0)}queryPoint(n,i){if(this.triangleCount===0||this.cells.length===0||n.x>this.max.x||this.min.x>n.x||n.y>this.max.y||this.min.y>n.y)return;const d=Ju(n.x-this.min.x,this.xScale,this.cellsX),g=Ju(n.y-this.min.y,this.yScale,this.cellsY),h=this.cells[g*this.cellsX+d];if(h){this._lazyInitLookup();for(let v=0;v<h.len;v++){const S=this.payload[h.start+v],M=Math.floor(S/8),A=1<<S%8;if(!(this.lookup[M]&A)&&(this.lookup[M]|=A,i.push(S),i.length===this.triangleCount))return}}}query(n,i,d){if(this.triangleCount===0||this.cells.length===0||n.x>this.max.x||this.min.x>i.x||n.y>this.max.y||this.min.y>i.y)return;this._lazyInitLookup();const g=Ju(n.x-this.min.x,this.xScale,this.cellsX),h=Ju(i.x-this.min.x,this.xScale,this.cellsX),v=Ju(n.y-this.min.y,this.yScale,this.cellsY),S=Ju(i.y-this.min.y,this.yScale,this.cellsY);for(let M=v;M<=S;M++)for(let A=g;A<=h;A++){const b=this.cells[M*this.cellsX+A];if(b)for(let P=0;P<b.len;P++){const $=this.payload[b.start+P],T=Math.floor($/8),O=1<<$%8;if(!(this.lookup[T]&O)&&(this.lookup[T]|=O,d.push($),d.length===this.triangleCount))return}}}}function Ju(u,n,i){return Math.max(0,Math.min(i-1,Math.floor(u*n)))}_o(ab,"TriangleGridIndex");class sb{constructor(n){this.zoom=n.zoom,this.layers=n.layers,this.layerIds=this.layers.map(i=>i.fqid),this.index=n.index,this.hasPattern=!1,this.stateDependentLayerIds=this.layers.filter(i=>i.isStateDependent()).map(i=>i.id),this.footprints=[]}updateFootprints(n,i){for(const d of this.footprints)i.push({footprint:d,id:n})}populate(n,i,d,g){const h=[];for(const{feature:v,id:S,index:M,sourceLayerIndex:A}of n){const b=this.layers[0]._featureFilter.needGeometry,P=Q(v,b);if(!this.layers[0]._featureFilter.filter(new Ws(this.zoom),P,d))continue;const $={id:S,properties:v.properties,type:v.type,sourceLayerIndex:A,index:M,geometry:b?P.geometry:U(v,d,g),patterns:{}};h.push($)}for(const v of h){const{geometry:S,index:M,sourceLayerIndex:A}=v;this.addFeature(v,S,M,d,{},i.availableImages,i.brightness),i.featureIndex.insert(n[M].feature,S,M,A,this.index)}}isEmpty(){return this.footprints.length===0}uploadPending(){return!1}upload(n){}update(n,i,d,g,h,v,S){}destroy(){}addFeature(n,i,d,g,h,v=[],S){for(const M of Hv(i,2)){const A=[],b=[],P=[],$=new Rn(1/0,1/0),T=new Rn(-1/0,-1/0);for(const W of M)if(W.length!==0){W!==M[0]&&P.push(b.length/2);for(let J=0;J<W.length;J++)b.push(W[J].x),b.push(W[J].y),A.push(W[J]),$.x=Math.min($.x,W[J].x),$.y=Math.min($.y,W[J].y),T.x=Math.max(T.x,W[J].x),T.y=Math.max(T.y,W[J].y)}const O=Bm(b,P),N=new ab(A,O,8,256);this.footprints.push({vertices:A,indices:O,grid:N,min:$,max:T})}}}_o(sb,"ClipBucket",{omit:["layers"]});const Kv=bs([{name:"a_pos_normal_ed",components:4,type:"Int16"}]),dC=bs([{name:"a_pos_end",components:4,type:"Int16"},{name:"a_angular_offset_factor",components:1,type:"Int16"}]),l2=bs([{name:"a_centroid_pos",components:2,type:"Uint16"}]),fC=bs([{name:"a_join_normal_inside",components:3,type:"Int16"}]),Zm=bs([{name:"a_hidden_by_landmark",components:1,type:"Uint8"}]),Xv=bs([{name:"a_pos_3",components:3,type:"Int16"},{name:"a_pos_normal_3",components:3,type:"Int16"}]),{members:h0}=Kv;var Eh,Vm,lb,cb,Yv,ub,db,qv={};function p0(){if(Vm)return Eh;Vm=1;var u=Kr();function n(g,h,v,S,M){this.properties={},this.extent=v,this.type=0,this._pbf=g,this._geometry=-1,this._keys=S,this._values=M,g.readFields(i,this,h)}function i(g,h,v){g==1?h.id=v.readVarint():g==2?function(S,M){for(var A=S.readVarint()+S.pos;S.pos<A;){var b=M._keys[S.readVarint()],P=M._values[S.readVarint()];M.properties[b]=P}}(v,h):g==3?h.type=v.readVarint():g==4&&(h._geometry=v.pos)}function d(g){for(var h,v,S=0,M=0,A=g.length,b=A-1;M<A;b=M++)S+=((v=g[b]).x-(h=g[M]).x)*(h.y+v.y);return S}return Eh=n,n.types=["Unknown","Point","LineString","Polygon"],n.prototype.loadGeometry=function(){var g=this._pbf;g.pos=this._geometry;for(var h,v=g.readVarint()+g.pos,S=1,M=0,A=0,b=0,P=[];g.pos<v;){if(M<=0){var $=g.readVarint();S=7&$,M=$>>3}if(M--,S===1||S===2)A+=g.readSVarint(),b+=g.readSVarint(),S===1&&(h&&P.push(h),h=[]),h.push(new u(A,b));else{if(S!==7)throw new Error("unknown command "+S);h&&h.push(h[0].clone())}}return h&&P.push(h),P},n.prototype.bbox=function(){var g=this._pbf;g.pos=this._geometry;for(var h=g.readVarint()+g.pos,v=1,S=0,M=0,A=0,b=1/0,P=-1/0,$=1/0,T=-1/0;g.pos<h;){if(S<=0){var O=g.readVarint();v=7&O,S=O>>3}if(S--,v===1||v===2)(M+=g.readSVarint())<b&&(b=M),M>P&&(P=M),(A+=g.readSVarint())<$&&($=A),A>T&&(T=A);else if(v!==7)throw new Error("unknown command "+v)}return[b,$,P,T]},n.prototype.toGeoJSON=function(g,h,v){var S,M,A=this.extent*Math.pow(2,v),b=this.extent*g,P=this.extent*h,$=this.loadGeometry(),T=n.types[this.type];function O(J){for(var se=0;se<J.length;se++){var ue=J[se];J[se]=[360*(ue.x+b)/A-180,360/Math.PI*Math.atan(Math.exp((180-360*(ue.y+P)/A)*Math.PI/180))-90]}}switch(this.type){case 1:var N=[];for(S=0;S<$.length;S++)N[S]=$[S][0];O($=N);break;case 2:for(S=0;S<$.length;S++)O($[S]);break;case 3:for($=function(J){var se=J.length;if(se<=1)return[J];for(var ue,re,ve=[],we=0;we<se;we++){var Ne=d(J[we]);Ne!==0&&(re===void 0&&(re=Ne<0),re===Ne<0?(ue&&ve.push(ue),ue=[J[we]]):ue.push(J[we]))}return ue&&ve.push(ue),ve}($),S=0;S<$.length;S++)for(M=0;M<$[S].length;M++)O($[S][M])}$.length===1?$=$[0]:T="Multi"+T;var W={type:"Feature",geometry:{type:T,coordinates:$},properties:this.properties};return"id"in this&&(W.id=this.id),W},Eh}function fb(){if(cb)return lb;cb=1;var u=p0();function n(d,g){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=d,this._keys=[],this._values=[],this._features=[],d.readFields(i,this,g),this.length=this._features.length}function i(d,g,h){d===15?g.version=h.readVarint():d===1?g.name=h.readString():d===5?g.extent=h.readVarint():d===2?g._features.push(h.pos):d===3?g._keys.push(h.readString()):d===4&&g._values.push(function(v){for(var S=null,M=v.readVarint()+v.pos;v.pos<M;){var A=v.readVarint()>>3;S=A===1?v.readString():A===2?v.readFloat():A===3?v.readDouble():A===4?v.readVarint64():A===5?v.readVarint():A===6?v.readSVarint():A===7?v.readBoolean():null}return S}(h))}return lb=n,n.prototype.feature=function(d){if(d<0||d>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[d];var g=this._pbf.readVarint()+this._pbf.pos;return new u(this._pbf,g,this.extent,this._keys,this._values)},lb}function hb(){return db||(db=1,qv.VectorTile=function(){if(ub)return Yv;ub=1;var u=fb();function n(i,d,g){if(i===3){var h=new u(g,g.readVarint()+g.pos);h.length&&(d[h.name]=h)}}return Yv=function(i,d){this.layers=i.readFields(n,{},d)},Yv}(),qv.VectorTileFeature=p0(),qv.VectorTileLayer=fb()),qv}var Tf=hb();class Mf extends Rn{constructor(n,i,d){super(n,i),this.z=d}}class m0 extends Mf{constructor(n,i,d,g){super(n,i,d),this.w=g}}function g0(u,n,i,d){const g=[],h=d===0?(v,S,M,A,b,P)=>{v.push(new Rn(P,M+(P-S)/(A-S)*(b-M)))}:(v,S,M,A,b,P)=>{v.push(new Rn(S+(P-M)/(b-M)*(A-S),P))};for(const v of u){const S=[];for(const M of v){if(M.length<=2)continue;const A=[];for(let $=0;$<M.length-1;$++){const T=M[$].x,O=M[$].y,N=M[$+1].x,W=M[$+1].y,J=d===0?T:O,se=d===0?N:W;J<n?se>n&&h(A,T,O,N,W,n):J>i?se<i&&h(A,T,O,N,W,i):A.push(M[$]),se<n&&J>=n&&h(A,T,O,N,W,n),se>i&&J<=i&&h(A,T,O,N,W,i)}let b=M[M.length-1];const P=d===0?b.x:b.y;P>=n&&P<=i&&A.push(b),A.length&&(b=A[A.length-1],A[0].x===b.x&&A[0].y===b.y||A.push(A[0]),S.push(A))}S.length&&g.push(S)}return g}function pb(u,n,i,d){const g=i==="x"?"y":"x",h=(d-u[i])/(n[i]-u[i]);u[g]=u[g]+(n[g]-u[g])*h,u[i]=d,u.hasOwnProperty("z")&&(u.z=Tt(u.z,n.z,h)),u.hasOwnProperty("w")&&(u.w=Tt(u.w,n.w,h))}function Jv(u,n,i,d){const g=i,h=d;for(const v of["x","y"]){let S=u,M=n;S[v]>=M[v]&&(S=n,M=u),S[v]<g&&M[v]>g&&pb(S,M,v,g),S[v]<h&&M[v]>h&&pb(M,S,v,h)}}const v0=Number.MAX_SAFE_INTEGER;function y0(u,n,i,d){return u.order<n||u.order===v0||!(u.clipMask&i)||function(g,h){return h.length!==0&&h.find(v=>v===g)===void 0}(d,u.clipScope)}function Hm(u,n){return u.x-n.x||u.y-n.y}function Qv(u,n){return Hm(u.min,n.min)===0&&Hm(u.max,n.max)===0}function ey(u,n){return!(u.min.x>n.max.x||u.max.x<n.min.x||u.min.y>n.max.y||u.max.y<n.min.y)}function ty(u,n){if(u.length!==n.length)return!1;for(let i=0;i<u.length;i++)if(u[i].sourceId!==n[i].sourceId||!Qv(u[i],n[i])||u[i].order!==n[i].order||u[i].clipMask!==n[i].clipMask||!Wr(u[i].clipScope,n[i].clipScope))return!1;return!0}function mb(u,n,i){const d=1/Bi,g=1/(1<<i.canonical.z),h=(n.x*d+i.canonical.x)*g+i.wrap,v=(n.y*d+i.canonical.y)*g;return{min:new Rn((u.x*d+i.canonical.x)*g+i.wrap,(u.y*d+i.canonical.y)*g),max:new Rn(h,v)}}function hC(u,n,i){const d=1<<i.canonical.z,g=((n.x-i.wrap)*d-i.canonical.x)*Bi,h=(n.y*d-i.canonical.y)*Bi;return{min:new Rn(((u.x-i.wrap)*d-i.canonical.x)*Bi,(u.y*d-i.canonical.y)*Bi),max:new Rn(g,h)}}function ny(u,n,i,d,g,h,v){const S=u.indices,M=u.vertices,A=[];for(let b=d;b<d+g;b+=3){const P=n[i[b+0]+h],$=n[i[b+1]+h],T=n[i[b+2]+h],O=Math.min(P.x,$.x,T.x),N=Math.max(P.x,$.x,T.x),W=Math.min(P.y,$.y,T.y),J=Math.max(P.y,$.y,T.y);A.length=0,u.grid.query(new Rn(O,W),new Rn(N,J),A);for(let se=0;se<A.length;se++){const ue=A[se];if(Jn(M[S[3*ue+0]],M[S[3*ue+1]],M[S[3*ue+2]],P,$,T,v))return!0}}return!1}function gb(u,n,i,d){if(!u||!i)return!1;let g=u.vertices;if(!n.canonical.equals(d.canonical)||n.wrap!==d.wrap){if(i.vertices.length<u.vertices.length)return gb(i,d,u,n);const h=n.canonical,v=d.canonical,S=Math.pow(2,v.z-h.z);g=u.vertices.map(M=>new Rn((M.x+h.x*Bi)*S-v.x*Bi,(M.y+h.y*Bi)*S-v.y*Bi))}return ny(i,g,u.indices,0,u.indices.length,0,0)}function vb(u,n,i,d){const g=Math.pow(2,d.z-i.z);return new Rn((u+i.x*Bi)*g-d.x*Bi,(n+i.y*Bi)*g-d.y*Bi)}function yb(u,n){const i=[];n.grid.queryPoint(u,i);const d=n.indices,g=n.vertices;for(let h=0;h<i.length;h++){const v=i[h];if(Dt([g[d[3*v+0]],g[d[3*v+1]],g[d[3*v+2]]],u))return!0}return!1}const ry=[new Rn(0,0),new Rn(Bi,0),new Rn(Bi,Bi),new Rn(0,Bi)];function _0(u,n){const i=[];let d=[];if(!n||u.length<2)return[u];if(u.length===2)return xn(u[0],u[1],ry)?[u]:[];for(let g=0;g<u.length+2;g++){const h=u[g%u.length],v=u[(g+1)%u.length],S=xn(g===0?u[u.length-1]:u[(g-1)%u.length],h,ry),M=xn(h,v,ry),A=S||M;A&&d.push(h),A&&M||d.length>0&&(d.length>1&&i.push(d),d=[])}return d.length>1&&i.push(d),i}const iy=Tf.VectorTileFeature.types,pC=["fill-extrusion-base","fill-extrusion-height","fill-extrusion-color","fill-extrusion-pattern","fill-extrusion-flood-light-wall-radius","fill-extrusion-line-width","fill-extrusion-emissive-strength"],mC=["fill-extrusion-flood-light-ground-radius"],uu=Math.pow(2,13),gC=Math.pow(2,15)-1,_b=new Rn(0,1),Pf=2147483648;function Um(u,n,i,d,g,h,v,S){u.emplaceBack((n<<1)+v,(i<<1)+h,(Math.floor(d*uu)<<1)+g,Math.round(S))}function Wm(u,n,i){u.emplaceBack(n.x*Bi,n.y*Bi,i?1:0)}function b0(u,n,i,d,g,h){u.emplaceBack(n.x,n.y,(i.x<<1)+d,(i.y<<1)+g,h)}function Gm(u,n,i){u.emplaceBack(n.x,n.y,n.z,i[0]*16384,i[1]*16384,i[2]*16384)}class bb{constructor(){this.vertexOffset=0,this.vertexCount=0,this.indexOffset=0,this.indexCount=0}}class xb{constructor(){this.centroidXY=new Rn(0,0),this.vertexArrayOffset=0,this.vertexCount=0,this.groundVertexArrayOffset=0,this.groundVertexCount=0,this.flags=0,this.footprintSegIdx=-1,this.footprintSegLen=0,this.polygonSegIdx=-1,this.polygonSegLen=0,this.min=new Rn(Number.MAX_VALUE,Number.MAX_VALUE),this.max=new Rn(-Number.MAX_VALUE,-Number.MAX_VALUE),this.height=0}span(){return new Rn(this.max.x-this.min.x,this.max.y-this.min.y)}}class Cb{constructor(){this.acc=new Rn(0,0),this.accCount=0,this.centroidDataIndex=0}startRing(n,i){n.min.x===Number.MAX_VALUE&&(n.min.x=n.max.x=i.x,n.min.y=n.max.y=i.y)}appendEdge(n,i,d){this.accCount++,this.acc._add(i);let g=!!this.borders;i.x<n.min.x?(n.min.x=i.x,g=!0):i.x>n.max.x&&(n.max.x=i.x,g=!0),i.y<n.min.y?(n.min.y=i.y,g=!0):i.y>n.max.y&&(n.max.y=i.y,g=!0),((i.x===0||i.x===Bi)&&i.x===d.x)!=((i.y===0||i.y===Bi)&&i.y===d.y)&&this.processBorderOverlap(i,d),g&&this.checkBorderIntersection(i,d)}checkBorderIntersection(n,i){i.x<0!=n.x<0&&this.addBorderIntersection(0,Tt(i.y,n.y,(0-i.x)/(n.x-i.x))),i.x>Bi!=n.x>Bi&&this.addBorderIntersection(1,Tt(i.y,n.y,(Bi-i.x)/(n.x-i.x))),i.y<0!=n.y<0&&this.addBorderIntersection(2,Tt(i.x,n.x,(0-i.y)/(n.y-i.y))),i.y>Bi!=n.y>Bi&&this.addBorderIntersection(3,Tt(i.x,n.x,(Bi-i.y)/(n.y-i.y)))}addBorderIntersection(n,i){this.borders||(this.borders=[[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE]]);const d=this.borders[n];i<d[0]&&(d[0]=i),i>d[1]&&(d[1]=i)}processBorderOverlap(n,i){if(n.x===i.x){if(n.y===i.y)return;const d=n.x===0?0:1;this.addBorderIntersection(d,i.y),this.addBorderIntersection(d,n.y)}else{const d=n.y===0?2:3;this.addBorderIntersection(d,i.x),this.addBorderIntersection(d,n.x)}}centroid(){return this.accCount===0?new Rn(0,0):new Rn(Math.floor(Math.max(0,this.acc.x)/this.accCount),Math.floor(Math.max(0,this.acc.y)/this.accCount))}intersectsCount(){return this.borders?this.borders.reduce((n,i)=>n+ +(i[0]!==Number.MAX_VALUE),0):0}}function Sb(u,n){const i=u.add(n)._unit(),d=Vn(u.x*i.x+u.y*i.y,-1,1);var g,h,v;return v=Math.acos(d),Math.min(4,Math.max(-4,Math.tan(v)))/4*gC*((g=u).x*(h=n).y-g.y*h.x<0?-1:1)}const vC=[u=>u.x<0,u=>u.x>Bi,u=>u.y<0,u=>u.y>Bi];function yC(u,n,i,d){const g=[4];if(d===0)return g;i._mult(d);const h=u.sub(i),v=n.sub(i),S=[u,n,h,v];for(let M=0;M<4;M++)for(const A of S)if(vC[M](A)){g.push(M);break}return g}class Of{constructor(n){this.vertexArray=new dp,this.indexArray=new Nl,this.programConfigurations=new yd(n.layers,{zoom:n.zoom,lut:n.lut},i=>mC.includes(i)),this._segments=new cl,this.hiddenByLandmarkVertexArray=new Tm,this._segmentToGroundQuads={},this._segmentToGroundQuads[0]=[],this._segmentToRegionTriCounts={},this._segmentToRegionTriCounts[0]=[0,0,0,0,0],this.regionSegments={},this.regionSegments[4]=new cl}getDefaultSegment(){return this.regionSegments[4]}hasData(){return this.vertexArray.length!==0}addData(n,i,d,g=!1){const h=n.length;if(h>2){let v=Math.max(0,this._segments.get().length-1);const S=this._segments._prepareSegment(4*h,this.vertexArray.length,2*this._segmentToGroundQuads[v].length);let M;v!==this._segments.get().length-1&&(v++,this._segmentToGroundQuads[v]=[],this._segmentToRegionTriCounts[v]=[0,0,0,0,0]);{const A=n[0],b=n[1];M=Sb(A.sub(n[h-1])._perp()._unit(),b.sub(A)._perp()._unit())}for(let A=0;A<h;A++){const b=A===h-1?0:A+1,P=n[A],$=n[b],T=n[b===h-1?0:b+1],O=$.sub(P)._perp()._unit(),N=Sb(O,T.sub($)._perp()._unit()),W=M,J=N;if(hl(P,$,i)||g&&Ib(P,i)&&Ib($,i)){M=N;continue}const se=S.vertexLength;b0(this.vertexArray,P,$,1,1,W),b0(this.vertexArray,P,$,1,0,W),b0(this.vertexArray,P,$,0,1,J),b0(this.vertexArray,P,$,0,0,J),S.vertexLength+=4;const ue=yC(P,$,O,d);for(const re of ue)this._segmentToGroundQuads[v].push({id:se,region:re}),this._segmentToRegionTriCounts[v][re]+=2,S.primitiveLength+=2;M=N}}}prepareBorderSegments(){if(!this.hasData())return;const n=this._segments.get(),i=n.length;for(let d=0;d<i;d++)this._segmentToGroundQuads[d].sort((g,h)=>g.region-h.region);for(let d=0;d<i;d++){const g=this._segmentToGroundQuads[d],h=n[d],v=this._segmentToRegionTriCounts[d];v.reduce((M,A)=>M+A,0);let S=0;for(let M=0;M<=4;M++){const A=v[M];if(A!==0){let b=this.regionSegments[M];b||(b=this.regionSegments[M]=new cl);const P={vertexOffset:h.vertexOffset,primitiveOffset:h.primitiveOffset+S,vertexLength:h.vertexLength,primitiveLength:A};b.get().push(P)}S+=A}for(let M=0;M<g.length;M++){const A=g[M].id;this.indexArray.emplaceBack(A,A+1,A+3),this.indexArray.emplaceBack(A,A+3,A+2)}}this._segmentToGroundQuads=null,this._segmentToRegionTriCounts=null,this._segments.destroy(),this._segments=null}addPaintPropertiesData(n,i,d,g,h,v){this.hasData()&&this.programConfigurations.populatePaintArrays(this.vertexArray.length,n,i,d,g,h,v)}upload(n){this.hasData()&&(this.vertexBuffer=n.createVertexBuffer(this.vertexArray,dC.members),this.indexBuffer=n.createIndexBuffer(this.indexArray))}uploadPaintProperties(n){this.hasData()&&this.programConfigurations.upload(n)}update(n,i,d,g,h,v,S){this.hasData()&&this.programConfigurations.updatePaintArrays(n,i,d,g,h,v,S)}updateHiddenByLandmark(n){if(!this.hasData())return;const i=n.groundVertexCount+n.groundVertexArrayOffset;if(n.groundVertexCount===0)return;const d=n.flags&Pf?1:0;for(let g=n.groundVertexArrayOffset;g<i;++g)this.hiddenByLandmarkVertexArray.emplace(g,d);this._needsHiddenByLandmarkUpdate=!0}uploadHiddenByLandmark(n){this.hasData()&&this._needsHiddenByLandmarkUpdate&&(!this.hiddenByLandmarkVertexBuffer&&this.hiddenByLandmarkVertexArray.length>0?this.hiddenByLandmarkVertexBuffer=n.createVertexBuffer(this.hiddenByLandmarkVertexArray,Zm.members,!0):this.hiddenByLandmarkVertexBuffer&&this.hiddenByLandmarkVertexBuffer.updateData(this.hiddenByLandmarkVertexArray),this._needsHiddenByLandmarkUpdate=!1)}destroy(){if(this.vertexBuffer){this.vertexBuffer.destroy(),this.indexBuffer.destroy(),this.hiddenByLandmarkVertexBuffer&&this.hiddenByLandmarkVertexBuffer.destroy(),this._segments&&this._segments.destroy(),this.programConfigurations.destroy();for(let n=0;n<=4;n++){const i=this.regionSegments[n];i&&i.destroy()}}}}class Km{constructor(n){this.zoom=n.zoom,this.canonical=n.canonical,this.overscaling=n.overscaling,this.layers=n.layers,this.pixelRatio=n.pixelRatio,this.layerIds=this.layers.map(i=>i.fqid),this.index=n.index,this.hasPattern=!1,this.edgeRadius=0,this.projection=n.projection,this.activeReplacements=[],this.replacementUpdateTime=0,this.centroidData=[],this.footprintIndices=new Nl,this.footprintVertices=new pd,this.footprintSegments=[],this.layoutVertexArray=new md,this.centroidVertexArray=new Hc,this.wallVertexArray=new Ov,this.indexArray=new Nl,this.programConfigurations=new yd(n.layers,{zoom:n.zoom,lut:n.lut},i=>pC.includes(i)),this.segments=new cl,this.stateDependentLayerIds=this.layers.filter(i=>i.isStateDependent()).map(i=>i.id),this.groundEffect=new Of(n),this.maxHeight=0,this.partLookup={},this.triangleSubSegments=[],this.polygonSegments=[]}updateFootprints(n,i){}populate(n,i,d,g){this.features=[],this.hasPattern=nb("fill-extrusion",this.layers,this.pixelRatio,i),this.featuresOnBorder=[],this.borderFeatureIndices=[[],[],[],[]],this.borderDoneWithNeighborZ=[-1,-1,-1,-1],this.selfDEMTileTimestamp=Number.MAX_VALUE,this.borderDEMTileTimestamp=[Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE],this.tileToMeter=r(d),this.edgeRadius=this.layers[0].layout.get("fill-extrusion-edge-radius")/this.tileToMeter,this.wallMode=this.layers[0].paint.get("fill-extrusion-line-width").constantOr(1)!==0;for(const{feature:h,id:v,index:S,sourceLayerIndex:M}of n){const A=this.layers[0]._featureFilter.needGeometry,b=Q(h,A);if(!this.layers[0]._featureFilter.filter(new Ws(this.zoom),b,d))continue;const P={id:v,sourceLayerIndex:M,index:S,geometry:A?b.geometry:U(h,d,g),properties:h.properties,type:h.type,patterns:{}},$=this.layoutVertexArray.length,T=iy[P.type]==="Polygon";if(this.hasPattern)this.features.push(Wv("fill-extrusion",this.layers,P,this.zoom,this.pixelRatio,i));else if(this.wallMode)for(const O of P.geometry)for(const N of _0(O,T))this.addFeature(P,[N],S,d,{},i.availableImages,g,i.brightness);else this.addFeature(P,P.geometry,S,d,{},i.availableImages,g,i.brightness);i.featureIndex.insert(h,P.geometry,S,M,this.index,$)}this.sortBorders(),this.projection.name==="mercator"&&this.splitToSubtiles(),this.groundEffect.prepareBorderSegments(),this.polygonSegments.length=0}addFeatures(n,i,d,g,h,v){for(const S of this.features){const M=iy[S.type]==="Polygon",{geometry:A}=S;if(this.wallMode)for(const b of A)for(const P of _0(b,M))this.addFeature(S,[P],S.index,i,d,g,h,v);else this.addFeature(S,A,S.index,i,d,g,h,v)}this.sortBorders(),this.projection.name==="mercator"&&this.splitToSubtiles()}update(n,i,d,g,h,v,S){this.programConfigurations.updatePaintArrays(n,i,h,d,g,v,S),this.groundEffect.update(n,i,h,d,g,v,S)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload||this.groundEffect.programConfigurations.needsUpload}upload(n){this.uploaded||(this.layoutVertexBuffer=n.createVertexBuffer(this.layoutVertexArray,h0),this.indexBuffer=n.createIndexBuffer(this.indexArray),this.wallVertexBuffer=n.createVertexBuffer(this.wallVertexArray,fC.members),this.layoutVertexExtArray&&(this.layoutVertexExtBuffer=n.createVertexBuffer(this.layoutVertexExtArray,Xv.members,!0)),this.groundEffect.upload(n)),this.groundEffect.uploadPaintProperties(n),this.programConfigurations.upload(n),this.uploaded=!0}uploadCentroid(n){this.groundEffect.uploadHiddenByLandmark(n),this.needsCentroidUpdate&&(!this.centroidVertexBuffer&&this.centroidVertexArray.length>0?this.centroidVertexBuffer=n.createVertexBuffer(this.centroidVertexArray,l2.members,!0):this.centroidVertexBuffer&&this.centroidVertexBuffer.updateData(this.centroidVertexArray),this.needsCentroidUpdate=!1)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.centroidVertexBuffer&&this.centroidVertexBuffer.destroy(),this.layoutVertexExtBuffer&&this.layoutVertexExtBuffer.destroy(),this.groundEffect.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}addFeature(n,i,d,g,h,v,S,M){const A=this.layers[0].paint.get("fill-extrusion-flood-light-ground-radius").evaluate(n,{})/this.tileToMeter,b=[new Rn(0,0),new Rn(Bi,Bi)],P=S.projection,$=P.name==="globe",T=this.wallMode||iy[n.type]==="Polygon",O=new Cb;O.centroidDataIndex=this.centroidData.length;const N=new xb,W=this.layers[0].paint.get("fill-extrusion-base").evaluate(n,{},g)<=0,J=this.layers[0].paint.get("fill-extrusion-height").evaluate(n,{},g);let se;if(N.height=J,N.vertexArrayOffset=this.layoutVertexArray.length,N.groundVertexArrayOffset=this.groundEffect.vertexArray.length,$&&!this.layoutVertexExtArray&&(this.layoutVertexExtArray=new Wl),this.wallMode){if($)return void Un("Non zero fill-extrusion-line-width is not yet supported on globe.");if(i.length!==1)return;se=function(at){const Gt=at[0].x===at[at.length-1].x&&at[0].y===at[at.length-1].y;(function(xi){let ni=0;const To=xi.length;for(let Qi=0;Qi<To;Qi++)ni+=(xi[(Qi+1)%To].x-xi[Qi].x)*(xi[(Qi+1)%To].y+xi[Qi].y);return ni>=0})(at)||(at=at.reverse());const en={geometry:[],joinNormals:[],indices:[]},mn=[],un=[],yn=[];let zn=at.length;for(;zn>=2&&at[zn-1].equals(at[zn-2]);)zn--;if(zn<(Gt?3:2))return en;let Gn,Mn,$r,ii,Or,Xi=0;for(;Xi<zn-1&&at[Xi].equals(at[Xi+1]);)Xi++;Gt&&(Gn=at[zn-2],Or=at[Xi].sub(Gn)._unit()._perp());for(let xi=Xi;xi<zn;xi++){if($r=xi===zn-1?Gt?at[Xi+1]:void 0:at[xi+1],$r&&at[xi].equals($r))continue;Or&&(ii=Or),Gn&&(Mn=Gn),Gn=at[xi],Or=$r?$r.sub(Gn)._unit()._perp():ii,ii=ii||Or;let ni=ii.add(Or);ni.x===0&&ni.y===0||ni._unit();const To=ni.x*Or.x+ni.y*Or.y,Qi=To!==0?1/To:1/0,ho=ii.x*Or.y-ii.y*Or.x>0;let da="miter";const za=2;da==="miter"&&Qi>za&&(da="bevel"),da==="bevel"&&(Qi>100&&(da="flipbevel"),Qi<za&&(da="miter"));const Ba=(Fa,Ja,Qa,js)=>{const Ms=new Rn(Fa.x,Fa.y),Ea=new Rn(Fa.x,Fa.y);Ms.x+=Ja.x*js,Ms.y+=Ja.y*js,Ea.x-=Ja.x*Math.max(Qa,1),Ea.y-=Ja.y*Math.max(Qa,1),yn.push(Ja),mn.push(Ms),un.push(Ea)};if(da==="miter")ni._mult(Qi),Ba(Gn,ni,0,0);else if(da==="flipbevel")ni=Or.mult(-1),Ba(Gn,ni,0,0),Ba(Gn,ni.mult(-1),0,0);else{const Fa=-Math.sqrt(Qi*Qi-1),Ja=ho?Fa:0,Qa=ho?0:Fa;Mn&&Ba(Gn,ii,Ja,Qa),$r&&Ba(Gn,Or,Ja,Qa)}}en.geometry=[...mn,...un.reverse(),mn[0]],en.joinNormals=[...yn,...yn.reverse(),yn[yn.length-1]];const Fi=en.geometry.length-1;for(let xi=0;xi<Fi/2;xi++)if(xi+1<Fi/2){let ni=xi,To=xi+1,Qi=Fi-1-xi,ho=Fi-2-xi;ni=ni===0?Fi-1:ni-1,To=To===0?Fi-1:To-1,Qi=Qi===0?Fi-1:Qi-1,ho=ho===0?Fi-1:ho-1,en.indices.push(Qi),en.indices.push(To),en.indices.push(ni),en.indices.push(Qi),en.indices.push(ho),en.indices.push(To)}return en}(i[0]),i=[se.geometry]}const ue=(at,Gt)=>at<(Gt.length-1)/2||at===Gt.length-1,re=this.wallMode?[i]:Hv(i,500);for(let at=re.length-1;at>=0;at--){const Gt=re[at];(Gt.length===0||(ve=Gt[0]).every(vt=>vt.x<=0)||ve.every(vt=>vt.x>=Bi)||ve.every(vt=>vt.y<=0)||ve.every(vt=>vt.y>=Bi))&&re.splice(at,1)}var ve;let we;if($)we=Pb(re,b,g);else{we=[];for(const at of re)we.push({polygon:at,bounds:b})}const Ne=T?this.edgeRadius:0,ht=Ne>0&&this.zoom<17,ft=(at,Gt)=>{if(at.length===0)return!1;const vt=at[at.length-1];return Gt.x===vt.x&&Gt.y===vt.y};for(const{polygon:at,bounds:Gt}of we){let vt=0,en=0;for(const zn of at)T&&!zn[0].equals(zn[zn.length-1])&&zn.push(zn[0]),en+=T?zn.length-1:zn.length;const mn=this.segments.prepareSegment((T?5:4)*en,this.layoutVertexArray,this.indexArray);N.footprintSegIdx<0&&(N.footprintSegIdx=this.footprintSegments.length),N.polygonSegIdx<0&&(N.polygonSegIdx=this.polygonSegments.length);const un={triangleArrayOffset:this.indexArray.length,triangleCount:0,triangleSegIdx:this.segments.segments.length-1},yn=new bb;if(yn.vertexOffset=this.footprintVertices.length,yn.indexOffset=3*this.footprintIndices.length,yn.ringIndices=[],T){const zn=[],Gn=[];vt=mn.vertexLength;for(let $r=0;$r<at.length;$r++){const ii=at[$r];ii.length&&$r!==0&&Gn.push(zn.length/2);const Or=[];let Xi,Fi;Xi=ii[1].sub(ii[0])._perp()._unit(),yn.ringIndices.push(ii.length-1);for(let xi=1;xi<ii.length;xi++){const ni=ii[xi],To=ii[xi===ii.length-1?1:xi+1],Qi=ni.clone();if(Ne){Fi=To.sub(ni)._perp()._unit();const ho=Xi.add(Fi)._unit(),da=Ne*Math.min(4,1/(Xi.x*ho.x+Xi.y*ho.y));Qi.x+=da*ho.x,Qi.y+=da*ho.y,Qi.x=Math.round(Qi.x),Qi.y=Math.round(Qi.y),Xi=Fi}if(!W||Ne!==0&&!ht||ft(Or,Qi)||Or.push(Qi),Um(this.layoutVertexArray,Qi.x,Qi.y,0,0,1,1,0),this.wallMode){const ho=ue(xi,ii);Wm(this.wallVertexArray,se.joinNormals[xi],!ho)}mn.vertexLength++,this.footprintVertices.emplaceBack(ni.x,ni.y),zn.push(ni.x,ni.y),$&&Gm(this.layoutVertexExtArray,P.projectTilePoint(Qi.x,Qi.y,g),P.upVector(g,Qi.x,Qi.y))}W&&(Ne===0||ht)&&(Or.length!==0&&ft(Or,Or[0])&&Or.pop(),this.groundEffect.addData(Or,Gt,A))}const Mn=this.wallMode?se.indices:Bm(zn,Gn);for(let $r=0;$r<Mn.length;$r+=3)this.footprintIndices.emplaceBack(yn.vertexOffset+Mn[$r+0],yn.vertexOffset+Mn[$r+1],yn.vertexOffset+Mn[$r+2]),this.indexArray.emplaceBack(vt+Mn[$r],vt+Mn[$r+2],vt+Mn[$r+1]),mn.primitiveLength++;yn.indexCount+=Mn.length,yn.vertexCount+=this.footprintVertices.length-yn.vertexOffset}for(let zn=0;zn<at.length;zn++){const Gn=at[zn];O.startRing(N,Gn[0]);let Mn=Gn.length>4&&Tb(Gn[Gn.length-2],Gn[0],Gn[1]),$r=Ne?Eb(Gn[Gn.length-2],Gn[0],Gn[1],Ne):0;const ii=[];let Or,Xi,Fi;Xi=Gn[1].sub(Gn[0])._perp()._unit();let xi=!0;for(let ni=1,To=0;ni<Gn.length;ni++){let Qi=Gn[ni-1],ho=Gn[ni];const da=Gn[ni===Gn.length-1?1:ni+1];if(O.appendEdge(N,ho,Qi),hl(ho,Qi,Gt)){Ne&&(Xi=da.sub(ho)._perp()._unit(),xi=!xi);continue}const za=ho.sub(Qi)._perp(),Ba=za.x/(Math.abs(za.x)+Math.abs(za.y)),Fa=za.y>0?1:0,Ja=Qi.dist(ho);if(To+Ja>32768&&(To=0),Ne){Fi=da.sub(ho)._perp()._unit();let Ea=$s(Qi,ho,da,wb(Xi,Fi),Ne);isNaN(Ea)&&(Ea=0);const Es=ho.sub(Qi)._unit();Qi=Qi.add(Es.mult($r))._round(),ho=ho.add(Es.mult(-Ea))._round(),$r=Ea,Xi=Fi,W&&this.zoom>=17&&(ft(ii,Qi)||ii.push(Qi),ft(ii,ho)||ii.push(ho))}const Qa=mn.vertexLength,js=Gn.length>4&&Tb(Qi,ho,da);let Ms=Lu(To,Mn,xi);if(Um(this.layoutVertexArray,Qi.x,Qi.y,Ba,Fa,0,0,Ms),Um(this.layoutVertexArray,Qi.x,Qi.y,Ba,Fa,0,1,Ms),this.wallMode){const Ea=ue(ni-1,Gn),Es=se.joinNormals[ni-1];Wm(this.wallVertexArray,Es,Ea),Wm(this.wallVertexArray,Es,Ea)}if(To+=Ja,Ms=Lu(To,js,!xi),Mn=js,Um(this.layoutVertexArray,ho.x,ho.y,Ba,Fa,0,0,Ms),Um(this.layoutVertexArray,ho.x,ho.y,Ba,Fa,0,1,Ms),this.wallMode){const Ea=ue(ni,Gn),Es=se.joinNormals[ni];Wm(this.wallVertexArray,Es,Ea),Wm(this.wallVertexArray,Es,Ea)}if(mn.vertexLength+=4,this.indexArray.emplaceBack(Qa+0,Qa+1,Qa+2),this.indexArray.emplaceBack(Qa+1,Qa+3,Qa+2),mn.primitiveLength+=2,Ne){const Ea=vt+(ni===1?Gn.length-2:ni-2),Es=ni===1?vt:Ea+1;if(this.indexArray.emplaceBack(Qa+1,Ea,Qa+3),this.indexArray.emplaceBack(Ea,Es,Qa+3),mn.primitiveLength+=2,Or===void 0&&(Or=Qa),!hl(da,Gn[ni],Gt)){const Is=ni===Gn.length-1?Or:mn.vertexLength;this.indexArray.emplaceBack(Qa+2,Qa+3,Is),this.indexArray.emplaceBack(Qa+3,Is+1,Is),this.indexArray.emplaceBack(Qa+3,Es,Is+1),mn.primitiveLength+=3}xi=!xi}if($){const Ea=this.layoutVertexExtArray,Es=P.projectTilePoint(Qi.x,Qi.y,g),Is=P.projectTilePoint(ho.x,ho.y,g),Xs=P.upVector(g,Qi.x,Qi.y),wl=P.upVector(g,ho.x,ho.y);Gm(Ea,Es,Xs),Gm(Ea,Es,Xs),Gm(Ea,Is,wl),Gm(Ea,Is,wl)}}T&&(vt+=Gn.length-1),W&&Ne&&this.zoom>=17&&(ii.length!==0&&ft(ii,ii[0])&&ii.pop(),this.groundEffect.addData(ii,Gt,A,Ne>0))}this.footprintSegments.push(yn),un.triangleCount=this.indexArray.length-un.triangleArrayOffset,this.polygonSegments.push(un),++N.footprintSegLen,++N.polygonSegLen}if(N.vertexCount=this.layoutVertexArray.length-N.vertexArrayOffset,N.groundVertexCount=this.groundEffect.vertexArray.length-N.groundVertexArrayOffset,N.vertexCount!==0){if(N.centroidXY=O.borders?_b:this.encodeCentroid(O,N),this.centroidData.push(N),O.borders){this.featuresOnBorder.push(O);const at=this.featuresOnBorder.length-1;for(let Gt=0;Gt<O.borders.length;Gt++)O.borders[Gt][0]!==Number.MAX_VALUE&&this.borderFeatureIndices[Gt].push(at)}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,n,d,h,v,g,M),this.groundEffect.addPaintPropertiesData(n,d,h,v,g,M),this.maxHeight=Math.max(this.maxHeight,J)}}sortBorders(){for(let n=0;n<this.borderFeatureIndices.length;n++)this.borderFeatureIndices[n].sort((i,d)=>this.featuresOnBorder[i].borders[n][0]-this.featuresOnBorder[d].borders[n][0])}splitToSubtiles(){const n=[];for(let S=0;S<this.centroidData.length;S++){const M=this.centroidData[S],A=+(M.min.y+M.max.y>Bi),b=2*A+(+(M.min.x+M.max.x>Bi)^A);for(let P=0;P<M.polygonSegLen;P++){const $=M.polygonSegIdx+P;n.push({centroidIdx:S,subtile:b,polygonSegmentIdx:$,triangleSegmentIdx:this.polygonSegments[$].triangleSegIdx})}}const i=new Nl;n.sort((S,M)=>S.triangleSegmentIdx===M.triangleSegmentIdx?S.subtile-M.subtile:S.triangleSegmentIdx-M.triangleSegmentIdx);let d=0,g=0,h=0;for(const S of n){if(S.triangleSegmentIdx!==d)break;h++}const v=n.length;for(;g!==n.length;){d=n[g].triangleSegmentIdx;let S=0,M=g,A=g;for(let b=M;b<h&&n[b].subtile===S;b++)A++;for(;M!==h;){const b=n[M];S=b.subtile;const P=this.centroidData[b.centroidIdx].min.clone(),$=this.centroidData[b.centroidIdx].max.clone(),T={vertexOffset:this.segments.segments[d].vertexOffset,primitiveOffset:i.length,vertexLength:this.segments.segments[d].vertexLength,primitiveLength:0,sortKey:void 0,vaos:{}};for(let O=M;O<A;O++){const N=n[O],W=this.polygonSegments[N.polygonSegmentIdx],J=this.centroidData[N.centroidIdx].min,se=this.centroidData[N.centroidIdx].max,ue=this.indexArray.uint16;for(let re=W.triangleArrayOffset;re<W.triangleArrayOffset+W.triangleCount;re++)i.emplaceBack(ue[3*re],ue[3*re+1],ue[3*re+2]);T.primitiveLength+=W.triangleCount,P.x=Math.min(P.x,J.x),P.y=Math.min(P.y,J.y),$.x=Math.max($.x,se.x),$.y=Math.max($.y,se.y)}T.primitiveLength>0&&this.triangleSubSegments.push({segment:T,min:P,max:$}),M=A;for(let O=M;O<h&&n[O].subtile===n[M].subtile;O++)A++}g=h;for(let b=g;b<v&&n[b].triangleSegmentIdx===n[g].triangleSegmentIdx;b++)h++}i._trim(),this.indexArray=i}getVisibleSegments(n,i,d){const g=new cl;if(this.wallMode){for(const N of this.triangleSubSegments)g.segments.push(N.segment);return g}let h=0,v=0;const S=1<<n.canonical.z;if(i){const N=i.getMinMaxForTile(n);N&&(h=N.min,v=N.max)}v+=this.maxHeight;const M=n.toUnwrapped();let A;const b=[M.canonical.x/S+M.wrap,M.canonical.y/S],P=[(M.canonical.x+1)/S+M.wrap,(M.canonical.y+1)/S],$=(N,W,J)=>[N[0]*(1-J[0])+W[0]*J[0],N[1]*(1-J[1])+W[1]*J[1]],T=[],O=[];for(const N of this.triangleSubSegments){T[0]=N.min.x/Bi,T[1]=N.min.y/Bi,O[0]=N.max.x/Bi,O[1]=N.max.y/Bi;const W=$(b,P,T),J=$(b,P,O);if(new Do([W[0],W[1],h],[J[0],J[1],v]).intersectsPrecise(d)===0){A&&(g.segments.push(A),A=void 0);continue}const se=N.segment;A&&A.vertexOffset!==se.vertexOffset&&(g.segments.push(A),A=void 0),A?(A.vertexLength+=se.vertexLength,A.primitiveLength+=se.primitiveLength):A={vertexOffset:se.vertexOffset,primitiveLength:se.primitiveLength,vertexLength:se.vertexLength,primitiveOffset:se.primitiveOffset,sortKey:void 0,vaos:{}}}return A&&g.segments.push(A),g}encodeCentroid(n,i){const d=n.centroid(),g=i.span(),h=Math.min(7,Math.round(g.x*this.tileToMeter/10)),v=Math.min(7,Math.round(g.y*this.tileToMeter/10));return new Rn(Vn(d.x,1,Bi-1)<<3|h,Vn(d.y,1,Bi-1)<<3|v)}encodeBorderCentroid(n){if(!n.borders)return new Rn(0,0);const i=n.borders,d=Number.MAX_VALUE;if(i[0][0]!==d||i[1][0]!==d){const g=i[0][0]!==d?0:1;return new Rn(6|(i[0][0]!==d?0:65528),(i[g][0]+i[g][1])/2<<3|6)}{const g=i[2][0]!==d?2:3;return new Rn((i[g][0]+i[g][1])/2<<3|6,6|(i[2][0]!==d?0:65528))}}showCentroid(n){const i=this.centroidData[n.centroidDataIndex];i.flags&=Pf,i.centroidXY.x=0,i.centroidXY.y=0,this.writeCentroidToBuffer(i)}writeCentroidToBuffer(n){this.groundEffect.updateHiddenByLandmark(n);const i=n.vertexArrayOffset,d=n.vertexCount+n.vertexArrayOffset,g=n.flags&Pf?_b:n.centroidXY,h=this.centroidVertexArray.geta_centroid_pos0(i);if(this.centroidVertexArray.geta_centroid_pos1(i)!==g.y||h!==g.x){for(let v=i;v<d;++v)this.centroidVertexArray.emplace(v,g.x,g.y);this.needsCentroidUpdate=!0}}createCentroidsBuffer(){this.centroidVertexArray.resize(this.layoutVertexArray.length),this.groundEffect.hiddenByLandmarkVertexArray.resize(this.groundEffect.vertexArray.length);for(const n of this.centroidData)this.writeCentroidToBuffer(n)}updateReplacement(n,i,d){if(i.updateTime===this.replacementUpdateTime)return;this.replacementUpdateTime=i.updateTime;const g=i.getReplacementRegionsForTile(n.toUnwrapped());if(ty(this.activeReplacements,g))return;if(this.activeReplacements=g,this.centroidVertexArray.length===0)this.createCentroidsBuffer();else for(const v of this.centroidData)v.flags&=2147483647;const h=[];for(const v of this.activeReplacements){if(v.order<d)continue;const S=Math.max(1,Math.pow(2,v.footprintTileId.canonical.z-n.canonical.z));for(const M of this.centroidData)if(!(M.flags&Pf||v.min.x>M.max.x||M.min.x>v.max.x||v.min.y>M.max.y||M.min.y>v.max.y))for(let A=0;A<M.footprintSegLen;A++){const b=this.footprintSegments[M.footprintSegIdx+A];if(h.length=0,Ob(this.footprintVertices,b.vertexOffset,b.vertexCount,v.footprintTileId.canonical,n.canonical,h),ny(v.footprint,h,this.footprintIndices.uint16,b.indexOffset,b.indexCount,-b.vertexOffset,-S)){M.flags|=Pf;break}}}for(const v of this.centroidData)this.writeCentroidToBuffer(v);this.borderDoneWithNeighborZ=[-1,-1,-1,-1]}footprintContainsPoint(n,i,d){let g=!1;for(let h=0;h<d.footprintSegLen;h++){const v=this.footprintSegments[d.footprintSegIdx+h];let S=0;for(const M of v.ringIndices){for(let A=S,b=M+S-1;A<M+S;b=A++){const P=this.footprintVertices.int16[2*(A+v.vertexOffset)+0],$=this.footprintVertices.int16[2*(A+v.vertexOffset)+1],T=this.footprintVertices.int16[2*(b+v.vertexOffset)+1];$>i!=T>i&&n<(this.footprintVertices.int16[2*(b+v.vertexOffset)+0]-P)*(i-$)/(T-$)+P&&(g=!g)}S=M}}return g}getHeightAtTileCoord(n,i){let d=Number.NEGATIVE_INFINITY,g=!0;const h=4*(n+Bi)*Bi+(i+Bi);if(this.partLookup.hasOwnProperty(h)){const v=this.partLookup[h];return v?{height:v.height,hidden:!!(v.flags&Pf)}:void 0}for(const v of this.centroidData)n>v.max.x||v.min.x>n||i>v.max.y||v.min.y>i||this.footprintContainsPoint(n,i,v)&&v&&v.height>d&&(d=v.height,this.partLookup[h]=v,g=!!(v.flags&Pf));if(d!==Number.NEGATIVE_INFINITY)return{height:d,hidden:g};this.partLookup[h]=void 0}}function wb(u,n){const i=u.add(n)._unit();return u.x*i.x+u.y*i.y}function Eb(u,n,i,d){const g=n.sub(u)._perp()._unit(),h=i.sub(n)._perp()._unit();return $s(u,n,i,wb(g,h),d)}function $s(u,n,i,d,g){const h=Math.sqrt(1-d*d);return Math.min(u.dist(n)/3,n.dist(i)/3,g*h/d)}function hl(u,n,i){return u.x<i[0].x&&n.x<i[0].x||u.x>i[1].x&&n.x>i[1].x||u.y<i[0].y&&n.y<i[0].y||u.y>i[1].y&&n.y>i[1].y}function Ib(u,n){return u.x<n[0].x||u.x>n[1].x||u.y<n[0].y||u.y>n[1].y}function Tb(u,n,i){if(u.x<0||u.x>=Bi||n.x<0||n.x>=Bi||i.x<0||i.x>=Bi)return!1;const d=i.sub(n),g=d.perp(),h=u.sub(n);return(d.x*h.x+d.y*h.y)/Math.sqrt((d.x*d.x+d.y*d.y)*(h.x*h.x+h.y*h.y))>-.866&&g.x*h.x+g.y*h.y<0}function Lu(u,n,i){const d=n?2|u:-3&u;return i?1|d:-2&d}function Mb(){const u=Math.PI/32,n=Math.tan(u),i=Kd;return i*Math.sqrt(1+2*n*n)-i}function Pb(u,n,i){const d=1<<i.z,g=Bc(i.x/d),h=Bc((i.x+1)/d),v=dc(i.y/d),S=dc((i.y+1)/d);return function(M,A,b,P,$=0,T){const O=[];if(!M.length||!b||!P)return O;const N=(we,Ne)=>{for(const ht of we)O.push({polygon:ht,bounds:Ne})},W=Math.ceil(Math.log2(b)),J=Math.ceil(Math.log2(P)),se=W-J,ue=[];for(let we=0;we<Math.abs(se);we++)ue.push(se>0?0:1);for(let we=0;we<Math.min(W,J);we++)ue.push(0),ue.push(1);let re=M;if(re=g0(re,A[0].y-$,A[1].y+$,1),re=g0(re,A[0].x-$,A[1].x+$,0),!re.length)return O;const ve=[];for(ue.length?ve.push({polygons:re,bounds:A,depth:0}):N(re,A);ve.length;){const we=ve.pop(),Ne=we.depth,ht=ue[Ne],ft=we.bounds[0],at=we.bounds[1],Gt=ht===0?ft.x:ft.y,vt=ht===0?at.x:at.y,en=T?T(ht,Gt,vt):.5*(Gt+vt),mn=g0(we.polygons,Gt-$,en+$,ht),un=g0(we.polygons,en-$,vt+$,ht);if(mn.length){const yn=[ft,new Rn(ht===0?en:at.x,ht===1?en:at.y)];ue.length>Ne+1?ve.push({polygons:mn,bounds:yn,depth:Ne+1}):N(mn,yn)}if(un.length){const yn=[new Rn(ht===0?en:ft.x,ht===1?en:ft.y),at];ue.length>Ne+1?ve.push({polygons:un,bounds:yn,depth:Ne+1}):N(un,yn)}}return O}(u,n,Math.ceil((h-g)/11.25),Math.ceil((v-S)/11.25),1,(M,A,b)=>{if(M===0)return .5*(A+b);{const P=dc((i.y+A/Bi)/d);return(Dc(.5*(dc((i.y+b/Bi)/d)+P))*d-i.y)*Bi}})}function Ob(u,n,i,d,g,h){const v=Math.pow(2,d.z-g.z);for(let S=0;S<i;S++){let M=u.int16[2*(S+n)+0],A=u.int16[2*(S+n)+1];M=(M+g.x*Bi)*v-d.x*Bi,A=(A+g.y*Bi)*v-d.y*Bi,h.push(new Rn(M,A))}}let x0,Rf;function qd(u,n){return u.x*n.x+u.y*n.y}function Xm(u,n){if(u.length===1){let i=0;const d=n[i++];let g;for(;!g||d.equals(g);)if(g=n[i++],!g)return 1/0;for(;i<n.length;i++){const h=n[i],v=u[0],S=g.sub(d),M=h.sub(d),A=v.sub(d),b=qd(S,S),P=qd(S,M),$=qd(M,M),T=qd(A,S),O=qd(A,M),N=b*$-P*P,W=($*T-P*O)/N,J=(b*O-P*T)/N,se=d.z*(1-W-J)+g.z*W+h.z*J;if(isFinite(se))return se}return 1/0}{let i=1/0;for(const d of n)i=Math.min(i,d.z);return i}}function oy(u,n,i,d,g,h,v,S){const M=v*g.getElevationAt(u,n,!0,!0),A=h[0]!==0,b=A?h[1]===0?v*(h[0]/7-450):v*function(P,$,T){const O=Math.floor($[0]/8),N=Math.floor($[1]/8),W=10*($[0]-8*O),J=10*($[1]-8*N),se=P.getElevationAt(O,N,!0,!0),ue=P.getMeterToDEM(T),re=Math.floor(.5*(W*ue-1)),ve=Math.floor(.5*(J*ue-1)),we=P.tileCoordToPixel(O,N),Ne=2*re+1,ht=2*ve+1,ft=function(un,yn,zn,Gn,Mn){return[un.getElevationAtPixel(yn,zn,!0),un.getElevationAtPixel(yn+Mn,zn,!0),un.getElevationAtPixel(yn,zn+Mn,!0),un.getElevationAtPixel(yn+Gn,zn+Mn,!0)]}(P,we.x-re,we.y-ve,Ne,ht),at=Math.abs(ft[0]-ft[1]),Gt=Math.abs(ft[2]-ft[3]),vt=Math.abs(ft[0]-ft[2])+Math.abs(ft[1]-ft[3]),en=Math.min(.25,.5*ue*(at+Gt)/Ne),mn=Math.min(.25,.5*ue*vt/ht);return se+Math.max(en*W,mn*J)}(g,h,S):M;return{base:M+(i===0?-1:i),top:A?Math.max(b+d,M+i+2):M+d}}_o(Km,"FillExtrusionBucket",{omit:["layers","features"]}),_o(xb,"PartData"),_o(bb,"FootprintSegment"),_o(Cb,"BorderCentroidData"),_o(Of,"GroundEffect");const Rb=bs([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"},{name:"a_linesofar",components:1,type:"Float32"}],4),$b=bs([{name:"a_z_offset_width",components:3,type:"Float32"}],4),{members:ay}=Rb,Ab=bs([{name:"a_packed",components:3,type:"Float32"}]),{members:Db}=Ab,_C=bs([{name:"a_pattern_data",components:3,type:"Float32"}]),{members:Lb}=_C;class Tp{constructor(n,i){this.width=n,this.height=i,this.nextRow=0,this.image=new Yd({width:n,height:i}),this.positions={},this.uploaded=!1}getDash(n,i){const d=this.getKey(n,i);return this.positions[d]}trim(){const n=this.width,i=this.height=yr(this.nextRow);this.image.resize({width:n,height:i})}getKey(n,i){return n.join(",")+i}getDashRanges(n,i,d){const g=[];let h=n.length%2==1?-n[n.length-1]*d:0,v=n[0]*d,S=!0;g.push({left:h,right:v,isDash:S,zeroLength:n[0]===0});let M=n[0];for(let A=1;A<n.length;A++){S=!S;const b=n[A];h=M*d,M+=b,v=M*d,g.push({left:h,right:v,isDash:S,zeroLength:b===0})}return g}addRoundDash(n,i,d){const g=i/2;for(let h=-d;h<=d;h++){const v=this.width*(this.nextRow+d+h);let S=0,M=n[S];for(let A=0;A<this.width;A++){A/M.right>1&&(M=n[++S]);const b=Math.abs(A-M.left),P=Math.abs(A-M.right),$=Math.min(b,P);let T;const O=h/d*(g+1);if(M.isDash){const N=g-Math.abs(O);T=Math.sqrt($*$+N*N)}else T=g-Math.sqrt($*$+O*O);this.image.data[v+A]=Math.max(0,Math.min(255,T+128))}}}addRegularDash(n,i){for(let M=n.length-1;M>=0;--M){const A=n[M],b=n[M+1];A.zeroLength?n.splice(M,1):b&&b.isDash===A.isDash&&(b.left=A.left,n.splice(M,1))}const d=n[0],g=n[n.length-1];d.isDash===g.isDash&&(d.left=g.left-this.width,g.right=d.right+this.width);const h=this.width*this.nextRow;let v=0,S=n[v];for(let M=0;M<this.width;M++){M/S.right>1&&(S=n[++v]);const A=Math.abs(M-S.left),b=Math.abs(M-S.right),P=Math.min(A,b);this.image.data[h+M]=Math.max(0,Math.min(255,(S.isDash?P:-P)+i+128))}}addDash(n,i){const d=this.getKey(n,i);if(this.positions[d])return this.positions[d];const g=i==="round",h=g?7:0,v=2*h+1;if(this.nextRow+v>this.height)return Un("LineAtlas out of space"),null;n.length===0&&n.push(1);let S=0;for(let b=0;b<n.length;b++)n[b]<0&&(Un("Negative value is found in line dasharray, replacing values with 0"),n[b]=0),S+=n[b];if(S!==0){const b=this.width/S,P=this.getDashRanges(n,this.width,b);g?this.addRoundDash(P,b,h):this.addRegularDash(P,i==="square"?.5*b:0)}const M=this.nextRow+h;this.nextRow+=v;const A={tl:[M,h],br:[S,0]};return this.positions[d]=A,A}}_o(Tp,"LineAtlas");const bC=Tf.VectorTileFeature.types,xC=Math.cos(Math.PI/180*37.5),CC=Math.cos(Math.PI/180*5);class C0{constructor(n){this.evaluationGlobals={zoom:0,lineProgress:void 0},this.zoom=n.zoom,this.evaluationGlobals.zoom=this.zoom,this.overscaling=n.overscaling,this.pixelRatio=n.pixelRatio,this.layers=n.layers,this.layerIds=this.layers.map(i=>i.fqid),this.index=n.index,this.projection=n.projection,this.hasPattern=!1,this.hasZOffset=!1,this.hasCrossSlope=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(i=>{this.gradients[i.id]={}}),this.layoutVertexArray=new _f,this.layoutVertexArray2=new Ou,this.patternVertexArray=new Ou,this.indexArray=new Nl,this.programConfigurations=new yd(n.layers,{zoom:n.zoom,lut:n.lut}),this.segments=new cl,this.maxLineLength=0,this.zOffsetVertexArray=new Ou,this.stateDependentLayerIds=this.layers.filter(i=>i.isStateDependent()).map(i=>i.id),this.tessellationStep=n.tessellationStep?n.tessellationStep:Bi/64}updateFootprints(n,i){}populate(n,i,d,g){this.hasPattern=nb("line",this.layers,this.pixelRatio,i);const h=this.layers[0].layout.get("line-sort-key");this.tileToMeter=r(d);const v=this.layers[0].layout.get("line-z-offset"),S=v.isConstant()&&!v.constantOr(0),M=this.layers[0].layout.get("line-elevation-reference");this.hasZOffset=M==="sea"||M==="ground"||!S&&M==="none",this.hasZOffset&&M==="none"&&Un(`line-elevation-reference: ground is used for the layer ${this.layerIds[0]} because non-zero line-z-offset value was found.`);const A=this.layers[0].layout.get("line-cross-slope");this.hasCrossSlope=this.hasZOffset&&A!==void 0;const b=[];for(const{feature:O,id:N,index:W,sourceLayerIndex:J}of n){const se=this.layers[0]._featureFilter.needGeometry,ue=Q(O,se);if(!this.layers[0]._featureFilter.filter(new Ws(this.zoom),ue,d))continue;const re=h?h.evaluate(ue,{},d):void 0,ve={id:N,properties:O.properties,type:O.type,sourceLayerIndex:J,index:W,geometry:se?ue.geometry:U(O,d,g),patterns:{},sortKey:re};b.push(ve)}h&&b.sort((O,N)=>O.sortKey-N.sortKey);const{lineAtlas:P,featureIndex:$}=i,T=this.addConstantDashes(P);for(const O of b){const{geometry:N,index:W,sourceLayerIndex:J}=O;if(T&&this.addFeatureDashes(O,P),this.hasPattern){const se=Wv("line",this.layers,O,this.zoom,this.pixelRatio,i);this.patternFeatures.push(se)}else this.addFeature(O,N,W,d,P.positions,i.availableImages,i.brightness);$.insert(n[W].feature,N,W,J,this.index)}}addConstantDashes(n){let i=!1;for(const d of this.layers){const g=d.paint.get("line-dasharray").value,h=d.layout.get("line-cap").value;if(g.kind!=="constant"||h.kind!=="constant")i=!0;else{const v=h.value,S=g.value;if(!S)continue;n.addDash(S,v)}}return i}addFeatureDashes(n,i){const d=this.zoom;for(const g of this.layers){const h=g.paint.get("line-dasharray").value,v=g.layout.get("line-cap").value;if(h.kind==="constant"&&v.kind==="constant")continue;let S,M;if(h.kind==="constant"){if(S=h.value,!S)continue}else S=h.evaluate({zoom:d},n);M=v.kind==="constant"?v.value:v.evaluate({zoom:d},n),i.addDash(S,M),n.patterns[g.id]=i.getKey(S,M)}}update(n,i,d,g,h,v,S){this.programConfigurations.updatePaintArrays(n,i,h,d,g,v,S)}addFeatures(n,i,d,g,h,v){for(const S of this.patternFeatures)this.addFeature(S,S.geometry,S.index,i,d,g,v)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(n){this.uploaded||(this.layoutVertexArray2.length!==0&&(this.layoutVertexBuffer2=n.createVertexBuffer(this.layoutVertexArray2,Db)),this.patternVertexArray.length!==0&&(this.patternVertexBuffer=n.createVertexBuffer(this.patternVertexArray,Lb)),!this.zOffsetVertexBuffer&&this.zOffsetVertexArray.length>0&&(this.zOffsetVertexBuffer=n.createVertexBuffer(this.zOffsetVertexArray,$b.members,!0)),this.layoutVertexBuffer=n.createVertexBuffer(this.layoutVertexArray,ay),this.indexBuffer=n.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(n),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.zOffsetVertexBuffer&&this.zOffsetVertexBuffer.destroy(),this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}lineFeatureClips(n){if(n.properties&&n.properties.hasOwnProperty("mapbox_clip_start")&&n.properties.hasOwnProperty("mapbox_clip_end"))return{start:+n.properties.mapbox_clip_start,end:+n.properties.mapbox_clip_end}}addFeature(n,i,d,g,h,v,S){const M=this.layers[0].layout,A=M.get("line-join").evaluate(n,{}),b=M.get("line-cap").evaluate(n,{}),P=M.get("line-miter-limit"),$=M.get("line-round-limit");this.lineClips=this.lineFeatureClips(n),this.lineFeature=n,this.zOffsetValue=M.get("line-z-offset").value;const T=this.layers[0].paint.get("line-width").value;T.kind!=="constant"&&T.isLineProgressConstant===!1&&(this.variableWidthValue=T);for(const O of i)this.addLine(O,n,g,A,b,P,$);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,n,d,h,v,g,S)}addLine(n,i,d,g,h,v,S){this.distance=0,this.prevDistance=0,this.scaledDistance=0,this.totalDistance=0,this.totalFeatureLength=0,this.lineSoFar=0,this.currentVertex=void 0;const M=g==="none";if(this.patternJoinNone=this.hasPattern&&M,this.segmentStart=0,this.segmentStartf32=0,this.segmentPoints=[],this.lineClips){this.lineClipsArray.push(this.lineClips);for(let ue=0;ue<n.length-1;ue++)this.totalDistance+=n[ue].dist(n[ue+1]);this.totalFeatureLength=this.totalDistance/(this.lineClips.end-this.lineClips.start),this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}const A=bC[i.type]==="Polygon";let b=n.length;for(;b>=2&&n[b-1].equals(n[b-2]);)b--;let P=0;for(;P<b-1&&n[P].equals(n[P+1]);)P++;if(b<(A?3:2))return;g==="bevel"&&(v=1.05);const $=this.segments.prepareSegment(10*b,this.layoutVertexArray,this.indexArray);let T,O,N,W,J,se;this.e1=this.e2=-1,A&&(T=n[b-2],J=n[P].sub(T)._unit()._perp());for(let ue=P;ue<b;ue++){if(N=ue===b-1?A?n[P+1]:void 0:n[ue+1],N&&n[ue].equals(N))continue;J&&(W=J),T&&(O=T),T=n[ue],se=this.evaluateLineProgressFeatures(O?O.dist(T):0),J=N?N.sub(T)._unit()._perp():W,W=W||J;const re=O&&N;let ve=re?g:A||M?"butt":h;const we=W.x*J.x+W.y*J.y;if(M){const mn=function(un){if(un.patternJoinNone){const yn=un.segmentPoints.length/2,zn=un.lineSoFar-un.segmentStart;for(let Gn=0;Gn<yn;++Gn){const Mn=un.segmentPoints[2*Gn+1],$r=Math.round(un.segmentPoints[2*Gn])+.5+.25*Mn;un.patternVertexArray.emplaceBack($r,zn,un.segmentStart),un.patternVertexArray.emplaceBack($r,zn,un.segmentStart)}un.segmentPoints.length=0}un.e1=un.e2=-1};if(re&&we<CC){this.updateDistance(O,T),this.addCurrentVertex(T,W,1,1,$,se),mn(this),this.addCurrentVertex(T,J,-1,-1,$,se);continue}if(O){if(!N){this.updateDistance(O,T),this.addCurrentVertex(T,W,1,1,$,se),mn(this);continue}ve="miter"}}let Ne=W.add(J);Ne.x===0&&Ne.y===0||Ne._unit();const ht=Ne.x*J.x+Ne.y*J.y,ft=ht!==0?1/ht:1/0,at=2*Math.sqrt(2-2*ht),Gt=ht<xC&&O&&N,vt=W.x*J.y-W.y*J.x>0,en=this.overscaling<=16?15*Bi/(512*this.overscaling):0;if(re&&ve==="round"){if(ft<S)ve="miter";else if(ft<=2){const mn=S0(T,-10,Bi+10);ve=this.hasZOffset&&(mn||this.hasCrossSlope)?"miter":"fakeround"}}if(ve==="miter"&&ft>v&&(ve="bevel"),ve==="bevel"&&(ft>2&&(ve="flipbevel"),ft<v&&(ve="miter")),O&&!(ve==="miter"&&Gt)&&this.updateDistance(O,T),ve==="miter")if(Gt){const mn=T.dist(O);if(mn>2*en){const yn=T.sub(T.sub(O)._mult(en/mn)._round());this.updateDistance(O,yn),this.addCurrentVertex(yn,W,0,0,$,se),O=yn}this.updateDistance(O,T),Ne._mult(ft),this.addCurrentVertex(T,Ne,0,0,$,se);const un=T.dist(N);if(un>2*en){const yn=T.add(N.sub(T)._mult(en/un)._round());this.updateDistance(T,yn),this.addCurrentVertex(yn,J,0,0,$,se),T=yn}}else Ne._mult(ft),this.addCurrentVertex(T,Ne,0,0,$,se);else if(ve==="flipbevel"){if(ft>100)Ne=J.mult(-1);else{const mn=ft*W.add(J).mag()/W.sub(J).mag();Ne._perp()._mult(mn*(vt?-1:1))}this.addCurrentVertex(T,Ne,0,0,$,se),this.addCurrentVertex(T,Ne.mult(-1),0,0,$,se)}else if(ve==="bevel"||ve==="fakeround"){se!=null&&O&&this.addCurrentVertex(T,W,-1,-1,$,se);const mn=T.dist(O)<=2*en&&ve!=="bevel",un=Ne.mult(vt?1:-1);un._mult(ft);const yn=J.mult(vt?-1:1),zn=W.mult(vt?-1:1),Gn=this.evaluateLineProgressFeatures(this.distance);if(se==null&&(this.addHalfVertex(T,un.x,un.y,!1,!vt,0,$,Gn),mn||this.addHalfVertex(T,un.x+2*zn.x,un.y+2*zn.y,!1,vt,0,$,Gn)),ve==="fakeround"){const Mn=Math.round(180*at/Math.PI/20);this.addHalfVertex(T,zn.x,zn.y,!1,vt,0,$,Gn);for(let $r=0;$r<Mn;$r++){let ii=$r/Mn;if(ii!==.5){const Xi=ii-.5;ii+=ii*Xi*(ii-1)*((1.0904+we*(we*(3.55645-1.43519*we)-3.2452))*Xi*Xi+(.848013+we*(.215638*we-1.06021)))}const Or=yn.sub(zn)._mult(ii)._add(zn)._unit();this.addHalfVertex(T,Or.x,Or.y,!1,vt,0,$,Gn)}this.addHalfVertex(T,yn.x,yn.y,!1,vt,0,$,Gn)}mn||se!=null||this.addHalfVertex(T,un.x+2*yn.x,un.y+2*yn.y,!1,vt,0,$,Gn),se!=null&&N&&this.addCurrentVertex(T,J,1,1,$,se)}else ve==="butt"?this.addCurrentVertex(T,Ne,0,0,$,se):ve==="square"?(O||this.addCurrentVertex(T,Ne,-1,-1,$,se),this.addCurrentVertex(T,Ne,0,0,$,se),O&&this.addCurrentVertex(T,Ne,1,1,$,se)):ve==="round"&&(O&&(this.addCurrentVertex(T,W,0,0,$,se),this.addCurrentVertex(T,W,1,1,$,se,!0)),N&&(this.addCurrentVertex(T,J,-1,-1,$,se,!0),this.addCurrentVertex(T,J,0,0,$,se)))}}addVerticesTo(n,i,d,g,h,v,S,M,A,b){const P=(i.w-n.w)/this.tessellationStep|0;let $=0;const T=this.scaledDistance;if(P>1){this.lineSoFar=n.w;const N=(i.x-n.x)/P,W=(i.y-n.y)/P,J=(i.z-n.z)/P,se=(i.w-n.w)/P;for(let ue=1;ue<P;++ue){n.x+=N,n.y+=W,n.z+=J,this.lineSoFar+=se,$+=se;const re=this.evaluateLineProgressFeatures(this.prevDistance+$);this.scaledDistance=(this.prevDistance+$)/this.totalDistance,this.addHalfVertex(n,d,g,b,!1,S,A,re),this.addHalfVertex(n,h,v,b,!0,-M,A,re)}}this.lineSoFar=i.w,this.scaledDistance=T;const O=this.evaluateLineProgressFeatures(this.distance);this.addHalfVertex(i,d,g,b,!1,S,A,O),this.addHalfVertex(i,h,v,b,!0,-M,A,O)}evaluateLineProgressFeatures(n){if(!this.variableWidthValue&&!this.hasZOffset)return null;this.evaluationGlobals.lineProgress=0,this.lineClips?this.evaluationGlobals.lineProgress=Math.min(1,(this.totalFeatureLength*this.lineClips.start+n)/this.totalFeatureLength):Un(`line-progress evaluation for ${this.layerIds[0]} requires enabling 'lineMetrics' for the source.`);let i=0;return this.variableWidthValue&&this.variableWidthValue.kind!=="constant"&&(i=this.variableWidthValue.evaluate(this.evaluationGlobals,this.lineFeature)||0),this.hasZOffset?this.zOffsetValue.kind==="constant"?{zOffset:this.zOffsetValue.value,variableWidth:i}:{zOffset:this.zOffsetValue.evaluate(this.evaluationGlobals,this.lineFeature)||0,variableWidth:i}:{zOffset:0,variableWidth:i}}addCurrentVertex(n,i,d,g,h,v,S=!1){const M=i.x+i.y*d,A=i.y-i.x*d,b=i.y*g-i.x,P=-i.y-i.x*g;if(v!=null){const $=this.hasZOffset,T=-10,O=Bi+10,N=v.zOffset,W=new m0(n.x,n.y,N,this.lineSoFar),J=!!$&&S0(n,T,O),se=this.lineSoFar,ue=this.distance;if(this.currentVertex)if(J){const re=this.currentVertexIsOutside,ve=this.currentVertex,we=new m0(n.x,n.y,N,this.lineSoFar);if(Jv(ve,we,T,O),!S0(we,T,O)){if(re){this.e1=this.e2=-1,this.distance-=ve.dist(W),this.lineSoFar=ve.w;const Ne=this.evaluateLineProgressFeatures(ve.w-this.totalFeatureLength*(this.lineClips?this.lineClips.start:0));this.addHalfVertex(ve,M,A,S,!1,d,h,Ne),this.addHalfVertex(ve,b,P,S,!0,-g,h,Ne),this.prevDistance=this.distance}this.distance=this.prevDistance+ve.dist(we),this.scaledDistance=this.distance/this.totalDistance,this.addVerticesTo(ve,we,M,A,b,P,d,g,h,S),this.distance=ue,this.scaledDistance=this.distance/this.totalDistance}}else{const re=this.currentVertex;if(this.currentVertexIsOutside){Jv(re,W,T,O),this.e1=this.e2=-1,this.distance-=re.dist(W),this.scaledDistance=this.distance/this.totalDistance,this.lineSoFar=re.w;const ve=this.evaluateLineProgressFeatures(re.w-this.totalFeatureLength*(this.lineClips?this.lineClips.start:0));this.addHalfVertex(re,M,A,S,!1,d,h,ve),this.addHalfVertex(re,b,P,S,!0,-g,h,ve),this.prevDistance=this.distance,this.distance=ue,this.scaledDistance=this.distance/this.totalDistance}this.addVerticesTo(re,W,M,A,b,P,d,g,h,S)}else J||(this.addHalfVertex(n,M,A,S,!1,d,h,v),this.addHalfVertex(n,b,P,S,!0,-g,h,v));this.currentVertex=W,this.currentVertexIsOutside=J,this.lineSoFar=se}else this.addHalfVertex(n,M,A,S,!1,d,h,v),this.addHalfVertex(n,b,P,S,!0,-g,h,v)}addHalfVertex({x:n,y:i},d,g,h,v,S,M,A){if(this.patternJoinNone&&(this.segmentPoints.length===0&&(this.segmentStart=this.lineSoFar,this.segmentStartf32=Math.fround(this.lineSoFar)),v||this.segmentPoints.push(this.lineSoFar-this.segmentStart,S)),this.layoutVertexArray.emplaceBack((n<<1)+(h?1:0),(i<<1)+(v?1:0),Math.round(63*d)+128,Math.round(63*g)+128,1+(S===0?0:S<0?-1:1),0,this.lineSoFar-this.segmentStartf32),this.lineClips){const P=Tt(this.lineClips.start,this.lineClips.end,this.scaledDistance);this.layoutVertexArray2.emplaceBack(this.scaledDistance,this.lineClipsArray.length,P)}const b=M.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,b),M.primitiveLength++),v?this.e2=b:this.e1=b,A!=null&&this.zOffsetVertexArray.emplaceBack(A.zOffset,A.variableWidth,A.variableWidth)}updateScaledDistance(){this.lineClips?(this.scaledDistance=this.distance/this.totalDistance,this.lineSoFar=this.totalFeatureLength*this.lineClips.start+this.distance):this.lineSoFar=this.distance}updateDistance(n,i){this.prevDistance=this.distance,this.distance+=n.dist(i),this.updateScaledDistance()}}function S0(u,n,i){return u.x<n||u.x>i||u.y<n||u.y>i}let sy,ly;function zb(u,n,i){return n*(Bi/(u.tileSize*Math.pow(2,i-u.tileID.overscaledZ)))}_o(C0,"LineBucket",{omit:["layers","patternFeatures","currentVertex","currentVertexIsOutside"]});const w0=(u,n,i)=>(1-i)*u+i*n;function Jd(u,n){return 1/zb(u,1,n.tileZoom)}function E0(u,n,i,d){return u.translatePosMatrix(d||n.tileID.projMatrix,n,i.paint.get("line-translate"),i.paint.get("line-translate-anchor"))}const $f=u=>{const n=[];cy(u)&&n.push("RENDER_LINE_DASH"),u.paint.get("line-gradient")&&n.push("RENDER_LINE_GRADIENT");const i=u.paint.get("line-trim-offset");i[0]===0&&i[1]===0||n.push("RENDER_LINE_TRIM_OFFSET"),u.paint.get("line-border-width").constantOr(1)!==0&&n.push("RENDER_LINE_BORDER");const d=u.layout.get("line-join").constantOr("miter")==="none",g=!!u.paint.get("line-pattern").constantOr(1);return d&&g&&n.push("LINE_JOIN_NONE"),n};function cy(u){const n=u.paint.get("line-dasharray").value;return n.value||n.kind!=="constant"}let uy;const I0=()=>uy||(uy={layout:sy||(sy=new nl({"line-cap":new so(er.layout_line["line-cap"]),"line-join":new so(er.layout_line["line-join"]),"line-miter-limit":new Mi(er.layout_line["line-miter-limit"]),"line-round-limit":new Mi(er.layout_line["line-round-limit"]),"line-sort-key":new so(er.layout_line["line-sort-key"]),"line-z-offset":new so(er.layout_line["line-z-offset"]),"line-elevation-reference":new Mi(er.layout_line["line-elevation-reference"]),"line-cross-slope":new Mi(er.layout_line["line-cross-slope"]),visibility:new Mi(er.layout_line.visibility),"line-width-unit":new Mi(er.layout_line["line-width-unit"])})),paint:ly||(ly=new nl({"line-opacity":new so(er.paint_line["line-opacity"]),"line-color":new so(er.paint_line["line-color"]),"line-translate":new Mi(er.paint_line["line-translate"]),"line-translate-anchor":new Mi(er.paint_line["line-translate-anchor"]),"line-width":new so(er.paint_line["line-width"]),"line-gap-width":new so(er.paint_line["line-gap-width"]),"line-offset":new so(er.paint_line["line-offset"]),"line-blur":new so(er.paint_line["line-blur"]),"line-dasharray":new so(er.paint_line["line-dasharray"]),"line-pattern":new so(er.paint_line["line-pattern"]),"line-gradient":new kd(er.paint_line["line-gradient"]),"line-trim-offset":new Mi(er.paint_line["line-trim-offset"]),"line-trim-fade-range":new Mi(er.paint_line["line-trim-fade-range"]),"line-trim-color":new Mi(er.paint_line["line-trim-color"]),"line-emissive-strength":new Mi(er.paint_line["line-emissive-strength"]),"line-border-width":new so(er.paint_line["line-border-width"]),"line-border-color":new so(er.paint_line["line-border-color"]),"line-occlusion-opacity":new Mi(er.paint_line["line-occlusion-opacity"]),"line-color-use-theme":new so({type:"string",default:"default","property-type":"data-driven"}),"line-gradient-use-theme":new so({type:"string",default:"default","property-type":"data-driven"}),"line-trim-color-use-theme":new so({type:"string",default:"default","property-type":"data-driven"}),"line-border-color-use-theme":new so({type:"string",default:"default","property-type":"data-driven"})}))},uy);class dy extends so{possiblyEvaluate(n,i){return i=new Ws(Math.floor(i.zoom),{now:i.now,fadeDuration:i.fadeDuration,transition:i.transition}),super.possiblyEvaluate(n,i)}evaluate(n,i,d,g){return i=Jr({},i,{zoom:Math.floor(i.zoom)}),super.evaluate(n,i,d,g)}}let Mp;function fy(u,n){return n>0?n+2*u:u}const Ym=bs([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_tex_size",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),Gc=bs([{name:"a_globe_anchor",components:3,type:"Int16"},{name:"a_globe_normal",components:3,type:"Float32"}],4),T0=bs([{name:"a_projected_pos",components:4,type:"Float32"}],4);bs([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);const M0=bs([{name:"a_auto_z_offset",components:1,type:"Float32"}],4),SC=bs([{name:"a_texb",components:2,type:"Uint16"}]),Oc=bs([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"},{name:"a_elevation_from_sea",components:2,type:"Float32"}]),P0=bs([{name:"a_size_scale",components:1,type:"Float32"},{name:"a_padding",components:2,type:"Float32"},{name:"a_auto_z_offset",components:1,type:"Float32"}]);bs([{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Int16",name:"tileAnchorX"},{type:"Int16",name:"tileAnchorY"},{type:"Float32",name:"x1"},{type:"Float32",name:"y1"},{type:"Float32",name:"x2"},{type:"Float32",name:"y2"},{type:"Int16",name:"padding"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);const Nb=bs([{name:"a_pos",components:3,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),wC=bs([{name:"a_pos_2f",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);bs([{name:"triangle",components:3,type:"Uint16"}]),bs([{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Float32",name:"tileAnchorX"},{type:"Float32",name:"tileAnchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"},{type:"Uint8",name:"flipState"}]),bs([{type:"Float32",name:"tileAnchorX"},{type:"Float32",name:"tileAnchorY"},{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"},{type:"Float32",name:"zOffset"},{type:"Uint8",name:"hasIconTextFit"}]),bs([{type:"Float32",name:"offsetX"}]),bs([{type:"Int16",name:"x"},{type:"Int16",name:"y"}]);var Rc=24;const Qu=128;function Pp(u,n,i,d,g){if(u.kind==="camera")return u.maxSize;if(u.kind==="composite"){const h=n.possiblyEvaluate(new Ws(u.maxZoom),i).evaluate(g,{},i),v=n.possiblyEvaluate(new Ws(u.minZoom),i).evaluate(g,{},i);return Math.max(h,v)}return n.possiblyEvaluate(new Ws(d)).evaluate(g,{},i)}function O0(u,n){const{expression:i}=n;if(i.kind==="constant")return{kind:"constant",layoutSize:i.evaluate(new Ws(u+1))};if(i.kind==="source")return{kind:"source"};{const{zoomStops:d,interpolationType:g}=i;let h=0;for(;h<d.length&&d[h]<=u;)h++;h=Math.max(0,h-1);let v=h;for(;v<d.length&&d[v]<u+1;)v++;v=Math.min(d.length-1,v);const S=d[h],M=d[v];return i.kind==="composite"?{kind:"composite",minZoom:S,maxZoom:M,interpolationType:g}:{kind:"camera",minZoom:S,maxZoom:M,minSize:i.evaluate(new Ws(S)),maxSize:i.evaluate(new Ws(M)),interpolationType:g}}}function R0(u,{uSize:n,uSizeT:i},{lowerSize:d,upperSize:g}){return u.kind==="source"?d/Qu:u.kind==="composite"?Tt(d/Qu,g/Qu,i):n}function Ih(u,n,i=1){let d=0,g=0;if(u.kind==="constant")g=u.layoutSize*i;else if(u.kind!=="source"){const{interpolationType:h,minZoom:v,maxZoom:S}=u,M=h?Vn(Ul.interpolationFactor(h,n,v,S),0,1):0;u.kind==="camera"?g=Tt(u.minSize,u.maxSize,M)*i:d=M*i}return{uSizeT:d,uSize:g}}var Bb=Object.freeze({__proto__:null,SIZE_PACK_FACTOR:Qu,evaluateSizeForFeature:R0,evaluateSizeForZoom:Ih,getRasterizedIconSize:Pp,getSizeData:O0});function Fb(u,n,i){return u.sections.forEach(d=>{d.text=function(g,h,v){const S=h.layout.get("text-transform").evaluate(v,{});return S==="uppercase"?g=g.toLocaleUpperCase():S==="lowercase"&&(g=g.toLocaleLowerCase()),au.applyArabicShaping&&(g=au.applyArabicShaping(g)),g}(d.text,n,i)}),u}const Th={"!":"\uFE15","#":"\uFF03",$:"\uFF04","%":"\uFF05","&":"\uFF06","(":"\uFE35",")":"\uFE36","*":"\uFF0A","+":"\uFF0B",",":"\uFE10","-":"\uFE32",".":"\u30FB","/":"\uFF0F",":":"\uFE13",";":"\uFE14","<":"\uFE3F","=":"\uFF1D",">":"\uFE40","?":"\uFE16","@":"\uFF20","[":"\uFE47","\\":"\uFF3C","]":"\uFE48","^":"\uFF3E",_:"\uFE33","`":"\uFF40","{":"\uFE37","|":"\u2015","}":"\uFE38","~":"\uFF5E","\xA2":"\uFFE0","\xA3":"\uFFE1","\xA5":"\uFFE5","\xA6":"\uFFE4","\xAC":"\uFFE2","\xAF":"\uFFE3","\u2013":"\uFE32","\u2014":"\uFE31","\u2018":"\uFE43","\u2019":"\uFE44","\u201C":"\uFE41","\u201D":"\uFE42","\u2026":"\uFE19","\u2027":"\u30FB","\u20A9":"\uFFE6","\u3001":"\uFE11","\u3002":"\uFE12","\u3008":"\uFE3F","\u3009":"\uFE40","\u300A":"\uFE3D","\u300B":"\uFE3E","\u300C":"\uFE41","\u300D":"\uFE42","\u300E":"\uFE43","\u300F":"\uFE44","\u3010":"\uFE3B","\u3011":"\uFE3C","\u3014":"\uFE39","\u3015":"\uFE3A","\u3016":"\uFE17","\u3017":"\uFE18","\uFF01":"\uFE15","\uFF08":"\uFE35","\uFF09":"\uFE36","\uFF0C":"\uFE10","\uFF0D":"\uFE32","\uFF0E":"\u30FB","\uFF1A":"\uFE13","\uFF1B":"\uFE14","\uFF1C":"\uFE3F","\uFF1E":"\uFE40","\uFF1F":"\uFE16","\uFF3B":"\uFE47","\uFF3D":"\uFE48","\uFF3F":"\uFE33","\uFF5B":"\uFE37","\uFF5C":"\u2015","\uFF5D":"\uFE38","\uFF5F":"\uFE35","\uFF60":"\uFE36","\uFF61":"\uFE12","\uFF62":"\uFE41","\uFF63":"\uFE42","\u2190":"\u2191","\u2192":"\u2193"};function kb(u){return u==="\uFE36"||u==="\uFE48"||u==="\uFE38"||u==="\uFE44"||u==="\uFE42"||u==="\uFE3E"||u==="\uFE3C"||u==="\uFE3A"||u==="\uFE18"||u==="\uFE40"||u==="\uFE10"||u==="\uFE13"||u==="\uFE14"||u==="\uFF40"||u==="\uFFE3"||u==="\uFE11"||u==="\uFE12"}function EC(u){return u==="\uFE35"||u==="\uFE47"||u==="\uFE37"||u==="\uFE43"||u==="\uFE41"||u==="\uFE3D"||u==="\uFE3B"||u==="\uFE39"||u==="\uFE17"||u==="\uFE3F"}var Op,qm,hy,$0={};function IC(){return Op||(Op=1,$0.read=function(u,n,i,d,g){var h,v,S=8*g-d-1,M=(1<<S)-1,A=M>>1,b=-7,P=i?g-1:0,$=i?-1:1,T=u[n+P];for(P+=$,h=T&(1<<-b)-1,T>>=-b,b+=S;b>0;h=256*h+u[n+P],P+=$,b-=8);for(v=h&(1<<-b)-1,h>>=-b,b+=d;b>0;v=256*v+u[n+P],P+=$,b-=8);if(h===0)h=1-A;else{if(h===M)return v?NaN:1/0*(T?-1:1);v+=Math.pow(2,d),h-=A}return(T?-1:1)*v*Math.pow(2,h-d)},$0.write=function(u,n,i,d,g,h){var v,S,M,A=8*h-g-1,b=(1<<A)-1,P=b>>1,$=g===23?Math.pow(2,-24)-Math.pow(2,-77):0,T=d?0:h-1,O=d?1:-1,N=n<0||n===0&&1/n<0?1:0;for(n=Math.abs(n),isNaN(n)||n===1/0?(S=isNaN(n)?1:0,v=b):(v=Math.floor(Math.log(n)/Math.LN2),n*(M=Math.pow(2,-v))<1&&(v--,M*=2),(n+=v+P>=1?$/M:$*Math.pow(2,1-P))*M>=2&&(v++,M/=2),v+P>=b?(S=0,v=b):v+P>=1?(S=(n*M-1)*Math.pow(2,g),v+=P):(S=n*Math.pow(2,P-1)*Math.pow(2,g),v=0));g>=8;u[i+T]=255&S,T+=O,S/=256,g-=8);for(v=v<<g|S,A+=g;A>0;u[i+T]=255&v,T+=O,v/=256,A-=8);u[i+T-O]|=128*N}),$0}function py(){if(hy)return qm;hy=1,qm=n;var u=IC();function n(re){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(re)?re:new Uint8Array(re||0),this.pos=0,this.type=0,this.length=this.buf.length}n.Varint=0,n.Fixed64=1,n.Bytes=2,n.Fixed32=5;var i=4294967296,d=1/i,g=typeof TextDecoder=="undefined"?null:new TextDecoder("utf8");function h(re){return re.type===n.Bytes?re.readVarint()+re.pos:re.pos+1}function v(re,ve,we){return we?4294967296*ve+(re>>>0):4294967296*(ve>>>0)+(re>>>0)}function S(re,ve,we){var Ne=ve<=16383?1:ve<=2097151?2:ve<=268435455?3:Math.floor(Math.log(ve)/(7*Math.LN2));we.realloc(Ne);for(var ht=we.pos-1;ht>=re;ht--)we.buf[ht+Ne]=we.buf[ht]}function M(re,ve){for(var we=0;we<re.length;we++)ve.writeVarint(re[we])}function A(re,ve){for(var we=0;we<re.length;we++)ve.writeSVarint(re[we])}function b(re,ve){for(var we=0;we<re.length;we++)ve.writeFloat(re[we])}function P(re,ve){for(var we=0;we<re.length;we++)ve.writeDouble(re[we])}function $(re,ve){for(var we=0;we<re.length;we++)ve.writeBoolean(re[we])}function T(re,ve){for(var we=0;we<re.length;we++)ve.writeFixed32(re[we])}function O(re,ve){for(var we=0;we<re.length;we++)ve.writeSFixed32(re[we])}function N(re,ve){for(var we=0;we<re.length;we++)ve.writeFixed64(re[we])}function W(re,ve){for(var we=0;we<re.length;we++)ve.writeSFixed64(re[we])}function J(re,ve){return(re[ve]|re[ve+1]<<8|re[ve+2]<<16)+16777216*re[ve+3]}function se(re,ve,we){re[we]=ve,re[we+1]=ve>>>8,re[we+2]=ve>>>16,re[we+3]=ve>>>24}function ue(re,ve){return(re[ve]|re[ve+1]<<8|re[ve+2]<<16)+(re[ve+3]<<24)}return n.prototype={destroy:function(){this.buf=null},readFields:function(re,ve,we){for(we=we||this.length;this.pos<we;){var Ne=this.readVarint(),ht=Ne>>3,ft=this.pos;this.type=7&Ne,re(ht,ve,this),this.pos===ft&&this.skip(Ne)}return ve},readMessage:function(re,ve){return this.readFields(re,ve,this.readVarint()+this.pos)},readFixed32:function(){var re=J(this.buf,this.pos);return this.pos+=4,re},readSFixed32:function(){var re=ue(this.buf,this.pos);return this.pos+=4,re},readFixed64:function(){var re=J(this.buf,this.pos)+J(this.buf,this.pos+4)*i;return this.pos+=8,re},readSFixed64:function(){var re=J(this.buf,this.pos)+ue(this.buf,this.pos+4)*i;return this.pos+=8,re},readFloat:function(){var re=u.read(this.buf,this.pos,!0,23,4);return this.pos+=4,re},readDouble:function(){var re=u.read(this.buf,this.pos,!0,52,8);return this.pos+=8,re},readVarint:function(re){var ve,we,Ne=this.buf;return ve=127&(we=Ne[this.pos++]),we<128?ve:(ve|=(127&(we=Ne[this.pos++]))<<7,we<128?ve:(ve|=(127&(we=Ne[this.pos++]))<<14,we<128?ve:(ve|=(127&(we=Ne[this.pos++]))<<21,we<128?ve:function(ht,ft,at){var Gt,vt,en=at.buf;if(Gt=(112&(vt=en[at.pos++]))>>4,vt<128||(Gt|=(127&(vt=en[at.pos++]))<<3,vt<128)||(Gt|=(127&(vt=en[at.pos++]))<<10,vt<128)||(Gt|=(127&(vt=en[at.pos++]))<<17,vt<128)||(Gt|=(127&(vt=en[at.pos++]))<<24,vt<128)||(Gt|=(1&(vt=en[at.pos++]))<<31,vt<128))return v(ht,Gt,ft);throw new Error("Expected varint not more than 10 bytes")}(ve|=(15&(we=Ne[this.pos]))<<28,re,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var re=this.readVarint();return re%2==1?(re+1)/-2:re/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var re=this.readVarint()+this.pos,ve=this.pos;return this.pos=re,re-ve>=12&&g?function(we,Ne,ht){return g.decode(we.subarray(Ne,ht))}(this.buf,ve,re):function(we,Ne,ht){for(var ft="",at=Ne;at<ht;){var Gt,vt,en,mn=we[at],un=null,yn=mn>239?4:mn>223?3:mn>191?2:1;if(at+yn>ht)break;yn===1?mn<128&&(un=mn):yn===2?(192&(Gt=we[at+1]))==128&&(un=(31&mn)<<6|63&Gt)<=127&&(un=null):yn===3?(vt=we[at+2],(192&(Gt=we[at+1]))==128&&(192&vt)==128&&((un=(15&mn)<<12|(63&Gt)<<6|63&vt)<=2047||un>=55296&&un<=57343)&&(un=null)):yn===4&&(vt=we[at+2],en=we[at+3],(192&(Gt=we[at+1]))==128&&(192&vt)==128&&(192&en)==128&&((un=(15&mn)<<18|(63&Gt)<<12|(63&vt)<<6|63&en)<=65535||un>=1114112)&&(un=null)),un===null?(un=65533,yn=1):un>65535&&(un-=65536,ft+=String.fromCharCode(un>>>10&1023|55296),un=56320|1023&un),ft+=String.fromCharCode(un),at+=yn}return ft}(this.buf,ve,re)},readBytes:function(){var re=this.readVarint()+this.pos,ve=this.buf.subarray(this.pos,re);return this.pos=re,ve},readPackedVarint:function(re,ve){if(this.type!==n.Bytes)return re.push(this.readVarint(ve));var we=h(this);for(re=re||[];this.pos<we;)re.push(this.readVarint(ve));return re},readPackedSVarint:function(re){if(this.type!==n.Bytes)return re.push(this.readSVarint());var ve=h(this);for(re=re||[];this.pos<ve;)re.push(this.readSVarint());return re},readPackedBoolean:function(re){if(this.type!==n.Bytes)return re.push(this.readBoolean());var ve=h(this);for(re=re||[];this.pos<ve;)re.push(this.readBoolean());return re},readPackedFloat:function(re){if(this.type!==n.Bytes)return re.push(this.readFloat());var ve=h(this);for(re=re||[];this.pos<ve;)re.push(this.readFloat());return re},readPackedDouble:function(re){if(this.type!==n.Bytes)return re.push(this.readDouble());var ve=h(this);for(re=re||[];this.pos<ve;)re.push(this.readDouble());return re},readPackedFixed32:function(re){if(this.type!==n.Bytes)return re.push(this.readFixed32());var ve=h(this);for(re=re||[];this.pos<ve;)re.push(this.readFixed32());return re},readPackedSFixed32:function(re){if(this.type!==n.Bytes)return re.push(this.readSFixed32());var ve=h(this);for(re=re||[];this.pos<ve;)re.push(this.readSFixed32());return re},readPackedFixed64:function(re){if(this.type!==n.Bytes)return re.push(this.readFixed64());var ve=h(this);for(re=re||[];this.pos<ve;)re.push(this.readFixed64());return re},readPackedSFixed64:function(re){if(this.type!==n.Bytes)return re.push(this.readSFixed64());var ve=h(this);for(re=re||[];this.pos<ve;)re.push(this.readSFixed64());return re},skip:function(re){var ve=7&re;if(ve===n.Varint)for(;this.buf[this.pos++]>127;);else if(ve===n.Bytes)this.pos=this.readVarint()+this.pos;else if(ve===n.Fixed32)this.pos+=4;else{if(ve!==n.Fixed64)throw new Error("Unimplemented type: "+ve);this.pos+=8}},writeTag:function(re,ve){this.writeVarint(re<<3|ve)},realloc:function(re){for(var ve=this.length||16;ve<this.pos+re;)ve*=2;if(ve!==this.length){var we=new Uint8Array(ve);we.set(this.buf),this.buf=we,this.length=ve}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(re){this.realloc(4),se(this.buf,re,this.pos),this.pos+=4},writeSFixed32:function(re){this.realloc(4),se(this.buf,re,this.pos),this.pos+=4},writeFixed64:function(re){this.realloc(8),se(this.buf,-1&re,this.pos),se(this.buf,Math.floor(re*d),this.pos+4),this.pos+=8},writeSFixed64:function(re){this.realloc(8),se(this.buf,-1&re,this.pos),se(this.buf,Math.floor(re*d),this.pos+4),this.pos+=8},writeVarint:function(re){(re=+re||0)>268435455||re<0?function(ve,we){var Ne,ht;if(ve>=0?(Ne=ve%4294967296|0,ht=ve/4294967296|0):(ht=~(-ve/4294967296),4294967295^(Ne=~(-ve%4294967296))?Ne=Ne+1|0:(Ne=0,ht=ht+1|0)),ve>=18446744073709552e3||ve<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");we.realloc(10),function(ft,at,Gt){Gt.buf[Gt.pos++]=127&ft|128,ft>>>=7,Gt.buf[Gt.pos++]=127&ft|128,ft>>>=7,Gt.buf[Gt.pos++]=127&ft|128,ft>>>=7,Gt.buf[Gt.pos++]=127&ft|128,Gt.buf[Gt.pos]=127&(ft>>>=7)}(Ne,0,we),function(ft,at){var Gt=(7&ft)<<4;at.buf[at.pos++]|=Gt|((ft>>>=3)?128:0),ft&&(at.buf[at.pos++]=127&ft|((ft>>>=7)?128:0),ft&&(at.buf[at.pos++]=127&ft|((ft>>>=7)?128:0),ft&&(at.buf[at.pos++]=127&ft|((ft>>>=7)?128:0),ft&&(at.buf[at.pos++]=127&ft|((ft>>>=7)?128:0),ft&&(at.buf[at.pos++]=127&ft)))))}(ht,we)}(re,this):(this.realloc(4),this.buf[this.pos++]=127&re|(re>127?128:0),re<=127||(this.buf[this.pos++]=127&(re>>>=7)|(re>127?128:0),re<=127||(this.buf[this.pos++]=127&(re>>>=7)|(re>127?128:0),re<=127||(this.buf[this.pos++]=re>>>7&127))))},writeSVarint:function(re){this.writeVarint(re<0?2*-re-1:2*re)},writeBoolean:function(re){this.writeVarint(!!re)},writeString:function(re){re=String(re),this.realloc(4*re.length),this.pos++;var ve=this.pos;this.pos=function(Ne,ht,ft){for(var at,Gt,vt=0;vt<ht.length;vt++){if((at=ht.charCodeAt(vt))>55295&&at<57344){if(!Gt){at>56319||vt+1===ht.length?(Ne[ft++]=239,Ne[ft++]=191,Ne[ft++]=189):Gt=at;continue}if(at<56320){Ne[ft++]=239,Ne[ft++]=191,Ne[ft++]=189,Gt=at;continue}at=Gt-55296<<10|at-56320|65536,Gt=null}else Gt&&(Ne[ft++]=239,Ne[ft++]=191,Ne[ft++]=189,Gt=null);at<128?Ne[ft++]=at:(at<2048?Ne[ft++]=at>>6|192:(at<65536?Ne[ft++]=at>>12|224:(Ne[ft++]=at>>18|240,Ne[ft++]=at>>12&63|128),Ne[ft++]=at>>6&63|128),Ne[ft++]=63&at|128)}return ft}(this.buf,re,this.pos);var we=this.pos-ve;we>=128&&S(ve,we,this),this.pos=ve-1,this.writeVarint(we),this.pos+=we},writeFloat:function(re){this.realloc(4),u.write(this.buf,re,this.pos,!0,23,4),this.pos+=4},writeDouble:function(re){this.realloc(8),u.write(this.buf,re,this.pos,!0,52,8),this.pos+=8},writeBytes:function(re){var ve=re.length;this.writeVarint(ve),this.realloc(ve);for(var we=0;we<ve;we++)this.buf[this.pos++]=re[we]},writeRawMessage:function(re,ve){this.pos++;var we=this.pos;re(ve,this);var Ne=this.pos-we;Ne>=128&&S(we,Ne,this),this.pos=we-1,this.writeVarint(Ne),this.pos+=Ne},writeMessage:function(re,ve,we){this.writeTag(re,n.Bytes),this.writeRawMessage(ve,we)},writePackedVarint:function(re,ve){ve.length&&this.writeMessage(re,M,ve)},writePackedSVarint:function(re,ve){ve.length&&this.writeMessage(re,A,ve)},writePackedBoolean:function(re,ve){ve.length&&this.writeMessage(re,$,ve)},writePackedFloat:function(re,ve){ve.length&&this.writeMessage(re,b,ve)},writePackedDouble:function(re,ve){ve.length&&this.writeMessage(re,P,ve)},writePackedFixed32:function(re,ve){ve.length&&this.writeMessage(re,T,ve)},writePackedSFixed32:function(re,ve){ve.length&&this.writeMessage(re,O,ve)},writePackedFixed64:function(re,ve){ve.length&&this.writeMessage(re,N,ve)},writePackedSFixed64:function(re,ve){ve.length&&this.writeMessage(re,W,ve)},writeBytesField:function(re,ve){this.writeTag(re,n.Bytes),this.writeBytes(ve)},writeFixed32Field:function(re,ve){this.writeTag(re,n.Fixed32),this.writeFixed32(ve)},writeSFixed32Field:function(re,ve){this.writeTag(re,n.Fixed32),this.writeSFixed32(ve)},writeFixed64Field:function(re,ve){this.writeTag(re,n.Fixed64),this.writeFixed64(ve)},writeSFixed64Field:function(re,ve){this.writeTag(re,n.Fixed64),this.writeSFixed64(ve)},writeVarintField:function(re,ve){this.writeTag(re,n.Varint),this.writeVarint(ve)},writeSVarintField:function(re,ve){this.writeTag(re,n.Varint),this.writeSVarint(ve)},writeStringField:function(re,ve){this.writeTag(re,n.Bytes),this.writeString(ve)},writeFloatField:function(re,ve){this.writeTag(re,n.Fixed32),this.writeFloat(ve)},writeDoubleField:function(re,ve){this.writeTag(re,n.Fixed64),this.writeDouble(ve)},writeBooleanField:function(re,ve){this.writeVarintField(re,!!ve)}},qm}var Jm=xe(py());const my=3;function jb(u,n,i){n.glyphs=[],u===1&&i.readMessage(Zb,n)}function Zb(u,n,i){if(u===3){const{id:d,bitmap:g,width:h,height:v,left:S,top:M,advance:A}=i.readMessage(Vb,{});n.glyphs.push({id:d,bitmap:new Yd({width:h+2*my,height:v+2*my},g),metrics:{width:h,height:v,left:S,top:M,advance:A}})}else u===4?n.ascender=i.readSVarint():u===5&&(n.descender=i.readSVarint())}function Vb(u,n,i){u===1?n.id=i.readVarint():u===2?n.bitmap=i.readBytes():u===3?n.width=i.readVarint():u===4?n.height=i.readVarint():u===5?n.left=i.readSVarint():u===6?n.top=i.readSVarint():u===7&&(n.advance=i.readVarint())}const Hb=my,Kc={horizontal:1,vertical:2,horizontalOnly:3};class Af{constructor(){this.scale=1,this.fontStack="",this.image=null}static forText(n,i){const d=new Af;return d.scale=n||1,d.fontStack=i,d}static forImage(n){const i=new Af;return i.image=n,i}}class Df{constructor(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null}static fromFeature(n,i){const d=new Df;for(let g=0;g<n.sections.length;g++){const h=n.sections[g];h.image?d.addImageSection(h):d.addTextSection(h,i)}return d}length(){return this.text.length}getSection(n){return this.sections[this.sectionIndex[n]]}getSections(){return this.sections}getSectionIndex(n){return this.sectionIndex[n]}getCodePoint(n){return this.text.codePointAt(n)}verticalizePunctuation(n){this.text=function(i,d){let g="";for(let h=0;h<i.length;h++){const v=i.charCodeAt(h+1)||null,S=i.charCodeAt(h-1)||null;g+=!d&&(v&&Bd(v)&&!Th[i[h+1]]||S&&Bd(S)&&!Th[i[h-1]])||!Th[i[h]]?i[h]:Th[i[h]]}return g}(this.text,n)}trim(){let n=0;for(let d=0;d<this.text.length&&Qm[this.text.charCodeAt(d)];d++)n++;let i=this.text.length;for(let d=this.text.length-1;d>=0&&d>=n&&Qm[this.text.charCodeAt(d)];d--)i--;this.text=this.text.substring(n,i),this.sectionIndex=this.sectionIndex.slice(n,i)}substring(n,i){const d=new Df;return d.text=this.text.substring(n,i),d.sectionIndex=this.sectionIndex.slice(n,i),d.sections=this.sections,d}toString(){return this.text}getMaxScale(){return this.sectionIndex.reduce((n,i)=>Math.max(n,this.sections[i].scale),0)}addTextSection(n,i){this.text+=n.text,this.sections.push(Af.forText(n.scale,n.fontStack||i));const d=this.sections.length-1;for(let g=0;g<n.text.length;++g)this.sectionIndex.push(d)}addImageSection(n){const i=n.image&&n.image.namePrimary?n.image.getPrimary():null;if(!i)return void Un("Can't add FormattedSection with an empty image.");const d=this.getNextImageSectionCharCode();d?(this.text+=String.fromCodePoint(d),this.sections.push(Af.forImage(i)),this.sectionIndex.push(this.sections.length-1)):Un("Reached maximum number of images 6401")}getNextImageSectionCharCode(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)}}function gy(u,n,i,d,g,h,v,S,M,A,b,P,$,T,O){const N=Df.fromFeature(u,g);P===Kc.vertical&&N.verticalizePunctuation($);let W=[];const J=function(we,Ne,ht,ft,at,Gt){if(!we)return[];const vt=[],en=function(zn,Gn,Mn,$r,ii,Or){let Xi=0;for(let Fi=0;Fi<zn.length();Fi++){const xi=zn.getSection(Fi);Xi+=eg(zn.getCodePoint(Fi),xi,$r,ii,Gn,Or)}return Xi/Math.max(1,Math.ceil(Xi/Mn))}(we,Ne,ht,ft,at,Gt),mn=we.text.indexOf("\u200B")>=0;let un=0;for(let zn=0;zn<we.length();zn++){const Gn=we.getSection(zn),Mn=we.getCodePoint(zn);if(Qm[Mn]||(un+=eg(Mn,Gn,ft,at,Ne,Gt)),zn<we.length()-1){const $r=!((yn=Mn)<11904||!(ko["Bopomofo Extended"](yn)||ko.Bopomofo(yn)||ko["CJK Compatibility Forms"](yn)||ko["CJK Compatibility Ideographs"](yn)||ko["CJK Compatibility"](yn)||ko["CJK Radicals Supplement"](yn)||ko["CJK Strokes"](yn)||ko["CJK Symbols and Punctuation"](yn)||ko["CJK Unified Ideographs Extension A"](yn)||ko["CJK Unified Ideographs"](yn)||ko["Enclosed CJK Letters and Months"](yn)||ko["Halfwidth and Fullwidth Forms"](yn)||ko.Hiragana(yn)||ko["Ideographic Description Characters"](yn)||ko["Kangxi Radicals"](yn)||ko["Katakana Phonetic Extensions"](yn)||ko.Katakana(yn)||ko["Vertical Forms"](yn)||ko["Yi Radicals"](yn)||ko["Yi Syllables"](yn)));(Mh[Mn]||$r||Gn.image)&&vt.push(Rp(zn+1,un,en,vt,Lf(Mn,we.getCodePoint(zn+1),$r&&mn),!1))}}var yn;return tg(Rp(we.length(),un,en,vt,0,!0))}(N,A,h,n,d,T),{processBidirectionalText:se,processStyledBidirectionalText:ue}=au;if(se&&N.sections.length===1){const we=se(N.toString(),J);for(const Ne of we){const ht=new Df;ht.text=Ne,ht.sections=N.sections;for(let ft=0;ft<Ne.length;ft++)ht.sectionIndex.push(0);W.push(ht)}}else if(ue){const we=ue(N.text,N.sectionIndex,J);for(const Ne of we){const ht=new Df;ht.text=Ne[0],ht.sectionIndex=Ne[1],ht.sections=N.sections,W.push(ht)}}else W=function(we,Ne){const ht=[],ft=we.text;let at=0;for(const Gt of Ne)ht.push(we.substring(at,Gt)),at=Gt;return at<ft.length&&ht.push(we.substring(at,ft.length)),ht}(N,J);const re=[],ve={positionedLines:re,text:N.toString(),top:b[1],bottom:b[1],left:b[0],right:b[0],writingMode:P,iconsInText:!1,verticalizable:!1,hasBaseline:!1};return function(we,Ne,ht,ft,at,Gt,vt,en,mn,un,yn,zn){let Gn=0,Mn=0,$r=0;const ii=en==="right"?1:en==="left"?0:.5;let Or=!1;for(const Qi of at){const ho=Qi.getSections();for(const da of ho){if(da.image)continue;const za=Ne[da.fontStack];if(za&&(Or=za.ascender!==void 0&&za.descender!==void 0,!Or))break}if(!Or)break}let Xi=0;for(const Qi of at){Qi.trim();const ho=Qi.getMaxScale(),da=(ho-1)*Rc,za={positionedGlyphs:[],lineOffset:0};we.positionedLines[Xi]=za;const Ba=za.positionedGlyphs;let Fa=0;if(!Qi.length()){Mn+=Gt,++Xi;continue}let Ja=0,Qa=0;for(let Ms=0;Ms<Qi.length();Ms++){const Ea=Qi.getSection(Ms),Es=Qi.getSectionIndex(Ms),Is=Qi.getCodePoint(Ms);let Xs=Ea.scale,wl=null,jl=null,El=null,pl=Rc,Il=0;const sl=!(mn===Kc.horizontal||!yn&&!np(Is)||yn&&(Qm[Is]||(Fi=Is,ko.Arabic(Fi)||ko["Arabic Supplement"](Fi)||ko["Arabic Extended-A"](Fi)||ko["Arabic Presentation Forms-A"](Fi)||ko["Arabic Presentation Forms-B"](Fi))));if(Ea.image){const wc=ft[Ea.image.serialize()];if(!wc)continue;El=Ea.image.id,we.iconsInText=we.iconsInText||!0,jl=wc.paddedRect;const Zs=wc.displaySize;Xs=Xs*Rc/zn,wl={width:Zs[0],height:Zs[1],left:0,top:-Hb,advance:sl?Zs[1]:Zs[0],localGlyph:!1},Il=Or?-wl.height*Xs:ho*Rc-17-Zs[1]*Xs,pl=wl.advance;const du=(sl?Zs[0]:Zs[1])*Xs-Rc*ho;du>0&&du>Fa&&(Fa=du)}else{const wc=ht[Ea.fontStack];if(!wc)continue;wc[Is]&&(jl=wc[Is]);const Zs=Ne[Ea.fontStack];if(!Zs)continue;const du=Zs.glyphs[Is];if(!du)continue;if(wl=du.metrics,pl=Is!==8203?Rc:0,Or){const rd=Zs.ascender!==void 0?Math.abs(Zs.ascender):0,fc=Zs.descender!==void 0?Math.abs(Zs.descender):0,id=(rd+fc)*Xs;Ja<id&&(Ja=id,Qa=(rd-fc)/2*Xs),Il=-rd*Xs}else Il=(ho-Xs)*Rc-17}sl?(we.verticalizable=!0,Ba.push({glyph:Is,imageName:El,x:Gn,y:Mn+Il,vertical:sl,scale:Xs,localGlyph:wl.localGlyph,fontStack:Ea.fontStack,sectionIndex:Es,metrics:wl,rect:jl}),Gn+=pl*Xs+un):(Ba.push({glyph:Is,imageName:El,x:Gn,y:Mn+Il,vertical:sl,scale:Xs,localGlyph:wl.localGlyph,fontStack:Ea.fontStack,sectionIndex:Es,metrics:wl,rect:jl}),Gn+=wl.advance*Xs+un)}Ba.length!==0&&($r=Math.max(Gn-un,$r),Or?Oh(Ba,ii,Fa,Qa,Gt*ho/2):Oh(Ba,ii,Fa,0,Gt/2)),Gn=0;const js=Gt*ho+Fa;za.lineOffset=Math.max(Fa,da),Mn+=js,++Xi}var Fi;const xi=Mn,{horizontalAlign:ni,verticalAlign:To}=vy(vt);(function(Qi,ho,da,za,Ba,Fa){const Ja=(ho-da)*Ba,Qa=-Fa*za;for(const js of Qi)for(const Ms of js.positionedGlyphs)Ms.x+=Ja,Ms.y+=Qa})(we.positionedLines,ii,ni,To,$r,xi),we.top+=-To*xi,we.bottom=we.top+xi,we.left+=-ni*$r,we.right=we.left+$r,we.hasBaseline=Or}(ve,n,i,d,W,v,S,M,P,A,$,O),!function(we){for(const Ne of we)if(Ne.positionedGlyphs.length!==0)return!1;return!0}(re)&&ve}const Qm={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},Mh={10:!0,32:!0,38:!0,40:!0,41:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0,8231:!0};function eg(u,n,i,d,g,h){if(n.image){const v=d[n.image.serialize()];return v?v.displaySize[0]*n.scale*Rc/h+g:0}{const v=i[n.fontStack],S=v&&v.glyphs[u];return S?S.metrics.advance*n.scale+g:0}}function Ph(u,n,i,d){const g=Math.pow(u-n,2);return d?u<n?g/2:2*g:g+Math.abs(i)*i}function Lf(u,n,i){let d=0;return u===10&&(d-=1e4),i&&(d+=150),u!==40&&u!==65288||(d+=50),n!==41&&n!==65289||(d+=50),d}function Rp(u,n,i,d,g,h){let v=null,S=Ph(n,i,g,h);for(const M of d){const A=Ph(n-M.x,i,g,h)+M.badness;A<=S&&(v=M,S=A)}return{index:u,x:n,priorBreak:v,badness:S}}function tg(u){return u?tg(u.priorBreak).concat(u.index):[]}function vy(u){let n=.5,i=.5;switch(u){case"right":case"top-right":case"bottom-right":n=1;break;case"left":case"top-left":case"bottom-left":n=0}switch(u){case"bottom":case"bottom-right":case"bottom-left":i=1;break;case"top":case"top-right":case"top-left":i=0}return{horizontalAlign:n,verticalAlign:i}}function Oh(u,n,i,d,g){if(!(n||i||d||g))return;const h=u.length-1,v=u[h],S=(v.x+v.metrics.advance*v.scale)*n;for(let M=0;M<=h;M++)u[M].x-=S,u[M].y+=i+d+g}function A0(u,n,i,d){const{horizontalAlign:g,verticalAlign:h}=vy(d),v=i[0]-u.displaySize[0]*g,S=i[1]-u.displaySize[1]*h;return{imagePrimary:u,imageSecondary:n,top:S,bottom:S+u.displaySize[1],left:v,right:v+u.displaySize[0]}}function yy(u,n,i,d,g,h){const v=u.imagePrimary;let S;if(v.content){const W=v.content,J=v.pixelRatio||1;S=[W[0]/J,W[1]/J,v.displaySize[0]-W[2]/J,v.displaySize[1]-W[3]/J]}const M=n.left*h,A=n.right*h;let b,P,$,T;i==="width"||i==="both"?(T=g[0]+M-d[3],P=g[0]+A+d[1]):(T=g[0]+(M+A-v.displaySize[0])/2,P=T+v.displaySize[0]);const O=n.top*h,N=n.bottom*h;return i==="height"||i==="both"?(b=g[1]+O-d[0],$=g[1]+N+d[2]):(b=g[1]+(O+N-v.displaySize[1])/2,$=b+v.displaySize[1]),{imagePrimary:v,imageSecondary:void 0,top:b,right:P,bottom:$,left:T,collisionPadding:S}}class Qd extends Rn{constructor(n,i,d,g,h){super(n,i),this.angle=g,this.z=d,h!==void 0&&(this.segment=h)}clone(){return new Qd(this.x,this.y,this.z,this.angle,this.segment)}}function Ub(u,n,i,d,g){if(n.segment===void 0)return!0;let h=n,v=n.segment+1,S=0;for(;S>-i/2;){if(v--,v<0)return!1;S-=u[v].dist(h),h=u[v]}S+=u[v].dist(u[v+1]),v++;const M=[];let A=0;for(;S<i/2;){const b=u[v],P=u[v+1];if(!P)return!1;let $=u[v-1].angleTo(b)-b.angleTo(P);for($=Math.abs(($+3*Math.PI)%(2*Math.PI)-Math.PI),M.push({distance:S,angleDelta:$}),A+=$;S-M[0].distance>d;)A-=M.shift().angleDelta;if(A>g)return!1;v++,S+=b.dist(P)}return!0}function Wb(u){let n=0;for(let i=0;i<u.length-1;i++)n+=u[i].dist(u[i+1]);return n}function Gb(u,n,i){return u?.6*n*i:0}function $p(u,n){return Math.max(u?u.right-u.left:0,n?n.right-n.left:0)}function zf(u,n,i,d,g,h){const v=Gb(i,g,h),S=$p(i,d)*h;let M=0;const A=Wb(u)/2;for(let b=0;b<u.length-1;b++){const P=u[b],$=u[b+1],T=P.dist($);if(M+T>A){const O=(A-M)/T,N=Tt(P.x,$.x,O),W=Tt(P.y,$.y,O),J=new Qd(N,W,0,$.angleTo(P),b);return!v||Ub(u,J,S,v,n)?J:void 0}M+=T}}function TC(u,n,i,d,g,h,v,S,M){const A=Gb(d,h,v),b=$p(d,g),P=b*v,$=u[0].x===0||u[0].x===M||u[0].y===0||u[0].y===M;return n-P<n/4&&(n=P+n/4),_y(u,$?n/2*S%n:(b/2+2*h)*v*S%n,n,A,i,P,$,!1,M)}function _y(u,n,i,d,g,h,v,S,M){const A=h/2,b=Wb(u);let P=0,$=n-i,T=[];for(let O=0;O<u.length-1;O++){const N=u[O],W=u[O+1],J=N.dist(W),se=W.angleTo(N);for(;$+i<P+J;){$+=i;const ue=($-P)/J,re=Tt(N.x,W.x,ue),ve=Tt(N.y,W.y,ue);if(re>=0&&re<M&&ve>=0&&ve<M&&$-A>=0&&$+A<=b){const we=new Qd(re,ve,0,se,O);d&&!Ub(u,we,h,d,g)||T.push(we)}}P+=J}return S||T.length||v||(T=_y(u,P/2,i,d,g,h,v,!0,M)),T}function Kb(u,n,i,d,g){const h=[];for(let v=0;v<u.length;v++){const S=u[v];let M;for(let A=0;A<S.length-1;A++){let b=S[A],P=S[A+1];b.x<n&&P.x<n||(b.x<n?b=new Rn(n,b.y+(n-b.x)/(P.x-b.x)*(P.y-b.y))._round():P.x<n&&(P=new Rn(n,b.y+(n-b.x)/(P.x-b.x)*(P.y-b.y))._round()),b.y<i&&P.y<i||(b.y<i?b=new Rn(b.x+(i-b.y)/(P.y-b.y)*(P.x-b.x),i)._round():P.y<i&&(P=new Rn(b.x+(i-b.y)/(P.y-b.y)*(P.x-b.x),i)._round()),b.x>=d&&P.x>=d||(b.x>=d?b=new Rn(d,b.y+(d-b.x)/(P.x-b.x)*(P.y-b.y))._round():P.x>=d&&(P=new Rn(d,b.y+(d-b.x)/(P.x-b.x)*(P.y-b.y))._round()),b.y>=g&&P.y>=g||(b.y>=g?b=new Rn(b.x+(g-b.y)/(P.y-b.y)*(P.x-b.x),g)._round():P.y>=g&&(P=new Rn(b.x+(g-b.y)/(P.y-b.y)*(P.x-b.x),g)._round()),M&&b.equals(M[M.length-1])||(M=[b],h.push(M)),M.push(P)))))}}return h}function Xb(u){let n=0,i=0;for(const v of u)n+=v.w*v.h,i=Math.max(i,v.w);u.sort((v,S)=>S.h-v.h);const d=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(n/.95)),i),h:1/0}];let g=0,h=0;for(const v of u)for(let S=d.length-1;S>=0;S--){const M=d[S];if(!(v.w>M.w||v.h>M.h)){if(v.x=M.x,v.y=M.y,h=Math.max(h,v.y+v.h),g=Math.max(g,v.x+v.w),v.w===M.w&&v.h===M.h){const A=d.pop();S<d.length&&(d[S]=A)}else v.h===M.h?(M.x+=v.w,M.w-=v.w):v.w===M.w?(M.y+=v.h,M.h-=v.h):(d.push({x:M.x+v.w,y:M.y,w:M.w-v.w,h:v.h}),M.y+=v.h,M.h-=v.h);break}}return{w:g,h,fill:n/(g*h)||0}}_o(Qd,"Anchor");const ng=1;class rg{static getImagePositionScale(n,i,d){return i&&n&&n.options&&n.options.transform?{x:n.options.transform.a,y:n.options.transform.d}:{x:d,y:d}}constructor(n,{pixelRatio:i,version:d,stretchX:g,stretchY:h,content:v,sdf:S,usvg:M},A,b){this.paddedRect=n,this.pixelRatio=i,this.stretchX=g,this.stretchY=h,this.content=v,this.version=d,this.padding=A,this.sdf=S,this.scale=rg.getImagePositionScale(b,M,i)}get tl(){return[this.paddedRect.x+this.padding,this.paddedRect.y+this.padding]}get br(){return[this.paddedRect.x+this.paddedRect.w-this.padding,this.paddedRect.y+this.paddedRect.h-this.padding]}get displaySize(){return[(this.paddedRect.w-2*this.padding)/this.scale.x,(this.paddedRect.h-2*this.padding)/this.scale.y]}}class Yb{constructor(n,i,d){const g={},h={};this.haveRenderCallbacks=[];const v=[];this.addImages(n,g,ng,v),this.addImages(i,h,2,v);const{w:S,h:M}=Xb(v),A=new Sc({width:S||1,height:M||1});for(const b in n){const P=n[b],$=g[b].paddedRect;Sc.copy(P.data,A,{x:0,y:0},{x:$.x+ng,y:$.y+ng},P.data,d,P.sdf)}for(const b in i){const P=i[b],$=h[b].paddedRect;let T=h[b].padding;const O=$.x+T,N=$.y+T,W=P.data.width,J=P.data.height;T=T>1?T-1:T,Sc.copy(P.data,A,{x:0,y:0},{x:O,y:N},P.data,d),Sc.copy(P.data,A,{x:0,y:J-T},{x:O,y:N-T},{width:W,height:T},d),Sc.copy(P.data,A,{x:0,y:0},{x:O,y:N+J},{width:W,height:T},d),Sc.copy(P.data,A,{x:W-T,y:0},{x:O-T,y:N},{width:T,height:J},d),Sc.copy(P.data,A,{x:0,y:0},{x:O+W,y:N},{width:T,height:J},d),Sc.copy(P.data,A,{x:W-T,y:J-T},{x:O-T,y:N-T},{width:T,height:T},d),Sc.copy(P.data,A,{x:0,y:J-T},{x:O+W,y:N-T},{width:T,height:T},d),Sc.copy(P.data,A,{x:0,y:0},{x:O+W,y:N+J},{width:T,height:T},d),Sc.copy(P.data,A,{x:W-T,y:0},{x:O-T,y:N+J},{width:T,height:T},d)}this.lut=d,this.image=A,this.iconPositions=g,this.patternPositions=h}addImages(n,i,d,g){for(const h in n){const v=n[h],S={x:0,y:0,w:v.data.width+2*d,h:v.data.height+2*d};g.push(S);const M=Mr.deserializeFromString(h);i[h]=new rg(S,v,d,M),v.hasRenderCallback&&this.haveRenderCallbacks.push(M.id)}}patchUpdatedImages(n,i,d){this.haveRenderCallbacks=this.haveRenderCallbacks.filter(g=>n.hasImage(g,d)),n.dispatchRenderCallbacks(this.haveRenderCallbacks,d);for(const g in n.getUpdatedImages(d)){for(const h of Object.keys(this.iconPositions))Mr.deserializeId(h)===g&&this.patchUpdatedImage(this.iconPositions[h],n.getImage(g,d),i);for(const h of Object.keys(this.patternPositions))Mr.deserializeId(h)===g&&this.patchUpdatedImage(this.patternPositions[h],n.getImage(g,d),i)}}patchUpdatedImage(n,i,d){if(!n||!i||n.version===i.version)return;n.version=i.version;const[g,h]=n.tl,v=n.sdf;if(this.lut||v){const S={width:i.data.width,height:i.data.height},M=new Sc(S);Sc.copy(i.data,M,{x:0,y:0},{x:0,y:0},S,this.lut,v),d.update(M,{position:{x:g,y:h}})}else d.update(i.data,{position:{x:g,y:h}})}}_o(rg,"ImagePosition"),_o(Yb,"ImageAtlas");const ig=1e20;function qb(u,n,i,d,g,h,v,S,M){for(let A=n;A<n+d;A++)Jb(u,i*h+A,h,g,v,S,M);for(let A=i;A<i+g;A++)Jb(u,A*h+n,1,d,v,S,M)}function Jb(u,n,i,d,g,h,v){h[0]=0,v[0]=-ig,v[1]=ig,g[0]=u[n];for(let S=1,M=0,A=0;S<d;S++){g[S]=u[n+S*i];const b=S*S;do{const P=h[M];A=(g[S]-g[P]+b-P*P)/(S-P)/2}while(A<=v[M]&&--M>-1);M++,h[M]=S,v[M]=A,v[M+1]=ig}for(let S=0,M=0;S<d;S++){for(;v[M+1]<S;)M++;const A=h[M],b=S-A;u[n+S*i]=g[A]+b*b}}const ed=2,Ap={none:0,ideographs:1,all:2};class Dp{constructor(n,i,d){this.requestManager=n,this.localGlyphMode=i,this.localFontFamily=d,this.urls={},this.entries={},this.localGlyphs={200:{},400:{},500:{},900:{}}}setURL(n,i){this.urls[i]=n}getGlyphs(n,i,d){const g=[],h=this.urls[i]||li.GLYPHS_URL;for(const v in n)for(const S of n[v])g.push({stack:v,id:S});qr(g,({stack:v,id:S},M)=>{let A=this.entries[v];A||(A=this.entries[v]={glyphs:{},requests:{},ranges:{},ascender:void 0,descender:void 0});let b=A.glyphs[S];if(b!==void 0)return void M(null,{stack:v,id:S,glyph:b});if(b=this._tinySDF(A,v,S),b)return A.glyphs[S]=b,void M(null,{stack:v,id:S,glyph:b});const P=Math.floor(S/256);if(256*P>65535)return Un("glyphs > 65535 not supported"),void M(null,{stack:v,id:S,glyph:b});if(A.ranges[P])return void M(null,{stack:v,id:S,glyph:b});let $=A.requests[P];$||($=A.requests[P]=[],Dp.loadGlyphRange(v,P,h,this.requestManager,(T,O)=>{if(O){A.ascender=O.ascender,A.descender=O.descender;for(const N in O.glyphs)this._doesCharSupportLocalGlyph(+N)||(A.glyphs[+N]=O.glyphs[+N]);A.ranges[P]=!0}for(const N of $)N(T,O);delete A.requests[P]})),$.push((T,O)=>{T?M(T):O&&M(null,{stack:v,id:S,glyph:O.glyphs[S]||null})})},(v,S)=>{if(v)d(v);else if(S){const M={};for(const{stack:A,id:b,glyph:P}of S)M[A]===void 0&&(M[A]={}),M[A].glyphs===void 0&&(M[A].glyphs={}),M[A].glyphs[b]=P&&{id:P.id,bitmap:P.bitmap.clone(),metrics:P.metrics},M[A].ascender=this.entries[A].ascender,M[A].descender=this.entries[A].descender;d(null,M)}})}_doesCharSupportLocalGlyph(n){return this.localGlyphMode!==Ap.none&&(this.localGlyphMode===Ap.all?!!this.localFontFamily:!!this.localFontFamily&&(ko["CJK Unified Ideographs"](n)||ko["Hangul Syllables"](n)||ko.Hiragana(n)||ko.Katakana(n)||ko["CJK Symbols and Punctuation"](n)||ko["CJK Unified Ideographs Extension A"](n)||ko["CJK Unified Ideographs Extension B"](n)||ko.Osage(n)))}_tinySDF(n,i,d){const g=this.localFontFamily;if(!g||!this._doesCharSupportLocalGlyph(d))return;let h=n.tinySDF;if(!h){let N="400";/bold/i.test(i)?N="900":/medium/i.test(i)?N="500":/light/i.test(i)&&(N="200"),h=n.tinySDF=new Dp.TinySDF({fontFamily:g,fontWeight:N,fontSize:24*ed,buffer:3*ed,radius:8*ed}),h.fontWeight=N}if(this.localGlyphs[h.fontWeight][d])return this.localGlyphs[h.fontWeight][d];const v=String.fromCodePoint(d),{data:S,width:M,height:A,glyphWidth:b,glyphHeight:P,glyphLeft:$,glyphTop:T,glyphAdvance:O}=h.draw(v);return this.localGlyphs[h.fontWeight][d]={id:d,bitmap:new Yd({width:M,height:A},S),metrics:{width:b/ed,height:P/ed,left:$/ed,top:T/ed-27,advance:O/ed,localGlyph:!0}}}}Dp.loadGlyphRange=function(u,n,i,d,g){const h=256*n,v=h+255,S=d.transformRequest(d.normalizeGlyphsURL(i).replace("{fontstack}",u).replace("{range}",`${h}-${v}`),ui.Glyphs);Sn(S,(M,A)=>{if(M)g(M);else if(A){const b={},P=function($){return new Jm($).readFields(jb,{})}(A);for(const $ of P.glyphs)b[$.id]=$;g(null,{glyphs:b,ascender:P.ascender,descender:P.descender})}})},Dp.TinySDF=class{constructor({fontSize:u=24,buffer:n=3,radius:i=8,cutoff:d=.25,fontFamily:g="sans-serif",fontWeight:h="normal",fontStyle:v="normal"}={}){this.buffer=n,this.cutoff=d,this.radius=i;const S=this.size=u+4*n,M=this._createCanvas(S),A=this.ctx=M.getContext("2d",{willReadFrequently:!0});A.font=`${v} ${h} ${u}px ${g}`,A.textBaseline="alphabetic",A.textAlign="left",A.fillStyle="black",this.gridOuter=new Float64Array(S*S),this.gridInner=new Float64Array(S*S),this.f=new Float64Array(S),this.z=new Float64Array(S+1),this.v=new Uint16Array(S)}_createCanvas(u){const n=document.createElement("canvas");return n.width=n.height=u,n}draw(u){const{width:n,actualBoundingBoxAscent:i,actualBoundingBoxDescent:d,actualBoundingBoxLeft:g,actualBoundingBoxRight:h}=this.ctx.measureText(u),v=Math.ceil(i),S=Math.max(0,Math.min(this.size-this.buffer,Math.ceil(h-g))),M=Math.min(this.size-this.buffer,v+Math.ceil(d)),A=S+2*this.buffer,b=M+2*this.buffer,P=Math.max(A*b,0),$=new Uint8ClampedArray(P),T={data:$,width:A,height:b,glyphWidth:S,glyphHeight:M,glyphTop:v,glyphLeft:0,glyphAdvance:n};if(S===0||M===0)return T;const{ctx:O,buffer:N,gridInner:W,gridOuter:J}=this;O.clearRect(N,N,S,M),O.fillText(u,N,N+v);const se=O.getImageData(N,N,S,M);J.fill(ig,0,P),W.fill(0,0,P);for(let ue=0;ue<M;ue++)for(let re=0;re<S;re++){const ve=se.data[4*(ue*S+re)+3]/255;if(ve===0)continue;const we=(ue+N)*A+re+N;if(ve===1)J[we]=0,W[we]=ig;else{const Ne=.5-ve;J[we]=Ne>0?Ne*Ne:0,W[we]=Ne<0?Ne*Ne:0}}qb(J,0,0,A,b,A,this.f,this.v,this.z),qb(W,N,N,S,M,A,this.f,this.v,this.z);for(let ue=0;ue<P;ue++){const re=Math.sqrt(J[ue])-Math.sqrt(W[ue]);$[ue]=Math.round(255-255*(re/this.radius+this.cutoff))}return T}};const ef=ng;function Qb(u,n){return u+n[1]-n[0]}function by(u,n,i,d,g=1){const h=[],v=u.imagePrimary,S=v.pixelRatio,M=v.paddedRect.w-2*ef,A=v.paddedRect.h-2*ef,b=(u.right-u.left)*g,P=(u.bottom-u.top)*g,$=v.stretchX||[[0,M]],T=v.stretchY||[[0,A]],O=$.reduce(Qb,0),N=T.reduce(Qb,0),W=M-O,J=A-N;let se=0,ue=O,re=0,ve=N,we=0,Ne=W,ht=0,ft=J;if(v.content&&d){const Gt=v.content;se=og($,0,Gt[0]),re=og(T,0,Gt[1]),ue=og($,Gt[0],Gt[2]),ve=og(T,Gt[1],Gt[3]),we=Gt[0]-se,ht=Gt[1]-re,Ne=Gt[2]-Gt[0]-ue,ft=Gt[3]-Gt[1]-ve}const at=(Gt,vt,en,mn)=>{const un=ag(Gt.stretch-se,ue,b,u.left*g),yn=D0(Gt.fixed-we,Ne,Gt.stretch,O),zn=ag(vt.stretch-re,ve,P,u.top*g),Gn=D0(vt.fixed-ht,ft,vt.stretch,N),Mn=ag(en.stretch-se,ue,b,u.left*g),$r=D0(en.fixed-we,Ne,en.stretch,O),ii=ag(mn.stretch-re,ve,P,u.top*g),Or=D0(mn.fixed-ht,ft,mn.stretch,N),Xi=new Rn(un,zn),Fi=new Rn(Mn,zn),xi=new Rn(Mn,ii),ni=new Rn(un,ii),To=new Rn(yn/S,Gn/S),Qi=new Rn($r/S,Or/S),ho=n*Math.PI/180;if(ho){const Qa=Math.sin(ho),js=Math.cos(ho),Ms=[js,-Qa,Qa,js];Xi._matMult(Ms),Fi._matMult(Ms),ni._matMult(Ms),xi._matMult(Ms)}const da=Gt.stretch+Gt.fixed,za=en.stretch+en.fixed,Ba=vt.stretch+vt.fixed,Fa=mn.stretch+mn.fixed,Ja=u.imageSecondary;return{tl:Xi,tr:Fi,bl:ni,br:xi,texPrimary:{x:v.paddedRect.x+ef+da,y:v.paddedRect.y+ef+Ba,w:za-da,h:Fa-Ba},texSecondary:Ja?{x:Ja.paddedRect.x+ef+da,y:Ja.paddedRect.y+ef+Ba,w:za-da,h:Fa-Ba}:void 0,writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:To,pixelOffsetBR:Qi,minFontScaleX:Ne/S/b,minFontScaleY:ft/S/P,isSDF:i}};if(d&&(v.stretchX||v.stretchY)){const Gt=e1($,W,O),vt=e1(T,J,N);for(let en=0;en<Gt.length-1;en++){const mn=Gt[en],un=Gt[en+1];for(let yn=0;yn<vt.length-1;yn++)h.push(at(mn,vt[yn],un,vt[yn+1]))}}else h.push(at({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:M+1},{fixed:0,stretch:A+1}));return h}function og(u,n,i){let d=0;for(const g of u)d+=Math.max(n,Math.min(i,g[1]))-Math.max(n,Math.min(i,g[0]));return d}function e1(u,n,i){const d=[{fixed:-ef,stretch:0}];for(const[g,h]of u){const v=d[d.length-1];d.push({fixed:g-v.stretch,stretch:v.stretch}),d.push({fixed:g-v.stretch,stretch:v.stretch+(h-g)})}return d.push({fixed:n+ef,stretch:i}),d}function ag(u,n,i,d){return u/n*i+d}function D0(u,n,i,d){return u-n*i/d}function MC(u,n,i,d){const g=n+u.positionedLines[d].lineOffset;return d===0?i+g/2:i+(g+(n+u.positionedLines[d-1].lineOffset))/2}function L0(u,n=1,i=!1){let d=1/0,g=1/0,h=-1/0,v=-1/0;const S=u[0];for(let T=0;T<S.length;T++){const O=S[T];(!T||O.x<d)&&(d=O.x),(!T||O.y<g)&&(g=O.y),(!T||O.x>h)&&(h=O.x),(!T||O.y>v)&&(v=O.y)}const M=Math.min(h-d,v-g);let A=M/2;const b=new gl([],xy);if(M===0)return new Rn(d,g);for(let T=d;T<h;T+=M)for(let O=g;O<v;O+=M)b.push(new Nf(T+A,O+A,A,u));let P=function(T){let O=0,N=0,W=0;const J=T[0];for(let se=0,ue=J.length,re=ue-1;se<ue;re=se++){const ve=J[se],we=J[re],Ne=ve.x*we.y-we.x*ve.y;N+=(ve.x+we.x)*Ne,W+=(ve.y+we.y)*Ne,O+=3*Ne}return new Nf(N/O,W/O,0,T)}(u),$=b.length;for(;b.length;){const T=b.pop();(T.d>P.d||!P.d)&&(P=T,i&&console.log("found best %d after %d probes",Math.round(1e4*T.d)/1e4,$)),T.max-P.d<=n||(A=T.h/2,b.push(new Nf(T.p.x-A,T.p.y-A,A,u)),b.push(new Nf(T.p.x+A,T.p.y-A,A,u)),b.push(new Nf(T.p.x-A,T.p.y+A,A,u)),b.push(new Nf(T.p.x+A,T.p.y+A,A,u)),$+=4)}return i&&(console.log(`num probes: ${$}`),console.log(`best distance: ${P.d}`)),P.p}function xy(u,n){return n.max-u.max}class Nf{constructor(n,i,d,g){this.p=new Rn(n,i),this.h=d,this.d=function(h,v){let S=!1,M=1/0;for(let A=0;A<v.length;A++){const b=v[A];for(let P=0,$=b.length,T=$-1;P<$;T=P++){const O=b[P],N=b[T];O.y>h.y!=N.y>h.y&&h.x<(N.x-O.x)*(h.y-O.y)/(N.y-O.y)+O.x&&(S=!S),M=Math.min(M,Lt(h,O,N))}}return(S?1:-1)*Math.sqrt(M)}(this.p,g),this.max=this.d+this.h*Math.SQRT2}}const z0=Number.POSITIVE_INFINITY,PC=Math.sqrt(2);function t1(u,[n,i]){let d=0,g=0;if(i===z0){n<0&&(n=0);const h=n/PC;switch(u){case"top-right":case"top-left":g=h-7;break;case"bottom-right":case"bottom-left":g=7-h;break;case"bottom":g=7-n;break;case"top":g=n-7}switch(u){case"top-right":case"bottom-right":d=-h;break;case"top-left":case"bottom-left":d=h;break;case"left":d=n;break;case"right":d=-n}}else{switch(n=Math.abs(n),i=Math.abs(i),u){case"top-right":case"top-left":case"top":g=i-7;break;case"bottom-right":case"bottom-left":case"bottom":g=7-i}switch(u){case"top-right":case"bottom-right":case"right":d=-n;break;case"top-left":case"bottom-left":case"left":d=n}}return[d,g]}function Cy(u){switch(u){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function OC(u,n,i,d,g,h,v,S,M,A,b,P,$,T,O){let N=h.textMaxSize.evaluate(n,{},P);N===void 0?N=v*h.textScaleFactor:N*=h.textScaleFactor;const W=u.layers[0].layout,J=W.get("icon-offset").evaluate(n,{},P),se=r1(i.horizontal)||i.vertical,ue=$.name==="globe",re=Rc,ve=v*h.textScaleFactor/re,we=u.tilePixelRatio*N/re,Ne=(un=u.overscaling,u.zoom>18&&un>2&&(un>>=1),Math.max(Bi/(512*un),1)*W.get("symbol-spacing")),ht=W.get("text-padding")*u.tilePixelRatio,ft=W.get("icon-padding")*u.tilePixelRatio,at=it(W.get("text-max-angle")),Gt=W.get("text-rotation-alignment")==="map"&&W.get("symbol-placement")!=="point",vt=W.get("icon-rotation-alignment")==="map"&&W.get("symbol-placement")!=="point",en=W.get("symbol-placement"),mn=Ne/2;var un;const yn=W.get("icon-text-fit").evaluate(n,{},P),zn=W.get("icon-text-fit-padding").evaluate(n,{},P),Gn=yn!=="none";let Mn;u.hasAnyIconTextFit===!1&&Gn&&(u.hasAnyIconTextFit=!0),d&&Gn&&(u.allowVerticalPlacement&&i.vertical&&(Mn=yy(d,i.vertical,yn,zn,J,ve)),se&&(d=yy(d,se,yn,zn,J,ve)));const $r=(ii,Or,Xi)=>{if(Or.x<0||Or.x>=Bi||Or.y<0||Or.y>=Bi)return;let Fi=null;if(ue){const{x:xi,y:ni,z:To}=$.projectTilePoint(Or.x,Or.y,Xi);Fi={anchor:new Qd(xi,ni,To,0,void 0),up:$.upVector(Xi,Or.x,Or.y)}}(function(xi,ni,To,Qi,ho,da,za,Ba,Fa,Ja,Qa,js,Ms,Ea,Es,Is,Xs,wl,jl,El,pl,Il,sl,wc,Zs,du,rd){const fc=xi.addToLineVertexArray(ni,Qi);let id,kh,Sd,jh,Rg,y_,vx,yx=0,__=0,_x=0,bx=0,b_=-1,x_=-1;const wd={};let xx=Bo("");const Zh=To?To.anchor:ni,C_=Fa.layout.get("icon-text-fit").evaluate(pl,{},Zs)!=="none";let cv=0,uv=0;if(Fa._unevaluatedLayout.getValue("text-radial-offset")===void 0?[cv,uv]=Fa.layout.get("text-offset").evaluate(pl,{},Zs).map(Eu=>Eu*Rc):(cv=Fa.layout.get("text-radial-offset").evaluate(pl,{},Zs)*Rc,uv=z0),xi.allowVerticalPlacement&&ho.vertical){const Eu=ho.vertical;if(Es)y_=Sy(Eu),Ba&&(vx=Sy(Ba));else{const fu=Fa.layout.get("text-rotate").evaluate(pl,{},Zs)+90;Sd=N0(Ja,Zh,ni,Qa,js,Ms,Eu,Ea,fu,Is),Ba&&(jh=N0(Ja,Zh,ni,Qa,js,Ms,Ba,wl,fu))}}if(da){const Eu=xi.iconSizeData,fu=Fa.layout.get("icon-rotate").evaluate(pl,{},Zs),$g=by(da,fu,sl,C_,Il.iconScaleFactor),w_=Ba?by(Ba,fu,sl,C_,Il.iconScaleFactor):void 0;kh=N0(Ja,Zh,ni,Qa,js,Ms,da,wl,fu,null),yx=4*$g.length;let qp=null;Eu.kind==="source"?(qp=[Qu*Fa.layout.get("icon-size").evaluate(pl,{},Zs)*Il.iconScaleFactor],qp[0]>Bf&&Un(`${xi.layerIds[0]}: Value for "icon-size" is >= ${Rh}. Reduce your "icon-size".`)):Eu.kind==="composite"&&(qp=[Qu*Il.compositeIconSizes[0].evaluate(pl,{},Zs)*Il.iconScaleFactor,Qu*Il.compositeIconSizes[1].evaluate(pl,{},Zs)*Il.iconScaleFactor],(qp[0]>Bf||qp[1]>Bf)&&Un(`${xi.layerIds[0]}: Value for "icon-size" is >= ${Rh}. Reduce your "icon-size".`)),xi.addSymbols(xi.icon,$g,qp,El,jl,pl,!1,To,ni,fc.lineStartIndex,fc.lineLength,-1,wc,Zs,du,rd),b_=xi.icon.placedSymbolArray.length-1,w_&&(__=4*w_.length,xi.addSymbols(xi.icon,w_,qp,El,jl,pl,Kc.vertical,To,ni,fc.lineStartIndex,fc.lineLength,-1,wc,Zs,du,rd),x_=xi.icon.placedSymbolArray.length-1)}for(const Eu in ho.horizontal){const fu=ho.horizontal[Eu];id||(xx=Bo(fu.text),Es?Rg=Sy(fu):id=N0(Ja,Zh,ni,Qa,js,Ms,fu,Ea,Fa.layout.get("text-rotate").evaluate(pl,{},Zs),Is));const $g=fu.positionedLines.length===1;if(_x+=n1(xi,To,ni,fu,za,Fa,Es,pl,Is,fc,ho.vertical?Kc.horizontal:Kc.horizontalOnly,$g?Object.keys(ho.horizontal):[Eu],wd,b_,Il,wc,Zs,du),$g)break}ho.vertical&&(bx+=n1(xi,To,ni,ho.vertical,za,Fa,Es,pl,Is,fc,Kc.vertical,["vertical"],wd,x_,Il,wc,Zs,du));let Vh=-1;const S_=(Eu,fu)=>Eu?Math.max(Eu,fu):fu;Vh=S_(Rg,Vh),Vh=S_(y_,Vh),Vh=S_(vx,Vh);const Cx=Vh>-1?1:0;xi.glyphOffsetArray.length>=65535&&Un("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),pl.sortKey!==void 0&&xi.addToSortKeyRanges(xi.symbolInstances.length,pl.sortKey),xi.symbolInstances.emplaceBack(ni.x,ni.y,Zh.x,Zh.y,Zh.z,wd.right>=0?wd.right:-1,wd.center>=0?wd.center:-1,wd.left>=0?wd.left:-1,wd.vertical>=0?wd.vertical:-1,b_,x_,xx,id!==void 0?id:xi.collisionBoxArray.length,id!==void 0?id+1:xi.collisionBoxArray.length,Sd!==void 0?Sd:xi.collisionBoxArray.length,Sd!==void 0?Sd+1:xi.collisionBoxArray.length,kh!==void 0?kh:xi.collisionBoxArray.length,kh!==void 0?kh+1:xi.collisionBoxArray.length,jh||xi.collisionBoxArray.length,jh?jh+1:xi.collisionBoxArray.length,Qa,_x,bx,yx,__,Cx,0,cv,uv,Vh,0,C_?1:0)})(u,Or,Fi,ii,i,d,g,Mn,u.layers[0],u.collisionBoxArray,n.index,n.sourceLayerIndex,u.index,ht,Gt,M,0,ft,vt,J,n,h,A,b,P,T,O)};if(en==="line")for(const ii of Kb(n.geometry,0,0,Bi,Bi)){const Or=TC(ii,Ne,at,i.vertical||se,d,re,we,u.overscaling,Bi);for(const Xi of Or)se&&i1(u,se.text,mn,Xi)||$r(ii,Xi,P)}else if(en==="line-center"){for(const ii of n.geometry)if(ii.length>1){const Or=zf(ii,at,i.vertical||se,d,re,we);Or&&$r(ii,Or,P)}}else if(n.type==="Polygon")for(const ii of Hv(n.geometry,0)){const Or=L0(ii,16);$r(ii[0],new Qd(Or.x,Or.y,0,0,void 0),P)}else if(n.type==="LineString")for(const ii of n.geometry)$r(ii,new Qd(ii[0].x,ii[0].y,0,0,void 0),P);else if(n.type==="Point")for(const ii of n.geometry)for(const Or of ii)$r([Or],new Qd(Or.x,Or.y,0,0,void 0),P)}const Rh=255,Bf=Rh*Qu;function n1(u,n,i,d,g,h,v,S,M,A,b,P,$,T,O,N,W,J){const se=function(ve,we,Ne,ht,ft,at,Gt,vt){const en=[];if(we.positionedLines.length===0)return en;const mn=ht.layout.get("text-rotate").evaluate(at,{})*Math.PI/180,un=function($r){const ii=$r[0],Or=$r[1],Xi=ii*Or;return Xi>0?[ii,-Or]:Xi<0?[-ii,Or]:ii===0?[Or,ii]:[Or,-ii]}(Ne);let yn=Math.abs(we.top-we.bottom);for(const $r of we.positionedLines)yn-=$r.lineOffset;const zn=we.positionedLines.length,Gn=yn/zn;let Mn=we.top-Ne[1];for(let $r=0;$r<zn;++$r){const ii=we.positionedLines[$r];Mn=MC(we,Gn,Mn,$r);for(const Or of ii.positionedGlyphs){if(!Or.rect)continue;const Xi=Or.rect||{};let Fi=Hb+1,xi=!0,ni=1,To=0;if(Or.imageName){const El=Gt[vi.build(Or.imageName).getSerializedPrimary()];if(!El)continue;if(El.sdf){Un("SDF images are not supported in formatted text and will be ignored.");continue}xi=!1,ni=El.pixelRatio,Fi=ng/ni}const Qi=(ft||vt)&&Or.vertical,ho=Or.metrics.advance*Or.scale/2,da=Or.metrics,za=Or.rect;if(za===null)continue;vt&&we.verticalizable&&(To=Or.imageName?ho-Or.metrics.width*Or.scale/2:0);const Ba=ft?[Or.x+ho,Or.y]:[0,0];let Fa=[0,0],Ja=[0,0],Qa=!1;ft||(Qi?(Ja=[Or.x+ho+un[0],Or.y+un[1]-To],Qa=!0):Fa=[Or.x+ho+Ne[0],Or.y+Ne[1]-To]);const js=za.w*Or.scale/(ni*(Or.localGlyph?ed:1)),Ms=za.h*Or.scale/(ni*(Or.localGlyph?ed:1));let Ea,Es,Is,Xs;if(Qi){const El=Or.y-Mn,pl=new Rn(-ho,ho-El),Il=-Math.PI/2,sl=new Rn(...Ja);Ea=new Rn(-ho+Fa[0],Fa[1]),Ea._rotateAround(Il,pl)._add(sl),Ea.x+=-El+ho,Ea.y-=(da.left-Fi)*Or.scale;const wc=Or.imageName?da.advance*Or.scale:Rc*Or.scale,Zs=String.fromCodePoint(Or.glyph);kb(Zs)?Ea.x+=(1-Fi)*Or.scale:EC(Zs)?Ea.x+=wc-da.height*Or.scale+(-Fi-1)*Or.scale:Ea.x+=Or.imageName||da.width+2*Fi===za.w&&da.height+2*Fi===za.h?(wc-Ms)/2:(wc-(da.height+2*Fi)*Or.scale)/2,Es=new Rn(Ea.x,Ea.y-js),Is=new Rn(Ea.x+Ms,Ea.y),Xs=new Rn(Ea.x+Ms,Ea.y-js)}else{const El=(da.left-Fi)*Or.scale-ho+Fa[0],pl=(-da.top-Fi)*Or.scale+Fa[1],Il=El+js,sl=pl+Ms;Ea=new Rn(El,pl),Es=new Rn(Il,pl),Is=new Rn(El,sl),Xs=new Rn(Il,sl)}if(mn){let El;El=ft?new Rn(0,0):Qa?new Rn(un[0],un[1]):new Rn(Ne[0],Ne[1]),Ea._rotateAround(mn,El),Es._rotateAround(mn,El),Is._rotateAround(mn,El),Xs._rotateAround(mn,El)}const wl=new Rn(0,0),jl=new Rn(0,0);en.push({tl:Ea,tr:Es,bl:Is,br:Xs,texPrimary:Xi,texSecondary:void 0,writingMode:we.writingMode,glyphOffset:Ba,sectionIndex:Or.sectionIndex,isSDF:xi,pixelOffsetTL:wl,pixelOffsetBR:jl,minFontScaleX:0,minFontScaleY:0})}}return en}(0,d,M,h,v,S,g,u.allowVerticalPlacement),ue=u.textSizeData;let re=null;ue.kind==="source"?(re=[Qu*h.layout.get("text-size").evaluate(S,{},W)*O.textScaleFactor],re[0]>Bf&&Un(`${u.layerIds[0]}: Value for "text-size" is >= ${Rh}. Reduce your "text-size".`)):ue.kind==="composite"&&(re=[Qu*O.compositeTextSizes[0].evaluate(S,{},W)*O.textScaleFactor,Qu*O.compositeTextSizes[1].evaluate(S,{},W)*O.textScaleFactor],(re[0]>Bf||re[1]>Bf)&&Un(`${u.layerIds[0]}: Value for "text-size" is >= ${Rh}. Reduce your "text-size".`)),u.addSymbols(u.text,se,re,M,v,S,b,n,i,A.lineStartIndex,A.lineLength,T,N,W,J,!1);for(const ve of P)$[ve]=u.text.placedSymbolArray.length-1;return 4*se.length}function r1(u){for(const n in u)return u[n];return null}function N0(u,n,i,d,g,h,v,S,M,A){let b=v.top,P=v.bottom,$=v.left,T=v.right;const O=v.collisionPadding;if(O&&($-=O[0],b-=O[1],T+=O[2],P+=O[3]),M){const N=new Rn($,b),W=new Rn(T,b),J=new Rn($,P),se=new Rn(T,P),ue=it(M);let re=new Rn(0,0);A&&(re=new Rn(A[0],A[1])),N._rotateAround(ue,re),W._rotateAround(ue,re),J._rotateAround(ue,re),se._rotateAround(ue,re),$=Math.min(N.x,W.x,J.x,se.x),T=Math.max(N.x,W.x,J.x,se.x),b=Math.min(N.y,W.y,J.y,se.y),P=Math.max(N.y,W.y,J.y,se.y)}return u.emplaceBack(n.x,n.y,n.z,i.x,i.y,$,b,T,P,S,d,g,h),u.length-1}function Sy(u){u.collisionPadding&&(u.top-=u.collisionPadding[1],u.bottom+=u.collisionPadding[3]);const n=u.bottom-u.top;return n>0?Math.max(10,n):null}function i1(u,n,i,d){const g=u.compareText;if(n in g){const h=g[n];for(let v=h.length-1;v>=0;v--)if(d.dist(h[v])<i)return!0}else g[n]=[];return g[n].push(d),!1}function sg(u,n){const i=u.fovAboveCenter,d=u.elevation?u.elevation.getMinElevationBelowMSL()*n:0,g=(u._camera.position[2]*u.worldSize-d)/Math.cos(u._pitch),h=Math.sin(i)*g/Math.sin(Math.max(Math.PI/2-u._pitch-i,.01));let v=Math.sin(u._pitch)*h+g;const S=g*(1/u._horizonShift);if(!u.elevation||u.elevation.exaggeration()===0){let M=Math.max(u.zoom-17,0);u.isOrthographic&&(M/=10),v*=1+M}return Math.min(1.01*v,S)}function lg(u,n){if(!n.isReprojectedInTileSpace)return{scale:1<<u.z,x:u.x,y:u.y,x2:u.x+1,y2:u.y+1,projection:n};const i=Math.pow(2,-u.z),d=u.x*i,g=(u.x+1)*i,h=u.y*i,v=(u.y+1)*i,S=Bc(d),M=Bc(g),A=dc(h),b=dc(v),P=n.project(S,A),$=n.project(M,A),T=n.project(M,b),O=n.project(S,b);let N=Math.min(P.x,$.x,T.x,O.x),W=Math.min(P.y,$.y,T.y,O.y),J=Math.max(P.x,$.x,T.x,O.x),se=Math.max(P.y,$.y,T.y,O.y);const ue=i/16;function re(we,Ne,ht,ft,at,Gt){const vt=(ht+at)/2,en=(ft+Gt)/2,mn=n.project(Bc(vt),dc(en)),un=Math.max(0,N-mn.x,W-mn.y,mn.x-J,mn.y-se);N=Math.min(N,mn.x),J=Math.max(J,mn.x),W=Math.min(W,mn.y),se=Math.max(se,mn.y),un>ue&&(re(we,mn,ht,ft,vt,en),re(mn,Ne,vt,en,at,Gt))}re(P,$,d,h,g,h),re($,T,g,h,g,v),re(T,O,g,v,d,v),re(O,P,d,v,d,h),N-=ue,W-=ue,J+=ue,se+=ue;const ve=1/Math.max(J-N,se-W);return{scale:ve,x:N*ve,y:W*ve,x2:J*ve,y2:se*ve,projection:n}}function o1(u,{x:n,y:i},d=0){return new Rn(((n-d)*u.scale-u.x)*Bi,(i*u.scale-u.y)*Bi)}const RC=$e.mat4.identity(new Float32Array(16));class Ff{constructor(n){this.spec=n,this.name=n.name,this.wrap=!1,this.requiresDraping=!1,this.supportsWorldCopies=!1,this.supportsTerrain=!1,this.supportsFog=!1,this.supportsFreeCamera=!1,this.zAxisUnit="meters",this.isReprojectedInTileSpace=!0,this.unsupportedLayers=["custom"],this.center=[0,0],this.range=[3.5,7]}project(n,i){return{x:0,y:0,z:0}}unproject(n,i){return new ps(0,0)}projectTilePoint(n,i,d){return{x:n,y:i,z:0}}locationPoint(n,i,d=!0){return n._coordinatePoint(n.locationCoordinate(i),d)}pixelsPerMeter(n,i){return Ol(1,n)*i}pixelSpaceConversion(n,i,d){return 1}farthestPixelDistance(n){return sg(n,n.pixelsPerMeter)}pointCoordinate(n,i,d,g){const h=n.horizonLineFromTop(!1),v=new Rn(i,Math.max(h,d));return n.rayIntersectionCoordinate(n.pointRayIntersection(v,g))}pointCoordinate3D(n,i,d){const g=new Rn(i,d);if(n.elevation)return n.elevation.pointCoordinate(g);{const h=this.pointCoordinate(n,g.x,g.y,0);return[h.x,h.y,h.z]}}isPointAboveHorizon(n,i){if(n.elevation&&n.elevation.visibleDemTiles.length)return!this.pointCoordinate3D(n,i.x,i.y);const d=n.horizonLineFromTop();return i.y<d}createInversionMatrix(n,i){return RC}createTileMatrix(n,i,d){let g,h,v;const S=d.canonical,M=$e.mat4.identity(new Float64Array(16));if(this.isReprojectedInTileSpace){const A=lg(S,this);g=1,h=A.x+d.wrap*A.scale,v=A.y,$e.mat4.scale(M,M,[g/A.scale,g/A.scale,n.pixelsPerMeter/i])}else g=i/n.zoomScale(S.z),h=(S.x+Math.pow(2,S.z)*d.wrap)*g,v=S.y*g;return $e.mat4.translate(M,M,[h,v,0]),$e.mat4.scale(M,M,[g/Bi,g/Bi,1]),M}upVector(n,i,d){return[0,0,1]}upVectorScale(n,i,d){return{metersToTile:1}}}class $C extends Ff{constructor(n){super(n),this.range=[4,7],this.center=n.center||[-96,37.5];const[i,d]=this.parallels=n.parallels||[29.5,45.5],g=Math.sin(it(i));this.n=(g+Math.sin(it(d)))/2,this.c=1+g*(2*this.n-g),this.r0=Math.sqrt(this.c)/this.n}project(n,i){const{n:d,c:g,r0:h}=this,v=it(n-this.center[0]),S=it(i),M=Math.sqrt(g-2*d*Math.sin(S))/d;return{x:M*Math.sin(v*d),y:M*Math.cos(v*d)-h,z:0}}unproject(n,i){const{n:d,c:g,r0:h}=this,v=h+i;let S=Math.atan2(n,Math.abs(v))*Math.sign(v);v*d<0&&(S-=Math.PI*Math.sign(n)*Math.sign(v));const M=it(this.center[0])*d;S=fi(S,-Math.PI-M,Math.PI-M);const A=Vn(Ot(S/d)+this.center[0],-180,180),b=Math.asin(Vn((g-(n*n+v*v)*d*d)/(2*d),-1,1)),P=Vn(Ot(b),-rl,rl);return new ps(A,P)}}const cg=1.340264,ug=-.081106,dg=893e-6,fg=.003796,B0=Math.sqrt(3)/2;class AC extends Ff{project(n,i){i=i/180*Math.PI,n=n/180*Math.PI;const d=Math.asin(B0*Math.sin(i)),g=d*d,h=g*g*g;return{x:.5*(n*Math.cos(d)/(B0*(cg+3*ug*g+h*(7*dg+9*fg*g)))/Math.PI+.5),y:1-.5*(d*(cg+ug*g+h*(dg+fg*g))/Math.PI+1),z:0}}unproject(n,i){n=(2*n-.5)*Math.PI;let d=i=(2*(1-i)-1)*Math.PI,g=d*d,h=g*g*g;for(let b,P,$,T=0;T<12&&(P=d*(cg+ug*g+h*(dg+fg*g))-i,$=cg+3*ug*g+h*(7*dg+9*fg*g),b=P/$,d=Vn(d-b,-Math.PI/3,Math.PI/3),g=d*d,h=g*g*g,!(Math.abs(b)<1e-12));++T);const v=B0*n*(cg+3*ug*g+h*(7*dg+9*fg*g))/Math.cos(d),S=Math.asin(Math.sin(d)/B0),M=Vn(180*v/Math.PI,-180,180),A=Vn(180*S/Math.PI,-rl,rl);return new ps(M,A)}}class DC extends Ff{constructor(n){super(n),this.wrap=!0,this.supportsWorldCopies=!0}project(n,i){return{x:.5+n/360,y:.5-i/360,z:0}}unproject(n,i){const d=360*(n-.5),g=Vn(360*(.5-i),-rl,rl);return new ps(d,g)}}const $c=Math.PI/2;function F0(u){return Math.tan(($c+u)/2)}class a1 extends Ff{constructor(n){super(n),this.center=n.center||[0,30];const[i,d]=this.parallels=n.parallels||[30,30];let g=it(i),h=it(d);this.southernCenter=g+h<0,this.southernCenter&&(g=-g,h=-h);const v=Math.cos(g),S=F0(g);this.n=g===h?Math.sin(g):Math.log(v/Math.cos(h))/Math.log(F0(h)/S),this.f=v*Math.pow(F0(g),this.n)/this.n}project(n,i){i=it(i),this.southernCenter&&(i=-i),n=it(n-this.center[0]);const d=1e-6,{n:g,f:h}=this;h>0?i<-$c+d&&(i=-$c+d):i>$c-d&&(i=$c-d);const v=h/Math.pow(F0(i),g);let S=v*Math.sin(g*n),M=h-v*Math.cos(g*n);return S=.5*(S/Math.PI+.5),M=.5*(M/Math.PI+.5),{x:S,y:this.southernCenter?M:1-M,z:0}}unproject(n,i){n=(2*n-.5)*Math.PI,this.southernCenter&&(i=1-i),i=(2*(1-i)-.5)*Math.PI;const{n:d,f:g}=this,h=g-i,v=Math.sign(h),S=Math.sign(d)*Math.sqrt(n*n+h*h);let M=Math.atan2(n,Math.abs(h))*v;h*d<0&&(M-=Math.PI*Math.sign(n)*v);const A=Vn(Ot(M/d)+this.center[0],-180,180),b=Vn(Ot(2*Math.atan(Math.pow(g/S,1/d))-$c),-rl,rl);return new ps(A,this.southernCenter?-b:b)}}class s1 extends Ff{constructor(n){super(n),this.wrap=!0,this.supportsWorldCopies=!0,this.supportsTerrain=!0,this.supportsFog=!0,this.supportsFreeCamera=!0,this.isReprojectedInTileSpace=!1,this.unsupportedLayers=[],this.range=null}project(n,i){return{x:_u(n),y:Dc(i),z:0}}unproject(n,i){const d=Bc(n),g=dc(i);return new ps(d,g)}}const l1=it(rl);class LC extends Ff{project(n,i){const d=(i=it(i))*i,g=d*d;return{x:.5*((n=it(n))*(.8707-.131979*d+g*(g*(.003971*d-.001529*g)-.013791))/Math.PI+.5),y:1-.5*(i*(1.007226+d*(.015085+g*(.028874*d-.044475-.005916*g)))/Math.PI+1),z:0}}unproject(n,i){n=(2*n-.5)*Math.PI;let d=i=(2*(1-i)-1)*Math.PI,g=25,h=0,v=d*d;do{v=d*d;const A=v*v;h=(d*(1.007226+v*(.015085+A*(.028874*v-.044475-.005916*A)))-i)/(1.007226+v*(.045255+A*(.259866*v-.311325-.005916*11*A))),d=Vn(d-h,-l1,l1)}while(Math.abs(h)>1e-6&&--g>0);v=d*d;const S=Vn(Ot(n/(.8707+v*(v*(v*v*v*(.003971-.001529*v)-.013791)-.131979))),-180,180),M=Ot(d);return new ps(S,M)}}const c1=it(rl);class zC extends Ff{project(n,i){i=it(i),n=it(n);const d=Math.cos(i),g=2/Math.PI,h=Math.acos(d*Math.cos(n/2)),v=Math.sin(h)/h,S=.5*(n*g+2*d*Math.sin(n/2)/v)||0,M=.5*(i+Math.sin(i)/v)||0;return{x:.5*(S/Math.PI+.5),y:1-.5*(M/Math.PI+1),z:0}}unproject(n,i){let d=n=(2*n-.5)*Math.PI,g=i=(2*(1-i)-1)*Math.PI,h=25;const v=1e-6;let S=0,M=0;do{const A=Math.cos(g),b=Math.sin(g),P=2*b*A,$=b*b,T=A*A,O=Math.cos(d/2),N=Math.sin(d/2),W=2*O*N,J=N*N,se=1-T*O*O,ue=se?1/se:0,re=se?Math.acos(A*O)*Math.sqrt(1/se):0,ve=.5*(2*re*A*N+2*d/Math.PI)-n,we=.5*(re*b+g)-i,Ne=.5*ue*(T*J+re*A*O*$)+1/Math.PI,ht=ue*(W*P/4-re*b*N),ft=.125*ue*(P*N-re*b*T*W),at=.5*ue*($*O+re*J*A)+.5,Gt=ht*ft-at*Ne;S=(we*ht-ve*at)/Gt,M=(ve*ft-we*Ne)/Gt,d=Vn(d-S,-Math.PI,Math.PI),g=Vn(g-M,-c1,c1)}while((Math.abs(S)>v||Math.abs(M)>v)&&--h>0);return new ps(Ot(d),Ot(g))}}class u1 extends Ff{constructor(n){super(n),this.center=n.center||[0,0],this.parallels=n.parallels||[0,0],this.cosPhi=Math.max(.01,Math.cos(it(this.parallels[0]))),this.scale=1/(2*Math.max(Math.PI*this.cosPhi,1/this.cosPhi)),this.wrap=!0,this.supportsWorldCopies=!0}project(n,i){const{scale:d,cosPhi:g}=this;return{x:it(n)*g*d+.5,y:-Math.sin(it(i))/g*d+.5,z:0}}unproject(n,i){const{scale:d,cosPhi:g}=this,h=-(i-.5)/d,v=Vn(Ot((n-.5)/d)/g,-180,180),S=Math.asin(Vn(h*g,-1,1)),M=Vn(Ot(S),-rl,rl);return new ps(v,M)}}class NC extends s1{constructor(n){super(n),this.requiresDraping=!0,this.supportsWorldCopies=!1,this.supportsFog=!0,this.zAxisUnit="pixels",this.unsupportedLayers=["debug"],this.range=[3,5]}projectTilePoint(n,i,d){const g=Rs(n,i,d),h=nc(Bl(d));return $e.vec3.transformMat4(g,g,h),{x:g[0],y:g[1],z:g[2]}}locationPoint(n,i){const d=Gd(i.lat,i.lng),g=$e.vec3.normalize([],d),h=n.elevation?n.elevation.getAtPointOrZero(n.locationCoordinate(i),n._centerAltitude):n._centerAltitude,v=Ol(1,0)*Bi*h;$e.vec3.scaleAndAdd(d,d,g,v);const S=$e.mat4.identity(new Float64Array(16));return $e.mat4.multiply(S,n.pixelMatrix,n.globeMatrix),$e.vec3.transformMat4(d,d,S),new Rn(d[0],d[1])}pixelsPerMeter(n,i){return Ol(1,0)*i}pixelSpaceConversion(n,i,d){const g=Ol(1,n)*i,h=Tt(Ol(1,45)*i,g,d);return this.pixelsPerMeter(n,i)/h}createTileMatrix(n,i,d){const g=Ns(Bl(d.canonical));return $e.mat4.multiply(new Float64Array(16),n.globeMatrix,g)}createInversionMatrix(n,i){const{center:d}=n,g=nc(Bl(i));return $e.mat4.rotateY(g,g,it(d.lng)),$e.mat4.rotateX(g,g,it(d.lat)),$e.mat4.scale(g,g,[n._pixelsPerMercatorPixel,n._pixelsPerMercatorPixel,1]),Float32Array.from(g)}pointCoordinate(n,i,d,g){return xs(n,i,d,!0)||new l(0,0)}pointCoordinate3D(n,i,d){const g=this.pointCoordinate(n,i,d,0);return[g.x,g.y,g.z]}isPointAboveHorizon(n,i){return!xs(n,i.x,i.y,!1)}farthestPixelDistance(n){const i=function(g,h){const v=g.cameraToCenterDistance,S=g._centerAltitude*h,M=g._camera,A=g._camera.forward(),b=$e.vec3.add([],$e.vec3.scale([],A,-v),[0,0,S]),P=g.worldSize/(2*Math.PI),$=[0,0,-P],T=g.width/g.height,O=Math.tan(g.fovAboveCenter),N=$e.vec3.scale([],M.up(),O),W=$e.vec3.scale([],M.right(),O*T),J=$e.vec3.normalize([],$e.vec3.add([],$e.vec3.add([],A,N),W)),se=[];let ue;if(new ya(b,J).closestPointOnSphere($,P,se)){const re=$e.vec3.add([],se,$),ve=$e.vec3.sub([],re,b);ue=Math.cos(g.fovAboveCenter)*$e.vec3.length(ve)}else{const re=$e.vec3.sub([],b,$),ve=$e.vec3.sub([],$,b);$e.vec3.normalize(ve,ve);const we=$e.vec3.length(re)-P;ue=Math.sqrt(we*(we+2*P));const Ne=Math.acos(ue/(P+we))-Math.acos($e.vec3.dot(A,ve));ue*=Math.cos(Ne)}return 1.01*ue}(n,this.pixelsPerMeter(n.center.lat,n.worldSize)),d=Mc(n.zoom);if(d>0){const g=sg(n,Ol(1,n.center.lat)*n.worldSize),h=n.worldSize/(2*Math.PI),v=Math.max(n.width,n.height)/n.worldSize*Math.PI;return Tt(i,g+h*(1-Math.cos(v)),Math.pow(d,10))}return i}upVector(n,i,d){return Rs(i,d,n,1)}upVectorScale(n){return{metersToTile:xa(rs(Bl(n)))}}}function d1(u){const n=u.parallels,i=!!n&&Math.abs(n[0]+n[1])<.01;switch(u.name){case"mercator":return new s1(u);case"equirectangular":return new DC(u);case"naturalEarth":return new LC(u);case"equalEarth":return new AC(u);case"winkelTripel":return new zC(u);case"albers":return i?new u1(u):new $C(u);case"lambertConformalConic":return i?new u1(u):new a1(u);case"globe":return new NC(u)}throw new Error(`Invalid projection name: ${u.name}`)}const BC=Tf.VectorTileFeature.types,f1=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function wy(u,n,i,d,g,h,v,S,M,A,b,P,$){const T=S?Math.min(Bf,Math.round(S[0])):0,O=S?Math.min(Bf,Math.round(S[1])):0;u.emplaceBack(n,i,Math.round(32*d),Math.round(32*g),h,v,(T<<1)+(M?1:0),O,16*A,16*b,256*P,256*$)}function k0(u,n,i){u.emplaceBack(n,i)}function Cu(u,n,i,d,g,h,v){u.emplaceBack(n,i,d,g,h,v)}function hg(u,n,i,d,g){u.emplaceBack(n,i,d,g),u.emplaceBack(n,i,d,g),u.emplaceBack(n,i,d,g),u.emplaceBack(n,i,d,g)}function h1(u){for(const n of u.sections)if(ip(n.text))return!0;return!1}class Ey{constructor(n){this.layoutVertexArray=new fp,this.indexArray=new Nl,this.programConfigurations=n,this.segments=new cl,this.dynamicLayoutVertexArray=new Zd,this.opacityVertexArray=new Xg,this.placedSymbolArray=new Qg,this.iconTransitioningVertexArray=new Ku,this.globeExtVertexArray=new hp,this.zOffsetVertexArray=new Vd}isEmpty(){return this.layoutVertexArray.length===0&&this.indexArray.length===0&&this.dynamicLayoutVertexArray.length===0&&this.opacityVertexArray.length===0&&this.iconTransitioningVertexArray.length===0}upload(n,i,d,g,h){this.isEmpty()||(d&&(this.layoutVertexBuffer=n.createVertexBuffer(this.layoutVertexArray,Ym.members),this.indexBuffer=n.createIndexBuffer(this.indexArray,i),this.dynamicLayoutVertexBuffer=n.createVertexBuffer(this.dynamicLayoutVertexArray,T0.members,!0),this.opacityVertexBuffer=n.createVertexBuffer(this.opacityVertexArray,f1,!0),this.iconTransitioningVertexArray.length>0&&(this.iconTransitioningVertexBuffer=n.createVertexBuffer(this.iconTransitioningVertexArray,SC.members,!0)),this.globeExtVertexArray.length>0&&(this.globeExtVertexBuffer=n.createVertexBuffer(this.globeExtVertexArray,Gc.members,!0)),!this.zOffsetVertexBuffer&&(this.zOffsetVertexArray.length>0||h)&&(this.zOffsetVertexBuffer=n.createVertexBuffer(this.zOffsetVertexArray,M0.members,!0)),this.opacityVertexBuffer.itemSize=1),(d||g)&&this.programConfigurations.upload(n))}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy(),this.iconTransitioningVertexBuffer&&this.iconTransitioningVertexBuffer.destroy(),this.globeExtVertexBuffer&&this.globeExtVertexBuffer.destroy(),this.zOffsetVertexBuffer&&this.zOffsetVertexBuffer.destroy())}}_o(Ey,"SymbolBuffers");class Iy{constructor(n,i,d){this.layoutVertexArray=new n,this.layoutAttributes=i,this.indexArray=new d,this.segments=new cl,this.collisionVertexArray=new Em,this.collisionVertexArrayExt=new Zd}upload(n){this.layoutVertexBuffer=n.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=n.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=n.createVertexBuffer(this.collisionVertexArray,Oc.members,!0),this.collisionVertexBufferExt=n.createVertexBuffer(this.collisionVertexArrayExt,P0.members,!0)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy(),this.collisionVertexBufferExt.destroy())}}_o(Iy,"CollisionBuffers");class j0{constructor(n){this.collisionBoxArray=n.collisionBoxArray,this.zoom=n.zoom,this.lut=n.lut,this.overscaling=n.overscaling,this.layers=n.layers,this.layerIds=this.layers.map(v=>v.fqid),this.index=n.index,this.pixelRatio=n.pixelRatio,this.sourceLayerIndex=n.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.fullyClipped=!1,this.hasAnyIconTextFit=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=$e.mat4.identity([]),this.placementViewportMatrix=$e.mat4.identity([]);const i=this.layers[0]._unevaluatedLayout._values;this.textSizeData=O0(this.zoom,i["text-size"]),this.iconSizeData=O0(this.zoom,i["icon-size"]);const d=this.layers[0].layout,g=d.get("symbol-sort-key"),h=d.get("symbol-z-order");this.canOverlap=d.get("text-allow-overlap")||d.get("icon-allow-overlap")||d.get("text-ignore-placement")||d.get("icon-ignore-placement"),this.sortFeaturesByKey=h!=="viewport-y"&&g.constantOr(1)!==void 0,this.sortFeaturesByY=(h==="viewport-y"||h==="auto"&&!this.sortFeaturesByKey)&&this.canOverlap,this.writingModes=d.get("text-writing-mode").map(v=>Kc[v]),this.stateDependentLayerIds=this.layers.filter(v=>v.isStateDependent()).map(v=>v.id),this.sourceID=n.sourceID,this.projection=n.projection,this.hasAnyZOffset=!1,this.zOffsetSortDirty=!1,this.zOffsetBuffersNeedUpload=d.get("symbol-z-elevate"),this.activeReplacements=[],this.replacementUpdateTime=0}createArrays(){this.text=new Ey(new yd(this.layers,{zoom:this.zoom,lut:this.lut},n=>n.startsWith("text")||n.startsWith("symbol"))),this.icon=new Ey(new yd(this.layers,{zoom:this.zoom,lut:this.lut},n=>n.startsWith("icon")||n.startsWith("symbol"))),this.glyphOffsetArray=new n0,this.lineVertexArray=new Mm,this.symbolInstances=new t0}calculateGlyphDependencies(n,i,d,g,h){for(const v of n){const S=v.codePointAt(0);if(S===void 0)break;if(i[S]=!0,g&&h&&S<=65535){const M=Th[v];M&&(i[M.charCodeAt(0)]=!0)}}}updateFootprints(n,i){}updateReplacement(n,i){if(i.updateTime===this.replacementUpdateTime)return!1;this.replacementUpdateTime=i.updateTime;const d=i.getReplacementRegionsForTile(n.toUnwrapped(),!0);return!ty(this.activeReplacements,d)&&(this.activeReplacements=d,!0)}populate(n,i,d,g){const h=this.layers[0],v=h.layout,S=this.projection.name==="globe",M=v.get("text-font"),A=v.get("text-field"),b=v.get("icon-image"),[P,$]=v.get("icon-size-scale-range"),T=Vn(i.scaleFactor||1,P,$),O=(A.value.kind!=="constant"||A.value.value instanceof Lr&&!A.value.value.isEmpty()||A.value.value.toString().length>0)&&(M.value.kind!=="constant"||M.value.value.length>0),N=b.value.kind!=="constant"||!!b.value.value||Object.keys(b.parameters).length>0,W=v.get("symbol-sort-key");if(this.features=[],!O&&!N)return;const J=i.iconDependencies,se=i.glyphDependencies,ue=i.availableImages,re=new Ws(this.zoom);for(const{feature:ve,id:we,index:Ne,sourceLayerIndex:ht}of n){const ft=h._featureFilter.needGeometry,at=Q(ve,ft);if(!h._featureFilter.filter(re,at,d))continue;if(ft||(at.geometry=U(ve,d,g)),S&&ve.type!==1&&d.z<=5){const un=at.geometry,yn=.98078528056,zn=(Gn,Mn)=>{const $r=Rs(Gn.x,Gn.y,d,1),ii=Rs(Mn.x,Mn.y,d,1);return $e.vec3.dot($r,ii)<yn};for(let Gn=0;Gn<un.length;Gn++)un[Gn]=E(un[Gn],zn)}let Gt,vt;if(O){const un=h.getValueAndResolveTokens("text-field",at,d,ue),yn=Lr.factory(un);h1(yn)&&(this.hasRTLText=!0),(!this.hasRTLText||ap()==="unavailable"||this.hasRTLText&&au.isParsed())&&(Gt=Fb(yn,h,at))}if(N){const un=h.getValueAndResolveTokens("icon-image",at,d,ue);vt=un instanceof vi?un:vi.build(un)}if(!Gt&&!vt)continue;const en=this.sortFeaturesByKey?W.evaluate(at,{},d):void 0,mn={id:we,text:Gt,icon:vt,index:Ne,sourceLayerIndex:ht,geometry:at.geometry,properties:ve.properties,type:BC[ve.type],sortKey:en};if(this.features.push(mn),vt){const un=Pp(this.iconSizeData,this.layers[0]._unevaluatedLayout._values["icon-size"],d,this.zoom,mn)*T*this.pixelRatio,yn=vt.getPrimary().scaleSelf(un);if(J[yn.id]=J[yn.id]||[],J[yn.id].push(yn),vt.nameSecondary){const zn=vt.getSecondary().scaleSelf(un);J[zn.id]=J[zn.id]||[],J[zn.id].push(zn)}}if(Gt){const un=M.evaluate(at,{},d).join(","),yn=v.get("text-rotation-alignment")==="map"&&v.get("symbol-placement")!=="point";this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(Kc.vertical)>=0;for(const zn of Gt.sections)if(zn.image){const Gn=zn.image.getPrimary().scaleSelf(this.pixelRatio);J[Gn.id]=J[Gn.id]||[],J[Gn.id].push(Gn)}else{const Gn=Wu(Gt.toString()),Mn=zn.fontStack||un,$r=se[Mn]=se[Mn]||{};this.calculateGlyphDependencies(zn.text,$r,yn,this.allowVerticalPlacement,Gn)}}}v.get("symbol-placement")==="line"&&(this.features=function(ve){const we={},Ne={},ht=[];let ft=0;function at(mn){ht.push(ve[mn]),ft++}function Gt(mn,un,yn){const zn=Ne[mn];return delete Ne[mn],Ne[un]=zn,ht[zn].geometry[0].pop(),ht[zn].geometry[0]=ht[zn].geometry[0].concat(yn[0]),zn}function vt(mn,un,yn){const zn=we[un];return delete we[un],we[mn]=zn,ht[zn].geometry[0].shift(),ht[zn].geometry[0]=yn[0].concat(ht[zn].geometry[0]),zn}function en(mn,un,yn){const zn=yn?un[0][un[0].length-1]:un[0][0];return`${mn}:${zn.x}:${zn.y}`}for(let mn=0;mn<ve.length;mn++){const un=ve[mn],yn=un.geometry,zn=un.text?un.text.toString():null;if(!zn){at(mn);continue}const Gn=en(zn,yn),Mn=en(zn,yn,!0);if(Gn in Ne&&Mn in we&&Ne[Gn]!==we[Mn]){const $r=vt(Gn,Mn,yn),ii=Gt(Gn,Mn,ht[$r].geometry);delete we[Gn],delete Ne[Mn],Ne[en(zn,ht[ii].geometry,!0)]=ii,ht[$r].geometry=null}else Gn in Ne?Gt(Gn,Mn,yn):Mn in we?vt(Gn,Mn,yn):(at(mn),we[Gn]=ft-1,Ne[Mn]=ft-1)}return ht.filter(mn=>mn.geometry)}(this.features)),this.sortFeaturesByKey&&this.features.sort((ve,we)=>ve.sortKey-we.sortKey)}update(n,i,d,g,h,v,S){this.text.programConfigurations.updatePaintArrays(n,i,h,d,g,v,S),this.icon.programConfigurations.updatePaintArrays(n,i,h,d,g,v,S)}updateZOffset(){const n=(h,v,S)=>{d+=v,d>h.length&&h.resize(d);for(let M=-v;M<0;M++)h.emplace(M+d,S)},i=(h,v,S)=>{g+=v,g>h.length&&h.resize(g);for(let M=-v;M<0;M++)h.emplace(M+g,S)};if(!this.zOffsetBuffersNeedUpload)return;this.zOffsetBuffersNeedUpload=!1;let d=0,g=0;for(let h=0;h<this.symbolInstances.length;h++){const v=this.symbolInstances.get(h),{numHorizontalGlyphVertices:S,numVerticalGlyphVertices:M,numIconVertices:A}=v,b=v.zOffset,P=A>0;if((S>0||M>0)&&(n(this.text.zOffsetVertexArray,S,b),n(this.text.zOffsetVertexArray,M,b)),P){const{placedIconSymbolIndex:$,verticalPlacedIconSymbolIndex:T}=v;$>=0&&i(this.icon.zOffsetVertexArray,A,b),T>=0&&i(this.icon.zOffsetVertexArray,v.numVerticalIconVertices,b)}}this.text.zOffsetVertexBuffer&&this.text.zOffsetVertexBuffer.updateData(this.text.zOffsetVertexArray),this.icon.zOffsetVertexBuffer&&this.icon.zOffsetVertexBuffer.updateData(this.icon.zOffsetVertexArray)}isEmpty(){return this.symbolInstances.length===0&&!this.hasRTLText}uploadPending(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload}upload(n){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(n),this.iconCollisionBox.upload(n)),this.text.upload(n,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload,this.zOffsetBuffersNeedUpload),this.icon.upload(n,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload,this.zOffsetBuffersNeedUpload),this.uploaded=!0}destroyDebugData(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()}getProjection(){return this.projectionInstance||(this.projectionInstance=d1(this.projection)),this.projectionInstance}destroy(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()}addToLineVertexArray(n,i){const d=this.lineVertexArray.length;if(n.segment!==void 0)for(const{x:g,y:h}of i)this.lineVertexArray.emplaceBack(g,h);return{lineStartIndex:d,lineLength:this.lineVertexArray.length-d}}addSymbols(n,i,d,g,h,v,S,M,A,b,P,$,T,O,N,W){const J=n.indexArray,se=n.layoutVertexArray,ue=n.globeExtVertexArray,re=n.segments.prepareSegment(4*i.length,se,J,this.canOverlap?v.sortKey:void 0),ve=this.glyphOffsetArray.length,we=re.vertexLength,Ne=this.allowVerticalPlacement&&S===Kc.vertical?Math.PI/2:0,ht=v.text&&v.text.sections;for(let at=0;at<i.length;at++){const{tl:Gt,tr:vt,bl:en,br:mn,texPrimary:un,texSecondary:yn,pixelOffsetTL:zn,pixelOffsetBR:Gn,minFontScaleX:Mn,minFontScaleY:$r,glyphOffset:ii,isSDF:Or,sectionIndex:Xi}=i[at],Fi=re.vertexLength,xi=ii[1];if(wy(se,A.x,A.y,Gt.x,xi+Gt.y,un.x,un.y,d,Or,zn.x,zn.y,Mn,$r),wy(se,A.x,A.y,vt.x,xi+vt.y,un.x+un.w,un.y,d,Or,Gn.x,zn.y,Mn,$r),wy(se,A.x,A.y,en.x,xi+en.y,un.x,un.y+un.h,d,Or,zn.x,Gn.y,Mn,$r),wy(se,A.x,A.y,mn.x,xi+mn.y,un.x+un.w,un.y+un.h,d,Or,Gn.x,Gn.y,Mn,$r),M){const{x:ni,y:To,z:Qi}=M.anchor,[ho,da,za]=M.up;Cu(ue,ni,To,Qi,ho,da,za),Cu(ue,ni,To,Qi,ho,da,za),Cu(ue,ni,To,Qi,ho,da,za),Cu(ue,ni,To,Qi,ho,da,za),hg(n.dynamicLayoutVertexArray,ni,To,Qi,Ne)}else hg(n.dynamicLayoutVertexArray,A.x,A.y,A.z,Ne);if(W){const ni=yn||un;k0(n.iconTransitioningVertexArray,ni.x,ni.y),k0(n.iconTransitioningVertexArray,ni.x+ni.w,ni.y),k0(n.iconTransitioningVertexArray,ni.x,ni.y+ni.h),k0(n.iconTransitioningVertexArray,ni.x+ni.w,ni.y+ni.h)}J.emplaceBack(Fi,Fi+1,Fi+2),J.emplaceBack(Fi+1,Fi+2,Fi+3),re.vertexLength+=4,re.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(ii[0]),at!==i.length-1&&Xi===i[at+1].sectionIndex||n.programConfigurations.populatePaintArrays(se.length,v,v.index,{},T,O,N,ht&&ht[Xi])}const ft=M?M.anchor:A;n.placedSymbolArray.emplaceBack(ft.x,ft.y,ft.z,A.x,A.y,ve,this.glyphOffsetArray.length-ve,we,b,P,A.segment,d?d[0]:0,d?d[1]:0,g[0],g[1],S,0,!1,0,$,0)}_commitLayoutVertex(n,i,d,g,h,v,S){n.emplaceBack(i,d,g,h,v,Math.round(S.x),Math.round(S.y))}_addCollisionDebugVertices(n,i,d,g,h,v,S){const M=d.segments.prepareSegment(4,d.layoutVertexArray,d.indexArray),A=M.vertexLength,b=S.tileAnchorX,P=S.tileAnchorY;for(let T=0;T<4;T++)d.collisionVertexArray.emplaceBack(0,0,0,0,0,0);this._commitDebugCollisionVertexUpdate(d.collisionVertexArrayExt,i,n.padding,S.zOffset),this._commitLayoutVertex(d.layoutVertexArray,g,h,v,b,P,new Rn(n.x1,n.y1)),this._commitLayoutVertex(d.layoutVertexArray,g,h,v,b,P,new Rn(n.x2,n.y1)),this._commitLayoutVertex(d.layoutVertexArray,g,h,v,b,P,new Rn(n.x2,n.y2)),this._commitLayoutVertex(d.layoutVertexArray,g,h,v,b,P,new Rn(n.x1,n.y2)),M.vertexLength+=4;const $=d.indexArray;$.emplaceBack(A,A+1),$.emplaceBack(A+1,A+2),$.emplaceBack(A+2,A+3),$.emplaceBack(A+3,A),M.primitiveLength+=4}_addTextDebugCollisionBoxes(n,i,d,g,h,v){for(let S=g;S<h;S++){const M=d.get(S),A=this.getSymbolInstanceTextSize(n,v,i,S);this._addCollisionDebugVertices(M,A,this.textCollisionBox,M.projectedAnchorX,M.projectedAnchorY,M.projectedAnchorZ,v)}}_addIconDebugCollisionBoxes(n,i,d,g,h,v){for(let S=g;S<h;S++){const M=d.get(S),A=this.getSymbolInstanceIconSize(n,i,v.placedIconSymbolIndex);this._addCollisionDebugVertices(M,A,this.iconCollisionBox,M.projectedAnchorX,M.projectedAnchorY,M.projectedAnchorZ,v)}}generateCollisionDebugBuffers(n,i,d){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new Iy(pp,Nb.members,Ku),this.iconCollisionBox=new Iy(pp,Nb.members,Ku);const g=Ih(this.iconSizeData,n),h=Ih(this.textSizeData,n,d);for(let v=0;v<this.symbolInstances.length;v++){const S=this.symbolInstances.get(v);this._addTextDebugCollisionBoxes(h,n,i,S.textBoxStartIndex,S.textBoxEndIndex,S),this._addTextDebugCollisionBoxes(h,n,i,S.verticalTextBoxStartIndex,S.verticalTextBoxEndIndex,S),this._addIconDebugCollisionBoxes(g,n,i,S.iconBoxStartIndex,S.iconBoxEndIndex,S),this._addIconDebugCollisionBoxes(g,n,i,S.verticalIconBoxStartIndex,S.verticalIconBoxEndIndex,S)}}getSymbolInstanceTextSize(n,i,d,g){const h=this.text.placedSymbolArray.get(i.rightJustifiedTextSymbolIndex>=0?i.rightJustifiedTextSymbolIndex:i.centerJustifiedTextSymbolIndex>=0?i.centerJustifiedTextSymbolIndex:i.leftJustifiedTextSymbolIndex>=0?i.leftJustifiedTextSymbolIndex:i.verticalPlacedTextSymbolIndex>=0?i.verticalPlacedTextSymbolIndex:g),v=R0(this.textSizeData,n,h)/Rc;return this.tilePixelRatio*v}getSymbolInstanceIconSize(n,i,d){const g=this.icon.placedSymbolArray.get(d),h=R0(this.iconSizeData,n,g);return this.tilePixelRatio*h}_commitDebugCollisionVertexUpdate(n,i,d,g){n.emplaceBack(i,-d,-d,g),n.emplaceBack(i,d,-d,g),n.emplaceBack(i,d,d,g),n.emplaceBack(i,-d,d,g)}_updateTextDebugCollisionBoxes(n,i,d,g,h,v,S){for(let M=g;M<h;M++){const A=d.get(M),b=this.getSymbolInstanceTextSize(n,v,i,M);this._commitDebugCollisionVertexUpdate(this.textCollisionBox.collisionVertexArrayExt,b,A.padding,v.zOffset)}}_updateIconDebugCollisionBoxes(n,i,d,g,h,v,S){for(let M=g;M<h;M++){const A=d.get(M),b=this.getSymbolInstanceIconSize(n,i,v.placedIconSymbolIndex);this._commitDebugCollisionVertexUpdate(this.iconCollisionBox.collisionVertexArrayExt,b,A.padding,v.zOffset)}}updateCollisionDebugBuffers(n,i,d,g){if(!this.hasDebugData())return;this.hasTextCollisionBoxData()&&this.textCollisionBox.collisionVertexArrayExt.clear(),this.hasIconCollisionBoxData()&&this.iconCollisionBox.collisionVertexArrayExt.clear();const h=Ih(this.iconSizeData,n,g),v=Ih(this.textSizeData,n,d);for(let S=0;S<this.symbolInstances.length;S++){const M=this.symbolInstances.get(S);this._updateTextDebugCollisionBoxes(v,n,i,M.textBoxStartIndex,M.textBoxEndIndex,M,d),this._updateTextDebugCollisionBoxes(v,n,i,M.verticalTextBoxStartIndex,M.verticalTextBoxEndIndex,M,d),this._updateIconDebugCollisionBoxes(h,n,i,M.iconBoxStartIndex,M.iconBoxEndIndex,M,g),this._updateIconDebugCollisionBoxes(h,n,i,M.verticalIconBoxStartIndex,M.verticalIconBoxEndIndex,M,g)}this.hasTextCollisionBoxData()&&this.textCollisionBox.collisionVertexBufferExt&&this.textCollisionBox.collisionVertexBufferExt.updateData(this.textCollisionBox.collisionVertexArrayExt),this.hasIconCollisionBoxData()&&this.iconCollisionBox.collisionVertexBufferExt&&this.iconCollisionBox.collisionVertexBufferExt.updateData(this.iconCollisionBox.collisionVertexArrayExt)}_deserializeCollisionBoxesForSymbol(n,i,d,g,h,v,S,M,A){const b={};if(i<d){const{x1:P,y1:$,x2:T,y2:O,padding:N,projectedAnchorX:W,projectedAnchorY:J,projectedAnchorZ:se,tileAnchorX:ue,tileAnchorY:re,featureIndex:ve}=n.get(i);b.textBox={x1:P,y1:$,x2:T,y2:O,padding:N,projectedAnchorX:W,projectedAnchorY:J,projectedAnchorZ:se,tileAnchorX:ue,tileAnchorY:re},b.textFeatureIndex=ve}if(g<h){const{x1:P,y1:$,x2:T,y2:O,padding:N,projectedAnchorX:W,projectedAnchorY:J,projectedAnchorZ:se,tileAnchorX:ue,tileAnchorY:re,featureIndex:ve}=n.get(g);b.verticalTextBox={x1:P,y1:$,x2:T,y2:O,padding:N,projectedAnchorX:W,projectedAnchorY:J,projectedAnchorZ:se,tileAnchorX:ue,tileAnchorY:re},b.verticalTextFeatureIndex=ve}if(v<S){const{x1:P,y1:$,x2:T,y2:O,padding:N,projectedAnchorX:W,projectedAnchorY:J,projectedAnchorZ:se,tileAnchorX:ue,tileAnchorY:re,featureIndex:ve}=n.get(v);b.iconBox={x1:P,y1:$,x2:T,y2:O,padding:N,projectedAnchorX:W,projectedAnchorY:J,projectedAnchorZ:se,tileAnchorX:ue,tileAnchorY:re},b.iconFeatureIndex=ve}if(M<A){const{x1:P,y1:$,x2:T,y2:O,padding:N,projectedAnchorX:W,projectedAnchorY:J,projectedAnchorZ:se,tileAnchorX:ue,tileAnchorY:re,featureIndex:ve}=n.get(M);b.verticalIconBox={x1:P,y1:$,x2:T,y2:O,padding:N,projectedAnchorX:W,projectedAnchorY:J,projectedAnchorZ:se,tileAnchorX:ue,tileAnchorY:re},b.verticalIconFeatureIndex=ve}return b}deserializeCollisionBoxes(n){this.collisionArrays=[];for(let i=0;i<this.symbolInstances.length;i++){const d=this.symbolInstances.get(i);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(n,d.textBoxStartIndex,d.textBoxEndIndex,d.verticalTextBoxStartIndex,d.verticalTextBoxEndIndex,d.iconBoxStartIndex,d.iconBoxEndIndex,d.verticalIconBoxStartIndex,d.verticalIconBoxEndIndex))}}hasTextData(){return this.text.segments.get().length>0}hasIconData(){return this.icon.segments.get().length>0}hasDebugData(){return this.textCollisionBox&&this.iconCollisionBox}hasTextCollisionBoxData(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0}hasIconCollisionBoxData(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0}hasIconTextFit(){return this.hasAnyIconTextFit}addIndicesForPlacedSymbol(n,i){const d=n.placedSymbolArray.get(i),g=d.vertexStartIndex+4*d.numGlyphs;for(let h=d.vertexStartIndex;h<g;h+=4)n.indexArray.emplaceBack(h,h+1,h+2),n.indexArray.emplaceBack(h+1,h+2,h+3)}getSortedSymbolIndexes(n){if(this.sortedAngle===n&&this.symbolInstanceIndexes!==void 0)return this.symbolInstanceIndexes;const i=Math.sin(n),d=Math.cos(n),g=[],h=[],v=[];for(let S=0;S<this.symbolInstances.length;++S){v.push(S);const M=this.symbolInstances.get(S);g.push(0|Math.round(i*M.tileAnchorX+d*M.tileAnchorY)),h.push(M.featureIndex)}return v.sort((S,M)=>g[S]-g[M]||h[M]-h[S]),v}getSortedIndexesByZOffset(){if(!this.zOffsetSortDirty)return this.symbolInstanceIndexesSortedZOffset;if(!this.symbolInstanceIndexesSortedZOffset){this.symbolInstanceIndexesSortedZOffset=[];for(let n=0;n<this.symbolInstances.length;++n)this.symbolInstanceIndexesSortedZOffset.push(n)}return this.zOffsetSortDirty=!1,this.symbolInstanceIndexesSortedZOffset.sort((n,i)=>this.symbolInstances.get(i).zOffset-this.symbolInstances.get(n).zOffset)}addToSortKeyRanges(n,i){const d=this.sortKeyRanges[this.sortKeyRanges.length-1];d&&d.sortKey===i?d.symbolInstanceEnd=n+1:this.sortKeyRanges.push({sortKey:i,symbolInstanceStart:n,symbolInstanceEnd:n+1})}sortFeatures(n){if(this.sortFeaturesByY&&this.sortedAngle!==n&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(n),this.sortedAngle=n,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(const i of this.symbolInstanceIndexes){const d=this.symbolInstances.get(i);this.featureSortOrder.push(d.featureIndex);const{rightJustifiedTextSymbolIndex:g,centerJustifiedTextSymbolIndex:h,leftJustifiedTextSymbolIndex:v,verticalPlacedTextSymbolIndex:S,placedIconSymbolIndex:M,verticalPlacedIconSymbolIndex:A}=d;g>=0&&this.addIndicesForPlacedSymbol(this.text,g),h>=0&&h!==g&&this.addIndicesForPlacedSymbol(this.text,h),v>=0&&v!==h&&v!==g&&this.addIndicesForPlacedSymbol(this.text,v),S>=0&&this.addIndicesForPlacedSymbol(this.text,S),M>=0&&this.addIndicesForPlacedSymbol(this.icon,M),A>=0&&this.addIndicesForPlacedSymbol(this.icon,A)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}}}let p1,Ty,pg;_o(j0,"SymbolBucket",{omit:["layers","collisionBoxArray","features","compareText"]}),j0.addDynamicAttributes=hg;class My{constructor(n){this.type=n.property.overrides?n.property.overrides.runtimeType:to,this.defaultValue=n}evaluate(n){if(n.formattedSection){const i=this.defaultValue.property.overrides;if(i&&i.hasOverride(n.formattedSection))return i.getOverride(n.formattedSection)}return n.feature&&n.featureState?this.defaultValue.evaluate(n.feature,n.featureState):this.defaultValue.property.specification.default}eachChild(n){this.defaultValue.isConstant()||n(this.defaultValue.value._styleExpression.expression)}outputDefined(){return!1}serialize(){return null}}_o(My,"FormatSectionOverride",{omit:["defaultValue"]});const m1=()=>pg||(pg={layout:p1||(p1=new nl({"symbol-placement":new Mi(er.layout_symbol["symbol-placement"]),"symbol-spacing":new Mi(er.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new Mi(er.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new so(er.layout_symbol["symbol-sort-key"]),"symbol-z-order":new Mi(er.layout_symbol["symbol-z-order"]),"symbol-z-elevate":new Mi(er.layout_symbol["symbol-z-elevate"]),"symbol-elevation-reference":new Mi(er.layout_symbol["symbol-elevation-reference"]),"icon-allow-overlap":new Mi(er.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new Mi(er.layout_symbol["icon-ignore-placement"]),"icon-optional":new Mi(er.layout_symbol["icon-optional"]),"icon-rotation-alignment":new Mi(er.layout_symbol["icon-rotation-alignment"]),"icon-size":new so(er.layout_symbol["icon-size"]),"icon-size-scale-range":new Mi(er.layout_symbol["icon-size-scale-range"]),"icon-text-fit":new so(er.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new so(er.layout_symbol["icon-text-fit-padding"]),"icon-image":new so(er.layout_symbol["icon-image"]),"icon-rotate":new so(er.layout_symbol["icon-rotate"]),"icon-padding":new Mi(er.layout_symbol["icon-padding"]),"icon-keep-upright":new Mi(er.layout_symbol["icon-keep-upright"]),"icon-offset":new so(er.layout_symbol["icon-offset"]),"icon-anchor":new so(er.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new Mi(er.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new Mi(er.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new Mi(er.layout_symbol["text-rotation-alignment"]),"text-field":new so(er.layout_symbol["text-field"]),"text-font":new so(er.layout_symbol["text-font"]),"text-size":new so(er.layout_symbol["text-size"]),"text-size-scale-range":new Mi(er.layout_symbol["text-size-scale-range"]),"text-max-width":new so(er.layout_symbol["text-max-width"]),"text-line-height":new so(er.layout_symbol["text-line-height"]),"text-letter-spacing":new so(er.layout_symbol["text-letter-spacing"]),"text-justify":new so(er.layout_symbol["text-justify"]),"text-radial-offset":new so(er.layout_symbol["text-radial-offset"]),"text-variable-anchor":new Mi(er.layout_symbol["text-variable-anchor"]),"text-anchor":new so(er.layout_symbol["text-anchor"]),"text-max-angle":new Mi(er.layout_symbol["text-max-angle"]),"text-writing-mode":new Mi(er.layout_symbol["text-writing-mode"]),"text-rotate":new so(er.layout_symbol["text-rotate"]),"text-padding":new Mi(er.layout_symbol["text-padding"]),"text-keep-upright":new Mi(er.layout_symbol["text-keep-upright"]),"text-transform":new so(er.layout_symbol["text-transform"]),"text-offset":new so(er.layout_symbol["text-offset"]),"text-allow-overlap":new Mi(er.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new Mi(er.layout_symbol["text-ignore-placement"]),"text-optional":new Mi(er.layout_symbol["text-optional"]),visibility:new Mi(er.layout_symbol.visibility)})),paint:Ty||(Ty=new nl({"icon-opacity":new so(er.paint_symbol["icon-opacity"]),"icon-occlusion-opacity":new so(er.paint_symbol["icon-occlusion-opacity"]),"icon-emissive-strength":new so(er.paint_symbol["icon-emissive-strength"]),"text-emissive-strength":new so(er.paint_symbol["text-emissive-strength"]),"icon-color":new so(er.paint_symbol["icon-color"]),"icon-halo-color":new so(er.paint_symbol["icon-halo-color"]),"icon-halo-width":new so(er.paint_symbol["icon-halo-width"]),"icon-halo-blur":new so(er.paint_symbol["icon-halo-blur"]),"icon-translate":new Mi(er.paint_symbol["icon-translate"]),"icon-translate-anchor":new Mi(er.paint_symbol["icon-translate-anchor"]),"icon-image-cross-fade":new so(er.paint_symbol["icon-image-cross-fade"]),"text-opacity":new so(er.paint_symbol["text-opacity"]),"text-occlusion-opacity":new so(er.paint_symbol["text-occlusion-opacity"]),"text-color":new so(er.paint_symbol["text-color"],{runtimeType:Ei,getOverride:u=>u.textColor,hasOverride:u=>!!u.textColor}),"text-halo-color":new so(er.paint_symbol["text-halo-color"]),"text-halo-width":new so(er.paint_symbol["text-halo-width"]),"text-halo-blur":new so(er.paint_symbol["text-halo-blur"]),"text-translate":new Mi(er.paint_symbol["text-translate"]),"text-translate-anchor":new Mi(er.paint_symbol["text-translate-anchor"]),"icon-color-saturation":new Mi(er.paint_symbol["icon-color-saturation"]),"icon-color-contrast":new Mi(er.paint_symbol["icon-color-contrast"]),"icon-color-brightness-min":new Mi(er.paint_symbol["icon-color-brightness-min"]),"icon-color-brightness-max":new Mi(er.paint_symbol["icon-color-brightness-max"]),"symbol-z-offset":new so(er.paint_symbol["symbol-z-offset"]),"icon-color-use-theme":new so({type:"string",default:"default","property-type":"data-driven"}),"icon-halo-color-use-theme":new so({type:"string",default:"default","property-type":"data-driven"}),"text-color-use-theme":new so({type:"string",default:"default","property-type":"data-driven"}),"text-halo-color-use-theme":new so({type:"string",default:"default","property-type":"data-driven"})}))},pg);class mg extends zl{constructor(n,i,d,g){super(n,m1(),i,d,g),this._colorAdjustmentMatrix=$e.mat4.identity([]),this.hasInitialOcclusionOpacityProperties=n.paint!==void 0&&("icon-occlusion-opacity"in n.paint||"text-occlusion-opacity"in n.paint)}recalculate(n,i){super.recalculate(n,i),this.layout.get("icon-rotation-alignment")==="auto"&&(this.layout._values["icon-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-rotation-alignment")==="auto"&&(this.layout._values["text-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-pitch-alignment")==="auto"&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),this.layout.get("icon-pitch-alignment")==="auto"&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment"));const d=this.layout.get("text-writing-mode");if(d){const g=[];for(const h of d)g.indexOf(h)<0&&g.push(h);this.layout._values["text-writing-mode"]=g}else this.layout._values["text-writing-mode"]=this.layout.get("symbol-placement")==="point"?["horizontal"]:["horizontal","vertical"];this._setPaintOverrides()}getColorAdjustmentMatrix(n,i,d,g){return this._saturation===n&&this._contrast===i&&this._brightnessMin===d&&this._brightnessMax===g||(this._colorAdjustmentMatrix=function(h,v,S,M){h=gi(h),v=kr(v);const A=$e.mat4.create(),b=h/3,P=1-2*b,$=[P,b,b,0,b,P,b,0,b,b,P,0,0,0,0,1],T=.5-.5*v,O=M-S;return $e.mat4.multiply(A,[O,0,0,0,0,O,0,0,0,0,O,0,S,S,S,1],[v,0,0,0,0,v,0,0,0,0,v,0,T,T,T,1]),$e.mat4.multiply(A,A,$),A}(n,i,d,g),this._saturation=n,this._contrast=i,this._brightnessMin=d,this._brightnessMax=g),this._colorAdjustmentMatrix}getValueAndResolveTokens(n,i,d,g){const h=this.layout.get(n).evaluate(i,{},d,g),v=this._unevaluatedLayout._values[n];return v.isDataDriven()||cf(v.value)||!h?h:function(S,M){return M.replace(/{([^{}]+)}/g,(A,b)=>b in S?String(S[b]):"")}(i.properties,h)}createBucket(n){return new j0(n)}queryRadius(){return 0}queryIntersectsFeature(){return!1}_setPaintOverrides(){for(const n of m1().paint.overridableProperties){if(!mg.hasPaintOverride(this.layout,n))continue;const i=this.paint.get(n),d=new My(i),g=new Uu(d,i.property.specification,this.scope,this.options);let h=null;h=i.value.kind==="constant"||i.value.kind==="source"?new lh("source",g):new df("composite",g,i.value.zoomStops,i.value._interpolationType),this.paint._values[n]=new mf(i.property,h,i.parameters)}}_handleOverridablePaintPropertyUpdate(n,i,d){return!(!this.layout||i.isDataDriven()||d.isDataDriven())&&mg.hasPaintOverride(this.layout,n)}static hasPaintOverride(n,i){const d=n.get("text-field"),g=m1().paint.properties[i];let h=!1;const v=S=>{for(const M of S)if(g.overrides&&g.overrides.hasOverride(M))return void(h=!0)};if(d.value.kind==="constant"&&d.value.value instanceof Lr)v(d.value.value.sections);else if(d.value.kind==="source"){const S=A=>{h||(A instanceof hi&&Oi(A.value)===jo?v(A.value.sections):A instanceof aa?v(A.sections):A.eachChild(S))},M=d.value;M._styleExpression&&S(M._styleExpression.expression)}return h}getProgramIds(){return["symbol"]}getDefaultProgramParams(n,i,d){return{config:new $u(this,{zoom:i,lut:d}),overrideFog:!1}}}let Py,g1,v1,y1;var Oy=bs([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]);function Ry(u){switch(u){case WebGL2RenderingContext.RGBA8:return WebGL2RenderingContext.RGBA;case WebGL2RenderingContext.DEPTH_COMPONENT16:return WebGL2RenderingContext.DEPTH_COMPONENT;case WebGL2RenderingContext.DEPTH24_STENCIL8:return WebGL2RenderingContext.DEPTH_STENCIL;case WebGL2RenderingContext.R8:case WebGL2RenderingContext.R32F:return WebGL2RenderingContext.RED}}function $y(u){switch(u){case WebGL2RenderingContext.RGBA8:return WebGL2RenderingContext.UNSIGNED_BYTE;case WebGL2RenderingContext.DEPTH_COMPONENT16:return WebGL2RenderingContext.UNSIGNED_SHORT;case WebGL2RenderingContext.DEPTH24_STENCIL8:return WebGL2RenderingContext.UNSIGNED_INT_24_8;case WebGL2RenderingContext.R8:return WebGL2RenderingContext.UNSIGNED_BYTE;case WebGL2RenderingContext.R32F:return WebGL2RenderingContext.FLOAT}}class Ay{constructor(n,i,d,g){this.context=n,this.format=d,this.useMipmap=g&&g.useMipmap,this.texture=n.gl.createTexture(),this.update(i,{premultiply:g&&g.premultiply})}update(n,i){const d=n&&n instanceof HTMLVideoElement&&n.width===0?n.videoWidth:n.width,g=n&&n instanceof HTMLVideoElement&&n.height===0?n.videoHeight:n.height,{context:h}=this,{gl:v}=h,{x:S,y:M}=i&&i.position?i.position:{x:0,y:0},A=S+d,b=M+g;!this.size||this.size[0]===A&&this.size[1]===b||(v.bindTexture(v.TEXTURE_2D,null),v.deleteTexture(this.texture),this.texture=v.createTexture(),this.size=null),v.bindTexture(v.TEXTURE_2D,this.texture),h.pixelStoreUnpackFlipY.set(!1),h.pixelStoreUnpack.set(1),h.pixelStoreUnpackPremultiplyAlpha.set(this.format===v.RGBA8&&(!i||i.premultiply!==!1));const P=n instanceof HTMLImageElement||n instanceof HTMLCanvasElement||n instanceof HTMLVideoElement||n instanceof ImageData||ImageBitmap&&n instanceof ImageBitmap;if(!this.size&&A>0&&b>0){const $=this.useMipmap?Math.floor(Math.log2(Math.max(A,b)))+1:1;v.texStorage2D(v.TEXTURE_2D,$,this.format,A,b),this.size=[A,b]}if(this.size)if(P)v.texSubImage2D(v.TEXTURE_2D,0,S,M,Ry(this.format),$y(this.format),n);else{const $=n.data;$&&v.texSubImage2D(v.TEXTURE_2D,0,S,M,d,g,Ry(this.format),$y(this.format),$)}this.useMipmap&&v.generateMipmap(v.TEXTURE_2D)}bind(n,i,d=!1){const{context:g}=this,{gl:h}=g;h.bindTexture(h.TEXTURE_2D,this.texture),n!==this.minFilter&&(h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MAG_FILTER,n),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MIN_FILTER,this.useMipmap&&!d?n===h.NEAREST?h.NEAREST_MIPMAP_NEAREST:h.LINEAR_MIPMAP_LINEAR:n),this.minFilter=n),i!==this.wrapS&&(h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_S,i),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_T,i),this.wrapS=i)}bindExtraParam(n,i,d,g){const{context:h}=this,{gl:v}=h;v.bindTexture(v.TEXTURE_2D,this.texture),i!==this.magFilter&&(v.texParameteri(v.TEXTURE_2D,v.TEXTURE_MAG_FILTER,i),this.magFilter=i),n!==this.minFilter&&(v.texParameteri(v.TEXTURE_2D,v.TEXTURE_MIN_FILTER,this.useMipmap?n===v.NEAREST?v.NEAREST_MIPMAP_NEAREST:v.LINEAR_MIPMAP_LINEAR:n),this.minFilter=n),d!==this.wrapS&&(v.texParameteri(v.TEXTURE_2D,v.TEXTURE_WRAP_S,d),this.wrapS=d),g!==this.wrapT&&(v.texParameteri(v.TEXTURE_2D,v.TEXTURE_WRAP_T,g),this.wrapT=g)}destroy(){const{gl:n}=this.context;n.deleteTexture(this.texture),this.texture=null}}class $h{constructor(n,i){this.context=n,this.texture=i}bind(n,i){const{context:d}=this,{gl:g}=d;g.bindTexture(g.TEXTURE_2D,this.texture),n!==this.minFilter&&(g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MAG_FILTER,n),g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MIN_FILTER,n),this.minFilter=n),i!==this.wrapS&&(g.texParameteri(g.TEXTURE_2D,g.TEXTURE_WRAP_S,i),g.texParameteri(g.TEXTURE_2D,g.TEXTURE_WRAP_T,i),this.wrapS=i)}}function Z0(u,n,i,d,g,h,v,S){const M=[u,n,1,i,d,1,g,h,1],A=[v,S,1],b=$e.mat3.adjoint([],M),[P,$,T]=$e.vec3.transformMat3(A,A,b);return $e.mat3.multiply(M,M,[P,0,0,0,$,0,0,0,T])}function _1(u,n,i,d,g,h,v,S){const M=function(A,b,P,$,T,O,N,W){const J=Z0(0,0,1,0,1,1,0,1),se=Z0(A,b,P,$,T,O,N,W),ue=$e.mat3.adjoint([],J);return $e.mat3.multiply(se,se,ue)}(u,n,i,d,g,h,v,S);return[M[2]/M[8]/Bi,M[5]/M[8]/Bi]}function gg(u){return[u[0],Math.min(Math.max(u[1],-rl),rl)]}class b1 extends po{constructor(n,i,d,g){super(),this.id=n,this.dispatcher=d,this.coordinates=i.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.onNorthPole=!1,this.onSouthPole=!1,this.setEventedParent(g),this.options=i,this._dirty=!1}load(n,i){if(this._loaded=i||!1,this.fire(new Eo("dataloading",{dataType:"source"})),this.url=this.options.url,!this.url)return n&&(this.coordinates=n),this._loaded=!0,void this._finishLoading();this._imageRequest=Ti(this.map._requestManager.transformRequest(this.url,ui.Image),(d,g)=>{this._imageRequest=null,this._loaded=!0,d?this.fire(new zo(d)):g&&(this.image=g instanceof HTMLImageElement?pe.getImageData(g):g,this._dirty=!0,this.width=this.image.width,this.height=this.image.height,n&&(this.coordinates=n),this._finishLoading())})}loaded(){return this._loaded}updateImage(n){return n.url?(this._imageRequest&&n.url!==this.options.url&&(this._imageRequest.cancel(),this._imageRequest=null),this.options.url=n.url,this.load(n.coordinates,this._loaded),this):this}setTexture(n){if(!(n.handle instanceof WebGLTexture))throw new Error("The provided handle is not a WebGLTexture instance");return this.texture=new $h(this.map.painter.context,n.handle),this.width=n.dimensions[0],this.height=n.dimensions[1],this._dirty=!1,this._loaded=!0,this._finishLoading(),this}_finishLoading(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new Eo("data",{dataType:"source",sourceDataType:"metadata"})))}onAdd(n){this.map=n,this.load()}onRemove(n){this._imageRequest&&(this._imageRequest.cancel(),this._imageRequest=null),!this.texture||this.texture instanceof $h||this.texture.destroy(),this.boundsBuffer&&(this.boundsBuffer.destroy(),this.elevatedGlobeVertexBuffer&&this.elevatedGlobeVertexBuffer.destroy(),this.elevatedGlobeIndexBuffer&&this.elevatedGlobeIndexBuffer.destroy())}setCoordinates(n){if(this.coordinates=n,this._boundsArray=void 0,this._unsupportedCoords=!1,!n.length)return this;this.onNorthPole=!1,this.onSouthPole=!1;let i=n[0][1],d=n[0][1];for(const h of n)h[1]>d&&(d=h[1]),h[1]<i&&(i=h[1]);const g=(d+i)/2;if(g>rl?this.onNorthPole=!0:g<-rl&&(this.onSouthPole=!0),!this.onNorthPole&&!this.onSouthPole){const h=n.map(l.fromLngLat);this.tileID=function(v){let S=1/0,M=1/0,A=-1/0,b=-1/0;for(const N of v)S=Math.min(S,N.x),M=Math.min(M,N.y),A=Math.max(A,N.x),b=Math.max(b,N.y);const P=Math.max(A-S,b-M),$=Math.max(0,Math.floor(-Math.log(P)/Math.LN2)),T=Math.pow(2,$);let O=Math.floor((S+A)/2*T);return O>1&&(O-=1),new ti($,O,Math.floor((M+b)/2*T))}(h),this.minzoom=this.maxzoom=this.tileID.z}return this.fire(new Eo("data",{dataType:"source",sourceDataType:"content"})),this}_clear(){this._boundsArray=void 0,this._unsupportedCoords=!1}_prepareData(n){for(const J in this.tiles){const se=this.tiles[J];se.state!=="loaded"&&(se.state="loaded",se.texture=this.texture)}if(this._boundsArray||this.onNorthPole||this.onSouthPole||this._unsupportedCoords)return;const i=lg(new ti(0,0,0),this.map.transform.projection),d=[i.projection.project(this.coordinates[0][0],this.coordinates[0][1]),i.projection.project(this.coordinates[1][0],this.coordinates[1][1]),i.projection.project(this.coordinates[2][0],this.coordinates[2][1]),i.projection.project(this.coordinates[3][0],this.coordinates[3][1])];if(!function(J){const se=J[1].x-J[0].x,ue=J[1].y-J[0].y,re=J[2].x-J[1].x,ve=J[2].y-J[1].y,we=J[3].x-J[2].x,Ne=J[3].y-J[2].y,ht=J[0].x-J[3].x,ft=J[0].y-J[3].y,at=se*ve-re*ue,Gt=re*Ne-we*ve,vt=we*ft-ht*Ne,en=ht*ue-se*ft;return at>0&&Gt>0&&vt>0&&en>0||at<0&&Gt<0&&vt<0&&en<0}(d))return console.warn("Image source coordinates are defining non-convex area in the Mercator projection"),void(this._unsupportedCoords=!0);const g=lg(this.tileID,this.map.transform.projection),[h,v,S,M]=this.coordinates.map(J=>{const se=g.projection.project(J[0],J[1]);return o1(g,se)._round()});this.perspectiveTransform=_1(h.x,h.y,v.x,v.y,S.x,S.y,M.x,M.y);const A=this._boundsArray=new md;A.emplaceBack(h.x,h.y,0,0),A.emplaceBack(v.x,v.y,Bi,0),A.emplaceBack(M.x,M.y,0,Bi),A.emplaceBack(S.x,S.y,Bi,Bi),this.boundsBuffer&&(this.boundsBuffer.destroy(),this.elevatedGlobeVertexBuffer&&this.elevatedGlobeVertexBuffer.destroy(),this.elevatedGlobeIndexBuffer&&this.elevatedGlobeIndexBuffer.destroy()),this.boundsBuffer=n.createVertexBuffer(A,Oy.members),this.boundsSegments=cl.simpleSegment(0,0,4,2);const b=[],P=[gg(($=this.coordinates)[0]),gg($[1]),gg($[2]),gg($[3])];var $;const[T,O,N,W]=function(J){let se=J[0][0],ue=se,re=J[0][1],ve=re;for(let we=1;we<J.length;we++)J[we][0]<se?se=J[we][0]:J[we][0]>ue&&(ue=J[we][0]),J[we][1]<re?re=J[we][1]:J[we][1]>ve&&(ve=J[we][1]);return[se,re,ue-se,ve-re]}(P);{const J=new md,[se,ue,re,ve]=function(zn){let Gn=zn[0].x,Mn=Gn,$r=zn[0].y,ii=$r;for(let Or=1;Or<zn.length;Or++)zn[Or].x<Gn?Gn=zn[Or].x:zn[Or].x>Mn&&(Mn=zn[Or].x),zn[Or].y<$r?$r=zn[Or].y:zn[Or].y>ii&&(ii=zn[Or].y);return[Gn,$r,Mn-Gn,ii-$r]}(d),we=zn=>[(zn.x-se)/re,(zn.y-ue)/ve],[Ne,ht,ft,at]=d.map(we),Gt=function(zn,Gn,Mn,$r,ii,Or,Xi,Fi){const xi=Z0(0,0,1,0,1,1,0,1),ni=Z0(zn,Gn,Mn,$r,ii,Or,Xi,Fi),To=$e.mat3.adjoint([],ni);return $e.mat3.multiply(xi,xi,To)}(Ne[0],Ne[1],ht[0],ht[1],ft[0],ft[1],at[0],at[1]);this.elevatedGlobePerspectiveTransform=_1(Ne[0],Ne[1],ht[0],ht[1],ft[0],ft[1],at[0],at[1]);const vt=(zn,Gn)=>{b.push(zn.lng);const Mn=Math.round((zn.lng-T)/N*Bi),$r=Math.round((zn.lat-O)/W*Bi),ii=we(Gn),Or=$e.vec3.transformMat3([],[ii[0],ii[1],1],Gt),Xi=Math.round(Or[0]/Or[2]*Bi),Fi=Math.round(Or[1]/Or[2]*Bi);J.emplaceBack(Mn,$r,Xi,Fi)},en=d[3].x-d[0].x,mn=d[3].y-d[0].y,un=d[2].x-d[1].x,yn=d[2].y-d[1].y;for(let zn=0;zn<65;zn++){const Gn=zn/64,Mn=[d[0].x+Gn*en,d[0].y+Gn*mn],$r=[d[1].x+Gn*un,d[1].y+Gn*yn],ii=$r[0]-Mn[0],Or=$r[1]-Mn[1];for(let Xi=0;Xi<65;Xi++){const Fi=Xi/64,xi={x:Mn[0]+ii*Fi,y:Mn[1]+Or*Fi,z:0};vt(i.projection.unproject(xi.x,xi.y),xi)}}this.elevatedGlobeVertexBuffer=n.createVertexBuffer(J,Oy.members)}{this.maxLongitudeTriangleSize=0;let J=[],se=new Nl;const ue=(re,ve,we)=>{se.emplaceBack(re,ve,we);const Ne=b[re],ht=b[ve],ft=b[we],at=Math.min(Math.min(Ne,ht),ft),Gt=Math.max(Math.max(Ne,ht),ft)-at;Gt>this.maxLongitudeTriangleSize&&(this.maxLongitudeTriangleSize=Gt),J.push(at+Gt/2)};for(let re=0;re<64;re++)for(let ve=0;ve<64;ve++){const we=65*re+ve,Ne=we+1,ht=we+65,ft=ht+1;ue(we,ht,Ne),ue(Ne,ht,ft)}[J,se]=function(re,ve){const we=Array.from({length:re.length},(ft,at)=>at);we.sort((ft,at)=>re[ft]-re[at]);const Ne=[],ht=new Nl;for(let ft=0;ft<we.length;ft++){const at=we[ft];Ne.push(re[at]);const Gt=3*at,vt=Gt+1;ht.emplaceBack(ve.uint16[Gt],ve.uint16[vt],ve.uint16[vt+1])}return[Ne,ht]}(J,se),this.elevatedGlobeTrianglesCenterLongitudes=J,this.elevatedGlobeIndexBuffer=n.createIndexBuffer(se)}this.elevatedGlobeSegments=cl.simpleSegment(0,0,4225,8192),this.elevatedGlobeGridMatrix=new Float32Array([0,N/Bi,0,W/Bi,0,0,O,T,0])}prepare(){const n=Object.keys(this.tiles).length!==0;if(this.tileID&&!n)return;const i=this.map.painter.context,d=i.gl;!this._dirty||this.texture instanceof $h||(this.texture?this.texture.update(this.image):(this.texture=new Ay(i,this.image,d.RGBA8),this.texture.bind(d.LINEAR,d.CLAMP_TO_EDGE)),this._dirty=!1),n&&this._prepareData(i)}loadTile(n,i){this.tileID&&this.tileID.equals(n.tileID.canonical)?(this.tiles[String(n.tileID.wrap)]=n,n.buckets={},i(null)):(n.state="errored",i(null))}serialize(){return{type:"image",url:this.options.url,coordinates:this.coordinates}}hasTransition(){return!1}getSegmentsForLongitude(n){const i=this.elevatedGlobeSegments;if(!this.elevatedGlobeTrianglesCenterLongitudes||!i)return null;const d=this.elevatedGlobeTrianglesCenterLongitudes;let g=(h=n+180)+360*Math.round((d[0]-h)/360);var h;const v=new cl,S=(P,$)=>{v.segments.push({vertexOffset:0,primitiveOffset:P,vertexLength:i.segments[0].vertexLength,primitiveLength:$,sortKey:void 0,vaos:{}})},M=.51*this.maxLongitudeTriangleSize;if(Math.abs(d[0]-g)<=M){const P=ir(d,0,d.length,g+M);return P===d.length||S(P,Tn(d,P+1,d.length,g+360-M)-P),v}g<d[0]&&(g+=360);const A=Tn(d,0,d.length,g-M);if(A===d.length)return S(0,d.length),v;S(0,A-0);const b=ir(d,A+1,d.length,g+M);return b!==d.length&&S(b,d.length-b),v}}const x1=(Math.pow(256,2)-1)/16907520;class C1 extends zl{constructor(n,i,d,g){super(n,{layout:v1||(v1=new nl({visibility:new Mi(er.layout_raster.visibility)})),paint:y1||(y1=new nl({"raster-opacity":new Mi(er.paint_raster["raster-opacity"]),"raster-color":new kd(er.paint_raster["raster-color"]),"raster-color-mix":new Mi(er.paint_raster["raster-color-mix"]),"raster-color-range":new Mi(er.paint_raster["raster-color-range"]),"raster-hue-rotate":new Mi(er.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new Mi(er.paint_raster["raster-brightness-min"]),"raster-brightness-max":new Mi(er.paint_raster["raster-brightness-max"]),"raster-saturation":new Mi(er.paint_raster["raster-saturation"]),"raster-contrast":new Mi(er.paint_raster["raster-contrast"]),"raster-resampling":new Mi(er.paint_raster["raster-resampling"]),"raster-fade-duration":new Mi(er.paint_raster["raster-fade-duration"]),"raster-emissive-strength":new Mi(er.paint_raster["raster-emissive-strength"]),"raster-array-band":new Mi(er.paint_raster["raster-array-band"]),"raster-elevation":new Mi(er.paint_raster["raster-elevation"]),"raster-color-use-theme":new so({type:"string",default:"default","property-type":"data-driven"})}))},i,d,g),this.updateColorRamp(),this._curRampRange=[NaN,NaN]}getProgramIds(){return["raster"]}hasColorMap(){return!!this._transitionablePaint._values["raster-color"].value.value}tileCoverLift(){return this.paint.get("raster-elevation")}isDraped(n){return!(n&&n._source instanceof b1&&(n._source.onNorthPole||n._source.onSouthPole))&&this.paint.get("raster-elevation")===0}_handleSpecialPaintPropertyUpdate(n){n!=="raster-color"&&n!=="raster-color-range"||(this._curRampRange=[NaN,NaN],this.updateColorRamp())}updateColorRamp(n){if(!this.hasColorMap()||!this._curRampRange)return;const i=this._transitionablePaint._values["raster-color"].value.expression,[d,g]=n||this._transitionablePaint._values["raster-color-range"].value.expression.evaluate({zoom:0})||[NaN,NaN];isNaN(d)&&isNaN(g)||d===this._curRampRange[0]&&g===this._curRampRange[1]||(this.colorRamp=Nm({expression:i,evaluationKey:"rasterValue",image:this.colorRamp,clips:[{start:d,end:g}],resolution:256}),this.colorRampTexture=null,this._curRampRange=[d,g])}}let Dy,vg,Ly,S1,zy;class w1 extends zl{constructor(n,i,d,g){super(n,{layout:Dy||(Dy=new nl({visibility:new Mi(er["layout_raster-particle"].visibility)})),paint:vg||(vg=new nl({"raster-particle-array-band":new Mi(er["paint_raster-particle"]["raster-particle-array-band"]),"raster-particle-count":new Mi(er["paint_raster-particle"]["raster-particle-count"]),"raster-particle-color":new kd(er["paint_raster-particle"]["raster-particle-color"]),"raster-particle-max-speed":new Mi(er["paint_raster-particle"]["raster-particle-max-speed"]),"raster-particle-speed-factor":new Mi(er["paint_raster-particle"]["raster-particle-speed-factor"]),"raster-particle-fade-opacity-factor":new Mi(er["paint_raster-particle"]["raster-particle-fade-opacity-factor"]),"raster-particle-reset-rate-factor":new Mi(er["paint_raster-particle"]["raster-particle-reset-rate-factor"]),"raster-particle-elevation":new Mi(er["paint_raster-particle"]["raster-particle-elevation"]),"raster-particle-color-use-theme":new so({type:"string",default:"default","property-type":"data-driven"})}))},i,d,g),this._updateColorRamp(),this.lastInvalidatedAt=pe.now()}onRemove(n){this.colorRampTexture&&this.colorRampTexture.destroy(),this.tileFramebuffer&&this.tileFramebuffer.destroy(),this.particleFramebuffer&&this.particleFramebuffer.destroy()}hasColorMap(){return!!this._transitionablePaint._values["raster-particle-color"].value.value}getProgramIds(){return["rasterParticle"]}hasOffscreenPass(){return this.visibility!=="none"}isDraped(n){return!1}_handleSpecialPaintPropertyUpdate(n){n!=="raster-particle-color"&&n!=="raster-particle-max-speed"||(this._updateColorRamp(),this._invalidateAnimationState()),n==="raster-particle-count"&&this._invalidateAnimationState()}_updateColorRamp(){if(!this.hasColorMap())return;const n=this._transitionablePaint._values["raster-particle-color"].value.expression,i=this._transitionablePaint._values["raster-particle-max-speed"].value.expression.evaluate({zoom:0});this.colorRamp=Nm({expression:n,evaluationKey:"rasterParticleSpeed",image:this.colorRamp,clips:[{start:0,end:i}],resolution:256}),this.colorRampTexture=null}_invalidateAnimationState(){this.lastInvalidatedAt=pe.now()}tileCoverLift(){return this.paint.get("raster-particle-elevation")}}class E1 extends zl{constructor(n,i){super(n,{},i,null),this.implementation=n,n.slot&&(this.slot=n.slot)}is3D(){return this.implementation.renderingMode==="3d"}hasOffscreenPass(){return this.implementation.prerender!==void 0}isDraped(n){return this.implementation.renderToTile!==void 0}shouldRedrape(){return!!this.implementation.shouldRerenderTiles&&this.implementation.shouldRerenderTiles()}recalculate(){}updateTransitions(){}hasTransition(){return!1}serialize(){}onAdd(n){this.implementation.onAdd&&this.implementation.onAdd(n,n.painter.context.gl)}onRemove(n){this.implementation.onRemove&&this.implementation.onRemove(n,n.painter.context.gl)}}function Ny(u,n,i){const d=[0,0,1],g=$e.quat.identity([]);return $e.quat.rotateY(g,g,i?-it(u)+Math.PI:it(u)),$e.quat.rotateX(g,g,-it(n)),$e.vec3.transformQuat(d,d,g),$e.vec3.normalize(d,d)}function By(u,n){const i=yg(u.projection,u.zoom,u.width,u.height),d=function(h,v,S,M,A){const b=new ps(S.lng-180*bd,S.lat),P=new ps(S.lng+180*bd,S.lat),$=h.project(b.lng,b.lat),T=h.project(P.lng,P.lat),O=-Math.atan2(T.y-$.y,T.x-$.x),N=l.fromLngLat(S);N.y=Vn(N.y,-1+bd,1-bd);const W=N.toLngLat(),J=h.project(W.lng,W.lat),se=l.fromLngLat(W);se.x+=bd;const ue=se.toLngLat(),re=h.project(ue.lng,ue.lat),ve=ky(re.x-J.x,re.y-J.y,O),we=l.fromLngLat(W);we.y+=bd;const Ne=we.toLngLat(),ht=h.project(Ne.lng,Ne.lat),ft=ky(ht.x-J.x,ht.y-J.y,O),at=Math.abs(ve.x)/Math.abs(ft.y),Gt=$e.mat4.identity([]);$e.mat4.rotateZ(Gt,Gt,-O*(1-(A?0:M)));const vt=$e.mat4.identity([]);return $e.mat4.scale(vt,vt,[1,1-(1-at)*M,1]),vt[4]=-ft.x/ft.y*M,$e.mat4.rotateZ(vt,vt,O),$e.mat4.multiply(vt,Gt,vt),vt}(u.projection,0,u.center,i,n),g=I1(u);return $e.mat4.scale(d,d,[g,g,1]),d}function I1(u){const n=u.projection,i=yg(u.projection,u.zoom,u.width,u.height),d=Fy(n,u.center),g=Fy(n,ps.convert(n.center));return Math.pow(2,d*i+(1-i)*g)}function yg(u,n,i,d,g=1/0){const h=u.range;if(!h)return 0;const v=Math.min(g,Math.max(i,d)),S=Math.log(v/1024)/Math.LN2;return ri(h[0]+S,h[1]+S,n)}const bd=1/4e4;function Fy(u,n){const i=Vn(n.lat,-rl,rl),d=new ps(n.lng-180*bd,i),g=new ps(n.lng+180*bd,i),h=u.project(d.lng,i),v=u.project(g.lng,i),S=l.fromLngLat(d),M=l.fromLngLat(g),A=v.x-h.x,b=v.y-h.y,P=M.x-S.x,$=M.y-S.y,T=Math.sqrt((P*P+$*$)/(A*A+b*b));return Math.log(T)/Math.LN2}function ky(u,n,i){const d=Math.cos(i),g=Math.sin(i);return{x:u*d-n*g,y:u*g+n*d}}function T1(u,n,i){$e.mat4.identity(u),$e.mat4.rotateZ(u,u,it(n[2])),$e.mat4.rotateX(u,u,it(n[0])),$e.mat4.rotateY(u,u,it(n[1])),$e.mat4.scale(u,u,i),$e.mat4.multiply(u,u,[1,0,0,0,0,0,1,0,0,1,0,0,0,0,0,1])}function _g(u,n,i,d,g,h,v,S){const M=[i[0]-n[0],i[1]-n[1],0],A=[d[0]-n[0],d[1]-n[1],0];if($e.vec3.length(M)<1e-12||$e.vec3.length(A)<1e-12)return $e.quat.identity(u);const b=$e.vec3.cross([],M,A);$e.vec3.normalize(b,b),$e.vec3.subtract(A,d,n),M[2]=(h-g)*S,A[2]=(v-g)*S;const P=M;return $e.vec3.cross(P,M,A),$e.vec3.normalize(P,P),$e.quat.rotationTo(u,b,P)}function jy(u,n,i=!1){const d=Mc(n.zoom),g=function(h,v,S){const M=v.worldSize,A=[h[12],h[13],h[14]],b=dc(A[1]/M),P=Bc(A[0]/M),$=$e.mat4.identity([]),T=Ol(1,b)*M,O=Ol(1,0)*M*Lc(b,v.zoom),N=1/Tc(M);let W=O*N;if(S){const re=yg(v.projection,v.zoom,v.width,v.height,1024);W=N*v.projection.pixelSpaceConversion(v.center.lat,M,re)}const J=Gd(b,P);$e.vec3.add(J,J,$e.vec3.scale([],$e.vec3.normalize([],J),T*W*A[2]));const se=function(re){const ve=[re[0],re[1],re[2]];let we=[0,1,0];const Ne=$e.vec3.cross([],we,ve);return $e.vec3.cross(we,ve,Ne),$e.vec3.squaredLength(we)===0&&(we=[0,1,0],$e.vec3.cross(Ne,ve,we)),$e.vec3.normalize(Ne,Ne),$e.vec3.normalize(we,we),$e.vec3.normalize(ve,ve),[Ne[0],Ne[1],Ne[2],0,we[0],we[1],we[2],0,ve[0],ve[1],ve[2],0,re[0],re[1],re[2],1]}(J);$e.mat4.scale($,$,[W,W,W*T]),$e.mat4.translate($,$,[-A[0],-A[1],-A[2]]);const ue=$e.mat4.multiply([],v.globeMatrix,se);return $e.mat4.multiply(ue,ue,$),$e.mat4.multiply(ue,ue,h),ue}(u,n,i);if(d>0){const h=function(v,S){const M=S.worldSize,A=Ol(1,0)*M*Lc(S.center.lat,S.zoom)/Tc(M),b=Ol(1,S.center.lat)*M,P=$e.mat4.identity([]);return $e.mat4.rotateY(P,P,it(S.center.lng)),$e.mat4.rotateX(P,P,it(S.center.lat)),$e.mat4.translate(P,P,[0,0,uc]),$e.mat4.scale(P,P,[A,A,A*b]),$e.mat4.translate(P,P,[S.point.x-.5*M,S.point.y-.5*M,0]),$e.mat4.multiply(P,P,v),$e.mat4.multiply(P,S.globeMatrix,P)}(u,n);return function(v,S,M){const A=(O,N,W)=>{const J=$e.vec3.length(O),se=$e.vec3.length(N),ue=Fl(O,N,W);return $e.vec3.scale(ue,ue,1/$e.vec3.length(ue)*Tt(J,se,W))},b=A([v[0],v[1],v[2]],[S[0],S[1],S[2]],M),P=A([v[4],v[5],v[6]],[S[4],S[5],S[6]],M),$=A([v[8],v[9],v[10]],[S[8],S[9],S[10]],M),T=Fl([v[12],v[13],v[14]],[S[12],S[13],S[14]],M);return[b[0],b[1],b[2],0,P[0],P[1],P[2],0,$[0],$[1],$[2],0,T[0],T[1],T[2],1]}(g,h,d)}return g}function M1(u,n,i,d){const g=Do.projectAabbCorners(d,i);let h=Number.MAX_VALUE,v=-1;for(let A=0;A<g.length;++A){const b=g[A];b[0]=(.5*b[0]+.5)*n.width,b[1]=(.5-.5*b[1])*n.height,b[2]<h&&(v=A,h=b[2])}const S=A=>new Rn(g[A][0],g[A][1]);let M;switch(v){case 0:case 6:M=[S(1),S(5),S(4),S(7),S(3),S(2),S(1)];break;case 1:case 7:M=[S(0),S(4),S(5),S(6),S(2),S(3),S(0)];break;case 3:case 5:M=[S(1),S(0),S(4),S(7),S(6),S(2),S(1)];break;default:M=[S(1),S(5),S(6),S(7),S(3),S(0),S(1)]}if(Se(u,M))return h}const FC=bs([{name:"a_pos_3f",components:3,type:"Float32"}]),kC=bs([{name:"a_color_3f",components:3,type:"Float32"}]),jC=bs([{name:"a_color_4f",components:4,type:"Float32"}]),Lp=bs([{name:"a_uv_2f",components:2,type:"Float32"}]),V0=bs([{name:"a_normal_3f",components:3,type:"Float32"}]),ZC=bs([{name:"a_normal_matrix0",components:4,type:"Float32"},{name:"a_normal_matrix1",components:4,type:"Float32"},{name:"a_normal_matrix2",components:4,type:"Float32"},{name:"a_normal_matrix3",components:4,type:"Float32"}]),P1=bs([{name:"a_pbr",components:4,type:"Uint16"},{name:"a_heightBasedEmissiveStrength",components:3,type:"Float32"}]),O1={None:0,Model:1,Symbol:2,FillExtrusion:4,All:7};class bg{constructor(n,i,d,g){this.message=(n?`${n}: `:"")+d,g&&(this.identifier=g),i!=null&&i.__line__&&(this.line=i.__line__)}}function R1(u,n){const i=u.indexOf("://")===-1;try{return new URL(u,i&&n?"http://example.com":void 0),!0}catch(d){return!1}}class $1{constructor(n,i){this.feature=n,this.instancedDataOffset=i,this.instancedDataCount=0,this.rotation=[0,0,0],this.scale=[1,1,1],this.translation=[0,0,0]}}class A1{constructor(){this.instancedDataArray=new xf,this.instancesEvaluatedElevation=[],this.features=[],this.idToFeaturesIndex={}}}class Zy{constructor(n){this.zoom=n.zoom,this.canonical=n.canonical,this.layers=n.layers,this.layerIds=this.layers.map(i=>i.fqid),this.projection=n.projection,this.index=n.index,this.hasZoomDependentProperties=this.layers[0].isZoomDependent(),this.stateDependentLayerIds=this.layers.filter(i=>i.isStateDependent()).map(i=>i.id),this.hasPattern=!1,this.instancesPerModel={},this.validForExaggeration=0,this.maxVerticalOffset=0,this.maxScale=0,this.maxHeight=0,this.lookupDim=this.zoom>this.canonical.z?256:this.zoom>15?75:100,this.instanceCount=0,this.terrainElevationMin=0,this.terrainElevationMax=0,this.validForDEMTile={id:null,timestamp:0},this.modelUris=[],this.modelsRequested=!1,this.activeReplacements=[],this.replacementUpdateTime=0}updateFootprints(n,i){}populate(n,i,d,g){this.tileToMeter=r(d);const h=this.layers[0]._featureFilter.needGeometry;this.lookup=new Uint8Array(this.lookupDim*this.lookupDim);for(const{feature:v,id:S,index:M,sourceLayerIndex:A}of n){const b=S!=null?S:v.properties&&v.properties.hasOwnProperty("id")?v.properties.id:void 0,P=Q(v,h);if(!this.layers[0]._featureFilter.filter(new Ws(this.zoom),P,d))continue;const $={id:b,sourceLayerIndex:A,index:M,geometry:h?P.geometry:U(v,d,g),properties:v.properties,type:v.type,patterns:{}},T=this.addFeature($,$.geometry,P);T&&i.featureIndex.insert(v,$.geometry,M,A,this.index,this.instancesPerModel[T].instancedDataArray.length,Bi/32)}this.lookup=null}update(n,i,d,g){for(const h in this.instancesPerModel){const v=this.instancesPerModel[h];for(const S in n)v.idToFeaturesIndex.hasOwnProperty(S)&&(this.evaluate(v.features[v.idToFeaturesIndex[S]],n[S],v,!0),this.uploaded=!1)}this.maxHeight=0}updateZoomBasedPaintProperties(){if(!this.hasZoomDependentProperties)return!1;let n=!1;for(const i in this.instancesPerModel){const d=this.instancesPerModel[i];for(const g of d.features){const h=this.layers[0],v=g.feature,S=this.canonical,M=h.paint.get("model-rotation").evaluate(v,{},S),A=h.paint.get("model-scale").evaluate(v,{},S),b=h.paint.get("model-translation").evaluate(v,{},S);$e.vec3.exactEquals(g.rotation,M)&&$e.vec3.exactEquals(g.scale,A)&&$e.vec3.exactEquals(g.translation,b)||(this.evaluate(g,g.featureStates,d,!0),n=!0)}}return n}updateReplacement(n,i,d,g){if(i.updateTime===this.replacementUpdateTime)return!1;this.replacementUpdateTime=i.updateTime;const h=i.getReplacementRegionsForTile(n.toUnwrapped(),!0);if(ty(this.activeReplacements,h))return!1;this.activeReplacements=h;let v=!1;for(const S in this.instancesPerModel){const M=this.instancesPerModel[S],A=M.instancedDataArray;for(const b of M.features){const P=b.instancedDataOffset,$=b.instancedDataCount;for(let T=0;T<$;T++){const O=16*(T+P);let N=A.float32[O+0];const W=N>Bi;N=W?N-Bi:N;const J=Math.floor(N),se=A.float32[O+1];let ue=!1;for(const re of this.activeReplacements)if(!y0(re,d,O1.Model,g)&&!(re.min.x>J||J>re.max.x||re.min.y>se||se>re.max.y)&&(ue=yb(vb(J,se,n.canonical,re.footprintTileId.canonical),re.footprint),ue))break;A.float32[O]=ue?N+Bi:N,v=v||ue!==W}}}return v}isEmpty(){for(const n in this.instancesPerModel)if(this.instancesPerModel[n].instancedDataArray.length!==0)return!1;return!0}uploadPending(){return!this.uploaded}upload(n){if(!this.uploaded)for(const i in this.instancesPerModel){const d=this.instancesPerModel[i];d.instancedDataArray.length<0||d.instancedDataArray.length===0||(d.instancedDataBuffer?d.instancedDataBuffer.updateData(d.instancedDataArray):d.instancedDataBuffer=n.createVertexBuffer(d.instancedDataArray,ZC.members,!0,void 0,this.instanceCount))}this.uploaded=!0}destroy(){for(const i in this.instancesPerModel){const d=this.instancesPerModel[i];d.instancedDataArray.length!==0&&d.instancedDataBuffer&&d.instancedDataBuffer.destroy()}const n=this.layers[0].modelManager;if(n&&this.modelUris)for(const i of this.modelUris)n.removeModel(i,"")}addFeature(n,i,d){const g=this.layers[0],h=g.layout.get("model-id").evaluate(d,{},this.canonical);if(!h)return Un(`modelId is not evaluated for layer ${g.id} and it is not going to get rendered.`),h;R1(h,!1)&&(this.modelUris.includes(h)||this.modelUris.push(h)),this.instancesPerModel[h]||(this.instancesPerModel[h]=new A1);const v=this.instancesPerModel[h],S=v.instancedDataArray,M=new $1(d,S.length);for(const A of i)for(const b of A){if(b.x<0||b.x>=Bi||b.y<0||b.y>=Bi)continue;const P=(this.lookupDim-1)/Bi,$=this.lookupDim*(b.y*P|0)+b.x*P|0;if(this.lookup){if(this.lookup[$]!==0)continue;this.lookup[$]=1}this.instanceCount++;const T=S.length;S.resize(T+1),v.instancesEvaluatedElevation.push(0),S.float32[16*T]=b.x,S.float32[16*T+1]=b.y}return M.instancedDataCount=v.instancedDataArray.length-M.instancedDataOffset,M.instancedDataCount>0&&(n.id&&(v.idToFeaturesIndex[n.id]=v.features.length),v.features.push(M),this.evaluate(M,{},v,!1)),h}getModelUris(){return this.modelUris}evaluate(n,i,d,g){const h=this.layers[0],v=n.feature,S=this.canonical,M=n.rotation=h.paint.get("model-rotation").evaluate(v,i,S),A=n.scale=h.paint.get("model-scale").evaluate(v,i,S),b=n.translation=h.paint.get("model-translation").evaluate(v,i,S),P=h.paint.get("model-color").evaluate(v,i,S);P.a=h.paint.get("model-color-mix-intensity").evaluate(v,i,S);const $=[];this.maxVerticalOffset<b[2]&&(this.maxVerticalOffset=b[2]),this.maxScale=Math.max(Math.max(this.maxScale,A[0]),Math.max(A[1],A[2])),T1($,M,A);const T=Math.round(100*P.a)+P.b/1.05;for(let O=0;O<n.instancedDataCount;++O){const N=n.instancedDataOffset+O,W=16*N,J=d.instancedDataArray.float32;let se=0;g&&(se=J[W+6]-d.instancesEvaluatedElevation[N]);const ue=0|J[W+1];J[W]=(0|J[W])+P.r/1.05,J[W+1]=ue+P.g/1.05,J[W+2]=T,J[W+3]=1/(S.z>10?this.tileToMeter:r(S,ue)),J[W+4]=b[0],J[W+5]=b[1],J[W+6]=b[2]+se,J[W+7]=$[0],J[W+8]=$[1],J[W+9]=$[2],J[W+10]=$[4],J[W+11]=$[5],J[W+12]=$[6],J[W+13]=$[8],J[W+14]=$[9],J[W+15]=$[10],d.instancesEvaluatedElevation[N]=b[2]}}}let D1,L1;_o(Zy,"ModelBucket",{omit:["layers"]}),_o(A1,"PerModelAttributes"),_o($1,"ModelFeature");const Ah=64,zp={CoordinateSpaceTile:1,CoordinateSpaceYUp:2,HasMapboxMeshFeatures:4,HasMeshoptCompression:8};function z1(u,n,i,d,g,h,v,S,M,A=!1){const b=i.zoom,P=i.project(d),$=Lc(d.lat,b),T=1/$;$e.mat4.identity(u),$e.mat4.translate(u,u,[P.x+v[0]*T,P.y+v[1]*T,v[2]]);let O=1,N=1;const W=i.worldSize;if(A){if(i.projection.name==="mercator"){let re=0;i.elevation&&(re=i.elevation.getAtPointOrZero(new l(P.x/W,P.y/W),0));const ve=$e.vec4.transformMat4([],[P.x,P.y,re,1],i.projMatrix)[3]/i.cameraToCenterDistance;O=ve,N=ve*Lc(i.center.lat,b)}else if(i.projection.name==="globe"){const re=jy(u,i),ve=$e.mat4.multiply([],i.projMatrix,re),we=[0,0,0,1];$e.vec4.transformMat4(we,we,ve);const Ne=we[3]/i.cameraToCenterDistance,ht=Mc(b),ft=i.projection.pixelsPerMeter(d.lat,W)*Lc(d.lat,b),at=i.projection.pixelsPerMeter(i.center.lat,W)*Lc(i.center.lat,b);O=Ne/Tt(ft,Dm(i.center.lat),ht),N=Ne*$/ft,O*=at,N*=at}}else O=T;$e.mat4.scale(u,u,[O,O,N]);const J=[...u],se=n.orientation,ue=[];if(T1(ue,[se[0]+g[0],se[1]+g[1],se[2]+g[2]],h),$e.mat4.multiply(u,J,ue),S&&i.elevation){let re=0;const ve=[];if(M&&i.elevation){re=function(ht,ft,at,Gt,vt){const en=ft.elevation;if(!en)return 0;const mn=Do.projectAabbCorners(at,Gt),un=Ol(1,vt.lat)*ft.worldSize,yn=function(To,Qi){const ho=[0,0,1],da=[{corners:[0,1,3,2],dotProductWithUp:0},{corners:[1,5,2,6],dotProductWithUp:0},{corners:[0,4,1,5],dotProductWithUp:0},{corners:[2,6,3,7],dotProductWithUp:0},{corners:[4,7,5,6],dotProductWithUp:0},{corners:[0,3,4,7],dotProductWithUp:0}];for(const za of da){const Ba=To[za.corners[0]],Fa=To[za.corners[1]],Ja=To[za.corners[2]],Qa=[Fa[0]-Ba[0],Fa[1]-Ba[1],Qi*(Fa[2]-Ba[2])],js=$e.vec3.cross(Qa,Qa,[Ja[0]-Ba[0],Ja[1]-Ba[1],Qi*(Ja[2]-Ba[2])]);$e.vec3.normalize(js,js),za.dotProductWithUp=$e.vec3.dot(js,ho)}return da.sort((za,Ba)=>za.dotProductWithUp-Ba.dotProductWithUp),da[0].corners}(mn,un),zn=mn[yn[0]],Gn=mn[yn[1]],Mn=mn[yn[2]],$r=mn[yn[3]],ii=en.getAtPointOrZero(new l(zn[0]/ft.worldSize,zn[1]/ft.worldSize),0),Or=en.getAtPointOrZero(new l(Gn[0]/ft.worldSize,Gn[1]/ft.worldSize),0),Xi=en.getAtPointOrZero(new l(Mn[0]/ft.worldSize,Mn[1]/ft.worldSize),0),Fi=en.getAtPointOrZero(new l($r[0]/ft.worldSize,$r[1]/ft.worldSize),0),xi=(ii+Fi)/2,ni=(Or+Xi)/2;return xi>ni?Or<Xi?_g(ht,Gn,$r,zn,Or,Fi,ii,un):_g(ht,Mn,zn,$r,Xi,ii,Fi,un):ii<Fi?_g(ht,zn,Gn,Mn,ii,Or,Xi,un):_g(ht,$r,Mn,Gn,Fi,Xi,Or,un),Math.max(xi,ni)}(ve,i,n.aabb,u,d);const we=$e.mat4.fromQuat([],ve),Ne=$e.mat4.multiply([],we,ue);$e.mat4.multiply(u,J,Ne)}else re=i.elevation.getAtPointOrZero(new l(P.x/W,P.y/W),0);re!==0&&(u[14]+=re)}}function Np(u,n,i=!1){u.uploaded||(u.gfxTexture=new Ay(n,u.image,i?n.gl.R8:n.gl.RGBA8,{useMipmap:u.sampler.minFilter>=n.gl.NEAREST_MIPMAP_NEAREST}),u.uploaded=!0,u.image=null)}function VC(u,n,i){u.indexBuffer=n.createIndexBuffer(u.indexArray,!1,!0),u.vertexBuffer=n.createVertexBuffer(u.vertexArray,FC.members,!1,!0),u.normalArray&&(u.normalBuffer=n.createVertexBuffer(u.normalArray,V0.members,!1,!0)),u.texcoordArray&&(u.texcoordBuffer=n.createVertexBuffer(u.texcoordArray,Lp.members,!1,!0)),u.colorArray&&(u.colorBuffer=n.createVertexBuffer(u.colorArray,(u.colorArray.bytesPerElement===12?kC:jC).members,!1,!0)),u.featureArray&&(u.pbrBuffer=n.createVertexBuffer(u.featureArray,P1.members,!0)),u.segments=cl.simpleSegment(0,0,u.vertexArray.length,u.indexArray.length);const d=u.material;d.pbrMetallicRoughness.baseColorTexture&&Np(d.pbrMetallicRoughness.baseColorTexture,n),d.pbrMetallicRoughness.metallicRoughnessTexture&&Np(d.pbrMetallicRoughness.metallicRoughnessTexture,n),d.normalTexture&&Np(d.normalTexture,n),d.occlusionTexture&&Np(d.occlusionTexture,n,i),d.emissionTexture&&Np(d.emissionTexture,n)}function Vy(u,n,i){if(u.meshes)for(const d of u.meshes)VC(d,n,i);if(u.children)for(const d of u.children)Vy(d,n,i)}function H0(u){if(u.meshes)for(const n of u.meshes)n.indexArray.destroy(),n.vertexArray.destroy(),n.colorArray&&n.colorArray.destroy(),n.normalArray&&n.normalArray.destroy(),n.texcoordArray&&n.texcoordArray.destroy(),n.featureArray&&n.featureArray.destroy();if(u.children)for(const n of u.children)H0(n)}function Hy(u){if(u.meshes)for(const i of u.meshes)i.vertexBuffer&&(i.vertexBuffer.destroy(),i.indexBuffer.destroy(),i.normalBuffer&&i.normalBuffer.destroy(),i.texcoordBuffer&&i.texcoordBuffer.destroy(),i.colorBuffer&&i.colorBuffer.destroy(),i.pbrBuffer&&i.pbrBuffer.destroy(),i.segments.destroy(),i.material&&((n=i.material).pbrMetallicRoughness.baseColorTexture&&n.pbrMetallicRoughness.baseColorTexture.gfxTexture&&n.pbrMetallicRoughness.baseColorTexture.gfxTexture.destroy(),n.pbrMetallicRoughness.metallicRoughnessTexture&&n.pbrMetallicRoughness.metallicRoughnessTexture.gfxTexture&&n.pbrMetallicRoughness.metallicRoughnessTexture.gfxTexture.destroy(),n.normalTexture&&n.normalTexture.gfxTexture&&n.normalTexture.gfxTexture.destroy(),n.emissionTexture&&n.emissionTexture.gfxTexture&&n.emissionTexture.gfxTexture.destroy(),n.occlusionTexture&&n.occlusionTexture.gfxTexture&&n.occlusionTexture.gfxTexture.destroy()));var n;if(u.children)for(const i of u.children)Hy(i)}class Bp{constructor(n,i,d){this._demTile=n,this._dem=this._demTile.dem,this._scale=i,this._offset=d}static create(n,i,d){const g=d||n.findDEMTileFor(i);if(!g||!g.dem)return;const h=g.dem,v=g.tileID,S=1<<i.canonical.z-v.canonical.z;return new Bp(g,h.dim/Bi/S,[(i.canonical.x/S-v.canonical.x)*h.dim,(i.canonical.y/S-v.canonical.y)*h.dim])}tileCoordToPixel(n,i){const d=i*this._scale+this._offset[1],g=Math.floor(n*this._scale+this._offset[0]),h=Math.floor(d);return new Rn(g,h)}getElevationAt(n,i,d,g){const h=n*this._scale+this._offset[0],v=i*this._scale+this._offset[1],S=Math.floor(h),M=Math.floor(v),A=this._dem;return g=!!g,d?Tt(Tt(A.get(S,M,g),A.get(S,M+1,g),v-M),Tt(A.get(S+1,M,g),A.get(S+1,M+1,g),v-M),h-S):A.get(S,M,g)}getElevationAtPixel(n,i,d){return this._dem.get(n,i,!!d)}getMeterToDEM(n){return(1<<this._demTile.tileID.canonical.z)*Ol(1,n)*this._dem.stride}}const Uy=new Float32Array(262144),Dh=new Uint8Array(262144);function N1(u){let n=0;if(u.meshes)for(const i of u.meshes)n=Math.max(n,i.aabb.max[2]);if(u.children)for(const i of u.children)n=Math.max(n,N1(i));return n}function HC(u,n,i){if(u.meshes)for(const d of u.meshes){if(d.aabb.min[0]===1/0)continue;const g=Do.applyTransform(d.aabb,u.matrix);i.insert(n,g.min[0],g.min[1],g.max[0],g.max[1])}if(u.children)for(const d of u.children)HC(d,n,i)}const B1=["","wall","door","roof","window","lamp","logo"];class F1{constructor(n){this.node=n,this.evaluatedRMEA=[[1,0,0,1],[1,0,0,1],[1,0,0,1],[1,0,0,1],[.4,1,0,1],[1,0,0,1],[1,0,0,1]],this.hiddenByReplacement=!1,this.evaluatedScale=[1,1,1],this.evaluatedColor=[],this.emissionHeightBasedParams=[],this.cameraCollisionOpacity=1,this.feature={type:"Point",id:n.id,geometry:[],properties:{height:N1(n)}},this.aabb=this._getLocalBounds(),this.state=null}_getLocalBounds(){if(!this.node.meshes)return new Do([1/0,1/0,1/0],[-1/0,-1/0,-1/0]);if(!this.aabb){let n=0;const i=new Do([1/0,1/0,1/0],[-1/0,-1/0,-1/0]);for(const d of this.node.meshes)this.node.lightMeshIndex!==n&&(d.transformedAabb=Do.applyTransformFast(d.aabb,this.node.matrix),i.encapsulate(d.transformedAabb)),n++;this.aabb=i}return this.aabb}}class U0{constructor(n,i,d,g,h,v,S){this.id=d,this.layers=n,this.layerIds=this.layers.map(M=>M.fqid),this.stateDependentLayerIds=this.layers.filter(M=>M.isStateDependent()).map(M=>M.id),this.modelTraits|=zp.CoordinateSpaceTile,this.uploaded=!1,this.hasPattern=!1,g&&(this.modelTraits|=zp.HasMapboxMeshFeatures),h&&(this.modelTraits|=zp.HasMeshoptCompression),this.zoom=-1,this.terrainExaggeration=1,this.projection={name:"mercator"},this.replacementUpdateTime=0,this.elevationReadFromZ=255,this.brightness=v,this.dirty=!0,this.needsUpload=!1,this.nodesInfo=[];for(const M of i)this.nodesInfo.push(new F1(M)),HC(M,S.featureIndexArray.length,S.grid),S.featureIndexArray.emplaceBack(this.nodesInfo.length-1,0,S.bucketLayerIDs.length-1,0);this.states={}}updateFootprints(n,i){for(const d of this.getNodesInfo()){const g=d.node;g.footprint&&i.push({footprint:g.footprint,id:n})}}update(n){const i=Object.keys(n).length!==0;if(i&&!this.stateDependentLayers.length)return;const d=i?this.stateDependentLayers:this.layers;if(!Wr(n,this.states))for(const g of d)this.evaluate(g,n);this.states=structuredClone(n)}populate(){console.log("populate 3D model bucket")}uploadPending(){return!this.uploaded||this.needsUpload}upload(n){if(!this.needsUpload)return;const i=this.getNodesInfo();for(const d of i){const g=d.node;this.uploaded?this.updatePbrBuffer(g):Vy(g,n,!0)}for(const d of i)H0(d.node);this.uploaded=!0,this.needsUpload=!1}updatePbrBuffer(n){let i=!1;if(!n.meshes)return i;for(const d of n.meshes)d.pbrBuffer&&(d.pbrBuffer.updateData(d.featureArray),i=!0);return i}needsReEvaluation(n,i,d){const g=n.transform.projectionOptions,h=n.style.getBrightness(),v=this.brightness!==h;if(!this.uploaded||this.dirty||g.name!==this.projection.name||xg(d.paint.get("model-color").value,v)||xg(d.paint.get("model-color-mix-intensity").value,v)||xg(d.paint.get("model-roughness").value,v)||xg(d.paint.get("model-emissive-strength").value,v)||xg(d.paint.get("model-height-based-emissive-strength-multiplier").value,v)){this.projection=g,this.brightness=h;const S=this.getNodesInfo();for(const M of S)M.state=null;return!0}return!1}evaluateScale(n,i){if(n.transform.zoom===this.zoom)return;this.zoom=n.transform.zoom;const d=this.getNodesInfo(),g=this.id.canonical;for(const h of d){const v=h.feature;h.evaluatedScale=i.paint.get("model-scale").evaluate(v,{},g)}}evaluate(n,i){const d=this.getNodesInfo();for(const g of d){if(!g.node.meshes)continue;const h=g.feature,v=i&&i[h.id];if(Wr(v,g.state))continue;g.state=structuredClone(v);const S=g.node.meshes&&g.node.meshes[0].featureData,M=g.evaluatedColor[2],A=g.evaluatedRMEA[2],b=this.id.canonical;if(g.hasTranslucentParts=!1,S){for(let P=0;P<B1.length;P++){const $=B1[P];$.length&&(h.properties.part=$);const T=n.paint.get("model-color").evaluate(h,v,b).toRenderColor(null),O=n.paint.get("model-color-mix-intensity").evaluate(h,v,b);g.evaluatedColor[P]=[T.r,T.g,T.b,O],g.evaluatedRMEA[P][0]=n.paint.get("model-roughness").evaluate(h,v,b),g.evaluatedRMEA[P][2]=n.paint.get("model-emissive-strength").evaluate(h,v,b),g.evaluatedRMEA[P][3]=T.a,g.emissionHeightBasedParams[P]=n.paint.get("model-height-based-emissive-strength-multiplier").evaluate(h,v,b),!g.hasTranslucentParts&&T.a<1&&(g.hasTranslucentParts=!0)}delete h.properties.part,WC(g,M!==g.evaluatedColor[2]||A!==g.evaluatedRMEA[2],this.modelTraits)}else g.evaluatedRMEA[0][2]=n.paint.get("model-emissive-strength").evaluate(h,v,b);g.evaluatedScale=n.paint.get("model-scale").evaluate(h,v,b),this.updatePbrBuffer(g.node)||(this.needsUpload=!0)}this.dirty=!1}elevationUpdate(n,i,d,g){const h=n.findDEMTileFor(d);if(h&&(h.tileID.canonical!==this.terrainTile||i!==this.terrainExaggeration)){if(h.dem&&h.tileID.overscaledZ!==this.elevationReadFromZ){this.elevationReadFromZ=h.tileID.overscaledZ;const v=Bp.create(n,d,h);if(!v)return;this.modelTraits&zp.HasMapboxMeshFeatures&&this.updateDEM(n,v,d,g);for(const S of this.getNodesInfo()){const M=S.node;if(!M.footprint||!M.footprint.vertices||!M.footprint.vertices.length)continue;const A=M.footprint.vertices;let b=v.getElevationAt(A[0].x,A[0].y,!0,!0);for(let P=1;P<A.length;P++)b=Math.min(b,v.getElevationAt(A[P].x,A[P].y,!0,!0));M.elevation=b}}this.terrainTile=h.tileID.canonical,this.terrainExaggeration=i}}updateDEM(n,i,d,g){let h=i._dem._modifiedForSources[g];if(h===void 0&&(i._dem._modifiedForSources[g]=[],h=i._dem._modifiedForSources[g]),h.includes(d.canonical))return;const v=i._dem.dim;h.push(d.canonical);let S=!1;for(const M of this.getNodesInfo()){const A=M.node;if(!A.footprint||!A.footprint.grid)continue;const b=A.footprint.grid,P=i.tileCoordToPixel(b.min.x,b.min.y),$=i.tileCoordToPixel(b.max.x,b.max.y),T=Math.min(Math.min(v-$.y,P.x),Math.min(P.y,v-$.x));if(T<0)continue;const O=Vn(T,2,5);let N=Math.max(0,P.x-O),W=Math.max(0,P.y-O),J=Math.min($.x+O,v-1),se=Math.min($.y+O,v-1);for(let we=W;we<=se;++we)for(let Ne=N;Ne<=J;++Ne)Dh[we*v+Ne]=255;let ue=0,re=0;for(let we=0;we<b.cellsY;++we)for(let Ne=0;Ne<b.cellsX;++Ne){if(!b.cells[we*b.cellsX+Ne])continue;const ht=i.tileCoordToPixel(b.min.x+Ne/b.xScale,b.min.y+we/b.yScale),ft=i.tileCoordToPixel(b.min.x+(Ne+1)/b.xScale,b.min.y+(we+1)/b.yScale);for(let at=ht.y;at<=Math.min(ft.y+1,v-1);++at)for(let Gt=ht.x;Gt<=Math.min(ft.x+1,v-1);++Gt)Dh[at*v+Gt]===255&&(Dh[at*v+Gt]=0,ue+=i.getElevationAtPixel(Gt,at),re++)}const ve=ue/re;N=Math.max(1,P.x-O),W=Math.max(1,P.y-O),J=Math.min($.x+O,v-2),se=Math.min($.y+O,v-2),S=!0;for(let we=W;we<=se;++we)for(let Ne=N;Ne<=J;++Ne)Dh[we*v+Ne]===0&&(Uy[we*v+Ne]=i._dem.set(Ne,we,ve));for(let we=1;we<O;++we){N=Math.max(1,P.x-we),W=Math.max(1,P.y-we),J=Math.min($.x+we,v-2),se=Math.min($.y+we,v-2);for(let Ne=W;Ne<=se;++Ne)for(let ht=N;ht<=J;++ht){const ft=Ne*v+ht;if(Dh[ft]===255){let at=0,Gt=0,vt=-1,en=-1;for(let mn=-1;mn<=1;++mn)for(let un=-1;un<=1;++un){const yn=(Ne+mn)*v+ht+un;if(Dh[yn]>=we)continue;const zn=Uy[yn],Gn=Math.abs(zn);Gn>Gt&&(at=zn,Gt=Gn,vt=un,en=mn)}if(Gt>.1){const mn=1-(we+.5*Math.abs(vt*en))/O;let un=i._dem.get(ht,Ne)+at*mn;const yn=i._dem.get(ht+vt,Ne+en),zn=i._dem.get(ht-vt,Ne-en,!0);(un-yn)*(un-zn)>0&&(un=(yn+zn)/2),Uy[ft]=i._dem.set(ht,Ne,un),Dh[ft]=we}}}}}S&&(i._demTile.needsDEMTextureUpload=!0,i._dem._timestamp=pe.now())}getNodesInfo(){return this.nodesInfo}destroy(){const n=this.getNodesInfo();for(const i of n)H0(i.node),Hy(i.node)}isEmpty(){return!this.nodesInfo.length}updateReplacement(n,i){if(i.updateTime===this.replacementUpdateTime)return;this.replacementUpdateTime=i.updateTime;const d=i.getReplacementRegionsForTile(n.toUnwrapped()),g=this.getNodesInfo();for(let h=0;h<this.nodesInfo.length;h++){const v=g[h].node;g[h].hiddenByReplacement=!!v.footprint&&!d.find(S=>S.footprint===v.footprint)}}getHeightAtTileCoord(n,i){const d=this.getNodesInfo(),g=[],h=[0,0,0],v=$e.mat4.identity([]);for(let S=0;S<this.nodesInfo.length;S++){const M=d[S],A=M.node.meshes[0],b=A.transformedAabb;if(n<b.min[0]||i<b.min[1]||n>b.max[0]||i>b.max[1])continue;if(M.node.hidden===!0)return{height:1/0,maxHeight:M.feature.properties.height,hidden:!1,verticalScale:M.evaluatedScale[2]};$e.mat4.invert(v,M.node.matrix),h[0]=n,h[1]=i,$e.vec3.transformMat4(h,h,v);const P=(h[0]-A.aabb.min[0])/(A.aabb.max[0]-A.aabb.min[0])*Ah|0,$=Math.min(63,(h[1]-A.aabb.min[1])/(A.aabb.max[1]-A.aabb.min[1])*Ah|0)*Ah+Math.min(63,P),T=A.heightmap[$];if(!(T<0&&M.node.footprint))return M.hiddenByReplacement?void 0:{height:T,maxHeight:M.feature.properties.height,hidden:!1,verticalScale:M.evaluatedScale[2]};if(M.node.footprint.grid.query(new Rn(n,i),new Rn(n,i),g),g.length>0)return{height:void 0,maxHeight:M.feature.properties.height,hidden:M.hiddenByReplacement,verticalScale:M.evaluatedScale[2]}}}}function xg(u,n){return!u.isLightConstant&&n}function UC(u,n,i,d,g,h,v,S){let M=(61440&n|(61440&n)>>4)>>8,A=(3840&n|(3840&n)>>4)>>4,b=240&n|(240&n)>>4;i[3]>0&&(M=Tt(M,255*i[0],i[3]),A=Tt(A,255*i[1],i[3]),b=Tt(b,255*i[2],i[3]));const P=M<<8|A,$=b<<8|Math.floor(255*d[3]),T=function(we){const Ne=Vn(we,0,2);return Math.min(Math.round(.5*Ne*255),255)}(d[2])<<8|15*d[0]<<4|15*d[1],O=Vn(g[0],0,1),N=Vn(g[1],0,1),W=Vn(g[2],0,1),J=Vn(g[3],0,1);let se,ue,re,ve;if(O!==N&&v!==h&&N!==O){const we=v-h;ue=1/(we*(N-O)),re=-(h+we*O)/(we*(N-O));const Ne=Vn(g[4],-1,1);ve=Math.pow(10,Ne),se=255*W<<8|255*J}else se=65535,ue=0,re=1,ve=1;if(u.emplaceBack(P,$,T,se,ue,re,ve),S){const we=S.length;S.clear();for(let Ne=0;Ne<we;Ne++)S.emplaceBack(P,$,T,se,ue,re,ve)}}function WC(u,n,i){const d=u.node;let g=0;const h=i&zp.HasMeshoptCompression;for(const v of d.meshes){if(d.lights&&d.lightMeshIndex===g||!v.featureData)continue;v.featureArray=new Hd,v.featureArray.reserve(v.featureData.length);let S=n;for(const M of v.featureData){const A=h?65535&M:M>>16&65535,b=h?M>>16&65535:65535&M,P=(15&b)<8?15&b:0,$=u.evaluatedRMEA[P],T=u.evaluatedColor[P],O=u.emissionHeightBasedParams[P];let N;if(S&&P===2&&d.lights&&(N=new Hd,N.resize(10*d.lights.length)),UC(v.featureArray,A,T,$,O,v.aabb.min[2],v.aabb.max[2],N),N&&S){S=!1;const W=d.meshes[d.lightMeshIndex];W.featureArray=N,W.featureArray._trim()}}v.featureArray._trim(),g++}}function k1(u,n,i,d){const g=1<<u.z;n.lat=dc((d/Bi+u.y)/g),n.lng=Bc((i/Bi+u.x)/g)}_o(U0,"Tiled3dModelBucket",{omit:["layers"]}),_o(F1,"Tiled3dModelFeature");const GC={circle:class extends zl{constructor(u,n,i,d){super(u,{layout:oi||(oi=new nl({"circle-sort-key":new so(er.layout_circle["circle-sort-key"]),"circle-elevation-reference":new Mi(er.layout_circle["circle-elevation-reference"]),visibility:new Mi(er.layout_circle.visibility)})),paint:jn||(jn=new nl({"circle-radius":new so(er.paint_circle["circle-radius"]),"circle-color":new so(er.paint_circle["circle-color"]),"circle-blur":new so(er.paint_circle["circle-blur"]),"circle-opacity":new so(er.paint_circle["circle-opacity"]),"circle-translate":new Mi(er.paint_circle["circle-translate"]),"circle-translate-anchor":new Mi(er.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new Mi(er.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new Mi(er.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new so(er.paint_circle["circle-stroke-width"]),"circle-stroke-color":new so(er.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new so(er.paint_circle["circle-stroke-opacity"]),"circle-emissive-strength":new Mi(er.paint_circle["circle-emissive-strength"]),"circle-color-use-theme":new so({type:"string",default:"default","property-type":"data-driven"}),"circle-stroke-color-use-theme":new so({type:"string",default:"default","property-type":"data-driven"})}))},n,i,d)}createBucket(u){return new Me(u)}queryRadius(u){const n=u;return Br("circle-radius",this,n)+Br("circle-stroke-width",this,n)+Ar(this.paint.get("circle-translate"))}queryIntersectsFeature(u,n,i,d,g,h,v,S){const M=vr(this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),h.angle,u.pixelToTileUnitsFactor),A=this.paint.get("circle-radius").evaluate(n,i)+this.paint.get("circle-stroke-width").evaluate(n,i);return wp(u,d,h,v,S,this.paint.get("circle-pitch-alignment")==="map",this.paint.get("circle-pitch-scale")==="map",M,A)}getProgramIds(){return["circle"]}getDefaultProgramParams(u,n,i){const d=_d(this);return{config:new $u(this,{zoom:n,lut:i}),defines:d,overrideFog:!1}}},heatmap:class extends zl{createBucket(u){return new Nv(u)}constructor(u,n,i,d){super(u,{layout:W_||(W_=new nl({visibility:new Mi(er.layout_heatmap.visibility)})),paint:Bv||(Bv=new nl({"heatmap-radius":new so(er.paint_heatmap["heatmap-radius"]),"heatmap-weight":new so(er.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new Mi(er.paint_heatmap["heatmap-intensity"]),"heatmap-color":new kd(er.paint_heatmap["heatmap-color"]),"heatmap-opacity":new Mi(er.paint_heatmap["heatmap-opacity"]),"heatmap-color-use-theme":new so({type:"string",default:"default","property-type":"data-driven"})}))},n,i,d),this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(u){u==="heatmap-color"&&this._updateColorRamp()}_updateColorRamp(){this.colorRamp=Nm({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null}resize(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)}queryRadius(u){return Br("heatmap-radius",this,u)}queryIntersectsFeature(u,n,i,d,g,h,v,S){const M=this.paint.get("heatmap-radius").evaluate(n,i);return wp(u,d,h,v,S,!0,!0,new Rn(0,0),M)}hasOffscreenPass(){return this.paint.get("heatmap-opacity")!==0&&this.visibility!=="none"}getProgramIds(){return["heatmap","heatmapTexture"]}getDefaultProgramParams(u,n,i){return u==="heatmap"?{config:new $u(this,{zoom:n,lut:i}),overrideFog:!1}:{}}},hillshade:class extends zl{constructor(u,n,i,d){super(u,{layout:Fv||(Fv=new nl({visibility:new Mi(er.layout_hillshade.visibility)})),paint:kv||(kv=new nl({"hillshade-illumination-direction":new Mi(er.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new Mi(er.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new Mi(er.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new Mi(er.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new Mi(er.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new Mi(er.paint_hillshade["hillshade-accent-color"]),"hillshade-emissive-strength":new Mi(er.paint_hillshade["hillshade-emissive-strength"]),"hillshade-shadow-color-use-theme":new so({type:"string",default:"default","property-type":"data-driven"}),"hillshade-highlight-color-use-theme":new so({type:"string",default:"default","property-type":"data-driven"}),"hillshade-accent-color-use-theme":new so({type:"string",default:"default","property-type":"data-driven"})}))},n,i,d)}shouldRedrape(){return this.hasOffscreenPass()&&this.paint.get("hillshade-illumination-anchor")==="viewport"}hasOffscreenPass(){return this.paint.get("hillshade-exaggeration")!==0&&this.visibility!=="none"}getProgramIds(){return["hillshade","hillshadePrepare"]}getDefaultProgramParams(u,n,i){return{overrideFog:!1}}},fill:class extends zl{constructor(u,n,i,d){super(u,{layout:Gv||(Gv=new nl({"fill-sort-key":new so(er.layout_fill["fill-sort-key"]),visibility:new Mi(er.layout_fill.visibility),"fill-elevation-reference":new Mi(er.layout_fill["fill-elevation-reference"])})),paint:rb||(rb=new nl({"fill-antialias":new Mi(er.paint_fill["fill-antialias"]),"fill-opacity":new so(er.paint_fill["fill-opacity"]),"fill-color":new so(er.paint_fill["fill-color"]),"fill-outline-color":new so(er.paint_fill["fill-outline-color"]),"fill-translate":new Mi(er.paint_fill["fill-translate"]),"fill-translate-anchor":new Mi(er.paint_fill["fill-translate-anchor"]),"fill-pattern":new so(er.paint_fill["fill-pattern"]),"fill-emissive-strength":new Mi(er.paint_fill["fill-emissive-strength"]),"fill-z-offset":new so(er.paint_fill["fill-z-offset"]),"fill-color-use-theme":new so({type:"string",default:"default","property-type":"data-driven"}),"fill-outline-color-use-theme":new so({type:"string",default:"default","property-type":"data-driven"})}))},n,i,d)}getProgramIds(){const u=this.paint.get("fill-pattern"),n=u&&u.constantOr(1),i=[n?"fillPattern":"fill"];return this.paint.get("fill-antialias")&&i.push(n&&!this.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline"),i}getDefaultProgramParams(u,n,i){return{config:new $u(this,{zoom:n,lut:i}),overrideFog:!1}}recalculate(u,n){super.recalculate(u,n);const i=this.paint._values["fill-outline-color"];i.value.kind==="constant"&&i.value.value===void 0&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])}createBucket(u){return new f0(u)}queryRadius(){return Ar(this.paint.get("fill-translate"))}queryIntersectsFeature(u,n,i,d,g,h){return!u.queryGeometry.isAboveHorizon&&Ae(Zn(u.tilespaceGeometry,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),h.angle,u.pixelToTileUnitsFactor),d)}isTileClipped(){return!0}is3D(){return this.paint.get("fill-z-offset").constantOr(1)!==0}},"fill-extrusion":class extends zl{constructor(u,n,i,d){super(u,{layout:x0||(x0=new nl({visibility:new Mi(er["layout_fill-extrusion"].visibility),"fill-extrusion-edge-radius":new Mi(er["layout_fill-extrusion"]["fill-extrusion-edge-radius"])})),paint:Rf||(Rf=new nl({"fill-extrusion-opacity":new Mi(er["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new so(er["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new Mi(er["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new Mi(er["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new so(er["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new so(er["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new so(er["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-height-alignment":new Mi(er["paint_fill-extrusion"]["fill-extrusion-height-alignment"]),"fill-extrusion-base-alignment":new Mi(er["paint_fill-extrusion"]["fill-extrusion-base-alignment"]),"fill-extrusion-vertical-gradient":new Mi(er["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"]),"fill-extrusion-ambient-occlusion-intensity":new Mi(er["paint_fill-extrusion"]["fill-extrusion-ambient-occlusion-intensity"]),"fill-extrusion-ambient-occlusion-radius":new Mi(er["paint_fill-extrusion"]["fill-extrusion-ambient-occlusion-radius"]),"fill-extrusion-ambient-occlusion-wall-radius":new Mi(er["paint_fill-extrusion"]["fill-extrusion-ambient-occlusion-wall-radius"]),"fill-extrusion-ambient-occlusion-ground-radius":new Mi(er["paint_fill-extrusion"]["fill-extrusion-ambient-occlusion-ground-radius"]),"fill-extrusion-ambient-occlusion-ground-attenuation":new Mi(er["paint_fill-extrusion"]["fill-extrusion-ambient-occlusion-ground-attenuation"]),"fill-extrusion-flood-light-color":new Mi(er["paint_fill-extrusion"]["fill-extrusion-flood-light-color"]),"fill-extrusion-flood-light-intensity":new Mi(er["paint_fill-extrusion"]["fill-extrusion-flood-light-intensity"]),"fill-extrusion-flood-light-wall-radius":new so(er["paint_fill-extrusion"]["fill-extrusion-flood-light-wall-radius"]),"fill-extrusion-flood-light-ground-radius":new so(er["paint_fill-extrusion"]["fill-extrusion-flood-light-ground-radius"]),"fill-extrusion-flood-light-ground-attenuation":new Mi(er["paint_fill-extrusion"]["fill-extrusion-flood-light-ground-attenuation"]),"fill-extrusion-vertical-scale":new Mi(er["paint_fill-extrusion"]["fill-extrusion-vertical-scale"]),"fill-extrusion-rounded-roof":new Mi(er["paint_fill-extrusion"]["fill-extrusion-rounded-roof"]),"fill-extrusion-cutoff-fade-range":new Mi(er["paint_fill-extrusion"]["fill-extrusion-cutoff-fade-range"]),"fill-extrusion-emissive-strength":new so(er["paint_fill-extrusion"]["fill-extrusion-emissive-strength"]),"fill-extrusion-line-width":new so(er["paint_fill-extrusion"]["fill-extrusion-line-width"]),"fill-extrusion-cast-shadows":new Mi(er["paint_fill-extrusion"]["fill-extrusion-cast-shadows"]),"fill-extrusion-color-use-theme":new so({type:"string",default:"default","property-type":"data-driven"}),"fill-extrusion-flood-light-color-use-theme":new so({type:"string",default:"default","property-type":"data-driven"})}))},n,i,d),this._stats={numRenderedVerticesInShadowPass:0,numRenderedVerticesInTransparentPass:0}}createBucket(u){return new Km(u)}queryRadius(){return Ar(this.paint.get("fill-extrusion-translate"))}is3D(){return!0}hasShadowPass(){return this.paint.get("fill-extrusion-cast-shadows")}cutoffRange(){return this.paint.get("fill-extrusion-cutoff-fade-range")}canCastShadows(){return!0}getProgramIds(){return[this.paint.get("fill-extrusion-pattern").constantOr(1)?"fillExtrusionPattern":"fillExtrusion"]}queryIntersectsFeature(u,n,i,d,g,h,v,S,M){const A=vr(this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),h.angle,u.pixelToTileUnitsFactor),b=this.paint.get("fill-extrusion-height").evaluate(n,i),P=this.paint.get("fill-extrusion-base").evaluate(n,i),$=[0,0],T=S&&h.elevation,O=h.elevation?h.elevation.exaggeration():1,N=u.tile.getBucket(this);if(T&&N instanceof Km){const re=N.centroidVertexArray,ve=M+1;ve<re.length&&($[0]=re.geta_centroid_pos0(ve),$[1]=re.geta_centroid_pos1(ve))}if($[0]===0&&$[1]===1)return!1;h.projection.name==="globe"&&(d=Pb([d],[new Rn(0,0),new Rn(Bi,Bi)],u.tileID.canonical).map(re=>re.polygon).flat());const W=T?S:null,[J,se]=function(re,ve,we,Ne,ht,ft,at,Gt,vt,en,mn){return re.projection.name==="globe"?function(un,yn,zn,Gn,Mn,$r,ii,Or,Xi,Fi,xi){const ni=[],To=[],Qi=un.projection.upVectorScale(xi,un.center.lat,un.worldSize).metersToTile,ho=[0,0,0,1],da=[0,0,0,1],za=(Fa,Ja,Qa,js)=>{Fa[0]=Ja,Fa[1]=Qa,Fa[2]=js,Fa[3]=1},Ba=Mb();zn>0&&(zn+=Ba),Gn+=Ba;for(const Fa of yn){const Ja=[],Qa=[];for(const js of Fa){const Ms=js.x+Mn.x,Ea=js.y+Mn.y,Es=un.projection.projectTilePoint(Ms,Ea,xi),Is=un.projection.upVector(xi,js.x,js.y);let Xs=zn,wl=Gn;if(ii){const jl=oy(Ms,Ea,zn,Gn,ii,Or,Xi,Fi);Xs+=jl.base,wl+=jl.top}zn!==0?za(ho,Es.x+Is[0]*Qi*Xs,Es.y+Is[1]*Qi*Xs,Es.z+Is[2]*Qi*Xs):za(ho,Es.x,Es.y,Es.z),za(da,Es.x+Is[0]*Qi*wl,Es.y+Is[1]*Qi*wl,Es.z+Is[2]*Qi*wl),$e.vec3.transformMat4(ho,ho,$r),$e.vec3.transformMat4(da,da,$r),Ja.push(new Mf(ho[0],ho[1],ho[2])),Qa.push(new Mf(da[0],da[1],da[2]))}ni.push(Ja),To.push(Qa)}return[ni,To]}(re,ve,we,Ne,ht,ft,at,Gt,vt,en,mn):at?function(un,yn,zn,Gn,Mn,$r,ii,Or,Xi){const Fi=[],xi=[],ni=[0,0,0,1];for(const To of un){const Qi=[],ho=[];for(const da of To){const za=da.x+Gn.x,Ba=da.y+Gn.y,Fa=oy(za,Ba,yn,zn,$r,ii,Or,Xi);ni[0]=za,ni[1]=Ba,ni[2]=Fa.base,ni[3]=1,$e.vec4.transformMat4(ni,ni,Mn),ni[3]=Math.max(ni[3],1e-5);const Ja=new Mf(ni[0]/ni[3],ni[1]/ni[3],ni[2]/ni[3]);ni[0]=za,ni[1]=Ba,ni[2]=Fa.top,ni[3]=1,$e.vec4.transformMat4(ni,ni,Mn),ni[3]=Math.max(ni[3],1e-5);const Qa=new Mf(ni[0]/ni[3],ni[1]/ni[3],ni[2]/ni[3]);Qi.push(Ja),ho.push(Qa)}Fi.push(Qi),xi.push(ho)}return[Fi,xi]}(ve,we,Ne,ht,ft,at,Gt,vt,en):function(un,yn,zn,Gn,Mn){const $r=[],ii=[],Or=Mn[8]*yn,Xi=Mn[9]*yn,Fi=Mn[10]*yn,xi=Mn[11]*yn,ni=Mn[8]*zn,To=Mn[9]*zn,Qi=Mn[10]*zn,ho=Mn[11]*zn;for(const da of un){const za=[],Ba=[];for(const Fa of da){const Ja=Fa.x+Gn.x,Qa=Fa.y+Gn.y,js=Mn[0]*Ja+Mn[4]*Qa+Mn[12],Ms=Mn[1]*Ja+Mn[5]*Qa+Mn[13],Ea=Mn[2]*Ja+Mn[6]*Qa+Mn[14],Es=Mn[3]*Ja+Mn[7]*Qa+Mn[15],Is=js+Or,Xs=Ms+Xi,wl=Ea+Fi,jl=Math.max(Es+xi,1e-5),El=js+ni,pl=Ms+To,Il=Ea+Qi,sl=Math.max(Es+ho,1e-5);za.push(new Mf(Is/jl,Xs/jl,wl/jl)),Ba.push(new Mf(El/sl,pl/sl,Il/sl))}$r.push(za),ii.push(Ba)}return[$r,ii]}(ve,we,Ne,ht,ft)}(h,d,P,b,A,v,W,$,O,h.center.lat,u.tileID.canonical),ue=u.queryGeometry;return function(re,ve,we){let Ne=1/0;Ae(we,ve)&&(Ne=Xm(we,ve[0]));for(let ht=0;ht<ve.length;ht++){const ft=ve[ht],at=re[ht];for(let Gt=0;Gt<ft.length-1;Gt++){const vt=ft[Gt],en=[vt,ft[Gt+1],at[Gt+1],at[Gt],vt];Se(we,en)&&(Ne=Math.min(Ne,Xm(we,en)))}}return Ne!==1/0&&Ne}(J,se,ue.isPointQuery()?ue.screenBounds:ue.screenGeometry)}},line:class extends zl{constructor(u,n,i,d){const g=I0();super(u,g,n,i,d),g.layout&&(this.layout=new Fd(g.layout)),this.gradientVersion=0,this.hasElevatedBuckets=!1,this.hasNonElevatedBuckets=!1}_handleSpecialPaintPropertyUpdate(u){if(u==="line-gradient"){const n=this._transitionablePaint._values["line-gradient"].value.expression;this.stepInterpolant=n._styleExpression&&n._styleExpression.expression instanceof cc,this.gradientVersion=(this.gradientVersion+1)%Number.MAX_SAFE_INTEGER}}gradientExpression(){return this._transitionablePaint._values["line-gradient"].value.expression}widthExpression(){return this._transitionablePaint._values["line-width"].value.expression}recalculate(u,n){super.recalculate(u,n),this.paint._values["line-floorwidth"]=(()=>{if(Mp)return Mp;const i=I0();return Mp=new dy(i.paint.properties["line-width"].specification),Mp.useIntegerZoom=!0,Mp})().possiblyEvaluate(this._transitioningPaint._values["line-width"].value,u)}createBucket(u){return new C0(u)}getProgramIds(){return[this.paint.get("line-pattern").constantOr(1)?"linePattern":"line"]}getDefaultProgramParams(u,n,i){const d=$f(this);return{config:new $u(this,{zoom:n,lut:i}),defines:d,overrideFog:!1}}queryRadius(u){const n=u,i=fy(Br("line-width",this,n),Br("line-gap-width",this,n)),d=Br("line-offset",this,n);return i/2+Math.abs(d)+Ar(this.paint.get("line-translate"))}queryIntersectsFeature(u,n,i,d,g,h){if(u.queryGeometry.isAboveHorizon)return!1;const v=Zn(u.tilespaceGeometry,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),h.angle,u.pixelToTileUnitsFactor),S=u.pixelToTileUnitsFactor/2*fy(this.paint.get("line-width").evaluate(n,i),this.paint.get("line-gap-width").evaluate(n,i)),M=this.paint.get("line-offset").evaluate(n,i);return M&&(d=function(A,b){const P=[],$=new Rn(0,0);for(let T=0;T<A.length;T++){const O=A[T],N=[];for(let W=0;W<O.length;W++){const J=O[W],se=O[W+1],ue=W===0?$:J.sub(O[W-1])._unit()._perp(),re=W===O.length-1?$:se.sub(J)._unit()._perp(),ve=ue._add(re)._unit();ve._mult(1/(ve.x*re.x+ve.y*re.y)),N.push(ve._mult(b)._add(J))}P.push(N)}return P}(d,M*u.pixelToTileUnitsFactor)),function(A,b,P){for(let $=0;$<b.length;$++){const T=b[$];if(A.length>=3){for(let O=0;O<T.length;O++)if(Dt(A,T[O]))return!0}if(rt(A,T,P))return!0}return!1}(v,d,S)}isTileClipped(){return!0}isDraped(u){return!this.hasElevatedBuckets}},symbol:mg,background:class extends zl{constructor(u,n,i,d){super(u,{layout:Py||(Py=new nl({visibility:new Mi(er.layout_background.visibility)})),paint:g1||(g1=new nl({"background-pitch-alignment":new Mi(er.paint_background["background-pitch-alignment"]),"background-color":new Mi(er.paint_background["background-color"]),"background-pattern":new Mi(er.paint_background["background-pattern"]),"background-opacity":new Mi(er.paint_background["background-opacity"]),"background-emissive-strength":new Mi(er.paint_background["background-emissive-strength"]),"background-color-use-theme":new so({type:"string",default:"default","property-type":"data-driven"})}))},n,i,d)}getProgramIds(){return[this.paint.get("background-pattern")?"backgroundPattern":"background"]}getDefaultProgramParams(u,n,i){return{overrideFog:!1}}is3D(){return this.paint.get("background-pitch-alignment")==="viewport"}},raster:C1,"raster-particle":w1,sky:class extends zl{constructor(u,n,i,d){super(u,{layout:Ly||(Ly=new nl({visibility:new Mi(er.layout_sky.visibility)})),paint:S1||(S1=new nl({"sky-type":new Mi(er.paint_sky["sky-type"]),"sky-atmosphere-sun":new Mi(er.paint_sky["sky-atmosphere-sun"]),"sky-atmosphere-sun-intensity":new Mi(er.paint_sky["sky-atmosphere-sun-intensity"]),"sky-gradient-center":new Mi(er.paint_sky["sky-gradient-center"]),"sky-gradient-radius":new Mi(er.paint_sky["sky-gradient-radius"]),"sky-gradient":new kd(er.paint_sky["sky-gradient"]),"sky-atmosphere-halo-color":new Mi(er.paint_sky["sky-atmosphere-halo-color"]),"sky-atmosphere-color":new Mi(er.paint_sky["sky-atmosphere-color"]),"sky-opacity":new Mi(er.paint_sky["sky-opacity"]),"sky-gradient-use-theme":new so({type:"string",default:"default","property-type":"data-driven"}),"sky-atmosphere-halo-color-use-theme":new so({type:"string",default:"default","property-type":"data-driven"}),"sky-atmosphere-color-use-theme":new so({type:"string",default:"default","property-type":"data-driven"})}))},n,i,d),this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(u){u==="sky-gradient"?this._updateColorRamp():u!=="sky-atmosphere-sun"&&u!=="sky-atmosphere-halo-color"&&u!=="sky-atmosphere-color"&&u!=="sky-atmosphere-sun-intensity"||(this._skyboxInvalidated=!0)}_updateColorRamp(){this.colorRamp=Nm({expression:this._transitionablePaint._values["sky-gradient"].value.expression,evaluationKey:"skyRadialProgress"}),this.colorRampTexture&&(this.colorRampTexture.destroy(),this.colorRampTexture=null)}needsSkyboxCapture(u){if(this._skyboxInvalidated||!this.skyboxTexture||!this.skyboxGeometry)return!0;if(!this.paint.get("sky-atmosphere-sun")){const n=u.style.light.properties.get("position");return this._lightPosition.azimuthal!==n.azimuthal||this._lightPosition.polar!==n.polar}return!1}getCenter(u,n){if(this.paint.get("sky-type")==="atmosphere"){const d=this.paint.get("sky-atmosphere-sun"),g=!d,h=u.style.light,v=h.properties.get("position");return g&&h.properties.get("anchor")==="viewport"&&Un("The sun direction is attached to a light with viewport anchor, lighting may behave unexpectedly."),g?Ny(v.azimuthal,90-v.polar,n):Ny(d[0],90-d[1],n)}const i=this.paint.get("sky-gradient-center");return Ny(i[0],90-i[1],n)}isSky(){return!0}markSkyboxValid(u){this._skyboxInvalidated=!1,this._lightPosition=u.style.light.properties.get("position")}hasOffscreenPass(){return!0}getProgramIds(){const u=this.paint.get("sky-type");return u==="atmosphere"?["skyboxCapture","skybox"]:u==="gradient"?["skyboxGradient"]:null}},slot:class extends zl{constructor(u,n,i,d){super(u,{paint:zy||(zy=new nl({}))},n,null)}},model:class extends zl{constructor(u,n,i,d){super(u,{layout:D1||(D1=new nl({visibility:new Mi(er.layout_model.visibility),"model-id":new so(er.layout_model["model-id"])})),paint:L1||(L1=new nl({"model-opacity":new so(er.paint_model["model-opacity"]),"model-rotation":new so(er.paint_model["model-rotation"]),"model-scale":new so(er.paint_model["model-scale"]),"model-translation":new so(er.paint_model["model-translation"]),"model-color":new so(er.paint_model["model-color"]),"model-color-mix-intensity":new so(er.paint_model["model-color-mix-intensity"]),"model-type":new Mi(er.paint_model["model-type"]),"model-cast-shadows":new Mi(er.paint_model["model-cast-shadows"]),"model-receive-shadows":new Mi(er.paint_model["model-receive-shadows"]),"model-ambient-occlusion-intensity":new Mi(er.paint_model["model-ambient-occlusion-intensity"]),"model-emissive-strength":new so(er.paint_model["model-emissive-strength"]),"model-roughness":new so(er.paint_model["model-roughness"]),"model-height-based-emissive-strength-multiplier":new so(er.paint_model["model-height-based-emissive-strength-multiplier"]),"model-cutoff-fade-range":new Mi(er.paint_model["model-cutoff-fade-range"]),"model-front-cutoff":new Mi(er.paint_model["model-front-cutoff"]),"model-color-use-theme":new so({type:"string",default:"default","property-type":"data-driven"})}))},n,i,d),this._stats={numRenderedVerticesInShadowPass:0,numRenderedVerticesInTransparentPass:0}}createBucket(u){return new Zy(u)}getProgramIds(){return["model"]}is3D(){return!0}hasShadowPass(){return!0}canCastShadows(){return!0}hasLightBeamPass(){return!0}cutoffRange(){return this.paint.get("model-cutoff-fade-range")}queryRadius(u){return u instanceof U0?Bi-1:0}queryIntersectsFeature(u,n,i,d,g,h){if(!this.modelManager)return!1;const v=this.modelManager,S=u.tile.getBucket(this);if(!(S&&S instanceof Zy))return!1;for(const M in S.instancesPerModel){const A=S.instancesPerModel[M],b=n.id!==void 0?n.id:n.properties&&n.properties.hasOwnProperty("id")?n.properties.id:void 0;if(A.idToFeaturesIndex.hasOwnProperty(b)){const P=A.features[A.idToFeaturesIndex[b]],$=v.getModel(M,this.scope);if(!$)return!1;let T=$e.mat4.create();const O=new ps(0,0),N=S.canonical;let W=Number.MAX_VALUE;for(let J=0;J<P.instancedDataCount;++J){const se=16*(P.instancedDataOffset+J),ue=A.instancedDataArray.float32,re=[ue[se+4],ue[se+5],ue[se+6]];k1(N,O,ue[se],0|ue[se+1]),z1(T,$,h,O,P.rotation,P.scale,re,!1,!1,!1),h.projection.name==="globe"&&(T=jy(T,h));const ve=$e.mat4.multiply([],h.projMatrix,T),we=u.queryGeometry,Ne=M1(we.isPointQuery()?we.screenBounds:we.screenGeometry,h,ve,$.aabb);Ne!=null&&(W=Math.min(Ne,W))}return W!==Number.MAX_VALUE&&W}}return!1}_handleOverridablePaintPropertyUpdate(u,n,i){return!(!this.layout||n.isDataDriven()||i.isDataDriven()||u!=="model-color"&&u!=="model-color-mix-intensity"&&u!=="model-rotation"&&u!=="model-scale"&&u!=="model-translation"&&u!=="model-emissive-strength")}_isPropertyZoomDependent(u){const n=this._transitionablePaint._values[u];return n!=null&&n.value!=null&&n.value.expression!=null&&n.value.expression instanceof df}isZoomDependent(){return this._isPropertyZoomDependent("model-scale")||this._isPropertyZoomDependent("model-rotation")||this._isPropertyZoomDependent("model-translation")}},clip:class extends zl{constructor(u,n,i,d){super(u,{layout:ib||(ib=new nl({"clip-layer-types":new Mi(er.layout_clip["clip-layer-types"]),"clip-layer-scope":new Mi(er.layout_clip["clip-layer-scope"])})),paint:ob||(ob=new nl({}))},n,i,d)}recalculate(u,n){super.recalculate(u,n)}createBucket(u){return new sb(u)}isTileClipped(){return!0}is3D(){return!0}}};class KC{constructor(n){this._callback=n,this._triggered=!1,typeof MessageChannel!="undefined"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=()=>{this._triggered=!1,this._callback()})}trigger(){this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(()=>{this._triggered=!1,this._callback()},0))}remove(){this._channel=void 0,this._callback=()=>{}}}class XC{constructor(){this.tasks={},this.taskQueue=[],Pr(["process"],this),this.invoker=new KC(this.process),this.nextId=0}add(n,i){const d=this.nextId++,g=function({type:h,isSymbolTile:v,zoom:S}){return S=S||0,h==="message"?0:h!=="maybePrepare"||v?h!=="parseTile"||v?h==="parseTile"&&v?300-S:h==="maybePrepare"&&v?400-S:500:200-S:100-S}(i);if(g===0){try{n()}finally{}return null}return this.tasks[d]={fn:n,metadata:i,priority:g,id:d},this.taskQueue.push(d),this.invoker.trigger(),{cancel:()=>{delete this.tasks[d]}}}process(){try{if(this.taskQueue=this.taskQueue.filter(d=>!!this.tasks[d]),!this.taskQueue.length)return;const n=this.pick();if(n===null)return;const i=this.tasks[n];if(delete this.tasks[n],this.taskQueue.length&&this.invoker.trigger(),!i)return;i.fn()}finally{}}pick(){let n=null,i=1/0;for(let g=0;g<this.taskQueue.length;g++){const h=this.tasks[this.taskQueue[g]];h.priority<i&&(i=h.priority,n=g)}if(n===null)return null;const d=this.taskQueue[n];return this.taskQueue.splice(n,1),d}remove(){this.invoker.remove()}}class YC{constructor(n,i,d){this.target=n,this.parent=i,this.mapId=d,this.callbacks={},this.cancelCallbacks={},Pr(["receive"],this),this.target.addEventListener("message",this.receive,!1),this.scheduler=new XC}send(n,i,d,g,h=!1,v){const S=Math.round(1e18*Math.random()).toString(36).substring(0,10);d&&(d.metadata=v,this.callbacks[S]=d);const M=new Set;return this.target.postMessage({id:S,type:n,hasCallback:!!d,targetMapId:g,mustQueue:h,sourceMapId:this.mapId,data:Nd(i,M)},M),{cancel:()=>{d&&delete this.callbacks[S],this.target.postMessage({id:S,type:"<cancel>",targetMapId:g,sourceMapId:this.mapId})}}}receive(n){const i=n.data,d=i.id;if(d&&(!i.targetMapId||this.mapId===i.targetMapId))if(i.type==="<cancel>"){const g=this.cancelCallbacks[d];delete this.cancelCallbacks[d],g&&g.cancel()}else if(i.mustQueue||xo()){const g=this.callbacks[d],h=this.scheduler.add(()=>this.processTask(d,i),g&&g.metadata||{type:"message"});h&&(this.cancelCallbacks[d]=h)}else this.processTask(d,i)}processTask(n,i){if(delete this.cancelCallbacks[n],i.type==="<response>"){const d=this.callbacks[n];delete this.callbacks[n],d&&(i.error?d(fd(i.error)):d(null,fd(i.data)))}else{const d=new Set,g=i.hasCallback?(v,S)=>{this.target.postMessage({id:n,type:"<response>",sourceMapId:this.mapId,error:v?Nd(v):null,data:Nd(S,d)},d)}:()=>{},h=fd(i.data);if(this.parent[i.type])this.parent[i.type](i.sourceMapId,h,g);else if(this.parent.getWorkerSource){const v=i.type.split(".");this.parent.getWorkerSource(i.sourceMapId,v[0],h.source,h.scope)[v[1]](h,g)}else g(new Error(`Could not find function ${i.type}`))}}remove(){this.scheduler.remove(),this.target.removeEventListener("message",this.receive,!1)}}var Cg={workerUrl:"",workerClass:null,workerParams:void 0};const Wy="mapboxgl_preloaded_worker_pool";class kf{constructor(){this.active={}}acquire(n,i=kf.workerCount){if(!this.workers)for(this.workers=[];this.workers.length<i;)this.workers.push(Cg.workerClass!=null?new Cg.workerClass:new self.Worker(Cg.workerUrl,Cg.workerParams));return this.active[n]=!0,this.workers.slice()}release(n){delete this.active[n],this.workers&&this.numActive()===0&&(this.workers.forEach(i=>{i.terminate()}),this.workers=null)}isPreloaded(){return!!this.active[Wy]}numActive(){return Object.keys(this.active).length}}kf.workerCount=2;class Lh{constructor(n,i,d="Worker",g=kf.workerCount){this.workerPool=n,this.actors=[],this.currentActor=0,this.id=Yn();const h=this.workerPool.acquire(this.id,g);for(let v=0;v<h.length;v++){const S=new Lh.Actor(h[v],i,this.id);S.name=`${d} ${v}`,this.actors.push(S)}this.ready=!1,this.broadcast("checkIfReady",null,()=>{this.ready=!0})}broadcast(n,i,d){qr(this.actors,(g,h)=>{g.send(n,i,h)},d=d||function(){})}getActor(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]}remove(){this.actors.forEach(n=>{n.remove()}),this.actors=[],this.workerPool.release(this.id)}}let Sg,j1;function wg(){return Sg||(Sg=new kf),Sg}Lh.Actor=YC;const Gy=new _e(0,0,0);var Ky=(u=>(u[u.PATH_RULE_UNSPECIFIED=0]="PATH_RULE_UNSPECIFIED",u[u.PATH_RULE_NON_ZERO=1]="PATH_RULE_NON_ZERO",u[u.PATH_RULE_EVEN_ODD=2]="PATH_RULE_EVEN_ODD",u))(Ky||{}),W0=(u=>(u[u.LINE_CAP_UNSPECIFIED=0]="LINE_CAP_UNSPECIFIED",u[u.LINE_CAP_BUTT=1]="LINE_CAP_BUTT",u[u.LINE_CAP_ROUND=2]="LINE_CAP_ROUND",u[u.LINE_CAP_SQUARE=3]="LINE_CAP_SQUARE",u))(W0||{}),Eg=(u=>(u[u.LINE_JOIN_UNSPECIFIED=0]="LINE_JOIN_UNSPECIFIED",u[u.LINE_JOIN_MITER=1]="LINE_JOIN_MITER",u[u.LINE_JOIN_MITER_CLIP=2]="LINE_JOIN_MITER_CLIP",u[u.LINE_JOIN_ROUND=3]="LINE_JOIN_ROUND",u[u.LINE_JOIN_BEVEL=4]="LINE_JOIN_BEVEL",u))(Eg||{}),Z1=(u=>(u[u.PAINT_ORDER_UNSPECIFIED=0]="PAINT_ORDER_UNSPECIFIED",u[u.PAINT_ORDER_FILL_AND_STROKE=1]="PAINT_ORDER_FILL_AND_STROKE",u[u.PAINT_ORDER_STROKE_AND_FILL=2]="PAINT_ORDER_STROKE_AND_FILL",u))(Z1||{}),Fp=(u=>(u[u.PATH_COMMAND_UNSPECIFIED=0]="PATH_COMMAND_UNSPECIFIED",u[u.PATH_COMMAND_MOVE=1]="PATH_COMMAND_MOVE",u[u.PATH_COMMAND_LINE=2]="PATH_COMMAND_LINE",u[u.PATH_COMMAND_QUAD=3]="PATH_COMMAND_QUAD",u[u.PATH_COMMAND_CUBIC=4]="PATH_COMMAND_CUBIC",u[u.PATH_COMMAND_CLOSE=5]="PATH_COMMAND_CLOSE",u))(Fp||{}),V1=(u=>(u[u.MASK_TYPE_UNSPECIFIED=0]="MASK_TYPE_UNSPECIFIED",u[u.MASK_TYPE_LUMINANCE=1]="MASK_TYPE_LUMINANCE",u[u.MASK_TYPE_ALPHA=2]="MASK_TYPE_ALPHA",u))(V1||{});function qC(u,n,i){u===1&&n.icons.push(function(d,g){return function(h){if(h.usvg_tree.height||(h.usvg_tree.height=h.usvg_tree.width),!h.metadata)return h;const{metadata:v}=h;if(v.content_area){const{content_area:S}=v;S.top==null&&(S.top=S.left),S.width==null&&(S.width=h.usvg_tree.width),S.height==null&&(S.height=S.width)}return v.stretch_x&&v.stretch_x.length&&H1(v,"x"),v.stretch_y&&v.stretch_y.length&&H1(v,"y"),h}(d.readFields(JC,{name:void 0},g))}(i,i.readVarint()+i.pos))}function H1(u,n){const i=[],d=u[`stretch_${n}`];let g=null;for(let h=0;h<d.length;h++)g===null?g=i.length===0?d[0]:i[i.length-1][1]+d[h]:(i.push([g,g+d[h]]),g=null);u[`stretch_${n}_areas`]=i}function JC(u,n,i){u===1?n.name=i.readString():u===2?n.metadata=function(d,g){return d.readFields(jf,{stretch_x:null,stretch_y:null,stretch_x_areas:null,stretch_y_areas:null,variables:[]},g)}(i,i.readVarint()+i.pos):u===3&&(n.usvg_tree=function(d,g){return d.readFields(c2,{width:20,children:[],linear_gradients:[],radial_gradients:[],clip_paths:[],masks:[]},g)}(i,i.readVarint()+i.pos),n.data="usvg_tree")}function jf(u,n,i){u===1?n.stretch_x=i.readPackedVarint():u===2?n.stretch_y=i.readPackedVarint():u===3?n.content_area=function(d,g){return d.readFields(U1,{left:0},g)}(i,i.readVarint()+i.pos):u===4&&n.variables.push(function(d,g){return d.readFields(QC,{name:void 0},g)}(i,i.readVarint()+i.pos))}function U1(u,n,i){u===1?n.left=i.readVarint():u===2?n.width=i.readVarint():u===3?n.top=i.readVarint():u===4&&(n.height=i.readVarint())}function QC(u,n,i){u===1?n.name=i.readString():u===2&&(n.rgb_color=X0(i.readVarint()),n.value="rgb_color")}function c2(u,n,i){u===1?n.width=n.height=i.readVarint():u===2?n.height=i.readVarint():u===3?n.children.push(G0(i,i.readVarint()+i.pos)):u===4?n.linear_gradients.push(function(d,g){return d.readFields(W1,{spread_method:1,stops:[],x1:0,y1:0,x2:1,y2:0},g)}(i,i.readVarint()+i.pos)):u===5?n.radial_gradients.push(function(d,g){return d.readFields(qy,{spread_method:1,stops:[],cx:.5,cy:.5,r:.5,fx:.5,fy:.5,fr:0},g)}(i,i.readVarint()+i.pos)):u===7?n.clip_paths.push(function(d,g){return d.readFields(kp,{children:[]},g)}(i,i.readVarint()+i.pos)):u===8&&n.masks.push(function(d,g){const h=d.readFields(Y0,{left:0,width:20,mask_type:1,children:[]},g);return h.height==null&&(h.height=h.width),h.top==null&&(h.top=h.left),h}(i,i.readVarint()+i.pos))}function G0(u,n){return u.readFields(eS,{},n)}function eS(u,n,i){u===1?(n.group=function(d,g){return d.readFields(u2,{opacity:255,children:[]},g)}(i,i.readVarint()+i.pos),n.node="group"):u===2&&(n.path=function(d,g){return d.readFields(tS,{paint_order:1,commands:[],step:1,diffs:[],rule:1},g)}(i,i.readVarint()+i.pos),n.node="path")}function u2(u,n,i){u===1?n.transform=K0(i,i.readVarint()+i.pos):u===2?n.opacity=i.readVarint():u===5?n.clip_path_idx=i.readVarint():u===6?n.mask_idx=i.readVarint():u===7&&n.children.push(G0(i,i.readVarint()+i.pos))}function K0(u,n){return u.readFields(Xy,{sx:1,ky:0,kx:0,sy:1,tx:0,ty:0},n)}function Xy(u,n,i){u===1?n.sx=i.readFloat():u===2?n.ky=i.readFloat():u===3?n.kx=i.readFloat():u===4?n.sy=i.readFloat():u===5?n.tx=i.readFloat():u===6&&(n.ty=i.readFloat())}function tS(u,n,i){u===1?n.fill=function(d,g){return d.readFields(nS,{rgb_color:Gy,paint:"rgb_color",opacity:255},g)}(i,i.readVarint()+i.pos):u===2?n.stroke=function(d,g){return d.readFields(rS,{rgb_color:Gy,paint:"rgb_color",dasharray:[],dashoffset:0,miterlimit:4,opacity:255,width:1,linecap:1,linejoin:1},g)}(i,i.readVarint()+i.pos):u===3?n.paint_order=i.readVarint():u===5?i.readPackedVarint(n.commands):u===6?n.step=i.readFloat():u===7?i.readPackedSVarint(n.diffs):u===8&&(n.rule=i.readVarint())}function nS(u,n,i){u===1?(n.rgb_color=X0(i.readVarint()),n.paint="rgb_color"):u===2?(n.linear_gradient_idx=i.readVarint(),n.paint="linear_gradient_idx"):u===3?(n.radial_gradient_idx=i.readVarint(),n.paint="radial_gradient_idx"):u===5&&(n.opacity=i.readVarint())}function X0(u){return new _e((u>>16&255)/255,(u>>8&255)/255,(255&u)/255,1)}function rS(u,n,i){u===1?(n.rgb_color=X0(i.readVarint()),n.paint="rgb_color"):u===2?(n.linear_gradient_idx=i.readVarint(),n.paint="linear_gradient_idx"):u===3?(n.radial_gradient_idx=i.readVarint(),n.paint="radial_gradient_idx"):u===5?i.readPackedFloat(n.dasharray):u===6?n.dashoffset=i.readFloat():u===7?n.miterlimit=i.readFloat():u===8?n.opacity=i.readVarint():u===9?n.width=i.readFloat():u===10?n.linecap=i.readVarint():u===11&&(n.linejoin=i.readVarint())}function W1(u,n,i){u===1?n.transform=K0(i,i.readVarint()+i.pos):u===2?n.spread_method=i.readVarint():u===3?n.stops.push(G1(i,i.readVarint()+i.pos)):u===4?n.x1=i.readFloat():u===5?n.y1=i.readFloat():u===6?n.x2=i.readFloat():u===7&&(n.y2=i.readFloat())}function G1(u,n){return u.readFields(Yy,{offset:0,opacity:255,rgb_color:Gy},n)}function Yy(u,n,i){u===1?n.offset=i.readFloat():u===2?n.opacity=i.readVarint():u===3&&(n.rgb_color=X0(i.readVarint()))}function qy(u,n,i){u===1?n.transform=K0(i,i.readVarint()+i.pos):u===2?n.spread_method=i.readVarint():u===3?n.stops.push(G1(i,i.readVarint()+i.pos)):u===4?n.cx=i.readFloat():u===5?n.cy=i.readFloat():u===6?n.r=i.readFloat():u===7?n.fx=i.readFloat():u===8?n.fy=i.readFloat():u===9&&(n.fr=i.readFloat())}function kp(u,n,i){u===1?n.transform=K0(i,i.readVarint()+i.pos):u===2?n.clip_path_idx=i.readVarint():u===3&&n.children.push(G0(i,i.readVarint()+i.pos))}function Y0(u,n,i){u===1?n.left=n.top=i.readFloat():u===2?n.width=n.height=i.readFloat():u===3?n.top=i.readFloat():u===4?n.height=i.readFloat():u===5?n.mask_type=i.readVarint():u===6?n.mask_idx=i.readVarint():u===7&&n.children.push(G0(i,i.readVarint()+i.pos))}class d2{static calculate(n,i){const d=new Map,g=new Map;if(Object.keys(n).length===0)return d;i.forEach(h=>{g.set(h.name,h.rgb_color||new _e(0,0,0))});for(const[h,v]of Object.entries(n))g.has(h)?d.set(g.get(h).toStringPremultipliedAlpha(),v):console.warn(`Ignoring unknown image variable "${h}"`);return d}}function Zf(u,n=255,i){const d=n/255,g=u.toStringPremultipliedAlpha(),h=i.has(g)?i.get(g).clone():u.clone();return h.a=d,h.toString()}function zh(u,n){if(!Ze()){const i=document.createElement("canvas");return i.width=u,i.height=n,i}return new OffscreenCanvas(u,n)}function iS(u,n){const i=d2.calculate(n.params,u.metadata?u.metadata.variables:[]),d=u.usvg_tree,g=d.width,h=d.height,v=n.transform?n.transform:new DOMMatrix,S=Math.max(1,Math.round(g*v.a)),M=Math.max(1,Math.round(h*v.d)),A=new DOMMatrix([S/g,0,0,M/h,0,0]),b=zh(S,M).getContext("2d");return Jy(b,A,d,d,i),b.getImageData(0,0,S,M)}function Jy(u,n,i,d,g){for(const h of d.children)q0(u,n,i,h,g)}function q0(u,n,i,d,g){d.group?(u.save(),function(h,v,S,M,A){const b=M.mask_idx!=null?S.masks[M.mask_idx]:null,P=M.clip_path_idx!=null?S.clip_paths[M.clip_path_idx]:null;if(M.transform&&(v=ev(M.transform).preMultiplySelf(v)),!function(O,N,W){return O.opacity!==255||N||W}(M,P!=null,b!=null))return void Jy(h,v,S,M,A);const $=zh(h.canvas.width,h.canvas.height),T=$.getContext("2d");Jy(T,v,S,M,A),P&&Y1(T,v,S,P),b&&q1(T,v,S,b,A),h.globalAlpha=M.opacity/255,h.drawImage($,0,0)}(u,n,i,d.group,g),u.restore()):d.path&&(u.save(),function(h,v,S,M,A){const b=J1(M);h.setTransform(v),M.paint_order===Z1.PAINT_ORDER_FILL_AND_STROKE?(J0(h,S,M,b,A),Ig(h,S,M,b,A)):(Ig(h,S,M,b,A),J0(h,S,M,b,A))}(u,n,i,d.path,g),u.restore())}function J0(u,n,i,d,g){const h=i.fill;if(!h)return;const v=h.opacity/255;switch(h.paint){case"rgb_color":u.fillStyle=Zf(h.rgb_color,h.opacity,g);break;case"linear_gradient_idx":u.fillStyle=Q0(u,n.linear_gradients[h.linear_gradient_idx],v,g);break;case"radial_gradient_idx":u.fillStyle=K1(u,n.radial_gradients[h.radial_gradient_idx],v,g)}u.fill(d,Qy(i))}function Qy(u){return u.rule===Ky.PATH_RULE_NON_ZERO?"nonzero":u.rule===Ky.PATH_RULE_EVEN_ODD?"evenodd":void 0}function Ig(u,n,i,d,g){const h=i.stroke;if(!h)return;u.lineWidth=h.width,u.miterLimit=h.miterlimit,u.setLineDash(h.dasharray),u.lineDashOffset=h.dashoffset;const v=h.opacity/255;switch(h.paint){case"rgb_color":u.strokeStyle=Zf(h.rgb_color,h.opacity,g);break;case"linear_gradient_idx":u.strokeStyle=Q0(u,n.linear_gradients[h.linear_gradient_idx],v,g);break;case"radial_gradient_idx":u.strokeStyle=K1(u,n.radial_gradients[h.radial_gradient_idx],v,g)}switch(h.linejoin){case Eg.LINE_JOIN_MITER_CLIP:case Eg.LINE_JOIN_MITER:u.lineJoin="miter";break;case Eg.LINE_JOIN_ROUND:u.lineJoin="round";break;case Eg.LINE_JOIN_BEVEL:u.lineJoin="bevel"}switch(h.linecap){case W0.LINE_CAP_BUTT:u.lineCap="butt";break;case W0.LINE_CAP_ROUND:u.lineCap="round";break;case W0.LINE_CAP_SQUARE:u.lineCap="square"}u.stroke(d)}function Q0(u,n,i,d){if(n.stops.length===1){const $=n.stops[0];return Zf($.rgb_color,$.opacity*i,d)}const g=ev(n.transform),{x1:h,y1:v,x2:S,y2:M}=n,A=g.transformPoint(new DOMPoint(h,v)),b=g.transformPoint(new DOMPoint(S,M)),P=u.createLinearGradient(A.x,A.y,b.x,b.y);for(const $ of n.stops)P.addColorStop($.offset,Zf($.rgb_color,$.opacity*i,d));return P}function K1(u,n,i,d){if(n.stops.length===1){const $=n.stops[0];return Zf($.rgb_color,$.opacity*i,d)}const g=ev(n.transform),{fx:h,fy:v,cx:S,cy:M}=n,A=g.transformPoint(new DOMPoint(h,v)),b=g.transformPoint(new DOMPoint(S,M)),P=u.createRadialGradient(A.x,A.y,0,b.x,b.y,n.r*((g.a+g.d)/2));for(const $ of n.stops)P.addColorStop($.offset,Zf($.rgb_color,$.opacity*i,d));return P}function X1(u,n,i,d){const g=d.transform?ev(d.transform).preMultiplySelf(n):n,h=zh(u.canvas.width,u.canvas.height),v=h.getContext("2d");for(const M of d.children)if(M.group)X1(v,g,i,M.group);else if(M.path){const A=M.path,b=new Path2D;b.addPath(J1(A),g),v.fill(b,Qy(A))}const S=d.clip_path_idx!=null?i.clip_paths[d.clip_path_idx]:null;S&&Y1(v,g,i,S),u.globalCompositeOperation="source-over",u.drawImage(h,0,0)}function Y1(u,n,i,d){const g=zh(u.canvas.width,u.canvas.height);X1(g.getContext("2d"),n,i,d),u.globalCompositeOperation="destination-in",u.drawImage(g,0,0)}function q1(u,n,i,d,g){if(d.children.length===0)return;const h=d.mask_idx!=null?i.masks[d.mask_idx]:null;h&&q1(u,n,i,h,g);const v=u.canvas.width,S=u.canvas.height,M=zh(v,S),A=M.getContext("2d"),b=d.width,P=d.height,$=d.left,T=d.top,O=new Path2D,N=new Path2D;N.rect($,T,b,P),O.addPath(N,n),A.clip(O);for(const se of d.children)q0(A,n,i,se,g);const W=A.getImageData(0,0,v,S),J=W.data;if(d.mask_type===V1.MASK_TYPE_LUMINANCE)for(let se=0;se<J.length;se+=4)J[se+3]=J[se+3]/255*(.2126*J[se]+.7152*J[se+1]+.0722*J[se+2]);A.putImageData(W,0,0),u.globalCompositeOperation="destination-in",u.drawImage(M,0,0)}function ev(u){return u?new DOMMatrix([u.sx,u.ky,u.kx,u.sy,u.tx,u.ty]):new DOMMatrix}function J1(u){const n=new Path2D,i=u.step;let d=u.diffs[0]*i,g=u.diffs[1]*i;n.moveTo(d,g);for(let h=0,v=2;h<u.commands.length;h++)switch(u.commands[h]){case Fp.PATH_COMMAND_MOVE:d+=u.diffs[v++]*i,g+=u.diffs[v++]*i,n.moveTo(d,g);break;case Fp.PATH_COMMAND_LINE:d+=u.diffs[v++]*i,g+=u.diffs[v++]*i,n.lineTo(d,g);break;case Fp.PATH_COMMAND_QUAD:{const S=d+u.diffs[v++]*i,M=g+u.diffs[v++]*i;d=S+u.diffs[v++]*i,g=M+u.diffs[v++]*i,n.quadraticCurveTo(S,M,d,g);break}case Fp.PATH_COMMAND_CUBIC:{const S=d+u.diffs[v++]*i,M=g+u.diffs[v++]*i,A=S+u.diffs[v++]*i,b=M+u.diffs[v++]*i;d=A+u.diffs[v++]*i,g=b+u.diffs[v++]*i,n.bezierCurveTo(S,M,A,b,d,g);break}case Fp.PATH_COMMAND_CLOSE:n.closePath()}return n}class e_{constructor(n){this.capacity=n,this.cache=new Map}get(n){if(!this.cache.has(n))return;const i=this.cache.get(n);return this.cache.delete(n),this.cache.set(n,i),i}put(n,i){this.cache.has(n)?this.cache.delete(n):this.cache.size===this.capacity&&this.cache.delete(this.cache.keys().next().value),this.cache.set(n,i)}delete(n){this.cache.delete(n)}}class t_{constructor(){this.cacheMap=new Map,this.cacheDependenciesMap=new Map}static _getImage(n){return new Sc(n,n.data)}getFromCache(n,i,d){return this.cacheMap.has(d)||this.cacheMap.set(d,new e_(150)),this.cacheMap.get(d).get(Mu(n.serialize(),i))}setInCache(n,i,d,g){this.cacheDependenciesMap.has(g)||this.cacheDependenciesMap.set(g,new Map),this.cacheMap.has(g)||this.cacheMap.set(g,new e_(150));const h=this.cacheDependenciesMap.get(g);h.get(Mu(n.id,d))||h.set(Mu(n.id,d),new Set);const v=this.cacheMap.get(g),S=n.serialize();h.get(Mu(n.id,d)).add(S),v.put(Mu(n.serialize(),d),i)}removeImagesFromCacheByIds(n,i,d=""){if(!this.cacheMap.has(d)||!this.cacheDependenciesMap.has(d))return;const g=this.cacheMap.get(d),h=this.cacheDependenciesMap.get(d);for(const v of n)if(h.has(Mu(v,i))){for(const S of h.get(Mu(v,i)))g.delete(S);h.delete(Mu(v,i))}}rasterize(n,i,d,g,h=iS){const v=this.getFromCache(n,d,g);if(v)return v.clone();const S=h(i.icon,n.options),M=t_._getImage(S);return this.setInCache(n,M,d,g),M.clone()}}class n_{constructor(n){this.size=n,this.minimums=[],this.maximums=[],this.leaves=[]}getElevation(n,i){const d=this.toIdx(n,i);return{min:this.minimums[d],max:this.maximums[d]}}isLeaf(n,i){return this.leaves[this.toIdx(n,i)]}toIdx(n,i){return i*this.size+n}}function r_(u,n,i,d){let g=0,h=Number.MAX_VALUE;for(let v=0;v<3;v++)if(Math.abs(d[v])<1e-15){if(i[v]<u[v]||i[v]>n[v])return null}else{const S=1/d[v];let M=(u[v]-i[v])*S,A=(n[v]-i[v])*S;if(M>A){const b=M;M=A,A=b}if(M>g&&(g=M),A<h&&(h=A),g>h)return null}return g}function tv(u,n,i,d,g,h,v,S,M,A,b){const P=d-u,$=g-n,T=h-i,O=v-u,N=S-n,W=M-i,J=b[1]*W-b[2]*N,se=b[2]*O-b[0]*W,ue=b[0]*N-b[1]*O,re=P*J+$*se+T*ue;if(Math.abs(re)<1e-15)return null;const ve=1/re,we=A[0]-u,Ne=A[1]-n,ht=A[2]-i,ft=(we*J+Ne*se+ht*ue)*ve;if(ft<0||ft>1)return null;const at=Ne*T-ht*$,Gt=ht*P-we*T,vt=we*$-Ne*P,en=(b[0]*at+b[1]*Gt+b[2]*vt)*ve;return en<0||ft+en>1?null:(O*at+N*Gt+W*vt)*ve}function jp(u,n,i){return(u-n)/(i-n)}function i_(u,n,i,d,g,h,v,S,M){const A=1<<i,b=h-d,P=v-g,$=(u+1)/A*b+d,T=(n+0)/A*P+g,O=(n+1)/A*P+g;S[0]=(u+0)/A*b+d,S[1]=T,M[0]=$,M[1]=O}class Zp{constructor(n){if(this.maximums=[],this.minimums=[],this.leaves=[],this.childOffsets=[],this.nodeCount=0,this.dem=n,this._siblingOffset=[[0,0],[1,0],[0,1],[1,1]],!this.dem)return;const i=function(h){const v=Math.ceil(Math.log2(h.dim/8)),S=[];let M=Math.ceil(Math.pow(2,v));const A=1/M,b=(T,O,N,W,J)=>{const se=W?1:0,ue=(T+1)*N-se,re=O*N,ve=(O+1)*N-se;J[0]=T*N,J[1]=re,J[2]=ue,J[3]=ve};let P=new n_(M);const $=[];for(let T=0;T<M*M;T++){b(T%M,Math.floor(T/M),A,!1,$);const O=td($[0],$[1],h),N=td($[2],$[1],h),W=td($[2],$[3],h),J=td($[0],$[3],h);P.minimums.push(Math.min(O,N,W,J)),P.maximums.push(Math.max(O,N,W,J)),P.leaves.push(1)}for(S.push(P),M/=2;M>=1;M/=2){const T=S[S.length-1];P=new n_(M);for(let O=0;O<M*M;O++){b(O%M,Math.floor(O/M),2,!0,$);const N=T.getElevation($[0],$[1]),W=T.getElevation($[2],$[1]),J=T.getElevation($[2],$[3]),se=T.getElevation($[0],$[3]),ue=T.isLeaf($[0],$[1]),re=T.isLeaf($[2],$[1]),ve=T.isLeaf($[2],$[3]),we=T.isLeaf($[0],$[3]),Ne=Math.min(N.min,W.min,J.min,se.min),ht=Math.max(N.max,W.max,J.max,se.max),ft=ue&&re&&ve&&we;P.maximums.push(ht),P.minimums.push(Ne),P.leaves.push(ht-Ne<=5&&ft?1:0)}S.push(P)}return S}(this.dem),d=i.length-1,g=i[d];this._addNode(g.minimums[0],g.maximums[0],g.leaves[0]),this._construct(i,0,0,d,0)}raycastRoot(n,i,d,g,h,v,S=1){return r_([n,i,-100],[d,g,this.maximums[0]*S],h,v)}raycast(n,i,d,g,h,v,S=1){if(!this.nodeCount)return null;const M=this.raycastRoot(n,i,d,g,h,v,S);if(M==null)return null;const A=[],b=[],P=[],$=[],T=[{idx:0,t:M,nodex:0,nodey:0,depth:0}];for(;T.length>0;){const{idx:O,t:N,nodex:W,nodey:J,depth:se}=T.pop();if(this.leaves[O]){i_(W,J,se,n,i,d,g,P,$);const re=1<<se,ve=(W+0)/re,we=(W+1)/re,Ne=(J+0)/re,ht=(J+1)/re,ft=td(ve,Ne,this.dem)*S,at=td(we,Ne,this.dem)*S,Gt=td(we,ht,this.dem)*S,vt=td(ve,ht,this.dem)*S,en=tv(P[0],P[1],ft,$[0],P[1],at,$[0],$[1],Gt,h,v),mn=tv($[0],$[1],Gt,P[0],$[1],vt,P[0],P[1],ft,h,v),un=Math.min(en!==null?en:Number.MAX_VALUE,mn!==null?mn:Number.MAX_VALUE);if(un!==Number.MAX_VALUE)return un;{const yn=$e.vec3.scaleAndAdd([],h,v,N);if(xd(ft,at,vt,Gt,jp(yn[0],P[0],$[0]),jp(yn[1],P[1],$[1]))>=yn[2])return N}continue}let ue=0;for(let re=0;re<this._siblingOffset.length;re++){i_((W<<1)+this._siblingOffset[re][0],(J<<1)+this._siblingOffset[re][1],se+1,n,i,d,g,P,$),P[2]=-100,$[2]=this.maximums[this.childOffsets[O]+re]*S;const ve=r_(P,$,h,v);if(ve!=null){const we=ve;A[re]=we;let Ne=!1;for(let ht=0;ht<ue&&!Ne;ht++)we>=A[b[ht]]&&(b.splice(ht,0,re),Ne=!0);Ne||(b[ue]=re),ue++}}for(let re=0;re<ue;re++){const ve=b[re];T.push({idx:this.childOffsets[O]+ve,t:A[ve],nodex:(W<<1)+this._siblingOffset[ve][0],nodey:(J<<1)+this._siblingOffset[ve][1],depth:se+1})}}return null}_addNode(n,i,d){return this.minimums.push(n),this.maximums.push(i),this.leaves.push(d),this.childOffsets.push(0),this.nodeCount++}_construct(n,i,d,g,h){if(n[g].isLeaf(i,d)===1)return;this.childOffsets[h]||(this.childOffsets[h]=this.nodeCount);const v=g-1,S=n[v];let M=0,A=0;for(let b=0;b<this._siblingOffset.length;b++){const P=2*i+this._siblingOffset[b][0],$=2*d+this._siblingOffset[b][1],T=S.getElevation(P,$),O=S.isLeaf(P,$),N=this._addNode(T.min,T.max,O);O&&(M|=1<<b),A||(A=N)}for(let b=0;b<this._siblingOffset.length;b++)M&1<<b||this._construct(n,2*i+this._siblingOffset[b][0],2*d+this._siblingOffset[b][1],v,A+b)}}function xd(u,n,i,d,g,h){return Tt(Tt(u,i,h),Tt(n,d,h),g)}function td(u,n,i){const d=i.dim,g=Vn(u*d-.5,0,d-1),h=Vn(n*d-.5,0,d-1),v=Math.floor(g),S=Math.floor(h),M=Math.min(v+1,d-1),A=Math.min(S+1,d-1);return xd(i.get(v,S),i.get(M,S),i.get(v,A),i.get(M,A),g-v,h-S)}const oS={mapbox:[6553.6,25.6,.1,1e4],terrarium:[256,1,1/256,32768]};function aS(u,n,i){return(256*u*256+256*n+i)/10-1e4}function sS(u,n,i){return 256*u+n+i/256-32768}class nv{get tree(){return this._tree||this._buildQuadTree(),this._tree}constructor(n,i,d,g=!1){if(this.uid=n,i.height!==i.width)throw new RangeError("DEM tiles must be square");if(d&&d!=="mapbox"&&d!=="terrarium")return void Un(`"${d}" is not a valid encoding type. Valid types include "mapbox" and "terrarium".`);this.stride=i.height;const h=this.dim=i.height-2,v=new Uint32Array(i.data.buffer);if(this.pixels=new Uint8Array(i.data.buffer),this.floatView=new Float32Array(i.data.buffer),this.borderReady=g,this._modifiedForSources={},!g){for(let M=0;M<h;M++)v[this._idx(-1,M)]=v[this._idx(0,M)],v[this._idx(h,M)]=v[this._idx(h-1,M)],v[this._idx(M,-1)]=v[this._idx(M,0)],v[this._idx(M,h)]=v[this._idx(M,h-1)];v[this._idx(-1,-1)]=v[this._idx(0,0)],v[this._idx(h,-1)]=v[this._idx(h-1,0)],v[this._idx(-1,h)]=v[this._idx(0,h-1)],v[this._idx(h,h)]=v[this._idx(h-1,h-1)]}const S=d==="terrarium"?sS:aS;for(let M=0;M<v.length;++M){const A=4*M;this.floatView[M]=S(this.pixels[A],this.pixels[A+1],this.pixels[A+2])}this._timestamp=pe.now()}_buildQuadTree(){this._tree=new Zp(this)}get(n,i,d=!1){d&&(n=Vn(n,-1,this.dim),i=Vn(i,-1,this.dim));const g=this._idx(n,i);return this.floatView[g]}set(n,i,d){const g=this._idx(n,i),h=this.floatView[g];return this.floatView[g]=d,d-h}static getUnpackVector(n){return oS[n]}_idx(n,i){if(n<-1||n>=this.dim+1||i<-1||i>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(i+1)*this.stride+(n+1)}static pack(n,i){const d=[0,0,0,0],g=nv.getUnpackVector(i);let h=Math.floor((n+g[3])/g[2]);return d[2]=h%256,h=Math.floor(h/256),d[1]=h%256,h=Math.floor(h/256),d[0]=h,d}getPixels(){return new zm({width:this.stride,height:this.stride},this.pixels)}backfillBorder(n,i,d){if(this.dim!==n.dim)throw new Error("dem dimension mismatch");let g=i*this.dim,h=i*this.dim+this.dim,v=d*this.dim,S=d*this.dim+this.dim;switch(i){case-1:g=h-1;break;case 1:h=g+1}switch(d){case-1:v=S-1;break;case 1:S=v+1}const M=-i*this.dim,A=-d*this.dim;for(let b=v;b<S;b++)for(let P=g;P<h;P++){const $=4*this._idx(P,b),T=4*this._idx(P+M,b+A);this.pixels[$+0]=n.pixels[T+0],this.pixels[$+1]=n.pixels[T+1],this.pixels[$+2]=n.pixels[T+2],this.pixels[$+3]=n.pixels[T+3]}}onDeserialize(){this._tree&&(this._tree.dem=this)}}function Q1(u,n,i){u===1?n.headerLength=i.readFixed32():u===2?n.x=i.readVarint():u===3?n.y=i.readVarint():u===4?n.z=i.readVarint():u===5&&n.layers.push(function(d,g){return d.readFields(dS,{version:0,name:"",units:"",tileSize:0,buffer:0,pixelFormat:0,dataIndex:[]},g)}(i,i.readVarint()+i.pos))}function lS(u,n,i){u===1?(n.delta_filter=function(d,g){return d.readFields(cS,{blockSize:0},g)}(i,i.readVarint()+i.pos),n.filter="delta_filter"):u===2?(i.readVarint(),n.filter="zigzag_filter"):u===3?(i.readVarint(),n.filter="bitshuffle_filter"):u===4&&(i.readVarint(),n.filter="byteshuffle_filter")}function cS(u,n,i){u===1&&(n.blockSize=i.readVarint())}function uS(u,n,i){u===1?(i.readVarint(),n.codec="gzip_data"):u===2?(i.readVarint(),n.codec="jpeg_image"):u===3?(i.readVarint(),n.codec="webp_image"):u===4&&(i.readVarint(),n.codec="png_image")}function o_(u,n,i){let d=0,g=0;u===1?n.firstByte=i.readFixed64():u===2?n.lastByte=i.readFixed64():u===3?n.filters.push(function(h,v){return h.readFields(lS,{},v)}(i,i.readVarint()+i.pos)):u===4?n.codec=function(h,v){return h.readFields(uS,{},v)}(i,i.readVarint()+i.pos):u===5?g=i.readFloat():u===6?d=i.readFloat():u===7?n.bands.push(i.readString()):u===8?n.offset=i.readDouble():u===9&&(n.scale=i.readDouble()),n.offset===0&&(n.offset=g),n.scale===0&&(n.scale=d)}function dS(u,n,i){u===1?n.version=i.readVarint():u===2?n.name=i.readString():u===3?n.units=i.readString():u===4?n.tileSize=i.readVarint():u===5?n.buffer=i.readVarint():u===6?n.pixelFormat=i.readVarint():u===7&&n.dataIndex.push(function(d,g){return d.readFields(o_,{firstByte:0,lastByte:0,filters:[],codec:null,offset:0,scale:0,bands:[]},g)}(i,i.readVarint()+i.pos))}function a_(u,n,i){if(u===2)(function(d,g,h){d.readFields(fS,h,g)})(i,i.readVarint()+i.pos,n);else if(u===3)throw new Error("Not implemented")}function fS(u,n,i){if(u===1){let d=0;const g=i.readVarint()+i.pos;for(;i.pos<g;)n[d++]=i.readVarint()}}function hS(u,n){if(n.length!==4)throw new Error(`Expected data of dimension 4 but got ${n.length}.`);let i=n[3];for(let d=2;d>=1;d--){const g=d===1?1:0,h=d===2?1:0;for(let v=0;v<n[0];v++){const S=n[1]*v;for(let M=g;M<n[1];M++){const A=n[2]*(M+S);for(let b=h;b<n[2];b++){const P=n[3]*(b+A);for(let $=0;$<n[3];$++){const T=P+$;u[T]+=u[T-i]}}}}i*=n[d]}return u}function pS(u){for(let n=0,i=u.length;n<i;n++)u[n]=u[n]>>>1^-(1&u[n]);return u}function mS(u,n){switch(n){case"uint32":return u;case"uint16":for(let i=0;i<u.length;i+=2){const d=u[i],g=u[i+1];u[i]=(240&d)>>4|(61440&d)>>8|(240&g)<<4|61440&g,u[i+1]=15&d|(3840&d)>>4|(15&g)<<8|(3840&g)<<4}return u;case"uint8":for(let i=0;i<u.length;i+=4){const d=u[i],g=u[i+1],h=u[i+2],v=u[i+3];u[i+0]=(192&d)>>6|(192&g)>>4|(192&h)>>2|192&v,u[i+1]=(48&d)>>4|(48&g)>>2|48&h|(48&v)<<2,u[i+2]=(12&d)>>2|12&g|(12&h)<<2|(12&v)<<4,u[i+3]=3&d|(3&g)<<2|(3&h)<<4|(3&v)<<6}return u;default:throw new Error(`Invalid pixel format, "${n}"`)}}_o(nv,"DEMData"),_o(Zp,"DemMinMaxQuadTree",{omit:["dem"]});var Su=Uint8Array,Vp=Uint16Array,gS=Int32Array,ex=new Su([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),tx=new Su([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),vS=new Su([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),nx=function(u,n){for(var i=new Vp(31),d=0;d<31;++d)i[d]=n+=1<<u[d-1];var g=new gS(i[30]);for(d=1;d<30;++d)for(var h=i[d];h<i[d+1];++h)g[h]=h-i[d]<<5|d;return{b:i,r:g}},rx=nx(ex,2),ix=rx.b,s_=rx.r;ix[28]=258,s_[258]=28;for(var yS=nx(tx,0).b,ox=new Vp(32768),kl=0;kl<32768;++kl){var Vf=(43690&kl)>>1|(21845&kl)<<1;ox[kl]=((65280&(Vf=(61680&(Vf=(52428&Vf)>>2|(13107&Vf)<<2))>>4|(3855&Vf)<<4))>>8|(255&Vf)<<8)>>1}var Tg=function(u,n,i){for(var d=u.length,g=0,h=new Vp(n);g<d;++g)u[g]&&++h[u[g]-1];var v,S=new Vp(n);for(g=1;g<n;++g)S[g]=S[g-1]+h[g-1]<<1;v=new Vp(1<<n);var M=15-n;for(g=0;g<d;++g)if(u[g])for(var A=g<<4|u[g],b=n-u[g],P=S[u[g]-1]++<<b,$=P|(1<<b)-1;P<=$;++P)v[ox[P]>>M]=A;return v},Mg=new Su(288);for(kl=0;kl<144;++kl)Mg[kl]=8;for(kl=144;kl<256;++kl)Mg[kl]=9;for(kl=256;kl<280;++kl)Mg[kl]=7;for(kl=280;kl<288;++kl)Mg[kl]=8;var ax=new Su(32);for(kl=0;kl<32;++kl)ax[kl]=5;var _S=Tg(Mg,9),bS=Tg(ax,5),l_=function(u){for(var n=u[0],i=1;i<u.length;++i)u[i]>n&&(n=u[i]);return n},nd=function(u,n,i){var d=n/8|0;return(u[d]|u[d+1]<<8)>>(7&n)&i},rv=function(u,n){var i=n/8|0;return(u[i]|u[i+1]<<8|u[i+2]<<16)>>(7&n)},sx=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],zu=function(u,n,i){var d=new Error(n||sx[u]);if(d.code=u,Error.captureStackTrace&&Error.captureStackTrace(d,zu),!i)throw d;return d},f2=new Su(0),xS=typeof TextDecoder!="undefined"&&new TextDecoder;try{xS.decode(f2,{stream:!0})}catch(u){}const iv={gzip_data:"gzip"};class wu extends Error{constructor(n){super(n),this.name="MRTError"}}const CS={0:"uint32",1:"uint32",2:"uint16",3:"uint8"},Nh={uint32:1,uint16:2,uint8:4},Hp={uint32:Uint32Array,uint16:Uint16Array,uint8:Uint8Array};let c_;class u_{constructor(n=5){this.x=NaN,this.y=NaN,this.z=NaN,this.layers={},this._cacheSize=n}getLayer(n){const i=this.layers[n];if(!i)throw new wu(`Layer '${n}' not found`);return i}getHeaderLength(n){const i=new Uint8Array(n),d=new DataView(n);if(i[0]!==13)throw new wu("File is not a valid MRT.");return d.getUint32(1,!0)}parseHeader(n){const i=new Uint8Array(n),d=this.getHeaderLength(n);if(i.length<d)throw new wu(`Expected header with length >= ${d} but got buffer of length ${i.length}`);const g=function(h,v){return h.readFields(Q1,{headerLength:0,x:0,y:0,z:0,layers:[]},void 0)}(new c_(i.subarray(0,d)));if(!isNaN(this.x)&&(this.x!==g.x||this.y!==g.y||this.z!==g.z))throw new wu(`Invalid attempt to parse header ${g.z}/${g.x}/${g.y} for tile ${this.z}/${this.x}/${this.y}`);this.x=g.x,this.y=g.y,this.z=g.z;for(const h of g.layers)this.layers[h.name]=new SS(h,{cacheSize:this._cacheSize});return this}createDecodingTask(n){const i=[],d=this.getLayer(n.layerName);for(let g of n.blockIndices){const h=d.dataIndex[g],v=h.firstByte-n.firstByte,S=h.lastByte-n.firstByte;if(d._blocksInProgress.has(g))continue;const M={layerName:d.name,firstByte:v,lastByte:S,pixelFormat:d.pixelFormat,blockIndex:g,blockShape:[h.bands.length].concat(d.bandShape),buffer:d.buffer,codec:h.codec.codec,filters:h.filters.map(A=>A.filter)};d._blocksInProgress.add(g),i.push(M)}return new lx(i,()=>{i.forEach(g=>d._blocksInProgress.delete(g.blockIndex))},(g,h)=>{if(i.forEach(v=>d._blocksInProgress.delete(v.blockIndex)),g)throw g;h.forEach(v=>{this.getLayer(v.layerName).processDecodedData(v)})})}}class SS{constructor({version:n,name:i,units:d,tileSize:g,pixelFormat:h,buffer:v,dataIndex:S},M){if(this.version=n,this.version!==1)throw new wu(`Cannot parse raster layer encoded with MRT version ${n}`);this.name=i,this.units=d,this.tileSize=g,this.buffer=v,this.pixelFormat=CS[h],this.dataIndex=S,this.bandShape=[g+2*v,g+2*v,Nh[this.pixelFormat]],this._decodedBlocks=new e_(M?M.cacheSize:5),this._blocksInProgress=new Set}get dimension(){return Nh[this.pixelFormat]}get cacheSize(){return this._decodedBlocks.capacity}getBandList(){return this.dataIndex.map(({bands:n})=>n).flat()}processDecodedData(n){const i=n.blockIndex.toString();this._decodedBlocks.get(i)||this._decodedBlocks.put(i,n.data)}getBlockForBand(n){let i=0;switch(typeof n){case"string":for(const[d,g]of this.dataIndex.entries()){for(const[h,v]of g.bands.entries())if(v===n)return{bandIndex:i+h,blockIndex:d,blockBandIndex:h};i+=g.bands.length}break;case"number":for(const[d,g]of this.dataIndex.entries()){if(n>=i&&n<i+g.bands.length)return{bandIndex:n,blockIndex:d,blockBandIndex:n-i};i+=g.bands.length}break;default:throw new wu(`Invalid band \`${JSON.stringify(n)}\`. Expected string or integer.`)}throw new wu(`Band not found: ${JSON.stringify(n)}`)}getDataRange(n){let i=1/0,d=-1/0;const g=[],h=new Set;for(const v of n){const{blockIndex:S}=this.getBlockForBand(v);if(S<0)throw new wu(`Invalid band: ${JSON.stringify(v)}`);const M=this.dataIndex[S];g.includes(S)||g.push(S),h.add(S),i=Math.min(i,M.firstByte),d=Math.max(d,M.lastByte)}if(h.size>this.cacheSize)throw new wu(`Number of blocks to decode (${h.size}) exceeds cache size (${this.cacheSize}).`);return{layerName:this.name,firstByte:i,lastByte:d,blockIndices:g}}hasBand(n){const{blockIndex:i}=this.getBlockForBand(n);return i>=0}hasDataForBand(n){const{blockIndex:i}=this.getBlockForBand(n);return i>=0&&!!this._decodedBlocks.get(i.toString())}getBandView(n){const{blockIndex:i,blockBandIndex:d}=this.getBlockForBand(n),g=this._decodedBlocks.get(i.toString());if(!g)throw new wu(`Data for band ${JSON.stringify(n)} of layer "${this.name}" not decoded.`);const h=this.dataIndex[i],v=this.bandShape.reduce((A,b)=>A*b,1),S=d*v,M=g.subarray(S,S+v);return{data:M,bytes:new Uint8Array(M.buffer).subarray(M.byteOffset,M.byteOffset+M.byteLength),tileSize:this.tileSize,buffer:this.buffer,pixelFormat:this.pixelFormat,dimension:this.dimension,offset:h.offset,scale:h.scale}}}u_.setPbf=function(u){c_=u};class lx{constructor(n,i,d){this.tasks=n,this._onCancel=i,this._onComplete=d,this._finalized=!1}cancel(){this._finalized||(this._onCancel(),this._finalized=!0)}complete(n,i){this._finalized||(this._onComplete(n,i),this._finalized=!0)}}u_.performDecoding=function(u,n){const i=new Uint8Array(u);return Promise.all(n.tasks.map(d=>{const{layerName:g,firstByte:h,lastByte:v,pixelFormat:S,blockShape:M,blockIndex:A,filters:b,codec:P}=d,$=i.subarray(h,v+1),T=new Uint32Array(M[0]*M[1]*M[2]);let O;if(P!=="gzip_data")throw new wu(`Unhandled codec: ${P}`);return O=function(N,W){if(!globalThis.DecompressionStream&&W==="gzip_data")return Promise.resolve(((re=function(Ne){Ne[0]==31&&Ne[1]==139&&Ne[2]==8||zu(6,"invalid gzip data");var ht=Ne[3],ft=10;4&ht&&(ft+=2+(Ne[10]|Ne[11]<<8));for(var at=(ht>>3&1)+(ht>>4&1);at>0;at-=!Ne[ft++]);return ft+(2&ht)}(ue=N))+8>ue.length&&zu(6,"invalid gzip data"),function(Ne,ht,ft,at){var Gt=Ne.length;if(!Gt||ht.f&&!ht.l)return ft||new Su(0);var vt=!ft,en=vt||ht.i!=2,mn=ht.i;vt&&(ft=new Su(3*Gt));var un,yn,zn=function(Sd){var jh=ft.length;if(Sd>jh){var Rg=new Su(Math.max(2*jh,Sd));Rg.set(ft),ft=Rg}},Gn=ht.f||0,Mn=ht.p||0,$r=ht.b||0,ii=ht.l,Or=ht.d,Xi=ht.m,Fi=ht.n,xi=8*Gt;do{if(!ii){Gn=nd(Ne,Mn,1);var ni=nd(Ne,Mn+1,3);if(Mn+=3,!ni){var To=Ne[(Ea=4+((Mn+7)/8|0))-4]|Ne[Ea-3]<<8,Qi=Ea+To;if(Qi>Gt){mn&&zu(0);break}en&&zn($r+To),ft.set(Ne.subarray(Ea,Qi),$r),ht.b=$r+=To,ht.p=Mn=8*Qi,ht.f=Gn;continue}if(ni==1)ii=_S,Or=bS,Xi=9,Fi=5;else if(ni==2){var ho=nd(Ne,Mn,31)+257,da=nd(Ne,Mn+10,15)+4,za=ho+nd(Ne,Mn+5,31)+1;Mn+=14;for(var Ba=new Su(za),Fa=new Su(19),Ja=0;Ja<da;++Ja)Fa[vS[Ja]]=nd(Ne,Mn+3*Ja,7);Mn+=3*da;var Qa=l_(Fa),js=(1<<Qa)-1,Ms=Tg(Fa,Qa);for(Ja=0;Ja<za;){var Ea,Es=Ms[nd(Ne,Mn,js)];if(Mn+=15&Es,(Ea=Es>>4)<16)Ba[Ja++]=Ea;else{var Is=0,Xs=0;for(Ea==16?(Xs=3+nd(Ne,Mn,3),Mn+=2,Is=Ba[Ja-1]):Ea==17?(Xs=3+nd(Ne,Mn,7),Mn+=3):Ea==18&&(Xs=11+nd(Ne,Mn,127),Mn+=7);Xs--;)Ba[Ja++]=Is}}var wl=Ba.subarray(0,ho),jl=Ba.subarray(ho);Xi=l_(wl),Fi=l_(jl),ii=Tg(wl,Xi),Or=Tg(jl,Fi)}else zu(1);if(Mn>xi){mn&&zu(0);break}}en&&zn($r+131072);for(var El=(1<<Xi)-1,pl=(1<<Fi)-1,Il=Mn;;Il=Mn){var sl=(Is=ii[rv(Ne,Mn)&El])>>4;if((Mn+=15&Is)>xi){mn&&zu(0);break}if(Is||zu(2),sl<256)ft[$r++]=sl;else{if(sl==256){Il=Mn,ii=null;break}var wc=sl-254;sl>264&&(wc=nd(Ne,Mn,(1<<(rd=ex[Ja=sl-257]))-1)+ix[Ja],Mn+=rd);var Zs=Or[rv(Ne,Mn)&pl],du=Zs>>4;if(Zs||zu(3),Mn+=15&Zs,jl=yS[du],du>3){var rd=tx[du];jl+=rv(Ne,Mn)&(1<<rd)-1,Mn+=rd}if(Mn>xi){mn&&zu(0);break}en&&zn($r+131072);var fc=$r+wc;if($r<jl){var id=0-jl,kh=Math.min(jl,fc);for(id+$r<0&&zu(3);$r<kh;++$r)ft[$r]=(void 0)[id+$r]}for(;$r<fc;++$r)ft[$r]=ft[$r-jl]}}ht.l=ii,ht.p=Il,ht.b=$r,ht.f=Gn,ii&&(Gn=1,ht.m=Xi,ht.d=Or,ht.n=Fi)}while(!Gn);return $r!=ft.length&&vt?(un=ft,((yn=$r)==null||yn>un.length)&&(yn=un.length),new Su(un.subarray(0,yn))):ft.subarray(0,$r)}(ue.subarray(re,-8),{i:2},new Su(((J=ue)[(se=J.length)-4]|J[se-3]<<8|J[se-2]<<16|J[se-1]<<24)>>>0))));var J,se,ue,re;const ve=iv[W];if(!ve)throw new Error(`Unhandled codec: ${W}`);const we=new globalThis.DecompressionStream(ve);return new Response(new Blob([N]).stream().pipeThrough(we)).arrayBuffer().then(Ne=>new Uint8Array(Ne))}($,P).then(N=>(function(W,J){W.readFields(a_,J)}(new c_(N),T),new Hp[S](T.buffer))),O.then(N=>{for(let W=b.length-1;W>=0;W--)switch(b[W]){case"delta_filter":hS(N,M);break;case"zigzag_filter":pS(N);break;case"bitshuffle_filter":mS(N,S);break;default:throw new wu(`Unhandled filter "${b[W]}"`)}return{layerName:g,blockIndex:A,data:N}}).catch(N=>{throw N})}))},_o(lx,"MRTDecodingBatch",{omit:["_onCancel","_onComplete"]});let Bh,ov,Nu,Xc,Hf,Up=null;function d_(){return xo()&&self.worker&&self.worker.dracoUrl?self.worker.dracoUrl:ov||li.DRACO_URL}function Wp(){if(xo()&&self.worker&&self.worker.meshoptUrl)return self.worker.meshoptUrl;if(Xc)return Xc;const u=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]);if(typeof WebAssembly!="object")throw new Error("WebAssembly not supported, cannot instantiate meshoptimizer");return Xc=WebAssembly.validate(u)?li.MESHOPT_SIMD_URL:li.MESHOPT_URL,Xc}const av={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},cx={5120:"DT_INT8",5121:"DT_UINT8",5122:"DT_INT16",5123:"DT_UINT16",5125:"DT_UINT32",5126:"DT_FLOAT32"},Pg={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16};function Og(u,n,i){const d=i.json.bufferViews.length,g=i.buffers.length;n.bufferView=d,i.json.bufferViews[d]={buffer:g,byteLength:u.byteLength},i.buffers[g]=u}const sv="KHR_draco_mesh_compression";function Gp(u,n){const i=u.extensions&&u.extensions[sv];if(!i)return;const d=new Nu.Decoder,g=Cd(n,i.bufferView),h=new Nu.Mesh;if(!d.DecodeArrayToMesh(g,g.byteLength,h))throw new Error("Failed to decode Draco mesh");const v=n.json.accessors[u.indices],S=av[v.componentType],M=v.count*S.BYTES_PER_ELEMENT,A=Nu._malloc(M);S===Uint16Array?d.GetTrianglesUInt16Array(h,M,A):d.GetTrianglesUInt32Array(h,M,A),Og(Nu.memory.buffer.slice(A,A+M),v,n),Nu._free(A);for(const b of Object.keys(i.attributes)){const P=d.GetAttributeByUniqueId(h,i.attributes[b]),$=n.json.accessors[u.attributes[b]],T=cx[$.componentType],O=$.count*Pg[$.type]*av[$.componentType].BYTES_PER_ELEMENT,N=Nu._malloc(O);d.GetAttributeDataArrayForAllPoints(h,P,Nu[T],O,N),Og(Nu.memory.buffer.slice(N,N+O),$,n),Nu._free(N)}d.destroy(),h.destroy(),delete u.extensions[sv]}const lv="EXT_meshopt_compression";function ux(u,n){if(!u.extensions||!u.extensions[lv])return;const i=u.extensions[lv],d=new Uint8Array(n.buffers[i.buffer],i.byteOffset||0,i.byteLength||0),g=new Uint8Array(i.count*i.byteStride);Hf.decodeGltfBuffer(g,i.count,i.byteStride,d,i.mode,i.filter),u.buffer=n.buffers.length,u.byteOffset=0,n.buffers[u.buffer]=g.buffer,delete u.extensions[lv]}const Uf=1179937895,dx=new TextDecoder("utf8");function f_(u,n){return new URL(u,n).href}function wS(u,n,i,d){return fetch(f_(u.uri,d)).then(g=>g.arrayBuffer()).then(g=>{n.buffers[i]=g})}function Cd(u,n){const i=u.json.bufferViews[n];return new Uint8Array(u.buffers[i.buffer],i.byteOffset||0,i.byteLength)}function fx(u,n,i,d){if(u.uri){const g=f_(u.uri,d);return fetch(g).then(h=>h.blob()).then(h=>createImageBitmap(h)).then(h=>{n.images[i]=h})}if(u.bufferView!==void 0){const g=Cd(n,u.bufferView),h=new Blob([g],{type:u.mimeType});return createImageBitmap(h).then(v=>{n.images[i]=v})}}function h_(u,n=0,i){const d={json:null,images:[],buffers:[]};if(new Uint32Array(u,n,1)[0]===Uf){const b=new Uint32Array(u,n);let P=2;const $=(b[P++]>>2)-3,T=b[P++]>>2;if(P++,d.json=JSON.parse(dx.decode(b.subarray(P,P+T))),P+=T,P<$){const O=b[P++];P++;const N=n+(P<<2);d.buffers[0]=u.slice(N,N+O)}}else d.json=JSON.parse(dx.decode(new Uint8Array(u,n)));const{buffers:g,images:h,meshes:v,extensionsUsed:S,bufferViews:M}=d.json;let A=Promise.resolve();if(g){const b=[];for(let P=0;P<g.length;P++){const $=g[P];$.uri?b.push(wS($,d,P,i)):d.buffers[P]||(d.buffers[P]=null)}A=Promise.all(b)}return A.then(()=>{const b=[],P=S&&S.includes(sv),$=S&&S.includes(lv);if(P&&b.push(function(){if(!Nu)return Bh!=null?Bh:(Bh=function(T){let O,N=null;function W(){O=new Uint8Array(N.buffer)}function J(){throw new Error("Unexpected Draco error.")}const se={a:{a:J,d:function(ue,re,ve){return O.copyWithin(ue,re,re+ve)},c:function(ue){const re=O.length,ve=Math.max(ue>>>0,Math.ceil(1.2*re)),we=Math.ceil((ve-re)/65536);try{return N.grow(we),W(),!0}catch(Ne){return!1}},b:J}};return(WebAssembly.instantiateStreaming?WebAssembly.instantiateStreaming(T,se):T.then(ue=>ue.arrayBuffer()).then(ue=>WebAssembly.instantiate(ue,se))).then(ue=>{const{Rb:re,Qb:ve,P:we,T:Ne,X:ht,Ja:ft,La:at,Qa:Gt,Va:vt,Wa:en,eb:mn,jb:un,f:yn,e:zn,yb:Gn,zb:Mn,Ab:$r,Bb:ii,Db:Or,Gb:Xi}=ue.instance.exports;N=zn;const Fi=(()=>{let xi=0,ni=0,To=0,Qi=0;return ho=>{To&&(re(Qi),re(xi),ni+=To,To=xi=0),xi||(ni+=128,xi=ve(ni));const da=ho.length+7&-8;let za=xi;da>=ni&&(To=da,za=Qi=ve(da));for(let Ba=0;Ba<ho.length;Ba++)O[za+Ba]=ho[Ba];return za}})();return W(),yn(),{memory:zn,_free:re,_malloc:ve,Mesh:class{constructor(){this.ptr=we()}destroy(){Ne(this.ptr)}},Decoder:class{constructor(){this.ptr=ft()}destroy(){un(this.ptr)}DecodeArrayToMesh(xi,ni,To){const Qi=Fi(xi),ho=at(this.ptr,Qi,ni,To.ptr);return!!ht(ho)}GetAttributeByUniqueId(xi,ni){return{ptr:Gt(this.ptr,xi.ptr,ni)}}GetTrianglesUInt16Array(xi,ni,To){vt(this.ptr,xi.ptr,ni,To)}GetTrianglesUInt32Array(xi,ni,To){en(this.ptr,xi.ptr,ni,To)}GetAttributeDataArrayForAllPoints(xi,ni,To,Qi,ho){mn(this.ptr,xi.ptr,ni.ptr,To,Qi,ho)}},DT_INT8:Gn(),DT_UINT8:Mn(),DT_INT16:$r(),DT_UINT16:ii(),DT_UINT32:Or(),DT_FLOAT32:Xi()}})}(fetch(d_())),Bh.then(T=>{Nu=T,Bh=void 0}))}()),$&&b.push(function(){if(Hf)return;const T=function(O){let N;const W=WebAssembly.instantiateStreaming(O,{}).then(ue=>{N=ue.instance,N.exports.__wasm_call_ctors()}),J={NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},se={ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};return{ready:W,supported:!0,decodeGltfBuffer(ue,re,ve,we,Ne,ht){(function(ft,at,Gt,vt,en,mn,un){const yn=ft.exports.sbrk,zn=vt+3&-4,Gn=yn(zn*en),Mn=yn(mn.length),$r=new Uint8Array(ft.exports.memory.buffer);$r.set(mn,Mn);const ii=at(Gn,vt,en,Mn,mn.length);if(ii===0&&un&&un(Gn,zn,en),Gt.set($r.subarray(Gn,Gn+vt*en)),yn(Gn-yn(0)),ii!==0)throw new Error(`Malformed buffer data: ${ii}`)})(N,N.exports[se[Ne]],ue,re,ve,we,N.exports[J[ht]])}}}(fetch(Wp()));return T.ready.then(()=>{Hf=T})}()),h)for(let T=0;T<h.length;T++)b.push(fx(h[T],d,T,i));return(b.length?Promise.all(b):Promise.resolve()).then(()=>{if(P&&v)for(const{primitives:T}of v)for(const O of T)Gp(O,d);if($&&v&&M)for(const T of M)ux(T,d);return d})})}function Fh(u,n){const i=u.json.bufferViews[n.bufferView],d=av[n.componentType];return new d(u.buffers[i.buffer],(n.byteOffset||0)+(i.byteOffset||0),n.count*(i.byteStride&&i.byteStride!==Pg[n.type]*d.BYTES_PER_ELEMENT?i.byteStride/d.BYTES_PER_ELEMENT:Pg[n.type]))}function p_(u,n,i,d){const g=av[n.componentType],h=function(b){switch(b){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:return 1}}(g),v=u.json.bufferViews[n.bufferView],S=v.byteStride?v.byteStride/g.BYTES_PER_ELEMENT:Pg[n.type],M=i.float32,A=M.length/i.capacity;for(let b=0,P=0;b<n.count*S;b+=S,P+=A)for(let $=0;$<A;$++)M[P+$]=d[b+$]*h;i._trim()}function ES(u,n,i){const d=u.indices,g=u.attributes,h={};h.indexArray=new Nl;const v=n.json.accessors[d],S=v.count/3;h.indexArray.reserve(S);const M=Fh(n,v);for(let $=0;$<S;$++)h.indexArray.emplaceBack(M[3*$],M[3*$+1],M[3*$+2]);h.indexArray._trim(),h.vertexArray=new Ou;const A=n.json.accessors[g.POSITION];h.vertexArray.reserve(A.count);const b=Fh(n,A);for(let $=0;$<A.count;$++)h.vertexArray.emplaceBack(b[3*$],b[3*$+1],b[3*$+2]);if(h.vertexArray._trim(),h.aabb=new Do(A.min,A.max),h.centroid=function($,T){const O=[0,0,0],N=$.length;if(N>0){for(let W=0;W<N;W++){const J=3*$[W];O[0]+=T[J],O[1]+=T[J+1],O[2]+=T[J+2]}O[0]/=N,O[1]/=N,O[2]/=N}return O}(M,b),g.COLOR_0!==void 0){const $=n.json.accessors[g.COLOR_0],T=Pg[$.type],O=Fh(n,$);h.colorArray=T===3?new Ou:new Zd,h.colorArray.resize($.count),p_(n,$,h.colorArray,O)}if(g.NORMAL!==void 0){h.normalArray=new Ou;const $=n.json.accessors[g.NORMAL];h.normalArray.resize($.count);const T=Fh(n,$);p_(n,$,h.normalArray,T)}if(g.TEXCOORD_0!==void 0&&i.length>0){h.texcoordArray=new bf;const $=n.json.accessors[g.TEXCOORD_0];h.texcoordArray.resize($.count);const T=Fh(n,$);p_(n,$,h.texcoordArray,T)}if(g._FEATURE_ID_RGBA4444!==void 0){const $=n.json.accessors[g._FEATURE_ID_RGBA4444];n.json.extensionsUsed&&n.json.extensionsUsed.includes("EXT_meshopt_compression")&&(h.featureData=Fh(n,$))}g._FEATURE_RGBA4444!==void 0&&(h.featureData=new Uint32Array(Fh(n,n.json.accessors[g._FEATURE_RGBA4444]).buffer));const P=u.material;return h.material=function($,T){const{emissiveFactor:O=[0,0,0],alphaMode:N="OPAQUE",alphaCutoff:W=.5,normalTexture:J,occlusionTexture:se,emissiveTexture:ue,doubleSided:re}=$,{baseColorFactor:ve=[1,1,1,1],metallicFactor:we=1,roughnessFactor:Ne=1,baseColorTexture:ht,metallicRoughnessTexture:ft}=$.pbrMetallicRoughness||{},at=se?T[se.index]:void 0;if(se&&se.extensions&&se.extensions.KHR_texture_transform&&at){const Gt=se.extensions.KHR_texture_transform;at.offsetScale=[Gt.offset[0],Gt.offset[1],Gt.scale[0],Gt.scale[1]]}return{pbrMetallicRoughness:{baseColorFactor:new _e(...ve),metallicFactor:we,roughnessFactor:Ne,baseColorTexture:ht?T[ht.index]:void 0,metallicRoughnessTexture:ft?T[ft.index]:void 0},doubleSided:re,emissiveFactor:O,alphaMode:N,alphaCutoff:W,normalTexture:J?T[J.index]:void 0,occlusionTexture:at,emissionTexture:ue?T[ue.index]:void 0,defined:$.defined===void 0}}(P!==void 0?n.json.materials[P]:{defined:!1},i),h}function m_(u,n,i){const{matrix:d,rotation:g,translation:h,scale:v,mesh:S,extras:M,children:A}=u,b={};if(b.matrix=d||$e.mat4.fromRotationTranslationScale([],g||[0,0,0,1],h||[0,0,0],v||[1,1,1]),S!==void 0){b.meshes=i[S];const P=b.anchor=[0,0];for(const $ of b.meshes){const{min:T,max:O}=$.aabb;P[0]+=T[0]+O[0],P[1]+=T[1]+O[1]}P[0]=Math.floor(P[0]/b.meshes.length/2),P[1]=Math.floor(P[1]/b.meshes.length/2)}if(M&&(M.id&&(b.id=M.id),M.lights&&(b.lights=function(P){if(!P.length)return[];const $=function(J){const se=atob(J),ue=new Uint8Array(se.length);for(let re=0;re<se.length;re++)ue[re]=se.codePointAt(re);return ue}(P),T=[],O=$.length/24,N=new Uint16Array($.buffer),W=new Float32Array($.buffer);for(let J=0;J<O;J++){const se=N[2*J*6]/30,ue=N[2*J*6+1]/30,re=N[2*J*6+10]/100,ve=W[6*J+1],we=W[6*J+2],Ne=W[6*J+3],ht=W[6*J+4],ft=Ne-ve,at=ht-we,Gt=Math.hypot(ft,at);T.push({pos:[ve+.5*ft,we+.5*at,ue],normal:[at/Gt,-ft/Gt,0],width:Gt,height:se,depth:re,points:[ve,we,Ne,ht]})}return T}(M.lights))),A){const P=[];for(const $ of A)P.push(m_(n.json.nodes[$],n,i));b.children=P}return b}function IS(u){if(u.vertices.length===0||u.indices.length===0)return null;const n=new ab(u.vertices,u.indices,8,256),[i,d]=[n.min.clone(),n.max.clone()];return{vertices:u.vertices,indices:u.indices,grid:n,min:i,max:d}}function TS(u){if(!u.extras||!u.extras.ground)return null;const n=u.extras.ground;if(!n||!Array.isArray(n)||n.length===0)return null;const i=n[0];if(!i||!Array.isArray(i)||i.length===0)return null;const d=[];for(const v of i){if(!Array.isArray(v)||v.length!==2)continue;const S=v[0],M=v[1];typeof S=="number"&&typeof M=="number"&&d.push(new Rn(S,M))}if(d.length<3)return null;d.length>1&&d[d.length-1].equals(d[0])&&d.pop();let g=0;for(let v=0;v<d.length;v++){const S=d[v],M=d[(v+1)%d.length],A=d[(v+2)%d.length];g+=(S.x-M.x)*(A.y-M.y)-(A.x-M.x)*(S.y-M.y)}g>0&&d.reverse();const h=Bm(d.flatMap(v=>[v.x,v.y]),[]);return h.length===0?null:{vertices:d,indices:h}}function MS(u,n){const i=[],d=[];let g=0;const h=[];for(const v of u){g=i.length;const S=v.vertexArray.float32,M=v.indexArray.uint16;for(let A=0;A<v.vertexArray.length;A++)h[0]=S[3*A+0],h[1]=S[3*A+1],h[2]=S[3*A+2],$e.vec3.transformMat4(h,h,n),i.push(new Rn(h[0],h[1]));for(let A=0;A<3*v.indexArray.length;A++)d.push(M[A]+g)}if(d.length%3!=0)return null;for(let v=0;v<d.length;v+=3){const S=i[d[v+0]],M=i[d[v+1]],A=i[d[v+2]];(S.x-M.x)*(A.y-M.y)-(A.x-M.x)*(S.y-M.y)>0&&([d[v+1],d[v+2]]=[d[v+2],d[v+1]])}return{vertices:i,indices:d}}function hx(u){const n=function(M,A){const b=[],P=WebGL2RenderingContext;if(M.json.textures)for(const $ of M.json.textures){const T={magFilter:P.LINEAR,minFilter:P.NEAREST,wrapS:P.REPEAT,wrapT:P.REPEAT};$.sampler!==void 0&&Object.assign(T,M.json.samplers[$.sampler]),b.push({image:A[$.source],sampler:T,uploaded:!1})}return b}(u,u.images),i=function(M,A){const b=[];for(const P of M.json.meshes){const $=[];for(const T of P.primitives)$.push(ES(T,M,A));b.push($)}return b}(u,n),{scenes:d,scene:g,nodes:h}=u.json,v=d?d[g||0].nodes:h,S=[];for(const M of v)S.push(m_(h[M],u,i));return function(M,A,b){const P={},$=new Set;for(let T=0;T<M.length;T++){const O=b[A[T]];if(!O.extras)continue;const N=O.extras["mapbox:footprint:version"],W=O.extras["mapbox:footprint:id"];(N||W)&&$.add(T),N==="1.0.0"&&W&&(P[W]=T)}for(let T=0;T<M.length;T++){if($.has(T))continue;const O=M[T],N=b[A[T]];if(!N.extras)continue;let W=null;O.id in P&&(W=MS(M[P[O.id]].meshes,O.matrix)),W||(W=TS(N)),W&&(O.footprint=IS(W))}if($.size>0){const T=Array.from($.values()).sort((O,N)=>O-N);for(let O=T.length-1;O>=0;O--)M.splice(T[O],1)}}(S,v,u.json.nodes),S}function PS(u){u.heightmap=new Float32Array(4096),u.heightmap.fill(-1);const n=u.vertexArray.float32,i=u.aabb.min[0]-1,d=u.aabb.min[1]-1,g=Ah/(u.aabb.max[0]-i+2),h=Ah/(u.aabb.max[1]-d+2);for(let v=0;v<n.length;v+=3){const S=n[v+2],M=(n[v+0]-i)*g|0,A=(n[v+1]-d)*h|0;S>u.heightmap[A*Ah+M]&&(u.heightmap[A*Ah+M]=S)}}function px(u,n){const i={};i.indexArray=new Nl,i.indexArray.reserve(4*u.length),i.vertexArray=new Ou,i.vertexArray.reserve(10*u.length),i.colorArray=new Zd,i.vertexArray.reserve(10*u.length);let d=0;for(const v of u){const S=Math.min(10,Math.max(4,1.3*v.height))*n,M=[-v.normal[1],v.normal[0],0],A=Math.min(.29,.1*v.width/v.depth),b=v.width-2*v.depth*n*(A+.01),P=$e.vec3.scaleAndAdd([],v.pos,M,b/2),$=$e.vec3.scaleAndAdd([],v.pos,M,-b/2),T=[P[0],P[1],P[2]+v.height],O=[$[0],$[1],$[2]+v.height],N=$e.vec3.scaleAndAdd([],v.normal,M,A);$e.vec3.scale(N,N,S);const W=$e.vec3.scaleAndAdd([],v.normal,M,-A);$e.vec3.scale(W,W,S),$e.vec3.add(N,P,N),$e.vec3.add(W,$,W),P[2]+=.1,$[2]+=.1,i.vertexArray.emplaceBack(N[0],N[1],N[2]),i.vertexArray.emplaceBack(W[0],W[1],W[2]),i.vertexArray.emplaceBack(P[0],P[1],P[2]),i.vertexArray.emplaceBack($[0],$[1],$[2]),i.vertexArray.emplaceBack(T[0],T[1],T[2]),i.vertexArray.emplaceBack(O[0],O[1],O[2]),i.vertexArray.emplaceBack(P[0],P[1],P[2]),i.vertexArray.emplaceBack($[0],$[1],$[2]),i.vertexArray.emplaceBack(N[0],N[1],N[2]),i.vertexArray.emplaceBack(W[0],W[1],W[2]);const J=b/S/2;i.colorArray.emplaceBack(-J-A,-1,J,.8),i.colorArray.emplaceBack(J+A,-1,J,.8),i.colorArray.emplaceBack(-J,0,J,1.3),i.colorArray.emplaceBack(J,0,J,1.3),i.colorArray.emplaceBack(J+A,-.8,J,.7),i.colorArray.emplaceBack(J+A,-.8,J,.7),i.colorArray.emplaceBack(0,0,J,1.3),i.colorArray.emplaceBack(0,0,J,1.3),i.colorArray.emplaceBack(J+A,-1.2,J,.8),i.colorArray.emplaceBack(J+A,-1.2,J,.8),i.indexArray.emplaceBack(6+d,4+d,8+d),i.indexArray.emplaceBack(7+d,9+d,5+d),i.indexArray.emplaceBack(0+d,1+d,2+d),i.indexArray.emplaceBack(1+d,3+d,2+d),d+=10}const g={defined:!0,emissiveFactor:[0,0,0]},h={};return h.baseColorFactor=_e.white,g.pbrMetallicRoughness=h,i.material=g,i.aabb=new Do([1/0,1/0,1/0],[-1/0,-1/0,-1/0]),i}class mx{constructor(n){this._stringToNumber={},this._numberToString=[];for(let i=0;i<n.length;i++){const d=n[i];this._stringToNumber[d]=i,this._numberToString[i]=d}}encode(n){return this._stringToNumber[n]}decode(n){return this._numberToString[n]}}const OS=["id","tile","layer","source","sourceLayer","state"];class Kp{constructor(n,i,d,g,h){this.type="Feature",this._vectorTileFeature=n,this._z=i,this._x=d,this._y=g,this.properties=n.properties,this.id=h}clone(){const n=new Kp(this._vectorTileFeature,this._z,this._x,this._y,this.id);return this.state&&(n.state=Object.assign({},this.state)),this.layer&&(n.layer=Object.assign({},this.layer)),this.source&&(n.source=this.source),this.sourceLayer&&(n.sourceLayer=this.sourceLayer),n}get geometry(){return this._geometry===void 0&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._x,this._y,this._z).geometry),this._geometry}set geometry(n){this._geometry=n}toJSON(){const n={type:"Feature",state:void 0,geometry:this.geometry,properties:this.properties};for(const i of OS)this[i]!==void 0&&(n[i]=this[i]);return n}}class g_{constructor(n,i){this.tileID=n,this.x=n.canonical.x,this.y=n.canonical.y,this.z=n.canonical.z,this.grid=new zd(Bi,16,0),this.featureIndexArray=new _h,this.promoteId=i,this.is3DTile=!1,this.serializedLayersCache=new Map}insert(n,i,d,g,h,v=0,S=0){const M=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(d,g,h,v);const A=this.grid;for(let b=0;b<i.length;b++){const P=i[b],$=[1/0,1/0,-1/0,-1/0];for(let T=0;T<P.length;T++){const O=P[T];$[0]=Math.min($[0],O.x),$[1]=Math.min($[1],O.y),$[2]=Math.max($[2],O.x),$[3]=Math.max($[3],O.y)}S!==0&&($[0]-=S,$[1]-=S,$[2]+=S,$[3]+=S),$[0]<Bi&&$[1]<Bi&&$[2]>=0&&$[3]>=0&&A.insert(M,$[0],$[1],$[2],$[3])}}loadVTLayers(){if(!this.vtLayers){this.vtLayers=new Tf.VectorTile(new Jm(this.rawTileData)).layers,this.sourceLayerCoder=new mx(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"]),this.vtFeatures={};for(const n in this.vtLayers)this.vtFeatures[n]=[]}return this.vtLayers}query(n,i){const{tilespaceGeometry:d,transform:g,tileTransform:h,pixelPosMatrix:v,availableImages:S}=i;this.loadVTLayers(),this.serializedLayersCache.clear();const M=d.bufferedTilespaceBounds,A=this.grid.query(M.min.x,M.min.y,M.max.x,M.max.y,(T,O,N,W)=>rn(d.bufferedTilespaceGeometry,T,O,N,W));A.sort(h2);let b=null;g.elevation&&A.length>0&&(b=Bp.create(g.elevation,this.tileID));const P={};let $;for(let T=0;T<A.length;T++){const O=A[T];if(O===$)continue;$=O;const N=this.featureIndexArray.get(O);let W=null;this.is3DTile?this.loadMatchingModelFeature(P,N,n,d,g):this.loadMatchingFeature(P,N,n,S,(J,se,ue,re=0)=>(W||(W=U(J,this.tileID.canonical,h)),se.queryIntersectsFeature(d,J,ue,W,this.z,g,v,b,re)))}return P}loadMatchingFeature(n,i,d,g,h){const{featureIndex:v,bucketIndex:S,sourceLayerIndex:M,layoutVertexArrayOffset:A}=i,b=this.bucketLayerIDs[S],P=d.layers,$=Object.keys(P);if($.length&&!function(J,se){for(let ue=0;ue<J.length;ue++)if(se.indexOf(J[ue])>=0)return!0;return!1}($,b))return;const T=d.sourceCache,O=this.sourceLayerCoder.decode(M),N=this.vtLayers[O].feature(v),W=this.getId(N,O);for(let J=0;J<b.length;J++){const se=b[J];if(!P[se])continue;const{styleLayer:ue,targets:re}=P[se];let ve={};W!==void 0&&(ve=T.getFeatureState(ue.sourceLayer,W));const we=!h||h(N,ue,ve,A);if(!we)continue;const Ne=new Kp(N,this.z,this.x,this.y,W);Ne.tile=this.tileID.canonical,Ne.state=ve;let ht=this.serializedLayersCache.get(se);ht||(ht=ue.serialize(),ht.id=se,this.serializedLayersCache.set(se,ht)),Ne.source=ht.source,Ne.sourceLayer=ht["source-layer"],Ne.layer=Jr({},ht),Ne.layer.paint=RS(ht.paint,ue.paint,N,ve,g),Ne.layer.layout=RS(ht.layout,ue.layout,N,ve,g);let ft=!1;for(const at of re){this.updateFeatureProperties(Ne,at);const{filter:Gt}=at;if(Gt){if(N.properties=Ne.properties,Gt.needGeometry){const vt=Q(N,!0);if(!Gt.filter(new Ws(this.tileID.overscaledZ),vt,this.tileID.canonical))continue}else if(!Gt.filter(new Ws(this.tileID.overscaledZ),N))continue}ft=!0,at.targetId&&this.addFeatureVariant(Ne,at)}ft&&this.appendToResult(n,se,v,Ne,we)}}loadMatchingModelFeature(n,i,d,g,h){const v=this.bucketLayerIDs[0][0],S=d.layers;if(!S[v])return;const{styleLayer:M,targets:A}=S[v];if(M.type!=="model")return;const b=g.tile,P=i.featureIndex,$=b.getBucket(M);if(!($&&$ instanceof U0))return;const T=function(ht,ft,at,Gt){const vt=ht.getNodesInfo()[ft];if(vt.hiddenByReplacement||!vt.node.meshes)return;let en=Number.MAX_VALUE;const mn=vt.node,un=at.tile,yn=Gt.calculatePosMatrix(un.tileID.toUnwrapped(),Gt.worldSize),zn=vt.evaluatedScale;let Gn=0;Gt.elevation&&mn.elevation&&(Gn=mn.elevation*Gt.elevation.exaggeration()),$e.mat4.translate(yn,yn,[(mn.anchor?mn.anchor[0]:0)*(zn[0]-1),(mn.anchor?mn.anchor[1]:0)*(zn[1]-1),Gn]),$e.mat4.scale(yn,yn,zn);const Mn=at.queryGeometry,$r=Mn.isPointQuery()?Mn.screenBounds:Mn.screenGeometry,ii=function(Xi){const Fi=$e.mat4.multiply([],yn,Xi.matrix);$e.mat4.multiply(Fi,Gt.expandedFarZProjMatrix,Fi);for(let xi=0;xi<Xi.meshes.length;++xi){const ni=Xi.meshes[xi];if(xi===Xi.lightMeshIndex)continue;const To=M1($r,Gt,Fi,ni.aabb);To!=null&&(en=Math.min(To,en))}if(Xi.children)for(const xi of Xi.children)ii(xi)};if(ii(mn),en===Number.MAX_VALUE)return;const Or=new ps(0,0);return k1(un.tileID.canonical,Or,vt.node.anchor[0],vt.node.anchor[1]),{intersectionZ:en,position:Or,feature:vt.feature}}($,P,g,h);if(!T)return;const{z:O,x:N,y:W}=b.tileID.canonical,{feature:J,intersectionZ:se,position:ue}=T;let re={};J.id!==void 0&&(re=d.sourceCache.getFeatureState(M.sourceLayer,J.id));const ve=new Kp({},O,N,W,J.id);ve.tile=this.tileID.canonical,ve.state=re,ve.properties=J.properties,ve.geometry={type:"Point",coordinates:[ue.lng,ue.lat]};let we=this.serializedLayersCache.get(v);we||(we=M.serialize(),we.id=v,this.serializedLayersCache.set(v,we)),ve.source=we.source,ve.sourceLayer=we["source-layer"],ve.layer=Jr({},we);let Ne=!1;for(const ht of A){this.updateFeatureProperties(ve,ht);const{filter:ft}=ht;if(ft){if(J.properties=ve.properties,ft.needGeometry){if(!ft.filter(new Ws(this.tileID.overscaledZ),J,this.tileID.canonical))continue}else if(!ft.filter(new Ws(this.tileID.overscaledZ),J))continue}Ne=!0,ht.targetId&&this.addFeatureVariant(ve,ht)}Ne&&this.appendToResult(n,v,P,ve,se)}updateFeatureProperties(n,i,d){if(i.properties){const g={};for(const h in i.properties){const v=i.properties[h].evaluate({zoom:this.z},n._vectorTileFeature,n.state,n.tile,d);v!=null&&(g[h]=v)}n.properties=g}}addFeatureVariant(n,i,d){const g={target:i.target,namespace:i.namespace,uniqueFeatureID:i.uniqueFeatureID};i.properties&&(g.properties=n.properties),n.variants=n.variants||{},n.variants[i.targetId]=n.variants[i.targetId]||[],n.variants[i.targetId].push(g)}appendToResult(n,i,d,g,h){let v=n[i];v===void 0&&(v=n[i]=[]),v.push({featureIndex:d,feature:g,intersectionZ:h})}lookupSymbolFeatures(n,i,d,g,h){const v={};this.loadVTLayers();for(const S of n)this.loadMatchingFeature(v,{bucketIndex:i,sourceLayerIndex:d,featureIndex:S,layoutVertexArrayOffset:0},g,h);return v}loadFeature(n){const{featureIndex:i,sourceLayerIndex:d}=n;this.loadVTLayers();const g=this.sourceLayerCoder.decode(d),h=this.vtFeatures[g];if(h[i])return h[i];const v=this.vtLayers[g].feature(i);return h[i]=v,v}hasLayer(n){for(const i of this.bucketLayerIDs)for(const d of i)if(n===d)return!0;return!1}getId(n,i){let d=n.id;if(this.promoteId){const g=Array.isArray(this.promoteId)||typeof this.promoteId!="object"?this.promoteId:this.promoteId[i];if(g!=null)if(Array.isArray(g)){if(!this.promoteIdExpression){const h=uf(g);if(h.result!=="success"){const v=h.value.map(S=>`${S.key}: ${S.message}`).join(", ");return void Un(`Failed to create expression for promoteId: ${v}`)}this.promoteIdExpression=h.value}this.promoteIdExpression._evaluator||(this.promoteIdExpression._evaluator=new ja),d=this.promoteIdExpression.evaluate({zoom:0},n)}else d=n.properties[g];typeof d=="boolean"&&(d=Number(d))}return d}}function RS(u,n,i,d,g){return Xr(u,(h,v)=>{const S=n instanceof Fd?n.get(v):null;return S&&S.evaluate?S.evaluate(i,d,g):S})}function h2(u,n){return n-u}_o(g_,"FeatureIndex",{omit:["rawTileData","sourceLayerCoder"]});const $S=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array];class v_{static from(n){if(!(n instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");const[i,d]=new Uint8Array(n,0,2);if(i!==219)throw new Error("Data does not appear to be in a KDBush format.");const g=d>>4;if(g!==1)throw new Error(`Got v${g} data when expected v1.`);const h=$S[15&d];if(!h)throw new Error("Unrecognized array type.");const[v]=new Uint16Array(n,2,1),[S]=new Uint32Array(n,4,1);return new v_(S,v,h,n)}constructor(n,i=64,d=Float64Array,g){if(isNaN(n)||n<0)throw new Error(`Unpexpected numItems value: ${n}.`);this.numItems=+n,this.nodeSize=Math.min(Math.max(+i,2),65535),this.ArrayType=d,this.IndexArrayType=n<65536?Uint16Array:Uint32Array;const h=$S.indexOf(this.ArrayType),v=2*n*this.ArrayType.BYTES_PER_ELEMENT,S=n*this.IndexArrayType.BYTES_PER_ELEMENT,M=(8-S%8)%8;if(h<0)throw new Error(`Unexpected typed array class: ${d}.`);g&&g instanceof ArrayBuffer?(this.data=g,this.ids=new this.IndexArrayType(this.data,8,n),this.coords=new this.ArrayType(this.data,8+S+M,2*n),this._pos=2*n,this._finished=!0):(this.data=new ArrayBuffer(8+v+S+M),this.ids=new this.IndexArrayType(this.data,8,n),this.coords=new this.ArrayType(this.data,8+S+M,2*n),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,16+h]),new Uint16Array(this.data,2,1)[0]=i,new Uint32Array(this.data,4,1)[0]=n)}add(n,i){const d=this._pos>>1;return this.ids[d]=d,this.coords[this._pos++]=n,this.coords[this._pos++]=i,d}finish(){const n=this._pos>>1;if(n!==this.numItems)throw new Error(`Added ${n} items when expected ${this.numItems}.`);return Xp(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(n,i,d,g){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:h,coords:v,nodeSize:S}=this,M=[0,h.length-1,0],A=[];for(;M.length;){const b=M.pop()||0,P=M.pop()||0,$=M.pop()||0;if(P-$<=S){for(let W=$;W<=P;W++){const J=v[2*W],se=v[2*W+1];J>=n&&J<=d&&se>=i&&se<=g&&A.push(h[W])}continue}const T=$+P>>1,O=v[2*T],N=v[2*T+1];O>=n&&O<=d&&N>=i&&N<=g&&A.push(h[T]),(b===0?n<=O:i<=N)&&(M.push($),M.push(T-1),M.push(1-b)),(b===0?d>=O:g>=N)&&(M.push(T+1),M.push(P),M.push(1-b))}return A}within(n,i,d){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:g,coords:h,nodeSize:v}=this,S=[0,g.length-1,0],M=[],A=d*d;for(;S.length;){const b=S.pop()||0,P=S.pop()||0,$=S.pop()||0;if(P-$<=v){for(let W=$;W<=P;W++)Wf(h[2*W],h[2*W+1],n,i)<=A&&M.push(g[W]);continue}const T=$+P>>1,O=h[2*T],N=h[2*T+1];Wf(O,N,n,i)<=A&&M.push(g[T]),(b===0?n-d<=O:i-d<=N)&&(S.push($),S.push(T-1),S.push(1-b)),(b===0?n+d>=O:i+d>=N)&&(S.push(T+1),S.push(P),S.push(1-b))}return M}}function Xp(u,n,i,d,g,h){if(g-d<=i)return;const v=d+g>>1;gx(u,n,v,d,g,h),Xp(u,n,i,d,v-1,1-h),Xp(u,n,i,v+1,g,1-h)}function gx(u,n,i,d,g,h){for(;g>d;){if(g-d>600){const A=g-d+1,b=i-d+1,P=Math.log(A),$=.5*Math.exp(2*P/3),T=.5*Math.sqrt(P*$*(A-$)/A)*(b-A/2<0?-1:1);gx(u,n,i,Math.max(d,Math.floor(i-b*$/A+T)),Math.min(g,Math.floor(i+(A-b)*$/A+T)),h)}const v=n[2*i+h];let S=d,M=g;for(Yp(u,n,d,i),n[2*g+h]>v&&Yp(u,n,d,g);S<M;){for(Yp(u,n,S,M),S++,M--;n[2*S+h]<v;)S++;for(;n[2*M+h]>v;)M--}n[2*d+h]===v?Yp(u,n,d,M):(M++,Yp(u,n,M,g)),M<=i&&(d=M+1),i<=M&&(g=M-1)}}function Yp(u,n,i,d){Fc(u,i,d),Fc(n,2*i,2*d),Fc(n,2*i+1,2*d+1)}function Fc(u,n,i){const d=u[n];u[n]=u[i],u[i]=d}function Wf(u,n,i,d){const g=u-i,h=n-d;return g*g+h*h}c.$=ph,c.A=vi,c.B=2,c.C=rg,c.D=Lh,c.E=po,c.F=Xb,c.G=class extends bg{},c.H=Ta,c.I=t_,c.J=ci,c.K=Ug,c.L=Pl,c.M=tl,c.N=_c,c.O=cf,c.P=Rn,c.Q=_m,c.R=ui,c.S=fm,c.T=Ay,c.U=uf,c.V=bg,c.W=Zl,c.X=Jl,c.Y=Ml,c.Z=wa,c._=K,c.a=function(u){return li.API_CDN_URL_REGEX.test(u)},c.a$=Kp,c.a0=Jc,c.a1=Zc,c.a2=function(u){const n=u.value;let i=[];if(!n)return i;const d=Ta(n);return d!=="string"?(i=i.concat([new bg(u.key,n,`string expected, "${d}" found`)]),i):(R1(n,!0)||(i=i.concat([new bg(u.key,n,`invalid url "${n}"`)])),i)},c.a3=er,c.a4=lp,c.a5=nl,c.a6=Mi,c.a7=class{constructor(u){this.specification=u}possiblyEvaluate(u,n){return Yi(u.expression.evaluate(n))}interpolate(u,n,i){return{x:Tt(u.x,n.x,i),y:Tt(u.y,n.y,i),z:Tt(u.z,n.z,i),azimuthal:Tt(u.azimuthal,n.azimuthal,i),polar:Tt(u.polar,n.polar,i)}}},c.a8=Ws,c.a9=df,c.aA=Dc,c.aB=class{constructor(u){this.entries={},this.scheduler=u}request(u,n,i,d){const g=this.entries[u]=this.entries[u]||{callbacks:[]};if(g.result){const[h,v]=g.result;return this.scheduler?this.scheduler.add(()=>{d(h,v)},n):d(h,v),()=>{}}return g.callbacks.push(d),g.cancel||(g.cancel=i((h,v)=>{g.result=[h,v];for(const S of g.callbacks)this.scheduler?this.scheduler.add(()=>{S(h,v)},n):S(h,v);setTimeout(()=>delete this.entries[u],3e3)})),()=>{g.result||(g.callbacks=g.callbacks.filter(h=>h!==d),g.callbacks.length||(g.cancel(),delete this.entries[u]))}}},c.aC=Mu,c.aD=function(u,n,i){const d=JSON.stringify(u.request);return u.data&&(this.deduped.entries[d]={result:[null,u.data]}),this.deduped.request(d,{type:"parseTile",isSymbolTile:u.isSymbolTile,zoom:u.tileZoom},g=>{const h=Sn(u.request,(v,S,M,A)=>{v?g(v):S&&g(null,{vectorTile:i?void 0:new Tf.VectorTile(new Jm(S)),rawData:S,cacheControl:M,expires:A})});return()=>{h.cancel(),g()}},n)},c.aE=function(u){dt++,dt>sn&&(u.getActor().send("enforceCacheSizeLimit",At),dt=0)},c.aF=function(u){return u<=1?1:Math.pow(2,Math.floor(Math.log(u)/Math.LN2))},c.aG=Ci,c.aH=C1,c.aI=w1,c.aJ=b1,c.aK=function(u,n){const i=document.createElement("video");i.muted=!0,i.onloadstart=function(){n(null,i)};for(let d=0;d<u.length;d++){const g=document.createElement("source");qt(u[d])||(i.crossOrigin="Anonymous"),g.src=u[d],i.appendChild(g)}return{cancel:()=>{}}},c.aL=$h,c.aM=function(u){return fetch(u).then(n=>n.arrayBuffer()).then(n=>h_(n,0,u))},c.aN=hx,c.aO=class{constructor(u,n,i,d){this.id=u,this.position=n!=null?new ps(n[0],n[1]):new ps(0,0),this.orientation=i!=null?i:[0,0,0],this.nodes=d,this.uploaded=!1,this.aabb=new Do([1/0,1/0,1/0],[-1/0,-1/0,-1/0]),this.matrix=[]}_applyTransformations(u,n){if($e.mat4.multiply(u.matrix,n,u.matrix),u.meshes)for(const i of u.meshes){const d=Do.applyTransformFast(i.aabb,u.matrix);this.aabb.encapsulate(d)}if(u.children)for(const i of u.children)this._applyTransformations(i,u.matrix)}computeBoundsAndApplyParent(){const u=$e.mat4.identity([]);for(const n of this.nodes)this._applyTransformations(n,u)}computeModelMatrix(u,n,i,d,g,h,v=!1){z1(this.matrix,this,u.transform,this.position,n,i,d,g,h,v)}upload(u){if(!this.uploaded){for(const n of this.nodes)Vy(n,u);for(const n of this.nodes)H0(n);this.uploaded=!0}}destroy(){for(const u of this.nodes)Hy(u)}},c.aP=Pr,c.aQ=lg,c.aR=Bc,c.aS=dc,c.aT=md,c.aU=Nl,c.aV=Yn,c.aW=vp,c.aX=j0,c.aY=function(){au.isLoading()||au.isLoaded()||ap()!=="deferred"||pf()},c.aZ=Wg,c.a_=Q,c.aa=l,c.ab=$e,c.ac=ri,c.ad=Fd,c.ae=Mc,c.af=Tt,c.ag=Bi,c.ah=In,c.ai=it,c.aj=_e,c.ak=class{constructor(u){this.specification=u}possiblyEvaluate(u,n){return function([i,d]){const g=Yi([1,i,d]);return{x:g.x,y:g.y,z:g.z}}(u.expression.evaluate(n))}interpolate(u,n,i){return{x:Tt(u.x,n.x,i),y:Tt(u.y,n.y,i),z:Tt(u.z,n.z,i)}}},c.al=function(u,n,i=0,d=!0){const g=new Rn(i,i),h=u.sub(g),v=n.add(g),S=[h,new Rn(v.x,h.y),v,new Rn(h.x,v.y)];return d&&S.push(h.clone()),S},c.am=function(u,n){const i=[];for(let d=0;d<u.length;d++){const g=fi(d-1,-1,u.length-1),h=fi(d+1,-1,u.length-1),v=u[d],S=u[h],M=u[g].sub(v).unit(),A=S.sub(v).unit(),b=A.angleWithSep(M.x,M.y),P=M.add(A).unit().mult(-1*n/Math.sin(b/2));i.push(v.add(P))}return i},c.an=o1,c.ao=rn,c.ap=function(u,n,i=0){return $e.vec3.fromValues(((n.x-i)*u.scale-u.x)*Bi,(n.y*u.scale-u.y)*Bi,Am(n.z,n.y))},c.aq=ya,c.ar=zb,c.as=function(u){let n=1/0,i=1/0,d=-1/0,g=-1/0;for(const h of u)n=Math.min(n,h.x),i=Math.min(i,h.y),d=Math.max(d,h.x),g=Math.max(g,h.y);return{min:new Rn(n,i),max:new Rn(d,g)}},c.at=_u,c.au=Dt,c.av=_,c.aw=Vn,c.ax=uc,c.ay=function(u,n){const i={};for(let d=0;d<n.length;d++){const g=n[d];g in u&&(i[g]=u[g])}return i},c.az=qu,c.b=function(u){return li.API_FONTS_REGEX.test(u)},c.b$=yg,c.b0=Qr,c.b1=C0,c.b2=f0,c.b3=U,c.b4=pd,c.b5=qg,c.b6=Ko,c.b7=cl,c.b8=Bm,c.b9=Oy,c.bA=yb,c.bB=Cy,c.bC=t1,c.bD=vy,c.bE=v_,c.bF=fi,c.bG=tn,c.bH=Ol,c.bI=function(u,n,i){u[4*n+0]=i[0],u[4*n+1]=i[1],u[4*n+2]=i[2],u[4*n+3]=i[3]},c.bJ=Sh,c.bK=su,c.bL=Sf,c.bM=Cl,c.bN=Cf,c.bO=ps,c.bP=d1,c.bQ=jr,c.bR=us,c.bS=I1,c.bT=ti,c.bU=Ic,c.bV=function(u,n,i,d,g,h,v,S,M){if(M.name==="globe")return Ic(u,n,new ti(i,d,g),!1);const A=lg({z:i,x:d,y:g},M);return new Do([(h+A.x/A.scale)*n,n*(A.y/A.scale),v],[(h+A.x2/A.scale)*n,n*(A.y2/A.scale),S])},c.bW=function(u,n,i){let d=0;for(let g=0;g<2;++g)u[g]>0&&(d+=(u[g]-0)*(u[g]-0)),n[g]<0&&(d+=(0-n[g])*(0-n[g]));return d},c.bX=rl,c.bY=s0,c.bZ=function(u){const n=$e.mat4.identity(new Float64Array(16));$e.mat4.multiply(n,u.pixelMatrix,u.globeMatrix);const i=[0,xc,0],d=[0,Cc,0];return $e.vec3.transformMat4(i,i,n),$e.vec3.transformMat4(d,d,n),[i[0]>0&&i[0]<=u.width&&i[1]>0&&i[1]<=u.height&&!cu(u,new ps(u.center.lat,90)),d[0]>0&&d[0]<=u.width&&d[1]>0&&d[1]<=u.height&&!cu(u,new ps(u.center.lat,-90))]},c.b_=function(u,n){const{scale:i}=u.tileTransform,d=i*Bi/(u.tileSize*Math.pow(2,n.zoom-u.tileID.overscaledZ+u.tileID.canonical.z));return $e.mat2.scale(new Float32Array(4),n.inverseAdjustmentMatrix,[d,d])},c.ba=function(u,n){const i=Mc(n.zoom);if(i===0)return Bl(u);const d=al(u),g=ks(d),h=_u(d.getWest())*n.worldSize,v=_u(d.getEast())*n.worldSize,S=Dc(d.getNorth())*n.worldSize,M=Dc(d.getSouth())*n.worldSize,A=[h,S,0],b=[v,S,0],P=[h,M,0],$=[v,M,0],T=$e.mat4.invert([],n.globeMatrix);return $e.vec3.transformMat4(A,A,T),$e.vec3.transformMat4(b,b,T),$e.vec3.transformMat4(P,P,T),$e.vec3.transformMat4($,$,T),g[0]=Fl(g[0],P,i),g[1]=Fl(g[1],$,i),g[2]=Fl(g[2],b,i),g[3]=Fl(g[3],A,i),Do.fromPoints(g)},c.bb=nc,c.bc=Rs,c.bd=Fl,c.be=yf,c.bf=Wo,c.bg=u_,c.bh=Jm,c.bi=Sn,c.bj=function(u){const n=[];for(const i in u)n.push(u[i]);return n},c.bk=function(u,n){const i=[];for(const d in u)d in n||i.push(d);return i},c.bl=qr,c.bm=["type","source","source-layer","minzoom","maxzoom","filter","layout"],c.bn=Wr,c.bo=function(u,n){const{x:i,y:d}=u.point,g=Wc(i,d,u.worldSize/u._pixelsPerMercatorPixel,0,0);return $e.mat4.multiply(g,g,Ns(Bl(n)))},c.bp=Ih,c.bq=Kc,c.br=R0,c.bs=function(u,n,i,d,g){const h=5*n+2;u.float32[h+0]=i,u.float32[h+1]=d,u.float32[h+2]=g},c.bt=hg,c.bu=Kb,c.bv=Se,c.bw=Rc,c.bx=y0,c.by=O1,c.bz=vb,c.c=io,c.c$=(u,n,i,d,g,h,v,S)=>{const M=u.transform,A=M.pitch<15?w0(.07,.7,Vn((14-M.zoom)/5,0,1)):.07,b=i.paint.get("line-trim-color-use-theme").constantOr("default")==="none";return{u_matrix:E0(u,n,i,d),u_texsize:n.imageAtlasTexture?n.imageAtlasTexture.size:[0,0],u_pixels_to_tile_units:M.calculatePixelsToTileUnitsMatrix(n),u_device_pixel_ratio:g,u_width_scale:h,u_floor_width_scale:v,u_image:0,u_tile_units_to_pixels:Jd(n,M),u_units_to_pixels:[1/M.pixelsToGLUnits[0],1/M.pixelsToGLUnits[1]],u_alpha_discard_threshold:0,u_trim_offset:S,u_trim_fade_range:i.paint.get("line-trim-fade-range"),u_trim_color:i.paint.get("line-trim-color").toRenderColor(b?null:i.lut).toArray01(),u_emissive_strength:i.paint.get("line-emissive-strength"),u_zbias_factor:A,u_tile_to_meter:r(n.tileID.canonical,0)}},c.c0=By,c.c1=function(u){const n=By(u,!0);return $e.mat2.invert([],[n[0],n[1],n[4],n[5]])},c.c2=as,c.c3=function(u){const{x:n,y:i}=u.point,{lng:d,lat:g}=u._center;return Wc(n,i,u.worldSize,d,g)},c.c4=Ot,c.c5=Li,c.c6=wf,c.c7=function(u){const n=Math.round((u+45+360)%360/90)%4;return Bn[n]},c.c8=45,c.c9=Sp,c.cA=class extends vu{constructor(u){super(u),this.current=o0}set(u,n,i){if(this.fetchUniformLocation(u,n)){for(let d=0;d<9;d++)if(i[d]!==this.current[d]){this.current=i,this.gl.uniformMatrix3fv(this.location,!1,i);break}}}},c.cB=fn,c.cC=function(u,n,i){const d=Mc(i.zoom),g=u.style.map._antialias,h=u.terrain&&u.terrain.exaggeration()>0;return d===0&&!g&&!h},c.cD=function(u){const n=u.pixelsPerMeter,i=n/Ol(1,u.center.lat),d=$e.mat4.identity(new Float64Array(16));return $e.mat4.translate(d,d,[u.point.x,u.point.y,0]),$e.mat4.scale(d,d,[i,i,n]),Float32Array.from(d)},c.cE=al,c.cF=function(u){const n=rl-5;u=Vn(u,-n,n)/n*90;const i=Math.pow(Math.abs(Math.sin(it(u))),3);return Math.round(i*(Cp.length-1))},c.cG=function(u,n,i,d){const g=n.getNorth(),h=n.getSouth(),v=n.getWest(),S=n.getEast(),M=1<<u.z,A=S-v,b=g-h,P=A/Ef,$=-b/Cp[i],T=[0,P,0,$,0,0,g,v,0];if(u.z>0){const O=180/d;$e.mat3.multiply(T,T,[O/A+1,0,0,0,O/b+1,0,-.5*O/P,.5*O/$,1])}return T[2]=M,T[5]=u.x,T[8]=u.y,T},c.cH=Bl,c.cI=function(u,n,i){const d=$e.mat4.identity(new Float64Array(16)),g=(n/(1<<u)-.5)*Math.PI*2;return $e.mat4.rotateY(d,i.globeMatrix,g),Float32Array.from(d)},c.cJ=class{isDataAvailableAtPoint(u){const n=this._source();if(this.isUsingMockSource()||!n||u.y<0||u.y>1)return!1;const i=n.getSource().maxzoom,d=1<<i,g=Math.floor(u.x),h=Math.floor((u.x-g)*d),v=Math.floor(u.y*d),S=this.findDEMTileFor(new Ci(i,g,i,h,v));return!(!S||!S.dem)}getAtPointOrZero(u,n=0){return this.getAtPoint(u,n)||0}getAtPoint(u,n,i=!0){if(this.isUsingMockSource())return null;n==null&&(n=null);const d=this._source();if(!d||u.y<0||u.y>1)return n;const g=d.getSource().maxzoom,h=1<<g,v=Math.floor(u.x),S=u.x-v,M=new Ci(g,v,g,Math.floor(S*h),Math.floor(u.y*h)),A=this.findDEMTileFor(M);if(!A||!A.dem)return n;const b=A.dem,P=1<<A.tileID.canonical.z,$=(S*P-A.tileID.canonical.x)*b.dim,T=(u.y*P-A.tileID.canonical.y)*b.dim,O=Math.floor($),N=Math.floor(T);return(i?this.exaggeration():1)*Tt(Tt(b.get(O,N),b.get(O,N+1),T-N),Tt(b.get(O+1,N),b.get(O+1,N+1),T-N),$-O)}getAtTileOffset(u,n,i){const d=1<<u.canonical.z;return this.getAtPointOrZero(new l(u.wrap+(u.canonical.x+n/Bi)/d,(u.canonical.y+i/Bi)/d))}getAtTileOffsetFunc(u,n,i,d){return g=>{const h=this.getAtTileOffset(u,g.x,g.y),v=d.upVector(u.canonical,g.x,g.y),S=d.upVectorScale(u.canonical,n,i).metersToTile;return $e.vec3.scale(v,v,h*S),v}}getForTilePoints(u,n,i,d){if(this.isUsingMockSource())return!1;const g=Bp.create(this,u,d);return!!g&&(n.forEach(h=>{h[2]=this.exaggeration()*g.getElevationAt(h[0],h[1],i)}),!0)}getMinMaxForTile(u){if(this.isUsingMockSource())return null;const n=this.findDEMTileFor(u);if(!n||!n.dem)return null;const i=n.dem.tree,d=n.tileID,g=1<<u.canonical.z-d.canonical.z;let h=u.canonical.x/g-d.canonical.x,v=u.canonical.y/g-d.canonical.y,S=0;for(let M=0;M<u.canonical.z-d.canonical.z&&!i.leaves[S];M++){h*=2,v*=2;const A=2*Math.floor(v)+Math.floor(h);S=i.childOffsets[S]+A,h%=1,v%=1}return{min:this.exaggeration()*i.minimums[S],max:this.exaggeration()*i.maximums[S]}}getMinElevationBelowMSL(){throw new Error("Pure virtual method called.")}raycast(u,n,i){throw new Error("Pure virtual method called.")}pointCoordinate(u){throw new Error("Pure virtual method called.")}_source(){throw new Error("Pure virtual method called.")}isUsingMockSource(){throw new Error("Pure virtual method called.")}exaggeration(){throw new Error("Pure virtual method called.")}findDEMTileFor(u){throw new Error("Pure virtual method called.")}get visibleDemTiles(){throw new Error("Getter must be implemented in subclass.")}getMinMaxForVisibleTiles(){const u=this.visibleDemTiles;if(u.length===0)return null;let n=!1,i=Number.MAX_VALUE,d=Number.MIN_VALUE;for(const g of u){const h=this.getMinMaxForTile(g.tileID);h&&(i=Math.min(i,h.min),d=Math.max(d,h.max),n=!0)}return n?{min:i,max:d}:null}},c.cK=zm,c.cL=xa,c.cM=function(u,n){return[Math.pow(u[0],2.2)*n,Math.pow(u[1],2.2)*n,Math.pow(u[2],2.2)*n]},c.cN=Uc,c.cO=gi,c.cP=kr,c.cQ=256,c.cR=function(u,n){const i=[0,0,0],d=nc(Bl(n.canonical));return $e.vec3.transformMat4(i,i,d),$e.vec3.transformMat4(i,i,u),i},c.cS=u=>({u_camera_to_center_distance:new Cl(u),u_extrude_scale:new Rm(u),u_device_pixel_ratio:new Cl(u),u_matrix:new Sh(u),u_inv_rot_matrix:new Sh(u),u_merc_center:new su(u),u_tile_id:new Sf(u),u_zoom_transition:new Cl(u),u_up_dir:new Sf(u),u_emissive_strength:new Cl(u)}),c.cT=u=>({u_matrix:new Sh(u),u_pixels_to_tile_units:new Rm(u),u_device_pixel_ratio:new Cl(u),u_width_scale:new Cl(u),u_floor_width_scale:new Cl(u),u_units_to_pixels:new su(u),u_dash_image:new Cf(u),u_gradient_image:new Cf(u),u_image_height:new Cl(u),u_texsize:new su(u),u_tile_units_to_pixels:new Cl(u),u_alpha_discard_threshold:new Cl(u),u_trim_offset:new su(u),u_trim_fade_range:new su(u),u_trim_color:new xp(u),u_emissive_strength:new Cl(u),u_zbias_factor:new Cl(u),u_tile_to_meter:new Cl(u)}),c.cU=u=>({u_matrix:new Sh(u),u_texsize:new su(u),u_pixels_to_tile_units:new Rm(u),u_device_pixel_ratio:new Cl(u),u_width_scale:new Cl(u),u_floor_width_scale:new Cl(u),u_image:new Cf(u),u_units_to_pixels:new su(u),u_tile_units_to_pixels:new Cl(u),u_alpha_discard_threshold:new Cl(u),u_trim_offset:new su(u),u_trim_fade_range:new su(u),u_trim_color:new xp(u),u_emissive_strength:new Cl(u),u_zbias_factor:new Cl(u),u_tile_to_meter:new Cl(u)}),c.cV=mh,c.cW=wC,c.cX=Bb,c.cY=_d,c.cZ=(u,n,i,d,g,h)=>{const v=u.transform,S=v.projection.name==="globe";let M;if(h.paint.get("circle-pitch-alignment")==="map")if(S){const b=Uc(v.zoom,n.canonical)*v._pixelsPerMercatorPixel;M=Float32Array.from([b,0,0,b])}else M=v.calculatePixelsToTileUnitsMatrix(i);else M=new Float32Array([v.pixelsToGLUnits[0],0,0,v.pixelsToGLUnits[1]]);const A={u_camera_to_center_distance:u.transform.getCameraToCenterDistance(v.projection),u_matrix:u.translatePosMatrix(n.projMatrix,i,h.paint.get("circle-translate"),h.paint.get("circle-translate-anchor")),u_device_pixel_ratio:pe.devicePixelRatio,u_extrude_scale:M,u_inv_rot_matrix:xu,u_merc_center:[0,0],u_tile_id:[0,0,0],u_zoom_transition:0,u_up_dir:[0,0,0],u_emissive_strength:h.paint.get("circle-emissive-strength")};if(S){A.u_inv_rot_matrix=d,A.u_merc_center=g,A.u_tile_id=[n.canonical.x,n.canonical.y,1<<n.canonical.z],A.u_zoom_transition=Mc(v.zoom);const b=g[0]*Bi,P=g[1]*Bi;A.u_up_dir=v.projection.upVector(new ti(0,0,0),b,P)}return A},c.c_=$f,c.ca=xp,c.cb=function(u,n,i){const d=Math.sqrt(u*u+n*n+i*i),g=d>0?Math.acos(i/d)*pr:0;let h=u!==0||n!==0?Math.atan2(-n,-u)*pr+90:0;return h<0&&(h+=360),[d,h,g]},c.cc=r,c.cd=Do,c.ce=Yi,c.cf=function(u){return[Math.pow(u[0],1/2.2),Math.pow(u[1],1/2.2),Math.pow(u[2],1/2.2)]},c.cg=function(u,n){return u.readFields(qC,{icons:[]},n)},c.ch=function(u){return u({pluginStatus:Vc,pluginURL:hd}),hf.on("pluginStateChange",u),u},c.ci=wg,c.cj=Dp,c.ck=Ap,c.cl=qi,c.cm=vm,c.cn=nt,c.co=Bo,c.cp=gr,c.cq=function(u){const n=u.indexOf(up);return n>=0?u.slice(0,n):u},c.cr=function(u){return u.indexOf(up)>=0},c.cs=function(u){const n=u.indexOf(up);return n>=0?u.slice(n+1):""},c.ct=function(u){const n=[],i=u.id;return i===void 0&&n.push({message:`layers.${i}: missing required property "id"`}),u.render===void 0&&n.push({message:`layers.${i}: missing required method "render"`}),u.renderingMode&&u.renderingMode!=="2d"&&u.renderingMode!=="3d"&&n.push({message:`layers.${i}: property "renderingMode" must be either "2d" or "3d"`}),n},c.cu=function(u,n,i,d){return u.type==="custom"?new E1(u,n):new GC[u.type](u,n,i,d)},c.cv=rr,c.cw=class extends Kp{constructor(u,n){super(u._vectorTileFeature,u._z,u._x,u._y,u.id),u.state&&(this.state=Object.assign({},u.state)),this.target=n.target,this.namespace=n.namespace,n.properties&&(this.properties=n.properties),this.target&&("featuresetId"in this.target&&!this.target.importId||"layerId"in this.target)&&(this.source=u.source,this.sourceLayer=u.sourceLayer,this.layer=u.layer)}toJSON(){const u=super.toJSON();return u.target=this.target,u.namespace=this.namespace,u}},c.cx=hf,c.cy=pt,c.cz=i0,c.d=function(u){return li.API_TILEJSON_REGEX.test(u)},c.d$=g_,c.d0=(u,n,i,d,g,h,v,S,M)=>{const A=u.transform,b=A.calculatePixelsToTileUnitsMatrix(n),P=i.paint.get("line-trim-color-use-theme").constantOr("default")==="none",$=A.pitch<15?w0(.07,.7,Vn((14-A.zoom)/5,0,1)):.07;return{u_matrix:E0(u,n,i,d),u_pixels_to_tile_units:b,u_device_pixel_ratio:h,u_width_scale:v,u_floor_width_scale:S,u_units_to_pixels:[1/A.pixelsToGLUnits[0],1/A.pixelsToGLUnits[1]],u_dash_image:0,u_gradient_image:1,u_image_height:g,u_texsize:cy(i)&&n.lineAtlasTexture?n.lineAtlasTexture.size:[0,0],u_tile_units_to_pixels:Jd(n,u.transform),u_alpha_discard_threshold:0,u_trim_offset:M,u_trim_fade_range:i.paint.get("line-trim-fade-range"),u_trim_color:i.paint.get("line-trim-color").toRenderColor(P?null:i.lut).toArray01(),u_emissive_strength:i.paint.get("line-emissive-strength"),u_zbias_factor:$,u_tile_to_meter:r(n.tileID.canonical,0)}},c.d1=yr,c.d2=Nm,c.d3=Mb,c.d4=ro,c.d5=Km,c.d6=Pf,c.d7=450,c.d8=7,c.d9=x1,c.dA=Er,c.dB=p,c.dC=Gd,c.dD=function([u,n,i]){const d=Math.hypot(u,n,i),g=Math.atan2(u,i),h=.5*Math.PI-Math.acos(-n/d);return new ps(Ot(g),Ot(h))},c.dE=Fy,c.dF=function(u){const n=u.navigator?u.navigator.userAgent:null;return!!function(i){if(co==null){const d=i.navigator?i.navigator.userAgent:null;co=!!i.safari||!(!d||!(/\b(iPad|iPhone|iPod)\b/.test(d)||d.match("Safari")&&!d.match("Chrome")))}return co}(u)&&n&&(n.match("Version/15.4")||n.match("Version/15.5")||n.match(/CPU (OS|iPhone OS) (15_4|15_5) like Mac OS X/))},c.dG=function(u,n){At=u,sn=n},c.dH=cu,c.dI=bu,c.dJ=function(u){const n=[0,0,0],i=$e.mat4.identity(new Float64Array(16));return $e.mat4.multiply(i,u.pixelMatrix,u.globeMatrix),$e.vec3.transformMat4(n,n,i),new Rn(n[0],n[1])},c.dK=function(u,n,i=!1){if(Vc===ff||Vc===uh||Vc===gm)throw new Error("setRTLTextPlugin cannot be called multiple times.");hd=pe.resolveURL(u),Vc=ff,Ac=n,op(),i||pf()},c.dL=ap,c.dM=function(){wg().acquire(Wy)},c.dN=function(){const u=Sg;u&&(u.isPreloaded()&&u.numActive()===1?(u.release(Wy),Sg=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},c.dO=kf,c.dP=function(u){const n=Xt();if(!n)return;const i=n.delete(ln);u&&i.catch(u).then(()=>u())},c.dQ=Cg,c.dR=d_,c.dS=function(u){ov=pe.resolveURL(u),Up||(Up=new Lh(wg(),new po)),Up.broadcast("setDracoUrl",ov)},c.dT=Wp,c.dU=function(u){Xc=pe.resolveURL(u),Up||(Up=new Lh(wg(),new po)),Up.broadcast("setMeshoptUrl",Xc)},c.dV=_o,c.dW=Yd,c.dX=ed,c.dY=Tf,c.dZ=class{constructor(u,n){this.pos=u,this.dir=n}intersectsPlane(u,n,i){const d=$e.vec2.dot(n,this.dir);if(Math.abs(d)<1e-6)return!1;const g=((u[0]-this.pos[0])*n[0]+(u[1]-this.pos[1])*n[1])/d;return i[0]=this.pos[0]+this.dir[0]*g,i[1]=this.pos[1]+this.dir[1]*g,!0}},c.d_=mx,c.da=bs,c.db=gp,c.dc=256,c.dd=Ns,c.de=Ou,c.df=gd,c.dg=mp,c.dh=function(u,n,i,d,g){return Vn((u-n)/(i-n)*(g-d)+d,d,g)},c.di=mu,c.dj=Lc,c.dk=class{constructor(u,n,i,d){this.context=u,this.format=d,this.size=i,this.texture=u.gl.createTexture();const[g,h,v]=this.size,{gl:S}=u;S.bindTexture(S.TEXTURE_3D,this.texture),u.pixelStoreUnpackFlipY.set(!1),u.pixelStoreUnpack.set(1),u.pixelStoreUnpackPremultiplyAlpha.set(!1),S.texImage3D(S.TEXTURE_3D,0,this.format,g,h,v,0,Ry(this.format),$y(this.format),n.data)}bind(u,n){const{context:i}=this,{gl:d}=i;d.bindTexture(d.TEXTURE_3D,this.texture),u!==this.minFilter&&(d.texParameteri(d.TEXTURE_3D,d.TEXTURE_MAG_FILTER,u),d.texParameteri(d.TEXTURE_3D,d.TEXTURE_MIN_FILTER,u),this.minFilter=u),n!==this.wrapS&&(d.texParameteri(d.TEXTURE_3D,d.TEXTURE_WRAP_S,n),d.texParameteri(d.TEXTURE_3D,d.TEXTURE_WRAP_T,n),this.wrapS=n)}destroy(){const{gl:u}=this.context;u.deleteTexture(this.texture),this.texture=null}},c.dl=jy,c.dm=[1,1,1],c.dn=Bp,c.dp=zp,c.dq=Ku,c.dr=bf,c.ds=Kd,c.dt=gh,c.du=Ru,c.dv=class{constructor(){this._updateTime=0,this._sourceIds=[],this._activeRegions=[],this._prevRegions=[],this._globalClipBounds={min:new Rn(1/0,1/0),max:new Rn(-1/0,-1/0)}}clear(){this._activeRegions.length>0&&++this._updateTime,this._activeRegions=[],this._prevRegions=[]}get updateTime(){return this._updateTime}getReplacementRegionsForTile(u,n=!1){const i=mb(new Rn(0,0),new Rn(Bi,Bi),u),d=[];if(n&&!ey(i,this._globalClipBounds))return d;for(const g of this._activeRegions){if(g.hiddenByOverlap||!ey(i,g))continue;const h=hC(g.min,g.max,u);d.push({min:h.min,max:h.max,sourceId:this._sourceIds[g.priority],footprint:g.footprint,footprintTileId:g.tileId,order:g.order,clipMask:g.clipMask,clipScope:g.clipScope})}return d}setSources(u){this._setSources(u.map(n=>({getSourceId:()=>n.cache.id,getFootprints:()=>{const i=[];for(const d of n.cache.getVisibleCoordinates()){const g=n.cache.getTile(d).buckets[n.layer];g&&g.updateFootprints(d.toUnwrapped(),i)}return i},getOrder:()=>n.order,getClipMask:()=>n.clipMask,getClipScope:()=>n.clipScope})))}_addSource(u){const n=u.getFootprints();if(n.length===0)return;const i=u.getOrder(),d=u.getClipMask(),g=u.getClipScope();for(const h of n){if(!h.footprint)continue;const v=mb(h.footprint.min,h.footprint.max,h.id);this._activeRegions.push({min:v.min,max:v.max,hiddenByOverlap:!1,priority:this._sourceIds.length,tileId:h.id,footprint:h.footprint,order:i,clipMask:d,clipScope:g})}this._sourceIds.push(u.getSourceId())}_computeReplacement(){this._activeRegions.sort((n,i)=>n.priority-i.priority||Hm(n.min,i.min)||Hm(n.max,i.max)||n.order-i.order||n.clipMask-i.clipMask||function(d,g){const h=(v,S)=>v+S;return d.length-g.length||d.reduce(h,"").localeCompare(g.reduce(h,""))}(n.clipScope,i.clipScope));let u=this._activeRegions.length!==this._prevRegions.length;if(!u){let n=0;for(;!u&&n!==this._activeRegions.length;){const i=this._activeRegions[n],d=this._prevRegions[n];u=i.priority!==d.priority||!Qv(i,d)||i.order!==d.order||i.clipMask!==d.clipMask||!Wr(i.clipScope,d.clipScope),++n}}if(u){++this._updateTime;for(const i of this._activeRegions)i.order!==v0&&(this._globalClipBounds.min.x=Math.min(this._globalClipBounds.min.x,i.min.x),this._globalClipBounds.min.y=Math.min(this._globalClipBounds.min.y,i.min.y),this._globalClipBounds.max.x=Math.max(this._globalClipBounds.max.x,i.max.x),this._globalClipBounds.max.y=Math.max(this._globalClipBounds.max.y,i.max.y));const n=i=>{const d=this._activeRegions;if(i>=d.length)return i;const g=d[i].priority;for(;i<d.length&&d[i].priority===g;)++i;return i};if(this._sourceIds.length>1){let i=0,d=n(i);for(;i!==d;){let g=i;const h=i;for(;g!==d;){const v=this._activeRegions[g];v.hiddenByOverlap=!1;for(let S=0;S<h;S++){const M=this._activeRegions[S];if(!M.hiddenByOverlap&&v.order===v0&&ey(v,M)&&(v.hiddenByOverlap=gb(v.footprint,v.tileId,M.footprint,M.tileId),v.hiddenByOverlap))break}++g}i=d,d=n(i)}}}}_setSources(u){[this._prevRegions,this._activeRegions]=[this._activeRegions,[]],this._sourceIds=[];for(let n=u.length-1;n>=0;n--)this._addSource(u[n]);this._computeReplacement()}},c.dw=class{constructor(u){this._createGrid(u),this._createPoles(u)}destroy(){this._poleIndexBuffer.destroy(),this._gridBuffer.destroy(),this._gridIndexBuffer.destroy(),this._poleNorthVertexBuffer.destroy(),this._poleSouthVertexBuffer.destroy();for(const u of this._poleSegments)u.destroy();for(const u of this._gridSegments)u.withSkirts.destroy(),u.withoutSkirts.destroy()}_fillGridMeshWithLods(u,n){const i=new pd,d=new Nl,g=[],h=u+1+2,v=n[0]+1,S=n[0]+1+(1+n.length),M=(A,b,P)=>{let $=A===h-1?A-2:A===0?A:A-1;return $+=P?24575:0,[$,b]};for(let A=0;A<h;++A)i.emplaceBack(...M(A,0,!0));for(let A=0;A<v;++A)for(let b=0;b<h;++b)i.emplaceBack(...M(b,A,(b===0||b===h-1)&&!0));for(let A=0;A<n.length;++A){const b=n[A];for(let P=0;P<h;++P)i.emplaceBack(...M(P,b,!0))}for(let A=0;A<n.length;++A){const b=d.length,P=n[A]+1+2,$=new Nl;for(let N=0;N<P-1;N++){const W=N===P-2,J=W?h*(S-n.length+A-N):h;for(let se=0;se<h-1;se++){const ue=N*h+se;N===0||W||se===0||se===h-2?($.emplaceBack(ue+1,ue,ue+J),$.emplaceBack(ue+J,ue+J+1,ue+1)):(d.emplaceBack(ue+1,ue,ue+J),d.emplaceBack(ue+J,ue+J+1,ue+1))}}const T=cl.simpleSegment(0,b,i.length,d.length-b);for(let N=0;N<$.uint16.length;N+=3)d.emplaceBack($.uint16[N],$.uint16[N+1],$.uint16[N+2]);const O=cl.simpleSegment(0,b,i.length,d.length-b);g.push({withoutSkirts:T,withSkirts:O})}return{vertices:i,indices:d,segments:g}}_createGrid(u){const n=this._fillGridMeshWithLods(Ef,Cp);this._gridSegments=n.segments,this._gridBuffer=u.createVertexBuffer(n.vertices,Ko.members),this._gridIndexBuffer=u.createIndexBuffer(n.indices,!0)}_createPoles(u){const n=new Nl;for(let v=0;v<=Ef;v++)n.emplaceBack(0,v+1,v+2);this._poleIndexBuffer=u.createIndexBuffer(n,!0);const i=new gd,d=new gd,g=new gd,h=new gd;this._poleSegments=[];for(let v=0,S=0;v<wf;v++){const M=360/(1<<v);i.emplaceBack(0,-uc,0,.5,0),d.emplaceBack(0,-uc,0,.5,1),g.emplaceBack(0,-uc,0,.5,.5),h.emplaceBack(0,-uc,0,.5,.5);for(let A=0;A<=Ef;A++){let b=A/Ef,P=0;const $=Tt(0,M,b),[T,O,N]=If(Xd,Au,$,uc);i.emplaceBack(T,O,N,b,P),d.emplaceBack(T,O,N,b,1-P);const W=it($);b=.5+.5*Math.sin(W),P=.5+.5*Math.cos(W),g.emplaceBack(T,O,N,b,P),h.emplaceBack(T,O,N,b,1-P)}this._poleSegments.push(cl.simpleSegment(S,0,66,64)),S+=66}this._poleNorthVertexBuffer=u.createVertexBuffer(i,la,!1),this._poleSouthVertexBuffer=u.createVertexBuffer(d,la,!1),this._texturedPoleNorthVertexBuffer=u.createVertexBuffer(g,la,!1),this._texturedPoleSouthVertexBuffer=u.createVertexBuffer(h,la,!1)}getGridBuffers(u,n){return[this._gridBuffer,this._gridIndexBuffer,n?this._gridSegments[u].withSkirts:this._gridSegments[u].withoutSkirts]}getPoleBuffers(u,n){return[n?this._texturedPoleNorthVertexBuffer:this._poleNorthVertexBuffer,n?this._texturedPoleSouthVertexBuffer:this._poleSouthVertexBuffer,this._poleIndexBuffer,this._poleSegments[u]]}},c.dx=v0,c.dy=gn,c.dz=function(){return!!document.fullscreenElement||!!document.webkitFullscreenElement},c.e=li,c.e0=Tp,c.e1=Xr,c.e2=Mr,c.e3=Yb,c.e4=function(u,n,i,d,g,h,v,S,M,A,b=1,P,$){u.createArrays(),u.tilePixelRatio=Bi/(512*u.overscaling),u.compareText={},u.iconsNeedLinear=!1;const T=u.layers[0].layout,O=u.layers[0]._unevaluatedLayout._values,N={};N.scaleFactor=b,N.textSizeScaleRange=T.get("text-size-scale-range"),N.iconSizeScaleRange=T.get("icon-size-scale-range");const[W,J]=N.textSizeScaleRange,[se,ue]=N.iconSizeScaleRange;if(N.textScaleFactor=Vn(N.scaleFactor,W,J),N.iconScaleFactor=Vn(N.scaleFactor,se,ue),u.textSizeData.kind==="composite"){const{minZoom:Ne,maxZoom:ht}=u.textSizeData;N.compositeTextSizes=[O["text-size"].possiblyEvaluate(new Ws(Ne),S),O["text-size"].possiblyEvaluate(new Ws(ht),S)]}if(u.iconSizeData.kind==="composite"){const{minZoom:Ne,maxZoom:ht}=u.iconSizeData;N.compositeIconSizes=[O["icon-size"].possiblyEvaluate(new Ws(Ne),S),O["icon-size"].possiblyEvaluate(new Ws(ht),S)]}N.layoutTextSize=O["text-size"].possiblyEvaluate(new Ws(M+1),S),N.layoutIconSize=O["icon-size"].possiblyEvaluate(new Ws(M+1),S),N.textMaxSize=O["text-size"].possiblyEvaluate(new Ws(18),S);const re=T.get("text-rotation-alignment")==="map"&&T.get("symbol-placement")!=="point",ve=T.get("text-size");let we=!1;for(const Ne of u.features)if(Ne.icon&&Ne.icon.nameSecondary){we=!0;break}for(const Ne of u.features){const ht=T.get("text-font").evaluate(Ne,{},S).join(","),ft=ve.evaluate(Ne,{},S)*N.textScaleFactor,at=N.layoutTextSize.evaluate(Ne,{},S)*N.textScaleFactor,Gt=(N.layoutIconSize.evaluate(Ne,{},S),{horizontal:{},vertical:void 0}),vt=Ne.text;let en,mn=[0,0];if(vt){const zn=vt.toString(),Gn=T.get("text-letter-spacing").evaluate(Ne,{},S)*Rc,Mn=T.get("text-line-height").evaluate(Ne,{},S)*Rc,$r=Vg(zn)?Gn:0,ii=T.get("text-anchor").evaluate(Ne,{},S),Or=T.get("text-variable-anchor");if(!Or){const To=T.get("text-radial-offset").evaluate(Ne,{},S);mn=To?t1(ii,[To*Rc,z0]):T.get("text-offset").evaluate(Ne,{},S).map(Qi=>Qi*Rc)}let Xi=re?"center":T.get("text-justify").evaluate(Ne,{},S);const Fi=T.get("symbol-placement")==="point",xi=Fi?T.get("text-max-width").evaluate(Ne,{},S)*Rc:1/0,ni=To=>{u.allowVerticalPlacement&&Wu(zn)&&(Gt.vertical=gy(vt,n,i,g,ht,xi,Mn,ii,To,$r,mn,Kc.vertical,!0,at,ft))};if(!re&&Or){const To=Xi==="auto"?Or.map(ho=>Cy(ho)):[Xi];let Qi=!1;for(let ho=0;ho<To.length;ho++){const da=To[ho];if(!Gt.horizontal[da])if(Qi)Gt.horizontal[da]=Gt.horizontal[0];else{const za=gy(vt,n,i,g,ht,xi,Mn,"center",da,$r,mn,Kc.horizontal,!1,at,ft);za&&(Gt.horizontal[da]=za,Qi=za.positionedLines.length===1)}}ni("left")}else{if(Xi==="auto"&&(Xi=Cy(ii)),Fi||T.get("text-writing-mode").indexOf("horizontal")>=0||!Wu(zn)){const To=gy(vt,n,i,g,ht,xi,Mn,ii,Xi,$r,mn,Kc.horizontal,!1,at,ft);To&&(Gt.horizontal[Xi]=To)}ni(Fi?"left":Xi)}}let un=!1;if(Ne.icon&&Ne.icon.namePrimary){const zn=Pp(u.iconSizeData,O["icon-size"],S,u.zoom,Ne)*N.iconScaleFactor*P,Gn=Ne.icon.getPrimary().scaleSelf(zn).serialize(),Mn=d[Gn];Mn&&(en=A0(g[Gn],Ne.icon.nameSecondary?g[Ne.icon.getSecondary().scaleSelf(zn).serialize()]:void 0,T.get("icon-offset").evaluate(Ne,{},S),T.get("icon-anchor").evaluate(Ne,{},S)),un=Mn.sdf,u.sdfIcons===void 0?u.sdfIcons=Mn.sdf:u.sdfIcons!==Mn.sdf&&Un("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(Mn.pixelRatio!==u.pixelRatio||T.get("icon-rotate").constantOr(1)!==0)&&(u.iconsNeedLinear=!0))}const yn=r1(Gt.horizontal)||Gt.vertical;u.iconsInText||(u.iconsInText=!!yn&&yn.iconsInText),(yn||en)&&OC(u,Ne,Gt,en,d,N,at,0,mn,un,v,S,A,$,we)}h&&u.generateCollisionDebugBuffers(M,u.collisionBoxArray,N.textScaleFactor)},c.e5=nv,c.e6=Kr,c.e7=hb,c.e8=py,c.e9=xe,c.ea=function(u){let n=0;if(new Uint32Array(u,0,1)[0]!==Uf){const i=new Uint32Array(u,0,7),[,,d,g,h,v]=i;n=i.byteLength+g+h+v+h,(d!==u.byteLength||n>=u.byteLength)&&Un("Invalid b3dm header information.")}return h_(u,n)},c.eb=function(u,n){const i=hx(u);for(const d of i){for(const g of d.meshes)PS(g);d.lights&&(d.lightMeshIndex=d.meshes.length,d.meshes.push(px(d.lights,n)))}return i},c.ec=U0,c.ed=YC,c.ee=au,c.ef=function(u){nn(),Je!=null&&Je.then(n=>{n.keys().then(i=>{for(let d=0;d<i.length-u;d++)n.delete(i[d])})})},c.f=function(u){return u.indexOf("mapbox:")===0},c.g=function(u,n){return pt(Jr(u,{method:"GET"}),n)},c.h=eo,c.i=function(u){return li.API_STYLE_REGEX.test(u)&&!io(u)},c.j=function(u){return decodeURIComponent(atob(u).split("").map(n=>"%"+("00"+n.charCodeAt(0).toString(16)).slice(-2)).join(""))},c.k=function(u){return btoa(encodeURIComponent(u).replace(/%([0-9A-F]{2})/g,(n,i)=>String.fromCharCode(+("0x"+i))))},c.l=Jr,c.m=lt,c.n=function(u,n){return pt(Jr(u,{type:"json"}),n)},c.o=Ti,c.p=function(u,n){return pt(Jr(u,{method:"POST"}),n)},c.q=pe,c.r=Sc,c.s=function(u){try{const n=self[u];return n.setItem("_mapbox_test_",1),n.removeItem("_mapbox_test_"),!0}catch(n){return!1}},c.t=Ze,c.u=function(){return function u(n){return n?(n^Math.random()*(16>>n/4)).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,u)}()},c.v=function(u){return!!u&&/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(u)},c.w=Un,c.x=function(){return j1||(j1=new kf),j1},c.y=zo,c.z=Eo}),tt(["./shared"],function(c){function xe(Re){const de=Re?Re.url.toString():void 0;return de?performance.getEntriesByName(de):[]}function Ge(Re){if(typeof Re=="number"||typeof Re=="boolean"||typeof Re=="string"||Re==null)return JSON.stringify(Re);if(Array.isArray(Re)){let Y="[";for(const Ze of Re)Y+=`${Ge(Ze)},`;return`${Y}]`}let de="{";for(const Y of Object.keys(Re).sort())de+=`${Y}:${Ge(Re[Y])},`;return`${de}}`}function ze(Re){let de="";for(const Y of c.bm)(Re.type!=="model"||Y!=="minzoom"&&Y!=="maxzoom")&&(de+=`/${Ge(Re[Y])}`);return de}class Pe{constructor(de){this.keyCache={},this._layers={},this._layerConfigs={},de&&this.replace(de)}replace(de,Y){this._layerConfigs={},this._layers={},this.update(de,[],Y)}update(de,Y,Ze){this._options=Ze;for(const et of de)this._layerConfigs[et.id]=et,(this._layers[et.id]=c.cu(et,this.scope,null,this._options)).compileFilter(Ze),this.keyCache[et.id]&&delete this.keyCache[et.id];for(const et of Y)delete this.keyCache[et],delete this._layerConfigs[et],delete this._layers[et];this.familiesBySource={};const pe=function(et,nt){const ln={};for(let sn=0;sn<et.length;sn++){const vn=et[sn];let Je=nt&&nt[vn.id];!Je&&(Je=ze(vn),vn.type==="line"&&vn.paint)&&function Xt(nn){return typeof nn=="string"&&nn==="line-progress"||(Array.isArray(nn)?nn.some(Xt):!(!nn||typeof nn!="object")&&Object.values(nn).some(Xt))}(vn.paint["line-width"])&&(Je+=`/${Ge(vn.paint["line-width"])}`),nt&&(nt[vn.id]=Je);let Rt=ln[Je];Rt||(Rt=ln[Je]=[]),Rt.push(vn)}const At=[];for(const sn in ln)At.push(ln[sn]);return At}(c.bj(this._layerConfigs),this.keyCache);for(const et of pe){const nt=et.map(Rt=>this._layers[Rt.id]),ln=nt[0];if(ln.visibility==="none")continue;const At=ln.source||"";let sn=this.familiesBySource[At];sn||(sn=this.familiesBySource[At]={});const vn=ln.sourceLayer||"_geojsonTileLayer";let Je=sn[vn];Je||(Je=sn[vn]=[]),Je.push(nt)}}}const ye=1*c.dX;class te{constructor(de){const Y={},Ze=[];for(const ln in de){const At=de[ln],sn=Y[ln]={};for(const vn in At.glyphs){const Je=At.glyphs[+vn];if(!Je||Je.bitmap.width===0||Je.bitmap.height===0)continue;const Rt=Je.metrics.localGlyph?ye:1,Xt={x:0,y:0,w:Je.bitmap.width+2*Rt,h:Je.bitmap.height+2*Rt};Ze.push(Xt),sn[vn]=Xt}}const{w:pe,h:et}=c.F(Ze),nt=new c.dW({width:pe||1,height:et||1});for(const ln in de){const At=de[ln];for(const sn in At.glyphs){const vn=At.glyphs[+sn];if(!vn||vn.bitmap.width===0||vn.bitmap.height===0)continue;const Je=Y[ln][sn],Rt=vn.metrics.localGlyph?ye:1;c.dW.copy(vn.bitmap,nt,{x:0,y:0},{x:Je.x+Rt,y:Je.y+Rt},vn.bitmap)}}this.image=nt,this.positions=Y}}c.dV(te,"GlyphAtlas");const je="3d_elevation_id",Ee="hd_road_elevation";class He{constructor(){this._valid=!1}reset(de){return this.feature=de,this._valid=!0,this._geometry=de.loadGeometry(),this._geometry.length!==0&&this._geometry[0].length!==0||(this._valid=!1),this}geometry(de,Y){return this._valid&&de(Y(this._geometry)),this}require(de,Y,Ze){return this.get(de,!0,Y,Ze)}optional(de,Y,Ze){return this.get(de,!1,Y,Ze)}success(){return this._valid}get(de,Y,Ze,pe){const et=this.feature.properties.hasOwnProperty(de)?+this.feature.properties[de]:void 0;return this._valid&&et!==void 0?Ze(pe?pe(et):et):Y&&(this._valid=!1),this}}class Qe{constructor(de,Y){this.featureFunc=de,this.vertexFunc=Y}parseFeature(de,Y,Ze){return this.featureFunc(de,Y,Ze)}parseVertex(de,Y,Ze){return this.vertexFunc(de,Y,Ze)}}const ot=new Qe((Re,de,Y)=>Re.reset(de).require(je,Ze=>{Y.id=Ze}).optional("fixed_height_relative",Ze=>{Y.constantHeight=Ze},gt.decodeRelativeHeight).geometry(Ze=>{Y.bounds=Ze},gt.computeBounds).success(),(Re,de,Y)=>Re.reset(de).require(je,Ze=>{Y.id=Ze}).require("elevation_idx",Ze=>{Y.idx=Ze}).require("extent",Ze=>{Y.extent=Ze}).require("height_relative",Ze=>{Y.height=Ze},gt.decodeRelativeHeight).geometry(Ze=>{Y.position=Ze},gt.getPoint).success()),qe=new Qe((Re,de,Y)=>Re.reset(de).require(je,Ze=>{Y.id=Ze}).optional("fixed_height",Ze=>{Y.constantHeight=Ze},gt.decodeMetricHeight).geometry(Ze=>{Y.bounds=Ze},gt.computeBounds).success(),(Re,de,Y)=>Re.reset(de).require(je,Ze=>{Y.id=Ze}).require("elevation_idx",Ze=>{Y.idx=Ze}).require("extent",Ze=>{Y.extent=Ze}).require("height",Ze=>{Y.height=Ze},gt.decodeMetricHeight).geometry(Ze=>{Y.position=Ze},gt.getPoint).success());class gt{static computeBounds(de){const Y=new c.P(Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY),Ze=new c.P(Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY);for(const pe of de[0])Y.x>pe.x&&(Y.x=pe.x),Y.y>pe.y&&(Y.y=pe.y),Ze.x<pe.x&&(Ze.x=pe.x),Ze.y<pe.y&&(Ze.y=pe.y);return{min:Y,max:Ze}}static getPoint(de){return c.ab.vec2.fromValues(de[0][0].x,de[0][0].y)}static decodeRelativeHeight(de){return 1e-4*de*5}static decodeMetricHeight(de){return 1e-4*de}static parse(de){const Y=[],Ze=[],pe=de.length,et=new He;for(let ln=0;ln<pe;ln++){const At=de.feature(ln),sn=At.properties.hasOwnProperty("version")?String(At.properties.version):void 0,vn=(nt=sn)?nt==="1.0.1"?qe:void 0:ot;if(vn===void 0){c.w(`Unknown elevation feature version number ${sn||"(unknown)"}`);continue}const Je=At.properties.hasOwnProperty("type")?At.properties.type:void 0;if(Je){if(c.dY.VectorTileFeature.types[At.type]==="Point"&&Je==="curve_point"){const Rt={};vn.parseVertex(et,At,Rt)&&Y.push(Rt)}else if(c.dY.VectorTileFeature.types[At.type]==="Polygon"&&Je==="curve_meta"){const Rt={};vn.parseFeature(et,At,Rt)&&Ze.push(Rt)}}}var nt;return{vertices:Y,features:Ze}}}class xt{constructor(de,Y,Ze,pe,et,nt){if(this.vertices=new Array,this.vertexProps=new Array,this.edges=new Array,this.edgeProps=new Array,this.id=de,this.heightRange={min:Ze,max:Ze},this.safeArea=Y,this.constantHeight=Ze,this.constantHeight==null&&(this.constantHeight!=null||pe.length!==0)){this.vertices=pe,this.edges=et,this.edges=this.edges.filter(ln=>ln.a<this.vertices.length&&ln.b<this.vertices.length&&!c.ab.vec2.exactEquals(this.vertices[ln.a].position,this.vertices[ln.b].position)),this.heightRange={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};for(const ln of this.vertices)this.vertexProps.push({dir:c.ab.vec2.fromValues(0,0)}),this.heightRange.min=Math.min(this.heightRange.min,ln.height),this.heightRange.max=Math.max(this.heightRange.max,ln.height);for(const ln of this.edges){const At=this.vertices[ln.a].position,sn=this.vertices[ln.b].position,vn=c.ab.vec2.subtract(c.ab.vec2.create(),sn,At),Je=c.ab.vec2.length(vn),Rt=c.ab.vec2.scale(c.ab.vec2.create(),vn,1/Je);this.edgeProps.push({vec:vn,dir:Rt,len:Je});const Xt=this.vertexProps[ln.a].dir,nn=this.vertexProps[ln.b].dir;c.ab.vec2.add(Xt,Xt,Rt),c.ab.vec2.add(nn,nn,Rt)}for(const ln of this.vertexProps)ln.dir[0]===0&&ln.dir[1]===0||c.ab.vec2.normalize(ln.dir,ln.dir);this.tessellate(nt)}}pointElevation(de){if(this.constantHeight!=null)return this.constantHeight;const Y=this.getClosestEdge(de);if(Y==null)return 0;const[Ze,pe]=Y;return(1-(et=pe))*this.vertices[this.edges[Ze].a].height+et*this.vertices[this.edges[Ze].b].height;var et}getClosestEdge(de){if(this.edges.length===0)return;let Y=0,Ze=Number.POSITIVE_INFINITY,pe=0;const et=c.ab.vec2.fromValues(de.x,de.y);for(let nt=0;nt<this.edges.length;nt++){const ln=this.edges[nt],At=this.edgeProps[nt].dir,sn=new c.dZ(et,this.edgeProps[nt].dir),vn=this.vertices[ln.a].position,Je=this.vertices[ln.b].position,Rt=c.ab.vec2.create(),Xt=c.ab.vec2.create(),nn=sn.intersectsPlane(vn,this.vertexProps[ln.a].dir,Rt),dt=sn.intersectsPlane(Je,this.vertexProps[ln.b].dir,Xt);if(!nn||!dt)continue;const lt=c.ab.vec2.subtract(c.ab.vec2.create(),Xt,Rt),En=c.ab.vec2.subtract(c.ab.vec2.create(),et,Rt),_n=c.ab.vec2.dot(lt,lt),Wn=_n>0?c.ab.vec2.dot(En,lt)/_n:0,nr=c.aw(Wn,0,1),mr=Math.abs((Wn-nr)*this.edgeProps[nt].len),Nr=c.ab.vec2.subtract(c.ab.vec2.create(),et,vn),ui=mr+Math.abs(c.ab.vec2.dot(Nr,c.ab.vec2.fromValues(At[1],-At[0])));ui<Ze&&(Y=nt,Ze=ui,pe=nr)}return[Y,pe]}tessellate(de){for(let Y=this.edges.length-1;Y>=0;--Y){const Ze=this.edges[Y].a,pe=this.edges[Y].b,{position:et,height:nt,extent:ln}=this.vertices[Ze],{position:At,height:sn,extent:vn}=this.vertices[pe],Je=this.vertexProps[Ze].dir,Rt=this.vertexProps[pe].dir,Xt=c.ab.vec3.fromValues(et[0]/de,et[1]/de,nt),nn=c.ab.vec3.fromValues(At[0]/de,At[1]/de,sn),dt=c.ab.vec3.fromValues(Je[1],-Je[0],0);c.ab.vec3.scale(dt,dt,ln);const lt=c.ab.vec3.fromValues(Rt[1],-Rt[0],0);if(c.ab.vec3.scale(lt,lt,vn),this.distSqLines(c.ab.vec3.fromValues(Xt[0]+.5*dt[0],Xt[1]+.5*dt[1],Xt[2]+.5*dt[2]),c.ab.vec3.fromValues(nn[0]-.5*lt[0],nn[1]-.5*lt[1],nn[2]-.5*lt[2]),c.ab.vec3.fromValues(Xt[0]-.5*dt[0],Xt[1]-.5*dt[1],Xt[2]-.5*dt[2]),c.ab.vec3.fromValues(nn[0]+.5*lt[0],nn[1]+.5*lt[1],nn[2]+.5*lt[2]))<=.05*.05)continue;const En=this.vertices.length,_n=c.ab.vec2.add(c.ab.vec2.create(),et,At);this.vertices.push({position:c.ab.vec2.scale(_n,_n,.5),height:.5*(nt+sn),extent:.5*(ln+vn)});const Wn=c.ab.vec2.add(c.ab.vec2.create(),Je,Rt);this.vertexProps.push({dir:c.ab.vec2.normalize(Wn,Wn)}),this.edges.splice(Y,1),this.edgeProps.splice(Y,1),this.edges.push({a:Ze,b:En}),this.edges.push({a:En,b:pe});const nr=c.ab.vec2.subtract(c.ab.vec2.create(),this.vertices[En].position,et),mr=c.ab.vec2.length(nr),Nr={vec:nr,dir:c.ab.vec2.scale(c.ab.vec2.create(),nr,1/mr),len:mr};this.edgeProps.push(Nr),this.edgeProps.push(Nr)}}distSqLines(de,Y,Ze,pe){const et=c.ab.vec3.subtract(c.ab.vec3.create(),Y,de),nt=c.ab.vec3.subtract(c.ab.vec3.create(),pe,Ze),ln=c.ab.vec3.subtract(c.ab.vec3.create(),de,Ze),At=c.ab.vec3.dot(et,et),sn=c.ab.vec3.dot(et,nt),vn=c.ab.vec3.dot(et,ln),Je=c.ab.vec3.dot(nt,nt),Rt=c.ab.vec3.dot(nt,ln),Xt=At*Je-sn*sn;if(Xt===0){const _n=c.ab.vec3.dot(ln,nt)/c.ab.vec3.dot(nt,nt),Wn=c.ab.vec3.lerp(c.ab.vec3.create(),Ze,pe,_n);return c.ab.vec3.squaredDistance(Wn,de)}const nn=(sn*Rt-vn*Je)/Xt,dt=(At*Rt-sn*vn)/Xt,lt=c.ab.vec3.lerp(c.ab.vec3.create(),de,Y,nn),En=c.ab.vec3.lerp(c.ab.vec3.create(),Ze,pe,dt);return c.ab.vec3.squaredDistance(lt,En)}}class Xe{static parseFrom(de,Y){const Ze=gt.parse(de);if(!Ze)return[];let{vertices:pe,features:et}=Ze;const nt=1/c.cc(Y);et.sort((vn,Je)=>vn.id-Je.id),pe.sort((vn,Je)=>vn.id-Je.id||vn.idx-Je.idx),pe=pe.filter((vn,Je,Rt)=>Je===Rt.findIndex(Xt=>Xt.id===vn.id&&Xt.idx===vn.idx));const ln=new Array;let At=0;const sn=pe.length;for(const vn of et){if(vn.constantHeight){ln.push(new xt(vn.id,vn.bounds,vn.constantHeight));continue}for(;At!==sn&&pe[At].id<vn.id;)At++;if(At===sn||pe[At].id!==vn.id)continue;const Je=new Array,Rt=new Array,Xt=At;for(;At!==sn&&pe[At].id===vn.id;){const nn=pe[At];if(Je.push({position:nn.position,height:nn.height,extent:nn.extent}),At!==Xt&&pe[At-1].idx===nn.idx-1){const dt=At-Xt;Rt.push({a:dt-1,b:dt})}At++}ln.push(new xt(vn.id,vn.bounds,void 0,Je,Rt,nt))}return ln}}c.dV(xt,"ElevationFeature");class Ut{constructor(de){this.tileID=new c.aG(de.tileID.overscaledZ,de.tileID.wrap,de.tileID.canonical.z,de.tileID.canonical.x,de.tileID.canonical.y),this.tileZoom=de.tileZoom,this.uid=de.uid,this.zoom=de.zoom,this.lut=de.lut,this.canonical=de.tileID.canonical,this.pixelRatio=de.pixelRatio,this.tileSize=de.tileSize,this.source=de.source,this.scope=de.scope,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=de.showCollisionBoxes,this.collectResourceTiming=!!de.request&&de.request.collectResourceTiming,this.promoteId=de.promoteId,this.isSymbolTile=de.isSymbolTile,this.tileTransform=c.aQ(de.tileID.canonical,de.projection),this.projection=de.projection,this.worldview=de.worldview,this.localizableLayerIds=de.localizableLayerIds,this.brightness=de.brightness,this.extraShadowCaster=!!de.extraShadowCaster,this.tessellationStep=de.tessellationStep,this.scaleFactor=de.scaleFactor}parse(de,Y,Ze,pe,et){this.status="parsing",this.data=de,this.collisionBoxArray=new c.aW;const nt=new c.d_(Object.keys(de.layers).sort()),ln=new c.d$(this.tileID,this.promoteId);ln.bucketLayerIDs=[];const At={},sn=new c.e0(256,256),vn={featureIndex:ln,iconDependencies:{},patternDependencies:{},glyphDependencies:{},lineAtlas:sn,availableImages:Ze,brightness:this.brightness,scaleFactor:this.scaleFactor,elevationFeatures:void 0},Je=Y.familiesBySource[this.source];for(const _n in Je){const Wn=de.layers[_n];if(!Wn)continue;let nr=!1,mr=!1,Nr=!1;for(const pt of Je[_n])pt[0].type==="symbol"?nr=!0:mr=!0,pt[0].is3D()&&pt[0].type!=="model"&&(Nr=!0);if(this.extraShadowCaster&&!Nr||this.isSymbolTile===!0&&!nr||this.isSymbolTile===!1&&!mr)continue;Wn.version===1&&c.w(`Vector tile source "${this.source}" layer "${_n}" does not use vector tile spec v2 and therefore may have some rendering errors.`);const ui=nt.encode(_n),Zr=[];let qi=!1;for(let pt=0,Sn=0;pt<Wn.length;pt++){const qt=Wn.feature(pt),Nn=ln.getId(qt,_n);if(this.localizableLayerIds&&this.localizableLayerIds.has(_n)){const lr=qt.properties?qt.properties.worldview:null;if(this.worldview&&typeof lr=="string")if(lr==="all")qt.properties.$localized=!0;else{if(!lr.split(",").includes(this.worldview))continue;qt.properties.$localized=!0,qt.properties.worldview=this.worldview}}!qi&&qt.properties&&qt.properties.hasOwnProperty(je)&&(qi=!0),Zr.push({feature:qt,id:Nn,index:Sn,sourceLayerIndex:ui}),Sn++}qi&&de.layers.hasOwnProperty(Ee)&&(vn.elevationFeatures=Xe.parseFrom(de.layers[Ee],this.canonical));for(const pt of Je[_n]){const Sn=pt[0];(!this.extraShadowCaster||Sn.is3D()&&Sn.type!=="model")&&(this.isSymbolTile!==void 0&&Sn.type==="symbol"!==this.isSymbolTile||Sn.minzoom&&this.zoom<Math.floor(Sn.minzoom)||Sn.maxzoom&&this.zoom>=Sn.maxzoom||Sn.visibility!=="none"&&(yt(pt,this.zoom,vn.brightness,Ze),(At[Sn.id]=Sn.createBucket({index:ln.bucketLayerIDs.length,layers:pt,zoom:this.zoom,lut:this.lut,canonical:this.canonical,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:ui,sourceID:this.source,projection:this.projection.spec,tessellationStep:this.tessellationStep})).populate(Zr,vn,this.tileID.canonical,this.tileTransform),ln.bucketLayerIDs.push(pt.map(qt=>c.aC(qt.id,qt.scope)))))}}let Rt,Xt,nn,dt;sn.trim();const lt={type:"maybePrepare",isSymbolTile:this.isSymbolTile,zoom:this.zoom},En=()=>{if(Rt)return this.status="done",et(Rt);if(this.extraShadowCaster)this.status="done",et(null,{buckets:c.bj(At).filter(_n=>!_n.isEmpty()),featureIndex:ln,collisionBoxArray:null,glyphAtlasImage:null,lineAtlas:null,imageAtlas:null,brightness:vn.brightness,glyphMap:null,iconMap:null,glyphPositions:null});else if(Xt&&nn&&dt){const _n=new te(Xt),Wn=new c.e3(nn,dt,this.lut);for(const nr in At){const mr=At[nr];mr instanceof c.aX?(yt(mr.layers,this.zoom,vn.brightness,Ze),c.e4(mr,Xt,_n.positions,nn,Wn.iconPositions,this.showCollisionBoxes,Ze,this.tileID.canonical,this.tileZoom,this.projection,this.scaleFactor,this.pixelRatio,this.brightness)):mr.hasPattern&&(mr instanceof c.b1||mr instanceof c.b2||mr instanceof c.d5)&&(yt(mr.layers,this.zoom,vn.brightness,Ze),mr.addFeatures(vn,this.tileID.canonical,Wn.patternPositions,Ze,this.tileTransform,this.brightness))}this.status="done",et(null,{buckets:c.bj(At).filter(nr=>!nr.isEmpty()),featureIndex:ln,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:_n.image,lineAtlas:sn,imageAtlas:Wn,brightness:vn.brightness})}};if(!this.extraShadowCaster){const _n=c.e1(vn.glyphDependencies,mr=>Object.keys(mr).map(Number));Object.keys(_n).length?pe.send("getGlyphs",{uid:this.uid,stacks:_n,scope:this.scope},(mr,Nr)=>{Rt||(Rt=mr,Xt=Nr,En())},void 0,!1,lt):Xt={};const Wn=Object.keys(vn.iconDependencies);Wn.length?pe.send("getImages",{icons:Wn,source:this.source,scope:this.scope,tileID:this.tileID,type:"icons"},(mr,Nr)=>{if(Rt)return;Rt=mr;const ui={};Object.values(Nr).some(Zr=>Zr.usvg)?this.rasterize(pe,ui,Nr,vn.iconDependencies,()=>{nn=ui,En()}):(this.fillImageMap(ui,vn.iconDependencies,Nr),nn=ui,En())},void 0,!1,lt):nn={};const nr=Object.keys(vn.patternDependencies);nr.length?pe.send("getImages",{icons:nr,source:this.source,scope:this.scope,tileID:this.tileID,type:"patterns"},(mr,Nr)=>{if(!Rt){Rt=mr;const ui={};Object.values(Nr).some(Zr=>Zr.usvg)?this.rasterize(pe,ui,Nr,vn.patternDependencies,()=>{dt=ui,En()}):(this.fillImageMap(ui,vn.patternDependencies,Nr),dt=ui,En())}},void 0,!1,lt):dt={}}En()}fillImageMap(de,Y,Ze){for(const pe in Ze){const et=Y[pe]||[];for(const nt of et)Ze[nt.id].usvg||(de[nt.serialize()]=Ze[nt.id])}}getImageTaskQueue(de,Y,Ze){const pe={};for(const et in Y){const nt=Ze[et]||[];for(const ln of nt){const At=ln.serialize();Y[ln.id].usvg?pe[At]||(pe[At]=ln):de[At]=Y[ln.id]}}return pe}rasterize(de,Y,Ze,pe,et){const nt=this.getImageTaskQueue(Y,Ze,pe);this.rasterizeTask=de.send("rasterizeImages",{scope:this.scope,imageTasks:nt},(ln,At)=>{if(!ln)for(const sn in At){const{id:vn}=c.e2.deserializeFromString(sn);Y[sn]=Object.assign({},Ze[vn],{data:At[sn]})}et()})}cancelRasterize(){this.rasterizeTask&&this.rasterizeTask.cancel()}}function yt(Re,de,Y,Ze){const pe=new c.a8(de,{brightness:Y});for(const et of Re)et.recalculate(pe,Ze)}class Pt extends c.E{constructor(de,Y,Ze,pe,et,nt){super(),this.actor=de,this.layerIndex=Y,this.availableImages=Ze,this.loadVectorData=et||c.aD,this.loading={},this.loaded={},this.deduped=new c.aB(de.scheduler),this.isSpriteLoaded=pe,this.scheduler=de.scheduler,this.brightness=nt}loadTile(de,Y){const Ze=de.uid,pe=de&&de.request,et=pe&&pe.collectResourceTiming,nt=this.loading[Ze]=new Ut(de);nt.abort=this.loadVectorData(de,(ln,At)=>{const sn=!this.loading[Ze];if(delete this.loading[Ze],nt.cancelRasterize(),sn||ln||!At)return nt.status="done",sn||(this.loaded[Ze]=nt),Y(ln);const vn=At.rawData,Je={};At.expires&&(Je.expires=At.expires),At.cacheControl&&(Je.cacheControl=At.cacheControl),nt.vectorTile=At.vectorTile||new c.dY.VectorTile(new c.bh(vn));const Rt=()=>{nt.parse(nt.vectorTile,this.layerIndex,this.availableImages,this.actor,(Xt,nn)=>{if(Xt||!nn)return Y(Xt);const dt={};if(et){const lt=xe(pe);lt.length>0&&(dt.resourceTiming=JSON.parse(JSON.stringify(lt)))}Y(null,c.l({rawTileData:vn.slice(0)},nn,Je,dt))})};this.isSpriteLoaded?Rt():this.once("isSpriteLoaded",()=>{this.scheduler?this.scheduler.add(Rt,{type:"parseTile",isSymbolTile:de.isSymbolTile,zoom:de.tileZoom}):Rt()}),this.loaded=this.loaded||{},this.loaded[Ze]=nt})}reloadTile(de,Y){const Ze=this.loaded,pe=de.uid;if(Ze&&Ze[pe]){const et=Ze[pe];et.scaleFactor=de.scaleFactor,et.showCollisionBoxes=de.showCollisionBoxes,et.projection=de.projection,et.brightness=de.brightness,et.tileTransform=c.aQ(de.tileID.canonical,de.projection),et.extraShadowCaster=de.extraShadowCaster,et.lut=de.lut;const nt=(ln,At)=>{const sn=et.reloadCallback;sn&&(delete et.reloadCallback,et.parse(et.vectorTile,this.layerIndex,this.availableImages,this.actor,sn)),Y(ln,At)};et.status==="parsing"?et.reloadCallback=nt:et.status==="done"&&(et.vectorTile?et.parse(et.vectorTile,this.layerIndex,this.availableImages,this.actor,nt):nt())}else Y(null,void 0)}abortTile(de,Y){const Ze=de.uid,pe=this.loading[Ze];pe&&(pe.abort&&pe.abort(),delete this.loading[Ze]),Y()}removeTile(de,Y){const Ze=this.loaded,pe=de.uid;Ze&&Ze[pe]&&delete Ze[pe],Y()}}class Wt{loadTile(de,Y){const{uid:Ze,encoding:pe,rawImageData:et,padding:nt}=de,ln=ImageBitmap&&et instanceof ImageBitmap?this.getImageData(et,nt):et;Y(null,new c.e5(Ze,ln,pe,nt<1))}getImageData(de,Y){this.offscreenCanvas&&this.offscreenCanvasContext||(this.offscreenCanvas=new OffscreenCanvas(de.width,de.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d",{willReadFrequently:!0})),this.offscreenCanvas.width=de.width,this.offscreenCanvas.height=de.height,this.offscreenCanvasContext.drawImage(de,0,0,de.width,de.height);const Ze=this.offscreenCanvasContext.getImageData(-Y,-Y,de.width+2*Y,de.height+2*Y);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),Ze}}c.bg.setPbf(c.bh);class kt{decodeRasterArray({task:de,buffer:Y},Ze){c.bg.performDecoding(Y,de).then(pe=>{Ze(null,pe)},pe=>{Ze(pe)})}}const Sr=c.dY.VectorTileFeature.prototype.toGeoJSON;class cr{constructor(de){this._feature=de,this.extent=c.ag,this.type=de.type,this.properties=de.tags,"id"in de&&!isNaN(de.id)&&(this.id=parseInt(de.id,10))}loadGeometry(){if(this._feature.type===1){const de=[];for(const Y of this._feature.geometry)de.push([new c.P(Y[0],Y[1])]);return de}{const de=[];for(const Y of this._feature.geometry){const Ze=[];for(const pe of Y)Ze.push(new c.P(pe[0],pe[1]));de.push(Ze)}return de}}toGeoJSON(de,Y,Ze){return Sr.call(this,de,Y,Ze)}}class Xn{constructor(de){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=c.ag,this.length=de.length,this._features=de}feature(de){return new cr(this._features[de])}}const We=64/4096,Zt=128;class cn{constructor(){this.features=new Map}clear(){this.features.clear()}load(de=[],Y){for(const Ze of de){const pe=Ze.id;if(pe==null)continue;let et=this.features.get(pe);et&&this.updateCache(et,Y),Ze.geometry?(et=Fe(Ze),this.updateCache(et,Y),this.features.set(pe,et)):this.features.delete(pe),this.updateCache(et,Y)}}updateCache(de,Y){for(const{canonical:Ze,uid:pe}of Object.values(Y)){const{z:et,x:nt,y:ln}=Ze;Kt(de,Math.pow(2,et),nt,ln)&&delete Y[pe]}}getTile(de,Y,Ze){const pe=Math.pow(2,de),et=[];for(const nt of this.features.values())Kt(nt,pe,Y,Ze)&&et.push(ut(nt,pe,Y,Ze));return{features:et}}getFeatures(){return[...this.features.values()]}}function Kt({minX:Re,minY:de,maxX:Y,maxY:Ze},pe,et,nt){return Re<(et+1+We)/pe&&de<(nt+1+We)/pe&&Y>(et-We)/pe&&Ze>(nt-We)/pe}function Fe(Re){const{id:de,geometry:Y,properties:Ze}=Re;if(!Y)return;if(Y.type==="GeometryCollection")throw new Error("GeometryCollection not supported in dynamic mode.");const{type:pe,coordinates:et}=Y,nt={id:de,type:1,geometry:[],tags:Ze,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0},ln=nt.geometry;if(pe==="Point")Ln(et,ln,nt);else if(pe==="MultiPoint")for(const At of et)Ln(At,ln,nt);else if(pe==="LineString")nt.type=2,hn(et,ln,nt);else if(pe==="MultiLineString")nt.type=2,On(et,ln,nt);else if(pe==="Polygon")nt.type=3,On(et,ln,nt,!0);else{if(pe!=="MultiPolygon")throw new Error("Input data is not a valid GeoJSON object.");nt.type=3;for(const At of et)On(At,ln,nt,!0)}return nt}function Ln([Re,de],Y,Ze){const pe=c.at(Re);let et=c.aA(de);et=et<0?0:et>1?1:et,Y.push(pe,et),Ze.minX=Math.min(Ze.minX,pe),Ze.minY=Math.min(Ze.minY,et),Ze.maxX=Math.max(Ze.maxX,pe),Ze.maxY=Math.max(Ze.maxY,et)}function hn(Re,de,Y,Ze=!1,pe=!1){const et=[];for(const nt of Re)Ln(nt,et,Y);de.push(et),Ze&&function(nt,ln){let At=0;for(let sn=0,vn=nt.length,Je=vn-2;sn<vn;Je=sn,sn+=2)At+=(nt[sn]-nt[Je])*(nt[sn+1]+nt[Je+1]);if(At>0===ln)for(let sn=0,vn=nt.length;sn<vn/2;sn+=2){const Je=nt[sn],Rt=nt[sn+1];nt[sn]=nt[vn-2-sn],nt[sn+1]=nt[vn-1-sn],nt[vn-2-sn]=Je,nt[vn-1-sn]=Rt}}(et,pe)}function On(Re,de,Y,Ze=!1){for(let pe=0;pe<Re.length;pe++)hn(Re[pe],de,Y,Ze,pe===0)}function ut(Re,de,Y,Ze){const{id:pe,type:et,geometry:nt,tags:ln}=Re,At=[];if(et===1)(function(sn,vn,Je,Rt,Xt){for(let nn=0;nn<sn.length;nn+=2){const dt=Math.round(c.ag*(sn[nn+0]*vn-Je)),lt=Math.round(c.ag*(sn[nn+1]*vn-Rt));Xt.push([dt,lt])}})(nt,de,Y,Ze,At);else for(const sn of nt)Yt(sn,de,Y,Ze,At);return{id:pe,type:et,geometry:At,tags:ln}}function Yt(Re,de,Y,Ze,pe){const et=-Zt,nt=c.ag+Zt;let ln;for(let At=0;At<Re.length-2;At+=2){let sn=Math.round(c.ag*(Re[At+0]*de-Y)),vn=Math.round(c.ag*(Re[At+1]*de-Ze)),Je=Math.round(c.ag*(Re[At+2]*de-Y)),Rt=Math.round(c.ag*(Re[At+3]*de-Ze));const Xt=Je-sn,nn=Rt-vn;sn<et&&Je<et||(sn<et?(vn+=Math.round(nn*((et-sn)/Xt)),sn=et):Je<et&&(Rt=vn+Math.round(nn*((et-sn)/Xt)),Je=et),vn<et&&Rt<et||(vn<et?(sn+=Math.round(Xt*((et-vn)/nn)),vn=et):Rt<et&&(Je=sn+Math.round(Xt*((et-vn)/nn)),Rt=et),sn>=nt&&Je>=nt||(sn>=nt?(vn+=Math.round(nn*((nt-sn)/Xt)),sn=nt):Je>=nt&&(Rt=vn+Math.round(nn*((nt-sn)/Xt)),Je=nt),vn>=nt&&Rt>=nt||(vn>=nt?(sn+=Math.round(Xt*((nt-vn)/nn)),vn=nt):Rt>=nt&&(Je=sn+Math.round(Xt*((nt-vn)/nn)),Rt=nt),ln&&sn===ln[ln.length-1][0]&&vn===ln[ln.length-1][1]||(ln=[[sn,vn]],pe.push(ln)),ln.push([Je,Rt])))))}}var bn,he,Jt,wi={exports:{}},ai=function(){if(Jt)return wi.exports;Jt=1;var Re=c.e8(),de=function(){if(he)return bn;he=1;var vn=c.e6(),Je=c.e7().VectorTileFeature;function Rt(nn,dt){this.options=dt||{},this.features=nn,this.length=nn.length}function Xt(nn,dt){this.id=typeof nn.id=="number"?nn.id:void 0,this.type=nn.type,this.rawGeometry=nn.type===1?[nn.geometry]:nn.geometry,this.properties=nn.tags,this.extent=dt||4096}return bn=Rt,Rt.prototype.feature=function(nn){return new Xt(this.features[nn],this.options.extent)},Xt.prototype.loadGeometry=function(){var nn=this.rawGeometry;this.geometry=[];for(var dt=0;dt<nn.length;dt++){for(var lt=nn[dt],En=[],_n=0;_n<lt.length;_n++)En.push(new vn(lt[_n][0],lt[_n][1]));this.geometry.push(En)}return this.geometry},Xt.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var nn=this.geometry,dt=1/0,lt=-1/0,En=1/0,_n=-1/0,Wn=0;Wn<nn.length;Wn++)for(var nr=nn[Wn],mr=0;mr<nr.length;mr++){var Nr=nr[mr];dt=Math.min(dt,Nr.x),lt=Math.max(lt,Nr.x),En=Math.min(En,Nr.y),_n=Math.max(_n,Nr.y)}return[dt,En,lt,_n]},Xt.prototype.toGeoJSON=Je.prototype.toGeoJSON,bn}();function Y(vn){var Je=new Re;return function(Rt,Xt){for(var nn in Rt.layers)Xt.writeMessage(3,Ze,Rt.layers[nn])}(vn,Je),Je.finish()}function Ze(vn,Je){var Rt;Je.writeVarintField(15,vn.version||1),Je.writeStringField(1,vn.name||""),Je.writeVarintField(5,vn.extent||4096);var Xt={keys:[],values:[],keycache:{},valuecache:{}};for(Rt=0;Rt<vn.length;Rt++)Xt.feature=vn.feature(Rt),Je.writeMessage(2,pe,Xt);var nn=Xt.keys;for(Rt=0;Rt<nn.length;Rt++)Je.writeStringField(3,nn[Rt]);var dt=Xt.values;for(Rt=0;Rt<dt.length;Rt++)Je.writeMessage(4,sn,dt[Rt])}function pe(vn,Je){var Rt=vn.feature;Rt.id!==void 0&&Je.writeVarintField(1,Rt.id),Je.writeMessage(2,et,vn),Je.writeVarintField(3,Rt.type),Je.writeMessage(4,At,Rt)}function et(vn,Je){var Rt=vn.feature,Xt=vn.keys,nn=vn.values,dt=vn.keycache,lt=vn.valuecache;for(var En in Rt.properties){var _n=Rt.properties[En],Wn=dt[En];if(_n!==null){Wn===void 0&&(Xt.push(En),dt[En]=Wn=Xt.length-1),Je.writeVarint(Wn);var nr=typeof _n;nr!=="string"&&nr!=="boolean"&&nr!=="number"&&(_n=JSON.stringify(_n));var mr=nr+":"+_n,Nr=lt[mr];Nr===void 0&&(nn.push(_n),lt[mr]=Nr=nn.length-1),Je.writeVarint(Nr)}}}function nt(vn,Je){return(Je<<3)+(7&vn)}function ln(vn){return vn<<1^vn>>31}function At(vn,Je){for(var Rt=vn.loadGeometry(),Xt=vn.type,nn=0,dt=0,lt=Rt.length,En=0;En<lt;En++){var _n=Rt[En],Wn=1;Xt===1&&(Wn=_n.length),Je.writeVarint(nt(1,Wn));for(var nr=Xt===3?_n.length-1:_n.length,mr=0;mr<nr;mr++){mr===1&&Xt!==1&&Je.writeVarint(nt(2,nr-1));var Nr=_n[mr].x-nn,ui=_n[mr].y-dt;Je.writeVarint(ln(Nr)),Je.writeVarint(ln(ui)),nn+=Nr,dt+=ui}Xt===3&&Je.writeVarint(nt(7,1))}}function sn(vn,Je){var Rt=typeof vn;Rt==="string"?Je.writeStringField(1,vn):Rt==="boolean"?Je.writeBooleanField(7,vn):Rt==="number"&&(vn%1!=0?Je.writeDoubleField(3,vn):vn<0?Je.writeSVarintField(6,vn):Je.writeVarintField(5,vn))}return wi.exports=Y,wi.exports.fromVectorTileJs=Y,wi.exports.fromGeojsonVt=function(vn,Je){Je=Je||{};var Rt={};for(var Xt in vn)Rt[Xt]=new de(vn[Xt].features,Je),Rt[Xt].name=Xt,Rt[Xt].version=Je.version,Rt[Xt].extent=Je.extent;return Y({layers:Rt})},wi.exports.GeoJSONWrapper=de,wi.exports}(),$e=c.e9(ai);const An={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:Re=>Re},Ur=Math.fround||(Kr=new Float32Array(1),Re=>(Kr[0]=+Re,Kr[0]));var Kr;const Rn=3,Wr=5,Ii=6;class pr{constructor(de){this.options=Object.assign(Object.create(An),de),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(de){const{log:Y,minZoom:Ze,maxZoom:pe}=this.options;Y&&console.time("total time");const et=`prepare ${de.length} points`;Y&&console.time(et),this.points=de;const nt=[];for(let At=0;At<de.length;At++){const sn=de[At];if(!sn.geometry)continue;const[vn,Je]=sn.geometry.coordinates,Rt=Ur(Bn(vn)),Xt=Ur(fn(Je));nt.push(Rt,Xt,1/0,At,-1,1),this.options.reduce&&nt.push(0)}let ln=this.trees[pe+1]=this._createTree(nt);Y&&console.timeEnd(et);for(let At=pe;At>=Ze;At--){const sn=+Date.now();ln=this.trees[At]=this._createTree(this._cluster(ln,At)),Y&&console.log("z%d: %d clusters in %dms",At,ln.numItems,+Date.now()-sn)}return Y&&console.timeEnd("total time"),this}getClusters(de,Y){let Ze=((de[0]+180)%360+360)%360-180;const pe=Math.max(-90,Math.min(90,de[1]));let et=de[2]===180?180:((de[2]+180)%360+360)%360-180;const nt=Math.max(-90,Math.min(90,de[3]));if(de[2]-de[0]>=360)Ze=-180,et=180;else if(Ze>et){const Je=this.getClusters([Ze,pe,180,nt],Y),Rt=this.getClusters([-180,pe,et,nt],Y);return Je.concat(Rt)}const ln=this.trees[this._limitZoom(Y)],At=ln.range(Bn(Ze),fn(nt),Bn(et),fn(pe)),sn=ln.data,vn=[];for(const Je of At){const Rt=this.stride*Je;vn.push(sn[Rt+Wr]>1?it(sn,Rt,this.clusterProps):this.points[sn[Rt+Rn]])}return vn}getChildren(de){const Y=this._getOriginId(de),Ze=this._getOriginZoom(de),pe="No cluster with the specified id.",et=this.trees[Ze];if(!et)throw new Error(pe);const nt=et.data;if(Y*this.stride>=nt.length)throw new Error(pe);const ln=this.options.radius/(this.options.extent*Math.pow(2,Ze-1)),At=et.within(nt[Y*this.stride],nt[Y*this.stride+1],ln),sn=[];for(const vn of At){const Je=vn*this.stride;nt[Je+4]===de&&sn.push(nt[Je+Wr]>1?it(nt,Je,this.clusterProps):this.points[nt[Je+Rn]])}if(sn.length===0)throw new Error(pe);return sn}getLeaves(de,Y,Ze){const pe=[];return this._appendLeaves(pe,de,Y=Y||10,Ze=Ze||0,0),pe}getTile(de,Y,Ze){const pe=this.trees[this._limitZoom(de)],et=Math.pow(2,de),{extent:nt,radius:ln}=this.options,At=ln/nt,sn=(Ze-At)/et,vn=(Ze+1+At)/et,Je={features:[]};return this._addTileFeatures(pe.range((Y-At)/et,sn,(Y+1+At)/et,vn),pe.data,Y,Ze,et,Je),Y===0&&this._addTileFeatures(pe.range(1-At/et,sn,1,vn),pe.data,et,Ze,et,Je),Y===et-1&&this._addTileFeatures(pe.range(0,sn,At/et,vn),pe.data,-1,Ze,et,Je),Je.features.length?Je:null}getClusterExpansionZoom(de){let Y=this._getOriginZoom(de)-1;for(;Y<=this.options.maxZoom;){const Ze=this.getChildren(de);if(Y++,Ze.length!==1)break;de=Ze[0].properties.cluster_id}return Y}_appendLeaves(de,Y,Ze,pe,et){const nt=this.getChildren(Y);for(const ln of nt){const At=ln.properties;if(At&&At.cluster?et+At.point_count<=pe?et+=At.point_count:et=this._appendLeaves(de,At.cluster_id,Ze,pe,et):et<pe?et++:de.push(ln),de.length===Ze)break}return et}_createTree(de){const Y=new c.bE(de.length/this.stride|0,this.options.nodeSize,Float32Array);for(let Ze=0;Ze<de.length;Ze+=this.stride)Y.add(de[Ze],de[Ze+1]);return Y.finish(),Y.data=de,Y}_addTileFeatures(de,Y,Ze,pe,et,nt){for(const ln of de){const At=ln*this.stride,sn=Y[At+Wr]>1;let vn,Je,Rt;if(sn)vn=Ot(Y,At,this.clusterProps),Je=Y[At],Rt=Y[At+1];else{const dt=this.points[Y[At+Rn]];vn=dt.properties;const[lt,En]=dt.geometry.coordinates;Je=Bn(lt),Rt=fn(En)}const Xt={type:1,geometry:[[Math.round(this.options.extent*(Je*et-Ze)),Math.round(this.options.extent*(Rt*et-pe))]],tags:vn};let nn;nn=sn||this.options.generateId?Y[At+Rn]:this.points[Y[At+Rn]].id,nn!==void 0&&(Xt.id=nn),nt.features.push(Xt)}}_limitZoom(de){return Math.max(this.options.minZoom,Math.min(Math.floor(+de),this.options.maxZoom+1))}_cluster(de,Y){const{radius:Ze,extent:pe,reduce:et,minPoints:nt}=this.options,ln=Ze/(pe*Math.pow(2,Y)),At=de.data,sn=[],vn=this.stride;for(let Je=0;Je<At.length;Je+=vn){if(At[Je+2]<=Y)continue;At[Je+2]=Y;const Rt=At[Je],Xt=At[Je+1],nn=de.within(At[Je],At[Je+1],ln),dt=At[Je+Wr];let lt=dt;for(const En of nn){const _n=En*vn;At[_n+2]>Y&&(lt+=At[_n+Wr])}if(lt>dt&&lt>=nt){let En,_n=Rt*dt,Wn=Xt*dt,nr=-1;const mr=(Je/vn<<5)+(Y+1)+this.points.length;for(const Nr of nn){const ui=Nr*vn;if(At[ui+2]<=Y)continue;At[ui+2]=Y;const Zr=At[ui+Wr];_n+=At[ui]*Zr,Wn+=At[ui+1]*Zr,At[ui+4]=mr,et&&(En||(En=this._map(At,Je,!0),nr=this.clusterProps.length,this.clusterProps.push(En)),et(En,this._map(At,ui)))}At[Je+4]=mr,sn.push(_n/lt,Wn/lt,1/0,mr,-1,lt),et&&sn.push(nr)}else{for(let En=0;En<vn;En++)sn.push(At[Je+En]);if(lt>1)for(const En of nn){const _n=En*vn;if(!(At[_n+2]<=Y)){At[_n+2]=Y;for(let Wn=0;Wn<vn;Wn++)sn.push(At[_n+Wn])}}}}return sn}_getOriginId(de){return de-this.points.length>>5}_getOriginZoom(de){return(de-this.points.length)%32}_map(de,Y,Ze){if(de[Y+Wr]>1){const nt=this.clusterProps[de[Y+Ii]];return Ze?Object.assign({},nt):nt}const pe=this.points[de[Y+Rn]].properties,et=this.options.map(pe);return Ze&&et===pe?Object.assign({},et):et}}function it(Re,de,Y){return{type:"Feature",id:Re[de+Rn],properties:Ot(Re,de,Y),geometry:{type:"Point",coordinates:[(Ze=Re[de],360*(Ze-.5)),gn(Re[de+1])]}};var Ze}function Ot(Re,de,Y){const Ze=Re[de+Wr],pe=Ze>=1e4?`${Math.round(Ze/1e3)}k`:Ze>=1e3?Math.round(Ze/100)/10+"k":Ze,et=Re[de+Ii],nt=et===-1?{}:Object.assign({},Y[et]);return Object.assign(nt,{cluster:!0,cluster_id:Re[de+Rn],point_count:Ze,point_count_abbreviated:pe})}function Bn(Re){return Re/360+.5}function fn(Re){const de=Math.sin(Re*Math.PI/180),Y=.5-.25*Math.log((1+de)/(1-de))/Math.PI;return Y<0?0:Y>1?1:Y}function gn(Re){const de=(180-360*Re)*Math.PI/180;return 360*Math.atan(Math.exp(de))/Math.PI-90}function Er(Re,de,Y,Ze){let pe=Ze;const et=de+(Y-de>>1);let nt,ln=Y-de;const At=Re[de],sn=Re[de+1],vn=Re[Y],Je=Re[Y+1];for(let Rt=de+3;Rt<Y;Rt+=3){const Xt=Vn(Re[Rt],Re[Rt+1],At,sn,vn,Je);if(Xt>pe)nt=Rt,pe=Xt;else if(Xt===pe){const nn=Math.abs(Rt-et);nn<ln&&(nt=Rt,ln=nn)}}pe>Ze&&(nt-de>3&&Er(Re,de,nt,Ze),Re[nt+2]=pe,Y-nt>3&&Er(Re,nt,Y,Ze))}function Vn(Re,de,Y,Ze,pe,et){let nt=pe-Y,ln=et-Ze;if(nt!==0||ln!==0){const At=((Re-Y)*nt+(de-Ze)*ln)/(nt*nt+ln*ln);At>1?(Y=pe,Ze=et):At>0&&(Y+=nt*At,Ze+=ln*At)}return nt=Re-Y,ln=de-Ze,nt*nt+ln*ln}function ri(Re,de,Y,Ze){const pe={id:Re!=null?Re:null,type:de,geometry:Y,tags:Ze,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};if(de==="Point"||de==="MultiPoint"||de==="LineString")fi(pe,Y);else if(de==="Polygon")fi(pe,Y[0]);else if(de==="MultiLineString")for(const et of Y)fi(pe,et);else if(de==="MultiPolygon")for(const et of Y)fi(pe,et[0]);return pe}function fi(Re,de){for(let Y=0;Y<de.length;Y+=3)Re.minX=Math.min(Re.minX,de[Y]),Re.minY=Math.min(Re.minY,de[Y+1]),Re.maxX=Math.max(Re.maxX,de[Y]),Re.maxY=Math.max(Re.maxY,de[Y+1])}function qr(Re,de,Y,Ze){if(!de.geometry)return;const pe=de.geometry.coordinates;if(pe&&pe.length===0)return;const et=de.geometry.type,nt=Math.pow(Y.tolerance/((1<<Y.maxZoom)*Y.extent),2);let ln=[],At=de.id;if(Y.promoteId?At=de.properties[Y.promoteId]:Y.generateId&&(At=Ze||0),et==="Point")Jr(pe,ln);else if(et==="MultiPoint")for(const sn of pe)Jr(sn,ln);else if(et==="LineString")wr(pe,ln,nt,!1);else if(et==="MultiLineString"){if(Y.lineMetrics){for(const sn of pe)ln=[],wr(sn,ln,nt,!1),Re.push(ri(At,"LineString",ln,de.properties));return}Yn(pe,ln,nt,!1)}else if(et==="Polygon")Yn(pe,ln,nt,!0);else{if(et!=="MultiPolygon"){if(et==="GeometryCollection"){for(const sn of de.geometry.geometries)qr(Re,{id:At,geometry:sn,properties:de.properties},Y,Ze);return}throw new Error("Input data is not a valid GeoJSON object.")}for(const sn of pe){const vn=[];Yn(sn,vn,nt,!0),ln.push(vn)}}Re.push(ri(At,et,ln,de.properties))}function Jr(Re,de){de.push(yr(Re[0]),Pr(Re[1]),0)}function wr(Re,de,Y,Ze){let pe,et,nt=0;for(let At=0;At<Re.length;At++){const sn=yr(Re[At][0]),vn=Pr(Re[At][1]);de.push(sn,vn,0),At>0&&(nt+=Ze?(pe*vn-sn*et)/2:Math.sqrt(Math.pow(sn-pe,2)+Math.pow(vn-et,2))),pe=sn,et=vn}const ln=de.length-3;de[2]=1,Er(de,0,ln,Y),de[ln+2]=1,de.size=Math.abs(nt),de.start=0,de.end=de.size}function Yn(Re,de,Y,Ze){for(let pe=0;pe<Re.length;pe++){const et=[];wr(Re[pe],et,Y,Ze),de.push(et)}}function yr(Re){return Re/360+.5}function Pr(Re){const de=Math.sin(Re*Math.PI/180),Y=.5-.25*Math.log((1+de)/(1-de))/Math.PI;return Y<0?0:Y>1?1:Y}function Ir(Re,de,Y,Ze,pe,et,nt,ln){if(Ze/=de,et>=(Y/=de)&&nt<Ze)return Re;if(nt<Y||et>=Ze)return null;const At=[];for(const sn of Re){const vn=sn.geometry;let Je=sn.type;const Rt=pe===0?sn.minX:sn.minY,Xt=pe===0?sn.maxX:sn.maxY;if(Rt>=Y&&Xt<Ze){At.push(sn);continue}if(Xt<Y||Rt>=Ze)continue;let nn=[];if(Je==="Point"||Je==="MultiPoint")Xr(vn,nn,Y,Ze,pe);else if(Je==="LineString")rr(vn,nn,Y,Ze,pe,!1,ln.lineMetrics);else if(Je==="MultiLineString")ei(vn,nn,Y,Ze,pe,!1);else if(Je==="Polygon")ei(vn,nn,Y,Ze,pe,!0);else if(Je==="MultiPolygon")for(const dt of vn){const lt=[];ei(dt,lt,Y,Ze,pe,!0),lt.length&&nn.push(lt)}if(nn.length){if(ln.lineMetrics&&Je==="LineString"){for(const dt of nn)At.push(ri(sn.id,Je,dt,sn.tags));continue}Je!=="LineString"&&Je!=="MultiLineString"||(nn.length===1?(Je="LineString",nn=nn[0]):Je="MultiLineString"),Je!=="Point"&&Je!=="MultiPoint"||(Je=nn.length===3?"Point":"MultiPoint"),At.push(ri(sn.id,Je,nn,sn.tags))}}return At.length?At:null}function Xr(Re,de,Y,Ze,pe){for(let et=0;et<Re.length;et+=3){const nt=Re[et+pe];nt>=Y&&nt<=Ze&&Un(de,Re[et],Re[et+1],Re[et+2])}}function rr(Re,de,Y,Ze,pe,et,nt){let ln=gr(Re);const At=pe===0?si:Si;let sn,vn,Je=Re.start;for(let lt=0;lt<Re.length-3;lt+=3){const En=Re[lt],_n=Re[lt+1],Wn=Re[lt+2],nr=Re[lt+3],mr=Re[lt+4],Nr=pe===0?En:_n,ui=pe===0?nr:mr;let Zr=!1;nt&&(sn=Math.sqrt(Math.pow(En-nr,2)+Math.pow(_n-mr,2))),Nr<Y?ui>Y&&(vn=At(ln,En,_n,nr,mr,Y),nt&&(ln.start=Je+sn*vn)):Nr>Ze?ui<Ze&&(vn=At(ln,En,_n,nr,mr,Ze),nt&&(ln.start=Je+sn*vn)):Un(ln,En,_n,Wn),ui<Y&&Nr>=Y&&(vn=At(ln,En,_n,nr,mr,Y),Zr=!0),ui>Ze&&Nr<=Ze&&(vn=At(ln,En,_n,nr,mr,Ze),Zr=!0),!et&&Zr&&(nt&&(ln.end=Je+sn*vn),de.push(ln),ln=gr(Re)),nt&&(Je+=sn)}let Rt=Re.length-3;const Xt=Re[Rt],nn=Re[Rt+1],dt=pe===0?Xt:nn;dt>=Y&&dt<=Ze&&Un(ln,Xt,nn,Re[Rt+2]),Rt=ln.length-3,et&&Rt>=3&&(ln[Rt]!==ln[0]||ln[Rt+1]!==ln[1])&&Un(ln,ln[0],ln[1],ln[2]),ln.length&&de.push(ln)}function gr(Re){const de=[];return de.size=Re.size,de.start=Re.start,de.end=Re.end,de}function ei(Re,de,Y,Ze,pe,et){for(const nt of Re)rr(nt,de,Y,Ze,pe,et,!1)}function Un(Re,de,Y,Ze){Re.push(de,Y,Ze)}function si(Re,de,Y,Ze,pe,et){const nt=(et-de)/(Ze-de);return Un(Re,et,Y+(pe-Y)*nt,1),nt}function Si(Re,de,Y,Ze,pe,et){const nt=(et-Y)/(pe-Y);return Un(Re,de+(Ze-de)*nt,et,1),nt}function Yi(Re,de){const Y=[];for(let Ze=0;Ze<Re.length;Ze++){const pe=Re[Ze],et=pe.type;let nt;if(et==="Point"||et==="MultiPoint"||et==="LineString")nt=xo(pe.geometry,de);else if(et==="MultiLineString"||et==="Polygon"){nt=[];for(const ln of pe.geometry)nt.push(xo(ln,de))}else if(et==="MultiPolygon"){nt=[];for(const ln of pe.geometry){const At=[];for(const sn of ln)At.push(xo(sn,de));nt.push(At)}}Y.push(ri(pe.id,et,nt,pe.tags))}return Y}function xo(Re,de){const Y=[];Y.size=Re.size,Re.start!==void 0&&(Y.start=Re.start,Y.end=Re.end);for(let Ze=0;Ze<Re.length;Ze+=3)Y.push(Re[Ze]+de,Re[Ze+1],Re[Ze+2]);return Y}function Qr(Re,de){if(Re.transformed)return Re;const Y=1<<Re.z,Ze=Re.x,pe=Re.y;for(const et of Re.features){const nt=et.geometry,ln=et.type;if(et.geometry=[],ln===1)for(let At=0;At<nt.length;At+=2)et.geometry.push(co(nt[At],nt[At+1],de,Y,Ze,pe));else for(let At=0;At<nt.length;At++){const sn=[];for(let vn=0;vn<nt[At].length;vn+=2)sn.push(co(nt[At][vn],nt[At][vn+1],de,Y,Ze,pe));et.geometry.push(sn)}}return Re.transformed=!0,Re}function co(Re,de,Y,Ze,pe,et){return[Math.round(Y*(Re*Ze-pe)),Math.round(Y*(de*Ze-et))]}function tn(Re,de,Y,Ze,pe){const et=de===pe.maxZoom?0:pe.tolerance/((1<<de)*pe.extent),nt={features:[],numPoints:0,numSimplified:0,numFeatures:Re.length,source:null,x:Y,y:Ze,z:de,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0};for(const ln of Re)Tn(nt,ln,et,pe);return nt}function Tn(Re,de,Y,Ze){const pe=de.geometry,et=de.type,nt=[];if(Re.minX=Math.min(Re.minX,de.minX),Re.minY=Math.min(Re.minY,de.minY),Re.maxX=Math.max(Re.maxX,de.maxX),Re.maxY=Math.max(Re.maxY,de.maxY),et==="Point"||et==="MultiPoint")for(let ln=0;ln<pe.length;ln+=3)nt.push(pe[ln],pe[ln+1]),Re.numPoints++,Re.numSimplified++;else if(et==="LineString")ir(nt,pe,Re,Y,!1,!1);else if(et==="MultiLineString"||et==="Polygon")for(let ln=0;ln<pe.length;ln++)ir(nt,pe[ln],Re,Y,et==="Polygon",ln===0);else if(et==="MultiPolygon")for(let ln=0;ln<pe.length;ln++){const At=pe[ln];for(let sn=0;sn<At.length;sn++)ir(nt,At[sn],Re,Y,!0,sn===0)}if(nt.length){let ln=de.tags||null;if(et==="LineString"&&Ze.lineMetrics){ln={};for(const sn in de.tags)ln[sn]=de.tags[sn];ln.mapbox_clip_start=pe.start/pe.size,ln.mapbox_clip_end=pe.end/pe.size}const At={geometry:nt,type:et==="Polygon"||et==="MultiPolygon"?3:et==="LineString"||et==="MultiLineString"?2:1,tags:ln};de.id!==null&&(At.id=de.id),Re.features.push(At)}}function ir(Re,de,Y,Ze,pe,et){const nt=Ze*Ze;if(Ze>0&&de.size<(pe?nt:Ze))return void(Y.numPoints+=de.length/3);const ln=[];for(let At=0;At<de.length;At+=3)(Ze===0||de[At+2]>nt)&&(Y.numSimplified++,ln.push(de[At],de[At+1])),Y.numPoints++;pe&&function(At,sn){let vn=0;for(let Je=0,Rt=At.length,Xt=Rt-2;Je<Rt;Xt=Je,Je+=2)vn+=(At[Je]-At[Xt])*(At[Je+1]+At[Xt+1]);if(vn>0===sn)for(let Je=0,Rt=At.length;Je<Rt/2;Je+=2){const Xt=At[Je],nn=At[Je+1];At[Je]=At[Rt-2-Je],At[Je+1]=At[Rt-1-Je],At[Rt-2-Je]=Xt,At[Rt-1-Je]=nn}}(ln,et),Re.push(ln)}const kr={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0};class gi{constructor(de,Y){const Ze=(Y=this.options=function(et,nt){for(const ln in nt)et[ln]=nt[ln];return et}(Object.create(kr),Y)).debug;if(Ze&&console.time("preprocess data"),Y.maxZoom<0||Y.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(Y.promoteId&&Y.generateId)throw new Error("promoteId and generateId cannot be used together.");let pe=function(et,nt){const ln=[];if(et.type==="FeatureCollection")for(let At=0;At<et.features.length;At++)qr(ln,et.features[At],nt,At);else qr(ln,et.type==="Feature"?et:{geometry:et},nt);return ln}(de,Y);this.tiles={},this.tileCoords=[],Ze&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",Y.indexMaxZoom,Y.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),pe=function(et,nt){const ln=nt.buffer/nt.extent;let At=et;const sn=Ir(et,1,-1-ln,ln,0,-1,2,nt),vn=Ir(et,1,1-ln,2+ln,0,-1,2,nt);return(sn||vn)&&(At=Ir(et,1,-ln,1+ln,0,-1,2,nt)||[],sn&&(At=Yi(sn,1).concat(At)),vn&&(At=At.concat(Yi(vn,-1)))),At}(pe,Y),pe.length&&this.splitTile(pe,0,0,0),Ze&&(pe.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}splitTile(de,Y,Ze,pe,et,nt,ln){const At=[de,Y,Ze,pe],sn=this.options,vn=sn.debug;for(;At.length;){pe=At.pop(),Ze=At.pop(),Y=At.pop(),de=At.pop();const Je=1<<Y,Rt=li(Y,Ze,pe);let Xt=this.tiles[Rt];if(!Xt&&(vn>1&&console.time("creation"),Xt=this.tiles[Rt]=tn(de,Y,Ze,pe,sn),this.tileCoords.push({z:Y,x:Ze,y:pe}),vn)){vn>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",Y,Ze,pe,Xt.numFeatures,Xt.numPoints,Xt.numSimplified),console.timeEnd("creation"));const Zr=`z${Y}`;this.stats[Zr]=(this.stats[Zr]||0)+1,this.total++}if(Xt.source=de,et==null){if(Y===sn.indexMaxZoom||Xt.numPoints<=sn.indexMaxPoints)continue}else{if(Y===sn.maxZoom||Y===et)continue;if(et!=null){const Zr=et-Y;if(Ze!==nt>>Zr||pe!==ln>>Zr)continue}}if(Xt.source=null,de.length===0)continue;vn>1&&console.time("clipping");const nn=.5*sn.buffer/sn.extent,dt=.5-nn,lt=.5+nn,En=1+nn;let _n=null,Wn=null,nr=null,mr=null,Nr=Ir(de,Je,Ze-nn,Ze+lt,0,Xt.minX,Xt.maxX,sn),ui=Ir(de,Je,Ze+dt,Ze+En,0,Xt.minX,Xt.maxX,sn);de=null,Nr&&(_n=Ir(Nr,Je,pe-nn,pe+lt,1,Xt.minY,Xt.maxY,sn),Wn=Ir(Nr,Je,pe+dt,pe+En,1,Xt.minY,Xt.maxY,sn),Nr=null),ui&&(nr=Ir(ui,Je,pe-nn,pe+lt,1,Xt.minY,Xt.maxY,sn),mr=Ir(ui,Je,pe+dt,pe+En,1,Xt.minY,Xt.maxY,sn),ui=null),vn>1&&console.timeEnd("clipping"),At.push(_n||[],Y+1,2*Ze,2*pe),At.push(Wn||[],Y+1,2*Ze,2*pe+1),At.push(nr||[],Y+1,2*Ze+1,2*pe),At.push(mr||[],Y+1,2*Ze+1,2*pe+1)}}getTile(de,Y,Ze){de=+de,Y=+Y,Ze=+Ze;const pe=this.options,{extent:et,debug:nt}=pe;if(de<0||de>24)return null;const ln=1<<de,At=li(de,Y=Y+ln&ln-1,Ze);if(this.tiles[At])return Qr(this.tiles[At],et);nt>1&&console.log("drilling down to z%d-%d-%d",de,Y,Ze);let sn,vn=de,Je=Y,Rt=Ze;for(;!sn&&vn>0;)vn--,Je>>=1,Rt>>=1,sn=this.tiles[li(vn,Je,Rt)];return sn&&sn.source?(nt>1&&(console.log("found parent tile z%d-%d-%d",vn,Je,Rt),console.time("drilling down")),this.splitTile(sn.source,vn,Je,Rt,de,Y,Ze),nt>1&&console.timeEnd("drilling down"),this.tiles[At]?Qr(this.tiles[At],et):null):null}}function li(Re,de,Y){return 32*((1<<Re)*Y+de)+Re}function eo(Re,de){const Y=Re.tileID.canonical;if(!this._geoJSONIndex)return void de(null,null);const Ze=this._geoJSONIndex.getTile(Y.z,Y.x,Y.y);if(!Ze)return void de(null,null);const pe=new Xn(Ze.features);let et=$e(pe);et.byteOffset===0&&et.byteLength===et.buffer.byteLength||(et=new Uint8Array(et)),de(null,{vectorTile:pe,rawData:et.buffer})}class io extends Pt{constructor(de,Y,Ze,pe,et,nt){super(de,Y,Ze,pe,eo,nt),et&&(this.loadGeoJSON=et),this._dynamicIndex=new cn}loadData(de,Y){const Ze=de&&de.request,pe=Ze&&Ze.collectResourceTiming;this.loadGeoJSON(de,(et,nt)=>{if(et||!nt)return Y(et);if(typeof nt!="object")return Y(new Error(`Input data given to '${de.source}' is not a valid GeoJSON object.`));{try{if(de.filter){const At=c.U(de.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if(At.result==="error")throw new Error(At.value.map(sn=>`${sn.key}: ${sn.message}`).join(", "));nt.features=nt.features.filter(sn=>At.value.evaluate({zoom:0},sn))}de.dynamic?(nt.type==="Feature"&&(nt={type:"FeatureCollection",features:[nt]}),de.append||(this._dynamicIndex.clear(),this.loaded={}),this._dynamicIndex.load(nt.features,this.loaded),de.cluster&&(nt.features=this._dynamicIndex.getFeatures())):this.loaded={},this._geoJSONIndex=de.cluster?new pr(function({superclusterOptions:At,clusterProperties:sn}){if(!sn||!At)return At;const vn={},Je={},Rt={accumulated:null,zoom:0},Xt={properties:null},nn=Object.keys(sn);for(const dt of nn){const[lt,En]=sn[dt],_n=c.U(En),Wn=c.U(typeof lt=="string"?[lt,["accumulated"],["get",dt]]:lt);vn[dt]=_n.value,Je[dt]=Wn.value}return At.map=dt=>{Xt.properties=dt;const lt={};for(const En of nn)lt[En]=vn[En].evaluate(Rt,Xt);return lt},At.reduce=(dt,lt)=>{Xt.properties=lt;for(const En of nn)Rt.accumulated=dt[En],dt[En]=Je[En].evaluate(Rt,Xt)},At}(de)).load(nt.features):de.dynamic?this._dynamicIndex:function(At,sn){return new gi(At,sn)}(nt,de.geojsonVtOptions)}catch(At){return Y(At)}const ln={};if(pe){const At=xe(Ze);At&&(ln.resourceTiming={},ln.resourceTiming[de.source]=JSON.parse(JSON.stringify(At)))}Y(null,ln)}})}reloadTile(de,Y){const Ze=this.loaded;return Ze&&Ze[de.uid]?de.partial?Y(null,void 0):super.reloadTile(de,Y):this.loadTile(de,Y)}loadGeoJSON(de,Y){if(de.request)c.n(de.request,Y);else{if(typeof de.data!="string")return Y(new Error(`Input data given to '${de.source}' is not a valid GeoJSON object.`));try{return Y(null,JSON.parse(de.data))}catch(Ze){return Y(new Error(`Input data given to '${de.source}' is not a valid GeoJSON object.`))}}}getClusterExpansionZoom(de,Y){try{Y(null,this._geoJSONIndex.getClusterExpansionZoom(de.clusterId))}catch(Ze){Y(Ze)}}getClusterChildren(de,Y){try{Y(null,this._geoJSONIndex.getChildren(de.clusterId))}catch(Ze){Y(Ze)}}getClusterLeaves(de,Y){try{Y(null,this._geoJSONIndex.getLeaves(de.clusterId,de.limit,de.offset))}catch(Ze){Y(Ze)}}}class Lo{constructor(de,Y){this.tileID=new c.aG(de.tileID.overscaledZ,de.tileID.wrap,de.tileID.canonical.z,de.tileID.canonical.x,de.tileID.canonical.y),this.tileZoom=de.tileZoom,this.uid=de.uid,this.zoom=de.zoom,this.canonical=de.tileID.canonical,this.pixelRatio=de.pixelRatio,this.tileSize=de.tileSize,this.source=de.source,this.overscaling=this.tileID.overscaleFactor(),this.projection=de.projection,this.brightness=Y}parse(de,Y,Ze,pe){this.status="parsing";const et=new c.aG(Ze.tileID.overscaledZ,Ze.tileID.wrap,Ze.tileID.canonical.z,Ze.tileID.canonical.x,Ze.tileID.canonical.y),nt=[],ln=Y.familiesBySource[Ze.source],At=new c.d$(et,Ze.promoteId);return At.bucketLayerIDs=[],At.is3DTile=!0,c.ea(de).then(sn=>{if(!sn)return pe(new Error("Could not parse tile"));const vn=c.eb(sn,1/c.cc(Ze.tileID.canonical)),Je=sn.json.extensionsUsed&&sn.json.extensionsUsed.includes("MAPBOX_mesh_features")||sn.json.asset.extras&&sn.json.asset.extras.MAPBOX_mesh_features,Rt=sn.json.extensionsUsed&&sn.json.extensionsUsed.includes("EXT_meshopt_compression"),Xt=new c.a8(this.zoom,{brightness:this.brightness});for(const nn in ln)for(const dt of ln[nn]){const lt=dt[0];At.bucketLayerIDs.push(dt.map(_n=>c.aC(_n.id,_n.scope))),lt.recalculate(Xt,[]);const En=new c.ec(dt,vn,et,Je,Rt,this.brightness,At);Je||(En.needsUpload=!0),nt.push(En),En.evaluate(lt)}this.status="done",pe(null,{buckets:nt,featureIndex:At,collisionBoxArray:null,glyphAtlasImage:null,lineAtlas:null,imageAtlas:null,brightness:null})}).catch(sn=>pe(new Error(sn.message)))}}class Co{constructor(de,Y,Ze,pe,et,nt){this.actor=de,this.layerIndex=Y,this.availableImages=Ze,this.brightness=nt,this.loading={},this.loaded={}}loadTile(de,Y){const Ze=de.uid,pe=this.loading[Ze]=new Lo(de,this.brightness);c.bi(de.request,(et,nt)=>{const ln=!this.loading[Ze];return delete this.loading[Ze],ln||et?(pe.status="done",ln||(this.loaded[Ze]=pe),Y(et)):nt&&nt.byteLength!==0?void pe.parse(nt,this.layerIndex,de,(At,sn)=>{pe.status="done",this.loaded=this.loaded||{},this.loaded[Ze]=pe,At||!sn?Y(At):Y(null,sn)}):(pe.status="done",this.loaded[Ze]=pe,Y())})}reloadTile(de,Y){const Ze=this.loaded,pe=de.uid;if(Ze&&Ze[pe]){const et=Ze[pe];et.projection=de.projection,et.brightness=de.brightness;const nt=(ln,At)=>{et.reloadCallback&&(delete et.reloadCallback,this.loadTile(de,Y)),Y(ln,At)};et.status==="parsing"?et.reloadCallback=nt:et.status==="done"&&this.loadTile(de,Y)}}abortTile(de,Y){const Ze=de.uid;this.loading[Ze]&&delete this.loading[Ze],Y()}removeTile(de,Y){const Ze=this.loaded,pe=de.uid;Ze&&Ze[pe]&&delete Ze[pe],Y()}}class uo{constructor(de){this.self=de,this.actor=new c.ed(de,this),this.layerIndexes={},this.availableImages={},this.isSpriteLoaded={},this.imageRasterizer=new c.I,this.projections={},this.defaultProjection=c.bP({name:"mercator"}),this.workerSourceTypes={vector:Pt,geojson:io,"batched-model":Co},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=(Y,Ze)=>{if(this.workerSourceTypes[Y])throw new Error(`Worker source with name "${Y}" already registered.`);this.workerSourceTypes[Y]=Ze},this.self.registerRTLTextPlugin=Y=>{if(c.ee.isParsed())throw new Error("RTL text plugin already registered.");c.ee.applyArabicShaping=Y.applyArabicShaping,c.ee.processBidirectionalText=Y.processBidirectionalText,c.ee.processStyledBidirectionalText=Y.processStyledBidirectionalText}}clearCaches(de,Y,Ze){delete this.layerIndexes[de],delete this.availableImages[de],delete this.workerSources[de],delete this.demWorkerSources[de],delete this.rasterArrayWorkerSource,Ze()}checkIfReady(de,Y,Ze){Ze()}setReferrer(de,Y){this.referrer=Y}spriteLoaded(de,{scope:Y,isLoaded:Ze}){if(this.isSpriteLoaded[de]||(this.isSpriteLoaded[de]={}),this.isSpriteLoaded[de][Y]=Ze,this.workerSources[de]&&this.workerSources[de][Y])for(const pe in this.workerSources[de][Y]){const et=this.workerSources[de][Y][pe];for(const nt in et){const ln=et[nt];ln instanceof Pt&&(ln.isSpriteLoaded=Ze,ln.fire(new c.z("isSpriteLoaded")))}}}setImages(de,{scope:Y,images:Ze},pe){if(this.availableImages[de]||(this.availableImages[de]={}),this.availableImages[de][Y]=Ze,this.workerSources[de]&&this.workerSources[de][Y]){for(const et in this.workerSources[de][Y]){const nt=this.workerSources[de][Y][et];for(const ln in nt)nt[ln].availableImages=Ze}pe()}else pe()}setProjection(de,Y){this.projections[de]=c.bP(Y)}setBrightness(de,Y,Ze){this.brightness=Y,Ze()}setLayers(de,Y,Ze){this.getLayerIndex(de,Y.scope).replace(Y.layers,Y.options),Ze()}updateLayers(de,Y,Ze){this.getLayerIndex(de,Y.scope).update(Y.layers,Y.removedIds,Y.options),Ze()}loadTile(de,Y,Ze){Y.projection=this.projections[de]||this.defaultProjection,this.getWorkerSource(de,Y.type,Y.source,Y.scope).loadTile(Y,Ze)}loadDEMTile(de,Y,Ze){this.getDEMWorkerSource(de,Y.source,Y.scope).loadTile(Y,Ze)}decodeRasterArray(de,Y,Ze){this.getRasterArrayWorkerSource().decodeRasterArray(Y,Ze)}reloadTile(de,Y,Ze){Y.projection=this.projections[de]||this.defaultProjection,this.getWorkerSource(de,Y.type,Y.source,Y.scope).reloadTile(Y,Ze)}abortTile(de,Y,Ze){this.getWorkerSource(de,Y.type,Y.source,Y.scope).abortTile(Y,Ze)}removeTile(de,Y,Ze){this.getWorkerSource(de,Y.type,Y.source,Y.scope).removeTile(Y,Ze)}removeSource(de,Y,Ze){if(!(this.workerSources[de]&&this.workerSources[de][Y.scope]&&this.workerSources[de][Y.scope][Y.type]&&this.workerSources[de][Y.scope][Y.type][Y.source]))return;const pe=this.workerSources[de][Y.scope][Y.type][Y.source];delete this.workerSources[de][Y.scope][Y.type][Y.source],pe.removeSource!==void 0?pe.removeSource(Y,Ze):Ze()}loadWorkerSource(de,Y,Ze){try{this.self.importScripts(Y.url),Ze()}catch(pe){Ze(pe.toString())}}syncRTLPluginState(de,Y,Ze){try{c.ee.setState(Y);const pe=c.ee.getPluginURL();if(c.ee.isLoaded()&&!c.ee.isParsed()&&pe!=null){this.self.importScripts(pe);const et=c.ee.isParsed();Ze(et?void 0:new Error(`RTL Text Plugin failed to import scripts from ${pe}`),et)}}catch(pe){Ze(pe.toString())}}setDracoUrl(de,Y){this.dracoUrl=Y}getAvailableImages(de,Y){this.availableImages[de]||(this.availableImages[de]={});let Ze=this.availableImages[de][Y];return Ze||(Ze=[]),Ze}getLayerIndex(de,Y){this.layerIndexes[de]||(this.layerIndexes[de]={});let Ze=this.layerIndexes[de][Y];return Ze||(Ze=this.layerIndexes[de][Y]=new Pe,Ze.scope=Y),Ze}getWorkerSource(de,Y,Ze,pe){return this.workerSources[de]||(this.workerSources[de]={}),this.workerSources[de][pe]||(this.workerSources[de][pe]={}),this.workerSources[de][pe][Y]||(this.workerSources[de][pe][Y]={}),this.isSpriteLoaded[de]||(this.isSpriteLoaded[de]={}),this.workerSources[de][pe][Y][Ze]||(this.workerSources[de][pe][Y][Ze]=new this.workerSourceTypes[Y]({send:(et,nt,ln,At,sn,vn)=>{this.actor.send(et,nt,ln,de,sn,vn)},scheduler:this.actor.scheduler},this.getLayerIndex(de,pe),this.getAvailableImages(de,pe),this.isSpriteLoaded[de][pe],void 0,this.brightness)),this.workerSources[de][pe][Y][Ze]}rasterizeImages(de,Y,Ze){const{imageTasks:pe,scope:et}=Y,nt={};for(const ln in pe){const{image:At,imageIdWithOptions:sn}=pe[ln];nt[ln]=this.imageRasterizer.rasterize(sn,At,et,de)}Ze(void 0,nt)}removeRasterizedImages(de,Y,Ze){const{imageIds:pe,scope:et}=Y;this.imageRasterizer.removeImagesFromCacheByIds(pe,et,de),Ze()}getDEMWorkerSource(de,Y,Ze){return this.demWorkerSources[de]||(this.demWorkerSources[de]={}),this.demWorkerSources[de][Ze]||(this.demWorkerSources[de][Ze]={}),this.demWorkerSources[de][Ze][Y]||(this.demWorkerSources[de][Ze][Y]=new Wt),this.demWorkerSources[de][Ze][Y]}getRasterArrayWorkerSource(){return this.rasterArrayWorkerSource||(this.rasterArrayWorkerSource=new kt),this.rasterArrayWorkerSource}enforceCacheSizeLimit(de,Y){c.ef(Y)}getWorkerPerformanceMetrics(de,Y,Ze){Ze(void 0,void 0)}}return typeof WorkerGlobalScope!="undefined"&&typeof self!="undefined"&&self instanceof WorkerGlobalScope&&(self.worker=new uo(self)),uo}),tt(["./shared"],function(c){var xe="3.10.0";const Ge={create:"create",load:"load",fullLoad:"fullLoad"},ze={mark(p){performance.mark(p)},measure(p,r,l){performance.measure(p,r,l)}};function Pe(p){const r=p.name.split("?")[0];return c.a(r)&&r.includes("mapbox-gl.js")?"javascript":c.a(r)&&r.includes("mapbox-gl.css")?"css":c.b(r)?"fontRange":c.c(r)?"sprite":c.i(r)?"style":c.d(r)?"tilejson":"other"}var ye,te={},je=function(){if(ye)return te;function p(m){return!r(m)}function r(m){return typeof window=="undefined"||typeof document=="undefined"?"not a browser":function(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var x,E,R=new Blob([""],{type:"text/javascript"}),B=URL.createObjectURL(R);try{E=new Worker(B),x=!0}catch(V){x=!1}return E&&E.terminate(),URL.revokeObjectURL(B),x}()?function(){var x=document.createElement("canvas");x.width=x.height=1;var E=x.getContext("2d");if(!E)return!1;var R=E.getImageData(0,0,1,1);return R&&R.width===x.width}()?(l[_=m&&m.failIfMajorPerformanceCaveat]===void 0&&(l[_]=function(x){var E,R=function(B){var V=document.createElement("canvas"),U=Object.create(p.webGLContextAttributes);return U.failIfMajorPerformanceCaveat=B,V.getContext("webgl2",U)}(x);if(!R)return!1;try{E=R.createShader(R.VERTEX_SHADER)}catch(B){return!1}return!(!E||R.isContextLost())&&(R.shaderSource(E,"void main() {}"),R.compileShader(E),R.getShaderParameter(E,R.COMPILE_STATUS)===!0)}(_)),l[_]?document.documentMode?"insufficient ECMAScript 6 support":void 0:"insufficient WebGL2 support"):"insufficient Canvas/getImageData support":"insufficient worker support";var _}ye=1,te.supported=p,te.notSupportedReason=r;var l={};return p.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0},te}();function Ee(p,r,l){const m=document.createElement(p);return r!=null&&(m.className=r),l&&l.appendChild(m),m}function He(p,r,l){const m=document.createElementNS("http://www.w3.org/2000/svg",p);for(const _ of Object.keys(r))m.setAttributeNS(null,_,String(r[_]));return l&&l.appendChild(m),m}const Qe=typeof document!="undefined"?document.documentElement&&document.documentElement.style:null,ot=Qe&&Qe.userSelect!==void 0?"userSelect":"WebkitUserSelect";let qe;function gt(){Qe&&ot&&(qe=Qe[ot],Qe[ot]="none")}function xt(){Qe&&ot&&(Qe[ot]=qe)}function Xe(p){p.preventDefault(),p.stopPropagation(),window.removeEventListener("click",Xe,!0)}function Ut(){window.addEventListener("click",Xe,!0),window.setTimeout(()=>{window.removeEventListener("click",Xe,!0)},0)}function yt(p,r){const l=p.getBoundingClientRect();return kt(p,l,r)}function Pt(p,r){const l=p.getBoundingClientRect(),m=[];for(let _=0;_<r.length;_++)m.push(kt(p,l,r[_]));return m}function Wt(p){return/firefox/i.test(navigator.userAgent)&&/macintosh/i.test(navigator.userAgent)&&p.button===2&&p.ctrlKey?0:p.button}function kt(p,r,l){const m=p.offsetWidth===r.width?1:p.offsetWidth/r.width;return new c.P((l.clientX-r.left)*m,(l.clientY-r.top)*m)}const Sr="01",cr="NO_ACCESS_TOKEN";class Xn{constructor(r,l,m){this._transformRequestFn=r,this._customAccessToken=l,this._silenceAuthErrors=!!m,this._createSkuToken()}_createSkuToken(){const r=function(){let l="";for(let m=0;m<10;m++)l+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.floor(62*Math.random())];return{token:["1",Sr,l].join(""),tokenExpiresAt:Date.now()+432e5}}();this._skuToken=r.token,this._skuTokenExpiresAt=r.tokenExpiresAt}_isSkuTokenExpired(){return Date.now()>this._skuTokenExpiresAt}transformRequest(r,l){return this._transformRequestFn&&this._transformRequestFn(r,l)||{url:r}}normalizeStyleURL(r,l){if(!c.f(r))return r;const m=Zt(r);return m.params.push(`sdk=js-${xe}`),m.path=`/styles/v1${m.path}`,this._makeAPIURL(m,this._customAccessToken||l)}normalizeGlyphsURL(r,l){if(!c.f(r))return r;const m=Zt(r);return m.path=`/fonts/v1${m.path}`,this._makeAPIURL(m,this._customAccessToken||l)}normalizeModelURL(r,l){if(!c.f(r))return r;const m=Zt(r);return m.path=`/models/v1${m.path}`,this._makeAPIURL(m,this._customAccessToken||l)}normalizeSourceURL(r,l,m,_){if(!c.f(r))return r;const x=Zt(r);return x.path=`/v4/${x.authority}.json`,x.params.push("secure"),m&&x.params.push(`language=${m}`),_&&x.params.push(`worldview=${_}`),this._makeAPIURL(x,this._customAccessToken||l)}normalizeIconsetURL(r,l){const m=Zt(r);return c.f(r)?(m.path=`/styles/v1${m.path}/iconset.pbf`,this._makeAPIURL(m,this._customAccessToken||l)):cn(m)}normalizeSpriteURL(r,l,m,_){const x=Zt(r);return c.f(r)?(x.path=`/styles/v1${x.path}/sprite${l}${m}`,this._makeAPIURL(x,this._customAccessToken||_)):(x.path+=`${l}${m}`,cn(x))}normalizeTileURL(r,l,m){if(this._isSkuTokenExpired()&&this._createSkuToken(),r&&!c.f(r))return r;const _=Zt(r);_.path=_.path.replace(/(\.(png|jpg)\d*)(?=$)/,`${l||m&&_.authority!=="raster"&&m===512?"@2x":""}${c.m.supported?".webp":"$1"}`),_.authority==="raster"?_.path=`/${c.e.RASTER_URL_PREFIX}${_.path}`:_.authority==="rasterarrays"?_.path=`/${c.e.RASTERARRAYS_URL_PREFIX}${_.path}`:_.authority==="3dtiles"?_.path=`/${c.e.TILES3D_URL_PREFIX}${_.path}`:(_.path=_.path.replace(/^.+\/v4\//,"/"),_.path=`/${c.e.TILE_URL_VERSION}${_.path}`);const x=this._customAccessToken||function(E){for(const R of E){const B=R.match(/^access_token=(.*)$/);if(B)return B[1]}return null}(_.params)||c.e.ACCESS_TOKEN;return c.e.REQUIRE_ACCESS_TOKEN&&x&&this._skuToken&&_.params.push(`sku=${this._skuToken}`),this._makeAPIURL(_,x)}canonicalizeTileURL(r,l){const m=Zt(r);if(!m.path.match(/^(\/v4\/|\/(raster|rasterarrays)\/v1\/)/)||!m.path.match(/\.[\w]+$/))return r;let _="mapbox://";m.path.match(/^\/raster\/v1\//)?_+=`raster/${m.path.replace(`/${c.e.RASTER_URL_PREFIX}/`,"")}`:m.path.match(/^\/rasterarrays\/v1\//)?_+=`rasterarrays/${m.path.replace(`/${c.e.RASTERARRAYS_URL_PREFIX}/`,"")}`:_+=`tiles/${m.path.replace(`/${c.e.TILE_URL_VERSION}/`,"")}`;let x=m.params;return l&&(x=x.filter(E=>!E.match(/^access_token=/))),x.length&&(_+=`?${x.join("&")}`),_}canonicalizeTileset(r,l){const m=!!l&&c.f(l),_=[];for(const x of r.tiles||[])c.h(x)?_.push(this.canonicalizeTileURL(x,m)):_.push(x);return _}_makeAPIURL(r,l){const m="See https://docs.mapbox.com/api/overview/#access-tokens-and-token-scopes",_=Zt(c.e.API_URL);if(r.protocol=_.protocol,r.authority=_.authority,r.protocol==="http"){const x=r.params.indexOf("secure");x>=0&&r.params.splice(x,1)}if(_.path!=="/"&&(r.path=`${_.path}${r.path}`),!c.e.REQUIRE_ACCESS_TOKEN)return cn(r);if(l=l||c.e.ACCESS_TOKEN,!this._silenceAuthErrors){if(!l)throw new Error(`An API access token is required to use Mapbox GL. ${m}`);if(l[0]==="s")throw new Error(`Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). ${m}`)}return r.params=r.params.filter(x=>x.indexOf("access_token")===-1),r.params.push(`access_token=${l||""}`),cn(r)}}const We=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function Zt(p){const r=p.match(We);if(!r)throw new Error("Unable to parse URL object");return{protocol:r[1],authority:r[2],path:r[3]||"/",params:r[4]?r[4].split("&"):[]}}function cn(p){const r=p.params.length?`?${p.params.join("&")}`:"";return`${p.protocol}://${p.authority}${p.path}${r}`}const Kt="mapbox.eventData";function Fe(p){if(!p)return null;const r=p.split(".");if(!r||r.length!==3)return null;try{return JSON.parse(c.j(r[1]))}catch(l){return null}}class Ln{constructor(r){this.type=r,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null}getStorageKey(r){const l=Fe(c.e.ACCESS_TOKEN);let m="";return m=l&&l.u?c.k(l.u):c.e.ACCESS_TOKEN||"",r?`${Kt}.${r}:${m}`:`${Kt}:${m}`}fetchEventData(){const r=c.s("localStorage"),l=this.getStorageKey(),m=this.getStorageKey("uuid");if(r)try{const _=localStorage.getItem(l);_&&(this.eventData=JSON.parse(_));const x=localStorage.getItem(m);x&&(this.anonId=x)}catch(_){c.w("Unable to read from LocalStorage")}}saveEventData(){const r=c.s("localStorage"),l=this.getStorageKey(),m=this.getStorageKey("uuid"),_=this.anonId;if(r&&_)try{localStorage.setItem(m,_),Object.keys(this.eventData).length>=1&&localStorage.setItem(l,JSON.stringify(this.eventData))}catch(x){c.w("Unable to write to LocalStorage")}}processRequests(r){}postEvent(r,l,m,_){if(!c.e.EVENTS_URL)return;const x=Zt(c.e.EVENTS_URL);x.params.push(`access_token=${_||c.e.ACCESS_TOKEN||""}`);const E={event:this.type,created:new Date(r).toISOString()},R=l?c.l(E,l):E,B={url:cn(x),headers:{"Content-Type":"text/plain"},body:JSON.stringify([R])};this.pendingRequest=c.p(B,V=>{this.pendingRequest=null,m(V),this.saveEventData(),this.processRequests(_)})}queueRequest(r,l){this.queue.push(r),this.processRequests(l)}}const hn=new class extends Ln{constructor(p){super("appUserTurnstile"),this._customAccessToken=p}postTurnstileEvent(p,r){c.e.EVENTS_URL&&c.e.ACCESS_TOKEN&&Array.isArray(p)&&p.some(l=>c.f(l)||c.h(l))&&this.queueRequest(Date.now(),r)}processRequests(p){if(this.pendingRequest||this.queue.length===0)return;this.anonId&&this.eventData.lastSuccess&&this.eventData.tokenU||this.fetchEventData();const r=Fe(c.e.ACCESS_TOKEN),l=r?r.u:c.e.ACCESS_TOKEN;let m=l!==this.eventData.tokenU;c.v(this.anonId)||(this.anonId=c.u(),m=!0);const _=this.queue.shift();if(this.eventData.lastSuccess){const x=new Date(this.eventData.lastSuccess),E=new Date(_),R=(_-this.eventData.lastSuccess)/864e5;m=m||R>=1||R<-1||x.getDate()!==E.getDate()}else m=!0;m?this.postEvent(_,{sdkIdentifier:"mapbox-gl-js",sdkVersion:xe,skuId:Sr,"enabled.telemetry":!1,userId:this.anonId},x=>{x||(this.eventData.lastSuccess=_,this.eventData.tokenU=l)},p):this.processRequests()}},On=hn.postTurnstileEvent.bind(hn),ut=new class extends Ln{constructor(){super("map.load"),this.success={},this.skuToken=""}postMapLoadEvent(p,r,l,m){this.skuToken=r,this.errorCb=m,c.e.EVENTS_URL&&(l||c.e.ACCESS_TOKEN?this.queueRequest({id:p,timestamp:Date.now()},l):this.errorCb(new Error(cr)))}processRequests(p){if(this.pendingRequest||this.queue.length===0)return;const{id:r,timestamp:l}=this.queue.shift();r&&this.success[r]||(this.anonId||this.fetchEventData(),c.v(this.anonId)||(this.anonId=c.u()),this.postEvent(l,{sdkIdentifier:"mapbox-gl-js",sdkVersion:xe,skuId:Sr,skuToken:this.skuToken,userId:this.anonId},m=>{m?this.errorCb(m):r&&(this.success[r]=!0)},p))}remove(){this.errorCb=null}},Yt=ut.postMapLoadEvent.bind(ut),bn=new class extends Ln{constructor(){super("style.load"),this.eventIdPerMapInstanceMap=new Map,this.mapInstanceIdMap=new WeakMap}getMapInstanceId(p){let r=this.mapInstanceIdMap.get(p);return r||(r=c.u(),this.mapInstanceIdMap.set(p,r)),r}getEventId(p){const r=this.eventIdPerMapInstanceMap.get(p)||0;return this.eventIdPerMapInstanceMap.set(p,r+1),r}postStyleLoadEvent(p,r){const{map:l,style:m,importedStyles:_}=r;if(!c.e.EVENTS_URL||!p&&!c.e.ACCESS_TOKEN)return;const x=this.getMapInstanceId(l),E={mapInstanceId:x,eventId:this.getEventId(x),style:m};_.length&&(E.importedStyles=_),this.queueRequest({timestamp:Date.now(),payload:E},p)}processRequests(p){if(this.pendingRequest||this.queue.length===0)return;const{timestamp:r,payload:l}=this.queue.shift();this.postEvent(r,l,()=>{},p)}},he=bn.postStyleLoadEvent.bind(bn),Jt=new class extends Ln{constructor(){super("gljs.performance")}postPerformanceEvent(p,r){c.e.EVENTS_URL&&(p||c.e.ACCESS_TOKEN)&&this.queueRequest({timestamp:Date.now(),performanceData:r},p)}processRequests(p){if(this.pendingRequest||this.queue.length===0)return;const{timestamp:r,performanceData:l}=this.queue.shift(),m=function(_){const x=performance.getEntriesByType("resource"),E=performance.getEntriesByType("mark"),R=function(ce){const Me={};if(ce){for(const Se in ce)if(Se!=="other")for(const Le of ce[Se]){const Ae=`${Se}ResolveRangeMin`,rt=`${Se}ResolveRangeMax`,St=`${Se}RequestCount`,_t=`${Se}RequestCachedCount`;Me[Ae]=Math.min(Me[Ae]||1/0,Le.startTime),Me[rt]=Math.max(Me[rt]||-1/0,Le.responseEnd);const Vt=Lt=>{Me[Lt]===void 0&&(Me[Lt]=0),++Me[Lt]};Le.transferSize!==void 0&&Le.transferSize===0&&Vt(_t),Vt(St)}}return Me}(function(ce,Me){const Se={};if(ce)for(const Le of ce){const Ae=Me(Le);Se[Ae]===void 0&&(Se[Ae]=[]),Se[Ae].push(Le)}return Se}(x,Pe)),B=window.devicePixelRatio,V=navigator.connection||navigator.mozConnection||navigator.webkitConnection,U=V?V.effectiveType:void 0,Q={counters:[],metadata:[],attributes:[]},ee=(ce,Me,Se)=>{Se!=null&&ce.push({name:Me,value:Se.toString()})};for(const ce in R)ee(Q.counters,ce,R[ce]);if(_.interactionRange[0]!==1/0&&_.interactionRange[1]!==-1/0&&(ee(Q.counters,"interactionRangeMin",_.interactionRange[0]),ee(Q.counters,"interactionRangeMax",_.interactionRange[1])),E)for(const ce of Object.keys(Ge)){const Me=Ge[ce],Se=E.find(Le=>Le.name===Me);Se&&ee(Q.counters,Me,Se.startTime)}return ee(Q.counters,"visibilityHidden",_.visibilityHidden),ee(Q.attributes,"style",function(ce){if(ce)for(const Me of ce){const Se=Me.name.split("?")[0];if(c.i(Se)){const Le=Se.split("/").slice(-2);if(Le.length===2)return`mapbox://styles/${Le[0]}/${Le[1]}`}}}(x)),ee(Q.attributes,"terrainEnabled",_.terrainEnabled?"true":"false"),ee(Q.attributes,"fogEnabled",_.fogEnabled?"true":"false"),ee(Q.attributes,"projection",_.projection),ee(Q.attributes,"zoom",_.zoom),ee(Q.metadata,"devicePixelRatio",B),ee(Q.metadata,"connectionEffectiveType",U),ee(Q.metadata,"navigatorUserAgent",navigator.userAgent),ee(Q.metadata,"screenWidth",window.screen.width),ee(Q.metadata,"screenHeight",window.screen.height),ee(Q.metadata,"windowWidth",window.innerWidth),ee(Q.metadata,"windowHeight",window.innerHeight),ee(Q.metadata,"mapWidth",_.width/B),ee(Q.metadata,"mapHeight",_.height/B),ee(Q.metadata,"webglRenderer",_.renderer),ee(Q.metadata,"webglVendor",_.vendor),ee(Q.metadata,"sdkVersion",xe),ee(Q.metadata,"sdkIdentifier","mapbox-gl-js"),Q}(l);for(const _ of m.metadata);for(const _ of m.counters);for(const _ of m.attributes);this.postEvent(r,m,()=>{},p)}},wi=Jt.postPerformanceEvent.bind(Jt),ai=new class extends Ln{constructor(){super("map.auth"),this.success={},this.skuToken=""}getSession(p,r,l,m){if(!c.e.API_URL||!c.e.SESSION_PATH)return;const _=Zt(c.e.API_URL+c.e.SESSION_PATH);_.params.push(`sku=${r||""}`),_.params.push(`access_token=${m||c.e.ACCESS_TOKEN||""}`);const x={url:cn(_),headers:{"Content-Type":"text/plain"}};this.pendingRequest=c.g(x,E=>{this.pendingRequest=null,l(E),this.saveEventData(),this.processRequests(m)})}getSessionAPI(p,r,l,m){this.skuToken=r,this.errorCb=m,c.e.SESSION_PATH&&c.e.API_URL&&(l||c.e.ACCESS_TOKEN?this.queueRequest({id:p,timestamp:Date.now()},l):this.errorCb(new Error(cr)))}processRequests(p){if(this.pendingRequest||this.queue.length===0)return;const{id:r,timestamp:l}=this.queue.shift();r&&this.success[r]||this.getSession(l,this.skuToken,m=>{m?this.errorCb(m):r&&(this.success[r]=!0)},p)}remove(){this.errorCb=null}},$e=ai.getSessionAPI.bind(ai),An=new Set;function Ur(p,r){r?An.add(p):An.delete(p)}class Kr{constructor(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSourceCaches={},this._updatedPaintProps=new Set,this._updatedImages=new Set}isDirty(){return this._changed}setDirty(){this._changed=!0}getUpdatedSourceCaches(){return this._updatedSourceCaches}updateSourceCache(r,l){this._updatedSourceCaches[r]=l,this.setDirty()}discardSourceCacheUpdate(r){delete this._updatedSourceCaches[r]}updateLayer(r){const l=r.scope;this._updatedLayers[l]=this._updatedLayers[l]||new Set,this._updatedLayers[l].add(r.id),this.setDirty()}removeLayer(r){const l=r.scope;this._removedLayers[l]=this._removedLayers[l]||{},this._updatedLayers[l]=this._updatedLayers[l]||new Set,this._removedLayers[l][r.id]=r,this._updatedLayers[l].delete(r.id),this._updatedPaintProps.delete(r.fqid),this.setDirty()}getRemovedLayer(r){return this._removedLayers[r.scope]?this._removedLayers[r.scope][r.id]:null}discardLayerRemoval(r){this._removedLayers[r.scope]&&delete this._removedLayers[r.scope][r.id]}getLayerUpdatesByScope(){const r={};for(const l in this._updatedLayers)r[l]=r[l]||{},r[l].updatedIds=Array.from(this._updatedLayers[l].values());for(const l in this._removedLayers)r[l]=r[l]||{},r[l].removedIds=Object.keys(this._removedLayers[l]);return r}getUpdatedPaintProperties(){return this._updatedPaintProps}updatePaintProperties(r){this._updatedPaintProps.add(r.fqid),this.setDirty()}getUpdatedImages(){return Array.from(this._updatedImages.values())}updateImage(r){this._updatedImages.add(r),this.setDirty()}resetUpdatedImages(){this._updatedImages.clear()}reset(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSourceCaches={},this._updatedPaintProps.clear(),this._updatedImages.clear()}}function Rn(p){const{userImage:r}=p;return!!(r&&r.render&&r.render())&&(p.data.replace(new Uint8Array(r.data.buffer)),!0)}class Wr extends c.E{constructor(r){super(),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded={},this.requestors=[],this.patterns={},this.atlasImage={},this.atlasTexture={},this.dirty=!0,this.spriteFormat=r,r!=="raster"&&c.t()&&(this.imageRasterizerDispatcher=new c.D(c.x(),this,"Image Rasterizer Worker",1))}get imageRasterizer(){return this._imageRasterizer||(this._imageRasterizer=new c.I),this._imageRasterizer}createScope(r){this.images[r]={},this.loaded[r]=!1,this.updatedImages[r]={},this.patterns[r]={},this.callbackDispatchedThisFrame[r]={},this.atlasImage[r]=new c.r({width:1,height:1})}isLoaded(){for(const r in this.loaded)if(!this.loaded[r])return!1;return!0}setLoaded(r,l){if(this.loaded[l]!==r&&(this.loaded[l]=r,r)){for(const{ids:m,callback:_}of this.requestors)this._notify(m,l,_);this.requestors=[]}}hasImage(r,l){return!!this.getImage(r,l)}getImage(r,l){return this.images[l][r]}addImage(r,l,m){this._validate(r,m)&&(this.images[l][r]=m)}_validate(r,l){let m=!0;return this._validateStretch(l.stretchX,l.data&&l.data.width)||(this.fire(new c.y(new Error(`Image "${r}" has invalid "stretchX" value`))),m=!1),this._validateStretch(l.stretchY,l.data&&l.data.height)||(this.fire(new c.y(new Error(`Image "${r}" has invalid "stretchY" value`))),m=!1),this._validateContent(l.content,l)||(this.fire(new c.y(new Error(`Image "${r}" has invalid "content" value`))),m=!1),m}_validateStretch(r,l){if(!r)return!0;let m=0;for(const _ of r){if(_[0]<m||_[1]<_[0]||l<_[1])return!1;m=_[1]}return!0}_validateContent(r,l){return r?r.length!==4||!l.usvg&&(r[0]<0||l.data.width<r[0]||r[1]<0||l.data.height<r[1]||r[2]<0||l.data.width<r[2]||r[3]<0||l.data.height<r[3])?!1:!(r[2]<r[0]||r[3]<r[1]):!0}updateImage(r,l,m){m.version=this.images[l][r].version+1,this.images[l][r]=m,this.updatedImages[l][r]=!0,this.removeFromImageRasterizerCache(r,l)}removeFromImageRasterizerCache(r,l){this.spriteFormat!=="raster"&&(c.t()?this.imageRasterizerDispatcher.getActor().send("removeRasterizedImages",{imageIds:[r],scope:l}):this.imageRasterizer.removeImagesFromCacheByIds([r],l))}removeImage(r,l){const m=this.images[l][r];delete this.images[l][r],delete this.patterns[l][r],this.removeFromImageRasterizerCache(r,l),m.userImage&&m.userImage.onRemove&&m.userImage.onRemove()}listImages(r){return Object.keys(this.images[r])}getImages(r,l,m){let _=!0;const x=!!this.loaded[l];if(!x)for(const E of r)this.images[l][E]||(_=!1);x||_?this._notify(r,l,m):this.requestors.push({ids:r,scope:l,callback:m})}rasterizeImages({scope:r,imageTasks:l},m){const _={};for(const x in l){const E=l[x],R=this.getImage(E.id,r);R&&(_[x]={image:R,imageIdWithOptions:E})}c.t()?this.imageRasterizerDispatcher.getActor().send("rasterizeImages",{imageTasks:_,scope:r},m):this.rasterizeImagesInMainThread({imageTasks:_,scope:r},m)}rasterizeImagesInMainThread(r,l){const{imageTasks:m,scope:_}=r,x={};for(const E in m){const{image:R,imageIdWithOptions:B}=m[E];x[E]=this.imageRasterizer.rasterize(B,R,_,"")}l(void 0,x)}getUpdatedImages(r){return this.updatedImages[r]}_notify(r,l,m){const _={};for(const x of r){this.images[l][x]||this.fire(new c.z("styleimagemissing",{id:x}));const E=this.images[l][x];E?_[x]={data:E.usvg?null:E.data.clone(),pixelRatio:E.pixelRatio,sdf:E.sdf,usvg:E.usvg,version:E.version,stretchX:E.stretchX,stretchY:E.stretchY,content:E.content,hasRenderCallback:!!(E.userImage&&E.userImage.render)}:c.w(`Image "${x}" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.`)}m(null,_)}getPixelSize(r){const{width:l,height:m}=this.atlasImage[r];return{width:l,height:m}}getPattern(r,l,m){const _=this.patterns[l][r],x=this.getImage(r,l);if(!x)return null;if(_&&_.position.version===x.version)return _.position;if(_)_.position.version=x.version;else{x.usvg&&!x.data&&(x.data=this.imageRasterizer.rasterize(c.A.from(r).getPrimary(),x,l,""));const E={w:x.data.width+2*c.B,h:x.data.height+2*c.B,x:0,y:0},R=new c.C(E,x,c.B);this.patterns[l][r]={bin:E,position:R}}return this._updatePatternAtlas(l,m),this.patterns[l][r].position}bind(r,l){const m=r.gl;let _=this.atlasTexture[l];_?this.dirty&&(_.update(this.atlasImage[l]),this.dirty=!1):(_=new c.T(r,this.atlasImage[l],m.RGBA8),this.atlasTexture[l]=_),_.bind(m.LINEAR,m.CLAMP_TO_EDGE)}_updatePatternAtlas(r,l){const m=[];for(const R in this.patterns[r])m.push(this.patterns[r][R].bin);const{w:_,h:x}=c.F(m),E=this.atlasImage[r];E.resize({width:_||1,height:x||1});for(const R in this.patterns[r]){const{bin:B,position:V}=this.patterns[r][R];let U=V.padding;const Q=B.x+U,ee=B.y+U,ce=this.images[r][R].data,Me=ce.width,Se=ce.height;U=U>1?U-1:U,c.r.copy(ce,E,{x:0,y:0},{x:Q,y:ee},{width:Me,height:Se},l),c.r.copy(ce,E,{x:0,y:Se-U},{x:Q,y:ee-U},{width:Me,height:U},l),c.r.copy(ce,E,{x:0,y:0},{x:Q,y:ee+Se},{width:Me,height:U},l),c.r.copy(ce,E,{x:Me-U,y:0},{x:Q-U,y:ee},{width:U,height:Se},l),c.r.copy(ce,E,{x:0,y:0},{x:Q+Me,y:ee},{width:U,height:Se},l),c.r.copy(ce,E,{x:Me-U,y:Se-U},{x:Q-U,y:ee-U},{width:U,height:U},l),c.r.copy(ce,E,{x:0,y:Se-U},{x:Q+Me,y:ee-U},{width:U,height:U},l),c.r.copy(ce,E,{x:0,y:0},{x:Q+Me,y:ee+Se},{width:U,height:U},l),c.r.copy(ce,E,{x:Me-U,y:0},{x:Q-U,y:ee+Se},{width:U,height:U},l)}this.dirty=!0}beginFrame(){for(const r in this.images)this.callbackDispatchedThisFrame[r]={}}dispatchRenderCallbacks(r,l){for(const m of r){if(this.callbackDispatchedThisFrame[l][m])continue;this.callbackDispatchedThisFrame[l][m]=!0;const _=this.images[l][m];Rn(_)&&this.updateImage(m,l,_)}}}function Ii(p){const r=p.key,l=p.value,m=p.valueSpec||{},_=p.objectElementValidators||{},x=p.style,E=p.styleSpec;let R=[];const B=c.H(l);if(B!=="object")return[new c.V(r,l,`object expected, ${B} found`)];for(const V in l){const U=V.split(".")[0];let Q;_[U]?Q=_[U]:m[U]?Q=Un:_["*"]?Q=_["*"]:m["*"]&&(Q=Un),Q?R=R.concat(Q({key:(r&&`${r}.`)+V,value:l[V],valueSpec:m[U]||m["*"],style:x,styleSpec:E,object:l,objectKey:V},l)):R.push(new c.G(r,l[V],`unknown property "${V}"`))}for(const V in m)_[V]||m[V].required&&m[V].default===void 0&&l[V]===void 0&&R.push(new c.V(r,l,`missing required property "${V}"`));return R}function pr(p){const r=p.value,l=p.valueSpec,m=p.style,_=p.styleSpec,x=p.key,E=p.arrayElementValidator||Un;if(c.H(r)!=="array")return[new c.V(x,r,`array expected, ${c.H(r)} found`)];if(l.length&&r.length!==l.length)return[new c.V(x,r,`array length ${l.length} expected, length ${r.length} found`)];if(l["min-length"]&&r.length<l["min-length"])return[new c.V(x,r,`array length at least ${l["min-length"]} expected, length ${r.length} found`)];let R={type:l.value,values:l.values,minimum:l.minimum,maximum:l.maximum,function:void 0};_.$version<7&&(R.function=l.function),c.H(l.value)==="object"&&(R=l.value);let B=[];for(let V=0;V<r.length;V++)B=B.concat(E({array:r,arrayIndex:V,value:r[V],valueSpec:R,style:m,styleSpec:_,key:`${x}[${V}]`},!0));return B}function it(p){const r=p.key,l=p.value,m=p.valueSpec;let _=c.H(l);if(_==="number"&&l!=l&&(_="NaN"),_!=="number")return[new c.V(r,l,`number expected, ${_} found`)];if("minimum"in m){let x=m.minimum;if(c.H(m.minimum)==="array"&&(x=m.minimum[p.arrayIndex]),l<x)return[new c.V(r,l,`${l} is less than the minimum value ${x}`)]}if("maximum"in m){let x=m.maximum;if(c.H(m.maximum)==="array"&&(x=m.maximum[p.arrayIndex]),l>x)return[new c.V(r,l,`${l} is greater than the maximum value ${x}`)]}return[]}function Ot(p){const r=p.valueSpec,l=c.K(p.value.type);let m,_,x,E={};const R=l!=="categorical"&&p.value.property===void 0,B=!R,V=c.H(p.value.stops)==="array"&&c.H(p.value.stops[0])==="array"&&c.H(p.value.stops[0][0])==="object",U=Ii({key:p.key,value:p.value,valueSpec:p.styleSpec.function,style:p.style,styleSpec:p.styleSpec,objectElementValidators:{stops:function(ce){if(l==="identity")return[new c.V(ce.key,ce.value,'identity function may not have a "stops" property')];let Me=[];const Se=ce.value;return Me=Me.concat(pr({key:ce.key,value:Se,valueSpec:ce.valueSpec,style:ce.style,styleSpec:ce.styleSpec,arrayElementValidator:Q})),c.H(Se)==="array"&&Se.length===0&&Me.push(new c.V(ce.key,Se,"array must have at least one stop")),Me},default:function(ce){return Un({key:ce.key,value:ce.value,valueSpec:r,style:ce.style,styleSpec:ce.styleSpec})}}});return l==="identity"&&R&&U.push(new c.V(p.key,p.value,'missing required property "property"')),l==="identity"||p.value.stops||U.push(new c.V(p.key,p.value,'missing required property "stops"')),l==="exponential"&&p.valueSpec.expression&&!c.L(p.valueSpec)&&U.push(new c.V(p.key,p.value,"exponential functions not supported")),p.styleSpec.$version>=8&&(B&&!c.M(p.valueSpec)?U.push(new c.V(p.key,p.value,"property functions not supported")):R&&!c.N(p.valueSpec)&&U.push(new c.V(p.key,p.value,"zoom functions not supported"))),l!=="categorical"&&!V||p.value.property!==void 0||U.push(new c.V(p.key,p.value,'"property" property is required')),U;function Q(ce){let Me=[];const Se=ce.value,Le=ce.key;if(c.H(Se)!=="array")return[new c.V(Le,Se,`array expected, ${c.H(Se)} found`)];if(Se.length!==2)return[new c.V(Le,Se,`array length 2 expected, length ${Se.length} found`)];if(V){if(c.H(Se[0])!=="object")return[new c.V(Le,Se,`object expected, ${c.H(Se[0])} found`)];if(Se[0].zoom===void 0)return[new c.V(Le,Se,"object stop key must have zoom")];if(Se[0].value===void 0)return[new c.V(Le,Se,"object stop key must have value")];const Ae=c.K(Se[0].zoom);if(typeof Ae!="number")return[new c.V(Le,Se[0].zoom,"stop zoom values must be numbers")];if(x&&x>Ae)return[new c.V(Le,Se[0].zoom,"stop zoom values must appear in ascending order")];Ae!==x&&(x=Ae,_=void 0,E={}),Me=Me.concat(Ii({key:`${Le}[0]`,value:Se[0],valueSpec:{zoom:{}},style:ce.style,styleSpec:ce.styleSpec,objectElementValidators:{zoom:it,value:ee}}))}else Me=Me.concat(ee({key:`${Le}[0]`,value:Se[0],valueSpec:{},style:ce.style,styleSpec:ce.styleSpec},Se));return c.O(c.Q(Se[1]))?Me.concat([new c.V(`${Le}[1]`,Se[1],"expressions are not allowed in function stops.")]):Me.concat(Un({key:`${Le}[1]`,value:Se[1],valueSpec:r,style:ce.style,styleSpec:ce.styleSpec}))}function ee(ce,Me){const Se=c.H(ce.value),Le=c.K(ce.value),Ae=ce.value!==null?ce.value:Me;if(m){if(Se!==m)return[new c.V(ce.key,Ae,`${Se} stop domain type must match previous stop domain type ${m}`)]}else m=Se;if(Se!=="number"&&Se!=="string"&&Se!=="boolean"&&typeof Le!="number"&&typeof Le!="string"&&typeof Le!="boolean")return[new c.V(ce.key,Ae,"stop domain value must be a number, string, or boolean")];if(Se!=="number"&&l!=="categorical"){let rt=`number expected, ${Se} found`;return c.M(r)&&l===void 0&&(rt+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new c.V(ce.key,Ae,rt)]}return l!=="categorical"||Se!=="number"||typeof Le=="number"&&isFinite(Le)&&Math.floor(Le)===Le?l!=="categorical"&&Se==="number"&&typeof Le=="number"&&typeof _=="number"&&_!==void 0&&Le<_?[new c.V(ce.key,Ae,"stop domain values must appear in ascending order")]:(_=Le,l==="categorical"&&Le in E?[new c.V(ce.key,Ae,"stop domain values must be unique")]:(E[Le]=!0,[])):[new c.V(ce.key,Ae,`integer expected, found ${String(Le)}`)]}}function Bn(p){const r=(p.expressionContext==="property"?c.S:c.U)(c.Q(p.value),p.valueSpec);if(r.result==="error")return r.value.map(m=>new c.V(`${p.key}${m.key}`,p.value,m.message));const l=r.value.expression||r.value._styleExpression.expression;if(p.expressionContext==="property"&&p.propertyKey==="text-font"&&!l.outputDefined())return[new c.V(p.key,p.value,`Invalid data expression for "${p.propertyKey}". Output values must be contained as literals within the expression.`)];if(p.expressionContext==="property"&&p.propertyType==="layout"&&!c.W(l))return[new c.V(p.key,p.value,'"feature-state" data expressions are not supported with layout properties.')];if(p.expressionContext==="filter")return fn(l,p);if(p.expressionContext&&p.expressionContext.indexOf("cluster")===0){if(!c.X(l,["zoom","feature-state"]))return[new c.V(p.key,p.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if(p.expressionContext==="cluster-initial"&&!c.Y(l))return[new c.V(p.key,p.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function fn(p,r){const l=new Set(["zoom","feature-state","pitch","distance-from-center"]);if(r.valueSpec&&r.valueSpec.expression)for(const _ of r.valueSpec.expression.parameters)l.delete(_);if(l.size===0)return[];const m=[];return p instanceof c.Z&&l.has(p.name)?[new c.V(r.key,r.value,`["${p.name}"] expression is not supported in a filter for a ${r.object.type} layer with id: ${r.object.id}`)]:(p.eachChild(_=>{m.push(...fn(_,r))}),m)}function gn(p){const r=p.key,l=p.value,m=p.valueSpec,_=[];return Array.isArray(m.values)?m.values.indexOf(c.K(l))===-1&&_.push(new c.V(r,l,`expected one of [${m.values.join(", ")}], ${JSON.stringify(l)} found`)):Object.keys(m.values).indexOf(c.K(l))===-1&&_.push(new c.V(r,l,`expected one of [${Object.keys(m.values).join(", ")}], ${JSON.stringify(l)} found`)),_}function Er(p){return c.$(c.Q(p.value))?Bn(c.J({},p,{expressionContext:"filter",valueSpec:p.styleSpec[`filter_${p.layerType||"fill"}`]})):Vn(p)}function Vn(p){const r=p.value,l=p.key;if(c.H(r)!=="array")return[new c.V(l,r,`array expected, ${c.H(r)} found`)];const m=p.styleSpec;let _,x=[];if(r.length<1)return[new c.V(l,r,"filter array must have at least 1 element")];switch(x=x.concat(gn({key:`${l}[0]`,value:r[0],valueSpec:m.filter_operator,style:p.style,styleSpec:p.styleSpec})),c.K(r[0])){case"<":case"<=":case">":case">=":r.length>=2&&c.K(r[1])==="$type"&&x.push(new c.V(l,r,`"$type" cannot be use with operator "${r[0]}"`));case"==":case"!=":r.length!==3&&x.push(new c.V(l,r,`filter array for operator "${r[0]}" must have 3 elements`));case"in":case"!in":r.length>=2&&(_=c.H(r[1]),_!=="string"&&x.push(new c.V(`${l}[1]`,r[1],`string expected, ${_} found`)));for(let E=2;E<r.length;E++)_=c.H(r[E]),c.K(r[1])==="$type"?x=x.concat(gn({key:`${l}[${E}]`,value:r[E],valueSpec:m.geometry_type,style:p.style,styleSpec:p.styleSpec})):_!=="string"&&_!=="number"&&_!=="boolean"&&x.push(new c.V(`${l}[${E}]`,r[E],`string, number, or boolean expected, ${_} found`));break;case"any":case"all":case"none":for(let E=1;E<r.length;E++)x=x.concat(Vn({key:`${l}[${E}]`,value:r[E],style:p.style,styleSpec:p.styleSpec}));break;case"has":case"!has":_=c.H(r[1]),r.length!==2?x.push(new c.V(l,r,`filter array for "${r[0]}" operator must have 2 elements`)):_!=="string"&&x.push(new c.V(`${l}[1]`,r[1],`string expected, ${_} found`))}return x}function ri(p,r){const l=p.key,m=p.style,_=p.layer,x=p.styleSpec,E=p.value,R=p.objectKey,B=x[`${r}_${p.layerType}`];if(!B)return[];const V=R.match(/^(.*)-use-theme$/);if(r==="paint"&&V&&B[V[1]])return c.O(E)?[].concat(Un({key:p.key,value:E,valueSpec:{type:"string",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},style:m,styleSpec:x,expressionContext:"property",propertyType:r,propertyKey:R})):Un({key:l,value:E,valueSpec:{type:"string"},style:m,styleSpec:x});const U=R.match(/^(.*)-transition$/);if(r==="paint"&&U&&B[U[1]]&&B[U[1]].transition)return Un({key:l,value:E,valueSpec:x.transition,style:m,styleSpec:x});const Q=p.valueSpec||B[R];if(!Q)return[new c.G(l,E,`unknown property "${R}"`)];let ee;if(c.H(E)==="string"&&c.M(Q)&&!Q.tokens&&(ee=/^{([^}]+)}$/.exec(E))){const Me=`\`{ "type": "identity", "property": ${ee?JSON.stringify(ee[1]):'"_"'} }\``;return[new c.V(l,E,`"${R}" does not support interpolation syntax
Use an identity property function instead: ${Me}.`)]}const ce=[];if(p.layerType==="symbol")R!=="text-field"||!m||m.glyphs||m.imports||ce.push(new c.V(l,E,'use of "text-field" requires a style "glyphs" property')),R==="text-font"&&c.a0(c.Q(E))&&c.K(E.type)==="identity"&&ce.push(new c.V(l,E,'"text-font" does not support identity functions'));else if(p.layerType==="model"&&r==="paint"&&_&&_.layout&&_.layout.hasOwnProperty("model-id")&&c.M(Q)&&(c.a1(Q)||c.N(Q))){const Me=c.S(c.Q(E),Q),Se=Me.value.expression||Me.value._styleExpression.expression;Se&&!c.X(Se,["measure-light"])&&(R==="model-emissive-strength"&&c.Y(Se)&&c.W(Se)||ce.push(new c.V(l,E,`${R} does not support measure-light expressions when the model layer source is vector tile or GeoJSON.`)))}return ce.concat(Un({key:p.key,value:E,valueSpec:Q,style:m,styleSpec:x,expressionContext:"property",propertyType:r,propertyKey:R}))}function fi(p){return ri(p,"paint")}function qr(p){return ri(p,"layout")}function Jr(p){let r=[];const l=p.value,m=p.key,_=p.style,x=p.styleSpec;l.type||l.ref||r.push(new c.V(m,l,'either "type" or "ref" is required'));let E=c.K(l.type);const R=c.K(l.ref);if(l.id){const B=c.K(l.id);for(let V=0;V<p.arrayIndex;V++){const U=_.layers[V];c.K(U.id)===B&&r.push(new c.V(m,l.id,`duplicate layer id "${l.id}", previously used at line ${U.id.__line__}`))}}if("ref"in l){let B;["type","source","source-layer","filter","layout"].forEach(V=>{V in l&&r.push(new c.V(m,l[V],`"${V}" is prohibited for ref layers`))}),_.layers.forEach(V=>{c.K(V.id)===R&&(B=V)}),B?B.ref?r.push(new c.V(m,l.ref,"ref cannot reference another ref layer")):E=c.K(B.type):typeof R=="string"&&r.push(new c.V(m,l.ref,`ref layer "${R}" not found`))}else if(E!=="background"&&E!=="sky"&&E!=="slot")if(l.source){const B=_.sources&&_.sources[l.source],V=B&&c.K(B.type);B?V==="vector"&&E==="raster"?r.push(new c.V(m,l.source,`layer "${l.id}" requires a raster source`)):V==="raster"&&E!=="raster"?r.push(new c.V(m,l.source,`layer "${l.id}" requires a vector source`)):V!=="vector"||l["source-layer"]?V==="raster-dem"&&E!=="hillshade"?r.push(new c.V(m,l.source,"raster-dem source can only be used with layer type 'hillshade'.")):V!=="raster-array"||["raster","raster-particle"].includes(E)?E!=="line"||!l.paint||!l.paint["line-gradient"]&&!l.paint["line-trim-offset"]||V==="geojson"&&B.lineMetrics?E==="raster-particle"&&V!=="raster-array"&&r.push(new c.V(m,l.source,`layer "${l.id}" requires a 'raster-array' source.`)):r.push(new c.V(m,l,`layer "${l.id}" specifies a line-gradient, which requires a GeoJSON source with \`lineMetrics\` enabled.`)):r.push(new c.V(m,l.source,"raster-array source can only be used with layer type 'raster'.")):r.push(new c.V(m,l,`layer "${l.id}" must specify a "source-layer"`)):r.push(new c.V(m,l.source,`source "${l.source}" not found`))}else r.push(new c.V(m,l,'missing required property "source"'));return r=r.concat(Ii({key:m,value:l,valueSpec:x.layer,style:p.style,styleSpec:p.styleSpec,objectElementValidators:{"*":()=>[],type:()=>Un({key:`${m}.type`,value:l.type,valueSpec:x.layer.type,style:p.style,styleSpec:p.styleSpec,object:l,objectKey:"type"}),filter:B=>Er(c.J({layerType:E},B)),layout:B=>Ii({layer:l,key:B.key,value:B.value,valueSpec:{},style:B.style,styleSpec:B.styleSpec,objectElementValidators:{"*":V=>qr(c.J({layerType:E},V))}}),paint:B=>Ii({layer:l,key:B.key,value:B.value,valueSpec:{},style:B.style,styleSpec:B.styleSpec,objectElementValidators:{"*":V=>fi(c.J({layerType:E,layer:l},V))}})}})),r}function wr(p){const r=p.value,l=p.key,m=c.H(r);return m!=="string"?[new c.V(l,r,`string expected, ${m} found`)]:[]}const Yn={promoteId:function p({key:r,value:l}){if(c.H(l)==="string")return wr({key:r,value:l});if(Array.isArray(l)){const m=[],_=c.Q(l),x=c.U(_);return x.result==="error"&&x.value.forEach(E=>{m.push(new c.V(`${r}${E.key}`,null,`${E.message}`))}),c.X(x.value.expression,["zoom","heatmap-density","line-progress","raster-value","sky-radial-progress","accumulated","is-supported-script","pitch","distance-from-center","measure-light","raster-particle-speed"])||m.push(new c.V(`${r}`,null,"promoteId expression should be only feature dependent")),m}{const m=[];for(const _ in l)m.push(...p({key:`${r}.${_}`,value:l[_]}));return m}}};function yr(p){const r=p.value,l=p.key,m=p.styleSpec,_=p.style;if(!r.type)return[new c.V(l,r,'"type" is required')];const x=c.K(r.type);let E=[];switch(["vector","raster","raster-dem","raster-array"].includes(x)&&(r.url||r.tiles||E.push(new c.G(l,r,'Either "url" or "tiles" is required.'))),x){case"vector":case"raster":case"raster-dem":case"raster-array":return E=E.concat(Ii({key:l,value:r,valueSpec:m[`source_${x.replace("-","_")}`],style:p.style,styleSpec:m,objectElementValidators:Yn})),E;case"geojson":if(E=Ii({key:l,value:r,valueSpec:m.source_geojson,style:_,styleSpec:m,objectElementValidators:Yn}),r.cluster)for(const R in r.clusterProperties){const[B,V]=r.clusterProperties[R],U=typeof B=="string"?[B,["accumulated"],["get",R]]:B;E.push(...Bn({key:`${l}.${R}.map`,value:V,expressionContext:"cluster-map"})),E.push(...Bn({key:`${l}.${R}.reduce`,value:U,expressionContext:"cluster-reduce"}))}return E;case"video":return Ii({key:l,value:r,valueSpec:m.source_video,style:_,styleSpec:m});case"image":return Ii({key:l,value:r,valueSpec:m.source_image,style:_,styleSpec:m});case"canvas":return[new c.V(l,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return gn({key:`${l}.type`,value:r.type,valueSpec:{values:Pr(m)},style:_,styleSpec:m})}}function Pr(p){return p.source.reduce((r,l)=>{const m=p[l];return m.type.type==="enum"&&(r=r.concat(Object.keys(m.type.values))),r},[])}function Ir(p){const r=p.value,l=p.styleSpec,m=l.light,_=p.style;let x=[];const E=c.H(r);if(r===void 0)return x;if(E!=="object")return x=x.concat([new c.V("light",r,`object expected, ${E} found`)]),x;for(const R in r){const B=R.match(/^(.*)-transition$/),V=R.match(/^(.*)-use-theme$/);x=x.concat(V&&m[V[1]]?Un({key:R,value:r[R],valueSpec:{type:"string"},style:_,styleSpec:l}):B&&m[B[1]]&&m[B[1]].transition?Un({key:R,value:r[R],valueSpec:l.transition,style:_,styleSpec:l}):m[R]?Un({key:R,value:r[R],valueSpec:m[R],style:_,styleSpec:l}):[new c.V(R,r[R],`unknown property "${R}"`)])}return x}function Xr(p){const r=p.value;let l=[];if(!r)return l;const m=c.H(r);if(m!=="object")return l=l.concat([new c.V("light-3d",r,`object expected, ${m} found`)]),l;const _=p.styleSpec,x=_["light-3d"],E=p.key,R=p.style,B=p.style.lights;for(const Q of["type","id"])if(!(Q in r))return l=l.concat([new c.V("light-3d",r,`missing property ${Q} on light`)]),l;if(r.type&&B)for(let Q=0;Q<p.arrayIndex;Q++){const ee=c.K(r.type),ce=B[Q];c.K(ce.type)===ee&&l.push(new c.V(E,r.id,`duplicate light type "${r.type}", previously defined at line ${ce.id.__line__}`))}const V=`properties_light_${r.type}`;if(!(V in _))return l=l.concat([new c.V("light-3d",r,`Invalid light type ${r.type}`)]),l;const U=_[V];for(const Q in r)if(Q==="properties"){const ee=r[Q],ce=c.H(ee);if(ce!=="object")return l=l.concat([new c.V("properties",ee,`object expected, ${ce} found`)]),l;for(const Me in ee)l=l.concat(U[Me]?Un({key:Me,value:ee[Me],valueSpec:U[Me],style:R,styleSpec:_}):[new c.G(p.key,ee[Me],`unknown property "${Me}"`)])}else{const ee=Q.match(/^(.*)-transition$/),ce=Q.match(/^(.*)-use-theme$/);l=l.concat(ce&&x[ce[1]]?Un({key:Q,value:r[Q],valueSpec:{type:"string"},style:R,styleSpec:_}):ee&&x[ee[1]]&&x[ee[1]].transition?Un({key:Q,value:r[Q],valueSpec:_.transition,style:R,styleSpec:_}):x[Q]?Un({key:Q,value:r[Q],valueSpec:x[Q],style:R,styleSpec:_}):[new c.G(Q,r[Q],`unknown property "${Q}"`)])}return l}function rr(p){const r=p.value,l=p.key,m=p.style,_=p.styleSpec,x=_.terrain;let E=[];const R=c.H(r);if(r===void 0||R==="null")return E;if(R!=="object")return E=E.concat([new c.V("terrain",r,`object expected, ${R} found`)]),E;for(const B in r){const V=B.match(/^(.*)-transition$/),U=B.match(/^(.*)-use-theme$/);E=E.concat(U&&x[U[1]]?Un({key:B,value:r[B],valueSpec:{type:"string"},style:m,styleSpec:_}):V&&x[V[1]]&&x[V[1]].transition?Un({key:B,value:r[B],valueSpec:_.transition,style:m,styleSpec:_}):x[B]?Un({key:B,value:r[B],valueSpec:x[B],style:m,styleSpec:_}):[new c.G(B,r[B],`unknown property "${B}"`)])}if(r.source){const B=m.sources&&m.sources[r.source],V=B&&c.K(B.type);B?V!=="raster-dem"&&E.push(new c.V(l,r.source,`terrain cannot be used with a source of type ${String(V)}, it only be used with a "raster-dem" source type`)):E.push(new c.V(l,r.source,`source "${r.source}" not found`))}else E.push(new c.V(l,r,'terrain is missing required property "source"'));return E}function gr(p){const r=p.value,l=p.style,m=p.styleSpec,_=m.fog;let x=[];const E=c.H(r);if(r===void 0)return x;if(E!=="object")return x=x.concat([new c.V("fog",r,`object expected, ${E} found`)]),x;for(const R in r){const B=R.match(/^(.*)-transition$/),V=R.match(/^(.*)-use-theme$/);x=x.concat(V&&_[V[1]]?Un({key:R,value:r[R],valueSpec:{type:"string"},style:l,styleSpec:m}):B&&_[B[1]]&&_[B[1]].transition?Un({key:R,value:r[R],valueSpec:m.transition,style:l,styleSpec:m}):_[R]?Un({key:R,value:r[R],valueSpec:_[R],style:l,styleSpec:m}):[new c.G(R,r[R],`unknown property "${R}"`)])}return x}const ei={"*":()=>[],array:pr,boolean:function(p){const r=p.value,l=p.key,m=c.H(r);return m!=="boolean"?[new c.V(l,r,`boolean expected, ${m} found`)]:[]},number:it,color:function(p){const r=p.key,l=p.value,m=c.H(l);return m!=="string"?[new c.V(r,l,`color expected, ${m} found`)]:c._.parseCSSColor(l)===null?[new c.V(r,l,`color expected, "${l}" found`)]:[]},enum:gn,filter:Er,function:Ot,layer:Jr,object:Ii,source:yr,model:c.a2,light:Ir,"light-3d":Xr,terrain:rr,fog:gr,string:wr,formatted:function(p){return wr(p).length===0?[]:Bn(p)},resolvedImage:function(p){return wr(p).length===0?[]:Bn(p)},projection:function(p){const r=p.value,l=p.styleSpec,m=l.projection,_=p.style;let x=[];const E=c.H(r);if(E==="object")for(const R in r)x=x.concat(Un({key:R,value:r[R],valueSpec:m[R],style:_,styleSpec:l}));else E!=="string"&&(x=x.concat([new c.V("projection",r,`object or string expected, ${E} found`)]));return x},import:function(p){const{value:r,styleSpec:l}=p,E=r,{data:m}=E,_=i2(E,["data"]);Object.defineProperty(_,"__line__",{value:r.__line__,enumerable:!1});let x=Ii(c.J({},p,{value:_,valueSpec:l.import}));return c.K(_.id)===""&&x.push(new c.V(`${p.key}.id`,_,"import id can't be an empty string")),m&&(x=x.concat(Si(m,l,{key:`${p.key}.data`}))),x}};function Un(p,r=!1){const l=p.value,m=p.valueSpec,_=p.styleSpec;if(m.expression&&c.a0(c.K(l)))return Ot(p);if(m.expression&&c.O(c.Q(l)))return Bn(p);if(m.type&&ei[m.type]){const x=ei[m.type](p);return r===!0&&x.length>0&&c.H(p.value)==="array"?Bn(p):x}return Ii(c.J({},p,{valueSpec:m.type?_[m.type]:m}))}function si(p){const r=p.value,l=p.key,m=wr(p);return m.length||(r.indexOf("{fontstack}")===-1&&m.push(new c.V(l,r,'"glyphs" url must include a "{fontstack}" token')),r.indexOf("{range}")===-1&&m.push(new c.V(l,r,'"glyphs" url must include a "{range}" token'))),m}function Si(p,r=c.a3,l={}){return Un({key:l.key||"",value:p,valueSpec:r.$root,styleSpec:r,style:p,objectElementValidators:{glyphs:si,"*":()=>[]}})}function Yi(p,r=c.a3){return Co(Si(p,r))}const xo=p=>Co(yr(p)),Qr=p=>Co(Ir(p)),co=p=>Co(Xr(p)),tn=p=>Co(rr(p)),Tn=p=>Co(gr(p)),ir=p=>Co(function(r){const l=r.value,m=r.style,_=r.styleSpec,x=_.snow;let E=[];const R=c.H(l);if(l===void 0)return E;if(R!=="object")return E=E.concat([new c.V("snow",l,`object expected, ${R} found`)]),E;for(const B in l){const V=B.match(/^(.*)-transition$/);E=E.concat(V&&x[V[1]]&&x[V[1]].transition?Un({key:B,value:l[B],valueSpec:_.transition,style:m,styleSpec:_}):x[B]?Un({key:B,value:l[B],valueSpec:x[B],style:m,styleSpec:_}):[new c.G(B,l[B],`unknown property "${B}"`)])}return E}(p)),kr=p=>Co(function(r){const l=r.value,m=r.style,_=r.styleSpec,x=_.rain;let E=[];const R=c.H(l);if(l===void 0)return E;if(R!=="object")return E=E.concat([new c.V("rain",l,`object expected, ${R} found`)]),E;for(const B in l){const V=B.match(/^(.*)-transition$/);E=E.concat(V&&x[V[1]]&&x[V[1]].transition?Un({key:B,value:l[B],valueSpec:_.transition,style:m,styleSpec:_}):x[B]?Un({key:B,value:l[B],valueSpec:x[B],style:m,styleSpec:_}):[new c.G(B,l[B],`unknown property "${B}"`)])}return E}(p)),gi=p=>Co(Jr(p)),li=p=>Co(Er(p)),eo=p=>Co(fi(p)),io=p=>Co(qr(p)),Lo=p=>Co(c.a2(p));function Co(p){return p.slice().sort((r,l)=>r.line&&l.line?r.line-l.line:0)}function uo(p,r){let l=!1;if(r&&r.length)for(const m of r)m instanceof c.G?c.w(m.message):(p.fire(new c.y(new Error(m.message))),l=!0);return l}let Re;class de extends c.E{constructor(r,l="flat"){super(),this._transitionable=new c.a4(Re||(Re=new c.a5({anchor:new c.a6(c.a3.light.anchor),position:new c.a7(c.a3.light.position),color:new c.a6(c.a3.light.color),intensity:new c.a6(c.a3.light.intensity)}))),this.setLight(r,l),this._transitioning=this._transitionable.untransitioned()}getLight(){return this._transitionable.serialize()}setLight(r,l,m={}){this._validate(Qr,r,m)||(this._transitionable.setTransitionOrValue(r),this.id=l)}updateTransitions(r){this._transitioning=this._transitionable.transitioned(r,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(r){this.properties=this._transitioning.possiblyEvaluate(r)}_validate(r,l,m){return(!m||m.validate!==!1)&&uo(this,r.call(Yi,c.l({value:l,style:{glyphs:!0,sprite:!0},styleSpec:c.a3})))}}let Y=class extends c.E{constructor(p,r,l,m){super(),this.scope=l,this._transitionable=new c.a4(new c.a5({source:new c.a6(c.a3.terrain.source),exaggeration:new c.a6(c.a3.terrain.exaggeration)}),l,m),this._transitionable.setTransitionOrValue(p,m),this._transitioning=this._transitionable.untransitioned(),this.drapeRenderMode=r}get(){return this._transitionable.serialize()}set(p,r){this._transitionable.setTransitionOrValue(p,r)}updateTransitions(p){this._transitioning=this._transitionable.transitioned(p,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(p){this.properties=this._transitioning.possiblyEvaluate(p)}getExaggeration(p){return this._transitioning.possiblyEvaluate(new c.a8(p)).get("exaggeration")}getAttenuationRange(){if(!this.isZoomDependent())return null;const p=this._transitionable._values.exaggeration;if(!p)return null;const r=p.value.expression;if(!r)return null;let l=-1,m=-1,_=1;for(const x of r.zoomStops)_=r.evaluate(new c.a8(x)),_>.01?(l=x,m=-1):m=x;return _<.01&&l>0&&m>l?[l,m]:null}isZoomDependent(){const p=this._transitionable._values.exaggeration;return p!=null&&p.value!=null&&p.value.expression!=null&&p.value.expression instanceof c.a9}};const Ze=45,pe=65,et=.05;function nt(p,r,l,m){const _=c.ac(Ze,pe,l),[x,E]=ln(p,m);let R=1-Math.min(1,Math.exp((r-x)/(E-x)*-6));return R*=R*R,R=Math.min(1,1.00747*R),R*_*p.alpha}function ln(p,r){const l=.5/Math.tan(.5*r);return[p.range[0]+l,p.range[1]+l]}function At(p,r,l,m,_){const x=c.ab.vec3.transformMat4([],[r,l,m],_.mercatorFogMatrix);return nt(p,c.ab.vec3.length(x),_.pitch,_._fov)}function sn(p,r,l,m,_,x,E){const R=[[l,m,0],[_,m,0],[_,x,0],[l,x,0]];let B=Number.MAX_VALUE,V=-Number.MAX_VALUE;for(const U of R){const Q=c.ab.vec3.transformMat4([],U,r),ee=c.ab.vec3.length(Q);B=Math.min(B,ee),V=Math.max(V,ee)}return[nt(p,B,E.pitch,E._fov),nt(p,V,E.pitch,E._fov)]}class vn extends c.E{constructor(r,l,m,_){super();const x=new c.a5({range:new c.a6(c.a3.fog.range),color:new c.a6(c.a3.fog.color),"color-use-theme":new c.a6({type:"string","property-type":"data-constant",default:"default"}),"high-color":new c.a6(c.a3.fog["high-color"]),"high-color-use-theme":new c.a6({type:"string","property-type":"data-constant",default:"default"}),"space-color":new c.a6(c.a3.fog["space-color"]),"space-color-use-theme":new c.a6({type:"string","property-type":"data-constant",default:"default"}),"horizon-blend":new c.a6(c.a3.fog["horizon-blend"]),"star-intensity":new c.a6(c.a3.fog["star-intensity"]),"vertical-range":new c.a6(c.a3.fog["vertical-range"])});this._transitionable=new c.a4(x,m,new Map(_)),this.set(r,_),this._transitioning=this._transitionable.untransitioned(),this._transform=l,this.properties=new c.ad(x),this.scope=m}get state(){const r=this._transform,l=r.projection.name==="globe",m=c.ae(r.zoom),_=this.properties.get("range"),x=[.5,3];return{range:l?[c.af(x[0],_[0],m),c.af(x[1],_[1],m)]:_,horizonBlend:this.properties.get("horizon-blend"),alpha:this.properties.get("color").a}}get(){return this._transitionable.serialize()}set(r,l,m={}){if(this._validate(Tn,r,m))return;const _=c.l({},r);for(const x of Object.keys(c.a3.fog))_[x]===void 0&&(_[x]=c.a3.fog[x].default);this._options=_,this._transitionable.setTransitionOrValue(this._options,l)}getOpacity(r){if(!this._transform.projection.supportsFog)return 0;const l=this.properties&&this.properties.get("color")||1;return(this._transform.projection.name==="globe"?1:c.ac(Ze,pe,r))*l.a}getOpacityAtLatLng(r,l){return this._transform.projection.supportsFog?function(m,_,x){const E=c.aa.fromLngLat(_),R=x.elevation?x.elevation.getAtPointOrZero(E):0;return At(m,E.x,E.y,R,x)}(this.state,r,l):0}getOpacityForTile(r){if(!this._transform.projection.supportsFog)return[1,1];const l=this._transform.calculateFogTileMatrix(r.toUnwrapped());return sn(this.state,l,0,0,c.ag,c.ag,this._transform)}getOpacityForBounds(r,l,m,_,x){return this._transform.projection.supportsFog?sn(this.state,r,l,m,_,x,this._transform):[1,1]}getFovAdjustedRange(r){return this._transform.projection.supportsFog?ln(this.state,r):[0,1]}isVisibleOnFrustum(r){if(!this._transform.projection.supportsFog)return!1;const l=[4,5,6,7];for(const m of l){const _=r.points[m];let x;if(_[2]>=0)x=_;else{const E=r.points[m-4];x=c.ah(E,_,E[2]/(E[2]-_[2]))}if(At(this.state,x[0],x[1],0,this._transform)>=et)return!0}return!1}updateConfig(r){this._transitionable.setTransitionOrValue(this._options,new Map(r))}updateTransitions(r){this._transitioning=this._transitionable.transitioned(r,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(r){this.properties=this._transitioning.possiblyEvaluate(r)}_validate(r,l,m){return(!m||m.validate!==!1)&&uo(this,r.call(Yi,c.l({value:l,style:{glyphs:!0,sprite:!0},styleSpec:c.a3})))}}let Je,Rt,Xt,nn,dt=class extends c.E{constructor(p,r,l,m){super();const _=Je||(Je=new c.a5({density:new c.a6(c.a3.snow.density),intensity:new c.a6(c.a3.snow.intensity),color:new c.a6(c.a3.snow.color),opacity:new c.a6(c.a3.snow.opacity),vignette:new c.a6(c.a3.snow.vignette),"vignette-color":new c.a6(c.a3.snow["vignette-color"]),"center-thinning":new c.a6(c.a3.snow["center-thinning"]),direction:new c.a6(c.a3.snow.direction),"flake-size":new c.a6(c.a3.snow["flake-size"])}));this._transitionable=new c.a4(_,l,new Map(m)),this.set(p,m),this._transitioning=this._transitionable.untransitioned(),this.properties=new c.ad(_),this.scope=l}get state(){const p=this.properties.get("opacity"),r=this.properties.get("color"),l=this.properties.get("direction"),m=c.ai(l[0]),_=-Math.max(c.ai(l[1]),.01),x=[Math.cos(m)*Math.cos(_),Math.sin(m)*Math.cos(_),Math.sin(_)],E=this.properties.get("vignette"),R=this.properties.get("vignette-color");return R.a=E,{density:this.properties.get("density"),intensity:this.properties.get("intensity"),color:new c.aj(r.r,r.g,r.b,r.a*p),direction:x,centerThinning:this.properties.get("center-thinning"),flakeSize:this.properties.get("flake-size"),vignetteColor:R}}get(){return this._transitionable.serialize()}set(p,r,l={}){if(this._validate(ir,p,l))return;const m=c.l({},p);for(const _ of Object.keys(c.a3.snow))m[_]===void 0&&(m[_]=c.a3.snow[_].default);this._options=m,this._transitionable.setTransitionOrValue(this._options,r)}updateConfig(p){this._transitionable.setTransitionOrValue(this._options,new Map(p))}updateTransitions(p){this._transitioning=this._transitionable.transitioned(p,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(p){this.properties=this._transitioning.possiblyEvaluate(p)}_validate(p,r,l){return(!l||l.validate!==!1)&&uo(this,p.call(Yi,c.l({value:r,style:{glyphs:!0,sprite:!0},styleSpec:c.a3})))}},lt=class extends c.E{constructor(p,r,l,m){super();const _=Rt||(Rt=new c.a5({density:new c.a6(c.a3.rain.density),intensity:new c.a6(c.a3.rain.intensity),color:new c.a6(c.a3.rain.color),opacity:new c.a6(c.a3.rain.opacity),vignette:new c.a6(c.a3.rain.vignette),"vignette-color":new c.a6(c.a3.rain["vignette-color"]),"center-thinning":new c.a6(c.a3.rain["center-thinning"]),direction:new c.a6(c.a3.rain.direction),"droplet-size":new c.a6(c.a3.rain["droplet-size"]),"distortion-strength":new c.a6(c.a3.rain["distortion-strength"])}));this._transitionable=new c.a4(_,l,new Map(m)),this.set(p,m),this._transitioning=this._transitionable.untransitioned(),this.properties=new c.ad(_),this.scope=l}get state(){const p=this.properties.get("opacity"),r=this.properties.get("color"),l=this.properties.get("direction"),m=c.ai(l[0]),_=-Math.max(c.ai(l[1]),.01),x=[Math.cos(m)*Math.cos(_),Math.sin(m)*Math.cos(_),Math.sin(_)],E=this.properties.get("vignette-color");return E.a=this.properties.get("vignette"),{density:this.properties.get("density"),intensity:this.properties.get("intensity"),color:new c.aj(r.r,r.g,r.b,r.a*p),direction:x,centerThinning:this.properties.get("center-thinning"),dropletSize:this.properties.get("droplet-size"),distortionStrength:this.properties.get("distortion-strength"),vignetteColor:E}}get(){return this._transitionable.serialize()}set(p,r,l={}){if(this._validate(kr,p,l))return;const m=c.l({},p);for(const _ of Object.keys(c.a3.rain))m[_]===void 0&&(m[_]=c.a3.rain[_].default);this._options=m,this._transitionable.setTransitionOrValue(this._options,r)}updateConfig(p){this._transitionable.setTransitionOrValue(this._options,new Map(p))}updateTransitions(p){this._transitioning=this._transitionable.transitioned(p,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(p){this.properties=this._transitioning.possiblyEvaluate(p)}_validate(p,r,l){return(!l||l.validate!==!1)&&uo(this,p.call(Yi,c.l({value:r,style:{glyphs:!0,sprite:!0},styleSpec:c.a3})))}};class En extends c.E{constructor(r,l,m,_){super(),this.scope=m,this._options=r,this.properties=new c.ad(l),this._transitionable=new c.a4(l,m,new Map(_)),this._transitionable.setTransitionOrValue(r.properties),this._transitioning=this._transitionable.untransitioned()}updateConfig(r){this._transitionable.setTransitionOrValue(this._options.properties,new Map(r))}updateTransitions(r){this._transitioning=this._transitionable.transitioned(r,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(r){this.properties=this._transitioning.possiblyEvaluate(r)}get(){return this._options.properties=this._transitionable.serialize(),this._options}set(r,l){this._options=r,this._transitionable.setTransitionOrValue(r.properties,l)}shadowsEnabled(){return!!this.properties&&this.properties.get("cast-shadows")===!0}}class _n{constructor(r,l,m,_){this.screenBounds=r,this.cameraPoint=l,this._screenRaycastCache={},this._cameraRaycastCache={},this.isAboveHorizon=m,this.screenGeometry=this.bufferedScreenGeometry(0),this.screenGeometryMercator=this._bufferedScreenMercator(0,_)}static createFromScreenPoints(r,l){let m,_;if(r instanceof c.P||typeof r[0]=="number"){const x=c.P.convert(r);m=[x],_=l.isPointAboveHorizon(x)}else{const x=c.P.convert(r[0]),E=c.P.convert(r[1]);m=[x,E],_=c.al(x,E).every(R=>l.isPointAboveHorizon(R))}return new _n(m,l.getCameraPoint(),_,l)}isPointQuery(){return this.screenBounds.length===1}bufferedScreenGeometry(r){return c.al(this.screenBounds[0],this.screenBounds.length===1?this.screenBounds[0]:this.screenBounds[1],r)}bufferedCameraGeometry(r){const l=this.screenBounds[0],m=this.screenBounds.length===1?this.screenBounds[0].add(new c.P(1,1)):this.screenBounds[1],_=c.al(l,m,0,!1);return this.cameraPoint.y>m.y&&(this.cameraPoint.x>l.x&&this.cameraPoint.x<m.x?_.splice(3,0,this.cameraPoint):this.cameraPoint.x>=m.x?_[2]=this.cameraPoint:this.cameraPoint.x<=l.x&&(_[3]=this.cameraPoint)),c.am(_,r)}bufferedCameraGeometryGlobe(r){const l=this.screenBounds[0],m=this.screenBounds.length===1?this.screenBounds[0].add(new c.P(1,1)):this.screenBounds[1],_=c.al(l,m,r),x=this.cameraPoint.clone();switch(3*((x.y>l.y)+(x.y>m.y))+((x.x>l.x)+(x.x>m.x))){case 0:_[0]=x,_[4]=x.clone();break;case 1:_.splice(1,0,x);break;case 2:_[1]=x;break;case 3:_.splice(4,0,x);break;case 5:_.splice(2,0,x);break;case 6:_[3]=x;break;case 7:_.splice(3,0,x);break;case 8:_[2]=x}return _}containsTile(r,l,m,_=0){const x=r.queryPadding/l._pixelsPerMercatorPixel+1,E=m?this._bufferedCameraMercator(x,l):this._bufferedScreenMercator(x,l);let R=r.tileID.wrap+(E.unwrapped?_:0);const B=E.polygon.map(Le=>c.an(r.tileTransform,Le,R));if(!c.ao(B,0,0,c.ag,c.ag))return;R=r.tileID.wrap+(this.screenGeometryMercator.unwrapped?_:0);const V=this.screenGeometryMercator.polygon.map(Le=>c.ap(r.tileTransform,Le,R)),U=V.map(Le=>new c.P(Le[0],Le[1])),Q=l.getFreeCameraOptions().position||new c.aa(0,0,0),ee=c.ap(r.tileTransform,Q,R),ce=V.map(Le=>{const Ae=c.ab.vec3.sub(Le,Le,ee);return c.ab.vec3.normalize(Ae,Ae),new c.aq(ee,Ae)}),Me=c.ar(r,1,l.zoom)*l._pixelsPerMercatorPixel;return{queryGeometry:this,tilespaceGeometry:U,tilespaceRays:ce,bufferedTilespaceGeometry:B,bufferedTilespaceBounds:(Se=c.as(B),Se.min.x=c.aw(Se.min.x,0,c.ag),Se.min.y=c.aw(Se.min.y,0,c.ag),Se.max.x=c.aw(Se.max.x,0,c.ag),Se.max.y=c.aw(Se.max.y,0,c.ag),Se),tile:r,tileID:r.tileID,pixelToTileUnitsFactor:Me};var Se}_bufferedScreenMercator(r,l){const m=mr(r);if(this._screenRaycastCache[m])return this._screenRaycastCache[m];{let _;return _=l.projection.name==="globe"?this._projectAndResample(this.bufferedScreenGeometry(r),l):{polygon:this.bufferedScreenGeometry(r).map(x=>l.pointCoordinate3D(x)),unwrapped:!0},this._screenRaycastCache[m]=_,_}}_bufferedCameraMercator(r,l){const m=mr(r);if(this._cameraRaycastCache[m])return this._cameraRaycastCache[m];{let _;return _=l.projection.name==="globe"?this._projectAndResample(this.bufferedCameraGeometryGlobe(r),l):{polygon:this.bufferedCameraGeometry(r).map(x=>l.pointCoordinate3D(x)),unwrapped:!0},this._cameraRaycastCache[m]=_,_}}_projectAndResample(r,l){const m=function(x,E){const R=c.ab.mat4.multiply([],E.pixelMatrix,E.globeMatrix),B=[0,-c.ax,0,1],V=[0,c.ax,0,1],U=[0,0,0,1];c.ab.vec4.transformMat4(B,B,R),c.ab.vec4.transformMat4(V,V,R),c.ab.vec4.transformMat4(U,U,R);const Q=new c.P(B[0]/B[3],B[1]/B[3]),ee=new c.P(V[0]/V[3],V[1]/V[3]),ce=c.au(x,Q)&&B[3]<U[3],Me=c.au(x,ee)&&V[3]<U[3];if(!ce&&!Me)return null;const Se=function(Bt,Dt,rn){for(let xn=1;xn<Bt.length;xn++){const dr=nr(Dt.pointCoordinate3D(Bt[xn-1]).x),Jn=nr(Dt.pointCoordinate3D(Bt[xn]).x);if(rn<0){if(dr<Jn)return{idx:xn,t:-dr/(Jn-1-dr)}}else if(Jn<dr)return{idx:xn,t:(1-dr)/(Jn+1-dr)}}return null}(x,E,ce?-1:1);if(!Se)return null;const{idx:Le,t:Ae}=Se;let rt=Le>1?Wn(x.slice(0,Le),E):[],St=Le<x.length?Wn(x.slice(Le),E):[];rt=rt.map(Bt=>new c.P(nr(Bt.x),Bt.y)),St=St.map(Bt=>new c.P(nr(Bt.x),Bt.y));const _t=[...rt];_t.length===0&&_t.push(St[St.length-1]);const Vt=c.af(_t[_t.length-1].y,(St.length===0?rt[0]:St[0]).y,Ae);let Lt;return Lt=ce?[new c.P(0,Vt),new c.P(0,0),new c.P(1,0),new c.P(1,Vt)]:[new c.P(1,Vt),new c.P(1,1),new c.P(0,1),new c.P(0,Vt)],_t.push(...Lt),St.length===0?_t.push(rt[0]):_t.push(...St),{polygon:_t.map(Bt=>new c.aa(Bt.x,Bt.y)),unwrapped:!1}}(r,l);if(m)return m;const _=function(x,E){let R=!1,B=-1/0,V=0;for(let Q=0;Q<x.length-1;Q++)x[Q].x>B&&(B=x[Q].x,V=Q);for(let Q=0;Q<x.length-1;Q++){const ee=(V+Q)%(x.length-1),ce=x[ee],Me=x[ee+1];Math.abs(ce.x-Me.x)>.5&&(ce.x<Me.x?(ce.x+=1,ee===0&&(x[x.length-1].x+=1)):(Me.x+=1,ee+1===x.length-1&&(x[0].x+=1)),R=!0)}const U=c.at(E.center.lng);return R&&U<Math.abs(U-1)&&x.forEach(Q=>{Q.x-=1}),{polygon:x,unwrapped:R}}(Wn(r,l).map(x=>new c.P(nr(x.x),x.y)),l);return{polygon:_.polygon.map(x=>new c.aa(x.x,x.y)),unwrapped:_.unwrapped}}}function Wn(p,r){return c.av(p,l=>{const m=r.pointCoordinate3D(l);l.x=m.x,l.y=m.y},1/256)}function nr(p){return p<0?1+p%1:p%1}function mr(p){return 100*p|0}function Nr(p,r,l,m,_){const x=function(R,B){if(R)return _(R);if(B){if(p.url&&B.tiles&&p.tiles&&delete p.tiles,B.variants){if(!Array.isArray(B.variants))return _(new Error("variants must be an array"));for(const U of B.variants){if(U==null||typeof U!="object"||U.constructor!==Object)return _(new Error("variant must be an object"));if(!Array.isArray(U.capabilities))return _(new Error("capabilities must be an array"));if(U.capabilities.length===1&&U.capabilities[0]==="meshopt"){B=c.l(B,U);break}}}const V=c.ay(c.l({},B,p),["tilejson","tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds","scheme","tileSize","encoding","vector_layers","raster_layers","worldview_options","worldview_default","worldview"]);V.tiles=r.canonicalizeTileset(V,p.url),_(null,V)}},E=function(R,B,V){if(!R)return null;if(!B&&!V)return R;V=V||R.worldview_default;const U=Object.values(R.language||{});if(U.length===0)return null;const Q=Object.values(R.worldview||{});if(Q.length===0)return null;const ee=U.every(Me=>Me===B),ce=Q.every(Me=>Me===V);return ee&&ce?R:B in(R.language_options||{})||V in(R.worldview_options||{})?null:R.language_options&&R.worldview_options?R:null}(p.data,l,m);return E?c.q.frame(()=>x(null,E)):p.url?c.n(r.transformRequest(r.normalizeSourceURL(p.url,null,l,m),c.R.Source),x):c.q.frame(()=>{const V=p,{data:R}=V,B=i2(V,["data"]);x(null,B)})}class ui{constructor(r,l,m){this.bounds=c.az.convert(this.validateBounds(r)),this.minzoom=l||0,this.maxzoom=m||24}validateBounds(r){return Array.isArray(r)&&r.length===4?[Math.max(-180,r[0]),Math.max(-90,r[1]),Math.min(180,r[2]),Math.min(90,r[3])]:[-180,-90,180,90]}contains(r){const l=Math.pow(2,r.z),m=Math.floor(c.at(this.bounds.getWest())*l),_=Math.floor(c.aA(this.bounds.getNorth())*l),x=Math.ceil(c.at(this.bounds.getEast())*l),E=Math.ceil(c.aA(this.bounds.getSouth())*l);return r.x>=m&&r.x<x&&r.y>=_&&r.y<E}}class Zr extends c.E{constructor(r,l,m,_){if(super(),this.id=r,this.dispatcher=m,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,c.l(this,c.ay(l,["url","scheme","tileSize","promoteId"])),this._options=c.l({type:"vector"},l),this._collectResourceTiming=!!l.collectResourceTiming,this.tileSize!==512)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(_),this._tileWorkers={},this._deduped=new c.aB}load(r){this._loaded=!1,this.fire(new c.z("dataloading",{dataType:"source"}));const l=Array.isArray(this.map._language)?this.map._language.join():this.map._language,m=this.map.getWorldview();this._tileJSONRequest=Nr(this._options,this.map._requestManager,l,m,(_,x)=>{if(this._tileJSONRequest=null,this._loaded=!0,_)l&&console.warn(`Ensure that your requested language string is a valid BCP-47 code or list of codes. Found: ${l}`),m&&console.warn(`Requested worldview strings must be a valid ISO alpha-2 code. Found: ${m}`),this.fire(new c.y(_));else if(x){if(c.l(this,x),this.hasWorldviews=!!x.worldview_options,x.worldview_default&&(this.worldviewDefault=x.worldview_default),x.vector_layers){this.vectorLayers=x.vector_layers,this.vectorLayerIds=[],this.localizableLayerIds=new Set;for(const E of x.vector_layers)this.vectorLayerIds.push(E.id),x.worldview&&x.worldview[E.source]&&this.localizableLayerIds.add(E.id)}x.bounds&&(this.tileBounds=new ui(x.bounds,this.minzoom,this.maxzoom)),On(x.tiles,this.map._requestManager._customAccessToken),this.fire(new c.z("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new c.z("data",{dataType:"source",sourceDataType:"content"}))}r&&r(_)})}loaded(){return this._loaded}hasTile(r){return!this.tileBounds||this.tileBounds.contains(r.canonical)}onAdd(r){this.map=r,this.load()}reload(){this.cancelTileJSONRequest();const r=c.aC(this.id,this.scope);this.load(()=>this.map.style.clearSource(r))}setTiles(r){return this._options.tiles=r,this.reload(),this}setUrl(r){return this.url=r,this._options.url=r,this.reload(),this}onRemove(r){this.cancelTileJSONRequest()}serialize(){return c.l({},this._options)}loadTile(r,l){const m=r.tileID.canonical.url(this.tiles,this.scheme),_=this.map._requestManager.normalizeTileURL(m),x=this.map._requestManager.transformRequest(_,c.R.Tile),E=this.map.style?this.map.style.getLut(this.scope):null,R=E?{image:E.image.clone()}:null,B={request:x,data:void 0,uid:r.uid,tileID:r.tileID,tileZoom:r.tileZoom,zoom:r.tileID.overscaledZ,maxZoom:this.maxzoom,lut:R,tileSize:this.tileSize*r.tileID.overscaleFactor(),type:this.type,source:this.id,scope:this.scope,pixelRatio:c.q.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId,isSymbolTile:r.isSymbolTile,brightness:this.map.style&&this.map.style.getBrightness()||0,extraShadowCaster:r.isExtraShadowCaster,tessellationStep:this.map._tessellationStep,scaleFactor:this.map.getScaleFactor()};if(this.hasWorldviews&&c.f(m)&&(B.worldview=this.map.getWorldview()||this.worldviewDefault,B.localizableLayerIds=this.localizableLayerIds),B.request.collectResourceTiming=this._collectResourceTiming,r.actor&&r.state!=="expired")r.state==="loading"?r.reloadCallback=l:r.request=r.actor.send("reloadTile",B,V.bind(this));else if(r.actor=this._tileWorkers[_]=this._tileWorkers[_]||this.dispatcher.getActor(),this.dispatcher.ready)r.request=r.actor.send("loadTile",B,V.bind(this),void 0,!0);else{const U=c.aD.call({deduped:this._deduped},B,(Q,ee)=>{Q||!ee?V.call(this,Q):(B.data={cacheControl:ee.cacheControl,expires:ee.expires,rawData:ee.rawData.slice(0)},r.actor&&r.actor.send("loadTile",B,V.bind(this),void 0,!0))},!0);r.request={cancel:U}}function V(U,Q){return delete r.request,r.aborted?l(null):U&&U.status!==404?l(U):(Q&&Q.resourceTiming&&(r.resourceTiming=Q.resourceTiming),this.map._refreshExpiredTiles&&Q&&r.setExpiryData(Q),r.loadVectorData(Q,this.map.painter),c.aE(this.dispatcher),l(null),void(r.reloadCallback&&(this.loadTile(r,r.reloadCallback),r.reloadCallback=null)))}}abortTile(r){r.request&&(r.request.cancel(),delete r.request),r.actor&&r.actor.send("abortTile",{uid:r.uid,type:this.type,source:this.id,scope:this.scope})}unloadTile(r,l){r.actor&&r.actor.send("removeTile",{uid:r.uid,type:this.type,source:this.id,scope:this.scope}),r.destroy()}hasTransition(){return!1}afterUpdate(){this._tileWorkers={}}cancelTileJSONRequest(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}}class qi extends c.E{constructor(r,l,m,_){super(),this.id=r,this.dispatcher=m,this.setEventedParent(_),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=c.l({type:"raster"},l),c.l(this,c.ay(l,["url","scheme","tileSize"]))}load(r){this._loaded=!1,this.fire(new c.z("dataloading",{dataType:"source"})),this._tileJSONRequest=Nr(this._options,this.map._requestManager,null,null,(l,m)=>{this._tileJSONRequest=null,this._loaded=!0,l?this.fire(new c.y(l)):m&&(c.l(this,m),m.raster_layers&&(this.rasterLayers=m.raster_layers,this.rasterLayerIds=this.rasterLayers.map(_=>_.id)),m.bounds&&(this.tileBounds=new ui(m.bounds,this.minzoom,this.maxzoom)),On(m.tiles),this.fire(new c.z("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new c.z("data",{dataType:"source",sourceDataType:"content"}))),r&&r(l)})}loaded(){return this._loaded}onAdd(r){this.map=r,this.load()}reload(){this.cancelTileJSONRequest();const r=c.aC(this.id,this.scope);this.load(()=>this.map.style.clearSource(r))}setTiles(r){return this._options.tiles=r,this.reload(),this}setUrl(r){return this.url=r,this._options.url=r,this.reload(),this}onRemove(r){this.cancelTileJSONRequest()}serialize(){return c.l({},this._options)}hasTile(r){return!this.tileBounds||this.tileBounds.contains(r.canonical)}loadTile(r,l){const m=c.q.devicePixelRatio>=2,_=this.map._requestManager.normalizeTileURL(r.tileID.canonical.url(this.tiles,this.scheme),m,this.tileSize);r.request=c.o(this.map._requestManager.transformRequest(_,c.R.Tile),(x,E,R,B)=>(delete r.request,r.aborted?(r.state="unloaded",l(null)):x?(r.state="errored",l(x)):E?(this.map._refreshExpiredTiles&&r.setExpiryData({cacheControl:R,expires:B}),r.setTexture(E,this.map.painter),r.state="loaded",c.aE(this.dispatcher),void l(null)):l(null)))}abortTile(r,l){r.request&&(r.request.cancel(),delete r.request),l&&l()}unloadTile(r,l){r.texture&&r.texture instanceof c.T?(r.destroy(!0),r.texture&&r.texture instanceof c.T&&this.map.painter.saveTileTexture(r.texture)):r.destroy(),l&&l()}hasTransition(){return!1}cancelTileJSONRequest(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}}class pt extends qi{constructor(r,l,m,_){super(r,l,m,_),this.type="raster-array",this.maxzoom=22,this._options=c.l({type:"raster-array"},l)}triggerRepaint(r){const l=this.map.painter._terrain,m=this.map.style.getSourceCache(this.id);l&&l.enabled&&m&&l._clearRenderCacheForTile(m.id,r.tileID),this.map.triggerRepaint()}loadTile(r,l){const m=this.map._requestManager.normalizeTileURL(r.tileID.canonical.url(this.tiles,this.scheme),!1,this.tileSize),_=this.map._requestManager.transformRequest(m,c.R.Tile);r.requestParams=_,r.actor||(r.actor=this.dispatcher.getActor()),r.request=r.fetchHeader(void 0,(x,E,R,B)=>{if(delete r.request,r.aborted)return r.state="unloaded",l(null);if(x)return x.code===20?void 0:(r.state="errored",l(x));this.map._refreshExpiredTiles&&r.setExpiryData({cacheControl:R,expires:B}),r.state="empty",l(null)})}unloadTile(r,l){const m=r.texture;m&&m instanceof c.T?(r.destroy(!0),this.map.painter.saveTileTexture(m)):(r.destroy(),r.flushQueues(),r._isHeaderLoaded=!1,delete r._mrt,delete r.textureDescriptor),r.fbo&&(r.fbo.destroy(),delete r.fbo),delete r.request,delete r.requestParams,delete r.neighboringTiles,r.state="unloaded"}prepareTile(r,l,m){r._isHeaderLoaded&&(r.state!=="empty"&&(r.state="reloading"),r.fetchBand(l,m,(_,x)=>{if(_)return r.state="errored",this.fire(new c.y(_)),void this.triggerRepaint(r);x&&(r.setTexture(x,this.map.painter),r.state="loaded",this.triggerRepaint(r))}))}getInitialBand(r){if(!this.rasterLayers)return 0;const l=this.rasterLayers.find(({id:x})=>x===r),m=l&&l.fields,_=m&&m.bands&&m.bands;return _?_[0]:0}getTextureDescriptor(r,l,m){if(!r)return;const _=l.sourceLayer||this.rasterLayerIds&&this.rasterLayerIds[0];if(!_)return;let x=null;l instanceof c.aH?x=l.paint.get("raster-array-band"):l instanceof c.aI&&(x=l.paint.get("raster-particle-array-band"));const E=x||this.getInitialBand(_);if(E!=null)if(r.textureDescriptor){if(!r.updateNeeded(_,E)||m)return Object.assign({},r.textureDescriptor,{texture:r.texture})}else this.prepareTile(r,_,E)}}const Sn={vector:Zr,raster:qi,"raster-dem":class extends qi{constructor(p,r,l,m){super(p,r,l,m),this.type="raster-dem",this.maxzoom=22,this._options=c.l({type:"raster-dem"},r),this.encoding=r.encoding||"mapbox"}loadTile(p,r){const l=this.map._requestManager.normalizeTileURL(p.tileID.canonical.url(this.tiles,this.scheme),!1,this.tileSize);function m(_,x){_&&(p.state="errored",r(_)),x&&(p.dem=x,p.dem.onDeserialize(),p.needsHillshadePrepare=!0,p.needsDEMTextureUpload=!0,p.state="loaded",r(null))}p.request=c.o(this.map._requestManager.transformRequest(l,c.R.Tile),function(_,x,E,R){if(delete p.request,p.aborted)p.state="unloaded",r(null);else if(_)p.state="errored",r(_);else if(x){this.map._refreshExpiredTiles&&p.setExpiryData({cacheControl:E,expires:R});const B=ImageBitmap&&x instanceof ImageBitmap&&c.t(),V=1-(x.width-c.aF(x.width))/2;V<1||p.neighboringTiles||(p.neighboringTiles=this._getNeighboringTiles(p.tileID));const U=B?x:c.q.getImageData(x,V),Q={uid:p.uid,coord:p.tileID,source:this.id,scope:this.scope,rawImageData:U,encoding:this.encoding,padding:V};p.actor&&p.state!=="expired"||(p.actor=this.dispatcher.getActor(),p.actor.send("loadDEMTile",Q,m.bind(this),void 0,!0))}}.bind(this))}_getNeighboringTiles(p){const r=p.canonical,l=Math.pow(2,r.z),m=(r.x-1+l)%l,_=r.x===0?p.wrap-1:p.wrap,x=(r.x+1+l)%l,E=r.x+1===l?p.wrap+1:p.wrap,R={};return R[new c.aG(p.overscaledZ,_,r.z,m,r.y).key]={backfilled:!1},R[new c.aG(p.overscaledZ,E,r.z,x,r.y).key]={backfilled:!1},r.y>0&&(R[new c.aG(p.overscaledZ,_,r.z,m,r.y-1).key]={backfilled:!1},R[new c.aG(p.overscaledZ,p.wrap,r.z,r.x,r.y-1).key]={backfilled:!1},R[new c.aG(p.overscaledZ,E,r.z,x,r.y-1).key]={backfilled:!1}),r.y+1<l&&(R[new c.aG(p.overscaledZ,_,r.z,m,r.y+1).key]={backfilled:!1},R[new c.aG(p.overscaledZ,p.wrap,r.z,r.x,r.y+1).key]={backfilled:!1},R[new c.aG(p.overscaledZ,E,r.z,x,r.y+1).key]={backfilled:!1}),R}},"raster-array":pt,geojson:class extends c.E{constructor(p,r,l,m){super(),this.id=p,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._loaded=!1,this.actor=l.getActor(),this.setEventedParent(m),this._data=r.data,this._options=c.l({},r),this._collectResourceTiming=r.collectResourceTiming,r.maxzoom!==void 0&&(this.maxzoom=r.maxzoom),r.minzoom!==void 0&&(this.minzoom=r.minzoom),r.type&&(this.type=r.type),r.attribution&&(this.attribution=r.attribution),this.promoteId=r.promoteId;const _=c.ag/this.tileSize;this.workerOptions=c.l({source:this.id,scope:this.scope,cluster:r.cluster||!1,geojsonVtOptions:{buffer:(r.buffer!==void 0?r.buffer:128)*_,tolerance:(r.tolerance!==void 0?r.tolerance:.375)*_,extent:c.ag,maxZoom:this.maxzoom,lineMetrics:r.lineMetrics||!1,generateId:r.generateId||!1},superclusterOptions:{maxZoom:r.clusterMaxZoom!==void 0?r.clusterMaxZoom:this.maxzoom-1,minPoints:Math.max(2,r.clusterMinPoints||2),extent:c.ag,radius:(r.clusterRadius!==void 0?r.clusterRadius:50)*_,log:!1,generateId:r.generateId||!1},clusterProperties:r.clusterProperties,filter:r.filter,dynamic:r.dynamic},r.workerOptions)}onAdd(p){this.map=p,this.setData(this._data)}setData(p){return this._data=p,this._updateWorkerData(),this}updateData(p){if(!this._options.dynamic)return this.fire(new c.y(new Error("Can't call updateData on a GeoJSON source with dynamic set to false.")));if(typeof p!="string"&&(p.type==="Feature"&&(p={type:"FeatureCollection",features:[p]}),p.type!=="FeatureCollection"))return this.fire(new c.y(new Error("Data to update should be a feature or a feature collection.")));if(this._coalesce&&typeof p!="string"&&typeof this._data!="string"&&this._data.type==="FeatureCollection"){const r=new Map;for(const l of this._data.features)r.set(l.id,l);for(const l of p.features)r.set(l.id,l);this._data.features=[...r.values()]}else this._data=p;return this._updateWorkerData(!0),this}getClusterExpansionZoom(p,r){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:p,source:this.id,scope:this.scope},r),this}getClusterChildren(p,r){return this.actor.send("geojson.getClusterChildren",{clusterId:p,source:this.id,scope:this.scope},r),this}getClusterLeaves(p,r,l,m){return this.actor.send("geojson.getClusterLeaves",{source:this.id,scope:this.scope,clusterId:p,limit:r,offset:l},m),this}_updateWorkerData(p=!1){if(this._pendingLoad)return void(this._coalesce=!0);this.fire(new c.z("dataloading",{dataType:"source"})),this._loaded=!1;const r=c.l({append:p},this.workerOptions);r.scope=this.scope;const l=this._data;typeof l=="string"?(r.request=this.map._requestManager.transformRequest(c.q.resolveURL(l),c.R.Source),r.request.collectResourceTiming=this._collectResourceTiming):r.data=JSON.stringify(l),this._pendingLoad=this.actor.send(`${this.type}.loadData`,r,(m,_)=>{if(this._loaded=!0,this._pendingLoad=null,m)this.fire(new c.y(m));else{const x={dataType:"source",sourceDataType:this._metadataFired?"content":"metadata"};this._collectResourceTiming&&_&&_.resourceTiming&&_.resourceTiming[this.id]&&(x.resourceTiming=_.resourceTiming[this.id]),p&&(this._partialReload=!0),this.fire(new c.z("data",x)),this._partialReload=!1,this._metadataFired=!0}this._coalesce&&(this._updateWorkerData(p),this._coalesce=!1)})}loaded(){return this._loaded}reload(){const p=c.aC(this.id,this.scope);this.map.style.clearSource(p),this._updateWorkerData()}loadTile(p,r){const l=p.actor?"reloadTile":"loadTile";p.actor=this.actor;const m=this.map.style?this.map.style.getLut(this.scope):null,_=m?{image:m.image.clone()}:null,x=this._partialReload,E={type:this.type,uid:p.uid,tileID:p.tileID,tileZoom:p.tileZoom,zoom:p.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,lut:_,scope:this.scope,pixelRatio:c.q.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId,brightness:this.map.style&&this.map.style.getBrightness()||0,scaleFactor:this.map.getScaleFactor(),partial:x};p.request=this.actor.send(l,E,(R,B)=>x&&!B?(p.state="loaded",r(null)):(delete p.request,p.destroy(),p.aborted?r(null):R?r(R):(p.loadVectorData(B,this.map.painter,l==="reloadTile"),r(null))),void 0,l==="loadTile")}abortTile(p){p.request&&(p.request.cancel(),delete p.request),p.aborted=!0}unloadTile(p,r){this.actor.send("removeTile",{uid:p.uid,type:this.type,source:this.id,scope:this.scope}),p.destroy()}onRemove(p){this._pendingLoad&&this._pendingLoad.cancel()}serialize(){return c.l({},this._options,{type:this.type,data:this._data})}hasTransition(){return!1}},video:class extends c.aJ{constructor(p,r,l,m){super(p,r,l,m),this.roundZoom=!0,this.type="video",this.options=r}load(){this._loaded=!1;const p=this.options;this.urls=[];for(const r of p.urls)this.urls.push(this.map._requestManager.transformRequest(r,c.R.Source).url);c.aK(this.urls,(r,l)=>{this._loaded=!0,r?this.fire(new c.y(r)):l&&(this.video=l,this.video.loop=!0,this.video.setAttribute("playsinline",""),this.video.addEventListener("playing",()=>{this.map.triggerRepaint()}),this.map&&this.video.play(),this._finishLoading())})}pause(){this.video&&this.video.pause()}play(){this.video&&this.video.play()}seek(p){if(this.video){const r=this.video.seekable;p<r.start(0)||p>r.end(0)?this.fire(new c.y(new c.V(`sources.${this.id}`,null,`Playback for this video can be set only between the ${r.start(0)} and ${r.end(0)}-second mark.`))):this.video.currentTime=p}}getVideo(){return this.video}onAdd(p){this.map||(this.map=p,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))}prepare(){if(Object.keys(this.tiles).length===0||this.video.readyState<2)return;const p=this.map.painter.context,r=p.gl;this.texture?this.video.paused||(this.texture.bind(r.LINEAR,r.CLAMP_TO_EDGE),r.texSubImage2D(r.TEXTURE_2D,0,0,0,r.RGBA,r.UNSIGNED_BYTE,this.video)):(this.texture=new c.T(p,this.video,r.RGBA8),this.texture.bind(r.LINEAR,r.CLAMP_TO_EDGE),this.width=this.video.videoWidth,this.height=this.video.videoHeight),this._prepareData(p)}serialize(){return{type:"video",urls:this.urls,coordinates:this.coordinates}}hasTransition(){return this.video&&!this.video.paused}},image:c.aJ,model:class extends c.E{constructor(p,r,l,m){super(),this.id=p,this.type="model",this.models=[],this._loaded=!1,this._options=r}load(){const p=[];for(const r in this._options.models){const l=this._options.models[r],m=c.aM(this.map._requestManager.transformRequest(l.uri,c.R.Model).url).then(_=>{if(!_)return;const x=c.aN(_),E=new c.aO(r,l.position,l.orientation,x);E.computeBoundsAndApplyParent(),this.models.push(E)}).catch(_=>{this.fire(new c.y(new Error(`Could not load model ${r} from ${l.uri}: ${_.message}`)))});p.push(m)}return Promise.allSettled(p).then(()=>{this._loaded=!0,this.fire(new c.z("data",{dataType:"source",sourceDataType:"metadata"}))}).catch(r=>{this.fire(new c.y(new Error(`Could not load models: ${r.message}`)))})}onAdd(p){this.map=p,this.load()}hasTransition(){return!1}loaded(){return this._loaded}getModels(){return this.models}loadTile(p,r){}serialize(){return{type:"model"}}},"batched-model":class extends c.E{constructor(p,r,l,m){super(),this.type="batched-model",this.id=p,this.tileSize=512,this._options=r,this.tiles=this._options.tiles,this.maxzoom=r.maxzoom||19,this.minzoom=r.minzoom||0,this.roundZoom=!0,this.usedInConflation=!0,this.dispatcher=l,this.reparseOverscaled=!1,this.scheme="xyz",this._loaded=!1,this.setEventedParent(m)}onAdd(p){this.map=p,this.load()}reload(){this.cancelTileJSONRequest();const p=c.aC(this.id,this.scope);this.load(()=>this.map.style.clearSource(p))}cancelTileJSONRequest(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}load(p){this._loaded=!1,this.fire(new c.z("dataloading",{dataType:"source"}));const r=Array.isArray(this.map._language)?this.map._language.join():this.map._language,l=this.map.getWorldview();this._tileJSONRequest=Nr(this._options,this.map._requestManager,r,l,(m,_)=>{this._tileJSONRequest=null,this._loaded=!0,m?(r&&console.warn(`Ensure that your requested language string is a valid BCP-47 code or list of codes. Found: ${r}`),l&&l.length!==2&&console.warn(`Requested worldview strings must be a valid ISO alpha-2 code. Found: ${l}`),this.fire(new c.y(m))):_&&(c.l(this,_),_.bounds&&(this.tileBounds=new ui(_.bounds,this.minzoom,this.maxzoom)),On(_.tiles,this.map._requestManager._customAccessToken),this.fire(new c.z("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new c.z("data",{dataType:"source",sourceDataType:"content"}))),p&&p(m)})}hasTransition(){return!1}hasTile(p){return!this.tileBounds||this.tileBounds.contains(p.canonical)}loaded(){return this._loaded}loadTile(p,r){const l=this.map._requestManager.normalizeTileURL(p.tileID.canonical.url(this.tiles,this.scheme)),m={request:this.map._requestManager.transformRequest(l,c.R.Tile),data:void 0,uid:p.uid,tileID:p.tileID,tileZoom:p.tileZoom,zoom:p.tileID.overscaledZ,tileSize:this.tileSize*p.tileID.overscaleFactor(),type:this.type,source:this.id,scope:this.scope,showCollisionBoxes:this.map.showCollisionBoxes,isSymbolTile:p.isSymbolTile,brightness:this.map.style&&this.map.style.getBrightness()||0,lut:null,maxZoom:null,promoteId:null,pixelRatio:null,scaleFactor:null};if(p.actor&&p.state!=="expired")if(p.state==="loading")p.reloadCallback=r;else{if(p.buckets){const x=Object.values(p.buckets);for(const E of x)E.dirty=!0;return void(p.state="loaded")}p.request=p.actor.send("reloadTile",m,_.bind(this))}else p.actor=this.dispatcher.getActor(),p.request=p.actor.send("loadTile",m,_.bind(this),void 0,!0);function _(x,E){return p.aborted?r(null):x&&x.status!==404?r(x):(this.map._refreshExpiredTiles&&E&&p.setExpiryData(E),p.loadModelData(E,this.map.painter),p.state="loaded",void r(null))}}serialize(){return c.l({},this._options)}},canvas:class extends c.aJ{constructor(p,r,l,m){super(p,r,l,m),r.coordinates?Array.isArray(r.coordinates)&&r.coordinates.length===4&&!r.coordinates.some(_=>!Array.isArray(_)||_.length!==2||_.some(x=>typeof x!="number"))||this.fire(new c.y(new c.V(`sources.${p}`,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new c.y(new c.V(`sources.${p}`,null,'missing required property "coordinates"'))),r.animate&&typeof r.animate!="boolean"&&this.fire(new c.y(new c.V(`sources.${p}`,null,'optional "animate" property must be a boolean value'))),r.canvas?typeof r.canvas=="string"||r.canvas instanceof HTMLCanvasElement||this.fire(new c.y(new c.V(`sources.${p}`,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new c.y(new c.V(`sources.${p}`,null,'missing required property "canvas"'))),this.options=r,this.animate=r.animate===void 0||r.animate}load(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof HTMLCanvasElement?this.options.canvas:document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new c.y(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())}getCanvas(){return this.canvas}onAdd(p){this.map=p,this.load(),this.canvas&&this.animate&&this.play()}onRemove(p){this.pause()}prepare(){let p=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,p=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,p=!0),this._hasInvalidDimensions()||Object.keys(this.tiles).length===0)return;const r=this.map.painter.context;this.texture?!p&&!this._playing||this.texture instanceof c.aL||this.texture.update(this.canvas,{premultiply:!0}):this.texture=new c.T(r,this.canvas,r.gl.RGBA8,{premultiply:!0}),this._prepareData(r)}serialize(){return{type:"canvas",coordinates:this.coordinates}}hasTransition(){return this._playing}_hasInvalidDimensions(){for(const p of[this.canvas.width,this.canvas.height])if(isNaN(p)||p<=0)return!0;return!1}},custom:class extends c.E{constructor(p,r,l,m){super(),this.id=p,this.type="custom",this._dataType="raster",this._dispatcher=l,this._implementation=r,this.setEventedParent(m),this.scheme="xyz",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this._loaded=!1,this.roundZoom=!0,this._implementation||this.fire(new c.y(new Error(`Missing implementation for ${this.id} custom source`))),this._implementation.loadTile||this.fire(new c.y(new Error(`Missing loadTile implementation for ${this.id} custom source`))),this._implementation.bounds&&(this.tileBounds=new ui(this._implementation.bounds,this.minzoom,this.maxzoom)),r.update=this._update.bind(this),r.clearTiles=this._clearTiles.bind(this),r.coveringTiles=this._coveringTiles.bind(this),c.l(this,c.ay(r,["dataType","scheme","minzoom","maxzoom","tileSize","attribution","minTileCacheSize","maxTileCacheSize"]))}serialize(){return c.ay(this,["type","scheme","minzoom","maxzoom","tileSize","attribution"])}load(){this._loaded=!0,this.fire(new c.z("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new c.z("data",{dataType:"source",sourceDataType:"content"}))}loaded(){return this._loaded}onAdd(p){this.map=p,this._loaded=!1,this.fire(new c.z("dataloading",{dataType:"source"})),this._implementation.onAdd&&this._implementation.onAdd(p),this.load()}onRemove(p){this._implementation.onRemove&&this._implementation.onRemove(p)}hasTile(p){if(this._implementation.hasTile){const{x:r,y:l,z:m}=p.canonical;return this._implementation.hasTile({x:r,y:l,z:m})}return!this.tileBounds||this.tileBounds.contains(p.canonical)}loadTile(p,r){const{x:l,y:m,z:_}=p.tileID.canonical,x=new AbortController;p.request=Promise.resolve(this._implementation.loadTile({x:l,y:m,z:_},{signal:x.signal})).then(function(E){return delete p.request,p.aborted?(p.state="unloaded",r(null)):E===void 0?(p.state="errored",r(null)):E===null?(this.loadTileData(p,{width:this.tileSize,height:this.tileSize,data:null}),p.state="loaded",r(null)):function(R){return R instanceof ImageData||R instanceof HTMLCanvasElement||R instanceof ImageBitmap||R instanceof HTMLImageElement}(E)?(this.loadTileData(p,E),p.state="loaded",void r(null)):(p.state="errored",r(new Error(`Can't infer data type for ${this.id}, only raster data supported at the moment`)))}.bind(this)).catch(E=>{E.code!==20&&(p.state="errored",r(E))}),p.request.cancel=()=>x.abort()}loadTileData(p,r){p.setTexture(r,this.map.painter)}unloadTile(p,r){if(p.texture&&p.texture instanceof c.T?(p.destroy(!0),p.texture&&p.texture instanceof c.T&&this.map.painter.saveTileTexture(p.texture)):p.destroy(),this._implementation.unloadTile){const{x:l,y:m,z:_}=p.tileID.canonical;this._implementation.unloadTile({x:l,y:m,z:_})}r&&r()}abortTile(p,r){p.request&&p.request.cancel&&(p.request.cancel(),delete p.request),r&&r()}hasTransition(){return!1}_coveringTiles(){return this.map.transform.coveringTiles({tileSize:this.tileSize,minzoom:this.minzoom,maxzoom:this.maxzoom,roundZoom:this.roundZoom}).map(p=>({x:p.canonical.x,y:p.canonical.y,z:p.canonical.z}))}_clearTiles(){const p=c.aC(this.id,this.scope);this.map.style.clearSource(p)}_update(){this.fire(new c.z("data",{dataType:"source",sourceDataType:"content"}))}}},qt=function(p,r,l,m){const _=new Sn[r.type](p,r,l,m);if(_.id!==p)throw new Error(`Expected Source id to be ${p} instead of ${_.id}`);return c.aP(["load","abort","unload","serialize","prepare"],_),_};function Nn(p,r,l=""){return`${l}:${r.id||""}:${r.layer.id}:${function(m){if("layerId"in m)return`layer:${m.layerId}`;{const{featuresetId:_,importId:x}=m;return`featureset:${_}${x?`:import:${x}`:""}`}}(p.target)}`}function lr(p,r,l,m=""){if(p.uniqueFeatureID){const _=Nn(p,r,m);if(l.has(_))return!0;l.add(_)}return!1}function di(p,r,l,m,_=!1){const x=r.sourceCache.transform,E=r.sourceCache.tilesIn(p,r.has3DLayers,_);E.sort(Zi);const R=[];for(const B of E){const V=B.tile.queryRenderedFeatures(r,B,l,m,x,_);Object.keys(V).length&&R.push({wrappedTileID:B.tile.tileID.wrapped().key,queryResults:V})}return R.length===0?{}:function(B){const V={},U={};for(const Q of B){const ee=Q.queryResults,ce=Q.wrappedTileID,Me=U[ce]=U[ce]||{};for(const Se in ee){const Le=ee[Se],Ae=Me[Se]=Me[Se]||{},rt=V[Se]=V[Se]||[];for(const St of Le)Ae[St.featureIndex]||(Ae[St.featureIndex]=!0,rt.push(St))}}return V}(R)}function Ti(p,r,l,m,_){const x={},E=m.queryRenderedSymbols(p),R=[];for(const B of Object.keys(E).map(Number))R.push(_[B]);R.sort(Zi);for(const B of R){const V=B.featureIndex.lookupSymbolFeatures(E[B.bucketInstanceId],B.bucketIndex,B.sourceLayerIndex,r,l);for(const U in V){const Q=x[U]=x[U]||[],ee=V[U];ee.sort((ce,Me)=>{const Se=B.featureSortOrder;if(Se){const Le=Se.indexOf(ce.featureIndex);return Se.indexOf(Me.featureIndex)-Le}return Me.featureIndex-ce.featureIndex});for(const ce of ee)Q.push(ce)}}return x}function bo(p,r){const l=p.getRenderableIds().map(x=>p.getTileByID(x)),m=[],_={};for(let x=0;x<l.length;x++){const E=l[x],R=E.tileID.canonical.key;_[R]||(_[R]=!0,E.querySourceFeatures(m,r))}return m}function Zi(p,r){const l=p.tileID,m=r.tileID;return l.overscaledZ-m.overscaledZ||l.canonical.y-m.canonical.y||l.wrap-m.wrap||l.canonical.x-m.canonical.x}function fo(p,r){const l={};if(!r)return l;for(const m of p){const _=m.layerIds.map(x=>r.getLayer(x)).filter(Boolean);if(_.length!==0){m.layers=_,m.stateDependentLayerIds&&(m.stateDependentLayers=m.stateDependentLayerIds.map(x=>_.filter(E=>E.id===x)[0]));for(const x of _)l[x.fqid]=m}}return l}const yo=32,Gi=33,Oo=new Uint16Array(8184);for(let p=0;p<2046;p++){let r=p+2,l=0,m=0,_=0,x=0,E=0,R=0;for(1&r?_=x=E=yo:l=m=R=yo;(r>>=1)>1;){const V=l+_>>1,U=m+x>>1;1&r?(_=l,x=m,l=E,m=R):(l=_,m=x,_=E,x=R),E=V,R=U}const B=4*p;Oo[B+0]=l,Oo[B+1]=m,Oo[B+2]=_,Oo[B+3]=x}const Xo=new Uint16Array(2178),Bo=new Uint8Array(1089),Eo=new Uint16Array(1089);function zo(p){return p===0?-.03125:p===32?.03125:0}const Zo={type:2,extent:c.ag,loadGeometry:()=>[[new c.P(0,0),new c.P(c.ag+1,0),new c.P(c.ag+1,c.ag+1),new c.P(0,c.ag+1),new c.P(0,0)]]};class na{constructor(r,l,m,_,x){this.tileID=r,this.uid=c.aV(),this.uses=0,this.tileSize=l,this.tileZoom=m,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.isRaster=x,_&&_.style&&(this._lastUpdatedBrightness=_.style.getBrightness()),this.expiredRequestCount=0,this.state="loading",_&&_.transform&&(this.projection=_.transform.projection)}registerFadeDuration(r){const l=r+this.timeAdded;l<c.q.now()||this.fadeEndTime&&l<this.fadeEndTime||(this.fadeEndTime=l)}wasRequested(){return this.state==="errored"||this.state==="loaded"||this.state==="reloading"}get tileTransform(){return this._tileTransform||(this._tileTransform=c.aQ(this.tileID.canonical,this.projection)),this._tileTransform}loadVectorData(r,l,m){if(this.unloadVectorData(),this.state="loaded",r){r.featureIndex&&(this.latestFeatureIndex=r.featureIndex,r.rawTileData?(this.latestRawTileData=r.rawTileData,this.latestFeatureIndex.rawTileData=r.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=r.collisionBoxArray,this.buckets=fo(r.buckets,l.style),this.hasSymbolBuckets=!1;for(const _ in this.buckets){const x=this.buckets[_];if(x instanceof c.aX){if(this.hasSymbolBuckets=!0,!m)break;x.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(const _ in this.buckets){const x=this.buckets[_];if(x instanceof c.aX&&x.hasRTLText){this.hasRTLText=!0,c.aY();break}}this.queryPadding=0;for(const _ in this.buckets){const x=this.buckets[_],E=l.style.getOwnLayer(_);if(!E)continue;const R=E.queryRadius(x);this.queryPadding=Math.max(this.queryPadding,R)}r.imageAtlas&&(this.imageAtlas=r.imageAtlas),r.glyphAtlasImage&&(this.glyphAtlasImage=r.glyphAtlasImage),r.lineAtlas&&(this.lineAtlas=r.lineAtlas),this._lastUpdatedBrightness=r.brightness}else this.collisionBoxArray=new c.aW}unloadVectorData(){if(this.hasData()){for(const r in this.buckets)this.buckets[r].destroy();this.buckets={},this.imageAtlas&&(this.imageAtlas=null),this.lineAtlas&&(this.lineAtlas=null),this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.lineAtlasTexture&&this.lineAtlasTexture.destroy(),this._tileBoundsBuffer&&(this._tileBoundsBuffer.destroy(),this._tileBoundsIndexBuffer.destroy(),this._tileBoundsSegments.destroy(),this._tileBoundsBuffer=null),this._tileDebugBuffer&&(this._tileDebugBuffer.destroy(),this._tileDebugSegments.destroy(),this._tileDebugBuffer=null),this._tileDebugIndexBuffer&&(this._tileDebugIndexBuffer.destroy(),this._tileDebugIndexBuffer=null),this._globeTileDebugBorderBuffer&&(this._globeTileDebugBorderBuffer.destroy(),this._globeTileDebugBorderBuffer=null),this._tileDebugTextBuffer&&(this._tileDebugTextBuffer.destroy(),this._tileDebugTextSegments.destroy(),this._tileDebugTextIndexBuffer.destroy(),this._tileDebugTextBuffer=null),this._globeTileDebugTextBuffer&&(this._globeTileDebugTextBuffer.destroy(),this._globeTileDebugTextBuffer=null),this.latestFeatureIndex=null,this.state="unloaded"}}loadModelData(r,l,m){r&&(r.resourceTiming&&(this.resourceTiming=r.resourceTiming),this.buckets=Object.assign({},this.buckets,fo(r.buckets,l.style)),r.featureIndex&&(this.latestFeatureIndex=r.featureIndex))}getBucket(r){return this.buckets[r.fqid]}upload(r){for(const _ in this.buckets){const x=this.buckets[_];x.uploadPending()&&x.upload(r)}const l=r.gl,m=this.imageAtlas;if(m&&!m.uploaded){const _=!!Object.keys(m.patternPositions).length;this.imageAtlasTexture=new c.T(r,m.image,l.RGBA8,{useMipmap:_}),this.imageAtlas.uploaded=!0}this.glyphAtlasImage&&(this.glyphAtlasTexture=new c.T(r,this.glyphAtlasImage,l.R8),this.glyphAtlasImage=null),this.lineAtlas&&!this.lineAtlas.uploaded&&(this.lineAtlasTexture=new c.T(r,this.lineAtlas.image,l.R8),this.lineAtlas.uploaded=!0)}prepare(r,l,m){if(this.imageAtlas&&this.imageAtlasTexture&&this.imageAtlas.patchUpdatedImages(r,this.imageAtlasTexture,m),!l||!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData)return;const _=l.style.getBrightness();(this._lastUpdatedBrightness||_)&&(this._lastUpdatedBrightness&&_&&Math.abs(this._lastUpdatedBrightness-_)<.001||(this.updateBuckets(l,this._lastUpdatedBrightness!==_),this._lastUpdatedBrightness=_))}queryRenderedFeatures(r,l,m,_,x,E){if(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData&&!this.latestFeatureIndex.is3DTile)return{};const R=function(B,V){const U=c.ab.mat4.fromScaling([],[.5*B.width,.5*-B.height,1]);return c.ab.mat4.translate(U,U,[1,-1,0]),c.ab.mat4.multiply(U,U,B.calculateProjMatrix(V.toUnwrapped())),Float32Array.from(U)}(x,this.tileID);return this.latestFeatureIndex.query(r,{tilespaceGeometry:l,pixelPosMatrix:R,transform:_,availableImages:m,tileTransform:this.tileTransform})}querySourceFeatures(r,l){const m=this.latestFeatureIndex;if(!m||!m.rawTileData)return;const _=m.loadVTLayers(),x=l?l.sourceLayer:"",E=_._geojsonTileLayer||_[x];if(!E)return;const R=c.aZ(l&&l.filter),{z:B,x:V,y:U}=this.tileID.canonical,Q={z:B,x:V,y:U};for(let ee=0;ee<E.length;ee++){const ce=E.feature(ee);if(R.needGeometry){const Le=c.a_(ce,!0);if(!R.filter(new c.a8(this.tileID.overscaledZ),Le,this.tileID.canonical))continue}else if(!R.filter(new c.a8(this.tileID.overscaledZ),ce))continue;const Me=m.getId(ce,x),Se=new c.a$(ce,B,V,U,Me);Se.tile=Q,r.push(Se)}}hasData(){return this.state==="loaded"||this.state==="reloading"||this.state==="expired"}patternsLoaded(){return!!this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length}setExpiryData(r){const l=this.expirationTime;if(r.cacheControl){const m=c.b0(r.cacheControl);m["max-age"]&&(this.expirationTime=Date.now()+1e3*m["max-age"])}else r.expires&&(this.expirationTime=new Date(r.expires).getTime());if(this.expirationTime){const m=Date.now();let _=!1;if(this.expirationTime>m)_=!1;else if(l)if(this.expirationTime<l)_=!0;else{const x=this.expirationTime-l;x?this.expirationTime=m+Math.max(x,3e4):_=!0}else _=!0;_?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}}getExpiryTimeout(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-new Date().getTime(),Math.pow(2,31)-1)}refreshFeatureState(r){this.latestFeatureIndex&&(this.latestFeatureIndex.rawTileData||this.latestFeatureIndex.is3DTile)&&r&&this.updateBuckets(r)}updateBuckets(r,l){if(!this.latestFeatureIndex||!r.style)return;const m=this.latestFeatureIndex.loadVTLayers(),_=r.style.listImages(),x=r.style.getBrightness();for(const E in this.buckets){if(!r.style.hasLayer(E))continue;const R=this.buckets[E],B=R.layers[0],V=B.sourceLayer||"_geojsonTileLayer",U=m[V],Q=r.style.getLayerSourceCache(B);let ee={};Q&&(ee=Q._state.getState(V,void 0));const ce=this.imageAtlas&&this.imageAtlas.patternPositions||{},Me=Object.keys(ee).length>0&&!l;Me&&!R.stateDependentLayers.length&&!l||R.update(ee,U,_,ce,Me?R.stateDependentLayers:R.layers,l,x),(R instanceof c.b1||R instanceof c.b2)&&r._terrain&&r._terrain.enabled&&Q&&R.programConfigurations.needsUpload&&r._terrain._clearRenderCacheForTile(Q.id,this.tileID);const Se=r&&r.style&&r.style.getOwnLayer(E);Se&&(this.queryPadding=Math.max(this.queryPadding,Se.queryRadius(R)))}}holdingForFade(){return this.symbolFadeHoldUntil!==void 0}symbolFadeFinished(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<c.q.now()}clearFadeHold(){this.symbolFadeHoldUntil=void 0}setHoldDuration(r){this.symbolFadeHoldUntil=c.q.now()+r}setTexture(r,l){const m=l.context,_=m.gl;this.texture=this.texture||l.getTileTexture(r.width),this.texture&&this.texture instanceof c.T?this.texture.update(r):(this.texture=new c.T(m,r,_.RGBA8,{useMipmap:!0}),this.texture.bind(_.LINEAR,_.CLAMP_TO_EDGE))}setDependencies(r,l){const m={};for(const _ of l)m[_]=!0;this.dependencies[r]=m}hasDependency(r,l){for(const m of r){const _=this.dependencies[m];if(_){for(const x of l)if(_[x])return!0}}return!1}clearQueryDebugViz(){}_makeDebugTileBoundsBuffers(r,l){if(!l||l.name==="mercator"||this._tileDebugBuffer)return;const m=c.b3(Zo,this.tileID.canonical,this.tileTransform)[0],_=new c.b4,x=new c.b5;for(let E=0;E<m.length;E++){const{x:R,y:B}=m[E];_.emplaceBack(R,B),x.emplaceBack(E)}x.emplaceBack(0),this._tileDebugIndexBuffer=r.createIndexBuffer(x),this._tileDebugBuffer=r.createVertexBuffer(_,c.b6.members),this._tileDebugSegments=c.b7.simpleSegment(0,0,_.length,x.length)}_makeTileBoundsBuffers(r,l){if(this._tileBoundsBuffer||!l||l.name==="mercator")return;const m=c.b3(Zo,this.tileID.canonical,this.tileTransform)[0];let _,x;if(this.isRaster){const E=function(R,B){const V=c.aQ(R,B),U=Math.pow(2,R.z);for(let Le=0;Le<Gi;Le++)for(let Ae=0;Ae<Gi;Ae++){const rt=c.aR((R.x+(Ae+zo(Ae))/yo)/U),St=c.aS((R.y+(Le+zo(Le))/yo)/U),_t=B.project(rt,St),Vt=Le*Gi+Ae;Xo[2*Vt+0]=Math.round((_t.x*V.scale-V.x)*c.ag),Xo[2*Vt+1]=Math.round((_t.y*V.scale-V.y)*c.ag)}Bo.fill(0),Eo.fill(0);for(let Le=2045;Le>=0;Le--){const Ae=4*Le,rt=Oo[Ae+0],St=Oo[Ae+1],_t=Oo[Ae+2],Vt=Oo[Ae+3],Lt=rt+_t>>1,Bt=St+Vt>>1,Dt=Lt+Bt-St,rn=Bt+rt-Lt,xn=St*Gi+rt,dr=Vt*Gi+_t,Jn=Bt*Gi+Lt,Br=Math.hypot((Xo[2*xn+0]+Xo[2*dr+0])/2-Xo[2*Jn+0],(Xo[2*xn+1]+Xo[2*dr+1])/2-Xo[2*Jn+1])>=16;Bo[Jn]=Bo[Jn]||(Br?1:0),Le<1022&&(Bo[Jn]=Bo[Jn]||Bo[(St+rn>>1)*Gi+(rt+Dt>>1)]||Bo[(Vt+rn>>1)*Gi+(_t+Dt>>1)])}const Q=new c.aT,ee=new c.aU;let ce=0;function Me(Le,Ae){const rt=Ae*Gi+Le;return Eo[rt]===0&&(Q.emplaceBack(Xo[2*rt+0],Xo[2*rt+1],Le*c.ag/yo,Ae*c.ag/yo),Eo[rt]=++ce),Eo[rt]-1}function Se(Le,Ae,rt,St,_t,Vt){const Lt=Le+rt>>1,Bt=Ae+St>>1;if(Math.abs(Le-_t)+Math.abs(Ae-Vt)>1&&Bo[Bt*Gi+Lt])Se(_t,Vt,Le,Ae,Lt,Bt),Se(rt,St,_t,Vt,Lt,Bt);else{const Dt=Me(Le,Ae),rn=Me(rt,St),xn=Me(_t,Vt);ee.emplaceBack(Dt,rn,xn)}}return Se(0,0,yo,yo,yo,0),Se(yo,yo,0,0,0,yo),{vertices:Q,indices:ee}}(this.tileID.canonical,l);_=E.vertices,x=E.indices}else{_=new c.aT,x=new c.aU;for(const{x:R,y:B}of m)_.emplaceBack(R,B,0,0);const E=c.b8(_.int16,void 0,4);for(let R=0;R<E.length;R+=3)x.emplaceBack(E[R],E[R+1],E[R+2])}this._tileBoundsBuffer=r.createVertexBuffer(_,c.b9.members),this._tileBoundsIndexBuffer=r.createIndexBuffer(x),this._tileBoundsSegments=c.b7.simpleSegment(0,0,_.length,x.length)}_makeGlobeTileDebugBuffers(r,l){const m=l.projection;if(!m||m.name!=="globe"||l.freezeTileCoverage)return;const _=this.tileID.canonical,x=c.ba(_,l),E=c.bb(x),R=c.ae(l.zoom);let B;R>0&&(B=c.ab.mat4.invert(new Float64Array(16),l.globeMatrix)),this._makeGlobeTileDebugBorderBuffer(r,_,l,E,B,R),this._makeGlobeTileDebugTextBuffer(r,_,l,E,B,R)}_globePoint(r,l,m,_,x,E,R){let B=c.bc(r,l,m);if(E){const V=1<<m.z,U=c.at(_.center.lng),Q=c.aA(_.center.lat),ee=(m.x+.5)/V-U;let ce=0;ee>.5?ce=-1:ee<-.5&&(ce=1);let Me=(r/c.ag+m.x)/V+ce,Se=(l/c.ag+m.y)/V;Me=(Me-U)*_._pixelsPerMercatorPixel+U,Se=(Se-Q)*_._pixelsPerMercatorPixel+Q;const Le=[Me*_.worldSize,Se*_.worldSize,0];c.ab.vec3.transformMat4(Le,Le,E),B=c.bd(B,Le,R)}return c.ab.vec3.transformMat4(B,B,x)}_makeGlobeTileDebugBorderBuffer(r,l,m,_,x,E){const R=new c.b4,B=new c.b5,V=new c.be,U=(ee,ce,Me,Se,Le)=>{const Ae=(Me-ee)/(Le-1),rt=(Se-ce)/(Le-1),St=R.length;for(let _t=0;_t<Le;_t++){const Vt=ee+_t*Ae,Lt=ce+_t*rt;R.emplaceBack(Vt,Lt);const Bt=this._globePoint(Vt,Lt,l,m,_,x,E);V.emplaceBack(Bt[0],Bt[1],Bt[2]),B.emplaceBack(St+_t)}},Q=c.ag;U(0,0,Q,0,16),U(Q,0,Q,Q,16),U(Q,Q,0,Q,16),U(0,Q,0,0,16),this._tileDebugIndexBuffer=r.createIndexBuffer(B),this._tileDebugBuffer=r.createVertexBuffer(R,c.b6.members),this._globeTileDebugBorderBuffer=r.createVertexBuffer(V,c.bf.members),this._tileDebugSegments=c.b7.simpleSegment(0,0,R.length,B.length)}_makeGlobeTileDebugTextBuffer(r,l,m,_,x,E){const R=c.ag/4,B=new c.b4,V=new c.aU,U=new c.be,Q=25;V.reserve(32),B.reserve(Q),U.reserve(Q);const ee=(ce,Me)=>Q*ce+Me;for(let ce=0;ce<Q;ce++){const Me=ce*R;for(let Se=0;Se<Q;Se++){const Le=Se*R;B.emplaceBack(Le,Me);const Ae=this._globePoint(Le,Me,l,m,_,x,E);U.emplaceBack(Ae[0],Ae[1],Ae[2])}}for(let ce=0;ce<4;ce++)for(let Me=0;Me<4;Me++){const Se=ee(ce,Me),Le=ee(ce,Me+1),Ae=ee(ce+1,Me),rt=ee(ce+1,Me+1);V.emplaceBack(Se,Le,Ae),V.emplaceBack(Ae,Le,rt)}this._tileDebugTextIndexBuffer=r.createIndexBuffer(V),this._tileDebugTextBuffer=r.createVertexBuffer(B,c.b6.members),this._globeTileDebugTextBuffer=r.createVertexBuffer(U,c.bf.members),this._tileDebugTextSegments=c.b7.simpleSegment(0,0,Q,32)}destroy(r=!1){for(const l in this.buckets)this.buckets[l].destroy();this.buckets={},this.imageAtlas&&(this.imageAtlas=null),this.lineAtlas&&(this.lineAtlas=null),this.imageAtlasTexture&&(this.imageAtlasTexture.destroy(),delete this.imageAtlasTexture),this.glyphAtlasTexture&&(this.glyphAtlasTexture.destroy(),delete this.glyphAtlasTexture),this.lineAtlasTexture&&(this.lineAtlasTexture.destroy(),delete this.lineAtlasTexture),this._tileBoundsBuffer&&(this._tileBoundsBuffer.destroy(),this._tileBoundsIndexBuffer.destroy(),this._tileBoundsSegments.destroy(),this._tileBoundsBuffer=null),this._tileDebugBuffer&&(this._tileDebugBuffer.destroy(),this._tileDebugSegments.destroy(),this._tileDebugBuffer=null),this._tileDebugIndexBuffer&&(this._tileDebugIndexBuffer.destroy(),this._tileDebugIndexBuffer=null),this._globeTileDebugBorderBuffer&&(this._globeTileDebugBorderBuffer.destroy(),this._globeTileDebugBorderBuffer=null),this._tileDebugTextBuffer&&(this._tileDebugTextBuffer.destroy(),this._tileDebugTextSegments.destroy(),this._tileDebugTextIndexBuffer.destroy(),this._tileDebugTextBuffer=null),this._globeTileDebugTextBuffer&&(this._globeTileDebugTextBuffer.destroy(),this._globeTileDebugTextBuffer=null),!r&&this.texture&&this.texture instanceof c.T&&(this.texture.destroy(),delete this.texture),this.hillshadeFBO&&(this.hillshadeFBO.destroy(),delete this.hillshadeFBO),this.dem&&delete this.dem,this.neighboringTiles&&delete this.neighboringTiles,this.demTexture&&(this.demTexture.destroy(),delete this.demTexture),this.rasterParticleState&&(this.rasterParticleState.destroy(),delete this.rasterParticleState),this.latestFeatureIndex=null,this.state="unloaded"}}c.bg.setPbf(c.bh);class po extends na{constructor(r,l,m,_,x){super(r,l,m,_,x),this._workQueue=[],this._fetchQueue=[],this._isHeaderLoaded=!1}setTexture(r,l){const m=l.context,_=m.gl;this.texture=this.texture||l.getTileTexture(r.width),this.texture&&this.texture instanceof c.T?this.texture.update(r,{premultiply:!1}):this.texture=new c.T(m,r,_.RGBA8,{premultiply:!1})}flushQueues(){for(;this._workQueue.length;)this._workQueue.pop()();for(;this._fetchQueue.length;)this._fetchQueue.pop()()}fetchHeader(r=16384,l){const m=this._mrt=new c.bg(30),_=Object.assign({},this.requestParams,{headers:{Range:"bytes=0-"+(r-1)}});return this.entireBuffer=null,this.request=c.bi(_,(x,E,R,B)=>{if(x)l(x);else try{const V=m.getHeaderLength(E);if(V>r)return void(this.request=this.fetchHeader(V,l));m.parseHeader(E),this._isHeaderLoaded=!0;let U=0;for(const Q of Object.values(m.layers))U=Math.max(U,Q.dataIndex[Q.dataIndex.length-1].last_byte);E.byteLength>=U&&(this.entireBuffer=E),l(null,this.entireBuffer||E,R,B)}catch(V){l(V)}}),this.request}fetchBand(r,l,m){const _=this._mrt;if(!this._isHeaderLoaded||!_)return void m(new Error("Tile header is not ready"));const x=this.actor;if(!x)return void m(new Error("Can't fetch tile band without an actor"));let E;const R=(Q,ee)=>{E.complete(Q,ee),Q?m(Q):(this.updateTextureDescriptor(r,l),m(null,this.textureDescriptor&&this.textureDescriptor.img))},B=(Q,ee)=>{if(Q)return m(Q);const ce=x.send("decodeRasterArray",{buffer:ee,task:E},R,void 0,!0);this._workQueue.push(()=>{ce&&ce.cancel(),E.cancel()})},V=_.getLayer(r);if(!V)return void m(new Error(`Unknown sourceLayer "${r}"`));if(V.hasDataForBand(l))return this.updateTextureDescriptor(r,l),void m(null,this.textureDescriptor?this.textureDescriptor.img:null);const U=V.getDataRange([l]);if(E=_.createDecodingTask(U),!E||E.tasks.length)if(this.flushQueues(),this.entireBuffer)B(null,this.entireBuffer.slice(U.firstByte,U.lastByte+1));else{const Q=Object.assign({},this.requestParams,{headers:{Range:`bytes=${U.firstByte}-${U.lastByte}`}}),ee=c.bi(Q,B);this._fetchQueue.push(()=>{ee.cancel(),E.cancel()})}else m(null)}updateNeeded(r,l){return(!this.textureDescriptor||this.textureDescriptor.band!==l||this.textureDescriptor.layer!==r)&&this.state!=="errored"}updateTextureDescriptor(r,l){if(!this._mrt)return;const m=this._mrt.getLayer(r);if(!m||!m.hasBand(l)||!m.hasDataForBand(l))return;const{bytes:_,tileSize:x,buffer:E,offset:R,scale:B}=m.getBandView(l),V=x+2*E,U={data:_,width:V,height:V},Q=this.texture;Q&&Q instanceof c.T&&Q.update(U,{premultiply:!1}),this.textureDescriptor={layer:r,band:l,img:U,buffer:E,offset:R,tileSize:x,format:m.pixelFormat,mix:[B,256*B,65536*B,16777216*B]}}}class wo{constructor(r,l){this.max=r,this.onRemove=l,this.reset()}reset(){for(const r in this.data)for(const l of this.data[r])l.timeout&&clearTimeout(l.timeout),this.onRemove(l.value);return this.data={},this.order=[],this}add(r,l,m){const _=r.wrapped().key;this.data[_]===void 0&&(this.data[_]=[]);const x={value:l,timeout:void 0};if(m!==void 0&&(x.timeout=setTimeout(()=>{this.remove(r,x)},m)),this.data[_].push(x),this.order.push(_),this.order.length>this.max){const E=this._getAndRemoveByKey(this.order[0]);E&&this.onRemove(E)}return this}has(r){return r.wrapped().key in this.data}getAndRemove(r){return this.has(r)?this._getAndRemoveByKey(r.wrapped().key):null}_getAndRemoveByKey(r){const l=this.data[r].shift();return l.timeout&&clearTimeout(l.timeout),this.data[r].length===0&&delete this.data[r],this.order.splice(this.order.indexOf(r),1),l.value}getByKey(r){const l=this.data[r];return l?l[0].value:null}get(r){return this.has(r)?this.data[r.wrapped().key][0].value:null}remove(r,l){if(!this.has(r))return this;const m=r.wrapped().key,_=l===void 0?0:this.data[m].indexOf(l),x=this.data[m][_];return this.data[m].splice(_,1),x.timeout&&clearTimeout(x.timeout),this.data[m].length===0&&delete this.data[m],this.onRemove(x.value),this.order.splice(this.order.indexOf(m),1),this}setMaxSize(r){for(this.max=r;this.order.length>this.max;){const l=this._getAndRemoveByKey(this.order[0]);l&&this.onRemove(l)}return this}filter(r){const l=[];for(const m in this.data)for(const _ of this.data[m])r(_.value)||l.push(_);for(const m of l)this.remove(m.value.tileID,m)}}class So{constructor(){this.state={},this.stateChanges={},this.deletedStates={}}updateState(r,l,m){const _=String(l);if(this.stateChanges[r]=this.stateChanges[r]||{},this.stateChanges[r][_]=this.stateChanges[r][_]||{},c.l(this.stateChanges[r][_],m),this.deletedStates[r]===null){this.deletedStates[r]={};for(const x in this.state[r])x!==_&&(this.deletedStates[r][x]=null)}else if(this.deletedStates[r]&&this.deletedStates[r][_]===null){this.deletedStates[r][_]={};for(const x in this.state[r][_])m[x]||(this.deletedStates[r][_][x]=null)}else for(const x in m)this.deletedStates[r]&&this.deletedStates[r][_]&&this.deletedStates[r][_][x]===null&&delete this.deletedStates[r][_][x]}removeFeatureState(r,l,m){if(this.deletedStates[r]===null)return;const _=String(l);if(this.deletedStates[r]=this.deletedStates[r]||{},m&&l!==void 0)this.deletedStates[r][_]!==null&&(this.deletedStates[r][_]=this.deletedStates[r][_]||{},this.deletedStates[r][_][m]=null);else if(l!==void 0)if(this.stateChanges[r]&&this.stateChanges[r][_])for(m in this.deletedStates[r][_]={},this.stateChanges[r][_])this.deletedStates[r][_][m]=null;else this.deletedStates[r][_]=null;else this.deletedStates[r]=null}getState(r,l){const m=this.state[r]||{},_=this.stateChanges[r]||{},x=this.deletedStates[r];if(x===null)return{};if(l!==void 0){const R=String(l),B=c.l({},m[R],_[R]);if(x){const V=x[l];if(V===null)return{};for(const U in V)delete B[U]}return B}const E=c.l({},m,_);if(x)for(const R in x)delete E[R];return E}initializeTileState(r,l){r.refreshFeatureState(l)}coalesceChanges(r,l){const m={};for(const _ in this.stateChanges){this.state[_]=this.state[_]||{};const x={};for(const E in this.stateChanges[_])this.state[_][E]||(this.state[_][E]={}),c.l(this.state[_][E],this.stateChanges[_][E]),x[E]=this.state[_][E];m[_]=x}for(const _ in this.deletedStates){this.state[_]=this.state[_]||{};const x={};if(this.deletedStates[_]===null)for(const E in this.state[_])x[E]={},this.state[_][E]={};else for(const E in this.deletedStates[_]){if(this.deletedStates[_][E]===null)this.state[_][E]={};else if(this.state[_][E])for(const R of Object.keys(this.deletedStates[_][E]))delete this.state[_][E][R];x[E]=this.state[_][E]}m[_]=m[_]||{},c.l(m[_],x)}if(this.stateChanges={},this.deletedStates={},Object.keys(m).length!==0)for(const _ in r)r[_].refreshFeatureState(l)}}class K extends c.E{constructor(r,l,m){super(),this.id=r,this._onlySymbols=m,l.on("data",_=>{_.dataType==="source"&&_.sourceDataType==="metadata"&&(this._sourceLoaded=!0),this._sourceLoaded&&!this._paused&&_.dataType==="source"&&_.sourceDataType==="content"&&(this.reload(),this.transform&&this.update(this.transform))}),l.on("error",()=>{this._sourceErrored=!0}),this._source=l,this._tiles={},this._cache=new wo(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._minTileCacheSize=l.minTileCacheSize,this._maxTileCacheSize=l.maxTileCacheSize,this._loadedParentTiles={},this.castsShadows=!1,this.tileCoverLift=0,this._coveredTiles={},this._shadowCasterTiles={},this._state=new So,this._isRaster=this._source.type==="raster"||this._source.type==="raster-dem"||this._source.type==="raster-array"||this._source.type==="custom"&&this._source._dataType==="raster"}onAdd(r){this.map=r,this._minTileCacheSize=this._minTileCacheSize===void 0&&r?r._minTileCacheSize:this._minTileCacheSize,this._maxTileCacheSize=this._maxTileCacheSize===void 0&&r?r._maxTileCacheSize:this._maxTileCacheSize}loaded(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;for(const r in this._tiles){const l=this._tiles[r];if(l.state!=="loaded"&&l.state!=="errored")return!1}return!0}getSource(){return this._source}pause(){this._paused=!0}resume(){if(!this._paused)return;const r=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,r&&this.reload(),this.transform&&this.update(this.transform)}_loadTile(r,l){return r.isSymbolTile=this._onlySymbols,r.isExtraShadowCaster=this._shadowCasterTiles[r.tileID.key],this._source.loadTile(r,l)}_unloadTile(r){if(this._source.unloadTile)return this._source.unloadTile(r)}_abortTile(r){if(this._source.abortTile)return this._source.abortTile(r)}serialize(){return this._source.serialize()}prepare(r){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(const l in this._tiles){const m=this._tiles[l];m.upload(r),m.prepare(this.map.style.imageManager,this.map?this.map.painter:null,this._source.scope)}}getIds(){return c.bj(this._tiles).map(r=>r.tileID).sort(_e).map(r=>r.key)}getRenderableIds(r,l){const m=[];for(const _ in this._tiles)this._isIdRenderable(+_,r,l)&&m.push(this._tiles[_]);return r?m.sort((_,x)=>{const E=_.tileID,R=x.tileID,B=new c.P(E.canonical.x,E.canonical.y)._rotate(this.transform.angle),V=new c.P(R.canonical.x,R.canonical.y)._rotate(this.transform.angle);return E.overscaledZ-R.overscaledZ||V.y-B.y||V.x-B.x}).map(_=>_.tileID.key):m.map(_=>_.tileID).sort(_e).map(_=>_.key)}hasRenderableParent(r){const l=this.findLoadedParent(r,0);return!!l&&this._isIdRenderable(l.tileID.key)}_isIdRenderable(r,l,m){return this._tiles[r]&&this._tiles[r].hasData()&&!this._coveredTiles[r]&&(l||!this._tiles[r].holdingForFade())&&(m||!this._shadowCasterTiles[r])}reload(){if(this._paused)this._shouldReloadOnResume=!0;else{this._cache.reset();for(const r in this._tiles)this._tiles[r].state!=="errored"&&this._reloadTile(+r,"reloading")}}_reloadTile(r,l){const m=this._tiles[r];m&&(m.state!=="loading"&&(m.state=l),this._loadTile(m,this._tileLoaded.bind(this,m,r,l)))}_tileLoaded(r,l,m,_){if(_)if(r.state="errored",_.status!==404)this._source.fire(new c.y(_,{tile:r}));else{if(this._source.fire(new c.z("data",{dataType:"source",sourceDataType:"error",sourceId:this._source.id,tile:r})),!(r.tileID.key in this._loadedParentTiles))return;if(this._source.type==="raster-dem"&&this.usedForTerrain&&this.map.painter.terrain){const x=this.map.painter.terrain;this.update(this.transform,x.getScaledDemTileSize(),!0),x.resetTileLookupCache(this.id)}else this.update(this.transform)}else r.timeAdded=c.q.now(),m==="expired"&&(r.refreshedUponExpiration=!0),this._setTileReloadTimer(l,r),this._source.type==="raster-dem"&&r.dem&&this._backfillDEM(r),this._state.initializeTileState(r,this.map?this.map.painter:null),this._source.fire(new c.z("data",{dataType:"source",tile:r,coord:r.tileID,sourceCacheId:this.id}))}_backfillDEM(r){const l=this.getRenderableIds();for(let _=0;_<l.length;_++){const x=l[_];if(r.neighboringTiles&&r.neighboringTiles[x]){const E=this.getTileByID(x);m(r,E),m(E,r)}}function m(_,x){if(!_.dem||_.dem.borderReady)return;_.needsHillshadePrepare=!0,_.needsDEMTextureUpload=!0;let E=x.tileID.canonical.x-_.tileID.canonical.x;const R=x.tileID.canonical.y-_.tileID.canonical.y,B=Math.pow(2,_.tileID.canonical.z),V=x.tileID.key;E===0&&R===0||Math.abs(R)>1||(Math.abs(E)>1&&(Math.abs(E+B)===1?E+=B:Math.abs(E-B)===1&&(E-=B)),x.dem&&_.dem&&(_.dem.backfillBorder(x.dem,E,R),_.neighboringTiles&&_.neighboringTiles[V]&&(_.neighboringTiles[V].backfilled=!0)))}}getTile(r){return this.getTileByID(r.key)}getTileByID(r){return this._tiles[r]}_retainLoadedChildren(r,l,m,_){for(const x in this._tiles){let E=this._tiles[x];if(_[x]||!E.hasData()||E.tileID.overscaledZ<=l||E.tileID.overscaledZ>m)continue;let R=E.tileID;for(;E&&E.tileID.overscaledZ>l+1;){const V=E.tileID.scaledTo(E.tileID.overscaledZ-1);E=this._tiles[V.key],E&&E.hasData()&&(R=V)}let B=R;for(;B.overscaledZ>l;)if(B=B.scaledTo(B.overscaledZ-1),r[B.key]){_[R.key]=R;break}}}findLoadedParent(r,l){if(r.key in this._loadedParentTiles){const m=this._loadedParentTiles[r.key];return m&&m.tileID.overscaledZ>=l?m:null}for(let m=r.overscaledZ-1;m>=l;m--){const _=r.scaledTo(m),x=this._getLoadedTile(_);if(x)return x}}_getLoadedTile(r){const l=this._tiles[r.key];return l&&l.hasData()?l:this._cache.getByKey(this._source.reparseOverscaled?r.wrapped().key:r.canonical.key)}updateCacheSize(r,l){l=l||this._source.tileSize;const m=Math.ceil(r.width/l)+1,_=Math.ceil(r.height/l)+1,x=Math.floor(m*_*5),E=typeof this._minTileCacheSize=="number"?Math.max(this._minTileCacheSize,x):x,R=typeof this._maxTileCacheSize=="number"?Math.min(this._maxTileCacheSize,E):E;this._cache.setMaxSize(R)}handleWrapJump(r){const l=Math.round((r-(this._prevLng===void 0?r:this._prevLng))/360);if(this._prevLng=r,l){const m={};for(const _ in this._tiles){const x=this._tiles[_];x.tileID=x.tileID.unwrapTo(x.tileID.wrap+l),m[x.tileID.key]=x}this._tiles=m;for(const _ in this._timers)clearTimeout(this._timers[_]),delete this._timers[_];for(const _ in this._tiles)this._setTileReloadTimer(+_,this._tiles[_])}}update(r,l,m,_){if(this.transform=r,!this._sourceLoaded||this._paused||this.transform.freezeTileCoverage||this.usedForTerrain&&!m)return;this.updateCacheSize(r,l),this.transform.projection.name!=="globe"&&this.handleWrapJump(this.transform.center.lng),this._shadowCasterTiles={},this._coveredTiles={};const x=this._source.type==="batched-model";let E,R=this._source.maxzoom;const B=this.map&&this.map.painter?this.map.painter._terrain:null;if(B&&B.sourceCache===this&&B.attenuationRange()){const Q=B.attenuationRange()[0],ee=Math.floor(Q)-Math.log2(B.getDemUpscale());R>ee&&(R=ee)}if(this.used||this.usedForTerrain){if(this._source.tileID)E=r.getVisibleUnwrappedCoordinates(this._source.tileID).map(Q=>new c.aG(Q.canonical.z,Q.wrap,Q.canonical.z,Q.canonical.x,Q.canonical.y));else if(this.tileCoverLift!==0){const Q=r.clone();Q.tileCoverLift=this.tileCoverLift,E=Q.coveringTiles({tileSize:l||this._source.tileSize,minzoom:this._source.minzoom,maxzoom:R,roundZoom:this._source.roundZoom&&!m,reparseOverscaled:this._source.reparseOverscaled,isTerrainDEM:this.usedForTerrain,calculateQuadrantVisibility:x}),this._source.minzoom<=1&&r.projection.name==="globe"&&(E.push(new c.aG(1,0,1,0,0)),E.push(new c.aG(1,0,1,1,0)),E.push(new c.aG(1,0,1,0,1)),E.push(new c.aG(1,0,1,1,1)))}else if(E=r.coveringTiles({tileSize:l||this._source.tileSize,minzoom:this._source.minzoom,maxzoom:R,roundZoom:this._source.roundZoom&&!m,reparseOverscaled:this._source.reparseOverscaled,isTerrainDEM:this.usedForTerrain,calculateQuadrantVisibility:x}),this._source.hasTile){const Q=this._source.hasTile.bind(this._source);E=E.filter(ee=>Q(ee))}}else E=[];if(E.length>0&&this.castsShadows&&_&&this.transform.projection.name!=="globe"&&!this.usedForTerrain&&!wt(this._source.type)){const Q=r.coveringZoomLevel({tileSize:l||this._source.tileSize,roundZoom:this._source.roundZoom&&!m}),ee=Math.min(Q,this._source.maxzoom);if(x){const ce=r.extendTileCover(E,ee);for(const Me of ce)E.push(Me)}else{const ce=r.extendTileCover(E,ee,_);for(const Me of ce)this._shadowCasterTiles[Me.key]=!0,E.push(Me)}}const V=this._updateRetainedTiles(E);if(wt(this._source.type)&&E.length!==0){const Q={},ee={},ce=Object.keys(V);for(const Se of ce){const Le=V[Se],Ae=this._tiles[Se];if(!Ae||Ae.fadeEndTime&&Ae.fadeEndTime<=c.q.now())continue;const rt=this.findLoadedParent(Le,Math.max(Le.overscaledZ-K.maxOverzooming,this._source.minzoom));rt&&(this._addTile(rt.tileID),Q[rt.tileID.key]=rt.tileID),ee[Se]=Le}const Me=E[E.length-1].overscaledZ;for(const Se in this._tiles){const Le=this._tiles[Se];if(V[Se]||!Le.hasData())continue;let Ae=Le.tileID;for(;Ae.overscaledZ>Me;){Ae=Ae.scaledTo(Ae.overscaledZ-1);const rt=this._tiles[Ae.key];if(rt&&rt.hasData()&&ee[Ae.key]){V[Se]=Le.tileID;break}}}for(const Se in Q)V[Se]||(this._coveredTiles[Se]=!0,V[Se]=Q[Se])}for(const Q in V)this._tiles[Q].clearFadeHold();const U=c.bk(this._tiles,V);for(const Q of U){const ee=this._tiles[Q];ee.hasSymbolBuckets&&!ee.holdingForFade()?ee.setHoldDuration(this.map._fadeDuration):ee.hasSymbolBuckets&&!ee.symbolFadeFinished()||this._removeTile(+Q)}this._updateLoadedParentTileCache(),this._onlySymbols&&this._source.afterUpdate&&this._source.afterUpdate()}releaseSymbolFadeTiles(){for(const r in this._tiles)this._tiles[r].holdingForFade()&&this._removeTile(+r)}_updateRetainedTiles(r){const l={};if(r.length===0)return l;const m={},_=r.reduce((V,U)=>Math.min(V,U.overscaledZ),1/0),x=r[0].overscaledZ,E=Math.max(x-K.maxOverzooming,this._source.minzoom),R=Math.max(x+K.maxUnderzooming,this._source.minzoom),B={};for(const V of r){const U=this._addTile(V);l[V.key]=V,U.hasData()||_<this._source.maxzoom&&(B[V.key]=V)}this._retainLoadedChildren(B,_,R,l);for(const V of r){let U=this._tiles[V.key];if(U.hasData())continue;if(V.canonical.z>=this._source.maxzoom){const ee=V.children(this._source.maxzoom)[0],ce=this.getTile(ee);if(ce&&ce.hasData()){l[ee.key]=ee;continue}}else{const ee=V.children(this._source.maxzoom);if(l[ee[0].key]&&l[ee[1].key]&&l[ee[2].key]&&l[ee[3].key])continue}let Q=U.wasRequested();for(let ee=V.overscaledZ-1;ee>=E;--ee){const ce=V.scaledTo(ee);if(m[ce.key]||(m[ce.key]=!0,U=this.getTile(ce),!U&&Q&&(U=this._addTile(ce)),U&&(l[ce.key]=ce,Q=U.wasRequested(),U.hasData())))break}}return l}_updateLoadedParentTileCache(){this._loadedParentTiles={};for(const r in this._tiles){const l=[];let m,_=this._tiles[r].tileID;for(;_.overscaledZ>0;){if(_.key in this._loadedParentTiles){m=this._loadedParentTiles[_.key];break}l.push(_.key);const x=_.scaledTo(_.overscaledZ-1);if(m=this._getLoadedTile(x),m)break;_=x}for(const x of l)this._loadedParentTiles[x]=m}}_addTile(r){let l=this._tiles[r.key];if(l)return l.isExtraShadowCaster!==!0||this._shadowCasterTiles[r.key]||this._reloadTile(r.key,"reloading"),l;l=this._cache.getAndRemove(r),l&&(this._setTileReloadTimer(r.key,l),l.tileID=r,this._state.initializeTileState(l,this.map?this.map.painter:null),this._cacheTimers[r.key]&&(clearTimeout(this._cacheTimers[r.key]),delete this._cacheTimers[r.key],this._setTileReloadTimer(r.key,l)));const m=!!l;if(!m){const _=this.map?this.map.painter:null,x=this._source.tileSize*r.overscaleFactor();l=this._source.type==="raster-array"?new po(r,x,this.transform.tileZoom,_,this._isRaster):new na(r,x,this.transform.tileZoom,_,this._isRaster),this._loadTile(l,this._tileLoaded.bind(this,l,r.key,l.state))}return l?(l.uses++,this._tiles[r.key]=l,m||this._source.fire(new c.z("dataloading",{tile:l,coord:l.tileID,dataType:"source"})),l):null}_setTileReloadTimer(r,l){r in this._timers&&(clearTimeout(this._timers[r]),delete this._timers[r]);const m=l.getExpiryTimeout();m&&(this._timers[r]=setTimeout(()=>{this._reloadTile(r,"expired"),delete this._timers[r]},m))}_removeTile(r){const l=this._tiles[r];l&&(l.uses--,delete this._tiles[r],this._timers[r]&&(clearTimeout(this._timers[r]),delete this._timers[r]),l.uses>0||(l.hasData()&&l.state!=="reloading"||l.state==="empty"?this._cache.add(l.tileID,l,l.getExpiryTimeout()):(l.aborted=!0,this._abortTile(l),this._unloadTile(l))))}clearTiles(){this._shouldReloadOnResume=!1,this._paused=!1;for(const r in this._tiles)this._removeTile(+r);this._source._clear&&this._source._clear(),this._cache.reset(),this.map&&this.usedForTerrain&&this.map.painter.terrain&&this.map.painter.terrain.resetTileLookupCache(this.id)}tilesIn(r,l,m){const _=[],x=this.transform;if(!x)return _;const E=x.projection.name==="globe",R=c.at(x.center.lng);for(const B in this._tiles){const V=this._tiles[B];if(m&&V.clearQueryDebugViz(),V.holdingForFade())continue;let U;if(E){const Q=V.tileID.canonical;if(Q.z===0){const ee=[Math.abs(c.aw(R,...Tt(Q,-1))-R),Math.abs(c.aw(R,...Tt(Q,1))-R)];U=[0,2*ee.indexOf(Math.min(...ee))-1]}else{const ee=[Math.abs(c.aw(R,...Tt(Q,-1))-R),Math.abs(c.aw(R,...Tt(Q,0))-R),Math.abs(c.aw(R,...Tt(Q,1))-R)];U=[ee.indexOf(Math.min(...ee))-1]}}else U=[0];for(const Q of U){const ee=r.containsTile(V,x,l,Q);ee&&_.push(ee)}}return _}getShadowCasterCoordinates(){return this._getRenderableCoordinates(!1,!0)}getVisibleCoordinates(r){return this._getRenderableCoordinates(r)}_getRenderableCoordinates(r,l){const m=this.getRenderableIds(r,l).map(x=>this._tiles[x].tileID),_=this.transform.projection.name==="globe";for(const x of m)x.projMatrix=this.transform.calculateProjMatrix(x.toUnwrapped()),x.expandedProjMatrix=_?this.transform.calculateProjMatrix(x.toUnwrapped(),!1,!0):x.projMatrix;return m}sortCoordinatesByDistance(r){const l=r.slice(),m=this.transform._camera.position,_=this.transform._camera.forward(),x={};for(const E of l){const R=1/(1<<E.canonical.z);x[E.key]=((E.canonical.x+.5)*R+E.wrap-m[0])*_[0]+((E.canonical.y+.5)*R-m[1])*_[1]-m[2]*_[2]}return l.sort((E,R)=>x[E.key]-x[R.key]),l}hasTransition(){if(this._source.hasTransition())return!0;if(wt(this._source.type))for(const r in this._tiles){const l=this._tiles[r];if(l.fadeEndTime!==void 0&&l.fadeEndTime>=c.q.now())return!0}return!1}setFeatureState(r,l,m){this._state.updateState(r=r||"_geojsonTileLayer",l,m)}removeFeatureState(r,l,m){this._state.removeFeatureState(r=r||"_geojsonTileLayer",l,m)}getFeatureState(r,l){return this._state.getState(r=r||"_geojsonTileLayer",l)}setDependencies(r,l,m){const _=this._tiles[r];_&&_.setDependencies(l,m)}reloadTilesForDependencies(r,l){for(const m in this._tiles)this._tiles[m].hasDependency(r,l)&&this._reloadTile(+m,"reloading");this._cache.filter(m=>!m.hasDependency(r,l))}_preloadTiles(r,l){if(!this._sourceLoaded){const B=()=>{this._sourceLoaded&&(this._source.off("data",B),this._preloadTiles(r,l))};return void this._source.on("data",B)}const m=new Map,_=Array.isArray(r)?r:[r],x=this.map.painter.terrain,E=this.usedForTerrain&&x?x.getScaledDemTileSize():this._source.tileSize;for(const B of _){const V=B.coveringTiles({tileSize:E,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom&&!this.usedForTerrain,reparseOverscaled:this._source.reparseOverscaled,isTerrainDEM:this.usedForTerrain});for(const U of V)m.set(U.key,U);this.usedForTerrain&&B.updateElevation(!1)}const R=Array.from(m.values());c.bl(R,(B,V)=>{const U=new na(B,this._source.tileSize*B.overscaleFactor(),this.transform.tileZoom,this.map.painter,this._isRaster);this._loadTile(U,Q=>{this._source.type==="raster-dem"&&U.dem&&this._backfillDEM(U),V(Q,U)})},l)}}function _e(p,r){const l=Math.abs(2*p.wrap)-+(p.wrap<0),m=Math.abs(2*r.wrap)-+(r.wrap<0);return p.overscaledZ-r.overscaledZ||m-l||r.canonical.y-p.canonical.y||r.canonical.x-p.canonical.x}function wt(p){return p==="raster"||p==="image"||p==="video"||p==="custom"}function Tt(p,r){const l=1<<p.z;return[p.x/l+r,(p.x+1)/l+r]}K.maxOverzooming=10,K.maxUnderzooming=3;class In{constructor(r){this.style=r,this.layersGotHidden=!1,this.layers=[]}processLayersChanged(){this.layers=[];const r=!1,l=!1;for(const m in this.style._mergedLayers){const _=this.style._mergedLayers[m];if(_.type==="fill-extrusion")this.layers.push({layer:_,visible:r,visibilityChanged:l});else if(_.type==="model"){const x=this.style.getLayerSource(_);x&&x.type==="batched-model"&&this.layers.push({layer:_,visible:r,visibilityChanged:l})}}}onNewFrame(r){this.layersGotHidden=!1;for(const l of this.layers){const m=l.layer;let _=!1;m.type==="fill-extrusion"?_=!m.isHidden(r)&&m.paint.get("fill-extrusion-opacity")>0:m.type==="model"&&(_=!m.isHidden(r)&&m.paint.get("model-opacity").constantOr(1)>0),this.layersGotHidden=this.layersGotHidden||!_&&l.visible,l.visible=_}}updateZOffset(r,l){this.currentBuildingBuckets=[];for(const _ of this.layers){const x=_.layer,E=this.style.getLayerSourceCache(x);let R=1;x.type==="fill-extrusion"&&(R=_.visible?x.paint.get("fill-extrusion-vertical-scale"):0);let B=E?E.getTile(l):null;if(!B&&E&&l.canonical.z>E.getSource().minzoom){let V=l.scaledTo(Math.min(E.getSource().maxzoom,l.overscaledZ-1));for(;V.overscaledZ>=E.getSource().minzoom&&(B=E.getTile(V),!B&&V.overscaledZ!==0);)V=V.scaledTo(V.overscaledZ-1)}this.currentBuildingBuckets.push({bucket:B?B.getBucket(x):null,tileID:B?B.tileID:l,verticalScale:R})}r.hasAnyZOffset=!1;let m=!1;for(let _=0;_<r.symbolInstances.length;_++){const x=r.symbolInstances.get(_),E=x.zOffset,R=this._getHeightAtTileOffset(l,x.tileAnchorX,x.tileAnchorY);x.zOffset=R!==Number.NEGATIVE_INFINITY?R:E,m||E===x.zOffset||(m=!0),r.hasAnyZOffset||x.zOffset===0||(r.hasAnyZOffset=!0)}m&&(r.zOffsetBuffersNeedUpload=!0,r.zOffsetSortDirty=!0)}_mapCoordToOverlappingTile(r,l,m,_){let x=l,E=m;if(r.canonical.z!==_.canonical.z){const R=_.canonical,B=1/(1<<r.canonical.z-R.z);x=(l+r.canonical.x*c.ag)*B-R.x*c.ag|0,E=(m+r.canonical.y*c.ag)*B-R.y*c.ag|0}return{tileX:x,tileY:E}}_getHeightAtTileOffset(r,l,m){let _,x;for(let E=0;E<this.layers.length;++E){if(this.layers[E].layer.type!=="fill-extrusion")continue;const{bucket:R,tileID:B,verticalScale:V}=this.currentBuildingBuckets[E];if(!R)continue;const{tileX:U,tileY:Q}=this._mapCoordToOverlappingTile(r,l,m,B),ee=R.getHeightAtTileCoord(U,Q);ee&&ee.height!==void 0&&(ee.hidden?_=ee.height:x=Math.max(ee.height*V,x||0))}if(x!==void 0)return x;for(let E=0;E<this.layers.length;++E){const R=this.layers[E];if(R.layer.type!=="model"||!R.visible)continue;const{bucket:B,tileID:V}=this.currentBuildingBuckets[E];if(!B)continue;const{tileX:U,tileY:Q}=this._mapCoordToOverlappingTile(r,l,m,V),ee=B.getHeightAtTileCoord(U,Q);if(ee&&!ee.hidden)return ee.height===void 0&&_!==void 0?Math.min(ee.maxHeight,_)*ee.verticalScale:ee.height?ee.height*ee.verticalScale:Number.NEGATIVE_INFINITY}return this.layersGotHidden?0:Number.NEGATIVE_INFINITY}}function Qn(p,r){const l={};for(const m in p)m!=="ref"&&(l[m]=p[m]);return c.bm.forEach(m=>{m in r&&(l[m]=r[m])}),l}function ci(p){p=p.slice();const r=Object.create(null);for(let l=0;l<p.length;l++)r[p[l].id]=p[l];for(let l=0;l<p.length;l++)"ref"in p[l]&&(p[l]=Qn(p[l],r[p[l].ref]));return p}const fr={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setSlot:"setSlot",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight",setTerrain:"setTerrain",setFog:"setFog",setSnow:"setSnow",setRain:"setRain",setCamera:"setCamera",setLights:"setLights",setProjection:"setProjection",addImport:"addImport",removeImport:"removeImport",updateImport:"updateImport"};function Ai(p,r,l){l.push({command:fr.addSource,args:[p,r[p]]})}function to(p,r,l){r.push({command:fr.removeSource,args:[p]}),l[p]=!0}function xr(p,r,l,m){to(p,l,m),Ai(p,r,l)}function Vi(p,r,l){let m;for(m in p[l])if(p[l].hasOwnProperty(m)&&m!=="data"&&!c.bn(p[l][m],r[l][m]))return!1;for(m in r[l])if(r[l].hasOwnProperty(m)&&m!=="data"&&!c.bn(p[l][m],r[l][m]))return!1;return!0}function Fr(p,r,l,m,_,x){let E;for(E in r=r||{},p=p||{})p.hasOwnProperty(E)&&(c.bn(p[E],r[E])||l.push({command:x,args:[m,E,r[E],_]}));for(E in r)r.hasOwnProperty(E)&&!p.hasOwnProperty(E)&&(c.bn(p[E],r[E])||l.push({command:x,args:[m,E,r[E],_]}))}function Ei(p){return p.id}function _i(p,r){return p[r.id]=r,p}class bi{constructor(r,l){this.reset(r,l)}reset(r,l){this.points=r||[],this._distances=[0];for(let m=1;m<this.points.length;m++)this._distances[m]=this._distances[m-1]+this.points[m].dist(this.points[m-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(l||0,.5*this.length),this.paddedLength=this.length-2*this.padding}lerp(r){if(this.points.length===1)return this.points[0];r=c.aw(r,0,1);let l=1,m=this._distances[l];const _=r*this.paddedLength+this.padding;for(;m<_&&l<this._distances.length;)m=this._distances[++l];const x=l-1,E=this._distances[x],R=m-E,B=R>0?(_-E)/R:0;return this.points[x].mult(1-B).add(this.points[l].mult(B))}}class Yo{constructor(r,l,m){const _=this.boxCells=[],x=this.circleCells=[];this.xCellCount=Math.ceil(r/m),this.yCellCount=Math.ceil(l/m);for(let E=0;E<this.xCellCount*this.yCellCount;E++)_.push([]),x.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=r,this.height=l,this.xScale=this.xCellCount/r,this.yScale=this.yCellCount/l,this.boxUid=0,this.circleUid=0}keysLength(){return this.boxKeys.length+this.circleKeys.length}insert(r,l,m,_,x){this._forEachCell(l,m,_,x,this._insertBoxCell,this.boxUid++),this.boxKeys.push(r),this.bboxes.push(l),this.bboxes.push(m),this.bboxes.push(_),this.bboxes.push(x)}insertCircle(r,l,m,_){this._forEachCell(l-_,m-_,l+_,m+_,this._insertCircleCell,this.circleUid++),this.circleKeys.push(r),this.circles.push(l),this.circles.push(m),this.circles.push(_)}_insertBoxCell(r,l,m,_,x,E){this.boxCells[x].push(E)}_insertCircleCell(r,l,m,_,x,E){this.circleCells[x].push(E)}_query(r,l,m,_,x,E){if(m<0||r>this.width||_<0||l>this.height)return!x&&[];const R=[];if(r<=0&&l<=0&&this.width<=m&&this.height<=_){if(x)return!0;for(let B=0;B<this.boxKeys.length;B++)R.push({key:this.boxKeys[B],x1:this.bboxes[4*B],y1:this.bboxes[4*B+1],x2:this.bboxes[4*B+2],y2:this.bboxes[4*B+3]});for(let B=0;B<this.circleKeys.length;B++){const V=this.circles[3*B],U=this.circles[3*B+1],Q=this.circles[3*B+2];R.push({key:this.circleKeys[B],x1:V-Q,y1:U-Q,x2:V+Q,y2:U+Q})}return E?R.filter(E):R}return this._forEachCell(r,l,m,_,this._queryCell,R,{hitTest:x,seenUids:{box:{},circle:{}}},E),x?R.length>0:R}_queryCircle(r,l,m,_,x){const E=r-m,R=r+m,B=l-m,V=l+m;if(R<0||E>this.width||V<0||B>this.height)return!_&&[];const U=[];return this._forEachCell(E,B,R,V,this._queryCellCircle,U,{hitTest:_,circle:{x:r,y:l,radius:m},seenUids:{box:{},circle:{}}},x),_?U.length>0:U}query(r,l,m,_,x){return this._query(r,l,m,_,!1,x)}hitTest(r,l,m,_,x){return this._query(r,l,m,_,!0,x)}hitTestCircle(r,l,m,_){return this._queryCircle(r,l,m,!0,_)}_queryCell(r,l,m,_,x,E,R,B){const V=R.seenUids,U=this.boxCells[x];if(U!==null){const ee=this.bboxes;for(const ce of U)if(!V.box[ce]){V.box[ce]=!0;const Me=4*ce;if(r<=ee[Me+2]&&l<=ee[Me+3]&&m>=ee[Me+0]&&_>=ee[Me+1]&&(!B||B(this.boxKeys[ce]))){if(R.hitTest)return E.push(!0),!0;E.push({key:this.boxKeys[ce],x1:ee[Me],y1:ee[Me+1],x2:ee[Me+2],y2:ee[Me+3]})}}}const Q=this.circleCells[x];if(Q!==null){const ee=this.circles;for(const ce of Q)if(!V.circle[ce]){V.circle[ce]=!0;const Me=3*ce;if(this._circleAndRectCollide(ee[Me],ee[Me+1],ee[Me+2],r,l,m,_)&&(!B||B(this.circleKeys[ce]))){if(R.hitTest)return E.push(!0),!0;{const Se=ee[Me],Le=ee[Me+1],Ae=ee[Me+2];E.push({key:this.circleKeys[ce],x1:Se-Ae,y1:Le-Ae,x2:Se+Ae,y2:Le+Ae})}}}}}_queryCellCircle(r,l,m,_,x,E,R,B){const V=R.circle,U=R.seenUids,Q=this.boxCells[x];if(Q!==null){const ce=this.bboxes;for(const Me of Q)if(!U.box[Me]){U.box[Me]=!0;const Se=4*Me;if(this._circleAndRectCollide(V.x,V.y,V.radius,ce[Se+0],ce[Se+1],ce[Se+2],ce[Se+3])&&(!B||B(this.boxKeys[Me])))return E.push(!0),!0}}const ee=this.circleCells[x];if(ee!==null){const ce=this.circles;for(const Me of ee)if(!U.circle[Me]){U.circle[Me]=!0;const Se=3*Me;if(this._circlesCollide(ce[Se],ce[Se+1],ce[Se+2],V.x,V.y,V.radius)&&(!B||B(this.circleKeys[Me])))return E.push(!0),!0}}}_forEachCell(r,l,m,_,x,E,R,B){const V=this._convertToXCellCoord(r),U=this._convertToYCellCoord(l),Q=this._convertToXCellCoord(m),ee=this._convertToYCellCoord(_);for(let ce=V;ce<=Q;ce++)for(let Me=U;Me<=ee;Me++)if(x.call(this,r,l,m,_,this.xCellCount*Me+ce,E,R,B))return}_convertToXCellCoord(r){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(r*this.xScale)))}_convertToYCellCoord(r){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(r*this.yScale)))}_circlesCollide(r,l,m,_,x,E){const R=_-r,B=x-l,V=m+E;return V*V>R*R+B*B}_circleAndRectCollide(r,l,m,_,x,E,R){const B=(E-_)/2,V=Math.abs(r-(_+B));if(V>B+m)return!1;const U=(R-x)/2,Q=Math.abs(l-(x+U));if(Q>U+m)return!1;if(V<=B||Q<=U)return!0;const ee=V-B,ce=Q-U;return ee*ee+ce*ce<=m*m}}const jo={unknown:0,flipRequired:1,flipNotRequired:2},an=Math.tan(85*Math.PI/180);function Ye(p,r,l,m,_,x,E){const R=c.ab.mat4.create();if(l)if(x.name==="globe"){const B=c.bo(_,r);c.ab.mat4.multiply(R,R,B)}else{const B=c.ab.mat2.invert([],E);R[0]=B[0],R[1]=B[1],R[4]=B[2],R[5]=B[3],m||c.ab.mat4.rotateZ(R,R,_.angle)}else c.ab.mat4.multiply(R,_.labelPlaneMatrix,p);return R}function Ce(p,r,l,m,_,x,E){const R=Ye(p,r,l,m,_,x,E);return x.name==="globe"&&l||(R[2]=R[6]=R[10]=R[14]=0),R}function Ke(p,r,l,m,_,x,E){if(l){if(x.name==="globe"){const R=Ye(p,r,l,m,_,x,E);return c.ab.mat4.invert(R,R),c.ab.mat4.multiply(R,p,R),R}{const R=c.ab.mat4.clone(p),B=c.ab.mat4.identity([]);return B[0]=E[0],B[1]=E[1],B[4]=E[2],B[5]=E[3],c.ab.mat4.multiply(R,R,B),m||c.ab.mat4.rotateZ(R,R,-_.angle),R}}return _.glCoordMatrix}function Be(p,r,l,m){const _=[p,r,l,1];l?c.ab.vec4.transformMat4(_,_,m):Ni(_,_,m);const x=_[3];return _[0]/=x,_[1]/=x,_[2]/=x,_}function Nt(p,r){return Math.min(.5+p/r*.5,1.5)}function dn(p,r){const l=p[0]/p[3],m=p[1]/p[3];return l>=-r[0]&&l<=r[0]&&m>=-r[1]&&m<=r[1]}function tr(p,r,l,m,_,x,E,R,B,V){const U=l.transform,Q=m?p.textSizeData:p.iconSizeData,ee=c.bp(Q,l.transform.zoom),ce=U.projection.name==="globe",Me=[256/l.width*2+1,256/l.height*2+1],Se=m?p.text.dynamicLayoutVertexArray:p.icon.dynamicLayoutVertexArray;Se.clear();let Le=null;ce&&(Le=m?p.text.globeExtVertexArray:p.icon.globeExtVertexArray);const Ae=p.lineVertexArray,rt=m?p.text.placedSymbolArray:p.icon.placedSymbolArray,St=l.transform.width/l.transform.height;let _t,Vt=!1;for(let Lt=0;Lt<rt.length;Lt++){const Bt=rt.get(Lt),{numGlyphs:Dt,writingMode:rn}=Bt;if(rn!==c.bq.vertical||Vt||_t===c.bq.horizontal||(Vt=!0),_t=rn,(Bt.hidden||rn===c.bq.vertical)&&!Vt){Oi(Dt,Se);continue}Vt=!1;const xn=new c.P(Bt.tileAnchorX,Bt.tileAnchorY);let{x:dr,y:Jn,z:Br}=U.projection.projectTilePoint(xn.x,xn.y,V.canonical);if(B){const[jr,Ci,Li]=B(xn);dr+=jr,Jn+=Ci,Br+=Li}const Ar=[dr,Jn,Br,1];if(c.ab.vec4.transformMat4(Ar,Ar,r),!dn(Ar,Me)){Oi(Dt,Se);continue}const Zn=Ar[3],vr=Nt(l.transform.getCameraToCenterDistance(U.projection),Zn),oi=c.br(Q,ee,Bt),jn=E?oi/vr:oi*vr,Vr=Be(dr,Jn,Br,_);if(Vr[3]<=0){Oi(Dt,Se);continue}let _r={};const $i=E?null:B,ti=Mr(Bt,jn,!1,R,r,_,x,p.glyphOffsetArray,Ae,Se,Le,Vr,xn,_r,St,$i,U.projection,V,E);Vt=ti.useVertical,$i&&ti.needsFlipping&&(_r={}),(ti.notEnoughRoom||Vt||ti.needsFlipping&&Mr(Bt,jn,!0,R,r,_,x,p.glyphOffsetArray,Ae,Se,Le,Vr,xn,_r,St,$i,U.projection,V,E).notEnoughRoom)&&Oi(Dt,Se)}m?(p.text.dynamicLayoutVertexBuffer.updateData(Se),Le&&p.text.globeExtVertexBuffer&&p.text.globeExtVertexBuffer.updateData(Le)):(p.icon.dynamicLayoutVertexBuffer.updateData(Se),Le&&p.icon.globeExtVertexBuffer&&p.icon.globeExtVertexBuffer.updateData(Le))}function Rr(p,r,l,m,_,x,E,R,B,V,U,Q,ee,ce,Me,Se){const{lineStartIndex:Le,glyphStartIndex:Ae,segment:rt}=R,St=Ae+R.numGlyphs,_t=Le+R.lineLength,Vt=r.getoffsetX(Ae),Lt=r.getoffsetX(St-1),Bt=Mo(p*Vt,l,m,_,x,E,rt,Le,_t,B,V,U,Q,ee,!0,ce,Me,Se);if(!Bt)return null;const Dt=Mo(p*Lt,l,m,_,x,E,rt,Le,_t,B,V,U,Q,ee,!0,ce,Me,Se);return Dt?{first:Bt,last:Dt}:null}function Lr(p,r,l,m){return p===c.bq.horizontal&&Math.abs(m)>Math.abs(l)?{useVertical:!0}:p===c.bq.vertical?m>0?{needsFlipping:!0}:null:r!==jo.unknown&&function(_,x){return _===0||Math.abs(x/_)>an}(l,m)?r===jo.flipRequired?{needsFlipping:!0}:null:l<0?{needsFlipping:!0}:null}function Mr(p,r,l,m,_,x,E,R,B,V,U,Q,ee,ce,Me,Se,Le,Ae,rt){const St=r/24,_t=p.lineOffsetX*St,Vt=p.lineOffsetY*St,{lineStartIndex:Lt,glyphStartIndex:Bt,numGlyphs:Dt,segment:rn,writingMode:xn,flipState:dr}=p,Jn=Lt+p.lineLength,Br=Ar=>{if(U){const[jn,Vr,_r]=Ar.up,$i=V.length;c.bs(U,$i+0,jn,Vr,_r),c.bs(U,$i+1,jn,Vr,_r),c.bs(U,$i+2,jn,Vr,_r),c.bs(U,$i+3,jn,Vr,_r)}const[Zn,vr,oi]=Ar.point;c.bt(V,Zn,vr,oi,Ar.angle)};if(Dt>1){const Ar=Rr(St,R,_t,Vt,l,Q,ee,p,B,x,ce,Se,!1,Le,Ae,rt);if(!Ar)return{notEnoughRoom:!0};if(m&&!l){let[Zn,vr,oi]=Ar.first.point,[jn,Vr,_r]=Ar.last.point;[Zn,vr]=Be(Zn,vr,oi,E),[jn,Vr]=Be(jn,Vr,_r,E);const $i=Lr(xn,dr,(jn-Zn)*Me,Vr-vr);if(p.flipState=$i&&$i.needsFlipping?jo.flipRequired:jo.flipNotRequired,$i)return $i}Br(Ar.first);for(let Zn=Bt+1;Zn<Bt+Dt-1;Zn++){const vr=Mo(St*R.getoffsetX(Zn),_t,Vt,l,Q,ee,rn,Lt,Jn,B,x,ce,Se,!1,!1,Le,Ae,rt);if(!vr)return V.length-=4*(Zn-Bt),{notEnoughRoom:!0};Br(vr)}Br(Ar.last)}else{if(m&&!l){const Zn=Be(ee.x,ee.y,0,_),vr=Lt+rn+1,oi=new c.P(B.getx(vr),B.gety(vr)),jn=Be(oi.x,oi.y,0,_),Vr=jn[3]>0?jn:zi(ee,oi,Zn,1,_,void 0,Le,Ae.canonical),_r=Lr(xn,dr,(Vr[0]-Zn[0])*Me,Vr[1]-Zn[1]);if(p.flipState=_r&&_r.needsFlipping?jo.flipRequired:jo.flipNotRequired,_r)return _r}const Ar=Mo(St*R.getoffsetX(Bt),_t,Vt,l,Q,ee,rn,Lt,Jn,B,x,ce,Se,!1,!1,Le,Ae,rt);if(!Ar)return{notEnoughRoom:!0};Br(Ar)}return{}}function vi(p,r,l,m,_){const{x,y:E,z:R}=m.projectTilePoint(p.x,p.y,r);if(!_)return Be(x,E,R,l);const[B,V,U]=_(p);return Be(x+B,E+V,R+U,l)}function zi(p,r,l,m,_,x,E,R){const B=vi(p.sub(r)._unit()._add(p),R,_,E,x);return c.ab.vec3.sub(B,l,B),c.ab.vec3.normalize(B,B),c.ab.vec3.scaleAndAdd(B,l,B,m)}function Mo(p,r,l,m,_,x,E,R,B,V,U,Q,ee,ce,Me,Se,Le,Ae){const rt=m?p-r:p+r;let St=rt>0?1:-1,_t=0;m&&(St*=-1,_t=Math.PI),St<0&&(_t+=Math.PI);let Vt=R+E+(St>0?0:1)|0,Lt=_,Bt=_,Dt=0,rn=0;const xn=Math.abs(rt),dr=[],Jn=[];let Br=x,Ar=Br;const Zn=()=>zi(Ar,Br,Bt,xn-Dt+1,U,ee,Se,Le.canonical);for(;Dt+rn<=xn;){if(Vt+=St,Vt<R||Vt>=B)return null;if(Bt=Lt,Ar=Br,dr.push(Bt),ce&&Jn.push(Ar),Br=new c.P(V.getx(Vt),V.gety(Vt)),Lt=Q[Vt],!Lt){const Ci=vi(Br,Le.canonical,U,Se,ee);Lt=Ci[3]>0?Q[Vt]=Ci:Zn()}Dt+=rn,rn=c.ab.vec3.distance(Bt,Lt)}Me&&ee&&(Q[Vt]&&(Lt=Zn(),rn=c.ab.vec3.distance(Bt,Lt)),Q[Vt]=Lt);const vr=(xn-Dt)/rn,oi=Br.sub(Ar)._mult(vr)._add(Ar),jn=c.ab.vec3.sub([],Lt,Bt),Vr=c.ab.vec3.scaleAndAdd([],Bt,jn,vr);let _r=[0,0,1],$i=jn[0],ti=jn[1];if(Ae&&(_r=Se.upVector(Le.canonical,oi.x,oi.y),_r[0]!==0||_r[1]!==0||_r[2]!==1)){const Ci=[_r[2],0,-_r[0]],Li=c.ab.vec3.cross([],_r,Ci);c.ab.vec3.normalize(Ci,Ci),c.ab.vec3.normalize(Li,Li),$i=c.ab.vec3.dot(jn,Ci),ti=c.ab.vec3.dot(jn,Li)}if(l){const Ci=c.ab.vec3.cross([],_r,jn);c.ab.vec3.normalize(Ci,Ci),c.ab.vec3.scaleAndAdd(Vr,Vr,Ci,l*St)}const jr=_t+Math.atan2(ti,$i);return dr.push(Vr),ce&&Jn.push(oi),{point:Vr,angle:jr,path:dr,tilePath:Jn,up:_r}}function Oi(p,r){const l=r.length,m=l+4*p;r.resize(m),r.float32.fill(-1/0,4*l,4*m)}function Ni(p,r,l){const m=r[0],_=r[1];return p[0]=l[0]*m+l[4]*_+l[12],p[1]=l[1]*m+l[5]*_+l[13],p[3]=l[3]*m+l[7]*_+l[15],p}const hi=100;class Wi{constructor(r,l,m=new Yo(r.width+200,r.height+200,25),_=new Yo(r.width+200,r.height+200,25)){this.transform=r,this.grid=m,this.ignoredGrid=_,this.pitchfactor=Math.cos(r._pitch)*r.cameraToCenterDistance,this.screenRightBoundary=r.width+hi,this.screenBottomBoundary=r.height+hi,this.gridRightBoundary=r.width+200,this.gridBottomBoundary=r.height+200,this.fogState=l}placeCollisionBox(r,l,m,_,x,E,R,B){let V=m.projectedAnchorX,U=m.projectedAnchorY,Q=m.projectedAnchorZ;const ee=m.elevation,ce=m.tileID,Me=r.getProjection();if(ee&&ce){const[Lt,Bt,Dt]=Me.upVector(ce.canonical,m.tileAnchorX,m.tileAnchorY),rn=Me.upVectorScale(ce.canonical,this.transform.center.lat,this.transform.worldSize).metersToTile;V+=Lt*ee*rn,U+=Bt*ee*rn,Q+=Dt*ee*rn}const Se=this.projectAndGetPerspectiveRatio(R,V,U,Q,m.tileID,Me.name==="globe"||!!ee||this.transform.pitch>0,Me),Le=E*Se.perspectiveRatio,Ae=(m.x1*l+_.x-m.padding)*Le+Se.point.x,rt=(m.y1*l+_.y-m.padding)*Le+Se.point.y,St=(m.x2*l+_.x+m.padding)*Le+Se.point.x,_t=(m.y2*l+_.y+m.padding)*Le+Se.point.y,Vt=Se.perspectiveRatio<=.55||Se.occluded;return!this.isInsideGrid(Ae,rt,St,_t)||!x&&this.grid.hitTest(Ae,rt,St,_t,B)||Vt?{box:[],offscreen:!1,occluded:Se.occluded}:{box:[Ae,rt,St,_t],offscreen:this.isOffscreen(Ae,rt,St,_t),occluded:!1}}placeCollisionCircles(r,l,m,_,x,E,R,B,V,U,Q,ee,ce,Me,Se){const Le=[],Ae=this.transform.elevation,rt=r.getProjection(),St=Ae?Ae.getAtTileOffsetFunc(Se,this.transform.center.lat,this.transform.worldSize,rt):null,_t=new c.P(m.tileAnchorX,m.tileAnchorY);let{x:Vt,y:Lt,z:Bt}=rt.projectTilePoint(_t.x,_t.y,Se.canonical);if(St){const[oi,jn,Vr]=St(_t);Vt+=oi,Lt+=jn,Bt+=Vr}const Dt=rt.name==="globe",rn=this.projectAndGetPerspectiveRatio(R,Vt,Lt,Bt,Se,Dt||!!Ae||this.transform.pitch>0,rt),{perspectiveRatio:xn}=rn,dr=(Q?E/xn:E*xn)/c.bw,Jn=Be(Vt,Lt,Bt,B),Br=rn.signedDistanceFromCamera>0?Rr(dr,x,m.lineOffsetX*dr,m.lineOffsetY*dr,!1,Jn,_t,m,_,B,{},Ae&&!Q?St:null,Q&&!!Ae,rt,Se,Q):null;let Ar=!1,Zn=!1,vr=!0;if(Br&&!rn.occluded){const oi=.5*ce*xn+Me,jn=new c.P(-100,-100),Vr=new c.P(this.screenRightBoundary,this.screenBottomBoundary),_r=new bi,{first:$i,last:ti}=Br,jr=$i.path.length;let Ci=[];for(let vo=jr-1;vo>=1;vo--)Ci.push($i.path[vo]);for(let vo=1;vo<ti.path.length;vo++)Ci.push(ti.path[vo]);const Li=2.5*oi;V&&(Ci=Ci.map(([vo,la,Wo],Ko)=>(St&&!Dt&&(Wo=St(Ko<jr-1?$i.tilePath[jr-1-Ko]:ti.tilePath[Ko-jr+2])[2]),Be(vo,la,Wo,V))),Ci.some(vo=>vo[3]<=0)&&(Ci=[]));let ro=[];if(Ci.length>0){let vo=1/0,la=-1/0,Wo=1/0,Ko=-1/0;for(const ya of Ci)vo=Math.min(vo,ya[0]),Wo=Math.min(Wo,ya[1]),la=Math.max(la,ya[0]),Ko=Math.max(Ko,ya[1]);la>=jn.x&&vo<=Vr.x&&Ko>=jn.y&&Wo<=Vr.y&&(ro=[Ci.map(ya=>new c.P(ya[0],ya[1]))],(vo<jn.x||la>Vr.x||Wo<jn.y||Ko>Vr.y)&&(ro=c.bu(ro,jn.x,jn.y,Vr.x,Vr.y)))}for(const vo of ro){_r.reset(vo,.25*oi);let la=0;la=_r.length<=.5*oi?1:Math.ceil(_r.paddedLength/Li)+1;for(let Wo=0;Wo<la;Wo++){const Ko=Wo/Math.max(la-1,1),ya=_r.lerp(Ko),as=ya.x+hi,ms=ya.y+hi;Le.push(as,ms,oi,0);const ul=as-oi,Ks=ms-oi,Pa=as+oi,us=ms+oi;if(vr=vr&&this.isOffscreen(ul,Ks,Pa,us),Zn=Zn||this.isInsideGrid(ul,Ks,Pa,us),!l&&this.grid.hitTestCircle(as,ms,oi,ee)&&(Ar=!0,!U))return{circles:[],offscreen:!1,collisionDetected:Ar,occluded:!1}}}}return{circles:!U&&Ar||!Zn?[]:Le,offscreen:vr,collisionDetected:Ar,occluded:rn.occluded}}queryRenderedSymbols(r){if(r.length===0||this.grid.keysLength()===0&&this.ignoredGrid.keysLength()===0)return{};const l=[];let m=1/0,_=1/0,x=-1/0,E=-1/0;for(const U of r){const Q=new c.P(U.x+hi,U.y+hi);m=Math.min(m,Q.x),_=Math.min(_,Q.y),x=Math.max(x,Q.x),E=Math.max(E,Q.y),l.push(Q)}const R=this.grid.query(m,_,x,E).concat(this.ignoredGrid.query(m,_,x,E)),B={},V={};for(const U of R){const Q=U.key;if(B[Q.bucketInstanceId]===void 0&&(B[Q.bucketInstanceId]={}),B[Q.bucketInstanceId][Q.featureIndex])continue;const ee=[new c.P(U.x1,U.y1),new c.P(U.x2,U.y1),new c.P(U.x2,U.y2),new c.P(U.x1,U.y2)];c.bv(l,ee)&&(B[Q.bucketInstanceId][Q.featureIndex]=!0,V[Q.bucketInstanceId]===void 0&&(V[Q.bucketInstanceId]=[]),V[Q.bucketInstanceId].push(Q.featureIndex))}return V}insertCollisionBox(r,l,m,_,x){(l?this.ignoredGrid:this.grid).insert({bucketInstanceId:m,featureIndex:_,collisionGroupID:x},r[0],r[1],r[2],r[3])}insertCollisionCircles(r,l,m,_,x){const E=l?this.ignoredGrid:this.grid,R={bucketInstanceId:m,featureIndex:_,collisionGroupID:x};for(let B=0;B<r.length;B+=4)E.insertCircle(R,r[B],r[B+1],r[B+2])}projectAndGetPerspectiveRatio(r,l,m,_,x,E,R){const B=[l,m,_,1];let V=!1;_||this.transform.pitch>0?(c.ab.vec4.transformMat4(B,B,r),this.fogState&&x&&R.name!=="globe"&&(V=function(ee,ce,Me,Se,Le,Ae){const rt=Ae.calculateFogTileMatrix(Le),St=[ce,Me,Se];return c.ab.vec3.transformMat4(St,St,rt),nt(ee,c.ab.vec3.length(St),Ae.pitch,Ae._fov)}(this.fogState,l,m,_,x.toUnwrapped(),this.transform)>.9)):Ni(B,B,r);const U=B[3];return{point:new c.P((B[0]/U+1)/2*this.transform.width+hi,(-B[1]/U+1)/2*this.transform.height+hi),perspectiveRatio:Math.min(.5+this.transform.getCameraToCenterDistance(R)/U*.5,1.5),signedDistanceFromCamera:U,occluded:E&&B[2]>U||V}}isOffscreen(r,l,m,_){return m<hi||r>=this.screenRightBoundary||_<hi||l>this.screenBottomBoundary}isInsideGrid(r,l,m,_){return m>=0&&r<this.gridRightBoundary&&_>=0&&l<this.gridBottomBoundary}getViewportMatrix(){const r=c.ab.mat4.identity([]);return c.ab.mat4.translate(r,r,[-100,-100,0]),r}}function Hi(p,r,l){const m=r.createTileMatrix(p,p.worldSize,l.toUnwrapped());return c.ab.mat4.multiply(new Float32Array(16),p.projMatrix,m)}function Po(p,r,l){if(r.projection.name===l.projection.name)return p.projMatrix;const m=l.clone();return m.setProjection(r.projection),Hi(m,r.getProjection(),p)}function aa(p,r,l){return r.name===l.projection.name?p.projMatrix:Hi(l,r,p)}class ha{constructor(r,l,m,_){this.opacity=r?Math.max(0,Math.min(1,r.opacity+(r.placed?l:-l))):_&&m?1:0,this.placed=m}isHidden(){return this.opacity===0&&!this.placed}}class Ta{constructor(r,l,m,_,x,E=!1){this.text=new ha(r?r.text:null,l,m,x),this.icon=new ha(r?r.icon:null,l,_,x),this.clipped=E}isHidden(){return this.text.isHidden()&&this.icon.isHidden()}}class Ma{constructor(r,l,m,_=!1){this.text=r,this.icon=l,this.skipFade=m,this.clipped=_}}class Sa{constructor(){this.invProjMatrix=c.ab.mat4.create(),this.viewportMatrix=c.ab.mat4.create(),this.circles=[]}}class ba{constructor(r,l,m,_,x){this.bucketInstanceId=r,this.featureIndex=l,this.sourceLayerIndex=m,this.bucketIndex=_,this.tileID=x}}class ja{constructor(r){this.crossSourceCollisions=r,this.maxGroupID=0,this.collisionGroups={}}get(r){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[r]){const l=++this.maxGroupID;this.collisionGroups[r]={ID:l,predicate:m=>m.collisionGroupID===l}}return this.collisionGroups[r]}}function wa(p,r,l,m,_){const{horizontalAlign:x,verticalAlign:E}=c.bD(p),R=-(x-.5)*r,B=-(E-.5)*l,V=c.bC(p,m);return new c.P(R+V[0]*_,B+V[1]*_)}function Ps(p,r,l,m,_){const x=new c.P(p,r);return l&&x._rotate(m?_:-_),x}class Ts{constructor(r,l,m,_,x,E){this.transform=r.clone(),this.projection=r.projection.name,this.collisionIndex=new Wi(this.transform,x),this.buildingIndex=E,this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=l,this.retainedQueryData={},this.collisionGroups=new ja(m),this.collisionCircleArrays={},this.prevPlacement=_,_&&(_.prevPlacement=void 0),this.placedOrientations={}}getBucketParts(r,l,m,_,x=1){const E=m.getBucket(l),R=m.latestFeatureIndex;if(!E||!R||l.fqid!==E.layerIds[0])return;const B=E.layers[0].layout,V=E.layers[0].paint,U=m.collisionBoxArray,Q=Math.pow(2,this.transform.zoom-m.tileID.overscaledZ),ee=m.tileSize/c.ag,ce=m.tileID.toUnwrapped();this.transform.setProjection(E.projection);const Me=(Se=m.tileID,Le=E.getProjection(),Ae=this.transform,Le.name===this.projection?Ae.calculateProjMatrix(Se.toUnwrapped()):Hi(Ae,Le,Se));var Se,Le,Ae;const rt=B.get("text-pitch-alignment")==="map",St=B.get("text-rotation-alignment")==="map";l.compileFilter(l.options);const _t=l.dynamicFilter(),Vt=l.dynamicFilterNeedsFeature(),Lt=this.transform.calculatePixelsToTileUnitsMatrix(m),Bt=Ce(Me,m.tileID.canonical,rt,St,this.transform,E.getProjection(),Lt);let Dt=null;if(rt){const oi=Ke(Me,m.tileID.canonical,rt,St,this.transform,E.getProjection(),Lt);Dt=c.ab.mat4.multiply([],this.transform.labelPlaneMatrix,oi)}let rn=null;_t&&m.latestFeatureIndex&&(rn={unwrappedTileID:ce,dynamicFilter:_t,dynamicFilterNeedsFeature:Vt}),this.retainedQueryData[E.bucketInstanceId]=new ba(E.bucketInstanceId,R,E.sourceLayerIndex,E.index,m.tileID);const[xn,dr]=E.layers[0].layout.get("text-size-scale-range"),Jn=c.aw(x,xn,dr),[Br,Ar]=B.get("icon-size-scale-range"),Zn=c.aw(x,Br,Ar),vr={bucket:E,layout:B,paint:V,posMatrix:Me,textLabelPlaneMatrix:Bt,labelToScreenMatrix:Dt,clippingData:rn,scale:Q,textPixelRatio:ee,holdingForFade:m.holdingForFade(),collisionBoxArray:U,partiallyEvaluatedTextSize:c.bp(E.textSizeData,this.transform.zoom,Jn),partiallyEvaluatedIconSize:c.bp(E.iconSizeData,this.transform.zoom,Zn),collisionGroup:this.collisionGroups.get(E.sourceID),latestFeatureIndex:m.latestFeatureIndex};if(_)for(const oi of E.sortKeyRanges){const{sortKey:jn,symbolInstanceStart:Vr,symbolInstanceEnd:_r}=oi;r.push({sortKey:jn,symbolInstanceStart:Vr,symbolInstanceEnd:_r,parameters:vr})}else r.push({symbolInstanceStart:0,symbolInstanceEnd:E.symbolInstances.length,parameters:vr})}attemptAnchorPlacement(r,l,m,_,x,E,R,B,V,U,Q,ee,ce,Me,Se,Le,Ae,rt){const{textOffset0:St,textOffset1:_t,crossTileID:Vt}=ee,Lt=[St,_t],Bt=wa(r,m,_,Lt,x),Dt=this.collisionIndex.placeCollisionBox(Me,x,l,Ps(Bt.x,Bt.y,E,R,this.transform.angle),Q,B,V,U.predicate);if(Le){const rn=Me.getSymbolInstanceIconSize(rt,this.transform.zoom,ee.placedIconSymbolIndex);if(this.collisionIndex.placeCollisionBox(Me,rn,Le,Ps(Bt.x,Bt.y,E,R,this.transform.angle),Q,B,V,U.predicate).box.length===0)return}if(Dt.box.length>0){let rn;return this.prevPlacement&&this.prevPlacement.variableOffsets[Vt]&&this.prevPlacement.placements[Vt]&&this.prevPlacement.placements[Vt].text&&(rn=this.prevPlacement.variableOffsets[Vt].anchor),this.variableOffsets[Vt]={textOffset:Lt,width:m,height:_,anchor:r,textScale:x,prevAnchor:rn},this.markUsedJustification(Me,r,ee,Se),Me.allowVerticalPlacement&&(this.markUsedOrientation(Me,Se,ee),this.placedOrientations[Vt]=Se),{shift:Bt,placedGlyphBoxes:Dt}}}placeLayerBucketPart(r,l,m,_,x=1){const{bucket:E,layout:R,paint:B,posMatrix:V,textLabelPlaneMatrix:U,labelToScreenMatrix:Q,clippingData:ee,textPixelRatio:ce,holdingForFade:Me,collisionBoxArray:Se,partiallyEvaluatedTextSize:Le,partiallyEvaluatedIconSize:Ae,collisionGroup:rt,latestFeatureIndex:St}=r.parameters,_t=R.get("text-optional"),Vt=R.get("icon-optional"),Lt=R.get("text-allow-overlap"),Bt=R.get("icon-allow-overlap"),Dt=R.get("text-rotation-alignment")==="map",rn=R.get("text-pitch-alignment")==="map",xn=R.get("symbol-z-elevate"),dr=B.get("symbol-z-offset"),Jn=R.get("symbol-elevation-reference")==="sea",[Br,Ar]=R.get("text-size-scale-range"),[Zn,vr]=R.get("icon-size-scale-range"),oi=c.aw(x,Br,Ar),jn=c.aw(x,Zn,vr);this.transform.setProjection(E.projection);let Vr=Lt&&(Bt||!E.hasIconData()||Vt),_r=Bt&&(Lt||!E.hasTextData()||_t);const $i=!dr.isConstant();!E.collisionArrays&&Se&&E.deserializeCollisionBoxes(Se),m&&_&&E.updateCollisionDebugBuffers(this.transform.zoom,Se,oi,jn);const ti=(jr,Ci,Li)=>{const{crossTileID:ro,numVerticalGlyphVertices:vo}=jr;let la=null;if(ee&&ee.dynamicFilterNeedsFeature||$i){const ks=this.retainedQueryData[E.bucketInstanceId];la=St.loadFeature({featureIndex:jr.featureIndex,bucketIndex:ks.bucketIndex,sourceLayerIndex:ks.sourceLayerIndex,layoutVertexArrayOffset:0})}if(ee&&!(0,ee.dynamicFilter)({zoom:this.transform.zoom,pitch:this.transform.pitch},la,this.retainedQueryData[E.bucketInstanceId].tileID.canonical,new c.P(jr.tileAnchorX,jr.tileAnchorY),this.transform.calculateDistanceTileData(ee.unwrappedTileID)))return this.placements[ro]=new Ma(!1,!1,!1,!0),void l.add(ro);const Wo=dr.evaluate(la,{});if(l.has(ro))return;if(Me)return void(this.placements[ro]=new Ma(!1,!1,!1));let Ko=!1,ya=!1,as=!0,ms=!1,ul=!1,Ks=null,Pa={box:null,offscreen:null,occluded:null},us={box:null,offscreen:null,occluded:null},Do=null,xa=null,ys=null,xs=0,dl=0,Gl=0;Li.textFeatureIndex?xs=Li.textFeatureIndex:jr.useRuntimeCollisionCircles&&(xs=jr.featureIndex),Li.verticalTextFeatureIndex&&(dl=Li.verticalTextFeatureIndex);const Bl=ks=>{ks.tileID=this.retainedQueryData[E.bucketInstanceId].tileID;const Rs=this.transform.elevation;ks.elevation=Jn?Wo:Wo+(Rs?Rs.getAtTileOffset(ks.tileID,ks.tileAnchorX,ks.tileAnchorY):0),ks.elevation+=jr.zOffset},Fl=Li.textBox;if(Fl){Bl(Fl);const ks=rs=>{let fl=c.bq.horizontal;if(E.allowVerticalPlacement&&!rs&&this.prevPlacement){const nc=this.prevPlacement.placedOrientations[ro];nc&&(this.placedOrientations[ro]=nc,fl=nc,this.markUsedOrientation(E,fl,jr))}return fl},Rs=(rs,fl)=>{if(E.allowVerticalPlacement&&vo>0&&Li.verticalTextBox){for(const nc of E.writingModes)if(nc===c.bq.vertical?(Pa=fl(),us=Pa):Pa=rs(),Pa&&Pa.box&&Pa.box.length)break}else Pa=rs()};if(R.get("text-variable-anchor")){let rs=R.get("text-variable-anchor");if(this.prevPlacement&&this.prevPlacement.variableOffsets[ro]){const Ns=this.prevPlacement.variableOffsets[ro];rs.indexOf(Ns.anchor)>0&&(rs=rs.filter(Tc=>Tc!==Ns.anchor),rs.unshift(Ns.anchor))}const fl=(Ns,Tc,Uc)=>{const Wc=E.getSymbolInstanceTextSize(Le,jr,this.transform.zoom,Ci),Mc=(Ns.x2-Ns.x1)*Wc+2*Ns.padding,bu=(Ns.y2-Ns.y1)*Wc+2*Ns.padding,cu=jr.hasIconTextFit&&!Bt?Tc:null;cu&&Bl(cu);let pc={box:[],offscreen:!1,occluded:!1};const Xd=Lt?2*rs.length:rs.length;for(let Au=0;Au<Xd;++Au){const xu=this.attemptAnchorPlacement(rs[Au%rs.length],Ns,Mc,bu,Wc,Dt,rn,ce,V,rt,Au>=rs.length,jr,Ci,E,Uc,cu,Le,Ae);if(xu&&(pc=xu.placedGlyphBoxes,pc&&pc.box&&pc.box.length)){Ko=!0,Ks=xu.shift;break}}return pc};Rs(()=>fl(Fl,Li.iconBox,c.bq.horizontal),()=>{const Ns=Li.verticalTextBox;return Ns&&Bl(Ns),E.allowVerticalPlacement&&!(Pa&&Pa.box&&Pa.box.length)&&vo>0&&Ns?fl(Ns,Li.verticalIconBox,c.bq.vertical):{box:null,offscreen:null,occluded:null}}),Pa&&(Ko=Pa.box,as=Pa.offscreen,ms=Pa.occluded);const nc=ks(!(!Pa||!Pa.box));if(!Ko&&this.prevPlacement){const Ns=this.prevPlacement.variableOffsets[ro];Ns&&(this.variableOffsets[ro]=Ns,this.markUsedJustification(E,Ns.anchor,jr,nc))}}else{const rs=(fl,nc)=>{const Ns=E.getSymbolInstanceTextSize(Le,jr,this.transform.zoom,Ci,x),Tc=this.collisionIndex.placeCollisionBox(E,Ns,fl,new c.P(0,0),Lt,ce,V,rt.predicate);return Tc&&Tc.box&&Tc.box.length&&(this.markUsedOrientation(E,nc,jr),this.placedOrientations[ro]=nc),Tc};Rs(()=>rs(Fl,c.bq.horizontal),()=>{const fl=Li.verticalTextBox;return E.allowVerticalPlacement&&vo>0&&fl?(Bl(fl),rs(fl,c.bq.vertical)):{box:null,offscreen:null,occluded:null}}),ks(!!(Pa&&Pa.box&&Pa.box.length))}}if(Do=Pa,Ko=Do&&Do.box&&Do.box.length>0,as=Do&&Do.offscreen,ms=Do&&Do.occluded,jr.useRuntimeCollisionCircles){const ks=E.text.placedSymbolArray.get(jr.centerJustifiedTextSymbolIndex>=0?jr.centerJustifiedTextSymbolIndex:jr.verticalPlacedTextSymbolIndex),Rs=c.br(E.textSizeData,Le,ks),rs=R.get("text-padding");xa=this.collisionIndex.placeCollisionCircles(E,Lt,ks,E.lineVertexArray,E.glyphOffsetArray,Rs,V,U,Q,m,rn,rt.predicate,jr.collisionCircleDiameter*Rs/c.bw,rs,this.retainedQueryData[E.bucketInstanceId].tileID),Ko=Lt||xa.circles.length>0&&!xa.collisionDetected,as=as&&xa.offscreen,ms=xa.occluded}if(Li.iconFeatureIndex&&(Gl=Li.iconFeatureIndex),Li.iconBox){const ks=Rs=>{Bl(Rs);const rs=jr.hasIconTextFit&&Ks?Ps(Ks.x,Ks.y,Dt,rn,this.transform.angle):new c.P(0,0),fl=E.getSymbolInstanceIconSize(Ae,this.transform.zoom,jr.placedIconSymbolIndex);return this.collisionIndex.placeCollisionBox(E,fl,Rs,rs,Bt,ce,V,rt.predicate)};us&&us.box&&us.box.length&&Li.verticalIconBox?(ys=ks(Li.verticalIconBox),ya=ys.box.length>0):(ys=ks(Li.iconBox),ya=ys.box.length>0),as=as&&ys.offscreen,ul=ys.occluded}const eu=_t||jr.numHorizontalGlyphVertices===0&&vo===0,Ic=Vt||jr.numIconVertices===0;if(eu||Ic?Ic?eu||(ya=ya&&Ko):Ko=ya&&Ko:ya=Ko=ya&&Ko,Ko&&Do&&Do.box&&this.collisionIndex.insertCollisionBox(Do.box,R.get("text-ignore-placement"),E.bucketInstanceId,us&&us.box&&dl?dl:xs,rt.ID),ya&&ys&&this.collisionIndex.insertCollisionBox(ys.box,R.get("icon-ignore-placement"),E.bucketInstanceId,Gl,rt.ID),xa&&(Ko&&this.collisionIndex.insertCollisionCircles(xa.circles,R.get("text-ignore-placement"),E.bucketInstanceId,xs,rt.ID),m)){const ks=E.bucketInstanceId;let Rs=this.collisionCircleArrays[ks];Rs===void 0&&(Rs=this.collisionCircleArrays[ks]=new Sa);for(let rs=0;rs<xa.circles.length;rs+=4)Rs.circles.push(xa.circles[rs+0]),Rs.circles.push(xa.circles[rs+1]),Rs.circles.push(xa.circles[rs+2]),Rs.circles.push(xa.collisionDetected?1:0)}const al=E.projection.name!=="globe";Vr=Vr&&(al||!ms),_r=_r&&(al||!ul),this.placements[ro]=new Ma(Ko||Vr,ya||_r,as||E.justReloaded),l.add(ro)};if(xn&&this.buildingIndex&&(this.buildingIndex.updateZOffset(E,this.retainedQueryData[E.bucketInstanceId].tileID),E.updateZOffset()),E.sortFeaturesByY){const jr=E.getSortedSymbolIndexes(this.transform.angle);for(let Ci=jr.length-1;Ci>=0;--Ci){const Li=jr[Ci];ti(E.symbolInstances.get(Li),Li,E.collisionArrays[Li])}E.hasAnyZOffset&&c.w(`${E.layerIds[0]} layer symbol-z-elevate: symbols are not sorted by elevation if symbol-z-order is evaluated to viewport-y`)}else if(E.hasAnyZOffset){const jr=E.getSortedIndexesByZOffset();for(let Ci=0;Ci<jr.length;++Ci){const Li=jr[Ci];ti(E.symbolInstances.get(Li),Li,E.collisionArrays[Li])}}else for(let jr=r.symbolInstanceStart;jr<r.symbolInstanceEnd;jr++)ti(E.symbolInstances.get(jr),jr,E.collisionArrays[jr]);if(m&&E.bucketInstanceId in this.collisionCircleArrays){const jr=this.collisionCircleArrays[E.bucketInstanceId];c.ab.mat4.invert(jr.invProjMatrix,V),jr.viewportMatrix=this.collisionIndex.getViewportMatrix()}E.justReloaded=!1}markUsedJustification(r,l,m,_){const{leftJustifiedTextSymbolIndex:x,centerJustifiedTextSymbolIndex:E,rightJustifiedTextSymbolIndex:R,verticalPlacedTextSymbolIndex:B,crossTileID:V}=m,U=c.bB(l),Q=_===c.bq.vertical?B:U==="left"?x:U==="center"?E:U==="right"?R:-1;x>=0&&(r.text.placedSymbolArray.get(x).crossTileID=Q>=0&&x!==Q?0:V),E>=0&&(r.text.placedSymbolArray.get(E).crossTileID=Q>=0&&E!==Q?0:V),R>=0&&(r.text.placedSymbolArray.get(R).crossTileID=Q>=0&&R!==Q?0:V),B>=0&&(r.text.placedSymbolArray.get(B).crossTileID=Q>=0&&B!==Q?0:V)}markUsedOrientation(r,l,m){const _=l===c.bq.horizontal||l===c.bq.horizontalOnly?l:0,x=l===c.bq.vertical?l:0,{leftJustifiedTextSymbolIndex:E,centerJustifiedTextSymbolIndex:R,rightJustifiedTextSymbolIndex:B,verticalPlacedTextSymbolIndex:V}=m,U=r.text.placedSymbolArray;E>=0&&(U.get(E).placedOrientation=_),R>=0&&(U.get(R).placedOrientation=_),B>=0&&(U.get(B).placedOrientation=_),V>=0&&(U.get(V).placedOrientation=x)}commit(r){this.commitTime=r,this.zoomAtLastRecencyCheck=this.transform.zoom;const l=this.prevPlacement;let m=!1;this.prevZoomAdjustment=l?l.zoomAdjustment(this.transform.zoom):0;const _=l?l.symbolFadeChange(r):1,x=l?l.opacities:{},E=l?l.variableOffsets:{},R=l?l.placedOrientations:{};for(const B in this.placements){const V=this.placements[B],U=x[B];U?(this.opacities[B]=new Ta(U,_,V.text,V.icon,null,V.clipped),m=m||V.text!==U.text.placed||V.icon!==U.icon.placed):(this.opacities[B]=new Ta(null,_,V.text,V.icon,V.skipFade,V.clipped),m=m||V.text||V.icon)}for(const B in x){const V=x[B];if(!this.opacities[B]){const U=new Ta(V,_,!1,!1);U.isHidden()||(this.opacities[B]=U,m=m||V.text.placed||V.icon.placed)}}for(const B in E)this.variableOffsets[B]||!this.opacities[B]||this.opacities[B].isHidden()||(this.variableOffsets[B]=E[B]);for(const B in R)this.placedOrientations[B]||!this.opacities[B]||this.opacities[B].isHidden()||(this.placedOrientations[B]=R[B]);m?this.lastPlacementChangeTime=r:typeof this.lastPlacementChangeTime!="number"&&(this.lastPlacementChangeTime=l?l.lastPlacementChangeTime:r)}updateLayerOpacities(r,l,m,_){const x=new Set;for(const E of l){const R=E.getBucket(r);R&&E.latestFeatureIndex&&r.fqid===R.layerIds[0]&&(this.updateBucketOpacities(R,x,E,E.collisionBoxArray,m,_,E.tileID,r.scope),R.layers[0].layout.get("symbol-z-elevate")&&this.buildingIndex&&(this.buildingIndex.updateZOffset(R,E.tileID),R.updateZOffset()))}}updateBucketOpacities(r,l,m,_,x,E,R,B){r.hasTextData()&&r.text.opacityVertexArray.clear(),r.hasIconData()&&r.icon.opacityVertexArray.clear(),r.hasIconCollisionBoxData()&&r.iconCollisionBox.collisionVertexArray.clear(),r.hasTextCollisionBoxData()&&r.textCollisionBox.collisionVertexArray.clear();const V=r.layers[0].layout,U=r.layers[0].paint,Q=!!r.layers[0].dynamicFilter(),ee=new Ta(null,0,!1,!1,!0),ce=V.get("text-allow-overlap"),Me=V.get("icon-allow-overlap"),Se=V.get("text-variable-anchor"),Le=V.get("text-rotation-alignment")==="map",Ae=V.get("text-pitch-alignment")==="map",rt=U.get("symbol-z-offset"),St=V.get("symbol-elevation-reference")==="sea",_t=!rt.isConstant(),Vt=new Ta(null,0,ce&&(Me||!r.hasIconData()||V.get("icon-optional")),Me&&(ce||!r.hasTextData()||V.get("text-optional")),!0);!r.collisionArrays&&_&&(r.hasIconCollisionBoxData()||r.hasTextCollisionBoxData())&&r.deserializeCollisionBoxes(_);const Lt=(Dt,rn,xn)=>{for(let dr=0;dr<rn/4;dr++)Dt.opacityVertexArray.emplaceBack(xn)};let Bt=0;E&&r.updateReplacement(R,E);for(let Dt=0;Dt<r.symbolInstances.length;Dt++){const rn=r.symbolInstances.get(Dt),{numHorizontalGlyphVertices:xn,numVerticalGlyphVertices:dr,crossTileID:Jn,numIconVertices:Br,tileAnchorX:Ar,tileAnchorY:Zn}=rn;let vr=null;const oi=this.retainedQueryData[r.bucketInstanceId];_t&&rn&&oi&&(vr=m.latestFeatureIndex.loadFeature({featureIndex:rn.featureIndex,bucketIndex:oi.bucketIndex,sourceLayerIndex:oi.sourceLayerIndex,layoutVertexArrayOffset:0}));const jn=rt.evaluate(vr,{}),Vr=l.has(Jn);let _r=this.opacities[Jn];Vr?_r=ee:_r||(_r=Vt,this.opacities[Jn]=_r),l.add(Jn);const $i=xn>0||dr>0,ti=Br>0,jr=this.placedOrientations[Jn],Ci=jr===c.bq.vertical,Li=jr===c.bq.horizontal||jr===c.bq.horizontalOnly;!$i&&!ti||_r.isHidden()||Bt++;let ro=!1;if(($i||ti)&&E)for(const vo of r.activeReplacements){if(c.bx(vo,x,c.by.Symbol,B)||vo.min.x>Ar||Ar>vo.max.x||vo.min.y>Zn||Zn>vo.max.y)continue;const la=c.bz(Ar,Zn,R.canonical,vo.footprintTileId.canonical);if(ro=c.bA(la,vo.footprint),ro)break}if($i){const vo=ro?ca:Ha(_r.text);Lt(r.text,xn,Ci?ca:vo),Lt(r.text,dr,Li?ca:vo);const la=_r.text.isHidden(),{leftJustifiedTextSymbolIndex:Wo,centerJustifiedTextSymbolIndex:Ko,rightJustifiedTextSymbolIndex:ya,verticalPlacedTextSymbolIndex:as}=rn,ms=r.text.placedSymbolArray,ul=la||Ci?1:0;Wo>=0&&(ms.get(Wo).hidden=ul),Ko>=0&&(ms.get(Ko).hidden=ul),ya>=0&&(ms.get(ya).hidden=ul),as>=0&&(ms.get(as).hidden=la||Li?1:0);const Ks=this.variableOffsets[Jn];Ks&&this.markUsedJustification(r,Ks.anchor,rn,jr);const Pa=this.placedOrientations[Jn];Pa&&(this.markUsedJustification(r,"left",rn,Pa),this.markUsedOrientation(r,Pa,rn))}if(ti){const vo=ro?ca:Ha(_r.icon),{placedIconSymbolIndex:la,verticalPlacedIconSymbolIndex:Wo}=rn,Ko=r.icon.placedSymbolArray,ya=_r.icon.isHidden()?1:0;la>=0&&(Lt(r.icon,Br,Ci?ca:vo),Ko.get(la).hidden=ya),Wo>=0&&(Lt(r.icon,rn.numVerticalIconVertices,Li?ca:vo),Ko.get(Wo).hidden=ya)}if(r.hasIconCollisionBoxData()||r.hasTextCollisionBoxData()){const vo=r.collisionArrays[Dt];if(vo){let la=new c.P(0,0),Wo=!0;if(vo.textBox||vo.verticalTextBox){if(Se){const ya=this.variableOffsets[Jn];ya?(la=wa(ya.anchor,ya.width,ya.height,ya.textOffset,ya.textScale),Le&&la._rotate(Ae?this.transform.angle:-this.transform.angle)):Wo=!1}Q&&(Wo=!_r.clipped),vo.textBox&&_s(r.textCollisionBox.collisionVertexArray,_r.text.placed,!Wo||Ci,jn,St,la.x,la.y),vo.verticalTextBox&&_s(r.textCollisionBox.collisionVertexArray,_r.text.placed,!Wo||Li,jn,St,la.x,la.y)}const Ko=Wo&&!!(!Li&&vo.verticalIconBox);vo.iconBox&&_s(r.iconCollisionBox.collisionVertexArray,_r.icon.placed,Ko,jn,St,rn.hasIconTextFit?la.x:0,rn.hasIconTextFit?la.y:0),vo.verticalIconBox&&_s(r.iconCollisionBox.collisionVertexArray,_r.icon.placed,!Ko,jn,St,rn.hasIconTextFit?la.x:0,rn.hasIconTextFit?la.y:0)}}}if(r.fullyClipped=Bt===0,r.sortFeatures(this.transform.angle),this.retainedQueryData[r.bucketInstanceId]&&(this.retainedQueryData[r.bucketInstanceId].featureSortOrder=r.featureSortOrder),r.hasTextData()&&r.text.opacityVertexBuffer&&r.text.opacityVertexBuffer.updateData(r.text.opacityVertexArray),r.hasIconData()&&r.icon.opacityVertexBuffer&&r.icon.opacityVertexBuffer.updateData(r.icon.opacityVertexArray),r.hasIconCollisionBoxData()&&r.iconCollisionBox.collisionVertexBuffer&&r.iconCollisionBox.collisionVertexBuffer.updateData(r.iconCollisionBox.collisionVertexArray),r.hasTextCollisionBoxData()&&r.textCollisionBox.collisionVertexBuffer&&r.textCollisionBox.collisionVertexBuffer.updateData(r.textCollisionBox.collisionVertexArray),r.bucketInstanceId in this.collisionCircleArrays){const Dt=this.collisionCircleArrays[r.bucketInstanceId];r.placementInvProjMatrix=Dt.invProjMatrix,r.placementViewportMatrix=Dt.viewportMatrix,r.collisionCircleArray=Dt.circles,delete this.collisionCircleArrays[r.bucketInstanceId]}}symbolFadeChange(r){return this.fadeDuration===0?1:(r-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment}zoomAdjustment(r){return Math.max(0,(this.transform.zoom-r)/1.5)}hasTransitions(r){return this.stale||r-this.lastPlacementChangeTime<this.fadeDuration}stillRecent(r,l){const m=this.zoomAtLastRecencyCheck===l?1-this.zoomAdjustment(l):1;return this.zoomAtLastRecencyCheck=l,this.commitTime+this.fadeDuration*m>r}setStale(){this.stale=!0}}function _s(p,r,l,m,_,x,E){p.emplaceBack(r?1:0,l?1:0,x||0,E||0,m,_?1:0),p.emplaceBack(r?1:0,l?1:0,x||0,E||0,m,_?1:0),p.emplaceBack(r?1:0,l?1:0,x||0,E||0,m,_?1:0),p.emplaceBack(r?1:0,l?1:0,x||0,E||0,m,_?1:0)}const il=Math.pow(2,25),ol=Math.pow(2,24),Al=Math.pow(2,17),Vs=Math.pow(2,16),Dl=Math.pow(2,9),mc=Math.pow(2,8),pa=Math.pow(2,1);function Ha(p){if(p.opacity===0&&!p.placed)return 0;if(p.opacity===1&&p.placed)return 4294967295;const r=p.placed?1:0,l=Math.floor(127*p.opacity);return l*il+r*ol+l*Al+r*Vs+l*Dl+r*mc+l*pa+r}const ca=0;class Go{constructor(r){this._sortAcrossTiles=r.layout.get("symbol-z-order")!=="viewport-y"&&r.layout.get("symbol-sort-key").constantOr(1)!==void 0,this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs=new Set,this._bucketParts=[]}continuePlacement(r,l,m,_,x,E){const R=this._bucketParts;for(;this._currentTileIndex<r.length;)if(l.getBucketParts(R,_,r[this._currentTileIndex],this._sortAcrossTiles,E),this._currentTileIndex++,x())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,R.sort((B,V)=>B.sortKey-V.sortKey));this._currentPartIndex<R.length;){const B=R[this._currentPartIndex];if(l.placeLayerBucketPart(B,this._seenCrossTileIDs,m,B.symbolInstanceStart===0,E),this._currentPartIndex++,x())return!0}return!1}}class hs{constructor(r,l,m,_,x,E,R,B,V){this.placement=new Ts(r,x,E,R,B,V),this._currentPlacementIndex=l.length-1,this._forceFullPlacement=m,this._showCollisionBoxes=_,this._done=!1}isDone(){return this._done}continuePlacement(r,l,m,_,x){const E=c.q.now(),R=()=>{const B=c.q.now()-E;return!this._forceFullPlacement&&B>2};for(;this._currentPlacementIndex>=0;){const B=l[r[this._currentPlacementIndex]],V=this.placement.collisionIndex.transform.zoom;if(B.type==="symbol"&&(!B.minzoom||B.minzoom<=V)&&(!B.maxzoom||B.maxzoom>V)){const U=B,Q=U.layout.get("symbol-z-elevate"),ee=U.layout.get("symbol-sort-key").constantOr(1)!==void 0,ce=U.layout.get("symbol-z-order"),Me=ce==="viewport-y"||ce==="auto"&&!(ce!=="viewport-y"&&ee),Se=U.layout.get("text-allow-overlap")||U.layout.get("icon-allow-overlap")||U.layout.get("text-ignore-placement")||U.layout.get("icon-ignore-placement"),Le=Me&&Se,Ae=this._inProgressLayer=this._inProgressLayer||new Go(U),rt=c.aC(B.source,B.scope);if(Ae.continuePlacement(Q||Le?_[rt]:m[rt],this.placement,this._showCollisionBoxes,B,R,x))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0}commit(r){return this.placement.commit(r),this.placement}}const zs=512/c.ag/2;class ic{constructor(r,l,m){this.tileID=r,this.bucketInstanceId=m,this.index=new c.bE(l.length,16,Int32Array),this.keys=[],this.crossTileIDs=[];const _=r.canonical.x*c.ag,x=r.canonical.y*c.ag;for(let E=0;E<l.length;E++){const{key:R,crossTileID:B,tileAnchorX:V,tileAnchorY:U}=l.get(E),Q=Math.floor((_+V)*zs),ee=Math.floor((x+U)*zs);this.index.add(Q,ee),this.keys.push(R),this.crossTileIDs.push(B)}this.index.finish()}findMatches(r,l,m){const _=this.tileID.canonical.z<l.canonical.z?1:Math.pow(2,this.tileID.canonical.z-l.canonical.z),x=zs/Math.pow(2,l.canonical.z-this.tileID.canonical.z),E=l.canonical.x*c.ag,R=l.canonical.y*c.ag;for(let B=0;B<r.length;B++){const V=r.get(B);if(V.crossTileID)continue;const{key:U,tileAnchorX:Q,tileAnchorY:ee}=V,ce=Math.floor((E+Q)*x),Me=Math.floor((R+ee)*x),Se=this.index.range(ce-_,Me-_,ce+_,Me+_);for(const Le of Se){const Ae=this.crossTileIDs[Le];if(this.keys[Le]===U&&!m.has(Ae)){m.add(Ae),V.crossTileID=Ae;break}}}}}class gc{constructor(){this.maxCrossTileID=0}generate(){return++this.maxCrossTileID}}class jc{constructor(){this.indexes={},this.usedCrossTileIDs={},this.lng=0}handleWrapJump(r){const l=Math.round((r-this.lng)/360);if(l!==0)for(const m in this.indexes){const _=this.indexes[m],x={};for(const E in _){const R=_[E];R.tileID=R.tileID.unwrapTo(R.tileID.wrap+l),x[R.tileID.key]=R}this.indexes[m]=x}this.lng=r}addBucket(r,l,m){if(this.indexes[r.overscaledZ]&&this.indexes[r.overscaledZ][r.key]){if(this.indexes[r.overscaledZ][r.key].bucketInstanceId===l.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(r.overscaledZ,this.indexes[r.overscaledZ][r.key])}for(let x=0;x<l.symbolInstances.length;x++)l.symbolInstances.get(x).crossTileID=0;this.usedCrossTileIDs[r.overscaledZ]||(this.usedCrossTileIDs[r.overscaledZ]=new Set);const _=this.usedCrossTileIDs[r.overscaledZ];for(const x in this.indexes){const E=this.indexes[x];if(Number(x)>r.overscaledZ)for(const R in E){const B=E[R];B.tileID.isChildOf(r)&&B.findMatches(l.symbolInstances,r,_)}else{const R=E[r.scaledTo(Number(x)).key];R&&R.findMatches(l.symbolInstances,r,_)}}for(let x=0;x<l.symbolInstances.length;x++){const E=l.symbolInstances.get(x);E.crossTileID||(E.crossTileID=m.generate(),_.add(E.crossTileID))}return this.indexes[r.overscaledZ]===void 0&&(this.indexes[r.overscaledZ]={}),this.indexes[r.overscaledZ][r.key]=new ic(r,l.symbolInstances,l.bucketInstanceId),!0}removeBucketCrossTileIDs(r,l){for(const m of l.crossTileIDs)this.usedCrossTileIDs[r].delete(m)}removeStaleBuckets(r){let l=!1;for(const m in this.indexes){const _=this.indexes[m];for(const x in _)r[_[x].bucketInstanceId]||(this.removeBucketCrossTileIDs(m,_[x]),delete _[x],l=!0)}return l}}class _l{constructor(){this.layerIndexes={},this.crossTileIDs=new gc,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}}addLayer(r,l,m,_){let x=this.layerIndexes[r.fqid];x===void 0&&(x=this.layerIndexes[r.fqid]=new jc);let E=!1;const R={};_.name!=="globe"&&x.handleWrapJump(m);for(const B of l){const V=B.getBucket(r);V&&r.fqid===V.layerIds[0]&&(V.bucketInstanceId||(V.bucketInstanceId=++this.maxBucketInstanceId),x.addBucket(B.tileID,V,this.crossTileIDs)&&(E=!0),R[V.bucketInstanceId]=!0)}return x.removeStaleBuckets(R)&&(E=!0),E}pruneUnusedLayers(r){const l={};r.forEach(m=>{l[m]=!0});for(const m in this.layerIndexes)l[m]||delete this.layerIndexes[m]}}const Yl=771;class sa{constructor(r,l,m,_){this.blendFunction=r,this.blendColor=l,this.mask=m,this.blendEquation=_}}sa.Replace=[1,0,1,0],sa.disabled=new sa(sa.Replace,c.aj.transparent,[!1,!1,!1,!1]),sa.unblended=new sa(sa.Replace,c.aj.transparent,[!0,!0,!0,!0]),sa.alphaBlended=new sa([1,Yl,1,Yl],c.aj.transparent,[!0,!0,!0,!0]),sa.alphaBlendedNonPremultiplied=new sa([770,Yl,770,Yl],c.aj.transparent,[!0,!0,!0,!0]),sa.multiply=new sa([774,0,774,0],c.aj.transparent,[!0,!0,!0,!0]);class Fo{constructor(r,l,m){this.func=r,this.mask=l,this.range=m}}Fo.ReadOnly=!1,Fo.ReadWrite=!0,Fo.disabled=new Fo(519,Fo.ReadOnly,[0,1]);const hu=7680;class Qo{constructor(r,l,m,_,x,E){this.test=r,this.ref=l,this.mask=m,this.fail=_,this.depthFail=x,this.pass=E}}Qo.disabled=new Qo({func:519,mask:0},0,0,hu,hu,hu);const oc=1029,nu=2305;class ia{constructor(r,l,m){this.enable=r,this.mode=l,this.frontFace=m}}function Ec(p,r){const l=c.bG(p,3);c.ab.mat4.fromQuat(p,r),c.bI(p,3,l)}function vc(p,r){const l=c.ab.quat.identity([]);return c.ab.quat.rotateZ(l,l,-r),c.ab.quat.rotateX(l,l,-p),l}function ru(p,r){const l=[p[0],p[1],0],m=[r[0],r[1],0];if(c.ab.vec3.length(l)>=1e-15){const E=c.ab.vec3.normalize([],l);c.ab.vec3.scale(m,E,c.ab.vec3.dot(m,E)),r[0]=m[0],r[1]=m[1]}const _=c.ab.vec3.cross([],r,p);if(c.ab.vec3.len(_)<1e-15)return null;const x=Math.atan2(-_[1],_[0]);return vc(Math.atan2(Math.sqrt(p[0]*p[0]+p[1]*p[1]),-p[2]),x)}ia.disabled=new ia(!1,oc,nu),ia.backCCW=new ia(!0,oc,nu),ia.backCW=new ia(!0,oc,2304),ia.frontCW=new ia(!0,1028,2304),ia.frontCCW=new ia(!0,1028,nu);class ku{constructor(r,l){this.position=r,this.orientation=l}get position(){return this._position}set position(r){if(r){const l=r instanceof c.aa?r:new c.aa(r[0],r[1],r[2]);this._renderWorldCopies&&(l.x=c.bF(l.x,0,1)),this._position=l}else this._position=null}lookAtPoint(r,l){if(this.orientation=null,!this.position)return;const m=this.position,_=this._elevation?this._elevation.getAtPointOrZero(c.aa.fromLngLat(r)):0,x=c.aa.fromLngLat(r,_),E=[x.x-m.x,x.y-m.y,x.z-m.z];l||(l=[0,0,1]),l[2]=Math.abs(l[2]),this.orientation=ru(E,l)}setPitchBearing(r,l){this.orientation=vc(c.ai(r),c.ai(-l))}}class ac{constructor(r,l){this._transform=c.ab.mat4.identity([]),this.orientation=l,this.position=r}get mercatorPosition(){const r=this.position;return new c.aa(r[0],r[1],r[2])}get position(){const r=c.bG(this._transform,3);return[r[0],r[1],r[2]]}set position(r){var l;r&&c.bI(this._transform,3,[(l=r)[0],l[1],l[2],1])}get orientation(){return this._orientation}set orientation(r){this._orientation=r||c.ab.quat.identity([]),r&&Ec(this._transform,this._orientation)}getPitchBearing(){const r=this.forward(),l=this.right();return{bearing:Math.atan2(-l[1],l[0]),pitch:Math.atan2(Math.sqrt(r[0]*r[0]+r[1]*r[1]),-r[2])}}setPitchBearing(r,l){this._orientation=vc(r,l),Ec(this._transform,this._orientation)}forward(){const r=c.bG(this._transform,2);return[-r[0],-r[1],-r[2]]}up(){const r=c.bG(this._transform,1);return[-r[0],-r[1],-r[2]]}right(){const r=c.bG(this._transform,0);return[r[0],r[1],r[2]]}getCameraToWorld(r,l){const m=new Float64Array(16);return c.ab.mat4.invert(m,this.getWorldToCamera(r,l)),m}getCameraToWorldMercator(){return this._transform}getWorldToCameraPosition(r,l,m){const _=this.position;c.ab.vec3.scale(_,_,-r);const x=new Float64Array(16);return c.ab.mat4.fromScaling(x,[m,m,m]),c.ab.mat4.translate(x,x,_),x[10]*=l,x}getWorldToCamera(r,l){const m=new Float64Array(16),_=new Float64Array(4),x=this.position;return c.ab.quat.conjugate(_,this._orientation),c.ab.vec3.scale(x,x,-r),c.ab.mat4.fromQuat(m,_),c.ab.mat4.translate(m,m,x),m[1]*=-1,m[5]*=-1,m[9]*=-1,m[13]*=-1,m[8]*=l,m[9]*=l,m[10]*=l,m[11]*=l,m}getCameraToClipPerspective(r,l,m,_){const x=new Float64Array(16);return c.ab.mat4.perspective(x,r,l,m,_),x}getCameraToClipOrthographic(r,l,m,_,x,E){const R=new Float64Array(16);return c.ab.mat4.ortho(R,r,l,m,_,x,E),R}getDistanceToElevation(r,l=!1){const m=r===0?0:c.bH(r,l?c.aS(this.position[1]):this.position[1]),_=this.forward();return(m-this.position[2])/_[2]}clone(){return new ac([...this.position],[...this.orientation])}}const gl={BaseColor:5,MetallicRoughness:6,Normal:7,Occlusion:8,Emission:9,LUT:10,ShadowMap0:11};class Bi{constructor(r=0,l=0,m=0,_=0){if(isNaN(r)||r<0||isNaN(l)||l<0||isNaN(m)||m<0||isNaN(_)||_<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=r,this.bottom=l,this.left=m,this.right=_}interpolate(r,l,m){return l.top!=null&&r.top!=null&&(this.top=c.af(r.top,l.top,m)),l.bottom!=null&&r.bottom!=null&&(this.bottom=c.af(r.bottom,l.bottom,m)),l.left!=null&&r.left!=null&&(this.left=c.af(r.left,l.left,m)),l.right!=null&&r.right!=null&&(this.right=c.af(r.right,l.right,m)),this}getCenter(r,l){const m=c.aw((this.left+r-this.right)/2,0,r),_=c.aw((this.top+l-this.bottom)/2,0,l);return new c.P(m,_)}equals(r){return this.top===r.top&&this.bottom===r.bottom&&this.left===r.left&&this.right===r.right}clone(){return new Bi(this.top,this.bottom,this.left,this.right)}toJSON(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}const ju=(p,r,l)=>(1-l)*p+l*r,ld=p=>p*p*p*p*p;class Yc{constructor(r,l,m,_,x,E,R){this.tileSize=512,this._renderWorldCopies=x===void 0||x,this._minZoom=r||0,this._maxZoom=l||22,this._minPitch=m!=null?m:0,this._maxPitch=_!=null?_:60,this.setProjection(E),this.setMaxBounds(R),this.width=0,this.height=0,this._center=new c.bO(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._nearZ=0,this._farZ=0,this._unmodified=!0,this._edgeInsets=new Bi,this._projMatrixCache={},this._alignedProjMatrixCache={},this._fogTileMatrixCache={},this._expandedProjMatrixCache={},this._distanceTileDataCache={},this._camera=new ac,this._centerAltitude=0,this._averageElevation=0,this.cameraElevationReference="ground",this._pixelsPerMercatorPixel=1,this.globeRadius=0,this.globeCenterInViewSpace=[0,0,0],this._tileCoverLift=0,this.freezeTileCoverage=!1,this._horizonShift=.1,this._orthographicProjectionAtLowPitch=!1}clone(){const r=new Yc(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies,this.getProjection());return r._elevation=this._elevation,r._centerAltitude=this._centerAltitude,r._centerAltitudeValidForExaggeration=this._centerAltitudeValidForExaggeration,r.tileSize=this.tileSize,r.mercatorFromTransition=this.mercatorFromTransition,r.width=this.width,r.height=this.height,r.cameraElevationReference=this.cameraElevationReference,r._center=this._center,r._setZoom(this.zoom),r._seaLevelZoom=this._seaLevelZoom,r.angle=this.angle,r._fov=this._fov,r._pitch=this._pitch,r._nearZ=this._nearZ,r._farZ=this._farZ,r._averageElevation=this._averageElevation,r._orthographicProjectionAtLowPitch=this._orthographicProjectionAtLowPitch,r._unmodified=this._unmodified,r._edgeInsets=this._edgeInsets.clone(),r._camera=this._camera.clone(),r._calcMatrices(),r.freezeTileCoverage=this.freezeTileCoverage,r.frustumCorners=this.frustumCorners,r}get isOrthographic(){return this.projection.name!=="globe"&&this._orthographicProjectionAtLowPitch&&this.pitch<15}get elevation(){return this._elevation}set elevation(r){this._elevation!==r&&(this._elevation=r,this._updateCameraOnTerrain(),this._calcMatrices())}get depthOcclusionForSymbolsAndCircles(){return this.projection.name!=="globe"&&!this.isOrthographic}updateElevation(r,l=!1){const m=this._elevation&&this._elevation.exaggeration()!==this._centerAltitudeValidForExaggeration;(this._seaLevelZoom==null||m)&&this._updateCameraOnTerrain(),(r||m)&&this._constrainCamera(l),this._calcMatrices()}getProjection(){return c.ay(this.projection,["name","center","parallels"])}setProjection(r){this.projectionOptions=r||{name:"mercator"};const l=this.projection?this.getProjection():void 0;this.projection=c.bP(this.projectionOptions);const m=this.getProjection(),_=!c.bn(l,m);return _&&this._calcMatrices(),this.mercatorFromTransition=!1,_}setOrthographicProjectionAtLowPitch(r){return this._orthographicProjectionAtLowPitch!==r&&(this._orthographicProjectionAtLowPitch=r,this._calcMatrices(),!0)}setMercatorFromTransition(){const r=this.projection.name;this.mercatorFromTransition=!0,this.projectionOptions={name:"mercator"},this.projection=c.bP({name:"mercator"});const l=r!==this.projection.name;return l&&this._calcMatrices(),l}get minZoom(){return this._minZoom}set minZoom(r){this._minZoom!==r&&(this._minZoom=r,this.zoom=Math.max(this.zoom,r))}get maxZoom(){return this._maxZoom}set maxZoom(r){this._maxZoom!==r&&(this._maxZoom=r,this.zoom=Math.min(this.zoom,r))}get minPitch(){return this._minPitch}set minPitch(r){this._minPitch!==r&&(this._minPitch=r,this.pitch=Math.max(this.pitch,r))}get maxPitch(){return this._maxPitch}set maxPitch(r){this._maxPitch!==r&&(this._maxPitch=r,this.pitch=Math.min(this.pitch,r))}get renderWorldCopies(){return this._renderWorldCopies&&this.projection.supportsWorldCopies===!0}set renderWorldCopies(r){r===void 0?r=!0:r===null&&(r=!1),this._renderWorldCopies=r}get worldSize(){return this.tileSize*this.scale}get cameraWorldSizeForFog(){const r=Math.max(this._camera.getDistanceToElevation(this._averageElevation),Number.EPSILON);return this._worldSizeFromZoom(this._zoomFromMercatorZ(r))}get cameraWorldSize(){const r=Math.max(this._camera.getDistanceToElevation(this._averageElevation,!0),Number.EPSILON);return this._worldSizeFromZoom(this._zoomFromMercatorZ(r))}get pixelsPerMeter(){return this.projection.pixelsPerMeter(this.center.lat,this.worldSize)}get cameraPixelsPerMeter(){return c.bH(1,this.center.lat)*this.cameraWorldSizeForFog}get centerOffset(){return this.centerPoint._sub(this.size._div(2))}get size(){return new c.P(this.width,this.height)}get bearing(){return c.bF(this.rotation,-180,180)}set bearing(r){this.rotation=r}get rotation(){return-this.angle/Math.PI*180}set rotation(r){const l=-r*Math.PI/180;this.angle!==l&&(this._unmodified=!1,this.angle=l,this._calcMatrices(),this.rotationMatrix=c.ab.mat2.create(),c.ab.mat2.rotate(this.rotationMatrix,this.rotationMatrix,this.angle))}get pitch(){return this._pitch/Math.PI*180}set pitch(r){const l=c.aw(r,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==l&&(this._unmodified=!1,this._pitch=l,this._calcMatrices())}get aspect(){return this.width/this.height}get fov(){return this._fov/Math.PI*180}get fovX(){return this._fov}get fovY(){const r=1/Math.tan(.5*this.fovX);return 2*Math.atan(1/this.aspect/r)}set fov(r){r=Math.max(.01,Math.min(60,r)),this._fov!==r&&(this._unmodified=!1,this._fov=c.ai(r),this._calcMatrices())}get averageElevation(){return this._averageElevation}set averageElevation(r){this._averageElevation=r,this._calcFogMatrices(),this._distanceTileDataCache={}}get zoom(){return this._zoom}set zoom(r){const l=Math.min(Math.max(r,this.minZoom),this.maxZoom);this._zoom!==l&&(this._unmodified=!1,this._setZoom(l),this._updateSeaLevelZoom(),this._constrain(),this._calcMatrices())}_setZoom(r){this._zoom=r,this.scale=this.zoomScale(r),this.tileZoom=Math.floor(r),this.zoomFraction=r-this.tileZoom}get tileCoverLift(){return this._tileCoverLift}set tileCoverLift(r){this._tileCoverLift!==r&&(this._tileCoverLift=r)}_updateCameraOnTerrain(){const r=this.elevation?this.elevation.getAtPoint(this.locationCoordinate(this.center),Number.NEGATIVE_INFINITY):Number.NEGATIVE_INFINITY,l=this.elevation&&r===Number.NEGATIVE_INFINITY&&this.elevation.visibleDemTiles.length>0&&this.elevation.exaggeration()>0&&this._centerAltitudeValidForExaggeration;if(!this._elevation||r===Number.NEGATIVE_INFINITY&&(!l||!this._centerAltitude))return this._centerAltitude=0,this._seaLevelZoom=null,void(this._centerAltitudeValidForExaggeration=void 0);const m=this._elevation;l||this._centerAltitude&&this._centerAltitudeValidForExaggeration&&m.exaggeration()&&this._centerAltitudeValidForExaggeration!==m.exaggeration()?(this._centerAltitude=this._centerAltitude/this._centerAltitudeValidForExaggeration*m.exaggeration(),this._centerAltitudeValidForExaggeration=m.exaggeration()):(this._centerAltitude=r||0,this._centerAltitudeValidForExaggeration=m.exaggeration()),this._updateSeaLevelZoom()}_updateSeaLevelZoom(){this._centerAltitudeValidForExaggeration!==void 0&&(this._seaLevelZoom=this._zoomFromMercatorZ((this.pixelsPerMeter*this._centerAltitude+this.cameraToCenterDistance)/this.worldSize))}sampleAverageElevation(){if(!this._elevation)return 0;const r=this._elevation,l=[[.5,.2],[.3,.5],[.5,.5],[.7,.5],[.5,.8]],m=this.horizonLineFromTop();let _=0,x=0;for(let E=0;E<l.length;E++){const R=new c.P(l[E][0]*this.width,m+l[E][1]*(this.height-m)),B=r.pointCoordinate(R);if(!B)continue;const V=1/Math.hypot(B[0]-this._camera.position[0],B[1]-this._camera.position[1]);_+=B[3]*V,x+=V}return x===0?NaN:_/x}get center(){return this._center}set center(r){r.lat===this._center.lat&&r.lng===this._center.lng||(this._unmodified=!1,this._center=r,this._terrainEnabled()&&(this.cameraElevationReference==="ground"?this._updateCameraOnTerrain():this._updateZoomFromElevation()),this._constrain(),this._calcMatrices())}_updateZoomFromElevation(){if(this._seaLevelZoom==null||!this._elevation)return;const r=this._seaLevelZoom,l=this._elevation.getAtPointOrZero(this.locationCoordinate(this.center)),m=this.pixelsPerMeter/this.worldSize*l,_=this._mercatorZfromZoom(r),x=this._mercatorZfromZoom(this._maxZoom),E=Math.max(_-m,x);this._setZoom(this._zoomFromMercatorZ(E))}get padding(){return this._edgeInsets.toJSON()}set padding(r){this._edgeInsets.equals(r)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,r,1),this._calcMatrices())}computeZoomRelativeTo(r){const l=this.rayIntersectionCoordinate(this.pointRayIntersection(this.centerPoint,r.toAltitude()));let m;m=r.z<this._camera.position[2]?[l.x,l.y,l.z]:[r.x,r.y,r.z];const _=c.ab.vec3.length(c.ab.vec3.sub([],this._camera.position,m));return c.aw(this._zoomFromMercatorZ(_),this._minZoom,this._maxZoom)}setFreeCameraOptions(r){if(!this.height||!r.position&&!r.orientation)return;this._updateCameraState();let l=!1;if(r.orientation&&!c.ab.quat.exactEquals(r.orientation,this._camera.orientation)&&(l=this._setCameraOrientation(r.orientation)),r.position){const m=[r.position.x,r.position.y,r.position.z];c.ab.vec3.exactEquals(m,this._camera.position)||(this._setCameraPosition(m),l=!0)}l&&(this._updateStateFromCamera(),this.recenterOnTerrain())}getFreeCameraOptions(){this._updateCameraState();const r=this._camera.position,l=new ku;return l.position=new c.aa(r[0],r[1],r[2]),l.orientation=this._camera.orientation,l._elevation=this.elevation,l._renderWorldCopies=this.renderWorldCopies,l}_setCameraOrientation(r){if(!c.ab.quat.length(r))return!1;c.ab.quat.normalize(r,r);const l=c.ab.vec3.transformQuat([],[0,0,-1],r),m=c.ab.vec3.transformQuat([],[0,-1,0],r);if(m[2]<0)return!1;const _=ru(l,m);return!!_&&(this._camera.orientation=_,!0)}_setCameraPosition(r){const l=this.zoomScale(this.minZoom)*this.tileSize,m=this.zoomScale(this.maxZoom)*this.tileSize,_=this.cameraToCenterDistance;r[2]=c.aw(r[2],_/m,_/l),this._camera.position=r}get centerPoint(){return this._edgeInsets.getCenter(this.width,this.height)}get fovAboveCenter(){return this._fov*(.5+this.centerOffset.y/this.height)}isPaddingEqual(r){return this._edgeInsets.equals(r)}interpolatePadding(r,l,m){this._unmodified=!1,this._edgeInsets.interpolate(r,l,m),this._constrain(),this._calcMatrices()}coveringZoomLevel(r){const l=(r.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/r.tileSize));return Math.max(0,l)}getVisibleUnwrappedCoordinates(r){const l=[new c.bQ(0,r)];if(this.renderWorldCopies){const m=this.pointCoordinate(new c.P(0,0)),_=this.pointCoordinate(new c.P(this.width,0)),x=this.pointCoordinate(new c.P(this.width,this.height)),E=this.pointCoordinate(new c.P(0,this.height)),R=Math.floor(Math.min(m.x,_.x,x.x,E.x)),B=Math.floor(Math.max(m.x,_.x,x.x,E.x)),V=1;for(let U=R-V;U<=B+V;U++)U!==0&&l.push(new c.bQ(U,r))}return l}isLODDisabled(r){return(!r||this.pitch<=60)&&this._edgeInsets.top<=this._edgeInsets.bottom&&!this._elevation&&!this.projection.isReprojectedInTileSpace}extendTileCover(r,l,m){let _=[];const x=m!==void 0,E=!x;if(E&&this.zoom<l||x&&m[0]===0&&m[1]===0)return _;const R=new Set,B=(U,Q,ee,ce,Me)=>{const Se=c.c5(Q,U,ee,ce,Me);R.has(Se)||(_.push(new c.aG(U,Q,ee,ce,Me)),R.add(Se))};for(let U=0;U<r.length;U++){const Q=r[U];if(E&&Q.canonical.z!==l)continue;const ee=Q.canonical,ce=Q.overscaledZ,Me=Q.wrap,Se=1<<ee.z,Le=ee.x+1<Se,Ae=ee.x>0,rt=ee.y+1<Se,St=ee.y>0,_t=Q.wrap-(Ae?0:1),Vt=Q.wrap+(Le?0:1),Lt=Ae?ee.x-1:Se-1,Bt=Le?ee.x+1:0;if(x)m[0]<0?(B(ce,Vt,ee.z,Bt,ee.y),m[1]<0&&rt&&(B(ce,Me,ee.z,ee.x,ee.y+1),B(ce,Vt,ee.z,Bt,ee.y+1)),m[1]>0&&St&&(B(ce,Me,ee.z,ee.x,ee.y-1),B(ce,Vt,ee.z,Bt,ee.y-1))):m[0]>0?(B(ce,_t,ee.z,Lt,ee.y),m[1]<0&&rt&&(B(ce,Me,ee.z,ee.x,ee.y+1),B(ce,_t,ee.z,Lt,ee.y+1)),m[1]>0&&St&&(B(ce,Me,ee.z,ee.x,ee.y-1),B(ce,_t,ee.z,Lt,ee.y-1))):m[1]<0&&rt?B(ce,Me,ee.z,ee.x,ee.y+1):St&&B(ce,Me,ee.z,ee.x,ee.y-1);else{const Dt=Q.visibleQuadrants;1&Dt&&(B(ce,_t,ee.z,Lt,ee.y),St&&(B(ce,Me,ee.z,ee.x,ee.y-1),B(ce,_t,ee.z,Lt,ee.y-1))),2&Dt&&(B(ce,Vt,ee.z,Bt,ee.y),St&&(B(ce,Me,ee.z,ee.x,ee.y-1),B(ce,Vt,ee.z,Bt,ee.y-1))),4&Dt&&(B(ce,_t,ee.z,Lt,ee.y),rt&&(B(ce,Me,ee.z,ee.x,ee.y+1),B(ce,_t,ee.z,Lt,ee.y+1))),8&Dt&&(B(ce,Vt,ee.z,Bt,ee.y),rt&&(B(ce,Me,ee.z,ee.x,ee.y+1),B(ce,Vt,ee.z,Bt,ee.y+1)))}}const V=[];for(const U of _)_.some(Q=>U.isChildOf(Q))||V.push(U);if(_=V.filter(U=>!r.some(Q=>!!(U.overscaledZ<l&&Q.isChildOf(U))||U.equals(Q)||U.isChildOf(Q))),E){const U=1<<l,Q=this.projection.name==="globe"?this._camera.mercatorPosition:this.pointCoordinate(this.getCameraPoint()),ee=[U*Q.x,U*Q.y],ce=4,Me=ce*ce;_=_.filter(Se=>{const Le=Se.canonical.x+.5-ee[0],Ae=Se.canonical.y+.5-ee[1];return Le*Le+Ae*Ae<Me})}return _}coveringTiles(r){let l=this.coveringZoomLevel(r);const m=l,_=this.elevation&&this.elevation.exaggeration(),x=_&&!r.isTerrainDEM,E=this.projection.name==="mercator";if(r.minzoom!==void 0&&l<r.minzoom)return[];r.maxzoom!==void 0&&l>r.maxzoom&&(l=r.maxzoom);const R=this.locationCoordinate(this.center),B=this.center.lat,V=1<<l,U=[V*R.x,V*R.y,0],Q=this.projection.name==="globe",ee=!Q,ce=c.bR.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,l,ee),Me=Q?this._camera.mercatorPosition:this.pointCoordinate(this.getCameraPoint()),Se=V*c.bH(1,this.center.lat),Le=this._camera.position[2]/c.bH(1,this.center.lat),Ae=[V*Me.x,V*Me.y,Le*(ee?1:Se)],rt=Q||_,St=this.cameraToCenterDistance/r.tileSize*(r.roundZoom?1:.502),_t=this.isLODDisabled(!0)?l:0;let Vt;if(this._elevation&&r.isTerrainDEM)Vt=1e4*this._elevation.exaggeration();else if(this._elevation){const jn=this._elevation.getMinMaxForVisibleTiles();Vt=jn?jn.max:this._centerAltitude}else Vt=this._centerAltitude;const Lt=r.isTerrainDEM?-Vt:this._elevation?this._elevation.getMinElevationBelowMSL():0,Bt=this.projection.isReprojectedInTileSpace?c.bS(this):1,Dt=jn=>{const _r=new c.aa(jn.x+25e-6,jn.y,jn.z),$i=new c.aa(jn.x,jn.y+25e-6,jn.z),ti=jn.toLngLat(),jr=_r.toLngLat(),Ci=$i.toLngLat(),Li=this.locationCoordinate(ti),ro=this.locationCoordinate(jr),vo=this.locationCoordinate(Ci),la=Math.hypot(ro.x-Li.x,ro.y-Li.y),Wo=Math.hypot(vo.x-Li.x,vo.y-Li.y);return Math.sqrt(la*Wo)*Bt/25e-6},rn=jn=>{const Vr=Vt,_r=Lt;return{aabb:c.bV(this,V,0,0,0,jn,_r,Vr,this.projection),zoom:0,x:0,y:0,minZ:_r,maxZ:Vr,wrap:jn,fullyVisible:!1}},xn=[];let dr=[];const Jn=l,Br=r.reparseOverscaled?m:l,Ar=(Le-this._centerAltitude)*Se,Zn=jn=>{if(!this._elevation||!jn.tileID||!E)return;const Vr=this._elevation.getMinMaxForTile(jn.tileID),_r=jn.aabb;Vr?(_r.min[2]=Vr.min,_r.max[2]=Vr.max,_r.center[2]=(_r.min[2]+_r.max[2])/2):(jn.shouldSplit=oi(jn),jn.shouldSplit||(_r.min[2]=_r.max[2]=_r.center[2]=this._centerAltitude))},vr=(jn,Vr)=>{if(.707*Vr<jn)return 1;const _r=Vr/jn;return _r/(1.4144271570014144+(Math.pow(1.1,_r-1.4144271570014144+1)-1)/(1.1-1)-1)},oi=jn=>{if(jn.zoom<_t)return!0;if(jn.zoom===Jn)return!1;if(jn.shouldSplit!=null)return jn.shouldSplit;const Vr=jn.aabb.distanceX(Ae),_r=jn.aabb.distanceY(Ae);let $i=Ar,ti=1;if(Q){$i=jn.aabb.distanceZ(Ae);const Wo=Math.pow(2,jn.zoom),Ko=c.aS((jn.y+1)/Wo),ya=c.aS(jn.y/Wo),as=Math.min(Math.max(B,Ko),ya),ms=c.c9(as)/c.c9(B);if(ti=as===B?1/Math.max(1,this._mercatorScaleRatio-.3):Math.min(1,ms/this._mercatorScaleRatio),this.zoom<=c.c6&&jn.zoom===Jn-1&&ms>=.9)return!0}else if(x&&($i=jn.aabb.distanceZ(Ae)*Se),this.projection.isReprojectedInTileSpace&&m<=5){const Wo=Math.pow(2,jn.zoom),Ko=Dt(new c.aa((jn.x+.5)/Wo,(jn.y+.5)/Wo));ti=Ko>.85?1:Ko}if(!E){const Wo=Math.sqrt(Vr*Vr+_r*_r+$i*$i);let Ko=(1<<Jn-jn.zoom)*St*ti;return Ko*=vr(Math.max($i,Ar),Wo),Wo<Ko}let jr=Number.MAX_VALUE,Ci=0;const Li=jn.aabb.getCorners(),ro=[];for(const Wo of Li){c.ab.vec3.sub(ro,Wo,Ae),Q||(x?ro[2]*=Se:ro[2]=Ar);const Ko=c.ab.vec3.dot(ro,this._camera.forward());Ko<jr&&(jr=Ko,Ci=Math.abs(ro[2]))}let vo=(1<<Jn-jn.zoom)*St*ti;if(vo*=vr(Math.max(Ci,Ar),jr),jr<vo)return!0;const la=jn.aabb.closestPoint(U);return la[0]===U[0]&&la[1]===U[1]};if(this.renderWorldCopies)for(let jn=1;jn<=3;jn++)xn.push(rn(-jn)),xn.push(rn(jn));for(xn.push(rn(0));xn.length>0;){const jn=xn.pop(),Vr=jn.x,_r=jn.y;let $i=jn.fullyVisible;const ti=()=>this.projection.name==="globe"&&(jn.y===0||jn.y===(1<<jn.zoom)-1);if(!$i){let jr=rt?jn.aabb.intersects(ce):jn.aabb.intersectsFlat(ce);if(jr===0&&ti()){const Ci=new c.bT(jn.zoom,Vr,_r);jr=c.bU(this,V,Ci,!0).intersects(ce)}if(jr===0)continue;$i=jr===2}if(jn.zoom!==Jn&&oi(jn))for(let jr=0;jr<4;jr++){const Ci=(Vr<<1)+jr%2,Li=(_r<<1)+(jr>>1),ro={aabb:E?jn.aabb.quadrant(jr):c.bV(this,V,jn.zoom+1,Ci,Li,jn.wrap,jn.minZ,jn.maxZ,this.projection),zoom:jn.zoom+1,x:Ci,y:Li,wrap:jn.wrap,fullyVisible:$i,tileID:void 0,shouldSplit:void 0,minZ:jn.minZ,maxZ:jn.maxZ};x&&!Q&&(ro.tileID=new c.aG(jn.zoom+1===Jn?Br:jn.zoom+1,jn.wrap,jn.zoom+1,Ci,Li),Zn(ro)),xn.push(ro)}else{const jr=jn.zoom===Jn?Br:jn.zoom;if(r.minzoom&&r.minzoom>jr)continue;let Ci=0;if(!$i){let la=rt?jn.aabb.intersectsPrecise(ce):jn.aabb.intersectsPreciseFlat(ce);if(la===0&&ti()){const Wo=new c.bT(jn.zoom,Vr,_r);la=c.bU(this,V,Wo,!0).intersectsPrecise(ce)}if(la===0)continue;if(r.calculateQuadrantVisibility)if(ce.containsPoint(jn.aabb.center))Ci=15;else for(let Wo=0;Wo<4;Wo++)jn.aabb.quadrant(Wo).intersects(ce)!==0&&(Ci|=1<<Wo)}const Li=U[0]-(.5+Vr+(jn.wrap<<jn.zoom))*(1<<l-jn.zoom),ro=U[1]-.5-_r,vo=jn.tileID?jn.tileID:new c.aG(jr,jn.wrap,jn.zoom,Vr,_r);r.calculateQuadrantVisibility&&(vo.visibleQuadrants=Ci),dr.push({tileID:vo,distanceSq:Li*Li+ro*ro})}}if(this.fogCullDistSq){const jn=this.fogCullDistSq,Vr=this.horizonLineFromTop();dr=dr.filter(_r=>{const $i=[0,0,0,1],ti=[c.ag,c.ag,0,1],jr=this.calculateFogTileMatrix(_r.tileID.toUnwrapped());c.ab.vec4.transformMat4($i,$i,jr),c.ab.vec4.transformMat4(ti,ti,jr);const Ci=c.ab.vec4.min([],$i,ti),Li=c.ab.vec4.max([],$i,ti),ro=c.bW(Ci,Li);if(ro===0)return!0;let vo=!1;const la=this._elevation;if(la&&ro>jn&&Vr!==0){const Wo=this.calculateProjMatrix(_r.tileID.toUnwrapped());let Ko;r.isTerrainDEM||(Ko=la.getMinMaxForTile(_r.tileID)),Ko||(Ko={min:Lt,max:Vt});const ya=c.c7(this.rotation),as=[ya[0]*c.ag,ya[1]*c.ag,Ko.max];c.ab.vec3.transformMat4(as,as,Wo),vo=(1-as[1])*this.height*.5<Vr}return ro<jn||vo})}return dr.sort((jn,Vr)=>jn.distanceSq-Vr.distanceSq).map(jn=>jn.tileID)}resize(r,l){this.width=r,this.height=l,this.pixelsToGLUnits=[2/r,-2/l],this._constrain(),this._calcMatrices()}get unmodified(){return this._unmodified}zoomScale(r){return Math.pow(2,r)}scaleZoom(r){return Math.log(r)/Math.LN2}project(r){const l=c.aw(r.lat,-c.bX,c.bX),m=this.projection.project(r.lng,l);return new c.P(m.x*this.worldSize,m.y*this.worldSize)}unproject(r){return this.projection.unproject(r.x/this.worldSize,r.y/this.worldSize)}get point(){return this.project(this.center)}get pointMerc(){return this.point._div(this.worldSize)}get pixelsPerMeterRatio(){return this.pixelsPerMeter/c.bH(1,this.center.lat)/this.worldSize}setLocationAtPoint(r,l){let m,_;const x=this.centerPoint;if(this.projection.name==="globe"){const R=this.worldSize;m=(l.x-x.x)/R,_=(l.y-x.y)/R}else{const R=this.pointCoordinate(l),B=this.pointCoordinate(x);m=R.x-B.x,_=R.y-B.y}const E=this.locationCoordinate(r);this.setLocation(new c.aa(E.x-m,E.y-_))}setLocation(r){this.center=this.coordinateLocation(r),this.projection.wrap&&(this.center=this.center.wrap())}locationPoint(r){return this.projection.locationPoint(this,r)}locationPoint3D(r){return this.projection.locationPoint(this,r,!0)}pointLocation(r){return this.coordinateLocation(this.pointCoordinate(r))}pointLocation3D(r){return this.coordinateLocation(this.pointCoordinate3D(r))}locationCoordinate(r,l){const m=l?c.bH(l,r.lat):void 0,_=this.projection.project(r.lng,r.lat);return new c.aa(_.x,_.y,m)}coordinateLocation(r){return this.projection.unproject(r.x,r.y)}pointRayIntersection(r,l){const m=l!=null?l:this._centerAltitude,_=[r.x,r.y,0,1],x=[r.x,r.y,1,1];c.ab.vec4.transformMat4(_,_,this.pixelMatrixInverse),c.ab.vec4.transformMat4(x,x,this.pixelMatrixInverse);const E=x[3];c.ab.vec4.scale(_,_,1/_[3]),c.ab.vec4.scale(x,x,1/E);const R=_[2],B=x[2];return{p0:_,p1:x,t:R===B?0:(m-R)/(B-R)}}screenPointToMercatorRay(r){const l=[r.x,r.y,0,1],m=[r.x,r.y,1,1];return c.ab.vec4.transformMat4(l,l,this.pixelMatrixInverse),c.ab.vec4.transformMat4(m,m,this.pixelMatrixInverse),c.ab.vec4.scale(l,l,1/l[3]),c.ab.vec4.scale(m,m,1/m[3]),l[2]=c.bH(l[2],this._center.lat)*this.worldSize,m[2]=c.bH(m[2],this._center.lat)*this.worldSize,c.ab.vec4.scale(l,l,1/this.worldSize),c.ab.vec4.scale(m,m,1/this.worldSize),new c.aq([l[0],l[1],l[2]],c.ab.vec3.normalize([],c.ab.vec3.sub([],m,l)))}rayIntersectionCoordinate(r){const{p0:l,p1:m,t:_}=r,x=c.bH(l[2],this._center.lat),E=c.bH(m[2],this._center.lat);return new c.aa(c.af(l[0],m[0],_)/this.worldSize,c.af(l[1],m[1],_)/this.worldSize,c.af(x,E,_))}pointCoordinate(r,l=this._centerAltitude){return this.projection.pointCoordinate(this,r.x,r.y,l)}pointCoordinate3D(r){if(!this.elevation)return this.pointCoordinate(r);let l=this.projection.pointCoordinate3D(this,r.x,r.y);if(l)return new c.aa(l[0],l[1],l[2]);let m=0,_=this.horizonLineFromTop();if(r.y>_)return this.pointCoordinate(r);const x=.02*_,E=r.clone();for(let R=0;R<10&&_-m>x;R++){E.y=c.af(m,_,.66);const B=this.projection.pointCoordinate3D(this,E.x,E.y);B?(_=E.y,l=B):m=E.y}return l?new c.aa(l[0],l[1],l[2]):this.pointCoordinate(r)}isPointAboveHorizon(r){return this.projection.isPointAboveHorizon(this,r)}isPointOnSurface(r){if(r.y<0||r.y>this.height||r.x<0||r.x>this.width)return!1;if(this.elevation||this.zoom>=c.bY)return!this.isPointAboveHorizon(r);const l=this.pointCoordinate(r);return l.y>=0&&l.y<=1}_coordinatePoint(r,l){const m=l&&this.elevation?this.elevation.getAtPointOrZero(r,this._centerAltitude):this._centerAltitude,_=[r.x*this.worldSize,r.y*this.worldSize,m+r.toAltitude(),1];return c.ab.vec4.transformMat4(_,_,this.pixelMatrix),_[3]>0?new c.P(_[0]/_[3],_[1]/_[3]):new c.P(Number.MAX_VALUE,Number.MAX_VALUE)}_getBoundsNonRectangular(){const{top:r,left:l}=this._edgeInsets,m=this.height-this._edgeInsets.bottom,_=this.width-this._edgeInsets.right,x=this.pointLocation3D(new c.P(l,r)),E=this.pointLocation3D(new c.P(_,r)),R=this.pointLocation3D(new c.P(_,m)),B=this.pointLocation3D(new c.P(l,m));let V=Math.min(x.lng,E.lng,R.lng,B.lng),U=Math.max(x.lng,E.lng,R.lng,B.lng),Q=Math.min(x.lat,E.lat,R.lat,B.lat),ee=Math.max(x.lat,E.lat,R.lat,B.lat);const ce=Math.pow(2,-this.zoom)/16*270,Me=this.projection.name==="globe"?1:4,Se=(Le,Ae,rt,St,_t)=>{const Vt=(Le+rt)/2,Lt=(Ae+St)/2,Bt=new c.P(Vt,Lt),{lng:Dt,lat:rn}=this.pointLocation3D(Bt),xn=Math.max(0,V-Dt,Q-rn,Dt-U,rn-ee);V=Math.min(V,Dt),U=Math.max(U,Dt),Q=Math.min(Q,rn),ee=Math.max(ee,rn),(_t<Me||xn>ce)&&(Se(Le,Ae,Vt,Lt,_t+1),Se(Vt,Lt,rt,St,_t+1))};if(Se(l,r,_,r,1),Se(_,r,_,m,1),Se(_,m,l,m,1),Se(l,m,l,r,1),this.projection.name==="globe"){const[Le,Ae]=c.bZ(this);Le?(ee=90,U=180,V=-180):Ae&&(Q=-90,U=180,V=-180)}return new c.az(new c.bO(V,Q),new c.bO(U,ee))}_getBoundsRectangular(r,l){const{top:m,left:_}=this._edgeInsets,x=this.height-this._edgeInsets.bottom,E=this.width-this._edgeInsets.right,R=new c.P(_,m),B=new c.P(E,m),V=new c.P(E,x),U=new c.P(_,x);let Q=this.pointCoordinate(R,r),ee=this.pointCoordinate(B,r);const ce=this.pointCoordinate(V,l),Me=this.pointCoordinate(U,l),Se=(Le,Ae)=>(Ae.y-Le.y)/(Ae.x-Le.x);return Q.y>1&&ee.y>=0?Q=new c.aa((1-Me.y)/Se(Me,Q)+Me.x,1):Q.y<0&&ee.y<=1&&(Q=new c.aa(-Me.y/Se(Me,Q)+Me.x,0)),ee.y>1&&Q.y>=0?ee=new c.aa((1-ce.y)/Se(ce,ee)+ce.x,1):ee.y<0&&Q.y<=1&&(ee=new c.aa(-ce.y/Se(ce,ee)+ce.x,0)),new c.az().extend(this.coordinateLocation(Q)).extend(this.coordinateLocation(ee)).extend(this.coordinateLocation(Me)).extend(this.coordinateLocation(ce))}_getBoundsRectangularTerrain(){const r=this.elevation;if(!r.visibleDemTiles.length||r.isUsingMockSource())return this._getBoundsRectangular(0,0);const l=r.visibleDemTiles.reduce((m,_)=>{if(_.dem){const x=_.dem.tree;m.min=Math.min(m.min,x.minimums[0]),m.max=Math.max(m.max,x.maximums[0])}return m},{min:Number.MAX_VALUE,max:0});return this._getBoundsRectangular(l.min*r.exaggeration(),l.max*r.exaggeration())}getBounds(){return this.projection.name==="mercator"||this.projection.name==="equirectangular"?this._terrainEnabled()?this._getBoundsRectangularTerrain():this._getBoundsRectangular(0,0):this._getBoundsNonRectangular()}horizonLineFromTop(r=!0){const l=this.height/2/Math.tan(this._fov/2)/Math.tan(Math.max(this._pitch,.1))-this.centerOffset.y,m=this.height/2-l*(1-this._horizonShift);return r?Math.max(0,m):m}getMaxBounds(){return this.maxBounds}setMaxBounds(r){this.maxBounds=r,this.minLat=-c.bX,this.maxLat=c.bX,this.minLng=-180,this.maxLng=180,r&&(this.minLat=r.getSouth(),this.maxLat=r.getNorth(),this.minLng=r.getWest(),this.maxLng=r.getEast(),this.maxLng<this.minLng&&(this.maxLng+=360)),this.worldMinX=c.at(this.minLng)*this.tileSize,this.worldMaxX=c.at(this.maxLng)*this.tileSize,this.worldMinY=c.aA(this.maxLat)*this.tileSize,this.worldMaxY=c.aA(this.minLat)*this.tileSize,this._constrain()}calculatePosMatrix(r,l){return this.projection.createTileMatrix(this,l,r)}calculateDistanceTileData(r){const l=r.key,m=this._distanceTileDataCache;if(m[l])return m[l];const _=r.canonical,x=1/this.height,E=this.cameraWorldSize,R=E/this.zoomScale(_.z),B=(_.x+Math.pow(2,_.z)*r.wrap)*R,V=_.y*R,U=this.point;U.x*=E/this.worldSize,U.y*=E/this.worldSize;const Q=this.angle,ee=Math.sin(-Q),ce=-Math.cos(-Q);return m[l]={bearing:[ee,ce],center:[(U.x-B)*x,(U.y-V)*x],scale:R/c.ag*x},m[l]}calculateFogTileMatrix(r){const l=r.key,m=this._fogTileMatrixCache;if(m[l])return m[l];const _=this.projection.createTileMatrix(this,this.cameraWorldSizeForFog,r);return c.ab.mat4.multiply(_,this.worldToFogMatrix,_),m[l]=new Float32Array(_),m[l]}calculateProjMatrix(r,l=!1,m=!1){const _=r.key;let x;if(x=m?this._expandedProjMatrixCache:l?this._alignedProjMatrixCache:this._projMatrixCache,x[_])return x[_];const E=this.calculatePosMatrix(r,this.worldSize);let R;return R=this.projection.isReprojectedInTileSpace?this.mercatorMatrix:m?this.expandedFarZProjMatrix:l?this.alignedProjMatrix:this.projMatrix,c.ab.mat4.multiply(E,R,E),x[_]=new Float32Array(E),x[_]}calculatePixelsToTileUnitsMatrix(r){const l=r.tileID.key,m=this._pixelsToTileUnitsCache;if(m[l])return m[l];const _=c.b_(r,this);return m[l]=_,m[l]}customLayerMatrix(){return this.mercatorMatrix.slice()}globeToMercatorMatrix(){if(this.projection.name==="globe"){const r=1/this.worldSize,l=c.ab.mat4.fromScaling([],[r,r,r]);return c.ab.mat4.multiply(l,l,this.globeMatrix),l}}recenterOnTerrain(){if(!this._elevation||this.projection.name==="globe")return;const r=this._elevation;this._updateCameraState();const l=c.bH(1,this._center.lat)*this.worldSize,m=this._computeCameraPosition(l),_=this._camera.forward(),x=c.bH(1,this._center.lat);m[2]/=x,_[2]/=x,c.ab.vec3.normalize(_,_);const E=r.raycast(m,_,r.exaggeration());if(E){const R=c.ab.vec3.scaleAndAdd([],m,_,E),B=new c.aa(R[0],R[1],c.bH(R[2],c.aS(R[1]))),V=(B.z+c.ab.vec3.length([B.x-m[0],B.y-m[1],B.z-m[2]*x]))*this._pixelsPerMercatorPixel;this._seaLevelZoom=this._zoomFromMercatorZ(V),this._centerAltitude=B.toAltitude(),this._center=this.coordinateLocation(B),this._updateZoomFromElevation(),this._constrain(),this._calcMatrices()}}_constrainCamera(r=!1){if(!this._elevation)return;const l=this._elevation,m=c.bH(1,this._center.lat)*this.worldSize,_=this._computeCameraPosition(m),x=l.getAtPointOrZero(new c.aa(..._)),E=this.pixelsPerMeter/this.worldSize*x,R=this._minimumHeightOverTerrain(),B=_[2]-E;if(B<=R)if(B<0||r){const V=this.locationCoordinate(this._center,this._centerAltitude),U=[_[0],_[1],V.z-_[2]],Q=c.ab.vec3.length(U);U[2]-=(R-B)/this._pixelsPerMercatorPixel;const ee=c.ab.vec3.length(U);if(ee===0)return;c.ab.vec3.scale(U,U,Q/ee*this._pixelsPerMercatorPixel),this._camera.position=[_[0],_[1],V.z*this._pixelsPerMercatorPixel-U[2]],this._updateStateFromCamera()}else this._isCameraConstrained=!0}_constrain(){if(!this.center||!this.width||!this.height||this._constraining)return;this._constraining=!0;const r=this.projection.name==="globe"||this.mercatorFromTransition;if(this.projection.isReprojectedInTileSpace||r){const ee=this.center;return ee.lat=c.aw(ee.lat,this.minLat,this.maxLat),(this.maxBounds||!this.renderWorldCopies&&!r)&&(ee.lng=c.aw(ee.lng,this.minLng,this.maxLng)),this.center=ee,void(this._constraining=!1)}const l=this._unmodified,{x:m,y:_}=this.point;let x=0,E=m,R=_;const B=this.width/2,V=this.height/2,U=this.worldMinY*this.scale,Q=this.worldMaxY*this.scale;if(_-V<U&&(R=U+V),_+V>Q&&(R=Q-V),Q-U<this.height&&(x=Math.max(x,this.height/(Q-U)),R=(Q+U)/2),this.maxBounds||!this._renderWorldCopies||!this.projection.wrap){const ee=this.worldMinX*this.scale,ce=this.worldMaxX*this.scale,Me=this.worldSize/2-(ee+ce)/2;E=(m+Me+this.worldSize)%this.worldSize-Me,E-B<ee&&(E=ee+B),E+B>ce&&(E=ce-B),ce-ee<this.width&&(x=Math.max(x,this.width/(ce-ee)),E=(ce+ee)/2)}E===m&&R===_||(this.center=this.unproject(new c.P(E,R))),x&&(this.zoom+=this.scaleZoom(x)),this._constrainCamera(),this._unmodified=l,this._constraining=!1}_minZoomForBounds(){let r=Math.max(0,this.scaleZoom(this.height/(this.worldMaxY-this.worldMinY)));return this.maxBounds&&(r=Math.max(r,this.scaleZoom(this.width/(this.worldMaxX-this.worldMinX)))),r}_maxCameraBoundsDistance(){return this._mercatorZfromZoom(this._minZoomForBounds())}_calcMatrices(){if(!this.height)return;const r=this.centerOffset,l=this.projection.name==="globe",m=this.pixelsPerMeter;this.projection.name==="globe"&&(this._mercatorScaleRatio=c.bH(1,this.center.lat)/c.bH(1,c.c8));const _=c.b$(this.projection,this.zoom,this.width,this.height,1024);this._pixelsPerMercatorPixel=this.projection.pixelSpaceConversion(this.center.lat,this.worldSize,_),this.cameraToCenterDistance=.5/Math.tan(.5*this._fov)*this.height*this._pixelsPerMercatorPixel,this._updateCameraState(),this._farZ=this.projection.farthestPixelDistance(this),this._nearZ=this.height/50;const x=this.projection.zAxisUnit==="meters"?m:1,E=this._camera.getWorldToCamera(this.worldSize,x);let R;const B=this._camera.getCameraToClipPerspective(this._fov,this.width/this.height,this._nearZ,this._farZ);if(B[8]=2*-r.x/this.width,B[9]=2*r.y/this.height,this.isOrthographic){let rn=.5*this.height/Math.tan(this._fov/2)*1*Math.tan(.5*this._fov),xn=rn*this.aspect,dr=-xn,Jn=-rn;xn-=r.x,dr-=r.x,rn+=r.y,Jn+=r.y,R=this._camera.getCameraToClipOrthographic(dr,xn,Jn,rn,this._nearZ,this._farZ),((Br,Ar,Zn,vr)=>{for(let oi=0;oi<16;oi++)Br[oi]=ju(Ar[oi],Zn[oi],vr)})(R,R,B,ld(this.pitch>=15?1:this.pitch/15))}else R=B;const V=c.ab.mat4.mul([],B,E);let U=c.ab.mat4.mul([],R,E);if(this.projection.isReprojectedInTileSpace){const rn=this.locationCoordinate(this.center),xn=c.ab.mat4.identity([]);c.ab.mat4.translate(xn,xn,[rn.x*this.worldSize,rn.y*this.worldSize,0]),c.ab.mat4.multiply(xn,xn,c.c0(this)),c.ab.mat4.translate(xn,xn,[-rn.x*this.worldSize,-rn.y*this.worldSize,0]),c.ab.mat4.multiply(U,U,xn),c.ab.mat4.multiply(V,V,xn),this.inverseAdjustmentMatrix=c.c1(this)}else this.inverseAdjustmentMatrix=[1,0,0,1];if(this.mercatorMatrix=c.ab.mat4.scale([],U,[this.worldSize,this.worldSize,this.worldSize/x,1]),this.projMatrix=U,this.invProjMatrix=c.ab.mat4.invert(new Float64Array(16),this.projMatrix),l){const rn=this._camera.getCameraToClipPerspective(this._fov,this.width/this.height,this._nearZ,1/0);rn[8]=2*-r.x/this.width,rn[9]=2*r.y/this.height,this.expandedFarZProjMatrix=c.ab.mat4.mul([],rn,E)}else this.expandedFarZProjMatrix=this.projMatrix;const Q=c.ab.mat4.invert([],R);this.frustumCorners=c.c2.fromInvProjectionMatrix(Q,this.horizonLineFromTop(),this.height),this.cameraFrustum=c.bR.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,0,!l);const ee=new Float32Array(16);c.ab.mat4.identity(ee),c.ab.mat4.scale(ee,ee,[1,-1,1]),c.ab.mat4.rotateX(ee,ee,this._pitch),c.ab.mat4.rotateZ(ee,ee,this.angle);const ce=c.ab.mat4.perspective(new Float32Array(16),this._fov,this.width/this.height,this._nearZ,this._farZ);this.starsProjMatrix=c.ab.mat4.clone(ce);const Me=(Math.PI/2-this._pitch)*(this.height/this._fov)*this._horizonShift;ce[8]=2*-r.x/this.width,ce[9]=2*(r.y+Me)/this.height,this.skyboxMatrix=c.ab.mat4.multiply(ee,ce,ee);const Se=this.point,Le=Se.x,Ae=Se.y,rt=this.width%2/2,St=this.height%2/2,_t=Math.cos(this.angle),Vt=Math.sin(this.angle),Lt=Le-Math.round(Le)+_t*rt+Vt*St,Bt=Ae-Math.round(Ae)+_t*St+Vt*rt,Dt=new Float64Array(U);if(c.ab.mat4.translate(Dt,Dt,[Lt>.5?Lt-1:Lt,Bt>.5?Bt-1:Bt,0]),this.alignedProjMatrix=Dt,U=c.ab.mat4.create(),c.ab.mat4.scale(U,U,[this.width/2,-this.height/2,1]),c.ab.mat4.translate(U,U,[1,-1,0]),this.labelPlaneMatrix=U,U=c.ab.mat4.create(),c.ab.mat4.scale(U,U,[1,-1,1]),c.ab.mat4.translate(U,U,[-1,-1,0]),c.ab.mat4.scale(U,U,[2/this.width,2/this.height,1]),this.glCoordMatrix=U,this.pixelMatrix=c.ab.mat4.multiply(new Float64Array(16),this.labelPlaneMatrix,V),this._calcFogMatrices(),this._distanceTileDataCache={},U=c.ab.mat4.invert(new Float64Array(16),this.pixelMatrix),!U)throw new Error("failed to invert matrix");if(this.pixelMatrixInverse=U,this.projection.name==="globe"||this.mercatorFromTransition){this.globeMatrix=c.c3(this);const rn=[this.globeMatrix[12],this.globeMatrix[13],this.globeMatrix[14]];this.globeCenterInViewSpace=c.ab.vec3.transformMat4(rn,rn,E),this.globeRadius=this.worldSize/2/Math.PI-1}else this.globeMatrix=U;this._projMatrixCache={},this._alignedProjMatrixCache={},this._pixelsToTileUnitsCache={},this._expandedProjMatrixCache={}}_calcFogMatrices(){this._fogTileMatrixCache={};const r=this.cameraWorldSizeForFog,l=this.cameraPixelsPerMeter,m=this._camera.position,_=1/this.height/this._pixelsPerMercatorPixel,x=[r,r,l];c.ab.vec3.scale(x,x,_),c.ab.vec3.scale(m,m,-1),c.ab.vec3.multiply(m,m,x);const E=c.ab.mat4.create();c.ab.mat4.translate(E,E,m),c.ab.mat4.scale(E,E,x),this.mercatorFogMatrix=E,this.worldToFogMatrix=this._camera.getWorldToCameraPosition(r,l,_)}_computeCameraPosition(r){const l=(r=r||this.pixelsPerMeter)/this.pixelsPerMeter,m=this._camera.forward(),_=this.point,x=this._mercatorZfromZoom(this._seaLevelZoom?this._seaLevelZoom:this._zoom)*l-r/this.worldSize*this._centerAltitude;return[_.x/this.worldSize-m[0]*x,_.y/this.worldSize-m[1]*x,r/this.worldSize*this._centerAltitude-m[2]*x]}_updateCameraState(){this.height&&(this._camera.setPitchBearing(this._pitch,this.angle),this._camera.position=this._computeCameraPosition())}_translateCameraConstrained(r){const l=this._maxCameraBoundsDistance()*Math.cos(this._pitch),m=this._camera.position[2],_=r[2];let x=1;this.projection.wrap&&(this.center=this.center.wrap()),_>0&&(x=Math.min((l-m)/_,1)),this._camera.position=c.ab.vec3.scaleAndAdd([],this._camera.position,r,x),this._updateStateFromCamera()}_updateStateFromCamera(){const r=this._camera.position,l=this._camera.forward(),{pitch:m,bearing:_}=this._camera.getPitchBearing(),x=c.bH(this._centerAltitude,this.center.lat)*this._pixelsPerMercatorPixel,E=this._mercatorZfromZoom(this._maxZoom)*Math.cos(c.ai(this._maxPitch)),R=Math.max((r[2]-x)/Math.cos(m),E),B=this._zoomFromMercatorZ(R);c.ab.vec3.scaleAndAdd(r,r,l,R),this._pitch=c.aw(m,c.ai(this.minPitch),c.ai(this.maxPitch)),this.angle=c.bF(_,-Math.PI,Math.PI),this._setZoom(c.aw(B,this._minZoom,this._maxZoom)),this._updateSeaLevelZoom(),this._center=this.coordinateLocation(new c.aa(r[0],r[1],r[2])),this._unmodified=!1,this._constrain(),this._calcMatrices()}_worldSizeFromZoom(r){return Math.pow(2,r)*this.tileSize}_mercatorZfromZoom(r){return this.cameraToCenterDistance/this._worldSizeFromZoom(r)}_minimumHeightOverTerrain(){const r=Math.min(this._seaLevelZoom!=null?this._seaLevelZoom:this._zoom,this._maxZoom)+4;return this._mercatorZfromZoom(r)}_zoomFromMercatorZ(r){return this.scaleZoom(this.cameraToCenterDistance/(r*this.tileSize))}zoomFromMercatorZAdjusted(r){let l=0,m=c.bY,_=0,x=1/0;for(;m-l>1e-6&&m>l;){const E=l+.5*(m-l),R=this.tileSize*Math.pow(2,E),B=this.getCameraToCenterDistance(this.projection,E,R),V=this.scaleZoom(B/(r*this.tileSize)),U=Math.abs(E-V);U<x&&(x=U,_=E),E<V?l=E:m=E}return _}_terrainEnabled(){return!(!this._elevation||!this.projection.supportsTerrain&&(c.w("Terrain is not yet supported with alternate projections. Use mercator or globe to enable terrain."),1))}anyCornerOffEdge(r,l){const m=Math.min(r.x,l.x),_=Math.max(r.x,l.x),x=Math.min(r.y,l.y),E=Math.max(r.y,l.y);if(x<this.horizonLineFromTop(!1))return!0;if(this.projection.name!=="mercator")return!1;const R=[new c.P(m,x),new c.P(_,E),new c.P(m,E),new c.P(_,x)],B=this.renderWorldCopies?-3:0,V=this.renderWorldCopies?4:1;for(const U of R){const Q=this.pointRayIntersection(U);if(Q.t<0)return!0;const ee=this.rayIntersectionCoordinate(Q);if(ee.x<B||ee.y<0||ee.x>V||ee.y>1)return!0}return!1}isHorizonVisible(){return this.pitch+c.c4(this.fovAboveCenter)>88||this.anyCornerOffEdge(new c.P(0,0),new c.P(this.width,this.height))}zoomDeltaToMovement(r,l){const m=c.ab.vec3.length(c.ab.vec3.sub([],this._camera.position,r)),_=this._zoomFromMercatorZ(m)+l;return m-this._mercatorZfromZoom(_)}getCameraPoint(){if(this.projection.name==="globe"){const r=function([l,m,_],x){const E=[l,m,_,1];c.ab.vec4.transformMat4(E,E,x);const R=E[3]=Math.max(E[3],1e-6);return E[0]/=R,E[1]/=R,E[2]/=R,E}([this.globeMatrix[12],this.globeMatrix[13],this.globeMatrix[14]],this.pixelMatrix);return new c.P(r[0],r[1])}{const r=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new c.P(0,r))}}getCameraToCenterDistance(r,l=this.zoom,m=this.worldSize){const _=c.b$(r,l,this.width,this.height,1024),x=r.pixelSpaceConversion(this.center.lat,m,_);let E=.5/Math.tan(.5*this._fov)*this.height*x;return this.isOrthographic&&(E=ju(1,E,ld(this.pitch>=15?1:this.pitch/15))),E}getWorldToCameraMatrix(){const r=this._camera.getWorldToCamera(this.worldSize,this.projection.zAxisUnit==="meters"?this.pixelsPerMeter:1);return this.projection.name==="globe"&&c.ab.mat4.multiply(r,r,this.globeMatrix),r}getFrustum(r){return c.bR.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,r,this.projection.zAxisUnit==="meters")}}const on=(p,r)=>{if(r>0&&p.terrain&&c.w("Cutoff is currently disabled on terrain"),r<=0||p.terrain)return{shouldRenderCutoff:!1,uniformValues:{u_cutoff_params:[0,0,0,1]}};const l=p.transform,m=Math.max(Math.abs(l._zoom-(p.minCutoffZoom-1)),1),_=l.isLODDisabled(!1)?c.ac(60,45,l.pitch):c.ac(30,15,l.pitch),x=l._farZ-l._nearZ,E=r*l.height,R=((1-(B=_))*l.cameraToCenterDistance+B*(l._farZ+E))*m;var B;return{shouldRenderCutoff:_<1,uniformValues:{u_cutoff_params:[l._nearZ,l._farZ,(R-l._nearZ)/x,(R-E-l._nearZ)/x]}}},$n={cascadeCount:2,normalOffset:3,shadowMapResolution:2048};class Kn{constructor(r,l){this.aabb=r,this.lastCascade=l}}class hr{add(r,l){const m=this.receivers[r.key];m!==void 0?(m.aabb.min[0]=Math.min(m.aabb.min[0],l.min[0]),m.aabb.min[1]=Math.min(m.aabb.min[1],l.min[1]),m.aabb.min[2]=Math.min(m.aabb.min[2],l.min[2]),m.aabb.max[0]=Math.max(m.aabb.max[0],l.max[0]),m.aabb.max[1]=Math.max(m.aabb.max[1],l.max[1]),m.aabb.max[2]=Math.max(m.aabb.max[2],l.max[2])):this.receivers[r.key]=new Kn(l,null)}clear(){this.receivers={}}get(r){return this.receivers[r.key]}computeRequiredCascades(r,l,m){const _=c.cd.fromPoints(r.points);let x=0;for(const E in this.receivers){const R=this.receivers[E];if(!R||!_.intersectsAabb(R.aabb))continue;R.aabb.min=_.closestPoint(R.aabb.min),R.aabb.max=_.closestPoint(R.aabb.max);const B=R.aabb.getCorners();for(let V=0;V<m.length;V++){let U=!0;for(const Q of B){const ee=[Q[0]*l,Q[1]*l,Q[2]];if(c.ab.vec3.transformMat4(ee,ee,m[V].matrix),ee[0]<-1||ee[0]>1||ee[1]<-1||ee[1]>1){U=!1;break}}if(R.lastCascade=V,x=Math.max(x,V),U)break}}return x+1}}class Yr{constructor(r){this.painter=r,this._enabled=!1,this._shadowLayerCount=0,this._numCascadesToRender=0,this._cascades=[],this._groundShadowTiles=[],this._receivers=new hr,this._depthMode=new Fo(r.context.gl.LEQUAL,Fo.ReadWrite,[0,1]),this._uniformValues={u_light_matrix_0:new Float32Array(16),u_light_matrix_1:new Float32Array(16),u_shadow_intensity:0,u_fade_range:[0,0],u_shadow_normal_offset:[1,1,1],u_shadow_texel_size:1,u_shadow_map_resolution:1,u_shadow_direction:[0,0,1],u_shadow_bias:[36e-5,.0012,.012],u_shadowmap_0:0,u_shadowmap_1:0},this._forceDisable=!1,this.useNormalOffset=!1,r.tp.registerParameter(this,["Shadows"],"_forceDisable",{label:"forceDisable"},()=>{this.painter.style.map.triggerRepaint()}),r.tp.registerParameter($n,["Shadows"],"cascadeCount",{min:1,max:2,step:1}),r.tp.registerParameter($n,["Shadows"],"normalOffset",{min:0,max:10,step:.05}),r.tp.registerParameter($n,["Shadows"],"shadowMapResolution",{min:32,max:2048,step:32}),r.tp.registerBinding(this,["Shadows"],"_numCascadesToRender",{readonly:!0,label:"numCascadesToRender"})}destroy(){for(const r of this._cascades)r.texture.destroy(),r.framebuffer.destroy();this._cascades=[]}updateShadowParameters(r,l){const m=this.painter;if(this._enabled=!1,this._shadowLayerCount=0,this._receivers.clear(),!l||!l.properties)return;const _=l.properties.get("shadow-intensity");if(!l.shadowsEnabled()||_<=0||(this._shadowLayerCount=m.style.order.reduce((Me,Se)=>{const Le=m.style._mergedLayers[Se];return Me+(Le.hasShadowPass()&&!Le.isHidden(r.zoom)?1:0)},0),this._enabled=this._shadowLayerCount>0,!this.enabled))return;const x=m.context,E=$n.shadowMapResolution,R=$n.shadowMapResolution;if(this._cascades.length===0||$n.shadowMapResolution!==this._cascades[0].texture.size[0]){this._cascades=[];for(let Me=0;Me<$n.cascadeCount;++Me){const Se=m._shadowMapDebug,Le=x.gl,Ae=x.createFramebuffer(E,R,Se,"texture"),rt=new c.T(x,{width:E,height:R,data:null},Le.DEPTH_COMPONENT16);if(Ae.depthAttachment.set(rt.texture),Se){const St=new c.T(x,{width:E,height:R,data:null},Le.RGBA8);Ae.colorAttachment.set(St.texture)}this._cascades.push({framebuffer:Ae,texture:rt,matrix:[],far:0,boundingSphereRadius:0,frustum:new c.bR,scale:0})}}this.shadowDirection=mo(l);let B=0;if(r.elevation){const Me=r.elevation,Se=[1e4,-1e4];Me.visibleDemTiles.filter(Le=>Le.dem).forEach(Le=>{const Ae=Le.dem.tree;Se[0]=Math.min(Se[0],Ae.minimums[0]),Se[1]=Math.max(Se[1],Ae.maximums[0])}),Se[0]!==1e4&&(B=(Se[1]-Se[0])*Me.exaggeration())}const V=1.5*r.cameraToCenterDistance,U=3*V,Q=new Float64Array(16);for(let Me=0;Me<this._cascades.length;++Me){const Se=this._cascades[Me];let Le=r.height/50,Ae=1;$n.cascadeCount===1?Ae=U:Me===0?Ae=V:(Le=V,Ae=U);const[rt,St]=Io(r,this.shadowDirection,Le,Ae,$n.shadowMapResolution,B);Se.scale=r.scale,Se.matrix=rt,Se.boundingSphereRadius=St,c.ab.mat4.invert(Q,Se.matrix),Se.frustum=c.bR.fromInvProjectionMatrix(Q,1,0,!0),Se.far=Ae}const ee=this._cascades.length-1;this._uniformValues.u_fade_range=[.75*this._cascades[ee].far,this._cascades[ee].far],this._uniformValues.u_shadow_intensity=_,this._uniformValues.u_shadow_direction=[this.shadowDirection[0],this.shadowDirection[1],this.shadowDirection[2]],this._uniformValues.u_shadow_texel_size=1/$n.shadowMapResolution,this._uniformValues.u_shadow_map_resolution=$n.shadowMapResolution,this._uniformValues.u_shadowmap_0=gl.ShadowMap0,this._uniformValues.u_shadowmap_1=gl.ShadowMap0+1,this._groundShadowTiles=m.transform.coveringTiles({tileSize:512,renderWorldCopies:!0});const ce=m.transform.elevation;for(const Me of this._groundShadowTiles){let Se={min:0,max:0};if(ce){const Le=ce.getMinMaxForTile(Me);Le&&(Se=Le)}this.addShadowReceiver(Me.toUnwrapped(),Se.min,Se.max)}}get enabled(){return this._enabled&&!this._forceDisable}set enabled(r){this._enabled=r}drawShadowPass(r,l){if(!this.enabled)return;const m=this.painter,_=m.context;this._numCascadesToRender=this._receivers.computeRequiredCascades(m.transform.getFrustum(0),m.transform.worldSize,this._cascades),_.viewport.set([0,0,$n.shadowMapResolution,$n.shadowMapResolution]);for(let x=0;x<this._numCascadesToRender;++x){m.currentShadowCascade=x,_.bindFramebuffer.set(this._cascades[x].framebuffer.framebuffer),_.clear({color:c.aj.white,depth:1});for(const E of r.order){const R=r._mergedLayers[E];if(!R.hasShadowPass()||R.isHidden(m.transform.zoom))continue;const B=r.getLayerSourceCache(R),V=B?l[B.id]:void 0;(R.type==="model"||V&&V.length)&&m.renderLayer(m,B,R,V)}}m.currentShadowCascade=0}drawGroundShadows(){if(!this.enabled)return;const r=this.painter,l=r.style,m=r.context,_=l.directionalLight,x=l.ambientLight;if(!_||!x)return;const E=[],R=on(r,r.longestCutoffRange);R.shouldRenderCutoff&&E.push("RENDER_CUTOFF"),E.push("RENDER_SHADOWS","DEPTH_TEXTURE"),this.useNormalOffset&&E.push("NORMAL_OFFSET");const B=Ji(l,_,x),V=new Fo(m.gl.LEQUAL,Fo.ReadOnly,r.depthRangeFor3D);for(const U of this._groundShadowTiles){const Q=U.toUnwrapped(),ee=r.isTileAffectedByFog(U),ce=r.getOrCreateProgram("groundShadow",{defines:E,overrideFog:ee});this.setupShadows(Q,ce),r.uploadCommonUniforms(m,ce,Q,null,R);const Me={u_matrix:r.transform.calculateProjMatrix(Q),u_ground_shadow_factor:B};ce.draw(r,m.gl.TRIANGLES,V,Qo.disabled,sa.multiply,ia.disabled,Me,"ground_shadow",r.tileExtentBuffer,r.quadTriangleIndexBuffer,r.tileExtentSegments,{},r.transform.zoom,null,null)}}getShadowPassColorMode(){return this.painter._shadowMapDebug?sa.unblended:sa.disabled}getShadowPassDepthMode(){return this._depthMode}getShadowCastingLayerCount(){return this._shadowLayerCount}calculateShadowPassMatrixFromTile(r){const l=this.painter.transform,m=l.calculatePosMatrix(r,l.worldSize);return c.ab.mat4.multiply(m,this._cascades[this.painter.currentShadowCascade].matrix,m),Float32Array.from(m)}calculateShadowPassMatrixFromMatrix(r){return c.ab.mat4.multiply(r,this._cascades[this.painter.currentShadowCascade].matrix,r),Float32Array.from(r)}setupShadows(r,l,m,_=0){if(!this.enabled)return;const x=this.painter.transform,E=this.painter.context,R=E.gl,B=this._uniformValues,V=new Float64Array(16),U=x.calculatePosMatrix(r,x.worldSize);for(let Q=0;Q<this._cascades.length;Q++)c.ab.mat4.multiply(V,this._cascades[Q].matrix,U),B[Q===0?"u_light_matrix_0":"u_light_matrix_1"]=Float32Array.from(V),E.activeTexture.set(R.TEXTURE0+gl.ShadowMap0+Q),this._cascades[Q].texture.bind(R.NEAREST,R.CLAMP_TO_EDGE);if(this.useNormalOffset=!!m,this.useNormalOffset){const Q=c.cc(r.canonical),ee=2/x.tileSize*c.ag/$n.shadowMapResolution,ce=ee*this._cascades[0].boundingSphereRadius,Me=ee*this._cascades[this._cascades.length-1].boundingSphereRadius,Se=(m==="vector-tile"?1:3)/Math.pow(2,_-r.canonical.z-(1-x.zoom+Math.floor(x.zoom)));B.u_shadow_normal_offset=[Q,ce*Se,Me*Se],B.u_shadow_bias=[6e-5,.0012,.012]}else B.u_shadow_bias=[36e-5,.0012,.012];l.setShadowUniformValues(E,B)}setupShadowsFromMatrix(r,l,m=!1){if(!this.enabled)return;const _=this.painter.context,x=_.gl,E=this._uniformValues,R=new Float64Array(16);for(let B=0;B<$n.cascadeCount;B++)c.ab.mat4.multiply(R,this._cascades[B].matrix,r),E[B===0?"u_light_matrix_0":"u_light_matrix_1"]=Float32Array.from(R),_.activeTexture.set(x.TEXTURE0+gl.ShadowMap0+B),this._cascades[B].texture.bind(x.NEAREST,x.CLAMP_TO_EDGE);if(this.useNormalOffset=m,m){const B=$n.normalOffset;E.u_shadow_normal_offset=[1,B,B],E.u_shadow_bias=[6e-5,.0012,.012]}else E.u_shadow_bias=[36e-5,.0012,.012];l.setShadowUniformValues(_,E)}getShadowUniformValues(){return this._uniformValues}getCurrentCascadeFrustum(){return this._cascades[this.painter.currentShadowCascade].frustum}computeSimplifiedTileShadowVolume(r,l,m,_){if(_[2]>=0)return{};const x=function(B,V,U){const Q=U/(1<<B.canonical.z);return new c.cd([B.canonical.x*Q+B.wrap*U,B.canonical.y*Q+B.wrap*U,0],[(B.canonical.x+1)*Q+B.wrap*U,(B.canonical.y+1)*Q+B.wrap*U,V])}(r,l,m).getCorners(),E=l/-_[2];_[0]<0?(c.ab.vec3.add(x[0],x[0],[_[0]*E,0,0]),c.ab.vec3.add(x[3],x[3],[_[0]*E,0,0])):_[0]>0&&(c.ab.vec3.add(x[1],x[1],[_[0]*E,0,0]),c.ab.vec3.add(x[2],x[2],[_[0]*E,0,0])),_[1]<0?(c.ab.vec3.add(x[0],x[0],[0,_[1]*E,0]),c.ab.vec3.add(x[1],x[1],[0,_[1]*E,0])):_[1]>0&&(c.ab.vec3.add(x[2],x[2],[0,_[1]*E,0]),c.ab.vec3.add(x[3],x[3],[0,_[1]*E,0]));const R={};return R.vertices=x,R.planes=[Ki(x[1],x[0],x[4]),Ki(x[2],x[1],x[5]),Ki(x[3],x[2],x[6]),Ki(x[0],x[3],x[7])],R}addShadowReceiver(r,l,m){this._receivers.add(r,c.cd.fromTileIdAndHeight(r,l,m))}getMaxCascadeForTile(r){const l=this._receivers.get(r);return l&&l.lastCascade?l.lastCascade:0}}function Ki(p,r,l){const m=c.ab.vec3.sub([],l,r),_=c.ab.vec3.sub([],p,r),x=c.ab.vec3.cross([],m,_),E=c.ab.vec3.length(x);return E===0?[0,0,1,0]:(c.ab.vec3.scale(x,x,1/E),[x[0],x[1],x[2],-c.ab.vec3.dot(x,r)])}function mo(p){const r=p.properties.get("direction"),l=c.cb(r.x,r.y,r.z);l[2]=c.aw(l[2],0,75);const m=c.ce([l[0],l[1],l[2]]);return c.ab.vec3.fromValues(m.x,m.y,m.z)}function Ji(p,r,l){const m=r.properties.get("color-use-theme")==="none",_=r.properties.get("color"),x=r.properties.get("intensity"),E=r.properties.get("direction"),R=[E.x,E.y,E.z],B=l.properties.get("color-use-theme")==="none",V=l.properties.get("color"),U=l.properties.get("intensity"),Q=Math.max(c.ab.vec3.dot([0,0,1],R),0),ee=[0,0,0];c.ab.vec3.scale(ee,V.toRenderColor(B?null:p.getLut(r.scope)).toArray01Linear().slice(0,3),U);const ce=[0,0,0];return c.ab.vec3.scale(ce,_.toRenderColor(m?null:p.getLut(l.scope)).toArray01Linear().slice(0,3),Q*x),c.cf([ee[0]>0?ee[0]/(ee[0]+ce[0]):0,ee[1]>0?ee[1]/(ee[1]+ce[1]):0,ee[2]>0?ee[2]/(ee[2]+ce[2]):0])}function Io(p,r,l,m,_,x){const E=p.zoom,R=p.scale,B=p.worldSize,V=1/B,U=p.aspect,Q=Math.sqrt(1+U*U)*Math.tan(.5*p.fovX),ee=Q*Q,ce=m-l,Me=m+l;let Se,Le;ee>ce/Me?(Se=m,Le=m*Q):(Se=.5*Me*(1+ee),Le=.5*Math.sqrt(ce*ce+2*(m*m+l*l)*ee+Me*Me*ee*ee));const Ae=p.projection.pixelsPerMeter(p.center.lat,B),rt=p._camera.getCameraToWorldMercator(),St=[0,0,-Se*V];c.ab.vec3.transformMat4(St,St,rt);let _t=Le*V;const Vt=p._edgeInsets;if(!(Vt.left===0&&Vt.top===0&&Vt.right===0&&Vt.bottom===0||Vt.left===Vt.right&&Vt.top===Vt.bottom)){const $i=p._camera.getWorldToCamera(p.worldSize,p.projection.zAxisUnit==="meters"?Ae:1),ti=p._camera.getCameraToClipPerspective(p._fov,p.width/p.height,l,m);ti[8]=2*-p.centerOffset.x/p.width,ti[9]=2*p.centerOffset.y/p.height;const jr=new Float64Array(16);c.ab.mat4.mul(jr,ti,$i);const Ci=new Float64Array(16);c.ab.mat4.invert(Ci,jr);const Li=c.bR.fromInvProjectionMatrix(Ci,B,E,!0);for(const ro of Li.points){const vo=((Lt=ro)[0]/=R,Lt[1]/=R,Lt[2]=c.bH(Lt[2],p._center.lat),Lt);_t=Math.max(_t,c.ab.vec3.len(c.ab.vec3.subtract([],St,vo)))}}var Lt;_t*=_/(_-1);const Bt=Math.acos(r[2]),Dt=Math.atan2(-r[0],-r[1]),rn=new ac;rn.position=St,rn.setPitchBearing(Bt,Dt);const xn=rn.getWorldToCamera(B,Ae),dr=_t*B,Jn=Math.min(p._mercatorZfromZoom(17)*B*-2,-2*dr),Br=rn.getCameraToClipOrthographic(-dr,dr,-dr,dr,Jn,(dr+x*Ae)/r[2]),Ar=new Float64Array(16);c.ab.mat4.multiply(Ar,Br,xn);const Zn=c.ab.vec3.fromValues(Math.floor(1e6*St[0])/1e6*B,Math.floor(1e6*St[1])/1e6*B,0),vr=.5*_,oi=[0,0,0];c.ab.vec3.transformMat4(oi,Zn,Ar),c.ab.vec3.scale(oi,oi,vr);const jn=[Math.floor(oi[0]),Math.floor(oi[1]),Math.floor(oi[2])],Vr=[0,0,0];c.ab.vec3.sub(Vr,oi,jn),c.ab.vec3.scale(Vr,Vr,-1/vr);const _r=new Float64Array(16);return c.ab.mat4.identity(_r),c.ab.mat4.translate(_r,_r,Vr),c.ab.mat4.multiply(Ar,_r,Ar),[Ar,dr]}class lo extends c.E{constructor(r){super(),this.requestManager=r,this.models={"":{}},this.modelUris={"":{}},this.numModelsLoading={}}loadModel(r,l){return c.aM(this.requestManager.transformRequest(l,c.R.Model).url).then(m=>{if(!m)return;const _=c.aN(m),x=new c.aO(r,void 0,void 0,_);return x.computeBoundsAndApplyParent(),x}).catch(m=>{if(m&&m.status===404)return null;this.fire(new c.y(new Error(`Could not load model ${r} from ${l}: ${m.message}`)))})}load(r,l,m={keepNumReferences:!1}){this.models[l]||(this.models[l]={});const _=Object.keys(r);this.numModelsLoading[l]=(this.numModelsLoading[l]||0)+_.length;const x=[];for(const E of _)x.push(this.loadModel(E,r[E]));Promise.allSettled(x).then(E=>{for(let R=0;R<E.length;R++){const{status:B,value:V}=E[R];if(B==="fulfilled"&&V){const U=this.models[l][_[R]];this.models[l][_[R]]={model:V,numReferences:m.keepNumReferences&&U?U.numReferences:1}}}this.numModelsLoading[l]-=_.length,this.fire(new c.z("data",{dataType:"style"}))}).catch(E=>{this.fire(new c.y(new Error(`Could not load models: ${E.message}`)))})}isLoaded(){for(const r in this.numModelsLoading)if(this.numModelsLoading[r]>0)return!1;return!0}hasModel(r,l){return!!this.getModel(r,l)}getModel(r,l){return this.models[l]||(this.models[l]={}),this.models[l][r]?this.models[l][r].model:void 0}addModel(r,l,m){this.models[m]||(this.models[m]={}),this.modelUris[m]||(this.modelUris[m]={}),this.hasModel(r,m)&&this.models[m][r].numReferences++,this.modelUris[m][r]=this.requestManager.normalizeModelURL(l),this.load({[r]:this.modelUris[m][r]},m)}addModels(r,l){this.models[l]||(this.models[l]={}),this.modelUris[l]||(this.modelUris[l]={});const m=this.modelUris[l];for(const _ in r)this.models[l][_]={},m[_]=this.requestManager.normalizeModelURL(r[_]);this.load(m,l,{keepNumReferences:!0})}reloadModels(r){this.load(this.modelUris[r],r)}addModelsFromBucket(r,l){this.models[l]||(this.models[l]={}),this.modelUris[l]||(this.modelUris[l]={});const m={};for(const _ of r)this.hasModel(_,l)?this.models[l][_].numReferences++:(this.modelUris[l][_]=this.requestManager.normalizeModelURL(_),m[_]=this.modelUris[l][_]);this.load(m,l)}removeModel(r,l){if(this.models[l]&&this.models[l][r]&&(this.models[l][r].numReferences--,this.models[l][r].numReferences===0)){const m=this.models[l][r].model;delete this.models[l][r],delete this.modelUris[l][r],m.destroy()}}listModels(r){return this.models[r]||(this.models[r]={}),Object.keys(this.models[r])}upload(r,l){this.models[l]||(this.models[l]={});for(const m in this.models[l])this.models[l][m].model&&this.models[l][m].model.upload(r.context)}}const no=new c.a5({data:new c.a6(c.a3.colorTheme.data)}),Uo={"mbx-indoor-active-floorplans":{default:["literal",[]]},"mbx-indoor-underground":{default:["literal",!1]},"mbx-indoor-loaded-levels":{default:["literal",[]]},"mbx-indoor-level-height":{default:["literal",{}]},"mbx-indoor-level-base":{default:["literal",{}]},"mbx-indoor-level-selected":{default:["literal",{}]},"mbx-indoor-level-overlapped":{default:["literal",{}]}};function No(p){return p=p||{},Object.assign(p,Uo)}class ea extends c.E{constructor(r){super(),this.mergeFloors=!0,this._scope=void 0,this._queryFeatureSetId=void 0,this._buildingEntryFeatureSetId=void 0,this._selectedFloorplan=void 0,this._indoorData=void 0,this._selectedLevel=void 0,this._floorplanStates={},c.aP(["_onLoad","_onMove","_checkFloorplanVisible"],this),this._map=r,this._checkFloorplanVisible(!0),this._map.on("load",this._onLoad),this._map.on("move",this._onMove)}destroy(){this._map.indoor.off("load",this._onLoad),this._map.indoor.off("move",this._onMove),this._map=void 0}_onLoad(){this._map.style.forEachFragmentStyle(r=>{r.stylesheet.indoor&&(this._queryFeatureSetId?this.fire(new c.y(new Error("Multiple indoor map styles detected, simultaneous usage is not allowed currently."))):(this._queryFeatureSetId=r.stylesheet.indoor.floorplanFeaturesetId,this._buildingEntryFeatureSetId=r.stylesheet.indoor.buildingFeaturesetId,this._scope=r.scope))}),this._queryFeatureSetId&&this._buildingEntryFeatureSetId&&this._map.addInteraction("mbx-indoor-buildingclick",{type:"click",target:{featuresetId:this._buildingEntryFeatureSetId,importId:this._scope},handler:r=>(r.feature&&r.feature.properties.floorplan&&this.selectFloorplan(r.feature.properties.floorplan),!0)}),this._checkFloorplanVisible(!0)}_onMove(){this._checkFloorplanVisible(!1)}_checkFloorplanVisible(r){if(!this._queryFeatureSetId||!this._map.isStyleLoaded()||this._map.transform.zoom<13)return;this._indoorData&&!function(E,R){const[B,V]=E,{center:U,radius:Q}=R,[ee,ce]=U,Me=Math.abs(B-ee);return Math.sqrt(Z_(Me>180?360-Me:Me,2)+Z_(V-ce,2))<=Q}([this._map.getCenter().lng,this._map.getCenter().lat],this._indoorData.circumCircle)&&(this._indoorData=void 0,this._selectedFloorplan=void 0,this._map.setConfigProperty(this._scope,"mbx-indoor-underground",!1),this._map.setConfigProperty(this._scope,"mbx-indoor-active-floorplans",["literal",[]]),this.fire(new c.z("floorplangone")));const l={target:{featuresetId:this._queryFeatureSetId,importId:this._scope}},m=new c.P(this._map.transform.width/2,this._map.transform.height/2),_=[new c.P(0,0),new c.P(this._map.transform.width,this._map.transform.height)],x=this._map.queryRenderedFeatures(r?_:m,l);x.length>0&&(this._selectedFloorplan&&x[0].properties.id===this._selectedFloorplan.properties.id||(this._selectedFloorplan=x[0],this._floorplanSelected(!1)))}_floorplanSelected(r){this._indoorData=JSON.parse(this._selectedFloorplan.properties["indoor-data"]),this._indoorData.id=this._selectedFloorplan.properties.id,this._indoorData.circumCircle=function(x){const[[E,R],[B,V]]=x,U=(B-E+360)%360,Q=U>180?360-U:U;return{center:[(E+Q/2+360)%360,(R+V)/2],radius:Math.sqrt(Z_(Q,2)+Z_(V-R,2))/2}}(this._indoorData.extent),this._floorplanStates[this._indoorData.id]||(this._floorplanStates[this._indoorData.id]={});const l=this._floorplanStates[this._indoorData.id].selectedBuilding,m=this._floorplanStates[this._indoorData.id].selectedLevel;let _;if(this._map.setConfigProperty(this._scope,"mbx-indoor-active-floorplans",this._indoorData.floorplanIDs),this._selectedLevel)for(const x of this._indoorData.levels)x.id===this._selectedLevel.id&&(_=x.id);if(this.fire(new c.z("floorplanselected",{buildings:this._indoorData.buildings,levels:this._indoorData.levels,selectedLevelId:_})),l){const x=this._indoorData.buildings.find(E=>E.id===l);this._buildingSelected(x,!1)}else this._indoorData.buildings.length>0&&this._buildingSelected(this._indoorData.buildings[0],!1);if(m){const x=this._indoorData.levels.find(E=>E.id===m);this._updateLevels(x,r)}else r&&this._indoorData["default-levels"].length>0&&this.selectLevel(this._indoorData["default-levels"][0])}_buildingSelected(r,l){l&&r&&r.extent&&this._map.fitBounds(r.extent,{pitch:this._map.getPitch(),bearing:this._map.getBearing()}),this._floorplanStates[this._indoorData.id].selectedBuilding=r?r.id:void 0;const m=this._indoorData.levels.filter(_=>r.levels.includes(_.id));this.fire(new c.z("buildingselected",{buildingId:r.id,levels:m}))}_levelSelected(r){if(r==="overview")this._updateLevels(void 0,!0);else{const l=this._indoorData.levels.find(m=>m.id===r);this._updateLevels(l,!0)}this.fire(new c.z("levelselected",{levelId:r==="overview"?void 0:r}))}_updateLevels(r,l){if(!r)return this._map.setConfigProperty(this._scope,"mbx-indoor-loaded-levels",["literal",[]]),this._map.setConfigProperty(this._scope,"mbx-indoor-underground",!1),this._floorplanStates[this._indoorData.id].selectedLevel=void 0,void(l&&this._indoorData.extent&&this._map.fitBounds(this._indoorData.extent,{pitch:this._map.getPitch(),bearing:this._map.getBearing()}));function m(V){const U=V.indexOf("/floor/");if(U===-1)return V;const Q=U+7,ee=V.indexOf("/",Q);return ee===-1?V.slice(Q):V.slice(Q,ee)}this._selectedLevel=r,this._floorplanStates[this._indoorData.id].selectedLevel=r?r.id:void 0;const _=[],x={},E={},R={},B={};for(const V of this._indoorData.levels)if(_.push(V.id),x[V.id]=V.height,E[V.id]=V.base,r){if(this.mergeFloors){const U=m(r.id),Q=m(V.id);R[V.id]=Q===U?"true":"false"}else R[V.id]=V.id===r.id?"true":"false";B[V.id]=V.base<r.base?"true":"false"}else B[V.id]=!0;if(this._map.setConfigProperty(this._scope,"mbx-indoor-loaded-levels",["literal",_]),this._map.setConfigProperty(this._scope,"mbx-indoor-level-height",["literal",x]),this._map.setConfigProperty(this._scope,"mbx-indoor-level-base",["literal",E]),this._map.setConfigProperty(this._scope,"mbx-indoor-level-selected",["literal",R]),this._map.setConfigProperty(this._scope,"mbx-indoor-level-overlapped",["literal",B]),r&&(this._map.setConfigProperty(this._scope,"mbx-indoor-underground",!!r.isUnderground),l&&r.extent)){const V=this._map.cameraForBounds(r.extent,{pitch:this._map.getPitch(),bearing:this._map.getBearing()}),U=this._map.getZoom(),Q=V.zoom?Math.abs(U-V.zoom):0;this._map.fitBounds(r.extent,Q>=1?{pitch:this._map.getPitch(),bearing:this._map.getBearing()}:{pitch:this._map.getPitch(),bearing:this._map.getBearing(),zoom:U})}}selectFloorplan(r){const l={target:{featuresetId:this._queryFeatureSetId,importId:this._scope}},m=[new c.P(0,0),new c.P(this._map.transform.width,this._map.transform.height)],_=this._map.queryRenderedFeatures(m,l);if(_.length>0){for(const x of _)if(JSON.parse(x.properties["indoor-data"]).floorplanIDs.includes(r)){this._selectedFloorplan=x,this._floorplanSelected(!0);break}}}selectBuilding(r){const l=this._indoorData.buildings.find(m=>m.id===r);this._buildingSelected(l,!0)}selectLevel(r){this._levelSelected(r)}}function Ua(p){if(!p.metadata||!p.metadata.content_area)return;const r=c.q.devicePixelRatio,{left:l,top:m,width:_,height:x}=p.metadata.content_area,E=l*r,R=m*r;return[E,R,E+_*r,R+x*r]}function ua(p){if(p)return p.map(([r,l])=>[r*c.q.devicePixelRatio,l*c.q.devicePixelRatio])}const Oa=(p,r)=>uo(p,r&&r.filter(l=>l.identifier!=="source.canvas")),es=c.ay(fr,["addLayer","removeLayer","setLights","setPaintProperty","setLayoutProperty","setSlot","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData","setTerrain","setFog","setSnow","setRain","setProjection","setCamera","addImport","removeImport","updateImport"]),Ra=c.ay(fr,["setCenter","setZoom","setBearing","setPitch"]),qa=new Set(["background","sky","slot","custom"]),Xa={version:8,layers:[],sources:{}},is={duration:300,delay:0};class ns extends c.E{constructor(r,l={}){super(),this.map=r,this.scope=l.scope||"",this.globalId=null,this.fragments=[],this.importDepth=l.importDepth||0,this.importsCache=l.importsCache||new Map,this.resolvedImports=l.resolvedImports||new Set,this.transition=c.l({},is),this._buildingIndex=new In(this),this.crossTileSymbolIndex=new _l,this._mergedOrder=[],this._drapedFirstOrder=[],this._mergedLayers={},this._mergedSourceCaches={},this._mergedOtherSourceCaches={},this._mergedSymbolSourceCaches={},this._clipLayerPresent=!1,this._has3DLayers=!1,this._hasCircleLayers=!1,this._hasSymbolLayers=!1,this._changes=l.styleChanges||new Kr,this.dispatcher=l.dispatcher?l.dispatcher:new c.D(c.ci(),this),l.imageManager?this.imageManager=l.imageManager:(this.imageManager=new Wr(this.map._spriteFormat),this.imageManager.setEventedParent(this)),this.imageManager.createScope(this.scope),this.glyphManager=l.glyphManager?l.glyphManager:new c.cj(r._requestManager,l.localFontFamily?c.ck.all:l.localIdeographFontFamily?c.ck.ideographs:c.ck.none,l.localFontFamily||l.localIdeographFontFamily),l.modelManager?this.modelManager=l.modelManager:(this.modelManager=new lo(r._requestManager),this.modelManager.setEventedParent(this)),this._layers={},this._sourceCaches={},this._otherSourceCaches={},this._symbolSourceCaches={},this._loaded=!1,this._precompileDone=!1,this._shouldPrecompile=!1,this._availableImages=[],this._order=[],this._markersNeedUpdate=!1,this.options=l.configOptions?l.configOptions:new Map,this._configDependentLayers=l.configDependentLayers?l.configDependentLayers:new Set,this._config=l.config,this._styleColorTheme={lut:null,lutLoading:!1,lutLoadingCorrelationID:0,colorTheme:null,colorThemeOverride:l.colorThemeOverride},this._styleColorThemeForScope={},this._initialConfig=l.initialConfig,this.dispatcher.broadcast("setReferrer",c.cl());const m=this;this._rtlTextPluginCallback=ns.registerForPluginStateChange(_=>{m.dispatcher.broadcast("syncRTLPluginState",{pluginStatus:_.pluginStatus,pluginURL:_.pluginURL},(x,E)=>{if(c.cm(x),E&&E.every(R=>R))for(const R in m._sourceCaches){const B=m._sourceCaches[R],V=B.getSource().type;V!=="vector"&&V!=="geojson"||B.reload()}})}),this.on("data",_=>{if(_.dataType!=="source"||_.sourceDataType!=="metadata")return;const x=this.getOwnSource(_.sourceId);if(x&&x.vectorLayerIds)for(const E in this._layers){const R=this._layers[E];R.source===x.id&&this._validateLayer(R)}})}load(r){return r?(typeof r=="string"?this.loadURL(r):this.loadJSON(r),this):this}_getGlobalId(r){if(!r)return null;if(typeof r=="string"){if(c.f(r))return r;const l=c.cn(r);if(!l.startsWith("http"))try{return new URL(l,location.href).toString()}catch(m){return l}return l}return`json://${c.co(JSON.stringify(r))}`}_diffStyle(r,l,m){this.globalId=this._getGlobalId(r);const _=(x,E)=>{try{E(null,this.setState(x,m))}catch(R){E(R,!1)}};if(typeof r=="string"){const x=this.map._requestManager.normalizeStyleURL(r),E=this.map._requestManager.transformRequest(x,c.R.Style);c.n(E,(R,B)=>{R?this.fire(new c.y(R)):B&&_(B,l)})}else typeof r=="object"&&_(r,l)}loadURL(r,l={}){this.fire(new c.z("dataloading",{dataType:"style"}));const m=typeof l.validate=="boolean"?l.validate:!c.f(r);this.globalId=this._getGlobalId(r),r=this.map._requestManager.normalizeStyleURL(r,l.accessToken),this.resolvedImports.add(r);const _=this.importsCache.get(r);if(_)return this._load(_,m);const x=this.map._requestManager.transformRequest(r,c.R.Style);this._request=c.n(x,(E,R)=>{if(this._request=null,E)this.fire(new c.y(E));else if(R)return this.importsCache.set(r,R),this._load(R,m)})}loadJSON(r,l={}){this.fire(new c.z("dataloading",{dataType:"style"})),this.globalId=this._getGlobalId(r),this._request=c.q.frame(()=>{this._request=null,this._load(r,l.validate!==!1)})}loadEmpty(){this.fire(new c.z("dataloading",{dataType:"style"})),this._load(Xa,!1)}_loadImports(r,l,m){if(this.importDepth>=4)return c.w("Style doesn't support nesting deeper than 5"),Promise.resolve();const _=[];for(const x of r){const E=this._createFragmentStyle(x),R=new Promise(U=>{E.once("style.import.load",U),E.once("error",U)}).then(()=>this.mergeAll());if(_.push(R),this.resolvedImports.has(x.url)){E.loadEmpty();continue}const B=x.data||this.importsCache.get(x.url);B?(E.loadJSON(B,{validate:l}),this._isInternalStyle(B)&&(E.globalId=null)):x.url?E.loadURL(x.url,{validate:l}):E.loadEmpty();const V={style:E,id:x.id,config:x.config};if(m){const U=this.fragments.findIndex(({id:Q})=>Q===m);this.fragments=this.fragments.slice(0,U).concat(V).concat(this.fragments.slice(U))}else this.fragments.push(V)}return Promise.allSettled(_)}getImportGlobalIds(r=this,l=new Set){for(const m of r.fragments)m.style.globalId&&l.add(m.style.globalId),this.getImportGlobalIds(m.style,l);return[...l.values()]}_createFragmentStyle(r){const l=this.scope?c.aC(r.id,this.scope):r.id;let m;const _=this._initialConfig&&this._initialConfig[l];(r.config||_)&&(m=c.l({},r.config,_));const x=new ns(this.map,{scope:l,styleChanges:this._changes,importDepth:this.importDepth+1,importsCache:this.importsCache,resolvedImports:new Set(this.resolvedImports),dispatcher:this.dispatcher,imageManager:this.imageManager,glyphManager:this.glyphManager,modelManager:this.modelManager,config:m,configOptions:this.options,colorThemeOverride:r["color-theme"],configDependentLayers:this._configDependentLayers});return x.setEventedParent(this.map,{style:x}),x}_reloadImports(){this.mergeAll(),this._updateMapProjection(),this.updateConfigDependencies(),this.map._triggerCameraUpdate(this.camera),this.dispatcher.broadcast("setLayers",{layers:this._serializeLayers(this._order),scope:this.scope,options:this.options}),this._shouldPrecompile=this.map._precompilePrograms&&this.isRootStyle()}_isInternalStyle(r){return this.isRootStyle()&&(r.fragment||!!r.schema&&r.fragment!==!1)}_load(r,l){const m=r.indoor?No(r.schema):r.schema;if(this._isInternalStyle(r)){const E=c.l({},Xa,{imports:[{id:"basemap",data:r,url:""}]});return void this._load(E,l)}if(this.updateConfig(this._config,m),l&&Oa(this,Yi(r)))return;this._loaded=!0,this.stylesheet=c.cp(r);const _=()=>{for(const V in r.sources)this.addSource(V,r.sources[V],{validate:!1,isInitialLoad:!0});r.sprite?this._loadIconset(r.sprite):(this.imageManager.setLoaded(!0,this.scope),this.dispatcher.broadcast("spriteLoaded",{scope:this.scope,isLoaded:!0})),this.glyphManager.setURL(r.glyphs,this.scope);const E=ci(this.stylesheet.layers);if(this._order=E.map(V=>V.id),this.stylesheet.light&&c.w("The `light` root property is deprecated, prefer using `lights` with `flat` light type instead."),this.stylesheet.lights)if(this.stylesheet.lights.length===1&&this.stylesheet.lights[0].type==="flat"){const V=this.stylesheet.lights[0];this.light=new de(V.properties,V.id)}else this.setLights(this.stylesheet.lights);this.light||(this.light=new de(this.stylesheet.light)),this._layers={};for(const V of E){const U=c.cu(V,this.scope,this._styleColorTheme.lut,this.options);U.configDependencies.size!==0&&this._configDependentLayers.add(U.fqid),U.setEventedParent(this,{layer:{id:U.id}}),this._layers[U.id]=U;const Q=this.getOwnLayerSourceCache(U),ee=!!this.directionalLight&&this.directionalLight.shadowsEnabled();Q&&U.canCastShadows()&&ee&&(Q.castsShadows=!0)}this.stylesheet.featuresets&&this.setFeaturesetSelectors(this.stylesheet.featuresets),this.stylesheet.models&&this.modelManager.addModels(this.stylesheet.models,this.scope);const R=this.stylesheet.terrain;R&&(this.checkCanvasFingerprintNoise(),this.disableElevatedTerrain||this.terrainSetForDrapingOnly()||this._createTerrain(R,1)),this.stylesheet.fog&&this._createFog(this.stylesheet.fog),this.stylesheet.snow&&this._createSnow(this.stylesheet.snow),this.stylesheet.rain&&this._createRain(this.stylesheet.rain),this.stylesheet.transition&&this.setTransition(this.stylesheet.transition),this.fire(new c.z("data",{dataType:"style"}));const B=this.isRootStyle();r.imports?this._loadImports(r.imports,l).then(()=>{this._reloadImports(),this.fire(new c.z(B?"style.load":"style.import.load"))}):(this._reloadImports(),this.fire(new c.z(B?"style.load":"style.import.load")))};this._styleColorTheme.colorTheme=this.stylesheet["color-theme"];const x=this._styleColorTheme.colorThemeOverride?this._styleColorTheme.colorThemeOverride:this._styleColorTheme.colorTheme;if(x){const E=this._evaluateColorThemeData(x);this._loadColorTheme(E).then(()=>{_()}).catch(R=>{c.w(`Couldn't load color theme from the stylesheet: ${R}`),_()})}else this._styleColorTheme.lut=null,_()}isRootStyle(){return this.importDepth===0}mergeAll(){let r,l,m,_,x,E,R,B,V,U;const Q={};this.terrain&&this.terrain.scope!==this.scope&&delete this.terrain,this.forEachFragmentStyle(ee=>{if(ee.stylesheet){if(ee.light!=null&&(r=ee.light),ee.stylesheet.lights)for(const ce of ee.stylesheet.lights)ce.type==="ambient"&&ee.ambientLight!=null&&(l=ee.ambientLight),ce.type==="directional"&&ee.directionalLight!=null&&(m=ee.directionalLight);_=this._prioritizeTerrain(_,ee.terrain,ee.stylesheet.terrain),ee.stylesheet.fog&&ee.fog!=null&&(x=ee.fog),ee.stylesheet.snow&&ee.snow!=null&&(E=ee.snow),ee.stylesheet.rain&&ee.rain!=null&&(R=ee.rain),ee.stylesheet.camera!=null&&(U=ee.stylesheet.camera),ee.stylesheet.projection!=null&&(B=ee.stylesheet.projection),ee.stylesheet.transition!=null&&(V=ee.stylesheet.transition),Q[ee.scope]=ee._styleColorTheme}}),this.light=r,this.ambientLight=l,this.directionalLight=m,this.fog=x,this.snow=E,this.rain=R,this._styleColorThemeForScope=Q,_===null?delete this.terrain:this.terrain=_,this.camera=U||{"camera-projection":"perspective"},this.projection=B||{name:"mercator"},this.transition=c.l({},is,V),this.mergeSources(),this.mergeLayers()}forEachFragmentStyle(r){const l=m=>{for(const _ of m.fragments)l(_.style);r(m)};l(this)}_prioritizeTerrain(r,l,m){const _=r&&r.drapeRenderMode===0;return m===null?l&&l.drapeRenderMode===0?l:_?r:null:l!=null&&(!r||_||l&&l.drapeRenderMode===1)?l:r}mergeTerrain(){let r;this.terrain&&this.terrain.scope!==this.scope&&delete this.terrain,this.forEachFragmentStyle(l=>{r=this._prioritizeTerrain(r,l.terrain,l.stylesheet.terrain)}),r===null?delete this.terrain:this.terrain=r}mergeProjection(){let r;this.forEachFragmentStyle(l=>{l.stylesheet.projection!=null&&(r=l.stylesheet.projection)}),this.projection=r||{name:"mercator"}}mergeSources(){const r={},l={},m={};this.forEachFragmentStyle(_=>{for(const x in _._sourceCaches){const E=c.aC(x,_.scope);r[E]=_._sourceCaches[x]}for(const x in _._otherSourceCaches){const E=c.aC(x,_.scope);l[E]=_._otherSourceCaches[x]}for(const x in _._symbolSourceCaches){const E=c.aC(x,_.scope);m[E]=_._symbolSourceCaches[x]}}),this._mergedSourceCaches=r,this._mergedOtherSourceCaches=l,this._mergedSymbolSourceCaches=m}mergeLayers(){const r={},l=[],m={};this._mergedSlots=[],this._has3DLayers=!1,this._hasCircleLayers=!1,this._hasSymbolLayers=!1,this.forEachFragmentStyle(x=>{for(const E of x._order){const R=x._layers[E];if(R.type==="slot"){const B=c.cq(E);if(r[B])continue;r[B]=[]}R.slot&&r[R.slot]?r[R.slot].push(R):l.push(R)}}),this._mergedOrder=[];const _=(x=[])=>{for(const E of x)if(E.type==="slot"){const R=c.cq(E.id);r[R]&&_(r[R]),this._mergedSlots.push(R)}else{const R=c.aC(E.id,E.scope);this._mergedOrder.push(R),m[R]=E,E.is3D()&&(this._has3DLayers=!0),E.type==="circle"&&(this._hasCircleLayers=!0),E.type==="symbol"&&(this._hasSymbolLayers=!0),E.type==="clip"&&(this._clipLayerPresent=!0)}};_(l),this._mergedOrder.sort((x,E)=>{const R=m[x],B=m[E];return R.hasInitialOcclusionOpacityProperties?B.is3D()?1:0:R.is3D()&&B.hasInitialOcclusionOpacityProperties?-1:0}),this._mergedLayers=m,this.updateDrapeFirstLayers(),this._buildingIndex.processLayersChanged()}terrainSetForDrapingOnly(){return!!this.terrain&&this.terrain.drapeRenderMode===0}getCamera(){return this.stylesheet.camera}setCamera(r){return this.stylesheet.camera=c.l({},this.stylesheet.camera,r),this.camera=this.stylesheet.camera,this}_evaluateColorThemeData(r){return r.data?function(l,m,_){const x=c.l({},m);for(const R of Object.keys(c.a3.colorTheme))x[R]===void 0&&(x[R]=c.a3.colorTheme[R].default);const E=new c.a4(no,l,new Map(_));return E.setTransitionOrValue(x,_),E.untransitioned().possiblyEvaluate(new c.a8(0))}(this.scope,r,this.options).get("data"):null}_loadColorTheme(r){this._styleColorTheme.lutLoading=!0,this._styleColorTheme.lutLoadingCorrelationID+=1;const l=this._styleColorTheme.lutLoadingCorrelationID;return new Promise((m,_)=>{const x="data:image/png;base64,";if(!r||r.length===0)return this._styleColorTheme.lut=null,this._styleColorTheme.lutLoading=!1,void m();let E=r;E.startsWith(x)||(E=x+E);const R="mapbox-reserved-lut",B=new Image;B.src=E,B.onerror=()=>{this._styleColorTheme.lutLoading=!1,_(new Error("Failed to load image data"))},B.onload=()=>{if(this._styleColorTheme.lutLoadingCorrelationID!==l)return void m();this._styleColorTheme.lutLoading=!1;const{width:V,height:U,data:Q}=c.q.getImageData(B);if(U>32)return void _(new Error("The height of the image must be less than or equal to 32 pixels."));if(V!==U*U)return void _(new Error("The width of the image must be equal to the height squared."));this.getImage(R)&&this.removeImage(R),this.addImage(R,{data:new c.r({width:V,height:U},Q),pixelRatio:1,sdf:!1,usvg:!1,version:0});const ee=this.imageManager.getImage(R,this.scope);ee?(this._styleColorTheme.lut={image:ee.data,data:r},m()):_(new Error("Missing LUT image."))}})}getLut(r){const l=this._styleColorThemeForScope[r];return l?l.lut:null}setProjection(r){r?this.stylesheet.projection=r:delete this.stylesheet.projection,this.mergeProjection(),this._updateMapProjection()}applyProjectionUpdate(){this._loaded&&(this.dispatcher.broadcast("setProjection",this.map.transform.projectionOptions),this.map.transform.projection.requiresDraping?(this.getTerrain()||this.stylesheet.terrain)&&!this.disableElevatedTerrain||this.setTerrainForDraping():this.terrainSetForDrapingOnly()&&this.setTerrain(null,0))}_updateMapProjection(){this.isRootStyle()&&(this.map._useExplicitProjection?this.applyProjectionUpdate():this.map._prioritizeAndUpdateProjection(null,this.projection))}_loadSprite(r){this._spriteRequest=function(l,m,_){let x,E,R;const B=c.q.devicePixelRatio>1?"@2x":"";let V=c.n(m.transformRequest(m.normalizeSpriteURL(l,B,".json"),c.R.SpriteJSON),(ee,ce)=>{V=null,R||(R=ee,x=ce,Q())}),U=c.o(m.transformRequest(m.normalizeSpriteURL(l,B,".png"),c.R.SpriteImage),(ee,ce)=>{U=null,R||(R=ee,E=ce,Q())});function Q(){if(R)_(R);else if(x&&E){const ee=c.q.getImageData(E),ce={};for(const Me in x){const{width:Se,height:Le,x:Ae,y:rt,sdf:St,pixelRatio:_t,stretchX:Vt,stretchY:Lt,content:Bt}=x[Me],Dt=new c.r({width:Se,height:Le});c.r.copy(ee,Dt,{x:Ae,y:rt},{x:0,y:0},{width:Se,height:Le},null),ce[Me]={data:Dt,pixelRatio:_t,sdf:St,stretchX:Vt,stretchY:Lt,content:Bt,usvg:!1}}_(null,ce)}}return{cancel(){V&&(V.cancel(),V=null),U&&(U.cancel(),U=null)}}}(r,this.map._requestManager,(l,m)=>{if(this._spriteRequest=null,l)this.fire(new c.y(l));else if(m)for(const _ in m)this.imageManager.addImage(_,this.scope,m[_]);this.imageManager.setLoaded(!0,this.scope),this._availableImages=this.imageManager.listImages(this.scope),this.dispatcher.broadcast("setImages",{scope:this.scope,images:this._availableImages}),this.dispatcher.broadcast("spriteLoaded",{scope:this.scope,isLoaded:!0}),this.fire(new c.z("data",{dataType:"style"}))})}_loadIconset(r){if(!c.f(r)&&this.map._spriteFormat!=="icon_set"||this.map._spriteFormat==="raster")return void this._loadSprite(r);const l=this.map._spriteFormat==="auto";var m,_;this._spriteRequest=(_=(x,E)=>{if(this._spriteRequest=null,x)l?this._loadSprite(r):this.fire(new c.y(x));else if(E)for(const R in E)this.imageManager.addImage(R,this.scope,E[R]);this.imageManager.setLoaded(!0,this.scope),this._availableImages=this.imageManager.listImages(this.scope),this.dispatcher.broadcast("setImages",{scope:this.scope,images:this._availableImages}),this.dispatcher.broadcast("spriteLoaded",{scope:this.scope,isLoaded:!0}),this.fire(new c.z("data",{dataType:"style"}))},c.bi((m=this.map._requestManager).transformRequest(m.normalizeIconsetURL(r),c.R.Iconset),(x,E)=>{if(x)return void _(x);const R={},B=c.cg(new c.bh(E));for(const V of B.icons){const U={version:1,pixelRatio:c.q.devicePixelRatio,content:Ua(V),stretchX:V.metadata?ua(V.metadata.stretch_x_areas):void 0,stretchY:V.metadata?ua(V.metadata.stretch_y_areas):void 0,sdf:!1,usvg:!0,icon:V};R[V.name]=U}_(null,R)}))}_validateLayer(r){const l=this.getOwnSource(r.source);if(!l)return;const m=r.sourceLayer;m&&(l.type==="geojson"||l.vectorLayerIds&&l.vectorLayerIds.indexOf(m)===-1)&&this.fire(new c.y(new Error(`Source layer "${m}" does not exist on source "${l.id}" as specified by style layer "${r.id}"`)))}loaded(){if(!this._loaded||Object.keys(this._changes.getUpdatedSourceCaches()).length)return!1;for(const r in this._sourceCaches)if(!this._sourceCaches[r].loaded())return!1;if(!this.imageManager.isLoaded()||!this.modelManager.isLoaded()||this._styleColorTheme.lutLoading)return!1;for(const{style:r}of this.fragments)if(!r.loaded())return!1;return!0}_serializeImports(){if(this.stylesheet.imports)return this.stylesheet.imports.map((r,l)=>{const m=this.fragments[l];return m&&m.style&&(r.data=m.style.serialize()),r})}_serializeSources(){const r={};for(const l in this._sourceCaches){const m=this._sourceCaches[l].getSource();r[m.id]||(r[m.id]=m.serialize())}return r}_serializeLayers(r){const l=[];for(const m of r){const _=this._layers[m];_&&_.type!=="custom"&&l.push(_.serialize())}return l}hasLightTransitions(){return!(!this.light||!this.light.hasTransition())||!(!this.ambientLight||!this.ambientLight.hasTransition())||!(!this.directionalLight||!this.directionalLight.hasTransition())}hasFogTransition(){return!!this.fog&&this.fog.hasTransition()}hasSnowTransition(){return!!this.snow&&this.snow.hasTransition()}hasRainTransition(){return!!this.rain&&this.rain.hasTransition()}hasTransitions(){if(this.hasLightTransitions()||this.hasFogTransition()||this.hasSnowTransition()||this.hasRainTransition())return!0;for(const r in this._sourceCaches)if(this._sourceCaches[r].hasTransition())return!0;for(const r in this._layers)if(this._layers[r].hasTransition())return!0;return!1}get order(){return this.terrain?this._drapedFirstOrder:this._mergedOrder}_getOrder(r){return r?this.order:this._mergedOrder}isLayerDraped(r){return!!this.terrain&&r.isDraped(this.getLayerSourceCache(r))}_checkLoaded(){if(!this._loaded)throw new Error("Style is not done loading")}_checkLayer(r){const l=this.getOwnLayer(r);if(l)return l;this.fire(new c.y(new Error(`The layer '${r}' does not exist in the map's style.`)))}_checkSource(r){const l=this.getOwnSource(r);if(l)return l;this.fire(new c.y(new Error(`The source '${r}' does not exist in the map's style.`)))}precompilePrograms(r,l){const m=this.map.painter;if(m)for(let _=r.minzoom||0;_<(r.maxzoom||25.5);_++){const x=r.getProgramIds();if(x)for(const E of x){const R=r.getDefaultProgramParams(E,l.zoom,this._styleColorTheme.lut);R&&(m.style=this,this.fog&&(m._fogVisible=!0,R.overrideFog=!0,m.getOrCreateProgram(E,R)),m._fogVisible=!1,R.overrideFog=!1,m.getOrCreateProgram(E,R),(this.stylesheet.terrain||this.stylesheet.projection&&this.stylesheet.projection.name==="globe")&&(R.overrideRtt=!0,m.getOrCreateProgram(E,R)))}}}update(r){if(!this._loaded)return;this.ambientLight&&this.ambientLight.recalculate(r),this.directionalLight&&this.directionalLight.recalculate(r);const l=this.calculateLightsBrightness();r.brightness=l||0,l!==this._brightness&&(this._brightness=l,this.dispatcher.broadcast("setBrightness",l));const m=this._changes.isDirty();let _=!1;if(this._changes.isDirty()){const E=this._changes.getLayerUpdatesByScope();for(const R in E){const{updatedIds:B,removedIds:V}=E[R];(B||V)&&(this._updateWorkerLayers(R,B,V),_=!0)}this.updateSourceCaches(),this._updateTilesForChangedImages(),this.updateLayers(r),this.light&&this.light.updateTransitions(r),this.ambientLight&&this.ambientLight.updateTransitions(r),this.directionalLight&&this.directionalLight.updateTransitions(r),this.fog&&this.fog.updateTransitions(r),this.snow&&this.snow.updateTransitions(r),this.rain&&this.rain.updateTransitions(r),this._changes.reset()}const x={};for(const E in this._mergedSourceCaches){const R=this._mergedSourceCaches[E];x[E]=R.used,R.used=!1,R.tileCoverLift=0}for(const E of this._mergedOrder){const R=this._mergedLayers[E];if(R.recalculate(r,this._availableImages),!R.isHidden(r.zoom)){const B=this.getLayerSourceCache(R);B&&(B.used=!0,B.tileCoverLift=Math.max(B.tileCoverLift,R.tileCoverLift()))}!this._precompileDone&&this._shouldPrecompile&&("requestIdleCallback"in window?requestIdleCallback(()=>{this.precompilePrograms(R,r)}):this.precompilePrograms(R,r))}this._shouldPrecompile&&(this._precompileDone=!0),this.terrain&&_&&this.mergeLayers();for(const E in x){const R=this._mergedSourceCaches[E];x[E]!==R.used&&R.getSource().fire(new c.z("data",{sourceDataType:"visibility",dataType:"source",sourceId:R.getSource().id}))}this.light&&this.light.recalculate(r),this.terrain&&this.terrain.recalculate(r),this.fog&&this.fog.recalculate(r),this.snow&&this.snow.recalculate(r),this.rain&&this.rain.recalculate(r),this.z=r.zoom,this._markersNeedUpdate&&(this._updateMarkersOpacity(),this._markersNeedUpdate=!1),m&&this.fire(new c.z("data",{dataType:"style"}))}_updateTilesForChangedImages(){const r=this._changes.getUpdatedImages();if(r.length){for(const l in this._sourceCaches)this._sourceCaches[l].reloadTilesForDependencies(["icons","patterns"],r);this._changes.resetUpdatedImages()}}_updateWorkerLayers(r,l,m){const _=this.getFragmentStyle(r);_&&this.dispatcher.broadcast("updateLayers",{layers:l?_._serializeLayers(l):[],scope:r,removedIds:m||[],options:_.options})}setState(r,l){if(this._checkLoaded(),Oa(this,Yi(r)))return!1;(r=c.cp(r)).layers=ci(r.layers);const m=function(E,R){if(!E)return[{command:fr.setStyle,args:[R]}];let B=[];try{if(!c.bn(E.version,R.version))return[{command:fr.setStyle,args:[R]}];if(c.bn(E.center,R.center)||B.push({command:fr.setCenter,args:[R.center]}),c.bn(E.zoom,R.zoom)||B.push({command:fr.setZoom,args:[R.zoom]}),c.bn(E.bearing,R.bearing)||B.push({command:fr.setBearing,args:[R.bearing]}),c.bn(E.pitch,R.pitch)||B.push({command:fr.setPitch,args:[R.pitch]}),c.bn(E.sprite,R.sprite)||B.push({command:fr.setSprite,args:[R.sprite]}),c.bn(E.glyphs,R.glyphs)||B.push({command:fr.setGlyphs,args:[R.glyphs]}),c.bn(E.imports,R.imports)||function(ce=[],Me=[],Se){Me=Me||[];const Le=(ce=ce||[]).map(Ei),Ae=Me.map(Ei),rt=ce.reduce(_i,{}),St=Me.reduce(_i,{}),_t=Le.slice();let Vt,Lt,Bt,Dt;for(Vt=0,Lt=0;Vt<Le.length;Vt++)Bt=Le[Vt],St.hasOwnProperty(Bt)?Lt++:(Se.push({command:fr.removeImport,args:[Bt]}),_t.splice(_t.indexOf(Bt,Lt),1));for(Vt=0,Lt=0;Vt<Ae.length;Vt++)Bt=Ae[Ae.length-1-Vt],_t[_t.length-1-Vt]!==Bt&&(rt.hasOwnProperty(Bt)?(Se.push({command:fr.removeImport,args:[Bt]}),_t.splice(_t.lastIndexOf(Bt,_t.length-Lt),1)):Lt++,Dt=_t[_t.length-Vt],Se.push({command:fr.addImport,args:[St[Bt],Dt]}),_t.splice(_t.length-Vt,0,Bt));for(const rn of Me){const xn=rt[rn.id];xn&&!c.bn(xn,rn)&&Se.push({command:fr.updateImport,args:[rn.id,rn]})}}(E.imports,R.imports,B),c.bn(E.transition,R.transition)||B.push({command:fr.setTransition,args:[R.transition]}),c.bn(E.light,R.light)||B.push({command:fr.setLight,args:[R.light]}),c.bn(E.fog,R.fog)||B.push({command:fr.setFog,args:[R.fog]}),c.bn(E.snow,R.snow)||B.push({command:fr.setSnow,args:[R.snow]}),c.bn(E.rain,R.rain)||B.push({command:fr.setRain,args:[R.rain]}),c.bn(E.projection,R.projection)||B.push({command:fr.setProjection,args:[R.projection]}),c.bn(E.lights,R.lights)||B.push({command:fr.setLights,args:[R.lights]}),c.bn(E.camera,R.camera)||B.push({command:fr.setCamera,args:[R.camera]}),!c.bn(E["color-theme"],R["color-theme"]))return[{command:fr.setStyle,args:[R]}];const V={},U=[];(function(ce,Me,Se,Le){let Ae;for(Ae in Me=Me||{},ce=ce||{})ce.hasOwnProperty(Ae)&&(Me.hasOwnProperty(Ae)||to(Ae,Se,Le));for(Ae in Me){if(!Me.hasOwnProperty(Ae))continue;const rt=Me[Ae];ce.hasOwnProperty(Ae)?c.bn(ce[Ae],rt)||(ce[Ae].type==="geojson"&&rt.type==="geojson"&&Vi(ce,Me,Ae)?Se.push({command:fr.setGeoJSONSourceData,args:[Ae,rt.data]}):xr(Ae,Me,Se,Le)):Ai(Ae,Me,Se)}})(E.sources,R.sources,U,V);const Q=[];E.layers&&E.layers.forEach(ce=>{ce.source&&V[ce.source]?B.push({command:fr.removeLayer,args:[ce.id]}):Q.push(ce)});let ee=E.terrain;ee&&V[ee.source]&&(B.push({command:fr.setTerrain,args:[void 0]}),ee=void 0),B=B.concat(U),c.bn(ee,R.terrain)||B.push({command:fr.setTerrain,args:[R.terrain]}),function(ce,Me,Se){Me=Me||[];const Le=(ce=ce||[]).map(Ei),Ae=Me.map(Ei),rt=ce.reduce(_i,{}),St=Me.reduce(_i,{}),_t=Le.slice(),Vt=Object.create(null);let Lt,Bt,Dt,rn,xn,dr,Jn;for(Lt=0,Bt=0;Lt<Le.length;Lt++)Dt=Le[Lt],St.hasOwnProperty(Dt)?Bt++:(Se.push({command:fr.removeLayer,args:[Dt]}),_t.splice(_t.indexOf(Dt,Bt),1));for(Lt=0,Bt=0;Lt<Ae.length;Lt++)Dt=Ae[Ae.length-1-Lt],_t[_t.length-1-Lt]!==Dt&&(rt.hasOwnProperty(Dt)?(Se.push({command:fr.removeLayer,args:[Dt]}),_t.splice(_t.lastIndexOf(Dt,_t.length-Bt),1)):Bt++,dr=_t[_t.length-Lt],Se.push({command:fr.addLayer,args:[St[Dt],dr]}),_t.splice(_t.length-Lt,0,Dt),Vt[Dt]=!0);for(Lt=0;Lt<Ae.length;Lt++)if(Dt=Ae[Lt],rn=rt[Dt],xn=St[Dt],!Vt[Dt]&&!c.bn(rn,xn))if(c.bn(rn.source,xn.source)&&c.bn(rn["source-layer"],xn["source-layer"])&&c.bn(rn.type,xn.type)){for(Jn in Fr(rn.layout,xn.layout,Se,Dt,null,fr.setLayoutProperty),Fr(rn.paint,xn.paint,Se,Dt,null,fr.setPaintProperty),c.bn(rn.slot,xn.slot)||Se.push({command:fr.setSlot,args:[Dt,xn.slot]}),c.bn(rn.filter,xn.filter)||Se.push({command:fr.setFilter,args:[Dt,xn.filter]}),c.bn(rn.minzoom,xn.minzoom)&&c.bn(rn.maxzoom,xn.maxzoom)||Se.push({command:fr.setLayerZoomRange,args:[Dt,xn.minzoom,xn.maxzoom]}),rn)rn.hasOwnProperty(Jn)&&Jn!=="layout"&&Jn!=="paint"&&Jn!=="filter"&&Jn!=="metadata"&&Jn!=="minzoom"&&Jn!=="maxzoom"&&Jn!=="slot"&&(Jn.indexOf("paint.")===0?Fr(rn[Jn],xn[Jn],Se,Dt,Jn.slice(6),fr.setPaintProperty):c.bn(rn[Jn],xn[Jn])||Se.push({command:fr.setLayerProperty,args:[Dt,Jn,xn[Jn]]}));for(Jn in xn)xn.hasOwnProperty(Jn)&&!rn.hasOwnProperty(Jn)&&Jn!=="layout"&&Jn!=="paint"&&Jn!=="filter"&&Jn!=="metadata"&&Jn!=="minzoom"&&Jn!=="maxzoom"&&Jn!=="slot"&&(Jn.indexOf("paint.")===0?Fr(rn[Jn],xn[Jn],Se,Dt,Jn.slice(6),fr.setPaintProperty):c.bn(rn[Jn],xn[Jn])||Se.push({command:fr.setLayerProperty,args:[Dt,Jn,xn[Jn]]}))}else Se.push({command:fr.removeLayer,args:[Dt]}),dr=_t[_t.lastIndexOf(Dt)+1],Se.push({command:fr.addLayer,args:[xn,dr]})}(Q,R.layers,B)}catch(V){console.warn("Unable to compute style diff:",V),B=[{command:fr.setStyle,args:[R]}]}return B}(this.serialize(),r).filter(E=>!(E.command in Ra));if(m.length===0)return!1;const _=m.filter(E=>!(E.command in es));if(_.length>0)throw new Error(`Unimplemented: ${_.map(E=>E.command).join(", ")}.`);const x=[];return m.forEach(E=>{x.push(this[E.command].apply(this,E.args))}),l&&Promise.all(x).then(l),this.stylesheet=r,this.mergeAll(),this.dispatcher.broadcast("setLayers",{layers:this._serializeLayers(this._order),scope:this.scope,options:this.options}),!0}addImage(r,l){return this.getImage(r)?this.fire(new c.y(new Error("An image with this name already exists."))):(this.imageManager.addImage(r,this.scope,l),this._afterImageUpdated(r),this)}updateImage(r,l,m=!1){this.imageManager.updateImage(r,this.scope,l),m&&this._afterImageUpdated(r)}getImage(r){return this.imageManager.getImage(r,this.scope)}removeImage(r){return this.getImage(r)?(this.imageManager.removeImage(r,this.scope),this._afterImageUpdated(r),this):this.fire(new c.y(new Error("No image with this name exists.")))}_afterImageUpdated(r){this._availableImages=this.imageManager.listImages(this.scope),this._changes.updateImage(r),this.dispatcher.broadcast("setImages",{scope:this.scope,images:this._availableImages}),this.fire(new c.z("data",{dataType:"style"}))}listImages(){return this._checkLoaded(),this._availableImages.slice()}addModel(r,l,m={}){return this._checkLoaded(),this._validate(Lo,`models.${r}`,l,null,m)||(this.modelManager.addModel(r,l,this.scope),this._changes.setDirty()),this}hasModel(r){return this.modelManager.hasModel(r,this.scope)}removeModel(r){return this.hasModel(r)?(this.modelManager.removeModel(r,this.scope),this):this.fire(new c.y(new Error("No model with this ID exists.")))}listModels(){return this._checkLoaded(),this.modelManager.listModels(this.scope)}addSource(r,l,m={}){if(this._checkLoaded(),this.getOwnSource(r)!==void 0)throw new Error(`There is already a source with ID "${r}".`);if(!l.type)throw new Error(`The type property must be defined, but only the following properties were given: ${Object.keys(l).join(", ")}.`);if(["vector","raster","geojson","video","image"].indexOf(l.type)>=0&&this._validate(xo,`sources.${r}`,l,null,m))return;this.map&&this.map._collectResourceTiming&&(l.collectResourceTiming=!0);const _=qt(r,l,this.dispatcher,this);_.scope=this.scope,_.setEventedParent(this,()=>({isSourceLoaded:this._isSourceCacheLoaded(_.id),source:_.serialize(),sourceId:_.id}));const x=E=>{const R=(E?"symbol:":"other:")+_.id,B=c.aC(R,this.scope),V=this._sourceCaches[R]=new K(B,_,E);(E?this._symbolSourceCaches:this._otherSourceCaches)[_.id]=V,V.onAdd(this.map)};x(!1),l.type!=="vector"&&l.type!=="geojson"||x(!0),_.onAdd&&_.onAdd(this.map),m.isInitialLoad||(this.mergeSources(),this._changes.setDirty())}removeSource(r){this._checkLoaded();const l=this.getOwnSource(r);if(!l)throw new Error("There is no source with this ID");for(const _ in this._layers)if(this._layers[_].source===r)return this.fire(new c.y(new Error(`Source "${r}" cannot be removed while layer "${_}" is using it.`)));if(this.terrain&&this.terrain.scope===this.scope&&this.terrain.get().source===r)return this.fire(new c.y(new Error(`Source "${r}" cannot be removed while terrain is using it.`)));const m=this.getOwnSourceCaches(r);for(const _ of m){const x=c.cq(_.id);delete this._sourceCaches[x],this._changes.discardSourceCacheUpdate(_.id),_.fire(new c.z("data",{sourceDataType:"metadata",dataType:"source",sourceId:_.getSource().id})),_.setEventedParent(null),_.clearTiles()}return delete this._otherSourceCaches[r],delete this._symbolSourceCaches[r],this.mergeSources(),l.setEventedParent(null),l.onRemove&&l.onRemove(this.map),this._changes.setDirty(),this}setGeoJSONSourceData(r,l){this._checkLoaded(),this.getOwnSource(r).setData(l),this._changes.setDirty()}getOwnSource(r){const l=this.getOwnSourceCache(r);return l&&l.getSource()}getOwnSources(){const r=[];for(const l in this._otherSourceCaches){const m=this.getOwnSourceCache(l);m&&r.push(m.getSource())}return r}areTilesLoaded(){const r=this._mergedSourceCaches;for(const l in r){const m=r[l]._tiles;for(const _ in m){const x=m[_];if(x.state!=="loaded"&&x.state!=="errored")return!1}}return!0}setLights(r){if(this._checkLoaded(),!r)return delete this.ambientLight,void delete this.directionalLight;const l=this._getTransitionParameters();for(const _ of r){if(this._validate(co,"lights",_))return;switch(_.type){case"ambient":if(this.ambientLight){const x=this.ambientLight;x.set(_),x.updateTransitions(l)}else this.ambientLight=new En(_,Xt||(Xt=new c.a5({color:new c.a6(c.a3.properties_light_ambient.color),"color-use-theme":new c.a6({type:"string",default:"default","property-type":"data-constant"}),intensity:new c.a6(c.a3.properties_light_ambient.intensity)})),this.scope,this.options);break;case"directional":if(this.directionalLight){const x=this.directionalLight;x.set(_),x.updateTransitions(l)}else this.directionalLight=new En(_,nn||(nn=new c.a5({direction:new c.ak(c.a3.properties_light_directional.direction),color:new c.a6(c.a3.properties_light_directional.color),"color-use-theme":new c.a6({type:"string",default:"default","property-type":"data-constant"}),intensity:new c.a6(c.a3.properties_light_directional.intensity),"cast-shadows":new c.a6(c.a3.properties_light_directional["cast-shadows"]),"shadow-quality":new c.a6(c.a3.properties_light_directional["shadow-quality"]),"shadow-intensity":new c.a6(c.a3.properties_light_directional["shadow-intensity"])})),this.scope,this.options)}}const m=new c.a8(this.z||0,l);this.ambientLight&&this.ambientLight.recalculate(m),this.directionalLight&&this.directionalLight.recalculate(m),this._brightness=this.calculateLightsBrightness(),this.dispatcher.broadcast("setBrightness",this._brightness)}calculateLightsBrightness(){const r=this.directionalLight,l=this.ambientLight;if(!r||!l)return;const m=ee=>.2126*(ee[0]<=.03928?ee[0]/12.92:Math.pow((ee[0]+.055)/1.055,2.4))+.7152*(ee[1]<=.03928?ee[1]/12.92:Math.pow((ee[1]+.055)/1.055,2.4))+.0722*(ee[2]<=.03928?ee[2]/12.92:Math.pow((ee[2]+.055)/1.055,2.4)),_=r.properties.get("color").toRenderColor(null).toArray01(),x=r.properties.get("intensity"),E=r.properties.get("direction"),R=1-c.cb(E.x,E.y,E.z)[2]/90,B=m(_)*x*R,V=l.properties.get("color").toRenderColor(null).toArray01(),U=l.properties.get("intensity"),Q=m(V)*U;return Number(((B+Q)/2).toFixed(6))}getBrightness(){return this._brightness}getLights(){if(!this.enable3dLights())return null;const r=[];return this.directionalLight&&r.push(this.directionalLight.get()),this.ambientLight&&r.push(this.ambientLight.get()),r}enable3dLights(){return!!this.ambientLight&&!!this.directionalLight}getFragmentStyle(r){if(!r)return this;if(c.cr(r)){const l=c.cs(r),m=this.fragments.find(({id:x})=>x===l);if(!m)throw new Error(`Style import '${r}' not found`);const _=c.cq(r);return m.style.getFragmentStyle(_)}{const l=this.fragments.find(({id:m})=>m===r);return l?l.style:void 0}}setFeaturesetSelectors(r){if(!r)return;const l={},m=(_,x="")=>`${_}::${x}`;this._featuresetSelectors={};for(const _ in r){const x=this._featuresetSelectors[_]=[];for(const E of r[_].selectors){if(E.featureNamespace){const B=this.getOwnLayer(E.layer);if(!B){c.w(`Layer is undefined for selector: ${E.layer}`);continue}const V=m(B.source,B.sourceLayer);if(V in l&&l[V]!==E.featureNamespace){c.w(`"featureNamespace ${E.featureNamespace} of featureset ${_}'s selector is not associated to the same source, skip this selector`);continue}l[V]=E.featureNamespace}let R;if(E.properties)for(const B in E.properties){const V=c.U(E.properties[B]);V.result==="success"&&(R=R||{},R[B]=V.value)}x.push({layerId:E.layer,namespace:E.featureNamespace,properties:R,uniqueFeatureID:E._uniqueFeatureID})}}}getFeaturesetDescriptors(r){const l=this.getFragmentStyle(r);if(!l||!l.stylesheet.featuresets)return[];const m=[];for(const _ in l.stylesheet.featuresets)m.push({featuresetId:_,importId:l.scope?l.scope:void 0});return m}getFeaturesetLayers(r,l){const m=this.getFragmentStyle(l),_=m.stylesheet.featuresets;if(!_||!_[r])return this.fire(new c.y(new Error(`The featureset '${r}' does not exist in the map's style and cannot be queried.`))),[];const x=[];for(const E of _[r].selectors){const R=m.getOwnLayer(E.layer);R&&x.push(R)}return x}getConfigProperty(r,l){const m=this.getFragmentStyle(r);if(!m)return null;const _=c.aC(l,m.scope),x=m.options.get(_),E=x?x.value||x.default:null;return E?E.serialize():null}setConfigProperty(r,l,m){const _=this.getFragmentStyle(r);if(!_)return;const x=_.stylesheet.indoor?No(_.stylesheet.schema):_.stylesheet.schema;if(!x||!x[l])return;const E=c.U(m);if(E.result!=="success")return void Oa(this,E.value);const R=E.value.expression,B=c.aC(l,_.scope),V=_.options.get(B);if(!V)return;let U;const{minValue:Q,maxValue:ee,stepValue:ce,type:Me,values:Se}=x[l],Le=c.U(x[l].default);Le.result==="success"&&(U=Le.value.expression),U?(this.options.set(B,Object.assign({},V,{value:R,default:U,minValue:Q,maxValue:ee,stepValue:ce,type:Me,values:Se})),this.updateConfigDependencies(l)):this.fire(new c.y(new Error(`No schema defined for the config option "${l}" in the "${r}" fragment.`)))}getConfig(r){const l=this.getFragmentStyle(r);if(!l)return null;const m=l.stylesheet.schema;if(!m)return null;const _={};for(const x in m){const E=c.aC(x,l.scope),R=l.options.get(E),B=R?R.value||R.default:null;_[x]=B?B.serialize():null}return _}setConfig(r,l){const m=this.getFragmentStyle(r);m&&(m.updateConfig(l,m.stylesheet.schema),this.updateConfigDependencies())}getSchema(r){const l=this.getFragmentStyle(r);return l?l.stylesheet.schema:null}setSchema(r,l){const m=this.getFragmentStyle(r);m&&(m.stylesheet.schema=l,m.updateConfig(m._config,l),this.updateConfigDependencies())}updateConfig(r,l){if(this._config=r,r||l)if(l)for(const m in l){let _,x;const E=c.U(l[m].default);if(E.result==="success"&&(_=E.value.expression),r&&r[m]!==void 0){const ee=c.U(r[m]);ee.result==="success"&&(x=ee.value.expression)}const{minValue:R,maxValue:B,stepValue:V,type:U,values:Q}=l[m];if(_){const ee=c.aC(m,this.scope);this.options.set(ee,{default:_,value:x,minValue:R,maxValue:B,stepValue:V,type:U,values:Q})}else this.fire(new c.y(new Error(`No schema defined for config option "${m}".`)))}else this.fire(new c.y(new Error("Attempting to set config for a style without schema.")))}updateConfigDependencies(r){for(const l of this._configDependentLayers){const m=this.getLayer(l);if(m){if(r&&!m.configDependencies.has(r))continue;m.possiblyEvaluateVisibility(),this._updateLayer(m)}}this.ambientLight&&this.ambientLight.updateConfig(this.options),this.directionalLight&&this.directionalLight.updateConfig(this.options),this.fog&&this.fog.updateConfig(this.options),this.snow&&this.snow.updateConfig(this.options),this.rain&&this.rain.updateConfig(this.options),this.forEachFragmentStyle(l=>{const m=l._styleColorTheme.colorThemeOverride?l._styleColorTheme.colorThemeOverride:l._styleColorTheme.colorTheme;if(m){const _=l._evaluateColorThemeData(m);(!l._styleColorTheme.lut&&_!==""||l._styleColorTheme.lut&&_!==l._styleColorTheme.lut.data)&&l.setColorTheme(m)}}),this._changes.setDirty()}addLayer(r,l,m={}){this._checkLoaded();const _=r.id;if(this._layers[_])return void this.fire(new c.y(new Error(`Layer with id "${_}" already exists on this map`)));let x;if(r.type==="custom"){if(Oa(this,c.ct(r)))return;x=c.cu(r,this.scope,this._styleColorTheme.lut,this.options)}else{if(typeof r.source=="object"&&(this.addSource(_,r.source),r=c.cp(r),r=c.l(r,{source:_})),this._validate(gi,`layers.${_}`,r,{arrayIndex:-1},m))return;x=c.cu(r,this.scope,this._styleColorTheme.lut,this.options),this._validateLayer(x),x.setEventedParent(this,{layer:{id:_}})}x.configDependencies.size!==0&&this._configDependentLayers.add(x.fqid);let E=this._order.length;if(l){const U=this._order.indexOf(l);if(U===-1)return void this.fire(new c.y(new Error(`Layer with id "${l}" does not exist on this map.`)));x.slot===this._layers[l].slot?E=U:c.w(`Layer with id "${l}" has a different slot. Layers can only be rearranged within the same slot.`)}this._order.splice(E,0,_),this._layerOrderChanged=!0,this._layers[_]=x;const R=this.getOwnLayerSourceCache(x),B=!!this.directionalLight&&this.directionalLight.shadowsEnabled();R&&x.canCastShadows()&&B&&(R.castsShadows=!0);const V=this._changes.getRemovedLayer(x);if(V&&x.source&&R&&x.type!=="custom"){this._changes.discardLayerRemoval(x);const U=c.aC(x.source,x.scope);V.type!==x.type?this._changes.updateSourceCache(U,"clear"):(this._changes.updateSourceCache(U,"reload"),R.pause())}this._updateLayer(x),x.onAdd&&x.onAdd(this.map),x.scope=this.scope,this.mergeLayers()}moveLayer(r,l){this._checkLoaded();const m=this._checkLayer(r);if(!m||r===l)return;const _=this._order.indexOf(r);this._order.splice(_,1);let x=this._order.length;if(l){const E=this._order.indexOf(l);if(E===-1)return void this.fire(new c.y(new Error(`Layer with id "${l}" does not exist on this map.`)));m.slot===this._layers[l].slot?x=E:c.w(`Layer with id "${l}" has a different slot. Layers can only be rearranged within the same slot.`)}this._order.splice(x,0,r),this._changes.setDirty(),this._layerOrderChanged=!0,this.mergeLayers()}removeLayer(r){this._checkLoaded();const l=this._checkLayer(r);if(!l)return;l.setEventedParent(null);const m=this._order.indexOf(r);this._order.splice(m,1),delete this._layers[r],this._changes.setDirty(),this._layerOrderChanged=!0,this._configDependentLayers.delete(l.fqid),this._changes.removeLayer(l);const _=this.getOwnLayerSourceCache(l);if(_&&_.castsShadows){let x=!1;for(const E in this._layers)if(this._layers[E].source===l.source&&this._layers[E].canCastShadows()){x=!0;break}_.castsShadows=x}l.onRemove&&l.onRemove(this.map),this.mergeLayers()}getOwnLayer(r){return this._layers[r]}hasLayer(r){return r in this._mergedLayers}hasLayerType(r){for(const l in this._layers)if(this._layers[l].type===r)return!0;return!1}setLayerZoomRange(r,l,m){this._checkLoaded();const _=this._checkLayer(r);_&&(_.minzoom===l&&_.maxzoom===m||(l!=null&&(_.minzoom=l),m!=null&&(_.maxzoom=m),this._updateLayer(_)))}getSlots(){return this._checkLoaded(),this._mergedSlots}setSlot(r,l){this._checkLoaded();const m=this._checkLayer(r);m&&m.slot!==l&&(m.slot=l,this._updateLayer(m))}setFilter(r,l,m={}){this._checkLoaded();const _=this._checkLayer(r);if(_&&!c.bn(_.filter,l))return l==null?(_.filter=void 0,void this._updateLayer(_)):void(this._validate(li,`layers.${_.id}.filter`,l,{layerType:_.type},m)||(_.filter=c.cp(l),this._updateLayer(_)))}getFilter(r){const l=this._checkLayer(r);if(l)return c.cp(l.filter)}setLayoutProperty(r,l,m,_={}){this._checkLoaded();const x=this._checkLayer(r);if(x&&!c.bn(x.getLayoutProperty(l),m)){if(m!=null&&(!_||_.validate!==!1)&&Oa(x,io.call(Yi,{key:`layers.${r}.layout.${l}`,layerType:x.type,objectKey:l,value:m,styleSpec:c.a3,style:{glyphs:!0,sprite:!0}})))return;x.setLayoutProperty(l,m),x.configDependencies.size!==0&&this._configDependentLayers.add(x.fqid),this._updateLayer(x)}}getLayoutProperty(r,l){const m=this._checkLayer(r);if(m)return m.getLayoutProperty(l)}setPaintProperty(r,l,m,_={}){this._checkLoaded();const x=this._checkLayer(r);if(!x||c.bn(x.getPaintProperty(l),m)||m!=null&&(!_||_.validate!==!1)&&Oa(x,eo.call(Yi,{key:`layers.${r}.paint.${l}`,layerType:x.type,objectKey:l,value:m,styleSpec:c.a3})))return;const E=x.setPaintProperty(l,m);x.configDependencies.size!==0&&this._configDependentLayers.add(x.fqid),E&&this._updateLayer(x),this._changes.updatePaintProperties(x)}getPaintProperty(r,l){const m=this._checkLayer(r);if(m)return m.getPaintProperty(l)}setFeatureState(r,l){if(this._checkLoaded(),"target"in r){if("featuresetId"in r.target){const{featuresetId:B,importId:V}=r.target,U=this.getFragmentStyle(V),Q=U.getFeaturesetLayers(B);for(const{source:ee,sourceLayer:ce}of Q)U.setFeatureState({id:r.id,source:ee,sourceLayer:ce},l)}else if("layerId"in r.target){const{layerId:B}=r.target,V=this.getLayer(B);this.setFeatureState({id:r.id,source:V.source,sourceLayer:V.sourceLayer},l)}return}const m=r.source,_=r.sourceLayer,x=this._checkSource(m);if(!x)return;const E=x.type;if(E==="geojson"&&_)return void this.fire(new c.y(new Error("GeoJSON sources cannot have a sourceLayer parameter.")));if(E==="vector"&&!_)return void this.fire(new c.y(new Error("The sourceLayer parameter must be provided for vector source types.")));r.id===void 0&&this.fire(new c.y(new Error("The feature id parameter must be provided.")));const R=this.getOwnSourceCaches(m);for(const B of R)B.setFeatureState(_,r.id,l)}removeFeatureState(r,l){if(this._checkLoaded(),"target"in r){if("featuresetId"in r.target){const{featuresetId:B,importId:V}=r.target,U=this.getFragmentStyle(V),Q=U.getFeaturesetLayers(B);for(const{source:ee,sourceLayer:ce}of Q)U.removeFeatureState({id:r.id,source:ee,sourceLayer:ce},l)}else if("layerId"in r.target){const{layerId:B}=r.target,V=this.getLayer(B);this.removeFeatureState({id:r.id,source:V.source,sourceLayer:V.sourceLayer},l)}return}const m=r.source,_=this._checkSource(m);if(!_)return;const x=_.type,E=x==="vector"?r.sourceLayer:void 0;if(x==="vector"&&!E)return void this.fire(new c.y(new Error("The sourceLayer parameter must be provided for vector source types.")));if(l&&typeof r.id!="string"&&typeof r.id!="number")return void this.fire(new c.y(new Error("A feature id is required to remove its specific state property.")));const R=this.getOwnSourceCaches(m);for(const B of R)B.removeFeatureState(E,r.id,l)}getFeatureState(r){if(this._checkLoaded(),"target"in r){let x;if("featuresetId"in r.target){const{featuresetId:E,importId:R}=r.target,B=this.getFragmentStyle(R),V=B.getFeaturesetLayers(E);for(const{source:U,sourceLayer:Q}of V){const ee=B.getFeatureState({id:r.id,source:U,sourceLayer:Q});if(ee&&!x)x=ee;else if(!c.bn(x,ee))return void this.fire(new c.y(new Error("The same feature id exists in multiple sources in the featureset, but their feature states are not consistent through the sources.")))}}else if("layerId"in r.target){const{layerId:E}=r.target,R=this.getLayer(E);x=this.getFeatureState({id:r.id,source:R.source,sourceLayer:R.sourceLayer})}return x}const l=r.source,m=r.sourceLayer,_=this._checkSource(l);if(_){if(_.type!=="vector"||m)return r.id===void 0&&this.fire(new c.y(new Error("The feature id parameter must be provided."))),this.getOwnSourceCaches(l)[0].getFeatureState(m,r.id);this.fire(new c.y(new Error("The sourceLayer parameter must be provided for vector source types.")))}}setTransition(r){return this.stylesheet.transition=c.l({},this.stylesheet.transition,r),this.transition=this.stylesheet.transition,this}getTransition(){return c.l({},this.stylesheet.transition)}serialize(){this._checkLoaded();const r=this.getTerrain(),l=r&&this.terrain&&this.terrain.scope===this.scope?r:this.stylesheet.terrain;return c.cv({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,fragment:this.stylesheet.fragment,imports:this._serializeImports(),schema:this.stylesheet.schema,camera:this.stylesheet.camera,light:this.stylesheet.light,lights:this.stylesheet.lights,terrain:l,fog:this.stylesheet.fog,snow:this.stylesheet.snow,rain:this.stylesheet.rain,center:this.stylesheet.center,"color-theme":this.stylesheet["color-theme"],zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,projection:this.stylesheet.projection,sources:this._serializeSources(),layers:this._serializeLayers(this._order)},m=>m!==void 0)}_updateFilteredLayers(r){for(const l of Object.values(this._mergedLayers))r(l)&&this._updateLayer(l)}_updateLayer(r){this._changes.updateLayer(r);const l=this.getLayerSourceCache(r),m=c.aC(r.source,r.scope),_=this._changes.getUpdatedSourceCaches();r.source&&!_[m]&&l&&l.getSource().type!=="raster"&&(this._changes.updateSourceCache(m,"reload"),l.pause()),r.invalidateCompiledFilter()}_flattenAndSortRenderedFeatures(r){const l=R=>this._mergedLayers[R].is3D(),m=this.order,_={},x=[];for(let R=m.length-1;R>=0;R--){const B=m[R];if(l(B)){_[B]=R;for(const V of r){const U=V[B];if(U)for(const Q of U)x.push(Q)}}}x.sort((R,B)=>B.intersectionZ-R.intersectionZ);const E=[];for(let R=m.length-1;R>=0;R--){const B=m[R];if(l(B))for(let V=x.length-1;V>=0;V--){const U=x[V].feature;if(U.layer&&_[U.layer.id]<R)break;E.push(U),x.pop()}else for(const V of r){const U=V[B];if(U)for(const Q of U)E.push(Q.feature)}}return E}queryRenderedFeatures(r,l,m){let _;l&&!Array.isArray(l)&&l.filter&&(this._validate(li,"queryRenderedFeatures.filter",l.filter,null,l),_=c.aZ(l.filter));const x={},E=U=>{if(qa.has(U.type))return;const Q=this.getOwnLayerSourceCache(U),ee=x[Q.id]=x[Q.id]||{sourceCache:Q,layers:{},has3DLayers:!1};U.is3D()&&(ee.has3DLayers=!0),ee.layers[U.fqid]=ee.layers[U.fqid]||{styleLayer:U,targets:[]},ee.layers[U.fqid].targets.push({filter:_})};if(l&&l.layers){if(!Array.isArray(l.layers))return this.fire(new c.y(new Error("parameters.layers must be an Array."))),[];for(const U of l.layers){const Q=this._layers[U];if(!Q)return this.fire(new c.y(new Error(`The layer '${U}' does not exist in the map's style and cannot be queried for features.`))),[];E(Q)}}else for(const U in this._layers)E(this._layers[U]);const R=this._queryRenderedFeatures(r,x,m),B=this._flattenAndSortRenderedFeatures(R),V=[];for(const U of B)c.cs(U.layer.id)===this.scope&&V.push(U);return V}queryRenderedFeatureset(r,l,m){let _;l&&!Array.isArray(l)&&l.filter&&(this._validate(li,"queryRenderedFeatures.filter",l.filter,null,l),_=c.aZ(l.filter));const x="mock",E=[];if(l&&l.target)E.push(Object.assign({},l,{targetId:x,filter:_}));else{const U=this.getFeaturesetDescriptors();for(const Q of U)E.push({targetId:x,filter:_,target:Q});for(const{style:Q}of this.fragments){const ee=Q.getFeaturesetDescriptors();for(const ce of ee)E.push({targetId:x,filter:_,target:ce})}}const R=this.queryRenderedTargets(r,E,m),B=[],V=new Set;for(const U of R)for(const Q of U.variants[x])lr(Q,U,V)||B.push(new c.cw(U,Q));return B}queryRenderedTargets(r,l,m){const _={},x=(R,B,V,U)=>{const Q=_[B.id]=_[B.id]||{sourceCache:B,layers:{},has3DLayers:!1};if(Q.layers[R.fqid]=Q.layers[R.fqid]||{styleLayer:R,targets:[]},R.is3D()&&(Q.has3DLayers=!0),!U)return V.uniqueFeatureID=!1,void Q.layers[R.fqid].targets.push(V);Q.layers[R.fqid].targets.push(Object.assign({},V,{namespace:U.namespace,properties:U.properties,uniqueFeatureID:U.uniqueFeatureID}))};for(const R of l)if("featuresetId"in R.target){const{featuresetId:B,importId:V}=R.target,U=this.getFragmentStyle(V);if(!U||!U._featuresetSelectors)continue;const Q=U._featuresetSelectors[B];if(!Q){this.fire(new c.y(new Error(`The featureset '${B}' does not exist in the map's style and cannot be queried for features.`)));continue}for(const ee of Q){const ce=U.getOwnLayer(ee.layerId);ce&&!qa.has(ce.type)&&x(ce,U.getOwnLayerSourceCache(ce),R,ee)}}else if("layerId"in R.target){const{layerId:B}=R.target,V=this.getLayer(B);if(!V||qa.has(V.type))continue;x(V,this.getLayerSourceCache(V),R)}const E=this._queryRenderedFeatures(r,_,m);return this._flattenAndSortRenderedFeatures(E)}_queryRenderedFeatures(r,l,m){const _=[],x=!!this.map._showQueryGeometry,E=_n.createFromScreenPoints(r,m);for(const R in l){const B=di(E,l[R],this._availableImages,m,x);Object.keys(B).length&&_.push(B)}if(this.placement)for(const R in l){if(!l[R].sourceCache._onlySymbols)continue;const B=Ti(E.screenGeometry,l[R],this._availableImages,this.placement.collisionIndex,this.placement.retainedQueryData);Object.keys(B).length&&_.push(B)}return _}querySourceFeatures(r,l){const m=l&&l.filter;m&&this._validate(li,"querySourceFeatures.filter",m,null,l);let _=[];const x=this.getOwnSourceCaches(r);for(const E of x)_=_.concat(bo(E,l));return _}addSourceType(r,l,m){return ns.getSourceType(r)?m(new Error(`A source type called "${r}" already exists.`)):(ns.setSourceType(r,l),l.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:r,url:l.workerSourceURL},m):m(null,null))}getFlatLight(){return this.light.getLight()}setFlatLight(r,l,m={}){this._checkLoaded();const _=this.light.getLight();let x=!1;for(const R in r)if(!c.bn(r[R],_[R])){x=!0;break}if(!x)return;const E=this._getTransitionParameters();this.light.setLight(r,l,m),this.light.updateTransitions(E)}getTerrain(){return this.terrain&&this.terrain.drapeRenderMode===1?this.terrain.get():null}setTerrainForDraping(){this.setTerrain({source:"",exaggeration:0},0)}checkCanvasFingerprintNoise(){this.disableElevatedTerrain===void 0&&(this.disableElevatedTerrain=c.q.hasCanvasFingerprintNoise(),this.disableElevatedTerrain&&c.w("Terrain and hillshade are disabled because of Canvas2D limitations when fingerprinting protection is enabled (e.g. in private browsing mode)."))}setTerrain(r,l=1){if(this._checkLoaded(),!r)return this.terrainSetForDrapingOnly()||(delete this.terrain,this.map.transform.projection.requiresDraping&&this.setTerrainForDraping()),l===0&&delete this.terrain,r===null?this.stylesheet.terrain=null:delete this.stylesheet.terrain,this._force3DLayerUpdate(),void(this._markersNeedUpdate=!0);this.checkCanvasFingerprintNoise();let m=r;const _=r.source==null;if(l===1){if(this.disableElevatedTerrain)return;if(typeof m.source=="object"){const R="terrain-dem-src";this.addSource(R,m.source),m=c.cp(m),m=c.l(m,{source:R})}const x=c.l({},m),E={};if(this.terrain&&_){x.source=this.terrain.get().source;const R=this.terrain?this.getFragmentStyle(this.terrain.scope):null;R&&(E.style=R.serialize())}if(this._validate(tn,"terrain",x,E))return}if(!this.terrain||this.terrain.scope!==this.scope&&!_||this.terrain&&l!==this.terrain.drapeRenderMode){if(!m)return;this._createTerrain(m,l),this.fire(new c.z("data",{dataType:"style"}))}else{const x=this.terrain,E=x.get();for(const R of Object.keys(c.a3.terrain))!m.hasOwnProperty(R)&&c.a3.terrain[R].default&&(m[R]=c.a3.terrain[R].default);for(const R in r)if(!c.bn(r[R],E[R])){x.set(r,this.options),this.stylesheet.terrain=r;const B=this._getTransitionParameters({duration:0});x.updateTransitions(B),this.fire(new c.z("data",{dataType:"style"}));break}}this.mergeTerrain(),this.updateDrapeFirstLayers(),this._markersNeedUpdate=!0}_createFog(r){const l=this.fog=new vn(r,this.map.transform,this.scope,this.options);this.stylesheet.fog=l.get();const m=this._getTransitionParameters({duration:0});l.updateTransitions(m)}_createSnow(r){const l=this.snow=new dt(r,this.map.transform,this.scope,this.options);this.stylesheet.snow=l.get();const m=this._getTransitionParameters({duration:0});l.updateTransitions(m)}_createRain(r){const l=this.rain=new lt(r,this.map.transform,this.scope,this.options);this.stylesheet.rain=l.get();const m=this._getTransitionParameters({duration:0});l.updateTransitions(m)}_updateMarkersOpacity(){this.map._markers.length!==0&&this.map._requestDomTask(()=>{for(const r of this.map._markers)r._evaluateOpacity()})}getFog(){return this.fog?this.fog.get():null}setFog(r){if(this._checkLoaded(),!r)return delete this.fog,delete this.stylesheet.fog,void(this._markersNeedUpdate=!0);if(this.fog){const l=this.fog;if(!c.bn(l.get(),r)){l.set(r,this.options),this.stylesheet.fog=l.get();const m=this._getTransitionParameters({duration:0});l.updateTransitions(m)}}else this._createFog(r);this._markersNeedUpdate=!0}getSnow(){return this.snow?this.snow.get():null}setSnow(r){if(this._checkLoaded(),!r)return delete this.snow,void delete this.stylesheet.snow;if(this.snow){const l=this.snow;if(!c.bn(l.get(),r)){l.set(r,this.options),this.stylesheet.snow=l.get();const m=this._getTransitionParameters({duration:0});l.updateTransitions(m)}}else this._createSnow(r);this._markersNeedUpdate=!0}getRain(){return this.rain?this.rain.get():null}setRain(r){if(this._checkLoaded(),!r)return delete this.rain,void delete this.stylesheet.rain;if(this.rain){const l=this.rain;if(!c.bn(l.get(),r)){l.set(r,this.options),this.stylesheet.rain=l.get();const m=this._getTransitionParameters({duration:0});l.updateTransitions(m)}}else this._createRain(r);this._markersNeedUpdate=!0}_reloadColorTheme(){const r=()=>{for(const _ in this._layers)this._layers[_].lut=this._styleColorTheme.lut;for(const _ in this._sourceCaches)this._sourceCaches[_].clearTiles()},l=this._styleColorTheme.colorThemeOverride?this._styleColorTheme.colorThemeOverride:this._styleColorTheme.colorTheme;if(!l)return this._styleColorTheme.lut=null,void r();const m=this._evaluateColorThemeData(l);this._loadColorTheme(m).then(()=>{this.fire(new c.z("colorthemeset")),r()}).catch(_=>{c.w(`Couldn't set color theme: ${_}`)})}setColorTheme(r){this._checkLoaded(),this._styleColorTheme.colorThemeOverride&&c.w("Note: setColorTheme is called on a style with a color-theme override, the passed color-theme won't be visible."),this._styleColorTheme.colorTheme=r,this._reloadColorTheme()}setImportColorTheme(r,l){const m=this.getFragmentStyle(r);m&&(m._styleColorTheme.colorThemeOverride=l,m._reloadColorTheme())}_getTransitionParameters(r){return{now:c.q.now(),transition:c.l(this.transition,r)}}updateDrapeFirstLayers(){if(!this.terrain)return;const r=[],l=[];for(const m of this._mergedOrder)this.isLayerDraped(this._mergedLayers[m])?r.push(m):l.push(m);this._drapedFirstOrder=[],this._drapedFirstOrder.push(...r),this._drapedFirstOrder.push(...l)}_createTerrain(r,l){const m=this.terrain=new Y(r,l,this.scope,this.options);l===1&&(this.stylesheet.terrain=r),this.mergeTerrain(),this.updateDrapeFirstLayers(),this._force3DLayerUpdate();const _=this._getTransitionParameters({duration:0});m.updateTransitions(_)}_force3DLayerUpdate(){for(const r in this._layers){const l=this._layers[r];l.type==="fill-extrusion"&&this._updateLayer(l)}}_forceSymbolLayerUpdate(){for(const r in this._layers){const l=this._layers[r];l.type==="symbol"&&this._updateLayer(l)}}_validate(r,l,m,_,x={}){if(x&&x.validate===!1)return!1;const E=c.l({},this.serialize());return Oa(this,r.call(Yi,c.l({key:l,style:E,value:m,styleSpec:c.a3},_)))}_remove(){this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),c.cx.off("pluginStateChange",this._rtlTextPluginCallback);for(const r in this._mergedLayers)this._mergedLayers[r].setEventedParent(null);for(const r in this._mergedSourceCaches)this._mergedSourceCaches[r].clearTiles(),this._mergedSourceCaches[r].setEventedParent(null);this.setEventedParent(null),delete this.fog,delete this.snow,delete this.rain,delete this.terrain,delete this.ambientLight,delete this.directionalLight,this.isRootStyle()&&(this.imageManager.setEventedParent(null),this.modelManager.setEventedParent(null),this.dispatcher.remove())}clearSource(r){const l=this.getSourceCaches(r);for(const m of l)m.clearTiles()}clearSources(){for(const r in this._mergedSourceCaches)this._mergedSourceCaches[r].clearTiles()}reloadSource(r){const l=this.getSourceCaches(r);for(const m of l)m.resume(),m.reload()}reloadSources(){for(const r of this.getSources())r.reload&&r.reload()}reloadModels(){this.modelManager.reloadModels(""),this.forEachFragmentStyle(r=>{r.modelManager.reloadModels(r.scope)})}updateSources(r){let l;this.directionalLight&&(l=mo(this.directionalLight));for(const m in this._mergedSourceCaches)this._mergedSourceCaches[m].update(r,void 0,void 0,l)}_generateCollisionBoxes(){for(const r in this._sourceCaches){const l=this._sourceCaches[r];l.resume(),l.reload()}}_updatePlacement(r,l,m,_,x,E,R=!1){let B=!1,V=!1;const U={},Q={};for(const ee of this._mergedOrder){const ce=this._mergedLayers[ee];if(ce.type!=="symbol")continue;const Me=c.aC(ce.source,ce.scope);let Se=U[Me];if(!Se){const Ae=this.getLayerSourceCache(ce);if(!Ae)continue;const rt=Ae.getRenderableIds(!0).map(St=>Ae.getTileByID(St));Q[Me]=rt.slice(),Se=U[Me]=rt.sort((St,_t)=>_t.tileID.overscaledZ-St.tileID.overscaledZ||(St.tileID.isLessThan(_t.tileID)?-1:1))}const Le=this.crossTileSymbolIndex.addLayer(ce,Se,l.center.lng,l.projection);B=B||Le}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._mergedOrder),R=R||this._layerOrderChanged||_===0,this._layerOrderChanged&&this.fire(new c.z("neworder")),(R||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(c.q.now(),l.zoom))&&(this.pauseablePlacement=new hs(l,this._mergedOrder,R,m,_,x,this.placement,this.fog&&l.projection.supportsFog?this.fog.state:null,this._buildingIndex),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._mergedOrder,this._mergedLayers,U,Q,this.map.painter.scaleFactor),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(c.q.now()),V=!0),B&&this.pauseablePlacement.placement.setStale()),V||B){this._buildingIndex.onNewFrame(l.zoom);for(let ee=0;ee<this._mergedOrder.length;ee++){const ce=this._mergedLayers[this._mergedOrder[ee]];if(ce.type!=="symbol")continue;const Me=this.isLayerClipped(ce);this.placement.updateLayerOpacities(ce,U[c.aC(ce.source,ce.scope)],ee,Me?E:null)}}return{needsRerender:!this.pauseablePlacement.isDone()||this.placement.hasTransitions(c.q.now())}}_releaseSymbolFadeTiles(){for(const r in this._sourceCaches)this._sourceCaches[r].releaseSymbolFadeTiles()}addImport(r,l){this._checkLoaded();const m=this.stylesheet.imports=this.stylesheet.imports||[];if(m.findIndex(({id:x})=>x===r.id)!==-1)return void this.fire(new c.y(new Error(`Import with id '${r.id}' already exists in the map's style.`)));if(!l)return m.push(r),this._loadImports([r],!0);const _=m.findIndex(({id:x})=>x===l);return _===-1&&this.fire(new c.y(new Error(`Import with id "${l}" does not exist on this map.`))),this.stylesheet.imports=m.slice(0,_).concat(r).concat(m.slice(_)),this._loadImports([r],!0,l)}updateImport(r,l){this._checkLoaded();const m=this.stylesheet.imports||[],_=this.getImportIndex(r);return _===-1?this:typeof l=="string"?(this.setImportUrl(r,l),this):(l.url&&l.url!==m[_].url&&this.setImportUrl(r,l.url),c.bn(l.config,m[_].config)||this.setImportConfig(r,l.config,l.data.schema),c.bn(l.data,m[_].data)||this.setImportData(r,l.data),this)}moveImport(r,l){this._checkLoaded();let m=this.stylesheet.imports||[];const _=this.getImportIndex(r);if(_===-1)return this;const x=this.getImportIndex(l);if(x===-1)return this;const E=m[_],R=this.fragments[_];return m=m.filter(({id:B})=>B!==r),this.fragments=this.fragments.filter(({id:B})=>B!==r),this.stylesheet.imports=m.slice(0,x).concat(E).concat(m.slice(x)),this.fragments=this.fragments.slice(0,x).concat(R).concat(this.fragments.slice(x)),this.mergeLayers(),this}setImportUrl(r,l){this._checkLoaded();const m=this.stylesheet.imports||[],_=this.getImportIndex(r);if(_===-1)return this;m[_].url=l;const x=this.fragments[_];return x.style=this._createFragmentStyle(m[_]),x.style.on("style.import.load",()=>this.mergeAll()),x.style.loadURL(l),this}setImportData(r,l){this._checkLoaded();const m=this.getImportIndex(r),_=this.stylesheet.imports||[];return m===-1?this:l?(this.fragments[m].style.setState(l),this._reloadImports(),this):(delete _[m].data,this.setImportUrl(r,_[m].url))}setImportConfig(r,l,m){this._checkLoaded();const _=this.getImportIndex(r),x=this.stylesheet.imports||[];if(_===-1)return this;l?x[_].config=l:delete x[_].config;const E=this.fragments[_];m&&E.style.stylesheet&&(E.style.stylesheet.schema=m);const R=E.style.stylesheet&&E.style.stylesheet.schema;return E.config=l,E.style.updateConfig(l,R),this.updateConfigDependencies(),this}removeImport(r){this._checkLoaded();const l=this.stylesheet.imports||[],m=this.getImportIndex(r);m!==-1&&(l.splice(m,1),this.fragments[m].style._remove(),this.fragments.splice(m,1),this._reloadImports())}getImportIndex(r){const l=(this.stylesheet.imports||[]).findIndex(m=>m.id===r);return l===-1&&this.fire(new c.y(new Error(`Import '${r}' does not exist in the map's style and cannot be updated.`))),l}getLayer(r){return this._mergedLayers[r]}getSources(){const r=[];for(const l in this._mergedOtherSourceCaches){const m=this._mergedOtherSourceCaches[l];m&&r.push(m.getSource())}return r}getSource(r,l){const m=this.getSourceCache(r,l);return m&&m.getSource()}getLayerSource(r){const l=this.getLayerSourceCache(r);return l&&l.getSource()}getSourceCache(r,l){const m=c.aC(r,l);return this._mergedOtherSourceCaches[m]}getLayerSourceCache(r){const l=c.aC(r.source,r.scope);return r.type==="symbol"?this._mergedSymbolSourceCaches[l]:this._mergedOtherSourceCaches[l]}getSourceCaches(r){if(r==null)return Object.values(this._mergedSourceCaches);const l=[];return this._mergedOtherSourceCaches[r]&&l.push(this._mergedOtherSourceCaches[r]),this._mergedSymbolSourceCaches[r]&&l.push(this._mergedSymbolSourceCaches[r]),l}updateSourceCaches(){const r=this._changes.getUpdatedSourceCaches();for(const l in r){const m=r[l];m==="reload"?this.reloadSource(l):m==="clear"&&this.clearSource(l)}}updateLayers(r){const l=this._changes.getUpdatedPaintProperties();for(const m of l){const _=this.getLayer(m);_&&_.updateTransitions(r)}}getImages(r,l,m){this.imageManager.getImages(l.icons,l.scope,m),this._updateTilesForChangedImages();const _=x=>{x&&x.setDependencies(l.tileID.key,l.type,l.icons)};_(this._otherSourceCaches[l.source]),_(this._symbolSourceCaches[l.source])}rasterizeImages(r,l,m){this.imageManager.rasterizeImages(l,m)}getGlyphs(r,l,m){this.glyphManager.getGlyphs(l.stacks,l.scope,m)}getResource(r,l,m){return c.cy(l,m)}getOwnSourceCache(r){return this._otherSourceCaches[r]}getOwnLayerSourceCache(r){return r.type==="symbol"?this._symbolSourceCaches[r.source]:this._otherSourceCaches[r.source]}getOwnSourceCaches(r){const l=[];return this._otherSourceCaches[r]&&l.push(this._otherSourceCaches[r]),this._symbolSourceCaches[r]&&l.push(this._symbolSourceCaches[r]),l}_isSourceCacheLoaded(r){const l=this.getOwnSourceCaches(r);return l.length===0?(this.fire(new c.y(new Error(`There is no source with ID '${r}'`))),!1):l.every(m=>m.loaded())}has3DLayers(){return this._has3DLayers}hasSymbolLayers(){return this._hasSymbolLayers}hasCircleLayers(){return this._hasCircleLayers}isLayerClipped(r,l){if(!this._clipLayerPresent&&r.type!=="fill-extrusion")return!1;const m=r.type==="fill-extrusion"&&r.sourceLayer==="building";if(r.is3D()){if(m||l&&l.type==="batched-model"||r.type==="model")return!0}else if(r.type==="symbol")return!0;return!1}_clearWorkerCaches(){this.dispatcher.broadcast("clearCaches")}destroy(){this._clearWorkerCaches(),this.fragments.forEach(r=>{r.style._remove()}),this.terrainSetForDrapingOnly()&&(delete this.terrain,delete this.stylesheet.terrain)}}ns.getSourceType=function(p){return Sn[p]},ns.setSourceType=function(p,r){Sn[p]=r},ns.registerForPluginStateChange=c.ch;var Wa=`
#define EPSILON 0.0000001
#define PI 3.141592653589793
#ifdef RENDER_CUTOFF
float cutoff_opacity(vec4 cutoff_params,float depth) {float near=cutoff_params.x;float far=cutoff_params.y;float cutoffStart=cutoff_params.z;float cutoffEnd=cutoff_params.w;float linearDepth=(depth-near)/(far-near);return clamp((linearDepth-cutoffStart)/(cutoffEnd-cutoffStart),0.0,1.0);}
#endif`,Os=`
out vec4 glFragColor;highp float unpack_depth(highp vec4 rgba_depth)
{const highp vec4 bit_shift=vec4(1.0/(255.0*255.0*255.0),1.0/(255.0*255.0),1.0/255.0,1.0);return dot(rgba_depth,bit_shift)*2.0-1.0;}highp vec4 pack_depth(highp float ndc_z) {highp float depth=ndc_z*0.5+0.5;const highp vec4 bit_shift=vec4(255.0*255.0*255.0,255.0*255.0,255.0,1.0);const highp vec4 bit_mask =vec4(0.0,1.0/255.0,1.0/255.0,1.0/255.0);highp vec4 res=fract(depth*bit_shift);res-=res.xxyz*bit_mask;return res;}
#ifdef INDICATOR_CUTOUT
uniform vec3 u_indicator_cutout_centers;uniform vec4 u_indicator_cutout_params;
#endif
vec4 applyCutout(vec4 color,float height) {
#ifdef INDICATOR_CUTOUT
float verticalFadeRange=u_indicator_cutout_centers.z*0.25;float holeMinOpacity=mix(1.0,u_indicator_cutout_params.x,smoothstep(u_indicator_cutout_centers.z,u_indicator_cutout_centers.z+verticalFadeRange,height));float holeRadius=max(u_indicator_cutout_params.y,0.0);float holeAspectRatio=u_indicator_cutout_params.z;float fadeStart=u_indicator_cutout_params.w;float distA=distance(vec2(gl_FragCoord.x,gl_FragCoord.y*holeAspectRatio),vec2(u_indicator_cutout_centers[0],u_indicator_cutout_centers[1]*holeAspectRatio));return color*min(smoothstep(fadeStart,holeRadius,distA)+holeMinOpacity,1.0);
#else
return color;
#endif
}
#ifdef DEBUG_WIREFRAME
#define HANDLE_WIREFRAME_DEBUG \\
glFragColor=vec4(0.7,0.0,0.0,0.7); \\
gl_FragDepth=gl_FragCoord.z-0.0001;
#else
#define HANDLE_WIREFRAME_DEBUG
#endif
#ifdef RENDER_CUTOFF
uniform highp vec4 u_cutoff_params;in float v_cutoff_opacity;
#endif
vec4 textureLodCustom(sampler2D image,highp vec2 pos,highp vec2 lod_coord) {highp vec2 size=vec2(textureSize(image,0));highp vec2 dx=dFdx(lod_coord.xy*size);highp vec2 dy=dFdy(lod_coord.xy*size);highp float delta_max_sqr=max(dot(dx,dx),dot(dy,dy));highp float lod=0.5*log2(delta_max_sqr);return textureLod(image,pos,lod);}vec4 applyLUT(highp sampler3D lut,vec4 col) {vec3 size=vec3(textureSize(lut,0));vec3 uvw=(col.rbg*float(size-1.0)+0.5)/size;return vec4(texture(lut,uvw).rgb,col.a);}vec3 applyLUT(highp sampler3D lut,vec3 col) {return applyLUT(lut,vec4(col,1.0)).rgb;}`,sc=`
#define EXTENT 8192.0
#define RAD_TO_DEG 180.0/PI
#define DEG_TO_RAD PI/180.0
#define GLOBE_RADIUS EXTENT/PI/2.0
float wrap(float n,float min,float max) {float d=max-min;float w=mod(mod(n-min,d)+d,d)+min;return (w==min) ? max : w;}
#ifdef PROJECTION_GLOBE_VIEW
vec3 mercator_tile_position(mat4 matrix,vec2 tile_anchor,vec3 tile_id,vec2 mercator_center) {
#ifndef PROJECTED_POS_ON_VIEWPORT
float tiles=tile_id.z;vec2 mercator=(tile_anchor/EXTENT+tile_id.xy)/tiles;mercator-=mercator_center;mercator.x=wrap(mercator.x,-0.5,0.5);vec4 mercator_tile=vec4(mercator.xy*EXTENT,EXTENT/(2.0*PI),1.0);mercator_tile=matrix*mercator_tile;return mercator_tile.xyz;
#else
return vec3(0.0);
#endif
}vec3 mix_globe_mercator(vec3 globe,vec3 mercator,float t) {return mix(globe,mercator,t);}mat3 globe_mercator_surface_vectors(vec3 pos_normal,vec3 up_dir,float zoom_transition) {vec3 normal=zoom_transition==0.0 ? pos_normal : normalize(mix(pos_normal,up_dir,zoom_transition));vec3 xAxis=normalize(vec3(normal.z,0.0,-normal.x));vec3 yAxis=normalize(cross(normal,xAxis));return mat3(xAxis,yAxis,normal);}
#endif
vec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(
unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0
);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const vec2 units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (units_to_pixels*pos+offset)/pattern_size;}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {return get_pattern_pos(pixel_coord_upper,pixel_coord_lower,pattern_size,vec2(tile_units_to_pixels),pos);}float mercatorXfromLng(float lng) {return (180.0+lng)/360.0;}float mercatorYfromLat(float lat) {return (180.0-(RAD_TO_DEG*log(tan(PI/4.0+lat/2.0*DEG_TO_RAD))))/360.0;}vec3 latLngToECEF(vec2 latLng) {latLng=DEG_TO_RAD*latLng;float cosLat=cos(latLng[0]);float sinLat=sin(latLng[0]);float cosLng=cos(latLng[1]);float sinLng=sin(latLng[1]);float sx=cosLat*sinLng*GLOBE_RADIUS;float sy=-sinLat*GLOBE_RADIUS;float sz=cosLat*cosLng*GLOBE_RADIUS;return vec3(sx,sy,sz);}
#ifdef RENDER_CUTOFF
uniform vec4 u_cutoff_params;out float v_cutoff_opacity;
#endif
const vec4 AWAY=vec4(-1000.0,-1000.0,-1000.0,1);const float skirtOffset=24575.0;vec3 decomposeToPosAndSkirt(vec2 posWithComposedSkirt)
{float skirt=float(posWithComposedSkirt.x >=skirtOffset);vec2 pos=posWithComposedSkirt-vec2(skirt*skirtOffset,0.0);return vec3(pos,skirt);}`,bl="in highp vec3 a_pos_3f;uniform lowp mat4 u_matrix;out highp vec3 v_uv;void main() {const mat3 half_neg_pi_around_x=mat3(1.0,0.0, 0.0,0.0,0.0,-1.0,0.0,1.0, 0.0);v_uv=half_neg_pi_around_x*a_pos_3f;vec4 pos=u_matrix*vec4(a_pos_3f,1.0);gl_Position=pos.xyww;}",lc=`
#define ELEVATION_SCALE 7.0
#define ELEVATION_OFFSET 450.0
#ifdef PROJECTION_GLOBE_VIEW
uniform vec3 u_tile_tl_up;uniform vec3 u_tile_tr_up;uniform vec3 u_tile_br_up;uniform vec3 u_tile_bl_up;uniform float u_tile_up_scale;vec3 elevationVector(vec2 pos) {vec2 uv=pos/EXTENT;vec3 up=normalize(mix(
mix(u_tile_tl_up,u_tile_tr_up,uv.xxx),mix(u_tile_bl_up,u_tile_br_up,uv.xxx),uv.yyy));return up*u_tile_up_scale;}
#else
vec3 elevationVector(vec2 pos) { return vec3(0,0,1); }
#endif
#ifdef TERRAIN
uniform highp sampler2D u_dem;uniform highp sampler2D u_dem_prev;uniform vec2 u_dem_tl;uniform vec2 u_dem_tl_prev;uniform float u_dem_scale;uniform float u_dem_scale_prev;uniform float u_dem_size;uniform float u_dem_lerp;uniform float u_exaggeration;uniform float u_meter_to_dem;uniform mat4 u_label_plane_matrix_inv;vec4 tileUvToDemSample(vec2 uv,float dem_size,float dem_scale,vec2 dem_tl) {vec2 pos=dem_size*(uv*dem_scale+dem_tl)+1.0;vec2 f=fract(pos);return vec4((pos-f+0.5)/(dem_size+2.0),f);}float currentElevation(vec2 apos) {
#ifdef TERRAIN_DEM_FLOAT_FORMAT
vec2 pos=(u_dem_size*(apos/8192.0*u_dem_scale+u_dem_tl)+1.5)/(u_dem_size+2.0);return u_exaggeration*texture(u_dem,pos).r;
#else
float dd=1.0/(u_dem_size+2.0);vec4 r=tileUvToDemSample(apos/8192.0,u_dem_size,u_dem_scale,u_dem_tl);vec2 pos=r.xy;vec2 f=r.zw;float tl=texture(u_dem,pos).r;float tr=texture(u_dem,pos+vec2(dd,0)).r;float bl=texture(u_dem,pos+vec2(0,dd)).r;float br=texture(u_dem,pos+vec2(dd,dd)).r;return u_exaggeration*mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);
#endif
}float prevElevation(vec2 apos) {
#ifdef TERRAIN_DEM_FLOAT_FORMAT
vec2 pos=(u_dem_size*(apos/8192.0*u_dem_scale_prev+u_dem_tl_prev)+1.5)/(u_dem_size+2.0);return u_exaggeration*texture(u_dem_prev,pos).r;
#else
float dd=1.0/(u_dem_size+2.0);vec4 r=tileUvToDemSample(apos/8192.0,u_dem_size,u_dem_scale_prev,u_dem_tl_prev);vec2 pos=r.xy;vec2 f=r.zw;float tl=texture(u_dem_prev,pos).r;float tr=texture(u_dem_prev,pos+vec2(dd,0)).r;float bl=texture(u_dem_prev,pos+vec2(0,dd)).r;float br=texture(u_dem_prev,pos+vec2(dd,dd)).r;return u_exaggeration*mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);
#endif
}
#ifdef TERRAIN_VERTEX_MORPHING
float elevation(vec2 apos) {
#ifdef ZERO_EXAGGERATION
return 0.0;
#endif
float nextElevation=currentElevation(apos);float prevElevation=prevElevation(apos);return mix(prevElevation,nextElevation,u_dem_lerp);}
#else
float elevation(vec2 apos) {
#ifdef ZERO_EXAGGERATION
return 0.0;
#endif
return currentElevation(apos);}
#endif
vec4 fourSample(vec2 pos,vec2 off) {float tl=texture(u_dem,pos).r;float tr=texture(u_dem,pos+vec2(off.x,0.0)).r;float bl=texture(u_dem,pos+vec2(0.0,off.y)).r;float br=texture(u_dem,pos+off).r;return vec4(tl,tr,bl,br);}float flatElevation(vec2 pack) {vec2 apos=floor(pack/8.0);vec2 span=10.0*(pack-apos*8.0);vec2 uvTex=(apos-vec2(1.0,1.0))/8190.0;float size=u_dem_size+2.0;float dd=1.0/size;vec2 pos=u_dem_size*(uvTex*u_dem_scale+u_dem_tl)+1.0;vec2 f=fract(pos);pos=(pos-f+0.5)*dd;vec4 h=fourSample(pos,vec2(dd));float z=mix(mix(h.x,h.y,f.x),mix(h.z,h.w,f.x),f.y);vec2 w=floor(0.5*(span*u_meter_to_dem-1.0));vec2 d=dd*w;h=fourSample(pos-d,2.0*d+vec2(dd));vec4 diff=abs(h.xzxy-h.ywzw);vec2 slope=min(vec2(0.25),u_meter_to_dem*0.5*(diff.xz+diff.yw)/(2.0*w+vec2(1.0)));vec2 fix=slope*span;float base=z+max(fix.x,fix.y);return u_exaggeration*base;}float elevationFromUint16(float word) {return u_exaggeration*(word/ELEVATION_SCALE-ELEVATION_OFFSET);}
#else
float elevation(vec2 pos) { return 0.0; }
#endif
#ifdef DEPTH_OCCLUSION
uniform highp sampler2D u_depth;uniform highp vec2 u_depth_size_inv;uniform highp vec2 u_depth_range_unpack;uniform highp float u_occluder_half_size;uniform highp float u_occlusion_depth_offset;
#ifdef DEPTH_D24
float unpack_depth(float depth) {return depth*u_depth_range_unpack.x+u_depth_range_unpack.y;}vec4 unpack_depth4(vec4 depth) {return depth*u_depth_range_unpack.x+vec4(u_depth_range_unpack.y);}
#else
highp float unpack_depth_rgba(vec4 rgba_depth)
{const highp vec4 bit_shift=vec4(1.0/(255.0*255.0*255.0),1.0/(255.0*255.0),1.0/255.0,1.0);return dot(rgba_depth,bit_shift)*2.0-1.0;}
#endif
bool isOccluded(vec4 frag) {vec3 coord=frag.xyz/frag.w;
#ifdef DEPTH_D24
float depth=unpack_depth(texture(u_depth,(coord.xy+1.0)*0.5).r);
#else
float depth=unpack_depth_rgba(texture(u_depth,(coord.xy+1.0)*0.5));
#endif
return coord.z+u_occlusion_depth_offset > depth;}highp vec4 getCornerDepths(vec2 coord) {highp vec3 df=vec3(u_occluder_half_size*u_depth_size_inv,0.0);highp vec2 uv=0.5*coord.xy+0.5;
#ifdef DEPTH_D24
highp vec4 depth=vec4(
texture(u_depth,uv-df.xz).r,texture(u_depth,uv+df.xz).r,texture(u_depth,uv-df.zy).r,texture(u_depth,uv+df.zy).r
);depth=unpack_depth4(depth);
#else
highp vec4 depth=vec4(
unpack_depth_rgba(texture(u_depth,uv-df.xz)),unpack_depth_rgba(texture(u_depth,uv+df.xz)),unpack_depth_rgba(texture(u_depth,uv-df.zy)),unpack_depth_rgba(texture(u_depth,uv+df.zy))
);
#endif
return depth;}highp float occlusionFadeMultiSample(vec4 frag) {highp vec3 coord=frag.xyz/frag.w;highp vec2 uv=0.5*coord.xy+0.5;int NX=3;int NY=4;highp vec2 df=u_occluder_half_size*u_depth_size_inv;highp vec2 oneStep=2.0*u_occluder_half_size*u_depth_size_inv/vec2(NX-1,NY-1);highp float res=0.0;for (int y=0; y < NY;++y) {for (int x=0; x < NX;++x) {
#ifdef DEPTH_D24
highp float depth=unpack_depth(texture(u_depth,uv-df+vec2(float(x)*oneStep.x,float(y)*oneStep.y)).r);
#else
highp float depth=unpack_depth_rgba(texture(u_depth,uv-df+vec2(float(x)*oneStep.x,float(y)*oneStep.y)));
#endif
res+=1.0-clamp(300.0*(coord.z+u_occlusion_depth_offset-depth),0.0,1.0);}}res=clamp(2.0*res/float(NX*NY)-0.5,0.0,1.0);return res;}highp float occlusionFade(vec4 frag) {highp vec3 coord=frag.xyz/frag.w;highp vec4 depth=getCornerDepths(coord.xy);return dot(vec4(0.25),vec4(1.0)-clamp(300.0*(vec4(coord.z+u_occlusion_depth_offset)-depth),0.0,1.0));}
#else
bool isOccluded(vec4 frag) { return false; }highp float occlusionFade(vec4 frag) { return 1.0; }highp float occlusionFadeMultiSample(vec4 frag) { return 1.0; }
#endif//DEPTH_OCCLUSION`,Zu=`#ifdef FOG
uniform mediump vec4 u_fog_color;uniform mediump vec2 u_fog_range;uniform mediump float u_fog_horizon_blend;uniform mediump mat4 u_fog_matrix;out vec3 v_fog_pos;float fog_range(float depth) {return (depth-u_fog_range[0])/(u_fog_range[1]-u_fog_range[0]);}float fog_horizon_blending(vec3 camera_dir) {float t=max(0.0,camera_dir.z/u_fog_horizon_blend);return u_fog_color.a*exp(-3.0*t*t);}float fog_opacity(float t) {const float decay=6.0;float falloff=1.0-min(1.0,exp(-decay*t));falloff*=falloff*falloff;return u_fog_color.a*min(1.0,1.00747*falloff);}vec3 fog_position(vec3 pos) {return (u_fog_matrix*vec4(pos,1.0)).xyz;}vec3 fog_position(vec2 pos) {return fog_position(vec3(pos,0.0));}float fog(vec3 pos) {float depth=length(pos);float opacity=fog_opacity(fog_range(depth));return opacity*fog_horizon_blending(pos/depth);}
#endif`,ql=`#ifdef FOG
uniform mediump vec4 u_fog_color;uniform mediump vec2 u_fog_range;uniform mediump float u_fog_horizon_blend;uniform mediump vec2 u_fog_vertical_limit;uniform mediump float u_fog_temporal_offset;in vec3 v_fog_pos;uniform highp vec3 u_frustum_tl;uniform highp vec3 u_frustum_tr;uniform highp vec3 u_frustum_br;uniform highp vec3 u_frustum_bl;uniform highp vec3 u_globe_pos;uniform highp float u_globe_radius;uniform highp vec2 u_viewport;uniform float u_globe_transition;uniform int u_is_globe;float fog_range(float depth) {return (depth-u_fog_range[0])/(u_fog_range[1]-u_fog_range[0]);}float fog_horizon_blending(vec3 camera_dir) {float t=max(0.0,camera_dir.z/u_fog_horizon_blend);return u_fog_color.a*exp(-3.0*t*t);}float fog_opacity(float t) {const float decay=6.0;float falloff=1.0-min(1.0,exp(-decay*t));falloff*=falloff*falloff;return u_fog_color.a*min(1.0,1.00747*falloff);}float globe_glow_progress() {highp vec2 uv=gl_FragCoord.xy/u_viewport;highp vec3 ray_dir=mix(
mix(u_frustum_tl,u_frustum_tr,uv.x),mix(u_frustum_bl,u_frustum_br,uv.x),1.0-uv.y);highp vec3 dir=normalize(ray_dir);highp vec3 closest_point=dot(u_globe_pos,dir)*dir;highp float sdf=length(closest_point-u_globe_pos)/u_globe_radius;return sdf+PI*0.5;}float fog_opacity(vec3 pos) {float depth=length(pos);return fog_opacity(fog_range(depth));}vec3 fog_apply(vec3 color,vec3 pos,float opacity_limit) {float depth=length(pos);float opacity;if (u_is_globe==1) {float glow_progress=globe_glow_progress();float t=mix(glow_progress,depth,u_globe_transition);opacity=fog_opacity(fog_range(t));} else {opacity=fog_opacity(fog_range(depth));opacity*=fog_horizon_blending(pos/depth);}return mix(color,u_fog_color.rgb,min(opacity,opacity_limit));}vec3 fog_apply(vec3 color,vec3 pos) {return fog_apply(color,pos,1.0);}vec4 fog_apply_from_vert(vec4 color,float fog_opac) {float alpha=EPSILON+color.a;color.rgb=mix(color.rgb/alpha,u_fog_color.rgb,fog_opac)*alpha;return color;}vec3 fog_apply_sky_gradient(vec3 camera_ray,vec3 sky_color) {float horizon_blend=fog_horizon_blending(normalize(camera_ray));return mix(sky_color,u_fog_color.rgb,horizon_blend);}vec4 fog_apply_premultiplied(vec4 color,vec3 pos) {float alpha=EPSILON+color.a;color.rgb=fog_apply(color.rgb/alpha,pos)*alpha;return color;}vec4 fog_apply_premultiplied(vec4 color,vec3 pos,float heightMeters) {float verticalProgress=(u_fog_vertical_limit.x > 0.0 || u_fog_vertical_limit.y > 0.0) ? smoothstep(u_fog_vertical_limit.x,u_fog_vertical_limit.y,heightMeters) : 0.0;float opacityLimit=1.0-smoothstep(0.9,1.0,fog_opacity(pos));return mix(fog_apply_premultiplied(color,pos),color,min(verticalProgress,opacityLimit));}vec3 fog_dither(vec3 color) {return color;}vec4 fog_dither(vec4 color) {return vec4(fog_dither(color.rgb),color.a);}
#endif`,Ml=`#ifdef RASTER_ARRAY
uniform highp sampler2D u_image0;uniform sampler2D u_image1;const vec4 NODATA=vec4(1);ivec4 _raTexLinearCoord(highp vec2 texCoord,highp vec2 texResolution,out highp vec2 fxy) {texCoord=texCoord*texResolution-0.5;fxy=fract(texCoord);texCoord-=fxy;return ivec4(texCoord.xxyy+vec2(1.5,0.5).xyxy);}vec2 _raTexLinearMix(highp vec2 fxy,highp vec4 colorMix,highp float colorOffset,highp vec4 t00,highp vec4 t10,highp vec4 t01,highp vec4 t11) {vec2 c00=t00==NODATA ? vec2(0) : vec2(colorOffset+dot(t00,colorMix),1);vec2 c10=t10==NODATA ? vec2(0) : vec2(colorOffset+dot(t10,colorMix),1);vec2 c01=t01==NODATA ? vec2(0) : vec2(colorOffset+dot(t01,colorMix),1);vec2 c11=t11==NODATA ? vec2(0) : vec2(colorOffset+dot(t11,colorMix),1);return mix(mix(c01,c11,fxy.x),mix(c00,c10,fxy.x),fxy.y);}vec2 raTexture2D_image0_linear(highp vec2 texCoord,highp vec2 texResolution,highp vec4 colorMix,highp float colorOffset) {vec2 fxy;ivec4 c=_raTexLinearCoord(texCoord,texResolution,fxy);return _raTexLinearMix(fxy,colorMix,colorOffset,texelFetch(u_image0,c.yz,0),texelFetch(u_image0,c.xz,0),texelFetch(u_image0,c.yw,0),texelFetch(u_image0,c.xw,0)
);}vec2 raTexture2D_image1_linear(highp vec2 texCoord,highp vec2 texResolution,highp vec4 colorMix,highp float colorOffset) {vec2 fxy;ivec4 c=_raTexLinearCoord(texCoord,texResolution,fxy);return _raTexLinearMix(fxy,colorMix,colorOffset,texelFetch(u_image1,c.yz,0),texelFetch(u_image1,c.xz,0),texelFetch(u_image1,c.yw,0),texelFetch(u_image1,c.xw,0)
);}vec2 raTexture2D_image0_nearest(highp vec2 texCoord,highp vec2 texResolution,highp vec4 colorMix,highp float colorOffset) {vec4 t=texelFetch(u_image0,ivec2(texCoord*texResolution),0);return t==NODATA ? vec2(0) : vec2(colorOffset+dot(t,colorMix),1);}vec2 raTexture2D_image1_nearest(highp vec2 texCoord,highp vec2 texResolution,highp vec4 colorMix,highp float colorOffset) {vec4 t=texelFetch(u_image1,ivec2(texCoord*texResolution),0);return t==NODATA ? vec2(0) : vec2(colorOffset+dot(t,colorMix),1);}
#endif`,Zl=`#ifdef RASTER_ARRAY
uniform sampler2D u_velocity;uniform mediump vec2 u_velocity_res;uniform mediump float u_max_speed;const vec4 NO_DATA=vec4(1);const vec2 INVALID_VELOCITY=vec2(-1);uniform highp vec2 u_uv_offset;uniform highp float u_data_offset;uniform highp vec2 u_data_scale;ivec4 rasterArrayLinearCoord(highp vec2 texCoord,highp vec2 texResolution,out highp vec2 fxy) {texCoord=texCoord*texResolution-0.5;fxy=fract(texCoord);texCoord-=fxy;return ivec4(texCoord.xxyy+vec2(1.5,0.5).xyxy);}highp vec2 lookup_velocity(highp vec2 uv) {uv=u_uv_offset.x+u_uv_offset.y*uv;highp vec2 fxy;ivec4 c=rasterArrayLinearCoord(uv,u_velocity_res,fxy);highp vec4 tl=texelFetch(u_velocity,c.yz,0);highp vec4 tr=texelFetch(u_velocity,c.xz,0);highp vec4 bl=texelFetch(u_velocity,c.yw,0);highp vec4 br=texelFetch(u_velocity,c.xw,0);if (tl==NO_DATA) {return INVALID_VELOCITY;}if (tr==NO_DATA) {return INVALID_VELOCITY;}if (bl==NO_DATA) {return INVALID_VELOCITY;}if (br==NO_DATA) {return INVALID_VELOCITY;}highp vec4 t=mix(mix(bl,br,fxy.x),mix(tl,tr,fxy.x),fxy.y);highp vec2 velocity=u_data_offset+vec2(dot(t.rg,u_data_scale),dot(t.ba,u_data_scale));velocity.y=-velocity.y;velocity/=max(u_max_speed,length(velocity));return velocity;}
#endif
uniform highp float u_particle_pos_scale;uniform highp vec2 u_particle_pos_offset;highp vec4 pack_pos_to_rgba(highp vec2 p) {highp vec2 v=(p+u_particle_pos_offset)/u_particle_pos_scale;highp vec4 r=vec4(v.x,fract(v.x*255.0),v.y,fract(v.y*255.0));return vec4(r.x-r.y/255.0,r.y,r.z-r.w/255.0,r.w);}highp vec2 unpack_pos_from_rgba(highp vec4 v) {v=floor(v*255.0+0.5)/255.0;highp vec2 p=vec2(v.x+(v.y/255.0),v.z+(v.w/255.0));return u_particle_pos_scale*p-u_particle_pos_offset;}`,yc=`#ifdef RENDER_SHADOWS
uniform mediump vec3 u_shadow_direction;uniform highp vec3 u_shadow_normal_offset;vec3 shadow_normal_offset(vec3 normal) {float tileInMeters=u_shadow_normal_offset[0];vec3 n=vec3(-normal.xy,tileInMeters*normal.z);float dotScale=min(1.0-dot(normal,u_shadow_direction),1.0)*0.5+0.5;return n*dotScale;}vec3 shadow_normal_offset_model(vec3 normal) {vec3 transformed_normal=vec3(-normal.xy,normal.z);float NDotL=dot(normalize(transformed_normal),u_shadow_direction);float dotScale=min(1.0-NDotL,1.0)*0.5+0.5;return normal*dotScale;}float shadow_normal_offset_multiplier0() {return u_shadow_normal_offset[1];}float shadow_normal_offset_multiplier1() {return u_shadow_normal_offset[2];}
#endif//RENDER_SHADOWS`,Jl=`#ifdef RENDER_SHADOWS
#ifdef DEPTH_TEXTURE
uniform highp sampler2D u_shadowmap_0;uniform highp sampler2D u_shadowmap_1;
#else
uniform sampler2D u_shadowmap_0;uniform sampler2D u_shadowmap_1;
#endif
uniform float u_shadow_intensity;uniform float u_shadow_map_resolution;uniform float u_shadow_texel_size;uniform highp vec3 u_shadow_normal_offset;uniform vec2 u_fade_range;uniform mediump vec3 u_shadow_direction;uniform highp vec3 u_shadow_bias;highp float shadow_sample_1(highp vec2 uv,highp float compare) {highp float shadow_depth;
#ifdef DEPTH_TEXTURE
shadow_depth=texture(u_shadowmap_1,uv).r;
#else
shadow_depth=unpack_depth(texture(u_shadowmap_1,uv))*0.5+0.5;
#endif
return step(shadow_depth,compare);}highp float shadow_sample_0(highp vec2 uv,highp float compare) {highp float shadow_depth;
#ifdef DEPTH_TEXTURE
shadow_depth=texture(u_shadowmap_0,uv).r;
#else
shadow_depth=unpack_depth(texture(u_shadowmap_0,uv))*0.5+0.5;
#endif
return step(shadow_depth,compare);}float shadow_occlusion_1(highp vec4 pos,highp float bias) {highp vec2 uv=pos.xy;return shadow_sample_1(uv,pos.z-bias);}float shadow_occlusion_0(highp vec4 pos,highp float bias) {highp float compare0=pos.z-bias;
#ifdef TEXTURE_GATHER
highp vec2 uv=pos.xy;highp vec4 samples=textureGather(u_shadowmap_0,uv,0);lowp vec4 stepSamples=step(samples,vec4(compare0));
#else
highp vec2 uv00=pos.xy-vec2(0.5*u_shadow_texel_size);highp vec2 uv10=uv00+vec2(u_shadow_texel_size,0.0);highp vec2 uv01=uv00+vec2(0.0,u_shadow_texel_size);highp vec2 uv11=uv01+vec2(u_shadow_texel_size,0.0);lowp vec4 stepSamples=vec4(
shadow_sample_0(uv01,compare0),shadow_sample_0(uv11,compare0),shadow_sample_0(uv10,compare0),shadow_sample_0(uv00,compare0)
);
#endif
vec2 f=fract(pos.xy*u_shadow_map_resolution-vec2(0.5));lowp vec2 lerpx=mix(stepSamples.wx,stepSamples.zy,f.xx);return mix(lerpx.x,lerpx.y,f.y);}float shadow_occlusion(highp vec4 light_view_pos0,highp vec4 light_view_pos1,float view_depth,highp float bias) {
#ifdef SHADOWS_SINGLE_CASCADE
light_view_pos0.xyz/=light_view_pos0.w;vec2 abs_bounds=abs(light_view_pos0.xy);if (abs_bounds.x >=1.0 || abs_bounds.y >=1.0) {return 0.0;}light_view_pos0.xyz=light_view_pos0.xyz*0.5+0.5;return shadow_occlusion_0(light_view_pos0,bias);
#else
light_view_pos0.xyz/=light_view_pos0.w;light_view_pos1.xyz/=light_view_pos1.w;vec4 uv=vec4(light_view_pos0.xy,light_view_pos1.xy);vec4 abs_bounds=abs(uv);if (abs_bounds.x < 1.0 && abs_bounds.y < 1.0) {light_view_pos0.xyz=light_view_pos0.xyz*0.5+0.5;return shadow_occlusion_0(light_view_pos0,bias);}if (abs_bounds.z >=1.0 || abs_bounds.w >=1.0) {return 0.0;}light_view_pos1.xyz=light_view_pos1.xyz*0.5+0.5;float occlusion1=shadow_occlusion_1(light_view_pos1,bias);return mix(occlusion1,0.0,smoothstep(u_fade_range.x,u_fade_range.y,view_depth));
#endif
}highp float calculate_shadow_bias(float NDotL) {
#ifdef NORMAL_OFFSET
return 0.5*u_shadow_bias.x;
#else
return 0.5*(u_shadow_bias.x+clamp(u_shadow_bias.y*tan(acos(NDotL)),0.0,u_shadow_bias.z));
#endif
}float shadowed_light_factor_normal(vec3 N,highp vec4 light_view_pos0,highp vec4 light_view_pos1,float view_depth) {float NDotL=dot(N,u_shadow_direction);float bias=calculate_shadow_bias(NDotL);float occlusion=shadow_occlusion(light_view_pos0,light_view_pos1,view_depth,bias);return mix(0.0,(1.0-(u_shadow_intensity*occlusion))*NDotL,step(0.0,NDotL));}float shadowed_light_factor_normal_opacity(vec3 N,highp vec4 light_view_pos0,highp vec4 light_view_pos1,float view_depth,float shadow_opacity) {float NDotL=dot(N,u_shadow_direction);float bias=calculate_shadow_bias(NDotL);float occlusion=shadow_occlusion(light_view_pos0,light_view_pos1,view_depth,bias)*shadow_opacity;return mix(0.0,(1.0-(u_shadow_intensity*occlusion))*NDotL,step(0.0,NDotL));}float shadowed_light_factor_normal_unbiased(vec3 N,highp vec4 light_view_pos0,highp vec4 light_view_pos1,float view_depth) {float NDotL=dot(N,u_shadow_direction);float bias=0.0;float occlusion=shadow_occlusion(light_view_pos0,light_view_pos1,view_depth,bias);return mix(0.0,(1.0-(u_shadow_intensity*occlusion))*NDotL,step(0.0,NDotL));}highp vec2 compute_receiver_plane_depth_bias(highp vec3 pos_dx,highp vec3 pos_dy)
{highp vec2 biasUV=vec2(
pos_dy.y*pos_dx.z-pos_dx.y*pos_dy.z,pos_dx.x*pos_dy.z-pos_dy.x*pos_dx.z);biasUV*=1.0/((pos_dx.x*pos_dy.y)-(pos_dx.y*pos_dy.x));return biasUV;}float shadowed_light_factor_plane_bias(highp vec4 light_view_pos0,highp vec4 light_view_pos1,float view_depth) {highp vec3 light_view_pos0_xyz=light_view_pos0.xyz/light_view_pos0.w*0.5+0.5;highp vec3 light_view_pos0_ddx=dFdx(light_view_pos0_xyz);highp vec3 light_view_pos0_ddy=dFdy(light_view_pos0_xyz);highp vec2 plane_depth_bias=compute_receiver_plane_depth_bias(light_view_pos0_ddx,light_view_pos0_ddy);highp float bias=dot(vec2(u_shadow_texel_size,u_shadow_texel_size),plane_depth_bias)+0.0001;float occlusion=shadow_occlusion(light_view_pos0,light_view_pos1,view_depth,bias);return 1.0-(u_shadow_intensity*occlusion);}float shadowed_light_factor(highp vec4 light_view_pos0,highp vec4 light_view_pos1,float view_depth) {float bias=0.0;float occlusion=shadow_occlusion(light_view_pos0,light_view_pos1,view_depth,bias);return 1.0-(u_shadow_intensity*occlusion);}float shadow_occlusion(float ndotl,highp vec4 light_view_pos0,highp vec4 light_view_pos1,float view_depth) {float bias=calculate_shadow_bias(ndotl);return shadow_occlusion(light_view_pos0,light_view_pos1,view_depth,bias);}
#endif`;const Ll=[];ec(Wa,Ll),ec(sc,Ll),ec(Os,Ll);const Vl={"_prelude_fog.vertex.glsl":Zu,"_prelude_terrain.vertex.glsl":lc,"_prelude_shadow.vertex.glsl":yc,"_prelude_fog.fragment.glsl":ql,"_prelude_shadow.fragment.glsl":Jl,"_prelude_lighting.glsl":`
#ifdef LIGHTING_3D_MODE
uniform mediump vec3 u_lighting_ambient_color;uniform mediump vec3 u_lighting_directional_dir;uniform mediump vec3 u_lighting_directional_color;uniform mediump vec3 u_ground_radiance;float calculate_ambient_directional_factor(vec3 normal) {float NdotL=dot(normal,u_lighting_directional_dir);const float factor_reduction_max=0.3;float dir_luminance=dot(u_lighting_directional_color,vec3(0.2126,0.7152,0.0722));float directional_factor_min=1.0-factor_reduction_max*min(dir_luminance,1.0);float ambient_directional_factor=mix(directional_factor_min,1.0,min((NdotL+1.0),1.0));const float vertical_factor_min=0.92;float vertical_factor=mix(vertical_factor_min,1.0,normal.z*0.5+0.5);return vertical_factor*ambient_directional_factor;}vec3 linearProduct(vec3 srgbIn,vec3 k) {return srgbIn*pow(k,vec3(1./2.2));}vec3 apply_lighting(vec3 color,vec3 normal,float dir_factor) {float ambient_directional_factor=calculate_ambient_directional_factor(normal);vec3 ambient_contrib=ambient_directional_factor*u_lighting_ambient_color;vec3 directional_contrib=u_lighting_directional_color*dir_factor;return linearProduct(color,ambient_contrib+directional_contrib);}vec4 apply_lighting(vec4 color,vec3 normal,float dir_factor) {return vec4(apply_lighting(color.rgb,normal,dir_factor),color.a);}vec3 apply_lighting(vec3 color,vec3 normal) {float dir_factor=max(dot(normal,u_lighting_directional_dir),0.0);return apply_lighting(color.rgb,normal,dir_factor);}vec4 apply_lighting(vec4 color,vec3 normal) {float dir_factor=max(dot(normal,u_lighting_directional_dir),0.0);return vec4(apply_lighting(color.rgb,normal,dir_factor),color.a);}vec3 apply_lighting_ground(vec3 color) {return color*u_ground_radiance;}vec4 apply_lighting_ground(vec4 color) {return vec4(apply_lighting_ground(color.rgb),color.a);}float calculate_NdotL(vec3 normal) {const float ext=0.70710678118;return (clamp(dot(normal,u_lighting_directional_dir),-ext,1.0)+ext)/(1.0+ext);}vec4 apply_lighting_with_emission_ground(vec4 color,float emissive_strength) {return mix(apply_lighting_ground(color),color,emissive_strength);}vec3 compute_flood_lighting(vec3 flood_light_color,float fully_occluded_factor,float occlusion,vec3 ground_shadow_factor) {vec3 fully_occluded_color=flood_light_color*mix(ground_shadow_factor,vec3(1.0),fully_occluded_factor);float occlusion_ramp=smoothstep(0.0,0.2,1.0-occlusion);return mix(fully_occluded_color,flood_light_color,occlusion_ramp);}vec3 compute_emissive_draped(vec3 unlit_color,float fully_occluded_factor,float occlusion,vec3 ground_shadow_factor) {vec3 fully_occluded_color=unlit_color*mix(ground_shadow_factor,vec3(1.0),fully_occluded_factor);return mix(fully_occluded_color,unlit_color,1.0-occlusion);}
#endif//LIGHTING_3D_MODE`,"_prelude_raster_array.glsl":Ml,"_prelude_raster_particle.glsl":Zl},Ql={};Ya("",lc),Ya(ql,Zu),Ya(Jl,yc),Ya(Ml,""),Ya(Zl,"");const qc=Ya(Os,sc),Hl=Wa;var cc={background:Ya(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_lighting.glsl"
uniform vec4 u_color;uniform float u_opacity;
#ifdef LIGHTING_3D_MODE
in vec4 v_color;
#endif
void main() {vec4 out_color;
#ifdef LIGHTING_3D_MODE
out_color=v_color;
#else
out_color=u_color;
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
glFragColor=out_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
#include "_prelude_lighting.glsl"
in vec2 a_pos;uniform mat4 u_matrix;
#ifdef LIGHTING_3D_MODE
uniform mediump vec4 u_color;out vec4 v_color;uniform float u_emissive_strength;
#endif
void main() {gl_Position=u_matrix*vec4(a_pos,0,1);
#ifdef LIGHTING_3D_MODE
v_color=apply_lighting_with_emission_ground(u_color,u_emissive_strength);
#endif
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),backgroundPattern:Ya(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_lighting.glsl"
uniform vec2 u_pattern_tl;uniform vec2 u_pattern_br;uniform vec2 u_texsize;uniform float u_opacity;uniform float u_emissive_strength;uniform sampler2D u_image;in highp vec2 v_pos;void main() {highp vec2 imagecoord=mod(v_pos,1.0);highp vec2 pos=mix(u_pattern_tl/u_texsize,u_pattern_br/u_texsize,imagecoord);vec4 out_color=textureLodCustom(u_image,pos,v_pos);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting_with_emission_ground(out_color,u_emissive_strength);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
glFragColor=out_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
uniform mat4 u_matrix;uniform vec2 u_pattern_size;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec2 u_pattern_units_to_pixels;in vec2 a_pos;out highp vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_pattern_size,u_pattern_units_to_pixels,a_pos);
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),circle:Ya(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_lighting.glsl"
in vec3 v_data;in float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
uniform float u_emissive_strength;void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=v_data.xy;float blur_positive=blur < 0.0 ? 0.0 : 1.0;lowp float antialiasblur=v_data.z;float extrude_length=length(extrude)+antialiasblur*(1.0-blur_positive);float antialiased_blur=-max(abs(blur),antialiasblur);float antialiase_blur_opacity=smoothstep(0.0,antialiasblur,extrude_length-1.0);float opacity_t=blur_positive==1.0 ? 
smoothstep(0.0,-antialiased_blur,1.0-extrude_length) : 
smoothstep(antialiased_blur,0.0,extrude_length-1.0)-antialiase_blur_opacity;float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(
antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width)
);vec4 out_color=mix(color*opacity,stroke_color*stroke_opacity,color_t);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting_with_emission_ground(out_color,u_emissive_strength);
#endif
#ifdef FOG
out_color=fog_apply_premultiplied(out_color,v_fog_pos);
#endif
glFragColor=out_color*(v_visibility*opacity_t);
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
}`,`#include "_prelude_fog.vertex.glsl"
#include "_prelude_terrain.vertex.glsl"
#define NUM_VISIBILITY_RINGS 2
#define INV_SQRT2 0.70710678
#define ELEVATION_BIAS 0.0001
#define NUM_SAMPLES_PER_RING 16
uniform mat4 u_matrix;uniform mat2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;in vec2 a_pos;
#ifdef PROJECTION_GLOBE_VIEW
in vec3 a_pos_3;in vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;
#endif
#ifdef ELEVATED_ROADS
in float a_circle_z_offset;
#endif
out vec3 v_data;out float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
vec2 calc_offset(vec2 extrusion,float radius,float stroke_width, float view_scale) {return extrusion*(radius+stroke_width)*u_extrude_scale*view_scale;}float cantilevered_elevation(vec2 pos,float radius,float stroke_width,float view_scale) {vec2 c1=pos+calc_offset(vec2(-1,-1),radius,stroke_width,view_scale);vec2 c2=pos+calc_offset(vec2(1,-1),radius,stroke_width,view_scale);vec2 c3=pos+calc_offset(vec2(1,1),radius,stroke_width,view_scale);vec2 c4=pos+calc_offset(vec2(-1,1),radius,stroke_width,view_scale);float h1=elevation(c1)+ELEVATION_BIAS;float h2=elevation(c2)+ELEVATION_BIAS;float h3=elevation(c3)+ELEVATION_BIAS;float h4=elevation(c4)+ELEVATION_BIAS;return max(h4,max(h3,max(h1,h2)));}float circle_elevation(vec2 pos) {
#if defined(TERRAIN)
return elevation(pos)+ELEVATION_BIAS;
#else
return 0.0;
#endif
}vec4 project_vertex(vec2 extrusion,vec4 world_center,vec4 projected_center,float radius,float stroke_width, float view_scale,mat3 surface_vectors) {vec2 sample_offset=calc_offset(extrusion,radius,stroke_width,view_scale);
#ifdef PITCH_WITH_MAP
#ifdef PROJECTION_GLOBE_VIEW
return u_matrix*( world_center+vec4(sample_offset.x*surface_vectors[0]+sample_offset.y*surface_vectors[1],0) );
#else
return u_matrix*( world_center+vec4(sample_offset,0,0) );
#endif
#else
return projected_center+vec4(sample_offset,0,0);
#endif
}float get_sample_step() {
#ifdef PITCH_WITH_MAP
return 2.0*PI/float(NUM_SAMPLES_PER_RING);
#else
return PI/float(NUM_SAMPLES_PER_RING);
#endif
}void main(void) {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);vec4 world_center;mat3 surface_vectors;
#ifdef PROJECTION_GLOBE_VIEW
vec3 pos_normal_3=a_pos_normal_3/16384.0;surface_vectors=globe_mercator_surface_vectors(pos_normal_3,u_up_dir,u_zoom_transition);vec3 surface_extrusion=extrude.x*surface_vectors[0]+extrude.y*surface_vectors[1];vec3 globe_elevation=elevationVector(circle_center)*circle_elevation(circle_center);vec3 globe_pos=a_pos_3+surface_extrusion+globe_elevation;vec3 mercator_elevation=u_up_dir*u_tile_up_scale*circle_elevation(circle_center);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,circle_center,u_tile_id,u_merc_center)+surface_extrusion+mercator_elevation;vec3 pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);world_center=vec4(pos,1);
#else 
surface_vectors=mat3(1.0);float height=circle_elevation(circle_center);world_center=vec4(circle_center,height,1);
#endif
#ifdef ELEVATED_ROADS
world_center.z+=a_circle_z_offset+ELEVATION_BIAS;
#endif
vec4 projected_center=u_matrix*world_center;float view_scale=0.0;
#ifdef PITCH_WITH_MAP
#ifdef SCALE_WITH_MAP
view_scale=1.0;
#else
view_scale=projected_center.w/u_camera_to_center_distance;
#endif
#else
#ifdef SCALE_WITH_MAP
view_scale=u_camera_to_center_distance;
#else
view_scale=projected_center.w;
#endif
#endif
gl_Position=project_vertex(extrude,world_center,projected_center,radius,stroke_width,view_scale,surface_vectors);float visibility=0.0;
#ifdef TERRAIN
float step=get_sample_step();vec4 occlusion_world_center;vec4 occlusion_projected_center;
#ifdef PITCH_WITH_MAP
float cantilevered_height=cantilevered_elevation(circle_center,radius,stroke_width,view_scale);occlusion_world_center=vec4(circle_center,cantilevered_height,1);occlusion_projected_center=u_matrix*occlusion_world_center;
#else
occlusion_world_center=world_center;occlusion_projected_center=projected_center;
#endif
for(int ring=0; ring < NUM_VISIBILITY_RINGS; ring++) {float scale=(float(ring)+1.0)/float(NUM_VISIBILITY_RINGS);for(int i=0; i < NUM_SAMPLES_PER_RING; i++) {vec2 extrusion=vec2(cos(step*float(i)),-sin(step*float(i)))*scale;vec4 frag_pos=project_vertex(extrusion,occlusion_world_center,occlusion_projected_center,radius,stroke_width,view_scale,surface_vectors);visibility+=float(!isOccluded(frag_pos));}}visibility/=float(NUM_VISIBILITY_RINGS)*float(NUM_SAMPLES_PER_RING);
#else
visibility=1.0;
#endif
#ifdef PROJECTION_GLOBE_VIEW
visibility=1.0;
#endif
v_visibility=visibility;lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);
#ifdef FOG
v_fog_pos=fog_position(world_center.xyz);
#endif
}`),clippingMask:Ya("void main() {glFragColor=vec4(1.0);}","in vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),heatmap:Ya(`#include "_prelude_fog.fragment.glsl"
uniform highp float u_intensity;in vec2 v_extrude;
#pragma mapbox: define highp float weight
#define GAUSS_COEF 0.3989422804014327
void main() {
#pragma mapbox: initialize highp float weight
float d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);glFragColor=vec4(val,1.0,1.0,1.0);
#ifdef FOG
if (u_is_globe==0) {glFragColor.r*=pow(1.0-fog_opacity(v_fog_pos),2.0);}
#endif
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_terrain.vertex.glsl"
#include "_prelude_fog.vertex.glsl"
uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;in vec2 a_pos;
#ifdef PROJECTION_GLOBE_VIEW
in vec3 a_pos_3;in vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;
#endif
out vec2 v_extrude;
#pragma mapbox: define highp float weight
#pragma mapbox: define mediump float radius
const highp float ZERO=1.0/255.0/16.0;
#define GAUSS_COEF 0.3989422804014327
void main(void) {
#pragma mapbox: initialize highp float weight
#pragma mapbox: initialize mediump float radius
vec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec2 tilePos=floor(a_pos*0.5);vec3 pos;
#ifdef PROJECTION_GLOBE_VIEW
vec3 pos_normal_3=a_pos_normal_3/16384.0;mat3 surface_vectors=globe_mercator_surface_vectors(pos_normal_3,u_up_dir,u_zoom_transition);vec3 surface_extrusion=extrude.x*surface_vectors[0]+extrude.y*surface_vectors[1];vec3 globe_elevation=elevationVector(tilePos)*elevation(tilePos);vec3 globe_pos=a_pos_3+surface_extrusion+globe_elevation;vec3 mercator_elevation=u_up_dir*u_tile_up_scale*elevation(tilePos);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,tilePos,u_tile_id,u_merc_center)+surface_extrusion+mercator_elevation;pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);
#else
pos=vec3(tilePos+extrude,elevation(tilePos));
#endif
gl_Position=u_matrix*vec4(pos,1);
#ifdef FOG
v_fog_pos=fog_position(pos);
#endif
}`),heatmapTexture:Ya(`uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;in vec2 v_pos;void main() {float t=texture(u_image,v_pos).r;vec4 color=texture(u_color_ramp,vec2(t,0.5));glFragColor=color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(0.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,"in vec2 a_pos;out vec2 v_pos;void main() {gl_Position=vec4(a_pos,0,1);v_pos=a_pos*0.5+0.5;}"),collisionBox:Ya("in float v_placed;in float v_notUsed;void main() {vec4 red =vec4(1.0,0.0,0.0,1.0);vec4 blue=vec4(0.0,0.0,1.0,0.5);glFragColor =mix(red,blue,step(0.5,v_placed))*0.5;glFragColor*=mix(1.0,0.1,step(0.5,v_notUsed));}",`#include "_prelude_terrain.vertex.glsl"
in vec3 a_pos;in vec2 a_anchor_pos;in vec2 a_extrude;in vec2 a_placed;in vec2 a_shift;in vec2 a_elevation_from_sea;in float a_size_scale;in vec2 a_padding;in float a_auto_z_offset;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;out float v_placed;out float v_notUsed;void main() {float feature_elevation=a_elevation_from_sea.x+a_auto_z_offset;float terrain_elevation=(a_elevation_from_sea.y==1.0 ? 0.0 : elevation(a_anchor_pos));vec4 projectedPoint=u_matrix*vec4(a_pos+elevationVector(a_anchor_pos)*(feature_elevation+terrain_elevation),1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(
0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,1.5);gl_Position=projectedPoint;gl_Position.xy+=(a_extrude*a_size_scale+a_shift+a_padding)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}`),collisionCircle:Ya("in float v_radius;in vec2 v_extrude;in float v_perspective_ratio;in float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);glFragColor=color*alpha*opacity_t;}",`in vec2 a_pos_2f;in float a_radius;in vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;out float v_radius;out vec2 v_extrude;out float v_perspective_ratio;out float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos_2f;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(
mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(
0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}`),debug:Ya("uniform highp vec4 u_color;uniform sampler2D u_overlay;in vec2 v_uv;void main() {vec4 overlay_color=texture(u_overlay,v_uv);glFragColor=mix(u_color,overlay_color,overlay_color.a);}",`#include "_prelude_terrain.vertex.glsl"
in vec2 a_pos;
#ifdef PROJECTION_GLOBE_VIEW
in vec3 a_pos_3;
#endif
out vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {float h=elevation(a_pos);v_uv=a_pos/8192.0;
#ifdef PROJECTION_GLOBE_VIEW
gl_Position=u_matrix*vec4(a_pos_3+elevationVector(a_pos)*h,1);
#else
gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,h,1);
#endif
}`),fill:Ya(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_lighting.glsl"
#include "_prelude_shadow.fragment.glsl"
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
uniform float u_emissive_strength;
#ifdef RENDER_SHADOWS
uniform vec3 u_ground_shadow_factor;in highp vec4 v_pos_light_view_0;in highp vec4 v_pos_light_view_1;in highp float v_depth;
#endif
#ifdef INDICATOR_CUTOUT
in highp float v_z_offset;
#endif
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
vec4 out_color=color;
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting_with_emission_ground(out_color,u_emissive_strength);
#ifdef RENDER_SHADOWS
float light=shadowed_light_factor(v_pos_light_view_0,v_pos_light_view_1,v_depth);out_color.rgb*=mix(u_ground_shadow_factor,vec3(1.0),light);
#endif
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
out_color*=opacity;
#ifdef INDICATOR_CUTOUT
if (v_z_offset >=0.0) {out_color=applyCutout(out_color,v_z_offset);}
#endif
glFragColor=out_color;
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
#include "_prelude_shadow.vertex.glsl"
in vec2 a_pos;
#ifdef ELEVATED_ROADS
in float a_road_z_offset;
#endif
#ifdef RENDER_SHADOWS
uniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;out highp vec4 v_pos_light_view_0;out highp vec4 v_pos_light_view_1;out highp float v_depth;
#endif
#ifdef INDICATOR_CUTOUT
out highp float v_z_offset;
#endif
uniform mat4 u_matrix;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp float z_offset
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp float z_offset
#ifdef ELEVATED_ROADS
z_offset+=a_road_z_offset;
#endif
float hidden=float(opacity==0.0);gl_Position=mix(u_matrix*vec4(a_pos,z_offset,1),AWAY,hidden);
#ifdef RENDER_SHADOWS
vec3 shd_pos0=vec3(a_pos,z_offset);vec3 shd_pos1=vec3(a_pos,z_offset);
#ifdef NORMAL_OFFSET
vec3 offset=shadow_normal_offset(vec3(0.0,0.0,1.0));shd_pos0+=offset*shadow_normal_offset_multiplier0();shd_pos1+=offset*shadow_normal_offset_multiplier1();
#endif
v_pos_light_view_0=u_light_matrix_0*vec4(shd_pos0,1);v_pos_light_view_1=u_light_matrix_1*vec4(shd_pos1,1);v_depth=gl_Position.w;
#endif
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
#ifdef INDICATOR_CUTOUT
v_z_offset=z_offset;
#endif
}`),fillOutline:Ya(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_lighting.glsl"
#include "_prelude_shadow.fragment.glsl"
in highp vec2 v_pos;uniform float u_emissive_strength;
#ifdef RENDER_SHADOWS
uniform vec3 u_ground_shadow_factor;in highp vec4 v_pos_light_view_0;in highp vec4 v_pos_light_view_1;in highp float v_depth;
#endif
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);vec4 out_color=outline_color;
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting_with_emission_ground(out_color,u_emissive_strength);
#ifdef RENDER_SHADOWS
float light=shadowed_light_factor(v_pos_light_view_0,v_pos_light_view_1,v_depth);out_color.rgb*=mix(u_ground_shadow_factor,vec3(1.0),light);
#endif
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
glFragColor=out_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
#include "_prelude_shadow.vertex.glsl"
in vec2 a_pos;
#ifdef ELEVATED_ROADS
in float a_road_z_offset;
#endif
#ifdef RENDER_SHADOWS
uniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;out highp vec4 v_pos_light_view_0;out highp vec4 v_pos_light_view_1;out highp float v_depth;
#endif
uniform mat4 u_matrix;uniform vec2 u_world;out highp vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp float z_offset
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp float z_offset
#ifdef ELEVATED_ROADS
z_offset+=a_road_z_offset;
#endif
float hidden=float(opacity==0.0);gl_Position=mix(u_matrix*vec4(a_pos,z_offset,1),AWAY,hidden);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;
#ifdef RENDER_SHADOWS
vec3 shd_pos0=vec3(a_pos,z_offset);vec3 shd_pos1=vec3(a_pos,z_offset);
#ifdef NORMAL_OFFSET
vec3 offset=shadow_normal_offset(vec3(0.0,0.0,1.0));shd_pos0+=offset*shadow_normal_offset_multiplier0();shd_pos1+=offset*shadow_normal_offset_multiplier1();
#endif
v_pos_light_view_0=u_light_matrix_0*vec4(shd_pos0,1);v_pos_light_view_1=u_light_matrix_1*vec4(shd_pos1,1);v_depth=gl_Position.w;
#endif
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),fillOutlinePattern:Ya(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_lighting.glsl"
#include "_prelude_shadow.fragment.glsl"
uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_emissive_strength;
#ifdef RENDER_SHADOWS
uniform vec3 u_ground_shadow_factor;in highp vec4 v_pos_light_view_0;in highp vec4 v_pos_light_view_1;in highp float v_depth;
#endif
in highp vec2 v_pos;in highp vec2 v_pos_world;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;highp vec2 imagecoord=mod(v_pos,1.0);highp vec2 pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,imagecoord);highp vec2 lod_pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,v_pos);float dist=length(v_pos_world-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);vec4 out_color=textureLodCustom(u_image,pos,lod_pos);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting_with_emission_ground(out_color,u_emissive_strength);
#ifdef RENDER_SHADOWS
float light=shadowed_light_factor(v_pos_light_view_0,v_pos_light_view_1,v_depth);out_color.rgb*=mix(u_ground_shadow_factor,vec3(1.0),light);
#endif
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
glFragColor=out_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
#include "_prelude_shadow.vertex.glsl"
uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_tile_units_to_pixels;in vec2 a_pos;
#ifdef ELEVATED_ROADS
in float a_road_z_offset;
#endif
#ifdef RENDER_SHADOWS
uniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;out highp vec4 v_pos_light_view_0;out highp vec4 v_pos_light_view_1;out highp float v_depth;
#endif
out highp vec2 v_pos;out highp vec2 v_pos_world;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern
#pragma mapbox: define lowp float pixel_ratio
#pragma mapbox: define highp float z_offset
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize lowp float pixel_ratio
#pragma mapbox: initialize highp float z_offset
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;
#ifdef ELEVATED_ROADS
z_offset+=a_road_z_offset;
#endif
float hidden=float(opacity==0.0);gl_Position=mix(u_matrix*vec4(a_pos,z_offset,1),AWAY,hidden);vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,display_size,u_tile_units_to_pixels,a_pos);v_pos_world=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;
#ifdef RENDER_SHADOWS
vec3 shd_pos0=vec3(a_pos,z_offset);vec3 shd_pos1=vec3(a_pos,z_offset);
#ifdef NORMAL_OFFSET
vec3 offset=shadow_normal_offset(vec3(0.0,0.0,1.0));shd_pos0+=offset*shadow_normal_offset_multiplier0();shd_pos1+=offset*shadow_normal_offset_multiplier1();
#endif
v_pos_light_view_0=u_light_matrix_0*vec4(shd_pos0,1);v_pos_light_view_1=u_light_matrix_1*vec4(shd_pos1,1);v_depth=gl_Position.w;
#endif
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),fillPattern:Ya(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_lighting.glsl"
#include "_prelude_shadow.fragment.glsl"
uniform vec2 u_texsize;uniform sampler2D u_image;in highp vec2 v_pos;uniform float u_emissive_strength;
#ifdef RENDER_SHADOWS
uniform vec3 u_ground_shadow_factor;in highp vec4 v_pos_light_view_0;in highp vec4 v_pos_light_view_1;in highp float v_depth;
#endif
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;highp vec2 imagecoord=mod(v_pos,1.0);highp vec2 pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,imagecoord);highp vec2 lod_pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,v_pos);vec4 out_color=textureLodCustom(u_image,pos,lod_pos);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting_with_emission_ground(out_color,u_emissive_strength);
#ifdef RENDER_SHADOWS
float light=shadowed_light_factor(v_pos_light_view_0,v_pos_light_view_1,v_depth);out_color.rgb*=mix(u_ground_shadow_factor,vec3(1.0),light);
#endif
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
glFragColor=out_color*opacity;
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
#include "_prelude_shadow.vertex.glsl"
uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_tile_units_to_pixels;in vec2 a_pos;
#ifdef ELEVATED_ROADS
in float a_road_z_offset;
#endif
#ifdef RENDER_SHADOWS
uniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;out highp vec4 v_pos_light_view_0;out highp vec4 v_pos_light_view_1;out highp float v_depth;
#endif
out highp vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern
#pragma mapbox: define lowp float pixel_ratio
#pragma mapbox: define highp float z_offset
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize lowp float pixel_ratio
#pragma mapbox: initialize highp float z_offset
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;
#ifdef ELEVATED_ROADS
z_offset+=a_road_z_offset;
#endif
float hidden=float(opacity==0.0);gl_Position=mix(u_matrix*vec4(a_pos,z_offset,1),AWAY,hidden);v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,display_size,u_tile_units_to_pixels,a_pos);
#ifdef RENDER_SHADOWS
vec3 shd_pos0=vec3(a_pos,z_offset);vec3 shd_pos1=vec3(a_pos,z_offset);
#ifdef NORMAL_OFFSET
vec3 offset=shadow_normal_offset(vec3(0.0,0.0,1.0));shd_pos0+=offset*shadow_normal_offset_multiplier0();shd_pos1+=offset*shadow_normal_offset_multiplier1();
#endif
v_pos_light_view_0=u_light_matrix_0*vec4(shd_pos0,1);v_pos_light_view_1=u_light_matrix_1*vec4(shd_pos1,1);v_depth=gl_Position.w;
#endif
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),fillExtrusion:Ya(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_shadow.fragment.glsl"
#include "_prelude_lighting.glsl"
in vec4 v_color;in vec4 v_flat;
#ifdef RENDER_SHADOWS
in highp vec4 v_pos_light_view_0;in highp vec4 v_pos_light_view_1;
#endif
uniform lowp float u_opacity;
#ifdef FAUX_AO
uniform lowp vec2 u_ao;in vec2 v_ao;
#endif
#if defined(ZERO_ROOF_RADIUS) && !defined(LIGHTING_3D_MODE)
in vec4 v_roof_color;
#endif
#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS) || defined(LIGHTING_3D_MODE)
in highp vec3 v_normal;
#endif
uniform vec3 u_flood_light_color;uniform highp float u_vertical_scale;uniform float u_flood_light_intensity;uniform vec3 u_ground_shadow_factor;
#if defined(LIGHTING_3D_MODE) && defined(FLOOD_LIGHT)
in float v_flood_radius;in float v_has_floodlight;
#endif
in float v_height;
#pragma mapbox: define highp float emissive_strength
void main() {
#pragma mapbox: initialize highp float emissive_strength
#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS) || defined(LIGHTING_3D_MODE)
vec3 normal=normalize(v_normal);
#endif
float z;vec4 color=v_color;
#ifdef ZERO_ROOF_RADIUS
z=float(normal.z > 0.00001);
#ifdef LIGHTING_3D_MODE
normal=mix(normal,vec3(0.0,0.0,1.0),z);
#else
color=mix(v_color,v_roof_color,z);
#endif
#endif
float h=max(0.0,v_height);float ao_shade=1.0;
#ifdef FAUX_AO
float intensity=u_ao[0];float h_floors=h/(u_ao[1]*u_vertical_scale);float y_shade=1.0-0.9*intensity*min(v_ao.y,1.0);ao_shade=(1.0-0.08*intensity)*(y_shade+(1.0-y_shade)*(1.0-pow(1.0-min(h_floors/16.0,1.0),16.0)))+0.08*intensity*min(h_floors/160.0,1.0);float concave=v_ao.x*v_ao.x;
#ifdef ZERO_ROOF_RADIUS
concave*=(1.0-z);
#endif
float x_shade=mix(1.0,mix(0.6,0.75,min(h_floors/30.0,1.0)),intensity)+0.1*intensity*min(h,1.0);ao_shade*=mix(1.0,x_shade*x_shade*x_shade,concave);
#ifdef LIGHTING_3D_MODE
#ifdef FLOOD_LIGHT
color.rgb*=mix(ao_shade,1.0,v_has_floodlight);
#else
color.rgb*=ao_shade;
#endif
#else
color.rgb*=ao_shade;
#endif
#endif
#ifdef LIGHTING_3D_MODE
float flood_radiance=0.0;
#ifdef FLOOD_LIGHT
flood_radiance=(1.0-min(h/v_flood_radius,1.0))*u_flood_light_intensity*v_has_floodlight;
#endif
#ifdef RENDER_SHADOWS
#ifdef FLOOD_LIGHT
float ndotl_unclamped=dot(normal,u_shadow_direction);float ndotl=max(0.0,ndotl_unclamped);float occlusion=ndotl_unclamped < 0.0 ? 1.0 : shadow_occlusion(ndotl,v_pos_light_view_0,v_pos_light_view_1,1.0/gl_FragCoord.w);vec3 litColor=apply_lighting(color.rgb,normal,(1.0-u_shadow_intensity*occlusion)*ndotl);vec3 floodLitColor=compute_flood_lighting(u_flood_light_color*u_opacity,1.0-u_shadow_intensity,occlusion,u_ground_shadow_factor);color.rgb=mix(litColor,floodLitColor,flood_radiance);
#else
float shadowed_lighting_factor;
#ifdef RENDER_CUTOFF
shadowed_lighting_factor=shadowed_light_factor_normal_opacity(normal,v_pos_light_view_0,v_pos_light_view_1,1.0/gl_FragCoord.w,v_cutoff_opacity);if (v_cutoff_opacity==0.0) {discard;}
#else
shadowed_lighting_factor=shadowed_light_factor_normal(normal,v_pos_light_view_0,v_pos_light_view_1,1.0/gl_FragCoord.w);
#endif
color.rgb=apply_lighting(color.rgb,normal,shadowed_lighting_factor);
#endif
#else
color.rgb=apply_lighting(color.rgb,normal);
#ifdef FLOOD_LIGHT
color.rgb=mix(color.rgb,u_flood_light_color*u_opacity,flood_radiance);
#endif
#endif
color.rgb=mix(color.rgb,v_flat.rgb,emissive_strength);color*=u_opacity;
#endif
#ifdef FOG
color=fog_dither(fog_apply_premultiplied(color,v_fog_pos,h));
#endif
#ifdef INDICATOR_CUTOUT
color=applyCutout(color,h);
#endif
glFragColor=color;
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
#include "_prelude_terrain.vertex.glsl"
#include "_prelude_shadow.vertex.glsl"
#include "_prelude_lighting.glsl"
uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform float u_edge_radius;uniform float u_width_scale;in vec4 a_pos_normal_ed;in vec2 a_centroid_pos;
#ifdef RENDER_WALL_MODE
in vec3 a_join_normal_inside;
#endif
#ifdef PROJECTION_GLOBE_VIEW
in vec3 a_pos_3;in vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;uniform float u_height_lift;
#endif
#ifdef TERRAIN
uniform int u_height_type;uniform int u_base_type;
#endif
uniform highp float u_vertical_scale;out vec4 v_color;out vec4 v_flat;
#ifdef RENDER_SHADOWS
uniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;out highp vec4 v_pos_light_view_0;out highp vec4 v_pos_light_view_1;
#endif
#if defined(ZERO_ROOF_RADIUS) && !defined(LIGHTING_3D_MODE)
out vec4 v_roof_color;
#endif
#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS) || defined(LIGHTING_3D_MODE)
out highp vec3 v_normal;
#endif
#ifdef FAUX_AO
uniform lowp vec2 u_ao;out vec2 v_ao;
#endif
#if defined(LIGHTING_3D_MODE) && defined(FLOOD_LIGHT)
out float v_flood_radius;out float v_has_floodlight;
#endif
out float v_height;vec3 linearTosRGB(vec3 color) {return pow(color,vec3(1./2.2));}vec3 sRGBToLinear(vec3 srgbIn) {return pow(srgbIn,vec3(2.2));}
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp vec4 color
#pragma mapbox: define highp float flood_light_wall_radius
#pragma mapbox: define highp float line_width
#pragma mapbox: define highp float emissive_strength
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize highp float flood_light_wall_radius
#pragma mapbox: initialize highp float line_width
#pragma mapbox: initialize highp float emissive_strength
base*=u_vertical_scale;height*=u_vertical_scale;vec4 pos_nx=floor(a_pos_normal_ed*0.5);vec4 top_up_ny_start=a_pos_normal_ed-2.0*pos_nx;vec3 top_up_ny=top_up_ny_start.xyz;float x_normal=pos_nx.z/8192.0;vec3 normal=top_up_ny.y==1.0 ? vec3(0.0,0.0,1.0) : normalize(vec3(x_normal,(2.0*top_up_ny.z-1.0)*(1.0-abs(x_normal)),0.0));
#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS) || defined(LIGHTING_3D_MODE)
v_normal=normal;
#endif
base=max(0.0,base);float attr_height=height;height=max(0.0,top_up_ny.y==0.0 && top_up_ny.x==1.0 ? height-u_edge_radius : height);float t=top_up_ny.x;vec2 centroid_pos=vec2(0.0);
#if defined(HAS_CENTROID) || defined(TERRAIN)
centroid_pos=a_centroid_pos;
#endif
float ele=0.0;float h=0.0;float c_ele=0.0;vec3 pos;
#ifdef TERRAIN
bool is_flat_height=centroid_pos.x !=0.0 && u_height_type==1;bool is_flat_base=centroid_pos.x !=0.0 && u_base_type==1;ele=elevation(pos_nx.xy);c_ele=is_flat_height || is_flat_base ? (centroid_pos.y==0.0 ? elevationFromUint16(centroid_pos.x) : flatElevation(centroid_pos)) : ele;float h_height=is_flat_height ? max(c_ele+height,ele+base+2.0) : ele+height;float h_base=is_flat_base ? max(c_ele+base,ele+base) : ele+(base==0.0 ?-5.0 : base);h=t > 0.0 ? max(h_base,h_height) : h_base;pos=vec3(pos_nx.xy,h);
#else
h=t > 0.0 ? height : base;pos=vec3(pos_nx.xy,h);
#endif
#ifdef PROJECTION_GLOBE_VIEW
float lift=float((t+base) > 0.0)*u_height_lift;h+=lift;vec3 globe_normal=normalize(mix(a_pos_normal_3/16384.0,u_up_dir,u_zoom_transition));vec3 globe_pos=a_pos_3+globe_normal*(u_tile_up_scale*h);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,pos.xy,u_tile_id,u_merc_center)+u_up_dir*u_tile_up_scale*pos.z;pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);
#endif
float cutoff=1.0;vec3 scaled_pos=pos;
#ifdef RENDER_CUTOFF
vec3 centroid_random=vec3(centroid_pos.xy,centroid_pos.x+centroid_pos.y+1.0);vec3 ground_pos=centroid_pos.x==0.0 ? pos.xyz : (centroid_random/8.0);vec4 ground=u_matrix*vec4(ground_pos.xy,ele,1.0);cutoff=cutoff_opacity(u_cutoff_params,ground.z);if (centroid_pos.y !=0.0 && centroid_pos.x !=0.0) {vec3 g=floor(ground_pos);vec3 mod_=centroid_random-g*8.0;float seed=min(1.0,0.1*(min(3.5,max(mod_.x+mod_.y,0.2*attr_height))*0.35+mod_.z));if (cutoff < 0.8-seed) {cutoff=0.0;}}float cutoff_scale=cutoff;v_cutoff_opacity=cutoff;scaled_pos.z=mix(c_ele,h,cutoff_scale);
#endif
float hidden=float((centroid_pos.x==0.0 && centroid_pos.y==1.0) || (cutoff==0.0 && centroid_pos.x !=0.0) || (color.a==0.0));
#ifdef RENDER_WALL_MODE
vec2 wall_offset=u_width_scale*line_width*(a_join_normal_inside.xy/EXTENT);scaled_pos.xy+=(1.0-a_join_normal_inside.z)*wall_offset*0.5;scaled_pos.xy-=a_join_normal_inside.z*wall_offset*0.5;
#endif
gl_Position=mix(u_matrix*vec4(scaled_pos,1),AWAY,hidden);h=h-ele;v_height=h;
#ifdef RENDER_SHADOWS
vec3 shd_pos0=pos;vec3 shd_pos1=pos;
#ifdef NORMAL_OFFSET
vec3 offset=shadow_normal_offset(normal);shd_pos0+=offset*shadow_normal_offset_multiplier0();shd_pos1+=offset*shadow_normal_offset_multiplier1();
#endif
v_pos_light_view_0=u_light_matrix_0*vec4(shd_pos0,1);v_pos_light_view_1=u_light_matrix_1*vec4(shd_pos1,1);
#endif
float NdotL=0.0;float colorvalue=0.0;
#ifndef LIGHTING_3D_MODE
colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;NdotL=clamp(dot(normal,u_lightpos),0.0,1.0);NdotL=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),NdotL);if (normal.y !=0.0) {float r=0.84;r=mix(0.7,0.98,1.0-u_lightintensity);NdotL*=(
(1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),r,1.0)));}
#endif
#ifdef FAUX_AO
float concave=pos_nx.w-floor(pos_nx.w*0.5)*2.0;float start=top_up_ny_start.w;float y_ground=1.0-clamp(t+base,0.0,1.0);float top_height=height;
#ifdef TERRAIN
top_height=mix(max(c_ele+height,ele+base+2.0),ele+height,float(centroid_pos.x==0.0))-ele;y_ground+=y_ground*5.0/max(3.0,top_height);
#endif
v_ao=vec2(mix(concave,-concave,start),y_ground);NdotL*=(1.0+0.05*(1.0-top_up_ny.y)*u_ao[0]);
#ifdef PROJECTION_GLOBE_VIEW
top_height+=u_height_lift;
#endif
gl_Position.z-=(0.0000006*(min(top_height,500.)+2.0*min(base,500.0)+60.0*concave+3.0*start))*gl_Position.w;
#endif
#ifdef LIGHTING_3D_MODE
#ifdef FLOOD_LIGHT
float is_wall=1.0-float(t > 0.0 && top_up_ny.y > 0.0);v_has_floodlight=float(flood_light_wall_radius > 0.0 && is_wall > 0.0);v_flood_radius=flood_light_wall_radius*u_vertical_scale;
#endif
v_color=vec4(color.rgb,1.0);float ndotl=calculate_NdotL(normal);v_flat.rgb=sRGBToLinear(color.rgb);v_flat.rgb=v_flat.rgb*(ndotl+(1.0-min(ndotl*57.29,1.0))*emissive_strength);v_flat=vec4(linearTosRGB(v_flat.rgb),1.0);
#else
v_color=vec4(0.0,0.0,0.0,1.0);v_color.rgb+=clamp(color.rgb*NdotL*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_color*=u_opacity;
#endif
#if defined(ZERO_ROOF_RADIUS) && !defined(LIGHTING_3D_MODE)
float roofNdotL=clamp(u_lightpos.z,0.0,1.0);roofNdotL=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),roofNdotL);v_roof_color=vec4(0.0,0.0,0.0,1.0);v_roof_color.rgb+=clamp(color.rgb*roofNdotL*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_roof_color*=u_opacity;
#endif
#ifdef FOG
v_fog_pos=fog_position(pos);
#endif
}`),fillExtrusionDepth:Ya(`in highp float v_depth;void main() {
#ifndef DEPTH_TEXTURE
glFragColor=pack_depth(v_depth);
#endif
}`,`#include "_prelude_terrain.vertex.glsl"
uniform mat4 u_matrix;uniform float u_edge_radius;uniform float u_width_scale;uniform float u_vertical_scale;
#ifdef TERRAIN
uniform int u_height_type;uniform int u_base_type;
#endif
in vec4 a_pos_normal_ed;in vec2 a_centroid_pos;
#ifdef RENDER_WALL_MODE
in vec3 a_join_normal_inside;
#endif
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp float line_width
#pragma mapbox: define highp vec4 color
out highp float v_depth;void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp float line_width
#pragma mapbox: initialize highp vec4 color
base*=u_vertical_scale;height*=u_vertical_scale;vec3 pos_nx=floor(a_pos_normal_ed.xyz*0.5);mediump vec3 top_up_ny=a_pos_normal_ed.xyz-2.0*pos_nx;base=max(0.0,base);height=max(0.0,top_up_ny.y==0.0 && top_up_ny.x==1.0 ? height-u_edge_radius : height);float t=top_up_ny.x;vec2 centroid_pos=vec2(0.0);
#if defined(HAS_CENTROID) || defined(TERRAIN)
centroid_pos=a_centroid_pos;
#endif
vec3 pos;
#ifdef TERRAIN
bool is_flat_height=centroid_pos.x !=0.0 && u_height_type==1;bool is_flat_base=centroid_pos.x !=0.0 && u_base_type==1;float ele=elevation(pos_nx.xy);float c_ele=is_flat_height || is_flat_base ? (centroid_pos.y==0.0 ? elevationFromUint16(centroid_pos.x) : flatElevation(centroid_pos)) : ele;float h_height=is_flat_height ? max(c_ele+height,ele+base+2.0) : ele+height;float h_base=is_flat_base ? max(c_ele+base,ele+base) : ele+(base==0.0 ?-5.0 : base);float h=t > 0.0 ? max(h_base,h_height) : h_base;pos=vec3(pos_nx.xy,h);
#else
pos=vec3(pos_nx.xy,t > 0.0 ? height : base);
#endif
#ifdef RENDER_WALL_MODE
vec2 wall_offset=u_width_scale*line_width*(a_join_normal_inside.xy/EXTENT);pos.xy+=(1.0-a_join_normal_inside.z)*wall_offset*0.5;pos.xy-=a_join_normal_inside.z*wall_offset*0.5;
#endif
float hidden=float((centroid_pos.x==0.0 && centroid_pos.y==1.0) || (color.a==0.0));gl_Position=mix(u_matrix*vec4(pos,1),AWAY,hidden);v_depth=gl_Position.z/gl_Position.w;}`),fillExtrusionPattern:Ya(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_lighting.glsl"
uniform vec2 u_texsize;uniform sampler2D u_image;
#ifdef FAUX_AO
uniform lowp vec2 u_ao;in vec3 v_ao;
#endif
#ifdef LIGHTING_3D_MODE
in vec3 v_normal;
#endif
in highp vec2 v_pos;in vec4 v_lighting;uniform lowp float u_opacity;
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define mediump vec4 pattern
#pragma mapbox: define highp float pixel_ratio
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize highp float pixel_ratio
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;highp vec2 imagecoord=mod(v_pos,1.0);highp vec2 pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,imagecoord);highp vec2 lod_pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,v_pos);vec4 out_color=textureLodCustom(u_image,pos,lod_pos);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color,normalize(v_normal))*u_opacity;
#else
out_color=out_color*v_lighting;
#endif
#ifdef FAUX_AO
float intensity=u_ao[0];float h=max(0.0,v_ao.z);float h_floors=h/u_ao[1];float y_shade=1.0-0.9*intensity*min(v_ao.y,1.0);float shade=(1.0-0.08*intensity)*(y_shade+(1.0-y_shade)*(1.0-pow(1.0-min(h_floors/16.0,1.0),16.0)))+0.08*intensity*min(h_floors/160.0,1.0);float concave=v_ao.x*v_ao.x;float x_shade=mix(1.0,mix(0.6,0.75,min(h_floors/30.0,1.0)),intensity)+0.1*intensity*min(h,1.0);shade*=mix(1.0,x_shade*x_shade*x_shade,concave);out_color.rgb=out_color.rgb*shade;
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
#ifdef INDICATOR_CUTOUT
out_color=applyCutout(out_color,height);
#endif
glFragColor=out_color;
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
#include "_prelude_terrain.vertex.glsl"
#include "_prelude_lighting.glsl"
uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform float u_tile_units_to_pixels;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform float u_width_scale;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;in vec4 a_pos_normal_ed;in vec2 a_centroid_pos;
#ifdef RENDER_WALL_MODE
in vec3 a_join_normal_inside;
#endif
#ifdef PROJECTION_GLOBE_VIEW
in vec3 a_pos_3;in vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;uniform float u_height_lift;
#endif
#ifdef TERRAIN
uniform int u_height_type;uniform int u_base_type;
#endif
out highp vec2 v_pos;out vec4 v_lighting;
#ifdef FAUX_AO
uniform lowp vec2 u_ao;out vec3 v_ao;
#endif
#ifdef LIGHTING_3D_MODE
out vec3 v_normal;
#endif
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump vec4 pattern
#pragma mapbox: define highp float pixel_ratio
#pragma mapbox: define highp float line_width
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize highp float pixel_ratio
#pragma mapbox: initialize highp float line_width
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec4 pos_nx=floor(a_pos_normal_ed*0.5);mediump vec4 top_up_ny_start=a_pos_normal_ed-2.0*pos_nx;mediump vec3 top_up_ny=top_up_ny_start.xyz;float x_normal=pos_nx.z/8192.0;vec3 normal=top_up_ny.y==1.0 ? vec3(0.0,0.0,1.0) : normalize(vec3(x_normal,(2.0*top_up_ny.z-1.0)*(1.0-abs(x_normal)),0.0));float edgedistance=a_pos_normal_ed.w;vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;base=max(0.0,base);height=max(0.0,height);float t=top_up_ny.x;float z=t > 0.0 ? height : base;vec2 centroid_pos=vec2(0.0);
#if defined(HAS_CENTROID) || defined(TERRAIN)
centroid_pos=a_centroid_pos;
#endif
float ele=0.0;float h=z;vec3 p;float c_ele;
#ifdef TERRAIN
bool is_flat_height=centroid_pos.x !=0.0 && u_height_type==1;bool is_flat_base=centroid_pos.x !=0.0 && u_base_type==1;ele=elevation(pos_nx.xy);c_ele=is_flat_height || is_flat_base ? (centroid_pos.y==0.0 ? elevationFromUint16(centroid_pos.x) : flatElevation(centroid_pos)) : ele;float h_height=is_flat_height ? max(c_ele+height,ele+base+2.0) : ele+height;float h_base=is_flat_base ? max(c_ele+base,ele+base) : ele+(base==0.0 ?-5.0 : base);h=t > 0.0 ? max(h_base,h_height) : h_base;p=vec3(pos_nx.xy,h);
#else
p=vec3(pos_nx.xy,z);
#endif
#ifdef PROJECTION_GLOBE_VIEW
float lift=float((t+base) > 0.0)*u_height_lift;h+=lift;vec3 globe_normal=normalize(mix(a_pos_normal_3/16384.0,u_up_dir,u_zoom_transition));vec3 globe_pos=a_pos_3+globe_normal*(u_tile_up_scale*(p.z+lift));vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,p.xy,u_tile_id,u_merc_center)+u_up_dir*u_tile_up_scale*p.z;p=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);
#endif
#ifdef RENDER_WALL_MODE
vec2 wall_offset=u_width_scale*line_width*(a_join_normal_inside.xy/EXTENT);p.xy+=(1.0-a_join_normal_inside.z)*wall_offset*0.5;p.xy-=a_join_normal_inside.z*wall_offset*0.5;
#endif
float hidden=float((centroid_pos.x==0.0 && centroid_pos.y==1.0) || (color.a==0.0));gl_Position=mix(u_matrix*vec4(p,1),AWAY,hidden);vec2 pos=normal.z==1.0
? pos_nx.xy
: vec2(edgedistance,z*u_height_factor);v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,display_size,u_tile_units_to_pixels,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float NdotL=0.0;
#ifdef LIGHTING_3D_MODE
NdotL=calculate_NdotL(normal);
#else
NdotL=clamp(dot(normal,u_lightpos),0.0,1.0);NdotL=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),NdotL);
#endif
if (normal.y !=0.0) {float r=0.84;
#ifndef LIGHTING_3D_MODE
r=mix(0.7,0.98,1.0-u_lightintensity);
#endif
NdotL*=(
(1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),r,1.0)));}
#ifdef FAUX_AO
float concave=pos_nx.w-floor(pos_nx.w*0.5)*2.0;float start=top_up_ny_start.w;float y_ground=1.0-clamp(t+base,0.0,1.0);float top_height=height;
#ifdef TERRAIN
top_height=mix(max(c_ele+height,ele+base+2.0),ele+height,float(centroid_pos.x==0.0))-ele;y_ground+=y_ground*5.0/max(3.0,top_height);
#endif
v_ao=vec3(mix(concave,-concave,start),y_ground,h-ele);NdotL*=(1.0+0.05*(1.0-top_up_ny.y)*u_ao[0]);
#ifdef PROJECTION_GLOBE_VIEW
top_height+=u_height_lift;
#endif
gl_Position.z-=(0.0000006*(min(top_height,500.)+2.0*min(base,500.0)+60.0*concave+3.0*start))*gl_Position.w;
#endif
#ifdef LIGHTING_3D_MODE
v_normal=normal;
#else
v_lighting.rgb+=clamp(NdotL*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;
#endif 
#ifdef FOG
v_fog_pos=fog_position(p);
#endif
}`),groundShadow:Ya(`#include "_prelude_shadow.fragment.glsl"
precision highp float;uniform vec3 u_ground_shadow_factor;in vec4 v_pos_light_view_0;in vec4 v_pos_light_view_1;
#ifdef FOG
in float v_fog_opacity;
#endif
void main() {float light=shadowed_light_factor_plane_bias(v_pos_light_view_0,v_pos_light_view_1,1.0/gl_FragCoord.w);vec3 shadow=mix(u_ground_shadow_factor,vec3(1.0),light);
#ifdef RENDER_CUTOFF
shadow=mix(vec3(1.0),shadow,cutoff_opacity(u_cutoff_params,1.0/gl_FragCoord.w));
#endif
#ifdef FOG
shadow=mix(shadow,vec3(1.0),v_fog_opacity);
#endif
#ifdef INDICATOR_CUTOUT
shadow=mix(shadow,vec3(1.0),1.0-applyCutout(vec4(1.0),0.0).r);
#endif
glFragColor=vec4(shadow,1.0);}`,`#include "_prelude_fog.vertex.glsl"
uniform mat4 u_matrix;uniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;in vec2 a_pos;out vec4 v_pos_light_view_0;out vec4 v_pos_light_view_1;
#ifdef FOG
out float v_fog_opacity;
#endif
void main() {gl_Position=u_matrix*vec4(a_pos,0.0,1.0);v_pos_light_view_0=u_light_matrix_0*vec4(a_pos,0.0,1.0);v_pos_light_view_1=u_light_matrix_1*vec4(a_pos,0.0,1.0);
#ifdef FOG
v_fog_pos=fog_position(a_pos);v_fog_opacity=fog(v_fog_pos);
#endif
}`),fillExtrusionGroundEffect:Ya(`uniform highp float u_ao_pass;uniform highp float u_opacity;uniform highp float u_flood_light_intensity;uniform highp vec3 u_flood_light_color;uniform highp float u_attenuation;uniform sampler2D u_fb;uniform float u_fb_size;
#ifdef SDF_SUBPASS
in highp vec2 v_pos;in highp vec4 v_line_segment;in highp float v_flood_light_radius_tile;in highp vec2 v_ao;float line_df(highp vec2 a,highp vec2 b,highp vec2 p) {highp vec2 ba=b-a;highp vec2 pa=p-a;highp float r=clamp(dot(pa,ba)/dot(ba,ba),0.0,1.0);return length(pa-r*ba);}
#ifdef FOG
in highp float v_fog;
#endif
#endif
void main() {
#ifdef CLEAR_SUBPASS
vec4 color=vec4(1.0);
#ifdef CLEAR_FROM_TEXTURE
color=texture(u_fb,gl_FragCoord.xy/vec2(u_fb_size));
#endif
glFragColor=color;
#else
#ifdef SDF_SUBPASS
highp float d=line_df(v_line_segment.xy,v_line_segment.zw,v_pos);highp float effect_radius=mix(v_flood_light_radius_tile,v_ao.y,u_ao_pass);d/=effect_radius;d=min(d,1.0);d=1.0-pow(1.0-d,u_attenuation);highp float effect_intensity=mix(u_flood_light_intensity,v_ao.x,u_ao_pass);highp float fog=1.0;
#ifdef FOG
fog=v_fog;
#endif
#ifdef RENDER_CUTOFF
fog*=v_cutoff_opacity;
#endif
glFragColor=vec4(vec3(0.0),mix(1.0,d,effect_intensity*u_opacity*fog));
#else
vec4 color=mix(vec4(u_flood_light_color,1.0),vec4(vec3(0.0),1.0),u_ao_pass);
#ifdef OVERDRAW_INSPECTOR
color=vec4(1.0);
#endif
glFragColor=color;
#endif
HANDLE_WIREFRAME_DEBUG;
#endif
}`,`#include "_prelude_fog.vertex.glsl"
in highp vec4 a_pos_end;in highp float a_angular_offset_factor;in highp float a_hidden_by_landmark;
#ifdef SDF_SUBPASS
out highp vec2 v_pos;out highp vec4 v_line_segment;out highp float v_flood_light_radius_tile;out highp vec2 v_ao;
#ifdef FOG
out highp float v_fog;
#endif
#endif
uniform highp float u_flood_light_intensity;uniform highp mat4 u_matrix;uniform highp float u_ao_pass;uniform highp float u_meter_to_tile;uniform highp float u_edge_radius;uniform highp float u_dynamic_offset;uniform highp vec2 u_ao;
#pragma mapbox: define highp float flood_light_ground_radius
const float TANGENT_CUTOFF=4.0;const float NORM=32767.0;void main() {
#pragma mapbox: initialize highp float flood_light_ground_radius
vec2 p=a_pos_end.xy;vec2 q=floor(a_pos_end.zw*0.5);vec2 start_bottom=a_pos_end.zw-q*2.0;float fl_ground_radius=flood_light_ground_radius;fl_ground_radius=abs(flood_light_ground_radius);float direction=flood_light_ground_radius < 0.0 ?-1.0 : 1.0;float flood_radius_tile=fl_ground_radius*u_meter_to_tile;vec2 v=normalize(q-p);float ao_radius=u_ao.y/3.5;float effect_radius=mix(flood_radius_tile,ao_radius,u_ao_pass)+u_edge_radius;float angular_offset_factor=a_angular_offset_factor/NORM*TANGENT_CUTOFF;float angular_offset=direction*angular_offset_factor*effect_radius;float top=1.0-start_bottom.y;float side=(0.5-start_bottom.x)*2.0;vec2 extrusion_parallel=v*side*mix(u_dynamic_offset,angular_offset,top);vec2 perp=vec2(v.y,-v.x);vec2 extrusion_perp=direction*perp*effect_radius*top;vec3 pos=vec3(mix(q,p,start_bottom.x),0.0);pos.xy+=extrusion_parallel+extrusion_perp;
#ifdef SDF_SUBPASS
v_pos=pos.xy;v_line_segment=vec4(p,q)+perp.xyxy*u_edge_radius;v_flood_light_radius_tile=flood_radius_tile;v_ao=vec2(u_ao.x,ao_radius);
#ifdef FOG
v_fog_pos=fog_position(pos);v_fog=1.0-fog(v_fog_pos);
#endif
#endif
float hidden_by_landmark=0.0;
#ifdef HAS_CENTROID
hidden_by_landmark=a_hidden_by_landmark;
#endif
float isFloodlit=float(fl_ground_radius > 0.0 && u_flood_light_intensity > 0.0);float hidden=mix(1.0-isFloodlit,isFloodlit,u_ao_pass);hidden+=hidden_by_landmark;gl_Position=mix(u_matrix*vec4(pos,1.0),AWAY,float(hidden > 0.0));
#ifdef RENDER_CUTOFF
v_cutoff_opacity=cutoff_opacity(u_cutoff_params,gl_Position.z);
#endif
}`),hillshadePrepare:Ya(`precision highp float;uniform sampler2D u_image;in vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;float getElevation(vec2 coord) {return texture(u_image,coord).r/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y));float b=getElevation(v_pos+vec2(0,-epsilon.y));float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y));float d=getElevation(v_pos+vec2(-epsilon.x,0));float e=getElevation(v_pos+vec2(epsilon.x,0));float f=getElevation(v_pos+vec2(-epsilon.x,epsilon.y));float g=getElevation(v_pos+vec2(0,epsilon.y));float h=getElevation(v_pos+vec2(epsilon.x,epsilon.y));float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2(
(c+e+e+h)-(a+d+d+f),(f+g+g+h)-(a+b+b+c)
)/pow(2.0,exaggeration+(19.2562-u_zoom));glFragColor=clamp(vec4(
deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);}`,"uniform mat4 u_matrix;uniform vec2 u_dimension;in vec2 a_pos;in vec2 a_texture_pos;out vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),hillshade:Ya(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_lighting.glsl"
uniform sampler2D u_image;in vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;uniform float u_emissive_strength;void main() {vec4 pixel=texture(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);glFragColor=accent_color*(1.0-shade_color.a)+shade_color;
#ifdef LIGHTING_3D_MODE
glFragColor=apply_lighting_with_emission_ground(glFragColor,u_emissive_strength);
#endif
#ifdef FOG
glFragColor=fog_dither(fog_apply_premultiplied(glFragColor,v_fog_pos));
#endif
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
uniform mat4 u_matrix;in vec2 a_pos;in vec2 a_texture_pos;out vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),line:Ya(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_lighting.glsl"
#include "_prelude_shadow.fragment.glsl"
uniform lowp float u_device_pixel_ratio;uniform highp float u_width_scale;uniform highp float u_floor_width_scale;uniform float u_alpha_discard_threshold;uniform highp vec2 u_trim_offset;uniform highp vec2 u_trim_fade_range;uniform lowp vec4 u_trim_color;in vec2 v_width2;in vec2 v_normal;in float v_gamma_scale;in highp vec3 v_uv;
#ifdef ELEVATED_ROADS
in highp float v_road_z_offset;
#endif
#ifdef RENDER_LINE_DASH
uniform sampler2D u_dash_image;in vec2 v_tex;
#endif
#ifdef RENDER_LINE_GRADIENT
uniform sampler2D u_gradient_image;
#endif
#ifdef INDICATOR_CUTOUT
in highp float v_z_offset;
#endif
#ifdef RENDER_SHADOWS
uniform vec3 u_ground_shadow_factor;in highp vec4 v_pos_light_view_0;in highp vec4 v_pos_light_view_1;in highp float v_depth;
#endif
float luminance(vec3 c) {return (c.r+c.r+c.b+c.g+c.g+c.g)*0.1667;}uniform float u_emissive_strength;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 dash
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float border_width
#pragma mapbox: define lowp vec4 border_color
float linearstep(float edge0,float edge1,float x) {return  clamp((x-edge0)/(edge1-edge0),0.0,1.0);}void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize lowp vec4 dash
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float border_width
#pragma mapbox: initialize lowp vec4 border_color
float dist=length(v_normal)*v_width2.s;float blur2=(u_width_scale*blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);
#ifdef RENDER_LINE_DASH
float sdfdist=texture(u_dash_image,v_tex).r;float sdfgamma=1.0/(2.0*u_device_pixel_ratio)/dash.z;float scaled_floorwidth=(floorwidth*u_floor_width_scale);alpha*=linearstep(0.5-sdfgamma/scaled_floorwidth,0.5+sdfgamma/scaled_floorwidth,sdfdist);
#endif
highp vec4 out_color;
#ifdef RENDER_LINE_GRADIENT
out_color=texture(u_gradient_image,v_uv.xy);
#else
out_color=color;
#endif
float trim_alpha=1.0;
#ifdef RENDER_LINE_TRIM_OFFSET
highp float trim_start=u_trim_offset[0];highp float trim_end=u_trim_offset[1];highp float line_progress=v_uv[2];if (trim_end > trim_start) {highp float start_transition=max(0.0,min(1.0,(line_progress-trim_start)/max(u_trim_fade_range[0],1.0e-9)));highp float end_transition=max(0.0,min(1.0,(trim_end-line_progress)/max(u_trim_fade_range[1],1.0e-9)));highp float transition_factor=min(start_transition,end_transition);out_color=mix(out_color,u_trim_color,transition_factor);trim_alpha=1.0-transition_factor;}
#endif
if (u_alpha_discard_threshold !=0.0) {if (alpha < u_alpha_discard_threshold) {discard;}}
#ifdef RENDER_LINE_BORDER
float edgeBlur=((border_width*u_width_scale)+1.0/u_device_pixel_ratio);float alpha2=clamp(min(dist-(v_width2.t-edgeBlur),v_width2.s-dist)/edgeBlur,0.0,1.0);if (alpha2 < 1.) {float smoothAlpha=smoothstep(0.6,1.0,alpha2);if (border_color.a==0.0) {float Y=(out_color.a > 0.01) ? luminance(out_color.rgb/out_color.a) : 1.;float adjustment=(Y > 0.) ? 0.5/Y : 0.45;if (out_color.a > 0.25 && Y < 0.25) {vec3 borderColor=(Y > 0.) ? out_color.rgb : vec3(1,1,1)*out_color.a;out_color.rgb=out_color.rgb+borderColor*(adjustment*(1.0-smoothAlpha));} else {out_color.rgb*=(0.6 +0.4*smoothAlpha);}} else {out_color=mix(border_color*trim_alpha,out_color,smoothAlpha);}}
#endif
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting_with_emission_ground(out_color,u_emissive_strength);
#ifdef RENDER_SHADOWS
float light=shadowed_light_factor(v_pos_light_view_0,v_pos_light_view_1,v_depth);
#ifdef ELEVATED_ROADS
out_color.rgb*=mix(v_road_z_offset > 0.0 ? u_ground_shadow_factor : vec3(1.0),vec3(1.0),light);
#else
out_color.rgb*=mix(u_ground_shadow_factor,vec3(1.0),light);
#endif
#endif
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
out_color*=(alpha*opacity);
#ifdef INDICATOR_CUTOUT
out_color=applyCutout(out_color,v_z_offset);
#endif
glFragColor=out_color;
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
#include "_prelude_shadow.vertex.glsl"
#include "_prelude_terrain.vertex.glsl"
#define EXTRUDE_SCALE 0.015873016
in vec2 a_pos_normal;in vec4 a_data;
#if defined(ELEVATED) || defined(ELEVATED_ROADS) || defined(VARIABLE_LINE_WIDTH)
in vec3 a_z_offset_width;
#endif
#if defined(RENDER_LINE_GRADIENT) || defined(RENDER_LINE_TRIM_OFFSET)
in highp vec3 a_packed;
#endif
#ifdef RENDER_LINE_DASH
in float a_linesofar;
#endif
uniform mat4 u_matrix;uniform mat2 u_pixels_to_tile_units;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;uniform float u_width_scale;uniform highp float u_floor_width_scale;
#ifdef ELEVATED
uniform lowp float u_zbias_factor;uniform lowp float u_tile_to_meter;float sample_elevation(vec2 apos) {
#ifdef ELEVATION_REFERENCE_SEA
return 0.0;
#else
return elevation(apos);
#endif
}
#endif
out vec2 v_normal;out vec2 v_width2;out float v_gamma_scale;out highp vec3 v_uv;
#ifdef ELEVATED_ROADS
out highp float v_road_z_offset;
#endif
#ifdef RENDER_LINE_DASH
uniform vec2 u_texsize;uniform float u_tile_units_to_pixels;out vec2 v_tex;
#endif
#ifdef RENDER_LINE_GRADIENT
uniform float u_image_height;
#endif
#ifdef INDICATOR_CUTOUT
out highp float v_z_offset;
#endif
#ifdef RENDER_SHADOWS
uniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;out highp vec4 v_pos_light_view_0;out highp vec4 v_pos_light_view_1;out highp float v_depth;
#endif
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 dash
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float border_width
#pragma mapbox: define lowp vec4 border_color
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize lowp vec4 dash
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float border_width
#pragma mapbox: initialize lowp vec4 border_color
float a_z_offset;
#if defined(ELEVATED) || defined(ELEVATED_ROADS)
a_z_offset=a_z_offset_width.x;
#endif
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth;
#ifdef VARIABLE_LINE_WIDTH
float left=a_pos_normal.y-2.0*floor(a_pos_normal.y*0.5);halfwidth=(u_width_scale*(left==1.0 ? a_z_offset_width.y : a_z_offset_width.z))/2.0;
#else
halfwidth=(u_width_scale*width)/2.0;
#endif
offset=-1.0*offset*u_width_scale;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*EXTRUDE_SCALE;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*EXTRUDE_SCALE*normal.y*mat2(t,-u,u,t);float hidden=float(opacity==0.0);vec2 extrude=dist*u_pixels_to_tile_units;vec4 projected_extrude=u_matrix*vec4(extrude,0.0,0.0);vec2 projected_extrude_xy=projected_extrude.xy;
#ifdef ELEVATED_ROADS
v_road_z_offset=a_z_offset;gl_Position=u_matrix*vec4(pos+offset2*u_pixels_to_tile_units,a_z_offset,1.0)+projected_extrude;
#else
#ifdef ELEVATED
vec2 offsetTile=offset2*u_pixels_to_tile_units;vec2 offset_pos=pos+offsetTile;float ele=0.0;
#ifdef CROSS_SLOPE_VERTICAL
float top=a_pos_normal.y-2.0*floor(a_pos_normal.y*0.5);float line_height=2.0*u_tile_to_meter*outset*top*u_pixels_to_tile_units[1][1]+a_z_offset;ele=sample_elevation(offset_pos)+line_height;projected_extrude=vec4(0);
#else
#ifdef CROSS_SLOPE_HORIZONTAL
float ele0=sample_elevation(offset_pos);float ele1=max(sample_elevation(offset_pos+extrude),sample_elevation(offset_pos+extrude/2.0));float ele2=max(sample_elevation(offset_pos-extrude),sample_elevation(offset_pos-extrude/2.0));float ele_max=max(ele0,max(ele1,ele2));ele=ele_max+a_z_offset;
#else
float ele0=sample_elevation(offset_pos);float ele1=max(sample_elevation(offset_pos+extrude),sample_elevation(offset_pos+extrude/2.0));float ele2=max(sample_elevation(offset_pos-extrude),sample_elevation(offset_pos-extrude/2.0));float ele_max=max(ele0,0.5*(ele1+ele2));ele=ele_max-ele0+ele1+a_z_offset;
#endif
#endif
gl_Position=u_matrix*vec4(offset_pos,ele,1.0)+projected_extrude;float z=clamp(gl_Position.z/gl_Position.w,0.5,1.0);float zbias=max(0.00005,(pow(z,0.8)-z)*u_zbias_factor*u_exaggeration);gl_Position.z-=(gl_Position.w*zbias);gl_Position=mix(gl_Position,AWAY,hidden);
#else
gl_Position=mix(u_matrix*vec4(pos+offset2*u_pixels_to_tile_units,0.0,1.0)+projected_extrude,AWAY,hidden);
#endif
#endif
#ifdef ELEVATED_ROADS
#ifdef RENDER_SHADOWS
vec3 shd_pos=vec3(pos+(offset2+dist)*u_pixels_to_tile_units,a_z_offset);vec3 shd_pos0=shd_pos;vec3 shd_pos1=shd_pos;
#ifdef NORMAL_OFFSET
vec3 shd_pos_offset=shadow_normal_offset(vec3(0.0,0.0,1.0));shd_pos0+=shd_pos_offset*shadow_normal_offset_multiplier0();shd_pos1+=shd_pos_offset*shadow_normal_offset_multiplier1();
#endif
v_pos_light_view_0=u_light_matrix_0*vec4(shd_pos0,1);v_pos_light_view_1=u_light_matrix_1*vec4(shd_pos1,1);v_depth=gl_Position.w;
#endif
#endif
#ifndef RENDER_TO_TEXTURE
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude_xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=mix(extrude_length_without_perspective/extrude_length_with_perspective,1.0,step(0.01,blur));
#else
v_gamma_scale=1.0;
#endif
#if defined(RENDER_LINE_GRADIENT) || defined(RENDER_LINE_TRIM_OFFSET)
highp float a_uv_x=a_packed[0];float a_split_index=a_packed[1];highp float line_progress=a_packed[2];
#ifdef RENDER_LINE_GRADIENT
highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec3(a_uv_x,a_split_index*texel_height-half_texel_height,line_progress);
#else
v_uv=vec3(a_uv_x,0.0,line_progress);
#endif
#endif
#ifdef RENDER_LINE_DASH
float scale=dash.z==0.0 ? 0.0 : u_tile_units_to_pixels/dash.z;float height=dash.y;v_tex=vec2(a_linesofar*scale/(floorwidth*u_floor_width_scale),(-normal.y*height+dash.x+0.5)/u_texsize.y);
#endif
v_width2=vec2(outset,inset);
#ifdef FOG
v_fog_pos=fog_position(pos);
#endif
#ifdef INDICATOR_CUTOUT
v_z_offset=a_z_offset;
#endif
}`),linePattern:Ya(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_lighting.glsl"
#include "_prelude_shadow.fragment.glsl"
uniform highp float u_device_pixel_ratio;uniform highp float u_width_scale;uniform highp float u_alpha_discard_threshold;uniform highp vec2 u_texsize;uniform highp float u_tile_units_to_pixels;uniform highp vec2 u_trim_offset;uniform highp vec2 u_trim_fade_range;uniform lowp vec4 u_trim_color;uniform sampler2D u_image;in vec2 v_normal;in vec2 v_width2;in highp float v_linesofar;in float v_gamma_scale;in float v_width;
#ifdef RENDER_LINE_TRIM_OFFSET
in highp vec3 v_uv;
#endif
#ifdef ELEVATED_ROADS
in highp float v_road_z_offset;
#endif
#ifdef LINE_JOIN_NONE
in vec2 v_pattern_data;
#endif
#ifdef INDICATOR_CUTOUT
in highp float v_z_offset;
#endif
#ifdef RENDER_SHADOWS
uniform vec3 u_ground_shadow_factor;in highp vec4 v_pos_light_view_0;in highp vec4 v_pos_light_view_1;in highp float v_depth;
#endif
uniform float u_emissive_strength;
#pragma mapbox: define mediump vec4 pattern
#pragma mapbox: define mediump float pixel_ratio
#pragma mapbox: define mediump float blur
#pragma mapbox: define mediump float opacity
void main() {
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize mediump float pixel_ratio
#pragma mapbox: initialize mediump float blur
#pragma mapbox: initialize mediump float opacity
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;highp float pattern_size=display_size.x/u_tile_units_to_pixels;float aspect=display_size.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(u_width_scale*blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);highp float pattern_x=v_linesofar/pattern_size*aspect;highp float x=mod(pattern_x,1.0);highp float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;highp vec2 pos=mix(pattern_tl*texel_size-texel_size,pattern_br*texel_size+texel_size,vec2(x,y));highp vec2 lod_pos=mix(pattern_tl*texel_size-texel_size,pattern_br*texel_size+texel_size,vec2(pattern_x,y));vec4 color=textureLodCustom(u_image,pos,lod_pos);
#ifdef RENDER_LINE_TRIM_OFFSET
highp float trim_start=u_trim_offset[0];highp float trim_end=u_trim_offset[1];highp float line_progress=v_uv[2];if (trim_end > trim_start) {highp float start_transition=max(0.0,min(1.0,(line_progress-trim_start)/max(u_trim_fade_range[0],1.0e-9)));highp float end_transition=max(0.0,min(1.0,(trim_end-line_progress)/max(u_trim_fade_range[1],1.0e-9)));highp float transition_factor=min(start_transition,end_transition);color=mix(color,color.a*u_trim_color,transition_factor);}
#endif
#ifdef LINE_JOIN_NONE
highp float pattern_len=pattern_size/aspect;highp float segment_phase=pattern_len-mod(v_linesofar-v_pattern_data.x+pattern_len,pattern_len);highp float visible_start=segment_phase-step(pattern_len*0.5,segment_phase)*pattern_len;highp float visible_end=floor((v_pattern_data.y-segment_phase)/pattern_len)*pattern_len+segment_phase;visible_end+=step(pattern_len*0.5,v_pattern_data.y-visible_end)*pattern_len;if (v_pattern_data.x < visible_start || v_pattern_data.x >=visible_end) {color=vec4(0.0);}
#endif
#ifdef LIGHTING_3D_MODE
color=apply_lighting_with_emission_ground(color,u_emissive_strength);
#ifdef RENDER_SHADOWS
float light=shadowed_light_factor(v_pos_light_view_0,v_pos_light_view_1,v_depth);
#ifdef ELEVATED_ROADS
color.rgb*=mix(v_road_z_offset > 0.0 ? u_ground_shadow_factor : vec3(1.0),vec3(1.0),light);
#else
color.rgb*=mix(u_ground_shadow_factor,vec3(1.0),light);
#endif
#endif
#endif
#ifdef FOG
color=fog_dither(fog_apply_premultiplied(color,v_fog_pos));
#endif
color*=(alpha*opacity);if (u_alpha_discard_threshold !=0.0) {if (color.a < u_alpha_discard_threshold) {discard;}}
#ifdef INDICATOR_CUTOUT
color=applyCutout(color,v_z_offset);
#endif
glFragColor=color;
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
#include "_prelude_shadow.vertex.glsl"
#include "_prelude_terrain.vertex.glsl"
#define scale 0.015873016
in vec2 a_pos_normal;in vec4 a_data;
#if defined(ELEVATED) || defined(ELEVATED_ROADS)
in vec3 a_z_offset_width;
#endif
#ifdef RENDER_LINE_TRIM_OFFSET
in highp vec3 a_packed;
#endif
in highp float a_linesofar;
#ifdef LINE_JOIN_NONE
in highp vec3 a_pattern_data;out vec2 v_pattern_data;
#endif
#ifdef INDICATOR_CUTOUT
out highp float v_z_offset;
#endif
uniform mat4 u_matrix;uniform float u_tile_units_to_pixels;uniform vec2 u_units_to_pixels;uniform mat2 u_pixels_to_tile_units;uniform float u_device_pixel_ratio;uniform float u_width_scale;uniform float u_floor_width_scale;
#ifdef ELEVATED
uniform lowp float u_zbias_factor;uniform lowp float u_tile_to_meter;float sample_elevation(vec2 apos) {
#ifdef ELEVATION_REFERENCE_SEA
return 0.0;
#else
return elevation(apos);
#endif
}
#endif
out vec2 v_normal;out vec2 v_width2;out highp float v_linesofar;out float v_gamma_scale;out float v_width;
#ifdef RENDER_LINE_TRIM_OFFSET
out highp vec3 v_uv;
#endif
#ifdef ELEVATED_ROADS
out highp float v_road_z_offset;
#endif
#ifdef RENDER_SHADOWS
uniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;out highp vec4 v_pos_light_view_0;out highp vec4 v_pos_light_view_1;out highp float v_depth;
#endif
#pragma mapbox: define mediump float blur
#pragma mapbox: define mediump float opacity
#pragma mapbox: define mediump float offset
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define mediump float width
#pragma mapbox: define mediump float floorwidth
#pragma mapbox: define mediump vec4 pattern
#pragma mapbox: define mediump float pixel_ratio
void main() {
#pragma mapbox: initialize mediump float blur
#pragma mapbox: initialize mediump float opacity
#pragma mapbox: initialize mediump float offset
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize mediump float floorwidth
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize mediump float pixel_ratio
float a_z_offset;
#if defined(ELEVATED) || defined(ELEVATED_ROADS)
a_z_offset=a_z_offset_width.x;
#endif
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;vec2 pos=floor(a_pos_normal*0.5);vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=(u_width_scale*width)/2.0;offset=-1.0*offset*u_width_scale;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);vec2 dist=outset*a_extrude*scale;float u=0.5*a_direction;float t=1.0-abs(u);vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);float hidden=float(opacity==0.0);vec2 extrude=dist*u_pixels_to_tile_units;vec4 projected_extrude=u_matrix*vec4(extrude,0.0,0.0);vec2 projected_extrude_xy=projected_extrude.xy;
#ifdef ELEVATED_ROADS
v_road_z_offset=a_z_offset;gl_Position=u_matrix*vec4(pos+offset2*u_pixels_to_tile_units,a_z_offset,1.0)+projected_extrude;
#else
#ifdef ELEVATED
vec2 offsetTile=offset2*u_pixels_to_tile_units;vec2 offset_pos=pos+offsetTile;float ele=0.0;
#ifdef CROSS_SLOPE_VERTICAL
float top=a_pos_normal.y-2.0*floor(a_pos_normal.y*0.5);float line_height=2.0*u_tile_to_meter*outset*top*u_pixels_to_tile_units[1][1]+a_z_offset;ele=sample_elevation(offset_pos)+line_height;projected_extrude=vec4(0);
#else
#ifdef CROSS_SLOPE_HORIZONTAL
float ele0=sample_elevation(offset_pos);float ele1=max(sample_elevation(offset_pos+extrude),sample_elevation(offset_pos+extrude/2.0));float ele2=max(sample_elevation(offset_pos-extrude),sample_elevation(offset_pos-extrude/2.0));float ele_max=max(ele0,max(ele1,ele2));ele=ele_max+a_z_offset;
#else
float ele0=sample_elevation(offset_pos);float ele1=max(sample_elevation(offset_pos+extrude),sample_elevation(offset_pos+extrude/2.0));float ele2=max(sample_elevation(offset_pos-extrude),sample_elevation(offset_pos-extrude/2.0));float ele_max=max(ele0,0.5*(ele1+ele2));ele=ele_max-ele0+ele1+a_z_offset;
#endif
#endif
gl_Position=u_matrix*vec4(offset_pos,ele,1.0)+projected_extrude;float z=clamp(gl_Position.z/gl_Position.w,0.5,1.0);float zbias=max(0.00005,(pow(z,0.8)-z)*u_zbias_factor*u_exaggeration);gl_Position.z-=(gl_Position.w*zbias);gl_Position=mix(gl_Position,AWAY,hidden);
#else
gl_Position=mix(u_matrix*vec4(pos+offset2*u_pixels_to_tile_units,0.0,1.0)+projected_extrude,AWAY,hidden);
#endif
#endif
#ifdef ELEVATED_ROADS
#ifdef RENDER_SHADOWS
vec3 shd_pos=vec3(pos+(offset2+dist)*u_pixels_to_tile_units,a_z_offset);vec3 shd_pos0=shd_pos;vec3 shd_pos1=shd_pos;
#ifdef NORMAL_OFFSET
vec3 shd_pos_offset=shadow_normal_offset(vec3(0.0,0.0,1.0));shd_pos0+=shd_pos_offset*shadow_normal_offset_multiplier0();shd_pos1+=shd_pos_offset*shadow_normal_offset_multiplier1();
#endif
v_pos_light_view_0=u_light_matrix_0*vec4(shd_pos0,1);v_pos_light_view_1=u_light_matrix_1*vec4(shd_pos1,1);v_depth=gl_Position.w;
#endif
#endif
#ifndef RENDER_TO_TEXTURE
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude_xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=mix(extrude_length_without_perspective/extrude_length_with_perspective,1.0,step(0.01,blur));
#else
v_gamma_scale=1.0;
#endif
#ifdef RENDER_LINE_TRIM_OFFSET
highp float a_uv_x=a_packed[0];highp float line_progress=a_packed[2];v_uv=vec3(a_uv_x,0.0,line_progress);
#endif
v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=(floorwidth*u_floor_width_scale);
#ifdef LINE_JOIN_NONE
v_width=(floorwidth*u_floor_width_scale)+ANTIALIASING;mediump float pixels_to_tile_units=1.0/u_tile_units_to_pixels;mediump float pixel_ratio_inverse=1.0/pixel_ratio;mediump float aspect=v_width/((pattern.w-pattern.y)*pixel_ratio_inverse);highp float subt_multiple=(pattern.z-pattern.x)*pixel_ratio_inverse*pixels_to_tile_units*aspect*32.0;highp float subt=floor(a_pattern_data.z/subt_multiple)*subt_multiple;float offset_sign=(fract(a_pattern_data.x)-0.5)*4.0;float line_progress_offset=offset_sign*v_width*0.5*pixels_to_tile_units;v_linesofar=(a_pattern_data.z-subt)+a_linesofar+line_progress_offset;v_pattern_data=vec2(a_pattern_data.x+line_progress_offset,a_pattern_data.y);
#endif
#ifdef FOG
v_fog_pos=fog_position(pos);
#endif
#ifdef INDICATOR_CUTOUT
v_z_offset=a_z_offset;
#endif
}`),raster:Ya(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_lighting.glsl"
#include "_prelude_raster_array.glsl"
uniform float u_fade_t;uniform float u_opacity;uniform highp float u_raster_elevation;uniform highp float u_zoom_transition;in vec2 v_pos0;in vec2 v_pos1;in float v_depth;
#ifdef PROJECTION_GLOBE_VIEW
in float v_split_fade;
#endif
uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;uniform float u_emissive_strength;
#ifndef RASTER_ARRAY
uniform highp sampler2D u_image0;uniform sampler2D u_image1;
#endif
#ifdef RASTER_COLOR
uniform sampler2D u_color_ramp;uniform highp vec4 u_colorization_mix;uniform highp float u_colorization_offset;uniform vec2 u_texture_res;
#endif
void main() {vec4 color0,color1,color;vec2 value;
#ifdef RASTER_COLOR
#ifdef RASTER_ARRAY
#ifdef RASTER_ARRAY_LINEAR
value=mix(
raTexture2D_image0_linear(v_pos0,u_texture_res,u_colorization_mix,u_colorization_offset),raTexture2D_image1_linear(v_pos1,u_texture_res,u_colorization_mix,u_colorization_offset),u_fade_t
);
#else
value=mix(
raTexture2D_image0_nearest(v_pos0,u_texture_res,u_colorization_mix,u_colorization_offset),raTexture2D_image1_nearest(v_pos1,u_texture_res,u_colorization_mix,u_colorization_offset),u_fade_t
);
#endif
if (value.y > 0.0) value.x/=value.y;
#else
color=mix(texture(u_image0,v_pos0),texture(u_image1,v_pos1),u_fade_t);value=vec2(u_colorization_offset+dot(color.rgb,u_colorization_mix.rgb),color.a);
#endif
color=texture(u_color_ramp,vec2(value.x,0.5));if (color.a > 0.0) color.rgb/=color.a;color.a*=value.y;
#else
color0=texture(u_image0,v_pos0);color1=texture(u_image1,v_pos1);if (color0.a > 0.0) color0.rgb/=color0.a;if (color1.a > 0.0) color1.rgb/=color1.a;color=mix(color0,color1,u_fade_t);
#endif
color.a*=u_opacity;
#ifdef GLOBE_POLES
color.a*=1.0-smoothstep(0.0,0.05,u_zoom_transition);
#endif
vec3 rgb=color.rgb;rgb=vec3(
dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);vec3 out_color=mix(u_high_vec,u_low_vec,rgb);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting_with_emission_ground(vec4(out_color,1.0),u_emissive_strength).rgb;
#endif
#ifdef FOG
highp float fog_limit_high_meters=1000000.0;highp float fog_limit_low_meters=600000.0;float fog_limit=1.0-smoothstep(fog_limit_low_meters,fog_limit_high_meters,u_raster_elevation);out_color=fog_dither(fog_apply(out_color,v_fog_pos,fog_limit));
#endif
glFragColor=vec4(out_color*color.a,color.a);
#ifdef PROJECTION_GLOBE_VIEW
glFragColor*=mix(1.0,1.0-smoothstep(0.0,0.05,u_zoom_transition),smoothstep(0.8,0.9,v_split_fade));
#endif
#ifdef RENDER_CUTOFF
glFragColor=glFragColor*cutoff_opacity(u_cutoff_params,v_depth);
#endif
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
uniform mat4 u_matrix;uniform mat4 u_normalize_matrix;uniform mat4 u_globe_matrix;uniform mat4 u_merc_matrix;uniform mat3 u_grid_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform vec2 u_perspective_transform;uniform vec2 u_texture_offset;uniform float u_raster_elevation;uniform float u_zoom_transition;uniform vec2 u_merc_center;
#define GLOBE_UPSCALE GLOBE_RADIUS/6371008.8
#ifdef GLOBE_POLES
in vec3 a_globe_pos;in vec2 a_uv;
#else
in vec2 a_pos;in vec2 a_texture_pos;
#endif
out vec2 v_pos0;out vec2 v_pos1;out float v_depth;
#ifdef PROJECTION_GLOBE_VIEW
out float v_split_fade;
#endif
void main() {vec2 uv;
#ifdef GLOBE_POLES
vec3 globe_pos=a_globe_pos;globe_pos+=normalize(globe_pos)*u_raster_elevation*GLOBE_UPSCALE;gl_Position=u_matrix*u_globe_matrix*vec4(globe_pos   ,1.0);uv=a_uv;
#ifdef FOG
v_fog_pos=fog_position((u_normalize_matrix*vec4(a_globe_pos,1.0)).xyz);
#endif
#else
float w=1.0+dot(a_texture_pos,u_perspective_transform);uv=a_texture_pos/8192.0;
#ifdef PROJECTION_GLOBE_VIEW
vec3 decomposed_pos_and_skirt=decomposeToPosAndSkirt(a_pos);vec3 latLng=u_grid_matrix*vec3(decomposed_pos_and_skirt.xy,1.0);vec3 globe_pos=latLngToECEF(latLng.xy);globe_pos+=normalize(globe_pos)*u_raster_elevation*GLOBE_UPSCALE;vec4 globe_world_pos=u_globe_matrix*vec4(globe_pos,1.0);vec4 merc_world_pos=vec4(0.0);float mercatorY=mercatorYfromLat(latLng[0]);float mercatorX=mercatorXfromLng(latLng[1]);    
v_split_fade=0.0;if (u_zoom_transition > 0.0) {vec2 merc_pos=vec2(mercatorX,mercatorY);merc_world_pos=vec4(merc_pos,u_raster_elevation,1.0);merc_world_pos.xy-=u_merc_center;merc_world_pos.x=wrap(merc_world_pos.x,-0.5,0.5);merc_world_pos=u_merc_matrix*merc_world_pos;float opposite_merc_center=mod(u_merc_center.x+0.5,1.0);float dist_from_poles=(abs(mercatorY-0.5)*2.0);float range=0.1;v_split_fade=abs(opposite_merc_center-mercatorX);v_split_fade=clamp(1.0-v_split_fade,0.0,1.0);v_split_fade=max(smoothstep(1.0-range,1.0,dist_from_poles),max(smoothstep(1.0-range,1.0,v_split_fade),smoothstep(1.0-range,1.0,1.0-v_split_fade)));}float tiles=u_grid_matrix[0][2];if (tiles > 0.0) {float idx=u_grid_matrix[1][2];float idy=u_grid_matrix[2][2];float uvY=mercatorY*tiles-idy;float uvX=mercatorX*tiles-idx;uv=vec2(uvX,uvY);}vec4 interpolated_pos=vec4(mix(globe_world_pos.xyz,merc_world_pos.xyz,u_zoom_transition)*w,w);gl_Position=u_matrix*interpolated_pos;
#ifdef FOG
v_fog_pos=fog_position((u_normalize_matrix*vec4(globe_pos,1.0)).xyz);
#endif
#else
gl_Position=u_matrix*vec4(a_pos*w,u_raster_elevation*w,w);
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
#endif
#endif
v_pos0=uv;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;v_pos0=u_texture_offset.x+u_texture_offset.y*v_pos0;v_pos1=u_texture_offset.x+u_texture_offset.y*v_pos1;
#ifdef RENDER_CUTOFF
v_depth=gl_Position.z;
#endif
}`),rasterParticle:Ya(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_lighting.glsl"
uniform float u_fade_t;uniform float u_opacity;uniform highp float u_raster_elevation;in vec2 v_pos0;in vec2 v_pos1;uniform sampler2D u_image0;uniform sampler2D u_image1;void main() {vec4 color0,color1,color;color0=texture(u_image0,v_pos0);color1=texture(u_image1,v_pos1);if (color0.a > 0.0) color0.rgb/=color0.a;if (color1.a > 0.0) color1.rgb/=color1.a;color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 out_color=color.rgb;
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting_with_emission_ground(vec4(out_color,1.0),0.0).rgb;
#endif
#ifdef FOG
highp float fog_limit_high_meters=1000000.0;highp float fog_limit_low_meters=600000.0;float fog_limit=1.0-smoothstep(fog_limit_low_meters,fog_limit_high_meters,u_raster_elevation);out_color=fog_dither(fog_apply(out_color,v_fog_pos,fog_limit));
#endif
glFragColor=vec4(out_color*color.a,color.a);
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
uniform mat4 u_matrix;uniform mat4 u_normalize_matrix;uniform mat4 u_globe_matrix;uniform mat4 u_merc_matrix;uniform mat3 u_grid_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_raster_elevation;uniform float u_zoom_transition;uniform vec2 u_merc_center;
#define GLOBE_UPSCALE GLOBE_RADIUS/6371008.8
in vec2 a_pos;in vec2 a_texture_pos;out vec2 v_pos0;out vec2 v_pos1;void main() {float w=1.0;vec2 uv;
#ifdef PROJECTION_GLOBE_VIEW
vec3 decomposed_pos_and_skirt=decomposeToPosAndSkirt(a_pos);vec3 latLng=u_grid_matrix*vec3(decomposed_pos_and_skirt.xy,1.0);float mercatorY=mercatorYfromLat(latLng[0]);float mercatorX=mercatorXfromLng(latLng[1]);float tiles=u_grid_matrix[0][2];float idx=u_grid_matrix[1][2];float idy=u_grid_matrix[2][2];float uvX=mercatorX*tiles-idx;float uvY=mercatorY*tiles-idy;uv=vec2(uvX,uvY);vec3 globe_pos=latLngToECEF(latLng.xy);globe_pos+=normalize(globe_pos)*u_raster_elevation*GLOBE_UPSCALE;vec4 globe_world_pos=u_globe_matrix*vec4(globe_pos,1.0);vec4 merc_world_pos=vec4(0.0);if (u_zoom_transition > 0.0) {vec2 merc_pos=vec2(mercatorX,mercatorY);merc_world_pos=vec4(merc_pos,u_raster_elevation,1.0);merc_world_pos.xy-=u_merc_center;merc_world_pos.x=wrap(merc_world_pos.x,-0.5,0.5);merc_world_pos=u_merc_matrix*merc_world_pos;}vec4 interpolated_pos=vec4(mix(globe_world_pos.xyz,merc_world_pos.xyz,u_zoom_transition)*w,w);gl_Position=u_matrix*interpolated_pos;
#ifdef FOG
v_fog_pos=fog_position((u_normalize_matrix*vec4(globe_pos,1.0)).xyz);
#endif
#else
uv=a_texture_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*w,u_raster_elevation*w,w);
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
#endif
v_pos0=uv;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}`),rasterParticleDraw:Ya("uniform sampler2D u_color_ramp;in float v_particle_speed;void main() {glFragColor=texture(u_color_ramp,vec2(v_particle_speed,0.5));}",`#include "_prelude_raster_particle.glsl"
in float a_index;uniform sampler2D u_particle_texture;uniform float u_particle_texture_side_len;uniform vec2 u_tile_offset;out float v_particle_speed;void main() {ivec2 pixel_coord=ivec2(
mod(a_index,u_particle_texture_side_len),a_index/u_particle_texture_side_len);vec4 pixel=texelFetch(u_particle_texture,pixel_coord,0);vec2 pos=unpack_pos_from_rgba(pixel)+u_tile_offset;vec2 tex_coord=fract(pos);vec2 velocity=lookup_velocity(tex_coord);if (velocity==INVALID_VELOCITY) {gl_Position=AWAY;v_particle_speed=0.0;} else {gl_Position=vec4(2.0*pos-1.0,0,1);v_particle_speed=length(velocity);}gl_PointSize=1.0;}`),rasterParticleTexture:Ya("uniform sampler2D u_texture;uniform float u_opacity;in vec2 v_tex_pos;void main() {vec4 color=texture(u_texture,v_tex_pos);glFragColor=vec4(floor(255.0*color*u_opacity)/255.0);}","in vec2 a_pos;out vec2 v_tex_pos;void main() {vec2 uv=0.5*a_pos+vec2(0.5);v_tex_pos=uv;gl_Position=vec4(a_pos,0.0,1.0);}"),rasterParticleUpdate:Ya(`#include "_prelude_raster_particle.glsl"
uniform sampler2D u_particle_texture;uniform mediump float u_particle_texture_side_len;uniform mediump float u_speed_factor;uniform highp float u_reset_rate;uniform highp float u_rand_seed;in highp vec2 v_tex_coord;vec2 linearstep(vec2 edge0,vec2 edge1,vec2 x) {return  clamp((x-edge0)/(edge1-edge0),vec2(0),vec2(1));}const highp vec3 rand_constants=vec3(12.9898,78.233,4375.85453);highp float rand(const highp vec2 co) {highp float t=dot(rand_constants.xy,co);return fract(sin(t)*(rand_constants.z+t));}void main() {ivec2 pixel_coord=ivec2(v_tex_coord*u_particle_texture_side_len);highp vec4 pixel=texelFetch(u_particle_texture,pixel_coord,0);highp vec2 pos=unpack_pos_from_rgba(pixel);highp vec2 velocity=lookup_velocity(clamp(pos,0.0,1.0));highp vec2 dp=velocity==INVALID_VELOCITY ? vec2(0) : velocity*u_speed_factor;pos=pos+dp;highp vec2 seed=(pos+v_tex_coord)*u_rand_seed;highp vec2 random_pos=vec2(rand(seed+1.3),rand(seed+2.1));highp vec2 persist_rate=pow(
linearstep(vec2(-u_particle_pos_offset),vec2(0),pos)*linearstep(vec2(1.0+u_particle_pos_offset),vec2(1),pos),vec2(4)
);highp vec2 per_frame_persist=pow(persist_rate,abs(dp)/u_particle_pos_offset);highp float drop_rate=1.0-per_frame_persist.x*per_frame_persist.y;drop_rate=any(greaterThanEqual(abs(pos-0.5),vec2(0.5+u_particle_pos_offset))) ? 1.0 : drop_rate;highp float drop=step(1.0-drop_rate-u_reset_rate,rand(seed));highp vec2 next_pos=mix(pos,random_pos,drop);glFragColor=pack_pos_to_rgba(next_pos);}`,"in vec2 a_pos;out vec2 v_tex_coord;void main() {v_tex_coord=0.5*(a_pos+vec2(1.0));gl_Position=vec4(a_pos,0.0,1.0);}"),symbol:Ya(`#include "_prelude_lighting.glsl"
#define SDF_PX 8.0
#define SDF 1.0
#define ICON 0.0
uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;uniform bool u_is_halo;uniform lowp float u_scale_factor;
#ifdef ICON_TRANSITION
uniform float u_icon_transition;
#endif
#ifdef COLOR_ADJUSTMENT
uniform mat4 u_color_adj_mat;
#endif
#ifdef INDICATOR_CUTOUT
in highp float v_z_offset;
#endif
in vec2 v_tex_a;
#ifdef ICON_TRANSITION
in vec2 v_tex_b;
#endif
in float v_draw_halo;in vec3 v_gamma_scale_size_fade_opacity;
#ifdef RENDER_TEXT_AND_SYMBOL
in float is_sdf;in vec2 v_tex_a_icon;
#endif
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
#pragma mapbox: define lowp float emissive_strength
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
#pragma mapbox: initialize lowp float emissive_strength
vec4 out_color;float fade_opacity=v_gamma_scale_size_fade_opacity[2];
#ifdef RENDER_TEXT_AND_SYMBOL
if (is_sdf==ICON) {vec2 tex_icon=v_tex_a_icon;lowp float alpha=opacity*fade_opacity;glFragColor=texture(u_texture_icon,tex_icon)*alpha;
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
return;}
#endif
#ifdef RENDER_SDF
float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_gamma_scale_size_fade_opacity.x;float size=v_gamma_scale_size_fade_opacity.y;float fontScale=u_is_text ? size/24.0 : size;out_color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;bool draw_halo=v_draw_halo > 0.0;if (draw_halo) {out_color=halo_color;gamma=(halo_blur*u_scale_factor*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width*u_scale_factor/fontScale)/SDF_PX;}lowp float dist=texture(u_texture,v_tex_a).r;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);out_color*=alpha;
#else
#ifdef ICON_TRANSITION
vec4 a=texture(u_texture,v_tex_a)*(1.0-u_icon_transition);vec4 b=texture(u_texture,v_tex_b)*u_icon_transition;out_color=(a+b);
#else
out_color=texture(u_texture,v_tex_a);
#endif
#ifdef COLOR_ADJUSTMENT
out_color=u_color_adj_mat*out_color;
#endif
#endif
out_color*=opacity*fade_opacity;
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting_with_emission_ground(out_color,emissive_strength);
#endif
#ifdef INDICATOR_CUTOUT
out_color=applyCutout(out_color,v_z_offset);
#endif
glFragColor=out_color;
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_terrain.vertex.glsl"
in vec4 a_pos_offset;in vec4 a_tex_size;in vec4 a_pixeloffset;in vec4 a_projected_pos;in float a_fade_opacity;
#ifdef Z_OFFSET
in float a_auto_z_offset;
#endif
#ifdef PROJECTION_GLOBE_VIEW
in vec3 a_globe_anchor;in vec3 a_globe_normal;
#endif
#ifdef ICON_TRANSITION
in vec2 a_texb;
#endif
#ifdef OCCLUSION_QUERIES
in float a_occlusion_query_opacity;
#endif
#ifdef INDICATOR_CUTOUT
out highp float v_z_offset;
#endif
uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_elevation_from_sea;uniform bool u_pitch_with_map;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec3 u_up_vector;uniform vec2 u_texsize_icon;uniform bool u_is_halo;
#ifdef PROJECTION_GLOBE_VIEW
uniform vec3 u_tile_id;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_camera_forward;uniform float u_zoom_transition;uniform vec3 u_ecef_origin;uniform mat4 u_tile_matrix;
#endif
out vec2 v_tex_a;
#ifdef ICON_TRANSITION
out vec2 v_tex_b;
#endif
out float v_draw_halo;out vec3 v_gamma_scale_size_fade_opacity;
#ifdef RENDER_TEXT_AND_SYMBOL
out float is_sdf;out vec2 v_tex_a_icon;
#endif
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
#pragma mapbox: define lowp float emissive_strength
#pragma mapbox: define lowp float occlusion_opacity
#pragma mapbox: define lowp float z_offset
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
#pragma mapbox: initialize lowp float emissive_strength
#pragma mapbox: initialize lowp float occlusion_opacity
#pragma mapbox: initialize lowp float z_offset
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_min_font_scale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[3];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 tile_anchor=a_pos;float e=u_elevation_from_sea ? z_offset : z_offset+elevation(tile_anchor);
#ifdef Z_OFFSET
e+=a_auto_z_offset;
#endif
vec3 h=elevationVector(tile_anchor)*e;float globe_occlusion_fade;vec3 world_pos;vec3 mercator_pos;vec3 world_pos_globe;
#ifdef PROJECTION_GLOBE_VIEW
mercator_pos=mercator_tile_position(u_inv_rot_matrix,tile_anchor,u_tile_id,u_merc_center);world_pos_globe=a_globe_anchor+h;world_pos=mix_globe_mercator(world_pos_globe,mercator_pos,u_zoom_transition);vec4 ecef_point=u_tile_matrix*vec4(world_pos,1.0);vec3 origin_to_point=ecef_point.xyz-u_ecef_origin;globe_occlusion_fade=dot(origin_to_point,u_camera_forward) >=0.0 ? 0.0 : 1.0;
#else
world_pos=vec3(tile_anchor,0)+h;globe_occlusion_fade=1.0;
#endif
vec4 projected_point=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projected_point.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(
0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float font_scale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetprojected_point;vec2 a;
#ifdef PROJECTION_GLOBE_VIEW
vec3 displacement=vec3(a_globe_normal.z,0,-a_globe_normal.x);offsetprojected_point=u_matrix*vec4(a_globe_anchor+displacement,1);vec4 projected_point_globe=u_matrix*vec4(world_pos_globe,1);a=projected_point_globe.xy/projected_point_globe.w;
#else
offsetprojected_point=u_matrix*vec4(tile_anchor+vec2(1,0),0,1);a=projected_point.xy/projected_point.w;
#endif
vec2 b=offsetprojected_point.xy/offsetprojected_point.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}vec4 projected_pos;
#ifdef PROJECTION_GLOBE_VIEW
#ifdef PROJECTED_POS_ON_VIEWPORT
projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xyz+h,1.0);
#else
vec3 proj_pos=mix_globe_mercator(a_projected_pos.xyz,mercator_pos,u_zoom_transition)+h;projected_pos=u_label_plane_matrix*vec4(proj_pos,1.0);    
#endif
#else
projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h.z,1.0);
#endif
highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*max(a_min_font_scale,font_scale)+a_pxoffset/16.0);
#ifdef TERRAIN
#ifdef PITCH_WITH_MAP_TERRAIN
vec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);
#endif
#endif
#ifdef Z_OFFSET
z+=u_pitch_with_map ? a_auto_z_offset+(u_elevation_from_sea ? z_offset : z_offset) : 0.0;
#else
z+=u_pitch_with_map ? (u_elevation_from_sea ? z_offset : z_offset) : 0.0;
#endif
float occlusion_fade=globe_occlusion_fade;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float out_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change));
#ifdef DEPTH_OCCLUSION
float depth_occlusion=occlusionFadeMultiSample(projected_point);float depth_occlusion_multplier=mix(occlusion_opacity,1.0,depth_occlusion);out_fade_opacity*=depth_occlusion_multplier;
#endif
#ifdef OCCLUSION_QUERIES
float occludedFadeMultiplier=mix(occlusion_opacity,1.0,a_occlusion_query_opacity);out_fade_opacity*=occludedFadeMultiplier;
#endif
float alpha=opacity*out_fade_opacity;float hidden=float(alpha==0.0 || projected_point.w <=0.0 || occlusion_fade==0.0);
#ifdef PROJECTION_GLOBE_VIEW
vec3 xAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,u_up_vector)) : vec3(1,0,0);vec3 yAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,xAxis)) : vec3(0,1,0);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xyz/projected_pos.w+xAxis*offset.x+yAxis*offset.y,1.0),AWAY,hidden);
#else
gl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,hidden);
#endif
float gamma_scale=gl_Position.w;v_draw_halo=(u_is_halo && float(gl_InstanceID)==0.0) ? 1.0 : 0.0;v_gamma_scale_size_fade_opacity=vec3(gamma_scale,size,out_fade_opacity);v_tex_a=a_tex/u_texsize;
#ifdef RENDER_TEXT_AND_SYMBOL
is_sdf=a_size[0]-2.0*a_size_min;v_tex_a_icon=a_tex/u_texsize_icon;
#endif
#ifdef ICON_TRANSITION
v_tex_b=a_texb/u_texsize;
#endif
#ifdef INDICATOR_CUTOUT
v_z_offset=e;
#endif
}`),terrainRaster:Ya(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_shadow.fragment.glsl"
#include "_prelude_lighting.glsl"
uniform sampler2D u_image0;in vec2 v_pos0;
#ifdef FOG
in float v_fog_opacity;
#endif
#ifdef RENDER_SHADOWS
in vec4 v_pos_light_view_0;in vec4 v_pos_light_view_1;
#endif
uniform vec3 u_ground_shadow_factor;void main() {vec4 image_color=texture(u_image0,v_pos0);vec4 color;
#ifdef LIGHTING_3D_MODE
const vec3 normal=vec3(0.0,0.0,1.0);
#ifdef RENDER_SHADOWS
float cutoffOpacity=1.0;
#ifdef RENDER_CUTOFF
cutoffOpacity=cutoff_opacity(u_cutoff_params,1.0/gl_FragCoord.w);
#endif
#ifdef LIGHTING_3D_ALPHA_EMISSIVENESS
vec3 unlit_base=image_color.rgb*(1.0-image_color.a);vec3 emissive_base=image_color.rgb*image_color.a;float ndotl=u_shadow_direction.z;float occlusion=ndotl < 0.0 ? 1.0 : shadow_occlusion(v_pos_light_view_0,v_pos_light_view_1,1.0/gl_FragCoord.w,0.0);ndotl=max(0.0,ndotl);vec3 lit=apply_lighting(unlit_base,normal,mix(1.0,(1.0-(u_shadow_intensity*occlusion))*ndotl,cutoffOpacity));vec3 emissive=compute_emissive_draped(emissive_base,1.0-u_shadow_intensity,occlusion,u_ground_shadow_factor);color.rgb=lit+emissive;color.a=1.0;
#else
float lighting_factor=shadowed_light_factor_normal_unbiased(normal,v_pos_light_view_0,v_pos_light_view_1,1.0/gl_FragCoord.w);color=apply_lighting(image_color,normal,mix(1.0,lighting_factor,cutoffOpacity));
#endif
#else
float lighting_factor=u_lighting_directional_dir.z;color=apply_lighting(image_color,normal,lighting_factor);
#ifdef LIGHTING_3D_ALPHA_EMISSIVENESS
color.rgb=mix(color.rgb,image_color.rgb,image_color.a);color.a=1.0;
#endif
#endif
#else
color=image_color;
#endif
#ifdef FOG
#ifdef ZERO_EXAGGERATION
color=fog_dither(fog_apply_premultiplied(color,v_fog_pos));
#else
color=fog_dither(fog_apply_from_vert(color,v_fog_opacity));
#endif
#endif
glFragColor=color;
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
#include "_prelude_terrain.vertex.glsl"
uniform mat4 u_matrix;uniform float u_skirt_height;in vec2 a_pos;out vec2 v_pos0;
#ifdef FOG
out float v_fog_opacity;
#endif
#ifdef RENDER_SHADOWS
uniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;out vec4 v_pos_light_view_0;out vec4 v_pos_light_view_1;out float v_depth;
#endif
void main() {vec3 decomposedPosAndSkirt=decomposeToPosAndSkirt(a_pos);float skirt=decomposedPosAndSkirt.z;vec2 decodedPos=decomposedPosAndSkirt.xy;float elevation=elevation(decodedPos)-skirt*u_skirt_height;v_pos0=decodedPos/8192.0;gl_Position=u_matrix*vec4(decodedPos,elevation,1.0);
#ifdef FOG
#ifdef ZERO_EXAGGERATION
v_fog_pos=fog_position(decodedPos);
#else
v_fog_opacity=fog(fog_position(vec3(decodedPos,elevation)));
#endif
#endif
#ifdef RENDER_SHADOWS
vec3 pos=vec3(decodedPos,elevation);v_pos_light_view_0=u_light_matrix_0*vec4(pos,1.);v_pos_light_view_1=u_light_matrix_1*vec4(pos,1.);
#endif
}`),terrainDepth:Ya("precision highp float;in float v_depth;void main() {glFragColor=pack_depth(v_depth);}",`#include "_prelude_terrain.vertex.glsl"
uniform mat4 u_matrix;in vec2 a_pos;out float v_depth;void main() {float elevation=elevation(a_pos);gl_Position=u_matrix*vec4(a_pos,elevation,1.0);v_depth=gl_Position.z/gl_Position.w;}`),skybox:Ya(`#include "_prelude_fog.fragment.glsl"
in lowp vec3 v_uv;uniform lowp samplerCube u_cubemap;uniform lowp float u_opacity;uniform highp float u_temporal_offset;uniform highp vec3 u_sun_direction;float sun_disk(highp vec3 ray_direction,highp vec3 sun_direction) {highp float cos_angle=dot(normalize(ray_direction),sun_direction);const highp float cos_sun_angular_diameter=0.99996192306;const highp float smoothstep_delta=1e-5;return smoothstep(
cos_sun_angular_diameter-smoothstep_delta,cos_sun_angular_diameter+smoothstep_delta,cos_angle);}float map(float value,float start,float end,float new_start,float new_end) {return ((value-start)*(new_end-new_start))/(end-start)+new_start;}void main() {vec3 uv=v_uv;const float y_bias=0.015;uv.y+=y_bias;uv.y=pow(abs(uv.y),1.0/5.0);uv.y=map(uv.y,0.0,1.0,-1.0,1.0);vec3 sky_color=texture(u_cubemap,uv).rgb;
#ifdef FOG
sky_color=fog_apply_sky_gradient(v_uv.xzy,sky_color);
#endif
sky_color+=0.1*sun_disk(v_uv,u_sun_direction);glFragColor=vec4(sky_color*u_opacity,u_opacity);
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
}`,bl),skyboxGradient:Ya(`#include "_prelude_fog.fragment.glsl"
in highp vec3 v_uv;uniform lowp sampler2D u_color_ramp;uniform highp vec3 u_center_direction;uniform lowp float u_radius;uniform lowp float u_opacity;uniform highp float u_temporal_offset;void main() {float progress=acos(dot(normalize(v_uv),u_center_direction))/u_radius;vec4 color=texture(u_color_ramp,vec2(progress,0.5));
#ifdef FOG
color.rgb=fog_apply_sky_gradient(v_uv.xzy,color.rgb/color.a)*color.a;
#endif
color*=u_opacity;glFragColor=color;
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
}`,bl),skyboxCapture:Ya(`
in highp vec3 v_position;uniform highp float u_sun_intensity;uniform highp float u_luminance;uniform lowp vec3 u_sun_direction;uniform highp vec4 u_color_tint_r;uniform highp vec4 u_color_tint_m;precision highp float;
#define BETA_R                  vec3(5.5e-6,13.0e-6,22.4e-6)
#define BETA_M                  vec3(21e-6,21e-6,21e-6)
#define MIE_G                   0.76
#define DENSITY_HEIGHT_SCALE_R  8000.0
#define DENSITY_HEIGHT_SCALE_M  1200.0
#define PLANET_RADIUS           6360e3
#define ATMOSPHERE_RADIUS       6420e3
#define SAMPLE_STEPS            10
#define DENSITY_STEPS           4
float ray_sphere_exit(vec3 orig,vec3 dir,float radius) {float a=dot(dir,dir);float b=2.0*dot(dir,orig);float c=dot(orig,orig)-radius*radius;float d=sqrt(b*b-4.0*a*c);return (-b+d)/(2.0*a);}vec3 extinction(vec2 density) {return exp(-vec3(BETA_R*u_color_tint_r.a*density.x+BETA_M*u_color_tint_m.a*density.y));}vec2 local_density(vec3 point) {float height=max(length(point)-PLANET_RADIUS,0.0);float exp_r=exp(-height/DENSITY_HEIGHT_SCALE_R);float exp_m=exp(-height/DENSITY_HEIGHT_SCALE_M);return vec2(exp_r,exp_m);}float phase_ray(float cos_angle) {return (3.0/(16.0*PI))*(1.0+cos_angle*cos_angle);}float phase_mie(float cos_angle) {return (3.0/(8.0*PI))*((1.0-MIE_G*MIE_G)*(1.0+cos_angle*cos_angle))/((2.0+MIE_G*MIE_G)*pow(1.0+MIE_G*MIE_G-2.0*MIE_G*cos_angle,1.5));}vec2 density_to_atmosphere(vec3 point,vec3 light_dir) {float ray_len=ray_sphere_exit(point,light_dir,ATMOSPHERE_RADIUS);float step_len=ray_len/float(DENSITY_STEPS);vec2 density_point_to_atmosphere=vec2(0.0);for (int i=0; i < DENSITY_STEPS;++i) {vec3 point_on_ray=point+light_dir*((float(i)+0.5)*step_len);density_point_to_atmosphere+=local_density(point_on_ray)*step_len;;}return density_point_to_atmosphere;}vec3 atmosphere(vec3 ray_dir,vec3 sun_direction,float sun_intensity) {vec2 density_orig_to_point=vec2(0.0);vec3 scatter_r=vec3(0.0);vec3 scatter_m=vec3(0.0);vec3 origin=vec3(0.0,PLANET_RADIUS,0.0);float ray_len=ray_sphere_exit(origin,ray_dir,ATMOSPHERE_RADIUS);float step_len=ray_len/float(SAMPLE_STEPS);for (int i=0; i < SAMPLE_STEPS;++i) {vec3 point_on_ray=origin+ray_dir*((float(i)+0.5)*step_len);vec2 density=local_density(point_on_ray)*step_len;density_orig_to_point+=density;vec2 density_point_to_atmosphere=density_to_atmosphere(point_on_ray,sun_direction);vec2 density_orig_to_atmosphere=density_orig_to_point+density_point_to_atmosphere;vec3 extinction=extinction(density_orig_to_atmosphere);scatter_r+=density.x*extinction;scatter_m+=density.y*extinction;}float cos_angle=dot(ray_dir,sun_direction);float phase_r=phase_ray(cos_angle);float phase_m=phase_mie(cos_angle);vec3 beta_r=BETA_R*u_color_tint_r.rgb*u_color_tint_r.a;vec3 beta_m=BETA_M*u_color_tint_m.rgb*u_color_tint_m.a;return (scatter_r*phase_r*beta_r+scatter_m*phase_m*beta_m)*sun_intensity;}const float A=0.15;const float B=0.50;const float C=0.10;const float D=0.20;const float E=0.02;const float F=0.30;vec3 uncharted2_tonemap(vec3 x) {return ((x*(A*x+C*B)+D*E)/(x*(A*x+B)+D*F))-E/F;}void main() {vec3 ray_direction=v_position;ray_direction.y=pow(ray_direction.y,5.0);const float y_bias=0.015;ray_direction.y+=y_bias;vec3 color=atmosphere(normalize(ray_direction),u_sun_direction,u_sun_intensity);float white_scale=1.0748724675633854;color=uncharted2_tonemap((log2(2.0/pow(u_luminance,4.0)))*color)*white_scale;glFragColor=vec4(color,1.0);}`,"in highp vec3 a_pos_3f;uniform mat3 u_matrix_3f;out highp vec3 v_position;float map(float value,float start,float end,float new_start,float new_end) {return ((value-start)*(new_end-new_start))/(end-start)+new_start;}void main() {vec4 pos=vec4(u_matrix_3f*a_pos_3f,1.0);v_position=pos.xyz;v_position.y*=-1.0;v_position.y=map(v_position.y,-1.0,1.0,0.0,1.0);gl_Position=vec4(a_pos_3f.xy,0.0,1.0);}"),globeRaster:Ya(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_lighting.glsl"
uniform sampler2D u_image0;uniform float u_far_z_cutoff;in vec2 v_pos0;
#ifndef FOG
uniform highp vec3 u_frustum_tl;uniform highp vec3 u_frustum_tr;uniform highp vec3 u_frustum_br;uniform highp vec3 u_frustum_bl;uniform highp vec3 u_globe_pos;uniform highp float u_globe_radius;uniform vec2 u_viewport;
#endif
void main() {vec4 color;
#ifdef CUSTOM_ANTIALIASING
highp vec2 uv=gl_FragCoord.xy/u_viewport;highp vec3 ray_dir=mix(
mix(u_frustum_tl,u_frustum_tr,uv.x),mix(u_frustum_bl,u_frustum_br,uv.x),1.0-uv.y);highp vec3 dir=normalize(ray_dir);highp vec3 closest_point=dot(u_globe_pos,dir)*dir;highp float norm_dist_from_center=1.0-length(closest_point-u_globe_pos)/u_globe_radius;const float antialias_pixel=2.0;highp float antialias_factor=antialias_pixel*fwidth(norm_dist_from_center);highp float antialias=smoothstep(0.0,antialias_factor,norm_dist_from_center);vec4 raster=texture(u_image0,v_pos0);
#ifdef LIGHTING_3D_MODE
#ifdef LIGHTING_3D_ALPHA_EMISSIVENESS
raster=apply_lighting_with_emission_ground(raster,raster.a);color=vec4(clamp(raster.rgb,vec3(0),vec3(1))*antialias,antialias);
#else
raster=apply_lighting_ground(raster);color=vec4(raster.rgb*antialias,raster.a*antialias);
#endif
#else
color=vec4(raster.rgb*antialias,raster.a*antialias);
#endif
#else
color=texture(u_image0,v_pos0);
#ifdef LIGHTING_3D_MODE
#ifdef LIGHTING_3D_ALPHA_EMISSIVENESS
color=apply_lighting_with_emission_ground(color,color.a);color.a=1.0;
#else
color=apply_lighting_ground(color);
#endif
#endif
#endif
#ifdef FOG
color=fog_dither(fog_apply_premultiplied(color,v_fog_pos));
#endif
color*=1.0-step(u_far_z_cutoff,1.0/gl_FragCoord.w);glFragColor=color;
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
#include "_prelude_terrain.vertex.glsl"
uniform mat4 u_proj_matrix;uniform mat4 u_normalize_matrix;uniform mat4 u_globe_matrix;uniform mat4 u_merc_matrix;uniform float u_zoom_transition;uniform vec2 u_merc_center;uniform mat3 u_grid_matrix;uniform float u_skirt_height;
#ifdef GLOBE_POLES
in vec3 a_globe_pos;in vec2 a_uv;
#else
in vec2 a_pos;
#endif
out vec2 v_pos0;void main() {
#ifdef GLOBE_POLES
vec3 globe_pos=a_globe_pos;vec2 uv=a_uv;
#else
float tiles=u_grid_matrix[0][2];float idx=u_grid_matrix[1][2];float idy=u_grid_matrix[2][2];vec3 decomposed_pos_and_skirt=decomposeToPosAndSkirt(a_pos);vec3 latLng=u_grid_matrix*vec3(decomposed_pos_and_skirt.xy,1.0);float mercatorY=mercatorYfromLat(latLng[0]);float uvY=mercatorY*tiles-idy;float mercatorX=mercatorXfromLng(latLng[1]);float uvX=mercatorX*tiles-idx;vec3 globe_pos=latLngToECEF(latLng.xy);vec2 merc_pos=vec2(mercatorX,mercatorY);vec2 uv=vec2(uvX,uvY);
#endif
v_pos0=uv;vec2 tile_pos=uv*EXTENT;vec3 globe_derived_up_vector=normalize(globe_pos)*u_tile_up_scale;
#ifdef GLOBE_POLES
vec3 up_vector=globe_derived_up_vector;
#else
vec3 up_vector=elevationVector(tile_pos);
#endif
float height=elevation(tile_pos);globe_pos+=up_vector*height;
#ifndef GLOBE_POLES
globe_pos-=globe_derived_up_vector*u_skirt_height*decomposed_pos_and_skirt.z;
#endif
#ifdef GLOBE_POLES
vec4 interpolated_pos=u_globe_matrix*vec4(globe_pos,1.0);
#else
vec4 globe_world_pos=u_globe_matrix*vec4(globe_pos,1.0);vec4 merc_world_pos=vec4(0.0);if (u_zoom_transition > 0.0) {merc_world_pos=vec4(merc_pos,height-u_skirt_height*decomposed_pos_and_skirt.z,1.0);merc_world_pos.xy-=u_merc_center;merc_world_pos.x=wrap(merc_world_pos.x,-0.5,0.5);merc_world_pos=u_merc_matrix*merc_world_pos;}vec4 interpolated_pos=vec4(mix(globe_world_pos.xyz,merc_world_pos.xyz,u_zoom_transition),1.0);
#endif
gl_Position=u_proj_matrix*interpolated_pos;
#ifdef FOG
v_fog_pos=fog_position((u_normalize_matrix*vec4(globe_pos,1.0)).xyz);
#endif
}`),globeAtmosphere:Ya(`#include "_prelude_fog.fragment.glsl"
uniform float u_transition;uniform highp float u_fadeout_range;uniform highp float u_temporal_offset;uniform vec4 u_color;uniform vec4 u_high_color;uniform vec4 u_space_color;uniform float u_horizon_angle;in highp vec3 v_ray_dir;in highp vec3 v_horizon_dir;void main() {highp vec3 dir=normalize(v_ray_dir);float globe_pos_dot_dir;
#ifdef PROJECTION_GLOBE_VIEW
globe_pos_dot_dir=dot(u_globe_pos,dir);highp vec3 closest_point_forward=abs(globe_pos_dot_dir)*dir;float norm_dist_from_center=length(closest_point_forward-u_globe_pos)/u_globe_radius;if (norm_dist_from_center < 0.98) {
#ifdef ALPHA_PASS
glFragColor=vec4(0,0,0,0);return;
#else
#ifdef NATIVE
glFragColor=vec4(1,1,1,1);
#else
glFragColor=vec4(0,0,0,1);
#endif
return;
#endif
}
#endif
highp vec3 horizon_dir=normalize(v_horizon_dir);float horizon_angle_mercator=dir.y < horizon_dir.y ?
0.0 : max(acos(clamp(dot(dir,horizon_dir),-1.0,1.0)),0.0);float horizon_angle;
#ifdef PROJECTION_GLOBE_VIEW
highp vec3 closest_point=globe_pos_dot_dir*dir;highp float closest_point_to_center=length(closest_point-u_globe_pos);highp float theta=asin(clamp(closest_point_to_center/length(u_globe_pos),-1.0,1.0));horizon_angle=globe_pos_dot_dir < 0.0 ?
PI-theta-u_horizon_angle : theta-u_horizon_angle;float angle_t=pow(u_transition,10.0);horizon_angle=mix(horizon_angle,horizon_angle_mercator,angle_t);
#else
horizon_angle=horizon_angle_mercator;
#endif
horizon_angle/=PI;float t=exp(-horizon_angle/u_fadeout_range);float alpha_0=u_color.a;float alpha_1=u_high_color.a;float alpha_2=u_space_color.a;vec3 color_stop_0=u_color.rgb;vec3 color_stop_1=u_high_color.rgb;vec3 color_stop_2=u_space_color.rgb;
#ifdef ALPHA_PASS
float a0=mix(alpha_2,1.0,alpha_1);float a1=mix(a0,1.0,alpha_0);float a2=mix(a0,a1,t);float a =mix(alpha_2,a2,t);glFragColor=vec4(1.0,1.0,1.0,a);
#else
vec3 c0=mix(color_stop_2,color_stop_1,alpha_1);vec3 c1=mix(c0,color_stop_0,alpha_0);vec3 c2=mix(c0,c1,t);vec3 c=c2;glFragColor=vec4(c*t,t);
#endif
}`,`in vec3 a_pos;in vec2 a_uv;uniform vec3 u_frustum_tl;uniform vec3 u_frustum_tr;uniform vec3 u_frustum_br;uniform vec3 u_frustum_bl;uniform float u_horizon;out highp vec3 v_ray_dir;out highp vec3 v_horizon_dir;void main() {v_ray_dir=mix(
mix(u_frustum_tl,u_frustum_tr,a_uv.x),mix(u_frustum_bl,u_frustum_br,a_uv.x),a_uv.y);v_horizon_dir=mix(
mix(u_frustum_tl,u_frustum_bl,u_horizon),mix(u_frustum_tr,u_frustum_br,u_horizon),a_uv.x);gl_Position=vec4(a_pos,1.0);}`),model:Ya(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_shadow.fragment.glsl"
#include "_prelude_lighting.glsl"
uniform float u_opacity;uniform vec3 u_lightcolor;uniform vec3 u_lightpos;uniform float u_lightintensity;uniform vec4 u_baseColorFactor;uniform vec4 u_emissiveFactor;uniform float u_metallicFactor;uniform float u_roughnessFactor;uniform float u_emissive_strength;in highp vec4 v_position_height;in lowp vec4 v_color_mix;
#ifdef RENDER_SHADOWS
in highp vec4 v_pos_light_view_0;in highp vec4 v_pos_light_view_1;in float v_depth_shadows;
#endif
#ifdef OCCLUSION_TEXTURE_TRANSFORM
uniform vec4 u_occlusionTextureTransform;
#endif
#pragma mapbox: define-attribute highp vec3 normal_3f
#pragma mapbox: define-attribute highp vec3 color_3f
#pragma mapbox: define-attribute highp vec4 color_4f
#pragma mapbox: define-attribute highp vec2 uv_2f
#pragma mapbox: initialize-attribute highp vec3 normal_3f
#pragma mapbox: initialize-attribute highp vec3 color_3f
#pragma mapbox: initialize-attribute highp vec4 color_4f
#pragma mapbox: initialize-attribute highp vec2 uv_2f
#ifdef HAS_ATTRIBUTE_a_pbr
in lowp vec4 v_roughness_metallic_emissive_alpha;in mediump vec4 v_height_based_emission_params;
#endif
#ifdef HAS_TEXTURE_u_baseColorTexture
uniform sampler2D u_baseColorTexture;uniform bool u_baseTextureIsAlpha;uniform bool u_alphaMask;uniform float u_alphaCutoff;
#endif
#ifdef HAS_TEXTURE_u_metallicRoughnessTexture
uniform sampler2D u_metallicRoughnessTexture;
#endif
#ifdef HAS_TEXTURE_u_occlusionTexture
uniform sampler2D u_occlusionTexture;uniform float u_aoIntensity;
#endif
#ifdef HAS_TEXTURE_u_normalTexture
uniform sampler2D u_normalTexture;
#endif
#ifdef HAS_TEXTURE_u_emissionTexture
uniform sampler2D u_emissionTexture;
#endif
#ifdef APPLY_LUT_ON_GPU
uniform highp sampler3D u_lutTexture;
#endif
#ifdef TERRAIN_FRAGMENT_OCCLUSION
in highp float v_depth;uniform highp sampler2D u_depthTexture;uniform highp vec2 u_inv_depth_size;uniform highp vec2 u_depth_range_unpack;
#ifdef DEPTH_D24
highp float unpack_depth(highp float depth) {return  depth*u_depth_range_unpack.x+u_depth_range_unpack.y;}
#else
highp float unpack_depth_rgba(highp vec4 rgba_depth)
{const highp vec4 bit_shift=vec4(1.0/(255.0*255.0*255.0),1.0/(255.0*255.0),1.0/255.0,1.0);return dot(rgba_depth,bit_shift)*2.0-1.0;}
#endif
bool isOccluded() {highp vec2 coord=gl_FragCoord.xy*u_inv_depth_size;
#ifdef DEPTH_D24
highp float depth=unpack_depth(texture(u_depthTexture,coord).r);
#else
highp float depth=unpack_depth_rgba(texture(u_depthTexture,coord));
#endif
return v_depth > depth+0.0005;}
#endif
#define saturate(_x) clamp(_x,0.,1.)
vec3 linearTosRGB(vec3 color) {return pow(color,vec3(1./2.2));}vec3 sRGBToLinear(vec3 srgbIn) {return pow(srgbIn,vec3(2.2));}float calculate_NdotL(vec3 normal,vec3 lightDir) {const float ext=0.70710678118;return (clamp(dot(normal,lightDir),-ext,1.0)+ext)/(1.0+ext);}vec3 getDiffuseShadedColor(vec3 albedo,vec3 normal,vec3 lightDir,vec3 lightColor)
{
#ifdef LIGHTING_3D_MODE
vec3 transformed_normal=vec3(-normal.xy,normal.z);float lighting_factor;
#ifdef RENDER_SHADOWS
lighting_factor=shadowed_light_factor_normal(transformed_normal,v_pos_light_view_0,v_pos_light_view_1,v_depth_shadows);
#else
lighting_factor=saturate(dot(transformed_normal,u_lighting_directional_dir));
#endif
return apply_lighting(albedo,transformed_normal,lighting_factor);
#else
vec3 n=normal;float colorvalue=((albedo.x*0.2126)+(albedo.y*0.7152))+(albedo.z*0.0722);vec3 c=vec3(0.03,0.03,0.03);float directional=clamp(dot(n,vec3(lightDir)),0.0,1.0);directional=mix(1.0-u_lightintensity,max((1.0-colorvalue)+u_lightintensity,1.0),directional);vec3 c3=c+clamp((albedo*directional)*lightColor,mix(vec3(0.0),vec3(0.3),vec3(1.0)-lightColor),vec3(1.0));return c3;
#endif
}vec4 getBaseColor() {vec4 albedo=u_baseColorFactor;
#ifdef HAS_ATTRIBUTE_a_color_3f
albedo*=vec4(color_3f,1.0);
#endif
#ifdef HAS_ATTRIBUTE_a_pbr
#else
#ifdef HAS_ATTRIBUTE_a_color_4f
albedo*=color_4f;
#endif
#endif
#if defined (HAS_TEXTURE_u_baseColorTexture) && defined (HAS_ATTRIBUTE_a_uv_2f)
vec4 texColor=texture(u_baseColorTexture,uv_2f);if(u_alphaMask) {if (texColor.w < u_alphaCutoff) {discard;}}
#ifdef UNPREMULT_TEXTURE_IN_SHADER
if(texColor.w > 0.0) {texColor.rgb/=texColor.w;}texColor.w=1.0;
#endif
if(u_baseTextureIsAlpha) {if (texColor.r < 0.5) {discard;}} else {texColor.rgb=sRGBToLinear(texColor.rgb);albedo*=texColor;}
#endif
vec4 color=vec4(mix(albedo.rgb,v_color_mix.rgb,v_color_mix.a),albedo.a);
#ifdef APPLY_LUT_ON_GPU
color=applyLUT(u_lutTexture,color);
#endif
return color;}highp mat3 cotangentFrame(highp vec3 N,highp vec3 p,highp vec2 uv ) {
#ifdef HAS_TEXTURE_u_normalTexture
highp vec3 dp1=vec3(dFdx(p.x),dFdx(p.y),dFdx(p.z));highp vec3 dp2=vec3(dFdy(p.x),dFdy(p.y),dFdy(p.z));highp vec2 duv1=vec2(dFdx(uv.x),dFdx(uv.y));highp vec2 duv2=vec2(dFdy(uv.x),dFdy(uv.y));highp vec3 dp2perp=cross( dp2,N );highp vec3 dp1perp=cross( N,dp1 );highp vec3 T=dp2perp*duv1.x+dp1perp*duv2.x;highp vec3 B=dp2perp*duv1.y+dp1perp*duv2.y;highp float lengthT=dot(T,T);highp float lengthB=dot(B,B);highp float maxLength=max(lengthT,lengthB);highp float invmax=inversesqrt( maxLength );highp mat3 res=mat3( T*invmax,B*invmax,N );return res;
#else
return mat3(1.0);
#endif
}highp vec3 getNormal(){highp vec3 n;
#ifdef HAS_ATTRIBUTE_a_normal_3f
n=normalize(normal_3f);
#else
highp vec3 fdx=vec3(dFdx(v_position_height.x),dFdx(v_position_height.y),dFdx(v_position_height.z));highp vec3 fdy=vec3(dFdy(v_position_height.x),dFdy(v_position_height.y),dFdy(v_position_height.z));n=normalize(cross(fdx,fdy))*-1.0;
#endif
#if defined(HAS_TEXTURE_u_normalTexture) && defined(HAS_ATTRIBUTE_a_uv_2f)
vec3 nMap=texture( u_normalTexture,uv_2f).xyz;nMap=normalize(2.0*nMap-vec3(1.0));highp vec3 v=normalize(-v_position_height.xyz);highp mat3 TBN=cotangentFrame(n,v,uv_2f);n=normalize(TBN*nMap);
#endif
return n;}struct Material {float perceptualRoughness;float alphaRoughness;float metallic;vec3 f90;vec4 baseColor;vec3 diffuseColor;vec3 specularColor;highp vec3 normal;};Material getPBRMaterial() {Material mat;mat.baseColor=getBaseColor();mat.perceptualRoughness=u_roughnessFactor;mat.metallic=u_metallicFactor;
#ifdef HAS_ATTRIBUTE_a_pbr
mat.perceptualRoughness=v_roughness_metallic_emissive_alpha.x;mat.metallic=v_roughness_metallic_emissive_alpha.y;mat.baseColor.w*=v_roughness_metallic_emissive_alpha.w;
#endif
#if defined(HAS_TEXTURE_u_metallicRoughnessTexture) && defined(HAS_ATTRIBUTE_a_uv_2f) 
vec4 mrSample=texture(u_metallicRoughnessTexture,uv_2f);mat.perceptualRoughness*=mrSample.g;mat.metallic*=mrSample.b;
#endif
const float c_minRoughness=0.04;mat.perceptualRoughness=clamp(mat.perceptualRoughness,c_minRoughness,1.0);mat.metallic=saturate(mat.metallic);mat.alphaRoughness=mat.perceptualRoughness*mat.perceptualRoughness;const vec3 f0=vec3(0.04);mat.diffuseColor=mat.baseColor.rgb*(vec3(1.0)-f0);mat.diffuseColor*=1.0-mat.metallic;mat.specularColor=mix(f0,mat.baseColor.rgb,mat.metallic);highp float reflectance=max(max(mat.specularColor.r,mat.specularColor.g),mat.specularColor.b);highp float reflectance90=saturate(reflectance*25.0);mat.f90=vec3(reflectance90);mat.normal=getNormal();return mat;}float V_GGX(float NdotL,float NdotV,float roughness)
{float a2=roughness*roughness;float GGXV=NdotL*sqrt(NdotV*NdotV*(1.0-a2)+a2);float GGXL=NdotV*sqrt(NdotL*NdotL*(1.0-a2)+a2);return 0.5/(GGXV+GGXL);}float V_GGXFast(float NdotL,float NdotV,float roughness) {float a=roughness;float GGXV=NdotL*(NdotV*(1.0-a)+a);float GGXL=NdotV*(NdotL*(1.0-a)+a);return 0.5/(GGXV+GGXL);}vec3 F_Schlick(vec3 specularColor,vec3 f90,float VdotH)
{return specularColor+(f90-specularColor)*pow(clamp(1.0-VdotH,0.0,1.0),5.0);}vec3 F_SchlickFast(vec3 specularColor,float VdotH)
{float x=1.0-VdotH;float x4=x*x*x*x;return specularColor+(1.0-specularColor)*x4*x;}float D_GGX(highp float NdotH,float alphaRoughness)
{highp float a4=alphaRoughness*alphaRoughness;highp float f=(NdotH*a4-NdotH)*NdotH+1.0;return a4/(PI*f*f);}vec3 diffuseBurley(Material mat,float LdotH,float NdotL,float NdotV)
{float f90=2.0*LdotH*LdotH*mat.alphaRoughness-0.5;return (mat.diffuseColor/PI)*(1.0+f90*pow((1.0-NdotL),5.0))*(1.0+f90*pow((1.0-NdotV),5.0));}vec3 diffuseLambertian(Material mat)
{
#ifdef LIGHTING_3D_MODE
return mat.diffuseColor;
#else
return mat.diffuseColor/PI;
#endif
}vec3 EnvBRDFApprox(vec3 specularColor,float roughness,highp float NdotV)
{vec4 c0=vec4(-1,-0.0275,-0.572,0.022);vec4 c1=vec4(1,0.0425,1.04,-0.04);highp vec4 r=roughness*c0+c1;highp float a004=min(r.x*r.x,exp2(-9.28*NdotV))*r.x+r.y;vec2 AB=vec2(-1.04,1.04)*a004+r.zw;return specularColor*AB.x+AB.y;}vec3 computeIndirectLightContribution(Material mat,float NdotV,vec3 normal)
{vec3 env_light=vec3(0.65,0.65,0.65);
#ifdef LIGHTING_3D_MODE
float ambient_factor=calculate_ambient_directional_factor(normal);env_light=u_lighting_ambient_color*ambient_factor;
#endif
vec3 envBRDF=EnvBRDFApprox(mat.specularColor,mat.perceptualRoughness,NdotV);vec3 indirectSpecular= envBRDF*env_light;vec3 indirectDiffuse=mat.diffuseColor*env_light;return indirectSpecular+indirectDiffuse;}vec3 computeLightContribution(Material mat,vec3 lightPosition,vec3 lightColor)
{highp vec3 n=mat.normal;highp vec3 v=normalize(-v_position_height.xyz);highp vec3 l=normalize(lightPosition);highp vec3 h=normalize(v+l);float NdotV=clamp(abs(dot(n,v)),0.001,1.0);float NdotL=saturate(dot(n,l));highp float NdotH=saturate(dot(n,h));float VdotH=saturate(dot(v,h));vec3 f=F_SchlickFast(mat.specularColor,VdotH);float g=V_GGXFast(NdotL,NdotV,mat.alphaRoughness);float d=D_GGX(NdotH,mat.alphaRoughness);vec3 diffuseTerm=(1.0-f)*diffuseLambertian(mat);vec3 specularTerm=f*g*d;vec3 transformed_normal=vec3(-n.xy,n.z);float lighting_factor;
#ifdef RENDER_SHADOWS
lighting_factor=shadowed_light_factor_normal(transformed_normal,v_pos_light_view_0,v_pos_light_view_1,v_depth_shadows);
#else
lighting_factor=NdotL;
#endif
vec3 directLightColor=(specularTerm+diffuseTerm)*lighting_factor*lightColor;vec3 indirectLightColor=computeIndirectLightContribution(mat,NdotV,transformed_normal);vec3 color=(saturate(directLightColor)+indirectLightColor);float intensityFactor=1.0;
#if !defined(LIGHTING_3D_MODE)
const vec3 luminosityFactor=vec3(0.2126,0.7152,0.0722);float luminance=dot(diffuseTerm,luminosityFactor);intensityFactor=mix((1.0-u_lightintensity),max((1.0-luminance+u_lightintensity),1.0),NdotL);
#endif
color*=intensityFactor;return color;}void main() {
#ifdef TERRAIN_FRAGMENT_OCCLUSION
if (isOccluded()) {discard;}
#endif
vec3 lightDir=u_lightpos;vec3 lightColor=u_lightcolor;
#ifdef LIGHTING_3D_MODE
lightDir=u_lighting_directional_dir;lightDir.xy=-lightDir.xy;lightColor=u_lighting_directional_color;
#endif
vec4 finalColor;
#ifdef DIFFUSE_SHADED
vec3 N=getNormal();vec3 baseColor=getBaseColor().rgb;vec3 diffuse=getDiffuseShadedColor(baseColor,N,lightDir,lightColor);
#ifdef HAS_TEXTURE_u_occlusionTexture
float ao=(texture(u_occlusionTexture,uv_2f).r-1.0)*u_aoIntensity+1.0;diffuse*=ao;
#endif
finalColor=vec4(mix(diffuse,baseColor,u_emissive_strength),1.0)*u_opacity;
#else
Material mat=getPBRMaterial();vec3 color=computeLightContribution(mat,lightDir,lightColor);float ao=1.0;
#if defined (HAS_TEXTURE_u_occlusionTexture) && defined(HAS_ATTRIBUTE_a_uv_2f)
#ifdef OCCLUSION_TEXTURE_TRANSFORM
vec2 uv=uv_2f.xy*u_occlusionTextureTransform.zw+u_occlusionTextureTransform.xy;
#else
vec2 uv=uv_2f;
#endif
ao=(texture(u_occlusionTexture,uv).x-1.0)*u_aoIntensity+1.0;color*=ao;
#endif
vec4 emissive=u_emissiveFactor;
#if defined(HAS_TEXTURE_u_emissionTexture) && defined(HAS_ATTRIBUTE_a_uv_2f)
emissive.rgb*=sRGBToLinear(texture(u_emissionTexture,uv_2f).rgb);
#endif
#ifdef APPLY_LUT_ON_GPU
float emissiveFactorLength=max(length(u_emissiveFactor.rgb),0.001);emissive.rgb=sRGBToLinear(applyLUT(u_lutTexture,linearTosRGB(emissive.rgb/emissiveFactorLength).rbg))*emissiveFactorLength;
#endif
color+=emissive.rgb;float opacity=mat.baseColor.w*u_opacity;
#ifdef HAS_ATTRIBUTE_a_pbr
float resEmission=v_roughness_metallic_emissive_alpha.z;resEmission*=v_height_based_emission_params.z+v_height_based_emission_params.w*pow(clamp(v_height_based_emission_params.x,0.0,1.0),v_height_based_emission_params.y);vec3 color_mix=v_color_mix.rgb;
#ifdef APPLY_LUT_ON_GPU
color_mix=applyLUT(u_lutTexture,color_mix);
#endif
color=mix(color,color_mix,min(1.0,resEmission));
#ifdef HAS_ATTRIBUTE_a_color_4f
float distance=length(vec2(1.3*max(0.0,abs(color_4f.x)-color_4f.z),color_4f.y));distance+= mix(0.5,0.0,clamp(resEmission-1.0,0.0,1.0));opacity*=v_roughness_metallic_emissive_alpha.w*saturate(1.0-distance*distance);
#endif
#endif
vec3 unlitColor=mat.baseColor.rgb*ao+emissive.rgb;color=mix(color,unlitColor,u_emissive_strength);color=linearTosRGB(color);color*=opacity;finalColor=vec4(color,opacity);
#endif
#ifdef FOG
finalColor=fog_dither(fog_apply_premultiplied(finalColor,v_fog_pos,v_position_height.w));
#endif
#ifdef RENDER_CUTOFF
finalColor*=v_cutoff_opacity;
#endif
#ifdef INDICATOR_CUTOUT
finalColor=applyCutout(finalColor,v_position_height.w);
#endif
glFragColor=finalColor;
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
#include "_prelude_shadow.vertex.glsl"
in vec3 a_pos_3f;
#pragma mapbox: define-attribute highp vec3 normal_3f
#pragma mapbox: define-attribute highp vec2 uv_2f
#pragma mapbox: define-attribute highp vec3 color_3f
#pragma mapbox: define-attribute highp vec4 color_4f
#pragma mapbox: define-attribute-vertex-shader-only highp vec4 pbr
#pragma mapbox: define-attribute-vertex-shader-only highp vec3 heightBasedEmissiveStrength
uniform mat4 u_matrix;uniform mat4 u_node_matrix;uniform mat4 u_lighting_matrix;uniform vec3 u_camera_pos;uniform vec4 u_color_mix;
#ifdef INSTANCED_ARRAYS
in vec4 a_normal_matrix0;in vec4 a_normal_matrix1;in vec4 a_normal_matrix2;in vec4 a_normal_matrix3;
#else
uniform highp mat4 u_normal_matrix;
#endif
#ifdef RENDER_SHADOWS
uniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;out highp vec4 v_pos_light_view_0;out highp vec4 v_pos_light_view_1;out float v_depth_shadows;
#endif
out vec4 v_position_height;out lowp vec4 v_color_mix;
#ifdef TERRAIN_FRAGMENT_OCCLUSION
out highp float v_depth;
#endif
#ifdef HAS_ATTRIBUTE_a_pbr
out lowp vec4 v_roughness_metallic_emissive_alpha;out mediump vec4 v_height_based_emission_params;
#endif
vec3 sRGBToLinear(vec3 srgbIn) {return pow(srgbIn,vec3(2.2));}void main() {
#pragma mapbox: initialize-attribute highp vec3 normal_3f
#pragma mapbox: initialize-attribute highp vec2 uv_2f
#pragma mapbox: initialize-attribute highp vec3 color_3f
#pragma mapbox: initialize-attribute highp vec4 color_4f
#pragma mapbox: initialize-attribute-custom highp vec4 pbr
#pragma mapbox: initialize-attribute-custom highp vec3 heightBasedEmissiveStrength
highp mat4 normal_matrix;
#ifdef INSTANCED_ARRAYS
normal_matrix=mat4(a_normal_matrix0,a_normal_matrix1,a_normal_matrix2,a_normal_matrix3);
#else
normal_matrix=u_normal_matrix;
#endif
vec3 local_pos;mat3 rs;
#ifdef MODEL_POSITION_ON_GPU
vec3 pos_color=normal_matrix[0].xyz;vec4 translate=normal_matrix[1];vec3 pos_a=floor(pos_color);vec3 rgb=1.05*(pos_color-pos_a);float hidden=float(pos_a.x > EXTENT);float color_mix=pos_a.z/100.0;v_color_mix=vec4(sRGBToLinear(rgb),color_mix);float meter_to_tile=normal_matrix[0].w;vec4 pos=vec4(pos_a.xy,translate.z,1.0);rs[0].x=normal_matrix[1].w;rs[0].yz=normal_matrix[2].xy;rs[1].xy=normal_matrix[2].zw;rs[1].z=normal_matrix[3].x;rs[2].xyz=normal_matrix[3].yzw;vec4 pos_node=u_lighting_matrix*vec4(a_pos_3f,1.0);vec3 rotated_pos_node=rs*pos_node.xyz;vec3 pos_model_tile=(rotated_pos_node+vec3(translate.xy,0.0))*vec3(meter_to_tile,meter_to_tile,1.0);pos.xyz+=pos_model_tile;local_pos=pos.xyz;gl_Position=mix(u_matrix*pos,AWAY,hidden);pos.z*=meter_to_tile;v_position_height.xyz=pos.xyz-u_camera_pos;
#else
local_pos=a_pos_3f;gl_Position=u_matrix*vec4(a_pos_3f,1);v_position_height.xyz=vec3(u_lighting_matrix*vec4(a_pos_3f,1));v_color_mix=vec4(sRGBToLinear(u_color_mix.rgb),u_color_mix.a);
#endif
v_position_height.w=a_pos_3f.z;
#ifdef HAS_ATTRIBUTE_a_pbr
vec4 albedo_c=decode_color(pbr.xy);vec2 e_r_m=unpack_float(pbr.z);vec2 r_m= unpack_float(e_r_m.y*16.0);r_m.r=r_m.r*16.0;v_color_mix=vec4(albedo_c.rgb,1.0);v_roughness_metallic_emissive_alpha=vec4(vec3(r_m,e_r_m.x)/255.0,albedo_c.a);v_roughness_metallic_emissive_alpha.z*=2.0;float heightBasedRelativeIntepolation=a_pos_3f.z*heightBasedEmissiveStrength.x+heightBasedEmissiveStrength.y;v_height_based_emission_params.x=heightBasedRelativeIntepolation;v_height_based_emission_params.y=heightBasedEmissiveStrength.z;vec2 emissionMultiplierValues=unpack_float(pbr.w)/256.0;v_height_based_emission_params.z=emissionMultiplierValues.x;v_height_based_emission_params.w=emissionMultiplierValues.y-emissionMultiplierValues.x;
#endif
#ifdef FOG
v_fog_pos=fog_position(local_pos);
#endif
#ifdef RENDER_CUTOFF
v_cutoff_opacity=cutoff_opacity(u_cutoff_params,gl_Position.z);
#endif
#ifdef TERRAIN_FRAGMENT_OCCLUSION
v_depth=gl_Position.z/gl_Position.w;
#endif
#ifdef HAS_ATTRIBUTE_a_normal_3f
#ifdef MODEL_POSITION_ON_GPU
float x_squared_scale=dot(rs[0],rs[0]);float y_squared_scale=dot(rs[1],rs[1]);float z_squared_scale=dot(rs[2],rs[2]);vec3 squared_scale=vec3(x_squared_scale,y_squared_scale,z_squared_scale);normal_3f=rs*((u_lighting_matrix*vec4(normal_3f,0.0)).xyz/squared_scale);normal_3f=normalize(normal_3f);
#else
normal_3f=vec3(normal_matrix*vec4(normal_3f,0));
#endif
#endif
#ifdef HAS_ATTRIBUTE_a_pbr
#ifdef HAS_ATTRIBUTE_a_color_4f
v_roughness_metallic_emissive_alpha.w=clamp(color_4f.a*v_roughness_metallic_emissive_alpha.w*(v_roughness_metallic_emissive_alpha.z-1.0),0.0,1.0);
#endif
#endif
#ifdef RENDER_SHADOWS
vec4 shadow_pos=u_node_matrix*vec4(local_pos,1.0);
#ifdef NORMAL_OFFSET
#ifdef HAS_ATTRIBUTE_a_normal_3f
#ifdef MODEL_POSITION_ON_GPU
vec3 offset=shadow_normal_offset(vec3(-normal_3f.xy,normal_3f.z));shadow_pos.xyz+=offset*shadow_normal_offset_multiplier0();
#else
vec3 offset=shadow_normal_offset_model(normal_3f);shadow_pos.xyz+=offset*shadow_normal_offset_multiplier0();
#endif
#endif
#endif
v_pos_light_view_0=u_light_matrix_0*shadow_pos;v_pos_light_view_1=u_light_matrix_1*shadow_pos;v_depth_shadows=gl_Position.w;
#endif
}`),modelDepth:Ya(`in highp float v_depth;void main() {
#ifndef DEPTH_TEXTURE
glFragColor=pack_depth(v_depth);
#endif
}`,`in vec3 a_pos_3f;uniform mat4 u_matrix;out highp float v_depth;
#ifdef MODEL_POSITION_ON_GPU
#ifdef INSTANCED_ARRAYS
in vec4 a_normal_matrix0;in vec4 a_normal_matrix1;in vec4 a_normal_matrix2;in vec4 a_normal_matrix3;
#else
uniform highp mat4 u_instance;
#endif
uniform highp mat4 u_node_matrix;
#endif
void main() {
#ifdef MODEL_POSITION_ON_GPU
highp mat4 instance;
#ifdef INSTANCED_ARRAYS
instance=mat4(a_normal_matrix0,a_normal_matrix1,a_normal_matrix2,a_normal_matrix3);
#else
instance=u_instance;
#endif
vec3 pos_color=instance[0].xyz;vec4 translate=instance[1];vec3 pos_a=floor(pos_color);float hidden=float(pos_a.x > EXTENT);float meter_to_tile=instance[0].w;vec4 pos=vec4(pos_a.xy,translate.z,1.0);mat3 rs;rs[0].x=instance[1].w;rs[0].yz=instance[2].xy;rs[1].xy=instance[2].zw;rs[1].z=instance[3].x;rs[2].xyz=instance[3].yzw;vec4 pos_node=u_node_matrix*vec4(a_pos_3f,1.0);vec3 rotated_pos_node=rs*pos_node.xyz;vec3 pos_model_tile=(rotated_pos_node+vec3(translate.xy,0.0))*vec3(meter_to_tile,meter_to_tile,1.0);pos.xyz+=pos_model_tile;gl_Position=mix(u_matrix*pos,AWAY,hidden);
#else
gl_Position=u_matrix*vec4(a_pos_3f,1);
#endif
v_depth=gl_Position.z/gl_Position.w;}`),stars:Ya(`in highp vec2 v_uv;in mediump float v_intensity;float shapeCircle(in vec2 uv)
{float beginFade=0.6;float lengthFromCenter=length(v_uv);return 1.0-clamp((lengthFromCenter-beginFade)/(1.0-beginFade),0.0,1.0);}void main() {float alpha=shapeCircle(v_uv);vec3 color=vec3(1.0,1.0,1.0);alpha*=v_intensity;glFragColor=vec4(color*alpha,alpha);HANDLE_WIREFRAME_DEBUG;}`,`
in vec3 a_pos_3f;in vec2 a_uv;in float a_size_scale;in float a_fade_opacity;uniform mat4 u_matrix;uniform vec3 u_up;uniform vec3 u_right;uniform float u_intensity_multiplier;out highp vec2 v_uv;out mediump float v_intensity;void main() {v_uv=a_uv;v_intensity=a_fade_opacity*u_intensity_multiplier;vec3 pos=a_pos_3f;pos+=a_uv.x*u_right*a_size_scale;pos+=a_uv.y*u_up*a_size_scale;gl_Position=u_matrix*vec4(pos,1.0);}`),snowParticle:Ya("in highp vec2 uv;in highp float alphaMultiplier;uniform vec4 u_particleColor;uniform vec2 u_simpleShapeParameters;void main() {float t=clamp((length(uv)-u_simpleShapeParameters.x)/(1.0-u_simpleShapeParameters.x),0.0,1.0);float alpha=1.0-pow(t,pow(10.0,u_simpleShapeParameters.y));alpha*=alphaMultiplier;alpha*=u_particleColor.a;vec3 color=u_particleColor.rgb*alpha;glFragColor=vec4(color,alpha) ;HANDLE_WIREFRAME_DEBUG;}",`
in highp vec3 a_pos_3f;in highp vec2 a_uv;in highp vec4 a_snowParticleData;in highp vec4 a_snowParticleDataHorizontalOscillation;uniform mat4 u_modelview;uniform mat4 u_projection;uniform vec3 u_cam_pos;uniform vec2 u_screenSize;uniform float u_time;uniform float u_boxSize;uniform float u_velocityConeAperture; 
uniform float u_velocity;uniform vec3 u_direction;uniform float u_horizontalOscillationRadius; 
uniform float u_horizontalOscillationRate; 
uniform float u_billboardSize;uniform vec2 u_thinningCenterPos;uniform vec3 u_thinningShape;uniform float u_thinningAffectedRatio;uniform float u_thinningParticleOffset;out highp vec2 uv;out highp float alphaMultiplier;void main() {vec3 pos=a_pos_3f;float halfBoxSize=0.5*u_boxSize;pos.xyz*=halfBoxSize;pos+=u_cam_pos;float velocityConeApertureRad=radians(u_velocityConeAperture*0.5);float coneAnglePichRad=velocityConeApertureRad*a_snowParticleData.z;float coneAngleHeadingRad=a_snowParticleData.w*radians(360.0);vec3 localZ=normalize(u_direction);vec3 localX=normalize(cross(localZ,vec3(1,0,0)));vec3 localY=normalize(cross(localZ,localX));vec3 direction;direction.x=cos(coneAngleHeadingRad)*sin(coneAnglePichRad);direction.y=sin(coneAngleHeadingRad)*sin(coneAnglePichRad);direction.z=cos(coneAnglePichRad);direction=normalize(direction);vec3 simPosLocal=vec3(0,0,0);float velocityScale=(1.0+3.0*a_snowParticleData.y)*u_velocity;simPosLocal+=direction*velocityScale*u_time;float horizontalOscillationRadius=u_horizontalOscillationRadius*a_snowParticleDataHorizontalOscillation.x;float horizontalOscillationAngle=u_horizontalOscillationRate*u_time*(-1.0+2.0*a_snowParticleDataHorizontalOscillation.y);simPosLocal.xy+=horizontalOscillationRadius*vec2(cos(horizontalOscillationAngle),sin(horizontalOscillationAngle));vec3 simPos=localX*simPosLocal.x+
localY*simPosLocal.y+localZ*simPosLocal.z;pos+=simPos;pos=fract((pos+vec3(halfBoxSize))/vec3(u_boxSize))*u_boxSize-vec3(halfBoxSize);float clipZ=-u_cam_pos.z+pos.z;vec4 posView=u_modelview*vec4(pos,1.0);float size=u_billboardSize;alphaMultiplier=1.0;vec4 posScreen=u_projection*posView;posScreen/=posScreen.w;posScreen.xy=vec2(0.5)+posScreen.xy*0.5;posScreen.xy*=u_screenSize;vec2 thinningCenterPos=u_thinningCenterPos.xy;thinningCenterPos.y=u_screenSize.y-thinningCenterPos.y;float screenDist=length((thinningCenterPos-posScreen.xy)/(0.5*u_screenSize));screenDist+=a_snowParticleData.x*u_thinningParticleOffset;float scaleFactorMode=0.0;float thinningShapeDist=u_thinningShape.x+u_thinningShape.y;if (screenDist < thinningShapeDist) {float thinningFadeRatio=clamp((screenDist-u_thinningShape.x)/u_thinningShape.y,0.0,1.0);thinningFadeRatio=pow(thinningFadeRatio,u_thinningShape.z);if (a_snowParticleData.x < u_thinningAffectedRatio) {scaleFactorMode=1.0-thinningFadeRatio;alphaMultiplier=thinningFadeRatio;}}vec4 posScreen1=u_projection*vec4(posView.x-size,posView.yzw);posScreen1/=posScreen1.w;vec4 posScreen2=u_projection*vec4(posView.x+size,posView.yzw);posScreen2/=posScreen2.w;posScreen1.xy=vec2(0.5)+posScreen1.xy*0.5;posScreen1.xy*=u_screenSize;posScreen2.xy=vec2(0.5)+posScreen2.xy*0.5;posScreen2.xy*=u_screenSize;float screenLength=length(posScreen1.xy-posScreen2.xy);float screenEpsilon=3.0;float scaleFactor=1.0;if (screenLength < screenEpsilon) {scaleFactor=screenEpsilon/max(screenLength,0.01);scaleFactor=mix(scaleFactor,1.0,scaleFactorMode);}float screenEpsilon2=15.0;if (screenLength > screenEpsilon2) {scaleFactor=screenEpsilon2/max(screenLength,0.01);}size*=scaleFactor;vec2 right=size*vec2(1,0);vec2 up=size*vec2(0,1);posView.xy+=right*a_uv.x;posView.xy+=up*a_uv.y;uv=a_uv;gl_Position=u_projection*posView;}`),rainParticle:Ya("in highp vec2 uv;in highp float particleRandomValue;uniform sampler2D u_texScreen;uniform float u_distortionStrength;uniform vec4 u_color;uniform vec2 u_thinningCenterPos;uniform vec3 u_thinningShape;uniform float u_thinningAffectedRatio;uniform float u_thinningParticleOffset;uniform float u_shapeDirectionalPower;uniform float u_mode;void main() {vec2 st=uv*0.5+vec2(0.5);vec2 uvm=uv;uvm.y=-1.0+2.0*pow(st.y,u_shapeDirectionalPower);float shape=clamp(1.0-length(uvm),0.0,1.0);float alpha=abs(shape)*u_color.a;vec2 screenSize=vec2(textureSize(u_texScreen,0));vec2 thinningCenterPos=u_thinningCenterPos.xy;thinningCenterPos.y=screenSize.y-thinningCenterPos.y;float screenDist=length((thinningCenterPos-gl_FragCoord.xy)/(0.5*screenSize));screenDist+=(0.5+0.5*particleRandomValue)*u_thinningParticleOffset;float thinningShapeDist=u_thinningShape.x+u_thinningShape.y;float thinningAlpha=1.0;if (screenDist < thinningShapeDist) {float thinningFadeRatio=clamp((screenDist-u_thinningShape.x)/u_thinningShape.y,0.0,1.0);thinningFadeRatio=pow(thinningFadeRatio,u_thinningShape.z);thinningAlpha*=thinningFadeRatio;}vec2 offsetXY=normalize(uvm)*abs(shape);vec2 stScreen=(gl_FragCoord.xy+offsetXY*u_distortionStrength*thinningAlpha)/screenSize;vec3 colorScreen=texture(u_texScreen,stScreen).rgb;alpha*=thinningAlpha;glFragColor=mix(vec4(colorScreen,1.0),vec4(u_color.rgb*alpha,alpha),u_mode);HANDLE_WIREFRAME_DEBUG;}",`
in highp vec3 a_pos_3f;in highp vec2 a_uv;in highp vec4 a_rainParticleData;uniform mat4 u_modelview;uniform mat4 u_projection;uniform vec3 u_cam_pos;uniform float u_time;uniform float u_boxSize;uniform float u_velocityConeAperture; 
uniform float u_velocity; 
uniform vec2 u_rainDropletSize;uniform vec3 u_rainDirection;out highp vec2 uv;out highp float particleRandomValue;void main() {vec3 pos=a_pos_3f;float halfBoxSize=0.5*u_boxSize;pos*=halfBoxSize; 
pos+=u_cam_pos;float velocityConeApertureRad=radians(u_velocityConeAperture*0.5);float coneAnglePichRad=velocityConeApertureRad*a_rainParticleData.z;float coneAngleHeadingRad=a_rainParticleData.w*radians(360.0);vec3 localZ=normalize(u_rainDirection);vec3 localX=normalize(cross(localZ,vec3(1,0,0)));vec3 localY=normalize(cross(localZ,localX));vec3 directionLocal;directionLocal.x=cos(coneAngleHeadingRad)*sin(coneAnglePichRad);directionLocal.y=sin(coneAngleHeadingRad)*sin(coneAnglePichRad);directionLocal.z=cos(coneAnglePichRad);directionLocal=normalize(directionLocal);vec3 directionWorld=localX*directionLocal.x+localY*directionLocal.y+localZ*directionLocal.z;float velocityScale=(1.0+3.0*a_rainParticleData.y)*u_velocity;vec3 simPosLocal=vec3(0,0,0);simPosLocal+=directionLocal*velocityScale*u_time;vec3 simPos=localX*simPosLocal.x+
localY*simPosLocal.y+localZ*simPosLocal.z;pos+=simPos;pos=fract((pos+vec3(halfBoxSize))/vec3(u_boxSize))*u_boxSize-vec3(halfBoxSize);vec4 posView=u_modelview*vec4(pos,1.0);vec3 directionView=normalize((u_modelview*vec4(directionWorld,0.0)).xyz);vec3 side=cross(directionView,normalize(posView.xyz));posView.xyz+=side*a_uv.x*u_rainDropletSize.x;posView.xyz+=directionView*a_uv.y*u_rainDropletSize.y;uv=a_uv;particleRandomValue=a_rainParticleData.x;gl_Position=u_projection*posView;}`),vignette:Ya("uniform vec3 u_vignetteShape;uniform vec4 u_vignetteColor;in vec2 st;void main() {float screenDist=length(st);float alpha=clamp((screenDist-u_vignetteShape.x)/u_vignetteShape.y,0.0,1.0);alpha=pow(alpha,u_vignetteShape.z)*u_vignetteColor.a;vec3 color=u_vignetteColor.rgb;glFragColor=vec4(color*alpha,alpha) ;}","in vec2 a_pos_2f;out vec2 st;void main() {st=a_pos_2f;gl_Position=vec4(a_pos_2f,0,1);}"),occlusion:Ya("uniform vec4 u_color;void main() {glFragColor=u_color;}",`#include "_prelude_terrain.vertex.glsl"
in highp vec2 a_offset_xy;uniform highp vec3 u_anchorPos;uniform mat4 u_matrix;uniform vec2 u_screenSizePx;uniform vec2 u_occluderSizePx;void main() {vec3 world_pos=u_anchorPos;
#ifdef TERRAIN
float e=elevation(world_pos.xy);world_pos.z+=e;
#endif
vec4 projected_point=u_matrix*vec4(world_pos,1.0);projected_point.xy+=projected_point.w*a_offset_xy*0.5*u_occluderSizePx/u_screenSizePx;gl_Position=projected_point;}`)};function ec(p,r){const l=p.replace(/\s*\/\/[^\n]*\n/g,`
`).split(`
`);for(let m of l)if(m=m.trim(),m[0]==="#"&&m.includes("if")&&!m.includes("endif")){m=m.replace("#","").replace(/ifdef|ifndef|elif|if/g,"").replace(/!|defined|\(|\)|\|\||&&/g,"").replace(/\s+/g," ").trim();const _=m.split(" ");for(const x of _)r.includes(x)||r.push(x)}}function Ya(p,r){const l=/#include\s+"([^"]+)"/g,m=/#pragma mapbox: ([\w\-]+) ([\w]+) ([\w]+) ([\w]+)/g;let _=r.match(/(attribute(\S*)|(^\s*|;)in) (highp |mediump |lowp )?([\w]+) ([\w]+)/gm);_&&(_=_.map(V=>{const U=V.split(" ");return U[U.length-1]}),_=[...new Set(_)]);const x={},E=[],R=[];if(p=p.replace(l,(V,U)=>(R.push(U),"")),(r=r.replace(l,(V,U)=>(E.push(U),""))).includes("flat out"))return void console.error('The usage of "flat" qualifier is disallowed, see: https://bugs.webkit.org/show_bug.cgi?id=268071');let B=[...Ll];ec(p,B),ec(r,B);for(const V of[...E,...R])Vl[V]||console.error(`Undefined include: ${V}`),Ql[V]||(Ql[V]=[],ec(Vl[V],Ql[V])),B=[...B,...Ql[V]];return{fragmentSource:p=p.replace(m,(V,U,Q,ee,ce)=>(x[ce]=!0,U==="define"?`
#ifndef HAS_UNIFORM_u_${ce}
in ${Q} ${ee} ${ce};
#else
uniform ${Q} ${ee} u_${ce};
#endif
`:U==="initialize"?`
#ifdef HAS_UNIFORM_u_${ce}
    ${Q} ${ee} ${ce} = u_${ce};
#endif
`:U==="define-attribute"?`
#ifdef HAS_ATTRIBUTE_a_${ce}
    in ${Q} ${ee} ${ce};
#endif
`:U==="initialize-attribute"?"":void 0)),vertexSource:r=r.replace(m,(V,U,Q,ee,ce)=>{const Me=ee==="float"?"vec2":ee,Se=ce.match(/color/)?"color":Me;return U==="define-attribute-vertex-shader-only"?`
#ifdef HAS_ATTRIBUTE_a_${ce}
in ${Q} ${ee} a_${ce};
#endif
`:x[ce]?U==="define"?`
#ifndef HAS_UNIFORM_u_${ce}
uniform lowp float u_${ce}_t;
in ${Q} ${Me} a_${ce};
out ${Q} ${ee} ${ce};
#else
uniform ${Q} ${ee} u_${ce};
#endif
`:U==="initialize"?Se==="vec4"?`
#ifndef HAS_UNIFORM_u_${ce}
    ${ce} = a_${ce};
#else
    ${Q} ${ee} ${ce} = u_${ce};
#endif
`:`
#ifndef HAS_UNIFORM_u_${ce}
    ${ce} = unpack_mix_${Se}(a_${ce}, u_${ce}_t);
#else
    ${Q} ${ee} ${ce} = u_${ce};
#endif
`:U==="define-attribute"?`
#ifdef HAS_ATTRIBUTE_a_${ce}
    in ${Q} ${ee} a_${ce};
    out ${Q} ${ee} ${ce};
#endif
`:U==="initialize-attribute"?`
#ifdef HAS_ATTRIBUTE_a_${ce}
    ${ce} = a_${ce};
#endif
`:void 0:U==="define"?`
#ifndef HAS_UNIFORM_u_${ce}
uniform lowp float u_${ce}_t;
in ${Q} ${Me} a_${ce};
#else
uniform ${Q} ${ee} u_${ce};
#endif
`:U==="define-instanced"?Se==="mat4"?`
#ifdef INSTANCED_ARRAYS
in vec4 a_${ce}0;
in vec4 a_${ce}1;
in vec4 a_${ce}2;
in vec4 a_${ce}3;
#else
uniform ${Q} ${ee} u_${ce};
#endif
`:`
#ifdef INSTANCED_ARRAYS
in ${Q} ${Me} a_${ce};
#else
uniform ${Q} ${ee} u_${ce};
#endif
`:U==="initialize-attribute-custom"?`
#ifdef HAS_ATTRIBUTE_a_${ce}
    ${Q} ${ee} ${ce} = a_${ce};
#endif
`:Se==="vec4"?`
#ifndef HAS_UNIFORM_u_${ce}
    ${Q} ${ee} ${ce} = a_${ce};
#else
    ${Q} ${ee} ${ce} = u_${ce};
#endif
`:`
#ifndef HAS_UNIFORM_u_${ce}
    ${Q} ${ee} ${ce} = unpack_mix_${Se}(a_${ce}, u_${ce}_t);
#else
    ${Q} ${ee} ${ce} = u_${ce};
#endif
`}),staticAttributes:_,usedDefines:B,vertexIncludes:E,fragmentIncludes:R}}class sm{constructor(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffers=[],this.vao=null}bind(r,l,m,_,x,E,R,B){this.context=r;let V=this.boundPaintVertexBuffers.length!==_.length;for(let Q=0;!V&&Q<_.length;Q++)this.boundPaintVertexBuffers[Q]!==_[Q]&&(V=!0);let U=this.boundDynamicVertexBuffers.length!==R.length;for(let Q=0;!U&&Q<R.length;Q++)this.boundDynamicVertexBuffers[Q]!==R[Q]&&(U=!0);if(!this.vao||this.boundProgram!==l||this.boundLayoutVertexBuffer!==m||V||U||this.boundIndexBuffer!==x||this.boundVertexOffset!==E)this.freshBind(l,m,_,x,E,R,B);else{r.bindVertexArrayOES.set(this.vao);for(const Q of R)Q&&(Q.bind(),B&&Q.instanceCount&&Q.setVertexAttribDivisor(r.gl,l,B));x&&x.dynamicDraw&&x.bind()}}freshBind(r,l,m,_,x,E,R){const B=r.numAttributes,V=this.context,U=V.gl;this.vao&&this.destroy(),this.vao=V.gl.createVertexArray(),V.bindVertexArrayOES.set(this.vao),this.boundProgram=r,this.boundLayoutVertexBuffer=l,this.boundPaintVertexBuffers=m,this.boundIndexBuffer=_,this.boundVertexOffset=x,this.boundDynamicVertexBuffers=E,l.enableAttributes(U,r),l.bind(),l.setVertexAttribPointers(U,r,x);for(const Q of m)Q.enableAttributes(U,r),Q.bind(),Q.setVertexAttribPointers(U,r,x);for(const Q of E)Q&&(Q.enableAttributes(U,r),Q.bind(),Q.setVertexAttribPointers(U,r,x),R&&Q.instanceCount&&Q.setVertexAttribDivisor(U,r,R));_&&_.bind(),V.currentNumAttributes=B}destroy(){this.vao&&(this.context.gl.deleteVertexArray(this.vao),this.vao=null)}}function pu(p,r){const l=Math.pow(2,r.canonical.z),m=r.canonical.y;return[new c.aa(0,m/l).toLngLat().lat,new c.aa(0,(m+1)/l).toLngLat().lat]}function Jh(p,r,l,m,_,x,E){const R=p.context,B=R.gl,V=l.hillshadeFBO;if(!V)return;p.prepareDrawTile();const U=p.isTileAffectedByFog(r),Q=p.getOrCreateProgram("hillshade",{overrideFog:U});R.activeTexture.set(B.TEXTURE0),B.bindTexture(B.TEXTURE_2D,V.colorAttachment.get());const ee=((Le,Ae,rt,St)=>{const _t=rt.paint.get("hillshade-shadow-color"),Vt=rt.paint.get("hillshade-shadow-color-use-theme").constantOr("default")==="none",Lt=rt.paint.get("hillshade-highlight-color"),Bt=rt.paint.get("hillshade-highlight-color-use-theme").constantOr("default")==="none",Dt=rt.paint.get("hillshade-accent-color"),rn=rt.paint.get("hillshade-accent-color-use-theme").constantOr("default")==="none",xn=rt.paint.get("hillshade-emissive-strength");let dr=c.ai(rt.paint.get("hillshade-illumination-direction"));if(rt.paint.get("hillshade-illumination-anchor")==="viewport")dr-=Le.transform.angle;else if(Le.style&&Le.style.enable3dLights()&&Le.style.directionalLight){const Br=Le.style.directionalLight.properties.get("direction"),Ar=c.cb(Br.x,Br.y,Br.z);dr=c.ai(Ar[1])}const Jn=!Le.options.moving;return{u_matrix:St||Le.transform.calculateProjMatrix(Ae.tileID.toUnwrapped(),Jn),u_image:0,u_latrange:pu(0,Ae.tileID),u_light:[rt.paint.get("hillshade-exaggeration"),dr],u_shadow:_t.toRenderColor(Vt?null:rt.lut),u_highlight:Lt.toRenderColor(Bt?null:rt.lut),u_emissive_strength:xn,u_accent:Dt.toRenderColor(rn?null:rt.lut)}})(p,l,m,p.terrain?r.projMatrix:null);p.uploadCommonUniforms(R,Q,r.toUnwrapped());const{tileBoundsBuffer:ce,tileBoundsIndexBuffer:Me,tileBoundsSegments:Se}=p.getTileBoundsBuffers(l);Q.draw(p,B.TRIANGLES,_,x,E,ia.disabled,ee,m.id,ce,Me,Se)}function Pd(p,r,l){if(!r.needsDEMTextureUpload)return;const m=p.context,_=m.gl;m.pixelStoreUnpackPremultiplyAlpha.set(!1),r.demTexture=r.demTexture||p.getTileTexture(l.stride);const x=l.getPixels();r.demTexture?r.demTexture.update(x,{premultiply:!1}):r.demTexture=new c.T(m,x,_.R32F,{premultiply:!1}),r.needsDEMTextureUpload=!1}function cd(p,r,l){const m=p.context,_=m.gl;if(!r.dem)return;const x=r.dem;if(m.activeTexture.set(_.TEXTURE1),Pd(p,r,x),!r.demTexture)return;r.demTexture.bind(_.NEAREST,_.CLAMP_TO_EDGE);const E=x.dim;m.activeTexture.set(_.TEXTURE0);let R=r.hillshadeFBO;if(!R){const ee=new c.T(m,{width:E,height:E,data:null},_.RGBA8);ee.bind(_.LINEAR,_.CLAMP_TO_EDGE),R=r.hillshadeFBO=m.createFramebuffer(E,E,!0,"renderbuffer"),R.colorAttachment.set(ee.texture)}m.bindFramebuffer.set(R.framebuffer),m.viewport.set([0,0,E,E]);const{tileBoundsBuffer:B,tileBoundsIndexBuffer:V,tileBoundsSegments:U}=p.getMercatorTileBoundsBuffers(),Q=[];p.linearFloatFilteringSupported()&&Q.push("TERRAIN_DEM_FLOAT_FORMAT"),p.getOrCreateProgram("hillshadePrepare",{defines:Q}).draw(p,_.TRIANGLES,Fo.disabled,Qo.disabled,sa.unblended,ia.disabled,((ee,ce)=>{const Me=ce.stride,Se=c.ab.mat4.create();return c.ab.mat4.ortho(Se,0,c.ag,-c.ag,0,0,1),c.ab.mat4.translate(Se,Se,[0,-c.ag,0]),{u_matrix:Se,u_image:1,u_dimension:[Me,Me],u_zoom:ee.overscaledZ}})(r.tileID,x),l.id,B,V,U),r.needsHillshadePrepare=!1}class Hs{constructor(r){this.gl=r.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1}get(){return this.current}set(r){}getDefault(){return this.default}setDefault(){this.set(this.default)}}class Vu extends Hs{getDefault(){return c.aj.transparent}set(r){const l=this.current;(r.r!==l.r||r.g!==l.g||r.b!==l.b||r.a!==l.a||this.dirty)&&(this.gl.clearColor(r.r,r.g,r.b,r.a),this.current=r,this.dirty=!1)}}class Xf extends Hs{getDefault(){return 1}set(r){(r!==this.current||this.dirty)&&(this.gl.clearDepth(r),this.current=r,this.dirty=!1)}}class Od extends Hs{getDefault(){return 0}set(r){(r!==this.current||this.dirty)&&(this.gl.clearStencil(r),this.current=r,this.dirty=!1)}}class of extends Hs{getDefault(){return[!0,!0,!0,!0]}set(r){const l=this.current;(r[0]!==l[0]||r[1]!==l[1]||r[2]!==l[2]||r[3]!==l[3]||this.dirty)&&(this.gl.colorMask(r[0],r[1],r[2],r[3]),this.current=r,this.dirty=!1)}}class af extends Hs{getDefault(){return!0}set(r){(r!==this.current||this.dirty)&&(this.gl.depthMask(r),this.current=r,this.dirty=!1)}}class sf extends Hs{getDefault(){return 255}set(r){(r!==this.current||this.dirty)&&(this.gl.stencilMask(r),this.current=r,this.dirty=!1)}}class Rd extends Hs{getDefault(){return{func:this.gl.ALWAYS,ref:0,mask:255}}set(r){const l=this.current;(r.func!==l.func||r.ref!==l.ref||r.mask!==l.mask||this.dirty)&&(this.gl.stencilFunc(r.func,r.ref,r.mask),this.current=r,this.dirty=!1)}}class ud extends Hs{getDefault(){const r=this.gl;return[r.KEEP,r.KEEP,r.KEEP]}set(r){const l=this.current;(r[0]!==l[0]||r[1]!==l[1]||r[2]!==l[2]||this.dirty)&&(this.gl.stencilOp(r[0],r[1],r[2]),this.current=r,this.dirty=!1)}}class $d extends Hs{getDefault(){return!1}set(r){if(r===this.current&&!this.dirty)return;const l=this.gl;r?l.enable(l.STENCIL_TEST):l.disable(l.STENCIL_TEST),this.current=r,this.dirty=!1}}class Yf extends Hs{getDefault(){return[0,1]}set(r){const l=this.current;(r[0]!==l[0]||r[1]!==l[1]||this.dirty)&&(this.gl.depthRange(r[0],r[1]),this.current=r,this.dirty=!1)}}class Ul extends Hs{getDefault(){return!1}set(r){if(r===this.current&&!this.dirty)return;const l=this.gl;r?l.enable(l.DEPTH_TEST):l.disable(l.DEPTH_TEST),this.current=r,this.dirty=!1}}class qf extends Hs{getDefault(){return this.gl.LESS}set(r){(r!==this.current||this.dirty)&&(this.gl.depthFunc(r),this.current=r,this.dirty=!1)}}class Ad extends Hs{getDefault(){return!1}set(r){if(r===this.current&&!this.dirty)return;const l=this.gl;r?l.enable(l.BLEND):l.disable(l.BLEND),this.current=r,this.dirty=!1}}class Jf extends Hs{getDefault(){const r=this.gl;return[r.ONE,r.ZERO,r.ONE,r.ZERO]}set(r){const l=this.current;(r[0]!==l[0]||r[1]!==l[1]||r[2]!==l[2]||r[3]!==l[3]||this.dirty)&&(this.gl.blendFuncSeparate(r[0],r[1],r[2],r[3]),this.current=r,this.dirty=!1)}}class Qf extends Hs{getDefault(){return c.aj.transparent}set(r){const l=this.current;(r.r!==l.r||r.g!==l.g||r.b!==l.b||r.a!==l.a||this.dirty)&&(this.gl.blendColor(r.r,r.g,r.b,r.a),this.current=r,this.dirty=!1)}}class eh extends Hs{getDefault(){return this.gl.FUNC_ADD}set(r){(r!==this.current||this.dirty)&&(this.gl.blendEquationSeparate(r,r),this.current=r,this.dirty=!1)}}class th extends Hs{getDefault(){return!1}set(r){if(r===this.current&&!this.dirty)return;const l=this.gl;r?l.enable(l.CULL_FACE):l.disable(l.CULL_FACE),this.current=r,this.dirty=!1}}class nh extends Hs{getDefault(){return this.gl.BACK}set(r){(r!==this.current||this.dirty)&&(this.gl.cullFace(r),this.current=r,this.dirty=!1)}}class Tu extends Hs{getDefault(){return this.gl.CCW}set(r){(r!==this.current||this.dirty)&&(this.gl.frontFace(r),this.current=r,this.dirty=!1)}}let Dd=class extends Hs{getDefault(){return null}set(p){(p!==this.current||this.dirty)&&(this.gl.useProgram(p),this.current=p,this.dirty=!1)}};class lm extends Hs{getDefault(){return this.gl.TEXTURE0}set(r){(r!==this.current||this.dirty)&&(this.gl.activeTexture(r),this.current=r,this.dirty=!1)}}class rh extends Hs{getDefault(){const r=this.gl;return[0,0,r.drawingBufferWidth,r.drawingBufferHeight]}set(r){const l=this.current;(r[0]!==l[0]||r[1]!==l[1]||r[2]!==l[2]||r[3]!==l[3]||this.dirty)&&(this.gl.viewport(r[0],r[1],r[2],r[3]),this.current=r,this.dirty=!1)}}class Hu extends Hs{getDefault(){return null}set(r){if(r===this.current&&!this.dirty)return;const l=this.gl;l.bindFramebuffer(l.FRAMEBUFFER,r),this.current=r,this.dirty=!1}}class ih extends Hs{getDefault(){return null}set(r){if(r===this.current&&!this.dirty)return;const l=this.gl;l.bindRenderbuffer(l.RENDERBUFFER,r),this.current=r,this.dirty=!1}}class cm extends Hs{getDefault(){return null}set(r){if(r===this.current&&!this.dirty)return;const l=this.gl;l.bindTexture(l.TEXTURE_2D,r),this.current=r,this.dirty=!1}}class um extends Hs{getDefault(){return null}set(r){if(r===this.current&&!this.dirty)return;const l=this.gl;l.bindBuffer(l.ARRAY_BUFFER,r),this.current=r,this.dirty=!1}}class dm extends Hs{getDefault(){return null}set(r){const l=this.gl;l.bindBuffer(l.ELEMENT_ARRAY_BUFFER,r),this.current=r,this.dirty=!1}}class oh extends Hs{getDefault(){return null}set(r){this.gl&&(r!==this.current||this.dirty)&&(this.gl.bindVertexArray(r),this.current=r,this.dirty=!1)}}class Qh extends Hs{getDefault(){return 4}set(r){if(r===this.current&&!this.dirty)return;const l=this.gl;l.pixelStorei(l.UNPACK_ALIGNMENT,r),this.current=r,this.dirty=!1}}class ah extends Hs{getDefault(){return!1}set(r){if(r===this.current&&!this.dirty)return;const l=this.gl;l.pixelStorei(l.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r),this.current=r,this.dirty=!1}}class sh extends Hs{getDefault(){return!1}set(r){if(r===this.current&&!this.dirty)return;const l=this.gl;l.pixelStorei(l.UNPACK_FLIP_Y_WEBGL,r),this.current=r,this.dirty=!1}}class mu extends Hs{constructor(r,l){super(r),this.context=r,this.parent=l}getDefault(){return null}}class wn extends mu{setDirty(){this.dirty=!0}set(r){if(r===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const l=this.gl;l.framebufferTexture2D(l.FRAMEBUFFER,l.COLOR_ATTACHMENT0,l.TEXTURE_2D,r,0),this.current=r,this.dirty=!1}}class zr extends mu{attachment(){return this.gl.DEPTH_ATTACHMENT}set(r){if(r===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const l=this.gl;l.framebufferRenderbuffer(l.FRAMEBUFFER,this.attachment(),l.RENDERBUFFER,r),this.current=r,this.dirty=!1}}class oo extends mu{attachment(){return this.gl.DEPTH_ATTACHMENT}set(r){if(r===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const l=this.gl;l.framebufferTexture2D(l.FRAMEBUFFER,this.attachment(),l.TEXTURE_2D,r,0),this.current=r,this.dirty=!1}}class ma extends zr{attachment(){return this.gl.DEPTH_STENCIL_ATTACHMENT}}const el=(p,r,l)=>({u_matrix:p,u_image0:0,u_skirt_height:r,u_ground_shadow_factor:l}),os=(p,r,l,m,_,x,E,R,B,V,U,Q,ee,ce,Me,Se)=>({u_proj_matrix:Float32Array.from(p),u_globe_matrix:r,u_normalize_matrix:Float32Array.from(m),u_merc_matrix:l,u_zoom_transition:_,u_merc_center:x,u_image0:0,u_frustum_tl:E,u_frustum_tr:R,u_frustum_br:B,u_frustum_bl:V,u_globe_pos:U,u_globe_radius:Q,u_viewport:ee,u_grid_matrix:Se?Float32Array.from(Se):new Float32Array(9),u_skirt_height:ce,u_far_z_cutoff:Me});function xl(p,r){return p!=null&&r!=null&&!(!p.hasData()||!r.hasData())&&p.demTexture!=null&&r.demTexture!=null&&p.tileID.key!==r.tileID.key}const Us=new class{constructor(){this.operations={}}newMorphing(p,r,l,m,_){if(p in this.operations){const x=this.operations[p];x.to.tileID.key!==l.tileID.key&&(x.queued=l)}else this.operations[p]={startTime:m,phase:0,duration:_,from:r,to:l,queued:null}}getMorphValuesForProxy(p){if(!(p in this.operations))return null;const r=this.operations[p];return{from:r.from,to:r.to,phase:r.phase}}update(p){for(const r in this.operations){const l=this.operations[r];for(l.phase=(p-l.startTime)/l.duration;l.phase>=1||!this._validOp(l);)if(!this._nextOp(l,p)){delete this.operations[r];break}}}_nextOp(p,r){return!!p.queued&&(p.from=p.to,p.to=p.queued,p.queued=null,p.phase=0,p.startTime=r,!0)}_validOp(p){return p.from.hasData()&&p.to.hasData()}},tc={0:null,1:"TERRAIN_VERTEX_MORPHING"};function tl(p,r,l){if(r===0)return 0;const m=r<1&&l===514?.25/r:1;return 6*Math.pow(1.5,22-p)*Math.max(r,1)*m}function Zc(p,r){const l=1<<p.z;return!r&&(p.x===0||p.x===l-1)||p.y===0||p.y===l-1}const _c=p=>({u_matrix:p});function Pl(p,r,l,m,_){if(_>0){const x=c.q.now(),E=(x-p.timeAdded)/_,R=r?(x-r.timeAdded)/_:-1,B=l.getSource(),V=m.coveringZoomLevel({tileSize:B.tileSize,roundZoom:B.roundZoom}),U=!r||Math.abs(r.tileID.overscaledZ-V)>Math.abs(p.tileID.overscaledZ-V),Q=U&&p.refreshedUponExpiration?1:c.aw(U?E:1-R,0,1);return p.refreshedUponExpiration&&E>=1&&(p.refreshedUponExpiration=!1),r?{opacity:1,mix:1-Q}:{opacity:Q,mix:0}}return{opacity:1,mix:0}}class Jc extends K{constructor(r){const l={type:"raster-dem",maxzoom:r.transform.maxZoom},m=new c.D(c.ci(),null),_=qt("mock-dem",l,m,r.style);super("mock-dem",_,!1),_.setEventedParent(this),this._sourceLoaded=!0}_loadTile(r,l){r.state="loaded",l(null)}}class bc extends K{constructor(r){const l=qt("proxy",{type:"geojson",maxzoom:r.transform.maxZoom},new c.D(c.ci(),null),r.style);super("proxy",l,!1),l.setEventedParent(this),this.map=this.getSource().map=r,this.used=this._sourceLoaded=!0,this.renderCache=[],this.renderCachePool=[],this.proxyCachedFBO={}}update(r,l,m){if(r.freezeTileCoverage)return;this.transform=r;const _=r.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}).reduce((x,E)=>{if(x[E.key]="",!this._tiles[E.key]){const R=new na(E,this._source.tileSize*E.overscaleFactor(),r.tileZoom);R.state="loaded",this._tiles[E.key]=R}return x},{});for(const x in this._tiles)x in _||(this.freeFBO(x),this._tiles[x].unloadVectorData(),delete this._tiles[x])}freeFBO(r){const l=this.proxyCachedFBO[r];if(l!==void 0){const m=Object.values(l);this.renderCachePool.push(...m),delete this.proxyCachedFBO[r]}}deallocRenderCache(){this.renderCache.forEach(r=>r.fb.destroy()),this.renderCache=[],this.renderCachePool=[],this.proxyCachedFBO={}}}class zc extends c.aG{constructor(r,l,m){super(r.overscaledZ,r.wrap,r.canonical.z,r.canonical.x,r.canonical.y),this.proxyTileKey=l,this.projMatrix=m}}class Nc extends c.cJ{constructor(r,l){super(),this._debugParams={sortTilesHiZFirst:!0,disableRenderCache:!1},r.tp.registerParameter(this._debugParams,["Terrain"],"sortTilesHiZFirst",{},()=>{this._style.map.triggerRepaint()}),r.tp.registerParameter(this._debugParams,["Terrain"],"disableRenderCache",{},()=>{this._style.map.triggerRepaint()}),r.tp.registerButton(["Terrain"],"Invalidate Render Cache",()=>{this.invalidateRenderCache=!0,this._style.map.triggerRepaint()}),this.painter=r,this.terrainTileForTile={},this.prevTerrainTileForTile={};const[m,_,x]=function(B){const V=new c.b4,U=new c.aU,Q=131;V.reserve(17161),U.reserve(33800);const ee=c.ag/128,ce=c.ag+ee/2,Me=ce+ee;for(let Le=-ee;Le<Me;Le+=ee)for(let Ae=-ee;Ae<Me;Ae+=ee){const rt=Ae<0||Ae>ce||Le<0||Le>ce?24575:0,St=c.aw(Math.round(Ae),0,c.ag),_t=c.aw(Math.round(Le),0,c.ag);V.emplaceBack(St+rt,_t)}const Se=(Le,Ae)=>{const rt=Ae*Q+Le;U.emplaceBack(rt+1,rt,rt+Q),U.emplaceBack(rt+Q,rt+Q+1,rt+1)};for(let Le=1;Le<129;Le++)for(let Ae=1;Ae<129;Ae++)Se(Ae,Le);return[0,129].forEach(Le=>{for(let Ae=0;Ae<130;Ae++)Se(Ae,Le),Se(Le,Ae)}),[V,U,32768]}(),E=r.context;this.gridBuffer=E.createVertexBuffer(m,c.b6.members),this.gridIndexBuffer=E.createIndexBuffer(_),this.gridSegments=c.b7.simpleSegment(0,0,m.length,_.length),this.gridNoSkirtSegments=c.b7.simpleSegment(0,0,m.length,x),this.proxyCoords=[],this.proxiedCoords={},this._visibleDemTiles=[],this._drapedRenderBatches=[],this._sourceTilesOverlap={},this.proxySourceCache=new bc(l.map),this.orthoMatrix=c.ab.mat4.create(),c.ab.mat4.ortho(this.orthoMatrix,this.painter.transform.projection.name==="globe"?.015:0,c.ag,0,c.ag,0,1);const R=E.gl;this._overlapStencilMode=new Qo({func:R.GEQUAL,mask:255},0,255,R.KEEP,R.KEEP,R.REPLACE),this._previousZoom=r.transform.zoom,this.pool=[],this._findCoveringTileCache={},this._tilesDirty={},this.style=l,this._useVertexMorphing=!0,this._exaggeration=1,this._mockSourceCache=new Jc(l.map),this._pendingGroundEffectLayers=[]}set style(r){r.on("data",this._onStyleDataEvent.bind(this)),this._style=r,this._style.map.on("moveend",()=>{this._clearLineLayersFromRenderCache()})}update(r,l,m){if(r&&r.terrain){this._style!==r&&(this.style=r,this._evaluationZoom=void 0);const _=r.terrain.properties,x=r.terrain.drapeRenderMode===0,E=r.terrain.isZoomDependent();this._previousUpdateTimestamp=this.enabled?this._updateTimestamp:void 0,this._updateTimestamp=c.q.now();const R=r.terrain&&r.terrain.scope,B=_.get("source"),V=x?this._mockSourceCache:r.getSourceCache(B,R);if(!V)return void c.w(`Couldn't find terrain source "${B}".`);if(this.sourceCache=V,this._attenuationRange=r.terrain.getAttenuationRange(),this._exaggeration=E?this.calculateExaggeration(l):_.get("exaggeration"),!l.projection.requiresDraping&&E&&this._exaggeration===0)return void this._disable();this.enabled=!0;const U=()=>{this.sourceCache.used&&c.w(`Raster DEM source '${this.sourceCache.id}' is used both for terrain and as layer source.
This leads to lower resolution of hillshade. For full hillshade resolution but higher memory consumption, define another raster DEM source.`);const Q=this.getScaledDemTileSize();this.sourceCache.update(l,Q,!0),this.resetTileLookupCache(this.sourceCache.id)};this.sourceCache.usedForTerrain||(this.resetTileLookupCache(this.sourceCache.id),this.sourceCache.usedForTerrain=!0,U(),this._initializing=!0),U(),l.updateElevation(!0,m),this.resetTileLookupCache(this.proxySourceCache.id),this.proxySourceCache.update(l),this._emptyDEMTextureDirty=!0,this._previousZoom=l.zoom}else this._disable()}calculateExaggeration(r){if(this._attenuationRange&&r.zoom>=Math.ceil(this._attenuationRange[1]))return this._style.terrain.getExaggeration(r.zoom);const l=this._previousCameraAltitude,m=r.getFreeCameraOptions().position.z/r.pixelsPerMeter*r.worldSize;this._previousCameraAltitude=m;const _=l!=null?m-l:Number.MAX_VALUE;if(Math.abs(_)<2)return this._exaggeration;const x=r.zoom,E=this._style.terrain;if(!this._previousUpdateTimestamp)return E.getExaggeration(x);let R=x-this._previousZoom;const B=this._previousUpdateTimestamp;let V=x;this._evaluationZoom!=null&&(V=this._evaluationZoom,Math.abs(x-V)>.5&&(R=.5*(x-V+R)),R*_<0&&(V+=R)),this._evaluationZoom=V;const U=E.getExaggeration(V),Q=U===E.getExaggeration(Math.max(0,V-.1));if(Q&&Math.abs(U-this._exaggeration)<.01)return U;let ee=Math.min(.1,.00375*(this._updateTimestamp-B));return(Q||U<.1||Math.abs(R)<1e-4)&&(ee=Math.min(.2,4*ee)),c.af(this._exaggeration,U,ee)}resetTileLookupCache(r){this._findCoveringTileCache[r]={}}attenuationRange(){return this._attenuationRange}getDemUpscale(){return this.proxySourceCache.getSource().tileSize/128}getScaledDemTileSize(){return this.sourceCache.getSource().tileSize/128*this.proxySourceCache.getSource().tileSize}_onStyleDataEvent(r){r.coord&&r.dataType==="source"?this._clearRenderCacheForTile(r.sourceCacheId,r.coord):r.dataType==="style"&&(this.invalidateRenderCache=!0,this._evaluationZoom=void 0,this._previousUpdateTimestamp=void 0,this._previousCameraAltitude=void 0)}_disable(){if(this.enabled&&(this.enabled=!1,this._emptyDEMTextureDirty=!0,this._sharedDepthStencil=void 0,this._evaluationZoom=void 0,this._previousUpdateTimestamp=void 0,this.proxySourceCache.deallocRenderCache(),this._style))for(const r in this._style._mergedSourceCaches)this._style._mergedSourceCaches[r].usedForTerrain=!1}destroy(){this._disable(),this._emptyDEMTexture&&this._emptyDEMTexture.destroy(),this.pool.forEach(r=>r.fb.destroy()),this.pool=[],this.framebufferCopyTexture&&this.framebufferCopyTexture.destroy()}_source(){return this.enabled?this.sourceCache:null}isUsingMockSource(){return this.sourceCache===this._mockSourceCache}exaggeration(){return this.enabled?this._exaggeration:0}get visibleDemTiles(){return this._visibleDemTiles}get drapeBufferSize(){const r=2*this.proxySourceCache.getSource().tileSize;return[r,r]}set useVertexMorphing(r){this._useVertexMorphing=r}updateTileBinding(r){if(!this.enabled)return;this.prevTerrainTileForTile=this.terrainTileForTile;const l=this.proxySourceCache,m=this.painter.transform;this._initializing&&(this._initializing=m._centerAltitude===0&&this.getAtPointOrZero(c.aa.fromLngLat(m.center),-1)===-1,this._emptyDEMTextureDirty=!this._initializing);const _=this.proxyCoords=l.getIds().map(B=>{const V=l.getTileByID(B).tileID;return V.projMatrix=m.calculateProjMatrix(V.toUnwrapped()),V});(function(B,V){const U=V.transform.pointCoordinate(V.transform.getCameraPoint()),Q=new c.P(U.x,U.y);B.sort((ee,ce)=>{if(ce.overscaledZ-ee.overscaledZ)return ce.overscaledZ-ee.overscaledZ;const Me=new c.P(ee.canonical.x+(1<<ee.canonical.z)*ee.wrap,ee.canonical.y),Se=new c.P(ce.canonical.x+(1<<ce.canonical.z)*ce.wrap,ce.canonical.y),Le=Q.mult(1<<ee.canonical.z);return Le.x-=.5,Le.y-=.5,Le.distSqr(Me)-Le.distSqr(Se)})})(_,this.painter);const x=this.proxyToSource||{};this.proxyToSource={},_.forEach(B=>{this.proxyToSource[B.key]={}}),this.terrainTileForTile={};const E=this._style._mergedSourceCaches;for(const B in E){const V=E[B];if(!V.used||(V!==this.sourceCache&&this.resetTileLookupCache(V.id),this._setupProxiedCoordsForOrtho(V,r[B],x),V.usedForTerrain))continue;const U=r[B];V.getSource().reparseOverscaled&&this._assignTerrainTiles(U)}this.proxiedCoords[l.id]=_.map(B=>new zc(B,B.key,this.orthoMatrix)),this._assignTerrainTiles(_),this._prepareDEMTextures(),this._setupDrapedRenderBatches(),this._initFBOPool(),this._setupRenderCache(x),this.renderingToTexture=!1;const R={};this._visibleDemTiles=[];for(const B of this.proxyCoords){const V=this.terrainTileForTile[B.key];if(!V)continue;const U=V.tileID.key;U in R||(this._visibleDemTiles.push(V),R[U]=U)}}_assignTerrainTiles(r){this._initializing||r.forEach(l=>{if(this.terrainTileForTile[l.key])return;const m=this._findTileCoveringTileID(l,this.sourceCache);m&&(this.terrainTileForTile[l.key]=m)})}_prepareDEMTextures(){const r=this.painter.context,l=r.gl;for(const m in this.terrainTileForTile){const _=this.terrainTileForTile[m],x=_.dem;!x||_.demTexture&&!_.needsDEMTextureUpload||(r.activeTexture.set(l.TEXTURE1),Pd(this.painter,_,x))}}_prepareDemTileUniforms(r,l,m,_){if(!l||l.demTexture==null)return!1;const x=r.tileID.canonical,E=Math.pow(2,l.tileID.canonical.z-x.z),R=_||"";return m[`u_dem_tl${R}`]=[x.x*E%1,x.y*E%1],m[`u_dem_scale${R}`]=E,!0}get emptyDEMTexture(){return!this._emptyDEMTextureDirty&&this._emptyDEMTexture?this._emptyDEMTexture:this._updateEmptyDEMTexture()}_getLoadedAreaMinimum(){if(!this.enabled)return 0;let r=0;const l=this._visibleDemTiles.reduce((m,_)=>{if(!_.dem)return m;const x=_.dem.tree.minimums[0];return x>0&&r++,m+x},0);return r?l/r:0}_updateEmptyDEMTexture(){const r=this.painter.context,l=r.gl;r.activeTexture.set(l.TEXTURE2);const m=this._getLoadedAreaMinimum(),_=new c.cK({width:1,height:1},new Float32Array([m]));this._emptyDEMTextureDirty=!1;let x=this._emptyDEMTexture;return x?x.update(_,{premultiply:!1}):x=this._emptyDEMTexture=new c.T(r,_,l.R32F,{premultiply:!1}),x}setupElevationDraw(r,l,m){const _=this.painter.context,x=_.gl,E={u_dem:2,u_dem_prev:4,u_dem_tl:[0,0],u_dem_tl_prev:[0,0],u_dem_scale:0,u_dem_scale_prev:0,u_dem_size:0,u_dem_lerp:1,u_depth:3,u_depth_size_inv:[0,0],u_depth_range_unpack:[0,1],u_occluder_half_size:16,u_occlusion_depth_offset:-1e-4,u_exaggeration:0};E.u_exaggeration=this.exaggeration();let R=null,B=null,V=1;if(m&&m.morphing&&this._useVertexMorphing){const ce=m.morphing.srcDemTile,Me=m.morphing.dstDemTile;V=m.morphing.phase,ce&&Me&&(this._prepareDemTileUniforms(r,ce,E,"_prev")&&(B=ce),this._prepareDemTileUniforms(r,Me,E)&&(R=Me))}const U=ce=>ce&&ce.demTexture&&this.painter.linearFloatFilteringSupported()?x.LINEAR:x.NEAREST;let Q=null;var ee;if(this.enabled?B&&R?(Q=R.demTexture,_.activeTexture.set(x.TEXTURE4),B.demTexture.bind(U(B),x.CLAMP_TO_EDGE),E.u_dem_lerp=V):(R=this.terrainTileForTile[r.tileID.key],Q=this._prepareDemTileUniforms(r,R,E)?R.demTexture:this.emptyDEMTexture):Q=this.emptyDEMTexture,_.activeTexture.set(x.TEXTURE2),Q&&(E.u_dem_size=(ee=Q).size[0]===1?1:ee.size[0]-2,Q.bind(U(R),x.CLAMP_TO_EDGE)),this.painter.setupDepthForOcclusion(m&&m.useDepthForOcclusion,l,E),m&&m.useMeterToDem&&R){const ce=(1<<R.tileID.canonical.z)*c.bH(1,this.painter.transform.center.lat)*this.sourceCache.getSource().tileSize;E.u_meter_to_dem=ce}if(m&&m.labelPlaneMatrixInv&&(E.u_label_plane_matrix_inv=m.labelPlaneMatrixInv),l.setTerrainUniformValues(_,E),this.painter.transform.projection.name==="globe"){const ce=this.globeUniformValues(this.painter.transform,r.tileID.canonical,m&&m.useDenormalizedUpVectorScale);l.setGlobeUniformValues(_,ce)}}globeUniformValues(r,l,m){const _=r.projection;return{u_tile_tl_up:_.upVector(l,0,0),u_tile_tr_up:_.upVector(l,c.ag,0),u_tile_br_up:_.upVector(l,c.ag,c.ag),u_tile_bl_up:_.upVector(l,0,c.ag),u_tile_up_scale:m?c.cL(1):_.upVectorScale(l,r.center.lat,r.worldSize).metersToTile}}renderToBackBuffer(r){const l=this.painter,m=this.painter.context;r.length!==0&&(m.bindFramebuffer.set(null),m.viewport.set([0,0,l.width,l.height]),l.gpuTimingDeferredRenderStart(),this.renderingToTexture=!1,function(_,x,E,R,B){if(_.transform.projection.name==="globe")(function(V,U,Q,ee,ce){const Me=V.context,Se=Me.gl;let Le,Ae;const rt=V.transform,St=c.cC(V,Me,rt),_t=(Br,Ar)=>{if(Ae===Ar)return;const Zn=[tc[Ar],"PROJECTION_GLOBE_VIEW"];St&&Zn.push("CUSTOM_ANTIALIASING");const vr=V.isTileAffectedByFog(Br);Le=V.getOrCreateProgram("globeRaster",{defines:Zn,overrideFog:vr}),Ae=Ar},Vt=V.colorModeForRenderPass(),Lt=new Fo(Se.LEQUAL,Fo.ReadWrite,V.depthRangeFor3D);Us.update(ce);const Bt=c.cD(rt),Dt=[c.at(rt.center.lng),c.aA(rt.center.lat)],rn=V.globeSharedBuffers,xn=[rt.width*c.q.devicePixelRatio,rt.height*c.q.devicePixelRatio],dr=Float32Array.from(rt.globeMatrix),Jn={useDenormalizedUpVectorScale:!0};{const Br=V.transform,Ar=tl(Br.zoom,U.exaggeration(),U.sourceCache._source.tileSize);Ae=-1;const Zn=Se.TRIANGLES;for(const vr of ee){const oi=Q.getTile(vr),jn=Qo.disabled,Vr=U.prevTerrainTileForTile[vr.key],_r=U.terrainTileForTile[vr.key];xl(Vr,_r)&&Us.newMorphing(vr.key,Vr,_r,ce,250),Me.activeTexture.set(Se.TEXTURE0),oi.texture&&oi.texture.bind(Se.LINEAR,Se.CLAMP_TO_EDGE);const $i=Us.getMorphValuesForProxy(vr.key),ti=$i?1:0;$i&&c.J(Jn,{morphing:{srcDemTile:$i.from,dstDemTile:$i.to,phase:c.cB($i.phase)}});const jr=c.cE(vr.canonical),Ci=c.cF(jr.getCenter().lat),Li=c.cG(vr.canonical,jr,Ci,Br.worldSize/Br._pixelsPerMercatorPixel),ro=c.bb(c.cH(vr.canonical)),vo=os(Br.expandedFarZProjMatrix,dr,Bt,ro,c.ae(Br.zoom),Dt,Br.frustumCorners.TL,Br.frustumCorners.TR,Br.frustumCorners.BR,Br.frustumCorners.BL,Br.globeCenterInViewSpace,Br.globeRadius,xn,Ar,Br._farZ,Li);if(_t(vr,ti),Le&&(U.setupElevationDraw(oi,Le,Jn),V.uploadCommonUniforms(Me,Le,vr.toUnwrapped()),rn)){const[la,Wo,Ko]=rn.getGridBuffers(Ci,Ar!==0);Le.draw(V,Zn,Lt,jn,Vt,ia.backCCW,vo,"globe_raster",la,Wo,Ko)}}}if(rn&&(V.renderDefaultNorthPole||V.renderDefaultSouthPole)){const Br=["GLOBE_POLES","PROJECTION_GLOBE_VIEW"];St&&Br.push("CUSTOM_ANTIALIASING"),Le=V.getOrCreateProgram("globeRaster",{defines:Br});for(const Ar of ee){const{x:Zn,y:vr,z:oi}=Ar.canonical,jn=vr===0,Vr=vr===(1<<oi)-1,[_r,$i,ti,jr]=rn.getPoleBuffers(oi,!1);if(jr&&(jn||Vr)){const Ci=Q.getTile(Ar);Me.activeTexture.set(Se.TEXTURE0),Ci.texture&&Ci.texture.bind(Se.LINEAR,Se.CLAMP_TO_EDGE);let Li=c.cI(oi,Zn,rt);const ro=c.bb(c.cH(Ar.canonical)),vo=(la,Wo)=>la.draw(V,Se.TRIANGLES,Lt,Qo.disabled,Vt,ia.disabled,os(rt.expandedFarZProjMatrix,Li,Li,ro,0,Dt,rt.frustumCorners.TL,rt.frustumCorners.TR,rt.frustumCorners.BR,rt.frustumCorners.BL,rt.globeCenterInViewSpace,rt.globeRadius,xn,0,rt._farZ),"globe_pole_raster",Wo,ti,jr);U.setupElevationDraw(Ci,Le,Jn),V.uploadCommonUniforms(Me,Le,Ar.toUnwrapped()),jn&&V.renderDefaultNorthPole&&vo(Le,_r),Vr&&V.renderDefaultSouthPole&&(Li=c.ab.mat4.scale(c.ab.mat4.create(),Li,[1,-1,1]),vo(Le,$i))}}}})(_,x,E,R,B);else{const V=_.context,U=V.gl;let Q,ee;const ce=_.shadowRenderer,Me=on(_,_.longestCutoffRange),Se=Vt=>{if(ee===Vt)return;const Lt=[];Lt.push(tc[Vt]),Me.shouldRenderCutoff&&Lt.push("RENDER_CUTOFF"),ce&&(Lt.push("RENDER_SHADOWS","DEPTH_TEXTURE"),ce.useNormalOffset&&Lt.push("NORMAL_OFFSET")),Q=_.getOrCreateProgram("terrainRaster",{defines:Lt}),ee=Vt},Le=_.colorModeForRenderPass(),Ae=new Fo(U.LEQUAL,Fo.ReadWrite,_.depthRangeFor3D);Us.update(B);const rt=_.transform,St=tl(rt.zoom,x.exaggeration(),x.sourceCache._source.tileSize);let _t=[0,0,0];if(ce){const Vt=_.style.directionalLight,Lt=_.style.ambientLight;Vt&&Lt&&(_t=Ji(_.style,Vt,Lt))}{ee=-1;const Vt=U.TRIANGLES,[Lt,Bt]=[x.gridIndexBuffer,x.gridSegments];for(const Dt of R){const rn=E.getTile(Dt),xn=Qo.disabled,dr=x.prevTerrainTileForTile[Dt.key],Jn=x.terrainTileForTile[Dt.key];xl(dr,Jn)&&Us.newMorphing(Dt.key,dr,Jn,B,250),V.activeTexture.set(U.TEXTURE0),rn.texture&&rn.texture.bind(U.LINEAR,U.CLAMP_TO_EDGE);const Br=Us.getMorphValuesForProxy(Dt.key),Ar=Br?1:0;let Zn;Br&&(Zn={morphing:{srcDemTile:Br.from,dstDemTile:Br.to,phase:c.cB(Br.phase)}});const vr=el(Dt.projMatrix,Zc(Dt.canonical,rt.renderWorldCopies)?St/10:St,_t);if(Se(Ar),!Q)continue;x.setupElevationDraw(rn,Q,Zn);const oi=Dt.toUnwrapped();ce&&ce.setupShadows(oi,Q),_.uploadCommonUniforms(V,Q,oi,null,Me),Q.draw(_,Vt,Ae,xn,Le,ia.backCCW,vr,"terrain_raster",x.gridBuffer,Lt,Bt)}}}}(l,this,this.proxySourceCache,r,this._updateTimestamp),this.renderingToTexture=!0,l.gpuTimingDeferredRenderEnd(),r.splice(0,r.length))}renderBatch(r){if(this._drapedRenderBatches.length===0)return r+1;this.renderingToTexture=!0;const l=this.painter,m=this.painter.context,_=this.proxySourceCache,x=this.proxiedCoords[_.id],E=this._drapedRenderBatches.shift(),R=l.style.order,B=[];let V=0;for(const U of x){const Q=_.getTileByID(U.proxyTileKey),ee=_.proxyCachedFBO[U.key]?_.proxyCachedFBO[U.key][r]:void 0,ce=ee!==void 0?_.renderCache[ee]:this.pool[V++],Me=ee!==void 0;if(Q.texture=ce.tex,Me&&!ce.dirty){B.push(Q.tileID);continue}let Se;m.bindFramebuffer.set(ce.fb.framebuffer),this.renderedToTile=!1,ce.dirty&&(m.clear({color:c.aj.transparent,stencil:0}),ce.dirty=!1);for(let Le=E.start;Le<=E.end;++Le){const Ae=l.style._mergedLayers[R[Le]];if(Ae.isHidden(l.transform.zoom))continue;const rt=l.style.getLayerSourceCache(Ae),St=rt?this.proxyToSource[U.key][rt.id]:[U];if(!St)continue;const _t=St;m.viewport.set([0,0,ce.fb.width,ce.fb.height]),Se!==(rt?rt.id:null)&&(this._setupStencil(ce,St,Ae,rt),Se=rt?rt.id:null),l.renderLayer(l,rt,Ae,_t)}if(this._drapedRenderBatches.length===0)for(const Le of this._pendingGroundEffectLayers){const Ae=l.style._mergedLayers[R[Le]];if(Ae.isHidden(l.transform.zoom))continue;const rt=l.style.getLayerSourceCache(Ae),St=rt?this.proxyToSource[U.key][rt.id]:[U];if(!St)continue;const _t=St;m.viewport.set([0,0,ce.fb.width,ce.fb.height]),Se!==(rt?rt.id:null)&&(this._setupStencil(ce,St,Ae,rt),Se=rt?rt.id:null),l.renderLayer(l,rt,Ae,_t)}this.renderedToTile?(ce.dirty=!0,B.push(Q.tileID)):Me||--V,V===5&&(V=0,this.renderToBackBuffer(B))}return this.renderToBackBuffer(B),this.renderingToTexture=!1,m.bindFramebuffer.set(null),m.viewport.set([0,0,l.width,l.height]),E.end+1}postRender(){}isLayerOrderingCorrect(r){const l=r.order.length;let m=-1,_=l;for(let x=0;x<l;++x)this._style.isLayerDraped(r._mergedLayers[r.order[x]])?m=Math.max(m,x):_=Math.min(_,x);return _>m}getMinElevationBelowMSL(){let r=0;return this._visibleDemTiles.filter(l=>l.dem).forEach(l=>{r=Math.min(r,l.dem.tree.minimums[0])}),r===0?r:(r-30)*this._exaggeration}raycast(r,l,m){if(!this._visibleDemTiles)return null;const _=this._visibleDemTiles.filter(x=>x.dem).map(x=>{const E=x.tileID,R=1<<E.overscaledZ,{x:B,y:V}=E.canonical,U=B/R,Q=(B+1)/R,ee=V/R,ce=(V+1)/R;return{minx:U,miny:ee,maxx:Q,maxy:ce,t:x.dem.tree.raycastRoot(U,ee,Q,ce,r,l,m),tile:x}});_.sort((x,E)=>(x.t!==null?x.t:Number.MAX_VALUE)-(E.t!==null?E.t:Number.MAX_VALUE));for(const x of _){if(x.t==null)return null;const E=x.tile.dem.tree.raycast(x.minx,x.miny,x.maxx,x.maxy,r,l,m);if(E!=null)return E}return null}_createFBO(){const r=this.painter.context,l=r.gl,m=this.drapeBufferSize;r.activeTexture.set(l.TEXTURE0);const _=new c.T(r,{width:m[0],height:m[1],data:null},l.RGBA8);_.bind(l.LINEAR,l.CLAMP_TO_EDGE);const x=r.createFramebuffer(m[0],m[1],!0,null);return x.colorAttachment.set(_.texture),x.depthAttachment=new ma(r,x.framebuffer),this._sharedDepthStencil===void 0?(this._sharedDepthStencil=r.createRenderbuffer(r.gl.DEPTH_STENCIL,m[0],m[1]),this._stencilRef=0,x.depthAttachment.set(this._sharedDepthStencil),r.clear({stencil:0})):x.depthAttachment.set(this._sharedDepthStencil),r.extTextureFilterAnisotropic&&l.texParameterf(l.TEXTURE_2D,r.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,r.extTextureFilterAnisotropicMax),{fb:x,tex:_,dirty:!1}}_initFBOPool(){for(;this.pool.length<Math.min(5,this.proxyCoords.length);)this.pool.push(this._createFBO())}_shouldDisableRenderCache(){if(this._debugParams.disableRenderCache||this._style.hasLightTransitions())return!0;for(const r in this._style._mergedSourceCaches)if(this._style._mergedSourceCaches[r].hasTransition())return!0;return this._style.order.some(r=>{const l=this._style._mergedLayers[r],m=l.isHidden(this.painter.transform.zoom);return l.type==="hillshade"||l.type==="custom"?!m&&l.shouldRedrape():!m&&l.hasTransition()})}_clearLineLayersFromRenderCache(){let r=!1;for(const m of this._style.getSources())if(m instanceof Zr){r=!0;break}if(!r)return;const l={};for(let m=0;m<this._style.order.length;++m){const _=this._style._mergedLayers[this._style.order[m]],x=this._style.getLayerSourceCache(_);if(x&&!l[x.id]&&!_.isHidden(this.painter.transform.zoom)&&_.type==="line"&&_.widthExpression()instanceof c.a9){l[x.id]=!0;for(const E of this.proxyCoords){const R=this.proxyToSource[E.key][x.id];if(R)for(const B of R)this._clearRenderCacheForTile(x.id,B)}}}}_clearRasterLayersFromRenderCache(){let r=!1;for(const m in this._style._mergedSourceCaches)if(this._style._mergedSourceCaches[m]._source instanceof qi){r=!0;break}if(!r)return;const l={};for(let m=0;m<this._style.order.length;++m){const _=this._style._mergedLayers[this._style.order[m]],x=this._style.getLayerSourceCache(_);if(!x||l[x.id]||_.isHidden(this.painter.transform.zoom)||_.type!=="raster")continue;const E=_.paint.get("raster-fade-duration");for(const R of this.proxyCoords){const B=this.proxyToSource[R.key][x.id];if(B)for(const V of B){const U=Pl(x.getTile(V),x.findLoadedParent(V,0),x,this.painter.transform,E);(U.opacity!==1||U.mix!==0)&&this._clearRenderCacheForTile(x.id,V)}}}}_setupDrapedRenderBatches(){this._style.updateDrapeFirstLayers();const r=this._style.order,l=r.length;if(l===0)return;const m=[];this._pendingGroundEffectLayers=[];let _,x=0,E=this._style._mergedLayers[r[x]];for(;!this._style.isLayerDraped(E)&&E.isHidden(this.painter.transform.zoom)&&++x<l;)E=this._style._mergedLayers[r[x]];for(;x<l;++x){const R=this._style._mergedLayers[r[x]];R.isHidden(this.painter.transform.zoom)||(this._style.isLayerDraped(R)?_===void 0&&(_=x):(R.type==="fill-extrusion"&&this._pendingGroundEffectLayers.push(x),_!==void 0&&(m.push({start:_,end:x-1}),_=void 0)))}if(_!==void 0&&m.push({start:_,end:x-1}),m.length!==0){const R=m[m.length-1];this._pendingGroundEffectLayers.every(B=>B>R.end)||c.w("fill-extrusion with flood lighting and/or ground ambient occlusion should be moved to be on top of all draped layers.")}this._drapedRenderBatches=m}_setupRenderCache(r){const l=this.proxySourceCache;if(this._shouldDisableRenderCache()||this.invalidateRenderCache){if(this.invalidateRenderCache=!1,l.renderCache.length>l.renderCachePool.length){const E=Object.values(l.proxyCachedFBO);l.proxyCachedFBO={};for(let R=0;R<E.length;++R){const B=Object.values(E[R]);l.renderCachePool.push(...B)}}return}this._clearRasterLayersFromRenderCache();const m=this.proxyCoords,_=this._tilesDirty;for(let E=m.length-1;E>=0;E--){const R=m[E];if(l.getTileByID(R.key),l.proxyCachedFBO[R.key]!==void 0){const B=r[R.key],V=this.proxyToSource[R.key];let U=0;for(const Q in V){const ee=V[Q],ce=B[Q];if(!ce||ce.length!==ee.length||ee.some((Me,Se)=>Me!==ce[Se]||_[Q]&&_[Q].hasOwnProperty(Me.key))){U=-1;break}++U}for(const Q in l.proxyCachedFBO[R.key])l.renderCache[l.proxyCachedFBO[R.key][Q]].dirty=U<0||U!==Object.values(B).length}}const x=[...this._drapedRenderBatches];x.sort((E,R)=>R.end-R.start-(E.end-E.start));for(const E of x)for(const R of m){if(l.proxyCachedFBO[R.key])continue;let B=l.renderCachePool.pop();B===void 0&&l.renderCache.length<50&&(B=l.renderCache.length,l.renderCache.push(this._createFBO())),B!==void 0&&(l.proxyCachedFBO[R.key]={},l.proxyCachedFBO[R.key][E.start]=B,l.renderCache[B].dirty=!0)}this._tilesDirty={}}_setupStencil(r,l,m,_){if(!_||!this._sourceTilesOverlap[_.id])return void(this._overlapStencilType&&(this._overlapStencilType=!1));const x=this.painter.context,E=x.gl;if(l.length<=1)return void(this._overlapStencilType=!1);let R;if(m.isTileClipped())R=l.length,this._overlapStencilMode.test={func:E.EQUAL,mask:255},this._overlapStencilType="Clip";else{if(!(l[0].overscaledZ>l[l.length-1].overscaledZ))return void(this._overlapStencilType=!1);R=1,this._overlapStencilMode.test={func:E.GREATER,mask:255},this._overlapStencilType="Mask"}this._stencilRef+R>255&&(x.clear({stencil:0}),this._stencilRef=0),this._stencilRef+=R,this._overlapStencilMode.ref=this._stencilRef,m.isTileClipped()&&this._renderTileClippingMasks(l,this._overlapStencilMode.ref)}clipOrMaskOverlapStencilType(){return this._overlapStencilType==="Clip"||this._overlapStencilType==="Mask"}stencilModeForRTTOverlap(r){return this.renderingToTexture&&this._overlapStencilType?(this._overlapStencilType==="Clip"&&(this._overlapStencilMode.ref=this.painter._tileClippingMaskIDs[r.key]),this._overlapStencilMode):Qo.disabled}_renderTileClippingMasks(r,l){const m=this.painter,_=this.painter.context,x=_.gl;m._tileClippingMaskIDs={},_.setColorMode(sa.disabled),_.setDepthMode(Fo.disabled);const E=m.getOrCreateProgram("clippingMask");for(const R of r){const B=m._tileClippingMaskIDs[R.key]=--l;E.draw(m,x.TRIANGLES,Fo.disabled,new Qo({func:x.ALWAYS,mask:0},B,255,x.KEEP,x.KEEP,x.REPLACE),sa.disabled,ia.disabled,_c(R.projMatrix),"$clipping",m.tileExtentBuffer,m.quadTriangleIndexBuffer,m.tileExtentSegments)}}pointCoordinate(r){const l=this.painter.transform;if(r.x<0||r.x>l.width||r.y<0||r.y>l.height)return null;const m=[r.x,r.y,1,1];c.ab.vec4.transformMat4(m,m,l.pixelMatrixInverse),c.ab.vec4.scale(m,m,1/m[3]),m[0]/=l.worldSize,m[1]/=l.worldSize;const _=l._camera.position,x=c.bH(1,l.center.lat),E=[_[0],_[1],_[2]/x,0],R=c.ab.vec3.subtract([],m.slice(0,3),E);c.ab.vec3.normalize(R,R);const B=this.raycast(E,R,this._exaggeration);return B!==null&&B?(c.ab.vec3.scaleAndAdd(E,E,R,B),E[3]=E[2],E[2]*=x,E):null}_setupProxiedCoordsForOrtho(r,l,m){if(r.getSource()instanceof c.aJ)return this._setupProxiedCoordsForImageSource(r,l,m);this._findCoveringTileCache[r.id]=this._findCoveringTileCache[r.id]||{};const _=this.proxiedCoords[r.id]=[],x=this.proxyCoords;for(let B=0;B<x.length;B++){const V=x[B],U=this._findTileCoveringTileID(V,r);if(U){const Q=this._createProxiedId(V,U,m[V.key]&&m[V.key][r.id]);_.push(Q),this.proxyToSource[V.key][r.id]=[Q]}}let E=!1;const R=new Set;for(let B=0;B<l.length;B++){const V=r.getTile(l[B]);if(!V||!V.hasData())continue;const U=this._findTileCoveringTileID(V.tileID,this.proxySourceCache);if(U&&U.tileID.canonical.z!==V.tileID.canonical.z){const Q=this.proxyToSource[U.tileID.key][r.id],ee=this._createProxiedId(U.tileID,V,m[U.tileID.key]&&m[U.tileID.key][r.id]);Q?Q.splice(Q.length-1,0,ee):this.proxyToSource[U.tileID.key][r.id]=[ee];const ce=this.proxyToSource[U.tileID.key][r.id];R.has(ce)||R.add(ce),_.push(ee),E=!0}}if(this._sourceTilesOverlap[r.id]=E,E&&this._debugParams.sortTilesHiZFirst)for(const B of R)B.sort((V,U)=>U.overscaledZ-V.overscaledZ)}_setupProxiedCoordsForImageSource(r,l,m){if(!r.getSource().loaded())return;const _=this.proxiedCoords[r.id]=[],x=this.proxyCoords,E=r.getSource(),R=E.tileID;if(!R)return;const B=new c.P(R.x,R.y)._div(1<<R.z),V=E.coordinates.map(c.aa.fromLngLat).reduce((Q,ee)=>(Q.min.x=Math.min(Q.min.x,ee.x-B.x),Q.min.y=Math.min(Q.min.y,ee.y-B.y),Q.max.x=Math.max(Q.max.x,ee.x-B.x),Q.max.y=Math.max(Q.max.y,ee.y-B.y),Q),{min:new c.P(Number.MAX_VALUE,Number.MAX_VALUE),max:new c.P(-Number.MAX_VALUE,-Number.MAX_VALUE)}),U=(Q,ee)=>{const ce=Q.wrap+Q.canonical.x/(1<<Q.canonical.z),Me=Q.canonical.y/(1<<Q.canonical.z),Se=c.ag/(1<<Q.canonical.z),Le=ee.wrap+ee.canonical.x/(1<<ee.canonical.z),Ae=ee.canonical.y/(1<<ee.canonical.z);return ce+Se<Le+V.min.x||ce>Le+V.max.x||Me+Se<Ae+V.min.y||Me>Ae+V.max.y};for(let Q=0;Q<x.length;Q++){const ee=x[Q];for(let ce=0;ce<l.length;ce++){const Me=r.getTile(l[ce]);if(!Me||!Me.hasData()||U(ee,Me.tileID))continue;const Se=this._createProxiedId(ee,Me,m[ee.key]&&m[ee.key][r.id]),Le=this.proxyToSource[ee.key][r.id];Le?Le.push(Se):this.proxyToSource[ee.key][r.id]=[Se],_.push(Se)}}}_createProxiedId(r,l,m){let _=this.orthoMatrix;if(m){const x=m.find(E=>E.key===l.tileID.key);if(x)return x}if(l.tileID.key!==r.key){const x=r.canonical.z-l.tileID.canonical.z;let E,R,B;_=c.ab.mat4.create();const V=l.tileID.wrap-r.wrap<<r.overscaledZ;x>0?(E=c.ag>>x,R=E*((l.tileID.canonical.x<<x)-r.canonical.x+V),B=E*((l.tileID.canonical.y<<x)-r.canonical.y)):(E=c.ag<<-x,R=c.ag*(l.tileID.canonical.x-(r.canonical.x+V<<-x)),B=c.ag*(l.tileID.canonical.y-(r.canonical.y<<-x))),c.ab.mat4.ortho(_,0,E,0,E,0,1),c.ab.mat4.translate(_,_,[R,B,0])}return new zc(l.tileID,r.key,_)}_findTileCoveringTileID(r,l){let m=l.getTile(r);if(m&&m.hasData())return m;const _=this._findCoveringTileCache[l.id],x=_[r.key];if(m=x?l.getTileByID(x):null,m&&m.hasData()||x===null)return m;let E=m?m.tileID:r,R=E.overscaledZ;const B=l.getSource().minzoom,V=[];if(!x){const Q=l.getSource().maxzoom;if(r.canonical.z>=Q){const ee=r.canonical.z-Q;l.getSource().reparseOverscaled?(R=Math.max(r.canonical.z+2,l.transform.tileZoom),E=new c.aG(R,r.wrap,Q,r.canonical.x>>ee,r.canonical.y>>ee)):ee!==0&&(R=Q,E=new c.aG(R,r.wrap,Q,r.canonical.x>>ee,r.canonical.y>>ee))}E.key!==r.key&&(V.push(E.key),m=l.getTile(E))}const U=Q=>{V.forEach(ee=>{_[ee]=Q}),V.length=0};for(R-=1;R>=B&&(!m||!m.hasData());R--){m&&U(m.tileID.key);const Q=E.calculateScaledKey(R);if(m=l.getTileByID(Q),m&&m.hasData())break;const ee=_[Q];if(ee===null)break;ee===void 0?V.push(Q):m=l.getTileByID(ee)}return U(m?m.tileID.key:null),m&&m.hasData()?m:null}findDEMTileFor(r){return this.enabled?this._findTileCoveringTileID(r,this.sourceCache):null}prepareDrawTile(){this.renderedToTile=!0}_clearRenderCacheForTile(r,l){let m=this._tilesDirty[r];m||(m=this._tilesDirty[r]={}),m[l.key]=!0}}function iu(p,r,l){const m=function(R,B,V){const U=c.ab.vec3.dot(B,R),Q=c.ab.vec3.dot(V,[.2126,.7152,.0722]),ee=(Me,Se,Le)=>(1-Le)*Me+Le*Se,ce=ee(1-.3*Math.min(Q,1),1,Math.min(U+1,1));return ee(.92,1,Math.asin(c.aw(B[2],-1,1))/Math.PI+.5)*ce}(p,[0,0,1],r),_=[0,0,0];c.ab.vec3.scale(_,l.slice(0,3),m);const x=[0,0,0];c.ab.vec3.scale(x,r.slice(0,3),p[2]);const E=[0,0,0];return c.ab.vec3.add(E,_,x),c.cf(E)}const ou=["fill","fillOutline","fillPattern","line","linePattern","background","backgroundPattern","hillshade","raster"],lf=["stars","rainParticle","snowParticle","fillExtrusion","fillExtrusionGroundEffect","model","symbol"];class dd{static cacheKey(r,l,m,_){let x=`${l}${_?_.cacheKey:""}`;for(const E of m)r.usedDefines.includes(E)&&(x+=`/${E}`);return x}constructor(r,l,m,_,x,E){const R=r.gl;this.program=R.createProgram(),this.configuration=_,this.name=l,this.fixedDefines=[...E];const B=_?_.getBinderAttributes():[],V=(m.staticAttributes||[]).concat(B);let U=_?_.defines():[];U=U.concat(E.map(Le=>`#define ${Le}`));const Q=`#version 300 es
`;let ee=Q+U.concat("precision mediump float;",Hl,qc.fragmentSource).join(`
`);for(const Le of m.fragmentIncludes)ee+=`
${Vl[Le]}`;ee+=`
${m.fragmentSource}`;let ce=Q+U.concat("precision highp float;",Hl,qc.vertexSource).join(`
`);for(const Le of m.vertexIncludes)ce+=`
${Vl[Le]}`;this.forceManualRenderingForInstanceIDShaders=r.forceManualRenderingForInstanceIDShaders&&m.vertexSource.indexOf("gl_InstanceID")!==-1,this.forceManualRenderingForInstanceIDShaders&&(ce+=`
uniform int u_instanceID;
`),ce+=`
${m.vertexSource}`,this.forceManualRenderingForInstanceIDShaders&&(ce=ce.replaceAll("gl_InstanceID","u_instanceID"));const Me=R.createShader(R.FRAGMENT_SHADER);if(R.isContextLost())return void(this.failedToCreate=!0);R.shaderSource(Me,ee),R.compileShader(Me),R.attachShader(this.program,Me);const Se=R.createShader(R.VERTEX_SHADER);if(R.isContextLost())this.failedToCreate=!0;else{R.shaderSource(Se,ce),R.compileShader(Se),R.attachShader(this.program,Se),this.attributes={},this.numAttributes=V.length;for(let Le=0;Le<this.numAttributes;Le++)if(V[Le]){const Ae=V[Le].startsWith("a_")?V[Le]:`a_${V[Le]}`;R.bindAttribLocation(this.program,Le,Ae),this.attributes[Ae]=Le}R.linkProgram(this.program),R.deleteShader(Se),R.deleteShader(Me),this.fixedUniforms=x(r),this.binderUniforms=_?_.getUniforms(r):[],this.forceManualRenderingForInstanceIDShaders&&(this.instancingUniforms=(Le=>({u_instanceID:new c.bN(Le)}))(r)),(E.includes("TERRAIN")||l.indexOf("symbol")!==-1||l.indexOf("circle")!==-1)&&(this.terrainUniforms=(Le=>({u_dem:new c.bN(Le),u_dem_prev:new c.bN(Le),u_dem_tl:new c.bK(Le),u_dem_scale:new c.bM(Le),u_dem_tl_prev:new c.bK(Le),u_dem_scale_prev:new c.bM(Le),u_dem_size:new c.bM(Le),u_dem_lerp:new c.bM(Le),u_exaggeration:new c.bM(Le),u_depth:new c.bN(Le),u_depth_size_inv:new c.bK(Le),u_depth_range_unpack:new c.bK(Le),u_occluder_half_size:new c.bM(Le),u_occlusion_depth_offset:new c.bM(Le),u_meter_to_dem:new c.bM(Le),u_label_plane_matrix_inv:new c.bJ(Le)}))(r)),E.includes("GLOBE")&&(this.globeUniforms=(Le=>({u_tile_tl_up:new c.bL(Le),u_tile_tr_up:new c.bL(Le),u_tile_br_up:new c.bL(Le),u_tile_bl_up:new c.bL(Le),u_tile_up_scale:new c.bM(Le)}))(r)),E.includes("FOG")&&(this.fogUniforms=(Le=>({u_fog_matrix:new c.bJ(Le),u_fog_range:new c.bK(Le),u_fog_color:new c.ca(Le),u_fog_horizon_blend:new c.bM(Le),u_fog_vertical_limit:new c.bK(Le),u_fog_temporal_offset:new c.bM(Le),u_frustum_tl:new c.bL(Le),u_frustum_tr:new c.bL(Le),u_frustum_br:new c.bL(Le),u_frustum_bl:new c.bL(Le),u_globe_pos:new c.bL(Le),u_globe_radius:new c.bM(Le),u_globe_transition:new c.bM(Le),u_is_globe:new c.bN(Le),u_viewport:new c.bK(Le)}))(r)),E.includes("RENDER_CUTOFF")&&(this.cutoffUniforms=(Le=>({u_cutoff_params:new c.ca(Le)}))(r)),E.includes("LIGHTING_3D_MODE")&&(this.lightsUniforms=(Le=>({u_lighting_ambient_color:new c.bL(Le),u_lighting_directional_dir:new c.bL(Le),u_lighting_directional_color:new c.bL(Le),u_ground_radiance:new c.bL(Le)}))(r)),E.includes("RENDER_SHADOWS")&&(this.shadowUniforms=(Le=>({u_light_matrix_0:new c.bJ(Le),u_light_matrix_1:new c.bJ(Le),u_fade_range:new c.bK(Le),u_shadow_normal_offset:new c.bL(Le),u_shadow_intensity:new c.bM(Le),u_shadow_texel_size:new c.bM(Le),u_shadow_map_resolution:new c.bM(Le),u_shadow_direction:new c.bL(Le),u_shadow_bias:new c.bL(Le),u_shadowmap_0:new c.bN(Le),u_shadowmap_1:new c.bN(Le)}))(r))}}setTerrainUniformValues(r,l){if(!this.terrainUniforms)return;const m=this.terrainUniforms;if(!this.failedToCreate){r.program.set(this.program);for(const _ in l)m[_]&&m[_].set(this.program,_,l[_])}}setGlobeUniformValues(r,l){if(!this.globeUniforms)return;const m=this.globeUniforms;if(!this.failedToCreate){r.program.set(this.program);for(const _ in l)m[_]&&m[_].set(this.program,_,l[_])}}setFogUniformValues(r,l){if(!this.fogUniforms)return;const m=this.fogUniforms;if(!this.failedToCreate){r.program.set(this.program);for(const _ in l)m[_].set(this.program,_,l[_])}}setCutoffUniformValues(r,l){if(!this.cutoffUniforms)return;const m=this.cutoffUniforms;if(!this.failedToCreate){r.program.set(this.program);for(const _ in l)m[_].set(this.program,_,l[_])}}setLightsUniformValues(r,l){if(!this.lightsUniforms)return;const m=this.lightsUniforms;if(!this.failedToCreate){r.program.set(this.program);for(const _ in l)m[_].set(this.program,_,l[_])}}setShadowUniformValues(r,l){if(this.failedToCreate||!this.shadowUniforms)return;const m=this.shadowUniforms;r.program.set(this.program);for(const _ in l)m[_].set(this.program,_,l[_])}_drawDebugWireframe(r,l,m,_,x,E,R,B,V,U){const Q=r.options.wireframe;if(Q.terrain===!1&&Q.layers2D===!1&&Q.layers3D===!1)return;const ee=r.context;if(!(!(!Q.terrain||this.name!=="terrainRaster"&&this.name!=="globeRaster")||!(!Q.layers2D||r._terrain&&r._terrain.renderingToTexture||!ou.includes(this.name))||!(!Q.layers3D||!lf.includes(this.name))))return;const ce=ee.gl,Me=r.wireframeDebugCache.getLinesFromTrianglesBuffer(r.frameCounter,x,ee);if(!Me)return;const Se=[...this.fixedDefines];Se.push("DEBUG_WIREFRAME");const Le=r.getOrCreateProgram(this.name,{config:this.configuration,defines:Se});ee.program.set(Le.program);const Ae=(_t,Vt,Lt)=>{if(Vt[_t]&&Lt[_t])for(const Bt in Vt[_t])Lt[_t][Bt]&&Lt[_t][Bt].set(Lt.program,Bt,Vt[_t][Bt].current)};V&&V.setUniforms(Le.program,ee,Le.binderUniforms,R,{zoom:B}),Ae("fixedUniforms",this,Le),Ae("terrainUniforms",this,Le),Ae("globeUniforms",this,Le),Ae("fogUniforms",this,Le),Ae("lightsUniforms",this,Le),Ae("shadowUniforms",this,Le),Me.bind(),ee.setColorMode(new sa([ce.ONE,ce.ONE_MINUS_SRC_ALPHA,ce.ZERO,ce.ONE],c.aj.transparent,[!0,!0,!0,!1])),ee.setDepthMode(new Fo(l.func===ce.LESS?ce.LEQUAL:l.func,Fo.ReadOnly,l.range)),ee.setStencilMode(Qo.disabled);const rt=3*E.primitiveLength*2,St=3*E.primitiveOffset*2*2;if(this.forceManualRenderingForInstanceIDShaders){const _t=U||1;for(let Vt=0;Vt<_t;++Vt)Le.instancingUniforms.u_instanceID.set(this.program,"u_instanceID",Vt),ce.drawElements(ce.LINES,rt,ce.UNSIGNED_SHORT,St)}else U&&U>1?ce.drawElementsInstanced(ce.LINES,rt,ce.UNSIGNED_SHORT,St,U):ce.drawElements(ce.LINES,rt,ce.UNSIGNED_SHORT,St);x.bind(),ee.program.set(this.program),ee.setDepthMode(l),ee.setStencilMode(m),ee.setColorMode(_)}checkUniforms(r,l,m){if(this.fixedDefines.includes(l)){for(const _ of Object.keys(m))if(!m[_].initialized)throw new Error(`Program '${this.name}', from draw '${r}': uniform ${_} not set but required by ${l} being defined`)}}draw(r,l,m,_,x,E,R,B,V,U,Q,ee,ce,Me,Se,Le){const Ae=r.context,rt=Ae.gl;if(this.failedToCreate)return;Ae.program.set(this.program),Ae.setDepthMode(m),Ae.setStencilMode(_),Ae.setColorMode(x),Ae.setCullFace(E);for(const Vt of Object.keys(this.fixedUniforms))this.fixedUniforms[Vt].set(this.program,Vt,R[Vt]);Me&&Me.setUniforms(this.program,Ae,this.binderUniforms,ee,{zoom:ce});const St={[rt.POINTS]:1,[rt.LINES]:2,[rt.TRIANGLES]:3,[rt.LINE_STRIP]:1}[l];this.checkUniforms(B,"RENDER_SHADOWS",this.shadowUniforms);const _t=Le&&Le>0?1:void 0;for(const Vt of Q.get()){const Lt=Vt.vaos||(Vt.vaos={});if((Lt[B]||(Lt[B]=new sm)).bind(Ae,this,V,Me?Me.getPaintVertexBuffers():[],U,Vt.vertexOffset,Se||[],_t),this.forceManualRenderingForInstanceIDShaders){const Bt=Le||1;for(let Dt=0;Dt<Bt;++Dt)this.instancingUniforms.u_instanceID.set(this.program,"u_instanceID",Dt),U?rt.drawElements(l,Vt.primitiveLength*St,rt.UNSIGNED_SHORT,Vt.primitiveOffset*St*2):rt.drawArrays(l,Vt.vertexOffset,Vt.vertexLength)}else Le&&Le>1?rt.drawElementsInstanced(l,Vt.primitiveLength*St,rt.UNSIGNED_SHORT,Vt.primitiveOffset*St*2,Le):U?rt.drawElements(l,Vt.primitiveLength*St,rt.UNSIGNED_SHORT,Vt.primitiveOffset*St*2):rt.drawArrays(l,Vt.vertexOffset,Vt.vertexLength);l===rt.TRIANGLES&&U&&this._drawDebugWireframe(r,m,_,x,U,Vt,ee,ce,Me,Le)}}}function Uu(p,r){const l=Math.pow(2,r.tileID.overscaledZ),m=r.tileSize*Math.pow(2,p.transform.tileZoom)/l,_=m*(r.tileID.canonical.x+r.tileID.wrap*l),x=m*r.tileID.canonical.y;return{u_image:0,u_texsize:r.imageAtlasTexture?r.imageAtlasTexture.size:[0,0],u_tile_units_to_pixels:1/c.ar(r,1,p.transform.tileZoom),u_pixel_coord_upper:[_>>16,x>>16],u_pixel_coord_lower:[65535&_,65535&x]}}const cf={terrain:0,flat:1},uf=c.ab.mat4.create(),lh=(p,r,l,m,_,x,E,R,B,V,U,Q,ee,ce,Me,Se,Le,Ae)=>{const rt=r.style.light,St=rt.properties.get("position"),_t=[St.x,St.y,St.z],Vt=c.ab.mat3.create();rt.properties.get("anchor")==="viewport"&&(c.ab.mat3.fromRotation(Vt,-r.transform.angle),c.ab.vec3.transformMat3(_t,_t,Vt));const Lt=rt.properties.get("color"),Bt=r.transform,Dt={u_matrix:p,u_lightpos:_t,u_lightintensity:rt.properties.get("intensity"),u_lightcolor:[Lt.r,Lt.g,Lt.b],u_vertical_gradient:+l,u_opacity:m,u_tile_id:[0,0,0],u_zoom_transition:0,u_inv_rot_matrix:uf,u_merc_center:[0,0],u_up_dir:[0,0,0],u_height_lift:0,u_height_type:cf[V],u_base_type:cf[U],u_ao:_,u_edge_radius:x,u_width_scale:E,u_flood_light_color:Me,u_vertical_scale:Se,u_flood_light_intensity:Le,u_ground_shadow_factor:Ae};return Bt.projection.name==="globe"&&(Dt.u_tile_id=[R.canonical.x,R.canonical.y,1<<R.canonical.z],Dt.u_zoom_transition=Q,Dt.u_inv_rot_matrix=ce,Dt.u_merc_center=ee,Dt.u_up_dir=Bt.projection.upVector(new c.bT(0,0,0),ee[0]*c.ag,ee[1]*c.ag),Dt.u_height_lift=B),Dt},df=(p,r,l,m,_,x)=>({u_matrix:p,u_edge_radius:r,u_width_scale:l,u_vertical_scale:m,u_height_type:cf[_],u_base_type:cf[x]}),fm=(p,r,l,m,_,x,E,R,B,V,U,Q,ee,ce,Me,Se,Le)=>{const Ae=lh(p,r,l,m,_,x,E,R,V,U,Q,ee,ce,Me,Se,Le,1,[0,0,0]),rt={u_height_factor:-Math.pow(2,R.overscaledZ)/B.tileSize/8};return c.l(Ae,Uu(r,B),rt)},ch=(p,r)=>({u_matrix:p,u_emissive_strength:r}),Ld=(p,r,l,m)=>c.l(ch(p,r),Uu(l,m)),hm=(p,r,l)=>({u_matrix:p,u_world:l,u_emissive_strength:r}),Iv=(p,r,l,m,_)=>c.l(Ld(p,r,l,m),{u_world:_}),Zg=(p,r,l,m)=>{const _=c.ag/l.tileSize;return{u_matrix:p,u_camera_to_center_distance:r.getCameraToCenterDistance(m),u_extrude_scale:[r.pixelsToGLUnits[0]/_,r.pixelsToGLUnits[1]/_]}},zd=(p,r,l=1)=>({u_matrix:p,u_color:r.toRenderColor(null),u_overlay:0,u_overlay_scale:l}),ep=c.ab.mat4.create(),_o=(p,r,l,m,_,x,E)=>{const R=p.transform,B=R.projection.name==="globe",V=B?c.cN(R.zoom,r.canonical)*R._pixelsPerMercatorPixel:c.ar(l,1,x),U={u_matrix:r.projMatrix,u_extrude_scale:V,u_intensity:E,u_inv_rot_matrix:ep,u_merc_center:[0,0],u_tile_id:[0,0,0],u_zoom_transition:0,u_up_dir:[0,0,0]};if(B){U.u_inv_rot_matrix=m,U.u_merc_center=_,U.u_tile_id=[r.canonical.x,r.canonical.y,1<<r.canonical.z],U.u_zoom_transition=c.ae(R.zoom);const Q=_[0]*c.ag,ee=_[1]*c.ag;U.u_up_dir=R.projection.upVector(new c.bT(0,0,0),Q,ee)}return U};function tp(p,[r,l,m,_],[x,E]){if(x===E)return[0,0,0,0];const R=255*(p-1)/(p*(E-x));return[r*R,l*R,m*R,_*R]}function pm(p,r,[l,m]){return l===m?0:.5/p+(r-l)*(p-1)/(p*(m-l))}const Nd=(p,r,l,m,_,x,E,R,B,V,U,Q,ee,ce,Me,Se,Le,Ae,rt,St,_t)=>({u_matrix:p,u_normalize_matrix:r,u_globe_matrix:l,u_merc_matrix:m,u_grid_matrix:_,u_tl_parent:x,u_scale_parent:V,u_fade_t:U.mix,u_opacity:U.opacity*Q.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:Q.paint.get("raster-brightness-min"),u_brightness_high:Q.paint.get("raster-brightness-max"),u_saturation_factor:c.cO(Q.paint.get("raster-saturation")),u_contrast_factor:c.cP(Q.paint.get("raster-contrast")),u_spin_weights:fd(Q.paint.get("raster-hue-rotate")),u_perspective_transform:ee,u_raster_elevation:ce,u_zoom_transition:E,u_merc_center:R,u_cutoff_params:B,u_colorization_mix:tp(c.cQ,Se,Ae),u_colorization_offset:pm(c.cQ,Le,Ae),u_color_ramp:Me,u_texture_offset:[St/(rt+2*St),rt/(rt+2*St)],u_texture_res:[rt+2*St,rt+2*St],u_emissive_strength:_t});function fd(p){p*=Math.PI/180;const r=Math.sin(p),l=Math.cos(p);return[(2*l+1)/3,(-Math.sqrt(3)*r-l+1)/3,(Math.sqrt(3)*r-l+1)/3]}const ko=.05,Wu=(p,r,l,m,_,x,E,R,B,V,U,Q)=>({u_matrix:p,u_normalize_matrix:r,u_globe_matrix:l,u_merc_matrix:m,u_grid_matrix:_,u_tl_parent:x,u_scale_parent:V,u_fade_t:U.mix,u_opacity:U.opacity,u_image0:0,u_image1:1,u_raster_elevation:Q,u_zoom_transition:E,u_merc_center:R,u_cutoff_params:B}),Vg=(p,r,l,m,_,x,E,R,B,V)=>({u_particle_texture:p,u_particle_texture_side_len:r,u_tile_offset:l,u_velocity:m,u_color_ramp:x,u_velocity_res:_,u_max_speed:E,u_uv_offset:R,u_data_scale:[255*B[0],255*B[1]],u_data_offset:V,u_particle_pos_scale:1.1,u_particle_pos_offset:[ko,ko]}),Hg=(p,r,l,m,_,x,E,R,B,V)=>({u_particle_texture:p,u_particle_texture_side_len:r,u_velocity:l,u_velocity_res:m,u_max_speed:_,u_speed_factor:x,u_reset_rate:E,u_rand_seed:Math.random(),u_uv_offset:R,u_data_scale:[255*B[0],255*B[1]],u_data_offset:V,u_particle_pos_scale:1.1,u_particle_pos_offset:[ko,ko]}),np=c.ab.mat4.create(),Bd=(p,r,l,m,_,x,E,R,B,V,U,Q,ee,ce,Me,Se,Le,Ae,rt,St,_t,Vt)=>{const Lt=_.transform,Bt={u_is_size_zoom_constant:+(p==="constant"||p==="source"),u_is_size_feature_constant:+(p==="constant"||p==="camera"),u_size_t:r?r.uSizeT:0,u_size:r?r.uSize:0,u_camera_to_center_distance:Lt.getCameraToCenterDistance(rt),u_rotate_symbol:+l,u_aspect_ratio:Lt.width/Lt.height,u_fade_change:_.options.fadeDuration?_.symbolFadeChange:1,u_matrix:x,u_label_plane_matrix:E,u_coord_matrix:R,u_is_text:+V,u_elevation_from_sea:B?1:0,u_pitch_with_map:+m,u_texsize:U,u_texsize_icon:Q,u_texture:0,u_texture_icon:1,u_tile_id:[0,0,0],u_zoom_transition:0,u_inv_rot_matrix:np,u_merc_center:[0,0],u_camera_forward:[0,0,0],u_ecef_origin:[0,0,0],u_tile_matrix:np,u_up_vector:[0,-1,0],u_color_adj_mat:St,u_icon_transition:_t||0,u_gamma_scale:m?_.transform.getCameraToCenterDistance(rt)*Math.cos(_.terrain?0:_.transform._pitch):1,u_device_pixel_ratio:c.q.devicePixelRatio,u_is_halo:+ee,u_scale_factor:Vt||1};return rt.name==="globe"&&(Bt.u_tile_id=[ce.canonical.x,ce.canonical.y,1<<ce.canonical.z],Bt.u_zoom_transition=Me,Bt.u_inv_rot_matrix=Le,Bt.u_merc_center=Se,Bt.u_camera_forward=Lt._camera.forward(),Bt.u_ecef_origin=c.cR(Lt.globeMatrix,ce.toUnwrapped()),Bt.u_tile_matrix=Float32Array.from(Lt.globeMatrix),Bt.u_up_vector=Ae),Bt},rp=(p,r,l,m)=>({u_matrix:p,u_emissive_strength:r,u_opacity:l,u_color:m}),mm=(p,r,l,m,_,x,E,R,B)=>c.l(function(V,U,Q,ee,ce,Me){const{width:Se,height:Le}=ee.imageManager.getPixelSize(U),Ae=Math.pow(2,Me.tileID.overscaledZ),rt=Me.tileSize*Math.pow(2,ee.transform.tileZoom)/Ae,St=rt*(Me.tileID.canonical.x+Me.tileID.wrap*Ae),_t=rt*Me.tileID.canonical.y;return{u_image:0,u_pattern_tl:Q.tl,u_pattern_br:Q.br,u_texsize:[Se,Le],u_pattern_size:Q.displaySize,u_pattern_units_to_pixels:ce?[ee.transform.width,-1*ee.transform.height]:[1/c.ar(Me,1,ee.transform.tileZoom),1/c.ar(Me,1,ee.transform.tileZoom)],u_pixel_coord_upper:[St>>16,_t>>16],u_pixel_coord_lower:[65535&St,65535&_t]}}(0,x,E,m,R,B),{u_matrix:p,u_emissive_strength:r,u_opacity:l}),ip=new Float32Array(c.ab.mat4.identity([])),ff=(p,r,l,m,_,x,E,R,B,V,U,Q,ee,ce=[0,0,0],Me)=>{const Se=_.style.light,Le=Se.properties.get("position"),Ae=[-Le.x,-Le.y,Le.z],rt=c.ab.mat3.create();Se.properties.get("anchor")==="viewport"&&(c.ab.mat3.fromRotation(rt,-_.transform.angle),c.ab.vec3.transformMat3(Ae,Ae,rt));const St=U.alphaMode==="MASK",_t=Se.properties.get("color").toRenderColor(null),Vt=ee.paint.get("model-ambient-occlusion-intensity"),Lt=ee.paint.get("model-color").constantOr(c.aj.white).toRenderColor(null),Bt=ee.paint.get("model-color-mix-intensity").constantOr(0);return{u_matrix:p,u_lighting_matrix:r,u_normal_matrix:l,u_node_matrix:m||ip,u_lightpos:Ae,u_lightintensity:Se.properties.get("intensity"),u_lightcolor:[_t.r,_t.g,_t.b],u_camera_pos:ce,u_opacity:x,u_baseTextureIsAlpha:0,u_alphaMask:+St,u_alphaCutoff:U.alphaCutoff,u_baseColorFactor:[E.r,E.g,E.b,E.a],u_emissiveFactor:[R[0],R[1],R[2],1],u_metallicFactor:B,u_roughnessFactor:V,u_baseColorTexture:gl.BaseColor,u_metallicRoughnessTexture:gl.MetallicRoughness,u_normalTexture:gl.Normal,u_occlusionTexture:gl.Occlusion,u_emissionTexture:gl.Emission,u_lutTexture:gl.LUT,u_color_mix:[Lt.r,Lt.g,Lt.b,Bt],u_aoIntensity:Vt,u_emissive_strength:Q,u_occlusionTextureTransform:Me||[0,0,0,0]}},uh=(p,r=ip,l=ip)=>({u_matrix:p,u_instance:r,u_node_matrix:l}),gm={fillExtrusion:p=>({u_matrix:new c.bJ(p),u_lightpos:new c.bL(p),u_lightintensity:new c.bM(p),u_lightcolor:new c.bL(p),u_vertical_gradient:new c.bM(p),u_opacity:new c.bM(p),u_edge_radius:new c.bM(p),u_width_scale:new c.bM(p),u_ao:new c.bK(p),u_height_type:new c.bN(p),u_base_type:new c.bN(p),u_tile_id:new c.bL(p),u_zoom_transition:new c.bM(p),u_inv_rot_matrix:new c.bJ(p),u_merc_center:new c.bK(p),u_up_dir:new c.bL(p),u_height_lift:new c.bM(p),u_flood_light_color:new c.bL(p),u_vertical_scale:new c.bM(p),u_flood_light_intensity:new c.bM(p),u_ground_shadow_factor:new c.bL(p)}),fillExtrusionDepth:p=>({u_matrix:new c.bJ(p),u_edge_radius:new c.bM(p),u_width_scale:new c.bM(p),u_vertical_scale:new c.bM(p),u_height_type:new c.bN(p),u_base_type:new c.bN(p)}),fillExtrusionPattern:p=>({u_matrix:new c.bJ(p),u_lightpos:new c.bL(p),u_lightintensity:new c.bM(p),u_lightcolor:new c.bL(p),u_vertical_gradient:new c.bM(p),u_height_factor:new c.bM(p),u_edge_radius:new c.bM(p),u_width_scale:new c.bM(p),u_ao:new c.bK(p),u_height_type:new c.bN(p),u_base_type:new c.bN(p),u_tile_id:new c.bL(p),u_zoom_transition:new c.bM(p),u_inv_rot_matrix:new c.bJ(p),u_merc_center:new c.bK(p),u_up_dir:new c.bL(p),u_height_lift:new c.bM(p),u_image:new c.bN(p),u_texsize:new c.bK(p),u_pixel_coord_upper:new c.bK(p),u_pixel_coord_lower:new c.bK(p),u_tile_units_to_pixels:new c.bM(p),u_opacity:new c.bM(p)}),fillExtrusionGroundEffect:p=>({u_matrix:new c.bJ(p),u_opacity:new c.bM(p),u_ao_pass:new c.bM(p),u_meter_to_tile:new c.bM(p),u_ao:new c.bK(p),u_flood_light_intensity:new c.bM(p),u_flood_light_color:new c.bL(p),u_attenuation:new c.bM(p),u_edge_radius:new c.bM(p),u_fb:new c.bN(p),u_fb_size:new c.bM(p),u_dynamic_offset:new c.bM(p)}),fill:p=>({u_matrix:new c.bJ(p),u_emissive_strength:new c.bM(p)}),fillPattern:p=>({u_matrix:new c.bJ(p),u_emissive_strength:new c.bM(p),u_image:new c.bN(p),u_texsize:new c.bK(p),u_pixel_coord_upper:new c.bK(p),u_pixel_coord_lower:new c.bK(p),u_tile_units_to_pixels:new c.bM(p)}),fillOutline:p=>({u_matrix:new c.bJ(p),u_emissive_strength:new c.bM(p),u_world:new c.bK(p)}),fillOutlinePattern:p=>({u_matrix:new c.bJ(p),u_emissive_strength:new c.bM(p),u_world:new c.bK(p),u_image:new c.bN(p),u_texsize:new c.bK(p),u_pixel_coord_upper:new c.bK(p),u_pixel_coord_lower:new c.bK(p),u_tile_units_to_pixels:new c.bM(p)}),circle:c.cS,collisionBox:p=>({u_matrix:new c.bJ(p),u_camera_to_center_distance:new c.bM(p),u_extrude_scale:new c.bK(p)}),collisionCircle:p=>({u_matrix:new c.bJ(p),u_inv_matrix:new c.bJ(p),u_camera_to_center_distance:new c.bM(p),u_viewport_size:new c.bK(p)}),debug:p=>({u_color:new c.cz(p),u_matrix:new c.bJ(p),u_overlay:new c.bN(p),u_overlay_scale:new c.bM(p)}),clippingMask:p=>({u_matrix:new c.bJ(p)}),heatmap:p=>({u_extrude_scale:new c.bM(p),u_intensity:new c.bM(p),u_matrix:new c.bJ(p),u_inv_rot_matrix:new c.bJ(p),u_merc_center:new c.bK(p),u_tile_id:new c.bL(p),u_zoom_transition:new c.bM(p),u_up_dir:new c.bL(p)}),heatmapTexture:p=>({u_image:new c.bN(p),u_color_ramp:new c.bN(p),u_opacity:new c.bM(p)}),hillshade:p=>({u_matrix:new c.bJ(p),u_image:new c.bN(p),u_latrange:new c.bK(p),u_light:new c.bK(p),u_shadow:new c.cz(p),u_highlight:new c.cz(p),u_emissive_strength:new c.bM(p),u_accent:new c.cz(p)}),hillshadePrepare:p=>({u_matrix:new c.bJ(p),u_image:new c.bN(p),u_dimension:new c.bK(p),u_zoom:new c.bM(p)}),line:c.cT,linePattern:c.cU,raster:p=>({u_matrix:new c.bJ(p),u_normalize_matrix:new c.bJ(p),u_globe_matrix:new c.bJ(p),u_merc_matrix:new c.bJ(p),u_grid_matrix:new c.cA(p),u_tl_parent:new c.bK(p),u_scale_parent:new c.bM(p),u_fade_t:new c.bM(p),u_opacity:new c.bM(p),u_image0:new c.bN(p),u_image1:new c.bN(p),u_brightness_low:new c.bM(p),u_brightness_high:new c.bM(p),u_saturation_factor:new c.bM(p),u_contrast_factor:new c.bM(p),u_spin_weights:new c.bL(p),u_perspective_transform:new c.bK(p),u_raster_elevation:new c.bM(p),u_zoom_transition:new c.bM(p),u_merc_center:new c.bK(p),u_cutoff_params:new c.ca(p),u_colorization_mix:new c.ca(p),u_colorization_offset:new c.bM(p),u_color_ramp:new c.bN(p),u_texture_offset:new c.bK(p),u_texture_res:new c.bK(p),u_emissive_strength:new c.bM(p)}),rasterParticle:p=>({u_matrix:new c.bJ(p),u_normalize_matrix:new c.bJ(p),u_globe_matrix:new c.bJ(p),u_merc_matrix:new c.bJ(p),u_grid_matrix:new c.cA(p),u_tl_parent:new c.bK(p),u_scale_parent:new c.bM(p),u_fade_t:new c.bM(p),u_opacity:new c.bM(p),u_image0:new c.bN(p),u_image1:new c.bN(p),u_raster_elevation:new c.bM(p),u_zoom_transition:new c.bM(p),u_merc_center:new c.bK(p),u_cutoff_params:new c.ca(p)}),rasterParticleTexture:p=>({u_texture:new c.bN(p),u_opacity:new c.bM(p)}),rasterParticleDraw:p=>({u_particle_texture:new c.bN(p),u_particle_texture_side_len:new c.bM(p),u_tile_offset:new c.bK(p),u_velocity:new c.bN(p),u_color_ramp:new c.bN(p),u_velocity_res:new c.bK(p),u_max_speed:new c.bM(p),u_uv_offset:new c.bK(p),u_data_scale:new c.bK(p),u_data_offset:new c.bM(p),u_particle_pos_scale:new c.bM(p),u_particle_pos_offset:new c.bK(p)}),rasterParticleUpdate:p=>({u_particle_texture:new c.bN(p),u_particle_texture_side_len:new c.bM(p),u_velocity:new c.bN(p),u_velocity_res:new c.bK(p),u_max_speed:new c.bM(p),u_speed_factor:new c.bM(p),u_reset_rate:new c.bM(p),u_rand_seed:new c.bM(p),u_uv_offset:new c.bK(p),u_data_scale:new c.bK(p),u_data_offset:new c.bM(p),u_particle_pos_scale:new c.bM(p),u_particle_pos_offset:new c.bK(p)}),symbol:p=>({u_is_size_zoom_constant:new c.bN(p),u_is_size_feature_constant:new c.bN(p),u_size_t:new c.bM(p),u_size:new c.bM(p),u_camera_to_center_distance:new c.bM(p),u_rotate_symbol:new c.bN(p),u_aspect_ratio:new c.bM(p),u_fade_change:new c.bM(p),u_matrix:new c.bJ(p),u_label_plane_matrix:new c.bJ(p),u_coord_matrix:new c.bJ(p),u_is_text:new c.bN(p),u_elevation_from_sea:new c.bN(p),u_pitch_with_map:new c.bN(p),u_texsize:new c.bK(p),u_texsize_icon:new c.bK(p),u_texture:new c.bN(p),u_texture_icon:new c.bN(p),u_gamma_scale:new c.bM(p),u_device_pixel_ratio:new c.bM(p),u_tile_id:new c.bL(p),u_zoom_transition:new c.bM(p),u_inv_rot_matrix:new c.bJ(p),u_merc_center:new c.bK(p),u_camera_forward:new c.bL(p),u_tile_matrix:new c.bJ(p),u_up_vector:new c.bL(p),u_ecef_origin:new c.bL(p),u_is_halo:new c.bN(p),u_icon_transition:new c.bM(p),u_color_adj_mat:new c.bJ(p),u_scale_factor:new c.bM(p)}),background:p=>({u_matrix:new c.bJ(p),u_emissive_strength:new c.bM(p),u_opacity:new c.bM(p),u_color:new c.cz(p)}),backgroundPattern:p=>({u_matrix:new c.bJ(p),u_emissive_strength:new c.bM(p),u_opacity:new c.bM(p),u_image:new c.bN(p),u_pattern_tl:new c.bK(p),u_pattern_br:new c.bK(p),u_texsize:new c.bK(p),u_pattern_size:new c.bK(p),u_pixel_coord_upper:new c.bK(p),u_pixel_coord_lower:new c.bK(p),u_pattern_units_to_pixels:new c.bK(p)}),terrainRaster:p=>({u_matrix:new c.bJ(p),u_image0:new c.bN(p),u_skirt_height:new c.bM(p),u_ground_shadow_factor:new c.bL(p)}),skybox:p=>({u_matrix:new c.bJ(p),u_sun_direction:new c.bL(p),u_cubemap:new c.bN(p),u_opacity:new c.bM(p),u_temporal_offset:new c.bM(p)}),skyboxGradient:p=>({u_matrix:new c.bJ(p),u_color_ramp:new c.bN(p),u_center_direction:new c.bL(p),u_radius:new c.bM(p),u_opacity:new c.bM(p),u_temporal_offset:new c.bM(p)}),skyboxCapture:p=>({u_matrix_3f:new c.cA(p),u_sun_direction:new c.bL(p),u_sun_intensity:new c.bM(p),u_color_tint_r:new c.ca(p),u_color_tint_m:new c.ca(p),u_luminance:new c.bM(p)}),globeRaster:p=>({u_proj_matrix:new c.bJ(p),u_globe_matrix:new c.bJ(p),u_normalize_matrix:new c.bJ(p),u_merc_matrix:new c.bJ(p),u_zoom_transition:new c.bM(p),u_merc_center:new c.bK(p),u_image0:new c.bN(p),u_grid_matrix:new c.cA(p),u_skirt_height:new c.bM(p),u_far_z_cutoff:new c.bM(p),u_frustum_tl:new c.bL(p),u_frustum_tr:new c.bL(p),u_frustum_br:new c.bL(p),u_frustum_bl:new c.bL(p),u_globe_pos:new c.bL(p),u_globe_radius:new c.bM(p),u_viewport:new c.bK(p)}),globeAtmosphere:p=>({u_frustum_tl:new c.bL(p),u_frustum_tr:new c.bL(p),u_frustum_br:new c.bL(p),u_frustum_bl:new c.bL(p),u_horizon:new c.bM(p),u_transition:new c.bM(p),u_fadeout_range:new c.bM(p),u_color:new c.ca(p),u_high_color:new c.ca(p),u_space_color:new c.ca(p),u_temporal_offset:new c.bM(p),u_horizon_angle:new c.bM(p)}),model:p=>({u_matrix:new c.bJ(p),u_lighting_matrix:new c.bJ(p),u_normal_matrix:new c.bJ(p),u_node_matrix:new c.bJ(p),u_lightpos:new c.bL(p),u_lightintensity:new c.bM(p),u_lightcolor:new c.bL(p),u_camera_pos:new c.bL(p),u_opacity:new c.bM(p),u_baseColorFactor:new c.ca(p),u_emissiveFactor:new c.ca(p),u_metallicFactor:new c.bM(p),u_roughnessFactor:new c.bM(p),u_baseTextureIsAlpha:new c.bN(p),u_alphaMask:new c.bN(p),u_alphaCutoff:new c.bM(p),u_baseColorTexture:new c.bN(p),u_metallicRoughnessTexture:new c.bN(p),u_normalTexture:new c.bN(p),u_occlusionTexture:new c.bN(p),u_emissionTexture:new c.bN(p),u_lutTexture:new c.bN(p),u_color_mix:new c.ca(p),u_aoIntensity:new c.bM(p),u_emissive_strength:new c.bM(p),u_occlusionTextureTransform:new c.ca(p)}),modelDepth:p=>({u_matrix:new c.bJ(p),u_instance:new c.bJ(p),u_node_matrix:new c.bJ(p)}),groundShadow:p=>({u_matrix:new c.bJ(p),u_ground_shadow_factor:new c.bL(p)}),stars:p=>({u_matrix:new c.bJ(p),u_up:new c.bL(p),u_right:new c.bL(p),u_intensity_multiplier:new c.bM(p)}),snowParticle:p=>({u_modelview:new c.bJ(p),u_projection:new c.bJ(p),u_time:new c.bM(p),u_cam_pos:new c.bL(p),u_velocityConeAperture:new c.bM(p),u_velocity:new c.bM(p),u_horizontalOscillationRadius:new c.bM(p),u_horizontalOscillationRate:new c.bM(p),u_boxSize:new c.bM(p),u_billboardSize:new c.bM(p),u_simpleShapeParameters:new c.bK(p),u_screenSize:new c.bK(p),u_thinningCenterPos:new c.bK(p),u_thinningShape:new c.bL(p),u_thinningAffectedRatio:new c.bM(p),u_thinningParticleOffset:new c.bM(p),u_particleColor:new c.ca(p),u_direction:new c.bL(p)}),rainParticle:p=>({u_modelview:new c.bJ(p),u_projection:new c.bJ(p),u_time:new c.bM(p),u_cam_pos:new c.bL(p),u_texScreen:new c.bN(p),u_velocityConeAperture:new c.bM(p),u_velocity:new c.bM(p),u_boxSize:new c.bM(p),u_rainDropletSize:new c.bK(p),u_distortionStrength:new c.bM(p),u_rainDirection:new c.bL(p),u_color:new c.ca(p),u_screenSize:new c.bK(p),u_thinningCenterPos:new c.bK(p),u_thinningShape:new c.bL(p),u_thinningAffectedRatio:new c.bM(p),u_thinningParticleOffset:new c.bM(p),u_shapeDirectionalPower:new c.bM(p),u_shapeNormalPower:new c.bM(p),u_mode:new c.bM(p)}),vignette:p=>({u_vignetteShape:new c.bL(p),u_vignetteColor:new c.ca(p)}),occlusion:p=>({u_matrix:new c.bJ(p),u_anchorPos:new c.bL(p),u_screenSizePx:new c.bK(p),u_occluderSizePx:new c.bK(p),u_color:new c.ca(p)})};class Ac{constructor(r,l,m,_){this.id=Ac.uniqueIdxCounter,Ac.uniqueIdxCounter++,this.context=r;const x=r.gl;this.buffer=x.createBuffer(),this.dynamicDraw=!!m,this.context.unbindVAO(),r.bindElementBuffer.set(this.buffer),x.bufferData(x.ELEMENT_ARRAY_BUFFER,l.arrayBuffer,this.dynamicDraw?x.DYNAMIC_DRAW:x.STATIC_DRAW),this.dynamicDraw||_||l.destroy()}bind(){this.context.bindElementBuffer.set(this.buffer)}updateData(r){this.id=Ac.uniqueIdxCounter,Ac.uniqueIdxCounter++;const l=this.context.gl;this.context.unbindVAO(),this.bind(),l.bufferSubData(l.ELEMENT_ARRAY_BUFFER,0,r.arrayBuffer)}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}Ac.uniqueIdxCounter=0;const Vc={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"};class hd{constructor(r,l,m,_,x,E){this.length=l.length,this.attributes=m,this.itemSize=l.bytesPerElement,this.dynamicDraw=_,this.instanceCount=E,this.context=r;const R=r.gl;this.buffer=R.createBuffer(),r.bindVertexBuffer.set(this.buffer),R.bufferData(R.ARRAY_BUFFER,l.arrayBuffer,this.dynamicDraw?R.DYNAMIC_DRAW:R.STATIC_DRAW),this.dynamicDraw||x||l.destroy()}bind(){this.context.bindVertexBuffer.set(this.buffer)}updateData(r){const l=this.context.gl;this.bind(),l.bufferSubData(l.ARRAY_BUFFER,0,r.arrayBuffer)}enableAttributes(r,l){for(let m=0;m<this.attributes.length;m++){const _=l.attributes[this.attributes[m].name];_!==void 0&&r.enableVertexAttribArray(_)}}setVertexAttribPointers(r,l,m){for(let _=0;_<this.attributes.length;_++){const x=this.attributes[_],E=l.attributes[x.name];E!==void 0&&r.vertexAttribPointer(E,x.components,r[Vc[x.type]],!1,this.itemSize,x.offset+this.itemSize*(m||0))}}setVertexAttribDivisor(r,l,m){for(let _=0;_<this.attributes.length;_++){const x=l.attributes[this.attributes[_].name];x!==void 0&&this.instanceCount&&this.instanceCount>0&&r.vertexAttribDivisor(x,m)}}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}class vm{constructor(r,l,m,_,x){this.context=r,this.width=l,this.height=m;const E=this.framebuffer=r.gl.createFramebuffer();_&&(this.colorAttachment=new wn(r,E)),x&&(this.depthAttachmentType=x,this.depthAttachment=x==="renderbuffer"?new zr(r,E):new oo(r,E))}destroy(){const r=this.context.gl;if(this.colorAttachment){const l=this.colorAttachment.get();l&&r.deleteTexture(l)}if(this.depthAttachment&&this.depthAttachmentType)if(this.depthAttachmentType==="renderbuffer"){const l=this.depthAttachment.get();l&&r.deleteRenderbuffer(l)}else{const l=this.depthAttachment.get();l&&r.deleteTexture(l)}r.deleteFramebuffer(this.framebuffer)}}class op{constructor(r,l){this.gl=r,this.clearColor=new Vu(this),this.clearDepth=new Xf(this),this.clearStencil=new Od(this),this.colorMask=new of(this),this.depthMask=new af(this),this.stencilMask=new sf(this),this.stencilFunc=new Rd(this),this.stencilOp=new ud(this),this.stencilTest=new $d(this),this.depthRange=new Yf(this),this.depthTest=new Ul(this),this.depthFunc=new qf(this),this.blend=new Ad(this),this.blendFunc=new Jf(this),this.blendColor=new Qf(this),this.blendEquation=new eh(this),this.cullFace=new th(this),this.cullFaceSide=new nh(this),this.frontFace=new Tu(this),this.program=new Dd(this),this.activeTexture=new lm(this),this.viewport=new rh(this),this.bindFramebuffer=new Hu(this),this.bindRenderbuffer=new ih(this),this.bindTexture=new cm(this),this.bindVertexBuffer=new um(this),this.bindElementBuffer=new dm(this),this.bindVertexArrayOES=new oh(this),this.pixelStoreUnpack=new Qh(this),this.pixelStoreUnpackPremultiplyAlpha=new ah(this),this.pixelStoreUnpackFlipY=new sh(this),this.options=l?Object.assign({},l):{},this.options.extTextureFilterAnisotropicForceOff||(this.extTextureFilterAnisotropic=r.getExtension("EXT_texture_filter_anisotropic")||r.getExtension("MOZ_EXT_texture_filter_anisotropic")||r.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=r.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT))),this.extDebugRendererInfo=r.getExtension("WEBGL_debug_renderer_info"),this.extDebugRendererInfo&&(this.renderer=r.getParameter(this.extDebugRendererInfo.UNMASKED_RENDERER_WEBGL),this.vendor=r.getParameter(this.extDebugRendererInfo.UNMASKED_VENDOR_WEBGL)),this.forceManualRenderingForInstanceIDShaders=l&&!!l.forceManualRenderingForInstanceIDShaders||this.renderer&&this.renderer.indexOf("PowerVR")!==-1,this.options.extTextureFloatLinearForceOff||(this.extTextureFloatLinear=r.getExtension("OES_texture_float_linear")),this.extRenderToTextureHalfFloat=r.getExtension("EXT_color_buffer_half_float"),this.extTimerQuery=r.getExtension("EXT_disjoint_timer_query_webgl2"),this.maxTextureSize=r.getParameter(r.MAX_TEXTURE_SIZE),this.maxPointSize=r.getParameter(r.ALIASED_POINT_SIZE_RANGE)[1]}setDefault(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()}setDirty(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.bindVertexArrayOES.dirty=!0,this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0}createIndexBuffer(r,l,m){return new Ac(this,r,l,m)}createVertexBuffer(r,l,m,_,x){return new hd(this,r,l,m,_,x)}createRenderbuffer(r,l,m){const _=this.gl,x=_.createRenderbuffer();return this.bindRenderbuffer.set(x),_.renderbufferStorage(_.RENDERBUFFER,r,l,m),this.bindRenderbuffer.set(null),x}createFramebuffer(r,l,m,_){return new vm(this,r,l,m,_)}clear({color:r,depth:l,stencil:m,colorMask:_}){const x=this.gl;let E=0;r&&(E|=x.COLOR_BUFFER_BIT,this.clearColor.set(r),this.colorMask.set(_||[!0,!0,!0,!0])),l!==void 0&&(E|=x.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(l),this.depthMask.set(!0)),m!==void 0&&(E|=x.STENCIL_BUFFER_BIT,this.clearStencil.set(m),this.stencilMask.set(255)),x.clear(E)}setCullFace(r){r.enable===!1?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(r.mode),this.frontFace.set(r.frontFace))}setDepthMode(r){r.func!==this.gl.ALWAYS||r.mask?(this.depthTest.set(!0),this.depthFunc.set(r.func),this.depthMask.set(r.mask),this.depthRange.set(r.range)):this.depthTest.set(!1)}setStencilMode(r){r.test.func!==this.gl.ALWAYS||r.mask?(this.stencilTest.set(!0),this.stencilMask.set(r.mask),this.stencilOp.set([r.fail,r.depthFail,r.pass]),this.stencilFunc.set({func:r.test.func,ref:r.ref,mask:r.test.mask})):this.stencilTest.set(!1)}setColorMode(r){c.bn(r.blendFunction,sa.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(r.blendFunction),this.blendColor.set(r.blendColor),r.blendEquation?this.blendEquation.set(r.blendEquation):this.blendEquation.setDefault()),this.colorMask.set(r.mask)}unbindVAO(){this.bindVertexArrayOES.set(null)}}let hf;function ap(p,r,l,m,_,x,E){const R=p.context,B=R.gl,V=p.transform,U=p.getOrCreateProgram("collisionBox"),Q=[];let ee=0,ce=0;for(let _t=0;_t<m.length;_t++){const Vt=m[_t],Lt=r.getTile(Vt),Bt=Lt.getBucket(l);if(!Bt)continue;const Dt=Po(Vt,Bt,V);let rn=Dt;_[0]===0&&_[1]===0||(rn=p.translatePosMatrix(Dt,Lt,_,x));const xn=E?Bt.textCollisionBox:Bt.iconCollisionBox,dr=Bt.collisionCircleArray;if(dr.length>0){const Jn=c.ab.mat4.create(),Br=rn;c.ab.mat4.mul(Jn,Bt.placementInvProjMatrix,V.glCoordMatrix),c.ab.mat4.mul(Jn,Jn,Bt.placementViewportMatrix),Q.push({circleArray:dr,circleOffset:ce,transform:Br,invTransform:Jn,projection:Bt.getProjection()}),ee+=dr.length/4,ce=ee}xn&&(p.terrain&&p.terrain.setupElevationDraw(Lt,U),U.draw(p,B.LINES,Fo.disabled,Qo.disabled,p.colorModeForRenderPass(),ia.disabled,Zg(rn,V,Lt,Bt.getProjection()),l.id,xn.layoutVertexBuffer,xn.indexBuffer,xn.segments,null,V.zoom,null,[xn.collisionVertexBuffer,xn.collisionVertexBufferExt]))}if(!E||!Q.length)return;const Me=p.getOrCreateProgram("collisionCircle"),Se=new c.cV;Se.resize(4*ee),Se._trim();let Le=0;for(const _t of Q)for(let Vt=0;Vt<_t.circleArray.length/4;Vt++){const Lt=4*Vt,Bt=_t.circleArray[Lt+0],Dt=_t.circleArray[Lt+1],rn=_t.circleArray[Lt+2],xn=_t.circleArray[Lt+3];Se.emplace(Le++,Bt,Dt,rn,xn,0),Se.emplace(Le++,Bt,Dt,rn,xn,1),Se.emplace(Le++,Bt,Dt,rn,xn,2),Se.emplace(Le++,Bt,Dt,rn,xn,3)}(!hf||hf.length<2*ee)&&(hf=function(_t){const Vt=2*_t,Lt=new c.aU;Lt.resize(Vt),Lt._trim();for(let Bt=0;Bt<Vt;Bt++){const Dt=6*Bt;Lt.uint16[Dt+0]=4*Bt+0,Lt.uint16[Dt+1]=4*Bt+1,Lt.uint16[Dt+2]=4*Bt+2,Lt.uint16[Dt+3]=4*Bt+2,Lt.uint16[Dt+4]=4*Bt+3,Lt.uint16[Dt+5]=4*Bt+0}return Lt}(ee));const Ae=R.createIndexBuffer(hf,!0),rt=R.createVertexBuffer(Se,c.cW.members,!0);for(const _t of Q){const Vt={u_matrix:_t.transform,u_inv_matrix:_t.invTransform,u_camera_to_center_distance:(St=V).getCameraToCenterDistance(_t.projection),u_viewport_size:[St.width,St.height]};Me.draw(p,B.TRIANGLES,Fo.disabled,Qo.disabled,p.colorModeForRenderPass(),ia.disabled,Vt,l.id,rt,Ae,c.b7.simpleSegment(0,2*_t.circleOffset,_t.circleArray.length,_t.circleArray.length/2),null,V.zoom)}var St;rt.destroy(),Ae.destroy()}const pf=c.ab.mat4.create();function au(p){const r=p._camera.getWorldToCamera(p.worldSize,1),l=c.ab.mat4.multiply([],r,p.globeMatrix);c.ab.mat4.invert(l,l);const m=[0,0,0],_=[0,1,0,0];return c.ab.vec4.transformMat4(_,_,l),m[0]=_[0],m[1]=_[1],m[2]=_[2],c.ab.vec3.normalize(m,m),m}function Ws({width:p,height:r,anchor:l,textOffset:m,textScale:_},x){const{horizontalAlign:E,verticalAlign:R}=c.bD(l),B=-(E-.5)*p,V=-(R-.5)*r,U=c.bC(l,m);return new c.P((B/_+U[0])*x,(V/_+U[1])*x)}function sp(p,r,l,m,_,x,E,R,B,V,U){const Q=p.text.placedSymbolArray,ee=p.text.dynamicLayoutVertexArray,ce=p.icon.dynamicLayoutVertexArray,Me={},Se=p.getProjection(),Le=aa(R,Se,x),Ae=x.elevation,rt=Se.upVectorScale(R.canonical,x.center.lat,x.worldSize).metersToTile;ee.clear();for(let St=0;St<Q.length;St++){const _t=Q.get(St),{tileAnchorX:Vt,tileAnchorY:Lt,numGlyphs:Bt}=_t,Dt=_t.hidden||!_t.crossTileID||p.allowVerticalPlacement&&!_t.placedOrientation?null:m[_t.crossTileID];if(Dt){let rn=0,xn=0,dr=0;if(Ae){const _r=Ae?Ae.getAtTileOffset(R,Vt,Lt):0,[$i,ti,jr]=Se.upVector(R.canonical,Vt,Lt);rn=_r*$i*rt,xn=_r*ti*rt,dr=_r*jr*rt}let[Jn,Br,Ar,Zn]=Be(_t.projectedAnchorX+rn,_t.projectedAnchorY+xn,_t.projectedAnchorZ+dr,l?Le:E);const vr=Nt(x.getCameraToCenterDistance(Se),Zn);let oi=_.evaluateSizeForFeature(p.textSizeData,V,_t)*vr/c.bw;l&&(oi*=p.tilePixelRatio/B);const jn=Ws(Dt,oi);l?({x:Jn,y:Br,z:Ar}=Se.projectTilePoint(Vt+jn.x,Lt+jn.y,R.canonical),[Jn,Br,Ar]=Be(Jn+rn,Br+xn,Ar+dr,E)):(r&&jn._rotate(-x.angle),Jn+=jn.x,Br+=jn.y,Ar=0);const Vr=p.allowVerticalPlacement&&_t.placedOrientation===c.bq.vertical?Math.PI/2:0;for(let _r=0;_r<Bt;_r++)c.bt(ee,Jn,Br,Ar,Vr);U&&_t.associatedIconIndex>=0&&(Me[_t.associatedIconIndex]={x:Jn,y:Br,z:Ar,angle:Vr})}else Oi(Bt,ee)}if(U){ce.clear();const St=p.icon.placedSymbolArray;for(let _t=0;_t<St.length;_t++){const Vt=St.get(_t),{numGlyphs:Lt}=Vt,Bt=Me[_t];if(Vt.hidden||!Bt)Oi(Lt,ce);else{const{x:Dt,y:rn,z:xn,angle:dr}=Bt;for(let Jn=0;Jn<Lt;Jn++)c.bt(ce,Dt,rn,xn,dr)}}p.icon.dynamicLayoutVertexBuffer.updateData(ce)}p.text.dynamicLayoutVertexBuffer.updateData(ee)}function dh(p,r,l,m,_,x,E={}){const R=l.paint.get("icon-translate"),B=l.paint.get("text-translate"),V=l.paint.get("icon-translate-anchor"),U=l.paint.get("text-translate-anchor"),Q=l.layout.get("icon-rotation-alignment"),ee=l.layout.get("text-rotation-alignment"),ce=l.layout.get("icon-pitch-alignment"),Me=l.layout.get("text-pitch-alignment"),Se=l.layout.get("icon-keep-upright"),Le=l.layout.get("text-keep-upright"),Ae=l.paint.get("icon-color-saturation"),rt=l.paint.get("icon-color-contrast"),St=l.paint.get("icon-color-brightness-min"),_t=l.paint.get("icon-color-brightness-max"),Vt=l.layout.get("symbol-elevation-reference")==="sea",Lt=p.context,Bt=Lt.gl,Dt=p.transform,rn=Q==="map",xn=ee==="map",dr=ce==="map",Jn=Me==="map",Br=l.layout.get("symbol-sort-key").constantOr(1)!==void 0;let Ar=!1;const Zn=p.depthModeForSublayer(0,Fo.ReadOnly),vr=[c.at(Dt.center.lng),c.aA(Dt.center.lat)],oi=l.layout.get("text-variable-anchor"),jn=Dt.projection.name==="globe",Vr=[],_r=[0,-1,0];for(const $i of m){const ti=r.getTile($i),jr=ti.getBucket(l);if(!jr||jr.projection.name==="mercator"&&jn||jr.fullyClipped)continue;const Ci=jr.projection.name==="globe",Li=Ci?c.ae(Dt.zoom):0,ro=aa($i,jr.getProjection(),Dt),vo=Dt.calculatePixelsToTileUnitsMatrix(ti),la=oi&&jr.hasTextData(),Wo=jr.hasIconTextFit()&&la&&jr.hasIconData(),Ko=jr.getProjection().createInversionMatrix(Dt,$i.canonical),ya=ys=>{Dt.depthOcclusionForSymbolsAndCircles&&(l.hasInitialOcclusionOpacityProperties||p.terrain)&&(ys.push("DEPTH_D24"),ys.push("DEPTH_OCCLUSION"))},as=()=>{const ys=rn&&l.layout.get("symbol-placement")!=="point",xs=[];ya(xs);const dl=ys||Wo,Gl=l.paint.get("icon-image-cross-fade").constantOr(0);p.terrainRenderModeElevated()&&dr&&xs.push("PITCH_WITH_MAP_TERRAIN"),Ci&&(xs.push("PROJECTION_GLOBE_VIEW"),dl&&xs.push("PROJECTED_POS_ON_VIEWPORT")),Gl>0&&xs.push("ICON_TRANSITION"),jr.icon.zOffsetVertexBuffer&&xs.push("Z_OFFSET"),Ae===0&&rt===0&&St===0&&_t===1||xs.push("COLOR_ADJUSTMENT"),jr.sdfIcons&&xs.push("RENDER_SDF");const Bl=jr.icon.programConfigurations.get(l.id),Fl=p.getOrCreateProgram("symbol",{config:Bl,defines:xs}),eu=ti.imageAtlasTexture?ti.imageAtlasTexture.size:[0,0],Ic=jr.iconSizeData,al=c.bp(Ic,Dt.zoom),ks=dr||Dt.pitch!==0,Rs=Ye(ro,ti.tileID.canonical,dr,rn,Dt,jr.getProjection(),vo),rs=Ke(ro,ti.tileID.canonical,dr,rn,Dt,jr.getProjection(),vo),fl=p.translatePosMatrix(rs,ti,R,V,!0),nc=p.translatePosMatrix(ro,ti,R,V),Ns=dl?pf:Rs,Tc=rn&&!dr&&!ys;let Uc=_r;!jn&&!Dt.mercatorFromTransition||rn||(Uc=au(Dt));const Wc=Ci?Uc:_r,Mc=l.getColorAdjustmentMatrix(Ae,rt,St,_t),bu=Bd(Ic.kind,al,Tc,dr,p,nc,Ns,fl,Vt,!1,eu,[0,0],!0,$i,Li,vr,Ko,Wc,jr.getProjection(),Mc,Gl),cu=ti.imageAtlasTexture?ti.imageAtlasTexture:null,pc=l.layout.get("icon-size").constantOr(0)!==1||jr.iconsNeedLinear,Xd=jr.sdfIcons||p.options.rotating||p.options.zooming||pc||ks?Bt.LINEAR:Bt.NEAREST,Au=jr.sdfIcons&&l.paint.get("icon-halo-width").constantOr(1)!==0,xu=p.terrain&&dr&&ys?c.ab.mat4.invert(c.ab.mat4.create(),Rs):pf;if(ys&&jr.icon){const _d=Dt.elevation,wp=_d?_d.getAtTileOffsetFunc($i,Dt.center.lat,Dt.worldSize,jr.getProjection()):null,Lm=Ce(ro,ti.tileID.canonical,dr,rn,Dt,jr.getProjection(),vo);tr(jr,ro,p,!1,Lm,rs,dr,Se,wp,$i)}return{program:Fl,buffers:jr.icon,uniformValues:bu,atlasTexture:cu,atlasTextureIcon:null,atlasInterpolation:Xd,atlasInterpolationIcon:null,isSDF:jr.sdfIcons,hasHalo:Au,tile:ti,labelPlaneMatrixInv:xu}},ms=()=>{const ys=xn&&l.layout.get("symbol-placement")!=="point",xs=[],dl=ys||oi||Wo;p.terrainRenderModeElevated()&&Jn&&xs.push("PITCH_WITH_MAP_TERRAIN"),Ci&&(xs.push("PROJECTION_GLOBE_VIEW"),dl&&xs.push("PROJECTED_POS_ON_VIEWPORT")),jr.text.zOffsetVertexBuffer&&xs.push("Z_OFFSET"),jr.iconsInText&&xs.push("RENDER_TEXT_AND_SYMBOL"),xs.push("RENDER_SDF"),ya(xs);const Gl=jr.text.programConfigurations.get(l.id),Bl=p.getOrCreateProgram("symbol",{config:Gl,defines:xs});let Fl,eu=[0,0],Ic=null;const al=jr.textSizeData;jr.iconsInText&&(eu=ti.imageAtlasTexture?ti.imageAtlasTexture.size:[0,0],Ic=ti.imageAtlasTexture?ti.imageAtlasTexture:null,Fl=Jn||Dt.pitch!==0||p.options.rotating||p.options.zooming||al.kind==="composite"||al.kind==="camera"?Bt.LINEAR:Bt.NEAREST);const ks=ti.glyphAtlasTexture?ti.glyphAtlasTexture.size:[0,0],Rs=l.layout.get("text-size-scale-range"),rs=c.aw(p.scaleFactor,Rs[0],Rs[1]),fl=c.bp(al,Dt.zoom,rs),nc=Ye(ro,ti.tileID.canonical,Jn,xn,Dt,jr.getProjection(),vo),Ns=Ke(ro,ti.tileID.canonical,Jn,xn,Dt,jr.getProjection(),vo),Tc=p.translatePosMatrix(Ns,ti,B,U,!0),Uc=p.translatePosMatrix(ro,ti,B,U),Wc=dl?pf:nc,Mc=xn&&!Jn&&!ys;let bu=_r;!jn&&!Dt.mercatorFromTransition||xn||(bu=au(Dt));const cu=Bd(al.kind,fl,Mc,Jn,p,Uc,Wc,Tc,Vt,!0,ks,eu,!0,$i,Li,vr,Ko,Ci?bu:_r,jr.getProjection(),null,null,rs),pc=ti.glyphAtlasTexture?ti.glyphAtlasTexture:null,Xd=Bt.LINEAR,Au=l.paint.get("text-halo-width").constantOr(1)!==0,xu=p.terrain&&Jn&&ys?c.ab.mat4.invert(c.ab.mat4.create(),nc):pf;if(ys&&jr.text){const _d=Dt.elevation,wp=_d?_d.getAtTileOffsetFunc($i,Dt.center.lat,Dt.worldSize,jr.getProjection()):null,Lm=Ce(ro,ti.tileID.canonical,Jn,xn,Dt,jr.getProjection(),vo);tr(jr,ro,p,!0,Lm,Ns,Jn,Le,wp,$i)}return{program:Bl,buffers:jr.text,uniformValues:cu,atlasTexture:pc,atlasTextureIcon:Ic,atlasInterpolation:Xd,atlasInterpolationIcon:Fl,isSDF:!0,hasHalo:Au,tile:ti,labelPlaneMatrixInv:xu}},ul=jr.icon.segments.get().length,Ks=jr.text.segments.get().length,Pa=ul&&!E.onlyText?as():null,us=Ks&&!E.onlyIcons?ms():null,Do=l.paint.get("icon-opacity").constantOr(1),xa=l.paint.get("text-opacity").constantOr(1);if(Br&&jr.canOverlap){Ar=!0;const ys=Do&&!E.onlyText?jr.icon.segments.get():[],xs=xa&&!E.onlyIcons?jr.text.segments.get():[];for(const dl of ys)Vr.push({segments:new c.b7([dl]),sortKey:dl.sortKey,state:Pa});for(const dl of xs)Vr.push({segments:new c.b7([dl]),sortKey:dl.sortKey,state:us})}else E.onlyText||Vr.push({segments:Do?jr.icon.segments:new c.b7([]),sortKey:0,state:Pa}),E.onlyIcons||Vr.push({segments:xa?jr.text.segments:new c.b7([]),sortKey:0,state:us})}Ar&&Vr.sort(($i,ti)=>$i.sortKey-ti.sortKey);for(const $i of Vr){const ti=$i.state;if(ti)if(p.terrain?p.terrain.setupElevationDraw(ti.tile,ti.program,{useDepthForOcclusion:Dt.depthOcclusionForSymbolsAndCircles,labelPlaneMatrixInv:ti.labelPlaneMatrixInv}):p.setupDepthForOcclusion(Dt.depthOcclusionForSymbolsAndCircles,ti.program),Lt.activeTexture.set(Bt.TEXTURE0),ti.atlasTexture&&ti.atlasTexture.bind(ti.atlasInterpolation,Bt.CLAMP_TO_EDGE,!0),ti.atlasTextureIcon&&(Lt.activeTexture.set(Bt.TEXTURE1),ti.atlasTextureIcon&&ti.atlasTextureIcon.bind(ti.atlasInterpolationIcon,Bt.CLAMP_TO_EDGE,!0)),p.uploadCommonLightUniforms(p.context,ti.program),ti.hasHalo){const jr=ti.uniformValues;jr.u_is_halo=1,lp(ti.buffers,$i.segments,l,p,ti.program,Zn,_,x,jr,2),jr.u_is_halo=0}else{if(ti.isSDF){const jr=ti.uniformValues;ti.hasHalo&&(jr.u_is_halo=1,lp(ti.buffers,$i.segments,l,p,ti.program,Zn,_,x,jr,1)),jr.u_is_halo=0}lp(ti.buffers,$i.segments,l,p,ti.program,Zn,_,x,ti.uniformValues,1)}}}function lp(p,r,l,m,_,x,E,R,B,V){const U=[p.dynamicLayoutVertexBuffer,p.opacityVertexBuffer,p.iconTransitioningVertexBuffer,p.globeExtVertexBuffer,p.zOffsetVertexBuffer];_.draw(m,m.context.gl.TRIANGLES,x,E,R,ia.disabled,B,l.id,p.layoutVertexBuffer,p.indexBuffer,r,l.paint,m.transform.zoom,p.programConfigurations.get(l.id),U,V)}function ym(p,r,l,m,_,x,E){const R=p.context.gl,B=l.paint.get("fill-pattern"),V=l.is3D(),U=V?p.stencilModeFor3D():Qo.disabled,Q=B&&B.constantOr(1);let ee,ce,Me,Se,Le;E?(ce=Q&&!l.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",ee=R.LINES):(ce=Q?"fillPattern":"fill",ee=R.TRIANGLES);for(const Ae of m){const rt=r.getTile(Ae);if(Q&&!rt.patternsLoaded())continue;const St=rt.getBucket(l);if(!St)continue;p.prepareDrawTile();const _t=St.programConfigurations.get(l.id),Vt=p.isTileAffectedByFog(Ae),Lt=p.getOrCreateProgram(ce,{config:_t,overrideFog:Vt});Q&&(p.context.activeTexture.set(R.TEXTURE0),rt.imageAtlasTexture&&rt.imageAtlasTexture.bind(R.LINEAR,R.CLAMP_TO_EDGE),_t.updatePaintBuffers());const Bt=B.constantOr(null);if(Bt&&rt.imageAtlas){const xn=rt.imageAtlas,dr=c.A.from(Bt).getPrimary().scaleSelf(c.q.devicePixelRatio).serialize(),Jn=xn.patternPositions[dr];Jn&&_t.setConstantPatternPositions(Jn)}const Dt=p.translatePosMatrix(Ae.projMatrix,rt,l.paint.get("fill-translate"),l.paint.get("fill-translate-anchor")),rn=l.paint.get("fill-emissive-strength");if(E){Se=St.indexBuffer2,Le=St.segments2;const xn=p.terrain&&p.terrain.renderingToTexture?p.terrain.drapeBufferSize:[R.drawingBufferWidth,R.drawingBufferHeight];Me=ce==="fillOutlinePattern"&&Q?Iv(Dt,rn,p,rt,xn):hm(Dt,rn,xn)}else Se=St.indexBuffer,Le=St.segments,Me=Q?Ld(Dt,rn,p,rt):ch(Dt,rn);p.uploadCommonUniforms(p.context,Lt,Ae.toUnwrapped()),Lt.draw(p,ee,_,V?U:p.stencilModeForClipping(Ae),x,ia.disabled,Me,l.id,St.layoutVertexBuffer,Se,Le,l.paint,p.transform.zoom,_t,void 0)}}function fh(p,r,l,m,_,x,E,R){l.resetLayerRenderingStats(p);const B=p.context,V=B.gl,U=p.transform,Q=l.paint.get("fill-extrusion-pattern"),ee=Q.constantOr(1),ce=l.paint.get("fill-extrusion-opacity"),Me=p.style.enable3dLights(),Se=l.paint.get(Me&&!ee?"fill-extrusion-ambient-occlusion-wall-radius":"fill-extrusion-ambient-occlusion-radius"),Le=[l.paint.get("fill-extrusion-ambient-occlusion-intensity"),Se],Ae=l.layout.get("fill-extrusion-edge-radius"),rt=Ae>0&&!l.paint.get("fill-extrusion-rounded-roof"),St=rt?0:Ae,_t=U.projection.name==="globe"?c.d3():0,Vt=U.projection.name==="globe",Lt=Vt?c.ae(U.zoom):0,Bt=[c.at(U.center.lng),c.aA(U.center.lat)],Dt=l.paint.get("fill-extrusion-flood-light-color-use-theme").constantOr("default")==="none",rn=l.paint.get("fill-extrusion-flood-light-color").toRenderColor(Dt?null:l.lut).toArray01().slice(0,3),xn=l.paint.get("fill-extrusion-flood-light-intensity"),dr=l.paint.get("fill-extrusion-vertical-scale"),Jn=l.paint.get("fill-extrusion-line-width").constantOr(1)!==0,Br=l.paint.get("fill-extrusion-height-alignment"),Ar=l.paint.get("fill-extrusion-base-alignment"),Zn=on(p,l.paint.get("fill-extrusion-cutoff-fade-range")),vr=[];let oi;Vt&&vr.push("PROJECTION_GLOBE_VIEW"),Le[0]>0&&vr.push("FAUX_AO"),rt&&vr.push("ZERO_ROOF_RADIUS"),R&&vr.push("HAS_CENTROID"),xn>0&&vr.push("FLOOD_LIGHT"),Zn.shouldRenderCutoff&&vr.push("RENDER_CUTOFF"),Jn&&vr.push("RENDER_WALL_MODE");const jn=p.renderPass==="shadow",Vr=p.shadowRenderer,_r=jn&&!!Vr;p.shadowRenderer&&(p.shadowRenderer.useNormalOffset=!0);let $i=[0,0,0];if(Vr){const Ci=p.style.directionalLight,Li=p.style.ambientLight;Ci&&Li&&($i=Ji(p.style,Ci,Li)),jn||(vr.push("RENDER_SHADOWS","DEPTH_TEXTURE"),Vr.useNormalOffset&&vr.push("NORMAL_OFFSET")),oi=vr.concat(["SHADOWS_SINGLE_CASCADE"])}const ti=_r?"fillExtrusionDepth":ee?"fillExtrusionPattern":"fillExtrusion",jr=l.getLayerRenderingStats();for(const Ci of m){const Li=r.getTile(Ci),ro=Li.getBucket(l);if(!ro||ro.projection.name!==U.projection.name)continue;let vo=!1;Vr&&(vo=Vr.getMaxCascadeForTile(Ci.toUnwrapped())===0);const la=p.isTileAffectedByFog(Ci),Wo=ro.programConfigurations.get(l.id),Ko=p.getOrCreateProgram(ti,{config:Wo,defines:vo?oi:vr,overrideFog:la});if(p.terrain&&p.terrain.setupElevationDraw(Li,Ko,{useMeterToDem:!0}),!ro.centroidVertexBuffer){const us=Ko.attributes.a_centroid_pos;us!==void 0&&V.vertexAttrib2f(us,0,0)}!jn&&Vr&&Vr.setupShadows(Li.tileID.toUnwrapped(),Ko,"vector-tile",Li.tileID.overscaledZ),ee&&(p.context.activeTexture.set(V.TEXTURE0),Li.imageAtlasTexture&&Li.imageAtlasTexture.bind(V.LINEAR,V.CLAMP_TO_EDGE),Wo.updatePaintBuffers());const ya=Q.constantOr(null);if(ya&&Li.imageAtlas){const us=Li.imageAtlas,Do=c.A.from(ya).getPrimary().scaleSelf(c.q.devicePixelRatio),xa=us.patternPositions[Do.serialize()];xa&&Wo.setConstantPatternPositions(xa)}const as=l.paint.get("fill-extrusion-vertical-gradient"),ms=1/ro.tileToMeter;let ul;if(jn&&Vr){if(kd(Li.tileID,ro,p))continue;const us=Vr.calculateShadowPassMatrixFromTile(Li.tileID.toUnwrapped());ul=df(us,St,ms,dr,Br,Ar)}else{const us=p.translatePosMatrix(Ci.expandedProjMatrix,Li,l.paint.get("fill-extrusion-translate"),l.paint.get("fill-extrusion-translate-anchor")),Do=U.projection.createInversionMatrix(U,Ci.canonical);ul=ee?fm(us,p,as,ce,Le,St,ms,Ci,Li,_t,Br,Ar,Lt,Bt,Do,rn,dr):lh(us,p,as,ce,Le,St,ms,Ci,_t,Br,Ar,Lt,Bt,Do,rn,dr,xn,$i)}p.uploadCommonUniforms(B,Ko,Ci.toUnwrapped(),null,Zn);let Ks=ro.segments;if(U.projection.name==="mercator"&&!jn&&(Ks=ro.getVisibleSegments(Li.tileID,p.terrain,p.transform.getFrustum(0)),!Ks.get().length))continue;if(jr)if(jn)for(const us of Ks.get())jr.numRenderedVerticesInShadowPass+=us.primitiveLength;else for(const us of Ks.get())jr.numRenderedVerticesInTransparentPass+=us.primitiveLength;const Pa=[];(p.terrain||R)&&Pa.push(ro.centroidVertexBuffer),Vt&&Pa.push(ro.layoutVertexExtBuffer),Jn&&Pa.push(ro.wallVertexBuffer),Ko.draw(p,B.gl.TRIANGLES,_,x,E,ia.backCCW,ul,l.id,ro.layoutVertexBuffer,ro.indexBuffer,Ks,l.paint,p.transform.zoom,Wo,Pa)}p.shadowRenderer&&(p.shadowRenderer.useNormalOffset=!1)}function hh(p,r,l,m,_,x,E,R,B,V,U,Q,ee,ce,Me,Se,Le,Ae,rt){const St=p.context,_t=St.gl,Vt=p.transform,Lt=p.transform.zoom,Bt=[],Dt=on(p,l.paint.get("fill-extrusion-cutoff-fade-range"));V==="clear"?(Bt.push("CLEAR_SUBPASS"),rt&&(Bt.push("CLEAR_FROM_TEXTURE"),St.activeTexture.set(_t.TEXTURE0),rt.bind(_t.LINEAR,_t.CLAMP_TO_EDGE))):V==="sdf"&&Bt.push("SDF_SUBPASS"),Le&&Bt.push("HAS_CENTROID"),Dt.shouldRenderCutoff&&Bt.push("RENDER_CUTOFF");const rn=l.layout.get("fill-extrusion-edge-radius"),xn=(dr,Jn,Br,Ar,Zn)=>{const vr=Jn.programConfigurations.get(l.id),oi=p.isTileAffectedByFog(dr),jn=p.getOrCreateProgram("fillExtrusionGroundEffect",{config:vr,defines:Bt,overrideFog:oi}),Vr=(($i,ti,jr,Ci,Li,ro,vo,la,Wo,Ko,ya)=>({u_matrix:ti,u_opacity:jr,u_ao_pass:Ci?1:0,u_meter_to_tile:Li,u_ao:ro,u_flood_light_intensity:vo,u_flood_light_color:la,u_attenuation:Wo,u_edge_radius:Ko,u_fb:0,u_fb_size:ya,u_dynamic_offset:1}))(0,Ar,U,B,Zn,[Q,ee*Zn],ce,Me,Se,Lt>=17?0:rn*Zn,rt?rt.size[0]:0),_r=[];Le&&_r.push(Jn.hiddenByLandmarkVertexBuffer),p.uploadCommonUniforms(St,jn,dr.toUnwrapped(),null,Dt),jn.draw(p,St.gl.TRIANGLES,_,x,E,R,Vr,l.id,Jn.vertexBuffer,Jn.indexBuffer,Br,l.paint,Lt,vr,_r)};for(const dr of m){const Jn=r.getTile(dr),Br=Jn.getBucket(l);if(!Br||Br.projection.name!==Vt.projection.name||!Br.groundEffect||Br.groundEffect&&!Br.groundEffect.hasData())continue;const Ar=Br.groundEffect,Zn=1/Br.tileToMeter;{const vr=p.translatePosMatrix(dr.projMatrix,Jn,l.paint.get("fill-extrusion-translate"),l.paint.get("fill-extrusion-translate-anchor")),oi=Ar.getDefaultSegment();xn(dr,Ar,oi,vr,Zn)}if(Ae)for(let vr=0;vr<4;vr++){const oi=c.d4[vr](dr),jn=r.getTile(oi);if(!jn)continue;const Vr=jn.getBucket(l);if(!Vr||Vr.projection.name!==Vt.projection.name||!Vr.groundEffect||Vr.groundEffect&&!Vr.groundEffect.hasData())continue;const _r=Vr.groundEffect;let $i,ti;vr===0?($i=[-c.ag,0,0],ti=1):vr===1?($i=[c.ag,0,0],ti=0):vr===2?($i=[0,-c.ag,0],ti=3):($i=[0,c.ag,0],ti=2);const jr=_r.regionSegments[ti];if(!jr)continue;const Ci=new Float32Array(16);c.ab.mat4.translate(Ci,dr.projMatrix,$i),xn(dr,_r,jr,p.translatePosMatrix(Ci,Jn,l.paint.get("fill-extrusion-translate"),l.paint.get("fill-extrusion-translate-anchor")),Zn)}}}function mf(p,r,l,m,_,x,E){m.centroidVertexArray.length===0&&m.createCentroidsBuffer();const R=x?x.findDEMTileFor(l):null;if(!(R&&R.dem||E))return;x&&R&&R.dem&&m.selfDEMTileTimestamp!==R.dem._timestamp&&(m.borderDoneWithNeighborZ=[-1,-1,-1,-1],m.selfDEMTileTimestamp=R.dem._timestamp);const B=Ae=>new c.P(Math.ceil((Ae+c.d7)*c.d8),0),V=Ae=>{const rt=r.getSource().minzoom,St=Vt=>{const Lt=r.getTileByID(Vt);if(Lt&&Lt.hasData())return Lt.getBucket(_)},_t=[0,-1,1];for(const Vt of _t){if(Ae.overscaledZ+Vt<rt)continue;const Lt=St(Ae.calculateScaledKey(Ae.overscaledZ+Vt));if(Lt)return Lt}},U=[0,0,0],Q=(Ae,rt)=>(U[0]=Math.min(Ae.min.y,rt.min.y),U[1]=Math.max(Ae.max.y,rt.max.y),U[2]=c.ag-rt.min.x>Ae.max.x?rt.min.x-c.ag:Ae.max.x,U),ee=(Ae,rt)=>(U[0]=Math.min(Ae.min.x,rt.min.x),U[1]=Math.max(Ae.max.x,rt.max.x),U[2]=c.ag-rt.min.y>Ae.max.y?rt.min.y-c.ag:Ae.max.y,U),ce=[(Ae,rt)=>Q(Ae,rt),(Ae,rt)=>Q(rt,Ae),(Ae,rt)=>ee(Ae,rt),(Ae,rt)=>ee(rt,Ae)],Me=(Ae,rt,St,_t,Vt,Lt,Bt)=>{if(!x)return 0;const Dt=[[Lt?St:Ae,Lt?Ae:St,0],[Lt?St:rt,Lt?rt:St,0]],rn=Bt<0?c.ag+Bt:Bt,xn=[Lt?rn:(Ae+rt)/2,Lt?(Ae+rt)/2:rn,0];return St===0&&Bt<0||St!==0&&Bt>0?x.getForTilePoints(Vt,[xn],!0,_t):Dt.push(xn),x.getForTilePoints(l,Dt,!0,R),Math.max(Dt[0][2],Dt[1][2],xn[2])/x.exaggeration()};for(let Ae=0;Ae<4;Ae++){const rt=m.borderFeatureIndices[Ae];if(rt.length===0)continue;const St=c.d4[Ae](l),_t=V(St);if(!(_t&&_t instanceof c.d5))continue;const Vt=x?x.findDEMTileFor(St):null;if(!(Vt&&Vt.dem||E)||(x&&Vt&&Vt.dem&&m.borderDEMTileTimestamp[Ae]!==Vt.dem._timestamp&&(m.borderDoneWithNeighborZ[Ae]=-1,m.borderDEMTileTimestamp[Ae]=Vt.dem._timestamp),m.borderDoneWithNeighborZ[Ae]===_t.canonical.z))continue;_t.centroidVertexArray.length===0&&_t.createCentroidsBuffer();const Lt=(Ae<2?1:5)-Ae,Bt=_t.borderDoneWithNeighborZ[Lt]!==m.canonical.z,Dt=_t.borderFeatureIndices[Lt];let rn=0;if(m.canonical.z!==_t.canonical.z){for(const xn of rt)m.showCentroid(m.featuresOnBorder[xn]);if(Bt)for(const xn of Dt)_t.showCentroid(_t.featuresOnBorder[xn]);m.borderDoneWithNeighborZ[Ae]=_t.canonical.z,_t.borderDoneWithNeighborZ[Lt]=m.canonical.z}for(const xn of rt){const dr=m.featuresOnBorder[xn],Jn=m.centroidData[dr.centroidDataIndex],Br=dr.borders[Ae];let Ar;for(;rn<Dt.length;){Ar=_t.featuresOnBorder[Dt[rn]];const Zn=Ar.borders[Lt];if(Zn[1]>Br[0]+3||Zn[0]>Br[0]-3)break;_t.showCentroid(Ar),rn++}if(Ar&&rn<Dt.length){const Zn=rn;let vr=0;for(;!(Ar.borders[Lt][0]>Br[1]-3)&&(vr++,++rn!==Dt.length);)Ar=_t.featuresOnBorder[Dt[rn]];Ar=_t.featuresOnBorder[Dt[Zn]];let oi=!1;if(vr>=1){const _r=Ar.borders[Lt];Math.abs(Br[0]-_r[0])<3&&Math.abs(Br[1]-_r[1])<3&&(vr=1,oi=!0,rn=Zn+1)}else if(vr===0){m.showCentroid(dr);continue}const jn=_t.centroidData[Ar.centroidDataIndex];E&&oi&&(((Se=Jn).flags|(Le=jn).flags)&c.d6?(Se.flags|=c.d6,Le.flags|=c.d6):(Se.flags&=~c.d6,Le.flags&=~c.d6));const Vr=dr.intersectsCount()>1||Ar.intersectsCount()>1;if(vr>1)rn=Zn,Jn.centroidXY=jn.centroidXY=new c.P(0,0);else if(Vt&&Vt.dem&&!Vr){const _r=ce[Ae](Jn,jn),$i=Ae%2?c.ag-1:0,ti=Me(_r[0],Math.min(c.ag-1,_r[1]),$i,Vt,St,Ae<2,_r[2]);Jn.centroidXY=jn.centroidXY=B(ti)}else Vr?Jn.centroidXY=jn.centroidXY=new c.P(0,0):(Jn.centroidXY=m.encodeBorderCentroid(dr),jn.centroidXY=_t.encodeBorderCentroid(Ar));m.writeCentroidToBuffer(Jn),_t.writeCentroidToBuffer(jn)}else m.showCentroid(dr)}m.borderDoneWithNeighborZ[Ae]=_t.canonical.z,_t.borderDoneWithNeighborZ[Lt]=m.canonical.z}var Se,Le;(m.needsCentroidUpdate||!m.centroidVertexBuffer&&m.centroidVertexArray.length!==0)&&m.uploadCentroid(p)}const Fd=[1,0,0],Mi=[0,1,0],so=[0,0,1];function kd(p,r,l){const m=l.transform,_=l.shadowRenderer;if(!_)return!0;const x=p.toUnwrapped(),E=m.tileSize*_._cascades[l.currentShadowCascade].scale;let R=r.maxHeight;if(m.elevation){const Se=m.elevation.getMinMaxForTile(p);Se&&(R+=Se.max)}const B=[..._.shadowDirection];B[2]=-B[2];const V=_.computeSimplifiedTileShadowVolume(x,R,E,B);if(!V)return!1;const U=[Fd,Mi,so,B,[B[0],0,B[2]],[0,B[1],B[2]]],Q=m.projection.name==="globe",ee=m.scaleZoom(E),ce=c.bR.fromInvProjectionMatrix(m.invProjMatrix,m.worldSize,ee,!Q),Me=_.getCurrentCascadeFrustum();return ce.intersectsPrecise(V.vertices,V.planes,U)===0||Me.intersectsPrecise(V.vertices,V.planes,U)===0}function nl(p){return[p[0]*c.d9,p[1]*c.d9,p[2]*c.d9,0]}function er(p,r,l,m,_,x,E,R,B){const V=m.getSource(),U=l.globeSharedBuffers;if(!U)return;let Q,ee,ce;if(r&&(Q=m.getTile(r)),V instanceof c.aJ?(ee=V.texture,ce=c.cI(0,0,l.transform)):Q&&r&&(ee=Q.texture,ce=c.cI(r.canonical.z,r.canonical.x,l.transform)),!ee||!ce)return;p||(ce=c.ab.mat4.scale(c.ab.mat4.create(),ce,[1,-1,1]));const Me=l.context,Se=Me.gl,Le=_.paint.get("raster-resampling")==="nearest"?Se.NEAREST:Se.LINEAR,Ae=l.colorModeForDrapableLayerRenderPass(x),rt=E.defines;rt.push("GLOBE_POLES");const St=new Fo(Se.LEQUAL,Fo.ReadWrite,l.depthRangeFor3D),_t=Float32Array.from(l.transform.expandedFarZProjMatrix),Vt=Float32Array.from(c.bb(c.cH(new c.bT(0,0,0))));l.terrain&&l.terrain.prepareDrawTile(),Me.activeTexture.set(Se.TEXTURE0),ee.bind(Le,Se.CLAMP_TO_EDGE),Me.activeTexture.set(Se.TEXTURE1),ee.bind(Le,Se.CLAMP_TO_EDGE),ee.useMipmap&&Me.extTextureFilterAnisotropic&&l.transform.pitch>20&&Se.texParameterf(Se.TEXTURE_2D,Me.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,Me.extTextureFilterAnisotropicMax);const[Lt,Bt,Dt,rn]=r?U.getPoleBuffers(r.canonical.z,!1):U.getPoleBuffers(0,!0),xn=_.paint.get("raster-elevation");let dr;p?(dr=Lt,l.renderDefaultNorthPole=xn!==0):(dr=Bt,l.renderDefaultSouthPole=xn!==0);const Jn=nl(E.mix),Br=((Zn,vr,oi,jn,Vr,_r,$i,ti,jr,Ci,Li,ro,vo)=>Nd(Zn,vr,oi,new Float32Array(16),new Float32Array(9),[0,0],jn,[0,0],[0,0,0,0],1,{opacity:1,mix:0},_r,[0,0],ti,2,Ci,Li,ro,1,0,vo))(_t,Vt,ce,c.ae(l.transform.zoom),0,_,0,xn,0,Jn,E.offset,E.range,x),Ar=l.getOrCreateProgram("raster",{defines:rt});l.uploadCommonUniforms(Me,Ar,null),Ar.draw(l,Se.TRIANGLES,St,B,Ae,R,Br,_.id,dr,Dt,rn)}function Ug(p){const r=p._nearZ,l=p.projection.farthestPixelDistance(p),m=l-r,_=.2*p.height,x=r+_;return[r,l,(x-_-r)/m,(x-r)/m]}function _m(p,r,l,m){if(p)return r instanceof pt&&p instanceof po?r.getTextureDescriptor(p,l,!0):{texture:p.texture,mix:nl(m.mix),offset:m.offset,buffer:0,tileSize:1}}var ph=c.da([{name:"a_index",type:"Int16",components:1}]);class Wg{constructor(r,l,m,_){const x={width:m[0],height:m[1],data:null},E=r.gl;this.targetColorTexture=new c.T(r,x,E.RGBA8,{useMipmap:!1}),this.backgroundColorTexture=new c.T(r,x,E.RGBA8,{useMipmap:!1}),this.context=r,this.updateParticleTexture(l,_),this.lastInvalidatedAt=0}updateParticleTexture(r,l){if(this.particleTextureDimension===l.width)return;(this.particleTexture0||this.particleTexture1||this.particleIndexBuffer||this.particleSegment)&&(this.particleTexture0.destroy(),this.particleTexture1.destroy(),this.particleIndexBuffer.destroy(),this.particleSegment.destroy());const m=this.context.gl,_=l.width*l.height;this.particleTexture0=new c.T(this.context,l,m.RGBA8,{premultiply:!1,useMipmap:!1}),this.particleTexture1=new c.T(this.context,l,m.RGBA8,{premultiply:!1,useMipmap:!1});const x=new c.db;x.reserve(_);for(let E=0;E<_;E++)x.emplaceBack(E);this.particleIndexBuffer=this.context.createVertexBuffer(x,ph.members,!0),this.particleSegment=c.b7.simpleSegment(0,0,this.particleIndexBuffer.length,0),this.particleTextureDimension=l.width}update(r){return!(this.lastInvalidatedAt<r&&(this.lastInvalidatedAt=c.q.now(),1))}destroy(){this.targetColorTexture.destroy(),this.backgroundColorTexture.destroy(),this.particleIndexBuffer.destroy(),this.particleTexture0.destroy(),this.particleTexture1.destroy(),this.particleSegment.destroy()}}function bm(p,r,l){if(!p)return null;const m=r.getTextureDescriptor(p,l,!0);if(!m)return null;let{texture:_,mix:x,offset:E,tileSize:R,buffer:B,format:V}=m;if(!_||!V)return null;let U=!1;return V==="uint32"&&(U=!0,x[3]=0,x=tp(c.dc,x,[0,l.paint.get("raster-particle-max-speed")]),E=pm(c.dc,E,[0,l.paint.get("raster-particle-max-speed")])),{texture:_,textureOffset:[B/(R+2*B),R/(R+2*B)],tileSize:R,scalarData:U,scale:x,offset:E,defines:["RASTER_ARRAY",{uint8:"DATA_FORMAT_UINT8",uint16:"DATA_FORMAT_UINT16",uint32:"DATA_FORMAT_UINT32"}[V]]}}function Tv(p){const r=p._nearZ,l=p.projection.farthestPixelDistance(p),m=l-r,_=.2*p.height,x=r+_;return[r,l,(x-_-r)/m,(x-r)/m]}const gf=new c.aj(1,0,0,1),Mv=new c.aj(0,1,0,1),Pv=new c.aj(0,0,1,1),Gg=new c.aj(1,0,1,1),cp=new c.aj(0,1,1,1);function Gu(p,r,l,m,_,x,E){const R=p.context,B=p.transform,V=R.gl,U=B.projection.name==="globe",Q=U?["PROJECTION_GLOBE_VIEW"]:[];let ee=c.ab.mat4.clone(l.projMatrix);if(U&&c.ae(B.zoom)>0){const Jn=c.ba(l.canonical,B),Br=c.dd(Jn);ee=c.ab.mat4.multiply(new Float32Array(16),B.globeMatrix,Br),c.ab.mat4.multiply(ee,B.projMatrix,ee)}const ce=c.ab.mat4.create();ce[12]+=2*_/(c.q.devicePixelRatio*B.width),ce[13]+=2*x/(c.q.devicePixelRatio*B.height),c.ab.mat4.multiply(ee,ce,ee);const Me=p.getOrCreateProgram("debug",{defines:Q}),Se=r.getTileByID(l.key);p.terrain&&p.terrain.setupElevationDraw(Se,Me);const Le=Fo.disabled,Ae=Qo.disabled,rt=p.colorModeForRenderPass(),St="$debug";R.activeTexture.set(V.TEXTURE0),p.emptyTexture.bind(V.LINEAR,V.CLAMP_TO_EDGE),U?Se._makeGlobeTileDebugBuffers(p.context,B):Se._makeDebugTileBoundsBuffers(p.context,B.projection);const _t=Se._tileDebugBuffer||p.debugBuffer,Vt=Se._tileDebugIndexBuffer||p.debugIndexBuffer,Lt=Se._tileDebugSegments||p.debugSegments;if(Me.draw(p,V.LINE_STRIP,Le,Ae,rt,ia.disabled,zd(ee,m),St,_t,Vt,Lt,null,null,null,[Se._globeTileDebugBorderBuffer]),E){const Jn=Se.latestRawTileData,Br=Math.floor((Jn&&Jn.byteLength||0)/1024);let Ar=l.canonical.toString();l.overscaledZ!==l.canonical.z&&(Ar+=` => ${l.overscaledZ}`),Ar+=` ${Se.state}`,Ar+=` ${Br}kb`,function(Zn,vr){Zn.initDebugOverlayCanvas();const oi=Zn.debugOverlayCanvas,jn=Zn.context.gl,Vr=Zn.debugOverlayCanvas.getContext("2d");Vr.clearRect(0,0,oi.width,oi.height),Vr.shadowColor="white",Vr.shadowBlur=2,Vr.lineWidth=1.5,Vr.strokeStyle="white",Vr.textBaseline="top",Vr.font="bold 36px Open Sans, sans-serif",Vr.fillText(vr,5,5),Vr.strokeText(vr,5,5),Zn.debugOverlayTexture.update(oi),Zn.debugOverlayTexture.bind(jn.LINEAR,jn.CLAMP_TO_EDGE)}(p,Ar)}const Bt=r.getTile(l).tileSize,Dt=512/Math.min(Bt,512)*(l.overscaledZ/B.zoom)*.5,rn=Se._tileDebugTextBuffer||p.debugBuffer,xn=Se._tileDebugTextIndexBuffer||p.quadTriangleIndexBuffer,dr=Se._tileDebugTextSegments||p.debugSegments;Me.draw(p,V.TRIANGLES,Le,Ae,sa.alphaBlended,ia.disabled,zd(ee,c.aj.transparent,Dt),St,rn,xn,dr,null,null,null,[Se._globeTileDebugTextBuffer])}function xm(p,r,l,m){jd(p,0,r+l/2,p.transform.width,l,m)}function Cm(p,r,l,m){jd(p,r-l/2,0,l,p.transform.height,m)}function jd(p,r,l,m,_,x){const E=p.context,R=E.gl;R.enable(R.SCISSOR_TEST),R.scissor(r*c.q.devicePixelRatio,l*c.q.devicePixelRatio,m*c.q.devicePixelRatio,_*c.q.devicePixelRatio),E.clear({color:x}),R.disable(R.SCISSOR_TEST)}const up=c.da([{name:"a_pos_3f",components:3,type:"Float32"}]),{members:Mu}=up;function Pu(p,r,l,m){p.emplaceBack(r,l,m)}class Sm{constructor(r){this.vertexArray=new c.de,this.indices=new c.aU,Pu(this.vertexArray,-1,-1,1),Pu(this.vertexArray,1,-1,1),Pu(this.vertexArray,-1,1,1),Pu(this.vertexArray,1,1,1),Pu(this.vertexArray,-1,-1,-1),Pu(this.vertexArray,1,-1,-1),Pu(this.vertexArray,-1,1,-1),Pu(this.vertexArray,1,1,-1),this.indices.emplaceBack(5,1,3),this.indices.emplaceBack(3,7,5),this.indices.emplaceBack(6,2,0),this.indices.emplaceBack(0,4,6),this.indices.emplaceBack(2,6,7),this.indices.emplaceBack(7,3,2),this.indices.emplaceBack(5,4,0),this.indices.emplaceBack(0,1,5),this.indices.emplaceBack(0,2,3),this.indices.emplaceBack(3,1,0),this.indices.emplaceBack(7,6,4),this.indices.emplaceBack(4,5,7),this.vertexBuffer=r.createVertexBuffer(this.vertexArray,Mu),this.indexBuffer=r.createIndexBuffer(this.indices),this.segment=c.b7.simpleSegment(0,0,36,12)}}function zl(p,r,l,m,_,x){const E=p.context.gl,R=r.paint.get("sky-atmosphere-color"),B=r.paint.get("sky-atmosphere-halo-color"),V=r.paint.get("sky-atmosphere-sun-intensity"),U=((Q,ee,ce,Me,Se)=>({u_matrix_3f:Q,u_sun_direction:ee,u_sun_intensity:ce,u_color_tint_r:[Me.r,Me.g,Me.b,Me.a],u_color_tint_m:[Se.r,Se.g,Se.b,Se.a],u_luminance:5e-5}))(c.ab.mat3.fromMat4(c.ab.mat3.create(),m),_,V,R,B);E.framebufferTexture2D(E.FRAMEBUFFER,E.COLOR_ATTACHMENT0,E.TEXTURE_CUBE_MAP_POSITIVE_X+x,r.skyboxTexture,0),l.draw(p,E.TRIANGLES,Fo.disabled,Qo.disabled,sa.unblended,ia.frontCW,U,"skyboxCapture",r.skyboxGeometry.vertexBuffer,r.skyboxGeometry.indexBuffer,r.skyboxGeometry.segment)}const V_=c.da([{type:"Float32",name:"a_pos",components:3},{type:"Float32",name:"a_uv",components:2}]);class vf{constructor(r){const l=new c.df;l.emplaceBack(-1,1,1,0,0),l.emplaceBack(1,1,1,1,0),l.emplaceBack(1,-1,1,1,1),l.emplaceBack(-1,-1,1,0,1);const m=new c.aU;m.emplaceBack(0,1,2),m.emplaceBack(2,3,0),this.vertexBuffer=r.createVertexBuffer(l,V_.members),this.indexBuffer=r.createIndexBuffer(m),this.segments=c.b7.simpleSegment(0,0,4,2)}destroy(){this.vertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy()}}const Gs=c.da([{type:"Float32",name:"a_pos_3f",components:3},{type:"Float32",name:"a_uv",components:2},{type:"Float32",name:"a_size_scale",components:1},{type:"Float32",name:"a_fade_opacity",components:1}]);class bs{constructor(){this.starsCount=16e3,this.sizeMultiplier=.15,this.sizeRange=100,this.intensityRange=200}}class Kg{constructor(r){this.colorModeAlphaBlendedWriteRGB=new sa([1,Yl,1,Yl],c.aj.transparent,[!0,!0,!0,!1]),this.colorModeWriteAlpha=new sa([1,0,1,0],c.aj.transparent,[!1,!1,!1,!0]),this.params=new bs,this.updateNeeded=!0,r.tp.registerParameter(this.params,["Stars"],"starsCount",{min:100,max:16e3,step:1},()=>{this.updateNeeded=!0}),r.tp.registerParameter(this.params,["Stars"],"sizeMultiplier",{min:.01,max:2,step:.01}),r.tp.registerParameter(this.params,["Stars"],"sizeRange",{min:0,max:200,step:1},()=>{this.updateNeeded=!0}),r.tp.registerParameter(this.params,["Stars"],"intensityRange",{min:0,max:200,step:1},()=>{this.updateNeeded=!0})}update(r){const l=r.context;if(!this.atmosphereBuffer||this.updateNeeded){this.updateNeeded=!1,this.atmosphereBuffer=new vf(l);const m=this.params.sizeRange,_=this.params.intensityRange,x=function(U){const Q=c.di(30),ee=[];for(let ce=0;ce<U;++ce){const Me=2*Math.PI*Q(),Se=Math.acos(1-2*Q())-.5*Math.PI;ee.push(c.ab.vec3.fromValues(Math.cos(Se)*Math.cos(Me),Math.cos(Se)*Math.sin(Me),Math.sin(Se)))}return ee}(this.params.starsCount),E=c.di(300),R=new c.dg,B=new c.aU;let V=0;for(let U=0;U<x.length;++U){const Q=c.ab.vec3.scale([],x[U],200),ee=Math.max(0,1+.01*m*(1*E()-.5)),ce=Math.max(0,1+.01*_*(1*E()-.5));R.emplaceBack(Q[0],Q[1],Q[2],-1,-1,ee,ce),R.emplaceBack(Q[0],Q[1],Q[2],1,-1,ee,ce),R.emplaceBack(Q[0],Q[1],Q[2],1,1,ee,ce),R.emplaceBack(Q[0],Q[1],Q[2],-1,1,ee,ce),B.emplaceBack(V+0,V+1,V+2),B.emplaceBack(V+0,V+2,V+3),V+=4}this.starsVx=l.createVertexBuffer(R,Gs.members),this.starsIdx=l.createIndexBuffer(B),this.starsSegments=c.b7.simpleSegment(0,0,R.length,B.length)}}destroy(){this.atmosphereBuffer&&this.atmosphereBuffer.destroy(),this.starsVx&&this.starsVx.destroy(),this.starsIdx&&this.starsIdx.destroy()}drawAtmosphereGlow(r,l){const m=r.context,_=m.gl,x=r.transform,E=new Fo(_.LEQUAL,Fo.ReadOnly,[0,1]),R=c.ae(x.zoom),B=r.style.getLut(l.scope),V=l.properties.get("color-use-theme")==="none",U=l.properties.get("color").toRenderColor(V?null:B).toArray01(),Q=l.properties.get("high-color-use-theme")==="none",ee=l.properties.get("high-color").toRenderColor(Q?null:B).toArray01(),ce=l.properties.get("space-color-use-theme")==="none",Me=l.properties.get("space-color").toRenderColor(ce?null:B).toArray01PremultipliedAlpha(),Se=5e-4,Le=c.dh(l.properties.get("horizon-blend"),0,1,Se,.25),Ae=c.cC(r,m,x)&&Le===Se?x.worldSize/(2*Math.PI*1.025)-1:x.globeRadius,rt=r.frameCounter/1e3%1,St=c.ab.vec3.length(x.globeCenterInViewSpace),_t=Math.sqrt(Math.pow(St,2)-Math.pow(Ae,2)),Vt=Math.acos(_t/St),Lt=Bt=>{const Dt=x.projection.name==="globe"?["PROJECTION_GLOBE_VIEW","FOG"]:["FOG"];Bt&&Dt.push("ALPHA_PASS");const rn=r.getOrCreateProgram("globeAtmosphere",{defines:Dt}),xn=((Jn,Br,Ar,Zn,vr,oi,jn,Vr,_r,$i,ti,jr)=>({u_frustum_tl:Jn,u_frustum_tr:Br,u_frustum_br:Ar,u_frustum_bl:Zn,u_horizon:vr,u_transition:oi,u_fadeout_range:jn,u_color:Vr,u_high_color:_r,u_space_color:$i,u_temporal_offset:ti,u_horizon_angle:jr}))(x.frustumCorners.TL,x.frustumCorners.TR,x.frustumCorners.BR,x.frustumCorners.BL,x.frustumCorners.horizon,R,Le,U,ee,Me,rt,Vt);r.uploadCommonUniforms(m,rn);const dr=this.atmosphereBuffer;dr&&rn.draw(r,_.TRIANGLES,E,Qo.disabled,Bt?this.colorModeWriteAlpha:this.colorModeAlphaBlendedWriteRGB,ia.backCW,xn,Bt?"atmosphere_glow_alpha":"atmosphere_glow",dr.vertexBuffer,dr.indexBuffer,dr.segments)};Lt(!1),Lt(!0)}drawStars(r,l){const m=c.aw(l.properties.get("star-intensity"),0,1);if(m===0)return;const _=r.context,x=_.gl,E=r.transform,R=r.getOrCreateProgram("stars"),B=c.ab.quat.identity([]);c.ab.quat.rotateX(B,B,-E._pitch),c.ab.quat.rotateZ(B,B,-E.angle),c.ab.quat.rotateX(B,B,c.ai(E._center.lat)),c.ab.quat.rotateY(B,B,-c.ai(E._center.lng));const V=c.ab.mat4.fromQuat(new Float32Array(16),B),U=c.ab.mat4.multiply([],E.starsProjMatrix,V),Q=c.ab.mat3.fromMat4([],V),ee=c.ab.mat3.invert([],Q),ce=[0,1,0];c.ab.vec3.transformMat3(ce,ce,ee),c.ab.vec3.scale(ce,ce,this.params.sizeMultiplier);const Me=[1,0,0];c.ab.vec3.transformMat3(Me,Me,ee),c.ab.vec3.scale(Me,Me,this.params.sizeMultiplier);const Se=(Le=ce,Ae=Me,rt=m,{u_matrix:Float32Array.from(U),u_up:Le,u_right:Ae,u_intensity_multiplier:rt});var Le,Ae,rt;r.uploadCommonUniforms(_,R),this.starsVx&&this.starsIdx&&R.draw(r,x.TRIANGLES,Fo.disabled,Qo.disabled,this.colorModeAlphaBlendedWriteRGB,ia.disabled,Se,"atmosphere_stars",this.starsVx,this.starsIdx,this.starsSegments)}}function pd(p,r){const l=[...p],m=r.cameraWorldSizeForFog/r.worldSize,_=c.ab.mat4.identity([]);return c.ab.mat4.scale(_,_,[m,m,1]),c.ab.mat4.multiply(l,_,l),c.ab.mat4.multiply(l,r.worldToFogMatrix,l),l}function yf(p,r,l,m,_){const x=l.material,E=m.context,{baseColorTexture:R,metallicRoughnessTexture:B}=x.pbrMetallicRoughness,{normalTexture:V,occlusionTexture:U,emissionTexture:Q}=x;function ee(Me,Se,Le){if(Me&&(p.push(Se),E.activeTexture.set(E.gl.TEXTURE0+Le),Me.gfxTexture)){const{minFilter:Ae,magFilter:rt,wrapS:St,wrapT:_t}=Me.sampler;Me.gfxTexture.bindExtraParam(Ae,rt,St,_t)}}ee(R,"HAS_TEXTURE_u_baseColorTexture",gl.BaseColor),ee(B,"HAS_TEXTURE_u_metallicRoughnessTexture",gl.MetallicRoughness),ee(V,"HAS_TEXTURE_u_normalTexture",gl.Normal),ee(U,"HAS_TEXTURE_u_occlusionTexture",gl.Occlusion),ee(Q,"HAS_TEXTURE_u_emissionTexture",gl.Emission),_&&(_.texture||(_.texture=new c.dk(m.context,_.image,[_.image.height,_.image.height,_.image.height],E.gl.RGBA8)),E.activeTexture.set(E.gl.TEXTURE0+gl.LUT),_.texture&&_.texture.bind(E.gl.LINEAR,E.gl.CLAMP_TO_EDGE),p.push("APPLY_LUT_ON_GPU")),l.texcoordBuffer&&(p.push("HAS_ATTRIBUTE_a_uv_2f"),r.push(l.texcoordBuffer)),l.colorBuffer&&(p.push(l.colorBuffer.itemSize===12?"HAS_ATTRIBUTE_a_color_3f":"HAS_ATTRIBUTE_a_color_4f"),r.push(l.colorBuffer)),l.normalBuffer&&(p.push("HAS_ATTRIBUTE_a_normal_3f"),r.push(l.normalBuffer)),l.pbrBuffer&&(p.push("HAS_ATTRIBUTE_a_pbr"),p.push("HAS_ATTRIBUTE_a_heightBasedEmissiveStrength"),r.push(l.pbrBuffer)),x.alphaMode!=="OPAQUE"&&x.alphaMode!=="MASK"||p.push("UNPREMULT_TEXTURE_IN_SHADER"),x.defined||p.push("DIFFUSE_SHADED");const ce=m.shadowRenderer;ce&&(p.push("RENDER_SHADOWS","DEPTH_TEXTURE"),ce.useNormalOffset&&p.push("NORMAL_OFFSET"))}function md(p,r,l,m,_,x){const E=l.paint.get("model-opacity").constantOr(1),R=r.context,B=new Fo(r.context.gl.LEQUAL,Fo.ReadWrite,r.depthRangeFor3D),V=r.transform,U=p.mesh,Q=U.material,ee=Q.pbrMetallicRoughness,ce=r.style.fog;let Me;Me=r.transform.projection.zAxisUnit==="pixels"?[...p.nodeModelMatrix]:c.ab.mat4.multiply([],m.zScaleMatrix,p.nodeModelMatrix),c.ab.mat4.multiply(Me,m.negCameraPosMatrix,Me);const Se=c.ab.mat4.invert([],Me);c.ab.mat4.transpose(Se,Se);const Le=l.paint.get("model-color-use-theme").constantOr("default")==="none",Ae=l.paint.get("model-emissive-strength").constantOr(0),rt=ff(new Float32Array(p.worldViewProjection),new Float32Array(Me),new Float32Array(Se),null,r,E,ee.baseColorFactor.toRenderColor(null),Q.emissiveFactor,ee.metallicFactor,ee.roughnessFactor,Q,Ae,l),St={defines:[]},_t=[],Vt=r.shadowRenderer;Vt&&(Vt.useNormalOffset=!1),yf(St.defines,_t,U,r,Le?null:l.lut);let Lt=null;if(ce){const rn=pd(p.nodeModelMatrix,r.transform);if(Lt=new Float32Array(rn),V.projection.name!=="globe"){const xn=U.aabb.min,dr=U.aabb.max,[Jn,Br]=ce.getOpacityForBounds(rn,xn[0],xn[1],dr[0],dr[1]);St.overrideFog=Jn>=et||Br>=et}}const Bt=on(r,l.paint.get("model-cutoff-fade-range"));Bt.shouldRenderCutoff&&St.defines.push("RENDER_CUTOFF");const Dt=r.getOrCreateProgram("model",St);r.uploadCommonUniforms(R,Dt,null,Lt,Bt),r.renderPass!=="shadow"&&Vt&&Vt.setupShadowsFromMatrix(p.nodeModelMatrix,Dt),Dt.draw(r,R.gl.TRIANGLES,B,_,x,U.material.doubleSided?ia.disabled:ia.backCCW,rt,l.id,U.vertexBuffer,U.indexBuffer,U.segments,l.paint,r.transform.zoom,void 0,_t)}function dp(p,r,l,m,_,x,E){let R;R=p.projection.name==="globe"?c.dl(l,p):[...l],c.ab.mat4.multiply(R,R,r.matrix);const B=c.ab.mat4.multiply([],m,R);if(r.meshes)for(const V of r.meshes){if(V.material.alphaMode!=="BLEND"){E.push({mesh:V,depth:0,modelIndex:_,worldViewProjection:B,nodeModelMatrix:R});continue}const U=c.ab.vec3.transformMat4([],V.centroid,B);!p.isOrthographic&&U[2]<=0||x.push({mesh:V,depth:U[2],modelIndex:_,worldViewProjection:B,nodeModelMatrix:R})}if(r.children)for(const V of r.children)dp(p,V,l,m,_,x,E)}function _f(p,r,l,m){const _=l.shadowRenderer;if(!_)return;const x=_.getShadowPassDepthMode(),E=_.getShadowPassColorMode(),R=_.calculateShadowPassMatrixFromMatrix(r),B=uh(R);l.getOrCreateProgram("modelDepth",{defines:l._shadowMapDebug?[]:["DEPTH_TEXTURE"]}).draw(l,l.context.gl.TRIANGLES,x,Qo.disabled,E,ia.backCCW,B,m.id,p.vertexBuffer,p.indexBuffer,p.segments,m.paint,l.transform.zoom,void 0,void 0)}function Ou(p,r,l){const m=r.updateZoomBasedPaintProperties(),_=function(x,E,R){let B,V,U,Q=x.terrain?x.terrain.exaggeration():0;if(x.terrain&&Q>0){const ee=x.terrain,ce=ee.findDEMTileFor(R);ce&&ce.dem?B=c.dn.create(ee,R,ce):Q=0}if(Q===0&&(E.terrainElevationMin=0,E.terrainElevationMax=0),Q===E.validForExaggeration&&(Q===0||B&&B._demTile&&B._demTile.tileID===E.validForDEMTile.id&&B._dem._timestamp===E.validForDEMTile.timestamp))return!1;for(const ee in E.instancesPerModel){const ce=E.instancesPerModel[ee];for(let Me=0;Me<ce.instancedDataArray.length;++Me){const Se=(B?Q*B.getElevationAt(0|ce.instancedDataArray.float32[16*Me],0|ce.instancedDataArray.float32[16*Me+1],!0,!0):0)+ce.instancesEvaluatedElevation[Me];ce.instancedDataArray.float32[16*Me+6]=Se,V=V?Math.min(E.terrainElevationMin,Se):Se,U=U?Math.max(E.terrainElevationMax,Se):Se}}return E.terrainElevationMin=V||0,E.terrainElevationMax=U||0,E.validForExaggeration=Q,E.validForDEMTile=B&&B._demTile?{id:B._demTile.tileID,timestamp:B._dem._timestamp}:{id:void 0,timestamp:0},!0}(p,r,l);(m||_)&&(r.uploaded=!1,r.upload(p.context))}const vl={shadowUniformsInitialized:!1,useSingleShadowCascade:!1,tileMatrix:new Float64Array(16),shadowTileMatrix:new Float32Array(16),aabb:new c.cd([0,0,0],[c.ag,c.ag,0])};function gu(p,r){const l=1<<p.canonical.z,m=r.getFreeCameraOptions().position,_=r.elevation,x=p.canonical.x/l,E=(p.canonical.x+1)/l,R=p.canonical.y/l,B=(p.canonical.y+1)/l;let V=r._centerAltitude;if(_){const ce=_.getMinMaxForTile(p);ce&&ce.max>V&&(V=ce.max)}const U=c.aw(m.x,x,E)-m.x,Q=c.aw(m.y,R,B)-m.y,ee=c.bH(V,r.center.lat)-m.z;return r._zoomFromMercatorZ(Math.sqrt(U*U+Q*Q+ee*ee))}function Wl(p,r,l,m,_,x,E){const R=p.context,B=p.renderPass==="shadow",V=p.shadowRenderer,U=B&&V?V.getShadowPassDepthMode():new Fo(R.gl.LEQUAL,Fo.ReadWrite,p.depthRangeFor3D),Q=p.isTileAffectedByFog(x);if(l.meshes)for(const ee of l.meshes){const ce=["MODEL_POSITION_ON_GPU"],Me=[];let Se,Le,Ae;m.instancedDataArray.length>20&&ce.push("INSTANCED_ARRAYS");const rt=on(p,r.paint.get("model-cutoff-fade-range"));if(rt.shouldRenderCutoff&&ce.push("RENDER_CUTOFF"),B&&V)Se=p.getOrCreateProgram("modelDepth",{defines:ce}),Le=uh(E.shadowTileMatrix,E.shadowTileMatrix,Float32Array.from(l.matrix)),Ae=V.getShadowPassColorMode();else{yf(ce,Me,ee,p,r.paint.get("model-color-use-theme").constantOr("default")==="none"?null:r.lut),Se=p.getOrCreateProgram("model",{defines:ce,overrideFog:Q});const _t=ee.material,Vt=_t.pbrMetallicRoughness,Lt=r.paint.get("model-opacity").constantOr(1),Bt=r.paint.get("model-emissive-strength").constantOr(0);Le=ff(x.expandedProjMatrix,Float32Array.from(l.matrix),new Float32Array(16),null,p,Lt,Vt.baseColorFactor.toRenderColor(null),_t.emissiveFactor,Vt.metallicFactor,Vt.roughnessFactor,_t,Bt,r,_),V&&(E.shadowUniformsInitialized?Se.setShadowUniformValues(R,V.getShadowUniformValues()):(V.setupShadows(x.toUnwrapped(),Se,"model-tile",x.overscaledZ),E.shadowUniformsInitialized=!0)),Ae=rt.shouldRenderCutoff||Lt<1||_t.alphaMode!=="OPAQUE"?sa.alphaBlended:sa.unblended}p.uploadCommonUniforms(R,Se,x.toUnwrapped(),null,rt);const St=ee.material.doubleSided?ia.disabled:ia.backCCW;if(m.instancedDataArray.length>20)Me.push(m.instancedDataBuffer),Se.draw(p,R.gl.TRIANGLES,U,Qo.disabled,Ae,St,Le,r.id,ee.vertexBuffer,ee.indexBuffer,ee.segments,r.paint,p.transform.zoom,void 0,Me,m.instancedDataArray.length);else{const _t=B?"u_instance":"u_normal_matrix";for(let Vt=0;Vt<m.instancedDataArray.length;++Vt)Le[_t]=new Float32Array(m.instancedDataArray.arrayBuffer,64*Vt,16),Se.draw(p,R.gl.TRIANGLES,U,Qo.disabled,Ae,St,Le,r.id,ee.vertexBuffer,ee.indexBuffer,ee.segments,r.paint,p.transform.zoom,void 0,Me)}}if(l.children)for(const ee of l.children)Wl(p,r,ee,m,_,x,E)}const fp=[1,-1,1];function hp(p,r,l,m){if(!l.modelManager)return!0;const _=l.modelManager;if(!l.shadowRenderer)return!0;const x=l.shadowRenderer,E=r.aabb;let R=!0,B=p.maxHeight;if(B===0){let U=0;for(const Q in p.instancesPerModel){const ee=_.getModel(Q,m);ee?U=Math.max(U,Math.max(Math.max(ee.aabb.max[0],ee.aabb.max[1]),ee.aabb.max[2])):R=!1}B=p.maxScale*U*1.41+p.maxVerticalOffset,R&&(p.maxHeight=B)}E.max[2]=B,E.min[2]+=p.terrainElevationMin,E.max[2]+=p.terrainElevationMax,c.ab.vec3.transformMat4(E.min,E.min,r.tileMatrix),c.ab.vec3.transformMat4(E.max,E.max,r.tileMatrix);const V=E.intersects(x.getCurrentCascadeFrustum());return l.currentShadowCascade===0&&(p.isInsideFirstShadowMapFrustum=V===2),V===0}function Zd(p,r){const l=p.uniformValues.u_cutoff_params[0],m=p.uniformValues.u_cutoff_params[1],_=p.uniformValues.u_cutoff_params[2],x=p.uniformValues.u_cutoff_params[3];return m===l||x===_?1:c.aw(((r-l)/(m-l)-_)/(x-_),0,1)}function Xg(p,r,l,m){if(r.pitch<20)return 1;const _=r.getWorldToCameraMatrix();c.ab.mat4.multiply(_,_,p);const x=c.ab.vec4.fromValues(l.min[0],l.min[1],l.min[2],1);let E=c.ab.vec4.transformMat4(c.ab.vec4.create(),x,_),R=E,B=E;x[1]=l.max[1],E=c.ab.vec4.transformMat4(c.ab.vec4.create(),x,_),R=E[1]<R[1]?E:R,B=E[1]>B[1]?E:B,x[0]=l.max[0],E=c.ab.vec4.transformMat4(c.ab.vec4.create(),x,_),R=E[1]<R[1]?E:R,B=E[1]>B[1]?E:B,x[1]=l.min[1],E=c.ab.vec4.transformMat4(c.ab.vec4.create(),x,_),R=E[1]<R[1]?E:R,B=E[1]>B[1]?E:B;const V=c.aw(m[0],0,1),U=100*r.pixelsPerMeter*c.aw(m[1],0,1),Q=c.aw(m[2],0,1),ee=c.ab.vec4.lerp(c.ab.vec4.create(),R,B,V),ce=Math.tan(.5*r.fovX),Me=-ee[2]*ce;if(U===0)return ee[1]<-Math.abs(Me)?Q:1;const Se=(-Math.abs(Me)-ee[1])/U,Le=(rt,St,_t)=>(1-_t)*rt+_t*St,Ae=c.aw(Le(1,Q,Se),Q,1);return Le(1,Ae,c.aw((r.pitch-20)/20,0,1))}class Ku{}class wm{constructor(){this._storage=new Map}getLinesFromTrianglesBuffer(r,l,m){{const Q=this._storage.get(l.id);if(Q)return Q.lastUsedFrameIdx=r,Q.buf}const _=m.gl,x=_.getBufferParameter(_.ELEMENT_ARRAY_BUFFER,_.BUFFER_SIZE),E=new ArrayBuffer(x),R=new Int16Array(E);_.getBufferSubData(_.ELEMENT_ARRAY_BUFFER,0,new Int16Array(E));const B=new c.dq;for(let Q=0;Q<x/2;Q+=3){const ee=R[Q],ce=R[Q+1],Me=R[Q+2];B.emplaceBack(ee,ce),B.emplaceBack(ce,Me),B.emplaceBack(Me,ee)}const V=m.bindVertexArrayOES.current,U=new Ku;return U.buf=new Ac(m,B),U.lastUsedFrameIdx=r,this._storage.set(l.id,U),m.bindVertexArrayOES.set(V),U.buf}update(r){for(const[l,m]of this._storage)r-m.lastUsedFrameIdx>30&&(m.buf.destroy(),this._storage.delete(l))}destroy(){for(const[r,l]of this._storage)l.buf.destroy(),this._storage.delete(r)}}class pp{constructor(r){this.occluderSize=30,this.depthOffset=-1e-4,r.registerParameter(this,["Occlusion"],"occluderSize",{min:1,max:100,step:1}),r.registerParameter(this,["Occlusion"],"depthOffset",{min:-.05,max:0,step:1e-5})}}const mh=c.da([{type:"Float32",name:"a_pos_3f",components:3},{type:"Float32",name:"a_uv",components:2},{type:"Float32",name:"a_rainParticleData",components:4}]);class Em{registerParameter(){}registerButton(){}registerBinding(){}refreshUI(){}}class Nl{constructor(r,l){this.revealStart=11,this.revealRange=2,r.registerParameter(this,[...l,"Reveal"],"revealStart",{min:0,max:17,step:.05}),r.registerParameter(this,[...l,"Reveal"],"revealRange",{min:.1,max:5.1,step:.05})}}const Xu=c.da([{type:"Float32",name:"a_pos_2f",components:2}]);class Yg{destroy(){this.vignetteVx&&this.vignetteVx.destroy(),this.vignetteIdx&&this.vignetteIdx.destroy()}draw(r,l){const m=r.getOrCreateProgram("vignette");if(!this.vignetteVx||!this.vignetteIdx){const E=new c.dr,R=new c.aU;E.emplaceBack(-1,-1),E.emplaceBack(1,-1),E.emplaceBack(1,1),E.emplaceBack(-1,1),R.emplaceBack(0,1,2),R.emplaceBack(0,2,3),this.vignetteVx=r.context.createVertexBuffer(E,Xu.members),this.vignetteIdx=r.context.createIndexBuffer(R)}const _=c.b7.simpleSegment(0,0,4,6);if(this.vignetteVx&&this.vignetteIdx){r.uploadCommonUniforms(r.context,m);const E={u_vignetteShape:(x={vignetteShape:[l.start,l.range,Math.pow(10,l.fadePower)],vignetteColor:[l.color.r,l.color.g,l.color.b,l.color.a*l.strength]}).vignetteShape,u_vignetteColor:x.vignetteColor};m.draw(r,r.context.gl.TRIANGLES,Fo.disabled,Qo.disabled,sa.alphaBlended,ia.disabled,E,"vignette",this.vignetteVx,this.vignetteIdx,_,{})}var x}}class Vd{constructor(){this._accumulatedOffsetX=0,this._accumulatedOffsetY=0,this._accumulatedElevation=0}update(r,l){const m=r.getFreeCameraOptions().position,_=m.toAltitude(),x=m.toLngLat(),E=c.ai(x.lng),R=c.ai(x.lat),B=r.pixelsPerMeter/l,V=E*c.ds,U=c.ds*Math.log(Math.tan(Math.PI/4+R/2));if(this._offsetXPrev===void 0)this._offsetXPrev=0,this._offsetYPrev=0,this._elevationPrev=0,this._accumulatedOffsetX=0,this._accumulatedOffsetY=0,this._accumulatedElevation=0;else{const Q=-this._offsetYPrev+U,ee=-this._elevationPrev+_;this._accumulatedOffsetX+=(-this._offsetXPrev+V)*B,this._accumulatedOffsetY+=Q*B,this._accumulatedElevation+=ee*B,this._offsetXPrev=V,this._offsetYPrev=U,this._elevationPrev=_}}getPosition(){return[this._accumulatedOffsetX,this._accumulatedOffsetY,this._accumulatedElevation]}}function gd(p,r){return[-(p[0]-Math.floor(p[0]/r)*r),-(p[1]-Math.floor(p[1]/r)*r),-(p[2]-Math.floor(p[2]/r)*r)]}function mp(p){const r=c.di(1323123451230),l=[];for(let m=0;m<p;++m){const _=2*r()-1,x=2*r()-1,E=2*r()-1;l.push(c.ab.vec3.fromValues(_,x,E))}return l}function Ru(p,r,l,m,_){const x=c.aw((_-l)/(m-l),0,1);return(1-x)*p+x*r}class gh{constructor(r){this._movement=new Vd,this._accumulatedTimeFromStart=0,this._prevTime=Date.now()/1e3,this._vignette=new Yg,this._ppmScaleFactor=r}destroy(){this.particlesVx&&this.particlesVx.destroy(),this.particlesIdx&&this.particlesIdx.destroy(),this._vignette&&this._vignette.destroy()}updateOnRender(r,l){const m=r.transform;this._movement.update(m,this._ppmScaleFactor);const _=m.starsProjMatrix,x=c.ab.quat.identity([]);c.ab.quat.rotateX(x,x,c.ai(90)-m._pitch),c.ab.quat.rotateZ(x,x,-m.angle);const E=c.ab.mat4.fromQuat(new Float32Array(16),x),R=c.ab.mat4.fromValues(1,0,0,0,0,0,1,0,0,-1,0,0,0,0,0,1),B=c.ab.mat4.transpose([],R),V=c.ab.mat4.multiply([],B,E),U=Date.now()/1e3;return this._accumulatedTimeFromStart+=(U-this._prevTime)*l,this._prevTime=U,{projectionMatrix:_,modelviewMatrix:V}}}class bf extends gh{constructor(r){super(4.25),this._params={overrideStyleParameters:!1,intensity:.5,timeFactor:1,velocityConeAperture:0,velocity:300,boxSize:2500,dropletSizeX:1,dropletSizeYScale:10,distortionStrength:70,screenThinning:{intensity:.57,start:.46,range:1.17,fadePower:.17,affectedRatio:1,particleOffset:-.2},color:{r:.66,g:.68,b:.74,a:.7},direction:{x:-50,y:-35},shapeDirPower:2,shapeNormalPower:1},this._revealParams=new Nl(r.tp,["Precipitation","Rain"]),this._vignetteParams={strength:1,start:.7,range:1,fadePower:.4,color:{r:.27,g:.27,b:.27,a:1}},this.particlesCount=16e3}update(r){const l=r.context;if(!this.particlesVx){const m=mp(this.particlesCount),_=new c.dt,x=new c.aU;let E=0;const R=c.di(1323123451230);for(let B=0;B<m.length;++B){const V=m[B],U=[2*R()-1,R(),R(),R()];_.emplaceBack(V[0],V[1],V[2],-1,-1,...U),_.emplaceBack(V[0],V[1],V[2],1,-1,...U),_.emplaceBack(V[0],V[1],V[2],1,1,...U),_.emplaceBack(V[0],V[1],V[2],-1,1,...U),x.emplaceBack(E+0,E+1,E+2),x.emplaceBack(E+0,E+2,E+3),E+=4}this.particlesVx=l.createVertexBuffer(_,mh.members),this.particlesIdx=l.createIndexBuffer(x)}}draw(r){if(!this._params.overrideStyleParameters&&!r.style.rain)return;const l=this._params.overrideStyleParameters?this._revealParams:{revealStart:0,revealRange:.01},m=r.transform.zoom;if(l.revealStart>m)return;const _=Ru(0,1,l.revealStart,l.revealStart+l.revealRange,m);if(!this.particlesVx||!this.particlesIdx)return;const x=structuredClone(this._params);let E=[-x.direction.x,x.direction.y,-100];c.ab.vec3.normalize(E,E);const R=structuredClone(this._vignetteParams);R.strength*=_,x.overrideStyleParameters||(x.intensity=r.style.rain.state.density,x.timeFactor=r.style.rain.state.intensity,x.color=structuredClone(r.style.rain.state.color),E=structuredClone(r.style.rain.state.direction),x.screenThinning.intensity=r.style.rain.state.centerThinning,x.dropletSizeX=r.style.rain.state.dropletSize[0],x.dropletSizeYScale=r.style.rain.state.dropletSize[1]/r.style.rain.state.dropletSize[0],x.distortionStrength=100*r.style.rain.state.distortionStrength,R.strength=1,R.color=structuredClone(r.style.rain.state.vignetteColor));const B=this.updateOnRender(r,x.timeFactor),V=r.context,U=V.gl,Q=r.transform;this.screenTexture&&this.screenTexture.size[0]===r.width&&this.screenTexture.size[1]===r.height||(this.screenTexture=new c.T(V,{width:r.width,height:r.height,data:null},U.RGBA8)),x.distortionStrength>0&&(V.activeTexture.set(U.TEXTURE0),this.screenTexture.bind(U.LINEAR,U.CLAMP_TO_EDGE),U.copyTexSubImage2D(U.TEXTURE_2D,0,0,0,0,0,r.width,r.height));const ee=r.getOrCreateProgram("rainParticle");r.uploadCommonUniforms(V,ee),V.activeTexture.set(U.TEXTURE0),this.screenTexture.bind(U.LINEAR,U.CLAMP_TO_EDGE);const ce=[x.color.r,x.color.g,x.color.b,x.color.a],Me=(Se,Le)=>{const Ae=gd(this._movement.getPosition(),Se),rt=x.dropletSizeX,St=x.dropletSizeX*x.dropletSizeYScale,_t=r.width/2,Vt=r.height/2,Lt=Ru(0,x.screenThinning.start,0,1,x.screenThinning.intensity),Bt=Ru(.001,x.screenThinning.range,0,1,x.screenThinning.intensity),Dt=Ru(0,x.screenThinning.particleOffset,0,1,x.screenThinning.intensity),rn=(xn={modelview:B.modelviewMatrix,projection:B.projectionMatrix,time:this._accumulatedTimeFromStart,camPos:Ae,velocityConeAperture:x.velocityConeAperture,velocity:x.velocity,boxSize:Se,rainDropletSize:[rt,St],distortionStrength:x.distortionStrength,rainDirection:E,color:ce,screenSize:[Q.width,Q.height],thinningCenterPos:[_t,Vt],thinningShape:[Lt,Bt,Math.pow(10,x.screenThinning.fadePower)],thinningAffectedRatio:x.screenThinning.affectedRatio,thinningParticleOffset:Dt,shapeDirectionalPower:x.shapeDirPower,shapeNormalPower:x.shapeNormalPower,mode:Le?0:1},{u_modelview:Float32Array.from(xn.modelview),u_projection:Float32Array.from(xn.projection),u_time:xn.time,u_cam_pos:xn.camPos,u_texScreen:0,u_velocityConeAperture:xn.velocityConeAperture,u_velocity:xn.velocity,u_boxSize:xn.boxSize,u_rainDropletSize:xn.rainDropletSize,u_distortionStrength:xn.distortionStrength,u_rainDirection:xn.rainDirection,u_color:xn.color,u_screenSize:xn.screenSize,u_thinningCenterPos:xn.thinningCenterPos,u_thinningShape:xn.thinningShape,u_thinningAffectedRatio:xn.thinningAffectedRatio,u_thinningParticleOffset:xn.thinningParticleOffset,u_shapeDirectionalPower:xn.shapeDirectionalPower,u_shapeNormalPower:xn.shapeNormalPower,u_mode:xn.mode});var xn;const dr=Math.round(x.intensity*this.particlesCount),Jn=c.b7.simpleSegment(0,0,4*dr,2*dr);ee.draw(r,U.TRIANGLES,Fo.disabled,Qo.disabled,sa.alphaBlended,ia.disabled,rn,"rain_particles",this.particlesVx,this.particlesIdx,Jn,{})};x.distortionStrength>0&&Me(x.boxSize,!0),Me(x.boxSize,!1),this._vignette.draw(r,R)}}const Im=c.da([{type:"Float32",name:"a_pos_3f",components:3},{type:"Float32",name:"a_uv",components:2},{type:"Float32",name:"a_snowParticleData",components:4},{type:"Float32",name:"a_snowParticleDataHorizontalOscillation",components:2}]);class qg extends gh{constructor(r){super(2.25),this._params={overrideStyleParameters:!1,intensity:.85,timeFactor:.75,velocityConeAperture:70,velocity:40,horizontalOscillationRadius:4,horizontalOscillationRate:1.5,boxSize:2e3,billboardSize:2,shapeFadeStart:.27,shapeFadePower:.21,screenThinning:{intensity:.4,start:.15,range:1.4,fadePower:.24,affectedRatio:1,particleOffset:-.2},color:{r:1,g:1,b:1,a:1},direction:{x:-50,y:-35}},this._revealParams=new Nl(r.tp,["Precipitation","Snow"]),this._vignetteParams={strength:.3,start:.78,range:.46,fadePower:.2,color:{r:1,g:1,b:1,a:1}},this.particlesCount=16e3}update(r){const l=r.context;if(!this.particlesVx){const m=mp(this.particlesCount),_=new c.du,x=new c.aU;let E=0;const R=c.di(1323123451230);for(let B=0;B<m.length;++B){const V=m[B],U=R(),Q=R(),ee=R(),ce=[B/m.length,U,Q,ee],Me=[R(),R()];_.emplaceBack(V[0],V[1],V[2],-1,-1,...ce,...Me),_.emplaceBack(V[0],V[1],V[2],1,-1,...ce,...Me),_.emplaceBack(V[0],V[1],V[2],1,1,...ce,...Me),_.emplaceBack(V[0],V[1],V[2],-1,1,...ce,...Me),x.emplaceBack(E+0,E+1,E+2),x.emplaceBack(E+0,E+2,E+3),E+=4}this.particlesVx=l.createVertexBuffer(_,Im.members),this.particlesIdx=l.createIndexBuffer(x)}}draw(r){if(!this._params.overrideStyleParameters&&!r.style.snow)return;const l=structuredClone(this._params);let m=[-l.direction.x,l.direction.y,-100];c.ab.vec3.normalize(m,m);const _=structuredClone(this._vignetteParams),x=l.overrideStyleParameters?this._revealParams:{revealStart:0,revealRange:.01},E=r.transform.zoom;if(x.revealStart>E)return;const R=Ru(0,1,x.revealStart,x.revealStart+x.revealRange,E);_.strength*=R,l.overrideStyleParameters||(l.intensity=r.style.snow.state.density,l.timeFactor=r.style.snow.state.intensity,l.color=structuredClone(r.style.snow.state.color),m=structuredClone(r.style.snow.state.direction),l.screenThinning.intensity=r.style.snow.state.centerThinning,l.billboardSize=2.79*r.style.snow.state.flakeSize,_.strength=1,_.color=structuredClone(r.style.snow.state.vignetteColor));const B=this.updateOnRender(r,l.timeFactor);if(!this.particlesVx||!this.particlesIdx)return;const V=r.context,U=V.gl,Q=r.transform,ee=r.getOrCreateProgram("snowParticle");r.uploadCommonUniforms(V,ee),((ce,Me,Se)=>{const Le=gd(this._movement.getPosition(),ce),Ae=Q.width/2,rt=Q.height/2,St=Ru(0,Se.screenThinning.start,0,1,Se.screenThinning.intensity),_t=Ru(.001,Se.screenThinning.range,0,1,Se.screenThinning.intensity),Vt=Ru(0,Se.screenThinning.particleOffset,0,1,Se.screenThinning.intensity),Lt=(Bt={modelview:B.modelviewMatrix,projection:B.projectionMatrix,time:this._accumulatedTimeFromStart,camPos:Le,velocityConeAperture:Se.velocityConeAperture,velocity:Se.velocity,horizontalOscillationRadius:Se.horizontalOscillationRadius,horizontalOscillationRate:Se.horizontalOscillationRate,boxSize:ce,billboardSize:1*Se.billboardSize,simpleShapeParameters:[Se.shapeFadeStart,Se.shapeFadePower],screenSize:[Q.width,Q.height],thinningCenterPos:[Ae,rt],thinningShape:[St,_t,Math.pow(10,Se.screenThinning.fadePower)],thinningAffectedRatio:Se.screenThinning.affectedRatio,thinningParticleOffset:Vt,color:[Se.color.r,Se.color.g,Se.color.b,Se.color.a],direction:m},{u_modelview:Float32Array.from(Bt.modelview),u_projection:Float32Array.from(Bt.projection),u_time:Bt.time,u_cam_pos:Bt.camPos,u_velocityConeAperture:Bt.velocityConeAperture,u_velocity:Bt.velocity,u_horizontalOscillationRadius:Bt.horizontalOscillationRadius,u_horizontalOscillationRate:Bt.horizontalOscillationRate,u_boxSize:Bt.boxSize,u_billboardSize:Bt.billboardSize,u_simpleShapeParameters:Bt.simpleShapeParameters,u_screenSize:Bt.screenSize,u_thinningCenterPos:Bt.thinningCenterPos,u_thinningShape:Bt.thinningShape,u_thinningAffectedRatio:Bt.thinningAffectedRatio,u_thinningParticleOffset:Bt.thinningParticleOffset,u_particleColor:Bt.color,u_direction:Bt.direction});var Bt;const Dt=Math.round(Se.intensity*this.particlesCount),rn=c.b7.simpleSegment(0,0,4*Dt,2*Dt);this.particlesVx&&this.particlesIdx&&ee.draw(r,U.TRIANGLES,Fo.disabled,Qo.disabled,sa.alphaBlended,ia.disabled,Lt,"snow_particles",this.particlesVx,this.particlesIdx,rn,{})})(l.boxSize,0,l),this._vignette.draw(r,_)}}const xf={symbol:function(p,r,l,m,_){if(p.renderPass!=="translucent")return;const x=Qo.disabled,E=p.colorModeForRenderPass(),R=l.layout.get("text-variable-anchor"),B=l.layout.get("text-size-scale-range"),V=c.aw(p.scaleFactor,B[0],B[1]);R&&function(ee,ce,Me,Se,Le,Ae,rt,St){const _t=ce.transform,Vt=Le==="map",Lt=Ae==="map";for(const Bt of ee){const Dt=Se.getTile(Bt),rn=Dt.getBucket(Me);if(!rn||!rn.text||!rn.text.segments.get().length)continue;const xn=c.bp(rn.textSizeData,_t.zoom,St),dr=aa(Bt,rn.getProjection(),_t),Jn=_t.calculatePixelsToTileUnitsMatrix(Dt),Br=Ye(dr,Dt.tileID.canonical,Lt,Vt,_t,rn.getProjection(),Jn),Ar=rn.hasIconTextFit()&&rn.hasIconData();if(xn){const Zn=Math.pow(2,_t.zoom-Dt.tileID.overscaledZ);sp(rn,Vt,Lt,rt,c.cX,_t,Br,Bt,Zn,xn,Ar)}}}(m,p,l,r,l.layout.get("text-rotation-alignment"),l.layout.get("text-pitch-alignment"),_,V);const U=l.paint.get("icon-opacity").constantOr(1)!==0,Q=l.paint.get("text-opacity").constantOr(1)!==0;l.layout.get("symbol-sort-key").constantOr(1)!==void 0&&(U||Q)?dh(p,r,l,m,x,E):(U&&dh(p,r,l,m,x,E,{onlyIcons:!0}),Q&&dh(p,r,l,m,x,E,{onlyText:!0})),r.map.showCollisionBoxes&&(ap(p,r,l,m,l.paint.get("text-translate"),l.paint.get("text-translate-anchor"),!0),ap(p,r,l,m,l.paint.get("icon-translate"),l.paint.get("icon-translate-anchor"),!1))},circle:function(p,r,l,m){if(p.renderPass!=="translucent")return;const _=l.paint.get("circle-opacity"),x=l.paint.get("circle-stroke-width"),E=l.paint.get("circle-stroke-opacity"),R=l.layout.get("circle-sort-key").constantOr(1)!==void 0,B=l.paint.get("circle-emissive-strength");if(_.constantOr(1)===0&&(x.constantOr(1)===0||E.constantOr(1)===0))return;const V=p.context,U=V.gl,Q=p.transform,ee=p.depthModeForSublayer(0,Fo.ReadOnly),ce=Qo.disabled,Me=p.colorModeForDrapableLayerRenderPass(B),Se=Q.projection.name==="globe",Le=[c.at(Q.center.lng),c.aA(Q.center.lat)],Ae=[];for(let St=0;St<m.length;St++){const _t=m[St],Vt=r.getTile(_t),Lt=Vt.getBucket(l);if(!Lt||Lt.projection.name!==Q.projection.name)continue;const Bt=Lt.programConfigurations.get(l.id),Dt=c.cY(l),rn=p.isTileAffectedByFog(_t);Se&&Dt.push("PROJECTION_GLOBE_VIEW"),Dt.push("DEPTH_D24"),p.terrain&&Q.depthOcclusionForSymbolsAndCircles&&Dt.push("DEPTH_OCCLUSION");const xn=p.getOrCreateProgram("circle",{config:Bt,defines:Dt,overrideFog:rn}),dr=Lt.layoutVertexBuffer,Jn=Lt.globeExtVertexBuffer,Br=Lt.indexBuffer,Ar=Q.projection.createInversionMatrix(Q,_t.canonical),Zn={programConfiguration:Bt,program:xn,layoutVertexBuffer:dr,globeExtVertexBuffer:Jn,indexBuffer:Br,uniformValues:c.cZ(p,_t,Vt,Ar,Le,l),tile:Vt};if(R){const vr=Lt.segments.get();for(const oi of vr)Ae.push({segments:new c.b7([oi]),sortKey:oi.sortKey,state:Zn})}else Ae.push({segments:Lt.segments,sortKey:0,state:Zn})}R&&Ae.sort((St,_t)=>St.sortKey-_t.sortKey);const rt={useDepthForOcclusion:Q.depthOcclusionForSymbolsAndCircles};for(const St of Ae){const{programConfiguration:_t,program:Vt,layoutVertexBuffer:Lt,globeExtVertexBuffer:Bt,indexBuffer:Dt,uniformValues:rn,tile:xn}=St.state,dr=St.segments;p.terrain&&p.terrain.setupElevationDraw(xn,Vt,rt),p.uploadCommonUniforms(V,Vt,xn.tileID.toUnwrapped()),Vt.draw(p,U.TRIANGLES,ee,ce,Me,ia.disabled,rn,l.id,Lt,Dt,dr,l.paint,Q.zoom,_t,[Bt])}},heatmap:function(p,r,l,m){if(l.paint.get("heatmap-opacity")!==0)if(p.renderPass==="offscreen"){const _=p.context,x=_.gl,E=Qo.disabled,R=new sa([x.ONE,x.ONE,x.ONE,x.ONE],c.aj.transparent,[!0,!0,!0,!0]);(function(ce,Me,Se,Le){const Ae=ce.gl,rt=Me.width*Le,St=Me.height*Le;ce.activeTexture.set(Ae.TEXTURE1),ce.viewport.set([0,0,rt,St]);let _t=Se.heatmapFbo;if(!_t||_t&&(_t.width!==rt||_t.height!==St)){_t&&_t.destroy();const Vt=Ae.createTexture();Ae.bindTexture(Ae.TEXTURE_2D,Vt),Ae.texParameteri(Ae.TEXTURE_2D,Ae.TEXTURE_WRAP_S,Ae.CLAMP_TO_EDGE),Ae.texParameteri(Ae.TEXTURE_2D,Ae.TEXTURE_WRAP_T,Ae.CLAMP_TO_EDGE),Ae.texParameteri(Ae.TEXTURE_2D,Ae.TEXTURE_MIN_FILTER,Ae.LINEAR),Ae.texParameteri(Ae.TEXTURE_2D,Ae.TEXTURE_MAG_FILTER,Ae.LINEAR),_t=Se.heatmapFbo=ce.createFramebuffer(rt,St,!0,null),function(Lt,Bt,Dt,rn,xn,dr){const Jn=Lt.gl;Jn.texImage2D(Jn.TEXTURE_2D,0,Lt.extRenderToTextureHalfFloat?Jn.RGBA16F:Jn.RGBA,xn,dr,0,Jn.RGBA,Lt.extRenderToTextureHalfFloat?Jn.HALF_FLOAT:Jn.UNSIGNED_BYTE,null),rn.colorAttachment.set(Dt)}(ce,0,Vt,_t,rt,St)}else Ae.bindTexture(Ae.TEXTURE_2D,_t.colorAttachment.get()),ce.bindFramebuffer.set(_t.framebuffer)})(_,p,l,p.transform.projection.name==="globe"?.5:.25),_.clear({color:c.aj.transparent});const B=p.transform,V=B.projection.name==="globe",U=V?["PROJECTION_GLOBE_VIEW"]:[],Q=V?ia.frontCCW:ia.disabled,ee=[c.at(B.center.lng),c.aA(B.center.lat)];for(let ce=0;ce<m.length;ce++){const Me=m[ce];if(r.hasRenderableParent(Me))continue;const Se=r.getTile(Me),Le=Se.getBucket(l);if(!Le||Le.projection.name!==B.projection.name)continue;const Ae=p.isTileAffectedByFog(Me),rt=Le.programConfigurations.get(l.id),St=p.getOrCreateProgram("heatmap",{config:rt,defines:U,overrideFog:Ae}),{zoom:_t}=p.transform;p.terrain&&p.terrain.setupElevationDraw(Se,St),p.uploadCommonUniforms(_,St,Me.toUnwrapped());const Vt=B.projection.createInversionMatrix(B,Me.canonical);St.draw(p,x.TRIANGLES,Fo.disabled,E,R,Q,_o(p,Me,Se,Vt,ee,_t,l.paint.get("heatmap-intensity")),l.id,Le.layoutVertexBuffer,Le.indexBuffer,Le.segments,l.paint,p.transform.zoom,rt,V?[Le.globeExtVertexBuffer]:null)}_.viewport.set([0,0,p.width,p.height])}else p.renderPass==="translucent"&&(p.context.setColorMode(p.colorModeForRenderPass()),function(_,x){const E=_.context,R=E.gl,B=x.heatmapFbo;if(!B)return;E.activeTexture.set(R.TEXTURE0),R.bindTexture(R.TEXTURE_2D,B.colorAttachment.get()),E.activeTexture.set(R.TEXTURE1);let V=x.colorRampTexture;V||(V=x.colorRampTexture=new c.T(E,x.colorRamp,R.RGBA8)),V.bind(R.LINEAR,R.CLAMP_TO_EDGE),_.getOrCreateProgram("heatmapTexture").draw(_,R.TRIANGLES,Fo.disabled,Qo.disabled,_.colorModeForRenderPass(),ia.disabled,((U,Q,ee,ce)=>({u_image:0,u_color_ramp:1,u_opacity:Q.paint.get("heatmap-opacity")}))(0,x),x.id,_.viewportBuffer,_.quadTriangleIndexBuffer,_.viewportSegments,x.paint,_.transform.zoom)}(p,l))},line:function(p,r,l,m){if(p.renderPass!=="translucent")return;const _=l.paint.get("line-opacity"),x=l.paint.get("line-width");if(_.constantOr(1)===0||x.constantOr(1)===0)return;const E=l.paint.get("line-emissive-strength"),R=l.paint.get("line-occlusion-opacity"),B=l.layout.get("line-elevation-reference"),V=l.layout.get("line-width-unit")==="meters",U=B==="sea",Q=p.context,ee=Q.gl;if(l.hasElevatedBuckets&&p.transform.projection.name==="globe")return;const ce=l.layout.get("line-cross-slope"),Me=ce!==void 0,Se=ce<1,Le=p.colorModeForDrapableLayerRenderPass(E),Ae=p.terrain&&p.terrain.renderingToTexture,rt=Ae?1:c.q.devicePixelRatio,St=l.paint.get("line-dasharray"),_t=St.constantOr(1),Vt=l.layout.get("line-cap"),Lt=St.constantOr(null),Bt=Vt.constantOr(null),Dt=l.paint.get("line-pattern"),rn=Dt.constantOr(1),xn=Dt.constantOr(null),dr=l.paint.get("line-opacity").constantOr(1);let Jn=!rn&&dr!==1||p.depthOcclusion&&R>0&&R<1;const Br=l.paint.get("line-gradient"),Ar=rn?"linePattern":"line",Zn=c.c_(l);let vr;if(Ae&&p.terrain&&p.terrain.clipOrMaskOverlapStencilType()&&(Jn=!1),R!==0&&p.depthOcclusion){const jn=l.paint._values["line-opacity"];jn&&jn.value&&jn.value.kind==="constant"?vr=jn.value:c.w(`Occlusion opacity for layer ${l.id} is supported only when line-opacity isn't data-driven.`)}x.value.kind!=="constant"&&x.value.isLineProgressConstant===!1&&Zn.push("VARIABLE_LINE_WIDTH");const oi=(jn,Vr,_r,$i,ti)=>{for(const jr of jn){const Ci=r.getTile(jr);if(rn&&!Ci.patternsLoaded())continue;const Li=Ci.getBucket(l);if(!Li||Li.hasZOffset&&!ti||!Li.hasZOffset&&ti)continue;p.prepareDrawTile();const ro=Li.programConfigurations.get(l.id),vo=p.isTileAffectedByFog(jr),la=p.getOrCreateProgram(Ar,{config:ro,defines:Vr,overrideFog:vo,overrideRtt:!ti&&void 0});if(xn&&Ci.imageAtlas){const Pa=c.A.from(xn).getPrimary().scaleSelf(rt).serialize(),us=Ci.imageAtlas.patternPositions[Pa];us&&ro.setConstantPatternPositions(us)}if(!rn&&Lt&&Bt&&Ci.lineAtlas){const Pa=Ci.lineAtlas.getDash(Lt,Bt);Pa&&ro.setConstantPatternPositions(Pa)}let[Wo,Ko]=l.paint.get("line-trim-offset");(Bt==="round"||Bt==="square")&&Wo!==Ko&&(Wo===0&&(Wo-=1),Ko===1&&(Ko+=1));const ya=Ae?jr.projMatrix:null,as=V?1/Li.tileToMeter/c.ar(Ci,1,p.transform.zoom):1,ms=V?1/Li.tileToMeter/c.ar(Ci,1,Math.floor(p.transform.zoom)):1,ul=rn?c.c$(p,Ci,l,ya,rt,as,ms,[Wo,Ko]):c.d0(p,Ci,l,ya,Li.lineClipsArray.length,rt,as,ms,[Wo,Ko]);if(Br){const Pa=Li.gradients[l.id];let us=Pa.texture;if(l.gradientVersion!==Pa.version){let Do=256;if(l.stepInterpolant){const xa=r.getSource().maxzoom,ys=jr.canonical.z===xa?Math.ceil(1<<p.transform.maxZoom-jr.canonical.z):1;Do=c.aw(c.d1(Li.maxLineLength/c.ag*1024*ys),256,Q.maxTextureSize)}Pa.gradient=c.d2({expression:l.gradientExpression(),evaluationKey:"lineProgress",resolution:Do,image:Pa.gradient||void 0,clips:Li.lineClipsArray}),Pa.texture?Pa.texture.update(Pa.gradient):Pa.texture=new c.T(Q,Pa.gradient,ee.RGBA8),Pa.version=l.gradientVersion,us=Pa.texture}Q.activeTexture.set(ee.TEXTURE1),us.bind(l.stepInterpolant?ee.NEAREST:ee.LINEAR,ee.CLAMP_TO_EDGE)}_t&&(Q.activeTexture.set(ee.TEXTURE0),Ci.lineAtlasTexture&&Ci.lineAtlasTexture.bind(ee.LINEAR,ee.REPEAT),ro.updatePaintBuffers()),rn&&(Q.activeTexture.set(ee.TEXTURE0),Ci.imageAtlasTexture&&Ci.imageAtlasTexture.bind(ee.LINEAR,ee.CLAMP_TO_EDGE),ro.updatePaintBuffers()),ti&&!U&&p.terrain.setupElevationDraw(Ci,la),p.uploadCommonUniforms(Q,la,jr.toUnwrapped());const Ks=Pa=>{vr!=null&&(vr.value=dr*R),la.draw(p,ee.TRIANGLES,_r,Pa,Le,ia.disabled,ul,l.id,Li.layoutVertexBuffer,Li.indexBuffer,Li.segments,l.paint,p.transform.zoom,ro,[Li.layoutVertexBuffer2,Li.patternVertexBuffer,Li.zOffsetVertexBuffer]),vr!=null&&(vr.value=dr)};if(Jn&&!ti){const Pa=p.stencilModeForClipping(jr).ref;Pa===0&&Ae&&Q.clear({stencil:0});const us={func:ee.EQUAL,mask:255};ul.u_alpha_discard_threshold=.8,Ks(new Qo(us,Pa,255,ee.KEEP,ee.KEEP,ee.INVERT)),ul.u_alpha_discard_threshold=0,Ks(new Qo(us,Pa,255,ee.KEEP,ee.KEEP,ee.KEEP))}else Jn&&ti&&(ul.u_alpha_discard_threshold=.001),Ks(ti?$i:p.stencilModeForClipping(jr))}};if(l.hasNonElevatedBuckets){const jn=!Ae&&p.terrain;R!==0&&jn?c.w(`Occlusion opacity for layer ${l.id} is supported on terrain only if the layer has line-z-offset enabled.`):jn?c.w(`Cannot render non-elevated lines in immediate mode when terrain is enabled. Layer: ${l.id}.`):oi(m,Zn,p.depthModeForSublayer(0,Fo.ReadOnly),Qo.disabled,!1)}if(l.hasElevatedBuckets){Zn.push("ELEVATED"),Me&&Zn.push(Se?"CROSS_SLOPE_HORIZONTAL":"CROSS_SLOPE_VERTICAL"),U&&Zn.push("ELEVATION_REFERENCE_SEA");const jn=Jn?p.stencilModeFor3D():Qo.disabled,Vr=new Fo(p.depthOcclusion?ee.GREATER:ee.LEQUAL,Fo.ReadOnly,p.depthRangeFor3D);p.forceTerrainMode=!0,oi(m,Zn,Vr,jn,!0),p.forceTerrainMode=!1}Jn&&(p.resetStencilClippingMasks(),Ae&&Q.clear({stencil:0})),R===0||p.depthOcclusion||Ae||p.layersWithOcclusionOpacity.push(p.currentLayer)},fill:function(p,r,l,m){const _=l.paint.get("fill-color"),x=l.paint.get("fill-opacity"),E=l.is3D(),R=new Fo(p.context.gl.LEQUAL,Fo.ReadWrite,p.depthRangeFor3D);if(x.constantOr(1)===0)return;const B=l.paint.get("fill-emissive-strength"),V=p.colorModeForDrapableLayerRenderPass(B),U=l.paint.get("fill-pattern"),Q=p.opaquePassEnabledForLayer()&&!U.constantOr(1)&&_.constantOr(c.aj.transparent).a===1&&x.constantOr(0)===1?"opaque":"translucent";if(p.renderPass===Q){const ee=E?R:p.depthModeForSublayer(1,p.renderPass==="opaque"?Fo.ReadWrite:Fo.ReadOnly);ym(p,r,l,m,ee,V,!1)}if(!E&&p.renderPass==="translucent"&&l.paint.get("fill-antialias")){const ee=E?R:p.depthModeForSublayer(l.getPaintProperty("fill-outline-color")?2:0,Fo.ReadOnly);ym(p,r,l,m,ee,V,!0)}},"fill-extrusion":function(p,r,l,m){const _=l.paint.get("fill-extrusion-opacity"),x=p.context,E=x.gl,R=p.terrain,B=R&&R.renderingToTexture;if(_===0)return;const V=p.conflationActive&&p.style.isLayerClipped(l,r.getSource()),U=p.style.order.indexOf(l.fqid);if(V&&function(Q,ee,ce,Me,Se){for(const Le of Me){const Ae=ee.getTile(Le).getBucket(ce);Ae&&(Ae.updateReplacement(Le,Q.replacementSource,Se),Ae.uploadCentroid(Q.context))}}(p,r,l,m,U),R||V)for(const Q of m){const ee=r.getTile(Q).getBucket(l);ee&&mf(p.context,r,Q,ee,l,R,V)}if(p.renderPass==="shadow"&&p.shadowRenderer){const Q=p.shadowRenderer;if(R&&_<.65&&l._transitionablePaint._values["fill-extrusion-opacity"].value.expression instanceof c.a9)return;const ee=Q.getShadowPassDepthMode(),ce=Q.getShadowPassColorMode();fh(p,r,l,m,ee,Qo.disabled,ce,V)}else if(p.renderPass==="translucent"){const Q=!l.paint.get("fill-extrusion-pattern").constantOr(1),ee=l.paint.get("fill-extrusion-color").constantOr(c.aj.white);if(!B&&ee.a!==0){const ce=new Fo(p.context.gl.LEQUAL,Fo.ReadWrite,p.depthRangeFor3D);_===1&&Q?fh(p,r,l,m,ce,Qo.disabled,sa.unblended,V):(fh(p,r,l,m,ce,Qo.disabled,sa.disabled,V),fh(p,r,l,m,ce,p.stencilModeFor3D(),p.colorModeForRenderPass(),V),p.resetStencilClippingMasks())}if(p.style.enable3dLights()&&Q&&(!R&&p.transform.projection.name!=="globe"||B)){const ce=l.paint.get("fill-extrusion-opacity"),Me=l.paint.get("fill-extrusion-ambient-occlusion-intensity"),Se=l.paint.get("fill-extrusion-ambient-occlusion-ground-radius"),Le=l.paint.get("fill-extrusion-flood-light-intensity"),Ae=l.paint.get("fill-extrusion-flood-light-color-use-theme").constantOr("default")==="none",rt=l.paint.get("fill-extrusion-flood-light-color").toRenderColor(Ae?null:l.lut).toArray01().slice(0,3),St=Me>0&&Se>0,_t=Le>0,Vt=(Bt,Dt,rn)=>(1-rn)*Bt+rn*Dt,Lt=Bt=>{const Dt=p.depthModeForSublayer(1,Fo.ReadOnly,E.LEQUAL,!0),rn=l.paint.get(Bt?"fill-extrusion-ambient-occlusion-ground-attenuation":"fill-extrusion-flood-light-ground-attenuation"),xn=Vt(.1,3,rn),dr=p._showOverdrawInspector;if(!dr){const Jn=new Qo({func:E.ALWAYS,mask:255},255,255,E.KEEP,E.KEEP,E.REPLACE),Br=new sa([E.ONE,E.ONE,E.ONE,E.ONE],c.aj.transparent,[!1,!1,!1,!0],E.MIN);hh(p,r,l,m,Dt,Jn,Br,ia.disabled,Bt,"sdf",ce,Me,Se,Le,rt,xn,V,!1)}{const Jn=dr?Qo.disabled:new Qo({func:E.EQUAL,mask:255},255,255,E.KEEP,E.DECR,E.DECR),Br=dr?p.colorModeForRenderPass():new sa([E.ONE_MINUS_DST_ALPHA,E.DST_ALPHA,E.ONE,E.ONE],c.aj.transparent,[!0,!0,!0,!0]);hh(p,r,l,m,Dt,Jn,Br,ia.disabled,Bt,"color",ce,Me,Se,Le,rt,xn,V,!1)}};if(B){const Bt=(Dt,rn,xn)=>{const dr=p.depthModeForSublayer(1,Fo.ReadOnly,E.LEQUAL,!1),Jn=l.paint.get(Dt?"fill-extrusion-ambient-occlusion-ground-attenuation":"fill-extrusion-flood-light-ground-attenuation"),Br=Vt(.1,3,Jn);{const Ar=new sa([E.ONE,E.ONE,E.ONE,E.ONE],c.aj.transparent,[!1,!1,!1,!0]);hh(p,r,l,m,dr,Qo.disabled,Ar,ia.disabled,Dt,"clear",ce,Me,Se,Le,rt,Br,V,rn)}{const Ar=new Qo({func:E.ALWAYS,mask:255},255,255,E.KEEP,E.KEEP,E.REPLACE),Zn=new sa([E.ONE,E.ONE,E.ONE,E.ONE],c.aj.transparent,[!1,!1,!1,!0],E.MIN);hh(p,r,l,m,dr,Ar,Zn,ia.disabled,Dt,"sdf",ce,Me,Se,Le,rt,Br,V,rn)}{const Ar=Dt?E.ZERO:E.ONE_MINUS_DST_ALPHA,Zn=new Qo({func:E.EQUAL,mask:255},255,255,E.KEEP,E.DECR,E.DECR),vr=new sa([Ar,E.DST_ALPHA,E.ONE_MINUS_DST_ALPHA,E.ZERO],c.aj.transparent,[!0,!0,!0,!0]);hh(p,r,l,m,dr,Zn,vr,ia.disabled,Dt,"color",ce,Me,Se,Le,rt,Br,V,rn)}{const Ar=new sa([E.ONE,E.ONE,E.ONE,Dt?E.ZERO:E.ONE],c.aj.transparent,[!1,!1,!1,!0],Dt?E.FUNC_ADD:E.MAX);hh(p,r,l,m,dr,Qo.disabled,Ar,ia.disabled,Dt,"clear",ce,Me,Se,Le,rt,Br,V,rn,xn)}};if(St||_t){let Dt;if(p.prepareDrawTile(),R){const rn=R.drapeBufferSize[0],xn=R.drapeBufferSize[1];Dt=R.framebufferCopyTexture,Dt&&(!Dt||Dt.size[0]===rn&&Dt.size[1]===xn)||(Dt&&Dt.destroy(),Dt=R.framebufferCopyTexture=new c.T(x,new c.r({width:rn,height:xn}),E.RGBA8)),Dt.bind(E.LINEAR,E.CLAMP_TO_EDGE),E.copyTexSubImage2D(E.TEXTURE_2D,0,0,0,0,0,rn,xn)}St&&Bt(!0,!1,Dt),_t&&Bt(!1,!0,Dt)}}else St&&Lt(!0),_t&&Lt(!1),(St||_t)&&p.resetStencilClippingMasks()}}},hillshade:function(p,r,l,m){if(p.renderPass!=="offscreen"&&p.renderPass!=="translucent"||p.style.disableElevatedTerrain)return;const _=p.context,x=p.terrain&&p.terrain.renderingToTexture,[E,R]=p.renderPass!=="translucent"||x?[{},m]:p.stencilConfigForOverlap(m);for(const B of R){const V=r.getTile(B);if(V.needsHillshadePrepare&&p.renderPass==="offscreen")cd(p,V,l);else if(p.renderPass==="translucent"){const U=p.depthModeForSublayer(0,Fo.ReadOnly),Q=l.paint.get("hillshade-emissive-strength"),ee=p.colorModeForDrapableLayerRenderPass(Q),ce=x&&p.terrain?p.terrain.stencilModeForRTTOverlap(B):E[B.overscaledZ];Jh(p,B,V,l,U,ce,ee)}}_.viewport.set([0,0,p.width,p.height]),p.resetStencilClippingMasks()},raster:function(p,r,l,m,_,x){if(p.renderPass!=="translucent"||l.paint.get("raster-opacity")===0)return;const E=p.transform.projection.name==="globe",R=l.paint.get("raster-elevation")!==0,B=R&&E;if(p.renderElevatedRasterBackface&&!B)return;const V=p.context,U=V.gl,Q=r.getSource(),ee=function(Lt,Bt,Dt,rn){const xn=Bt.paint.get("raster-color"),dr=Lt.type==="raster-array",Jn=[],Br=Bt.paint.get("raster-resampling"),Ar=Bt.paint.get("raster-color-mix");let Zn=Bt.paint.get("raster-color-range");const vr=[Ar[0],Ar[1],Ar[2],0],oi=Ar[3];let jn=Br==="nearest"?rn.NEAREST:rn.LINEAR;if(dr&&(Jn.push("RASTER_ARRAY"),xn||Jn.push("RASTER_COLOR"),Br==="linear"&&Jn.push("RASTER_ARRAY_LINEAR"),jn=rn.NEAREST,!Zn&&Lt.rasterLayers)){const Vr=Lt.rasterLayers.find(({id:_r})=>_r===Bt.sourceLayer);Vr&&Vr.fields&&Vr.fields.range&&(Zn=Vr.fields.range)}if(Zn=Zn||[0,1],xn){Jn.push("RASTER_COLOR"),Dt.activeTexture.set(rn.TEXTURE2),Bt.updateColorRamp(Zn);let Vr=Bt.colorRampTexture;Vr||(Vr=Bt.colorRampTexture=new c.T(Dt,Bt.colorRamp,rn.RGBA8)),Vr.bind(rn.LINEAR,rn.CLAMP_TO_EDGE)}return{mix:vr,range:Zn,offset:oi,defines:Jn,resampling:jn}}(Q,l,V,U);if(Q instanceof c.aJ&&!m.length&&!E)return;const ce=l.paint.get("raster-emissive-strength"),Me=p.colorModeForDrapableLayerRenderPass(ce),Se=p.terrain&&p.terrain.renderingToTexture,Le=!p.options.moving,Ae=l.paint.get("raster-resampling")==="nearest"?U.NEAREST:U.LINEAR;if(Q instanceof c.aJ&&!m.length&&(Q.onNorthPole||Q.onSouthPole)){const Lt=R?p.stencilModeFor3D():Qo.disabled;return void er(!!Q.onNorthPole,null,p,r,l,ce,ee,ia.disabled,Lt)}if(!m.length)return;const[rt,St]=Q instanceof c.aJ||Se?[{},m]:p.stencilConfigForOverlap(m),_t=St[St.length-1].overscaledZ;B&&ee.defines.push("PROJECTION_GLOBE_VIEW"),R&&ee.defines.push("RENDER_CUTOFF");const Vt=(Lt,Bt,Dt)=>{for(const rn of Lt){const xn=rn.toUnwrapped(),dr=r.getTile(rn);if(Se&&(!dr||!dr.hasData()))continue;V.activeTexture.set(U.TEXTURE0);const Jn=_m(dr,Q,l,ee);if(!Jn||!Jn.texture)continue;const{texture:Br,mix:Ar,offset:Zn,tileSize:vr,buffer:oi}=Jn;let jn,Vr;Se?(jn=Fo.disabled,Vr=rn.projMatrix):R?(jn=new Fo(U.LEQUAL,Fo.ReadWrite,p.depthRangeFor3D),Vr=E?Float32Array.from(p.transform.expandedFarZProjMatrix):p.transform.calculateProjMatrix(xn,Le)):(jn=p.depthModeForSublayer(rn.overscaledZ-_t,l.paint.get("raster-opacity")===1?Fo.ReadWrite:Fo.ReadOnly,U.LESS),Vr=p.transform.calculateProjMatrix(xn,Le));const _r=p.terrain&&Se?p.terrain.stencilModeForRTTOverlap(rn):rt[rn.overscaledZ],$i=x?0:l.paint.get("raster-fade-duration");dr.registerFadeDuration($i);const ti=r.findLoadedParent(rn,0),jr=Pl(dr,ti,r,p.transform,$i);let Ci,Li;p.terrain&&p.terrain.prepareDrawTile(),V.activeTexture.set(U.TEXTURE0),Br.bind(Ae,U.CLAMP_TO_EDGE),V.activeTexture.set(U.TEXTURE1),ti?(ti.texture&&ti.texture.bind(Ae,U.CLAMP_TO_EDGE),Ci=Math.pow(2,ti.tileID.overscaledZ-dr.tileID.overscaledZ),Li=[dr.tileID.canonical.x*Ci%1,dr.tileID.canonical.y*Ci%1]):Br.bind(Ae,U.CLAMP_TO_EDGE),Br.useMipmap&&V.extTextureFilterAnisotropic&&p.transform.pitch>20&&U.texParameterf(U.TEXTURE_2D,V.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,V.extTextureFilterAnisotropicMax);const ro=p.transform;let vo;const la=R?Ug(ro):[0,0,0,0];let Wo,Ko,ya,as,ms,ul=0;if(B&&Q instanceof c.aJ&&Q.coordinates.length>3)Wo=Float32Array.from(c.bb(c.cH(new c.bT(0,0,0)))),Ko=Float32Array.from(ro.globeMatrix),ya=Float32Array.from(c.cD(ro)),as=[c.at(ro.center.lng),c.aA(ro.center.lat)],vo=Q.elevatedGlobePerspectiveTransform,ms=Q.elevatedGlobeGridMatrix||new Float32Array(9);else if(B){const Do=c.cE(rn.canonical);ul=c.cF(Do.getCenter().lat),Wo=Float32Array.from(c.bb(c.cH(rn.canonical))),Ko=Float32Array.from(ro.globeMatrix),ya=Float32Array.from(c.cD(ro)),as=[c.at(ro.center.lng),c.aA(ro.center.lat)],vo=[0,0],ms=Float32Array.from(c.cG(rn.canonical,Do,ul,ro.worldSize/ro._pixelsPerMercatorPixel))}else vo=Q instanceof c.aJ?Q.perspectiveTransform:[0,0],Wo=new Float32Array(16),Ko=new Float32Array(9),ya=new Float32Array(16),as=[0,0],ms=new Float32Array(9);const Ks=Nd(Vr,Wo,Ko,ya,ms,Li||[0,0],c.ae(p.transform.zoom),as,la,Ci||1,jr,l,vo,R?l.paint.get("raster-elevation"):0,2,Ar,Zn,ee.range,vr,oi,ce),Pa=p.isTileAffectedByFog(rn),us=p.getOrCreateProgram("raster",{defines:ee.defines,overrideFog:Pa});if(p.uploadCommonUniforms(V,us,xn),Q instanceof c.aJ){const Do=Q.elevatedGlobeVertexBuffer,xa=Q.elevatedGlobeIndexBuffer;if(Se||!E)Q.boundsBuffer&&Q.boundsSegments&&us.draw(p,U.TRIANGLES,jn,Qo.disabled,Me,ia.disabled,Ks,l.id,Q.boundsBuffer,p.quadTriangleIndexBuffer,Q.boundsSegments);else if(Do&&xa){const ys=ro.zoom<=c.c6?Q.elevatedGlobeSegments:Q.getSegmentsForLongitude(ro.center.lng);ys&&us.draw(p,U.TRIANGLES,jn,Qo.disabled,Me,Bt,Ks,l.id,Do,xa,ys)}}else if(B){jn=new Fo(U.LEQUAL,Fo.ReadOnly,p.depthRangeFor3D);const Do=p.globeSharedBuffers;if(Do){const[xa,ys,xs]=Do.getGridBuffers(ul,!1);us.draw(p,U.TRIANGLES,jn,Dt||_r,p.colorModeForRenderPass(),Bt,Ks,l.id,xa,ys,xs)}}else{const{tileBoundsBuffer:Do,tileBoundsIndexBuffer:xa,tileBoundsSegments:ys}=p.getTileBoundsBuffers(dr);us.draw(p,U.TRIANGLES,jn,_r,Me,ia.disabled,Ks,l.id,Do,xa,ys)}}if(!(Q instanceof c.aJ)&&B)for(const rn of Lt){const xn=rn.canonical.y===(1<<rn.canonical.z)-1;rn.canonical.y===0&&er(!0,rn,p,r,l,ce,ee,Bt,Dt||Qo.disabled),xn&&er(!1,rn,p,r,l,ce,ee,Bt===ia.frontCW?ia.backCW:ia.frontCW,Dt||Qo.disabled)}};B?Vt(St,p.renderElevatedRasterBackface?ia.backCW:ia.frontCW,p.stencilModeFor3D()):Vt(St,ia.disabled,void 0),p.resetStencilClippingMasks()},"raster-particle":function(p,r,l,m,_,x){p.renderPass==="offscreen"&&function(E,R,B,V){if(!V.length)return;const U=E.context,Q=U.gl,ee=R.getSource();if(!(ee instanceof pt))return;const ce=Math.ceil(Math.sqrt(B.paint.get("raster-particle-count")));let Me=B.particlePositionRGBAImage;if(!Me||Me.width!==ce){const St=function(_t){const Vt=_t*_t,Lt=new Uint8Array(4*Vt),Bt=function(rn){return rn|=0,rn=Math.imul(2747636419^rn,2654435769),rn=Math.imul(rn^rn>>>16,2654435769),((rn=Math.imul(rn^rn>>>16,2654435769))>>>0)/4294967296},Dt=1/1.1;for(let rn=0;rn<Vt;rn++){const xn=Dt*(Bt(2*rn+0)+ko),dr=Dt*(Bt(2*rn+1)+ko),Jn=255*xn%1,Br=255*dr%1,Ar=Jn,Zn=dr-Br/255,vr=Br;Lt[4*rn+0]=255*(xn-Jn/255),Lt[4*rn+1]=255*Ar,Lt[4*rn+2]=255*Zn,Lt[4*rn+3]=255*vr}return Lt}(ce);Me=B.particlePositionRGBAImage=new c.r({width:ce,height:ce},St)}let Se=B.particleFramebuffer;Se?Se.width!==ce&&(Se.destroy(),Se=B.particleFramebuffer=U.createFramebuffer(ce,ce,!0,null)):Se=B.particleFramebuffer=U.createFramebuffer(ce,ce,!0,null);const Le=[];for(const St of V){const _t=R.getTile(St);if(!(_t instanceof po))continue;const Vt=bm(_t,ee,B);if(!Vt)continue;const Lt=[_t.tileSize,_t.tileSize];let Bt=B.tileFramebuffer;Bt||(Bt=B.tileFramebuffer=U.createFramebuffer(Lt[0],Lt[1],!0,null));let Dt=_t.rasterParticleState;Dt||(Dt=_t.rasterParticleState=new Wg(U,St,Lt,Me));const rn=Dt.update(B.lastInvalidatedAt);Dt.particleTextureDimension!==ce&&Dt.updateParticleTexture(St,Me);const xn=Dt.targetColorTexture;Dt.targetColorTexture=Dt.backgroundColorTexture,Dt.backgroundColorTexture=xn;const dr=Dt.particleTexture0;Dt.particleTexture0=Dt.particleTexture1,Dt.particleTexture1=dr,Le.push([St,Vt,Dt,rn])}if(Le.length===0)return;const Ae=c.q.now(),rt=B.previousDrawTimestamp?.001*(Ae-B.previousDrawTimestamp):.0167;if(B.previousDrawTimestamp=Ae,B.hasColorMap()){U.activeTexture.set(Q.TEXTURE0+2);let St=B.colorRampTexture;St||(St=B.colorRampTexture=new c.T(U,B.colorRamp,Q.RGBA8)),St.bind(Q.LINEAR,Q.CLAMP_TO_EDGE)}U.bindFramebuffer.set(B.tileFramebuffer.framebuffer),function(St,_t,Vt){const Lt=St.context,Bt=Lt.gl,Dt=_t.tileFramebuffer;Lt.activeTexture.set(Bt.TEXTURE0);const rn={u_texture:0,u_opacity:1.05*(dr=_t.paint.get("raster-particle-fade-opacity-factor"))/(dr+.05)},xn=St.getOrCreateProgram("rasterParticleTexture",{defines:[],overrideFog:!1});var dr;for(const Jn of Vt){const[,,Br,Ar]=Jn;Dt.colorAttachment.set(Br.targetColorTexture.texture),Lt.viewport.set([0,0,Dt.width,Dt.height]),Lt.clear({color:c.aj.transparent}),Ar&&(Br.backgroundColorTexture.bind(Bt.NEAREST,Bt.CLAMP_TO_EDGE),xn.draw(St,Bt.TRIANGLES,Fo.disabled,Qo.disabled,sa.alphaBlended,ia.disabled,rn,_t.id,St.viewportBuffer,St.quadTriangleIndexBuffer,St.viewportSegments))}}(E,B,Le),function(St,_t,Vt,Lt){const Bt=St.context,Dt=Bt.gl,rn=Vt.tileFramebuffer,xn=St.transform.projection.name==="globe",dr=Vt.paint.get("raster-particle-max-speed");for(const Jn of Lt){const[Br,Ar,Zn]=Jn;Bt.activeTexture.set(Dt.TEXTURE0+0),Ar.texture.bind(Dt.LINEAR,Dt.CLAMP_TO_EDGE),rn.colorAttachment.set(Zn.targetColorTexture.texture);const vr=St.getOrCreateProgram("rasterParticleDraw",{defines:Ar.defines,overrideFog:!1});Bt.activeTexture.set(Dt.TEXTURE0+1);const oi=Ar.scalarData?[]:[0,1,2,3].map(_r=>c.d4[_r](Br));oi.push(Br);const jn=Br.canonical.x,Vr=Br.canonical.y;for(const _r of oi){const $i=_t.getTile(xn?_r.wrapped():_r);if(!$i)continue;const ti=$i.rasterParticleState;if(!ti)continue;const jr=_r.canonical.x+(1<<_r.canonical.z)*(_r.wrap-Br.wrap),Ci=_r.canonical.y;ti.particleTexture0.bind(Dt.NEAREST,Dt.CLAMP_TO_EDGE);const Li=Vg(1,ti.particleTexture0.size[0],[jr-jn,Ci-Vr],0,Ar.texture.size,2,dr,Ar.textureOffset,Ar.scale,Ar.offset);vr.draw(St,Dt.POINTS,Fo.disabled,Qo.disabled,sa.alphaBlended,ia.disabled,Li,Vt.id,ti.particleIndexBuffer,void 0,ti.particleSegment)}}}(E,R,B,Le),U.bindFramebuffer.set(B.particleFramebuffer.framebuffer),function(St,_t,Vt,Lt){const Bt=St.context,Dt=Bt.gl,rn=_t.paint.get("raster-particle-max-speed"),xn=Lt*_t.paint.get("raster-particle-speed-factor")*.15,dr=function(Br){return Math.pow(Br,6)}(.01+1*_t.paint.get("raster-particle-reset-rate-factor")),Jn=_t.particleFramebuffer;Bt.viewport.set([0,0,Jn.width,Jn.height]);for(const Br of Vt){const[,Ar,Zn]=Br;Bt.activeTexture.set(Dt.TEXTURE0+0),Ar.texture.bind(Dt.LINEAR,Dt.CLAMP_TO_EDGE),Bt.activeTexture.set(Dt.TEXTURE0+1);const vr=Zn.particleTexture0;vr.bind(Dt.NEAREST,Dt.CLAMP_TO_EDGE);const oi=Hg(1,vr.size[0],0,Ar.texture.size,rn,xn,dr,Ar.textureOffset,Ar.scale,Ar.offset);Jn.colorAttachment.set(Zn.particleTexture1.texture),Bt.clear({color:c.aj.transparent}),St.getOrCreateProgram("rasterParticleUpdate",{defines:Ar.defines}).draw(St,Dt.TRIANGLES,Fo.disabled,Qo.disabled,sa.unblended,ia.disabled,oi,_t.id,St.viewportBuffer,St.quadTriangleIndexBuffer,St.viewportSegments)}}(E,B,Le,rt)}(p,r,l,m),p.renderPass==="translucent"&&(function(E,R,B,V,U){const Q=E.context,ee=Q.gl,ce=R.getSource().tileSize,Me=5*(1-c.ac(c.bY,c.bY+1,E.transform.zoom))*ce+B.paint.get("raster-particle-elevation"),Se=!E.options.moving,Le=E.transform.projection.name==="globe";if(!V.length)return;const[Ae,rt]=E.stencilConfigForOverlap(V),St=[];Le&&St.push("PROJECTION_GLOBE_VIEW");const _t=E.stencilModeFor3D();for(const Vt of rt){const Lt=Vt.toUnwrapped(),Bt=R.getTile(Vt);if(!Bt.rasterParticleState)continue;const Dt=Bt.rasterParticleState,rn=100;Bt.registerFadeDuration(rn);const xn=R.findLoadedParent(Vt,0),dr=Pl(Bt,xn,R,E.transform,rn);let Jn,Br;E.terrain&&E.terrain.prepareDrawTile(),Q.activeTexture.set(ee.TEXTURE0),Dt.targetColorTexture.bind(ee.LINEAR,ee.CLAMP_TO_EDGE),Q.activeTexture.set(ee.TEXTURE1),xn&&xn.rasterParticleState?(xn.rasterParticleState.targetColorTexture.bind(ee.LINEAR,ee.CLAMP_TO_EDGE),Jn=Math.pow(2,xn.tileID.overscaledZ-Bt.tileID.overscaledZ),Br=[Bt.tileID.canonical.x*Jn%1,Bt.tileID.canonical.y*Jn%1]):Dt.targetColorTexture.bind(ee.LINEAR,ee.CLAMP_TO_EDGE);const Ar=Le?Float32Array.from(E.transform.expandedFarZProjMatrix):E.transform.calculateProjMatrix(Lt,Se),Zn=E.transform,vr=Tv(Zn),oi=c.cE(Vt.canonical),jn=c.cF(oi.getCenter().lat);let Vr,_r,$i,ti,jr;Le?(Vr=Float32Array.from(c.bb(c.cH(Vt.canonical))),_r=Float32Array.from(Zn.globeMatrix),$i=Float32Array.from(c.cD(Zn)),ti=[c.at(Zn.center.lng),c.aA(Zn.center.lat)],jr=Float32Array.from(c.cG(Vt.canonical,oi,jn,Zn.worldSize/Zn._pixelsPerMercatorPixel))):(Vr=new Float32Array(16),_r=new Float32Array(9),$i=new Float32Array(16),ti=[0,0],jr=new Float32Array(9));const Ci=Wu(Ar,Vr,_r,$i,jr,Br||[0,0],c.ae(E.transform.zoom),ti,vr,Jn||1,dr,Me),Li=E.isTileAffectedByFog(Vt),ro=E.getOrCreateProgram("rasterParticle",{defines:St,overrideFog:Li});if(E.uploadCommonUniforms(Q,ro,Lt),Le){const vo=new Fo(ee.LEQUAL,Fo.ReadOnly,E.depthRangeFor3D),la=0,Wo=E.globeSharedBuffers;if(Wo){const[Ko,ya,as]=Wo.getGridBuffers(jn,la!==0);ro.draw(E,ee.TRIANGLES,vo,_t,sa.alphaBlended,E.renderElevatedRasterBackface?ia.frontCCW:ia.backCCW,Ci,B.id,Ko,ya,as)}}else{const vo=E.depthModeForSublayer(0,Fo.ReadOnly),la=Ae[Vt.overscaledZ],{tileBoundsBuffer:Wo,tileBoundsIndexBuffer:Ko,tileBoundsSegments:ya}=E.getTileBoundsBuffers(Bt);ro.draw(E,ee.TRIANGLES,vo,la,sa.alphaBlended,ia.disabled,Ci,B.id,Wo,Ko,ya)}}E.resetStencilClippingMasks()}(p,r,l,m),p.style.map.triggerRepaint())},background:function(p,r,l,m){const _=l.paint.get("background-color"),x=l.paint.get("background-color-use-theme").constantOr("default")==="none",E=l.paint.get("background-opacity"),R=l.paint.get("background-emissive-strength"),B=l.paint.get("background-pitch-alignment")==="viewport";if(E===0)return;const V=p.context,U=V.gl,Q=p.transform,ee=Q.tileSize,ce=l.paint.get("background-pattern");let Me;if(ce!==void 0&&(ce===null||(Me=p.imageManager.getPattern(ce.toString(),l.scope,p.style.getLut(l.scope)),!Me)))return;const Se=!ce&&_.a===1&&E===1&&p.opaquePassEnabledForLayer()?"opaque":"translucent";if(p.renderPass!==Se)return;const Le=Qo.disabled,Ae=p.depthModeForSublayer(0,Se==="opaque"?Fo.ReadWrite:Fo.ReadOnly),rt=p.colorModeForDrapableLayerRenderPass(R),St=ce?"backgroundPattern":"background";let _t,Vt=m;if(Vt||(_t=p.getBackgroundTiles(),Vt=Object.values(_t).map(Lt=>Lt.tileID)),ce&&(V.activeTexture.set(U.TEXTURE0),p.imageManager.bind(p.context,l.scope)),B){const Lt=p.getOrCreateProgram(St,{overrideFog:!1,overrideRtt:!0}),Bt=new Float32Array(c.ab.mat4.identity([])),Dt=new c.aG(0,0,0,0,0),rn=ce?mm(Bt,R,E,p,0,l.scope,Me,B,{tileID:Dt,tileSize:ee}):rp(Bt,R,E,_.toRenderColor(x?null:l.lut));Lt.draw(p,U.TRIANGLES,Ae,Le,rt,ia.disabled,rn,l.id,p.viewportBuffer,p.quadTriangleIndexBuffer,p.viewportSegments)}else for(const Lt of Vt){const Bt=p.isTileAffectedByFog(Lt),Dt=p.getOrCreateProgram(St,{overrideFog:Bt}),rn=Lt.toUnwrapped(),xn=m?Lt.projMatrix:p.transform.calculateProjMatrix(rn);p.prepareDrawTile();const dr=r?r.getTile(Lt):_t?_t[Lt.key]:new na(Lt,ee,Q.zoom,p),Jn=ce?mm(xn,R,E,p,0,l.scope,Me,B,{tileID:Lt,tileSize:ee}):rp(xn,R,E,_.toRenderColor(x?null:l.lut));p.uploadCommonUniforms(V,Dt,rn);const{tileBoundsBuffer:Br,tileBoundsIndexBuffer:Ar,tileBoundsSegments:Zn}=p.getTileBoundsBuffers(dr);Dt.draw(p,U.TRIANGLES,Ae,Le,rt,ia.disabled,Jn,l.id,Br,Ar,Zn)}},sky:function(p,r,l){const m=p._atmosphere?c.ae(p.transform.zoom):1,_=l.paint.get("sky-opacity")*m;if(_===0)return;const x=p.context,E=l.paint.get("sky-type"),R=new Fo(x.gl.LEQUAL,Fo.ReadOnly,[0,1]),B=p.frameCounter/1e3%1;E==="atmosphere"?p.renderPass==="offscreen"?l.needsSkyboxCapture(p)&&(function(V,U,Q,ee){const ce=V.context,Me=ce.gl;let Se=U.skyboxFbo;if(!Se){Se=U.skyboxFbo=ce.createFramebuffer(32,32,!0,null),U.skyboxGeometry=new Sm(ce),U.skyboxTexture=ce.gl.createTexture(),Me.bindTexture(Me.TEXTURE_CUBE_MAP,U.skyboxTexture),Me.texParameteri(Me.TEXTURE_CUBE_MAP,Me.TEXTURE_WRAP_S,Me.CLAMP_TO_EDGE),Me.texParameteri(Me.TEXTURE_CUBE_MAP,Me.TEXTURE_WRAP_T,Me.CLAMP_TO_EDGE),Me.texParameteri(Me.TEXTURE_CUBE_MAP,Me.TEXTURE_MIN_FILTER,Me.LINEAR),Me.texParameteri(Me.TEXTURE_CUBE_MAP,Me.TEXTURE_MAG_FILTER,Me.LINEAR);for(let St=0;St<6;++St)Me.texImage2D(Me.TEXTURE_CUBE_MAP_POSITIVE_X+St,0,Me.RGBA,32,32,0,Me.RGBA,Me.UNSIGNED_BYTE,null)}ce.bindFramebuffer.set(Se.framebuffer),ce.viewport.set([0,0,32,32]);const Le=U.getCenter(V,!0),Ae=V.getOrCreateProgram("skyboxCapture"),rt=new Float64Array(16);c.ab.mat4.identity(rt),c.ab.mat4.rotateY(rt,rt,.5*-Math.PI),zl(V,U,Ae,rt,Le,0),c.ab.mat4.identity(rt),c.ab.mat4.rotateY(rt,rt,.5*Math.PI),zl(V,U,Ae,rt,Le,1),c.ab.mat4.identity(rt),c.ab.mat4.rotateX(rt,rt,.5*-Math.PI),zl(V,U,Ae,rt,Le,2),c.ab.mat4.identity(rt),c.ab.mat4.rotateX(rt,rt,.5*Math.PI),zl(V,U,Ae,rt,Le,3),c.ab.mat4.identity(rt),zl(V,U,Ae,rt,Le,4),c.ab.mat4.identity(rt),c.ab.mat4.rotateY(rt,rt,Math.PI),zl(V,U,Ae,rt,Le,5),ce.viewport.set([0,0,V.width,V.height])}(p,l),l.markSkyboxValid(p)):p.renderPass==="sky"&&function(V,U,Q,ee,ce){const Me=V.context,Se=Me.gl,Le=V.transform,Ae=V.getOrCreateProgram("skybox");Me.activeTexture.set(Se.TEXTURE0),Se.bindTexture(Se.TEXTURE_CUBE_MAP,U.skyboxTexture);const rt=((St,_t,Vt,Lt,Bt)=>({u_matrix:St,u_sun_direction:_t,u_cubemap:0,u_opacity:Lt,u_temporal_offset:Bt}))(Le.skyboxMatrix,U.getCenter(V,!1),0,ee,ce);V.uploadCommonUniforms(Me,Ae),Ae.draw(V,Se.TRIANGLES,Q,Qo.disabled,V.colorModeForRenderPass(),ia.backCW,rt,"skybox",U.skyboxGeometry.vertexBuffer,U.skyboxGeometry.indexBuffer,U.skyboxGeometry.segment)}(p,l,R,_,B):E==="gradient"&&p.renderPass==="sky"&&function(V,U,Q,ee,ce){const Me=V.context,Se=Me.gl,Le=V.transform,Ae=V.getOrCreateProgram("skyboxGradient");U.skyboxGeometry||(U.skyboxGeometry=new Sm(Me)),Me.activeTexture.set(Se.TEXTURE0);let rt=U.colorRampTexture;rt||(rt=U.colorRampTexture=new c.T(Me,U.colorRamp,Se.RGBA8)),rt.bind(Se.LINEAR,Se.CLAMP_TO_EDGE);const St=((_t,Vt,Lt,Bt,Dt)=>({u_matrix:_t,u_color_ramp:0,u_center_direction:Vt,u_radius:c.ai(Lt),u_opacity:Bt,u_temporal_offset:Dt}))(Le.skyboxMatrix,U.getCenter(V,!1),U.paint.get("sky-gradient-radius"),ee,ce);V.uploadCommonUniforms(Me,Ae),Ae.draw(V,Se.TRIANGLES,Q,Qo.disabled,V.colorModeForRenderPass(),ia.backCW,St,"skyboxGradient",U.skyboxGeometry.vertexBuffer,U.skyboxGeometry.indexBuffer,U.skyboxGeometry.segment)}(p,l,R,_,B)},debug:function(p,r,l,m,_,x){for(let E=0;E<l.length;E++)if(_){const V=new c.aj(m.r*.8,m.g*.8,m.b*.8,1);Gu(p,r,l[E],m,-1,-1,x),Gu(p,r,l[E],m,-1,1,x),Gu(p,r,l[E],m,1,1,x),Gu(p,r,l[E],m,1,-1,x),Gu(p,r,l[E],V,0,0,x)}else Gu(p,r,l[E],m,0,0,x)},custom:function(p,r,l,m){const _=p.context,x=l.implementation;if(!p.transform.projection.unsupportedLayers||!p.transform.projection.unsupportedLayers.includes("custom")||p.terrain&&(p.terrain.renderingToTexture||p.renderPass==="offscreen")&&l.isDraped(r)){if(p.renderPass==="offscreen"){const E=x.prerender;if(E){if(p.setCustomLayerDefaults(),_.setColorMode(p.colorModeForRenderPass()),p.transform.projection.name==="globe"){const R=p.transform.pointMerc;E.call(x,_.gl,p.transform.customLayerMatrix(),p.transform.getProjection(),p.transform.globeToMercatorMatrix(),c.ae(p.transform.zoom),[R.x,R.y],p.transform.pixelsPerMeterRatio)}else E.call(x,_.gl,p.transform.customLayerMatrix());_.setDirty(),p.setBaseState()}}else if(p.renderPass==="translucent"){if(p.terrain&&p.terrain.renderingToTexture){const R=x.renderToTile;if(R){const B=m[0].canonical,V=new c.aa(B.x+m[0].wrap*(1<<B.z),B.y,B.z);_.setDepthMode(Fo.disabled),_.setStencilMode(Qo.disabled),_.setColorMode(p.colorModeForRenderPass()),p.setCustomLayerDefaults(),R.call(x,_.gl,V),_.setDirty(),p.setBaseState()}return}p.setCustomLayerDefaults(),_.setColorMode(p.colorModeForRenderPass()),_.setStencilMode(Qo.disabled);const E=x.renderingMode==="3d"?new Fo(p.context.gl.LEQUAL,Fo.ReadWrite,p.depthRangeFor3D):p.depthModeForSublayer(0,Fo.ReadOnly);if(_.setDepthMode(E),p.transform.projection.name==="globe"){const R=p.transform.pointMerc;x.render(_.gl,p.transform.customLayerMatrix(),p.transform.getProjection(),p.transform.globeToMercatorMatrix(),c.ae(p.transform.zoom),[R.x,R.y],p.transform.pixelsPerMeterRatio)}else x.render(_.gl,p.transform.customLayerMatrix());_.setDirty(),p.setBaseState(),_.bindFramebuffer.set(null)}}else c.w("Custom layers are not yet supported with this projection. Use mercator or globe to enable usage of custom layers.")},model:function(p,r,l,m){if(p.renderPass==="opaque")return;const _=l.paint.get("model-opacity").constantOr(1);if(_===0)return;const x=l.paint.get("model-cast-shadows");if(p.renderPass==="shadow"&&(!x||p.terrain&&_<.65&&l._transitionablePaint._values["model-opacity"].value.expression instanceof c.a9))return;const E=p.shadowRenderer,R=l.paint.get("model-receive-shadows");E&&(E.useNormalOffset=!0,R||(E.enabled=!1));const B=()=>{E&&(E.useNormalOffset=!0,R||(E.enabled=!0))},V=r.getSource();if(p.renderPass==="light-beam"&&V.type!=="batched-model")return;if(V.type==="vector"||V.type==="geojson")return function(Ae,rt,St,_t,Vt){const Lt=Ae.transform;if(Lt.projection.name!=="mercator")return void c.w(`Drawing 3D models for ${Lt.projection.name} projection is not yet implemented`);const Bt=Lt.getFreeCameraOptions().position;if(!Ae.modelManager)return;const Dt=Ae.modelManager;St.modelManager=Dt;const rn=Ae.shadowRenderer;if(!St._unevaluatedLayout._values.hasOwnProperty("model-id"))return;const xn=St._unevaluatedLayout._values["model-id"],dr=Object.assign({},St.layout.get("model-id").parameters),Jn=Ae.style.order.indexOf(St.fqid);for(const Br of _t){const Ar=rt.getTile(Br).getBucket(St);if(!Ar||Ar.projection.name!==Lt.projection.name)continue;const Zn=Ar.getModelUris();Zn&&!Ar.modelsRequested&&(Dt.addModelsFromBucket(Zn,Vt),Ar.modelsRequested=!0);const vr=gu(Br,Lt);dr.zoom=vr;const oi=xn.possiblyEvaluate(dr);if(Ou(Ae,Ar,Br),vl.shadowUniformsInitialized=!1,vl.useSingleShadowCascade=!!rn&&rn.getMaxCascadeForTile(Br.toUnwrapped())===0,Ae.renderPass==="shadow"&&rn){if(Ae.currentShadowCascade===1&&Ar.isInsideFirstShadowMapFrustum)continue;const _r=Lt.calculatePosMatrix(Br.toUnwrapped(),Lt.worldSize);if(vl.tileMatrix.set(_r),vl.shadowTileMatrix=Float32Array.from(rn.calculateShadowPassMatrixFromMatrix(_r)),vl.aabb.min.fill(0),vl.aabb.max[0]=vl.aabb.max[1]=c.ag,vl.aabb.max[2]=0,hp(Ar,vl,Ae,St.scope))continue}const jn=1<<Br.canonical.z,Vr=[((Bt.x-Br.wrap)*jn-Br.canonical.x)*c.ag,(Bt.y*jn-Br.canonical.y)*c.ag,Bt.z*jn*c.ag];Ae.conflationActive&&Object.keys(Ar.instancesPerModel).length>0&&Ae.style.isLayerClipped(St,rt.getSource())&&Ar.updateReplacement(Br,Ae.replacementSource,Jn,Vt)&&(Ar.uploaded=!1,Ar.upload(Ae.context));for(let _r in Ar.instancesPerModel){const $i=Ar.instancesPerModel[_r];$i.features.length>0&&(_r=oi.evaluate($i.features[0].feature,{}));const ti=Dt.getModel(_r,Vt);if(ti&&ti.uploaded)for(const jr of ti.nodes)Wl(Ae,St,jr,$i,Vr,Br,vl)}}}(p,r,l,m,V.type==="vector"?l.scope:""),void B();if(!V.loaded())return;if(V.type==="batched-model")return function(Ae,rt,St,_t){St.resetLayerRenderingStats(Ae);const Vt=Ae.context,Lt=Ae.transform,Bt=Ae.style.fog,Dt=Ae.shadowRenderer;if(Lt.projection.name!=="mercator")return void c.w(`Drawing 3D landmark models for ${Lt.projection.name} projection is not yet implemented`);const rn=Ae.transform.getFreeCameraOptions().position,xn=c.ab.vec3.scale([],[rn.x,rn.y,rn.z],Ae.transform.worldSize),dr=c.ab.vec3.negate([],xn),Jn=c.ab.mat4.identity([]),Br=c.dj(Lt.center.lat,Lt.zoom),Ar=c.ab.mat4.fromScaling([],[1,1,1/Br]);c.ab.mat4.translate(Jn,Jn,dr);const Zn=St.paint.get("model-opacity").constantOr(1),vr=new Fo(Vt.gl.LEQUAL,Fo.ReadWrite,Ae.depthRangeFor3D),oi=new Fo(Vt.gl.LEQUAL,Fo.ReadOnly,Ae.depthRangeFor3D),jn=new c.cd([1/0,1/0,1/0],[-1/0,-1/0,-1/0]),Vr=Ae.renderPass==="shadow",_r=Vr&&Dt?Dt.getCurrentCascadeFrustum():Lt.getFrustum(Lt.scaleZoom(Lt.worldSize)),$i=St.paint.get("model-front-cutoff"),ti=$i[2]<1,jr=on(Ae,St.paint.get("model-cutoff-fade-range")),Ci=St.getLayerRenderingStats();(function(Li,ro,vo,la){const Wo=Li.terrain?Li.terrain.exaggeration():0,Ko=Li.transform.zoom;for(const ya of la){const as=ro.getTile(ya).getBucket(vo);as&&(Li.conflationActive&&as.updateReplacement(ya,Li.replacementSource),as.evaluateScale(Li,vo),Li.terrain&&Wo>0&&as.elevationUpdate(Li.terrain,Wo,ya,vo.source),as.needsReEvaluation(Li,Ko,vo)&&as.evaluate(vo))}})(Ae,rt,St,_t),function(){let Li,ro,vo;ti?(Li=_t.length-1,ro=-1,vo=-1):(Li=0,ro=_t.length,vo=1);const la=new Float64Array(16),Wo=c.ab.vec3.create(),Ko=new c.P(0,0);for(let ya=Li;ya!==ro;ya+=vo){const as=_t[ya],ms=rt.getTile(as).getBucket(St);if(!ms||!ms.uploaded)continue;let ul=!1;Dt&&(ul=Dt.getMaxCascadeForTile(as.toUnwrapped())===0);const Ks=Lt.calculatePosMatrix(as.toUnwrapped(),Lt.worldSize),Pa=ms.modelTraits;!Vr&&ti&&(c.ab.mat4.invert(la,Ks),c.ab.vec3.transformMat4(Wo,xn,la),Ko.x=Wo[0],Ko.y=Wo[1]);const us=[];for(const Do of ms.getNodesInfo()){if(Do.hiddenByReplacement||!Do.node.meshes)continue;const xa=Do.node;let ys=0;Ae.terrain&&xa.elevation&&(ys=xa.elevation*Ae.terrain.exaggeration());const xs=(()=>{const rs=Do.aabb;return jn.min=[...rs.min],jn.max=[...rs.max],jn.min[2]+=ys,jn.max[2]+=ys,c.ab.vec3.transformMat4(jn.min,jn.min,Ks),c.ab.vec3.transformMat4(jn.max,jn.max,Ks),jn})(),dl=Do.evaluatedScale;if(dl[0]<=1&&dl[1]<=1&&dl[2]<=1&&xs.intersects(_r)===0)continue;if(!Vr&&ti){const rs=.16666666666666666;Do.cameraCollisionOpacity=xn[0]>xs.min[0]&&xn[0]<xs.max[0]&&xn[1]>xs.min[1]&&xn[1]<xs.max[1]&&xn[2]*Br<xs.max[2]&&xa.footprint&&c.bA(Ko,xa.footprint)?Math.max(Do.cameraCollisionOpacity-rs,0):Math.min(1,Do.cameraCollisionOpacity+rs)}const Gl=[...Ks],Bl=xa.anchor?xa.anchor[0]:0,Fl=xa.anchor?xa.anchor[1]:0;c.ab.mat4.translate(Gl,Gl,[Bl*(dl[0]-1),Fl*(dl[1]-1),ys]),c.ab.vec3.exactEquals(dl,c.dm)||c.ab.mat4.scale(Gl,Gl,dl);const eu=c.ab.mat4.multiply([],Gl,xa.matrix),Ic=c.ab.mat4.multiply([],Lt.expandedFarZProjMatrix,eu),al=c.ab.mat4.multiply([],Lt.expandedFarZProjMatrix,Gl),ks=c.ab.vec4.transformMat4([],[Bl,Fl,ys,1],Ic)[2];xa.hidden=!1;let Rs=Zn;Vr||(ti&&(Rs*=Do.cameraCollisionOpacity,Rs*=Xg(Gl,Lt,Do.aabb,$i)),Rs*=Zd(jr,ks)),Rs!==0?us.push({nodeInfo:Do,depth:ks,opacity:Rs,wvpForNode:Ic,wvpForTile:al,nodeModelMatrix:eu,tileModelMatrix:Gl}):xa.hidden=!0}Vr||us.sort((Do,xa)=>!ti||Do.opacity===1&&xa.opacity===1?Do.depth<xa.depth?-1:1:Do.opacity===1?-1:xa.opacity===1?1:Do.depth>xa.depth?-1:1);for(const Do of us){const xa=Do.nodeInfo,ys=xa.node;let xs=c.ab.mat4.multiply([],Ar,Do.tileModelMatrix);c.ab.mat4.multiply(xs,Jn,xs);const dl=c.ab.mat4.invert([],xs);c.ab.mat4.transpose(dl,dl),c.ab.mat4.scale(dl,dl,fp),xs=c.ab.mat4.multiply(xs,xs,ys.matrix);const Gl=Ae.renderPass==="light-beam",Bl=St.paint.get("model-color-use-theme").constantOr("default")==="none",Fl=Pa&c.dp.HasMapboxMeshFeatures,eu=Fl?0:xa.evaluatedRMEA[0][2];for(let Ic=0;Ic<ys.meshes.length;++Ic){const al=ys.meshes[Ic],ks=Ic===ys.lightMeshIndex;let Rs=Do.wvpForNode;if(ks){if(!Gl&&!Ae.terrain&&Ae.shadowRenderer){Ae.currentLayer<Ae.firstLightBeamLayer&&(Ae.firstLightBeamLayer=Ae.currentLayer);continue}Rs=Do.wvpForTile}else if(Gl)continue;const rs={defines:[]},fl=[];if(!Vr&&Dt&&(Dt.useNormalOffset=!!al.normalBuffer),yf(rs.defines,fl,al,Ae,Bl?null:St.lut),Fl||rs.defines.push("DIFFUSE_SHADED"),ul&&rs.defines.push("SHADOWS_SINGLE_CASCADE"),Ci&&(Vr?Ci.numRenderedVerticesInShadowPass+=al.vertexArray.length:Ci.numRenderedVerticesInTransparentPass+=al.vertexArray.length),Vr){_f(al,Do.nodeModelMatrix,Ae,St);continue}let nc=null;if(Bt){const bu=pd(Do.nodeModelMatrix,Ae.transform);if(nc=new Float32Array(bu),Lt.projection.name!=="globe"){const cu=al.aabb.min,pc=al.aabb.max,[Xd,Au]=Bt.getOpacityForBounds(bu,cu[0],cu[1],pc[0],pc[1]);rs.overrideFog=Xd>=et||Au>=et}}const Ns=al.material;let Tc;Ns.occlusionTexture&&Ns.occlusionTexture.offsetScale&&(Tc=Ns.occlusionTexture.offsetScale,rs.defines.push("OCCLUSION_TEXTURE_TRANSFORM"));const Uc=Ae.getOrCreateProgram("model",rs);!Vr&&Dt&&Dt.setupShadowsFromMatrix(Do.tileModelMatrix,Uc,Dt.useNormalOffset),Ae.uploadCommonUniforms(Vt,Uc,null,nc);const Wc=Ns.pbrMetallicRoughness;Wc.metallicFactor=.9,Wc.roughnessFactor=.5;const Mc=ff(new Float32Array(Rs),new Float32Array(xs),new Float32Array(dl),new Float32Array(ys.matrix),Ae,Do.opacity,Wc.baseColorFactor.toRenderColor(null),Ns.emissiveFactor,Wc.metallicFactor,Wc.roughnessFactor,Ns,eu,St,[0,0,0],Tc);!ks&&(xa.hasTranslucentParts||Do.opacity<1)&&Uc.draw(Ae,Vt.gl.TRIANGLES,vr,Qo.disabled,sa.disabled,ia.backCCW,Mc,St.id,al.vertexBuffer,al.indexBuffer,al.segments,St.paint,Ae.transform.zoom,void 0,fl),Uc.draw(Ae,Vt.gl.TRIANGLES,ks?oi:vr,Qo.disabled,ks||Do.opacity<1||xa.hasTranslucentParts?sa.alphaBlended:sa.unblended,ia.backCCW,Mc,St.id,al.vertexBuffer,al.indexBuffer,al.segments,St.paint,Ae.transform.zoom,void 0,fl)}}}}()}(p,r,l,m),void B();if(V.type!=="model")return;const U=V.getModels(),Q=[],ee=p.transform.getFreeCameraOptions().position,ce=c.ab.vec3.scale([],[ee.x,ee.y,ee.z],p.transform.worldSize);c.ab.vec3.negate(ce,ce);const Me=[],Se=[];let Le=0;for(const Ae of U){const rt=l.paint.get("model-rotation").constantOr(null),St=l.paint.get("model-scale").constantOr(null),_t=l.paint.get("model-translation").constantOr(null);Ae.computeModelMatrix(p,rt,St,_t,!0,!0,!1);const Vt=c.ab.mat4.identity([]),Lt=c.dj(Ae.position.lat,p.transform.zoom),Bt=c.ab.mat4.fromScaling([],[1,1,1/Lt]);c.ab.mat4.translate(Vt,Vt,ce),Q.push({zScaleMatrix:Bt,negCameraPosMatrix:Vt});for(const Dt of Ae.nodes)dp(p.transform,Dt,Ae.matrix,p.transform.expandedFarZProjMatrix,Le,Me,Se);Le++}if(Me.sort((Ae,rt)=>rt.depth-Ae.depth),p.renderPass!=="shadow"){if(_===1)for(const Ae of Se)md(Ae,p,l,Q[Ae.modelIndex],Qo.disabled,p.colorModeForRenderPass());else{for(const Ae of Se)md(Ae,p,l,Q[Ae.modelIndex],Qo.disabled,sa.disabled);for(const Ae of Se)md(Ae,p,l,Q[Ae.modelIndex],p.stencilModeFor3D(),p.colorModeForRenderPass());p.resetStencilClippingMasks()}for(const Ae of Me)md(Ae,p,l,Q[Ae.modelIndex],Qo.disabled,p.colorModeForRenderPass());B()}else{for(const Ae of Se)_f(Ae.mesh,Ae.nodeModelMatrix,p,l);for(const Ae of Me)_f(Ae.mesh,Ae.nodeModelMatrix,p,l);B()}}},Hd={line:function(p,r,l){if(p.hasElevatedBuckets=!1,p.hasNonElevatedBuckets=!1,p._unevaluatedLayout.getValue("line-elevation-reference")!==void 0||p._unevaluatedLayout.getValue("line-z-offset")!==void 0){if(r){const m=r.getVisibleCoordinates();for(const _ of m){const x=r.getTile(_).getBucket(p);if(x&&(x.hasZOffset?p.hasElevatedBuckets=!0:p.hasNonElevatedBuckets=!0,p.hasElevatedBuckets&&p.hasNonElevatedBuckets))break}}}else p.hasNonElevatedBuckets=!0},model:function(p,r,l){const m=r.getSource();if(!m.loaded())return;if(m.type==="vector"||m.type==="geojson")return void(l.modelManager&&l.modelManager.upload(l,m.type==="vector"?p.scope:""));if(m.type==="batched-model"||m.type!=="model")return;const _=m.getModels();for(const x of _)x.upload(l.context)},raster:function(p,r,l){const m=r.getSource();if(!(m instanceof pt&&m.loaded()))return;const _=p.sourceLayer||m.rasterLayerIds&&m.rasterLayerIds[0];if(!_)return;const x=p.paint.get("raster-array-band")||m.getInitialBand(_);if(x==null)return;const E=r.getIds().map(R=>r.getTileByID(R));for(const R of E)R.updateNeeded(_,x)&&m.prepareTile(R,_,x)},"raster-particle":function(p,r,l){const m=r.getSource();if(!(m instanceof pt&&m.loaded()))return;const _=p.sourceLayer||m.rasterLayerIds&&m.rasterLayerIds[0];if(!_)return;const x=p.paint.get("raster-particle-array-band")||m.getInitialBand(_);if(x==null)return;const E=r.getIds().map(R=>r.getTileByID(R));for(const R of E)R.updateNeeded(_,x)&&m.prepareTile(R,_,x)}};class gp{constructor(r,l,m,_,x){this.context=new op(r,l),this.transform=m,this._tileTextures={},this.frameCopies=[],this.loadTimeStamps=[],this.tp=x,this._timeStamp=c.q.now(),this._averageFPS=0,this._fpsHistory=[],this._dt=0,this._debugParams={forceEnablePrecipitation:!1,showTerrainProxyTiles:!1,fpsWindow:30,continousRedraw:!1,enabledLayers:{}};const E=["fill","line","symbol","circle","heatmap","fill-extrusion","raster","raster-particle","hillshade","model","background","sky"];for(const B of E)this._debugParams.enabledLayers[B]=!0;x.registerParameter(this._debugParams,["Terrain"],"showTerrainProxyTiles",{},()=>{this.style.map.triggerRepaint()}),x.registerParameter(this._debugParams,["Precipitation"],"forceEnablePrecipitation"),x.registerParameter(this._debugParams,["FPS"],"fpsWindow",{min:1,max:100,step:1}),x.registerBinding(this._debugParams,["FPS"],"continousRedraw",{readonly:!0,label:"continuous redraw"}),x.registerBinding(this,["FPS"],"_averageFPS",{readonly:!0,label:"value"}),x.registerBinding(this,["FPS"],"_averageFPS",{readonly:!0,label:"graph",view:"graph",min:0,max:200});for(const B of E)x.registerParameter(this._debugParams.enabledLayers,["Debug","Layers"],B);this.occlusionParams=new pp(x),this.setup(),this.numSublayers=K.maxUnderzooming+K.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.deferredRenderGpuTimeQueries=[],this.gpuTimers={},this.frameCounter=0,this._backgroundTiles={},this.conflationActive=!1,this.replacementSource=new c.dv,this.longestCutoffRange=0,this.minCutoffZoom=0,this._fogVisible=!1,this._cachedTileFogOpacities={},this._shadowRenderer=new Yr(this),this._wireframeDebugCache=new wm,this.renderDefaultNorthPole=!0,this.renderDefaultSouthPole=!0,this.layersWithOcclusionOpacity=[];const R=new c.r({width:1,height:1},Uint8Array.of(0,0,0,0));this.emptyDepthTexture=new c.T(this.context,R,r.RGBA8),this._clippingActiveLastFrame=!1,this.scaleFactor=_}updateTerrain(r,l){const m=!!r&&!!r.terrain&&this.transform.projection.supportsTerrain;if(!(m||this._terrain&&this._terrain.enabled))return;this._terrain||(this._terrain=new Nc(this,r));const _=this._terrain;this.transform.elevation=m?_:null,_.update(r,this.transform,l),this.transform.elevation&&!_.enabled&&(this.transform.elevation=null)}_updateFog(r){const l=r.fog;if(!l||this.transform.projection.name==="globe"||l.getOpacity(this.transform.pitch)<1||l.properties.get("horizon-blend")<.03)return void(this.transform.fogCullDistSq=null);const[m,_]=l.getFovAdjustedRange(this.transform._fov);if(m>_)return void(this.transform.fogCullDistSq=null);const x=m+.78*(_-m);this.transform.fogCullDistSq=x*x}get terrain(){return this.transform._terrainEnabled()&&this._terrain&&this._terrain.enabled||this._forceTerrainMode?this._terrain:null}get forceTerrainMode(){return this._forceTerrainMode}set forceTerrainMode(r){r&&!this._terrain&&(this._terrain=new Nc(this,this.style)),this._forceTerrainMode=r}get shadowRenderer(){return this._shadowRenderer&&this._shadowRenderer.enabled?this._shadowRenderer:null}get wireframeDebugCache(){return this._wireframeDebugCache}resize(r,l){if(this.width=r*c.q.devicePixelRatio,this.height=l*c.q.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(const m of this.style.order)this.style._mergedLayers[m].resize()}setup(){const r=this.context,l=new c.b4;l.emplaceBack(0,0),l.emplaceBack(c.ag,0),l.emplaceBack(0,c.ag),l.emplaceBack(c.ag,c.ag),this.tileExtentBuffer=r.createVertexBuffer(l,c.b6.members),this.tileExtentSegments=c.b7.simpleSegment(0,0,4,2);const m=new c.b4;m.emplaceBack(0,0),m.emplaceBack(c.ag,0),m.emplaceBack(0,c.ag),m.emplaceBack(c.ag,c.ag),this.debugBuffer=r.createVertexBuffer(m,c.b6.members),this.debugSegments=c.b7.simpleSegment(0,0,4,5);const _=new c.b4;_.emplaceBack(-1,-1),_.emplaceBack(1,-1),_.emplaceBack(-1,1),_.emplaceBack(1,1),this.viewportBuffer=r.createVertexBuffer(_,c.b6.members),this.viewportSegments=c.b7.simpleSegment(0,0,4,2);const x=new c.aT;x.emplaceBack(0,0,0,0),x.emplaceBack(c.ag,0,c.ag,0),x.emplaceBack(0,c.ag,0,c.ag),x.emplaceBack(c.ag,c.ag,c.ag,c.ag),this.mercatorBoundsBuffer=r.createVertexBuffer(x,c.b9.members),this.mercatorBoundsSegments=c.b7.simpleSegment(0,0,4,2);const E=new c.aU;E.emplaceBack(0,1,2),E.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=r.createIndexBuffer(E);const R=new c.b5;for(const V of[0,1,3,2,0])R.emplaceBack(V);this.debugIndexBuffer=r.createIndexBuffer(R),this.emptyTexture=new c.T(r,new c.r({width:1,height:1},Uint8Array.of(0,0,0,0)),r.gl.RGBA8),this.identityMat=c.ab.mat4.create();const B=this.context.gl;this.stencilClearMode=new Qo({func:B.ALWAYS,mask:0},0,255,B.ZERO,B.ZERO,B.ZERO),this.loadTimeStamps.push(performance.now())}getMercatorTileBoundsBuffers(){return{tileBoundsBuffer:this.mercatorBoundsBuffer,tileBoundsIndexBuffer:this.quadTriangleIndexBuffer,tileBoundsSegments:this.mercatorBoundsSegments}}getTileBoundsBuffers(r){return r._makeTileBoundsBuffers(this.context,this.transform.projection),r._tileBoundsBuffer?{tileBoundsBuffer:r._tileBoundsBuffer,tileBoundsIndexBuffer:r._tileBoundsIndexBuffer,tileBoundsSegments:r._tileBoundsSegments}:this.getMercatorTileBoundsBuffers()}clearStencil(){const r=this.context.gl;this.nextStencilID=1,this.currentStencilSource=void 0,this._tileClippingMaskIDs={},this.getOrCreateProgram("clippingMask").draw(this,r.TRIANGLES,Fo.disabled,this.stencilClearMode,sa.disabled,ia.disabled,_c(this.identityMat),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)}resetStencilClippingMasks(){this.terrain||(this.currentStencilSource=void 0,this._tileClippingMaskIDs={})}_renderTileClippingMasks(r,l,m){if(!l||this.currentStencilSource===l.id||!r.isTileClipped()||!m||m.length===0)return;if(this._tileClippingMaskIDs&&!this.terrain){let R=!1;for(const B of m)if(this._tileClippingMaskIDs[B.key]===void 0){R=!0;break}if(!R)return}this.currentStencilSource=l.id;const _=this.context,x=_.gl;this.nextStencilID+m.length>256&&this.clearStencil(),_.setColorMode(sa.disabled),_.setDepthMode(Fo.disabled);const E=this.getOrCreateProgram("clippingMask");this._tileClippingMaskIDs={};for(const R of m){const B=l.getTile(R),V=this._tileClippingMaskIDs[R.key]=this.nextStencilID++,{tileBoundsBuffer:U,tileBoundsIndexBuffer:Q,tileBoundsSegments:ee}=this.getTileBoundsBuffers(B);E.draw(this,x.TRIANGLES,Fo.disabled,new Qo({func:x.ALWAYS,mask:0},V,255,x.KEEP,x.KEEP,x.REPLACE),sa.disabled,ia.disabled,_c(R.projMatrix),"$clipping",U,Q,ee)}}stencilModeFor3D(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();const r=this.nextStencilID++,l=this.context.gl;return new Qo({func:l.NOTEQUAL,mask:255},r,255,l.KEEP,l.KEEP,l.REPLACE)}stencilModeForClipping(r){if(this.terrain)return this.terrain.stencilModeForRTTOverlap(r);const l=this.context.gl;return new Qo({func:l.EQUAL,mask:255},this._tileClippingMaskIDs[r.key],0,l.KEEP,l.KEEP,l.REPLACE)}stencilConfigForOverlap(r){const l=this.context.gl,m=r.sort((E,R)=>R.overscaledZ-E.overscaledZ),_=m[m.length-1].overscaledZ,x=m[0].overscaledZ-_+1;if(x>1){this.currentStencilSource=void 0,this.nextStencilID+x>256&&this.clearStencil();const E={};for(let R=0;R<x;R++)E[R+_]=new Qo({func:l.GEQUAL,mask:255},R+this.nextStencilID,255,l.KEEP,l.KEEP,l.REPLACE);return this.nextStencilID+=x,[E,m]}return[{[_]:Qo.disabled},m]}colorModeForRenderPass(){const r=this.context.gl;return this._showOverdrawInspector?new sa([r.CONSTANT_COLOR,r.ONE,r.CONSTANT_COLOR,r.ONE],new c.aj(.125,.125,.125,0),[!0,!0,!0,!0]):this.renderPass==="opaque"?sa.unblended:sa.alphaBlended}colorModeForDrapableLayerRenderPass(r){const l=this.context.gl;return this.style&&this.style.enable3dLights()&&this.terrain&&this.terrain.renderingToTexture&&this.renderPass==="translucent"?new sa([l.ONE,l.ONE_MINUS_SRC_ALPHA,l.CONSTANT_ALPHA,l.ONE_MINUS_SRC_ALPHA],new c.aj(0,0,0,r===void 0?0:r),[!0,!0,!0,!0]):this.colorModeForRenderPass()}depthModeForSublayer(r,l,m,_=!1){if(this.depthOcclusion)return new Fo(this.context.gl.GREATER,Fo.ReadOnly,this.depthRangeFor3D);if(!this.opaquePassEnabledForLayer()&&!_)return Fo.disabled;const x=1-((1+this.currentLayer)*this.numSublayers+r)*this.depthEpsilon;return new Fo(m||this.context.gl.LEQUAL,l,[x,x])}opaquePassEnabledForLayer(){return this.currentLayer<this.opaquePassCutoff}blitDepth(){const r=this.context.gl,l=Math.ceil(this.width),m=Math.ceil(this.height),_=this.context.bindFramebuffer.get(),x=r.getParameter(r.TEXTURE_BINDING_2D);this.depthFBO&&this.depthFBO.width===l&&this.depthFBO.height===m||(this.depthFBO&&(this.depthFBO.destroy(),this.depthFBO=void 0,this.depthTexture=void 0),l!==0&&m!==0&&(this.depthFBO=new vm(this.context,l,m,!1,"texture"),this.depthTexture=new c.T(this.context,{width:l,height:m,data:null},r.DEPTH24_STENCIL8),this.depthFBO.depthAttachment.set(this.depthTexture.texture))),this.context.bindFramebuffer.set(_),r.bindTexture(r.TEXTURE_2D,x),this.depthFBO&&(r.bindFramebuffer(r.READ_FRAMEBUFFER,null),r.bindFramebuffer(r.DRAW_FRAMEBUFFER,this.depthFBO.framebuffer),r.blitFramebuffer(0,0,l,m,0,0,l,m,r.DEPTH_BUFFER_BIT,r.NEAREST),r.bindFramebuffer(r.FRAMEBUFFER,this.context.bindFramebuffer.current))}updateAverageFPS(){this._fpsHistory.push(this._dt===0?0:1e3/this._dt),this._fpsHistory.length>this._debugParams.fpsWindow&&this._fpsHistory.splice(0,this._fpsHistory.length-this._debugParams.fpsWindow),this._averageFPS=Math.round(this._fpsHistory.reduce((r,l)=>r+l/this._fpsHistory.length,0))}render(r,l){const m=c.q.now();this._dt=m-this._timeStamp,this._timeStamp=m,this._wireframeDebugCache.update(this.frameCounter),this._debugParams.continousRedraw=r.map.repaint,this.style=r,this.options=l;const _=this.style._mergedLayers,x=!(!this.terrain||!this.terrain.enabled),E=()=>this.style._getOrder(x).filter(Zn=>{const vr=_[Zn];return!(vr.type in this._debugParams.enabledLayers)||this._debugParams.enabledLayers[vr.type]});let R=E(),B=!1,V=!1;for(const Zn of R){const vr=_[Zn];vr.type==="circle"&&(B=!0),vr.type==="symbol"&&(vr.hasInitialOcclusionOpacityProperties?V=!0:B=!0)}let U=R.map(Zn=>_[Zn]);const Q=this.style._mergedSourceCaches;this.imageManager=r.imageManager,this.modelManager=r.modelManager,this.symbolFadeChange=r.placement.symbolFadeChange(c.q.now()),this.imageManager.beginFrame();let ee=0,ce=!1;for(const Zn in Q){const vr=Q[Zn];vr.used&&(vr.prepare(this.context),vr.getSource().usedInConflation&&++ee)}let Me=!1;for(const Zn of U)Zn.isHidden(this.transform.zoom)||(Zn.type==="clip"&&(Me=!0),this.prepareLayer(Zn));const Se={},Le={},Ae={},rt={},St={};for(const Zn in Q){const vr=Q[Zn];Se[Zn]=vr.getVisibleCoordinates(),Le[Zn]=Se[Zn].slice().reverse(),Ae[Zn]=vr.getVisibleCoordinates(!0).reverse(),rt[Zn]=vr.getShadowCasterCoordinates(),St[Zn]=vr.sortCoordinatesByDistance(Se[Zn])}const _t=Zn=>{const vr=this.style.getLayerSourceCache(Zn);return vr&&vr.used?vr.getSource():null};if(ee||Me||this._clippingActiveLastFrame){const Zn=[],vr=[];let oi=0;for(const jn of U)this.isSourceForClippingOrConflation(jn,_t(jn))&&(Zn.push(jn),vr.push(oi)),oi++;if(Zn&&(Me||Zn.length>1)||this._clippingActiveLastFrame){Me=!1;const jn=[];for(let Vr=0;Vr<Zn.length;Vr++){const _r=Zn[Vr],$i=vr[Vr],ti=this.style.getLayerSourceCache(_r);if(!ti||!ti.used||!ti.getSource().usedInConflation&&_r.type!=="clip")continue;let jr=c.dx,Ci=c.by.None;const Li=[];let ro=!0;if(_r.type==="clip"){jr=$i;for(const vo of _r.layout.get("clip-layer-types"))Ci|=vo==="model"?c.by.Model:vo==="symbol"?c.by.Symbol:c.by.FillExtrusion;for(const vo of _r.layout.get("clip-layer-scope"))Li.push(vo);_r.isHidden(this.transform.zoom)?ro=!1:Me=!0}ro&&jn.push({layer:_r.fqid,cache:ti,order:jr,clipMask:Ci,clipScope:Li})}this.replacementSource.setSources(jn),ce=!0}}this._clippingActiveLastFrame=Me,ce||this.replacementSource.clear(),this.conflationActive=ce,this.minCutoffZoom=0,this.longestCutoffRange=0,this.opaquePassCutoff=1/0,this._lastOcclusionLayer=-1,this.layersWithOcclusionOpacity=[];for(let Zn=0;Zn<U.length;Zn++){const vr=U[Zn],oi=vr.cutoffRange();if(this.longestCutoffRange=Math.max(oi,this.longestCutoffRange),oi>0){const jn=_t(vr);jn&&(this.minCutoffZoom=Math.max(jn.minzoom,this.minCutoffZoom)),vr.minzoom&&(this.minCutoffZoom=Math.max(vr.minzoom,this.minCutoffZoom))}vr.is3D()&&(this.opaquePassCutoff===1/0&&(this.opaquePassCutoff=Zn),this._lastOcclusionLayer=Zn)}const Vt=this.style&&this.style.fog;Vt?(this._fogVisible=Vt.getOpacity(this.transform.pitch)!==0,this._fogVisible&&this.transform.projection.name!=="globe"&&(this._fogVisible=Vt.isVisibleOnFrustum(this.transform.cameraFrustum))):this._fogVisible=!1,this._cachedTileFogOpacities={},this.terrain&&(this.terrain.updateTileBinding(Ae),this.opaquePassCutoff=0,R=E(),U=R.map(Zn=>_[Zn]));const Lt=this._shadowRenderer;if(Lt){Lt.updateShadowParameters(this.transform,this.style.directionalLight);for(const Zn in Q)for(const vr of Se[Zn]){let oi={min:0,max:0};this.terrain&&(oi=this.terrain.getMinMaxForTile(vr)||oi),Lt.addShadowReceiver(vr.toUnwrapped(),oi.min,oi.max)}}this.transform.projection.name!=="globe"||this.globeSharedBuffers||(this.globeSharedBuffers=new c.dw(this.context)),this.style.fog&&this.transform.projection.supportsFog?(this._atmosphere||(this._atmosphere=new Kg(this)),this._atmosphere.update(this)):this._atmosphere&&(this._atmosphere.destroy(),this._atmosphere=void 0);const Bt=this._debugParams.forceEnablePrecipitation||!(!this.style||!this.style.snow),Dt=this._debugParams.forceEnablePrecipitation||!(!this.style||!this.style.rain);if(Bt&&!this._snow&&(this._snow=new qg(this)),!Bt&&this._snow&&(this._snow.destroy(),delete this._snow),Dt&&!this._rain&&(this._rain=new bf(this)),!Dt&&this._rain&&(this._rain.destroy(),delete this._rain),this._snow&&this._snow.update(this),this._rain&&this._rain.update(this),!An.has(this.context.gl))return;this.renderPass="offscreen";for(const Zn of U){const vr=r.getLayerSourceCache(Zn);if(!Zn.hasOffscreenPass()||Zn.isHidden(this.transform.zoom))continue;const oi=vr?Le[vr.id]:void 0;(Zn.type==="custom"||Zn.type==="raster"||Zn.type==="raster-particle"||Zn.isSky()||oi&&oi.length)&&this.renderLayer(this,vr,Zn,oi)}this.depthRangeFor3D=[0,1-(U.length+2)*this.numSublayers*this.depthEpsilon],this._shadowRenderer&&(this.renderPass="shadow",this._shadowRenderer.drawShadowPass(this.style,rt)),this.context.bindFramebuffer.set(null),this.context.viewport.set([0,0,this.width,this.height]);const rn=this.transform.projection.name==="globe"||this.transform.isHorizonVisible(),xn=(()=>{if(l.showOverdrawInspector)return c.aj.black;const Zn=this.style.fog;if(Zn&&this.transform.projection.supportsFog){const vr=this.style.getLut(Zn.scope);if(!rn){const oi=Zn.properties.get("color-use-theme")==="none",jn=Zn.properties.get("color").toRenderColor(oi?null:vr).toArray01();return new c.aj(...jn)}if(rn){const oi=Zn.properties.get("space-color-use-theme")==="none",jn=Zn.properties.get("space-color").toRenderColor(oi?null:vr).toArray01();return new c.aj(...jn)}}return c.aj.transparent})();if(this.context.clear({color:xn,depth:1}),this.clearStencil(),this._showOverdrawInspector=l.showOverdrawInspector,this.renderPass="opaque",this.style.fog&&this.transform.projection.supportsFog&&this._atmosphere&&!this._showOverdrawInspector&&rn&&this._atmosphere.drawStars(this,this.style.fog),!this.terrain)for(this.currentLayer=R.length-1;this.currentLayer>=0;this.currentLayer--){const Zn=U[this.currentLayer],vr=r.getLayerSourceCache(Zn);if(Zn.isSky())continue;const oi=vr?(Zn.is3D()?St:Le)[vr.id]:void 0;this._renderTileClippingMasks(Zn,vr,oi),this.renderLayer(this,vr,Zn,oi)}if(this.style.fog&&this.transform.projection.supportsFog&&this._atmosphere&&!this._showOverdrawInspector&&rn&&this._atmosphere.drawAtmosphereGlow(this,this.style.fog),this.renderPass="sky",(!this._atmosphere||c.ae(this.transform.zoom)>0)&&(this.transform.projection.name==="globe"||this.transform.isHorizonVisible()))for(this.currentLayer=0;this.currentLayer<R.length;this.currentLayer++){const Zn=U[this.currentLayer],vr=r.getLayerSourceCache(Zn);Zn.isSky()&&this.renderLayer(this,vr,Zn,vr?Le[vr.id]:void 0)}function dr(Zn,vr){let oi;return vr&&(oi=(Zn.type==="symbol"?Ae:Zn.is3D()?St:Le)[vr.id]),oi}if(this.renderPass="translucent",this.transform.projection.name==="globe"){for(this.renderElevatedRasterBackface=!0,this.currentLayer=0;this.currentLayer<R.length;){const Zn=U[this.currentLayer];if(Zn.type==="raster"||Zn.type==="raster-particle"){const vr=r.getLayerSourceCache(Zn);this.renderLayer(this,vr,Zn,dr(Zn,vr))}++this.currentLayer}this.renderElevatedRasterBackface=!1}this.currentLayer=0,this.firstLightBeamLayer=Number.MAX_SAFE_INTEGER;let Jn=0;Lt&&(Jn=Lt.getShadowCastingLayerCount());let Br=!1,Ar=-1;for(let Zn=0;Zn<R.length;++Zn){const vr=U[Zn];vr.isHidden(this.transform.zoom)||vr.is3D()&&(Ar=Zn)}for(V&&Ar===-1&&(B=!0);this.currentLayer<R.length;){const Zn=U[this.currentLayer],vr=r.getLayerSourceCache(Zn);if(Zn.isSky())++this.currentLayer;else if(this.terrain&&this.style.isLayerDraped(Zn)){if(Zn.isHidden(this.transform.zoom)){++this.currentLayer;continue}this.currentLayer=this.terrain.renderBatch(this.currentLayer),this._lastOcclusionLayer=Math.max(this.currentLayer,this._lastOcclusionLayer)}else{if(B&&!Br&&this.terrain&&!this.transform.isOrthographic&&(Br=!0,this.blitDepth()),V&&Ar!==-1&&this.currentLayer===Ar+1&&!this.transform.isOrthographic&&this.blitDepth(),Zn.is3D()||this.terrain||this._renderTileClippingMasks(Zn,vr,vr?Se[vr.id]:void 0),this.renderLayer(this,vr,Zn,dr(Zn,vr)),!this.terrain&&Lt&&Jn>0&&Zn.hasShadowPass()&&--Jn==0&&(Lt.drawGroundShadows(),this.firstLightBeamLayer<=this.currentLayer)){const oi=this.currentLayer;for(this.renderPass="light-beam",this.currentLayer=this.firstLightBeamLayer;this.currentLayer<=oi;this.currentLayer++){const jn=U[this.currentLayer];if(!jn.hasLightBeamPass())continue;const Vr=r.getLayerSourceCache(jn);this.renderLayer(this,Vr,jn,Vr?Le[Vr.id]:void 0)}this.currentLayer=oi,this.renderPass="translucent"}if(this.currentLayer>=this._lastOcclusionLayer&&this.layersWithOcclusionOpacity.length>0){const oi=this.currentLayer;this.depthOcclusion=!0;for(const jn of this.layersWithOcclusionOpacity){this.currentLayer=jn;const Vr=U[this.currentLayer],_r=r.getLayerSourceCache(Vr),$i=_r?Le[_r.id]:void 0;Vr.is3D()||this.terrain||this._renderTileClippingMasks(Vr,_r,_r?Se[_r.id]:void 0),this.renderLayer(this,_r,Vr,$i)}this.depthOcclusion=!1,this.currentLayer=oi,this.renderPass="translucent",this.layersWithOcclusionOpacity=[]}++this.currentLayer}}if(this.terrain&&this.terrain.postRender(),this._snow&&this._snow.draw(this),this._rain&&this._rain.draw(this),this.options.showTileBoundaries||this.options.showQueryGeometry||this.options.showTileAABBs){let Zn=null;U.forEach(vr=>{const oi=r.getLayerSourceCache(vr);oi&&!vr.isHidden(this.transform.zoom)&&oi.getVisibleCoordinates().length&&(!Zn||Zn.getSource().maxzoom<oi.getSource().maxzoom)&&(Zn=oi)}),Zn&&this.options.showTileBoundaries&&xf.debug(this,Zn,Zn.getVisibleCoordinates(),c.aj.red,!1,this.options.showParseStatus)}this.terrain&&this._debugParams.showTerrainProxyTiles&&xf.debug(this,this.terrain.proxySourceCache,this.terrain.proxyCoords,new c.aj(1,.8,.1,1),!0,this.options.showParseStatus),this.options.showPadding&&function(Zn){const vr=Zn.transform.padding;xm(Zn,Zn.transform.height-(vr.top||0),3,gf),xm(Zn,vr.bottom||0,3,Mv),Cm(Zn,vr.left||0,3,Pv),Cm(Zn,Zn.transform.width-(vr.right||0),3,Gg);const oi=Zn.transform.centerPoint;(function(jn,Vr,_r,$i){jd(jn,Vr-1,_r-10,2,20,$i),jd(jn,Vr-10,_r-1,20,2,$i)})(Zn,oi.x,Zn.transform.height-oi.y,cp)}(this),this.context.setDefault(),this.frameCounter=(this.frameCounter+1)%Number.MAX_SAFE_INTEGER,this.tileLoaded&&this.options.speedIndexTiming&&(this.loadTimeStamps.push(performance.now()),this.saveCanvasCopy()),ce||(this.conflationActive=!1)}prepareLayer(r){this.gpuTimingStart(r);const{unsupportedLayers:l}=this.transform.projection,m=!l||!l.includes(r.type);if(Hd[r.type]&&(m||this.terrain&&r.type==="custom")){const _=this.style.getLayerSourceCache(r);Hd[r.type](r,_,this)}this.gpuTimingEnd()}renderLayer(r,l,m,_){m.isHidden(this.transform.zoom)||(m.type==="background"||m.type==="sky"||m.type==="custom"||m.type==="model"||m.type==="raster"||m.type==="raster-particle"||_&&_.length)&&(this.id=m.id,this.gpuTimingStart(m),r.transform.projection.unsupportedLayers&&r.transform.projection.unsupportedLayers.includes(m.type)&&(!r.terrain||m.type!=="custom")||m.type==="clip"||xf[m.type](r,l,m,_,this.style.placement.variableOffsets,this.options.isInitialLoad),this.gpuTimingEnd())}gpuTimingStart(r){if(!this.options.gpuTiming)return;const l=this.context.extTimerQuery,m=this.context.gl;let _=this.gpuTimers[r.id];_||(_=this.gpuTimers[r.id]={calls:0,cpuTime:0,query:m.createQuery()}),_.calls++,m.beginQuery(l.TIME_ELAPSED_EXT,_.query)}gpuTimingDeferredRenderStart(){if(this.options.gpuTimingDeferredRender){const r=this.context.extTimerQuery,l=this.context.gl,m=l.createQuery();this.deferredRenderGpuTimeQueries.push(m),l.beginQuery(r.TIME_ELAPSED_EXT,m)}}gpuTimingDeferredRenderEnd(){this.options.gpuTimingDeferredRender&&this.context.gl.endQuery(this.context.extTimerQuery.TIME_ELAPSED_EXT)}gpuTimingEnd(){this.options.gpuTiming&&this.context.gl.endQuery(this.context.extTimerQuery.TIME_ELAPSED_EXT)}collectGpuTimers(){const r=this.gpuTimers;return this.gpuTimers={},r}collectDeferredRenderGpuQueries(){const r=this.deferredRenderGpuTimeQueries;return this.deferredRenderGpuTimeQueries=[],r}queryGpuTimers(r){const l={};for(const m in r){const _=r[m],x=this.context.extTimerQuery,E=x.getQueryParameter(_.query,this.context.gl.QUERY_RESULT)/1e6;x.deleteQueryEXT(_.query),l[m]=E}return l}queryGpuTimeDeferredRender(r){if(!this.options.gpuTimingDeferredRender)return 0;const l=this.context.gl;let m=0;for(const _ of r)m+=l.getQueryParameter(_,l.QUERY_RESULT)/1e6,l.deleteQuery(_);return m}translatePosMatrix(r,l,m,_,x){if(!m[0]&&!m[1])return r;const E=x?_==="map"?this.transform.angle:0:_==="viewport"?-this.transform.angle:0;if(E){const V=Math.sin(E),U=Math.cos(E);m=[m[0]*U-m[1]*V,m[0]*V+m[1]*U]}const R=[x?m[0]:c.ar(l,m[0],this.transform.zoom),x?m[1]:c.ar(l,m[1],this.transform.zoom),0],B=new Float32Array(16);return c.ab.mat4.translate(B,r,R),B}saveTileTexture(r){const l=r.size[0],m=this._tileTextures[l];m?m.push(r):this._tileTextures[l]=[r]}getTileTexture(r){const l=this._tileTextures[r];return l&&l.length>0?l.pop():null}terrainRenderModeElevated(){return this.style&&!!this.style.getTerrain()&&!!this.terrain&&!this.terrain.renderingToTexture||this.forceTerrainMode}linearFloatFilteringSupported(){return this.context.extTextureFloatLinear!=null}currentGlobalDefines(r,l,m){const _=m===void 0?this.terrain&&this.terrain.renderingToTexture:m,x=[];return this.style&&this.style.enable3dLights()&&(r==="globeRaster"||r==="terrainRaster"?(x.push("LIGHTING_3D_MODE"),x.push("LIGHTING_3D_ALPHA_EMISSIVENESS")):_||x.push("LIGHTING_3D_MODE")),this.renderPass==="shadow"&&(this._shadowMapDebug||x.push("DEPTH_TEXTURE")),this.terrainRenderModeElevated()&&(x.push("TERRAIN"),this.linearFloatFilteringSupported()&&x.push("TERRAIN_DEM_FLOAT_FORMAT")),this.transform.projection.name==="globe"&&x.push("GLOBE"),!this._fogVisible||_||l!==void 0&&!l||x.push("FOG","FOG_DITHERING"),_&&x.push("RENDER_TO_TEXTURE"),this._showOverdrawInspector&&x.push("OVERDRAW_INSPECTOR"),x}getOrCreateProgram(r,l){this.cache=this.cache||{};const m=l&&l.defines||[],_=l&&l.config,x=this.currentGlobalDefines(r,l&&l.overrideFog,l&&l.overrideRtt).concat(m),E=dd.cacheKey(cc[r],r,x,_);return this.cache[E]||(this.cache[E]=new dd(this.context,r,cc[r],_,gm[r],x)),this.cache[E]}setCustomLayerDefaults(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.frontFace.setDefault(),this.context.cullFaceSide.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()}setBaseState(){const r=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(r.FUNC_ADD)}initDebugOverlayCanvas(){this.debugOverlayCanvas==null&&(this.debugOverlayCanvas=document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new c.T(this.context,this.debugOverlayCanvas,this.context.gl.RGBA8))}destroy(){this._terrain&&this._terrain.destroy(),this._atmosphere&&(this._atmosphere.destroy(),this._atmosphere=void 0),this.globeSharedBuffers&&this.globeSharedBuffers.destroy(),this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy(),this._wireframeDebugCache.destroy(),this.depthFBO&&(this.depthFBO.destroy(),this.depthFBO=void 0,this.depthTexture=void 0),this.emptyDepthTexture&&this.emptyDepthTexture.destroy()}prepareDrawTile(){this.terrain&&this.terrain.prepareDrawTile()}uploadCommonLightUniforms(r,l){if(this.style.enable3dLights()){const m=this.style.directionalLight,_=this.style.ambientLight;if(m&&_){const x=((E,R,B)=>{const V=E.properties.get("direction"),U=E.properties.get("color-use-theme")==="none",Q=E.properties.get("color").toRenderColor(U?null:B.getLut(E.scope)).toArray01(),ee=E.properties.get("intensity"),ce=R.properties.get("color-use-theme")==="none",Me=R.properties.get("color").toRenderColor(ce?null:B.getLut(R.scope)).toArray01(),Se=R.properties.get("intensity"),Le=[V.x,V.y,V.z],Ae=c.cM(Me,Se),rt=c.cM(Q,ee);return{u_lighting_ambient_color:Ae,u_lighting_directional_dir:Le,u_lighting_directional_color:rt,u_ground_radiance:iu(Le,rt,Ae)}})(m,_,this.style);l.setLightsUniformValues(r,x)}}}uploadCommonUniforms(r,l,m,_,x){if(this.uploadCommonLightUniforms(r,l),this.terrain&&this.terrain.renderingToTexture)return;const E=this.style.fog;if(E){const R=E.getOpacity(this.transform.pitch),B=((V,U,Q,ee,ce,Me,Se,Le,Ae,rt,St,_t)=>{const Vt=V.transform,Lt=U.properties.get("color-use-theme")==="none",Bt=U.properties.get("color").toRenderColor(Lt?null:V.style.getLut(U.scope)).toArray01();Bt[3]=ee;const Dt=V.frameCounter/1e3%1,[rn,xn]=U.properties.get("vertical-range");return{u_fog_matrix:Q?Vt.calculateFogTileMatrix(Q):_t||V.identityMat,u_fog_range:U.getFovAdjustedRange(Vt._fov),u_fog_color:Bt,u_fog_horizon_blend:U.properties.get("horizon-blend"),u_fog_vertical_limit:[Math.min(rn,xn),xn],u_fog_temporal_offset:Dt,u_frustum_tl:ce,u_frustum_tr:Me,u_frustum_br:Se,u_frustum_bl:Le,u_globe_pos:Ae,u_globe_radius:rt,u_viewport:St,u_globe_transition:c.ae(Vt.zoom),u_is_globe:+(Vt.projection.name==="globe")}})(this,E,m,R,this.transform.frustumCorners.TL,this.transform.frustumCorners.TR,this.transform.frustumCorners.BR,this.transform.frustumCorners.BL,this.transform.globeCenterInViewSpace,this.transform.globeRadius,[this.transform.width*c.q.devicePixelRatio,this.transform.height*c.q.devicePixelRatio],_);l.setFogUniformValues(r,B)}x&&l.setCutoffUniformValues(r,x.uniformValues)}setTileLoadedFlag(r){this.tileLoaded=r}saveCanvasCopy(){const r=this.canvasCopy();r&&(this.frameCopies.push(r),this.tileLoaded=!1)}canvasCopy(){const r=this.context.gl,l=r.createTexture();return r.bindTexture(r.TEXTURE_2D,l),r.copyTexImage2D(r.TEXTURE_2D,0,r.RGBA,0,0,r.drawingBufferWidth,r.drawingBufferHeight,0),l}getCanvasCopiesAndTimestamps(){return{canvasCopies:this.frameCopies,timeStamps:this.loadTimeStamps}}averageElevationNeedsEasing(){if(!this.transform._elevation)return!1;const r=this.style&&this.style.fog;return!!r&&r.getOpacity(this.transform.pitch)!==0}getBackgroundTiles(){const r=this._backgroundTiles,l=this._backgroundTiles={},m=this.transform.coveringTiles({tileSize:512});for(const _ of m)l[_.key]=r[_.key]||new na(_,512,this.transform.tileZoom,this);return l}clearBackgroundTiles(){this._backgroundTiles={}}isSourceForClippingOrConflation(r,l){return!(!r.is3D()||r.type!=="clip"&&(r.minzoom&&r.minzoom>this.transform.zoom||(this.style._clipLayerPresent||r.sourceLayer!=="building")&&(!l||l.type!=="batched-model")))}isTileAffectedByFog(r){if(!this.style||!this.style.fog)return!1;if(this.transform.projection.name==="globe")return!0;let l=this._cachedTileFogOpacities[r.key];return l||(this._cachedTileFogOpacities[r.key]=l=this.style.fog.getOpacityForTile(r)),l[0]>=et||l[1]>=et}setupDepthForOcclusion(r,l,m){const _=this.context,x=_.gl,E=!!m;var R;m||(m={u_dem:2,u_dem_prev:4,u_dem_tl:[0,0],u_dem_tl_prev:[0,0],u_dem_scale:0,u_dem_scale_prev:0,u_dem_size:0,u_dem_lerp:1,u_depth:3,u_depth_size_inv:[0,0],u_depth_range_unpack:[0,1],u_occluder_half_size:16,u_occlusion_depth_offset:-1e-4,u_exaggeration:0}),_.activeTexture.set(x.TEXTURE3),r&&this.depthFBO&&this.depthTexture?(this.depthTexture.bind(x.NEAREST,x.CLAMP_TO_EDGE),m.u_depth_size_inv=[1/this.depthFBO.width,1/this.depthFBO.height],m.u_depth_range_unpack=[2/((R=this.depthRangeFor3D)[1]-R[0]),-1-2*R[0]/(R[1]-R[0])],m.u_occluder_half_size=.5*this.occlusionParams.occluderSize,m.u_occlusion_depth_offset=this.occlusionParams.depthOffset):this.emptyDepthTexture.bind(x.NEAREST,x.CLAMP_TO_EDGE),_.activeTexture.set(x.TEXTURE0),E||l.setTerrainUniformValues(_,m)}}function Tm(p,r){let l=!1,m=null;const _=()=>{m=null,l&&(p(),m=setTimeout(_,r),l=!1)};return()=>(l=!0,m||_(),m)}class Jg{constructor(r){this._hashName=r&&encodeURIComponent(r),c.aP(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=Tm(this._updateHashUnthrottled.bind(this),300)}addTo(r){return this._map=r,window.addEventListener("hashchange",this._onHashChange,!1),r.on("moveend",this._updateHash),this}remove(){return this._map?(this._map.off("moveend",this._updateHash),window.removeEventListener("hashchange",this._onHashChange,!1),clearTimeout(this._updateHash()),this._map=void 0,this):this}getHashString(){const r=this._map;if(!r)return"";const l=vp(r);if(this._hashName){const m=this._hashName;let _=!1;const x=location.hash.slice(1).split("&").map(E=>{const R=E.split("=")[0];return R===m?(_=!0,`${R}=${l}`):E}).filter(E=>E);return _||x.push(`${m}=${l}`),`#${x.join("&")}`}return`#${l}`}_getCurrentHash(){const r=location.hash.replace("#","");if(this._hashName){let l;return r.split("&").map(m=>m.split("=")).forEach(m=>{m[0]===this._hashName&&(l=m)}),(l&&l[1]||"").split("/")}return r.split("/")}_onHashChange(){const r=this._map;if(!r)return!1;const l=this._getCurrentHash();if(l.length>=3&&!l.some(m=>isNaN(m))){const m=r.dragRotate.isEnabled()&&r.touchZoomRotate.isEnabled()?+(l[3]||0):r.getBearing();return r.jumpTo({center:[+l[2],+l[1]],zoom:+l[0],bearing:m,pitch:+(l[4]||0)}),!0}return!1}_updateHashUnthrottled(){history.replaceState(history.state,"",location.href.replace(/(#.+)?$/,this.getHashString()))}}function vp(p,r){const l=p.getCenter(),m=Math.round(100*p.getZoom())/100,_=Math.ceil((m*Math.LN2+Math.log(512/360/.5))/Math.LN10),x=Math.pow(10,_),E=Math.round(l.lng*x)/x,R=Math.round(l.lat*x)/x,B=p.getBearing(),V=p.getPitch();let U=r?`/${E}/${R}/${m}`:`${m}/${R}/${E}`;return(B||V)&&(U+="/"+Math.round(10*B)/10),V&&(U+=`/${Math.round(V)}`),U}const vh={linearity:.3,easing:c.dy(0,0,.3,1)},Qg=c.l({deceleration:2500,maxSpeed:1400},vh),e0=c.l({deceleration:20,maxSpeed:1400},vh),t0=c.l({deceleration:1e3,maxSpeed:360},vh),n0=c.l({deceleration:1e3,maxSpeed:90},vh);class Mm{constructor(r){this._map=r,this.clear()}clear(){this._inertiaBuffer=[]}record(r){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:c.q.now(),settings:r})}_drainInertiaBuffer(){const r=this._inertiaBuffer,l=c.q.now();for(;r.length>0&&l-r[0].time>160;)r.shift()}_onMoveEnd(r){if(this._map._prefersReducedMotion()||(this._drainInertiaBuffer(),this._inertiaBuffer.length<2))return;const l={zoom:0,bearing:0,pitch:0,pan:new c.P(0,0),pinchAround:void 0,around:void 0};for(const{settings:x}of this._inertiaBuffer)l.zoom+=x.zoomDelta||0,l.bearing+=x.bearingDelta||0,l.pitch+=x.pitchDelta||0,x.panDelta&&l.pan._add(x.panDelta),x.around&&(l.around=x.around),x.pinchAround&&(l.pinchAround=x.pinchAround);const m=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,_={};if(l.pan.mag()){const x=_h(l.pan.mag(),m,c.l({},Qg,r||{}));_.offset=l.pan.mult(x.amount/l.pan.mag()),_.center=this._map.transform.center,yh(_,x)}if(l.zoom){const x=_h(l.zoom,m,e0);_.zoom=this._map.transform.zoom+x.amount,yh(_,x)}if(l.bearing){const x=_h(l.bearing,m,t0);_.bearing=this._map.transform.bearing+c.aw(x.amount,-179,179),yh(_,x)}if(l.pitch){const x=_h(l.pitch,m,n0);_.pitch=this._map.transform.pitch+x.amount,yh(_,x)}if(_.zoom||_.bearing){const x=l.pinchAround===void 0?l.around:l.pinchAround;_.around=x?this._map.unproject(x):this._map.getCenter()}return this.clear(),_.noMoveStart=!0,_}}function yh(p,r){(!p.duration||p.duration<r.duration)&&(p.duration=r.duration,p.easing=r.easing)}function _h(p,r,l){const{maxSpeed:m,linearity:_,deceleration:x}=l,E=c.aw(p*_/(r/1e3),-m,m),R=Math.abs(E)/(x*_);return{easing:l.easing,duration:1e3*R,amount:E*(R/2)}}class Hc extends c.z{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(r,l,m,_={}){const x=yt(l.getCanvasContainer(),m),E=l.unproject(x);super(r,c.l({point:x,lngLat:E,originalEvent:m},_)),this._defaultPrevented=!1,this.target=l}}class bh extends c.z{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(r,l,m){const _=r==="touchend"?m.changedTouches:m.touches,x=Pt(l.getCanvasContainer(),_),E=x.map(B=>l.unproject(B)),R=x.reduce((B,V,U,Q)=>B.add(V.div(Q.length)),new c.P(0,0));super(r,{points:x,point:R,lngLats:E,lngLat:l.unproject(R),originalEvent:m}),this._defaultPrevented=!1}}class Ov extends c.z{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(r,l){super("wheel",{originalEvent:l}),this._defaultPrevented=!1}}class Rv{constructor(r,l){this._map=r,this._clickTolerance=l.clickTolerance}reset(){this._mousedownPos=void 0}wheel(r){return this._firePreventable(new Ov(this._map,r))}mousedown(r,l){return this._mousedownPos=l,this._firePreventable(new Hc(r.type,this._map,r))}mouseup(r){this._map.fire(new Hc(r.type,this._map,r))}preclick(r){const l=c.l({},r);l.type="preclick",this._map.fire(new Hc(l.type,this._map,l))}click(r,l){this._mousedownPos&&this._mousedownPos.dist(l)>=this._clickTolerance||(this.preclick(r),this._map.fire(new Hc(r.type,this._map,r)))}dblclick(r){return this._firePreventable(new Hc(r.type,this._map,r))}mouseover(r){this._map.fire(new Hc(r.type,this._map,r))}mouseout(r){this._map.fire(new Hc(r.type,this._map,r))}touchstart(r){return this._firePreventable(new bh(r.type,this._map,r))}touchmove(r){this._map.fire(new bh(r.type,this._map,r))}touchend(r){this._map.fire(new bh(r.type,this._map,r))}touchcancel(r){this._map.fire(new bh(r.type,this._map,r))}_firePreventable(r){if(this._map.fire(r),r.defaultPrevented)return{}}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class yp{constructor(r){this._map=r}reset(){this._delayContextMenu=!1,this._contextMenuEvent=void 0}mousemove(r){this._map.fire(new Hc(r.type,this._map,r))}mousedown(){this._delayContextMenu=!0}mouseup(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new Hc("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)}contextmenu(r){this._delayContextMenu?this._contextMenuEvent=r:this._map.fire(new Hc(r.type,this._map,r)),this._map.listens("contextmenu")&&r.preventDefault()}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class cl{constructor(r,l){this._map=r,this._el=r.getCanvasContainer(),this._container=r.getContainer(),this._clickTolerance=l.clickTolerance||1}isEnabled(){return!!this._enabled}isActive(){return!!this._active}enable(){this.isEnabled()||(this._enabled=!0)}disable(){this.isEnabled()&&(this._enabled=!1)}mousedown(r,l){this.isEnabled()&&r.shiftKey&&r.button===0&&(gt(),this._startPos=this._lastPos=l,this._active=!0)}mousemoveWindow(r,l){if(!this._active)return;const m=l,_=this._startPos,x=this._lastPos;if(!_||!x||x.equals(m)||!this._box&&m.dist(_)<this._clickTolerance)return;this._lastPos=m,this._box||(this._box=Ee("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",r));const E=Math.min(_.x,m.x),R=Math.max(_.x,m.x),B=Math.min(_.y,m.y),V=Math.max(_.y,m.y);this._map._requestDomTask(()=>{this._box&&(this._box.style.transform=`translate(${E}px,${B}px)`,this._box.style.width=R-E+"px",this._box.style.height=V-B+"px")})}mouseupWindow(r,l){if(!this._active)return;const m=this._startPos,_=l;if(m&&r.button===0){if(this.reset(),Ut(),m.x!==_.x||m.y!==_.y)return this._map.fire(new c.z("boxzoomend",{originalEvent:r})),{cameraAnimation:x=>x.fitScreenCoordinates(m,_,this._map.getBearing(),{linear:!1})};this._fireEvent("boxzoomcancel",r)}}keydown(r){this._active&&r.keyCode===27&&(this.reset(),this._fireEvent("boxzoomcancel",r))}blur(){this.reset()}reset(){this._active=!1,this._container.classList.remove("mapboxgl-crosshair"),this._box&&(this._box.remove(),this._box=null),xt(),delete this._startPos,delete this._lastPos}_fireEvent(r,l){return this._map.fire(new c.z(r,{originalEvent:l}))}}function _p(p,r){const l={};for(let m=0;m<p.length;m++)l[p[m].identifier]=r[m];return l}class $v{constructor(r){this.reset(),this.numTouches=r.numTouches}reset(){this.centroid=void 0,this.startTime=0,this.touches={},this.aborted=!1}touchstart(r,l,m){(this.centroid||m.length>this.numTouches)&&(this.aborted=!0),this.aborted||(this.startTime===0&&(this.startTime=r.timeStamp),m.length===this.numTouches&&(this.centroid=function(_){const x=new c.P(0,0);for(const E of _)x._add(E);return x.div(_.length)}(l),this.touches=_p(m,l)))}touchmove(r,l,m){if(this.aborted||!this.centroid)return;const _=_p(m,l);for(const x in this.touches){const E=_[x];(!E||E.dist(this.touches[x])>30)&&(this.aborted=!0)}}touchend(r,l,m){if((!this.centroid||r.timeStamp-this.startTime>500)&&(this.aborted=!0),m.length===0){const _=!this.aborted&&this.centroid;if(this.reset(),_)return _}}}class Pm{constructor(r){this.singleTap=new $v(r),this.numTaps=r.numTaps,this.reset()}reset(){this.lastTime=1/0,this.lastTap=void 0,this.count=0,this.singleTap.reset()}touchstart(r,l,m){this.singleTap.touchstart(r,l,m)}touchmove(r,l,m){this.singleTap.touchmove(r,l,m)}touchend(r,l,m){const _=this.singleTap.touchend(r,l,m);if(_){const x=r.timeStamp-this.lastTime<500,E=!this.lastTap||this.lastTap.dist(_)<30;if(x&&E||this.reset(),this.count++,this.lastTime=r.timeStamp,this.lastTap=_,this.count===this.numTaps)return this.reset(),_}}}class xh{constructor(){this._zoomIn=new Pm({numTouches:1,numTaps:2}),this._zoomOut=new Pm({numTouches:2,numTaps:1}),this.reset()}reset(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()}touchstart(r,l,m){this._zoomIn.touchstart(r,l,m),this._zoomOut.touchstart(r,l,m)}touchmove(r,l,m){this._zoomIn.touchmove(r,l,m),this._zoomOut.touchmove(r,l,m)}touchend(r,l,m){const _=this._zoomIn.touchend(r,l,m),x=this._zoomOut.touchend(r,l,m);return _?(this._active=!0,r.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:E=>E.easeTo({duration:300,zoom:E.getZoom()+1,around:E.unproject(_)},{originalEvent:r})}):x?(this._active=!0,r.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:E=>E.easeTo({duration:300,zoom:E.getZoom()-1,around:E.unproject(x)},{originalEvent:r})}):void 0}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}const r0={0:1,2:2};class Ch{constructor(r){this.reset(),this._clickTolerance=r.clickTolerance||1}blur(){this.reset()}reset(){this._active=!1,this._moved=!1,this._lastPoint=void 0,this._eventButton=void 0}_correctButton(r,l){return!1}_move(r,l){return{}}mousedown(r,l){if(this._lastPoint)return;const m=Wt(r);this._correctButton(r,m)&&(this._lastPoint=l,this._eventButton=m)}mousemoveWindow(r,l){const m=this._lastPoint;if(m){if(r.preventDefault(),this._eventButton!=null&&function(_,x){const E=r0[x];return _.buttons===void 0||(_.buttons&E)!==E}(r,this._eventButton))this.reset();else if(this._moved||!(l.dist(m)<this._clickTolerance))return this._moved=!0,this._lastPoint=l,this._move(m,l)}}mouseupWindow(r){this._lastPoint&&Wt(r)===this._eventButton&&(this._moved&&Ut(),this.reset())}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class bp extends Ch{mousedown(r,l){super.mousedown(r,l),this._lastPoint&&(this._active=!0)}_correctButton(r,l){return l===0&&!r.ctrlKey}_move(r,l){return{around:l,panDelta:l.sub(r)}}}class vu extends Ch{_correctButton(r,l){return l===0&&r.ctrlKey||l===2}_move(r,l){const m=.8*(l.x-r.x);if(m)return this._active=!0,{bearingDelta:m}}contextmenu(r){r.preventDefault()}}class Cf extends Ch{_correctButton(r,l){return l===0&&r.ctrlKey||l===2}_move(r,l){const m=-.5*(l.y-r.y);if(m)return this._active=!0,{pitchDelta:m}}contextmenu(r){r.preventDefault()}}class Cl{constructor(r,l){this._map=r,this._el=r.getCanvasContainer(),this._minTouches=1,this._clickTolerance=l.clickTolerance||1,this.reset(),c.aP(["_addTouchPanBlocker","_showTouchPanBlockerAlert"],this)}reset(){this._active=!1,this._touches={},this._sum=new c.P(0,0)}touchstart(r,l,m){return this._calculateTransform(r,l,m)}touchmove(r,l,m){if(this._active&&!(m.length<this._minTouches)){if(this._map._cooperativeGestures&&!this._map.isMoving()){if(m.length===1&&!c.dz())return void this._showTouchPanBlockerAlert();this._alertContainer.style.visibility!=="hidden"&&(this._alertContainer.style.visibility="hidden",clearTimeout(this._alertTimer))}return r.cancelable&&r.preventDefault(),this._calculateTransform(r,l,m)}}touchend(r,l,m){this._calculateTransform(r,l,m),this._active&&m.length<this._minTouches&&this.reset()}touchcancel(){this.reset()}_calculateTransform(r,l,m){m.length>0&&(this._active=!0);const _=_p(m,l),x=new c.P(0,0),E=new c.P(0,0);let R=0;for(const V in _){const U=_[V],Q=this._touches[V];Q&&(x._add(U),E._add(U.sub(Q)),R++,_[V]=U)}if(this._touches=_,R<this._minTouches||!E.mag())return;const B=E.div(R);return this._sum._add(B),this._sum.mag()<this._clickTolerance?void 0:{around:x.div(R),panDelta:B}}enable(){this._enabled=!0,this._map._cooperativeGestures&&(this._addTouchPanBlocker(),this._el.classList.add("mapboxgl-touch-pan-blocker-override","mapboxgl-scrollable-page"))}disable(){this._enabled=!1,this._map._cooperativeGestures&&(clearTimeout(this._alertTimer),this._alertContainer.remove(),this._el.classList.remove("mapboxgl-touch-pan-blocker-override","mapboxgl-scrollable-page")),this.reset()}isEnabled(){return!!this._enabled}isActive(){return!!this._active}_addTouchPanBlocker(){this._map&&!this._alertContainer&&(this._alertContainer=Ee("div","mapboxgl-touch-pan-blocker",this._map._container),this._alertContainer.textContent=this._map._getUIString("TouchPanBlocker.Message"),this._alertContainer.style.fontSize=`${Math.max(10,Math.min(24,Math.floor(.05*this._el.clientWidth)))}px`)}_showTouchPanBlockerAlert(){this._alertContainer.style.visibility="visible",this._alertContainer.classList.add("mapboxgl-touch-pan-blocker-show"),this._alertContainer.setAttribute("role","alert"),clearTimeout(this._alertTimer),this._alertTimer=window.setTimeout(()=>{this._alertContainer.classList.remove("mapboxgl-touch-pan-blocker-show"),this._alertContainer.removeAttribute("role")},500)}}class su{constructor(){this.reset()}reset(){this._active=!1,this._firstTwoTouches=void 0}_start(r){}_move(r,l,m){return{}}touchstart(r,l,m){this._firstTwoTouches||m.length<2||(this._firstTwoTouches=[m[0].identifier,m[1].identifier],this._start([l[0],l[1]]))}touchmove(r,l,m){const _=this._firstTwoTouches;if(!_)return;r.preventDefault();const[x,E]=_,R=Sf(m,l,x),B=Sf(m,l,E);if(!R||!B)return;const V=this._aroundCenter?null:R.add(B).div(2);return this._move([R,B],V,r)}touchend(r,l,m){if(!this._firstTwoTouches)return;const[_,x]=this._firstTwoTouches,E=Sf(m,l,_),R=Sf(m,l,x);E&&R||(this._active&&Ut(),this.reset())}touchcancel(){this.reset()}enable(r){this._enabled=!0,this._aroundCenter=!!r&&r.around==="center"}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}function Sf(p,r,l){for(let m=0;m<p.length;m++)if(p[m].identifier===l)return r[m]}function xp(p,r){return Math.log(p/r)/Math.LN2}class i0 extends su{reset(){super.reset(),this._distance=0,this._startDistance=0}_start(r){this._startDistance=this._distance=r[0].dist(r[1])}_move(r,l){const m=this._distance;if(this._distance=r[0].dist(r[1]),this._active||!(Math.abs(xp(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:xp(this._distance,m),pinchAround:l}}}function Om(p,r){return 180*p.angleWith(r)/Math.PI}class Sh extends su{reset(){super.reset(),this._minDiameter=0,this._startVector=void 0,this._vector=void 0}_start(r){this._startVector=this._vector=r[0].sub(r[1]),this._minDiameter=r[0].dist(r[1])}_move(r,l){const m=this._vector;if(this._vector=r[0].sub(r[1]),m&&(this._active||!this._isBelowThreshold(this._vector)))return this._active=!0,{bearingDelta:Om(this._vector,m),pinchAround:l}}_isBelowThreshold(r){this._minDiameter=Math.min(this._minDiameter,r.mag());const l=25/(Math.PI*this._minDiameter)*360,m=this._startVector;if(!m)return!1;const _=Om(r,m);return Math.abs(_)<l}}function o0(p){return Math.abs(p.y)>Math.abs(p.x)}class Av extends su{constructor(r){super(),this._map=r}reset(){super.reset(),this._valid=void 0,this._firstMove=void 0,this._lastPoints=void 0}_start(r){this._lastPoints=r,o0(r[0].sub(r[1]))&&(this._valid=!1)}_move(r,l,m){const _=this._lastPoints;if(!_)return;const x=r[0].sub(_[0]),E=r[1].sub(_[1]);return this._map._cooperativeGestures&&!c.dz()&&m.touches.length<3||(this._valid=this.gestureBeginsVertically(x,E,m.timeStamp),!this._valid)?void 0:(this._lastPoints=r,this._active=!0,{pitchDelta:(x.y+E.y)/2*-.5})}gestureBeginsVertically(r,l,m){if(this._valid!==void 0)return this._valid;const _=r.mag()>=2,x=l.mag()>=2;if(!_&&!x)return;if(!_||!x)return this._firstMove==null&&(this._firstMove=m),m-this._firstMove<100&&void 0;const E=r.y>0==l.y>0;return o0(r)&&o0(l)&&E}}const Rm={panStep:100,bearingStep:15,pitchStep:10};class a0{constructor(){const r=Rm;this._panStep=r.panStep,this._bearingStep=r.bearingStep,this._pitchStep=r.pitchStep,this._rotationDisabled=!1}blur(){this.reset()}reset(){this._active=!1}keydown(r){if(r.altKey||r.ctrlKey||r.metaKey)return;let l=0,m=0,_=0,x=0,E=0;switch(r.keyCode){case 61:case 107:case 171:case 187:l=1;break;case 189:case 109:case 173:l=-1;break;case 37:r.shiftKey?m=-1:(r.preventDefault(),x=-1);break;case 39:r.shiftKey?m=1:(r.preventDefault(),x=1);break;case 38:r.shiftKey?_=1:(r.preventDefault(),E=-1);break;case 40:r.shiftKey?_=-1:(r.preventDefault(),E=1);break;default:return}return this._rotationDisabled&&(m=0,_=0),{cameraAnimation:R=>{const B=R.getZoom();R.easeTo({duration:300,easeId:"keyboardHandler",easing:Ud,zoom:l?Math.round(B)+l*(r.shiftKey?2:1):B,bearing:R.getBearing()+m*this._bearingStep,pitch:R.getPitch()+_*this._pitchStep,offset:[-x*this._panStep,-E*this._panStep],center:R.getCenter()},{originalEvent:r})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}disableRotation(){this._rotationDisabled=!0}enableRotation(){this._rotationDisabled=!1}}function Ud(p){return p*(2-p)}const Wd=4.000244140625,vd=1/450;class lu{constructor(r,l){this._map=r,this._el=r.getCanvasContainer(),this._handler=l,this._delta=0,this._lastDelta=0,this._defaultZoomRate=.01,this._wheelZoomRate=vd,c.aP(["_onTimeout","_addScrollZoomBlocker","_showBlockerAlert"],this)}setZoomRate(r){this._defaultZoomRate=r}setWheelZoomRate(r){this._wheelZoomRate=r}isEnabled(){return!!this._enabled}isActive(){return this._active||this._finishTimeout!==void 0}isZooming(){return!!this._zooming}enable(r){this.isEnabled()||(this._enabled=!0,this._aroundCenter=!!r&&r.around==="center",this._map._cooperativeGestures&&this._addScrollZoomBlocker())}disable(){this.isEnabled()&&(this._enabled=!1,this._map._cooperativeGestures&&(clearTimeout(this._alertTimer),this._alertContainer.remove()))}wheel(r){if(!this.isEnabled())return;if(this._map._cooperativeGestures){if(!(r.ctrlKey||r.metaKey||this.isZooming()||c.dz()))return void this._showBlockerAlert();this._alertContainer.style.visibility!=="hidden"&&(this._alertContainer.style.visibility="hidden",clearTimeout(this._alertTimer))}let l=r.deltaMode===WheelEvent.DOM_DELTA_LINE?40*r.deltaY:r.deltaY;const m=c.q.now(),_=m-(this._lastWheelEventTime||0);this._lastWheelEventTime=m,l!==0&&l%Wd==0?this._type="wheel":l!==0&&Math.abs(l)<4?this._type="trackpad":_>400?(this._type=null,this._lastValue=l,this._timeout=window.setTimeout(this._onTimeout,40,r)):this._type||(this._type=Math.abs(_*l)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,l+=this._lastValue)),r.shiftKey&&l&&(l/=4),this._type&&(this._lastWheelEvent=r,this._delta-=l,this._active||this._start(r)),r.preventDefault()}_onTimeout(r){this._type="wheel",this._delta-=this._lastValue,this._active||this._start(r)}_start(r){if(!this._delta)return;this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);const l=yt(this._el,r);this._aroundPoint=this._aroundCenter?this._map.transform.centerPoint:l,this._aroundCoord=this._map.transform.pointCoordinate3D(this._aroundPoint),this._targetZoom=void 0,this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}renderFrame(){if(!this._frameId||(this._frameId=null,!this.isActive()))return;const r=this._map.transform;this._type==="wheel"&&r.projection.wrap&&(r._center.lng>=180||r._center.lng<=-180)&&(this._prevEase=null,this._easing=null,this._lastWheelEvent=null,this._lastWheelEventTime=0);const l=()=>r._terrainEnabled()&&this._aroundCoord?r.computeZoomRelativeTo(this._aroundCoord):r.zoom;if(this._delta!==0){const V=this._type==="wheel"&&Math.abs(this._delta)>Wd?this._wheelZoomRate:this._defaultZoomRate;let U=2/(1+Math.exp(-Math.abs(this._delta*V)));this._delta<0&&U!==0&&(U=1/U);const Q=l(),ee=Math.pow(2,Q),ce=typeof this._targetZoom=="number"?r.zoomScale(this._targetZoom):ee;this._targetZoom=Math.min(r.maxZoom,Math.max(r.minZoom,r.scaleZoom(ce*U))),this._type==="wheel"&&(this._startZoom=Q,this._easing=this._smoothOutEasing(200)),this._lastDelta=this._delta,this._delta=0}const m=typeof this._targetZoom=="number"?this._targetZoom:l(),_=this._startZoom,x=this._easing;let E,R=!1;if(this._type==="wheel"&&_&&x){const V=Math.min((c.q.now()-this._lastWheelEventTime)/200,1),U=x(V);E=c.af(_,m,U),V<1?this._frameId||(this._frameId=!0):R=!0}else E=m,R=!0;this._active=!0,R&&(this._active=!1,this._finishTimeout=window.setTimeout(()=>{this._zooming=!1,this._handler._triggerRenderFrame(),delete this._targetZoom,delete this._finishTimeout},200));let B=E-l();return B*this._lastDelta<0&&(B=0),{noInertia:!0,needsRenderFrame:!R,zoomDelta:B,around:this._aroundPoint,aroundCoord:this._aroundCoord,originalEvent:this._lastWheelEvent}}_smoothOutEasing(r){let l=c.dA;if(this._prevEase){const m=this._prevEase,_=(c.q.now()-m.start)/m.duration,x=m.easing(_+.01)-m.easing(_),E=.27/Math.sqrt(x*x+1e-4)*.01,R=Math.sqrt(.0729-E*E);l=c.dy(E,R,.25,1)}return this._prevEase={start:c.q.now(),duration:r,easing:l},l}blur(){this.reset()}reset(){this._active=!1}_addScrollZoomBlocker(){this._map&&!this._alertContainer&&(this._alertContainer=Ee("div","mapboxgl-scroll-zoom-blocker",this._map._container),this._alertContainer.textContent=/(Mac|iPad)/i.test(navigator.userAgent)?this._map._getUIString("ScrollZoomBlocker.CmdMessage"):this._map._getUIString("ScrollZoomBlocker.CtrlMessage"),this._alertContainer.style.fontSize=`${Math.max(10,Math.min(24,Math.floor(.05*this._el.clientWidth)))}px`)}_showBlockerAlert(){this._alertContainer.style.visibility="visible",this._alertContainer.classList.add("mapboxgl-scroll-zoom-blocker-show"),this._alertContainer.setAttribute("role","alert"),clearTimeout(this._alertTimer),this._alertTimer=window.setTimeout(()=>{this._alertContainer.classList.remove("mapboxgl-scroll-zoom-blocker-show"),this._alertContainer.removeAttribute("role")},200)}}class Yu{constructor(r,l){this._clickZoom=r,this._tapZoom=l}enable(){this._clickZoom.enable(),this._tapZoom.enable()}disable(){this._clickZoom.disable(),this._tapZoom.disable()}isEnabled(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()}isActive(){return this._clickZoom.isActive()||this._tapZoom.isActive()}}class $u{constructor(){this.reset()}reset(){this._active=!1}blur(){this.reset()}dblclick(r,l){return r.preventDefault(),{cameraAnimation:m=>{m.easeTo({duration:300,zoom:m.getZoom()+(r.shiftKey?-1:1),around:m.unproject(l)},{originalEvent:r})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class yd{constructor(){this._tap=new Pm({numTouches:1,numTaps:1}),this.reset()}reset(){this._active=!1,this._swipePoint=void 0,this._swipeTouch=0,this._tapTime=0,this._tap.reset()}touchstart(r,l,m){this._swipePoint||(this._tapTime&&r.timeStamp-this._tapTime>500&&this.reset(),this._tapTime?m.length>0&&(this._swipePoint=l[0],this._swipeTouch=m[0].identifier):this._tap.touchstart(r,l,m))}touchmove(r,l,m){if(this._tapTime){if(this._swipePoint){if(m[0].identifier!==this._swipeTouch)return;const _=l[0],x=_.y-this._swipePoint.y;return this._swipePoint=_,r.preventDefault(),this._active=!0,{zoomDelta:x/128}}}else this._tap.touchmove(r,l,m)}touchend(r,l,m){this._tapTime?this._swipePoint&&m.length===0&&this.reset():this._tap.touchend(r,l,m)&&(this._tapTime=r.timeStamp)}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Dv{constructor(r,l,m){this._el=r,this._mousePan=l,this._touchPan=m}enable(r){this._inertiaOptions=r||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("mapboxgl-touch-drag-pan")}disable(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("mapboxgl-touch-drag-pan")}isEnabled(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()}isActive(){return this._mousePan.isActive()||this._touchPan.isActive()}}class Lv{constructor(r,l,m){this._pitchWithRotate=r.pitchWithRotate,this._mouseRotate=l,this._mousePitch=m}enable(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()}disable(){this._mouseRotate.disable(),this._mousePitch.disable()}isEnabled(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())}isActive(){return this._mouseRotate.isActive()||this._mousePitch.isActive()}}class zv{constructor(r,l,m,_){this._el=r,this._touchZoom=l,this._touchRotate=m,this._tapDragZoom=_,this._rotationDisabled=!1,this._enabled=!0}enable(r){this._touchZoom.enable(r),this._rotationDisabled||this._touchRotate.enable(r),this._tapDragZoom.enable(),this._el.classList.add("mapboxgl-touch-zoom-rotate")}disable(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("mapboxgl-touch-zoom-rotate")}isEnabled(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()}isActive(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()}disableRotation(){this._rotationDisabled=!0,this._touchRotate.disable()}enableRotation(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()}}const Qc=p=>p.zoom||p.drag||p.pitch||p.rotate;class yu extends c.z{}class uc{constructor(){this.constants=[1,1,.01],this.radius=0}setup(r,l){const m=c.ab.vec3.sub([],l,r);this.radius=c.ab.vec3.length(m[2]<0?c.ab.vec3.div([],m,this.constants):[m[0],m[1],0])}projectRay(r){c.ab.vec3.div(r,r,this.constants),c.ab.vec3.normalize(r,r),c.ab.vec3.mul(r,r,this.constants);const l=c.ab.vec3.scale([],r,this.radius);if(l[2]>0){const m=c.ab.vec3.scale([],[0,0,1],c.ab.vec3.dot(l,[0,0,1])),_=c.ab.vec3.scale([],c.ab.vec3.normalize([],[l[0],l[1],0]),this.radius),x=c.ab.vec3.add([],l,c.ab.vec3.scale([],c.ab.vec3.sub([],c.ab.vec3.add([],_,m),l),2));l[0]=x[0],l[1]=x[1]}return l}}function wf(p){return p.panDelta&&p.panDelta.mag()||p.zoomDelta||p.bearingDelta||p.pitchDelta}class s0{constructor(r,l){this._map=r,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new Mm(r),this._bearingSnap=l.bearingSnap,this._previousActiveHandlers={},this._trackingEllipsoid=new uc,this._dragOrigin=null,this._eventsInProgress={},this._addDefaultHandlers(l),c.aP(["handleEvent","handleWindowEvent"],this);const m=this._el;this._listeners=[[m,"touchstart",{passive:!0}],[m,"touchmove",{passive:!1}],[m,"touchend",void 0],[m,"touchcancel",void 0],[m,"mousedown",void 0],[m,"mousemove",void 0],[m,"mouseup",void 0],[document,"mousemove",{capture:!0}],[document,"mouseup",void 0],[m,"mouseover",void 0],[m,"mouseout",void 0],[m,"dblclick",void 0],[m,"click",void 0],[m,"keydown",{capture:!1}],[m,"keyup",void 0],[m,"wheel",{passive:!1}],[m,"contextmenu",void 0],[window,"blur",void 0]];for(const[_,x,E]of this._listeners){const R=_===document?this.handleWindowEvent:this.handleEvent;_.addEventListener(x,R,E)}}destroy(){for(const[r,l,m]of this._listeners){const _=r===document?this.handleWindowEvent:this.handleEvent;r.removeEventListener(l,_,m)}}_addDefaultHandlers(r){const l=this._map,m=l.getCanvasContainer();this._add("mapEvent",new Rv(l,r));const _=l.boxZoom=new cl(l,r);this._add("boxZoom",_);const x=new xh,E=new $u;l.doubleClickZoom=new Yu(E,x),this._add("tapZoom",x),this._add("clickZoom",E);const R=new yd;this._add("tapDragZoom",R);const B=l.touchPitch=new Av(l);this._add("touchPitch",B);const V=new vu(r),U=new Cf(r);l.dragRotate=new Lv(r,V,U),this._add("mouseRotate",V,["mousePitch"]),this._add("mousePitch",U,["mouseRotate"]);const Q=new bp(r),ee=new Cl(l,r);l.dragPan=new Dv(m,Q,ee),this._add("mousePan",Q),this._add("touchPan",ee,["touchZoom","touchRotate"]);const ce=new Sh,Me=new i0;l.touchZoomRotate=new zv(m,Me,ce,R),this._add("touchRotate",ce,["touchPan","touchZoom"]),this._add("touchZoom",Me,["touchPan","touchRotate"]),this._add("blockableMapEvent",new yp(l));const Se=l.scrollZoom=new lu(l,this);this._add("scrollZoom",Se,["mousePan"]);const Le=l.keyboard=new a0;this._add("keyboard",Le);for(const Ae of["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"])r.interactive&&r[Ae]&&l[Ae].enable(r[Ae])}_add(r,l,m){this._handlers.push({handlerName:r,handler:l,allowed:m}),this._handlersById[r]=l}stop(r){if(!this._updatingCamera){for(const{handler:l}of this._handlers)l.reset();this._inertia.clear(),this._fireEvents({},{},r),this._changes=[],this._originalZoom=void 0}}isActive(){for(const{handler:r}of this._handlers)if(r.isActive())return!0;return!1}isZooming(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()}isRotating(){return!!this._eventsInProgress.rotate}isMoving(){return!!Qc(this._eventsInProgress)||this.isZooming()}_isDragging(){return!!this._eventsInProgress.drag}_blockedByActive(r,l,m){for(const _ in r)if(_!==m&&(!l||l.indexOf(_)<0))return!0;return!1}handleWindowEvent(r){this.handleEvent(r,`${r.type}Window`)}_getMapTouches(r){const l=[];for(const m of r)this._el.contains(m.target)&&l.push(m);return l}handleEvent(r,l){this._updatingCamera=!0;const m=r.type==="renderFrame",_=m?void 0:r,x={needsRenderFrame:!1},E={},R={},B=r.touches?this._getMapTouches(r.touches):void 0,V=B?Pt(this._el,B):m?void 0:yt(this._el,r);for(const{handlerName:ee,handler:ce,allowed:Me}of this._handlers){if(!ce.isEnabled())continue;let Se;this._blockedByActive(R,Me,ee)?ce.reset():ce[l||r.type]&&(Se=ce[l||r.type](r,V,B),this.mergeHandlerResult(x,E,Se,ee,_),Se&&Se.needsRenderFrame&&this._triggerRenderFrame()),(Se||ce.isActive())&&(R[ee]=ce)}const U={};for(const ee in this._previousActiveHandlers)R[ee]||(U[ee]=_);this._previousActiveHandlers=R,(Object.keys(U).length||wf(x))&&(this._changes.push([x,E,U]),this._triggerRenderFrame()),(Object.keys(R).length||wf(x))&&this._map._stop(!0),this._updatingCamera=!1;const{cameraAnimation:Q}=x;Q&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],Q(this._map))}mergeHandlerResult(r,l,m,_,x){if(!m)return;c.l(r,m);const E={handlerName:_,originalEvent:m.originalEvent||x};m.zoomDelta!==void 0&&(l.zoom=E),m.panDelta!==void 0&&(l.drag=E),m.pitchDelta!==void 0&&(l.pitch=E),m.bearingDelta!==void 0&&(l.rotate=E)}_applyChanges(){const r={},l={},m={};for(const[_,x,E]of this._changes)_.panDelta&&(r.panDelta=(r.panDelta||new c.P(0,0))._add(_.panDelta)),_.zoomDelta&&(r.zoomDelta=(r.zoomDelta||0)+_.zoomDelta),_.bearingDelta&&(r.bearingDelta=(r.bearingDelta||0)+_.bearingDelta),_.pitchDelta&&(r.pitchDelta=(r.pitchDelta||0)+_.pitchDelta),_.around!==void 0&&(r.around=_.around),_.aroundCoord!==void 0&&(r.aroundCoord=_.aroundCoord),_.pinchAround!==void 0&&(r.pinchAround=_.pinchAround),_.noInertia&&(r.noInertia=_.noInertia),c.l(l,x),c.l(m,E);this._updateMapTransform(r,l,m),this._changes=[]}_updateMapTransform(r,l,m){const _=this._map,x=_.transform,E=rt=>[rt.x,rt.y,rt.z];if((rt=>{const St=this._eventsInProgress.drag;return St&&!this._handlersById[St.handlerName].isActive()})()&&!wf(r)){const rt=x.zoom;x.cameraElevationReference="sea",this._originalZoom!=null&&x._orthographicProjectionAtLowPitch&&x.projection.name!=="globe"&&x.pitch===0?(x.cameraElevationReference="ground",x.zoom=this._originalZoom):(x.recenterOnTerrain(),x.cameraElevationReference="ground"),rt!==x.zoom&&this._map._update(!0)}if(x._isCameraConstrained&&_._stop(!0),!wf(r))return void this._fireEvents(l,m,!0);let{panDelta:R,zoomDelta:B,bearingDelta:V,pitchDelta:U,around:Q,aroundCoord:ee,pinchAround:ce}=r;x._isCameraConstrained&&(B>0&&(B=0),x._isCameraConstrained=!1),ce!==void 0&&(Q=ce),(B||(rt=>l[rt]&&!this._eventsInProgress[rt])("drag"))&&Q&&(this._dragOrigin=E(x.pointCoordinate3D(Q)),this._originalZoom=x.zoom,this._trackingEllipsoid.setup(x._camera.position,this._dragOrigin)),x.cameraElevationReference="sea",_._stop(!0),Q=Q||_.transform.centerPoint,V&&(x.bearing+=V),U&&(x.pitch+=U),x._updateCameraState();const Me=[0,0,0];if(R)if(x.projection.name==="mercator"){const rt=this._trackingEllipsoid.projectRay(x.screenPointToMercatorRay(Q).dir),St=this._trackingEllipsoid.projectRay(x.screenPointToMercatorRay(Q.sub(R)).dir);Me[0]=St[0]-rt[0],Me[1]=St[1]-rt[1]}else{const rt=x.pointCoordinate(Q);if(x.projection.name==="globe"){R=R.rotate(-x.angle);const St=x._pixelsPerMercatorPixel/x.worldSize;Me[0]=-R.x*c.dB(c.aS(rt.y))*St,Me[1]=-R.y*c.dB(x.center.lat)*St}else{const St=x.pointCoordinate(Q.sub(R));rt&&St&&(Me[0]=St.x-rt.x,Me[1]=St.y-rt.y)}}const Se=x.zoom,Le=[0,0,0];if(B){const rt=E(ee||x.pointCoordinate3D(Q)),St={dir:c.ab.vec3.normalize([],c.ab.vec3.sub([],rt,x._camera.position))};if(St.dir[2]<0){const _t=x.zoomDeltaToMovement(rt,B);c.ab.vec3.scale(Le,St.dir,_t)}}const Ae=c.ab.vec3.add(Me,Me,Le);x._translateCameraConstrained(Ae),B&&Math.abs(x.zoom-Se)>1e-4&&x.recenterOnTerrain(),x.cameraElevationReference="ground",this._map._update(),r.noInertia||this._inertia.record(r),this._fireEvents(l,m,!0)}_fireEvents(r,l,m){const _=Qc(this._eventsInProgress),x=Qc(r),E={};for(const U in r){const{originalEvent:Q}=r[U];this._eventsInProgress[U]||(E[`${U}start`]=Q),this._eventsInProgress[U]=r[U]}!_&&x&&this._fireEvent("movestart",x.originalEvent);for(const U in E)this._fireEvent(U,E[U]);x&&this._fireEvent("move",x.originalEvent);for(const U in r){const{originalEvent:Q}=r[U];this._fireEvent(U,Q)}const R={};let B;for(const U in this._eventsInProgress){const{handlerName:Q,originalEvent:ee}=this._eventsInProgress[U];this._handlersById[Q].isActive()||(delete this._eventsInProgress[U],B=l[Q]||ee,R[`${U}end`]=B)}for(const U in R)this._fireEvent(U,R[U]);const V=Qc(this._eventsInProgress);if(m&&(_||x)&&!V){this._updatingCamera=!0;const U=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),Q=ee=>ee!==0&&-this._bearingSnap<ee&&ee<this._bearingSnap;U?(Q(U.bearing||this._map.getBearing())&&(U.bearing=0),this._map.easeTo(U,{originalEvent:B})):(this._map.fire(new c.z("moveend",{originalEvent:B})),Q(this._map.getBearing())&&this._map.resetNorth()),this._updatingCamera=!1}}_fireEvent(r,l){this._map.fire(new c.z(r,l?{originalEvent:l}:{}))}_requestFrame(){return this._map.triggerRepaint(),this._map._renderTaskQueue.add(r=>{this._frameId=void 0,this.handleEvent(new yu("renderFrame",{timeStamp:r})),this._applyChanges()})}_triggerRenderFrame(){this._frameId===void 0&&(this._frameId=this._requestFrame())}}const l0="map.setFreeCameraOptions(...) and map.getFreeCameraOptions() are not yet supported for non-mercator projections.";class Ef extends c.E{constructor(r,l){super(),this._moving=!1,this._zooming=!1,this.transform=r,this._bearingSnap=l.bearingSnap,this._respectPrefersReducedMotion=l.respectPrefersReducedMotion!==!1,c.aP(["_renderFrameCallback"],this)}getCenter(){return new c.bO(this.transform.center.lng,this.transform.center.lat)}setCenter(r,l){return this.jumpTo({center:r},l)}panBy(r,l,m){return r=c.P.convert(r).mult(-1),this.panTo(this.transform.center,c.l({offset:r},l),m)}panTo(r,l,m){return this.easeTo(c.l({center:r},l),m)}getZoom(){return this.transform.zoom}setZoom(r,l){return this.jumpTo({zoom:r},l),this}zoomTo(r,l,m){return this.easeTo(c.l({zoom:r},l),m)}zoomIn(r,l){return this.zoomTo(this.getZoom()+1,r,l),this}zoomOut(r,l){return this.zoomTo(this.getZoom()-1,r,l),this}getBearing(){return this.transform.bearing}setBearing(r,l){return this.jumpTo({bearing:r},l),this}getPadding(){return this.transform.padding}setPadding(r,l){return this.jumpTo({padding:r},l),this}rotateTo(r,l,m){return this.easeTo(c.l({bearing:r},l),m)}resetNorth(r,l){return this.rotateTo(0,c.l({duration:1e3},r),l),this}resetNorthPitch(r,l){return this.easeTo(c.l({bearing:0,pitch:0,duration:1e3},r),l),this}snapToNorth(r,l){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(r,l):this}getPitch(){return this.transform.pitch}setPitch(r,l){return this.jumpTo({pitch:r},l),this}cameraForBounds(r,l){r=c.az.convert(r);const m=l&&l.bearing||0,_=l&&l.pitch||0,x=r.getNorthWest(),E=r.getSouthEast();return this._cameraForBounds(this.transform,x,E,m,_,l)}_extendPadding(r){const l={top:0,right:0,bottom:0,left:0};return r==null?c.l({},l,this.transform.padding):typeof r=="number"?{top:r,bottom:r,right:r,left:r}:c.l({},l,r)}_extendCameraOptions(r){return(r=c.l({offset:[0,0],maxZoom:this.transform.maxZoom},r)).padding=this._extendPadding(r.padding),r}_minimumAABBFrustumDistance(r,l){const m=l.max[0]-l.min[0],_=l.max[1]-l.min[1];return m/_>r.aspect?m/(2*Math.tan(.5*r.fovX)*r.aspect):_/(2*Math.tan(.5*r.fovY)*r.aspect)}_cameraForBoundsOnGlobe(r,l,m,_,x,E){const R=r.clone(),B=this._extendCameraOptions(E);R.bearing=_,R.pitch=x;const V=c.bO.convert(l),U=c.bO.convert(m),Q=.5*(V.lat+U.lat),ee=.5*(V.lng+U.lng),ce=c.dC(Q,ee),Me=c.ab.vec3.normalize([],ce),Se=c.ab.vec3.normalize([],c.ab.vec3.cross([],Me,[0,1,0])),Le=c.ab.vec3.cross([],Se,Me),Ae=[Se[0],Se[1],Se[2],0,Le[0],Le[1],Le[2],0,Me[0],Me[1],Me[2],0,0,0,0,1],rt=[ce,c.dC(V.lat,V.lng),c.dC(U.lat,V.lng),c.dC(U.lat,U.lng),c.dC(V.lat,U.lng),c.dC(Q,V.lng),c.dC(Q,U.lng),c.dC(V.lat,ee),c.dC(U.lat,ee)];let St=c.cd.fromPoints(rt.map(_r=>[c.ab.vec3.dot(Se,_r),c.ab.vec3.dot(Le,_r),c.ab.vec3.dot(Me,_r)]));const _t=c.ab.vec3.transformMat4([],St.center,Ae);c.ab.vec3.squaredLength(_t)===0&&c.ab.vec3.set(_t,0,0,1),c.ab.vec3.normalize(_t,_t),c.ab.vec3.scale(_t,_t,c.ax),R.center=c.dD(_t);const Vt=R.getWorldToCameraMatrix(),Lt=c.ab.mat4.invert(new Float64Array(16),Vt);St=c.cd.applyTransform(St,c.ab.mat4.multiply([],Vt,Ae));const Bt=this._extendAABB(St,R,B,_);if(!Bt)return void c.w("Map cannot fit within canvas with the given bounds, padding, and/or offset.");St=Bt,c.ab.vec3.transformMat4(_t,_t,Vt);const Dt=.5*(St.max[2]-St.min[2]),rn=this._minimumAABBFrustumDistance(R,St),xn=c.ab.vec3.scale([],[0,0,1],Dt),dr=c.ab.vec3.add(xn,_t,xn),Jn=rn+(R.pitch===0?0:c.ab.vec3.distance(_t,dr)),Br=R.globeCenterInViewSpace,Ar=c.ab.vec3.sub([],_t,[Br[0],Br[1],Br[2]]);c.ab.vec3.normalize(Ar,Ar),c.ab.vec3.scale(Ar,Ar,Jn);const Zn=c.ab.vec3.add([],_t,Ar);c.ab.vec3.transformMat4(Zn,Zn,Lt);const vr=c.ds/c.ax,oi=c.ab.vec3.length(Zn),jn=c.bH(Math.max(oi*vr-c.ds,Number.EPSILON),0),Vr=Math.min(R.zoomFromMercatorZAdjusted(jn),B.maxZoom);return Vr>.5*(c.c6+c.bY)?(R.setProjection({name:"mercator"}),R.zoom=Vr,this._cameraForBounds(R,l,m,_,x,E)):{center:R.center,zoom:Vr,bearing:_,pitch:x}}_extendAABB(r,l,m,_){const x=.5*((m.padding.left||0)+(m.padding.right||0)),E=.5*((m.padding.top||0)+(m.padding.bottom||0)),R=E,B=x,V=x,U=E,Q=l.width-(B+V),ee=l.height-(R+U),ce=c.ab.vec3.sub([],r.max,r.min),Me=Math.min(Q/ce[0],ee/ce[1]),Se=Math.min(l.scaleZoom(l.scale*Me),m.maxZoom);if(isNaN(Se))return null;const Le=l.scale/l.zoomScale(Se),Ae=new c.cd([r.min[0]-B*Le,r.min[1]-U*Le,r.min[2]],[r.max[0]+V*Le,r.max[1]+R*Le,r.max[2]]),rt=(typeof m.offset.x=="number"&&typeof m.offset.y=="number"?new c.P(m.offset.x,m.offset.y):c.P.convert(m.offset)).rotate(-c.ai(_));return Ae.center[0]-=rt.x*Le,Ae.center[1]+=rt.y*Le,Ae}queryTerrainElevation(r,l){const m=this.transform.elevation;return m?(l=c.l({},{exaggerated:!0},l),m.getAtPoint(c.aa.fromLngLat(r),null,l.exaggerated)):null}_cameraForBounds(r,l,m,_,x,E){if(r.projection.name==="globe")return this._cameraForBoundsOnGlobe(r,l,m,_,x,E);const R=r.clone(),B=this._extendCameraOptions(E);R.bearing=_,R.pitch=x;const V=c.bO.convert(l),U=c.bO.convert(m),Q=new c.bO(V.lng,U.lat),ee=new c.bO(U.lng,V.lat),ce=R.project(V),Me=R.project(U),Se=this.queryTerrainElevation(V),Le=this.queryTerrainElevation(U),Ae=this.queryTerrainElevation(Q),rt=this.queryTerrainElevation(ee),St=[[ce.x,ce.y,Math.min(Se||0,Le||0,Ae||0,rt||0)],[Me.x,Me.y,Math.max(Se||0,Le||0,Ae||0,rt||0)]];let _t=c.cd.fromPoints(St);const Vt=R.getWorldToCameraMatrix(),Lt=c.ab.mat4.invert(new Float64Array(16),Vt);_t=c.cd.applyTransform(_t,Vt);const Bt=this._extendAABB(_t,R,B,_);if(!Bt)return void c.w("Map cannot fit within canvas with the given bounds, padding, and/or offset.");_t=Bt;const Dt=.5*c.ab.vec3.sub([],_t.max,_t.min)[2],rn=this._minimumAABBFrustumDistance(R,_t),xn=[0,0,1,0];c.ab.vec4.transformMat4(xn,xn,Vt),c.ab.vec4.normalize(xn,xn);const dr=c.ab.vec3.scale([],xn,rn+Dt),Jn=c.ab.vec3.add([],_t.center,dr);c.ab.vec3.transformMat4(_t.center,_t.center,Lt),c.ab.vec3.transformMat4(Jn,Jn,Lt);const Br=R.unproject(new c.P(_t.center[0],_t.center[1])),Ar=c.dE(R.projection,Br),Zn=Math.pow(2,Ar),vr=Math.min(R._zoomFromMercatorZ(Jn[2]*R.pixelsPerMeter*Zn/R.worldSize),B.maxZoom);return R.mercatorFromTransition&&vr<.5*(c.c6+c.bY)?(R.setProjection({name:"globe"}),R.zoom=vr,this._cameraForBounds(R,l,m,_,x,E)):{center:Br,zoom:vr,bearing:_,pitch:x}}fitBounds(r,l,m){const _=this.cameraForBounds(r,l);return this._fitInternal(_,l,m)}fitScreenCoordinates(r,l,m,_,x){const E=c.P.convert(r),R=c.P.convert(l),B=new c.P(Math.min(E.x,R.x),Math.min(E.y,R.y)),V=new c.P(Math.max(E.x,R.x),Math.max(E.y,R.y));if(this.transform.projection.name==="mercator"&&this.transform.anyCornerOffEdge(E,R))return this;const U=this.transform.pointLocation3D(B),Q=this.transform.pointLocation3D(V),ee=this.transform.pointLocation3D(new c.P(B.x,V.y)),ce=this.transform.pointLocation3D(new c.P(V.x,B.y)),Me=[Math.min(U.lng,Q.lng,ee.lng,ce.lng),Math.min(U.lat,Q.lat,ee.lat,ce.lat)],Se=[Math.max(U.lng,Q.lng,ee.lng,ce.lng),Math.max(U.lat,Q.lat,ee.lat,ce.lat)],Le=_&&_.pitch?_.pitch:this.getPitch(),Ae=this._cameraForBounds(this.transform,Me,Se,m,Le,_);return this._fitInternal(Ae,_,x)}_fitInternal(r,l,m){return r?(l=c.l(r,l)).linear?this.easeTo(l,m):this.flyTo(l,m):this}jumpTo(r,l){this.stop();const m=r.preloadOnly?this.transform.clone():this.transform;let _=!1,x=!1,E=!1;"zoom"in r&&m.zoom!==+r.zoom&&(_=!0,m.zoom=+r.zoom),r.center!==void 0&&(m.center=c.bO.convert(r.center)),"bearing"in r&&m.bearing!==+r.bearing&&(x=!0,m.bearing=+r.bearing),"pitch"in r&&m.pitch!==+r.pitch&&(E=!0,m.pitch=+r.pitch);const R=typeof r.padding=="number"?this._extendPadding(r.padding):r.padding;if(r.padding!=null&&!m.isPaddingEqual(R))if(r.retainPadding===!1){const B=m.clone();B.padding=R,m.setLocationAtPoint(m.center,B.centerPoint)}else m.padding=R;return r.preloadOnly?(this._preloadTiles(m),this):(this.fire(new c.z("movestart",l)).fire(new c.z("move",l)),_&&this.fire(new c.z("zoomstart",l)).fire(new c.z("zoom",l)).fire(new c.z("zoomend",l)),x&&this.fire(new c.z("rotatestart",l)).fire(new c.z("rotate",l)).fire(new c.z("rotateend",l)),E&&this.fire(new c.z("pitchstart",l)).fire(new c.z("pitch",l)).fire(new c.z("pitchend",l)),this.fire(new c.z("moveend",l)))}getFreeCameraOptions(){return this.transform.projection.supportsFreeCamera||c.w(l0),this.transform.getFreeCameraOptions()}setFreeCameraOptions(r,l){const m=this.transform;if(!m.projection.supportsFreeCamera)return c.w(l0),this;this.stop();const _=m.zoom,x=m.pitch,E=m.bearing;m.setFreeCameraOptions(r);const R=_!==m.zoom,B=x!==m.pitch,V=E!==m.bearing;return this.fire(new c.z("movestart",l)).fire(new c.z("move",l)),R&&this.fire(new c.z("zoomstart",l)).fire(new c.z("zoom",l)).fire(new c.z("zoomend",l)),V&&this.fire(new c.z("rotatestart",l)).fire(new c.z("rotate",l)).fire(new c.z("rotateend",l)),B&&this.fire(new c.z("pitchstart",l)).fire(new c.z("pitch",l)).fire(new c.z("pitchend",l)),this.fire(new c.z("moveend",l)),this}easeTo(r,l){this._stop(!1,r.easeId),((r=c.l({offset:[0,0],duration:500,easing:c.dA},r)).animate===!1||this._prefersReducedMotion(r))&&(r.duration=0);const m=this.transform,_=this.getZoom(),x=this.getBearing(),E=this.getPitch(),R=this.getPadding(),B="zoom"in r?+r.zoom:_,V="bearing"in r?this._normalizeBearing(r.bearing,x):x,U="pitch"in r?+r.pitch:E,Q=this._extendPadding(r.padding),ee=c.P.convert(r.offset);let ce,Me,Se;if(m.projection.name==="globe"){const xn=c.aa.fromLngLat(m.center),dr=ee.rotate(-m.angle);xn.x+=dr.x/m.worldSize,xn.y+=dr.y/m.worldSize;const Jn=xn.toLngLat(),Br=c.bO.convert(r.center||Jn);this._normalizeCenter(Br),ce=m.centerPoint.add(dr),Me=new c.P(xn.x,xn.y).mult(m.worldSize),Se=new c.P(c.at(Br.lng),c.aA(Br.lat)).mult(m.worldSize).sub(Me)}else{ce=m.centerPoint.add(ee);const xn=m.pointLocation(ce),dr=c.bO.convert(r.center||xn);this._normalizeCenter(dr),Me=m.project(xn),Se=m.project(dr).sub(Me)}const Le=m.zoomScale(B-_);let Ae,rt;r.around&&(Ae=c.bO.convert(r.around),rt=m.locationPoint(Ae));const St=this._zooming||B!==_,_t=this._rotating||x!==V,Vt=this._pitching||U!==E,Lt=!m.isPaddingEqual(Q),Bt=r.retainPadding===!1?m.clone():m,Dt=xn=>dr=>{if(St&&(xn.zoom=c.af(_,B,dr)),_t&&(xn.bearing=c.af(x,V,dr)),Vt&&(xn.pitch=c.af(E,U,dr)),Lt&&(Bt.interpolatePadding(R,Q,dr),ce=Bt.centerPoint.add(ee)),Ae)xn.setLocationAtPoint(Ae,rt);else{const Jn=xn.zoomScale(xn.zoom-_),Br=B>_?Math.min(2,Le):Math.max(.5,Le),Ar=Math.pow(Br,1-dr),Zn=xn.unproject(Me.add(Se.mult(dr*Ar)).mult(Jn));xn.setLocationAtPoint(xn.renderWorldCopies?Zn.wrap():Zn,ce)}return r.preloadOnly||this._fireMoveEvents(l),xn};if(r.preloadOnly){const xn=this._emulate(Dt,r.duration,m);return this._preloadTiles(xn),this}const rn={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=St,this._rotating=_t,this._pitching=Vt,this._padding=Lt,this._easeId=r.easeId,this._prepareEase(l,r.noMoveStart,rn),this._ease(Dt(m),xn=>{m.cameraElevationReference==="sea"&&m.recenterOnTerrain(),this._afterEase(l,xn)},r),this}_prepareEase(r,l,m={}){this._moving=!0,this.transform.cameraElevationReference="sea",this.transform._orthographicProjectionAtLowPitch&&this.transform.pitch===0&&this.transform.projection.name!=="globe"&&(this.transform.cameraElevationReference="ground"),l||m.moving||this.fire(new c.z("movestart",r)),this._zooming&&!m.zooming&&this.fire(new c.z("zoomstart",r)),this._rotating&&!m.rotating&&this.fire(new c.z("rotatestart",r)),this._pitching&&!m.pitching&&this.fire(new c.z("pitchstart",r))}_fireMoveEvents(r){this.fire(new c.z("move",r)),this._zooming&&this.fire(new c.z("zoom",r)),this._rotating&&this.fire(new c.z("rotate",r)),this._pitching&&this.fire(new c.z("pitch",r))}_afterEase(r,l){if(this._easeId&&l&&this._easeId===l)return;this._easeId=void 0,this.transform.cameraElevationReference="ground";const m=this._zooming,_=this._rotating,x=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,m&&this.fire(new c.z("zoomend",r)),_&&this.fire(new c.z("rotateend",r)),x&&this.fire(new c.z("pitchend",r)),this.fire(new c.z("moveend",r))}flyTo(r,l){if(this._prefersReducedMotion(r)){const _r=c.ay(r,["center","zoom","bearing","pitch","around","padding","retainPadding"]);return this.jumpTo(_r,l)}this.stop(),r=c.l({offset:[0,0],speed:1.2,curve:1.42,easing:c.dA},r);const m=this.transform,_=this.getZoom(),x=this.getBearing(),E=this.getPitch(),R=this.getPadding(),B="zoom"in r?c.aw(+r.zoom,m.minZoom,m.maxZoom):_,V="bearing"in r?this._normalizeBearing(r.bearing,x):x,U="pitch"in r?+r.pitch:E,Q=this._extendPadding(r.padding),ee=m.zoomScale(B-_),ce=c.P.convert(r.offset);let Me=m.centerPoint.add(ce);const Se=m.pointLocation(Me),Le=c.bO.convert(r.center||Se);this._normalizeCenter(Le);const Ae=m.project(Se),rt=m.project(Le).sub(Ae);let St=r.curve;const _t=Math.max(m.width,m.height),Vt=_t/ee,Lt=rt.mag();if("minZoom"in r){const _r=c.aw(Math.min(r.minZoom,_,B),m.minZoom,m.maxZoom),$i=_t/m.zoomScale(_r-_);St=Math.sqrt($i/Lt*2)}const Bt=St*St;function Dt(_r){const $i=(Vt*Vt-_t*_t+(_r?-1:1)*Bt*Bt*Lt*Lt)/(2*(_r?Vt:_t)*Bt*Lt);return Math.log(Math.sqrt($i*$i+1)-$i)}function rn(_r){return(Math.exp(_r)-Math.exp(-_r))/2}function xn(_r){return(Math.exp(_r)+Math.exp(-_r))/2}const dr=Dt(0);let Jn=function(_r){return xn(dr)/xn(dr+St*_r)},Br=function(_r){return _t*((xn(dr)*(rn($i=dr+St*_r)/xn($i))-rn(dr))/Bt)/Lt;var $i},Ar=(Dt(1)-dr)/St;if(Math.abs(Lt)<1e-6||!isFinite(Ar)){if(Math.abs(_t-Vt)<1e-6)return this.easeTo(r,l);const _r=Vt<_t?-1:1;Ar=Math.abs(Math.log(Vt/_t))/St,Br=function(){return 0},Jn=function($i){return Math.exp(_r*St*$i)}}r.duration="duration"in r?+r.duration:1e3*Ar/("screenSpeed"in r?+r.screenSpeed/St:+r.speed),r.maxDuration&&r.duration>r.maxDuration&&(r.duration=0);const Zn=x!==V,vr=U!==E,oi=!m.isPaddingEqual(Q),jn=r.retainPadding===!1?m.clone():m,Vr=_r=>$i=>{const ti=$i*Ar,jr=1/Jn(ti);_r.zoom=$i===1?B:_+_r.scaleZoom(jr),Zn&&(_r.bearing=c.af(x,V,$i)),vr&&(_r.pitch=c.af(E,U,$i)),oi&&(jn.interpolatePadding(R,Q,$i),Me=jn.centerPoint.add(ce));const Ci=$i===1?Le:_r.unproject(Ae.add(rt.mult(Br(ti))).mult(jr));return _r.setLocationAtPoint(_r.renderWorldCopies?Ci.wrap():Ci,Me),_r._updateCameraOnTerrain(),r.preloadOnly||this._fireMoveEvents(l),_r};if(r.preloadOnly){const _r=this._emulate(Vr,r.duration,m);return this._preloadTiles(_r),this}return this._zooming=!0,this._rotating=Zn,this._pitching=vr,this._padding=oi,this._prepareEase(l,!1),this._ease(Vr(m),()=>this._afterEase(l),r),this}isEasing(){return!!this._easeFrameId}stop(){return this._stop()}_requestRenderFrame(r){}_cancelRenderFrame(r){}_stop(r,l){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),this._easeFrameId=void 0,this._onEaseFrame=void 0),this._onEaseEnd){const m=this._onEaseEnd;this._onEaseEnd=void 0,m.call(this,l)}if(!r){const m=this.handlers;m&&m.stop(!1)}return this}_ease(r,l,m){m.animate===!1||m.duration===0?(r(1),l()):(this._easeStart=c.q.now(),this._easeOptions=m,this._onEaseFrame=r,this._onEaseEnd=l,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))}_renderFrameCallback(){const r=Math.min((c.q.now()-this._easeStart)/this._easeOptions.duration,1),l=this._onEaseFrame;l&&l(this._easeOptions.easing(r)),r<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()}_normalizeBearing(r,l){r=c.bF(r,-180,180);const m=Math.abs(r-l);return Math.abs(r-360-l)<m&&(r-=360),Math.abs(r+360-l)<m&&(r+=360),r}_normalizeCenter(r){const l=this.transform;if(l.maxBounds||l.projection.name!=="globe"&&!l.renderWorldCopies)return;const m=r.lng-l.center.lng;r.lng+=m>180?-360:m<-180?360:0}_prefersReducedMotion(r){return this._respectPrefersReducedMotion&&c.q.prefersReducedMotion&&!(r&&r.essential)}_emulate(r,l,m){const _=Math.ceil(15*l/1e3),x=[],E=r(m.clone());for(let R=0;R<=_;R++){const B=E(R/_);x.push(B.clone())}return x}_preloadTiles(r,l){}}class Cp{constructor(r={}){this.options=r,c.aP(["_toggleAttribution","_updateEditLink","_updateData","_updateCompact"],this)}getDefaultPosition(){return"bottom-right"}onAdd(r){const l=this.options&&this.options.compact,m=r._getUIString("AttributionControl.ToggleAttribution");this._map=r,this._container=Ee("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._compactButton=Ee("button","mapboxgl-ctrl-attrib-button",this._container),this._compactButton.type="button",this._compactButton.addEventListener("click",this._toggleAttribution),this._compactButton.setAttribute("aria-label",m);const _=Ee("span","mapboxgl-ctrl-icon",this._compactButton);return _.setAttribute("aria-hidden","true"),_.setAttribute("title",m),this._innerContainer=Ee("div","mapboxgl-ctrl-attrib-inner",this._container),l&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),l===void 0&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container}onRemove(){this._container.remove(),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0,this._attribHTML=void 0}_toggleAttribution(){this._container.classList.contains("mapboxgl-compact-show")?(this._container.classList.remove("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-expanded","false")):(this._container.classList.add("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-expanded","true"))}_updateEditLink(){let r=this._editLink;r||(r=this._editLink=this._container.querySelector(".mapbox-improve-map"));const l=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:this._map._requestManager._customAccessToken||c.e.ACCESS_TOKEN}];if(r){const m=l.reduce((_,x,E)=>(x.value&&(_+=`${x.key}=${x.value}${E<l.length-1?"&":""}`),_),"?");r.href=`${c.e.FEEDBACK_URL}/${m}#${vp(this._map,!0)}`,r.rel="noopener nofollow"}}_updateData(r){!r||r.sourceDataType!=="metadata"&&r.sourceDataType!=="visibility"&&r.dataType!=="style"||(this._updateAttributions(),this._updateEditLink())}_updateAttributions(){if(!this._map.style)return;let r=[];if(this._map.style.stylesheet){const _=this._map.style.stylesheet;this.styleOwner=_.owner,this.styleId=_.id}const l=this._map.style._mergedSourceCaches;for(const _ in l){const x=l[_];if(x.used){const E=x.getSource();E.attribution&&r.indexOf(E.attribution)<0&&r.push(E.attribution)}}r.sort((_,x)=>_.length-x.length),r=r.filter((_,x)=>{for(let E=x+1;E<r.length;E++)if(r[E].indexOf(_)>=0)return!1;return!0}),this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?r=[...this.options.customAttribution,...r]:r.unshift(this.options.customAttribution));const m=r.join(" | ");m!==this._attribHTML&&(this._attribHTML=m,r.length?(this._innerContainer.innerHTML=m,this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null)}_updateCompact(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact","mapboxgl-compact-show")}}class xc{constructor(){c.aP(["_updateLogo","_updateCompact"],this)}onAdd(r){this._map=r,this._container=Ee("div","mapboxgl-ctrl");const l=Ee("a","mapboxgl-ctrl-logo");return l.target="_blank",l.rel="noopener nofollow",l.href="https://www.mapbox.com/",l.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),l.setAttribute("rel","noopener nofollow"),this._container.appendChild(l),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container}onRemove(){this._container.remove(),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)}getDefaultPosition(){return"bottom-left"}_updateLogo(r){r&&r.sourceDataType!=="metadata"||(this._container.style.display=this._logoRequired()?"block":"none")}_logoRequired(){if(!this._map.style)return!0;const r=this._map.style._sourceCaches;if(Object.entries(r).length===0)return!0;for(const l in r){const m=r[l].getSource();if(m.hasOwnProperty("mapbox_logo")&&!m.mapbox_logo)return!1}return!0}_updateCompact(){const r=this._container.children;if(r.length){const l=r[0];this._map.getCanvasContainer().offsetWidth<250?l.classList.add("mapboxgl-compact"):l.classList.remove("mapboxgl-compact")}}}class Cc{constructor(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1}add(r){const l=++this._id;return this._queue.push({callback:r,id:l,cancelled:!1}),l}remove(r){const l=this._currentlyRunning,m=l?this._queue.concat(l):this._queue;for(const _ of m)if(_.id===r)return void(_.cancelled=!0)}run(r=0){const l=this._currentlyRunning=this._queue;this._queue=[];for(const m of l)if(!m.cancelled&&(m.callback(r),this._cleared))break;this._cleared=!1,this._currentlyRunning=!1}clear(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]}}class If{constructor(r){this.jumpTo(r)}getValue(r){if(r<=this._startTime)return this._start;if(r>=this._endTime)return this._end;const l=c.cB((r-this._startTime)/(this._endTime-this._startTime));return this._start*(1-l)+this._end*l}isEasing(r){return r>=this._startTime&&r<=this._endTime}jumpTo(r){this._startTime=-1/0,this._endTime=-1/0,this._start=r,this._end=r}easeTo(r,l,m){this._start=this.getValue(l),this._end=r,this._startTime=l,this._endTime=l+m}}const Gd={"AttributionControl.ToggleAttribution":"Toggle attribution","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox homepage","Map.Title":"Map","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScrollZoomBlocker.CtrlMessage":"Use ctrl + scroll to zoom the map","ScrollZoomBlocker.CmdMessage":"Use \u2318 + scroll to zoom the map","TouchPanBlocker.Message":"Use two fingers to move the map"};class Kd extends c.z{constructor(r,l,m,_){const{point:x,lngLat:E,originalEvent:R,target:B}=r;super(r.type,{point:x,lngLat:E,originalEvent:R,target:B}),this.preventDefault=()=>{r.preventDefault()},this.id=l,this.interaction=m,this.feature=_}}class $m{constructor(r){this.map=r,this.interactionsByType=new Map,this.delegatedInteractions=new Map,this.typeById=new Map,this.filters=new Map,this.handleType=this.handleType.bind(this),this.handleMove=this.handleMove.bind(this),this.handleOut=this.handleOut.bind(this),this.hoveredFeatures=new Map,this.prevHoveredFeatures=new Map}add(r,l){if(this.typeById.has(r))throw new Error(`Interaction id "${r}" already exists.`);const m=l.filter;let _=l.type;m&&this.filters.set(r,c.aZ(m)),_==="mouseover"&&(_="mouseenter"),_==="mouseout"&&(_="mouseleave");const x=this.interactionsByType.get(_)||new Map;_==="mouseenter"||_==="mouseleave"?(this.delegatedInteractions.size===0&&(this.map.on("mousemove",this.handleMove),this.map.on("mouseout",this.handleOut)),this.delegatedInteractions.set(r,l)):x.size===0&&this.map.on(_,this.handleType),x.size===0&&this.interactionsByType.set(_,x),x.set(r,l),this.typeById.set(r,_)}get(r){const l=this.typeById.get(r);if(!l)return;const m=this.interactionsByType.get(l);return m?m.get(r):void 0}remove(r){const l=this.typeById.get(r);if(!l)return;this.typeById.delete(r),this.filters.delete(r);const m=this.interactionsByType.get(l);m&&(m.delete(r),l==="mouseenter"||l==="mouseleave"?(this.delegatedInteractions.delete(r),this.delegatedInteractions.size===0&&(this.map.off("mousemove",this.handleMove),this.map.off("mouseout",this.handleOut))):m.size===0&&this.map.off(l,this.handleType))}queryTargets(r,l){const m=[];for(const[_,x]of l)x.target&&m.push({targetId:_,target:x.target,filter:this.filters.get(_)});return this.map.style.queryRenderedTargets(r,m,this.map.transform)}handleMove(r){this.prevHoveredFeatures=this.hoveredFeatures,this.hoveredFeatures=new Map;const l=this.queryTargets(r.point,Array.from(this.delegatedInteractions).reverse());l.length&&(r.type="mouseenter",this.handleType(r,l));const m=new Map;for(const[_,{feature:x}]of this.prevHoveredFeatures)this.hoveredFeatures.has(_)||m.set(x.id,x);m.size&&(r.type="mouseleave",this.handleType(r,Array.from(m.values())))}handleOut(r){const l=Array.from(this.hoveredFeatures.values()).map(({feature:m})=>m);l.length&&(r.type="mouseleave",this.handleType(r,l)),this.hoveredFeatures.clear()}handleType(r,l){const m=Array.from(this.interactionsByType.get(r.type)).reverse(),_=!!l;l=l||this.queryTargets(r.point,m);const x=r.type==="mouseenter";let E=!1;const R=new Set;for(const B of l){for(const[V,U]of m){if(!U.target)continue;const Q=B.variants?B.variants[V]:null;if(Q){for(const ee of Q){if(lr(ee,B,R,V))continue;const ce=new c.cw(B,ee),Me=Nn(ee,B,V);_&&(ce.state=this.map.getFeatureState(ce));const Se=x?this.prevHoveredFeatures.get(Me):null,Le=new Kd(r,V,U,ce),Ae=Se?Se.stop:U.handler(Le);if(x&&this.hoveredFeatures.set(Me,{feature:B,stop:Ae}),Ae!==!1){E=!0;break}}if(E)break}}if(E)break}if(!E)for(const[B,V]of m){const{handler:U,target:Q}=V;if(!Q&&U(new Kd(r,B,V,null))!==!1)break}}}function ps(p,r){if(Array.isArray(p)&&Array.isArray(r)){const l=new Set(p),m=new Set(r);return l.size===m.size&&p.every(_=>m.has(_))}return c.bn(p,r)}const qu={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:85,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,cooperativeGestures:!1,performanceMetricsCollection:!0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,antialias:!1,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,minTileCacheSize:null,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",localFontFamily:null,transformRequest:null,accessToken:null,fadeDuration:300,respectPrefersReducedMotion:!0,crossSourceCollisions:!0,collectResourceTiming:!1,testMode:!1,precompilePrograms:!0,scaleFactor:1,spriteFormat:"auto"},Fs={showCompass:!0,showZoom:!0,visualizePitch:!1};class H_{constructor(r,l,m=!1){this._clickTolerance=10,this.element=l,this.mouseRotate=new vu({clickTolerance:r.dragRotate._mouseRotate._clickTolerance}),this.map=r,m&&(this.mousePitch=new Cf({clickTolerance:r.dragRotate._mousePitch._clickTolerance})),c.aP(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),l.addEventListener("mousedown",this.mousedown),l.addEventListener("touchstart",this.touchstart,{passive:!1}),l.addEventListener("touchmove",this.touchmove),l.addEventListener("touchend",this.touchend),l.addEventListener("touchcancel",this.reset)}down(r,l){this.mouseRotate.mousedown(r,l),this.mousePitch&&this.mousePitch.mousedown(r,l),gt()}move(r,l){const m=this.map,_=this.mouseRotate.mousemoveWindow(r,l),x=_&&_.bearingDelta;if(x&&m.setBearing(m.getBearing()+x),this.mousePitch){const E=this.mousePitch.mousemoveWindow(r,l),R=E&&E.pitchDelta;R&&m.setPitch(m.getPitch()+R)}}off(){const r=this.element;r.removeEventListener("mousedown",this.mousedown),r.removeEventListener("touchstart",this.touchstart,{passive:!1}),r.removeEventListener("touchmove",this.touchmove),r.removeEventListener("touchend",this.touchend),r.removeEventListener("touchcancel",this.reset),this.offTemp()}offTemp(){xt(),window.removeEventListener("mousemove",this.mousemove),window.removeEventListener("mouseup",this.mouseup)}mousedown(r){this.down(c.l({},r,{ctrlKey:!0,preventDefault:()=>r.preventDefault()}),yt(this.element,r)),window.addEventListener("mousemove",this.mousemove),window.addEventListener("mouseup",this.mouseup)}mousemove(r){this.move(r,yt(this.element,r))}mouseup(r){this.mouseRotate.mouseupWindow(r),this.mousePitch&&this.mousePitch.mouseupWindow(r),this.offTemp()}touchstart(r){r.targetTouches.length!==1?this.reset():(this._startPos=this._lastPos=Pt(this.element,r.targetTouches)[0],this.down({type:"mousedown",button:0,ctrlKey:!0,preventDefault:()=>r.preventDefault()},this._startPos))}touchmove(r){r.targetTouches.length!==1?this.reset():(this._lastPos=Pt(this.element,r.targetTouches)[0],this.move({preventDefault:()=>r.preventDefault()},this._lastPos))}touchend(r){r.targetTouches.length===0&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset()}reset(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()}}function Sp(p,r,l){if(p=new c.bO(p.lng,p.lat),r){const m=new c.bO(p.lng-360,p.lat),_=new c.bO(p.lng+360,p.lat),x=360*Math.ceil(Math.abs(p.lng-l.center.lng)/360),E=l.locationPoint(p).distSqr(r),R=r.x<0||r.y<0||r.x>l.width||r.y>l.height;l.locationPoint(m).distSqr(r)<E&&(R||Math.abs(m.lng-l.center.lng)<x)?p=m:l.locationPoint(_).distSqr(r)<E&&(R||Math.abs(_.lng-l.center.lng)<x)&&(p=_)}for(;Math.abs(p.lng-l.center.lng)>180;){const m=l.locationPoint(p);if(m.x>=0&&m.y>=0&&m.x<=l.width&&m.y<=l.height)break;p.lng>l.center.lng?p.lng-=360:p.lng+=360}return p}const _u={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};class Dc extends c.E{constructor(r,l){if(super(),(r instanceof HTMLElement||l)&&(r=c.l({element:r},l)),c.aP(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress","_clearFadeTimer"],this),this._anchor=r&&r.anchor||"center",this._color=r&&r.color||"#3FB1CE",this._scale=r&&r.scale||1,this._draggable=r&&r.draggable||!1,this._clickTolerance=r&&r.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=r&&r.rotation||0,this._rotationAlignment=r&&r.rotationAlignment||"auto",this._pitchAlignment=r&&r.pitchAlignment&&r.pitchAlignment||"auto",this._updateMoving=()=>this._update(!0),this._occludedOpacity=r&&r.occludedOpacity||.2,r&&r.element)this._element=r.element,this._offset=c.P.convert(r&&r.offset||[0,0]);else{this._defaultMarker=!0,this._element=Ee("div");const x=41,E=27,R=He("svg",{display:"block",height:x*this._scale+"px",width:E*this._scale+"px",viewBox:`0 0 ${E} ${x}`},this._element),B=He("radialGradient",{id:"shadowGradient"},He("defs",{},R));He("stop",{offset:"10%","stop-opacity":.4},B),He("stop",{offset:"100%","stop-opacity":.05},B),He("ellipse",{cx:13.5,cy:34.8,rx:10.5,ry:5.25,fill:"url(#shadowGradient)"},R),He("path",{fill:this._color,d:"M27,13.5C27,19.07 20.25,27 14.75,34.5C14.02,35.5 12.98,35.5 12.25,34.5C6.75,27 0,19.22 0,13.5C0,6.04 6.04,0 13.5,0C20.96,0 27,6.04 27,13.5Z"},R),He("path",{opacity:.25,d:"M13.5,0C6.04,0 0,6.04 0,13.5C0,19.22 6.75,27 12.25,34.5C13,35.52 14.02,35.5 14.75,34.5C20.25,27 27,19.07 27,13.5C27,6.04 20.96,0 13.5,0ZM13.5,1C20.42,1 26,6.58 26,13.5C26,15.9 24.5,19.18 22.22,22.74C19.95,26.3 16.71,30.14 13.94,33.91C13.74,34.18 13.61,34.32 13.5,34.44C13.39,34.32 13.26,34.18 13.06,33.91C10.28,30.13 7.41,26.31 5.02,22.77C2.62,19.23 1,15.95 1,13.5C1,6.58 6.58,1 13.5,1Z"},R),He("circle",{fill:"white",cx:13.5,cy:13.5,r:5.5},R),this._offset=c.P.convert(r&&r.offset||[0,-14])}this._element.hasAttribute("aria-label")||this._element.setAttribute("aria-label","Map marker"),this._element.hasAttribute("role")||this._element.setAttribute("role","img"),this._element.classList.add("mapboxgl-marker"),this._element.addEventListener("dragstart",x=>{x.preventDefault()}),this._element.addEventListener("mousedown",x=>{x.preventDefault()});const m=this._element.classList;for(const x in _u)m.remove(`mapboxgl-marker-anchor-${x}`);m.add(`mapboxgl-marker-anchor-${this._anchor}`);const _=r&&r.className?r.className.trim().split(/\s+/):[];m.add(..._),this._popup=null}addTo(r){return r===this._map||(this.remove(),this._map=r,r.getCanvasContainer().appendChild(this._element),r.on("move",this._updateMoving),r.on("moveend",this._update),r.on("remove",this._clearFadeTimer),r._addMarker(this),this.setDraggable(this._draggable),this._update(),r.on("click",this._onMapClick)),this}remove(){const r=this._map;return r&&(r.off("click",this._onMapClick),r.off("move",this._updateMoving),r.off("moveend",this._update),r.off("mousedown",this._addDragHandler),r.off("touchstart",this._addDragHandler),r.off("mouseup",this._onUp),r.off("touchend",this._onUp),r.off("mousemove",this._onMove),r.off("touchmove",this._onMove),r.off("remove",this._clearFadeTimer),r._removeMarker(this),this._map=void 0),this._clearFadeTimer(),this._element.remove(),this._popup&&this._popup.remove(),this}getLngLat(){return this._lngLat}setLngLat(r){return this._lngLat=c.bO.convert(r),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(!0),this}getElement(){return this._element}setPopup(r){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeAttribute("role"),this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),r){if(!("offset"in r.options)){const _=Math.sqrt(Math.pow(13.5,2)/2);r.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[_,-1*(38.1-13.5+_)],"bottom-right":[-_,-1*(38.1-13.5+_)],left:[13.5,-1*(38.1-13.5)],right:[-13.5,-1*(38.1-13.5)]}:this._offset}this._popup=r,r._marker=this,this._lngLat&&this._popup.setLngLat(this._lngLat),this._element.setAttribute("role","button"),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress),this._element.setAttribute("aria-expanded","false")}return this}_onKeyPress(r){const l=r.code,m=r.charCode||r.keyCode;l!=="Space"&&l!=="Enter"&&m!==32&&m!==13||this.togglePopup()}_onMapClick(r){const l=r.originalEvent.target,m=this._element;this._popup&&(l===m||m.contains(l))&&this.togglePopup()}getPopup(){return this._popup}togglePopup(){const r=this._popup;return r?(r.isOpen()?(r.remove(),this._element.setAttribute("aria-expanded","false")):this._map&&(r.addTo(this._map),this._element.setAttribute("aria-expanded","true")),this):this}_behindTerrain(){const r=this._map,l=this._pos;if(!r||!l)return!1;const m=r.unproject(l),_=r.getFreeCameraOptions();if(!_.position)return!1;const x=_.position.toLngLat();return x.distanceTo(m)<.9*x.distanceTo(this._lngLat)}_evaluateOpacity(){const r=this._map;if(!r)return;const l=this._pos;if(!l||l.x<0||l.x>r.transform.width||l.y<0||l.y>r.transform.height)return void this._clearFadeTimer();const m=r.unproject(l);let _;r._showingGlobe()&&c.dH(r.transform,this._lngLat)?_=0:(_=1-r._queryFogOpacity(m),r.transform._terrainEnabled()&&r.getTerrain()&&this._behindTerrain()&&(_*=this._occludedOpacity)),this._element.style.opacity=`${_}`,this._element.style.pointerEvents=_>0?"auto":"none",this._popup&&this._popup._setOpacity(_),this._fadeTimer=null}_clearFadeTimer(){this._fadeTimer&&(clearTimeout(this._fadeTimer),this._fadeTimer=null)}_updateDOM(){const r=this._pos;if(!r||!this._map)return;const l=this._offset.mult(this._scale);this._element.style.transform=`
            translate(${r.x}px,${r.y}px)
            ${_u[this._anchor]}
            ${this._calculateXYTransform()} ${this._calculateZTransform()}
            translate(${l.x}px,${l.y}px)
        `}_calculateXYTransform(){const r=this._pos,l=this._map,m=this.getPitchAlignment();if(!l||!r||m!=="map")return"";if(!l._showingGlobe()){const B=l.getPitch();return B?`rotateX(${B}deg)`:""}const _=c.c4(c.dI(l.transform,this._lngLat)),x=r.sub(c.dJ(l.transform)),E=Math.abs(x.x)+Math.abs(x.y);if(E===0)return"";const R=_/E;return`rotateX(${-x.y*R}deg) rotateY(${x.x*R}deg)`}_calculateZTransform(){const r=this._pos,l=this._map;if(!l||!r)return"";let m=0;const _=this.getRotationAlignment();if(_==="map")if(l._showingGlobe()){const x=l.project(new c.bO(this._lngLat.lng,this._lngLat.lat+.001)),E=l.project(new c.bO(this._lngLat.lng,this._lngLat.lat-.001)).sub(x);m=c.c4(Math.atan2(E.y,E.x))-90}else m=-l.getBearing();else if(_==="horizon"){const x=c.ac(4,6,l.getZoom()),E=c.dJ(l.transform);E.y+=x*l.transform.height;const R=r.sub(E),B=c.c4(Math.atan2(R.y,R.x));m=(B>90?B-270:B+90)*(1-x)}return m+=this._rotation,m?`rotateZ(${m}deg)`:""}_update(r){cancelAnimationFrame(this._updateFrameId);const l=this._map;l&&(l.transform.renderWorldCopies&&(this._lngLat=Sp(this._lngLat,this._pos,l.transform)),this._pos=l.project(this._lngLat),r===!0?this._updateFrameId=requestAnimationFrame(()=>{this._element&&this._pos&&this._anchor&&(this._pos=this._pos.round(),this._updateDOM())}):this._pos=this._pos.round(),l._requestDomTask(()=>{this._map&&(this._element&&this._pos&&this._anchor&&this._updateDOM(),(l._showingGlobe()||l.getTerrain()||l.getFog())&&!this._fadeTimer&&(this._fadeTimer=window.setTimeout(this._evaluateOpacity.bind(this),60)))}))}getOffset(){return this._offset}setOffset(r){return this._offset=c.P.convert(r),this._update(),this}addClassName(r){return this._element.classList.add(r),this}removeClassName(r){return this._element.classList.remove(r),this}toggleClassName(r){return this._element.classList.toggle(r)}_onMove(r){const l=this._map;if(!l)return;const m=this._pointerdownPos,_=this._positionDelta;if(m&&_){if(!this._isDragging){const x=this._clickTolerance||l._clickTolerance;if(r.point.dist(m)<x)return;this._isDragging=!0}this._pos=r.point.sub(_),this._lngLat=l.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none",this._state==="pending"&&(this._state="active",this.fire(new c.z("dragstart"))),this.fire(new c.z("drag"))}}_onUp(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1;const r=this._map;r&&(r.off("mousemove",this._onMove),r.off("touchmove",this._onMove)),this._state==="active"&&this.fire(new c.z("dragend")),this._state="inactive"}_addDragHandler(r){const l=this._map,m=this._pos;l&&m&&this._element.contains(r.originalEvent.target)&&(r.preventDefault(),this._positionDelta=r.point.sub(m),this._pointerdownPos=r.point,this._state="pending",l.on("mousemove",this._onMove),l.on("touchmove",this._onMove),l.once("mouseup",this._onUp),l.once("touchend",this._onUp))}setDraggable(r){this._draggable=!!r;const l=this._map;return l&&(r?(l.on("mousedown",this._addDragHandler),l.on("touchstart",this._addDragHandler)):(l.off("mousedown",this._addDragHandler),l.off("touchstart",this._addDragHandler))),this}isDraggable(){return this._draggable}setRotation(r){return this._rotation=r||0,this._update(),this}getRotation(){return this._rotation}setRotationAlignment(r){return this._rotationAlignment=r||"auto",this._update(),this}getRotationAlignment(){return this._rotationAlignment==="auto"||this._rotationAlignment==="horizon"&&this._map&&!this._map._showingGlobe()?"viewport":this._rotationAlignment}setPitchAlignment(r){return this._pitchAlignment=r||"auto",this._update(),this}getPitchAlignment(){return this._pitchAlignment==="auto"?this.getRotationAlignment():this._pitchAlignment}setOccludedOpacity(r){return this._occludedOpacity=r||.2,this._update(),this}getOccludedOpacity(){return this._occludedOpacity}}const Ol={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0,showUserHeading:!1},Bc={maxWidth:100,unit:"metric"},dc={kilometer:"km",meter:"m",mile:"mi",foot:"ft","nautical-mile":"nm"},Am={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},rl=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", ");function Dm(p=new c.P(0,0),r="bottom"){if(typeof p=="number"){const l=Math.round(Math.sqrt(.5*Math.pow(p,2)));switch(r){case"top":return new c.P(0,p);case"top-left":return new c.P(l,l);case"top-right":return new c.P(-l,l);case"bottom":return new c.P(0,-p);case"bottom-left":return new c.P(l,-l);case"bottom-right":return new c.P(-l,-l);case"left":return new c.P(p,0);case"right":return new c.P(-p,0)}return new c.P(0,0)}return p instanceof c.P||Array.isArray(p)?c.P.convert(p):c.P.convert(p[r]||[0,0])}return{version:xe,supported:je.supported,setRTLTextPlugin:c.dK,getRTLTextPluginStatus:c.dL,Map:class extends Ef{constructor(p){ze.mark(Ge.create);const r=p;if((p=c.l({},qu,p)).minZoom!=null&&p.maxZoom!=null&&p.minZoom>p.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(p.minPitch!=null&&p.maxPitch!=null&&p.minPitch>p.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(p.minPitch!=null&&p.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(p.maxPitch!=null&&p.maxPitch>85)throw new Error("maxPitch must be less than or equal to 85");if(p.antialias&&c.dF(window)&&(p.antialias=!1,c.w("Antialiasing is disabled for this WebGL context to avoid browser bug: https://github.com/mapbox/mapbox-gl-js/issues/11609")),super(new Yc(p.minZoom,p.maxZoom,p.minPitch,p.maxPitch,p.renderWorldCopies),p),this._repaint=!!p.repaint,this._interactive=p.interactive,this._minTileCacheSize=p.minTileCacheSize,this._maxTileCacheSize=p.maxTileCacheSize,this._failIfMajorPerformanceCaveat=p.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=p.preserveDrawingBuffer,this._antialias=p.antialias,this._trackResize=p.trackResize,this._bearingSnap=p.bearingSnap,this._refreshExpiredTiles=p.refreshExpiredTiles,this._fadeDuration=p.fadeDuration,this._isInitialLoad=!0,this._crossSourceCollisions=p.crossSourceCollisions,this._collectResourceTiming=p.collectResourceTiming,this._language=this._parseLanguage(p.language),this._worldview=p.worldview,this._renderTaskQueue=new Cc,this._domRenderTaskQueue=new Cc,this._controls=[],this._markers=[],this._popups=[],this._mapId=c.aV(),this._locale=c.l({},Gd,p.locale),this._clickTolerance=p.clickTolerance,this._cooperativeGestures=p.cooperativeGestures,this._performanceMetricsCollection=p.performanceMetricsCollection,this._tessellationStep=p.tessellationStep,this._containerWidth=0,this._containerHeight=0,this._showParseStatus=!0,this._precompilePrograms=p.precompilePrograms,this._scaleFactorChanged=!1,this._averageElevationLastSampledAt=-1/0,this._averageElevationExaggeration=0,this._averageElevation=new If(0),this._interactionRange=[1/0,-1/0],this._visibilityHidden=0,this._useExplicitProjection=!1,this._frameId=0,this._scaleFactor=p.scaleFactor,this._requestManager=new Xn(p.transformRequest,p.accessToken,p.testMode),this._silenceAuthErrors=!!p.testMode,this._contextCreateOptions=p.contextCreateOptions?Object.assign({},p.contextCreateOptions):{},typeof p.container=="string"){const l=document.getElementById(p.container);if(!l)throw new Error(`Container '${p.container.toString()}' not found.`);this._container=l}else{if(!(p.container instanceof HTMLElement))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=p.container}if(this._container.childNodes.length>0&&c.w("The map container element should be empty, otherwise the map's interactivity will be negatively impacted. If you want to display a message when WebGL is not supported, use the Mapbox GL Supported plugin instead."),p.maxBounds&&this.setMaxBounds(p.maxBounds),this._spriteFormat=p.spriteFormat,c.aP(["_onWindowOnline","_onWindowResize","_onVisibilityChange","_onMapScroll","_contextLost","_contextRestored"],this),this._setupContainer(),this._tp||(this._tp=new Em),this._tp.registerParameter(this,["Debug"],"showOverdrawInspector"),this._tp.registerParameter(this,["Debug"],"showTileBoundaries"),this._tp.registerParameter(this,["Debug"],"showParseStatus"),this._tp.registerParameter(this,["Debug"],"repaint"),this._tp.registerParameter(this,["Debug"],"showTileAABBs"),this._tp.registerParameter(this,["Debug"],"showPadding"),this._tp.registerParameter(this,["Debug"],"showCollisionBoxes",{noSave:!0}),this._tp.registerParameter(this.transform,["Debug"],"freezeTileCoverage",{noSave:!0},()=>{this._update()}),this._tp.registerParameter(this,["Debug","Wireframe"],"showTerrainWireframe"),this._tp.registerParameter(this,["Debug","Wireframe"],"showLayers2DWireframe"),this._tp.registerParameter(this,["Debug","Wireframe"],"showLayers3DWireframe"),this._tp.registerParameter(this,["Scaling"],"_scaleFactor",{min:.1,max:10,step:.1},()=>{this.setScaleFactor(this._scaleFactor)}),this._setupPainter(),this.painter===void 0)throw new Error("Failed to initialize WebGL.");if(this.on("move",()=>this._update(!1)),this.on("moveend",()=>this._update(!1)),this.on("zoom",()=>this._update(!0)),this._fullscreenchangeEvent="onfullscreenchange"in document?"fullscreenchange":"webkitfullscreenchange",window.addEventListener("online",this._onWindowOnline,!1),window.addEventListener("resize",this._onWindowResize,!1),window.addEventListener("orientationchange",this._onWindowResize,!1),window.addEventListener(this._fullscreenchangeEvent,this._onWindowResize,!1),window.addEventListener("visibilitychange",this._onVisibilityChange,!1),this.handlers=new s0(this,p),this._localFontFamily=p.localFontFamily,this._localIdeographFontFamily=p.localIdeographFontFamily,(p.style||!p.testMode)&&this.setStyle(p.style||c.e.DEFAULT_STYLE,{config:p.config,localFontFamily:this._localFontFamily,localIdeographFontFamily:this._localIdeographFontFamily}),p.projection&&this.setProjection(p.projection),this.indoor=new ea(this),p.hash&&(this._hash=new Jg(typeof p.hash=="string"&&p.hash||void 0).addTo(this)),!this._hash||!this._hash._onHashChange()){r.center==null&&r.zoom==null||(this.transform._unmodified=!1),this.jumpTo({center:p.center,zoom:p.zoom,bearing:p.bearing,pitch:p.pitch});const l=p.bounds;l&&(this.resize(),this.fitBounds(l,c.l({},p.fitBoundsOptions,{duration:0})))}this.resize(),p.attributionControl&&this.addControl(new Cp({customAttribution:p.customAttribution})),this._logoControl=new xc,this.addControl(this._logoControl,p.logoPosition),this.on("style.load",()=>{this.transform.unmodified&&this.jumpTo(this.style.stylesheet),this._postStyleLoadEvent()}),this.on("data",l=>{this._update(l.dataType==="style"),this.fire(new c.z(`${l.dataType}data`,l))}),this.on("dataloading",l=>{this.fire(new c.z(`${l.dataType}dataloading`,l))}),this._interactions=new $m(this)}_getMapId(){return this._mapId}addControl(p,r){if(r===void 0&&(r=p.getDefaultPosition?p.getDefaultPosition():"top-right"),!p||!p.onAdd)return this.fire(new c.y(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));const l=p.onAdd(this);this._controls.push(p);const m=this._controlPositions[r];return r.indexOf("bottom")!==-1?m.insertBefore(l,m.firstChild):m.appendChild(l),this}removeControl(p){if(!p||!p.onRemove)return this.fire(new c.y(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));const r=this._controls.indexOf(p);return r>-1&&this._controls.splice(r,1),p.onRemove(this),this}hasControl(p){return this._controls.indexOf(p)>-1}getContainer(){return this._container}getCanvasContainer(){return this._canvasContainer}getCanvas(){return this._canvas}resize(p){if(this._updateContainerDimensions(),this._containerWidth===this.transform.width&&this._containerHeight===this.transform.height)return this;this._resizeCanvas(this._containerWidth,this._containerHeight),this.transform.resize(this._containerWidth,this._containerHeight),this.painter.resize(Math.ceil(this._containerWidth),Math.ceil(this._containerHeight));const r=!this._moving;return r&&this.fire(new c.z("movestart",p)).fire(new c.z("move",p)),this.fire(new c.z("resize",p)),r&&this.fire(new c.z("moveend",p)),this}getBounds(){return this.transform.getBounds()}getMaxBounds(){return this.transform.getMaxBounds()||null}setMaxBounds(p){return this.transform.setMaxBounds(c.az.convert(p)),this._update()}setMinZoom(p){if((p=p!=null?p:-2)>=-2&&p<=this.transform.maxZoom)return this.transform.minZoom=p,this._update(),this.getZoom()<p?this.setZoom(p):this.fire(new c.z("zoomstart")).fire(new c.z("zoom")).fire(new c.z("zoomend")),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")}getMinZoom(){return this.transform.minZoom}setMaxZoom(p){if((p=p!=null?p:22)>=this.transform.minZoom)return this.transform.maxZoom=p,this._update(),this.getZoom()>p?this.setZoom(p):this.fire(new c.z("zoomstart")).fire(new c.z("zoom")).fire(new c.z("zoomend")),this;throw new Error("maxZoom must be greater than the current minZoom")}getMaxZoom(){return this.transform.maxZoom}setMinPitch(p){if((p=p!=null?p:0)<0)throw new Error("minPitch must be greater than or equal to 0");if(p>=0&&p<=this.transform.maxPitch)return this.transform.minPitch=p,this._update(),this.getPitch()<p?this.setPitch(p):this.fire(new c.z("pitchstart")).fire(new c.z("pitch")).fire(new c.z("pitchend")),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")}getMinPitch(){return this.transform.minPitch}setMaxPitch(p){if((p=p!=null?p:85)>85)throw new Error("maxPitch must be less than or equal to 85");if(p>=this.transform.minPitch)return this.transform.maxPitch=p,this._update(),this.getPitch()>p?this.setPitch(p):this.fire(new c.z("pitchstart")).fire(new c.z("pitch")).fire(new c.z("pitchend")),this;throw new Error("maxPitch must be greater than or equal to minPitch")}getMaxPitch(){return this.transform.maxPitch}getScaleFactor(){return this._scaleFactor}setScaleFactor(p){return this._scaleFactor=p,this.painter.scaleFactor=p,this._tp.refreshUI(),this._scaleFactorChanged=!0,this.style._updateFilteredLayers(r=>r.type==="symbol"),this._update(!0),this}getRenderWorldCopies(){return this.transform.renderWorldCopies}setRenderWorldCopies(p){return this.transform.renderWorldCopies=p,this.transform.renderWorldCopies||this._forceMarkerAndPopupUpdate(!0),this._update()}getLanguage(){return this._language}_parseLanguage(p){return p==="auto"?navigator.language:Array.isArray(p)?p.length===0?void 0:p.map(r=>r==="auto"?navigator.language:r):p}setLanguage(p){const r=this._parseLanguage(p);if(!this.style||r===this._language)return this;this._language=r,this.style.reloadSources();for(const l of this._controls)l._setLanguage&&l._setLanguage(this._language);return this}getWorldview(){return this._worldview}setWorldview(p){return this.style&&p!==this._worldview?(this._worldview=p,this.style.reloadSources(),this):this}getProjection(){return this.transform.mercatorFromTransition?{name:"globe",center:[0,0]}:this.transform.getProjection()}_showingGlobe(){return this.transform.projection.name==="globe"}setProjection(p){return this._lazyInitEmptyStyle(),p?typeof p=="string"&&(p={name:p}):p=null,this._useExplicitProjection=!!p,this._prioritizeAndUpdateProjection(p,this.style.projection)}_updateProjectionTransition(){if(this.getProjection().name!=="globe")return;const p=this.transform,r=p.projection.name;let l;r==="globe"&&p.zoom>=c.bY?(p.setMercatorFromTransition(),l=!0):r==="mercator"&&p.zoom<c.bY&&(p.setProjection({name:"globe"}),l=!0),l&&(this.style.applyProjectionUpdate(),this.style._forceSymbolLayerUpdate())}_prioritizeAndUpdateProjection(p,r){return this._updateProjection(p||r||{name:"mercator"})}_updateProjection(p){let r;return r=p.name==="globe"&&this.transform.zoom>=c.bY?this.transform.setMercatorFromTransition():this.transform.setProjection(p),this.style.applyProjectionUpdate(),r&&(this.painter.clearBackgroundTiles(),this.style.clearSources(),this._update(!0),this._forceMarkerAndPopupUpdate(!0)),this}project(p){return this.transform.locationPoint3D(c.bO.convert(p))}unproject(p){return this.transform.pointLocation3D(c.P.convert(p))}isMoving(){return this._moving||this.handlers&&this.handlers.isMoving()||!1}isZooming(){return this._zooming||this.handlers&&this.handlers.isZooming()||!1}isRotating(){return this._rotating||this.handlers&&this.handlers.isRotating()||!1}_isDragging(){return this.handlers&&this.handlers._isDragging()||!1}_createDelegatedListener(p,r,l){const m=_=>{let x=[];if(Array.isArray(r)){const E=r.filter(R=>this.getLayer(R));x=E.length?this.queryRenderedFeatures(_,{layers:E}):[]}else x=this.queryRenderedFeatures(_,{target:r});return x};if(p==="mouseenter"||p==="mouseover"){let _=!1;return{listener:l,targets:r,delegates:{mousemove:E=>{const R=m(E.point);R.length?_||(_=!0,l.call(this,new Hc(p,this,E.originalEvent,{features:R}))):_=!1},mouseout:()=>{_=!1}}}}if(p==="mouseleave"||p==="mouseout"){let _=!1;return{listener:l,targets:r,delegates:{mousemove:R=>{m(R.point).length?_=!0:_&&(_=!1,l.call(this,new Hc(p,this,R.originalEvent)))},mouseout:R=>{_&&(_=!1,l.call(this,new Hc(p,this,R.originalEvent)))}}}}{const _=x=>{const E=m(x.point);E.length&&(x.features=E,l.call(this,x),delete x.features)};return{listener:l,targets:r,delegates:{[p]:_}}}}on(p,r,l){if(typeof r=="function"||l===void 0)return super.on(p,r);if(typeof r=="string"&&(r=[r]),!this._areTargetsValid(r))return this;const m=this._createDelegatedListener(p,r,l);this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[p]=this._delegatedListeners[p]||[],this._delegatedListeners[p].push(m);for(const _ in m.delegates)this.on(_,m.delegates[_]);return this}once(p,r,l){if(typeof r=="function"||l===void 0)return super.once(p,r);if(typeof r=="string"&&(r=[r]),!this._areTargetsValid(r))return this;const m=this._createDelegatedListener(p,r,l);for(const _ in m.delegates)this.once(_,m.delegates[_]);return this}off(p,r,l){if(typeof r=="function"||l===void 0)return super.off(p,r);if(typeof r=="string"&&(r=[r]),!this._areTargetsValid(r))return this;const m=this._delegatedListeners?this._delegatedListeners[p]:void 0;return m&&(_=>{for(let x=0;x<_.length;x++){const E=_[x];if(E.listener===l&&ps(E.targets,r)){for(const R in E.delegates)this.off(R,E.delegates[R]);return _.splice(x,1),this}}})(m),this}queryRenderedFeatures(p,r){if(!this.style)return[];if(p===void 0||p instanceof c.P||Array.isArray(p)||r!==void 0||(r=p,p=void 0),p=p||[[0,0],[this.transform.width,this.transform.height]],!r){const x=this.style.queryRenderedFeatures(p,void 0,this.transform),E=this.style.queryRenderedFeatureset(p,void 0,this.transform);return x.concat(E)}let l=!0;if(r.target&&(l=this._isTargetValid(r.target),l&&!r.layers))return this.style.queryRenderedFeatureset(p,r,this.transform);let m=!0;if(r.layers&&Array.isArray(r.layers)){for(const x of r.layers)if(!this._isValidId(x)){m=!1;break}if(m&&!r.target)return this.style.queryRenderedFeatures(p,r,this.transform)}let _=[];return m&&(_=_.concat(this.style.queryRenderedFeatures(p,r,this.transform))),l&&(_=_.concat(this.style.queryRenderedFeatureset(p,r,this.transform))),_}querySourceFeatures(p,r){return!p||typeof p=="string"&&!this._isValidId(p)?[]:this.style.querySourceFeatures(p,r)}isPointOnSurface(p){const{name:r}=this.transform.projection;return r!=="globe"&&r!=="mercator"&&c.w(`${r} projection does not support isPointOnSurface, this API may behave unexpectedly.`),this.transform.isPointOnSurface(c.P.convert(p))}addInteraction(p,r){return this._interactions.add(p,r),this}removeInteraction(p){return this._interactions.remove(p),this}setStyle(p,r){return r=c.l({},{localIdeographFontFamily:this._localIdeographFontFamily,localFontFamily:this._localFontFamily},r),this.style&&p&&r.diff!==!1&&r.localFontFamily===this._localFontFamily&&r.localIdeographFontFamily===this._localIdeographFontFamily&&!r.config?(this.style._diffStyle(p,(l,m)=>{l?(c.w(`Unable to perform style diff: ${String(l.message||l.error||l)}. Rebuilding the style from scratch.`),this._updateStyle(p,r)):m&&this._update(!0)},()=>{this._postStyleLoadEvent()}),this):(this._localIdeographFontFamily=r.localIdeographFontFamily,this._localFontFamily=r.localFontFamily,this._updateStyle(p,r))}_getUIString(p){const r=this._locale[p];if(r==null)throw new Error(`Missing UI string '${p}'`);return r}_updateStyle(p,r){if(this.style&&(this.style.setEventedParent(null),this.style._remove(),this.style=void 0),p){const l=c.l({},r);r&&r.config&&(l.initialConfig=r.config,delete l.config),this.style=new ns(this,l).load(p),this.style.setEventedParent(this,{style:this.style})}return this._updateTerrain(),this}_lazyInitEmptyStyle(){this.style||(this.style=new ns(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())}getStyle(){if(this.style)return this.style.serialize()}isStyleLoaded(){return this.style?this.style.loaded():(c.w("There is no style added to the map."),!1)}_isValidId(p){return p==null?(this.fire(new c.y(new Error("IDs can't be empty."))),!1):!c.cr(p)||(this.fire(new c.y(new Error(`IDs can't contain special symbols: "${p}".`))),!1)}_isTargetValid(p){return"featuresetId"in p?this._isValidId("importId"in p?p.importId:p.featuresetId):"layerId"in p&&this._isValidId(p.layerId)}_areTargetsValid(p){if(Array.isArray(p)){for(const r of p)if(!this._isValidId(r))return!1;return!0}return this._isTargetValid(p)}addSource(p,r){return this._isValidId(p)?(this._lazyInitEmptyStyle(),this.style.addSource(p,r),this._update(!0)):this}isSourceLoaded(p){return!!this._isValidId(p)&&!!this.style&&this.style._isSourceCacheLoaded(p)}areTilesLoaded(){return this.style.areTilesLoaded()}addSourceType(p,r,l){this._lazyInitEmptyStyle(),this.style.addSourceType(p,r,l)}removeSource(p){return this._isValidId(p)?(this.style.removeSource(p),this._updateTerrain(),this._update(!0)):this}getSource(p){return this._isValidId(p)?this.style.getOwnSource(p):null}addImage(p,r,{pixelRatio:l=1,sdf:m=!1,stretchX:_,stretchY:x,content:E}={}){if(this._lazyInitEmptyStyle(),r instanceof HTMLImageElement||ImageBitmap&&r instanceof ImageBitmap){const{width:R,height:B,data:V}=c.q.getImageData(r);this.style.addImage(p,{data:new c.r({width:R,height:B},V),pixelRatio:l,stretchX:_,stretchY:x,content:E,sdf:m,version:0,usvg:!1})}else if(r.width===void 0||r.height===void 0)this.fire(new c.y(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));else{const{width:R,height:B}=r,V=r;this.style.addImage(p,{data:new c.r({width:R,height:B},new Uint8Array(V.data)),pixelRatio:l,stretchX:_,stretchY:x,content:E,sdf:m,usvg:!1,version:0,userImage:V}),V.onAdd&&V.onAdd(this,p)}}updateImage(p,r){this._lazyInitEmptyStyle();const l=this.style.getImage(p);if(!l)return void this.fire(new c.y(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));const m=r instanceof HTMLImageElement||ImageBitmap&&r instanceof ImageBitmap?c.q.getImageData(r):r,{width:_,height:x,data:E}=m;if(_===void 0||x===void 0)return void this.fire(new c.y(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));if(_!==(l.usvg?l.icon.usvg_tree.width:l.data.width)||x!==(l.usvg?l.icon.usvg_tree.height:l.data.height))return void this.fire(new c.y(new Error(`The width and height of the updated image (${_}, ${x})
                must be that same as the previous version of the image
                (${l.data.width}, ${l.data.height})`)));const R=!(r instanceof HTMLImageElement||ImageBitmap&&r instanceof ImageBitmap);let B=!1;l.usvg?(l.data=new c.r({width:_,height:x},new Uint8Array(E)),l.usvg=!1,l.icon=void 0,B=!0):l.data.replace(E,R),this.style.updateImage(p,l,B)}hasImage(p){return p?!!this.style&&!!this.style.getImage(p):(this.fire(new c.y(new Error("Missing required image id"))),!1)}removeImage(p){this.style.removeImage(p)}loadImage(p,r){c.o(this._requestManager.transformRequest(p,c.R.Image),(l,m)=>{r(l,m instanceof HTMLImageElement?c.q.getImageData(m):m)})}listImages(){return this.style.listImages()}addModel(p,r){this._lazyInitEmptyStyle(),this.style.addModel(p,r)}hasModel(p){return p?this.style.hasModel(p):(this.fire(new c.y(new Error("Missing required model id"))),!1)}removeModel(p){this.style.removeModel(p)}listModels(){return this.style.listModels()}addLayer(p,r){return this._isValidId(p.id)?(this._lazyInitEmptyStyle(),this.style.addLayer(p,r),this._update(!0)):this}getSlot(p){const r=this.getLayer(p);return r&&r.slot||null}setSlot(p,r){return this.style.setSlot(p,r),this.style.mergeLayers(),this._update(!0)}addImport(p,r){return this.style.addImport(p,r),this}updateImport(p,r){return typeof r!="string"&&r.id!==p?(this.removeImport(p),this.addImport(r)):(this.style.updateImport(p,r),this._update(!0))}removeImport(p){return this.style.removeImport(p),this}moveImport(p,r){return this.style.moveImport(p,r),this._update(!0)}moveLayer(p,r){return this._isValidId(p)?(this.style.moveLayer(p,r),this._update(!0)):this}removeLayer(p){return this._isValidId(p)?(this.style.removeLayer(p),this._update(!0)):this}getLayer(p){if(!this._isValidId(p))return null;const r=this.style.getOwnLayer(p);return r?r.type==="custom"?r.implementation:r.serialize():void 0}getSlots(){return this.style.getSlots()}setLayerZoomRange(p,r,l){return this._isValidId(p)?(this.style.setLayerZoomRange(p,r,l),this._update(!0)):this}setFilter(p,r,l={}){return this._isValidId(p)?(this.style.setFilter(p,r,l),this._update(!0)):this}getFilter(p){return this._isValidId(p)?this.style.getFilter(p):null}setPaintProperty(p,r,l,m={}){return this._isValidId(p)?(this.style.setPaintProperty(p,r,l,m),this._update(!0)):this}getPaintProperty(p,r){return this._isValidId(p)?this.style.getPaintProperty(p,r):null}setLayoutProperty(p,r,l,m={}){return this._isValidId(p)?(this.style.setLayoutProperty(p,r,l,m),this._update(!0)):this}getLayoutProperty(p,r){return this._isValidId(p)?this.style.getLayoutProperty(p,r):null}getSchema(p){return this.style.getSchema(p)}setSchema(p,r){return this.style.setSchema(p,r),this._update(!0)}getConfig(p){return this.style.getConfig(p)}setConfig(p,r){return this.style.setConfig(p,r),this._update(!0)}getConfigProperty(p,r){return this.style.getConfigProperty(p,r)}setConfigProperty(p,r,l){return this.style.setConfigProperty(p,r,l),this._update(!0)}getFeaturesetDescriptors(p){return this.style.getFeaturesetDescriptors(p)}setLights(p){if(this._lazyInitEmptyStyle(),p&&p.length===1&&p[0].type==="flat"){const r=p[0];r.properties?this.style.setFlatLight(r.properties,r.id,{}):this.style.setFlatLight({},"flat")}else this.style.setLights(p),this.painter.terrain&&(this.painter.terrain.invalidateRenderCache=!0);return this._update(!0)}getLights(){const p=this.style.getLights()||[];return p.length===0&&p.push({id:this.style.light.id,type:"flat",properties:this.style.getFlatLight()}),p}setLight(p,r={}){return console.log("The `map.setLight` function is deprecated, prefer using `map.setLights` with `flat` light type instead."),this.setLights([{id:"flat",type:"flat",properties:p}])}getLight(){return console.log("The `map.getLight` function is deprecated, prefer using `map.getLights` instead."),this.style.getFlatLight()}setTerrain(p){return this._lazyInitEmptyStyle(),!p&&this.transform.projection.requiresDraping?this.style.setTerrainForDraping():this.style.setTerrain(p),this._averageElevationLastSampledAt=-1/0,this._update(!0)}getTerrain(){return this.style?this.style.getTerrain():null}setFog(p){return this._lazyInitEmptyStyle(),this.style.setFog(p),this._update(!0)}getFog(){return this.style?this.style.getFog():null}setSnow(p){return this._lazyInitEmptyStyle(),this.style.setSnow(p),this._update(!0)}getSnow(){return this.style?this.style.getSnow():null}setRain(p){return this._lazyInitEmptyStyle(),this.style.setRain(p),this._update(!0)}getRain(){return this.style?this.style.getRain():null}setColorTheme(p){return this._lazyInitEmptyStyle(),this.style.setColorTheme(p),this._update(!0)}setImportColorTheme(p,r){return this._lazyInitEmptyStyle(),this.style.setImportColorTheme(p,r),this._update(!0)}setCamera(p){return this.style.setCamera(p),this._triggerCameraUpdate(p)}_triggerCameraUpdate(p){return this._update(this.transform.setOrthographicProjectionAtLowPitch(p["camera-projection"]==="orthographic"))}getCamera(){return this.style.camera}_queryFogOpacity(p){return this.style&&this.style.fog?this.style.fog.getOpacityAtLatLng(c.bO.convert(p),this.transform):0}setFeatureState(p,r){return p.source&&!this._isValidId(p.source)?this:(this.style.setFeatureState(p,r),this._update())}removeFeatureState(p,r){return p.source&&!this._isValidId(p.source)?this:(this.style.removeFeatureState(p,r),this._update())}getFeatureState(p){return p.source&&!this._isValidId(p.source)?null:this.style.getFeatureState(p)}_updateContainerDimensions(){if(!this._container)return;const p=this._container.getBoundingClientRect().width||400,r=this._container.getBoundingClientRect().height||300;let l,m,_,x=this._container;for(;x&&(!m||!_);){const E=window.getComputedStyle(x).transform;E&&E!=="none"&&(l=E.match(/matrix.*\((.+)\)/)[1].split(", "),l[0]&&l[0]!=="0"&&l[0]!=="1"&&(m=l[0]),l[3]&&l[3]!=="0"&&l[3]!=="1"&&(_=l[3])),x=x.parentElement}this._containerWidth=m?Math.abs(p/m):p,this._containerHeight=_?Math.abs(r/_):r}_detectMissingCSS(){window.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color")!=="rgb(250, 128, 114)"&&c.w("This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.")}_setupContainer(){const p=this._container;p.classList.add("mapboxgl-map"),(this._missingCSSCanary=Ee("div","mapboxgl-canary",p)).style.visibility="hidden",this._detectMissingCSS();const r=this._canvasContainer=Ee("div","mapboxgl-canvas-container",p);this._canvas=Ee("canvas","mapboxgl-canvas",r),this._interactive&&(r.classList.add("mapboxgl-interactive"),this._canvas.setAttribute("tabindex","0")),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("aria-label",this._getUIString("Map.Title")),this._canvas.setAttribute("role","region"),this._updateContainerDimensions(),this._resizeCanvas(this._containerWidth,this._containerHeight);const l=this._controlContainer=Ee("div","mapboxgl-control-container",p),m=this._controlPositions={};["top-left","top","top-right","right","bottom-right","bottom","bottom-left","left"].forEach(_=>{m[_]=Ee("div",`mapboxgl-ctrl-${_}`,l)}),this._container.addEventListener("scroll",this._onMapScroll,!1)}_resizeCanvas(p,r){const l=c.q.devicePixelRatio||1;this._canvas.width=l*Math.ceil(p),this._canvas.height=l*Math.ceil(r),this._canvas.style.width=`${p}px`,this._canvas.style.height=`${r}px`}_addMarker(p){this._markers.push(p)}_removeMarker(p){const r=this._markers.indexOf(p);r!==-1&&this._markers.splice(r,1)}_addPopup(p){this._popups.push(p)}_removePopup(p){const r=this._popups.indexOf(p);r!==-1&&this._popups.splice(r,1)}_setupPainter(){const p=c.l({},je.supported.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),r=this._canvas.getContext("webgl2",p);r?(Ur(r,!0),this.painter=new gp(r,this._contextCreateOptions,this.transform,this._scaleFactor,this._tp),this.on("data",l=>{l.dataType==="source"&&this.painter.setTileLoadedFlag(!0)}),c.m.testSupport(r)):this.fire(new c.y(new Error("Failed to initialize WebGL")))}_contextLost(p){p.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new c.z("webglcontextlost",{originalEvent:p}))}_contextRestored(p){this._setupPainter(),this.painter.resize(Math.ceil(this._containerWidth),Math.ceil(this._containerHeight)),this._updateTerrain(),this.style.reloadModels(),this.style.clearSources(),this._update(),this.fire(new c.z("webglcontextrestored",{originalEvent:p}))}_onMapScroll(p){if(p.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1}idle(){return!this.isMoving()&&this.loaded()}loaded(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()}frameReady(){return this.loaded()&&!this._placementDirty}_update(p){return this.style?(this._styleDirty=this._styleDirty||p,this._sourcesDirty=!0,this.triggerRepaint(),this):this}_requestRenderFrame(p){return this._update(),this._renderTaskQueue.add(p)}_cancelRenderFrame(p){this._renderTaskQueue.remove(p)}_requestDomTask(p){!this.loaded()||this.loaded()&&!this.isMoving()?p():this._domRenderTaskQueue.add(p)}_render(p){let r;this.fire(new c.z("renderstart")),++this._frameId;const l=this.painter.context.extTimerQuery,m=c.q.now(),_=this.painter.context.gl;if(this.listens("gpu-timing-frame")&&(r=_.createQuery(),_.beginQuery(l.TIME_ELAPSED_EXT,r)),this.painter.context.setDirty(),this.painter.setBaseState(),(this.isMoving()||this.isRotating()||this.isZooming())&&(this._interactionRange[0]=Math.min(this._interactionRange[0],performance.now()),this._interactionRange[1]=Math.max(this._interactionRange[1],performance.now())),this._renderTaskQueue.run(p),this._domRenderTaskQueue.run(p),this._removed)return;this._updateProjectionTransition();const x=this._isInitialLoad?0:this._fadeDuration;if(this.style&&this._styleDirty){this._styleDirty=!1;const V=this.transform.zoom,U=this.transform.pitch,Q=c.q.now(),ee=new c.a8(V,{now:Q,fadeDuration:x,pitch:U,transition:this.style.transition});this.style.update(ee)}this.style&&this.style.hasFogTransition()&&(this.style._markersNeedUpdate=!0,this._sourcesDirty=!0);let E=!1;this.style&&this._sourcesDirty?(this._sourcesDirty=!1,this.painter._updateFog(this.style),this._updateTerrain(),E=this._updateAverageElevation(m),this.style.updateSources(this.transform),this._forceMarkerAndPopupUpdate()):E=this._updateAverageElevation(m);const R=this.style&&this.style._updatePlacement(this.painter,this.painter.transform,this.showCollisionBoxes,x,this._crossSourceCollisions,this.painter.replacementSource,this._scaleFactorChanged);if(this._scaleFactorChanged&&(this._scaleFactorChanged=!1),R&&(this._placementDirty=R.needsRerender),this.style&&this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showParseStatus:this.showParseStatus,wireframe:{terrain:this.showTerrainWireframe,layers2D:this.showLayers2DWireframe,layers3D:this.showLayers3DWireframe},showOverdrawInspector:this._showOverdrawInspector,showQueryGeometry:!!this._showQueryGeometry,showTileAABBs:this.showTileAABBs,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:x,isInitialLoad:this._isInitialLoad,showPadding:this.showPadding,gpuTiming:!!this.listens("gpu-timing-layer"),gpuTimingDeferredRender:!!this.listens("gpu-timing-deferred-render"),speedIndexTiming:this.speedIndexTiming}),this.fire(new c.z("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,ze.mark(Ge.load),this.fire(new c.z("load"))),this.style&&this.style.hasTransitions()&&(this._styleDirty=!0),this.style&&(this.style.snow||this.style.rain)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),r){const V=c.q.now()-m;_.endQuery(l.TIME_ELAPSED_EXT),setTimeout(()=>{const U=_.getQueryParameter(r,_.QUERY_RESULT)/1e6;_.deleteQuery(r),this.fire(new c.z("gpu-timing-frame",{cpuTime:V,gpuTime:U}))},50)}if(this.listens("gpu-timing-layer")){const V=this.painter.collectGpuTimers();setTimeout(()=>{const U=this.painter.queryGpuTimers(V);this.fire(new c.z("gpu-timing-layer",{layerTimes:U}))},50)}if(this.listens("gpu-timing-deferred-render")){const V=this.painter.collectDeferredRenderGpuQueries();setTimeout(()=>{const U=this.painter.queryGpuTimeDeferredRender(V);this.fire(new c.z("gpu-timing-deferred-render",{gpuTime:U}))},50)}const B=this._sourcesDirty||this._styleDirty||this._placementDirty||E;if(B||this._repaint)this.triggerRepaint();else{const V=this.idle();if(V&&(E=this._updateAverageElevation(m,!0)),E)this.triggerRepaint();else if(this._triggerFrame(!1),V&&(this.fire(new c.z("idle")),this._isInitialLoad=!1,this.speedIndexTiming)){const U=this._calculateSpeedIndex();this.fire(new c.z("speedindexcompleted",{speedIndex:U})),this.speedIndexTiming=!1}}!this._loaded||this._fullyLoaded||B||(this._fullyLoaded=!0,ze.mark(Ge.fullLoad),this._performanceMetricsCollection&&wi(this._requestManager._customAccessToken,{width:this.painter.width,height:this.painter.height,interactionRange:this._interactionRange,visibilityHidden:this._visibilityHidden,terrainEnabled:!!this.painter.style.getTerrain(),fogEnabled:!!this.painter.style.getFog(),projection:this.getProjection().name,zoom:this.transform.zoom,renderer:this.painter.context.renderer,vendor:this.painter.context.vendor}),this._authenticate())}_forceMarkerAndPopupUpdate(p){for(const r of this._markers)p&&!this.getRenderWorldCopies()&&(r._lngLat=r._lngLat.wrap()),r._update();for(const r of this._popups)!p||this.getRenderWorldCopies()||r._trackPointer||(r._lngLat=r._lngLat.wrap()),r._update()}_updateAverageElevation(p,r=!1){const l=_=>(this.transform.averageElevation=_,this._update(!1),!0);if(!this.painter.averageElevationNeedsEasing())return this.transform.averageElevation!==0&&l(0);const m=this.transform.elevation&&this.transform.elevation.exaggeration()!==this._averageElevationExaggeration;if(m||(r||p-this._averageElevationLastSampledAt>500)&&!this._averageElevation.isEasing(p)){const _=this.transform.averageElevation;let x=this.transform.sampleAverageElevation();this.transform.elevation!=null&&(this._averageElevationExaggeration=this.transform.elevation.exaggeration()),isNaN(x)?x=0:this._averageElevationLastSampledAt=p;const E=Math.abs(_-x);if(E>1){if(this._isInitialLoad||m)return this._averageElevation.jumpTo(x),l(x);this._averageElevation.easeTo(x,p,300)}else if(E>1e-4)return this._averageElevation.jumpTo(x),l(x)}return!!this._averageElevation.isEasing(p)&&l(this._averageElevation.getValue(p))}_authenticate(){$e(this._getMapId(),this._requestManager._skuToken,this._requestManager._customAccessToken,p=>{if(p&&(p.message===cr||p.status===401)){const r=this.painter.context.gl;Ur(r,!1),this._logoControl instanceof xc&&this._logoControl._updateLogo(),r&&r.clear(r.DEPTH_BUFFER_BIT|r.COLOR_BUFFER_BIT|r.STENCIL_BUFFER_BIT),this._silenceAuthErrors||this.fire(new c.y(new Error("A valid Mapbox access token is required to use Mapbox GL JS. To create an account or a new access token, visit https://account.mapbox.com/")))}}),Yt(this._getMapId(),this._requestManager._skuToken,this._requestManager._customAccessToken,()=>{})}_postStyleLoadEvent(){this.style.globalId&&he(this._requestManager._customAccessToken,{map:this,skuToken:this._requestManager._skuToken,style:this.style.globalId,importedStyles:this.style.getImportGlobalIds()})}_updateTerrain(){const p=this._isDragging();this.painter.updateTerrain(this.style,p)}_calculateSpeedIndex(){const p=this.painter.canvasCopy(),r=this.painter.getCanvasCopiesAndTimestamps();r.timeStamps.push(performance.now());const l=this.painter.context.gl,m=l.createFramebuffer();function _(x){l.framebufferTexture2D(l.FRAMEBUFFER,l.COLOR_ATTACHMENT0,l.TEXTURE_2D,x,0);const E=new Uint8Array(l.drawingBufferWidth*l.drawingBufferHeight*4);return l.readPixels(0,0,l.drawingBufferWidth,l.drawingBufferHeight,l.RGBA,l.UNSIGNED_BYTE,E),E}return l.bindFramebuffer(l.FRAMEBUFFER,m),this._canvasPixelComparison(_(p),r.canvasCopies.map(_),r.timeStamps)}_canvasPixelComparison(p,r,l){let m=l[1]-l[0];const _=p.length/4;for(let x=0;x<r.length;x++){const E=r[x];let R=0;for(let B=0;B<E.length;B+=4)E[B]===p[B]&&E[B+1]===p[B+1]&&E[B+2]===p[B+2]&&E[B+3]===p[B+3]&&(R+=1);m+=(l[x+2]-l[x+1])*(1-R/_)}return m}remove(){this._hash&&this._hash.remove();for(const r of this._controls)r.onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this._domRenderTaskQueue.clear(),this.style&&this.style.destroy(),this.indoor.destroy(),this.painter.destroy(),this.handlers&&this.handlers.destroy(),this.handlers=void 0,this.setStyle(null),window.removeEventListener("resize",this._onWindowResize,!1),window.removeEventListener("orientationchange",this._onWindowResize,!1),window.removeEventListener(this._fullscreenchangeEvent,this._onWindowResize,!1),window.removeEventListener("online",this._onWindowOnline,!1),window.removeEventListener("visibilitychange",this._onVisibilityChange,!1);const p=this.painter.context.gl.getExtension("WEBGL_lose_context");p&&p.loseContext(),this._canvas.removeEventListener("webglcontextlost",this._contextLost,!1),this._canvas.removeEventListener("webglcontextrestored",this._contextRestored,!1),this._canvasContainer.remove(),this._controlContainer.remove(),this._missingCSSCanary.remove(),this._canvas=void 0,this._canvasContainer=void 0,this._controlContainer=void 0,this._missingCSSCanary=void 0,this._container.classList.remove("mapboxgl-map"),this._container.removeEventListener("scroll",this._onMapScroll,!1),An.delete(this.painter.context.gl),ai.remove(),ut.remove(),this._removed=!0,this.fire(new c.z("remove"))}triggerRepaint(){this._triggerFrame(!0)}_triggerFrame(p){this._renderNextFrame=this._renderNextFrame||p,this.style&&!this._frame&&(this._frame=c.q.frame(r=>{const l=!!this._renderNextFrame;this._frame=null,this._renderNextFrame=null,l&&this._render(r)}))}_preloadTiles(p){const r=this.style?this.style.getSourceCaches():[];return c.bl(r,(l,m)=>l._preloadTiles(p,m),()=>{this.triggerRepaint()}),this}_onWindowOnline(){this._update()}_onWindowResize(p){this._trackResize&&this.resize({originalEvent:p})._update()}_onVisibilityChange(){document.visibilityState==="hidden"&&this._visibilityHidden++}get showTileBoundaries(){return!!this._showTileBoundaries}set showTileBoundaries(p){this._showTileBoundaries!==p&&(this._showTileBoundaries=p,this._tp.refreshUI(),this._update())}get showParseStatus(){return!!this._showParseStatus}set showParseStatus(p){this._showParseStatus!==p&&(this._showParseStatus=p,this._tp.refreshUI(),this._update())}get showTerrainWireframe(){return!!this._showTerrainWireframe}set showTerrainWireframe(p){this._showTerrainWireframe!==p&&(this._showTerrainWireframe=p,this._tp.refreshUI(),this._update())}get showLayers2DWireframe(){return!!this._showLayers2DWireframe}set showLayers2DWireframe(p){this._showLayers2DWireframe!==p&&(this._showLayers2DWireframe=p,this._tp.refreshUI(),this._update())}get showLayers3DWireframe(){return!!this._showLayers3DWireframe}set showLayers3DWireframe(p){this._showLayers3DWireframe!==p&&(this._showLayers3DWireframe=p,this._tp.refreshUI(),this._update())}get speedIndexTiming(){return!!this._speedIndexTiming}set speedIndexTiming(p){this._speedIndexTiming!==p&&(this._speedIndexTiming=p,this._update())}get showPadding(){return!!this._showPadding}set showPadding(p){this._showPadding!==p&&(this._showPadding=p,this._tp.refreshUI(),this._update())}get showCollisionBoxes(){return!!this._showCollisionBoxes}set showCollisionBoxes(p){this._showCollisionBoxes!==p&&(this._showCollisionBoxes=p,this._tp.refreshUI(),p?this.style._generateCollisionBoxes():this._update())}get showOverdrawInspector(){return!!this._showOverdrawInspector}set showOverdrawInspector(p){this._showOverdrawInspector!==p&&(this._showOverdrawInspector=p,this._tp.refreshUI(),this._update())}get repaint(){return!!this._repaint}set repaint(p){this._repaint!==p&&(this._repaint=p,this._tp.refreshUI(),this.triggerRepaint())}get vertices(){return!!this._vertices}set vertices(p){this._vertices=p,this._update()}get showTileAABBs(){return!!this._showTileAABBs}set showTileAABBs(p){this._showTileAABBs!==p&&(this._showTileAABBs=p,this._tp.refreshUI(),p&&this._update())}_setCacheLimits(p,r){c.dG(p,r)}get version(){return xe}},NavigationControl:class{constructor(p={}){this.options=c.l({},Fs,p),this._container=Ee("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",r=>r.preventDefault()),this.options.showZoom&&(c.aP(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("mapboxgl-ctrl-zoom-in",r=>{this._map&&this._map.zoomIn({},{originalEvent:r})}),Ee("span","mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden","true"),this._zoomOutButton=this._createButton("mapboxgl-ctrl-zoom-out",r=>{this._map&&this._map.zoomOut({},{originalEvent:r})}),Ee("span","mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden","true")),this.options.showCompass&&(c.aP(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-compass",r=>{const l=this._map;l&&(this.options.visualizePitch?l.resetNorthPitch({},{originalEvent:r}):l.resetNorth({},{originalEvent:r}))}),this._compassIcon=Ee("span","mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden","true"))}_updateZoomButtons(){const p=this._map;if(!p)return;const r=p.getZoom(),l=r===p.getMaxZoom(),m=r===p.getMinZoom();this._zoomInButton.disabled=l,this._zoomOutButton.disabled=m,this._zoomInButton.setAttribute("aria-disabled",l.toString()),this._zoomOutButton.setAttribute("aria-disabled",m.toString())}_rotateCompassArrow(){const p=this._map;if(!p)return;const r=this.options.visualizePitch?`scale(${1/Math.pow(Math.cos(p.transform.pitch*(Math.PI/180)),.5)}) rotateX(${p.transform.pitch}deg) rotateZ(${p.transform.angle*(180/Math.PI)}deg)`:`rotate(${p.transform.angle*(180/Math.PI)}deg)`;p._requestDomTask(()=>{this._compassIcon&&(this._compassIcon.style.transform=r)})}onAdd(p){return this._map=p,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),p.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&p.on("pitch",this._rotateCompassArrow),p.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new H_(p,this._compass,this.options.visualizePitch)),this._container}onRemove(){const p=this._map;p&&(this._container.remove(),this.options.showZoom&&p.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&p.off("pitch",this._rotateCompassArrow),p.off("rotate",this._rotateCompassArrow),this._handler&&this._handler.off(),this._handler=void 0),this._map=void 0)}_createButton(p,r){const l=Ee("button",p,this._container);return l.type="button",l.addEventListener("click",r),l}_setButtonTitle(p,r){if(!this._map)return;const l=this._map._getUIString(`NavigationControl.${r}`);p.setAttribute("aria-label",l),p.firstElementChild&&p.firstElementChild.setAttribute("title",l)}},GeolocateControl:class extends c.E{constructor(p={}){super();const r=navigator.geolocation;this.options=c.l({geolocation:r},Ol,p),c.aP(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker","_updateMarkerRotation","_onDeviceOrientation"],this),this._updateMarkerRotationThrottled=Tm(this._updateMarkerRotation,20),this._numberOfWatches=0}onAdd(p){return this._map=p,this._container=Ee("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkGeolocationSupport(this._setupUI),this._container}onRemove(){this._geolocationWatchID!==void 0&&(this.options.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),this._container.remove(),this._map.off("zoom",this._onZoom),this._map=void 0,this._numberOfWatches=0,this._noTimeout=!1}_checkGeolocationSupport(p){const r=(l=!!this.options.geolocation)=>{this._supportsGeolocation=l,p(l)};this._supportsGeolocation!==void 0?p(this._supportsGeolocation):navigator.permissions!==void 0?navigator.permissions.query({name:"geolocation"}).then(l=>r(l.state!=="denied")).catch(()=>r()):r()}_isOutOfMapMaxBounds(p){const r=this._map.getMaxBounds(),l=p.coords;return!!r&&(l.longitude<r.getWest()||l.longitude>r.getEast()||l.latitude<r.getSouth()||l.latitude>r.getNorth())}_setErrorState(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting")}}_onSuccess(p){if(this._map){if(this._isOutOfMapMaxBounds(p))return this._setErrorState(),this.fire(new c.z("outofmaxbounds",p)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=p,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background")}this.options.showUserLocation&&this._watchState!=="OFF"&&this._updateMarker(p),this.options.trackUserLocation&&this._watchState!=="ACTIVE_LOCK"||this._updateCamera(p),this.options.showUserLocation&&this._userLocationDotMarker.removeClassName("mapboxgl-user-location-dot-stale"),this.fire(new c.z("geolocate",p)),this._finish()}}_updateCamera(p){const r=new c.bO(p.coords.longitude,p.coords.latitude),l=p.coords.accuracy,m=this._map.getBearing(),_=c.l({bearing:m},this.options.fitBoundsOptions);this._map.fitBounds(r.toBounds(l),_,{geolocateSource:!0})}_updateMarker(p){if(p){const r=new c.bO(p.coords.longitude,p.coords.latitude);this._accuracyCircleMarker.setLngLat(r).addTo(this._map),this._userLocationDotMarker.setLngLat(r).addTo(this._map),this._accuracy=p.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()}_updateCircleRadius(){const p=this._map.transform,r=c.bH(1,p._center.lat)*p.worldSize,l=Math.ceil(2*this._accuracy*r);this._circleElement.style.width=`${l}px`,this._circleElement.style.height=`${l}px`}_onZoom(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}_updateMarkerRotation(){this._userLocationDotMarker&&typeof this._heading=="number"?(this._userLocationDotMarker.setRotation(this._heading),this._userLocationDotMarker.addClassName("mapboxgl-user-location-show-heading")):(this._userLocationDotMarker.removeClassName("mapboxgl-user-location-show-heading"),this._userLocationDotMarker.setRotation(0))}_onError(p){if(this._map){if(this.options.trackUserLocation)if(p.code===1){this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;const r=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.setAttribute("aria-label",r),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",r),this._geolocationWatchID!==void 0&&this._clearWatch()}else{if(p.code===3&&this._noTimeout)return;this._setErrorState()}this._watchState!=="OFF"&&this.options.showUserLocation&&this._userLocationDotMarker.addClassName("mapboxgl-user-location-dot-stale"),this.fire(new c.z("error",p)),this._finish()}}_finish(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0}_setupUI(p){if(this._map!==void 0){if(this._container.addEventListener("contextmenu",r=>r.preventDefault()),this._geolocateButton=Ee("button","mapboxgl-ctrl-geolocate",this._container),Ee("span","mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden","true"),this._geolocateButton.type="button",p===!1){c.w("Geolocation support is not available so the GeolocateControl will be disabled.");const r=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.setAttribute("aria-label",r),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",r)}else{const r=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.setAttribute("aria-label",r),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",r)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=Ee("div","mapboxgl-user-location"),this._dotElement.appendChild(Ee("div","mapboxgl-user-location-dot")),this._dotElement.appendChild(Ee("div","mapboxgl-user-location-heading")),this._userLocationDotMarker=new Dc({element:this._dotElement,rotationAlignment:"map",pitchAlignment:"map"}),this._circleElement=Ee("div","mapboxgl-user-location-accuracy-circle"),this._accuracyCircleMarker=new Dc({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",r=>{r.geolocateSource||this._watchState!=="ACTIVE_LOCK"||r.originalEvent&&r.originalEvent.type==="resize"||(this._watchState="BACKGROUND",this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this.fire(new c.z("trackuserlocationend")))})}}_onDeviceOrientation(p){this._userLocationDotMarker&&(p.webkitCompassHeading?this._heading=p.webkitCompassHeading:p.absolute===!0&&(this._heading=-1*p.alpha),this._updateMarkerRotationThrottled())}trigger(){if(!this._setup)return c.w("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new c.z("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":this._numberOfWatches--,this._noTimeout=!1,this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new c.z("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new c.z("trackuserlocationstart"))}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error")}if(this._watchState==="OFF"&&this._geolocationWatchID!==void 0)this._clearWatch();else if(this._geolocationWatchID===void 0){let p;this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),this._numberOfWatches++,this._numberOfWatches>1?(p={maximumAge:6e5,timeout:0},this._noTimeout=!0):(p=this.options.positionOptions,this._noTimeout=!1),this._geolocationWatchID=this.options.geolocation.watchPosition(this._onSuccess,this._onError,p),this.options.showUserHeading&&this._addDeviceOrientationListener()}}else this.options.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=window.setTimeout(this._finish,1e4);return!0}_addDeviceOrientationListener(){const p=()=>{"ondeviceorientationabsolute"in window?window.addEventListener("deviceorientationabsolute",this._onDeviceOrientation):window.addEventListener("deviceorientation",this._onDeviceOrientation)};typeof DeviceMotionEvent!="undefined"&&typeof DeviceMotionEvent.requestPermission=="function"?DeviceOrientationEvent.requestPermission().then(r=>{r==="granted"&&p()}).catch(console.error):p()}_clearWatch(){this.options.geolocation.clearWatch(this._geolocationWatchID),window.removeEventListener("deviceorientation",this._onDeviceOrientation),window.removeEventListener("deviceorientationabsolute",this._onDeviceOrientation),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)}},AttributionControl:Cp,ScaleControl:class{constructor(p={}){this.options=c.l({},Bc,p),this._isNumberFormatSupported=function(){try{return new Intl.NumberFormat("en",{style:"unit",unitDisplay:"short",unit:"meter"}),!0}catch(r){return!1}}(),c.aP(["_update","_setScale","setUnit"],this)}getDefaultPosition(){return"bottom-left"}_update(){const p=this.options.maxWidth||100,r=this._map,l=r._containerHeight/2,m=r._containerWidth/2-p/2,_=r.unproject([m,l]),x=r.unproject([m+p,l]),E=_.distanceTo(x);if(this.options.unit==="imperial"){const R=3.2808*E;R>5280?this._setScale(p,R/5280,"mile"):this._setScale(p,R,"foot")}else this.options.unit==="nautical"?this._setScale(p,E/1852,"nautical-mile"):E>=1e3?this._setScale(p,E/1e3,"kilometer"):this._setScale(p,E,"meter")}_setScale(p,r,l){this._map._requestDomTask(()=>{const m=function(x){const E=Math.pow(10,`${Math.floor(x)}`.length-1);let R=x/E;return R=R>=10?10:R>=5?5:R>=3?3:R>=2?2:R>=1?1:function(B){const V=Math.pow(10,Math.ceil(-Math.log(B)/Math.LN10));return Math.round(B*V)/V}(R),E*R}(r),_=m/r;this._container.innerHTML=this._isNumberFormatSupported&&l!=="nautical-mile"?new Intl.NumberFormat(this._language,{style:"unit",unitDisplay:"short",unit:l}).format(m):`${m}&nbsp;${dc[l]}`,this._container.style.width=p*_+"px"})}onAdd(p){return this._map=p,this._language=p.getLanguage(),this._container=Ee("div","mapboxgl-ctrl mapboxgl-ctrl-scale",p.getContainer()),this._container.dir="auto",this._map.on("move",this._update),this._update(),this._container}onRemove(){this._container.remove(),this._map.off("move",this._update),this._map=void 0}_setLanguage(p){this._language=p,this._update()}setUnit(p){this.options.unit=p,this._update()}},FullscreenControl:class{constructor(p={}){this._fullscreen=!1,p&&p.container&&(p.container instanceof HTMLElement?this._container=p.container:c.w("Full screen control 'container' must be a DOM element.")),c.aP(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in document?this._fullscreenchange="fullscreenchange":"onwebkitfullscreenchange"in document&&(this._fullscreenchange="webkitfullscreenchange")}onAdd(p){return this._map=p,this._container||(this._container=this._map.getContainer()),this._controlContainer=Ee("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",c.w("This device does not support fullscreen mode.")),this._controlContainer}onRemove(){this._controlContainer.remove(),this._map=null,document.removeEventListener(this._fullscreenchange,this._changeIcon)}_checkFullscreenSupport(){return!(!document.fullscreenEnabled&&!document.webkitFullscreenEnabled)}_setupUI(){const p=this._fullscreenButton=Ee("button","mapboxgl-ctrl-fullscreen",this._controlContainer);Ee("span","mapboxgl-ctrl-icon",p).setAttribute("aria-hidden","true"),p.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),document.addEventListener(this._fullscreenchange,this._changeIcon)}_updateTitle(){const p=this._getTitle();this._fullscreenButton.setAttribute("aria-label",p),this._fullscreenButton.firstElementChild&&this._fullscreenButton.firstElementChild.setAttribute("title",p)}_getTitle(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")}_isFullscreen(){return this._fullscreen}_changeIcon(){(document.fullscreenElement||document.webkitFullscreenElement)===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())}_onClickFullscreen(){this._isFullscreen()?document.exitFullscreen?document.exitFullscreen():document.webkitCancelFullScreen&&document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()}},Popup:class extends c.E{constructor(p){super(),this.options=c.l(Object.create(Am),p),c.aP(["_update","_onClose","remove","_onMouseEvent"],this),this._classList=new Set(p&&p.className?p.className.trim().split(/\s+/):[])}addTo(p){return this._map&&this.remove(),this._map=p,this.options.closeOnClick&&p.on("preclick",this._onClose),this.options.closeOnMove&&p.on("move",this._onClose),p.on("remove",this.remove),this._update(),p._addPopup(this),this._focusFirstElement(),this._trackPointer?(p.on("mousemove",this._onMouseEvent),p.on("mouseup",this._onMouseEvent),p._canvasContainer.classList.add("mapboxgl-track-pointer")):p.on("move",this._update),this.fire(new c.z("open")),this}isOpen(){return!!this._map}remove(){this._content&&this._content.remove(),this._container&&(this._container.remove(),this._container=void 0);const p=this._map;return p&&(p.off("move",this._update),p.off("move",this._onClose),p.off("preclick",this._onClose),p.off("click",this._onClose),p.off("remove",this.remove),p.off("mousemove",this._onMouseEvent),p.off("mouseup",this._onMouseEvent),p.off("drag",this._onMouseEvent),p._canvasContainer&&p._canvasContainer.classList.remove("mapboxgl-track-pointer"),p._removePopup(this),this._map=void 0),this.fire(new c.z("close")),this}getLngLat(){return this._lngLat}setLngLat(p){this._lngLat=c.bO.convert(p),this._pos=null,this._trackPointer=!1,this._update();const r=this._map;return r&&(r.on("move",this._update),r.off("mousemove",this._onMouseEvent),r._canvasContainer.classList.remove("mapboxgl-track-pointer")),this}trackPointer(){this._trackPointer=!0,this._pos=null,this._update();const p=this._map;return p&&(p.off("move",this._update),p.on("mousemove",this._onMouseEvent),p.on("drag",this._onMouseEvent),p._canvasContainer.classList.add("mapboxgl-track-pointer")),this}getElement(){return this._container}setText(p){return this.setDOMContent(document.createTextNode(p))}setHTML(p){const r=document.createDocumentFragment(),l=document.createElement("body");let m;for(l.innerHTML=p;m=l.firstChild,m;)r.appendChild(m);return this.setDOMContent(r)}getMaxWidth(){return this._container&&this._container.style.maxWidth}setMaxWidth(p){return this.options.maxWidth=p,this._update(),this}setDOMContent(p){let r=this._content;if(r)for(;r.hasChildNodes();)r.firstChild&&r.removeChild(r.firstChild);else r=this._content=Ee("div","mapboxgl-popup-content",this._container||void 0);if(r.appendChild(p),this.options.closeButton){const l=this._closeButton=Ee("button","mapboxgl-popup-close-button",r);l.type="button",l.setAttribute("aria-label","Close popup"),l.innerHTML='<span aria-hidden="true">&#215;</span>',l.addEventListener("click",this._onClose)}return this._update(),this._focusFirstElement(),this}addClassName(p){return this._classList.add(p),this._updateClassList(),this}removeClassName(p){return this._classList.delete(p),this._updateClassList(),this}setOffset(p){return this.options.offset=p,this._update(),this}toggleClassName(p){let r;return this._classList.delete(p)?r=!1:(this._classList.add(p),r=!0),this._updateClassList(),r}_onMouseEvent(p){this._update(p.point)}_getAnchor(p){if(this.options.anchor)return this.options.anchor;const r=this._map,l=this._container,m=this._pos;if(!r||!l||!m)return"bottom";const _=l.offsetWidth,x=l.offsetHeight,E=m.x<_/2,R=m.x>r.transform.width-_/2;if(m.y+p<x)return E?"top-left":R?"top-right":"top";if(m.y>r.transform.height-x){if(E)return"bottom-left";if(R)return"bottom-right"}return E?"left":R?"right":"bottom"}_updateClassList(){const p=this._container;if(!p)return;const r=[...this._classList];r.push("mapboxgl-popup"),this._anchor&&r.push(`mapboxgl-popup-anchor-${this._anchor}`),this._trackPointer&&r.push("mapboxgl-popup-track-pointer"),p.className=r.join(" ")}_update(p){const r=this._map,l=this._content;if(!r||!this._lngLat&&!this._trackPointer||!l)return;let m=this._container;if(m||(m=this._container=Ee("div","mapboxgl-popup",r.getContainer()),this._tip=Ee("div","mapboxgl-popup-tip",m),m.appendChild(l)),this.options.maxWidth&&m.style.maxWidth!==this.options.maxWidth&&(m.style.maxWidth=this.options.maxWidth),r.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=Sp(this._lngLat,this._pos,r.transform)),!this._trackPointer||p){const _=this._pos=this._trackPointer&&p instanceof c.P?p:r.project(this._lngLat),x=Dm(this.options.offset),E=this._anchor=this._getAnchor(x.y),R=Dm(this.options.offset,E),B=_.add(R).round();r._requestDomTask(()=>{this._container&&E&&(this._container.style.transform=`${_u[E]} translate(${B.x}px,${B.y}px)`)})}if(!this._marker&&r._showingGlobe()){const _=c.dH(r.transform,this._lngLat)?0:1;this._setOpacity(_)}this._updateClassList()}_focusFirstElement(){if(!this.options.focusAfterOpen||!this._container)return;const p=this._container.querySelector(rl);p&&p.focus()}_onClose(){this.remove()}_setOpacity(p){this._container&&(this._container.style.opacity=`${p}`),this._content&&(this._content.style.pointerEvents=p?"auto":"none")}},Marker:Dc,Style:ns,LngLat:c.bO,LngLatBounds:c.az,Point:c.P,MercatorCoordinate:c.aa,FreeCameraOptions:ku,Evented:c.E,config:c.e,prewarm:c.dM,clearPrewarmedResources:c.dN,get accessToken(){return c.e.ACCESS_TOKEN},set accessToken(p){c.e.ACCESS_TOKEN=p},get baseApiUrl(){return c.e.API_URL},set baseApiUrl(p){c.e.API_URL=p},get workerCount(){return c.dO.workerCount},set workerCount(p){c.dO.workerCount=p},get maxParallelImageRequests(){return c.e.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(p){c.e.MAX_PARALLEL_IMAGE_REQUESTS=p},clearStorage(p){c.dP(p)},get workerUrl(){return c.dQ.workerUrl},set workerUrl(p){c.dQ.workerUrl=p},get workerClass(){return c.dQ.workerClass},set workerClass(p){c.dQ.workerClass=p},get workerParams(){return c.dQ.workerParams},set workerParams(p){c.dQ.workerParams=p},get dracoUrl(){return c.dR()},set dracoUrl(p){c.dS(p)},get meshoptUrl(){return c.dT()},set meshoptUrl(p){c.dU(p)},setNow:c.q.setNow,restoreNow:c.q.restoreNow}});var q=s;return q})},14224:function(Hr){var jt=Hr.exports={},F,s;function tt(){throw new Error("setTimeout has not been defined")}function q(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?F=setTimeout:F=tt}catch(Qe){F=tt}try{typeof clearTimeout=="function"?s=clearTimeout:s=q}catch(Qe){s=q}})();function c(Qe){if(F===setTimeout)return setTimeout(Qe,0);if((F===tt||!F)&&setTimeout)return F=setTimeout,setTimeout(Qe,0);try{return F(Qe,0)}catch(ot){try{return F.call(null,Qe,0)}catch(qe){return F.call(this,Qe,0)}}}function xe(Qe){if(s===clearTimeout)return clearTimeout(Qe);if((s===q||!s)&&clearTimeout)return s=clearTimeout,clearTimeout(Qe);try{return s(Qe)}catch(ot){try{return s.call(null,Qe)}catch(qe){return s.call(this,Qe)}}}var Ge=[],ze=!1,Pe,ye=-1;function te(){!ze||!Pe||(ze=!1,Pe.length?Ge=Pe.concat(Ge):ye=-1,Ge.length&&je())}function je(){if(!ze){var Qe=c(te);ze=!0;for(var ot=Ge.length;ot;){for(Pe=Ge,Ge=[];++ye<ot;)Pe&&Pe[ye].run();ye=-1,ot=Ge.length}Pe=null,ze=!1,xe(Qe)}}jt.nextTick=function(Qe){var ot=new Array(arguments.length-1);if(arguments.length>1)for(var qe=1;qe<arguments.length;qe++)ot[qe-1]=arguments[qe];Ge.push(new Ee(Qe,ot)),Ge.length===1&&!ze&&c(je)};function Ee(Qe,ot){this.fun=Qe,this.array=ot}Ee.prototype.run=function(){this.fun.apply(null,this.array)},jt.title="browser",jt.browser=!0,jt.env={},jt.argv=[],jt.version="",jt.versions={};function He(){}jt.on=He,jt.addListener=He,jt.once=He,jt.off=He,jt.removeListener=He,jt.removeAllListeners=He,jt.emit=He,jt.prependListener=He,jt.prependOnceListener=He,jt.listeners=function(Qe){return[]},jt.binding=function(Qe){throw new Error("process.binding is not supported")},jt.cwd=function(){return"/"},jt.chdir=function(Qe){throw new Error("process.chdir is not supported")},jt.umask=function(){return 0}},12977:function(Hr,jt,F){"use strict";var s=F(23022),tt=F(54153),q=F(38926),c=F(89692),xe=F(58190),Ge=F(82187),ze=F.n(Ge),Pe=F(93954),ye=F(75271),te=["prefixCls","className","style","checked","disabled","defaultChecked","type","title","onChange"],je=(0,ye.forwardRef)(function(Ee,He){var Qe=Ee.prefixCls,ot=Qe===void 0?"rc-checkbox":Qe,qe=Ee.className,gt=Ee.style,xt=Ee.checked,Xe=Ee.disabled,Ut=Ee.defaultChecked,yt=Ut===void 0?!1:Ut,Pt=Ee.type,Wt=Pt===void 0?"checkbox":Pt,kt=Ee.title,Sr=Ee.onChange,cr=(0,xe.Z)(Ee,te),Xn=(0,ye.useRef)(null),We=(0,ye.useRef)(null),Zt=(0,Pe.Z)(yt,{value:xt}),cn=(0,c.Z)(Zt,2),Kt=cn[0],Fe=cn[1];(0,ye.useImperativeHandle)(He,function(){return{focus:function(ut){var Yt;(Yt=Xn.current)===null||Yt===void 0||Yt.focus(ut)},blur:function(){var ut;(ut=Xn.current)===null||ut===void 0||ut.blur()},input:Xn.current,nativeElement:We.current}});var Ln=ze()(ot,qe,(0,q.Z)((0,q.Z)({},"".concat(ot,"-checked"),Kt),"".concat(ot,"-disabled"),Xe)),hn=function(ut){Xe||("checked"in Ee||Fe(ut.target.checked),Sr==null||Sr({target:(0,tt.Z)((0,tt.Z)({},Ee),{},{type:Wt,checked:ut.target.checked}),stopPropagation:function(){ut.stopPropagation()},preventDefault:function(){ut.preventDefault()},nativeEvent:ut.nativeEvent}))};return ye.createElement("span",{className:Ln,title:kt,style:gt,ref:We},ye.createElement("input",(0,s.Z)({},cr,{className:"".concat(ot,"-input"),ref:Xn,onChange:hn,disabled:Xe,checked:!!Kt,type:Wt})),ye.createElement("span",{className:"".concat(ot,"-inner")}))});jt.Z=je},93930:function(Hr,jt,F){"use strict";F.d(jt,{gN:function(){return Bo},zb:function(){return Ut},RV:function(){return ci},aV:function(){return zo},ZM:function(){return Pt},ZP:function(){return jo},cI:function(){return In},qo:function(){return _i}});var s=F(75271),tt=F(23022),q=F(58190),c=F(57250),xe=F(90594),Ge=F(54153),ze=F(46865),Pe=F(59295),ye=F(45985),te=F(63662),je=F(76525),Ee=F(56216),He=F(38926),Qe=F(81626),ot=F(47996),qe=F(4449),gt="RC_FORM_INTERNAL_HOOKS",xt=function(){(0,qe.ZP)(!1,"Can not find FormContext. Please make sure you wrap Field under Form.")},Xe=s.createContext({getFieldValue:xt,getFieldsValue:xt,getFieldError:xt,getFieldWarning:xt,getFieldsError:xt,isFieldsTouched:xt,isFieldTouched:xt,isFieldValidating:xt,isFieldsValidating:xt,resetFields:xt,setFields:xt,setFieldValue:xt,setFieldsValue:xt,validateFields:xt,submit:xt,getInternalHooks:function(){return xt(),{dispatch:xt,initEntityValue:xt,registerField:xt,useSubscribe:xt,setInitialValues:xt,destroyForm:xt,setCallbacks:xt,registerWatch:xt,getFields:xt,setValidateMessages:xt,setPreserve:xt,getInitialValue:xt}}}),Ut=Xe,yt=s.createContext(null),Pt=yt;function Wt(an){return an==null?[]:Array.isArray(an)?an:[an]}function kt(an){return an&&!!an._init}var Sr=F(5147);function cr(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var Ye=JSON.parse(JSON.stringify(this));return Ye.clone=this.clone,Ye}}}var Xn=cr(),We=F(51123),Zt=F(84255);function cn(an){try{return Function.toString.call(an).indexOf("[native code]")!==-1}catch(Ye){return typeof an=="function"}}var Kt=F(57649);function Fe(an,Ye,Ce){if((0,Kt.Z)())return Reflect.construct.apply(null,arguments);var Ke=[null];Ke.push.apply(Ke,Ye);var Be=new(an.bind.apply(an,Ke));return Ce&&(0,Zt.Z)(Be,Ce.prototype),Be}function Ln(an){var Ye=typeof Map=="function"?new Map:void 0;return Ln=function(Ke){if(Ke===null||!cn(Ke))return Ke;if(typeof Ke!="function")throw new TypeError("Super expression must either be null or a function");if(Ye!==void 0){if(Ye.has(Ke))return Ye.get(Ke);Ye.set(Ke,Be)}function Be(){return Fe(Ke,arguments,(0,We.Z)(this).constructor)}return Be.prototype=Object.create(Ke.prototype,{constructor:{value:Be,enumerable:!1,writable:!0,configurable:!0}}),(0,Zt.Z)(Be,Ke)},Ln(an)}var hn=F(14224),On=/%[sdj%]/g,ut=function(){};function Yt(an){if(!an||!an.length)return null;var Ye={};return an.forEach(function(Ce){var Ke=Ce.field;Ye[Ke]=Ye[Ke]||[],Ye[Ke].push(Ce)}),Ye}function bn(an){for(var Ye=arguments.length,Ce=new Array(Ye>1?Ye-1:0),Ke=1;Ke<Ye;Ke++)Ce[Ke-1]=arguments[Ke];var Be=0,Nt=Ce.length;if(typeof an=="function")return an.apply(null,Ce);if(typeof an=="string"){var dn=an.replace(On,function(tr){if(tr==="%%")return"%";if(Be>=Nt)return tr;switch(tr){case"%s":return String(Ce[Be++]);case"%d":return Number(Ce[Be++]);case"%j":try{return JSON.stringify(Ce[Be++])}catch(Rr){return"[Circular]"}break;default:return tr}});return dn}return an}function he(an){return an==="string"||an==="url"||an==="hex"||an==="email"||an==="date"||an==="pattern"}function Jt(an,Ye){return!!(an==null||Ye==="array"&&Array.isArray(an)&&!an.length||he(Ye)&&typeof an=="string"&&!an)}function wi(an){return Object.keys(an).length===0}function ai(an,Ye,Ce){var Ke=[],Be=0,Nt=an.length;function dn(tr){Ke.push.apply(Ke,(0,ze.Z)(tr||[])),Be++,Be===Nt&&Ce(Ke)}an.forEach(function(tr){Ye(tr,dn)})}function $e(an,Ye,Ce){var Ke=0,Be=an.length;function Nt(dn){if(dn&&dn.length){Ce(dn);return}var tr=Ke;Ke=Ke+1,tr<Be?Ye(an[tr],Nt):Ce([])}Nt([])}function An(an){var Ye=[];return Object.keys(an).forEach(function(Ce){Ye.push.apply(Ye,(0,ze.Z)(an[Ce]||[]))}),Ye}var Ur=function(an){(0,je.Z)(Ce,an);var Ye=(0,Ee.Z)(Ce);function Ce(Ke,Be){var Nt;return(0,Pe.Z)(this,Ce),Nt=Ye.call(this,"Async Validation Error"),(0,He.Z)((0,te.Z)(Nt),"errors",void 0),(0,He.Z)((0,te.Z)(Nt),"fields",void 0),Nt.errors=Ke,Nt.fields=Be,Nt}return(0,ye.Z)(Ce)}(Ln(Error));function Kr(an,Ye,Ce,Ke,Be){if(Ye.first){var Nt=new Promise(function(zi,Mo){var Oi=function(Wi){return Ke(Wi),Wi.length?Mo(new Ur(Wi,Yt(Wi))):zi(Be)},Ni=An(an);$e(Ni,Ce,Oi)});return Nt.catch(function(zi){return zi}),Nt}var dn=Ye.firstFields===!0?Object.keys(an):Ye.firstFields||[],tr=Object.keys(an),Rr=tr.length,Lr=0,Mr=[],vi=new Promise(function(zi,Mo){var Oi=function(hi){if(Mr.push.apply(Mr,hi),Lr++,Lr===Rr)return Ke(Mr),Mr.length?Mo(new Ur(Mr,Yt(Mr))):zi(Be)};tr.length||(Ke(Mr),zi(Be)),tr.forEach(function(Ni){var hi=an[Ni];dn.indexOf(Ni)!==-1?$e(hi,Ce,Oi):ai(hi,Ce,Oi)})});return vi.catch(function(zi){return zi}),vi}function Rn(an){return!!(an&&an.message!==void 0)}function Wr(an,Ye){for(var Ce=an,Ke=0;Ke<Ye.length;Ke++){if(Ce==null)return Ce;Ce=Ce[Ye[Ke]]}return Ce}function Ii(an,Ye){return function(Ce){var Ke;return an.fullFields?Ke=Wr(Ye,an.fullFields):Ke=Ye[Ce.field||an.fullField],Rn(Ce)?(Ce.field=Ce.field||an.fullField,Ce.fieldValue=Ke,Ce):{message:typeof Ce=="function"?Ce():Ce,fieldValue:Ke,field:Ce.field||an.fullField}}}function pr(an,Ye){if(Ye){for(var Ce in Ye)if(Ye.hasOwnProperty(Ce)){var Ke=Ye[Ce];(0,Sr.Z)(Ke)==="object"&&(0,Sr.Z)(an[Ce])==="object"?an[Ce]=(0,Ge.Z)((0,Ge.Z)({},an[Ce]),Ke):an[Ce]=Ke}}return an}var it="enum",Ot=function(Ye,Ce,Ke,Be,Nt){Ye[it]=Array.isArray(Ye[it])?Ye[it]:[],Ye[it].indexOf(Ce)===-1&&Be.push(bn(Nt.messages[it],Ye.fullField,Ye[it].join(", ")))},Bn=Ot,fn=function(Ye,Ce,Ke,Be,Nt){if(Ye.pattern){if(Ye.pattern instanceof RegExp)Ye.pattern.lastIndex=0,Ye.pattern.test(Ce)||Be.push(bn(Nt.messages.pattern.mismatch,Ye.fullField,Ce,Ye.pattern));else if(typeof Ye.pattern=="string"){var dn=new RegExp(Ye.pattern);dn.test(Ce)||Be.push(bn(Nt.messages.pattern.mismatch,Ye.fullField,Ce,Ye.pattern))}}},gn=fn,Er=function(Ye,Ce,Ke,Be,Nt){var dn=typeof Ye.len=="number",tr=typeof Ye.min=="number",Rr=typeof Ye.max=="number",Lr=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Mr=Ce,vi=null,zi=typeof Ce=="number",Mo=typeof Ce=="string",Oi=Array.isArray(Ce);if(zi?vi="number":Mo?vi="string":Oi&&(vi="array"),!vi)return!1;Oi&&(Mr=Ce.length),Mo&&(Mr=Ce.replace(Lr,"_").length),dn?Mr!==Ye.len&&Be.push(bn(Nt.messages[vi].len,Ye.fullField,Ye.len)):tr&&!Rr&&Mr<Ye.min?Be.push(bn(Nt.messages[vi].min,Ye.fullField,Ye.min)):Rr&&!tr&&Mr>Ye.max?Be.push(bn(Nt.messages[vi].max,Ye.fullField,Ye.max)):tr&&Rr&&(Mr<Ye.min||Mr>Ye.max)&&Be.push(bn(Nt.messages[vi].range,Ye.fullField,Ye.min,Ye.max))},Vn=Er,ri=function(Ye,Ce,Ke,Be,Nt,dn){Ye.required&&(!Ke.hasOwnProperty(Ye.field)||Jt(Ce,dn||Ye.type))&&Be.push(bn(Nt.messages.required,Ye.fullField))},fi=ri,qr,Jr=function(){if(qr)return qr;var an="[a-fA-F\\d:]",Ye=function(Ta){return Ta&&Ta.includeBoundaries?"(?:(?<=\\s|^)(?=".concat(an,")|(?<=").concat(an,")(?=\\s|$))"):""},Ce="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",Ke="[a-fA-F\\d]{1,4}",Be=["(?:".concat(Ke,":){7}(?:").concat(Ke,"|:)"),"(?:".concat(Ke,":){6}(?:").concat(Ce,"|:").concat(Ke,"|:)"),"(?:".concat(Ke,":){5}(?::").concat(Ce,"|(?::").concat(Ke,"){1,2}|:)"),"(?:".concat(Ke,":){4}(?:(?::").concat(Ke,"){0,1}:").concat(Ce,"|(?::").concat(Ke,"){1,3}|:)"),"(?:".concat(Ke,":){3}(?:(?::").concat(Ke,"){0,2}:").concat(Ce,"|(?::").concat(Ke,"){1,4}|:)"),"(?:".concat(Ke,":){2}(?:(?::").concat(Ke,"){0,3}:").concat(Ce,"|(?::").concat(Ke,"){1,5}|:)"),"(?:".concat(Ke,":){1}(?:(?::").concat(Ke,"){0,4}:").concat(Ce,"|(?::").concat(Ke,"){1,6}|:)"),"(?::(?:(?::".concat(Ke,"){0,5}:").concat(Ce,"|(?::").concat(Ke,"){1,7}|:))")],Nt="(?:%[0-9a-zA-Z]{1,})?",dn="(?:".concat(Be.join("|"),")").concat(Nt),tr=new RegExp("(?:^".concat(Ce,"$)|(?:^").concat(dn,"$)")),Rr=new RegExp("^".concat(Ce,"$")),Lr=new RegExp("^".concat(dn,"$")),Mr=function(Ta){return Ta&&Ta.exact?tr:new RegExp("(?:".concat(Ye(Ta)).concat(Ce).concat(Ye(Ta),")|(?:").concat(Ye(Ta)).concat(dn).concat(Ye(Ta),")"),"g")};Mr.v4=function(ha){return ha&&ha.exact?Rr:new RegExp("".concat(Ye(ha)).concat(Ce).concat(Ye(ha)),"g")},Mr.v6=function(ha){return ha&&ha.exact?Lr:new RegExp("".concat(Ye(ha)).concat(dn).concat(Ye(ha)),"g")};var vi="(?:(?:[a-z]+:)?//)",zi="(?:\\S+(?::\\S*)?@)?",Mo=Mr.v4().source,Oi=Mr.v6().source,Ni="(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)",hi="(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*",Wi="(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))",Hi="(?::\\d{2,5})?",Po='(?:[/?#][^\\s"]*)?',aa="(?:".concat(vi,"|www\\.)").concat(zi,"(?:localhost|").concat(Mo,"|").concat(Oi,"|").concat(Ni).concat(hi).concat(Wi,")").concat(Hi).concat(Po);return qr=new RegExp("(?:^".concat(aa,"$)"),"i"),qr},wr={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},Yn={integer:function(Ye){return Yn.number(Ye)&&parseInt(Ye,10)===Ye},float:function(Ye){return Yn.number(Ye)&&!Yn.integer(Ye)},array:function(Ye){return Array.isArray(Ye)},regexp:function(Ye){if(Ye instanceof RegExp)return!0;try{return!!new RegExp(Ye)}catch(Ce){return!1}},date:function(Ye){return typeof Ye.getTime=="function"&&typeof Ye.getMonth=="function"&&typeof Ye.getYear=="function"&&!isNaN(Ye.getTime())},number:function(Ye){return isNaN(Ye)?!1:typeof Ye=="number"},object:function(Ye){return(0,Sr.Z)(Ye)==="object"&&!Yn.array(Ye)},method:function(Ye){return typeof Ye=="function"},email:function(Ye){return typeof Ye=="string"&&Ye.length<=320&&!!Ye.match(wr.email)},url:function(Ye){return typeof Ye=="string"&&Ye.length<=2048&&!!Ye.match(Jr())},hex:function(Ye){return typeof Ye=="string"&&!!Ye.match(wr.hex)}},yr=function(Ye,Ce,Ke,Be,Nt){if(Ye.required&&Ce===void 0){fi(Ye,Ce,Ke,Be,Nt);return}var dn=["integer","float","array","regexp","object","method","email","number","date","url","hex"],tr=Ye.type;dn.indexOf(tr)>-1?Yn[tr](Ce)||Be.push(bn(Nt.messages.types[tr],Ye.fullField,Ye.type)):tr&&(0,Sr.Z)(Ce)!==Ye.type&&Be.push(bn(Nt.messages.types[tr],Ye.fullField,Ye.type))},Pr=yr,Ir=function(Ye,Ce,Ke,Be,Nt){(/^\s+$/.test(Ce)||Ce==="")&&Be.push(bn(Nt.messages.whitespace,Ye.fullField))},Xr=Ir,rr={required:fi,whitespace:Xr,type:Pr,range:Vn,enum:Bn,pattern:gn},gr=function(Ye,Ce,Ke,Be,Nt){var dn=[],tr=Ye.required||!Ye.required&&Be.hasOwnProperty(Ye.field);if(tr){if(Jt(Ce)&&!Ye.required)return Ke();rr.required(Ye,Ce,Be,dn,Nt)}Ke(dn)},ei=gr,Un=function(Ye,Ce,Ke,Be,Nt){var dn=[],tr=Ye.required||!Ye.required&&Be.hasOwnProperty(Ye.field);if(tr){if(Ce==null&&!Ye.required)return Ke();rr.required(Ye,Ce,Be,dn,Nt,"array"),Ce!=null&&(rr.type(Ye,Ce,Be,dn,Nt),rr.range(Ye,Ce,Be,dn,Nt))}Ke(dn)},si=Un,Si=function(Ye,Ce,Ke,Be,Nt){var dn=[],tr=Ye.required||!Ye.required&&Be.hasOwnProperty(Ye.field);if(tr){if(Jt(Ce)&&!Ye.required)return Ke();rr.required(Ye,Ce,Be,dn,Nt),Ce!==void 0&&rr.type(Ye,Ce,Be,dn,Nt)}Ke(dn)},Yi=Si,xo=function(Ye,Ce,Ke,Be,Nt){var dn=[],tr=Ye.required||!Ye.required&&Be.hasOwnProperty(Ye.field);if(tr){if(Jt(Ce,"date")&&!Ye.required)return Ke();if(rr.required(Ye,Ce,Be,dn,Nt),!Jt(Ce,"date")){var Rr;Ce instanceof Date?Rr=Ce:Rr=new Date(Ce),rr.type(Ye,Rr,Be,dn,Nt),Rr&&rr.range(Ye,Rr.getTime(),Be,dn,Nt)}}Ke(dn)},Qr=xo,co="enum",tn=function(Ye,Ce,Ke,Be,Nt){var dn=[],tr=Ye.required||!Ye.required&&Be.hasOwnProperty(Ye.field);if(tr){if(Jt(Ce)&&!Ye.required)return Ke();rr.required(Ye,Ce,Be,dn,Nt),Ce!==void 0&&rr[co](Ye,Ce,Be,dn,Nt)}Ke(dn)},Tn=tn,ir=function(Ye,Ce,Ke,Be,Nt){var dn=[],tr=Ye.required||!Ye.required&&Be.hasOwnProperty(Ye.field);if(tr){if(Jt(Ce)&&!Ye.required)return Ke();rr.required(Ye,Ce,Be,dn,Nt),Ce!==void 0&&(rr.type(Ye,Ce,Be,dn,Nt),rr.range(Ye,Ce,Be,dn,Nt))}Ke(dn)},kr=ir,gi=function(Ye,Ce,Ke,Be,Nt){var dn=[],tr=Ye.required||!Ye.required&&Be.hasOwnProperty(Ye.field);if(tr){if(Jt(Ce)&&!Ye.required)return Ke();rr.required(Ye,Ce,Be,dn,Nt),Ce!==void 0&&(rr.type(Ye,Ce,Be,dn,Nt),rr.range(Ye,Ce,Be,dn,Nt))}Ke(dn)},li=gi,eo=function(Ye,Ce,Ke,Be,Nt){var dn=[],tr=Ye.required||!Ye.required&&Be.hasOwnProperty(Ye.field);if(tr){if(Jt(Ce)&&!Ye.required)return Ke();rr.required(Ye,Ce,Be,dn,Nt),Ce!==void 0&&rr.type(Ye,Ce,Be,dn,Nt)}Ke(dn)},io=eo,Lo=function(Ye,Ce,Ke,Be,Nt){var dn=[],tr=Ye.required||!Ye.required&&Be.hasOwnProperty(Ye.field);if(tr){if(Ce===""&&(Ce=void 0),Jt(Ce)&&!Ye.required)return Ke();rr.required(Ye,Ce,Be,dn,Nt),Ce!==void 0&&(rr.type(Ye,Ce,Be,dn,Nt),rr.range(Ye,Ce,Be,dn,Nt))}Ke(dn)},Co=Lo,uo=function(Ye,Ce,Ke,Be,Nt){var dn=[],tr=Ye.required||!Ye.required&&Be.hasOwnProperty(Ye.field);if(tr){if(Jt(Ce)&&!Ye.required)return Ke();rr.required(Ye,Ce,Be,dn,Nt),Ce!==void 0&&rr.type(Ye,Ce,Be,dn,Nt)}Ke(dn)},Re=uo,de=function(Ye,Ce,Ke,Be,Nt){var dn=[],tr=Ye.required||!Ye.required&&Be.hasOwnProperty(Ye.field);if(tr){if(Jt(Ce,"string")&&!Ye.required)return Ke();rr.required(Ye,Ce,Be,dn,Nt),Jt(Ce,"string")||rr.pattern(Ye,Ce,Be,dn,Nt)}Ke(dn)},Y=de,Ze=function(Ye,Ce,Ke,Be,Nt){var dn=[],tr=Ye.required||!Ye.required&&Be.hasOwnProperty(Ye.field);if(tr){if(Jt(Ce)&&!Ye.required)return Ke();rr.required(Ye,Ce,Be,dn,Nt),Jt(Ce)||rr.type(Ye,Ce,Be,dn,Nt)}Ke(dn)},pe=Ze,et=function(Ye,Ce,Ke,Be,Nt){var dn=[],tr=Array.isArray(Ce)?"array":(0,Sr.Z)(Ce);rr.required(Ye,Ce,Be,dn,Nt,tr),Ke(dn)},nt=et,ln=function(Ye,Ce,Ke,Be,Nt){var dn=[],tr=Ye.required||!Ye.required&&Be.hasOwnProperty(Ye.field);if(tr){if(Jt(Ce,"string")&&!Ye.required)return Ke();rr.required(Ye,Ce,Be,dn,Nt,"string"),Jt(Ce,"string")||(rr.type(Ye,Ce,Be,dn,Nt),rr.range(Ye,Ce,Be,dn,Nt),rr.pattern(Ye,Ce,Be,dn,Nt),Ye.whitespace===!0&&rr.whitespace(Ye,Ce,Be,dn,Nt))}Ke(dn)},At=ln,sn=function(Ye,Ce,Ke,Be,Nt){var dn=Ye.type,tr=[],Rr=Ye.required||!Ye.required&&Be.hasOwnProperty(Ye.field);if(Rr){if(Jt(Ce,dn)&&!Ye.required)return Ke();rr.required(Ye,Ce,Be,tr,Nt,dn),Jt(Ce,dn)||rr.type(Ye,Ce,Be,tr,Nt)}Ke(tr)},vn=sn,Je={string:At,method:io,number:Co,boolean:Yi,regexp:pe,integer:li,float:kr,array:si,object:Re,enum:Tn,pattern:Y,date:Qr,url:vn,hex:vn,email:vn,required:nt,any:ei},Rt=function(){function an(Ye){(0,Pe.Z)(this,an),(0,He.Z)(this,"rules",null),(0,He.Z)(this,"_messages",Xn),this.define(Ye)}return(0,ye.Z)(an,[{key:"define",value:function(Ce){var Ke=this;if(!Ce)throw new Error("Cannot configure a schema with no rules");if((0,Sr.Z)(Ce)!=="object"||Array.isArray(Ce))throw new Error("Rules must be an object");this.rules={},Object.keys(Ce).forEach(function(Be){var Nt=Ce[Be];Ke.rules[Be]=Array.isArray(Nt)?Nt:[Nt]})}},{key:"messages",value:function(Ce){return Ce&&(this._messages=pr(cr(),Ce)),this._messages}},{key:"validate",value:function(Ce){var Ke=this,Be=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Nt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){},dn=Ce,tr=Be,Rr=Nt;if(typeof tr=="function"&&(Rr=tr,tr={}),!this.rules||Object.keys(this.rules).length===0)return Rr&&Rr(null,dn),Promise.resolve(dn);function Lr(Oi){var Ni=[],hi={};function Wi(Po){if(Array.isArray(Po)){var aa;Ni=(aa=Ni).concat.apply(aa,(0,ze.Z)(Po))}else Ni.push(Po)}for(var Hi=0;Hi<Oi.length;Hi++)Wi(Oi[Hi]);Ni.length?(hi=Yt(Ni),Rr(Ni,hi)):Rr(null,dn)}if(tr.messages){var Mr=this.messages();Mr===Xn&&(Mr=cr()),pr(Mr,tr.messages),tr.messages=Mr}else tr.messages=this.messages();var vi={},zi=tr.keys||Object.keys(this.rules);zi.forEach(function(Oi){var Ni=Ke.rules[Oi],hi=dn[Oi];Ni.forEach(function(Wi){var Hi=Wi;typeof Hi.transform=="function"&&(dn===Ce&&(dn=(0,Ge.Z)({},dn)),hi=dn[Oi]=Hi.transform(hi),hi!=null&&(Hi.type=Hi.type||(Array.isArray(hi)?"array":(0,Sr.Z)(hi)))),typeof Hi=="function"?Hi={validator:Hi}:Hi=(0,Ge.Z)({},Hi),Hi.validator=Ke.getValidationMethod(Hi),Hi.validator&&(Hi.field=Oi,Hi.fullField=Hi.fullField||Oi,Hi.type=Ke.getType(Hi),vi[Oi]=vi[Oi]||[],vi[Oi].push({rule:Hi,value:hi,source:dn,field:Oi}))})});var Mo={};return Kr(vi,tr,function(Oi,Ni){var hi=Oi.rule,Wi=(hi.type==="object"||hi.type==="array")&&((0,Sr.Z)(hi.fields)==="object"||(0,Sr.Z)(hi.defaultField)==="object");Wi=Wi&&(hi.required||!hi.required&&Oi.value),hi.field=Oi.field;function Hi(Ma,Sa){return(0,Ge.Z)((0,Ge.Z)({},Sa),{},{fullField:"".concat(hi.fullField,".").concat(Ma),fullFields:hi.fullFields?[].concat((0,ze.Z)(hi.fullFields),[Ma]):[Ma]})}function Po(){var Ma=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],Sa=Array.isArray(Ma)?Ma:[Ma];!tr.suppressWarning&&Sa.length&&an.warning("async-validator:",Sa),Sa.length&&hi.message!==void 0&&(Sa=[].concat(hi.message));var ba=Sa.map(Ii(hi,dn));if(tr.first&&ba.length)return Mo[hi.field]=1,Ni(ba);if(!Wi)Ni(ba);else{if(hi.required&&!Oi.value)return hi.message!==void 0?ba=[].concat(hi.message).map(Ii(hi,dn)):tr.error&&(ba=[tr.error(hi,bn(tr.messages.required,hi.field))]),Ni(ba);var ja={};hi.defaultField&&Object.keys(Oi.value).map(function(Ts){ja[Ts]=hi.defaultField}),ja=(0,Ge.Z)((0,Ge.Z)({},ja),Oi.rule.fields);var wa={};Object.keys(ja).forEach(function(Ts){var _s=ja[Ts],il=Array.isArray(_s)?_s:[_s];wa[Ts]=il.map(Hi.bind(null,Ts))});var Ps=new an(wa);Ps.messages(tr.messages),Oi.rule.options&&(Oi.rule.options.messages=tr.messages,Oi.rule.options.error=tr.error),Ps.validate(Oi.value,Oi.rule.options||tr,function(Ts){var _s=[];ba&&ba.length&&_s.push.apply(_s,(0,ze.Z)(ba)),Ts&&Ts.length&&_s.push.apply(_s,(0,ze.Z)(Ts)),Ni(_s.length?_s:null)})}}var aa;if(hi.asyncValidator)aa=hi.asyncValidator(hi,Oi.value,Po,Oi.source,tr);else if(hi.validator){try{aa=hi.validator(hi,Oi.value,Po,Oi.source,tr)}catch(Ma){var ha,Ta;(ha=(Ta=console).error)===null||ha===void 0||ha.call(Ta,Ma),tr.suppressValidatorError||setTimeout(function(){throw Ma},0),Po(Ma.message)}aa===!0?Po():aa===!1?Po(typeof hi.message=="function"?hi.message(hi.fullField||hi.field):hi.message||"".concat(hi.fullField||hi.field," fails")):aa instanceof Array?Po(aa):aa instanceof Error&&Po(aa.message)}aa&&aa.then&&aa.then(function(){return Po()},function(Ma){return Po(Ma)})},function(Oi){Lr(Oi)},dn)}},{key:"getType",value:function(Ce){if(Ce.type===void 0&&Ce.pattern instanceof RegExp&&(Ce.type="pattern"),typeof Ce.validator!="function"&&Ce.type&&!Je.hasOwnProperty(Ce.type))throw new Error(bn("Unknown rule type %s",Ce.type));return Ce.type||"string"}},{key:"getValidationMethod",value:function(Ce){if(typeof Ce.validator=="function")return Ce.validator;var Ke=Object.keys(Ce),Be=Ke.indexOf("message");return Be!==-1&&Ke.splice(Be,1),Ke.length===1&&Ke[0]==="required"?Je.required:Je[this.getType(Ce)]||void 0}}]),an}();(0,He.Z)(Rt,"register",function(Ye,Ce){if(typeof Ce!="function")throw new Error("Cannot register a validator by type, validator is not a function");Je[Ye]=Ce}),(0,He.Z)(Rt,"warning",ut),(0,He.Z)(Rt,"messages",Xn),(0,He.Z)(Rt,"validators",Je);var Xt=Rt,nn="'${name}' is not a valid ${type}",dt={default:"Validation error on field '${name}'",required:"'${name}' is required",enum:"'${name}' must be one of [${enum}]",whitespace:"'${name}' cannot be empty",date:{format:"'${name}' is invalid for format date",parse:"'${name}' could not be parsed as date",invalid:"'${name}' is invalid date"},types:{string:nn,method:nn,array:nn,object:nn,number:nn,date:nn,boolean:nn,integer:nn,float:nn,regexp:nn,email:nn,url:nn,hex:nn},string:{len:"'${name}' must be exactly ${len} characters",min:"'${name}' must be at least ${min} characters",max:"'${name}' cannot be longer than ${max} characters",range:"'${name}' must be between ${min} and ${max} characters"},number:{len:"'${name}' must equal ${len}",min:"'${name}' cannot be less than ${min}",max:"'${name}' cannot be greater than ${max}",range:"'${name}' must be between ${min} and ${max}"},array:{len:"'${name}' must be exactly ${len} in length",min:"'${name}' cannot be less than ${min} in length",max:"'${name}' cannot be greater than ${max} in length",range:"'${name}' must be between ${min} and ${max} in length"},pattern:{mismatch:"'${name}' does not match pattern ${pattern}"}},lt=F(27636),En=Xt;function _n(an,Ye){return an.replace(/\\?\$\{\w+\}/g,function(Ce){if(Ce.startsWith("\\"))return Ce.slice(1);var Ke=Ce.slice(2,-1);return Ye[Ke]})}var Wn="CODE_LOGIC_ERROR";function nr(an,Ye,Ce,Ke,Be){return mr.apply(this,arguments)}function mr(){return mr=(0,xe.Z)((0,c.Z)().mark(function an(Ye,Ce,Ke,Be,Nt){var dn,tr,Rr,Lr,Mr,vi,zi,Mo,Oi;return(0,c.Z)().wrap(function(hi){for(;;)switch(hi.prev=hi.next){case 0:return dn=(0,Ge.Z)({},Ke),delete dn.ruleIndex,En.warning=function(){},dn.validator&&(tr=dn.validator,dn.validator=function(){try{return tr.apply(void 0,arguments)}catch(Wi){return console.error(Wi),Promise.reject(Wn)}}),Rr=null,dn&&dn.type==="array"&&dn.defaultField&&(Rr=dn.defaultField,delete dn.defaultField),Lr=new En((0,He.Z)({},Ye,[dn])),Mr=(0,lt.T)(dt,Be.validateMessages),Lr.messages(Mr),vi=[],hi.prev=10,hi.next=13,Promise.resolve(Lr.validate((0,He.Z)({},Ye,Ce),(0,Ge.Z)({},Be)));case 13:hi.next=18;break;case 15:hi.prev=15,hi.t0=hi.catch(10),hi.t0.errors&&(vi=hi.t0.errors.map(function(Wi,Hi){var Po=Wi.message,aa=Po===Wn?Mr.default:Po;return s.isValidElement(aa)?s.cloneElement(aa,{key:"error_".concat(Hi)}):aa}));case 18:if(!(!vi.length&&Rr)){hi.next=23;break}return hi.next=21,Promise.all(Ce.map(function(Wi,Hi){return nr("".concat(Ye,".").concat(Hi),Wi,Rr,Be,Nt)}));case 21:return zi=hi.sent,hi.abrupt("return",zi.reduce(function(Wi,Hi){return[].concat((0,ze.Z)(Wi),(0,ze.Z)(Hi))},[]));case 23:return Mo=(0,Ge.Z)((0,Ge.Z)({},Ke),{},{name:Ye,enum:(Ke.enum||[]).join(", ")},Nt),Oi=vi.map(function(Wi){return typeof Wi=="string"?_n(Wi,Mo):Wi}),hi.abrupt("return",Oi);case 26:case"end":return hi.stop()}},an,null,[[10,15]])})),mr.apply(this,arguments)}function Nr(an,Ye,Ce,Ke,Be,Nt){var dn=an.join("."),tr=Ce.map(function(Mr,vi){var zi=Mr.validator,Mo=(0,Ge.Z)((0,Ge.Z)({},Mr),{},{ruleIndex:vi});return zi&&(Mo.validator=function(Oi,Ni,hi){var Wi=!1,Hi=function(){for(var ha=arguments.length,Ta=new Array(ha),Ma=0;Ma<ha;Ma++)Ta[Ma]=arguments[Ma];Promise.resolve().then(function(){(0,qe.ZP)(!Wi,"Your validator function has already return a promise. `callback` will be ignored."),Wi||hi.apply(void 0,Ta)})},Po=zi(Oi,Ni,Hi);Wi=Po&&typeof Po.then=="function"&&typeof Po.catch=="function",(0,qe.ZP)(Wi,"`callback` is deprecated. Please return a promise instead."),Wi&&Po.then(function(){hi()}).catch(function(aa){hi(aa||" ")})}),Mo}).sort(function(Mr,vi){var zi=Mr.warningOnly,Mo=Mr.ruleIndex,Oi=vi.warningOnly,Ni=vi.ruleIndex;return!!zi==!!Oi?Mo-Ni:zi?1:-1}),Rr;if(Be===!0)Rr=new Promise(function(){var Mr=(0,xe.Z)((0,c.Z)().mark(function vi(zi,Mo){var Oi,Ni,hi;return(0,c.Z)().wrap(function(Hi){for(;;)switch(Hi.prev=Hi.next){case 0:Oi=0;case 1:if(!(Oi<tr.length)){Hi.next=12;break}return Ni=tr[Oi],Hi.next=5,nr(dn,Ye,Ni,Ke,Nt);case 5:if(hi=Hi.sent,!hi.length){Hi.next=9;break}return Mo([{errors:hi,rule:Ni}]),Hi.abrupt("return");case 9:Oi+=1,Hi.next=1;break;case 12:zi([]);case 13:case"end":return Hi.stop()}},vi)}));return function(vi,zi){return Mr.apply(this,arguments)}}());else{var Lr=tr.map(function(Mr){return nr(dn,Ye,Mr,Ke,Nt).then(function(vi){return{errors:vi,rule:Mr}})});Rr=(Be?qi(Lr):ui(Lr)).then(function(Mr){return Promise.reject(Mr)})}return Rr.catch(function(Mr){return Mr}),Rr}function ui(an){return Zr.apply(this,arguments)}function Zr(){return Zr=(0,xe.Z)((0,c.Z)().mark(function an(Ye){return(0,c.Z)().wrap(function(Ke){for(;;)switch(Ke.prev=Ke.next){case 0:return Ke.abrupt("return",Promise.all(Ye).then(function(Be){var Nt,dn=(Nt=[]).concat.apply(Nt,(0,ze.Z)(Be));return dn}));case 1:case"end":return Ke.stop()}},an)})),Zr.apply(this,arguments)}function qi(an){return pt.apply(this,arguments)}function pt(){return pt=(0,xe.Z)((0,c.Z)().mark(function an(Ye){var Ce;return(0,c.Z)().wrap(function(Be){for(;;)switch(Be.prev=Be.next){case 0:return Ce=0,Be.abrupt("return",new Promise(function(Nt){Ye.forEach(function(dn){dn.then(function(tr){tr.errors.length&&Nt([tr]),Ce+=1,Ce===Ye.length&&Nt([])})})}));case 2:case"end":return Be.stop()}},an)})),pt.apply(this,arguments)}var Sn=F(36040);function qt(an){return Wt(an)}function Nn(an,Ye){var Ce={};return Ye.forEach(function(Ke){var Be=(0,Sn.Z)(an,Ke);Ce=(0,lt.Z)(Ce,Ke,Be)}),Ce}function lr(an,Ye){var Ce=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return an&&an.some(function(Ke){return di(Ye,Ke,Ce)})}function di(an,Ye){var Ce=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return!an||!Ye||!Ce&&an.length!==Ye.length?!1:Ye.every(function(Ke,Be){return an[Be]===Ke})}function Ti(an,Ye){if(an===Ye)return!0;if(!an&&Ye||an&&!Ye||!an||!Ye||(0,Sr.Z)(an)!=="object"||(0,Sr.Z)(Ye)!=="object")return!1;var Ce=Object.keys(an),Ke=Object.keys(Ye),Be=new Set([].concat(Ce,Ke));return(0,ze.Z)(Be).every(function(Nt){var dn=an[Nt],tr=Ye[Nt];return typeof dn=="function"&&typeof tr=="function"?!0:dn===tr})}function bo(an){var Ye=arguments.length<=1?void 0:arguments[1];return Ye&&Ye.target&&(0,Sr.Z)(Ye.target)==="object"&&an in Ye.target?Ye.target[an]:Ye}function Zi(an,Ye,Ce){var Ke=an.length;if(Ye<0||Ye>=Ke||Ce<0||Ce>=Ke)return an;var Be=an[Ye],Nt=Ye-Ce;return Nt>0?[].concat((0,ze.Z)(an.slice(0,Ce)),[Be],(0,ze.Z)(an.slice(Ce,Ye)),(0,ze.Z)(an.slice(Ye+1,Ke))):Nt<0?[].concat((0,ze.Z)(an.slice(0,Ye)),(0,ze.Z)(an.slice(Ye+1,Ce+1)),[Be],(0,ze.Z)(an.slice(Ce+1,Ke))):an}var fo=["name"],yo=[];function Gi(an,Ye,Ce,Ke,Be,Nt){return typeof an=="function"?an(Ye,Ce,"source"in Nt?{source:Nt.source}:{}):Ke!==Be}var Oo=function(an){(0,je.Z)(Ce,an);var Ye=(0,Ee.Z)(Ce);function Ce(Ke){var Be;if((0,Pe.Z)(this,Ce),Be=Ye.call(this,Ke),(0,He.Z)((0,te.Z)(Be),"state",{resetCount:0}),(0,He.Z)((0,te.Z)(Be),"cancelRegisterFunc",null),(0,He.Z)((0,te.Z)(Be),"mounted",!1),(0,He.Z)((0,te.Z)(Be),"touched",!1),(0,He.Z)((0,te.Z)(Be),"dirty",!1),(0,He.Z)((0,te.Z)(Be),"validatePromise",void 0),(0,He.Z)((0,te.Z)(Be),"prevValidating",void 0),(0,He.Z)((0,te.Z)(Be),"errors",yo),(0,He.Z)((0,te.Z)(Be),"warnings",yo),(0,He.Z)((0,te.Z)(Be),"cancelRegister",function(){var Rr=Be.props,Lr=Rr.preserve,Mr=Rr.isListField,vi=Rr.name;Be.cancelRegisterFunc&&Be.cancelRegisterFunc(Mr,Lr,qt(vi)),Be.cancelRegisterFunc=null}),(0,He.Z)((0,te.Z)(Be),"getNamePath",function(){var Rr=Be.props,Lr=Rr.name,Mr=Rr.fieldContext,vi=Mr.prefixName,zi=vi===void 0?[]:vi;return Lr!==void 0?[].concat((0,ze.Z)(zi),(0,ze.Z)(Lr)):[]}),(0,He.Z)((0,te.Z)(Be),"getRules",function(){var Rr=Be.props,Lr=Rr.rules,Mr=Lr===void 0?[]:Lr,vi=Rr.fieldContext;return Mr.map(function(zi){return typeof zi=="function"?zi(vi):zi})}),(0,He.Z)((0,te.Z)(Be),"refresh",function(){Be.mounted&&Be.setState(function(Rr){var Lr=Rr.resetCount;return{resetCount:Lr+1}})}),(0,He.Z)((0,te.Z)(Be),"metaCache",null),(0,He.Z)((0,te.Z)(Be),"triggerMetaEvent",function(Rr){var Lr=Be.props.onMetaChange;if(Lr){var Mr=(0,Ge.Z)((0,Ge.Z)({},Be.getMeta()),{},{destroy:Rr});(0,ot.Z)(Be.metaCache,Mr)||Lr(Mr),Be.metaCache=Mr}else Be.metaCache=null}),(0,He.Z)((0,te.Z)(Be),"onStoreChange",function(Rr,Lr,Mr){var vi=Be.props,zi=vi.shouldUpdate,Mo=vi.dependencies,Oi=Mo===void 0?[]:Mo,Ni=vi.onReset,hi=Mr.store,Wi=Be.getNamePath(),Hi=Be.getValue(Rr),Po=Be.getValue(hi),aa=Lr&&lr(Lr,Wi);switch(Mr.type==="valueUpdate"&&Mr.source==="external"&&!(0,ot.Z)(Hi,Po)&&(Be.touched=!0,Be.dirty=!0,Be.validatePromise=null,Be.errors=yo,Be.warnings=yo,Be.triggerMetaEvent()),Mr.type){case"reset":if(!Lr||aa){Be.touched=!1,Be.dirty=!1,Be.validatePromise=void 0,Be.errors=yo,Be.warnings=yo,Be.triggerMetaEvent(),Ni==null||Ni(),Be.refresh();return}break;case"remove":{if(zi&&Gi(zi,Rr,hi,Hi,Po,Mr)){Be.reRender();return}break}case"setField":{var ha=Mr.data;if(aa){"touched"in ha&&(Be.touched=ha.touched),"validating"in ha&&!("originRCField"in ha)&&(Be.validatePromise=ha.validating?Promise.resolve([]):null),"errors"in ha&&(Be.errors=ha.errors||yo),"warnings"in ha&&(Be.warnings=ha.warnings||yo),Be.dirty=!0,Be.triggerMetaEvent(),Be.reRender();return}else if("value"in ha&&lr(Lr,Wi,!0)){Be.reRender();return}if(zi&&!Wi.length&&Gi(zi,Rr,hi,Hi,Po,Mr)){Be.reRender();return}break}case"dependenciesUpdate":{var Ta=Oi.map(qt);if(Ta.some(function(Ma){return lr(Mr.relatedFields,Ma)})){Be.reRender();return}break}default:if(aa||(!Oi.length||Wi.length||zi)&&Gi(zi,Rr,hi,Hi,Po,Mr)){Be.reRender();return}break}zi===!0&&Be.reRender()}),(0,He.Z)((0,te.Z)(Be),"validateRules",function(Rr){var Lr=Be.getNamePath(),Mr=Be.getValue(),vi=Rr||{},zi=vi.triggerName,Mo=vi.validateOnly,Oi=Mo===void 0?!1:Mo,Ni=Promise.resolve().then((0,xe.Z)((0,c.Z)().mark(function hi(){var Wi,Hi,Po,aa,ha,Ta,Ma;return(0,c.Z)().wrap(function(ba){for(;;)switch(ba.prev=ba.next){case 0:if(Be.mounted){ba.next=2;break}return ba.abrupt("return",[]);case 2:if(Wi=Be.props,Hi=Wi.validateFirst,Po=Hi===void 0?!1:Hi,aa=Wi.messageVariables,ha=Wi.validateDebounce,Ta=Be.getRules(),zi&&(Ta=Ta.filter(function(ja){return ja}).filter(function(ja){var wa=ja.validateTrigger;if(!wa)return!0;var Ps=Wt(wa);return Ps.includes(zi)})),!(ha&&zi)){ba.next=10;break}return ba.next=8,new Promise(function(ja){setTimeout(ja,ha)});case 8:if(Be.validatePromise===Ni){ba.next=10;break}return ba.abrupt("return",[]);case 10:return Ma=Nr(Lr,Mr,Ta,Rr,Po,aa),Ma.catch(function(ja){return ja}).then(function(){var ja=arguments.length>0&&arguments[0]!==void 0?arguments[0]:yo;if(Be.validatePromise===Ni){var wa;Be.validatePromise=null;var Ps=[],Ts=[];(wa=ja.forEach)===null||wa===void 0||wa.call(ja,function(_s){var il=_s.rule.warningOnly,ol=_s.errors,Al=ol===void 0?yo:ol;il?Ts.push.apply(Ts,(0,ze.Z)(Al)):Ps.push.apply(Ps,(0,ze.Z)(Al))}),Be.errors=Ps,Be.warnings=Ts,Be.triggerMetaEvent(),Be.reRender()}}),ba.abrupt("return",Ma);case 13:case"end":return ba.stop()}},hi)})));return Oi||(Be.validatePromise=Ni,Be.dirty=!0,Be.errors=yo,Be.warnings=yo,Be.triggerMetaEvent(),Be.reRender()),Ni}),(0,He.Z)((0,te.Z)(Be),"isFieldValidating",function(){return!!Be.validatePromise}),(0,He.Z)((0,te.Z)(Be),"isFieldTouched",function(){return Be.touched}),(0,He.Z)((0,te.Z)(Be),"isFieldDirty",function(){if(Be.dirty||Be.props.initialValue!==void 0)return!0;var Rr=Be.props.fieldContext,Lr=Rr.getInternalHooks(gt),Mr=Lr.getInitialValue;return Mr(Be.getNamePath())!==void 0}),(0,He.Z)((0,te.Z)(Be),"getErrors",function(){return Be.errors}),(0,He.Z)((0,te.Z)(Be),"getWarnings",function(){return Be.warnings}),(0,He.Z)((0,te.Z)(Be),"isListField",function(){return Be.props.isListField}),(0,He.Z)((0,te.Z)(Be),"isList",function(){return Be.props.isList}),(0,He.Z)((0,te.Z)(Be),"isPreserve",function(){return Be.props.preserve}),(0,He.Z)((0,te.Z)(Be),"getMeta",function(){Be.prevValidating=Be.isFieldValidating();var Rr={touched:Be.isFieldTouched(),validating:Be.prevValidating,errors:Be.errors,warnings:Be.warnings,name:Be.getNamePath(),validated:Be.validatePromise===null};return Rr}),(0,He.Z)((0,te.Z)(Be),"getOnlyChild",function(Rr){if(typeof Rr=="function"){var Lr=Be.getMeta();return(0,Ge.Z)((0,Ge.Z)({},Be.getOnlyChild(Rr(Be.getControlled(),Lr,Be.props.fieldContext))),{},{isFunction:!0})}var Mr=(0,Qe.Z)(Rr);return Mr.length!==1||!s.isValidElement(Mr[0])?{child:Mr,isFunction:!1}:{child:Mr[0],isFunction:!1}}),(0,He.Z)((0,te.Z)(Be),"getValue",function(Rr){var Lr=Be.props.fieldContext.getFieldsValue,Mr=Be.getNamePath();return(0,Sn.Z)(Rr||Lr(!0),Mr)}),(0,He.Z)((0,te.Z)(Be),"getControlled",function(){var Rr=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Lr=Be.props,Mr=Lr.name,vi=Lr.trigger,zi=Lr.validateTrigger,Mo=Lr.getValueFromEvent,Oi=Lr.normalize,Ni=Lr.valuePropName,hi=Lr.getValueProps,Wi=Lr.fieldContext,Hi=zi!==void 0?zi:Wi.validateTrigger,Po=Be.getNamePath(),aa=Wi.getInternalHooks,ha=Wi.getFieldsValue,Ta=aa(gt),Ma=Ta.dispatch,Sa=Be.getValue(),ba=hi||function(_s){return(0,He.Z)({},Ni,_s)},ja=Rr[vi],wa=Mr!==void 0?ba(Sa):{},Ps=(0,Ge.Z)((0,Ge.Z)({},Rr),wa);Ps[vi]=function(){Be.touched=!0,Be.dirty=!0,Be.triggerMetaEvent();for(var _s,il=arguments.length,ol=new Array(il),Al=0;Al<il;Al++)ol[Al]=arguments[Al];Mo?_s=Mo.apply(void 0,ol):_s=bo.apply(void 0,[Ni].concat(ol)),Oi&&(_s=Oi(_s,Sa,ha(!0))),_s!==Sa&&Ma({type:"updateValue",namePath:Po,value:_s}),ja&&ja.apply(void 0,ol)};var Ts=Wt(Hi||[]);return Ts.forEach(function(_s){var il=Ps[_s];Ps[_s]=function(){il&&il.apply(void 0,arguments);var ol=Be.props.rules;ol&&ol.length&&Ma({type:"validateField",namePath:Po,triggerName:_s})}}),Ps}),Ke.fieldContext){var Nt=Ke.fieldContext.getInternalHooks,dn=Nt(gt),tr=dn.initEntityValue;tr((0,te.Z)(Be))}return Be}return(0,ye.Z)(Ce,[{key:"componentDidMount",value:function(){var Be=this.props,Nt=Be.shouldUpdate,dn=Be.fieldContext;if(this.mounted=!0,dn){var tr=dn.getInternalHooks,Rr=tr(gt),Lr=Rr.registerField;this.cancelRegisterFunc=Lr(this)}Nt===!0&&this.reRender()}},{key:"componentWillUnmount",value:function(){this.cancelRegister(),this.triggerMetaEvent(!0),this.mounted=!1}},{key:"reRender",value:function(){this.mounted&&this.forceUpdate()}},{key:"render",value:function(){var Be=this.state.resetCount,Nt=this.props.children,dn=this.getOnlyChild(Nt),tr=dn.child,Rr=dn.isFunction,Lr;return Rr?Lr=tr:s.isValidElement(tr)?Lr=s.cloneElement(tr,this.getControlled(tr.props)):((0,qe.ZP)(!tr,"`children` of Field is not validate ReactElement."),Lr=tr),s.createElement(s.Fragment,{key:Be},Lr)}}]),Ce}(s.Component);(0,He.Z)(Oo,"contextType",Ut),(0,He.Z)(Oo,"defaultProps",{trigger:"onChange",valuePropName:"value"});function Xo(an){var Ye,Ce=an.name,Ke=(0,q.Z)(an,fo),Be=s.useContext(Ut),Nt=s.useContext(Pt),dn=Ce!==void 0?qt(Ce):void 0,tr=(Ye=Ke.isListField)!==null&&Ye!==void 0?Ye:!!Nt,Rr="keep";return tr||(Rr="_".concat((dn||[]).join("_"))),s.createElement(Oo,(0,tt.Z)({key:Rr,name:dn,isListField:tr},Ke,{fieldContext:Be}))}var Bo=Xo;function Eo(an){var Ye=an.name,Ce=an.initialValue,Ke=an.children,Be=an.rules,Nt=an.validateTrigger,dn=an.isListField,tr=s.useContext(Ut),Rr=s.useContext(Pt),Lr=s.useRef({keys:[],id:0}),Mr=Lr.current,vi=s.useMemo(function(){var Ni=qt(tr.prefixName)||[];return[].concat((0,ze.Z)(Ni),(0,ze.Z)(qt(Ye)))},[tr.prefixName,Ye]),zi=s.useMemo(function(){return(0,Ge.Z)((0,Ge.Z)({},tr),{},{prefixName:vi})},[tr,vi]),Mo=s.useMemo(function(){return{getKey:function(hi){var Wi=vi.length,Hi=hi[Wi];return[Mr.keys[Hi],hi.slice(Wi+1)]}}},[vi]);if(typeof Ke!="function")return(0,qe.ZP)(!1,"Form.List only accepts function as children."),null;var Oi=function(hi,Wi,Hi){var Po=Hi.source;return Po==="internal"?!1:hi!==Wi};return s.createElement(Pt.Provider,{value:Mo},s.createElement(Ut.Provider,{value:zi},s.createElement(Bo,{name:[],shouldUpdate:Oi,rules:Be,validateTrigger:Nt,initialValue:Ce,isList:!0,isListField:dn!=null?dn:!!Rr},function(Ni,hi){var Wi=Ni.value,Hi=Wi===void 0?[]:Wi,Po=Ni.onChange,aa=tr.getFieldValue,ha=function(){var ba=aa(vi||[]);return ba||[]},Ta={add:function(ba,ja){var wa=ha();ja>=0&&ja<=wa.length?(Mr.keys=[].concat((0,ze.Z)(Mr.keys.slice(0,ja)),[Mr.id],(0,ze.Z)(Mr.keys.slice(ja))),Po([].concat((0,ze.Z)(wa.slice(0,ja)),[ba],(0,ze.Z)(wa.slice(ja))))):(Mr.keys=[].concat((0,ze.Z)(Mr.keys),[Mr.id]),Po([].concat((0,ze.Z)(wa),[ba]))),Mr.id+=1},remove:function(ba){var ja=ha(),wa=new Set(Array.isArray(ba)?ba:[ba]);wa.size<=0||(Mr.keys=Mr.keys.filter(function(Ps,Ts){return!wa.has(Ts)}),Po(ja.filter(function(Ps,Ts){return!wa.has(Ts)})))},move:function(ba,ja){if(ba!==ja){var wa=ha();ba<0||ba>=wa.length||ja<0||ja>=wa.length||(Mr.keys=Zi(Mr.keys,ba,ja),Po(Zi(wa,ba,ja)))}}},Ma=Hi||[];return Array.isArray(Ma)||(Ma=[]),Ke(Ma.map(function(Sa,ba){var ja=Mr.keys[ba];return ja===void 0&&(Mr.keys[ba]=Mr.id,ja=Mr.keys[ba],Mr.id+=1),{name:ba,key:ja,isListField:!0}}),Ta,hi)})))}var zo=Eo,Zo=F(89692);function na(an){var Ye=!1,Ce=an.length,Ke=[];return an.length?new Promise(function(Be,Nt){an.forEach(function(dn,tr){dn.catch(function(Rr){return Ye=!0,Rr}).then(function(Rr){Ce-=1,Ke[tr]=Rr,!(Ce>0)&&(Ye&&Nt(Ke),Be(Ke))})})}):Promise.resolve([])}var po="__@field_split__";function wo(an){return an.map(function(Ye){return"".concat((0,Sr.Z)(Ye),":").concat(Ye)}).join(po)}var So=function(){function an(){(0,Pe.Z)(this,an),(0,He.Z)(this,"kvs",new Map)}return(0,ye.Z)(an,[{key:"set",value:function(Ce,Ke){this.kvs.set(wo(Ce),Ke)}},{key:"get",value:function(Ce){return this.kvs.get(wo(Ce))}},{key:"update",value:function(Ce,Ke){var Be=this.get(Ce),Nt=Ke(Be);Nt?this.set(Ce,Nt):this.delete(Ce)}},{key:"delete",value:function(Ce){this.kvs.delete(wo(Ce))}},{key:"map",value:function(Ce){return(0,ze.Z)(this.kvs.entries()).map(function(Ke){var Be=(0,Zo.Z)(Ke,2),Nt=Be[0],dn=Be[1],tr=Nt.split(po);return Ce({key:tr.map(function(Rr){var Lr=Rr.match(/^([^:]*):(.*)$/),Mr=(0,Zo.Z)(Lr,3),vi=Mr[1],zi=Mr[2];return vi==="number"?Number(zi):zi}),value:dn})})}},{key:"toJSON",value:function(){var Ce={};return this.map(function(Ke){var Be=Ke.key,Nt=Ke.value;return Ce[Be.join(".")]=Nt,null}),Ce}}]),an}(),K=So,_e=["name"],wt=(0,ye.Z)(function an(Ye){var Ce=this;(0,Pe.Z)(this,an),(0,He.Z)(this,"formHooked",!1),(0,He.Z)(this,"forceRootUpdate",void 0),(0,He.Z)(this,"subscribable",!0),(0,He.Z)(this,"store",{}),(0,He.Z)(this,"fieldEntities",[]),(0,He.Z)(this,"initialValues",{}),(0,He.Z)(this,"callbacks",{}),(0,He.Z)(this,"validateMessages",null),(0,He.Z)(this,"preserve",null),(0,He.Z)(this,"lastValidatePromise",null),(0,He.Z)(this,"getForm",function(){return{getFieldValue:Ce.getFieldValue,getFieldsValue:Ce.getFieldsValue,getFieldError:Ce.getFieldError,getFieldWarning:Ce.getFieldWarning,getFieldsError:Ce.getFieldsError,isFieldsTouched:Ce.isFieldsTouched,isFieldTouched:Ce.isFieldTouched,isFieldValidating:Ce.isFieldValidating,isFieldsValidating:Ce.isFieldsValidating,resetFields:Ce.resetFields,setFields:Ce.setFields,setFieldValue:Ce.setFieldValue,setFieldsValue:Ce.setFieldsValue,validateFields:Ce.validateFields,submit:Ce.submit,_init:!0,getInternalHooks:Ce.getInternalHooks}}),(0,He.Z)(this,"getInternalHooks",function(Ke){return Ke===gt?(Ce.formHooked=!0,{dispatch:Ce.dispatch,initEntityValue:Ce.initEntityValue,registerField:Ce.registerField,useSubscribe:Ce.useSubscribe,setInitialValues:Ce.setInitialValues,destroyForm:Ce.destroyForm,setCallbacks:Ce.setCallbacks,setValidateMessages:Ce.setValidateMessages,getFields:Ce.getFields,setPreserve:Ce.setPreserve,getInitialValue:Ce.getInitialValue,registerWatch:Ce.registerWatch}):((0,qe.ZP)(!1,"`getInternalHooks` is internal usage. Should not call directly."),null)}),(0,He.Z)(this,"useSubscribe",function(Ke){Ce.subscribable=Ke}),(0,He.Z)(this,"prevWithoutPreserves",null),(0,He.Z)(this,"setInitialValues",function(Ke,Be){if(Ce.initialValues=Ke||{},Be){var Nt,dn=(0,lt.T)(Ke,Ce.store);(Nt=Ce.prevWithoutPreserves)===null||Nt===void 0||Nt.map(function(tr){var Rr=tr.key;dn=(0,lt.Z)(dn,Rr,(0,Sn.Z)(Ke,Rr))}),Ce.prevWithoutPreserves=null,Ce.updateStore(dn)}}),(0,He.Z)(this,"destroyForm",function(Ke){if(Ke)Ce.updateStore({});else{var Be=new K;Ce.getFieldEntities(!0).forEach(function(Nt){Ce.isMergedPreserve(Nt.isPreserve())||Be.set(Nt.getNamePath(),!0)}),Ce.prevWithoutPreserves=Be}}),(0,He.Z)(this,"getInitialValue",function(Ke){var Be=(0,Sn.Z)(Ce.initialValues,Ke);return Ke.length?(0,lt.T)(Be):Be}),(0,He.Z)(this,"setCallbacks",function(Ke){Ce.callbacks=Ke}),(0,He.Z)(this,"setValidateMessages",function(Ke){Ce.validateMessages=Ke}),(0,He.Z)(this,"setPreserve",function(Ke){Ce.preserve=Ke}),(0,He.Z)(this,"watchList",[]),(0,He.Z)(this,"registerWatch",function(Ke){return Ce.watchList.push(Ke),function(){Ce.watchList=Ce.watchList.filter(function(Be){return Be!==Ke})}}),(0,He.Z)(this,"notifyWatch",function(){var Ke=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];if(Ce.watchList.length){var Be=Ce.getFieldsValue(),Nt=Ce.getFieldsValue(!0);Ce.watchList.forEach(function(dn){dn(Be,Nt,Ke)})}}),(0,He.Z)(this,"timeoutId",null),(0,He.Z)(this,"warningUnhooked",function(){}),(0,He.Z)(this,"updateStore",function(Ke){Ce.store=Ke}),(0,He.Z)(this,"getFieldEntities",function(){var Ke=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return Ke?Ce.fieldEntities.filter(function(Be){return Be.getNamePath().length}):Ce.fieldEntities}),(0,He.Z)(this,"getFieldsMap",function(){var Ke=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,Be=new K;return Ce.getFieldEntities(Ke).forEach(function(Nt){var dn=Nt.getNamePath();Be.set(dn,Nt)}),Be}),(0,He.Z)(this,"getFieldEntitiesForNamePathList",function(Ke){if(!Ke)return Ce.getFieldEntities(!0);var Be=Ce.getFieldsMap(!0);return Ke.map(function(Nt){var dn=qt(Nt);return Be.get(dn)||{INVALIDATE_NAME_PATH:qt(Nt)}})}),(0,He.Z)(this,"getFieldsValue",function(Ke,Be){Ce.warningUnhooked();var Nt,dn,tr;if(Ke===!0||Array.isArray(Ke)?(Nt=Ke,dn=Be):Ke&&(0,Sr.Z)(Ke)==="object"&&(tr=Ke.strict,dn=Ke.filter),Nt===!0&&!dn)return Ce.store;var Rr=Ce.getFieldEntitiesForNamePathList(Array.isArray(Nt)?Nt:null),Lr=[];return Rr.forEach(function(Mr){var vi,zi,Mo="INVALIDATE_NAME_PATH"in Mr?Mr.INVALIDATE_NAME_PATH:Mr.getNamePath();if(tr){var Oi,Ni;if((Oi=(Ni=Mr).isList)!==null&&Oi!==void 0&&Oi.call(Ni))return}else if(!Nt&&(vi=(zi=Mr).isListField)!==null&&vi!==void 0&&vi.call(zi))return;if(!dn)Lr.push(Mo);else{var hi="getMeta"in Mr?Mr.getMeta():null;dn(hi)&&Lr.push(Mo)}}),Nn(Ce.store,Lr.map(qt))}),(0,He.Z)(this,"getFieldValue",function(Ke){Ce.warningUnhooked();var Be=qt(Ke);return(0,Sn.Z)(Ce.store,Be)}),(0,He.Z)(this,"getFieldsError",function(Ke){Ce.warningUnhooked();var Be=Ce.getFieldEntitiesForNamePathList(Ke);return Be.map(function(Nt,dn){return Nt&&!("INVALIDATE_NAME_PATH"in Nt)?{name:Nt.getNamePath(),errors:Nt.getErrors(),warnings:Nt.getWarnings()}:{name:qt(Ke[dn]),errors:[],warnings:[]}})}),(0,He.Z)(this,"getFieldError",function(Ke){Ce.warningUnhooked();var Be=qt(Ke),Nt=Ce.getFieldsError([Be])[0];return Nt.errors}),(0,He.Z)(this,"getFieldWarning",function(Ke){Ce.warningUnhooked();var Be=qt(Ke),Nt=Ce.getFieldsError([Be])[0];return Nt.warnings}),(0,He.Z)(this,"isFieldsTouched",function(){Ce.warningUnhooked();for(var Ke=arguments.length,Be=new Array(Ke),Nt=0;Nt<Ke;Nt++)Be[Nt]=arguments[Nt];var dn=Be[0],tr=Be[1],Rr,Lr=!1;Be.length===0?Rr=null:Be.length===1?Array.isArray(dn)?(Rr=dn.map(qt),Lr=!1):(Rr=null,Lr=dn):(Rr=dn.map(qt),Lr=tr);var Mr=Ce.getFieldEntities(!0),vi=function(hi){return hi.isFieldTouched()};if(!Rr)return Lr?Mr.every(function(Ni){return vi(Ni)||Ni.isList()}):Mr.some(vi);var zi=new K;Rr.forEach(function(Ni){zi.set(Ni,[])}),Mr.forEach(function(Ni){var hi=Ni.getNamePath();Rr.forEach(function(Wi){Wi.every(function(Hi,Po){return hi[Po]===Hi})&&zi.update(Wi,function(Hi){return[].concat((0,ze.Z)(Hi),[Ni])})})});var Mo=function(hi){return hi.some(vi)},Oi=zi.map(function(Ni){var hi=Ni.value;return hi});return Lr?Oi.every(Mo):Oi.some(Mo)}),(0,He.Z)(this,"isFieldTouched",function(Ke){return Ce.warningUnhooked(),Ce.isFieldsTouched([Ke])}),(0,He.Z)(this,"isFieldsValidating",function(Ke){Ce.warningUnhooked();var Be=Ce.getFieldEntities();if(!Ke)return Be.some(function(dn){return dn.isFieldValidating()});var Nt=Ke.map(qt);return Be.some(function(dn){var tr=dn.getNamePath();return lr(Nt,tr)&&dn.isFieldValidating()})}),(0,He.Z)(this,"isFieldValidating",function(Ke){return Ce.warningUnhooked(),Ce.isFieldsValidating([Ke])}),(0,He.Z)(this,"resetWithFieldInitialValue",function(){var Ke=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Be=new K,Nt=Ce.getFieldEntities(!0);Nt.forEach(function(Rr){var Lr=Rr.props.initialValue,Mr=Rr.getNamePath();if(Lr!==void 0){var vi=Be.get(Mr)||new Set;vi.add({entity:Rr,value:Lr}),Be.set(Mr,vi)}});var dn=function(Lr){Lr.forEach(function(Mr){var vi=Mr.props.initialValue;if(vi!==void 0){var zi=Mr.getNamePath(),Mo=Ce.getInitialValue(zi);if(Mo!==void 0)(0,qe.ZP)(!1,"Form already set 'initialValues' with path '".concat(zi.join("."),"'. Field can not overwrite it."));else{var Oi=Be.get(zi);if(Oi&&Oi.size>1)(0,qe.ZP)(!1,"Multiple Field with path '".concat(zi.join("."),"' set 'initialValue'. Can not decide which one to pick."));else if(Oi){var Ni=Ce.getFieldValue(zi),hi=Mr.isListField();!hi&&(!Ke.skipExist||Ni===void 0)&&Ce.updateStore((0,lt.Z)(Ce.store,zi,(0,ze.Z)(Oi)[0].value))}}}})},tr;Ke.entities?tr=Ke.entities:Ke.namePathList?(tr=[],Ke.namePathList.forEach(function(Rr){var Lr=Be.get(Rr);if(Lr){var Mr;(Mr=tr).push.apply(Mr,(0,ze.Z)((0,ze.Z)(Lr).map(function(vi){return vi.entity})))}})):tr=Nt,dn(tr)}),(0,He.Z)(this,"resetFields",function(Ke){Ce.warningUnhooked();var Be=Ce.store;if(!Ke){Ce.updateStore((0,lt.T)(Ce.initialValues)),Ce.resetWithFieldInitialValue(),Ce.notifyObservers(Be,null,{type:"reset"}),Ce.notifyWatch();return}var Nt=Ke.map(qt);Nt.forEach(function(dn){var tr=Ce.getInitialValue(dn);Ce.updateStore((0,lt.Z)(Ce.store,dn,tr))}),Ce.resetWithFieldInitialValue({namePathList:Nt}),Ce.notifyObservers(Be,Nt,{type:"reset"}),Ce.notifyWatch(Nt)}),(0,He.Z)(this,"setFields",function(Ke){Ce.warningUnhooked();var Be=Ce.store,Nt=[];Ke.forEach(function(dn){var tr=dn.name,Rr=(0,q.Z)(dn,_e),Lr=qt(tr);Nt.push(Lr),"value"in Rr&&Ce.updateStore((0,lt.Z)(Ce.store,Lr,Rr.value)),Ce.notifyObservers(Be,[Lr],{type:"setField",data:dn})}),Ce.notifyWatch(Nt)}),(0,He.Z)(this,"getFields",function(){var Ke=Ce.getFieldEntities(!0),Be=Ke.map(function(Nt){var dn=Nt.getNamePath(),tr=Nt.getMeta(),Rr=(0,Ge.Z)((0,Ge.Z)({},tr),{},{name:dn,value:Ce.getFieldValue(dn)});return Object.defineProperty(Rr,"originRCField",{value:!0}),Rr});return Be}),(0,He.Z)(this,"initEntityValue",function(Ke){var Be=Ke.props.initialValue;if(Be!==void 0){var Nt=Ke.getNamePath(),dn=(0,Sn.Z)(Ce.store,Nt);dn===void 0&&Ce.updateStore((0,lt.Z)(Ce.store,Nt,Be))}}),(0,He.Z)(this,"isMergedPreserve",function(Ke){var Be=Ke!==void 0?Ke:Ce.preserve;return Be!=null?Be:!0}),(0,He.Z)(this,"registerField",function(Ke){Ce.fieldEntities.push(Ke);var Be=Ke.getNamePath();if(Ce.notifyWatch([Be]),Ke.props.initialValue!==void 0){var Nt=Ce.store;Ce.resetWithFieldInitialValue({entities:[Ke],skipExist:!0}),Ce.notifyObservers(Nt,[Ke.getNamePath()],{type:"valueUpdate",source:"internal"})}return function(dn,tr){var Rr=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];if(Ce.fieldEntities=Ce.fieldEntities.filter(function(vi){return vi!==Ke}),!Ce.isMergedPreserve(tr)&&(!dn||Rr.length>1)){var Lr=dn?void 0:Ce.getInitialValue(Be);if(Be.length&&Ce.getFieldValue(Be)!==Lr&&Ce.fieldEntities.every(function(vi){return!di(vi.getNamePath(),Be)})){var Mr=Ce.store;Ce.updateStore((0,lt.Z)(Mr,Be,Lr,!0)),Ce.notifyObservers(Mr,[Be],{type:"remove"}),Ce.triggerDependenciesUpdate(Mr,Be)}}Ce.notifyWatch([Be])}}),(0,He.Z)(this,"dispatch",function(Ke){switch(Ke.type){case"updateValue":{var Be=Ke.namePath,Nt=Ke.value;Ce.updateValue(Be,Nt);break}case"validateField":{var dn=Ke.namePath,tr=Ke.triggerName;Ce.validateFields([dn],{triggerName:tr});break}default:}}),(0,He.Z)(this,"notifyObservers",function(Ke,Be,Nt){if(Ce.subscribable){var dn=(0,Ge.Z)((0,Ge.Z)({},Nt),{},{store:Ce.getFieldsValue(!0)});Ce.getFieldEntities().forEach(function(tr){var Rr=tr.onStoreChange;Rr(Ke,Be,dn)})}else Ce.forceRootUpdate()}),(0,He.Z)(this,"triggerDependenciesUpdate",function(Ke,Be){var Nt=Ce.getDependencyChildrenFields(Be);return Nt.length&&Ce.validateFields(Nt),Ce.notifyObservers(Ke,Nt,{type:"dependenciesUpdate",relatedFields:[Be].concat((0,ze.Z)(Nt))}),Nt}),(0,He.Z)(this,"updateValue",function(Ke,Be){var Nt=qt(Ke),dn=Ce.store;Ce.updateStore((0,lt.Z)(Ce.store,Nt,Be)),Ce.notifyObservers(dn,[Nt],{type:"valueUpdate",source:"internal"}),Ce.notifyWatch([Nt]);var tr=Ce.triggerDependenciesUpdate(dn,Nt),Rr=Ce.callbacks.onValuesChange;if(Rr){var Lr=Nn(Ce.store,[Nt]);Rr(Lr,Ce.getFieldsValue())}Ce.triggerOnFieldsChange([Nt].concat((0,ze.Z)(tr)))}),(0,He.Z)(this,"setFieldsValue",function(Ke){Ce.warningUnhooked();var Be=Ce.store;if(Ke){var Nt=(0,lt.T)(Ce.store,Ke);Ce.updateStore(Nt)}Ce.notifyObservers(Be,null,{type:"valueUpdate",source:"external"}),Ce.notifyWatch()}),(0,He.Z)(this,"setFieldValue",function(Ke,Be){Ce.setFields([{name:Ke,value:Be,errors:[],warnings:[]}])}),(0,He.Z)(this,"getDependencyChildrenFields",function(Ke){var Be=new Set,Nt=[],dn=new K;Ce.getFieldEntities().forEach(function(Rr){var Lr=Rr.props.dependencies;(Lr||[]).forEach(function(Mr){var vi=qt(Mr);dn.update(vi,function(){var zi=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new Set;return zi.add(Rr),zi})})});var tr=function Rr(Lr){var Mr=dn.get(Lr)||new Set;Mr.forEach(function(vi){if(!Be.has(vi)){Be.add(vi);var zi=vi.getNamePath();vi.isFieldDirty()&&zi.length&&(Nt.push(zi),Rr(zi))}})};return tr(Ke),Nt}),(0,He.Z)(this,"triggerOnFieldsChange",function(Ke,Be){var Nt=Ce.callbacks.onFieldsChange;if(Nt){var dn=Ce.getFields();if(Be){var tr=new K;Be.forEach(function(Lr){var Mr=Lr.name,vi=Lr.errors;tr.set(Mr,vi)}),dn.forEach(function(Lr){Lr.errors=tr.get(Lr.name)||Lr.errors})}var Rr=dn.filter(function(Lr){var Mr=Lr.name;return lr(Ke,Mr)});Rr.length&&Nt(Rr,dn)}}),(0,He.Z)(this,"validateFields",function(Ke,Be){Ce.warningUnhooked();var Nt,dn;Array.isArray(Ke)||typeof Ke=="string"||typeof Be=="string"?(Nt=Ke,dn=Be):dn=Ke;var tr=!!Nt,Rr=tr?Nt.map(qt):[],Lr=[],Mr=String(Date.now()),vi=new Set,zi=dn||{},Mo=zi.recursive,Oi=zi.dirty;Ce.getFieldEntities(!0).forEach(function(Hi){if(tr||Rr.push(Hi.getNamePath()),!(!Hi.props.rules||!Hi.props.rules.length)&&!(Oi&&!Hi.isFieldDirty())){var Po=Hi.getNamePath();if(vi.add(Po.join(Mr)),!tr||lr(Rr,Po,Mo)){var aa=Hi.validateRules((0,Ge.Z)({validateMessages:(0,Ge.Z)((0,Ge.Z)({},dt),Ce.validateMessages)},dn));Lr.push(aa.then(function(){return{name:Po,errors:[],warnings:[]}}).catch(function(ha){var Ta,Ma=[],Sa=[];return(Ta=ha.forEach)===null||Ta===void 0||Ta.call(ha,function(ba){var ja=ba.rule.warningOnly,wa=ba.errors;ja?Sa.push.apply(Sa,(0,ze.Z)(wa)):Ma.push.apply(Ma,(0,ze.Z)(wa))}),Ma.length?Promise.reject({name:Po,errors:Ma,warnings:Sa}):{name:Po,errors:Ma,warnings:Sa}}))}}});var Ni=na(Lr);Ce.lastValidatePromise=Ni,Ni.catch(function(Hi){return Hi}).then(function(Hi){var Po=Hi.map(function(aa){var ha=aa.name;return ha});Ce.notifyObservers(Ce.store,Po,{type:"validateFinish"}),Ce.triggerOnFieldsChange(Po,Hi)});var hi=Ni.then(function(){return Ce.lastValidatePromise===Ni?Promise.resolve(Ce.getFieldsValue(Rr)):Promise.reject([])}).catch(function(Hi){var Po=Hi.filter(function(aa){return aa&&aa.errors.length});return Promise.reject({values:Ce.getFieldsValue(Rr),errorFields:Po,outOfDate:Ce.lastValidatePromise!==Ni})});hi.catch(function(Hi){return Hi});var Wi=Rr.filter(function(Hi){return vi.has(Hi.join(Mr))});return Ce.triggerOnFieldsChange(Wi),hi}),(0,He.Z)(this,"submit",function(){Ce.warningUnhooked(),Ce.validateFields().then(function(Ke){var Be=Ce.callbacks.onFinish;if(Be)try{Be(Ke)}catch(Nt){console.error(Nt)}}).catch(function(Ke){var Be=Ce.callbacks.onFinishFailed;Be&&Be(Ke)})}),this.forceRootUpdate=Ye});function Tt(an){var Ye=s.useRef(),Ce=s.useState({}),Ke=(0,Zo.Z)(Ce,2),Be=Ke[1];if(!Ye.current)if(an)Ye.current=an;else{var Nt=function(){Be({})},dn=new wt(Nt);Ye.current=dn.getForm()}return[Ye.current]}var In=Tt,Qn=s.createContext({triggerFormChange:function(){},triggerFormFinish:function(){},registerForm:function(){},unregisterForm:function(){}}),ci=function(Ye){var Ce=Ye.validateMessages,Ke=Ye.onFormChange,Be=Ye.onFormFinish,Nt=Ye.children,dn=s.useContext(Qn),tr=s.useRef({});return s.createElement(Qn.Provider,{value:(0,Ge.Z)((0,Ge.Z)({},dn),{},{validateMessages:(0,Ge.Z)((0,Ge.Z)({},dn.validateMessages),Ce),triggerFormChange:function(Lr,Mr){Ke&&Ke(Lr,{changedFields:Mr,forms:tr.current}),dn.triggerFormChange(Lr,Mr)},triggerFormFinish:function(Lr,Mr){Be&&Be(Lr,{values:Mr,forms:tr.current}),dn.triggerFormFinish(Lr,Mr)},registerForm:function(Lr,Mr){Lr&&(tr.current=(0,Ge.Z)((0,Ge.Z)({},tr.current),{},(0,He.Z)({},Lr,Mr))),dn.registerForm(Lr,Mr)},unregisterForm:function(Lr){var Mr=(0,Ge.Z)({},tr.current);delete Mr[Lr],tr.current=Mr,dn.unregisterForm(Lr)}})},Nt)},fr=Qn,Ai=["name","initialValues","fields","form","preserve","children","component","validateMessages","validateTrigger","onValuesChange","onFieldsChange","onFinish","onFinishFailed","clearOnDestroy"],to=function(Ye,Ce){var Ke=Ye.name,Be=Ye.initialValues,Nt=Ye.fields,dn=Ye.form,tr=Ye.preserve,Rr=Ye.children,Lr=Ye.component,Mr=Lr===void 0?"form":Lr,vi=Ye.validateMessages,zi=Ye.validateTrigger,Mo=zi===void 0?"onChange":zi,Oi=Ye.onValuesChange,Ni=Ye.onFieldsChange,hi=Ye.onFinish,Wi=Ye.onFinishFailed,Hi=Ye.clearOnDestroy,Po=(0,q.Z)(Ye,Ai),aa=s.useRef(null),ha=s.useContext(fr),Ta=In(dn),Ma=(0,Zo.Z)(Ta,1),Sa=Ma[0],ba=Sa.getInternalHooks(gt),ja=ba.useSubscribe,wa=ba.setInitialValues,Ps=ba.setCallbacks,Ts=ba.setValidateMessages,_s=ba.setPreserve,il=ba.destroyForm;s.useImperativeHandle(Ce,function(){return(0,Ge.Z)((0,Ge.Z)({},Sa),{},{nativeElement:aa.current})}),s.useEffect(function(){return ha.registerForm(Ke,Sa),function(){ha.unregisterForm(Ke)}},[ha,Sa,Ke]),Ts((0,Ge.Z)((0,Ge.Z)({},ha.validateMessages),vi)),Ps({onValuesChange:Oi,onFieldsChange:function(Go){if(ha.triggerFormChange(Ke,Go),Ni){for(var hs=arguments.length,zs=new Array(hs>1?hs-1:0),ic=1;ic<hs;ic++)zs[ic-1]=arguments[ic];Ni.apply(void 0,[Go].concat(zs))}},onFinish:function(Go){ha.triggerFormFinish(Ke,Go),hi&&hi(Go)},onFinishFailed:Wi}),_s(tr);var ol=s.useRef(null);wa(Be,!ol.current),ol.current||(ol.current=!0),s.useEffect(function(){return function(){return il(Hi)}},[]);var Al,Vs=typeof Rr=="function";if(Vs){var Dl=Sa.getFieldsValue(!0);Al=Rr(Dl,Sa)}else Al=Rr;ja(!Vs);var mc=s.useRef();s.useEffect(function(){Ti(mc.current||[],Nt||[])||Sa.setFields(Nt||[]),mc.current=Nt},[Nt,Sa]);var pa=s.useMemo(function(){return(0,Ge.Z)((0,Ge.Z)({},Sa),{},{validateTrigger:Mo})},[Sa,Mo]),Ha=s.createElement(Pt.Provider,{value:null},s.createElement(Ut.Provider,{value:pa},Al));return Mr===!1?Ha:s.createElement(Mr,(0,tt.Z)({},Po,{ref:aa,onSubmit:function(Go){Go.preventDefault(),Go.stopPropagation(),Sa.submit()},onReset:function(Go){var hs;Go.preventDefault(),Sa.resetFields(),(hs=Po.onReset)===null||hs===void 0||hs.call(Po,Go)}}),Ha)},xr=to;function Vi(an){try{return JSON.stringify(an)}catch(Ye){return Math.random()}}var Fr=function(){};function Ei(){for(var an=arguments.length,Ye=new Array(an),Ce=0;Ce<an;Ce++)Ye[Ce]=arguments[Ce];var Ke=Ye[0],Be=Ye[1],Nt=Be===void 0?{}:Be,dn=kt(Nt)?{form:Nt}:Nt,tr=dn.form,Rr=(0,s.useState)(),Lr=(0,Zo.Z)(Rr,2),Mr=Lr[0],vi=Lr[1],zi=(0,s.useMemo)(function(){return Vi(Mr)},[Mr]),Mo=(0,s.useRef)(zi);Mo.current=zi;var Oi=(0,s.useContext)(Ut),Ni=tr||Oi,hi=Ni&&Ni._init,Wi=qt(Ke),Hi=(0,s.useRef)(Wi);return Hi.current=Wi,Fr(Wi),(0,s.useEffect)(function(){if(hi){var Po=Ni.getFieldsValue,aa=Ni.getInternalHooks,ha=aa(gt),Ta=ha.registerWatch,Ma=function(wa,Ps){var Ts=dn.preserve?Ps:wa;return typeof Ke=="function"?Ke(Ts):(0,Sn.Z)(Ts,Hi.current)},Sa=Ta(function(ja,wa){var Ps=Ma(ja,wa),Ts=Vi(Ps);Mo.current!==Ts&&(Mo.current=Ts,vi(Ps))}),ba=Ma(Po(),Po(!0));return Mr!==ba&&vi(ba),Sa}},[hi]),Mr}var _i=Ei,bi=s.forwardRef(xr),Yo=bi;Yo.FormProvider=ci,Yo.Field=Bo,Yo.List=zo,Yo.useForm=In,Yo.useWatch=_i;var jo=Yo},88555:function(Hr,jt,F){"use strict";F.d(jt,{Z:function(){return ze}});var s=F(58190),tt=F(54153),q=F(5147),c=F(75271),xe=["show"];function Ge(Pe,ye){if(!ye.max)return!0;var te=ye.strategy(Pe);return te<=ye.max}function ze(Pe,ye){return c.useMemo(function(){var te={};ye&&(te.show=(0,q.Z)(ye)==="object"&&ye.formatter?ye.formatter:!!ye),te=(0,tt.Z)((0,tt.Z)({},te),Pe);var je=te,Ee=je.show,He=(0,s.Z)(je,xe);return(0,tt.Z)((0,tt.Z)({},He),{},{show:!!Ee,showFormatter:typeof Ee=="function"?Ee:void 0,strategy:He.strategy||function(Qe){return Qe.length}})},[Pe,ye])}},44885:function(Hr,jt,F){"use strict";F.d(jt,{Q:function(){return te},Z:function(){return Ut}});var s=F(54153),tt=F(23022),q=F(38926),c=F(5147),xe=F(82187),Ge=F.n(xe),ze=F(75271),Pe=F(68677),ye=ze.forwardRef(function(yt,Pt){var Wt,kt,Sr,cr=yt.inputElement,Xn=yt.children,We=yt.prefixCls,Zt=yt.prefix,cn=yt.suffix,Kt=yt.addonBefore,Fe=yt.addonAfter,Ln=yt.className,hn=yt.style,On=yt.disabled,ut=yt.readOnly,Yt=yt.focused,bn=yt.triggerFocus,he=yt.allowClear,Jt=yt.value,wi=yt.handleReset,ai=yt.hidden,$e=yt.classes,An=yt.classNames,Ur=yt.dataAttrs,Kr=yt.styles,Rn=yt.components,Wr=yt.onClear,Ii=Xn!=null?Xn:cr,pr=(Rn==null?void 0:Rn.affixWrapper)||"span",it=(Rn==null?void 0:Rn.groupWrapper)||"span",Ot=(Rn==null?void 0:Rn.wrapper)||"span",Bn=(Rn==null?void 0:Rn.groupAddon)||"span",fn=(0,ze.useRef)(null),gn=function(si){var Si;(Si=fn.current)!==null&&Si!==void 0&&Si.contains(si.target)&&(bn==null||bn())},Er=(0,Pe.X3)(yt),Vn=(0,ze.cloneElement)(Ii,{value:Jt,className:Ge()((Wt=Ii.props)===null||Wt===void 0?void 0:Wt.className,!Er&&(An==null?void 0:An.variant))||null}),ri=(0,ze.useRef)(null);if(ze.useImperativeHandle(Pt,function(){return{nativeElement:ri.current||fn.current}}),Er){var fi=null;if(he){var qr=!On&&!ut&&Jt,Jr="".concat(We,"-clear-icon"),wr=(0,c.Z)(he)==="object"&&he!==null&&he!==void 0&&he.clearIcon?he.clearIcon:"\u2716";fi=ze.createElement("button",{type:"button",tabIndex:-1,onClick:function(si){wi==null||wi(si),Wr==null||Wr()},onMouseDown:function(si){return si.preventDefault()},className:Ge()(Jr,(0,q.Z)((0,q.Z)({},"".concat(Jr,"-hidden"),!qr),"".concat(Jr,"-has-suffix"),!!cn))},wr)}var Yn="".concat(We,"-affix-wrapper"),yr=Ge()(Yn,(0,q.Z)((0,q.Z)((0,q.Z)((0,q.Z)((0,q.Z)({},"".concat(We,"-disabled"),On),"".concat(Yn,"-disabled"),On),"".concat(Yn,"-focused"),Yt),"".concat(Yn,"-readonly"),ut),"".concat(Yn,"-input-with-clear-btn"),cn&&he&&Jt),$e==null?void 0:$e.affixWrapper,An==null?void 0:An.affixWrapper,An==null?void 0:An.variant),Pr=(cn||he)&&ze.createElement("span",{className:Ge()("".concat(We,"-suffix"),An==null?void 0:An.suffix),style:Kr==null?void 0:Kr.suffix},fi,cn);Vn=ze.createElement(pr,(0,tt.Z)({className:yr,style:Kr==null?void 0:Kr.affixWrapper,onClick:gn},Ur==null?void 0:Ur.affixWrapper,{ref:fn}),Zt&&ze.createElement("span",{className:Ge()("".concat(We,"-prefix"),An==null?void 0:An.prefix),style:Kr==null?void 0:Kr.prefix},Zt),Vn,Pr)}if((0,Pe.He)(yt)){var Ir="".concat(We,"-group"),Xr="".concat(Ir,"-addon"),rr="".concat(Ir,"-wrapper"),gr=Ge()("".concat(We,"-wrapper"),Ir,$e==null?void 0:$e.wrapper,An==null?void 0:An.wrapper),ei=Ge()(rr,(0,q.Z)({},"".concat(rr,"-disabled"),On),$e==null?void 0:$e.group,An==null?void 0:An.groupWrapper);Vn=ze.createElement(it,{className:ei,ref:ri},ze.createElement(Ot,{className:gr},Kt&&ze.createElement(Bn,{className:Xr},Kt),Vn,Fe&&ze.createElement(Bn,{className:Xr},Fe)))}return ze.cloneElement(Vn,{className:Ge()((kt=Vn.props)===null||kt===void 0?void 0:kt.className,Ln)||null,style:(0,s.Z)((0,s.Z)({},(Sr=Vn.props)===null||Sr===void 0?void 0:Sr.style),hn),hidden:ai})}),te=ye,je=F(46865),Ee=F(89692),He=F(58190),Qe=F(93954),ot=F(18051),qe=F(88555),gt=["autoComplete","onChange","onFocus","onBlur","onPressEnter","onKeyDown","onKeyUp","prefixCls","disabled","htmlSize","className","maxLength","suffix","showCount","count","type","classes","classNames","styles","onCompositionStart","onCompositionEnd"],xt=(0,ze.forwardRef)(function(yt,Pt){var Wt=yt.autoComplete,kt=yt.onChange,Sr=yt.onFocus,cr=yt.onBlur,Xn=yt.onPressEnter,We=yt.onKeyDown,Zt=yt.onKeyUp,cn=yt.prefixCls,Kt=cn===void 0?"rc-input":cn,Fe=yt.disabled,Ln=yt.htmlSize,hn=yt.className,On=yt.maxLength,ut=yt.suffix,Yt=yt.showCount,bn=yt.count,he=yt.type,Jt=he===void 0?"text":he,wi=yt.classes,ai=yt.classNames,$e=yt.styles,An=yt.onCompositionStart,Ur=yt.onCompositionEnd,Kr=(0,He.Z)(yt,gt),Rn=(0,ze.useState)(!1),Wr=(0,Ee.Z)(Rn,2),Ii=Wr[0],pr=Wr[1],it=(0,ze.useRef)(!1),Ot=(0,ze.useRef)(!1),Bn=(0,ze.useRef)(null),fn=(0,ze.useRef)(null),gn=function(kr){Bn.current&&(0,Pe.nH)(Bn.current,kr)},Er=(0,Qe.Z)(yt.defaultValue,{value:yt.value}),Vn=(0,Ee.Z)(Er,2),ri=Vn[0],fi=Vn[1],qr=ri==null?"":String(ri),Jr=(0,ze.useState)(null),wr=(0,Ee.Z)(Jr,2),Yn=wr[0],yr=wr[1],Pr=(0,qe.Z)(bn,Yt),Ir=Pr.max||On,Xr=Pr.strategy(qr),rr=!!Ir&&Xr>Ir;(0,ze.useImperativeHandle)(Pt,function(){var ir;return{focus:gn,blur:function(){var gi;(gi=Bn.current)===null||gi===void 0||gi.blur()},setSelectionRange:function(gi,li,eo){var io;(io=Bn.current)===null||io===void 0||io.setSelectionRange(gi,li,eo)},select:function(){var gi;(gi=Bn.current)===null||gi===void 0||gi.select()},input:Bn.current,nativeElement:((ir=fn.current)===null||ir===void 0?void 0:ir.nativeElement)||Bn.current}}),(0,ze.useEffect)(function(){Ot.current&&(Ot.current=!1),pr(function(ir){return ir&&Fe?!1:ir})},[Fe]);var gr=function(kr,gi,li){var eo=gi;if(!it.current&&Pr.exceedFormatter&&Pr.max&&Pr.strategy(gi)>Pr.max){if(eo=Pr.exceedFormatter(gi,{max:Pr.max}),gi!==eo){var io,Lo;yr([((io=Bn.current)===null||io===void 0?void 0:io.selectionStart)||0,((Lo=Bn.current)===null||Lo===void 0?void 0:Lo.selectionEnd)||0])}}else if(li.source==="compositionEnd")return;fi(eo),Bn.current&&(0,Pe.rJ)(Bn.current,kr,kt,eo)};(0,ze.useEffect)(function(){if(Yn){var ir;(ir=Bn.current)===null||ir===void 0||ir.setSelectionRange.apply(ir,(0,je.Z)(Yn))}},[Yn]);var ei=function(kr){gr(kr,kr.target.value,{source:"change"})},Un=function(kr){it.current=!1,gr(kr,kr.currentTarget.value,{source:"compositionEnd"}),Ur==null||Ur(kr)},si=function(kr){Xn&&kr.key==="Enter"&&!Ot.current&&(Ot.current=!0,Xn(kr)),We==null||We(kr)},Si=function(kr){kr.key==="Enter"&&(Ot.current=!1),Zt==null||Zt(kr)},Yi=function(kr){pr(!0),Sr==null||Sr(kr)},xo=function(kr){Ot.current&&(Ot.current=!1),pr(!1),cr==null||cr(kr)},Qr=function(kr){fi(""),gn(),Bn.current&&(0,Pe.rJ)(Bn.current,kr,kt)},co=rr&&"".concat(Kt,"-out-of-range"),tn=function(){var kr=(0,ot.Z)(yt,["prefixCls","onPressEnter","addonBefore","addonAfter","prefix","suffix","allowClear","defaultValue","showCount","count","classes","htmlSize","styles","classNames","onClear"]);return ze.createElement("input",(0,tt.Z)({autoComplete:Wt},kr,{onChange:ei,onFocus:Yi,onBlur:xo,onKeyDown:si,onKeyUp:Si,className:Ge()(Kt,(0,q.Z)({},"".concat(Kt,"-disabled"),Fe),ai==null?void 0:ai.input),style:$e==null?void 0:$e.input,ref:Bn,size:Ln,type:Jt,onCompositionStart:function(li){it.current=!0,An==null||An(li)},onCompositionEnd:Un}))},Tn=function(){var kr=Number(Ir)>0;if(ut||Pr.show){var gi=Pr.showFormatter?Pr.showFormatter({value:qr,count:Xr,maxLength:Ir}):"".concat(Xr).concat(kr?" / ".concat(Ir):"");return ze.createElement(ze.Fragment,null,Pr.show&&ze.createElement("span",{className:Ge()("".concat(Kt,"-show-count-suffix"),(0,q.Z)({},"".concat(Kt,"-show-count-has-suffix"),!!ut),ai==null?void 0:ai.count),style:(0,s.Z)({},$e==null?void 0:$e.count)},gi),ut)}return null};return ze.createElement(te,(0,tt.Z)({},Kr,{prefixCls:Kt,className:Ge()(hn,co),handleReset:Qr,value:qr,focused:Ii,triggerFocus:gn,suffix:Tn(),disabled:Fe,classes:wi,classNames:ai,styles:$e}),tn())}),Xe=xt,Ut=Xe},68677:function(Hr,jt,F){"use strict";F.d(jt,{He:function(){return s},X3:function(){return tt},nH:function(){return xe},rJ:function(){return c}});function s(Ge){return!!(Ge.addonBefore||Ge.addonAfter)}function tt(Ge){return!!(Ge.prefix||Ge.suffix||Ge.allowClear)}function q(Ge,ze,Pe){var ye=ze.cloneNode(!0),te=Object.create(Ge,{target:{value:ye},currentTarget:{value:ye}});return ye.value=Pe,typeof ze.selectionStart=="number"&&typeof ze.selectionEnd=="number"&&(ye.selectionStart=ze.selectionStart,ye.selectionEnd=ze.selectionEnd),ye.setSelectionRange=function(){ze.setSelectionRange.apply(ze,arguments)},te}function c(Ge,ze,Pe,ye){if(Pe){var te=ze;if(ze.type==="click"){te=q(ze,Ge,""),Pe(te);return}if(Ge.type!=="file"&&ye!==void 0){te=q(ze,Ge,ye),Pe(te);return}Pe(te)}}function xe(Ge,ze){if(Ge){Ge.focus(ze);var Pe=ze||{},ye=Pe.cursor;if(ye){var te=Ge.value.length;switch(ye){case"start":Ge.setSelectionRange(0,0);break;case"end":Ge.setSelectionRange(te,te);break;default:Ge.setSelectionRange(0,te)}}}}},18507:function(Hr,jt){"use strict";var F={items_per_page:"/ page",jump_to:"Go to",jump_to_confirm:"confirm",page:"Page",prev_page:"Previous Page",next_page:"Next Page",prev_5:"Previous 5 Pages",next_5:"Next 5 Pages",prev_3:"Previous 3 Pages",next_3:"Next 3 Pages",page_size:"Page Size"};jt.Z=F},21125:function(Hr,jt,F){"use strict";F.d(jt,{ZP:function(){return ze}});var s=F(89692),tt=F(75271),q=F(18415),c=0,xe=(0,q.Z)();function Ge(){var Pe;return xe?(Pe=c,c+=1):Pe="TEST_OR_SSR",Pe}function ze(Pe){var ye=tt.useState(),te=(0,s.Z)(ye,2),je=te[0],Ee=te[1];return tt.useEffect(function(){Ee("rc_select_".concat(Ge()))},[]),Pe||je}},12321:function(Hr,jt,F){"use strict";F.d(jt,{Ac:function(){return rr},Xo:function(){return ei},Wx:function(){return si},ZP:function(){return nn},lk:function(){return Ut}});var s=F(23022),tt=F(46865),q=F(38926),c=F(54153),xe=F(89692),Ge=F(58190),ze=F(5147),Pe=F(93954),ye=F(4449),te=F(75271),je=F(82187),Ee=F.n(je),He=F(92076),Qe=F(21611),ot=F(42684),qe=function(lt){var En=lt.className,_n=lt.customizeIcon,Wn=lt.customizeIconProps,nr=lt.children,mr=lt.onMouseDown,Nr=lt.onClick,ui=typeof _n=="function"?_n(Wn):_n;return te.createElement("span",{className:En,onMouseDown:function(qi){qi.preventDefault(),mr==null||mr(qi)},style:{userSelect:"none",WebkitUserSelect:"none"},unselectable:"on",onClick:Nr,"aria-hidden":!0},ui!==void 0?ui:te.createElement("span",{className:Ee()(En.split(/\s+/).map(function(Zr){return"".concat(Zr,"-icon")}))},nr))},gt=qe,xt=function(lt,En,_n,Wn,nr){var mr=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!1,Nr=arguments.length>6?arguments[6]:void 0,ui=arguments.length>7?arguments[7]:void 0,Zr=te.useMemo(function(){if((0,ze.Z)(Wn)==="object")return Wn.clearIcon;if(nr)return nr},[Wn,nr]),qi=te.useMemo(function(){return!!(!mr&&Wn&&(_n.length||Nr)&&!(ui==="combobox"&&Nr===""))},[Wn,mr,_n.length,Nr,ui]);return{allowClear:qi,clearIcon:te.createElement(gt,{className:"".concat(lt,"-clear"),onMouseDown:En,customizeIcon:Zr},"\xD7")}},Xe=te.createContext(null);function Ut(){return te.useContext(Xe)}function yt(){var dt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:10,lt=te.useState(!1),En=(0,xe.Z)(lt,2),_n=En[0],Wn=En[1],nr=te.useRef(null),mr=function(){window.clearTimeout(nr.current)};te.useEffect(function(){return mr},[]);var Nr=function(Zr,qi){mr(),nr.current=window.setTimeout(function(){Wn(Zr),qi&&qi()},dt)};return[_n,Nr,mr]}function Pt(){var dt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:250,lt=te.useRef(null),En=te.useRef(null);te.useEffect(function(){return function(){window.clearTimeout(En.current)}},[]);function _n(Wn){(Wn||lt.current===null)&&(lt.current=Wn),window.clearTimeout(En.current),En.current=window.setTimeout(function(){lt.current=null},dt)}return[function(){return lt.current},_n]}function Wt(dt,lt,En,_n){var Wn=te.useRef(null);Wn.current={open:lt,triggerOpen:En,customizedTrigger:_n},te.useEffect(function(){function nr(mr){var Nr;if(!((Nr=Wn.current)!==null&&Nr!==void 0&&Nr.customizedTrigger)){var ui=mr.target;ui.shadowRoot&&mr.composed&&(ui=mr.composedPath()[0]||ui),Wn.current.open&&dt().filter(function(Zr){return Zr}).every(function(Zr){return!Zr.contains(ui)&&Zr!==ui})&&Wn.current.triggerOpen(!1)}}return window.addEventListener("mousedown",nr),function(){return window.removeEventListener("mousedown",nr)}},[])}var kt=F(14583);function Sr(dt){return dt&&![kt.Z.ESC,kt.Z.SHIFT,kt.Z.BACKSPACE,kt.Z.TAB,kt.Z.WIN_KEY,kt.Z.ALT,kt.Z.META,kt.Z.WIN_KEY_RIGHT,kt.Z.CTRL,kt.Z.SEMICOLON,kt.Z.EQUALS,kt.Z.CAPS_LOCK,kt.Z.CONTEXT_MENU,kt.Z.F1,kt.Z.F2,kt.Z.F3,kt.Z.F4,kt.Z.F5,kt.Z.F6,kt.Z.F7,kt.Z.F8,kt.Z.F9,kt.Z.F10,kt.Z.F11,kt.Z.F12].includes(dt)}var cr=F(71305),Xn=F(50009),We=function(lt,En){var _n,Wn=lt.prefixCls,nr=lt.id,mr=lt.inputElement,Nr=lt.disabled,ui=lt.tabIndex,Zr=lt.autoFocus,qi=lt.autoComplete,pt=lt.editable,Sn=lt.activeDescendantId,qt=lt.value,Nn=lt.maxLength,lr=lt.onKeyDown,di=lt.onMouseDown,Ti=lt.onChange,bo=lt.onPaste,Zi=lt.onCompositionStart,fo=lt.onCompositionEnd,yo=lt.onBlur,Gi=lt.open,Oo=lt.attrs,Xo=mr||te.createElement("input",null),Bo=Xo,Eo=Bo.ref,zo=Bo.props,Zo=zo.onKeyDown,na=zo.onChange,po=zo.onMouseDown,wo=zo.onCompositionStart,So=zo.onCompositionEnd,K=zo.onBlur,_e=zo.style;return(0,ye.Kp)(!("maxLength"in Xo.props),"Passing 'maxLength' to input element directly may not work because input in BaseSelect is controlled."),Xo=te.cloneElement(Xo,(0,c.Z)((0,c.Z)((0,c.Z)({type:"search"},zo),{},{id:nr,ref:(0,ot.sQ)(En,Eo),disabled:Nr,tabIndex:ui,autoComplete:qi||"off",autoFocus:Zr,className:Ee()("".concat(Wn,"-selection-search-input"),(_n=Xo)===null||_n===void 0||(_n=_n.props)===null||_n===void 0?void 0:_n.className),role:"combobox","aria-expanded":Gi||!1,"aria-haspopup":"listbox","aria-owns":"".concat(nr,"_list"),"aria-autocomplete":"list","aria-controls":"".concat(nr,"_list"),"aria-activedescendant":Gi?Sn:void 0},Oo),{},{value:pt?qt:"",maxLength:Nn,readOnly:!pt,unselectable:pt?null:"on",style:(0,c.Z)((0,c.Z)({},_e),{},{opacity:pt?null:0}),onKeyDown:function(Tt){lr(Tt),Zo&&Zo(Tt)},onMouseDown:function(Tt){di(Tt),po&&po(Tt)},onChange:function(Tt){Ti(Tt),na&&na(Tt)},onCompositionStart:function(Tt){Zi(Tt),wo&&wo(Tt)},onCompositionEnd:function(Tt){fo(Tt),So&&So(Tt)},onPaste:bo,onBlur:function(Tt){yo(Tt),K&&K(Tt)}})),Xo},Zt=te.forwardRef(We),cn=Zt;function Kt(dt){return Array.isArray(dt)?dt:dt!==void 0?[dt]:[]}var Fe=typeof window!="undefined"&&window.document&&window.document.documentElement,Ln=Fe;function hn(dt){return dt!=null}function On(dt){return!dt&&dt!==0}function ut(dt){return["string","number"].includes((0,ze.Z)(dt))}function Yt(dt){var lt=void 0;return dt&&(ut(dt.title)?lt=dt.title.toString():ut(dt.label)&&(lt=dt.label.toString())),lt}function bn(dt,lt){Ln?te.useLayoutEffect(dt,lt):te.useEffect(dt,lt)}function he(dt){var lt;return(lt=dt.key)!==null&&lt!==void 0?lt:dt.value}var Jt=function(lt){lt.preventDefault(),lt.stopPropagation()},wi=function(lt){var En=lt.id,_n=lt.prefixCls,Wn=lt.values,nr=lt.open,mr=lt.searchValue,Nr=lt.autoClearSearchValue,ui=lt.inputRef,Zr=lt.placeholder,qi=lt.disabled,pt=lt.mode,Sn=lt.showSearch,qt=lt.autoFocus,Nn=lt.autoComplete,lr=lt.activeDescendantId,di=lt.tabIndex,Ti=lt.removeIcon,bo=lt.maxTagCount,Zi=lt.maxTagTextLength,fo=lt.maxTagPlaceholder,yo=fo===void 0?function(jo){return"+ ".concat(jo.length," ...")}:fo,Gi=lt.tagRender,Oo=lt.onToggleOpen,Xo=lt.onRemove,Bo=lt.onInputChange,Eo=lt.onInputPaste,zo=lt.onInputKeyDown,Zo=lt.onInputMouseDown,na=lt.onInputCompositionStart,po=lt.onInputCompositionEnd,wo=lt.onInputBlur,So=te.useRef(null),K=(0,te.useState)(0),_e=(0,xe.Z)(K,2),wt=_e[0],Tt=_e[1],In=(0,te.useState)(!1),Qn=(0,xe.Z)(In,2),ci=Qn[0],fr=Qn[1],Ai="".concat(_n,"-selection"),to=nr||pt==="multiple"&&Nr===!1||pt==="tags"?mr:"",xr=pt==="tags"||pt==="multiple"&&Nr===!1||Sn&&(nr||ci);bn(function(){Tt(So.current.scrollWidth)},[to]);var Vi=function(an,Ye,Ce,Ke,Be){return te.createElement("span",{title:Yt(an),className:Ee()("".concat(Ai,"-item"),(0,q.Z)({},"".concat(Ai,"-item-disabled"),Ce))},te.createElement("span",{className:"".concat(Ai,"-item-content")},Ye),Ke&&te.createElement(gt,{className:"".concat(Ai,"-item-remove"),onMouseDown:Jt,onClick:Be,customizeIcon:Ti},"\xD7"))},Fr=function(an,Ye,Ce,Ke,Be,Nt){var dn=function(Rr){Jt(Rr),Oo(!nr)};return te.createElement("span",{onMouseDown:dn},Gi({label:Ye,value:an,disabled:Ce,closable:Ke,onClose:Be,isMaxTag:!!Nt}))},Ei=function(an){var Ye=an.disabled,Ce=an.label,Ke=an.value,Be=!qi&&!Ye,Nt=Ce;if(typeof Zi=="number"&&(typeof Ce=="string"||typeof Ce=="number")){var dn=String(Nt);dn.length>Zi&&(Nt="".concat(dn.slice(0,Zi),"..."))}var tr=function(Lr){Lr&&Lr.stopPropagation(),Xo(an)};return typeof Gi=="function"?Fr(Ke,Nt,Ye,Be,tr):Vi(an,Nt,Ye,Be,tr)},_i=function(an){if(!Wn.length)return null;var Ye=typeof yo=="function"?yo(an):yo;return typeof Gi=="function"?Fr(void 0,Ye,!1,!1,void 0,!0):Vi({title:Ye},Ye,!1)},bi=te.createElement("div",{className:"".concat(Ai,"-search"),style:{width:wt},onFocus:function(){fr(!0)},onBlur:function(){fr(!1)}},te.createElement(cn,{ref:ui,open:nr,prefixCls:_n,id:En,inputElement:null,disabled:qi,autoFocus:qt,autoComplete:Nn,editable:xr,activeDescendantId:lr,value:to,onKeyDown:zo,onMouseDown:Zo,onChange:Bo,onPaste:Eo,onCompositionStart:na,onCompositionEnd:po,onBlur:wo,tabIndex:di,attrs:(0,cr.Z)(lt,!0)}),te.createElement("span",{ref:So,className:"".concat(Ai,"-search-mirror"),"aria-hidden":!0},to,"\xA0")),Yo=te.createElement(Xn.Z,{prefixCls:"".concat(Ai,"-overflow"),data:Wn,renderItem:Ei,renderRest:_i,suffix:bi,itemKey:he,maxCount:bo});return te.createElement("span",{className:"".concat(Ai,"-wrap")},Yo,!Wn.length&&!to&&te.createElement("span",{className:"".concat(Ai,"-placeholder")},Zr))},ai=wi,$e=function(lt){var En=lt.inputElement,_n=lt.prefixCls,Wn=lt.id,nr=lt.inputRef,mr=lt.disabled,Nr=lt.autoFocus,ui=lt.autoComplete,Zr=lt.activeDescendantId,qi=lt.mode,pt=lt.open,Sn=lt.values,qt=lt.placeholder,Nn=lt.tabIndex,lr=lt.showSearch,di=lt.searchValue,Ti=lt.activeValue,bo=lt.maxLength,Zi=lt.onInputKeyDown,fo=lt.onInputMouseDown,yo=lt.onInputChange,Gi=lt.onInputPaste,Oo=lt.onInputCompositionStart,Xo=lt.onInputCompositionEnd,Bo=lt.onInputBlur,Eo=lt.title,zo=te.useState(!1),Zo=(0,xe.Z)(zo,2),na=Zo[0],po=Zo[1],wo=qi==="combobox",So=wo||lr,K=Sn[0],_e=di||"";wo&&Ti&&!na&&(_e=Ti),te.useEffect(function(){wo&&po(!1)},[wo,Ti]);var wt=qi!=="combobox"&&!pt&&!lr?!1:!!_e,Tt=Eo===void 0?Yt(K):Eo,In=te.useMemo(function(){return K?null:te.createElement("span",{className:"".concat(_n,"-selection-placeholder"),style:wt?{visibility:"hidden"}:void 0},qt)},[K,wt,qt,_n]);return te.createElement("span",{className:"".concat(_n,"-selection-wrap")},te.createElement("span",{className:"".concat(_n,"-selection-search")},te.createElement(cn,{ref:nr,prefixCls:_n,id:Wn,open:pt,inputElement:En,disabled:mr,autoFocus:Nr,autoComplete:ui,editable:So,activeDescendantId:Zr,value:_e,onKeyDown:Zi,onMouseDown:fo,onChange:function(ci){po(!0),yo(ci)},onPaste:Gi,onCompositionStart:Oo,onCompositionEnd:Xo,onBlur:Bo,tabIndex:Nn,attrs:(0,cr.Z)(lt,!0),maxLength:wo?bo:void 0})),!wo&&K?te.createElement("span",{className:"".concat(_n,"-selection-item"),title:Tt,style:wt?{visibility:"hidden"}:void 0},K.label):null,In)},An=$e,Ur=function(lt,En){var _n=(0,te.useRef)(null),Wn=(0,te.useRef)(!1),nr=lt.prefixCls,mr=lt.open,Nr=lt.mode,ui=lt.showSearch,Zr=lt.tokenWithEnter,qi=lt.disabled,pt=lt.prefix,Sn=lt.autoClearSearchValue,qt=lt.onSearch,Nn=lt.onSearchSubmit,lr=lt.onToggleOpen,di=lt.onInputKeyDown,Ti=lt.onInputBlur,bo=lt.domRef;te.useImperativeHandle(En,function(){return{focus:function(Tt){_n.current.focus(Tt)},blur:function(){_n.current.blur()}}});var Zi=Pt(0),fo=(0,xe.Z)(Zi,2),yo=fo[0],Gi=fo[1],Oo=function(Tt){var In=Tt.which,Qn=_n.current instanceof HTMLTextAreaElement;!Qn&&mr&&(In===kt.Z.UP||In===kt.Z.DOWN)&&Tt.preventDefault(),di&&di(Tt),In===kt.Z.ENTER&&Nr==="tags"&&!Wn.current&&!mr&&(Nn==null||Nn(Tt.target.value)),!(Qn&&!mr&&~[kt.Z.UP,kt.Z.DOWN,kt.Z.LEFT,kt.Z.RIGHT].indexOf(In))&&Sr(In)&&lr(!0)},Xo=function(){Gi(!0)},Bo=(0,te.useRef)(null),Eo=function(Tt){qt(Tt,!0,Wn.current)!==!1&&lr(!0)},zo=function(){Wn.current=!0},Zo=function(Tt){Wn.current=!1,Nr!=="combobox"&&Eo(Tt.target.value)},na=function(Tt){var In=Tt.target.value;if(Zr&&Bo.current&&/[\r\n]/.test(Bo.current)){var Qn=Bo.current.replace(/[\r\n]+$/,"").replace(/\r\n/g," ").replace(/[\r\n]/g," ");In=In.replace(Qn,Bo.current)}Bo.current=null,Eo(In)},po=function(Tt){var In=Tt.clipboardData,Qn=In==null?void 0:In.getData("text");Bo.current=Qn||""},wo=function(Tt){var In=Tt.target;if(In!==_n.current){var Qn=document.body.style.msTouchAction!==void 0;Qn?setTimeout(function(){_n.current.focus()}):_n.current.focus()}},So=function(Tt){var In=yo();Tt.target!==_n.current&&!In&&!(Nr==="combobox"&&qi)&&Tt.preventDefault(),(Nr!=="combobox"&&(!ui||!In)||!mr)&&(mr&&Sn!==!1&&qt("",!0,!1),lr())},K={inputRef:_n,onInputKeyDown:Oo,onInputMouseDown:Xo,onInputChange:na,onInputPaste:po,onInputCompositionStart:zo,onInputCompositionEnd:Zo,onInputBlur:Ti},_e=Nr==="multiple"||Nr==="tags"?te.createElement(ai,(0,s.Z)({},lt,K)):te.createElement(An,(0,s.Z)({},lt,K));return te.createElement("div",{ref:bo,className:"".concat(nr,"-selector"),onClick:wo,onMouseDown:So},pt&&te.createElement("div",{className:"".concat(nr,"-prefix")},pt),_e)},Kr=te.forwardRef(Ur),Rn=Kr,Wr=F(83190),Ii=["prefixCls","disabled","visible","children","popupElement","animation","transitionName","dropdownStyle","dropdownClassName","direction","placement","builtinPlacements","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","getPopupContainer","empty","getTriggerDOMNode","onPopupVisibleChange","onPopupMouseEnter"],pr=function(lt){var En=lt===!0?0:1;return{bottomLeft:{points:["tl","bl"],offset:[0,4],overflow:{adjustX:En,adjustY:1},htmlRegion:"scroll"},bottomRight:{points:["tr","br"],offset:[0,4],overflow:{adjustX:En,adjustY:1},htmlRegion:"scroll"},topLeft:{points:["bl","tl"],offset:[0,-4],overflow:{adjustX:En,adjustY:1},htmlRegion:"scroll"},topRight:{points:["br","tr"],offset:[0,-4],overflow:{adjustX:En,adjustY:1},htmlRegion:"scroll"}}},it=function(lt,En){var _n=lt.prefixCls,Wn=lt.disabled,nr=lt.visible,mr=lt.children,Nr=lt.popupElement,ui=lt.animation,Zr=lt.transitionName,qi=lt.dropdownStyle,pt=lt.dropdownClassName,Sn=lt.direction,qt=Sn===void 0?"ltr":Sn,Nn=lt.placement,lr=lt.builtinPlacements,di=lt.dropdownMatchSelectWidth,Ti=lt.dropdownRender,bo=lt.dropdownAlign,Zi=lt.getPopupContainer,fo=lt.empty,yo=lt.getTriggerDOMNode,Gi=lt.onPopupVisibleChange,Oo=lt.onPopupMouseEnter,Xo=(0,Ge.Z)(lt,Ii),Bo="".concat(_n,"-dropdown"),Eo=Nr;Ti&&(Eo=Ti(Nr));var zo=te.useMemo(function(){return lr||pr(di)},[lr,di]),Zo=ui?"".concat(Bo,"-").concat(ui):Zr,na=typeof di=="number",po=te.useMemo(function(){return na?null:di===!1?"minWidth":"width"},[di,na]),wo=qi;na&&(wo=(0,c.Z)((0,c.Z)({},wo),{},{width:di}));var So=te.useRef(null);return te.useImperativeHandle(En,function(){return{getPopupElement:function(){var _e;return(_e=So.current)===null||_e===void 0?void 0:_e.popupElement}}}),te.createElement(Wr.Z,(0,s.Z)({},Xo,{showAction:Gi?["click"]:[],hideAction:Gi?["click"]:[],popupPlacement:Nn||(qt==="rtl"?"bottomRight":"bottomLeft"),builtinPlacements:zo,prefixCls:Bo,popupTransitionName:Zo,popup:te.createElement("div",{onMouseEnter:Oo},Eo),ref:So,stretch:po,popupAlign:bo,popupVisible:nr,getPopupContainer:Zi,popupClassName:Ee()(pt,(0,q.Z)({},"".concat(Bo,"-empty"),fo)),popupStyle:wo,getTriggerDOMNode:yo,onPopupVisibleChange:Gi}),mr)},Ot=te.forwardRef(it),Bn=Ot,fn=F(70615);function gn(dt,lt){var En=dt.key,_n;return"value"in dt&&(_n=dt.value),En!=null?En:_n!==void 0?_n:"rc-index-key-".concat(lt)}function Er(dt){return typeof dt!="undefined"&&!Number.isNaN(dt)}function Vn(dt,lt){var En=dt||{},_n=En.label,Wn=En.value,nr=En.options,mr=En.groupLabel,Nr=_n||(lt?"children":"label");return{label:Nr,value:Wn||"value",options:nr||"options",groupLabel:mr||Nr}}function ri(dt){var lt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},En=lt.fieldNames,_n=lt.childrenAsData,Wn=[],nr=Vn(En,!1),mr=nr.label,Nr=nr.value,ui=nr.options,Zr=nr.groupLabel;function qi(pt,Sn){Array.isArray(pt)&&pt.forEach(function(qt){if(Sn||!(ui in qt)){var Nn=qt[Nr];Wn.push({key:gn(qt,Wn.length),groupOption:Sn,data:qt,label:qt[mr],value:Nn})}else{var lr=qt[Zr];lr===void 0&&_n&&(lr=qt.label),Wn.push({key:gn(qt,Wn.length),group:!0,data:qt,label:lr}),qi(qt[ui],!0)}})}return qi(dt,!1),Wn}function fi(dt){var lt=(0,c.Z)({},dt);return"props"in lt||Object.defineProperty(lt,"props",{get:function(){return(0,ye.ZP)(!1,"Return type is option instead of Option instance. Please read value directly instead of reading from `props`."),lt}}),lt}var qr=function(lt,En,_n){if(!En||!En.length)return null;var Wn=!1,nr=function Nr(ui,Zr){var qi=(0,fn.Z)(Zr),pt=qi[0],Sn=qi.slice(1);if(!pt)return[ui];var qt=ui.split(pt);return Wn=Wn||qt.length>1,qt.reduce(function(Nn,lr){return[].concat((0,tt.Z)(Nn),(0,tt.Z)(Nr(lr,Sn)))},[]).filter(Boolean)},mr=nr(lt,En);return Wn?typeof _n!="undefined"?mr.slice(0,_n):mr:null},Jr=te.createContext(null),wr=Jr;function Yn(dt){var lt=dt.visible,En=dt.values;if(!lt)return null;var _n=50;return te.createElement("span",{"aria-live":"polite",style:{width:0,height:0,position:"absolute",overflow:"hidden",opacity:0}},"".concat(En.slice(0,_n).map(function(Wn){var nr=Wn.label,mr=Wn.value;return["number","string"].includes((0,ze.Z)(nr))?nr:mr}).join(", ")),En.length>_n?", ...":null)}var yr=["id","prefixCls","className","showSearch","tagRender","direction","omitDomProps","displayValues","onDisplayValuesChange","emptyOptions","notFoundContent","onClear","mode","disabled","loading","getInputElement","getRawInputElement","open","defaultOpen","onDropdownVisibleChange","activeValue","onActiveValueChange","activeDescendantId","searchValue","autoClearSearchValue","onSearch","onSearchSplit","tokenSeparators","allowClear","prefix","suffixIcon","clearIcon","OptionList","animation","transitionName","dropdownStyle","dropdownClassName","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","placement","builtinPlacements","getPopupContainer","showAction","onFocus","onBlur","onKeyUp","onKeyDown","onMouseDown"],Pr=["value","onChange","removeIcon","placeholder","autoFocus","maxTagCount","maxTagTextLength","maxTagPlaceholder","choiceTransitionName","onInputKeyDown","onPopupScroll","tabIndex"],Ir=function(lt){return lt==="tags"||lt==="multiple"},Xr=te.forwardRef(function(dt,lt){var En,_n=dt.id,Wn=dt.prefixCls,nr=dt.className,mr=dt.showSearch,Nr=dt.tagRender,ui=dt.direction,Zr=dt.omitDomProps,qi=dt.displayValues,pt=dt.onDisplayValuesChange,Sn=dt.emptyOptions,qt=dt.notFoundContent,Nn=qt===void 0?"Not Found":qt,lr=dt.onClear,di=dt.mode,Ti=dt.disabled,bo=dt.loading,Zi=dt.getInputElement,fo=dt.getRawInputElement,yo=dt.open,Gi=dt.defaultOpen,Oo=dt.onDropdownVisibleChange,Xo=dt.activeValue,Bo=dt.onActiveValueChange,Eo=dt.activeDescendantId,zo=dt.searchValue,Zo=dt.autoClearSearchValue,na=dt.onSearch,po=dt.onSearchSplit,wo=dt.tokenSeparators,So=dt.allowClear,K=dt.prefix,_e=dt.suffixIcon,wt=dt.clearIcon,Tt=dt.OptionList,In=dt.animation,Qn=dt.transitionName,ci=dt.dropdownStyle,fr=dt.dropdownClassName,Ai=dt.dropdownMatchSelectWidth,to=dt.dropdownRender,xr=dt.dropdownAlign,Vi=dt.placement,Fr=dt.builtinPlacements,Ei=dt.getPopupContainer,_i=dt.showAction,bi=_i===void 0?[]:_i,Yo=dt.onFocus,jo=dt.onBlur,an=dt.onKeyUp,Ye=dt.onKeyDown,Ce=dt.onMouseDown,Ke=(0,Ge.Z)(dt,yr),Be=Ir(di),Nt=(mr!==void 0?mr:Be)||di==="combobox",dn=(0,c.Z)({},Ke);Pr.forEach(function(lo){delete dn[lo]}),Zr==null||Zr.forEach(function(lo){delete dn[lo]});var tr=te.useState(!1),Rr=(0,xe.Z)(tr,2),Lr=Rr[0],Mr=Rr[1];te.useEffect(function(){Mr((0,Qe.Z)())},[]);var vi=te.useRef(null),zi=te.useRef(null),Mo=te.useRef(null),Oi=te.useRef(null),Ni=te.useRef(null),hi=te.useRef(!1),Wi=yt(),Hi=(0,xe.Z)(Wi,3),Po=Hi[0],aa=Hi[1],ha=Hi[2];te.useImperativeHandle(lt,function(){var lo,no;return{focus:(lo=Oi.current)===null||lo===void 0?void 0:lo.focus,blur:(no=Oi.current)===null||no===void 0?void 0:no.blur,scrollTo:function(No){var ea;return(ea=Ni.current)===null||ea===void 0?void 0:ea.scrollTo(No)},nativeElement:vi.current||zi.current}});var Ta=te.useMemo(function(){var lo;if(di!=="combobox")return zo;var no=(lo=qi[0])===null||lo===void 0?void 0:lo.value;return typeof no=="string"||typeof no=="number"?String(no):""},[zo,di,qi]),Ma=di==="combobox"&&typeof Zi=="function"&&Zi()||null,Sa=typeof fo=="function"&&fo(),ba=(0,ot.x1)(zi,Sa==null||(En=Sa.props)===null||En===void 0?void 0:En.ref),ja=te.useState(!1),wa=(0,xe.Z)(ja,2),Ps=wa[0],Ts=wa[1];(0,He.Z)(function(){Ts(!0)},[]);var _s=(0,Pe.Z)(!1,{defaultValue:Gi,value:yo}),il=(0,xe.Z)(_s,2),ol=il[0],Al=il[1],Vs=Ps?ol:!1,Dl=!Nn&&Sn;(Ti||Dl&&Vs&&di==="combobox")&&(Vs=!1);var mc=Dl?!1:Vs,pa=te.useCallback(function(lo){var no=lo!==void 0?lo:!Vs;Ti||(Al(no),Vs!==no&&(Oo==null||Oo(no)))},[Ti,Vs,Al,Oo]),Ha=te.useMemo(function(){return(wo||[]).some(function(lo){return[`
`,`\r
`].includes(lo)})},[wo]),ca=te.useContext(wr)||{},Go=ca.maxCount,hs=ca.rawValues,zs=function(no,Uo,No){if(!(Be&&Er(Go)&&(hs==null?void 0:hs.size)>=Go)){var ea=!0,Ua=no;Bo==null||Bo(null);var ua=qr(no,wo,Er(Go)?Go-hs.size:void 0),Oa=No?null:ua;return di!=="combobox"&&Oa&&(Ua="",po==null||po(Oa),pa(!1),ea=!1),na&&Ta!==Ua&&na(Ua,{source:Uo?"typing":"effect"}),ea}},ic=function(no){!no||!no.trim()||na(no,{source:"submit"})};te.useEffect(function(){!Vs&&!Be&&di!=="combobox"&&zs("",!1,!1)},[Vs]),te.useEffect(function(){ol&&Ti&&Al(!1),Ti&&!hi.current&&aa(!1)},[Ti]);var gc=Pt(),jc=(0,xe.Z)(gc,2),_l=jc[0],Yl=jc[1],sa=te.useRef(!1),Fo=function(no){var Uo=_l(),No=no.key,ea=No==="Enter";if(ea&&(di!=="combobox"&&no.preventDefault(),Vs||pa(!0)),Yl(!!Ta),No==="Backspace"&&!Uo&&Be&&!Ta&&qi.length){for(var Ua=(0,tt.Z)(qi),ua=null,Oa=Ua.length-1;Oa>=0;Oa-=1){var es=Ua[Oa];if(!es.disabled){Ua.splice(Oa,1),ua=es;break}}ua&&pt(Ua,{type:"remove",values:[ua]})}for(var Ra=arguments.length,qa=new Array(Ra>1?Ra-1:0),Xa=1;Xa<Ra;Xa++)qa[Xa-1]=arguments[Xa];if(Vs&&(!ea||!sa.current)){var is;ea&&(sa.current=!0),(is=Ni.current)===null||is===void 0||is.onKeyDown.apply(is,[no].concat(qa))}Ye==null||Ye.apply(void 0,[no].concat(qa))},hu=function(no){for(var Uo=arguments.length,No=new Array(Uo>1?Uo-1:0),ea=1;ea<Uo;ea++)No[ea-1]=arguments[ea];if(Vs){var Ua;(Ua=Ni.current)===null||Ua===void 0||Ua.onKeyUp.apply(Ua,[no].concat(No))}no.key==="Enter"&&(sa.current=!1),an==null||an.apply(void 0,[no].concat(No))},Qo=function(no){var Uo=qi.filter(function(No){return No!==no});pt(Uo,{type:"remove",values:[no]})},oc=function(){sa.current=!1},nu=te.useRef(!1),ia=function(){aa(!0),Ti||(Yo&&!nu.current&&Yo.apply(void 0,arguments),bi.includes("focus")&&pa(!0)),nu.current=!0},Ec=function(){hi.current=!0,aa(!1,function(){nu.current=!1,hi.current=!1,pa(!1)}),!Ti&&(Ta&&(di==="tags"?na(Ta,{source:"submit"}):di==="multiple"&&na("",{source:"blur"})),jo&&jo.apply(void 0,arguments))},vc=[];te.useEffect(function(){return function(){vc.forEach(function(lo){return clearTimeout(lo)}),vc.splice(0,vc.length)}},[]);var ru=function(no){var Uo,No=no.target,ea=(Uo=Mo.current)===null||Uo===void 0?void 0:Uo.getPopupElement();if(ea&&ea.contains(No)){var Ua=setTimeout(function(){var Ra=vc.indexOf(Ua);if(Ra!==-1&&vc.splice(Ra,1),ha(),!Lr&&!ea.contains(document.activeElement)){var qa;(qa=Oi.current)===null||qa===void 0||qa.focus()}});vc.push(Ua)}for(var ua=arguments.length,Oa=new Array(ua>1?ua-1:0),es=1;es<ua;es++)Oa[es-1]=arguments[es];Ce==null||Ce.apply(void 0,[no].concat(Oa))},ku=te.useState({}),ac=(0,xe.Z)(ku,2),gl=ac[1];function Bi(){gl({})}var ju;Sa&&(ju=function(no){pa(no)}),Wt(function(){var lo;return[vi.current,(lo=Mo.current)===null||lo===void 0?void 0:lo.getPopupElement()]},mc,pa,!!Sa);var ld=te.useMemo(function(){return(0,c.Z)((0,c.Z)({},dt),{},{notFoundContent:Nn,open:Vs,triggerOpen:mc,id:_n,showSearch:Nt,multiple:Be,toggleOpen:pa})},[dt,Nn,mc,Vs,_n,Nt,Be,pa]),Yc=!!_e||bo,on;Yc&&(on=te.createElement(gt,{className:Ee()("".concat(Wn,"-arrow"),(0,q.Z)({},"".concat(Wn,"-arrow-loading"),bo)),customizeIcon:_e,customizeIconProps:{loading:bo,searchValue:Ta,open:Vs,focused:Po,showSearch:Nt}}));var $n=function(){var no;lr==null||lr(),(no=Oi.current)===null||no===void 0||no.focus(),pt([],{type:"clear",values:qi}),zs("",!1,!1)},Kn=xt(Wn,$n,qi,So,wt,Ti,Ta,di),hr=Kn.allowClear,Yr=Kn.clearIcon,Ki=te.createElement(Tt,{ref:Ni}),mo=Ee()(Wn,nr,(0,q.Z)((0,q.Z)((0,q.Z)((0,q.Z)((0,q.Z)((0,q.Z)((0,q.Z)((0,q.Z)((0,q.Z)((0,q.Z)({},"".concat(Wn,"-focused"),Po),"".concat(Wn,"-multiple"),Be),"".concat(Wn,"-single"),!Be),"".concat(Wn,"-allow-clear"),So),"".concat(Wn,"-show-arrow"),Yc),"".concat(Wn,"-disabled"),Ti),"".concat(Wn,"-loading"),bo),"".concat(Wn,"-open"),Vs),"".concat(Wn,"-customize-input"),Ma),"".concat(Wn,"-show-search"),Nt)),Ji=te.createElement(Bn,{ref:Mo,disabled:Ti,prefixCls:Wn,visible:mc,popupElement:Ki,animation:In,transitionName:Qn,dropdownStyle:ci,dropdownClassName:fr,direction:ui,dropdownMatchSelectWidth:Ai,dropdownRender:to,dropdownAlign:xr,placement:Vi,builtinPlacements:Fr,getPopupContainer:Ei,empty:Sn,getTriggerDOMNode:function(no){return zi.current||no},onPopupVisibleChange:ju,onPopupMouseEnter:Bi},Sa?te.cloneElement(Sa,{ref:ba}):te.createElement(Rn,(0,s.Z)({},dt,{domRef:zi,prefixCls:Wn,inputElement:Ma,ref:Oi,id:_n,prefix:K,showSearch:Nt,autoClearSearchValue:Zo,mode:di,activeDescendantId:Eo,tagRender:Nr,values:qi,open:Vs,onToggleOpen:pa,activeValue:Xo,searchValue:Ta,onSearch:zs,onSearchSubmit:ic,onRemove:Qo,tokenWithEnter:Ha,onInputBlur:oc}))),Io;return Sa?Io=Ji:Io=te.createElement("div",(0,s.Z)({className:mo},dn,{ref:vi,onMouseDown:ru,onKeyDown:Fo,onKeyUp:hu,onFocus:ia,onBlur:Ec}),te.createElement(Yn,{visible:Po&&!Vs,values:qi}),Ji,on,hr&&Yr),te.createElement(Xe.Provider,{value:ld},Io)}),rr=Xr,gr=function(){return null};gr.isSelectOptGroup=!0;var ei=gr,Un=function(){return null};Un.isSelectOption=!0;var si=Un,Si=F(54596),Yi=F(18051),xo=F(98131);function Qr(){return/(mac\sos|macintosh)/i.test(navigator.appVersion)}var co=["disabled","title","children","style","className"];function tn(dt){return typeof dt=="string"||typeof dt=="number"}var Tn=function(lt,En){var _n=Ut(),Wn=_n.prefixCls,nr=_n.id,mr=_n.open,Nr=_n.multiple,ui=_n.mode,Zr=_n.searchValue,qi=_n.toggleOpen,pt=_n.notFoundContent,Sn=_n.onPopupScroll,qt=te.useContext(wr),Nn=qt.maxCount,lr=qt.flattenOptions,di=qt.onActiveValue,Ti=qt.defaultActiveFirstOption,bo=qt.onSelect,Zi=qt.menuItemSelectedIcon,fo=qt.rawValues,yo=qt.fieldNames,Gi=qt.virtual,Oo=qt.direction,Xo=qt.listHeight,Bo=qt.listItemHeight,Eo=qt.optionRender,zo="".concat(Wn,"-item"),Zo=(0,Si.Z)(function(){return lr},[mr,lr],function(_i,bi){return bi[0]&&_i[1]!==bi[1]}),na=te.useRef(null),po=te.useMemo(function(){return Nr&&Er(Nn)&&(fo==null?void 0:fo.size)>=Nn},[Nr,Nn,fo==null?void 0:fo.size]),wo=function(bi){bi.preventDefault()},So=function(bi){var Yo;(Yo=na.current)===null||Yo===void 0||Yo.scrollTo(typeof bi=="number"?{index:bi}:bi)},K=te.useCallback(function(_i){return ui==="combobox"?!1:fo.has(_i)},[ui,(0,tt.Z)(fo).toString(),fo.size]),_e=function(bi){for(var Yo=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,jo=Zo.length,an=0;an<jo;an+=1){var Ye=(bi+an*Yo+jo)%jo,Ce=Zo[Ye]||{},Ke=Ce.group,Be=Ce.data;if(!Ke&&!(Be!=null&&Be.disabled)&&(K(Be.value)||!po))return Ye}return-1},wt=te.useState(function(){return _e(0)}),Tt=(0,xe.Z)(wt,2),In=Tt[0],Qn=Tt[1],ci=function(bi){var Yo=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;Qn(bi);var jo={source:Yo?"keyboard":"mouse"},an=Zo[bi];if(!an){di(null,-1,jo);return}di(an.value,bi,jo)};(0,te.useEffect)(function(){ci(Ti!==!1?_e(0):-1)},[Zo.length,Zr]);var fr=te.useCallback(function(_i){return ui==="combobox"?String(_i).toLowerCase()===Zr.toLowerCase():fo.has(_i)},[ui,Zr,(0,tt.Z)(fo).toString(),fo.size]);(0,te.useEffect)(function(){var _i=setTimeout(function(){if(!Nr&&mr&&fo.size===1){var Yo=Array.from(fo)[0],jo=Zo.findIndex(function(an){var Ye=an.data;return Ye.value===Yo});jo!==-1&&(ci(jo),So(jo))}});if(mr){var bi;(bi=na.current)===null||bi===void 0||bi.scrollTo(void 0)}return function(){return clearTimeout(_i)}},[mr,Zr]);var Ai=function(bi){bi!==void 0&&bo(bi,{selected:!fo.has(bi)}),Nr||qi(!1)};if(te.useImperativeHandle(En,function(){return{onKeyDown:function(bi){var Yo=bi.which,jo=bi.ctrlKey;switch(Yo){case kt.Z.N:case kt.Z.P:case kt.Z.UP:case kt.Z.DOWN:{var an=0;if(Yo===kt.Z.UP?an=-1:Yo===kt.Z.DOWN?an=1:Qr()&&jo&&(Yo===kt.Z.N?an=1:Yo===kt.Z.P&&(an=-1)),an!==0){var Ye=_e(In+an,an);So(Ye),ci(Ye,!0)}break}case kt.Z.TAB:case kt.Z.ENTER:{var Ce,Ke=Zo[In];Ke&&!(Ke!=null&&(Ce=Ke.data)!==null&&Ce!==void 0&&Ce.disabled)&&!po?Ai(Ke.value):Ai(void 0),mr&&bi.preventDefault();break}case kt.Z.ESC:qi(!1),mr&&bi.stopPropagation()}},onKeyUp:function(){},scrollTo:function(bi){So(bi)}}}),Zo.length===0)return te.createElement("div",{role:"listbox",id:"".concat(nr,"_list"),className:"".concat(zo,"-empty"),onMouseDown:wo},pt);var to=Object.keys(yo).map(function(_i){return yo[_i]}),xr=function(bi){return bi.label};function Vi(_i,bi){var Yo=_i.group;return{role:Yo?"presentation":"option",id:"".concat(nr,"_list_").concat(bi)}}var Fr=function(bi){var Yo=Zo[bi];if(!Yo)return null;var jo=Yo.data||{},an=jo.value,Ye=Yo.group,Ce=(0,cr.Z)(jo,!0),Ke=xr(Yo);return Yo?te.createElement("div",(0,s.Z)({"aria-label":typeof Ke=="string"&&!Ye?Ke:null},Ce,{key:bi},Vi(Yo,bi),{"aria-selected":fr(an)}),an):null},Ei={role:"listbox",id:"".concat(nr,"_list")};return te.createElement(te.Fragment,null,Gi&&te.createElement("div",(0,s.Z)({},Ei,{style:{height:0,width:0,overflow:"hidden"}}),Fr(In-1),Fr(In),Fr(In+1)),te.createElement(xo.Z,{itemKey:"key",ref:na,data:Zo,height:Xo,itemHeight:Bo,fullHeight:!1,onMouseDown:wo,onScroll:Sn,virtual:Gi,direction:Oo,innerProps:Gi?null:Ei},function(_i,bi){var Yo=_i.group,jo=_i.groupOption,an=_i.data,Ye=_i.label,Ce=_i.value,Ke=an.key;if(Yo){var Be,Nt=(Be=an.title)!==null&&Be!==void 0?Be:tn(Ye)?Ye.toString():void 0;return te.createElement("div",{className:Ee()(zo,"".concat(zo,"-group"),an.className),title:Nt},Ye!==void 0?Ye:Ke)}var dn=an.disabled,tr=an.title,Rr=an.children,Lr=an.style,Mr=an.className,vi=(0,Ge.Z)(an,co),zi=(0,Yi.Z)(vi,to),Mo=K(Ce),Oi=dn||!Mo&&po,Ni="".concat(zo,"-option"),hi=Ee()(zo,Ni,Mr,(0,q.Z)((0,q.Z)((0,q.Z)((0,q.Z)({},"".concat(Ni,"-grouped"),jo),"".concat(Ni,"-active"),In===bi&&!Oi),"".concat(Ni,"-disabled"),Oi),"".concat(Ni,"-selected"),Mo)),Wi=xr(_i),Hi=!Zi||typeof Zi=="function"||Mo,Po=typeof Wi=="number"?Wi:Wi||Ce,aa=tn(Po)?Po.toString():void 0;return tr!==void 0&&(aa=tr),te.createElement("div",(0,s.Z)({},(0,cr.Z)(zi),Gi?{}:Vi(_i,bi),{"aria-selected":fr(Ce),className:hi,title:aa,onMouseMove:function(){In===bi||Oi||ci(bi)},onClick:function(){Oi||Ai(Ce)},style:Lr}),te.createElement("div",{className:"".concat(Ni,"-content")},typeof Eo=="function"?Eo(_i,{index:bi}):Po),te.isValidElement(Zi)||Mo,Hi&&te.createElement(gt,{className:"".concat(zo,"-option-state"),customizeIcon:Zi,customizeIconProps:{value:Ce,disabled:Oi,isSelected:Mo}},Mo?"\u2713":null))}))},ir=te.forwardRef(Tn),kr=ir,gi=function(dt,lt){var En=te.useRef({values:new Map,options:new Map}),_n=te.useMemo(function(){var nr=En.current,mr=nr.values,Nr=nr.options,ui=dt.map(function(pt){if(pt.label===void 0){var Sn;return(0,c.Z)((0,c.Z)({},pt),{},{label:(Sn=mr.get(pt.value))===null||Sn===void 0?void 0:Sn.label})}return pt}),Zr=new Map,qi=new Map;return ui.forEach(function(pt){Zr.set(pt.value,pt),qi.set(pt.value,lt.get(pt.value)||Nr.get(pt.value))}),En.current.values=Zr,En.current.options=qi,ui},[dt,lt]),Wn=te.useCallback(function(nr){return lt.get(nr)||En.current.options.get(nr)},[lt]);return[_n,Wn]};function li(dt,lt){return Kt(dt).join("").toUpperCase().includes(lt)}var eo=function(dt,lt,En,_n,Wn){return te.useMemo(function(){if(!En||_n===!1)return dt;var nr=lt.options,mr=lt.label,Nr=lt.value,ui=[],Zr=typeof _n=="function",qi=En.toUpperCase(),pt=Zr?_n:function(qt,Nn){return Wn?li(Nn[Wn],qi):Nn[nr]?li(Nn[mr!=="children"?mr:"label"],qi):li(Nn[Nr],qi)},Sn=Zr?function(qt){return fi(qt)}:function(qt){return qt};return dt.forEach(function(qt){if(qt[nr]){var Nn=pt(En,Sn(qt));if(Nn)ui.push(qt);else{var lr=qt[nr].filter(function(di){return pt(En,Sn(di))});lr.length&&ui.push((0,c.Z)((0,c.Z)({},qt),{},(0,q.Z)({},nr,lr)))}return}pt(En,Sn(qt))&&ui.push(qt)}),ui},[dt,_n,Wn,En,lt])},io=F(21125),Lo=F(81626),Co=["children","value"],uo=["children"];function Re(dt){var lt=dt,En=lt.key,_n=lt.props,Wn=_n.children,nr=_n.value,mr=(0,Ge.Z)(_n,Co);return(0,c.Z)({key:En,value:nr!==void 0?nr:En,children:Wn},mr)}function de(dt){var lt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return(0,Lo.Z)(dt).map(function(En,_n){if(!te.isValidElement(En)||!En.type)return null;var Wn=En,nr=Wn.type.isSelectOptGroup,mr=Wn.key,Nr=Wn.props,ui=Nr.children,Zr=(0,Ge.Z)(Nr,uo);return lt||!nr?Re(En):(0,c.Z)((0,c.Z)({key:"__RC_SELECT_GRP__".concat(mr===null?_n:mr,"__"),label:mr},Zr),{},{options:de(ui)})}).filter(function(En){return En})}var Y=function(lt,En,_n,Wn,nr){return te.useMemo(function(){var mr=lt,Nr=!lt;Nr&&(mr=de(En));var ui=new Map,Zr=new Map,qi=function(qt,Nn,lr){lr&&typeof lr=="string"&&qt.set(Nn[lr],Nn)},pt=function Sn(qt){for(var Nn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,lr=0;lr<qt.length;lr+=1){var di=qt[lr];!di[_n.options]||Nn?(ui.set(di[_n.value],di),qi(Zr,di,_n.label),qi(Zr,di,Wn),qi(Zr,di,nr)):Sn(di[_n.options],!0)}};return pt(mr),{options:mr,valueOptions:ui,labelOptions:Zr}},[lt,En,_n,Wn,nr])},Ze=Y;function pe(dt){var lt=te.useRef();lt.current=dt;var En=te.useCallback(function(){return lt.current.apply(lt,arguments)},[]);return En}function et(dt){var lt=dt.mode,En=dt.options,_n=dt.children,Wn=dt.backfill,nr=dt.allowClear,mr=dt.placeholder,Nr=dt.getInputElement,ui=dt.showSearch,Zr=dt.onSearch,qi=dt.defaultOpen,pt=dt.autoFocus,Sn=dt.labelInValue,qt=dt.value,Nn=dt.inputValue,lr=dt.optionLabelProp,di=isMultiple(lt),Ti=ui!==void 0?ui:di||lt==="combobox",bo=En||convertChildrenToData(_n);if(warning(lt!=="tags"||bo.every(function(Gi){return!Gi.disabled}),"Please avoid setting option to disabled in tags mode since user can always type text as tag."),lt==="tags"||lt==="combobox"){var Zi=bo.some(function(Gi){return Gi.options?Gi.options.some(function(Oo){return typeof("value"in Oo?Oo.value:Oo.key)=="number"}):typeof("value"in Gi?Gi.value:Gi.key)=="number"});warning(!Zi,"`value` of Option should not use number type when `mode` is `tags` or `combobox`.")}if(warning(lt!=="combobox"||!lr,"`combobox` mode not support `optionLabelProp`. Please set `value` on Option directly."),warning(lt==="combobox"||!Wn,"`backfill` only works with `combobox` mode."),warning(lt==="combobox"||!Nr,"`getInputElement` only work with `combobox` mode."),noteOnce(lt!=="combobox"||!Nr||!nr||!mr,"Customize `getInputElement` should customize clear and placeholder logic instead of configuring `allowClear` and `placeholder`."),Zr&&!Ti&&lt!=="combobox"&&lt!=="tags"&&warning(!1,"`onSearch` should work with `showSearch` instead of use alone."),noteOnce(!qi||pt,"`defaultOpen` makes Select open without focus which means it will not close by click outside. You can set `autoFocus` if needed."),qt!=null){var fo=toArray(qt);warning(!Sn||fo.every(function(Gi){return _typeof(Gi)==="object"&&("key"in Gi||"value"in Gi)}),"`value` should in shape of `{ value: string | number, label?: ReactNode }` when you set `labelInValue` to `true`"),warning(!di||Array.isArray(qt),"`value` should be array when `mode` is `multiple` or `tags`")}if(_n){var yo=null;toNodeArray(_n).some(function(Gi){if(!React.isValidElement(Gi)||!Gi.type)return!1;var Oo=Gi,Xo=Oo.type;if(Xo.isSelectOption)return!1;if(Xo.isSelectOptGroup){var Bo=toNodeArray(Gi.props.children).every(function(Eo){return!React.isValidElement(Eo)||!Gi.type||Eo.type.isSelectOption?!0:(yo=Eo.type,!1)});return!Bo}return yo=Xo,!0}),yo&&warning(!1,"`children` should be `Select.Option` or `Select.OptGroup` instead of `".concat(yo.displayName||yo.name||yo,"`.")),warning(Nn===void 0,"`inputValue` is deprecated, please use `searchValue` instead.")}}function nt(dt,lt){if(dt){var En=function _n(Wn){for(var nr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,mr=0;mr<Wn.length;mr++){var Nr=Wn[mr];if(Nr[lt==null?void 0:lt.value]===null)return warning(!1,"`value` in Select options should not be `null`."),!0;if(!nr&&Array.isArray(Nr[lt==null?void 0:lt.options])&&_n(Nr[lt==null?void 0:lt.options],!0))break}};En(dt)}}var ln=null,At=["id","mode","prefixCls","backfill","fieldNames","inputValue","searchValue","onSearch","autoClearSearchValue","onSelect","onDeselect","dropdownMatchSelectWidth","filterOption","filterSort","optionFilterProp","optionLabelProp","options","optionRender","children","defaultActiveFirstOption","menuItemSelectedIcon","virtual","direction","listHeight","listItemHeight","labelRender","value","defaultValue","labelInValue","onChange","maxCount"],sn=["inputValue"];function vn(dt){return!dt||(0,ze.Z)(dt)!=="object"}var Je=te.forwardRef(function(dt,lt){var En=dt.id,_n=dt.mode,Wn=dt.prefixCls,nr=Wn===void 0?"rc-select":Wn,mr=dt.backfill,Nr=dt.fieldNames,ui=dt.inputValue,Zr=dt.searchValue,qi=dt.onSearch,pt=dt.autoClearSearchValue,Sn=pt===void 0?!0:pt,qt=dt.onSelect,Nn=dt.onDeselect,lr=dt.dropdownMatchSelectWidth,di=lr===void 0?!0:lr,Ti=dt.filterOption,bo=dt.filterSort,Zi=dt.optionFilterProp,fo=dt.optionLabelProp,yo=dt.options,Gi=dt.optionRender,Oo=dt.children,Xo=dt.defaultActiveFirstOption,Bo=dt.menuItemSelectedIcon,Eo=dt.virtual,zo=dt.direction,Zo=dt.listHeight,na=Zo===void 0?200:Zo,po=dt.listItemHeight,wo=po===void 0?20:po,So=dt.labelRender,K=dt.value,_e=dt.defaultValue,wt=dt.labelInValue,Tt=dt.onChange,In=dt.maxCount,Qn=(0,Ge.Z)(dt,At),ci=(0,io.ZP)(En),fr=Ir(_n),Ai=!!(!yo&&Oo),to=te.useMemo(function(){return Ti===void 0&&_n==="combobox"?!1:Ti},[Ti,_n]),xr=te.useMemo(function(){return Vn(Nr,Ai)},[JSON.stringify(Nr),Ai]),Vi=(0,Pe.Z)("",{value:Zr!==void 0?Zr:ui,postState:function(Ha){return Ha||""}}),Fr=(0,xe.Z)(Vi,2),Ei=Fr[0],_i=Fr[1],bi=Ze(yo,Oo,xr,Zi,fo),Yo=bi.valueOptions,jo=bi.labelOptions,an=bi.options,Ye=te.useCallback(function(pa){var Ha=Kt(pa);return Ha.map(function(ca){var Go,hs,zs,ic,gc;if(vn(ca))Go=ca;else{var jc;zs=ca.key,hs=ca.label,Go=(jc=ca.value)!==null&&jc!==void 0?jc:zs}var _l=Yo.get(Go);if(_l){var Yl;if(hs===void 0&&(hs=_l==null?void 0:_l[fo||xr.label]),zs===void 0&&(zs=(Yl=_l==null?void 0:_l.key)!==null&&Yl!==void 0?Yl:Go),ic=_l==null?void 0:_l.disabled,gc=_l==null?void 0:_l.title,0)var sa}return{label:hs,value:Go,key:zs,disabled:ic,title:gc}})},[xr,fo,Yo]),Ce=(0,Pe.Z)(_e,{value:K}),Ke=(0,xe.Z)(Ce,2),Be=Ke[0],Nt=Ke[1],dn=te.useMemo(function(){var pa,Ha=fr&&Be===null?[]:Be,ca=Ye(Ha);return _n==="combobox"&&On((pa=ca[0])===null||pa===void 0?void 0:pa.value)?[]:ca},[Be,Ye,_n,fr]),tr=gi(dn,Yo),Rr=(0,xe.Z)(tr,2),Lr=Rr[0],Mr=Rr[1],vi=te.useMemo(function(){if(!_n&&Lr.length===1){var pa=Lr[0];if(pa.value===null&&(pa.label===null||pa.label===void 0))return[]}return Lr.map(function(Ha){var ca;return(0,c.Z)((0,c.Z)({},Ha),{},{label:(ca=typeof So=="function"?So(Ha):Ha.label)!==null&&ca!==void 0?ca:Ha.value})})},[_n,Lr,So]),zi=te.useMemo(function(){return new Set(Lr.map(function(pa){return pa.value}))},[Lr]);te.useEffect(function(){if(_n==="combobox"){var pa,Ha=(pa=Lr[0])===null||pa===void 0?void 0:pa.value;_i(hn(Ha)?String(Ha):"")}},[Lr]);var Mo=pe(function(pa,Ha){var ca=Ha!=null?Ha:pa;return(0,q.Z)((0,q.Z)({},xr.value,pa),xr.label,ca)}),Oi=te.useMemo(function(){if(_n!=="tags")return an;var pa=(0,tt.Z)(an),Ha=function(Go){return Yo.has(Go)};return(0,tt.Z)(Lr).sort(function(ca,Go){return ca.value<Go.value?-1:1}).forEach(function(ca){var Go=ca.value;Ha(Go)||pa.push(Mo(Go,ca.label))}),pa},[Mo,an,Yo,Lr,_n]),Ni=eo(Oi,xr,Ei,to,Zi),hi=te.useMemo(function(){return _n!=="tags"||!Ei||Ni.some(function(pa){return pa[Zi||"value"]===Ei})||Ni.some(function(pa){return pa[xr.value]===Ei})?Ni:[Mo(Ei)].concat((0,tt.Z)(Ni))},[Mo,Zi,_n,Ni,Ei,xr]),Wi=function pa(Ha){var ca=(0,tt.Z)(Ha).sort(function(Go,hs){return bo(Go,hs,{searchValue:Ei})});return ca.map(function(Go){return Array.isArray(Go.options)?(0,c.Z)((0,c.Z)({},Go),{},{options:Go.options.length>0?pa(Go.options):Go.options}):Go})},Hi=te.useMemo(function(){return bo?Wi(hi):hi},[hi,bo,Ei]),Po=te.useMemo(function(){return ri(Hi,{fieldNames:xr,childrenAsData:Ai})},[Hi,xr,Ai]),aa=function(Ha){var ca=Ye(Ha);if(Nt(ca),Tt&&(ca.length!==Lr.length||ca.some(function(zs,ic){var gc;return((gc=Lr[ic])===null||gc===void 0?void 0:gc.value)!==(zs==null?void 0:zs.value)}))){var Go=wt?ca:ca.map(function(zs){return zs.value}),hs=ca.map(function(zs){return fi(Mr(zs.value))});Tt(fr?Go:Go[0],fr?hs:hs[0])}},ha=te.useState(null),Ta=(0,xe.Z)(ha,2),Ma=Ta[0],Sa=Ta[1],ba=te.useState(0),ja=(0,xe.Z)(ba,2),wa=ja[0],Ps=ja[1],Ts=Xo!==void 0?Xo:_n!=="combobox",_s=te.useCallback(function(pa,Ha){var ca=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},Go=ca.source,hs=Go===void 0?"keyboard":Go;Ps(Ha),mr&&_n==="combobox"&&pa!==null&&hs==="keyboard"&&Sa(String(pa))},[mr,_n]),il=function(Ha,ca,Go){var hs=function(){var Qo,oc=Mr(Ha);return[wt?{label:oc==null?void 0:oc[xr.label],value:Ha,key:(Qo=oc==null?void 0:oc.key)!==null&&Qo!==void 0?Qo:Ha}:Ha,fi(oc)]};if(ca&&qt){var zs=hs(),ic=(0,xe.Z)(zs,2),gc=ic[0],jc=ic[1];qt(gc,jc)}else if(!ca&&Nn&&Go!=="clear"){var _l=hs(),Yl=(0,xe.Z)(_l,2),sa=Yl[0],Fo=Yl[1];Nn(sa,Fo)}},ol=pe(function(pa,Ha){var ca,Go=fr?Ha.selected:!0;Go?ca=fr?[].concat((0,tt.Z)(Lr),[pa]):[pa]:ca=Lr.filter(function(hs){return hs.value!==pa}),aa(ca),il(pa,Go),_n==="combobox"?Sa(""):(!Ir||Sn)&&(_i(""),Sa(""))}),Al=function(Ha,ca){aa(Ha);var Go=ca.type,hs=ca.values;(Go==="remove"||Go==="clear")&&hs.forEach(function(zs){il(zs.value,!1,Go)})},Vs=function(Ha,ca){if(_i(Ha),Sa(null),ca.source==="submit"){var Go=(Ha||"").trim();if(Go){var hs=Array.from(new Set([].concat((0,tt.Z)(zi),[Go])));aa(hs),il(Go,!0),_i("")}return}ca.source!=="blur"&&(_n==="combobox"&&aa(Ha),qi==null||qi(Ha))},Dl=function(Ha){var ca=Ha;_n!=="tags"&&(ca=Ha.map(function(hs){var zs=jo.get(hs);return zs==null?void 0:zs.value}).filter(function(hs){return hs!==void 0}));var Go=Array.from(new Set([].concat((0,tt.Z)(zi),(0,tt.Z)(ca))));aa(Go),Go.forEach(function(hs){il(hs,!0)})},mc=te.useMemo(function(){var pa=Eo!==!1&&di!==!1;return(0,c.Z)((0,c.Z)({},bi),{},{flattenOptions:Po,onActiveValue:_s,defaultActiveFirstOption:Ts,onSelect:ol,menuItemSelectedIcon:Bo,rawValues:zi,fieldNames:xr,virtual:pa,direction:zo,listHeight:na,listItemHeight:wo,childrenAsData:Ai,maxCount:In,optionRender:Gi})},[In,bi,Po,_s,Ts,ol,Bo,zi,xr,Eo,di,zo,na,wo,Ai,Gi]);return te.createElement(wr.Provider,{value:mc},te.createElement(rr,(0,s.Z)({},Qn,{id:ci,prefixCls:nr,ref:lt,omitDomProps:sn,mode:_n,displayValues:vi,onDisplayValuesChange:Al,direction:zo,searchValue:Ei,onSearch:Vs,autoClearSearchValue:Sn,onSearchSplit:Dl,dropdownMatchSelectWidth:di,OptionList:kr,emptyOptions:!Po.length,activeValue:Ma,activeDescendantId:"".concat(ci,"_list_").concat(wa)})))}),Rt=Je;Rt.Option=si,Rt.OptGroup=ei;var Xt=Rt,nn=Xt},28661:function(Hr,jt,F){"use strict";F.d(jt,{y:function(){return Pt},Z:function(){return pr}});var s=F(54153),tt=F(38926),q=F(46865),c=F(5147),xe=F(89692),Ge=F(82187),ze=F.n(Ge),Pe=F(59373),ye=F(93954),te=F(47996),je=F(4449),Ee=F(75271),He=F(23022),Qe=F(58190),ot=F(30967);function qe(it,Ot,Bn){return(it-Ot)/(Bn-Ot)}function gt(it,Ot,Bn,fn){var gn=qe(Ot,Bn,fn),Er={};switch(it){case"rtl":Er.right="".concat(gn*100,"%"),Er.transform="translateX(50%)";break;case"btt":Er.bottom="".concat(gn*100,"%"),Er.transform="translateY(50%)";break;case"ttb":Er.top="".concat(gn*100,"%"),Er.transform="translateY(-50%)";break;default:Er.left="".concat(gn*100,"%"),Er.transform="translateX(-50%)";break}return Er}function xt(it,Ot){return Array.isArray(it)?it[Ot]:it}var Xe=F(14583),Ut=Ee.createContext({min:0,max:0,direction:"ltr",step:1,includedStart:0,includedEnd:0,tabIndex:0,keyboard:!0,styles:{},classNames:{}}),yt=Ut,Pt=Ee.createContext({}),Wt=["prefixCls","value","valueIndex","onStartMove","onDelete","style","render","dragging","draggingDelete","onOffsetChange","onChangeComplete","onFocus","onMouseEnter"],kt=Ee.forwardRef(function(it,Ot){var Bn=it.prefixCls,fn=it.value,gn=it.valueIndex,Er=it.onStartMove,Vn=it.onDelete,ri=it.style,fi=it.render,qr=it.dragging,Jr=it.draggingDelete,wr=it.onOffsetChange,Yn=it.onChangeComplete,yr=it.onFocus,Pr=it.onMouseEnter,Ir=(0,Qe.Z)(it,Wt),Xr=Ee.useContext(yt),rr=Xr.min,gr=Xr.max,ei=Xr.direction,Un=Xr.disabled,si=Xr.keyboard,Si=Xr.range,Yi=Xr.tabIndex,xo=Xr.ariaLabelForHandle,Qr=Xr.ariaLabelledByForHandle,co=Xr.ariaRequired,tn=Xr.ariaValueTextFormatterForHandle,Tn=Xr.styles,ir=Xr.classNames,kr="".concat(Bn,"-handle"),gi=function(Ze){Un||Er(Ze,gn)},li=function(Ze){yr==null||yr(Ze,gn)},eo=function(Ze){Pr(Ze,gn)},io=function(Ze){if(!Un&&si){var pe=null;switch(Ze.which||Ze.keyCode){case Xe.Z.LEFT:pe=ei==="ltr"||ei==="btt"?-1:1;break;case Xe.Z.RIGHT:pe=ei==="ltr"||ei==="btt"?1:-1;break;case Xe.Z.UP:pe=ei!=="ttb"?1:-1;break;case Xe.Z.DOWN:pe=ei!=="ttb"?-1:1;break;case Xe.Z.HOME:pe="min";break;case Xe.Z.END:pe="max";break;case Xe.Z.PAGE_UP:pe=2;break;case Xe.Z.PAGE_DOWN:pe=-2;break;case Xe.Z.BACKSPACE:case Xe.Z.DELETE:Vn(gn);break}pe!==null&&(Ze.preventDefault(),wr(pe,gn))}},Lo=function(Ze){switch(Ze.which||Ze.keyCode){case Xe.Z.LEFT:case Xe.Z.RIGHT:case Xe.Z.UP:case Xe.Z.DOWN:case Xe.Z.HOME:case Xe.Z.END:case Xe.Z.PAGE_UP:case Xe.Z.PAGE_DOWN:Yn==null||Yn();break}},Co=gt(ei,fn,rr,gr),uo={};if(gn!==null){var Re;uo={tabIndex:Un?null:xt(Yi,gn),role:"slider","aria-valuemin":rr,"aria-valuemax":gr,"aria-valuenow":fn,"aria-disabled":Un,"aria-label":xt(xo,gn),"aria-labelledby":xt(Qr,gn),"aria-required":xt(co,gn),"aria-valuetext":(Re=xt(tn,gn))===null||Re===void 0?void 0:Re(fn),"aria-orientation":ei==="ltr"||ei==="rtl"?"horizontal":"vertical",onMouseDown:gi,onTouchStart:gi,onFocus:li,onMouseEnter:eo,onKeyDown:io,onKeyUp:Lo}}var de=Ee.createElement("div",(0,He.Z)({ref:Ot,className:ze()(kr,(0,tt.Z)((0,tt.Z)((0,tt.Z)({},"".concat(kr,"-").concat(gn+1),gn!==null&&Si),"".concat(kr,"-dragging"),qr),"".concat(kr,"-dragging-delete"),Jr),ir.handle),style:(0,s.Z)((0,s.Z)((0,s.Z)({},Co),ri),Tn.handle)},uo,Ir));return fi&&(de=fi(de,{index:gn,prefixCls:Bn,value:fn,dragging:qr,draggingDelete:Jr})),de}),Sr=kt,cr=["prefixCls","style","onStartMove","onOffsetChange","values","handleRender","activeHandleRender","draggingIndex","draggingDelete","onFocus"],Xn=Ee.forwardRef(function(it,Ot){var Bn=it.prefixCls,fn=it.style,gn=it.onStartMove,Er=it.onOffsetChange,Vn=it.values,ri=it.handleRender,fi=it.activeHandleRender,qr=it.draggingIndex,Jr=it.draggingDelete,wr=it.onFocus,Yn=(0,Qe.Z)(it,cr),yr=Ee.useRef({}),Pr=Ee.useState(!1),Ir=(0,xe.Z)(Pr,2),Xr=Ir[0],rr=Ir[1],gr=Ee.useState(-1),ei=(0,xe.Z)(gr,2),Un=ei[0],si=ei[1],Si=function(tn){si(tn),rr(!0)},Yi=function(tn,Tn){Si(Tn),wr==null||wr(tn)},xo=function(tn,Tn){Si(Tn)};Ee.useImperativeHandle(Ot,function(){return{focus:function(tn){var Tn;(Tn=yr.current[tn])===null||Tn===void 0||Tn.focus()},hideHelp:function(){(0,ot.flushSync)(function(){rr(!1)})}}});var Qr=(0,s.Z)({prefixCls:Bn,onStartMove:gn,onOffsetChange:Er,render:ri,onFocus:Yi,onMouseEnter:xo},Yn);return Ee.createElement(Ee.Fragment,null,Vn.map(function(co,tn){var Tn=qr===tn;return Ee.createElement(Sr,(0,He.Z)({ref:function(kr){kr?yr.current[tn]=kr:delete yr.current[tn]},dragging:Tn,draggingDelete:Tn&&Jr,style:xt(fn,tn),key:tn,value:co,valueIndex:tn},Qr))}),fi&&Xr&&Ee.createElement(Sr,(0,He.Z)({key:"a11y"},Qr,{value:Vn[Un],valueIndex:null,dragging:qr!==-1,draggingDelete:Jr,render:fi,style:{pointerEvents:"none"},tabIndex:null,"aria-hidden":!0})))}),We=Xn,Zt=function(Ot){var Bn=Ot.prefixCls,fn=Ot.style,gn=Ot.children,Er=Ot.value,Vn=Ot.onClick,ri=Ee.useContext(yt),fi=ri.min,qr=ri.max,Jr=ri.direction,wr=ri.includedStart,Yn=ri.includedEnd,yr=ri.included,Pr="".concat(Bn,"-text"),Ir=gt(Jr,Er,fi,qr);return Ee.createElement("span",{className:ze()(Pr,(0,tt.Z)({},"".concat(Pr,"-active"),yr&&wr<=Er&&Er<=Yn)),style:(0,s.Z)((0,s.Z)({},Ir),fn),onMouseDown:function(rr){rr.stopPropagation()},onClick:function(){Vn(Er)}},gn)},cn=Zt,Kt=function(Ot){var Bn=Ot.prefixCls,fn=Ot.marks,gn=Ot.onClick,Er="".concat(Bn,"-mark");return fn.length?Ee.createElement("div",{className:Er},fn.map(function(Vn){var ri=Vn.value,fi=Vn.style,qr=Vn.label;return Ee.createElement(cn,{key:ri,prefixCls:Er,style:fi,value:ri,onClick:gn},qr)})):null},Fe=Kt,Ln=function(Ot){var Bn=Ot.prefixCls,fn=Ot.value,gn=Ot.style,Er=Ot.activeStyle,Vn=Ee.useContext(yt),ri=Vn.min,fi=Vn.max,qr=Vn.direction,Jr=Vn.included,wr=Vn.includedStart,Yn=Vn.includedEnd,yr="".concat(Bn,"-dot"),Pr=Jr&&wr<=fn&&fn<=Yn,Ir=(0,s.Z)((0,s.Z)({},gt(qr,fn,ri,fi)),typeof gn=="function"?gn(fn):gn);return Pr&&(Ir=(0,s.Z)((0,s.Z)({},Ir),typeof Er=="function"?Er(fn):Er)),Ee.createElement("span",{className:ze()(yr,(0,tt.Z)({},"".concat(yr,"-active"),Pr)),style:Ir})},hn=Ln,On=function(Ot){var Bn=Ot.prefixCls,fn=Ot.marks,gn=Ot.dots,Er=Ot.style,Vn=Ot.activeStyle,ri=Ee.useContext(yt),fi=ri.min,qr=ri.max,Jr=ri.step,wr=Ee.useMemo(function(){var Yn=new Set;if(fn.forEach(function(Pr){Yn.add(Pr.value)}),gn&&Jr!==null)for(var yr=fi;yr<=qr;)Yn.add(yr),yr+=Jr;return Array.from(Yn)},[fi,qr,Jr,gn,fn]);return Ee.createElement("div",{className:"".concat(Bn,"-step")},wr.map(function(Yn){return Ee.createElement(hn,{prefixCls:Bn,key:Yn,value:Yn,style:Er,activeStyle:Vn})}))},ut=On,Yt=function(Ot){var Bn=Ot.prefixCls,fn=Ot.style,gn=Ot.start,Er=Ot.end,Vn=Ot.index,ri=Ot.onStartMove,fi=Ot.replaceCls,qr=Ee.useContext(yt),Jr=qr.direction,wr=qr.min,Yn=qr.max,yr=qr.disabled,Pr=qr.range,Ir=qr.classNames,Xr="".concat(Bn,"-track"),rr=qe(gn,wr,Yn),gr=qe(Er,wr,Yn),ei=function(Yi){!yr&&ri&&ri(Yi,-1)},Un={};switch(Jr){case"rtl":Un.right="".concat(rr*100,"%"),Un.width="".concat(gr*100-rr*100,"%");break;case"btt":Un.bottom="".concat(rr*100,"%"),Un.height="".concat(gr*100-rr*100,"%");break;case"ttb":Un.top="".concat(rr*100,"%"),Un.height="".concat(gr*100-rr*100,"%");break;default:Un.left="".concat(rr*100,"%"),Un.width="".concat(gr*100-rr*100,"%")}var si=fi||ze()(Xr,(0,tt.Z)((0,tt.Z)({},"".concat(Xr,"-").concat(Vn+1),Vn!==null&&Pr),"".concat(Bn,"-track-draggable"),ri),Ir.track);return Ee.createElement("div",{className:si,style:(0,s.Z)((0,s.Z)({},Un),fn),onMouseDown:ei,onTouchStart:ei})},bn=Yt,he=function(Ot){var Bn=Ot.prefixCls,fn=Ot.style,gn=Ot.values,Er=Ot.startPoint,Vn=Ot.onStartMove,ri=Ee.useContext(yt),fi=ri.included,qr=ri.range,Jr=ri.min,wr=ri.styles,Yn=ri.classNames,yr=Ee.useMemo(function(){if(!qr){if(gn.length===0)return[];var Ir=Er!=null?Er:Jr,Xr=gn[0];return[{start:Math.min(Ir,Xr),end:Math.max(Ir,Xr)}]}for(var rr=[],gr=0;gr<gn.length-1;gr+=1)rr.push({start:gn[gr],end:gn[gr+1]});return rr},[gn,qr,Er,Jr]);if(!fi)return null;var Pr=yr!=null&&yr.length&&(Yn.tracks||wr.tracks)?Ee.createElement(bn,{index:null,prefixCls:Bn,start:yr[0].start,end:yr[yr.length-1].end,replaceCls:ze()(Yn.tracks,"".concat(Bn,"-tracks")),style:wr.tracks}):null;return Ee.createElement(Ee.Fragment,null,Pr,yr.map(function(Ir,Xr){var rr=Ir.start,gr=Ir.end;return Ee.createElement(bn,{index:Xr,prefixCls:Bn,style:(0,s.Z)((0,s.Z)({},xt(fn,Xr)),wr.track),start:rr,end:gr,key:Xr,onStartMove:Vn})}))},Jt=he,wi=F(92076),ai=130;function $e(it){var Ot="targetTouches"in it?it.targetTouches[0]:it;return{pageX:Ot.pageX,pageY:Ot.pageY}}function An(it,Ot,Bn,fn,gn,Er,Vn,ri,fi,qr,Jr){var wr=Ee.useState(null),Yn=(0,xe.Z)(wr,2),yr=Yn[0],Pr=Yn[1],Ir=Ee.useState(-1),Xr=(0,xe.Z)(Ir,2),rr=Xr[0],gr=Xr[1],ei=Ee.useState(!1),Un=(0,xe.Z)(ei,2),si=Un[0],Si=Un[1],Yi=Ee.useState(Bn),xo=(0,xe.Z)(Yi,2),Qr=xo[0],co=xo[1],tn=Ee.useState(Bn),Tn=(0,xe.Z)(tn,2),ir=Tn[0],kr=Tn[1],gi=Ee.useRef(null),li=Ee.useRef(null),eo=Ee.useRef(null),io=Ee.useContext(Pt),Lo=io.onDragStart,Co=io.onDragChange;(0,wi.Z)(function(){rr===-1&&co(Bn)},[Bn,rr]),Ee.useEffect(function(){return function(){document.removeEventListener("mousemove",gi.current),document.removeEventListener("mouseup",li.current),eo.current&&(eo.current.removeEventListener("touchmove",gi.current),eo.current.removeEventListener("touchend",li.current))}},[]);var uo=function(pe,et,nt){et!==void 0&&Pr(et),co(pe);var ln=pe;nt&&(ln=pe.filter(function(At,sn){return sn!==rr})),Vn(ln),Co&&Co({rawValues:pe,deleteIndex:nt?rr:-1,draggingIndex:rr,draggingValue:et})},Re=(0,Pe.Z)(function(Ze,pe,et){if(Ze===-1){var nt=ir[0],ln=ir[ir.length-1],At=fn-nt,sn=gn-ln,vn=pe*(gn-fn);vn=Math.max(vn,At),vn=Math.min(vn,sn);var Je=Er(nt+vn);vn=Je-nt;var Rt=ir.map(function(lt){return lt+vn});uo(Rt)}else{var Xt=(gn-fn)*pe,nn=(0,q.Z)(Qr);nn[Ze]=ir[Ze];var dt=fi(nn,Xt,Ze,"dist");uo(dt.values,dt.value,et)}}),de=function(pe,et,nt){pe.stopPropagation();var ln=nt||Bn,At=ln[et];gr(et),Pr(At),kr(ln),co(ln),Si(!1);var sn=$e(pe),vn=sn.pageX,Je=sn.pageY,Rt=!1;Lo&&Lo({rawValues:ln,draggingIndex:et,draggingValue:At});var Xt=function(lt){lt.preventDefault();var En=$e(lt),_n=En.pageX,Wn=En.pageY,nr=_n-vn,mr=Wn-Je,Nr=it.current.getBoundingClientRect(),ui=Nr.width,Zr=Nr.height,qi,pt;switch(Ot){case"btt":qi=-mr/Zr,pt=nr;break;case"ttb":qi=mr/Zr,pt=nr;break;case"rtl":qi=-nr/ui,pt=mr;break;default:qi=nr/ui,pt=mr}Rt=qr?Math.abs(pt)>ai&&Jr<Qr.length:!1,Si(Rt),Re(et,qi,Rt)},nn=function dt(lt){lt.preventDefault(),document.removeEventListener("mouseup",dt),document.removeEventListener("mousemove",Xt),eo.current&&(eo.current.removeEventListener("touchmove",gi.current),eo.current.removeEventListener("touchend",li.current)),gi.current=null,li.current=null,eo.current=null,ri(Rt),gr(-1),Si(!1)};document.addEventListener("mouseup",nn),document.addEventListener("mousemove",Xt),pe.currentTarget.addEventListener("touchend",nn),pe.currentTarget.addEventListener("touchmove",Xt),gi.current=Xt,li.current=nn,eo.current=pe.currentTarget},Y=Ee.useMemo(function(){var Ze=(0,q.Z)(Bn).sort(function(At,sn){return At-sn}),pe=(0,q.Z)(Qr).sort(function(At,sn){return At-sn}),et={};pe.forEach(function(At){et[At]=(et[At]||0)+1}),Ze.forEach(function(At){et[At]=(et[At]||0)-1});var nt=qr?1:0,ln=Object.values(et).reduce(function(At,sn){return At+Math.abs(sn)},0);return ln<=nt?Qr:Bn},[Bn,Qr,qr]);return[rr,yr,si,Y,de]}var Ur=An;function Kr(it,Ot,Bn,fn,gn,Er){var Vn=Ee.useCallback(function(yr){return Math.max(it,Math.min(Ot,yr))},[it,Ot]),ri=Ee.useCallback(function(yr){if(Bn!==null){var Pr=it+Math.round((Vn(yr)-it)/Bn)*Bn,Ir=function(ei){return(String(ei).split(".")[1]||"").length},Xr=Math.max(Ir(Bn),Ir(Ot),Ir(it)),rr=Number(Pr.toFixed(Xr));return it<=rr&&rr<=Ot?rr:null}return null},[Bn,it,Ot,Vn]),fi=Ee.useCallback(function(yr){var Pr=Vn(yr),Ir=fn.map(function(gr){return gr.value});Bn!==null&&Ir.push(ri(yr)),Ir.push(it,Ot);var Xr=Ir[0],rr=Ot-it;return Ir.forEach(function(gr){var ei=Math.abs(Pr-gr);ei<=rr&&(Xr=gr,rr=ei)}),Xr},[it,Ot,fn,Bn,Vn,ri]),qr=function yr(Pr,Ir,Xr){var rr=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit";if(typeof Ir=="number"){var gr,ei=Pr[Xr],Un=ei+Ir,si=[];fn.forEach(function(co){si.push(co.value)}),si.push(it,Ot),si.push(ri(ei));var Si=Ir>0?1:-1;rr==="unit"?si.push(ri(ei+Si*Bn)):si.push(ri(Un)),si=si.filter(function(co){return co!==null}).filter(function(co){return Ir<0?co<=ei:co>=ei}),rr==="unit"&&(si=si.filter(function(co){return co!==ei}));var Yi=rr==="unit"?ei:Un;gr=si[0];var xo=Math.abs(gr-Yi);if(si.forEach(function(co){var tn=Math.abs(co-Yi);tn<xo&&(gr=co,xo=tn)}),gr===void 0)return Ir<0?it:Ot;if(rr==="dist")return gr;if(Math.abs(Ir)>1){var Qr=(0,q.Z)(Pr);return Qr[Xr]=gr,yr(Qr,Ir-Si,Xr,rr)}return gr}else{if(Ir==="min")return it;if(Ir==="max")return Ot}},Jr=function(Pr,Ir,Xr){var rr=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit",gr=Pr[Xr],ei=qr(Pr,Ir,Xr,rr);return{value:ei,changed:ei!==gr}},wr=function(Pr){return Er===null&&Pr===0||typeof Er=="number"&&Pr<Er},Yn=function(Pr,Ir,Xr){var rr=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit",gr=Pr.map(fi),ei=gr[Xr],Un=qr(gr,Ir,Xr,rr);if(gr[Xr]=Un,gn===!1){var si=Er||0;Xr>0&&gr[Xr-1]!==ei&&(gr[Xr]=Math.max(gr[Xr],gr[Xr-1]+si)),Xr<gr.length-1&&gr[Xr+1]!==ei&&(gr[Xr]=Math.min(gr[Xr],gr[Xr+1]-si))}else if(typeof Er=="number"||Er===null){for(var Si=Xr+1;Si<gr.length;Si+=1)for(var Yi=!0;wr(gr[Si]-gr[Si-1])&&Yi;){var xo=Jr(gr,1,Si);gr[Si]=xo.value,Yi=xo.changed}for(var Qr=Xr;Qr>0;Qr-=1)for(var co=!0;wr(gr[Qr]-gr[Qr-1])&&co;){var tn=Jr(gr,-1,Qr-1);gr[Qr-1]=tn.value,co=tn.changed}for(var Tn=gr.length-1;Tn>0;Tn-=1)for(var ir=!0;wr(gr[Tn]-gr[Tn-1])&&ir;){var kr=Jr(gr,-1,Tn-1);gr[Tn-1]=kr.value,ir=kr.changed}for(var gi=0;gi<gr.length-1;gi+=1)for(var li=!0;wr(gr[gi+1]-gr[gi])&&li;){var eo=Jr(gr,1,gi+1);gr[gi+1]=eo.value,li=eo.changed}}return{value:gr[Xr],values:gr}};return[fi,Yn]}function Rn(it){return(0,Ee.useMemo)(function(){if(it===!0||!it)return[!!it,!1,!1,0];var Ot=it.editable,Bn=it.draggableTrack,fn=it.minCount,gn=it.maxCount;return[!0,Ot,!Ot&&Bn,fn||0,gn]},[it])}var Wr=Ee.forwardRef(function(it,Ot){var Bn=it.prefixCls,fn=Bn===void 0?"rc-slider":Bn,gn=it.className,Er=it.style,Vn=it.classNames,ri=it.styles,fi=it.id,qr=it.disabled,Jr=qr===void 0?!1:qr,wr=it.keyboard,Yn=wr===void 0?!0:wr,yr=it.autoFocus,Pr=it.onFocus,Ir=it.onBlur,Xr=it.min,rr=Xr===void 0?0:Xr,gr=it.max,ei=gr===void 0?100:gr,Un=it.step,si=Un===void 0?1:Un,Si=it.value,Yi=it.defaultValue,xo=it.range,Qr=it.count,co=it.onChange,tn=it.onBeforeChange,Tn=it.onAfterChange,ir=it.onChangeComplete,kr=it.allowCross,gi=kr===void 0?!0:kr,li=it.pushable,eo=li===void 0?!1:li,io=it.reverse,Lo=it.vertical,Co=it.included,uo=Co===void 0?!0:Co,Re=it.startPoint,de=it.trackStyle,Y=it.handleStyle,Ze=it.railStyle,pe=it.dotStyle,et=it.activeDotStyle,nt=it.marks,ln=it.dots,At=it.handleRender,sn=it.activeHandleRender,vn=it.track,Je=it.tabIndex,Rt=Je===void 0?0:Je,Xt=it.ariaLabelForHandle,nn=it.ariaLabelledByForHandle,dt=it.ariaRequired,lt=it.ariaValueTextFormatterForHandle,En=Ee.useRef(null),_n=Ee.useRef(null),Wn=Ee.useMemo(function(){return Lo?io?"ttb":"btt":io?"rtl":"ltr"},[io,Lo]),nr=Rn(xo),mr=(0,xe.Z)(nr,5),Nr=mr[0],ui=mr[1],Zr=mr[2],qi=mr[3],pt=mr[4],Sn=Ee.useMemo(function(){return isFinite(rr)?rr:0},[rr]),qt=Ee.useMemo(function(){return isFinite(ei)?ei:100},[ei]),Nn=Ee.useMemo(function(){return si!==null&&si<=0?1:si},[si]),lr=Ee.useMemo(function(){return typeof eo=="boolean"?eo?Nn:!1:eo>=0?eo:!1},[eo,Nn]),di=Ee.useMemo(function(){return Object.keys(nt||{}).map(function(Ce){var Ke=nt[Ce],Be={value:Number(Ce)};return Ke&&(0,c.Z)(Ke)==="object"&&!Ee.isValidElement(Ke)&&("label"in Ke||"style"in Ke)?(Be.style=Ke.style,Be.label=Ke.label):Be.label=Ke,Be}).filter(function(Ce){var Ke=Ce.label;return Ke||typeof Ke=="number"}).sort(function(Ce,Ke){return Ce.value-Ke.value})},[nt]),Ti=Kr(Sn,qt,Nn,di,gi,lr),bo=(0,xe.Z)(Ti,2),Zi=bo[0],fo=bo[1],yo=(0,ye.Z)(Yi,{value:Si}),Gi=(0,xe.Z)(yo,2),Oo=Gi[0],Xo=Gi[1],Bo=Ee.useMemo(function(){var Ce=Oo==null?[]:Array.isArray(Oo)?Oo:[Oo],Ke=(0,xe.Z)(Ce,1),Be=Ke[0],Nt=Be===void 0?Sn:Be,dn=Oo===null?[]:[Nt];if(Nr){if(dn=(0,q.Z)(Ce),Qr||Oo===void 0){var tr=Qr>=0?Qr+1:2;for(dn=dn.slice(0,tr);dn.length<tr;){var Rr;dn.push((Rr=dn[dn.length-1])!==null&&Rr!==void 0?Rr:Sn)}}dn.sort(function(Lr,Mr){return Lr-Mr})}return dn.forEach(function(Lr,Mr){dn[Mr]=Zi(Lr)}),dn},[Oo,Nr,Sn,Qr,Zi]),Eo=function(Ke){return Nr?Ke:Ke[0]},zo=(0,Pe.Z)(function(Ce){var Ke=(0,q.Z)(Ce).sort(function(Be,Nt){return Be-Nt});co&&!(0,te.Z)(Ke,Bo,!0)&&co(Eo(Ke)),Xo(Ke)}),Zo=(0,Pe.Z)(function(Ce){Ce&&En.current.hideHelp();var Ke=Eo(Bo);Tn==null||Tn(Ke),(0,je.ZP)(!Tn,"[rc-slider] `onAfterChange` is deprecated. Please use `onChangeComplete` instead."),ir==null||ir(Ke)}),na=function(Ke){if(!(Jr||!ui||Bo.length<=qi)){var Be=(0,q.Z)(Bo);Be.splice(Ke,1),tn==null||tn(Eo(Be)),zo(Be);var Nt=Math.max(0,Ke-1);En.current.hideHelp(),En.current.focus(Nt)}},po=Ur(_n,Wn,Bo,Sn,qt,Zi,zo,Zo,fo,ui,qi),wo=(0,xe.Z)(po,5),So=wo[0],K=wo[1],_e=wo[2],wt=wo[3],Tt=wo[4],In=function(Ke,Be){if(!Jr){var Nt=(0,q.Z)(Bo),dn=0,tr=0,Rr=qt-Sn;Bo.forEach(function(Mo,Oi){var Ni=Math.abs(Ke-Mo);Ni<=Rr&&(Rr=Ni,dn=Oi),Mo<Ke&&(tr=Oi)});var Lr=dn;ui&&Rr!==0&&(!pt||Bo.length<pt)?(Nt.splice(tr+1,0,Ke),Lr=tr+1):Nt[dn]=Ke,Nr&&!Bo.length&&Qr===void 0&&Nt.push(Ke);var Mr=Eo(Nt);if(tn==null||tn(Mr),zo(Nt),Be){var vi,zi;(vi=document.activeElement)===null||vi===void 0||(zi=vi.blur)===null||zi===void 0||zi.call(vi),En.current.focus(Lr),Tt(Be,Lr,Nt)}else Tn==null||Tn(Mr),(0,je.ZP)(!Tn,"[rc-slider] `onAfterChange` is deprecated. Please use `onChangeComplete` instead."),ir==null||ir(Mr)}},Qn=function(Ke){Ke.preventDefault();var Be=_n.current.getBoundingClientRect(),Nt=Be.width,dn=Be.height,tr=Be.left,Rr=Be.top,Lr=Be.bottom,Mr=Be.right,vi=Ke.clientX,zi=Ke.clientY,Mo;switch(Wn){case"btt":Mo=(Lr-zi)/dn;break;case"ttb":Mo=(zi-Rr)/dn;break;case"rtl":Mo=(Mr-vi)/Nt;break;default:Mo=(vi-tr)/Nt}var Oi=Sn+Mo*(qt-Sn);In(Zi(Oi),Ke)},ci=Ee.useState(null),fr=(0,xe.Z)(ci,2),Ai=fr[0],to=fr[1],xr=function(Ke,Be){if(!Jr){var Nt=fo(Bo,Ke,Be);tn==null||tn(Eo(Bo)),zo(Nt.values),to(Nt.value)}};Ee.useEffect(function(){if(Ai!==null){var Ce=Bo.indexOf(Ai);Ce>=0&&En.current.focus(Ce)}to(null)},[Ai]);var Vi=Ee.useMemo(function(){return Zr&&Nn===null?!1:Zr},[Zr,Nn]),Fr=(0,Pe.Z)(function(Ce,Ke){Tt(Ce,Ke),tn==null||tn(Eo(Bo))}),Ei=So!==-1;Ee.useEffect(function(){if(!Ei){var Ce=Bo.lastIndexOf(K);En.current.focus(Ce)}},[Ei]);var _i=Ee.useMemo(function(){return(0,q.Z)(wt).sort(function(Ce,Ke){return Ce-Ke})},[wt]),bi=Ee.useMemo(function(){return Nr?[_i[0],_i[_i.length-1]]:[Sn,_i[0]]},[_i,Nr,Sn]),Yo=(0,xe.Z)(bi,2),jo=Yo[0],an=Yo[1];Ee.useImperativeHandle(Ot,function(){return{focus:function(){En.current.focus(0)},blur:function(){var Ke,Be=document,Nt=Be.activeElement;(Ke=_n.current)!==null&&Ke!==void 0&&Ke.contains(Nt)&&(Nt==null||Nt.blur())}}}),Ee.useEffect(function(){yr&&En.current.focus(0)},[]);var Ye=Ee.useMemo(function(){return{min:Sn,max:qt,direction:Wn,disabled:Jr,keyboard:Yn,step:Nn,included:uo,includedStart:jo,includedEnd:an,range:Nr,tabIndex:Rt,ariaLabelForHandle:Xt,ariaLabelledByForHandle:nn,ariaRequired:dt,ariaValueTextFormatterForHandle:lt,styles:ri||{},classNames:Vn||{}}},[Sn,qt,Wn,Jr,Yn,Nn,uo,jo,an,Nr,Rt,Xt,nn,dt,lt,ri,Vn]);return Ee.createElement(yt.Provider,{value:Ye},Ee.createElement("div",{ref:_n,className:ze()(fn,gn,(0,tt.Z)((0,tt.Z)((0,tt.Z)((0,tt.Z)({},"".concat(fn,"-disabled"),Jr),"".concat(fn,"-vertical"),Lo),"".concat(fn,"-horizontal"),!Lo),"".concat(fn,"-with-marks"),di.length)),style:Er,onMouseDown:Qn,id:fi},Ee.createElement("div",{className:ze()("".concat(fn,"-rail"),Vn==null?void 0:Vn.rail),style:(0,s.Z)((0,s.Z)({},Ze),ri==null?void 0:ri.rail)}),vn!==!1&&Ee.createElement(Jt,{prefixCls:fn,style:de,values:Bo,startPoint:Re,onStartMove:Vi?Fr:void 0}),Ee.createElement(ut,{prefixCls:fn,marks:di,dots:ln,style:pe,activeStyle:et}),Ee.createElement(We,{ref:En,prefixCls:fn,style:Y,values:wt,draggingIndex:So,draggingDelete:_e,onStartMove:Fr,onOffsetChange:xr,onFocus:Pr,onBlur:Ir,handleRender:At,activeHandleRender:sn,onChangeComplete:Zo,onDelete:ui?na:void 0}),Ee.createElement(Fe,{prefixCls:fn,marks:di,onClick:In})))}),Ii=Wr,pr=Ii},3806:function(Hr){var jt=function(F){return F.replace(/[A-Z]/g,function(s){return"-"+s.toLowerCase()}).toLowerCase()};Hr.exports=jt},1129:function(Hr){Hr.exports.RADIUS=6378137,Hr.exports.FLATTENING=1/298.257223563,Hr.exports.POLAR_RADIUS=63567523142e-4},67825:function(Hr,jt,F){var s=F(64382);function tt(q,c){if(q==null)return{};var xe=s(q,c),Ge,ze;if(Object.getOwnPropertySymbols){var Pe=Object.getOwnPropertySymbols(q);for(ze=0;ze<Pe.length;ze++)Ge=Pe[ze],!(c.indexOf(Ge)>=0)&&Object.prototype.propertyIsEnumerable.call(q,Ge)&&(xe[Ge]=q[Ge])}return xe}Hr.exports=tt,Hr.exports.__esModule=!0,Hr.exports.default=Hr.exports},64382:function(Hr){function jt(F,s){if(F==null)return{};var tt={},q=Object.keys(F),c,xe;for(xe=0;xe<q.length;xe++)c=q[xe],!(s.indexOf(c)>=0)&&(tt[c]=F[c]);return tt}Hr.exports=jt,Hr.exports.__esModule=!0,Hr.exports.default=Hr.exports},90594:function(Hr,jt,F){"use strict";F.d(jt,{Z:function(){return tt}});function s(q,c,xe,Ge,ze,Pe,ye){try{var te=q[Pe](ye),je=te.value}catch(Ee){return void xe(Ee)}te.done?c(je):Promise.resolve(je).then(Ge,ze)}function tt(q){return function(){var c=this,xe=arguments;return new Promise(function(Ge,ze){var Pe=q.apply(c,xe);function ye(je){s(Pe,Ge,ze,ye,te,"next",je)}function te(je){s(Pe,Ge,ze,ye,te,"throw",je)}ye(void 0)})}}},57250:function(Hr,jt,F){"use strict";F.d(jt,{Z:function(){return tt}});var s=F(5147);function tt(){"use strict";tt=function(){return c};var q,c={},xe=Object.prototype,Ge=xe.hasOwnProperty,ze=Object.defineProperty||function(On,ut,Yt){On[ut]=Yt.value},Pe=typeof Symbol=="function"?Symbol:{},ye=Pe.iterator||"@@iterator",te=Pe.asyncIterator||"@@asyncIterator",je=Pe.toStringTag||"@@toStringTag";function Ee(On,ut,Yt){return Object.defineProperty(On,ut,{value:Yt,enumerable:!0,configurable:!0,writable:!0}),On[ut]}try{Ee({},"")}catch(On){Ee=function(Yt,bn,he){return Yt[bn]=he}}function He(On,ut,Yt,bn){var he=ut&&ut.prototype instanceof Ut?ut:Ut,Jt=Object.create(he.prototype),wi=new Ln(bn||[]);return ze(Jt,"_invoke",{value:Zt(On,Yt,wi)}),Jt}function Qe(On,ut,Yt){try{return{type:"normal",arg:On.call(ut,Yt)}}catch(bn){return{type:"throw",arg:bn}}}c.wrap=He;var ot="suspendedStart",qe="suspendedYield",gt="executing",xt="completed",Xe={};function Ut(){}function yt(){}function Pt(){}var Wt={};Ee(Wt,ye,function(){return this});var kt=Object.getPrototypeOf,Sr=kt&&kt(kt(hn([])));Sr&&Sr!==xe&&Ge.call(Sr,ye)&&(Wt=Sr);var cr=Pt.prototype=Ut.prototype=Object.create(Wt);function Xn(On){["next","throw","return"].forEach(function(ut){Ee(On,ut,function(Yt){return this._invoke(ut,Yt)})})}function We(On,ut){function Yt(he,Jt,wi,ai){var $e=Qe(On[he],On,Jt);if($e.type!=="throw"){var An=$e.arg,Ur=An.value;return Ur&&(0,s.Z)(Ur)=="object"&&Ge.call(Ur,"__await")?ut.resolve(Ur.__await).then(function(Kr){Yt("next",Kr,wi,ai)},function(Kr){Yt("throw",Kr,wi,ai)}):ut.resolve(Ur).then(function(Kr){An.value=Kr,wi(An)},function(Kr){return Yt("throw",Kr,wi,ai)})}ai($e.arg)}var bn;ze(this,"_invoke",{value:function(Jt,wi){function ai(){return new ut(function($e,An){Yt(Jt,wi,$e,An)})}return bn=bn?bn.then(ai,ai):ai()}})}function Zt(On,ut,Yt){var bn=ot;return function(he,Jt){if(bn===gt)throw Error("Generator is already running");if(bn===xt){if(he==="throw")throw Jt;return{value:q,done:!0}}for(Yt.method=he,Yt.arg=Jt;;){var wi=Yt.delegate;if(wi){var ai=cn(wi,Yt);if(ai){if(ai===Xe)continue;return ai}}if(Yt.method==="next")Yt.sent=Yt._sent=Yt.arg;else if(Yt.method==="throw"){if(bn===ot)throw bn=xt,Yt.arg;Yt.dispatchException(Yt.arg)}else Yt.method==="return"&&Yt.abrupt("return",Yt.arg);bn=gt;var $e=Qe(On,ut,Yt);if($e.type==="normal"){if(bn=Yt.done?xt:qe,$e.arg===Xe)continue;return{value:$e.arg,done:Yt.done}}$e.type==="throw"&&(bn=xt,Yt.method="throw",Yt.arg=$e.arg)}}}function cn(On,ut){var Yt=ut.method,bn=On.iterator[Yt];if(bn===q)return ut.delegate=null,Yt==="throw"&&On.iterator.return&&(ut.method="return",ut.arg=q,cn(On,ut),ut.method==="throw")||Yt!=="return"&&(ut.method="throw",ut.arg=new TypeError("The iterator does not provide a '"+Yt+"' method")),Xe;var he=Qe(bn,On.iterator,ut.arg);if(he.type==="throw")return ut.method="throw",ut.arg=he.arg,ut.delegate=null,Xe;var Jt=he.arg;return Jt?Jt.done?(ut[On.resultName]=Jt.value,ut.next=On.nextLoc,ut.method!=="return"&&(ut.method="next",ut.arg=q),ut.delegate=null,Xe):Jt:(ut.method="throw",ut.arg=new TypeError("iterator result is not an object"),ut.delegate=null,Xe)}function Kt(On){var ut={tryLoc:On[0]};1 in On&&(ut.catchLoc=On[1]),2 in On&&(ut.finallyLoc=On[2],ut.afterLoc=On[3]),this.tryEntries.push(ut)}function Fe(On){var ut=On.completion||{};ut.type="normal",delete ut.arg,On.completion=ut}function Ln(On){this.tryEntries=[{tryLoc:"root"}],On.forEach(Kt,this),this.reset(!0)}function hn(On){if(On||On===""){var ut=On[ye];if(ut)return ut.call(On);if(typeof On.next=="function")return On;if(!isNaN(On.length)){var Yt=-1,bn=function he(){for(;++Yt<On.length;)if(Ge.call(On,Yt))return he.value=On[Yt],he.done=!1,he;return he.value=q,he.done=!0,he};return bn.next=bn}}throw new TypeError((0,s.Z)(On)+" is not iterable")}return yt.prototype=Pt,ze(cr,"constructor",{value:Pt,configurable:!0}),ze(Pt,"constructor",{value:yt,configurable:!0}),yt.displayName=Ee(Pt,je,"GeneratorFunction"),c.isGeneratorFunction=function(On){var ut=typeof On=="function"&&On.constructor;return!!ut&&(ut===yt||(ut.displayName||ut.name)==="GeneratorFunction")},c.mark=function(On){return Object.setPrototypeOf?Object.setPrototypeOf(On,Pt):(On.__proto__=Pt,Ee(On,je,"GeneratorFunction")),On.prototype=Object.create(cr),On},c.awrap=function(On){return{__await:On}},Xn(We.prototype),Ee(We.prototype,te,function(){return this}),c.AsyncIterator=We,c.async=function(On,ut,Yt,bn,he){he===void 0&&(he=Promise);var Jt=new We(He(On,ut,Yt,bn),he);return c.isGeneratorFunction(ut)?Jt:Jt.next().then(function(wi){return wi.done?wi.value:Jt.next()})},Xn(cr),Ee(cr,je,"Generator"),Ee(cr,ye,function(){return this}),Ee(cr,"toString",function(){return"[object Generator]"}),c.keys=function(On){var ut=Object(On),Yt=[];for(var bn in ut)Yt.push(bn);return Yt.reverse(),function he(){for(;Yt.length;){var Jt=Yt.pop();if(Jt in ut)return he.value=Jt,he.done=!1,he}return he.done=!0,he}},c.values=hn,Ln.prototype={constructor:Ln,reset:function(ut){if(this.prev=0,this.next=0,this.sent=this._sent=q,this.done=!1,this.delegate=null,this.method="next",this.arg=q,this.tryEntries.forEach(Fe),!ut)for(var Yt in this)Yt.charAt(0)==="t"&&Ge.call(this,Yt)&&!isNaN(+Yt.slice(1))&&(this[Yt]=q)},stop:function(){this.done=!0;var ut=this.tryEntries[0].completion;if(ut.type==="throw")throw ut.arg;return this.rval},dispatchException:function(ut){if(this.done)throw ut;var Yt=this;function bn(An,Ur){return wi.type="throw",wi.arg=ut,Yt.next=An,Ur&&(Yt.method="next",Yt.arg=q),!!Ur}for(var he=this.tryEntries.length-1;he>=0;--he){var Jt=this.tryEntries[he],wi=Jt.completion;if(Jt.tryLoc==="root")return bn("end");if(Jt.tryLoc<=this.prev){var ai=Ge.call(Jt,"catchLoc"),$e=Ge.call(Jt,"finallyLoc");if(ai&&$e){if(this.prev<Jt.catchLoc)return bn(Jt.catchLoc,!0);if(this.prev<Jt.finallyLoc)return bn(Jt.finallyLoc)}else if(ai){if(this.prev<Jt.catchLoc)return bn(Jt.catchLoc,!0)}else{if(!$e)throw Error("try statement without catch or finally");if(this.prev<Jt.finallyLoc)return bn(Jt.finallyLoc)}}}},abrupt:function(ut,Yt){for(var bn=this.tryEntries.length-1;bn>=0;--bn){var he=this.tryEntries[bn];if(he.tryLoc<=this.prev&&Ge.call(he,"finallyLoc")&&this.prev<he.finallyLoc){var Jt=he;break}}Jt&&(ut==="break"||ut==="continue")&&Jt.tryLoc<=Yt&&Yt<=Jt.finallyLoc&&(Jt=null);var wi=Jt?Jt.completion:{};return wi.type=ut,wi.arg=Yt,Jt?(this.method="next",this.next=Jt.finallyLoc,Xe):this.complete(wi)},complete:function(ut,Yt){if(ut.type==="throw")throw ut.arg;return ut.type==="break"||ut.type==="continue"?this.next=ut.arg:ut.type==="return"?(this.rval=this.arg=ut.arg,this.method="return",this.next="end"):ut.type==="normal"&&Yt&&(this.next=Yt),Xe},finish:function(ut){for(var Yt=this.tryEntries.length-1;Yt>=0;--Yt){var bn=this.tryEntries[Yt];if(bn.finallyLoc===ut)return this.complete(bn.completion,bn.afterLoc),Fe(bn),Xe}},catch:function(ut){for(var Yt=this.tryEntries.length-1;Yt>=0;--Yt){var bn=this.tryEntries[Yt];if(bn.tryLoc===ut){var he=bn.completion;if(he.type==="throw"){var Jt=he.arg;Fe(bn)}return Jt}}throw Error("illegal catch attempt")},delegateYield:function(ut,Yt,bn){return this.delegate={iterator:hn(ut),resultName:Yt,nextLoc:bn},this.method==="next"&&(this.arg=q),Xe}},c}},60738:function(Hr,jt,F){"use strict";F.d(jt,{Z:function(){return So}});var s={};F.r(s),F.d(s,{LAT_MAX:function(){return Ut},LAT_MIN:function(){return xt},LAT_RENDERED_MAX:function(){return yt},LAT_RENDERED_MIN:function(){return Xe},LNG_MAX:function(){return Wt},LNG_MIN:function(){return Pt},activeStates:function(){return qe},classes:function(){return ze},cursors:function(){return ye},events:function(){return He},geojsonTypes:function(){return je},interactions:function(){return gt},meta:function(){return ot},modes:function(){return Ee},sources:function(){return Pe},types:function(){return te},updateActions:function(){return Qe}});var tt={};F.r(tt),F.d(tt,{isActiveFeature:function(){return li},isEnterKey:function(){return de},isEscapeKey:function(){return Re},isFeature:function(){return Lo},isInactiveFeature:function(){return eo},isOfMetaType:function(){return kr},isShiftDown:function(){return uo},isShiftMousedown:function(){return gi},isTrue:function(){return Y},isVertex:function(){return Co},noTarget:function(){return io}});var q={};F.r(q),F.d(q,{CommonSelectors:function(){return tt},ModeHandler:function(){return xe},StringSet:function(){return Kt},constrainFeatureMovement:function(){return _n},createMidPoint:function(){return ln},createSupplementaryPoints:function(){return sn},createVertex:function(){return nt},doubleClickZoom:function(){return vn},euclideanDistance:function(){return bn},featuresAt:function(){return Ln},getFeatureAtAndSetCursors:function(){return Yt},isClick:function(){return ai},isEventAtCoordinates:function(){return Nn},isTap:function(){return Ur},mapEventToBoundingBox:function(){return Zt},moveFeatures:function(){return Wn},sortFeatures:function(){return Xn},stringSetsAreEqual:function(){return zo},theme:function(){return ir},toDenseArray:function(){return ei}});var xe=function(K,_e){const wt={drag:[],click:[],mousemove:[],mousedown:[],mouseup:[],mouseout:[],keydown:[],keyup:[],touchstart:[],touchmove:[],touchend:[],tap:[]},Tt={on(Qn,ci,fr){if(wt[Qn]===void 0)throw new Error(`Invalid event type: ${Qn}`);wt[Qn].push({selector:ci,fn:fr})},render(Qn){_e.store.featureChanged(Qn)}},In=function(Qn,ci){const fr=wt[Qn];let Ai=fr.length;for(;Ai--;){const to=fr[Ai];if(to.selector(ci)){to.fn.call(Tt,ci)||_e.store.render(),_e.ui.updateMapClasses();break}}};return K.start.call(Tt),{render:K.render,stop(){K.stop&&K.stop()},trash(){K.trash&&(K.trash(),_e.store.render())},combineFeatures(){K.combineFeatures&&K.combineFeatures()},uncombineFeatures(){K.uncombineFeatures&&K.uncombineFeatures()},drag(Qn){In("drag",Qn)},click(Qn){In("click",Qn)},mousemove(Qn){In("mousemove",Qn)},mousedown(Qn){In("mousedown",Qn)},mouseup(Qn){In("mouseup",Qn)},mouseout(Qn){In("mouseout",Qn)},keydown(Qn){In("keydown",Qn)},keyup(Qn){In("keyup",Qn)},touchstart(Qn){In("touchstart",Qn)},touchmove(Qn){In("touchmove",Qn)},touchend(Qn){In("touchend",Qn)},tap(Qn){In("tap",Qn)}}},Ge=F(12398);const ze={CANVAS:"mapboxgl-canvas",CONTROL_BASE:"mapboxgl-ctrl",CONTROL_PREFIX:"mapboxgl-ctrl-",CONTROL_BUTTON:"mapbox-gl-draw_ctrl-draw-btn",CONTROL_BUTTON_LINE:"mapbox-gl-draw_line",CONTROL_BUTTON_POLYGON:"mapbox-gl-draw_polygon",CONTROL_BUTTON_POINT:"mapbox-gl-draw_point",CONTROL_BUTTON_TRASH:"mapbox-gl-draw_trash",CONTROL_BUTTON_COMBINE_FEATURES:"mapbox-gl-draw_combine",CONTROL_BUTTON_UNCOMBINE_FEATURES:"mapbox-gl-draw_uncombine",CONTROL_GROUP:"mapboxgl-ctrl-group",ATTRIBUTION:"mapboxgl-ctrl-attrib",ACTIVE_BUTTON:"active",BOX_SELECT:"mapbox-gl-draw_boxselect"},Pe={HOT:"mapbox-gl-draw-hot",COLD:"mapbox-gl-draw-cold"},ye={ADD:"add",MOVE:"move",DRAG:"drag",POINTER:"pointer",NONE:"none"},te={POLYGON:"polygon",LINE:"line_string",POINT:"point"},je={FEATURE:"Feature",POLYGON:"Polygon",LINE_STRING:"LineString",POINT:"Point",FEATURE_COLLECTION:"FeatureCollection",MULTI_PREFIX:"Multi",MULTI_POINT:"MultiPoint",MULTI_LINE_STRING:"MultiLineString",MULTI_POLYGON:"MultiPolygon"},Ee={DRAW_LINE_STRING:"draw_line_string",DRAW_POLYGON:"draw_polygon",DRAW_POINT:"draw_point",SIMPLE_SELECT:"simple_select",DIRECT_SELECT:"direct_select"},He={CREATE:"draw.create",DELETE:"draw.delete",UPDATE:"draw.update",SELECTION_CHANGE:"draw.selectionchange",MODE_CHANGE:"draw.modechange",ACTIONABLE:"draw.actionable",RENDER:"draw.render",COMBINE_FEATURES:"draw.combine",UNCOMBINE_FEATURES:"draw.uncombine"},Qe={MOVE:"move",CHANGE_PROPERTIES:"change_properties",CHANGE_COORDINATES:"change_coordinates"},ot={FEATURE:"feature",MIDPOINT:"midpoint",VERTEX:"vertex"},qe={ACTIVE:"true",INACTIVE:"false"},gt=["scrollZoom","boxZoom","dragRotate","dragPan","keyboard","doubleClickZoom","touchZoomRotate"],xt=-90,Xe=-85,Ut=90,yt=85,Pt=-270,Wt=270,kt={Point:0,LineString:1,MultiLineString:1,Polygon:2};function Sr(K,_e){const wt=kt[K.geometry.type]-kt[_e.geometry.type];return wt===0&&K.geometry.type===je.POLYGON?K.area-_e.area:wt}function cr(K){return K.map(_e=>(_e.geometry.type===je.POLYGON&&(_e.area=Ge.geometry({type:je.FEATURE,property:{},geometry:_e.geometry})),_e)).sort(Sr).map(_e=>(delete _e.area,_e))}var Xn=cr;function We(K,_e=0){return[[K.point.x-_e,K.point.y-_e],[K.point.x+_e,K.point.y+_e]]}var Zt=We;function cn(K){if(this._items={},this._nums={},this._length=K?K.length:0,!!K)for(let _e=0,wt=K.length;_e<wt;_e++)this.add(K[_e]),K[_e]!==void 0&&(typeof K[_e]=="string"?this._items[K[_e]]=_e:this._nums[K[_e]]=_e)}cn.prototype.add=function(K){return this.has(K)?this:(this._length++,typeof K=="string"?this._items[K]=this._length:this._nums[K]=this._length,this)},cn.prototype.delete=function(K){return this.has(K)===!1?this:(this._length--,delete this._items[K],delete this._nums[K],this)},cn.prototype.has=function(K){return typeof K!="string"&&typeof K!="number"?!1:this._items[K]!==void 0||this._nums[K]!==void 0},cn.prototype.values=function(){const K=[];return Object.keys(this._items).forEach(_e=>{K.push({k:_e,v:this._items[_e]})}),Object.keys(this._nums).forEach(_e=>{K.push({k:JSON.parse(_e),v:this._nums[_e]})}),K.sort((_e,wt)=>_e.v-wt.v).map(_e=>_e.k)},cn.prototype.clear=function(){return this._length=0,this._items={},this._nums={},this};var Kt=cn;const Fe=[ot.FEATURE,ot.MIDPOINT,ot.VERTEX];var Ln={click:hn,touch:On};function hn(K,_e,wt){return ut(K,_e,wt,wt.options.clickBuffer)}function On(K,_e,wt){return ut(K,_e,wt,wt.options.touchBuffer)}function ut(K,_e,wt,Tt){if(wt.map===null)return[];const In=K?Zt(K,Tt):_e,Qn={};wt.options.styles&&(Qn.layers=wt.options.styles.map(to=>to.id).filter(to=>wt.map.getLayer(to)!=null));const ci=wt.map.queryRenderedFeatures(In,Qn).filter(to=>Fe.indexOf(to.properties.meta)!==-1),fr=new Kt,Ai=[];return ci.forEach(to=>{const xr=to.properties.id;fr.has(xr)||(fr.add(xr),Ai.push(to))}),Xn(Ai)}function Yt(K,_e){const wt=Ln.click(K,null,_e),Tt={mouse:ye.NONE};return wt[0]&&(Tt.mouse=wt[0].properties.active===qe.ACTIVE?ye.MOVE:ye.POINTER,Tt.feature=wt[0].properties.meta),_e.events.currentModeName().indexOf("draw")!==-1&&(Tt.mouse=ye.ADD),_e.ui.queueMapClasses(Tt),_e.ui.updateMapClasses(),wt[0]}function bn(K,_e){const wt=K.x-_e.x,Tt=K.y-_e.y;return Math.sqrt(wt*wt+Tt*Tt)}const he=4,Jt=12,wi=500;function ai(K,_e,wt={}){const Tt=wt.fineTolerance!=null?wt.fineTolerance:he,In=wt.grossTolerance!=null?wt.grossTolerance:Jt,Qn=wt.interval!=null?wt.interval:wi;K.point=K.point||_e.point,K.time=K.time||_e.time;const ci=bn(K.point,_e.point);return ci<Tt||ci<In&&_e.time-K.time<Qn}const $e=25,An=250;function Ur(K,_e,wt={}){const Tt=wt.tolerance!=null?wt.tolerance:$e,In=wt.interval!=null?wt.interval:An;return K.point=K.point||_e.point,K.time=K.time||_e.time,bn(K.point,_e.point)<Tt&&_e.time-K.time<In}let Kr="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",Rn=(K,_e=21)=>(wt=_e)=>{let Tt="",In=wt|0;for(;In--;)Tt+=K[Math.random()*K.length|0];return Tt},Wr=(K=21)=>{let _e="",wt=K|0;for(;wt--;)_e+=Kr[Math.random()*64|0];return _e};const Ii=Rn("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",32);function pr(){return Ii()}const it=function(K,_e){this.ctx=K,this.properties=_e.properties||{},this.coordinates=_e.geometry.coordinates,this.id=_e.id||pr(),this.type=_e.geometry.type};it.prototype.changed=function(){this.ctx.store.featureChanged(this.id)},it.prototype.incomingCoords=function(K){this.setCoordinates(K)},it.prototype.setCoordinates=function(K){this.coordinates=K,this.changed()},it.prototype.getCoordinates=function(){return JSON.parse(JSON.stringify(this.coordinates))},it.prototype.setProperty=function(K,_e){this.properties[K]=_e},it.prototype.toGeoJSON=function(){return JSON.parse(JSON.stringify({id:this.id,type:je.FEATURE,properties:this.properties,geometry:{coordinates:this.getCoordinates(),type:this.type}}))},it.prototype.internal=function(K){const _e={id:this.id,meta:ot.FEATURE,"meta:type":this.type,active:qe.INACTIVE,mode:K};if(this.ctx.options.userProperties)for(const wt in this.properties)_e[`user_${wt}`]=this.properties[wt];return{type:je.FEATURE,properties:_e,geometry:{coordinates:this.getCoordinates(),type:this.type}}};var Ot=it;const Bn=function(K,_e){Ot.call(this,K,_e)};Bn.prototype=Object.create(Ot.prototype),Bn.prototype.isValid=function(){return typeof this.coordinates[0]=="number"&&typeof this.coordinates[1]=="number"},Bn.prototype.updateCoordinate=function(K,_e,wt){arguments.length===3?this.coordinates=[_e,wt]:this.coordinates=[K,_e],this.changed()},Bn.prototype.getCoordinate=function(){return this.getCoordinates()};var fn=Bn;const gn=function(K,_e){Ot.call(this,K,_e)};gn.prototype=Object.create(Ot.prototype),gn.prototype.isValid=function(){return this.coordinates.length>1},gn.prototype.addCoordinate=function(K,_e,wt){this.changed();const Tt=parseInt(K,10);this.coordinates.splice(Tt,0,[_e,wt])},gn.prototype.getCoordinate=function(K){const _e=parseInt(K,10);return JSON.parse(JSON.stringify(this.coordinates[_e]))},gn.prototype.removeCoordinate=function(K){this.changed(),this.coordinates.splice(parseInt(K,10),1)},gn.prototype.updateCoordinate=function(K,_e,wt){const Tt=parseInt(K,10);this.coordinates[Tt]=[_e,wt],this.changed()};var Er=gn;const Vn=function(K,_e){Ot.call(this,K,_e),this.coordinates=this.coordinates.map(wt=>wt.slice(0,-1))};Vn.prototype=Object.create(Ot.prototype),Vn.prototype.isValid=function(){return this.coordinates.length===0?!1:this.coordinates.every(K=>K.length>2)},Vn.prototype.incomingCoords=function(K){this.coordinates=K.map(_e=>_e.slice(0,-1)),this.changed()},Vn.prototype.setCoordinates=function(K){this.coordinates=K,this.changed()},Vn.prototype.addCoordinate=function(K,_e,wt){this.changed();const Tt=K.split(".").map(Qn=>parseInt(Qn,10));this.coordinates[Tt[0]].splice(Tt[1],0,[_e,wt])},Vn.prototype.removeCoordinate=function(K){this.changed();const _e=K.split(".").map(Tt=>parseInt(Tt,10)),wt=this.coordinates[_e[0]];wt&&(wt.splice(_e[1],1),wt.length<3&&this.coordinates.splice(_e[0],1))},Vn.prototype.getCoordinate=function(K){const _e=K.split(".").map(Tt=>parseInt(Tt,10)),wt=this.coordinates[_e[0]];return JSON.parse(JSON.stringify(wt[_e[1]]))},Vn.prototype.getCoordinates=function(){return this.coordinates.map(K=>K.concat([K[0]]))},Vn.prototype.updateCoordinate=function(K,_e,wt){this.changed();const Tt=K.split("."),In=parseInt(Tt[0],10),Qn=parseInt(Tt[1],10);this.coordinates[In]===void 0&&(this.coordinates[In]=[]),this.coordinates[In][Qn]=[_e,wt]};var ri=Vn;const fi={MultiPoint:fn,MultiLineString:Er,MultiPolygon:ri},qr=(K,_e,wt,Tt,In)=>{const Qn=wt.split("."),ci=parseInt(Qn[0],10),fr=Qn[1]?Qn.slice(1).join("."):null;return K[ci][_e](fr,Tt,In)},Jr=function(K,_e){if(Ot.call(this,K,_e),delete this.coordinates,this.model=fi[_e.geometry.type],this.model===void 0)throw new TypeError(`${_e.geometry.type} is not a valid type`);this.features=this._coordinatesToFeatures(_e.geometry.coordinates)};Jr.prototype=Object.create(Ot.prototype),Jr.prototype._coordinatesToFeatures=function(K){const _e=this.model.bind(this);return K.map(wt=>new _e(this.ctx,{id:pr(),type:je.FEATURE,properties:{},geometry:{coordinates:wt,type:this.type.replace("Multi","")}}))},Jr.prototype.isValid=function(){return this.features.every(K=>K.isValid())},Jr.prototype.setCoordinates=function(K){this.features=this._coordinatesToFeatures(K),this.changed()},Jr.prototype.getCoordinate=function(K){return qr(this.features,"getCoordinate",K)},Jr.prototype.getCoordinates=function(){return JSON.parse(JSON.stringify(this.features.map(K=>K.type===je.POLYGON?K.getCoordinates():K.coordinates)))},Jr.prototype.updateCoordinate=function(K,_e,wt){qr(this.features,"updateCoordinate",K,_e,wt),this.changed()},Jr.prototype.addCoordinate=function(K,_e,wt){qr(this.features,"addCoordinate",K,_e,wt),this.changed()},Jr.prototype.removeCoordinate=function(K){qr(this.features,"removeCoordinate",K),this.changed()},Jr.prototype.getFeatures=function(){return this.features};var wr=Jr;function Yn(K){this.map=K.map,this.drawConfig=JSON.parse(JSON.stringify(K.options||{})),this._ctx=K}Yn.prototype.setSelected=function(K){return this._ctx.store.setSelected(K)},Yn.prototype.setSelectedCoordinates=function(K){this._ctx.store.setSelectedCoordinates(K),K.reduce((_e,wt)=>(_e[wt.feature_id]===void 0&&(_e[wt.feature_id]=!0,this._ctx.store.get(wt.feature_id).changed()),_e),{})},Yn.prototype.getSelected=function(){return this._ctx.store.getSelected()},Yn.prototype.getSelectedIds=function(){return this._ctx.store.getSelectedIds()},Yn.prototype.isSelected=function(K){return this._ctx.store.isSelected(K)},Yn.prototype.getFeature=function(K){return this._ctx.store.get(K)},Yn.prototype.select=function(K){return this._ctx.store.select(K)},Yn.prototype.deselect=function(K){return this._ctx.store.deselect(K)},Yn.prototype.deleteFeature=function(K,_e={}){return this._ctx.store.delete(K,_e)},Yn.prototype.addFeature=function(K,_e={}){return this._ctx.store.add(K,_e)},Yn.prototype.clearSelectedFeatures=function(){return this._ctx.store.clearSelected()},Yn.prototype.clearSelectedCoordinates=function(){return this._ctx.store.clearSelectedCoordinates()},Yn.prototype.setActionableState=function(K={}){const _e={trash:K.trash||!1,combineFeatures:K.combineFeatures||!1,uncombineFeatures:K.uncombineFeatures||!1};return this._ctx.events.actionable(_e)},Yn.prototype.changeMode=function(K,_e={},wt={}){return this._ctx.events.changeMode(K,_e,wt)},Yn.prototype.fire=function(K,_e){return this._ctx.events.fire(K,_e)},Yn.prototype.updateUIClasses=function(K){return this._ctx.ui.queueMapClasses(K)},Yn.prototype.activateUIButton=function(K){return this._ctx.ui.setActiveButton(K)},Yn.prototype.featuresAt=function(K,_e,wt="click"){if(wt!=="click"&&wt!=="touch")throw new Error("invalid buffer type");return Ln[wt](K,_e,this._ctx)},Yn.prototype.newFeature=function(K){const _e=K.geometry.type;return _e===je.POINT?new fn(this._ctx,K):_e===je.LINE_STRING?new Er(this._ctx,K):_e===je.POLYGON?new ri(this._ctx,K):new wr(this._ctx,K)},Yn.prototype.isInstanceOf=function(K,_e){if(K===je.POINT)return _e instanceof fn;if(K===je.LINE_STRING)return _e instanceof Er;if(K===je.POLYGON)return _e instanceof ri;if(K==="MultiFeature")return _e instanceof wr;throw new Error(`Unknown feature class: ${K}`)},Yn.prototype.doRender=function(K){return this._ctx.store.featureChanged(K)};var yr=Yn;Yn.prototype.onSetup=function(){},Yn.prototype.onDrag=function(){},Yn.prototype.onClick=function(){},Yn.prototype.onMouseMove=function(){},Yn.prototype.onMouseDown=function(){},Yn.prototype.onMouseUp=function(){},Yn.prototype.onMouseOut=function(){},Yn.prototype.onKeyUp=function(){},Yn.prototype.onKeyDown=function(){},Yn.prototype.onTouchStart=function(){},Yn.prototype.onTouchMove=function(){},Yn.prototype.onTouchEnd=function(){},Yn.prototype.onTap=function(){},Yn.prototype.onStop=function(){},Yn.prototype.onTrash=function(){},Yn.prototype.onCombineFeature=function(){},Yn.prototype.onUncombineFeature=function(){},Yn.prototype.toDisplayFeatures=function(){throw new Error("You must overwrite toDisplayFeatures")};const Pr={drag:"onDrag",click:"onClick",mousemove:"onMouseMove",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseout:"onMouseOut",keyup:"onKeyUp",keydown:"onKeyDown",touchstart:"onTouchStart",touchmove:"onTouchMove",touchend:"onTouchEnd",tap:"onTap"},Ir=Object.keys(Pr);function Xr(K){const _e=Object.keys(K);return function(wt,Tt={}){let In={};const Qn=_e.reduce((fr,Ai)=>(fr[Ai]=K[Ai],fr),new yr(wt));function ci(fr){return Ai=>Qn[fr](In,Ai)}return{start(){In=Qn.onSetup(Tt),Ir.forEach(fr=>{const Ai=Pr[fr];let to=()=>!1;K[Ai]&&(to=()=>!0),this.on(fr,to,ci(Ai))})},stop(){Qn.onStop(In)},trash(){Qn.onTrash(In)},combineFeatures(){Qn.onCombineFeatures(In)},uncombineFeatures(){Qn.onUncombineFeatures(In)},render(fr,Ai){Qn.toDisplayFeatures(In,fr,Ai)}}}}function rr(K){const _e=Object.keys(K.options.modes).reduce((Fr,Ei)=>(Fr[Ei]=Xr(K.options.modes[Ei]),Fr),{});let wt={},Tt={};const In={};let Qn=null,ci=null;In.drag=function(Fr,Ei){Ei({point:Fr.point,time:new Date().getTime()})?(K.ui.queueMapClasses({mouse:ye.DRAG}),ci.drag(Fr)):Fr.originalEvent.stopPropagation()},In.mousedrag=function(Fr){In.drag(Fr,Ei=>!ai(wt,Ei))},In.touchdrag=function(Fr){In.drag(Fr,Ei=>!Ur(Tt,Ei))},In.mousemove=function(Fr){if((Fr.originalEvent.buttons!==void 0?Fr.originalEvent.buttons:Fr.originalEvent.which)===1)return In.mousedrag(Fr);const _i=Yt(Fr,K);Fr.featureTarget=_i,ci.mousemove(Fr)},In.mousedown=function(Fr){wt={time:new Date().getTime(),point:Fr.point};const Ei=Yt(Fr,K);Fr.featureTarget=Ei,ci.mousedown(Fr)},In.mouseup=function(Fr){const Ei=Yt(Fr,K);Fr.featureTarget=Ei,ai(wt,{point:Fr.point,time:new Date().getTime()})?ci.click(Fr):ci.mouseup(Fr)},In.mouseout=function(Fr){ci.mouseout(Fr)},In.touchstart=function(Fr){if(!K.options.touchEnabled)return;Tt={time:new Date().getTime(),point:Fr.point};const Ei=Ln.touch(Fr,null,K)[0];Fr.featureTarget=Ei,ci.touchstart(Fr)},In.touchmove=function(Fr){if(K.options.touchEnabled)return ci.touchmove(Fr),In.touchdrag(Fr)},In.touchend=function(Fr){if(Fr.originalEvent.preventDefault(),!K.options.touchEnabled)return;const Ei=Ln.touch(Fr,null,K)[0];Fr.featureTarget=Ei,Ur(Tt,{time:new Date().getTime(),point:Fr.point})?ci.tap(Fr):ci.touchend(Fr)};const fr=Fr=>!(Fr===8||Fr===46||Fr>=48&&Fr<=57);In.keydown=function(Fr){(Fr.srcElement||Fr.target).classList.contains(ze.CANVAS)&&((Fr.keyCode===8||Fr.keyCode===46)&&K.options.controls.trash?(Fr.preventDefault(),ci.trash()):fr(Fr.keyCode)?ci.keydown(Fr):Fr.keyCode===49&&K.options.controls.point?Ai(Ee.DRAW_POINT):Fr.keyCode===50&&K.options.controls.line_string?Ai(Ee.DRAW_LINE_STRING):Fr.keyCode===51&&K.options.controls.polygon&&Ai(Ee.DRAW_POLYGON))},In.keyup=function(Fr){fr(Fr.keyCode)&&ci.keyup(Fr)},In.zoomend=function(){K.store.changeZoom()},In.data=function(Fr){if(Fr.dataType==="style"){const{setup:Ei,map:_i,options:bi,store:Yo}=K;bi.styles.some(an=>_i.getLayer(an.id))||(Ei.addLayers(),Yo.setDirty(),Yo.render())}};function Ai(Fr,Ei,_i={}){ci.stop();const bi=_e[Fr];if(bi===void 0)throw new Error(`${Fr} is not valid`);Qn=Fr;const Yo=bi(K,Ei);ci=xe(Yo,K),_i.silent||K.map.fire(He.MODE_CHANGE,{mode:Fr}),K.store.setDirty(),K.store.render()}const to={trash:!1,combineFeatures:!1,uncombineFeatures:!1};function xr(Fr){let Ei=!1;Object.keys(Fr).forEach(_i=>{if(to[_i]===void 0)throw new Error("Invalid action type");to[_i]!==Fr[_i]&&(Ei=!0),to[_i]=Fr[_i]}),Ei&&K.map.fire(He.ACTIONABLE,{actions:to})}return{start(){Qn=K.options.defaultMode,ci=xe(_e[Qn](K),K)},changeMode:Ai,actionable:xr,currentModeName(){return Qn},currentModeRender(Fr,Ei){return ci.render(Fr,Ei)},fire(Fr,Ei){K.map&&K.map.fire(Fr,Ei)},addEventListeners(){K.map.on("mousemove",In.mousemove),K.map.on("mousedown",In.mousedown),K.map.on("mouseup",In.mouseup),K.map.on("data",In.data),K.map.on("touchmove",In.touchmove),K.map.on("touchstart",In.touchstart),K.map.on("touchend",In.touchend),K.container.addEventListener("mouseout",In.mouseout),K.options.keybindings&&(K.container.addEventListener("keydown",In.keydown),K.container.addEventListener("keyup",In.keyup))},removeEventListeners(){K.map.off("mousemove",In.mousemove),K.map.off("mousedown",In.mousedown),K.map.off("mouseup",In.mouseup),K.map.off("data",In.data),K.map.off("touchmove",In.touchmove),K.map.off("touchstart",In.touchstart),K.map.off("touchend",In.touchend),K.container.removeEventListener("mouseout",In.mouseout),K.options.keybindings&&(K.container.removeEventListener("keydown",In.keydown),K.container.removeEventListener("keyup",In.keyup))},trash(Fr){ci.trash(Fr)},combineFeatures(){ci.combineFeatures()},uncombineFeatures(){ci.uncombineFeatures()},getMode(){return Qn}}}function gr(K){return[].concat(K).filter(_e=>_e!==void 0)}var ei=gr;function Un(){const K=this;if(!(K.ctx.map&&K.ctx.map.getSource(Pe.HOT)!==void 0))return Ai();const wt=K.ctx.events.currentModeName();K.ctx.ui.queueMapClasses({mode:wt});let Tt=[],In=[];K.isDirty?In=K.getAllIds():(Tt=K.getChangedIds().filter(to=>K.get(to)!==void 0),In=K.sources.hot.filter(to=>to.properties.id&&Tt.indexOf(to.properties.id)===-1&&K.get(to.properties.id)!==void 0).map(to=>to.properties.id)),K.sources.hot=[];const Qn=K.sources.cold.length;K.sources.cold=K.isDirty?[]:K.sources.cold.filter(to=>{const xr=to.properties.id||to.properties.parent;return Tt.indexOf(xr)===-1});const ci=Qn!==K.sources.cold.length||In.length>0;Tt.forEach(to=>fr(to,"hot")),In.forEach(to=>fr(to,"cold"));function fr(to,xr){const Fr=K.get(to).internal(wt);K.ctx.events.currentModeRender(Fr,Ei=>{Ei.properties.mode=wt,K.sources[xr].push(Ei)})}ci&&K.ctx.map.getSource(Pe.COLD).setData({type:je.FEATURE_COLLECTION,features:K.sources.cold}),K.ctx.map.getSource(Pe.HOT).setData({type:je.FEATURE_COLLECTION,features:K.sources.hot}),Ai();function Ai(){K.isDirty=!1,K.clearChangedIds()}}function si(K){this._features={},this._featureIds=new Kt,this._selectedFeatureIds=new Kt,this._selectedCoordinates=[],this._changedFeatureIds=new Kt,this._emitSelectionChange=!1,this._mapInitialConfig={},this.ctx=K,this.sources={hot:[],cold:[]};let _e;this.render=()=>{_e||(_e=requestAnimationFrame(()=>{_e=null,Un.call(this),this._emitSelectionChange&&(this.ctx.events.fire(He.SELECTION_CHANGE,{features:this.getSelected().map(wt=>wt.toGeoJSON()),points:this.getSelectedCoordinates().map(wt=>({type:je.FEATURE,properties:{},geometry:{type:je.POINT,coordinates:wt.coordinates}}))}),this._emitSelectionChange=!1),this.ctx.events.fire(He.RENDER,{})}))},this.isDirty=!1}si.prototype.createRenderBatch=function(){const K=this.render;let _e=0;return this.render=function(){_e++},()=>{this.render=K,_e>0&&this.render()}},si.prototype.setDirty=function(){return this.isDirty=!0,this},si.prototype.featureCreated=function(K,_e={}){if(this._changedFeatureIds.add(K),(_e.silent!=null?_e.silent:this.ctx.options.suppressAPIEvents)!==!0){const Tt=this.get(K);this.ctx.events.fire(He.CREATE,{features:[Tt.toGeoJSON()]})}return this},si.prototype.featureChanged=function(K,_e={}){return this._changedFeatureIds.add(K),(_e.silent!=null?_e.silent:this.ctx.options.suppressAPIEvents)!==!0&&this.ctx.events.fire(He.UPDATE,{action:_e.action?_e.action:Qe.CHANGE_COORDINATES,features:[this.get(K).toGeoJSON()]}),this},si.prototype.getChangedIds=function(){return this._changedFeatureIds.values()},si.prototype.clearChangedIds=function(){return this._changedFeatureIds.clear(),this},si.prototype.getAllIds=function(){return this._featureIds.values()},si.prototype.add=function(K,_e={}){return this._features[K.id]=K,this._featureIds.add(K.id),this.featureCreated(K.id,{silent:_e.silent}),this},si.prototype.delete=function(K,_e={}){const wt=[];return ei(K).forEach(Tt=>{this._featureIds.has(Tt)&&(this._featureIds.delete(Tt),this._selectedFeatureIds.delete(Tt),_e.silent||wt.indexOf(this._features[Tt])===-1&&wt.push(this._features[Tt].toGeoJSON()),delete this._features[Tt],this.isDirty=!0)}),wt.length&&this.ctx.events.fire(He.DELETE,{features:wt}),Si(this,_e),this},si.prototype.get=function(K){return this._features[K]},si.prototype.getAll=function(){return Object.keys(this._features).map(K=>this._features[K])},si.prototype.select=function(K,_e={}){return ei(K).forEach(wt=>{this._selectedFeatureIds.has(wt)||(this._selectedFeatureIds.add(wt),this._changedFeatureIds.add(wt),_e.silent||(this._emitSelectionChange=!0))}),this},si.prototype.deselect=function(K,_e={}){return ei(K).forEach(wt=>{this._selectedFeatureIds.has(wt)&&(this._selectedFeatureIds.delete(wt),this._changedFeatureIds.add(wt),_e.silent||(this._emitSelectionChange=!0))}),Si(this,_e),this},si.prototype.clearSelected=function(K={}){return this.deselect(this._selectedFeatureIds.values(),{silent:K.silent}),this},si.prototype.setSelected=function(K,_e={}){return K=ei(K),this.deselect(this._selectedFeatureIds.values().filter(wt=>K.indexOf(wt)===-1),{silent:_e.silent}),this.select(K.filter(wt=>!this._selectedFeatureIds.has(wt)),{silent:_e.silent}),this},si.prototype.setSelectedCoordinates=function(K){return this._selectedCoordinates=K,this._emitSelectionChange=!0,this},si.prototype.clearSelectedCoordinates=function(){return this._selectedCoordinates=[],this._emitSelectionChange=!0,this},si.prototype.getSelectedIds=function(){return this._selectedFeatureIds.values()},si.prototype.getSelected=function(){return this.getSelectedIds().map(K=>this.get(K))},si.prototype.getSelectedCoordinates=function(){return this._selectedCoordinates.map(_e=>({coordinates:this.get(_e.feature_id).getCoordinate(_e.coord_path)}))},si.prototype.isSelected=function(K){return this._selectedFeatureIds.has(K)},si.prototype.setFeatureProperty=function(K,_e,wt,Tt={}){this.get(K).setProperty(_e,wt),this.featureChanged(K,{silent:Tt.silent,action:Qe.CHANGE_PROPERTIES})};function Si(K,_e={}){const wt=K._selectedCoordinates.filter(Tt=>K._selectedFeatureIds.has(Tt.feature_id));K._selectedCoordinates.length!==wt.length&&!_e.silent&&(K._emitSelectionChange=!0),K._selectedCoordinates=wt}si.prototype.storeMapConfig=function(){gt.forEach(K=>{this.ctx.map[K]&&(this._mapInitialConfig[K]=this.ctx.map[K].isEnabled())})},si.prototype.restoreMapConfig=function(){Object.keys(this._mapInitialConfig).forEach(K=>{this._mapInitialConfig[K]?this.ctx.map[K].enable():this.ctx.map[K].disable()})},si.prototype.getInitialConfigValue=function(K){return this._mapInitialConfig[K]!==void 0?this._mapInitialConfig[K]:!0};const Yi=["mode","feature","mouse"];function xo(K){const _e={};let wt=null,Tt={mode:null,feature:null,mouse:null},In={mode:null,feature:null,mouse:null};function Qn(){ci({mode:null,feature:null,mouse:null}),fr()}function ci(Ei){In=Object.assign(In,Ei)}function fr(){if(!K.container)return;const Ei=[],_i=[];Yi.forEach(bi=>{In[bi]!==Tt[bi]&&(Ei.push(`${bi}-${Tt[bi]}`),In[bi]!==null&&_i.push(`${bi}-${In[bi]}`))}),Ei.length>0&&K.container.classList.remove(...Ei),_i.length>0&&K.container.classList.add(..._i),Tt=Object.assign(Tt,In)}function Ai(Ei,_i={}){const bi=document.createElement("button");return bi.className=`${ze.CONTROL_BUTTON} ${_i.className}`,bi.setAttribute("title",_i.title),_i.container.appendChild(bi),bi.addEventListener("click",Yo=>{if(Yo.preventDefault(),Yo.stopPropagation(),Yo.target===wt){to(),_i.onDeactivate();return}xr(Ei),_i.onActivate()},!0),bi}function to(){wt&&(wt.classList.remove(ze.ACTIVE_BUTTON),wt=null)}function xr(Ei){to();const _i=_e[Ei];_i&&_i&&Ei!=="trash"&&(_i.classList.add(ze.ACTIVE_BUTTON),wt=_i)}function Vi(){const Ei=K.options.controls,_i=document.createElement("div");return _i.className=`${ze.CONTROL_GROUP} ${ze.CONTROL_BASE}`,Ei&&(Ei[te.LINE]&&(_e[te.LINE]=Ai(te.LINE,{container:_i,className:ze.CONTROL_BUTTON_LINE,title:`LineString tool ${K.options.keybindings?"(l)":""}`,onActivate:()=>K.events.changeMode(Ee.DRAW_LINE_STRING),onDeactivate:()=>K.events.trash()})),Ei[te.POLYGON]&&(_e[te.POLYGON]=Ai(te.POLYGON,{container:_i,className:ze.CONTROL_BUTTON_POLYGON,title:`Polygon tool ${K.options.keybindings?"(p)":""}`,onActivate:()=>K.events.changeMode(Ee.DRAW_POLYGON),onDeactivate:()=>K.events.trash()})),Ei[te.POINT]&&(_e[te.POINT]=Ai(te.POINT,{container:_i,className:ze.CONTROL_BUTTON_POINT,title:`Marker tool ${K.options.keybindings?"(m)":""}`,onActivate:()=>K.events.changeMode(Ee.DRAW_POINT),onDeactivate:()=>K.events.trash()})),Ei.trash&&(_e.trash=Ai("trash",{container:_i,className:ze.CONTROL_BUTTON_TRASH,title:"Delete",onActivate:()=>{K.events.trash()}})),Ei.combine_features&&(_e.combine_features=Ai("combineFeatures",{container:_i,className:ze.CONTROL_BUTTON_COMBINE_FEATURES,title:"Combine",onActivate:()=>{K.events.combineFeatures()}})),Ei.uncombine_features&&(_e.uncombine_features=Ai("uncombineFeatures",{container:_i,className:ze.CONTROL_BUTTON_UNCOMBINE_FEATURES,title:"Uncombine",onActivate:()=>{K.events.uncombineFeatures()}}))),_i}function Fr(){Object.keys(_e).forEach(Ei=>{const _i=_e[Ei];_i.parentNode&&_i.parentNode.removeChild(_i),delete _e[Ei]})}return{setActiveButton:xr,queueMapClasses:ci,updateMapClasses:fr,clearMapClasses:Qn,addButtons:Vi,removeButtons:Fr}}function Qr(K){let _e=null,wt=null;const Tt={onRemove(){return K.map.off("load",Tt.connect),clearInterval(wt),Tt.removeLayers(),K.store.restoreMapConfig(),K.ui.removeButtons(),K.events.removeEventListeners(),K.ui.clearMapClasses(),K.boxZoomInitial&&K.map.boxZoom.enable(),K.map=null,K.container=null,K.store=null,_e&&_e.parentNode&&_e.parentNode.removeChild(_e),_e=null,this},connect(){K.map.off("load",Tt.connect),clearInterval(wt),Tt.addLayers(),K.store.storeMapConfig(),K.events.addEventListeners()},onAdd(In){if(K.map=In,K.events=rr(K),K.ui=xo(K),K.container=In.getContainer(),K.store=new si(K),_e=K.ui.addButtons(),K.options.boxSelect){K.boxZoomInitial=In.boxZoom.isEnabled(),In.boxZoom.disable();const Qn=In.dragPan.isEnabled();In.dragPan.disable(),In.dragPan.enable(),Qn||In.dragPan.disable()}return In.loaded()?Tt.connect():(In.on("load",Tt.connect),wt=setInterval(()=>{In.loaded()&&Tt.connect()},16)),K.events.start(),_e},addLayers(){K.map.addSource(Pe.COLD,{data:{type:je.FEATURE_COLLECTION,features:[]},type:"geojson"}),K.map.addSource(Pe.HOT,{data:{type:je.FEATURE_COLLECTION,features:[]},type:"geojson"}),K.options.styles.forEach(In=>{K.map.addLayer(In)}),K.store.setDirty(!0),K.store.render()},removeLayers(){K.options.styles.forEach(In=>{K.map.getLayer(In.id)&&K.map.removeLayer(In.id)}),K.map.getSource(Pe.COLD)&&K.map.removeSource(Pe.COLD),K.map.getSource(Pe.HOT)&&K.map.removeSource(Pe.HOT)}};return K.setup=Tt,Tt}const co="#3bb2d0",tn="#fbb03b",Tn="#fff";var ir=[{id:"gl-draw-polygon-fill",type:"fill",filter:["all",["==","$type","Polygon"]],paint:{"fill-color":["case",["==",["get","active"],"true"],tn,co],"fill-opacity":.1}},{id:"gl-draw-lines",type:"line",filter:["any",["==","$type","LineString"],["==","$type","Polygon"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":["case",["==",["get","active"],"true"],tn,co],"line-dasharray":["case",["==",["get","active"],"true"],[.2,2],[2,0]],"line-width":2}},{id:"gl-draw-point-outer",type:"circle",filter:["all",["==","$type","Point"],["==","meta","feature"]],paint:{"circle-radius":["case",["==",["get","active"],"true"],7,5],"circle-color":Tn}},{id:"gl-draw-point-inner",type:"circle",filter:["all",["==","$type","Point"],["==","meta","feature"]],paint:{"circle-radius":["case",["==",["get","active"],"true"],5,3],"circle-color":["case",["==",["get","active"],"true"],tn,co]}},{id:"gl-draw-vertex-outer",type:"circle",filter:["all",["==","$type","Point"],["==","meta","vertex"],["!=","mode","simple_select"]],paint:{"circle-radius":["case",["==",["get","active"],"true"],7,5],"circle-color":Tn}},{id:"gl-draw-vertex-inner",type:"circle",filter:["all",["==","$type","Point"],["==","meta","vertex"],["!=","mode","simple_select"]],paint:{"circle-radius":["case",["==",["get","active"],"true"],5,3],"circle-color":tn}},{id:"gl-draw-midpoint",type:"circle",filter:["all",["==","meta","midpoint"]],paint:{"circle-radius":3,"circle-color":tn}}];function kr(K){return function(_e){const wt=_e.featureTarget;return!wt||!wt.properties?!1:wt.properties.meta===K}}function gi(K){return!K.originalEvent||!K.originalEvent.shiftKey?!1:K.originalEvent.button===0}function li(K){return!K.featureTarget||!K.featureTarget.properties?!1:K.featureTarget.properties.active===qe.ACTIVE&&K.featureTarget.properties.meta===ot.FEATURE}function eo(K){return!K.featureTarget||!K.featureTarget.properties?!1:K.featureTarget.properties.active===qe.INACTIVE&&K.featureTarget.properties.meta===ot.FEATURE}function io(K){return K.featureTarget===void 0}function Lo(K){return!K.featureTarget||!K.featureTarget.properties?!1:K.featureTarget.properties.meta===ot.FEATURE}function Co(K){const _e=K.featureTarget;return!_e||!_e.properties?!1:_e.properties.meta===ot.VERTEX}function uo(K){return K.originalEvent?K.originalEvent.shiftKey===!0:!1}function Re(K){return K.keyCode===27}function de(K){return K.keyCode===13}function Y(){return!0}function Ze(K,_e){this.x=K,this.y=_e}Ze.prototype={clone(){return new Ze(this.x,this.y)},add(K){return this.clone()._add(K)},sub(K){return this.clone()._sub(K)},multByPoint(K){return this.clone()._multByPoint(K)},divByPoint(K){return this.clone()._divByPoint(K)},mult(K){return this.clone()._mult(K)},div(K){return this.clone()._div(K)},rotate(K){return this.clone()._rotate(K)},rotateAround(K,_e){return this.clone()._rotateAround(K,_e)},matMult(K){return this.clone()._matMult(K)},unit(){return this.clone()._unit()},perp(){return this.clone()._perp()},round(){return this.clone()._round()},mag(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals(K){return this.x===K.x&&this.y===K.y},dist(K){return Math.sqrt(this.distSqr(K))},distSqr(K){const _e=K.x-this.x,wt=K.y-this.y;return _e*_e+wt*wt},angle(){return Math.atan2(this.y,this.x)},angleTo(K){return Math.atan2(this.y-K.y,this.x-K.x)},angleWith(K){return this.angleWithSep(K.x,K.y)},angleWithSep(K,_e){return Math.atan2(this.x*_e-this.y*K,this.x*K+this.y*_e)},_matMult(K){const _e=K[0]*this.x+K[1]*this.y,wt=K[2]*this.x+K[3]*this.y;return this.x=_e,this.y=wt,this},_add(K){return this.x+=K.x,this.y+=K.y,this},_sub(K){return this.x-=K.x,this.y-=K.y,this},_mult(K){return this.x*=K,this.y*=K,this},_div(K){return this.x/=K,this.y/=K,this},_multByPoint(K){return this.x*=K.x,this.y*=K.y,this},_divByPoint(K){return this.x/=K.x,this.y/=K.y,this},_unit(){return this._div(this.mag()),this},_perp(){const K=this.y;return this.y=this.x,this.x=-K,this},_rotate(K){const _e=Math.cos(K),wt=Math.sin(K),Tt=_e*this.x-wt*this.y,In=wt*this.x+_e*this.y;return this.x=Tt,this.y=In,this},_rotateAround(K,_e){const wt=Math.cos(K),Tt=Math.sin(K),In=_e.x+wt*(this.x-_e.x)-Tt*(this.y-_e.y),Qn=_e.y+Tt*(this.x-_e.x)+wt*(this.y-_e.y);return this.x=In,this.y=Qn,this},_round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},constructor:Ze},Ze.convert=function(K){if(K instanceof Ze)return K;if(Array.isArray(K))return new Ze(+K[0],+K[1]);if(K.x!==void 0&&K.y!==void 0)return new Ze(+K.x,+K.y);throw new Error("Expected [x, y] or {x, y} point format")};function pe(K,_e){const wt=_e.getBoundingClientRect();return new Ze(K.clientX-wt.left-(_e.clientLeft||0),K.clientY-wt.top-(_e.clientTop||0))}var et=pe;function nt(K,_e,wt,Tt){return{type:je.FEATURE,properties:{meta:ot.VERTEX,parent:K,coord_path:wt,active:Tt?qe.ACTIVE:qe.INACTIVE},geometry:{type:je.POINT,coordinates:_e}}}function ln(K,_e,wt){const Tt=_e.geometry.coordinates,In=wt.geometry.coordinates;if(Tt[1]>yt||Tt[1]<Xe||In[1]>yt||In[1]<Xe)return null;const Qn={lng:(Tt[0]+In[0])/2,lat:(Tt[1]+In[1])/2};return{type:je.FEATURE,properties:{meta:ot.MIDPOINT,parent:K,lng:Qn.lng,lat:Qn.lat,coord_path:wt.properties.coord_path},geometry:{type:je.POINT,coordinates:[Qn.lng,Qn.lat]}}}function At(K,_e={},wt=null){const{type:Tt,coordinates:In}=K.geometry,Qn=K.properties&&K.properties.id;let ci=[];Tt===je.POINT?ci.push(nt(Qn,In,wt,Ai(wt))):Tt===je.POLYGON?In.forEach((xr,Vi)=>{fr(xr,wt!==null?`${wt}.${Vi}`:String(Vi))}):Tt===je.LINE_STRING?fr(In,wt):Tt.indexOf(je.MULTI_PREFIX)===0&&to();function fr(xr,Vi){let Fr="",Ei=null;xr.forEach((_i,bi)=>{const Yo=Vi!=null?`${Vi}.${bi}`:String(bi),jo=nt(Qn,_i,Yo,Ai(Yo));if(_e.midpoints&&Ei){const Ye=ln(Qn,Ei,jo);Ye&&ci.push(Ye)}Ei=jo;const an=JSON.stringify(_i);Fr!==an&&ci.push(jo),bi===0&&(Fr=an)})}function Ai(xr){return _e.selectedPaths?_e.selectedPaths.indexOf(xr)!==-1:!1}function to(){const xr=Tt.replace(je.MULTI_PREFIX,"");In.forEach((Vi,Fr)=>{const Ei={type:je.FEATURE,properties:K.properties,geometry:{type:xr,coordinates:Vi}};ci=ci.concat(At(Ei,_e,Fr))})}return ci}var sn=At,vn={enable(K){setTimeout(()=>{!K.map||!K.map.doubleClickZoom||!K._ctx||!K._ctx.store||!K._ctx.store.getInitialConfigValue||K._ctx.store.getInitialConfigValue("doubleClickZoom")&&K.map.doubleClickZoom.enable()},0)},disable(K){setTimeout(()=>{!K.map||!K.map.doubleClickZoom||K.map.doubleClickZoom.disable()},0)}};const{LAT_MIN:Je,LAT_MAX:Rt,LAT_RENDERED_MIN:Xt,LAT_RENDERED_MAX:nn,LNG_MIN:dt,LNG_MAX:lt}=s;function En(K){const _e={Point:0,LineString:1,Polygon:2,MultiPoint:1,MultiLineString:2,MultiPolygon:3}[K.geometry.type],wt=[K.geometry.coordinates].flat(_e),Tt=wt.map(fr=>fr[0]),In=wt.map(fr=>fr[1]),Qn=fr=>Math.min.apply(null,fr),ci=fr=>Math.max.apply(null,fr);return[Qn(Tt),Qn(In),ci(Tt),ci(In)]}function _n(K,_e){let wt=Je,Tt=Rt,In=Je,Qn=Rt,ci=lt,fr=dt;K.forEach(to=>{const xr=En(to),Vi=xr[1],Fr=xr[3],Ei=xr[0],_i=xr[2];Vi>wt&&(wt=Vi),Fr<Tt&&(Tt=Fr),Fr>In&&(In=Fr),Vi<Qn&&(Qn=Vi),Ei<ci&&(ci=Ei),_i>fr&&(fr=_i)});const Ai=_e;return wt+Ai.lat>nn&&(Ai.lat=nn-wt),In+Ai.lat>Rt&&(Ai.lat=Rt-In),Tt+Ai.lat<Xt&&(Ai.lat=Xt-Tt),Qn+Ai.lat<Je&&(Ai.lat=Je-Qn),ci+Ai.lng<=dt&&(Ai.lng+=Math.ceil(Math.abs(Ai.lng)/360)*360),fr+Ai.lng>=lt&&(Ai.lng-=Math.ceil(Math.abs(Ai.lng)/360)*360),Ai}function Wn(K,_e){const wt=_n(K.map(Tt=>Tt.toGeoJSON()),_e);K.forEach(Tt=>{const In=Tt.getCoordinates(),Qn=to=>{const xr={lng:to[0]+wt.lng,lat:to[1]+wt.lat};return[xr.lng,xr.lat]},ci=to=>to.map(xr=>Qn(xr)),fr=to=>to.map(xr=>ci(xr));let Ai;Tt.type===je.POINT?Ai=Qn(In):Tt.type===je.LINE_STRING||Tt.type===je.MULTI_POINT?Ai=In.map(Qn):Tt.type===je.POLYGON||Tt.type===je.MULTI_LINE_STRING?Ai=In.map(ci):Tt.type===je.MULTI_POLYGON&&(Ai=In.map(fr)),Tt.incomingCoords(Ai)})}const nr={};nr.onSetup=function(K){const _e={dragMoveLocation:null,boxSelectStartLocation:null,boxSelectElement:void 0,boxSelecting:!1,canBoxSelect:!1,dragMoving:!1,canDragMove:!1,initialDragPanState:this.map.dragPan.isEnabled(),initiallySelectedFeatureIds:K.featureIds||[]};return this.setSelected(_e.initiallySelectedFeatureIds.filter(wt=>this.getFeature(wt)!==void 0)),this.fireActionable(),this.setActionableState({combineFeatures:!0,uncombineFeatures:!0,trash:!0}),_e},nr.fireUpdate=function(){this.fire(He.UPDATE,{action:Qe.MOVE,features:this.getSelected().map(K=>K.toGeoJSON())})},nr.fireActionable=function(){const K=this.getSelected(),_e=K.filter(Qn=>this.isInstanceOf("MultiFeature",Qn));let wt=!1;if(K.length>1){wt=!0;const Qn=K[0].type.replace("Multi","");K.forEach(ci=>{ci.type.replace("Multi","")!==Qn&&(wt=!1)})}const Tt=_e.length>0,In=K.length>0;this.setActionableState({combineFeatures:wt,uncombineFeatures:Tt,trash:In})},nr.getUniqueIds=function(K){return K.length?K.map(wt=>wt.properties.id).filter(wt=>wt!==void 0).reduce((wt,Tt)=>(wt.add(Tt),wt),new Kt).values():[]},nr.stopExtendedInteractions=function(K){K.boxSelectElement&&(K.boxSelectElement.parentNode&&K.boxSelectElement.parentNode.removeChild(K.boxSelectElement),K.boxSelectElement=null),(K.canDragMove||K.canBoxSelect)&&K.initialDragPanState===!0&&this.map.dragPan.enable(),K.boxSelecting=!1,K.canBoxSelect=!1,K.dragMoving=!1,K.canDragMove=!1},nr.onStop=function(){vn.enable(this)},nr.onMouseMove=function(K,_e){return Lo(_e)&&K.dragMoving&&this.fireUpdate(),this.stopExtendedInteractions(K),!0},nr.onMouseOut=function(K){return K.dragMoving?this.fireUpdate():!0},nr.onTap=nr.onClick=function(K,_e){if(io(_e))return this.clickAnywhere(K,_e);if(kr(ot.VERTEX)(_e))return this.clickOnVertex(K,_e);if(Lo(_e))return this.clickOnFeature(K,_e)},nr.clickAnywhere=function(K){const _e=this.getSelectedIds();_e.length&&(this.clearSelectedFeatures(),_e.forEach(wt=>this.doRender(wt))),vn.enable(this),this.stopExtendedInteractions(K)},nr.clickOnVertex=function(K,_e){this.changeMode(Ee.DIRECT_SELECT,{featureId:_e.featureTarget.properties.parent,coordPath:_e.featureTarget.properties.coord_path,startPos:_e.lngLat}),this.updateUIClasses({mouse:ye.MOVE})},nr.startOnActiveFeature=function(K,_e){this.stopExtendedInteractions(K),this.map.dragPan.disable(),this.doRender(_e.featureTarget.properties.id),K.canDragMove=!0,K.dragMoveLocation=_e.lngLat},nr.clickOnFeature=function(K,_e){vn.disable(this),this.stopExtendedInteractions(K);const wt=uo(_e),Tt=this.getSelectedIds(),In=_e.featureTarget.properties.id,Qn=this.isSelected(In);if(!wt&&Qn&&this.getFeature(In).type!==je.POINT)return this.changeMode(Ee.DIRECT_SELECT,{featureId:In});Qn&&wt?(this.deselect(In),this.updateUIClasses({mouse:ye.POINTER}),Tt.length===1&&vn.enable(this)):!Qn&&wt?(this.select(In),this.updateUIClasses({mouse:ye.MOVE})):!Qn&&!wt&&(Tt.forEach(ci=>this.doRender(ci)),this.setSelected(In),this.updateUIClasses({mouse:ye.MOVE})),this.doRender(In)},nr.onMouseDown=function(K,_e){if(K.initialDragPanState=this.map.dragPan.isEnabled(),li(_e))return this.startOnActiveFeature(K,_e);if(this.drawConfig.boxSelect&&gi(_e))return this.startBoxSelect(K,_e)},nr.startBoxSelect=function(K,_e){this.stopExtendedInteractions(K),this.map.dragPan.disable(),K.boxSelectStartLocation=et(_e.originalEvent,this.map.getContainer()),K.canBoxSelect=!0},nr.onTouchStart=function(K,_e){if(li(_e))return this.startOnActiveFeature(K,_e)},nr.onDrag=function(K,_e){if(K.canDragMove)return this.dragMove(K,_e);if(this.drawConfig.boxSelect&&K.canBoxSelect)return this.whileBoxSelect(K,_e)},nr.whileBoxSelect=function(K,_e){K.boxSelecting=!0,this.updateUIClasses({mouse:ye.ADD}),K.boxSelectElement||(K.boxSelectElement=document.createElement("div"),K.boxSelectElement.classList.add(ze.BOX_SELECT),this.map.getContainer().appendChild(K.boxSelectElement));const wt=et(_e.originalEvent,this.map.getContainer()),Tt=Math.min(K.boxSelectStartLocation.x,wt.x),In=Math.max(K.boxSelectStartLocation.x,wt.x),Qn=Math.min(K.boxSelectStartLocation.y,wt.y),ci=Math.max(K.boxSelectStartLocation.y,wt.y),fr=`translate(${Tt}px, ${Qn}px)`;K.boxSelectElement.style.transform=fr,K.boxSelectElement.style.WebkitTransform=fr,K.boxSelectElement.style.width=`${In-Tt}px`,K.boxSelectElement.style.height=`${ci-Qn}px`},nr.dragMove=function(K,_e){K.dragMoving=!0,_e.originalEvent.stopPropagation();const wt={lng:_e.lngLat.lng-K.dragMoveLocation.lng,lat:_e.lngLat.lat-K.dragMoveLocation.lat};Wn(this.getSelected(),wt),K.dragMoveLocation=_e.lngLat},nr.onTouchEnd=nr.onMouseUp=function(K,_e){if(K.dragMoving)this.fireUpdate();else if(K.boxSelecting){const wt=[K.boxSelectStartLocation,et(_e.originalEvent,this.map.getContainer())],Tt=this.featuresAt(null,wt,"click"),In=this.getUniqueIds(Tt).filter(Qn=>!this.isSelected(Qn));In.length&&(this.select(In),In.forEach(Qn=>this.doRender(Qn)),this.updateUIClasses({mouse:ye.MOVE}))}this.stopExtendedInteractions(K)},nr.toDisplayFeatures=function(K,_e,wt){_e.properties.active=this.isSelected(_e.properties.id)?qe.ACTIVE:qe.INACTIVE,wt(_e),this.fireActionable(),!(_e.properties.active!==qe.ACTIVE||_e.geometry.type===je.POINT)&&sn(_e).forEach(wt)},nr.onTrash=function(){this.deleteFeature(this.getSelectedIds()),this.fireActionable()},nr.onCombineFeatures=function(){const K=this.getSelected();if(K.length===0||K.length<2)return;const _e=[],wt=[],Tt=K[0].type.replace("Multi","");for(let In=0;In<K.length;In++){const Qn=K[In];if(Qn.type.replace("Multi","")!==Tt)return;Qn.type.includes("Multi")?Qn.getCoordinates().forEach(ci=>{_e.push(ci)}):_e.push(Qn.getCoordinates()),wt.push(Qn.toGeoJSON())}if(wt.length>1){const In=this.newFeature({type:je.FEATURE,properties:wt[0].properties,geometry:{type:`Multi${Tt}`,coordinates:_e}});this.addFeature(In),this.deleteFeature(this.getSelectedIds(),{silent:!0}),this.setSelected([In.id]),this.fire(He.COMBINE_FEATURES,{createdFeatures:[In.toGeoJSON()],deletedFeatures:wt})}this.fireActionable()},nr.onUncombineFeatures=function(){const K=this.getSelected();if(K.length===0)return;const _e=[],wt=[];for(let Tt=0;Tt<K.length;Tt++){const In=K[Tt];this.isInstanceOf("MultiFeature",In)&&(In.getFeatures().forEach(Qn=>{this.addFeature(Qn),Qn.properties=In.properties,_e.push(Qn.toGeoJSON()),this.select([Qn.id])}),this.deleteFeature(In.id,{silent:!0}),wt.push(In.toGeoJSON()))}_e.length>1&&this.fire(He.UNCOMBINE_FEATURES,{createdFeatures:_e,deletedFeatures:wt}),this.fireActionable()};var mr=nr;const Nr=kr(ot.VERTEX),ui=kr(ot.MIDPOINT),Zr={};Zr.fireUpdate=function(){this.fire(He.UPDATE,{action:Qe.CHANGE_COORDINATES,features:this.getSelected().map(K=>K.toGeoJSON())})},Zr.fireActionable=function(K){this.setActionableState({combineFeatures:!1,uncombineFeatures:!1,trash:K.selectedCoordPaths.length>0})},Zr.startDragging=function(K,_e){K.initialDragPanState=this.map.dragPan.isEnabled(),this.map.dragPan.disable(),K.canDragMove=!0,K.dragMoveLocation=_e.lngLat},Zr.stopDragging=function(K){K.canDragMove&&K.initialDragPanState===!0&&this.map.dragPan.enable(),K.dragMoving=!1,K.canDragMove=!1,K.dragMoveLocation=null},Zr.onVertex=function(K,_e){this.startDragging(K,_e);const wt=_e.featureTarget.properties,Tt=K.selectedCoordPaths.indexOf(wt.coord_path);!uo(_e)&&Tt===-1?K.selectedCoordPaths=[wt.coord_path]:uo(_e)&&Tt===-1&&K.selectedCoordPaths.push(wt.coord_path);const In=this.pathsToCoordinates(K.featureId,K.selectedCoordPaths);this.setSelectedCoordinates(In)},Zr.onMidpoint=function(K,_e){this.startDragging(K,_e);const wt=_e.featureTarget.properties;K.feature.addCoordinate(wt.coord_path,wt.lng,wt.lat),this.fireUpdate(),K.selectedCoordPaths=[wt.coord_path]},Zr.pathsToCoordinates=function(K,_e){return _e.map(wt=>({feature_id:K,coord_path:wt}))},Zr.onFeature=function(K,_e){K.selectedCoordPaths.length===0?this.startDragging(K,_e):this.stopDragging(K)},Zr.dragFeature=function(K,_e,wt){Wn(this.getSelected(),wt),K.dragMoveLocation=_e.lngLat},Zr.dragVertex=function(K,_e,wt){const Tt=K.selectedCoordPaths.map(ci=>K.feature.getCoordinate(ci)),In=Tt.map(ci=>({type:je.FEATURE,properties:{},geometry:{type:je.POINT,coordinates:ci}})),Qn=_n(In,wt);for(let ci=0;ci<Tt.length;ci++){const fr=Tt[ci];K.feature.updateCoordinate(K.selectedCoordPaths[ci],fr[0]+Qn.lng,fr[1]+Qn.lat)}},Zr.clickNoTarget=function(){this.changeMode(Ee.SIMPLE_SELECT)},Zr.clickInactive=function(){this.changeMode(Ee.SIMPLE_SELECT)},Zr.clickActiveFeature=function(K){K.selectedCoordPaths=[],this.clearSelectedCoordinates(),K.feature.changed()},Zr.onSetup=function(K){const _e=K.featureId,wt=this.getFeature(_e);if(!wt)throw new Error("You must provide a featureId to enter direct_select mode");if(wt.type===je.POINT)throw new TypeError("direct_select mode doesn't handle point features");const Tt={featureId:_e,feature:wt,dragMoveLocation:K.startPos||null,dragMoving:!1,canDragMove:!1,selectedCoordPaths:K.coordPath?[K.coordPath]:[]};return this.setSelectedCoordinates(this.pathsToCoordinates(_e,Tt.selectedCoordPaths)),this.setSelected(_e),vn.disable(this),this.setActionableState({trash:!0}),Tt},Zr.onStop=function(){vn.enable(this),this.clearSelectedCoordinates()},Zr.toDisplayFeatures=function(K,_e,wt){K.featureId===_e.properties.id?(_e.properties.active=qe.ACTIVE,wt(_e),sn(_e,{map:this.map,midpoints:!0,selectedPaths:K.selectedCoordPaths}).forEach(wt)):(_e.properties.active=qe.INACTIVE,wt(_e)),this.fireActionable(K)},Zr.onTrash=function(K){K.selectedCoordPaths.sort((_e,wt)=>wt.localeCompare(_e,"en",{numeric:!0})).forEach(_e=>K.feature.removeCoordinate(_e)),this.fireUpdate(),K.selectedCoordPaths=[],this.clearSelectedCoordinates(),this.fireActionable(K),K.feature.isValid()===!1&&(this.deleteFeature([K.featureId]),this.changeMode(Ee.SIMPLE_SELECT,{}))},Zr.onMouseMove=function(K,_e){const wt=li(_e),Tt=Nr(_e),In=ui(_e),Qn=K.selectedCoordPaths.length===0;return wt&&Qn?this.updateUIClasses({mouse:ye.MOVE}):Tt&&!Qn?this.updateUIClasses({mouse:ye.MOVE}):this.updateUIClasses({mouse:ye.NONE}),(Tt||wt||In)&&K.dragMoving&&this.fireUpdate(),this.stopDragging(K),!0},Zr.onMouseOut=function(K){return K.dragMoving&&this.fireUpdate(),!0},Zr.onTouchStart=Zr.onMouseDown=function(K,_e){if(Nr(_e))return this.onVertex(K,_e);if(li(_e))return this.onFeature(K,_e);if(ui(_e))return this.onMidpoint(K,_e)},Zr.onDrag=function(K,_e){if(K.canDragMove!==!0)return;K.dragMoving=!0,_e.originalEvent.stopPropagation();const wt={lng:_e.lngLat.lng-K.dragMoveLocation.lng,lat:_e.lngLat.lat-K.dragMoveLocation.lat};K.selectedCoordPaths.length>0?this.dragVertex(K,_e,wt):this.dragFeature(K,_e,wt),K.dragMoveLocation=_e.lngLat},Zr.onClick=function(K,_e){if(io(_e))return this.clickNoTarget(K,_e);if(li(_e))return this.clickActiveFeature(K,_e);if(eo(_e))return this.clickInactive(K,_e);this.stopDragging(K)},Zr.onTap=function(K,_e){if(io(_e))return this.clickNoTarget(K,_e);if(li(_e))return this.clickActiveFeature(K,_e);if(eo(_e))return this.clickInactive(K,_e)},Zr.onTouchEnd=Zr.onMouseUp=function(K){K.dragMoving&&this.fireUpdate(),this.stopDragging(K)};var qi=Zr;const pt={};pt.onSetup=function(){const K=this.newFeature({type:je.FEATURE,properties:{},geometry:{type:je.POINT,coordinates:[]}});return this.addFeature(K),this.clearSelectedFeatures(),this.updateUIClasses({mouse:ye.ADD}),this.activateUIButton(te.POINT),this.setActionableState({trash:!0}),{point:K}},pt.stopDrawingAndRemove=function(K){this.deleteFeature([K.point.id],{silent:!0}),this.changeMode(Ee.SIMPLE_SELECT)},pt.onTap=pt.onClick=function(K,_e){this.updateUIClasses({mouse:ye.MOVE}),K.point.updateCoordinate("",_e.lngLat.lng,_e.lngLat.lat),this.fire(He.CREATE,{features:[K.point.toGeoJSON()]}),this.changeMode(Ee.SIMPLE_SELECT,{featureIds:[K.point.id]})},pt.onStop=function(K){this.activateUIButton(),K.point.getCoordinate().length||this.deleteFeature([K.point.id],{silent:!0})},pt.toDisplayFeatures=function(K,_e,wt){const Tt=_e.properties.id===K.point.id;if(_e.properties.active=Tt?qe.ACTIVE:qe.INACTIVE,!Tt)return wt(_e)},pt.onTrash=pt.stopDrawingAndRemove,pt.onKeyUp=function(K,_e){if(Re(_e)||de(_e))return this.stopDrawingAndRemove(K,_e)};var Sn=pt;function qt(K,_e){return K.lngLat?K.lngLat.lng===_e[0]&&K.lngLat.lat===_e[1]:!1}var Nn=qt;const lr={};lr.onSetup=function(){const K=this.newFeature({type:je.FEATURE,properties:{},geometry:{type:je.POLYGON,coordinates:[[]]}});return this.addFeature(K),this.clearSelectedFeatures(),vn.disable(this),this.updateUIClasses({mouse:ye.ADD}),this.activateUIButton(te.POLYGON),this.setActionableState({trash:!0}),{polygon:K,currentVertexPosition:0}},lr.clickAnywhere=function(K,_e){if(K.currentVertexPosition>0&&Nn(_e,K.polygon.coordinates[0][K.currentVertexPosition-1]))return this.changeMode(Ee.SIMPLE_SELECT,{featureIds:[K.polygon.id]});this.updateUIClasses({mouse:ye.ADD}),K.polygon.updateCoordinate(`0.${K.currentVertexPosition}`,_e.lngLat.lng,_e.lngLat.lat),K.currentVertexPosition++,K.polygon.updateCoordinate(`0.${K.currentVertexPosition}`,_e.lngLat.lng,_e.lngLat.lat)},lr.clickOnVertex=function(K){return this.changeMode(Ee.SIMPLE_SELECT,{featureIds:[K.polygon.id]})},lr.onMouseMove=function(K,_e){K.polygon.updateCoordinate(`0.${K.currentVertexPosition}`,_e.lngLat.lng,_e.lngLat.lat),Co(_e)&&this.updateUIClasses({mouse:ye.POINTER})},lr.onTap=lr.onClick=function(K,_e){return Co(_e)?this.clickOnVertex(K,_e):this.clickAnywhere(K,_e)},lr.onKeyUp=function(K,_e){Re(_e)?(this.deleteFeature([K.polygon.id],{silent:!0}),this.changeMode(Ee.SIMPLE_SELECT)):de(_e)&&this.changeMode(Ee.SIMPLE_SELECT,{featureIds:[K.polygon.id]})},lr.onStop=function(K){this.updateUIClasses({mouse:ye.NONE}),vn.enable(this),this.activateUIButton(),this.getFeature(K.polygon.id)!==void 0&&(K.polygon.removeCoordinate(`0.${K.currentVertexPosition}`),K.polygon.isValid()?this.fire(He.CREATE,{features:[K.polygon.toGeoJSON()]}):(this.deleteFeature([K.polygon.id],{silent:!0}),this.changeMode(Ee.SIMPLE_SELECT,{},{silent:!0})))},lr.toDisplayFeatures=function(K,_e,wt){const Tt=_e.properties.id===K.polygon.id;if(_e.properties.active=Tt?qe.ACTIVE:qe.INACTIVE,!Tt)return wt(_e);if(_e.geometry.coordinates.length===0)return;const In=_e.geometry.coordinates[0].length;if(!(In<3)){if(_e.properties.meta=ot.FEATURE,wt(nt(K.polygon.id,_e.geometry.coordinates[0][0],"0.0",!1)),In>3){const Qn=_e.geometry.coordinates[0].length-3;wt(nt(K.polygon.id,_e.geometry.coordinates[0][Qn],`0.${Qn}`,!1))}if(In<=4){const Qn=[[_e.geometry.coordinates[0][0][0],_e.geometry.coordinates[0][0][1]],[_e.geometry.coordinates[0][1][0],_e.geometry.coordinates[0][1][1]]];if(wt({type:je.FEATURE,properties:_e.properties,geometry:{coordinates:Qn,type:je.LINE_STRING}}),In===3)return}return wt(_e)}},lr.onTrash=function(K){this.deleteFeature([K.polygon.id],{silent:!0}),this.changeMode(Ee.SIMPLE_SELECT)};var di=lr;const Ti={};Ti.onSetup=function(K){K=K||{};const _e=K.featureId;let wt,Tt,In="forward";if(_e){if(wt=this.getFeature(_e),!wt)throw new Error("Could not find a feature with the provided featureId");let Qn=K.from;if(Qn&&Qn.type==="Feature"&&Qn.geometry&&Qn.geometry.type==="Point"&&(Qn=Qn.geometry),Qn&&Qn.type==="Point"&&Qn.coordinates&&Qn.coordinates.length===2&&(Qn=Qn.coordinates),!Qn||!Array.isArray(Qn))throw new Error("Please use the `from` property to indicate which point to continue the line from");const ci=wt.coordinates.length-1;if(wt.coordinates[ci][0]===Qn[0]&&wt.coordinates[ci][1]===Qn[1])Tt=ci+1,wt.addCoordinate(Tt,...wt.coordinates[ci]);else if(wt.coordinates[0][0]===Qn[0]&&wt.coordinates[0][1]===Qn[1])In="backwards",Tt=0,wt.addCoordinate(Tt,...wt.coordinates[0]);else throw new Error("`from` should match the point at either the start or the end of the provided LineString")}else wt=this.newFeature({type:je.FEATURE,properties:{},geometry:{type:je.LINE_STRING,coordinates:[]}}),Tt=0,this.addFeature(wt);return this.clearSelectedFeatures(),vn.disable(this),this.updateUIClasses({mouse:ye.ADD}),this.activateUIButton(te.LINE),this.setActionableState({trash:!0}),{line:wt,currentVertexPosition:Tt,direction:In}},Ti.clickAnywhere=function(K,_e){if(K.currentVertexPosition>0&&Nn(_e,K.line.coordinates[K.currentVertexPosition-1])||K.direction==="backwards"&&Nn(_e,K.line.coordinates[K.currentVertexPosition+1]))return this.changeMode(Ee.SIMPLE_SELECT,{featureIds:[K.line.id]});this.updateUIClasses({mouse:ye.ADD}),K.line.updateCoordinate(K.currentVertexPosition,_e.lngLat.lng,_e.lngLat.lat),K.direction==="forward"?(K.currentVertexPosition++,K.line.updateCoordinate(K.currentVertexPosition,_e.lngLat.lng,_e.lngLat.lat)):K.line.addCoordinate(0,_e.lngLat.lng,_e.lngLat.lat)},Ti.clickOnVertex=function(K){return this.changeMode(Ee.SIMPLE_SELECT,{featureIds:[K.line.id]})},Ti.onMouseMove=function(K,_e){K.line.updateCoordinate(K.currentVertexPosition,_e.lngLat.lng,_e.lngLat.lat),Co(_e)&&this.updateUIClasses({mouse:ye.POINTER})},Ti.onTap=Ti.onClick=function(K,_e){if(Co(_e))return this.clickOnVertex(K,_e);this.clickAnywhere(K,_e)},Ti.onKeyUp=function(K,_e){de(_e)?this.changeMode(Ee.SIMPLE_SELECT,{featureIds:[K.line.id]}):Re(_e)&&(this.deleteFeature([K.line.id],{silent:!0}),this.changeMode(Ee.SIMPLE_SELECT))},Ti.onStop=function(K){vn.enable(this),this.activateUIButton(),this.getFeature(K.line.id)!==void 0&&(K.line.removeCoordinate(`${K.currentVertexPosition}`),K.line.isValid()?this.fire(He.CREATE,{features:[K.line.toGeoJSON()]}):(this.deleteFeature([K.line.id],{silent:!0}),this.changeMode(Ee.SIMPLE_SELECT,{},{silent:!0})))},Ti.onTrash=function(K){this.deleteFeature([K.line.id],{silent:!0}),this.changeMode(Ee.SIMPLE_SELECT)},Ti.toDisplayFeatures=function(K,_e,wt){const Tt=_e.properties.id===K.line.id;if(_e.properties.active=Tt?qe.ACTIVE:qe.INACTIVE,!Tt)return wt(_e);_e.geometry.coordinates.length<2||(_e.properties.meta=ot.FEATURE,wt(nt(K.line.id,_e.geometry.coordinates[K.direction==="forward"?_e.geometry.coordinates.length-2:1],`${K.direction==="forward"?_e.geometry.coordinates.length-2:1}`,!1)),wt(_e))};var bo=Ti,Zi={simple_select:mr,direct_select:qi,draw_point:Sn,draw_polygon:di,draw_line_string:bo};const fo={defaultMode:Ee.SIMPLE_SELECT,keybindings:!0,touchEnabled:!0,clickBuffer:2,touchBuffer:25,boxSelect:!0,displayControlsDefault:!0,styles:ir,modes:Zi,controls:{},userProperties:!1,suppressAPIEvents:!0},yo={point:!0,line_string:!0,polygon:!0,trash:!0,combine_features:!0,uncombine_features:!0},Gi={point:!1,line_string:!1,polygon:!1,trash:!1,combine_features:!1,uncombine_features:!1};function Oo(K,_e){return K.map(wt=>wt.source?wt:Object.assign({},wt,{id:`${wt.id}.${_e}`,source:_e==="hot"?Pe.HOT:Pe.COLD}))}function Xo(K={}){let _e=Object.assign({},K);return K.controls||(_e.controls={}),K.displayControlsDefault===!1?_e.controls=Object.assign({},Gi,K.controls):_e.controls=Object.assign({},yo,K.controls),_e=Object.assign({},fo,_e),_e.styles=Oo(_e.styles,"cold").concat(Oo(_e.styles,"hot")),_e}var Bo=F(3341),Eo=F(74444);function zo(K,_e){return K.length!==_e.length?!1:JSON.stringify(K.map(wt=>wt).sort())===JSON.stringify(_e.map(wt=>wt).sort())}const Zo={Polygon:ri,LineString:Er,Point:fn,MultiPolygon:wr,MultiLineString:wr,MultiPoint:wr};function na(K,_e){_e.modes=Ee;const wt=K.options.suppressAPIEvents!==void 0?!!K.options.suppressAPIEvents:!0;return _e.getFeatureIdsAt=function(Tt){return Ln.click({point:Tt},null,K).map(Qn=>Qn.properties.id)},_e.getSelectedIds=function(){return K.store.getSelectedIds()},_e.getSelected=function(){return{type:je.FEATURE_COLLECTION,features:K.store.getSelectedIds().map(Tt=>K.store.get(Tt)).map(Tt=>Tt.toGeoJSON())}},_e.getSelectedPoints=function(){return{type:je.FEATURE_COLLECTION,features:K.store.getSelectedCoordinates().map(Tt=>({type:je.FEATURE,properties:{},geometry:{type:je.POINT,coordinates:Tt.coordinates}}))}},_e.set=function(Tt){if(Tt.type===void 0||Tt.type!==je.FEATURE_COLLECTION||!Array.isArray(Tt.features))throw new Error("Invalid FeatureCollection");const In=K.store.createRenderBatch();let Qn=K.store.getAllIds().slice();const ci=_e.add(Tt),fr=new Kt(ci);return Qn=Qn.filter(Ai=>!fr.has(Ai)),Qn.length&&_e.delete(Qn),In(),ci},_e.add=function(Tt){const Qn=JSON.parse(JSON.stringify(Eo(Tt))).features.map(ci=>{if(ci.id=ci.id||pr(),ci.geometry===null)throw new Error("Invalid geometry: null");if(K.store.get(ci.id)===void 0||K.store.get(ci.id).type!==ci.geometry.type){const fr=Zo[ci.geometry.type];if(fr===void 0)throw new Error(`Invalid geometry type: ${ci.geometry.type}.`);const Ai=new fr(K,ci);K.store.add(Ai,{silent:wt})}else{const fr=K.store.get(ci.id),Ai=fr.properties;fr.properties=ci.properties,Bo(Ai,ci.properties)||K.store.featureChanged(fr.id,{silent:wt}),Bo(fr.getCoordinates(),ci.geometry.coordinates)||fr.incomingCoords(ci.geometry.coordinates)}return ci.id});return K.store.render(),Qn},_e.get=function(Tt){const In=K.store.get(Tt);if(In)return In.toGeoJSON()},_e.getAll=function(){return{type:je.FEATURE_COLLECTION,features:K.store.getAll().map(Tt=>Tt.toGeoJSON())}},_e.delete=function(Tt){return K.store.delete(Tt,{silent:wt}),_e.getMode()===Ee.DIRECT_SELECT&&!K.store.getSelectedIds().length?K.events.changeMode(Ee.SIMPLE_SELECT,void 0,{silent:wt}):K.store.render(),_e},_e.deleteAll=function(){return K.store.delete(K.store.getAllIds(),{silent:wt}),_e.getMode()===Ee.DIRECT_SELECT?K.events.changeMode(Ee.SIMPLE_SELECT,void 0,{silent:wt}):K.store.render(),_e},_e.changeMode=function(Tt,In={}){return Tt===Ee.SIMPLE_SELECT&&_e.getMode()===Ee.SIMPLE_SELECT?(zo(In.featureIds||[],K.store.getSelectedIds())||(K.store.setSelected(In.featureIds,{silent:wt}),K.store.render()),_e):(Tt===Ee.DIRECT_SELECT&&_e.getMode()===Ee.DIRECT_SELECT&&In.featureId===K.store.getSelectedIds()[0]||K.events.changeMode(Tt,In,{silent:wt}),_e)},_e.getMode=function(){return K.events.getMode()},_e.trash=function(){return K.events.trash({silent:wt}),_e},_e.combineFeatures=function(){return K.events.combineFeatures({silent:wt}),_e},_e.uncombineFeatures=function(){return K.events.uncombineFeatures({silent:wt}),_e},_e.setFeatureProperty=function(Tt,In,Qn){return K.store.setFeatureProperty(Tt,In,Qn,{silent:wt}),_e},_e}const po=function(K,_e){K=Xo(K);const wt={options:K};_e=na(wt,_e),wt.api=_e;const Tt=Qr(wt);return _e.onAdd=Tt.onAdd,_e.onRemove=Tt.onRemove,_e.types=te,_e.options=K,_e};function wo(K){po(K,this)}wo.modes=Zi,wo.constants=s,wo.lib=q;var So=wo},69370:function(Hr,jt,F){"use strict";F.d(jt,{Z:function(){return mu}});function s(){this.__data__=[],this.size=0}var tt=s;function q(wn,zr){return wn===zr||wn!==wn&&zr!==zr}var c=q;function xe(wn,zr){for(var oo=wn.length;oo--;)if(c(wn[oo][0],zr))return oo;return-1}var Ge=xe,ze=Array.prototype,Pe=ze.splice;function ye(wn){var zr=this.__data__,oo=Ge(zr,wn);if(oo<0)return!1;var ma=zr.length-1;return oo==ma?zr.pop():Pe.call(zr,oo,1),--this.size,!0}var te=ye;function je(wn){var zr=this.__data__,oo=Ge(zr,wn);return oo<0?void 0:zr[oo][1]}var Ee=je;function He(wn){return Ge(this.__data__,wn)>-1}var Qe=He;function ot(wn,zr){var oo=this.__data__,ma=Ge(oo,wn);return ma<0?(++this.size,oo.push([wn,zr])):oo[ma][1]=zr,this}var qe=ot;function gt(wn){var zr=-1,oo=wn==null?0:wn.length;for(this.clear();++zr<oo;){var ma=wn[zr];this.set(ma[0],ma[1])}}gt.prototype.clear=tt,gt.prototype.delete=te,gt.prototype.get=Ee,gt.prototype.has=Qe,gt.prototype.set=qe;var xt=gt;function Xe(){this.__data__=new xt,this.size=0}var Ut=Xe;function yt(wn){var zr=this.__data__,oo=zr.delete(wn);return this.size=zr.size,oo}var Pt=yt;function Wt(wn){return this.__data__.get(wn)}var kt=Wt;function Sr(wn){return this.__data__.has(wn)}var cr=Sr,Xn=typeof global=="object"&&global&&global.Object===Object&&global,We=Xn,Zt=typeof self=="object"&&self&&self.Object===Object&&self,cn=We||Zt||Function("return this")(),Kt=cn,Fe=Kt.Symbol,Ln=Fe,hn=Object.prototype,On=hn.hasOwnProperty,ut=hn.toString,Yt=Ln?Ln.toStringTag:void 0;function bn(wn){var zr=On.call(wn,Yt),oo=wn[Yt];try{wn[Yt]=void 0;var ma=!0}catch(os){}var el=ut.call(wn);return ma&&(zr?wn[Yt]=oo:delete wn[Yt]),el}var he=bn,Jt=Object.prototype,wi=Jt.toString;function ai(wn){return wi.call(wn)}var $e=ai,An="[object Null]",Ur="[object Undefined]",Kr=Ln?Ln.toStringTag:void 0;function Rn(wn){return wn==null?wn===void 0?Ur:An:Kr&&Kr in Object(wn)?he(wn):$e(wn)}var Wr=Rn;function Ii(wn){var zr=typeof wn;return wn!=null&&(zr=="object"||zr=="function")}var pr=Ii,it="[object AsyncFunction]",Ot="[object Function]",Bn="[object GeneratorFunction]",fn="[object Proxy]";function gn(wn){if(!pr(wn))return!1;var zr=Wr(wn);return zr==Ot||zr==Bn||zr==it||zr==fn}var Er=gn,Vn=Kt["__core-js_shared__"],ri=Vn,fi=function(){var wn=/[^.]+$/.exec(ri&&ri.keys&&ri.keys.IE_PROTO||"");return wn?"Symbol(src)_1."+wn:""}();function qr(wn){return!!fi&&fi in wn}var Jr=qr,wr=Function.prototype,Yn=wr.toString;function yr(wn){if(wn!=null){try{return Yn.call(wn)}catch(zr){}try{return wn+""}catch(zr){}}return""}var Pr=yr,Ir=/[\\^$.*+?()[\]{}|]/g,Xr=/^\[object .+?Constructor\]$/,rr=Function.prototype,gr=Object.prototype,ei=rr.toString,Un=gr.hasOwnProperty,si=RegExp("^"+ei.call(Un).replace(Ir,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Si(wn){if(!pr(wn)||Jr(wn))return!1;var zr=Er(wn)?si:Xr;return zr.test(Pr(wn))}var Yi=Si;function xo(wn,zr){return wn==null?void 0:wn[zr]}var Qr=xo;function co(wn,zr){var oo=Qr(wn,zr);return Yi(oo)?oo:void 0}var tn=co,Tn=tn(Kt,"Map"),ir=Tn,kr=tn(Object,"create"),gi=kr;function li(){this.__data__=gi?gi(null):{},this.size=0}var eo=li;function io(wn){var zr=this.has(wn)&&delete this.__data__[wn];return this.size-=zr?1:0,zr}var Lo=io,Co="__lodash_hash_undefined__",uo=Object.prototype,Re=uo.hasOwnProperty;function de(wn){var zr=this.__data__;if(gi){var oo=zr[wn];return oo===Co?void 0:oo}return Re.call(zr,wn)?zr[wn]:void 0}var Y=de,Ze=Object.prototype,pe=Ze.hasOwnProperty;function et(wn){var zr=this.__data__;return gi?zr[wn]!==void 0:pe.call(zr,wn)}var nt=et,ln="__lodash_hash_undefined__";function At(wn,zr){var oo=this.__data__;return this.size+=this.has(wn)?0:1,oo[wn]=gi&&zr===void 0?ln:zr,this}var sn=At;function vn(wn){var zr=-1,oo=wn==null?0:wn.length;for(this.clear();++zr<oo;){var ma=wn[zr];this.set(ma[0],ma[1])}}vn.prototype.clear=eo,vn.prototype.delete=Lo,vn.prototype.get=Y,vn.prototype.has=nt,vn.prototype.set=sn;var Je=vn;function Rt(){this.size=0,this.__data__={hash:new Je,map:new(ir||xt),string:new Je}}var Xt=Rt;function nn(wn){var zr=typeof wn;return zr=="string"||zr=="number"||zr=="symbol"||zr=="boolean"?wn!=="__proto__":wn===null}var dt=nn;function lt(wn,zr){var oo=wn.__data__;return dt(zr)?oo[typeof zr=="string"?"string":"hash"]:oo.map}var En=lt;function _n(wn){var zr=En(this,wn).delete(wn);return this.size-=zr?1:0,zr}var Wn=_n;function nr(wn){return En(this,wn).get(wn)}var mr=nr;function Nr(wn){return En(this,wn).has(wn)}var ui=Nr;function Zr(wn,zr){var oo=En(this,wn),ma=oo.size;return oo.set(wn,zr),this.size+=oo.size==ma?0:1,this}var qi=Zr;function pt(wn){var zr=-1,oo=wn==null?0:wn.length;for(this.clear();++zr<oo;){var ma=wn[zr];this.set(ma[0],ma[1])}}pt.prototype.clear=Xt,pt.prototype.delete=Wn,pt.prototype.get=mr,pt.prototype.has=ui,pt.prototype.set=qi;var Sn=pt,qt=200;function Nn(wn,zr){var oo=this.__data__;if(oo instanceof xt){var ma=oo.__data__;if(!ir||ma.length<qt-1)return ma.push([wn,zr]),this.size=++oo.size,this;oo=this.__data__=new Sn(ma)}return oo.set(wn,zr),this.size=oo.size,this}var lr=Nn;function di(wn){var zr=this.__data__=new xt(wn);this.size=zr.size}di.prototype.clear=Ut,di.prototype.delete=Pt,di.prototype.get=kt,di.prototype.has=cr,di.prototype.set=lr;var Ti=di,bo="__lodash_hash_undefined__";function Zi(wn){return this.__data__.set(wn,bo),this}var fo=Zi;function yo(wn){return this.__data__.has(wn)}var Gi=yo;function Oo(wn){var zr=-1,oo=wn==null?0:wn.length;for(this.__data__=new Sn;++zr<oo;)this.add(wn[zr])}Oo.prototype.add=Oo.prototype.push=fo,Oo.prototype.has=Gi;var Xo=Oo;function Bo(wn,zr){for(var oo=-1,ma=wn==null?0:wn.length;++oo<ma;)if(zr(wn[oo],oo,wn))return!0;return!1}var Eo=Bo;function zo(wn,zr){return wn.has(zr)}var Zo=zo,na=1,po=2;function wo(wn,zr,oo,ma,el,os){var xl=oo&na,Us=wn.length,tc=zr.length;if(Us!=tc&&!(xl&&tc>Us))return!1;var tl=os.get(wn),Zc=os.get(zr);if(tl&&Zc)return tl==zr&&Zc==wn;var _c=-1,Pl=!0,Jc=oo&po?new Xo:void 0;for(os.set(wn,zr),os.set(zr,wn);++_c<Us;){var bc=wn[_c],zc=zr[_c];if(ma)var Nc=xl?ma(zc,bc,_c,zr,wn,os):ma(bc,zc,_c,wn,zr,os);if(Nc!==void 0){if(Nc)continue;Pl=!1;break}if(Jc){if(!Eo(zr,function(iu,ou){if(!Zo(Jc,ou)&&(bc===iu||el(bc,iu,oo,ma,os)))return Jc.push(ou)})){Pl=!1;break}}else if(!(bc===zc||el(bc,zc,oo,ma,os))){Pl=!1;break}}return os.delete(wn),os.delete(zr),Pl}var So=wo,K=Kt.Uint8Array,_e=K;function wt(wn){var zr=-1,oo=Array(wn.size);return wn.forEach(function(ma,el){oo[++zr]=[el,ma]}),oo}var Tt=wt;function In(wn){var zr=-1,oo=Array(wn.size);return wn.forEach(function(ma){oo[++zr]=ma}),oo}var Qn=In,ci=1,fr=2,Ai="[object Boolean]",to="[object Date]",xr="[object Error]",Vi="[object Map]",Fr="[object Number]",Ei="[object RegExp]",_i="[object Set]",bi="[object String]",Yo="[object Symbol]",jo="[object ArrayBuffer]",an="[object DataView]",Ye=Ln?Ln.prototype:void 0,Ce=Ye?Ye.valueOf:void 0;function Ke(wn,zr,oo,ma,el,os,xl){switch(oo){case an:if(wn.byteLength!=zr.byteLength||wn.byteOffset!=zr.byteOffset)return!1;wn=wn.buffer,zr=zr.buffer;case jo:return!(wn.byteLength!=zr.byteLength||!os(new _e(wn),new _e(zr)));case Ai:case to:case Fr:return c(+wn,+zr);case xr:return wn.name==zr.name&&wn.message==zr.message;case Ei:case bi:return wn==zr+"";case Vi:var Us=Tt;case _i:var tc=ma&ci;if(Us||(Us=Qn),wn.size!=zr.size&&!tc)return!1;var tl=xl.get(wn);if(tl)return tl==zr;ma|=fr,xl.set(wn,zr);var Zc=So(Us(wn),Us(zr),ma,el,os,xl);return xl.delete(wn),Zc;case Yo:if(Ce)return Ce.call(wn)==Ce.call(zr)}return!1}var Be=Ke;function Nt(wn,zr){for(var oo=-1,ma=zr.length,el=wn.length;++oo<ma;)wn[el+oo]=zr[oo];return wn}var dn=Nt,tr=Array.isArray,Rr=tr;function Lr(wn,zr,oo){var ma=zr(wn);return Rr(wn)?ma:dn(ma,oo(wn))}var Mr=Lr;function vi(wn,zr){for(var oo=-1,ma=wn==null?0:wn.length,el=0,os=[];++oo<ma;){var xl=wn[oo];zr(xl,oo,wn)&&(os[el++]=xl)}return os}var zi=vi;function Mo(){return[]}var Oi=Mo,Ni=Object.prototype,hi=Ni.propertyIsEnumerable,Wi=Object.getOwnPropertySymbols,Hi=Wi?function(wn){return wn==null?[]:(wn=Object(wn),zi(Wi(wn),function(zr){return hi.call(wn,zr)}))}:Oi,Po=Hi;function aa(wn,zr){for(var oo=-1,ma=Array(wn);++oo<wn;)ma[oo]=zr(oo);return ma}var ha=aa;function Ta(wn){return wn!=null&&typeof wn=="object"}var Ma=Ta,Sa="[object Arguments]";function ba(wn){return Ma(wn)&&Wr(wn)==Sa}var ja=ba,wa=Object.prototype,Ps=wa.hasOwnProperty,Ts=wa.propertyIsEnumerable,_s=ja(function(){return arguments}())?ja:function(wn){return Ma(wn)&&Ps.call(wn,"callee")&&!Ts.call(wn,"callee")},il=_s;function ol(){return!1}var Al=ol,Vs=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Dl=Vs&&typeof module=="object"&&module&&!module.nodeType&&module,mc=Dl&&Dl.exports===Vs,pa=mc?Kt.Buffer:void 0,Ha=pa?pa.isBuffer:void 0,ca=Ha||Al,Go=ca,hs=9007199254740991,zs=/^(?:0|[1-9]\d*)$/;function ic(wn,zr){var oo=typeof wn;return zr=zr==null?hs:zr,!!zr&&(oo=="number"||oo!="symbol"&&zs.test(wn))&&wn>-1&&wn%1==0&&wn<zr}var gc=ic,jc=9007199254740991;function _l(wn){return typeof wn=="number"&&wn>-1&&wn%1==0&&wn<=jc}var Yl=_l,sa="[object Arguments]",Fo="[object Array]",hu="[object Boolean]",Qo="[object Date]",oc="[object Error]",nu="[object Function]",ia="[object Map]",Ec="[object Number]",vc="[object Object]",ru="[object RegExp]",ku="[object Set]",ac="[object String]",gl="[object WeakMap]",Bi="[object ArrayBuffer]",ju="[object DataView]",ld="[object Float32Array]",Yc="[object Float64Array]",on="[object Int8Array]",$n="[object Int16Array]",Kn="[object Int32Array]",hr="[object Uint8Array]",Yr="[object Uint8ClampedArray]",Ki="[object Uint16Array]",mo="[object Uint32Array]",Ji={};Ji[ld]=Ji[Yc]=Ji[on]=Ji[$n]=Ji[Kn]=Ji[hr]=Ji[Yr]=Ji[Ki]=Ji[mo]=!0,Ji[sa]=Ji[Fo]=Ji[Bi]=Ji[hu]=Ji[ju]=Ji[Qo]=Ji[oc]=Ji[nu]=Ji[ia]=Ji[Ec]=Ji[vc]=Ji[ru]=Ji[ku]=Ji[ac]=Ji[gl]=!1;function Io(wn){return Ma(wn)&&Yl(wn.length)&&!!Ji[Wr(wn)]}var lo=Io;function no(wn){return function(zr){return wn(zr)}}var Uo=no,No=typeof exports=="object"&&exports&&!exports.nodeType&&exports,ea=No&&typeof module=="object"&&module&&!module.nodeType&&module,Ua=ea&&ea.exports===No,ua=Ua&&We.process,Oa=function(){try{var wn=ea&&ea.require&&ea.require("util").types;return wn||ua&&ua.binding&&ua.binding("util")}catch(zr){}}(),es=Oa,Ra=es&&es.isTypedArray,qa=Ra?Uo(Ra):lo,Xa=qa,is=Object.prototype,ns=is.hasOwnProperty;function Wa(wn,zr){var oo=Rr(wn),ma=!oo&&il(wn),el=!oo&&!ma&&Go(wn),os=!oo&&!ma&&!el&&Xa(wn),xl=oo||ma||el||os,Us=xl?ha(wn.length,String):[],tc=Us.length;for(var tl in wn)(zr||ns.call(wn,tl))&&!(xl&&(tl=="length"||el&&(tl=="offset"||tl=="parent")||os&&(tl=="buffer"||tl=="byteLength"||tl=="byteOffset")||gc(tl,tc)))&&Us.push(tl);return Us}var Os=Wa,sc=Object.prototype;function bl(wn){var zr=wn&&wn.constructor,oo=typeof zr=="function"&&zr.prototype||sc;return wn===oo}var lc=bl;function Zu(wn,zr){return function(oo){return wn(zr(oo))}}var ql=Zu,Ml=ql(Object.keys,Object),Zl=Ml,yc=Object.prototype,Jl=yc.hasOwnProperty;function Ll(wn){if(!lc(wn))return Zl(wn);var zr=[];for(var oo in Object(wn))Jl.call(wn,oo)&&oo!="constructor"&&zr.push(oo);return zr}var Vl=Ll;function Ql(wn){return wn!=null&&Yl(wn.length)&&!Er(wn)}var qc=Ql;function Hl(wn){return qc(wn)?Os(wn):Vl(wn)}var cc=Hl;function ec(wn){return Mr(wn,cc,Po)}var Ya=ec,sm=1,pu=Object.prototype,Jh=pu.hasOwnProperty;function Pd(wn,zr,oo,ma,el,os){var xl=oo&sm,Us=Ya(wn),tc=Us.length,tl=Ya(zr),Zc=tl.length;if(tc!=Zc&&!xl)return!1;for(var _c=tc;_c--;){var Pl=Us[_c];if(!(xl?Pl in zr:Jh.call(zr,Pl)))return!1}var Jc=os.get(wn),bc=os.get(zr);if(Jc&&bc)return Jc==zr&&bc==wn;var zc=!0;os.set(wn,zr),os.set(zr,wn);for(var Nc=xl;++_c<tc;){Pl=Us[_c];var iu=wn[Pl],ou=zr[Pl];if(ma)var lf=xl?ma(ou,iu,Pl,zr,wn,os):ma(iu,ou,Pl,wn,zr,os);if(!(lf===void 0?iu===ou||el(iu,ou,oo,ma,os):lf)){zc=!1;break}Nc||(Nc=Pl=="constructor")}if(zc&&!Nc){var dd=wn.constructor,Uu=zr.constructor;dd!=Uu&&"constructor"in wn&&"constructor"in zr&&!(typeof dd=="function"&&dd instanceof dd&&typeof Uu=="function"&&Uu instanceof Uu)&&(zc=!1)}return os.delete(wn),os.delete(zr),zc}var cd=Pd,Hs=tn(Kt,"DataView"),Vu=Hs,Xf=tn(Kt,"Promise"),Od=Xf,of=tn(Kt,"Set"),af=of,sf=tn(Kt,"WeakMap"),Rd=sf,ud="[object Map]",$d="[object Object]",Yf="[object Promise]",Ul="[object Set]",qf="[object WeakMap]",Ad="[object DataView]",Jf=Pr(Vu),Qf=Pr(ir),eh=Pr(Od),th=Pr(af),nh=Pr(Rd),Tu=Wr;(Vu&&Tu(new Vu(new ArrayBuffer(1)))!=Ad||ir&&Tu(new ir)!=ud||Od&&Tu(Od.resolve())!=Yf||af&&Tu(new af)!=Ul||Rd&&Tu(new Rd)!=qf)&&(Tu=function(wn){var zr=Wr(wn),oo=zr==$d?wn.constructor:void 0,ma=oo?Pr(oo):"";if(ma)switch(ma){case Jf:return Ad;case Qf:return ud;case eh:return Yf;case th:return Ul;case nh:return qf}return zr});var Dd=Tu,lm=1,rh="[object Arguments]",Hu="[object Array]",ih="[object Object]",cm=Object.prototype,um=cm.hasOwnProperty;function dm(wn,zr,oo,ma,el,os){var xl=Rr(wn),Us=Rr(zr),tc=xl?Hu:Dd(wn),tl=Us?Hu:Dd(zr);tc=tc==rh?ih:tc,tl=tl==rh?ih:tl;var Zc=tc==ih,_c=tl==ih,Pl=tc==tl;if(Pl&&Go(wn)){if(!Go(zr))return!1;xl=!0,Zc=!1}if(Pl&&!Zc)return os||(os=new Ti),xl||Xa(wn)?So(wn,zr,oo,ma,el,os):Be(wn,zr,tc,oo,ma,el,os);if(!(oo&lm)){var Jc=Zc&&um.call(wn,"__wrapped__"),bc=_c&&um.call(zr,"__wrapped__");if(Jc||bc){var zc=Jc?wn.value():wn,Nc=bc?zr.value():zr;return os||(os=new Ti),el(zc,Nc,oo,ma,os)}}return Pl?(os||(os=new Ti),cd(wn,zr,oo,ma,el,os)):!1}var oh=dm;function Qh(wn,zr,oo,ma,el){return wn===zr?!0:wn==null||zr==null||!Ma(wn)&&!Ma(zr)?wn!==wn&&zr!==zr:oh(wn,zr,oo,ma,Qh,el)}var ah=Qh;function sh(wn,zr){return ah(wn,zr)}var mu=sh},56680:function(Hr,jt,F){"use strict";F.d(jt,{Z:function(){return Pe}});const s=ye=>typeof ye=="object"&&ye!=null&&ye.nodeType===1,tt=(ye,te)=>(!te||ye!=="hidden")&&ye!=="visible"&&ye!=="clip",q=(ye,te)=>{if(ye.clientHeight<ye.scrollHeight||ye.clientWidth<ye.scrollWidth){const je=getComputedStyle(ye,null);return tt(je.overflowY,te)||tt(je.overflowX,te)||(Ee=>{const He=(Qe=>{if(!Qe.ownerDocument||!Qe.ownerDocument.defaultView)return null;try{return Qe.ownerDocument.defaultView.frameElement}catch(ot){return null}})(Ee);return!!He&&(He.clientHeight<Ee.scrollHeight||He.clientWidth<Ee.scrollWidth)})(ye)}return!1},c=(ye,te,je,Ee,He,Qe,ot,qe)=>Qe<ye&&ot>te||Qe>ye&&ot<te?0:Qe<=ye&&qe<=je||ot>=te&&qe>=je?Qe-ye-Ee:ot>te&&qe<je||Qe<ye&&qe>je?ot-te+He:0,xe=ye=>{const te=ye.parentElement;return te==null?ye.getRootNode().host||null:te},Ge=(ye,te)=>{var je,Ee,He,Qe;if(typeof document=="undefined")return[];const{scrollMode:ot,block:qe,inline:gt,boundary:xt,skipOverflowHiddenElements:Xe}=te,Ut=typeof xt=="function"?xt:wi=>wi!==xt;if(!s(ye))throw new TypeError("Invalid target");const yt=document.scrollingElement||document.documentElement,Pt=[];let Wt=ye;for(;s(Wt)&&Ut(Wt);){if(Wt=xe(Wt),Wt===yt){Pt.push(Wt);break}Wt!=null&&Wt===document.body&&q(Wt)&&!q(document.documentElement)||Wt!=null&&q(Wt,Xe)&&Pt.push(Wt)}const kt=(Ee=(je=window.visualViewport)==null?void 0:je.width)!=null?Ee:innerWidth,Sr=(Qe=(He=window.visualViewport)==null?void 0:He.height)!=null?Qe:innerHeight,{scrollX:cr,scrollY:Xn}=window,{height:We,width:Zt,top:cn,right:Kt,bottom:Fe,left:Ln}=ye.getBoundingClientRect(),{top:hn,right:On,bottom:ut,left:Yt}=(wi=>{const ai=window.getComputedStyle(wi);return{top:parseFloat(ai.scrollMarginTop)||0,right:parseFloat(ai.scrollMarginRight)||0,bottom:parseFloat(ai.scrollMarginBottom)||0,left:parseFloat(ai.scrollMarginLeft)||0}})(ye);let bn=qe==="start"||qe==="nearest"?cn-hn:qe==="end"?Fe+ut:cn+We/2-hn+ut,he=gt==="center"?Ln+Zt/2-Yt+On:gt==="end"?Kt+On:Ln-Yt;const Jt=[];for(let wi=0;wi<Pt.length;wi++){const ai=Pt[wi],{height:$e,width:An,top:Ur,right:Kr,bottom:Rn,left:Wr}=ai.getBoundingClientRect();if(ot==="if-needed"&&cn>=0&&Ln>=0&&Fe<=Sr&&Kt<=kt&&(ai===yt&&!q(ai)||cn>=Ur&&Fe<=Rn&&Ln>=Wr&&Kt<=Kr))return Jt;const Ii=getComputedStyle(ai),pr=parseInt(Ii.borderLeftWidth,10),it=parseInt(Ii.borderTopWidth,10),Ot=parseInt(Ii.borderRightWidth,10),Bn=parseInt(Ii.borderBottomWidth,10);let fn=0,gn=0;const Er="offsetWidth"in ai?ai.offsetWidth-ai.clientWidth-pr-Ot:0,Vn="offsetHeight"in ai?ai.offsetHeight-ai.clientHeight-it-Bn:0,ri="offsetWidth"in ai?ai.offsetWidth===0?0:An/ai.offsetWidth:0,fi="offsetHeight"in ai?ai.offsetHeight===0?0:$e/ai.offsetHeight:0;if(yt===ai)fn=qe==="start"?bn:qe==="end"?bn-Sr:qe==="nearest"?c(Xn,Xn+Sr,Sr,it,Bn,Xn+bn,Xn+bn+We,We):bn-Sr/2,gn=gt==="start"?he:gt==="center"?he-kt/2:gt==="end"?he-kt:c(cr,cr+kt,kt,pr,Ot,cr+he,cr+he+Zt,Zt),fn=Math.max(0,fn+Xn),gn=Math.max(0,gn+cr);else{fn=qe==="start"?bn-Ur-it:qe==="end"?bn-Rn+Bn+Vn:qe==="nearest"?c(Ur,Rn,$e,it,Bn+Vn,bn,bn+We,We):bn-(Ur+$e/2)+Vn/2,gn=gt==="start"?he-Wr-pr:gt==="center"?he-(Wr+An/2)+Er/2:gt==="end"?he-Kr+Ot+Er:c(Wr,Kr,An,pr,Ot+Er,he,he+Zt,Zt);const{scrollLeft:qr,scrollTop:Jr}=ai;fn=fi===0?0:Math.max(0,Math.min(Jr+fn/fi,ai.scrollHeight-$e/fi+Vn)),gn=ri===0?0:Math.max(0,Math.min(qr+gn/ri,ai.scrollWidth-An/ri+Er)),bn+=Jr-fn,he+=qr-gn}Jt.push({el:ai,top:fn,left:gn})}return Jt},ze=ye=>ye===!1?{block:"end",inline:"nearest"}:(te=>te===Object(te)&&Object.keys(te).length!==0)(ye)?ye:{block:"start",inline:"nearest"};function Pe(ye,te){if(!ye.isConnected||!(He=>{let Qe=He;for(;Qe&&Qe.parentNode;){if(Qe.parentNode===document)return!0;Qe=Qe.parentNode instanceof ShadowRoot?Qe.parentNode.host:Qe.parentNode}return!1})(ye))return;const je=(He=>{const Qe=window.getComputedStyle(He);return{top:parseFloat(Qe.scrollMarginTop)||0,right:parseFloat(Qe.scrollMarginRight)||0,bottom:parseFloat(Qe.scrollMarginBottom)||0,left:parseFloat(Qe.scrollMarginLeft)||0}})(ye);if((He=>typeof He=="object"&&typeof He.behavior=="function")(te))return te.behavior(Ge(ye,te));const Ee=typeof te=="boolean"||te==null?void 0:te.behavior;for(const{el:He,top:Qe,left:ot}of Ge(ye,ze(te))){const qe=Qe-je.top+je.bottom,gt=ot-je.left+je.right;He.scroll({top:qe,left:gt,behavior:Ee})}}}}]);
}());