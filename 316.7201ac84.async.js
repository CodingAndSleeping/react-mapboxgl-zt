!(function(){var ZT=Object.getOwnPropertySymbols;var lF=Object.prototype.hasOwnProperty,cF=Object.prototype.propertyIsEnumerable;var V_=Math.pow;var i2=(Ir,Ft)=>{var B={};for(var a in Ir)lF.call(Ir,a)&&Ft.indexOf(a)<0&&(B[a]=Ir[a]);if(Ir!=null&&ZT)for(var a of ZT(Ir))Ft.indexOf(a)<0&&cF.call(Ir,a)&&(B[a]=Ir[a]);return B};(self.webpackChunkreact_mapboxgl_zt=self.webpackChunkreact_mapboxgl_zt||[]).push([[316],{68640:function(Ir,Ft,B){"use strict";B.d(Ft,{iN:function(){return Ut},R_:function(){return Ue},EV:function(){return bt},Ti:function(){return Ht},ez:function(){return tt}});var a=B(84432),Qe=2,q=.16,c=.05,be=.05,We=.15,De=5,Te=4,ye=[{index:7,amount:15},{index:6,amount:25},{index:5,amount:30},{index:5,amount:45},{index:5,amount:65},{index:5,amount:85},{index:4,amount:90},{index:3,amount:95},{index:2,amount:97},{index:1,amount:98}];function te(An,Ur,Jr){var On;return Math.round(An.h)>=60&&Math.round(An.h)<=240?On=Jr?Math.round(An.h)-Qe*Ur:Math.round(An.h)+Qe*Ur:On=Jr?Math.round(An.h)+Qe*Ur:Math.round(An.h)-Qe*Ur,On<0?On+=360:On>=360&&(On-=360),On}function Ve(An,Ur,Jr){if(An.h===0&&An.s===0)return An.s;var On;return Jr?On=An.s-q*Ur:Ur===Te?On=An.s+q:On=An.s+c*Ur,On>1&&(On=1),Jr&&Ur===De&&On>.1&&(On=.1),On<.06&&(On=.06),Math.round(On*100)/100}function Ie(An,Ur,Jr){var On;return Jr?On=An.v+be*Ur:On=An.v-We*Ur,On=Math.max(0,Math.min(1,On)),Math.round(On*100)/100}function Ue(An){for(var Ur=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Jr=[],On=new a.t(An),Kr=On.toHsv(),Ti=De;Ti>0;Ti-=1){var fr=new a.t({h:te(Kr,Ti,!0),s:Ve(Kr,Ti,!0),v:Ie(Kr,Ti,!0)});Jr.push(fr)}Jr.push(On);for(var it=1;it<=Te;it+=1){var Ot=new a.t({h:te(Kr,it),s:Ve(Kr,it),v:Ie(Kr,it)});Jr.push(Ot)}return Ur.theme==="dark"?ye.map(function(Dn){var pn=Dn.index,gn=Dn.amount;return new a.t(Ur.backgroundColor||"#141414").mix(Jr[pn],gn).toHexString()}):Jr.map(function(Dn){return Dn.toHexString()})}var tt={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1677FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},ot=["#fff1f0","#ffccc7","#ffa39e","#ff7875","#ff4d4f","#f5222d","#cf1322","#a8071a","#820014","#5c0011"];ot.primary=ot[5];var Je=["#fff2e8","#ffd8bf","#ffbb96","#ff9c6e","#ff7a45","#fa541c","#d4380d","#ad2102","#871400","#610b00"];Je.primary=Je[5];var ct=["#fff7e6","#ffe7ba","#ffd591","#ffc069","#ffa940","#fa8c16","#d46b08","#ad4e00","#873800","#612500"];ct.primary=ct[5];var bt=["#fffbe6","#fff1b8","#ffe58f","#ffd666","#ffc53d","#faad14","#d48806","#ad6800","#874d00","#613400"];bt.primary=bt[5];var Xe=["#feffe6","#ffffb8","#fffb8f","#fff566","#ffec3d","#fadb14","#d4b106","#ad8b00","#876800","#614700"];Xe.primary=Xe[5];var jt=["#fcffe6","#f4ffb8","#eaff8f","#d3f261","#bae637","#a0d911","#7cb305","#5b8c00","#3f6600","#254000"];jt.primary=jt[5];var vt=["#f6ffed","#d9f7be","#b7eb8f","#95de64","#73d13d","#52c41a","#389e0d","#237804","#135200","#092b00"];vt.primary=vt[5];var Mt=["#e6fffb","#b5f5ec","#87e8de","#5cdbd3","#36cfc9","#13c2c2","#08979c","#006d75","#00474f","#002329"];Mt.primary=Mt[5];var Ut=["#e6f4ff","#bae0ff","#91caff","#69b1ff","#4096ff","#1677ff","#0958d9","#003eb3","#002c8c","#001d66"];Ut.primary=Ut[5];var Vt=["#f0f5ff","#d6e4ff","#adc6ff","#85a5ff","#597ef7","#2f54eb","#1d39c4","#10239e","#061178","#030852"];Vt.primary=Vt[5];var yr=["#f9f0ff","#efdbff","#d3adf7","#b37feb","#9254de","#722ed1","#531dab","#391085","#22075e","#120338"];yr.primary=yr[5];var lr=["#fff0f6","#ffd6e7","#ffadd2","#ff85c0","#f759ab","#eb2f96","#c41d7f","#9e1068","#780650","#520339"];lr.primary=lr[5];var Xn=["#a6a6a6","#999999","#8c8c8c","#808080","#737373","#666666","#404040","#1a1a1a","#000000","#000000"];Xn.primary=Xn[5];var Ge=null,Ht={red:ot,volcano:Je,orange:ct,gold:bt,yellow:Xe,lime:jt,green:vt,cyan:Mt,blue:Ut,geekblue:Vt,purple:yr,magenta:lr,grey:Xn},un=["#2a1215","#431418","#58181c","#791a1f","#a61d24","#d32029","#e84749","#f37370","#f89f9a","#fac8c3"];un.primary=un[5];var Xt=["#2b1611","#441d12","#592716","#7c3118","#aa3e19","#d84a1b","#e87040","#f3956a","#f8b692","#fad4bc"];Xt.primary=Xt[5];var ke=["#2b1d11","#442a11","#593815","#7c4a15","#aa6215","#d87a16","#e89a3c","#f3b765","#f8cf8d","#fae3b7"];ke.primary=ke[5];var zn=["#2b2111","#443111","#594214","#7c5914","#aa7714","#d89614","#e8b339","#f3cc62","#f8df8b","#faedb5"];zn.primary=zn[5];var mn=["#2b2611","#443b11","#595014","#7c6e14","#aa9514","#d8bd14","#e8d639","#f3ea62","#f8f48b","#fafab5"];mn.primary=mn[5];var Rn=["#1f2611","#2e3c10","#3e4f13","#536d13","#6f9412","#8bbb11","#a9d134","#c9e75d","#e4f88b","#f0fab5"];Rn.primary=Rn[5];var ut=["#162312","#1d3712","#274916","#306317","#3c8618","#49aa19","#6abe39","#8fd460","#b2e58b","#d5f2bb"];ut.primary=ut[5];var Jt=["#112123","#113536","#144848","#146262","#138585","#13a8a8","#33bcb7","#58d1c9","#84e2d8","#b2f1e8"];Jt.primary=Jt[5];var Cn=["#111a2c","#112545","#15325b","#15417e","#1554ad","#1668dc","#3c89e8","#65a9f3","#8dc5f8","#b7dcfa"];Cn.primary=Cn[5];var he=["#131629","#161d40","#1c2755","#203175","#263ea0","#2b4acb","#5273e0","#7f9ef3","#a8c1f8","#d2e0fa"];he.primary=he[5];var Qt=["#1a1325","#24163a","#301c4d","#3e2069","#51258f","#642ab5","#854eca","#ab7ae0","#cda8f0","#ebd7fa"];Qt.primary=Qt[5];var xi=["#291321","#40162f","#551c3b","#75204f","#a02669","#cb2b83","#e0529c","#f37fb7","#f8a8cc","#fad2e3"];xi.primary=xi[5];var ui=["#151515","#1f1f1f","#2d2d2d","#393939","#494949","#5a5a5a","#6a6a6a","#7b7b7b","#888888","#969696"];ui.primary=ui[5];var Ae={red:un,volcano:Xt,orange:ke,gold:zn,yellow:mn,lime:Rn,green:ut,cyan:Jt,blue:Cn,geekblue:he,purple:Qt,magenta:xi,grey:ui}},83509:function(Ir,Ft,B){"use strict";B.d(Ft,{rb:function(){return On},IX:function(){return Ht}});var a=B(5147),Qe=B(89692),q=B(38926),c=B(54153),be=B(75271),We=B(55921),De=B(59295),Te=B(45985),ye=B(63662),te=B(76525),Ve=B(56216),Ie=(0,Te.Z)(function Kr(){(0,De.Z)(this,Kr)}),Ue=Ie,tt="CALC_UNIT",ot=new RegExp(tt,"g");function Je(Kr){return typeof Kr=="number"?"".concat(Kr).concat(tt):Kr}var ct=function(Kr){(0,te.Z)(fr,Kr);var Ti=(0,Ve.Z)(fr);function fr(it,Ot){var Dn;(0,De.Z)(this,fr),Dn=Ti.call(this),(0,q.Z)((0,ye.Z)(Dn),"result",""),(0,q.Z)((0,ye.Z)(Dn),"unitlessCssVar",void 0),(0,q.Z)((0,ye.Z)(Dn),"lowPriority",void 0);var pn=(0,a.Z)(it);return Dn.unitlessCssVar=Ot,it instanceof fr?Dn.result="(".concat(it.result,")"):pn==="number"?Dn.result=Je(it):pn==="string"&&(Dn.result=it),Dn}return(0,Te.Z)(fr,[{key:"add",value:function(Ot){return Ot instanceof fr?this.result="".concat(this.result," + ").concat(Ot.getResult()):(typeof Ot=="number"||typeof Ot=="string")&&(this.result="".concat(this.result," + ").concat(Je(Ot))),this.lowPriority=!0,this}},{key:"sub",value:function(Ot){return Ot instanceof fr?this.result="".concat(this.result," - ").concat(Ot.getResult()):(typeof Ot=="number"||typeof Ot=="string")&&(this.result="".concat(this.result," - ").concat(Je(Ot))),this.lowPriority=!0,this}},{key:"mul",value:function(Ot){return this.lowPriority&&(this.result="(".concat(this.result,")")),Ot instanceof fr?this.result="".concat(this.result," * ").concat(Ot.getResult(!0)):(typeof Ot=="number"||typeof Ot=="string")&&(this.result="".concat(this.result," * ").concat(Ot)),this.lowPriority=!1,this}},{key:"div",value:function(Ot){return this.lowPriority&&(this.result="(".concat(this.result,")")),Ot instanceof fr?this.result="".concat(this.result," / ").concat(Ot.getResult(!0)):(typeof Ot=="number"||typeof Ot=="string")&&(this.result="".concat(this.result," / ").concat(Ot)),this.lowPriority=!1,this}},{key:"getResult",value:function(Ot){return this.lowPriority||Ot?"(".concat(this.result,")"):this.result}},{key:"equal",value:function(Ot){var Dn=this,pn=Ot||{},gn=pn.unit,wr=!0;return typeof gn=="boolean"?wr=gn:Array.from(this.unitlessCssVar).some(function(Hn){return Dn.result.includes(Hn)})&&(wr=!1),this.result=this.result.replace(ot,wr?"px":""),typeof this.lowPriority!="undefined"?"calc(".concat(this.result,")"):this.result}}]),fr}(Ue),bt=function(Kr){(0,te.Z)(fr,Kr);var Ti=(0,Ve.Z)(fr);function fr(it){var Ot;return(0,De.Z)(this,fr),Ot=Ti.call(this),(0,q.Z)((0,ye.Z)(Ot),"result",0),it instanceof fr?Ot.result=it.result:typeof it=="number"&&(Ot.result=it),Ot}return(0,Te.Z)(fr,[{key:"add",value:function(Ot){return Ot instanceof fr?this.result+=Ot.result:typeof Ot=="number"&&(this.result+=Ot),this}},{key:"sub",value:function(Ot){return Ot instanceof fr?this.result-=Ot.result:typeof Ot=="number"&&(this.result-=Ot),this}},{key:"mul",value:function(Ot){return Ot instanceof fr?this.result*=Ot.result:typeof Ot=="number"&&(this.result*=Ot),this}},{key:"div",value:function(Ot){return Ot instanceof fr?this.result/=Ot.result:typeof Ot=="number"&&(this.result/=Ot),this}},{key:"equal",value:function(){return this.result}}]),fr}(Ue),Xe=bt,jt=function(Ti,fr){var it=Ti==="css"?ct:Xe;return function(Ot){return new it(Ot,fr)}},vt=jt,Mt=function(Ti,fr){return"".concat([fr,Ti.replace(/([A-Z]+)([A-Z][a-z]+)/g,"$1-$2").replace(/([a-z])([A-Z])/g,"$1-$2")].filter(Boolean).join("-"))},Ut=Mt,Vt=B(22217);function yr(Kr,Ti,fr,it){var Ot=(0,c.Z)({},Ti[Kr]);if(it!=null&&it.deprecatedTokens){var Dn=it.deprecatedTokens;Dn.forEach(function(gn){var wr=(0,Qe.Z)(gn,2),Hn=wr[0],oi=wr[1];if(Ot!=null&&Ot[Hn]||Ot!=null&&Ot[oi]){var pi;(pi=Ot[oi])!==null&&pi!==void 0||(Ot[oi]=Ot==null?void 0:Ot[Hn])}})}var pn=(0,c.Z)((0,c.Z)({},fr),Ot);return Object.keys(pn).forEach(function(gn){pn[gn]===Ti[gn]&&delete pn[gn]}),pn}var lr=yr,Xn=typeof CSSINJS_STATISTIC!="undefined",Ge=!0;function Ht(){for(var Kr=arguments.length,Ti=new Array(Kr),fr=0;fr<Kr;fr++)Ti[fr]=arguments[fr];if(!Xn)return Object.assign.apply(Object,[{}].concat(Ti));Ge=!1;var it={};return Ti.forEach(function(Ot){if((0,a.Z)(Ot)==="object"){var Dn=Object.keys(Ot);Dn.forEach(function(pn){Object.defineProperty(it,pn,{configurable:!0,enumerable:!0,get:function(){return Ot[pn]}})})}}),Ge=!0,it}var un={},Xt={};function ke(){}var zn=function(Ti){var fr,it=Ti,Ot=ke;return Xn&&typeof Proxy!="undefined"&&(fr=new Set,it=new Proxy(Ti,{get:function(pn,gn){if(Ge){var wr;(wr=fr)===null||wr===void 0||wr.add(gn)}return pn[gn]}}),Ot=function(pn,gn){var wr;un[pn]={global:Array.from(fr),component:(0,c.Z)((0,c.Z)({},(wr=un[pn])===null||wr===void 0?void 0:wr.component),gn)}}),{token:it,keys:fr,flush:Ot}},mn=zn;function Rn(Kr,Ti,fr){if(typeof fr=="function"){var it;return fr(Ht(Ti,(it=Ti[Kr])!==null&&it!==void 0?it:{}))}return fr!=null?fr:{}}var ut=Rn;function Jt(Kr){return Kr==="js"?{max:Math.max,min:Math.min}:{max:function(){for(var fr=arguments.length,it=new Array(fr),Ot=0;Ot<fr;Ot++)it[Ot]=arguments[Ot];return"max(".concat(it.map(function(Dn){return(0,We.bf)(Dn)}).join(","),")")},min:function(){for(var fr=arguments.length,it=new Array(fr),Ot=0;Ot<fr;Ot++)it[Ot]=arguments[Ot];return"min(".concat(it.map(function(Dn){return(0,We.bf)(Dn)}).join(","),")")}}}var Cn=Jt,he=1e3*60*10,Qt=function(){function Kr(){(0,De.Z)(this,Kr),(0,q.Z)(this,"map",new Map),(0,q.Z)(this,"objectIDMap",new WeakMap),(0,q.Z)(this,"nextID",0),(0,q.Z)(this,"lastAccessBeat",new Map),(0,q.Z)(this,"accessBeat",0)}return(0,Te.Z)(Kr,[{key:"set",value:function(fr,it){this.clear();var Ot=this.getCompositeKey(fr);this.map.set(Ot,it),this.lastAccessBeat.set(Ot,Date.now())}},{key:"get",value:function(fr){var it=this.getCompositeKey(fr),Ot=this.map.get(it);return this.lastAccessBeat.set(it,Date.now()),this.accessBeat+=1,Ot}},{key:"getCompositeKey",value:function(fr){var it=this,Ot=fr.map(function(Dn){return Dn&&(0,a.Z)(Dn)==="object"?"obj_".concat(it.getObjectID(Dn)):"".concat((0,a.Z)(Dn),"_").concat(Dn)});return Ot.join("|")}},{key:"getObjectID",value:function(fr){if(this.objectIDMap.has(fr))return this.objectIDMap.get(fr);var it=this.nextID;return this.objectIDMap.set(fr,it),this.nextID+=1,it}},{key:"clear",value:function(){var fr=this;if(this.accessBeat>1e4){var it=Date.now();this.lastAccessBeat.forEach(function(Ot,Dn){it-Ot>he&&(fr.map.delete(Dn),fr.lastAccessBeat.delete(Dn))}),this.accessBeat=0}}}]),Kr}(),xi=new Qt;function ui(Kr,Ti){return be.useMemo(function(){var fr=xi.get(Ti);if(fr)return fr;var it=Kr();return xi.set(Ti,it),it},Ti)}var Ae=ui,An=function(){return{}},Ur=An;function Jr(Kr){var Ti=Kr.useCSP,fr=Ti===void 0?Ur:Ti,it=Kr.useToken,Ot=Kr.usePrefix,Dn=Kr.getResetStyles,pn=Kr.getCommonStyle,gn=Kr.getCompUnitless;function wr(ri,ni,Cr,qn){var _r=Array.isArray(ri)?ri[0]:ri;function Pr(di){return"".concat(String(_r)).concat(di.slice(0,1).toUpperCase()).concat(di.slice(1))}var Tr=(qn==null?void 0:qn.unitless)||{},ei=typeof gn=="function"?gn(ri):{},ar=(0,c.Z)((0,c.Z)({},ei),{},(0,q.Z)({},Pr("zIndexPopup"),!0));Object.keys(Tr).forEach(function(di){ar[Pr(di)]=Tr[di]});var mr=(0,c.Z)((0,c.Z)({},qn),{},{unitless:ar,prefixToken:Pr}),ii=oi(ri,ni,Cr,mr),Wn=Hn(_r,Cr,mr);return function(di){var Ci=arguments.length>1&&arguments[1]!==void 0?arguments[1]:di,eo=ii(di,Ci),Io=(0,Qe.Z)(eo,2),ci=Io[1],oo=Wn(Ci),nn=(0,Qe.Z)(oo,2),Mn=nn[0],Ee=nn[1];return[Mn,ci,Ee]}}function Hn(ri,ni,Cr){var qn=Cr.unitless,_r=Cr.injectStyle,Pr=_r===void 0?!0:_r,Tr=Cr.prefixToken,ei=Cr.ignore,ar=function(Wn){var di=Wn.rootCls,Ci=Wn.cssVar,eo=Ci===void 0?{}:Ci,Io=it(),ci=Io.realToken;return(0,We.CI)({path:[ri],prefix:eo.prefix,key:eo.key,unitless:qn,ignore:ei,token:ci,scope:di},function(){var oo=ut(ri,ci,ni),nn=lr(ri,ci,oo,{deprecatedTokens:Cr==null?void 0:Cr.deprecatedTokens});return Object.keys(oo).forEach(function(Mn){nn[Tr(Mn)]=nn[Mn],delete nn[Mn]}),nn}),null},mr=function(Wn){var di=it(),Ci=di.cssVar;return[function(eo){return Pr&&Ci?be.createElement(be.Fragment,null,be.createElement(ar,{rootCls:Wn,cssVar:Ci,component:ri}),eo):eo},Ci==null?void 0:Ci.key]};return mr}function oi(ri,ni,Cr){var qn=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},_r=Array.isArray(ri)?ri:[ri,ri],Pr=(0,Qe.Z)(_r,1),Tr=Pr[0],ei=_r.join("-"),ar=Kr.layer||{name:"antd"};return function(mr){var ii=arguments.length>1&&arguments[1]!==void 0?arguments[1]:mr,Wn=it(),di=Wn.theme,Ci=Wn.realToken,eo=Wn.hashId,Io=Wn.token,ci=Wn.cssVar,oo=Ot(),nn=oo.rootPrefixCls,Mn=oo.iconPrefixCls,Ee=fr(),dn=ci?"css":"js",br=Ae(function(){var Di=new Set;return ci&&Object.keys(qn.unitless||{}).forEach(function(Re){Di.add((0,We.ks)(Re,ci.prefix)),Di.add((0,We.ks)(Re,Ut(Tr,ci.prefix)))}),vt(dn,Di)},[dn,Tr,ci==null?void 0:ci.prefix]),rr=Cn(dn),Yr=rr.max,Mi=rr.min,Wi={theme:di,token:Io,hashId:eo,nonce:function(){return Ee.nonce},clientOnly:qn.clientOnly,layer:ar,order:qn.order||-999};typeof Dn=="function"&&(0,We.xy)((0,c.Z)((0,c.Z)({},Wi),{},{clientOnly:!1,path:["Shared",nn]}),function(){return Dn(Io,{prefix:{rootPrefixCls:nn,iconPrefixCls:Mn},csp:Ee})});var Bi=(0,We.xy)((0,c.Z)((0,c.Z)({},Wi),{},{path:[ei,mr,Mn]}),function(){if(qn.injectStyle===!1)return[];var Di=mn(Io),Re=Di.token,de=Di.flush,Y=ut(Tr,Ci,Cr),Ze=".".concat(mr),pe=lr(Tr,Ci,Y,{deprecatedTokens:qn.deprecatedTokens});ci&&Y&&(0,a.Z)(Y)==="object"&&Object.keys(Y).forEach(function($t){Y[$t]="var(".concat((0,We.ks)($t,Ut(Tr,ci.prefix)),")")});var nt=Ht(Re,{componentCls:Ze,prefixCls:mr,iconCls:".".concat(Mn),antCls:".".concat(nn),calc:br,max:Yr,min:Mi},ci?Y:pe),rt=ni(nt,{hashId:eo,prefixCls:mr,rootPrefixCls:nn,iconPrefixCls:Mn});de(Tr,pe);var tn=typeof pn=="function"?pn(nt,mr,ii,qn.resetFont):null;return[qn.resetStyle===!1?null:tn,rt]});return[Bi,eo]}}function pi(ri,ni,Cr){var qn=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},_r=oi(ri,ni,Cr,(0,c.Z)({resetStyle:!1,order:-998},qn)),Pr=function(ei){var ar=ei.prefixCls,mr=ei.rootCls,ii=mr===void 0?ar:mr;return _r(ar,ii),null};return Pr}return{genStyleHooks:wr,genSubStyleComponent:pi,genComponentStyleHook:oi}}var On=Jr},55921:function(Ir,Ft,B){"use strict";B.d(Ft,{E4:function(){return Jc},uP:function(){return lr},jG:function(){return xi},t2:function(){return Re},ks:function(){return ri},bf:function(){return oi},CI:function(){return jl},fp:function(){return Y},xy:function(){return Fs}});var a=B(38926),Qe=B(89692),q=B(46865),c=B(54153);function be(an){for(var jn=0,Jn,pr=0,Qr=an.length;Qr>=4;++pr,Qr-=4)Jn=an.charCodeAt(pr)&255|(an.charCodeAt(++pr)&255)<<8|(an.charCodeAt(++pr)&255)<<16|(an.charCodeAt(++pr)&255)<<24,Jn=(Jn&65535)*1540483477+((Jn>>>16)*59797<<16),Jn^=Jn>>>24,jn=(Jn&65535)*1540483477+((Jn>>>16)*59797<<16)^(jn&65535)*1540483477+((jn>>>16)*59797<<16);switch(Qr){case 3:jn^=(an.charCodeAt(pr+2)&255)<<16;case 2:jn^=(an.charCodeAt(pr+1)&255)<<8;case 1:jn^=an.charCodeAt(pr)&255,jn=(jn&65535)*1540483477+((jn>>>16)*59797<<16)}return jn^=jn>>>13,jn=(jn&65535)*1540483477+((jn>>>16)*59797<<16),((jn^jn>>>15)>>>0).toString(36)}var We=be,De=B(18263),Te=B(75271),ye=B.t(Te,2),te=B(54596),Ve=B(47996),Ie=B(59295),Ue=B(45985),tt="%";function ot(an){return an.join(tt)}var Je=function(){function an(jn){(0,Ie.Z)(this,an),(0,a.Z)(this,"instanceId",void 0),(0,a.Z)(this,"cache",new Map),this.instanceId=jn}return(0,Ue.Z)(an,[{key:"get",value:function(Jn){return this.opGet(ot(Jn))}},{key:"opGet",value:function(Jn){return this.cache.get(Jn)||null}},{key:"update",value:function(Jn,pr){return this.opUpdate(ot(Jn),pr)}},{key:"opUpdate",value:function(Jn,pr){var Qr=this.cache.get(Jn),ro=pr(Qr);ro===null?this.cache.delete(Jn):this.cache.set(Jn,ro)}}]),an}(),ct=Je,bt=null,Xe="data-token-hash",jt="data-css-hash",vt="data-cache-path",Mt="__cssinjs_instance__";function Ut(){var an=Math.random().toString(12).slice(2);if(typeof document!="undefined"&&document.head&&document.body){var jn=document.body.querySelectorAll("style[".concat(jt,"]"))||[],Jn=document.head.firstChild;Array.from(jn).forEach(function(Qr){Qr[Mt]=Qr[Mt]||an,Qr[Mt]===an&&document.head.insertBefore(Qr,Jn)});var pr={};Array.from(document.querySelectorAll("style[".concat(jt,"]"))).forEach(function(Qr){var ro=Qr.getAttribute(jt);if(pr[ro]){if(Qr[Mt]===an){var vo;(vo=Qr.parentNode)===null||vo===void 0||vo.removeChild(Qr)}}else pr[ro]=!0})}return new ct(an)}var Vt=Te.createContext({hashPriority:"low",cache:Ut(),defaultCache:!0}),yr=function(jn){var Jn=jn.children,pr=_objectWithoutProperties(jn,bt),Qr=React.useContext(Vt),ro=useMemo(function(){var vo=_objectSpread({},Qr);Object.keys(pr).forEach(function(Oo){var co=pr[Oo];pr[Oo]!==void 0&&(vo[Oo]=co)});var no=pr.cache;return vo.cache=vo.cache||Ut(),vo.defaultCache=!no&&Qr.defaultCache,vo},[Qr,pr],function(vo,no){return!isEqual(vo[0],no[0],!0)||!isEqual(vo[1],no[1],!0)});return React.createElement(Vt.Provider,{value:ro},Jn)},lr=Vt,Xn=B(5147),Ge=B(18415),Ht="CALC_UNIT",un=new RegExp(Ht,"g");function Xt(an){return typeof an=="number"?"".concat(an).concat(Ht):an}var ke=null,zn=function(jn,Jn){var pr=jn==="css"?CSSCalculator:NumCalculator;return function(Qr){return new pr(Qr,Jn)}},mn=null;function Rn(an,jn){if(an.length!==jn.length)return!1;for(var Jn=0;Jn<an.length;Jn++)if(an[Jn]!==jn[Jn])return!1;return!0}var ut=function(){function an(){(0,Ie.Z)(this,an),(0,a.Z)(this,"cache",void 0),(0,a.Z)(this,"keys",void 0),(0,a.Z)(this,"cacheCallTimes",void 0),this.cache=new Map,this.keys=[],this.cacheCallTimes=0}return(0,Ue.Z)(an,[{key:"size",value:function(){return this.keys.length}},{key:"internalGet",value:function(Jn){var pr,Qr,ro=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,vo={map:this.cache};return Jn.forEach(function(no){if(!vo)vo=void 0;else{var Oo;vo=(Oo=vo)===null||Oo===void 0||(Oo=Oo.map)===null||Oo===void 0?void 0:Oo.get(no)}}),(pr=vo)!==null&&pr!==void 0&&pr.value&&ro&&(vo.value[1]=this.cacheCallTimes++),(Qr=vo)===null||Qr===void 0?void 0:Qr.value}},{key:"get",value:function(Jn){var pr;return(pr=this.internalGet(Jn,!0))===null||pr===void 0?void 0:pr[0]}},{key:"has",value:function(Jn){return!!this.internalGet(Jn)}},{key:"set",value:function(Jn,pr){var Qr=this;if(!this.has(Jn)){if(this.size()+1>an.MAX_CACHE_SIZE+an.MAX_CACHE_OFFSET){var ro=this.keys.reduce(function(co,ao){var Fo=(0,Qe.Z)(co,2),Vo=Fo[1];return Qr.internalGet(ao)[1]<Vo?[ao,Qr.internalGet(ao)[1]]:co},[this.keys[0],this.cacheCallTimes]),vo=(0,Qe.Z)(ro,1),no=vo[0];this.delete(no)}this.keys.push(Jn)}var Oo=this.cache;Jn.forEach(function(co,ao){if(ao===Jn.length-1)Oo.set(co,{value:[pr,Qr.cacheCallTimes++]});else{var Fo=Oo.get(co);Fo?Fo.map||(Fo.map=new Map):Oo.set(co,{map:new Map}),Oo=Oo.get(co).map}})}},{key:"deleteByPath",value:function(Jn,pr){var Qr=Jn.get(pr[0]);if(pr.length===1){var ro;return Qr.map?Jn.set(pr[0],{map:Qr.map}):Jn.delete(pr[0]),(ro=Qr.value)===null||ro===void 0?void 0:ro[0]}var vo=this.deleteByPath(Qr.map,pr.slice(1));return(!Qr.map||Qr.map.size===0)&&!Qr.value&&Jn.delete(pr[0]),vo}},{key:"delete",value:function(Jn){if(this.has(Jn))return this.keys=this.keys.filter(function(pr){return!Rn(pr,Jn)}),this.deleteByPath(this.cache,Jn)}}]),an}();(0,a.Z)(ut,"MAX_CACHE_SIZE",20),(0,a.Z)(ut,"MAX_CACHE_OFFSET",5);var Jt=B(4449),Cn=0,he=function(){function an(jn){(0,Ie.Z)(this,an),(0,a.Z)(this,"derivatives",void 0),(0,a.Z)(this,"id",void 0),this.derivatives=Array.isArray(jn)?jn:[jn],this.id=Cn,jn.length===0&&(0,Jt.Kp)(jn.length>0,"[Ant Design CSS-in-JS] Theme should have at least one derivative function."),Cn+=1}return(0,Ue.Z)(an,[{key:"getDerivativeToken",value:function(Jn){return this.derivatives.reduce(function(pr,Qr){return Qr(Jn,pr)},void 0)}}]),an}(),Qt=new ut;function xi(an){var jn=Array.isArray(an)?an:[an];return Qt.has(jn)||Qt.set(jn,new he(jn)),Qt.get(jn)}var ui=new WeakMap,Ae={};function An(an,jn){for(var Jn=ui,pr=0;pr<jn.length;pr+=1){var Qr=jn[pr];Jn.has(Qr)||Jn.set(Qr,new WeakMap),Jn=Jn.get(Qr)}return Jn.has(Ae)||Jn.set(Ae,an()),Jn.get(Ae)}var Ur=new WeakMap;function Jr(an){var jn=Ur.get(an)||"";return jn||(Object.keys(an).forEach(function(Jn){var pr=an[Jn];jn+=Jn,pr instanceof he?jn+=pr.id:pr&&(0,Xn.Z)(pr)==="object"?jn+=Jr(pr):jn+=pr}),jn=We(jn),Ur.set(an,jn)),jn}function On(an,jn){return We("".concat(jn,"_").concat(Jr(an)))}var Kr="random-".concat(Date.now(),"-").concat(Math.random()).replace(/\./g,""),Ti="_bAmBoO_";function fr(an,jn,Jn){if((0,Ge.Z)()){var pr,Qr;(0,De.hq)(an,Kr);var ro=document.createElement("div");ro.style.position="fixed",ro.style.left="0",ro.style.top="0",jn==null||jn(ro),document.body.appendChild(ro);var vo=Jn?Jn(ro):(pr=getComputedStyle(ro).content)===null||pr===void 0?void 0:pr.includes(Ti);return(Qr=ro.parentNode)===null||Qr===void 0||Qr.removeChild(ro),(0,De.jL)(Kr),vo}return!1}var it=null;function Ot(){return it===void 0&&(it=fr("@layer ".concat(Kr," { .").concat(Kr,' { content: "').concat(Ti,'"!important; } }'),function(an){an.className=Kr})),it}var Dn=void 0;function pn(){return Dn===void 0&&(Dn=fr(":where(.".concat(Kr,') { content: "').concat(Ti,'"!important; }'),function(an){an.className=Kr})),Dn}var gn=void 0;function wr(){return gn===void 0&&(gn=fr(".".concat(Kr," { inset-block: 93px !important; }"),function(an){an.className=Kr},function(an){return getComputedStyle(an).bottom==="93px"})),gn}var Hn=(0,Ge.Z)();function oi(an){return typeof an=="number"?"".concat(an,"px"):an}function pi(an,jn,Jn){var pr,Qr=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},ro=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(ro)return an;var vo=(0,c.Z)((0,c.Z)({},Qr),{},(pr={},(0,a.Z)(pr,Xe,jn),(0,a.Z)(pr,jt,Jn),pr)),no=Object.keys(vo).map(function(Oo){var co=vo[Oo];return co?"".concat(Oo,'="').concat(co,'"'):null}).filter(function(Oo){return Oo}).join(" ");return"<style ".concat(no,">").concat(an,"</style>")}var ri=function(jn){var Jn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return"--".concat(Jn?"".concat(Jn,"-"):"").concat(jn).replace(/([a-z0-9])([A-Z])/g,"$1-$2").replace(/([A-Z]+)([A-Z][a-z0-9]+)/g,"$1-$2").replace(/([a-z])([A-Z0-9])/g,"$1-$2").toLowerCase()},ni=function(jn,Jn,pr){return Object.keys(jn).length?".".concat(Jn).concat(pr!=null&&pr.scope?".".concat(pr.scope):"","{").concat(Object.entries(jn).map(function(Qr){var ro=(0,Qe.Z)(Qr,2),vo=ro[0],no=ro[1];return"".concat(vo,":").concat(no,";")}).join(""),"}"):""},Cr=function(jn,Jn,pr){var Qr={},ro={};return Object.entries(jn).forEach(function(vo){var no,Oo,co=(0,Qe.Z)(vo,2),ao=co[0],Fo=co[1];if(pr!=null&&(no=pr.preserve)!==null&&no!==void 0&&no[ao])ro[ao]=Fo;else if((typeof Fo=="string"||typeof Fo=="number")&&!(pr!=null&&(Oo=pr.ignore)!==null&&Oo!==void 0&&Oo[ao])){var Vo,ta=ri(ao,pr==null?void 0:pr.prefix);Qr[ta]=typeof Fo=="number"&&!(pr!=null&&(Vo=pr.unitless)!==null&&Vo!==void 0&&Vo[ao])?"".concat(Fo,"px"):String(Fo),ro[ao]="var(".concat(ta,")")}}),[ro,ni(Qr,Jn,{scope:pr==null?void 0:pr.scope})]},qn=B(92076),_r=(0,c.Z)({},ye),Pr=_r.useInsertionEffect,Tr=function(jn,Jn,pr){Te.useMemo(jn,pr),(0,qn.Z)(function(){return Jn(!0)},pr)},ei=Pr?function(an,jn,Jn){return Pr(function(){return an(),jn()},Jn)}:Tr,ar=ei,mr=(0,c.Z)({},ye),ii=mr.useInsertionEffect,Wn=function(jn){var Jn=[],pr=!1;function Qr(ro){pr||Jn.push(ro)}return Te.useEffect(function(){return pr=!1,function(){pr=!0,Jn.length&&Jn.forEach(function(ro){return ro()})}},jn),Qr},di=function(){return function(jn){jn()}},Ci=typeof ii!="undefined"?Wn:di,eo=Ci;function Io(){return!1}var ci=!1;function oo(){return ci}var nn=Io;if(0)var Mn,Ee;function dn(an,jn,Jn,pr,Qr){var ro=Te.useContext(lr),vo=ro.cache,no=[an].concat((0,q.Z)(jn)),Oo=ot(no),co=eo([Oo]),ao=nn(),Fo=function(fa){vo.opUpdate(Oo,function(Oa){var Ya=Oa||[void 0,void 0],Ma=(0,Qe.Z)(Ya,2),qa=Ma[0],Fa=qa===void 0?0:qa,is=Ma[1],rs=is,ja=rs||Jn(),Ps=[Fa,ja];return fa?fa(Ps):Ps})};Te.useMemo(function(){Fo()},[Oo]);var Vo=vo.opGet(Oo),ta=Vo[1];return ar(function(){Qr==null||Qr(ta)},function(Xa){return Fo(function(fa){var Oa=(0,Qe.Z)(fa,2),Ya=Oa[0],Ma=Oa[1];return Xa&&Ya===0&&(Qr==null||Qr(ta)),[Ya+1,Ma]}),function(){vo.opUpdate(Oo,function(fa){var Oa=fa||[],Ya=(0,Qe.Z)(Oa,2),Ma=Ya[0],qa=Ma===void 0?0:Ma,Fa=Ya[1],is=qa-1;return is===0?(co(function(){(Xa||!vo.opGet(Oo))&&(pr==null||pr(Fa,!1))}),null):[qa-1,Fa]})}},[Oo]),ta}var br={},rr="css",Yr=new Map;function Mi(an){Yr.set(an,(Yr.get(an)||0)+1)}function Wi(an,jn){if(typeof document!="undefined"){var Jn=document.querySelectorAll("style[".concat(Xe,'="').concat(an,'"]'));Jn.forEach(function(pr){if(pr[Mt]===jn){var Qr;(Qr=pr.parentNode)===null||Qr===void 0||Qr.removeChild(pr)}})}}var Bi=0;function Di(an,jn){Yr.set(an,(Yr.get(an)||0)-1);var Jn=Array.from(Yr.keys()),pr=Jn.filter(function(Qr){var ro=Yr.get(Qr)||0;return ro<=0});Jn.length-pr.length>Bi&&pr.forEach(function(Qr){Wi(Qr,jn),Yr.delete(Qr)})}var Re=function(jn,Jn,pr,Qr){var ro=pr.getDerivativeToken(jn),vo=(0,c.Z)((0,c.Z)({},ro),Jn);return Qr&&(vo=Qr(vo)),vo},de="token";function Y(an,jn){var Jn=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},pr=(0,Te.useContext)(lr),Qr=pr.cache.instanceId,ro=pr.container,vo=Jn.salt,no=vo===void 0?"":vo,Oo=Jn.override,co=Oo===void 0?br:Oo,ao=Jn.formatToken,Fo=Jn.getComputedToken,Vo=Jn.cssVar,ta=An(function(){return Object.assign.apply(Object,[{}].concat((0,q.Z)(jn)))},jn),Xa=Jr(ta),fa=Jr(co),Oa=Vo?Jr(Vo):"",Ya=dn(de,[no,an.id,Xa,fa,Oa],function(){var Ma,qa=Fo?Fo(ta,co,an):Re(ta,co,an,ao),Fa=(0,c.Z)({},qa),is="";if(Vo){var rs=Cr(qa,Vo.key,{prefix:Vo.prefix,ignore:Vo.ignore,unitless:Vo.unitless,preserve:Vo.preserve}),ja=(0,Qe.Z)(rs,2);qa=ja[0],is=ja[1]}var Ps=On(qa,no);qa._tokenKey=Ps,Fa._tokenKey=On(Fa,no);var Vl=(Ma=Vo==null?void 0:Vo.key)!==null&&Ma!==void 0?Ma:Ps;qa._themeKey=Vl,Mi(Vl);var ml="".concat(rr,"-").concat(We(Ps));return qa._hashId=ml,[qa,ml,Fa,is,(Vo==null?void 0:Vo.key)||""]},function(Ma){Di(Ma[0]._themeKey,Qr)},function(Ma){var qa=(0,Qe.Z)(Ma,4),Fa=qa[0],is=qa[3];if(Vo&&is){var rs=(0,De.hq)(is,We("css-variables-".concat(Fa._themeKey)),{mark:jt,prepend:"queue",attachTo:ro,priority:-999});rs[Mt]=Qr,rs.setAttribute(Xe,Fa._themeKey)}});return Ya}var Ze=function(jn,Jn,pr){var Qr=(0,Qe.Z)(jn,5),ro=Qr[2],vo=Qr[3],no=Qr[4],Oo=pr||{},co=Oo.plain;if(!vo)return null;var ao=ro._tokenKey,Fo=-999,Vo={"data-rc-order":"prependQueue","data-rc-priority":"".concat(Fo)},ta=pi(vo,no,ao,Vo,co);return[Fo,ao,ta]},pe=B(23022),nt={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},rt=nt,tn="-ms-",$t="-moz-",ln="-webkit-",vn="comm",et="rule",Rt="decl",Kt="@page",rn="@media",dt="@import",at="@charset",Sn="@viewport",bn="@supports",Gn="@document",or="@namespace",gr="@keyframes",Fr="@font-face",hi="@counter-style",Hr="@font-feature-values",to="@layer",gt="@scope",wn=Math.abs,qt=String.fromCharCode,Nn=Object.assign;function sr(an,jn){return uo(an,0)^45?(((jn<<2^uo(an,0))<<2^uo(an,1))<<2^uo(an,2))<<2^uo(an,3):0}function Wr(an){return an.trim()}function Pi(an,jn){return(an=jn.exec(an))?an[0]:an}function Co(an,jn,Jn){return an.replace(jn,Jn)}function Vi(an,jn,Jn){return an.indexOf(jn,Jn)}function uo(an,jn){return an.charCodeAt(jn)|0}function fo(an,jn,Jn){return an.slice(jn,Jn)}function Ki(an){return an.length}function Mo(an){return an.length}function Zo(an,jn){return jn.push(an),an}function Lo(an,jn){return an.map(jn).join("")}function To(an,jn){return an.filter(function(Jn){return!Pi(Jn,jn)})}function $o(an,jn){for(var Jn="",pr=0;pr<an.length;pr++)Jn+=jn(an[pr],pr,an,jn)||"";return Jn}function zo(an,jn,Jn,pr){switch(an.type){case to:if(an.children.length)break;case dt:case or:case Rt:return an.return=an.return||an.value;case vn:return"";case gr:return an.return=an.value+"{"+$o(an.children,pr)+"}";case et:if(!Ki(an.value=an.props.join(",")))return""}return Ki(Jn=$o(an.children,pr))?an.return=an.value+"{"+Jn+"}":""}var qo=1,ho=1,So=0,wo=0,K=0,_e="";function Ct(an,jn,Jn,pr,Qr,ro,vo,no){return{value:an,root:jn,parent:Jn,type:pr,props:Qr,children:ro,line:qo,column:ho,length:vo,return:"",siblings:no}}function Et(an,jn){return assign(Ct("",null,null,"",null,null,0,an.siblings),an,{length:-an.length},jn)}function En(an){for(;an.root;)an=Et(an.root,{children:[an]});append(an,an.siblings)}function Qn(){return K}function si(){return K=wo>0?uo(_e,--wo):0,ho--,K===10&&(ho=1,qo--),K}function Or(){return K=wo<So?uo(_e,wo++):0,ho++,K===10&&(ho=1,qo++),K}function Ri(){return uo(_e,wo)}function _o(){return wo}function Lr(an,jn){return fo(_e,an,jn)}function Ji(an){switch(an){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function zr(an){return qo=ho=1,So=Ki(_e=an),wo=0,[]}function Si(an){return _e="",an}function ai(an){return Wr(Lr(wo-1,qe(an===91?an+2:an===40?an+1:an)))}function mi(an){return Si(Uo(zr(an)))}function Xo(an){for(;(K=Ri())&&K<33;)Or();return Ji(an)>2||Ji(K)>3?"":" "}function Uo(an){for(;Or();)switch(Ji(K)){case 0:append(Ye(wo-1),an);break;case 2:append(ai(K),an);break;default:append(from(K),an)}return an}function sn(an,jn){for(;--jn&&Or()&&!(K<48||K>102||K>57&&K<65||K>70&&K<97););return Lr(an,_o()+(jn<6&&Ri()==32&&Or()==32))}function qe(an){for(;Or();)switch(K){case an:return wo;case 34:case 39:an!==34&&an!==39&&qe(K);break;case 40:an===41&&qe(an);break;case 92:Or();break}return wo}function Ce(an,jn){for(;Or()&&an+K!==57;)if(an+K===84&&Ri()===47)break;return"/*"+Lr(jn,wo-1)+"*"+qt(an===47?an:Or())}function Ye(an){for(;!Ji(Ri());)Or();return Lr(an,wo)}function Fe(an){return Si(Nt("",null,null,null,[""],an=zr(an),0,[0],an))}function Nt(an,jn,Jn,pr,Qr,ro,vo,no,Oo){for(var co=0,ao=0,Fo=vo,Vo=0,ta=0,Xa=0,fa=1,Oa=1,Ya=1,Ma=0,qa="",Fa=Qr,is=ro,rs=pr,ja=qa;Oa;)switch(Xa=Ma,Ma=Or()){case 40:if(Xa!=108&&uo(ja,Fo-1)==58){Vi(ja+=Co(ai(Ma),"&","&\f"),"&\f",wn(co?no[co-1]:0))!=-1&&(Ya=-1);break}case 34:case 39:case 91:ja+=ai(Ma);break;case 9:case 10:case 13:case 32:ja+=Xo(Xa);break;case 92:ja+=sn(_o()-1,7);continue;case 47:switch(Ri()){case 42:case 47:Zo(ir(Ce(Or(),_o()),jn,Jn,Oo),Oo),(Ji(Xa||1)==5||Ji(Ri()||1)==5)&&Ki(ja)&&fo(ja,-1,void 0)!==" "&&(ja+=" ");break;default:ja+="/"}break;case 123*fa:no[co++]=Ki(ja)*Ya;case 125*fa:case 59:case 0:switch(Ma){case 0:case 125:Oa=0;case 59+ao:Ya==-1&&(ja=Co(ja,/\f/g,"")),ta>0&&(Ki(ja)-Fo||fa===0&&Xa===47)&&Zo(ta>32?Ar(ja+";",pr,Jn,Fo-1,Oo):Ar(Co(ja," ","")+";",pr,Jn,Fo-2,Oo),Oo);break;case 59:ja+=";";default:if(Zo(rs=hn(ja,jn,Jn,co,ao,Qr,no,qa,Fa=[],is=[],Fo,ro),ro),Ma===123)if(ao===0)Nt(ja,jn,rs,rs,Fa,ro,Fo,no,is);else{switch(Vo){case 99:if(uo(ja,3)===110)break;case 108:if(uo(ja,2)===97)break;default:ao=0;case 100:case 109:case 115:}ao?Nt(an,rs,rs,pr&&Zo(hn(an,rs,rs,0,0,Qr,no,qa,Qr,Fa=[],Fo,is),is),Qr,is,Fo,no,pr?Fa:is):Nt(ja,rs,rs,rs,[""],is,0,no,is)}}co=ao=ta=0,fa=Ya=1,qa=ja="",Fo=vo;break;case 58:Fo=1+Ki(ja),ta=Xa;default:if(fa<1){if(Ma==123)--fa;else if(Ma==125&&fa++==0&&si()==125)continue}switch(ja+=qt(Ma),Ma*fa){case 38:Ya=ao>0?1:(ja+="\f",-1);break;case 44:no[co++]=(Ki(ja)-1)*Ya,Ya=1;break;case 64:Ri()===45&&(ja+=ai(Or())),Vo=Ri(),ao=Fo=Ki(qa=ja+=Ye(_o())),Ma++;break;case 45:Xa===45&&Ki(ja)==2&&(fa=0)}}return ro}function hn(an,jn,Jn,pr,Qr,ro,vo,no,Oo,co,ao,Fo){for(var Vo=Qr-1,ta=Qr===0?ro:[""],Xa=Mo(ta),fa=0,Oa=0,Ya=0;fa<pr;++fa)for(var Ma=0,qa=fo(an,Vo+1,Vo=wn(Oa=vo[fa])),Fa=an;Ma<Xa;++Ma)(Fa=Wr(Oa>0?ta[Ma]+" "+qa:Co(qa,/&\f/g,ta[Ma])))&&(Oo[Ya++]=Fa);return Ct(an,jn,Jn,Qr===0?et:no,Oo,co,ao,Fo)}function ir(an,jn,Jn,pr){return Ct(an,jn,Jn,vn,qt(Qn()),fo(an,2,-2),0,pr)}function Ar(an,jn,Jn,pr,Qr){return Ct(an,jn,Jn,Rt,fo(an,0,pr),fo(an,pr+1,-1),pr,Qr)}function Nr(an,jn){var Jn=jn.path,pr=jn.parentSelectors;devWarning(!1,"[Ant Design CSS-in-JS] ".concat(Jn?"Error in ".concat(Jn,": "):"").concat(an).concat(pr.length?" Selector: ".concat(pr.join(" | ")):""))}var Rr=function(jn,Jn,pr){if(jn==="content"){var Qr=/(attr|counters?|url|(((repeating-)?(linear|radial))|conic)-gradient)\(|(no-)?(open|close)-quote/,ro=["normal","none","initial","inherit","unset"];(typeof Jn!="string"||ro.indexOf(Jn)===-1&&!Qr.test(Jn)&&(Jn.charAt(0)!==Jn.charAt(Jn.length-1)||Jn.charAt(0)!=='"'&&Jn.charAt(0)!=="'"))&&lintWarning("You seem to be using a value for 'content' without quotes, try replacing it with `content: '\"".concat(Jn,"\"'`."),pr)}},_i=null,Fi=function(jn,Jn,pr){jn==="animation"&&pr.hashId&&Jn!=="none"&&lintWarning("You seem to be using hashed animation '".concat(Jn,"', in which case 'animationName' with Keyframe as value is recommended."),pr)},Ao=null;function Ai(an){var jn,Jn=((jn=an.match(/:not\(([^)]*)\)/))===null||jn===void 0?void 0:jn[1])||"",pr=Jn.split(/(\[[^[]*])|(?=[.#])/).filter(function(Qr){return Qr});return pr.length>1}function Zi(an){return an.parentSelectors.reduce(function(jn,Jn){return jn?Jn.includes("&")?Jn.replace(/&/g,jn):"".concat(jn," ").concat(Jn):Jn},"")}var li=function(jn,Jn,pr){var Qr=Zi(pr),ro=Qr.match(/:not\([^)]*\)/g)||[];ro.length>0&&ro.some(Ai)&&lintWarning("Concat ':not' selector not support in legacy browsers.",pr)},Xi=null,Yi=function(jn,Jn,pr){switch(jn){case"marginLeft":case"marginRight":case"paddingLeft":case"paddingRight":case"left":case"right":case"borderLeft":case"borderLeftWidth":case"borderLeftStyle":case"borderLeftColor":case"borderRight":case"borderRightWidth":case"borderRightStyle":case"borderRightColor":case"borderTopLeftRadius":case"borderTopRightRadius":case"borderBottomLeftRadius":case"borderBottomRightRadius":lintWarning("You seem to be using non-logical property '".concat(jn,"' which is not compatible with RTL mode. Please use logical properties and values instead. For more information: https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Logical_Properties."),pr);return;case"margin":case"padding":case"borderWidth":case"borderStyle":if(typeof Jn=="string"){var Qr=Jn.split(" ").map(function(no){return no.trim()});Qr.length===4&&Qr[1]!==Qr[3]&&lintWarning("You seem to be using '".concat(jn,"' property with different left ").concat(jn," and right ").concat(jn,", which is not compatible with RTL mode. Please use logical properties and values instead. For more information: https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Logical_Properties."),pr)}return;case"clear":case"textAlign":(Jn==="left"||Jn==="right")&&lintWarning("You seem to be using non-logical value '".concat(Jn,"' of ").concat(jn,", which is not compatible with RTL mode. Please use logical properties and values instead. For more information: https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Logical_Properties."),pr);return;case"borderRadius":if(typeof Jn=="string"){var ro=Jn.split("/").map(function(no){return no.trim()}),vo=ro.reduce(function(no,Oo){if(no)return no;var co=Oo.split(" ").map(function(ao){return ao.trim()});return co.length>=2&&co[0]!==co[1]||co.length===3&&co[1]!==co[2]||co.length===4&&co[2]!==co[3]?!0:no},!1);vo&&lintWarning("You seem to be using non-logical value '".concat(Jn,"' of ").concat(jn,", which is not compatible with RTL mode. Please use logical properties and values instead. For more information: https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Logical_Properties."),pr)}return;default:}},Po=null,la=function(jn,Jn,pr){(typeof Jn=="string"&&/NaN/g.test(Jn)||Number.isNaN(Jn))&&lintWarning("Unexpected 'NaN' in property '".concat(jn,": ").concat(Jn,"'."),pr)},da=null,ma=function(jn,Jn,pr){pr.parentSelectors.some(function(Qr){var ro=Qr.split(",");return ro.some(function(vo){return vo.split("&").length>2})})&&lintWarning("Should not use more than one `&` in a selector.",pr)},ba=null,Sa="data-ant-cssinjs-cache-path",wa="_FILE_STYLE__";function Ua(an){return Object.keys(an).map(function(jn){var Jn=an[jn];return"".concat(jn,":").concat(Jn)}).join(";")}var ga,Ts=!0;function Ms(an){var jn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;ga=an,Ts=jn}function ms(){if(!ga&&(ga={},(0,Ge.Z)())){var an=document.createElement("div");an.className=Sa,an.style.position="fixed",an.style.visibility="hidden",an.style.top="-9999px",document.body.appendChild(an);var jn=getComputedStyle(an).content||"";jn=jn.replace(/^"/,"").replace(/"$/,""),jn.split(";").forEach(function(Qr){var ro=Qr.split(":"),vo=(0,Qe.Z)(ro,2),no=vo[0],Oo=vo[1];ga[no]=Oo});var Jn=document.querySelector("style[".concat(Sa,"]"));if(Jn){var pr;Ts=!1,(pr=Jn.parentNode)===null||pr===void 0||pr.removeChild(Jn)}document.body.removeChild(an)}}function $a(an){return ms(),!!ga[an]}function xl(an){var jn=ga[an],Jn=null;if(jn&&(0,Ge.Z)())if(Ts)Jn=wa;else{var pr=document.querySelector("style[".concat(jt,'="').concat(ga[an],'"]'));pr?Jn=pr.innerHTML:delete ga[an]}return[Jn,jn]}var hl="_skip_check_",Hs="_multi_value_";function Rl(an){var jn=$o(Fe(an),zo);return jn.replace(/\{%%%\:[^;];}/g,";")}function Ql(an){return(0,Xn.Z)(an)==="object"&&an&&(hl in an||Hs in an)}function xa(an,jn,Jn){if(!jn)return an;var pr=".".concat(jn),Qr=Jn==="low"?":where(".concat(pr,")"):pr,ro=an.split(",").map(function(vo){var no,Oo=vo.trim().split(/\s+/),co=Oo[0]||"",ao=((no=co.match(/^\w+/))===null||no===void 0?void 0:no[0])||"";return co="".concat(ao).concat(Qr).concat(co.slice(ao.length)),[co].concat((0,q.Z)(Oo.slice(1))).join(" ")});return ro.join(",")}var Wa=function an(jn){var Jn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},pr=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{root:!0,parentSelectors:[]},Qr=pr.root,ro=pr.injectHash,vo=pr.parentSelectors,no=Jn.hashId,Oo=Jn.layer,co=Jn.path,ao=Jn.hashPriority,Fo=Jn.transformers,Vo=Fo===void 0?[]:Fo,ta=Jn.linters,Xa=ta===void 0?[]:ta,fa="",Oa={};function Ya(Fa){var is=Fa.getName(no);if(!Oa[is]){var rs=an(Fa.style,Jn,{root:!1,parentSelectors:vo}),ja=(0,Qe.Z)(rs,1),Ps=ja[0];Oa[is]="@keyframes ".concat(Fa.getName(no)).concat(Ps)}}function Ma(Fa){var is=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return Fa.forEach(function(rs){Array.isArray(rs)?Ma(rs,is):rs&&is.push(rs)}),is}var qa=Ma(Array.isArray(jn)?jn:[jn]);return qa.forEach(function(Fa){var is=typeof Fa=="string"&&!Qr?{}:Fa;if(typeof is=="string")fa+="".concat(is,`
`);else if(is._keyframe)Ya(is);else{var rs=Vo.reduce(function(ja,Ps){var Vl;return(Ps==null||(Vl=Ps.visit)===null||Vl===void 0?void 0:Vl.call(Ps,ja))||ja},is);Object.keys(rs).forEach(function(ja){var Ps=rs[ja];if((0,Xn.Z)(Ps)==="object"&&Ps&&(ja!=="animationName"||!Ps._keyframe)&&!Ql(Ps)){var Vl=!1,ml=ja.trim(),cu=!1;(Qr||ro)&&no?ml.startsWith("@")?Vl=!0:ml==="&"?ml=xa("",no,ao):ml=xa(ja,no,ao):Qr&&!no&&(ml==="&"||ml==="")&&(ml="",cu=!0);var Vu=an(Ps,Jn,{root:cu,injectHash:Vl,parentSelectors:[].concat((0,q.Z)(vo),[ml])}),Hl=(0,Qe.Z)(Vu,2),Tl=Hl[0],$l=Hl[1];Oa=(0,c.Z)((0,c.Z)({},Oa),$l),fa+="".concat(ml).concat(Tl)}else{let rc=function(Ul,ac){var Nc=Ul.replace(/[A-Z]/g,function(Ec){return"-".concat(Ec.toLowerCase())}),sc=ac;!rt[Ul]&&typeof sc=="number"&&sc!==0&&(sc="".concat(sc,"px")),Ul==="animationName"&&ac!==null&&ac!==void 0&&ac._keyframe&&(Ya(ac),sc=ac.getName(no)),fa+="".concat(Nc,":").concat(sc,";")};var dc,bc=(dc=Ps==null?void 0:Ps.value)!==null&&dc!==void 0?dc:Ps;(0,Xn.Z)(Ps)==="object"&&Ps!==null&&Ps!==void 0&&Ps[Hs]&&Array.isArray(bc)?bc.forEach(function(Ul){rc(ja,Ul)}):rc(ja,bc)}})}}),Qr?Oo&&(fa&&(fa="@layer ".concat(Oo.name," {").concat(fa,"}")),Oo.dependencies&&(Oa["@layer ".concat(Oo.name)]=Oo.dependencies.map(function(Fa){return"@layer ".concat(Fa,", ").concat(Oo.name,";")}).join(`
`))):fa="{".concat(fa,"}"),[fa,Oa]};function va(an,jn){return We("".concat(an.join("%")).concat(jn))}function aa(){return null}var fs="style";function Fs(an,jn){var Jn=an.token,pr=an.path,Qr=an.hashId,ro=an.layer,vo=an.nonce,no=an.clientOnly,Oo=an.order,co=Oo===void 0?0:Oo,ao=Te.useContext(lr),Fo=ao.autoClear,Vo=ao.mock,ta=ao.defaultCache,Xa=ao.hashPriority,fa=ao.container,Oa=ao.ssrInline,Ya=ao.transformers,Ma=ao.linters,qa=ao.cache,Fa=ao.layer,is=Jn._tokenKey,rs=[is];Fa&&rs.push("layer"),rs.push.apply(rs,(0,q.Z)(pr));var ja=Hn,Ps=dn(fs,rs,function(){var Hl=rs.join("|");if($a(Hl)){var Tl=xl(Hl),$l=(0,Qe.Z)(Tl,2),dc=$l[0],bc=$l[1];if(dc)return[dc,is,bc,{},no,co]}var rc=jn(),Ul=Wa(rc,{hashId:Qr,hashPriority:Xa,layer:Fa?ro:void 0,path:pr.join("-"),transformers:Ya,linters:Ma}),ac=(0,Qe.Z)(Ul,2),Nc=ac[0],sc=ac[1],Ec=Rl(Nc),Wl=va(rs,Ec);return[Ec,is,Wl,sc,no,co]},function(Hl,Tl){var $l=(0,Qe.Z)(Hl,3),dc=$l[2];(Tl||Fo)&&Hn&&(0,De.jL)(dc,{mark:jt})},function(Hl){var Tl=(0,Qe.Z)(Hl,4),$l=Tl[0],dc=Tl[1],bc=Tl[2],rc=Tl[3];if(ja&&$l!==wa){var Ul={mark:jt,prepend:Fa?!1:"queue",attachTo:fa,priority:co},ac=typeof vo=="function"?vo():vo;ac&&(Ul.csp={nonce:ac});var Nc=[],sc=[];Object.keys(rc).forEach(function(Wl){Wl.startsWith("@layer")?Nc.push(Wl):sc.push(Wl)}),Nc.forEach(function(Wl){(0,De.hq)(Rl(rc[Wl]),"_layer-".concat(Wl),(0,c.Z)((0,c.Z)({},Ul),{},{prepend:!0}))});var Ec=(0,De.hq)($l,bc,Ul);Ec[Mt]=qa.instanceId,Ec.setAttribute(Xe,is),sc.forEach(function(Wl){(0,De.hq)(Rl(rc[Wl]),"_effect-".concat(Wl),Ul)})}}),Vl=(0,Qe.Z)(Ps,3),ml=Vl[0],cu=Vl[1],Vu=Vl[2];return function(Hl){var Tl;if(!Oa||ja||!ta)Tl=Te.createElement(aa,null);else{var $l;Tl=Te.createElement("style",(0,pe.Z)({},($l={},(0,a.Z)($l,Xe,cu),(0,a.Z)($l,jt,Vu),$l),{dangerouslySetInnerHTML:{__html:ml}}))}return Te.createElement(Te.Fragment,null,Tl,Hl)}}var Nl=function(jn,Jn,pr){var Qr=(0,Qe.Z)(jn,6),ro=Qr[0],vo=Qr[1],no=Qr[2],Oo=Qr[3],co=Qr[4],ao=Qr[5],Fo=pr||{},Vo=Fo.plain;if(co)return null;var ta=ro,Xa={"data-rc-order":"prependQueue","data-rc-priority":"".concat(ao)};return ta=pi(ro,vo,no,Xa,Vo),Oo&&Object.keys(Oo).forEach(function(fa){if(!Jn[fa]){Jn[fa]=!0;var Oa=Rl(Oo[fa]),Ya=pi(Oa,vo,"_effect-".concat(fa),Xa,Vo);fa.startsWith("@layer")?ta=Ya+ta:ta+=Ya}}),[ao,no,ta]},ec="cssVar",zc=function(jn,Jn){var pr=jn.key,Qr=jn.prefix,ro=jn.unitless,vo=jn.ignore,no=jn.token,Oo=jn.scope,co=Oo===void 0?"":Oo,ao=(0,Te.useContext)(lr),Fo=ao.cache.instanceId,Vo=ao.container,ta=no._tokenKey,Xa=[].concat((0,q.Z)(jn.path),[pr,co,ta]),fa=dn(ec,Xa,function(){var Oa=Jn(),Ya=Cr(Oa,pr,{prefix:Qr,unitless:ro,ignore:vo,scope:co}),Ma=(0,Qe.Z)(Ya,2),qa=Ma[0],Fa=Ma[1],is=va(Xa,Fa);return[qa,Fa,is,pr]},function(Oa){var Ya=(0,Qe.Z)(Oa,3),Ma=Ya[2];Hn&&(0,De.jL)(Ma,{mark:jt})},function(Oa){var Ya=(0,Qe.Z)(Oa,3),Ma=Ya[1],qa=Ya[2];if(Ma){var Fa=(0,De.hq)(Ma,qa,{mark:jt,prepend:"queue",attachTo:Vo,priority:-999});Fa[Mt]=Fo,Fa.setAttribute(Xe,pr)}});return fa},Cl=function(jn,Jn,pr){var Qr=(0,Qe.Z)(jn,4),ro=Qr[1],vo=Qr[2],no=Qr[3],Oo=pr||{},co=Oo.plain;if(!ro)return null;var ao=-999,Fo={"data-rc-order":"prependQueue","data-rc-priority":"".concat(ao)},Vo=pi(ro,no,vo,Fo,co);return[ao,vo,Vo]},jl=zc,ia,jo=(ia={},(0,a.Z)(ia,fs,Nl),(0,a.Z)(ia,de,Ze),(0,a.Z)(ia,ec,Cl),ia);function su(an){return an!==null}function ea(an,jn){var Jn=typeof jn=="boolean"?{plain:jn}:jn||{},pr=Jn.plain,Qr=pr===void 0?!1:pr,ro=Jn.types,vo=ro===void 0?["style","token","cssVar"]:ro,no=new RegExp("^(".concat((typeof vo=="string"?[vo]:vo).join("|"),")%")),Oo=Array.from(an.cache.keys()).filter(function(Vo){return no.test(Vo)}),co={},ao={},Fo="";return Oo.map(function(Vo){var ta=Vo.replace(no,"").replace(/%/g,"|"),Xa=Vo.split("%"),fa=_slicedToArray(Xa,1),Oa=fa[0],Ya=jo[Oa],Ma=Ya(an.cache.get(Vo)[1],co,{plain:Qr});if(!Ma)return null;var qa=_slicedToArray(Ma,3),Fa=qa[0],is=qa[1],rs=qa[2];return Vo.startsWith("style")&&(ao[ta]=is),[Fa,rs]}).filter(su).sort(function(Vo,ta){var Xa=_slicedToArray(Vo,1),fa=Xa[0],Oa=_slicedToArray(ta,1),Ya=Oa[0];return fa-Ya}).forEach(function(Vo){var ta=_slicedToArray(Vo,2),Xa=ta[1];Fo+=Xa}),Fo+=toStyleStr(".".concat(ATTR_CACHE_MAP,'{content:"').concat(serializeCacheMap(ao),'";}'),void 0,void 0,_defineProperty({},ATTR_CACHE_MAP,ATTR_CACHE_MAP),Qr),Fo}var tc=function(){function an(jn,Jn){(0,Ie.Z)(this,an),(0,a.Z)(this,"name",void 0),(0,a.Z)(this,"style",void 0),(0,a.Z)(this,"_keyframe",!0),this.name=jn,this.style=Jn}return(0,Ue.Z)(an,[{key:"getName",value:function(){var Jn=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return Jn?"".concat(Jn,"-").concat(this.name):this.name}}]),an}(),Jc=tc;function sa(an){if(typeof an=="number")return[[an],!1];var jn=String(an).trim(),Jn=jn.match(/(.*)(!important)/),pr=(Jn?Jn[1]:jn).trim().split(/\s+/),Qr=[],ro=0;return[pr.reduce(function(vo,no){if(no.includes("(")||no.includes(")")){var Oo=no.split("(").length-1,co=no.split(")").length-1;ro+=Oo-co}return ro>=0&&Qr.push(no),ro===0&&(vo.push(Qr.join(" ")),Qr=[]),vo},[]),!!Jn]}function yc(an){return an.notSplit=!0,an}var _c={inset:["top","right","bottom","left"],insetBlock:["top","bottom"],insetBlockStart:["top"],insetBlockEnd:["bottom"],insetInline:["left","right"],insetInlineStart:["left"],insetInlineEnd:["right"],marginBlock:["marginTop","marginBottom"],marginBlockStart:["marginTop"],marginBlockEnd:["marginBottom"],marginInline:["marginLeft","marginRight"],marginInlineStart:["marginLeft"],marginInlineEnd:["marginRight"],paddingBlock:["paddingTop","paddingBottom"],paddingBlockStart:["paddingTop"],paddingBlockEnd:["paddingBottom"],paddingInline:["paddingLeft","paddingRight"],paddingInlineStart:["paddingLeft"],paddingInlineEnd:["paddingRight"],borderBlock:yc(["borderTop","borderBottom"]),borderBlockStart:yc(["borderTop"]),borderBlockEnd:yc(["borderBottom"]),borderInline:yc(["borderLeft","borderRight"]),borderInlineStart:yc(["borderLeft"]),borderInlineEnd:yc(["borderRight"]),borderBlockWidth:["borderTopWidth","borderBottomWidth"],borderBlockStartWidth:["borderTopWidth"],borderBlockEndWidth:["borderBottomWidth"],borderInlineWidth:["borderLeftWidth","borderRightWidth"],borderInlineStartWidth:["borderLeftWidth"],borderInlineEndWidth:["borderRightWidth"],borderBlockStyle:["borderTopStyle","borderBottomStyle"],borderBlockStartStyle:["borderTopStyle"],borderBlockEndStyle:["borderBottomStyle"],borderInlineStyle:["borderLeftStyle","borderRightStyle"],borderInlineStartStyle:["borderLeftStyle"],borderInlineEndStyle:["borderRightStyle"],borderBlockColor:["borderTopColor","borderBottomColor"],borderBlockStartColor:["borderTopColor"],borderBlockEndColor:["borderBottomColor"],borderInlineColor:["borderLeftColor","borderRightColor"],borderInlineStartColor:["borderLeftColor"],borderInlineEndColor:["borderRightColor"],borderStartStartRadius:["borderTopLeftRadius"],borderStartEndRadius:["borderTopRightRadius"],borderEndStartRadius:["borderBottomLeftRadius"],borderEndEndRadius:["borderBottomRightRadius"]};function Qc(an,jn){var Jn=an;return jn&&(Jn="".concat(Jn," !important")),{_skip_check_:!0,value:Jn}}var hd={visit:function(jn){var Jn={};return Object.keys(jn).forEach(function(pr){var Qr=jn[pr],ro=_c[pr];if(ro&&(typeof Qr=="number"||typeof Qr=="string")){var vo=sa(Qr),no=(0,Qe.Z)(vo,2),Oo=no[0],co=no[1];ro.length&&ro.notSplit?ro.forEach(function(ao){Jn[ao]=Qc(Qr,co)}):ro.length===1?Jn[ro[0]]=Qc(Oo[0],co):ro.length===2?ro.forEach(function(ao,Fo){var Vo;Jn[ao]=Qc((Vo=Oo[Fo])!==null&&Vo!==void 0?Vo:Oo[0],co)}):ro.length===4?ro.forEach(function(ao,Fo){var Vo,ta;Jn[ao]=Qc((Vo=(ta=Oo[Fo])!==null&&ta!==void 0?ta:Oo[Fo-2])!==null&&Vo!==void 0?Vo:Oo[0],co)}):Jn[pr]=Qr}else Jn[pr]=Qr}),Jn}},nc=null,pl=/url\([^)]+\)|var\([^)]+\)|(\d*\.?\d+)px/g;function ji(an,jn){var Jn=Math.pow(10,jn+1),pr=Math.floor(an*Jn);return Math.round(pr/10)*10/Jn}var ju=function(){var jn=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Jn=jn.rootValue,pr=Jn===void 0?16:Jn,Qr=jn.precision,ro=Qr===void 0?5:Qr,vo=jn.mediaQuery,no=vo===void 0?!1:vo,Oo=function(Fo,Vo){if(!Vo)return Fo;var ta=parseFloat(Vo);if(ta<=1)return Fo;var Xa=ji(ta/pr,ro);return"".concat(Xa,"rem")},co=function(Fo){var Vo=_objectSpread({},Fo);return Object.entries(Fo).forEach(function(ta){var Xa=_slicedToArray(ta,2),fa=Xa[0],Oa=Xa[1];if(typeof Oa=="string"&&Oa.includes("px")){var Ya=Oa.replace(pl,Oo);Vo[fa]=Ya}!unitless[fa]&&typeof Oa=="number"&&Oa!==0&&(Vo[fa]="".concat(Oa,"px").replace(pl,Oo));var Ma=fa.trim();if(Ma.startsWith("@")&&Ma.includes("px")&&no){var qa=fa.replace(pl,Oo);Vo[qa]=Vo[fa],delete Vo[fa]}}),Vo};return{visit:co}},pd=null,lu={supportModernCSS:function(){return pn()&&wr()}}},84432:function(Ir,Ft,B){"use strict";B.d(Ft,{t:function(){return We}});var a=B(38926);const Qe=Math.round;function q(De,Te){const ye=De.replace(/^[^(]*\((.*)/,"$1").replace(/\).*/,"").match(/\d*\.?\d+%?/g)||[],te=ye.map(Ve=>parseFloat(Ve));for(let Ve=0;Ve<3;Ve+=1)te[Ve]=Te(te[Ve]||0,ye[Ve]||"",Ve);return ye[3]?te[3]=ye[3].includes("%")?te[3]/100:te[3]:te[3]=1,te}const c=(De,Te,ye)=>ye===0?De:De/100;function be(De,Te){const ye=Te||255;return De>ye?ye:De<0?0:De}class We{constructor(Te){(0,a.Z)(this,"isValid",!0),(0,a.Z)(this,"r",0),(0,a.Z)(this,"g",0),(0,a.Z)(this,"b",0),(0,a.Z)(this,"a",1),(0,a.Z)(this,"_h",void 0),(0,a.Z)(this,"_s",void 0),(0,a.Z)(this,"_l",void 0),(0,a.Z)(this,"_v",void 0),(0,a.Z)(this,"_max",void 0),(0,a.Z)(this,"_min",void 0),(0,a.Z)(this,"_brightness",void 0);function ye(te){return te[0]in Te&&te[1]in Te&&te[2]in Te}if(Te)if(typeof Te=="string"){let Ve=function(Ie){return te.startsWith(Ie)};const te=Te.trim();/^#?[A-F\d]{3,8}$/i.test(te)?this.fromHexString(te):Ve("rgb")?this.fromRgbString(te):Ve("hsl")?this.fromHslString(te):(Ve("hsv")||Ve("hsb"))&&this.fromHsvString(te)}else if(Te instanceof We)this.r=Te.r,this.g=Te.g,this.b=Te.b,this.a=Te.a,this._h=Te._h,this._s=Te._s,this._l=Te._l,this._v=Te._v;else if(ye("rgb"))this.r=be(Te.r),this.g=be(Te.g),this.b=be(Te.b),this.a=typeof Te.a=="number"?be(Te.a,1):1;else if(ye("hsl"))this.fromHsl(Te);else if(ye("hsv"))this.fromHsv(Te);else throw new Error("@ant-design/fast-color: unsupported input "+JSON.stringify(Te))}setR(Te){return this._sc("r",Te)}setG(Te){return this._sc("g",Te)}setB(Te){return this._sc("b",Te)}setA(Te){return this._sc("a",Te,1)}setHue(Te){const ye=this.toHsv();return ye.h=Te,this._c(ye)}getLuminance(){function Te(Ie){const Ue=Ie/255;return Ue<=.03928?Ue/12.92:Math.pow((Ue+.055)/1.055,2.4)}const ye=Te(this.r),te=Te(this.g),Ve=Te(this.b);return .2126*ye+.7152*te+.0722*Ve}getHue(){if(typeof this._h=="undefined"){const Te=this.getMax()-this.getMin();Te===0?this._h=0:this._h=Qe(60*(this.r===this.getMax()?(this.g-this.b)/Te+(this.g<this.b?6:0):this.g===this.getMax()?(this.b-this.r)/Te+2:(this.r-this.g)/Te+4))}return this._h}getSaturation(){if(typeof this._s=="undefined"){const Te=this.getMax()-this.getMin();Te===0?this._s=0:this._s=Te/this.getMax()}return this._s}getLightness(){return typeof this._l=="undefined"&&(this._l=(this.getMax()+this.getMin())/510),this._l}getValue(){return typeof this._v=="undefined"&&(this._v=this.getMax()/255),this._v}getBrightness(){return typeof this._brightness=="undefined"&&(this._brightness=(this.r*299+this.g*587+this.b*114)/1e3),this._brightness}darken(Te=10){const ye=this.getHue(),te=this.getSaturation();let Ve=this.getLightness()-Te/100;return Ve<0&&(Ve=0),this._c({h:ye,s:te,l:Ve,a:this.a})}lighten(Te=10){const ye=this.getHue(),te=this.getSaturation();let Ve=this.getLightness()+Te/100;return Ve>1&&(Ve=1),this._c({h:ye,s:te,l:Ve,a:this.a})}mix(Te,ye=50){const te=this._c(Te),Ve=ye/100,Ie=tt=>(te[tt]-this[tt])*Ve+this[tt],Ue={r:Qe(Ie("r")),g:Qe(Ie("g")),b:Qe(Ie("b")),a:Qe(Ie("a")*100)/100};return this._c(Ue)}tint(Te=10){return this.mix({r:255,g:255,b:255,a:1},Te)}shade(Te=10){return this.mix({r:0,g:0,b:0,a:1},Te)}onBackground(Te){const ye=this._c(Te),te=this.a+ye.a*(1-this.a),Ve=Ie=>Qe((this[Ie]*this.a+ye[Ie]*ye.a*(1-this.a))/te);return this._c({r:Ve("r"),g:Ve("g"),b:Ve("b"),a:te})}isDark(){return this.getBrightness()<128}isLight(){return this.getBrightness()>=128}equals(Te){return this.r===Te.r&&this.g===Te.g&&this.b===Te.b&&this.a===Te.a}clone(){return this._c(this)}toHexString(){let Te="#";const ye=(this.r||0).toString(16);Te+=ye.length===2?ye:"0"+ye;const te=(this.g||0).toString(16);Te+=te.length===2?te:"0"+te;const Ve=(this.b||0).toString(16);if(Te+=Ve.length===2?Ve:"0"+Ve,typeof this.a=="number"&&this.a>=0&&this.a<1){const Ie=Qe(this.a*255).toString(16);Te+=Ie.length===2?Ie:"0"+Ie}return Te}toHsl(){return{h:this.getHue(),s:this.getSaturation(),l:this.getLightness(),a:this.a}}toHslString(){const Te=this.getHue(),ye=Qe(this.getSaturation()*100),te=Qe(this.getLightness()*100);return this.a!==1?`hsla(${Te},${ye}%,${te}%,${this.a})`:`hsl(${Te},${ye}%,${te}%)`}toHsv(){return{h:this.getHue(),s:this.getSaturation(),v:this.getValue(),a:this.a}}toRgb(){return{r:this.r,g:this.g,b:this.b,a:this.a}}toRgbString(){return this.a!==1?`rgba(${this.r},${this.g},${this.b},${this.a})`:`rgb(${this.r},${this.g},${this.b})`}toString(){return this.toRgbString()}_sc(Te,ye,te){const Ve=this.clone();return Ve[Te]=be(ye,te),Ve}_c(Te){return new this.constructor(Te)}getMax(){return typeof this._max=="undefined"&&(this._max=Math.max(this.r,this.g,this.b)),this._max}getMin(){return typeof this._min=="undefined"&&(this._min=Math.min(this.r,this.g,this.b)),this._min}fromHexString(Te){const ye=Te.replace("#","");function te(Ve,Ie){return parseInt(ye[Ve]+ye[Ie||Ve],16)}ye.length<6?(this.r=te(0),this.g=te(1),this.b=te(2),this.a=ye[3]?te(3)/255:1):(this.r=te(0,1),this.g=te(2,3),this.b=te(4,5),this.a=ye[6]?te(6,7)/255:1)}fromHsl({h:Te,s:ye,l:te,a:Ve}){if(this._h=Te%360,this._s=ye,this._l=te,this.a=typeof Ve=="number"?Ve:1,ye<=0){const Xe=Qe(te*255);this.r=Xe,this.g=Xe,this.b=Xe}let Ie=0,Ue=0,tt=0;const ot=Te/60,Je=(1-Math.abs(2*te-1))*ye,ct=Je*(1-Math.abs(ot%2-1));ot>=0&&ot<1?(Ie=Je,Ue=ct):ot>=1&&ot<2?(Ie=ct,Ue=Je):ot>=2&&ot<3?(Ue=Je,tt=ct):ot>=3&&ot<4?(Ue=ct,tt=Je):ot>=4&&ot<5?(Ie=ct,tt=Je):ot>=5&&ot<6&&(Ie=Je,tt=ct);const bt=te-Je/2;this.r=Qe((Ie+bt)*255),this.g=Qe((Ue+bt)*255),this.b=Qe((tt+bt)*255)}fromHsv({h:Te,s:ye,v:te,a:Ve}){this._h=Te%360,this._s=ye,this._v=te,this.a=typeof Ve=="number"?Ve:1;const Ie=Qe(te*255);if(this.r=Ie,this.g=Ie,this.b=Ie,ye<=0)return;const Ue=Te/60,tt=Math.floor(Ue),ot=Ue-tt,Je=Qe(te*(1-ye)*255),ct=Qe(te*(1-ye*ot)*255),bt=Qe(te*(1-ye*(1-ot))*255);switch(tt){case 0:this.g=bt,this.b=Je;break;case 1:this.r=ct,this.b=Je;break;case 2:this.r=Je,this.b=bt;break;case 3:this.r=Je,this.g=ct;break;case 4:this.r=bt,this.g=Je;break;case 5:default:this.g=Je,this.b=ct;break}}fromHsvString(Te){const ye=q(Te,c);this.fromHsv({h:ye[0],s:ye[1],v:ye[2],a:ye[3]})}fromHslString(Te){const ye=q(Te,c);this.fromHsl({h:ye[0],s:ye[1],l:ye[2],a:ye[3]})}fromRgbString(Te){const ye=q(Te,(te,Ve)=>Ve.includes("%")?Qe(te/100*255):te);this.r=ye[0],this.g=ye[1],this.b=ye[2],this.a=ye[3]}}},23738:function(Ir,Ft,B){"use strict";B.d(Ft,{Z:function(){return Rn}});var a=B(23022),Qe=B(89692),q=B(38926),c=B(58190),be=B(75271),We=B(82187),De=B.n(We),Te=B(68640),ye=B(53552),te=B(54153),Ve=B(5147),Ie=B(18263),Ue=B(16167),tt=B(4449);function ot(ut){return ut.replace(/-(.)/g,function(Jt,Cn){return Cn.toUpperCase()})}function Je(ut,Jt){(0,tt.ZP)(ut,"[@ant-design/icons] ".concat(Jt))}function ct(ut){return(0,Ve.Z)(ut)==="object"&&typeof ut.name=="string"&&typeof ut.theme=="string"&&((0,Ve.Z)(ut.icon)==="object"||typeof ut.icon=="function")}function bt(){var ut=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Object.keys(ut).reduce(function(Jt,Cn){var he=ut[Cn];switch(Cn){case"class":Jt.className=he,delete Jt.class;break;default:delete Jt[Cn],Jt[ot(Cn)]=he}return Jt},{})}function Xe(ut,Jt,Cn){return Cn?be.createElement(ut.tag,(0,te.Z)((0,te.Z)({key:Jt},bt(ut.attrs)),Cn),(ut.children||[]).map(function(he,Qt){return Xe(he,"".concat(Jt,"-").concat(ut.tag,"-").concat(Qt))})):be.createElement(ut.tag,(0,te.Z)({key:Jt},bt(ut.attrs)),(ut.children||[]).map(function(he,Qt){return Xe(he,"".concat(Jt,"-").concat(ut.tag,"-").concat(Qt))}))}function jt(ut){return(0,Te.R_)(ut)[0]}function vt(ut){return ut?Array.isArray(ut)?ut:[ut]:[]}var Mt={width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true",focusable:"false"},Ut=`
.anticon {
  display: inline-flex;
  align-items: center;
  color: inherit;
  font-style: normal;
  line-height: 0;
  text-align: center;
  text-transform: none;
  vertical-align: -0.125em;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

.anticon > * {
  line-height: 1;
}

.anticon svg {
  display: inline-block;
}

.anticon::before {
  display: none;
}

.anticon .anticon-icon {
  display: block;
}

.anticon[tabindex] {
  cursor: pointer;
}

.anticon-spin::before,
.anticon-spin {
  display: inline-block;
  -webkit-animation: loadingCircle 1s infinite linear;
  animation: loadingCircle 1s infinite linear;
}

@-webkit-keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}

@keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}
`,Vt=function(Jt){var Cn=(0,be.useContext)(ye.Z),he=Cn.csp,Qt=Cn.prefixCls,xi=Cn.layer,ui=Ut;Qt&&(ui=ui.replace(/anticon/g,Qt)),xi&&(ui="@layer ".concat(xi,` {
`).concat(ui,`
}`)),(0,be.useEffect)(function(){var Ae=Jt.current,An=(0,Ue.A)(Ae);(0,Ie.hq)(ui,"@ant-design-icons",{prepend:!xi,csp:he,attachTo:An})},[])},yr=["icon","className","onClick","style","primaryColor","secondaryColor"],lr={primaryColor:"#333",secondaryColor:"#E6E6E6",calculated:!1};function Xn(ut){var Jt=ut.primaryColor,Cn=ut.secondaryColor;lr.primaryColor=Jt,lr.secondaryColor=Cn||jt(Jt),lr.calculated=!!Cn}function Ge(){return(0,te.Z)({},lr)}var Ht=function(Jt){var Cn=Jt.icon,he=Jt.className,Qt=Jt.onClick,xi=Jt.style,ui=Jt.primaryColor,Ae=Jt.secondaryColor,An=(0,c.Z)(Jt,yr),Ur=be.useRef(),Jr=lr;if(ui&&(Jr={primaryColor:ui,secondaryColor:Ae||jt(ui)}),Vt(Ur),Je(ct(Cn),"icon should be icon definiton, but got ".concat(Cn)),!ct(Cn))return null;var On=Cn;return On&&typeof On.icon=="function"&&(On=(0,te.Z)((0,te.Z)({},On),{},{icon:On.icon(Jr.primaryColor,Jr.secondaryColor)})),Xe(On.icon,"svg-".concat(On.name),(0,te.Z)((0,te.Z)({className:he,onClick:Qt,style:xi,"data-icon":On.name,width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},An),{},{ref:Ur}))};Ht.displayName="IconReact",Ht.getTwoToneColors=Ge,Ht.setTwoToneColors=Xn;var un=Ht;function Xt(ut){var Jt=vt(ut),Cn=(0,Qe.Z)(Jt,2),he=Cn[0],Qt=Cn[1];return un.setTwoToneColors({primaryColor:he,secondaryColor:Qt})}function ke(){var ut=un.getTwoToneColors();return ut.calculated?[ut.primaryColor,ut.secondaryColor]:ut.primaryColor}var zn=["className","icon","spin","rotate","tabIndex","onClick","twoToneColor"];Xt(Te.iN.primary);var mn=be.forwardRef(function(ut,Jt){var Cn=ut.className,he=ut.icon,Qt=ut.spin,xi=ut.rotate,ui=ut.tabIndex,Ae=ut.onClick,An=ut.twoToneColor,Ur=(0,c.Z)(ut,zn),Jr=be.useContext(ye.Z),On=Jr.prefixCls,Kr=On===void 0?"anticon":On,Ti=Jr.rootClassName,fr=De()(Ti,Kr,(0,q.Z)((0,q.Z)({},"".concat(Kr,"-").concat(he.name),!!he.name),"".concat(Kr,"-spin"),!!Qt||he.name==="loading"),Cn),it=ui;it===void 0&&Ae&&(it=-1);var Ot=xi?{msTransform:"rotate(".concat(xi,"deg)"),transform:"rotate(".concat(xi,"deg)")}:void 0,Dn=vt(An),pn=(0,Qe.Z)(Dn,2),gn=pn[0],wr=pn[1];return be.createElement("span",(0,a.Z)({role:"img","aria-label":he.name},Ur,{ref:Jt,tabIndex:it,onClick:Ae,className:fr}),be.createElement(un,{icon:he,primaryColor:gn,secondaryColor:wr,style:Ot}))});mn.displayName="AntdIcon",mn.getTwoToneColor=ke,mn.setTwoToneColor=Xt;var Rn=mn},53552:function(Ir,Ft,B){"use strict";var a=B(75271),Qe=(0,a.createContext)({});Ft.Z=Qe},4692:function(Ir,Ft,B){"use strict";B.d(Ft,{Z:function(){return Te}});var a=B(23022),Qe=B(75271),q={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z"}}]},name:"check-circle",theme:"filled"},c=q,be=B(23738),We=function(te,Ve){return Qe.createElement(be.Z,(0,a.Z)({},te,{ref:Ve,icon:c}))},De=Qe.forwardRef(We),Te=De},3642:function(Ir,Ft,B){"use strict";B.d(Ft,{Z:function(){return Te}});var a=B(23022),Qe=B(75271),q={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 00-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z"}}]},name:"check",theme:"outlined"},c=q,be=B(23738),We=function(te,Ve){return Qe.createElement(be.Z,(0,a.Z)({},te,{ref:Ve,icon:c}))},De=Qe.forwardRef(We),Te=De},75434:function(Ir,Ft,B){"use strict";B.d(Ft,{Z:function(){return Te}});var a=B(23022),Qe=B(75271),q={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64c247.4 0 448 200.6 448 448S759.4 960 512 960 64 759.4 64 512 264.6 64 512 64zm127.98 274.82h-.04l-.08.06L512 466.75 384.14 338.88c-.04-.05-.06-.06-.08-.06a.12.12 0 00-.07 0c-.03 0-.05.01-.09.05l-45.02 45.02a.2.2 0 00-.05.09.12.12 0 000 .07v.02a.27.27 0 00.06.06L466.75 512 338.88 639.86c-.05.04-.06.06-.06.08a.12.12 0 000 .07c0 .03.01.05.05.09l45.02 45.02a.2.2 0 00.09.05.12.12 0 00.07 0c.02 0 .04-.01.08-.05L512 557.25l127.86 127.87c.04.04.06.05.08.05a.12.12 0 00.07 0c.03 0 .05-.01.09-.05l45.02-45.02a.2.2 0 00.05-.09.12.12 0 000-.07v-.02a.27.27 0 00-.05-.06L557.25 512l127.87-127.86c.04-.04.05-.06.05-.08a.12.12 0 000-.07c0-.03-.01-.05-.05-.09l-45.02-45.02a.2.2 0 00-.09-.05.12.12 0 00-.07 0z"}}]},name:"close-circle",theme:"filled"},c=q,be=B(23738),We=function(te,Ve){return Qe.createElement(be.Z,(0,a.Z)({},te,{ref:Ve,icon:c}))},De=Qe.forwardRef(We),Te=De},14258:function(Ir,Ft,B){"use strict";B.d(Ft,{Z:function(){return Te}});var a=B(23022),Qe=B(75271),q={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M799.86 166.31c.02 0 .04.02.08.06l57.69 57.7c.04.03.05.05.06.08a.12.12 0 010 .06c0 .03-.02.05-.06.09L569.93 512l287.7 287.7c.04.04.05.06.06.09a.12.12 0 010 .07c0 .02-.02.04-.06.08l-57.7 57.69c-.03.04-.05.05-.07.06a.12.12 0 01-.07 0c-.03 0-.05-.02-.09-.06L512 569.93l-287.7 287.7c-.04.04-.06.05-.09.06a.12.12 0 01-.07 0c-.02 0-.04-.02-.08-.06l-57.69-57.7c-.04-.03-.05-.05-.06-.07a.12.12 0 010-.07c0-.03.02-.05.06-.09L454.07 512l-287.7-287.7c-.04-.04-.05-.06-.06-.09a.12.12 0 010-.07c0-.02.02-.04.06-.08l57.7-57.69c.03-.04.05-.05.07-.06a.12.12 0 01.07 0c.03 0 .05.02.09.06L512 454.07l287.7-287.7c.04-.04.06-.05.09-.06a.12.12 0 01.07 0z"}}]},name:"close",theme:"outlined"},c=q,be=B(23738),We=function(te,Ve){return Qe.createElement(be.Z,(0,a.Z)({},te,{ref:Ve,icon:c}))},De=Qe.forwardRef(We),Te=De},13143:function(Ir,Ft,B){"use strict";B.d(Ft,{Z:function(){return Te}});var a=B(23022),Qe=B(75271),q={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z"}}]},name:"down",theme:"outlined"},c=q,be=B(23738),We=function(te,Ve){return Qe.createElement(be.Z,(0,a.Z)({},te,{ref:Ve,icon:c}))},De=Qe.forwardRef(We),Te=De},64267:function(Ir,Ft,B){"use strict";B.d(Ft,{Z:function(){return Te}});var a=B(23022),Qe=B(75271),q={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm-32 232c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V296zm32 440a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"exclamation-circle",theme:"filled"},c=q,be=B(23738),We=function(te,Ve){return Qe.createElement(be.Z,(0,a.Z)({},te,{ref:Ve,icon:c}))},De=Qe.forwardRef(We),Te=De},24573:function(Ir,Ft,B){"use strict";B.d(Ft,{Z:function(){return Te}});var a=B(23022),Qe=B(75271),q={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"}}]},name:"loading",theme:"outlined"},c=q,be=B(23738),We=function(te,Ve){return Qe.createElement(be.Z,(0,a.Z)({},te,{ref:Ve,icon:c}))},De=Qe.forwardRef(We),Te=De},27806:function(Ir,Ft,B){"use strict";B.d(Ft,{Z:function(){return Te}});var a=B(23022),Qe=B(75271),q={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M765.7 486.8L314.9 134.7A7.97 7.97 0 00302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 000-50.4z"}}]},name:"right",theme:"outlined"},c=q,be=B(23738),We=function(te,Ve){return Qe.createElement(be.Z,(0,a.Z)({},te,{ref:Ve,icon:c}))},De=Qe.forwardRef(We),Te=De},17023:function(Ir,Ft,B){"use strict";B.d(Ft,{Z:function(){return Te}});var a=B(23022),Qe=B(75271),q={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"}}]},name:"search",theme:"outlined"},c=q,be=B(23738),We=function(te,Ve){return Qe.createElement(be.Z,(0,a.Z)({},te,{ref:Ve,icon:c}))},De=Qe.forwardRef(We),Te=De},84896:function(Ir,Ft,B){"use strict";B.d(Ft,{Z:function(){return Te}});var a=B(23022),Qe=B(75271),q={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M890.5 755.3L537.9 269.2c-12.8-17.6-39-17.6-51.7 0L133.5 755.3A8 8 0 00140 768h75c5.1 0 9.9-2.5 12.9-6.6L512 369.8l284.1 391.6c3 4.1 7.8 6.6 12.9 6.6h75c6.5 0 10.3-7.4 6.5-12.7z"}}]},name:"up",theme:"outlined"},c=q,be=B(23738),We=function(te,Ve){return Qe.createElement(be.Z,(0,a.Z)({},te,{ref:Ve,icon:c}))},De=Qe.forwardRef(We),Te=De},12398:function(Ir,Ft,B){var a=B(1129);Ir.exports.geometry=Qe,Ir.exports.ring=c;function Qe(We){var De=0,Te;switch(We.type){case"Polygon":return q(We.coordinates);case"MultiPolygon":for(Te=0;Te<We.coordinates.length;Te++)De+=q(We.coordinates[Te]);return De;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0;case"GeometryCollection":for(Te=0;Te<We.geometries.length;Te++)De+=Qe(We.geometries[Te]);return De}}function q(We){var De=0;if(We&&We.length>0){De+=Math.abs(c(We[0]));for(var Te=1;Te<We.length;Te++)De-=Math.abs(c(We[Te]))}return De}function c(We){var De,Te,ye,te,Ve,Ie,Ue,tt=0,ot=We.length;if(ot>2){for(Ue=0;Ue<ot;Ue++)Ue===ot-2?(te=ot-2,Ve=ot-1,Ie=0):Ue===ot-1?(te=ot-1,Ve=0,Ie=1):(te=Ue,Ve=Ue+1,Ie=Ue+2),De=We[te],Te=We[Ve],ye=We[Ie],tt+=(be(ye[0])-be(De[0]))*Math.sin(be(Te[1]));tt=tt*a.RADIUS*a.RADIUS/2}return tt}function be(We){return We*Math.PI/180}},74444:function(Ir){Ir.exports=B;var Ft={Point:"geometry",MultiPoint:"geometry",LineString:"geometry",MultiLineString:"geometry",Polygon:"geometry",MultiPolygon:"geometry",GeometryCollection:"geometry",Feature:"feature",FeatureCollection:"featurecollection"};function B(a){if(!a||!a.type)return null;var Qe=Ft[a.type];if(!Qe)return null;if(Qe==="geometry")return{type:"FeatureCollection",features:[{type:"Feature",properties:{},geometry:a}]};if(Qe==="feature")return{type:"FeatureCollection",features:[a]};if(Qe==="featurecollection")return a}},2180:function(Ir,Ft,B){"use strict";B.d(Ft,{Il:function(){return ct},G5:function(){return lr},ZP:function(){return Ti}});var a=B(23022),Qe=B(38926),q=B(89692),c=B(75271),be=B(54153),We=B(59295),De=B(45985),Te=B(76525),ye=B(56216),te=B(58190),Ve=B(5147),Ie=B(84432),Ue=["b"],tt=["v"],ot=function(it){return Math.round(Number(it||0))},Je=function(it){if(it instanceof Ie.t)return it;if(it&&(0,Ve.Z)(it)==="object"&&"h"in it&&"b"in it){var Ot=it,Dn=Ot.b,pn=(0,te.Z)(Ot,Ue);return(0,be.Z)((0,be.Z)({},pn),{},{v:Dn})}return typeof it=="string"&&/hsb/.test(it)?it.replace(/hsb/,"hsv"):it},ct=function(fr){(0,Te.Z)(Ot,fr);var it=(0,ye.Z)(Ot);function Ot(Dn){return(0,We.Z)(this,Ot),it.call(this,Je(Dn))}return(0,De.Z)(Ot,[{key:"toHsbString",value:function(){var pn=this.toHsb(),gn=ot(pn.s*100),wr=ot(pn.b*100),Hn=ot(pn.h),oi=pn.a,pi="hsb(".concat(Hn,", ").concat(gn,"%, ").concat(wr,"%)"),ri="hsba(".concat(Hn,", ").concat(gn,"%, ").concat(wr,"%, ").concat(oi.toFixed(oi===0?0:2),")");return oi===1?pi:ri}},{key:"toHsb",value:function(){var pn=this.toHsv(),gn=pn.v,wr=(0,te.Z)(pn,tt);return(0,be.Z)((0,be.Z)({},wr),{},{b:gn,a:this.a})}}]),Ot}(Ie.t),bt="rc-color-picker",Xe=function(it){return it instanceof ct?it:new ct(it)},jt=Xe("#1677ff"),vt=function(it){var Ot=it.offset,Dn=it.targetRef,pn=it.containerRef,gn=it.color,wr=it.type,Hn=pn.current.getBoundingClientRect(),oi=Hn.width,pi=Hn.height,ri=Dn.current.getBoundingClientRect(),ni=ri.width,Cr=ri.height,qn=ni/2,_r=Cr/2,Pr=(Ot.x+qn)/oi,Tr=1-(Ot.y+_r)/pi,ei=gn.toHsb(),ar=Pr,mr=(Ot.x+qn)/oi*360;if(wr)switch(wr){case"hue":return Xe((0,be.Z)((0,be.Z)({},ei),{},{h:mr<=0?0:mr}));case"alpha":return Xe((0,be.Z)((0,be.Z)({},ei),{},{a:ar<=0?0:ar}))}return Xe({h:ei.h,s:Pr<=0?0:Pr,b:Tr>=1?1:Tr,a:ei.a})},Mt=function(it,Ot){var Dn=it.toHsb();switch(Ot){case"hue":return{x:Dn.h/360*100,y:50};case"alpha":return{x:it.a*100,y:50};default:return{x:Dn.s*100,y:(1-Dn.b)*100}}},Ut=B(82187),Vt=B.n(Ut),yr=function(it){var Ot=it.color,Dn=it.prefixCls,pn=it.className,gn=it.style,wr=it.onClick,Hn="".concat(Dn,"-color-block");return c.createElement("div",{className:Vt()(Hn,pn),style:gn,onClick:wr},c.createElement("div",{className:"".concat(Hn,"-inner"),style:{background:Ot}}))},lr=yr;function Xn(fr){var it="touches"in fr?fr.touches[0]:fr,Ot=document.documentElement.scrollLeft||document.body.scrollLeft||window.pageXOffset,Dn=document.documentElement.scrollTop||document.body.scrollTop||window.pageYOffset;return{pageX:it.pageX-Ot,pageY:it.pageY-Dn}}function Ge(fr){var it=fr.targetRef,Ot=fr.containerRef,Dn=fr.direction,pn=fr.onDragChange,gn=fr.onDragChangeComplete,wr=fr.calculate,Hn=fr.color,oi=fr.disabledDrag,pi=(0,c.useState)({x:0,y:0}),ri=(0,q.Z)(pi,2),ni=ri[0],Cr=ri[1],qn=(0,c.useRef)(null),_r=(0,c.useRef)(null);(0,c.useEffect)(function(){Cr(wr())},[Hn]),(0,c.useEffect)(function(){return function(){document.removeEventListener("mousemove",qn.current),document.removeEventListener("mouseup",_r.current),document.removeEventListener("touchmove",qn.current),document.removeEventListener("touchend",_r.current),qn.current=null,_r.current=null}},[]);var Pr=function(ii){var Wn=Xn(ii),di=Wn.pageX,Ci=Wn.pageY,eo=Ot.current.getBoundingClientRect(),Io=eo.x,ci=eo.y,oo=eo.width,nn=eo.height,Mn=it.current.getBoundingClientRect(),Ee=Mn.width,dn=Mn.height,br=Ee/2,rr=dn/2,Yr=Math.max(0,Math.min(di-Io,oo))-br,Mi=Math.max(0,Math.min(Ci-ci,nn))-rr,Wi={x:Yr,y:Dn==="x"?ni.y:Mi};if(Ee===0&&dn===0||Ee!==dn)return!1;pn==null||pn(Wi)},Tr=function(ii){ii.preventDefault(),Pr(ii)},ei=function(ii){ii.preventDefault(),document.removeEventListener("mousemove",qn.current),document.removeEventListener("mouseup",_r.current),document.removeEventListener("touchmove",qn.current),document.removeEventListener("touchend",_r.current),qn.current=null,_r.current=null,gn==null||gn()},ar=function(ii){document.removeEventListener("mousemove",qn.current),document.removeEventListener("mouseup",_r.current),!oi&&(Pr(ii),document.addEventListener("mousemove",Tr),document.addEventListener("mouseup",ei),document.addEventListener("touchmove",Tr),document.addEventListener("touchend",ei),qn.current=Tr,_r.current=ei)};return[ni,ar]}var Ht=Ge,un=B(22217),Xt=function(it){var Ot=it.size,Dn=Ot===void 0?"default":Ot,pn=it.color,gn=it.prefixCls;return c.createElement("div",{className:Vt()("".concat(gn,"-handler"),(0,Qe.Z)({},"".concat(gn,"-handler-sm"),Dn==="small")),style:{backgroundColor:pn}})},ke=Xt,zn=function(it){var Ot=it.children,Dn=it.style,pn=it.prefixCls;return c.createElement("div",{className:"".concat(pn,"-palette"),style:(0,be.Z)({position:"relative"},Dn)},Ot)},mn=zn,Rn=(0,c.forwardRef)(function(fr,it){var Ot=fr.children,Dn=fr.x,pn=fr.y;return c.createElement("div",{ref:it,style:{position:"absolute",left:"".concat(Dn,"%"),top:"".concat(pn,"%"),zIndex:1,transform:"translate(-50%, -50%)"}},Ot)}),ut=Rn,Jt=function(it){var Ot=it.color,Dn=it.onChange,pn=it.prefixCls,gn=it.onChangeComplete,wr=it.disabled,Hn=(0,c.useRef)(),oi=(0,c.useRef)(),pi=(0,c.useRef)(Ot),ri=(0,un.zX)(function(Pr){var Tr=vt({offset:Pr,targetRef:oi,containerRef:Hn,color:Ot});pi.current=Tr,Dn(Tr)}),ni=Ht({color:Ot,containerRef:Hn,targetRef:oi,calculate:function(){return Mt(Ot)},onDragChange:ri,onDragChangeComplete:function(){return gn==null?void 0:gn(pi.current)},disabledDrag:wr}),Cr=(0,q.Z)(ni,2),qn=Cr[0],_r=Cr[1];return c.createElement("div",{ref:Hn,className:"".concat(pn,"-select"),onMouseDown:_r,onTouchStart:_r},c.createElement(mn,{prefixCls:pn},c.createElement(ut,{x:qn.x,y:qn.y,ref:oi},c.createElement(ke,{color:Ot.toRgbString(),prefixCls:pn})),c.createElement("div",{className:"".concat(pn,"-saturation"),style:{backgroundColor:"hsl(".concat(Ot.toHsb().h,",100%, 50%)"),backgroundImage:"linear-gradient(0deg, #000, transparent),linear-gradient(90deg, #fff, hsla(0, 0%, 100%, 0))"}})))},Cn=Jt,he=function(it,Ot){var Dn=(0,un.C8)(it,{value:Ot}),pn=(0,q.Z)(Dn,2),gn=pn[0],wr=pn[1],Hn=(0,c.useMemo)(function(){return Xe(gn)},[gn]);return[Hn,wr]},Qt=he,xi=function(it){var Ot=it.colors,Dn=it.children,pn=it.direction,gn=pn===void 0?"to right":pn,wr=it.type,Hn=it.prefixCls,oi=(0,c.useMemo)(function(){return Ot.map(function(pi,ri){var ni=Xe(pi);return wr==="alpha"&&ri===Ot.length-1&&(ni=new ct(ni.setA(1))),ni.toRgbString()}).join(",")},[Ot,wr]);return c.createElement("div",{className:"".concat(Hn,"-gradient"),style:{position:"absolute",inset:0,background:"linear-gradient(".concat(gn,", ").concat(oi,")")}},Dn)},ui=xi,Ae=function(it){var Ot=it.prefixCls,Dn=it.colors,pn=it.disabled,gn=it.onChange,wr=it.onChangeComplete,Hn=it.color,oi=it.type,pi=(0,c.useRef)(),ri=(0,c.useRef)(),ni=(0,c.useRef)(Hn),Cr=function(Wn){return oi==="hue"?Wn.getHue():Wn.a*100},qn=(0,un.zX)(function(ii){var Wn=vt({offset:ii,targetRef:ri,containerRef:pi,color:Hn,type:oi});ni.current=Wn,gn(Cr(Wn))}),_r=Ht({color:Hn,targetRef:ri,containerRef:pi,calculate:function(){return Mt(Hn,oi)},onDragChange:qn,onDragChangeComplete:function(){wr(Cr(ni.current))},direction:"x",disabledDrag:pn}),Pr=(0,q.Z)(_r,2),Tr=Pr[0],ei=Pr[1],ar=c.useMemo(function(){if(oi==="hue"){var ii=Hn.toHsb();ii.s=1,ii.b=1,ii.a=1;var Wn=new ct(ii);return Wn}return Hn},[Hn,oi]),mr=c.useMemo(function(){return Dn.map(function(ii){return"".concat(ii.color," ").concat(ii.percent,"%")})},[Dn]);return c.createElement("div",{ref:pi,className:Vt()("".concat(Ot,"-slider"),"".concat(Ot,"-slider-").concat(oi)),onMouseDown:ei,onTouchStart:ei},c.createElement(mn,{prefixCls:Ot},c.createElement(ut,{x:Tr.x,y:Tr.y,ref:ri},c.createElement(ke,{size:"small",color:ar.toHexString(),prefixCls:Ot})),c.createElement(ui,{colors:mr,type:oi,prefixCls:Ot})))},An=Ae;function Ur(fr){return c.useMemo(function(){var it=fr||{},Ot=it.slider;return[Ot||An]},[fr])}var Jr=[{color:"rgb(255, 0, 0)",percent:0},{color:"rgb(255, 255, 0)",percent:17},{color:"rgb(0, 255, 0)",percent:33},{color:"rgb(0, 255, 255)",percent:50},{color:"rgb(0, 0, 255)",percent:67},{color:"rgb(255, 0, 255)",percent:83},{color:"rgb(255, 0, 0)",percent:100}],On=(0,c.forwardRef)(function(fr,it){var Ot=fr.value,Dn=fr.defaultValue,pn=fr.prefixCls,gn=pn===void 0?bt:pn,wr=fr.onChange,Hn=fr.onChangeComplete,oi=fr.className,pi=fr.style,ri=fr.panelRender,ni=fr.disabledAlpha,Cr=ni===void 0?!1:ni,qn=fr.disabled,_r=qn===void 0?!1:qn,Pr=fr.components,Tr=Ur(Pr),ei=(0,q.Z)(Tr,1),ar=ei[0],mr=Qt(Dn||jt,Ot),ii=(0,q.Z)(mr,2),Wn=ii[0],di=ii[1],Ci=(0,c.useMemo)(function(){return Wn.setA(1).toRgbString()},[Wn]),eo=function(Mi,Wi){Ot||di(Mi),wr==null||wr(Mi,Wi)},Io=function(Mi){return new ct(Wn.setHue(Mi))},ci=function(Mi){return new ct(Wn.setA(Mi/100))},oo=function(Mi){eo(Io(Mi),{type:"hue",value:Mi})},nn=function(Mi){eo(ci(Mi),{type:"alpha",value:Mi})},Mn=function(Mi){Hn&&Hn(Io(Mi))},Ee=function(Mi){Hn&&Hn(ci(Mi))},dn=Vt()("".concat(gn,"-panel"),oi,(0,Qe.Z)({},"".concat(gn,"-panel-disabled"),_r)),br={prefixCls:gn,disabled:_r,color:Wn},rr=c.createElement(c.Fragment,null,c.createElement(Cn,(0,a.Z)({onChange:eo},br,{onChangeComplete:Hn})),c.createElement("div",{className:"".concat(gn,"-slider-container")},c.createElement("div",{className:Vt()("".concat(gn,"-slider-group"),(0,Qe.Z)({},"".concat(gn,"-slider-group-disabled-alpha"),Cr))},c.createElement(ar,(0,a.Z)({},br,{type:"hue",colors:Jr,min:0,max:359,value:Wn.getHue(),onChange:oo,onChangeComplete:Mn})),!Cr&&c.createElement(ar,(0,a.Z)({},br,{type:"alpha",colors:[{percent:0,color:"rgba(255, 0, 4, 0)"},{percent:100,color:Ci}],min:0,max:100,value:Wn.a*100,onChange:nn,onChangeComplete:Ee}))),c.createElement(lr,{color:Wn.toRgbString(),prefixCls:gn})));return c.createElement("div",{className:dn,style:pi,ref:it},typeof ri=="function"?ri(rr):rr)}),Kr=On,Ti=Kr},94889:function(){"use strict"},58596:function(){"use strict"},78018:function(Ir,Ft,B){"use strict";var a=B(75271),Qe=B(60824),q=B(23137);const c=be=>{const{space:We,form:De,children:Te}=be;if(Te==null)return null;let ye=Te;return De&&(ye=a.createElement(Qe.Ux,{override:!0,status:!0},ye)),We&&(ye=a.createElement(q.BR,null,ye)),ye};Ft.Z=c},52445:function(Ir,Ft,B){"use strict";B.d(Ft,{i:function(){return be}});var a=B(75271),Qe=B(93954),q=B(62639),c=B(98446);function be(De){return Te=>a.createElement(q.ZP,{theme:{token:{motion:!1,zIndexPopupBase:0}}},a.createElement(De,Object.assign({},Te)))}const We=(De,Te,ye,te,Ve)=>be(Ue=>{const{prefixCls:tt,style:ot}=Ue,Je=a.useRef(null),[ct,bt]=a.useState(0),[Xe,jt]=a.useState(0),[vt,Mt]=(0,Qe.Z)(!1,{value:Ue.open}),{getPrefixCls:Ut}=a.useContext(c.E_),Vt=Ut(te||"select",tt);a.useEffect(()=>{if(Mt(!0),typeof ResizeObserver!="undefined"){const Xn=new ResizeObserver(Ht=>{const un=Ht[0].target;bt(un.offsetHeight+8),jt(un.offsetWidth)}),Ge=setInterval(()=>{var Ht;const un=Ve?`.${Ve(Vt)}`:`.${Vt}-dropdown`,Xt=(Ht=Je.current)===null||Ht===void 0?void 0:Ht.querySelector(un);Xt&&(clearInterval(Ge),Xn.observe(Xt))},10);return()=>{clearInterval(Ge),Xn.disconnect()}}},[]);let yr=Object.assign(Object.assign({},Ue),{style:Object.assign(Object.assign({},ot),{margin:0}),open:vt,visible:vt,getPopupContainer:()=>Je.current});ye&&(yr=ye(yr)),Te&&Object.assign(yr,{[Te]:{overflow:{adjustX:!1,adjustY:!1}}});const lr={paddingBottom:ct,position:"relative",minWidth:Xe};return a.createElement("div",{ref:Je,style:lr},a.createElement(De,Object.assign({},yr)))});Ft.Z=We},53835:function(Ir,Ft,B){"use strict";B.d(Ft,{o2:function(){return be},yT:function(){return We}});var a=B(46865),Qe=B(98990);const q=Qe.i.map(De=>`${De}-inverse`),c=["success","processing","error","default","warning"];function be(De){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0)?[].concat((0,a.Z)(q),(0,a.Z)(Qe.i)).includes(De):Qe.i.includes(De)}function We(De){return c.includes(De)}},93473:function(Ir,Ft,B){"use strict";var a=B(75271),Qe=B(75434);const q=c=>{let be;return typeof c=="object"&&(c!=null&&c.clearIcon)?be=c:c&&(be={clearIcon:a.createElement(Qe.Z,null)}),be};Ft.Z=q},17522:function(Ir,Ft,B){"use strict";B.d(Ft,{Z:function(){return a}});const a=Qe=>Qe?typeof Qe=="function"?Qe():Qe:null},85990:function(Ir,Ft,B){"use strict";B.d(Ft,{Z:function(){return Qe}});var a=B(75271);function Qe(){const[,q]=a.useReducer(c=>c+1,0);return q}},19952:function(Ir,Ft,B){"use strict";B.d(Ft,{Cn:function(){return Ve},u6:function(){return We}});var a=B(75271),Qe=B(67699),q=B(61803);const c=100,We=c*10,De=We+c,Te={Modal:c,Drawer:c,Popover:c,Popconfirm:c,Tooltip:c,Tour:c,FloatButton:c},ye={SelectLike:50,Dropdown:50,DatePicker:50,Menu:50,ImagePreview:1};function te(Ie){return Ie in Te}const Ve=(Ie,Ue)=>{const[,tt]=(0,Qe.ZP)(),ot=a.useContext(q.Z),Je=te(Ie);let ct;if(Ue!==void 0)ct=[Ue,Ue];else{let bt=ot!=null?ot:0;Je?bt+=(ot?0:tt.zIndexPopupBase)+Te[Ie]:bt+=ye[Ie],ct=[ot===void 0?Ue:bt,bt]}return ct}},13635:function(Ir,Ft,B){"use strict";B.d(Ft,{m:function(){return Te}});var a=B(98446);const Qe=()=>({height:0,opacity:0}),q=ye=>{const{scrollHeight:te}=ye;return{height:te,opacity:1}},c=ye=>({height:ye?ye.offsetHeight:0}),be=(ye,te)=>(te==null?void 0:te.deadline)===!0||te.propertyName==="height",We=function(){return{motionName:`${arguments.length>0&&arguments[0]!==void 0?arguments[0]:a.Rf}-motion-collapse`,onAppearStart:Qe,onEnterStart:Qe,onAppearActive:q,onEnterActive:q,onLeaveStart:c,onLeaveActive:Qe,onAppearEnd:be,onEnterEnd:be,onLeaveEnd:be,motionDeadline:500}},De=null,Te=(ye,te,Ve)=>Ve!==void 0?Ve:`${ye}-${te}`;Ft.Z=We},5416:function(Ir,Ft,B){"use strict";B.d(Ft,{Z:function(){return We}});var a=B(18533);function Qe(De,Te,ye,te){if(te===!1)return{adjustX:!1,adjustY:!1};const Ve=te&&typeof te=="object"?te:{},Ie={};switch(De){case"top":case"bottom":Ie.shiftX=Te.arrowOffsetHorizontal*2+ye,Ie.shiftY=!0,Ie.adjustY=!0;break;case"left":case"right":Ie.shiftY=Te.arrowOffsetVertical*2+ye,Ie.shiftX=!0,Ie.adjustX=!0;break}const Ue=Object.assign(Object.assign({},Ie),Ve);return Ue.shiftX||(Ue.adjustX=!0),Ue.shiftY||(Ue.adjustY=!0),Ue}const q={left:{points:["cr","cl"]},right:{points:["cl","cr"]},top:{points:["bc","tc"]},bottom:{points:["tc","bc"]},topLeft:{points:["bl","tl"]},leftTop:{points:["tr","tl"]},topRight:{points:["br","tr"]},rightTop:{points:["tl","tr"]},bottomRight:{points:["tr","br"]},rightBottom:{points:["bl","br"]},bottomLeft:{points:["tl","bl"]},leftBottom:{points:["br","bl"]}},c={topLeft:{points:["bl","tc"]},leftTop:{points:["tr","cl"]},topRight:{points:["br","tc"]},rightTop:{points:["tl","cr"]},bottomRight:{points:["tr","bc"]},rightBottom:{points:["bl","cr"]},bottomLeft:{points:["tl","bc"]},leftBottom:{points:["br","cl"]}},be=new Set(["topLeft","topRight","bottomLeft","bottomRight","leftTop","leftBottom","rightTop","rightBottom"]);function We(De){const{arrowWidth:Te,autoAdjustOverflow:ye,arrowPointAtCenter:te,offset:Ve,borderRadius:Ie,visibleFirst:Ue}=De,tt=Te/2,ot={};return Object.keys(q).forEach(Je=>{const ct=te&&c[Je]||q[Je],bt=Object.assign(Object.assign({},ct),{offset:[0,0],dynamicInset:!0});switch(ot[Je]=bt,be.has(Je)&&(bt.autoArrow=!1),Je){case"top":case"topLeft":case"topRight":bt.offset[1]=-tt-Ve;break;case"bottom":case"bottomLeft":case"bottomRight":bt.offset[1]=tt+Ve;break;case"left":case"leftTop":case"leftBottom":bt.offset[0]=-tt-Ve;break;case"right":case"rightTop":case"rightBottom":bt.offset[0]=tt+Ve;break}const Xe=(0,a.wZ)({contentRadius:Ie,limitVerticalRadius:!0});if(te)switch(Je){case"topLeft":case"bottomLeft":bt.offset[0]=-Xe.arrowOffsetHorizontal-tt;break;case"topRight":case"bottomRight":bt.offset[0]=Xe.arrowOffsetHorizontal+tt;break;case"leftTop":case"rightTop":bt.offset[1]=-Xe.arrowOffsetHorizontal*2+tt;break;case"leftBottom":case"rightBottom":bt.offset[1]=Xe.arrowOffsetHorizontal*2-tt;break}bt.overflow=Qe(Je,Xe,Te,ye),Ue&&(bt.htmlRegion="visibleFirst")}),ot}},26021:function(Ir,Ft,B){"use strict";B.d(Ft,{M2:function(){return Qe},Tm:function(){return c},wm:function(){return q}});var a=B(75271);function Qe(be){return be&&a.isValidElement(be)&&be.type===a.Fragment}const q=(be,We,De)=>a.isValidElement(be)?a.cloneElement(be,typeof De=="function"?De(be.props||{}):De):We;function c(be,We){return q(be,be,We)}},96777:function(Ir,Ft,B){"use strict";B.d(Ft,{ZP:function(){return We},c4:function(){return q},m9:function(){return De}});var a=B(75271),Qe=B(67699);const q=["xxl","xl","lg","md","sm","xs"],c=Te=>({xs:`(max-width: ${Te.screenXSMax}px)`,sm:`(min-width: ${Te.screenSM}px)`,md:`(min-width: ${Te.screenMD}px)`,lg:`(min-width: ${Te.screenLG}px)`,xl:`(min-width: ${Te.screenXL}px)`,xxl:`(min-width: ${Te.screenXXL}px)`}),be=Te=>{const ye=Te,te=[].concat(q).reverse();return te.forEach((Ve,Ie)=>{const Ue=Ve.toUpperCase(),tt=`screen${Ue}Min`,ot=`screen${Ue}`;if(!(ye[tt]<=ye[ot]))throw new Error(`${tt}<=${ot} fails : !(${ye[tt]}<=${ye[ot]})`);if(Ie<te.length-1){const Je=`screen${Ue}Max`;if(!(ye[ot]<=ye[Je]))throw new Error(`${ot}<=${Je} fails : !(${ye[ot]}<=${ye[Je]})`);const bt=`screen${te[Ie+1].toUpperCase()}Min`;if(!(ye[Je]<=ye[bt]))throw new Error(`${Je}<=${bt} fails : !(${ye[Je]}<=${ye[bt]})`)}}),Te};function We(){const[,Te]=(0,Qe.ZP)(),ye=c(be(Te));return a.useMemo(()=>{const te=new Map;let Ve=-1,Ie={};return{matchHandlers:{},dispatch(Ue){return Ie=Ue,te.forEach(tt=>tt(Ie)),te.size>=1},subscribe(Ue){return te.size||this.register(),Ve+=1,te.set(Ve,Ue),Ue(Ie),Ve},unsubscribe(Ue){te.delete(Ue),te.size||this.unregister()},unregister(){Object.keys(ye).forEach(Ue=>{const tt=ye[Ue],ot=this.matchHandlers[tt];ot==null||ot.mql.removeListener(ot==null?void 0:ot.listener)}),te.clear()},register(){Object.keys(ye).forEach(Ue=>{const tt=ye[Ue],ot=ct=>{let{matches:bt}=ct;this.dispatch(Object.assign(Object.assign({},Ie),{[Ue]:bt}))},Je=window.matchMedia(tt);Je.addListener(ot),this.matchHandlers[tt]={mql:Je,listener:ot},ot(Je)})},responsiveMap:ye}},[Te])}const De=(Te,ye)=>{if(ye&&typeof ye=="object")for(let te=0;te<q.length;te++){const Ve=q[te];if(Te[Ve]&&ye[Ve]!==void 0)return ye[Ve]}}},94773:function(Ir,Ft,B){"use strict";B.d(Ft,{F:function(){return be},Z:function(){return c}});var a=B(82187),Qe=B.n(a);const q=null;function c(We,De,Te){return Qe()({[`${We}-status-success`]:De==="success",[`${We}-status-warning`]:De==="warning",[`${We}-status-error`]:De==="error",[`${We}-status-validating`]:De==="validating",[`${We}-has-feedback`]:Te})}const be=(We,De)=>De||We},87117:function(Ir,Ft,B){"use strict";B.d(Ft,{G8:function(){return De},ln:function(){return Te}});var a=B(75271),Qe=B(4449);function q(){}let c=null;function be(){c=null,rcResetWarned()}let We=null;const De=a.createContext({}),Te=()=>{const te=()=>{};return te.deprecated=q,te};var ye=null},54070:function(Ir,Ft,B){"use strict";B.d(Ft,{Z:function(){return lr}});var a=B(75271),Qe=B(82187),q=B.n(Qe),c=B(60900),be=B(42684),We=B(98446),De=B(26021),Te=B(84825);const ye=Xn=>{const{componentCls:Ge,colorPrimary:Ht}=Xn;return{[Ge]:{position:"absolute",background:"transparent",pointerEvents:"none",boxSizing:"border-box",color:`var(--wave-color, ${Ht})`,boxShadow:"0 0 0 0 currentcolor",opacity:.2,"&.wave-motion-appear":{transition:[`box-shadow 0.4s ${Xn.motionEaseOutCirc}`,`opacity 2s ${Xn.motionEaseOutCirc}`].join(","),"&-active":{boxShadow:"0 0 0 6px currentcolor",opacity:0},"&.wave-quick":{transition:[`box-shadow ${Xn.motionDurationSlow} ${Xn.motionEaseInOut}`,`opacity ${Xn.motionDurationSlow} ${Xn.motionEaseInOut}`].join(",")}}}}};var te=(0,Te.A1)("Wave",Xn=>[ye(Xn)]),Ve=B(59373),Ie=B(49975),Ue=B(67699),tt=B(5276),ot=B(62803),Je=B(92703);function ct(Xn){return Xn&&Xn!=="#fff"&&Xn!=="#ffffff"&&Xn!=="rgb(255, 255, 255)"&&Xn!=="rgba(255, 255, 255, 1)"&&!/rgba\((?:\d*, ){3}0\)/.test(Xn)&&Xn!=="transparent"}function bt(Xn){const{borderTopColor:Ge,borderColor:Ht,backgroundColor:un}=getComputedStyle(Xn);return ct(Ge)?Ge:ct(Ht)?Ht:ct(un)?un:null}function Xe(Xn){return Number.isNaN(Xn)?0:Xn}const jt=Xn=>{const{className:Ge,target:Ht,component:un,registerUnmount:Xt}=Xn,ke=a.useRef(null),zn=a.useRef(null);a.useEffect(()=>{zn.current=Xt()},[]);const[mn,Rn]=a.useState(null),[ut,Jt]=a.useState([]),[Cn,he]=a.useState(0),[Qt,xi]=a.useState(0),[ui,Ae]=a.useState(0),[An,Ur]=a.useState(0),[Jr,On]=a.useState(!1),Kr={left:Cn,top:Qt,width:ui,height:An,borderRadius:ut.map(it=>`${it}px`).join(" ")};mn&&(Kr["--wave-color"]=mn);function Ti(){const it=getComputedStyle(Ht);Rn(bt(Ht));const Ot=it.position==="static",{borderLeftWidth:Dn,borderTopWidth:pn}=it;he(Ot?Ht.offsetLeft:Xe(-parseFloat(Dn))),xi(Ot?Ht.offsetTop:Xe(-parseFloat(pn))),Ae(Ht.offsetWidth),Ur(Ht.offsetHeight);const{borderTopLeftRadius:gn,borderTopRightRadius:wr,borderBottomLeftRadius:Hn,borderBottomRightRadius:oi}=it;Jt([gn,wr,oi,Hn].map(pi=>Xe(parseFloat(pi))))}if(a.useEffect(()=>{if(Ht){const it=(0,Ie.Z)(()=>{Ti(),On(!0)});let Ot;return typeof ResizeObserver!="undefined"&&(Ot=new ResizeObserver(Ti),Ot.observe(Ht)),()=>{Ie.Z.cancel(it),Ot==null||Ot.disconnect()}}},[]),!Jr)return null;const fr=(un==="Checkbox"||un==="Radio")&&(Ht==null?void 0:Ht.classList.contains(tt.A));return a.createElement(ot.ZP,{visible:!0,motionAppear:!0,motionName:"wave-motion",motionDeadline:5e3,onAppearEnd:(it,Ot)=>{var Dn,pn;if(Ot.deadline||Ot.propertyName==="opacity"){const gn=(Dn=ke.current)===null||Dn===void 0?void 0:Dn.parentElement;(pn=zn.current)===null||pn===void 0||pn.call(zn).then(()=>{gn==null||gn.remove()})}return!1}},(it,Ot)=>{let{className:Dn}=it;return a.createElement("div",{ref:(0,be.sQ)(ke,Ot),className:q()(Ge,Dn,{"wave-quick":fr}),style:Kr})})};var Mt=(Xn,Ge)=>{var Ht;const{component:un}=Ge;if(un==="Checkbox"&&!(!((Ht=Xn.querySelector("input"))===null||Ht===void 0)&&Ht.checked))return;const Xt=document.createElement("div");Xt.style.position="absolute",Xt.style.left="0px",Xt.style.top="0px",Xn==null||Xn.insertBefore(Xt,Xn==null?void 0:Xn.firstChild);const ke=(0,Je.x)();let zn=null;function mn(){return zn}zn=ke(a.createElement(jt,Object.assign({},Ge,{target:Xn,registerUnmount:mn})),Xt)},Vt=(Xn,Ge,Ht)=>{const{wave:un}=a.useContext(We.E_),[,Xt,ke]=(0,Ue.ZP)(),zn=(0,Ve.Z)(ut=>{const Jt=Xn.current;if(un!=null&&un.disabled||!Jt)return;const Cn=Jt.querySelector(`.${tt.A}`)||Jt,{showEffect:he}=un||{};(he||Mt)(Cn,{className:Ge,token:Xt,component:Ht,event:ut,hashId:ke})}),mn=a.useRef(null);return ut=>{Ie.Z.cancel(mn.current),mn.current=(0,Ie.Z)(()=>{zn(ut)})}},lr=Xn=>{const{children:Ge,disabled:Ht,component:un}=Xn,{getPrefixCls:Xt}=(0,a.useContext)(We.E_),ke=(0,a.useRef)(null),zn=Xt("wave"),[,mn]=te(zn),Rn=Vt(ke,q()(zn,mn),un);if(a.useEffect(()=>{const Jt=ke.current;if(!Jt||Jt.nodeType!==1||Ht)return;const Cn=he=>{!(0,c.Z)(he.target)||!Jt.getAttribute||Jt.getAttribute("disabled")||Jt.disabled||Jt.className.includes("disabled")||Jt.className.includes("-leave")||Rn(he)};return Jt.addEventListener("click",Cn,!0),()=>{Jt.removeEventListener("click",Cn,!0)}},[Ht]),!a.isValidElement(Ge))return Ge!=null?Ge:null;const ut=(0,be.Yr)(Ge)?(0,be.sQ)((0,be.C4)(Ge),ke):ke;return(0,De.Tm)(Ge,{ref:ut})}},5276:function(Ir,Ft,B){"use strict";B.d(Ft,{A:function(){return Qe}});var a=B(98446);const Qe=`${a.Rf}-wave-target`},61803:function(Ir,Ft,B){"use strict";var a=B(75271);const Qe=a.createContext(void 0);Ft.Z=Qe},42115:function(Ir,Ft,B){"use strict";B.d(Ft,{Dn:function(){return ye},aG:function(){return We},hU:function(){return Ve},nx:function(){return De}});var a=B(46865),Qe=B(75271),q=B(26021),c=B(98990);const be=/^[\u4E00-\u9FA5]{2}$/,We=be.test.bind(be);function De(ct){return ct==="danger"?{danger:!0}:{type:ct}}function Te(ct){return typeof ct=="string"}function ye(ct){return ct==="text"||ct==="link"}function te(ct,bt){if(ct==null)return;const Xe=bt?" ":"";return typeof ct!="string"&&typeof ct!="number"&&Te(ct.type)&&We(ct.props.children)?(0,q.Tm)(ct,{children:ct.props.children.split("").join(Xe)}):Te(ct)?We(ct)?Qe.createElement("span",null,ct.split("").join(Xe)):Qe.createElement("span",null,ct):(0,q.M2)(ct)?Qe.createElement("span",null,ct):ct}function Ve(ct,bt){let Xe=!1;const jt=[];return Qe.Children.forEach(ct,vt=>{const Mt=typeof vt,Ut=Mt==="string"||Mt==="number";if(Xe&&Ut){const Vt=jt.length-1,yr=jt[Vt];jt[Vt]=`${yr}${vt}`}else jt.push(vt);Xe=Ut}),Qe.Children.map(jt,vt=>te(vt,bt))}const Ie=null,Ue=null,tt=null,ot=null,Je=["default","primary","danger"].concat((0,a.Z)(c.i))},11869:function(Ir,Ft,B){"use strict";B.d(Ft,{ZP:function(){return Mn}});var a=B(75271),Qe=B(82187),q=B.n(Qe),c=B(18051),be=B(42684),We=B(54070),De=B(98446),Te=B(98472),ye=B(95741),te=B(23137),Ve=B(67699),Ie=function(Ee,dn){var br={};for(var rr in Ee)Object.prototype.hasOwnProperty.call(Ee,rr)&&dn.indexOf(rr)<0&&(br[rr]=Ee[rr]);if(Ee!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Yr=0,rr=Object.getOwnPropertySymbols(Ee);Yr<rr.length;Yr++)dn.indexOf(rr[Yr])<0&&Object.prototype.propertyIsEnumerable.call(Ee,rr[Yr])&&(br[rr[Yr]]=Ee[rr[Yr]]);return br};const Ue=a.createContext(void 0);var ot=Ee=>{const{getPrefixCls:dn,direction:br}=a.useContext(De.E_),{prefixCls:rr,size:Yr,className:Mi}=Ee,Wi=Ie(Ee,["prefixCls","size","className"]),Bi=dn("btn-group",rr),[,,Di]=(0,Ve.ZP)(),Re=a.useMemo(()=>{switch(Yr){case"large":return"lg";case"small":return"sm";default:return""}},[Yr]),de=q()(Bi,{[`${Bi}-${Re}`]:Re,[`${Bi}-rtl`]:br==="rtl"},Mi,Di);return a.createElement(Ue.Provider,{value:Yr},a.createElement("div",Object.assign({},Wi,{className:de})))},Je=B(42115),ct=B(24573),bt=B(62803),jt=(0,a.forwardRef)((Ee,dn)=>{const{className:br,style:rr,children:Yr,prefixCls:Mi}=Ee,Wi=q()(`${Mi}-icon`,br);return a.createElement("span",{ref:dn,className:Wi,style:rr},Yr)});const vt=(0,a.forwardRef)((Ee,dn)=>{const{prefixCls:br,className:rr,style:Yr,iconClassName:Mi}=Ee,Wi=q()(`${br}-loading-icon`,rr);return a.createElement(jt,{prefixCls:br,className:Wi,style:Yr,ref:dn},a.createElement(ct.Z,{className:Mi}))}),Mt=()=>({width:0,opacity:0,transform:"scale(0)"}),Ut=Ee=>({width:Ee.scrollWidth,opacity:1,transform:"scale(1)"});var yr=Ee=>{const{prefixCls:dn,loading:br,existIcon:rr,className:Yr,style:Mi,mount:Wi}=Ee,Bi=!!br;return rr?a.createElement(vt,{prefixCls:dn,className:Yr,style:Mi}):a.createElement(bt.ZP,{visible:Bi,motionName:`${dn}-loading-icon-motion`,motionAppear:!Wi,motionEnter:!Wi,motionLeave:!Wi,removeOnLeave:!0,onAppearStart:Mt,onAppearActive:Ut,onEnterStart:Mt,onEnterActive:Ut,onLeaveStart:Ut,onLeaveActive:Mt},(Di,Re)=>{let{className:de,style:Y}=Di;const Ze=Object.assign(Object.assign({},Mi),Y);return a.createElement(vt,{prefixCls:dn,className:q()(Yr,de),style:Ze,ref:Re})})},lr=B(55921),Xn=B(34299),Ge=B(98990),Ht=B(83509),un=B(84825);const Xt=(Ee,dn)=>({[`> span, > ${Ee}`]:{"&:not(:last-child)":{[`&, & > ${Ee}`]:{"&:not(:disabled)":{borderInlineEndColor:dn}}},"&:not(:first-child)":{[`&, & > ${Ee}`]:{"&:not(:disabled)":{borderInlineStartColor:dn}}}}});var zn=Ee=>{const{componentCls:dn,fontSize:br,lineWidth:rr,groupBorderColor:Yr,colorErrorHover:Mi}=Ee;return{[`${dn}-group`]:[{position:"relative",display:"inline-flex",[`> span, > ${dn}`]:{"&:not(:last-child)":{[`&, & > ${dn}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},"&:not(:first-child)":{marginInlineStart:Ee.calc(rr).mul(-1).equal(),[`&, & > ${dn}`]:{borderStartStartRadius:0,borderEndStartRadius:0}}},[dn]:{position:"relative",zIndex:1,"&:hover, &:focus, &:active":{zIndex:2},"&[disabled]":{zIndex:0}},[`${dn}-icon-only`]:{fontSize:br}},Xt(`${dn}-primary`,Yr),Xt(`${dn}-danger`,Mi)]}},mn=B(82227),Rn=B(29230),ut=B(78611),Jt=B(58570);const Cn=Ee=>{const{paddingInline:dn,onlyIconSize:br}=Ee;return(0,Ht.IX)(Ee,{buttonPaddingHorizontal:dn,buttonPaddingVertical:0,buttonIconOnlyFontSize:br})},he=Ee=>{var dn,br,rr,Yr,Mi,Wi;const Bi=(dn=Ee.contentFontSize)!==null&&dn!==void 0?dn:Ee.fontSize,Di=(br=Ee.contentFontSizeSM)!==null&&br!==void 0?br:Ee.fontSize,Re=(rr=Ee.contentFontSizeLG)!==null&&rr!==void 0?rr:Ee.fontSizeLG,de=(Yr=Ee.contentLineHeight)!==null&&Yr!==void 0?Yr:(0,ut.D)(Bi),Y=(Mi=Ee.contentLineHeightSM)!==null&&Mi!==void 0?Mi:(0,ut.D)(Di),Ze=(Wi=Ee.contentLineHeightLG)!==null&&Wi!==void 0?Wi:(0,ut.D)(Re),pe=(0,Rn.U)(new mn.y9(Ee.colorBgSolid),"#fff")?"#000":"#fff",nt=Ge.i.reduce((rt,tn)=>Object.assign(Object.assign({},rt),{[`${tn}ShadowColor`]:`0 ${(0,lr.bf)(Ee.controlOutlineWidth)} 0 ${(0,Jt.Z)(Ee[`${tn}1`],Ee.colorBgContainer)}`}),{});return Object.assign(Object.assign({},nt),{fontWeight:400,defaultShadow:`0 ${Ee.controlOutlineWidth}px 0 ${Ee.controlTmpOutline}`,primaryShadow:`0 ${Ee.controlOutlineWidth}px 0 ${Ee.controlOutline}`,dangerShadow:`0 ${Ee.controlOutlineWidth}px 0 ${Ee.colorErrorOutline}`,primaryColor:Ee.colorTextLightSolid,dangerColor:Ee.colorTextLightSolid,borderColorDisabled:Ee.colorBorder,defaultGhostColor:Ee.colorBgContainer,ghostBg:"transparent",defaultGhostBorderColor:Ee.colorBgContainer,paddingInline:Ee.paddingContentHorizontal-Ee.lineWidth,paddingInlineLG:Ee.paddingContentHorizontal-Ee.lineWidth,paddingInlineSM:8-Ee.lineWidth,onlyIconSize:"inherit",onlyIconSizeSM:"inherit",onlyIconSizeLG:"inherit",groupBorderColor:Ee.colorPrimaryHover,linkHoverBg:"transparent",textTextColor:Ee.colorText,textTextHoverColor:Ee.colorText,textTextActiveColor:Ee.colorText,textHoverBg:Ee.colorFillTertiary,defaultColor:Ee.colorText,defaultBg:Ee.colorBgContainer,defaultBorderColor:Ee.colorBorder,defaultBorderColorDisabled:Ee.colorBorder,defaultHoverBg:Ee.colorBgContainer,defaultHoverColor:Ee.colorPrimaryHover,defaultHoverBorderColor:Ee.colorPrimaryHover,defaultActiveBg:Ee.colorBgContainer,defaultActiveColor:Ee.colorPrimaryActive,defaultActiveBorderColor:Ee.colorPrimaryActive,solidTextColor:pe,contentFontSize:Bi,contentFontSizeSM:Di,contentFontSizeLG:Re,contentLineHeight:de,contentLineHeightSM:Y,contentLineHeightLG:Ze,paddingBlock:Math.max((Ee.controlHeight-Bi*de)/2-Ee.lineWidth,0),paddingBlockSM:Math.max((Ee.controlHeightSM-Di*Y)/2-Ee.lineWidth,0),paddingBlockLG:Math.max((Ee.controlHeightLG-Re*Ze)/2-Ee.lineWidth,0)})},Qt=Ee=>{const{componentCls:dn,iconCls:br,fontWeight:rr,opacityLoading:Yr,motionDurationSlow:Mi,motionEaseInOut:Wi,marginXS:Bi,calc:Di}=Ee;return{[dn]:{outline:"none",position:"relative",display:"inline-flex",gap:Ee.marginXS,alignItems:"center",justifyContent:"center",fontWeight:rr,whiteSpace:"nowrap",textAlign:"center",backgroundImage:"none",background:"transparent",border:`${(0,lr.bf)(Ee.lineWidth)} ${Ee.lineType} transparent`,cursor:"pointer",transition:`all ${Ee.motionDurationMid} ${Ee.motionEaseInOut}`,userSelect:"none",touchAction:"manipulation",color:Ee.colorText,"&:disabled > *":{pointerEvents:"none"},[`${dn}-icon > svg`]:(0,Xn.Ro)(),"> a":{color:"currentColor"},"&:not(:disabled)":(0,Xn.Qy)(Ee),[`&${dn}-two-chinese-chars::first-letter`]:{letterSpacing:"0.34em"},[`&${dn}-two-chinese-chars > *:not(${br})`]:{marginInlineEnd:"-0.34em",letterSpacing:"0.34em"},[`&${dn}-icon-only`]:{paddingInline:0,[`&${dn}-compact-item`]:{flex:"none"},[`&${dn}-round`]:{width:"auto"}},[`&${dn}-loading`]:{opacity:Yr,cursor:"default"},[`${dn}-loading-icon`]:{transition:["width","opacity","margin"].map(Re=>`${Re} ${Mi} ${Wi}`).join(",")},[`&:not(${dn}-icon-end)`]:{[`${dn}-loading-icon-motion`]:{"&-appear-start, &-enter-start":{marginInlineEnd:Di(Bi).mul(-1).equal()},"&-appear-active, &-enter-active":{marginInlineEnd:0},"&-leave-start":{marginInlineEnd:0},"&-leave-active":{marginInlineEnd:Di(Bi).mul(-1).equal()}}},"&-icon-end":{flexDirection:"row-reverse",[`${dn}-loading-icon-motion`]:{"&-appear-start, &-enter-start":{marginInlineStart:Di(Bi).mul(-1).equal()},"&-appear-active, &-enter-active":{marginInlineStart:0},"&-leave-start":{marginInlineStart:0},"&-leave-active":{marginInlineStart:Di(Bi).mul(-1).equal()}}}}}},xi=(Ee,dn,br)=>({[`&:not(:disabled):not(${Ee}-disabled)`]:{"&:hover":dn,"&:active":br}}),ui=Ee=>({minWidth:Ee.controlHeight,paddingInlineStart:0,paddingInlineEnd:0,borderRadius:"50%"}),Ae=Ee=>({borderRadius:Ee.controlHeight,paddingInlineStart:Ee.calc(Ee.controlHeight).div(2).equal(),paddingInlineEnd:Ee.calc(Ee.controlHeight).div(2).equal()}),An=Ee=>({cursor:"not-allowed",borderColor:Ee.borderColorDisabled,color:Ee.colorTextDisabled,background:Ee.colorBgContainerDisabled,boxShadow:"none"}),Ur=(Ee,dn,br,rr,Yr,Mi,Wi,Bi)=>({[`&${Ee}-background-ghost`]:Object.assign(Object.assign({color:br||void 0,background:dn,borderColor:rr||void 0,boxShadow:"none"},xi(Ee,Object.assign({background:dn},Wi),Object.assign({background:dn},Bi))),{"&:disabled":{cursor:"not-allowed",color:Yr||void 0,borderColor:Mi||void 0}})}),Jr=Ee=>({[`&:disabled, &${Ee.componentCls}-disabled`]:Object.assign({},An(Ee))}),On=Ee=>({[`&:disabled, &${Ee.componentCls}-disabled`]:{cursor:"not-allowed",color:Ee.colorTextDisabled}}),Kr=(Ee,dn,br,rr)=>{const Mi=rr&&["link","text"].includes(rr)?On:Jr;return Object.assign(Object.assign({},Mi(Ee)),xi(Ee.componentCls,dn,br))},Ti=(Ee,dn,br,rr,Yr)=>({[`&${Ee.componentCls}-variant-solid`]:Object.assign({color:dn,background:br},Kr(Ee,rr,Yr))}),fr=(Ee,dn,br,rr,Yr)=>({[`&${Ee.componentCls}-variant-outlined, &${Ee.componentCls}-variant-dashed`]:Object.assign({borderColor:dn,background:br},Kr(Ee,rr,Yr))}),it=Ee=>({[`&${Ee.componentCls}-variant-dashed`]:{borderStyle:"dashed"}}),Ot=(Ee,dn,br,rr)=>({[`&${Ee.componentCls}-variant-filled`]:Object.assign({boxShadow:"none",background:dn},Kr(Ee,br,rr))}),Dn=(Ee,dn,br,rr,Yr)=>({[`&${Ee.componentCls}-variant-${br}`]:Object.assign({color:dn,boxShadow:"none"},Kr(Ee,rr,Yr,br))}),pn=Ee=>{const{componentCls:dn}=Ee;return Ge.i.reduce((br,rr)=>{const Yr=Ee[`${rr}6`],Mi=Ee[`${rr}1`],Wi=Ee[`${rr}5`],Bi=Ee[`${rr}2`],Di=Ee[`${rr}3`],Re=Ee[`${rr}7`];return Object.assign(Object.assign({},br),{[`&${dn}-color-${rr}`]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({color:Yr,boxShadow:Ee[`${rr}ShadowColor`]},Ti(Ee,Ee.colorTextLightSolid,Yr,{background:Wi},{background:Re})),fr(Ee,Yr,Ee.colorBgContainer,{color:Wi,borderColor:Wi,background:Ee.colorBgContainer},{color:Re,borderColor:Re,background:Ee.colorBgContainer})),it(Ee)),Ot(Ee,Mi,{background:Bi},{background:Di})),Dn(Ee,Yr,"link",{color:Wi},{color:Re})),Dn(Ee,Yr,"text",{color:Wi,background:Mi},{color:Re,background:Di}))})},{})},gn=Ee=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({color:Ee.defaultColor,boxShadow:Ee.defaultShadow},Ti(Ee,Ee.solidTextColor,Ee.colorBgSolid,{color:Ee.solidTextColor,background:Ee.colorBgSolidHover},{color:Ee.solidTextColor,background:Ee.colorBgSolidActive})),it(Ee)),Ot(Ee,Ee.colorFillTertiary,{background:Ee.colorFillSecondary},{background:Ee.colorFill})),Ur(Ee.componentCls,Ee.ghostBg,Ee.defaultGhostColor,Ee.defaultGhostBorderColor,Ee.colorTextDisabled,Ee.colorBorder)),Dn(Ee,Ee.textTextColor,"link",{color:Ee.colorLinkHover,background:Ee.linkHoverBg},{color:Ee.colorLinkActive})),wr=Ee=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({color:Ee.colorPrimary,boxShadow:Ee.primaryShadow},fr(Ee,Ee.colorPrimary,Ee.colorBgContainer,{color:Ee.colorPrimaryTextHover,borderColor:Ee.colorPrimaryHover,background:Ee.colorBgContainer},{color:Ee.colorPrimaryTextActive,borderColor:Ee.colorPrimaryActive,background:Ee.colorBgContainer})),it(Ee)),Ot(Ee,Ee.colorPrimaryBg,{background:Ee.colorPrimaryBgHover},{background:Ee.colorPrimaryBorder})),Dn(Ee,Ee.colorPrimaryText,"text",{color:Ee.colorPrimaryTextHover,background:Ee.colorPrimaryBg},{color:Ee.colorPrimaryTextActive,background:Ee.colorPrimaryBorder})),Dn(Ee,Ee.colorPrimaryText,"link",{color:Ee.colorPrimaryTextHover,background:Ee.linkHoverBg},{color:Ee.colorPrimaryTextActive})),Ur(Ee.componentCls,Ee.ghostBg,Ee.colorPrimary,Ee.colorPrimary,Ee.colorTextDisabled,Ee.colorBorder,{color:Ee.colorPrimaryHover,borderColor:Ee.colorPrimaryHover},{color:Ee.colorPrimaryActive,borderColor:Ee.colorPrimaryActive})),Hn=Ee=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({color:Ee.colorError,boxShadow:Ee.dangerShadow},Ti(Ee,Ee.dangerColor,Ee.colorError,{background:Ee.colorErrorHover},{background:Ee.colorErrorActive})),fr(Ee,Ee.colorError,Ee.colorBgContainer,{color:Ee.colorErrorHover,borderColor:Ee.colorErrorBorderHover},{color:Ee.colorErrorActive,borderColor:Ee.colorErrorActive})),it(Ee)),Ot(Ee,Ee.colorErrorBg,{background:Ee.colorErrorBgFilledHover},{background:Ee.colorErrorBgActive})),Dn(Ee,Ee.colorError,"text",{color:Ee.colorErrorHover,background:Ee.colorErrorBg},{color:Ee.colorErrorHover,background:Ee.colorErrorBgActive})),Dn(Ee,Ee.colorError,"link",{color:Ee.colorErrorHover},{color:Ee.colorErrorActive})),Ur(Ee.componentCls,Ee.ghostBg,Ee.colorError,Ee.colorError,Ee.colorTextDisabled,Ee.colorBorder,{color:Ee.colorErrorHover,borderColor:Ee.colorErrorHover},{color:Ee.colorErrorActive,borderColor:Ee.colorErrorActive})),oi=Ee=>Object.assign(Object.assign({},Dn(Ee,Ee.colorLink,"link",{color:Ee.colorLinkHover},{color:Ee.colorLinkActive})),Ur(Ee.componentCls,Ee.ghostBg,Ee.colorInfo,Ee.colorInfo,Ee.colorTextDisabled,Ee.colorBorder,{color:Ee.colorInfoHover,borderColor:Ee.colorInfoHover},{color:Ee.colorInfoActive,borderColor:Ee.colorInfoActive})),pi=Ee=>{const{componentCls:dn}=Ee;return Object.assign({[`${dn}-color-default`]:gn(Ee),[`${dn}-color-primary`]:wr(Ee),[`${dn}-color-dangerous`]:Hn(Ee),[`${dn}-color-link`]:oi(Ee)},pn(Ee))},ri=Ee=>Object.assign(Object.assign(Object.assign(Object.assign({},fr(Ee,Ee.defaultBorderColor,Ee.defaultBg,{color:Ee.defaultHoverColor,borderColor:Ee.defaultHoverBorderColor,background:Ee.defaultHoverBg},{color:Ee.defaultActiveColor,borderColor:Ee.defaultActiveBorderColor,background:Ee.defaultActiveBg})),Dn(Ee,Ee.textTextColor,"text",{color:Ee.textTextHoverColor,background:Ee.textHoverBg},{color:Ee.textTextActiveColor,background:Ee.colorBgTextActive})),Ti(Ee,Ee.primaryColor,Ee.colorPrimary,{background:Ee.colorPrimaryHover,color:Ee.primaryColor},{background:Ee.colorPrimaryActive,color:Ee.primaryColor})),Dn(Ee,Ee.colorLink,"link",{color:Ee.colorLinkHover,background:Ee.linkHoverBg},{color:Ee.colorLinkActive})),ni=function(Ee){let dn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const{componentCls:br,controlHeight:rr,fontSize:Yr,borderRadius:Mi,buttonPaddingHorizontal:Wi,iconCls:Bi,buttonPaddingVertical:Di,buttonIconOnlyFontSize:Re}=Ee;return[{[dn]:{fontSize:Yr,height:rr,padding:`${(0,lr.bf)(Di)} ${(0,lr.bf)(Wi)}`,borderRadius:Mi,[`&${br}-icon-only`]:{width:rr,[Bi]:{fontSize:Re}}}},{[`${br}${br}-circle${dn}`]:ui(Ee)},{[`${br}${br}-round${dn}`]:Ae(Ee)}]},Cr=Ee=>{const dn=(0,Ht.IX)(Ee,{fontSize:Ee.contentFontSize});return ni(dn,Ee.componentCls)},qn=Ee=>{const dn=(0,Ht.IX)(Ee,{controlHeight:Ee.controlHeightSM,fontSize:Ee.contentFontSizeSM,padding:Ee.paddingXS,buttonPaddingHorizontal:Ee.paddingInlineSM,buttonPaddingVertical:0,borderRadius:Ee.borderRadiusSM,buttonIconOnlyFontSize:Ee.onlyIconSizeSM});return ni(dn,`${Ee.componentCls}-sm`)},_r=Ee=>{const dn=(0,Ht.IX)(Ee,{controlHeight:Ee.controlHeightLG,fontSize:Ee.contentFontSizeLG,buttonPaddingHorizontal:Ee.paddingInlineLG,buttonPaddingVertical:0,borderRadius:Ee.borderRadiusLG,buttonIconOnlyFontSize:Ee.onlyIconSizeLG});return ni(dn,`${Ee.componentCls}-lg`)},Pr=Ee=>{const{componentCls:dn}=Ee;return{[dn]:{[`&${dn}-block`]:{width:"100%"}}}};var Tr=(0,un.I$)("Button",Ee=>{const dn=Cn(Ee);return[Qt(dn),Cr(dn),qn(dn),_r(dn),Pr(dn),pi(dn),ri(dn),zn(dn)]},he,{unitless:{fontWeight:!0,contentLineHeight:!0,contentLineHeightSM:!0,contentLineHeightLG:!0}}),ei=B(9288);function ar(Ee,dn){return{[`&-item:not(${dn}-last-item)`]:{marginBottom:Ee.calc(Ee.lineWidth).mul(-1).equal()},"&-item":{"&:hover,&:focus,&:active":{zIndex:2},"&[disabled]":{zIndex:0}}}}function mr(Ee,dn){return{[`&-item:not(${dn}-first-item):not(${dn}-last-item)`]:{borderRadius:0},[`&-item${dn}-first-item:not(${dn}-last-item)`]:{[`&, &${Ee}-sm, &${Ee}-lg`]:{borderEndEndRadius:0,borderEndStartRadius:0}},[`&-item${dn}-last-item:not(${dn}-first-item)`]:{[`&, &${Ee}-sm, &${Ee}-lg`]:{borderStartStartRadius:0,borderStartEndRadius:0}}}}function ii(Ee){const dn=`${Ee.componentCls}-compact-vertical`;return{[dn]:Object.assign(Object.assign({},ar(Ee,dn)),mr(Ee.componentCls,dn))}}const Wn=Ee=>{const{componentCls:dn,colorPrimaryHover:br,lineWidth:rr,calc:Yr}=Ee,Mi=Yr(rr).mul(-1).equal(),Wi=Bi=>{const Di=`${dn}-compact${Bi?"-vertical":""}-item${dn}-primary:not([disabled])`;return{[`${Di} + ${Di}::before`]:{position:"absolute",top:Bi?Mi:0,insetInlineStart:Bi?0:Mi,backgroundColor:br,content:'""',width:Bi?"100%":rr,height:Bi?rr:"100%"}}};return Object.assign(Object.assign({},Wi()),Wi(!0))};var di=(0,un.bk)(["Button","compact"],Ee=>{const dn=Cn(Ee);return[(0,ei.c)(dn),ii(dn),Wn(dn)]},he),Ci=function(Ee,dn){var br={};for(var rr in Ee)Object.prototype.hasOwnProperty.call(Ee,rr)&&dn.indexOf(rr)<0&&(br[rr]=Ee[rr]);if(Ee!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Yr=0,rr=Object.getOwnPropertySymbols(Ee);Yr<rr.length;Yr++)dn.indexOf(rr[Yr])<0&&Object.prototype.propertyIsEnumerable.call(Ee,rr[Yr])&&(br[rr[Yr]]=Ee[rr[Yr]]);return br};function eo(Ee){if(typeof Ee=="object"&&Ee){let dn=Ee==null?void 0:Ee.delay;return dn=!Number.isNaN(dn)&&typeof dn=="number"?dn:0,{loading:dn<=0,delay:dn}}return{loading:!!Ee,delay:0}}const Io={default:["default","outlined"],primary:["primary","solid"],dashed:["default","dashed"],link:["link","link"],text:["default","text"]},oo=a.forwardRef((Ee,dn)=>{var br,rr;const{loading:Yr=!1,prefixCls:Mi,color:Wi,variant:Bi,type:Di,danger:Re=!1,shape:de="default",size:Y,styles:Ze,disabled:pe,className:nt,rootClassName:rt,children:tn,icon:$t,iconPosition:ln="start",ghost:vn=!1,block:et=!1,htmlType:Rt="button",classNames:Kt,style:rn={},autoInsertSpace:dt,autoFocus:at}=Ee,Sn=Ci(Ee,["loading","prefixCls","color","variant","type","danger","shape","size","styles","disabled","className","rootClassName","children","icon","iconPosition","ghost","block","htmlType","classNames","style","autoInsertSpace","autoFocus"]),bn=Di||"default",[Gn,or]=(0,a.useMemo)(()=>{if(Wi&&Bi)return[Wi,Bi];const ai=Io[bn]||[];return Re?["danger",ai[1]]:ai},[Di,Wi,Bi,Re]),Fr=Gn==="danger"?"dangerous":Gn,{getPrefixCls:hi,direction:Hr,autoInsertSpace:to,className:gt,style:wn,classNames:qt,styles:Nn}=(0,De.dj)("button"),sr=(br=dt!=null?dt:to)!==null&&br!==void 0?br:!0,Wr=hi("btn",Mi),[Pi,Co,Vi]=Tr(Wr),uo=(0,a.useContext)(Te.Z),fo=pe!=null?pe:uo,Ki=(0,a.useContext)(Ue),Mo=(0,a.useMemo)(()=>eo(Yr),[Yr]),[Zo,Lo]=(0,a.useState)(Mo.loading),[To,$o]=(0,a.useState)(!1),zo=(0,a.useRef)(null),qo=(0,be.x1)(dn,zo),ho=a.Children.count(tn)===1&&!$t&&!(0,Je.Dn)(or),So=(0,a.useRef)(!0);a.useEffect(()=>(So.current=!1,()=>{So.current=!0}),[]),(0,a.useEffect)(()=>{let ai=null;Mo.delay>0?ai=setTimeout(()=>{ai=null,Lo(!0)},Mo.delay):Lo(Mo.loading);function mi(){ai&&(clearTimeout(ai),ai=null)}return mi},[Mo]),(0,a.useEffect)(()=>{if(!zo.current||!sr)return;const ai=zo.current.textContent||"";ho&&(0,Je.aG)(ai)?To||$o(!0):To&&$o(!1)}),(0,a.useEffect)(()=>{at&&zo.current&&zo.current.focus()},[]);const wo=a.useCallback(ai=>{var mi;if(Zo||fo){ai.preventDefault();return}(mi=Ee.onClick)===null||mi===void 0||mi.call(Ee,("href"in Ee,ai))},[Ee.onClick,Zo,fo]),{compactSize:K,compactItemClassnames:_e}=(0,te.ri)(Wr,Hr),Ct={large:"lg",small:"sm",middle:void 0},Et=(0,ye.Z)(ai=>{var mi,Xo;return(Xo=(mi=Y!=null?Y:K)!==null&&mi!==void 0?mi:Ki)!==null&&Xo!==void 0?Xo:ai}),En=Et&&(rr=Ct[Et])!==null&&rr!==void 0?rr:"",Qn=Zo?"loading":$t,si=(0,c.Z)(Sn,["navigate"]),Or=q()(Wr,Co,Vi,{[`${Wr}-${de}`]:de!=="default"&&de,[`${Wr}-${bn}`]:bn,[`${Wr}-dangerous`]:Re,[`${Wr}-color-${Fr}`]:Fr,[`${Wr}-variant-${or}`]:or,[`${Wr}-${En}`]:En,[`${Wr}-icon-only`]:!tn&&tn!==0&&!!Qn,[`${Wr}-background-ghost`]:vn&&!(0,Je.Dn)(or),[`${Wr}-loading`]:Zo,[`${Wr}-two-chinese-chars`]:To&&sr&&!Zo,[`${Wr}-block`]:et,[`${Wr}-rtl`]:Hr==="rtl",[`${Wr}-icon-end`]:ln==="end"},_e,nt,rt,gt),Ri=Object.assign(Object.assign({},wn),rn),_o=q()(Kt==null?void 0:Kt.icon,qt.icon),Lr=Object.assign(Object.assign({},(Ze==null?void 0:Ze.icon)||{}),Nn.icon||{}),Ji=$t&&!Zo?a.createElement(jt,{prefixCls:Wr,className:_o,style:Lr},$t):Yr&&typeof Yr=="object"&&Yr.icon?a.createElement(jt,{prefixCls:Wr,className:_o,style:Lr},Yr.icon):a.createElement(yr,{existIcon:!!$t,prefixCls:Wr,loading:Zo,mount:So.current}),zr=tn||tn===0?(0,Je.hU)(tn,ho&&sr):null;if(si.href!==void 0)return Pi(a.createElement("a",Object.assign({},si,{className:q()(Or,{[`${Wr}-disabled`]:fo}),href:fo?void 0:si.href,style:Ri,onClick:wo,ref:qo,tabIndex:fo?-1:0}),Ji,zr));let Si=a.createElement("button",Object.assign({},Sn,{type:Rt,className:Or,style:Ri,onClick:wo,disabled:fo,ref:qo}),Ji,zr,_e&&a.createElement(di,{prefixCls:Wr}));return(0,Je.Dn)(or)||(Si=a.createElement(We.Z,{component:"Button",disabled:Zo},Si)),Pi(Si)});oo.Group=ot,oo.__ANT_BUTTON=!0;var nn=oo,Mn=nn},40859:function(Ir,Ft,B){"use strict";var a=B(58492);Ft.Z=a.Z},59527:function(Ir,Ft,B){"use strict";B.d(Ft,{Z:function(){return q}});var a=B(75271),Qe=B(49975);function q(c){const be=a.useRef(null),We=()=>{Qe.Z.cancel(be.current),be.current=null};return[()=>{We(),be.current=(0,Qe.Z)(()=>{be.current=null})},ye=>{be.current&&(ye.stopPropagation(),We()),c==null||c(ye)}]}},62023:function(Ir,Ft,B){"use strict";B.d(Ft,{Z:function(){return Dn}});var a=B(75271),Qe=B(27806),q=B(82187),c=B.n(q),be=B(23022),We=B(46865),De=B(89692),Te=B(5147),ye=B(93954),te=B(4449),Ve=B(58190),Ie=B(81626),Ue=B(54153),tt=B(38926),ot=B(62803),Je=B(14583),ct=a.forwardRef(function(pn,gn){var wr=pn.prefixCls,Hn=pn.forceRender,oi=pn.className,pi=pn.style,ri=pn.children,ni=pn.isActive,Cr=pn.role,qn=pn.classNames,_r=pn.styles,Pr=a.useState(ni||Hn),Tr=(0,De.Z)(Pr,2),ei=Tr[0],ar=Tr[1];return a.useEffect(function(){(Hn||ni)&&ar(!0)},[Hn,ni]),ei?a.createElement("div",{ref:gn,className:c()("".concat(wr,"-content"),(0,tt.Z)((0,tt.Z)({},"".concat(wr,"-content-active"),ni),"".concat(wr,"-content-inactive"),!ni),oi),style:pi,role:Cr},a.createElement("div",{className:c()("".concat(wr,"-content-box"),qn==null?void 0:qn.body),style:_r==null?void 0:_r.body},ri)):null});ct.displayName="PanelContent";var bt=ct,Xe=["showArrow","headerClass","isActive","onItemClick","forceRender","className","classNames","styles","prefixCls","collapsible","accordion","panelKey","extra","header","expandIcon","openMotion","destroyInactivePanel","children"],jt=a.forwardRef(function(pn,gn){var wr=pn.showArrow,Hn=wr===void 0?!0:wr,oi=pn.headerClass,pi=pn.isActive,ri=pn.onItemClick,ni=pn.forceRender,Cr=pn.className,qn=pn.classNames,_r=qn===void 0?{}:qn,Pr=pn.styles,Tr=Pr===void 0?{}:Pr,ei=pn.prefixCls,ar=pn.collapsible,mr=pn.accordion,ii=pn.panelKey,Wn=pn.extra,di=pn.header,Ci=pn.expandIcon,eo=pn.openMotion,Io=pn.destroyInactivePanel,ci=pn.children,oo=(0,Ve.Z)(pn,Xe),nn=ar==="disabled",Mn=Wn!=null&&typeof Wn!="boolean",Ee=(0,tt.Z)((0,tt.Z)((0,tt.Z)({onClick:function(){ri==null||ri(ii)},onKeyDown:function(Bi){(Bi.key==="Enter"||Bi.keyCode===Je.Z.ENTER||Bi.which===Je.Z.ENTER)&&(ri==null||ri(ii))},role:mr?"tab":"button"},"aria-expanded",pi),"aria-disabled",nn),"tabIndex",nn?-1:0),dn=typeof Ci=="function"?Ci(pn):a.createElement("i",{className:"arrow"}),br=dn&&a.createElement("div",(0,be.Z)({className:"".concat(ei,"-expand-icon")},["header","icon"].includes(ar)?Ee:{}),dn),rr=c()("".concat(ei,"-item"),(0,tt.Z)((0,tt.Z)({},"".concat(ei,"-item-active"),pi),"".concat(ei,"-item-disabled"),nn),Cr),Yr=c()(oi,"".concat(ei,"-header"),(0,tt.Z)({},"".concat(ei,"-collapsible-").concat(ar),!!ar),_r.header),Mi=(0,Ue.Z)({className:Yr,style:Tr.header},["header","icon"].includes(ar)?{}:Ee);return a.createElement("div",(0,be.Z)({},oo,{ref:gn,className:rr}),a.createElement("div",Mi,Hn&&br,a.createElement("span",(0,be.Z)({className:"".concat(ei,"-header-text")},ar==="header"?Ee:{}),di),Mn&&a.createElement("div",{className:"".concat(ei,"-extra")},Wn)),a.createElement(ot.ZP,(0,be.Z)({visible:pi,leavedClassName:"".concat(ei,"-content-hidden")},eo,{forceRender:ni,removeOnLeave:Io}),function(Wi,Bi){var Di=Wi.className,Re=Wi.style;return a.createElement(bt,{ref:Bi,prefixCls:ei,className:Di,classNames:_r,style:Re,styles:Tr,isActive:pi,forceRender:ni,role:mr?"tabpanel":void 0},ci)}))}),vt=jt,Mt=["children","label","key","collapsible","onItemClick","destroyInactivePanel"],Ut=function(gn,wr){var Hn=wr.prefixCls,oi=wr.accordion,pi=wr.collapsible,ri=wr.destroyInactivePanel,ni=wr.onItemClick,Cr=wr.activeKey,qn=wr.openMotion,_r=wr.expandIcon;return gn.map(function(Pr,Tr){var ei=Pr.children,ar=Pr.label,mr=Pr.key,ii=Pr.collapsible,Wn=Pr.onItemClick,di=Pr.destroyInactivePanel,Ci=(0,Ve.Z)(Pr,Mt),eo=String(mr!=null?mr:Tr),Io=ii!=null?ii:pi,ci=di!=null?di:ri,oo=function(Ee){Io!=="disabled"&&(ni(Ee),Wn==null||Wn(Ee))},nn=!1;return oi?nn=Cr[0]===eo:nn=Cr.indexOf(eo)>-1,a.createElement(vt,(0,be.Z)({},Ci,{prefixCls:Hn,key:eo,panelKey:eo,isActive:nn,accordion:oi,openMotion:qn,expandIcon:_r,header:ar,collapsible:Io,onItemClick:oo,destroyInactivePanel:ci}),ei)})},Vt=function(gn,wr,Hn){if(!gn)return null;var oi=Hn.prefixCls,pi=Hn.accordion,ri=Hn.collapsible,ni=Hn.destroyInactivePanel,Cr=Hn.onItemClick,qn=Hn.activeKey,_r=Hn.openMotion,Pr=Hn.expandIcon,Tr=gn.key||String(wr),ei=gn.props,ar=ei.header,mr=ei.headerClass,ii=ei.destroyInactivePanel,Wn=ei.collapsible,di=ei.onItemClick,Ci=!1;pi?Ci=qn[0]===Tr:Ci=qn.indexOf(Tr)>-1;var eo=Wn!=null?Wn:ri,Io=function(nn){eo!=="disabled"&&(Cr(nn),di==null||di(nn))},ci={key:Tr,panelKey:Tr,header:ar,headerClass:mr,isActive:Ci,prefixCls:oi,destroyInactivePanel:ii!=null?ii:ni,openMotion:_r,accordion:pi,children:gn.props.children,onItemClick:Io,expandIcon:Pr,collapsible:eo};return typeof gn.type=="string"?gn:(Object.keys(ci).forEach(function(oo){typeof ci[oo]=="undefined"&&delete ci[oo]}),a.cloneElement(gn,ci))};function yr(pn,gn,wr){return Array.isArray(pn)?Ut(pn,wr):(0,Ie.Z)(gn).map(function(Hn,oi){return Vt(Hn,oi,wr)})}var lr=yr,Xn=B(71305);function Ge(pn){var gn=pn;if(!Array.isArray(gn)){var wr=(0,Te.Z)(gn);gn=wr==="number"||wr==="string"?[gn]:[]}return gn.map(function(Hn){return String(Hn)})}var Ht=a.forwardRef(function(pn,gn){var wr=pn.prefixCls,Hn=wr===void 0?"rc-collapse":wr,oi=pn.destroyInactivePanel,pi=oi===void 0?!1:oi,ri=pn.style,ni=pn.accordion,Cr=pn.className,qn=pn.children,_r=pn.collapsible,Pr=pn.openMotion,Tr=pn.expandIcon,ei=pn.activeKey,ar=pn.defaultActiveKey,mr=pn.onChange,ii=pn.items,Wn=c()(Hn,Cr),di=(0,ye.Z)([],{value:ei,onChange:function(Mn){return mr==null?void 0:mr(Mn)},defaultValue:ar,postState:Ge}),Ci=(0,De.Z)(di,2),eo=Ci[0],Io=Ci[1],ci=function(Mn){return Io(function(){if(ni)return eo[0]===Mn?[]:[Mn];var Ee=eo.indexOf(Mn),dn=Ee>-1;return dn?eo.filter(function(br){return br!==Mn}):[].concat((0,We.Z)(eo),[Mn])})};(0,te.ZP)(!qn,"[rc-collapse] `children` will be removed in next major version. Please use `items` instead.");var oo=lr(ii,qn,{prefixCls:Hn,accordion:ni,openMotion:Pr,expandIcon:Tr,collapsible:_r,destroyInactivePanel:pi,onItemClick:ci,activeKey:eo});return a.createElement("div",(0,be.Z)({ref:gn,className:Wn,style:ri,role:ni?"tablist":void 0},(0,Xn.Z)(pn,{aria:!0,data:!0})),oo)}),un=Object.assign(Ht,{Panel:vt}),Xt=un,ke=un.Panel,zn=B(18051),mn=B(13635),Rn=B(26021),ut=B(98446),Jt=B(95741),he=a.forwardRef((pn,gn)=>{const{getPrefixCls:wr}=a.useContext(ut.E_),{prefixCls:Hn,className:oi,showArrow:pi=!0}=pn,ri=wr("collapse",Hn),ni=c()({[`${ri}-no-arrow`]:!pi},oi);return a.createElement(Xt.Panel,Object.assign({ref:gn},pn,{prefixCls:ri,className:ni}))}),Qt=B(55921),xi=B(34299),ui=B(40894),Ae=B(84825),An=B(83509);const Ur=pn=>{const{componentCls:gn,contentBg:wr,padding:Hn,headerBg:oi,headerPadding:pi,collapseHeaderPaddingSM:ri,collapseHeaderPaddingLG:ni,collapsePanelBorderRadius:Cr,lineWidth:qn,lineType:_r,colorBorder:Pr,colorText:Tr,colorTextHeading:ei,colorTextDisabled:ar,fontSizeLG:mr,lineHeight:ii,lineHeightLG:Wn,marginSM:di,paddingSM:Ci,paddingLG:eo,paddingXS:Io,motionDurationSlow:ci,fontSizeIcon:oo,contentPadding:nn,fontHeight:Mn,fontHeightLG:Ee}=pn,dn=`${(0,Qt.bf)(qn)} ${_r} ${Pr}`;return{[gn]:Object.assign(Object.assign({},(0,xi.Wf)(pn)),{backgroundColor:oi,border:dn,borderRadius:Cr,"&-rtl":{direction:"rtl"},[`& > ${gn}-item`]:{borderBottom:dn,"&:first-child":{[`
            &,
            & > ${gn}-header`]:{borderRadius:`${(0,Qt.bf)(Cr)} ${(0,Qt.bf)(Cr)} 0 0`}},"&:last-child":{[`
            &,
            & > ${gn}-header`]:{borderRadius:`0 0 ${(0,Qt.bf)(Cr)} ${(0,Qt.bf)(Cr)}`}},[`> ${gn}-header`]:Object.assign(Object.assign({position:"relative",display:"flex",flexWrap:"nowrap",alignItems:"flex-start",padding:pi,color:ei,lineHeight:ii,cursor:"pointer",transition:`all ${ci}, visibility 0s`},(0,xi.Qy)(pn)),{[`> ${gn}-header-text`]:{flex:"auto"},[`${gn}-expand-icon`]:{height:Mn,display:"flex",alignItems:"center",paddingInlineEnd:di},[`${gn}-arrow`]:Object.assign(Object.assign({},(0,xi.Ro)()),{fontSize:oo,transition:`transform ${ci}`,svg:{transition:`transform ${ci}`}}),[`${gn}-header-text`]:{marginInlineEnd:"auto"}}),[`${gn}-collapsible-header`]:{cursor:"default",[`${gn}-header-text`]:{flex:"none",cursor:"pointer"}},[`${gn}-collapsible-icon`]:{cursor:"unset",[`${gn}-expand-icon`]:{cursor:"pointer"}}},[`${gn}-content`]:{color:Tr,backgroundColor:wr,borderTop:dn,[`& > ${gn}-content-box`]:{padding:nn},"&-hidden":{display:"none"}},"&-small":{[`> ${gn}-item`]:{[`> ${gn}-header`]:{padding:ri,paddingInlineStart:Io,[`> ${gn}-expand-icon`]:{marginInlineStart:pn.calc(Ci).sub(Io).equal()}},[`> ${gn}-content > ${gn}-content-box`]:{padding:Ci}}},"&-large":{[`> ${gn}-item`]:{fontSize:mr,lineHeight:Wn,[`> ${gn}-header`]:{padding:ni,paddingInlineStart:Hn,[`> ${gn}-expand-icon`]:{height:Ee,marginInlineStart:pn.calc(eo).sub(Hn).equal()}},[`> ${gn}-content > ${gn}-content-box`]:{padding:eo}}},[`${gn}-item:last-child`]:{borderBottom:0,[`> ${gn}-content`]:{borderRadius:`0 0 ${(0,Qt.bf)(Cr)} ${(0,Qt.bf)(Cr)}`}},[`& ${gn}-item-disabled > ${gn}-header`]:{"\n          &,\n          & > .arrow\n        ":{color:ar,cursor:"not-allowed"}},[`&${gn}-icon-position-end`]:{[`& > ${gn}-item`]:{[`> ${gn}-header`]:{[`${gn}-expand-icon`]:{order:1,paddingInlineEnd:0,paddingInlineStart:di}}}}})}},Jr=pn=>{const{componentCls:gn}=pn,wr=`> ${gn}-item > ${gn}-header ${gn}-arrow`;return{[`${gn}-rtl`]:{[wr]:{transform:"rotate(180deg)"}}}},On=pn=>{const{componentCls:gn,headerBg:wr,paddingXXS:Hn,colorBorder:oi}=pn;return{[`${gn}-borderless`]:{backgroundColor:wr,border:0,[`> ${gn}-item`]:{borderBottom:`1px solid ${oi}`},[`
        > ${gn}-item:last-child,
        > ${gn}-item:last-child ${gn}-header
      `]:{borderRadius:0},[`> ${gn}-item:last-child`]:{borderBottom:0},[`> ${gn}-item > ${gn}-content`]:{backgroundColor:"transparent",borderTop:0},[`> ${gn}-item > ${gn}-content > ${gn}-content-box`]:{paddingTop:Hn}}}},Kr=pn=>{const{componentCls:gn,paddingSM:wr}=pn;return{[`${gn}-ghost`]:{backgroundColor:"transparent",border:0,[`> ${gn}-item`]:{borderBottom:0,[`> ${gn}-content`]:{backgroundColor:"transparent",border:0,[`> ${gn}-content-box`]:{paddingBlock:wr}}}}}},Ti=pn=>({headerPadding:`${pn.paddingSM}px ${pn.padding}px`,headerBg:pn.colorFillAlter,contentPadding:`${pn.padding}px 16px`,contentBg:pn.colorBgContainer});var fr=(0,Ae.I$)("Collapse",pn=>{const gn=(0,An.IX)(pn,{collapseHeaderPaddingSM:`${(0,Qt.bf)(pn.paddingXS)} ${(0,Qt.bf)(pn.paddingSM)}`,collapseHeaderPaddingLG:`${(0,Qt.bf)(pn.padding)} ${(0,Qt.bf)(pn.paddingLG)}`,collapsePanelBorderRadius:pn.borderRadiusLG});return[Ur(gn),On(gn),Kr(gn),Jr(gn),(0,ui.Z)(gn)]},Ti),Ot=Object.assign(a.forwardRef((pn,gn)=>{const{getPrefixCls:wr,direction:Hn,expandIcon:oi,className:pi,style:ri}=(0,ut.dj)("collapse"),{prefixCls:ni,className:Cr,rootClassName:qn,style:_r,bordered:Pr=!0,ghost:Tr,size:ei,expandIconPosition:ar="start",children:mr,expandIcon:ii}=pn,Wn=(0,Jt.Z)(rr=>{var Yr;return(Yr=ei!=null?ei:rr)!==null&&Yr!==void 0?Yr:"middle"}),di=wr("collapse",ni),Ci=wr(),[eo,Io,ci]=fr(di),oo=a.useMemo(()=>ar==="left"?"start":ar==="right"?"end":ar,[ar]),nn=ii!=null?ii:oi,Mn=a.useCallback(function(){let rr=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const Yr=typeof nn=="function"?nn(rr):a.createElement(Qe.Z,{rotate:rr.isActive?Hn==="rtl"?-90:90:void 0,"aria-label":rr.isActive?"expanded":"collapsed"});return(0,Rn.Tm)(Yr,()=>{var Mi;return{className:c()((Mi=Yr==null?void 0:Yr.props)===null||Mi===void 0?void 0:Mi.className,`${di}-arrow`)}})},[nn,di]),Ee=c()(`${di}-icon-position-${oo}`,{[`${di}-borderless`]:!Pr,[`${di}-rtl`]:Hn==="rtl",[`${di}-ghost`]:!!Tr,[`${di}-${Wn}`]:Wn!=="middle"},pi,Cr,qn,Io,ci),dn=Object.assign(Object.assign({},(0,mn.Z)(Ci)),{motionAppear:!1,leavedClassName:`${di}-content-hidden`}),br=a.useMemo(()=>mr?(0,Ie.Z)(mr).map((rr,Yr)=>{var Mi,Wi;const Bi=rr.props;if(Bi!=null&&Bi.disabled){const Di=(Mi=rr.key)!==null&&Mi!==void 0?Mi:String(Yr),Re=Object.assign(Object.assign({},(0,zn.Z)(rr.props,["disabled"])),{key:Di,collapsible:(Wi=Bi.collapsible)!==null&&Wi!==void 0?Wi:"disabled"});return(0,Rn.Tm)(rr,Re)}return rr}):null,[mr]);return eo(a.createElement(Xt,Object.assign({ref:gn,openMotion:dn},(0,zn.Z)(pn,["rootClassName"]),{expandIcon:Mn,prefixCls:di,className:Ee,style:Object.assign(Object.assign({},ri),_r)}),br))}),{Panel:he}),Dn=Ot},82227:function(Ir,Ft,B){"use strict";B.d(Ft,{Ot:function(){return c},y9:function(){return We}});var a=B(59295),Qe=B(45985),q=B(2180);const c=(De,Te)=>(De==null?void 0:De.replace(/[^\w/]/g,"").slice(0,Te?8:6))||"",be=(De,Te)=>De?c(De,Te):"";let We=function(){function De(Te){(0,a.Z)(this,De);var ye;if(this.cleared=!1,Te instanceof De){this.metaColor=Te.metaColor.clone(),this.colors=(ye=Te.colors)===null||ye===void 0?void 0:ye.map(Ve=>({color:new De(Ve.color),percent:Ve.percent})),this.cleared=Te.cleared;return}const te=Array.isArray(Te);te&&Te.length?(this.colors=Te.map(Ve=>{let{color:Ie,percent:Ue}=Ve;return{color:new De(Ie),percent:Ue}}),this.metaColor=new q.Il(this.colors[0].color.metaColor)):this.metaColor=new q.Il(te?"":Te),(!Te||te&&!this.colors)&&(this.metaColor=this.metaColor.setA(0),this.cleared=!0)}return(0,Qe.Z)(De,[{key:"toHsb",value:function(){return this.metaColor.toHsb()}},{key:"toHsbString",value:function(){return this.metaColor.toHsbString()}},{key:"toHex",value:function(){return be(this.toHexString(),this.metaColor.a<1)}},{key:"toHexString",value:function(){return this.metaColor.toHexString()}},{key:"toRgb",value:function(){return this.metaColor.toRgb()}},{key:"toRgbString",value:function(){return this.metaColor.toRgbString()}},{key:"isGradient",value:function(){return!!this.colors&&!this.cleared}},{key:"getColors",value:function(){return this.colors||[{color:this,percent:0}]}},{key:"toCssString",value:function(){const{colors:ye}=this;return ye?`linear-gradient(90deg, ${ye.map(Ve=>`${Ve.color.toRgbString()} ${Ve.percent}%`).join(", ")})`:this.metaColor.toRgbString()}},{key:"equals",value:function(ye){return!ye||this.isGradient()!==ye.isGradient()?!1:this.isGradient()?this.colors.length===ye.colors.length&&this.colors.every((te,Ve)=>{const Ie=ye.colors[Ve];return te.percent===Ie.percent&&te.color.equals(Ie.color)}):this.toHexString()===ye.toHexString()}}])}()},29230:function(Ir,Ft,B){"use strict";B.d(Ft,{U:function(){return Ve}});var a=B(75271),Qe=B(2180),q=B(82187),c=B.n(q),be=B(93954),We=B(62023),De=B(77648),Te=B(67699),ye=B(70395);const te=tt=>tt.map(ot=>(ot.colors=ot.colors.map(ye.vC),ot)),Ve=(tt,ot)=>{const{r:Je,g:ct,b:bt,a:Xe}=tt.toRgb(),jt=new Qe.Il(tt.toRgbString()).onBackground(ot).toHsv();return Xe<=.5?jt.v>.5:Je*.299+ct*.587+bt*.114>192},Ie=(tt,ot)=>{var Je;return`panel-${(Je=tt.key)!==null&&Je!==void 0?Je:ot}`},Ue=tt=>{let{prefixCls:ot,presets:Je,value:ct,onChange:bt}=tt;const[Xe]=(0,De.Z)("ColorPicker"),[,jt]=(0,Te.ZP)(),[vt]=(0,be.Z)(te(Je),{value:te(Je),postState:te}),Mt=`${ot}-presets`,Ut=(0,a.useMemo)(()=>vt.reduce((lr,Xn,Ge)=>{const{defaultOpen:Ht=!0}=Xn;return Ht&&lr.push(Ie(Xn,Ge)),lr},[]),[vt]),Vt=lr=>{bt==null||bt(lr)},yr=vt.map((lr,Xn)=>{var Ge;return{key:Ie(lr,Xn),label:a.createElement("div",{className:`${Mt}-label`},lr==null?void 0:lr.label),children:a.createElement("div",{className:`${Mt}-items`},Array.isArray(lr==null?void 0:lr.colors)&&((Ge=lr.colors)===null||Ge===void 0?void 0:Ge.length)>0?lr.colors.map((Ht,un)=>a.createElement(Qe.G5,{key:`preset-${un}-${Ht.toHexString()}`,color:(0,ye.vC)(Ht).toRgbString(),prefixCls:ot,className:c()(`${Mt}-color`,{[`${Mt}-color-checked`]:Ht.toHexString()===(ct==null?void 0:ct.toHexString()),[`${Mt}-color-bright`]:Ve(Ht,jt.colorBgElevated)}),onClick:()=>Vt(Ht)})):a.createElement("span",{className:`${Mt}-empty`},Xe.presetEmpty))}});return a.createElement("div",{className:Mt},a.createElement(We.Z,{defaultActiveKey:Ut,ghost:!0,items:yr}))};Ft.Z=Ue},89874:function(Ir,Ft,B){"use strict";B.d(Ft,{Z:function(){return vn}});var a=B(75271),Qe=B(82187),q=B.n(Qe),c=B(93954),be=B(78018),We=B(52445),De=B(94773),Te=B(98446),ye=B(98472),te=B(38437),Ve=B(95741),Ie=B(60824),Ue=B(60916),tt=B(23137),ot=B(82227),Je=B(67567),ct=B(46865),bt=B(2180),Xe=B(92076),jt=B(82162);const vt=a.createContext({}),Mt=a.createContext({});var Ut=B(70395),yr=et=>{let{prefixCls:Rt,value:Kt,onChange:rn}=et;const dt=()=>{if(rn&&Kt&&!Kt.cleared){const at=Kt.toHsb();at.a=0;const Sn=(0,Ut.vC)(at);Sn.cleared=!0,rn(Sn)}};return a.createElement("div",{className:`${Rt}-clear`,onClick:dt})},lr=B(30142);const Xn="hex",Ge="rgb",Ht="hsb";var un=B(33839),ke=et=>{let{prefixCls:Rt,min:Kt=0,max:rn=100,value:dt,onChange:at,className:Sn,formatter:bn}=et;const Gn=`${Rt}-steppers`,[or,gr]=(0,a.useState)(dt);return(0,a.useEffect)(()=>{Number.isNaN(dt)||gr(dt)},[dt]),a.createElement(un.Z,{className:q()(Gn,Sn),min:Kt,max:rn,value:or,formatter:bn,size:"small",onChange:Fr=>{dt||gr(Fr||0),at==null||at(Fr)}})},mn=et=>{let{prefixCls:Rt,value:Kt,onChange:rn}=et;const dt=`${Rt}-alpha-input`,[at,Sn]=(0,a.useState)((0,Ut.vC)(Kt||"#000"));(0,a.useEffect)(()=>{Kt&&Sn(Kt)},[Kt]);const bn=Gn=>{const or=at.toHsb();or.a=(Gn||0)/100;const gr=(0,Ut.vC)(or);Kt||Sn(gr),rn==null||rn(gr)};return a.createElement(ke,{value:(0,Ut.uZ)(at),prefixCls:Rt,formatter:Gn=>`${Gn}%`,className:dt,onChange:bn})},Rn=B(58793);const ut=/(^#[\da-f]{6}$)|(^#[\da-f]{8}$)/i,Jt=et=>ut.test(`#${et}`);var he=et=>{let{prefixCls:Rt,value:Kt,onChange:rn}=et;const dt=`${Rt}-hex-input`,[at,Sn]=(0,a.useState)(()=>Kt?(0,ot.Ot)(Kt.toHexString()):void 0);(0,a.useEffect)(()=>{Kt&&Sn((0,ot.Ot)(Kt.toHexString()))},[Kt]);const bn=Gn=>{const or=Gn.target.value;Sn((0,ot.Ot)(or)),Jt((0,ot.Ot)(or,!0))&&(rn==null||rn((0,Ut.vC)(or)))};return a.createElement(Rn.Z,{className:dt,value:at,prefix:"#",onChange:bn,size:"small"})},xi=et=>{let{prefixCls:Rt,value:Kt,onChange:rn}=et;const dt=`${Rt}-hsb-input`,[at,Sn]=(0,a.useState)((0,Ut.vC)(Kt||"#000"));(0,a.useEffect)(()=>{Kt&&Sn(Kt)},[Kt]);const bn=(Gn,or)=>{const gr=at.toHsb();gr[or]=or==="h"?Gn:(Gn||0)/100;const Fr=(0,Ut.vC)(gr);Kt||Sn(Fr),rn==null||rn(Fr)};return a.createElement("div",{className:dt},a.createElement(ke,{max:360,min:0,value:Number(at.toHsb().h),prefixCls:Rt,className:dt,formatter:Gn=>(0,Ut.lx)(Gn||0).toString(),onChange:Gn=>bn(Number(Gn),"h")}),a.createElement(ke,{max:100,min:0,value:Number(at.toHsb().s)*100,prefixCls:Rt,className:dt,formatter:Gn=>`${(0,Ut.lx)(Gn||0)}%`,onChange:Gn=>bn(Number(Gn),"s")}),a.createElement(ke,{max:100,min:0,value:Number(at.toHsb().b)*100,prefixCls:Rt,className:dt,formatter:Gn=>`${(0,Ut.lx)(Gn||0)}%`,onChange:Gn=>bn(Number(Gn),"b")}))},Ae=et=>{let{prefixCls:Rt,value:Kt,onChange:rn}=et;const dt=`${Rt}-rgb-input`,[at,Sn]=(0,a.useState)((0,Ut.vC)(Kt||"#000"));(0,a.useEffect)(()=>{Kt&&Sn(Kt)},[Kt]);const bn=(Gn,or)=>{const gr=at.toRgb();gr[or]=Gn||0;const Fr=(0,Ut.vC)(gr);Kt||Sn(Fr),rn==null||rn(Fr)};return a.createElement("div",{className:dt},a.createElement(ke,{max:255,min:0,value:Number(at.toRgb().r),prefixCls:Rt,className:dt,onChange:Gn=>bn(Number(Gn),"r")}),a.createElement(ke,{max:255,min:0,value:Number(at.toRgb().g),prefixCls:Rt,className:dt,onChange:Gn=>bn(Number(Gn),"g")}),a.createElement(ke,{max:255,min:0,value:Number(at.toRgb().b),prefixCls:Rt,className:dt,onChange:Gn=>bn(Number(Gn),"b")}))};const An=[Xn,Ht,Ge].map(et=>({value:et,label:et.toUpperCase()}));var Jr=et=>{const{prefixCls:Rt,format:Kt,value:rn,disabledAlpha:dt,onFormatChange:at,onChange:Sn,disabledFormat:bn}=et,[Gn,or]=(0,c.Z)(Xn,{value:Kt,onChange:at}),gr=`${Rt}-input`,Fr=Hr=>{or(Hr)},hi=(0,a.useMemo)(()=>{const Hr={value:rn,prefixCls:Rt,onChange:Sn};switch(Gn){case Ht:return a.createElement(xi,Object.assign({},Hr));case Ge:return a.createElement(Ae,Object.assign({},Hr));default:return a.createElement(he,Object.assign({},Hr))}},[Gn,Rt,rn,Sn]);return a.createElement("div",{className:`${gr}-container`},!bn&&a.createElement(lr.default,{value:Gn,variant:"borderless",getPopupContainer:Hr=>Hr,popupMatchSelectWidth:68,placement:"bottomRight",onChange:Fr,className:`${Rt}-format-select`,size:"small",options:An}),a.createElement("div",{className:gr},hi),!dt&&a.createElement(mn,{prefixCls:Rt,value:rn,onChange:Sn}))},On=B(28661),Kr=B(59373),Ti=B(80300),fr=B(14391),it=function(et,Rt){var Kt={};for(var rn in et)Object.prototype.hasOwnProperty.call(et,rn)&&Rt.indexOf(rn)<0&&(Kt[rn]=et[rn]);if(et!=null&&typeof Object.getOwnPropertySymbols=="function")for(var dt=0,rn=Object.getOwnPropertySymbols(et);dt<rn.length;dt++)Rt.indexOf(rn[dt])<0&&Object.prototype.propertyIsEnumerable.call(et,rn[dt])&&(Kt[rn[dt]]=et[rn[dt]]);return Kt};const Ot=et=>{const{prefixCls:Rt,colors:Kt,type:rn,color:dt,range:at=!1,className:Sn,activeIndex:bn,onActive:Gn,onDragStart:or,onDragChange:gr,onKeyDelete:Fr}=et,hi=it(et,["prefixCls","colors","type","color","range","className","activeIndex","onActive","onDragStart","onDragChange","onKeyDelete"]),Hr=Object.assign(Object.assign({},hi),{track:!1}),to=a.useMemo(()=>`linear-gradient(90deg, ${Kt.map(Co=>`${Co.color} ${Co.percent}%`).join(", ")})`,[Kt]),gt=a.useMemo(()=>!dt||!rn?null:rn==="alpha"?dt.toRgbString():`hsl(${dt.toHsb().h}, 100%, 50%)`,[dt,rn]),wn=(0,Kr.Z)(or),qt=(0,Kr.Z)(gr),Nn=a.useMemo(()=>({onDragStart:wn,onDragChange:qt}),[]),sr=(0,Kr.Z)((Pi,Co)=>{const{onFocus:Vi,style:uo,className:fo,onKeyDown:Ki}=Pi.props,Mo=Object.assign({},uo);return rn==="gradient"&&(Mo.background=(0,Ut.AO)(Kt,Co.value)),a.cloneElement(Pi,{onFocus:Zo=>{Gn==null||Gn(Co.index),Vi==null||Vi(Zo)},style:Mo,className:q()(fo,{[`${Rt}-slider-handle-active`]:bn===Co.index}),onKeyDown:Zo=>{(Zo.key==="Delete"||Zo.key==="Backspace")&&Fr&&Fr(Co.index),Ki==null||Ki(Zo)}})}),Wr=a.useMemo(()=>({direction:"ltr",handleRender:sr}),[]);return a.createElement(fr.Z.Provider,{value:Wr},a.createElement(On.y.Provider,{value:Nn},a.createElement(Ti.Z,Object.assign({},Hr,{className:q()(Sn,`${Rt}-slider`),tooltip:{open:!1},range:{editable:at,minCount:2},styles:{rail:{background:to},handle:gt?{background:gt}:{}},classNames:{rail:`${Rt}-slider-rail`,handle:`${Rt}-slider-handle`}}))))};var pn=et=>{const{value:Rt,onChange:Kt,onChangeComplete:rn}=et,dt=Sn=>Kt(Sn[0]),at=Sn=>rn(Sn[0]);return a.createElement(Ot,Object.assign({},et,{value:[Rt],onChange:dt,onChangeComplete:at}))};function gn(et){return(0,ct.Z)(et).sort((Rt,Kt)=>Rt.percent-Kt.percent)}const wr=et=>{const{prefixCls:Rt,mode:Kt,onChange:rn,onChangeComplete:dt,onActive:at,activeIndex:Sn,onGradientDragging:bn,colors:Gn}=et,or=Kt==="gradient",gr=a.useMemo(()=>Gn.map(qt=>({percent:qt.percent,color:qt.color.toRgbString()})),[Gn]),Fr=a.useMemo(()=>gr.map(qt=>qt.percent),[gr]),hi=a.useRef(gr),Hr=qt=>{let{rawValues:Nn,draggingIndex:sr,draggingValue:Wr}=qt;if(Nn.length>gr.length){const Pi=(0,Ut.AO)(gr,Wr),Co=(0,ct.Z)(gr);Co.splice(sr,0,{percent:Wr,color:Pi}),hi.current=Co}else hi.current=gr;bn(!0),rn(new ot.y9(gn(hi.current)),!0)},to=qt=>{let{deleteIndex:Nn,draggingIndex:sr,draggingValue:Wr}=qt,Pi=(0,ct.Z)(hi.current);Nn!==-1?Pi.splice(Nn,1):(Pi[sr]=Object.assign(Object.assign({},Pi[sr]),{percent:Wr}),Pi=gn(Pi)),rn(new ot.y9(Pi),!0)},gt=qt=>{const Nn=(0,ct.Z)(gr);Nn.splice(qt,1);const sr=new ot.y9(Nn);rn(sr),dt(sr)},wn=qt=>{dt(new ot.y9(gr)),Sn>=qt.length&&at(qt.length-1),bn(!1)};return or?a.createElement(Ot,{min:0,max:100,prefixCls:Rt,className:`${Rt}-gradient-slider`,colors:gr,color:null,value:Fr,range:!0,onChangeComplete:wn,disabled:!1,type:"gradient",activeIndex:Sn,onActive:at,onDragStart:Hr,onDragChange:to,onKeyDelete:gt}):null};var Hn=a.memo(wr),oi=function(et,Rt){var Kt={};for(var rn in et)Object.prototype.hasOwnProperty.call(et,rn)&&Rt.indexOf(rn)<0&&(Kt[rn]=et[rn]);if(et!=null&&typeof Object.getOwnPropertySymbols=="function")for(var dt=0,rn=Object.getOwnPropertySymbols(et);dt<rn.length;dt++)Rt.indexOf(rn[dt])<0&&Object.prototype.propertyIsEnumerable.call(et,rn[dt])&&(Kt[rn[dt]]=et[rn[dt]]);return Kt};const pi={slider:pn};var ni=()=>{const et=(0,a.useContext)(vt),{mode:Rt,onModeChange:Kt,modeOptions:rn,prefixCls:dt,allowClear:at,value:Sn,disabledAlpha:bn,onChange:Gn,onClear:or,onChangeComplete:gr,activeIndex:Fr,gradientDragging:hi}=et,Hr=oi(et,["mode","onModeChange","modeOptions","prefixCls","allowClear","value","disabledAlpha","onChange","onClear","onChangeComplete","activeIndex","gradientDragging"]),to=a.useMemo(()=>Sn.cleared?[{percent:0,color:new ot.y9("")},{percent:100,color:new ot.y9("")}]:Sn.getColors(),[Sn]),gt=!Sn.isGradient(),[wn,qt]=a.useState(Sn);(0,Xe.Z)(()=>{var To;gt||qt((To=to[Fr])===null||To===void 0?void 0:To.color)},[hi,Fr]);const Nn=a.useMemo(()=>{var To;return gt?Sn:hi?wn:(To=to[Fr])===null||To===void 0?void 0:To.color},[Sn,Fr,gt,wn,hi]),[sr,Wr]=a.useState(Nn),[Pi,Co]=a.useState(0),Vi=sr!=null&&sr.equals(Nn)?Nn:sr;(0,Xe.Z)(()=>{Wr(Nn)},[Pi,Nn==null?void 0:Nn.toHexString()]);const uo=(To,$o)=>{let zo=(0,Ut.vC)(To);if(Sn.cleared){const ho=zo.toRgb();if(!ho.r&&!ho.g&&!ho.b&&$o){const{type:So,value:wo=0}=$o;zo=new ot.y9({h:So==="hue"?wo:0,s:1,b:1,a:So==="alpha"?wo/100:1})}else zo=(0,Ut.T7)(zo)}if(Rt==="single")return zo;const qo=(0,ct.Z)(to);return qo[Fr]=Object.assign(Object.assign({},qo[Fr]),{color:zo}),new ot.y9(qo)},fo=(To,$o,zo)=>{const qo=uo(To,zo);Wr(qo.isGradient()?qo.getColors()[Fr].color:qo),Gn(qo,$o)},Ki=(To,$o)=>{gr(uo(To,$o)),Co(zo=>zo+1)},Mo=To=>{Gn(uo(To))};let Zo=null;const Lo=rn.length>1;return(at||Lo)&&(Zo=a.createElement("div",{className:`${dt}-operation`},Lo&&a.createElement(jt.Z,{size:"small",options:rn,value:Rt,onChange:Kt}),a.createElement(yr,Object.assign({prefixCls:dt,value:Sn,onChange:To=>{Gn(To),or==null||or()}},Hr)))),a.createElement(a.Fragment,null,Zo,a.createElement(Hn,Object.assign({},et,{colors:to})),a.createElement(bt.ZP,{prefixCls:dt,value:Vi==null?void 0:Vi.toHsb(),disabledAlpha:bn,onChange:(To,$o)=>{fo(To,!0,$o)},onChangeComplete:(To,$o)=>{Ki(To,$o)},components:pi}),a.createElement(Jr,Object.assign({value:Nn,onChange:Mo,prefixCls:dt,disabledAlpha:bn},Hr)))},Cr=B(29230),_r=()=>{const{prefixCls:et,value:Rt,presets:Kt,onChange:rn}=(0,a.useContext)(Mt);return Array.isArray(Kt)?a.createElement(Cr.Z,{value:Rt,presets:Kt,prefixCls:et,onChange:rn}):null},Tr=et=>{const{prefixCls:Rt,presets:Kt,panelRender:rn,value:dt,onChange:at,onClear:Sn,allowClear:bn,disabledAlpha:Gn,mode:or,onModeChange:gr,modeOptions:Fr,onChangeComplete:hi,activeIndex:Hr,onActive:to,format:gt,onFormatChange:wn,gradientDragging:qt,onGradientDragging:Nn,disabledFormat:sr}=et,Wr=`${Rt}-inner`,Pi=a.useMemo(()=>({prefixCls:Rt,value:dt,onChange:at,onClear:Sn,allowClear:bn,disabledAlpha:Gn,mode:or,onModeChange:gr,modeOptions:Fr,onChangeComplete:hi,activeIndex:Hr,onActive:to,format:gt,onFormatChange:wn,gradientDragging:qt,onGradientDragging:Nn,disabledFormat:sr}),[Rt,dt,at,Sn,bn,Gn,or,gr,Fr,hi,Hr,to,gt,wn,qt,Nn,sr]),Co=a.useMemo(()=>({prefixCls:Rt,value:dt,presets:Kt,onChange:at}),[Rt,dt,Kt,at]),Vi=a.createElement("div",{className:`${Wr}-content`},a.createElement(ni,null),Array.isArray(Kt)&&a.createElement(Je.Z,null),a.createElement(_r,null));return a.createElement(vt.Provider,{value:Pi},a.createElement(Mt.Provider,{value:Co},a.createElement("div",{className:Wr},typeof rn=="function"?rn(Vi,{components:{Picker:ni,Presets:_r}}):Vi)))},ei=B(71305),ar=B(77648),mr=function(et,Rt){var Kt={};for(var rn in et)Object.prototype.hasOwnProperty.call(et,rn)&&Rt.indexOf(rn)<0&&(Kt[rn]=et[rn]);if(et!=null&&typeof Object.getOwnPropertySymbols=="function")for(var dt=0,rn=Object.getOwnPropertySymbols(et);dt<rn.length;dt++)Rt.indexOf(rn[dt])<0&&Object.prototype.propertyIsEnumerable.call(et,rn[dt])&&(Kt[rn[dt]]=et[rn[dt]]);return Kt},Wn=(0,a.forwardRef)((et,Rt)=>{const{color:Kt,prefixCls:rn,open:dt,disabled:at,format:Sn,className:bn,showText:Gn,activeIndex:or}=et,gr=mr(et,["color","prefixCls","open","disabled","format","className","showText","activeIndex"]),Fr=`${rn}-trigger`,hi=`${Fr}-text`,Hr=`${hi}-cell`,[to]=(0,ar.Z)("ColorPicker"),gt=a.useMemo(()=>{if(!Gn)return"";if(typeof Gn=="function")return Gn(Kt);if(Kt.cleared)return to.transparent;if(Kt.isGradient())return Kt.getColors().map((sr,Wr)=>{const Pi=or!==-1&&or!==Wr;return a.createElement("span",{key:Wr,className:q()(Hr,Pi&&`${Hr}-inactive`)},sr.color.toRgbString()," ",sr.percent,"%")});const qt=Kt.toHexString().toUpperCase(),Nn=(0,Ut.uZ)(Kt);switch(Sn){case"rgb":return Kt.toRgbString();case"hsb":return Kt.toHsbString();default:return Nn<100?`${qt.slice(0,7)},${Nn}%`:qt}},[Kt,Sn,Gn,or]),wn=(0,a.useMemo)(()=>Kt.cleared?a.createElement(yr,{prefixCls:rn}):a.createElement(bt.G5,{prefixCls:rn,color:Kt.toCssString()}),[Kt,rn]);return a.createElement("div",Object.assign({ref:Rt,className:q()(Fr,bn,{[`${Fr}-active`]:dt,[`${Fr}-disabled`]:at})},(0,ei.Z)(gr)),wn,Gn&&a.createElement("div",{className:hi},gt))});function di(et,Rt,Kt){const[rn]=(0,ar.Z)("ColorPicker"),[dt,at]=(0,c.Z)(et,{value:Rt}),[Sn,bn]=a.useState("single"),[Gn,or]=a.useMemo(()=>{const gt=(Array.isArray(Kt)?Kt:[Kt]).filter(sr=>sr);gt.length||gt.push("single");const wn=new Set(gt),qt=[],Nn=(sr,Wr)=>{wn.has(sr)&&qt.push({label:Wr,value:sr})};return Nn("single",rn.singleColor),Nn("gradient",rn.gradientColor),[qt,wn]},[Kt]),[gr,Fr]=a.useState(null),hi=(0,Kr.Z)(gt=>{Fr(gt),at(gt)}),Hr=a.useMemo(()=>{const gt=(0,Ut.vC)(dt||"");return gt.equals(gr)?gr:gt},[dt,gr]),to=a.useMemo(()=>{var gt;return or.has(Sn)?Sn:(gt=Gn[0])===null||gt===void 0?void 0:gt.value},[or,Sn,Gn]);return a.useEffect(()=>{bn(Hr.isGradient()?"gradient":"single")},[Hr]),[Hr,hi,to,bn,Gn]}var Ci=B(55921),eo=B(9288),Io=B(84825),ci=B(83509);const oo=(et,Rt)=>({backgroundImage:`conic-gradient(${Rt} 0 25%, transparent 0 50%, ${Rt} 0 75%, transparent 0)`,backgroundSize:`${et} ${et}`});var Mn=(et,Rt)=>{const{componentCls:Kt,borderRadiusSM:rn,colorPickerInsetShadow:dt,lineWidth:at,colorFillSecondary:Sn}=et;return{[`${Kt}-color-block`]:Object.assign(Object.assign({position:"relative",borderRadius:rn,width:Rt,height:Rt,boxShadow:dt,flex:"none"},oo("50%",et.colorFillSecondary)),{[`${Kt}-color-block-inner`]:{width:"100%",height:"100%",boxShadow:`inset 0 0 0 ${(0,Ci.bf)(at)} ${Sn}`,borderRadius:"inherit"}})}},dn=et=>{const{componentCls:Rt,antCls:Kt,fontSizeSM:rn,lineHeightSM:dt,colorPickerAlphaInputWidth:at,marginXXS:Sn,paddingXXS:bn,controlHeightSM:Gn,marginXS:or,fontSizeIcon:gr,paddingXS:Fr,colorTextPlaceholder:hi,colorPickerInputNumberHandleWidth:Hr,lineWidth:to}=et;return{[`${Rt}-input-container`]:{display:"flex",[`${Rt}-steppers${Kt}-input-number`]:{fontSize:rn,lineHeight:dt,[`${Kt}-input-number-input`]:{paddingInlineStart:bn,paddingInlineEnd:0},[`${Kt}-input-number-handler-wrap`]:{width:Hr}},[`${Rt}-steppers${Rt}-alpha-input`]:{flex:`0 0 ${(0,Ci.bf)(at)}`,marginInlineStart:Sn},[`${Rt}-format-select${Kt}-select`]:{marginInlineEnd:or,width:"auto","&-single":{[`${Kt}-select-selector`]:{padding:0,border:0},[`${Kt}-select-arrow`]:{insetInlineEnd:0},[`${Kt}-select-selection-item`]:{paddingInlineEnd:et.calc(gr).add(Sn).equal(),fontSize:rn,lineHeight:(0,Ci.bf)(Gn)},[`${Kt}-select-item-option-content`]:{fontSize:rn,lineHeight:dt},[`${Kt}-select-dropdown`]:{[`${Kt}-select-item`]:{minHeight:"auto"}}}},[`${Rt}-input`]:{gap:Sn,alignItems:"center",flex:1,width:0,[`${Rt}-hsb-input,${Rt}-rgb-input`]:{display:"flex",gap:Sn,alignItems:"center"},[`${Rt}-steppers`]:{flex:1},[`${Rt}-hex-input${Kt}-input-affix-wrapper`]:{flex:1,padding:`0 ${(0,Ci.bf)(Fr)}`,[`${Kt}-input`]:{fontSize:rn,textTransform:"uppercase",lineHeight:(0,Ci.bf)(et.calc(Gn).sub(et.calc(to).mul(2)).equal())},[`${Kt}-input-prefix`]:{color:hi}}}}}},rr=et=>{const{componentCls:Rt,controlHeightLG:Kt,borderRadiusSM:rn,colorPickerInsetShadow:dt,marginSM:at,colorBgElevated:Sn,colorFillSecondary:bn,lineWidthBold:Gn,colorPickerHandlerSize:or}=et;return{userSelect:"none",[`${Rt}-select`]:{[`${Rt}-palette`]:{minHeight:et.calc(Kt).mul(4).equal(),overflow:"hidden",borderRadius:rn},[`${Rt}-saturation`]:{position:"absolute",borderRadius:"inherit",boxShadow:dt,inset:0},marginBottom:at},[`${Rt}-handler`]:{width:or,height:or,border:`${(0,Ci.bf)(Gn)} solid ${Sn}`,position:"relative",borderRadius:"50%",cursor:"pointer",boxShadow:`${dt}, 0 0 0 1px ${bn}`}}},Mi=et=>{const{componentCls:Rt,antCls:Kt,colorTextQuaternary:rn,paddingXXS:dt,colorPickerPresetColorSize:at,fontSizeSM:Sn,colorText:bn,lineHeightSM:Gn,lineWidth:or,borderRadius:gr,colorFill:Fr,colorWhite:hi,marginXXS:Hr,paddingXS:to,fontHeightSM:gt}=et;return{[`${Rt}-presets`]:{[`${Kt}-collapse-item > ${Kt}-collapse-header`]:{padding:0,[`${Kt}-collapse-expand-icon`]:{height:gt,color:rn,paddingInlineEnd:dt}},[`${Kt}-collapse`]:{display:"flex",flexDirection:"column",gap:Hr},[`${Kt}-collapse-item > ${Kt}-collapse-content > ${Kt}-collapse-content-box`]:{padding:`${(0,Ci.bf)(to)} 0`},"&-label":{fontSize:Sn,color:bn,lineHeight:Gn},"&-items":{display:"flex",flexWrap:"wrap",gap:et.calc(Hr).mul(1.5).equal(),[`${Rt}-presets-color`]:{position:"relative",cursor:"pointer",width:at,height:at,"&::before":{content:'""',pointerEvents:"none",width:et.calc(at).add(et.calc(or).mul(4)).equal(),height:et.calc(at).add(et.calc(or).mul(4)).equal(),position:"absolute",top:et.calc(or).mul(-2).equal(),insetInlineStart:et.calc(or).mul(-2).equal(),borderRadius:gr,border:`${(0,Ci.bf)(or)} solid transparent`,transition:`border-color ${et.motionDurationMid} ${et.motionEaseInBack}`},"&:hover::before":{borderColor:Fr},"&::after":{boxSizing:"border-box",position:"absolute",top:"50%",insetInlineStart:"21.5%",display:"table",width:et.calc(at).div(13).mul(5).equal(),height:et.calc(at).div(13).mul(8).equal(),border:`${(0,Ci.bf)(et.lineWidthBold)} solid ${et.colorWhite}`,borderTop:0,borderInlineStart:0,transform:"rotate(45deg) scale(0) translate(-50%,-50%)",opacity:0,content:'""',transition:`all ${et.motionDurationFast} ${et.motionEaseInBack}, opacity ${et.motionDurationFast}`},[`&${Rt}-presets-color-checked`]:{"&::after":{opacity:1,borderColor:hi,transform:"rotate(45deg) scale(1) translate(-50%,-50%)",transition:`transform ${et.motionDurationMid} ${et.motionEaseOutBack} ${et.motionDurationFast}`},[`&${Rt}-presets-color-bright`]:{"&::after":{borderColor:"rgba(0, 0, 0, 0.45)"}}}}},"&-empty":{fontSize:Sn,color:rn}}}},Bi=et=>{const{componentCls:Rt,colorPickerInsetShadow:Kt,colorBgElevated:rn,colorFillSecondary:dt,lineWidthBold:at,colorPickerHandlerSizeSM:Sn,colorPickerSliderHeight:bn,marginSM:Gn,marginXS:or}=et,gr=et.calc(Sn).sub(et.calc(at).mul(2).equal()).equal(),Fr=et.calc(Sn).add(et.calc(at).mul(2).equal()).equal(),hi={"&:after":{transform:"scale(1)",boxShadow:`${Kt}, 0 0 0 1px ${et.colorPrimaryActive}`}};return{[`${Rt}-slider`]:[oo((0,Ci.bf)(bn),et.colorFillSecondary),{margin:0,padding:0,height:bn,borderRadius:et.calc(bn).div(2).equal(),"&-rail":{height:bn,borderRadius:et.calc(bn).div(2).equal(),boxShadow:Kt},[`& ${Rt}-slider-handle`]:{width:gr,height:gr,top:0,borderRadius:"100%","&:before":{display:"block",position:"absolute",background:"transparent",left:{_skip_check_:!0,value:"50%"},top:"50%",transform:"translate(-50%, -50%)",width:Fr,height:Fr,borderRadius:"100%"},"&:after":{width:Sn,height:Sn,border:`${(0,Ci.bf)(at)} solid ${rn}`,boxShadow:`${Kt}, 0 0 0 1px ${dt}`,outline:"none",insetInlineStart:et.calc(at).mul(-1).equal(),top:et.calc(at).mul(-1).equal(),background:"transparent",transition:"none"},"&:focus":hi}}],[`${Rt}-slider-container`]:{display:"flex",gap:Gn,marginBottom:Gn,[`${Rt}-slider-group`]:{flex:1,flexDirection:"column",justifyContent:"space-between",display:"flex","&-disabled-alpha":{justifyContent:"center"}}},[`${Rt}-gradient-slider`]:{marginBottom:or,[`& ${Rt}-slider-handle`]:{"&:after":{transform:"scale(0.8)"},"&-active, &:focus":hi}}}};const Di=(et,Rt,Kt)=>({borderInlineEndWidth:et.lineWidth,borderColor:Rt,boxShadow:`0 0 0 ${(0,Ci.bf)(et.controlOutlineWidth)} ${Kt}`,outline:0}),Re=et=>{const{componentCls:Rt}=et;return{"&-rtl":{[`${Rt}-presets-color`]:{"&::after":{direction:"ltr"}},[`${Rt}-clear`]:{"&::after":{direction:"ltr"}}}}},de=(et,Rt,Kt)=>{const{componentCls:rn,borderRadiusSM:dt,lineWidth:at,colorSplit:Sn,colorBorder:bn,red6:Gn}=et;return{[`${rn}-clear`]:Object.assign(Object.assign({width:Rt,height:Rt,borderRadius:dt,border:`${(0,Ci.bf)(at)} solid ${Sn}`,position:"relative",overflow:"hidden",cursor:"inherit",transition:`all ${et.motionDurationFast}`},Kt),{"&::after":{content:'""',position:"absolute",insetInlineEnd:et.calc(at).mul(-1).equal(),top:et.calc(at).mul(-1).equal(),display:"block",width:40,height:2,transformOrigin:"calc(100% - 1px) 1px",transform:"rotate(-45deg)",backgroundColor:Gn},"&:hover":{borderColor:bn}})}},Y=et=>{const{componentCls:Rt,colorError:Kt,colorWarning:rn,colorErrorHover:dt,colorWarningHover:at,colorErrorOutline:Sn,colorWarningOutline:bn}=et;return{[`&${Rt}-status-error`]:{borderColor:Kt,"&:hover":{borderColor:dt},[`&${Rt}-trigger-active`]:Object.assign({},Di(et,Kt,Sn))},[`&${Rt}-status-warning`]:{borderColor:rn,"&:hover":{borderColor:at},[`&${Rt}-trigger-active`]:Object.assign({},Di(et,rn,bn))}}},Ze=et=>{const{componentCls:Rt,controlHeightLG:Kt,controlHeightSM:rn,controlHeight:dt,controlHeightXS:at,borderRadius:Sn,borderRadiusSM:bn,borderRadiusXS:Gn,borderRadiusLG:or,fontSizeLG:gr}=et;return{[`&${Rt}-lg`]:{minWidth:Kt,minHeight:Kt,borderRadius:or,[`${Rt}-color-block, ${Rt}-clear`]:{width:dt,height:dt,borderRadius:Sn},[`${Rt}-trigger-text`]:{fontSize:gr}},[`&${Rt}-sm`]:{minWidth:rn,minHeight:rn,borderRadius:bn,[`${Rt}-color-block, ${Rt}-clear`]:{width:at,height:at,borderRadius:Gn},[`${Rt}-trigger-text`]:{lineHeight:(0,Ci.bf)(at)}}}},pe=et=>{const{antCls:Rt,componentCls:Kt,colorPickerWidth:rn,colorPrimary:dt,motionDurationMid:at,colorBgElevated:Sn,colorTextDisabled:bn,colorText:Gn,colorBgContainerDisabled:or,borderRadius:gr,marginXS:Fr,marginSM:hi,controlHeight:Hr,controlHeightSM:to,colorBgTextActive:gt,colorPickerPresetColorSize:wn,colorPickerPreviewSize:qt,lineWidth:Nn,colorBorder:sr,paddingXXS:Wr,fontSize:Pi,colorPrimaryHover:Co,controlOutline:Vi}=et;return[{[Kt]:Object.assign({[`${Kt}-inner`]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({"&-content":{display:"flex",flexDirection:"column",width:rn,[`& > ${Rt}-divider`]:{margin:`${(0,Ci.bf)(hi)} 0 ${(0,Ci.bf)(Fr)}`}},[`${Kt}-panel`]:Object.assign({},rr(et))},Bi(et)),Mn(et,qt)),dn(et)),Mi(et)),de(et,wn,{marginInlineStart:"auto"})),{[`${Kt}-operation`]:{display:"flex",justifyContent:"space-between",marginBottom:Fr}}),"&-trigger":Object.assign(Object.assign(Object.assign(Object.assign({minWidth:Hr,minHeight:Hr,borderRadius:gr,border:`${(0,Ci.bf)(Nn)} solid ${sr}`,cursor:"pointer",display:"inline-flex",alignItems:"flex-start",justifyContent:"center",transition:`all ${at}`,background:Sn,padding:et.calc(Wr).sub(Nn).equal(),[`${Kt}-trigger-text`]:{marginInlineStart:Fr,marginInlineEnd:et.calc(Fr).sub(et.calc(Wr).sub(Nn)).equal(),fontSize:Pi,color:Gn,alignSelf:"center","&-cell":{"&:not(:last-child):after":{content:'", "'},"&-inactive":{color:bn}}},"&:hover":{borderColor:Co},[`&${Kt}-trigger-active`]:Object.assign({},Di(et,dt,Vi)),"&-disabled":{color:bn,background:or,cursor:"not-allowed","&:hover":{borderColor:gt},[`${Kt}-trigger-text`]:{color:bn}}},de(et,to)),Mn(et,to)),Y(et)),Ze(et))},Re(et))},(0,eo.c)(et,{focusElCls:`${Kt}-trigger-active`})]};var nt=(0,Io.I$)("ColorPicker",et=>{const{colorTextQuaternary:Rt,marginSM:Kt}=et,rn=8,dt=(0,ci.IX)(et,{colorPickerWidth:234,colorPickerHandlerSize:16,colorPickerHandlerSizeSM:12,colorPickerAlphaInputWidth:44,colorPickerInputNumberHandleWidth:16,colorPickerPresetColorSize:24,colorPickerInsetShadow:`inset 0 0 1px 0 ${Rt}`,colorPickerSliderHeight:rn,colorPickerPreviewSize:et.calc(rn).mul(2).add(Kt).equal()});return[pe(dt)]}),rt=function(et,Rt){var Kt={};for(var rn in et)Object.prototype.hasOwnProperty.call(et,rn)&&Rt.indexOf(rn)<0&&(Kt[rn]=et[rn]);if(et!=null&&typeof Object.getOwnPropertySymbols=="function")for(var dt=0,rn=Object.getOwnPropertySymbols(et);dt<rn.length;dt++)Rt.indexOf(rn[dt])<0&&Object.prototype.propertyIsEnumerable.call(et,rn[dt])&&(Kt[rn[dt]]=et[rn[dt]]);return Kt};const tn=et=>{const{mode:Rt,value:Kt,defaultValue:rn,format:dt,defaultFormat:at,allowClear:Sn=!1,presets:bn,children:Gn,trigger:or="click",open:gr,disabled:Fr,placement:hi="bottomLeft",arrow:Hr=!0,panelRender:to,showText:gt,style:wn,className:qt,size:Nn,rootClassName:sr,prefixCls:Wr,styles:Pi,disabledAlpha:Co=!1,onFormatChange:Vi,onChange:uo,onClear:fo,onOpenChange:Ki,onChangeComplete:Mo,getPopupContainer:Zo,autoAdjustOverflow:Lo=!0,destroyTooltipOnHide:To,disabledFormat:$o}=et,zo=rt(et,["mode","value","defaultValue","format","defaultFormat","allowClear","presets","children","trigger","open","disabled","placement","arrow","panelRender","showText","style","className","size","rootClassName","prefixCls","styles","disabledAlpha","onFormatChange","onChange","onClear","onOpenChange","onChangeComplete","getPopupContainer","autoAdjustOverflow","destroyTooltipOnHide","disabledFormat"]),{getPrefixCls:qo,direction:ho,colorPicker:So}=(0,a.useContext)(Te.E_),wo=(0,a.useContext)(ye.Z),K=Fr!=null?Fr:wo,[_e,Ct]=(0,c.Z)(!1,{value:gr,postState:Xi=>!K&&Xi,onChange:Ki}),[Et,En]=(0,c.Z)(dt,{value:dt,defaultValue:at,onChange:Vi}),Qn=qo("color-picker",Wr),[si,Or,Ri,_o,Lr]=di(rn,Kt,Rt),Ji=(0,a.useMemo)(()=>(0,Ut.uZ)(si)<100,[si]),[zr,Si]=a.useState(null),ai=Xi=>{if(Mo){let Yi=(0,Ut.vC)(Xi);Co&&Ji&&(Yi=(0,Ut.T7)(Xi)),Mo(Yi)}},mi=(Xi,Yi)=>{let Po=(0,Ut.vC)(Xi);Co&&Ji&&(Po=(0,Ut.T7)(Po)),Or(Po),Si(null),uo&&uo(Po,Po.toCssString()),Yi||ai(Po)},[Xo,Uo]=a.useState(0),[sn,qe]=a.useState(!1),Ce=Xi=>{if(_o(Xi),Xi==="single"&&si.isGradient())Uo(0),mi(new ot.y9(si.getColors()[0].color)),Si(si);else if(Xi==="gradient"&&!si.isGradient()){const Yi=Ji?(0,Ut.T7)(si):si;mi(new ot.y9(zr||[{percent:0,color:Yi},{percent:100,color:Yi}]))}},{status:Ye}=a.useContext(Ie.aM),{compactSize:Fe,compactItemClassnames:Nt}=(0,tt.ri)(Qn,ho),hn=(0,Ve.Z)(Xi=>{var Yi;return(Yi=Nn!=null?Nn:Fe)!==null&&Yi!==void 0?Yi:Xi}),ir=(0,te.Z)(Qn),[Ar,Nr,Rr]=nt(Qn,ir),_i={[`${Qn}-rtl`]:ho},Fi=q()(sr,Rr,ir,_i),Ao=q()((0,De.Z)(Qn,Ye),{[`${Qn}-sm`]:hn==="small",[`${Qn}-lg`]:hn==="large"},Nt,So==null?void 0:So.className,Fi,qt,Nr),Ai=q()(Qn,Fi),Zi={open:_e,trigger:or,placement:hi,arrow:Hr,rootClassName:sr,getPopupContainer:Zo,autoAdjustOverflow:Lo,destroyTooltipOnHide:To},li=Object.assign(Object.assign({},So==null?void 0:So.style),wn);return Ar(a.createElement(Ue.Z,Object.assign({style:Pi==null?void 0:Pi.popup,styles:{body:Pi==null?void 0:Pi.popupOverlayInner},onOpenChange:Xi=>{(!Xi||!K)&&Ct(Xi)},content:a.createElement(be.Z,{form:!0},a.createElement(Tr,{mode:Ri,onModeChange:Ce,modeOptions:Lr,prefixCls:Qn,value:si,allowClear:Sn,disabled:K,disabledAlpha:Co,presets:bn,panelRender:to,format:Et,onFormatChange:En,onChange:mi,onChangeComplete:ai,onClear:fo,activeIndex:Xo,onActive:Uo,gradientDragging:sn,onGradientDragging:qe,disabledFormat:$o})),classNames:{root:Ai}},Zi),Gn||a.createElement(Wn,Object.assign({activeIndex:_e?Xo:-1,open:_e,className:Ao,style:li,prefixCls:Qn,disabled:K,showText:gt,format:Et},zo,{color:si}))))},$t=(0,We.Z)(tn,void 0,et=>Object.assign(Object.assign({},et),{placement:"bottom",autoAdjustOverflow:!1}),"color-picker",et=>et);tn._InternalPanelDoNotUseOrYouWillBeFired=$t;var ln=tn,vn=ln},70395:function(Ir,Ft,B){"use strict";B.d(Ft,{AO:function(){return Te},T7:function(){return De},lx:function(){return be},uZ:function(){return We},vC:function(){return c}});var a=B(46865),Qe=B(2180),q=B(82227);const c=ye=>ye instanceof q.y9?ye:new q.y9(ye),be=ye=>Math.round(Number(ye||0)),We=ye=>be(ye.toHsb().a*100),De=(ye,te)=>{const Ve=ye.toRgb();if(!Ve.r&&!Ve.g&&!Ve.b){const Ie=ye.toHsb();return Ie.a=te||1,c(Ie)}return Ve.a=te||1,c(Ve)},Te=(ye,te)=>{const Ve=[{percent:0,color:ye[0].color}].concat((0,a.Z)(ye),[{percent:100,color:ye[ye.length-1].color}]);for(let Ie=0;Ie<Ve.length-1;Ie+=1){const Ue=Ve[Ie].percent,tt=Ve[Ie+1].percent,ot=Ve[Ie].color,Je=Ve[Ie+1].color;if(Ue<=te&&te<=tt){const ct=tt-Ue;if(ct===0)return ot;const bt=(te-Ue)/ct*100,Xe=new Qe.Il(ot),jt=new Qe.Il(Je);return Xe.mix(jt,bt).toRgbString()}}return""}},98472:function(Ir,Ft,B){"use strict";B.d(Ft,{n:function(){return q}});var a=B(75271);const Qe=a.createContext(!1),q=c=>{let{children:be,disabled:We}=c;const De=a.useContext(Qe);return a.createElement(Qe.Provider,{value:We!=null?We:De},be)};Ft.Z=Qe},10497:function(Ir,Ft,B){"use strict";B.d(Ft,{q:function(){return q}});var a=B(75271);const Qe=a.createContext(void 0),q=c=>{let{children:be,size:We}=c;const De=a.useContext(Qe);return a.createElement(Qe.Provider,{value:We||De},be)};Ft.Z=Qe},92703:function(Ir,Ft,B){"use strict";B.d(Ft,{x:function(){return Ht},q:function(){return Ge}});var a=B(75271),Qe=B(30967),q=B.t(Qe,2),c=B(57250),be=B(90594),We=B(5147),De=B(54153),Te=(0,De.Z)({},q),ye=Te.version,te=Te.render,Ve=Te.unmountComponentAtNode,Ie;try{var Ue=Number((ye||"").split(".")[0]);Ue>=18&&(Ie=Te.createRoot)}catch(un){}function tt(un){var Xt=Te.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;Xt&&(0,We.Z)(Xt)==="object"&&(Xt.usingClientEntryPoint=un)}var ot="__rc_react_root__";function Je(un,Xt){tt(!0);var ke=Xt[ot]||Ie(Xt);tt(!1),ke.render(un),Xt[ot]=ke}function ct(un,Xt){te==null||te(un,Xt)}function bt(un,Xt){}function Xe(un,Xt){if(Ie){Je(un,Xt);return}ct(un,Xt)}function jt(un){return vt.apply(this,arguments)}function vt(){return vt=(0,be.Z)((0,c.Z)().mark(function un(Xt){return(0,c.Z)().wrap(function(zn){for(;;)switch(zn.prev=zn.next){case 0:return zn.abrupt("return",Promise.resolve().then(function(){var mn;(mn=Xt[ot])===null||mn===void 0||mn.unmount(),delete Xt[ot]}));case 1:case"end":return zn.stop()}},un)})),vt.apply(this,arguments)}function Mt(un){Ve(un)}function Ut(un){}function Vt(un){return yr.apply(this,arguments)}function yr(){return yr=(0,be.Z)((0,c.Z)().mark(function un(Xt){return(0,c.Z)().wrap(function(zn){for(;;)switch(zn.prev=zn.next){case 0:if(Ie===void 0){zn.next=2;break}return zn.abrupt("return",jt(Xt));case 2:Mt(Xt);case 3:case"end":return zn.stop()}},un)})),yr.apply(this,arguments)}let Xn=(un,Xt)=>(Xe(un,Xt),()=>Vt(Xt));function Ge(un){Xn=un}function Ht(){return Xn}},98446:function(Ir,Ft,B){"use strict";B.d(Ft,{E_:function(){return We},Rf:function(){return Qe},dj:function(){return ye},oR:function(){return q},tr:function(){return c}});var a=B(75271);const Qe="ant",q="anticon",c=["outlined","borderless","filled","underlined"],be=(te,Ve)=>Ve||(te?`${Qe}-${te}`:Qe),We=a.createContext({getPrefixCls:be,iconPrefixCls:q}),{Consumer:De}=We,Te={};function ye(te){const Ve=a.useContext(We),{getPrefixCls:Ie,direction:Ue,getPopupContainer:tt}=Ve,ot=Ve[te];return Object.assign(Object.assign({classNames:Te,styles:Te},ot),{getPrefixCls:Ie,direction:Ue,getPopupContainer:tt})}},22463:function(Ir,Ft,B){"use strict";var a=B(75271),Qe=B(98446),q=B(35335);const c=be=>{const{componentName:We}=be,{getPrefixCls:De}=(0,a.useContext)(Qe.E_),Te=De("empty");switch(We){case"Table":case"List":return a.createElement(q.Z,{image:q.Z.PRESENTED_IMAGE_SIMPLE});case"Select":case"TreeSelect":case"Cascader":case"Transfer":case"Mentions":return a.createElement(q.Z,{image:q.Z.PRESENTED_IMAGE_SIMPLE,className:`${Te}-small`});case"Table.filter":return null;default:return a.createElement(q.Z,null)}};Ft.Z=c},38437:function(Ir,Ft,B){"use strict";var a=B(67699);const Qe=q=>{const[,,,,c]=(0,a.ZP)();return c?`${q}-css-var`:""};Ft.Z=Qe},95741:function(Ir,Ft,B){"use strict";var a=B(75271),Qe=B(10497);const q=c=>{const be=a.useContext(Qe.Z);return a.useMemo(()=>c?typeof c=="string"?c!=null?c:be:c instanceof Function?c(be):be:be,[c,be])};Ft.Z=q},62639:function(Ir,Ft,B){"use strict";B.d(Ft,{ZP:function(){return ni},w6:function(){return oi}});var a=B(75271),Qe=B.t(a,2),q=B(55921),c=B(53552),be=B(54596),We=B(27636),De=B(87117),Te=B(63613),ye=B(3786),te=B(59379);const Ve="internalMark";var Ue=Cr=>{const{locale:qn={},children:_r,_ANT_MARK__:Pr}=Cr;a.useEffect(()=>(0,ye.f)(qn==null?void 0:qn.Modal),[qn]);const Tr=a.useMemo(()=>Object.assign(Object.assign({},qn),{exist:!0}),[qn]);return a.createElement(te.Z.Provider,{value:Tr},_r)},tt=B(42474),ot=B(38920),Je=B(20284),ct=B(30767),bt=B(98446),Xe=B(68640),jt=B(84432),vt=B(18415),Mt=B(18263);const Ut=`-ant-${Date.now()}-${Math.random()}`;function Vt(Cr,qn){const _r={},Pr=(ar,mr)=>{let ii=ar.clone();return ii=(mr==null?void 0:mr(ii))||ii,ii.toRgbString()},Tr=(ar,mr)=>{const ii=new jt.t(ar),Wn=(0,Xe.R_)(ii.toRgbString());_r[`${mr}-color`]=Pr(ii),_r[`${mr}-color-disabled`]=Wn[1],_r[`${mr}-color-hover`]=Wn[4],_r[`${mr}-color-active`]=Wn[6],_r[`${mr}-color-outline`]=ii.clone().setA(.2).toRgbString(),_r[`${mr}-color-deprecated-bg`]=Wn[0],_r[`${mr}-color-deprecated-border`]=Wn[2]};if(qn.primaryColor){Tr(qn.primaryColor,"primary");const ar=new jt.t(qn.primaryColor),mr=(0,Xe.R_)(ar.toRgbString());mr.forEach((Wn,di)=>{_r[`primary-${di+1}`]=Wn}),_r["primary-color-deprecated-l-35"]=Pr(ar,Wn=>Wn.lighten(35)),_r["primary-color-deprecated-l-20"]=Pr(ar,Wn=>Wn.lighten(20)),_r["primary-color-deprecated-t-20"]=Pr(ar,Wn=>Wn.tint(20)),_r["primary-color-deprecated-t-50"]=Pr(ar,Wn=>Wn.tint(50)),_r["primary-color-deprecated-f-12"]=Pr(ar,Wn=>Wn.setA(Wn.a*.12));const ii=new jt.t(mr[0]);_r["primary-color-active-deprecated-f-30"]=Pr(ii,Wn=>Wn.setA(Wn.a*.3)),_r["primary-color-active-deprecated-d-02"]=Pr(ii,Wn=>Wn.darken(2))}return qn.successColor&&Tr(qn.successColor,"success"),qn.warningColor&&Tr(qn.warningColor,"warning"),qn.errorColor&&Tr(qn.errorColor,"error"),qn.infoColor&&Tr(qn.infoColor,"info"),`
  :root {
    ${Object.keys(_r).map(ar=>`--${Cr}-${ar}: ${_r[ar]};`).join(`
`)}
  }
  `.trim()}function yr(Cr,qn){const _r=Vt(Cr,qn);(0,vt.Z)()&&(0,Mt.hq)(_r,`${Ut}-dynamic-theme`)}var lr=B(98472),Xn=B(10497);function Ge(){const Cr=(0,a.useContext)(lr.Z),qn=(0,a.useContext)(Xn.Z);return{componentDisabled:Cr,componentSize:qn}}var Ht=Ge,un=B(47996);const Xt=Object.assign({},Qe),{useId:ke}=Xt;var Rn=typeof ke=="undefined"?()=>"":ke;function ut(Cr,qn,_r){var Pr,Tr;const ei=(0,De.ln)("ConfigProvider"),ar=Cr||{},mr=ar.inherit===!1||!qn?Object.assign(Object.assign({},Je.u_),{hashed:(Pr=qn==null?void 0:qn.hashed)!==null&&Pr!==void 0?Pr:Je.u_.hashed,cssVar:qn==null?void 0:qn.cssVar}):qn,ii=Rn();return(0,be.Z)(()=>{var Wn,di;if(!Cr)return qn;const Ci=Object.assign({},mr.components);Object.keys(Cr.components||{}).forEach(ci=>{Ci[ci]=Object.assign(Object.assign({},Ci[ci]),Cr.components[ci])});const eo=`css-var-${ii.replace(/:/g,"")}`,Io=((Wn=ar.cssVar)!==null&&Wn!==void 0?Wn:mr.cssVar)&&Object.assign(Object.assign(Object.assign({prefix:_r==null?void 0:_r.prefixCls},typeof mr.cssVar=="object"?mr.cssVar:{}),typeof ar.cssVar=="object"?ar.cssVar:{}),{key:typeof ar.cssVar=="object"&&((di=ar.cssVar)===null||di===void 0?void 0:di.key)||eo});return Object.assign(Object.assign(Object.assign({},mr),ar),{token:Object.assign(Object.assign({},mr.token),ar.token),components:Ci,cssVar:Io})},[ar,mr],(Wn,di)=>Wn.some((Ci,eo)=>{const Io=di[eo];return!(0,un.Z)(Ci,Io,!0)}))}var Jt=B(62803),Cn=B(67699);function he(Cr){const{children:qn}=Cr,[,_r]=(0,Cn.ZP)(),{motion:Pr}=_r,Tr=a.useRef(!1);return Tr.current=Tr.current||Pr===!1,Tr.current?a.createElement(Jt.zt,{motion:Pr},qn):qn}const Qt=null;var xi=()=>null,ui=B(34299),An=(Cr,qn)=>{const[_r,Pr]=(0,Cn.ZP)();return(0,q.xy)({theme:_r,token:Pr,hashId:"",path:["ant-design-icons",Cr],nonce:()=>qn==null?void 0:qn.nonce,layer:{name:"antd"}},()=>[(0,ui.JT)(Cr)])},Ur=function(Cr,qn){var _r={};for(var Pr in Cr)Object.prototype.hasOwnProperty.call(Cr,Pr)&&qn.indexOf(Pr)<0&&(_r[Pr]=Cr[Pr]);if(Cr!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Tr=0,Pr=Object.getOwnPropertySymbols(Cr);Tr<Pr.length;Tr++)qn.indexOf(Pr[Tr])<0&&Object.prototype.propertyIsEnumerable.call(Cr,Pr[Tr])&&(_r[Pr[Tr]]=Cr[Pr[Tr]]);return _r};let Jr=!1;const On=null,Kr=null,Ti=["getTargetContainer","getPopupContainer","renderEmpty","input","pagination","form","select","button"];let fr,it,Ot,Dn;function pn(){return fr||bt.Rf}function gn(){return it||bt.oR}function wr(Cr){return Object.keys(Cr).some(qn=>qn.endsWith("Color"))}const Hn=Cr=>{const{prefixCls:qn,iconPrefixCls:_r,theme:Pr,holderRender:Tr}=Cr;qn!==void 0&&(fr=qn),_r!==void 0&&(it=_r),"holderRender"in Cr&&(Dn=Tr),Pr&&(wr(Pr)?yr(pn(),Pr):Ot=Pr)},oi=()=>({getPrefixCls:(Cr,qn)=>qn||(Cr?`${pn()}-${Cr}`:pn()),getIconPrefixCls:gn,getRootPrefixCls:()=>fr||pn(),getTheme:()=>Ot,holderRender:Dn}),pi=Cr=>{const{children:qn,csp:_r,autoInsertSpaceInButton:Pr,alert:Tr,anchor:ei,form:ar,locale:mr,componentSize:ii,direction:Wn,space:di,splitter:Ci,virtual:eo,dropdownMatchSelectWidth:Io,popupMatchSelectWidth:ci,popupOverflow:oo,legacyLocale:nn,parentContext:Mn,iconPrefixCls:Ee,theme:dn,componentDisabled:br,segmented:rr,statistic:Yr,spin:Mi,calendar:Wi,carousel:Bi,cascader:Di,collapse:Re,typography:de,checkbox:Y,descriptions:Ze,divider:pe,drawer:nt,skeleton:rt,steps:tn,image:$t,layout:ln,list:vn,mentions:et,modal:Rt,progress:Kt,result:rn,slider:dt,breadcrumb:at,menu:Sn,pagination:bn,input:Gn,textArea:or,empty:gr,badge:Fr,radio:hi,rate:Hr,switch:to,transfer:gt,avatar:wn,message:qt,tag:Nn,table:sr,card:Wr,tabs:Pi,timeline:Co,timePicker:Vi,upload:uo,notification:fo,tree:Ki,colorPicker:Mo,datePicker:Zo,rangePicker:Lo,flex:To,wave:$o,dropdown:zo,warning:qo,tour:ho,tooltip:So,popover:wo,popconfirm:K,floatButtonGroup:_e,variant:Ct,inputNumber:Et,treeSelect:En}=Cr,Qn=a.useCallback((Uo,sn)=>{const{prefixCls:qe}=Cr;if(sn)return sn;const Ce=qe||Mn.getPrefixCls("");return Uo?`${Ce}-${Uo}`:Ce},[Mn.getPrefixCls,Cr.prefixCls]),si=Ee||Mn.iconPrefixCls||bt.oR,Or=_r||Mn.csp;An(si,Or);const Ri=ut(dn,Mn.theme,{prefixCls:Qn("")}),_o={csp:Or,autoInsertSpaceInButton:Pr,alert:Tr,anchor:ei,locale:mr||nn,direction:Wn,space:di,splitter:Ci,virtual:eo,popupMatchSelectWidth:ci!=null?ci:Io,popupOverflow:oo,getPrefixCls:Qn,iconPrefixCls:si,theme:Ri,segmented:rr,statistic:Yr,spin:Mi,calendar:Wi,carousel:Bi,cascader:Di,collapse:Re,typography:de,checkbox:Y,descriptions:Ze,divider:pe,drawer:nt,skeleton:rt,steps:tn,image:$t,input:Gn,textArea:or,layout:ln,list:vn,mentions:et,modal:Rt,progress:Kt,result:rn,slider:dt,breadcrumb:at,menu:Sn,pagination:bn,empty:gr,badge:Fr,radio:hi,rate:Hr,switch:to,transfer:gt,avatar:wn,message:qt,tag:Nn,table:sr,card:Wr,tabs:Pi,timeline:Co,timePicker:Vi,upload:uo,notification:fo,tree:Ki,colorPicker:Mo,datePicker:Zo,rangePicker:Lo,flex:To,wave:$o,dropdown:zo,warning:qo,tour:ho,tooltip:So,popover:wo,popconfirm:K,floatButtonGroup:_e,variant:Ct,inputNumber:Et,treeSelect:En},Lr=Object.assign({},Mn);Object.keys(_o).forEach(Uo=>{_o[Uo]!==void 0&&(Lr[Uo]=_o[Uo])}),Ti.forEach(Uo=>{const sn=Cr[Uo];sn&&(Lr[Uo]=sn)}),typeof Pr!="undefined"&&(Lr.button=Object.assign({autoInsertSpace:Pr},Lr.button));const Ji=(0,be.Z)(()=>Lr,Lr,(Uo,sn)=>{const qe=Object.keys(Uo),Ce=Object.keys(sn);return qe.length!==Ce.length||qe.some(Ye=>Uo[Ye]!==sn[Ye])}),{layer:zr}=a.useContext(q.uP),Si=a.useMemo(()=>({prefixCls:si,csp:Or,layer:zr?"antd":void 0}),[si,Or,zr]);let ai=a.createElement(a.Fragment,null,a.createElement(xi,{dropdownMatchSelectWidth:Io}),qn);const mi=a.useMemo(()=>{var Uo,sn,qe,Ce;return(0,We.T)(((Uo=tt.Z.Form)===null||Uo===void 0?void 0:Uo.defaultValidateMessages)||{},((qe=(sn=Ji.locale)===null||sn===void 0?void 0:sn.Form)===null||qe===void 0?void 0:qe.defaultValidateMessages)||{},((Ce=Ji.form)===null||Ce===void 0?void 0:Ce.validateMessages)||{},(ar==null?void 0:ar.validateMessages)||{})},[Ji,ar==null?void 0:ar.validateMessages]);Object.keys(mi).length>0&&(ai=a.createElement(Te.Z.Provider,{value:mi},ai)),mr&&(ai=a.createElement(Ue,{locale:mr,_ANT_MARK__:Ve},ai)),(si||Or)&&(ai=a.createElement(c.Z.Provider,{value:Si},ai)),ii&&(ai=a.createElement(Xn.q,{size:ii},ai)),ai=a.createElement(he,null,ai);const Xo=a.useMemo(()=>{const Uo=Ri||{},{algorithm:sn,token:qe,components:Ce,cssVar:Ye}=Uo,Fe=Ur(Uo,["algorithm","token","components","cssVar"]),Nt=sn&&(!Array.isArray(sn)||sn.length>0)?(0,q.jG)(sn):ot.Z,hn={};Object.entries(Ce||{}).forEach(Ar=>{let[Nr,Rr]=Ar;const _i=Object.assign({},Rr);"algorithm"in _i&&(_i.algorithm===!0?_i.theme=Nt:(Array.isArray(_i.algorithm)||typeof _i.algorithm=="function")&&(_i.theme=(0,q.jG)(_i.algorithm)),delete _i.algorithm),hn[Nr]=_i});const ir=Object.assign(Object.assign({},ct.Z),qe);return Object.assign(Object.assign({},Fe),{theme:Nt,token:ir,components:hn,override:Object.assign({override:ir},hn),cssVar:Ye})},[Ri]);return dn&&(ai=a.createElement(Je.Mj.Provider,{value:Xo},ai)),Ji.warning&&(ai=a.createElement(De.G8.Provider,{value:Ji.warning},ai)),br!==void 0&&(ai=a.createElement(lr.n,{disabled:br},ai)),a.createElement(bt.E_.Provider,{value:Ji},ai)},ri=Cr=>{const qn=a.useContext(bt.E_),_r=a.useContext(te.Z);return a.createElement(pi,Object.assign({parentContext:qn,legacyLocale:_r},Cr))};ri.ConfigContext=bt.E_,ri.SizeContext=Xn.Z,ri.config=Hn,ri.useConfig=Ht,Object.defineProperty(ri,"SizeContext",{get:()=>Xn.Z});var ni=ri},58492:function(Ir,Ft,B){"use strict";B.d(Ft,{Z:function(){return De}});var a=B(54153),Qe={yearFormat:"YYYY",dayFormat:"D",cellMeridiemFormat:"A",monthBeforeYear:!0},q=(0,a.Z)((0,a.Z)({},Qe),{},{locale:"en_US",today:"Today",now:"Now",backToToday:"Back to today",ok:"OK",clear:"Clear",week:"Week",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",dateFormat:"M/D/YYYY",dateTimeFormat:"M/D/YYYY HH:mm:ss",previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"}),c=q,be=B(85985),De={lang:Object.assign({placeholder:"Select date",yearPlaceholder:"Select year",quarterPlaceholder:"Select quarter",monthPlaceholder:"Select month",weekPlaceholder:"Select week",rangePlaceholder:["Start date","End date"],rangeYearPlaceholder:["Start year","End year"],rangeQuarterPlaceholder:["Start quarter","End quarter"],rangeMonthPlaceholder:["Start month","End month"],rangeWeekPlaceholder:["Start week","End week"]},c),timePickerLocale:Object.assign({},be.Z)}},67567:function(Ir,Ft,B){"use strict";B.d(Ft,{Z:function(){return tt}});var a=B(75271),Qe=B(82187),q=B.n(Qe),c=B(98446),be=B(55921),We=B(34299),De=B(84825),Te=B(83509);const ye=ot=>{const{componentCls:Je,sizePaddingEdgeHorizontal:ct,colorSplit:bt,lineWidth:Xe,textPaddingInline:jt,orientationMargin:vt,verticalMarginInline:Mt}=ot;return{[Je]:Object.assign(Object.assign({},(0,We.Wf)(ot)),{borderBlockStart:`${(0,be.bf)(Xe)} solid ${bt}`,"&-vertical":{position:"relative",top:"-0.06em",display:"inline-block",height:"0.9em",marginInline:Mt,marginBlock:0,verticalAlign:"middle",borderTop:0,borderInlineStart:`${(0,be.bf)(Xe)} solid ${bt}`},"&-horizontal":{display:"flex",clear:"both",width:"100%",minWidth:"100%",margin:`${(0,be.bf)(ot.dividerHorizontalGutterMargin)} 0`},[`&-horizontal${Je}-with-text`]:{display:"flex",alignItems:"center",margin:`${(0,be.bf)(ot.dividerHorizontalWithTextGutterMargin)} 0`,color:ot.colorTextHeading,fontWeight:500,fontSize:ot.fontSizeLG,whiteSpace:"nowrap",textAlign:"center",borderBlockStart:`0 ${bt}`,"&::before, &::after":{position:"relative",width:"50%",borderBlockStart:`${(0,be.bf)(Xe)} solid transparent`,borderBlockStartColor:"inherit",borderBlockEnd:0,transform:"translateY(50%)",content:"''"}},[`&-horizontal${Je}-with-text-start`]:{"&::before":{width:`calc(${vt} * 100%)`},"&::after":{width:`calc(100% - ${vt} * 100%)`}},[`&-horizontal${Je}-with-text-end`]:{"&::before":{width:`calc(100% - ${vt} * 100%)`},"&::after":{width:`calc(${vt} * 100%)`}},[`${Je}-inner-text`]:{display:"inline-block",paddingBlock:0,paddingInline:jt},"&-dashed":{background:"none",borderColor:bt,borderStyle:"dashed",borderWidth:`${(0,be.bf)(Xe)} 0 0`},[`&-horizontal${Je}-with-text${Je}-dashed`]:{"&::before, &::after":{borderStyle:"dashed none none"}},[`&-vertical${Je}-dashed`]:{borderInlineStartWidth:Xe,borderInlineEnd:0,borderBlockStart:0,borderBlockEnd:0},"&-dotted":{background:"none",borderColor:bt,borderStyle:"dotted",borderWidth:`${(0,be.bf)(Xe)} 0 0`},[`&-horizontal${Je}-with-text${Je}-dotted`]:{"&::before, &::after":{borderStyle:"dotted none none"}},[`&-vertical${Je}-dotted`]:{borderInlineStartWidth:Xe,borderInlineEnd:0,borderBlockStart:0,borderBlockEnd:0},[`&-plain${Je}-with-text`]:{color:ot.colorText,fontWeight:"normal",fontSize:ot.fontSize},[`&-horizontal${Je}-with-text-start${Je}-no-default-orientation-margin-start`]:{"&::before":{width:0},"&::after":{width:"100%"},[`${Je}-inner-text`]:{paddingInlineStart:ct}},[`&-horizontal${Je}-with-text-end${Je}-no-default-orientation-margin-end`]:{"&::before":{width:"100%"},"&::after":{width:0},[`${Je}-inner-text`]:{paddingInlineEnd:ct}}})}},te=ot=>({textPaddingInline:"1em",orientationMargin:.05,verticalMarginInline:ot.marginXS});var Ve=(0,De.I$)("Divider",ot=>{const Je=(0,Te.IX)(ot,{dividerHorizontalWithTextGutterMargin:ot.margin,dividerHorizontalGutterMargin:ot.marginLG,sizePaddingEdgeHorizontal:0});return[ye(Je)]},te,{unitless:{orientationMargin:!0}}),Ie=function(ot,Je){var ct={};for(var bt in ot)Object.prototype.hasOwnProperty.call(ot,bt)&&Je.indexOf(bt)<0&&(ct[bt]=ot[bt]);if(ot!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Xe=0,bt=Object.getOwnPropertySymbols(ot);Xe<bt.length;Xe++)Je.indexOf(bt[Xe])<0&&Object.prototype.propertyIsEnumerable.call(ot,bt[Xe])&&(ct[bt[Xe]]=ot[bt[Xe]]);return ct},tt=ot=>{const{getPrefixCls:Je,direction:ct,className:bt,style:Xe}=(0,c.dj)("divider"),{prefixCls:jt,type:vt="horizontal",orientation:Mt="center",orientationMargin:Ut,className:Vt,rootClassName:yr,children:lr,dashed:Xn,variant:Ge="solid",plain:Ht,style:un}=ot,Xt=Ie(ot,["prefixCls","type","orientation","orientationMargin","className","rootClassName","children","dashed","variant","plain","style"]),ke=Je("divider",jt),[zn,mn,Rn]=Ve(ke),ut=!!lr,Jt=a.useMemo(()=>Mt==="left"?ct==="rtl"?"end":"start":Mt==="right"?ct==="rtl"?"start":"end":Mt,[ct,Mt]),Cn=Jt==="start"&&Ut!=null,he=Jt==="end"&&Ut!=null,Qt=q()(ke,bt,mn,Rn,`${ke}-${vt}`,{[`${ke}-with-text`]:ut,[`${ke}-with-text-${Jt}`]:ut,[`${ke}-dashed`]:!!Xn,[`${ke}-${Ge}`]:Ge!=="solid",[`${ke}-plain`]:!!Ht,[`${ke}-rtl`]:ct==="rtl",[`${ke}-no-default-orientation-margin-start`]:Cn,[`${ke}-no-default-orientation-margin-end`]:he},Vt,yr),xi=a.useMemo(()=>typeof Ut=="number"?Ut:/^\d+$/.test(Ut)?Number(Ut):Ut,[Ut]),ui={marginInlineStart:Cn?xi:void 0,marginInlineEnd:he?xi:void 0};return zn(a.createElement("div",Object.assign({className:Qt,style:Object.assign(Object.assign({},Xe),un)},Xt,{role:"separator"}),lr&&vt!=="vertical"&&a.createElement("span",{className:`${ke}-inner-text`,style:ui},lr)))}},35335:function(Ir,Ft,B){"use strict";B.d(Ft,{Z:function(){return jt}});var a=B(75271),Qe=B(82187),q=B.n(Qe),c=B(77648),be=B(84432),We=B(67699),Te=()=>{const[,vt]=(0,We.ZP)(),[Mt]=(0,c.Z)("Empty"),Vt=new be.t(vt.colorBgBase).toHsl().l<.5?{opacity:.65}:{};return a.createElement("svg",{style:Vt,width:"184",height:"152",viewBox:"0 0 184 152",xmlns:"http://www.w3.org/2000/svg"},a.createElement("title",null,(Mt==null?void 0:Mt.description)||"Empty"),a.createElement("g",{fill:"none",fillRule:"evenodd"},a.createElement("g",{transform:"translate(24 31.67)"},a.createElement("ellipse",{fillOpacity:".8",fill:"#F5F5F7",cx:"67.797",cy:"106.89",rx:"67.797",ry:"12.668"}),a.createElement("path",{d:"M122.034 69.674L98.109 40.229c-1.148-1.386-2.826-2.225-4.593-2.225h-51.44c-1.766 0-3.444.839-4.592 2.225L13.56 69.674v15.383h108.475V69.674z",fill:"#AEB8C2"}),a.createElement("path",{d:"M101.537 86.214L80.63 61.102c-1.001-1.207-2.507-1.867-4.048-1.867H31.724c-1.54 0-3.047.66-4.048 1.867L6.769 86.214v13.792h94.768V86.214z",fill:"url(#linearGradient-1)",transform:"translate(13.56)"}),a.createElement("path",{d:"M33.83 0h67.933a4 4 0 0 1 4 4v93.344a4 4 0 0 1-4 4H33.83a4 4 0 0 1-4-4V4a4 4 0 0 1 4-4z",fill:"#F5F5F7"}),a.createElement("path",{d:"M42.678 9.953h50.237a2 2 0 0 1 2 2V36.91a2 2 0 0 1-2 2H42.678a2 2 0 0 1-2-2V11.953a2 2 0 0 1 2-2zM42.94 49.767h49.713a2.262 2.262 0 1 1 0 4.524H42.94a2.262 2.262 0 0 1 0-4.524zM42.94 61.53h49.713a2.262 2.262 0 1 1 0 4.525H42.94a2.262 2.262 0 0 1 0-4.525zM121.813 105.032c-.775 3.071-3.497 5.36-6.735 5.36H20.515c-3.238 0-5.96-2.29-6.734-5.36a7.309 7.309 0 0 1-.222-1.79V69.675h26.318c2.907 0 5.25 2.448 5.25 5.42v.04c0 2.971 2.37 5.37 5.277 5.37h34.785c2.907 0 5.277-2.421 5.277-5.393V75.1c0-2.972 2.343-5.426 5.25-5.426h26.318v33.569c0 .617-.077 1.216-.221 1.789z",fill:"#DCE0E6"})),a.createElement("path",{d:"M149.121 33.292l-6.83 2.65a1 1 0 0 1-1.317-1.23l1.937-6.207c-2.589-2.944-4.109-6.534-4.109-10.408C138.802 8.102 148.92 0 161.402 0 173.881 0 184 8.102 184 18.097c0 9.995-10.118 18.097-22.599 18.097-4.528 0-8.744-1.066-12.28-2.902z",fill:"#DCE0E6"}),a.createElement("g",{transform:"translate(149.65 15.383)",fill:"#FFF"},a.createElement("ellipse",{cx:"20.654",cy:"3.167",rx:"2.849",ry:"2.815"}),a.createElement("path",{d:"M5.698 5.63H0L2.898.704zM9.259.704h4.985V5.63H9.259z"}))))},te=()=>{const[,vt]=(0,We.ZP)(),[Mt]=(0,c.Z)("Empty"),{colorFill:Ut,colorFillTertiary:Vt,colorFillQuaternary:yr,colorBgContainer:lr}=vt,{borderColor:Xn,shadowColor:Ge,contentColor:Ht}=(0,a.useMemo)(()=>({borderColor:new be.t(Ut).onBackground(lr).toHexString(),shadowColor:new be.t(Vt).onBackground(lr).toHexString(),contentColor:new be.t(yr).onBackground(lr).toHexString()}),[Ut,Vt,yr,lr]);return a.createElement("svg",{width:"64",height:"41",viewBox:"0 0 64 41",xmlns:"http://www.w3.org/2000/svg"},a.createElement("title",null,(Mt==null?void 0:Mt.description)||"Empty"),a.createElement("g",{transform:"translate(0 1)",fill:"none",fillRule:"evenodd"},a.createElement("ellipse",{fill:Ge,cx:"32",cy:"33",rx:"32",ry:"7"}),a.createElement("g",{fillRule:"nonzero",stroke:Xn},a.createElement("path",{d:"M55 12.76L44.854 1.258C44.367.474 43.656 0 42.907 0H21.093c-.749 0-1.46.474-1.947 1.257L9 12.761V22h46v-9.24z"}),a.createElement("path",{d:"M41.613 15.931c0-1.605.994-2.93 2.227-2.931H55v18.137C55 33.26 53.68 35 52.05 35h-40.1C10.32 35 9 33.259 9 31.137V13h11.16c1.233 0 2.227 1.323 2.227 2.928v.022c0 1.605 1.005 2.901 2.237 2.901h14.752c1.232 0 2.237-1.308 2.237-2.913v-.007z",fill:Ht}))))},Ve=B(84825),Ie=B(83509);const Ue=vt=>{const{componentCls:Mt,margin:Ut,marginXS:Vt,marginXL:yr,fontSize:lr,lineHeight:Xn}=vt;return{[Mt]:{marginInline:Vt,fontSize:lr,lineHeight:Xn,textAlign:"center",[`${Mt}-image`]:{height:vt.emptyImgHeight,marginBottom:Vt,opacity:vt.opacityImage,img:{height:"100%"},svg:{maxWidth:"100%",height:"100%",margin:"auto"}},[`${Mt}-description`]:{color:vt.colorTextDescription},[`${Mt}-footer`]:{marginTop:Ut},"&-normal":{marginBlock:yr,color:vt.colorTextDescription,[`${Mt}-description`]:{color:vt.colorTextDescription},[`${Mt}-image`]:{height:vt.emptyImgHeightMD}},"&-small":{marginBlock:Vt,color:vt.colorTextDescription,[`${Mt}-image`]:{height:vt.emptyImgHeightSM}}}}};var tt=(0,Ve.I$)("Empty",vt=>{const{componentCls:Mt,controlHeightLG:Ut,calc:Vt}=vt,yr=(0,Ie.IX)(vt,{emptyImgCls:`${Mt}-img`,emptyImgHeight:Vt(Ut).mul(2.5).equal(),emptyImgHeightMD:Ut,emptyImgHeightSM:Vt(Ut).mul(.875).equal()});return[Ue(yr)]}),ot=B(98446),Je=function(vt,Mt){var Ut={};for(var Vt in vt)Object.prototype.hasOwnProperty.call(vt,Vt)&&Mt.indexOf(Vt)<0&&(Ut[Vt]=vt[Vt]);if(vt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var yr=0,Vt=Object.getOwnPropertySymbols(vt);yr<Vt.length;yr++)Mt.indexOf(Vt[yr])<0&&Object.prototype.propertyIsEnumerable.call(vt,Vt[yr])&&(Ut[Vt[yr]]=vt[Vt[yr]]);return Ut};const ct=a.createElement(Te,null),bt=a.createElement(te,null),Xe=vt=>{const{className:Mt,rootClassName:Ut,prefixCls:Vt,image:yr=ct,description:lr,children:Xn,imageStyle:Ge,style:Ht,classNames:un,styles:Xt}=vt,ke=Je(vt,["className","rootClassName","prefixCls","image","description","children","imageStyle","style","classNames","styles"]),{getPrefixCls:zn,direction:mn,className:Rn,style:ut,classNames:Jt,styles:Cn}=(0,ot.dj)("empty"),he=zn("empty",Vt),[Qt,xi,ui]=tt(he),[Ae]=(0,c.Z)("Empty"),An=typeof lr!="undefined"?lr:Ae==null?void 0:Ae.description,Ur=typeof An=="string"?An:"empty";let Jr=null;return typeof yr=="string"?Jr=a.createElement("img",{alt:Ur,src:yr}):Jr=yr,Qt(a.createElement("div",Object.assign({className:q()(xi,ui,he,Rn,{[`${he}-normal`]:yr===bt,[`${he}-rtl`]:mn==="rtl"},Mt,Ut,Jt.root,un==null?void 0:un.root),style:Object.assign(Object.assign(Object.assign(Object.assign({},Cn.root),ut),Xt==null?void 0:Xt.root),Ht)},ke),a.createElement("div",{className:q()(`${he}-image`,Jt.image,un==null?void 0:un.image),style:Object.assign(Object.assign(Object.assign({},Ge),Cn.image),Xt==null?void 0:Xt.image)},Jr),An&&a.createElement("div",{className:q()(`${he}-description`,Jt.description,un==null?void 0:un.description),style:Object.assign(Object.assign({},Cn.description),Xt==null?void 0:Xt.description)},An),Xn&&a.createElement("div",{className:q()(`${he}-footer`,Jt.footer,un==null?void 0:un.footer),style:Object.assign(Object.assign({},Cn.footer),Xt==null?void 0:Xt.footer)},Xn)))};Xe.PRESENTED_IMAGE_DEFAULT=ct,Xe.PRESENTED_IMAGE_SIMPLE=bt;var jt=Xe},60824:function(Ir,Ft,B){"use strict";B.d(Ft,{RV:function(){return We},Rk:function(){return De},Ux:function(){return ye},aM:function(){return Te},pg:function(){return te},q3:function(){return c},qI:function(){return be}});var a=B(75271),Qe=B(93930),q=B(18051);const c=a.createContext({labelAlign:"right",vertical:!1,itemRef:()=>{}}),be=a.createContext(null),We=Ve=>{const Ie=(0,q.Z)(Ve,["prefixCls"]);return a.createElement(Qe.RV,Object.assign({},Ie))},De=a.createContext({prefixCls:""}),Te=a.createContext({}),ye=Ve=>{let{children:Ie,status:Ue,override:tt}=Ve;const ot=a.useContext(Te),Je=a.useMemo(()=>{const ct=Object.assign({},ot);return tt&&delete ct.isFormItemInput,Ue&&(delete ct.status,delete ct.hasFeedback,delete ct.feedbackIcon),ct},[Ue,tt,ot]);return a.createElement(Te.Provider,{value:Je},Ie)},te=a.createContext(void 0)},7038:function(Ir,Ft,B){"use strict";var a=B(75271),Qe=B(60824),q=B(98446);const c=function(be,We){let De=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;var Te,ye;const{variant:te,[be]:Ve}=a.useContext(q.E_),Ie=a.useContext(Qe.pg),Ue=Ve==null?void 0:Ve.variant;let tt;typeof We!="undefined"?tt=We:De===!1?tt="borderless":tt=(ye=(Te=Ie!=null?Ie:Ue)!==null&&Te!==void 0?Te:te)!==null&&ye!==void 0?ye:"outlined";const ot=q.tr.includes(tt);return[tt,ot]};Ft.Z=c},54735:function(Ir,Ft,B){"use strict";B.d(Ft,{Z:function(){return to}});var a=B(60824),Qe=B(46865),q=B(75271),c=B(82187),be=B.n(c),We=B(62803),De=B(13635),Te=B(38437);function ye(gt){const[wn,qt]=q.useState(gt);return q.useEffect(()=>{const Nn=setTimeout(()=>{qt(gt)},gt.length?0:10);return()=>{clearTimeout(Nn)}},[gt]),wn}var te=B(55921),Ve=B(34299),Ie=B(3153),Ue=B(40894),tt=B(83509),ot=B(84825),ct=gt=>{const{componentCls:wn}=gt,qt=`${wn}-show-help`,Nn=`${wn}-show-help-item`;return{[qt]:{transition:`opacity ${gt.motionDurationFast} ${gt.motionEaseInOut}`,"&-appear, &-enter":{opacity:0,"&-active":{opacity:1}},"&-leave":{opacity:1,"&-active":{opacity:0}},[Nn]:{overflow:"hidden",transition:`height ${gt.motionDurationFast} ${gt.motionEaseInOut},
                     opacity ${gt.motionDurationFast} ${gt.motionEaseInOut},
                     transform ${gt.motionDurationFast} ${gt.motionEaseInOut} !important`,[`&${Nn}-appear, &${Nn}-enter`]:{transform:"translateY(-5px)",opacity:0,"&-active":{transform:"translateY(0)",opacity:1}},[`&${Nn}-leave-active`]:{transform:"translateY(-5px)"}}}}};const bt=gt=>({legend:{display:"block",width:"100%",marginBottom:gt.marginLG,padding:0,color:gt.colorTextDescription,fontSize:gt.fontSizeLG,lineHeight:"inherit",border:0,borderBottom:`${(0,te.bf)(gt.lineWidth)} ${gt.lineType} ${gt.colorBorder}`},'input[type="search"]':{boxSizing:"border-box"},'input[type="radio"], input[type="checkbox"]':{lineHeight:"normal"},'input[type="file"]':{display:"block"},'input[type="range"]':{display:"block",width:"100%"},"select[multiple], select[size]":{height:"auto"},"input[type='file']:focus,\n  input[type='radio']:focus,\n  input[type='checkbox']:focus":{outline:0,boxShadow:`0 0 0 ${(0,te.bf)(gt.controlOutlineWidth)} ${gt.controlOutline}`},output:{display:"block",paddingTop:15,color:gt.colorText,fontSize:gt.fontSize,lineHeight:gt.lineHeight}}),Xe=(gt,wn)=>{const{formItemCls:qt}=gt;return{[qt]:{[`${qt}-label > label`]:{height:wn},[`${qt}-control-input`]:{minHeight:wn}}}},jt=gt=>{const{componentCls:wn}=gt;return{[gt.componentCls]:Object.assign(Object.assign(Object.assign({},(0,Ve.Wf)(gt)),bt(gt)),{[`${wn}-text`]:{display:"inline-block",paddingInlineEnd:gt.paddingSM},"&-small":Object.assign({},Xe(gt,gt.controlHeightSM)),"&-large":Object.assign({},Xe(gt,gt.controlHeightLG))})}},vt=gt=>{const{formItemCls:wn,iconCls:qt,componentCls:Nn,rootPrefixCls:sr,antCls:Wr,labelRequiredMarkColor:Pi,labelColor:Co,labelFontSize:Vi,labelHeight:uo,labelColonMarginInlineStart:fo,labelColonMarginInlineEnd:Ki,itemMarginBottom:Mo}=gt;return{[wn]:Object.assign(Object.assign({},(0,Ve.Wf)(gt)),{marginBottom:Mo,verticalAlign:"top","&-with-help":{transition:"none"},[`&-hidden,
        &-hidden${Wr}-row`]:{display:"none"},"&-has-warning":{[`${wn}-split`]:{color:gt.colorError}},"&-has-error":{[`${wn}-split`]:{color:gt.colorWarning}},[`${wn}-label`]:{flexGrow:0,overflow:"hidden",whiteSpace:"nowrap",textAlign:"end",verticalAlign:"middle","&-left":{textAlign:"start"},"&-wrap":{overflow:"unset",lineHeight:gt.lineHeight,whiteSpace:"unset"},"> label":{position:"relative",display:"inline-flex",alignItems:"center",maxWidth:"100%",height:uo,color:Co,fontSize:Vi,[`> ${qt}`]:{fontSize:gt.fontSize,verticalAlign:"top"},[`&${wn}-required:not(${wn}-required-mark-optional)::before`]:{display:"inline-block",marginInlineEnd:gt.marginXXS,color:Pi,fontSize:gt.fontSize,fontFamily:"SimSun, sans-serif",lineHeight:1,content:'"*"',[`${Nn}-hide-required-mark &`]:{display:"none"}},[`${wn}-optional`]:{display:"inline-block",marginInlineStart:gt.marginXXS,color:gt.colorTextDescription,[`${Nn}-hide-required-mark &`]:{display:"none"}},[`${wn}-tooltip`]:{color:gt.colorTextDescription,cursor:"help",writingMode:"horizontal-tb",marginInlineStart:gt.marginXXS},"&::after":{content:'":"',position:"relative",marginBlock:0,marginInlineStart:fo,marginInlineEnd:Ki},[`&${wn}-no-colon::after`]:{content:'"\\a0"'}}},[`${wn}-control`]:{"--ant-display":"flex",flexDirection:"column",flexGrow:1,[`&:first-child:not([class^="'${sr}-col-'"]):not([class*="' ${sr}-col-'"])`]:{width:"100%"},"&-input":{position:"relative",display:"flex",alignItems:"center",minHeight:gt.controlHeight,"&-content":{flex:"auto",maxWidth:"100%"}}},[wn]:{"&-additional":{display:"flex",flexDirection:"column"},"&-explain, &-extra":{clear:"both",color:gt.colorTextDescription,fontSize:gt.fontSize,lineHeight:gt.lineHeight},"&-explain-connected":{width:"100%"},"&-extra":{minHeight:gt.controlHeightSM,transition:`color ${gt.motionDurationMid} ${gt.motionEaseOut}`},"&-explain":{"&-error":{color:gt.colorError},"&-warning":{color:gt.colorWarning}}},[`&-with-help ${wn}-explain`]:{height:"auto",opacity:1},[`${wn}-feedback-icon`]:{fontSize:gt.fontSize,textAlign:"center",visibility:"visible",animationName:Ie.kr,animationDuration:gt.motionDurationMid,animationTimingFunction:gt.motionEaseOutBack,pointerEvents:"none","&-success":{color:gt.colorSuccess},"&-error":{color:gt.colorError},"&-warning":{color:gt.colorWarning},"&-validating":{color:gt.colorPrimary}}})}},Mt=(gt,wn)=>{const{formItemCls:qt}=gt;return{[`${wn}-horizontal`]:{[`${qt}-label`]:{flexGrow:0},[`${qt}-control`]:{flex:"1 1 0",minWidth:0},[`${qt}-label[class$='-24'], ${qt}-label[class*='-24 ']`]:{[`& + ${qt}-control`]:{minWidth:"unset"}}}}},Ut=gt=>{const{componentCls:wn,formItemCls:qt,inlineItemMarginBottom:Nn}=gt;return{[`${wn}-inline`]:{display:"flex",flexWrap:"wrap",[qt]:{flex:"none",marginInlineEnd:gt.margin,marginBottom:Nn,"&-row":{flexWrap:"nowrap"},[`> ${qt}-label,
        > ${qt}-control`]:{display:"inline-block",verticalAlign:"top"},[`> ${qt}-label`]:{flex:"none"},[`${wn}-text`]:{display:"inline-block"},[`${qt}-has-feedback`]:{display:"inline-block"}}}}},Vt=gt=>({padding:gt.verticalLabelPadding,margin:gt.verticalLabelMargin,whiteSpace:"initial",textAlign:"start","> label":{margin:0,"&::after":{visibility:"hidden"}}}),yr=gt=>{const{componentCls:wn,formItemCls:qt,rootPrefixCls:Nn}=gt;return{[`${qt} ${qt}-label`]:Vt(gt),[`${wn}:not(${wn}-inline)`]:{[qt]:{flexWrap:"wrap",[`${qt}-label, ${qt}-control`]:{[`&:not([class*=" ${Nn}-col-xs"])`]:{flex:"0 0 100%",maxWidth:"100%"}}}}}},lr=gt=>{const{componentCls:wn,formItemCls:qt,antCls:Nn}=gt;return{[`${wn}-vertical`]:{[`${qt}:not(${qt}-horizontal)`]:{[`${qt}-row`]:{flexDirection:"column"},[`${qt}-label > label`]:{height:"auto"},[`${qt}-control`]:{width:"100%"},[`${qt}-label,
        ${Nn}-col-24${qt}-label,
        ${Nn}-col-xl-24${qt}-label`]:Vt(gt)}},[`@media (max-width: ${(0,te.bf)(gt.screenXSMax)})`]:[yr(gt),{[wn]:{[`${qt}:not(${qt}-horizontal)`]:{[`${Nn}-col-xs-24${qt}-label`]:Vt(gt)}}}],[`@media (max-width: ${(0,te.bf)(gt.screenSMMax)})`]:{[wn]:{[`${qt}:not(${qt}-horizontal)`]:{[`${Nn}-col-sm-24${qt}-label`]:Vt(gt)}}},[`@media (max-width: ${(0,te.bf)(gt.screenMDMax)})`]:{[wn]:{[`${qt}:not(${qt}-horizontal)`]:{[`${Nn}-col-md-24${qt}-label`]:Vt(gt)}}},[`@media (max-width: ${(0,te.bf)(gt.screenLGMax)})`]:{[wn]:{[`${qt}:not(${qt}-horizontal)`]:{[`${Nn}-col-lg-24${qt}-label`]:Vt(gt)}}}}},Xn=gt=>{const{formItemCls:wn,antCls:qt}=gt;return{[`${wn}-vertical`]:{[`${wn}-row`]:{flexDirection:"column"},[`${wn}-label > label`]:{height:"auto"},[`${wn}-control`]:{width:"100%"}},[`${wn}-vertical ${wn}-label,
      ${qt}-col-24${wn}-label,
      ${qt}-col-xl-24${wn}-label`]:Vt(gt),[`@media (max-width: ${(0,te.bf)(gt.screenXSMax)})`]:[yr(gt),{[wn]:{[`${qt}-col-xs-24${wn}-label`]:Vt(gt)}}],[`@media (max-width: ${(0,te.bf)(gt.screenSMMax)})`]:{[wn]:{[`${qt}-col-sm-24${wn}-label`]:Vt(gt)}},[`@media (max-width: ${(0,te.bf)(gt.screenMDMax)})`]:{[wn]:{[`${qt}-col-md-24${wn}-label`]:Vt(gt)}},[`@media (max-width: ${(0,te.bf)(gt.screenLGMax)})`]:{[wn]:{[`${qt}-col-lg-24${wn}-label`]:Vt(gt)}}}},Ge=gt=>({labelRequiredMarkColor:gt.colorError,labelColor:gt.colorTextHeading,labelFontSize:gt.fontSize,labelHeight:gt.controlHeight,labelColonMarginInlineStart:gt.marginXXS/2,labelColonMarginInlineEnd:gt.marginXS,itemMarginBottom:gt.marginLG,verticalLabelPadding:`0 0 ${gt.paddingXS}px`,verticalLabelMargin:0,inlineItemMarginBottom:0}),Ht=(gt,wn)=>(0,tt.IX)(gt,{formItemCls:`${gt.componentCls}-item`,rootPrefixCls:wn});var un=(0,ot.I$)("Form",(gt,wn)=>{let{rootPrefixCls:qt}=wn;const Nn=Ht(gt,qt);return[jt(Nn),vt(Nn),ct(Nn),Mt(Nn,Nn.componentCls),Mt(Nn,Nn.formItemCls),Ut(Nn),lr(Nn),Xn(Nn),(0,Ue.Z)(Nn),Ie.kr]},Ge,{order:-1e3});const Xt=[];function ke(gt,wn,qt){let Nn=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;return{key:typeof gt=="string"?gt:`${wn}-${Nn}`,error:gt,errorStatus:qt}}var mn=gt=>{let{help:wn,helpStatus:qt,errors:Nn=Xt,warnings:sr=Xt,className:Wr,fieldId:Pi,onVisibleChanged:Co}=gt;const{prefixCls:Vi}=q.useContext(a.Rk),uo=`${Vi}-item-explain`,fo=(0,Te.Z)(Vi),[Ki,Mo,Zo]=un(Vi,fo),Lo=q.useMemo(()=>(0,De.Z)(Vi),[Vi]),To=ye(Nn),$o=ye(sr),zo=q.useMemo(()=>wn!=null?[ke(wn,"help",qt)]:[].concat((0,Qe.Z)(To.map((So,wo)=>ke(So,"error","error",wo))),(0,Qe.Z)($o.map((So,wo)=>ke(So,"warning","warning",wo)))),[wn,qt,To,$o]),qo=q.useMemo(()=>{const So={};return zo.forEach(wo=>{let{key:K}=wo;So[K]=(So[K]||0)+1}),zo.map((wo,K)=>Object.assign(Object.assign({},wo),{key:So[wo.key]>1?`${wo.key}-fallback-${K}`:wo.key}))},[zo]),ho={};return Pi&&(ho.id=`${Pi}_help`),Ki(q.createElement(We.ZP,{motionDeadline:Lo.motionDeadline,motionName:`${Vi}-show-help`,visible:!!qo.length,onVisibleChanged:Co},So=>{const{className:wo,style:K}=So;return q.createElement("div",Object.assign({},ho,{className:be()(uo,wo,Zo,fo,Wr,Mo),style:K}),q.createElement(We.V4,Object.assign({keys:qo},(0,De.Z)(Vi),{motionName:`${Vi}-show-help-item`,component:!1}),_e=>{const{key:Ct,error:Et,errorStatus:En,className:Qn,style:si}=_e;return q.createElement("div",{key:Ct,className:be()(Qn,{[`${uo}-${En}`]:En}),style:si},Et)}))}))},Rn=B(93930),ut=B(98446),Jt=B(98472),Cn=B(95741),he=B(10497),Qt=B(4525),xi=B(56680);const ui=["parentNode"],Ae="form_item";function An(gt){return gt===void 0||gt===!1?[]:Array.isArray(gt)?gt:[gt]}function Ur(gt,wn){if(!gt.length)return;const qt=gt.join("_");return wn?`${wn}_${qt}`:ui.includes(qt)?`${Ae}_${qt}`:qt}function Jr(gt,wn,qt,Nn,sr,Wr){let Pi=Nn;return Wr!==void 0?Pi=Wr:qt.validating?Pi="validating":gt.length?Pi="error":wn.length?Pi="warning":(qt.touched||sr&&qt.validated)&&(Pi="success"),Pi}var On=function(gt,wn){var qt={};for(var Nn in gt)Object.prototype.hasOwnProperty.call(gt,Nn)&&wn.indexOf(Nn)<0&&(qt[Nn]=gt[Nn]);if(gt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var sr=0,Nn=Object.getOwnPropertySymbols(gt);sr<Nn.length;sr++)wn.indexOf(Nn[sr])<0&&Object.prototype.propertyIsEnumerable.call(gt,Nn[sr])&&(qt[Nn[sr]]=gt[Nn[sr]]);return qt};function Kr(gt){return An(gt).join("_")}function Ti(gt,wn){const qt=wn.getFieldInstance(gt),Nn=(0,Qt.bn)(qt);if(Nn)return Nn;const sr=Ur(An(gt),wn.__INTERNAL__.name);if(sr)return document.getElementById(sr)}function fr(gt){const[wn]=(0,Rn.cI)(),qt=q.useRef({}),Nn=q.useMemo(()=>gt!=null?gt:Object.assign(Object.assign({},wn),{__INTERNAL__:{itemRef:sr=>Wr=>{const Pi=Kr(sr);Wr?qt.current[Pi]=Wr:delete qt.current[Pi]}},scrollToField:function(sr){let Wr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{focus:Pi}=Wr,Co=On(Wr,["focus"]),Vi=Ti(sr,Nn);Vi&&((0,xi.Z)(Vi,Object.assign({scrollMode:"if-needed",block:"nearest"},Co)),Pi&&Nn.focusField(sr))},focusField:sr=>{var Wr,Pi;const Co=Nn.getFieldInstance(sr);typeof(Co==null?void 0:Co.focus)=="function"?Co.focus():(Pi=(Wr=Ti(sr,Nn))===null||Wr===void 0?void 0:Wr.focus)===null||Pi===void 0||Pi.call(Wr)},getFieldInstance:sr=>{const Wr=Kr(sr);return qt.current[Wr]}}),[gt,wn]);return[Nn]}var it=B(63613),Ot=function(gt,wn){var qt={};for(var Nn in gt)Object.prototype.hasOwnProperty.call(gt,Nn)&&wn.indexOf(Nn)<0&&(qt[Nn]=gt[Nn]);if(gt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var sr=0,Nn=Object.getOwnPropertySymbols(gt);sr<Nn.length;sr++)wn.indexOf(Nn[sr])<0&&Object.prototype.propertyIsEnumerable.call(gt,Nn[sr])&&(qt[Nn[sr]]=gt[Nn[sr]]);return qt};const Dn=(gt,wn)=>{const qt=q.useContext(Jt.Z),{getPrefixCls:Nn,direction:sr,requiredMark:Wr,colon:Pi,scrollToFirstError:Co,className:Vi,style:uo}=(0,ut.dj)("form"),{prefixCls:fo,className:Ki,rootClassName:Mo,size:Zo,disabled:Lo=qt,form:To,colon:$o,labelAlign:zo,labelWrap:qo,labelCol:ho,wrapperCol:So,hideRequiredMark:wo,layout:K="horizontal",scrollToFirstError:_e,requiredMark:Ct,onFinishFailed:Et,name:En,style:Qn,feedbackIcons:si,variant:Or}=gt,Ri=Ot(gt,["prefixCls","className","rootClassName","size","disabled","form","colon","labelAlign","labelWrap","labelCol","wrapperCol","hideRequiredMark","layout","scrollToFirstError","requiredMark","onFinishFailed","name","style","feedbackIcons","variant"]),_o=(0,Cn.Z)(Zo),Lr=q.useContext(it.Z),Ji=q.useMemo(()=>Ct!==void 0?Ct:wo?!1:Wr!==void 0?Wr:!0,[wo,Ct,Wr]),zr=$o!=null?$o:Pi,Si=Nn("form",fo),ai=(0,Te.Z)(Si),[mi,Xo,Uo]=un(Si,ai),sn=be()(Si,`${Si}-${K}`,{[`${Si}-hide-required-mark`]:Ji===!1,[`${Si}-rtl`]:sr==="rtl",[`${Si}-${_o}`]:_o},Uo,ai,Xo,Vi,Ki,Mo),[qe]=fr(To),{__INTERNAL__:Ce}=qe;Ce.name=En;const Ye=q.useMemo(()=>({name:En,labelAlign:zo,labelCol:ho,labelWrap:qo,wrapperCol:So,vertical:K==="vertical",colon:zr,requiredMark:Ji,itemRef:Ce.itemRef,form:qe,feedbackIcons:si}),[En,zo,ho,So,K,zr,Ji,qe,si]),Fe=q.useRef(null);q.useImperativeHandle(wn,()=>{var ir;return Object.assign(Object.assign({},qe),{nativeElement:(ir=Fe.current)===null||ir===void 0?void 0:ir.nativeElement})});const Nt=(ir,Ar)=>{if(ir){let Nr={block:"nearest"};typeof ir=="object"&&(Nr=Object.assign(Object.assign({},Nr),ir)),qe.scrollToField(Ar,Nr)}},hn=ir=>{if(Et==null||Et(ir),ir.errorFields.length){const Ar=ir.errorFields[0].name;if(_e!==void 0){Nt(_e,Ar);return}Co!==void 0&&Nt(Co,Ar)}};return mi(q.createElement(a.pg.Provider,{value:Or},q.createElement(Jt.n,{disabled:Lo},q.createElement(he.Z.Provider,{value:_o},q.createElement(a.RV,{validateMessages:Lr},q.createElement(a.q3.Provider,{value:Ye},q.createElement(Rn.ZP,Object.assign({id:En},Ri,{name:En,onFinishFailed:hn,form:qe,ref:Fe,style:Object.assign(Object.assign({},uo),Qn),className:sn}))))))))};var gn=q.forwardRef(Dn),wr=B(60784),Hn=B(42684),oi=B(26021),pi=B(87117),ri=B(81626);function ni(gt){if(typeof gt=="function")return gt;const wn=(0,ri.Z)(gt);return wn.length<=1?wn[0]:wn}const Cr=()=>{const{status:gt,errors:wn=[],warnings:qt=[]}=q.useContext(a.aM);return{status:gt,errors:wn,warnings:qt}};Cr.Context=a.aM;var qn=Cr,_r=B(49975);function Pr(gt){const[wn,qt]=q.useState(gt),Nn=q.useRef(null),sr=q.useRef([]),Wr=q.useRef(!1);q.useEffect(()=>(Wr.current=!1,()=>{Wr.current=!0,_r.Z.cancel(Nn.current),Nn.current=null}),[]);function Pi(Co){Wr.current||(Nn.current===null&&(sr.current=[],Nn.current=(0,_r.Z)(()=>{Nn.current=null,qt(Vi=>{let uo=Vi;return sr.current.forEach(fo=>{uo=fo(uo)}),uo})})),sr.current.push(Co))}return[wn,Pi]}function Tr(){const{itemRef:gt}=q.useContext(a.q3),wn=q.useRef({});function qt(Nn,sr){const Wr=sr&&typeof sr=="object"&&(0,Hn.C4)(sr),Pi=Nn.join("_");return(wn.current.name!==Pi||wn.current.originRef!==Wr)&&(wn.current.name=Pi,wn.current.originRef=Wr,wn.current.ref=(0,Hn.sQ)(gt(Nn),Wr)),wn.current.ref}return qt}var ei=B(60900),ar=B(92076),mr=B(18051),ii=B(78769),Wn=B(22217),di=B(11365);const Ci=gt=>{const{formItemCls:wn}=gt;return{"@media screen and (-ms-high-contrast: active), (-ms-high-contrast: none)":{[`${wn}-control`]:{display:"flex"}}}};var eo=(0,ot.bk)(["Form","item-item"],(gt,wn)=>{let{rootPrefixCls:qt}=wn;const Nn=Ht(gt,qt);return[Ci(Nn)]}),Io=function(gt,wn){var qt={};for(var Nn in gt)Object.prototype.hasOwnProperty.call(gt,Nn)&&wn.indexOf(Nn)<0&&(qt[Nn]=gt[Nn]);if(gt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var sr=0,Nn=Object.getOwnPropertySymbols(gt);sr<Nn.length;sr++)wn.indexOf(Nn[sr])<0&&Object.prototype.propertyIsEnumerable.call(gt,Nn[sr])&&(qt[Nn[sr]]=gt[Nn[sr]]);return qt};const ci=24;var nn=gt=>{const{prefixCls:wn,status:qt,labelCol:Nn,wrapperCol:sr,children:Wr,errors:Pi,warnings:Co,_internalItemRender:Vi,extra:uo,help:fo,fieldId:Ki,marginBottom:Mo,onErrorVisibleChanged:Zo,label:Lo}=gt,To=`${wn}-item`,$o=q.useContext(a.q3),zo=q.useMemo(()=>{let Ri=Object.assign({},sr||$o.wrapperCol||{});return Lo===null&&!Nn&&!sr&&$o.labelCol&&[void 0,"xs","sm","md","lg","xl","xxl"].forEach(Lr=>{const Ji=Lr?[Lr]:[],zr=(0,Wn.U2)($o.labelCol,Ji),Si=typeof zr=="object"?zr:{},ai=(0,Wn.U2)(Ri,Ji),mi=typeof ai=="object"?ai:{};"span"in Si&&!("offset"in mi)&&Si.span<ci&&(Ri=(0,Wn.t8)(Ri,[].concat(Ji,["offset"]),Si.span))}),Ri},[sr,$o]),qo=be()(`${To}-control`,zo.className),ho=q.useMemo(()=>{const{labelCol:Ri,wrapperCol:_o}=$o;return Io($o,["labelCol","wrapperCol"])},[$o]),So=q.useRef(null),[wo,K]=q.useState(0);(0,ar.Z)(()=>{uo&&So.current?K(So.current.clientHeight):K(0)},[uo]);const _e=q.createElement("div",{className:`${To}-control-input`},q.createElement("div",{className:`${To}-control-input-content`},Wr)),Ct=q.useMemo(()=>({prefixCls:wn,status:qt}),[wn,qt]),Et=Mo!==null||Pi.length||Co.length?q.createElement(a.Rk.Provider,{value:Ct},q.createElement(mn,{fieldId:Ki,errors:Pi,warnings:Co,help:fo,helpStatus:qt,className:`${To}-explain-connected`,onVisibleChanged:Zo})):null,En={};Ki&&(En.id=`${Ki}_extra`);const Qn=uo?q.createElement("div",Object.assign({},En,{className:`${To}-extra`,ref:So}),uo):null,si=Et||Qn?q.createElement("div",{className:`${To}-additional`,style:Mo?{minHeight:Mo+wo}:{}},Et,Qn):null,Or=Vi&&Vi.mark==="pro_table_render"&&Vi.render?Vi.render(gt,{input:_e,errorList:Et,extra:Qn}):q.createElement(q.Fragment,null,_e,si);return q.createElement(a.q3.Provider,{value:ho},q.createElement(di.Z,Object.assign({},zo,{className:qo}),Or),q.createElement(eo,{prefixCls:wn}))},Mn=B(23022),Ee={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M623.6 316.7C593.6 290.4 554 276 512 276s-81.6 14.5-111.6 40.7C369.2 344 352 380.7 352 420v7.6c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V420c0-44.1 43.1-80 96-80s96 35.9 96 80c0 31.1-22 59.6-56.1 72.7-21.2 8.1-39.2 22.3-52.1 40.9-13.1 19-19.9 41.8-19.9 64.9V620c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8v-22.7a48.3 48.3 0 0130.9-44.8c59-22.7 97.1-74.7 97.1-132.5.1-39.3-17.1-76-48.3-103.3zM472 732a40 40 0 1080 0 40 40 0 10-80 0z"}}]},name:"question-circle",theme:"outlined"},dn=Ee,br=B(23738),rr=function(wn,qt){return q.createElement(br.Z,(0,Mn.Z)({},wn,{ref:qt,icon:dn}))},Yr=q.forwardRef(rr),Mi=Yr,Wi=B(77648),Bi=B(42474),Di=B(9202),Re=function(gt,wn){var qt={};for(var Nn in gt)Object.prototype.hasOwnProperty.call(gt,Nn)&&wn.indexOf(Nn)<0&&(qt[Nn]=gt[Nn]);if(gt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var sr=0,Nn=Object.getOwnPropertySymbols(gt);sr<Nn.length;sr++)wn.indexOf(Nn[sr])<0&&Object.prototype.propertyIsEnumerable.call(gt,Nn[sr])&&(qt[Nn[sr]]=gt[Nn[sr]]);return qt};function de(gt){return gt?typeof gt=="object"&&!q.isValidElement(gt)?gt:{title:gt}:null}var Ze=gt=>{let{prefixCls:wn,label:qt,htmlFor:Nn,labelCol:sr,labelAlign:Wr,colon:Pi,required:Co,requiredMark:Vi,tooltip:uo,vertical:fo}=gt;var Ki;const[Mo]=(0,Wi.Z)("Form"),{labelAlign:Zo,labelCol:Lo,labelWrap:To,colon:$o}=q.useContext(a.q3);if(!qt)return null;const zo=sr||Lo||{},qo=Wr||Zo,ho=`${wn}-item-label`,So=be()(ho,qo==="left"&&`${ho}-left`,zo.className,{[`${ho}-wrap`]:!!To});let wo=qt;const K=Pi===!0||$o!==!1&&Pi!==!1;K&&!fo&&typeof qt=="string"&&qt.trim()&&(wo=qt.replace(/[:|]\s*$/,""));const Ct=de(uo);if(Ct){const{icon:si=q.createElement(Mi,null)}=Ct,Or=Re(Ct,["icon"]),Ri=q.createElement(Di.Z,Object.assign({},Or),q.cloneElement(si,{className:`${wn}-item-tooltip`,title:"",onClick:_o=>{_o.preventDefault()},tabIndex:null}));wo=q.createElement(q.Fragment,null,wo,Ri)}const Et=Vi==="optional",En=typeof Vi=="function";En?wo=Vi(wo,{required:!!Co}):Et&&!Co&&(wo=q.createElement(q.Fragment,null,wo,q.createElement("span",{className:`${wn}-item-optional`,title:""},(Mo==null?void 0:Mo.optional)||((Ki=Bi.Z.Form)===null||Ki===void 0?void 0:Ki.optional))));const Qn=be()({[`${wn}-item-required`]:Co,[`${wn}-item-required-mark-optional`]:Et||En,[`${wn}-item-no-colon`]:!K});return q.createElement(di.Z,Object.assign({},zo,{className:So}),q.createElement("label",{htmlFor:Nn,className:Qn,title:typeof qt=="string"?qt:""},wo))},pe=B(4692),nt=B(75434),rt=B(64267),tn=B(24573);const $t={success:pe.Z,warning:rt.Z,error:nt.Z,validating:tn.Z};function ln(gt){let{children:wn,errors:qt,warnings:Nn,hasFeedback:sr,validateStatus:Wr,prefixCls:Pi,meta:Co,noStyle:Vi}=gt;const uo=`${Pi}-item`,{feedbackIcons:fo}=q.useContext(a.q3),Ki=Jr(qt,Nn,Co,null,!!sr,Wr),{isFormItemInput:Mo,status:Zo,hasFeedback:Lo,feedbackIcon:To}=q.useContext(a.aM),$o=q.useMemo(()=>{var zo;let qo;if(sr){const So=sr!==!0&&sr.icons||fo,wo=Ki&&((zo=So==null?void 0:So({status:Ki,errors:qt,warnings:Nn}))===null||zo===void 0?void 0:zo[Ki]),K=Ki&&$t[Ki];qo=wo!==!1&&K?q.createElement("span",{className:be()(`${uo}-feedback-icon`,`${uo}-feedback-icon-${Ki}`)},wo||q.createElement(K,null)):null}const ho={status:Ki||"",errors:qt,warnings:Nn,hasFeedback:!!sr,feedbackIcon:qo,isFormItemInput:!0};return Vi&&(ho.status=(Ki!=null?Ki:Zo)||"",ho.isFormItemInput=Mo,ho.hasFeedback=!!(sr!=null?sr:Lo),ho.feedbackIcon=sr!==void 0?ho.feedbackIcon:To),ho},[Ki,sr,Vi,Mo,Zo]);return q.createElement(a.aM.Provider,{value:$o},wn)}var vn=function(gt,wn){var qt={};for(var Nn in gt)Object.prototype.hasOwnProperty.call(gt,Nn)&&wn.indexOf(Nn)<0&&(qt[Nn]=gt[Nn]);if(gt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var sr=0,Nn=Object.getOwnPropertySymbols(gt);sr<Nn.length;sr++)wn.indexOf(Nn[sr])<0&&Object.prototype.propertyIsEnumerable.call(gt,Nn[sr])&&(qt[Nn[sr]]=gt[Nn[sr]]);return qt};function et(gt){const{prefixCls:wn,className:qt,rootClassName:Nn,style:sr,help:Wr,errors:Pi,warnings:Co,validateStatus:Vi,meta:uo,hasFeedback:fo,hidden:Ki,children:Mo,fieldId:Zo,required:Lo,isRequired:To,onSubItemMetaChange:$o,layout:zo}=gt,qo=vn(gt,["prefixCls","className","rootClassName","style","help","errors","warnings","validateStatus","meta","hasFeedback","hidden","children","fieldId","required","isRequired","onSubItemMetaChange","layout"]),ho=`${wn}-item`,{requiredMark:So,vertical:wo}=q.useContext(a.q3),K=wo||zo==="vertical",_e=q.useRef(null),Ct=ye(Pi),Et=ye(Co),En=Wr!=null,Qn=!!(En||Pi.length||Co.length),si=!!_e.current&&(0,ei.Z)(_e.current),[Or,Ri]=q.useState(null);(0,ar.Z)(()=>{if(Qn&&_e.current){const Si=getComputedStyle(_e.current);Ri(parseInt(Si.marginBottom,10))}},[Qn,si]);const _o=Si=>{Si||Ri(null)},Ji=function(){let Si=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const ai=Si?Ct:uo.errors,mi=Si?Et:uo.warnings;return Jr(ai,mi,uo,"",!!fo,Vi)}(),zr=be()(ho,qt,Nn,{[`${ho}-with-help`]:En||Ct.length||Et.length,[`${ho}-has-feedback`]:Ji&&fo,[`${ho}-has-success`]:Ji==="success",[`${ho}-has-warning`]:Ji==="warning",[`${ho}-has-error`]:Ji==="error",[`${ho}-is-validating`]:Ji==="validating",[`${ho}-hidden`]:Ki,[`${ho}-${zo}`]:zo});return q.createElement("div",{className:zr,style:sr,ref:_e},q.createElement(ii.Z,Object.assign({className:`${ho}-row`},(0,mr.Z)(qo,["_internalItemRender","colon","dependencies","extra","fieldKey","getValueFromEvent","getValueProps","htmlFor","id","initialValue","isListField","label","labelAlign","labelCol","labelWrap","messageVariables","name","normalize","noStyle","preserve","requiredMark","rules","shouldUpdate","trigger","tooltip","validateFirst","validateTrigger","valuePropName","wrapperCol","validateDebounce"])),q.createElement(Ze,Object.assign({htmlFor:Zo},gt,{requiredMark:So,required:Lo!=null?Lo:To,prefixCls:wn,vertical:K})),q.createElement(nn,Object.assign({},gt,uo,{errors:Ct,warnings:Et,prefixCls:wn,status:Ji,help:Wr,marginBottom:Or,onErrorVisibleChanged:_o}),q.createElement(a.qI.Provider,{value:$o},q.createElement(ln,{prefixCls:wn,meta:uo,errors:uo.errors,warnings:uo.warnings,hasFeedback:fo,validateStatus:Ji},Mo)))),!!Or&&q.createElement("div",{className:`${ho}-margin-offset`,style:{marginBottom:-Or}}))}const Rt="__SPLIT__",Kt=null;function rn(gt,wn){const qt=Object.keys(gt),Nn=Object.keys(wn);return qt.length===Nn.length&&qt.every(sr=>{const Wr=gt[sr],Pi=wn[sr];return Wr===Pi||typeof Wr=="function"||typeof Pi=="function"})}const dt=q.memo(gt=>{let{children:wn}=gt;return wn},(gt,wn)=>rn(gt.control,wn.control)&&gt.update===wn.update&&gt.childProps.length===wn.childProps.length&&gt.childProps.every((qt,Nn)=>qt===wn.childProps[Nn]));function at(){return{errors:[],warnings:[],touched:!1,validating:!1,name:[],validated:!1}}function Sn(gt){const{name:wn,noStyle:qt,className:Nn,dependencies:sr,prefixCls:Wr,shouldUpdate:Pi,rules:Co,children:Vi,required:uo,label:fo,messageVariables:Ki,trigger:Mo="onChange",validateTrigger:Zo,hidden:Lo,help:To,layout:$o}=gt,{getPrefixCls:zo}=q.useContext(ut.E_),{name:qo}=q.useContext(a.q3),ho=ni(Vi),So=typeof ho=="function",wo=q.useContext(a.qI),{validateTrigger:K}=q.useContext(Rn.zb),_e=Zo!==void 0?Zo:K,Ct=wn!=null,Et=zo("form",Wr),En=(0,Te.Z)(Et),[Qn,si,Or]=un(Et,En),Ri=(0,pi.ln)("Form.Item"),_o=q.useContext(Rn.ZM),Lr=q.useRef(null),[Ji,zr]=Pr({}),[Si,ai]=(0,wr.Z)(()=>at()),mi=Fe=>{const Nt=_o==null?void 0:_o.getKey(Fe.name);if(ai(Fe.destroy?at():Fe,!0),qt&&To!==!1&&wo){let hn=Fe.name;if(Fe.destroy)hn=Lr.current||hn;else if(Nt!==void 0){const[ir,Ar]=Nt;hn=[ir].concat((0,Qe.Z)(Ar)),Lr.current=hn}wo(Fe,hn)}},Xo=(Fe,Nt)=>{zr(hn=>{const ir=Object.assign({},hn),Nr=[].concat((0,Qe.Z)(Fe.name.slice(0,-1)),(0,Qe.Z)(Nt)).join(Rt);return Fe.destroy?delete ir[Nr]:ir[Nr]=Fe,ir})},[Uo,sn]=q.useMemo(()=>{const Fe=(0,Qe.Z)(Si.errors),Nt=(0,Qe.Z)(Si.warnings);return Object.values(Ji).forEach(hn=>{Fe.push.apply(Fe,(0,Qe.Z)(hn.errors||[])),Nt.push.apply(Nt,(0,Qe.Z)(hn.warnings||[]))}),[Fe,Nt]},[Ji,Si.errors,Si.warnings]),qe=Tr();function Ce(Fe,Nt,hn){return qt&&!Lo?q.createElement(ln,{prefixCls:Et,hasFeedback:gt.hasFeedback,validateStatus:gt.validateStatus,meta:Si,errors:Uo,warnings:sn,noStyle:!0},Fe):q.createElement(et,Object.assign({key:"row"},gt,{className:be()(Nn,Or,En,si),prefixCls:Et,fieldId:Nt,isRequired:hn,errors:Uo,warnings:sn,meta:Si,onSubItemMetaChange:Xo,layout:$o}),Fe)}if(!Ct&&!So&&!sr)return Qn(Ce(ho));let Ye={};return typeof fo=="string"?Ye.label=fo:wn&&(Ye.label=String(wn)),Ki&&(Ye=Object.assign(Object.assign({},Ye),Ki)),Qn(q.createElement(Rn.gN,Object.assign({},gt,{messageVariables:Ye,trigger:Mo,validateTrigger:_e,onMetaChange:mi}),(Fe,Nt,hn)=>{const ir=An(wn).length&&Nt?Nt.name:[],Ar=Ur(ir,qo),Nr=uo!==void 0?uo:!!(Co!=null&&Co.some(Fi=>{if(Fi&&typeof Fi=="object"&&Fi.required&&!Fi.warningOnly)return!0;if(typeof Fi=="function"){const Ao=Fi(hn);return(Ao==null?void 0:Ao.required)&&!(Ao!=null&&Ao.warningOnly)}return!1})),Rr=Object.assign({},Fe);let _i=null;if(Array.isArray(ho)&&Ct)_i=ho;else if(!(So&&(!(Pi||sr)||Ct))){if(!(sr&&!So&&!Ct))if(q.isValidElement(ho)){const Fi=Object.assign(Object.assign({},ho.props),Rr);if(Fi.id||(Fi.id=Ar),To||Uo.length>0||sn.length>0||gt.extra){const Zi=[];(To||Uo.length>0)&&Zi.push(`${Ar}_help`),gt.extra&&Zi.push(`${Ar}_extra`),Fi["aria-describedby"]=Zi.join(" ")}Uo.length>0&&(Fi["aria-invalid"]="true"),Nr&&(Fi["aria-required"]="true"),(0,Hn.Yr)(ho)&&(Fi.ref=qe(ir,ho)),new Set([].concat((0,Qe.Z)(An(Mo)),(0,Qe.Z)(An(_e)))).forEach(Zi=>{Fi[Zi]=function(){for(var li,Xi,Yi,Po,la,da=arguments.length,ma=new Array(da),ba=0;ba<da;ba++)ma[ba]=arguments[ba];(Yi=Rr[Zi])===null||Yi===void 0||(li=Yi).call.apply(li,[Rr].concat(ma)),(la=(Po=ho.props)[Zi])===null||la===void 0||(Xi=la).call.apply(Xi,[Po].concat(ma))}});const Ai=[Fi["aria-required"],Fi["aria-invalid"],Fi["aria-describedby"]];_i=q.createElement(dt,{control:Rr,update:ho,childProps:Ai},(0,oi.Tm)(ho,Fi))}else So&&(Pi||sr)&&!Ct?_i=ho(hn):_i=ho}return Ce(_i,Ar,Nr)}))}const bn=Sn;bn.useStatus=qn;var Gn=bn,or=function(gt,wn){var qt={};for(var Nn in gt)Object.prototype.hasOwnProperty.call(gt,Nn)&&wn.indexOf(Nn)<0&&(qt[Nn]=gt[Nn]);if(gt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var sr=0,Nn=Object.getOwnPropertySymbols(gt);sr<Nn.length;sr++)wn.indexOf(Nn[sr])<0&&Object.prototype.propertyIsEnumerable.call(gt,Nn[sr])&&(qt[Nn[sr]]=gt[Nn[sr]]);return qt},Fr=gt=>{var{prefixCls:wn,children:qt}=gt,Nn=or(gt,["prefixCls","children"]);const{getPrefixCls:sr}=q.useContext(ut.E_),Wr=sr("form",wn),Pi=q.useMemo(()=>({prefixCls:Wr,status:"error"}),[Wr]);return q.createElement(Rn.aV,Object.assign({},Nn),(Co,Vi,uo)=>q.createElement(a.Rk.Provider,{value:Pi},qt(Co.map(fo=>Object.assign(Object.assign({},fo),{fieldKey:fo.key})),Vi,{errors:uo.errors,warnings:uo.warnings})))};function hi(){const{form:gt}=q.useContext(a.q3);return gt}const Hr=gn;Hr.Item=Gn,Hr.List=Fr,Hr.ErrorList=mn,Hr.useForm=fr,Hr.useFormInstance=hi,Hr.useWatch=Rn.qo,Hr.Provider=a.RV,Hr.create=()=>{};var to=Hr},63613:function(Ir,Ft,B){"use strict";var a=B(75271);Ft.Z=(0,a.createContext)(void 0)},60017:function(Ir,Ft,B){"use strict";var a=B(75271);const Qe=(0,a.createContext)({});Ft.Z=Qe},11365:function(Ir,Ft,B){"use strict";var a=B(75271),Qe=B(82187),q=B.n(Qe),c=B(98446),be=B(60017),We=B(40672),De=function(Ve,Ie){var Ue={};for(var tt in Ve)Object.prototype.hasOwnProperty.call(Ve,tt)&&Ie.indexOf(tt)<0&&(Ue[tt]=Ve[tt]);if(Ve!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ot=0,tt=Object.getOwnPropertySymbols(Ve);ot<tt.length;ot++)Ie.indexOf(tt[ot])<0&&Object.prototype.propertyIsEnumerable.call(Ve,tt[ot])&&(Ue[tt[ot]]=Ve[tt[ot]]);return Ue};function Te(Ve){return typeof Ve=="number"?`${Ve} ${Ve} auto`:/^\d+(\.\d+)?(px|em|rem|%)$/.test(Ve)?`0 0 ${Ve}`:Ve}const ye=["xs","sm","md","lg","xl","xxl"],te=a.forwardRef((Ve,Ie)=>{const{getPrefixCls:Ue,direction:tt}=a.useContext(c.E_),{gutter:ot,wrap:Je}=a.useContext(be.Z),{prefixCls:ct,span:bt,order:Xe,offset:jt,push:vt,pull:Mt,className:Ut,children:Vt,flex:yr,style:lr}=Ve,Xn=De(Ve,["prefixCls","span","order","offset","push","pull","className","children","flex","style"]),Ge=Ue("col",ct),[Ht,un,Xt]=(0,We.cG)(Ge),ke={};let zn={};ye.forEach(ut=>{let Jt={};const Cn=Ve[ut];typeof Cn=="number"?Jt.span=Cn:typeof Cn=="object"&&(Jt=Cn||{}),delete Xn[ut],zn=Object.assign(Object.assign({},zn),{[`${Ge}-${ut}-${Jt.span}`]:Jt.span!==void 0,[`${Ge}-${ut}-order-${Jt.order}`]:Jt.order||Jt.order===0,[`${Ge}-${ut}-offset-${Jt.offset}`]:Jt.offset||Jt.offset===0,[`${Ge}-${ut}-push-${Jt.push}`]:Jt.push||Jt.push===0,[`${Ge}-${ut}-pull-${Jt.pull}`]:Jt.pull||Jt.pull===0,[`${Ge}-rtl`]:tt==="rtl"}),Jt.flex&&(zn[`${Ge}-${ut}-flex`]=!0,ke[`--${Ge}-${ut}-flex`]=Te(Jt.flex))});const mn=q()(Ge,{[`${Ge}-${bt}`]:bt!==void 0,[`${Ge}-order-${Xe}`]:Xe,[`${Ge}-offset-${jt}`]:jt,[`${Ge}-push-${vt}`]:vt,[`${Ge}-pull-${Mt}`]:Mt},Ut,zn,un,Xt),Rn={};if(ot&&ot[0]>0){const ut=ot[0]/2;Rn.paddingLeft=ut,Rn.paddingRight=ut}return yr&&(Rn.flex=Te(yr),Je===!1&&!Rn.minWidth&&(Rn.minWidth=0)),Ht(a.createElement("div",Object.assign({},Xn,{style:Object.assign(Object.assign(Object.assign({},Rn),lr),ke),className:mn,ref:Ie}),Vt))});Ft.Z=te},19240:function(Ir,Ft,B){"use strict";var a=B(75271),Qe=B(92076),q=B(85990),c=B(96777);function be(){let We=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,De=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const Te=(0,a.useRef)(De),ye=(0,q.Z)(),te=(0,c.ZP)();return(0,Qe.Z)(()=>{const Ve=te.subscribe(Ie=>{Te.current=Ie,We&&ye()});return()=>te.unsubscribe(Ve)},[]),Te.current}Ft.Z=be},78769:function(Ir,Ft,B){"use strict";B.d(Ft,{Z:function(){return ot}});var a=B(75271),Qe=B(82187),q=B.n(Qe),c=B(96777),be=B(98446),We=B(19240);function De(Je,ct){const bt=[void 0,void 0],Xe=Array.isArray(Je)?Je:[Je,void 0],jt=ct||{xs:!0,sm:!0,md:!0,lg:!0,xl:!0,xxl:!0};return Xe.forEach((vt,Mt)=>{if(typeof vt=="object"&&vt!==null)for(let Ut=0;Ut<c.c4.length;Ut++){const Vt=c.c4[Ut];if(jt[Vt]&&vt[Vt]!==void 0){bt[Mt]=vt[Vt];break}}else bt[Mt]=vt}),bt}var Te=B(60017),ye=B(40672),te=function(Je,ct){var bt={};for(var Xe in Je)Object.prototype.hasOwnProperty.call(Je,Xe)&&ct.indexOf(Xe)<0&&(bt[Xe]=Je[Xe]);if(Je!=null&&typeof Object.getOwnPropertySymbols=="function")for(var jt=0,Xe=Object.getOwnPropertySymbols(Je);jt<Xe.length;jt++)ct.indexOf(Xe[jt])<0&&Object.prototype.propertyIsEnumerable.call(Je,Xe[jt])&&(bt[Xe[jt]]=Je[Xe[jt]]);return bt};const Ve=null,Ie=null;function Ue(Je,ct){const[bt,Xe]=a.useState(typeof Je=="string"?Je:""),jt=()=>{if(typeof Je=="string"&&Xe(Je),typeof Je=="object")for(let vt=0;vt<c.c4.length;vt++){const Mt=c.c4[vt];if(!ct||!ct[Mt])continue;const Ut=Je[Mt];if(Ut!==void 0){Xe(Ut);return}}};return a.useEffect(()=>{jt()},[JSON.stringify(Je),ct]),bt}var ot=a.forwardRef((Je,ct)=>{const{prefixCls:bt,justify:Xe,align:jt,className:vt,style:Mt,children:Ut,gutter:Vt=0,wrap:yr}=Je,lr=te(Je,["prefixCls","justify","align","className","style","children","gutter","wrap"]),{getPrefixCls:Xn,direction:Ge}=a.useContext(be.E_),Ht=(0,We.Z)(!0,null),un=Ue(jt,Ht),Xt=Ue(Xe,Ht),ke=Xn("row",bt),[zn,mn,Rn]=(0,ye.VM)(ke),ut=De(Vt,Ht),Jt=q()(ke,{[`${ke}-no-wrap`]:yr===!1,[`${ke}-${Xt}`]:Xt,[`${ke}-${un}`]:un,[`${ke}-rtl`]:Ge==="rtl"},vt,mn,Rn),Cn={},he=ut[0]!=null&&ut[0]>0?ut[0]/-2:void 0;he&&(Cn.marginLeft=he,Cn.marginRight=he);const[Qt,xi]=ut;Cn.rowGap=xi;const ui=a.useMemo(()=>({gutter:[Qt,xi],wrap:yr}),[Qt,xi,yr]);return zn(a.createElement(Te.Z.Provider,{value:ui},a.createElement("div",Object.assign({},lr,{className:Jt,style:Object.assign(Object.assign({},Cn),Mt),ref:ct}),Ut)))})},40672:function(Ir,Ft,B){"use strict";B.d(Ft,{VM:function(){return Ve},cG:function(){return Ue},hd:function(){return Ie}});var a=B(55921),Qe=B(84825),q=B(83509);const c=tt=>{const{componentCls:ot}=tt;return{[ot]:{display:"flex",flexFlow:"row wrap",minWidth:0,"&::before, &::after":{display:"flex"},"&-no-wrap":{flexWrap:"nowrap"},"&-start":{justifyContent:"flex-start"},"&-center":{justifyContent:"center"},"&-end":{justifyContent:"flex-end"},"&-space-between":{justifyContent:"space-between"},"&-space-around":{justifyContent:"space-around"},"&-space-evenly":{justifyContent:"space-evenly"},"&-top":{alignItems:"flex-start"},"&-middle":{alignItems:"center"},"&-bottom":{alignItems:"flex-end"}}}},be=tt=>{const{componentCls:ot}=tt;return{[ot]:{position:"relative",maxWidth:"100%",minHeight:1}}},We=(tt,ot)=>{const{prefixCls:Je,componentCls:ct,gridColumns:bt}=tt,Xe={};for(let jt=bt;jt>=0;jt--)jt===0?(Xe[`${ct}${ot}-${jt}`]={display:"none"},Xe[`${ct}-push-${jt}`]={insetInlineStart:"auto"},Xe[`${ct}-pull-${jt}`]={insetInlineEnd:"auto"},Xe[`${ct}${ot}-push-${jt}`]={insetInlineStart:"auto"},Xe[`${ct}${ot}-pull-${jt}`]={insetInlineEnd:"auto"},Xe[`${ct}${ot}-offset-${jt}`]={marginInlineStart:0},Xe[`${ct}${ot}-order-${jt}`]={order:0}):(Xe[`${ct}${ot}-${jt}`]=[{"--ant-display":"block",display:"block"},{display:"var(--ant-display)",flex:`0 0 ${jt/bt*100}%`,maxWidth:`${jt/bt*100}%`}],Xe[`${ct}${ot}-push-${jt}`]={insetInlineStart:`${jt/bt*100}%`},Xe[`${ct}${ot}-pull-${jt}`]={insetInlineEnd:`${jt/bt*100}%`},Xe[`${ct}${ot}-offset-${jt}`]={marginInlineStart:`${jt/bt*100}%`},Xe[`${ct}${ot}-order-${jt}`]={order:jt});return Xe[`${ct}${ot}-flex`]={flex:`var(--${Je}${ot}-flex)`},Xe},De=(tt,ot)=>We(tt,ot),Te=(tt,ot,Je)=>({[`@media (min-width: ${(0,a.bf)(ot)})`]:Object.assign({},De(tt,Je))}),ye=()=>({}),te=()=>({}),Ve=(0,Qe.I$)("Grid",c,ye),Ie=tt=>({xs:tt.screenXSMin,sm:tt.screenSMMin,md:tt.screenMDMin,lg:tt.screenLGMin,xl:tt.screenXLMin,xxl:tt.screenXXLMin}),Ue=(0,Qe.I$)("Grid",tt=>{const ot=(0,q.IX)(tt,{gridColumns:24}),Je=Ie(ot);return delete Je.xs,[be(ot),De(ot,""),De(ot,"-xs"),Object.keys(Je).map(ct=>Te(ot,Je[ct],`-${ct}`)).reduce((ct,bt)=>Object.assign(Object.assign({},ct),bt),{})]},te)},83860:function(Ir,Ft,B){"use strict";B.r(Ft),B.d(Ft,{Affix:function(){return Ut},Alert:function(){return qn},Anchor:function(){return Bi},App:function(){return Gg},AutoComplete:function(){return Mv},Avatar:function(){return hp},BackTop:function(){return al},Badge:function(){return Mu},Breadcrumb:function(){return qx},Button:function(){return Or.ZP},Calendar:function(){return lg},Card:function(){return Z0},Carousel:function(){return rS},Cascader:function(){return am},Checkbox:function(){return nh},Col:function(){return q1},Collapse:function(){return IS.Z},ColorPicker:function(){return J1.Z},ConfigProvider:function(){return _e.ZP},DatePicker:function(){return xn},Descriptions:function(){return Sl},Divider:function(){return zl.Z},Drawer:function(){return xu},Dropdown:function(){return fx},Empty:function(){return zS.Z},Flex:function(){return sM},FloatButton:function(){return SM},Form:function(){return wM.Z},Grid:function(){return IM},Image:function(){return DP},Input:function(){return mO},InputNumber:function(){return gO.Z},Layout:function(){return wO},List:function(){return C3},Mentions:function(){return X3},Menu:function(){return cc},Modal:function(){return sR},Pagination:function(){return yx},Popconfirm:function(){return _R},Popover:function(){return bd.Z},Progress:function(){return tw},QRCode:function(){return g$},Radio:function(){return nw.ZP},Rate:function(){return B$},Result:function(){return r4},Row:function(){return i4},Segmented:function(){return o4.Z},Select:function(){return Fc.default},Skeleton:function(){return vo},Slider:function(){return a4.Z},Space:function(){return u2},Spin:function(){return yv},Splitter:function(){return sF},Statistic:function(){return b4},Steps:function(){return G4},Switch:function(){return iA},Table:function(){return PL},Tabs:function(){return jy},Tag:function(){return BL},TimePicker:function(){return nz},Timeline:function(){return fz},Tooltip:function(){return qr.Z},Tour:function(){return Lz},Transfer:function(){return lN},Tree:function(){return BI},TreeSelect:function(){return FN},Typography:function(){return L6},Upload:function(){return $B},Watermark:function(){return UB},message:function(){return rR},notification:function(){return hR},theme:function(){return qL},unstableSetRender:function(){return Ct.q},version:function(){return AB.Z}});var a=B(75271),Qe=B(82187),q=B.n(Qe),c=B(40493),be=B(46865),We=B(49975);function De(e){let t;const s=f=>()=>{t=null,e.apply(void 0,(0,be.Z)(f))},o=function(){if(t==null){for(var f=arguments.length,y=new Array(f),C=0;C<f;C++)y[C]=arguments[C];t=(0,We.Z)(s(y))}};return o.cancel=()=>{We.Z.cancel(t),t=null},o}var Te=De,ye=B(98446),te=B(84825);const Ve=e=>{const{componentCls:t}=e;return{[t]:{position:"fixed",zIndex:e.zIndexPopup}}},Ie=e=>({zIndexPopup:e.zIndexBase+10});var Ue=(0,te.I$)("Affix",Ve,Ie);function tt(e){return e!==window?e.getBoundingClientRect():{top:0,bottom:window.innerHeight}}function ot(e,t,s){if(s!==void 0&&Math.round(t.top)>Math.round(e.top)-s)return s+t.top}function Je(e,t,s){if(s!==void 0&&Math.round(t.bottom)<Math.round(e.bottom)+s){const o=window.innerHeight-t.bottom;return s+o}}var ct=function(e,t){var s={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(s[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(s[o[f]]=e[o[f]]);return s};const bt=["resize","scroll","touchstart","touchmove","touchend","pageshow","load"];function Xe(){return typeof window!="undefined"?window:null}const jt=0,vt=1;var Ut=a.forwardRef((e,t)=>{var s;const{style:o,offsetTop:f,offsetBottom:y,prefixCls:C,className:w,rootClassName:I,children:D,target:L,onChange:z,onTestUpdatePosition:k}=e,j=ct(e,["style","offsetTop","offsetBottom","prefixCls","className","rootClassName","children","target","onChange","onTestUpdatePosition"]),{getPrefixCls:Z,getTargetContainer:G}=a.useContext(ye.E_),H=Z("affix",C),[X,ne]=a.useState(!1),[oe,ae]=a.useState(),[ie,le]=a.useState(),fe=a.useRef(jt),me=a.useRef(null),ge=a.useRef(null),xe=a.useRef(null),Me=a.useRef(null),$e=a.useRef(null),Oe=(s=L!=null?L:G)!==null&&s!==void 0?s:Xe,He=y===void 0&&f===void 0?0:f,Ne=()=>{if(fe.current!==vt||!Me.current||!xe.current||!Oe)return;const Dt=Oe();if(Dt){const Gt={status:jt},Pt=tt(xe.current);if(Pt.top===0&&Pt.left===0&&Pt.width===0&&Pt.height===0)return;const Pn=tt(Dt),Kn=ot(Pt,Pn,He),_n=Je(Pt,Pn,y);Kn!==void 0?(Gt.affixStyle={position:"fixed",top:Kn,width:Pt.width,height:Pt.height},Gt.placeholderStyle={width:Pt.width,height:Pt.height}):_n!==void 0&&(Gt.affixStyle={position:"fixed",bottom:_n,width:Pt.width,height:Pt.height},Gt.placeholderStyle={width:Pt.width,height:Pt.height}),Gt.lastAffix=!!Gt.affixStyle,X!==Gt.lastAffix&&(z==null||z(Gt.lastAffix)),fe.current=Gt.status,ae(Gt.affixStyle),le(Gt.placeholderStyle),ne(Gt.lastAffix)}},Ke=()=>{fe.current=vt,Ne()},je=Te(()=>{Ke()}),lt=Te(()=>{if(Oe&&oe){const Dt=Oe();if(Dt&&xe.current){const Gt=tt(Dt),Pt=tt(xe.current),Pn=ot(Pt,Gt,He),Kn=Je(Pt,Gt,y);if(Pn!==void 0&&oe.top===Pn||Kn!==void 0&&oe.bottom===Kn)return}}Ke()}),ht=()=>{const Dt=Oe==null?void 0:Oe();Dt&&(bt.forEach(Gt=>{var Pt;ge.current&&((Pt=me.current)===null||Pt===void 0||Pt.removeEventListener(Gt,ge.current)),Dt==null||Dt.addEventListener(Gt,lt)}),me.current=Dt,ge.current=lt)},It=()=>{$e.current&&(clearTimeout($e.current),$e.current=null);const Dt=Oe==null?void 0:Oe();bt.forEach(Gt=>{var Pt;Dt==null||Dt.removeEventListener(Gt,lt),ge.current&&((Pt=me.current)===null||Pt===void 0||Pt.removeEventListener(Gt,ge.current))}),je.cancel(),lt.cancel()};a.useImperativeHandle(t,()=>({updatePosition:je})),a.useEffect(()=>($e.current=setTimeout(ht),()=>It()),[]),a.useEffect(()=>{ht()},[L,oe]),a.useEffect(()=>{je()},[L,f,y]);const[Tt,wt,_t]=Ue(H),At=q()(I,wt,H,_t),Bt=q()({[At]:oe});return Tt(a.createElement(c.Z,{onResize:je},a.createElement("div",Object.assign({style:o,className:w,ref:xe},j),oe&&a.createElement("div",{style:ie,"aria-hidden":"true"}),a.createElement("div",{className:Bt,ref:Me,style:oe},a.createElement(c.Z,{onResize:je},D)))))}),Vt=B(4692),yr=B(75434),lr=B(14258),Xn=B(64267),Ge=B(23022),Ht={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm32 664c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V456c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272zm-32-344a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"info-circle",theme:"filled"},un=Ht,Xt=B(23738),ke=function(t,s){return a.createElement(Xt.Z,(0,Ge.Z)({},t,{ref:s,icon:un}))},zn=a.forwardRef(ke),mn=zn,Rn=B(62803),ut=B(71305),Jt=B(42684),Cn=B(26021),he=B(55921),Qt=B(34299);const xi=(e,t,s,o,f)=>({background:e,border:`${(0,he.bf)(o.lineWidth)} ${o.lineType} ${t}`,[`${f}-icon`]:{color:s}}),ui=e=>{const{componentCls:t,motionDurationSlow:s,marginXS:o,marginSM:f,fontSize:y,fontSizeLG:C,lineHeight:w,borderRadiusLG:I,motionEaseInOutCirc:D,withDescriptionIconSize:L,colorText:z,colorTextHeading:k,withDescriptionPadding:j,defaultPadding:Z}=e;return{[t]:Object.assign(Object.assign({},(0,Qt.Wf)(e)),{position:"relative",display:"flex",alignItems:"center",padding:Z,wordWrap:"break-word",borderRadius:I,[`&${t}-rtl`]:{direction:"rtl"},[`${t}-content`]:{flex:1,minWidth:0},[`${t}-icon`]:{marginInlineEnd:o,lineHeight:0},"&-description":{display:"none",fontSize:y,lineHeight:w},"&-message":{color:k},[`&${t}-motion-leave`]:{overflow:"hidden",opacity:1,transition:`max-height ${s} ${D}, opacity ${s} ${D},
        padding-top ${s} ${D}, padding-bottom ${s} ${D},
        margin-bottom ${s} ${D}`},[`&${t}-motion-leave-active`]:{maxHeight:0,marginBottom:"0 !important",paddingTop:0,paddingBottom:0,opacity:0}}),[`${t}-with-description`]:{alignItems:"flex-start",padding:j,[`${t}-icon`]:{marginInlineEnd:f,fontSize:L,lineHeight:0},[`${t}-message`]:{display:"block",marginBottom:o,color:k,fontSize:C},[`${t}-description`]:{display:"block",color:z}},[`${t}-banner`]:{marginBottom:0,border:"0 !important",borderRadius:0}}},Ae=e=>{const{componentCls:t,colorSuccess:s,colorSuccessBorder:o,colorSuccessBg:f,colorWarning:y,colorWarningBorder:C,colorWarningBg:w,colorError:I,colorErrorBorder:D,colorErrorBg:L,colorInfo:z,colorInfoBorder:k,colorInfoBg:j}=e;return{[t]:{"&-success":xi(f,o,s,e,t),"&-info":xi(j,k,z,e,t),"&-warning":xi(w,C,y,e,t),"&-error":Object.assign(Object.assign({},xi(L,D,I,e,t)),{[`${t}-description > pre`]:{margin:0,padding:0}})}}},An=e=>{const{componentCls:t,iconCls:s,motionDurationMid:o,marginXS:f,fontSizeIcon:y,colorIcon:C,colorIconHover:w}=e;return{[t]:{"&-action":{marginInlineStart:f},[`${t}-close-icon`]:{marginInlineStart:f,padding:0,overflow:"hidden",fontSize:y,lineHeight:(0,he.bf)(y),backgroundColor:"transparent",border:"none",outline:"none",cursor:"pointer",[`${s}-close`]:{color:C,transition:`color ${o}`,"&:hover":{color:w}}},"&-close-text":{color:C,transition:`color ${o}`,"&:hover":{color:w}}}}},Ur=e=>({withDescriptionIconSize:e.fontSizeHeading3,defaultPadding:`${e.paddingContentVerticalSM}px 12px`,withDescriptionPadding:`${e.paddingMD}px ${e.paddingContentHorizontalLG}px`});var Jr=(0,te.I$)("Alert",e=>[ui(e),Ae(e),An(e)],Ur),On=function(e,t){var s={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(s[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(s[o[f]]=e[o[f]]);return s};const Kr={success:Vt.Z,info:mn,error:yr.Z,warning:Xn.Z},Ti=e=>{const{icon:t,prefixCls:s,type:o}=e,f=Kr[o]||null;return t?(0,Cn.wm)(t,a.createElement("span",{className:`${s}-icon`},t),()=>({className:q()(`${s}-icon`,t.props.className)})):a.createElement(f,{className:`${s}-icon`})},fr=e=>{const{isClosable:t,prefixCls:s,closeIcon:o,handleClose:f,ariaProps:y}=e,C=o===!0||o===void 0?a.createElement(lr.Z,null):o;return t?a.createElement("button",Object.assign({type:"button",onClick:f,className:`${s}-close-icon`,tabIndex:0},y),C):null};var Ot=a.forwardRef((e,t)=>{const{description:s,prefixCls:o,message:f,banner:y,className:C,rootClassName:w,style:I,onMouseEnter:D,onMouseLeave:L,onClick:z,afterClose:k,showIcon:j,closable:Z,closeText:G,closeIcon:H,action:X,id:ne}=e,oe=On(e,["description","prefixCls","message","banner","className","rootClassName","style","onMouseEnter","onMouseLeave","onClick","afterClose","showIcon","closable","closeText","closeIcon","action","id"]),[ae,ie]=a.useState(!1),le=a.useRef(null);a.useImperativeHandle(t,()=>({nativeElement:le.current}));const{getPrefixCls:fe,direction:me,closable:ge,closeIcon:xe,className:Me,style:$e}=(0,ye.dj)("alert"),Oe=fe("alert",o),[He,Ne,Ke]=Jr(Oe),je=Bt=>{var Dt;ie(!0),(Dt=e.onClose)===null||Dt===void 0||Dt.call(e,Bt)},lt=a.useMemo(()=>e.type!==void 0?e.type:y?"warning":"info",[e.type,y]),ht=a.useMemo(()=>typeof Z=="object"&&Z.closeIcon||G?!0:typeof Z=="boolean"?Z:H!==!1&&H!==null&&H!==void 0?!0:!!ge,[G,H,Z,ge]),It=y&&j===void 0?!0:j,Tt=q()(Oe,`${Oe}-${lt}`,{[`${Oe}-with-description`]:!!s,[`${Oe}-no-icon`]:!It,[`${Oe}-banner`]:!!y,[`${Oe}-rtl`]:me==="rtl"},Me,C,w,Ke,Ne),wt=(0,ut.Z)(oe,{aria:!0,data:!0}),_t=a.useMemo(()=>typeof Z=="object"&&Z.closeIcon?Z.closeIcon:G||(H!==void 0?H:typeof ge=="object"&&ge.closeIcon?ge.closeIcon:xe),[H,Z,G,xe]),At=a.useMemo(()=>{const Bt=Z!=null?Z:ge;if(typeof Bt=="object"){const{closeIcon:Dt}=Bt;return On(Bt,["closeIcon"])}return{}},[Z,ge]);return He(a.createElement(Rn.ZP,{visible:!ae,motionName:`${Oe}-motion`,motionAppear:!1,motionEnter:!1,onLeaveStart:Bt=>({maxHeight:Bt.offsetHeight}),onLeaveEnd:k},(Bt,Dt)=>{let{className:Gt,style:Pt}=Bt;return a.createElement("div",Object.assign({id:ne,ref:(0,Jt.sQ)(le,Dt),"data-show":!ae,className:q()(Tt,Gt),style:Object.assign(Object.assign(Object.assign({},$e),I),Pt),onMouseEnter:D,onMouseLeave:L,onClick:z,role:"alert"},wt),It?a.createElement(Ti,{description:s,icon:e.icon,prefixCls:Oe,type:lt}):null,a.createElement("div",{className:`${Oe}-content`},f?a.createElement("div",{className:`${Oe}-message`},f):null,s?a.createElement("div",{className:`${Oe}-description`},s):null),X?a.createElement("div",{className:`${Oe}-action`},X):null,a.createElement(fr,{isClosable:ht,prefixCls:Oe,closeIcon:_t,handleClose:je,ariaProps:At}))}))}),Dn=B(59295),pn=B(45985),gn=B(51123),wr=B(57649),Hn=B(78512);function oi(e,t,s){return t=(0,gn.Z)(t),(0,Hn.Z)(e,(0,wr.Z)()?Reflect.construct(t,s||[],(0,gn.Z)(e).constructor):t.apply(e,s))}var pi=B(76525),ni=function(e){function t(){var s;return(0,Dn.Z)(this,t),s=oi(this,t,arguments),s.state={error:void 0,info:{componentStack:""}},s}return(0,pi.Z)(t,e),(0,pn.Z)(t,[{key:"componentDidCatch",value:function(o,f){this.setState({error:o,info:f})}},{key:"render",value:function(){const{message:o,description:f,id:y,children:C}=this.props,{error:w,info:I}=this.state,D=(I==null?void 0:I.componentStack)||null,L=typeof o=="undefined"?(w||"").toString():o,z=typeof f=="undefined"?D:f;return w?a.createElement(Ot,{id:y,type:"error",message:L,description:a.createElement("pre",{style:{fontSize:"0.9em",overflowX:"auto"}},z)}):C}}])}(a.Component);const Cr=Ot;Cr.ErrorBoundary=ni;var qn=Cr,_r=B(59373),Pr=B(56680);function Tr(e){return e!=null&&e===e.window}var ar=e=>{var t,s;if(typeof window=="undefined")return 0;let o=0;return Tr(e)?o=e.pageYOffset:e instanceof Document?o=e.documentElement.scrollTop:(e instanceof HTMLElement||e)&&(o=e.scrollTop),e&&!Tr(e)&&typeof o!="number"&&(o=(s=((t=e.ownerDocument)!==null&&t!==void 0?t:e).documentElement)===null||s===void 0?void 0:s.scrollTop),o};function mr(e,t,s,o){const f=s-t;return e/=o/2,e<1?f/2*e*e*e+t:f/2*((e-=2)*e*e+2)+t}function ii(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{getContainer:s=()=>window,callback:o,duration:f=450}=t,y=s(),C=ar(y),w=Date.now(),I=()=>{const L=Date.now()-w,z=mr(L>f?f:L,C,e,f);Tr(y)?y.scrollTo(window.pageXOffset,z):y instanceof Document||y.constructor.name==="HTMLDocument"?y.documentElement.scrollTop=z:y.scrollTop=z,L<f?(0,We.Z)(I):typeof o=="function"&&o()};(0,We.Z)(I)}var Wn=B(38437),Ci=a.createContext(void 0),Io=e=>{const{href:t,title:s,prefixCls:o,children:f,className:y,target:C,replace:w}=e,I=a.useContext(Ci),{registerLink:D,unregisterLink:L,scrollTo:z,onClick:k,activeLink:j,direction:Z}=I||{};a.useEffect(()=>(D==null||D(t),()=>{L==null||L(t)}),[t]);const G=ie=>{k==null||k(ie,{title:s,href:t}),z==null||z(t),w&&(ie.preventDefault(),window.location.replace(t))},{getPrefixCls:H}=a.useContext(ye.E_),X=H("anchor",o),ne=j===t,oe=q()(`${X}-link`,y,{[`${X}-link-active`]:ne}),ae=q()(`${X}-link-title`,{[`${X}-link-title-active`]:ne});return a.createElement("div",{className:oe},a.createElement("a",{className:ae,href:t,title:typeof s=="string"?s:"",target:C,onClick:G},s),Z!=="horizontal"?f:null)},ci=B(83509);const oo=e=>{const{componentCls:t,holderOffsetBlock:s,motionDurationSlow:o,lineWidthBold:f,colorPrimary:y,lineType:C,colorSplit:w,calc:I}=e;return{[`${t}-wrapper`]:{marginBlockStart:I(s).mul(-1).equal(),paddingBlockStart:s,[t]:Object.assign(Object.assign({},(0,Qt.Wf)(e)),{position:"relative",paddingInlineStart:f,[`${t}-link`]:{paddingBlock:e.linkPaddingBlock,paddingInline:`${(0,he.bf)(e.linkPaddingInlineStart)} 0`,"&-title":Object.assign(Object.assign({},Qt.vS),{position:"relative",display:"block",marginBlockEnd:e.anchorTitleBlock,color:e.colorText,transition:`all ${e.motionDurationSlow}`,"&:only-child":{marginBlockEnd:0}}),[`&-active > ${t}-link-title`]:{color:e.colorPrimary},[`${t}-link`]:{paddingBlock:e.anchorPaddingBlockSecondary}}}),[`&:not(${t}-wrapper-horizontal)`]:{[t]:{"&::before":{position:"absolute",insetInlineStart:0,top:0,height:"100%",borderInlineStart:`${(0,he.bf)(f)} ${C} ${w}`,content:'" "'},[`${t}-ink`]:{position:"absolute",insetInlineStart:0,display:"none",transform:"translateY(-50%)",transition:`top ${o} ease-in-out`,width:f,backgroundColor:y,[`&${t}-ink-visible`]:{display:"inline-block"}}}},[`${t}-fixed ${t}-ink ${t}-ink`]:{display:"none"}}}},nn=e=>{const{componentCls:t,motionDurationSlow:s,lineWidthBold:o,colorPrimary:f}=e;return{[`${t}-wrapper-horizontal`]:{position:"relative","&::before":{position:"absolute",left:{_skip_check_:!0,value:0},right:{_skip_check_:!0,value:0},bottom:0,borderBottom:`${(0,he.bf)(e.lineWidth)} ${e.lineType} ${e.colorSplit}`,content:'" "'},[t]:{overflowX:"scroll",position:"relative",display:"flex",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"},[`${t}-link:first-of-type`]:{paddingInline:0},[`${t}-ink`]:{position:"absolute",bottom:0,transition:`left ${s} ease-in-out, width ${s} ease-in-out`,height:o,backgroundColor:f}}}}},Mn=e=>({linkPaddingBlock:e.paddingXXS,linkPaddingInlineStart:e.padding});var Ee=(0,te.I$)("Anchor",e=>{const{fontSize:t,fontSizeLG:s,paddingXXS:o,calc:f}=e,y=(0,ci.IX)(e,{holderOffsetBlock:o,anchorPaddingBlockSecondary:f(o).div(2).equal(),anchorTitleBlock:f(t).div(14).mul(3).equal(),anchorBallSize:f(s).div(2).equal()});return[oo(y),nn(y)]},Mn);function dn(){return window}function br(e,t){if(!e.getClientRects().length)return 0;const s=e.getBoundingClientRect();return s.width||s.height?t===window?s.top-e.ownerDocument.documentElement.clientTop:s.top-t.getBoundingClientRect().top:s.top}const rr=/#([\S ]+)$/;var Mi=e=>{var t;const{rootClassName:s,prefixCls:o,className:f,style:y,offsetTop:C,affix:w=!0,showInkInFixed:I=!1,children:D,items:L,direction:z="vertical",bounds:k,targetOffset:j,onClick:Z,onChange:G,getContainer:H,getCurrentAnchor:X,replace:ne}=e,[oe,ae]=a.useState([]),[ie,le]=a.useState(null),fe=a.useRef(ie),me=a.useRef(null),ge=a.useRef(null),xe=a.useRef(!1),{direction:Me,getPrefixCls:$e,className:Oe,style:He}=(0,ye.dj)("anchor"),{getTargetContainer:Ne}=a.useContext(ye.E_),Ke=$e("anchor",o),je=(0,Wn.Z)(Ke),[lt,ht,It]=Ee(Ke,je),Tt=(t=H!=null?H:Ne)!==null&&t!==void 0?t:dn,wt=JSON.stringify(oe),_t=(0,_r.Z)(Sr=>{oe.includes(Sr)||ae(dr=>[].concat((0,be.Z)(dr),[Sr]))}),At=(0,_r.Z)(Sr=>{oe.includes(Sr)&&ae(dr=>dr.filter(cr=>cr!==Sr))}),Bt=()=>{var Sr;const dr=(Sr=me.current)===null||Sr===void 0?void 0:Sr.querySelector(`.${Ke}-link-title-active`);if(dr&&ge.current){const{style:cr}=ge.current,Zn=z==="horizontal";cr.top=Zn?"":`${dr.offsetTop+dr.clientHeight/2}px`,cr.height=Zn?"":`${dr.clientHeight}px`,cr.left=Zn?`${dr.offsetLeft}px`:"",cr.width=Zn?`${dr.clientWidth}px`:"",Zn&&(0,Pr.Z)(dr,{scrollMode:"if-needed",block:"nearest"})}},Dt=function(Sr){let dr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,cr=arguments.length>2&&arguments[2]!==void 0?arguments[2]:5;const Zn=[],ur=Tt();return Sr.forEach(ti=>{const Ei=rr.exec(ti==null?void 0:ti.toString());if(!Ei)return;const ki=document.getElementById(Ei[1]);if(ki){const qi=br(ki,ur);qi<=dr+cr&&Zn.push({link:ti,top:qi})}}),Zn.length?Zn.reduce((Ei,ki)=>ki.top>Ei.top?ki:Ei).link:""},Gt=(0,_r.Z)(Sr=>{if(fe.current===Sr)return;const dr=typeof X=="function"?X(Sr):Sr;le(dr),fe.current=dr,G==null||G(Sr)}),Pt=a.useCallback(()=>{if(xe.current)return;const Sr=Dt(oe,j!==void 0?j:C||0,k);Gt(Sr)},[wt,j,C]),Pn=a.useCallback(Sr=>{Gt(Sr);const dr=rr.exec(Sr);if(!dr)return;const cr=document.getElementById(dr[1]);if(!cr)return;const Zn=Tt(),ur=ar(Zn),ti=br(cr,Zn);let Ei=ur+ti;Ei-=j!==void 0?j:C||0,xe.current=!0,ii(Ei,{getContainer:Tt,callback(){xe.current=!1}})},[j,C]),Kn=q()(ht,It,je,s,`${Ke}-wrapper`,{[`${Ke}-wrapper-horizontal`]:z==="horizontal",[`${Ke}-rtl`]:Me==="rtl"},f,Oe),_n=q()(Ke,{[`${Ke}-fixed`]:!w&&!I}),Fn=q()(`${Ke}-ink`,{[`${Ke}-ink-visible`]:ie}),on=Object.assign(Object.assign({maxHeight:C?`calc(100vh - ${C}px)`:"100vh"},He),y),Zt=Sr=>Array.isArray(Sr)?Sr.map(dr=>a.createElement(Io,Object.assign({replace:ne},dr,{key:dr.key}),z==="vertical"&&Zt(dr.children))):null,Vn=a.createElement("div",{ref:me,className:Kn,style:on},a.createElement("div",{className:_n},a.createElement("span",{className:Fn,ref:ge}),"items"in e?Zt(L):D));a.useEffect(()=>{const Sr=Tt();return Pt(),Sr==null||Sr.addEventListener("scroll",Pt),()=>{Sr==null||Sr.removeEventListener("scroll",Pt)}},[wt]),a.useEffect(()=>{typeof X=="function"&&Gt(X(fe.current||""))},[X]),a.useEffect(()=>{Bt()},[z,X,wt,ie]);const Ln=a.useMemo(()=>({registerLink:_t,unregisterLink:At,scrollTo:Pn,activeLink:ie,onClick:Z,direction:z}),[ie,Z,Pn,z]),kr=w&&typeof w=="object"?w:void 0;return lt(a.createElement(Ci.Provider,{value:Ln},w?a.createElement(Ut,Object.assign({offsetTop:C,target:Tt},kr),Vn):Vn))};const Wi=Mi;Wi.Link=Io;var Bi=Wi,Di=B(87117),Re=B(89692),de=B(58190),Y=B(54153),Ze=B(30967),pe=B(38926),nt=B(5147),rt=B(14583),tn=a.forwardRef(function(e,t){var s=e.prefixCls,o=e.style,f=e.className,y=e.duration,C=y===void 0?4.5:y,w=e.showProgress,I=e.pauseOnHover,D=I===void 0?!0:I,L=e.eventKey,z=e.content,k=e.closable,j=e.closeIcon,Z=j===void 0?"x":j,G=e.props,H=e.onClick,X=e.onNoticeClose,ne=e.times,oe=e.hovering,ae=a.useState(!1),ie=(0,Re.Z)(ae,2),le=ie[0],fe=ie[1],me=a.useState(0),ge=(0,Re.Z)(me,2),xe=ge[0],Me=ge[1],$e=a.useState(0),Oe=(0,Re.Z)($e,2),He=Oe[0],Ne=Oe[1],Ke=oe||le,je=C>0&&w,lt=function(){X(L)},ht=function(Bt){(Bt.key==="Enter"||Bt.code==="Enter"||Bt.keyCode===rt.Z.ENTER)&&lt()};a.useEffect(function(){if(!Ke&&C>0){var At=Date.now()-He,Bt=setTimeout(function(){lt()},C*1e3-He);return function(){D&&clearTimeout(Bt),Ne(Date.now()-At)}}},[C,Ke,ne]),a.useEffect(function(){if(!Ke&&je&&(D||He===0)){var At=performance.now(),Bt,Dt=function Gt(){cancelAnimationFrame(Bt),Bt=requestAnimationFrame(function(Pt){var Pn=Pt+He-At,Kn=Math.min(Pn/(C*1e3),1);Me(Kn*100),Kn<1&&Gt()})};return Dt(),function(){D&&cancelAnimationFrame(Bt)}}},[C,He,Ke,je,ne]);var It=a.useMemo(function(){return(0,nt.Z)(k)==="object"&&k!==null?k:k?{closeIcon:Z}:{}},[k,Z]),Tt=(0,ut.Z)(It,!0),wt=100-(!xe||xe<0?0:xe>100?100:xe),_t="".concat(s,"-notice");return a.createElement("div",(0,Ge.Z)({},G,{ref:t,className:q()(_t,f,(0,pe.Z)({},"".concat(_t,"-closable"),k)),style:o,onMouseEnter:function(Bt){var Dt;fe(!0),G==null||(Dt=G.onMouseEnter)===null||Dt===void 0||Dt.call(G,Bt)},onMouseLeave:function(Bt){var Dt;fe(!1),G==null||(Dt=G.onMouseLeave)===null||Dt===void 0||Dt.call(G,Bt)},onClick:H}),a.createElement("div",{className:"".concat(_t,"-content")},z),k&&a.createElement("a",(0,Ge.Z)({tabIndex:0,className:"".concat(_t,"-close"),onKeyDown:ht,"aria-label":"Close"},Tt,{onClick:function(Bt){Bt.preventDefault(),Bt.stopPropagation(),lt()}}),It.closeIcon),je&&a.createElement("progress",{className:"".concat(_t,"-progress"),max:"100",value:wt},wt+"%"))}),$t=tn,ln=a.createContext({}),vn=function(t){var s=t.children,o=t.classNames;return a.createElement(ln.Provider,{value:{classNames:o}},s)},et=vn,Rt=8,Kt=3,rn=16,dt=function(t){var s={offset:Rt,threshold:Kt,gap:rn};if(t&&(0,nt.Z)(t)==="object"){var o,f,y;s.offset=(o=t.offset)!==null&&o!==void 0?o:Rt,s.threshold=(f=t.threshold)!==null&&f!==void 0?f:Kt,s.gap=(y=t.gap)!==null&&y!==void 0?y:rn}return[!!t,s]},at=dt,Sn=["className","style","classNames","styles"],bn=function(t){var s=t.configList,o=t.placement,f=t.prefixCls,y=t.className,C=t.style,w=t.motion,I=t.onAllNoticeRemoved,D=t.onNoticeClose,L=t.stack,z=(0,a.useContext)(ln),k=z.classNames,j=(0,a.useRef)({}),Z=(0,a.useState)(null),G=(0,Re.Z)(Z,2),H=G[0],X=G[1],ne=(0,a.useState)([]),oe=(0,Re.Z)(ne,2),ae=oe[0],ie=oe[1],le=s.map(function(Ke){return{config:Ke,key:String(Ke.key)}}),fe=at(L),me=(0,Re.Z)(fe,2),ge=me[0],xe=me[1],Me=xe.offset,$e=xe.threshold,Oe=xe.gap,He=ge&&(ae.length>0||le.length<=$e),Ne=typeof w=="function"?w(o):w;return(0,a.useEffect)(function(){ge&&ae.length>1&&ie(function(Ke){return Ke.filter(function(je){return le.some(function(lt){var ht=lt.key;return je===ht})})})},[ae,le,ge]),(0,a.useEffect)(function(){var Ke;if(ge&&j.current[(Ke=le[le.length-1])===null||Ke===void 0?void 0:Ke.key]){var je;X(j.current[(je=le[le.length-1])===null||je===void 0?void 0:je.key])}},[le,ge]),a.createElement(Rn.V4,(0,Ge.Z)({key:o,className:q()(f,"".concat(f,"-").concat(o),k==null?void 0:k.list,y,(0,pe.Z)((0,pe.Z)({},"".concat(f,"-stack"),!!ge),"".concat(f,"-stack-expanded"),He)),style:C,keys:le,motionAppear:!0},Ne,{onAllRemoved:function(){I(o)}}),function(Ke,je){var lt=Ke.config,ht=Ke.className,It=Ke.style,Tt=Ke.index,wt=lt,_t=wt.key,At=wt.times,Bt=String(_t),Dt=lt,Gt=Dt.className,Pt=Dt.style,Pn=Dt.classNames,Kn=Dt.styles,_n=(0,de.Z)(Dt,Sn),Fn=le.findIndex(function(Ei){return Ei.key===Bt}),on={};if(ge){var Zt=le.length-1-(Fn>-1?Fn:Tt-1),Vn=o==="top"||o==="bottom"?"-50%":"0";if(Zt>0){var Ln,kr,Sr;on.height=He?(Ln=j.current[Bt])===null||Ln===void 0?void 0:Ln.offsetHeight:H==null?void 0:H.offsetHeight;for(var dr=0,cr=0;cr<Zt;cr++){var Zn;dr+=((Zn=j.current[le[le.length-1-cr].key])===null||Zn===void 0?void 0:Zn.offsetHeight)+Oe}var ur=(He?dr:Zt*Me)*(o.startsWith("top")?1:-1),ti=!He&&H!==null&&H!==void 0&&H.offsetWidth&&(kr=j.current[Bt])!==null&&kr!==void 0&&kr.offsetWidth?((H==null?void 0:H.offsetWidth)-Me*2*(Zt<3?Zt:3))/((Sr=j.current[Bt])===null||Sr===void 0?void 0:Sr.offsetWidth):1;on.transform="translate3d(".concat(Vn,", ").concat(ur,"px, 0) scaleX(").concat(ti,")")}else on.transform="translate3d(".concat(Vn,", 0, 0)")}return a.createElement("div",{ref:je,className:q()("".concat(f,"-notice-wrapper"),ht,Pn==null?void 0:Pn.wrapper),style:(0,Y.Z)((0,Y.Z)((0,Y.Z)({},It),on),Kn==null?void 0:Kn.wrapper),onMouseEnter:function(){return ie(function(ki){return ki.includes(Bt)?ki:[].concat((0,be.Z)(ki),[Bt])})},onMouseLeave:function(){return ie(function(ki){return ki.filter(function(qi){return qi!==Bt})})}},a.createElement($t,(0,Ge.Z)({},_n,{ref:function(ki){Fn>-1?j.current[Bt]=ki:delete j.current[Bt]},prefixCls:f,classNames:Pn,styles:Kn,className:q()(Gt,k==null?void 0:k.notice),style:Pt,times:At,key:_t,eventKey:_t,onNoticeClose:D,hovering:ge&&ae.length>0})))})},Gn=bn,or=a.forwardRef(function(e,t){var s=e.prefixCls,o=s===void 0?"rc-notification":s,f=e.container,y=e.motion,C=e.maxCount,w=e.className,I=e.style,D=e.onAllRemoved,L=e.stack,z=e.renderNotifications,k=a.useState([]),j=(0,Re.Z)(k,2),Z=j[0],G=j[1],H=function(ge){var xe,Me=Z.find(function($e){return $e.key===ge});Me==null||(xe=Me.onClose)===null||xe===void 0||xe.call(Me),G(function($e){return $e.filter(function(Oe){return Oe.key!==ge})})};a.useImperativeHandle(t,function(){return{open:function(ge){G(function(xe){var Me=(0,be.Z)(xe),$e=Me.findIndex(function(Ne){return Ne.key===ge.key}),Oe=(0,Y.Z)({},ge);if($e>=0){var He;Oe.times=(((He=xe[$e])===null||He===void 0?void 0:He.times)||0)+1,Me[$e]=Oe}else Oe.times=0,Me.push(Oe);return C>0&&Me.length>C&&(Me=Me.slice(-C)),Me})},close:function(ge){H(ge)},destroy:function(){G([])}}});var X=a.useState({}),ne=(0,Re.Z)(X,2),oe=ne[0],ae=ne[1];a.useEffect(function(){var me={};Z.forEach(function(ge){var xe=ge.placement,Me=xe===void 0?"topRight":xe;Me&&(me[Me]=me[Me]||[],me[Me].push(ge))}),Object.keys(oe).forEach(function(ge){me[ge]=me[ge]||[]}),ae(me)},[Z]);var ie=function(ge){ae(function(xe){var Me=(0,Y.Z)({},xe),$e=Me[ge]||[];return $e.length||delete Me[ge],Me})},le=a.useRef(!1);if(a.useEffect(function(){Object.keys(oe).length>0?le.current=!0:le.current&&(D==null||D(),le.current=!1)},[oe]),!f)return null;var fe=Object.keys(oe);return(0,Ze.createPortal)(a.createElement(a.Fragment,null,fe.map(function(me){var ge=oe[me],xe=a.createElement(Gn,{key:me,configList:ge,placement:me,prefixCls:o,className:w==null?void 0:w(me),style:I==null?void 0:I(me),motion:y,onNoticeClose:H,onAllNoticeRemoved:ie,stack:L});return z?z(xe,{prefixCls:o,key:me}):xe})),f)}),gr=or,Fr=["getContainer","motion","prefixCls","maxCount","className","style","onAllRemoved","stack","renderNotifications"],hi=function(){return document.body},Hr=0;function to(){for(var e={},t=arguments.length,s=new Array(t),o=0;o<t;o++)s[o]=arguments[o];return s.forEach(function(f){f&&Object.keys(f).forEach(function(y){var C=f[y];C!==void 0&&(e[y]=C)})}),e}function gt(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=e.getContainer,s=t===void 0?hi:t,o=e.motion,f=e.prefixCls,y=e.maxCount,C=e.className,w=e.style,I=e.onAllRemoved,D=e.stack,L=e.renderNotifications,z=(0,de.Z)(e,Fr),k=a.useState(),j=(0,Re.Z)(k,2),Z=j[0],G=j[1],H=a.useRef(),X=a.createElement(gr,{container:Z,ref:H,prefixCls:f,motion:o,maxCount:y,className:C,style:w,onAllRemoved:I,stack:D,renderNotifications:L}),ne=a.useState([]),oe=(0,Re.Z)(ne,2),ae=oe[0],ie=oe[1],le=a.useMemo(function(){return{open:function(me){var ge=to(z,me);(ge.key===null||ge.key===void 0)&&(ge.key="rc-notification-".concat(Hr),Hr+=1),ie(function(xe){return[].concat((0,be.Z)(xe),[{type:"open",config:ge}])})},close:function(me){ie(function(ge){return[].concat((0,be.Z)(ge),[{type:"close",key:me}])})},destroy:function(){ie(function(me){return[].concat((0,be.Z)(me),[{type:"destroy"}])})}}},[]);return a.useEffect(function(){G(s())}),a.useEffect(function(){if(H.current&&ae.length){ae.forEach(function(ge){switch(ge.type){case"open":H.current.open(ge.config);break;case"close":H.current.close(ge.key);break;case"destroy":H.current.destroy();break}});var fe,me;ie(function(ge){return(fe!==ge||!me)&&(fe=ge,me=ge.filter(function(xe){return!ae.includes(xe)})),me})}},[ae]),[le,X]}var wn=B(24573),qt=B(19952);const Nn=e=>{const{componentCls:t,iconCls:s,boxShadow:o,colorText:f,colorSuccess:y,colorError:C,colorWarning:w,colorInfo:I,fontSizeLG:D,motionEaseInOutCirc:L,motionDurationSlow:z,marginXS:k,paddingXS:j,borderRadiusLG:Z,zIndexPopup:G,contentPadding:H,contentBg:X}=e,ne=`${t}-notice`,oe=new he.E4("MessageMoveIn",{"0%":{padding:0,transform:"translateY(-100%)",opacity:0},"100%":{padding:j,transform:"translateY(0)",opacity:1}}),ae=new he.E4("MessageMoveOut",{"0%":{maxHeight:e.height,padding:j,opacity:1},"100%":{maxHeight:0,padding:0,opacity:0}}),ie={padding:j,textAlign:"center",[`${t}-custom-content`]:{display:"flex",alignItems:"center"},[`${t}-custom-content > ${s}`]:{marginInlineEnd:k,fontSize:D},[`${ne}-content`]:{display:"inline-block",padding:H,background:X,borderRadius:Z,boxShadow:o,pointerEvents:"all"},[`${t}-success > ${s}`]:{color:y},[`${t}-error > ${s}`]:{color:C},[`${t}-warning > ${s}`]:{color:w},[`${t}-info > ${s},
      ${t}-loading > ${s}`]:{color:I}};return[{[t]:Object.assign(Object.assign({},(0,Qt.Wf)(e)),{color:f,position:"fixed",top:k,width:"100%",pointerEvents:"none",zIndex:G,[`${t}-move-up`]:{animationFillMode:"forwards"},[`
        ${t}-move-up-appear,
        ${t}-move-up-enter
      `]:{animationName:oe,animationDuration:z,animationPlayState:"paused",animationTimingFunction:L},[`
        ${t}-move-up-appear${t}-move-up-appear-active,
        ${t}-move-up-enter${t}-move-up-enter-active
      `]:{animationPlayState:"running"},[`${t}-move-up-leave`]:{animationName:ae,animationDuration:z,animationPlayState:"paused",animationTimingFunction:L},[`${t}-move-up-leave${t}-move-up-leave-active`]:{animationPlayState:"running"},"&-rtl":{direction:"rtl",span:{direction:"rtl"}}})},{[t]:{[`${ne}-wrapper`]:Object.assign({},ie)}},{[`${t}-notice-pure-panel`]:Object.assign(Object.assign({},ie),{padding:0,textAlign:"start"})}]},sr=e=>({zIndexPopup:e.zIndexPopupBase+qt.u6+10,contentBg:e.colorBgElevated,contentPadding:`${(e.controlHeightLG-e.fontSize*e.lineHeight)/2}px ${e.paddingSM}px`});var Wr=(0,te.I$)("Message",e=>{const t=(0,ci.IX)(e,{height:150});return[Nn(t)]},sr),Pi=function(e,t){var s={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(s[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(s[o[f]]=e[o[f]]);return s};const Co={info:a.createElement(mn,null),success:a.createElement(Vt.Z,null),error:a.createElement(yr.Z,null),warning:a.createElement(Xn.Z,null),loading:a.createElement(wn.Z,null)},Vi=e=>{let{prefixCls:t,type:s,icon:o,children:f}=e;return a.createElement("div",{className:q()(`${t}-custom-content`,`${t}-${s}`)},o||Co[s],a.createElement("span",null,f))};var fo=e=>{const{prefixCls:t,className:s,type:o,icon:f,content:y}=e,C=Pi(e,["prefixCls","className","type","icon","content"]),{getPrefixCls:w}=a.useContext(ye.E_),I=t||w("message"),D=(0,Wn.Z)(I),[L,z,k]=Wr(I,D);return L(a.createElement($t,Object.assign({},C,{prefixCls:I,className:q()(s,z,`${I}-notice-pure-panel`,k,D),eventKey:"pure",duration:null,content:a.createElement(Vi,{prefixCls:I,type:o,icon:f},y)})))};function Ki(e,t){return{motionName:t!=null?t:`${e}-move-up`}}function Mo(e){let t;const s=new Promise(f=>{t=e(()=>{f(!0)})}),o=()=>{t==null||t()};return o.then=(f,y)=>s.then(f,y),o.promise=s,o}var Zo=function(e,t){var s={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(s[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(s[o[f]]=e[o[f]]);return s};const Lo=8,To=3,$o=e=>{let{children:t,prefixCls:s}=e;const o=(0,Wn.Z)(s),[f,y,C]=Wr(s,o);return f(a.createElement(et,{classNames:{list:q()(y,C,o)}},t))},zo=(e,t)=>{let{prefixCls:s,key:o}=t;return a.createElement($o,{prefixCls:s,key:o},e)},qo=a.forwardRef((e,t)=>{const{top:s,prefixCls:o,getContainer:f,maxCount:y,duration:C=To,rtl:w,transitionName:I,onAllRemoved:D}=e,{getPrefixCls:L,getPopupContainer:z,message:k,direction:j}=a.useContext(ye.E_),Z=o||L("message"),G=()=>({left:"50%",transform:"translateX(-50%)",top:s!=null?s:Lo}),H=()=>q()({[`${Z}-rtl`]:w!=null?w:j==="rtl"}),X=()=>Ki(Z,I),ne=a.createElement("span",{className:`${Z}-close-x`},a.createElement(lr.Z,{className:`${Z}-close-icon`})),[oe,ae]=gt({prefixCls:Z,style:G,className:H,motion:X,closable:!1,closeIcon:ne,duration:C,getContainer:()=>(f==null?void 0:f())||(z==null?void 0:z())||document.body,maxCount:y,onAllRemoved:D,renderNotifications:zo});return a.useImperativeHandle(t,()=>Object.assign(Object.assign({},oe),{prefixCls:Z,message:k})),ae});let ho=0;function So(e){const t=a.useRef(null),s=(0,Di.ln)("Message");return[a.useMemo(()=>{const f=D=>{var L;(L=t.current)===null||L===void 0||L.close(D)},y=D=>{if(!t.current){const fe=()=>{};return fe.then=()=>{},fe}const{open:L,prefixCls:z,message:k}=t.current,j=`${z}-notice`,{content:Z,icon:G,type:H,key:X,className:ne,style:oe,onClose:ae}=D,ie=Zo(D,["content","icon","type","key","className","style","onClose"]);let le=X;return le==null&&(ho+=1,le=`antd-message-${ho}`),Mo(fe=>(L(Object.assign(Object.assign({},ie),{key:le,content:a.createElement(Vi,{prefixCls:z,type:H,icon:G},Z),placement:"top",className:q()(H&&`${j}-${H}`,ne,k==null?void 0:k.className),style:Object.assign(Object.assign({},k==null?void 0:k.style),oe),onClose:()=>{ae==null||ae(),fe()}})),()=>{f(le)}))},w={open:y,destroy:D=>{var L;D!==void 0?f(D):(L=t.current)===null||L===void 0||L.destroy()}};return["info","success","warning","error","loading"].forEach(D=>{const L=(z,k,j)=>{let Z;z&&typeof z=="object"&&"content"in z?Z=z:Z={content:z};let G,H;typeof k=="function"?H=k:(G=k,H=j);const X=Object.assign(Object.assign({onClose:H,duration:G},Z),{type:D});return y(X)};w[D]=L}),w},[]),a.createElement(qo,Object.assign({key:"message-holder"},e,{ref:t}))]}function wo(e){return So(e)}function K(){const[e,t]=a.useState([]),s=a.useCallback(o=>(t(f=>[].concat((0,be.Z)(f),[o])),()=>{t(f=>f.filter(y=>y!==o))}),[]);return[e,s]}var _e=B(62639),Ct=B(92703),Et=B(13635),En=B(77648),Qn=B(67699),si=B(60784),Or=B(11869),Ri=B(42115);function _o(e){return!!(e!=null&&e.then)}var Ji=e=>{const{type:t,children:s,prefixCls:o,buttonProps:f,close:y,autoFocus:C,emitEvent:w,isSilent:I,quitOnNullishReturnValue:D,actionFn:L}=e,z=a.useRef(!1),k=a.useRef(null),[j,Z]=(0,si.Z)(!1),G=function(){y==null||y.apply(void 0,arguments)};a.useEffect(()=>{let ne=null;return C&&(ne=setTimeout(()=>{var oe;(oe=k.current)===null||oe===void 0||oe.focus({preventScroll:!0})})),()=>{ne&&clearTimeout(ne)}},[]);const H=ne=>{_o(ne)&&(Z(!0),ne.then(function(){Z(!1,!0),G.apply(void 0,arguments),z.current=!1},oe=>{if(Z(!1,!0),z.current=!1,!(I!=null&&I()))return Promise.reject(oe)}))},X=ne=>{if(z.current)return;if(z.current=!0,!L){G();return}let oe;if(w){if(oe=L(ne),D&&!_o(oe)){z.current=!1,G(ne);return}}else if(L.length)oe=L(y),z.current=!1;else if(oe=L(),!_o(oe)){G();return}H(oe)};return a.createElement(Or.ZP,Object.assign({},(0,Ri.nx)(t),{onClick:X,loading:j,prefixCls:o},f,{ref:k}),s)};const zr=a.createContext({}),{Provider:Si}=zr;var mi=()=>{const{autoFocusButton:e,cancelButtonProps:t,cancelTextLocale:s,isSilent:o,mergedOkCancel:f,rootPrefixCls:y,close:C,onCancel:w,onConfirm:I}=(0,a.useContext)(zr);return f?a.createElement(Ji,{isSilent:o,actionFn:w,close:function(){C==null||C.apply(void 0,arguments),I==null||I(!1)},autoFocus:e==="cancel",buttonProps:t,prefixCls:`${y}-btn`},s):null},Uo=()=>{const{autoFocusButton:e,close:t,isSilent:s,okButtonProps:o,rootPrefixCls:f,okTextLocale:y,okType:C,onConfirm:w,onOk:I}=(0,a.useContext)(zr);return a.createElement(Ji,{isSilent:s,type:C||"primary",actionFn:I,close:function(){t==null||t.apply(void 0,arguments),w==null||w(!0)},autoFocus:e==="ok",buttonProps:o,prefixCls:`${f}-btn`},y)},sn=B(54869),qe=a.createContext({}),Ce=B(89648),Ye=B(73188);function Fe(e,t,s){var o=t;return!o&&s&&(o="".concat(e,"-").concat(s)),o}function Nt(e,t){var s=e["page".concat(t?"Y":"X","Offset")],o="scroll".concat(t?"Top":"Left");if(typeof s!="number"){var f=e.document;s=f.documentElement[o],typeof s!="number"&&(s=f.body[o])}return s}function hn(e){var t=e.getBoundingClientRect(),s={left:t.left,top:t.top},o=e.ownerDocument,f=o.defaultView||o.parentWindow;return s.left+=Nt(f),s.top+=Nt(f,!0),s}var ir=a.memo(function(e){var t=e.children;return t},function(e,t){var s=t.shouldUpdate;return!s}),Ar={width:0,height:0,overflow:"hidden",outline:"none"},Nr={outline:"none"},Rr=a.forwardRef(function(e,t){var s=e.prefixCls,o=e.className,f=e.style,y=e.title,C=e.ariaId,w=e.footer,I=e.closable,D=e.closeIcon,L=e.onClose,z=e.children,k=e.bodyStyle,j=e.bodyProps,Z=e.modalRender,G=e.onMouseDown,H=e.onMouseUp,X=e.holderRef,ne=e.visible,oe=e.forceRender,ae=e.width,ie=e.height,le=e.classNames,fe=e.styles,me=a.useContext(qe),ge=me.panel,xe=(0,Jt.x1)(X,ge),Me=(0,a.useRef)(),$e=(0,a.useRef)();a.useImperativeHandle(t,function(){return{focus:function(){var wt;(wt=Me.current)===null||wt===void 0||wt.focus({preventScroll:!0})},changeActive:function(wt){var _t=document,At=_t.activeElement;wt&&At===$e.current?Me.current.focus({preventScroll:!0}):!wt&&At===Me.current&&$e.current.focus({preventScroll:!0})}}});var Oe={};ae!==void 0&&(Oe.width=ae),ie!==void 0&&(Oe.height=ie);var He=w?a.createElement("div",{className:q()("".concat(s,"-footer"),le==null?void 0:le.footer),style:(0,Y.Z)({},fe==null?void 0:fe.footer)},w):null,Ne=y?a.createElement("div",{className:q()("".concat(s,"-header"),le==null?void 0:le.header),style:(0,Y.Z)({},fe==null?void 0:fe.header)},a.createElement("div",{className:"".concat(s,"-title"),id:C},y)):null,Ke=(0,a.useMemo)(function(){return(0,nt.Z)(I)==="object"&&I!==null?I:I?{closeIcon:D!=null?D:a.createElement("span",{className:"".concat(s,"-close-x")})}:{}},[I,D,s]),je=(0,ut.Z)(Ke,!0),lt=(0,nt.Z)(I)==="object"&&I.disabled,ht=I?a.createElement("button",(0,Ge.Z)({type:"button",onClick:L,"aria-label":"Close"},je,{className:"".concat(s,"-close"),disabled:lt}),Ke.closeIcon):null,It=a.createElement("div",{className:q()("".concat(s,"-content"),le==null?void 0:le.content),style:fe==null?void 0:fe.content},ht,Ne,a.createElement("div",(0,Ge.Z)({className:q()("".concat(s,"-body"),le==null?void 0:le.body),style:(0,Y.Z)((0,Y.Z)({},k),fe==null?void 0:fe.body)},j),z),He);return a.createElement("div",{key:"dialog-element",role:"dialog","aria-labelledby":y?C:null,"aria-modal":"true",ref:xe,style:(0,Y.Z)((0,Y.Z)({},f),Oe),className:q()(s,o),onMouseDown:G,onMouseUp:H},a.createElement("div",{ref:Me,tabIndex:0,style:Nr},a.createElement(ir,{shouldUpdate:ne||oe},Z?Z(It):It)),a.createElement("div",{tabIndex:0,ref:$e,style:Ar}))}),_i=Rr,Fi=a.forwardRef(function(e,t){var s=e.prefixCls,o=e.title,f=e.style,y=e.className,C=e.visible,w=e.forceRender,I=e.destroyOnClose,D=e.motionName,L=e.ariaId,z=e.onVisibleChanged,k=e.mousePosition,j=(0,a.useRef)(),Z=a.useState(),G=(0,Re.Z)(Z,2),H=G[0],X=G[1],ne={};H&&(ne.transformOrigin=H);function oe(){var ae=hn(j.current);X(k&&(k.x||k.y)?"".concat(k.x-ae.left,"px ").concat(k.y-ae.top,"px"):"")}return a.createElement(Rn.ZP,{visible:C,onVisibleChanged:z,onAppearPrepare:oe,onEnterPrepare:oe,forceRender:w,motionName:D,removeOnLeave:I,ref:j},function(ae,ie){var le=ae.className,fe=ae.style;return a.createElement(_i,(0,Ge.Z)({},e,{ref:t,title:o,ariaId:L,prefixCls:s,holderRef:ie,style:(0,Y.Z)((0,Y.Z)((0,Y.Z)({},fe),f),ne),className:q()(y,le)}))})});Fi.displayName="Content";var Ao=Fi,Ai=function(t){var s=t.prefixCls,o=t.style,f=t.visible,y=t.maskProps,C=t.motionName,w=t.className;return a.createElement(Rn.ZP,{key:"mask",visible:f,motionName:C,leavedClassName:"".concat(s,"-mask-hidden")},function(I,D){var L=I.className,z=I.style;return a.createElement("div",(0,Ge.Z)({ref:D,style:(0,Y.Z)((0,Y.Z)({},z),o),className:q()("".concat(s,"-mask"),L,w)},y))})},Zi=Ai,li=B(4449),Xi=function(t){var s=t.prefixCls,o=s===void 0?"rc-dialog":s,f=t.zIndex,y=t.visible,C=y===void 0?!1:y,w=t.keyboard,I=w===void 0?!0:w,D=t.focusTriggerAfterClose,L=D===void 0?!0:D,z=t.wrapStyle,k=t.wrapClassName,j=t.wrapProps,Z=t.onClose,G=t.afterOpenChange,H=t.afterClose,X=t.transitionName,ne=t.animation,oe=t.closable,ae=oe===void 0?!0:oe,ie=t.mask,le=ie===void 0?!0:ie,fe=t.maskTransitionName,me=t.maskAnimation,ge=t.maskClosable,xe=ge===void 0?!0:ge,Me=t.maskStyle,$e=t.maskProps,Oe=t.rootClassName,He=t.classNames,Ne=t.styles,Ke=(0,a.useRef)(),je=(0,a.useRef)(),lt=(0,a.useRef)(),ht=a.useState(C),It=(0,Re.Z)(ht,2),Tt=It[0],wt=It[1],_t=(0,Ye.Z)();function At(){(0,Ce.Z)(je.current,document.activeElement)||(Ke.current=document.activeElement)}function Bt(){if(!(0,Ce.Z)(je.current,document.activeElement)){var Vn;(Vn=lt.current)===null||Vn===void 0||Vn.focus()}}function Dt(Vn){if(Vn)Bt();else{if(wt(!1),le&&Ke.current&&L){try{Ke.current.focus({preventScroll:!0})}catch(Ln){}Ke.current=null}Tt&&(H==null||H())}G==null||G(Vn)}function Gt(Vn){Z==null||Z(Vn)}var Pt=(0,a.useRef)(!1),Pn=(0,a.useRef)(),Kn=function(){clearTimeout(Pn.current),Pt.current=!0},_n=function(){Pn.current=setTimeout(function(){Pt.current=!1})},Fn=null;xe&&(Fn=function(Ln){Pt.current?Pt.current=!1:je.current===Ln.target&&Gt(Ln)});function on(Vn){if(I&&Vn.keyCode===rt.Z.ESC){Vn.stopPropagation(),Gt(Vn);return}C&&Vn.keyCode===rt.Z.TAB&&lt.current.changeActive(!Vn.shiftKey)}(0,a.useEffect)(function(){C&&(wt(!0),At())},[C]),(0,a.useEffect)(function(){return function(){clearTimeout(Pn.current)}},[]);var Zt=(0,Y.Z)((0,Y.Z)((0,Y.Z)({zIndex:f},z),Ne==null?void 0:Ne.wrapper),{},{display:Tt?null:"none"});return a.createElement("div",(0,Ge.Z)({className:q()("".concat(o,"-root"),Oe)},(0,ut.Z)(t,{data:!0})),a.createElement(Zi,{prefixCls:o,visible:le&&C,motionName:Fe(o,fe,me),style:(0,Y.Z)((0,Y.Z)({zIndex:f},Me),Ne==null?void 0:Ne.mask),maskProps:$e,className:He==null?void 0:He.mask}),a.createElement("div",(0,Ge.Z)({tabIndex:-1,onKeyDown:on,className:q()("".concat(o,"-wrap"),k,He==null?void 0:He.wrapper),ref:je,onClick:Fn,style:Zt},j),a.createElement(Ao,(0,Ge.Z)({},t,{onMouseDown:Kn,onMouseUp:_n,ref:lt,closable:ae,ariaId:_t,prefixCls:o,visible:C&&Tt,onClose:Gt,onVisibleChanged:Dt,motionName:Fe(o,X,ne)}))))},Yi=Xi,Po=function(t){var s=t.visible,o=t.getContainer,f=t.forceRender,y=t.destroyOnClose,C=y===void 0?!1:y,w=t.afterClose,I=t.panelRef,D=a.useState(s),L=(0,Re.Z)(D,2),z=L[0],k=L[1],j=a.useMemo(function(){return{panel:I}},[I]);return a.useEffect(function(){s&&k(!0)},[s]),!f&&C&&!z?null:a.createElement(qe.Provider,{value:j},a.createElement(sn.Z,{open:s||f||z,autoDestroy:!1,getContainer:o,autoLock:s||z},a.createElement(Yi,(0,Ge.Z)({},t,{destroyOnClose:C,afterClose:function(){w==null||w(),k(!1)}}))))};Po.displayName="Dialog";var la=Po,da=la,ma=B(78018);function ba(e){if(e)return{closable:e.closable,closeIcon:e.closeIcon}}function Sa(e){const{closable:t,closeIcon:s}=e||{};return a.useMemo(()=>{if(!t&&(t===!1||s===!1||s===null))return!1;if(t===void 0&&s===void 0)return null;let o={closeIcon:typeof s!="boolean"&&s!==null?s:void 0};return t&&typeof t=="object"&&(o=Object.assign(Object.assign({},o),t)),o},[t,s])}function wa(){const e={};for(var t=arguments.length,s=new Array(t),o=0;o<t;o++)s[o]=arguments[o];return s.forEach(f=>{f&&Object.keys(f).forEach(y=>{f[y]!==void 0&&(e[y]=f[y])})}),e}const Ua={};function ga(e,t){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Ua;const o=Sa(e),f=Sa(t),y=typeof o!="boolean"?!!(o!=null&&o.disabled):!1,C=a.useMemo(()=>Object.assign({closeIcon:a.createElement(lr.Z,null)},s),[s]),w=a.useMemo(()=>o===!1?!1:o?wa(C,f,o):f===!1?!1:f?wa(C,f):C.closable?C:!1,[o,f,C]);return a.useMemo(()=>{if(w===!1)return[!1,null,y];const{closeIconRender:I}=C,{closeIcon:D}=w;let L=D;if(L!=null){I&&(L=I(D));const z=(0,ut.Z)(w,!0);Object.keys(z).length&&(L=a.isValidElement(L)?a.cloneElement(L,z):a.createElement("span",Object.assign({},z),L))}return[!0,L,y]},[w,C])}var Ts=B(18415);const Ms=()=>(0,Ts.Z)()&&window.document.documentElement;var ms=B(61803),$a=B(18051),hl=e=>{const{prefixCls:t,className:s,style:o,size:f,shape:y}=e,C=q()({[`${t}-lg`]:f==="large",[`${t}-sm`]:f==="small"}),w=q()({[`${t}-circle`]:y==="circle",[`${t}-square`]:y==="square",[`${t}-round`]:y==="round"}),I=a.useMemo(()=>typeof f=="number"?{width:f,height:f,lineHeight:`${f}px`}:{},[f]);return a.createElement("span",{className:q()(t,C,w,s),style:Object.assign(Object.assign({},I),o)})};const Hs=new he.E4("ant-skeleton-loading",{"0%":{backgroundPosition:"100% 50%"},"100%":{backgroundPosition:"0 50%"}}),Rl=e=>({height:e,lineHeight:(0,he.bf)(e)}),Ql=e=>Object.assign({width:e},Rl(e)),xa=e=>({background:e.skeletonLoadingBackground,backgroundSize:"400% 100%",animationName:Hs,animationDuration:e.skeletonLoadingMotionDuration,animationTimingFunction:"ease",animationIterationCount:"infinite"}),Wa=(e,t)=>Object.assign({width:t(e).mul(5).equal(),minWidth:t(e).mul(5).equal()},Rl(e)),va=e=>{const{skeletonAvatarCls:t,gradientFromColor:s,controlHeight:o,controlHeightLG:f,controlHeightSM:y}=e;return{[t]:Object.assign({display:"inline-block",verticalAlign:"top",background:s},Ql(o)),[`${t}${t}-circle`]:{borderRadius:"50%"},[`${t}${t}-lg`]:Object.assign({},Ql(f)),[`${t}${t}-sm`]:Object.assign({},Ql(y))}},aa=e=>{const{controlHeight:t,borderRadiusSM:s,skeletonInputCls:o,controlHeightLG:f,controlHeightSM:y,gradientFromColor:C,calc:w}=e;return{[o]:Object.assign({display:"inline-block",verticalAlign:"top",background:C,borderRadius:s},Wa(t,w)),[`${o}-lg`]:Object.assign({},Wa(f,w)),[`${o}-sm`]:Object.assign({},Wa(y,w))}},fs=e=>Object.assign({width:e},Rl(e)),Fs=e=>{const{skeletonImageCls:t,imageSizeBase:s,gradientFromColor:o,borderRadiusSM:f,calc:y}=e;return{[t]:Object.assign(Object.assign({display:"inline-flex",alignItems:"center",justifyContent:"center",verticalAlign:"middle",background:o,borderRadius:f},fs(y(s).mul(2).equal())),{[`${t}-path`]:{fill:"#bfbfbf"},[`${t}-svg`]:Object.assign(Object.assign({},fs(s)),{maxWidth:y(s).mul(4).equal(),maxHeight:y(s).mul(4).equal()}),[`${t}-svg${t}-svg-circle`]:{borderRadius:"50%"}}),[`${t}${t}-circle`]:{borderRadius:"50%"}}},Nl=(e,t,s)=>{const{skeletonButtonCls:o}=e;return{[`${s}${o}-circle`]:{width:t,minWidth:t,borderRadius:"50%"},[`${s}${o}-round`]:{borderRadius:t}}},ec=(e,t)=>Object.assign({width:t(e).mul(2).equal(),minWidth:t(e).mul(2).equal()},Rl(e)),zc=e=>{const{borderRadiusSM:t,skeletonButtonCls:s,controlHeight:o,controlHeightLG:f,controlHeightSM:y,gradientFromColor:C,calc:w}=e;return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({[s]:Object.assign({display:"inline-block",verticalAlign:"top",background:C,borderRadius:t,width:w(o).mul(2).equal(),minWidth:w(o).mul(2).equal()},ec(o,w))},Nl(e,o,s)),{[`${s}-lg`]:Object.assign({},ec(f,w))}),Nl(e,f,`${s}-lg`)),{[`${s}-sm`]:Object.assign({},ec(y,w))}),Nl(e,y,`${s}-sm`))},Cl=e=>{const{componentCls:t,skeletonAvatarCls:s,skeletonTitleCls:o,skeletonParagraphCls:f,skeletonButtonCls:y,skeletonInputCls:C,skeletonImageCls:w,controlHeight:I,controlHeightLG:D,controlHeightSM:L,gradientFromColor:z,padding:k,marginSM:j,borderRadius:Z,titleHeight:G,blockRadius:H,paragraphLiHeight:X,controlHeightXS:ne,paragraphMarginTop:oe}=e;return{[t]:{display:"table",width:"100%",[`${t}-header`]:{display:"table-cell",paddingInlineEnd:k,verticalAlign:"top",[s]:Object.assign({display:"inline-block",verticalAlign:"top",background:z},Ql(I)),[`${s}-circle`]:{borderRadius:"50%"},[`${s}-lg`]:Object.assign({},Ql(D)),[`${s}-sm`]:Object.assign({},Ql(L))},[`${t}-content`]:{display:"table-cell",width:"100%",verticalAlign:"top",[o]:{width:"100%",height:G,background:z,borderRadius:H,[`+ ${f}`]:{marginBlockStart:L}},[f]:{padding:0,"> li":{width:"100%",height:X,listStyle:"none",background:z,borderRadius:H,"+ li":{marginBlockStart:ne}}},[`${f}> li:last-child:not(:first-child):not(:nth-child(2))`]:{width:"61%"}},[`&-round ${t}-content`]:{[`${o}, ${f} > li`]:{borderRadius:Z}}},[`${t}-with-avatar ${t}-content`]:{[o]:{marginBlockStart:j,[`+ ${f}`]:{marginBlockStart:oe}}},[`${t}${t}-element`]:Object.assign(Object.assign(Object.assign(Object.assign({display:"inline-block",width:"auto"},zc(e)),va(e)),aa(e)),Fs(e)),[`${t}${t}-block`]:{width:"100%",[y]:{width:"100%"},[C]:{width:"100%"}},[`${t}${t}-active`]:{[`
        ${o},
        ${f} > li,
        ${s},
        ${y},
        ${C},
        ${w}
      `]:Object.assign({},xa(e))}}},jl=e=>{const{colorFillContent:t,colorFill:s}=e,o=t,f=s;return{color:o,colorGradientEnd:f,gradientFromColor:o,gradientToColor:f,titleHeight:e.controlHeight/2,blockRadius:e.borderRadiusSM,paragraphMarginTop:e.marginLG+e.marginXXS,paragraphLiHeight:e.controlHeight/2}};var ia=(0,te.I$)("Skeleton",e=>{const{componentCls:t,calc:s}=e,o=(0,ci.IX)(e,{skeletonAvatarCls:`${t}-avatar`,skeletonTitleCls:`${t}-title`,skeletonParagraphCls:`${t}-paragraph`,skeletonButtonCls:`${t}-button`,skeletonInputCls:`${t}-input`,skeletonImageCls:`${t}-image`,imageSizeBase:s(e.controlHeight).mul(1.5).equal(),borderRadius:100,skeletonLoadingBackground:`linear-gradient(90deg, ${e.gradientFromColor} 25%, ${e.gradientToColor} 37%, ${e.gradientFromColor} 63%)`,skeletonLoadingMotionDuration:"1.4s"});return[Cl(o)]},jl,{deprecatedTokens:[["color","gradientFromColor"],["colorGradientEnd","gradientToColor"]]}),su=e=>{const{prefixCls:t,className:s,rootClassName:o,active:f,shape:y="circle",size:C="default"}=e,{getPrefixCls:w}=a.useContext(ye.E_),I=w("skeleton",t),[D,L,z]=ia(I),k=(0,$a.Z)(e,["prefixCls","className"]),j=q()(I,`${I}-element`,{[`${I}-active`]:f},s,o,L,z);return D(a.createElement("div",{className:j},a.createElement(hl,Object.assign({prefixCls:`${I}-avatar`,shape:y,size:C},k))))},tc=e=>{const{prefixCls:t,className:s,rootClassName:o,active:f,block:y=!1,size:C="default"}=e,{getPrefixCls:w}=a.useContext(ye.E_),I=w("skeleton",t),[D,L,z]=ia(I),k=(0,$a.Z)(e,["prefixCls"]),j=q()(I,`${I}-element`,{[`${I}-active`]:f,[`${I}-block`]:y},s,o,L,z);return D(a.createElement("div",{className:j},a.createElement(hl,Object.assign({prefixCls:`${I}-button`,size:C},k))))};const Jc="M365.714286 329.142857q0 45.714286-32.036571 77.677714t-77.677714 32.036571-77.677714-32.036571-32.036571-77.677714 32.036571-77.677714 77.677714-32.036571 77.677714 32.036571 32.036571 77.677714zM950.857143 548.571429l0 256-804.571429 0 0-109.714286 182.857143-182.857143 91.428571 91.428571 292.571429-292.571429zM1005.714286 146.285714l-914.285714 0q-7.460571 0-12.873143 5.412571t-5.412571 12.873143l0 694.857143q0 7.460571 5.412571 12.873143t12.873143 5.412571l914.285714 0q7.460571 0 12.873143-5.412571t5.412571-12.873143l0-694.857143q0-7.460571-5.412571-12.873143t-12.873143-5.412571zM1097.142857 164.571429l0 694.857143q0 37.741714-26.843429 64.585143t-64.585143 26.843429l-914.285714 0q-37.741714 0-64.585143-26.843429t-26.843429-64.585143l0-694.857143q0-37.741714 26.843429-64.585143t64.585143-26.843429l914.285714 0q37.741714 0 64.585143 26.843429t26.843429 64.585143z";var yc=e=>{const{prefixCls:t,className:s,rootClassName:o,style:f,active:y}=e,{getPrefixCls:C}=a.useContext(ye.E_),w=C("skeleton",t),[I,D,L]=ia(w),z=q()(w,`${w}-element`,{[`${w}-active`]:y},s,o,D,L);return I(a.createElement("div",{className:z},a.createElement("div",{className:q()(`${w}-image`,s),style:f},a.createElement("svg",{viewBox:"0 0 1098 1024",xmlns:"http://www.w3.org/2000/svg",className:`${w}-image-svg`},a.createElement("title",null,"Image placeholder"),a.createElement("path",{d:Jc,className:`${w}-image-path`})))))},Qc=e=>{const{prefixCls:t,className:s,rootClassName:o,active:f,block:y,size:C="default"}=e,{getPrefixCls:w}=a.useContext(ye.E_),I=w("skeleton",t),[D,L,z]=ia(I),k=(0,$a.Z)(e,["prefixCls"]),j=q()(I,`${I}-element`,{[`${I}-active`]:f,[`${I}-block`]:y},s,o,L,z);return D(a.createElement("div",{className:j},a.createElement(hl,Object.assign({prefixCls:`${I}-input`,size:C},k))))},nc=e=>{const{prefixCls:t,className:s,rootClassName:o,style:f,active:y,children:C}=e,{getPrefixCls:w}=a.useContext(ye.E_),I=w("skeleton",t),[D,L,z]=ia(I),k=q()(I,`${I}-element`,{[`${I}-active`]:y},L,s,o,z);return D(a.createElement("div",{className:k},a.createElement("div",{className:q()(`${I}-image`,s),style:f},C)))};const pl=(e,t)=>{const{width:s,rows:o=2}=t;if(Array.isArray(s))return s[e];if(o-1===e)return s};var ju=e=>{const{prefixCls:t,className:s,style:o,rows:f=0}=e,y=Array.from({length:f}).map((C,w)=>a.createElement("li",{key:w,style:{width:pl(w,e)}}));return a.createElement("ul",{className:q()(t,s),style:o},y)},lu=e=>{let{prefixCls:t,className:s,width:o,style:f}=e;return a.createElement("h3",{className:q()(t,s),style:Object.assign({width:o},f)})};function an(e){return e&&typeof e=="object"?e:{}}function jn(e,t){return e&&!t?{size:"large",shape:"square"}:{size:"large",shape:"circle"}}function Jn(e,t){return!e&&t?{width:"38%"}:e&&t?{width:"50%"}:{}}function pr(e,t){const s={};return(!e||!t)&&(s.width="61%"),!e&&t?s.rows=3:s.rows=2,s}const Qr=e=>{const{prefixCls:t,loading:s,className:o,rootClassName:f,style:y,children:C,avatar:w=!1,title:I=!0,paragraph:D=!0,active:L,round:z}=e,{getPrefixCls:k,direction:j,className:Z,style:G}=(0,ye.dj)("skeleton"),H=k("skeleton",t),[X,ne,oe]=ia(H);if(s||!("loading"in e)){const ae=!!w,ie=!!I,le=!!D;let fe;if(ae){const xe=Object.assign(Object.assign({prefixCls:`${H}-avatar`},jn(ie,le)),an(w));fe=a.createElement("div",{className:`${H}-header`},a.createElement(hl,Object.assign({},xe)))}let me;if(ie||le){let xe;if(ie){const $e=Object.assign(Object.assign({prefixCls:`${H}-title`},Jn(ae,le)),an(I));xe=a.createElement(lu,Object.assign({},$e))}let Me;if(le){const $e=Object.assign(Object.assign({prefixCls:`${H}-paragraph`},pr(ae,ie)),an(D));Me=a.createElement(ju,Object.assign({},$e))}me=a.createElement("div",{className:`${H}-content`},xe,Me)}const ge=q()(H,{[`${H}-with-avatar`]:ae,[`${H}-active`]:L,[`${H}-rtl`]:j==="rtl",[`${H}-round`]:z},Z,o,f,ne,oe);return X(a.createElement("div",{className:ge,style:Object.assign(Object.assign({},G),y)},fe,me))}return C!=null?C:null};Qr.Button=tc,Qr.Avatar=su,Qr.Input=Qc,Qr.Image=yc,Qr.Node=nc;var ro=Qr,vo=ro;function no(){}const Oo=a.createContext({add:no,remove:no});function co(e){const t=a.useContext(Oo),s=a.useRef(null);return(0,_r.Z)(f=>{if(f){const y=e?f.querySelector(e):f;t.add(y),s.current=y}else t.remove(s.current)})}var ao=Oo,Fo=B(98472),ta=()=>{const{cancelButtonProps:e,cancelTextLocale:t,onCancel:s}=(0,a.useContext)(zr);return a.createElement(Or.ZP,Object.assign({onClick:s},e),t)},fa=()=>{const{confirmLoading:e,okButtonProps:t,okType:s,okTextLocale:o,onOk:f}=(0,a.useContext)(zr);return a.createElement(Or.ZP,Object.assign({},(0,Ri.nx)(s),{loading:e,onClick:f},t),o)},Oa=B(3786);function Ya(e,t){return a.createElement("span",{className:`${e}-close-x`},t||a.createElement(lr.Z,{className:`${e}-close-icon`}))}const Ma=e=>{const{okText:t,okType:s="primary",cancelText:o,confirmLoading:f,onOk:y,onCancel:C,okButtonProps:w,cancelButtonProps:I,footer:D}=e,[L]=(0,En.Z)("Modal",(0,Oa.A)()),z=t||(L==null?void 0:L.okText),k=o||(L==null?void 0:L.cancelText),j={confirmLoading:f,okButtonProps:w,cancelButtonProps:I,okTextLocale:z,cancelTextLocale:k,okType:s,onOk:y,onCancel:C},Z=a.useMemo(()=>j,(0,be.Z)(Object.values(j)));let G;return typeof D=="function"||typeof D=="undefined"?(G=a.createElement(a.Fragment,null,a.createElement(ta,null),a.createElement(fa,null)),typeof D=="function"&&(G=D(G,{OkBtn:fa,CancelBtn:ta})),G=a.createElement(Si,{value:Z},G)):G=D,a.createElement(Fo.n,{disabled:!1},G)};var qa=B(40672),Fa=B(79318);const is=new he.E4("antFadeIn",{"0%":{opacity:0},"100%":{opacity:1}}),rs=new he.E4("antFadeOut",{"0%":{opacity:1},"100%":{opacity:0}}),ja=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const{antCls:s}=e,o=`${s}-fade`,f=t?"&":"";return[(0,Fa.R)(o,is,rs,e.motionDurationMid,t),{[`
        ${f}${o}-enter,
        ${f}${o}-appear
      `]:{opacity:0,animationTimingFunction:"linear"},[`${f}${o}-leave`]:{animationTimingFunction:"linear"}}]};var Ps=B(3153);function Vl(e){return{position:e,inset:0}}const ml=e=>{const{componentCls:t,antCls:s}=e;return[{[`${t}-root`]:{[`${t}${s}-zoom-enter, ${t}${s}-zoom-appear`]:{transform:"none",opacity:0,animationDuration:e.motionDurationSlow,userSelect:"none"},[`${t}${s}-zoom-leave ${t}-content`]:{pointerEvents:"none"},[`${t}-mask`]:Object.assign(Object.assign({},Vl("fixed")),{zIndex:e.zIndexPopupBase,height:"100%",backgroundColor:e.colorBgMask,pointerEvents:"none",[`${t}-hidden`]:{display:"none"}}),[`${t}-wrap`]:Object.assign(Object.assign({},Vl("fixed")),{zIndex:e.zIndexPopupBase,overflow:"auto",outline:0,WebkitOverflowScrolling:"touch"})}},{[`${t}-root`]:ja(e)}]},cu=e=>{const{componentCls:t}=e;return[{[`${t}-root`]:{[`${t}-wrap-rtl`]:{direction:"rtl"},[`${t}-centered`]:{textAlign:"center","&::before":{display:"inline-block",width:0,height:"100%",verticalAlign:"middle",content:'""'},[t]:{top:0,display:"inline-block",paddingBottom:0,textAlign:"start",verticalAlign:"middle"}},[`@media (max-width: ${e.screenSMMax}px)`]:{[t]:{maxWidth:"calc(100vw - 16px)",margin:`${(0,he.bf)(e.marginXS)} auto`},[`${t}-centered`]:{[t]:{flex:1}}}}},{[t]:Object.assign(Object.assign({},(0,Qt.Wf)(e)),{pointerEvents:"none",position:"relative",top:100,width:"auto",maxWidth:`calc(100vw - ${(0,he.bf)(e.calc(e.margin).mul(2).equal())})`,margin:"0 auto",paddingBottom:e.paddingLG,[`${t}-title`]:{margin:0,color:e.titleColor,fontWeight:e.fontWeightStrong,fontSize:e.titleFontSize,lineHeight:e.titleLineHeight,wordWrap:"break-word"},[`${t}-content`]:{position:"relative",backgroundColor:e.contentBg,backgroundClip:"padding-box",border:0,borderRadius:e.borderRadiusLG,boxShadow:e.boxShadow,pointerEvents:"auto",padding:e.contentPadding},[`${t}-close`]:Object.assign({position:"absolute",top:e.calc(e.modalHeaderHeight).sub(e.modalCloseBtnSize).div(2).equal(),insetInlineEnd:e.calc(e.modalHeaderHeight).sub(e.modalCloseBtnSize).div(2).equal(),zIndex:e.calc(e.zIndexPopupBase).add(10).equal(),padding:0,color:e.modalCloseIconColor,fontWeight:e.fontWeightStrong,lineHeight:1,textDecoration:"none",background:"transparent",borderRadius:e.borderRadiusSM,width:e.modalCloseBtnSize,height:e.modalCloseBtnSize,border:0,outline:0,cursor:"pointer",transition:`color ${e.motionDurationMid}, background-color ${e.motionDurationMid}`,"&-x":{display:"flex",fontSize:e.fontSizeLG,fontStyle:"normal",lineHeight:(0,he.bf)(e.modalCloseBtnSize),justifyContent:"center",textTransform:"none",textRendering:"auto"},"&:disabled":{pointerEvents:"none"},"&:hover":{color:e.modalCloseIconHoverColor,backgroundColor:e.colorBgTextHover,textDecoration:"none"},"&:active":{backgroundColor:e.colorBgTextActive}},(0,Qt.Qy)(e)),[`${t}-header`]:{color:e.colorText,background:e.headerBg,borderRadius:`${(0,he.bf)(e.borderRadiusLG)} ${(0,he.bf)(e.borderRadiusLG)} 0 0`,marginBottom:e.headerMarginBottom,padding:e.headerPadding,borderBottom:e.headerBorderBottom},[`${t}-body`]:{fontSize:e.fontSize,lineHeight:e.lineHeight,wordWrap:"break-word",padding:e.bodyPadding,[`${t}-body-skeleton`]:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",margin:`${(0,he.bf)(e.margin)} auto`}},[`${t}-footer`]:{textAlign:"end",background:e.footerBg,marginTop:e.footerMarginTop,padding:e.footerPadding,borderTop:e.footerBorderTop,borderRadius:e.footerBorderRadius,[`> ${e.antCls}-btn + ${e.antCls}-btn`]:{marginInlineStart:e.marginXS}},[`${t}-open`]:{overflow:"hidden"}})},{[`${t}-pure-panel`]:{top:"auto",padding:0,display:"flex",flexDirection:"column",[`${t}-content,
          ${t}-body,
          ${t}-confirm-body-wrapper`]:{display:"flex",flexDirection:"column",flex:"auto"},[`${t}-confirm-body`]:{marginBottom:"auto"}}}]},Vu=e=>{const{componentCls:t}=e;return{[`${t}-root`]:{[`${t}-wrap-rtl`]:{direction:"rtl",[`${t}-confirm-body`]:{direction:"rtl"}}}}},Hl=e=>{const{componentCls:t}=e,s=(0,qa.hd)(e);delete s.xs;const o=Object.keys(s).map(f=>({[`@media (min-width: ${(0,he.bf)(s[f])})`]:{width:`var(--${t.replace(".","")}-${f}-width)`}}));return{[`${t}-root`]:{[t]:[{width:`var(--${t.replace(".","")}-xs-width)`}].concat((0,be.Z)(o))}}},Tl=e=>{const t=e.padding,s=e.fontSizeHeading5,o=e.lineHeightHeading5;return(0,ci.IX)(e,{modalHeaderHeight:e.calc(e.calc(o).mul(s).equal()).add(e.calc(t).mul(2).equal()).equal(),modalFooterBorderColorSplit:e.colorSplit,modalFooterBorderStyle:e.lineType,modalFooterBorderWidth:e.lineWidth,modalCloseIconColor:e.colorIcon,modalCloseIconHoverColor:e.colorIconHover,modalCloseBtnSize:e.controlHeight,modalConfirmIconSize:e.fontHeight,modalTitleHeight:e.calc(e.titleFontSize).mul(e.titleLineHeight).equal()})},$l=e=>({footerBg:"transparent",headerBg:e.colorBgElevated,titleLineHeight:e.lineHeightHeading5,titleFontSize:e.fontSizeHeading5,contentBg:e.colorBgElevated,titleColor:e.colorTextHeading,contentPadding:e.wireframe?0:`${(0,he.bf)(e.paddingMD)} ${(0,he.bf)(e.paddingContentHorizontalLG)}`,headerPadding:e.wireframe?`${(0,he.bf)(e.padding)} ${(0,he.bf)(e.paddingLG)}`:0,headerBorderBottom:e.wireframe?`${(0,he.bf)(e.lineWidth)} ${e.lineType} ${e.colorSplit}`:"none",headerMarginBottom:e.wireframe?0:e.marginXS,bodyPadding:e.wireframe?e.paddingLG:0,footerPadding:e.wireframe?`${(0,he.bf)(e.paddingXS)} ${(0,he.bf)(e.padding)}`:0,footerBorderTop:e.wireframe?`${(0,he.bf)(e.lineWidth)} ${e.lineType} ${e.colorSplit}`:"none",footerBorderRadius:e.wireframe?`0 0 ${(0,he.bf)(e.borderRadiusLG)} ${(0,he.bf)(e.borderRadiusLG)}`:0,footerMarginTop:e.wireframe?0:e.marginSM,confirmBodyPadding:e.wireframe?`${(0,he.bf)(e.padding*2)} ${(0,he.bf)(e.padding*2)} ${(0,he.bf)(e.paddingLG)}`:0,confirmIconMarginInlineEnd:e.wireframe?e.margin:e.marginSM,confirmBtnsMarginTop:e.wireframe?e.marginLG:e.marginSM});var dc=(0,te.I$)("Modal",e=>{const t=Tl(e);return[cu(t),Vu(t),ml(t),(0,Ps._y)(t,"zoom"),Hl(t)]},$l,{unitless:{titleLineHeight:!0}}),bc=function(e,t){var s={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(s[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(s[o[f]]=e[o[f]]);return s};let rc;const Ul=e=>{rc={x:e.pageX,y:e.pageY},setTimeout(()=>{rc=null},100)};Ms()&&document.documentElement.addEventListener("click",Ul,!0);var Nc=e=>{var t;const{getPopupContainer:s,getPrefixCls:o,direction:f,modal:y}=a.useContext(ye.E_),C=Dt=>{const{onCancel:Gt}=e;Gt==null||Gt(Dt)},w=Dt=>{const{onOk:Gt}=e;Gt==null||Gt(Dt)},{prefixCls:I,className:D,rootClassName:L,open:z,wrapClassName:k,centered:j,getContainer:Z,focusTriggerAfterClose:G=!0,style:H,visible:X,width:ne=520,footer:oe,classNames:ae,styles:ie,children:le,loading:fe}=e,me=bc(e,["prefixCls","className","rootClassName","open","wrapClassName","centered","getContainer","focusTriggerAfterClose","style","visible","width","footer","classNames","styles","children","loading"]),ge=o("modal",I),xe=o(),Me=(0,Wn.Z)(ge),[$e,Oe,He]=dc(ge,Me),Ne=q()(k,{[`${ge}-centered`]:j!=null?j:y==null?void 0:y.centered,[`${ge}-wrap-rtl`]:f==="rtl"}),Ke=oe!==null&&!fe?a.createElement(Ma,Object.assign({},e,{onOk:w,onCancel:C})):null,[je,lt,ht]=ga(ba(e),ba(y),{closable:!0,closeIcon:a.createElement(lr.Z,{className:`${ge}-close-icon`}),closeIconRender:Dt=>Ya(ge,Dt)}),It=co(`.${ge}-content`),[Tt,wt]=(0,qt.Cn)("Modal",me.zIndex),[_t,At]=a.useMemo(()=>ne&&typeof ne=="object"?[void 0,ne]:[ne,void 0],[ne]),Bt=a.useMemo(()=>{const Dt={};return At&&Object.keys(At).forEach(Gt=>{const Pt=At[Gt];Pt!==void 0&&(Dt[`--${ge}-${Gt}-width`]=typeof Pt=="number"?`${Pt}px`:Pt)}),Dt},[At]);return $e(a.createElement(ma.Z,{form:!0,space:!0},a.createElement(ms.Z.Provider,{value:wt},a.createElement(da,Object.assign({width:_t},me,{zIndex:Tt,getContainer:Z===void 0?s:Z,prefixCls:ge,rootClassName:q()(Oe,L,He,Me),footer:Ke,visible:z!=null?z:X,mousePosition:(t=me.mousePosition)!==null&&t!==void 0?t:rc,onClose:C,closable:je&&{disabled:ht,closeIcon:lt},closeIcon:lt,focusTriggerAfterClose:G,transitionName:(0,Et.m)(xe,"zoom",e.transitionName),maskTransitionName:(0,Et.m)(xe,"fade",e.maskTransitionName),className:q()(Oe,D,y==null?void 0:y.className),style:Object.assign(Object.assign(Object.assign({},y==null?void 0:y.style),H),Bt),classNames:Object.assign(Object.assign(Object.assign({},y==null?void 0:y.classNames),ae),{wrapper:q()(Ne,ae==null?void 0:ae.wrapper)}),styles:Object.assign(Object.assign({},y==null?void 0:y.styles),ie),panelRef:It}),fe?a.createElement(vo,{active:!0,title:!1,paragraph:{rows:4},className:`${ge}-body-skeleton`}):le))))};const sc=e=>{const{componentCls:t,titleFontSize:s,titleLineHeight:o,modalConfirmIconSize:f,fontSize:y,lineHeight:C,modalTitleHeight:w,fontHeight:I,confirmBodyPadding:D}=e,L=`${t}-confirm`;return{[L]:{"&-rtl":{direction:"rtl"},[`${e.antCls}-modal-header`]:{display:"none"},[`${L}-body-wrapper`]:Object.assign({},(0,Qt.dF)()),[`&${t} ${t}-body`]:{padding:D},[`${L}-body`]:{display:"flex",flexWrap:"nowrap",alignItems:"start",[`> ${e.iconCls}`]:{flex:"none",fontSize:f,marginInlineEnd:e.confirmIconMarginInlineEnd,marginTop:e.calc(e.calc(I).sub(f).equal()).div(2).equal()},[`&-has-title > ${e.iconCls}`]:{marginTop:e.calc(e.calc(w).sub(f).equal()).div(2).equal()}},[`${L}-paragraph`]:{display:"flex",flexDirection:"column",flex:"auto",rowGap:e.marginXS,maxWidth:`calc(100% - ${(0,he.bf)(e.marginSM)})`},[`${e.iconCls} + ${L}-paragraph`]:{maxWidth:`calc(100% - ${(0,he.bf)(e.calc(e.modalConfirmIconSize).add(e.marginSM).equal())})`},[`${L}-title`]:{color:e.colorTextHeading,fontWeight:e.fontWeightStrong,fontSize:s,lineHeight:o},[`${L}-content`]:{color:e.colorText,fontSize:y,lineHeight:C},[`${L}-btns`]:{textAlign:"end",marginTop:e.confirmBtnsMarginTop,[`${e.antCls}-btn + ${e.antCls}-btn`]:{marginBottom:0,marginInlineStart:e.marginXS}}},[`${L}-error ${L}-body > ${e.iconCls}`]:{color:e.colorError},[`${L}-warning ${L}-body > ${e.iconCls},
        ${L}-confirm ${L}-body > ${e.iconCls}`]:{color:e.colorWarning},[`${L}-info ${L}-body > ${e.iconCls}`]:{color:e.colorInfo},[`${L}-success ${L}-body > ${e.iconCls}`]:{color:e.colorSuccess}}};var Ec=(0,te.bk)(["Modal","confirm"],e=>{const t=Tl(e);return[sc(t)]},$l,{order:-1e3}),Wl=function(e,t){var s={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(s[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(s[o[f]]=e[o[f]]);return s};function Ja(e){const{prefixCls:t,icon:s,okText:o,cancelText:f,confirmPrefixCls:y,type:C,okCancel:w,footer:I,locale:D}=e,L=Wl(e,["prefixCls","icon","okText","cancelText","confirmPrefixCls","type","okCancel","footer","locale"]);let z=s;if(!s&&s!==null)switch(C){case"info":z=a.createElement(mn,null);break;case"success":z=a.createElement(Vt.Z,null);break;case"error":z=a.createElement(yr.Z,null);break;default:z=a.createElement(Xn.Z,null)}const k=w!=null?w:C==="confirm",j=e.autoFocusButton===null?!1:e.autoFocusButton||"ok",[Z]=(0,En.Z)("Modal"),G=D||Z,H=o||(k?G==null?void 0:G.okText:G==null?void 0:G.justOkText),X=f||(G==null?void 0:G.cancelText),ne=Object.assign({autoFocusButton:j,cancelTextLocale:X,okTextLocale:H,mergedOkCancel:k},L),oe=a.useMemo(()=>ne,(0,be.Z)(Object.values(ne))),ae=a.createElement(a.Fragment,null,a.createElement(mi,null),a.createElement(Uo,null)),ie=e.title!==void 0&&e.title!==null,le=`${y}-body`;return a.createElement("div",{className:`${y}-body-wrapper`},a.createElement("div",{className:q()(le,{[`${le}-has-title`]:ie})},z,a.createElement("div",{className:`${y}-paragraph`},ie&&a.createElement("span",{className:`${y}-title`},e.title),a.createElement("div",{className:`${y}-content`},e.content))),I===void 0||typeof I=="function"?a.createElement(Si,{value:oe},a.createElement("div",{className:`${y}-btns`},typeof I=="function"?I(ae,{OkBtn:Uo,CancelBtn:mi}):ae)):I,a.createElement(Ec,{prefixCls:t}))}const ep=e=>{const{close:t,zIndex:s,maskStyle:o,direction:f,prefixCls:y,wrapClassName:C,rootPrefixCls:w,bodyStyle:I,closable:D=!1,onConfirm:L,styles:z}=e,k=`${y}-confirm`,j=e.width||416,Z=e.style||{},G=e.mask===void 0?!0:e.mask,H=e.maskClosable===void 0?!1:e.maskClosable,X=q()(k,`${k}-${e.type}`,{[`${k}-rtl`]:f==="rtl"},e.className),[,ne]=(0,Qn.ZP)(),oe=a.useMemo(()=>s!==void 0?s:ne.zIndexPopupBase+qt.u6,[s,ne]);return a.createElement(Nc,Object.assign({},e,{className:X,wrapClassName:q()({[`${k}-centered`]:!!e.centered},C),onCancel:()=>{t==null||t({triggerCancel:!0}),L==null||L(!1)},title:"",footer:null,transitionName:(0,Et.m)(w||"","zoom",e.transitionName),maskTransitionName:(0,Et.m)(w||"","fade",e.maskTransitionName),mask:G,maskClosable:H,style:Z,styles:Object.assign({body:I,mask:o},z),width:j,zIndex:oe,closable:D}),a.createElement(Ja,Object.assign({},e,{confirmPrefixCls:k})))};var sh=e=>{const{rootPrefixCls:t,iconPrefixCls:s,direction:o,theme:f}=e;return a.createElement(_e.ZP,{prefixCls:t,iconPrefixCls:s,direction:o,theme:f},a.createElement(ep,Object.assign({},e)))},Hu=[];let Zs="";function md(){return Zs}const lh=e=>{var t,s;const{prefixCls:o,getContainer:f,direction:y}=e,C=(0,Oa.A)(),w=(0,a.useContext)(ye.E_),I=md()||w.getPrefixCls(),D=o||`${I}-modal`;let L=f;return L===!1&&(L=void 0),a.createElement(sh,Object.assign({},e,{rootPrefixCls:I,prefixCls:D,iconPrefixCls:w.iconPrefixCls,theme:w.theme,direction:y!=null?y:w.direction,locale:(s=(t=w.locale)===null||t===void 0?void 0:t.Modal)!==null&&s!==void 0?s:C,getContainer:L}))};function uu(e){const t=(0,_e.w6)(),s=document.createDocumentFragment();let o=Object.assign(Object.assign({},e),{close:I,open:!0}),f,y;function C(){for(var L,z=arguments.length,k=new Array(z),j=0;j<z;j++)k[j]=arguments[j];if(k.some(H=>H==null?void 0:H.triggerCancel)){var G;(L=e.onCancel)===null||L===void 0||(G=L).call.apply(G,[e,()=>{}].concat((0,be.Z)(k.slice(1))))}for(let H=0;H<Hu.length;H++)if(Hu[H]===I){Hu.splice(H,1);break}y()}function w(L){clearTimeout(f),f=setTimeout(()=>{const z=t.getPrefixCls(void 0,md()),k=t.getIconPrefixCls(),j=t.getTheme(),Z=a.createElement(lh,Object.assign({},L));y=(0,Ct.x)()(a.createElement(_e.ZP,{prefixCls:z,iconPrefixCls:k,theme:j},t.holderRender?t.holderRender(Z):Z),s)})}function I(){for(var L=arguments.length,z=new Array(L),k=0;k<L;k++)z[k]=arguments[k];o=Object.assign(Object.assign({},o),{open:!1,afterClose:()=>{typeof e.afterClose=="function"&&e.afterClose(),C.apply(this,z)}}),o.visible&&delete o.visible,w(o)}function D(L){typeof L=="function"?o=L(o):o=Object.assign(Object.assign({},o),L),w(o)}return w(o),Hu.push(I),{destroy:I,update:D}}function xf(e){return Object.assign(Object.assign({},e),{type:"warning"})}function Vd(e){return Object.assign(Object.assign({},e),{type:"info"})}function ch(e){return Object.assign(Object.assign({},e),{type:"success"})}function Cf(e){return Object.assign(Object.assign({},e),{type:"error"})}function Uu(e){return Object.assign(Object.assign({},e),{type:"confirm"})}function Hd(e){let{rootPrefixCls:t}=e;Zs=t}var du=B(42474),xc=function(e,t){var s={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(s[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(s[o[f]]=e[o[f]]);return s};const Sf=(e,t)=>{var s,{afterClose:o,config:f}=e,y=xc(e,["afterClose","config"]);const[C,w]=a.useState(!0),[I,D]=a.useState(f),{direction:L,getPrefixCls:z}=a.useContext(ye.E_),k=z("modal"),j=z(),Z=()=>{var ne;o(),(ne=I.afterClose)===null||ne===void 0||ne.call(I)},G=function(){var ne;w(!1);for(var oe=arguments.length,ae=new Array(oe),ie=0;ie<oe;ie++)ae[ie]=arguments[ie];if(ae.some(me=>me==null?void 0:me.triggerCancel)){var fe;(ne=I.onCancel)===null||ne===void 0||(fe=ne).call.apply(fe,[I,()=>{}].concat((0,be.Z)(ae.slice(1))))}};a.useImperativeHandle(t,()=>({destroy:G,update:ne=>{D(oe=>Object.assign(Object.assign({},oe),ne))}}));const H=(s=I.okCancel)!==null&&s!==void 0?s:I.type==="confirm",[X]=(0,En.Z)("Modal",du.Z.Modal);return a.createElement(sh,Object.assign({prefixCls:k,rootPrefixCls:j},I,{close:G,open:C,afterClose:Z,okText:I.okText||(H?X==null?void 0:X.okText:X==null?void 0:X.justOkText),direction:I.direction||L,cancelText:I.cancelText||(X==null?void 0:X.cancelText)},y))};var Ud=a.forwardRef(Sf);let Wd=0;const uh=a.memo(a.forwardRef((e,t)=>{const[s,o]=K();return a.useImperativeHandle(t,()=>({patchElement:o}),[]),a.createElement(a.Fragment,null,s)}));function dh(){const e=a.useRef(null),[t,s]=a.useState([]);a.useEffect(()=>{t.length&&((0,be.Z)(t).forEach(C=>{C()}),s([]))},[t]);const o=a.useCallback(y=>function(w){var I;Wd+=1;const D=a.createRef();let L;const z=new Promise(H=>{L=H});let k=!1,j;const Z=a.createElement(Ud,{key:`modal-${Wd}`,config:y(w),ref:D,afterClose:()=>{j==null||j()},isSilent:()=>k,onConfirm:H=>{L(H)}});return j=(I=e.current)===null||I===void 0?void 0:I.patchElement(Z),j&&Hu.push(j),{destroy:()=>{function H(){var X;(X=D.current)===null||X===void 0||X.destroy()}D.current?H():s(X=>[].concat((0,be.Z)(X),[H]))},update:H=>{function X(){var ne;(ne=D.current)===null||ne===void 0||ne.update(H)}D.current?X():s(ne=>[].concat((0,be.Z)(ne),[X]))},then:H=>(k=!0,z.then(H))}},[]);return[a.useMemo(()=>({info:o(Vd),success:o(ch),error:o(Cf),warning:o(xf),confirm:o(Uu)}),[]),a.createElement(uh,{key:"modal-holder",ref:e})]}var Gd=dh,fu=e=>{const{componentCls:t,notificationMarginEdge:s,animationMaxHeight:o}=e,f=`${t}-notice`,y=new he.E4("antNotificationFadeIn",{"0%":{transform:"translate3d(100%, 0, 0)",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",opacity:1}}),C=new he.E4("antNotificationTopFadeIn",{"0%":{top:-o,opacity:0},"100%":{top:0,opacity:1}}),w=new he.E4("antNotificationBottomFadeIn",{"0%":{bottom:e.calc(o).mul(-1).equal(),opacity:0},"100%":{bottom:0,opacity:1}}),I=new he.E4("antNotificationLeftFadeIn",{"0%":{transform:"translate3d(-100%, 0, 0)",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",opacity:1}});return{[t]:{[`&${t}-top, &${t}-bottom`]:{marginInline:0,[f]:{marginInline:"auto auto"}},[`&${t}-top`]:{[`${t}-fade-enter${t}-fade-enter-active, ${t}-fade-appear${t}-fade-appear-active`]:{animationName:C}},[`&${t}-bottom`]:{[`${t}-fade-enter${t}-fade-enter-active, ${t}-fade-appear${t}-fade-appear-active`]:{animationName:w}},[`&${t}-topRight, &${t}-bottomRight`]:{[`${t}-fade-enter${t}-fade-enter-active, ${t}-fade-appear${t}-fade-appear-active`]:{animationName:y}},[`&${t}-topLeft, &${t}-bottomLeft`]:{marginRight:{value:0,_skip_check_:!0},marginLeft:{value:s,_skip_check_:!0},[f]:{marginInlineEnd:"auto",marginInlineStart:0},[`${t}-fade-enter${t}-fade-enter-active, ${t}-fade-appear${t}-fade-appear-active`]:{animationName:I}}}}};const Kd=["top","topLeft","topRight","bottom","bottomLeft","bottomRight"],np={topLeft:"left",topRight:"right",bottomLeft:"left",bottomRight:"right",top:"left",bottom:"left"},fh=(e,t)=>{const{componentCls:s}=e;return{[`${s}-${t}`]:{[`&${s}-stack > ${s}-notice-wrapper`]:{[t.startsWith("top")?"top":"bottom"]:0,[np[t]]:{value:0,_skip_check_:!0}}}}},Wu=e=>{const t={};for(let s=1;s<e.notificationStackLayer;s++)t[`&:nth-last-child(${s+1})`]={overflow:"hidden",[`& > ${e.componentCls}-notice`]:{opacity:0,transition:`opacity ${e.motionDurationMid}`}};return Object.assign({[`&:not(:nth-last-child(-n+${e.notificationStackLayer}))`]:{opacity:0,overflow:"hidden",color:"transparent",pointerEvents:"none"}},t)},wf=e=>{const t={};for(let s=1;s<e.notificationStackLayer;s++)t[`&:nth-last-child(${s+1})`]={background:e.colorBgBlur,backdropFilter:"blur(10px)","-webkit-backdrop-filter":"blur(10px)"};return Object.assign({},t)};var rp=e=>{const{componentCls:t}=e;return Object.assign({[`${t}-stack`]:{[`& > ${t}-notice-wrapper`]:Object.assign({transition:`transform ${e.motionDurationSlow}, backdrop-filter 0s`,willChange:"transform, opacity",position:"absolute"},Wu(e))},[`${t}-stack:not(${t}-stack-expanded)`]:{[`& > ${t}-notice-wrapper`]:Object.assign({},wf(e))},[`${t}-stack${t}-stack-expanded`]:{[`& > ${t}-notice-wrapper`]:{"&:not(:nth-last-child(-n + 1))":{opacity:1,overflow:"unset",color:"inherit",pointerEvents:"auto",[`& > ${e.componentCls}-notice`]:{opacity:1}},"&:after":{content:'""',position:"absolute",height:e.margin,width:"100%",insetInline:0,bottom:e.calc(e.margin).mul(-1).equal(),background:"transparent",pointerEvents:"auto"}}}},Kd.map(s=>fh(e,s)).reduce((s,o)=>Object.assign(Object.assign({},s),o),{}))};const ip=e=>{const{iconCls:t,componentCls:s,boxShadow:o,fontSizeLG:f,notificationMarginBottom:y,borderRadiusLG:C,colorSuccess:w,colorInfo:I,colorWarning:D,colorError:L,colorTextHeading:z,notificationBg:k,notificationPadding:j,notificationMarginEdge:Z,notificationProgressBg:G,notificationProgressHeight:H,fontSize:X,lineHeight:ne,width:oe,notificationIconSize:ae,colorText:ie}=e,le=`${s}-notice`;return{position:"relative",marginBottom:y,marginInlineStart:"auto",background:k,borderRadius:C,boxShadow:o,[le]:{padding:j,width:oe,maxWidth:`calc(100vw - ${(0,he.bf)(e.calc(Z).mul(2).equal())})`,overflow:"hidden",lineHeight:ne,wordWrap:"break-word"},[`${le}-message`]:{marginBottom:e.marginXS,color:z,fontSize:f,lineHeight:e.lineHeightLG},[`${le}-description`]:{fontSize:X,color:ie},[`${le}-closable ${le}-message`]:{paddingInlineEnd:e.paddingLG},[`${le}-with-icon ${le}-message`]:{marginBottom:e.marginXS,marginInlineStart:e.calc(e.marginSM).add(ae).equal(),fontSize:f},[`${le}-with-icon ${le}-description`]:{marginInlineStart:e.calc(e.marginSM).add(ae).equal(),fontSize:X},[`${le}-icon`]:{position:"absolute",fontSize:ae,lineHeight:1,[`&-success${t}`]:{color:w},[`&-info${t}`]:{color:I},[`&-warning${t}`]:{color:D},[`&-error${t}`]:{color:L}},[`${le}-close`]:Object.assign({position:"absolute",top:e.notificationPaddingVertical,insetInlineEnd:e.notificationPaddingHorizontal,color:e.colorIcon,outline:"none",width:e.notificationCloseButtonSize,height:e.notificationCloseButtonSize,borderRadius:e.borderRadiusSM,transition:`background-color ${e.motionDurationMid}, color ${e.motionDurationMid}`,display:"flex",alignItems:"center",justifyContent:"center","&:hover":{color:e.colorIconHover,backgroundColor:e.colorBgTextHover},"&:active":{backgroundColor:e.colorBgTextActive}},(0,Qt.Qy)(e)),[`${le}-progress`]:{position:"absolute",display:"block",appearance:"none",WebkitAppearance:"none",inlineSize:`calc(100% - ${(0,he.bf)(C)} * 2)`,left:{_skip_check_:!0,value:C},right:{_skip_check_:!0,value:C},bottom:0,blockSize:H,border:0,"&, &::-webkit-progress-bar":{borderRadius:C,backgroundColor:"rgba(0, 0, 0, 0.04)"},"&::-moz-progress-bar":{background:G},"&::-webkit-progress-value":{borderRadius:C,background:G}},[`${le}-actions`]:{float:"right",marginTop:e.marginSM}}},_m=e=>{const{componentCls:t,notificationMarginBottom:s,notificationMarginEdge:o,motionDurationMid:f,motionEaseInOut:y}=e,C=`${t}-notice`,w=new he.E4("antNotificationFadeOut",{"0%":{maxHeight:e.animationMaxHeight,marginBottom:s},"100%":{maxHeight:0,marginBottom:0,paddingTop:0,paddingBottom:0,opacity:0}});return[{[t]:Object.assign(Object.assign({},(0,Qt.Wf)(e)),{position:"fixed",zIndex:e.zIndexPopup,marginRight:{value:o,_skip_check_:!0},[`${t}-hook-holder`]:{position:"relative"},[`${t}-fade-appear-prepare`]:{opacity:"0 !important"},[`${t}-fade-enter, ${t}-fade-appear`]:{animationDuration:e.motionDurationMid,animationTimingFunction:y,animationFillMode:"both",opacity:0,animationPlayState:"paused"},[`${t}-fade-leave`]:{animationTimingFunction:y,animationFillMode:"both",animationDuration:f,animationPlayState:"paused"},[`${t}-fade-enter${t}-fade-enter-active, ${t}-fade-appear${t}-fade-appear-active`]:{animationPlayState:"running"},[`${t}-fade-leave${t}-fade-leave-active`]:{animationName:w,animationPlayState:"running"},"&-rtl":{direction:"rtl",[`${C}-actions`]:{float:"left"}}})},{[t]:{[`${C}-wrapper`]:Object.assign({},ip(e))}}]},hh=e=>({zIndexPopup:e.zIndexPopupBase+qt.u6+50,width:384}),Ef=e=>{const t=e.paddingMD,s=e.paddingLG;return(0,ci.IX)(e,{notificationBg:e.colorBgElevated,notificationPaddingVertical:t,notificationPaddingHorizontal:s,notificationIconSize:e.calc(e.fontSizeLG).mul(e.lineHeightLG).equal(),notificationCloseButtonSize:e.calc(e.controlHeightLG).mul(.55).equal(),notificationMarginBottom:e.margin,notificationPadding:`${(0,he.bf)(e.paddingMD)} ${(0,he.bf)(e.paddingContentHorizontalLG)}`,notificationMarginEdge:e.marginLG,animationMaxHeight:150,notificationStackLayer:3,notificationProgressHeight:2,notificationProgressBg:`linear-gradient(90deg, ${e.colorPrimaryBorderHover}, ${e.colorPrimary})`})};var If=(0,te.I$)("Notification",e=>{const t=Ef(e);return[_m(t),fu(t),rp(t)]},hh),Tf=(0,te.bk)(["Notification","PurePanel"],e=>{const t=`${e.componentCls}-notice`,s=Ef(e);return{[`${t}-pure-panel`]:Object.assign(Object.assign({},ip(s)),{width:s.width,maxWidth:`calc(100vw - ${(0,he.bf)(e.calc(s.notificationMarginEdge).mul(2).equal())})`,margin:0})}},hh),In=function(e,t){var s={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(s[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(s[o[f]]=e[o[f]]);return s};const Vr={info:a.createElement(mn,null),success:a.createElement(Vt.Z,null),error:a.createElement(yr.Z,null),warning:a.createElement(Xn.Z,null),loading:a.createElement(wn.Z,null)};function so(e,t){return t===null||t===!1?null:t||a.createElement(lr.Z,{className:`${e}-close-icon`})}const ya={success:Vt.Z,info:mn,error:yr.Z,warning:Xn.Z},tl=e=>{const{prefixCls:t,icon:s,type:o,message:f,description:y,actions:C,role:w="alert"}=e;let I=null;return s?I=a.createElement("span",{className:`${t}-icon`},s):o&&(I=a.createElement(ya[o]||null,{className:q()(`${t}-icon`,`${t}-icon-${o}`)})),a.createElement("div",{className:q()({[`${t}-with-icon`]:I}),role:w},I,a.createElement("div",{className:`${t}-message`},f),a.createElement("div",{className:`${t}-description`},y),C&&a.createElement("div",{className:`${t}-actions`},C))};var gl=e=>{const{prefixCls:t,className:s,icon:o,type:f,message:y,description:C,btn:w,actions:I,closable:D=!0,closeIcon:L,className:z}=e,k=In(e,["prefixCls","className","icon","type","message","description","btn","actions","closable","closeIcon","className"]),{getPrefixCls:j}=a.useContext(ye.E_),Z=I!=null?I:w,G=t||j("notification"),H=`${G}-notice`,X=(0,Wn.Z)(G),[ne,oe,ae]=If(G,X);return ne(a.createElement("div",{className:q()(`${H}-pure-panel`,oe,s,ae,X)},a.createElement(Tf,{prefixCls:G}),a.createElement($t,Object.assign({},k,{prefixCls:G,eventKey:"pure",duration:null,closable:D,className:q()({notificationClassName:z}),closeIcon:so(G,L),content:a.createElement(tl,{prefixCls:H,icon:o,type:f,message:y,description:C,actions:Z})}))))};function Ys(e,t,s){let o;switch(e){case"top":o={left:"50%",transform:"translateX(-50%)",right:"auto",top:t,bottom:"auto"};break;case"topLeft":o={left:0,top:t,bottom:"auto"};break;case"topRight":o={right:0,top:t,bottom:"auto"};break;case"bottom":o={left:"50%",transform:"translateX(-50%)",right:"auto",top:"auto",bottom:s};break;case"bottomLeft":o={left:0,top:"auto",bottom:s};break;default:o={right:0,top:"auto",bottom:s};break}return o}function Bl(e){return{motionName:`${e}-fade`}}function ol(e,t,s){return typeof e!="undefined"?e:typeof(t==null?void 0:t.closeIcon)!="undefined"?t.closeIcon:s==null?void 0:s.closeIcon}var Uc=function(e,t){var s={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(s[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(s[o[f]]=e[o[f]]);return s};const fc=24,Al=4.5,Wc="topRight",Bc=e=>{let{children:t,prefixCls:s}=e;const o=(0,Wn.Z)(s),[f,y,C]=If(s,o);return f(a.createElement(et,{classNames:{list:q()(y,C,o)}},t))},Rc=(e,t)=>{let{prefixCls:s,key:o}=t;return a.createElement(Bc,{prefixCls:s,key:o},e)},$c=a.forwardRef((e,t)=>{const{top:s,bottom:o,prefixCls:f,getContainer:y,maxCount:C,rtl:w,onAllRemoved:I,stack:D,duration:L,pauseOnHover:z=!0,showProgress:k}=e,{getPrefixCls:j,getPopupContainer:Z,notification:G,direction:H}=(0,a.useContext)(ye.E_),[,X]=(0,Qn.ZP)(),ne=f||j("notification"),oe=me=>Ys(me,s!=null?s:fc,o!=null?o:fc),ae=()=>q()({[`${ne}-rtl`]:w!=null?w:H==="rtl"}),ie=()=>Bl(ne),[le,fe]=gt({prefixCls:ne,style:oe,className:ae,motion:ie,closable:!0,closeIcon:so(ne),duration:L!=null?L:Al,getContainer:()=>(y==null?void 0:y())||(Z==null?void 0:Z())||document.body,maxCount:C,pauseOnHover:z,showProgress:k,onAllRemoved:I,renderNotifications:Rc,stack:D===!1?!1:{threshold:typeof D=="object"?D==null?void 0:D.threshold:void 0,offset:8,gap:X.margin}});return a.useImperativeHandle(t,()=>Object.assign(Object.assign({},le),{prefixCls:ne,notification:G})),fe});function Su(e){const t=a.useRef(null),s=(0,Di.ln)("Notification");return[a.useMemo(()=>{const f=I=>{var D;if(!t.current)return;const{open:L,prefixCls:z,notification:k}=t.current,j=`${z}-notice`,{message:Z,description:G,icon:H,type:X,btn:ne,actions:oe,className:ae,style:ie,role:le="alert",closeIcon:fe,closable:me}=I,ge=Uc(I,["message","description","icon","type","btn","actions","className","style","role","closeIcon","closable"]),xe=oe!=null?oe:ne,Me=so(j,ol(fe,e,k));return L(Object.assign(Object.assign({placement:(D=e==null?void 0:e.placement)!==null&&D!==void 0?D:Wc},ge),{content:a.createElement(tl,{prefixCls:j,icon:H,type:X,message:Z,description:G,actions:xe,role:le}),className:q()(X&&`${j}-${X}`,ae,k==null?void 0:k.className),style:Object.assign(Object.assign({},k==null?void 0:k.style),ie),closeIcon:Me,closable:me!=null?me:!!Me}))},C={open:f,destroy:I=>{var D,L;I!==void 0?(D=t.current)===null||D===void 0||D.close(I):(L=t.current)===null||L===void 0||L.destroy()}};return["success","info","warning","error"].forEach(I=>{C[I]=D=>f(Object.assign(Object.assign({},D),{type:I}))}),C},[]),a.createElement($c,Object.assign({key:"notification-holder"},e,{ref:t}))]}function wu(e){return Su(e)}const gd=a.createContext({});var Eu=a.createContext({message:{},notification:{},modal:{}});const Pf=e=>{const{componentCls:t,colorText:s,fontSize:o,lineHeight:f,fontFamily:y}=e;return{[t]:{color:s,fontSize:o,lineHeight:f,fontFamily:y,[`&${t}-rtl`]:{direction:"rtl"}}}},Of=()=>({});var op=(0,te.I$)("App",Pf,Of),Wg=e=>{const{prefixCls:t,children:s,className:o,rootClassName:f,message:y,notification:C,style:w,component:I="div"}=e,{direction:D,getPrefixCls:L}=(0,a.useContext)(ye.E_),z=L("app",t),[k,j,Z]=op(z),G=q()(j,z,o,f,Z,{[`${z}-rtl`]:D==="rtl"}),H=(0,a.useContext)(gd),X=a.useMemo(()=>({message:Object.assign(Object.assign({},H.message),y),notification:Object.assign(Object.assign({},H.notification),C)}),[y,C,H.message,H.notification]),[ne,oe]=wo(X.message),[ae,ie]=wu(X.notification),[le,fe]=Gd(),me=a.useMemo(()=>({message:ne,notification:ae,modal:le}),[ne,ae,le]);(0,Di.ln)("App")(!(Z&&I===!1),"usage","When using cssVar, ensure `component` is assigned a valid React component string.");const ge=I===!1?a.Fragment:I,xe={className:G,style:w};return k(a.createElement(Eu.Provider,{value:me},a.createElement(gd.Provider,{value:X},a.createElement(ge,Object.assign({},I===!1?void 0:xe),fe,oe,ie,s))))},ph=()=>a.useContext(Eu);const lp=Wg;lp.useApp=ph;var Gg=lp,Iu=B(52445),Fc=B(30142),Gl=B(81626);const{Option:Eo}=Fc.default;function cp(e){return(e==null?void 0:e.type)&&(e.type.isSelectOption||e.type.isSelectOptGroup)}const bm=(e,t)=>{var s;const{prefixCls:o,className:f,popupClassName:y,dropdownClassName:C,children:w,dataSource:I}=e,D=(0,Gl.Z)(w);let L;D.length===1&&a.isValidElement(D[0])&&!cp(D[0])&&([L]=D);const z=L?()=>L:void 0;let k;D.length&&cp(D[0])?k=w:k=I?I.map(H=>{if(a.isValidElement(H))return H;switch(typeof H){case"string":return a.createElement(Eo,{key:H,value:H},H);case"object":{const{value:X}=H;return a.createElement(Eo,{key:X,value:X},H.text)}default:return}}):[];const{getPrefixCls:j}=a.useContext(ye.E_),Z=j("select",o),[G]=(0,qt.Cn)("SelectLike",(s=e.dropdownStyle)===null||s===void 0?void 0:s.zIndex);return a.createElement(Fc.default,Object.assign({ref:t,suffixIcon:null},(0,$a.Z)(e,["dataSource","dropdownClassName"]),{prefixCls:Z,popupClassName:y||C,dropdownStyle:Object.assign(Object.assign({},e.dropdownStyle),{zIndex:G}),className:q()(`${Z}-auto-complete`,f),mode:Fc.default.SECRET_COMBOBOX_MODE_DO_NOT_USE,getInputElement:z}),k)};var vd=a.forwardRef(bm);const{Option:No}=Fc.default,xm=(0,Iu.Z)(vd,"dropdownAlign",e=>(0,$a.Z)(e,["visible"])),Cm=vd;Cm.Option=No,Cm._InternalPanelDoNotUseOrYouWillBeFired=xm;var Mv=Cm,yd=B(96777),hc=B(95741),Gu=B(19240),mh=a.createContext({});const gh=e=>{const{antCls:t,componentCls:s,iconCls:o,avatarBg:f,avatarColor:y,containerSize:C,containerSizeLG:w,containerSizeSM:I,textFontSize:D,textFontSizeLG:L,textFontSizeSM:z,borderRadius:k,borderRadiusLG:j,borderRadiusSM:Z,lineWidth:G,lineType:H}=e,X=(ne,oe,ae)=>({width:ne,height:ne,borderRadius:"50%",[`&${s}-square`]:{borderRadius:ae},[`&${s}-icon`]:{fontSize:oe,[`> ${o}`]:{margin:0}}});return{[s]:Object.assign(Object.assign(Object.assign(Object.assign({},(0,Qt.Wf)(e)),{position:"relative",display:"inline-flex",justifyContent:"center",alignItems:"center",overflow:"hidden",color:y,whiteSpace:"nowrap",textAlign:"center",verticalAlign:"middle",background:f,border:`${(0,he.bf)(G)} ${H} transparent`,"&-image":{background:"transparent"},[`${t}-image-img`]:{display:"block"}}),X(C,D,k)),{"&-lg":Object.assign({},X(w,L,j)),"&-sm":Object.assign({},X(I,z,Z)),"> img":{display:"block",width:"100%",height:"100%",objectFit:"cover"}})}},up=e=>{const{componentCls:t,groupBorderColor:s,groupOverlapping:o,groupSpace:f}=e;return{[`${t}-group`]:{display:"inline-flex",[t]:{borderColor:s},"> *:not(:first-child)":{marginInlineStart:o}},[`${t}-group-popover`]:{[`${t} + ${t}`]:{marginInlineStart:f}}}},Sm=e=>{const{controlHeight:t,controlHeightLG:s,controlHeightSM:o,fontSize:f,fontSizeLG:y,fontSizeXL:C,fontSizeHeading3:w,marginXS:I,marginXXS:D,colorBorderBg:L}=e;return{containerSize:t,containerSizeLG:s,containerSizeSM:o,textFontSize:Math.round((y+C)/2),textFontSizeLG:w,textFontSizeSM:f,groupSpace:D,groupOverlapping:-I,groupBorderColor:L}};var hu=(0,te.I$)("Avatar",e=>{const{colorTextLightSolid:t,colorTextPlaceholder:s}=e,o=(0,ci.IX)(e,{avatarBg:s,avatarColor:t});return[gh(o),up(o)]},Sm),kc=function(e,t){var s={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(s[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(s[o[f]]=e[o[f]]);return s};const _d=(e,t)=>{const[s,o]=a.useState(1),[f,y]=a.useState(!1),[C,w]=a.useState(!0),I=a.useRef(null),D=a.useRef(null),L=(0,Jt.sQ)(t,I),{getPrefixCls:z,avatar:k}=a.useContext(ye.E_),j=a.useContext(mh),Z=()=>{if(!D.current||!I.current)return;const Pt=D.current.offsetWidth,Pn=I.current.offsetWidth;if(Pt!==0&&Pn!==0){const{gap:Kn=4}=e;Kn*2<Pn&&o(Pn-Kn*2<Pt?(Pn-Kn*2)/Pt:1)}};a.useEffect(()=>{y(!0)},[]),a.useEffect(()=>{w(!0),o(1)},[e.src]),a.useEffect(Z,[e.gap]);const G=()=>{const{onError:Pt}=e;(Pt==null?void 0:Pt())!==!1&&w(!1)},{prefixCls:H,shape:X,size:ne,src:oe,srcSet:ae,icon:ie,className:le,rootClassName:fe,alt:me,draggable:ge,children:xe,crossOrigin:Me}=e,$e=kc(e,["prefixCls","shape","size","src","srcSet","icon","className","rootClassName","alt","draggable","children","crossOrigin"]),Oe=(0,hc.Z)(Pt=>{var Pn,Kn;return(Kn=(Pn=ne!=null?ne:j==null?void 0:j.size)!==null&&Pn!==void 0?Pn:Pt)!==null&&Kn!==void 0?Kn:"default"}),He=Object.keys(typeof Oe=="object"?Oe||{}:{}).some(Pt=>["xs","sm","md","lg","xl","xxl"].includes(Pt)),Ne=(0,Gu.Z)(He),Ke=a.useMemo(()=>{if(typeof Oe!="object")return{};const Pt=yd.c4.find(Kn=>Ne[Kn]),Pn=Oe[Pt];return Pn?{width:Pn,height:Pn,fontSize:Pn&&(ie||xe)?Pn/2:18}:{}},[Ne,Oe]),je=z("avatar",H),lt=(0,Wn.Z)(je),[ht,It,Tt]=hu(je,lt),wt=q()({[`${je}-lg`]:Oe==="large",[`${je}-sm`]:Oe==="small"}),_t=a.isValidElement(oe),At=X||(j==null?void 0:j.shape)||"circle",Bt=q()(je,wt,k==null?void 0:k.className,`${je}-${At}`,{[`${je}-image`]:_t||oe&&C,[`${je}-icon`]:!!ie},Tt,lt,le,fe,It),Dt=typeof Oe=="number"?{width:Oe,height:Oe,fontSize:ie?Oe/2:18}:{};let Gt;if(typeof oe=="string"&&C)Gt=a.createElement("img",{src:oe,draggable:ge,srcSet:ae,onError:G,alt:me,crossOrigin:Me});else if(_t)Gt=oe;else if(ie)Gt=ie;else if(f||s!==1){const Pt=`scale(${s})`,Pn={msTransform:Pt,WebkitTransform:Pt,transform:Pt};Gt=a.createElement(c.Z,{onResize:Z},a.createElement("span",{className:`${je}-string`,ref:D,style:Object.assign({},Pn)},xe))}else Gt=a.createElement("span",{className:`${je}-string`,style:{opacity:0},ref:D},xe);return delete $e.onError,delete $e.gap,ht(a.createElement("span",Object.assign({},$e,{style:Object.assign(Object.assign(Object.assign(Object.assign({},Dt),Ke),k==null?void 0:k.style),$e.style),className:Bt,ref:L}),Gt))};var dp=a.forwardRef(_d),bd=B(60916);const vh=e=>{const{size:t,shape:s}=a.useContext(mh),o=a.useMemo(()=>({size:e.size||t,shape:e.shape||s}),[e.size,e.shape,t,s]);return a.createElement(mh.Provider,{value:o},e.children)};var Gc=e=>{var t,s,o,f;const{getPrefixCls:y,direction:C}=a.useContext(ye.E_),{prefixCls:w,className:I,rootClassName:D,style:L,maxCount:z,maxStyle:k,size:j,shape:Z,maxPopoverPlacement:G,maxPopoverTrigger:H,children:X,max:ne}=e,oe=y("avatar",w),ae=`${oe}-group`,ie=(0,Wn.Z)(oe),[le,fe,me]=hu(oe,ie),ge=q()(ae,{[`${ae}-rtl`]:C==="rtl"},me,ie,I,D,fe),xe=(0,Gl.Z)(X).map((Oe,He)=>(0,Cn.Tm)(Oe,{key:`avatar-key-${He}`})),Me=(ne==null?void 0:ne.count)||z,$e=xe.length;if(Me&&Me<$e){const Oe=xe.slice(0,Me),He=xe.slice(Me,$e),Ne=(ne==null?void 0:ne.style)||k,Ke=((t=ne==null?void 0:ne.popover)===null||t===void 0?void 0:t.trigger)||H||"hover",je=((s=ne==null?void 0:ne.popover)===null||s===void 0?void 0:s.placement)||G||"top",lt=Object.assign(Object.assign({content:He},ne==null?void 0:ne.popover),{classNames:{root:q()(`${ae}-popover`,(f=(o=ne==null?void 0:ne.popover)===null||o===void 0?void 0:o.classNames)===null||f===void 0?void 0:f.root)},placement:je,trigger:Ke});return Oe.push(a.createElement(bd.Z,Object.assign({key:"avatar-popover-key",destroyTooltipOnHide:!0},lt),a.createElement(dp,{style:Ne},`+${$e-Me}`))),le(a.createElement(vh,{shape:Z,size:j},a.createElement("div",{className:ge,style:L},Oe)))}return le(a.createElement(vh,{shape:Z,size:j},a.createElement("div",{className:ge,style:L},xe)))};const Us=dp;Us.Group=Gc;var hp=Us,yh={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M859.9 168H164.1c-4.5 0-8.1 3.6-8.1 8v60c0 4.4 3.6 8 8.1 8h695.8c4.5 0 8.1-3.6 8.1-8v-60c0-4.4-3.6-8-8.1-8zM518.3 355a8 8 0 00-12.6 0l-112 141.7a7.98 7.98 0 006.3 12.9h73.9V848c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V509.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 355z"}}]},name:"vertical-align-top",theme:"outlined"},pp=yh,wm=function(t,s){return a.createElement(Xt.Z,(0,Ge.Z)({},t,{ref:s,icon:pp}))},_h=a.forwardRef(wm),Yd=_h;const Rf=e=>{const{componentCls:t,backTopFontSize:s,backTopSize:o,zIndexPopup:f}=e;return{[t]:Object.assign(Object.assign({},(0,Qt.Wf)(e)),{position:"fixed",insetInlineEnd:e.backTopInlineEnd,insetBlockEnd:e.backTopBlockEnd,zIndex:f,width:40,height:40,cursor:"pointer","&:empty":{display:"none"},[`${t}-content`]:{width:o,height:o,overflow:"hidden",color:e.backTopColor,textAlign:"center",backgroundColor:e.backTopBackground,borderRadius:o,transition:`all ${e.motionDurationMid}`,"&:hover":{backgroundColor:e.backTopHoverBackground,transition:`all ${e.motionDurationMid}`}},[`${t}-icon`]:{fontSize:s,lineHeight:(0,he.bf)(o)}})}},$f=e=>{const{componentCls:t,screenMD:s,screenXS:o,backTopInlineEndMD:f,backTopInlineEndXS:y}=e;return{[`@media (max-width: ${(0,he.bf)(s)})`]:{[t]:{insetInlineEnd:f}},[`@media (max-width: ${(0,he.bf)(o)})`]:{[t]:{insetInlineEnd:y}}}},Oi=e=>({zIndexPopup:e.zIndexBase+10});var po=(0,te.I$)("BackTop",e=>{const{fontSizeHeading3:t,colorTextDescription:s,colorTextLightSolid:o,colorText:f,controlHeightLG:y,calc:C}=e,w=(0,ci.IX)(e,{backTopBackground:s,backTopColor:o,backTopHoverBackground:f,backTopFontSize:t,backTopSize:y,backTopBlockEnd:C(y).mul(1.25).equal(),backTopInlineEnd:C(y).mul(2.5).equal(),backTopInlineEndMD:C(y).mul(1.5).equal(),backTopInlineEndXS:C(y).mul(.5).equal()});return[Rf(w),$f(w)]},Oi),al=e=>{const{prefixCls:t,className:s,rootClassName:o,visibilityHeight:f=400,target:y,onClick:C,duration:w=450}=e,[I,D]=a.useState(f===0),L=a.useRef(null),z=()=>{var me;return((me=L.current)===null||me===void 0?void 0:me.ownerDocument)||window},k=Te(me=>{const ge=ar(me.target);D(ge>=f)});a.useEffect(()=>{const ge=(y||z)();return k({target:ge}),ge==null||ge.addEventListener("scroll",k),()=>{k.cancel(),ge==null||ge.removeEventListener("scroll",k)}},[y]);const j=me=>{ii(0,{getContainer:y||z,duration:w}),C==null||C(me)},{getPrefixCls:Z,direction:G}=a.useContext(ye.E_),H=Z("back-top",t),X=Z(),[ne,oe,ae]=po(H),ie=q()(oe,ae,H,{[`${H}-rtl`]:G==="rtl"},s,o),le=(0,$a.Z)(e,["prefixCls","className","rootClassName","children","visibilityHeight","target"]),fe=a.createElement("div",{className:`${H}-content`},a.createElement("div",{className:`${H}-icon`},a.createElement(Yd,null)));return ne(a.createElement("div",Object.assign({},le,{className:ie,onClick:j,ref:L}),a.createElement(Rn.ZP,{visible:I,motionName:`${X}-fade`},me=>{let{className:ge}=me;return(0,Cn.Tm)(e.children||fe,xe=>{let{className:Me}=xe;return{className:q()(ge,Me)}})})))},er=B(53835),mp=B(75428);const gp=new he.E4("antStatusProcessing",{"0%":{transform:"scale(0.8)",opacity:.5},"100%":{transform:"scale(2.4)",opacity:0}}),Em=new he.E4("antZoomBadgeIn",{"0%":{transform:"scale(0) translate(50%, -50%)",opacity:0},"100%":{transform:"scale(1) translate(50%, -50%)"}}),Xg=new he.E4("antZoomBadgeOut",{"0%":{transform:"scale(1) translate(50%, -50%)"},"100%":{transform:"scale(0) translate(50%, -50%)",opacity:0}}),Yg=new he.E4("antNoWrapperZoomBadgeIn",{"0%":{transform:"scale(0)",opacity:0},"100%":{transform:"scale(1)"}}),qg=new he.E4("antNoWrapperZoomBadgeOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0)",opacity:0}}),Af=new he.E4("antBadgeLoadingCircle",{"0%":{transformOrigin:"50%"},"100%":{transform:"translate(50%, -50%) rotate(360deg)",transformOrigin:"50%"}}),Ov=e=>{const{componentCls:t,iconCls:s,antCls:o,badgeShadowSize:f,textFontSize:y,textFontSizeSM:C,statusSize:w,dotSize:I,textFontWeight:D,indicatorHeight:L,indicatorHeightSM:z,marginXS:k,calc:j}=e,Z=`${o}-scroll-number`,G=(0,mp.Z)(e,(H,X)=>{let{darkColor:ne}=X;return{[`&${t} ${t}-color-${H}`]:{background:ne,[`&:not(${t}-count)`]:{color:ne},"a:hover &":{background:ne}}}});return{[t]:Object.assign(Object.assign(Object.assign(Object.assign({},(0,Qt.Wf)(e)),{position:"relative",display:"inline-block",width:"fit-content",lineHeight:1,[`${t}-count`]:{display:"inline-flex",justifyContent:"center",zIndex:e.indicatorZIndex,minWidth:L,height:L,color:e.badgeTextColor,fontWeight:D,fontSize:y,lineHeight:(0,he.bf)(L),whiteSpace:"nowrap",textAlign:"center",background:e.badgeColor,borderRadius:j(L).div(2).equal(),boxShadow:`0 0 0 ${(0,he.bf)(f)} ${e.badgeShadowColor}`,transition:`background ${e.motionDurationMid}`,a:{color:e.badgeTextColor},"a:hover":{color:e.badgeTextColor},"a:hover &":{background:e.badgeColorHover}},[`${t}-count-sm`]:{minWidth:z,height:z,fontSize:C,lineHeight:(0,he.bf)(z),borderRadius:j(z).div(2).equal()},[`${t}-multiple-words`]:{padding:`0 ${(0,he.bf)(e.paddingXS)}`,bdi:{unicodeBidi:"plaintext"}},[`${t}-dot`]:{zIndex:e.indicatorZIndex,width:I,minWidth:I,height:I,background:e.badgeColor,borderRadius:"100%",boxShadow:`0 0 0 ${(0,he.bf)(f)} ${e.badgeShadowColor}`},[`${t}-count, ${t}-dot, ${Z}-custom-component`]:{position:"absolute",top:0,insetInlineEnd:0,transform:"translate(50%, -50%)",transformOrigin:"100% 0%",[`&${s}-spin`]:{animationName:Af,animationDuration:"1s",animationIterationCount:"infinite",animationTimingFunction:"linear"}},[`&${t}-status`]:{lineHeight:"inherit",verticalAlign:"baseline",[`${t}-status-dot`]:{position:"relative",top:-1,display:"inline-block",width:w,height:w,verticalAlign:"middle",borderRadius:"50%"},[`${t}-status-success`]:{backgroundColor:e.colorSuccess},[`${t}-status-processing`]:{overflow:"visible",color:e.colorInfo,backgroundColor:e.colorInfo,borderColor:"currentcolor","&::after":{position:"absolute",top:0,insetInlineStart:0,width:"100%",height:"100%",borderWidth:f,borderStyle:"solid",borderColor:"inherit",borderRadius:"50%",animationName:gp,animationDuration:e.badgeProcessingDuration,animationIterationCount:"infinite",animationTimingFunction:"ease-in-out",content:'""'}},[`${t}-status-default`]:{backgroundColor:e.colorTextPlaceholder},[`${t}-status-error`]:{backgroundColor:e.colorError},[`${t}-status-warning`]:{backgroundColor:e.colorWarning},[`${t}-status-text`]:{marginInlineStart:k,color:e.colorText,fontSize:e.fontSize}}}),G),{[`${t}-zoom-appear, ${t}-zoom-enter`]:{animationName:Em,animationDuration:e.motionDurationSlow,animationTimingFunction:e.motionEaseOutBack,animationFillMode:"both"},[`${t}-zoom-leave`]:{animationName:Xg,animationDuration:e.motionDurationSlow,animationTimingFunction:e.motionEaseOutBack,animationFillMode:"both"},[`&${t}-not-a-wrapper`]:{[`${t}-zoom-appear, ${t}-zoom-enter`]:{animationName:Yg,animationDuration:e.motionDurationSlow,animationTimingFunction:e.motionEaseOutBack},[`${t}-zoom-leave`]:{animationName:qg,animationDuration:e.motionDurationSlow,animationTimingFunction:e.motionEaseOutBack},[`&:not(${t}-status)`]:{verticalAlign:"middle"},[`${Z}-custom-component, ${t}-count`]:{transform:"none"},[`${Z}-custom-component, ${Z}`]:{position:"relative",top:"auto",display:"block",transformOrigin:"50% 50%"}},[Z]:{overflow:"hidden",transition:`all ${e.motionDurationMid} ${e.motionEaseOutBack}`,[`${Z}-only`]:{position:"relative",display:"inline-block",height:L,transition:`all ${e.motionDurationSlow} ${e.motionEaseOutBack}`,WebkitTransformStyle:"preserve-3d",WebkitBackfaceVisibility:"hidden",[`> p${Z}-only-unit`]:{height:L,margin:0,WebkitTransformStyle:"preserve-3d",WebkitBackfaceVisibility:"hidden"}},[`${Z}-symbol`]:{verticalAlign:"top"}},"&-rtl":{direction:"rtl",[`${t}-count, ${t}-dot, ${Z}-custom-component`]:{transform:"translate(-50%, -50%)"}}})}},Jg=e=>{const{fontHeight:t,lineWidth:s,marginXS:o,colorBorderBg:f}=e,y=t,C=s,w=e.colorTextLightSolid,I=e.colorError,D=e.colorErrorHover;return(0,ci.IX)(e,{badgeFontHeight:y,badgeShadowSize:C,badgeTextColor:w,badgeColor:I,badgeColorHover:D,badgeShadowColor:f,badgeProcessingDuration:"1.2s",badgeRibbonOffset:o,badgeRibbonCornerTransform:"scaleY(0.75)",badgeRibbonCornerFilter:"brightness(75%)"})},Im=e=>{const{fontSize:t,lineHeight:s,fontSizeSM:o,lineWidth:f}=e;return{indicatorZIndex:"auto",indicatorHeight:Math.round(t*s)-2*f,indicatorHeightSM:t,dotSize:o/2,textFontSize:o,textFontSizeSM:o,textFontWeight:"normal",statusSize:o/2}};var vp=(0,te.I$)("Badge",e=>{const t=Jg(e);return Ov(t)},Im);const xd=e=>{const{antCls:t,badgeFontHeight:s,marginXS:o,badgeRibbonOffset:f,calc:y}=e,C=`${t}-ribbon`,w=`${t}-ribbon-wrapper`,I=(0,mp.Z)(e,(D,L)=>{let{darkColor:z}=L;return{[`&${C}-color-${D}`]:{background:z,color:z}}});return{[w]:{position:"relative"},[C]:Object.assign(Object.assign(Object.assign(Object.assign({},(0,Qt.Wf)(e)),{position:"absolute",top:o,padding:`0 ${(0,he.bf)(e.paddingXS)}`,color:e.colorPrimary,lineHeight:(0,he.bf)(s),whiteSpace:"nowrap",backgroundColor:e.colorPrimary,borderRadius:e.borderRadiusSM,[`${C}-text`]:{color:e.badgeTextColor},[`${C}-corner`]:{position:"absolute",top:"100%",width:f,height:f,color:"currentcolor",border:`${(0,he.bf)(y(f).div(2).equal())} solid`,transform:e.badgeRibbonCornerTransform,transformOrigin:"top",filter:e.badgeRibbonCornerFilter}}),I),{[`&${C}-placement-end`]:{insetInlineEnd:y(f).mul(-1).equal(),borderEndEndRadius:0,[`${C}-corner`]:{insetInlineEnd:0,borderInlineEndColor:"transparent",borderBlockEndColor:"transparent"}},[`&${C}-placement-start`]:{insetInlineStart:y(f).mul(-1).equal(),borderEndStartRadius:0,[`${C}-corner`]:{insetInlineStart:0,borderBlockEndColor:"transparent",borderInlineStartColor:"transparent"}},"&-rtl":{direction:"rtl"}})}};var Tm=(0,te.I$)(["Badge","Ribbon"],e=>{const t=Jg(e);return xd(t)},Im),qd=e=>{const{className:t,prefixCls:s,style:o,color:f,children:y,text:C,placement:w="end",rootClassName:I}=e,{getPrefixCls:D,direction:L}=a.useContext(ye.E_),z=D("ribbon",s),k=`${z}-wrapper`,[j,Z,G]=Tm(z,k),H=(0,er.o2)(f,!1),X=q()(z,`${z}-placement-${w}`,{[`${z}-rtl`]:L==="rtl",[`${z}-color-${f}`]:H},t),ne={},oe={};return f&&!H&&(ne.background=f,oe.color=f),j(a.createElement("div",{className:q()(k,I,Z,G)},y,a.createElement("div",{className:q()(X,Z),style:Object.assign(Object.assign({},ne),o)},a.createElement("span",{className:`${z}-text`},C),a.createElement("div",{className:`${z}-corner`,style:oe}))))};const xh=e=>{const{prefixCls:t,value:s,current:o,offset:f=0}=e;let y;return f&&(y={position:"absolute",top:`${f}00%`,left:0}),a.createElement("span",{style:y,className:q()(`${t}-only-unit`,{current:o})},s)};function Tu(e,t,s){let o=e,f=0;for(;(o+10)%10!==t;)o+=s,f+=s;return f}var e0=e=>{const{prefixCls:t,count:s,value:o}=e,f=Number(o),y=Math.abs(s),[C,w]=a.useState(f),[I,D]=a.useState(y),L=()=>{w(f),D(y)};a.useEffect(()=>{const j=setTimeout(L,1e3);return()=>clearTimeout(j)},[f]);let z,k;if(C===f||Number.isNaN(f)||Number.isNaN(C))z=[a.createElement(xh,Object.assign({},e,{key:f,current:!0}))],k={transition:"none"};else{z=[];const j=f+10,Z=[];for(let ne=f;ne<=j;ne+=1)Z.push(ne);const G=I<y?1:-1,H=Z.findIndex(ne=>ne%10===C);z=(G<0?Z.slice(0,H+1):Z.slice(H)).map((ne,oe)=>{const ae=ne%10;return a.createElement(xh,Object.assign({},e,{key:ne,value:ae,offset:G<0?oe-H:oe,current:oe===H}))}),k={transform:`translateY(${-Tu(C,f,G)}00%)`}}return a.createElement("span",{className:`${t}-only`,style:k,onTransitionEnd:L},z)},ic=function(e,t){var s={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(s[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(s[o[f]]=e[o[f]]);return s},Ch=a.forwardRef((e,t)=>{const{prefixCls:s,count:o,className:f,motionClassName:y,style:C,title:w,show:I,component:D="sup",children:L}=e,z=ic(e,["prefixCls","count","className","motionClassName","style","title","show","component","children"]),{getPrefixCls:k}=a.useContext(ye.E_),j=k("scroll-number",s),Z=Object.assign(Object.assign({},z),{"data-show":I,style:C,className:q()(j,f,y),title:w});let G=o;if(o&&Number(o)%1===0){const H=String(o).split("");G=a.createElement("bdi",null,H.map((X,ne)=>a.createElement(e0,{prefixCls:j,count:Number(o),value:X,key:H.length-ne})))}return C!=null&&C.borderColor&&(Z.style=Object.assign(Object.assign({},C),{boxShadow:`0 0 0 1px ${C.borderColor} inset`})),L?(0,Cn.Tm)(L,H=>({className:q()(`${j}-custom-component`,H==null?void 0:H.className,y)})):a.createElement(D,Object.assign({},Z,{ref:t}),G)}),Ws=function(e,t){var s={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(s[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(s[o[f]]=e[o[f]]);return s};const Mm=a.forwardRef((e,t)=>{var s,o,f,y,C;const{prefixCls:w,scrollNumberPrefixCls:I,children:D,status:L,text:z,color:k,count:j=null,overflowCount:Z=99,dot:G=!1,size:H="default",title:X,offset:ne,style:oe,className:ae,rootClassName:ie,classNames:le,styles:fe,showZero:me=!1}=e,ge=Ws(e,["prefixCls","scrollNumberPrefixCls","children","status","text","color","count","overflowCount","dot","size","title","offset","style","className","rootClassName","classNames","styles","showZero"]),{getPrefixCls:xe,direction:Me,badge:$e}=a.useContext(ye.E_),Oe=xe("badge",w),[He,Ne,Ke]=vp(Oe),je=j>Z?`${Z}+`:j,lt=je==="0"||je===0,ht=j===null||lt&&!me,It=(L!=null||k!=null)&&ht,Tt=G&&!lt,wt=Tt?"":je,_t=(0,a.useMemo)(()=>(wt==null||wt===""||lt&&!me)&&!Tt,[wt,lt,me,Tt]),At=(0,a.useRef)(j);_t||(At.current=j);const Bt=At.current,Dt=(0,a.useRef)(wt);_t||(Dt.current=wt);const Gt=Dt.current,Pt=(0,a.useRef)(Tt);_t||(Pt.current=Tt);const Pn=(0,a.useMemo)(()=>{if(!ne)return Object.assign(Object.assign({},$e==null?void 0:$e.style),oe);const kr={marginTop:ne[1]};return Me==="rtl"?kr.left=parseInt(ne[0],10):kr.right=-parseInt(ne[0],10),Object.assign(Object.assign(Object.assign({},kr),$e==null?void 0:$e.style),oe)},[Me,ne,oe,$e==null?void 0:$e.style]),Kn=X!=null?X:typeof Bt=="string"||typeof Bt=="number"?Bt:void 0,_n=_t||!z?null:a.createElement("span",{className:`${Oe}-status-text`},z),Fn=!Bt||typeof Bt!="object"?void 0:(0,Cn.Tm)(Bt,kr=>({style:Object.assign(Object.assign({},Pn),kr.style)})),on=(0,er.o2)(k,!1),Zt=q()(le==null?void 0:le.indicator,(s=$e==null?void 0:$e.classNames)===null||s===void 0?void 0:s.indicator,{[`${Oe}-status-dot`]:It,[`${Oe}-status-${L}`]:!!L,[`${Oe}-color-${k}`]:on}),Vn={};k&&!on&&(Vn.color=k,Vn.background=k);const Ln=q()(Oe,{[`${Oe}-status`]:It,[`${Oe}-not-a-wrapper`]:!D,[`${Oe}-rtl`]:Me==="rtl"},ae,ie,$e==null?void 0:$e.className,(o=$e==null?void 0:$e.classNames)===null||o===void 0?void 0:o.root,le==null?void 0:le.root,Ne,Ke);if(!D&&It){const kr=Pn.color;return He(a.createElement("span",Object.assign({},ge,{className:Ln,style:Object.assign(Object.assign(Object.assign({},fe==null?void 0:fe.root),(f=$e==null?void 0:$e.styles)===null||f===void 0?void 0:f.root),Pn)}),a.createElement("span",{className:Zt,style:Object.assign(Object.assign(Object.assign({},fe==null?void 0:fe.indicator),(y=$e==null?void 0:$e.styles)===null||y===void 0?void 0:y.indicator),Vn)}),z&&a.createElement("span",{style:{color:kr},className:`${Oe}-status-text`},z)))}return He(a.createElement("span",Object.assign({ref:t},ge,{className:Ln,style:Object.assign(Object.assign({},(C=$e==null?void 0:$e.styles)===null||C===void 0?void 0:C.root),fe==null?void 0:fe.root)}),D,a.createElement(Rn.ZP,{visible:!_t,motionName:`${Oe}-zoom`,motionAppear:!1,motionDeadline:1e3},kr=>{let{className:Sr}=kr;var dr,cr;const Zn=xe("scroll-number",I),ur=Pt.current,ti=q()(le==null?void 0:le.indicator,(dr=$e==null?void 0:$e.classNames)===null||dr===void 0?void 0:dr.indicator,{[`${Oe}-dot`]:ur,[`${Oe}-count`]:!ur,[`${Oe}-count-sm`]:H==="small",[`${Oe}-multiple-words`]:!ur&&Gt&&Gt.toString().length>1,[`${Oe}-status-${L}`]:!!L,[`${Oe}-color-${k}`]:on});let Ei=Object.assign(Object.assign(Object.assign({},fe==null?void 0:fe.indicator),(cr=$e==null?void 0:$e.styles)===null||cr===void 0?void 0:cr.indicator),Pn);return k&&!on&&(Ei=Ei||{},Ei.background=k),a.createElement(Ch,{prefixCls:Zn,show:!_t,motionClassName:Sr,className:ti,count:Gt,title:Kn,style:Ei,key:"scrollNumber"},Fn)}),_n))});Mm.Ribbon=qd;var Mu=Mm,Ku=B(13143),Xu={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M724 218.3V141c0-6.7-7.7-10.4-12.9-6.3L260.3 486.8a31.86 31.86 0 000 50.3l450.8 352.1c5.3 4.1 12.9.4 12.9-6.3v-77.3c0-4.9-2.3-9.6-6.1-12.6l-360-281 360-281.1c3.8-3 6.1-7.7 6.1-12.6z"}}]},name:"left",theme:"outlined"},yp=Xu,Sh=function(t,s){return a.createElement(Xt.Z,(0,Ge.Z)({},t,{ref:s,icon:yp}))},Pu=a.forwardRef(Sh),vl=Pu,Kc=B(27806),Yu=B(83190),Pm=rt.Z.ESC,Om=rt.Z.TAB;function Jd(e){var t=e.visible,s=e.triggerRef,o=e.onVisibleChange,f=e.autoFocus,y=e.overlayRef,C=a.useRef(!1),w=function(){if(t){var z,k;(z=s.current)===null||z===void 0||(k=z.focus)===null||k===void 0||k.call(z),o==null||o(!1)}},I=function(){var z;return(z=y.current)!==null&&z!==void 0&&z.focus?(y.current.focus(),C.current=!0,!0):!1},D=function(z){switch(z.keyCode){case Pm:w();break;case Om:{var k=!1;C.current||(k=I()),k?z.preventDefault():w();break}}};a.useEffect(function(){return t?(window.addEventListener("keydown",D),f&&(0,We.Z)(I,3),function(){window.removeEventListener("keydown",D),C.current=!1}):function(){C.current=!1}},[t])}var Rm=(0,a.forwardRef)(function(e,t){var s=e.overlay,o=e.arrow,f=e.prefixCls,y=(0,a.useMemo)(function(){var w;return typeof s=="function"?w=s():w=s,w},[s]),C=(0,Jt.sQ)(t,(0,Jt.C4)(y));return a.createElement(a.Fragment,null,o&&a.createElement("div",{className:"".concat(f,"-arrow")}),a.cloneElement(y,{ref:(0,Jt.Yr)(y)?C:void 0}))}),Sd=Rm,wd={adjustX:1,adjustY:1},qu=[0,0],$m={topLeft:{points:["bl","tl"],overflow:wd,offset:[0,-4],targetOffset:qu},top:{points:["bc","tc"],overflow:wd,offset:[0,-4],targetOffset:qu},topRight:{points:["br","tr"],overflow:wd,offset:[0,-4],targetOffset:qu},bottomLeft:{points:["tl","bl"],overflow:wd,offset:[0,4],targetOffset:qu},bottom:{points:["tc","bc"],overflow:wd,offset:[0,4],targetOffset:qu},bottomRight:{points:["tr","br"],overflow:wd,offset:[0,4],targetOffset:qu}},Am=$m,lc=["arrow","prefixCls","transitionName","animation","align","placement","placements","getPopupContainer","showAction","hideAction","overlayClassName","overlayStyle","visible","trigger","autoFocus","overlay","children","onVisibleChange"];function Dm(e,t){var s,o=e.arrow,f=o===void 0?!1:o,y=e.prefixCls,C=y===void 0?"rc-dropdown":y,w=e.transitionName,I=e.animation,D=e.align,L=e.placement,z=L===void 0?"bottomLeft":L,k=e.placements,j=k===void 0?Am:k,Z=e.getPopupContainer,G=e.showAction,H=e.hideAction,X=e.overlayClassName,ne=e.overlayStyle,oe=e.visible,ae=e.trigger,ie=ae===void 0?["hover"]:ae,le=e.autoFocus,fe=e.overlay,me=e.children,ge=e.onVisibleChange,xe=(0,de.Z)(e,lc),Me=a.useState(),$e=(0,Re.Z)(Me,2),Oe=$e[0],He=$e[1],Ne="visible"in e?oe:Oe,Ke=a.useRef(null),je=a.useRef(null),lt=a.useRef(null);a.useImperativeHandle(t,function(){return Ke.current});var ht=function(Pt){He(Pt),ge==null||ge(Pt)};Jd({visible:Ne,triggerRef:lt,onVisibleChange:ht,autoFocus:le,overlayRef:je});var It=function(Pt){var Pn=e.onOverlayClick;He(!1),Pn&&Pn(Pt)},Tt=function(){return a.createElement(Sd,{ref:je,overlay:fe,prefixCls:C,arrow:f})},wt=function(){return typeof fe=="function"?Tt:Tt()},_t=function(){var Pt=e.minOverlayWidthMatchTrigger,Pn=e.alignPoint;return"minOverlayWidthMatchTrigger"in e?Pt:!Pn},At=function(){var Pt=e.openClassName;return Pt!==void 0?Pt:"".concat(C,"-open")},Bt=a.cloneElement(me,{className:q()((s=me.props)===null||s===void 0?void 0:s.className,Ne&&At()),ref:(0,Jt.Yr)(me)?(0,Jt.sQ)(lt,(0,Jt.C4)(me)):void 0}),Dt=H;return!Dt&&ie.indexOf("contextMenu")!==-1&&(Dt=["click"]),a.createElement(Yu.Z,(0,Ge.Z)({builtinPlacements:j},xe,{prefixCls:C,ref:Ke,popupClassName:q()(X,(0,pe.Z)({},"".concat(C,"-show-arrow"),f)),popupStyle:ne,action:ie,showAction:G,hideAction:Dt,popupPlacement:z,popupAlign:D,popupTransitionName:w,popupAnimation:I,popupVisible:Ne,stretch:_t()?"minWidth":"",popup:wt(),onPopupVisibleChange:ht,onPopupClick:It,getPopupContainer:Z}),Bt)}var Lm=a.forwardRef(Dm),Df=Lm,Cs=B(93954),Ou=e=>typeof e!="object"&&typeof e!="function"||e===null,wh=B(5416),pu=B(50009),mu=B(47996),_p=a.createContext(null);function Lf(e,t){return e===void 0?null:"".concat(e,"-").concat(t)}function zf(e){var t=a.useContext(_p);return Lf(t,e)}var Qd=B(54596),bp=["children","locked"],eu=a.createContext(null);function Nm(e,t){var s=(0,Y.Z)({},e);return Object.keys(t).forEach(function(o){var f=t[o];f!==void 0&&(s[o]=f)}),s}function Ju(e){var t=e.children,s=e.locked,o=(0,de.Z)(e,bp),f=a.useContext(eu),y=(0,Qd.Z)(function(){return Nm(f,o)},[f,o],function(C,w){return!s&&(C[0]!==w[0]||!(0,mu.Z)(C[1],w[1],!0))});return a.createElement(eu.Provider,{value:y},t)}var t0=[],Bm=a.createContext(null);function Eh(){return a.useContext(Bm)}var Fm=a.createContext(t0);function ef(e){var t=a.useContext(Fm);return a.useMemo(function(){return e!==void 0?[].concat((0,be.Z)(t),[e]):t},[t,e])}var Nf=a.createContext(null),Ih=a.createContext({}),Ic=Ih,Th=B(59422),xp=rt.Z.LEFT,km=rt.Z.RIGHT,Zm=rt.Z.UP,sl=rt.Z.DOWN,tf=rt.Z.ENTER,n0=rt.Z.ESC,nf=rt.Z.HOME,Qu=rt.Z.END,jm=[Zm,sl,xp,km];function Mh(e,t,s,o){var f,y="prev",C="next",w="children",I="parent";if(e==="inline"&&o===tf)return{inlineTrigger:!0};var D=(0,pe.Z)((0,pe.Z)({},Zm,y),sl,C),L=(0,pe.Z)((0,pe.Z)((0,pe.Z)((0,pe.Z)({},xp,s?C:y),km,s?y:C),sl,w),tf,w),z=(0,pe.Z)((0,pe.Z)((0,pe.Z)((0,pe.Z)((0,pe.Z)((0,pe.Z)({},Zm,y),sl,C),tf,w),n0,I),xp,s?w:I),km,s?I:w),k={inline:D,horizontal:L,vertical:z,inlineSub:D,horizontalSub:z,verticalSub:z},j=(f=k["".concat(e).concat(t?"":"Sub")])===null||f===void 0?void 0:f[o];switch(j){case y:return{offset:-1,sibling:!0};case C:return{offset:1,sibling:!0};case I:return{offset:-1,sibling:!1};case w:return{offset:1,sibling:!1};default:return null}}function Cp(e){for(var t=e;t;){if(t.getAttribute("data-menu-list"))return t;t=t.parentElement}return null}function Ru(e,t){for(var s=e||document.activeElement;s;){if(t.has(s))return s;s=s.parentElement}return null}function rf(e,t){var s=(0,Th.tS)(e,!0);return s.filter(function(o){return t.has(o)})}function yl(e,t,s){var o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1;if(!e)return null;var f=rf(e,t),y=f.length,C=f.findIndex(function(w){return s===w});return o<0?C===-1?C=y-1:C-=1:o>0&&(C+=1),C=(C+y)%y,f[C]}var Zc=function(t,s){var o=new Set,f=new Map,y=new Map;return t.forEach(function(C){var w=document.querySelector("[data-menu-id='".concat(Lf(s,C),"']"));w&&(o.add(w),y.set(w,C),f.set(C,w))}),{elements:o,key2element:f,element2key:y}};function Bf(e,t,s,o,f,y,C,w,I,D){var L=a.useRef(),z=a.useRef();z.current=t;var k=function(){We.Z.cancel(L.current)};return a.useEffect(function(){return function(){k()}},[]),function(j){var Z=j.which;if([].concat(jm,[tf,n0,nf,Qu]).includes(Z)){var G=y(),H=Zc(G,o),X=H,ne=X.elements,oe=X.key2element,ae=X.element2key,ie=oe.get(t),le=Ru(ie,ne),fe=ae.get(le),me=Mh(e,C(fe,!0).length===1,s,Z);if(!me&&Z!==nf&&Z!==Qu)return;(jm.includes(Z)||[nf,Qu].includes(Z))&&j.preventDefault();var ge=function(je){if(je){var lt=je,ht=je.querySelector("a");ht!=null&&ht.getAttribute("href")&&(lt=ht);var It=ae.get(je);w(It),k(),L.current=(0,We.Z)(function(){z.current===It&&lt.focus()})}};if([nf,Qu].includes(Z)||me.sibling||!le){var xe;!le||e==="inline"?xe=f.current:xe=Cp(le);var Me,$e=rf(xe,ne);Z===nf?Me=$e[0]:Z===Qu?Me=$e[$e.length-1]:Me=yl(xe,ne,le,me.offset),ge(Me)}else if(me.inlineTrigger)I(fe);else if(me.offset>0)I(fe,!0),k(),L.current=(0,We.Z)(function(){H=Zc(G,o);var Ke=le.getAttribute("aria-controls"),je=document.getElementById(Ke),lt=yl(je,H.elements);ge(lt)},5);else if(me.offset<0){var Oe=C(fe,!0),He=Oe[Oe.length-2],Ne=oe.get(He);I(He,!1),ge(Ne)}}D==null||D(j)}}function Ph(e){Promise.resolve().then(e)}var Sp="__RC_UTIL_PATH_SPLIT__",Vm=function(t){return t.join(Sp)},Oh=function(t){return t.split(Sp)},Rh="rc-menu-more";function Rv(){var e=a.useState({}),t=(0,Re.Z)(e,2),s=t[1],o=(0,a.useRef)(new Map),f=(0,a.useRef)(new Map),y=a.useState([]),C=(0,Re.Z)(y,2),w=C[0],I=C[1],D=(0,a.useRef)(0),L=(0,a.useRef)(!1),z=function(){L.current||s({})},k=(0,a.useCallback)(function(oe,ae){var ie=Vm(ae);f.current.set(ie,oe),o.current.set(oe,ie),D.current+=1;var le=D.current;Ph(function(){le===D.current&&z()})},[]),j=(0,a.useCallback)(function(oe,ae){var ie=Vm(ae);f.current.delete(ie),o.current.delete(oe)},[]),Z=(0,a.useCallback)(function(oe){I(oe)},[]),G=(0,a.useCallback)(function(oe,ae){var ie=o.current.get(oe)||"",le=Oh(ie);return ae&&w.includes(le[0])&&le.unshift(Rh),le},[w]),H=(0,a.useCallback)(function(oe,ae){return oe.filter(function(ie){return ie!==void 0}).some(function(ie){var le=G(ie,!0);return le.includes(ae)})},[G]),X=function(){var ae=(0,be.Z)(o.current.keys());return w.length&&ae.push(Rh),ae},ne=(0,a.useCallback)(function(oe){var ae="".concat(o.current.get(oe)).concat(Sp),ie=new Set;return(0,be.Z)(f.current.keys()).forEach(function(le){le.startsWith(ae)&&ie.add(f.current.get(le))}),ie},[]);return a.useEffect(function(){return function(){L.current=!0}},[]),{registerPath:k,unregisterPath:j,refreshOverflowKeys:Z,isSubPathKey:H,getKeyPath:G,getKeys:X,getSubPathKeys:ne}}function of(e){var t=a.useRef(e);t.current=e;var s=a.useCallback(function(){for(var o,f=arguments.length,y=new Array(f),C=0;C<f;C++)y[C]=arguments[C];return(o=t.current)===null||o===void 0?void 0:o.call.apply(o,[t].concat(y))},[]);return e?s:void 0}var Hm=Math.random().toFixed(5).toString().slice(2),Ed=0;function af(e){var t=(0,Cs.Z)(e,{value:e}),s=(0,Re.Z)(t,2),o=s[0],f=s[1];return a.useEffect(function(){Ed+=1;var y="".concat(Hm,"-").concat(Ed);f("rc-menu-uuid-".concat(y))},[]),o}var tu=B(56216);function nu(e,t,s,o){var f=a.useContext(eu),y=f.activeKey,C=f.onActive,w=f.onInactive,I={active:y===e};return t||(I.onMouseEnter=function(D){s==null||s({key:e,domEvent:D}),C(e)},I.onMouseLeave=function(D){o==null||o({key:e,domEvent:D}),w(e)}),I}function ed(e){var t=a.useContext(eu),s=t.mode,o=t.rtl,f=t.inlineIndent;if(s!=="inline")return null;var y=e;return o?{paddingRight:y*f}:{paddingLeft:y*f}}function Id(e){var t=e.icon,s=e.props,o=e.children,f;return t===null||t===!1?null:(typeof t=="function"?f=a.createElement(t,(0,Y.Z)({},s)):typeof t!="boolean"&&(f=t),f||o||null)}var Td=["item"];function wp(e){var t=e.item,s=(0,de.Z)(e,Td);return Object.defineProperty(s,"item",{get:function(){return(0,li.ZP)(!1,"`info.item` is deprecated since we will move to function component that not provides React Node instance in future."),t}}),s}var $v=["title","attribute","elementRef"],Av=["style","className","eventKey","warnKey","disabled","itemIcon","children","role","onMouseEnter","onMouseLeave","onClick","onKeyDown","onFocus"],Ep=["active"],r0=function(e){(0,pi.Z)(s,e);var t=(0,tu.Z)(s);function s(){return(0,Dn.Z)(this,s),t.apply(this,arguments)}return(0,pn.Z)(s,[{key:"render",value:function(){var f=this.props,y=f.title,C=f.attribute,w=f.elementRef,I=(0,de.Z)(f,$v),D=(0,$a.Z)(I,["eventKey","popupClassName","popupOffset","onTitleClick"]);return(0,li.ZP)(!C,"`attribute` of Menu.Item is deprecated. Please pass attribute directly."),a.createElement(pu.Z.Item,(0,Ge.Z)({},C,{title:typeof y=="string"?y:void 0},D,{ref:w}))}}]),s}(a.Component),Tc=a.forwardRef(function(e,t){var s=e.style,o=e.className,f=e.eventKey,y=e.warnKey,C=e.disabled,w=e.itemIcon,I=e.children,D=e.role,L=e.onMouseEnter,z=e.onMouseLeave,k=e.onClick,j=e.onKeyDown,Z=e.onFocus,G=(0,de.Z)(e,Av),H=zf(f),X=a.useContext(eu),ne=X.prefixCls,oe=X.onItemClick,ae=X.disabled,ie=X.overflowDisabled,le=X.itemIcon,fe=X.selectedKeys,me=X.onActive,ge=a.useContext(Ic),xe=ge._internalRenderMenuItem,Me="".concat(ne,"-item"),$e=a.useRef(),Oe=a.useRef(),He=ae||C,Ne=(0,Jt.x1)(t,Oe),Ke=ef(f),je=function(Kn){return{key:f,keyPath:(0,be.Z)(Ke).reverse(),item:$e.current,domEvent:Kn}},lt=w||le,ht=nu(f,He,L,z),It=ht.active,Tt=(0,de.Z)(ht,Ep),wt=fe.includes(f),_t=ed(Ke.length),At=function(Kn){if(!He){var _n=je(Kn);k==null||k(wp(_n)),oe(_n)}},Bt=function(Kn){if(j==null||j(Kn),Kn.which===rt.Z.ENTER){var _n=je(Kn);k==null||k(wp(_n)),oe(_n)}},Dt=function(Kn){me(f),Z==null||Z(Kn)},Gt={};e.role==="option"&&(Gt["aria-selected"]=wt);var Pt=a.createElement(r0,(0,Ge.Z)({ref:$e,elementRef:Ne,role:D===null?"none":D||"menuitem",tabIndex:C?null:-1,"data-menu-id":ie&&H?null:H},(0,$a.Z)(G,["extra"]),Tt,Gt,{component:"li","aria-disabled":C,style:(0,Y.Z)((0,Y.Z)({},_t),s),className:q()(Me,(0,pe.Z)((0,pe.Z)((0,pe.Z)({},"".concat(Me,"-active"),It),"".concat(Me,"-selected"),wt),"".concat(Me,"-disabled"),He),o),onClick:At,onKeyDown:Bt,onFocus:Dt}),I,a.createElement(Id,{props:(0,Y.Z)((0,Y.Z)({},e),{},{isSelected:wt}),icon:lt}));return xe&&(Pt=xe(Pt,e,{selected:wt})),Pt});function Ff(e,t){var s=e.eventKey,o=Eh(),f=ef(s);return a.useEffect(function(){if(o)return o.registerPath(s,f),function(){o.unregisterPath(s,f)}},[f]),o?null:a.createElement(Tc,(0,Ge.Z)({},e,{ref:t}))}var Md=a.forwardRef(Ff),i0=["className","children"],kf=function(t,s){var o=t.className,f=t.children,y=(0,de.Z)(t,i0),C=a.useContext(eu),w=C.prefixCls,I=C.mode,D=C.rtl;return a.createElement("ul",(0,Ge.Z)({className:q()(w,D&&"".concat(w,"-rtl"),"".concat(w,"-sub"),"".concat(w,"-").concat(I==="inline"?"inline":"vertical"),o),role:"menu"},y,{"data-menu-list":!0,ref:s}),f)},$h=a.forwardRef(kf);$h.displayName="SubMenuList";var jc=$h;function Ac(e,t){return(0,Gl.Z)(e).map(function(s,o){if(a.isValidElement(s)){var f,y,C=s.key,w=(f=(y=s.props)===null||y===void 0?void 0:y.eventKey)!==null&&f!==void 0?f:C,I=w==null;I&&(w="tmp_key-".concat([].concat((0,be.Z)(t),[o]).join("-")));var D={key:w,eventKey:w};return a.cloneElement(s,D)}return s})}var Kl={adjustX:1,adjustY:1},sf={topLeft:{points:["bl","tl"],overflow:Kl},topRight:{points:["br","tr"],overflow:Kl},bottomLeft:{points:["tl","bl"],overflow:Kl},bottomRight:{points:["tr","br"],overflow:Kl},leftTop:{points:["tr","tl"],overflow:Kl},leftBottom:{points:["br","bl"],overflow:Kl},rightTop:{points:["tl","tr"],overflow:Kl},rightBottom:{points:["bl","br"],overflow:Kl}},lf={topLeft:{points:["bl","tl"],overflow:Kl},topRight:{points:["br","tr"],overflow:Kl},bottomLeft:{points:["tl","bl"],overflow:Kl},bottomRight:{points:["tr","br"],overflow:Kl},rightTop:{points:["tr","tl"],overflow:Kl},rightBottom:{points:["br","bl"],overflow:Kl},leftTop:{points:["tl","tr"],overflow:Kl},leftBottom:{points:["bl","br"],overflow:Kl}},o0=null;function hs(e,t,s){if(t)return t;if(s)return s[e]||s.other}var Pd={horizontal:"bottomLeft",vertical:"rightTop","vertical-left":"rightTop","vertical-right":"leftTop"};function Dv(e){var t=e.prefixCls,s=e.visible,o=e.children,f=e.popup,y=e.popupStyle,C=e.popupClassName,w=e.popupOffset,I=e.disabled,D=e.mode,L=e.onVisibleChange,z=a.useContext(eu),k=z.getPopupContainer,j=z.rtl,Z=z.subMenuOpenDelay,G=z.subMenuCloseDelay,H=z.builtinPlacements,X=z.triggerSubMenuAction,ne=z.forceSubMenuRender,oe=z.rootClassName,ae=z.motion,ie=z.defaultMotions,le=a.useState(!1),fe=(0,Re.Z)(le,2),me=fe[0],ge=fe[1],xe=j?(0,Y.Z)((0,Y.Z)({},lf),H):(0,Y.Z)((0,Y.Z)({},sf),H),Me=Pd[D],$e=hs(D,ae,ie),Oe=a.useRef($e);D!=="inline"&&(Oe.current=$e);var He=(0,Y.Z)((0,Y.Z)({},Oe.current),{},{leavedClassName:"".concat(t,"-hidden"),removeOnLeave:!1,motionAppear:!0}),Ne=a.useRef();return a.useEffect(function(){return Ne.current=(0,We.Z)(function(){ge(s)}),function(){We.Z.cancel(Ne.current)}},[s]),a.createElement(Yu.Z,{prefixCls:t,popupClassName:q()("".concat(t,"-popup"),(0,pe.Z)({},"".concat(t,"-rtl"),j),C,oe),stretch:D==="horizontal"?"minWidth":null,getPopupContainer:k,builtinPlacements:xe,popupPlacement:Me,popupVisible:me,popup:f,popupStyle:y,popupAlign:w&&{offset:w},action:I?[]:[X],mouseEnterDelay:Z,mouseLeaveDelay:G,onPopupVisibleChange:L,forceRender:ne,popupMotion:He,fresh:!0},o)}function Lv(e){var t=e.id,s=e.open,o=e.keyPath,f=e.children,y="inline",C=a.useContext(eu),w=C.prefixCls,I=C.forceSubMenuRender,D=C.motion,L=C.defaultMotions,z=C.mode,k=a.useRef(!1);k.current=z===y;var j=a.useState(!k.current),Z=(0,Re.Z)(j,2),G=Z[0],H=Z[1],X=k.current?s:!1;a.useEffect(function(){k.current&&H(!1)},[z]);var ne=(0,Y.Z)({},hs(y,D,L));o.length>1&&(ne.motionAppear=!1);var oe=ne.onVisibleChanged;return ne.onVisibleChanged=function(ae){return!k.current&&!ae&&H(!0),oe==null?void 0:oe(ae)},G?null:a.createElement(Ju,{mode:y,locked:!k.current},a.createElement(Rn.ZP,(0,Ge.Z)({visible:X},ne,{forceRender:I,removeOnLeave:!1,leavedClassName:"".concat(w,"-hidden")}),function(ae){var ie=ae.className,le=ae.style;return a.createElement(jc,{id:t,className:ie,style:le},f)}))}var Ip=["style","className","title","eventKey","warnKey","disabled","internalPopupClose","children","itemIcon","expandIcon","popupClassName","popupOffset","popupStyle","onClick","onMouseEnter","onMouseLeave","onTitleClick","onTitleMouseEnter","onTitleMouseLeave"],$u=["active"],gu=a.forwardRef(function(e,t){var s=e.style,o=e.className,f=e.title,y=e.eventKey,C=e.warnKey,w=e.disabled,I=e.internalPopupClose,D=e.children,L=e.itemIcon,z=e.expandIcon,k=e.popupClassName,j=e.popupOffset,Z=e.popupStyle,G=e.onClick,H=e.onMouseEnter,X=e.onMouseLeave,ne=e.onTitleClick,oe=e.onTitleMouseEnter,ae=e.onTitleMouseLeave,ie=(0,de.Z)(e,Ip),le=zf(y),fe=a.useContext(eu),me=fe.prefixCls,ge=fe.mode,xe=fe.openKeys,Me=fe.disabled,$e=fe.overflowDisabled,Oe=fe.activeKey,He=fe.selectedKeys,Ne=fe.itemIcon,Ke=fe.expandIcon,je=fe.onItemClick,lt=fe.onOpenChange,ht=fe.onActive,It=a.useContext(Ic),Tt=It._internalRenderSubMenuItem,wt=a.useContext(Nf),_t=wt.isSubPathKey,At=ef(),Bt="".concat(me,"-submenu"),Dt=Me||w,Gt=a.useRef(),Pt=a.useRef(),Pn=L!=null?L:Ne,Kn=z!=null?z:Ke,_n=xe.includes(y),Fn=!$e&&_n,on=_t(He,y),Zt=nu(y,Dt,oe,ae),Vn=Zt.active,Ln=(0,de.Z)(Zt,$u),kr=a.useState(!1),Sr=(0,Re.Z)(kr,2),dr=Sr[0],cr=Sr[1],Zn=function(tr){Dt||cr(tr)},ur=function(tr){Zn(!0),H==null||H({key:y,domEvent:tr})},ti=function(tr){Zn(!1),X==null||X({key:y,domEvent:tr})},Ei=a.useMemo(function(){return Vn||(ge!=="inline"?dr||_t([Oe],y):!1)},[ge,Vn,Oe,dr,y,_t]),ki=ed(At.length),qi=function(tr){Dt||(ne==null||ne({key:y,domEvent:tr}),ge==="inline"&&lt(y,!_n))},Ho=of(function(Zr){G==null||G(wp(Zr)),je(Zr)}),Li=function(tr){ge!=="inline"&&lt(y,tr)},bi=function(){ht(y)},$i=le&&"".concat(le,"-popup"),go=a.useMemo(function(){return a.createElement(Id,{icon:ge!=="horizontal"?Kn:void 0,props:(0,Y.Z)((0,Y.Z)({},e),{},{isOpen:Fn,isSubMenu:!0})},a.createElement("i",{className:"".concat(Bt,"-arrow")}))},[ge,Kn,e,Fn,Bt]),Gi=a.createElement("div",(0,Ge.Z)({role:"menuitem",style:ki,className:"".concat(Bt,"-title"),tabIndex:Dt?null:-1,ref:Gt,title:typeof f=="string"?f:null,"data-menu-id":$e&&le?null:le,"aria-expanded":Fn,"aria-haspopup":!0,"aria-controls":$i,"aria-disabled":Dt,onClick:qi,onFocus:bi},Ln),f,go),ko=a.useRef(ge);if(ge!=="inline"&&At.length>1?ko.current="vertical":ko.current=ge,!$e){var Er=ko.current;Gi=a.createElement(Dv,{mode:Er,prefixCls:Bt,visible:!I&&Fn&&ge!=="inline",popupClassName:k,popupOffset:j,popupStyle:Z,popup:a.createElement(Ju,{mode:Er==="horizontal"?"vertical":Er},a.createElement(jc,{id:$i,ref:Pt},D)),disabled:Dt,onVisibleChange:Li},Gi)}var Mr=a.createElement(pu.Z.Item,(0,Ge.Z)({ref:t,role:"none"},ie,{component:"li",style:s,className:q()(Bt,"".concat(Bt,"-").concat(ge),o,(0,pe.Z)((0,pe.Z)((0,pe.Z)((0,pe.Z)({},"".concat(Bt,"-open"),Fn),"".concat(Bt,"-active"),Ei),"".concat(Bt,"-selected"),on),"".concat(Bt,"-disabled"),Dt)),onMouseEnter:ur,onMouseLeave:ti}),Gi,!$e&&a.createElement(Lv,{id:$i,open:Fn,keyPath:At},D));return Tt&&(Mr=Tt(Mr,e,{selected:on,active:Ei,open:Fn,disabled:Dt})),a.createElement(Ju,{onItemClick:Ho,mode:ge==="horizontal"?"vertical":ge,itemIcon:Pn,expandIcon:Kn},Mr)}),Mc=a.forwardRef(function(e,t){var s=e.eventKey,o=e.children,f=ef(s),y=Ac(o,f),C=Eh();a.useEffect(function(){if(C)return C.registerPath(s,f),function(){C.unregisterPath(s,f)}},[f]);var w;return C?w=y:w=a.createElement(gu,(0,Ge.Z)({ref:t},e),y),a.createElement(Fm.Provider,{value:f},w)}),Cc=Mc;function Xl(e){var t=e.className,s=e.style,o=a.useContext(eu),f=o.prefixCls,y=Eh();return y?null:a.createElement("li",{role:"separator",className:q()("".concat(f,"-item-divider"),t),style:s})}var a0=["className","title","eventKey","children"],_l=a.forwardRef(function(e,t){var s=e.className,o=e.title,f=e.eventKey,y=e.children,C=(0,de.Z)(e,a0),w=a.useContext(eu),I=w.prefixCls,D="".concat(I,"-item-group");return a.createElement("li",(0,Ge.Z)({ref:t,role:"presentation"},C,{onClick:function(z){return z.stopPropagation()},className:q()(D,s)}),a.createElement("div",{role:"presentation",className:"".concat(D,"-title"),title:typeof o=="string"?o:void 0},o),a.createElement("ul",{role:"group",className:"".concat(D,"-list")},y))}),Um=a.forwardRef(function(e,t){var s=e.eventKey,o=e.children,f=ef(s),y=Ac(o,f),C=Eh();return C?y:a.createElement(_l,(0,Ge.Z)({ref:t},(0,$a.Z)(e,["warnKey"])),y)}),Od=Um,p=["label","children","key","type","extra"];function r(e,t,s){var o=t.item,f=t.group,y=t.submenu,C=t.divider;return(e||[]).map(function(w,I){if(w&&(0,nt.Z)(w)==="object"){var D=w,L=D.label,z=D.children,k=D.key,j=D.type,Z=D.extra,G=(0,de.Z)(D,p),H=k!=null?k:"tmp-".concat(I);return z||j==="group"?j==="group"?a.createElement(f,(0,Ge.Z)({key:H},G,{title:L}),r(z,t,s)):a.createElement(y,(0,Ge.Z)({key:H},G,{title:L}),r(z,t,s)):j==="divider"?a.createElement(C,(0,Ge.Z)({key:H},G)):a.createElement(o,(0,Ge.Z)({key:H},G,{extra:Z}),L,(!!Z||Z===0)&&a.createElement("span",{className:"".concat(s,"-item-extra")},Z))}return null}).filter(function(w){return w})}function l(e,t,s,o,f){var y=e,C=(0,Y.Z)({divider:Xl,item:Md,group:Od,submenu:Cc},o);return t&&(y=r(t,C,f)),Ac(y,s)}var m=["prefixCls","rootClassName","style","className","tabIndex","items","children","direction","id","mode","inlineCollapsed","disabled","disabledOverflow","subMenuOpenDelay","subMenuCloseDelay","forceSubMenuRender","defaultOpenKeys","openKeys","activeKey","defaultActiveFirst","selectable","multiple","defaultSelectedKeys","selectedKeys","onSelect","onDeselect","inlineIndent","motion","defaultMotions","triggerSubMenuAction","builtinPlacements","itemIcon","expandIcon","overflowedIndicator","overflowedIndicatorPopupClassName","getPopupContainer","onClick","onOpenChange","onKeyDown","openAnimation","openTransitionName","_internalRenderMenuItem","_internalRenderSubMenuItem","_internalComponents"],_=[],x=a.forwardRef(function(e,t){var s,o=e,f=o.prefixCls,y=f===void 0?"rc-menu":f,C=o.rootClassName,w=o.style,I=o.className,D=o.tabIndex,L=D===void 0?0:D,z=o.items,k=o.children,j=o.direction,Z=o.id,G=o.mode,H=G===void 0?"vertical":G,X=o.inlineCollapsed,ne=o.disabled,oe=o.disabledOverflow,ae=o.subMenuOpenDelay,ie=ae===void 0?.1:ae,le=o.subMenuCloseDelay,fe=le===void 0?.1:le,me=o.forceSubMenuRender,ge=o.defaultOpenKeys,xe=o.openKeys,Me=o.activeKey,$e=o.defaultActiveFirst,Oe=o.selectable,He=Oe===void 0?!0:Oe,Ne=o.multiple,Ke=Ne===void 0?!1:Ne,je=o.defaultSelectedKeys,lt=o.selectedKeys,ht=o.onSelect,It=o.onDeselect,Tt=o.inlineIndent,wt=Tt===void 0?24:Tt,_t=o.motion,At=o.defaultMotions,Bt=o.triggerSubMenuAction,Dt=Bt===void 0?"hover":Bt,Gt=o.builtinPlacements,Pt=o.itemIcon,Pn=o.expandIcon,Kn=o.overflowedIndicator,_n=Kn===void 0?"...":Kn,Fn=o.overflowedIndicatorPopupClassName,on=o.getPopupContainer,Zt=o.onClick,Vn=o.onOpenChange,Ln=o.onKeyDown,kr=o.openAnimation,Sr=o.openTransitionName,dr=o._internalRenderMenuItem,cr=o._internalRenderSubMenuItem,Zn=o._internalComponents,ur=(0,de.Z)(o,m),ti=a.useMemo(function(){return[l(k,z,_,Zn,y),l(k,z,_,{},y)]},[k,z,Zn]),Ei=(0,Re.Z)(ti,2),ki=Ei[0],qi=Ei[1],Ho=a.useState(!1),Li=(0,Re.Z)(Ho,2),bi=Li[0],$i=Li[1],go=a.useRef(),Gi=af(Z),ko=j==="rtl",Er=(0,Cs.Z)(ge,{value:xe,postState:function(el){return el||_}}),Mr=(0,Re.Z)(Er,2),Zr=Mr[0],tr=Mr[1],yi=function(el){var Ta=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;function Ha(){tr(el),Vn==null||Vn(el)}Ta?(0,Ze.flushSync)(Ha):Ha()},Ui=a.useState(Zr),xo=(0,Re.Z)(Ui,2),ra=xo[0],Aa=xo[1],oa=a.useRef(!1),Ss=a.useMemo(function(){return(H==="inline"||H==="vertical")&&X?["vertical",X]:[H,!1]},[H,X]),Va=(0,Re.Z)(Ss,2),Ga=Va[0],_a=Va[1],ns=Ga==="inline",zs=a.useState(Ga),Do=(0,Re.Z)(zs,2),na=Do[0],Ra=Do[1],Ka=a.useState(_a),ls=(0,Re.Z)(Ka,2),ll=ls[0],Pl=ls[1];a.useEffect(function(){Ra(Ga),Pl(_a),oa.current&&(ns?tr(ra):yi(_))},[Ga,_a]);var bl=a.useState(0),Zl=(0,Re.Z)(bl,2),pa=Zl[0],Jo=Zl[1],Qo=pa>=ki.length-1||na!=="horizontal"||oe;a.useEffect(function(){ns&&Aa(Zr)},[Zr]),a.useEffect(function(){return oa.current=!0,function(){oa.current=!1}},[]);var Wo=Rv(),cs=Wo.registerPath,Ns=Wo.unregisterPath,Za=Wo.refreshOverflowKeys,Ea=Wo.isSubPathKey,vs=Wo.getKeyPath,ys=Wo.getKeys,qs=Wo.getSubPathKeys,Ca=a.useMemo(function(){return{registerPath:cs,unregisterPath:Ns}},[cs,Ns]),Go=a.useMemo(function(){return{isSubPathKey:Ea}},[Ea]);a.useEffect(function(){Za(Qo?_:ki.slice(pa+1).map(function(Il){return Il.key}))},[pa,Qo]);var Da=(0,Cs.Z)(Me||$e&&((s=ki[0])===null||s===void 0?void 0:s.key),{value:Me}),ds=(0,Re.Z)(Da,2),ks=ds[0],Js=ds[1],Jl=of(function(Il){Js(Il)}),Qs=of(function(){Js(void 0)});(0,a.useImperativeHandle)(t,function(){return{list:go.current,focus:function(el){var Ta,Ha=ys(),fl=Zc(Ha,Gi),Lc=fl.elements,bf=fl.key2element,jg=fl.element2key,Vg=rf(go.current,Lc),Tv=ks!=null?ks:Vg[0]?jg.get(Vg[0]):(Ta=ki.find(function(Ba){return!Ba.props.disabled}))===null||Ta===void 0?void 0:Ta.key,Es=bf.get(Tv);if(Tv&&Es){var ha;Es==null||(ha=Es.focus)===null||ha===void 0||ha.call(Es,el)}}}});var La=(0,Cs.Z)(je||[],{value:lt,postState:function(el){return Array.isArray(el)?el:el==null?_:[el]}}),us=(0,Re.Z)(La,2),ws=us[0],Ol=us[1],Zu=function(el){if(He){var Ta=el.key,Ha=ws.includes(Ta),fl;Ke?Ha?fl=ws.filter(function(bf){return bf!==Ta}):fl=[].concat((0,be.Z)(ws),[Ta]):fl=[Ta],Ol(fl);var Lc=(0,Y.Z)((0,Y.Z)({},el),{},{selectedKeys:fl});Ha?It==null||It(Lc):ht==null||ht(Lc)}!Ke&&Zr.length&&na!=="inline"&&yi(_)},Yh=of(function(Il){Zt==null||Zt(wp(Il)),Zu(Il)}),mm=of(function(Il,el){var Ta=Zr.filter(function(fl){return fl!==Il});if(el)Ta.push(Il);else if(na!=="inline"){var Ha=qs(Il);Ta=Ta.filter(function(fl){return!Ha.has(fl)})}(0,mu.Z)(Zr,Ta,!0)||yi(Ta,!0)}),gm=function(el,Ta){var Ha=Ta!=null?Ta:!Zr.includes(el);mm(el,Ha)},ah=Bf(na,ks,ko,Gi,go,ys,vs,Js,gm,Ln);a.useEffect(function(){$i(!0)},[]);var qh=a.useMemo(function(){return{_internalRenderMenuItem:dr,_internalRenderSubMenuItem:cr}},[dr,cr]),Jh=na!=="horizontal"||oe?ki:ki.map(function(Il,el){return a.createElement(Ju,{key:Il.key,overflowDisabled:el>pa},Il)}),vm=a.createElement(pu.Z,(0,Ge.Z)({id:Z,ref:go,prefixCls:"".concat(y,"-overflow"),component:"ul",itemComponent:Md,className:q()(y,"".concat(y,"-root"),"".concat(y,"-").concat(na),I,(0,pe.Z)((0,pe.Z)({},"".concat(y,"-inline-collapsed"),ll),"".concat(y,"-rtl"),ko),C),dir:j,style:w,role:"menu",tabIndex:L,data:Jh,renderRawItem:function(el){return el},renderRawRest:function(el){var Ta=el.length,Ha=Ta?ki.slice(-Ta):null;return a.createElement(Cc,{eventKey:Rh,title:_n,disabled:Qo,internalPopupClose:Ta===0,popupClassName:Fn},Ha)},maxCount:na!=="horizontal"||oe?pu.Z.INVALIDATE:pu.Z.RESPONSIVE,ssr:"full","data-menu-list":!0,onVisibleChange:function(el){Jo(el)},onKeyDown:ah},ur));return a.createElement(Ic.Provider,{value:qh},a.createElement(_p.Provider,{value:Gi},a.createElement(Ju,{prefixCls:y,rootClassName:C,mode:na,openKeys:Zr,rtl:ko,disabled:ne,motion:bi?_t:null,defaultMotions:bi?At:null,activeKey:ks,onActive:Jl,onInactive:Qs,selectedKeys:ws,inlineIndent:wt,subMenuOpenDelay:ie,subMenuCloseDelay:fe,forceSubMenuRender:me,builtinPlacements:Gt,triggerSubMenuAction:Dt,getPopupContainer:on,itemIcon:Pt,expandIcon:Pn,onItemClick:Yh,onOpenChange:mm},a.createElement(Nf.Provider,{value:Go},vm),a.createElement("div",{style:{display:"none"},"aria-hidden":!0},a.createElement(Bm.Provider,{value:Ca},qi)))))}),E=x,R=E;R.Item=Md,R.SubMenu=Cc,R.ItemGroup=Od,R.Divider=Xl;var F=R,V={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 192H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM104 228a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"bars",theme:"outlined"},U=V,Q=function(t,s){return a.createElement(Xt.Z,(0,Ge.Z)({},t,{ref:s,icon:U}))},ee=a.forwardRef(Q),ce=ee;const Pe=a.createContext({siderHook:{addSider:()=>null,removeSider:()=>null}}),Se=e=>{const{antCls:t,componentCls:s,colorText:o,footerBg:f,headerHeight:y,headerPadding:C,headerColor:w,footerPadding:I,fontSize:D,bodyBg:L,headerBg:z}=e;return{[s]:{display:"flex",flex:"auto",flexDirection:"column",minHeight:0,background:L,"&, *":{boxSizing:"border-box"},[`&${s}-has-sider`]:{flexDirection:"row",[`> ${s}, > ${s}-content`]:{width:0}},[`${s}-header, &${s}-footer`]:{flex:"0 0 auto"},"&-rtl":{direction:"rtl"}},[`${s}-header`]:{height:y,padding:C,color:w,lineHeight:(0,he.bf)(y),background:z,[`${t}-menu`]:{lineHeight:"inherit"}},[`${s}-footer`]:{padding:I,color:o,fontSize:D,background:f},[`${s}-content`]:{flex:"auto",color:o,minHeight:0}}},ze=e=>{const{colorBgLayout:t,controlHeight:s,controlHeightLG:o,colorText:f,controlHeightSM:y,marginXXS:C,colorTextLightSolid:w,colorBgContainer:I}=e,D=o*1.25;return{colorBgHeader:"#001529",colorBgBody:t,colorBgTrigger:"#002140",bodyBg:t,headerBg:"#001529",headerHeight:s*2,headerPadding:`0 ${D}px`,headerColor:f,footerPadding:`${y}px ${D}px`,footerBg:t,siderBg:"#001529",triggerHeight:o+C*2,triggerBg:"#002140",triggerColor:w,zeroTriggerWidth:o,zeroTriggerHeight:o,lightSiderBg:I,lightTriggerBg:I,lightTriggerColor:f}},Le=[["colorBgBody","bodyBg"],["colorBgHeader","headerBg"],["colorBgTrigger","triggerBg"]];var st=(0,te.I$)("Layout",e=>[Se(e)],ze,{deprecatedTokens:Le});const St=e=>{const{componentCls:t,siderBg:s,motionDurationMid:o,motionDurationSlow:f,antCls:y,triggerHeight:C,triggerColor:w,triggerBg:I,headerHeight:D,zeroTriggerWidth:L,zeroTriggerHeight:z,borderRadiusLG:k,lightSiderBg:j,lightTriggerColor:Z,lightTriggerBg:G,bodyBg:H}=e;return{[t]:{position:"relative",minWidth:0,background:s,transition:`all ${o}, background 0s`,"&-has-trigger":{paddingBottom:C},"&-right":{order:1},[`${t}-children`]:{height:"100%",marginTop:-.1,paddingTop:.1,[`${y}-menu${y}-menu-inline-collapsed`]:{width:"auto"}},[`&-zero-width ${t}-children`]:{overflow:"hidden"},[`${t}-trigger`]:{position:"fixed",bottom:0,zIndex:1,height:C,color:w,lineHeight:(0,he.bf)(C),textAlign:"center",background:I,cursor:"pointer",transition:`all ${o}`},[`${t}-zero-width-trigger`]:{position:"absolute",top:D,insetInlineEnd:e.calc(L).mul(-1).equal(),zIndex:1,width:L,height:z,color:w,fontSize:e.fontSizeXL,display:"flex",alignItems:"center",justifyContent:"center",background:s,borderRadius:`0 ${(0,he.bf)(k)} ${(0,he.bf)(k)} 0`,cursor:"pointer",transition:`background ${f} ease`,"&::after":{position:"absolute",inset:0,background:"transparent",transition:`all ${f}`,content:'""'},"&:hover::after":{background:"rgba(255, 255, 255, 0.2)"},"&-right":{insetInlineStart:e.calc(L).mul(-1).equal(),borderRadius:`${(0,he.bf)(k)} 0 0 ${(0,he.bf)(k)}`}},"&-light":{background:j,[`${t}-trigger`]:{color:Z,background:G},[`${t}-zero-width-trigger`]:{color:Z,background:G,border:`1px solid ${H}`,borderInlineStart:0}}}}};var xt=(0,te.I$)(["Layout","Sider"],e=>[St(e)],ze,{deprecatedTokens:Le}),Wt=function(e,t){var s={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(s[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(s[o[f]]=e[o[f]]);return s};const zt={xs:"479.98px",sm:"575.98px",md:"767.98px",lg:"991.98px",xl:"1199.98px",xxl:"1599.98px"},kt=e=>!Number.isNaN(Number.parseFloat(e))&&isFinite(e),Lt=a.createContext({}),cn=(()=>{let e=0;return function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return e+=1,`${t}${e}`}})();var hr=a.forwardRef((e,t)=>{const{prefixCls:s,className:o,trigger:f,children:y,defaultCollapsed:C=!1,theme:w="dark",style:I={},collapsible:D=!1,reverseArrow:L=!1,width:z=200,collapsedWidth:k=80,zeroWidthTriggerStyle:j,breakpoint:Z,onCollapse:G,onBreakpoint:H}=e,X=Wt(e,["prefixCls","className","trigger","children","defaultCollapsed","theme","style","collapsible","reverseArrow","width","collapsedWidth","zeroWidthTriggerStyle","breakpoint","onCollapse","onBreakpoint"]),{siderHook:ne}=(0,a.useContext)(Pe),[oe,ae]=(0,a.useState)("collapsed"in e?e.collapsed:C),[ie,le]=(0,a.useState)(!1);(0,a.useEffect)(()=>{"collapsed"in e&&ae(e.collapsed)},[e.collapsed]);const fe=(Pt,Pn)=>{"collapsed"in e||ae(Pt),G==null||G(Pt,Pn)},{getPrefixCls:me,direction:ge}=(0,a.useContext)(ye.E_),xe=me("layout-sider",s),[Me,$e,Oe]=xt(xe),He=(0,a.useRef)(null);He.current=Pt=>{le(Pt.matches),H==null||H(Pt.matches),oe!==Pt.matches&&fe(Pt.matches,"responsive")},(0,a.useEffect)(()=>{function Pt(Kn){return He.current(Kn)}let Pn;if(typeof window!="undefined"){const{matchMedia:Kn}=window;if(Kn&&Z&&Z in zt){Pn=Kn(`screen and (max-width: ${zt[Z]})`);try{Pn.addEventListener("change",Pt)}catch(_n){Pn.addListener(Pt)}Pt(Pn)}}return()=>{try{Pn==null||Pn.removeEventListener("change",Pt)}catch(Kn){Pn==null||Pn.removeListener(Pt)}}},[Z]),(0,a.useEffect)(()=>{const Pt=cn("ant-sider-");return ne.addSider(Pt),()=>ne.removeSider(Pt)},[]);const Ne=()=>{fe(!oe,"clickTrigger")},Ke=(0,$a.Z)(X,["collapsed"]),je=oe?k:z,lt=kt(je)?`${je}px`:String(je),ht=parseFloat(String(k||0))===0?a.createElement("span",{onClick:Ne,className:q()(`${xe}-zero-width-trigger`,`${xe}-zero-width-trigger-${L?"right":"left"}`),style:j},f||a.createElement(ce,null)):null,It=ge==="rtl"==!L,_t={expanded:It?a.createElement(Kc.Z,null):a.createElement(vl,null),collapsed:It?a.createElement(vl,null):a.createElement(Kc.Z,null)}[oe?"collapsed":"expanded"],At=f!==null?ht||a.createElement("div",{className:`${xe}-trigger`,onClick:Ne,style:{width:lt}},f||_t):null,Bt=Object.assign(Object.assign({},I),{flex:`0 0 ${lt}`,maxWidth:lt,minWidth:lt,width:lt}),Dt=q()(xe,`${xe}-${w}`,{[`${xe}-collapsed`]:!!oe,[`${xe}-has-trigger`]:D&&f!==null&&!ht,[`${xe}-below`]:!!ie,[`${xe}-zero-width`]:parseFloat(lt)===0},o,$e,Oe),Gt=a.useMemo(()=>({siderCollapsed:oe}),[oe]);return Me(a.createElement(Lt.Provider,{value:Gt},a.createElement("aside",Object.assign({className:Dt},Ke,{style:Bt,ref:t}),a.createElement("div",{className:`${xe}-children`},y),D||ie&&ht?At:null)))}),nr={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M176 511a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"ellipsis",theme:"outlined"},jr=nr,Br=function(t,s){return a.createElement(Xt.Z,(0,Ge.Z)({},t,{ref:s,icon:jr}))},Un=a.forwardRef(Br),vr=Un,kn=(0,a.createContext)({prefixCls:"",firstLevel:!0,inlineCollapsed:!1}),Xr=function(e,t){var s={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(s[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(s[o[f]]=e[o[f]]);return s},zi=e=>{const{prefixCls:t,className:s,dashed:o}=e,f=Xr(e,["prefixCls","className","dashed"]),{getPrefixCls:y}=a.useContext(ye.E_),C=y("menu",t),w=q()({[`${C}-item-divider-dashed`]:!!o},s);return a.createElement(Xl,Object.assign({className:w},f))},qr=B(9202),wi=e=>{var t;const{className:s,children:o,icon:f,title:y,danger:C,extra:w}=e,{prefixCls:I,firstLevel:D,direction:L,disableMenuItemTitleTooltip:z,inlineCollapsed:k}=a.useContext(kn),j=oe=>{const ae=o==null?void 0:o[0],ie=a.createElement("span",{className:q()(`${I}-title-content`,{[`${I}-title-content-with-extra`]:!!w||w===0})},o);return(!f||a.isValidElement(o)&&o.type==="span")&&o&&oe&&D&&typeof ae=="string"?a.createElement("div",{className:`${I}-inline-collapsed-noicon`},ae.charAt(0)):ie},{siderCollapsed:Z}=a.useContext(Lt);let G=y;typeof y=="undefined"?G=D?o:"":y===!1&&(G="");const H={title:G};!Z&&!k&&(H.title=null,H.open=!1);const X=(0,Gl.Z)(o).length;let ne=a.createElement(Md,Object.assign({},(0,$a.Z)(e,["title","icon","danger"]),{className:q()({[`${I}-item-danger`]:C,[`${I}-item-only-child`]:(f?X+1:X)===1},s),title:typeof y=="string"?y:void 0}),(0,Cn.Tm)(f,{className:q()(a.isValidElement(f)?(t=f.props)===null||t===void 0?void 0:t.className:"",`${I}-item-icon`)}),j(k));return z||(ne=a.createElement(qr.Z,Object.assign({},H,{placement:L==="rtl"?"left":"right",classNames:{root:`${I}-inline-collapsed-tooltip`}}),ne)),ne},Ni=function(e,t){var s={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(s[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(s[o[f]]=e[o[f]]);return s};const lo=a.createContext(null),bo=a.forwardRef((e,t)=>{const{children:s}=e,o=Ni(e,["children"]),f=a.useContext(lo),y=a.useMemo(()=>Object.assign(Object.assign({},f),o),[f,o.prefixCls,o.mode,o.selectable,o.rootClassName]),C=(0,Jt.t4)(s),w=(0,Jt.x1)(t,C?(0,Jt.C4)(s):null);return a.createElement(lo.Provider,{value:y},a.createElement(ma.Z,{space:!0},C?a.cloneElement(s,{ref:w}):s))});var ca=lo,mo=B(84432),Ko=B(40894),Yo=B(17877),Os=e=>{const{componentCls:t,motionDurationSlow:s,horizontalLineHeight:o,colorSplit:f,lineWidth:y,lineType:C,itemPaddingInline:w}=e;return{[`${t}-horizontal`]:{lineHeight:o,border:0,borderBottom:`${(0,he.bf)(y)} ${C} ${f}`,boxShadow:"none","&::after":{display:"block",clear:"both",height:0,content:'"\\20"'},[`${t}-item, ${t}-submenu`]:{position:"relative",display:"inline-block",verticalAlign:"bottom",paddingInline:w},[`> ${t}-item:hover,
        > ${t}-item-active,
        > ${t}-submenu ${t}-submenu-title:hover`]:{backgroundColor:"transparent"},[`${t}-item, ${t}-submenu-title`]:{transition:[`border-color ${s}`,`background ${s}`].join(",")},[`${t}-submenu-arrow`]:{display:"none"}}}},Gs=e=>{let{componentCls:t,menuArrowOffset:s,calc:o}=e;return{[`${t}-rtl`]:{direction:"rtl"},[`${t}-submenu-rtl`]:{transformOrigin:"100% 0"},[`${t}-rtl${t}-vertical,
    ${t}-submenu-rtl ${t}-vertical`]:{[`${t}-submenu-arrow`]:{"&::before":{transform:`rotate(-45deg) translateY(${(0,he.bf)(o(s).mul(-1).equal())})`},"&::after":{transform:`rotate(45deg) translateY(${(0,he.bf)(s)})`}}}}};const Pa=e=>Object.assign({},(0,Qt.oN)(e));var Bo=(e,t)=>{const{componentCls:s,itemColor:o,itemSelectedColor:f,subMenuItemSelectedColor:y,groupTitleColor:C,itemBg:w,subMenuItemBg:I,itemSelectedBg:D,activeBarHeight:L,activeBarWidth:z,activeBarBorderWidth:k,motionDurationSlow:j,motionEaseInOut:Z,motionEaseOut:G,itemPaddingInline:H,motionDurationMid:X,itemHoverColor:ne,lineType:oe,colorSplit:ae,itemDisabledColor:ie,dangerItemColor:le,dangerItemHoverColor:fe,dangerItemSelectedColor:me,dangerItemActiveBg:ge,dangerItemSelectedBg:xe,popupBg:Me,itemHoverBg:$e,itemActiveBg:Oe,menuSubMenuBg:He,horizontalItemSelectedColor:Ne,horizontalItemSelectedBg:Ke,horizontalItemBorderRadius:je,horizontalItemHoverBg:lt}=e;return{[`${s}-${t}, ${s}-${t} > ${s}`]:{color:o,background:w,[`&${s}-root:focus-visible`]:Object.assign({},Pa(e)),[`${s}-item`]:{"&-group-title, &-extra":{color:C}},[`${s}-submenu-selected > ${s}-submenu-title`]:{color:y},[`${s}-item, ${s}-submenu-title`]:{color:o,[`&:not(${s}-item-disabled):focus-visible`]:Object.assign({},Pa(e))},[`${s}-item-disabled, ${s}-submenu-disabled`]:{color:`${ie} !important`},[`${s}-item:not(${s}-item-selected):not(${s}-submenu-selected)`]:{[`&:hover, > ${s}-submenu-title:hover`]:{color:ne}},[`&:not(${s}-horizontal)`]:{[`${s}-item:not(${s}-item-selected)`]:{"&:hover":{backgroundColor:$e},"&:active":{backgroundColor:Oe}},[`${s}-submenu-title`]:{"&:hover":{backgroundColor:$e},"&:active":{backgroundColor:Oe}}},[`${s}-item-danger`]:{color:le,[`&${s}-item:hover`]:{[`&:not(${s}-item-selected):not(${s}-submenu-selected)`]:{color:fe}},[`&${s}-item:active`]:{background:ge}},[`${s}-item a`]:{"&, &:hover":{color:"inherit"}},[`${s}-item-selected`]:{color:f,[`&${s}-item-danger`]:{color:me},"a, a:hover":{color:"inherit"}},[`& ${s}-item-selected`]:{backgroundColor:D,[`&${s}-item-danger`]:{backgroundColor:xe}},[`&${s}-submenu > ${s}`]:{backgroundColor:He},[`&${s}-popup > ${s}`]:{backgroundColor:Me},[`&${s}-submenu-popup > ${s}`]:{backgroundColor:Me},[`&${s}-horizontal`]:Object.assign(Object.assign({},t==="dark"?{borderBottom:0}:{}),{[`> ${s}-item, > ${s}-submenu`]:{top:k,marginTop:e.calc(k).mul(-1).equal(),marginBottom:0,borderRadius:je,"&::after":{position:"absolute",insetInline:H,bottom:0,borderBottom:`${(0,he.bf)(L)} solid transparent`,transition:`border-color ${j} ${Z}`,content:'""'},"&:hover, &-active, &-open":{background:lt,"&::after":{borderBottomWidth:L,borderBottomColor:Ne}},"&-selected":{color:Ne,backgroundColor:Ke,"&:hover":{backgroundColor:Ke},"&::after":{borderBottomWidth:L,borderBottomColor:Ne}}}}),[`&${s}-root`]:{[`&${s}-inline, &${s}-vertical`]:{borderInlineEnd:`${(0,he.bf)(k)} ${oe} ${ae}`}},[`&${s}-inline`]:{[`${s}-sub${s}-inline`]:{background:I},[`${s}-item`]:{position:"relative","&::after":{position:"absolute",insetBlock:0,insetInlineEnd:0,borderInlineEnd:`${(0,he.bf)(z)} solid ${f}`,transform:"scaleY(0.0001)",opacity:0,transition:[`transform ${X} ${G}`,`opacity ${X} ${G}`].join(","),content:'""'},[`&${s}-item-danger`]:{"&::after":{borderInlineEndColor:me}}},[`${s}-selected, ${s}-item-selected`]:{"&::after":{transform:"scaleY(1)",opacity:1,transition:[`transform ${X} ${Z}`,`opacity ${X} ${Z}`].join(",")}}}}}};const Qa=e=>{const{componentCls:t,itemHeight:s,itemMarginInline:o,padding:f,menuArrowSize:y,marginXS:C,itemMarginBlock:w,itemWidth:I,itemPaddingInline:D}=e,L=e.calc(y).add(f).add(C).equal();return{[`${t}-item`]:{position:"relative",overflow:"hidden"},[`${t}-item, ${t}-submenu-title`]:{height:s,lineHeight:(0,he.bf)(s),paddingInline:D,overflow:"hidden",textOverflow:"ellipsis",marginInline:o,marginBlock:w,width:I},[`> ${t}-item,
            > ${t}-submenu > ${t}-submenu-title`]:{height:s,lineHeight:(0,he.bf)(s)},[`${t}-item-group-list ${t}-submenu-title,
            ${t}-submenu-title`]:{paddingInlineEnd:L}}};var bs=e=>{const{componentCls:t,iconCls:s,itemHeight:o,colorTextLightSolid:f,dropdownWidth:y,controlHeightLG:C,motionEaseOut:w,paddingXL:I,itemMarginInline:D,fontSizeLG:L,motionDurationFast:z,motionDurationSlow:k,paddingXS:j,boxShadowSecondary:Z,collapsedWidth:G,collapsedIconSize:H}=e,X={height:o,lineHeight:(0,he.bf)(o),listStylePosition:"inside",listStyleType:"disc"};return[{[t]:{"&-inline, &-vertical":Object.assign({[`&${t}-root`]:{boxShadow:"none"}},Qa(e))},[`${t}-submenu-popup`]:{[`${t}-vertical`]:Object.assign(Object.assign({},Qa(e)),{boxShadow:Z})}},{[`${t}-submenu-popup ${t}-vertical${t}-sub`]:{minWidth:y,maxHeight:`calc(100vh - ${(0,he.bf)(e.calc(C).mul(2.5).equal())})`,padding:"0",overflow:"hidden",borderInlineEnd:0,"&:not([class*='-active'])":{overflowX:"hidden",overflowY:"auto"}}},{[`${t}-inline`]:{width:"100%",[`&${t}-root`]:{[`${t}-item, ${t}-submenu-title`]:{display:"flex",alignItems:"center",transition:[`border-color ${k}`,`background ${k}`,`padding ${z} ${w}`].join(","),[`> ${t}-title-content`]:{flex:"auto",minWidth:0,overflow:"hidden",textOverflow:"ellipsis"},"> *":{flex:"none"}}},[`${t}-sub${t}-inline`]:{padding:0,border:0,borderRadius:0,boxShadow:"none",[`& > ${t}-submenu > ${t}-submenu-title`]:X,[`& ${t}-item-group-title`]:{paddingInlineStart:I}},[`${t}-item`]:X}},{[`${t}-inline-collapsed`]:{width:G,[`&${t}-root`]:{[`${t}-item, ${t}-submenu ${t}-submenu-title`]:{[`> ${t}-inline-collapsed-noicon`]:{fontSize:L,textAlign:"center"}}},[`> ${t}-item,
          > ${t}-item-group > ${t}-item-group-list > ${t}-item,
          > ${t}-item-group > ${t}-item-group-list > ${t}-submenu > ${t}-submenu-title,
          > ${t}-submenu > ${t}-submenu-title`]:{insetInlineStart:0,paddingInline:`calc(50% - ${(0,he.bf)(e.calc(H).div(2).equal())} - ${(0,he.bf)(D)})`,textOverflow:"clip",[`
            ${t}-submenu-arrow,
            ${t}-submenu-expand-icon
          `]:{opacity:0},[`${t}-item-icon, ${s}`]:{margin:0,fontSize:H,lineHeight:(0,he.bf)(o),"+ span":{display:"inline-block",opacity:0}}},[`${t}-item-icon, ${s}`]:{display:"inline-block"},"&-tooltip":{pointerEvents:"none",[`${t}-item-icon, ${s}`]:{display:"none"},"a, a:hover":{color:f}},[`${t}-item-group-title`]:Object.assign(Object.assign({},Qt.vS),{paddingInline:j})}}]};const nl=e=>{const{componentCls:t,motionDurationSlow:s,motionDurationMid:o,motionEaseInOut:f,motionEaseOut:y,iconCls:C,iconSize:w,iconMarginInlineEnd:I}=e;return{[`${t}-item, ${t}-submenu-title`]:{position:"relative",display:"block",margin:0,whiteSpace:"nowrap",cursor:"pointer",transition:[`border-color ${s}`,`background ${s}`,`padding calc(${s} + 0.1s) ${f}`].join(","),[`${t}-item-icon, ${C}`]:{minWidth:w,fontSize:w,transition:[`font-size ${o} ${y}`,`margin ${s} ${f}`,`color ${s}`].join(","),"+ span":{marginInlineStart:I,opacity:1,transition:[`opacity ${s} ${f}`,`margin ${s}`,`color ${s}`].join(",")}},[`${t}-item-icon`]:Object.assign({},(0,Qt.Ro)()),[`&${t}-item-only-child`]:{[`> ${C}, > ${t}-item-icon`]:{marginInlineEnd:0}}},[`${t}-item-disabled, ${t}-submenu-disabled`]:{background:"none !important",cursor:"not-allowed","&::after":{borderColor:"transparent !important"},a:{color:"inherit !important",cursor:"not-allowed",pointerEvents:"none"},[`> ${t}-submenu-title`]:{color:"inherit !important",cursor:"not-allowed"}}}},Fl=e=>{const{componentCls:t,motionDurationSlow:s,motionEaseInOut:o,borderRadius:f,menuArrowSize:y,menuArrowOffset:C}=e;return{[`${t}-submenu`]:{"&-expand-icon, &-arrow":{position:"absolute",top:"50%",insetInlineEnd:e.margin,width:y,color:"currentcolor",transform:"translateY(-50%)",transition:`transform ${s} ${o}, opacity ${s}`},"&-arrow":{"&::before, &::after":{position:"absolute",width:e.calc(y).mul(.6).equal(),height:e.calc(y).mul(.15).equal(),backgroundColor:"currentcolor",borderRadius:f,transition:[`background ${s} ${o}`,`transform ${s} ${o}`,`top ${s} ${o}`,`color ${s} ${o}`].join(","),content:'""'},"&::before":{transform:`rotate(45deg) translateY(${(0,he.bf)(e.calc(C).mul(-1).equal())})`},"&::after":{transform:`rotate(-45deg) translateY(${(0,he.bf)(C)})`}}}}},Dl=e=>{const{antCls:t,componentCls:s,fontSize:o,motionDurationSlow:f,motionDurationMid:y,motionEaseInOut:C,paddingXS:w,padding:I,colorSplit:D,lineWidth:L,zIndexPopup:z,borderRadiusLG:k,subMenuItemBorderRadius:j,menuArrowSize:Z,menuArrowOffset:G,lineType:H,groupTitleLineHeight:X,groupTitleFontSize:ne}=e;return[{"":{[s]:Object.assign(Object.assign({},(0,Qt.dF)()),{"&-hidden":{display:"none"}})},[`${s}-submenu-hidden`]:{display:"none"}},{[s]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(0,Qt.Wf)(e)),(0,Qt.dF)()),{marginBottom:0,paddingInlineStart:0,fontSize:o,lineHeight:0,listStyle:"none",outline:"none",transition:`width ${f} cubic-bezier(0.2, 0, 0, 1) 0s`,"ul, ol":{margin:0,padding:0,listStyle:"none"},"&-overflow":{display:"flex",[`${s}-item`]:{flex:"none"}},[`${s}-item, ${s}-submenu, ${s}-submenu-title`]:{borderRadius:e.itemBorderRadius},[`${s}-item-group-title`]:{padding:`${(0,he.bf)(w)} ${(0,he.bf)(I)}`,fontSize:ne,lineHeight:X,transition:`all ${f}`},[`&-horizontal ${s}-submenu`]:{transition:[`border-color ${f} ${C}`,`background ${f} ${C}`].join(",")},[`${s}-submenu, ${s}-submenu-inline`]:{transition:[`border-color ${f} ${C}`,`background ${f} ${C}`,`padding ${y} ${C}`].join(",")},[`${s}-submenu ${s}-sub`]:{cursor:"initial",transition:[`background ${f} ${C}`,`padding ${f} ${C}`].join(",")},[`${s}-title-content`]:{transition:`color ${f}`,"&-with-extra":{display:"inline-flex",alignItems:"center",width:"100%"},[`> ${t}-typography-ellipsis-single-line`]:{display:"inline",verticalAlign:"unset"},[`${s}-item-extra`]:{marginInlineStart:"auto",paddingInlineStart:e.padding}},[`${s}-item a`]:{"&::before":{position:"absolute",inset:0,backgroundColor:"transparent",content:'""'}},[`${s}-item-divider`]:{overflow:"hidden",lineHeight:0,borderColor:D,borderStyle:H,borderWidth:0,borderTopWidth:L,marginBlock:L,padding:0,"&-dashed":{borderStyle:"dashed"}}}),nl(e)),{[`${s}-item-group`]:{[`${s}-item-group-list`]:{margin:0,padding:0,[`${s}-item, ${s}-submenu-title`]:{paddingInline:`${(0,he.bf)(e.calc(o).mul(2).equal())} ${(0,he.bf)(I)}`}}},"&-submenu":{"&-popup":{position:"absolute",zIndex:z,borderRadius:k,boxShadow:"none",transformOrigin:"0 0",[`&${s}-submenu`]:{background:"transparent"},"&::before":{position:"absolute",inset:0,zIndex:-1,width:"100%",height:"100%",opacity:0,content:'""'},[`> ${s}`]:Object.assign(Object.assign(Object.assign({borderRadius:k},nl(e)),Fl(e)),{[`${s}-item, ${s}-submenu > ${s}-submenu-title`]:{borderRadius:j},[`${s}-submenu-title::after`]:{transition:`transform ${f} ${C}`}})},"\n          &-placement-leftTop,\n          &-placement-bottomRight,\n          ":{transformOrigin:"100% 0"},"\n          &-placement-leftBottom,\n          &-placement-topRight,\n          ":{transformOrigin:"100% 100%"},"\n          &-placement-rightBottom,\n          &-placement-topLeft,\n          ":{transformOrigin:"0 100%"},"\n          &-placement-bottomLeft,\n          &-placement-rightTop,\n          ":{transformOrigin:"0 0"},"\n          &-placement-leftTop,\n          &-placement-leftBottom\n          ":{paddingInlineEnd:e.paddingXS},"\n          &-placement-rightTop,\n          &-placement-rightBottom\n          ":{paddingInlineStart:e.paddingXS},"\n          &-placement-topRight,\n          &-placement-topLeft\n          ":{paddingBottom:e.paddingXS},"\n          &-placement-bottomRight,\n          &-placement-bottomLeft\n          ":{paddingTop:e.paddingXS}}}),Fl(e)),{[`&-inline-collapsed ${s}-submenu-arrow,
        &-inline ${s}-submenu-arrow`]:{"&::before":{transform:`rotate(-45deg) translateX(${(0,he.bf)(G)})`},"&::after":{transform:`rotate(45deg) translateX(${(0,he.bf)(e.calc(G).mul(-1).equal())})`}},[`${s}-submenu-open${s}-submenu-inline > ${s}-submenu-title > ${s}-submenu-arrow`]:{transform:`translateY(${(0,he.bf)(e.calc(Z).mul(.2).mul(-1).equal())})`,"&::after":{transform:`rotate(-45deg) translateX(${(0,he.bf)(e.calc(G).mul(-1).equal())})`},"&::before":{transform:`rotate(45deg) translateX(${(0,he.bf)(G)})`}}})},{[`${t}-layout-header`]:{[s]:{lineHeight:"inherit"}}}]},Ll=e=>{var t,s,o;const{colorPrimary:f,colorError:y,colorTextDisabled:C,colorErrorBg:w,colorText:I,colorTextDescription:D,colorBgContainer:L,colorFillAlter:z,colorFillContent:k,lineWidth:j,lineWidthBold:Z,controlItemBgActive:G,colorBgTextHover:H,controlHeightLG:X,lineHeight:ne,colorBgElevated:oe,marginXXS:ae,padding:ie,fontSize:le,controlHeightSM:fe,fontSizeLG:me,colorTextLightSolid:ge,colorErrorHover:xe}=e,Me=(t=e.activeBarWidth)!==null&&t!==void 0?t:0,$e=(s=e.activeBarBorderWidth)!==null&&s!==void 0?s:j,Oe=(o=e.itemMarginInline)!==null&&o!==void 0?o:e.marginXXS,He=new mo.t(ge).setA(.65).toRgbString();return{dropdownWidth:160,zIndexPopup:e.zIndexPopupBase+50,radiusItem:e.borderRadiusLG,itemBorderRadius:e.borderRadiusLG,radiusSubMenuItem:e.borderRadiusSM,subMenuItemBorderRadius:e.borderRadiusSM,colorItemText:I,itemColor:I,colorItemTextHover:I,itemHoverColor:I,colorItemTextHoverHorizontal:f,horizontalItemHoverColor:f,colorGroupTitle:D,groupTitleColor:D,colorItemTextSelected:f,itemSelectedColor:f,subMenuItemSelectedColor:f,colorItemTextSelectedHorizontal:f,horizontalItemSelectedColor:f,colorItemBg:L,itemBg:L,colorItemBgHover:H,itemHoverBg:H,colorItemBgActive:k,itemActiveBg:G,colorSubItemBg:z,subMenuItemBg:z,colorItemBgSelected:G,itemSelectedBg:G,colorItemBgSelectedHorizontal:"transparent",horizontalItemSelectedBg:"transparent",colorActiveBarWidth:0,activeBarWidth:Me,colorActiveBarHeight:Z,activeBarHeight:Z,colorActiveBarBorderSize:j,activeBarBorderWidth:$e,colorItemTextDisabled:C,itemDisabledColor:C,colorDangerItemText:y,dangerItemColor:y,colorDangerItemTextHover:y,dangerItemHoverColor:y,colorDangerItemTextSelected:y,dangerItemSelectedColor:y,colorDangerItemBgActive:w,dangerItemActiveBg:w,colorDangerItemBgSelected:w,dangerItemSelectedBg:w,itemMarginInline:Oe,horizontalItemBorderRadius:0,horizontalItemHoverBg:"transparent",itemHeight:X,groupTitleLineHeight:ne,collapsedWidth:X*2,popupBg:oe,itemMarginBlock:ae,itemPaddingInline:ie,horizontalLineHeight:`${X*1.15}px`,iconSize:le,iconMarginInlineEnd:fe-le,collapsedIconSize:me,groupTitleFontSize:le,darkItemDisabledColor:new mo.t(ge).setA(.25).toRgbString(),darkItemColor:He,darkDangerItemColor:y,darkItemBg:"#001529",darkPopupBg:"#001529",darkSubMenuItemBg:"#000c17",darkItemSelectedColor:ge,darkItemSelectedBg:f,darkDangerItemSelectedBg:y,darkItemHoverBg:"transparent",darkGroupTitleColor:He,darkItemHoverColor:ge,darkDangerItemHoverColor:xe,darkDangerItemSelectedColor:ge,darkDangerItemActiveBg:y,itemWidth:Me?`calc(100% + ${$e}px)`:`calc(100% - ${Oe*2}px)`}};var Xc=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;return(0,te.I$)("Menu",f=>{const{colorBgElevated:y,controlHeightLG:C,fontSize:w,darkItemColor:I,darkDangerItemColor:D,darkItemBg:L,darkSubMenuItemBg:z,darkItemSelectedColor:k,darkItemSelectedBg:j,darkDangerItemSelectedBg:Z,darkItemHoverBg:G,darkGroupTitleColor:H,darkItemHoverColor:X,darkItemDisabledColor:ne,darkDangerItemHoverColor:oe,darkDangerItemSelectedColor:ae,darkDangerItemActiveBg:ie,popupBg:le,darkPopupBg:fe}=f,me=f.calc(w).div(7).mul(5).equal(),ge=(0,ci.IX)(f,{menuArrowSize:me,menuHorizontalHeight:f.calc(C).mul(1.15).equal(),menuArrowOffset:f.calc(me).mul(.25).equal(),menuSubMenuBg:y,calc:f.calc,popupBg:le}),xe=(0,ci.IX)(ge,{itemColor:I,itemHoverColor:X,groupTitleColor:H,itemSelectedColor:k,subMenuItemSelectedColor:k,itemBg:L,popupBg:fe,subMenuItemBg:z,itemActiveBg:"transparent",itemSelectedBg:j,activeBarHeight:0,activeBarBorderWidth:0,itemHoverBg:G,itemDisabledColor:ne,dangerItemColor:D,dangerItemHoverColor:oe,dangerItemSelectedColor:ae,dangerItemActiveBg:ie,dangerItemSelectedBg:Z,menuSubMenuBg:z,horizontalItemSelectedColor:k,horizontalItemSelectedBg:j});return[Dl(ge),Os(ge),bs(ge),Bo(ge,"light"),Bo(xe,"dark"),Gs(ge),(0,Ko.Z)(ge),(0,Yo.oN)(ge,"slide-up"),(0,Yo.oN)(ge,"slide-down"),(0,Ps._y)(ge,"zoom-big")]},Ll,{deprecatedTokens:[["colorGroupTitle","groupTitleColor"],["radiusItem","itemBorderRadius"],["radiusSubMenuItem","subMenuItemBorderRadius"],["colorItemText","itemColor"],["colorItemTextHover","itemHoverColor"],["colorItemTextHoverHorizontal","horizontalItemHoverColor"],["colorItemTextSelected","itemSelectedColor"],["colorItemTextSelectedHorizontal","horizontalItemSelectedColor"],["colorItemTextDisabled","itemDisabledColor"],["colorDangerItemText","dangerItemColor"],["colorDangerItemTextHover","dangerItemHoverColor"],["colorDangerItemTextSelected","dangerItemSelectedColor"],["colorDangerItemBgActive","dangerItemActiveBg"],["colorDangerItemBgSelected","dangerItemSelectedBg"],["colorItemBg","itemBg"],["colorItemBgHover","itemHoverBg"],["colorSubItemBg","subMenuItemBg"],["colorItemBgActive","itemActiveBg"],["colorItemBgSelectedHorizontal","horizontalItemSelectedBg"],["colorActiveBarWidth","activeBarWidth"],["colorActiveBarHeight","activeBarHeight"],["colorActiveBarBorderSize","activeBarBorderWidth"],["colorItemBgSelected","itemSelectedBg"]],injectStyle:s,unitless:{groupTitleLineHeight:!0}})(e,t)},rl=e=>{var t;const{popupClassName:s,icon:o,title:f,theme:y}=e,C=a.useContext(kn),{prefixCls:w,inlineCollapsed:I,theme:D}=C,L=ef();let z;if(!o)z=I&&!L.length&&f&&typeof f=="string"?a.createElement("div",{className:`${w}-inline-collapsed-noicon`},f.charAt(0)):a.createElement("span",{className:`${w}-title-content`},f);else{const Z=a.isValidElement(f)&&f.type==="span";z=a.createElement(a.Fragment,null,(0,Cn.Tm)(o,{className:q()(a.isValidElement(o)?(t=o.props)===null||t===void 0?void 0:t.className:"",`${w}-item-icon`)}),Z?f:a.createElement("span",{className:`${w}-title-content`},f))}const k=a.useMemo(()=>Object.assign(Object.assign({},C),{firstLevel:!1}),[C]),[j]=(0,qt.Cn)("Menu");return a.createElement(kn.Provider,{value:k},a.createElement(Cc,Object.assign({},(0,$a.Z)(e,["icon"]),{title:z,popupClassName:q()(w,s,`${w}-${y||D}`),popupStyle:Object.assign({zIndex:j},e.popupStyle)})))},js=function(e,t){var s={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(s[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(s[o[f]]=e[o[f]]);return s};function As(e){return e===null||e===!1}const ss={item:wi,submenu:rl,divider:zi};var Yl=(0,a.forwardRef)((e,t)=>{var s;const o=a.useContext(ca),f=o||{},{getPrefixCls:y,getPopupContainer:C,direction:w,menu:I}=a.useContext(ye.E_),D=y(),{prefixCls:L,className:z,style:k,theme:j="light",expandIcon:Z,_internalDisableMenuItemTitleTooltip:G,inlineCollapsed:H,siderCollapsed:X,rootClassName:ne,mode:oe,selectable:ae,onClick:ie,overflowedIndicatorPopupClassName:le}=e,fe=js(e,["prefixCls","className","style","theme","expandIcon","_internalDisableMenuItemTitleTooltip","inlineCollapsed","siderCollapsed","rootClassName","mode","selectable","onClick","overflowedIndicatorPopupClassName"]),me=(0,$a.Z)(fe,["collapsedWidth"]);(s=f.validator)===null||s===void 0||s.call(f,{mode:oe});const ge=(0,_r.Z)(function(){var wt;ie==null||ie.apply(void 0,arguments),(wt=f.onClick)===null||wt===void 0||wt.call(f)}),xe=f.mode||oe,Me=ae!=null?ae:f.selectable,$e=H!=null?H:X,Oe={horizontal:{motionName:`${D}-slide-up`},inline:(0,Et.Z)(D),other:{motionName:`${D}-zoom-big`}},He=y("menu",L||f.prefixCls),Ne=(0,Wn.Z)(He),[Ke,je,lt]=Xc(He,Ne,!o),ht=q()(`${He}-${j}`,I==null?void 0:I.className,z),It=a.useMemo(()=>{var wt,_t;if(typeof Z=="function"||As(Z))return Z||null;if(typeof f.expandIcon=="function"||As(f.expandIcon))return f.expandIcon||null;if(typeof(I==null?void 0:I.expandIcon)=="function"||As(I==null?void 0:I.expandIcon))return(I==null?void 0:I.expandIcon)||null;const At=(wt=Z!=null?Z:f==null?void 0:f.expandIcon)!==null&&wt!==void 0?wt:I==null?void 0:I.expandIcon;return(0,Cn.Tm)(At,{className:q()(`${He}-submenu-expand-icon`,a.isValidElement(At)?(_t=At.props)===null||_t===void 0?void 0:_t.className:void 0)})},[Z,f==null?void 0:f.expandIcon,I==null?void 0:I.expandIcon,He]),Tt=a.useMemo(()=>({prefixCls:He,inlineCollapsed:$e||!1,direction:w,firstLevel:!0,theme:j,mode:xe,disableMenuItemTitleTooltip:G}),[He,$e,w,G,j]);return Ke(a.createElement(ca.Provider,{value:null},a.createElement(kn.Provider,{value:Tt},a.createElement(F,Object.assign({getPopupContainer:C,overflowedIndicator:a.createElement(vr,null),overflowedIndicatorPopupClassName:q()(He,`${He}-${j}`,le),mode:xe,selectable:Me,onClick:ge},me,{inlineCollapsed:$e,style:Object.assign(Object.assign({},I==null?void 0:I.style),k),className:ht,prefixCls:He,direction:w,defaultMotions:Oe,expandIcon:It,ref:t,rootClassName:q()(ne,je,f.rootClassName,lt,Ne),_internalComponents:ss})))))});const Rs=(0,a.forwardRef)((e,t)=>{const s=(0,a.useRef)(null),o=a.useContext(Lt);return(0,a.useImperativeHandle)(t,()=>({menu:s.current,focus:f=>{var y;(y=s.current)===null||y===void 0||y.focus(f)}})),a.createElement(Yl,Object.assign({ref:s},e,o))});Rs.Item=wi,Rs.SubMenu=rl,Rs.Divider=zi,Rs.ItemGroup=Od;var cc=Rs,Dc=B(48221),pc=B(18533),mc=B(2276),ru=e=>{const{componentCls:t,menuCls:s,colorError:o,colorTextLightSolid:f}=e,y=`${s}-item`;return{[`${t}, ${t}-menu-submenu`]:{[`${s} ${y}`]:{[`&${y}-danger:not(${y}-disabled)`]:{color:o,"&:hover":{color:f,backgroundColor:o}}}}}};const Yc=e=>{const{componentCls:t,menuCls:s,zIndexPopup:o,dropdownArrowDistance:f,sizePopupArrow:y,antCls:C,iconCls:w,motionDurationMid:I,paddingBlock:D,fontSize:L,dropdownEdgeChildPadding:z,colorTextDisabled:k,fontSizeIcon:j,controlPaddingHorizontal:Z,colorBgElevated:G}=e;return[{[t]:{position:"absolute",top:-9999,left:{_skip_check_:!0,value:-9999},zIndex:o,display:"block","&::before":{position:"absolute",insetBlock:e.calc(y).div(2).sub(f).equal(),zIndex:-9999,opacity:1e-4,content:'""'},"&-menu-vertical":{maxHeight:"100vh",overflowY:"auto"},[`&-trigger${C}-btn`]:{[`& > ${w}-down, & > ${C}-btn-icon > ${w}-down`]:{fontSize:j}},[`${t}-wrap`]:{position:"relative",[`${C}-btn > ${w}-down`]:{fontSize:j},[`${w}-down::before`]:{transition:`transform ${I}`}},[`${t}-wrap-open`]:{[`${w}-down::before`]:{transform:"rotate(180deg)"}},"\n        &-hidden,\n        &-menu-hidden,\n        &-menu-submenu-hidden\n      ":{display:"none"},[`&${C}-slide-down-enter${C}-slide-down-enter-active${t}-placement-bottomLeft,
          &${C}-slide-down-appear${C}-slide-down-appear-active${t}-placement-bottomLeft,
          &${C}-slide-down-enter${C}-slide-down-enter-active${t}-placement-bottom,
          &${C}-slide-down-appear${C}-slide-down-appear-active${t}-placement-bottom,
          &${C}-slide-down-enter${C}-slide-down-enter-active${t}-placement-bottomRight,
          &${C}-slide-down-appear${C}-slide-down-appear-active${t}-placement-bottomRight`]:{animationName:Yo.fJ},[`&${C}-slide-up-enter${C}-slide-up-enter-active${t}-placement-topLeft,
          &${C}-slide-up-appear${C}-slide-up-appear-active${t}-placement-topLeft,
          &${C}-slide-up-enter${C}-slide-up-enter-active${t}-placement-top,
          &${C}-slide-up-appear${C}-slide-up-appear-active${t}-placement-top,
          &${C}-slide-up-enter${C}-slide-up-enter-active${t}-placement-topRight,
          &${C}-slide-up-appear${C}-slide-up-appear-active${t}-placement-topRight`]:{animationName:Yo.Qt},[`&${C}-slide-down-leave${C}-slide-down-leave-active${t}-placement-bottomLeft,
          &${C}-slide-down-leave${C}-slide-down-leave-active${t}-placement-bottom,
          &${C}-slide-down-leave${C}-slide-down-leave-active${t}-placement-bottomRight`]:{animationName:Yo.Uw},[`&${C}-slide-up-leave${C}-slide-up-leave-active${t}-placement-topLeft,
          &${C}-slide-up-leave${C}-slide-up-leave-active${t}-placement-top,
          &${C}-slide-up-leave${C}-slide-up-leave-active${t}-placement-topRight`]:{animationName:Yo.ly}}},(0,pc.ZP)(e,G,{arrowPlacement:{top:!0,bottom:!0}}),{[`${t} ${s}`]:{position:"relative",margin:0},[`${s}-submenu-popup`]:{position:"absolute",zIndex:o,background:"transparent",boxShadow:"none",transformOrigin:"0 0","ul, li":{listStyle:"none",margin:0}},[`${t}, ${t}-menu-submenu`]:Object.assign(Object.assign({},(0,Qt.Wf)(e)),{[s]:Object.assign(Object.assign({padding:z,listStyleType:"none",backgroundColor:G,backgroundClip:"padding-box",borderRadius:e.borderRadiusLG,outline:"none",boxShadow:e.boxShadowSecondary},(0,Qt.Qy)(e)),{"&:empty":{padding:0,boxShadow:"none"},[`${s}-item-group-title`]:{padding:`${(0,he.bf)(D)} ${(0,he.bf)(Z)}`,color:e.colorTextDescription,transition:`all ${I}`},[`${s}-item`]:{position:"relative",display:"flex",alignItems:"center"},[`${s}-item-icon`]:{minWidth:L,marginInlineEnd:e.marginXS,fontSize:e.fontSizeSM},[`${s}-title-content`]:{flex:"auto","&-with-extra":{display:"inline-flex",alignItems:"center",width:"100%"},"> a":{color:"inherit",transition:`all ${I}`,"&:hover":{color:"inherit"},"&::after":{position:"absolute",inset:0,content:'""'}},[`${s}-item-extra`]:{paddingInlineStart:e.padding,marginInlineStart:"auto",fontSize:e.fontSizeSM,color:e.colorTextDescription}},[`${s}-item, ${s}-submenu-title`]:Object.assign(Object.assign({display:"flex",margin:0,padding:`${(0,he.bf)(D)} ${(0,he.bf)(Z)}`,color:e.colorText,fontWeight:"normal",fontSize:L,lineHeight:e.lineHeight,cursor:"pointer",transition:`all ${I}`,borderRadius:e.borderRadiusSM,"&:hover, &-active":{backgroundColor:e.controlItemBgHover}},(0,Qt.Qy)(e)),{"&-selected":{color:e.colorPrimary,backgroundColor:e.controlItemBgActive,"&:hover, &-active":{backgroundColor:e.controlItemBgActiveHover}},"&-disabled":{color:k,cursor:"not-allowed","&:hover":{color:k,backgroundColor:G,cursor:"not-allowed"},a:{pointerEvents:"none"}},"&-divider":{height:1,margin:`${(0,he.bf)(e.marginXXS)} 0`,overflow:"hidden",lineHeight:0,backgroundColor:e.colorSplit},[`${t}-menu-submenu-expand-icon`]:{position:"absolute",insetInlineEnd:e.paddingXS,[`${t}-menu-submenu-arrow-icon`]:{marginInlineEnd:"0 !important",color:e.colorTextDescription,fontSize:j,fontStyle:"normal"}}}),[`${s}-item-group-list`]:{margin:`0 ${(0,he.bf)(e.marginXS)}`,padding:0,listStyle:"none"},[`${s}-submenu-title`]:{paddingInlineEnd:e.calc(Z).add(e.fontSizeSM).equal()},[`${s}-submenu-vertical`]:{position:"relative"},[`${s}-submenu${s}-submenu-disabled ${t}-menu-submenu-title`]:{[`&, ${t}-menu-submenu-arrow-icon`]:{color:k,backgroundColor:G,cursor:"not-allowed"}},[`${s}-submenu-selected ${t}-menu-submenu-title`]:{color:e.colorPrimary}})})},[(0,Yo.oN)(e,"slide-up"),(0,Yo.oN)(e,"slide-down"),(0,Dc.Fm)(e,"move-up"),(0,Dc.Fm)(e,"move-down"),(0,Ps._y)(e,"zoom-big")]]},cf=e=>Object.assign(Object.assign({zIndexPopup:e.zIndexPopupBase+50,paddingBlock:(e.controlHeight-e.fontSize*e.lineHeight)/2},(0,pc.wZ)({contentRadius:e.borderRadiusLG,limitVerticalRadius:!0})),(0,mc.w)(e));var Au=(0,te.I$)("Dropdown",e=>{const{marginXXS:t,sizePopupArrow:s,paddingXXS:o,componentCls:f}=e,y=(0,ci.IX)(e,{menuCls:`${f}-menu`,dropdownArrowDistance:e.calc(s).div(2).add(t).equal(),dropdownEdgeChildPadding:o});return[Yc(y),ru(y)]},cf,{resetStyle:!1});const Zf=null,Rd=e=>{var t;const{menu:s,arrow:o,prefixCls:f,children:y,trigger:C,disabled:w,dropdownRender:I,getPopupContainer:D,overlayClassName:L,rootClassName:z,overlayStyle:k,open:j,onOpenChange:Z,visible:G,onVisibleChange:H,mouseEnterDelay:X=.15,mouseLeaveDelay:ne=.1,autoAdjustOverflow:oe=!0,placement:ae="",overlay:ie,transitionName:le}=e,{getPopupContainer:fe,getPrefixCls:me,direction:ge,dropdown:xe}=a.useContext(ye.E_),Me=(0,Di.ln)("Dropdown"),$e=a.useMemo(()=>{const Zt=me();return le!==void 0?le:ae.includes("top")?`${Zt}-slide-down`:`${Zt}-slide-up`},[me,ae,le]),Oe=a.useMemo(()=>ae?ae.includes("Center")?ae.slice(0,ae.indexOf("Center")):ae:ge==="rtl"?"bottomRight":"bottomLeft",[ae,ge]),He=me("dropdown",f),Ne=(0,Wn.Z)(He),[Ke,je,lt]=Au(He,Ne),[,ht]=(0,Qn.ZP)(),It=a.Children.only(Ou(y)?a.createElement("span",null,y):y),Tt=(0,Cn.Tm)(It,{className:q()(`${He}-trigger`,{[`${He}-rtl`]:ge==="rtl"},It.props.className),disabled:(t=It.props.disabled)!==null&&t!==void 0?t:w}),wt=w?[]:C,_t=!!(wt!=null&&wt.includes("contextMenu")),[At,Bt]=(0,Cs.Z)(!1,{value:j!=null?j:G}),Dt=(0,_r.Z)(Zt=>{Z==null||Z(Zt,{source:"trigger"}),H==null||H(Zt),Bt(Zt)}),Gt=q()(L,z,je,lt,Ne,xe==null?void 0:xe.className,{[`${He}-rtl`]:ge==="rtl"}),Pt=(0,wh.Z)({arrowPointAtCenter:typeof o=="object"&&o.pointAtCenter,autoAdjustOverflow:oe,offset:ht.marginXXS,arrowWidth:o?ht.sizePopupArrow:0,borderRadius:ht.borderRadius}),Pn=a.useCallback(()=>{s!=null&&s.selectable&&(s!=null&&s.multiple)||(Z==null||Z(!1,{source:"menu"}),Bt(!1))},[s==null?void 0:s.selectable,s==null?void 0:s.multiple]),Kn=()=>{let Zt;return s!=null&&s.items?Zt=a.createElement(cc,Object.assign({},s)):typeof ie=="function"?Zt=ie():Zt=ie,I&&(Zt=I(Zt)),Zt=a.Children.only(typeof Zt=="string"?a.createElement("span",null,Zt):Zt),a.createElement(bo,{prefixCls:`${He}-menu`,rootClassName:q()(lt,Ne),expandIcon:a.createElement("span",{className:`${He}-menu-submenu-arrow`},ge==="rtl"?a.createElement(vl,{className:`${He}-menu-submenu-arrow-icon`}):a.createElement(Kc.Z,{className:`${He}-menu-submenu-arrow-icon`})),mode:"vertical",selectable:!1,onClick:Pn,validator:Vn=>{let{mode:Ln}=Vn}},Zt)},[_n,Fn]=(0,qt.Cn)("Dropdown",k==null?void 0:k.zIndex);let on=a.createElement(Df,Object.assign({alignPoint:_t},(0,$a.Z)(e,["rootClassName"]),{mouseEnterDelay:X,mouseLeaveDelay:ne,visible:At,builtinPlacements:Pt,arrow:!!o,overlayClassName:Gt,prefixCls:He,getPopupContainer:D||fe,transitionName:$e,trigger:wt,overlay:Kn,placement:Oe,onVisibleChange:Dt,overlayStyle:Object.assign(Object.assign(Object.assign({},xe==null?void 0:xe.style),k),{zIndex:_n})}),Tt);return _n&&(on=a.createElement(ms.Z.Provider,{value:Fn},on)),Ke(on)},Tp=(0,Iu.Z)(Rd,"align",void 0,"dropdown",e=>e),Wm=e=>a.createElement(Tp,Object.assign({},e),a.createElement("span",null));Rd._InternalPanelDoNotUseOrYouWillBeFired=Wm;var s0=Rd;const U_=e=>{let{children:t}=e;const{getPrefixCls:s}=a.useContext(ye.E_),o=s("breadcrumb");return a.createElement("li",{className:`${o}-separator`,"aria-hidden":"true"},t===""?t:t||"/")};U_.__ANT_BREADCRUMB_SEPARATOR=!0;var zv=U_,W_=function(e,t){var s={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(s[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(s[o[f]]=e[o[f]]);return s};function G_(e,t){if(e.title===void 0||e.title===null)return null;const s=Object.keys(t).join("|");return typeof e.title=="object"?e.title:String(e.title).replace(new RegExp(`:(${s})`,"g"),(o,f)=>t[f]||o)}function Nv(e,t,s,o){if(s==null)return null;const{className:f,onClick:y}=t,C=W_(t,["className","onClick"]),w=Object.assign(Object.assign({},(0,ut.Z)(C,{data:!0,aria:!0})),{onClick:y});return o!==void 0?a.createElement("a",Object.assign({},w,{className:q()(`${e}-link`,f),href:o}),s):a.createElement("span",Object.assign({},w,{className:q()(`${e}-link`,f)}),s)}function K_(e,t){return(o,f,y,C,w)=>{if(t)return t(o,f,y,C);const I=G_(o,f);return Nv(e,o,I,w)}}var l0=function(e,t){var s={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(s[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(s[o[f]]=e[o[f]]);return s};const Bv=e=>{const{prefixCls:t,separator:s="/",children:o,menu:f,overlay:y,dropdownProps:C,href:w}=e,D=(L=>{if(f||y){const z=Object.assign({},C);if(f){const k=f||{},{items:j}=k,Z=l0(k,["items"]);z.menu=Object.assign(Object.assign({},Z),{items:j==null?void 0:j.map((G,H)=>{var{key:X,title:ne,label:oe,path:ae}=G,ie=l0(G,["key","title","label","path"]);let le=oe!=null?oe:ne;return ae&&(le=a.createElement("a",{href:`${w}${ae}`},le)),Object.assign(Object.assign({},ie),{key:X!=null?X:H,label:le})})})}else y&&(z.overlay=y);return a.createElement(s0,Object.assign({placement:"bottom"},z),a.createElement("span",{className:`${t}-overlay-link`},L,a.createElement(Ku.Z,null)))}return L})(o);return D!=null?a.createElement(a.Fragment,null,a.createElement("li",null,D),s&&a.createElement(zv,null,s)):null},Fv=e=>{const{prefixCls:t,children:s,href:o}=e,f=l0(e,["prefixCls","children","href"]),{getPrefixCls:y}=a.useContext(ye.E_),C=y("breadcrumb",t);return a.createElement(Bv,Object.assign({},f,{prefixCls:C}),Nv(C,f,s,o))};Fv.__ANT_BREADCRUMB_ITEM=!0;var kv=Fv;const jf=e=>{const{componentCls:t,iconCls:s,calc:o}=e;return{[t]:Object.assign(Object.assign({},(0,Qt.Wf)(e)),{color:e.itemColor,fontSize:e.fontSize,[s]:{fontSize:e.iconFontSize},ol:{display:"flex",flexWrap:"wrap",margin:0,padding:0,listStyle:"none"},a:Object.assign({color:e.linkColor,transition:`color ${e.motionDurationMid}`,padding:`0 ${(0,he.bf)(e.paddingXXS)}`,borderRadius:e.borderRadiusSM,height:e.fontHeight,display:"inline-block",marginInline:o(e.marginXXS).mul(-1).equal(),"&:hover":{color:e.linkHoverColor,backgroundColor:e.colorBgTextHover}},(0,Qt.Qy)(e)),"li:last-child":{color:e.lastItemColor},[`${t}-separator`]:{marginInline:e.separatorMargin,color:e.separatorColor},[`${t}-link`]:{[`
          > ${s} + span,
          > ${s} + a
        `]:{marginInlineStart:e.marginXXS}},[`${t}-overlay-link`]:{borderRadius:e.borderRadiusSM,height:e.fontHeight,display:"inline-block",padding:`0 ${(0,he.bf)(e.paddingXXS)}`,marginInline:o(e.marginXXS).mul(-1).equal(),[`> ${s}`]:{marginInlineStart:e.marginXXS,fontSize:e.fontSizeIcon},"&:hover":{color:e.linkHoverColor,backgroundColor:e.colorBgTextHover,a:{color:e.linkHoverColor}},a:{"&:hover":{backgroundColor:"transparent"}}},[`&${e.componentCls}-rtl`]:{direction:"rtl"}})}},gc=e=>({itemColor:e.colorTextDescription,lastItemColor:e.colorText,iconFontSize:e.fontSize,linkColor:e.colorTextDescription,linkHoverColor:e.colorText,separatorColor:e.colorTextDescription,separatorMargin:e.marginXS});var X_=(0,te.I$)("Breadcrumb",e=>{const t=(0,ci.IX)(e,{});return jf(t)},gc),Mp=function(e,t){var s={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(s[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(s[o[f]]=e[o[f]]);return s};function Xx(e){const{breadcrumbName:t,children:s}=e,o=Mp(e,["breadcrumbName","children"]),f=Object.assign({title:t},o);return s&&(f.menu={items:s.map(y=>{var{breadcrumbName:C}=y,w=Mp(y,["breadcrumbName"]);return Object.assign(Object.assign({},w),{title:C})})}),f}function Yx(e,t){return(0,a.useMemo)(()=>e||(t?t.map(Xx):null),[e,t])}var Gm=function(e,t){var s={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(s[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(s[o[f]]=e[o[f]]);return s};const Y_=(e,t)=>{if(t===void 0)return t;let s=(t||"").replace(/^\//,"");return Object.keys(e).forEach(o=>{s=s.replace(`:${o}`,e[o])}),s},uf=e=>{const{prefixCls:t,separator:s="/",style:o,className:f,rootClassName:y,routes:C,items:w,children:I,itemRender:D,params:L={}}=e,z=Gm(e,["prefixCls","separator","style","className","rootClassName","routes","items","children","itemRender","params"]),{getPrefixCls:k,direction:j,breadcrumb:Z}=a.useContext(ye.E_);let G;const H=k("breadcrumb",t),[X,ne,oe]=X_(H),ae=Yx(w,C),ie=K_(H,D);if(ae&&ae.length>0){const me=[],ge=w||C;G=ae.map((xe,Me)=>{const{path:$e,key:Oe,type:He,menu:Ne,overlay:Ke,onClick:je,className:lt,separator:ht,dropdownProps:It}=xe,Tt=Y_(L,$e);Tt!==void 0&&me.push(Tt);const wt=Oe!=null?Oe:Me;if(He==="separator")return a.createElement(zv,{key:wt},ht);const _t={},At=Me===ae.length-1;Ne?_t.menu=Ne:Ke&&(_t.overlay=Ke);let{href:Bt}=xe;return me.length&&Tt!==void 0&&(Bt=`#/${me.join("/")}`),a.createElement(Bv,Object.assign({key:wt},_t,(0,ut.Z)(xe,{data:!0,aria:!0}),{className:lt,dropdownProps:It,href:Bt,separator:At?"":s,onClick:je,prefixCls:H}),ie(xe,L,ge,me,Bt))})}else if(I){const me=(0,Gl.Z)(I).length;G=(0,Gl.Z)(I).map((ge,xe)=>{if(!ge)return ge;const Me=xe===me-1;return(0,Cn.Tm)(ge,{separator:Me?"":s,key:xe})})}const le=q()(H,Z==null?void 0:Z.className,{[`${H}-rtl`]:j==="rtl"},f,y,ne,oe),fe=Object.assign(Object.assign({},Z==null?void 0:Z.style),o);return X(a.createElement("nav",Object.assign({className:le,style:fe},z),a.createElement("ol",null,G)))};uf.Item=kv,uf.Separator=zv;var Km=uf,qx=Km,Jx=B(16483),iu=B.n(Jx),Qx=B(92098),eC=B.n(Qx),tC=B(2845),nC=B.n(tC),Zv=B(88777),rC=B.n(Zv),Pp=B(41466),iC=B.n(Pp),ql=B(79771),c0=B.n(ql),q_=B(30156),u0=B.n(q_);iu().extend(u0()),iu().extend(c0()),iu().extend(eC()),iu().extend(nC()),iu().extend(rC()),iu().extend(iC()),iu().extend(function(e,t){var s=t.prototype,o=s.format;s.format=function(y){var C=(y||"").replace("Wo","wo");return o.bind(this)(C)}});var d0={bn_BD:"bn-bd",by_BY:"be",en_GB:"en-gb",en_US:"en",fr_BE:"fr",fr_CA:"fr-ca",hy_AM:"hy-am",kmr_IQ:"ku",nl_BE:"nl-be",pt_BR:"pt-br",zh_CN:"zh-cn",zh_HK:"zh-hk",zh_TW:"zh-tw"},nd=function(t){var s=d0[t];return s||t.split("_")[0]},jv=function(){},J_={getNow:function(){var t=iu()();return typeof t.tz=="function"?t.tz():t},getFixedDate:function(t){return iu()(t,["YYYY-M-DD","YYYY-MM-DD"])},getEndDate:function(t){return t.endOf("month")},getWeekDay:function(t){var s=t.locale("en");return s.weekday()+s.localeData().firstDayOfWeek()},getYear:function(t){return t.year()},getMonth:function(t){return t.month()},getDate:function(t){return t.date()},getHour:function(t){return t.hour()},getMinute:function(t){return t.minute()},getSecond:function(t){return t.second()},getMillisecond:function(t){return t.millisecond()},addYear:function(t,s){return t.add(s,"year")},addMonth:function(t,s){return t.add(s,"month")},addDate:function(t,s){return t.add(s,"day")},setYear:function(t,s){return t.year(s)},setMonth:function(t,s){return t.month(s)},setDate:function(t,s){return t.date(s)},setHour:function(t,s){return t.hour(s)},setMinute:function(t,s){return t.minute(s)},setSecond:function(t,s){return t.second(s)},setMillisecond:function(t,s){return t.millisecond(s)},isAfter:function(t,s){return t.isAfter(s)},isValidate:function(t){return t.isValid()},locale:{getWeekFirstDay:function(t){return iu()().locale(nd(t)).localeData().firstDayOfWeek()},getWeekFirstDate:function(t,s){return s.locale(nd(t)).weekday(0)},getWeek:function(t,s){return s.locale(nd(t)).week()},getShortWeekDays:function(t){return iu()().locale(nd(t)).localeData().weekdaysMin()},getShortMonths:function(t){return iu()().locale(nd(t)).localeData().monthsShort()},format:function(t,s,o){return s.locale(nd(t)).format(o)},parse:function(t,s,o){for(var f=nd(t),y=0;y<o.length;y+=1){var C=o[y],w=s;if(C.includes("wo")||C.includes("Wo")){for(var I=w.split("-")[0],D=w.split("-")[1],L=iu()(I,"YYYY").startOf("year").locale(f),z=0;z<=52;z+=1){var k=L.add(z,"week");if(k.format("Wo")===D)return k}return jv(),null}var j=iu()(w,C,!0).locale(f);if(j.isValid())return j}return s&&jv(),null}}},Op=J_,Ls=B(22217),cl=B(92076);function oC(e,t){return e!==void 0?e:t?"bottomRight":"bottomLeft"}var Q_=a.createContext(null),vu=Q_,Vv={bottomLeft:{points:["tl","bl"],offset:[0,4],overflow:{adjustX:1,adjustY:1}},bottomRight:{points:["tr","br"],offset:[0,4],overflow:{adjustX:1,adjustY:1}},topLeft:{points:["bl","tl"],offset:[0,-4],overflow:{adjustX:0,adjustY:1}},topRight:{points:["br","tr"],offset:[0,-4],overflow:{adjustX:0,adjustY:1}}};function Hv(e){var t=e.popupElement,s=e.popupStyle,o=e.popupClassName,f=e.popupAlign,y=e.transitionName,C=e.getPopupContainer,w=e.children,I=e.range,D=e.placement,L=e.builtinPlacements,z=L===void 0?Vv:L,k=e.direction,j=e.visible,Z=e.onClose,G=a.useContext(vu),H=G.prefixCls,X="".concat(H,"-dropdown"),ne=oC(D,k==="rtl");return a.createElement(Yu.Z,{showAction:[],hideAction:["click"],popupPlacement:ne,builtinPlacements:z,prefixCls:X,popupTransitionName:y,popup:t,popupAlign:f,popupVisible:j,popupClassName:q()(o,(0,pe.Z)((0,pe.Z)({},"".concat(X,"-range"),I),"".concat(X,"-rtl"),k==="rtl")),popupStyle:s,stretch:"minWidth",getPopupContainer:C,onPopupVisibleChange:function(ae){ae||Z()}},w)}var Uv=Hv;function f0(e,t){for(var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"0",o=String(e);o.length<t;)o="".concat(s).concat(o);return o}function Vf(e){return e==null?[]:Array.isArray(e)?e:[e]}function Rp(e,t,s){var o=(0,be.Z)(e);return o[t]=s,o}function $p(e,t){var s={},o=t||Object.keys(e);return o.forEach(function(f){e[f]!==void 0&&(s[f]=e[f])}),s}function rd(e,t,s){if(s)return s;switch(e){case"time":return t.fieldTimeFormat;case"datetime":return t.fieldDateTimeFormat;case"month":return t.fieldMonthFormat;case"year":return t.fieldYearFormat;case"quarter":return t.fieldQuarterFormat;case"week":return t.fieldWeekFormat;default:return t.fieldDateFormat}}function Wv(e,t,s){var o=s!==void 0?s:t[t.length-1],f=t.find(function(y){return e[y]});return o!==f?e[f]:void 0}function eb(e){return $p(e,["placement","builtinPlacements","popupAlign","getPopupContainer","transitionName","direction"])}function Gv(e,t,s,o){var f=a.useMemo(function(){return e||function(C,w){var I=C;return t&&w.type==="date"?t(I,w.today):s&&w.type==="month"?s(I,w.locale):w.originNode}},[e,s,t]),y=a.useCallback(function(C,w){return f(C,(0,Y.Z)((0,Y.Z)({},w),{},{range:o}))},[f,o]);return y}function tb(e,t){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],o=a.useState([!1,!1]),f=(0,Re.Z)(o,2),y=f[0],C=f[1],w=function(L,z){C(function(k){return Rp(k,z,L)})},I=a.useMemo(function(){return y.map(function(D,L){if(D)return!0;var z=e[L];return z?!!(!s[L]&&!z||z&&t(z,{activeIndex:L})):!1})},[e,y,t,s]);return[I,w]}function nb(e,t,s,o,f){var y="",C=[];return e&&C.push(f?"hh":"HH"),t&&C.push("mm"),s&&C.push("ss"),y=C.join(":"),o&&(y+=".SSS"),f&&(y+=" A"),y}function aC(e,t,s,o,f,y){var C=e.fieldDateTimeFormat,w=e.fieldDateFormat,I=e.fieldTimeFormat,D=e.fieldMonthFormat,L=e.fieldYearFormat,z=e.fieldWeekFormat,k=e.fieldQuarterFormat,j=e.yearFormat,Z=e.cellYearFormat,G=e.cellQuarterFormat,H=e.dayFormat,X=e.cellDateFormat,ne=nb(t,s,o,f,y);return(0,Y.Z)((0,Y.Z)({},e),{},{fieldDateTimeFormat:C||"YYYY-MM-DD ".concat(ne),fieldDateFormat:w||"YYYY-MM-DD",fieldTimeFormat:I||ne,fieldMonthFormat:D||"YYYY-MM",fieldYearFormat:L||"YYYY",fieldWeekFormat:z||"gggg-wo",fieldQuarterFormat:k||"YYYY-[Q]Q",yearFormat:j||"YYYY",cellYearFormat:Z||"YYYY",cellQuarterFormat:G||"[Q]Q",cellDateFormat:X||H||"D"})}function rb(e,t){var s=t.showHour,o=t.showMinute,f=t.showSecond,y=t.showMillisecond,C=t.use12Hours;return a.useMemo(function(){return aC(e,s,o,f,y,C)},[e,s,o,f,y,C])}function Xm(e,t,s){return s!=null?s:t.some(function(o){return e.includes(o)})}var Kv=["showNow","showHour","showMinute","showSecond","showMillisecond","use12Hours","hourStep","minuteStep","secondStep","millisecondStep","hideDisabledOptions","defaultValue","disabledHours","disabledMinutes","disabledSeconds","disabledMilliseconds","disabledTime","changeOnScroll","defaultOpenValue"];function ib(e){var t=$p(e,Kv),s=e.format,o=e.picker,f=null;return s&&(f=s,Array.isArray(f)&&(f=f[0]),f=(0,nt.Z)(f)==="object"?f.format:f),o==="time"&&(t.format=f),[t,f]}function Xv(e){return e&&typeof e=="string"}function Yv(e,t,s,o){return[e,t,s,o].some(function(f){return f!==void 0})}function h0(e,t,s,o,f){var y=t,C=s,w=o;if(!e&&!y&&!C&&!w&&!f)y=!0,C=!0,w=!0;else if(e){var I,D,L,z=[y,C,w].some(function(Z){return Z===!1}),k=[y,C,w].some(function(Z){return Z===!0}),j=z?!0:!k;y=(I=y)!==null&&I!==void 0?I:j,C=(D=C)!==null&&D!==void 0?D:j,w=(L=w)!==null&&L!==void 0?L:j}return[y,C,w,f]}function qv(e){var t=e.showTime,s=ib(e),o=(0,Re.Z)(s,2),f=o[0],y=o[1],C=t&&(0,nt.Z)(t)==="object"?t:{},w=(0,Y.Z)((0,Y.Z)({defaultOpenValue:C.defaultOpenValue||C.defaultValue},f),C),I=w.showMillisecond,D=w.showHour,L=w.showMinute,z=w.showSecond,k=Yv(D,L,z,I),j=h0(k,D,L,z,I),Z=(0,Re.Z)(j,3);return D=Z[0],L=Z[1],z=Z[2],[w,(0,Y.Z)((0,Y.Z)({},w),{},{showHour:D,showMinute:L,showSecond:z,showMillisecond:I}),w.format,y]}function Jv(e,t,s,o,f){var y=e==="time";if(e==="datetime"||y){for(var C=o,w=rd(e,f,null),I=w,D=[t,s],L=0;L<D.length;L+=1){var z=Vf(D[L])[0];if(Xv(z)){I=z;break}}var k=C.showHour,j=C.showMinute,Z=C.showSecond,G=C.showMillisecond,H=C.use12Hours,X=Xm(I,["a","A","LT","LLL","LTS"],H),ne=Yv(k,j,Z,G);ne||(k=Xm(I,["H","h","k","LT","LLL"]),j=Xm(I,["m","LT","LLL"]),Z=Xm(I,["s","LTS"]),G=Xm(I,["SSS"]));var oe=h0(ne,k,j,Z,G),ae=(0,Re.Z)(oe,3);k=ae[0],j=ae[1],Z=ae[2];var ie=t||nb(k,j,Z,G,X);return(0,Y.Z)((0,Y.Z)({},C),{},{format:ie,showHour:k,showMinute:j,showSecond:Z,showMillisecond:G,use12Hours:X})}return null}function p0(e,t,s){if(t===!1)return null;var o=t&&(0,nt.Z)(t)==="object"?t:{};return o.clearIcon||s||a.createElement("span",{className:"".concat(e,"-clear-btn")})}var m0=7;function df(e,t,s){return!e&&!t||e===t?!0:!e||!t?!1:s()}function g0(e,t,s){return df(t,s,function(){var o=Math.floor(e.getYear(t)/10),f=Math.floor(e.getYear(s)/10);return o===f})}function Du(e,t,s){return df(t,s,function(){return e.getYear(t)===e.getYear(s)})}function Hf(e,t){var s=Math.floor(e.getMonth(t)/3);return s+1}function ob(e,t,s){return df(t,s,function(){return Du(e,t,s)&&Hf(e,t)===Hf(e,s)})}function Ap(e,t,s){return df(t,s,function(){return Du(e,t,s)&&e.getMonth(t)===e.getMonth(s)})}function v0(e,t,s){return df(t,s,function(){return Du(e,t,s)&&Ap(e,t,s)&&e.getDate(t)===e.getDate(s)})}function Qv(e,t,s){return df(t,s,function(){return e.getHour(t)===e.getHour(s)&&e.getMinute(t)===e.getMinute(s)&&e.getSecond(t)===e.getSecond(s)})}function Ym(e,t,s){return df(t,s,function(){return v0(e,t,s)&&Qv(e,t,s)&&e.getMillisecond(t)===e.getMillisecond(s)})}function Dp(e,t,s,o){return df(s,o,function(){var f=e.locale.getWeekFirstDate(t,s),y=e.locale.getWeekFirstDate(t,o);return Du(e,f,y)&&e.locale.getWeek(t,s)===e.locale.getWeek(t,o)})}function Sc(e,t,s,o,f){switch(f){case"date":return v0(e,s,o);case"week":return Dp(e,t.locale,s,o);case"month":return Ap(e,s,o);case"quarter":return ob(e,s,o);case"year":return Du(e,s,o);case"decade":return g0(e,s,o);case"time":return Qv(e,s,o);default:return Ym(e,s,o)}}function qm(e,t,s,o){return!t||!s||!o?!1:e.isAfter(o,t)&&e.isAfter(s,o)}function Lp(e,t,s,o,f){return Sc(e,t,s,o,f)?!0:e.isAfter(s,o)}function ey(e,t,s){var o=t.locale.getWeekFirstDay(e),f=t.setDate(s,1),y=t.getWeekDay(f),C=t.addDate(f,o-y);return t.getMonth(C)===t.getMonth(s)&&t.getDate(C)>1&&(C=t.addDate(C,-7)),C}function vc(e,t){var s=t.generateConfig,o=t.locale,f=t.format;return e?typeof f=="function"?f(e):s.locale.format(o.locale,e,f):""}function y0(e,t,s){var o=t,f=["getHour","getMinute","getSecond","getMillisecond"],y=["setHour","setMinute","setSecond","setMillisecond"];return y.forEach(function(C,w){s?o=e[C](o,e[f[w]](s)):o=e[C](o,0)}),o}function ab(e,t,s,o,f){var y=(0,Ls.zX)(function(C,w){return!!(s&&s(C,w)||o&&e.isAfter(o,C)&&!Sc(e,t,o,C,w.type)||f&&e.isAfter(C,f)&&!Sc(e,t,f,C,w.type))});return y}function sb(e,t,s){return a.useMemo(function(){var o=rd(e,t,s),f=Vf(o),y=f[0],C=(0,nt.Z)(y)==="object"&&y.type==="mask"?y.format:null;return[f.map(function(w){return typeof w=="string"||typeof w=="function"?w:w.format}),C]},[e,t,s])}function lb(e,t,s){return typeof e[0]=="function"||s?!0:t}function cb(e,t,s,o){var f=(0,Ls.zX)(function(y,C){var w=(0,Y.Z)({type:t},C);if(delete w.activeIndex,!e.isValidate(y)||s&&s(y,w))return!0;if((t==="date"||t==="time")&&o){var I,D=C&&C.activeIndex===1?"end":"start",L=((I=o.disabledTime)===null||I===void 0?void 0:I.call(o,y,D,{from:w.from}))||{},z=L.disabledHours,k=L.disabledMinutes,j=L.disabledSeconds,Z=L.disabledMilliseconds,G=o.disabledHours,H=o.disabledMinutes,X=o.disabledSeconds,ne=z||G,oe=k||H,ae=j||X,ie=e.getHour(y),le=e.getMinute(y),fe=e.getSecond(y),me=e.getMillisecond(y);if(ne&&ne().includes(ie)||oe&&oe(ie).includes(le)||ae&&ae(ie,le).includes(fe)||Z&&Z(ie,le,fe).includes(me))return!0}return!1});return f}function zp(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,s=a.useMemo(function(){var o=e&&Vf(e);return t&&o&&(o[1]=o[1]||o[0]),o},[e,t]);return s}function ty(e,t){var s=e.generateConfig,o=e.locale,f=e.picker,y=f===void 0?"date":f,C=e.prefixCls,w=C===void 0?"rc-picker":C,I=e.styles,D=I===void 0?{}:I,L=e.classNames,z=L===void 0?{}:L,k=e.order,j=k===void 0?!0:k,Z=e.components,G=Z===void 0?{}:Z,H=e.inputRender,X=e.allowClear,ne=e.clearIcon,oe=e.needConfirm,ae=e.multiple,ie=e.format,le=e.inputReadOnly,fe=e.disabledDate,me=e.minDate,ge=e.maxDate,xe=e.showTime,Me=e.value,$e=e.defaultValue,Oe=e.pickerValue,He=e.defaultPickerValue,Ne=zp(Me),Ke=zp($e),je=zp(Oe),lt=zp(He),ht=y==="date"&&xe?"datetime":y,It=ht==="time"||ht==="datetime",Tt=It||ae,wt=oe!=null?oe:It,_t=qv(e),At=(0,Re.Z)(_t,4),Bt=At[0],Dt=At[1],Gt=At[2],Pt=At[3],Pn=rb(o,Dt),Kn=a.useMemo(function(){return Jv(ht,Gt,Pt,Bt,Pn)},[ht,Gt,Pt,Bt,Pn]),_n=a.useMemo(function(){return(0,Y.Z)((0,Y.Z)({},e),{},{prefixCls:w,locale:Pn,picker:y,styles:D,classNames:z,order:j,components:(0,Y.Z)({input:H},G),clearIcon:p0(w,X,ne),showTime:Kn,value:Ne,defaultValue:Ke,pickerValue:je,defaultPickerValue:lt},t==null?void 0:t())},[e]),Fn=sb(ht,Pn,ie),on=(0,Re.Z)(Fn,2),Zt=on[0],Vn=on[1],Ln=lb(Zt,le,ae),kr=ab(s,o,fe,me,ge),Sr=cb(s,y,kr,Kn),dr=a.useMemo(function(){return(0,Y.Z)((0,Y.Z)({},_n),{},{needConfirm:wt,inputReadOnly:Ln,disabledDate:kr})},[_n,wt,Ln,kr]);return[dr,ht,Tt,Zt,Vn,Sr]}function ny(e,t,s){var o=(0,Ls.C8)(t,{value:e}),f=(0,Re.Z)(o,2),y=f[0],C=f[1],w=a.useRef(e),I=a.useRef(),D=function(){We.Z.cancel(I.current)},L=(0,Ls.zX)(function(){C(w.current),s&&y!==w.current&&s(w.current)}),z=(0,Ls.zX)(function(k,j){D(),w.current=k,k||j?L():I.current=(0,We.Z)(L)});return a.useEffect(function(){return D},[]),[y,z]}function ub(e,t){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],o=arguments.length>3?arguments[3]:void 0,f=s.every(function(L){return L})?!1:e,y=ny(f,t||!1,o),C=(0,Re.Z)(y,2),w=C[0],I=C[1];function D(L){var z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};(!z.inherit||w)&&I(L,z.force)}return[w,D]}function db(e){var t=a.useRef();return a.useImperativeHandle(e,function(){var s;return{nativeElement:(s=t.current)===null||s===void 0?void 0:s.nativeElement,focus:function(f){var y;(y=t.current)===null||y===void 0||y.focus(f)},blur:function(){var f;(f=t.current)===null||f===void 0||f.blur()}}}),t}function fb(e,t){return a.useMemo(function(){return e||(t?((0,li.ZP)(!1,"`ranges` is deprecated. Please use `presets` instead."),Object.entries(t).map(function(s){var o=(0,Re.Z)(s,2),f=o[0],y=o[1];return{label:f,value:y}})):[])},[e,t])}function ry(e,t){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,o=a.useRef(t);o.current=t,(0,cl.o)(function(){if(e)o.current(e);else{var f=(0,We.Z)(function(){o.current(e)},s);return function(){We.Z.cancel(f)}}},[e])}function iy(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,o=a.useState(0),f=(0,Re.Z)(o,2),y=f[0],C=f[1],w=a.useState(!1),I=(0,Re.Z)(w,2),D=I[0],L=I[1],z=a.useRef([]),k=a.useRef(null),j=a.useRef(null),Z=function(ae){k.current=ae},G=function(ae){return k.current===ae},H=function(ae){L(ae)},X=function(ae){return ae&&(j.current=ae),j.current},ne=function(ae){var ie=z.current,le=new Set(ie.filter(function(me){return ae[me]||t[me]})),fe=ie[ie.length-1]===0?1:0;return le.size>=2||e[fe]?null:fe};return ry(D||s,function(){D||(z.current=[],Z(null))}),a.useEffect(function(){D&&z.current.push(y)},[D,y]),[D,H,X,y,C,ne,z.current,Z,G]}function Uf(e,t,s,o,f,y){var C=s[s.length-1],w=function(D,L){var z=(0,Re.Z)(e,2),k=z[0],j=z[1],Z=(0,Y.Z)((0,Y.Z)({},L),{},{from:Wv(e,s)});return C===1&&t[0]&&k&&!Sc(o,f,k,D,Z.type)&&o.isAfter(k,D)||C===0&&t[1]&&j&&!Sc(o,f,j,D,Z.type)&&o.isAfter(D,j)?!0:y==null?void 0:y(D,Z)};return w}function ff(e,t,s,o){switch(t){case"date":case"week":return e.addMonth(s,o);case"month":case"quarter":return e.addYear(s,o);case"year":return e.addYear(s,o*10);case"decade":return e.addYear(s,o*100);default:return s}}var Ah=[];function Jm(e,t,s,o,f,y,C,w){var I=arguments.length>8&&arguments[8]!==void 0?arguments[8]:Ah,D=arguments.length>9&&arguments[9]!==void 0?arguments[9]:Ah,L=arguments.length>10&&arguments[10]!==void 0?arguments[10]:Ah,z=arguments.length>11?arguments[11]:void 0,k=arguments.length>12?arguments[12]:void 0,j=arguments.length>13?arguments[13]:void 0,Z=C==="time",G=y||0,H=function(je){var lt=e.getNow();return Z&&(lt=y0(e,lt)),I[je]||s[je]||lt},X=(0,Re.Z)(D,2),ne=X[0],oe=X[1],ae=(0,Ls.C8)(function(){return H(0)},{value:ne}),ie=(0,Re.Z)(ae,2),le=ie[0],fe=ie[1],me=(0,Ls.C8)(function(){return H(1)},{value:oe}),ge=(0,Re.Z)(me,2),xe=ge[0],Me=ge[1],$e=a.useMemo(function(){var Ke=[le,xe][G];return Z?Ke:y0(e,Ke,L[G])},[Z,le,xe,G,e,L]),Oe=function(je){var lt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"panel",ht=[fe,Me][G];ht(je);var It=[le,xe];It[G]=je,z&&(!Sc(e,t,le,It[0],C)||!Sc(e,t,xe,It[1],C))&&z(It,{source:lt,range:G===1?"end":"start",mode:o})},He=function(je,lt){if(w){var ht={date:"month",week:"month",month:"year",quarter:"year"},It=ht[C];if(It&&!Sc(e,t,je,lt,It))return ff(e,C,lt,-1);if(C==="year"&&je){var Tt=Math.floor(e.getYear(je)/10),wt=Math.floor(e.getYear(lt)/10);if(Tt!==wt)return ff(e,C,lt,-1)}}return lt},Ne=a.useRef(null);return(0,cl.Z)(function(){if(f&&!I[G]){var Ke=Z?null:e.getNow();if(Ne.current!==null&&Ne.current!==G?Ke=[le,xe][G^1]:s[G]?Ke=G===0?s[0]:He(s[0],s[1]):s[G^1]&&(Ke=s[G^1]),Ke){k&&e.isAfter(k,Ke)&&(Ke=k);var je=w?ff(e,C,Ke,1):Ke;j&&e.isAfter(je,j)&&(Ke=w?ff(e,C,j,-1):j),Oe(Ke,"reset")}}},[f,G,s[G]]),a.useEffect(function(){f?Ne.current=G:Ne.current=null},[f,G]),(0,cl.Z)(function(){f&&I&&I[G]&&Oe(I[G],"reset")},[f,G]),[$e,Oe]}function Np(e,t){var s=a.useRef(e),o=a.useState({}),f=(0,Re.Z)(o,2),y=f[1],C=function(D){return D&&t!==void 0?t:s.current},w=function(D){s.current=D,y({})};return[C,w,C(!0)]}var hb=[];function oy(e,t,s){var o=function(C){return C.map(function(w){return vc(w,{generateConfig:e,locale:t,format:s[0]})})},f=function(C,w){for(var I=Math.max(C.length,w.length),D=-1,L=0;L<I;L+=1){var z=C[L]||null,k=w[L]||null;if(z!==k&&!Ym(e,z,k)){D=L;break}}return[D<0,D!==0]};return[o,f]}function ay(e,t){return(0,be.Z)(e).sort(function(s,o){return t.isAfter(s,o)?1:-1})}function pb(e){var t=Np(e),s=(0,Re.Z)(t,2),o=s[0],f=s[1],y=(0,Ls.zX)(function(){f(e)});return a.useEffect(function(){y()},[e]),[o,f]}function mb(e,t,s,o,f,y,C,w,I){var D=(0,Ls.C8)(y,{value:C}),L=(0,Re.Z)(D,2),z=L[0],k=L[1],j=z||hb,Z=pb(j),G=(0,Re.Z)(Z,2),H=G[0],X=G[1],ne=oy(e,t,s),oe=(0,Re.Z)(ne,2),ae=oe[0],ie=oe[1],le=(0,Ls.zX)(function(me){var ge=(0,be.Z)(me);if(o)for(var xe=0;xe<2;xe+=1)ge[xe]=ge[xe]||null;else f&&(ge=ay(ge.filter(function(Ke){return Ke}),e));var Me=ie(H(),ge),$e=(0,Re.Z)(Me,2),Oe=$e[0],He=$e[1];if(!Oe&&(X(ge),w)){var Ne=ae(ge);w(ge,Ne,{range:He?"end":"start"})}}),fe=function(){I&&I(H())};return[j,k,H,le,fe]}function gb(e,t,s,o,f,y,C,w,I,D){var L=e.generateConfig,z=e.locale,k=e.picker,j=e.onChange,Z=e.allowEmpty,G=e.order,H=y.some(function(Oe){return Oe})?!1:G,X=oy(L,z,C),ne=(0,Re.Z)(X,2),oe=ne[0],ae=ne[1],ie=Np(t),le=(0,Re.Z)(ie,2),fe=le[0],me=le[1],ge=(0,Ls.zX)(function(){me(t)});a.useEffect(function(){ge()},[t]);var xe=(0,Ls.zX)(function(Oe){var He=Oe===null,Ne=(0,be.Z)(Oe||fe());if(He)for(var Ke=Math.max(y.length,Ne.length),je=0;je<Ke;je+=1)y[je]||(Ne[je]=null);H&&Ne[0]&&Ne[1]&&(Ne=ay(Ne,L)),f(Ne);var lt=Ne,ht=(0,Re.Z)(lt,2),It=ht[0],Tt=ht[1],wt=!It,_t=!Tt,At=Z?(!wt||Z[0])&&(!_t||Z[1]):!0,Bt=!G||wt||_t||Sc(L,z,It,Tt,k)||L.isAfter(Tt,It),Dt=(y[0]||!It||!D(It,{activeIndex:0}))&&(y[1]||!Tt||!D(Tt,{from:It,activeIndex:1})),Gt=He||At&&Bt&&Dt;if(Gt){s(Ne);var Pt=ae(Ne,t),Pn=(0,Re.Z)(Pt,1),Kn=Pn[0];j&&!Kn&&j(He&&Ne.every(function(_n){return!_n})?null:Ne,oe(Ne))}return Gt}),Me=(0,Ls.zX)(function(Oe,He){var Ne=Rp(fe(),Oe,o()[Oe]);me(Ne),He&&xe()}),$e=!w&&!I;return ry(!$e,function(){$e&&(xe(),f(t),ge())},2),[Me,xe]}function sy(e,t,s,o,f){return t!=="date"&&t!=="time"?!1:s!==void 0?s:o!==void 0?o:!f&&(e==="date"||e==="time")}function _0(e,t,s,o,f,y){var C=e;function w(z,k,j){var Z=y[z](C),G=j.find(function(oe){return oe.value===Z});if(!G||G.disabled){var H=j.filter(function(oe){return!oe.disabled}),X=(0,be.Z)(H).reverse(),ne=X.find(function(oe){return oe.value<=Z})||H[0];ne&&(Z=ne.value,C=y[k](C,Z))}return Z}var I=w("getHour","setHour",t()),D=w("getMinute","setMinute",s(I)),L=w("getSecond","setSecond",o(I,D));return w("getMillisecond","setMillisecond",f(I,D,L)),C}function Qm(){return[]}function b0(e,t){for(var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,f=arguments.length>4&&arguments[4]!==void 0?arguments[4]:[],y=arguments.length>5&&arguments[5]!==void 0?arguments[5]:2,C=[],w=s>=1?s|0:1,I=e;I<=t;I+=w){var D=f.includes(I);(!D||!o)&&C.push({label:f0(I,y),value:I,disabled:D})}return C}function x0(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=arguments.length>2?arguments[2]:void 0,o=t||{},f=o.use12Hours,y=o.hourStep,C=y===void 0?1:y,w=o.minuteStep,I=w===void 0?1:w,D=o.secondStep,L=D===void 0?1:D,z=o.millisecondStep,k=z===void 0?100:z,j=o.hideDisabledOptions,Z=o.disabledTime,G=o.disabledHours,H=o.disabledMinutes,X=o.disabledSeconds,ne=a.useMemo(function(){return s||e.getNow()},[s,e]);if(0)var oe,ae,ie;var le=a.useCallback(function(Tt){var wt=(Z==null?void 0:Z(Tt))||{};return[wt.disabledHours||G||Qm,wt.disabledMinutes||H||Qm,wt.disabledSeconds||X||Qm,wt.disabledMilliseconds||Qm]},[Z,G,H,X]),fe=a.useMemo(function(){return le(ne)},[ne,le]),me=(0,Re.Z)(fe,4),ge=me[0],xe=me[1],Me=me[2],$e=me[3],Oe=a.useCallback(function(Tt,wt,_t,At){var Bt=b0(0,23,C,j,Tt()),Dt=f?Bt.map(function(Kn){return(0,Y.Z)((0,Y.Z)({},Kn),{},{label:f0(Kn.value%12||12,2)})}):Bt,Gt=function(_n){return b0(0,59,I,j,wt(_n))},Pt=function(_n,Fn){return b0(0,59,L,j,_t(_n,Fn))},Pn=function(_n,Fn,on){return b0(0,999,k,j,At(_n,Fn,on),3)};return[Dt,Gt,Pt,Pn]},[j,C,f,k,I,L]),He=a.useMemo(function(){return Oe(ge,xe,Me,$e)},[Oe,ge,xe,Me,$e]),Ne=(0,Re.Z)(He,4),Ke=Ne[0],je=Ne[1],lt=Ne[2],ht=Ne[3],It=function(wt,_t){var At=function(){return Ke},Bt=je,Dt=lt,Gt=ht;if(_t){var Pt=le(_t),Pn=(0,Re.Z)(Pt,4),Kn=Pn[0],_n=Pn[1],Fn=Pn[2],on=Pn[3],Zt=Oe(Kn,_n,Fn,on),Vn=(0,Re.Z)(Zt,4),Ln=Vn[0],kr=Vn[1],Sr=Vn[2],dr=Vn[3];At=function(){return Ln},Bt=kr,Dt=Sr,Gt=dr}var cr=_0(wt,At,Bt,Dt,Gt,e);return cr};return[It,Ke,je,lt,ht]}function ly(e){var t=e.mode,s=e.internalMode,o=e.renderExtraFooter,f=e.showNow,y=e.showTime,C=e.onSubmit,w=e.onNow,I=e.invalid,D=e.needConfirm,L=e.generateConfig,z=e.disabledDate,k=a.useContext(vu),j=k.prefixCls,Z=k.locale,G=k.button,H=G===void 0?"button":G,X=L.getNow(),ne=x0(L,y,X),oe=(0,Re.Z)(ne,1),ae=oe[0],ie=o==null?void 0:o(t),le=z(X,{type:t}),fe=function(){if(!le){var He=ae(X);w(He)}},me="".concat(j,"-now"),ge="".concat(me,"-btn"),xe=f&&a.createElement("li",{className:me},a.createElement("a",{className:q()(ge,le&&"".concat(ge,"-disabled")),"aria-disabled":le,onClick:fe},s==="date"?Z.today:Z.now)),Me=D&&a.createElement("li",{className:"".concat(j,"-ok")},a.createElement(H,{disabled:I,onClick:C},Z.ok)),$e=(xe||Me)&&a.createElement("ul",{className:"".concat(j,"-ranges")},xe,Me);return!ie&&!$e?null:a.createElement("div",{className:"".concat(j,"-footer")},ie&&a.createElement("div",{className:"".concat(j,"-footer-extra")},ie),$e)}function cy(e,t,s){function o(f,y){var C=f.findIndex(function(I){return Sc(e,t,I,y,s)});if(C===-1)return[].concat((0,be.Z)(f),[y]);var w=(0,be.Z)(f);return w.splice(C,1),w}return o}var Wf=a.createContext(null);function eg(){return a.useContext(Wf)}function Dh(e,t){var s=e.prefixCls,o=e.generateConfig,f=e.locale,y=e.disabledDate,C=e.minDate,w=e.maxDate,I=e.cellRender,D=e.hoverValue,L=e.hoverRangeValue,z=e.onHover,k=e.values,j=e.pickerValue,Z=e.onSelect,G=e.prevIcon,H=e.nextIcon,X=e.superPrevIcon,ne=e.superNextIcon,oe=o.getNow(),ae={now:oe,values:k,pickerValue:j,prefixCls:s,disabledDate:y,minDate:C,maxDate:w,cellRender:I,hoverValue:D,hoverRangeValue:L,onHover:z,locale:f,generateConfig:o,onSelect:Z,panelType:t,prevIcon:G,nextIcon:H,superPrevIcon:X,superNextIcon:ne};return[ae,oe]}var hf=a.createContext({});function tg(e){for(var t=e.rowNum,s=e.colNum,o=e.baseDate,f=e.getCellDate,y=e.prefixColumn,C=e.rowClassName,w=e.titleFormat,I=e.getCellText,D=e.getCellClassName,L=e.headerCells,z=e.cellSelection,k=z===void 0?!0:z,j=e.disabledDate,Z=eg(),G=Z.prefixCls,H=Z.panelType,X=Z.now,ne=Z.disabledDate,oe=Z.cellRender,ae=Z.onHover,ie=Z.hoverValue,le=Z.hoverRangeValue,fe=Z.generateConfig,me=Z.values,ge=Z.locale,xe=Z.onSelect,Me=j||ne,$e="".concat(G,"-cell"),Oe=a.useContext(hf),He=Oe.onCellDblClick,Ne=function(_t){return me.some(function(At){return At&&Sc(fe,ge,_t,At,H)})},Ke=[],je=0;je<t;je+=1){for(var lt=[],ht=void 0,It=function(){var _t=je*s+Tt,At=f(o,_t),Bt=Me==null?void 0:Me(At,{type:H});Tt===0&&(ht=At,y&&lt.push(y(ht)));var Dt=!1,Gt=!1,Pt=!1;if(k&&le){var Pn=(0,Re.Z)(le,2),Kn=Pn[0],_n=Pn[1];Dt=qm(fe,Kn,_n,At),Gt=Sc(fe,ge,At,Kn,H),Pt=Sc(fe,ge,At,_n,H)}var Fn=w?vc(At,{locale:ge,format:w,generateConfig:fe}):void 0,on=a.createElement("div",{className:"".concat($e,"-inner")},I(At));lt.push(a.createElement("td",{key:Tt,title:Fn,className:q()($e,(0,Y.Z)((0,pe.Z)((0,pe.Z)((0,pe.Z)((0,pe.Z)((0,pe.Z)((0,pe.Z)({},"".concat($e,"-disabled"),Bt),"".concat($e,"-hover"),(ie||[]).some(function(Zt){return Sc(fe,ge,At,Zt,H)})),"".concat($e,"-in-range"),Dt&&!Gt&&!Pt),"".concat($e,"-range-start"),Gt),"".concat($e,"-range-end"),Pt),"".concat(G,"-cell-selected"),!le&&H!=="week"&&Ne(At)),D(At))),onClick:function(){Bt||xe(At)},onDoubleClick:function(){!Bt&&He&&He()},onMouseEnter:function(){Bt||ae==null||ae(At)},onMouseLeave:function(){Bt||ae==null||ae(null)}},oe?oe(At,{prefixCls:G,originNode:on,today:X,type:H,locale:ge}):on))},Tt=0;Tt<s;Tt+=1)It();Ke.push(a.createElement("tr",{key:je,className:C==null?void 0:C(ht)},lt))}return a.createElement("div",{className:"".concat(G,"-body")},a.createElement("table",{className:"".concat(G,"-content")},L&&a.createElement("thead",null,a.createElement("tr",null,L)),a.createElement("tbody",null,Ke)))}var ng={visibility:"hidden"};function vb(e){var t=e.offset,s=e.superOffset,o=e.onChange,f=e.getStart,y=e.getEnd,C=e.children,w=eg(),I=w.prefixCls,D=w.prevIcon,L=D===void 0?"\u2039":D,z=w.nextIcon,k=z===void 0?"\u203A":z,j=w.superPrevIcon,Z=j===void 0?"\xAB":j,G=w.superNextIcon,H=G===void 0?"\xBB":G,X=w.minDate,ne=w.maxDate,oe=w.generateConfig,ae=w.locale,ie=w.pickerValue,le=w.panelType,fe="".concat(I,"-header"),me=a.useContext(hf),ge=me.hidePrev,xe=me.hideNext,Me=me.hideHeader,$e=a.useMemo(function(){if(!X||!t||!y)return!1;var wt=y(t(-1,ie));return!Lp(oe,ae,wt,X,le)},[X,t,ie,y,oe,ae,le]),Oe=a.useMemo(function(){if(!X||!s||!y)return!1;var wt=y(s(-1,ie));return!Lp(oe,ae,wt,X,le)},[X,s,ie,y,oe,ae,le]),He=a.useMemo(function(){if(!ne||!t||!f)return!1;var wt=f(t(1,ie));return!Lp(oe,ae,ne,wt,le)},[ne,t,ie,f,oe,ae,le]),Ne=a.useMemo(function(){if(!ne||!s||!f)return!1;var wt=f(s(1,ie));return!Lp(oe,ae,ne,wt,le)},[ne,s,ie,f,oe,ae,le]),Ke=function(_t){t&&o(t(_t,ie))},je=function(_t){s&&o(s(_t,ie))};if(Me)return null;var lt="".concat(fe,"-prev-btn"),ht="".concat(fe,"-next-btn"),It="".concat(fe,"-super-prev-btn"),Tt="".concat(fe,"-super-next-btn");return a.createElement("div",{className:fe},s&&a.createElement("button",{type:"button","aria-label":ae.previousYear,onClick:function(){return je(-1)},tabIndex:-1,className:q()(It,Oe&&"".concat(It,"-disabled")),disabled:Oe,style:ge?ng:{}},Z),t&&a.createElement("button",{type:"button","aria-label":ae.previousMonth,onClick:function(){return Ke(-1)},tabIndex:-1,className:q()(lt,$e&&"".concat(lt,"-disabled")),disabled:$e,style:ge?ng:{}},L),a.createElement("div",{className:"".concat(fe,"-view")},C),t&&a.createElement("button",{type:"button","aria-label":ae.nextMonth,onClick:function(){return Ke(1)},tabIndex:-1,className:q()(ht,He&&"".concat(ht,"-disabled")),disabled:He,style:xe?ng:{}},k),s&&a.createElement("button",{type:"button","aria-label":ae.nextYear,onClick:function(){return je(1)},tabIndex:-1,className:q()(Tt,Ne&&"".concat(Tt,"-disabled")),disabled:Ne,style:xe?ng:{}},H))}var $d=vb;function rg(e){var t=e.prefixCls,s=e.panelName,o=s===void 0?"date":s,f=e.locale,y=e.generateConfig,C=e.pickerValue,w=e.onPickerValueChange,I=e.onModeChange,D=e.mode,L=D===void 0?"date":D,z=e.disabledDate,k=e.onSelect,j=e.onHover,Z=e.showWeek,G="".concat(t,"-").concat(o,"-panel"),H="".concat(t,"-cell"),X=L==="week",ne=Dh(e,L),oe=(0,Re.Z)(ne,2),ae=oe[0],ie=oe[1],le=y.locale.getWeekFirstDay(f.locale),fe=y.setDate(C,1),me=ey(f.locale,y,fe),ge=y.getMonth(C),xe=Z===void 0?X:Z,Me=xe?function(wt){var _t=z==null?void 0:z(wt,{type:"week"});return a.createElement("td",{key:"week",className:q()(H,"".concat(H,"-week"),(0,pe.Z)({},"".concat(H,"-disabled"),_t)),onClick:function(){_t||k(wt)},onMouseEnter:function(){_t||j==null||j(wt)},onMouseLeave:function(){_t||j==null||j(null)}},a.createElement("div",{className:"".concat(H,"-inner")},y.locale.getWeek(f.locale,wt)))}:null,$e=[],Oe=f.shortWeekDays||(y.locale.getShortWeekDays?y.locale.getShortWeekDays(f.locale):[]);Me&&$e.push(a.createElement("th",{key:"empty"},a.createElement("span",{style:{width:0,height:0,position:"absolute",overflow:"hidden",opacity:0}},f.week)));for(var He=0;He<m0;He+=1)$e.push(a.createElement("th",{key:He},Oe[(He+le)%m0]));var Ne=function(_t,At){return y.addDate(_t,At)},Ke=function(_t){return vc(_t,{locale:f,format:f.cellDateFormat,generateConfig:y})},je=function(_t){var At=(0,pe.Z)((0,pe.Z)({},"".concat(t,"-cell-in-view"),Ap(y,_t,C)),"".concat(t,"-cell-today"),v0(y,_t,ie));return At},lt=f.shortMonths||(y.locale.getShortMonths?y.locale.getShortMonths(f.locale):[]),ht=a.createElement("button",{type:"button","aria-label":f.yearSelect,key:"year",onClick:function(){I("year",C)},tabIndex:-1,className:"".concat(t,"-year-btn")},vc(C,{locale:f,format:f.yearFormat,generateConfig:y})),It=a.createElement("button",{type:"button","aria-label":f.monthSelect,key:"month",onClick:function(){I("month",C)},tabIndex:-1,className:"".concat(t,"-month-btn")},f.monthFormat?vc(C,{locale:f,format:f.monthFormat,generateConfig:y}):lt[ge]),Tt=f.monthBeforeYear?[It,ht]:[ht,It];return a.createElement(Wf.Provider,{value:ae},a.createElement("div",{className:q()(G,Z&&"".concat(G,"-show-week"))},a.createElement($d,{offset:function(_t){return y.addMonth(C,_t)},superOffset:function(_t){return y.addYear(C,_t)},onChange:w,getStart:function(_t){return y.setDate(_t,1)},getEnd:function(_t){var At=y.setDate(_t,1);return At=y.addMonth(At,1),y.addDate(At,-1)}},Tt),a.createElement(tg,(0,Ge.Z)({titleFormat:f.fieldDateFormat},e,{colNum:m0,rowNum:6,baseDate:me,headerCells:$e,getCellDate:Ne,getCellText:Ke,getCellClassName:je,prefixColumn:Me,cellSelection:!X}))))}var uy=B(60900),sC=1/3;function lC(e,t){var s=a.useRef(!1),o=a.useRef(null),f=a.useRef(null),y=function(){return s.current},C=function(){We.Z.cancel(o.current),s.current=!1},w=a.useRef(),I=function(){var z=e.current;if(f.current=null,w.current=0,z){var k=z.querySelector('[data-value="'.concat(t,'"]')),j=z.querySelector("li"),Z=function G(){C(),s.current=!0,w.current+=1;var H=z.scrollTop,X=j.offsetTop,ne=k.offsetTop,oe=ne-X;if(ne===0&&k!==j||!(0,uy.Z)(z)){w.current<=5&&(o.current=(0,We.Z)(G));return}var ae=H+(oe-H)*sC,ie=Math.abs(oe-ae);if(f.current!==null&&f.current<ie){C();return}if(f.current=ie,ie<=1){z.scrollTop=oe,C();return}z.scrollTop=ae,o.current=(0,We.Z)(G)};k&&j&&Z()}},D=(0,Ls.zX)(I);return[D,C,y]}var cC=300;function uC(e){return e.map(function(t){var s=t.value,o=t.label,f=t.disabled;return[s,o,f].join(",")}).join(";")}function ig(e){var t=e.units,s=e.value,o=e.optionalValue,f=e.type,y=e.onChange,C=e.onHover,w=e.onDblClick,I=e.changeOnScroll,D=eg(),L=D.prefixCls,z=D.cellRender,k=D.now,j=D.locale,Z="".concat(L,"-time-panel"),G="".concat(L,"-time-panel-cell"),H=a.useRef(null),X=a.useRef(),ne=function(){clearTimeout(X.current)},oe=lC(H,s!=null?s:o),ae=(0,Re.Z)(oe,3),ie=ae[0],le=ae[1],fe=ae[2];(0,cl.Z)(function(){return ie(),ne(),function(){le(),ne()}},[s,o,uC(t)]);var me=function(Me){ne();var $e=Me.target;!fe()&&I&&(X.current=setTimeout(function(){var Oe=H.current,He=Oe.querySelector("li").offsetTop,Ne=Array.from(Oe.querySelectorAll("li")),Ke=Ne.map(function(Tt){return Tt.offsetTop-He}),je=Ke.map(function(Tt,wt){return t[wt].disabled?Number.MAX_SAFE_INTEGER:Math.abs(Tt-$e.scrollTop)}),lt=Math.min.apply(Math,(0,be.Z)(je)),ht=je.findIndex(function(Tt){return Tt===lt}),It=t[ht];It&&!It.disabled&&y(It.value)},cC))},ge="".concat(Z,"-column");return a.createElement("ul",{className:ge,ref:H,"data-type":f,onScroll:me},t.map(function(xe){var Me=xe.label,$e=xe.value,Oe=xe.disabled,He=a.createElement("div",{className:"".concat(G,"-inner")},Me);return a.createElement("li",{key:$e,className:q()(G,(0,pe.Z)((0,pe.Z)({},"".concat(G,"-selected"),s===$e),"".concat(G,"-disabled"),Oe)),onClick:function(){Oe||y($e)},onDoubleClick:function(){!Oe&&w&&w()},onMouseEnter:function(){C($e)},onMouseLeave:function(){C(null)},"data-value":$e},z?z($e,{prefixCls:L,originNode:He,today:k,type:"time",subType:f,locale:j}):He)}))}function Gf(e){return e<12}function dC(e){var t=e.showHour,s=e.showMinute,o=e.showSecond,f=e.showMillisecond,y=e.use12Hours,C=e.changeOnScroll,w=eg(),I=w.prefixCls,D=w.values,L=w.generateConfig,z=w.locale,k=w.onSelect,j=w.onHover,Z=j===void 0?function(){}:j,G=w.pickerValue,H=(D==null?void 0:D[0])||null,X=a.useContext(hf),ne=X.onCellDblClick,oe=x0(L,e,H),ae=(0,Re.Z)(oe,5),ie=ae[0],le=ae[1],fe=ae[2],me=ae[3],ge=ae[4],xe=function(yi){var Ui=H&&L[yi](H),xo=G&&L[yi](G);return[Ui,xo]},Me=xe("getHour"),$e=(0,Re.Z)(Me,2),Oe=$e[0],He=$e[1],Ne=xe("getMinute"),Ke=(0,Re.Z)(Ne,2),je=Ke[0],lt=Ke[1],ht=xe("getSecond"),It=(0,Re.Z)(ht,2),Tt=It[0],wt=It[1],_t=xe("getMillisecond"),At=(0,Re.Z)(_t,2),Bt=At[0],Dt=At[1],Gt=Oe===null?null:Gf(Oe)?"am":"pm",Pt=a.useMemo(function(){return y?Gf(Oe)?le.filter(function(tr){return Gf(tr.value)}):le.filter(function(tr){return!Gf(tr.value)}):le},[Oe,le,y]),Pn=function(yi,Ui){var xo,ra=yi.filter(function(Aa){return!Aa.disabled});return Ui!=null?Ui:ra==null||(xo=ra[0])===null||xo===void 0?void 0:xo.value},Kn=Pn(le,Oe),_n=a.useMemo(function(){return fe(Kn)},[fe,Kn]),Fn=Pn(_n,je),on=a.useMemo(function(){return me(Kn,Fn)},[me,Kn,Fn]),Zt=Pn(on,Tt),Vn=a.useMemo(function(){return ge(Kn,Fn,Zt)},[ge,Kn,Fn,Zt]),Ln=Pn(Vn,Bt),kr=a.useMemo(function(){if(!y)return[];var tr=L.getNow(),yi=L.setHour(tr,6),Ui=L.setHour(tr,18),xo=function(Aa,oa){var Ss=z.cellMeridiemFormat;return Ss?vc(Aa,{generateConfig:L,locale:z,format:Ss}):oa};return[{label:xo(yi,"AM"),value:"am",disabled:le.every(function(ra){return ra.disabled||!Gf(ra.value)})},{label:xo(Ui,"PM"),value:"pm",disabled:le.every(function(ra){return ra.disabled||Gf(ra.value)})}]},[le,y,L,z]),Sr=function(yi){var Ui=ie(yi);k(Ui)},dr=a.useMemo(function(){var tr=H||G||L.getNow(),yi=function(xo){return xo!=null};return yi(Oe)?(tr=L.setHour(tr,Oe),tr=L.setMinute(tr,je),tr=L.setSecond(tr,Tt),tr=L.setMillisecond(tr,Bt)):yi(He)?(tr=L.setHour(tr,He),tr=L.setMinute(tr,lt),tr=L.setSecond(tr,wt),tr=L.setMillisecond(tr,Dt)):yi(Kn)&&(tr=L.setHour(tr,Kn),tr=L.setMinute(tr,Fn),tr=L.setSecond(tr,Zt),tr=L.setMillisecond(tr,Ln)),tr},[H,G,Oe,je,Tt,Bt,Kn,Fn,Zt,Ln,He,lt,wt,Dt,L]),cr=function(yi,Ui){return yi===null?null:L[Ui](dr,yi)},Zn=function(yi){return cr(yi,"setHour")},ur=function(yi){return cr(yi,"setMinute")},ti=function(yi){return cr(yi,"setSecond")},Ei=function(yi){return cr(yi,"setMillisecond")},ki=function(yi){return yi===null?null:yi==="am"&&!Gf(Oe)?L.setHour(dr,Oe-12):yi==="pm"&&Gf(Oe)?L.setHour(dr,Oe+12):dr},qi=function(yi){Sr(Zn(yi))},Ho=function(yi){Sr(ur(yi))},Li=function(yi){Sr(ti(yi))},bi=function(yi){Sr(Ei(yi))},$i=function(yi){Sr(ki(yi))},go=function(yi){Z(Zn(yi))},Gi=function(yi){Z(ur(yi))},ko=function(yi){Z(ti(yi))},Er=function(yi){Z(Ei(yi))},Mr=function(yi){Z(ki(yi))},Zr={onDblClick:ne,changeOnScroll:C};return a.createElement("div",{className:"".concat(I,"-content")},t&&a.createElement(ig,(0,Ge.Z)({units:Pt,value:Oe,optionalValue:He,type:"hour",onChange:qi,onHover:go},Zr)),s&&a.createElement(ig,(0,Ge.Z)({units:_n,value:je,optionalValue:lt,type:"minute",onChange:Ho,onHover:Gi},Zr)),o&&a.createElement(ig,(0,Ge.Z)({units:on,value:Tt,optionalValue:wt,type:"second",onChange:Li,onHover:ko},Zr)),f&&a.createElement(ig,(0,Ge.Z)({units:Vn,value:Bt,optionalValue:Dt,type:"millisecond",onChange:bi,onHover:Er},Zr)),y&&a.createElement(ig,(0,Ge.Z)({units:kr,value:Gt,type:"meridiem",onChange:$i,onHover:Mr},Zr)))}function dy(e){var t=e.prefixCls,s=e.value,o=e.locale,f=e.generateConfig,y=e.showTime,C=y||{},w=C.format,I="".concat(t,"-time-panel"),D=Dh(e,"time"),L=(0,Re.Z)(D,1),z=L[0];return a.createElement(Wf.Provider,{value:z},a.createElement("div",{className:q()(I)},a.createElement($d,null,s?vc(s,{locale:o,format:w,generateConfig:f}):"\xA0"),a.createElement(dC,y)))}function fC(e){var t=e.prefixCls,s=e.generateConfig,o=e.showTime,f=e.onSelect,y=e.value,C=e.pickerValue,w=e.onHover,I="".concat(t,"-datetime-panel"),D=x0(s,o),L=(0,Re.Z)(D,1),z=L[0],k=function(H){return y?y0(s,H,y):y0(s,H,C)},j=function(H){w==null||w(H&&k(H))},Z=function(H){var X=k(H);f(z(X,X))};return a.createElement("div",{className:I},a.createElement(rg,(0,Ge.Z)({},e,{onSelect:Z,onHover:j})),a.createElement(dy,e))}function hC(e){var t=e.prefixCls,s=e.locale,o=e.generateConfig,f=e.pickerValue,y=e.disabledDate,C=e.onPickerValueChange,w="".concat(t,"-decade-panel"),I=Dh(e,"decade"),D=(0,Re.Z)(I,1),L=D[0],z=function(le){var fe=Math.floor(o.getYear(le)/100)*100;return o.setYear(le,fe)},k=function(le){var fe=z(le);return o.addYear(fe,99)},j=z(f),Z=k(f),G=o.addYear(j,-10),H=function(le,fe){return o.addYear(le,fe*10)},X=function(le){var fe=s.cellYearFormat,me=vc(le,{locale:s,format:fe,generateConfig:o}),ge=vc(o.addYear(le,9),{locale:s,format:fe,generateConfig:o});return"".concat(me,"-").concat(ge)},ne=function(le){return(0,pe.Z)({},"".concat(t,"-cell-in-view"),g0(o,le,j)||g0(o,le,Z)||qm(o,j,Z,le))},oe=y?function(ie,le){var fe=o.setDate(ie,1),me=o.setMonth(fe,0),ge=o.setYear(me,Math.floor(o.getYear(me)/10)*10),xe=o.addYear(ge,10),Me=o.addDate(xe,-1);return y(ge,le)&&y(Me,le)}:null,ae="".concat(vc(j,{locale:s,format:s.yearFormat,generateConfig:o}),"-").concat(vc(Z,{locale:s,format:s.yearFormat,generateConfig:o}));return a.createElement(Wf.Provider,{value:L},a.createElement("div",{className:w},a.createElement($d,{superOffset:function(le){return o.addYear(f,le*100)},onChange:C,getStart:z,getEnd:k},ae),a.createElement(tg,(0,Ge.Z)({},e,{disabledDate:oe,colNum:3,rowNum:4,baseDate:G,getCellDate:H,getCellText:X,getCellClassName:ne}))))}function pC(e){var t=e.prefixCls,s=e.locale,o=e.generateConfig,f=e.pickerValue,y=e.disabledDate,C=e.onPickerValueChange,w=e.onModeChange,I="".concat(t,"-month-panel"),D=Dh(e,"month"),L=(0,Re.Z)(D,1),z=L[0],k=o.setMonth(f,0),j=s.shortMonths||(o.locale.getShortMonths?o.locale.getShortMonths(s.locale):[]),Z=function(ae,ie){return o.addMonth(ae,ie)},G=function(ae){var ie=o.getMonth(ae);return s.monthFormat?vc(ae,{locale:s,format:s.monthFormat,generateConfig:o}):j[ie]},H=function(){return(0,pe.Z)({},"".concat(t,"-cell-in-view"),!0)},X=y?function(oe,ae){var ie=o.setDate(oe,1),le=o.setMonth(ie,o.getMonth(ie)+1),fe=o.addDate(le,-1);return y(ie,ae)&&y(fe,ae)}:null,ne=a.createElement("button",{type:"button",key:"year","aria-label":s.yearSelect,onClick:function(){w("year")},tabIndex:-1,className:"".concat(t,"-year-btn")},vc(f,{locale:s,format:s.yearFormat,generateConfig:o}));return a.createElement(Wf.Provider,{value:z},a.createElement("div",{className:I},a.createElement($d,{superOffset:function(ae){return o.addYear(f,ae)},onChange:C,getStart:function(ae){return o.setMonth(ae,0)},getEnd:function(ae){return o.setMonth(ae,11)}},ne),a.createElement(tg,(0,Ge.Z)({},e,{disabledDate:X,titleFormat:s.fieldMonthFormat,colNum:3,rowNum:4,baseDate:k,getCellDate:Z,getCellText:G,getCellClassName:H}))))}function fy(e){var t=e.prefixCls,s=e.locale,o=e.generateConfig,f=e.pickerValue,y=e.onPickerValueChange,C=e.onModeChange,w="".concat(t,"-quarter-panel"),I=Dh(e,"quarter"),D=(0,Re.Z)(I,1),L=D[0],z=o.setMonth(f,0),k=function(X,ne){return o.addMonth(X,ne*3)},j=function(X){return vc(X,{locale:s,format:s.cellQuarterFormat,generateConfig:o})},Z=function(){return(0,pe.Z)({},"".concat(t,"-cell-in-view"),!0)},G=a.createElement("button",{type:"button",key:"year","aria-label":s.yearSelect,onClick:function(){C("year")},tabIndex:-1,className:"".concat(t,"-year-btn")},vc(f,{locale:s,format:s.yearFormat,generateConfig:o}));return a.createElement(Wf.Provider,{value:L},a.createElement("div",{className:w},a.createElement($d,{superOffset:function(X){return o.addYear(f,X)},onChange:y,getStart:function(X){return o.setMonth(X,0)},getEnd:function(X){return o.setMonth(X,11)}},G),a.createElement(tg,(0,Ge.Z)({},e,{titleFormat:s.fieldQuarterFormat,colNum:4,rowNum:1,baseDate:z,getCellDate:k,getCellText:j,getCellClassName:Z}))))}function hy(e){var t=e.prefixCls,s=e.generateConfig,o=e.locale,f=e.value,y=e.hoverValue,C=e.hoverRangeValue,w=o.locale,I="".concat(t,"-week-panel-row"),D=function(z){var k={};if(C){var j=(0,Re.Z)(C,2),Z=j[0],G=j[1],H=Dp(s,w,Z,z),X=Dp(s,w,G,z);k["".concat(I,"-range-start")]=H,k["".concat(I,"-range-end")]=X,k["".concat(I,"-range-hover")]=!H&&!X&&qm(s,Z,G,z)}return y&&(k["".concat(I,"-hover")]=y.some(function(ne){return Dp(s,w,z,ne)})),q()(I,(0,pe.Z)({},"".concat(I,"-selected"),!C&&Dp(s,w,f,z)),k)};return a.createElement(rg,(0,Ge.Z)({},e,{mode:"week",panelName:"week",rowClassName:D}))}function yb(e){var t=e.prefixCls,s=e.locale,o=e.generateConfig,f=e.pickerValue,y=e.disabledDate,C=e.onPickerValueChange,w=e.onModeChange,I="".concat(t,"-year-panel"),D=Dh(e,"year"),L=(0,Re.Z)(D,1),z=L[0],k=function(fe){var me=Math.floor(o.getYear(fe)/10)*10;return o.setYear(fe,me)},j=function(fe){var me=k(fe);return o.addYear(me,9)},Z=k(f),G=j(f),H=o.addYear(Z,-1),X=function(fe,me){return o.addYear(fe,me)},ne=function(fe){return vc(fe,{locale:s,format:s.cellYearFormat,generateConfig:o})},oe=function(fe){return(0,pe.Z)({},"".concat(t,"-cell-in-view"),Du(o,fe,Z)||Du(o,fe,G)||qm(o,Z,G,fe))},ae=y?function(le,fe){var me=o.setMonth(le,0),ge=o.setDate(me,1),xe=o.addYear(ge,1),Me=o.addDate(xe,-1);return y(ge,fe)&&y(Me,fe)}:null,ie=a.createElement("button",{type:"button",key:"decade","aria-label":s.decadeSelect,onClick:function(){w("decade")},tabIndex:-1,className:"".concat(t,"-decade-btn")},vc(Z,{locale:s,format:s.yearFormat,generateConfig:o}),"-",vc(G,{locale:s,format:s.yearFormat,generateConfig:o}));return a.createElement(Wf.Provider,{value:z},a.createElement("div",{className:I},a.createElement($d,{superOffset:function(fe){return o.addYear(f,fe*10)},onChange:C,getStart:k,getEnd:j},ie),a.createElement(tg,(0,Ge.Z)({},e,{disabledDate:ae,titleFormat:s.fieldYearFormat,colNum:3,rowNum:4,baseDate:H,getCellDate:X,getCellText:ne,getCellClassName:oe}))))}var _b={date:rg,datetime:fC,week:hy,month:pC,quarter:fy,year:yb,decade:hC,time:dy};function bb(e,t){var s,o=e.locale,f=e.generateConfig,y=e.direction,C=e.prefixCls,w=e.tabIndex,I=w===void 0?0:w,D=e.multiple,L=e.defaultValue,z=e.value,k=e.onChange,j=e.onSelect,Z=e.defaultPickerValue,G=e.pickerValue,H=e.onPickerValueChange,X=e.mode,ne=e.onPanelChange,oe=e.picker,ae=oe===void 0?"date":oe,ie=e.showTime,le=e.hoverValue,fe=e.hoverRangeValue,me=e.cellRender,ge=e.dateRender,xe=e.monthCellRender,Me=e.components,$e=Me===void 0?{}:Me,Oe=e.hideHeader,He=((s=a.useContext(vu))===null||s===void 0?void 0:s.prefixCls)||C||"rc-picker",Ne=a.useRef();a.useImperativeHandle(t,function(){return{nativeElement:Ne.current}});var Ke=qv(e),je=(0,Re.Z)(Ke,4),lt=je[0],ht=je[1],It=je[2],Tt=je[3],wt=rb(o,ht),_t=ae==="date"&&ie?"datetime":ae,At=a.useMemo(function(){return Jv(_t,It,Tt,lt,wt)},[_t,It,Tt,lt,wt]),Bt=f.getNow(),Dt=(0,Ls.C8)(ae,{value:X,postState:function(Mr){return Mr||"date"}}),Gt=(0,Re.Z)(Dt,2),Pt=Gt[0],Pn=Gt[1],Kn=Pt==="date"&&At?"datetime":Pt,_n=cy(f,o,_t),Fn=(0,Ls.C8)(L,{value:z}),on=(0,Re.Z)(Fn,2),Zt=on[0],Vn=on[1],Ln=a.useMemo(function(){var Er=Vf(Zt).filter(function(Mr){return Mr});return D?Er:Er.slice(0,1)},[Zt,D]),kr=(0,Ls.zX)(function(Er){Vn(Er),k&&(Er===null||Ln.length!==Er.length||Ln.some(function(Mr,Zr){return!Sc(f,o,Mr,Er[Zr],_t)}))&&(k==null||k(D?Er:Er[0]))}),Sr=(0,Ls.zX)(function(Er){if(j==null||j(Er),Pt===ae){var Mr=D?_n(Ln,Er):[Er];kr(Mr)}}),dr=(0,Ls.C8)(Z||Ln[0]||Bt,{value:G}),cr=(0,Re.Z)(dr,2),Zn=cr[0],ur=cr[1];a.useEffect(function(){Ln[0]&&!G&&ur(Ln[0])},[Ln[0]]);var ti=function(Mr,Zr){ne==null||ne(Mr||G,Zr||Pt)},Ei=function(Mr){var Zr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;ur(Mr),H==null||H(Mr),Zr&&ti(Mr)},ki=function(Mr,Zr){Pn(Mr),Zr&&Ei(Zr),ti(Zr,Mr)},qi=function(Mr){if(Sr(Mr),Ei(Mr),Pt!==ae){var Zr=["decade","year"],tr=[].concat(Zr,["month"]),yi={quarter:[].concat(Zr,["quarter"]),week:[].concat((0,be.Z)(tr),["week"]),date:[].concat((0,be.Z)(tr),["date"])},Ui=yi[ae]||tr,xo=Ui.indexOf(Pt),ra=Ui[xo+1];ra&&ki(ra,Mr)}},Ho=a.useMemo(function(){var Er,Mr;if(Array.isArray(fe)){var Zr=(0,Re.Z)(fe,2);Er=Zr[0],Mr=Zr[1]}else Er=fe;return!Er&&!Mr?null:(Er=Er||Mr,Mr=Mr||Er,f.isAfter(Er,Mr)?[Mr,Er]:[Er,Mr])},[fe,f]),Li=Gv(me,ge,xe),bi=$e[Kn]||_b[Kn]||rg,$i=a.useContext(hf),go=a.useMemo(function(){return(0,Y.Z)((0,Y.Z)({},$i),{},{hideHeader:Oe})},[$i,Oe]),Gi="".concat(He,"-panel"),ko=$p(e,["showWeek","prevIcon","nextIcon","superPrevIcon","superNextIcon","disabledDate","minDate","maxDate","onHover"]);return a.createElement(hf.Provider,{value:go},a.createElement("div",{ref:Ne,tabIndex:I,className:q()(Gi,(0,pe.Z)({},"".concat(Gi,"-rtl"),y==="rtl"))},a.createElement(bi,(0,Ge.Z)({},ko,{showTime:At,prefixCls:He,locale:wt,generateConfig:f,onModeChange:ki,pickerValue:Zn,onPickerValueChange:function(Mr){Ei(Mr,!0)},value:Ln[0],onSelect:qi,values:Ln,cellRender:Li,hoverRangeValue:Ho,hoverValue:le}))))}var xb=a.memo(a.forwardRef(bb)),og=xb;function Cb(e){var t=e.picker,s=e.multiplePanel,o=e.pickerValue,f=e.onPickerValueChange,y=e.needConfirm,C=e.onSubmit,w=e.range,I=e.hoverValue,D=a.useContext(vu),L=D.prefixCls,z=D.generateConfig,k=a.useCallback(function(ne,oe){return ff(z,t,ne,oe)},[z,t]),j=a.useMemo(function(){return k(o,1)},[o,k]),Z=function(oe){f(k(oe,-1))},G={onCellDblClick:function(){y&&C()}},H=t==="time",X=(0,Y.Z)((0,Y.Z)({},e),{},{hoverValue:null,hoverRangeValue:null,hideHeader:H});return w?X.hoverRangeValue=I:X.hoverValue=I,s?a.createElement("div",{className:"".concat(L,"-panels")},a.createElement(hf.Provider,{value:(0,Y.Z)((0,Y.Z)({},G),{},{hideNext:!0})},a.createElement(og,X)),a.createElement(hf.Provider,{value:(0,Y.Z)((0,Y.Z)({},G),{},{hidePrev:!0})},a.createElement(og,(0,Ge.Z)({},X,{pickerValue:j,onPickerValueChange:Z})))):a.createElement(hf.Provider,{value:(0,Y.Z)({},G)},a.createElement(og,X))}function py(e){return typeof e=="function"?e():e}function Sb(e){var t=e.prefixCls,s=e.presets,o=e.onClick,f=e.onHover;return s.length?a.createElement("div",{className:"".concat(t,"-presets")},a.createElement("ul",null,s.map(function(y,C){var w=y.label,I=y.value;return a.createElement("li",{key:C,onClick:function(){o(py(I))},onMouseEnter:function(){f(py(I))},onMouseLeave:function(){f(null)}},w)}))):null}function C0(e){var t=e.panelRender,s=e.internalMode,o=e.picker,f=e.showNow,y=e.range,C=e.multiple,w=e.activeInfo,I=w===void 0?[0,0,0]:w,D=e.presets,L=e.onPresetHover,z=e.onPresetSubmit,k=e.onFocus,j=e.onBlur,Z=e.onPanelMouseDown,G=e.direction,H=e.value,X=e.onSelect,ne=e.isInvalid,oe=e.defaultOpenValue,ae=e.onOk,ie=e.onSubmit,le=a.useContext(vu),fe=le.prefixCls,me="".concat(fe,"-panel"),ge=G==="rtl",xe=a.useRef(null),Me=a.useRef(null),$e=a.useState(0),Oe=(0,Re.Z)($e,2),He=Oe[0],Ne=Oe[1],Ke=a.useState(0),je=(0,Re.Z)(Ke,2),lt=je[0],ht=je[1],It=a.useState(0),Tt=(0,Re.Z)(It,2),wt=Tt[0],_t=Tt[1],At=function(qi){qi.width&&Ne(qi.width)},Bt=(0,Re.Z)(I,3),Dt=Bt[0],Gt=Bt[1],Pt=Bt[2],Pn=a.useState(0),Kn=(0,Re.Z)(Pn,2),_n=Kn[0],Fn=Kn[1];a.useEffect(function(){Fn(10)},[Dt]),a.useEffect(function(){if(y&&Me.current){var ki,qi=((ki=xe.current)===null||ki===void 0?void 0:ki.offsetWidth)||0,Ho=Me.current.getBoundingClientRect();if(!Ho.height||Ho.right<0){Fn(function(go){return Math.max(0,go-1)});return}var Li=(ge?Gt-qi:Dt)-Ho.left;if(_t(Li),He&&He<Pt){var bi=ge?Ho.right-(Gt-qi+He):Dt+qi-Ho.left-He,$i=Math.max(0,bi);ht($i)}else ht(0)}},[_n,ge,He,Dt,Gt,Pt,y]);function on(ki){return ki.filter(function(qi){return qi})}var Zt=a.useMemo(function(){return on(Vf(H))},[H]),Vn=o==="time"&&!Zt.length,Ln=a.useMemo(function(){return Vn?on([oe]):Zt},[Vn,Zt,oe]),kr=Vn?oe:Zt,Sr=a.useMemo(function(){return Ln.length?Ln.some(function(ki){return ne(ki)}):!0},[Ln,ne]),dr=function(){Vn&&X(oe),ae(),ie()},cr=a.createElement("div",{className:"".concat(fe,"-panel-layout")},a.createElement(Sb,{prefixCls:fe,presets:D,onClick:z,onHover:L}),a.createElement("div",null,a.createElement(Cb,(0,Ge.Z)({},e,{value:kr})),a.createElement(ly,(0,Ge.Z)({},e,{showNow:C?!1:f,invalid:Sr,onSubmit:dr}))));t&&(cr=t(cr));var Zn="".concat(me,"-container"),ur="marginLeft",ti="marginRight",Ei=a.createElement("div",{onMouseDown:Z,tabIndex:-1,className:q()(Zn,"".concat(fe,"-").concat(s,"-panel-container")),style:(0,pe.Z)((0,pe.Z)({},ge?ti:ur,lt),ge?ur:ti,"auto"),onFocus:k,onBlur:j},cr);return y&&(Ei=a.createElement("div",{onMouseDown:Z,ref:Me,className:q()("".concat(fe,"-range-wrapper"),"".concat(fe,"-").concat(o,"-range-wrapper"))},a.createElement("div",{ref:xe,className:"".concat(fe,"-range-arrow"),style:{left:wt}}),a.createElement(c.Z,{onResize:At},Ei))),Ei}function my(e,t){var s=e.format,o=e.maskFormat,f=e.generateConfig,y=e.locale,C=e.preserveInvalidOnBlur,w=e.inputReadOnly,I=e.required,D=e["aria-required"],L=e.onSubmit,z=e.onFocus,k=e.onBlur,j=e.onInputChange,Z=e.onInvalid,G=e.open,H=e.onOpenChange,X=e.onKeyDown,ne=e.onChange,oe=e.activeHelp,ae=e.name,ie=e.autoComplete,le=e.id,fe=e.value,me=e.invalid,ge=e.placeholder,xe=e.disabled,Me=e.activeIndex,$e=e.allHelp,Oe=e.picker,He=function(wt,_t){var At=f.locale.parse(y.locale,wt,[_t]);return At&&f.isValidate(At)?At:null},Ne=s[0],Ke=a.useCallback(function(Tt){return vc(Tt,{locale:y,format:Ne,generateConfig:f})},[y,f,Ne]),je=a.useMemo(function(){return fe.map(Ke)},[fe,Ke]),lt=a.useMemo(function(){var Tt=Oe==="time"?8:10,wt=typeof Ne=="function"?Ne(f.getNow()).length:Ne.length;return Math.max(Tt,wt)+2},[Ne,Oe,f]),ht=function(wt){for(var _t=0;_t<s.length;_t+=1){var At=s[_t];if(typeof At=="string"){var Bt=He(wt,At);if(Bt)return Bt}}return!1},It=function(wt){function _t(Dt){return wt!==void 0?Dt[wt]:Dt}var At=(0,ut.Z)(e,{aria:!0,data:!0}),Bt=(0,Y.Z)((0,Y.Z)({},At),{},{format:o,validateFormat:function(Gt){return!!ht(Gt)},preserveInvalidOnBlur:C,readOnly:w,required:I,"aria-required":D,name:ae,autoComplete:ie,size:lt,id:_t(le),value:_t(je)||"",invalid:_t(me),placeholder:_t(ge),active:Me===wt,helped:$e||oe&&Me===wt,disabled:_t(xe),onFocus:function(Gt){z(Gt,wt)},onBlur:function(Gt){k(Gt,wt)},onSubmit:L,onChange:function(Gt){j();var Pt=ht(Gt);if(Pt){Z(!1,wt),ne(Pt,wt);return}Z(!!Gt,wt)},onHelp:function(){H(!0,{index:wt})},onKeyDown:function(Gt){var Pt=!1;if(X==null||X(Gt,function(){Pt=!0}),!Gt.defaultPrevented&&!Pt)switch(Gt.key){case"Escape":H(!1,{index:wt});break;case"Enter":G||H(!0);break}}},t==null?void 0:t({valueTexts:je}));return Object.keys(Bt).forEach(function(Dt){Bt[Dt]===void 0&&delete Bt[Dt]}),Bt};return[It,Ke]}var mC=["onMouseEnter","onMouseLeave"];function Bp(e){return a.useMemo(function(){return $p(e,mC)},[e])}var wb=["icon","type"],gC=["onClear"];function S0(e){var t=e.icon,s=e.type,o=(0,de.Z)(e,wb),f=a.useContext(vu),y=f.prefixCls;return t?a.createElement("span",(0,Ge.Z)({className:"".concat(y,"-").concat(s)},o),t):null}function gy(e){var t=e.onClear,s=(0,de.Z)(e,gC);return a.createElement(S0,(0,Ge.Z)({},s,{type:"clear",role:"button",onMouseDown:function(f){f.preventDefault()},onClick:function(f){f.stopPropagation(),t()}}))}var vy=["YYYY","MM","DD","HH","mm","ss","SSS"],Eb="\u9867",vC=function(){function e(t){(0,Dn.Z)(this,e),(0,pe.Z)(this,"format",void 0),(0,pe.Z)(this,"maskFormat",void 0),(0,pe.Z)(this,"cells",void 0),(0,pe.Z)(this,"maskCells",void 0),this.format=t;var s=vy.map(function(w){return"(".concat(w,")")}).join("|"),o=new RegExp(s,"g");this.maskFormat=t.replace(o,function(w){return Eb.repeat(w.length)});var f=new RegExp("(".concat(vy.join("|"),")")),y=(t.split(f)||[]).filter(function(w){return w}),C=0;this.cells=y.map(function(w){var I=vy.includes(w),D=C,L=C+w.length;return C=L,{text:w,mask:I,start:D,end:L}}),this.maskCells=this.cells.filter(function(w){return w.mask})}return(0,pn.Z)(e,[{key:"getSelection",value:function(s){var o=this.maskCells[s]||{},f=o.start,y=o.end;return[f||0,y||0]}},{key:"match",value:function(s){for(var o=0;o<this.maskFormat.length;o+=1){var f=this.maskFormat[o],y=s[o];if(!y||f!==Eb&&f!==y)return!1}return!0}},{key:"size",value:function(){return this.maskCells.length}},{key:"getMaskCellIndex",value:function(s){for(var o=Number.MAX_SAFE_INTEGER,f=0,y=0;y<this.maskCells.length;y+=1){var C=this.maskCells[y],w=C.start,I=C.end;if(s>=w&&s<=I)return y;var D=Math.min(Math.abs(s-w),Math.abs(s-I));D<o&&(o=D,f=y)}return f}}]),e}();function yC(e){var t={YYYY:[0,9999,new Date().getFullYear()],MM:[1,12],DD:[1,31],HH:[0,23],mm:[0,59],ss:[0,59],SSS:[0,999]};return t[e]}var Ib=["active","showActiveCls","suffixIcon","format","validateFormat","onChange","onInput","helped","onHelp","onSubmit","onKeyDown","preserveInvalidOnBlur","invalid","clearIcon"],_C=a.forwardRef(function(e,t){var s=e.active,o=e.showActiveCls,f=o===void 0?!0:o,y=e.suffixIcon,C=e.format,w=e.validateFormat,I=e.onChange,D=e.onInput,L=e.helped,z=e.onHelp,k=e.onSubmit,j=e.onKeyDown,Z=e.preserveInvalidOnBlur,G=Z===void 0?!1:Z,H=e.invalid,X=e.clearIcon,ne=(0,de.Z)(e,Ib),oe=e.value,ae=e.onFocus,ie=e.onBlur,le=e.onMouseUp,fe=a.useContext(vu),me=fe.prefixCls,ge=fe.input,xe=ge===void 0?"input":ge,Me="".concat(me,"-input"),$e=a.useState(!1),Oe=(0,Re.Z)($e,2),He=Oe[0],Ne=Oe[1],Ke=a.useState(oe),je=(0,Re.Z)(Ke,2),lt=je[0],ht=je[1],It=a.useState(""),Tt=(0,Re.Z)(It,2),wt=Tt[0],_t=Tt[1],At=a.useState(null),Bt=(0,Re.Z)(At,2),Dt=Bt[0],Gt=Bt[1],Pt=a.useState(null),Pn=(0,Re.Z)(Pt,2),Kn=Pn[0],_n=Pn[1],Fn=lt||"";a.useEffect(function(){ht(oe)},[oe]);var on=a.useRef(),Zt=a.useRef();a.useImperativeHandle(t,function(){return{nativeElement:on.current,inputElement:Zt.current,focus:function(Mr){Zt.current.focus(Mr)},blur:function(){Zt.current.blur()}}});var Vn=a.useMemo(function(){return new vC(C||"")},[C]),Ln=a.useMemo(function(){return L?[0,0]:Vn.getSelection(Dt)},[Vn,Dt,L]),kr=(0,Re.Z)(Ln,2),Sr=kr[0],dr=kr[1],cr=function(Mr){Mr&&Mr!==C&&Mr!==oe&&z()},Zn=(0,Ls.zX)(function(Er){w(Er)&&I(Er),ht(Er),cr(Er)}),ur=function(Mr){if(!C){var Zr=Mr.target.value;cr(Zr),ht(Zr),I(Zr)}},ti=function(Mr){var Zr=Mr.clipboardData.getData("text");w(Zr)&&Zn(Zr)},Ei=a.useRef(!1),ki=function(){Ei.current=!0},qi=function(Mr){var Zr=Mr.target,tr=Zr.selectionStart,yi=Vn.getMaskCellIndex(tr);Gt(yi),_n({}),le==null||le(Mr),Ei.current=!1},Ho=function(Mr){Ne(!0),Gt(0),_t(""),ae(Mr)},Li=function(Mr){ie(Mr)},bi=function(Mr){Ne(!1),Li(Mr)};ry(s,function(){!s&&!G&&ht(oe)});var $i=function(Mr){Mr.key==="Enter"&&w(Fn)&&k(),j==null||j(Mr)},go=function(Mr){$i(Mr);var Zr=Mr.key,tr=null,yi=null,Ui=dr-Sr,xo=C.slice(Sr,dr),ra=function(Va){Gt(function(Ga){var _a=Ga+Va;return _a=Math.max(_a,0),_a=Math.min(_a,Vn.size()-1),_a})},Aa=function(Va){var Ga=yC(xo),_a=(0,Re.Z)(Ga,3),ns=_a[0],zs=_a[1],Do=_a[2],na=Fn.slice(Sr,dr),Ra=Number(na);if(isNaN(Ra))return String(Do||(Va>0?ns:zs));var Ka=Ra+Va,ls=zs-ns+1;return String(ns+(ls+Ka-ns)%ls)};switch(Zr){case"Backspace":case"Delete":tr="",yi=xo;break;case"ArrowLeft":tr="",ra(-1);break;case"ArrowRight":tr="",ra(1);break;case"ArrowUp":tr="",yi=Aa(1);break;case"ArrowDown":tr="",yi=Aa(-1);break;default:isNaN(Number(Zr))||(tr=wt+Zr,yi=tr);break}if(tr!==null&&(_t(tr),tr.length>=Ui&&(ra(1),_t(""))),yi!==null){var oa=Fn.slice(0,Sr)+f0(yi,Ui)+Fn.slice(dr);Zn(oa.slice(0,C.length))}_n({})},Gi=a.useRef();(0,cl.Z)(function(){if(!(!He||!C||Ei.current)){if(!Vn.match(Fn)){Zn(C);return}return Zt.current.setSelectionRange(Sr,dr),Gi.current=(0,We.Z)(function(){Zt.current.setSelectionRange(Sr,dr)}),function(){We.Z.cancel(Gi.current)}}},[Vn,C,He,Fn,Dt,Sr,dr,Kn,Zn]);var ko=C?{onFocus:Ho,onBlur:bi,onKeyDown:go,onMouseDown:ki,onMouseUp:qi,onPaste:ti}:{};return a.createElement("div",{ref:on,className:q()(Me,(0,pe.Z)((0,pe.Z)({},"".concat(Me,"-active"),s&&f),"".concat(Me,"-placeholder"),L))},a.createElement(xe,(0,Ge.Z)({ref:Zt,"aria-invalid":H,autoComplete:"off"},ne,{onKeyDown:$i,onBlur:Li},ko,{value:Fn,onChange:ur})),a.createElement(S0,{type:"suffix",icon:y}),X)}),uc=_C,id=["id","prefix","clearIcon","suffixIcon","separator","activeIndex","activeHelp","allHelp","focused","onFocus","onBlur","onKeyDown","locale","generateConfig","placeholder","className","style","onClick","onClear","value","onChange","onSubmit","onInputChange","format","maskFormat","preserveInvalidOnBlur","onInvalid","disabled","invalid","inputReadOnly","direction","onOpenChange","onActiveInfo","placement","onMouseDown","required","aria-required","autoFocus","tabIndex"],yy=["index"];function _y(e,t){var s=e.id,o=e.prefix,f=e.clearIcon,y=e.suffixIcon,C=e.separator,w=C===void 0?"~":C,I=e.activeIndex,D=e.activeHelp,L=e.allHelp,z=e.focused,k=e.onFocus,j=e.onBlur,Z=e.onKeyDown,G=e.locale,H=e.generateConfig,X=e.placeholder,ne=e.className,oe=e.style,ae=e.onClick,ie=e.onClear,le=e.value,fe=e.onChange,me=e.onSubmit,ge=e.onInputChange,xe=e.format,Me=e.maskFormat,$e=e.preserveInvalidOnBlur,Oe=e.onInvalid,He=e.disabled,Ne=e.invalid,Ke=e.inputReadOnly,je=e.direction,lt=e.onOpenChange,ht=e.onActiveInfo,It=e.placement,Tt=e.onMouseDown,wt=e.required,_t=e["aria-required"],At=e.autoFocus,Bt=e.tabIndex,Dt=(0,de.Z)(e,id),Gt=je==="rtl",Pt=a.useContext(vu),Pn=Pt.prefixCls,Kn=a.useMemo(function(){if(typeof s=="string")return[s];var Li=s||{};return[Li.start,Li.end]},[s]),_n=a.useRef(),Fn=a.useRef(),on=a.useRef(),Zt=function(bi){var $i;return($i=[Fn,on][bi])===null||$i===void 0?void 0:$i.current};a.useImperativeHandle(t,function(){return{nativeElement:_n.current,focus:function(bi){if((0,nt.Z)(bi)==="object"){var $i,go=bi||{},Gi=go.index,ko=Gi===void 0?0:Gi,Er=(0,de.Z)(go,yy);($i=Zt(ko))===null||$i===void 0||$i.focus(Er)}else{var Mr;(Mr=Zt(bi!=null?bi:0))===null||Mr===void 0||Mr.focus()}},blur:function(){var bi,$i;(bi=Zt(0))===null||bi===void 0||bi.blur(),($i=Zt(1))===null||$i===void 0||$i.blur()}}});var Vn=Bp(Dt),Ln=a.useMemo(function(){return Array.isArray(X)?X:[X,X]},[X]),kr=my((0,Y.Z)((0,Y.Z)({},e),{},{id:Kn,placeholder:Ln})),Sr=(0,Re.Z)(kr,1),dr=Sr[0],cr=a.useState({position:"absolute",width:0}),Zn=(0,Re.Z)(cr,2),ur=Zn[0],ti=Zn[1],Ei=(0,Ls.zX)(function(){var Li=Zt(I);if(Li){var bi=Li.nativeElement.getBoundingClientRect(),$i=_n.current.getBoundingClientRect(),go=bi.left-$i.left;ti(function(Gi){return(0,Y.Z)((0,Y.Z)({},Gi),{},{width:bi.width,left:go})}),ht([bi.left,bi.right,$i.width])}});a.useEffect(function(){Ei()},[I]);var ki=f&&(le[0]&&!He[0]||le[1]&&!He[1]),qi=At&&!He[0],Ho=At&&!qi&&!He[1];return a.createElement(c.Z,{onResize:Ei},a.createElement("div",(0,Ge.Z)({},Vn,{className:q()(Pn,"".concat(Pn,"-range"),(0,pe.Z)((0,pe.Z)((0,pe.Z)((0,pe.Z)({},"".concat(Pn,"-focused"),z),"".concat(Pn,"-disabled"),He.every(function(Li){return Li})),"".concat(Pn,"-invalid"),Ne.some(function(Li){return Li})),"".concat(Pn,"-rtl"),Gt),ne),style:oe,ref:_n,onClick:ae,onMouseDown:function(bi){var $i=bi.target;$i!==Fn.current.inputElement&&$i!==on.current.inputElement&&bi.preventDefault(),Tt==null||Tt(bi)}}),o&&a.createElement("div",{className:"".concat(Pn,"-prefix")},o),a.createElement(uc,(0,Ge.Z)({ref:Fn},dr(0),{autoFocus:qi,tabIndex:Bt,"date-range":"start"})),a.createElement("div",{className:"".concat(Pn,"-range-separator")},w),a.createElement(uc,(0,Ge.Z)({ref:on},dr(1),{autoFocus:Ho,tabIndex:Bt,"date-range":"end"})),a.createElement("div",{className:"".concat(Pn,"-active-bar"),style:ur}),a.createElement(S0,{type:"suffix",icon:y}),ki&&a.createElement(gy,{icon:f,onClear:ie})))}var w0=a.forwardRef(_y),Fp=w0;function Tb(e,t){var s=e!=null?e:t;return Array.isArray(s)?s:[s,s]}function E0(e){return e===1?"end":"start"}function ag(e,t){var s=ty(e,function(){var ha=e.disabled,Ba=e.allowEmpty,ps=Tb(ha,!1),Bs=Tb(Ba,!1);return{disabled:ps,allowEmpty:Bs}}),o=(0,Re.Z)(s,6),f=o[0],y=o[1],C=o[2],w=o[3],I=o[4],D=o[5],L=f.prefixCls,z=f.styles,k=f.classNames,j=f.defaultValue,Z=f.value,G=f.needConfirm,H=f.onKeyDown,X=f.disabled,ne=f.allowEmpty,oe=f.disabledDate,ae=f.minDate,ie=f.maxDate,le=f.defaultOpen,fe=f.open,me=f.onOpenChange,ge=f.locale,xe=f.generateConfig,Me=f.picker,$e=f.showNow,Oe=f.showToday,He=f.showTime,Ne=f.mode,Ke=f.onPanelChange,je=f.onCalendarChange,lt=f.onOk,ht=f.defaultPickerValue,It=f.pickerValue,Tt=f.onPickerValueChange,wt=f.inputReadOnly,_t=f.suffixIcon,At=f.onFocus,Bt=f.onBlur,Dt=f.presets,Gt=f.ranges,Pt=f.components,Pn=f.cellRender,Kn=f.dateRender,_n=f.monthCellRender,Fn=f.onClick,on=db(t),Zt=ub(fe,le,X,me),Vn=(0,Re.Z)(Zt,2),Ln=Vn[0],kr=Vn[1],Sr=function(Ba,ps){(X.some(function(Bs){return!Bs})||!Ba)&&kr(Ba,ps)},dr=mb(xe,ge,w,!0,!1,j,Z,je,lt),cr=(0,Re.Z)(dr,5),Zn=cr[0],ur=cr[1],ti=cr[2],Ei=cr[3],ki=cr[4],qi=ti(),Ho=iy(X,ne,Ln),Li=(0,Re.Z)(Ho,9),bi=Li[0],$i=Li[1],go=Li[2],Gi=Li[3],ko=Li[4],Er=Li[5],Mr=Li[6],Zr=Li[7],tr=Li[8],yi=function(Ba,ps){$i(!0),At==null||At(Ba,{range:E0(ps!=null?ps:Gi)})},Ui=function(Ba,ps){$i(!1),Bt==null||Bt(Ba,{range:E0(ps!=null?ps:Gi)})},xo=a.useMemo(function(){if(!He)return null;var ha=He.disabledTime,Ba=ha?function(ps){var Bs=E0(Gi),oc=Wv(qi,Mr,Gi);return ha(ps,Bs,{from:oc})}:void 0;return(0,Y.Z)((0,Y.Z)({},He),{},{disabledTime:Ba})},[He,Gi,qi,Mr]),ra=(0,Ls.C8)([Me,Me],{value:Ne}),Aa=(0,Re.Z)(ra,2),oa=Aa[0],Ss=Aa[1],Va=oa[Gi]||Me,Ga=Va==="date"&&xo?"datetime":Va,_a=Ga===Me&&Ga!=="time",ns=sy(Me,Va,$e,Oe,!0),zs=gb(f,Zn,ur,ti,Ei,X,w,bi,Ln,D),Do=(0,Re.Z)(zs,2),na=Do[0],Ra=Do[1],Ka=Uf(qi,X,Mr,xe,ge,oe),ls=tb(qi,D,ne),ll=(0,Re.Z)(ls,2),Pl=ll[0],bl=ll[1],Zl=Jm(xe,ge,qi,oa,Ln,Gi,y,_a,ht,It,xo==null?void 0:xo.defaultOpenValue,Tt,ae,ie),pa=(0,Re.Z)(Zl,2),Jo=pa[0],Qo=pa[1],Wo=(0,Ls.zX)(function(ha,Ba,ps){var Bs=Rp(oa,Gi,Ba);if((Bs[0]!==oa[0]||Bs[1]!==oa[1])&&Ss(Bs),Ke&&ps!==!1){var oc=(0,be.Z)(qi);ha&&(oc[Gi]=ha),Ke(oc,Bs)}}),cs=function(Ba,ps){return Rp(qi,ps,Ba)},Ns=function(Ba,ps){var Bs=qi;Ba&&(Bs=cs(Ba,Gi)),Zr(Gi);var oc=Er(Bs);Ei(Bs),na(Gi,oc===null),oc===null?Sr(!1,{force:!0}):ps||on.current.focus({index:oc})},Za=function(Ba){var ps,Bs=Ba.target.getRootNode();if(!on.current.nativeElement.contains((ps=Bs.activeElement)!==null&&ps!==void 0?ps:document.activeElement)){var oc=X.findIndex(function(Qh){return!Qh});oc>=0&&on.current.focus({index:oc})}Sr(!0),Fn==null||Fn(Ba)},Ea=function(){Ra(null),Sr(!1,{force:!0})},vs=a.useState(null),ys=(0,Re.Z)(vs,2),qs=ys[0],Ca=ys[1],Go=a.useState(null),Da=(0,Re.Z)(Go,2),ds=Da[0],ks=Da[1],Js=a.useMemo(function(){return ds||qi},[qi,ds]);a.useEffect(function(){Ln||ks(null)},[Ln]);var Jl=a.useState([0,0,0]),Qs=(0,Re.Z)(Jl,2),La=Qs[0],us=Qs[1],ws=fb(Dt,Gt),Ol=function(Ba){ks(Ba),Ca("preset")},Zu=function(Ba){var ps=Ra(Ba);ps&&Sr(!1,{force:!0})},Yh=function(Ba){Ns(Ba)},mm=function(Ba){ks(Ba?cs(Ba,Gi):null),Ca("cell")},gm=function(Ba){Sr(!0),yi(Ba)},ah=function(){go("panel")},qh=function(Ba){var ps=Rp(qi,Gi,Ba);Ei(ps),!G&&!C&&y===Ga&&Ns(Ba)},Jh=function(){Sr(!1)},vm=Gv(Pn,Kn,_n,E0(Gi)),Il=qi[Gi]||null,el=(0,Ls.zX)(function(ha){return D(ha,{activeIndex:Gi})}),Ta=a.useMemo(function(){var ha=(0,ut.Z)(f,!1),Ba=(0,$a.Z)(f,[].concat((0,be.Z)(Object.keys(ha)),["onChange","onCalendarChange","style","className","onPanelChange","disabledTime"]));return Ba},[f]),Ha=a.createElement(C0,(0,Ge.Z)({},Ta,{showNow:ns,showTime:xo,range:!0,multiplePanel:_a,activeInfo:La,disabledDate:Ka,onFocus:gm,onBlur:Ui,onPanelMouseDown:ah,picker:Me,mode:Va,internalMode:Ga,onPanelChange:Wo,format:I,value:Il,isInvalid:el,onChange:null,onSelect:qh,pickerValue:Jo,defaultOpenValue:Vf(He==null?void 0:He.defaultOpenValue)[Gi],onPickerValueChange:Qo,hoverValue:Js,onHover:mm,needConfirm:G,onSubmit:Ns,onOk:ki,presets:ws,onPresetHover:Ol,onPresetSubmit:Zu,onNow:Yh,cellRender:vm})),fl=function(Ba,ps){var Bs=cs(Ba,ps);Ei(Bs)},Lc=function(){go("input")},bf=function(Ba,ps){var Bs=Mr.length,oc=Mr[Bs-1];if(Bs&&oc!==ps&&G&&!ne[oc]&&!tr(oc)&&qi[oc]){on.current.focus({index:oc});return}go("input"),Sr(!0,{inherit:!0}),Gi!==ps&&Ln&&!G&&C&&Ns(null,!0),ko(ps),yi(Ba,ps)},jg=function(Ba,ps){if(Sr(!1),!G&&go()==="input"){var Bs=Er(qi);na(Gi,Bs===null)}Ui(Ba,ps)},Vg=function(Ba,ps){Ba.key==="Tab"&&Ns(null,!0),H==null||H(Ba,ps)},Tv=a.useMemo(function(){return{prefixCls:L,locale:ge,generateConfig:xe,button:Pt.button,input:Pt.input}},[L,ge,xe,Pt.button,Pt.input]);if((0,cl.Z)(function(){Ln&&Gi!==void 0&&Wo(null,Me,!1)},[Ln,Gi,Me]),(0,cl.Z)(function(){var ha=go();!Ln&&ha==="input"&&(Sr(!1),Ns(null,!0)),!Ln&&C&&!G&&ha==="panel"&&(Sr(!0),Ns())},[Ln]),0)var Es;return a.createElement(vu.Provider,{value:Tv},a.createElement(Uv,(0,Ge.Z)({},eb(f),{popupElement:Ha,popupStyle:z.popup,popupClassName:k.popup,visible:Ln,onClose:Jh,range:!0}),a.createElement(Fp,(0,Ge.Z)({},f,{ref:on,suffixIcon:_t,activeIndex:bi||Ln?Gi:null,activeHelp:!!ds,allHelp:!!ds&&qs==="preset",focused:bi,onFocus:bf,onBlur:jg,onKeyDown:Vg,onSubmit:Ns,value:Js,maskFormat:I,onChange:fl,onInputChange:Lc,format:w,inputReadOnly:wt,disabled:X,open:Ln,onOpenChange:Sr,onClick:Za,onClear:Ea,invalid:Pl,onInvalid:bl,onActiveInfo:us}))))}var bC=a.forwardRef(ag),xC=bC;function Mb(e){var t=e.prefixCls,s=e.value,o=e.onRemove,f=e.removeIcon,y=f===void 0?"\xD7":f,C=e.formatDate,w=e.disabled,I=e.maxTagCount,D=e.placeholder,L="".concat(t,"-selector"),z="".concat(t,"-selection"),k="".concat(z,"-overflow");function j(H,X){return a.createElement("span",{className:q()("".concat(z,"-item")),title:typeof H=="string"?H:null},a.createElement("span",{className:"".concat(z,"-item-content")},H),!w&&X&&a.createElement("span",{onMouseDown:function(oe){oe.preventDefault()},onClick:X,className:"".concat(z,"-item-remove")},y))}function Z(H){var X=C(H),ne=function(ae){ae&&ae.stopPropagation(),o(H)};return j(X,ne)}function G(H){var X="+ ".concat(H.length," ...");return j(X)}return a.createElement("div",{className:L},a.createElement(pu.Z,{prefixCls:k,data:s,renderItem:Z,renderRest:G,itemKey:function(X){return C(X)},maxCount:I}),!s.length&&a.createElement("span",{className:"".concat(t,"-selection-placeholder")},D))}var by=["id","open","prefix","clearIcon","suffixIcon","activeHelp","allHelp","focused","onFocus","onBlur","onKeyDown","locale","generateConfig","placeholder","className","style","onClick","onClear","internalPicker","value","onChange","onSubmit","onInputChange","multiple","maxTagCount","format","maskFormat","preserveInvalidOnBlur","onInvalid","disabled","invalid","inputReadOnly","direction","onOpenChange","onMouseDown","required","aria-required","autoFocus","tabIndex","removeIcon"];function Pb(e,t){var s=e.id,o=e.open,f=e.prefix,y=e.clearIcon,C=e.suffixIcon,w=e.activeHelp,I=e.allHelp,D=e.focused,L=e.onFocus,z=e.onBlur,k=e.onKeyDown,j=e.locale,Z=e.generateConfig,G=e.placeholder,H=e.className,X=e.style,ne=e.onClick,oe=e.onClear,ae=e.internalPicker,ie=e.value,le=e.onChange,fe=e.onSubmit,me=e.onInputChange,ge=e.multiple,xe=e.maxTagCount,Me=e.format,$e=e.maskFormat,Oe=e.preserveInvalidOnBlur,He=e.onInvalid,Ne=e.disabled,Ke=e.invalid,je=e.inputReadOnly,lt=e.direction,ht=e.onOpenChange,It=e.onMouseDown,Tt=e.required,wt=e["aria-required"],_t=e.autoFocus,At=e.tabIndex,Bt=e.removeIcon,Dt=(0,de.Z)(e,by),Gt=lt==="rtl",Pt=a.useContext(vu),Pn=Pt.prefixCls,Kn=a.useRef(),_n=a.useRef();a.useImperativeHandle(t,function(){return{nativeElement:Kn.current,focus:function(ur){var ti;(ti=_n.current)===null||ti===void 0||ti.focus(ur)},blur:function(){var ur;(ur=_n.current)===null||ur===void 0||ur.blur()}}});var Fn=Bp(Dt),on=function(ur){le([ur])},Zt=function(ur){var ti=ie.filter(function(Ei){return Ei&&!Sc(Z,j,Ei,ur,ae)});le(ti),o||fe()},Vn=my((0,Y.Z)((0,Y.Z)({},e),{},{onChange:on}),function(Zn){var ur=Zn.valueTexts;return{value:ur[0]||"",active:D}}),Ln=(0,Re.Z)(Vn,2),kr=Ln[0],Sr=Ln[1],dr=!!(y&&ie.length&&!Ne),cr=ge?a.createElement(a.Fragment,null,a.createElement(Mb,{prefixCls:Pn,value:ie,onRemove:Zt,formatDate:Sr,maxTagCount:xe,disabled:Ne,removeIcon:Bt,placeholder:G}),a.createElement("input",{className:"".concat(Pn,"-multiple-input"),value:ie.map(Sr).join(","),ref:_n,readOnly:!0,autoFocus:_t,tabIndex:At}),a.createElement(S0,{type:"suffix",icon:C}),dr&&a.createElement(gy,{icon:y,onClear:oe})):a.createElement(uc,(0,Ge.Z)({ref:_n},kr(),{autoFocus:_t,tabIndex:At,suffixIcon:C,clearIcon:dr&&a.createElement(gy,{icon:y,onClear:oe}),showActiveCls:!1}));return a.createElement("div",(0,Ge.Z)({},Fn,{className:q()(Pn,(0,pe.Z)((0,pe.Z)((0,pe.Z)((0,pe.Z)((0,pe.Z)({},"".concat(Pn,"-multiple"),ge),"".concat(Pn,"-focused"),D),"".concat(Pn,"-disabled"),Ne),"".concat(Pn,"-invalid"),Ke),"".concat(Pn,"-rtl"),Gt),H),style:X,ref:Kn,onClick:ne,onMouseDown:function(ur){var ti,Ei=ur.target;Ei!==((ti=_n.current)===null||ti===void 0?void 0:ti.inputElement)&&ur.preventDefault(),It==null||It(ur)}}),f&&a.createElement("div",{className:"".concat(Pn,"-prefix")},f),cr)}var xy=a.forwardRef(Pb),CC=xy;function Ob(e,t){var s=ty(e),o=(0,Re.Z)(s,6),f=o[0],y=o[1],C=o[2],w=o[3],I=o[4],D=o[5],L=f,z=L.prefixCls,k=L.styles,j=L.classNames,Z=L.order,G=L.defaultValue,H=L.value,X=L.needConfirm,ne=L.onChange,oe=L.onKeyDown,ae=L.disabled,ie=L.disabledDate,le=L.minDate,fe=L.maxDate,me=L.defaultOpen,ge=L.open,xe=L.onOpenChange,Me=L.locale,$e=L.generateConfig,Oe=L.picker,He=L.showNow,Ne=L.showToday,Ke=L.showTime,je=L.mode,lt=L.onPanelChange,ht=L.onCalendarChange,It=L.onOk,Tt=L.multiple,wt=L.defaultPickerValue,_t=L.pickerValue,At=L.onPickerValueChange,Bt=L.inputReadOnly,Dt=L.suffixIcon,Gt=L.removeIcon,Pt=L.onFocus,Pn=L.onBlur,Kn=L.presets,_n=L.components,Fn=L.cellRender,on=L.dateRender,Zt=L.monthCellRender,Vn=L.onClick,Ln=db(t);function kr(Ta){return Ta===null?null:Tt?Ta:Ta[0]}var Sr=cy($e,Me,y),dr=ub(ge,me,[ae],xe),cr=(0,Re.Z)(dr,2),Zn=cr[0],ur=cr[1],ti=function(Ha,fl,Lc){if(ht){var bf=(0,Y.Z)({},Lc);delete bf.range,ht(kr(Ha),kr(fl),bf)}},Ei=function(Ha){It==null||It(kr(Ha))},ki=mb($e,Me,w,!1,Z,G,H,ti,Ei),qi=(0,Re.Z)(ki,5),Ho=qi[0],Li=qi[1],bi=qi[2],$i=qi[3],go=qi[4],Gi=bi(),ko=iy([ae]),Er=(0,Re.Z)(ko,4),Mr=Er[0],Zr=Er[1],tr=Er[2],yi=Er[3],Ui=function(Ha){Zr(!0),Pt==null||Pt(Ha,{})},xo=function(Ha){Zr(!1),Pn==null||Pn(Ha,{})},ra=(0,Ls.C8)(Oe,{value:je}),Aa=(0,Re.Z)(ra,2),oa=Aa[0],Ss=Aa[1],Va=oa==="date"&&Ke?"datetime":oa,Ga=sy(Oe,oa,He,Ne),_a=ne&&function(Ta,Ha){ne(kr(Ta),kr(Ha))},ns=gb((0,Y.Z)((0,Y.Z)({},f),{},{onChange:_a}),Ho,Li,bi,$i,[],w,Mr,Zn,D),zs=(0,Re.Z)(ns,2),Do=zs[1],na=tb(Gi,D),Ra=(0,Re.Z)(na,2),Ka=Ra[0],ls=Ra[1],ll=a.useMemo(function(){return Ka.some(function(Ta){return Ta})},[Ka]),Pl=function(Ha,fl){if(At){var Lc=(0,Y.Z)((0,Y.Z)({},fl),{},{mode:fl.mode[0]});delete Lc.range,At(Ha[0],Lc)}},bl=Jm($e,Me,Gi,[oa],Zn,yi,y,!1,wt,_t,Vf(Ke==null?void 0:Ke.defaultOpenValue),Pl,le,fe),Zl=(0,Re.Z)(bl,2),pa=Zl[0],Jo=Zl[1],Qo=(0,Ls.zX)(function(Ta,Ha,fl){if(Ss(Ha),lt&&fl!==!1){var Lc=Ta||Gi[Gi.length-1];lt(Lc,Ha)}}),Wo=function(){Do(bi()),ur(!1,{force:!0})},cs=function(Ha){!ae&&!Ln.current.nativeElement.contains(document.activeElement)&&Ln.current.focus(),ur(!0),Vn==null||Vn(Ha)},Ns=function(){Do(null),ur(!1,{force:!0})},Za=a.useState(null),Ea=(0,Re.Z)(Za,2),vs=Ea[0],ys=Ea[1],qs=a.useState(null),Ca=(0,Re.Z)(qs,2),Go=Ca[0],Da=Ca[1],ds=a.useMemo(function(){var Ta=[Go].concat((0,be.Z)(Gi)).filter(function(Ha){return Ha});return Tt?Ta:Ta.slice(0,1)},[Gi,Go,Tt]),ks=a.useMemo(function(){return!Tt&&Go?[Go]:Gi.filter(function(Ta){return Ta})},[Gi,Go,Tt]);a.useEffect(function(){Zn||Da(null)},[Zn]);var Js=fb(Kn),Jl=function(Ha){Da(Ha),ys("preset")},Qs=function(Ha){var fl=Tt?Sr(bi(),Ha):[Ha],Lc=Do(fl);Lc&&!Tt&&ur(!1,{force:!0})},La=function(Ha){Qs(Ha)},us=function(Ha){Da(Ha),ys("cell")},ws=function(Ha){ur(!0),Ui(Ha)},Ol=function(Ha){if(tr("panel"),!(Tt&&Va!==Oe)){var fl=Tt?Sr(bi(),Ha):[Ha];$i(fl),!X&&!C&&y===Va&&Wo()}},Zu=function(){ur(!1)},Yh=Gv(Fn,on,Zt),mm=a.useMemo(function(){var Ta=(0,ut.Z)(f,!1),Ha=(0,$a.Z)(f,[].concat((0,be.Z)(Object.keys(Ta)),["onChange","onCalendarChange","style","className","onPanelChange"]));return(0,Y.Z)((0,Y.Z)({},Ha),{},{multiple:f.multiple})},[f]),gm=a.createElement(C0,(0,Ge.Z)({},mm,{showNow:Ga,showTime:Ke,disabledDate:ie,onFocus:ws,onBlur:xo,picker:Oe,mode:oa,internalMode:Va,onPanelChange:Qo,format:I,value:Gi,isInvalid:D,onChange:null,onSelect:Ol,pickerValue:pa,defaultOpenValue:Ke==null?void 0:Ke.defaultOpenValue,onPickerValueChange:Jo,hoverValue:ds,onHover:us,needConfirm:X,onSubmit:Wo,onOk:go,presets:Js,onPresetHover:Jl,onPresetSubmit:Qs,onNow:La,cellRender:Yh})),ah=function(Ha){$i(Ha)},qh=function(){tr("input")},Jh=function(Ha){tr("input"),ur(!0,{inherit:!0}),Ui(Ha)},vm=function(Ha){ur(!1),xo(Ha)},Il=function(Ha,fl){Ha.key==="Tab"&&Wo(),oe==null||oe(Ha,fl)},el=a.useMemo(function(){return{prefixCls:z,locale:Me,generateConfig:$e,button:_n.button,input:_n.input}},[z,Me,$e,_n.button,_n.input]);return(0,cl.Z)(function(){Zn&&yi!==void 0&&Qo(null,Oe,!1)},[Zn,yi,Oe]),(0,cl.Z)(function(){var Ta=tr();!Zn&&Ta==="input"&&(ur(!1),Wo()),!Zn&&C&&!X&&Ta==="panel"&&Wo()},[Zn]),a.createElement(vu.Provider,{value:el},a.createElement(Uv,(0,Ge.Z)({},eb(f),{popupElement:gm,popupStyle:k.popup,popupClassName:j.popup,visible:Zn,onClose:Zu}),a.createElement(CC,(0,Ge.Z)({},f,{ref:Ln,suffixIcon:Dt,removeIcon:Gt,activeHelp:!!Go,allHelp:!!Go&&vs==="preset",focused:Mr,onFocus:Jh,onBlur:vm,onKeyDown:Il,onSubmit:Wo,value:ks,maskFormat:I,onChange:ah,onInputChange:qh,internalPicker:y,format:w,inputReadOnly:Bt,disabled:ae,open:Zn,onOpenChange:ur,onClick:cs,onClear:Ns,invalid:ll,onInvalid:function(Ha){ls(Ha,0)}}))))}var I0=a.forwardRef(Ob),Cy=I0,SC=Cy,ou=B(60824),wC=B(63374),Sy=B(47944);const yu=10,sg=20;function kp(e){const{fullscreen:t,validRange:s,generateConfig:o,locale:f,prefixCls:y,value:C,onChange:w,divRef:I}=e,D=o.getYear(C||o.getNow());let L=D-yu,z=L+sg;s&&(L=o.getYear(s[0]),z=o.getYear(s[1])+1);const k=f&&f.year==="\u5E74"?"\u5E74":"",j=[];for(let Z=L;Z<z;Z++)j.push({label:`${Z}${k}`,value:Z});return a.createElement(Fc.default,{size:t?void 0:"small",options:j,value:D,className:`${y}-year-select`,onChange:Z=>{let G=o.setYear(C,Z);if(s){const[H,X]=s,ne=o.getYear(G),oe=o.getMonth(G);ne===o.getYear(X)&&oe>o.getMonth(X)&&(G=o.setMonth(G,o.getMonth(X))),ne===o.getYear(H)&&oe<o.getMonth(H)&&(G=o.setMonth(G,o.getMonth(H)))}w(G)},getPopupContainer:()=>I.current})}function wy(e){const{prefixCls:t,fullscreen:s,validRange:o,value:f,generateConfig:y,locale:C,onChange:w,divRef:I}=e,D=y.getMonth(f||y.getNow());let L=0,z=11;if(o){const[Z,G]=o,H=y.getYear(f);y.getYear(G)===H&&(z=y.getMonth(G)),y.getYear(Z)===H&&(L=y.getMonth(Z))}const k=C.shortMonths||y.locale.getShortMonths(C.locale),j=[];for(let Z=L;Z<=z;Z+=1)j.push({label:k[Z],value:Z});return a.createElement(Fc.default,{size:s?void 0:"small",className:`${t}-month-select`,value:D,options:j,onChange:Z=>{w(y.setMonth(f,Z))},getPopupContainer:()=>I.current})}function T0(e){const{prefixCls:t,locale:s,mode:o,fullscreen:f,onModeChange:y}=e;return a.createElement(wC.Z,{onChange:C=>{let{target:{value:w}}=C;y(w)},value:o,size:f?void 0:"small",className:`${t}-mode-switch`},a.createElement(Sy.Z,{value:"month"},s.month),a.createElement(Sy.Z,{value:"year"},s.year))}function EC(e){const{prefixCls:t,fullscreen:s,mode:o,onChange:f,onModeChange:y}=e,C=a.useRef(null),w=(0,a.useContext)(ou.aM),I=(0,a.useMemo)(()=>Object.assign(Object.assign({},w),{isFormItemInput:!1}),[w]),D=Object.assign(Object.assign({},e),{fullscreen:s,divRef:C});return a.createElement("div",{className:`${t}-header`,ref:C},a.createElement(ou.aM.Provider,{value:I},a.createElement(kp,Object.assign({},D,{onChange:L=>{f(L,"year")}})),o==="month"&&a.createElement(wy,Object.assign({},D,{onChange:L=>{f(L,"month")}}))),a.createElement(T0,Object.assign({},D,{onModeChange:y})))}var Rb=EC,$b=B(40859);const IC=e=>{const{pickerCellCls:t,pickerCellInnerCls:s,cellHeight:o,borderRadiusSM:f,motionDurationMid:y,cellHoverBg:C,lineWidth:w,lineType:I,colorPrimary:D,cellActiveWithRangeBg:L,colorTextLightSolid:z,colorTextDisabled:k,cellBgDisabled:j,colorFillSecondary:Z}=e;return{"&::before":{position:"absolute",top:"50%",insetInlineStart:0,insetInlineEnd:0,zIndex:1,height:o,transform:"translateY(-50%)",content:'""',pointerEvents:"none"},[s]:{position:"relative",zIndex:2,display:"inline-block",minWidth:o,height:o,lineHeight:(0,he.bf)(o),borderRadius:f,transition:`background ${y}`},[`&:hover:not(${t}-in-view):not(${t}-disabled),
    &:hover:not(${t}-selected):not(${t}-range-start):not(${t}-range-end):not(${t}-disabled)`]:{[s]:{background:C}},[`&-in-view${t}-today ${s}`]:{"&::before":{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,zIndex:1,border:`${(0,he.bf)(w)} ${I} ${D}`,borderRadius:f,content:'""'}},[`&-in-view${t}-in-range,
      &-in-view${t}-range-start,
      &-in-view${t}-range-end`]:{position:"relative",[`&:not(${t}-disabled):before`]:{background:L}},[`&-in-view${t}-selected,
      &-in-view${t}-range-start,
      &-in-view${t}-range-end`]:{[`&:not(${t}-disabled) ${s}`]:{color:z,background:D},[`&${t}-disabled ${s}`]:{background:Z}},[`&-in-view${t}-range-start:not(${t}-disabled):before`]:{insetInlineStart:"50%"},[`&-in-view${t}-range-end:not(${t}-disabled):before`]:{insetInlineEnd:"50%"},[`&-in-view${t}-range-start:not(${t}-range-end) ${s}`]:{borderStartStartRadius:f,borderEndStartRadius:f,borderStartEndRadius:0,borderEndEndRadius:0},[`&-in-view${t}-range-end:not(${t}-range-start) ${s}`]:{borderStartStartRadius:0,borderEndStartRadius:0,borderStartEndRadius:f,borderEndEndRadius:f},"&-disabled":{color:k,cursor:"not-allowed",[s]:{background:"transparent"},"&::before":{background:j}},[`&-disabled${t}-today ${s}::before`]:{borderColor:k}}},Ey=e=>{const{componentCls:t,pickerCellCls:s,pickerCellInnerCls:o,pickerYearMonthCellWidth:f,pickerControlIconSize:y,cellWidth:C,paddingSM:w,paddingXS:I,paddingXXS:D,colorBgContainer:L,lineWidth:z,lineType:k,borderRadiusLG:j,colorPrimary:Z,colorTextHeading:G,colorSplit:H,pickerControlIconBorderWidth:X,colorIcon:ne,textHeight:oe,motionDurationMid:ae,colorIconHover:ie,fontWeightStrong:le,cellHeight:fe,pickerCellPaddingVertical:me,colorTextDisabled:ge,colorText:xe,fontSize:Me,motionDurationSlow:$e,withoutTimeCellHeight:Oe,pickerQuarterPanelContentHeight:He,borderRadiusSM:Ne,colorTextLightSolid:Ke,cellHoverBg:je,timeColumnHeight:lt,timeColumnWidth:ht,timeCellHeight:It,controlItemBgActive:Tt,marginXXS:wt,pickerDatePanelPaddingHorizontal:_t,pickerControlIconMargin:At}=e,Bt=e.calc(C).mul(7).add(e.calc(_t).mul(2)).equal();return{[t]:{"&-panel":{display:"inline-flex",flexDirection:"column",textAlign:"center",background:L,borderRadius:j,outline:"none","&-focused":{borderColor:Z},"&-rtl":{[`${t}-prev-icon,
              ${t}-super-prev-icon`]:{transform:"rotate(45deg)"},[`${t}-next-icon,
              ${t}-super-next-icon`]:{transform:"rotate(-135deg)"},[`${t}-time-panel`]:{[`${t}-content`]:{direction:"ltr","> *":{direction:"rtl"}}}}},"&-decade-panel,\n        &-year-panel,\n        &-quarter-panel,\n        &-month-panel,\n        &-week-panel,\n        &-date-panel,\n        &-time-panel":{display:"flex",flexDirection:"column",width:Bt},"&-header":{display:"flex",padding:`0 ${(0,he.bf)(I)}`,color:G,borderBottom:`${(0,he.bf)(z)} ${k} ${H}`,"> *":{flex:"none"},button:{padding:0,color:ne,lineHeight:(0,he.bf)(oe),background:"transparent",border:0,cursor:"pointer",transition:`color ${ae}`,fontSize:"inherit",display:"inline-flex",alignItems:"center",justifyContent:"center","&:empty":{display:"none"}},"> button":{minWidth:"1.6em",fontSize:Me,"&:hover":{color:ie},"&:disabled":{opacity:.25,pointerEvents:"none"}},"&-view":{flex:"auto",fontWeight:le,lineHeight:(0,he.bf)(oe),"> button":{color:"inherit",fontWeight:"inherit","&:not(:first-child)":{marginInlineStart:I},"&:hover":{color:Z}}}},"&-prev-icon,\n        &-next-icon,\n        &-super-prev-icon,\n        &-super-next-icon":{position:"relative",width:y,height:y,"&::before":{position:"absolute",top:0,insetInlineStart:0,width:y,height:y,border:"0 solid currentcolor",borderBlockWidth:`${(0,he.bf)(X)} 0`,borderInlineWidth:`${(0,he.bf)(X)} 0`,content:'""'}},"&-super-prev-icon,\n        &-super-next-icon":{"&::after":{position:"absolute",top:At,insetInlineStart:At,display:"inline-block",width:y,height:y,border:"0 solid currentcolor",borderBlockWidth:`${(0,he.bf)(X)} 0`,borderInlineWidth:`${(0,he.bf)(X)} 0`,content:'""'}},"&-prev-icon, &-super-prev-icon":{transform:"rotate(-45deg)"},"&-next-icon, &-super-next-icon":{transform:"rotate(135deg)"},"&-content":{width:"100%",tableLayout:"fixed",borderCollapse:"collapse","th, td":{position:"relative",minWidth:fe,fontWeight:"normal"},th:{height:e.calc(fe).add(e.calc(me).mul(2)).equal(),color:xe,verticalAlign:"middle"}},"&-cell":Object.assign({padding:`${(0,he.bf)(me)} 0`,color:ge,cursor:"pointer","&-in-view":{color:xe}},IC(e)),"&-decade-panel,\n        &-year-panel,\n        &-quarter-panel,\n        &-month-panel":{[`${t}-content`]:{height:e.calc(Oe).mul(4).equal()},[o]:{padding:`0 ${(0,he.bf)(I)}`}},"&-quarter-panel":{[`${t}-content`]:{height:He}},"&-decade-panel":{[o]:{padding:`0 ${(0,he.bf)(e.calc(I).div(2).equal())}`},[`${t}-cell::before`]:{display:"none"}},"&-year-panel,\n        &-quarter-panel,\n        &-month-panel":{[`${t}-body`]:{padding:`0 ${(0,he.bf)(I)}`},[o]:{width:f}},"&-date-panel":{[`${t}-body`]:{padding:`${(0,he.bf)(I)} ${(0,he.bf)(_t)}`},[`${t}-content th`]:{boxSizing:"border-box",padding:0}},"&-week-panel":{[`${t}-cell`]:{[`&:hover ${o},
            &-selected ${o},
            ${o}`]:{background:"transparent !important"}},"&-row":{td:{"&:before":{transition:`background ${ae}`},"&:first-child:before":{borderStartStartRadius:Ne,borderEndStartRadius:Ne},"&:last-child:before":{borderStartEndRadius:Ne,borderEndEndRadius:Ne}},"&:hover td:before":{background:je},"&-range-start td, &-range-end td, &-selected td, &-hover td":{[`&${s}`]:{"&:before":{background:Z},[`&${t}-cell-week`]:{color:new mo.t(Ke).setA(.5).toHexString()},[o]:{color:Ke}}},"&-range-hover td:before":{background:Tt}}},"&-week-panel, &-date-panel-show-week":{[`${t}-body`]:{padding:`${(0,he.bf)(I)} ${(0,he.bf)(w)}`},[`${t}-content th`]:{width:"auto"}},"&-datetime-panel":{display:"flex",[`${t}-time-panel`]:{borderInlineStart:`${(0,he.bf)(z)} ${k} ${H}`},[`${t}-date-panel,
          ${t}-time-panel`]:{transition:`opacity ${$e}`},"&-active":{[`${t}-date-panel,
            ${t}-time-panel`]:{opacity:.3,"&-active":{opacity:1}}}},"&-time-panel":{width:"auto",minWidth:"auto",[`${t}-content`]:{display:"flex",flex:"auto",height:lt},"&-column":{flex:"1 0 auto",width:ht,margin:`${(0,he.bf)(D)} 0`,padding:0,overflowY:"hidden",textAlign:"start",listStyle:"none",transition:`background ${ae}`,overflowX:"hidden","&::-webkit-scrollbar":{width:8,backgroundColor:"transparent"},"&::-webkit-scrollbar-thumb":{backgroundColor:e.colorTextTertiary,borderRadius:e.borderRadiusSM},"&":{scrollbarWidth:"thin",scrollbarColor:`${e.colorTextTertiary} transparent`},"&::after":{display:"block",height:`calc(100% - ${(0,he.bf)(It)})`,content:'""'},"&:not(:first-child)":{borderInlineStart:`${(0,he.bf)(z)} ${k} ${H}`},"&-active":{background:new mo.t(Tt).setA(.2).toHexString()},"&:hover":{overflowY:"auto"},"> li":{margin:0,padding:0,[`&${t}-time-panel-cell`]:{marginInline:wt,[`${t}-time-panel-cell-inner`]:{display:"block",width:e.calc(ht).sub(e.calc(wt).mul(2)).equal(),height:It,margin:0,paddingBlock:0,paddingInlineEnd:0,paddingInlineStart:e.calc(ht).sub(It).div(2).equal(),color:xe,lineHeight:(0,he.bf)(It),borderRadius:Ne,cursor:"pointer",transition:`background ${ae}`,"&:hover":{background:je}},"&-selected":{[`${t}-time-panel-cell-inner`]:{background:Tt}},"&-disabled":{[`${t}-time-panel-cell-inner`]:{color:ge,background:"transparent",cursor:"not-allowed"}}}}}}}}};var Iy=e=>{const{componentCls:t,textHeight:s,lineWidth:o,paddingSM:f,antCls:y,colorPrimary:C,cellActiveWithRangeBg:w,colorPrimaryBorder:I,lineType:D,colorSplit:L}=e;return{[`${t}-dropdown`]:{[`${t}-footer`]:{borderTop:`${(0,he.bf)(o)} ${D} ${L}`,"&-extra":{padding:`0 ${(0,he.bf)(f)}`,lineHeight:(0,he.bf)(e.calc(s).sub(e.calc(o).mul(2)).equal()),textAlign:"start","&:not(:last-child)":{borderBottom:`${(0,he.bf)(o)} ${D} ${L}`}}},[`${t}-panels + ${t}-footer ${t}-ranges`]:{justifyContent:"space-between"},[`${t}-ranges`]:{marginBlock:0,paddingInline:(0,he.bf)(f),overflow:"hidden",textAlign:"start",listStyle:"none",display:"flex",justifyContent:"center",alignItems:"center","> li":{lineHeight:(0,he.bf)(e.calc(s).sub(e.calc(o).mul(2)).equal()),display:"inline-block"},[`${t}-now-btn-disabled`]:{pointerEvents:"none",color:e.colorTextDisabled},[`${t}-preset > ${y}-tag-blue`]:{color:C,background:w,borderColor:I,cursor:"pointer"},[`${t}-ok`]:{paddingBlock:e.calc(o).mul(2).equal(),marginInlineStart:"auto"}}}}},od=B(21571);const Ab=e=>{const{componentCls:t,controlHeightLG:s,paddingXXS:o,padding:f}=e;return{pickerCellCls:`${t}-cell`,pickerCellInnerCls:`${t}-cell-inner`,pickerYearMonthCellWidth:e.calc(s).mul(1.5).equal(),pickerQuarterPanelContentHeight:e.calc(s).mul(1.4).equal(),pickerCellPaddingVertical:e.calc(o).add(e.calc(o).div(2)).equal(),pickerCellBorderGap:2,pickerControlIconSize:7,pickerControlIconMargin:4,pickerControlIconBorderWidth:1.5,pickerDatePanelPaddingHorizontal:e.calc(f).add(e.calc(o).div(2)).equal()}},Ty=e=>{const{colorBgContainerDisabled:t,controlHeight:s,controlHeightSM:o,controlHeightLG:f,paddingXXS:y,lineWidth:C}=e,w=y*2,I=C*2,D=Math.min(s-w,s-I),L=Math.min(o-w,o-I),z=Math.min(f-w,f-I);return{INTERNAL_FIXED_ITEM_MARGIN:Math.floor(y/2),cellHoverBg:e.controlItemBgHover,cellActiveWithRangeBg:e.controlItemBgActive,cellHoverWithRangeBg:new mo.t(e.colorPrimary).lighten(35).toHexString(),cellRangeBorderColor:new mo.t(e.colorPrimary).lighten(20).toHexString(),cellBgDisabled:t,timeColumnWidth:f*1.4,timeColumnHeight:28*8,timeCellHeight:28,cellWidth:o*1.5,cellHeight:o,textHeight:f,withoutTimeCellHeight:f*1.65,multipleItemBg:e.colorFillSecondary,multipleItemBorderColor:"transparent",multipleItemHeight:D,multipleItemHeightSM:L,multipleItemHeightLG:z,multipleSelectorBgDisabled:t,multipleItemColorDisabled:e.colorTextDisabled,multipleItemBorderColorDisabled:"transparent"}},pf=e=>Object.assign(Object.assign(Object.assign(Object.assign({},(0,od.T)(e)),Ty(e)),(0,mc.w)(e)),{presetsWidth:120,presetsMaxWidth:200,zIndexPopup:e.zIndexPopupBase+50}),Db=e=>{const{calendarCls:t,componentCls:s,fullBg:o,fullPanelBg:f,itemActiveBg:y}=e;return{[t]:Object.assign(Object.assign(Object.assign({},Ey(e)),(0,Qt.Wf)(e)),{background:o,"&-rtl":{direction:"rtl"},[`${t}-header`]:{display:"flex",justifyContent:"flex-end",padding:`${(0,he.bf)(e.paddingSM)} 0`,[`${t}-year-select`]:{minWidth:e.yearControlWidth},[`${t}-month-select`]:{minWidth:e.monthControlWidth,marginInlineStart:e.marginXS},[`${t}-mode-switch`]:{marginInlineStart:e.marginXS}}}),[`${t} ${s}-panel`]:{background:f,border:0,borderTop:`${(0,he.bf)(e.lineWidth)} ${e.lineType} ${e.colorSplit}`,borderRadius:0,[`${s}-month-panel, ${s}-date-panel`]:{width:"auto"},[`${s}-body`]:{padding:`${(0,he.bf)(e.paddingXS)} 0`},[`${s}-content`]:{width:"100%"}},[`${t}-mini`]:{borderRadius:e.borderRadiusLG,[`${t}-header`]:{paddingInlineEnd:e.paddingXS,paddingInlineStart:e.paddingXS},[`${s}-panel`]:{borderRadius:`0 0 ${(0,he.bf)(e.borderRadiusLG)} ${(0,he.bf)(e.borderRadiusLG)}`},[`${s}-content`]:{height:e.miniContentHeight,th:{height:"auto",padding:0,lineHeight:(0,he.bf)(e.weekHeight)}},[`${s}-cell::before`]:{pointerEvents:"none"}},[`${t}${t}-full`]:{[`${s}-panel`]:{display:"block",width:"100%",textAlign:"end",background:o,border:0,[`${s}-body`]:{"th, td":{padding:0},th:{height:"auto",paddingInlineEnd:e.paddingSM,paddingBottom:e.paddingXXS,lineHeight:(0,he.bf)(e.weekHeight)}}},[`${s}-cell-week ${s}-cell-inner`]:{display:"block",borderRadius:0,borderTop:`${(0,he.bf)(e.lineWidthBold)} ${e.lineType} ${e.colorSplit}`,width:"100%",height:e.calc(e.dateValueHeight).add(e.dateContentHeight).add(e.calc(e.paddingXS).div(2)).add(e.lineWidthBold).equal()},[`${s}-cell`]:{"&::before":{display:"none"},"&:hover":{[`${t}-date`]:{background:e.controlItemBgHover}},[`${t}-date-today::before`]:{display:"none"},[`&-in-view${s}-cell-selected`]:{[`${t}-date, ${t}-date-today`]:{background:y}},"&-selected, &-selected:hover":{[`${t}-date, ${t}-date-today`]:{[`${t}-date-value`]:{color:e.colorPrimary}}}},[`${t}-date`]:{display:"block",width:"auto",height:"auto",margin:`0 ${(0,he.bf)(e.calc(e.marginXS).div(2).equal())}`,padding:`${(0,he.bf)(e.calc(e.paddingXS).div(2).equal())} ${(0,he.bf)(e.paddingXS)} 0`,border:0,borderTop:`${(0,he.bf)(e.lineWidthBold)} ${e.lineType} ${e.colorSplit}`,borderRadius:0,transition:`background ${e.motionDurationSlow}`,"&-value":{lineHeight:(0,he.bf)(e.dateValueHeight),transition:`color ${e.motionDurationSlow}`},"&-content":{position:"static",width:"auto",height:e.dateContentHeight,overflowY:"auto",color:e.colorText,lineHeight:e.lineHeight,textAlign:"start"},"&-today":{borderColor:e.colorPrimary,[`${t}-date-value`]:{color:e.colorText}}}},[`@media only screen and (max-width: ${(0,he.bf)(e.screenXS)}) `]:{[t]:{[`${t}-header`]:{display:"block",[`${t}-year-select`]:{width:"50%"},[`${t}-month-select`]:{width:`calc(50% - ${(0,he.bf)(e.paddingXS)})`},[`${t}-mode-switch`]:{width:"100%",marginTop:e.marginXS,marginInlineStart:0,"> label":{width:"50%",textAlign:"center"}}}}}}},Lb=e=>Object.assign({fullBg:e.colorBgContainer,fullPanelBg:e.colorBgContainer,itemActiveBg:e.controlItemBgActive,yearControlWidth:80,monthControlWidth:70,miniContentHeight:256},Ty(e));var zb=(0,te.I$)("Calendar",e=>{const t=`${e.componentCls}-calendar`,s=(0,ci.IX)(e,Ab(e),{calendarCls:t,pickerCellInnerCls:`${e.componentCls}-cell-inner`,dateValueHeight:e.controlHeightSM,weekHeight:e.calc(e.controlHeightSM).mul(.75).equal(),dateContentHeight:e.calc(e.calc(e.fontHeightSM).add(e.marginXS)).mul(3).add(e.calc(e.lineWidth).mul(2)).equal()});return[Db(s)]},Lb);const My=(e,t,s)=>{const{getYear:o}=s;return e&&t&&o(e)===o(t)},Py=(e,t,s)=>{const{getMonth:o}=s;return My(e,t,s)&&o(e)===o(t)},Nb=(e,t,s)=>{const{getDate:o}=s;return Py(e,t,s)&&o(e)===o(t)};var Oy=e=>s=>{const{prefixCls:o,className:f,rootClassName:y,style:C,dateFullCellRender:w,dateCellRender:I,monthFullCellRender:D,monthCellRender:L,cellRender:z,fullCellRender:k,headerRender:j,value:Z,defaultValue:G,disabledDate:H,mode:X,validRange:ne,fullscreen:oe=!0,showWeek:ae,onChange:ie,onPanelChange:le,onSelect:fe}=s,{getPrefixCls:me,direction:ge,className:xe,style:Me}=(0,ye.dj)("calendar"),$e=me("picker",o),Oe=`${$e}-calendar`,[He,Ne,Ke]=zb($e,Oe),je=e.getNow(),[lt,ht]=(0,Cs.Z)(()=>Z||e.getNow(),{defaultValue:G,value:Z}),[It,Tt]=(0,Cs.Z)("month",{value:X}),wt=a.useMemo(()=>It==="year"?"month":"date",[It]),_t=a.useCallback(on=>(ne?e.isAfter(ne[0],on)||e.isAfter(on,ne[1]):!1)||!!(H!=null&&H(on)),[H,ne]),At=(on,Zt)=>{le==null||le(on,Zt)},Bt=on=>{ht(on),Nb(on,lt,e)||((wt==="date"&&!Py(on,lt,e)||wt==="month"&&!My(on,lt,e))&&At(on,It),ie==null||ie(on))},Dt=on=>{Tt(on),At(lt,on)},Gt=(on,Zt)=>{Bt(on),fe==null||fe(on,{source:Zt})},Pt=a.useCallback((on,Zt)=>k?k(on,Zt):w?w(on):a.createElement("div",{className:q()(`${$e}-cell-inner`,`${Oe}-date`,{[`${Oe}-date-today`]:Nb(je,on,e)})},a.createElement("div",{className:`${Oe}-date-value`},String(e.getDate(on)).padStart(2,"0")),a.createElement("div",{className:`${Oe}-date-content`},z?z(on,Zt):I==null?void 0:I(on))),[w,I,z,k]),Pn=a.useCallback((on,Zt)=>{if(k)return k(on,Zt);if(D)return D(on);const Vn=Zt.locale.shortMonths||e.locale.getShortMonths(Zt.locale.locale);return a.createElement("div",{className:q()(`${$e}-cell-inner`,`${Oe}-date`,{[`${Oe}-date-today`]:Py(je,on,e)})},a.createElement("div",{className:`${Oe}-date-value`},Vn[e.getMonth(on)]),a.createElement("div",{className:`${Oe}-date-content`},z?z(on,Zt):L==null?void 0:L(on)))},[D,L,z,k]),[Kn]=(0,En.Z)("Calendar",$b.Z),_n=Object.assign(Object.assign({},Kn),s.locale),Fn=(on,Zt)=>{if(Zt.type==="date")return Pt(on,Zt);if(Zt.type==="month")return Pn(on,Object.assign(Object.assign({},Zt),{locale:_n==null?void 0:_n.lang}))};return He(a.createElement("div",{className:q()(Oe,{[`${Oe}-full`]:oe,[`${Oe}-mini`]:!oe,[`${Oe}-rtl`]:ge==="rtl"},xe,f,y,Ne,Ke),style:Object.assign(Object.assign({},Me),C)},j?j({value:lt,type:It,onChange:on=>{Gt(on,"customize")},onTypeChange:Dt}):a.createElement(Rb,{prefixCls:Oe,value:lt,generateConfig:e,mode:It,fullscreen:oe,locale:_n==null?void 0:_n.lang,validRange:ne,onChange:Gt,onModeChange:Dt}),a.createElement(og,{value:lt,prefixCls:$e,locale:_n==null?void 0:_n.lang,generateConfig:e,cellRender:Fn,onSelect:on=>{Gt(on,wt)},mode:wt,picker:wt,disabledDate:_t,hideHeader:!0,showWeek:ae})))};const Ry=Oy(Op);Ry.generateCalendar=Oy;var lg=Ry,cg={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z"}},{tag:"path",attrs:{d:"M192 474h672q8 0 8 8v60q0 8-8 8H160q-8 0-8-8v-60q0-8 8-8z"}}]},name:"plus",theme:"outlined"},Bb=cg,ug=function(t,s){return a.createElement(Xt.Z,(0,Ge.Z)({},t,{ref:s,icon:Bb}))},Fb=a.forwardRef(ug),kb=Fb,ad=B(21611),Zp=(0,a.createContext)(null),jp=function(t){var s=t.activeTabOffset,o=t.horizontal,f=t.rtl,y=t.indicator,C=y===void 0?{}:y,w=C.size,I=C.align,D=I===void 0?"center":I,L=(0,a.useState)(),z=(0,Re.Z)(L,2),k=z[0],j=z[1],Z=(0,a.useRef)(),G=a.useCallback(function(X){return typeof w=="function"?w(X):typeof w=="number"?w:X},[w]);function H(){We.Z.cancel(Z.current)}return(0,a.useEffect)(function(){var X={};if(s)if(o){X.width=G(s.width);var ne=f?"right":"left";D==="start"&&(X[ne]=s[ne]),D==="center"&&(X[ne]=s[ne]+s.width/2,X.transform=f?"translateX(50%)":"translateX(-50%)"),D==="end"&&(X[ne]=s[ne]+s.width,X.transform="translateX(-100%)")}else X.height=G(s.height),D==="start"&&(X.top=s.top),D==="center"&&(X.top=s.top+s.height/2,X.transform="translateY(-50%)"),D==="end"&&(X.top=s.top+s.height,X.transform="translateY(-100%)");return H(),Z.current=(0,We.Z)(function(){j(X)}),H},[s,o,f,D,G]),{style:k}},Kf=jp,$y={width:0,height:0,left:0,top:0};function Zb(e,t,s){return(0,a.useMemo)(function(){for(var o,f=new Map,y=t.get((o=e[0])===null||o===void 0?void 0:o.key)||$y,C=y.left+y.width,w=0;w<e.length;w+=1){var I=e[w].key,D=t.get(I);if(!D){var L;D=t.get((L=e[w-1])===null||L===void 0?void 0:L.key)||$y}var z=f.get(I)||(0,Y.Z)({},D);z.right=C-z.left-z.width,f.set(I,z)}return f},[e.map(function(o){return o.key}).join("_"),t,s])}function dg(e,t){var s=a.useRef(e),o=a.useState({}),f=(0,Re.Z)(o,2),y=f[1];function C(w){var I=typeof w=="function"?w(s.current):w;I!==s.current&&t(I,s.current),s.current=I,y({})}return[s.current,C]}var jb=.1,fg=.01,Lh=20,Vb=Math.pow(.995,Lh);function PC(e,t){var s=(0,a.useState)(),o=(0,Re.Z)(s,2),f=o[0],y=o[1],C=(0,a.useState)(0),w=(0,Re.Z)(C,2),I=w[0],D=w[1],L=(0,a.useState)(0),z=(0,Re.Z)(L,2),k=z[0],j=z[1],Z=(0,a.useState)(),G=(0,Re.Z)(Z,2),H=G[0],X=G[1],ne=(0,a.useRef)();function oe(ge){var xe=ge.touches[0],Me=xe.screenX,$e=xe.screenY;y({x:Me,y:$e}),window.clearInterval(ne.current)}function ae(ge){if(f){var xe=ge.touches[0],Me=xe.screenX,$e=xe.screenY;y({x:Me,y:$e});var Oe=Me-f.x,He=$e-f.y;t(Oe,He);var Ne=Date.now();D(Ne),j(Ne-I),X({x:Oe,y:He})}}function ie(){if(f&&(y(null),X(null),H)){var ge=H.x/k,xe=H.y/k,Me=Math.abs(ge),$e=Math.abs(xe);if(Math.max(Me,$e)<jb)return;var Oe=ge,He=xe;ne.current=window.setInterval(function(){if(Math.abs(Oe)<fg&&Math.abs(He)<fg){window.clearInterval(ne.current);return}Oe*=Vb,He*=Vb,t(Oe*Lh,He*Lh)},Lh)}}var le=(0,a.useRef)();function fe(ge){var xe=ge.deltaX,Me=ge.deltaY,$e=0,Oe=Math.abs(xe),He=Math.abs(Me);Oe===He?$e=le.current==="x"?xe:Me:Oe>He?($e=xe,le.current="x"):($e=Me,le.current="y"),t(-$e,-$e)&&ge.preventDefault()}var me=(0,a.useRef)(null);me.current={onTouchStart:oe,onTouchMove:ae,onTouchEnd:ie,onWheel:fe},a.useEffect(function(){function ge(Oe){me.current.onTouchStart(Oe)}function xe(Oe){me.current.onTouchMove(Oe)}function Me(Oe){me.current.onTouchEnd(Oe)}function $e(Oe){me.current.onWheel(Oe)}return document.addEventListener("touchmove",xe,{passive:!1}),document.addEventListener("touchend",Me,{passive:!0}),e.current.addEventListener("touchstart",ge,{passive:!0}),e.current.addEventListener("wheel",$e,{passive:!1}),function(){document.removeEventListener("touchmove",xe),document.removeEventListener("touchend",Me)}},[])}function Hb(e){var t=(0,a.useState)(0),s=(0,Re.Z)(t,2),o=s[0],f=s[1],y=(0,a.useRef)(0),C=(0,a.useRef)();return C.current=e,(0,cl.o)(function(){var w;(w=C.current)===null||w===void 0||w.call(C)},[o]),function(){y.current===o&&(y.current+=1,f(y.current))}}function Vp(e){var t=(0,a.useRef)([]),s=(0,a.useState)({}),o=(0,Re.Z)(s,2),f=o[1],y=(0,a.useRef)(typeof e=="function"?e():e),C=Hb(function(){var I=y.current;t.current.forEach(function(D){I=D(I)}),t.current=[],y.current=I,f({})});function w(I){t.current.push(I),C()}return[y.current,w]}var M0={width:0,height:0,left:0,top:0,right:0};function OC(e,t,s,o,f,y,C){var w=C.tabs,I=C.tabPosition,D=C.rtl,L,z,k;return["top","bottom"].includes(I)?(L="width",z=D?"right":"left",k=Math.abs(s)):(L="height",z="top",k=-s),(0,a.useMemo)(function(){if(!w.length)return[0,0];for(var j=w.length,Z=j,G=0;G<j;G+=1){var H=e.get(w[G].key)||M0;if(Math.floor(H[z]+H[L])>Math.floor(k+t)){Z=G-1;break}}for(var X=0,ne=j-1;ne>=0;ne-=1){var oe=e.get(w[ne].key)||M0;if(oe[z]<k){X=ne+1;break}}return X>=Z?[0,0]:[X,Z]},[e,t,o,f,y,k,I,w.map(function(j){return j.key}).join("_"),D])}function Ay(e){var t;return e instanceof Map?(t={},e.forEach(function(s,o){t[o]=s})):t=e,JSON.stringify(t)}var Dy="TABS_DQ";function Ub(e){return String(e).replace(/"/g,Dy)}function zh(e,t,s,o){return!(!s||o||e===!1||e===void 0&&(t===!1||t===null))}var Xf=a.forwardRef(function(e,t){var s=e.prefixCls,o=e.editable,f=e.locale,y=e.style;return!o||o.showAdd===!1?null:a.createElement("button",{ref:t,type:"button",className:"".concat(s,"-nav-add"),style:y,"aria-label":(f==null?void 0:f.addAriaLabel)||"Add tab",onClick:function(w){o.onEdit("add",{event:w})}},o.addIcon||"+")}),Ly=Xf,Wb=a.forwardRef(function(e,t){var s=e.position,o=e.prefixCls,f=e.extra;if(!f)return null;var y,C={};return(0,nt.Z)(f)==="object"&&!a.isValidElement(f)?C=f:C.right=f,s==="right"&&(y=C.right),s==="left"&&(y=C.left),y?a.createElement("div",{className:"".concat(o,"-extra-content"),ref:t},y):null}),hg=Wb,zy=a.forwardRef(function(e,t){var s=e.prefixCls,o=e.id,f=e.tabs,y=e.locale,C=e.mobile,w=e.more,I=w===void 0?{}:w,D=e.style,L=e.className,z=e.editable,k=e.tabBarGutter,j=e.rtl,Z=e.removeAriaLabel,G=e.onTabClick,H=e.getPopupContainer,X=e.popupClassName,ne=(0,a.useState)(!1),oe=(0,Re.Z)(ne,2),ae=oe[0],ie=oe[1],le=(0,a.useState)(null),fe=(0,Re.Z)(le,2),me=fe[0],ge=fe[1],xe=I.icon,Me=xe===void 0?"More":xe,$e="".concat(o,"-more-popup"),Oe="".concat(s,"-dropdown"),He=me!==null?"".concat($e,"-").concat(me):null,Ne=y==null?void 0:y.dropdownAriaLabel;function Ke(_t,At){_t.preventDefault(),_t.stopPropagation(),z.onEdit("remove",{key:At,event:_t})}var je=a.createElement(F,{onClick:function(At){var Bt=At.key,Dt=At.domEvent;G(Bt,Dt),ie(!1)},prefixCls:"".concat(Oe,"-menu"),id:$e,tabIndex:-1,role:"listbox","aria-activedescendant":He,selectedKeys:[me],"aria-label":Ne!==void 0?Ne:"expanded dropdown"},f.map(function(_t){var At=_t.closable,Bt=_t.disabled,Dt=_t.closeIcon,Gt=_t.key,Pt=_t.label,Pn=zh(At,Dt,z,Bt);return a.createElement(Md,{key:Gt,id:"".concat($e,"-").concat(Gt),role:"option","aria-controls":o&&"".concat(o,"-panel-").concat(Gt),disabled:Bt},a.createElement("span",null,Pt),Pn&&a.createElement("button",{type:"button","aria-label":Z||"remove",tabIndex:0,className:"".concat(Oe,"-menu-item-remove"),onClick:function(_n){_n.stopPropagation(),Ke(_n,Gt)}},Dt||z.removeIcon||"\xD7"))}));function lt(_t){for(var At=f.filter(function(Pn){return!Pn.disabled}),Bt=At.findIndex(function(Pn){return Pn.key===me})||0,Dt=At.length,Gt=0;Gt<Dt;Gt+=1){Bt=(Bt+_t+Dt)%Dt;var Pt=At[Bt];if(!Pt.disabled){ge(Pt.key);return}}}function ht(_t){var At=_t.which;if(!ae){[rt.Z.DOWN,rt.Z.SPACE,rt.Z.ENTER].includes(At)&&(ie(!0),_t.preventDefault());return}switch(At){case rt.Z.UP:lt(-1),_t.preventDefault();break;case rt.Z.DOWN:lt(1),_t.preventDefault();break;case rt.Z.ESC:ie(!1);break;case rt.Z.SPACE:case rt.Z.ENTER:me!==null&&G(me,_t);break}}(0,a.useEffect)(function(){var _t=document.getElementById(He);_t&&_t.scrollIntoView&&_t.scrollIntoView(!1)},[me]),(0,a.useEffect)(function(){ae||ge(null)},[ae]);var It=(0,pe.Z)({},j?"marginRight":"marginLeft",k);f.length||(It.visibility="hidden",It.order=1);var Tt=q()((0,pe.Z)({},"".concat(Oe,"-rtl"),j)),wt=C?null:a.createElement(Df,(0,Ge.Z)({prefixCls:Oe,overlay:je,visible:f.length?ae:!1,onVisibleChange:ie,overlayClassName:q()(Tt,X),mouseEnterDelay:.1,mouseLeaveDelay:.1,getPopupContainer:H},I),a.createElement("button",{type:"button",className:"".concat(s,"-nav-more"),style:It,"aria-haspopup":"listbox","aria-controls":$e,id:"".concat(o,"-more"),"aria-expanded":ae,onKeyDown:ht},Me));return a.createElement("div",{className:q()("".concat(s,"-nav-operations"),L),style:D,ref:t},wt,a.createElement(Ly,{prefixCls:s,locale:y,editable:z}))}),RC=a.memo(zy,function(e,t){return t.tabMoving}),Gb=function(t){var s=t.prefixCls,o=t.id,f=t.active,y=t.focus,C=t.tab,w=C.key,I=C.label,D=C.disabled,L=C.closeIcon,z=C.icon,k=t.closable,j=t.renderWrapper,Z=t.removeAriaLabel,G=t.editable,H=t.onClick,X=t.onFocus,ne=t.onBlur,oe=t.onKeyDown,ae=t.onMouseDown,ie=t.onMouseUp,le=t.style,fe=t.tabCount,me=t.currentPosition,ge="".concat(s,"-tab"),xe=zh(k,L,G,D);function Me(Ke){D||H(Ke)}function $e(Ke){Ke.preventDefault(),Ke.stopPropagation(),G.onEdit("remove",{key:w,event:Ke})}var Oe=a.useMemo(function(){return z&&typeof I=="string"?a.createElement("span",null,I):I},[I,z]),He=a.useRef(null);a.useEffect(function(){y&&He.current&&He.current.focus()},[y]);var Ne=a.createElement("div",{key:w,"data-node-key":Ub(w),className:q()(ge,(0,pe.Z)((0,pe.Z)((0,pe.Z)((0,pe.Z)({},"".concat(ge,"-with-remove"),xe),"".concat(ge,"-active"),f),"".concat(ge,"-disabled"),D),"".concat(ge,"-focus"),y)),style:le,onClick:Me},a.createElement("div",{ref:He,role:"tab","aria-selected":f,id:o&&"".concat(o,"-tab-").concat(w),className:"".concat(ge,"-btn"),"aria-controls":o&&"".concat(o,"-panel-").concat(w),"aria-disabled":D,tabIndex:D?null:f?0:-1,onClick:function(je){je.stopPropagation(),Me(je)},onKeyDown:oe,onMouseDown:ae,onMouseUp:ie,onFocus:X,onBlur:ne},y&&a.createElement("div",{"aria-live":"polite",style:{width:0,height:0,position:"absolute",overflow:"hidden",opacity:0}},"Tab ".concat(me," of ").concat(fe)),z&&a.createElement("span",{className:"".concat(ge,"-icon")},z),I&&Oe),xe&&a.createElement("button",{type:"button",role:"tab","aria-label":Z||"remove",tabIndex:f?0:-1,className:"".concat(ge,"-remove"),onClick:function(je){je.stopPropagation(),$e(je)}},L||G.removeIcon||"\xD7"));return j?j(Ne):Ne},pg=Gb,Kb=function(t,s){var o=t.offsetWidth,f=t.offsetHeight,y=t.offsetTop,C=t.offsetLeft,w=t.getBoundingClientRect(),I=w.width,D=w.height,L=w.left,z=w.top;return Math.abs(I-o)<1?[I,D,L-s.left,z-s.top]:[o,f,C,y]},Hp=function(t){var s=t.current||{},o=s.offsetWidth,f=o===void 0?0:o,y=s.offsetHeight,C=y===void 0?0:y;if(t.current){var w=t.current.getBoundingClientRect(),I=w.width,D=w.height;if(Math.abs(I-f)<1)return[I,D]}return[f,C]},sd=function(t,s){return t[s?0:1]},$C=a.forwardRef(function(e,t){var s=e.className,o=e.style,f=e.id,y=e.animated,C=e.activeKey,w=e.rtl,I=e.extra,D=e.editable,L=e.locale,z=e.tabPosition,k=e.tabBarGutter,j=e.children,Z=e.onTabClick,G=e.onTabScroll,H=e.indicator,X=a.useContext(Zp),ne=X.prefixCls,oe=X.tabs,ae=(0,a.useRef)(null),ie=(0,a.useRef)(null),le=(0,a.useRef)(null),fe=(0,a.useRef)(null),me=(0,a.useRef)(null),ge=(0,a.useRef)(null),xe=(0,a.useRef)(null),Me=z==="top"||z==="bottom",$e=dg(0,function(Ca,Go){Me&&G&&G({direction:Ca>Go?"left":"right"})}),Oe=(0,Re.Z)($e,2),He=Oe[0],Ne=Oe[1],Ke=dg(0,function(Ca,Go){!Me&&G&&G({direction:Ca>Go?"top":"bottom"})}),je=(0,Re.Z)(Ke,2),lt=je[0],ht=je[1],It=(0,a.useState)([0,0]),Tt=(0,Re.Z)(It,2),wt=Tt[0],_t=Tt[1],At=(0,a.useState)([0,0]),Bt=(0,Re.Z)(At,2),Dt=Bt[0],Gt=Bt[1],Pt=(0,a.useState)([0,0]),Pn=(0,Re.Z)(Pt,2),Kn=Pn[0],_n=Pn[1],Fn=(0,a.useState)([0,0]),on=(0,Re.Z)(Fn,2),Zt=on[0],Vn=on[1],Ln=Vp(new Map),kr=(0,Re.Z)(Ln,2),Sr=kr[0],dr=kr[1],cr=Zb(oe,Sr,Dt[0]),Zn=sd(wt,Me),ur=sd(Dt,Me),ti=sd(Kn,Me),Ei=sd(Zt,Me),ki=Math.floor(Zn)<Math.floor(ur+ti),qi=ki?Zn-Ei:Zn-ti,Ho="".concat(ne,"-nav-operations-hidden"),Li=0,bi=0;Me&&w?(Li=0,bi=Math.max(0,ur-qi)):(Li=Math.min(0,qi-ur),bi=0);function $i(Ca){return Ca<Li?Li:Ca>bi?bi:Ca}var go=(0,a.useRef)(null),Gi=(0,a.useState)(),ko=(0,Re.Z)(Gi,2),Er=ko[0],Mr=ko[1];function Zr(){Mr(Date.now())}function tr(){go.current&&clearTimeout(go.current)}PC(fe,function(Ca,Go){function Da(ds,ks){ds(function(Js){var Jl=$i(Js+ks);return Jl})}return ki?(Me?Da(Ne,Ca):Da(ht,Go),tr(),Zr(),!0):!1}),(0,a.useEffect)(function(){return tr(),Er&&(go.current=setTimeout(function(){Mr(0)},100)),tr},[Er]);var yi=OC(cr,qi,Me?He:lt,ur,ti,Ei,(0,Y.Z)((0,Y.Z)({},e),{},{tabs:oe})),Ui=(0,Re.Z)(yi,2),xo=Ui[0],ra=Ui[1],Aa=(0,_r.Z)(function(){var Ca=arguments.length>0&&arguments[0]!==void 0?arguments[0]:C,Go=cr.get(Ca)||{width:0,height:0,left:0,right:0,top:0};if(Me){var Da=He;w?Go.right<He?Da=Go.right:Go.right+Go.width>He+qi&&(Da=Go.right+Go.width-qi):Go.left<-He?Da=-Go.left:Go.left+Go.width>-He+qi&&(Da=-(Go.left+Go.width-qi)),ht(0),Ne($i(Da))}else{var ds=lt;Go.top<-lt?ds=-Go.top:Go.top+Go.height>-lt+qi&&(ds=-(Go.top+Go.height-qi)),Ne(0),ht($i(ds))}}),oa=(0,a.useState)(),Ss=(0,Re.Z)(oa,2),Va=Ss[0],Ga=Ss[1],_a=(0,a.useState)(!1),ns=(0,Re.Z)(_a,2),zs=ns[0],Do=ns[1],na=oe.filter(function(Ca){return!Ca.disabled}).map(function(Ca){return Ca.key}),Ra=function(Go){var Da=na.indexOf(Va||C),ds=na.length,ks=(Da+Go+ds)%ds,Js=na[ks];Ga(Js)},Ka=function(Go){var Da=Go.code,ds=w&&Me,ks=na[0],Js=na[na.length-1];switch(Da){case"ArrowLeft":{Me&&Ra(ds?1:-1);break}case"ArrowRight":{Me&&Ra(ds?-1:1);break}case"ArrowUp":{Go.preventDefault(),Me||Ra(-1);break}case"ArrowDown":{Go.preventDefault(),Me||Ra(1);break}case"Home":{Go.preventDefault(),Ga(ks);break}case"End":{Go.preventDefault(),Ga(Js);break}case"Enter":case"Space":{Go.preventDefault(),Z(Va,Go);break}case"Backspace":case"Delete":{var Jl=na.indexOf(Va),Qs=oe.find(function(us){return us.key===Va}),La=zh(Qs==null?void 0:Qs.closable,Qs==null?void 0:Qs.closeIcon,D,Qs==null?void 0:Qs.disabled);La&&(Go.preventDefault(),Go.stopPropagation(),D.onEdit("remove",{key:Va,event:Go}),Jl===na.length-1?Ra(-1):Ra(1));break}}},ls={};Me?ls[w?"marginRight":"marginLeft"]=k:ls.marginTop=k;var ll=oe.map(function(Ca,Go){var Da=Ca.key;return a.createElement(pg,{id:f,prefixCls:ne,key:Da,tab:Ca,style:Go===0?void 0:ls,closable:Ca.closable,editable:D,active:Da===C,focus:Da===Va,renderWrapper:j,removeAriaLabel:L==null?void 0:L.removeAriaLabel,tabCount:na.length,currentPosition:Go+1,onClick:function(ks){Z(Da,ks)},onKeyDown:Ka,onFocus:function(){zs||Ga(Da),Aa(Da),Zr(),fe.current&&(w||(fe.current.scrollLeft=0),fe.current.scrollTop=0)},onBlur:function(){Ga(void 0)},onMouseDown:function(){Do(!0)},onMouseUp:function(){Do(!1)}})}),Pl=function(){return dr(function(){var Go,Da=new Map,ds=(Go=me.current)===null||Go===void 0?void 0:Go.getBoundingClientRect();return oe.forEach(function(ks){var Js,Jl=ks.key,Qs=(Js=me.current)===null||Js===void 0?void 0:Js.querySelector('[data-node-key="'.concat(Ub(Jl),'"]'));if(Qs){var La=Kb(Qs,ds),us=(0,Re.Z)(La,4),ws=us[0],Ol=us[1],Zu=us[2],Yh=us[3];Da.set(Jl,{width:ws,height:Ol,left:Zu,top:Yh})}}),Da})};(0,a.useEffect)(function(){Pl()},[oe.map(function(Ca){return Ca.key}).join("_")]);var bl=Hb(function(){var Ca=Hp(ae),Go=Hp(ie),Da=Hp(le);_t([Ca[0]-Go[0]-Da[0],Ca[1]-Go[1]-Da[1]]);var ds=Hp(xe);_n(ds);var ks=Hp(ge);Vn(ks);var Js=Hp(me);Gt([Js[0]-ds[0],Js[1]-ds[1]]),Pl()}),Zl=oe.slice(0,xo),pa=oe.slice(ra+1),Jo=[].concat((0,be.Z)(Zl),(0,be.Z)(pa)),Qo=cr.get(C),Wo=Kf({activeTabOffset:Qo,horizontal:Me,indicator:H,rtl:w}),cs=Wo.style;(0,a.useEffect)(function(){Aa()},[C,Li,bi,Ay(Qo),Ay(cr),Me]),(0,a.useEffect)(function(){bl()},[w]);var Ns=!!Jo.length,Za="".concat(ne,"-nav-wrap"),Ea,vs,ys,qs;return Me?w?(vs=He>0,Ea=He!==bi):(Ea=He<0,vs=He!==Li):(ys=lt<0,qs=lt!==Li),a.createElement(c.Z,{onResize:bl},a.createElement("div",{ref:(0,Jt.x1)(t,ae),role:"tablist","aria-orientation":Me?"horizontal":"vertical",className:q()("".concat(ne,"-nav"),s),style:o,onKeyDown:function(){Zr()}},a.createElement(hg,{ref:ie,position:"left",extra:I,prefixCls:ne}),a.createElement(c.Z,{onResize:bl},a.createElement("div",{className:q()(Za,(0,pe.Z)((0,pe.Z)((0,pe.Z)((0,pe.Z)({},"".concat(Za,"-ping-left"),Ea),"".concat(Za,"-ping-right"),vs),"".concat(Za,"-ping-top"),ys),"".concat(Za,"-ping-bottom"),qs)),ref:fe},a.createElement(c.Z,{onResize:bl},a.createElement("div",{ref:me,className:"".concat(ne,"-nav-list"),style:{transform:"translate(".concat(He,"px, ").concat(lt,"px)"),transition:Er?"none":void 0}},ll,a.createElement(Ly,{ref:xe,prefixCls:ne,locale:L,editable:D,style:(0,Y.Z)((0,Y.Z)({},ll.length===0?void 0:ls),{},{visibility:Ns?"hidden":null})}),a.createElement("div",{className:q()("".concat(ne,"-ink-bar"),(0,pe.Z)({},"".concat(ne,"-ink-bar-animated"),y.inkBar)),style:cs}))))),a.createElement(RC,(0,Ge.Z)({},e,{removeAriaLabel:L==null?void 0:L.removeAriaLabel,ref:ge,prefixCls:ne,tabs:Jo,className:!Ns&&Ho,tabMoving:!!Er})),a.createElement(hg,{ref:le,position:"right",extra:I,prefixCls:ne})))}),Up=$C,mg=a.forwardRef(function(e,t){var s=e.prefixCls,o=e.className,f=e.style,y=e.id,C=e.active,w=e.tabKey,I=e.children;return a.createElement("div",{id:y&&"".concat(y,"-panel-").concat(w),role:"tabpanel",tabIndex:C?0:-1,"aria-labelledby":y&&"".concat(y,"-tab-").concat(w),"aria-hidden":!C,style:f,className:q()(s,C&&"".concat(s,"-active"),o),ref:t},I)}),Wp=mg,gg=["renderTabBar"],P0=["label","key"],AC=function(t){var s=t.renderTabBar,o=(0,de.Z)(t,gg),f=a.useContext(Zp),y=f.tabs;if(s){var C=(0,Y.Z)((0,Y.Z)({},o),{},{panes:y.map(function(w){var I=w.label,D=w.key,L=(0,de.Z)(w,P0);return a.createElement(Wp,(0,Ge.Z)({tab:I,key:D,tabKey:D},L))})});return s(C,Up)}return a.createElement(Up,o)},DC=AC,Gp=["key","forceRender","style","className","destroyInactiveTabPane"],O0=function(t){var s=t.id,o=t.activeKey,f=t.animated,y=t.tabPosition,C=t.destroyInactiveTabPane,w=a.useContext(Zp),I=w.prefixCls,D=w.tabs,L=f.tabPane,z="".concat(I,"-tabpane");return a.createElement("div",{className:q()("".concat(I,"-content-holder"))},a.createElement("div",{className:q()("".concat(I,"-content"),"".concat(I,"-content-").concat(y),(0,pe.Z)({},"".concat(I,"-content-animated"),L))},D.map(function(k){var j=k.key,Z=k.forceRender,G=k.style,H=k.className,X=k.destroyInactiveTabPane,ne=(0,de.Z)(k,Gp),oe=j===o;return a.createElement(Rn.ZP,(0,Ge.Z)({key:j,visible:oe,forceRender:Z,removeOnLeave:!!(C||X),leavedClassName:"".concat(z,"-hidden")},f.tabPaneMotion),function(ae,ie){var le=ae.style,fe=ae.className;return a.createElement(Wp,(0,Ge.Z)({},ne,{prefixCls:z,id:s,tabKey:j,animated:L,active:oe,style:(0,Y.Z)((0,Y.Z)({},G),le),className:q()(H,fe),ref:ie}))})})))},LC=O0;function Xb(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{inkBar:!0,tabPane:!1},t;return e===!1?t={inkBar:!1,tabPane:!1}:e===!0?t={inkBar:!0,tabPane:!1}:t=(0,Y.Z)({inkBar:!0},(0,nt.Z)(e)==="object"?e:{}),t.tabPaneMotion&&t.tabPane===void 0&&(t.tabPane=!0),!t.tabPaneMotion&&t.tabPane&&(t.tabPane=!1),t}var Yb=["id","prefixCls","className","items","direction","activeKey","defaultActiveKey","editable","animated","tabPosition","tabBarGutter","tabBarStyle","tabBarExtraContent","locale","more","destroyInactiveTabPane","renderTabBar","onChange","onTabClick","onTabScroll","getPopupContainer","popupClassName","indicator"],qb=0,Jb=a.forwardRef(function(e,t){var s=e.id,o=e.prefixCls,f=o===void 0?"rc-tabs":o,y=e.className,C=e.items,w=e.direction,I=e.activeKey,D=e.defaultActiveKey,L=e.editable,z=e.animated,k=e.tabPosition,j=k===void 0?"top":k,Z=e.tabBarGutter,G=e.tabBarStyle,H=e.tabBarExtraContent,X=e.locale,ne=e.more,oe=e.destroyInactiveTabPane,ae=e.renderTabBar,ie=e.onChange,le=e.onTabClick,fe=e.onTabScroll,me=e.getPopupContainer,ge=e.popupClassName,xe=e.indicator,Me=(0,de.Z)(e,Yb),$e=a.useMemo(function(){return(C||[]).filter(function(Zt){return Zt&&(0,nt.Z)(Zt)==="object"&&"key"in Zt})},[C]),Oe=w==="rtl",He=Xb(z),Ne=(0,a.useState)(!1),Ke=(0,Re.Z)(Ne,2),je=Ke[0],lt=Ke[1];(0,a.useEffect)(function(){lt((0,ad.Z)())},[]);var ht=(0,Cs.Z)(function(){var Zt;return(Zt=$e[0])===null||Zt===void 0?void 0:Zt.key},{value:I,defaultValue:D}),It=(0,Re.Z)(ht,2),Tt=It[0],wt=It[1],_t=(0,a.useState)(function(){return $e.findIndex(function(Zt){return Zt.key===Tt})}),At=(0,Re.Z)(_t,2),Bt=At[0],Dt=At[1];(0,a.useEffect)(function(){var Zt=$e.findIndex(function(Ln){return Ln.key===Tt});if(Zt===-1){var Vn;Zt=Math.max(0,Math.min(Bt,$e.length-1)),wt((Vn=$e[Zt])===null||Vn===void 0?void 0:Vn.key)}Dt(Zt)},[$e.map(function(Zt){return Zt.key}).join("_"),Tt,Bt]);var Gt=(0,Cs.Z)(null,{value:s}),Pt=(0,Re.Z)(Gt,2),Pn=Pt[0],Kn=Pt[1];(0,a.useEffect)(function(){s||(Kn("rc-tabs-".concat(qb)),qb+=1)},[]);function _n(Zt,Vn){le==null||le(Zt,Vn);var Ln=Zt!==Tt;wt(Zt),Ln&&(ie==null||ie(Zt))}var Fn={id:Pn,activeKey:Tt,animated:He,tabPosition:j,rtl:Oe,mobile:je},on=(0,Y.Z)((0,Y.Z)({},Fn),{},{editable:L,locale:X,more:ne,tabBarGutter:Z,onTabClick:_n,onTabScroll:fe,extra:H,style:G,panes:null,getPopupContainer:me,popupClassName:ge,indicator:xe});return a.createElement(Zp.Provider,{value:{tabs:$e,prefixCls:f}},a.createElement("div",(0,Ge.Z)({ref:t,id:s,className:q()(f,"".concat(f,"-").concat(j),(0,pe.Z)((0,pe.Z)((0,pe.Z)({},"".concat(f,"-mobile"),je),"".concat(f,"-editable"),L),"".concat(f,"-rtl"),Oe),y)},Me),a.createElement(DC,(0,Ge.Z)({},on,{renderTabBar:ae})),a.createElement(LC,(0,Ge.Z)({destroyInactiveTabPane:oe},Fn,{animated:He}))))}),zC=Jb,Qb=zC;const NC={motionAppear:!1,motionEnter:!0,motionLeave:!0};function e1(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{inkBar:!0,tabPane:!1},s;return t===!1?s={inkBar:!1,tabPane:!1}:t===!0?s={inkBar:!0,tabPane:!0}:s=Object.assign({inkBar:!0},typeof t=="object"?t:{}),s.tabPane&&(s.tabPaneMotion=Object.assign(Object.assign({},NC),{motionName:(0,Et.m)(e,"switch")})),s}var BC=function(e,t){var s={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(s[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(s[o[f]]=e[o[f]]);return s};function FC(e){return e.filter(t=>t)}function R0(e,t){if(e)return e;const s=(0,Gl.Z)(t).map(o=>{if(a.isValidElement(o)){const{key:f,props:y}=o,C=y||{},{tab:w}=C,I=BC(C,["tab"]);return Object.assign(Object.assign({key:String(f)},I),{label:w})}return null});return FC(s)}var $0=e=>{const{componentCls:t,motionDurationSlow:s}=e;return[{[t]:{[`${t}-switch`]:{"&-appear, &-enter":{transition:"none","&-start":{opacity:0},"&-active":{opacity:1,transition:`opacity ${s}`}},"&-leave":{position:"absolute",transition:"none",inset:0,"&-start":{opacity:1},"&-active":{opacity:0,transition:`opacity ${s}`}}}}},[(0,Yo.oN)(e,"slide-up"),(0,Yo.oN)(e,"slide-down")]]};const A0=e=>{const{componentCls:t,tabsCardPadding:s,cardBg:o,cardGutter:f,colorBorderSecondary:y,itemSelectedColor:C}=e;return{[`${t}-card`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab`]:{margin:0,padding:s,background:o,border:`${(0,he.bf)(e.lineWidth)} ${e.lineType} ${y}`,transition:`all ${e.motionDurationSlow} ${e.motionEaseInOut}`},[`${t}-tab-active`]:{color:C,background:e.colorBgContainer},[`${t}-tab-focus`]:Object.assign({},(0,Qt.oN)(e,-3)),[`${t}-ink-bar`]:{visibility:"hidden"},[`& ${t}-tab${t}-tab-focus ${t}-tab-btn`]:{outline:"none"}},[`&${t}-top, &${t}-bottom`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab + ${t}-tab`]:{marginLeft:{_skip_check_:!0,value:(0,he.bf)(f)}}}},[`&${t}-top`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab`]:{borderRadius:`${(0,he.bf)(e.borderRadiusLG)} ${(0,he.bf)(e.borderRadiusLG)} 0 0`},[`${t}-tab-active`]:{borderBottomColor:e.colorBgContainer}}},[`&${t}-bottom`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab`]:{borderRadius:`0 0 ${(0,he.bf)(e.borderRadiusLG)} ${(0,he.bf)(e.borderRadiusLG)}`},[`${t}-tab-active`]:{borderTopColor:e.colorBgContainer}}},[`&${t}-left, &${t}-right`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab + ${t}-tab`]:{marginTop:(0,he.bf)(f)}}},[`&${t}-left`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab`]:{borderRadius:{_skip_check_:!0,value:`${(0,he.bf)(e.borderRadiusLG)} 0 0 ${(0,he.bf)(e.borderRadiusLG)}`}},[`${t}-tab-active`]:{borderRightColor:{_skip_check_:!0,value:e.colorBgContainer}}}},[`&${t}-right`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab`]:{borderRadius:{_skip_check_:!0,value:`0 ${(0,he.bf)(e.borderRadiusLG)} ${(0,he.bf)(e.borderRadiusLG)} 0`}},[`${t}-tab-active`]:{borderLeftColor:{_skip_check_:!0,value:e.colorBgContainer}}}}}}},kC=e=>{const{componentCls:t,itemHoverColor:s,dropdownEdgeChildVerticalPadding:o}=e;return{[`${t}-dropdown`]:Object.assign(Object.assign({},(0,Qt.Wf)(e)),{position:"absolute",top:-9999,left:{_skip_check_:!0,value:-9999},zIndex:e.zIndexPopup,display:"block","&-hidden":{display:"none"},[`${t}-dropdown-menu`]:{maxHeight:e.tabsDropdownHeight,margin:0,padding:`${(0,he.bf)(o)} 0`,overflowX:"hidden",overflowY:"auto",textAlign:{_skip_check_:!0,value:"left"},listStyleType:"none",backgroundColor:e.colorBgContainer,backgroundClip:"padding-box",borderRadius:e.borderRadiusLG,outline:"none",boxShadow:e.boxShadowSecondary,"&-item":Object.assign(Object.assign({},Qt.vS),{display:"flex",alignItems:"center",minWidth:e.tabsDropdownWidth,margin:0,padding:`${(0,he.bf)(e.paddingXXS)} ${(0,he.bf)(e.paddingSM)}`,color:e.colorText,fontWeight:"normal",fontSize:e.fontSize,lineHeight:e.lineHeight,cursor:"pointer",transition:`all ${e.motionDurationSlow}`,"> span":{flex:1,whiteSpace:"nowrap"},"&-remove":{flex:"none",marginLeft:{_skip_check_:!0,value:e.marginSM},color:e.colorTextDescription,fontSize:e.fontSizeSM,background:"transparent",border:0,cursor:"pointer","&:hover":{color:s}},"&:hover":{background:e.controlItemBgHover},"&-disabled":{"&, &:hover":{color:e.colorTextDisabled,background:"transparent",cursor:"not-allowed"}}})}})}},By=e=>{const{componentCls:t,margin:s,colorBorderSecondary:o,horizontalMargin:f,verticalItemPadding:y,verticalItemMargin:C,calc:w}=e;return{[`${t}-top, ${t}-bottom`]:{flexDirection:"column",[`> ${t}-nav, > div > ${t}-nav`]:{margin:f,"&::before":{position:"absolute",right:{_skip_check_:!0,value:0},left:{_skip_check_:!0,value:0},borderBottom:`${(0,he.bf)(e.lineWidth)} ${e.lineType} ${o}`,content:"''"},[`${t}-ink-bar`]:{height:e.lineWidthBold,"&-animated":{transition:`width ${e.motionDurationSlow}, left ${e.motionDurationSlow},
            right ${e.motionDurationSlow}`}},[`${t}-nav-wrap`]:{"&::before, &::after":{top:0,bottom:0,width:e.controlHeight},"&::before":{left:{_skip_check_:!0,value:0},boxShadow:e.boxShadowTabsOverflowLeft},"&::after":{right:{_skip_check_:!0,value:0},boxShadow:e.boxShadowTabsOverflowRight},[`&${t}-nav-wrap-ping-left::before`]:{opacity:1},[`&${t}-nav-wrap-ping-right::after`]:{opacity:1}}}},[`${t}-top`]:{[`> ${t}-nav,
        > div > ${t}-nav`]:{"&::before":{bottom:0},[`${t}-ink-bar`]:{bottom:0}}},[`${t}-bottom`]:{[`> ${t}-nav, > div > ${t}-nav`]:{order:1,marginTop:s,marginBottom:0,"&::before":{top:0},[`${t}-ink-bar`]:{top:0}},[`> ${t}-content-holder, > div > ${t}-content-holder`]:{order:0}},[`${t}-left, ${t}-right`]:{[`> ${t}-nav, > div > ${t}-nav`]:{flexDirection:"column",minWidth:w(e.controlHeight).mul(1.25).equal(),[`${t}-tab`]:{padding:y,textAlign:"center"},[`${t}-tab + ${t}-tab`]:{margin:C},[`${t}-nav-wrap`]:{flexDirection:"column","&::before, &::after":{right:{_skip_check_:!0,value:0},left:{_skip_check_:!0,value:0},height:e.controlHeight},"&::before":{top:0,boxShadow:e.boxShadowTabsOverflowTop},"&::after":{bottom:0,boxShadow:e.boxShadowTabsOverflowBottom},[`&${t}-nav-wrap-ping-top::before`]:{opacity:1},[`&${t}-nav-wrap-ping-bottom::after`]:{opacity:1}},[`${t}-ink-bar`]:{width:e.lineWidthBold,"&-animated":{transition:`height ${e.motionDurationSlow}, top ${e.motionDurationSlow}`}},[`${t}-nav-list, ${t}-nav-operations`]:{flex:"1 0 auto",flexDirection:"column"}}},[`${t}-left`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-ink-bar`]:{right:{_skip_check_:!0,value:0}}},[`> ${t}-content-holder, > div > ${t}-content-holder`]:{marginLeft:{_skip_check_:!0,value:(0,he.bf)(w(e.lineWidth).mul(-1).equal())},borderLeft:{_skip_check_:!0,value:`${(0,he.bf)(e.lineWidth)} ${e.lineType} ${e.colorBorder}`},[`> ${t}-content > ${t}-tabpane`]:{paddingLeft:{_skip_check_:!0,value:e.paddingLG}}}},[`${t}-right`]:{[`> ${t}-nav, > div > ${t}-nav`]:{order:1,[`${t}-ink-bar`]:{left:{_skip_check_:!0,value:0}}},[`> ${t}-content-holder, > div > ${t}-content-holder`]:{order:0,marginRight:{_skip_check_:!0,value:w(e.lineWidth).mul(-1).equal()},borderRight:{_skip_check_:!0,value:`${(0,he.bf)(e.lineWidth)} ${e.lineType} ${e.colorBorder}`},[`> ${t}-content > ${t}-tabpane`]:{paddingRight:{_skip_check_:!0,value:e.paddingLG}}}}}},Fy=e=>{const{componentCls:t,cardPaddingSM:s,cardPaddingLG:o,horizontalItemPaddingSM:f,horizontalItemPaddingLG:y}=e;return{[t]:{"&-small":{[`> ${t}-nav`]:{[`${t}-tab`]:{padding:f,fontSize:e.titleFontSizeSM}}},"&-large":{[`> ${t}-nav`]:{[`${t}-tab`]:{padding:y,fontSize:e.titleFontSizeLG}}}},[`${t}-card`]:{[`&${t}-small`]:{[`> ${t}-nav`]:{[`${t}-tab`]:{padding:s}},[`&${t}-bottom`]:{[`> ${t}-nav ${t}-tab`]:{borderRadius:`0 0 ${(0,he.bf)(e.borderRadius)} ${(0,he.bf)(e.borderRadius)}`}},[`&${t}-top`]:{[`> ${t}-nav ${t}-tab`]:{borderRadius:`${(0,he.bf)(e.borderRadius)} ${(0,he.bf)(e.borderRadius)} 0 0`}},[`&${t}-right`]:{[`> ${t}-nav ${t}-tab`]:{borderRadius:{_skip_check_:!0,value:`0 ${(0,he.bf)(e.borderRadius)} ${(0,he.bf)(e.borderRadius)} 0`}}},[`&${t}-left`]:{[`> ${t}-nav ${t}-tab`]:{borderRadius:{_skip_check_:!0,value:`${(0,he.bf)(e.borderRadius)} 0 0 ${(0,he.bf)(e.borderRadius)}`}}}},[`&${t}-large`]:{[`> ${t}-nav`]:{[`${t}-tab`]:{padding:o}}}}}},D0=e=>{const{componentCls:t,itemActiveColor:s,itemHoverColor:o,iconCls:f,tabsHorizontalItemMargin:y,horizontalItemPadding:C,itemSelectedColor:w,itemColor:I}=e,D=`${t}-tab`;return{[D]:{position:"relative",WebkitTouchCallout:"none",WebkitTapHighlightColor:"transparent",display:"inline-flex",alignItems:"center",padding:C,fontSize:e.titleFontSize,background:"transparent",border:0,outline:"none",cursor:"pointer",color:I,"&-btn, &-remove":{"&:focus:not(:focus-visible), &:active":{color:s}},"&-btn":{outline:"none",transition:`all ${e.motionDurationSlow}`,[`${D}-icon:not(:last-child)`]:{marginInlineEnd:e.marginSM}},"&-remove":Object.assign({flex:"none",marginRight:{_skip_check_:!0,value:e.calc(e.marginXXS).mul(-1).equal()},marginLeft:{_skip_check_:!0,value:e.marginXS},color:e.colorTextDescription,fontSize:e.fontSizeSM,background:"transparent",border:"none",outline:"none",cursor:"pointer",transition:`all ${e.motionDurationSlow}`,"&:hover":{color:e.colorTextHeading}},(0,Qt.Qy)(e)),"&:hover":{color:o},[`&${D}-active ${D}-btn`]:{color:w,textShadow:e.tabsActiveTextShadow},[`&${D}-focus ${D}-btn`]:Object.assign({},(0,Qt.oN)(e)),[`&${D}-disabled`]:{color:e.colorTextDisabled,cursor:"not-allowed"},[`&${D}-disabled ${D}-btn, &${D}-disabled ${t}-remove`]:{"&:focus, &:active":{color:e.colorTextDisabled}},[`& ${D}-remove ${f}`]:{margin:0},[`${f}:not(:last-child)`]:{marginRight:{_skip_check_:!0,value:e.marginSM}}},[`${D} + ${D}`]:{margin:{_skip_check_:!0,value:y}}}},t1=e=>{const{componentCls:t,tabsHorizontalItemMarginRTL:s,iconCls:o,cardGutter:f,calc:y}=e;return{[`${t}-rtl`]:{direction:"rtl",[`${t}-nav`]:{[`${t}-tab`]:{margin:{_skip_check_:!0,value:s},[`${t}-tab:last-of-type`]:{marginLeft:{_skip_check_:!0,value:0}},[o]:{marginRight:{_skip_check_:!0,value:0},marginLeft:{_skip_check_:!0,value:(0,he.bf)(e.marginSM)}},[`${t}-tab-remove`]:{marginRight:{_skip_check_:!0,value:(0,he.bf)(e.marginXS)},marginLeft:{_skip_check_:!0,value:(0,he.bf)(y(e.marginXXS).mul(-1).equal())},[o]:{margin:0}}}},[`&${t}-left`]:{[`> ${t}-nav`]:{order:1},[`> ${t}-content-holder`]:{order:0}},[`&${t}-right`]:{[`> ${t}-nav`]:{order:0},[`> ${t}-content-holder`]:{order:1}},[`&${t}-card${t}-top, &${t}-card${t}-bottom`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab + ${t}-tab`]:{marginRight:{_skip_check_:!0,value:f},marginLeft:{_skip_check_:!0,value:0}}}}},[`${t}-dropdown-rtl`]:{direction:"rtl"},[`${t}-menu-item`]:{[`${t}-dropdown-rtl`]:{textAlign:{_skip_check_:!0,value:"right"}}}}},n1=e=>{const{componentCls:t,tabsCardPadding:s,cardHeight:o,cardGutter:f,itemHoverColor:y,itemActiveColor:C,colorBorderSecondary:w}=e;return{[t]:Object.assign(Object.assign(Object.assign(Object.assign({},(0,Qt.Wf)(e)),{display:"flex",[`> ${t}-nav, > div > ${t}-nav`]:{position:"relative",display:"flex",flex:"none",alignItems:"center",[`${t}-nav-wrap`]:{position:"relative",display:"flex",flex:"auto",alignSelf:"stretch",overflow:"hidden",whiteSpace:"nowrap",transform:"translate(0)","&::before, &::after":{position:"absolute",zIndex:1,opacity:0,transition:`opacity ${e.motionDurationSlow}`,content:"''",pointerEvents:"none"}},[`${t}-nav-list`]:{position:"relative",display:"flex",transition:`opacity ${e.motionDurationSlow}`},[`${t}-nav-operations`]:{display:"flex",alignSelf:"stretch"},[`${t}-nav-operations-hidden`]:{position:"absolute",visibility:"hidden",pointerEvents:"none"},[`${t}-nav-more`]:{position:"relative",padding:s,background:"transparent",border:0,color:e.colorText,"&::after":{position:"absolute",right:{_skip_check_:!0,value:0},bottom:0,left:{_skip_check_:!0,value:0},height:e.calc(e.controlHeightLG).div(8).equal(),transform:"translateY(100%)",content:"''"}},[`${t}-nav-add`]:Object.assign({minWidth:o,marginLeft:{_skip_check_:!0,value:f},padding:(0,he.bf)(e.paddingXS),background:"transparent",border:`${(0,he.bf)(e.lineWidth)} ${e.lineType} ${w}`,borderRadius:`${(0,he.bf)(e.borderRadiusLG)} ${(0,he.bf)(e.borderRadiusLG)} 0 0`,outline:"none",cursor:"pointer",color:e.colorText,transition:`all ${e.motionDurationSlow} ${e.motionEaseInOut}`,"&:hover":{color:y},"&:active, &:focus:not(:focus-visible)":{color:C}},(0,Qt.Qy)(e,-3))},[`${t}-extra-content`]:{flex:"none"},[`${t}-ink-bar`]:{position:"absolute",background:e.inkBarColor,pointerEvents:"none"}}),D0(e)),{[`${t}-content`]:{position:"relative",width:"100%"},[`${t}-content-holder`]:{flex:"auto",minWidth:0,minHeight:0},[`${t}-tabpane`]:Object.assign(Object.assign({},(0,Qt.Qy)(e)),{"&-hidden":{display:"none"}})}),[`${t}-centered`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-nav-wrap`]:{[`&:not([class*='${t}-nav-wrap-ping']) > ${t}-nav-list`]:{margin:"auto"}}}}}},ky=e=>{const t=e.controlHeightLG;return{zIndexPopup:e.zIndexPopupBase+50,cardBg:e.colorFillAlter,cardHeight:t,cardPadding:`${(t-Math.round(e.fontSize*e.lineHeight))/2-e.lineWidth}px ${e.padding}px`,cardPaddingSM:`${e.paddingXXS*1.5}px ${e.padding}px`,cardPaddingLG:`${e.paddingXS}px ${e.padding}px ${e.paddingXXS*1.5}px`,titleFontSize:e.fontSize,titleFontSizeLG:e.fontSizeLG,titleFontSizeSM:e.fontSize,inkBarColor:e.colorPrimary,horizontalMargin:`0 0 ${e.margin}px 0`,horizontalItemGutter:32,horizontalItemMargin:"",horizontalItemMarginRTL:"",horizontalItemPadding:`${e.paddingSM}px 0`,horizontalItemPaddingSM:`${e.paddingXS}px 0`,horizontalItemPaddingLG:`${e.padding}px 0`,verticalItemPadding:`${e.paddingXS}px ${e.paddingLG}px`,verticalItemMargin:`${e.margin}px 0 0 0`,itemColor:e.colorText,itemSelectedColor:e.colorPrimary,itemHoverColor:e.colorPrimaryHover,itemActiveColor:e.colorPrimaryActive,cardGutter:e.marginXXS/2}};var r1=(0,te.I$)("Tabs",e=>{const t=(0,ci.IX)(e,{tabsCardPadding:e.cardPadding,dropdownEdgeChildVerticalPadding:e.paddingXXS,tabsActiveTextShadow:"0 0 0.25px currentcolor",tabsDropdownHeight:200,tabsDropdownWidth:120,tabsHorizontalItemMargin:`0 0 0 ${(0,he.bf)(e.horizontalItemGutter)}`,tabsHorizontalItemMarginRTL:`0 0 0 ${(0,he.bf)(e.horizontalItemGutter)}`});return[Fy(t),t1(t),By(t),kC(t),A0(t),n1(t),$0(t)]},ky),L0=()=>null,o1=function(e,t){var s={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(s[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(s[o[f]]=e[o[f]]);return s};const Zy=e=>{var t,s,o,f,y,C,w,I,D,L,z;const{type:k,className:j,rootClassName:Z,size:G,onEdit:H,hideAdd:X,centered:ne,addIcon:oe,removeIcon:ae,moreIcon:ie,more:le,popupClassName:fe,children:me,items:ge,animated:xe,style:Me,indicatorSize:$e,indicator:Oe}=e,He=o1(e,["type","className","rootClassName","size","onEdit","hideAdd","centered","addIcon","removeIcon","moreIcon","more","popupClassName","children","items","animated","style","indicatorSize","indicator"]),{prefixCls:Ne}=He,{direction:Ke,tabs:je,getPrefixCls:lt,getPopupContainer:ht}=a.useContext(ye.E_),It=lt("tabs",Ne),Tt=(0,Wn.Z)(It),[wt,_t,At]=r1(It,Tt);let Bt;k==="editable-card"&&(Bt={onEdit:(Fn,on)=>{let{key:Zt,event:Vn}=on;H==null||H(Fn==="add"?Vn:Zt,Fn)},removeIcon:(t=ae!=null?ae:je==null?void 0:je.removeIcon)!==null&&t!==void 0?t:a.createElement(lr.Z,null),addIcon:(oe!=null?oe:je==null?void 0:je.addIcon)||a.createElement(kb,null),showAdd:X!==!0});const Dt=lt(),Gt=(0,hc.Z)(G),Pt=R0(ge,me),Pn=e1(It,xe),Kn=Object.assign(Object.assign({},je==null?void 0:je.style),Me),_n={align:(s=Oe==null?void 0:Oe.align)!==null&&s!==void 0?s:(o=je==null?void 0:je.indicator)===null||o===void 0?void 0:o.align,size:(w=(y=(f=Oe==null?void 0:Oe.size)!==null&&f!==void 0?f:$e)!==null&&y!==void 0?y:(C=je==null?void 0:je.indicator)===null||C===void 0?void 0:C.size)!==null&&w!==void 0?w:je==null?void 0:je.indicatorSize};return wt(a.createElement(Qb,Object.assign({direction:Ke,getPopupContainer:ht},He,{items:Pt,className:q()({[`${It}-${Gt}`]:Gt,[`${It}-card`]:["card","editable-card"].includes(k),[`${It}-editable-card`]:k==="editable-card",[`${It}-centered`]:ne},je==null?void 0:je.className,j,Z,_t,At,Tt),popupClassName:q()(fe,_t,At,Tt),style:Kn,editable:Bt,more:Object.assign({icon:(z=(L=(D=(I=je==null?void 0:je.more)===null||I===void 0?void 0:I.icon)!==null&&D!==void 0?D:je==null?void 0:je.moreIcon)!==null&&L!==void 0?L:ie)!==null&&z!==void 0?z:a.createElement(vr,null),transitionName:`${Dt}-slide-up`},le),prefixCls:It,animated:Pn,indicator:_n})))};Zy.TabPane=L0;var jy=Zy,a1=function(e,t){var s={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(s[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(s[o[f]]=e[o[f]]);return s},z0=e=>{var{prefixCls:t,className:s,hoverable:o=!0}=e,f=a1(e,["prefixCls","className","hoverable"]);const{getPrefixCls:y}=a.useContext(ye.E_),C=y("card",t),w=q()(`${C}-grid`,s,{[`${C}-grid-hoverable`]:o});return a.createElement("div",Object.assign({},f,{className:w}))};const Vy=e=>{const{antCls:t,componentCls:s,headerHeight:o,headerPadding:f,tabsMarginBottom:y}=e;return Object.assign(Object.assign({display:"flex",justifyContent:"center",flexDirection:"column",minHeight:o,marginBottom:-1,padding:`0 ${(0,he.bf)(f)}`,color:e.colorTextHeading,fontWeight:e.fontWeightStrong,fontSize:e.headerFontSize,background:e.headerBg,borderBottom:`${(0,he.bf)(e.lineWidth)} ${e.lineType} ${e.colorBorderSecondary}`,borderRadius:`${(0,he.bf)(e.borderRadiusLG)} ${(0,he.bf)(e.borderRadiusLG)} 0 0`},(0,Qt.dF)()),{"&-wrapper":{width:"100%",display:"flex",alignItems:"center"},"&-title":Object.assign(Object.assign({display:"inline-block",flex:1},Qt.vS),{[`
          > ${s}-typography,
          > ${s}-typography-edit-content
        `]:{insetInlineStart:0,marginTop:0,marginBottom:0}}),[`${t}-tabs-top`]:{clear:"both",marginBottom:y,color:e.colorText,fontWeight:"normal",fontSize:e.fontSize,"&-bar":{borderBottom:`${(0,he.bf)(e.lineWidth)} ${e.lineType} ${e.colorBorderSecondary}`}}})},Hy=e=>{const{cardPaddingBase:t,colorBorderSecondary:s,cardShadow:o,lineWidth:f}=e;return{width:"33.33%",padding:t,border:0,borderRadius:0,boxShadow:`
      ${(0,he.bf)(f)} 0 0 0 ${s},
      0 ${(0,he.bf)(f)} 0 0 ${s},
      ${(0,he.bf)(f)} ${(0,he.bf)(f)} 0 0 ${s},
      ${(0,he.bf)(f)} 0 0 0 ${s} inset,
      0 ${(0,he.bf)(f)} 0 0 ${s} inset;
    `,transition:`all ${e.motionDurationMid}`,"&-hoverable:hover":{position:"relative",zIndex:1,boxShadow:o}}},N0=e=>{const{componentCls:t,iconCls:s,actionsLiMargin:o,cardActionsIconSize:f,colorBorderSecondary:y,actionsBg:C}=e;return Object.assign(Object.assign({margin:0,padding:0,listStyle:"none",background:C,borderTop:`${(0,he.bf)(e.lineWidth)} ${e.lineType} ${y}`,display:"flex",borderRadius:`0 0 ${(0,he.bf)(e.borderRadiusLG)} ${(0,he.bf)(e.borderRadiusLG)}`},(0,Qt.dF)()),{"& > li":{margin:o,color:e.colorTextDescription,textAlign:"center","> span":{position:"relative",display:"block",minWidth:e.calc(e.cardActionsIconSize).mul(2).equal(),fontSize:e.fontSize,lineHeight:e.lineHeight,cursor:"pointer","&:hover":{color:e.colorPrimary,transition:`color ${e.motionDurationMid}`},[`a:not(${t}-btn), > ${s}`]:{display:"inline-block",width:"100%",color:e.colorTextDescription,lineHeight:(0,he.bf)(e.fontHeight),transition:`color ${e.motionDurationMid}`,"&:hover":{color:e.colorPrimary}},[`> ${s}`]:{fontSize:f,lineHeight:(0,he.bf)(e.calc(f).mul(e.lineHeight).equal())}},"&:not(:last-child)":{borderInlineEnd:`${(0,he.bf)(e.lineWidth)} ${e.lineType} ${y}`}}})},B0=e=>Object.assign(Object.assign({margin:`${(0,he.bf)(e.calc(e.marginXXS).mul(-1).equal())} 0`,display:"flex"},(0,Qt.dF)()),{"&-avatar":{paddingInlineEnd:e.padding},"&-detail":{overflow:"hidden",flex:1,"> div:not(:last-child)":{marginBottom:e.marginXS}},"&-title":Object.assign({color:e.colorTextHeading,fontWeight:e.fontWeightStrong,fontSize:e.fontSizeLG},Qt.vS),"&-description":{color:e.colorTextDescription}}),l1=e=>{const{componentCls:t,colorFillAlter:s,headerPadding:o,bodyPadding:f}=e;return{[`${t}-head`]:{padding:`0 ${(0,he.bf)(o)}`,background:s,"&-title":{fontSize:e.fontSize}},[`${t}-body`]:{padding:`${(0,he.bf)(e.padding)} ${(0,he.bf)(f)}`}}},F0=e=>{const{componentCls:t}=e;return{overflow:"hidden",[`${t}-body`]:{userSelect:"none"}}},c1=e=>{const{componentCls:t,cardShadow:s,cardHeadPadding:o,colorBorderSecondary:f,boxShadowTertiary:y,bodyPadding:C,extraColor:w}=e;return{[t]:Object.assign(Object.assign({},(0,Qt.Wf)(e)),{position:"relative",background:e.colorBgContainer,borderRadius:e.borderRadiusLG,[`&:not(${t}-bordered)`]:{boxShadow:y},[`${t}-head`]:Vy(e),[`${t}-extra`]:{marginInlineStart:"auto",color:w,fontWeight:"normal",fontSize:e.fontSize},[`${t}-body`]:Object.assign({padding:C,borderRadius:`0 0 ${(0,he.bf)(e.borderRadiusLG)} ${(0,he.bf)(e.borderRadiusLG)}`},(0,Qt.dF)()),[`${t}-grid`]:Hy(e),[`${t}-cover`]:{"> *":{display:"block",width:"100%",borderRadius:`${(0,he.bf)(e.borderRadiusLG)} ${(0,he.bf)(e.borderRadiusLG)} 0 0`}},[`${t}-actions`]:N0(e),[`${t}-meta`]:B0(e)}),[`${t}-bordered`]:{border:`${(0,he.bf)(e.lineWidth)} ${e.lineType} ${f}`,[`${t}-cover`]:{marginTop:-1,marginInlineStart:-1,marginInlineEnd:-1}},[`${t}-hoverable`]:{cursor:"pointer",transition:`box-shadow ${e.motionDurationMid}, border-color ${e.motionDurationMid}`,"&:hover":{borderColor:"transparent",boxShadow:s}},[`${t}-contain-grid`]:{borderRadius:`${(0,he.bf)(e.borderRadiusLG)} ${(0,he.bf)(e.borderRadiusLG)} 0 0 `,[`${t}-body`]:{display:"flex",flexWrap:"wrap"},[`&:not(${t}-loading) ${t}-body`]:{marginBlockStart:e.calc(e.lineWidth).mul(-1).equal(),marginInlineStart:e.calc(e.lineWidth).mul(-1).equal(),padding:0}},[`${t}-contain-tabs`]:{[`> div${t}-head`]:{minHeight:0,[`${t}-head-title, ${t}-extra`]:{paddingTop:o}}},[`${t}-type-inner`]:l1(e),[`${t}-loading`]:F0(e),[`${t}-rtl`]:{direction:"rtl"}}},ZC=e=>{const{componentCls:t,bodyPaddingSM:s,headerPaddingSM:o,headerHeightSM:f,headerFontSizeSM:y}=e;return{[`${t}-small`]:{[`> ${t}-head`]:{minHeight:f,padding:`0 ${(0,he.bf)(o)}`,fontSize:y,[`> ${t}-head-wrapper`]:{[`> ${t}-extra`]:{fontSize:e.fontSize}}},[`> ${t}-body`]:{padding:s}},[`${t}-small${t}-contain-tabs`]:{[`> ${t}-head`]:{[`${t}-head-title, ${t}-extra`]:{paddingTop:0,display:"flex",alignItems:"center"}}}}},u1=e=>{var t,s;return{headerBg:"transparent",headerFontSize:e.fontSizeLG,headerFontSizeSM:e.fontSize,headerHeight:e.fontSizeLG*e.lineHeightLG+e.padding*2,headerHeightSM:e.fontSize*e.lineHeight+e.paddingXS*2,actionsBg:e.colorBgContainer,actionsLiMargin:`${e.paddingSM}px 0`,tabsMarginBottom:-e.padding-e.lineWidth,extraColor:e.colorText,bodyPaddingSM:12,headerPaddingSM:12,bodyPadding:(t=e.bodyPadding)!==null&&t!==void 0?t:e.paddingLG,headerPadding:(s=e.headerPadding)!==null&&s!==void 0?s:e.paddingLG}};var d1=(0,te.I$)("Card",e=>{const t=(0,ci.IX)(e,{cardShadow:e.boxShadowCard,cardHeadPadding:e.padding,cardPaddingBase:e.paddingLG,cardActionsIconSize:e.fontSize});return[c1(t),ZC(t)]},u1),mf=B(7038),Uy=function(e,t){var s={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(s[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(s[o[f]]=e[o[f]]);return s};const f1=e=>{const{actionClasses:t,actions:s=[],actionStyle:o}=e;return a.createElement("ul",{className:t,style:o},s.map((f,y)=>{const C=`action-${y}`;return a.createElement("li",{style:{width:`${100/s.length}%`},key:C},a.createElement("span",null,f))}))};var h1=a.forwardRef((e,t)=>{const{prefixCls:s,className:o,rootClassName:f,style:y,extra:C,headStyle:w={},bodyStyle:I={},title:D,loading:L,bordered:z,variant:k,size:j,type:Z,cover:G,actions:H,tabList:X,children:ne,activeTabKey:oe,defaultActiveTabKey:ae,tabBarExtraContent:ie,hoverable:le,tabProps:fe={},classNames:me,styles:ge}=e,xe=Uy(e,["prefixCls","className","rootClassName","style","extra","headStyle","bodyStyle","title","loading","bordered","variant","size","type","cover","actions","tabList","children","activeTabKey","defaultActiveTabKey","tabBarExtraContent","hoverable","tabProps","classNames","styles"]),{getPrefixCls:Me,direction:$e,card:Oe}=a.useContext(ye.E_),[He]=(0,mf.Z)("card",k,z),Ne=cr=>{var Zn;(Zn=e.onTabChange)===null||Zn===void 0||Zn.call(e,cr)},Ke=cr=>{var Zn;return q()((Zn=Oe==null?void 0:Oe.classNames)===null||Zn===void 0?void 0:Zn[cr],me==null?void 0:me[cr])},je=cr=>{var Zn;return Object.assign(Object.assign({},(Zn=Oe==null?void 0:Oe.styles)===null||Zn===void 0?void 0:Zn[cr]),ge==null?void 0:ge[cr])},lt=a.useMemo(()=>{let cr=!1;return a.Children.forEach(ne,Zn=>{(Zn==null?void 0:Zn.type)===z0&&(cr=!0)}),cr},[ne]),ht=Me("card",s),[It,Tt,wt]=d1(ht),_t=a.createElement(vo,{loading:!0,active:!0,paragraph:{rows:4},title:!1},ne),At=oe!==void 0,Bt=Object.assign(Object.assign({},fe),{[At?"activeKey":"defaultActiveKey"]:At?oe:ae,tabBarExtraContent:ie});let Dt;const Gt=(0,hc.Z)(j),Pt=!Gt||Gt==="default"?"large":Gt,Pn=X?a.createElement(jy,Object.assign({size:Pt},Bt,{className:`${ht}-head-tabs`,onChange:Ne,items:X.map(cr=>{var{tab:Zn}=cr,ur=Uy(cr,["tab"]);return Object.assign({label:Zn},ur)})})):null;if(D||C||Pn){const cr=q()(`${ht}-head`,Ke("header")),Zn=q()(`${ht}-head-title`,Ke("title")),ur=q()(`${ht}-extra`,Ke("extra")),ti=Object.assign(Object.assign({},w),je("header"));Dt=a.createElement("div",{className:cr,style:ti},a.createElement("div",{className:`${ht}-head-wrapper`},D&&a.createElement("div",{className:Zn,style:je("title")},D),C&&a.createElement("div",{className:ur,style:je("extra")},C)),Pn)}const Kn=q()(`${ht}-cover`,Ke("cover")),_n=G?a.createElement("div",{className:Kn,style:je("cover")},G):null,Fn=q()(`${ht}-body`,Ke("body")),on=Object.assign(Object.assign({},I),je("body")),Zt=a.createElement("div",{className:Fn,style:on},L?_t:ne),Vn=q()(`${ht}-actions`,Ke("actions")),Ln=H!=null&&H.length?a.createElement(f1,{actionClasses:Vn,actionStyle:je("actions"),actions:H}):null,kr=(0,$a.Z)(xe,["onTabChange"]),Sr=q()(ht,Oe==null?void 0:Oe.className,{[`${ht}-loading`]:L,[`${ht}-bordered`]:He!=="borderless",[`${ht}-hoverable`]:le,[`${ht}-contain-grid`]:lt,[`${ht}-contain-tabs`]:X==null?void 0:X.length,[`${ht}-${Gt}`]:Gt,[`${ht}-type-${Z}`]:!!Z,[`${ht}-rtl`]:$e==="rtl"},o,f,Tt,wt),dr=Object.assign(Object.assign({},Oe==null?void 0:Oe.style),y);return It(a.createElement("div",Object.assign({ref:t},kr,{className:Sr,style:dr}),Dt,_n,Zt,Ln))}),VC=function(e,t){var s={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(s[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(s[o[f]]=e[o[f]]);return s},m1=e=>{const{prefixCls:t,className:s,avatar:o,title:f,description:y}=e,C=VC(e,["prefixCls","className","avatar","title","description"]),{getPrefixCls:w}=a.useContext(ye.E_),I=w("card",t),D=q()(`${I}-meta`,s),L=o?a.createElement("div",{className:`${I}-meta-avatar`},o):null,z=f?a.createElement("div",{className:`${I}-meta-title`},f):null,k=y?a.createElement("div",{className:`${I}-meta-description`},y):null,j=z||k?a.createElement("div",{className:`${I}-meta-detail`},z,k):null;return a.createElement("div",Object.assign({},C,{className:D}),L,j)};const k0=h1;k0.Grid=z0,k0.Meta=m1;var Z0=k0,Yf={animating:!1,autoplaying:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,dragging:!1,edgeDragged:!1,initialized:!1,lazyLoadedList:[],listHeight:null,listWidth:null,scrolling:!1,slideCount:null,slideHeight:null,slideWidth:null,swipeLeft:null,swiped:!1,swiping:!1,touchObject:{startX:0,startY:0,curX:0,curY:0},trackStyle:{},trackWidth:0,targetSlide:0},Wy=Yf;function g1(e,t,s){var o=s||{},f=o.noTrailing,y=f===void 0?!1:f,C=o.noLeading,w=C===void 0?!1:C,I=o.debounceMode,D=I===void 0?void 0:I,L,z=!1,k=0;function j(){L&&clearTimeout(L)}function Z(H){var X=H||{},ne=X.upcomingOnly,oe=ne===void 0?!1:ne;j(),z=!oe}function G(){for(var H=arguments.length,X=new Array(H),ne=0;ne<H;ne++)X[ne]=arguments[ne];var oe=this,ae=Date.now()-k;if(z)return;function ie(){k=Date.now(),t.apply(oe,X)}function le(){L=void 0}!w&&D&&!L&&ie(),j(),D===void 0&&ae>e?w?(k=Date.now(),y||(L=setTimeout(D?le:ie,e))):ie():y!==!0&&(L=setTimeout(D?le:ie,D===void 0?e-ae:e))}return G.cancel=Z,G}function Gy(e,t,s){var o=s||{},f=o.atBegin,y=f===void 0?!1:f;return g1(e,t,{debounceMode:y!==!1})}var j0={accessibility:!0,adaptiveHeight:!1,afterChange:null,appendDots:function(t){return a.createElement("ul",{style:{display:"block"}},t)},arrows:!0,autoplay:!1,autoplaySpeed:3e3,beforeChange:null,centerMode:!1,centerPadding:"50px",className:"",cssEase:"ease",customPaging:function(t){return a.createElement("button",null,t+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:null,nextArrow:null,onEdge:null,onInit:null,onLazyLoadError:null,onReInit:null,pauseOnDotsHover:!1,pauseOnFocus:!1,pauseOnHover:!0,prevArrow:null,responsive:null,rows:1,rtl:!1,slide:"div",slidesPerRow:1,slidesToScroll:1,slidesToShow:1,speed:500,swipe:!0,swipeEvent:null,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,waitForAnimate:!0,asNavFor:null},vg=j0;function V0(e,t,s){return Math.max(t,Math.min(e,s))}var Kp=function(t){var s=["onTouchStart","onTouchMove","onWheel"];s.includes(t._reactName)||t.preventDefault()},H0=function(t){for(var s=[],o=Ky(t),f=Xy(t),y=o;y<f;y++)t.lazyLoadedList.indexOf(y)<0&&s.push(y);return s},o2=function(t){for(var s=[],o=Ky(t),f=Xy(t),y=o;y<f;y++)s.push(y);return s},Ky=function(t){return t.currentSlide-HC(t)},Xy=function(t){return t.currentSlide+UC(t)},HC=function(t){return t.centerMode?Math.floor(t.slidesToShow/2)+(parseInt(t.centerPadding)>0?1:0):0},UC=function(t){return t.centerMode?Math.floor((t.slidesToShow-1)/2)+1+(parseInt(t.centerPadding)>0?1:0):t.slidesToShow},U0=function(t){return t&&t.offsetWidth||0},Xp=function(t){return t&&t.offsetHeight||0},Yy=function(t){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,o,f,y,C;return o=t.startX-t.curX,f=t.startY-t.curY,y=Math.atan2(f,o),C=Math.round(y*180/Math.PI),C<0&&(C=360-Math.abs(C)),C<=45&&C>=0||C<=360&&C>=315?"left":C>=135&&C<=225?"right":s===!0?C>=35&&C<=135?"up":"down":"vertical"},yg=function(t){var s=!0;return t.infinite||(t.centerMode&&t.currentSlide>=t.slideCount-1||t.slideCount<=t.slidesToShow||t.currentSlide>=t.slideCount-t.slidesToShow)&&(s=!1),s},W0=function(t,s){var o={};return s.forEach(function(f){return o[f]=t[f]}),o},qy=function(t){var s=a.Children.count(t.children),o=t.listRef,f=Math.ceil(U0(o)),y=t.trackRef&&t.trackRef.node,C=Math.ceil(U0(y)),w;if(t.vertical)w=f;else{var I=t.centerMode&&parseInt(t.centerPadding)*2;typeof t.centerPadding=="string"&&t.centerPadding.slice(-1)==="%"&&(I*=f/100),w=Math.ceil((f-I)/t.slidesToShow)}var D=o&&Xp(o.querySelector('[data-index="0"]')),L=D*t.slidesToShow,z=t.currentSlide===void 0?t.initialSlide:t.currentSlide;t.rtl&&t.currentSlide===void 0&&(z=s-1-t.initialSlide);var k=t.lazyLoadedList||[],j=H0((0,Y.Z)((0,Y.Z)({},t),{},{currentSlide:z,lazyLoadedList:k}));k=k.concat(j);var Z={slideCount:s,slideWidth:w,listWidth:f,trackWidth:C,currentSlide:z,slideHeight:D,listHeight:L,lazyLoadedList:k};return t.autoplaying===null&&t.autoplay&&(Z.autoplaying="playing"),Z},v1=function(t){var s=t.waitForAnimate,o=t.animating,f=t.fade,y=t.infinite,C=t.index,w=t.slideCount,I=t.lazyLoad,D=t.currentSlide,L=t.centerMode,z=t.slidesToScroll,k=t.slidesToShow,j=t.useCSS,Z=t.lazyLoadedList;if(s&&o)return{};var G=C,H,X,ne,oe={},ae={},ie=y?C:V0(C,0,w-1);if(f){if(!y&&(C<0||C>=w))return{};C<0?G=C+w:C>=w&&(G=C-w),I&&Z.indexOf(G)<0&&(Z=Z.concat(G)),oe={animating:!0,currentSlide:G,lazyLoadedList:Z,targetSlide:G},ae={animating:!1,targetSlide:G}}else H=G,G<0?(H=G+w,y?w%z!==0&&(H=w-w%z):H=0):!yg(t)&&G>D?G=H=D:L&&G>=w?(G=y?w:w-1,H=y?0:w-1):G>=w&&(H=G-w,y?w%z!==0&&(H=0):H=w-k),!y&&G+k>=w&&(H=w-k),X=ld((0,Y.Z)((0,Y.Z)({},t),{},{slideIndex:G})),ne=ld((0,Y.Z)((0,Y.Z)({},t),{},{slideIndex:H})),y||(X===ne&&(G=H),X=ne),I&&(Z=Z.concat(H0((0,Y.Z)((0,Y.Z)({},t),{},{currentSlide:G})))),j?(oe={animating:!0,currentSlide:H,trackStyle:K0((0,Y.Z)((0,Y.Z)({},t),{},{left:X})),lazyLoadedList:Z,targetSlide:ie},ae={animating:!1,currentSlide:H,trackStyle:Ad((0,Y.Z)((0,Y.Z)({},t),{},{left:ne})),swipeLeft:null,targetSlide:ie}):oe={currentSlide:H,trackStyle:Ad((0,Y.Z)((0,Y.Z)({},t),{},{left:ne})),lazyLoadedList:Z,targetSlide:ie};return{state:oe,nextState:ae}},y1=function(t,s){var o,f,y,C,w,I=t.slidesToScroll,D=t.slidesToShow,L=t.slideCount,z=t.currentSlide,k=t.targetSlide,j=t.lazyLoad,Z=t.infinite;if(C=L%I!==0,o=C?0:(L-z)%I,s.message==="previous")y=o===0?I:D-o,w=z-y,j&&!Z&&(f=z-y,w=f===-1?L-1:f),Z||(w=k-I);else if(s.message==="next")y=o===0?I:o,w=z+y,j&&!Z&&(w=(z+I)%L+o),Z||(w=k+I);else if(s.message==="dots")w=s.index*s.slidesToScroll;else if(s.message==="children"){if(w=s.index,Z){var G=x1((0,Y.Z)((0,Y.Z)({},t),{},{targetSlide:w}));w>s.currentSlide&&G==="left"?w=w-L:w<s.currentSlide&&G==="right"&&(w=w+L)}}else s.message==="index"&&(w=Number(s.index));return w},Nh=function(t,s,o){return t.target.tagName.match("TEXTAREA|INPUT|SELECT")||!s?"":t.keyCode===37?o?"next":"previous":t.keyCode===39?o?"previous":"next":""},Yp=function(t,s,o){return t.target.tagName==="IMG"&&Kp(t),!s||!o&&t.type.indexOf("mouse")!==-1?"":{dragging:!0,touchObject:{startX:t.touches?t.touches[0].pageX:t.clientX,startY:t.touches?t.touches[0].pageY:t.clientY,curX:t.touches?t.touches[0].pageX:t.clientX,curY:t.touches?t.touches[0].pageY:t.clientY}}},_1=function(t,s){var o=s.scrolling,f=s.animating,y=s.vertical,C=s.swipeToSlide,w=s.verticalSwiping,I=s.rtl,D=s.currentSlide,L=s.edgeFriction,z=s.edgeDragged,k=s.onEdge,j=s.swiped,Z=s.swiping,G=s.slideCount,H=s.slidesToScroll,X=s.infinite,ne=s.touchObject,oe=s.swipeEvent,ae=s.listHeight,ie=s.listWidth;if(!o){if(f)return Kp(t);y&&C&&w&&Kp(t);var le,fe={},me=ld(s);ne.curX=t.touches?t.touches[0].pageX:t.clientX,ne.curY=t.touches?t.touches[0].pageY:t.clientY,ne.swipeLength=Math.round(Math.sqrt(Math.pow(ne.curX-ne.startX,2)));var ge=Math.round(Math.sqrt(Math.pow(ne.curY-ne.startY,2)));if(!w&&!Z&&ge>10)return{scrolling:!0};w&&(ne.swipeLength=ge);var xe=(I?-1:1)*(ne.curX>ne.startX?1:-1);w&&(xe=ne.curY>ne.startY?1:-1);var Me=Math.ceil(G/H),$e=Yy(s.touchObject,w),Oe=ne.swipeLength;return X||(D===0&&($e==="right"||$e==="down")||D+1>=Me&&($e==="left"||$e==="up")||!yg(s)&&($e==="left"||$e==="up"))&&(Oe=ne.swipeLength*L,z===!1&&k&&(k($e),fe.edgeDragged=!0)),!j&&oe&&(oe($e),fe.swiped=!0),y?le=me+Oe*(ae/ie)*xe:I?le=me-Oe*xe:le=me+Oe*xe,w&&(le=me+Oe*xe),fe=(0,Y.Z)((0,Y.Z)({},fe),{},{touchObject:ne,swipeLeft:le,trackStyle:Ad((0,Y.Z)((0,Y.Z)({},s),{},{left:le}))}),Math.abs(ne.curX-ne.startX)<Math.abs(ne.curY-ne.startY)*.8||ne.swipeLength>10&&(fe.swiping=!0,Kp(t)),fe}},_g=function(t,s){var o=s.dragging,f=s.swipe,y=s.touchObject,C=s.listWidth,w=s.touchThreshold,I=s.verticalSwiping,D=s.listHeight,L=s.swipeToSlide,z=s.scrolling,k=s.onSwipe,j=s.targetSlide,Z=s.currentSlide,G=s.infinite;if(!o)return f&&Kp(t),{};var H=I?D/w:C/w,X=Yy(y,I),ne={dragging:!1,edgeDragged:!1,scrolling:!1,swiping:!1,swiped:!1,swipeLeft:null,touchObject:{}};if(z||!y.swipeLength)return ne;if(y.swipeLength>H){Kp(t),k&&k(X);var oe,ae,ie=G?Z:j;switch(X){case"left":case"up":ae=ie+bg(s),oe=L?G0(s,ae):ae,ne.currentDirection=0;break;case"right":case"down":ae=ie-bg(s),oe=L?G0(s,ae):ae,ne.currentDirection=1;break;default:oe=ie}ne.triggerSlideHandler=oe}else{var le=ld(s);ne.trackStyle=K0((0,Y.Z)((0,Y.Z)({},s),{},{left:le}))}return ne},WC=function(t){for(var s=t.infinite?t.slideCount*2:t.slideCount,o=t.infinite?t.slidesToShow*-1:0,f=t.infinite?t.slidesToShow*-1:0,y=[];o<s;)y.push(o),o=f+t.slidesToScroll,f+=Math.min(t.slidesToScroll,t.slidesToShow);return y},G0=function(t,s){var o=WC(t),f=0;if(s>o[o.length-1])s=o[o.length-1];else for(var y in o){if(s<o[y]){s=f;break}f=o[y]}return s},bg=function(t){var s=t.centerMode?t.slideWidth*Math.floor(t.slidesToShow/2):0;if(t.swipeToSlide){var o,f=t.listRef,y=f.querySelectorAll&&f.querySelectorAll(".slick-slide")||[];if(Array.from(y).every(function(I){if(t.vertical){if(I.offsetTop+Xp(I)/2>t.swipeLeft*-1)return o=I,!1}else if(I.offsetLeft-s+U0(I)/2>t.swipeLeft*-1)return o=I,!1;return!0}),!o)return 0;var C=t.rtl===!0?t.slideCount-t.currentSlide:t.currentSlide,w=Math.abs(o.dataset.index-C)||1;return w}else return t.slidesToScroll},xg=function(t,s){return s.reduce(function(o,f){return o&&t.hasOwnProperty(f)},!0)?null:console.error("Keys Missing:",t)},Ad=function(t){xg(t,["left","variableWidth","slideCount","slidesToShow","slideWidth"]);var s,o;if(!t.vertical)s=b1(t)*t.slideWidth;else{var f=t.unslick?t.slideCount:t.slideCount+2*t.slidesToShow;o=f*t.slideHeight}var y={opacity:1,transition:"",WebkitTransition:""};if(t.useTransform){var C=t.vertical?"translate3d(0px, "+t.left+"px, 0px)":"translate3d("+t.left+"px, 0px, 0px)",w=t.vertical?"translate3d(0px, "+t.left+"px, 0px)":"translate3d("+t.left+"px, 0px, 0px)",I=t.vertical?"translateY("+t.left+"px)":"translateX("+t.left+"px)";y=(0,Y.Z)((0,Y.Z)({},y),{},{WebkitTransform:C,transform:w,msTransform:I})}else t.vertical?y.top=t.left:y.left=t.left;return t.fade&&(y={opacity:1}),s&&(y.width=s),o&&(y.height=o),window&&!window.addEventListener&&window.attachEvent&&(t.vertical?y.marginTop=t.left+"px":y.marginLeft=t.left+"px"),y},K0=function(t){xg(t,["left","variableWidth","slideCount","slidesToShow","slideWidth","speed","cssEase"]);var s=Ad(t);return t.useTransform?(s.WebkitTransition="-webkit-transform "+t.speed+"ms "+t.cssEase,s.transition="transform "+t.speed+"ms "+t.cssEase):t.vertical?s.transition="top "+t.speed+"ms "+t.cssEase:s.transition="left "+t.speed+"ms "+t.cssEase,s},ld=function(t){if(t.unslick)return 0;xg(t,["slideIndex","trackRef","infinite","centerMode","slideCount","slidesToShow","slidesToScroll","slideWidth","listWidth","variableWidth","slideHeight"]);var s=t.slideIndex,o=t.trackRef,f=t.infinite,y=t.centerMode,C=t.slideCount,w=t.slidesToShow,I=t.slidesToScroll,D=t.slideWidth,L=t.listWidth,z=t.variableWidth,k=t.slideHeight,j=t.fade,Z=t.vertical,G=0,H,X,ne=0;if(j||t.slideCount===1)return 0;var oe=0;if(f?(oe=-Dd(t),C%I!==0&&s+I>C&&(oe=-(s>C?w-(s-C):C%I)),y&&(oe+=parseInt(w/2))):(C%I!==0&&s+I>C&&(oe=w-C%I),y&&(oe=parseInt(w/2))),G=oe*D,ne=oe*k,Z?H=s*k*-1+ne:H=s*D*-1+G,z===!0){var ae,ie=o&&o.node;if(ae=s+Dd(t),X=ie&&ie.childNodes[ae],H=X?X.offsetLeft*-1:0,y===!0){ae=f?s+Dd(t):s,X=ie&&ie.children[ae],H=0;for(var le=0;le<ae;le++)H-=ie&&ie.children[le]&&ie.children[le].offsetWidth;H-=parseInt(t.centerPadding),H+=X&&(L-X.offsetWidth)/2}}return H},Dd=function(t){return t.unslick||!t.infinite?0:t.variableWidth?t.slideCount:t.slidesToShow+(t.centerMode?1:0)},Cg=function(t){return t.unslick||!t.infinite?0:t.slideCount},b1=function(t){return t.slideCount===1?1:Dd(t)+t.slideCount+Cg(t)},x1=function(t){return t.targetSlide>t.currentSlide?t.targetSlide>t.currentSlide+X0(t)?"left":"right":t.targetSlide<t.currentSlide-Sg(t)?"right":"left"},X0=function(t){var s=t.slidesToShow,o=t.centerMode,f=t.rtl,y=t.centerPadding;if(o){var C=(s-1)/2+1;return parseInt(y)>0&&(C+=1),f&&s%2===0&&(C+=1),C}return f?0:s-1},Sg=function(t){var s=t.slidesToShow,o=t.centerMode,f=t.rtl,y=t.centerPadding;if(o){var C=(s-1)/2+1;return parseInt(y)>0&&(C+=1),!f&&s%2===0&&(C+=1),C}return f?s-1:0},C1=function(){return!!(typeof window!="undefined"&&window.document&&window.document.createElement)},GC=Object.keys(vg);function S1(e){return GC.reduce(function(t,s){return e.hasOwnProperty(s)&&(t[s]=e[s]),t},{})}function KC(e,t,s){return t=(0,gn.Z)(t),(0,Hn.Z)(e,(0,wr.Z)()?Reflect.construct(t,s||[],(0,gn.Z)(e).constructor):t.apply(e,s))}var Jy=function(t){var s,o,f,y,C;t.rtl?C=t.slideCount-1-t.index:C=t.index,f=C<0||C>=t.slideCount,t.centerMode?(y=Math.floor(t.slidesToShow/2),o=(C-t.currentSlide)%t.slideCount===0,C>t.currentSlide-y-1&&C<=t.currentSlide+y&&(s=!0)):s=t.currentSlide<=C&&C<t.currentSlide+t.slidesToShow;var w;t.targetSlide<0?w=t.targetSlide+t.slideCount:t.targetSlide>=t.slideCount?w=t.targetSlide-t.slideCount:w=t.targetSlide;var I=C===w;return{"slick-slide":!0,"slick-active":s,"slick-center":o,"slick-cloned":f,"slick-current":I}},XC=function(t){var s={};return(t.variableWidth===void 0||t.variableWidth===!1)&&(s.width=t.slideWidth),t.fade&&(s.position="relative",t.vertical&&t.slideHeight?s.top=-t.index*parseInt(t.slideHeight):s.left=-t.index*parseInt(t.slideWidth),s.opacity=t.currentSlide===t.index?1:0,s.zIndex=t.currentSlide===t.index?999:998,t.useCSS&&(s.transition="opacity "+t.speed+"ms "+t.cssEase+", visibility "+t.speed+"ms "+t.cssEase)),s},Y0=function(t,s){return t.key+"-"+s},wg=function(t){var s,o=[],f=[],y=[],C=a.Children.count(t.children),w=Ky(t),I=Xy(t);return a.Children.forEach(t.children,function(D,L){var z,k={message:"children",index:L,slidesToScroll:t.slidesToScroll,currentSlide:t.currentSlide};!t.lazyLoad||t.lazyLoad&&t.lazyLoadedList.indexOf(L)>=0?z=D:z=a.createElement("div",null);var j=XC((0,Y.Z)((0,Y.Z)({},t),{},{index:L})),Z=z.props.className||"",G=Jy((0,Y.Z)((0,Y.Z)({},t),{},{index:L}));if(o.push(a.cloneElement(z,{key:"original"+Y0(z,L),"data-index":L,className:q()(G,Z),tabIndex:"-1","aria-hidden":!G["slick-active"],style:(0,Y.Z)((0,Y.Z)({outline:"none"},z.props.style||{}),j),onClick:function(ne){z.props&&z.props.onClick&&z.props.onClick(ne),t.focusOnSelect&&t.focusOnSelect(k)}})),t.infinite&&C>1&&t.fade===!1&&!t.unslick){var H=C-L;H<=Dd(t)&&(s=-H,s>=w&&(z=D),G=Jy((0,Y.Z)((0,Y.Z)({},t),{},{index:s})),f.push(a.cloneElement(z,{key:"precloned"+Y0(z,s),"data-index":s,tabIndex:"-1",className:q()(G,Z),"aria-hidden":!G["slick-active"],style:(0,Y.Z)((0,Y.Z)({},z.props.style||{}),j),onClick:function(ne){z.props&&z.props.onClick&&z.props.onClick(ne),t.focusOnSelect&&t.focusOnSelect(k)}}))),s=C+L,s<I&&(z=D),G=Jy((0,Y.Z)((0,Y.Z)({},t),{},{index:s})),y.push(a.cloneElement(z,{key:"postcloned"+Y0(z,s),"data-index":s,tabIndex:"-1",className:q()(G,Z),"aria-hidden":!G["slick-active"],style:(0,Y.Z)((0,Y.Z)({},z.props.style||{}),j),onClick:function(ne){z.props&&z.props.onClick&&z.props.onClick(ne),t.focusOnSelect&&t.focusOnSelect(k)}}))}}),t.rtl?f.concat(o,y).reverse():f.concat(o,y)},Qy=function(e){function t(){var s;(0,Dn.Z)(this,t);for(var o=arguments.length,f=new Array(o),y=0;y<o;y++)f[y]=arguments[y];return s=KC(this,t,[].concat(f)),(0,pe.Z)(s,"node",null),(0,pe.Z)(s,"handleRef",function(C){s.node=C}),s}return(0,pi.Z)(t,e),(0,pn.Z)(t,[{key:"render",value:function(){var o=wg(this.props),f=this.props,y=f.onMouseEnter,C=f.onMouseOver,w=f.onMouseLeave,I={onMouseEnter:y,onMouseOver:C,onMouseLeave:w};return a.createElement("div",(0,Ge.Z)({ref:this.handleRef,className:"slick-track",style:this.props.trackStyle},I),o)}}])}(a.PureComponent);function Bh(e,t,s){return t=(0,gn.Z)(t),(0,Hn.Z)(e,(0,wr.Z)()?Reflect.construct(t,s||[],(0,gn.Z)(e).constructor):t.apply(e,s))}var qp=function(t){var s;return t.infinite?s=Math.ceil(t.slideCount/t.slidesToScroll):s=Math.ceil((t.slideCount-t.slidesToShow)/t.slidesToScroll)+1,s},Eg=function(e){function t(){return(0,Dn.Z)(this,t),Bh(this,t,arguments)}return(0,pi.Z)(t,e),(0,pn.Z)(t,[{key:"clickHandler",value:function(o,f){f.preventDefault(),this.props.clickHandler(o)}},{key:"render",value:function(){for(var o=this.props,f=o.onMouseEnter,y=o.onMouseOver,C=o.onMouseLeave,w=o.infinite,I=o.slidesToScroll,D=o.slidesToShow,L=o.slideCount,z=o.currentSlide,k=qp({slideCount:L,slidesToScroll:I,slidesToShow:D,infinite:w}),j={onMouseEnter:f,onMouseOver:y,onMouseLeave:C},Z=[],G=0;G<k;G++){var H=(G+1)*I-1,X=w?H:V0(H,0,L-1),ne=X-(I-1),oe=w?ne:V0(ne,0,L-1),ae=q()({"slick-active":w?z>=oe&&z<=X:z===oe}),ie={message:"dots",index:G,slidesToScroll:I,currentSlide:z},le=this.clickHandler.bind(this,ie);Z=Z.concat(a.createElement("li",{key:G,className:ae},a.cloneElement(this.props.customPaging(G),{onClick:le})))}return a.cloneElement(this.props.appendDots(Z),(0,Y.Z)({className:this.props.dotsClass},j))}}])}(a.PureComponent);function q0(e,t,s){return t=(0,gn.Z)(t),(0,Hn.Z)(e,(0,wr.Z)()?Reflect.construct(t,s||[],(0,gn.Z)(e).constructor):t.apply(e,s))}var J0=function(e){function t(){return(0,Dn.Z)(this,t),q0(this,t,arguments)}return(0,pi.Z)(t,e),(0,pn.Z)(t,[{key:"clickHandler",value:function(o,f){f&&f.preventDefault(),this.props.clickHandler(o,f)}},{key:"render",value:function(){var o={"slick-arrow":!0,"slick-prev":!0},f=this.clickHandler.bind(this,{message:"previous"});!this.props.infinite&&(this.props.currentSlide===0||this.props.slideCount<=this.props.slidesToShow)&&(o["slick-disabled"]=!0,f=null);var y={key:"0","data-role":"none",className:q()(o),style:{display:"block"},onClick:f},C={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},w;return this.props.prevArrow?w=a.cloneElement(this.props.prevArrow,(0,Y.Z)((0,Y.Z)({},y),C)):w=a.createElement("button",(0,Ge.Z)({key:"0",type:"button"},y)," ","Previous"),w}}])}(a.PureComponent),e_=function(e){function t(){return(0,Dn.Z)(this,t),q0(this,t,arguments)}return(0,pi.Z)(t,e),(0,pn.Z)(t,[{key:"clickHandler",value:function(o,f){f&&f.preventDefault(),this.props.clickHandler(o,f)}},{key:"render",value:function(){var o={"slick-arrow":!0,"slick-next":!0},f=this.clickHandler.bind(this,{message:"next"});yg(this.props)||(o["slick-disabled"]=!0,f=null);var y={key:"1","data-role":"none",className:q()(o),style:{display:"block"},onClick:f},C={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},w;return this.props.nextArrow?w=a.cloneElement(this.props.nextArrow,(0,Y.Z)((0,Y.Z)({},y),C)):w=a.createElement("button",(0,Ge.Z)({key:"1",type:"button"},y)," ","Next"),w}}])}(a.PureComponent),t_=B(73023),Q0=["animating"];function Ig(e,t,s){return t=(0,gn.Z)(t),(0,Hn.Z)(e,(0,wr.Z)()?Reflect.construct(t,s||[],(0,gn.Z)(e).constructor):t.apply(e,s))}var w1=function(e){function t(s){var o;(0,Dn.Z)(this,t),o=Ig(this,t,[s]),(0,pe.Z)(o,"listRefHandler",function(y){return o.list=y}),(0,pe.Z)(o,"trackRefHandler",function(y){return o.track=y}),(0,pe.Z)(o,"adaptHeight",function(){if(o.props.adaptiveHeight&&o.list){var y=o.list.querySelector('[data-index="'.concat(o.state.currentSlide,'"]'));o.list.style.height=Xp(y)+"px"}}),(0,pe.Z)(o,"componentDidMount",function(){if(o.props.onInit&&o.props.onInit(),o.props.lazyLoad){var y=H0((0,Y.Z)((0,Y.Z)({},o.props),o.state));y.length>0&&(o.setState(function(w){return{lazyLoadedList:w.lazyLoadedList.concat(y)}}),o.props.onLazyLoad&&o.props.onLazyLoad(y))}var C=(0,Y.Z)({listRef:o.list,trackRef:o.track},o.props);o.updateState(C,!0,function(){o.adaptHeight(),o.props.autoplay&&o.autoPlay("playing")}),o.props.lazyLoad==="progressive"&&(o.lazyLoadTimer=setInterval(o.progressiveLazyLoad,1e3)),o.ro=new t_.Z(function(){o.state.animating?(o.onWindowResized(!1),o.callbackTimers.push(setTimeout(function(){return o.onWindowResized()},o.props.speed))):o.onWindowResized()}),o.ro.observe(o.list),document.querySelectorAll&&Array.prototype.forEach.call(document.querySelectorAll(".slick-slide"),function(w){w.onfocus=o.props.pauseOnFocus?o.onSlideFocus:null,w.onblur=o.props.pauseOnFocus?o.onSlideBlur:null}),window.addEventListener?window.addEventListener("resize",o.onWindowResized):window.attachEvent("onresize",o.onWindowResized)}),(0,pe.Z)(o,"componentWillUnmount",function(){o.animationEndCallback&&clearTimeout(o.animationEndCallback),o.lazyLoadTimer&&clearInterval(o.lazyLoadTimer),o.callbackTimers.length&&(o.callbackTimers.forEach(function(y){return clearTimeout(y)}),o.callbackTimers=[]),window.addEventListener?window.removeEventListener("resize",o.onWindowResized):window.detachEvent("onresize",o.onWindowResized),o.autoplayTimer&&clearInterval(o.autoplayTimer),o.ro.disconnect()}),(0,pe.Z)(o,"componentDidUpdate",function(y){if(o.checkImagesLoad(),o.props.onReInit&&o.props.onReInit(),o.props.lazyLoad){var C=H0((0,Y.Z)((0,Y.Z)({},o.props),o.state));C.length>0&&(o.setState(function(D){return{lazyLoadedList:D.lazyLoadedList.concat(C)}}),o.props.onLazyLoad&&o.props.onLazyLoad(C))}o.adaptHeight();var w=(0,Y.Z)((0,Y.Z)({listRef:o.list,trackRef:o.track},o.props),o.state),I=o.didPropsChange(y);I&&o.updateState(w,I,function(){o.state.currentSlide>=a.Children.count(o.props.children)&&o.changeSlide({message:"index",index:a.Children.count(o.props.children)-o.props.slidesToShow,currentSlide:o.state.currentSlide}),(y.autoplay!==o.props.autoplay||y.autoplaySpeed!==o.props.autoplaySpeed)&&(!y.autoplay&&o.props.autoplay?o.autoPlay("playing"):o.props.autoplay?o.autoPlay("update"):o.pause("paused"))})}),(0,pe.Z)(o,"onWindowResized",function(y){o.debouncedResize&&o.debouncedResize.cancel(),o.debouncedResize=Gy(50,function(){return o.resizeWindow(y)}),o.debouncedResize()}),(0,pe.Z)(o,"resizeWindow",function(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,C=!!(o.track&&o.track.node);if(C){var w=(0,Y.Z)((0,Y.Z)({listRef:o.list,trackRef:o.track},o.props),o.state);o.updateState(w,y,function(){o.props.autoplay?o.autoPlay("update"):o.pause("paused")}),o.setState({animating:!1}),clearTimeout(o.animationEndCallback),delete o.animationEndCallback}}),(0,pe.Z)(o,"updateState",function(y,C,w){var I=qy(y);y=(0,Y.Z)((0,Y.Z)((0,Y.Z)({},y),I),{},{slideIndex:I.currentSlide});var D=ld(y);y=(0,Y.Z)((0,Y.Z)({},y),{},{left:D});var L=Ad(y);(C||a.Children.count(o.props.children)!==a.Children.count(y.children))&&(I.trackStyle=L),o.setState(I,w)}),(0,pe.Z)(o,"ssrInit",function(){if(o.props.variableWidth){var y=0,C=0,w=[],I=Dd((0,Y.Z)((0,Y.Z)((0,Y.Z)({},o.props),o.state),{},{slideCount:o.props.children.length})),D=Cg((0,Y.Z)((0,Y.Z)((0,Y.Z)({},o.props),o.state),{},{slideCount:o.props.children.length}));o.props.children.forEach(function(le){w.push(le.props.style.width),y+=le.props.style.width});for(var L=0;L<I;L++)C+=w[w.length-1-L],y+=w[w.length-1-L];for(var z=0;z<D;z++)y+=w[z];for(var k=0;k<o.state.currentSlide;k++)C+=w[k];var j={width:y+"px",left:-C+"px"};if(o.props.centerMode){var Z="".concat(w[o.state.currentSlide],"px");j.left="calc(".concat(j.left," + (100% - ").concat(Z,") / 2 ) ")}return{trackStyle:j}}var G=a.Children.count(o.props.children),H=(0,Y.Z)((0,Y.Z)((0,Y.Z)({},o.props),o.state),{},{slideCount:G}),X=Dd(H)+Cg(H)+G,ne=100/o.props.slidesToShow*X,oe=100/X,ae=-oe*(Dd(H)+o.state.currentSlide)*ne/100;o.props.centerMode&&(ae+=(100-oe*ne/100)/2);var ie={width:ne+"%",left:ae+"%"};return{slideWidth:oe+"%",trackStyle:ie}}),(0,pe.Z)(o,"checkImagesLoad",function(){var y=o.list&&o.list.querySelectorAll&&o.list.querySelectorAll(".slick-slide img")||[],C=y.length,w=0;Array.prototype.forEach.call(y,function(I){var D=function(){return++w&&w>=C&&o.onWindowResized()};if(!I.onclick)I.onclick=function(){return I.parentNode.focus()};else{var L=I.onclick;I.onclick=function(z){L(z),I.parentNode.focus()}}I.onload||(o.props.lazyLoad?I.onload=function(){o.adaptHeight(),o.callbackTimers.push(setTimeout(o.onWindowResized,o.props.speed))}:(I.onload=D,I.onerror=function(){D(),o.props.onLazyLoadError&&o.props.onLazyLoadError()}))})}),(0,pe.Z)(o,"progressiveLazyLoad",function(){for(var y=[],C=(0,Y.Z)((0,Y.Z)({},o.props),o.state),w=o.state.currentSlide;w<o.state.slideCount+Cg(C);w++)if(o.state.lazyLoadedList.indexOf(w)<0){y.push(w);break}for(var I=o.state.currentSlide-1;I>=-Dd(C);I--)if(o.state.lazyLoadedList.indexOf(I)<0){y.push(I);break}y.length>0?(o.setState(function(D){return{lazyLoadedList:D.lazyLoadedList.concat(y)}}),o.props.onLazyLoad&&o.props.onLazyLoad(y)):o.lazyLoadTimer&&(clearInterval(o.lazyLoadTimer),delete o.lazyLoadTimer)}),(0,pe.Z)(o,"slideHandler",function(y){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,w=o.props,I=w.asNavFor,D=w.beforeChange,L=w.onLazyLoad,z=w.speed,k=w.afterChange,j=o.state.currentSlide,Z=v1((0,Y.Z)((0,Y.Z)((0,Y.Z)({index:y},o.props),o.state),{},{trackRef:o.track,useCSS:o.props.useCSS&&!C})),G=Z.state,H=Z.nextState;if(G){D&&D(j,G.currentSlide);var X=G.lazyLoadedList.filter(function(ne){return o.state.lazyLoadedList.indexOf(ne)<0});L&&X.length>0&&L(X),!o.props.waitForAnimate&&o.animationEndCallback&&(clearTimeout(o.animationEndCallback),k&&k(j),delete o.animationEndCallback),o.setState(G,function(){I&&o.asNavForIndex!==y&&(o.asNavForIndex=y,I.innerSlider.slideHandler(y)),H&&(o.animationEndCallback=setTimeout(function(){var ne=H.animating,oe=(0,de.Z)(H,Q0);o.setState(oe,function(){o.callbackTimers.push(setTimeout(function(){return o.setState({animating:ne})},10)),k&&k(G.currentSlide),delete o.animationEndCallback})},z))})}}),(0,pe.Z)(o,"changeSlide",function(y){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,w=(0,Y.Z)((0,Y.Z)({},o.props),o.state),I=y1(w,y);if(!(I!==0&&!I)&&(C===!0?o.slideHandler(I,C):o.slideHandler(I),o.props.autoplay&&o.autoPlay("update"),o.props.focusOnSelect)){var D=o.list.querySelectorAll(".slick-current");D[0]&&D[0].focus()}}),(0,pe.Z)(o,"clickHandler",function(y){o.clickable===!1&&(y.stopPropagation(),y.preventDefault()),o.clickable=!0}),(0,pe.Z)(o,"keyHandler",function(y){var C=Nh(y,o.props.accessibility,o.props.rtl);C!==""&&o.changeSlide({message:C})}),(0,pe.Z)(o,"selectHandler",function(y){o.changeSlide(y)}),(0,pe.Z)(o,"disableBodyScroll",function(){var y=function(w){w=w||window.event,w.preventDefault&&w.preventDefault(),w.returnValue=!1};window.ontouchmove=y}),(0,pe.Z)(o,"enableBodyScroll",function(){window.ontouchmove=null}),(0,pe.Z)(o,"swipeStart",function(y){o.props.verticalSwiping&&o.disableBodyScroll();var C=Yp(y,o.props.swipe,o.props.draggable);C!==""&&o.setState(C)}),(0,pe.Z)(o,"swipeMove",function(y){var C=_1(y,(0,Y.Z)((0,Y.Z)((0,Y.Z)({},o.props),o.state),{},{trackRef:o.track,listRef:o.list,slideIndex:o.state.currentSlide}));C&&(C.swiping&&(o.clickable=!1),o.setState(C))}),(0,pe.Z)(o,"swipeEnd",function(y){var C=_g(y,(0,Y.Z)((0,Y.Z)((0,Y.Z)({},o.props),o.state),{},{trackRef:o.track,listRef:o.list,slideIndex:o.state.currentSlide}));if(C){var w=C.triggerSlideHandler;delete C.triggerSlideHandler,o.setState(C),w!==void 0&&(o.slideHandler(w),o.props.verticalSwiping&&o.enableBodyScroll())}}),(0,pe.Z)(o,"touchEnd",function(y){o.swipeEnd(y),o.clickable=!0}),(0,pe.Z)(o,"slickPrev",function(){o.callbackTimers.push(setTimeout(function(){return o.changeSlide({message:"previous"})},0))}),(0,pe.Z)(o,"slickNext",function(){o.callbackTimers.push(setTimeout(function(){return o.changeSlide({message:"next"})},0))}),(0,pe.Z)(o,"slickGoTo",function(y){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(y=Number(y),isNaN(y))return"";o.callbackTimers.push(setTimeout(function(){return o.changeSlide({message:"index",index:y,currentSlide:o.state.currentSlide},C)},0))}),(0,pe.Z)(o,"play",function(){var y;if(o.props.rtl)y=o.state.currentSlide-o.props.slidesToScroll;else if(yg((0,Y.Z)((0,Y.Z)({},o.props),o.state)))y=o.state.currentSlide+o.props.slidesToScroll;else return!1;o.slideHandler(y)}),(0,pe.Z)(o,"autoPlay",function(y){o.autoplayTimer&&clearInterval(o.autoplayTimer);var C=o.state.autoplaying;if(y==="update"){if(C==="hovered"||C==="focused"||C==="paused")return}else if(y==="leave"){if(C==="paused"||C==="focused")return}else if(y==="blur"&&(C==="paused"||C==="hovered"))return;o.autoplayTimer=setInterval(o.play,o.props.autoplaySpeed+50),o.setState({autoplaying:"playing"})}),(0,pe.Z)(o,"pause",function(y){o.autoplayTimer&&(clearInterval(o.autoplayTimer),o.autoplayTimer=null);var C=o.state.autoplaying;y==="paused"?o.setState({autoplaying:"paused"}):y==="focused"?(C==="hovered"||C==="playing")&&o.setState({autoplaying:"focused"}):C==="playing"&&o.setState({autoplaying:"hovered"})}),(0,pe.Z)(o,"onDotsOver",function(){return o.props.autoplay&&o.pause("hovered")}),(0,pe.Z)(o,"onDotsLeave",function(){return o.props.autoplay&&o.state.autoplaying==="hovered"&&o.autoPlay("leave")}),(0,pe.Z)(o,"onTrackOver",function(){return o.props.autoplay&&o.pause("hovered")}),(0,pe.Z)(o,"onTrackLeave",function(){return o.props.autoplay&&o.state.autoplaying==="hovered"&&o.autoPlay("leave")}),(0,pe.Z)(o,"onSlideFocus",function(){return o.props.autoplay&&o.pause("focused")}),(0,pe.Z)(o,"onSlideBlur",function(){return o.props.autoplay&&o.state.autoplaying==="focused"&&o.autoPlay("blur")}),(0,pe.Z)(o,"render",function(){var y=q()("slick-slider",o.props.className,{"slick-vertical":o.props.vertical,"slick-initialized":!0}),C=(0,Y.Z)((0,Y.Z)({},o.props),o.state),w=W0(C,["fade","cssEase","speed","infinite","centerMode","focusOnSelect","currentSlide","lazyLoad","lazyLoadedList","rtl","slideWidth","slideHeight","listHeight","vertical","slidesToShow","slidesToScroll","slideCount","trackStyle","variableWidth","unslick","centerPadding","targetSlide","useCSS"]),I=o.props.pauseOnHover;w=(0,Y.Z)((0,Y.Z)({},w),{},{onMouseEnter:I?o.onTrackOver:null,onMouseLeave:I?o.onTrackLeave:null,onMouseOver:I?o.onTrackOver:null,focusOnSelect:o.props.focusOnSelect&&o.clickable?o.selectHandler:null});var D;if(o.props.dots===!0&&o.state.slideCount>=o.props.slidesToShow){var L=W0(C,["dotsClass","slideCount","slidesToShow","currentSlide","slidesToScroll","clickHandler","children","customPaging","infinite","appendDots"]),z=o.props.pauseOnDotsHover;L=(0,Y.Z)((0,Y.Z)({},L),{},{clickHandler:o.changeSlide,onMouseEnter:z?o.onDotsLeave:null,onMouseOver:z?o.onDotsOver:null,onMouseLeave:z?o.onDotsLeave:null}),D=a.createElement(Eg,L)}var k,j,Z=W0(C,["infinite","centerMode","currentSlide","slideCount","slidesToShow","prevArrow","nextArrow"]);Z.clickHandler=o.changeSlide,o.props.arrows&&(k=a.createElement(J0,Z),j=a.createElement(e_,Z));var G=null;o.props.vertical&&(G={height:o.state.listHeight});var H=null;o.props.vertical===!1?o.props.centerMode===!0&&(H={padding:"0px "+o.props.centerPadding}):o.props.centerMode===!0&&(H={padding:o.props.centerPadding+" 0px"});var X=(0,Y.Z)((0,Y.Z)({},G),H),ne=o.props.touchMove,oe={className:"slick-list",style:X,onClick:o.clickHandler,onMouseDown:ne?o.swipeStart:null,onMouseMove:o.state.dragging&&ne?o.swipeMove:null,onMouseUp:ne?o.swipeEnd:null,onMouseLeave:o.state.dragging&&ne?o.swipeEnd:null,onTouchStart:ne?o.swipeStart:null,onTouchMove:o.state.dragging&&ne?o.swipeMove:null,onTouchEnd:ne?o.touchEnd:null,onTouchCancel:o.state.dragging&&ne?o.swipeEnd:null,onKeyDown:o.props.accessibility?o.keyHandler:null},ae={className:y,dir:"ltr",style:o.props.style};return o.props.unslick&&(oe={className:"slick-list"},ae={className:y,style:o.props.style}),a.createElement("div",ae,o.props.unslick?"":k,a.createElement("div",(0,Ge.Z)({ref:o.listRefHandler},oe),a.createElement(Qy,(0,Ge.Z)({ref:o.trackRefHandler},w),o.props.children)),o.props.unslick?"":j,o.props.unslick?"":D)}),o.list=null,o.track=null,o.state=(0,Y.Z)((0,Y.Z)({},Wy),{},{currentSlide:o.props.initialSlide,targetSlide:o.props.initialSlide?o.props.initialSlide:0,slideCount:a.Children.count(o.props.children)}),o.callbackTimers=[],o.clickable=!0,o.debouncedResize=null;var f=o.ssrInit();return o.state=(0,Y.Z)((0,Y.Z)({},o.state),f),o}return(0,pi.Z)(t,e),(0,pn.Z)(t,[{key:"didPropsChange",value:function(o){for(var f=!1,y=0,C=Object.keys(this.props);y<C.length;y++){var w=C[y];if(!o.hasOwnProperty(w)){f=!0;break}if(!((0,nt.Z)(o[w])==="object"||typeof o[w]=="function"||isNaN(o[w]))&&o[w]!==this.props[w]){f=!0;break}}return f||a.Children.count(this.props.children)!==a.Children.count(o.children)}}])}(a.Component),Jp=B(55518),ev=B.n(Jp);function YC(e,t,s){return t=(0,gn.Z)(t),(0,Hn.Z)(e,(0,wr.Z)()?Reflect.construct(t,s||[],(0,gn.Z)(e).constructor):t.apply(e,s))}var E1=function(e){function t(s){var o;return(0,Dn.Z)(this,t),o=YC(this,t,[s]),(0,pe.Z)(o,"innerSliderRefHandler",function(f){return o.innerSlider=f}),(0,pe.Z)(o,"slickPrev",function(){return o.innerSlider.slickPrev()}),(0,pe.Z)(o,"slickNext",function(){return o.innerSlider.slickNext()}),(0,pe.Z)(o,"slickGoTo",function(f){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return o.innerSlider.slickGoTo(f,y)}),(0,pe.Z)(o,"slickPause",function(){return o.innerSlider.pause("paused")}),(0,pe.Z)(o,"slickPlay",function(){return o.innerSlider.autoPlay("play")}),o.state={breakpoint:null},o._responsiveMediaHandlers=[],o}return(0,pi.Z)(t,e),(0,pn.Z)(t,[{key:"media",value:function(o,f){var y=window.matchMedia(o),C=function(I){var D=I.matches;D&&f()};y.addListener(C),C(y),this._responsiveMediaHandlers.push({mql:y,query:o,listener:C})}},{key:"componentDidMount",value:function(){var o=this;if(this.props.responsive){var f=this.props.responsive.map(function(C){return C.breakpoint});f.sort(function(C,w){return C-w}),f.forEach(function(C,w){var I;w===0?I=ev()({minWidth:0,maxWidth:C}):I=ev()({minWidth:f[w-1]+1,maxWidth:C}),C1()&&o.media(I,function(){o.setState({breakpoint:C})})});var y=ev()({minWidth:f.slice(-1)[0]});C1()&&this.media(y,function(){o.setState({breakpoint:null})})}}},{key:"componentWillUnmount",value:function(){this._responsiveMediaHandlers.forEach(function(o){o.mql.removeListener(o.listener)})}},{key:"render",value:function(){var o=this,f,y;this.state.breakpoint?(y=this.props.responsive.filter(function(G){return G.breakpoint===o.state.breakpoint}),f=y[0].settings==="unslick"?"unslick":(0,Y.Z)((0,Y.Z)((0,Y.Z)({},vg),this.props),y[0].settings)):f=(0,Y.Z)((0,Y.Z)({},vg),this.props),f.centerMode&&(f.slidesToScroll>1,f.slidesToScroll=1),f.fade&&(f.slidesToShow>1,f.slidesToScroll>1,f.slidesToShow=1,f.slidesToScroll=1);var C=a.Children.toArray(this.props.children);C=C.filter(function(G){return typeof G=="string"?!!G.trim():!!G}),f.variableWidth&&(f.rows>1||f.slidesPerRow>1)&&(console.warn("variableWidth is not supported in case of rows > 1 or slidesPerRow > 1"),f.variableWidth=!1);for(var w=[],I=null,D=0;D<C.length;D+=f.rows*f.slidesPerRow){for(var L=[],z=D;z<D+f.rows*f.slidesPerRow;z+=f.slidesPerRow){for(var k=[],j=z;j<z+f.slidesPerRow&&(f.variableWidth&&C[j].props.style&&(I=C[j].props.style.width),!(j>=C.length));j+=1)k.push(a.cloneElement(C[j],{key:100*D+10*z+j,tabIndex:-1,style:{width:"".concat(100/f.slidesPerRow,"%"),display:"inline-block"}}));L.push(a.createElement("div",{key:10*D+z},k))}f.variableWidth?w.push(a.createElement("div",{key:D,style:{width:I}},L)):w.push(a.createElement("div",{key:D},L))}if(f==="unslick"){var Z="regular slider "+(this.props.className||"");return a.createElement("div",{className:Z},C)}else w.length<=f.slidesToShow&&!f.infinite&&(f.unslick=!0);return a.createElement(w1,(0,Ge.Z)({style:this.props.style,ref:this.innerSliderRefHandler},S1(f)),w)}}])}(a.Component),qC=E1;const n_="--dot-duration",JC=e=>{const{componentCls:t,antCls:s}=e;return{[t]:Object.assign(Object.assign({},(0,Qt.Wf)(e)),{".slick-slider":{position:"relative",display:"block",boxSizing:"border-box",touchAction:"pan-y",WebkitTouchCallout:"none",WebkitTapHighlightColor:"transparent",".slick-track, .slick-list":{transform:"translate3d(0, 0, 0)",touchAction:"pan-y"}},".slick-list":{position:"relative",display:"block",margin:0,padding:0,overflow:"hidden","&:focus":{outline:"none"},"&.dragging":{cursor:"pointer"},".slick-slide":{pointerEvents:"none",[`input${s}-radio-input, input${s}-checkbox-input`]:{visibility:"hidden"},"&.slick-active":{pointerEvents:"auto",[`input${s}-radio-input, input${s}-checkbox-input`]:{visibility:"visible"}},"> div > div":{verticalAlign:"bottom"}}},".slick-track":{position:"relative",top:0,insetInlineStart:0,display:"block","&::before, &::after":{display:"table",content:'""'},"&::after":{clear:"both"}},".slick-slide":{display:"none",float:"left",height:"100%",minHeight:1,img:{display:"block"},"&.dragging img":{pointerEvents:"none"}},".slick-initialized .slick-slide":{display:"block"},".slick-vertical .slick-slide":{display:"block",height:"auto"}})}},QC=e=>{const{componentCls:t,motionDurationSlow:s,arrowSize:o,arrowOffset:f}=e,y=e.calc(o).div(Math.SQRT2).equal();return{[t]:{".slick-prev, .slick-next":{position:"absolute",top:"50%",width:o,height:o,transform:"translateY(-50%)",color:"#fff",opacity:.4,background:"transparent",padding:0,lineHeight:0,border:0,outline:"none",cursor:"pointer",zIndex:1,transition:`opacity ${s}`,"&:hover, &:focus":{opacity:1},"&.slick-disabled":{pointerEvents:"none",opacity:0},"&::after":{boxSizing:"border-box",position:"absolute",top:e.calc(o).sub(y).div(2).equal(),insetInlineStart:e.calc(o).sub(y).div(2).equal(),display:"inline-block",width:y,height:y,border:"0 solid currentcolor",borderInlineWidth:"2px 0",borderBlockWidth:"2px 0",borderRadius:1,content:'""'}},".slick-prev":{insetInlineStart:f,"&::after":{transform:"rotate(-45deg)"}},".slick-next":{insetInlineEnd:f,"&::after":{transform:"rotate(135deg)"}}}}},eS=e=>{const{componentCls:t,dotOffset:s,dotWidth:o,dotHeight:f,dotGap:y,colorBgContainer:C,motionDurationSlow:w}=e;return{[t]:{".slick-dots":{position:"absolute",insetInlineEnd:0,bottom:0,insetInlineStart:0,zIndex:15,display:"flex !important",justifyContent:"center",paddingInlineStart:0,margin:0,listStyle:"none","&-bottom":{bottom:s},"&-top":{top:s,bottom:"auto"},li:{position:"relative",display:"inline-block",flex:"0 1 auto",boxSizing:"content-box",width:o,height:f,marginInline:y,padding:0,textAlign:"center",textIndent:-999,verticalAlign:"top",transition:`all ${w}`,borderRadius:f,overflow:"hidden","&::after":{display:"block",position:"absolute",top:0,insetInlineStart:0,width:"100%",height:f,content:'""',background:C,borderRadius:f,opacity:1,outline:"none",cursor:"pointer",overflow:"hidden",transform:"translate3d(-100%, 0, 0)"},button:{position:"relative",display:"block",width:"100%",height:f,padding:0,color:"transparent",fontSize:0,background:C,border:0,borderRadius:f,outline:"none",cursor:"pointer",opacity:.2,transition:`all ${w}`,overflow:"hidden","&:hover":{opacity:.75},"&::after":{position:"absolute",inset:e.calc(y).mul(-1).equal(),content:'""'}},"&.slick-active":{width:e.dotActiveWidth,position:"relative","&:hover":{opacity:1},"&::after":{transform:"translate3d(0, 0, 0)",transition:`transform var(${n_}) ease-out`}}}}}}},tv=e=>{const{componentCls:t,dotOffset:s,arrowOffset:o,marginXXS:f}=e,y={width:e.dotHeight,height:e.dotWidth};return{[`${t}-vertical`]:{".slick-prev, .slick-next":{insetInlineStart:"50%",marginBlockStart:"unset",transform:"translateX(-50%)"},".slick-prev":{insetBlockStart:o,insetInlineStart:"50%","&::after":{transform:"rotate(45deg)"}},".slick-next":{insetBlockStart:"auto",insetBlockEnd:o,"&::after":{transform:"rotate(-135deg)"}},".slick-dots":{top:"50%",bottom:"auto",flexDirection:"column",width:e.dotHeight,height:"auto",margin:0,transform:"translateY(-50%)","&-left":{insetInlineEnd:"auto",insetInlineStart:s},"&-right":{insetInlineEnd:s,insetInlineStart:"auto"},li:Object.assign(Object.assign({},y),{margin:`${(0,he.bf)(f)} 0`,verticalAlign:"baseline",button:y,"&::after":Object.assign(Object.assign({},y),{height:0}),"&.slick-active":Object.assign(Object.assign({},y),{button:y,"&::after":Object.assign(Object.assign({},y),{transition:`height var(${n_}) ease-out`})})})}}}},tS=e=>{const{componentCls:t}=e;return[{[`${t}-rtl`]:{direction:"rtl",".slick-dots":{[`${t}-rtl&`]:{flexDirection:"row-reverse"}}}},{[`${t}-vertical`]:{".slick-dots":{[`${t}-rtl&`]:{flexDirection:"column"}}}}]},nS=e=>({arrowSize:16,arrowOffset:e.marginXS,dotWidth:16,dotHeight:3,dotGap:e.marginXXS,dotOffset:12,dotWidthActive:24,dotActiveWidth:24});var nv=(0,te.I$)("Carousel",e=>[JC(e),QC(e),eS(e),tv(e),tS(e)],nS,{deprecatedTokens:[["dotWidthActive","dotActiveWidth"]]}),I1=function(e,t){var s={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(s[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(s[o[f]]=e[o[f]]);return s};const T1="slick-dots",M1=e=>{var{currentSlide:t,slideCount:s}=e,o=I1(e,["currentSlide","slideCount"]);return a.createElement("button",Object.assign({type:"button"},o))};var rS=a.forwardRef((e,t)=>{const{dots:s=!0,arrows:o=!1,prevArrow:f=a.createElement(M1,{"aria-label":"prev"}),nextArrow:y=a.createElement(M1,{"aria-label":"next"}),draggable:C=!1,waitForAnimate:w=!1,dotPosition:I="bottom",vertical:D=I==="left"||I==="right",rootClassName:L,className:z,style:k,id:j,autoplay:Z=!1,autoplaySpeed:G=3e3}=e,H=I1(e,["dots","arrows","prevArrow","nextArrow","draggable","waitForAnimate","dotPosition","vertical","rootClassName","className","style","id","autoplay","autoplaySpeed"]),{getPrefixCls:X,direction:ne,className:oe,style:ae}=(0,ye.dj)("carousel"),ie=a.useRef(null),le=function(lt){let ht=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;ie.current.slickGoTo(lt,ht)};a.useImperativeHandle(t,()=>({goTo:le,autoPlay:ie.current.innerSlider.autoPlay,innerSlider:ie.current.innerSlider,prev:ie.current.slickPrev,next:ie.current.slickNext}),[ie.current]);const fe=a.useRef(a.Children.count(e.children));a.useEffect(()=>{fe.current!==a.Children.count(e.children)&&(le(e.initialSlide||0,!1),fe.current=a.Children.count(e.children))},[e.children]);const me=Object.assign({vertical:D,className:q()(z,oe),style:Object.assign(Object.assign({},ae),k),autoplay:!!Z},H);me.effect==="fade"&&(me.fade=!0);const ge=X("carousel",me.prefixCls),xe=!!s,Me=q()(T1,`${T1}-${I}`,typeof s=="boolean"?!1:s==null?void 0:s.className),[$e,Oe,He]=nv(ge),Ne=q()(ge,{[`${ge}-rtl`]:ne==="rtl",[`${ge}-vertical`]:me.vertical},Oe,He,L),je=Z&&(typeof Z=="object"?Z.dotDuration:!1)?{[n_]:`${G}ms`}:{};return $e(a.createElement("div",{className:Ne,id:j,style:je},a.createElement(qC,Object.assign({ref:ie},me,{dots:xe,dotsClass:Me,arrows:o,prevArrow:f,nextArrow:y,draggable:C,verticalSwiping:D,autoplaySpeed:G,waitForAnimate:w}))))}),rv=B(12321),i_=B(21125),iS=a.createContext({}),Qp=iS,em="__rc_cascader_search_mark__",oS=function(t,s,o){var f=o.label,y=f===void 0?"":f;return s.some(function(C){return String(C[y]).toLowerCase().includes(t.toLowerCase())})},aS=function(t,s,o,f){return s.map(function(y){return y[f.label]}).join(" / ")},tm=function(t,s,o,f,y,C){var w=y.filter,I=w===void 0?oS:w,D=y.render,L=D===void 0?aS:D,z=y.limit,k=z===void 0?50:z,j=y.sort;return a.useMemo(function(){var Z=[];if(!t)return[];function G(H,X){var ne=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;H.forEach(function(oe){if(!(!j&&k!==!1&&k>0&&Z.length>=k)){var ae=[].concat((0,be.Z)(X),[oe]),ie=oe[o.children],le=ne||oe.disabled;if((!ie||ie.length===0||C)&&I(t,ae,{label:o.label})){var fe;Z.push((0,Y.Z)((0,Y.Z)({},oe),{},(fe={disabled:le},(0,pe.Z)(fe,o.label,L(t,ae,f,o)),(0,pe.Z)(fe,em,ae),(0,pe.Z)(fe,o.children,void 0),fe)))}ie&&G(oe[o.children],ae,le)}})}return G(s,[]),j&&Z.sort(function(H,X){return j(H[em],X[em],t,o)}),k!==!1&&k>0?Z.slice(0,k):Z},[t,s,o,f,L,C,I,j,k])},Tg=tm,o_="__RC_CASCADER_SPLIT__",iv="SHOW_PARENT",a_="SHOW_CHILD";function Lu(e){return e.join(o_)}function Fh(e){return e.map(Lu)}function P1(e){return e.split(o_)}function s_(e){var t=e||{},s=t.label,o=t.value,f=t.children,y=o||"value";return{label:s||"label",value:y,key:y,children:f||"children"}}function nm(e,t){var s,o;return(s=e.isLeaf)!==null&&s!==void 0?s:!((o=e[t.children])!==null&&o!==void 0&&o.length)}function O1(e){var t=e.parentElement;if(t){var s=e.offsetTop-t.offsetTop;s-t.scrollTop<0?t.scrollTo({top:s}):s+e.offsetHeight-t.scrollTop>t.offsetHeight&&t.scrollTo({top:s+e.offsetHeight-t.offsetHeight})}}function l_(e,t){return e.map(function(s){var o;return(o=s[em])===null||o===void 0?void 0:o.map(function(f){return f[t.value]})})}function R1(e){return Array.isArray(e)&&Array.isArray(e[0])}function kh(e){return e?R1(e)?e:(e.length===0?[]:[e]).map(function(t){return Array.isArray(t)?t:[t]}):[]}function c_(e,t,s){var o=new Set(e),f=t();return e.filter(function(y){var C=f[y],w=C?C.parent:null,I=C?C.children:null;return C&&C.node.disabled?!0:s===a_?!(I&&I.some(function(D){return D.key&&o.has(D.key)})):!(w&&!w.node.disabled&&o.has(w.key))})}function qf(e,t,s){for(var o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,f=t,y=[],C=function(){var D,L,z,k=e[w],j=(D=f)===null||D===void 0?void 0:D.findIndex(function(G){var H=G[s.value];return o?String(H)===String(k):H===k}),Z=j!==-1?(L=f)===null||L===void 0?void 0:L[j]:null;y.push({value:(z=Z==null?void 0:Z[s.value])!==null&&z!==void 0?z:k,index:j,option:Z}),f=Z==null?void 0:Z[s.children]},w=0;w<e.length;w+=1)C();return y}var u_=function(e,t,s,o,f){return a.useMemo(function(){var y=f||function(C){var w=o?C.slice(-1):C,I=" / ";return w.every(function(D){return["string","number"].includes((0,nt.Z)(D))})?w.join(I):w.reduce(function(D,L,z){var k=a.isValidElement(L)?a.cloneElement(L,{key:z}):L;return z===0?[k]:[].concat((0,be.Z)(D),[I,k])},[])};return e.map(function(C){var w,I=qf(C,t,s),D=y(I.map(function(z){var k,j=z.option,Z=z.value;return(k=j==null?void 0:j[s.label])!==null&&k!==void 0?k:Z}),I.map(function(z){var k=z.option;return k})),L=Lu(C);return{label:D,value:L,key:L,valueCells:C,disabled:(w=I[I.length-1])===null||w===void 0||(w=w.option)===null||w===void 0?void 0:w.disabled}})},[e,t,s,f,o])};function d_(e,t){return a.useCallback(function(s){var o=[],f=[];return s.forEach(function(y){var C=qf(y,e,t);C.every(function(w){return w.option})?f.push(y):o.push(y)}),[f,o]},[e,t])}var Jf=B(37861),$1=function(e,t){var s=a.useRef({options:[],info:{keyEntities:{},pathKeyEntities:{}}}),o=a.useCallback(function(){return s.current.options!==e&&(s.current.options=e,s.current.info=(0,Jf.I8)(e,{fieldNames:t,initWrapper:function(y){return(0,Y.Z)((0,Y.Z)({},y),{},{pathKeyEntities:{}})},processEntity:function(y,C){var w=y.nodes.map(function(I){return I[t.value]}).join(o_);C.pathKeyEntities[w]=y,y.key=w}})),s.current.info.pathKeyEntities},[t,e]);return o};function f_(e,t){var s=a.useMemo(function(){return t||[]},[t]),o=$1(s,e),f=a.useCallback(function(y){var C=o();return y.map(function(w){var I=C[w].nodes;return I.map(function(D){return D[e.value]})})},[o,e]);return[s,o,f]}function A1(e){return a.useMemo(function(){if(!e)return[!1,{}];var t={matchInputWidth:!0,limit:50};return e&&(0,nt.Z)(e)==="object"&&(t=(0,Y.Z)((0,Y.Z)({},t),e)),t.limit<=0&&(t.limit=!1),[!0,t]},[e])}var Ld=B(59454);function h_(e,t,s,o,f,y,C,w){return function(I){if(!e)t(I);else{var D=Lu(I),L=Fh(s),z=Fh(o),k=L.includes(D),j=f.some(function(le){return Lu(le)===D}),Z=s,G=f;if(j&&!k)G=f.filter(function(le){return Lu(le)!==D});else{var H=k?L.filter(function(le){return le!==D}):[].concat((0,be.Z)(L),[D]),X=y(),ne;if(k){var oe=(0,Ld.S)(H,{checked:!1,halfCheckedKeys:z},X);ne=oe.checkedKeys}else{var ae=(0,Ld.S)(H,!0,X);ne=ae.checkedKeys}var ie=c_(ne,y,w);Z=C(ie)}t([].concat((0,be.Z)(G),(0,be.Z)(Z)))}}}function gf(e,t,s,o,f){return a.useMemo(function(){var y=f(t),C=(0,Re.Z)(y,2),w=C[0],I=C[1];if(!e||!t.length)return[w,[],I];var D=Fh(w),L=s(),z=(0,Ld.S)(D,!0,L),k=z.checkedKeys,j=z.halfCheckedKeys;return[o(k),o(j),I]},[e,t,s,o,f])}var sS=a.memo(function(e){var t=e.children;return t},function(e,t){return!t.open}),lS=sS;function cS(e){var t,s=e.prefixCls,o=e.checked,f=e.halfChecked,y=e.disabled,C=e.onClick,w=e.disableCheckbox,I=a.useContext(Qp),D=I.checkable,L=typeof D!="boolean"?D:null;return a.createElement("span",{className:q()("".concat(s),(t={},(0,pe.Z)(t,"".concat(s,"-checked"),o),(0,pe.Z)(t,"".concat(s,"-indeterminate"),!o&&f),(0,pe.Z)(t,"".concat(s,"-disabled"),y||w),t)),onClick:C},L)}var Mg="__cascader_fix_label__";function uS(e){var t=e.prefixCls,s=e.multiple,o=e.options,f=e.activeValue,y=e.prevValuePath,C=e.onToggleOpen,w=e.onSelect,I=e.onActive,D=e.checkedSet,L=e.halfCheckedSet,z=e.loadingKeys,k=e.isSelectable,j=e.disabled,Z="".concat(t,"-menu"),G="".concat(t,"-menu-item"),H=a.useContext(Qp),X=H.fieldNames,ne=H.changeOnSelect,oe=H.expandTrigger,ae=H.expandIcon,ie=H.loadingIcon,le=H.dropdownMenuColumnStyle,fe=H.optionRender,me=oe==="hover",ge=function($e){return j||$e},xe=a.useMemo(function(){return o.map(function(Me){var $e,Oe=Me.disabled,He=Me.disableCheckbox,Ne=Me[em],Ke=($e=Me[Mg])!==null&&$e!==void 0?$e:Me[X.label],je=Me[X.value],lt=nm(Me,X),ht=Ne?Ne.map(function(At){return At[X.value]}):[].concat((0,be.Z)(y),[je]),It=Lu(ht),Tt=z.includes(It),wt=D.has(It),_t=L.has(It);return{disabled:Oe,label:Ke,value:je,isLeaf:lt,isLoading:Tt,checked:wt,halfChecked:_t,option:Me,disableCheckbox:He,fullPath:ht,fullPathKey:It}})},[o,D,X,L,z,y]);return a.createElement("ul",{className:Z,role:"menu"},xe.map(function(Me){var $e,Oe=Me.disabled,He=Me.label,Ne=Me.value,Ke=Me.isLeaf,je=Me.isLoading,lt=Me.checked,ht=Me.halfChecked,It=Me.option,Tt=Me.fullPath,wt=Me.fullPathKey,_t=Me.disableCheckbox,At=function(){if(!ge(Oe)){var Pt=(0,be.Z)(Tt);me&&Ke&&Pt.pop(),I(Pt)}},Bt=function(){k(It)&&!ge(Oe)&&w(Tt,Ke)},Dt;return typeof It.title=="string"?Dt=It.title:typeof He=="string"&&(Dt=He),a.createElement("li",{key:wt,className:q()(G,($e={},(0,pe.Z)($e,"".concat(G,"-expand"),!Ke),(0,pe.Z)($e,"".concat(G,"-active"),f===Ne||f===wt),(0,pe.Z)($e,"".concat(G,"-disabled"),ge(Oe)),(0,pe.Z)($e,"".concat(G,"-loading"),je),$e)),style:le,role:"menuitemcheckbox",title:Dt,"aria-checked":lt,"data-path-key":wt,onClick:function(){At(),!_t&&(!s||Ke)&&Bt()},onDoubleClick:function(){ne&&C(!1)},onMouseEnter:function(){me&&At()},onMouseDown:function(Pt){Pt.preventDefault()}},s&&a.createElement(cS,{prefixCls:"".concat(t,"-checkbox"),checked:lt,halfChecked:ht,disabled:ge(Oe)||_t,disableCheckbox:_t,onClick:function(Pt){_t||(Pt.stopPropagation(),Bt())}}),a.createElement("div",{className:"".concat(G,"-content")},fe?fe(It):He),!je&&ae&&!Ke&&a.createElement("div",{className:"".concat(G,"-expand-icon")},ae),je&&ie&&a.createElement("div",{className:"".concat(G,"-loading-icon")},ie))}))}var dS=function(t,s){var o=a.useContext(Qp),f=o.values,y=f[0],C=a.useState([]),w=(0,Re.Z)(C,2),I=w[0],D=w[1];return a.useEffect(function(){t||D(y||[])},[s,y]),[I,D]},fS=dS,hS=function(e,t,s,o,f,y,C){var w=C.direction,I=C.searchValue,D=C.toggleOpen,L=C.open,z=w==="rtl",k=a.useMemo(function(){for(var le=-1,fe=t,me=[],ge=[],xe=o.length,Me=l_(t,s),$e=function(je){var lt=fe.findIndex(function(ht,It){return(Me[It]?Lu(Me[It]):ht[s.value])===o[je]});if(lt===-1)return 1;le=lt,me.push(le),ge.push(o[je]),fe=fe[le][s.children]},Oe=0;Oe<xe&&fe&&!$e(Oe);Oe+=1);for(var He=t,Ne=0;Ne<me.length-1;Ne+=1)He=He[me[Ne]][s.children];return[ge,le,He,Me]},[o,s,t]),j=(0,Re.Z)(k,4),Z=j[0],G=j[1],H=j[2],X=j[3],ne=function(fe){f(fe)},oe=function(fe){var me=H.length,ge=G;ge===-1&&fe<0&&(ge=me);for(var xe=0;xe<me;xe+=1){ge=(ge+fe+me)%me;var Me=H[ge];if(Me&&!Me.disabled){var $e=Z.slice(0,-1).concat(X[ge]?Lu(X[ge]):Me[s.value]);ne($e);return}}},ae=function(){if(Z.length>1){var fe=Z.slice(0,-1);ne(fe)}else D(!1)},ie=function(){var fe,me=((fe=H[G])===null||fe===void 0?void 0:fe[s.children])||[],ge=me.find(function(Me){return!Me.disabled});if(ge){var xe=[].concat((0,be.Z)(Z),[ge[s.value]]);ne(xe)}};a.useImperativeHandle(e,function(){return{onKeyDown:function(fe){var me=fe.which;switch(me){case rt.Z.UP:case rt.Z.DOWN:{var ge=0;me===rt.Z.UP?ge=-1:me===rt.Z.DOWN&&(ge=1),ge!==0&&oe(ge);break}case rt.Z.LEFT:{if(I)break;z?ie():ae();break}case rt.Z.RIGHT:{if(I)break;z?ae():ie();break}case rt.Z.BACKSPACE:{I||ae();break}case rt.Z.ENTER:{if(Z.length){var xe=H[G],Me=(xe==null?void 0:xe[em])||[];Me.length?y(Me.map(function($e){return $e[s.value]}),Me[Me.length-1]):y(Z,H[G])}break}case rt.Z.ESC:D(!1),L&&fe.stopPropagation()}},onKeyUp:function(){}}})},pS=a.forwardRef(function(e,t){var s,o,f,y=e.prefixCls,C=e.multiple,w=e.searchValue,I=e.toggleOpen,D=e.notFoundContent,L=e.direction,z=e.open,k=e.disabled,j=a.useRef(null),Z=L==="rtl",G=a.useContext(Qp),H=G.options,X=G.values,ne=G.halfValues,oe=G.fieldNames,ae=G.changeOnSelect,ie=G.onSelect,le=G.searchOptions,fe=G.dropdownPrefixCls,me=G.loadData,ge=G.expandTrigger,xe=fe||y,Me=a.useState([]),$e=(0,Re.Z)(Me,2),Oe=$e[0],He=$e[1],Ne=function(Zt){if(!(!me||w)){var Vn=qf(Zt,H,oe),Ln=Vn.map(function(dr){var cr=dr.option;return cr}),kr=Ln[Ln.length-1];if(kr&&!nm(kr,oe)){var Sr=Lu(Zt);He(function(dr){return[].concat((0,be.Z)(dr),[Sr])}),me(Ln)}}};a.useEffect(function(){Oe.length&&Oe.forEach(function(on){var Zt=P1(on),Vn=qf(Zt,H,oe,!0).map(function(kr){var Sr=kr.option;return Sr}),Ln=Vn[Vn.length-1];(!Ln||Ln[oe.children]||nm(Ln,oe))&&He(function(kr){return kr.filter(function(Sr){return Sr!==on})})})},[H,Oe,oe]);var Ke=a.useMemo(function(){return new Set(Fh(X))},[X]),je=a.useMemo(function(){return new Set(Fh(ne))},[ne]),lt=fS(C,z),ht=(0,Re.Z)(lt,2),It=ht[0],Tt=ht[1],wt=function(Zt){Tt(Zt),Ne(Zt)},_t=function(Zt){if(k)return!1;var Vn=Zt.disabled,Ln=nm(Zt,oe);return!Vn&&(Ln||ae||C)},At=function(Zt,Vn){var Ln=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;ie(Zt),!C&&(Vn||ae&&(ge==="hover"||Ln))&&I(!1)},Bt=a.useMemo(function(){return w?le:H},[w,le,H]),Dt=a.useMemo(function(){for(var on=[{options:Bt}],Zt=Bt,Vn=l_(Zt,oe),Ln=function(){var dr=It[kr],cr=Zt.find(function(ur,ti){return(Vn[ti]?Lu(Vn[ti]):ur[oe.value])===dr}),Zn=cr==null?void 0:cr[oe.children];if(!(Zn!=null&&Zn.length))return 1;Zt=Zn,on.push({options:Zn})},kr=0;kr<It.length&&!Ln();kr+=1);return on},[Bt,It,oe]),Gt=function(Zt,Vn){_t(Vn)&&At(Zt,nm(Vn,oe),!0)};hS(t,Bt,oe,It,wt,Gt,{direction:L,searchValue:w,toggleOpen:I,open:z}),a.useEffect(function(){if(!w)for(var on=0;on<It.length;on+=1){var Zt,Vn=It.slice(0,on+1),Ln=Lu(Vn),kr=(Zt=j.current)===null||Zt===void 0?void 0:Zt.querySelector('li[data-path-key="'.concat(Ln.replace(/\\{0,2}"/g,'\\"'),'"]'));kr&&O1(kr)}},[It,w]);var Pt=!((s=Dt[0])!==null&&s!==void 0&&(s=s.options)!==null&&s!==void 0&&s.length),Pn=[(o={},(0,pe.Z)(o,oe.value,"__EMPTY__"),(0,pe.Z)(o,Mg,D),(0,pe.Z)(o,"disabled",!0),o)],Kn=(0,Y.Z)((0,Y.Z)({},e),{},{multiple:!Pt&&C,onSelect:At,onActive:wt,onToggleOpen:I,checkedSet:Ke,halfCheckedSet:je,loadingKeys:Oe,isSelectable:_t}),_n=Pt?[{options:Pn}]:Dt,Fn=_n.map(function(on,Zt){var Vn=It.slice(0,Zt),Ln=It[Zt];return a.createElement(uS,(0,Ge.Z)({key:Zt},Kn,{prefixCls:xe,options:on.options,prevValuePath:Vn,activeValue:Ln}))});return a.createElement(lS,{open:z},a.createElement("div",{className:q()("".concat(xe,"-menus"),(f={},(0,pe.Z)(f,"".concat(xe,"-menu-empty"),Pt),(0,pe.Z)(f,"".concat(xe,"-rtl"),Z),f)),ref:j},Fn))}),D1=pS,mS=a.forwardRef(function(e,t){var s=(0,rv.lk)();return a.createElement(D1,(0,Ge.Z)({},e,s,{ref:t}))}),gS=mS;function vS(){}function L1(e){var t,s=e,o=s.prefixCls,f=o===void 0?"rc-cascader":o,y=s.style,C=s.className,w=s.options,I=s.checkable,D=s.defaultValue,L=s.value,z=s.fieldNames,k=s.changeOnSelect,j=s.onChange,Z=s.showCheckedStrategy,G=s.loadData,H=s.expandTrigger,X=s.expandIcon,ne=X===void 0?">":X,oe=s.loadingIcon,ae=s.direction,ie=s.notFoundContent,le=ie===void 0?"Not Found":ie,fe=s.disabled,me=!!I,ge=(0,Ls.C8)(D,{value:L,postState:kh}),xe=(0,Re.Z)(ge,2),Me=xe[0],$e=xe[1],Oe=a.useMemo(function(){return s_(z)},[JSON.stringify(z)]),He=f_(Oe,w),Ne=(0,Re.Z)(He,3),Ke=Ne[0],je=Ne[1],lt=Ne[2],ht=d_(Ke,Oe),It=gf(me,Me,je,lt,ht),Tt=(0,Re.Z)(It,3),wt=Tt[0],_t=Tt[1],At=Tt[2],Bt=(0,Ls.zX)(function(_n){if($e(_n),j){var Fn=kh(_n),on=Fn.map(function(Ln){return qf(Ln,Ke,Oe).map(function(kr){return kr.option})}),Zt=me?Fn:Fn[0],Vn=me?on:on[0];j(Zt,Vn)}}),Dt=h_(me,Bt,wt,_t,At,je,lt,Z),Gt=(0,Ls.zX)(function(_n){Dt(_n)}),Pt=a.useMemo(function(){return{options:Ke,fieldNames:Oe,values:wt,halfValues:_t,changeOnSelect:k,onSelect:Gt,checkable:I,searchOptions:[],dropdownPrefixCls:void 0,loadData:G,expandTrigger:H,expandIcon:ne,loadingIcon:oe,dropdownMenuColumnStyle:void 0}},[Ke,Oe,wt,_t,k,Gt,I,G,H,ne,oe]),Pn="".concat(f,"-panel"),Kn=!Ke.length;return a.createElement(Qp.Provider,{value:Pt},a.createElement("div",{className:q()(Pn,(t={},(0,pe.Z)(t,"".concat(Pn,"-rtl"),ae==="rtl"),(0,pe.Z)(t,"".concat(Pn,"-empty"),Kn),t),C),style:y},Kn?le:a.createElement(D1,{prefixCls:f,searchValue:"",multiple:me,toggleOpen:vS,open:!0,direction:ae,disabled:fe})))}function a2(e){var t=e.onPopupVisibleChange,s=e.popupVisible,o=e.popupClassName,f=e.popupPlacement;warning(!t,"`onPopupVisibleChange` is deprecated. Please use `onDropdownVisibleChange` instead."),warning(s===void 0,"`popupVisible` is deprecated. Please use `open` instead."),warning(o===void 0,"`popupClassName` is deprecated. Please use `dropdownClassName` instead."),warning(f===void 0,"`popupPlacement` is deprecated. Please use `placement` instead.")}function zu(e,t){if(e){var s=function o(f){for(var y=0;y<f.length;y++){var C=f[y];if(C[t==null?void 0:t.value]===null)return warning(!1,"`value` in Cascader options should not be `null`."),!0;if(Array.isArray(C[t==null?void 0:t.children])&&o(C[t==null?void 0:t.children]))return!0}};s(e)}}var ov=null,yS=["id","prefixCls","fieldNames","defaultValue","value","changeOnSelect","onChange","displayRender","checkable","autoClearSearchValue","searchValue","onSearch","showSearch","expandTrigger","options","dropdownPrefixCls","loadData","popupVisible","open","popupClassName","dropdownClassName","dropdownMenuColumnStyle","dropdownStyle","popupPlacement","placement","onDropdownVisibleChange","onPopupVisibleChange","expandIcon","loadingIcon","children","dropdownMatchSelectWidth","showCheckedStrategy","optionRender"],Pg=a.forwardRef(function(e,t){var s=e.id,o=e.prefixCls,f=o===void 0?"rc-cascader":o,y=e.fieldNames,C=e.defaultValue,w=e.value,I=e.changeOnSelect,D=e.onChange,L=e.displayRender,z=e.checkable,k=e.autoClearSearchValue,j=k===void 0?!0:k,Z=e.searchValue,G=e.onSearch,H=e.showSearch,X=e.expandTrigger,ne=e.options,oe=e.dropdownPrefixCls,ae=e.loadData,ie=e.popupVisible,le=e.open,fe=e.popupClassName,me=e.dropdownClassName,ge=e.dropdownMenuColumnStyle,xe=e.dropdownStyle,Me=e.popupPlacement,$e=e.placement,Oe=e.onDropdownVisibleChange,He=e.onPopupVisibleChange,Ne=e.expandIcon,Ke=Ne===void 0?">":Ne,je=e.loadingIcon,lt=e.children,ht=e.dropdownMatchSelectWidth,It=ht===void 0?!1:ht,Tt=e.showCheckedStrategy,wt=Tt===void 0?iv:Tt,_t=e.optionRender,At=(0,de.Z)(e,yS),Bt=(0,i_.ZP)(s),Dt=!!z,Gt=(0,Cs.Z)(C,{value:w,postState:kh}),Pt=(0,Re.Z)(Gt,2),Pn=Pt[0],Kn=Pt[1],_n=a.useMemo(function(){return s_(y)},[JSON.stringify(y)]),Fn=f_(_n,ne),on=(0,Re.Z)(Fn,3),Zt=on[0],Vn=on[1],Ln=on[2],kr=(0,Cs.Z)("",{value:Z,postState:function(_a){return _a||""}}),Sr=(0,Re.Z)(kr,2),dr=Sr[0],cr=Sr[1],Zn=function(_a,ns){cr(_a),ns.source!=="blur"&&G&&G(_a)},ur=A1(H),ti=(0,Re.Z)(ur,2),Ei=ti[0],ki=ti[1],qi=Tg(dr,Zt,_n,oe||f,ki,I||Dt),Ho=d_(Zt,_n),Li=gf(Dt,Pn,Vn,Ln,Ho),bi=(0,Re.Z)(Li,3),$i=bi[0],go=bi[1],Gi=bi[2],ko=a.useMemo(function(){var Ga=Fh($i),_a=c_(Ga,Vn,wt);return[].concat((0,be.Z)(Gi),(0,be.Z)(Ln(_a)))},[$i,Vn,Ln,Gi,wt]),Er=u_(ko,Zt,_n,Dt,L),Mr=(0,_r.Z)(function(Ga){if(Kn(Ga),D){var _a=kh(Ga),ns=_a.map(function(na){return qf(na,Zt,_n).map(function(Ra){return Ra.option})}),zs=Dt?_a:_a[0],Do=Dt?ns:ns[0];D(zs,Do)}}),Zr=h_(Dt,Mr,$i,go,Gi,Vn,Ln,wt),tr=(0,_r.Z)(function(Ga){(!Dt||j)&&cr(""),Zr(Ga)}),yi=function(_a,ns){if(ns.type==="clear"){Mr([]);return}var zs=ns.values[0],Do=zs.valueCells;tr(Do)},Ui=le!==void 0?le:ie,xo=me||fe,ra=$e||Me,Aa=function(_a){Oe==null||Oe(_a),He==null||He(_a)},oa=a.useMemo(function(){return{options:Zt,fieldNames:_n,values:$i,halfValues:go,changeOnSelect:I,onSelect:tr,checkable:z,searchOptions:qi,dropdownPrefixCls:oe,loadData:ae,expandTrigger:X,expandIcon:Ke,loadingIcon:je,dropdownMenuColumnStyle:ge,optionRender:_t}},[Zt,_n,$i,go,I,tr,z,qi,oe,ae,X,Ke,je,ge,_t]),Ss=!(dr?qi:Zt).length,Va=dr&&ki.matchInputWidth||Ss?{}:{minWidth:"auto"};return a.createElement(Qp.Provider,{value:oa},a.createElement(rv.Ac,(0,Ge.Z)({},At,{ref:t,id:Bt,prefixCls:f,autoClearSearchValue:j,dropdownMatchSelectWidth:It,dropdownStyle:(0,Y.Z)((0,Y.Z)({},Va),xe),displayValues:Er,onDisplayValuesChange:yi,mode:Dt?"multiple":void 0,searchValue:dr,onSearch:Zn,showSearch:Ei,OptionList:gS,emptyOptions:Ss,open:Ui,dropdownClassName:xo,placement:ra,onDropdownVisibleChange:Aa,getRawInputElement:function(){return lt}})))});Pg.SHOW_PARENT=iv,Pg.SHOW_CHILD=a_,Pg.Panel=L1;var z1=Pg,N1=z1,Vc=B(94773),Qf=B(22463),p_=B(95799),B1=B(80043),m_=B(50360),g_=B(54299),il=B(23137);function rm(e,t){const{getPrefixCls:s,direction:o,renderEmpty:f}=a.useContext(ye.E_),y=t||o,C=s("select",e),w=s("cascader",e);return[C,w,y,f]}var im=rm;function om(e,t){return a.useMemo(()=>t?a.createElement("span",{className:`${e}-checkbox-inner`}):!1,[t])}var F1=(e,t,s)=>{let o=s;s||(o=t?a.createElement(vl,null):a.createElement(Kc.Z,null));const f=a.createElement("span",{className:`${e}-menu-item-loading-icon`},a.createElement(wn.Z,{spin:!0}));return a.useMemo(()=>[o,f],[o])},k1=B(9288);const v_=e=>{const{checkboxCls:t}=e,s=`${t}-wrapper`;return[{[`${t}-group`]:Object.assign(Object.assign({},(0,Qt.Wf)(e)),{display:"inline-flex",flexWrap:"wrap",columnGap:e.marginXS,[`> ${e.antCls}-row`]:{flex:1}}),[s]:Object.assign(Object.assign({},(0,Qt.Wf)(e)),{display:"inline-flex",alignItems:"baseline",cursor:"pointer","&:after":{display:"inline-block",width:0,overflow:"hidden",content:"'\\a0'"},[`& + ${s}`]:{marginInlineStart:0},[`&${s}-in-form-item`]:{'input[type="checkbox"]':{width:14,height:14}}}),[t]:Object.assign(Object.assign({},(0,Qt.Wf)(e)),{position:"relative",whiteSpace:"nowrap",lineHeight:1,cursor:"pointer",borderRadius:e.borderRadiusSM,alignSelf:"center",[`${t}-input`]:{position:"absolute",inset:0,zIndex:1,cursor:"pointer",opacity:0,margin:0,[`&:focus-visible + ${t}-inner`]:Object.assign({},(0,Qt.oN)(e))},[`${t}-inner`]:{boxSizing:"border-box",display:"block",width:e.checkboxSize,height:e.checkboxSize,direction:"ltr",backgroundColor:e.colorBgContainer,border:`${(0,he.bf)(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,borderRadius:e.borderRadiusSM,borderCollapse:"separate",transition:`all ${e.motionDurationSlow}`,"&:after":{boxSizing:"border-box",position:"absolute",top:"50%",insetInlineStart:"25%",display:"table",width:e.calc(e.checkboxSize).div(14).mul(5).equal(),height:e.calc(e.checkboxSize).div(14).mul(8).equal(),border:`${(0,he.bf)(e.lineWidthBold)} solid ${e.colorWhite}`,borderTop:0,borderInlineStart:0,transform:"rotate(45deg) scale(0) translate(-50%,-50%)",opacity:0,content:'""',transition:`all ${e.motionDurationFast} ${e.motionEaseInBack}, opacity ${e.motionDurationFast}`}},"& + span":{paddingInlineStart:e.paddingXS,paddingInlineEnd:e.paddingXS}})},{[`
        ${s}:not(${s}-disabled),
        ${t}:not(${t}-disabled)
      `]:{[`&:hover ${t}-inner`]:{borderColor:e.colorPrimary}},[`${s}:not(${s}-disabled)`]:{[`&:hover ${t}-checked:not(${t}-disabled) ${t}-inner`]:{backgroundColor:e.colorPrimaryHover,borderColor:"transparent"},[`&:hover ${t}-checked:not(${t}-disabled):after`]:{borderColor:e.colorPrimaryHover}}},{[`${t}-checked`]:{[`${t}-inner`]:{backgroundColor:e.colorPrimary,borderColor:e.colorPrimary,"&:after":{opacity:1,transform:"rotate(45deg) scale(1) translate(-50%,-50%)",transition:`all ${e.motionDurationMid} ${e.motionEaseOutBack} ${e.motionDurationFast}`}}},[`
        ${s}-checked:not(${s}-disabled),
        ${t}-checked:not(${t}-disabled)
      `]:{[`&:hover ${t}-inner`]:{backgroundColor:e.colorPrimaryHover,borderColor:"transparent"}}},{[t]:{"&-indeterminate":{[`${t}-inner`]:{backgroundColor:`${e.colorBgContainer} !important`,borderColor:`${e.colorBorder} !important`,"&:after":{top:"50%",insetInlineStart:"50%",width:e.calc(e.fontSizeLG).div(2).equal(),height:e.calc(e.fontSizeLG).div(2).equal(),backgroundColor:e.colorPrimary,border:0,transform:"translate(-50%, -50%) scale(1)",opacity:1,content:'""'}},[`&:hover ${t}-inner`]:{backgroundColor:`${e.colorBgContainer} !important`,borderColor:`${e.colorPrimary} !important`}}}},{[`${s}-disabled`]:{cursor:"not-allowed"},[`${t}-disabled`]:{[`&, ${t}-input`]:{cursor:"not-allowed",pointerEvents:"none"},[`${t}-inner`]:{background:e.colorBgContainerDisabled,borderColor:e.colorBorder,"&:after":{borderColor:e.colorTextDisabled}},"&:after":{display:"none"},"& + span":{color:e.colorTextDisabled},[`&${t}-indeterminate ${t}-inner::after`]:{background:e.colorTextDisabled}}}]};function au(e,t){const s=(0,ci.IX)(t,{checkboxCls:`.${e}`,checkboxSize:t.controlInteractiveSize});return[v_(s)]}var av=(0,te.I$)("Checkbox",(e,t)=>{let{prefixCls:s}=t;return[au(s,e)]}),Nu=e=>{const{prefixCls:t,componentCls:s}=e,o=`${s}-menu-item`,f=`
  &${o}-expand ${o}-expand-icon,
  ${o}-loading-icon
`;return[au(`${t}-checkbox`,e),{[s]:{"&-checkbox":{top:0,marginInlineEnd:e.paddingXS,pointerEvents:"unset"},"&-menus":{display:"flex",flexWrap:"nowrap",alignItems:"flex-start",[`&${s}-menu-empty`]:{[`${s}-menu`]:{width:"100%",height:"auto",[o]:{color:e.colorTextDisabled}}}},"&-menu":{flexGrow:1,flexShrink:0,minWidth:e.controlItemWidth,height:e.dropdownHeight,margin:0,padding:e.menuPadding,overflow:"auto",verticalAlign:"top",listStyle:"none","-ms-overflow-style":"-ms-autohiding-scrollbar","&:not(:last-child)":{borderInlineEnd:`${(0,he.bf)(e.lineWidth)} ${e.lineType} ${e.colorSplit}`},"&-item":Object.assign(Object.assign({},Qt.vS),{display:"flex",flexWrap:"nowrap",alignItems:"center",padding:e.optionPadding,lineHeight:e.lineHeight,cursor:"pointer",transition:`all ${e.motionDurationMid}`,borderRadius:e.borderRadiusSM,"&:hover":{background:e.controlItemBgHover},"&-disabled":{color:e.colorTextDisabled,cursor:"not-allowed","&:hover":{background:"transparent"},[f]:{color:e.colorTextDisabled}},[`&-active:not(${o}-disabled)`]:{"&, &:hover":{color:e.optionSelectedColor,fontWeight:e.optionSelectedFontWeight,backgroundColor:e.optionSelectedBg}},"&-content":{flex:"auto"},[f]:{marginInlineStart:e.paddingXXS,color:e.colorTextDescription,fontSize:e.fontSizeIcon},"&-keyword":{color:e.colorHighlight}})}}}]};const bS=e=>{const{componentCls:t,antCls:s}=e;return[{[t]:{width:e.controlWidth}},{[`${t}-dropdown`]:[{[`&${s}-select-dropdown`]:{padding:0}},Nu(e)]},{[`${t}-dropdown-rtl`]:{direction:"rtl"}},(0,k1.c)(e)]},Z1=e=>{const t=Math.round((e.controlHeight-e.fontSize*e.lineHeight)/2);return{controlWidth:184,controlItemWidth:111,dropdownHeight:180,optionSelectedBg:e.controlItemBgActive,optionSelectedFontWeight:e.fontWeightStrong,optionPadding:`${t}px ${e.paddingSM}px`,menuPadding:e.paddingXXS,optionSelectedColor:e.colorText}};var j1=(0,te.I$)("Cascader",e=>[bS(e)],Z1);const Bu=e=>{const{componentCls:t}=e;return{[`${t}-panel`]:[Nu(e),{display:"inline-flex",border:`${(0,he.bf)(e.lineWidth)} ${e.lineType} ${e.colorSplit}`,borderRadius:e.borderRadiusLG,overflowX:"auto",maxWidth:"100%",[`${t}-menus`]:{alignItems:"stretch"},[`${t}-menu`]:{height:"auto"},"&-empty":{padding:e.paddingXXS}}]}};var xS=(0,te.A1)(["Cascader","Panel"],e=>Bu(e),Z1);function V1(e){const{prefixCls:t,className:s,multiple:o,rootClassName:f,notFoundContent:y,direction:C,expandIcon:w,disabled:I}=e,D=a.useContext(Fo.Z),L=I!=null?I:D,[z,k,j,Z]=im(t,C),G=(0,Wn.Z)(k),[H,X,ne]=j1(k,G);xS(k);const oe=j==="rtl",[ae,ie]=F1(z,oe,w),le=y||(Z==null?void 0:Z("Cascader"))||a.createElement(Qf.Z,{componentName:"Cascader"}),fe=om(k,o);return H(a.createElement(L1,Object.assign({},e,{checkable:fe,prefixCls:k,className:q()(s,X,f,ne,G),notFoundContent:le,direction:j,expandIcon:ae,loadingIcon:ie,disabled:L})))}var CS=V1,y_=function(e,t){var s={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(s[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(s[o[f]]=e[o[f]]);return s};const{SHOW_CHILD:__,SHOW_PARENT:SS}=N1;function H1(e,t,s){const o=e.toLowerCase().split(t).reduce((C,w,I)=>I===0?[w]:[].concat((0,be.Z)(C),[t,w]),[]),f=[];let y=0;return o.forEach((C,w)=>{const I=y+C.length;let D=e.slice(y,I);y=I,w%2===1&&(D=a.createElement("span",{className:`${s}-menu-item-keyword`,key:`separator-${w}`},D)),f.push(D)}),f}const Og=(e,t,s,o)=>{const f=[],y=e.toLowerCase();return t.forEach((C,w)=>{w!==0&&f.push(" / ");let I=C[o.label];const D=typeof I;(D==="string"||D==="number")&&(I=H1(String(I),y,s)),f.push(I)}),f},eh=a.forwardRef((e,t)=>{var s;const{prefixCls:o,size:f,disabled:y,className:C,rootClassName:w,multiple:I,bordered:D=!0,transitionName:L,choiceTransitionName:z="",popupClassName:k,dropdownClassName:j,expandIcon:Z,placement:G,showSearch:H,allowClear:X=!0,notFoundContent:ne,direction:oe,getPopupContainer:ae,status:ie,showArrow:le,builtinPlacements:fe,style:me,variant:ge}=e,xe=y_(e,["prefixCls","size","disabled","className","rootClassName","multiple","bordered","transitionName","choiceTransitionName","popupClassName","dropdownClassName","expandIcon","placement","showSearch","allowClear","notFoundContent","direction","getPopupContainer","status","showArrow","builtinPlacements","style","variant"]),Me=(0,$a.Z)(xe,["suffixIcon"]),{getPrefixCls:$e,getPopupContainer:Oe,className:He,style:Ne}=(0,ye.dj)("cascader"),{popupOverflow:Ke}=a.useContext(ye.E_),{status:je,hasFeedback:lt,isFormItemInput:ht,feedbackIcon:It}=a.useContext(ou.aM),Tt=(0,Vc.F)(je,ie),[wt,_t,At,Bt]=im(o,oe),Dt=At==="rtl",Gt=$e(),Pt=(0,Wn.Z)(wt),[Pn,Kn,_n]=(0,B1.Z)(wt,Pt),Fn=(0,Wn.Z)(_t),[on]=j1(_t,Fn),{compactSize:Zt,compactItemClassnames:Vn}=(0,il.ri)(wt,oe),[Ln,kr]=(0,mf.Z)("cascader",ge,D),Sr=ne||(Bt==null?void 0:Bt("Cascader"))||a.createElement(Qf.Z,{componentName:"Cascader"}),dr=q()(k||j,`${_t}-dropdown`,{[`${_t}-dropdown-rtl`]:At==="rtl"},w,Pt,Fn,Kn,_n),cr=a.useMemo(()=>{if(!H)return H;let Mr={render:Og};return typeof H=="object"&&(Mr=Object.assign(Object.assign({},Mr),H)),Mr},[H]),Zn=(0,hc.Z)(Mr=>{var Zr;return(Zr=f!=null?f:Zt)!==null&&Zr!==void 0?Zr:Mr}),ur=a.useContext(Fo.Z),ti=y!=null?y:ur,[Ei,ki]=F1(wt,Dt,Z),qi=om(_t,I),Ho=(0,g_.Z)(e.suffixIcon,le),{suffixIcon:Li,removeIcon:bi,clearIcon:$i}=(0,m_.Z)(Object.assign(Object.assign({},e),{hasFeedback:lt,feedbackIcon:It,showSuffixIcon:Ho,multiple:I,prefixCls:wt,componentName:"Cascader"})),go=a.useMemo(()=>G!==void 0?G:Dt?"bottomRight":"bottomLeft",[G,Dt]),Gi=X===!0?{clearIcon:$i}:X,[ko]=(0,qt.Cn)("SelectLike",(s=Me.dropdownStyle)===null||s===void 0?void 0:s.zIndex),Er=a.createElement(N1,Object.assign({prefixCls:wt,className:q()(!o&&_t,{[`${wt}-lg`]:Zn==="large",[`${wt}-sm`]:Zn==="small",[`${wt}-rtl`]:Dt,[`${wt}-${Ln}`]:kr,[`${wt}-in-form-item`]:ht},(0,Vc.Z)(wt,Tt,lt),Vn,He,C,w,Pt,Fn,Kn,_n),disabled:ti,style:Object.assign(Object.assign({},Ne),me)},Me,{builtinPlacements:(0,p_.Z)(fe,Ke),direction:At,placement:go,notFoundContent:Sr,allowClear:Gi,showSearch:cr,expandIcon:Ei,suffixIcon:Li,removeIcon:bi,loadingIcon:ki,checkable:qi,dropdownClassName:dr,dropdownPrefixCls:o||_t,dropdownStyle:Object.assign(Object.assign({},Me.dropdownStyle),{zIndex:ko}),choiceTransitionName:(0,Et.m)(Gt,"",z),transitionName:(0,Et.m)(Gt,"slide-up",L),getPopupContainer:ae||Oe,ref:t}));return on(Pn(Er))}),cd=(0,Iu.Z)(eh,"dropdownAlign",e=>(0,$a.Z)(e,["visible"]));eh.SHOW_PARENT=SS,eh.SHOW_CHILD=__,eh.Panel=CS,eh._InternalPanelDoNotUseOrYouWillBeFired=cd;var am=eh,b_=B(12977),th=B(54070),U1=B(5276),Rg=a.createContext(null),ES=B(59527),$g=function(e,t){var s={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(s[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(s[o[f]]=e[o[f]]);return s};const W1=(e,t)=>{var s;const{prefixCls:o,className:f,rootClassName:y,children:C,indeterminate:w=!1,style:I,onMouseEnter:D,onMouseLeave:L,skipGroup:z=!1,disabled:k}=e,j=$g(e,["prefixCls","className","rootClassName","children","indeterminate","style","onMouseEnter","onMouseLeave","skipGroup","disabled"]),{getPrefixCls:Z,direction:G,checkbox:H}=a.useContext(ye.E_),X=a.useContext(Rg),{isFormItemInput:ne}=a.useContext(ou.aM),oe=a.useContext(Fo.Z),ae=(s=(X==null?void 0:X.disabled)||k)!==null&&s!==void 0?s:oe,ie=a.useRef(j.value),le=a.useRef(null),fe=(0,Jt.sQ)(t,le);a.useEffect(()=>{X==null||X.registerValue(j.value)},[]),a.useEffect(()=>{if(!z)return j.value!==ie.current&&(X==null||X.cancelValue(ie.current),X==null||X.registerValue(j.value),ie.current=j.value),()=>X==null?void 0:X.cancelValue(j.value)},[j.value]),a.useEffect(()=>{var lt;!((lt=le.current)===null||lt===void 0)&&lt.input&&(le.current.input.indeterminate=w)},[w]);const me=Z("checkbox",o),ge=(0,Wn.Z)(me),[xe,Me,$e]=av(me,ge),Oe=Object.assign({},j);X&&!z&&(Oe.onChange=function(){j.onChange&&j.onChange.apply(j,arguments),X.toggleOption&&X.toggleOption({label:C,value:j.value})},Oe.name=X.name,Oe.checked=X.value.includes(j.value));const He=q()(`${me}-wrapper`,{[`${me}-rtl`]:G==="rtl",[`${me}-wrapper-checked`]:Oe.checked,[`${me}-wrapper-disabled`]:ae,[`${me}-wrapper-in-form-item`]:ne},H==null?void 0:H.className,f,y,$e,ge,Me),Ne=q()({[`${me}-indeterminate`]:w},U1.A,Me),[Ke,je]=(0,ES.Z)(Oe.onClick);return xe(a.createElement(th.Z,{component:"Checkbox",disabled:ae},a.createElement("label",{className:He,style:Object.assign(Object.assign({},H==null?void 0:H.style),I),onMouseEnter:D,onMouseLeave:L,onClick:Ke},a.createElement(b_.Z,Object.assign({},Oe,{onClick:je,prefixCls:me,className:Ne,disabled:ae,ref:fe})),C!==void 0&&a.createElement("span",{className:`${me}-label`},C))))};var K1=a.forwardRef(W1),sv=function(e,t){var s={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(s[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(s[o[f]]=e[o[f]]);return s},X1=a.forwardRef((e,t)=>{const{defaultValue:s,children:o,options:f=[],prefixCls:y,className:C,rootClassName:w,style:I,onChange:D}=e,L=sv(e,["defaultValue","children","options","prefixCls","className","rootClassName","style","onChange"]),{getPrefixCls:z,direction:k}=a.useContext(ye.E_),[j,Z]=a.useState(L.value||s||[]),[G,H]=a.useState([]);a.useEffect(()=>{"value"in L&&Z(L.value||[])},[L.value]);const X=a.useMemo(()=>f.map(Ne=>typeof Ne=="string"||typeof Ne=="number"?{label:Ne,value:Ne}:Ne),[f]),ne=Ne=>{H(Ke=>Ke.filter(je=>je!==Ne))},oe=Ne=>{H(Ke=>[].concat((0,be.Z)(Ke),[Ne]))},ae=Ne=>{const Ke=j.indexOf(Ne.value),je=(0,be.Z)(j);Ke===-1?je.push(Ne.value):je.splice(Ke,1),"value"in L||Z(je),D==null||D(je.filter(lt=>G.includes(lt)).sort((lt,ht)=>{const It=X.findIndex(wt=>wt.value===lt),Tt=X.findIndex(wt=>wt.value===ht);return It-Tt}))},ie=z("checkbox",y),le=`${ie}-group`,fe=(0,Wn.Z)(ie),[me,ge,xe]=av(ie,fe),Me=(0,$a.Z)(L,["value","disabled"]),$e=f.length?X.map(Ne=>a.createElement(K1,{prefixCls:ie,key:Ne.value.toString(),disabled:"disabled"in Ne?Ne.disabled:L.disabled,value:Ne.value,checked:j.includes(Ne.value),onChange:Ne.onChange,className:`${le}-item`,style:Ne.style,title:Ne.title,id:Ne.id,required:Ne.required},Ne.label)):o,Oe={toggleOption:ae,value:j,disabled:L.disabled,name:L.name,registerValue:oe,cancelValue:ne},He=q()(le,{[`${le}-rtl`]:k==="rtl"},C,w,xe,fe,ge);return me(a.createElement("div",Object.assign({className:He,style:I},Me,{ref:t}),a.createElement(Rg.Provider,{value:Oe},$e)))});const lv=K1;lv.Group=X1,lv.__ANT_CHECKBOX=!0;var nh=lv,Y1=B(11365),q1=Y1.Z,IS=B(62023),J1=B(89874),Zh={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 184H712v-64c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v64H384v-64c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v64H144c-17.7 0-32 14.3-32 32v664c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V216c0-17.7-14.3-32-32-32zm-40 656H184V460h656v380zM184 392V256h128v48c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-48h256v48c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-48h128v136H184z"}}]},name:"calendar",theme:"outlined"},x_=Zh,TS=function(t,s){return a.createElement(Xt.Z,(0,Ge.Z)({},t,{ref:s,icon:x_}))},Q1=a.forwardRef(TS),ex=Q1,MS={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M686.7 638.6L544.1 535.5V288c0-4.4-3.6-8-8-8H488c-4.4 0-8 3.6-8 8v275.4c0 2.6 1.2 5 3.3 6.5l165.4 120.6c3.6 2.6 8.6 1.8 11.2-1.7l28.6-39c2.6-3.7 1.8-8.7-1.8-11.2z"}}]},name:"clock-circle",theme:"outlined"},PS=MS,tx=function(t,s){return a.createElement(Xt.Z,(0,Ge.Z)({},t,{ref:s,icon:PS}))},OS=a.forwardRef(tx),nx=OS,rx={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M873.1 596.2l-164-208A32 32 0 00684 376h-64.8c-6.7 0-10.4 7.7-6.3 13l144.3 183H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h695.9c26.8 0 41.7-30.8 25.2-51.8z"}}]},name:"swap-right",theme:"outlined"},RS=rx,sm=function(t,s){return a.createElement(Xt.Z,(0,Ge.Z)({},t,{ref:s,icon:RS}))},ix=a.forwardRef(sm),ox=ix,ax=B(58492),vf=B(43452),cv=B(17543);const Ag=(e,t)=>{const{componentCls:s,controlHeight:o}=e,f=t?`${s}-${t}`:"",y=(0,cv.gp)(e);return[{[`${s}-multiple${f}`]:{paddingBlock:y.containerPadding,paddingInlineStart:y.basePadding,minHeight:o,[`${s}-selection-item`]:{height:y.itemHeight,lineHeight:(0,he.bf)(y.itemLineHeight)}}}]};var Dg=e=>{const{componentCls:t,calc:s,lineWidth:o}=e,f=(0,ci.IX)(e,{fontHeight:e.fontSize,selectHeight:e.controlHeightSM,multipleSelectItemHeight:e.multipleItemHeightSM,borderRadius:e.borderRadiusSM,borderRadiusSM:e.borderRadiusXS,controlHeight:e.controlHeightSM}),y=(0,ci.IX)(e,{fontHeight:s(e.multipleItemHeightLG).sub(s(o).mul(2).equal()).equal(),fontSize:e.fontSizeLG,selectHeight:e.controlHeightLG,multipleSelectItemHeight:e.multipleItemHeightLG,borderRadius:e.borderRadiusLG,borderRadiusSM:e.borderRadius,controlHeight:e.controlHeightLG});return[Ag(f,"small"),Ag(e),Ag(y,"large"),{[`${t}${t}-multiple`]:Object.assign(Object.assign({width:"100%",cursor:"text",[`${t}-selector`]:{flex:"auto",padding:0,position:"relative","&:after":{margin:0},[`${t}-selection-placeholder`]:{position:"absolute",top:"50%",insetInlineStart:e.inputPaddingHorizontalBase,insetInlineEnd:0,transform:"translateY(-50%)",transition:`all ${e.motionDurationSlow}`,overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",flex:1,color:e.colorTextPlaceholder,pointerEvents:"none"}}},(0,cv._z)(e)),{[`${t}-multiple-input`]:{width:0,height:0,border:0,visibility:"hidden",position:"absolute",zIndex:-1}})}]},_u=B(57616),u=e=>{const{componentCls:t}=e;return{[t]:[Object.assign(Object.assign(Object.assign(Object.assign({},(0,_u.qG)(e)),(0,_u.vc)(e)),(0,_u.H8)(e)),(0,_u.Mu)(e)),{"&-outlined":{[`&${t}-multiple ${t}-selection-item`]:{background:e.multipleItemBg,border:`${(0,he.bf)(e.lineWidth)} ${e.lineType} ${e.multipleItemBorderColor}`}},"&-filled":{[`&${t}-multiple ${t}-selection-item`]:{background:e.colorBgContainer,border:`${(0,he.bf)(e.lineWidth)} ${e.lineType} ${e.colorSplit}`}},"&-borderless":{[`&${t}-multiple ${t}-selection-item`]:{background:e.multipleItemBg,border:`${(0,he.bf)(e.lineWidth)} ${e.lineType} ${e.multipleItemBorderColor}`}},"&-underlined":{[`&${t}-multiple ${t}-selection-item`]:{background:e.multipleItemBg,border:`${(0,he.bf)(e.lineWidth)} ${e.lineType} ${e.multipleItemBorderColor}`}}}]}};const n=(e,t,s,o)=>{const f=e.calc(s).add(2).equal(),y=e.max(e.calc(t).sub(f).div(2).equal(),0),C=e.max(e.calc(t).sub(f).sub(y).equal(),0);return{padding:`${(0,he.bf)(y)} ${(0,he.bf)(o)} ${(0,he.bf)(C)}`}},i=e=>{const{componentCls:t,colorError:s,colorWarning:o}=e;return{[`${t}:not(${t}-disabled):not([disabled])`]:{[`&${t}-status-error`]:{[`${t}-active-bar`]:{background:s}},[`&${t}-status-warning`]:{[`${t}-active-bar`]:{background:o}}}}},d=e=>{const{componentCls:t,antCls:s,controlHeight:o,paddingInline:f,lineWidth:y,lineType:C,colorBorder:w,borderRadius:I,motionDurationMid:D,colorTextDisabled:L,colorTextPlaceholder:z,controlHeightLG:k,fontSizeLG:j,controlHeightSM:Z,paddingInlineSM:G,paddingXS:H,marginXS:X,colorTextDescription:ne,lineWidthBold:oe,colorPrimary:ae,motionDurationSlow:ie,zIndexPopup:le,paddingXXS:fe,sizePopupArrow:me,colorBgElevated:ge,borderRadiusLG:xe,boxShadowSecondary:Me,borderRadiusSM:$e,colorSplit:Oe,cellHoverBg:He,presetsWidth:Ne,presetsMaxWidth:Ke,boxShadowPopoverArrow:je,fontHeight:lt,fontHeightLG:ht,lineHeightLG:It}=e;return[{[t]:Object.assign(Object.assign(Object.assign({},(0,Qt.Wf)(e)),n(e,o,lt,f)),{position:"relative",display:"inline-flex",alignItems:"center",lineHeight:1,borderRadius:I,transition:`border ${D}, box-shadow ${D}, background ${D}`,[`${t}-prefix`]:{flex:"0 0 auto",marginInlineEnd:e.inputAffixPadding},[`${t}-input`]:{position:"relative",display:"inline-flex",alignItems:"center",width:"100%","> input":Object.assign(Object.assign({position:"relative",display:"inline-block",width:"100%",color:"inherit",fontSize:e.fontSize,lineHeight:e.lineHeight,transition:`all ${D}`},(0,vf.nz)(z)),{flex:"auto",minWidth:1,height:"auto",padding:0,background:"transparent",border:0,fontFamily:"inherit","&:focus":{boxShadow:"none",outline:0},"&[disabled]":{background:"transparent",color:L,cursor:"not-allowed"}}),"&-placeholder":{"> input":{color:z}}},"&-large":Object.assign(Object.assign({},n(e,k,ht,f)),{[`${t}-input > input`]:{fontSize:j,lineHeight:It}}),"&-small":Object.assign({},n(e,Z,lt,G)),[`${t}-suffix`]:{display:"flex",flex:"none",alignSelf:"center",marginInlineStart:e.calc(H).div(2).equal(),color:L,lineHeight:1,pointerEvents:"none",transition:`opacity ${D}, color ${D}`,"> *":{verticalAlign:"top","&:not(:last-child)":{marginInlineEnd:X}}},[`${t}-clear`]:{position:"absolute",top:"50%",insetInlineEnd:0,color:L,lineHeight:1,transform:"translateY(-50%)",cursor:"pointer",opacity:0,transition:`opacity ${D}, color ${D}`,"> *":{verticalAlign:"top"},"&:hover":{color:ne}},"&:hover":{[`${t}-clear`]:{opacity:1},[`${t}-suffix:not(:last-child)`]:{opacity:0}},[`${t}-separator`]:{position:"relative",display:"inline-block",width:"1em",height:j,color:L,fontSize:j,verticalAlign:"top",cursor:"default",[`${t}-focused &`]:{color:ne},[`${t}-range-separator &`]:{[`${t}-disabled &`]:{cursor:"not-allowed"}}},"&-range":{position:"relative",display:"inline-flex",[`${t}-active-bar`]:{bottom:e.calc(y).mul(-1).equal(),height:oe,background:ae,opacity:0,transition:`all ${ie} ease-out`,pointerEvents:"none"},[`&${t}-focused`]:{[`${t}-active-bar`]:{opacity:1}},[`${t}-range-separator`]:{alignItems:"center",padding:`0 ${(0,he.bf)(H)}`,lineHeight:1}},"&-range, &-multiple":{[`${t}-clear`]:{insetInlineEnd:f},[`&${t}-small`]:{[`${t}-clear`]:{insetInlineEnd:G}}},"&-dropdown":Object.assign(Object.assign(Object.assign({},(0,Qt.Wf)(e)),Ey(e)),{pointerEvents:"none",position:"absolute",top:-9999,left:{_skip_check_:!0,value:-9999},zIndex:le,[`&${t}-dropdown-hidden`]:{display:"none"},"&-rtl":{direction:"rtl"},[`&${t}-dropdown-placement-bottomLeft,
            &${t}-dropdown-placement-bottomRight`]:{[`${t}-range-arrow`]:{top:0,display:"block",transform:"translateY(-100%)"}},[`&${t}-dropdown-placement-topLeft,
            &${t}-dropdown-placement-topRight`]:{[`${t}-range-arrow`]:{bottom:0,display:"block",transform:"translateY(100%) rotate(180deg)"}},[`&${s}-slide-up-appear, &${s}-slide-up-enter`]:{[`${t}-range-arrow${t}-range-arrow`]:{transition:"none"}},[`&${s}-slide-up-enter${s}-slide-up-enter-active${t}-dropdown-placement-topLeft,
          &${s}-slide-up-enter${s}-slide-up-enter-active${t}-dropdown-placement-topRight,
          &${s}-slide-up-appear${s}-slide-up-appear-active${t}-dropdown-placement-topLeft,
          &${s}-slide-up-appear${s}-slide-up-appear-active${t}-dropdown-placement-topRight`]:{animationName:Yo.Qt},[`&${s}-slide-up-enter${s}-slide-up-enter-active${t}-dropdown-placement-bottomLeft,
          &${s}-slide-up-enter${s}-slide-up-enter-active${t}-dropdown-placement-bottomRight,
          &${s}-slide-up-appear${s}-slide-up-appear-active${t}-dropdown-placement-bottomLeft,
          &${s}-slide-up-appear${s}-slide-up-appear-active${t}-dropdown-placement-bottomRight`]:{animationName:Yo.fJ},[`&${s}-slide-up-leave ${t}-panel-container`]:{pointerEvents:"none"},[`&${s}-slide-up-leave${s}-slide-up-leave-active${t}-dropdown-placement-topLeft,
          &${s}-slide-up-leave${s}-slide-up-leave-active${t}-dropdown-placement-topRight`]:{animationName:Yo.ly},[`&${s}-slide-up-leave${s}-slide-up-leave-active${t}-dropdown-placement-bottomLeft,
          &${s}-slide-up-leave${s}-slide-up-leave-active${t}-dropdown-placement-bottomRight`]:{animationName:Yo.Uw},[`${t}-panel > ${t}-time-panel`]:{paddingTop:fe},[`${t}-range-wrapper`]:{display:"flex",position:"relative"},[`${t}-range-arrow`]:Object.assign(Object.assign({position:"absolute",zIndex:1,display:"none",paddingInline:e.calc(f).mul(1.5).equal(),boxSizing:"content-box",transition:`all ${ie} ease-out`},(0,mc.W)(e,ge,je)),{"&:before":{insetInlineStart:e.calc(f).mul(1.5).equal()}}),[`${t}-panel-container`]:{overflow:"hidden",verticalAlign:"top",background:ge,borderRadius:xe,boxShadow:Me,transition:`margin ${ie}`,display:"inline-block",pointerEvents:"auto",[`${t}-panel-layout`]:{display:"flex",flexWrap:"nowrap",alignItems:"stretch"},[`${t}-presets`]:{display:"flex",flexDirection:"column",minWidth:Ne,maxWidth:Ke,ul:{height:0,flex:"auto",listStyle:"none",overflow:"auto",margin:0,padding:H,borderInlineEnd:`${(0,he.bf)(y)} ${C} ${Oe}`,li:Object.assign(Object.assign({},Qt.vS),{borderRadius:$e,paddingInline:H,paddingBlock:e.calc(Z).sub(lt).div(2).equal(),cursor:"pointer",transition:`all ${ie}`,"+ li":{marginTop:X},"&:hover":{background:He}})}},[`${t}-panels`]:{display:"inline-flex",flexWrap:"nowrap","&:last-child":{[`${t}-panel`]:{borderWidth:0}}},[`${t}-panel`]:{verticalAlign:"top",background:"transparent",borderRadius:0,borderWidth:0,[`${t}-content, table`]:{textAlign:"center"},"&-focused":{borderColor:w}}}}),"&-dropdown-range":{padding:`${(0,he.bf)(e.calc(me).mul(2).div(3).equal())} 0`,"&-hidden":{display:"none"}},"&-rtl":{direction:"rtl",[`${t}-separator`]:{transform:"scale(-1, 1)"},[`${t}-footer`]:{"&-extra":{direction:"rtl"}}}})},(0,Yo.oN)(e,"slide-up"),(0,Yo.oN)(e,"slide-down"),(0,Dc.Fm)(e,"move-up"),(0,Dc.Fm)(e,"move-down")]};var g=(0,te.I$)("DatePicker",e=>{const t=(0,ci.IX)((0,od.e)(e),Ab(e),{inputPaddingHorizontalBase:e.calc(e.paddingSM).sub(1).equal(),multipleSelectItemHeight:e.multipleItemHeight,selectHeight:e.controlHeight});return[Iy(t),d(t),u(t),i(t),Dg(t),(0,k1.c)(e,{focusElCls:`${e.componentCls}-focused`})]},pf);function h(e,t,s){return s!==void 0?s:t==="year"&&e.lang.yearPlaceholder?e.lang.yearPlaceholder:t==="quarter"&&e.lang.quarterPlaceholder?e.lang.quarterPlaceholder:t==="month"&&e.lang.monthPlaceholder?e.lang.monthPlaceholder:t==="week"&&e.lang.weekPlaceholder?e.lang.weekPlaceholder:t==="time"&&e.timePickerLocale.placeholder?e.timePickerLocale.placeholder:e.lang.placeholder}function v(e,t,s){return s!==void 0?s:t==="year"&&e.lang.yearPlaceholder?e.lang.rangeYearPlaceholder:t==="quarter"&&e.lang.quarterPlaceholder?e.lang.rangeQuarterPlaceholder:t==="month"&&e.lang.monthPlaceholder?e.lang.rangeMonthPlaceholder:t==="week"&&e.lang.weekPlaceholder?e.lang.rangeWeekPlaceholder:t==="time"&&e.timePickerLocale.placeholder?e.timePickerLocale.rangePlaceholder:e.lang.rangePlaceholder}function S(e,t){const{allowClear:s=!0}=e,{clearIcon:o,removeIcon:f}=(0,m_.Z)(Object.assign(Object.assign({},e),{prefixCls:t,componentName:"DatePicker"}));return[a.useMemo(()=>s===!1?!1:Object.assign({clearIcon:o},s===!0?{}:s),[s,o]),f]}const[M,A]=["week","WeekPicker"],[b,P]=["month","MonthPicker"],[$,T]=["year","YearPicker"],[O,N]=["quarter","QuarterPicker"],[W,J]=["time","TimePicker"];var ue=e=>a.createElement(Or.ZP,Object.assign({size:"small",type:"primary"},e));function re(e){return(0,a.useMemo)(()=>Object.assign({button:ue},e),[e])}var ve=function(e,t){var s={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(s[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(s[o[f]]=e[o[f]]);return s},Be=e=>(0,a.forwardRef)((s,o)=>{var f;const{prefixCls:y,getPopupContainer:C,components:w,className:I,style:D,placement:L,size:z,disabled:k,bordered:j=!0,placeholder:Z,popupClassName:G,dropdownClassName:H,status:X,rootClassName:ne,variant:oe,picker:ae}=s,ie=ve(s,["prefixCls","getPopupContainer","components","className","style","placement","size","disabled","bordered","placeholder","popupClassName","dropdownClassName","status","rootClassName","variant","picker"]),le=a.useRef(null),{getPrefixCls:fe,direction:me,getPopupContainer:ge,rangePicker:xe}=(0,a.useContext)(ye.E_),Me=fe("picker",y),{compactSize:$e,compactItemClassnames:Oe}=(0,il.ri)(Me,me),He=fe(),[Ne,Ke]=(0,mf.Z)("rangePicker",oe,j),je=(0,Wn.Z)(Me),[lt,ht,It]=g(Me,je),[Tt]=S(s,Me),wt=re(w),_t=(0,hc.Z)(Zt=>{var Vn;return(Vn=z!=null?z:$e)!==null&&Vn!==void 0?Vn:Zt}),At=a.useContext(Fo.Z),Bt=k!=null?k:At,Dt=(0,a.useContext)(ou.aM),{hasFeedback:Gt,status:Pt,feedbackIcon:Pn}=Dt,Kn=a.createElement(a.Fragment,null,ae===W?a.createElement(nx,null):a.createElement(ex,null),Gt&&Pn);(0,a.useImperativeHandle)(o,()=>le.current);const[_n]=(0,En.Z)("Calendar",ax.Z),Fn=Object.assign(Object.assign({},_n),s.locale),[on]=(0,qt.Cn)("DatePicker",(f=s.popupStyle)===null||f===void 0?void 0:f.zIndex);return lt(a.createElement(ma.Z,{space:!0},a.createElement(xC,Object.assign({separator:a.createElement("span",{"aria-label":"to",className:`${Me}-separator`},a.createElement(ox,null)),disabled:Bt,ref:le,placement:L,placeholder:v(Fn,ae,Z),suffixIcon:Kn,prevIcon:a.createElement("span",{className:`${Me}-prev-icon`}),nextIcon:a.createElement("span",{className:`${Me}-next-icon`}),superPrevIcon:a.createElement("span",{className:`${Me}-super-prev-icon`}),superNextIcon:a.createElement("span",{className:`${Me}-super-next-icon`}),transitionName:`${He}-slide-up`,picker:ae},ie,{className:q()({[`${Me}-${_t}`]:_t,[`${Me}-${Ne}`]:Ke},(0,Vc.Z)(Me,(0,Vc.F)(Pt,X),Gt),ht,Oe,I,xe==null?void 0:xe.className,It,je,ne),style:Object.assign(Object.assign({},xe==null?void 0:xe.style),D),locale:Fn.lang,prefixCls:Me,getPopupContainer:C||ge,generateConfig:e,components:wt,direction:me,classNames:{popup:q()(ht,G||H,It,je,ne)},styles:{popup:Object.assign(Object.assign({},s.popupStyle),{zIndex:on})},allowClear:Tt}))))}),mt=function(e,t){var s={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(s[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(s[o[f]]=e[o[f]]);return s},ft=e=>{const t=(I,D)=>{const L=D===J?"timePicker":"datePicker";return(0,a.forwardRef)((k,j)=>{var Z;const{prefixCls:G,getPopupContainer:H,components:X,style:ne,className:oe,rootClassName:ae,size:ie,bordered:le,placement:fe,placeholder:me,popupClassName:ge,dropdownClassName:xe,disabled:Me,status:$e,variant:Oe,onCalendarChange:He}=k,Ne=mt(k,["prefixCls","getPopupContainer","components","style","className","rootClassName","size","bordered","placement","placeholder","popupClassName","dropdownClassName","disabled","status","variant","onCalendarChange"]),{getPrefixCls:Ke,direction:je,getPopupContainer:lt,[L]:ht}=(0,a.useContext)(ye.E_),It=Ke("picker",G),{compactSize:Tt,compactItemClassnames:wt}=(0,il.ri)(It,je),_t=a.useRef(null),[At,Bt]=(0,mf.Z)("datePicker",Oe,le),Dt=(0,Wn.Z)(It),[Gt,Pt,Pn]=g(It,Dt);(0,a.useImperativeHandle)(j,()=>_t.current);const Kn={showToday:!0},_n=I||k.picker,Fn=Ke(),{onSelect:on,multiple:Zt}=Ne,Vn=on&&I==="time"&&!Zt,Ln=(go,Gi,ko)=>{He==null||He(go,Gi,ko),Vn&&on(go)},[kr,Sr]=S(k,It),dr=re(X),cr=(0,hc.Z)(go=>{var Gi;return(Gi=ie!=null?ie:Tt)!==null&&Gi!==void 0?Gi:go}),Zn=a.useContext(Fo.Z),ur=Me!=null?Me:Zn,ti=(0,a.useContext)(ou.aM),{hasFeedback:Ei,status:ki,feedbackIcon:qi}=ti,Ho=a.createElement(a.Fragment,null,_n==="time"?a.createElement(nx,null):a.createElement(ex,null),Ei&&qi),[Li]=(0,En.Z)("DatePicker",ax.Z),bi=Object.assign(Object.assign({},Li),k.locale),[$i]=(0,qt.Cn)("DatePicker",(Z=k.popupStyle)===null||Z===void 0?void 0:Z.zIndex);return Gt(a.createElement(ma.Z,{space:!0},a.createElement(SC,Object.assign({ref:_t,placeholder:h(bi,_n,me),suffixIcon:Ho,placement:fe,prevIcon:a.createElement("span",{className:`${It}-prev-icon`}),nextIcon:a.createElement("span",{className:`${It}-next-icon`}),superPrevIcon:a.createElement("span",{className:`${It}-super-prev-icon`}),superNextIcon:a.createElement("span",{className:`${It}-super-next-icon`}),transitionName:`${Fn}-slide-up`,picker:I,onCalendarChange:Ln},Kn,Ne,{locale:bi.lang,className:q()({[`${It}-${cr}`]:cr,[`${It}-${At}`]:Bt},(0,Vc.Z)(It,(0,Vc.F)(ki,$e),Ei),Pt,wt,ht==null?void 0:ht.className,oe,Pn,Dt,ae),style:Object.assign(Object.assign({},ht==null?void 0:ht.style),ne),prefixCls:It,getPopupContainer:H||lt,generateConfig:e,components:dr,direction:je,disabled:ur,classNames:{popup:q()(Pt,Pn,Dt,ae,ge||xe)},styles:{popup:Object.assign(Object.assign({},k.popupStyle),{zIndex:$i})},allowClear:kr,removeIcon:Sr}))))})},s=t(),o=t(M,A),f=t(b,P),y=t($,T),C=t(O,N),w=t(W,J);return{DatePicker:s,WeekPicker:o,MonthPicker:f,YearPicker:y,TimePicker:w,QuarterPicker:C}},yt=e=>{const{DatePicker:t,WeekPicker:s,MonthPicker:o,YearPicker:f,TimePicker:y,QuarterPicker:C}=ft(e),w=Be(e),I=t;return I.WeekPicker=s,I.MonthPicker=o,I.YearPicker=f,I.RangePicker=w,I.TimePicker=y,I.QuarterPicker=C,I};const en=yt(Op),yn=(0,Iu.Z)(en,"popupAlign",void 0,"picker");en._InternalPanelDoNotUseOrYouWillBeFired=yn;const fn=(0,Iu.Z)(en.RangePicker,"popupAlign",void 0,"picker");en._InternalRangePanelDoNotUseOrYouWillBeFired=fn,en.generatePicker=yt;var xn=en,Yn={xxl:3,xl:3,lg:3,md:3,sm:2,xs:1},$r=a.createContext({}),fi=function(e,t){var s={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(s[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(s[o[f]]=e[o[f]]);return s};const Dr=e=>(0,Gl.Z)(e).map(t=>Object.assign(Object.assign({},t==null?void 0:t.props),{key:t.key}));function Qi(e,t,s){const o=a.useMemo(()=>t||Dr(s),[t,s]);return a.useMemo(()=>o.map(y=>{var{span:C}=y,w=fi(y,["span"]);return C==="filled"?Object.assign(Object.assign({},w),{filled:!0}):Object.assign(Object.assign({},w),{span:typeof C=="number"?C:(0,yd.m9)(e,C)})}),[o,e])}var Hi=function(e,t){var s={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(s[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(s[o[f]]=e[o[f]]);return s};function Ii(e,t){let s=[],o=[],f=!1,y=0;return e.filter(C=>C).forEach(C=>{const{filled:w}=C,I=Hi(C,["filled"]);if(w){o.push(I),s.push(o),o=[],y=0;return}const D=t-y;y+=C.span||1,y>=t?(y>t?(f=!0,o.push(Object.assign(Object.assign({},I),{span:D}))):o.push(I),s.push(o),o=[],y=0):o.push(I)}),o.length>0&&s.push(o),s=s.map(C=>{const w=C.reduce((I,D)=>I+(D.span||1),0);if(w<t){const I=C[C.length-1];return I.span=t-(w-(I.span||1)),C}return C}),[s,f]}var Ro=(e,t)=>{const[s,o]=(0,a.useMemo)(()=>Ii(t,e),[t,e]);return s},yo=e=>{let{children:t}=e;return t};function ua(e){return e!=null}var za=e=>{const{itemPrefixCls:t,component:s,span:o,className:f,style:y,labelStyle:C,contentStyle:w,bordered:I,label:D,content:L,colon:z,type:k,styles:j}=e,Z=s,G=a.useContext($r),{classNames:H}=G;return I?a.createElement(Z,{className:q()({[`${t}-item-label`]:k==="label",[`${t}-item-content`]:k==="content",[`${H==null?void 0:H.label}`]:k==="label",[`${H==null?void 0:H.content}`]:k==="content"},f),style:y,colSpan:o},ua(D)&&a.createElement("span",{style:Object.assign(Object.assign({},C),j==null?void 0:j.label)},D),ua(L)&&a.createElement("span",{style:Object.assign(Object.assign({},C),j==null?void 0:j.content)},L)):a.createElement(Z,{className:q()(`${t}-item`,f),style:y,colSpan:o},a.createElement("div",{className:`${t}-item-container`},(D||D===0)&&a.createElement("span",{className:q()(`${t}-item-label`,H==null?void 0:H.label,{[`${t}-item-no-colon`]:!z}),style:Object.assign(Object.assign({},C),j==null?void 0:j.label)},D),(L||L===0)&&a.createElement("span",{className:q()(`${t}-item-content`,H==null?void 0:H.content),style:Object.assign(Object.assign({},w),j==null?void 0:j.content)},L)))};function Na(e,t,s){let{colon:o,prefixCls:f,bordered:y}=t,{component:C,type:w,showLabel:I,showContent:D,labelStyle:L,contentStyle:z,styles:k}=s;return e.map((j,Z)=>{let{label:G,children:H,prefixCls:X=f,className:ne,style:oe,labelStyle:ae,contentStyle:ie,span:le=1,key:fe,styles:me}=j;return typeof C=="string"?a.createElement(za,{key:`${w}-${fe||Z}`,className:ne,style:oe,styles:{label:Object.assign(Object.assign(Object.assign(Object.assign({},L),k==null?void 0:k.label),ae),me==null?void 0:me.label),content:Object.assign(Object.assign(Object.assign(Object.assign({},z),k==null?void 0:k.content),ie),me==null?void 0:me.content)},span:le,colon:o,component:C,itemPrefixCls:X,bordered:y,label:I?G:null,content:D?H:null,type:w}):[a.createElement(za,{key:`label-${fe||Z}`,className:ne,style:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},L),k==null?void 0:k.label),oe),ae),me==null?void 0:me.label),span:1,colon:o,component:C[0],itemPrefixCls:X,bordered:y,label:G,type:"label"}),a.createElement(za,{key:`content-${fe||Z}`,className:ne,style:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},z),k==null?void 0:k.content),oe),ie),me==null?void 0:me.content),span:le*2-1,component:C[1],itemPrefixCls:X,bordered:y,content:H,type:"content"})]})}var ts=e=>{const t=a.useContext($r),{prefixCls:s,vertical:o,row:f,index:y,bordered:C}=e;return o?a.createElement(a.Fragment,null,a.createElement("tr",{key:`label-${y}`,className:`${s}-row`},Na(f,e,Object.assign({component:"th",type:"label",showLabel:!0},t))),a.createElement("tr",{key:`content-${y}`,className:`${s}-row`},Na(f,e,Object.assign({component:"td",type:"content",showContent:!0},t)))):a.createElement("tr",{key:y,className:`${s}-row`},Na(f,e,Object.assign({component:C?["th","td"]:"td",type:"item",showLabel:!0,showContent:!0},t)))};const Vs=e=>{const{componentCls:t,labelBg:s}=e;return{[`&${t}-bordered`]:{[`> ${t}-view`]:{border:`${(0,he.bf)(e.lineWidth)} ${e.lineType} ${e.colorSplit}`,"> table":{tableLayout:"auto"},[`${t}-row`]:{borderBottom:`${(0,he.bf)(e.lineWidth)} ${e.lineType} ${e.colorSplit}`,"&:last-child":{borderBottom:"none"},[`> ${t}-item-label, > ${t}-item-content`]:{padding:`${(0,he.bf)(e.padding)} ${(0,he.bf)(e.paddingLG)}`,borderInlineEnd:`${(0,he.bf)(e.lineWidth)} ${e.lineType} ${e.colorSplit}`,"&:last-child":{borderInlineEnd:"none"}},[`> ${t}-item-label`]:{color:e.colorTextSecondary,backgroundColor:s,"&::after":{display:"none"}}}},[`&${t}-middle`]:{[`${t}-row`]:{[`> ${t}-item-label, > ${t}-item-content`]:{padding:`${(0,he.bf)(e.paddingSM)} ${(0,he.bf)(e.paddingLG)}`}}},[`&${t}-small`]:{[`${t}-row`]:{[`> ${t}-item-label, > ${t}-item-content`]:{padding:`${(0,he.bf)(e.paddingXS)} ${(0,he.bf)(e.padding)}`}}}}}},Ds=e=>{const{componentCls:t,extraColor:s,itemPaddingBottom:o,itemPaddingEnd:f,colonMarginRight:y,colonMarginLeft:C,titleMarginBottom:w}=e;return{[t]:Object.assign(Object.assign(Object.assign({},(0,Qt.Wf)(e)),Vs(e)),{"&-rtl":{direction:"rtl"},[`${t}-header`]:{display:"flex",alignItems:"center",marginBottom:w},[`${t}-title`]:Object.assign(Object.assign({},Qt.vS),{flex:"auto",color:e.titleColor,fontWeight:e.fontWeightStrong,fontSize:e.fontSizeLG,lineHeight:e.lineHeightLG}),[`${t}-extra`]:{marginInlineStart:"auto",color:s,fontSize:e.fontSize},[`${t}-view`]:{width:"100%",borderRadius:e.borderRadiusLG,table:{width:"100%",tableLayout:"fixed",borderCollapse:"collapse"}},[`${t}-row`]:{"> th, > td":{paddingBottom:o,paddingInlineEnd:f},"> th:last-child, > td:last-child":{paddingInlineEnd:0},"&:last-child":{borderBottom:"none","> th, > td":{paddingBottom:0}}},[`${t}-item-label`]:{color:e.labelColor,fontWeight:"normal",fontSize:e.fontSize,lineHeight:e.lineHeight,textAlign:"start","&::after":{content:'":"',position:"relative",top:-.5,marginInline:`${(0,he.bf)(C)} ${(0,he.bf)(y)}`},[`&${t}-item-no-colon::after`]:{content:'""'}},[`${t}-item-no-label`]:{"&::after":{margin:0,content:'""'}},[`${t}-item-content`]:{display:"table-cell",flex:1,color:e.contentColor,fontSize:e.fontSize,lineHeight:e.lineHeight,wordBreak:"break-word",overflowWrap:"break-word"},[`${t}-item`]:{paddingBottom:0,verticalAlign:"top","&-container":{display:"flex",[`${t}-item-label`]:{display:"inline-flex",alignItems:"baseline"},[`${t}-item-content`]:{display:"inline-flex",alignItems:"baseline",minWidth:"1em"}}},"&-middle":{[`${t}-row`]:{"> th, > td":{paddingBottom:e.paddingSM}}},"&-small":{[`${t}-row`]:{"> th, > td":{paddingBottom:e.paddingXS}}}})}},Ia=e=>({labelBg:e.colorFillAlter,labelColor:e.colorTextTertiary,titleColor:e.colorText,titleMarginBottom:e.fontSizeSM*e.lineHeightSM,itemPaddingBottom:e.padding,itemPaddingEnd:e.padding,colonMarginRight:e.marginXS,colonMarginLeft:e.marginXXS/2,contentColor:e.colorText,extraColor:e.colorText});var Is=(0,te.I$)("Descriptions",e=>{const t=(0,ci.IX)(e,{});return Ds(t)},Ia),$s=function(e,t){var s={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(s[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(s[o[f]]=e[o[f]]);return s};const Ks=e=>{const{prefixCls:t,title:s,extra:o,column:f,colon:y=!0,bordered:C,layout:w,children:I,className:D,rootClassName:L,style:z,size:k,labelStyle:j,contentStyle:Z,styles:G,items:H,classNames:X}=e,ne=$s(e,["prefixCls","title","extra","column","colon","bordered","layout","children","className","rootClassName","style","size","labelStyle","contentStyle","styles","items","classNames"]),{getPrefixCls:oe,direction:ae,className:ie,style:le,classNames:fe,styles:me}=(0,ye.dj)("descriptions"),ge=oe("descriptions",t),xe=(0,Gu.Z)(),Me=a.useMemo(()=>{var ht;return typeof f=="number"?f:(ht=(0,yd.m9)(xe,Object.assign(Object.assign({},Yn),f)))!==null&&ht!==void 0?ht:3},[xe,f]),$e=Qi(xe,H,I),Oe=(0,hc.Z)(k),He=Ro(Me,$e),[Ne,Ke,je]=Is(ge),lt=a.useMemo(()=>({labelStyle:j,contentStyle:Z,styles:{content:Object.assign(Object.assign({},me.content),G==null?void 0:G.content),label:Object.assign(Object.assign({},me.label),G==null?void 0:G.label)},classNames:{label:q()(fe.label,X==null?void 0:X.label),content:q()(fe.content,X==null?void 0:X.content)}}),[j,Z,G,X,fe,me]);return Ne(a.createElement($r.Provider,{value:lt},a.createElement("div",Object.assign({className:q()(ge,ie,fe.root,X==null?void 0:X.root,{[`${ge}-${Oe}`]:Oe&&Oe!=="default",[`${ge}-bordered`]:!!C,[`${ge}-rtl`]:ae==="rtl"},D,L,Ke,je),style:Object.assign(Object.assign(Object.assign(Object.assign({},le),me.root),G==null?void 0:G.root),z)},ne),(s||o)&&a.createElement("div",{className:q()(`${ge}-header`,fe.header,X==null?void 0:X.header),style:Object.assign(Object.assign({},me.header),G==null?void 0:G.header)},s&&a.createElement("div",{className:q()(`${ge}-title`,fe.title,X==null?void 0:X.title),style:Object.assign(Object.assign({},me.title),G==null?void 0:G.title)},s),o&&a.createElement("div",{className:q()(`${ge}-extra`,fe.extra,X==null?void 0:X.extra),style:Object.assign(Object.assign({},me.extra),G==null?void 0:G.extra)},o)),a.createElement("div",{className:`${ge}-view`},a.createElement("table",null,a.createElement("tbody",null,He.map((ht,It)=>a.createElement(ts,{key:It,index:It,colon:y,prefixCls:ge,vertical:w==="vertical",bordered:C,row:ht}))))))))};Ks.Item=yo;var Sl=Ks,zl=B(67567),wl=a.createContext(null),ul=a.createContext({}),El=wl,kl=["prefixCls","className","containerRef"],wc=function(t){var s=t.prefixCls,o=t.className,f=t.containerRef,y=(0,de.Z)(t,kl),C=a.useContext(ul),w=C.panel,I=(0,Jt.x1)(w,f);return a.createElement("div",(0,Ge.Z)({className:q()("".concat(s,"-content"),o),role:"dialog",ref:I},(0,ut.Z)(t,{aria:!0}),{"aria-modal":"true"},y))},Xs=wc;function Hc(e){return typeof e=="string"&&String(Number(e))===e?((0,li.ZP)(!1,"Invalid value type of `width` or `height` which should be number type instead."),Number(e)):e}function zd(e){warning(!("wrapperClassName"in e),"'wrapperClassName' is removed. Please use 'rootClassName' instead."),warning(canUseDom()||!e.open,"Drawer with 'open' in SSR is not work since no place to createPortal. Please move to 'useEffect' instead.")}var bu={width:0,height:0,overflow:"hidden",outline:"none",position:"absolute"};function Fu(e,t){var s,o,f,y=e.prefixCls,C=e.open,w=e.placement,I=e.inline,D=e.push,L=e.forceRender,z=e.autoFocus,k=e.keyboard,j=e.classNames,Z=e.rootClassName,G=e.rootStyle,H=e.zIndex,X=e.className,ne=e.id,oe=e.style,ae=e.motion,ie=e.width,le=e.height,fe=e.children,me=e.mask,ge=e.maskClosable,xe=e.maskMotion,Me=e.maskClassName,$e=e.maskStyle,Oe=e.afterOpenChange,He=e.onClose,Ne=e.onMouseEnter,Ke=e.onMouseOver,je=e.onMouseLeave,lt=e.onClick,ht=e.onKeyDown,It=e.onKeyUp,Tt=e.styles,wt=e.drawerRender,_t=a.useRef(),At=a.useRef(),Bt=a.useRef();a.useImperativeHandle(t,function(){return _t.current});var Dt=function(ur){var ti=ur.keyCode,Ei=ur.shiftKey;switch(ti){case rt.Z.TAB:{if(ti===rt.Z.TAB){if(!Ei&&document.activeElement===Bt.current){var ki;(ki=At.current)===null||ki===void 0||ki.focus({preventScroll:!0})}else if(Ei&&document.activeElement===At.current){var qi;(qi=Bt.current)===null||qi===void 0||qi.focus({preventScroll:!0})}}break}case rt.Z.ESC:{He&&k&&(ur.stopPropagation(),He(ur));break}}};a.useEffect(function(){if(C&&z){var Zn;(Zn=_t.current)===null||Zn===void 0||Zn.focus({preventScroll:!0})}},[C]);var Gt=a.useState(!1),Pt=(0,Re.Z)(Gt,2),Pn=Pt[0],Kn=Pt[1],_n=a.useContext(El),Fn;typeof D=="boolean"?Fn=D?{}:{distance:0}:Fn=D||{};var on=(s=(o=(f=Fn)===null||f===void 0?void 0:f.distance)!==null&&o!==void 0?o:_n==null?void 0:_n.pushDistance)!==null&&s!==void 0?s:180,Zt=a.useMemo(function(){return{pushDistance:on,push:function(){Kn(!0)},pull:function(){Kn(!1)}}},[on]);a.useEffect(function(){if(C){var Zn;_n==null||(Zn=_n.push)===null||Zn===void 0||Zn.call(_n)}else{var ur;_n==null||(ur=_n.pull)===null||ur===void 0||ur.call(_n)}},[C]),a.useEffect(function(){return function(){var Zn;_n==null||(Zn=_n.pull)===null||Zn===void 0||Zn.call(_n)}},[]);var Vn=me&&a.createElement(Rn.ZP,(0,Ge.Z)({key:"mask"},xe,{visible:C}),function(Zn,ur){var ti=Zn.className,Ei=Zn.style;return a.createElement("div",{className:q()("".concat(y,"-mask"),ti,j==null?void 0:j.mask,Me),style:(0,Y.Z)((0,Y.Z)((0,Y.Z)({},Ei),$e),Tt==null?void 0:Tt.mask),onClick:ge&&C?He:void 0,ref:ur})}),Ln=typeof ae=="function"?ae(w):ae,kr={};if(Pn&&on)switch(w){case"top":kr.transform="translateY(".concat(on,"px)");break;case"bottom":kr.transform="translateY(".concat(-on,"px)");break;case"left":kr.transform="translateX(".concat(on,"px)");break;default:kr.transform="translateX(".concat(-on,"px)");break}w==="left"||w==="right"?kr.width=Hc(ie):kr.height=Hc(le);var Sr={onMouseEnter:Ne,onMouseOver:Ke,onMouseLeave:je,onClick:lt,onKeyDown:ht,onKeyUp:It},dr=a.createElement(Rn.ZP,(0,Ge.Z)({key:"panel"},Ln,{visible:C,forceRender:L,onVisibleChanged:function(ur){Oe==null||Oe(ur)},removeOnLeave:!1,leavedClassName:"".concat(y,"-content-wrapper-hidden")}),function(Zn,ur){var ti=Zn.className,Ei=Zn.style,ki=a.createElement(Xs,(0,Ge.Z)({id:ne,containerRef:ur,prefixCls:y,className:q()(X,j==null?void 0:j.content),style:(0,Y.Z)((0,Y.Z)({},oe),Tt==null?void 0:Tt.content)},(0,ut.Z)(e,{aria:!0}),Sr),fe);return a.createElement("div",(0,Ge.Z)({className:q()("".concat(y,"-content-wrapper"),j==null?void 0:j.wrapper,ti),style:(0,Y.Z)((0,Y.Z)((0,Y.Z)({},kr),Ei),Tt==null?void 0:Tt.wrapper)},(0,ut.Z)(e,{data:!0})),wt?wt(ki):ki)}),cr=(0,Y.Z)({},G);return H&&(cr.zIndex=H),a.createElement(El.Provider,{value:Zt},a.createElement("div",{className:q()(y,"".concat(y,"-").concat(w),Z,(0,pe.Z)((0,pe.Z)({},"".concat(y,"-open"),C),"".concat(y,"-inline"),I)),style:cr,tabIndex:-1,ref:_t,onKeyDown:Dt},Vn,a.createElement("div",{tabIndex:0,ref:At,style:bu,"aria-hidden":"true","data-sentinel":"start"}),dr,a.createElement("div",{tabIndex:0,ref:Bt,style:bu,"aria-hidden":"true","data-sentinel":"end"})))}var jh=a.forwardRef(Fu),rh=jh,Vh=function(t){var s=t.open,o=s===void 0?!1:s,f=t.prefixCls,y=f===void 0?"rc-drawer":f,C=t.placement,w=C===void 0?"right":C,I=t.autoFocus,D=I===void 0?!0:I,L=t.keyboard,z=L===void 0?!0:L,k=t.width,j=k===void 0?378:k,Z=t.mask,G=Z===void 0?!0:Z,H=t.maskClosable,X=H===void 0?!0:H,ne=t.getContainer,oe=t.forceRender,ae=t.afterOpenChange,ie=t.destroyOnClose,le=t.onMouseEnter,fe=t.onMouseOver,me=t.onMouseLeave,ge=t.onClick,xe=t.onKeyDown,Me=t.onKeyUp,$e=t.panelRef,Oe=a.useState(!1),He=(0,Re.Z)(Oe,2),Ne=He[0],Ke=He[1],je=a.useState(!1),lt=(0,Re.Z)(je,2),ht=lt[0],It=lt[1];(0,cl.Z)(function(){It(!0)},[]);var Tt=ht?o:!1,wt=a.useRef(),_t=a.useRef();(0,cl.Z)(function(){Tt&&(_t.current=document.activeElement)},[Tt]);var At=function(Pn){var Kn;if(Ke(Pn),ae==null||ae(Pn),!Pn&&_t.current&&!((Kn=wt.current)!==null&&Kn!==void 0&&Kn.contains(_t.current))){var _n;(_n=_t.current)===null||_n===void 0||_n.focus({preventScroll:!0})}},Bt=a.useMemo(function(){return{panel:$e}},[$e]);if(!oe&&!Ne&&!Tt&&ie)return null;var Dt={onMouseEnter:le,onMouseOver:fe,onMouseLeave:me,onClick:ge,onKeyDown:xe,onKeyUp:Me},Gt=(0,Y.Z)((0,Y.Z)({},t),{},{open:Tt,prefixCls:y,placement:w,autoFocus:D,keyboard:z,width:j,mask:G,maskClosable:X,inline:ne===!1,afterOpenChange:At,ref:wt},Dt);return a.createElement(ul.Provider,{value:Bt},a.createElement(sn.Z,{open:Tt||oe||Ne,autoDestroy:!1,getContainer:ne,autoLock:G&&(Tt||Ne)},a.createElement(rh,Gt)))},Lg=Vh,sx=Lg,C_=e=>{var t,s;const{prefixCls:o,title:f,footer:y,extra:C,loading:w,onClose:I,headerStyle:D,bodyStyle:L,footerStyle:z,children:k,classNames:j,styles:Z}=e,G=(0,ye.dj)("drawer"),H=a.useCallback(ie=>a.createElement("button",{type:"button",onClick:I,"aria-label":"Close",className:`${o}-close`},ie),[I]),[X,ne]=ga(ba(e),ba(G),{closable:!0,closeIconRender:H}),oe=a.useMemo(()=>{var ie,le;return!f&&!X?null:a.createElement("div",{style:Object.assign(Object.assign(Object.assign({},(ie=G.styles)===null||ie===void 0?void 0:ie.header),D),Z==null?void 0:Z.header),className:q()(`${o}-header`,{[`${o}-header-close-only`]:X&&!f&&!C},(le=G.classNames)===null||le===void 0?void 0:le.header,j==null?void 0:j.header)},a.createElement("div",{className:`${o}-header-title`},ne,f&&a.createElement("div",{className:`${o}-title`},f)),C&&a.createElement("div",{className:`${o}-extra`},C))},[X,ne,C,D,o,f]),ae=a.useMemo(()=>{var ie,le;if(!y)return null;const fe=`${o}-footer`;return a.createElement("div",{className:q()(fe,(ie=G.classNames)===null||ie===void 0?void 0:ie.footer,j==null?void 0:j.footer),style:Object.assign(Object.assign(Object.assign({},(le=G.styles)===null||le===void 0?void 0:le.footer),z),Z==null?void 0:Z.footer)},y)},[y,z,o]);return a.createElement(a.Fragment,null,oe,a.createElement("div",{className:q()(`${o}-body`,j==null?void 0:j.body,(t=G.classNames)===null||t===void 0?void 0:t.body),style:Object.assign(Object.assign(Object.assign({},(s=G.styles)===null||s===void 0?void 0:s.body),L),Z==null?void 0:Z.body)},w?a.createElement(vo,{active:!0,title:!1,paragraph:{rows:5},className:`${o}-body-skeleton`}):k),ae)};const lx=e=>{const t="100%";return{left:`translateX(-${t})`,right:`translateX(${t})`,top:`translateY(-${t})`,bottom:`translateY(${t})`}[e]},S_=(e,t)=>({"&-enter, &-appear":Object.assign(Object.assign({},e),{"&-active":t}),"&-leave":Object.assign(Object.assign({},t),{"&-active":e})}),w_=(e,t)=>Object.assign({"&-enter, &-appear, &-leave":{"&-start":{transition:"none"},"&-active":{transition:`all ${t}`}}},S_({opacity:e},{opacity:1})),E_=(e,t)=>[w_(.7,t),S_({transform:lx(e)},{transform:"none"})];var Nd=e=>{const{componentCls:t,motionDurationSlow:s}=e;return{[t]:{[`${t}-mask-motion`]:w_(0,s),[`${t}-panel-motion`]:["left","right","top","bottom"].reduce((o,f)=>Object.assign(Object.assign({},o),{[`&-${f}`]:E_(f,s)}),{})}}};const ux=e=>{const{borderRadiusSM:t,componentCls:s,zIndexPopup:o,colorBgMask:f,colorBgElevated:y,motionDurationSlow:C,motionDurationMid:w,paddingXS:I,padding:D,paddingLG:L,fontSizeLG:z,lineHeightLG:k,lineWidth:j,lineType:Z,colorSplit:G,marginXS:H,colorIcon:X,colorIconHover:ne,colorBgTextHover:oe,colorBgTextActive:ae,colorText:ie,fontWeightStrong:le,footerPaddingBlock:fe,footerPaddingInline:me,calc:ge}=e,xe=`${s}-content-wrapper`;return{[s]:{position:"fixed",inset:0,zIndex:o,pointerEvents:"none",color:ie,"&-pure":{position:"relative",background:y,display:"flex",flexDirection:"column",[`&${s}-left`]:{boxShadow:e.boxShadowDrawerLeft},[`&${s}-right`]:{boxShadow:e.boxShadowDrawerRight},[`&${s}-top`]:{boxShadow:e.boxShadowDrawerUp},[`&${s}-bottom`]:{boxShadow:e.boxShadowDrawerDown}},"&-inline":{position:"absolute"},[`${s}-mask`]:{position:"absolute",inset:0,zIndex:o,background:f,pointerEvents:"auto"},[xe]:{position:"absolute",zIndex:o,maxWidth:"100vw",transition:`all ${C}`,"&-hidden":{display:"none"}},[`&-left > ${xe}`]:{top:0,bottom:0,left:{_skip_check_:!0,value:0},boxShadow:e.boxShadowDrawerLeft},[`&-right > ${xe}`]:{top:0,right:{_skip_check_:!0,value:0},bottom:0,boxShadow:e.boxShadowDrawerRight},[`&-top > ${xe}`]:{top:0,insetInline:0,boxShadow:e.boxShadowDrawerUp},[`&-bottom > ${xe}`]:{bottom:0,insetInline:0,boxShadow:e.boxShadowDrawerDown},[`${s}-content`]:{display:"flex",flexDirection:"column",width:"100%",height:"100%",overflow:"auto",background:y,pointerEvents:"auto"},[`${s}-header`]:{display:"flex",flex:0,alignItems:"center",padding:`${(0,he.bf)(D)} ${(0,he.bf)(L)}`,fontSize:z,lineHeight:k,borderBottom:`${(0,he.bf)(j)} ${Z} ${G}`,"&-title":{display:"flex",flex:1,alignItems:"center",minWidth:0,minHeight:0}},[`${s}-extra`]:{flex:"none"},[`${s}-close`]:Object.assign({display:"inline-flex",width:ge(z).add(I).equal(),height:ge(z).add(I).equal(),borderRadius:t,justifyContent:"center",alignItems:"center",marginInlineEnd:H,color:X,fontWeight:le,fontSize:z,fontStyle:"normal",lineHeight:1,textAlign:"center",textTransform:"none",textDecoration:"none",background:"transparent",border:0,cursor:"pointer",transition:`all ${w}`,textRendering:"auto","&:hover":{color:ne,backgroundColor:oe,textDecoration:"none"},"&:active":{backgroundColor:ae}},(0,Qt.Qy)(e)),[`${s}-title`]:{flex:1,margin:0,fontWeight:e.fontWeightStrong,fontSize:z,lineHeight:k},[`${s}-body`]:{flex:1,minWidth:0,minHeight:0,padding:L,overflow:"auto",[`${s}-body-skeleton`]:{width:"100%",height:"100%",display:"flex",justifyContent:"center"}},[`${s}-footer`]:{flexShrink:0,padding:`${(0,he.bf)(fe)} ${(0,he.bf)(me)}`,borderTop:`${(0,he.bf)(j)} ${Z} ${G}`},"&-rtl":{direction:"rtl"}}}},Hh=e=>({zIndexPopup:e.zIndexPopupBase,footerPaddingBlock:e.paddingXS,footerPaddingInline:e.padding});var uv=(0,te.I$)("Drawer",e=>{const t=(0,ci.IX)(e,{});return[ux(t),Nd(t)]},Hh),dv=function(e,t){var s={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(s[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(s[o[f]]=e[o[f]]);return s};const dx=null,ih={distance:180},fv=e=>{var t;const{rootClassName:s,width:o,height:f,size:y="default",mask:C=!0,push:w=ih,open:I,afterOpenChange:D,onClose:L,prefixCls:z,getContainer:k,style:j,className:Z,visible:G,afterVisibleChange:H,maskStyle:X,drawerStyle:ne,contentWrapperStyle:oe}=e,ae=dv(e,["rootClassName","width","height","size","mask","push","open","afterOpenChange","onClose","prefixCls","getContainer","style","className","visible","afterVisibleChange","maskStyle","drawerStyle","contentWrapperStyle"]),{getPopupContainer:ie,getPrefixCls:le,direction:fe,className:me,style:ge,classNames:xe,styles:Me}=(0,ye.dj)("drawer"),$e=le("drawer",z),[Oe,He,Ne]=uv($e),Ke=k===void 0&&ie?()=>ie(document.body):k,je=q()({"no-mask":!C,[`${$e}-rtl`]:fe==="rtl"},s,He,Ne),lt=a.useMemo(()=>o!=null?o:y==="large"?736:378,[o,y]),ht=a.useMemo(()=>f!=null?f:y==="large"?736:378,[f,y]),It={motionName:(0,Et.m)($e,"mask-motion"),motionAppear:!0,motionEnter:!0,motionLeave:!0,motionDeadline:500},Tt=Gt=>({motionName:(0,Et.m)($e,`panel-motion-${Gt}`),motionAppear:!0,motionEnter:!0,motionLeave:!0,motionDeadline:500}),wt=co(),[_t,At]=(0,qt.Cn)("Drawer",ae.zIndex),{classNames:Bt={},styles:Dt={}}=ae;return Oe(a.createElement(ma.Z,{form:!0,space:!0},a.createElement(ms.Z.Provider,{value:At},a.createElement(sx,Object.assign({prefixCls:$e,onClose:L,maskMotion:It,motion:Tt},ae,{classNames:{mask:q()(Bt.mask,xe.mask),content:q()(Bt.content,xe.content),wrapper:q()(Bt.wrapper,xe.wrapper)},styles:{mask:Object.assign(Object.assign(Object.assign({},Dt.mask),X),Me.mask),content:Object.assign(Object.assign(Object.assign({},Dt.content),ne),Me.content),wrapper:Object.assign(Object.assign(Object.assign({},Dt.wrapper),oe),Me.wrapper)},open:I!=null?I:G,mask:C,push:w,width:lt,height:ht,style:Object.assign(Object.assign({},ge),j),className:q()(me,Z),rootClassName:je,getContainer:Ke,afterOpenChange:D!=null?D:H,panelRef:wt,zIndex:_t}),a.createElement(C_,Object.assign({prefixCls:$e},ae,{onClose:L}))))))},LS=e=>{const{prefixCls:t,style:s,className:o,placement:f="right"}=e,y=dv(e,["prefixCls","style","className","placement"]),{getPrefixCls:C}=a.useContext(ye.E_),w=C("drawer",t),[I,D,L]=uv(w),z=q()(w,`${w}-pure`,`${w}-${f}`,D,L,o);return I(a.createElement("div",{className:z,style:s},a.createElement(C_,Object.assign({prefixCls:w},y))))};fv._InternalPanelDoNotUseOrYouWillBeFired=LS;var xu=fv;function Oc(e){return["small","middle","large"].includes(e)}function lm(e){return e?typeof e=="number"&&!Number.isNaN(e):!1}const hv=a.createContext({latestIndex:0}),Uh=hv.Provider;var VT=e=>{let{className:t,index:s,children:o,split:f,style:y}=e;const{latestIndex:C}=a.useContext(hv);return o==null?null:a.createElement(a.Fragment,null,a.createElement("div",{className:t,style:y},o),s<C&&f&&a.createElement("span",{className:`${t}-split`},f))},HT=B(45936),UT=function(e,t){var s={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(s[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(s[o[f]]=e[o[f]]);return s};const c2=a.forwardRef((e,t)=>{var s;const{getPrefixCls:o,direction:f,size:y,className:C,style:w,classNames:I,styles:D}=(0,ye.dj)("space"),{size:L=y!=null?y:"small",align:z,className:k,rootClassName:j,children:Z,direction:G="horizontal",prefixCls:H,split:X,style:ne,wrap:oe=!1,classNames:ae,styles:ie}=e,le=UT(e,["size","align","className","rootClassName","children","direction","prefixCls","split","style","wrap","classNames","styles"]),[fe,me]=Array.isArray(L)?L:[L,L],ge=Oc(me),xe=Oc(fe),Me=lm(me),$e=lm(fe),Oe=(0,Gl.Z)(Z,{keepEmpty:!0}),He=z===void 0&&G==="horizontal"?"center":z,Ne=o("space",H),[Ke,je,lt]=(0,HT.Z)(Ne),ht=q()(Ne,C,je,`${Ne}-${G}`,{[`${Ne}-rtl`]:f==="rtl",[`${Ne}-align-${He}`]:He,[`${Ne}-gap-row-${me}`]:ge,[`${Ne}-gap-col-${fe}`]:xe},k,j,lt),It=q()(`${Ne}-item`,(s=ae==null?void 0:ae.item)!==null&&s!==void 0?s:I.item);let Tt=0;const wt=Oe.map((Bt,Dt)=>{var Gt;Bt!=null&&(Tt=Dt);const Pt=(Bt==null?void 0:Bt.key)||`${It}-${Dt}`;return a.createElement(VT,{className:It,key:Pt,index:Dt,split:X,style:(Gt=ie==null?void 0:ie.item)!==null&&Gt!==void 0?Gt:D.item},Bt)}),_t=a.useMemo(()=>({latestIndex:Tt}),[Tt]);if(Oe.length===0)return null;const At={};return oe&&(At.flexWrap="wrap"),!xe&&$e&&(At.columnGap=fe),!ge&&Me&&(At.rowGap=me),Ke(a.createElement("div",Object.assign({ref:t,className:ht,style:Object.assign(Object.assign(Object.assign({},At),w),ne)},le),a.createElement(Uh,{value:_t},wt)))});c2.Compact=il.ZP;var u2=c2,WT=function(e,t){var s={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(s[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(s[o[f]]=e[o[f]]);return s};const d2=e=>{const{getPopupContainer:t,getPrefixCls:s,direction:o}=a.useContext(ye.E_),{prefixCls:f,type:y="default",danger:C,disabled:w,loading:I,onClick:D,htmlType:L,children:z,className:k,menu:j,arrow:Z,autoFocus:G,overlay:H,trigger:X,align:ne,open:oe,onOpenChange:ae,placement:ie,getPopupContainer:le,href:fe,icon:me=a.createElement(vr,null),title:ge,buttonsRender:xe=Pt=>Pt,mouseEnterDelay:Me,mouseLeaveDelay:$e,overlayClassName:Oe,overlayStyle:He,destroyPopupOnHide:Ne,dropdownRender:Ke}=e,je=WT(e,["prefixCls","type","danger","disabled","loading","onClick","htmlType","children","className","menu","arrow","autoFocus","overlay","trigger","align","open","onOpenChange","placement","getPopupContainer","href","icon","title","buttonsRender","mouseEnterDelay","mouseLeaveDelay","overlayClassName","overlayStyle","destroyPopupOnHide","dropdownRender"]),lt=s("dropdown",f),ht=`${lt}-button`,It={menu:j,arrow:Z,autoFocus:G,align:ne,disabled:w,trigger:w?[]:X,onOpenChange:ae,getPopupContainer:le||t,mouseEnterDelay:Me,mouseLeaveDelay:$e,overlayClassName:Oe,overlayStyle:He,destroyPopupOnHide:Ne,dropdownRender:Ke},{compactSize:Tt,compactItemClassnames:wt}=(0,il.ri)(lt,o),_t=q()(ht,wt,k);"overlay"in e&&(It.overlay=H),"open"in e&&(It.open=oe),"placement"in e?It.placement=ie:It.placement=o==="rtl"?"bottomLeft":"bottomRight";const At=a.createElement(Or.ZP,{type:y,danger:C,disabled:w,loading:I,onClick:D,htmlType:L,href:fe,title:ge},z),Bt=a.createElement(Or.ZP,{type:y,danger:C,icon:me}),[Dt,Gt]=xe([At,Bt]);return a.createElement(u2.Compact,Object.assign({className:_t,size:Tt,block:!0},je),Dt,a.createElement(s0,Object.assign({},It),Gt))};d2.__ANT_BUTTON=!0;var GT=d2;const f2=s0;f2.Button=GT;var fx=f2,zS=B(35335);const h2=["wrap","nowrap","wrap-reverse"],p2=["flex-start","flex-end","start","end","center","space-between","space-around","space-evenly","stretch","normal","left","right"],m2=["center","start","end","flex-start","flex-end","self-start","self-end","baseline","normal","stretch"],KT=(e,t)=>{const s=t.wrap===!0?"wrap":t.wrap;return{[`${e}-wrap-${s}`]:s&&h2.includes(s)}},XT=(e,t)=>{const s={};return m2.forEach(o=>{s[`${e}-align-${o}`]=t.align===o}),s[`${e}-align-stretch`]=!t.align&&!!t.vertical,s},YT=(e,t)=>{const s={};return p2.forEach(o=>{s[`${e}-justify-${o}`]=t.justify===o}),s};function qT(e,t){return q()(Object.assign(Object.assign(Object.assign({},KT(e,t)),XT(e,t)),YT(e,t)))}var JT=qT;const QT=e=>{const{componentCls:t}=e;return{[t]:{display:"flex",margin:0,padding:0,"&-vertical":{flexDirection:"column"},"&-rtl":{direction:"rtl"},"&:empty":{display:"none"}}}},eM=e=>{const{componentCls:t}=e;return{[t]:{"&-gap-small":{gap:e.flexGapSM},"&-gap-middle":{gap:e.flexGap},"&-gap-large":{gap:e.flexGapLG}}}},tM=e=>{const{componentCls:t}=e,s={};return h2.forEach(o=>{s[`${t}-wrap-${o}`]={flexWrap:o}}),s},nM=e=>{const{componentCls:t}=e,s={};return m2.forEach(o=>{s[`${t}-align-${o}`]={alignItems:o}}),s},rM=e=>{const{componentCls:t}=e,s={};return p2.forEach(o=>{s[`${t}-justify-${o}`]={justifyContent:o}}),s},iM=()=>({});var oM=(0,te.I$)("Flex",e=>{const{paddingXS:t,padding:s,paddingLG:o}=e,f=(0,ci.IX)(e,{flexGapSM:t,flexGap:s,flexGapLG:o});return[QT(f),eM(f),tM(f),nM(f),rM(f)]},iM,{resetStyle:!1}),aM=function(e,t){var s={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(s[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(s[o[f]]=e[o[f]]);return s},sM=a.forwardRef((e,t)=>{const{prefixCls:s,rootClassName:o,className:f,style:y,flex:C,gap:w,children:I,vertical:D=!1,component:L="div"}=e,z=aM(e,["prefixCls","rootClassName","className","style","flex","gap","children","vertical","component"]),{flex:k,direction:j,getPrefixCls:Z}=a.useContext(ye.E_),G=Z("flex",s),[H,X,ne]=oM(G),oe=D!=null?D:k==null?void 0:k.vertical,ae=q()(f,o,k==null?void 0:k.className,G,X,ne,JT(G,e),{[`${G}-rtl`]:j==="rtl",[`${G}-gap-${w}`]:Oc(w),[`${G}-vertical`]:oe}),ie=Object.assign(Object.assign({},k==null?void 0:k.style),y);return C&&(ie.flex=C),w&&!Oc(w)&&(ie.gap=w),H(a.createElement(L,Object.assign({ref:t,className:ae,style:ie},(0,$a.Z)(z,["justify","wrap","align"])),I))});const g2=a.createContext(void 0),{Provider:lM}=g2;var v2=g2,cM={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494zM504 618H320c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h184c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zM312 490v48c0 4.4 3.6 8 8 8h384c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H320c-4.4 0-8 3.6-8 8z"}}]},name:"file-text",theme:"outlined"},uM=cM,dM=function(t,s){return a.createElement(Xt.Z,(0,Ge.Z)({},t,{ref:s,icon:uM}))},fM=a.forwardRef(dM),y2=fM;const hM=e=>{const{icon:t,description:s,prefixCls:o,className:f}=e,y=a.createElement("div",{className:`${o}-icon`},a.createElement(y2,null));return a.createElement("div",{onClick:e.onClick,onFocus:e.onFocus,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,className:q()(f,`${o}-content`)},t||s?a.createElement(a.Fragment,null,t&&a.createElement("div",{className:`${o}-icon`},t),s&&a.createElement("div",{className:`${o}-description`},s)):y)};var pM=(0,a.memo)(hM),_2=e=>e===0?0:e-Math.sqrt(Math.pow(e,2)/2),mM=e=>{const{componentCls:t,floatButtonSize:s,motionDurationSlow:o,motionEaseInOutCirc:f,calc:y}=e,C=new he.E4("antFloatButtonMoveTopIn",{"0%":{transform:`translate3d(0, ${(0,he.bf)(s)}, 0)`,transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),w=new he.E4("antFloatButtonMoveTopOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:`translate3d(0, ${(0,he.bf)(s)}, 0)`,transformOrigin:"0 0",opacity:0}}),I=new he.E4("antFloatButtonMoveRightIn",{"0%":{transform:`translate3d(${y(s).mul(-1).equal()}, 0, 0)`,transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),D=new he.E4("antFloatButtonMoveRightOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:`translate3d(${y(s).mul(-1).equal()}, 0, 0)`,transformOrigin:"0 0",opacity:0}}),L=new he.E4("antFloatButtonMoveBottomIn",{"0%":{transform:`translate3d(0, ${y(s).mul(-1).equal()}, 0)`,transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),z=new he.E4("antFloatButtonMoveBottomOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:`translate3d(0, ${y(s).mul(-1).equal()}, 0)`,transformOrigin:"0 0",opacity:0}}),k=new he.E4("antFloatButtonMoveLeftIn",{"0%":{transform:`translate3d(${(0,he.bf)(s)}, 0, 0)`,transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),j=new he.E4("antFloatButtonMoveLeftOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:`translate3d(${(0,he.bf)(s)}, 0, 0)`,transformOrigin:"0 0",opacity:0}}),Z=`${t}-group`;return[{[Z]:{[`&${Z}-top ${Z}-wrap`]:(0,Fa.R)(`${Z}-wrap`,C,w,o,!0),[`&${Z}-bottom ${Z}-wrap`]:(0,Fa.R)(`${Z}-wrap`,L,z,o,!0),[`&${Z}-left ${Z}-wrap`]:(0,Fa.R)(`${Z}-wrap`,k,j,o,!0),[`&${Z}-right ${Z}-wrap`]:(0,Fa.R)(`${Z}-wrap`,I,D,o,!0)}},{[`${Z}-wrap`]:{[`&${Z}-wrap-enter, &${Z}-wrap-appear`]:{opacity:0,animationTimingFunction:f},[`&${Z}-wrap-leave`]:{opacity:1,animationTimingFunction:f}}}]};const gM=e=>{const{antCls:t,componentCls:s,floatButtonSize:o,margin:f,borderRadiusLG:y,borderRadiusSM:C,badgeOffset:w,floatButtonBodyPadding:I,zIndexPopupBase:D,calc:L}=e,z=`${s}-group`;return{[z]:Object.assign(Object.assign({},(0,Qt.Wf)(e)),{zIndex:D,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",border:"none",position:"fixed",height:"auto",boxShadow:"none",minWidth:o,minHeight:o,insetInlineEnd:e.floatButtonInsetInlineEnd,bottom:e.floatButtonInsetBlockEnd,borderRadius:y,[`${z}-wrap`]:{zIndex:-1,display:"flex",justifyContent:"center",alignItems:"center",position:"absolute"},[`&${z}-rtl`]:{direction:"rtl"},[s]:{position:"static"}}),[`${z}-top > ${z}-wrap`]:{flexDirection:"column",top:"auto",bottom:L(o).add(f).equal(),"&::after":{content:'""',position:"absolute",width:"100%",height:f,bottom:L(f).mul(-1).equal()}},[`${z}-bottom > ${z}-wrap`]:{flexDirection:"column",top:L(o).add(f).equal(),bottom:"auto","&::after":{content:'""',position:"absolute",width:"100%",height:f,top:L(f).mul(-1).equal()}},[`${z}-right > ${z}-wrap`]:{flexDirection:"row",left:{_skip_check_:!0,value:L(o).add(f).equal()},right:{_skip_check_:!0,value:"auto"},"&::after":{content:'""',position:"absolute",width:f,height:"100%",left:{_skip_check_:!0,value:L(f).mul(-1).equal()}}},[`${z}-left > ${z}-wrap`]:{flexDirection:"row",left:{_skip_check_:!0,value:"auto"},right:{_skip_check_:!0,value:L(o).add(f).equal()},"&::after":{content:'""',position:"absolute",width:f,height:"100%",right:{_skip_check_:!0,value:L(f).mul(-1).equal()}}},[`${z}-circle`]:{gap:f,[`${z}-wrap`]:{gap:f}},[`${z}-square`]:{[`${s}-square`]:{padding:0,borderRadius:0,[`&${z}-trigger`]:{borderRadius:y},"&:first-child":{borderStartStartRadius:y,borderStartEndRadius:y},"&:last-child":{borderEndStartRadius:y,borderEndEndRadius:y},"&:not(:last-child)":{borderBottom:`${(0,he.bf)(e.lineWidth)} ${e.lineType} ${e.colorSplit}`},[`${t}-badge`]:{[`${t}-badge-count`]:{top:L(L(I).add(w)).mul(-1).equal(),insetInlineEnd:L(L(I).add(w)).mul(-1).equal()}}},[`${z}-wrap`]:{borderRadius:y,boxShadow:e.boxShadowSecondary,[`${s}-square`]:{boxShadow:"none",borderRadius:0,padding:I,[`${s}-body`]:{width:e.floatButtonBodySize,height:e.floatButtonBodySize,borderRadius:C}}}},[`${z}-top > ${z}-wrap, ${z}-bottom > ${z}-wrap`]:{[`> ${s}-square`]:{"&:first-child":{borderStartStartRadius:y,borderStartEndRadius:y},"&:last-child":{borderEndStartRadius:y,borderEndEndRadius:y},"&:not(:last-child)":{borderBottom:`${(0,he.bf)(e.lineWidth)} ${e.lineType} ${e.colorSplit}`}}},[`${z}-left > ${z}-wrap, ${z}-right > ${z}-wrap`]:{[`> ${s}-square`]:{"&:first-child":{borderStartStartRadius:y,borderEndStartRadius:y},"&:last-child":{borderStartEndRadius:y,borderEndEndRadius:y},"&:not(:last-child)":{borderInlineEnd:`${(0,he.bf)(e.lineWidth)} ${e.lineType} ${e.colorSplit}`}}},[`${z}-circle-shadow`]:{boxShadow:"none"},[`${z}-square-shadow`]:{boxShadow:e.boxShadowSecondary,[`${s}-square`]:{boxShadow:"none",padding:I,[`${s}-body`]:{width:e.floatButtonBodySize,height:e.floatButtonBodySize,borderRadius:C}}}}},vM=e=>{const{antCls:t,componentCls:s,floatButtonBodyPadding:o,floatButtonIconSize:f,floatButtonSize:y,borderRadiusLG:C,badgeOffset:w,dotOffsetInSquare:I,dotOffsetInCircle:D,zIndexPopupBase:L,calc:z}=e;return{[s]:Object.assign(Object.assign({},(0,Qt.Wf)(e)),{border:"none",position:"fixed",cursor:"pointer",zIndex:L,display:"block",width:y,height:y,insetInlineEnd:e.floatButtonInsetInlineEnd,bottom:e.floatButtonInsetBlockEnd,boxShadow:e.boxShadowSecondary,"&-pure":{position:"relative",inset:"auto"},"&:empty":{display:"none"},[`${t}-badge`]:{width:"100%",height:"100%",[`${t}-badge-count`]:{transform:"translate(0, 0)",transformOrigin:"center",top:z(w).mul(-1).equal(),insetInlineEnd:z(w).mul(-1).equal()}},[`${s}-body`]:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",transition:`all ${e.motionDurationMid}`,[`${s}-content`]:{overflow:"hidden",textAlign:"center",minHeight:y,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",padding:`${(0,he.bf)(z(o).div(2).equal())} ${(0,he.bf)(o)}`,[`${s}-icon`]:{textAlign:"center",margin:"auto",width:f,fontSize:f,lineHeight:1}}}}),[`${s}-rtl`]:{direction:"rtl"},[`${s}-circle`]:{height:y,borderRadius:"50%",[`${t}-badge`]:{[`${t}-badge-dot`]:{top:D,insetInlineEnd:D}},[`${s}-body`]:{borderRadius:"50%"}},[`${s}-square`]:{height:"auto",minHeight:y,borderRadius:C,[`${t}-badge`]:{[`${t}-badge-dot`]:{top:I,insetInlineEnd:I}},[`${s}-body`]:{height:"auto",borderRadius:C}},[`${s}-default`]:{backgroundColor:e.floatButtonBackgroundColor,transition:`background-color ${e.motionDurationMid}`,[`${s}-body`]:{backgroundColor:e.floatButtonBackgroundColor,transition:`background-color ${e.motionDurationMid}`,"&:hover":{backgroundColor:e.colorFillContent},[`${s}-content`]:{[`${s}-icon`]:{color:e.colorText},[`${s}-description`]:{display:"flex",alignItems:"center",lineHeight:(0,he.bf)(e.fontSizeLG),color:e.colorText,fontSize:e.fontSizeSM}}}},[`${s}-primary`]:{backgroundColor:e.colorPrimary,[`${s}-body`]:{backgroundColor:e.colorPrimary,transition:`background-color ${e.motionDurationMid}`,"&:hover":{backgroundColor:e.colorPrimaryHover},[`${s}-content`]:{[`${s}-icon`]:{color:e.colorTextLightSolid},[`${s}-description`]:{display:"flex",alignItems:"center",lineHeight:(0,he.bf)(e.fontSizeLG),color:e.colorTextLightSolid,fontSize:e.fontSizeSM}}}}}},yM=e=>({dotOffsetInCircle:_2(e.controlHeightLG/2),dotOffsetInSquare:_2(e.borderRadiusLG)});var b2=(0,te.I$)("FloatButton",e=>{const{colorTextLightSolid:t,colorBgElevated:s,controlHeightLG:o,marginXXL:f,marginLG:y,fontSize:C,fontSizeIcon:w,controlItemBgHover:I,paddingXXS:D,calc:L}=e,z=(0,ci.IX)(e,{floatButtonBackgroundColor:s,floatButtonColor:t,floatButtonHoverBackgroundColor:I,floatButtonFontSize:C,floatButtonIconSize:L(w).mul(1.5).equal(),floatButtonSize:o,floatButtonInsetBlockEnd:f,floatButtonInsetInlineEnd:y,floatButtonBodySize:L(o).sub(L(D).mul(2)).equal(),floatButtonBodyPadding:D,badgeOffset:L(D).mul(1.5).equal()});return[gM(z),vM(z),ja(e),mM(z)]},yM),_M=function(e,t){var s={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(s[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(s[o[f]]=e[o[f]]);return s};const hx="float-btn";var zg=a.forwardRef((e,t)=>{const{prefixCls:s,className:o,rootClassName:f,style:y,type:C="default",shape:w="circle",icon:I,description:D,tooltip:L,htmlType:z="button",badge:k={}}=e,j=_M(e,["prefixCls","className","rootClassName","style","type","shape","icon","description","tooltip","htmlType","badge"]),{getPrefixCls:Z,direction:G}=(0,a.useContext)(ye.E_),H=(0,a.useContext)(v2),X=Z(hx,s),ne=(0,Wn.Z)(X),[oe,ae,ie]=b2(X,ne),le=H||w,fe=q()(ae,ie,ne,X,o,f,`${X}-${C}`,`${X}-${le}`,{[`${X}-rtl`]:G==="rtl"}),[me]=(0,qt.Cn)("FloatButton",y==null?void 0:y.zIndex),ge=Object.assign(Object.assign({},y),{zIndex:me}),xe=(0,$a.Z)(k,["title","children","status","text"]),Me=(0,a.useMemo)(()=>({prefixCls:X,description:D,icon:I,type:C}),[X,D,I,C]);let $e=a.createElement("div",{className:`${X}-body`},a.createElement(pM,Object.assign({},Me)));return"badge"in e&&($e=a.createElement(Mu,Object.assign({},xe),$e)),"tooltip"in e&&($e=a.createElement(qr.Z,{title:L,placement:G==="rtl"?"right":"left"},$e)),oe(e.href?a.createElement("a",Object.assign({ref:t},j,{className:fe,style:ge}),$e):a.createElement("button",Object.assign({ref:t},j,{className:fe,style:ge,type:z}),$e))}),bM=function(e,t){var s={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(s[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(s[o[f]]=e[o[f]]);return s},x2=a.forwardRef((e,t)=>{const{prefixCls:s,className:o,type:f="default",shape:y="circle",visibilityHeight:C=400,icon:w=a.createElement(Yd,null),target:I,onClick:D,duration:L=450}=e,z=bM(e,["prefixCls","className","type","shape","visibilityHeight","icon","target","onClick","duration"]),[k,j]=(0,a.useState)(C===0),Z=a.useRef(null);a.useImperativeHandle(t,()=>({nativeElement:Z.current}));const G=()=>{var me;return((me=Z.current)===null||me===void 0?void 0:me.ownerDocument)||window},H=Te(me=>{const ge=ar(me.target);j(ge>=C)});(0,a.useEffect)(()=>{const ge=(I||G)();return H({target:ge}),ge==null||ge.addEventListener("scroll",H),()=>{H.cancel(),ge==null||ge.removeEventListener("scroll",H)}},[I]);const X=me=>{ii(0,{getContainer:I||G,duration:L}),D==null||D(me)},{getPrefixCls:ne}=(0,a.useContext)(ye.E_),oe=ne(hx,s),ae=ne(),le=(0,a.useContext)(v2)||y,fe=Object.assign({prefixCls:oe,icon:w,type:f,shape:le},z);return a.createElement(Rn.ZP,{visible:k,motionName:`${ae}-fade`},(me,ge)=>{let{className:xe}=me;return a.createElement(zg,Object.assign({ref:(0,Jt.sQ)(Z,ge)},fe,{onClick:X,className:q()(o,xe)}))})}),xM=function(e,t){var s={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(s[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(s[o[f]]=e[o[f]]);return s},C2=e=>{var t;const{prefixCls:s,className:o,style:f,shape:y="circle",type:C="default",placement:w="top",icon:I=a.createElement(y2,null),closeIcon:D,description:L,trigger:z,children:k,onOpenChange:j,open:Z,onClick:G}=e,H=xM(e,["prefixCls","className","style","shape","type","placement","icon","closeIcon","description","trigger","children","onOpenChange","open","onClick"]),{direction:X,getPrefixCls:ne,closeIcon:oe}=(0,ye.dj)("floatButtonGroup"),ae=(t=D!=null?D:oe)!==null&&t!==void 0?t:a.createElement(lr.Z,null),ie=ne(hx,s),le=(0,Wn.Z)(ie),[fe,me,ge]=b2(ie,le),xe=`${ie}-group`,Me=z&&["click","hover"].includes(z),$e=w&&["top","left","right","bottom"].includes(w),Oe=q()(xe,me,ge,le,o,{[`${xe}-rtl`]:X==="rtl",[`${xe}-${y}`]:y,[`${xe}-${y}-shadow`]:!Me,[`${xe}-${w}`]:Me&&$e}),[He]=(0,qt.Cn)("FloatButton",f==null?void 0:f.zIndex),Ne=Object.assign(Object.assign({},f),{zIndex:He}),Ke=q()(me,`${xe}-wrap`),[je,lt]=(0,Cs.Z)(!1,{value:Z}),ht=a.useRef(null),It=z==="hover",Tt=z==="click",wt=(0,_r.Z)(Dt=>{je!==Dt&&(lt(Dt),j==null||j(Dt))}),_t=()=>{It&&wt(!0)},At=()=>{It&&wt(!1)},Bt=Dt=>{Tt&&wt(!je),G==null||G(Dt)};return a.useEffect(()=>{if(Tt){const Dt=Gt=>{var Pt;!((Pt=ht.current)===null||Pt===void 0)&&Pt.contains(Gt.target)||wt(!1)};return document.addEventListener("click",Dt,{capture:!0}),()=>document.removeEventListener("click",Dt,{capture:!0})}},[Tt]),fe(a.createElement(lM,{value:y},a.createElement("div",{ref:ht,className:Oe,style:Ne,onMouseEnter:_t,onMouseLeave:At},Me?a.createElement(a.Fragment,null,a.createElement(Rn.ZP,{visible:je,motionName:`${xe}-wrap`},Dt=>{let{className:Gt}=Dt;return a.createElement("div",{className:q()(Gt,Ke)},k)}),a.createElement(zg,Object.assign({type:C,icon:je?ae:I,description:L,"aria-label":e["aria-label"],className:`${xe}-trigger`,onClick:Bt},H))):k)))},S2=function(e,t){var s={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(s[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(s[o[f]]=e[o[f]]);return s};const w2=e=>{var{backTop:t}=e,s=S2(e,["backTop"]);return t?a.createElement(x2,Object.assign({},s,{visibilityHeight:0})):a.createElement(zg,Object.assign({},s))};var CM=e=>{var{className:t,items:s}=e,o=S2(e,["className","items"]);const{prefixCls:f}=o,{getPrefixCls:y}=a.useContext(ye.E_),w=`${y(hx,f)}-pure`;return s?a.createElement(C2,Object.assign({className:q()(t,w)},o),s.map((I,D)=>a.createElement(w2,Object.assign({key:D},I)))):a.createElement(w2,Object.assign({className:q()(t,w)},o))};zg.BackTop=x2,zg.Group=C2,zg._InternalPanelDoNotUseOrYouWillBeFired=CM;var SM=zg,wM=B(54735);function EM(){return(0,Gu.Z)()}var IM={useBreakpoint:EM},TM={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z"}}]},name:"eye",theme:"outlined"},MM=TM,PM=function(t,s){return a.createElement(Xt.Z,(0,Ge.Z)({},t,{ref:s,icon:MM}))},OM=a.forwardRef(PM),NS=OM,E2=/margin|padding|width|height|max|min|offset/,BS={left:!0,top:!0},I2={cssFloat:1,styleFloat:1,float:1};function T2(e){return e.nodeType===1?e.ownerDocument.defaultView.getComputedStyle(e,null):{}}function RM(e,t,s){if(t=t.toLowerCase(),s==="auto"){if(t==="height")return e.offsetHeight;if(t==="width")return e.offsetWidth}return t in BS||(BS[t]=E2.test(t)),BS[t]?parseFloat(s)||0:s}function bF(e,t){var s=arguments.length,o=T2(e);return t=I2[t]?"cssFloat"in e.style?"cssFloat":"styleFloat":t,s===1?o:RM(e,t,o[t]||e.style[t])}function $M(e,t,s){var o=arguments.length;if(t=I2[t]?"cssFloat"in e.style?"cssFloat":"styleFloat":t,o===3)return typeof s=="number"&&E2.test(t)&&(s="".concat(s,"px")),e.style[t]=s,s;for(var f in t)t.hasOwnProperty(f)&&$M(e,f,t[f]);return T2(e)}function xF(e){return e===document.body?document.documentElement.clientWidth:e.offsetWidth}function CF(e){return e===document.body?window.innerHeight||document.documentElement.clientHeight:e.offsetHeight}function SF(){var e=Math.max(document.documentElement.scrollWidth,document.body.scrollWidth),t=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight);return{width:e,height:t}}function M2(){var e=document.documentElement.clientWidth,t=window.innerHeight||document.documentElement.clientHeight;return{width:e,height:t}}function wF(){return{scrollLeft:Math.max(document.documentElement.scrollLeft,document.body.scrollLeft),scrollTop:Math.max(document.documentElement.scrollTop,document.body.scrollTop)}}function AM(e){var t=e.getBoundingClientRect(),s=document.documentElement;return{left:t.left+(window.pageXOffset||s.scrollLeft)-(s.clientLeft||document.body.clientLeft||0),top:t.top+(window.pageYOffset||s.scrollTop)-(s.clientTop||document.body.clientTop||0)}}function cm(e,t,s,o){var f=Ze.unstable_batchedUpdates?function(C){Ze.unstable_batchedUpdates(s,C)}:s;return e!=null&&e.addEventListener&&e.addEventListener(t,f,o),{remove:function(){e!=null&&e.removeEventListener&&e.removeEventListener(t,f,o)}}}var I_=a.createContext(null),DM=function(t){var s=t.visible,o=t.maskTransitionName,f=t.getContainer,y=t.prefixCls,C=t.rootClassName,w=t.icons,I=t.countRender,D=t.showSwitch,L=t.showProgress,z=t.current,k=t.transform,j=t.count,Z=t.scale,G=t.minScale,H=t.maxScale,X=t.closeIcon,ne=t.onActive,oe=t.onClose,ae=t.onZoomIn,ie=t.onZoomOut,le=t.onRotateRight,fe=t.onRotateLeft,me=t.onFlipX,ge=t.onFlipY,xe=t.onReset,Me=t.toolbarRender,$e=t.zIndex,Oe=t.image,He=(0,a.useContext)(I_),Ne=w.rotateLeft,Ke=w.rotateRight,je=w.zoomIn,lt=w.zoomOut,ht=w.close,It=w.left,Tt=w.right,wt=w.flipX,_t=w.flipY,At="".concat(y,"-operations-operation");a.useEffect(function(){var Ln=function(Sr){Sr.keyCode===rt.Z.ESC&&oe()};return s&&window.addEventListener("keydown",Ln),function(){window.removeEventListener("keydown",Ln)}},[s]);var Bt=function(kr,Sr){kr.preventDefault(),kr.stopPropagation(),ne(Sr)},Dt=a.useCallback(function(Ln){var kr=Ln.type,Sr=Ln.disabled,dr=Ln.onClick,cr=Ln.icon;return a.createElement("div",{key:kr,className:q()(At,"".concat(y,"-operations-operation-").concat(kr),(0,pe.Z)({},"".concat(y,"-operations-operation-disabled"),!!Sr)),onClick:dr},cr)},[At,y]),Gt=D?Dt({icon:It,onClick:function(kr){return Bt(kr,-1)},type:"prev",disabled:z===0}):void 0,Pt=D?Dt({icon:Tt,onClick:function(kr){return Bt(kr,1)},type:"next",disabled:z===j-1}):void 0,Pn=Dt({icon:_t,onClick:ge,type:"flipY"}),Kn=Dt({icon:wt,onClick:me,type:"flipX"}),_n=Dt({icon:Ne,onClick:fe,type:"rotateLeft"}),Fn=Dt({icon:Ke,onClick:le,type:"rotateRight"}),on=Dt({icon:lt,onClick:ie,type:"zoomOut",disabled:Z<=G}),Zt=Dt({icon:je,onClick:ae,type:"zoomIn",disabled:Z===H}),Vn=a.createElement("div",{className:"".concat(y,"-operations")},Pn,Kn,_n,Fn,on,Zt);return a.createElement(Rn.ZP,{visible:s,motionName:o},function(Ln){var kr=Ln.className,Sr=Ln.style;return a.createElement(sn.Z,{open:!0,getContainer:f!=null?f:document.body},a.createElement("div",{className:q()("".concat(y,"-operations-wrapper"),kr,C),style:(0,Y.Z)((0,Y.Z)({},Sr),{},{zIndex:$e})},X===null?null:a.createElement("button",{className:"".concat(y,"-close"),onClick:oe},X||ht),D&&a.createElement(a.Fragment,null,a.createElement("div",{className:q()("".concat(y,"-switch-left"),(0,pe.Z)({},"".concat(y,"-switch-left-disabled"),z===0)),onClick:function(cr){return Bt(cr,-1)}},It),a.createElement("div",{className:q()("".concat(y,"-switch-right"),(0,pe.Z)({},"".concat(y,"-switch-right-disabled"),z===j-1)),onClick:function(cr){return Bt(cr,1)}},Tt)),a.createElement("div",{className:"".concat(y,"-footer")},L&&a.createElement("div",{className:"".concat(y,"-progress")},I?I(z+1,j):"".concat(z+1," / ").concat(j)),Me?Me(Vn,(0,Y.Z)((0,Y.Z)({icons:{prevIcon:Gt,nextIcon:Pt,flipYIcon:Pn,flipXIcon:Kn,rotateLeftIcon:_n,rotateRightIcon:Fn,zoomOutIcon:on,zoomInIcon:Zt},actions:{onActive:ne,onFlipY:ge,onFlipX:me,onRotateLeft:fe,onRotateRight:le,onZoomOut:ie,onZoomIn:ae,onReset:xe,onClose:oe},transform:k},He?{current:z,total:j}:{}),{},{image:Oe})):Vn)))})},LM=DM,px={x:0,y:0,rotate:0,scale:1,flipX:!1,flipY:!1};function zM(e,t,s,o){var f=(0,a.useRef)(null),y=(0,a.useRef)([]),C=(0,a.useState)(px),w=(0,Re.Z)(C,2),I=w[0],D=w[1],L=function(Z){D(px),(0,mu.Z)(px,I)||o==null||o({transform:px,action:Z})},z=function(Z,G){f.current===null&&(y.current=[],f.current=(0,We.Z)(function(){D(function(H){var X=H;return y.current.forEach(function(ne){X=(0,Y.Z)((0,Y.Z)({},X),ne)}),f.current=null,o==null||o({transform:X,action:G}),X})})),y.current.push((0,Y.Z)((0,Y.Z)({},I),Z))},k=function(Z,G,H,X,ne){var oe=e.current,ae=oe.width,ie=oe.height,le=oe.offsetWidth,fe=oe.offsetHeight,me=oe.offsetLeft,ge=oe.offsetTop,xe=Z,Me=I.scale*Z;Me>s?(Me=s,xe=s/I.scale):Me<t&&(Me=ne?Me:t,xe=Me/I.scale);var $e=H!=null?H:innerWidth/2,Oe=X!=null?X:innerHeight/2,He=xe-1,Ne=He*ae*.5,Ke=He*ie*.5,je=He*($e-I.x-me),lt=He*(Oe-I.y-ge),ht=I.x-(je-Ne),It=I.y-(lt-Ke);if(Z<1&&Me===1){var Tt=le*Me,wt=fe*Me,_t=M2(),At=_t.width,Bt=_t.height;Tt<=At&&wt<=Bt&&(ht=0,It=0)}z({x:ht,y:It,scale:Me},G)};return{transform:I,resetTransform:L,updateTransform:z,dispatchZoomChange:k}}function P2(e,t,s,o){var f=t+s,y=(s-o)/2;if(s>o){if(t>0)return(0,pe.Z)({},e,y);if(t<0&&f<o)return(0,pe.Z)({},e,-y)}else if(t<0||f>o)return(0,pe.Z)({},e,t<0?y:-y);return{}}function O2(e,t,s,o){var f=M2(),y=f.width,C=f.height,w=null;return e<=y&&t<=C?w={x:0,y:0}:(e>y||t>C)&&(w=(0,Y.Z)((0,Y.Z)({},P2("x",s,e,y)),P2("y",o,t,C))),w}var pv=1,NM=1;function BM(e,t,s,o,f,y,C){var w=f.rotate,I=f.scale,D=f.x,L=f.y,z=(0,a.useState)(!1),k=(0,Re.Z)(z,2),j=k[0],Z=k[1],G=(0,a.useRef)({diffX:0,diffY:0,transformX:0,transformY:0}),H=function(ie){!t||ie.button!==0||(ie.preventDefault(),ie.stopPropagation(),G.current={diffX:ie.pageX-D,diffY:ie.pageY-L,transformX:D,transformY:L},Z(!0))},X=function(ie){s&&j&&y({x:ie.pageX-G.current.diffX,y:ie.pageY-G.current.diffY},"move")},ne=function(){if(s&&j){Z(!1);var ie=G.current,le=ie.transformX,fe=ie.transformY,me=D!==le&&L!==fe;if(!me)return;var ge=e.current.offsetWidth*I,xe=e.current.offsetHeight*I,Me=e.current.getBoundingClientRect(),$e=Me.left,Oe=Me.top,He=w%180!==0,Ne=O2(He?xe:ge,He?ge:xe,$e,Oe);Ne&&y((0,Y.Z)({},Ne),"dragRebound")}},oe=function(ie){if(!(!s||ie.deltaY==0)){var le=Math.abs(ie.deltaY/100),fe=Math.min(le,NM),me=pv+fe*o;ie.deltaY>0&&(me=pv/me),C(me,"wheel",ie.clientX,ie.clientY)}};return(0,a.useEffect)(function(){var ae,ie,le,fe;if(t){le=cm(window,"mouseup",ne,!1),fe=cm(window,"mousemove",X,!1);try{window.top!==window.self&&(ae=cm(window.top,"mouseup",ne,!1),ie=cm(window.top,"mousemove",X,!1))}catch(me){(0,li.Kp)(!1,"[rc-image] ".concat(me))}}return function(){var me,ge,xe,Me;(me=le)===null||me===void 0||me.remove(),(ge=fe)===null||ge===void 0||ge.remove(),(xe=ae)===null||xe===void 0||xe.remove(),(Me=ie)===null||Me===void 0||Me.remove()}},[s,j,D,L,w,t]),{isMoving:j,onMouseDown:H,onMouseMove:X,onMouseUp:ne,onWheel:oe}}function FM(e){return new Promise(function(t){var s=document.createElement("img");s.onerror=function(){return t(!1)},s.onload=function(){return t(!0)},s.src=e})}function R2(e){var t=e.src,s=e.isCustomPlaceholder,o=e.fallback,f=(0,a.useState)(s?"loading":"normal"),y=(0,Re.Z)(f,2),C=y[0],w=y[1],I=(0,a.useRef)(!1),D=C==="error";(0,a.useEffect)(function(){var j=!0;return FM(t).then(function(Z){!Z&&j&&w("error")}),function(){j=!1}},[t]),(0,a.useEffect)(function(){s&&!I.current?w("loading"):D&&w("normal")},[t]);var L=function(){w("normal")},z=function(Z){I.current=!1,C==="loading"&&Z!==null&&Z!==void 0&&Z.complete&&(Z.naturalWidth||Z.naturalHeight)&&(I.current=!0,L())},k=D&&o?{src:o}:{onLoad:L,src:t};return[z,k,C]}function mx(e,t){var s=e.x-t.x,o=e.y-t.y;return Math.hypot(s,o)}function kM(e,t,s,o){var f=mx(e,s),y=mx(t,o);if(f===0&&y===0)return[e.x,e.y];var C=f/(f+y),w=e.x+C*(t.x-e.x),I=e.y+C*(t.y-e.y);return[w,I]}function ZM(e,t,s,o,f,y,C){var w=f.rotate,I=f.scale,D=f.x,L=f.y,z=(0,a.useState)(!1),k=(0,Re.Z)(z,2),j=k[0],Z=k[1],G=(0,a.useRef)({point1:{x:0,y:0},point2:{x:0,y:0},eventType:"none"}),H=function(ie){G.current=(0,Y.Z)((0,Y.Z)({},G.current),ie)},X=function(ie){if(t){ie.stopPropagation(),Z(!0);var le=ie.touches,fe=le===void 0?[]:le;fe.length>1?H({point1:{x:fe[0].clientX,y:fe[0].clientY},point2:{x:fe[1].clientX,y:fe[1].clientY},eventType:"touchZoom"}):H({point1:{x:fe[0].clientX-D,y:fe[0].clientY-L},eventType:"move"})}},ne=function(ie){var le=ie.touches,fe=le===void 0?[]:le,me=G.current,ge=me.point1,xe=me.point2,Me=me.eventType;if(fe.length>1&&Me==="touchZoom"){var $e={x:fe[0].clientX,y:fe[0].clientY},Oe={x:fe[1].clientX,y:fe[1].clientY},He=kM(ge,xe,$e,Oe),Ne=(0,Re.Z)(He,2),Ke=Ne[0],je=Ne[1],lt=mx($e,Oe)/mx(ge,xe);C(lt,"touchZoom",Ke,je,!0),H({point1:$e,point2:Oe,eventType:"touchZoom"})}else Me==="move"&&(y({x:fe[0].clientX-ge.x,y:fe[0].clientY-ge.y},"move"),H({eventType:"move"}))},oe=function(){if(s){if(j&&Z(!1),H({eventType:"none"}),o>I)return y({x:0,y:0,scale:o},"touchZoom");var ie=e.current.offsetWidth*I,le=e.current.offsetHeight*I,fe=e.current.getBoundingClientRect(),me=fe.left,ge=fe.top,xe=w%180!==0,Me=O2(xe?le:ie,xe?ie:le,me,ge);Me&&y((0,Y.Z)({},Me),"dragRebound")}};return(0,a.useEffect)(function(){var ae;return s&&t&&(ae=cm(window,"touchmove",function(ie){return ie.preventDefault()},{passive:!1})),function(){var ie;(ie=ae)===null||ie===void 0||ie.remove()}},[s,t]),{isTouching:j,onTouchStart:X,onTouchMove:ne,onTouchEnd:oe}}var jM=["fallback","src","imgRef"],VM=["prefixCls","src","alt","imageInfo","fallback","movable","onClose","visible","icons","rootClassName","closeIcon","getContainer","current","count","countRender","scaleStep","minScale","maxScale","transitionName","maskTransitionName","imageRender","imgCommonProps","toolbarRender","onTransform","onChange"],HM=function(t){var s=t.fallback,o=t.src,f=t.imgRef,y=(0,de.Z)(t,jM),C=R2({src:o,fallback:s}),w=(0,Re.Z)(C,2),I=w[0],D=w[1];return a.createElement("img",(0,Ge.Z)({ref:function(z){f.current=z,I(z)}},y,D))},UM=function(t){var s=t.prefixCls,o=t.src,f=t.alt,y=t.imageInfo,C=t.fallback,w=t.movable,I=w===void 0?!0:w,D=t.onClose,L=t.visible,z=t.icons,k=z===void 0?{}:z,j=t.rootClassName,Z=t.closeIcon,G=t.getContainer,H=t.current,X=H===void 0?0:H,ne=t.count,oe=ne===void 0?1:ne,ae=t.countRender,ie=t.scaleStep,le=ie===void 0?.5:ie,fe=t.minScale,me=fe===void 0?1:fe,ge=t.maxScale,xe=ge===void 0?50:ge,Me=t.transitionName,$e=Me===void 0?"zoom":Me,Oe=t.maskTransitionName,He=Oe===void 0?"fade":Oe,Ne=t.imageRender,Ke=t.imgCommonProps,je=t.toolbarRender,lt=t.onTransform,ht=t.onChange,It=(0,de.Z)(t,VM),Tt=(0,a.useRef)(),wt=(0,a.useContext)(I_),_t=wt&&oe>1,At=wt&&oe>=1,Bt=(0,a.useState)(!0),Dt=(0,Re.Z)(Bt,2),Gt=Dt[0],Pt=Dt[1],Pn=zM(Tt,me,xe,lt),Kn=Pn.transform,_n=Pn.resetTransform,Fn=Pn.updateTransform,on=Pn.dispatchZoomChange,Zt=BM(Tt,I,L,le,Kn,Fn,on),Vn=Zt.isMoving,Ln=Zt.onMouseDown,kr=Zt.onWheel,Sr=ZM(Tt,I,L,me,Kn,Fn,on),dr=Sr.isTouching,cr=Sr.onTouchStart,Zn=Sr.onTouchMove,ur=Sr.onTouchEnd,ti=Kn.rotate,Ei=Kn.scale,ki=q()((0,pe.Z)({},"".concat(s,"-moving"),Vn));(0,a.useEffect)(function(){Gt||Pt(!0)},[Gt]);var qi=function(){_n("close")},Ho=function(){on(pv+le,"zoomIn")},Li=function(){on(pv/(pv+le),"zoomOut")},bi=function(){Fn({rotate:ti+90},"rotateRight")},$i=function(){Fn({rotate:ti-90},"rotateLeft")},go=function(){Fn({flipX:!Kn.flipX},"flipX")},Gi=function(){Fn({flipY:!Kn.flipY},"flipY")},ko=function(){_n("reset")},Er=function(xo){var ra=X+xo;!Number.isInteger(ra)||ra<0||ra>oe-1||(Pt(!1),_n(xo<0?"prev":"next"),ht==null||ht(ra,X))},Mr=function(xo){!L||!_t||(xo.keyCode===rt.Z.LEFT?Er(-1):xo.keyCode===rt.Z.RIGHT&&Er(1))},Zr=function(xo){L&&(Ei!==1?Fn({x:0,y:0,scale:1},"doubleClick"):on(pv+le,"doubleClick",xo.clientX,xo.clientY))};(0,a.useEffect)(function(){var Ui=cm(window,"keydown",Mr,!1);return function(){Ui.remove()}},[L,_t,X]);var tr=a.createElement(HM,(0,Ge.Z)({},Ke,{width:t.width,height:t.height,imgRef:Tt,className:"".concat(s,"-img"),alt:f,style:{transform:"translate3d(".concat(Kn.x,"px, ").concat(Kn.y,"px, 0) scale3d(").concat(Kn.flipX?"-":"").concat(Ei,", ").concat(Kn.flipY?"-":"").concat(Ei,", 1) rotate(").concat(ti,"deg)"),transitionDuration:(!Gt||dr)&&"0s"},fallback:C,src:o,onWheel:kr,onMouseDown:Ln,onDoubleClick:Zr,onTouchStart:cr,onTouchMove:Zn,onTouchEnd:ur,onTouchCancel:ur})),yi=(0,Y.Z)({url:o,alt:f},y);return a.createElement(a.Fragment,null,a.createElement(da,(0,Ge.Z)({transitionName:$e,maskTransitionName:He,closable:!1,keyboard:!0,prefixCls:s,onClose:D,visible:L,classNames:{wrapper:ki},rootClassName:j,getContainer:G},It,{afterClose:qi}),a.createElement("div",{className:"".concat(s,"-img-wrapper")},Ne?Ne(tr,(0,Y.Z)({transform:Kn,image:yi},wt?{current:X}:{})):tr)),a.createElement(LM,{visible:L,transform:Kn,maskTransitionName:He,closeIcon:Z,getContainer:G,prefixCls:s,rootClassName:j,icons:k,countRender:ae,showSwitch:_t,showProgress:At,current:X,count:oe,scale:Ei,minScale:me,maxScale:xe,toolbarRender:je,onActive:Er,onZoomIn:Ho,onZoomOut:Li,onRotateRight:bi,onRotateLeft:$i,onFlipX:go,onFlipY:Gi,onClose:D,onReset:ko,zIndex:It.zIndex!==void 0?It.zIndex+1:void 0,image:yi}))},$2=UM,FS=["crossOrigin","decoding","draggable","loading","referrerPolicy","sizes","srcSet","useMap","alt"];function WM(e){var t=a.useState({}),s=(0,Re.Z)(t,2),o=s[0],f=s[1],y=a.useCallback(function(w,I){return f(function(D){return(0,Y.Z)((0,Y.Z)({},D),{},(0,pe.Z)({},w,I))}),function(){f(function(D){var L=(0,Y.Z)({},D);return delete L[w],L})}},[]),C=a.useMemo(function(){return e?e.map(function(w){if(typeof w=="string")return{data:{src:w}};var I={};return Object.keys(w).forEach(function(D){["src"].concat((0,be.Z)(FS)).includes(D)&&(I[D]=w[D])}),{data:I}}):Object.keys(o).reduce(function(w,I){var D=o[I],L=D.canPreview,z=D.data;return L&&w.push({data:z,id:I}),w},[])},[e,o]);return[C,y,!!e]}var GM=["visible","onVisibleChange","getContainer","current","movable","minScale","maxScale","countRender","closeIcon","onChange","onTransform","toolbarRender","imageRender"],KM=["src"],XM=function(t){var s,o=t.previewPrefixCls,f=o===void 0?"rc-image-preview":o,y=t.children,C=t.icons,w=C===void 0?{}:C,I=t.items,D=t.preview,L=t.fallback,z=(0,nt.Z)(D)==="object"?D:{},k=z.visible,j=z.onVisibleChange,Z=z.getContainer,G=z.current,H=z.movable,X=z.minScale,ne=z.maxScale,oe=z.countRender,ae=z.closeIcon,ie=z.onChange,le=z.onTransform,fe=z.toolbarRender,me=z.imageRender,ge=(0,de.Z)(z,GM),xe=WM(I),Me=(0,Re.Z)(xe,3),$e=Me[0],Oe=Me[1],He=Me[2],Ne=(0,Cs.Z)(0,{value:G}),Ke=(0,Re.Z)(Ne,2),je=Ke[0],lt=Ke[1],ht=(0,a.useState)(!1),It=(0,Re.Z)(ht,2),Tt=It[0],wt=It[1],_t=((s=$e[je])===null||s===void 0?void 0:s.data)||{},At=_t.src,Bt=(0,de.Z)(_t,KM),Dt=(0,Cs.Z)(!!k,{value:k,onChange:function(dr,cr){j==null||j(dr,cr,je)}}),Gt=(0,Re.Z)(Dt,2),Pt=Gt[0],Pn=Gt[1],Kn=(0,a.useState)(null),_n=(0,Re.Z)(Kn,2),Fn=_n[0],on=_n[1],Zt=a.useCallback(function(Sr,dr,cr,Zn){var ur=He?$e.findIndex(function(ti){return ti.data.src===dr}):$e.findIndex(function(ti){return ti.id===Sr});lt(ur<0?0:ur),Pn(!0),on({x:cr,y:Zn}),wt(!0)},[$e,He]);a.useEffect(function(){Pt?Tt||lt(0):wt(!1)},[Pt]);var Vn=function(dr,cr){lt(dr),ie==null||ie(dr,cr)},Ln=function(){Pn(!1),on(null)},kr=a.useMemo(function(){return{register:Oe,onPreview:Zt}},[Oe,Zt]);return a.createElement(I_.Provider,{value:kr},y,a.createElement($2,(0,Ge.Z)({"aria-hidden":!Pt,movable:H,visible:Pt,prefixCls:f,closeIcon:ae,onClose:Ln,mousePosition:Fn,imgCommonProps:Bt,src:At,fallback:L,icons:w,minScale:X,maxScale:ne,getContainer:Z,current:je,count:$e.length,countRender:oe,onTransform:le,toolbarRender:fe,imageRender:me,onChange:Vn},ge)))},YM=XM,A2=0;function qM(e,t){var s=a.useState(function(){return A2+=1,String(A2)}),o=(0,Re.Z)(s,1),f=o[0],y=a.useContext(I_),C={data:t,canPreview:e};return a.useEffect(function(){if(y)return y.register(f,C)},[]),a.useEffect(function(){y&&y.register(f,C)},[e,t]),f}var JM=["src","alt","onPreviewClose","prefixCls","previewPrefixCls","placeholder","fallback","width","height","style","preview","className","onClick","onError","wrapperClassName","wrapperStyle","rootClassName"],QM=["src","visible","onVisibleChange","getContainer","mask","maskClassName","movable","icons","scaleStep","minScale","maxScale","imageRender","toolbarRender"],D2=function(t){var s=t.src,o=t.alt,f=t.onPreviewClose,y=t.prefixCls,C=y===void 0?"rc-image":y,w=t.previewPrefixCls,I=w===void 0?"".concat(C,"-preview"):w,D=t.placeholder,L=t.fallback,z=t.width,k=t.height,j=t.style,Z=t.preview,G=Z===void 0?!0:Z,H=t.className,X=t.onClick,ne=t.onError,oe=t.wrapperClassName,ae=t.wrapperStyle,ie=t.rootClassName,le=(0,de.Z)(t,JM),fe=D&&D!==!0,me=(0,nt.Z)(G)==="object"?G:{},ge=me.src,xe=me.visible,Me=xe===void 0?void 0:xe,$e=me.onVisibleChange,Oe=$e===void 0?f:$e,He=me.getContainer,Ne=He===void 0?void 0:He,Ke=me.mask,je=me.maskClassName,lt=me.movable,ht=me.icons,It=me.scaleStep,Tt=me.minScale,wt=me.maxScale,_t=me.imageRender,At=me.toolbarRender,Bt=(0,de.Z)(me,QM),Dt=ge!=null?ge:s,Gt=(0,Cs.Z)(!!Me,{value:Me,onChange:Oe}),Pt=(0,Re.Z)(Gt,2),Pn=Pt[0],Kn=Pt[1],_n=R2({src:s,isCustomPlaceholder:fe,fallback:L}),Fn=(0,Re.Z)(_n,3),on=Fn[0],Zt=Fn[1],Vn=Fn[2],Ln=(0,a.useState)(null),kr=(0,Re.Z)(Ln,2),Sr=kr[0],dr=kr[1],cr=(0,a.useContext)(I_),Zn=!!G,ur=function(){Kn(!1),dr(null)},ti=q()(C,oe,ie,(0,pe.Z)({},"".concat(C,"-error"),Vn==="error")),Ei=(0,a.useMemo)(function(){var Li={};return FS.forEach(function(bi){t[bi]!==void 0&&(Li[bi]=t[bi])}),Li},FS.map(function(Li){return t[Li]})),ki=(0,a.useMemo)(function(){return(0,Y.Z)((0,Y.Z)({},Ei),{},{src:Dt})},[Dt,Ei]),qi=qM(Zn,ki),Ho=function(bi){var $i=AM(bi.target),go=$i.left,Gi=$i.top;cr?cr.onPreview(qi,Dt,go,Gi):(dr({x:go,y:Gi}),Kn(!0)),X==null||X(bi)};return a.createElement(a.Fragment,null,a.createElement("div",(0,Ge.Z)({},le,{className:ti,onClick:Zn?Ho:X,style:(0,Y.Z)({width:z,height:k},ae)}),a.createElement("img",(0,Ge.Z)({},Ei,{className:q()("".concat(C,"-img"),(0,pe.Z)({},"".concat(C,"-img-placeholder"),D===!0),H),style:(0,Y.Z)({height:k},j),ref:on},Zt,{width:z,height:k,onError:ne})),Vn==="loading"&&a.createElement("div",{"aria-hidden":"true",className:"".concat(C,"-placeholder")},D),Ke&&Zn&&a.createElement("div",{className:q()("".concat(C,"-mask"),je),style:{display:(j==null?void 0:j.display)==="none"?"none":void 0}},Ke)),!cr&&Zn&&a.createElement($2,(0,Ge.Z)({"aria-hidden":!Pn,visible:Pn,prefixCls:I,onClose:ur,mousePosition:Sr,src:Dt,alt:o,imageInfo:{width:z,height:k},fallback:L,getContainer:Ne,icons:ht,movable:lt,scaleStep:It,minScale:Tt,maxScale:wt,rootClassName:ie,imageRender:_t,imgCommonProps:Ei,toolbarRender:At},Bt)))};D2.PreviewGroup=YM;var eP=D2,L2=eP,tP={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M672 418H144c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H188V494h440v326z"}},{tag:"path",attrs:{d:"M819.3 328.5c-78.8-100.7-196-153.6-314.6-154.2l-.2-64c0-6.5-7.6-10.1-12.6-6.1l-128 101c-4 3.1-3.9 9.1 0 12.3L492 318.6c5.1 4 12.7.4 12.6-6.1v-63.9c12.9.1 25.9.9 38.8 2.5 42.1 5.2 82.1 18.2 119 38.7 38.1 21.2 71.2 49.7 98.4 84.3 27.1 34.7 46.7 73.7 58.1 115.8a325.95 325.95 0 016.5 140.9h74.9c14.8-103.6-11.3-213-81-302.3z"}}]},name:"rotate-left",theme:"outlined"},nP=tP,rP=function(t,s){return a.createElement(Xt.Z,(0,Ge.Z)({},t,{ref:s,icon:nP}))},iP=a.forwardRef(rP),oP=iP,aP={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M480.5 251.2c13-1.6 25.9-2.4 38.8-2.5v63.9c0 6.5 7.5 10.1 12.6 6.1L660 217.6c4-3.2 4-9.2 0-12.3l-128-101c-5.1-4-12.6-.4-12.6 6.1l-.2 64c-118.6.5-235.8 53.4-314.6 154.2A399.75 399.75 0 00123.5 631h74.9c-.9-5.3-1.7-10.7-2.4-16.1-5.1-42.1-2.1-84.1 8.9-124.8 11.4-42.2 31-81.1 58.1-115.8 27.2-34.7 60.3-63.2 98.4-84.3 37-20.6 76.9-33.6 119.1-38.8z"}},{tag:"path",attrs:{d:"M880 418H352c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H396V494h440v326z"}}]},name:"rotate-right",theme:"outlined"},sP=aP,lP=function(t,s){return a.createElement(Xt.Z,(0,Ge.Z)({},t,{ref:s,icon:sP}))},cP=a.forwardRef(lP),uP=cP,dP={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M847.9 592H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h605.2L612.9 851c-4.1 5.2-.4 13 6.3 13h72.5c4.9 0 9.5-2.2 12.6-6.1l168.8-214.1c16.5-21 1.6-51.8-25.2-51.8zM872 356H266.8l144.3-183c4.1-5.2.4-13-6.3-13h-72.5c-4.9 0-9.5 2.2-12.6 6.1L150.9 380.2c-16.5 21-1.6 51.8 25.1 51.8h696c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"swap",theme:"outlined"},fP=dP,hP=function(t,s){return a.createElement(Xt.Z,(0,Ge.Z)({},t,{ref:s,icon:fP}))},pP=a.forwardRef(hP),z2=pP,mP={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M637 443H519V309c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v134H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h118v134c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V519h118c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"}}]},name:"zoom-in",theme:"outlined"},gP=mP,vP=function(t,s){return a.createElement(Xt.Z,(0,Ge.Z)({},t,{ref:s,icon:gP}))},yP=a.forwardRef(vP),_P=yP,bP={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M637 443H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h312c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"}}]},name:"zoom-out",theme:"outlined"},xP=bP,CP=function(t,s){return a.createElement(Xt.Z,(0,Ge.Z)({},t,{ref:s,icon:xP}))},SP=a.forwardRef(CP),wP=SP;const kS=e=>({position:e||"absolute",inset:0}),EP=e=>{const{iconCls:t,motionDurationSlow:s,paddingXXS:o,marginXXS:f,prefixCls:y,colorTextLightSolid:C}=e;return{position:"absolute",inset:0,display:"flex",alignItems:"center",justifyContent:"center",color:C,background:new mo.t("#000").setA(.5).toRgbString(),cursor:"pointer",opacity:0,transition:`opacity ${s}`,[`.${y}-mask-info`]:Object.assign(Object.assign({},Qt.vS),{padding:`0 ${(0,he.bf)(o)}`,[t]:{marginInlineEnd:f,svg:{verticalAlign:"baseline"}}})}},IP=e=>{const{previewCls:t,modalMaskBg:s,paddingSM:o,marginXL:f,margin:y,paddingLG:C,previewOperationColorDisabled:w,previewOperationHoverColor:I,motionDurationSlow:D,iconCls:L,colorTextLightSolid:z}=e,k=new mo.t(s).setA(.1),j=k.clone().setA(.2);return{[`${t}-footer`]:{position:"fixed",bottom:f,left:{_skip_check_:!0,value:"50%"},display:"flex",flexDirection:"column",alignItems:"center",color:e.previewOperationColor,transform:"translateX(-50%)"},[`${t}-progress`]:{marginBottom:y},[`${t}-close`]:{position:"fixed",top:f,right:{_skip_check_:!0,value:f},display:"flex",color:z,backgroundColor:k.toRgbString(),borderRadius:"50%",padding:o,outline:0,border:0,cursor:"pointer",transition:`all ${D}`,"&:hover":{backgroundColor:j.toRgbString()},[`& > ${L}`]:{fontSize:e.previewOperationSize}},[`${t}-operations`]:{display:"flex",alignItems:"center",padding:`0 ${(0,he.bf)(C)}`,backgroundColor:k.toRgbString(),borderRadius:100,"&-operation":{marginInlineStart:o,padding:o,cursor:"pointer",transition:`all ${D}`,userSelect:"none",[`&:not(${t}-operations-operation-disabled):hover > ${L}`]:{color:I},"&-disabled":{color:w,cursor:"not-allowed"},"&:first-of-type":{marginInlineStart:0},[`& > ${L}`]:{fontSize:e.previewOperationSize}}}}},TP=e=>{const{modalMaskBg:t,iconCls:s,previewOperationColorDisabled:o,previewCls:f,zIndexPopup:y,motionDurationSlow:C}=e,w=new mo.t(t).setA(.1),I=w.clone().setA(.2);return{[`${f}-switch-left, ${f}-switch-right`]:{position:"fixed",insetBlockStart:"50%",zIndex:e.calc(y).add(1).equal(),display:"flex",alignItems:"center",justifyContent:"center",width:e.imagePreviewSwitchSize,height:e.imagePreviewSwitchSize,marginTop:e.calc(e.imagePreviewSwitchSize).mul(-1).div(2).equal(),color:e.previewOperationColor,background:w.toRgbString(),borderRadius:"50%",transform:"translateY(-50%)",cursor:"pointer",transition:`all ${C}`,userSelect:"none","&:hover":{background:I.toRgbString()},"&-disabled":{"&, &:hover":{color:o,background:"transparent",cursor:"not-allowed",[`> ${s}`]:{cursor:"not-allowed"}}},[`> ${s}`]:{fontSize:e.previewOperationSize}},[`${f}-switch-left`]:{insetInlineStart:e.marginSM},[`${f}-switch-right`]:{insetInlineEnd:e.marginSM}}},MP=e=>{const{motionEaseOut:t,previewCls:s,motionDurationSlow:o,componentCls:f}=e;return[{[`${f}-preview-root`]:{[s]:{height:"100%",textAlign:"center",pointerEvents:"none"},[`${s}-body`]:Object.assign(Object.assign({},kS()),{overflow:"hidden"}),[`${s}-img`]:{maxWidth:"100%",maxHeight:"70%",verticalAlign:"middle",transform:"scale3d(1, 1, 1)",cursor:"grab",transition:`transform ${o} ${t} 0s`,userSelect:"none","&-wrapper":Object.assign(Object.assign({},kS()),{transition:`transform ${o} ${t} 0s`,display:"flex",justifyContent:"center",alignItems:"center","& > *":{pointerEvents:"auto"},"&::before":{display:"inline-block",width:1,height:"50%",marginInlineEnd:-1,content:'""'}})},[`${s}-moving`]:{[`${s}-preview-img`]:{cursor:"grabbing","&-wrapper":{transitionDuration:"0s"}}}}},{[`${f}-preview-root`]:{[`${s}-wrap`]:{zIndex:e.zIndexPopup}}},{[`${f}-preview-operations-wrapper`]:{position:"fixed",zIndex:e.calc(e.zIndexPopup).add(1).equal()},"&":[IP(e),TP(e)]}]},PP=e=>{const{componentCls:t}=e;return{[t]:{position:"relative",display:"inline-block",[`${t}-img`]:{width:"100%",height:"auto",verticalAlign:"middle"},[`${t}-img-placeholder`]:{backgroundColor:e.colorBgContainerDisabled,backgroundImage:"url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNMTQuNSAyLjVoLTEzQS41LjUgMCAwIDAgMSAzdjEwYS41LjUgMCAwIDAgLjUuNWgxM2EuNS41IDAgMCAwIC41LS41VjNhLjUuNSAwIDAgMC0uNS0uNXpNNS4yODEgNC43NWExIDEgMCAwIDEgMCAyIDEgMSAwIDAgMSAwLTJ6bTguMDMgNi44M2EuMTI3LjEyNyAwIDAgMS0uMDgxLjAzSDIuNzY5YS4xMjUuMTI1IDAgMCAxLS4wOTYtLjIwN2wyLjY2MS0zLjE1NmEuMTI2LjEyNiAwIDAgMSAuMTc3LS4wMTZsLjAxNi4wMTZMNy4wOCAxMC4wOWwyLjQ3LTIuOTNhLjEyNi4xMjYgMCAwIDEgLjE3Ny0uMDE2bC4wMTUuMDE2IDMuNTg4IDQuMjQ0YS4xMjcuMTI3IDAgMCAxLS4wMi4xNzV6IiBmaWxsPSIjOEM4QzhDIiBmaWxsLXJ1bGU9Im5vbnplcm8iLz48L3N2Zz4=')",backgroundRepeat:"no-repeat",backgroundPosition:"center center",backgroundSize:"30%"},[`${t}-mask`]:Object.assign({},EP(e)),[`${t}-mask:hover`]:{opacity:1},[`${t}-placeholder`]:Object.assign({},kS())}}},OP=e=>{const{previewCls:t}=e;return{[`${t}-root`]:(0,Ps._y)(e,"zoom"),"&":ja(e,!0)}},RP=e=>({zIndexPopup:e.zIndexPopupBase+80,previewOperationColor:new mo.t(e.colorTextLightSolid).setA(.65).toRgbString(),previewOperationHoverColor:new mo.t(e.colorTextLightSolid).setA(.85).toRgbString(),previewOperationColorDisabled:new mo.t(e.colorTextLightSolid).setA(.25).toRgbString(),previewOperationSize:e.fontSizeIcon*1.5});var N2=(0,te.I$)("Image",e=>{const t=`${e.componentCls}-preview`,s=(0,ci.IX)(e,{previewCls:t,modalMaskBg:new mo.t("#000").setA(.45).toRgbString(),imagePreviewSwitchSize:e.controlHeightLG});return[PP(s),MP(s),ml((0,ci.IX)(s,{componentCls:t})),OP(s)]},RP),$P=function(e,t){var s={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(s[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(s[o[f]]=e[o[f]]);return s};const B2={rotateLeft:a.createElement(oP,null),rotateRight:a.createElement(uP,null),zoomIn:a.createElement(_P,null),zoomOut:a.createElement(wP,null),close:a.createElement(lr.Z,null),left:a.createElement(vl,null),right:a.createElement(Kc.Z,null),flipX:a.createElement(z2,null),flipY:a.createElement(z2,{rotate:90})};var AP=e=>{var{previewPrefixCls:t,preview:s}=e,o=$P(e,["previewPrefixCls","preview"]);const{getPrefixCls:f}=a.useContext(ye.E_),y=f("image",t),C=`${y}-preview`,w=f(),I=(0,Wn.Z)(y),[D,L,z]=N2(y,I),[k]=(0,qt.Cn)("ImagePreview",typeof s=="object"?s.zIndex:void 0),j=a.useMemo(()=>{var Z;if(s===!1)return s;const G=typeof s=="object"?s:{},H=q()(L,z,I,(Z=G.rootClassName)!==null&&Z!==void 0?Z:"");return Object.assign(Object.assign({},G),{transitionName:(0,Et.m)(w,"zoom",G.transitionName),maskTransitionName:(0,Et.m)(w,"fade",G.maskTransitionName),rootClassName:H,zIndex:k})},[s]);return D(a.createElement(L2.PreviewGroup,Object.assign({preview:j,previewPrefixCls:C,icons:B2},o)))},F2=function(e,t){var s={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(s[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(s[o[f]]=e[o[f]]);return s};const k2=e=>{const{prefixCls:t,preview:s,className:o,rootClassName:f,style:y}=e,C=F2(e,["prefixCls","preview","className","rootClassName","style"]),{getPrefixCls:w,getPopupContainer:I,className:D,style:L,preview:z}=(0,ye.dj)("image"),[k]=(0,En.Z)("Image"),j=w("image",t),Z=w(),G=(0,Wn.Z)(j),[H,X,ne]=N2(j,G),oe=q()(f,X,ne,G),ae=q()(o,X,D),[ie]=(0,qt.Cn)("ImagePreview",typeof s=="object"?s.zIndex:void 0),le=a.useMemo(()=>{if(s===!1)return s;const me=typeof s=="object"?s:{},{getContainer:ge,closeIcon:xe,rootClassName:Me}=me,$e=F2(me,["getContainer","closeIcon","rootClassName"]);return Object.assign(Object.assign({mask:a.createElement("div",{className:`${j}-mask-info`},a.createElement(NS,null),k==null?void 0:k.preview),icons:B2},$e),{rootClassName:q()(oe,Me),getContainer:ge!=null?ge:I,transitionName:(0,Et.m)(Z,"zoom",me.transitionName),maskTransitionName:(0,Et.m)(Z,"fade",me.maskTransitionName),zIndex:ie,closeIcon:xe!=null?xe:z==null?void 0:z.closeIcon})},[s,k,z==null?void 0:z.closeIcon]),fe=Object.assign(Object.assign({},L),y);return H(a.createElement(L2,Object.assign({prefixCls:j,preview:le,rootClassName:oe,className:ae,style:fe},C)))};k2.PreviewGroup=AP;var DP=k2,LP=e=>{const{getPrefixCls:t,direction:s}=(0,a.useContext)(ye.E_),{prefixCls:o,className:f}=e,y=t("input-group",o),C=t("input"),[w,I,D]=(0,vf.ZP)(C),L=q()(y,D,{[`${y}-lg`]:e.size==="large",[`${y}-sm`]:e.size==="small",[`${y}-compact`]:e.compact,[`${y}-rtl`]:s==="rtl"},I,f),z=(0,a.useContext)(ou.aM),k=(0,a.useMemo)(()=>Object.assign(Object.assign({},z),{isFormItemInput:!1}),[z]);return w(a.createElement("span",{className:L,style:e.style,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,onFocus:e.onFocus,onBlur:e.onBlur},a.createElement(ou.aM.Provider,{value:k},e.children)))},mv=B(58793);const zP=e=>{const{componentCls:t,paddingXS:s}=e;return{[t]:{display:"inline-flex",alignItems:"center",flexWrap:"nowrap",columnGap:s,"&-rtl":{direction:"rtl"},[`${t}-input`]:{textAlign:"center",paddingInline:e.paddingXXS},[`&${t}-sm ${t}-input`]:{paddingInline:e.calc(e.paddingXXS).div(2).equal()},[`&${t}-lg ${t}-input`]:{paddingInline:e.paddingXS}}}};var NP=(0,te.I$)(["Input","OTP"],e=>{const t=(0,ci.IX)(e,(0,od.e)(e));return[zP(t)]},od.T),BP=function(e,t){var s={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(s[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(s[o[f]]=e[o[f]]);return s},FP=a.forwardRef((e,t)=>{const{value:s,onChange:o,onActiveChange:f,index:y,mask:C}=e,w=BP(e,["value","onChange","onActiveChange","index","mask"]),I=s&&typeof C=="string"?C:s,D=Z=>{o(y,Z.target.value)},L=a.useRef(null);a.useImperativeHandle(t,()=>L.current);const z=()=>{(0,We.Z)(()=>{var Z;const G=(Z=L.current)===null||Z===void 0?void 0:Z.input;document.activeElement===G&&G&&G.select()})},k=Z=>{const{key:G,ctrlKey:H,metaKey:X}=Z;G==="ArrowLeft"?f(y-1):G==="ArrowRight"?f(y+1):G==="z"&&(H||X)&&Z.preventDefault(),z()},j=Z=>{Z.key==="Backspace"&&!s&&f(y-1),z()};return a.createElement(mv.Z,Object.assign({type:C===!0?"password":"text"},w,{ref:L,value:I,onInput:D,onFocus:z,onKeyDown:k,onKeyUp:j,onMouseDown:z,onMouseUp:z}))}),kP=function(e,t){var s={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(s[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(s[o[f]]=e[o[f]]);return s};function gx(e){return(e||"").split("")}const ZP=e=>{const{index:t,prefixCls:s,separator:o}=e,f=typeof o=="function"?o(t):o;return f?a.createElement("span",{className:`${s}-separator`},f):null};var jP=a.forwardRef((e,t)=>{const{prefixCls:s,length:o=6,size:f,defaultValue:y,value:C,onChange:w,formatter:I,separator:D,variant:L,disabled:z,status:k,autoFocus:j,mask:Z,type:G,onInput:H,inputMode:X}=e,ne=kP(e,["prefixCls","length","size","defaultValue","value","onChange","formatter","separator","variant","disabled","status","autoFocus","mask","type","onInput","inputMode"]),{getPrefixCls:oe,direction:ae}=a.useContext(ye.E_),ie=oe("otp",s),le=(0,ut.Z)(ne,{aria:!0,data:!0,attr:!0}),[fe,me,ge]=NP(ie),xe=(0,hc.Z)(At=>f!=null?f:At),Me=a.useContext(ou.aM),$e=(0,Vc.F)(Me.status,k),Oe=a.useMemo(()=>Object.assign(Object.assign({},Me),{status:$e,hasFeedback:!1,feedbackIcon:null}),[Me,$e]),He=a.useRef(null),Ne=a.useRef({});a.useImperativeHandle(t,()=>({focus:()=>{var At;(At=Ne.current[0])===null||At===void 0||At.focus()},blur:()=>{var At;for(let Bt=0;Bt<o;Bt+=1)(At=Ne.current[Bt])===null||At===void 0||At.blur()},nativeElement:He.current}));const Ke=At=>I?I(At):At,[je,lt]=a.useState(()=>gx(Ke(y||"")));a.useEffect(()=>{C!==void 0&&lt(gx(C))},[C]);const ht=(0,_r.Z)(At=>{lt(At),H&&H(At),w&&At.length===o&&At.every(Bt=>Bt)&&At.some((Bt,Dt)=>je[Dt]!==Bt)&&w(At.join(""))}),It=(0,_r.Z)((At,Bt)=>{let Dt=(0,be.Z)(je);for(let Pt=0;Pt<At;Pt+=1)Dt[Pt]||(Dt[Pt]="");Bt.length<=1?Dt[At]=Bt:Dt=Dt.slice(0,At).concat(gx(Bt)),Dt=Dt.slice(0,o);for(let Pt=Dt.length-1;Pt>=0&&!Dt[Pt];Pt-=1)Dt.pop();const Gt=Ke(Dt.map(Pt=>Pt||" ").join(""));return Dt=gx(Gt).map((Pt,Pn)=>Pt===" "&&!Dt[Pn]?Dt[Pn]:Pt),Dt}),Tt=(At,Bt)=>{var Dt;const Gt=It(At,Bt),Pt=Math.min(At+Bt.length,o-1);Pt!==At&&Gt[At]!==void 0&&((Dt=Ne.current[Pt])===null||Dt===void 0||Dt.focus()),ht(Gt)},wt=At=>{var Bt;(Bt=Ne.current[At])===null||Bt===void 0||Bt.focus()},_t={variant:L,disabled:z,status:$e,mask:Z,type:G,inputMode:X};return fe(a.createElement("div",Object.assign({},le,{ref:He,className:q()(ie,{[`${ie}-sm`]:xe==="small",[`${ie}-lg`]:xe==="large",[`${ie}-rtl`]:ae==="rtl"},ge,me)}),a.createElement(ou.aM.Provider,{value:Oe},Array.from({length:o}).map((At,Bt)=>{const Dt=`otp-${Bt}`,Gt=je[Bt]||"";return a.createElement(a.Fragment,{key:Dt},a.createElement(FP,Object.assign({ref:Pt=>{Ne.current[Bt]=Pt},index:Bt,size:xe,htmlSize:1,className:`${ie}-input`,onChange:Tt,value:Gt,onActiveChange:wt,autoFocus:Bt===0&&j},_t)),Bt<o-1&&a.createElement(ZP,{separator:D,index:Bt,prefixCls:ie}))}))))}),VP={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2Q889.47 375.11 816.7 305l-50.88 50.88C807.31 395.53 843.45 447.4 874.7 512 791.5 684.2 673.4 766 512 766q-72.67 0-133.87-22.38L323 798.75Q408 838 512 838q288.3 0 430.2-300.3a60.29 60.29 0 000-51.5zm-63.57-320.64L836 122.88a8 8 0 00-11.32 0L715.31 232.2Q624.86 186 512 186q-288.3 0-430.2 300.3a60.3 60.3 0 000 51.5q56.69 119.4 136.5 191.41L112.48 835a8 8 0 000 11.31L155.17 889a8 8 0 0011.31 0l712.15-712.12a8 8 0 000-11.32zM149.3 512C232.6 339.8 350.7 258 512 258c54.54 0 104.13 9.36 149.12 28.39l-70.3 70.3a176 176 0 00-238.13 238.13l-83.42 83.42C223.1 637.49 183.3 582.28 149.3 512zm246.7 0a112.11 112.11 0 01146.2-106.69L401.31 546.2A112 112 0 01396 512z"}},{tag:"path",attrs:{d:"M508 624c-3.46 0-6.87-.16-10.25-.47l-52.82 52.82a176.09 176.09 0 00227.42-227.42l-52.82 52.82c.31 3.38.47 6.79.47 10.25a111.94 111.94 0 01-112 112z"}}]},name:"eye-invisible",theme:"outlined"},HP=VP,UP=function(t,s){return a.createElement(Xt.Z,(0,Ge.Z)({},t,{ref:s,icon:HP}))},WP=a.forwardRef(UP),GP=WP,KP=B(81391),XP=function(e,t){var s={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(s[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(s[o[f]]=e[o[f]]);return s};const YP=e=>e?a.createElement(NS,null):a.createElement(GP,null),qP={click:"onClick",hover:"onMouseOver"};var JP=a.forwardRef((e,t)=>{const{disabled:s,action:o="click",visibilityToggle:f=!0,iconRender:y=YP}=e,C=a.useContext(Fo.Z),w=s!=null?s:C,I=typeof f=="object"&&f.visible!==void 0,[D,L]=(0,a.useState)(()=>I?f.visible:!1),z=(0,a.useRef)(null);a.useEffect(()=>{I&&L(f.visible)},[I,f]);const k=(0,KP.Z)(z),j=()=>{var xe;if(w)return;D&&k();const Me=!D;L(Me),typeof f=="object"&&((xe=f.onVisibleChange)===null||xe===void 0||xe.call(f,Me))},Z=xe=>{const Me=qP[o]||"",$e=y(D),Oe={[Me]:j,className:`${xe}-icon`,key:"passwordIcon",onMouseDown:He=>{He.preventDefault()},onMouseUp:He=>{He.preventDefault()}};return a.cloneElement(a.isValidElement($e)?$e:a.createElement("span",null,$e),Oe)},{className:G,prefixCls:H,inputPrefixCls:X,size:ne}=e,oe=XP(e,["className","prefixCls","inputPrefixCls","size"]),{getPrefixCls:ae}=a.useContext(ye.E_),ie=ae("input",X),le=ae("input-password",H),fe=f&&Z(le),me=q()(le,G,{[`${le}-${ne}`]:!!ne}),ge=Object.assign(Object.assign({},(0,$a.Z)(oe,["suffix","iconRender","visibilityToggle"])),{type:D?"text":"password",className:me,prefixCls:ie,suffix:fe});return ne&&(ge.size=ne),a.createElement(mv.Z,Object.assign({ref:(0,Jt.sQ)(t,z)},ge))}),ZS=B(17023),QP=function(e,t){var s={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(s[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(s[o[f]]=e[o[f]]);return s},eO=a.forwardRef((e,t)=>{const{prefixCls:s,inputPrefixCls:o,className:f,size:y,suffix:C,enterButton:w=!1,addonAfter:I,loading:D,disabled:L,onSearch:z,onChange:k,onCompositionStart:j,onCompositionEnd:Z}=e,G=QP(e,["prefixCls","inputPrefixCls","className","size","suffix","enterButton","addonAfter","loading","disabled","onSearch","onChange","onCompositionStart","onCompositionEnd"]),{getPrefixCls:H,direction:X}=a.useContext(ye.E_),ne=a.useRef(!1),oe=H("input-search",s),ae=H("input",o),{compactSize:ie}=(0,il.ri)(oe,X),le=(0,hc.Z)(Tt=>{var wt;return(wt=y!=null?y:ie)!==null&&wt!==void 0?wt:Tt}),fe=a.useRef(null),me=Tt=>{Tt!=null&&Tt.target&&Tt.type==="click"&&z&&z(Tt.target.value,Tt,{source:"clear"}),k==null||k(Tt)},ge=Tt=>{var wt;document.activeElement===((wt=fe.current)===null||wt===void 0?void 0:wt.input)&&Tt.preventDefault()},xe=Tt=>{var wt,_t;z&&z((_t=(wt=fe.current)===null||wt===void 0?void 0:wt.input)===null||_t===void 0?void 0:_t.value,Tt,{source:"input"})},Me=Tt=>{ne.current||D||xe(Tt)},$e=typeof w=="boolean"?a.createElement(ZS.Z,null):null,Oe=`${oe}-button`;let He;const Ne=w||{},Ke=Ne.type&&Ne.type.__ANT_BUTTON===!0;Ke||Ne.type==="button"?He=(0,Cn.Tm)(Ne,Object.assign({onMouseDown:ge,onClick:Tt=>{var wt,_t;(_t=(wt=Ne==null?void 0:Ne.props)===null||wt===void 0?void 0:wt.onClick)===null||_t===void 0||_t.call(wt,Tt),xe(Tt)},key:"enterButton"},Ke?{className:Oe,size:le}:{})):He=a.createElement(Or.ZP,{className:Oe,type:w?"primary":void 0,size:le,disabled:L,key:"enterButton",onMouseDown:ge,onClick:xe,loading:D,icon:$e},w),I&&(He=[He,(0,Cn.Tm)(I,{key:"addonAfter"})]);const je=q()(oe,{[`${oe}-rtl`]:X==="rtl",[`${oe}-${le}`]:!!le,[`${oe}-with-button`]:!!w},f),lt=Object.assign(Object.assign({},G),{className:je,prefixCls:ae,type:"search"}),ht=Tt=>{ne.current=!0,j==null||j(Tt)},It=Tt=>{ne.current=!1,Z==null||Z(Tt)};return a.createElement(mv.Z,Object.assign({ref:(0,Jt.sQ)(fe,t),onPressEnter:Me},lt,{size:le,onCompositionStart:ht,onCompositionEnd:It,addonAfter:He,suffix:C,onChange:me,disabled:L}))}),Z2=B(44885),tO=B(88555),jS=B(68677),nO=`
  min-height:0 !important;
  max-height:none !important;
  height:0 !important;
  visibility:hidden !important;
  overflow:hidden !important;
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important;
  pointer-events: none !important;
`,rO=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","font-variant","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing","word-break","white-space"],VS={},ud;function iO(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,s=e.getAttribute("id")||e.getAttribute("data-reactid")||e.getAttribute("name");if(t&&VS[s])return VS[s];var o=window.getComputedStyle(e),f=o.getPropertyValue("box-sizing")||o.getPropertyValue("-moz-box-sizing")||o.getPropertyValue("-webkit-box-sizing"),y=parseFloat(o.getPropertyValue("padding-bottom"))+parseFloat(o.getPropertyValue("padding-top")),C=parseFloat(o.getPropertyValue("border-bottom-width"))+parseFloat(o.getPropertyValue("border-top-width")),w=rO.map(function(D){return"".concat(D,":").concat(o.getPropertyValue(D))}).join(";"),I={sizingStyle:w,paddingSize:y,borderSize:C,boxSizing:f};return t&&s&&(VS[s]=I),I}function oO(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;ud||(ud=document.createElement("textarea"),ud.setAttribute("tab-index","-1"),ud.setAttribute("aria-hidden","true"),ud.setAttribute("name","hiddenTextarea"),document.body.appendChild(ud)),e.getAttribute("wrap")?ud.setAttribute("wrap",e.getAttribute("wrap")):ud.removeAttribute("wrap");var f=iO(e,t),y=f.paddingSize,C=f.borderSize,w=f.boxSizing,I=f.sizingStyle;ud.setAttribute("style","".concat(I,";").concat(nO)),ud.value=e.value||e.placeholder||"";var D=void 0,L=void 0,z,k=ud.scrollHeight;if(w==="border-box"?k+=C:w==="content-box"&&(k-=y),s!==null||o!==null){ud.value=" ";var j=ud.scrollHeight-y;s!==null&&(D=j*s,w==="border-box"&&(D=D+y+C),k=Math.max(D,k)),o!==null&&(L=j*o,w==="border-box"&&(L=L+y+C),z=k>L?"":"hidden",k=Math.min(L,k))}var Z={height:k,overflowY:z,resize:"none"};return D&&(Z.minHeight=D),L&&(Z.maxHeight=L),Z}var aO=["prefixCls","defaultValue","value","autoSize","onResize","className","style","disabled","onChange","onInternalAutoSize"],HS=0,US=1,WS=2,sO=a.forwardRef(function(e,t){var s=e,o=s.prefixCls,f=s.defaultValue,y=s.value,C=s.autoSize,w=s.onResize,I=s.className,D=s.style,L=s.disabled,z=s.onChange,k=s.onInternalAutoSize,j=(0,de.Z)(s,aO),Z=(0,Cs.Z)(f,{value:y,postState:function(Bt){return Bt!=null?Bt:""}}),G=(0,Re.Z)(Z,2),H=G[0],X=G[1],ne=function(Bt){X(Bt.target.value),z==null||z(Bt)},oe=a.useRef();a.useImperativeHandle(t,function(){return{textArea:oe.current}});var ae=a.useMemo(function(){return C&&(0,nt.Z)(C)==="object"?[C.minRows,C.maxRows]:[]},[C]),ie=(0,Re.Z)(ae,2),le=ie[0],fe=ie[1],me=!!C,ge=function(){try{if(document.activeElement===oe.current){var Bt=oe.current,Dt=Bt.selectionStart,Gt=Bt.selectionEnd,Pt=Bt.scrollTop;oe.current.setSelectionRange(Dt,Gt),oe.current.scrollTop=Pt}}catch(Pn){}},xe=a.useState(WS),Me=(0,Re.Z)(xe,2),$e=Me[0],Oe=Me[1],He=a.useState(),Ne=(0,Re.Z)(He,2),Ke=Ne[0],je=Ne[1],lt=function(){Oe(HS)};(0,cl.Z)(function(){me&&lt()},[y,le,fe,me]),(0,cl.Z)(function(){if($e===HS)Oe(US);else if($e===US){var At=oO(oe.current,!1,le,fe);Oe(WS),je(At)}else ge()},[$e]);var ht=a.useRef(),It=function(){We.Z.cancel(ht.current)},Tt=function(Bt){$e===WS&&(w==null||w(Bt),C&&(It(),ht.current=(0,We.Z)(function(){lt()})))};a.useEffect(function(){return It},[]);var wt=me?Ke:null,_t=(0,Y.Z)((0,Y.Z)({},D),wt);return($e===HS||$e===US)&&(_t.overflowY="hidden",_t.overflowX="hidden"),a.createElement(c.Z,{onResize:Tt,disabled:!(C||w)},a.createElement("textarea",(0,Ge.Z)({},j,{ref:oe,style:_t,className:q()(o,I,(0,pe.Z)({},"".concat(o,"-disabled"),L)),disabled:L,value:H,onChange:ne})))}),lO=sO,cO=["defaultValue","value","onFocus","onBlur","onChange","allowClear","maxLength","onCompositionStart","onCompositionEnd","suffix","prefixCls","showCount","count","className","style","disabled","hidden","classNames","styles","onResize","onClear","onPressEnter","readOnly","autoSize","onKeyDown"],uO=a.forwardRef(function(e,t){var s,o=e.defaultValue,f=e.value,y=e.onFocus,C=e.onBlur,w=e.onChange,I=e.allowClear,D=e.maxLength,L=e.onCompositionStart,z=e.onCompositionEnd,k=e.suffix,j=e.prefixCls,Z=j===void 0?"rc-textarea":j,G=e.showCount,H=e.count,X=e.className,ne=e.style,oe=e.disabled,ae=e.hidden,ie=e.classNames,le=e.styles,fe=e.onResize,me=e.onClear,ge=e.onPressEnter,xe=e.readOnly,Me=e.autoSize,$e=e.onKeyDown,Oe=(0,de.Z)(e,cO),He=(0,Cs.Z)(o,{value:f,defaultValue:o}),Ne=(0,Re.Z)(He,2),Ke=Ne[0],je=Ne[1],lt=Ke==null?"":String(Ke),ht=a.useState(!1),It=(0,Re.Z)(ht,2),Tt=It[0],wt=It[1],_t=a.useRef(!1),At=a.useState(null),Bt=(0,Re.Z)(At,2),Dt=Bt[0],Gt=Bt[1],Pt=(0,a.useRef)(null),Pn=(0,a.useRef)(null),Kn=function(){var Er;return(Er=Pn.current)===null||Er===void 0?void 0:Er.textArea},_n=function(){Kn().focus()};(0,a.useImperativeHandle)(t,function(){var ko;return{resizableTextArea:Pn.current,focus:_n,blur:function(){Kn().blur()},nativeElement:((ko=Pt.current)===null||ko===void 0?void 0:ko.nativeElement)||Kn()}}),(0,a.useEffect)(function(){wt(function(ko){return!oe&&ko})},[oe]);var Fn=a.useState(null),on=(0,Re.Z)(Fn,2),Zt=on[0],Vn=on[1];a.useEffect(function(){if(Zt){var ko;(ko=Kn()).setSelectionRange.apply(ko,(0,be.Z)(Zt))}},[Zt]);var Ln=(0,tO.Z)(H,G),kr=(s=Ln.max)!==null&&s!==void 0?s:D,Sr=Number(kr)>0,dr=Ln.strategy(lt),cr=!!kr&&dr>kr,Zn=function(Er,Mr){var Zr=Mr;!_t.current&&Ln.exceedFormatter&&Ln.max&&Ln.strategy(Mr)>Ln.max&&(Zr=Ln.exceedFormatter(Mr,{max:Ln.max}),Mr!==Zr&&Vn([Kn().selectionStart||0,Kn().selectionEnd||0])),je(Zr),(0,jS.rJ)(Er.currentTarget,Er,w,Zr)},ur=function(Er){_t.current=!0,L==null||L(Er)},ti=function(Er){_t.current=!1,Zn(Er,Er.currentTarget.value),z==null||z(Er)},Ei=function(Er){Zn(Er,Er.target.value)},ki=function(Er){Er.key==="Enter"&&ge&&ge(Er),$e==null||$e(Er)},qi=function(Er){wt(!0),y==null||y(Er)},Ho=function(Er){wt(!1),C==null||C(Er)},Li=function(Er){je(""),_n(),(0,jS.rJ)(Kn(),Er,w)},bi=k,$i;Ln.show&&(Ln.showFormatter?$i=Ln.showFormatter({value:lt,count:dr,maxLength:kr}):$i="".concat(dr).concat(Sr?" / ".concat(kr):""),bi=a.createElement(a.Fragment,null,bi,a.createElement("span",{className:q()("".concat(Z,"-data-count"),ie==null?void 0:ie.count),style:le==null?void 0:le.count},$i)));var go=function(Er){var Mr;fe==null||fe(Er),(Mr=Kn())!==null&&Mr!==void 0&&Mr.style.height&&Gt(!0)},Gi=!Me&&!G&&!I;return a.createElement(Z2.Q,{ref:Pt,value:lt,allowClear:I,handleReset:Li,suffix:bi,prefixCls:Z,classNames:(0,Y.Z)((0,Y.Z)({},ie),{},{affixWrapper:q()(ie==null?void 0:ie.affixWrapper,(0,pe.Z)((0,pe.Z)({},"".concat(Z,"-show-count"),G),"".concat(Z,"-textarea-allow-clear"),I))}),disabled:oe,focused:Tt,className:q()(X,cr&&"".concat(Z,"-out-of-range")),style:(0,Y.Z)((0,Y.Z)({},ne),Dt&&!Gi?{height:"auto"}:{}),dataAttrs:{affixWrapper:{"data-count":typeof $i=="string"?$i:void 0}},hidden:ae,readOnly:xe,onClear:me},a.createElement(lO,(0,Ge.Z)({},Oe,{autoSize:Me,maxLength:D,onKeyDown:ki,onChange:Ei,onFocus:qi,onBlur:Ho,onCompositionStart:ur,onCompositionEnd:ti,className:q()(ie==null?void 0:ie.textarea),style:(0,Y.Z)((0,Y.Z)({},le==null?void 0:le.textarea),{},{resize:ne==null?void 0:ne.resize}),disabled:oe,prefixCls:Z,onResize:go,ref:Pn,readOnly:xe})))}),dO=uO,j2=dO,V2=B(93473);const fO=e=>{const{componentCls:t,paddingLG:s}=e,o=`${t}-textarea`;return{[o]:{position:"relative","&-show-count":{[`> ${t}`]:{height:"100%"},[`${t}-data-count`]:{position:"absolute",bottom:e.calc(e.fontSize).mul(e.lineHeight).mul(-1).equal(),insetInlineEnd:0,color:e.colorTextDescription,whiteSpace:"nowrap",pointerEvents:"none"}},[`
        &-allow-clear > ${t},
        &-affix-wrapper${o}-has-feedback ${t}
      `]:{paddingInlineEnd:s},[`&-affix-wrapper${t}-affix-wrapper`]:{padding:0,[`> textarea${t}`]:{fontSize:"inherit",border:"none",outline:"none",background:"transparent",minHeight:e.calc(e.controlHeight).sub(e.calc(e.lineWidth).mul(2)).equal(),"&:focus":{boxShadow:"none !important"}},[`${t}-suffix`]:{margin:0,"> *:not(:last-child)":{marginInline:0},[`${t}-clear-icon`]:{position:"absolute",insetInlineEnd:e.paddingInline,insetBlockStart:e.paddingXS},[`${o}-suffix`]:{position:"absolute",top:0,insetInlineEnd:e.paddingInline,bottom:0,zIndex:1,display:"inline-flex",alignItems:"center",margin:"auto",pointerEvents:"none"}}},[`&-affix-wrapper${t}-affix-wrapper-sm`]:{[`${t}-suffix`]:{[`${t}-clear-icon`]:{insetInlineEnd:e.paddingInlineSM}}}}}};var hO=(0,te.I$)(["Input","TextArea"],e=>{const t=(0,ci.IX)(e,(0,od.e)(e));return[fO(t)]},od.T,{resetFont:!1}),pO=function(e,t){var s={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(s[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(s[o[f]]=e[o[f]]);return s},H2=(0,a.forwardRef)((e,t)=>{var s;const{prefixCls:o,bordered:f=!0,size:y,disabled:C,status:w,allowClear:I,classNames:D,rootClassName:L,className:z,style:k,styles:j,variant:Z}=e,G=pO(e,["prefixCls","bordered","size","disabled","status","allowClear","classNames","rootClassName","className","style","styles","variant"]),{getPrefixCls:H,direction:X,allowClear:ne,autoComplete:oe,className:ae,style:ie,classNames:le,styles:fe}=(0,ye.dj)("textArea"),me=a.useContext(Fo.Z),ge=C!=null?C:me,{status:xe,hasFeedback:Me,feedbackIcon:$e}=a.useContext(ou.aM),Oe=(0,Vc.F)(xe,w),He=a.useRef(null);a.useImperativeHandle(t,()=>{var Gt;return{resizableTextArea:(Gt=He.current)===null||Gt===void 0?void 0:Gt.resizableTextArea,focus:Pt=>{var Pn,Kn;(0,jS.nH)((Kn=(Pn=He.current)===null||Pn===void 0?void 0:Pn.resizableTextArea)===null||Kn===void 0?void 0:Kn.textArea,Pt)},blur:()=>{var Pt;return(Pt=He.current)===null||Pt===void 0?void 0:Pt.blur()}}});const Ne=H("input",o),Ke=(0,Wn.Z)(Ne),[je,lt,ht]=(0,vf.TI)(Ne,L),[It]=hO(Ne,Ke),{compactSize:Tt,compactItemClassnames:wt}=(0,il.ri)(Ne,X),_t=(0,hc.Z)(Gt=>{var Pt;return(Pt=y!=null?y:Tt)!==null&&Pt!==void 0?Pt:Gt}),[At,Bt]=(0,mf.Z)("textArea",Z,f),Dt=(0,V2.Z)(I!=null?I:ne);return je(It(a.createElement(j2,Object.assign({autoComplete:oe},G,{style:Object.assign(Object.assign({},ie),k),styles:Object.assign(Object.assign({},fe),j),disabled:ge,allowClear:Dt,className:q()(ht,Ke,z,L,wt,ae),classNames:Object.assign(Object.assign(Object.assign({},D),le),{textarea:q()({[`${Ne}-sm`]:_t==="small",[`${Ne}-lg`]:_t==="large"},lt,D==null?void 0:D.textarea,le.textarea),variant:q()({[`${Ne}-${At}`]:Bt},(0,Vc.Z)(Ne,Oe)),affixWrapper:q()(`${Ne}-textarea-affix-wrapper`,{[`${Ne}-affix-wrapper-rtl`]:X==="rtl",[`${Ne}-affix-wrapper-sm`]:_t==="small",[`${Ne}-affix-wrapper-lg`]:_t==="large",[`${Ne}-textarea-show-count`]:e.showCount||((s=e.count)===null||s===void 0?void 0:s.show)},lt)}),prefixCls:Ne,suffix:Me&&a.createElement("span",{className:`${Ne}-textarea-suffix`},$e),ref:He}))))});const gv=mv.Z;gv.Group=LP,gv.Search=eO,gv.TextArea=H2,gv.Password=JP,gv.OTP=jP;var mO=gv,gO=B(33839);function vO(e,t,s){return typeof s=="boolean"?s:e.length?!0:(0,Gl.Z)(t).some(f=>f.type===hr)}var U2=function(e,t){var s={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(s[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(s[o[f]]=e[o[f]]);return s};function vx(e){let{suffixCls:t,tagName:s,displayName:o}=e;return f=>a.forwardRef((C,w)=>a.createElement(f,Object.assign({ref:w,suffixCls:t,tagName:s},C)))}const GS=a.forwardRef((e,t)=>{const{prefixCls:s,suffixCls:o,className:f,tagName:y}=e,C=U2(e,["prefixCls","suffixCls","className","tagName"]),{getPrefixCls:w}=a.useContext(ye.E_),I=w("layout",s),[D,L,z]=st(I),k=o?`${I}-${o}`:I;return D(a.createElement(y,Object.assign({className:q()(s||k,f,L,z),ref:t},C)))}),yO=a.forwardRef((e,t)=>{const{direction:s}=a.useContext(ye.E_),[o,f]=a.useState([]),{prefixCls:y,className:C,rootClassName:w,children:I,hasSider:D,tagName:L,style:z}=e,k=U2(e,["prefixCls","className","rootClassName","children","hasSider","tagName","style"]),j=(0,$a.Z)(k,["suffixCls"]),{getPrefixCls:Z,className:G,style:H}=(0,ye.dj)("layout"),X=Z("layout",y),ne=vO(o,I,D),[oe,ae,ie]=st(X),le=q()(X,{[`${X}-has-sider`]:ne,[`${X}-rtl`]:s==="rtl"},G,C,w,ae,ie),fe=a.useMemo(()=>({siderHook:{addSider:me=>{f(ge=>[].concat((0,be.Z)(ge),[me]))},removeSider:me=>{f(ge=>ge.filter(xe=>xe!==me))}}}),[]);return oe(a.createElement(Pe.Provider,{value:fe},a.createElement(L,Object.assign({ref:t,className:le,style:Object.assign(Object.assign({},H),z)},j),I)))}),_O=vx({tagName:"div",displayName:"Layout"})(yO),bO=vx({suffixCls:"header",tagName:"header",displayName:"Header"})(GS),xO=vx({suffixCls:"footer",tagName:"footer",displayName:"Footer"})(GS),CO=vx({suffixCls:"content",tagName:"main",displayName:"Content"})(GS);var SO=_O;const vv=SO;vv.Header=bO,vv.Footer=xO,vv.Content=CO,vv.Sider=hr,vv._InternalSiderContext=Lt;var wO=vv,KS=function(){const e=Object.assign({},arguments.length<=0?void 0:arguments[0]);for(let t=1;t<arguments.length;t++){const s=t<0||arguments.length<=t?void 0:arguments[t];s&&Object.keys(s).forEach(o=>{const f=s[o];f!==void 0&&(e[o]=f)})}return e},W2=B(78769),EO={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M272.9 512l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L186.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H532c6.7 0 10.4-7.7 6.3-12.9L272.9 512zm304 0l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L490.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H836c6.7 0 10.4-7.7 6.3-12.9L576.9 512z"}}]},name:"double-left",theme:"outlined"},IO=EO,TO=function(t,s){return a.createElement(Xt.Z,(0,Ge.Z)({},t,{ref:s,icon:IO}))},MO=a.forwardRef(TO),G2=MO,PO={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M533.2 492.3L277.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H188c-6.7 0-10.4 7.7-6.3 12.9L447.1 512 181.7 851.1A7.98 7.98 0 00188 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5zm304 0L581.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H492c-6.7 0-10.4 7.7-6.3 12.9L751.1 512 485.7 851.1A7.98 7.98 0 00492 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5z"}}]},name:"double-right",theme:"outlined"},OO=PO,RO=function(t,s){return a.createElement(Xt.Z,(0,Ge.Z)({},t,{ref:s,icon:OO}))},$O=a.forwardRef(RO),K2=$O,AO={items_per_page:"\u6761/\u9875",jump_to:"\u8DF3\u81F3",jump_to_confirm:"\u786E\u5B9A",page:"\u9875",prev_page:"\u4E0A\u4E00\u9875",next_page:"\u4E0B\u4E00\u9875",prev_5:"\u5411\u524D 5 \u9875",next_5:"\u5411\u540E 5 \u9875",prev_3:"\u5411\u524D 3 \u9875",next_3:"\u5411\u540E 3 \u9875",page_size:"\u9875\u7801"},DO=AO,LO=[10,20,50,100],zO=function(t){var s=t.pageSizeOptions,o=s===void 0?LO:s,f=t.locale,y=t.changeSize,C=t.pageSize,w=t.goButton,I=t.quickGo,D=t.rootPrefixCls,L=t.disabled,z=t.buildOptionText,k=t.showSizeChanger,j=t.sizeChangerRender,Z=a.useState(""),G=(0,Re.Z)(Z,2),H=G[0],X=G[1],ne=function(){return!H||Number.isNaN(H)?void 0:Number(H)},oe=typeof z=="function"?z:function($e){return"".concat($e," ").concat(f.items_per_page)},ae=function(Oe){X(Oe.target.value)},ie=function(Oe){w||H===""||(X(""),!(Oe.relatedTarget&&(Oe.relatedTarget.className.indexOf("".concat(D,"-item-link"))>=0||Oe.relatedTarget.className.indexOf("".concat(D,"-item"))>=0))&&(I==null||I(ne())))},le=function(Oe){H!==""&&(Oe.keyCode===rt.Z.ENTER||Oe.type==="click")&&(X(""),I==null||I(ne()))},fe=function(){return o.some(function(Oe){return Oe.toString()===C.toString()})?o:o.concat([C]).sort(function(Oe,He){var Ne=Number.isNaN(Number(Oe))?0:Number(Oe),Ke=Number.isNaN(Number(He))?0:Number(He);return Ne-Ke})},me="".concat(D,"-options");if(!k&&!I)return null;var ge=null,xe=null,Me=null;return k&&j&&(ge=j({disabled:L,size:C,onSizeChange:function(Oe){y==null||y(Number(Oe))},"aria-label":f.page_size,className:"".concat(me,"-size-changer"),options:fe().map(function($e){return{label:oe($e),value:$e}})})),I&&(w&&(Me=typeof w=="boolean"?a.createElement("button",{type:"button",onClick:le,onKeyUp:le,disabled:L,className:"".concat(me,"-quick-jumper-button")},f.jump_to_confirm):a.createElement("span",{onClick:le,onKeyUp:le},w)),xe=a.createElement("div",{className:"".concat(me,"-quick-jumper")},f.jump_to,a.createElement("input",{disabled:L,type:"text",value:H,onChange:ae,onKeyUp:le,onBlur:ie,"aria-label":f.page}),f.page,Me)),a.createElement("li",{className:me},ge,xe)},NO=zO,BO=function(t){var s=t.rootPrefixCls,o=t.page,f=t.active,y=t.className,C=t.showTitle,w=t.onClick,I=t.onKeyPress,D=t.itemRender,L="".concat(s,"-item"),z=q()(L,"".concat(L,"-").concat(o),(0,pe.Z)((0,pe.Z)({},"".concat(L,"-active"),f),"".concat(L,"-disabled"),!o),y),k=function(){w(o)},j=function(H){I(H,w,o)},Z=D(o,"page",a.createElement("a",{rel:"nofollow"},o));return Z?a.createElement("li",{title:C?String(o):null,className:z,onClick:k,onKeyDown:j,tabIndex:0},Z):null},T_=BO,FO=function(t,s,o){return o};function XS(){}function X2(e){var t=Number(e);return typeof t=="number"&&!Number.isNaN(t)&&isFinite(t)&&Math.floor(t)===t}function Ng(e,t,s){var o=typeof e=="undefined"?t:e;return Math.floor((s-1)/o)+1}var kO=function(t){var s=t.prefixCls,o=s===void 0?"rc-pagination":s,f=t.selectPrefixCls,y=f===void 0?"rc-select":f,C=t.className,w=t.current,I=t.defaultCurrent,D=I===void 0?1:I,L=t.total,z=L===void 0?0:L,k=t.pageSize,j=t.defaultPageSize,Z=j===void 0?10:j,G=t.onChange,H=G===void 0?XS:G,X=t.hideOnSinglePage,ne=t.align,oe=t.showPrevNextJumpers,ae=oe===void 0?!0:oe,ie=t.showQuickJumper,le=t.showLessItems,fe=t.showTitle,me=fe===void 0?!0:fe,ge=t.onShowSizeChange,xe=ge===void 0?XS:ge,Me=t.locale,$e=Me===void 0?DO:Me,Oe=t.style,He=t.totalBoundaryShowSizeChanger,Ne=He===void 0?50:He,Ke=t.disabled,je=t.simple,lt=t.showTotal,ht=t.showSizeChanger,It=ht===void 0?z>Ne:ht,Tt=t.sizeChangerRender,wt=t.pageSizeOptions,_t=t.itemRender,At=_t===void 0?FO:_t,Bt=t.jumpPrevIcon,Dt=t.jumpNextIcon,Gt=t.prevIcon,Pt=t.nextIcon,Pn=a.useRef(null),Kn=(0,Cs.Z)(10,{value:k,defaultValue:Z}),_n=(0,Re.Z)(Kn,2),Fn=_n[0],on=_n[1],Zt=(0,Cs.Z)(1,{value:w,defaultValue:D,postState:function(us){return Math.max(1,Math.min(us,Ng(void 0,Fn,z)))}}),Vn=(0,Re.Z)(Zt,2),Ln=Vn[0],kr=Vn[1],Sr=a.useState(Ln),dr=(0,Re.Z)(Sr,2),cr=dr[0],Zn=dr[1];(0,a.useEffect)(function(){Zn(Ln)},[Ln]);var ur=H!==XS,ti="current"in t,Ei=Math.max(1,Ln-(le?3:5)),ki=Math.min(Ng(void 0,Fn,z),Ln+(le?3:5));function qi(La,us){var ws=La||a.createElement("button",{type:"button","aria-label":us,className:"".concat(o,"-item-link")});return typeof La=="function"&&(ws=a.createElement(La,(0,Y.Z)({},t))),ws}function Ho(La){var us=La.target.value,ws=Ng(void 0,Fn,z),Ol;return us===""?Ol=us:Number.isNaN(Number(us))?Ol=cr:us>=ws?Ol=ws:Ol=Number(us),Ol}function Li(La){return X2(La)&&La!==Ln&&X2(z)&&z>0}var bi=z>Fn?ie:!1;function $i(La){(La.keyCode===rt.Z.UP||La.keyCode===rt.Z.DOWN)&&La.preventDefault()}function go(La){var us=Ho(La);switch(us!==cr&&Zn(us),La.keyCode){case rt.Z.ENTER:Er(us);break;case rt.Z.UP:Er(us-1);break;case rt.Z.DOWN:Er(us+1);break;default:break}}function Gi(La){Er(Ho(La))}function ko(La){var us=Ng(La,Fn,z),ws=Ln>us&&us!==0?us:Ln;on(La),Zn(ws),xe==null||xe(Ln,La),kr(ws),H==null||H(ws,La)}function Er(La){if(Li(La)&&!Ke){var us=Ng(void 0,Fn,z),ws=La;return La>us?ws=us:La<1&&(ws=1),ws!==cr&&Zn(ws),kr(ws),H==null||H(ws,Fn),ws}return Ln}var Mr=Ln>1,Zr=Ln<Ng(void 0,Fn,z);function tr(){Mr&&Er(Ln-1)}function yi(){Zr&&Er(Ln+1)}function Ui(){Er(Ei)}function xo(){Er(ki)}function ra(La,us){if(La.key==="Enter"||La.charCode===rt.Z.ENTER||La.keyCode===rt.Z.ENTER){for(var ws=arguments.length,Ol=new Array(ws>2?ws-2:0),Zu=2;Zu<ws;Zu++)Ol[Zu-2]=arguments[Zu];us.apply(void 0,Ol)}}function Aa(La){ra(La,tr)}function oa(La){ra(La,yi)}function Ss(La){ra(La,Ui)}function Va(La){ra(La,xo)}function Ga(La){var us=At(La,"prev",qi(Gt,"prev page"));return a.isValidElement(us)?a.cloneElement(us,{disabled:!Mr}):us}function _a(La){var us=At(La,"next",qi(Pt,"next page"));return a.isValidElement(us)?a.cloneElement(us,{disabled:!Zr}):us}function ns(La){(La.type==="click"||La.keyCode===rt.Z.ENTER)&&Er(cr)}var zs=null,Do=(0,ut.Z)(t,{aria:!0,data:!0}),na=lt&&a.createElement("li",{className:"".concat(o,"-total-text")},lt(z,[z===0?0:(Ln-1)*Fn+1,Ln*Fn>z?z:Ln*Fn])),Ra=null,Ka=Ng(void 0,Fn,z);if(X&&z<=Fn)return null;var ls=[],ll={rootPrefixCls:o,onClick:Er,onKeyPress:ra,showTitle:me,itemRender:At,page:-1},Pl=Ln-1>0?Ln-1:0,bl=Ln+1<Ka?Ln+1:Ka,Zl=ie&&ie.goButton,pa=(0,nt.Z)(je)==="object"?je.readOnly:!je,Jo=Zl,Qo=null;je&&(Zl&&(typeof Zl=="boolean"?Jo=a.createElement("button",{type:"button",onClick:ns,onKeyUp:ns},$e.jump_to_confirm):Jo=a.createElement("span",{onClick:ns,onKeyUp:ns},Zl),Jo=a.createElement("li",{title:me?"".concat($e.jump_to).concat(Ln,"/").concat(Ka):null,className:"".concat(o,"-simple-pager")},Jo)),Qo=a.createElement("li",{title:me?"".concat(Ln,"/").concat(Ka):null,className:"".concat(o,"-simple-pager")},pa?cr:a.createElement("input",{type:"text","aria-label":$e.jump_to,value:cr,disabled:Ke,onKeyDown:$i,onKeyUp:go,onChange:go,onBlur:Gi,size:3}),a.createElement("span",{className:"".concat(o,"-slash")},"/"),Ka));var Wo=le?1:2;if(Ka<=3+Wo*2){Ka||ls.push(a.createElement(T_,(0,Ge.Z)({},ll,{key:"noPager",page:1,className:"".concat(o,"-item-disabled")})));for(var cs=1;cs<=Ka;cs+=1)ls.push(a.createElement(T_,(0,Ge.Z)({},ll,{key:cs,page:cs,active:Ln===cs})))}else{var Ns=le?$e.prev_3:$e.prev_5,Za=le?$e.next_3:$e.next_5,Ea=At(Ei,"jump-prev",qi(Bt,"prev page")),vs=At(ki,"jump-next",qi(Dt,"next page"));ae&&(zs=Ea?a.createElement("li",{title:me?Ns:null,key:"prev",onClick:Ui,tabIndex:0,onKeyDown:Ss,className:q()("".concat(o,"-jump-prev"),(0,pe.Z)({},"".concat(o,"-jump-prev-custom-icon"),!!Bt))},Ea):null,Ra=vs?a.createElement("li",{title:me?Za:null,key:"next",onClick:xo,tabIndex:0,onKeyDown:Va,className:q()("".concat(o,"-jump-next"),(0,pe.Z)({},"".concat(o,"-jump-next-custom-icon"),!!Dt))},vs):null);var ys=Math.max(1,Ln-Wo),qs=Math.min(Ln+Wo,Ka);Ln-1<=Wo&&(qs=1+Wo*2),Ka-Ln<=Wo&&(ys=Ka-Wo*2);for(var Ca=ys;Ca<=qs;Ca+=1)ls.push(a.createElement(T_,(0,Ge.Z)({},ll,{key:Ca,page:Ca,active:Ln===Ca})));if(Ln-1>=Wo*2&&Ln!==3&&(ls[0]=a.cloneElement(ls[0],{className:q()("".concat(o,"-item-after-jump-prev"),ls[0].props.className)}),ls.unshift(zs)),Ka-Ln>=Wo*2&&Ln!==Ka-2){var Go=ls[ls.length-1];ls[ls.length-1]=a.cloneElement(Go,{className:q()("".concat(o,"-item-before-jump-next"),Go.props.className)}),ls.push(Ra)}ys!==1&&ls.unshift(a.createElement(T_,(0,Ge.Z)({},ll,{key:1,page:1}))),qs!==Ka&&ls.push(a.createElement(T_,(0,Ge.Z)({},ll,{key:Ka,page:Ka})))}var Da=Ga(Pl);if(Da){var ds=!Mr||!Ka;Da=a.createElement("li",{title:me?$e.prev_page:null,onClick:tr,tabIndex:ds?null:0,onKeyDown:Aa,className:q()("".concat(o,"-prev"),(0,pe.Z)({},"".concat(o,"-disabled"),ds)),"aria-disabled":ds},Da)}var ks=_a(bl);if(ks){var Js,Jl;je?(Js=!Zr,Jl=Mr?0:null):(Js=!Zr||!Ka,Jl=Js?null:0),ks=a.createElement("li",{title:me?$e.next_page:null,onClick:yi,tabIndex:Jl,onKeyDown:oa,className:q()("".concat(o,"-next"),(0,pe.Z)({},"".concat(o,"-disabled"),Js)),"aria-disabled":Js},ks)}var Qs=q()(o,C,(0,pe.Z)((0,pe.Z)((0,pe.Z)((0,pe.Z)((0,pe.Z)({},"".concat(o,"-start"),ne==="start"),"".concat(o,"-center"),ne==="center"),"".concat(o,"-end"),ne==="end"),"".concat(o,"-simple"),je),"".concat(o,"-disabled"),Ke));return a.createElement("ul",(0,Ge.Z)({className:Qs,style:Oe,ref:Pn},Do),na,Da,je?Qo:ls,ks,a.createElement(NO,{locale:$e,rootPrefixCls:o,disabled:Ke,selectPrefixCls:y,changeSize:ko,pageSize:Fn,pageSizeOptions:wt,quickGo:bi?Er:null,goButton:Jo,showSizeChanger:It,sizeChangerRender:Tt}))},ZO=kO,jO=B(18507);const VO=e=>{const{componentCls:t}=e;return{[`${t}-disabled`]:{"&, &:hover":{cursor:"not-allowed",[`${t}-item-link`]:{color:e.colorTextDisabled,cursor:"not-allowed"}},"&:focus-visible":{cursor:"not-allowed",[`${t}-item-link`]:{color:e.colorTextDisabled,cursor:"not-allowed"}}},[`&${t}-disabled`]:{cursor:"not-allowed",[`${t}-item`]:{cursor:"not-allowed","&:hover, &:active":{backgroundColor:"transparent"},a:{color:e.colorTextDisabled,backgroundColor:"transparent",border:"none",cursor:"not-allowed"},"&-active":{borderColor:e.colorBorder,backgroundColor:e.itemActiveBgDisabled,"&:hover, &:active":{backgroundColor:e.itemActiveBgDisabled},a:{color:e.itemActiveColorDisabled}}},[`${t}-item-link`]:{color:e.colorTextDisabled,cursor:"not-allowed","&:hover, &:active":{backgroundColor:"transparent"},[`${t}-simple&`]:{backgroundColor:"transparent","&:hover, &:active":{backgroundColor:"transparent"}}},[`${t}-simple-pager`]:{color:e.colorTextDisabled},[`${t}-jump-prev, ${t}-jump-next`]:{[`${t}-item-link-icon`]:{opacity:0},[`${t}-item-ellipsis`]:{opacity:1}}},[`&${t}-simple`]:{[`${t}-prev, ${t}-next`]:{[`&${t}-disabled ${t}-item-link`]:{"&:hover, &:active":{backgroundColor:"transparent"}}}}}},HO=e=>{const{componentCls:t}=e;return{[`&${t}-mini ${t}-total-text, &${t}-mini ${t}-simple-pager`]:{height:e.itemSizeSM,lineHeight:(0,he.bf)(e.itemSizeSM)},[`&${t}-mini ${t}-item`]:{minWidth:e.itemSizeSM,height:e.itemSizeSM,margin:0,lineHeight:(0,he.bf)(e.calc(e.itemSizeSM).sub(2).equal())},[`&${t}-mini:not(${t}-disabled) ${t}-item:not(${t}-item-active)`]:{backgroundColor:"transparent",borderColor:"transparent","&:hover":{backgroundColor:e.colorBgTextHover},"&:active":{backgroundColor:e.colorBgTextActive}},[`&${t}-mini ${t}-prev, &${t}-mini ${t}-next`]:{minWidth:e.itemSizeSM,height:e.itemSizeSM,margin:0,lineHeight:(0,he.bf)(e.itemSizeSM)},[`&${t}-mini:not(${t}-disabled)`]:{[`${t}-prev, ${t}-next`]:{[`&:hover ${t}-item-link`]:{backgroundColor:e.colorBgTextHover},[`&:active ${t}-item-link`]:{backgroundColor:e.colorBgTextActive},[`&${t}-disabled:hover ${t}-item-link`]:{backgroundColor:"transparent"}}},[`
    &${t}-mini ${t}-prev ${t}-item-link,
    &${t}-mini ${t}-next ${t}-item-link
    `]:{backgroundColor:"transparent",borderColor:"transparent","&::after":{height:e.itemSizeSM,lineHeight:(0,he.bf)(e.itemSizeSM)}},[`&${t}-mini ${t}-jump-prev, &${t}-mini ${t}-jump-next`]:{height:e.itemSizeSM,marginInlineEnd:0,lineHeight:(0,he.bf)(e.itemSizeSM)},[`&${t}-mini ${t}-options`]:{marginInlineStart:e.paginationMiniOptionsMarginInlineStart,"&-size-changer":{top:e.miniOptionsSizeChangerTop},"&-quick-jumper":{height:e.itemSizeSM,lineHeight:(0,he.bf)(e.itemSizeSM),input:Object.assign(Object.assign({},(0,vf.x0)(e)),{width:e.paginationMiniQuickJumperInputWidth,height:e.controlHeightSM})}}}},UO=e=>{const{componentCls:t}=e;return{[`
    &${t}-simple ${t}-prev,
    &${t}-simple ${t}-next
    `]:{height:e.itemSizeSM,lineHeight:(0,he.bf)(e.itemSizeSM),verticalAlign:"top",[`${t}-item-link`]:{height:e.itemSizeSM,backgroundColor:"transparent",border:0,"&:hover":{backgroundColor:e.colorBgTextHover},"&:active":{backgroundColor:e.colorBgTextActive},"&::after":{height:e.itemSizeSM,lineHeight:(0,he.bf)(e.itemSizeSM)}}},[`&${t}-simple ${t}-simple-pager`]:{display:"inline-block",height:e.itemSizeSM,marginInlineEnd:e.marginXS,input:{boxSizing:"border-box",height:"100%",padding:`0 ${(0,he.bf)(e.paginationItemPaddingInline)}`,textAlign:"center",backgroundColor:e.itemInputBg,border:`${(0,he.bf)(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,borderRadius:e.borderRadius,outline:"none",transition:`border-color ${e.motionDurationMid}`,color:"inherit","&:hover":{borderColor:e.colorPrimary},"&:focus":{borderColor:e.colorPrimaryHover,boxShadow:`${(0,he.bf)(e.inputOutlineOffset)} 0 ${(0,he.bf)(e.controlOutlineWidth)} ${e.controlOutline}`},"&[disabled]":{color:e.colorTextDisabled,backgroundColor:e.colorBgContainerDisabled,borderColor:e.colorBorder,cursor:"not-allowed"}}}}},WO=e=>{const{componentCls:t}=e;return{[`${t}-jump-prev, ${t}-jump-next`]:{outline:0,[`${t}-item-container`]:{position:"relative",[`${t}-item-link-icon`]:{color:e.colorPrimary,fontSize:e.fontSizeSM,opacity:0,transition:`all ${e.motionDurationMid}`,"&-svg":{top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,margin:"auto"}},[`${t}-item-ellipsis`]:{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,display:"block",margin:"auto",color:e.colorTextDisabled,letterSpacing:e.paginationEllipsisLetterSpacing,textAlign:"center",textIndent:e.paginationEllipsisTextIndent,opacity:1,transition:`all ${e.motionDurationMid}`}},"&:hover":{[`${t}-item-link-icon`]:{opacity:1},[`${t}-item-ellipsis`]:{opacity:0}}},[`
    ${t}-prev,
    ${t}-jump-prev,
    ${t}-jump-next
    `]:{marginInlineEnd:e.marginXS},[`
    ${t}-prev,
    ${t}-next,
    ${t}-jump-prev,
    ${t}-jump-next
    `]:{display:"inline-block",minWidth:e.itemSize,height:e.itemSize,color:e.colorText,fontFamily:e.fontFamily,lineHeight:(0,he.bf)(e.itemSize),textAlign:"center",verticalAlign:"middle",listStyle:"none",borderRadius:e.borderRadius,cursor:"pointer",transition:`all ${e.motionDurationMid}`},[`${t}-prev, ${t}-next`]:{outline:0,button:{color:e.colorText,cursor:"pointer",userSelect:"none"},[`${t}-item-link`]:{display:"block",width:"100%",height:"100%",padding:0,fontSize:e.fontSizeSM,textAlign:"center",backgroundColor:"transparent",border:`${(0,he.bf)(e.lineWidth)} ${e.lineType} transparent`,borderRadius:e.borderRadius,outline:"none",transition:`all ${e.motionDurationMid}`},[`&:hover ${t}-item-link`]:{backgroundColor:e.colorBgTextHover},[`&:active ${t}-item-link`]:{backgroundColor:e.colorBgTextActive},[`&${t}-disabled:hover`]:{[`${t}-item-link`]:{backgroundColor:"transparent"}}},[`${t}-slash`]:{marginInlineEnd:e.paginationSlashMarginInlineEnd,marginInlineStart:e.paginationSlashMarginInlineStart},[`${t}-options`]:{display:"inline-block",marginInlineStart:e.margin,verticalAlign:"middle","&-size-changer":{display:"inline-block",width:"auto"},"&-quick-jumper":{display:"inline-block",height:e.controlHeight,marginInlineStart:e.marginXS,lineHeight:(0,he.bf)(e.controlHeight),verticalAlign:"top",input:Object.assign(Object.assign(Object.assign({},(0,vf.ik)(e)),(0,_u.$U)(e,{borderColor:e.colorBorder,hoverBorderColor:e.colorPrimaryHover,activeBorderColor:e.colorPrimary,activeShadow:e.activeShadow})),{"&[disabled]":Object.assign({},(0,_u.Xy)(e)),width:e.calc(e.controlHeightLG).mul(1.25).equal(),height:e.controlHeight,boxSizing:"border-box",margin:0,marginInlineStart:e.marginXS,marginInlineEnd:e.marginXS})}}}},GO=e=>{const{componentCls:t}=e;return{[`${t}-item`]:{display:"inline-block",minWidth:e.itemSize,height:e.itemSize,marginInlineEnd:e.marginXS,fontFamily:e.fontFamily,lineHeight:(0,he.bf)(e.calc(e.itemSize).sub(2).equal()),textAlign:"center",verticalAlign:"middle",listStyle:"none",backgroundColor:e.itemBg,border:`${(0,he.bf)(e.lineWidth)} ${e.lineType} transparent`,borderRadius:e.borderRadius,outline:0,cursor:"pointer",userSelect:"none",a:{display:"block",padding:`0 ${(0,he.bf)(e.paginationItemPaddingInline)}`,color:e.colorText,"&:hover":{textDecoration:"none"}},[`&:not(${t}-item-active)`]:{"&:hover":{transition:`all ${e.motionDurationMid}`,backgroundColor:e.colorBgTextHover},"&:active":{backgroundColor:e.colorBgTextActive}},"&-active":{fontWeight:e.fontWeightStrong,backgroundColor:e.itemActiveBg,borderColor:e.colorPrimary,a:{color:e.colorPrimary},"&:hover":{borderColor:e.colorPrimaryHover},"&:hover a":{color:e.colorPrimaryHover}}}}},KO=e=>{const{componentCls:t}=e;return{[t]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(0,Qt.Wf)(e)),{display:"flex","&-start":{justifyContent:"start"},"&-center":{justifyContent:"center"},"&-end":{justifyContent:"end"},"ul, ol":{margin:0,padding:0,listStyle:"none"},"&::after":{display:"block",clear:"both",height:0,overflow:"hidden",visibility:"hidden",content:'""'},[`${t}-total-text`]:{display:"inline-block",height:e.itemSize,marginInlineEnd:e.marginXS,lineHeight:(0,he.bf)(e.calc(e.itemSize).sub(2).equal()),verticalAlign:"middle"}}),GO(e)),WO(e)),UO(e)),HO(e)),VO(e)),{[`@media only screen and (max-width: ${e.screenLG}px)`]:{[`${t}-item`]:{"&-after-jump-prev, &-before-jump-next":{display:"none"}}},[`@media only screen and (max-width: ${e.screenSM}px)`]:{[`${t}-options`]:{display:"none"}}}),[`&${e.componentCls}-rtl`]:{direction:"rtl"}}},XO=e=>{const{componentCls:t}=e;return{[`${t}:not(${t}-disabled)`]:{[`${t}-item`]:Object.assign({},(0,Qt.Qy)(e)),[`${t}-jump-prev, ${t}-jump-next`]:{"&:focus-visible":Object.assign({[`${t}-item-link-icon`]:{opacity:1},[`${t}-item-ellipsis`]:{opacity:0}},(0,Qt.oN)(e))},[`${t}-prev, ${t}-next`]:{[`&:focus-visible ${t}-item-link`]:Object.assign({},(0,Qt.oN)(e))}}}},Y2=e=>Object.assign({itemBg:e.colorBgContainer,itemSize:e.controlHeight,itemSizeSM:e.controlHeightSM,itemActiveBg:e.colorBgContainer,itemLinkBg:e.colorBgContainer,itemActiveColorDisabled:e.colorTextDisabled,itemActiveBgDisabled:e.controlItemBgActiveDisabled,itemInputBg:e.colorBgContainer,miniOptionsSizeChangerTop:0},(0,od.T)(e)),q2=e=>(0,ci.IX)(e,{inputOutlineOffset:0,paginationMiniOptionsMarginInlineStart:e.calc(e.marginXXS).div(2).equal(),paginationMiniQuickJumperInputWidth:e.calc(e.controlHeightLG).mul(1.1).equal(),paginationItemPaddingInline:e.calc(e.marginXXS).mul(1.5).equal(),paginationEllipsisLetterSpacing:e.calc(e.marginXXS).div(2).equal(),paginationSlashMarginInlineStart:e.marginSM,paginationSlashMarginInlineEnd:e.marginSM,paginationEllipsisTextIndent:"0.13em"},(0,od.e)(e));var YO=(0,te.I$)("Pagination",e=>{const t=q2(e);return[KO(t),XO(t)]},Y2);const qO=e=>{const{componentCls:t}=e;return{[`${t}${t}-bordered${t}-disabled:not(${t}-mini)`]:{"&, &:hover":{[`${t}-item-link`]:{borderColor:e.colorBorder}},"&:focus-visible":{[`${t}-item-link`]:{borderColor:e.colorBorder}},[`${t}-item, ${t}-item-link`]:{backgroundColor:e.colorBgContainerDisabled,borderColor:e.colorBorder,[`&:hover:not(${t}-item-active)`]:{backgroundColor:e.colorBgContainerDisabled,borderColor:e.colorBorder,a:{color:e.colorTextDisabled}},[`&${t}-item-active`]:{backgroundColor:e.itemActiveBgDisabled}},[`${t}-prev, ${t}-next`]:{"&:hover button":{backgroundColor:e.colorBgContainerDisabled,borderColor:e.colorBorder,color:e.colorTextDisabled},[`${t}-item-link`]:{backgroundColor:e.colorBgContainerDisabled,borderColor:e.colorBorder}}},[`${t}${t}-bordered:not(${t}-mini)`]:{[`${t}-prev, ${t}-next`]:{"&:hover button":{borderColor:e.colorPrimaryHover,backgroundColor:e.itemBg},[`${t}-item-link`]:{backgroundColor:e.itemLinkBg,borderColor:e.colorBorder},[`&:hover ${t}-item-link`]:{borderColor:e.colorPrimary,backgroundColor:e.itemBg,color:e.colorPrimary},[`&${t}-disabled`]:{[`${t}-item-link`]:{borderColor:e.colorBorder,color:e.colorTextDisabled}}},[`${t}-item`]:{backgroundColor:e.itemBg,border:`${(0,he.bf)(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,[`&:hover:not(${t}-item-active)`]:{borderColor:e.colorPrimary,backgroundColor:e.itemBg,a:{color:e.colorPrimary}},"&-active":{borderColor:e.colorPrimary}}}}};var JO=(0,te.bk)(["Pagination","bordered"],e=>{const t=q2(e);return[qO(t)]},Y2);function J2(e){return(0,a.useMemo)(()=>typeof e=="boolean"?[e,{}]:e&&typeof e=="object"?[!0,e]:[void 0,void 0],[e])}var QO=function(e,t){var s={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(s[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(s[o[f]]=e[o[f]]);return s},e3=e=>{const{align:t,prefixCls:s,selectPrefixCls:o,className:f,rootClassName:y,style:C,size:w,locale:I,responsive:D,showSizeChanger:L,selectComponentClass:z,pageSizeOptions:k}=e,j=QO(e,["align","prefixCls","selectPrefixCls","className","rootClassName","style","size","locale","responsive","showSizeChanger","selectComponentClass","pageSizeOptions"]),{xs:Z}=(0,Gu.Z)(D),[,G]=(0,Qn.ZP)(),{getPrefixCls:H,direction:X,showSizeChanger:ne,className:oe,style:ae}=(0,ye.dj)("pagination"),ie=H("pagination",s),[le,fe,me]=YO(ie),ge=(0,hc.Z)(w),xe=ge==="small"||!!(Z&&!ge&&D),[Me]=(0,En.Z)("Pagination",jO.Z),$e=Object.assign(Object.assign({},Me),I),[Oe,He]=J2(L),[Ne,Ke]=J2(ne),je=Oe!=null?Oe:Ne,lt=He!=null?He:Ke,ht=z||Fc.default,It=a.useMemo(()=>k?k.map(Dt=>Number(Dt)):void 0,[k]),Tt=Dt=>{var Gt;const{disabled:Pt,size:Pn,onSizeChange:Kn,"aria-label":_n,className:Fn,options:on}=Dt,{className:Zt,onChange:Vn}=lt||{},Ln=(Gt=on.find(kr=>String(kr.value)===String(Pn)))===null||Gt===void 0?void 0:Gt.value;return a.createElement(ht,Object.assign({disabled:Pt,showSearch:!0,popupMatchSelectWidth:!1,getPopupContainer:kr=>kr.parentNode,"aria-label":_n,options:on},lt,{value:Ln,onChange:(kr,Sr)=>{Kn==null||Kn(kr),Vn==null||Vn(kr,Sr)},size:xe?"small":"middle",className:q()(Fn,Zt)}))},wt=a.useMemo(()=>{const Dt=a.createElement("span",{className:`${ie}-item-ellipsis`},"\u2022\u2022\u2022"),Gt=a.createElement("button",{className:`${ie}-item-link`,type:"button",tabIndex:-1},X==="rtl"?a.createElement(Kc.Z,null):a.createElement(vl,null)),Pt=a.createElement("button",{className:`${ie}-item-link`,type:"button",tabIndex:-1},X==="rtl"?a.createElement(vl,null):a.createElement(Kc.Z,null)),Pn=a.createElement("a",{className:`${ie}-item-link`},a.createElement("div",{className:`${ie}-item-container`},X==="rtl"?a.createElement(K2,{className:`${ie}-item-link-icon`}):a.createElement(G2,{className:`${ie}-item-link-icon`}),Dt)),Kn=a.createElement("a",{className:`${ie}-item-link`},a.createElement("div",{className:`${ie}-item-container`},X==="rtl"?a.createElement(G2,{className:`${ie}-item-link-icon`}):a.createElement(K2,{className:`${ie}-item-link-icon`}),Dt));return{prevIcon:Gt,nextIcon:Pt,jumpPrevIcon:Pn,jumpNextIcon:Kn}},[X,ie]),_t=H("select",o),At=q()({[`${ie}-${t}`]:!!t,[`${ie}-mini`]:xe,[`${ie}-rtl`]:X==="rtl",[`${ie}-bordered`]:G.wireframe},oe,f,y,fe,me),Bt=Object.assign(Object.assign({},ae),C);return le(a.createElement(a.Fragment,null,G.wireframe&&a.createElement(JO,{prefixCls:ie}),a.createElement(ZO,Object.assign({},wt,j,{style:Bt,prefixCls:ie,selectPrefixCls:_t,className:At,locale:$e,pageSizeOptions:It,showSizeChanger:je,sizeChangerRender:Tt}))))},yx=e3;const _x=100,Q2=_x/5,eE=_x/2-Q2/2,YS=eE*2*Math.PI,tE=50,nE=e=>{const{dotClassName:t,style:s,hasCircleCls:o}=e;return a.createElement("circle",{className:q()(`${t}-circle`,{[`${t}-circle-bg`]:o}),r:eE,cx:tE,cy:tE,strokeWidth:Q2,style:s})};var t3=e=>{let{percent:t,prefixCls:s}=e;const o=`${s}-dot`,f=`${o}-holder`,y=`${f}-hidden`,[C,w]=a.useState(!1);(0,cl.Z)(()=>{t!==0&&w(!0)},[t!==0]);const I=Math.max(Math.min(t,100),0);if(!C)return null;const D={strokeDashoffset:`${YS/4}`,strokeDasharray:`${YS*I/100} ${YS*(100-I)/100}`};return a.createElement("span",{className:q()(f,`${o}-progress`,I<=0&&y)},a.createElement("svg",{viewBox:`0 0 ${_x} ${_x}`,role:"progressbar","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":I},a.createElement(nE,{dotClassName:o,hasCircleCls:!0}),a.createElement(nE,{dotClassName:o,style:D})))};function n3(e){const{prefixCls:t,percent:s=0}=e,o=`${t}-dot`,f=`${o}-holder`,y=`${f}-hidden`;return a.createElement(a.Fragment,null,a.createElement("span",{className:q()(f,s>0&&y)},a.createElement("span",{className:q()(o,`${t}-dot-spin`)},[1,2,3,4].map(C=>a.createElement("i",{className:`${t}-dot-item`,key:C})))),a.createElement(t3,{prefixCls:t,percent:s}))}function r3(e){const{prefixCls:t,indicator:s,percent:o}=e,f=`${t}-dot`;return s&&a.isValidElement(s)?(0,Cn.Tm)(s,{className:q()(s.props.className,f),percent:o}):a.createElement(n3,{prefixCls:t,percent:o})}const i3=new he.E4("antSpinMove",{to:{opacity:1}}),o3=new he.E4("antRotate",{to:{transform:"rotate(405deg)"}}),a3=e=>{const{componentCls:t,calc:s}=e;return{[t]:Object.assign(Object.assign({},(0,Qt.Wf)(e)),{position:"absolute",display:"none",color:e.colorPrimary,fontSize:0,textAlign:"center",verticalAlign:"middle",opacity:0,transition:`transform ${e.motionDurationSlow} ${e.motionEaseInOutCirc}`,"&-spinning":{position:"relative",display:"inline-block",opacity:1},[`${t}-text`]:{fontSize:e.fontSize,paddingTop:s(s(e.dotSize).sub(e.fontSize)).div(2).add(2).equal()},"&-fullscreen":{position:"fixed",width:"100vw",height:"100vh",backgroundColor:e.colorBgMask,zIndex:e.zIndexPopupBase,inset:0,display:"flex",alignItems:"center",flexDirection:"column",justifyContent:"center",opacity:0,visibility:"hidden",transition:`all ${e.motionDurationMid}`,"&-show":{opacity:1,visibility:"visible"},[t]:{[`${t}-dot-holder`]:{color:e.colorWhite},[`${t}-text`]:{color:e.colorTextLightSolid}}},"&-nested-loading":{position:"relative",[`> div > ${t}`]:{position:"absolute",top:0,insetInlineStart:0,zIndex:4,display:"block",width:"100%",height:"100%",maxHeight:e.contentHeight,[`${t}-dot`]:{position:"absolute",top:"50%",insetInlineStart:"50%",margin:s(e.dotSize).mul(-1).div(2).equal()},[`${t}-text`]:{position:"absolute",top:"50%",width:"100%",textShadow:`0 1px 2px ${e.colorBgContainer}`},[`&${t}-show-text ${t}-dot`]:{marginTop:s(e.dotSize).div(2).mul(-1).sub(10).equal()},"&-sm":{[`${t}-dot`]:{margin:s(e.dotSizeSM).mul(-1).div(2).equal()},[`${t}-text`]:{paddingTop:s(s(e.dotSizeSM).sub(e.fontSize)).div(2).add(2).equal()},[`&${t}-show-text ${t}-dot`]:{marginTop:s(e.dotSizeSM).div(2).mul(-1).sub(10).equal()}},"&-lg":{[`${t}-dot`]:{margin:s(e.dotSizeLG).mul(-1).div(2).equal()},[`${t}-text`]:{paddingTop:s(s(e.dotSizeLG).sub(e.fontSize)).div(2).add(2).equal()},[`&${t}-show-text ${t}-dot`]:{marginTop:s(e.dotSizeLG).div(2).mul(-1).sub(10).equal()}}},[`${t}-container`]:{position:"relative",transition:`opacity ${e.motionDurationSlow}`,"&::after":{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,zIndex:10,width:"100%",height:"100%",background:e.colorBgContainer,opacity:0,transition:`all ${e.motionDurationSlow}`,content:'""',pointerEvents:"none"}},[`${t}-blur`]:{clear:"both",opacity:.5,userSelect:"none",pointerEvents:"none","&::after":{opacity:.4,pointerEvents:"auto"}}},"&-tip":{color:e.spinDotDefault},[`${t}-dot-holder`]:{width:"1em",height:"1em",fontSize:e.dotSize,display:"inline-block",transition:`transform ${e.motionDurationSlow} ease, opacity ${e.motionDurationSlow} ease`,transformOrigin:"50% 50%",lineHeight:1,color:e.colorPrimary,"&-hidden":{transform:"scale(0.3)",opacity:0}},[`${t}-dot-progress`]:{position:"absolute",inset:0},[`${t}-dot`]:{position:"relative",display:"inline-block",fontSize:e.dotSize,width:"1em",height:"1em","&-item":{position:"absolute",display:"block",width:s(e.dotSize).sub(s(e.marginXXS).div(2)).div(2).equal(),height:s(e.dotSize).sub(s(e.marginXXS).div(2)).div(2).equal(),background:"currentColor",borderRadius:"100%",transform:"scale(0.75)",transformOrigin:"50% 50%",opacity:.3,animationName:i3,animationDuration:"1s",animationIterationCount:"infinite",animationTimingFunction:"linear",animationDirection:"alternate","&:nth-child(1)":{top:0,insetInlineStart:0,animationDelay:"0s"},"&:nth-child(2)":{top:0,insetInlineEnd:0,animationDelay:"0.4s"},"&:nth-child(3)":{insetInlineEnd:0,bottom:0,animationDelay:"0.8s"},"&:nth-child(4)":{bottom:0,insetInlineStart:0,animationDelay:"1.2s"}},"&-spin":{transform:"rotate(45deg)",animationName:o3,animationDuration:"1.2s",animationIterationCount:"infinite",animationTimingFunction:"linear"},"&-circle":{strokeLinecap:"round",transition:["stroke-dashoffset","stroke-dasharray","stroke","stroke-width","opacity"].map(o=>`${o} ${e.motionDurationSlow} ease`).join(","),fillOpacity:0,stroke:"currentcolor"},"&-circle-bg":{stroke:e.colorFillSecondary}},[`&-sm ${t}-dot`]:{"&, &-holder":{fontSize:e.dotSizeSM}},[`&-sm ${t}-dot-holder`]:{i:{width:s(s(e.dotSizeSM).sub(s(e.marginXXS).div(2))).div(2).equal(),height:s(s(e.dotSizeSM).sub(s(e.marginXXS).div(2))).div(2).equal()}},[`&-lg ${t}-dot`]:{"&, &-holder":{fontSize:e.dotSizeLG}},[`&-lg ${t}-dot-holder`]:{i:{width:s(s(e.dotSizeLG).sub(e.marginXXS)).div(2).equal(),height:s(s(e.dotSizeLG).sub(e.marginXXS)).div(2).equal()}},[`&${t}-show-text ${t}-text`]:{display:"block"}})}},s3=e=>{const{controlHeightLG:t,controlHeight:s}=e;return{contentHeight:400,dotSize:t/2,dotSizeSM:t*.35,dotSizeLG:s}};var l3=(0,te.I$)("Spin",e=>{const t=(0,ci.IX)(e,{spinDotDefault:e.colorTextDescription});return[a3(t)]},s3);const c3=200,rE=[[30,.05],[70,.03],[96,.01]];function u3(e,t){const[s,o]=a.useState(0),f=a.useRef(null),y=t==="auto";return a.useEffect(()=>(y&&e&&(o(0),f.current=setInterval(()=>{o(C=>{const w=100-C;for(let I=0;I<rE.length;I+=1){const[D,L]=rE[I];if(C<=D)return C+w*L}return C})},c3)),()=>{clearInterval(f.current)}),[y,e]),y?s:t}var d3=function(e,t){var s={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(s[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(s[o[f]]=e[o[f]]);return s};const LF=null;let iE;function f3(e,t){return!!e&&!!t&&!Number.isNaN(Number(t))}const oE=e=>{var t;const{prefixCls:s,spinning:o=!0,delay:f=0,className:y,rootClassName:C,size:w="default",tip:I,wrapperClassName:D,style:L,children:z,fullscreen:k=!1,indicator:j,percent:Z}=e,G=d3(e,["prefixCls","spinning","delay","className","rootClassName","size","tip","wrapperClassName","style","children","fullscreen","indicator","percent"]),{getPrefixCls:H,direction:X,className:ne,style:oe,indicator:ae}=(0,ye.dj)("spin"),ie=H("spin",s),[le,fe,me]=l3(ie),[ge,xe]=a.useState(()=>o&&!f3(o,f)),Me=u3(ge,Z);a.useEffect(()=>{if(o){const lt=Gy(f,()=>{xe(!0)});return lt(),()=>{var ht;(ht=lt==null?void 0:lt.cancel)===null||ht===void 0||ht.call(lt)}}xe(!1)},[f,o]);const $e=a.useMemo(()=>typeof z!="undefined"&&!k,[z,k]),Oe=q()(ie,ne,{[`${ie}-sm`]:w==="small",[`${ie}-lg`]:w==="large",[`${ie}-spinning`]:ge,[`${ie}-show-text`]:!!I,[`${ie}-rtl`]:X==="rtl"},y,!k&&C,fe,me),He=q()(`${ie}-container`,{[`${ie}-blur`]:ge}),Ne=(t=j!=null?j:ae)!==null&&t!==void 0?t:iE,Ke=Object.assign(Object.assign({},oe),L),je=a.createElement("div",Object.assign({},G,{style:Ke,className:Oe,"aria-live":"polite","aria-busy":ge}),a.createElement(r3,{prefixCls:ie,indicator:Ne,percent:Me}),I&&($e||k)?a.createElement("div",{className:`${ie}-text`},I):null);return le($e?a.createElement("div",Object.assign({},G,{className:q()(`${ie}-nested-loading`,D,fe,me)}),ge&&a.createElement("div",{key:"loading"},je),a.createElement("div",{className:He,key:"container"},z)):k?a.createElement("div",{className:q()(`${ie}-fullscreen`,{[`${ie}-fullscreen-show`]:ge},C,fe,me)},je):je)};oE.setDefaultIndicator=e=>{iE=e};var yv=oE;const qS=a.createContext({}),zF=qS.Consumer;var aE=function(e,t){var s={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(s[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(s[o[f]]=e[o[f]]);return s};const h3=e=>{var{prefixCls:t,className:s,avatar:o,title:f,description:y}=e,C=aE(e,["prefixCls","className","avatar","title","description"]);const{getPrefixCls:w}=(0,a.useContext)(ye.E_),I=w("list",t),D=q()(`${I}-item-meta`,s),L=a.createElement("div",{className:`${I}-item-meta-content`},f&&a.createElement("h4",{className:`${I}-item-meta-title`},f),y&&a.createElement("div",{className:`${I}-item-meta-description`},y));return a.createElement("div",Object.assign({},C,{className:D}),o&&a.createElement("div",{className:`${I}-item-meta-avatar`},o),(f||y)&&L)},sE=a.forwardRef((e,t)=>{const{prefixCls:s,children:o,actions:f,extra:y,styles:C,className:w,classNames:I,colStyle:D}=e,L=aE(e,["prefixCls","children","actions","extra","styles","className","classNames","colStyle"]),{grid:z,itemLayout:k}=(0,a.useContext)(qS),{getPrefixCls:j,list:Z}=(0,a.useContext)(ye.E_),G=fe=>{var me,ge;return q()((ge=(me=Z==null?void 0:Z.item)===null||me===void 0?void 0:me.classNames)===null||ge===void 0?void 0:ge[fe],I==null?void 0:I[fe])},H=fe=>{var me,ge;return Object.assign(Object.assign({},(ge=(me=Z==null?void 0:Z.item)===null||me===void 0?void 0:me.styles)===null||ge===void 0?void 0:ge[fe]),C==null?void 0:C[fe])},X=()=>{let fe=!1;return a.Children.forEach(o,me=>{typeof me=="string"&&(fe=!0)}),fe&&a.Children.count(o)>1},ne=()=>k==="vertical"?!!y:!X(),oe=j("list",s),ae=f&&f.length>0&&a.createElement("ul",{className:q()(`${oe}-item-action`,G("actions")),key:"actions",style:H("actions")},f.map((fe,me)=>a.createElement("li",{key:`${oe}-item-action-${me}`},fe,me!==f.length-1&&a.createElement("em",{className:`${oe}-item-action-split`})))),ie=z?"div":"li",le=a.createElement(ie,Object.assign({},L,z?{}:{ref:t},{className:q()(`${oe}-item`,{[`${oe}-item-no-flex`]:!ne()},w)}),k==="vertical"&&y?[a.createElement("div",{className:`${oe}-item-main`,key:"content"},o,ae),a.createElement("div",{className:q()(`${oe}-item-extra`,G("extra")),key:"extra",style:H("extra")},y)]:[o,ae,(0,Cn.Tm)(y,{key:"extra"})]);return z?a.createElement(Y1.Z,{ref:t,flex:1,style:D},le):le});sE.Meta=h3;var p3=sE;const m3=e=>{const{listBorderedCls:t,componentCls:s,paddingLG:o,margin:f,itemPaddingSM:y,itemPaddingLG:C,marginLG:w,borderRadiusLG:I}=e;return{[t]:{border:`${(0,he.bf)(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,borderRadius:I,[`${s}-header,${s}-footer,${s}-item`]:{paddingInline:o},[`${s}-pagination`]:{margin:`${(0,he.bf)(f)} ${(0,he.bf)(w)}`}},[`${t}${s}-sm`]:{[`${s}-item,${s}-header,${s}-footer`]:{padding:y}},[`${t}${s}-lg`]:{[`${s}-item,${s}-header,${s}-footer`]:{padding:C}}}},g3=e=>{const{componentCls:t,screenSM:s,screenMD:o,marginLG:f,marginSM:y,margin:C}=e;return{[`@media screen and (max-width:${o}px)`]:{[t]:{[`${t}-item`]:{[`${t}-item-action`]:{marginInlineStart:f}}},[`${t}-vertical`]:{[`${t}-item`]:{[`${t}-item-extra`]:{marginInlineStart:f}}}},[`@media screen and (max-width: ${s}px)`]:{[t]:{[`${t}-item`]:{flexWrap:"wrap",[`${t}-action`]:{marginInlineStart:y}}},[`${t}-vertical`]:{[`${t}-item`]:{flexWrap:"wrap-reverse",[`${t}-item-main`]:{minWidth:e.contentWidth},[`${t}-item-extra`]:{margin:`auto auto ${(0,he.bf)(C)}`}}}}}},v3=e=>{const{componentCls:t,antCls:s,controlHeight:o,minHeight:f,paddingSM:y,marginLG:C,padding:w,itemPadding:I,colorPrimary:D,itemPaddingSM:L,itemPaddingLG:z,paddingXS:k,margin:j,colorText:Z,colorTextDescription:G,motionDurationSlow:H,lineWidth:X,headerBg:ne,footerBg:oe,emptyTextPadding:ae,metaMarginBottom:ie,avatarMarginRight:le,titleMarginBottom:fe,descriptionFontSize:me}=e;return{[t]:Object.assign(Object.assign({},(0,Qt.Wf)(e)),{position:"relative","*":{outline:"none"},[`${t}-header`]:{background:ne},[`${t}-footer`]:{background:oe},[`${t}-header, ${t}-footer`]:{paddingBlock:y},[`${t}-pagination`]:{marginBlockStart:C,[`${s}-pagination-options`]:{textAlign:"start"}},[`${t}-spin`]:{minHeight:f,textAlign:"center"},[`${t}-items`]:{margin:0,padding:0,listStyle:"none"},[`${t}-item`]:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:I,color:Z,[`${t}-item-meta`]:{display:"flex",flex:1,alignItems:"flex-start",maxWidth:"100%",[`${t}-item-meta-avatar`]:{marginInlineEnd:le},[`${t}-item-meta-content`]:{flex:"1 0",width:0,color:Z},[`${t}-item-meta-title`]:{margin:`0 0 ${(0,he.bf)(e.marginXXS)} 0`,color:Z,fontSize:e.fontSize,lineHeight:e.lineHeight,"> a":{color:Z,transition:`all ${H}`,"&:hover":{color:D}}},[`${t}-item-meta-description`]:{color:G,fontSize:me,lineHeight:e.lineHeight}},[`${t}-item-action`]:{flex:"0 0 auto",marginInlineStart:e.marginXXL,padding:0,fontSize:0,listStyle:"none","& > li":{position:"relative",display:"inline-block",padding:`0 ${(0,he.bf)(k)}`,color:G,fontSize:e.fontSize,lineHeight:e.lineHeight,textAlign:"center","&:first-child":{paddingInlineStart:0}},[`${t}-item-action-split`]:{position:"absolute",insetBlockStart:"50%",insetInlineEnd:0,width:X,height:e.calc(e.fontHeight).sub(e.calc(e.marginXXS).mul(2)).equal(),transform:"translateY(-50%)",backgroundColor:e.colorSplit}}},[`${t}-empty`]:{padding:`${(0,he.bf)(w)} 0`,color:G,fontSize:e.fontSizeSM,textAlign:"center"},[`${t}-empty-text`]:{padding:ae,color:e.colorTextDisabled,fontSize:e.fontSize,textAlign:"center"},[`${t}-item-no-flex`]:{display:"block"}}),[`${t}-grid ${s}-col > ${t}-item`]:{display:"block",maxWidth:"100%",marginBlockEnd:j,paddingBlock:0,borderBlockEnd:"none"},[`${t}-vertical ${t}-item`]:{alignItems:"initial",[`${t}-item-main`]:{display:"block",flex:1},[`${t}-item-extra`]:{marginInlineStart:C},[`${t}-item-meta`]:{marginBlockEnd:ie,[`${t}-item-meta-title`]:{marginBlockStart:0,marginBlockEnd:fe,color:Z,fontSize:e.fontSizeLG,lineHeight:e.lineHeightLG}},[`${t}-item-action`]:{marginBlockStart:w,marginInlineStart:"auto","> li":{padding:`0 ${(0,he.bf)(w)}`,"&:first-child":{paddingInlineStart:0}}}},[`${t}-split ${t}-item`]:{borderBlockEnd:`${(0,he.bf)(e.lineWidth)} ${e.lineType} ${e.colorSplit}`,"&:last-child":{borderBlockEnd:"none"}},[`${t}-split ${t}-header`]:{borderBlockEnd:`${(0,he.bf)(e.lineWidth)} ${e.lineType} ${e.colorSplit}`},[`${t}-split${t}-empty ${t}-footer`]:{borderTop:`${(0,he.bf)(e.lineWidth)} ${e.lineType} ${e.colorSplit}`},[`${t}-loading ${t}-spin-nested-loading`]:{minHeight:o},[`${t}-split${t}-something-after-last-item ${s}-spin-container > ${t}-items > ${t}-item:last-child`]:{borderBlockEnd:`${(0,he.bf)(e.lineWidth)} ${e.lineType} ${e.colorSplit}`},[`${t}-lg ${t}-item`]:{padding:z},[`${t}-sm ${t}-item`]:{padding:L},[`${t}:not(${t}-vertical)`]:{[`${t}-item-no-flex`]:{[`${t}-item-action`]:{float:"right"}}}}},y3=e=>({contentWidth:220,itemPadding:`${(0,he.bf)(e.paddingContentVertical)} 0`,itemPaddingSM:`${(0,he.bf)(e.paddingContentVerticalSM)} ${(0,he.bf)(e.paddingContentHorizontal)}`,itemPaddingLG:`${(0,he.bf)(e.paddingContentVerticalLG)} ${(0,he.bf)(e.paddingContentHorizontalLG)}`,headerBg:"transparent",footerBg:"transparent",emptyTextPadding:e.padding,metaMarginBottom:e.padding,avatarMarginRight:e.padding,titleMarginBottom:e.paddingSM,descriptionFontSize:e.fontSize});var _3=(0,te.I$)("List",e=>{const t=(0,ci.IX)(e,{listBorderedCls:`${e.componentCls}-bordered`,minHeight:e.controlHeightLG});return[v3(t),m3(t),g3(t)]},y3),b3=function(e,t){var s={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(s[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(s[o[f]]=e[o[f]]);return s};function x3(e,t){var{pagination:s=!1,prefixCls:o,bordered:f=!1,split:y=!0,className:C,rootClassName:w,style:I,children:D,itemLayout:L,loadMore:z,grid:k,dataSource:j=[],size:Z,header:G,footer:H,loading:X=!1,rowKey:ne,renderItem:oe,locale:ae}=e,ie=b3(e,["pagination","prefixCls","bordered","split","className","rootClassName","style","children","itemLayout","loadMore","grid","dataSource","size","header","footer","loading","rowKey","renderItem","locale"]);const le=s&&typeof s=="object"?s:{},[fe,me]=a.useState(le.defaultCurrent||1),[ge,xe]=a.useState(le.defaultPageSize||10),{getPrefixCls:Me,direction:$e,className:Oe,style:He}=(0,ye.dj)("list"),{renderEmpty:Ne}=a.useContext(ye.E_),Ke={current:1,total:0},je=ur=>(ti,Ei)=>{var ki;me(ti),xe(Ei),s&&((ki=s==null?void 0:s[ur])===null||ki===void 0||ki.call(s,ti,Ei))},lt=je("onChange"),ht=je("onShowSizeChange"),It=(ur,ti)=>{if(!oe)return null;let Ei;return typeof ne=="function"?Ei=ne(ur):ne?Ei=ur[ne]:Ei=ur.key,Ei||(Ei=`list-item-${ti}`),a.createElement(a.Fragment,{key:Ei},oe(ur,ti))},Tt=()=>!!(z||s||H),wt=Me("list",o),[_t,At,Bt]=_3(wt);let Dt=X;typeof Dt=="boolean"&&(Dt={spinning:Dt});const Gt=!!(Dt!=null&&Dt.spinning),Pt=(0,hc.Z)(Z);let Pn="";switch(Pt){case"large":Pn="lg";break;case"small":Pn="sm";break;default:break}const Kn=q()(wt,{[`${wt}-vertical`]:L==="vertical",[`${wt}-${Pn}`]:Pn,[`${wt}-split`]:y,[`${wt}-bordered`]:f,[`${wt}-loading`]:Gt,[`${wt}-grid`]:!!k,[`${wt}-something-after-last-item`]:Tt(),[`${wt}-rtl`]:$e==="rtl"},Oe,C,w,At,Bt),_n=KS(Ke,{total:j.length,current:fe,pageSize:ge},s||{}),Fn=Math.ceil(_n.total/_n.pageSize);_n.current>Fn&&(_n.current=Fn);const on=s&&a.createElement("div",{className:q()(`${wt}-pagination`)},a.createElement(yx,Object.assign({align:"end"},_n,{onChange:lt,onShowSizeChange:ht})));let Zt=(0,be.Z)(j);s&&j.length>(_n.current-1)*_n.pageSize&&(Zt=(0,be.Z)(j).splice((_n.current-1)*_n.pageSize,_n.pageSize));const Vn=Object.keys(k||{}).some(ur=>["xs","sm","md","lg","xl","xxl"].includes(ur)),Ln=(0,Gu.Z)(Vn),kr=a.useMemo(()=>{for(let ur=0;ur<yd.c4.length;ur+=1){const ti=yd.c4[ur];if(Ln[ti])return ti}},[Ln]),Sr=a.useMemo(()=>{if(!k)return;const ur=kr&&k[kr]?k[kr]:k.column;if(ur)return{width:`${100/ur}%`,maxWidth:`${100/ur}%`}},[JSON.stringify(k),kr]);let dr=Gt&&a.createElement("div",{style:{minHeight:53}});if(Zt.length>0){const ur=Zt.map((ti,Ei)=>It(ti,Ei));dr=k?a.createElement(W2.Z,{gutter:k.gutter},a.Children.map(ur,ti=>a.createElement("div",{key:ti==null?void 0:ti.key,style:Sr},ti))):a.createElement("ul",{className:`${wt}-items`},ur)}else!D&&!Gt&&(dr=a.createElement("div",{className:`${wt}-empty-text`},(ae==null?void 0:ae.emptyText)||(Ne==null?void 0:Ne("List"))||a.createElement(Qf.Z,{componentName:"List"})));const cr=_n.position||"bottom",Zn=a.useMemo(()=>({grid:k,itemLayout:L}),[JSON.stringify(k),L]);return _t(a.createElement(qS.Provider,{value:Zn},a.createElement("div",Object.assign({ref:t,style:Object.assign(Object.assign({},He),I),className:Kn},ie),(cr==="top"||cr==="both")&&on,G&&a.createElement("div",{className:`${wt}-header`},G),a.createElement(yv,Object.assign({},Dt),dr,D),H&&a.createElement("div",{className:`${wt}-footer`},H),z||(cr==="bottom"||cr==="both")&&on)))}const lE=a.forwardRef(x3);lE.Item=p3;var C3=lE;function S3(){var e=(0,a.useState)({id:0,callback:null}),t=(0,Re.Z)(e,2),s=t[0],o=t[1],f=(0,a.useCallback)(function(y){o(function(C){var w=C.id;return{id:w+1,callback:y}})},[]);return(0,a.useEffect)(function(){var y;(y=s.callback)===null||y===void 0||y.call(s)},[s]),f}var w3=a.createContext(null),cE=w3;function E3(e){var t=a.useContext(cE),s=t.notFoundContent,o=t.activeIndex,f=t.setActiveIndex,y=t.selectOption,C=t.onFocus,w=t.onBlur,I=t.onScroll,D=e.prefixCls,L=e.options,z=L[o]||{};return a.createElement(F,{prefixCls:"".concat(D,"-menu"),activeKey:z.key,onSelect:function(j){var Z=j.key,G=L.find(function(H){var X=H.key;return X===Z});y(G)},onFocus:C,onBlur:w,onScroll:I},L.map(function(k,j){var Z=k.key,G=k.disabled,H=k.className,X=k.style,ne=k.label;return a.createElement(Md,{key:Z,disabled:G,className:H,style:X,onMouseEnter:function(){f(j)}},ne)}),!L.length&&a.createElement(Md,{disabled:!0},s))}var I3=E3,T3={bottomRight:{points:["tl","br"],offset:[0,4],overflow:{adjustX:1,adjustY:1}},bottomLeft:{points:["tr","bl"],offset:[0,4],overflow:{adjustX:1,adjustY:1}},topRight:{points:["bl","tr"],offset:[0,-4],overflow:{adjustX:1,adjustY:1}},topLeft:{points:["br","tl"],offset:[0,-4],overflow:{adjustX:1,adjustY:1}}},M3=function(t){var s=t.prefixCls,o=t.options,f=t.children,y=t.visible,C=t.transitionName,w=t.getPopupContainer,I=t.dropdownClassName,D=t.direction,L=t.placement,z="".concat(s,"-dropdown"),k=a.createElement(I3,{prefixCls:z,options:o}),j=(0,a.useMemo)(function(){var Z;return D==="rtl"?Z=L==="top"?"topLeft":"bottomLeft":Z=L==="top"?"topRight":"bottomRight",Z},[D,L]);return a.createElement(Yu.Z,{prefixCls:z,popupVisible:y,popup:k,popupPlacement:j,popupTransitionName:C,builtinPlacements:T3,getPopupContainer:w,popupClassName:I},f)},P3=M3,O3=function(){return null},R3=O3;function $3(e){var t=e.selectionStart;return e.value.slice(0,t)}function A3(e,t){return t.reduce(function(s,o){var f=e.lastIndexOf(o);return f>s.location?{location:f,prefix:o}:s},{location:-1,prefix:""})}function uE(e){return(e||"").toLowerCase()}function D3(e,t,s){var o=e[0];if(!o||o===s)return e;for(var f=e,y=t.length,C=0;C<y;C+=1)if(uE(f[C])!==uE(t[C])){f=f.slice(C);break}else C===y-1&&(f=f.slice(y));return f}function L3(e,t){var s=t.measureLocation,o=t.prefix,f=t.targetText,y=t.selectionStart,C=t.split,w=e.slice(0,s);w[w.length-C.length]===C&&(w=w.slice(0,w.length-C.length)),w&&(w="".concat(w).concat(C));var I=D3(e.slice(y),f.slice(y-s-o.length),C);I.slice(0,C.length)===C&&(I=I.slice(C.length));var D="".concat(w).concat(o).concat(f).concat(C);return{text:"".concat(D).concat(I),selectionLocation:D.length}}function z3(e,t){e.setSelectionRange(t,t),e.blur(),e.focus()}function N3(e,t){return!t||e.indexOf(t)===-1}function B3(e,t){var s=t.value,o=s===void 0?"":s,f=e.toLowerCase();return o.toLowerCase().indexOf(f)!==-1}var F3=["prefixCls","className","style","prefix","split","notFoundContent","value","defaultValue","children","options","open","allowClear","silent","validateSearch","filterOption","onChange","onKeyDown","onKeyUp","onPressEnter","onSearch","onSelect","onFocus","onBlur","transitionName","placement","direction","getPopupContainer","dropdownClassName","rows","visible","onPopupScroll"],k3=["suffix","prefixCls","defaultValue","value","allowClear","onChange","classNames","className","disabled","onClear"],Z3=(0,a.forwardRef)(function(e,t){var s=e.prefixCls,o=e.className,f=e.style,y=e.prefix,C=y===void 0?"@":y,w=e.split,I=w===void 0?" ":w,D=e.notFoundContent,L=D===void 0?"Not Found":D,z=e.value,k=e.defaultValue,j=e.children,Z=e.options,G=e.open,H=e.allowClear,X=e.silent,ne=e.validateSearch,oe=ne===void 0?N3:ne,ae=e.filterOption,ie=ae===void 0?B3:ae,le=e.onChange,fe=e.onKeyDown,me=e.onKeyUp,ge=e.onPressEnter,xe=e.onSearch,Me=e.onSelect,$e=e.onFocus,Oe=e.onBlur,He=e.transitionName,Ne=e.placement,Ke=e.direction,je=e.getPopupContainer,lt=e.dropdownClassName,ht=e.rows,It=ht===void 0?1:ht,Tt=e.visible,wt=e.onPopupScroll,_t=(0,de.Z)(e,F3),At=(0,a.useMemo)(function(){return Array.isArray(C)?C:[C]},[C]),Bt=(0,a.useRef)(null),Dt=(0,a.useRef)(null),Gt=(0,a.useRef)(null),Pt=function(){var Qo;return(Qo=Dt.current)===null||Qo===void 0||(Qo=Qo.resizableTextArea)===null||Qo===void 0?void 0:Qo.textArea};a.useImperativeHandle(t,function(){var Jo;return{focus:function(){var Wo;return(Wo=Dt.current)===null||Wo===void 0?void 0:Wo.focus()},blur:function(){var Wo;return(Wo=Dt.current)===null||Wo===void 0?void 0:Wo.blur()},textarea:(Jo=Dt.current)===null||Jo===void 0||(Jo=Jo.resizableTextArea)===null||Jo===void 0?void 0:Jo.textArea,nativeElement:Bt.current}});var Pn=(0,a.useState)(!1),Kn=(0,Re.Z)(Pn,2),_n=Kn[0],Fn=Kn[1],on=(0,a.useState)(""),Zt=(0,Re.Z)(on,2),Vn=Zt[0],Ln=Zt[1],kr=(0,a.useState)(""),Sr=(0,Re.Z)(kr,2),dr=Sr[0],cr=Sr[1],Zn=(0,a.useState)(0),ur=(0,Re.Z)(Zn,2),ti=ur[0],Ei=ur[1],ki=(0,a.useState)(0),qi=(0,Re.Z)(ki,2),Ho=qi[0],Li=qi[1],bi=(0,a.useState)(!1),$i=(0,Re.Z)(bi,2),go=$i[0],Gi=$i[1],ko=(0,Cs.Z)("",{defaultValue:k,value:z}),Er=(0,Re.Z)(ko,2),Mr=Er[0],Zr=Er[1];(0,a.useEffect)(function(){_n&&Gt.current&&(Gt.current.scrollTop=Pt().scrollTop)},[_n]);var tr=a.useMemo(function(){if(G)for(var Jo=0;Jo<At.length;Jo+=1){var Qo=At[Jo],Wo=Mr.lastIndexOf(Qo);if(Wo>=0)return[!0,"",Qo,Wo]}return[_n,Vn,dr,ti]},[G,_n,At,Mr,Vn,dr,ti]),yi=(0,Re.Z)(tr,4),Ui=yi[0],xo=yi[1],ra=yi[2],Aa=yi[3],oa=a.useCallback(function(Jo){var Qo;return Z&&Z.length>0?Qo=Z.map(function(Wo){var cs;return(0,Y.Z)((0,Y.Z)({},Wo),{},{key:(cs=Wo==null?void 0:Wo.key)!==null&&cs!==void 0?cs:Wo.value})}):Qo=(0,Gl.Z)(j).map(function(Wo){var cs=Wo.props,Ns=Wo.key;return(0,Y.Z)((0,Y.Z)({},cs),{},{label:cs.children,key:Ns||cs.value})}),Qo.filter(function(Wo){return ie===!1?!0:ie(Jo,Wo)})},[j,Z,ie]),Ss=a.useMemo(function(){return oa(xo)},[oa,xo]),Va=S3(),Ga=function(Qo,Wo,cs){Fn(!0),Ln(Qo),cr(Wo),Ei(cs),Li(0)},_a=function(Qo){Fn(!1),Ei(0),Ln(""),Va(Qo)},ns=function(Qo){Zr(Qo),le==null||le(Qo)},zs=function(Qo){var Wo=Qo.target.value;ns(Wo)},Do=function(Qo){var Wo,cs=Qo.value,Ns=cs===void 0?"":cs,Za=L3(Mr,{measureLocation:Aa,targetText:Ns,prefix:ra,selectionStart:(Wo=Pt())===null||Wo===void 0?void 0:Wo.selectionStart,split:I}),Ea=Za.text,vs=Za.selectionLocation;ns(Ea),_a(function(){z3(Pt(),vs)}),Me==null||Me(Qo,ra)},na=function(Qo){var Wo=Qo.which;if(fe==null||fe(Qo),!!Ui){if(Wo===rt.Z.UP||Wo===rt.Z.DOWN){var cs=Ss.length,Ns=Wo===rt.Z.UP?-1:1,Za=(Ho+Ns+cs)%cs;Li(Za),Qo.preventDefault()}else if(Wo===rt.Z.ESC)_a();else if(Wo===rt.Z.ENTER){if(Qo.preventDefault(),X)return;if(!Ss.length){_a();return}var Ea=Ss[Ho];Do(Ea)}}},Ra=function(Qo){var Wo=Qo.key,cs=Qo.which,Ns=Qo.target,Za=$3(Ns),Ea=A3(Za,At),vs=Ea.location,ys=Ea.prefix;if(me==null||me(Qo),[rt.Z.ESC,rt.Z.UP,rt.Z.DOWN,rt.Z.ENTER].indexOf(cs)===-1)if(vs!==-1){var qs=Za.slice(vs+ys.length),Ca=oe(qs,I),Go=!!oa(qs).length;Ca?(Wo===ys||Wo==="Shift"||cs===rt.Z.ALT||Wo==="AltGraph"||Ui||qs!==xo&&Go)&&Ga(qs,ys,vs):Ui&&_a(),xe&&Ca&&xe(qs,ys)}else Ui&&_a()},Ka=function(Qo){!Ui&&ge&&ge(Qo)},ls=(0,a.useRef)(),ll=function(Qo){window.clearTimeout(ls.current),!go&&Qo&&$e&&$e(Qo),Gi(!0)},Pl=function(Qo){ls.current=window.setTimeout(function(){Gi(!1),_a(),Oe==null||Oe(Qo)},0)},bl=function(){ll()},Zl=function(){Pl()},pa=function(Qo){wt==null||wt(Qo)};return a.createElement("div",{className:q()(s,o),style:f,ref:Bt},a.createElement(j2,(0,Ge.Z)({ref:Dt,value:Mr},_t,{rows:It,onChange:zs,onKeyDown:na,onKeyUp:Ra,onPressEnter:Ka,onFocus:ll,onBlur:Pl})),Ui&&a.createElement("div",{ref:Gt,className:"".concat(s,"-measure")},Mr.slice(0,Aa),a.createElement(cE.Provider,{value:{notFoundContent:L,activeIndex:Ho,setActiveIndex:Li,selectOption:Do,onFocus:bl,onBlur:Zl,onScroll:pa}},a.createElement(P3,{prefixCls:s,transitionName:He,placement:Ne,direction:Ke,options:Ss,visible:!0,getPopupContainer:je,dropdownClassName:lt},a.createElement("span",null,ra))),Mr.slice(Aa+ra.length)))}),dE=(0,a.forwardRef)(function(e,t){var s=e.suffix,o=e.prefixCls,f=o===void 0?"rc-mentions":o,y=e.defaultValue,C=e.value,w=e.allowClear,I=e.onChange,D=e.classNames,L=e.className,z=e.disabled,k=e.onClear,j=(0,de.Z)(e,k3),Z=(0,a.useRef)(null),G=(0,a.useRef)(null);(0,a.useImperativeHandle)(t,function(){var le,fe;return(0,Y.Z)((0,Y.Z)({},G.current),{},{nativeElement:((le=Z.current)===null||le===void 0?void 0:le.nativeElement)||((fe=G.current)===null||fe===void 0?void 0:fe.nativeElement)})});var H=(0,Cs.Z)("",{defaultValue:y,value:C}),X=(0,Re.Z)(H,2),ne=X[0],oe=X[1],ae=function(fe){oe(fe),I==null||I(fe)},ie=function(){ae("")};return a.createElement(Z2.Q,{suffix:s,prefixCls:f,value:ne,allowClear:w,handleReset:ie,className:L,classNames:D,disabled:z,ref:Z,onClear:k},a.createElement(Z3,(0,Ge.Z)({className:D==null?void 0:D.mentions,prefixCls:f,ref:G,onChange:ae,disabled:z},j)))});dE.Option=R3;var j3=dE,fE=j3;function bx(e){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1)&&e==null?[]:Array.isArray(e)?e:[e]}const V3=e=>{const{componentCls:t,colorTextDisabled:s,controlItemBgHover:o,controlPaddingHorizontal:f,colorText:y,motionDurationSlow:C,lineHeight:w,controlHeight:I,paddingInline:D,paddingBlock:L,fontSize:z,fontSizeIcon:k,colorTextTertiary:j,colorTextQuaternary:Z,colorBgElevated:G,paddingXXS:H,paddingLG:X,borderRadius:ne,borderRadiusLG:oe,boxShadowSecondary:ae,itemPaddingVertical:ie,calc:le}=e;return{[t]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(0,Qt.Wf)(e)),(0,vf.ik)(e)),{position:"relative",display:"inline-block",height:"auto",padding:0,overflow:"hidden",lineHeight:w,whiteSpace:"pre-wrap",verticalAlign:"bottom"}),(0,_u.qG)(e)),(0,_u.H8)(e)),(0,_u.Mu)(e)),{"&-affix-wrapper":Object.assign(Object.assign({},(0,vf.ik)(e)),{display:"inline-flex",padding:0,"&::before":{display:"inline-block",width:0,visibility:"hidden",content:'"\\a0"'},[`${t}-suffix`]:{position:"absolute",top:0,insetInlineEnd:D,bottom:0,zIndex:1,display:"inline-flex",alignItems:"center",margin:"auto"},[`&:has(${t}-suffix) > ${t} > textarea`]:{paddingInlineEnd:X},[`${t}-clear-icon`]:{position:"absolute",insetInlineEnd:0,insetBlockStart:le(z).mul(w).mul(.5).add(L).equal(),transform:"translateY(-50%)",margin:0,padding:0,color:Z,fontSize:k,verticalAlign:-1,cursor:"pointer",transition:`color ${C}`,border:"none",outline:"none",backgroundColor:"transparent","&:hover":{color:j},"&:active":{color:y},"&-hidden":{visibility:"hidden"}}})}),(0,_u.vc)(e)),{"&-disabled":{"> textarea":Object.assign({},(0,_u.Xy)(e))},[`&, &-affix-wrapper > ${t}`]:{[`> textarea, ${t}-measure`]:{color:y,boxSizing:"border-box",minHeight:e.calc(I).sub(2),margin:0,padding:`${(0,he.bf)(L)} ${(0,he.bf)(D)}`,overflow:"inherit",overflowX:"hidden",overflowY:"auto",fontWeight:"inherit",fontSize:"inherit",fontFamily:"inherit",fontStyle:"inherit",fontVariant:"inherit",fontSizeAdjust:"inherit",fontStretch:"inherit",lineHeight:"inherit",direction:"inherit",letterSpacing:"inherit",whiteSpace:"inherit",textAlign:"inherit",verticalAlign:"top",wordWrap:"break-word",wordBreak:"inherit",tabSize:"inherit"},"> textarea":Object.assign({width:"100%",border:"none",outline:"none",resize:"none",backgroundColor:"transparent"},(0,vf.nz)(e.colorTextPlaceholder)),[`${t}-measure`]:{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,zIndex:-1,color:"transparent",pointerEvents:"none","> span":{display:"inline-block",minHeight:"1em"}}},"&-dropdown":Object.assign(Object.assign({},(0,Qt.Wf)(e)),{position:"absolute",top:-9999,insetInlineStart:-9999,zIndex:e.zIndexPopup,boxSizing:"border-box",fontSize:z,fontVariant:"initial",padding:H,backgroundColor:G,borderRadius:oe,outline:"none",boxShadow:ae,"&-hidden":{display:"none"},[`${t}-dropdown-menu`]:{maxHeight:e.dropdownHeight,margin:0,paddingInlineStart:0,overflow:"auto",listStyle:"none",outline:"none","&-item":Object.assign(Object.assign({},Qt.vS),{position:"relative",display:"block",minWidth:e.controlItemWidth,padding:`${(0,he.bf)(ie)} ${(0,he.bf)(f)}`,color:y,borderRadius:ne,fontWeight:"normal",lineHeight:w,cursor:"pointer",transition:`background ${C} ease`,"&:hover":{backgroundColor:o},"&-disabled":{color:s,cursor:"not-allowed","&:hover":{color:s,backgroundColor:o,cursor:"not-allowed"}},"&-selected":{color:y,fontWeight:e.fontWeightStrong,backgroundColor:o},"&-active":{backgroundColor:o}})}})})}},H3=e=>Object.assign(Object.assign({},(0,od.T)(e)),{dropdownHeight:250,controlItemWidth:100,zIndexPopup:e.zIndexPopupBase+50,itemPaddingVertical:(e.controlHeight-e.fontHeight)/2});var U3=(0,te.I$)("Mentions",e=>{const t=(0,ci.IX)(e,(0,od.e)(e));return[V3(t)]},H3),W3=function(e,t){var s={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(s[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(s[o[f]]=e[o[f]]);return s};const{Option:hE}=fE;function G3(){return!0}const M_=a.forwardRef((e,t)=>{const{prefixCls:s,className:o,rootClassName:f,disabled:y,loading:C,filterOption:w,children:I,notFoundContent:D,options:L,status:z,allowClear:k=!1,popupClassName:j,style:Z,variant:G}=e,H=W3(e,["prefixCls","className","rootClassName","disabled","loading","filterOption","children","notFoundContent","options","status","allowClear","popupClassName","style","variant"]),[X,ne]=a.useState(!1),oe=a.useRef(null),ae=(0,Jt.sQ)(t,oe),{getPrefixCls:ie,renderEmpty:le,direction:fe,mentions:me}=a.useContext(ye.E_),{status:ge,hasFeedback:xe,feedbackIcon:Me}=a.useContext(ou.aM),$e=(0,Vc.F)(ge,z),Oe=function(){H.onFocus&&H.onFocus.apply(H,arguments),ne(!0)},He=function(){H.onBlur&&H.onBlur.apply(H,arguments),ne(!1)},Ne=a.useMemo(()=>D!==void 0?D:(le==null?void 0:le("Select"))||a.createElement(Qf.Z,{componentName:"Select"}),[D,le]),Ke=a.useMemo(()=>C?a.createElement(hE,{value:"ANTD_SEARCHING",disabled:!0},a.createElement(yv,{size:"small"})):I,[C,I]),je=C?[{value:"ANTD_SEARCHING",disabled:!0,label:a.createElement(yv,{size:"small"})}]:L,lt=C?G3:w,ht=ie("mentions",s),It=(0,V2.Z)(k),Tt=(0,Wn.Z)(ht),[wt,_t,At]=U3(ht,Tt),[Bt,Dt]=(0,mf.Z)("mentions",G),Gt=xe&&a.createElement(a.Fragment,null,Me),Pt=q()(me==null?void 0:me.className,o,f,At,Tt),Pn=a.createElement(fE,Object.assign({silent:C,prefixCls:ht,notFoundContent:Ne,className:Pt,disabled:y,allowClear:It,direction:fe,style:Object.assign(Object.assign({},me==null?void 0:me.style),Z)},H,{filterOption:lt,onFocus:Oe,onBlur:He,dropdownClassName:q()(j,f,_t,At,Tt),ref:ae,options:je,suffix:Gt,classNames:{mentions:q()({[`${ht}-disabled`]:y,[`${ht}-focused`]:X,[`${ht}-rtl`]:fe==="rtl"},_t),variant:q()({[`${ht}-${Bt}`]:Dt},(0,Vc.Z)(ht,$e)),affixWrapper:_t}}),Ke);return wt(Pn)});M_.Option=hE;const K3=(0,Iu.Z)(M_,void 0,void 0,"mentions");M_._InternalPanelDoNotUseOrYouWillBeFired=K3,M_.getMentions=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{prefix:s="@",split:o=" "}=t,f=bx(s);return e.split(o).map(function(){let y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",C=null;return f.some(w=>y.slice(0,w.length)===w?(C=w,!0):!1),C!==null?{prefix:C,value:y.slice(C.length)}:null}).filter(y=>!!y&&!!y.value)};var X3=M_;let Bd=null,Bg=e=>e(),P_=[],O_={};function pE(){const{getContainer:e,duration:t,rtl:s,maxCount:o,top:f}=O_,y=(e==null?void 0:e())||document.body;return{getContainer:()=>y,duration:t,rtl:s,maxCount:o,top:f}}const Y3=a.forwardRef((e,t)=>{const{messageConfig:s,sync:o}=e,{getPrefixCls:f}=(0,a.useContext)(ye.E_),y=O_.prefixCls||f("message"),C=(0,a.useContext)(gd),[w,I]=So(Object.assign(Object.assign(Object.assign({},s),{prefixCls:y}),C.message));return a.useImperativeHandle(t,()=>{const D=Object.assign({},w);return Object.keys(D).forEach(L=>{D[L]=function(){return o(),w[L].apply(w,arguments)}}),{instance:D,sync:o}}),I}),q3=a.forwardRef((e,t)=>{const[s,o]=a.useState(pE),f=()=>{o(pE)};a.useEffect(f,[]);const y=(0,_e.w6)(),C=y.getRootPrefixCls(),w=y.getIconPrefixCls(),I=y.getTheme(),D=a.createElement(Y3,{ref:t,sync:f,messageConfig:s});return a.createElement(_e.ZP,{prefixCls:C,iconPrefixCls:w,theme:I},y.holderRender?y.holderRender(D):D)});function xx(){if(!Bd){const e=document.createDocumentFragment(),t={fragment:e};Bd=t,Bg(()=>{(0,Ct.x)()(a.createElement(q3,{ref:o=>{const{instance:f,sync:y}=o||{};Promise.resolve().then(()=>{!t.instance&&f&&(t.instance=f,t.sync=y,xx())})}}),e)});return}Bd.instance&&(P_.forEach(e=>{const{type:t,skipped:s}=e;if(!s)switch(t){case"open":{Bg(()=>{const o=Bd.instance.open(Object.assign(Object.assign({},O_),e.config));o==null||o.then(e.resolve),e.setCloseFn(o)});break}case"destroy":Bg(()=>{Bd==null||Bd.instance.destroy(e.key)});break;default:Bg(()=>{var o;const f=(o=Bd.instance)[t].apply(o,(0,be.Z)(e.args));f==null||f.then(e.resolve),e.setCloseFn(f)})}}),P_=[])}function J3(e){O_=Object.assign(Object.assign({},O_),e),Bg(()=>{var t;(t=Bd==null?void 0:Bd.sync)===null||t===void 0||t.call(Bd)})}function Q3(e){const t=Mo(s=>{let o;const f={type:"open",config:e,resolve:s,setCloseFn:y=>{o=y}};return P_.push(f),()=>{o?Bg(()=>{o()}):f.skipped=!0}});return xx(),t}function eR(e,t){const s=(0,_e.w6)(),o=Mo(f=>{let y;const C={type:e,args:t,resolve:f,setCloseFn:w=>{y=w}};return P_.push(C),()=>{y?Bg(()=>{y()}):C.skipped=!0}});return xx(),o}const tR=e=>{P_.push({type:"destroy",key:e}),xx()},nR=["success","info","warning","error","loading"],mE={open:Q3,destroy:tR,config:J3,useMessage:wo,_InternalPanelDoNotUseOrYouWillBeFired:fo};nR.forEach(e=>{mE[e]=function(){for(var t=arguments.length,s=new Array(t),o=0;o<t;o++)s[o]=arguments[o];return eR(e,s)}});const ZF=()=>{};let jF=null,VF=null;var rR=mE,iR=function(e,t){var s={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(s[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(s[o[f]]=e[o[f]]);return s};const oR=e=>{const{prefixCls:t,className:s,closeIcon:o,closable:f,type:y,title:C,children:w,footer:I}=e,D=iR(e,["prefixCls","className","closeIcon","closable","type","title","children","footer"]),{getPrefixCls:L}=a.useContext(ye.E_),z=L(),k=t||L("modal"),j=(0,Wn.Z)(z),[Z,G,H]=dc(k,j),X=`${k}-confirm`;let ne={};return y?ne={closable:f!=null?f:!1,title:"",footer:"",children:a.createElement(Ja,Object.assign({},e,{prefixCls:k,confirmPrefixCls:X,rootPrefixCls:z,content:w}))}:ne={closable:f!=null?f:!0,title:C,footer:I!==null&&a.createElement(Ma,Object.assign({},e)),children:w},Z(a.createElement(_i,Object.assign({prefixCls:k,className:q()(G,`${k}-pure-panel`,y&&X,y&&`${X}-${y}`,s,H,j)},D,{closeIcon:Ya(k,o),closable:f},ne)))};var aR=(0,Iu.i)(oR);function gE(e){return uu(xf(e))}const yf=Nc;yf.useModal=Gd,yf.info=function(t){return uu(Vd(t))},yf.success=function(t){return uu(ch(t))},yf.error=function(t){return uu(Cf(t))},yf.warning=gE,yf.warn=gE,yf.confirm=function(t){return uu(Uu(t))},yf.destroyAll=function(){for(;Hu.length;){const t=Hu.pop();t&&t()}},yf.config=Hd,yf._InternalPanelDoNotUseOrYouWillBeFired=aR;var sR=yf;let _f=null,Cx=e=>e(),Sx=[],R_={};function vE(){const{getContainer:e,rtl:t,maxCount:s,top:o,bottom:f,showProgress:y,pauseOnHover:C}=R_,w=(e==null?void 0:e())||document.body;return{getContainer:()=>w,rtl:t,maxCount:s,top:o,bottom:f,showProgress:y,pauseOnHover:C}}const lR=a.forwardRef((e,t)=>{const{notificationConfig:s,sync:o}=e,{getPrefixCls:f}=(0,a.useContext)(ye.E_),y=R_.prefixCls||f("notification"),C=(0,a.useContext)(gd),[w,I]=Su(Object.assign(Object.assign(Object.assign({},s),{prefixCls:y}),C.notification));return a.useEffect(o,[]),a.useImperativeHandle(t,()=>{const D=Object.assign({},w);return Object.keys(D).forEach(L=>{D[L]=function(){return o(),w[L].apply(w,arguments)}}),{instance:D,sync:o}}),I}),cR=a.forwardRef((e,t)=>{const[s,o]=a.useState(vE),f=()=>{o(vE)};a.useEffect(f,[]);const y=(0,_e.w6)(),C=y.getRootPrefixCls(),w=y.getIconPrefixCls(),I=y.getTheme(),D=a.createElement(lR,{ref:t,sync:f,notificationConfig:s});return a.createElement(_e.ZP,{prefixCls:C,iconPrefixCls:w,theme:I},y.holderRender?y.holderRender(D):D)});function JS(){if(!_f){const e=document.createDocumentFragment(),t={fragment:e};_f=t,Cx(()=>{(0,Ct.x)()(a.createElement(cR,{ref:o=>{const{instance:f,sync:y}=o||{};Promise.resolve().then(()=>{!t.instance&&f&&(t.instance=f,t.sync=y,JS())})}}),e)});return}_f.instance&&(Sx.forEach(e=>{switch(e.type){case"open":{Cx(()=>{_f.instance.open(Object.assign(Object.assign({},R_),e.config))});break}case"destroy":Cx(()=>{_f==null||_f.instance.destroy(e.key)});break}}),Sx=[])}function uR(e){R_=Object.assign(Object.assign({},R_),e),Cx(()=>{var t;(t=_f==null?void 0:_f.sync)===null||t===void 0||t.call(_f)})}function yE(e){const t=(0,_e.w6)();Sx.push({type:"open",config:e}),JS()}const dR=e=>{Sx.push({type:"destroy",key:e}),JS()},fR=["success","info","warning","error"],_E={open:yE,destroy:dR,config:uR,useNotification:wu,_InternalPanelDoNotUseOrYouWillBeFired:gl};fR.forEach(e=>{_E[e]=t=>yE(Object.assign(Object.assign({},t),{type:e}))});const UF=()=>{};let WF=null,GF=null;var hR=_E,bE=B(17522),xE=B(97294);const pR=e=>{const{componentCls:t,iconCls:s,antCls:o,zIndexPopup:f,colorText:y,colorWarning:C,marginXXS:w,marginXS:I,fontSize:D,fontWeightStrong:L,colorTextHeading:z}=e;return{[t]:{zIndex:f,[`&${o}-popover`]:{fontSize:D},[`${t}-message`]:{marginBottom:I,display:"flex",flexWrap:"nowrap",alignItems:"start",[`> ${t}-message-icon ${s}`]:{color:C,fontSize:D,lineHeight:1,marginInlineEnd:I},[`${t}-title`]:{fontWeight:L,color:z,"&:only-child":{fontWeight:"normal"}},[`${t}-description`]:{marginTop:w,color:y}},[`${t}-buttons`]:{textAlign:"end",whiteSpace:"nowrap",button:{marginInlineStart:I}}}}},mR=e=>{const{zIndexPopupBase:t}=e;return{zIndexPopup:t+60}};var CE=(0,te.I$)("Popconfirm",e=>pR(e),mR,{resetStyle:!1}),gR=function(e,t){var s={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(s[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(s[o[f]]=e[o[f]]);return s};const SE=e=>{const{prefixCls:t,okButtonProps:s,cancelButtonProps:o,title:f,description:y,cancelText:C,okText:w,okType:I="primary",icon:D=a.createElement(Xn.Z,null),showCancel:L=!0,close:z,onConfirm:k,onCancel:j,onPopupClick:Z}=e,{getPrefixCls:G}=a.useContext(ye.E_),[H]=(0,En.Z)("Popconfirm",du.Z.Popconfirm),X=(0,bE.Z)(f),ne=(0,bE.Z)(y);return a.createElement("div",{className:`${t}-inner-content`,onClick:Z},a.createElement("div",{className:`${t}-message`},D&&a.createElement("span",{className:`${t}-message-icon`},D),a.createElement("div",{className:`${t}-message-text`},X&&a.createElement("div",{className:`${t}-title`},X),ne&&a.createElement("div",{className:`${t}-description`},ne))),a.createElement("div",{className:`${t}-buttons`},L&&a.createElement(Or.ZP,Object.assign({onClick:j,size:"small"},o),C||(H==null?void 0:H.cancelText)),a.createElement(Ji,{buttonProps:Object.assign(Object.assign({size:"small"},(0,Ri.nx)(I)),s),actionFn:k,close:z,prefixCls:G("btn"),quitOnNullishReturnValue:!0,emitEvent:!0},w||(H==null?void 0:H.okText))))};var vR=e=>{const{prefixCls:t,placement:s,className:o,style:f}=e,y=gR(e,["prefixCls","placement","className","style"]),{getPrefixCls:C}=a.useContext(ye.E_),w=C("popconfirm",t),[I]=CE(w);return I(a.createElement(xE.ZP,{placement:s,className:q()(w,o),style:f,content:a.createElement(SE,Object.assign({prefixCls:w},y))}))},yR=function(e,t){var s={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(s[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(s[o[f]]=e[o[f]]);return s};const wE=a.forwardRef((e,t)=>{var s,o;const{prefixCls:f,placement:y="top",trigger:C="click",okType:w="primary",icon:I=a.createElement(Xn.Z,null),children:D,overlayClassName:L,onOpenChange:z,onVisibleChange:k,overlayStyle:j,styles:Z,classNames:G}=e,H=yR(e,["prefixCls","placement","trigger","okType","icon","children","overlayClassName","onOpenChange","onVisibleChange","overlayStyle","styles","classNames"]),{getPrefixCls:X,className:ne,style:oe,classNames:ae,styles:ie}=(0,ye.dj)("popconfirm"),[le,fe]=(0,Cs.Z)(!1,{value:(s=e.open)!==null&&s!==void 0?s:e.visible,defaultValue:(o=e.defaultOpen)!==null&&o!==void 0?o:e.defaultVisible}),me=(je,lt)=>{fe(je,!0),k==null||k(je),z==null||z(je,lt)},ge=je=>{me(!1,je)},xe=je=>{var lt;return(lt=e.onConfirm)===null||lt===void 0?void 0:lt.call(void 0,je)},Me=je=>{var lt;me(!1,je),(lt=e.onCancel)===null||lt===void 0||lt.call(void 0,je)},$e=(je,lt)=>{const{disabled:ht=!1}=e;ht||me(je,lt)},Oe=X("popconfirm",f),He=q()(Oe,ne,L,ae.root,G==null?void 0:G.root),Ne=q()(ae.body,G==null?void 0:G.body),[Ke]=CE(Oe);return Ke(a.createElement(bd.Z,Object.assign({},(0,$a.Z)(H,["title"]),{trigger:C,placement:y,onOpenChange:$e,open:le,ref:t,classNames:{root:He,body:Ne},styles:{root:Object.assign(Object.assign(Object.assign(Object.assign({},ie.root),oe),j),Z==null?void 0:Z.root),body:Object.assign(Object.assign({},ie.body),Z==null?void 0:Z.body)},content:a.createElement(SE,Object.assign({okType:w,icon:I},e,{prefixCls:Oe,close:ge,onConfirm:xe,onCancel:Me})),"data-popover-inject":!0}),D))});wE._InternalPanelDoNotUseOrYouWillBeFired=vR;var _R=wE,QS=B(3642),EE={percent:0,prefixCls:"rc-progress",strokeColor:"#2db7f5",strokeLinecap:"round",strokeWidth:1,trailColor:"#D9D9D9",trailWidth:1,gapPosition:"bottom"},IE=function(){var t=(0,a.useRef)([]),s=(0,a.useRef)(null);return(0,a.useEffect)(function(){var o=Date.now(),f=!1;t.current.forEach(function(y){if(y){f=!0;var C=y.style;C.transitionDuration=".3s, .3s, .3s, .06s",s.current&&o-s.current<100&&(C.transitionDuration="0s, 0s")}}),f&&(s.current=Date.now())}),t.current},bR=["className","percent","prefixCls","strokeColor","strokeLinecap","strokeWidth","style","trailColor","trailWidth","transition"],xR=function(t){var s=(0,Y.Z)((0,Y.Z)({},EE),t),o=s.className,f=s.percent,y=s.prefixCls,C=s.strokeColor,w=s.strokeLinecap,I=s.strokeWidth,D=s.style,L=s.trailColor,z=s.trailWidth,k=s.transition,j=(0,de.Z)(s,bR);delete j.gapPosition;var Z=Array.isArray(f)?f:[f],G=Array.isArray(C)?C:[C],H=IE(),X=I/2,ne=100-I/2,oe="M ".concat(w==="round"?X:0,",").concat(X,`
         L `).concat(w==="round"?ne:100,",").concat(X),ae="0 0 100 ".concat(I),ie=0;return a.createElement("svg",(0,Ge.Z)({className:q()("".concat(y,"-line"),o),viewBox:ae,preserveAspectRatio:"none",style:D},j),a.createElement("path",{className:"".concat(y,"-line-trail"),d:oe,strokeLinecap:w,stroke:L,strokeWidth:z||I,fillOpacity:"0"}),Z.map(function(le,fe){var me=1;switch(w){case"round":me=1-I/100;break;case"square":me=1-I/2/100;break;default:me=1;break}var ge={strokeDasharray:"".concat(le*me,"px, 100px"),strokeDashoffset:"-".concat(ie,"px"),transition:k||"stroke-dashoffset 0.3s ease 0s, stroke-dasharray .3s ease 0s, stroke 0.3s linear"},xe=G[fe]||G[G.length-1];return ie+=le,a.createElement("path",{key:fe,className:"".concat(y,"-line-path"),d:oe,strokeLinecap:w,stroke:xe,strokeWidth:I,fillOpacity:"0",ref:function($e){H[fe]=$e},style:ge})}))},CR=xR,TE=0,SR=(0,Ts.Z)();function wR(){var e;return SR?(e=TE,TE+=1):e="TEST_OR_SSR",e}var ER=function(e){var t=a.useState(),s=(0,Re.Z)(t,2),o=s[0],f=s[1];return a.useEffect(function(){f("rc_progress_".concat(wR()))},[]),e||o},ME=function(t){var s=t.bg,o=t.children;return a.createElement("div",{style:{width:"100%",height:"100%",background:s}},o)};function PE(e,t){return Object.keys(e).map(function(s){var o=parseFloat(s),f="".concat(Math.floor(o*t),"%");return"".concat(e[s]," ").concat(f)})}var IR=a.forwardRef(function(e,t){var s=e.prefixCls,o=e.color,f=e.gradientId,y=e.radius,C=e.style,w=e.ptg,I=e.strokeLinecap,D=e.strokeWidth,L=e.size,z=e.gapDegree,k=o&&(0,nt.Z)(o)==="object",j=k?"#FFF":void 0,Z=L/2,G=a.createElement("circle",{className:"".concat(s,"-circle-path"),r:y,cx:Z,cy:Z,stroke:j,strokeLinecap:I,strokeWidth:D,opacity:w===0?0:1,style:C,ref:t});if(!k)return G;var H="".concat(f,"-conic"),X=z?"".concat(180+z/2,"deg"):"0deg",ne=PE(o,(360-z)/360),oe=PE(o,1),ae="conic-gradient(from ".concat(X,", ").concat(ne.join(", "),")"),ie="linear-gradient(to ".concat(z?"bottom":"top",", ").concat(oe.join(", "),")");return a.createElement(a.Fragment,null,a.createElement("mask",{id:H},G),a.createElement("foreignObject",{x:0,y:0,width:L,height:L,mask:"url(#".concat(H,")")},a.createElement(ME,{bg:ie},a.createElement(ME,{bg:ae}))))}),TR=IR,$_=100,ew=function(t,s,o,f,y,C,w,I,D,L){var z=arguments.length>10&&arguments[10]!==void 0?arguments[10]:0,k=o/100*360*((360-C)/360),j=C===0?0:{bottom:0,top:180,left:90,right:-90}[w],Z=(100-f)/100*s;D==="round"&&f!==100&&(Z+=L/2,Z>=s&&(Z=s-.01));var G=$_/2;return{stroke:typeof I=="string"?I:void 0,strokeDasharray:"".concat(s,"px ").concat(t),strokeDashoffset:Z+z,transform:"rotate(".concat(y+k+j,"deg)"),transformOrigin:"".concat(G,"px ").concat(G,"px"),transition:"stroke-dashoffset .3s ease 0s, stroke-dasharray .3s ease 0s, stroke .3s, stroke-width .06s ease .3s, opacity .3s ease 0s",fillOpacity:0}},MR=["id","prefixCls","steps","strokeWidth","trailWidth","gapDegree","gapPosition","trailColor","strokeLinecap","style","className","strokeColor","percent"];function OE(e){var t=e!=null?e:[];return Array.isArray(t)?t:[t]}var PR=function(t){var s=(0,Y.Z)((0,Y.Z)({},EE),t),o=s.id,f=s.prefixCls,y=s.steps,C=s.strokeWidth,w=s.trailWidth,I=s.gapDegree,D=I===void 0?0:I,L=s.gapPosition,z=s.trailColor,k=s.strokeLinecap,j=s.style,Z=s.className,G=s.strokeColor,H=s.percent,X=(0,de.Z)(s,MR),ne=$_/2,oe=ER(o),ae="".concat(oe,"-gradient"),ie=ne-C/2,le=Math.PI*2*ie,fe=D>0?90+D/2:-90,me=le*((360-D)/360),ge=(0,nt.Z)(y)==="object"?y:{count:y,gap:2},xe=ge.count,Me=ge.gap,$e=OE(H),Oe=OE(G),He=Oe.find(function(Tt){return Tt&&(0,nt.Z)(Tt)==="object"}),Ne=He&&(0,nt.Z)(He)==="object",Ke=Ne?"butt":k,je=ew(le,me,0,100,fe,D,L,z,Ke,C),lt=IE(),ht=function(){var wt=0;return $e.map(function(_t,At){var Bt=Oe[At]||Oe[Oe.length-1],Dt=ew(le,me,wt,_t,fe,D,L,Bt,Ke,C);return wt+=_t,a.createElement(TR,{key:At,color:Bt,ptg:_t,radius:ie,prefixCls:f,gradientId:ae,style:Dt,strokeLinecap:Ke,strokeWidth:C,gapDegree:D,ref:function(Pt){lt[At]=Pt},size:$_})}).reverse()},It=function(){var wt=Math.round(xe*($e[0]/100)),_t=100/xe,At=0;return new Array(xe).fill(null).map(function(Bt,Dt){var Gt=Dt<=wt-1?Oe[0]:z,Pt=Gt&&(0,nt.Z)(Gt)==="object"?"url(#".concat(ae,")"):void 0,Pn=ew(le,me,At,_t,fe,D,L,Gt,"butt",C,Me);return At+=(me-Pn.strokeDashoffset+Me)*100/me,a.createElement("circle",{key:Dt,className:"".concat(f,"-circle-path"),r:ie,cx:ne,cy:ne,stroke:Pt,strokeWidth:C,opacity:1,style:Pn,ref:function(_n){lt[Dt]=_n}})})};return a.createElement("svg",(0,Ge.Z)({className:q()("".concat(f,"-circle"),Z),viewBox:"0 0 ".concat($_," ").concat($_),style:j,id:o,role:"presentation"},X),!xe&&a.createElement("circle",{className:"".concat(f,"-circle-trail"),r:ie,cx:ne,cy:ne,stroke:z,strokeLinecap:Ke,strokeWidth:w||C,style:je}),xe?It():ht())},RE=PR,YF={Line:CR,Circle:RE},um=B(68640);function dm(e){return!e||e<0?0:e>100?100:e}function wx(e){let{success:t,successPercent:s}=e,o=s;return t&&"progress"in t&&(o=t.progress),t&&"percent"in t&&(o=t.percent),o}const OR=e=>{let{percent:t,success:s,successPercent:o}=e;const f=dm(wx({success:s,successPercent:o}));return[f,dm(dm(t)-f)]},RR=e=>{let{success:t={},strokeColor:s}=e;const{strokeColor:o}=t;return[o||um.ez.green,s||null]},Ex=(e,t,s)=>{var o,f,y,C;let w=-1,I=-1;if(t==="step"){const D=s.steps,L=s.strokeWidth;typeof e=="string"||typeof e=="undefined"?(w=e==="small"?2:14,I=L!=null?L:8):typeof e=="number"?[w,I]=[e,e]:[w=14,I=8]=Array.isArray(e)?e:[e.width,e.height],w*=D}else if(t==="line"){const D=s==null?void 0:s.strokeWidth;typeof e=="string"||typeof e=="undefined"?I=D||(e==="small"?6:8):typeof e=="number"?[w,I]=[e,e]:[w=-1,I=8]=Array.isArray(e)?e:[e.width,e.height]}else(t==="circle"||t==="dashboard")&&(typeof e=="string"||typeof e=="undefined"?[w,I]=e==="small"?[60,60]:[120,120]:typeof e=="number"?[w,I]=[e,e]:Array.isArray(e)&&(w=(f=(o=e[0])!==null&&o!==void 0?o:e[1])!==null&&f!==void 0?f:120,I=(C=(y=e[0])!==null&&y!==void 0?y:e[1])!==null&&C!==void 0?C:120));return[w,I]},$R=3,AR=e=>$R/e*100;var DR=e=>{const{prefixCls:t,trailColor:s=null,strokeLinecap:o="round",gapPosition:f,gapDegree:y,width:C=120,type:w,children:I,success:D,size:L=C,steps:z}=e,[k,j]=Ex(L,"circle");let{strokeWidth:Z}=e;Z===void 0&&(Z=Math.max(AR(k),6));const G={width:k,height:j,fontSize:k*.15+6},H=a.useMemo(()=>{if(y||y===0)return y;if(w==="dashboard")return 75},[y,w]),X=OR(e),ne=f||w==="dashboard"&&"bottom"||void 0,oe=Object.prototype.toString.call(e.strokeColor)==="[object Object]",ae=RR({success:D,strokeColor:e.strokeColor}),ie=q()(`${t}-inner`,{[`${t}-circle-gradient`]:oe}),le=a.createElement(RE,{steps:z,percent:z?X[1]:X,strokeWidth:Z,trailWidth:Z,strokeColor:z?ae[1]:ae,strokeLinecap:o,trailColor:s,prefixCls:t,gapDegree:H,gapPosition:ne}),fe=k<=20,me=a.createElement("div",{className:ie,style:G},le,!fe&&I);return fe?a.createElement(qr.Z,{title:I},me):me};const Ix="--progress-line-stroke-color",$E="--progress-percent",AE=e=>{const t=e?"100%":"-100%";return new he.E4(`antProgress${e?"RTL":"LTR"}Active`,{"0%":{transform:`translateX(${t}) scaleX(0)`,opacity:.1},"20%":{transform:`translateX(${t}) scaleX(0)`,opacity:.5},to:{transform:"translateX(0) scaleX(1)",opacity:0}})},LR=e=>{const{componentCls:t,iconCls:s}=e;return{[t]:Object.assign(Object.assign({},(0,Qt.Wf)(e)),{display:"inline-block","&-rtl":{direction:"rtl"},"&-line":{position:"relative",width:"100%",fontSize:e.fontSize},[`${t}-outer`]:{display:"inline-flex",alignItems:"center",width:"100%"},[`${t}-inner`]:{position:"relative",display:"inline-block",width:"100%",flex:1,overflow:"hidden",verticalAlign:"middle",backgroundColor:e.remainingColor,borderRadius:e.lineBorderRadius},[`${t}-inner:not(${t}-circle-gradient)`]:{[`${t}-circle-path`]:{stroke:e.defaultColor}},[`${t}-success-bg, ${t}-bg`]:{position:"relative",background:e.defaultColor,borderRadius:e.lineBorderRadius,transition:`all ${e.motionDurationSlow} ${e.motionEaseInOutCirc}`},[`${t}-layout-bottom`]:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",[`${t}-text`]:{width:"max-content",marginInlineStart:0,marginTop:e.marginXXS}},[`${t}-bg`]:{overflow:"hidden","&::after":{content:'""',background:{_multi_value_:!0,value:["inherit",`var(${Ix})`]},height:"100%",width:`calc(1 / var(${$E}) * 100%)`,display:"block"},[`&${t}-bg-inner`]:{minWidth:"max-content","&::after":{content:"none"},[`${t}-text-inner`]:{color:e.colorWhite,[`&${t}-text-bright`]:{color:"rgba(0, 0, 0, 0.45)"}}}},[`${t}-success-bg`]:{position:"absolute",insetBlockStart:0,insetInlineStart:0,backgroundColor:e.colorSuccess},[`${t}-text`]:{display:"inline-block",marginInlineStart:e.marginXS,color:e.colorText,lineHeight:1,width:"2em",whiteSpace:"nowrap",textAlign:"start",verticalAlign:"middle",wordBreak:"normal",[s]:{fontSize:e.fontSize},[`&${t}-text-outer`]:{width:"max-content"},[`&${t}-text-outer${t}-text-start`]:{width:"max-content",marginInlineStart:0,marginInlineEnd:e.marginXS}},[`${t}-text-inner`]:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",height:"100%",marginInlineStart:0,padding:`0 ${(0,he.bf)(e.paddingXXS)}`,[`&${t}-text-start`]:{justifyContent:"start"},[`&${t}-text-end`]:{justifyContent:"end"}},[`&${t}-status-active`]:{[`${t}-bg::before`]:{position:"absolute",inset:0,backgroundColor:e.colorBgContainer,borderRadius:e.lineBorderRadius,opacity:0,animationName:AE(),animationDuration:e.progressActiveMotionDuration,animationTimingFunction:e.motionEaseOutQuint,animationIterationCount:"infinite",content:'""'}},[`&${t}-rtl${t}-status-active`]:{[`${t}-bg::before`]:{animationName:AE(!0)}},[`&${t}-status-exception`]:{[`${t}-bg`]:{backgroundColor:e.colorError},[`${t}-text`]:{color:e.colorError}},[`&${t}-status-exception ${t}-inner:not(${t}-circle-gradient)`]:{[`${t}-circle-path`]:{stroke:e.colorError}},[`&${t}-status-success`]:{[`${t}-bg`]:{backgroundColor:e.colorSuccess},[`${t}-text`]:{color:e.colorSuccess}},[`&${t}-status-success ${t}-inner:not(${t}-circle-gradient)`]:{[`${t}-circle-path`]:{stroke:e.colorSuccess}}})}},zR=e=>{const{componentCls:t,iconCls:s}=e;return{[t]:{[`${t}-circle-trail`]:{stroke:e.remainingColor},[`&${t}-circle ${t}-inner`]:{position:"relative",lineHeight:1,backgroundColor:"transparent"},[`&${t}-circle ${t}-text`]:{position:"absolute",insetBlockStart:"50%",insetInlineStart:0,width:"100%",margin:0,padding:0,color:e.circleTextColor,fontSize:e.circleTextFontSize,lineHeight:1,whiteSpace:"normal",textAlign:"center",transform:"translateY(-50%)",[s]:{fontSize:e.circleIconFontSize}},[`${t}-circle&-status-exception`]:{[`${t}-text`]:{color:e.colorError}},[`${t}-circle&-status-success`]:{[`${t}-text`]:{color:e.colorSuccess}}},[`${t}-inline-circle`]:{lineHeight:1,[`${t}-inner`]:{verticalAlign:"bottom"}}}},NR=e=>{const{componentCls:t}=e;return{[t]:{[`${t}-steps`]:{display:"inline-block","&-outer":{display:"flex",flexDirection:"row",alignItems:"center"},"&-item":{flexShrink:0,minWidth:e.progressStepMinWidth,marginInlineEnd:e.progressStepMarginInlineEnd,backgroundColor:e.remainingColor,transition:`all ${e.motionDurationSlow}`,"&-active":{backgroundColor:e.defaultColor}}}}}},BR=e=>{const{componentCls:t,iconCls:s}=e;return{[t]:{[`${t}-small&-line, ${t}-small&-line ${t}-text ${s}`]:{fontSize:e.fontSizeSM}}}},FR=e=>({circleTextColor:e.colorText,defaultColor:e.colorInfo,remainingColor:e.colorFillSecondary,lineBorderRadius:100,circleTextFontSize:"1em",circleIconFontSize:`${e.fontSize/e.fontSizeSM}em`});var kR=(0,te.I$)("Progress",e=>{const t=e.calc(e.marginXXS).div(2).equal(),s=(0,ci.IX)(e,{progressStepMarginInlineEnd:t,progressStepMinWidth:t,progressActiveMotionDuration:"2.4s"});return[LR(s),zR(s),NR(s),BR(s)]},FR),ZR=function(e,t){var s={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(s[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(s[o[f]]=e[o[f]]);return s};const jR=e=>{let t=[];return Object.keys(e).forEach(s=>{const o=parseFloat(s.replace(/%/g,""));Number.isNaN(o)||t.push({key:o,value:e[s]})}),t=t.sort((s,o)=>s.key-o.key),t.map(s=>{let{key:o,value:f}=s;return`${f} ${o}%`}).join(", ")},VR=(e,t)=>{const{from:s=um.ez.blue,to:o=um.ez.blue,direction:f=t==="rtl"?"to left":"to right"}=e,y=ZR(e,["from","to","direction"]);if(Object.keys(y).length!==0){const w=jR(y),I=`linear-gradient(${f}, ${w})`;return{background:I,[Ix]:I}}const C=`linear-gradient(${f}, ${s}, ${o})`;return{background:C,[Ix]:C}};var HR=e=>{const{prefixCls:t,direction:s,percent:o,size:f,strokeWidth:y,strokeColor:C,strokeLinecap:w="round",children:I,trailColor:D=null,percentPosition:L,success:z}=e,{align:k,type:j}=L,Z=C&&typeof C!="string"?VR(C,s):{[Ix]:C,background:C},G=w==="square"||w==="butt"?0:void 0,H=f!=null?f:[-1,y||(f==="small"?6:8)],[X,ne]=Ex(H,"line",{strokeWidth:y}),oe={backgroundColor:D||void 0,borderRadius:G},ae=Object.assign(Object.assign({width:`${dm(o)}%`,height:ne,borderRadius:G},Z),{[$E]:dm(o)/100}),ie=wx(e),le={width:`${dm(ie)}%`,height:ne,borderRadius:G,backgroundColor:z==null?void 0:z.strokeColor},fe={width:X<0?"100%":X},me=a.createElement("div",{className:`${t}-inner`,style:oe},a.createElement("div",{className:q()(`${t}-bg`,`${t}-bg-${j}`),style:ae},j==="inner"&&I),ie!==void 0&&a.createElement("div",{className:`${t}-success-bg`,style:le})),ge=j==="outer"&&k==="start",xe=j==="outer"&&k==="end";return j==="outer"&&k==="center"?a.createElement("div",{className:`${t}-layout-bottom`},me,I):a.createElement("div",{className:`${t}-outer`,style:fe},ge&&I,me,xe&&I)},UR=e=>{const{size:t,steps:s,rounding:o=Math.round,percent:f=0,strokeWidth:y=8,strokeColor:C,trailColor:w=null,prefixCls:I,children:D}=e,L=o(s*(f/100)),z=t==="small"?2:14,k=t!=null?t:[z,y],[j,Z]=Ex(k,"step",{steps:s,strokeWidth:y}),G=j/s,H=Array.from({length:s});for(let X=0;X<s;X++){const ne=Array.isArray(C)?C[X]:C;H[X]=a.createElement("div",{key:X,className:q()(`${I}-steps-item`,{[`${I}-steps-item-active`]:X<=L-1}),style:{backgroundColor:X<=L-1?ne:w,width:G,height:Z}})}return a.createElement("div",{className:`${I}-steps-outer`},H,D)},WR=function(e,t){var s={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(s[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(s[o[f]]=e[o[f]]);return s};const e8=null,GR=["normal","exception","active","success"];var KR=a.forwardRef((e,t)=>{const{prefixCls:s,className:o,rootClassName:f,steps:y,strokeColor:C,percent:w=0,size:I="default",showInfo:D=!0,type:L="line",status:z,format:k,style:j,percentPosition:Z={}}=e,G=WR(e,["prefixCls","className","rootClassName","steps","strokeColor","percent","size","showInfo","type","status","format","style","percentPosition"]),{align:H="end",type:X="outer"}=Z,ne=Array.isArray(C)?C[0]:C,oe=typeof C=="string"||Array.isArray(C)?C:void 0,ae=a.useMemo(()=>{if(ne){const ht=typeof ne=="string"?ne:Object.values(ne)[0];return new mo.t(ht).isLight()}return!1},[C]),ie=a.useMemo(()=>{var ht,It;const Tt=wx(e);return parseInt(Tt!==void 0?(ht=Tt!=null?Tt:0)===null||ht===void 0?void 0:ht.toString():(It=w!=null?w:0)===null||It===void 0?void 0:It.toString(),10)},[w,e.success,e.successPercent]),le=a.useMemo(()=>!GR.includes(z)&&ie>=100?"success":z||"normal",[z,ie]),{getPrefixCls:fe,direction:me,progress:ge}=a.useContext(ye.E_),xe=fe("progress",s),[Me,$e,Oe]=kR(xe),He=L==="line",Ne=He&&!y,Ke=a.useMemo(()=>{if(!D)return null;const ht=wx(e);let It;const Tt=k||(_t=>`${_t}%`),wt=He&&ae&&X==="inner";return X==="inner"||k||le!=="exception"&&le!=="success"?It=Tt(dm(w),dm(ht)):le==="exception"?It=He?a.createElement(yr.Z,null):a.createElement(lr.Z,null):le==="success"&&(It=He?a.createElement(Vt.Z,null):a.createElement(QS.Z,null)),a.createElement("span",{className:q()(`${xe}-text`,{[`${xe}-text-bright`]:wt,[`${xe}-text-${H}`]:Ne,[`${xe}-text-${X}`]:Ne}),title:typeof It=="string"?It:void 0},It)},[D,w,ie,le,L,xe,k]);let je;L==="line"?je=y?a.createElement(UR,Object.assign({},e,{strokeColor:oe,prefixCls:xe,steps:typeof y=="object"?y.count:y}),Ke):a.createElement(HR,Object.assign({},e,{strokeColor:ne,prefixCls:xe,direction:me,percentPosition:{align:H,type:X}}),Ke):(L==="circle"||L==="dashboard")&&(je=a.createElement(DR,Object.assign({},e,{strokeColor:ne,prefixCls:xe,progressStatus:le}),Ke));const lt=q()(xe,`${xe}-status-${le}`,{[`${xe}-${L==="dashboard"&&"circle"||L}`]:L!=="line",[`${xe}-inline-circle`]:L==="circle"&&Ex(I,"circle")[0]<=20,[`${xe}-line`]:Ne,[`${xe}-line-align-${H}`]:Ne,[`${xe}-line-position-${X}`]:Ne,[`${xe}-steps`]:y,[`${xe}-show-info`]:D,[`${xe}-${I}`]:typeof I=="string",[`${xe}-rtl`]:me==="rtl"},ge==null?void 0:ge.className,o,f,$e,Oe);return Me(a.createElement("div",Object.assign({ref:t,style:Object.assign(Object.assign({},ge==null?void 0:ge.style),j),className:lt,role:"progressbar","aria-valuenow":ie,"aria-valuemin":0,"aria-valuemax":100},(0,$a.Z)(G,["trailColor","strokeWidth","width","gapDegree","gapPosition","strokeLinecap","success","successPercent"])),je))}),tw=KR,XR=B(62851);function Fg(e,t){var s=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!s){if(Array.isArray(e)||(s=(0,XR.Z)(e))||t&&e&&typeof e.length=="number"){s&&(e=s);var o=0,f=function(){};return{s:f,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(D){throw D},f}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var y,C=!0,w=!1;return{s:function(){s=s.call(e)},n:function(){var D=s.next();return C=D.done,D},e:function(D){w=!0,y=D},f:function(){try{C||s.return==null||s.return()}finally{if(w)throw y}}}}var _v,A_;function ku(e,t,s){if(t<0||t>31||e>>>t)throw new RangeError("Value out of range");for(var o=t-1;o>=0;o--)s.push(e>>>o&1)}function Wh(e,t){return(e>>>t&1)!=0}function dd(e){if(!e)throw new Error("Assertion error")}var oh=function(){function e(t,s){(0,Dn.Z)(this,e),(0,pe.Z)(this,"modeBits",void 0),(0,pe.Z)(this,"numBitsCharCount",void 0),this.modeBits=t,this.numBitsCharCount=s}return(0,pn.Z)(e,[{key:"numCharCountBits",value:function(s){return this.numBitsCharCount[Math.floor((s+7)/17)]}}]),e}();_v=oh,(0,pe.Z)(oh,"NUMERIC",new _v(1,[10,12,14])),(0,pe.Z)(oh,"ALPHANUMERIC",new _v(2,[9,11,13])),(0,pe.Z)(oh,"BYTE",new _v(4,[8,16,16])),(0,pe.Z)(oh,"KANJI",new _v(8,[8,10,12])),(0,pe.Z)(oh,"ECI",new _v(7,[0,0,0]));var Fd=(0,pn.Z)(function e(t,s){(0,Dn.Z)(this,e),(0,pe.Z)(this,"ordinal",void 0),(0,pe.Z)(this,"formatBits",void 0),this.ordinal=t,this.formatBits=s});A_=Fd,(0,pe.Z)(Fd,"LOW",new A_(0,1)),(0,pe.Z)(Fd,"MEDIUM",new A_(1,0)),(0,pe.Z)(Fd,"QUARTILE",new A_(2,3)),(0,pe.Z)(Fd,"HIGH",new A_(3,2));var kg=function(){function e(t,s,o){if((0,Dn.Z)(this,e),(0,pe.Z)(this,"mode",void 0),(0,pe.Z)(this,"numChars",void 0),(0,pe.Z)(this,"bitData",void 0),this.mode=t,this.numChars=s,this.bitData=o,s<0)throw new RangeError("Invalid argument");this.bitData=o.slice()}return(0,pn.Z)(e,[{key:"getData",value:function(){return this.bitData.slice()}}],[{key:"makeBytes",value:function(s){var o=[],f=Fg(s),y;try{for(f.s();!(y=f.n()).done;){var C=y.value;ku(C,8,o)}}catch(w){f.e(w)}finally{f.f()}return new e(oh.BYTE,s.length,o)}},{key:"makeNumeric",value:function(s){if(!e.isNumeric(s))throw new RangeError("String contains non-numeric characters");for(var o=[],f=0;f<s.length;){var y=Math.min(s.length-f,3);ku(parseInt(s.substring(f,f+y),10),y*3+1,o),f+=y}return new e(oh.NUMERIC,s.length,o)}},{key:"makeAlphanumeric",value:function(s){if(!e.isAlphanumeric(s))throw new RangeError("String contains unencodable characters in alphanumeric mode");var o=[],f;for(f=0;f+2<=s.length;f+=2){var y=e.ALPHANUMERIC_CHARSET.indexOf(s.charAt(f))*45;y+=e.ALPHANUMERIC_CHARSET.indexOf(s.charAt(f+1)),ku(y,11,o)}return f<s.length&&ku(e.ALPHANUMERIC_CHARSET.indexOf(s.charAt(f)),6,o),new e(oh.ALPHANUMERIC,s.length,o)}},{key:"makeSegments",value:function(s){return s==""?[]:e.isNumeric(s)?[e.makeNumeric(s)]:e.isAlphanumeric(s)?[e.makeAlphanumeric(s)]:[e.makeBytes(e.toUtf8ByteArray(s))]}},{key:"makeEci",value:function(s){var o=[];if(s<0)throw new RangeError("ECI assignment value out of range");if(s<128)ku(s,8,o);else if(s<16384)ku(2,2,o),ku(s,14,o);else if(s<1e6)ku(6,3,o),ku(s,21,o);else throw new RangeError("ECI assignment value out of range");return new e(oh.ECI,0,o)}},{key:"isNumeric",value:function(s){return e.NUMERIC_REGEX.test(s)}},{key:"isAlphanumeric",value:function(s){return e.ALPHANUMERIC_REGEX.test(s)}},{key:"getTotalBits",value:function(s,o){var f=0,y=Fg(s),C;try{for(y.s();!(C=y.n()).done;){var w=C.value,I=w.mode.numCharCountBits(o);if(w.numChars>=1<<I)return 1/0;f+=4+I+w.bitData.length}}catch(D){y.e(D)}finally{y.f()}return f}},{key:"toUtf8ByteArray",value:function(s){for(var o=encodeURI(s),f=[],y=0;y<o.length;y++)o.charAt(y)!="%"?f.push(o.charCodeAt(y)):(f.push(parseInt(o.substring(y+1,y+3),16)),y+=2);return f}}]),e}();(0,pe.Z)(kg,"NUMERIC_REGEX",/^[0-9]*$/),(0,pe.Z)(kg,"ALPHANUMERIC_REGEX",/^[A-Z0-9 $%*+.\/:-]*$/),(0,pe.Z)(kg,"ALPHANUMERIC_CHARSET","0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:");var Gh=function(){function e(t,s,o,f){(0,Dn.Z)(this,e),(0,pe.Z)(this,"size",void 0),(0,pe.Z)(this,"mask",void 0),(0,pe.Z)(this,"modules",[]),(0,pe.Z)(this,"isFunction",[]),(0,pe.Z)(this,"version",void 0),(0,pe.Z)(this,"errorCorrectionLevel",void 0);var y=f;if(this.version=t,this.errorCorrectionLevel=s,t<e.MIN_VERSION||t>e.MAX_VERSION)throw new RangeError("Version value out of range");if(y<-1||y>7)throw new RangeError("Mask value out of range");this.size=t*4+17;for(var C=[],w=0;w<this.size;w++)C.push(!1);for(var I=0;I<this.size;I++)this.modules.push(C.slice()),this.isFunction.push(C.slice());this.drawFunctionPatterns();var D=this.addEccAndInterleave(o);if(this.drawCodewords(D),y==-1)for(var L=1e9,z=0;z<8;z++){this.applyMask(z),this.drawFormatBits(z);var k=this.getPenaltyScore();k<L&&(y=z,L=k),this.applyMask(z)}dd(0<=y&&y<=7),this.mask=y,this.applyMask(y),this.drawFormatBits(y),this.isFunction=[]}return(0,pn.Z)(e,[{key:"getModule",value:function(s,o){return 0<=s&&s<this.size&&0<=o&&o<this.size&&this.modules[o][s]}},{key:"getModules",value:function(){return this.modules}},{key:"drawFunctionPatterns",value:function(){for(var s=0;s<this.size;s++)this.setFunctionModule(6,s,s%2==0),this.setFunctionModule(s,6,s%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);for(var o=this.getAlignmentPatternPositions(),f=o.length,y=0;y<f;y++)for(var C=0;C<f;C++)y==0&&C==0||y==0&&C==f-1||y==f-1&&C==0||this.drawAlignmentPattern(o[y],o[C]);this.drawFormatBits(0),this.drawVersion()}},{key:"drawFormatBits",value:function(s){for(var o=this.errorCorrectionLevel.formatBits<<3|s,f=o,y=0;y<10;y++)f=f<<1^(f>>>9)*1335;var C=(o<<10|f)^21522;dd(C>>>15==0);for(var w=0;w<=5;w++)this.setFunctionModule(8,w,Wh(C,w));this.setFunctionModule(8,7,Wh(C,6)),this.setFunctionModule(8,8,Wh(C,7)),this.setFunctionModule(7,8,Wh(C,8));for(var I=9;I<15;I++)this.setFunctionModule(14-I,8,Wh(C,I));for(var D=0;D<8;D++)this.setFunctionModule(this.size-1-D,8,Wh(C,D));for(var L=8;L<15;L++)this.setFunctionModule(8,this.size-15+L,Wh(C,L));this.setFunctionModule(8,this.size-8,!0)}},{key:"drawVersion",value:function(){if(!(this.version<7)){for(var s=this.version,o=0;o<12;o++)s=s<<1^(s>>>11)*7973;var f=this.version<<12|s;dd(f>>>18==0);for(var y=0;y<18;y++){var C=Wh(f,y),w=this.size-11+y%3,I=Math.floor(y/3);this.setFunctionModule(w,I,C),this.setFunctionModule(I,w,C)}}}},{key:"drawFinderPattern",value:function(s,o){for(var f=-4;f<=4;f++)for(var y=-4;y<=4;y++){var C=Math.max(Math.abs(y),Math.abs(f)),w=s+y,I=o+f;0<=w&&w<this.size&&0<=I&&I<this.size&&this.setFunctionModule(w,I,C!=2&&C!=4)}}},{key:"drawAlignmentPattern",value:function(s,o){for(var f=-2;f<=2;f++)for(var y=-2;y<=2;y++)this.setFunctionModule(s+y,o+f,Math.max(Math.abs(y),Math.abs(f))!=1)}},{key:"setFunctionModule",value:function(s,o,f){this.modules[o][s]=f,this.isFunction[o][s]=!0}},{key:"addEccAndInterleave",value:function(s){var o=this.version,f=this.errorCorrectionLevel;if(s.length!=e.getNumDataCodewords(o,f))throw new RangeError("Invalid argument");for(var y=e.NUM_ERROR_CORRECTION_BLOCKS[f.ordinal][o],C=e.ECC_CODEWORDS_PER_BLOCK[f.ordinal][o],w=Math.floor(e.getNumRawDataModules(o)/8),I=y-w%y,D=Math.floor(w/y),L=[],z=e.reedSolomonComputeDivisor(C),k=0,j=0;k<y;k++){var Z=s.slice(j,j+D-C+(k<I?0:1));j+=Z.length;var G=e.reedSolomonComputeRemainder(Z,z);k<I&&Z.push(0),L.push(Z.concat(G))}for(var H=[],X=function(ae){L.forEach(function(ie,le){(ae!=D-C||le>=I)&&H.push(ie[ae])})},ne=0;ne<L[0].length;ne++)X(ne);return dd(H.length==w),H}},{key:"drawCodewords",value:function(s){if(s.length!=Math.floor(e.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");for(var o=0,f=this.size-1;f>=1;f-=2){f==6&&(f=5);for(var y=0;y<this.size;y++)for(var C=0;C<2;C++){var w=f-C,I=(f+1&2)==0,D=I?this.size-1-y:y;!this.isFunction[D][w]&&o<s.length*8&&(this.modules[D][w]=Wh(s[o>>>3],7-(o&7)),o++)}}dd(o==s.length*8)}},{key:"applyMask",value:function(s){if(s<0||s>7)throw new RangeError("Mask value out of range");for(var o=0;o<this.size;o++)for(var f=0;f<this.size;f++){var y=void 0;switch(s){case 0:y=(f+o)%2==0;break;case 1:y=o%2==0;break;case 2:y=f%3==0;break;case 3:y=(f+o)%3==0;break;case 4:y=(Math.floor(f/3)+Math.floor(o/2))%2==0;break;case 5:y=f*o%2+f*o%3==0;break;case 6:y=(f*o%2+f*o%3)%2==0;break;case 7:y=((f+o)%2+f*o%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[o][f]&&y&&(this.modules[o][f]=!this.modules[o][f])}}},{key:"getPenaltyScore",value:function(){for(var s=0,o=0;o<this.size;o++){for(var f=!1,y=0,C=[0,0,0,0,0,0,0],w=0;w<this.size;w++)this.modules[o][w]==f?(y++,y==5?s+=e.PENALTY_N1:y>5&&s++):(this.finderPenaltyAddHistory(y,C),f||(s+=this.finderPenaltyCountPatterns(C)*e.PENALTY_N3),f=this.modules[o][w],y=1);s+=this.finderPenaltyTerminateAndCount(f,y,C)*e.PENALTY_N3}for(var I=0;I<this.size;I++){for(var D=!1,L=0,z=[0,0,0,0,0,0,0],k=0;k<this.size;k++)this.modules[k][I]==D?(L++,L==5?s+=e.PENALTY_N1:L>5&&s++):(this.finderPenaltyAddHistory(L,z),D||(s+=this.finderPenaltyCountPatterns(z)*e.PENALTY_N3),D=this.modules[k][I],L=1);s+=this.finderPenaltyTerminateAndCount(D,L,z)*e.PENALTY_N3}for(var j=0;j<this.size-1;j++)for(var Z=0;Z<this.size-1;Z++){var G=this.modules[j][Z];G==this.modules[j][Z+1]&&G==this.modules[j+1][Z]&&G==this.modules[j+1][Z+1]&&(s+=e.PENALTY_N2)}var H=0,X=Fg(this.modules),ne;try{for(X.s();!(ne=X.n()).done;){var oe=ne.value;H=oe.reduce(function(le,fe){return le+(fe?1:0)},H)}}catch(le){X.e(le)}finally{X.f()}var ae=this.size*this.size,ie=Math.ceil(Math.abs(H*20-ae*10)/ae)-1;return dd(0<=ie&&ie<=9),s+=ie*e.PENALTY_N4,dd(0<=s&&s<=2568888),s}},{key:"getAlignmentPatternPositions",value:function(){if(this.version==1)return[];for(var s=Math.floor(this.version/7)+2,o=this.version==32?26:Math.ceil((this.version*4+4)/(s*2-2))*2,f=[6],y=this.size-7;f.length<s;y-=o)f.splice(1,0,y);return f}},{key:"finderPenaltyCountPatterns",value:function(s){var o=s[1];dd(o<=this.size*3);var f=o>0&&s[2]==o&&s[3]==o*3&&s[4]==o&&s[5]==o;return(f&&s[0]>=o*4&&s[6]>=o?1:0)+(f&&s[6]>=o*4&&s[0]>=o?1:0)}},{key:"finderPenaltyTerminateAndCount",value:function(s,o,f){var y=o;return s&&(this.finderPenaltyAddHistory(y,f),y=0),y+=this.size,this.finderPenaltyAddHistory(y,f),this.finderPenaltyCountPatterns(f)}},{key:"finderPenaltyAddHistory",value:function(s,o){var f=s;o[0]==0&&(f+=this.size),o.pop(),o.unshift(f)}}],[{key:"encodeText",value:function(s,o){var f=kg.makeSegments(s);return e.encodeSegments(f,o)}},{key:"encodeBinary",value:function(s,o){var f=kg.makeBytes(s);return e.encodeSegments([f],o)}},{key:"encodeSegments",value:function(s,o){var f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,y=arguments.length>3&&arguments[3]!==void 0?arguments[3]:40,C=arguments.length>4&&arguments[4]!==void 0?arguments[4]:-1,w=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0;if(!(e.MIN_VERSION<=f&&f<=y&&y<=e.MAX_VERSION)||C<-1||C>7)throw new RangeError("Invalid value");var I,D;for(I=f;;I++){var L=e.getNumDataCodewords(I,o)*8,z=kg.getTotalBits(s,I);if(z<=L){D=z;break}if(I>=y)throw new RangeError("Data too long")}for(var k=o,j=0,Z=[Fd.MEDIUM,Fd.QUARTILE,Fd.HIGH];j<Z.length;j++){var G=Z[j];w&&D<=e.getNumDataCodewords(I,G)*8&&(k=G)}var H=[],X=Fg(s),ne;try{for(X.s();!(ne=X.n()).done;){var oe=ne.value;ku(oe.mode.modeBits,4,H),ku(oe.numChars,oe.mode.numCharCountBits(I),H);var ae=Fg(oe.getData()),ie;try{for(ae.s();!(ie=ae.n()).done;){var le=ie.value;H.push(le)}}catch(xe){ae.e(xe)}finally{ae.f()}}}catch(xe){X.e(xe)}finally{X.f()}dd(H.length==D);var fe=e.getNumDataCodewords(I,k)*8;dd(H.length<=fe),ku(0,Math.min(4,fe-H.length),H),ku(0,(8-H.length%8)%8,H),dd(H.length%8==0);for(var me=236;H.length<fe;me^=253)ku(me,8,H);for(var ge=[];ge.length*8<H.length;)ge.push(0);return H.forEach(function(xe,Me){return ge[Me>>>3]|=xe<<7-(Me&7)}),new e(I,k,ge,C)}},{key:"getNumRawDataModules",value:function(s){if(s<e.MIN_VERSION||s>e.MAX_VERSION)throw new RangeError("Version number out of range");var o=(16*s+128)*s+64;if(s>=2){var f=Math.floor(s/7)+2;o-=(25*f-10)*f-55,s>=7&&(o-=36)}return dd(208<=o&&o<=29648),o}},{key:"getNumDataCodewords",value:function(s,o){return Math.floor(e.getNumRawDataModules(s)/8)-e.ECC_CODEWORDS_PER_BLOCK[o.ordinal][s]*e.NUM_ERROR_CORRECTION_BLOCKS[o.ordinal][s]}},{key:"reedSolomonComputeDivisor",value:function(s){if(s<1||s>255)throw new RangeError("Degree out of range");for(var o=[],f=0;f<s-1;f++)o.push(0);o.push(1);for(var y=1,C=0;C<s;C++){for(var w=0;w<o.length;w++)o[w]=e.reedSolomonMultiply(o[w],y),w+1<o.length&&(o[w]^=o[w+1]);y=e.reedSolomonMultiply(y,2)}return o}},{key:"reedSolomonComputeRemainder",value:function(s,o){var f=o.map(function(){return 0}),y=Fg(s),C;try{var w=function(){var D=C.value,L=D^f.shift();f.push(0),o.forEach(function(z,k){return f[k]^=e.reedSolomonMultiply(z,L)})};for(y.s();!(C=y.n()).done;)w()}catch(I){y.e(I)}finally{y.f()}return f}},{key:"reedSolomonMultiply",value:function(s,o){if(s>>>8||o>>>8)throw new RangeError("Byte out of range");for(var f=0,y=7;y>=0;y--)f=f<<1^(f>>>7)*285,f^=(o>>>y&1)*s;return dd(f>>>8==0),f}}]),e}();(0,pe.Z)(Gh,"MIN_VERSION",1),(0,pe.Z)(Gh,"MAX_VERSION",40),(0,pe.Z)(Gh,"PENALTY_N1",3),(0,pe.Z)(Gh,"PENALTY_N2",3),(0,pe.Z)(Gh,"PENALTY_N3",40),(0,pe.Z)(Gh,"PENALTY_N4",10),(0,pe.Z)(Gh,"ECC_CODEWORDS_PER_BLOCK",[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]]),(0,pe.Z)(Gh,"NUM_ERROR_CORRECTION_BLOCKS",[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]]);var YR={L:Fd.LOW,M:Fd.MEDIUM,Q:Fd.QUARTILE,H:Fd.HIGH},DE=128,LE="L",zE="#FFFFFF",NE="#000000",BE=!1,FE=1,qR=4,JR=0,QR=.1;function kE(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=[];return e.forEach(function(o,f){var y=null;o.forEach(function(C,w){if(!C&&y!==null){s.push("M".concat(y+t," ").concat(f+t,"h").concat(w-y,"v1H").concat(y+t,"z")),y=null;return}if(w===o.length-1){if(!C)return;y===null?s.push("M".concat(w+t,",").concat(f+t," h1v1H").concat(w+t,"z")):s.push("M".concat(y+t,",").concat(f+t," h").concat(w+1-y,"v1H").concat(y+t,"z"));return}C&&y===null&&(y=w)})}),s.join("")}function ZE(e,t){return e.slice().map(function(s,o){return o<t.y||o>=t.y+t.h?s:s.map(function(f,y){return y<t.x||y>=t.x+t.w?f:!1})})}function e$(e,t,s,o){if(o==null)return null;var f=e.length+s*2,y=Math.floor(t*QR),C=f/t,w=(o.width||y)*C,I=(o.height||y)*C,D=o.x==null?e.length/2-w/2:o.x*C,L=o.y==null?e.length/2-I/2:o.y*C,z=o.opacity==null?1:o.opacity,k=null;if(o.excavate){var j=Math.floor(D),Z=Math.floor(L),G=Math.ceil(w+D-j),H=Math.ceil(I+L-Z);k={x:j,y:Z,w:G,h:H}}var X=o.crossOrigin;return{x:D,y:L,h:I,w,excavation:k,opacity:z,crossOrigin:X}}function t$(e,t){return t!=null?Math.floor(t):e?qR:JR}var n$=function(){try{new Path2D().addPath(new Path2D)}catch(e){return!1}return!0}();function jE(e){var t=e.value,s=e.level,o=e.minVersion,f=e.includeMargin,y=e.marginSize,C=e.imageSettings,w=e.size,I=(0,a.useMemo)(function(){var Z=kg.makeSegments(t);return Gh.encodeSegments(Z,YR[s],o)},[t,s,o]),D=(0,a.useMemo)(function(){var Z=I.getModules(),G=t$(f,y),H=Z.length+G*2,X=e$(Z,w,G,C);return{cells:Z,margin:G,numCells:H,calculatedImageSettings:X}},[I,w,C,f,y]),L=D.cells,z=D.margin,k=D.numCells,j=D.calculatedImageSettings;return{qrcode:I,margin:z,cells:L,numCells:k,calculatedImageSettings:j}}var r$=["value","size","level","bgColor","fgColor","includeMargin","minVersion","marginSize","style","imageSettings"],VE=a.forwardRef(function(t,s){var o=t.value,f=t.size,y=f===void 0?DE:f,C=t.level,w=C===void 0?LE:C,I=t.bgColor,D=I===void 0?zE:I,L=t.fgColor,z=L===void 0?NE:L,k=t.includeMargin,j=k===void 0?BE:k,Z=t.minVersion,G=Z===void 0?FE:Z,H=t.marginSize,X=t.style,ne=t.imageSettings,oe=(0,de.Z)(t,r$),ae=ne==null?void 0:ne.src,ie=(0,a.useRef)(null),le=(0,a.useRef)(null),fe=(0,a.useCallback)(function(lt){ie.current=lt,typeof s=="function"?s(lt):s&&(s.current=lt)},[s]),me=(0,a.useState)(!1),ge=(0,Re.Z)(me,2),xe=ge[1],Me=jE({value:o,level:w,minVersion:G,includeMargin:j,marginSize:H,imageSettings:ne,size:y}),$e=Me.margin,Oe=Me.cells,He=Me.numCells,Ne=Me.calculatedImageSettings;(0,a.useEffect)(function(){if(ie.current!=null){var lt=ie.current,ht=lt.getContext("2d");if(!ht)return;var It=Oe,Tt=le.current,wt=Ne!=null&&Tt!==null&&Tt.complete&&Tt.naturalHeight!==0&&Tt.naturalWidth!==0;wt&&Ne.excavation!=null&&(It=ZE(Oe,Ne.excavation));var _t=window.devicePixelRatio||1;lt.height=lt.width=y*_t;var At=y/He*_t;ht.scale(At,At),ht.fillStyle=D,ht.fillRect(0,0,He,He),ht.fillStyle=z,n$?ht.fill(new Path2D(kE(It,$e))):Oe.forEach(function(Bt,Dt){Bt.forEach(function(Gt,Pt){Gt&&ht.fillRect(Pt+$e,Dt+$e,1,1)})}),Ne&&(ht.globalAlpha=Ne.opacity),wt&&ht.drawImage(Tt,Ne.x+$e,Ne.y+$e,Ne.w,Ne.h)}}),(0,a.useEffect)(function(){xe(!1)},[ae]);var Ke=(0,Y.Z)({height:y,width:y},X),je=null;return ae!=null&&(je=a.createElement("img",{src:ae,key:ae,style:{display:"none"},onLoad:function(){xe(!0)},ref:le,crossOrigin:Ne==null?void 0:Ne.crossOrigin})),a.createElement(a.Fragment,null,a.createElement("canvas",(0,Ge.Z)({style:Ke,height:y,width:y,ref:fe,role:"img"},oe)),je)});VE.displayName="QRCodeCanvas";var i$=["value","size","level","bgColor","fgColor","includeMargin","minVersion","title","marginSize","imageSettings"],HE=a.forwardRef(function(t,s){var o=t.value,f=t.size,y=f===void 0?DE:f,C=t.level,w=C===void 0?LE:C,I=t.bgColor,D=I===void 0?zE:I,L=t.fgColor,z=L===void 0?NE:L,k=t.includeMargin,j=k===void 0?BE:k,Z=t.minVersion,G=Z===void 0?FE:Z,H=t.title,X=t.marginSize,ne=t.imageSettings,oe=(0,de.Z)(t,i$),ae=jE({value:o,level:w,minVersion:G,includeMargin:j,marginSize:X,imageSettings:ne,size:y}),ie=ae.margin,le=ae.cells,fe=ae.numCells,me=ae.calculatedImageSettings,ge=le,xe=null;ne!=null&&me!=null&&(me.excavation!=null&&(ge=ZE(le,me.excavation)),xe=a.createElement("image",{href:ne.src,height:me.h,width:me.w,x:me.x+ie,y:me.y+ie,preserveAspectRatio:"none",opacity:me.opacity,crossOrigin:me.crossOrigin}));var Me=kE(ge,ie);return a.createElement("svg",(0,Ge.Z)({height:y,width:y,viewBox:"0 0 ".concat(fe," ").concat(fe),ref:s,role:"img"},oe),!!H&&a.createElement("title",null,H),a.createElement("path",{fill:D,d:"M0,0 h".concat(fe,"v").concat(fe,"H0z"),shapeRendering:"crispEdges"}),a.createElement("path",{fill:z,d:Me,shapeRendering:"crispEdges"}),xe)});HE.displayName="QRCodeSVG";var o$={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.1 209.3l-56.4 44.1C775.8 155.1 656.2 92 521.9 92 290 92 102.3 279.5 102 511.5 101.7 743.7 289.8 932 521.9 932c181.3 0 335.8-115 394.6-276.1 1.5-4.2-.7-8.9-4.9-10.3l-56.7-19.5a8 8 0 00-10.1 4.8c-1.8 5-3.8 10-5.9 14.9-17.3 41-42.1 77.8-73.7 109.4A344.77 344.77 0 01655.9 829c-42.3 17.9-87.4 27-133.8 27-46.5 0-91.5-9.1-133.8-27A341.5 341.5 0 01279 755.2a342.16 342.16 0 01-73.7-109.4c-17.9-42.4-27-87.4-27-133.9s9.1-91.5 27-133.9c17.3-41 42.1-77.8 73.7-109.4 31.6-31.6 68.4-56.4 109.3-73.8 42.3-17.9 87.4-27 133.8-27 46.5 0 91.5 9.1 133.8 27a341.5 341.5 0 01109.3 73.8c9.9 9.9 19.2 20.4 27.8 31.4l-60.2 47a8 8 0 003 14.1l175.6 43c5 1.2 9.9-2.6 9.9-7.7l.8-180.9c-.1-6.6-7.8-10.3-13-6.2z"}}]},name:"reload",theme:"outlined"},a$=o$,s$=function(t,s){return a.createElement(Xt.Z,(0,Ge.Z)({},t,{ref:s,icon:a$}))},l$=a.forwardRef(s$),c$=l$;const u$=a.createElement(yv,null);function d$(e){let{prefixCls:t,locale:s,onRefresh:o,statusRender:f,status:y}=e;const C=a.createElement(a.Fragment,null,a.createElement("p",{className:`${t}-expired`},s==null?void 0:s.expired),o&&a.createElement(Or.ZP,{type:"link",icon:a.createElement(c$,null),onClick:o},s==null?void 0:s.refresh)),w=a.createElement("p",{className:`${t}-scanned`},s==null?void 0:s.scanned),I={expired:C,loading:u$,scanned:w},D=z=>I[z.status];return(f!=null?f:D)({status:y,locale:s,onRefresh:o})}const f$=e=>{const{componentCls:t,lineWidth:s,lineType:o,colorSplit:f}=e;return{[t]:Object.assign(Object.assign({},(0,Qt.Wf)(e)),{display:"flex",justifyContent:"center",alignItems:"center",padding:e.paddingSM,backgroundColor:e.colorWhite,borderRadius:e.borderRadiusLG,border:`${(0,he.bf)(s)} ${o} ${f}`,position:"relative",overflow:"hidden",[`& > ${t}-mask`]:{position:"absolute",insetBlockStart:0,insetInlineStart:0,zIndex:10,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",width:"100%",height:"100%",color:e.colorText,lineHeight:e.lineHeight,background:e.QRCodeMaskBackgroundColor,textAlign:"center",[`& > ${t}-expired, & > ${t}-scanned`]:{color:e.QRCodeTextColor}},"> canvas":{alignSelf:"stretch",flex:"auto",minWidth:0},"&-icon":{marginBlockEnd:e.marginXS,fontSize:e.controlHeight}}),[`${t}-borderless`]:{borderColor:"transparent",padding:0,borderRadius:0}}},h$=e=>({QRCodeMaskBackgroundColor:new mo.t(e.colorBgContainer).setA(.96).toRgbString()});var p$=(0,te.I$)("QRCode",e=>{const t=(0,ci.IX)(e,{QRCodeTextColor:e.colorText});return f$(t)},h$),m$=function(e,t){var s={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(s[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(s[o[f]]=e[o[f]]);return s},g$=e=>{var t,s,o,f;const[,y]=(0,Qn.ZP)(),{value:C,type:w="canvas",icon:I="",size:D=160,iconSize:L,color:z=y.colorText,errorLevel:k="M",status:j="active",bordered:Z=!0,onRefresh:G,style:H,className:X,rootClassName:ne,prefixCls:oe,bgColor:ae="transparent",statusRender:ie}=e,le=m$(e,["value","type","icon","size","iconSize","color","errorLevel","status","bordered","onRefresh","style","className","rootClassName","prefixCls","bgColor","statusRender"]),{getPrefixCls:fe}=(0,a.useContext)(ye.E_),me=fe("qrcode",oe),[ge,xe,Me]=p$(me),$e={src:I,x:void 0,y:void 0,height:typeof L=="number"?L:(t=L==null?void 0:L.height)!==null&&t!==void 0?t:40,width:typeof L=="number"?L:(s=L==null?void 0:L.width)!==null&&s!==void 0?s:40,excavate:!0,crossOrigin:"anonymous"},Oe=(0,ut.Z)(le,!0),He=(0,$a.Z)(le,Object.keys(Oe)),Ne=Object.assign({value:C,size:D,level:k,bgColor:ae,fgColor:z,style:{width:H==null?void 0:H.width,height:H==null?void 0:H.height},imageSettings:I?$e:void 0},Oe),[Ke]=(0,En.Z)("QRCode");if(!C)return null;const je=q()(me,X,ne,xe,Me,{[`${me}-borderless`]:!Z}),lt=Object.assign(Object.assign({backgroundColor:ae},H),{width:(o=H==null?void 0:H.width)!==null&&o!==void 0?o:D,height:(f=H==null?void 0:H.height)!==null&&f!==void 0?f:D});return ge(a.createElement("div",Object.assign({},He,{className:je,style:lt}),j!=="active"&&a.createElement("div",{className:`${me}-mask`},a.createElement(d$,{prefixCls:me,locale:Ke,status:j,onRefresh:G,statusRender:ie})),w==="canvas"?a.createElement(VE,Object.assign({},Ne)):a.createElement(HE,Object.assign({},Ne))))},nw=B(89965),v$={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M908.1 353.1l-253.9-36.9L540.7 86.1c-3.1-6.3-8.2-11.4-14.5-14.5-15.8-7.8-35-1.3-42.9 14.5L369.8 316.2l-253.9 36.9c-7 1-13.4 4.3-18.3 9.3a32.05 32.05 0 00.6 45.3l183.7 179.1-43.4 252.9a31.95 31.95 0 0046.4 33.7L512 754l227.1 119.4c6.2 3.3 13.4 4.4 20.3 3.2 17.4-3 29.1-19.5 26.1-36.9l-43.4-252.9 183.7-179.1c5-4.9 8.3-11.3 9.3-18.3 2.7-17.5-9.5-33.7-27-36.3z"}}]},name:"star",theme:"filled"},y$=v$,_$=function(t,s){return a.createElement(Xt.Z,(0,Ge.Z)({},t,{ref:s,icon:y$}))},b$=a.forwardRef(_$),x$=b$;function C$(e,t){var s=e.disabled,o=e.prefixCls,f=e.character,y=e.characterRender,C=e.index,w=e.count,I=e.value,D=e.allowHalf,L=e.focused,z=e.onHover,k=e.onClick,j=function(ie){z(ie,C)},Z=function(ie){k(ie,C)},G=function(ie){ie.keyCode===rt.Z.ENTER&&k(ie,C)},H=C+1,X=new Set([o]);I===0&&C===0&&L?X.add("".concat(o,"-focused")):D&&I+.5>=H&&I<H?(X.add("".concat(o,"-half")),X.add("".concat(o,"-active")),L&&X.add("".concat(o,"-focused"))):(H<=I?X.add("".concat(o,"-full")):X.add("".concat(o,"-zero")),H===I&&L&&X.add("".concat(o,"-focused")));var ne=typeof f=="function"?f(e):f,oe=a.createElement("li",{className:q()(Array.from(X)),ref:t},a.createElement("div",{onClick:s?null:Z,onKeyDown:s?null:G,onMouseMove:s?null:j,role:"radio","aria-checked":I>C?"true":"false","aria-posinset":C+1,"aria-setsize":w,tabIndex:s?-1:0},a.createElement("div",{className:"".concat(o,"-first")},ne),a.createElement("div",{className:"".concat(o,"-second")},ne)));return y&&(oe=y(oe,e)),oe}var S$=a.forwardRef(C$);function w$(){var e=a.useRef({});function t(o){return e.current[o]}function s(o){return function(f){e.current[o]=f}}return[t,s]}function E$(e){var t=e.pageXOffset,s="scrollLeft";if(typeof t!="number"){var o=e.document;t=o.documentElement[s],typeof t!="number"&&(t=o.body[s])}return t}function I$(e){var t,s,o=e.ownerDocument,f=o.body,y=o&&o.documentElement,C=e.getBoundingClientRect();return t=C.left,s=C.top,t-=y.clientLeft||f.clientLeft||0,s-=y.clientTop||f.clientTop||0,{left:t,top:s}}function T$(e){var t=I$(e),s=e.ownerDocument,o=s.defaultView||s.parentWindow;return t.left+=E$(o),t.left}var M$=["prefixCls","className","defaultValue","value","count","allowHalf","allowClear","keyboard","character","characterRender","disabled","direction","tabIndex","autoFocus","onHoverChange","onChange","onFocus","onBlur","onKeyDown","onMouseLeave"];function P$(e,t){var s=e.prefixCls,o=s===void 0?"rc-rate":s,f=e.className,y=e.defaultValue,C=e.value,w=e.count,I=w===void 0?5:w,D=e.allowHalf,L=D===void 0?!1:D,z=e.allowClear,k=z===void 0?!0:z,j=e.keyboard,Z=j===void 0?!0:j,G=e.character,H=G===void 0?"\u2605":G,X=e.characterRender,ne=e.disabled,oe=e.direction,ae=oe===void 0?"ltr":oe,ie=e.tabIndex,le=ie===void 0?0:ie,fe=e.autoFocus,me=e.onHoverChange,ge=e.onChange,xe=e.onFocus,Me=e.onBlur,$e=e.onKeyDown,Oe=e.onMouseLeave,He=(0,de.Z)(e,M$),Ne=w$(),Ke=(0,Re.Z)(Ne,2),je=Ke[0],lt=Ke[1],ht=a.useRef(null),It=function(){if(!ne){var Li;(Li=ht.current)===null||Li===void 0||Li.focus()}};a.useImperativeHandle(t,function(){return{focus:It,blur:function(){if(!ne){var Li;(Li=ht.current)===null||Li===void 0||Li.blur()}}}});var Tt=(0,Cs.Z)(y||0,{value:C}),wt=(0,Re.Z)(Tt,2),_t=wt[0],At=wt[1],Bt=(0,Cs.Z)(null),Dt=(0,Re.Z)(Bt,2),Gt=Dt[0],Pt=Dt[1],Pn=function(Li,bi){var $i=ae==="rtl",go=Li+1;if(L){var Gi=je(Li),ko=T$(Gi),Er=Gi.clientWidth;($i&&bi-ko>Er/2||!$i&&bi-ko<Er/2)&&(go-=.5)}return go},Kn=function(Li){At(Li),ge==null||ge(Li)},_n=a.useState(!1),Fn=(0,Re.Z)(_n,2),on=Fn[0],Zt=Fn[1],Vn=function(){Zt(!0),xe==null||xe()},Ln=function(){Zt(!1),Me==null||Me()},kr=a.useState(null),Sr=(0,Re.Z)(kr,2),dr=Sr[0],cr=Sr[1],Zn=function(Li,bi){var $i=Pn(bi,Li.pageX);$i!==Gt&&(cr($i),Pt(null)),me==null||me($i)},ur=function(Li){ne||(cr(null),Pt(null),me==null||me(void 0)),Li&&(Oe==null||Oe(Li))},ti=function(Li,bi){var $i=Pn(bi,Li.pageX),go=!1;k&&(go=$i===_t),ur(),Kn(go?0:$i),Pt(go?$i:null)},Ei=function(Li){var bi=Li.keyCode,$i=ae==="rtl",go=L?.5:1;Z&&(bi===rt.Z.RIGHT&&_t<I&&!$i?(Kn(_t+go),Li.preventDefault()):bi===rt.Z.LEFT&&_t>0&&!$i||bi===rt.Z.RIGHT&&_t>0&&$i?(Kn(_t-go),Li.preventDefault()):bi===rt.Z.LEFT&&_t<I&&$i&&(Kn(_t+go),Li.preventDefault())),$e==null||$e(Li)};a.useEffect(function(){fe&&!ne&&It()},[]);var ki=new Array(I).fill(0).map(function(Ho,Li){return a.createElement(S$,{ref:lt(Li),index:Li,count:I,disabled:ne,prefixCls:"".concat(o,"-star"),allowHalf:L,value:dr===null?_t:dr,onClick:ti,onHover:Zn,key:Ho||Li,character:H,characterRender:X,focused:on})}),qi=q()(o,f,(0,pe.Z)((0,pe.Z)({},"".concat(o,"-disabled"),ne),"".concat(o,"-rtl"),ae==="rtl"));return a.createElement("ul",(0,Ge.Z)({className:qi,onMouseLeave:ur,tabIndex:ne?-1:le,onFocus:ne?null:Vn,onBlur:ne?null:Ln,onKeyDown:ne?null:Ei,ref:ht},(0,ut.Z)(He,{aria:!0,data:!0,attr:!0})),ki)}var O$=a.forwardRef(P$),R$=O$;const $$=e=>{const{componentCls:t}=e;return{[`${t}-star`]:{position:"relative",display:"inline-block",color:"inherit",cursor:"pointer","&:not(:last-child)":{marginInlineEnd:e.marginXS},"> div":{transition:`all ${e.motionDurationMid}, outline 0s`,"&:hover":{transform:e.starHoverScale},"&:focus":{outline:0},"&:focus-visible":{outline:`${(0,he.bf)(e.lineWidth)} dashed ${e.starColor}`,transform:e.starHoverScale}},"&-first, &-second":{color:e.starBg,transition:`all ${e.motionDurationMid}`,userSelect:"none"},"&-first":{position:"absolute",top:0,insetInlineStart:0,width:"50%",height:"100%",overflow:"hidden",opacity:0},[`&-half ${t}-star-first, &-half ${t}-star-second`]:{opacity:1},[`&-half ${t}-star-first, &-full ${t}-star-second`]:{color:"inherit"}}}},A$=e=>({[`&-rtl${e.componentCls}`]:{direction:"rtl"}}),D$=e=>{const{componentCls:t}=e;return{[t]:Object.assign(Object.assign(Object.assign(Object.assign({},(0,Qt.Wf)(e)),{display:"inline-block",margin:0,padding:0,color:e.starColor,fontSize:e.starSize,lineHeight:1,listStyle:"none",outline:"none",[`&-disabled${t} ${t}-star`]:{cursor:"default","> div:hover":{transform:"scale(1)"}}}),$$(e)),A$(e))}},L$=e=>({starColor:e.yellow6,starSize:e.controlHeightLG*.5,starHoverScale:"scale(1.1)",starBg:e.colorFillContent});var z$=(0,te.I$)("Rate",e=>{const t=(0,ci.IX)(e,{});return[D$(t)]},L$),N$=function(e,t){var s={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(s[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(s[o[f]]=e[o[f]]);return s},B$=a.forwardRef((e,t)=>{const{prefixCls:s,className:o,rootClassName:f,style:y,tooltips:C,character:w=a.createElement(x$,null),disabled:I}=e,D=N$(e,["prefixCls","className","rootClassName","style","tooltips","character","disabled"]),L=(ie,le)=>{let{index:fe}=le;return C?a.createElement(qr.Z,{title:C[fe]},ie):ie},{getPrefixCls:z,direction:k,rate:j}=a.useContext(ye.E_),Z=z("rate",s),[G,H,X]=z$(Z),ne=Object.assign(Object.assign({},j==null?void 0:j.style),y),oe=a.useContext(Fo.Z),ae=I!=null?I:oe;return G(a.createElement(R$,Object.assign({ref:t,character:w,characterRender:L,disabled:ae},D,{className:q()(o,f,H,X,j==null?void 0:j.className),style:ne,prefixCls:Z,direction:k})))}),F$={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M955.7 856l-416-720c-6.2-10.7-16.9-16-27.7-16s-21.6 5.3-27.7 16l-416 720C56 877.4 71.4 904 96 904h832c24.6 0 40-26.6 27.7-48zM480 416c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v184c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V416zm32 352a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"warning",theme:"filled"},k$=F$,Z$=function(t,s){return a.createElement(Xt.Z,(0,Ge.Z)({},t,{ref:s,icon:k$}))},j$=a.forwardRef(Z$),V$=j$,H$=()=>a.createElement("svg",{width:"252",height:"294"},a.createElement("title",null,"No Found"),a.createElement("defs",null,a.createElement("path",{d:"M0 .387h251.772v251.772H0z"})),a.createElement("g",{fill:"none",fillRule:"evenodd"},a.createElement("g",{transform:"translate(0 .012)"},a.createElement("mask",{fill:"#fff"}),a.createElement("path",{d:"M0 127.32v-2.095C0 56.279 55.892.387 124.838.387h2.096c68.946 0 124.838 55.892 124.838 124.838v2.096c0 68.946-55.892 124.838-124.838 124.838h-2.096C55.892 252.16 0 196.267 0 127.321",fill:"#E4EBF7",mask:"url(#b)"})),a.createElement("path",{d:"M39.755 130.84a8.276 8.276 0 1 1-16.468-1.66 8.276 8.276 0 0 1 16.468 1.66",fill:"#FFF"}),a.createElement("path",{d:"M36.975 134.297l10.482 5.943M48.373 146.508l-12.648 10.788",stroke:"#FFF",strokeWidth:"2"}),a.createElement("path",{d:"M39.875 159.352a5.667 5.667 0 1 1-11.277-1.136 5.667 5.667 0 0 1 11.277 1.136M57.588 143.247a5.708 5.708 0 1 1-11.358-1.145 5.708 5.708 0 0 1 11.358 1.145M99.018 26.875l29.82-.014a4.587 4.587 0 1 0-.003-9.175l-29.82.013a4.587 4.587 0 1 0 .003 9.176M110.424 45.211l29.82-.013a4.588 4.588 0 0 0-.004-9.175l-29.82.013a4.587 4.587 0 1 0 .004 9.175",fill:"#FFF"}),a.createElement("path",{d:"M112.798 26.861v-.002l15.784-.006a4.588 4.588 0 1 0 .003 9.175l-15.783.007v-.002a4.586 4.586 0 0 0-.004-9.172M184.523 135.668c-.553 5.485-5.447 9.483-10.931 8.93-5.485-.553-9.483-5.448-8.93-10.932.552-5.485 5.447-9.483 10.932-8.93 5.485.553 9.483 5.447 8.93 10.932",fill:"#FFF"}),a.createElement("path",{d:"M179.26 141.75l12.64 7.167M193.006 156.477l-15.255 13.011",stroke:"#FFF",strokeWidth:"2"}),a.createElement("path",{d:"M184.668 170.057a6.835 6.835 0 1 1-13.6-1.372 6.835 6.835 0 0 1 13.6 1.372M203.34 153.325a6.885 6.885 0 1 1-13.7-1.382 6.885 6.885 0 0 1 13.7 1.382",fill:"#FFF"}),a.createElement("path",{d:"M151.931 192.324a2.222 2.222 0 1 1-4.444 0 2.222 2.222 0 0 1 4.444 0zM225.27 116.056a2.222 2.222 0 1 1-4.445 0 2.222 2.222 0 0 1 4.444 0zM216.38 151.08a2.223 2.223 0 1 1-4.446-.001 2.223 2.223 0 0 1 4.446 0zM176.917 107.636a2.223 2.223 0 1 1-4.445 0 2.223 2.223 0 0 1 4.445 0zM195.291 92.165a2.223 2.223 0 1 1-4.445 0 2.223 2.223 0 0 1 4.445 0zM202.058 180.711a2.223 2.223 0 1 1-4.446 0 2.223 2.223 0 0 1 4.446 0z",stroke:"#FFF",strokeWidth:"2"}),a.createElement("path",{stroke:"#FFF",strokeWidth:"2",d:"M214.404 153.302l-1.912 20.184-10.928 5.99M173.661 174.792l-6.356 9.814h-11.36l-4.508 6.484M174.941 125.168v-15.804M220.824 117.25l-12.84 7.901-15.31-7.902V94.39"}),a.createElement("path",{d:"M166.588 65.936h-3.951a4.756 4.756 0 0 1-4.743-4.742 4.756 4.756 0 0 1 4.743-4.743h3.951a4.756 4.756 0 0 1 4.743 4.743 4.756 4.756 0 0 1-4.743 4.742",fill:"#FFF"}),a.createElement("path",{d:"M174.823 30.03c0-16.281 13.198-29.48 29.48-29.48 16.28 0 29.48 13.199 29.48 29.48 0 16.28-13.2 29.48-29.48 29.48-16.282 0-29.48-13.2-29.48-29.48",fill:"#1677ff"}),a.createElement("path",{d:"M205.952 38.387c.5.5.785 1.142.785 1.928s-.286 1.465-.785 1.964c-.572.5-1.214.75-2 .75-.785 0-1.429-.285-1.929-.785-.572-.5-.82-1.143-.82-1.929s.248-1.428.82-1.928c.5-.5 1.144-.75 1.93-.75.785 0 1.462.25 1.999.75m4.285-19.463c1.428 1.249 2.143 2.963 2.143 5.142 0 1.712-.427 3.13-1.219 4.25-.067.096-.137.18-.218.265-.416.429-1.41 1.346-2.956 2.699a5.07 5.07 0 0 0-1.428 1.75 5.207 5.207 0 0 0-.536 2.357v.5h-4.107v-.5c0-1.357.215-2.536.714-3.5.464-.964 1.857-2.464 4.178-4.536l.43-.5c.643-.785.964-1.643.964-2.535 0-1.18-.358-2.108-1-2.785-.678-.68-1.643-1.001-2.858-1.001-1.536 0-2.642.464-3.357 1.43-.37.5-.621 1.135-.76 1.904a1.999 1.999 0 0 1-1.971 1.63h-.004c-1.277 0-2.257-1.183-1.98-2.43.337-1.518 1.02-2.78 2.073-3.784 1.536-1.5 3.607-2.25 6.25-2.25 2.32 0 4.214.607 5.642 1.894",fill:"#FFF"}),a.createElement("path",{d:"M52.04 76.131s21.81 5.36 27.307 15.945c5.575 10.74-6.352 9.26-15.73 4.935-10.86-5.008-24.7-11.822-11.577-20.88",fill:"#FFB594"}),a.createElement("path",{d:"M90.483 67.504l-.449 2.893c-.753.49-4.748-2.663-4.748-2.663l-1.645.748-1.346-5.684s6.815-4.589 8.917-5.018c2.452-.501 9.884.94 10.7 2.278 0 0 1.32.486-2.227.69-3.548.203-5.043.447-6.79 3.132-1.747 2.686-2.412 3.624-2.412 3.624",fill:"#FFC6A0"}),a.createElement("path",{d:"M128.055 111.367c-2.627-7.724-6.15-13.18-8.917-15.478-3.5-2.906-9.34-2.225-11.366-4.187-1.27-1.231-3.215-1.197-3.215-1.197s-14.98-3.158-16.828-3.479c-2.37-.41-2.124-.714-6.054-1.405-1.57-1.907-2.917-1.122-2.917-1.122l-7.11-1.383c-.853-1.472-2.423-1.023-2.423-1.023l-2.468-.897c-1.645 9.976-7.74 13.796-7.74 13.796 1.795 1.122 15.703 8.3 15.703 8.3l5.107 37.11s-3.321 5.694 1.346 9.109c0 0 19.883-3.743 34.921-.329 0 0 3.047-2.546.972-8.806.523-3.01 1.394-8.263 1.736-11.622.385.772 2.019 1.918 3.14 3.477 0 0 9.407-7.365 11.052-14.012-.832-.723-1.598-1.585-2.267-2.453-.567-.736-.358-2.056-.765-2.717-.669-1.084-1.804-1.378-1.907-1.682",fill:"#FFF"}),a.createElement("path",{d:"M101.09 289.998s4.295 2.041 7.354 1.021c2.821-.94 4.53.668 7.08 1.178 2.55.51 6.874 1.1 11.686-1.26-.103-5.51-6.889-3.98-11.96-6.713-2.563-1.38-3.784-4.722-3.598-8.799h-9.402s-1.392 10.52-1.16 14.573",fill:"#CBD1D1"}),a.createElement("path",{d:"M101.067 289.826s2.428 1.271 6.759.653c3.058-.437 3.712.481 7.423 1.031 3.712.55 10.724-.069 11.823-.894.413 1.1-.343 2.063-.343 2.063s-1.512.603-4.812.824c-2.03.136-5.8.291-7.607-.503-1.787-1.375-5.247-1.903-5.728-.241-3.918.95-7.355-.286-7.355-.286l-.16-2.647z",fill:"#2B0849"}),a.createElement("path",{d:"M108.341 276.044h3.094s-.103 6.702 4.536 8.558c-4.64.618-8.558-2.303-7.63-8.558",fill:"#A4AABA"}),a.createElement("path",{d:"M57.542 272.401s-2.107 7.416-4.485 12.306c-1.798 3.695-4.225 7.492 5.465 7.492 6.648 0 8.953-.48 7.423-6.599-1.53-6.12.266-13.199.266-13.199h-8.669z",fill:"#CBD1D1"}),a.createElement("path",{d:"M51.476 289.793s2.097 1.169 6.633 1.169c6.083 0 8.249-1.65 8.249-1.65s.602 1.114-.619 2.165c-.993.855-3.597 1.591-7.39 1.546-4.145-.048-5.832-.566-6.736-1.168-.825-.55-.687-1.58-.137-2.062",fill:"#2B0849"}),a.createElement("path",{d:"M58.419 274.304s.033 1.519-.314 2.93c-.349 1.42-1.078 3.104-1.13 4.139-.058 1.151 4.537 1.58 5.155.034.62-1.547 1.294-6.427 1.913-7.252.619-.825-4.903-2.119-5.624.15",fill:"#A4AABA"}),a.createElement("path",{d:"M99.66 278.514l13.378.092s1.298-54.52 1.853-64.403c.554-9.882 3.776-43.364 1.002-63.128l-12.547-.644-22.849.78s-.434 3.966-1.195 9.976c-.063.496-.682.843-.749 1.365-.075.585.423 1.354.32 1.966-2.364 14.08-6.377 33.104-8.744 46.677-.116.666-1.234 1.009-1.458 2.691-.04.302.211 1.525.112 1.795-6.873 18.744-10.949 47.842-14.277 61.885l14.607-.014s2.197-8.57 4.03-16.97c2.811-12.886 23.111-85.01 23.111-85.01l3.016-.521 1.043 46.35s-.224 1.234.337 2.02c.56.785-.56 1.123-.392 2.244l.392 1.794s-.449 7.178-.898 11.89c-.448 4.71-.092 39.165-.092 39.165",fill:"#7BB2F9"}),a.createElement("path",{d:"M76.085 221.626c1.153.094 4.038-2.019 6.955-4.935M106.36 225.142s2.774-1.11 6.103-3.883",stroke:"#648BD8",strokeWidth:"1.051",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M107.275 222.1s2.773-1.11 6.102-3.884",stroke:"#648BD8",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M74.74 224.767s2.622-.591 6.505-3.365M86.03 151.634c-.27 3.106.3 8.525-4.336 9.123M103.625 149.88s.11 14.012-1.293 15.065c-2.219 1.664-2.99 1.944-2.99 1.944M99.79 150.438s.035 12.88-1.196 24.377M93.673 175.911s7.212-1.664 9.431-1.664M74.31 205.861a212.013 212.013 0 0 1-.979 4.56s-1.458 1.832-1.009 3.776c.449 1.944-.947 2.045-4.985 15.355-1.696 5.59-4.49 18.591-6.348 27.597l-.231 1.12M75.689 197.807a320.934 320.934 0 0 1-.882 4.754M82.591 152.233L81.395 162.7s-1.097.15-.5 2.244c.113 1.346-2.674 15.775-5.18 30.43M56.12 274.418h13.31",stroke:"#648BD8",strokeWidth:"1.051",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M116.241 148.22s-17.047-3.104-35.893.2c.158 2.514-.003 4.15-.003 4.15s14.687-2.818 35.67-.312c.252-2.355.226-4.038.226-4.038",fill:"#192064"}),a.createElement("path",{d:"M106.322 151.165l.003-4.911a.81.81 0 0 0-.778-.815c-2.44-.091-5.066-.108-7.836-.014a.818.818 0 0 0-.789.815l-.003 4.906a.81.81 0 0 0 .831.813c2.385-.06 4.973-.064 7.73.017a.815.815 0 0 0 .842-.81",fill:"#FFF"}),a.createElement("path",{d:"M105.207 150.233l.002-3.076a.642.642 0 0 0-.619-.646 94.321 94.321 0 0 0-5.866-.01.65.65 0 0 0-.63.647v3.072a.64.64 0 0 0 .654.644 121.12 121.12 0 0 1 5.794.011c.362.01.665-.28.665-.642",fill:"#192064"}),a.createElement("path",{d:"M100.263 275.415h12.338M101.436 270.53c.006 3.387.042 5.79.111 6.506M101.451 264.548a915.75 915.75 0 0 0-.015 4.337M100.986 174.965l.898 44.642s.673 1.57-.225 2.692c-.897 1.122 2.468.673.898 2.243-1.57 1.57.897 1.122 0 3.365-.596 1.489-.994 21.1-1.096 35.146",stroke:"#648BD8",strokeWidth:"1.051",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M46.876 83.427s-.516 6.045 7.223 5.552c11.2-.712 9.218-9.345 31.54-21.655-.786-2.708-2.447-4.744-2.447-4.744s-11.068 3.11-22.584 8.046c-6.766 2.9-13.395 6.352-13.732 12.801M104.46 91.057l.941-5.372-8.884-11.43-5.037 5.372-1.74 7.834a.321.321 0 0 0 .108.32c.965.8 6.5 5.013 14.347 3.544a.332.332 0 0 0 .264-.268",fill:"#FFC6A0"}),a.createElement("path",{d:"M93.942 79.387s-4.533-2.853-2.432-6.855c1.623-3.09 4.513 1.133 4.513 1.133s.52-3.642 3.121-3.642c.52-1.04 1.561-4.162 1.561-4.162s11.445 2.601 13.526 3.121c0 5.203-2.304 19.424-7.84 19.861-8.892.703-12.449-9.456-12.449-9.456",fill:"#FFC6A0"}),a.createElement("path",{d:"M113.874 73.446c2.601-2.081 3.47-9.722 3.47-9.722s-2.479-.49-6.64-2.05c-4.683-2.081-12.798-4.747-17.48.976-9.668 3.223-2.05 19.823-2.05 19.823l2.713-3.021s-3.935-3.287-2.08-6.243c2.17-3.462 3.92 1.073 3.92 1.073s.637-2.387 3.581-3.342c.355-.71 1.036-2.674 1.432-3.85a1.073 1.073 0 0 1 1.263-.704c2.4.558 8.677 2.019 11.356 2.662.522.125.871.615.82 1.15l-.305 3.248z",fill:"#520038"}),a.createElement("path",{d:"M104.977 76.064c-.103.61-.582 1.038-1.07.956-.489-.083-.801-.644-.698-1.254.103-.61.582-1.038 1.07-.956.488.082.8.644.698 1.254M112.132 77.694c-.103.61-.582 1.038-1.07.956-.488-.083-.8-.644-.698-1.254.103-.61.582-1.038 1.07-.956.488.082.8.643.698 1.254",fill:"#552950"}),a.createElement("path",{stroke:"#DB836E",strokeWidth:"1.118",strokeLinecap:"round",strokeLinejoin:"round",d:"M110.13 74.84l-.896 1.61-.298 4.357h-2.228"}),a.createElement("path",{d:"M110.846 74.481s1.79-.716 2.506.537",stroke:"#5C2552",strokeWidth:"1.118",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M92.386 74.282s.477-1.114 1.113-.716c.637.398 1.274 1.433.558 1.99-.717.556.159 1.67.159 1.67",stroke:"#DB836E",strokeWidth:"1.118",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M103.287 72.93s1.83 1.113 4.137.954",stroke:"#5C2552",strokeWidth:"1.118",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M103.685 81.762s2.227 1.193 4.376 1.193M104.64 84.308s.954.398 1.511.318M94.693 81.205s2.308 7.4 10.424 7.639",stroke:"#DB836E",strokeWidth:"1.118",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M81.45 89.384s.45 5.647-4.935 12.787M69 82.654s-.726 9.282-8.204 14.206",stroke:"#E4EBF7",strokeWidth:"1.101",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M129.405 122.865s-5.272 7.403-9.422 10.768",stroke:"#E4EBF7",strokeWidth:"1.051",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M119.306 107.329s.452 4.366-2.127 32.062",stroke:"#E4EBF7",strokeWidth:"1.101",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M150.028 151.232h-49.837a1.01 1.01 0 0 1-1.01-1.01v-31.688c0-.557.452-1.01 1.01-1.01h49.837c.558 0 1.01.453 1.01 1.01v31.688a1.01 1.01 0 0 1-1.01 1.01",fill:"#F2D7AD"}),a.createElement("path",{d:"M150.29 151.232h-19.863v-33.707h20.784v32.786a.92.92 0 0 1-.92.92",fill:"#F4D19D"}),a.createElement("path",{d:"M123.554 127.896H92.917a.518.518 0 0 1-.425-.816l6.38-9.113c.193-.277.51-.442.85-.442h31.092l-7.26 10.371z",fill:"#F2D7AD"}),a.createElement("path",{fill:"#CC9B6E",d:"M123.689 128.447H99.25v-.519h24.169l7.183-10.26.424.298z"}),a.createElement("path",{d:"M158.298 127.896h-18.669a2.073 2.073 0 0 1-1.659-.83l-7.156-9.541h19.965c.49 0 .95.23 1.244.622l6.69 8.92a.519.519 0 0 1-.415.83",fill:"#F4D19D"}),a.createElement("path",{fill:"#CC9B6E",d:"M157.847 128.479h-19.384l-7.857-10.475.415-.31 7.7 10.266h19.126zM130.554 150.685l-.032-8.177.519-.002.032 8.177z"}),a.createElement("path",{fill:"#CC9B6E",d:"M130.511 139.783l-.08-21.414.519-.002.08 21.414zM111.876 140.932l-.498-.143 1.479-5.167.498.143zM108.437 141.06l-2.679-2.935 2.665-3.434.41.318-2.397 3.089 2.384 2.612zM116.607 141.06l-.383-.35 2.383-2.612-2.397-3.089.41-.318 2.665 3.434z"}),a.createElement("path",{d:"M154.316 131.892l-3.114-1.96.038 3.514-1.043.092c-1.682.115-3.634.23-4.789.23-1.902 0-2.693 2.258 2.23 2.648l-2.645-.596s-2.168 1.317.504 2.3c0 0-1.58 1.217.561 2.58-.584 3.504 5.247 4.058 7.122 3.59 1.876-.47 4.233-2.359 4.487-5.16.28-3.085-.89-5.432-3.35-7.238",fill:"#FFC6A0"}),a.createElement("path",{d:"M153.686 133.577s-6.522.47-8.36.372c-1.836-.098-1.904 2.19 2.359 2.264 3.739.15 5.451-.044 5.451-.044",stroke:"#DB836E",strokeWidth:"1.051",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M145.16 135.877c-1.85 1.346.561 2.355.561 2.355s3.478.898 6.73.617",stroke:"#DB836E",strokeWidth:"1.051",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M151.89 141.71s-6.28.111-6.73-2.132c-.223-1.346.45-1.402.45-1.402M146.114 140.868s-1.103 3.16 5.44 3.533M151.202 129.932v3.477M52.838 89.286c3.533-.337 8.423-1.248 13.582-7.754",stroke:"#DB836E",strokeWidth:"1.051",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M168.567 248.318a6.647 6.647 0 0 1-6.647-6.647v-66.466a6.647 6.647 0 1 1 13.294 0v66.466a6.647 6.647 0 0 1-6.647 6.647",fill:"#5BA02E"}),a.createElement("path",{d:"M176.543 247.653a6.647 6.647 0 0 1-6.646-6.647v-33.232a6.647 6.647 0 1 1 13.293 0v33.232a6.647 6.647 0 0 1-6.647 6.647",fill:"#92C110"}),a.createElement("path",{d:"M186.443 293.613H158.92a3.187 3.187 0 0 1-3.187-3.187v-46.134a3.187 3.187 0 0 1 3.187-3.187h27.524a3.187 3.187 0 0 1 3.187 3.187v46.134a3.187 3.187 0 0 1-3.187 3.187",fill:"#F2D7AD"}),a.createElement("path",{d:"M88.979 89.48s7.776 5.384 16.6 2.842",stroke:"#E4EBF7",strokeWidth:"1.101",strokeLinecap:"round",strokeLinejoin:"round"}))),U$=()=>a.createElement("svg",{width:"254",height:"294"},a.createElement("title",null,"Server Error"),a.createElement("defs",null,a.createElement("path",{d:"M0 .335h253.49v253.49H0z"}),a.createElement("path",{d:"M0 293.665h253.49V.401H0z"})),a.createElement("g",{fill:"none",fillRule:"evenodd"},a.createElement("g",{transform:"translate(0 .067)"},a.createElement("mask",{fill:"#fff"}),a.createElement("path",{d:"M0 128.134v-2.11C0 56.608 56.273.334 125.69.334h2.11c69.416 0 125.69 56.274 125.69 125.69v2.11c0 69.417-56.274 125.69-125.69 125.69h-2.11C56.273 253.824 0 197.551 0 128.134",fill:"#E4EBF7",mask:"url(#b)"})),a.createElement("path",{d:"M39.989 132.108a8.332 8.332 0 1 1-16.581-1.671 8.332 8.332 0 0 1 16.58 1.671",fill:"#FFF"}),a.createElement("path",{d:"M37.19 135.59l10.553 5.983M48.665 147.884l-12.734 10.861",stroke:"#FFF",strokeWidth:"2"}),a.createElement("path",{d:"M40.11 160.816a5.706 5.706 0 1 1-11.354-1.145 5.706 5.706 0 0 1 11.354 1.145M57.943 144.6a5.747 5.747 0 1 1-11.436-1.152 5.747 5.747 0 0 1 11.436 1.153M99.656 27.434l30.024-.013a4.619 4.619 0 1 0-.004-9.238l-30.024.013a4.62 4.62 0 0 0 .004 9.238M111.14 45.896l30.023-.013a4.62 4.62 0 1 0-.004-9.238l-30.024.013a4.619 4.619 0 1 0 .004 9.238",fill:"#FFF"}),a.createElement("path",{d:"M113.53 27.421v-.002l15.89-.007a4.619 4.619 0 1 0 .005 9.238l-15.892.007v-.002a4.618 4.618 0 0 0-.004-9.234M150.167 70.091h-3.979a4.789 4.789 0 0 1-4.774-4.775 4.788 4.788 0 0 1 4.774-4.774h3.979a4.789 4.789 0 0 1 4.775 4.774 4.789 4.789 0 0 1-4.775 4.775",fill:"#FFF"}),a.createElement("path",{d:"M171.687 30.234c0-16.392 13.289-29.68 29.681-29.68 16.392 0 29.68 13.288 29.68 29.68 0 16.393-13.288 29.681-29.68 29.681s-29.68-13.288-29.68-29.68",fill:"#FF603B"}),a.createElement("path",{d:"M203.557 19.435l-.676 15.035a1.514 1.514 0 0 1-3.026 0l-.675-15.035a2.19 2.19 0 1 1 4.377 0m-.264 19.378c.513.477.77 1.1.77 1.87s-.257 1.393-.77 1.907c-.55.476-1.21.733-1.943.733a2.545 2.545 0 0 1-1.87-.77c-.55-.514-.806-1.136-.806-1.87 0-.77.256-1.393.806-1.87.513-.513 1.137-.733 1.87-.733.77 0 1.43.22 1.943.733",fill:"#FFF"}),a.createElement("path",{d:"M119.3 133.275c4.426-.598 3.612-1.204 4.079-4.778.675-5.18-3.108-16.935-8.262-25.118-1.088-10.72-12.598-11.24-12.598-11.24s4.312 4.895 4.196 16.199c1.398 5.243.804 14.45.804 14.45s5.255 11.369 11.78 10.487",fill:"#FFB594"}),a.createElement("path",{d:"M100.944 91.61s1.463-.583 3.211.582c8.08 1.398 10.368 6.706 11.3 11.368 1.864 1.282 1.864 2.33 1.864 3.496.365.777 1.515 3.03 1.515 3.03s-7.225 1.748-10.954 6.758c-1.399-6.41-6.936-25.235-6.936-25.235",fill:"#FFF"}),a.createElement("path",{d:"M94.008 90.5l1.019-5.815-9.23-11.874-5.233 5.581-2.593 9.863s8.39 5.128 16.037 2.246",fill:"#FFB594"}),a.createElement("path",{d:"M82.931 78.216s-4.557-2.868-2.445-6.892c1.632-3.107 4.537 1.139 4.537 1.139s.524-3.662 3.139-3.662c.523-1.046 1.569-4.184 1.569-4.184s11.507 2.615 13.6 3.138c-.001 5.23-2.317 19.529-7.884 19.969-8.94.706-12.516-9.508-12.516-9.508",fill:"#FFC6A0"}),a.createElement("path",{d:"M102.971 72.243c2.616-2.093 3.489-9.775 3.489-9.775s-2.492-.492-6.676-2.062c-4.708-2.092-12.867-4.771-17.575.982-9.54 4.41-2.062 19.93-2.062 19.93l2.729-3.037s-3.956-3.304-2.092-6.277c2.183-3.48 3.943 1.08 3.943 1.08s.64-2.4 3.6-3.36c.356-.714 1.04-2.69 1.44-3.872a1.08 1.08 0 0 1 1.27-.707c2.41.56 8.723 2.03 11.417 2.676.524.126.876.619.825 1.156l-.308 3.266z",fill:"#520038"}),a.createElement("path",{d:"M101.22 76.514c-.104.613-.585 1.044-1.076.96-.49-.082-.805-.646-.702-1.26.104-.613.585-1.044 1.076-.961.491.083.805.647.702 1.26M94.26 75.074c-.104.613-.585 1.044-1.076.96-.49-.082-.805-.646-.702-1.26.104-.613.585-1.044 1.076-.96.491.082.805.646.702 1.26",fill:"#552950"}),a.createElement("path",{stroke:"#DB836E",strokeWidth:"1.063",strokeLinecap:"round",strokeLinejoin:"round",d:"M99.206 73.644l-.9 1.62-.3 4.38h-2.24"}),a.createElement("path",{d:"M99.926 73.284s1.8-.72 2.52.54",stroke:"#5C2552",strokeWidth:"1.117",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M81.367 73.084s.48-1.12 1.12-.72c.64.4 1.28 1.44.56 2s.16 1.68.16 1.68",stroke:"#DB836E",strokeWidth:"1.117",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M92.326 71.724s1.84 1.12 4.16.96",stroke:"#5C2552",strokeWidth:"1.117",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M92.726 80.604s2.24 1.2 4.4 1.2M93.686 83.164s.96.4 1.52.32M83.687 80.044s1.786 6.547 9.262 7.954",stroke:"#DB836E",strokeWidth:"1.063",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M95.548 91.663s-1.068 2.821-8.298 2.105c-7.23-.717-10.29-5.044-10.29-5.044",stroke:"#E4EBF7",strokeWidth:"1.136",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M78.126 87.478s6.526 4.972 16.47 2.486c0 0 9.577 1.02 11.536 5.322 5.36 11.77.543 36.835 0 39.962 3.496 4.055-.466 8.483-.466 8.483-15.624-3.548-35.81-.6-35.81-.6-4.849-3.546-1.223-9.044-1.223-9.044L62.38 110.32c-2.485-15.227.833-19.803 3.549-20.743 3.03-1.049 8.04-1.282 8.04-1.282.496-.058 1.08-.076 1.37-.233 2.36-1.282 2.787-.583 2.787-.583",fill:"#FFF"}),a.createElement("path",{d:"M65.828 89.81s-6.875.465-7.59 8.156c-.466 8.857 3.03 10.954 3.03 10.954s6.075 22.102 16.796 22.957c8.39-2.176 4.758-6.702 4.661-11.42-.233-11.304-7.108-16.897-7.108-16.897s-4.212-13.75-9.789-13.75",fill:"#FFC6A0"}),a.createElement("path",{d:"M71.716 124.225s.855 11.264 9.828 6.486c4.765-2.536 7.581-13.828 9.789-22.568 1.456-5.768 2.58-12.197 2.58-12.197l-4.973-1.709s-2.408 5.516-7.769 12.275c-4.335 5.467-9.144 11.11-9.455 17.713",fill:"#FFC6A0"}),a.createElement("path",{d:"M108.463 105.191s1.747 2.724-2.331 30.535c2.376 2.216 1.053 6.012-.233 7.51",stroke:"#E4EBF7",strokeWidth:"1.085",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M123.262 131.527s-.427 2.732-11.77 1.981c-15.187-1.006-25.326-3.25-25.326-3.25l.933-5.8s.723.215 9.71-.068c11.887-.373 18.714-6.07 24.964-1.022 4.039 3.263 1.489 8.16 1.489 8.16",fill:"#FFC6A0"}),a.createElement("path",{d:"M70.24 90.974s-5.593-4.739-11.054 2.68c-3.318 7.223.517 15.284 2.664 19.578-.31 3.729 2.33 4.311 2.33 4.311s.108.895 1.516 2.68c4.078-7.03 6.72-9.166 13.711-12.546-.328-.656-1.877-3.265-1.825-3.767.175-1.69-1.282-2.623-1.282-2.623s-.286-.156-1.165-2.738c-.788-2.313-2.036-5.177-4.895-7.575",fill:"#FFF"}),a.createElement("path",{d:"M90.232 288.027s4.855 2.308 8.313 1.155c3.188-1.063 5.12.755 8.002 1.331 2.881.577 7.769 1.243 13.207-1.424-.117-6.228-7.786-4.499-13.518-7.588-2.895-1.56-4.276-5.336-4.066-9.944H91.544s-1.573 11.89-1.312 16.47",fill:"#CBD1D1"}),a.createElement("path",{d:"M90.207 287.833s2.745 1.437 7.639.738c3.456-.494 3.223.66 7.418 1.282 4.195.621 13.092-.194 14.334-1.126.466 1.242-.388 2.33-.388 2.33s-1.709.682-5.438.932c-2.295.154-8.098.276-10.14-.621-2.02-1.554-4.894-1.515-6.06-.234-4.427 1.075-7.184-.31-7.184-.31l-.181-2.991z",fill:"#2B0849"}),a.createElement("path",{d:"M98.429 272.257h3.496s-.117 7.574 5.127 9.671c-5.244.7-9.672-2.602-8.623-9.671",fill:"#A4AABA"}),a.createElement("path",{d:"M44.425 272.046s-2.208 7.774-4.702 12.899c-1.884 3.874-4.428 7.854 5.729 7.854 6.97 0 9.385-.503 7.782-6.917-1.604-6.415.279-13.836.279-13.836h-9.088z",fill:"#CBD1D1"}),a.createElement("path",{d:"M38.066 290.277s2.198 1.225 6.954 1.225c6.376 0 8.646-1.73 8.646-1.73s.63 1.168-.649 2.27c-1.04.897-3.77 1.668-7.745 1.621-4.347-.05-6.115-.593-7.062-1.224-.864-.577-.72-1.657-.144-2.162",fill:"#2B0849"}),a.createElement("path",{d:"M45.344 274.041s.035 1.592-.329 3.07c-.365 1.49-1.13 3.255-1.184 4.34-.061 1.206 4.755 1.657 5.403.036.65-1.622 1.357-6.737 2.006-7.602.648-.865-5.14-2.222-5.896.156",fill:"#A4AABA"}),a.createElement("path",{d:"M89.476 277.57l13.899.095s1.349-56.643 1.925-66.909c.576-10.267 3.923-45.052 1.042-65.585l-13.037-.669-23.737.81s-.452 4.12-1.243 10.365c-.065.515-.708.874-.777 1.417-.078.608.439 1.407.332 2.044-2.455 14.627-5.797 32.736-8.256 46.837-.121.693-1.282 1.048-1.515 2.796-.042.314.22 1.584.116 1.865-7.14 19.473-12.202 52.601-15.66 67.19l15.176-.015s2.282-10.145 4.185-18.871c2.922-13.389 24.012-88.32 24.012-88.32l3.133-.954-.158 48.568s-.233 1.282.35 2.098c.583.815-.581 1.167-.408 2.331l.408 1.864s-.466 7.458-.932 12.352c-.467 4.895 1.145 40.69 1.145 40.69",fill:"#7BB2F9"}),a.createElement("path",{d:"M64.57 218.881c1.197.099 4.195-2.097 7.225-5.127M96.024 222.534s2.881-1.152 6.34-4.034",stroke:"#648BD8",strokeWidth:"1.085",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M96.973 219.373s2.882-1.153 6.34-4.034",stroke:"#648BD8",strokeWidth:"1.032",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M63.172 222.144s2.724-.614 6.759-3.496M74.903 146.166c-.281 3.226.31 8.856-4.506 9.478M93.182 144.344s.115 14.557-1.344 15.65c-2.305 1.73-3.107 2.02-3.107 2.02M89.197 144.923s.269 13.144-1.01 25.088M83.525 170.71s6.81-1.051 9.116-1.051M46.026 270.045l-.892 4.538M46.937 263.289l-.815 4.157M62.725 202.503c-.33 1.618-.102 1.904-.449 3.438 0 0-2.756 1.903-2.29 3.923.466 2.02-.31 3.424-4.505 17.252-1.762 5.807-4.233 18.922-6.165 28.278-.03.144-.521 2.646-1.14 5.8M64.158 194.136c-.295 1.658-.6 3.31-.917 4.938M71.33 146.787l-1.244 10.877s-1.14.155-.519 2.33c.117 1.399-2.778 16.39-5.382 31.615M44.242 273.727H58.07",stroke:"#648BD8",strokeWidth:"1.085",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M106.18 142.117c-3.028-.489-18.825-2.744-36.219.2a.625.625 0 0 0-.518.644c.063 1.307.044 2.343.015 2.995a.617.617 0 0 0 .716.636c3.303-.534 17.037-2.412 35.664-.266.347.04.66-.214.692-.56.124-1.347.16-2.425.17-3.029a.616.616 0 0 0-.52-.62",fill:"#192064"}),a.createElement("path",{d:"M96.398 145.264l.003-5.102a.843.843 0 0 0-.809-.847 114.104 114.104 0 0 0-8.141-.014.85.85 0 0 0-.82.847l-.003 5.097c0 .476.388.857.864.845 2.478-.064 5.166-.067 8.03.017a.848.848 0 0 0 .876-.843",fill:"#FFF"}),a.createElement("path",{d:"M95.239 144.296l.002-3.195a.667.667 0 0 0-.643-.672c-1.9-.061-3.941-.073-6.094-.01a.675.675 0 0 0-.654.672l-.002 3.192c0 .376.305.677.68.669 1.859-.042 3.874-.043 6.02.012.376.01.69-.291.691-.668",fill:"#192064"}),a.createElement("path",{d:"M90.102 273.522h12.819M91.216 269.761c.006 3.519-.072 5.55 0 6.292M90.923 263.474c-.009 1.599-.016 2.558-.016 4.505M90.44 170.404l.932 46.38s.7 1.631-.233 2.796c-.932 1.166 2.564.7.932 2.33-1.63 1.633.933 1.166 0 3.497-.618 1.546-1.031 21.921-1.138 36.513",stroke:"#648BD8",strokeWidth:"1.085",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M73.736 98.665l2.214 4.312s2.098.816 1.865 2.68l.816 2.214M64.297 116.611c.233-.932 2.176-7.147 12.585-10.488M77.598 90.042s7.691 6.137 16.547 2.72",stroke:"#E4EBF7",strokeWidth:"1.085",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M91.974 86.954s5.476-.816 7.574-4.545c1.297-.345.72 2.212-.33 3.671-.7.971-1.01 1.554-1.01 1.554s.194.31.155.816c-.053.697-.175.653-.272 1.048-.081.335.108.657 0 1.049-.046.17-.198.5-.382.878-.12.249-.072.687-.2.948-.231.469-1.562 1.87-2.622 2.855-3.826 3.554-5.018 1.644-6.001-.408-.894-1.865-.661-5.127-.874-6.875-.35-2.914-2.622-3.03-1.923-4.429.343-.685 2.87.69 3.263 1.748.757 2.04 2.952 1.807 2.622 1.69",fill:"#FFC6A0"}),a.createElement("path",{d:"M99.8 82.429c-.465.077-.35.272-.97 1.243-.622.971-4.817 2.932-6.39 3.224-2.589.48-2.278-1.56-4.254-2.855-1.69-1.107-3.562-.638-1.398 1.398.99.932.932 1.107 1.398 3.205.335 1.506-.64 3.67.7 5.593",stroke:"#DB836E",strokeWidth:".774",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M79.543 108.673c-2.1 2.926-4.266 6.175-5.557 8.762",stroke:"#E59788",strokeWidth:".774",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M87.72 124.768s-2.098-1.942-5.127-2.719c-3.03-.777-3.574-.155-5.516.078-1.942.233-3.885-.932-3.652.7.233 1.63 5.05 1.01 5.206 2.097.155 1.087-6.37 2.796-8.313 2.175-.777.777.466 1.864 2.02 2.175.233 1.554 2.253 1.554 2.253 1.554s.699 1.01 2.641 1.088c2.486 1.32 8.934-.7 10.954-1.554 2.02-.855-.466-5.594-.466-5.594",fill:"#FFC6A0"}),a.createElement("path",{d:"M73.425 122.826s.66 1.127 3.167 1.418c2.315.27 2.563.583 2.563.583s-2.545 2.894-9.07 2.272M72.416 129.274s3.826.097 4.933-.718M74.98 130.75s1.961.136 3.36-.505M77.232 131.916s1.748.019 2.914-.505M73.328 122.321s-.595-1.032 1.262-.427c1.671.544 2.833.055 5.128.155 1.389.061 3.067-.297 3.982.15 1.606.784 3.632 2.181 3.632 2.181s10.526 1.204 19.033-1.127M78.864 108.104s-8.39 2.758-13.168 12.12",stroke:"#E59788",strokeWidth:".774",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M109.278 112.533s3.38-3.613 7.575-4.662",stroke:"#E4EBF7",strokeWidth:"1.085",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M107.375 123.006s9.697-2.745 11.445-.88",stroke:"#E59788",strokeWidth:".774",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M194.605 83.656l3.971-3.886M187.166 90.933l3.736-3.655M191.752 84.207l-4.462-4.56M198.453 91.057l-4.133-4.225M129.256 163.074l3.718-3.718M122.291 170.039l3.498-3.498M126.561 163.626l-4.27-4.27M132.975 170.039l-3.955-3.955",stroke:"#BFCDDD",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M190.156 211.779h-1.604a4.023 4.023 0 0 1-4.011-4.011V175.68a4.023 4.023 0 0 1 4.01-4.01h1.605a4.023 4.023 0 0 1 4.011 4.01v32.088a4.023 4.023 0 0 1-4.01 4.01",fill:"#A3B4C6"}),a.createElement("path",{d:"M237.824 212.977a4.813 4.813 0 0 1-4.813 4.813h-86.636a4.813 4.813 0 0 1 0-9.626h86.636a4.813 4.813 0 0 1 4.813 4.813",fill:"#A3B4C6"}),a.createElement("mask",{fill:"#fff"}),a.createElement("path",{fill:"#A3B4C6",mask:"url(#d)",d:"M154.098 190.096h70.513v-84.617h-70.513z"}),a.createElement("path",{d:"M224.928 190.096H153.78a3.219 3.219 0 0 1-3.208-3.209V167.92a3.219 3.219 0 0 1 3.208-3.21h71.148a3.219 3.219 0 0 1 3.209 3.21v18.967a3.219 3.219 0 0 1-3.21 3.209M224.928 130.832H153.78a3.218 3.218 0 0 1-3.208-3.208v-18.968a3.219 3.219 0 0 1 3.208-3.209h71.148a3.219 3.219 0 0 1 3.209 3.21v18.967a3.218 3.218 0 0 1-3.21 3.208",fill:"#BFCDDD",mask:"url(#d)"}),a.createElement("path",{d:"M159.563 120.546a2.407 2.407 0 1 1 0-4.813 2.407 2.407 0 0 1 0 4.813M166.98 120.546a2.407 2.407 0 1 1 0-4.813 2.407 2.407 0 0 1 0 4.813M174.397 120.546a2.407 2.407 0 1 1 0-4.813 2.407 2.407 0 0 1 0 4.813M222.539 120.546h-22.461a.802.802 0 0 1-.802-.802v-3.208c0-.443.359-.803.802-.803h22.46c.444 0 .803.36.803.803v3.208c0 .443-.36.802-.802.802",fill:"#FFF",mask:"url(#d)"}),a.createElement("path",{d:"M224.928 160.464H153.78a3.218 3.218 0 0 1-3.208-3.209v-18.967a3.219 3.219 0 0 1 3.208-3.209h71.148a3.219 3.219 0 0 1 3.209 3.209v18.967a3.218 3.218 0 0 1-3.21 3.209",fill:"#BFCDDD",mask:"url(#d)"}),a.createElement("path",{d:"M173.455 130.832h49.301M164.984 130.832h6.089M155.952 130.832h6.75M173.837 160.613h49.3M165.365 160.613h6.089M155.57 160.613h6.751",stroke:"#7C90A5",strokeWidth:"1.124",strokeLinecap:"round",strokeLinejoin:"round",mask:"url(#d)"}),a.createElement("path",{d:"M159.563 151.038a2.407 2.407 0 1 1 0-4.814 2.407 2.407 0 0 1 0 4.814M166.98 151.038a2.407 2.407 0 1 1 0-4.814 2.407 2.407 0 0 1 0 4.814M174.397 151.038a2.407 2.407 0 1 1 .001-4.814 2.407 2.407 0 0 1 0 4.814M222.539 151.038h-22.461a.802.802 0 0 1-.802-.802v-3.209c0-.443.359-.802.802-.802h22.46c.444 0 .803.36.803.802v3.209c0 .443-.36.802-.802.802M159.563 179.987a2.407 2.407 0 1 1 0-4.813 2.407 2.407 0 0 1 0 4.813M166.98 179.987a2.407 2.407 0 1 1 0-4.813 2.407 2.407 0 0 1 0 4.813M174.397 179.987a2.407 2.407 0 1 1 0-4.813 2.407 2.407 0 0 1 0 4.813M222.539 179.987h-22.461a.802.802 0 0 1-.802-.802v-3.209c0-.443.359-.802.802-.802h22.46c.444 0 .803.36.803.802v3.209c0 .443-.36.802-.802.802",fill:"#FFF",mask:"url(#d)"}),a.createElement("path",{d:"M203.04 221.108h-27.372a2.413 2.413 0 0 1-2.406-2.407v-11.448a2.414 2.414 0 0 1 2.406-2.407h27.372a2.414 2.414 0 0 1 2.407 2.407V218.7a2.413 2.413 0 0 1-2.407 2.407",fill:"#BFCDDD",mask:"url(#d)"}),a.createElement("path",{d:"M177.259 207.217v11.52M201.05 207.217v11.52",stroke:"#A3B4C6",strokeWidth:"1.124",strokeLinecap:"round",strokeLinejoin:"round",mask:"url(#d)"}),a.createElement("path",{d:"M162.873 267.894a9.422 9.422 0 0 1-9.422-9.422v-14.82a9.423 9.423 0 0 1 18.845 0v14.82a9.423 9.423 0 0 1-9.423 9.422",fill:"#5BA02E",mask:"url(#d)"}),a.createElement("path",{d:"M171.22 267.83a9.422 9.422 0 0 1-9.422-9.423v-3.438a9.423 9.423 0 0 1 18.845 0v3.438a9.423 9.423 0 0 1-9.422 9.423",fill:"#92C110",mask:"url(#d)"}),a.createElement("path",{d:"M181.31 293.666h-27.712a3.209 3.209 0 0 1-3.209-3.21V269.79a3.209 3.209 0 0 1 3.209-3.21h27.711a3.209 3.209 0 0 1 3.209 3.21v20.668a3.209 3.209 0 0 1-3.209 3.209",fill:"#F2D7AD",mask:"url(#d)"})));const W$=e=>{const{componentCls:t,lineHeightHeading3:s,iconCls:o,padding:f,paddingXL:y,paddingXS:C,paddingLG:w,marginXS:I,lineHeight:D}=e;return{[t]:{padding:`${(0,he.bf)(e.calc(w).mul(2).equal())} ${(0,he.bf)(y)}`,"&-rtl":{direction:"rtl"}},[`${t} ${t}-image`]:{width:e.imageWidth,height:e.imageHeight,margin:"auto"},[`${t} ${t}-icon`]:{marginBottom:w,textAlign:"center",[`& > ${o}`]:{fontSize:e.iconFontSize}},[`${t} ${t}-title`]:{color:e.colorTextHeading,fontSize:e.titleFontSize,lineHeight:s,marginBlock:I,textAlign:"center"},[`${t} ${t}-subtitle`]:{color:e.colorTextDescription,fontSize:e.subtitleFontSize,lineHeight:D,textAlign:"center"},[`${t} ${t}-content`]:{marginTop:w,padding:`${(0,he.bf)(w)} ${(0,he.bf)(e.calc(f).mul(2.5).equal())}`,backgroundColor:e.colorFillAlter},[`${t} ${t}-extra`]:{margin:e.extraMargin,textAlign:"center","& > *":{marginInlineEnd:C,"&:last-child":{marginInlineEnd:0}}}}},G$=e=>{const{componentCls:t,iconCls:s}=e;return{[`${t}-success ${t}-icon > ${s}`]:{color:e.resultSuccessIconColor},[`${t}-error ${t}-icon > ${s}`]:{color:e.resultErrorIconColor},[`${t}-info ${t}-icon > ${s}`]:{color:e.resultInfoIconColor},[`${t}-warning ${t}-icon > ${s}`]:{color:e.resultWarningIconColor}}},K$=e=>[W$(e),G$(e)],X$=e=>K$(e),Y$=e=>({titleFontSize:e.fontSizeHeading3,subtitleFontSize:e.fontSize,iconFontSize:e.fontSizeHeading3*3,extraMargin:`${e.paddingLG}px 0 0 0`});var q$=(0,te.I$)("Result",e=>{const t=e.colorInfo,s=e.colorError,o=e.colorSuccess,f=e.colorWarning,y=(0,ci.IX)(e,{resultInfoIconColor:t,resultErrorIconColor:s,resultSuccessIconColor:o,resultWarningIconColor:f,imageWidth:250,imageHeight:295});return[X$(y)]},Y$),J$=()=>a.createElement("svg",{width:"251",height:"294"},a.createElement("title",null,"Unauthorized"),a.createElement("g",{fill:"none",fillRule:"evenodd"},a.createElement("path",{d:"M0 129.023v-2.084C0 58.364 55.591 2.774 124.165 2.774h2.085c68.574 0 124.165 55.59 124.165 124.165v2.084c0 68.575-55.59 124.166-124.165 124.166h-2.085C55.591 253.189 0 197.598 0 129.023",fill:"#E4EBF7"}),a.createElement("path",{d:"M41.417 132.92a8.231 8.231 0 1 1-16.38-1.65 8.231 8.231 0 0 1 16.38 1.65",fill:"#FFF"}),a.createElement("path",{d:"M38.652 136.36l10.425 5.91M49.989 148.505l-12.58 10.73",stroke:"#FFF",strokeWidth:"2"}),a.createElement("path",{d:"M41.536 161.28a5.636 5.636 0 1 1-11.216-1.13 5.636 5.636 0 0 1 11.216 1.13M59.154 145.261a5.677 5.677 0 1 1-11.297-1.138 5.677 5.677 0 0 1 11.297 1.138M100.36 29.516l29.66-.013a4.562 4.562 0 1 0-.004-9.126l-29.66.013a4.563 4.563 0 0 0 .005 9.126M111.705 47.754l29.659-.013a4.563 4.563 0 1 0-.004-9.126l-29.66.013a4.563 4.563 0 1 0 .005 9.126",fill:"#FFF"}),a.createElement("path",{d:"M114.066 29.503V29.5l15.698-.007a4.563 4.563 0 1 0 .004 9.126l-15.698.007v-.002a4.562 4.562 0 0 0-.004-9.122M185.405 137.723c-.55 5.455-5.418 9.432-10.873 8.882-5.456-.55-9.432-5.418-8.882-10.873.55-5.455 5.418-9.432 10.873-8.882 5.455.55 9.432 5.418 8.882 10.873",fill:"#FFF"}),a.createElement("path",{d:"M180.17 143.772l12.572 7.129M193.841 158.42L178.67 171.36",stroke:"#FFF",strokeWidth:"2"}),a.createElement("path",{d:"M185.55 171.926a6.798 6.798 0 1 1-13.528-1.363 6.798 6.798 0 0 1 13.527 1.363M204.12 155.285a6.848 6.848 0 1 1-13.627-1.375 6.848 6.848 0 0 1 13.626 1.375",fill:"#FFF"}),a.createElement("path",{d:"M152.988 194.074a2.21 2.21 0 1 1-4.42 0 2.21 2.21 0 0 1 4.42 0zM225.931 118.217a2.21 2.21 0 1 1-4.421 0 2.21 2.21 0 0 1 4.421 0zM217.09 153.051a2.21 2.21 0 1 1-4.421 0 2.21 2.21 0 0 1 4.42 0zM177.84 109.842a2.21 2.21 0 1 1-4.422 0 2.21 2.21 0 0 1 4.421 0zM196.114 94.454a2.21 2.21 0 1 1-4.421 0 2.21 2.21 0 0 1 4.421 0zM202.844 182.523a2.21 2.21 0 1 1-4.42 0 2.21 2.21 0 0 1 4.42 0z",stroke:"#FFF",strokeWidth:"2"}),a.createElement("path",{stroke:"#FFF",strokeWidth:"2",d:"M215.125 155.262l-1.902 20.075-10.87 5.958M174.601 176.636l-6.322 9.761H156.98l-4.484 6.449M175.874 127.28V111.56M221.51 119.404l-12.77 7.859-15.228-7.86V96.668"}),a.createElement("path",{d:"M180.68 29.32C180.68 13.128 193.806 0 210 0c16.193 0 29.32 13.127 29.32 29.32 0 16.194-13.127 29.322-29.32 29.322-16.193 0-29.32-13.128-29.32-29.321",fill:"#A26EF4"}),a.createElement("path",{d:"M221.45 41.706l-21.563-.125a1.744 1.744 0 0 1-1.734-1.754l.071-12.23a1.744 1.744 0 0 1 1.754-1.734l21.562.125c.964.006 1.74.791 1.735 1.755l-.071 12.229a1.744 1.744 0 0 1-1.754 1.734",fill:"#FFF"}),a.createElement("path",{d:"M215.106 29.192c-.015 2.577-2.049 4.654-4.543 4.64-2.494-.014-4.504-2.115-4.489-4.693l.04-6.925c.016-2.577 2.05-4.654 4.543-4.64 2.494.015 4.504 2.116 4.49 4.693l-.04 6.925zm-4.53-14.074a6.877 6.877 0 0 0-6.916 6.837l-.043 7.368a6.877 6.877 0 0 0 13.754.08l.042-7.368a6.878 6.878 0 0 0-6.837-6.917zM167.566 68.367h-3.93a4.73 4.73 0 0 1-4.717-4.717 4.73 4.73 0 0 1 4.717-4.717h3.93a4.73 4.73 0 0 1 4.717 4.717 4.73 4.73 0 0 1-4.717 4.717",fill:"#FFF"}),a.createElement("path",{d:"M168.214 248.838a6.611 6.611 0 0 1-6.61-6.611v-66.108a6.611 6.611 0 0 1 13.221 0v66.108a6.611 6.611 0 0 1-6.61 6.61",fill:"#5BA02E"}),a.createElement("path",{d:"M176.147 248.176a6.611 6.611 0 0 1-6.61-6.61v-33.054a6.611 6.611 0 1 1 13.221 0v33.053a6.611 6.611 0 0 1-6.61 6.611",fill:"#92C110"}),a.createElement("path",{d:"M185.994 293.89h-27.376a3.17 3.17 0 0 1-3.17-3.17v-45.887a3.17 3.17 0 0 1 3.17-3.17h27.376a3.17 3.17 0 0 1 3.17 3.17v45.886a3.17 3.17 0 0 1-3.17 3.17",fill:"#F2D7AD"}),a.createElement("path",{d:"M81.972 147.673s6.377-.927 17.566-1.28c11.729-.371 17.57 1.086 17.57 1.086s3.697-3.855.968-8.424c1.278-12.077 5.982-32.827.335-48.273-1.116-1.339-3.743-1.512-7.536-.62-1.337.315-7.147-.149-7.983-.1l-15.311-.347s-3.487-.17-8.035-.508c-1.512-.113-4.227-1.683-5.458-.338-.406.443-2.425 5.669-1.97 16.077l8.635 35.642s-3.141 3.61 1.219 7.085",fill:"#FFF"}),a.createElement("path",{d:"M75.768 73.325l-.9-6.397 11.982-6.52s7.302-.118 8.038 1.205c.737 1.324-5.616.993-5.616.993s-1.836 1.388-2.615 2.5c-1.654 2.363-.986 6.471-8.318 5.986-1.708.284-2.57 2.233-2.57 2.233",fill:"#FFC6A0"}),a.createElement("path",{d:"M52.44 77.672s14.217 9.406 24.973 14.444c1.061.497-2.094 16.183-11.892 11.811-7.436-3.318-20.162-8.44-21.482-14.496-.71-3.258 2.543-7.643 8.401-11.76M141.862 80.113s-6.693 2.999-13.844 6.876c-3.894 2.11-10.137 4.704-12.33 7.988-6.224 9.314 3.536 11.22 12.947 7.503 6.71-2.651 28.999-12.127 13.227-22.367",fill:"#FFB594"}),a.createElement("path",{d:"M76.166 66.36l3.06 3.881s-2.783 2.67-6.31 5.747c-7.103 6.195-12.803 14.296-15.995 16.44-3.966 2.662-9.754 3.314-12.177-.118-3.553-5.032.464-14.628 31.422-25.95",fill:"#FFC6A0"}),a.createElement("path",{d:"M64.674 85.116s-2.34 8.413-8.912 14.447c.652.548 18.586 10.51 22.144 10.056 5.238-.669 6.417-18.968 1.145-20.531-.702-.208-5.901-1.286-8.853-2.167-.87-.26-1.611-1.71-3.545-.936l-1.98-.869zM128.362 85.826s5.318 1.956 7.325 13.734c-.546.274-17.55 12.35-21.829 7.805-6.534-6.94-.766-17.393 4.275-18.61 4.646-1.121 5.03-1.37 10.23-2.929",fill:"#FFF"}),a.createElement("path",{d:"M78.18 94.656s.911 7.41-4.914 13.078",stroke:"#E4EBF7",strokeWidth:"1.051",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M87.397 94.68s3.124 2.572 10.263 2.572c7.14 0 9.074-3.437 9.074-3.437",stroke:"#E4EBF7",strokeWidth:".932",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M117.184 68.639l-6.781-6.177s-5.355-4.314-9.223-.893c-3.867 3.422 4.463 2.083 5.653 4.165 1.19 2.082.848 1.143-2.083.446-5.603-1.331-2.082.893 2.975 5.355 2.091 1.845 6.992.955 6.992.955l2.467-3.851z",fill:"#FFC6A0"}),a.createElement("path",{d:"M105.282 91.315l-.297-10.937-15.918-.027-.53 10.45c-.026.403.17.788.515.999 2.049 1.251 9.387 5.093 15.799.424.287-.21.443-.554.431-.91",fill:"#FFB594"}),a.createElement("path",{d:"M107.573 74.24c.817-1.147.982-9.118 1.015-11.928a1.046 1.046 0 0 0-.965-1.055l-4.62-.365c-7.71-1.044-17.071.624-18.253 6.346-5.482 5.813-.421 13.244-.421 13.244s1.963 3.566 4.305 6.791c.756 1.041.398-3.731 3.04-5.929 5.524-4.594 15.899-7.103 15.899-7.103",fill:"#5C2552"}),a.createElement("path",{d:"M88.426 83.206s2.685 6.202 11.602 6.522c7.82.28 8.973-7.008 7.434-17.505l-.909-5.483c-6.118-2.897-15.478.54-15.478.54s-.576 2.044-.19 5.504c-2.276 2.066-1.824 5.618-1.824 5.618s-.905-1.922-1.98-2.321c-.86-.32-1.897.089-2.322 1.98-1.04 4.632 3.667 5.145 3.667 5.145",fill:"#FFC6A0"}),a.createElement("path",{stroke:"#DB836E",strokeWidth:"1.145",strokeLinecap:"round",strokeLinejoin:"round",d:"M100.843 77.099l1.701-.928-1.015-4.324.674-1.406"}),a.createElement("path",{d:"M105.546 74.092c-.022.713-.452 1.279-.96 1.263-.51-.016-.904-.607-.882-1.32.021-.713.452-1.278.96-1.263.51.016.904.607.882 1.32M97.592 74.349c-.022.713-.452 1.278-.961 1.263-.509-.016-.904-.607-.882-1.32.022-.713.452-1.279.961-1.263.51.016.904.606.882 1.32",fill:"#552950"}),a.createElement("path",{d:"M91.132 86.786s5.269 4.957 12.679 2.327",stroke:"#DB836E",strokeWidth:"1.145",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M99.776 81.903s-3.592.232-1.44-2.79c1.59-1.496 4.897-.46 4.897-.46s1.156 3.906-3.457 3.25",fill:"#DB836E"}),a.createElement("path",{d:"M102.88 70.6s2.483.84 3.402.715M93.883 71.975s2.492-1.144 4.778-1.073",stroke:"#5C2552",strokeWidth:"1.526",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M86.32 77.374s.961.879 1.458 2.106c-.377.48-1.033 1.152-.236 1.809M99.337 83.719s1.911.151 2.509-.254",stroke:"#DB836E",strokeWidth:"1.145",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M87.782 115.821l15.73-3.012M100.165 115.821l10.04-2.008",stroke:"#E4EBF7",strokeWidth:"1.051",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M66.508 86.763s-1.598 8.83-6.697 14.078",stroke:"#E4EBF7",strokeWidth:"1.114",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M128.31 87.934s3.013 4.121 4.06 11.785",stroke:"#E4EBF7",strokeWidth:"1.051",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M64.09 84.816s-6.03 9.912-13.607 9.903",stroke:"#DB836E",strokeWidth:".795",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M112.366 65.909l-.142 5.32s5.993 4.472 11.945 9.202c4.482 3.562 8.888 7.455 10.985 8.662 4.804 2.766 8.9 3.355 11.076 1.808 4.071-2.894 4.373-9.878-8.136-15.263-4.271-1.838-16.144-6.36-25.728-9.73",fill:"#FFC6A0"}),a.createElement("path",{d:"M130.532 85.488s4.588 5.757 11.619 6.214",stroke:"#DB836E",strokeWidth:".75",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M121.708 105.73s-.393 8.564-1.34 13.612",stroke:"#E4EBF7",strokeWidth:"1.051",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M115.784 161.512s-3.57-1.488-2.678-7.14",stroke:"#648BD8",strokeWidth:"1.051",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M101.52 290.246s4.326 2.057 7.408 1.03c2.842-.948 4.564.673 7.132 1.186 2.57.514 6.925 1.108 11.772-1.269-.104-5.551-6.939-4.01-12.048-6.763-2.582-1.39-3.812-4.757-3.625-8.863h-9.471s-1.402 10.596-1.169 14.68",fill:"#CBD1D1"}),a.createElement("path",{d:"M101.496 290.073s2.447 1.281 6.809.658c3.081-.44 3.74.485 7.479 1.039 3.739.554 10.802-.07 11.91-.9.415 1.108-.347 2.077-.347 2.077s-1.523.608-4.847.831c-2.045.137-5.843.293-7.663-.507-1.8-1.385-5.286-1.917-5.77-.243-3.947.958-7.41-.288-7.41-.288l-.16-2.667z",fill:"#2B0849"}),a.createElement("path",{d:"M108.824 276.19h3.116s-.103 6.751 4.57 8.62c-4.673.624-8.62-2.32-7.686-8.62",fill:"#A4AABA"}),a.createElement("path",{d:"M57.65 272.52s-2.122 7.47-4.518 12.396c-1.811 3.724-4.255 7.548 5.505 7.548 6.698 0 9.02-.483 7.479-6.648-1.541-6.164.268-13.296.268-13.296H57.65z",fill:"#CBD1D1"}),a.createElement("path",{d:"M51.54 290.04s2.111 1.178 6.682 1.178c6.128 0 8.31-1.662 8.31-1.662s.605 1.122-.624 2.18c-1 .862-3.624 1.603-7.444 1.559-4.177-.049-5.876-.57-6.786-1.177-.831-.554-.692-1.593-.138-2.078",fill:"#2B0849"}),a.createElement("path",{d:"M58.533 274.438s.034 1.529-.315 2.95c-.352 1.431-1.087 3.127-1.139 4.17-.058 1.16 4.57 1.592 5.194.035.623-1.559 1.303-6.475 1.927-7.306.622-.831-4.94-2.135-5.667.15",fill:"#A4AABA"}),a.createElement("path",{d:"M100.885 277.015l13.306.092s1.291-54.228 1.843-64.056c.552-9.828 3.756-43.13.997-62.788l-12.48-.64-22.725.776s-.433 3.944-1.19 9.921c-.062.493-.677.838-.744 1.358-.075.582.42 1.347.318 1.956-2.35 14.003-6.343 32.926-8.697 46.425-.116.663-1.227 1.004-1.45 2.677-.04.3.21 1.516.112 1.785-6.836 18.643-10.89 47.584-14.2 61.551l14.528-.014s2.185-8.524 4.008-16.878c2.796-12.817 22.987-84.553 22.987-84.553l3-.517 1.037 46.1s-.223 1.228.334 2.008c.558.782-.556 1.117-.39 2.233l.39 1.784s-.446 7.14-.892 11.826c-.446 4.685-.092 38.954-.092 38.954",fill:"#7BB2F9"}),a.createElement("path",{d:"M77.438 220.434c1.146.094 4.016-2.008 6.916-4.91M107.55 223.931s2.758-1.103 6.069-3.862",stroke:"#648BD8",strokeWidth:"1.051",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M108.459 220.905s2.759-1.104 6.07-3.863",stroke:"#648BD8",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M76.099 223.557s2.608-.587 6.47-3.346M87.33 150.82c-.27 3.088.297 8.478-4.315 9.073M104.829 149.075s.11 13.936-1.286 14.983c-2.207 1.655-2.975 1.934-2.975 1.934M101.014 149.63s.035 12.81-1.19 24.245M94.93 174.965s7.174-1.655 9.38-1.655M75.671 204.754c-.316 1.55-.64 3.067-.973 4.535 0 0-1.45 1.822-1.003 3.756.446 1.934-.943 2.034-4.96 15.273-1.686 5.559-4.464 18.49-6.313 27.447-.078.38-4.018 18.06-4.093 18.423M77.043 196.743a313.269 313.269 0 0 1-.877 4.729M83.908 151.414l-1.19 10.413s-1.091.148-.496 2.23c.111 1.34-2.66 15.692-5.153 30.267M57.58 272.94h13.238",stroke:"#648BD8",strokeWidth:"1.051",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M117.377 147.423s-16.955-3.087-35.7.199c.157 2.501-.002 4.128-.002 4.128s14.607-2.802 35.476-.31c.251-2.342.226-4.017.226-4.017",fill:"#192064"}),a.createElement("path",{d:"M107.511 150.353l.004-4.885a.807.807 0 0 0-.774-.81c-2.428-.092-5.04-.108-7.795-.014a.814.814 0 0 0-.784.81l-.003 4.88c0 .456.371.82.827.808a140.76 140.76 0 0 1 7.688.017.81.81 0 0 0 .837-.806",fill:"#FFF"}),a.createElement("path",{d:"M106.402 149.426l.002-3.06a.64.64 0 0 0-.616-.643 94.135 94.135 0 0 0-5.834-.009.647.647 0 0 0-.626.643l-.001 3.056c0 .36.291.648.651.64 1.78-.04 3.708-.041 5.762.012.36.009.662-.279.662-.64",fill:"#192064"}),a.createElement("path",{d:"M101.485 273.933h12.272M102.652 269.075c.006 3.368.04 5.759.11 6.47M102.667 263.125c-.009 1.53-.015 2.98-.016 4.313M102.204 174.024l.893 44.402s.669 1.561-.224 2.677c-.892 1.116 2.455.67.893 2.231-1.562 1.562.893 1.116 0 3.347-.592 1.48-.988 20.987-1.09 34.956",stroke:"#648BD8",strokeWidth:"1.051",strokeLinecap:"round",strokeLinejoin:"round"})));const Q$={success:Vt.Z,error:yr.Z,info:Xn.Z,warning:V$},D_={404:H$,500:U$,403:J$},e4=Object.keys(D_),t4=e=>{let{prefixCls:t,icon:s,status:o}=e;const f=q()(`${t}-icon`);if(e4.includes(`${o}`)){const C=D_[o];return a.createElement("div",{className:`${f} ${t}-image`},a.createElement(C,null))}const y=a.createElement(Q$[o]);return s===null||s===!1?null:a.createElement("div",{className:f},s||y)},n4=e=>{let{prefixCls:t,extra:s}=e;return s?a.createElement("div",{className:`${t}-extra`},s):null},Tx=e=>{let{prefixCls:t,className:s,rootClassName:o,subTitle:f,title:y,style:C,children:w,status:I="info",icon:D,extra:L}=e;const{getPrefixCls:z,direction:k,result:j}=a.useContext(ye.E_),Z=z("result",t),[G,H,X]=q$(Z),ne=q()(Z,`${Z}-${I}`,s,j==null?void 0:j.className,o,{[`${Z}-rtl`]:k==="rtl"},H,X),oe=Object.assign(Object.assign({},j==null?void 0:j.style),C);return G(a.createElement("div",{className:ne,style:oe},a.createElement(t4,{prefixCls:Z,status:I,icon:D}),a.createElement("div",{className:`${Z}-title`},y),f&&a.createElement("div",{className:`${Z}-subtitle`},f),a.createElement(n4,{prefixCls:Z,extra:L}),w&&a.createElement("div",{className:`${Z}-content`},w)))};Tx.PRESENTED_IMAGE_403=D_[403],Tx.PRESENTED_IMAGE_404=D_[404],Tx.PRESENTED_IMAGE_500=D_[500];var r4=Tx,i4=W2.Z,o4=B(82162),a4=B(80300),rw=B(85990),s4=e=>{const{value:t,formatter:s,precision:o,decimalSeparator:f,groupSeparator:y="",prefixCls:C}=e;let w;if(typeof s=="function")w=s(t);else{const I=String(t),D=I.match(/^(-?)(\d*)(\.(\d+))?$/);if(!D||I==="-")w=I;else{const L=D[1];let z=D[2]||"0",k=D[4]||"";z=z.replace(/\B(?=(\d{3})+(?!\d))/g,y),typeof o=="number"&&(k=k.padEnd(o,"0").slice(0,o>0?o:0)),k&&(k=`${f}${k}`),w=[a.createElement("span",{key:"int",className:`${C}-content-value-int`},L,z),k&&a.createElement("span",{key:"decimal",className:`${C}-content-value-decimal`},k)]}}return a.createElement("span",{className:`${C}-content-value`},w)};const l4=e=>{const{componentCls:t,marginXXS:s,padding:o,colorTextDescription:f,titleFontSize:y,colorTextHeading:C,contentFontSize:w,fontFamily:I}=e;return{[t]:Object.assign(Object.assign({},(0,Qt.Wf)(e)),{[`${t}-title`]:{marginBottom:s,color:f,fontSize:y},[`${t}-skeleton`]:{paddingTop:o},[`${t}-content`]:{color:C,fontSize:w,fontFamily:I,[`${t}-content-value`]:{display:"inline-block",direction:"ltr"},[`${t}-content-prefix, ${t}-content-suffix`]:{display:"inline-block"},[`${t}-content-prefix`]:{marginInlineEnd:s},[`${t}-content-suffix`]:{marginInlineStart:s}}})}},c4=e=>{const{fontSizeHeading3:t,fontSize:s}=e;return{titleFontSize:s,contentFontSize:t}};var u4=(0,te.I$)("Statistic",e=>{const t=(0,ci.IX)(e,{});return[l4(t)]},c4),d4=function(e,t){var s={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(s[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(s[o[f]]=e[o[f]]);return s},iw=e=>{const{prefixCls:t,className:s,rootClassName:o,style:f,valueStyle:y,value:C=0,title:w,valueRender:I,prefix:D,suffix:L,loading:z=!1,formatter:k,precision:j,decimalSeparator:Z=".",groupSeparator:G=",",onMouseEnter:H,onMouseLeave:X}=e,ne=d4(e,["prefixCls","className","rootClassName","style","valueStyle","value","title","valueRender","prefix","suffix","loading","formatter","precision","decimalSeparator","groupSeparator","onMouseEnter","onMouseLeave"]),{getPrefixCls:oe,direction:ae,className:ie,style:le}=(0,ye.dj)("statistic"),fe=oe("statistic",t),[me,ge,xe]=u4(fe),Me=a.createElement(s4,{decimalSeparator:Z,groupSeparator:G,prefixCls:fe,formatter:k,precision:j,value:C}),$e=q()(fe,{[`${fe}-rtl`]:ae==="rtl"},ie,s,o,ge,xe),Oe=(0,ut.Z)(ne,{aria:!0,data:!0});return me(a.createElement("div",Object.assign({},Oe,{className:$e,style:Object.assign(Object.assign({},le),f),onMouseEnter:H,onMouseLeave:X}),w&&a.createElement("div",{className:`${fe}-title`},w),a.createElement(vo,{paragraph:!1,loading:z,className:`${fe}-skeleton`},a.createElement("div",{style:y,className:`${fe}-content`},D&&a.createElement("span",{className:`${fe}-content-prefix`},D),I?I(Me):Me,L&&a.createElement("span",{className:`${fe}-content-suffix`},L)))))};const f4=[["Y",1e3*60*60*24*365],["M",1e3*60*60*24*30],["D",1e3*60*60*24],["H",1e3*60*60],["m",1e3*60],["s",1e3],["S",1]];function h4(e,t){let s=e;const o=/\[[^\]]*]/g,f=(t.match(o)||[]).map(I=>I.slice(1,-1)),y=t.replace(o,"[]"),C=f4.reduce((I,D)=>{let[L,z]=D;if(I.includes(L)){const k=Math.floor(s/z);return s-=k*z,I.replace(new RegExp(`${L}+`,"g"),j=>{const Z=j.length;return k.toString().padStart(Z,"0")})}return I},y);let w=0;return C.replace(o,()=>{const I=f[w];return w+=1,I})}function p4(e,t){const{format:s=""}=t,o=new Date(e).getTime(),f=Date.now(),y=Math.max(o-f,0);return h4(y,s)}var m4=function(e,t){var s={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(s[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(s[o[f]]=e[o[f]]);return s};const g4=1e3/30;function v4(e){return new Date(e).getTime()}const y4=e=>{const{value:t,format:s="HH:mm:ss",onChange:o,onFinish:f}=e,y=m4(e,["value","format","onChange","onFinish"]),C=(0,rw.Z)(),w=a.useRef(null),I=()=>{f==null||f(),w.current&&(clearInterval(w.current),w.current=null)},D=()=>{const k=v4(t);k>=Date.now()&&(w.current=setInterval(()=>{C(),o==null||o(k-Date.now()),k<Date.now()&&I()},g4))};a.useEffect(()=>(D(),()=>{w.current&&(clearInterval(w.current),w.current=null)}),[t]);const L=(k,j)=>p4(k,Object.assign(Object.assign({},j),{format:s})),z=k=>(0,Cn.Tm)(k,{title:void 0});return a.createElement(iw,Object.assign({},y,{value:t,valueRender:z,formatter:L}))};var _4=a.memo(y4);iw.Countdown=_4;var b4=iw,x4=["className","prefixCls","style","active","status","iconPrefix","icon","wrapperStyle","stepNumber","disabled","description","title","subTitle","progressDot","stepIcon","tailContent","icons","stepIndex","onStepClick","onClick","render"];function UE(e){return typeof e=="string"}function C4(e){var t,s=e.className,o=e.prefixCls,f=e.style,y=e.active,C=e.status,w=e.iconPrefix,I=e.icon,D=e.wrapperStyle,L=e.stepNumber,z=e.disabled,k=e.description,j=e.title,Z=e.subTitle,G=e.progressDot,H=e.stepIcon,X=e.tailContent,ne=e.icons,oe=e.stepIndex,ae=e.onStepClick,ie=e.onClick,le=e.render,fe=(0,de.Z)(e,x4),me=!!ae&&!z,ge={};me&&(ge.role="button",ge.tabIndex=0,ge.onClick=function(Ne){ie==null||ie(Ne),ae(oe)},ge.onKeyDown=function(Ne){var Ke=Ne.which;(Ke===rt.Z.ENTER||Ke===rt.Z.SPACE)&&ae(oe)});var xe=function(){var Ke,je,lt=q()("".concat(o,"-icon"),"".concat(w,"icon"),(Ke={},(0,pe.Z)(Ke,"".concat(w,"icon-").concat(I),I&&UE(I)),(0,pe.Z)(Ke,"".concat(w,"icon-check"),!I&&C==="finish"&&(ne&&!ne.finish||!ne)),(0,pe.Z)(Ke,"".concat(w,"icon-cross"),!I&&C==="error"&&(ne&&!ne.error||!ne)),Ke)),ht=a.createElement("span",{className:"".concat(o,"-icon-dot")});return G?typeof G=="function"?je=a.createElement("span",{className:"".concat(o,"-icon")},G(ht,{index:L-1,status:C,title:j,description:k})):je=a.createElement("span",{className:"".concat(o,"-icon")},ht):I&&!UE(I)?je=a.createElement("span",{className:"".concat(o,"-icon")},I):ne&&ne.finish&&C==="finish"?je=a.createElement("span",{className:"".concat(o,"-icon")},ne.finish):ne&&ne.error&&C==="error"?je=a.createElement("span",{className:"".concat(o,"-icon")},ne.error):I||C==="finish"||C==="error"?je=a.createElement("span",{className:lt}):je=a.createElement("span",{className:"".concat(o,"-icon")},L),H&&(je=H({index:L-1,status:C,title:j,description:k,node:je})),je},Me=C||"wait",$e=q()("".concat(o,"-item"),"".concat(o,"-item-").concat(Me),s,(t={},(0,pe.Z)(t,"".concat(o,"-item-custom"),I),(0,pe.Z)(t,"".concat(o,"-item-active"),y),(0,pe.Z)(t,"".concat(o,"-item-disabled"),z===!0),t)),Oe=(0,Y.Z)({},f),He=a.createElement("div",(0,Ge.Z)({},fe,{className:$e,style:Oe}),a.createElement("div",(0,Ge.Z)({onClick:ie},ge,{className:"".concat(o,"-item-container")}),a.createElement("div",{className:"".concat(o,"-item-tail")},X),a.createElement("div",{className:"".concat(o,"-item-icon")},xe()),a.createElement("div",{className:"".concat(o,"-item-content")},a.createElement("div",{className:"".concat(o,"-item-title")},j,Z&&a.createElement("div",{title:typeof Z=="string"?Z:void 0,className:"".concat(o,"-item-subtitle")},Z)),k&&a.createElement("div",{className:"".concat(o,"-item-description")},k))));return le&&(He=le(He)||null),He}var WE=C4,S4=["prefixCls","style","className","children","direction","type","labelPlacement","iconPrefix","status","size","current","progressDot","stepIcon","initial","icons","onChange","itemRender","items"];function GE(e){var t,s=e.prefixCls,o=s===void 0?"rc-steps":s,f=e.style,y=f===void 0?{}:f,C=e.className,w=e.children,I=e.direction,D=I===void 0?"horizontal":I,L=e.type,z=L===void 0?"default":L,k=e.labelPlacement,j=k===void 0?"horizontal":k,Z=e.iconPrefix,G=Z===void 0?"rc":Z,H=e.status,X=H===void 0?"process":H,ne=e.size,oe=e.current,ae=oe===void 0?0:oe,ie=e.progressDot,le=ie===void 0?!1:ie,fe=e.stepIcon,me=e.initial,ge=me===void 0?0:me,xe=e.icons,Me=e.onChange,$e=e.itemRender,Oe=e.items,He=Oe===void 0?[]:Oe,Ne=(0,de.Z)(e,S4),Ke=z==="navigation",je=z==="inline",lt=je||le,ht=je?"horizontal":D,It=je?void 0:ne,Tt=lt?"vertical":j,wt=q()(o,"".concat(o,"-").concat(ht),C,(t={},(0,pe.Z)(t,"".concat(o,"-").concat(It),It),(0,pe.Z)(t,"".concat(o,"-label-").concat(Tt),ht==="horizontal"),(0,pe.Z)(t,"".concat(o,"-dot"),!!lt),(0,pe.Z)(t,"".concat(o,"-navigation"),Ke),(0,pe.Z)(t,"".concat(o,"-inline"),je),t)),_t=function(Dt){Me&&ae!==Dt&&Me(Dt)},At=function(Dt,Gt){var Pt=(0,Y.Z)({},Dt),Pn=ge+Gt;return X==="error"&&Gt===ae-1&&(Pt.className="".concat(o,"-next-error")),Pt.status||(Pn===ae?Pt.status=X:Pn<ae?Pt.status="finish":Pt.status="wait"),je&&(Pt.icon=void 0,Pt.subTitle=void 0),!Pt.render&&$e&&(Pt.render=function(Kn){return $e(Pt,Kn)}),a.createElement(WE,(0,Ge.Z)({},Pt,{active:Pn===ae,stepNumber:Pn+1,stepIndex:Pn,key:Pn,prefixCls:o,iconPrefix:G,wrapperStyle:y,progressDot:lt,stepIcon:fe,icons:xe,onStepClick:Me&&_t}))};return a.createElement("div",(0,Ge.Z)({className:wt,style:y},Ne),He.filter(function(Bt){return Bt}).map(At))}GE.Step=WE;var w4=GE,KE=w4,E4=e=>{const{componentCls:t,customIconTop:s,customIconSize:o,customIconFontSize:f}=e;return{[`${t}-item-custom`]:{[`> ${t}-item-container > ${t}-item-icon`]:{height:"auto",background:"none",border:0,[`> ${t}-icon`]:{top:s,width:o,height:o,fontSize:f,lineHeight:(0,he.bf)(o)}}},[`&:not(${t}-vertical)`]:{[`${t}-item-custom`]:{[`${t}-item-icon`]:{width:"auto",background:"none"}}}}},I4=e=>{const{componentCls:t}=e,s=`${t}-item`;return{[`${t}-horizontal`]:{[`${s}-tail`]:{transform:"translateY(-50%)"}}}},T4=e=>{const{componentCls:t,inlineDotSize:s,inlineTitleColor:o,inlineTailColor:f}=e,y=e.calc(e.paddingXS).add(e.lineWidth).equal(),C={[`${t}-item-container ${t}-item-content ${t}-item-title`]:{color:o}};return{[`&${t}-inline`]:{width:"auto",display:"inline-flex",[`${t}-item`]:{flex:"none","&-container":{padding:`${(0,he.bf)(y)} ${(0,he.bf)(e.paddingXXS)} 0`,margin:`0 ${(0,he.bf)(e.calc(e.marginXXS).div(2).equal())}`,borderRadius:e.borderRadiusSM,cursor:"pointer",transition:`background-color ${e.motionDurationMid}`,"&:hover":{background:e.controlItemBgHover},"&[role='button']:hover":{opacity:1}},"&-icon":{width:s,height:s,marginInlineStart:`calc(50% - ${(0,he.bf)(e.calc(s).div(2).equal())})`,[`> ${t}-icon`]:{top:0},[`${t}-icon-dot`]:{borderRadius:e.calc(e.fontSizeSM).div(4).equal(),"&::after":{display:"none"}}},"&-content":{width:"auto",marginTop:e.calc(e.marginXS).sub(e.lineWidth).equal()},"&-title":{color:o,fontSize:e.fontSizeSM,lineHeight:e.lineHeightSM,fontWeight:"normal",marginBottom:e.calc(e.marginXXS).div(2).equal()},"&-description":{display:"none"},"&-tail":{marginInlineStart:0,top:e.calc(s).div(2).add(y).equal(),transform:"translateY(-50%)","&:after":{width:"100%",height:e.lineWidth,borderRadius:0,marginInlineStart:0,background:f}},[`&:first-child ${t}-item-tail`]:{width:"50%",marginInlineStart:"50%"},[`&:last-child ${t}-item-tail`]:{display:"block",width:"50%"},"&-wait":Object.assign({[`${t}-item-icon ${t}-icon ${t}-icon-dot`]:{backgroundColor:e.colorBorderBg,border:`${(0,he.bf)(e.lineWidth)} ${e.lineType} ${f}`}},C),"&-finish":Object.assign({[`${t}-item-tail::after`]:{backgroundColor:f},[`${t}-item-icon ${t}-icon ${t}-icon-dot`]:{backgroundColor:f,border:`${(0,he.bf)(e.lineWidth)} ${e.lineType} ${f}`}},C),"&-error":C,"&-active, &-process":Object.assign({[`${t}-item-icon`]:{width:s,height:s,marginInlineStart:`calc(50% - ${(0,he.bf)(e.calc(s).div(2).equal())})`,top:0}},C),[`&:not(${t}-item-active) > ${t}-item-container[role='button']:hover`]:{[`${t}-item-title`]:{color:o}}}}}},M4=e=>{const{componentCls:t,iconSize:s,lineHeight:o,iconSizeSM:f}=e;return{[`&${t}-label-vertical`]:{[`${t}-item`]:{overflow:"visible","&-tail":{marginInlineStart:e.calc(s).div(2).add(e.controlHeightLG).equal(),padding:`0 ${(0,he.bf)(e.paddingLG)}`},"&-content":{display:"block",width:e.calc(s).div(2).add(e.controlHeightLG).mul(2).equal(),marginTop:e.marginSM,textAlign:"center"},"&-icon":{display:"inline-block",marginInlineStart:e.controlHeightLG},"&-title":{paddingInlineEnd:0,paddingInlineStart:0,"&::after":{display:"none"}},"&-subtitle":{display:"block",marginBottom:e.marginXXS,marginInlineStart:0,lineHeight:o}},[`&${t}-small:not(${t}-dot)`]:{[`${t}-item`]:{"&-icon":{marginInlineStart:e.calc(s).sub(f).div(2).add(e.controlHeightLG).equal()}}}}}},P4=e=>{const{componentCls:t,navContentMaxWidth:s,navArrowColor:o,stepsNavActiveColor:f,motionDurationSlow:y}=e;return{[`&${t}-navigation`]:{paddingTop:e.paddingSM,[`&${t}-small`]:{[`${t}-item`]:{"&-container":{marginInlineStart:e.calc(e.marginSM).mul(-1).equal()}}},[`${t}-item`]:{overflow:"visible",textAlign:"center","&-container":{display:"inline-block",height:"100%",marginInlineStart:e.calc(e.margin).mul(-1).equal(),paddingBottom:e.paddingSM,textAlign:"start",transition:`opacity ${y}`,[`${t}-item-content`]:{maxWidth:s},[`${t}-item-title`]:Object.assign(Object.assign({maxWidth:"100%",paddingInlineEnd:0},Qt.vS),{"&::after":{display:"none"}})},[`&:not(${t}-item-active)`]:{[`${t}-item-container[role='button']`]:{cursor:"pointer","&:hover":{opacity:.85}}},"&:last-child":{flex:1,"&::after":{display:"none"}},"&::after":{position:"absolute",top:`calc(50% - ${(0,he.bf)(e.calc(e.paddingSM).div(2).equal())})`,insetInlineStart:"100%",display:"inline-block",width:e.fontSizeIcon,height:e.fontSizeIcon,borderTop:`${(0,he.bf)(e.lineWidth)} ${e.lineType} ${o}`,borderBottom:"none",borderInlineStart:"none",borderInlineEnd:`${(0,he.bf)(e.lineWidth)} ${e.lineType} ${o}`,transform:"translateY(-50%) translateX(-50%) rotate(45deg)",content:'""'},"&::before":{position:"absolute",bottom:0,insetInlineStart:"50%",display:"inline-block",width:0,height:e.lineWidthBold,backgroundColor:f,transition:`width ${y}, inset-inline-start ${y}`,transitionTimingFunction:"ease-out",content:'""'}},[`${t}-item${t}-item-active::before`]:{insetInlineStart:0,width:"100%"}},[`&${t}-navigation${t}-vertical`]:{[`> ${t}-item`]:{marginInlineEnd:0,"&::before":{display:"none"},[`&${t}-item-active::before`]:{top:0,insetInlineEnd:0,insetInlineStart:"unset",display:"block",width:e.calc(e.lineWidth).mul(3).equal(),height:`calc(100% - ${(0,he.bf)(e.marginLG)})`},"&::after":{position:"relative",insetInlineStart:"50%",display:"block",width:e.calc(e.controlHeight).mul(.25).equal(),height:e.calc(e.controlHeight).mul(.25).equal(),marginBottom:e.marginXS,textAlign:"center",transform:"translateY(-50%) translateX(-50%) rotate(135deg)"},"&:last-child":{"&::after":{display:"none"}},[`> ${t}-item-container > ${t}-item-tail`]:{visibility:"hidden"}}},[`&${t}-navigation${t}-horizontal`]:{[`> ${t}-item > ${t}-item-container > ${t}-item-tail`]:{visibility:"hidden"}}}},O4=e=>{const{antCls:t,componentCls:s,iconSize:o,iconSizeSM:f,processIconColor:y,marginXXS:C,lineWidthBold:w,lineWidth:I,paddingXXS:D}=e,L=e.calc(o).add(e.calc(w).mul(4).equal()).equal(),z=e.calc(f).add(e.calc(e.lineWidth).mul(4).equal()).equal();return{[`&${s}-with-progress`]:{[`${s}-item`]:{paddingTop:D,[`&-process ${s}-item-container ${s}-item-icon ${s}-icon`]:{color:y}},[`&${s}-vertical > ${s}-item `]:{paddingInlineStart:D,[`> ${s}-item-container > ${s}-item-tail`]:{top:C,insetInlineStart:e.calc(o).div(2).sub(I).add(D).equal()}},[`&, &${s}-small`]:{[`&${s}-horizontal ${s}-item:first-child`]:{paddingBottom:D,paddingInlineStart:D}},[`&${s}-small${s}-vertical > ${s}-item > ${s}-item-container > ${s}-item-tail`]:{insetInlineStart:e.calc(f).div(2).sub(I).add(D).equal()},[`&${s}-label-vertical ${s}-item ${s}-item-tail`]:{top:e.calc(o).div(2).add(D).equal()},[`${s}-item-icon`]:{position:"relative",[`${t}-progress`]:{position:"absolute",insetInlineStart:"50%",top:"50%",transform:"translate(-50%, -50%)","&-inner":{width:`${(0,he.bf)(L)} !important`,height:`${(0,he.bf)(L)} !important`}}},[`&${s}-small`]:{[`&${s}-label-vertical ${s}-item ${s}-item-tail`]:{top:e.calc(f).div(2).add(D).equal()},[`${s}-item-icon ${t}-progress-inner`]:{width:`${(0,he.bf)(z)} !important`,height:`${(0,he.bf)(z)} !important`}}}}},R4=e=>{const{componentCls:t,descriptionMaxWidth:s,lineHeight:o,dotCurrentSize:f,dotSize:y,motionDurationSlow:C}=e;return{[`&${t}-dot, &${t}-dot${t}-small`]:{[`${t}-item`]:{"&-title":{lineHeight:o},"&-tail":{top:e.calc(e.dotSize).sub(e.calc(e.lineWidth).mul(3).equal()).div(2).equal(),width:"100%",marginTop:0,marginBottom:0,marginInline:`${(0,he.bf)(e.calc(s).div(2).equal())} 0`,padding:0,"&::after":{width:`calc(100% - ${(0,he.bf)(e.calc(e.marginSM).mul(2).equal())})`,height:e.calc(e.lineWidth).mul(3).equal(),marginInlineStart:e.marginSM}},"&-icon":{width:y,height:y,marginInlineStart:e.calc(e.descriptionMaxWidth).sub(y).div(2).equal(),paddingInlineEnd:0,lineHeight:(0,he.bf)(y),background:"transparent",border:0,[`${t}-icon-dot`]:{position:"relative",float:"left",width:"100%",height:"100%",borderRadius:100,transition:`all ${C}`,"&::after":{position:"absolute",top:e.calc(e.marginSM).mul(-1).equal(),insetInlineStart:e.calc(y).sub(e.calc(e.controlHeightLG).mul(1.5).equal()).div(2).equal(),width:e.calc(e.controlHeightLG).mul(1.5).equal(),height:e.controlHeight,background:"transparent",content:'""'}}},"&-content":{width:s},[`&-process ${t}-item-icon`]:{position:"relative",top:e.calc(y).sub(f).div(2).equal(),width:f,height:f,lineHeight:(0,he.bf)(f),background:"none",marginInlineStart:e.calc(e.descriptionMaxWidth).sub(f).div(2).equal()},[`&-process ${t}-icon`]:{[`&:first-child ${t}-icon-dot`]:{insetInlineStart:0}}}},[`&${t}-vertical${t}-dot`]:{[`${t}-item-icon`]:{marginTop:e.calc(e.controlHeight).sub(y).div(2).equal(),marginInlineStart:0,background:"none"},[`${t}-item-process ${t}-item-icon`]:{marginTop:e.calc(e.controlHeight).sub(f).div(2).equal(),top:0,insetInlineStart:e.calc(y).sub(f).div(2).equal(),marginInlineStart:0},[`${t}-item > ${t}-item-container > ${t}-item-tail`]:{top:e.calc(e.controlHeight).sub(y).div(2).equal(),insetInlineStart:0,margin:0,padding:`${(0,he.bf)(e.calc(y).add(e.paddingXS).equal())} 0 ${(0,he.bf)(e.paddingXS)}`,"&::after":{marginInlineStart:e.calc(y).sub(e.lineWidth).div(2).equal()}},[`&${t}-small`]:{[`${t}-item-icon`]:{marginTop:e.calc(e.controlHeightSM).sub(y).div(2).equal()},[`${t}-item-process ${t}-item-icon`]:{marginTop:e.calc(e.controlHeightSM).sub(f).div(2).equal()},[`${t}-item > ${t}-item-container > ${t}-item-tail`]:{top:e.calc(e.controlHeightSM).sub(y).div(2).equal()}},[`${t}-item:first-child ${t}-icon-dot`]:{insetInlineStart:0},[`${t}-item-content`]:{width:"inherit"}}}},$4=e=>{const{componentCls:t}=e;return{[`&${t}-rtl`]:{direction:"rtl",[`${t}-item`]:{"&-subtitle":{float:"left"}},[`&${t}-navigation`]:{[`${t}-item::after`]:{transform:"rotate(-45deg)"}},[`&${t}-vertical`]:{[`> ${t}-item`]:{"&::after":{transform:"rotate(225deg)"},[`${t}-item-icon`]:{float:"right"}}},[`&${t}-dot`]:{[`${t}-item-icon ${t}-icon-dot, &${t}-small ${t}-item-icon ${t}-icon-dot`]:{float:"right"}}}}},A4=e=>{const{componentCls:t,iconSizeSM:s,fontSizeSM:o,fontSize:f,colorTextDescription:y}=e;return{[`&${t}-small`]:{[`&${t}-horizontal:not(${t}-label-vertical) ${t}-item`]:{paddingInlineStart:e.paddingSM,"&:first-child":{paddingInlineStart:0}},[`${t}-item-icon`]:{width:s,height:s,marginTop:0,marginBottom:0,marginInline:`0 ${(0,he.bf)(e.marginXS)}`,fontSize:o,lineHeight:(0,he.bf)(s),textAlign:"center",borderRadius:s},[`${t}-item-title`]:{paddingInlineEnd:e.paddingSM,fontSize:f,lineHeight:(0,he.bf)(s),"&::after":{top:e.calc(s).div(2).equal()}},[`${t}-item-description`]:{color:y,fontSize:f},[`${t}-item-tail`]:{top:e.calc(s).div(2).sub(e.paddingXXS).equal()},[`${t}-item-custom ${t}-item-icon`]:{width:"inherit",height:"inherit",lineHeight:"inherit",background:"none",border:0,borderRadius:0,[`> ${t}-icon`]:{fontSize:s,lineHeight:(0,he.bf)(s),transform:"none"}}}}},D4=e=>{const{componentCls:t,iconSizeSM:s,iconSize:o}=e;return{[`&${t}-vertical`]:{display:"flex",flexDirection:"column",[`> ${t}-item`]:{display:"block",flex:"1 0 auto",paddingInlineStart:0,overflow:"visible",[`${t}-item-icon`]:{float:"left",marginInlineEnd:e.margin},[`${t}-item-content`]:{display:"block",minHeight:e.calc(e.controlHeight).mul(1.5).equal(),overflow:"hidden"},[`${t}-item-title`]:{lineHeight:(0,he.bf)(o)},[`${t}-item-description`]:{paddingBottom:e.paddingSM}},[`> ${t}-item > ${t}-item-container > ${t}-item-tail`]:{position:"absolute",top:0,insetInlineStart:e.calc(o).div(2).sub(e.lineWidth).equal(),width:e.lineWidth,height:"100%",padding:`${(0,he.bf)(e.calc(e.marginXXS).mul(1.5).add(o).equal())} 0 ${(0,he.bf)(e.calc(e.marginXXS).mul(1.5).equal())}`,"&::after":{width:e.lineWidth,height:"100%"}},[`> ${t}-item:not(:last-child) > ${t}-item-container > ${t}-item-tail`]:{display:"block"},[` > ${t}-item > ${t}-item-container > ${t}-item-content > ${t}-item-title`]:{"&::after":{display:"none"}},[`&${t}-small ${t}-item-container`]:{[`${t}-item-tail`]:{position:"absolute",top:0,insetInlineStart:e.calc(s).div(2).sub(e.lineWidth).equal(),padding:`${(0,he.bf)(e.calc(e.marginXXS).mul(1.5).add(s).equal())} 0 ${(0,he.bf)(e.calc(e.marginXXS).mul(1.5).equal())}`},[`${t}-item-title`]:{lineHeight:(0,he.bf)(s)}}}}};const L4="wait",z4="process",N4="finish",B4="error",Mx=(e,t)=>{const s=`${t.componentCls}-item`,o=`${e}IconColor`,f=`${e}TitleColor`,y=`${e}DescriptionColor`,C=`${e}TailColor`,w=`${e}IconBgColor`,I=`${e}IconBorderColor`,D=`${e}DotColor`;return{[`${s}-${e} ${s}-icon`]:{backgroundColor:t[w],borderColor:t[I],[`> ${t.componentCls}-icon`]:{color:t[o],[`${t.componentCls}-icon-dot`]:{background:t[D]}}},[`${s}-${e}${s}-custom ${s}-icon`]:{[`> ${t.componentCls}-icon`]:{color:t[D]}},[`${s}-${e} > ${s}-container > ${s}-content > ${s}-title`]:{color:t[f],"&::after":{backgroundColor:t[C]}},[`${s}-${e} > ${s}-container > ${s}-content > ${s}-description`]:{color:t[y]},[`${s}-${e} > ${s}-container > ${s}-tail::after`]:{backgroundColor:t[C]}}},F4=e=>{const{componentCls:t,motionDurationSlow:s}=e,o=`${t}-item`,f=`${o}-icon`;return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({[o]:{position:"relative",display:"inline-block",flex:1,overflow:"hidden",verticalAlign:"top","&:last-child":{flex:"none",[`> ${o}-container > ${o}-tail, > ${o}-container >  ${o}-content > ${o}-title::after`]:{display:"none"}}},[`${o}-container`]:{outline:"none","&:focus-visible":{[f]:Object.assign({},(0,Qt.oN)(e))}},[`${f}, ${o}-content`]:{display:"inline-block",verticalAlign:"top"},[f]:{width:e.iconSize,height:e.iconSize,marginTop:0,marginBottom:0,marginInlineStart:0,marginInlineEnd:e.marginXS,fontSize:e.iconFontSize,fontFamily:e.fontFamily,lineHeight:(0,he.bf)(e.iconSize),textAlign:"center",borderRadius:e.iconSize,border:`${(0,he.bf)(e.lineWidth)} ${e.lineType} transparent`,transition:`background-color ${s}, border-color ${s}`,[`${t}-icon`]:{position:"relative",top:e.iconTop,color:e.colorPrimary,lineHeight:1}},[`${o}-tail`]:{position:"absolute",top:e.calc(e.iconSize).div(2).equal(),insetInlineStart:0,width:"100%","&::after":{display:"inline-block",width:"100%",height:e.lineWidth,background:e.colorSplit,borderRadius:e.lineWidth,transition:`background ${s}`,content:'""'}},[`${o}-title`]:{position:"relative",display:"inline-block",paddingInlineEnd:e.padding,color:e.colorText,fontSize:e.fontSizeLG,lineHeight:(0,he.bf)(e.titleLineHeight),"&::after":{position:"absolute",top:e.calc(e.titleLineHeight).div(2).equal(),insetInlineStart:"100%",display:"block",width:9999,height:e.lineWidth,background:e.processTailColor,content:'""'}},[`${o}-subtitle`]:{display:"inline",marginInlineStart:e.marginXS,color:e.colorTextDescription,fontWeight:"normal",fontSize:e.fontSize},[`${o}-description`]:{color:e.colorTextDescription,fontSize:e.fontSize}},Mx(L4,e)),Mx(z4,e)),{[`${o}-process > ${o}-container > ${o}-title`]:{fontWeight:e.fontWeightStrong}}),Mx(N4,e)),Mx(B4,e)),{[`${o}${t}-next-error > ${t}-item-title::after`]:{background:e.colorError},[`${o}-disabled`]:{cursor:"not-allowed"}})},k4=e=>{const{componentCls:t,motionDurationSlow:s}=e;return{[`& ${t}-item`]:{[`&:not(${t}-item-active)`]:{[`& > ${t}-item-container[role='button']`]:{cursor:"pointer",[`${t}-item`]:{[`&-title, &-subtitle, &-description, &-icon ${t}-icon`]:{transition:`color ${s}`}},"&:hover":{[`${t}-item`]:{"&-title, &-subtitle, &-description":{color:e.colorPrimary}}}},[`&:not(${t}-item-process)`]:{[`& > ${t}-item-container[role='button']:hover`]:{[`${t}-item`]:{"&-icon":{borderColor:e.colorPrimary,[`${t}-icon`]:{color:e.colorPrimary}}}}}}},[`&${t}-horizontal:not(${t}-label-vertical)`]:{[`${t}-item`]:{paddingInlineStart:e.padding,whiteSpace:"nowrap","&:first-child":{paddingInlineStart:0},[`&:last-child ${t}-item-title`]:{paddingInlineEnd:0},"&-tail":{display:"none"},"&-description":{maxWidth:e.descriptionMaxWidth,whiteSpace:"normal"}}}}},Z4=e=>{const{componentCls:t}=e;return{[t]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(0,Qt.Wf)(e)),{display:"flex",width:"100%",fontSize:0,textAlign:"initial"}),F4(e)),k4(e)),E4(e)),A4(e)),D4(e)),I4(e)),M4(e)),R4(e)),P4(e)),$4(e)),O4(e)),T4(e))}},j4=e=>({titleLineHeight:e.controlHeight,customIconSize:e.controlHeight,customIconTop:0,customIconFontSize:e.controlHeightSM,iconSize:e.controlHeight,iconTop:-.5,iconFontSize:e.fontSize,iconSizeSM:e.fontSizeHeading3,dotSize:e.controlHeight/4,dotCurrentSize:e.controlHeightLG/4,navArrowColor:e.colorTextDisabled,navContentMaxWidth:"auto",descriptionMaxWidth:140,waitIconColor:e.wireframe?e.colorTextDisabled:e.colorTextLabel,waitIconBgColor:e.wireframe?e.colorBgContainer:e.colorFillContent,waitIconBorderColor:e.wireframe?e.colorTextDisabled:"transparent",finishIconBgColor:e.wireframe?e.colorBgContainer:e.controlItemBgActive,finishIconBorderColor:e.wireframe?e.colorPrimary:e.controlItemBgActive});var V4=(0,te.I$)("Steps",e=>{const{colorTextDisabled:t,controlHeightLG:s,colorTextLightSolid:o,colorText:f,colorPrimary:y,colorTextDescription:C,colorTextQuaternary:w,colorError:I,colorBorderSecondary:D,colorSplit:L}=e,z=(0,ci.IX)(e,{processIconColor:o,processTitleColor:f,processDescriptionColor:f,processIconBgColor:y,processIconBorderColor:y,processDotColor:y,processTailColor:L,waitTitleColor:C,waitDescriptionColor:C,waitTailColor:L,waitDotColor:t,finishIconColor:y,finishTitleColor:f,finishDescriptionColor:C,finishTailColor:y,finishDotColor:y,errorIconColor:o,errorTitleColor:I,errorDescriptionColor:I,errorTailColor:L,errorIconBgColor:I,errorIconBorderColor:I,errorDotColor:I,stepsNavActiveColor:y,stepsProgressSize:s,inlineDotSize:6,inlineTitleColor:w,inlineTailColor:D});return[Z4(z)]},j4);function H4(e){return e.filter(t=>t)}function U4(e,t){if(e)return e;const s=(0,Gl.Z)(t).map(o=>{if(a.isValidElement(o)){const{props:f}=o;return Object.assign({},f)}return null});return H4(s)}var W4=function(e,t){var s={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(s[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(s[o[f]]=e[o[f]]);return s};const XE=e=>{const{percent:t,size:s,className:o,rootClassName:f,direction:y,items:C,responsive:w=!0,current:I=0,children:D,style:L}=e,z=W4(e,["percent","size","className","rootClassName","direction","items","responsive","current","children","style"]),{xs:k}=(0,Gu.Z)(w),{getPrefixCls:j,direction:Z,className:G,style:H}=(0,ye.dj)("steps"),X=a.useMemo(()=>w&&k?"vertical":y,[k,y]),ne=(0,hc.Z)(s),oe=j("steps",e.prefixCls),[ae,ie,le]=V4(oe),fe=e.type==="inline",me=j("",e.iconPrefix),ge=U4(C,D),xe=fe?void 0:t,Me=Object.assign(Object.assign({},H),L),$e=q()(G,{[`${oe}-rtl`]:Z==="rtl",[`${oe}-with-progress`]:xe!==void 0},o,f,ie,le),Oe={finish:a.createElement(QS.Z,{className:`${oe}-finish-icon`}),error:a.createElement(lr.Z,{className:`${oe}-error-icon`})},He=Ke=>{let{node:je,status:lt}=Ke;if(lt==="process"&&xe!==void 0){const ht=ne==="small"?32:40;return a.createElement("div",{className:`${oe}-progress-icon`},a.createElement(tw,{type:"circle",percent:xe,size:ht,strokeWidth:4,format:()=>null}),je)}return je},Ne=(Ke,je)=>Ke.description?a.createElement(qr.Z,{title:Ke.description},je):je;return ae(a.createElement(KE,Object.assign({icons:Oe},z,{style:Me,current:I,size:ne,items:ge,itemRender:fe?Ne:void 0,stepIcon:He,direction:X,prefixCls:oe,iconPrefix:me,className:$e})))};XE.Step=KE.Step;var G4=XE,K4=["prefixCls","className","checked","defaultChecked","disabled","loadingIcon","checkedChildren","unCheckedChildren","onClick","onChange","onKeyDown"],YE=a.forwardRef(function(e,t){var s,o=e.prefixCls,f=o===void 0?"rc-switch":o,y=e.className,C=e.checked,w=e.defaultChecked,I=e.disabled,D=e.loadingIcon,L=e.checkedChildren,z=e.unCheckedChildren,k=e.onClick,j=e.onChange,Z=e.onKeyDown,G=(0,de.Z)(e,K4),H=(0,Cs.Z)(!1,{value:C,defaultValue:w}),X=(0,Re.Z)(H,2),ne=X[0],oe=X[1];function ae(me,ge){var xe=ne;return I||(xe=me,oe(xe),j==null||j(xe,ge)),xe}function ie(me){me.which===rt.Z.LEFT?ae(!1,me):me.which===rt.Z.RIGHT&&ae(!0,me),Z==null||Z(me)}function le(me){var ge=ae(!ne,me);k==null||k(ge,me)}var fe=q()(f,y,(s={},(0,pe.Z)(s,"".concat(f,"-checked"),ne),(0,pe.Z)(s,"".concat(f,"-disabled"),I),s));return a.createElement("button",(0,Ge.Z)({},G,{type:"button",role:"switch","aria-checked":ne,disabled:I,className:fe,ref:t,onKeyDown:ie,onClick:le}),D,a.createElement("span",{className:"".concat(f,"-inner")},a.createElement("span",{className:"".concat(f,"-inner-checked")},L),a.createElement("span",{className:"".concat(f,"-inner-unchecked")},z)))});YE.displayName="Switch";var X4=YE;const Y4=e=>{const{componentCls:t,trackHeightSM:s,trackPadding:o,trackMinWidthSM:f,innerMinMarginSM:y,innerMaxMarginSM:C,handleSizeSM:w,calc:I}=e,D=`${t}-inner`,L=(0,he.bf)(I(w).add(I(o).mul(2)).equal()),z=(0,he.bf)(I(C).mul(2).equal());return{[t]:{[`&${t}-small`]:{minWidth:f,height:s,lineHeight:(0,he.bf)(s),[`${t}-inner`]:{paddingInlineStart:C,paddingInlineEnd:y,[`${D}-checked, ${D}-unchecked`]:{minHeight:s},[`${D}-checked`]:{marginInlineStart:`calc(-100% + ${L} - ${z})`,marginInlineEnd:`calc(100% - ${L} + ${z})`},[`${D}-unchecked`]:{marginTop:I(s).mul(-1).equal(),marginInlineStart:0,marginInlineEnd:0}},[`${t}-handle`]:{width:w,height:w},[`${t}-loading-icon`]:{top:I(I(w).sub(e.switchLoadingIconSize)).div(2).equal(),fontSize:e.switchLoadingIconSize},[`&${t}-checked`]:{[`${t}-inner`]:{paddingInlineStart:y,paddingInlineEnd:C,[`${D}-checked`]:{marginInlineStart:0,marginInlineEnd:0},[`${D}-unchecked`]:{marginInlineStart:`calc(100% - ${L} + ${z})`,marginInlineEnd:`calc(-100% + ${L} - ${z})`}},[`${t}-handle`]:{insetInlineStart:`calc(100% - ${(0,he.bf)(I(w).add(o).equal())})`}},[`&:not(${t}-disabled):active`]:{[`&:not(${t}-checked) ${D}`]:{[`${D}-unchecked`]:{marginInlineStart:I(e.marginXXS).div(2).equal(),marginInlineEnd:I(e.marginXXS).mul(-1).div(2).equal()}},[`&${t}-checked ${D}`]:{[`${D}-checked`]:{marginInlineStart:I(e.marginXXS).mul(-1).div(2).equal(),marginInlineEnd:I(e.marginXXS).div(2).equal()}}}}}}},q4=e=>{const{componentCls:t,handleSize:s,calc:o}=e;return{[t]:{[`${t}-loading-icon${e.iconCls}`]:{position:"relative",top:o(o(s).sub(e.fontSize)).div(2).equal(),color:e.switchLoadingIconColor,verticalAlign:"top"},[`&${t}-checked ${t}-loading-icon`]:{color:e.switchColor}}}},J4=e=>{const{componentCls:t,trackPadding:s,handleBg:o,handleShadow:f,handleSize:y,calc:C}=e,w=`${t}-handle`;return{[t]:{[w]:{position:"absolute",top:s,insetInlineStart:s,width:y,height:y,transition:`all ${e.switchDuration} ease-in-out`,"&::before":{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,backgroundColor:o,borderRadius:C(y).div(2).equal(),boxShadow:f,transition:`all ${e.switchDuration} ease-in-out`,content:'""'}},[`&${t}-checked ${w}`]:{insetInlineStart:`calc(100% - ${(0,he.bf)(C(y).add(s).equal())})`},[`&:not(${t}-disabled):active`]:{[`${w}::before`]:{insetInlineEnd:e.switchHandleActiveInset,insetInlineStart:0},[`&${t}-checked ${w}::before`]:{insetInlineEnd:0,insetInlineStart:e.switchHandleActiveInset}}}}},Q4=e=>{const{componentCls:t,trackHeight:s,trackPadding:o,innerMinMargin:f,innerMaxMargin:y,handleSize:C,calc:w}=e,I=`${t}-inner`,D=(0,he.bf)(w(C).add(w(o).mul(2)).equal()),L=(0,he.bf)(w(y).mul(2).equal());return{[t]:{[I]:{display:"block",overflow:"hidden",borderRadius:100,height:"100%",paddingInlineStart:y,paddingInlineEnd:f,transition:`padding-inline-start ${e.switchDuration} ease-in-out, padding-inline-end ${e.switchDuration} ease-in-out`,[`${I}-checked, ${I}-unchecked`]:{display:"block",color:e.colorTextLightSolid,fontSize:e.fontSizeSM,transition:`margin-inline-start ${e.switchDuration} ease-in-out, margin-inline-end ${e.switchDuration} ease-in-out`,pointerEvents:"none",minHeight:s},[`${I}-checked`]:{marginInlineStart:`calc(-100% + ${D} - ${L})`,marginInlineEnd:`calc(100% - ${D} + ${L})`},[`${I}-unchecked`]:{marginTop:w(s).mul(-1).equal(),marginInlineStart:0,marginInlineEnd:0}},[`&${t}-checked ${I}`]:{paddingInlineStart:f,paddingInlineEnd:y,[`${I}-checked`]:{marginInlineStart:0,marginInlineEnd:0},[`${I}-unchecked`]:{marginInlineStart:`calc(100% - ${D} + ${L})`,marginInlineEnd:`calc(-100% + ${D} - ${L})`}},[`&:not(${t}-disabled):active`]:{[`&:not(${t}-checked) ${I}`]:{[`${I}-unchecked`]:{marginInlineStart:w(o).mul(2).equal(),marginInlineEnd:w(o).mul(-1).mul(2).equal()}},[`&${t}-checked ${I}`]:{[`${I}-checked`]:{marginInlineStart:w(o).mul(-1).mul(2).equal(),marginInlineEnd:w(o).mul(2).equal()}}}}}},eA=e=>{const{componentCls:t,trackHeight:s,trackMinWidth:o}=e;return{[t]:Object.assign(Object.assign(Object.assign(Object.assign({},(0,Qt.Wf)(e)),{position:"relative",display:"inline-block",boxSizing:"border-box",minWidth:o,height:s,lineHeight:(0,he.bf)(s),verticalAlign:"middle",background:e.colorTextQuaternary,border:"0",borderRadius:100,cursor:"pointer",transition:`all ${e.motionDurationMid}`,userSelect:"none",[`&:hover:not(${t}-disabled)`]:{background:e.colorTextTertiary}}),(0,Qt.Qy)(e)),{[`&${t}-checked`]:{background:e.switchColor,[`&:hover:not(${t}-disabled)`]:{background:e.colorPrimaryHover}},[`&${t}-loading, &${t}-disabled`]:{cursor:"not-allowed",opacity:e.switchDisabledOpacity,"*":{boxShadow:"none",cursor:"not-allowed"}},[`&${t}-rtl`]:{direction:"rtl"}})}},tA=e=>{const{fontSize:t,lineHeight:s,controlHeight:o,colorWhite:f}=e,y=t*s,C=o/2,w=2,I=y-w*2,D=C-w*2;return{trackHeight:y,trackHeightSM:C,trackMinWidth:I*2+w*4,trackMinWidthSM:D*2+w*2,trackPadding:w,handleBg:f,handleSize:I,handleSizeSM:D,handleShadow:`0 2px 4px 0 ${new mo.t("#00230b").setA(.2).toRgbString()}`,innerMinMargin:I/2,innerMaxMargin:I+w+w*2,innerMinMarginSM:D/2,innerMaxMarginSM:D+w+w*2}};var nA=(0,te.I$)("Switch",e=>{const t=(0,ci.IX)(e,{switchDuration:e.motionDurationMid,switchColor:e.colorPrimary,switchDisabledOpacity:e.opacityLoading,switchLoadingIconSize:e.calc(e.fontSizeIcon).mul(.75).equal(),switchLoadingIconColor:`rgba(0, 0, 0, ${e.opacityLoading})`,switchHandleActiveInset:"-30%"});return[eA(t),Q4(t),J4(t),q4(t),Y4(t)]},tA),rA=function(e,t){var s={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(s[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(s[o[f]]=e[o[f]]);return s};const qE=a.forwardRef((e,t)=>{const{prefixCls:s,size:o,disabled:f,loading:y,className:C,rootClassName:w,style:I,checked:D,value:L,defaultChecked:z,defaultValue:k,onChange:j}=e,Z=rA(e,["prefixCls","size","disabled","loading","className","rootClassName","style","checked","value","defaultChecked","defaultValue","onChange"]),[G,H]=(0,Cs.Z)(!1,{value:D!=null?D:L,defaultValue:z!=null?z:k}),{getPrefixCls:X,direction:ne,switch:oe}=a.useContext(ye.E_),ae=a.useContext(Fo.Z),ie=(f!=null?f:ae)||y,le=X("switch",s),fe=a.createElement("div",{className:`${le}-handle`},y&&a.createElement(wn.Z,{className:`${le}-loading-icon`})),[me,ge,xe]=nA(le),Me=(0,hc.Z)(o),$e=q()(oe==null?void 0:oe.className,{[`${le}-small`]:Me==="small",[`${le}-loading`]:y,[`${le}-rtl`]:ne==="rtl"},C,w,ge,xe),Oe=Object.assign(Object.assign({},oe==null?void 0:oe.style),I),He=function(){H(arguments.length<=0?void 0:arguments[0]),j==null||j.apply(void 0,arguments)};return me(a.createElement(th.Z,{component:"Switch"},a.createElement(X4,Object.assign({},Z,{checked:G,onChange:He,prefixCls:le,className:$e,style:Oe,disabled:ie,ref:t,loadingIcon:fe}))))});qE.__ANT_SWITCH=!0;var iA=qE,Kh={},L_="rc-table-internal-hook";function ow(e){var t=a.createContext(void 0),s=function(f){var y=f.value,C=f.children,w=a.useRef(y);w.current=y;var I=a.useState(function(){return{getValue:function(){return w.current},listeners:new Set}}),D=(0,Re.Z)(I,1),L=D[0];return(0,cl.Z)(function(){(0,Ze.unstable_batchedUpdates)(function(){L.listeners.forEach(function(z){z(y)})})},[y]),a.createElement(t.Provider,{value:L},C)};return{Context:t,Provider:s,defaultValue:e}}function qc(e,t){var s=(0,_r.Z)(typeof t=="function"?t:function(z){if(t===void 0)return z;if(!Array.isArray(t))return z[t];var k={};return t.forEach(function(j){k[j]=z[j]}),k}),o=a.useContext(e==null?void 0:e.Context),f=o||{},y=f.listeners,C=f.getValue,w=a.useRef();w.current=s(o?C():e==null?void 0:e.defaultValue);var I=a.useState({}),D=(0,Re.Z)(I,2),L=D[1];return(0,cl.Z)(function(){if(!o)return;function z(k){var j=s(k);(0,mu.Z)(w.current,j,!0)||L({})}return y.add(z),function(){y.delete(z)}},[o]),w.current}function JE(){var e=a.createContext(null);function t(){return a.useContext(e)}function s(f,y){var C=(0,Jt.Yr)(f),w=function(D,L){var z=C?{ref:L}:{},k=a.useRef(0),j=a.useRef(D),Z=t();return Z!==null?a.createElement(f,(0,Ge.Z)({},D,z)):((!y||y(j.current,D))&&(k.current+=1),j.current=D,a.createElement(e.Provider,{value:k.current},a.createElement(f,(0,Ge.Z)({},D,z))))};return C?a.forwardRef(w):w}function o(f,y){var C=(0,Jt.Yr)(f),w=function(D,L){var z=C?{ref:L}:{};return t(),a.createElement(f,(0,Ge.Z)({},D,z))};return C?a.memo(a.forwardRef(w),y):a.memo(w,y)}return{makeImmutable:s,responseImmutable:o,useImmutableMark:t}}var aw=JE(),b8=aw.makeImmutable,x8=aw.responseImmutable,C8=aw.useImmutableMark,sw=JE(),QE=sw.makeImmutable,bv=sw.responseImmutable,oA=sw.useImmutableMark,aA=ow(),Cu=aA;function S8(e,t){var s=React.useRef(0);s.current+=1;var o=React.useRef(e),f=[];Object.keys(e||{}).map(function(C){var w;(e==null?void 0:e[C])!==((w=o.current)===null||w===void 0?void 0:w[C])&&f.push(C)}),o.current=e;var y=React.useRef([]);return f.length&&(y.current=f),React.useDebugValue(s.current),React.useDebugValue(y.current.join(", ")),t&&console.log("".concat(t,":"),s.current,y.current),s.current}var w8=null,E8=null,lw=B(36040),sA=a.createContext({renderWithProps:!1}),eI=sA,lA="RC_TABLE_KEY";function cA(e){return e==null?[]:Array.isArray(e)?e:[e]}function Px(e){var t=[],s={};return e.forEach(function(o){for(var f=o||{},y=f.key,C=f.dataIndex,w=y||cA(C).join("-")||lA;s[w];)w="".concat(w,"_next");s[w]=!0,t.push(w)}),t}function cw(e){return e!=null}function uA(e){return typeof e=="number"&&!Number.isNaN(e)}function dA(e){return e&&(0,nt.Z)(e)==="object"&&!Array.isArray(e)&&!a.isValidElement(e)}function fA(e,t,s,o,f,y){var C=a.useContext(eI),w=oA(),I=(0,Qd.Z)(function(){if(cw(o))return[o];var D=t==null||t===""?[]:Array.isArray(t)?t:[t],L=(0,lw.Z)(e,D),z=L,k=void 0;if(f){var j=f(L,e,s);dA(j)?(z=j.children,k=j.props,C.renderWithProps=!0):z=j}return[z,k]},[w,e,o,t,f,s],function(D,L){if(y){var z=(0,Re.Z)(D,2),k=z[1],j=(0,Re.Z)(L,2),Z=j[1];return y(Z,k)}return C.renderWithProps?!0:!(0,mu.Z)(D,L,!0)});return I}function hA(e,t,s,o){var f=e+t-1;return e<=o&&f>=s}function pA(e,t){return qc(Cu,function(s){var o=hA(e,t||1,s.hoverStartRow,s.hoverEndRow);return[o,s.onHover]})}var mA=function(t){var s=t.ellipsis,o=t.rowType,f=t.children,y,C=s===!0?{showTitle:!0}:s;return C&&(C.showTitle||o==="header")&&(typeof f=="string"||typeof f=="number"?y=f.toString():a.isValidElement(f)&&typeof f.props.children=="string"&&(y=f.props.children)),y};function gA(e){var t,s,o,f,y,C,w,I,D=e.component,L=e.children,z=e.ellipsis,k=e.scope,j=e.prefixCls,Z=e.className,G=e.align,H=e.record,X=e.render,ne=e.dataIndex,oe=e.renderIndex,ae=e.shouldCellUpdate,ie=e.index,le=e.rowType,fe=e.colSpan,me=e.rowSpan,ge=e.fixLeft,xe=e.fixRight,Me=e.firstFixLeft,$e=e.lastFixLeft,Oe=e.firstFixRight,He=e.lastFixRight,Ne=e.appendNode,Ke=e.additionalProps,je=Ke===void 0?{}:Ke,lt=e.isSticky,ht="".concat(j,"-cell"),It=qc(Cu,["supportSticky","allColumnsFixedLeft","rowHoverable"]),Tt=It.supportSticky,wt=It.allColumnsFixedLeft,_t=It.rowHoverable,At=fA(H,ne,oe,L,X,ae),Bt=(0,Re.Z)(At,2),Dt=Bt[0],Gt=Bt[1],Pt={},Pn=typeof ge=="number"&&Tt,Kn=typeof xe=="number"&&Tt;Pn&&(Pt.position="sticky",Pt.left=ge),Kn&&(Pt.position="sticky",Pt.right=xe);var _n=(t=(s=(o=Gt==null?void 0:Gt.colSpan)!==null&&o!==void 0?o:je.colSpan)!==null&&s!==void 0?s:fe)!==null&&t!==void 0?t:1,Fn=(f=(y=(C=Gt==null?void 0:Gt.rowSpan)!==null&&C!==void 0?C:je.rowSpan)!==null&&y!==void 0?y:me)!==null&&f!==void 0?f:1,on=pA(ie,Fn),Zt=(0,Re.Z)(on,2),Vn=Zt[0],Ln=Zt[1],kr=(0,Ls.zX)(function(Ei){var ki;H&&Ln(ie,ie+Fn-1),je==null||(ki=je.onMouseEnter)===null||ki===void 0||ki.call(je,Ei)}),Sr=(0,Ls.zX)(function(Ei){var ki;H&&Ln(-1,-1),je==null||(ki=je.onMouseLeave)===null||ki===void 0||ki.call(je,Ei)});if(_n===0||Fn===0)return null;var dr=(w=je.title)!==null&&w!==void 0?w:mA({rowType:le,ellipsis:z,children:Dt}),cr=q()(ht,Z,(I={},(0,pe.Z)((0,pe.Z)((0,pe.Z)((0,pe.Z)((0,pe.Z)((0,pe.Z)((0,pe.Z)((0,pe.Z)((0,pe.Z)((0,pe.Z)(I,"".concat(ht,"-fix-left"),Pn&&Tt),"".concat(ht,"-fix-left-first"),Me&&Tt),"".concat(ht,"-fix-left-last"),$e&&Tt),"".concat(ht,"-fix-left-all"),$e&&wt&&Tt),"".concat(ht,"-fix-right"),Kn&&Tt),"".concat(ht,"-fix-right-first"),Oe&&Tt),"".concat(ht,"-fix-right-last"),He&&Tt),"".concat(ht,"-ellipsis"),z),"".concat(ht,"-with-append"),Ne),"".concat(ht,"-fix-sticky"),(Pn||Kn)&&lt&&Tt),(0,pe.Z)(I,"".concat(ht,"-row-hover"),!Gt&&Vn)),je.className,Gt==null?void 0:Gt.className),Zn={};G&&(Zn.textAlign=G);var ur=(0,Y.Z)((0,Y.Z)((0,Y.Z)((0,Y.Z)({},Gt==null?void 0:Gt.style),Pt),Zn),je.style),ti=Dt;return(0,nt.Z)(ti)==="object"&&!Array.isArray(ti)&&!a.isValidElement(ti)&&(ti=null),z&&($e||Oe)&&(ti=a.createElement("span",{className:"".concat(ht,"-content")},ti)),a.createElement(D,(0,Ge.Z)({},Gt,je,{className:cr,style:ur,title:dr,scope:k,onMouseEnter:_t?kr:void 0,onMouseLeave:_t?Sr:void 0,colSpan:_n!==1?_n:null,rowSpan:Fn!==1?Fn:null}),Ne,ti)}var xv=a.memo(gA);function uw(e,t,s,o,f){var y=s[e]||{},C=s[t]||{},w,I;y.fixed==="left"?w=o.left[f==="rtl"?t:e]:C.fixed==="right"&&(I=o.right[f==="rtl"?e:t]);var D=!1,L=!1,z=!1,k=!1,j=s[t+1],Z=s[e-1],G=j&&!j.fixed||Z&&!Z.fixed||s.every(function(ae){return ae.fixed==="left"});if(f==="rtl"){if(w!==void 0){var H=Z&&Z.fixed==="left";k=!H&&G}else if(I!==void 0){var X=j&&j.fixed==="right";z=!X&&G}}else if(w!==void 0){var ne=j&&j.fixed==="left";D=!ne&&G}else if(I!==void 0){var oe=Z&&Z.fixed==="right";L=!oe&&G}return{fixLeft:w,fixRight:I,lastFixLeft:D,firstFixRight:L,lastFixRight:z,firstFixLeft:k,isSticky:o.isSticky}}var vA=a.createContext({}),tI=vA;function yA(e){var t=e.className,s=e.index,o=e.children,f=e.colSpan,y=f===void 0?1:f,C=e.rowSpan,w=e.align,I=qc(Cu,["prefixCls","direction"]),D=I.prefixCls,L=I.direction,z=a.useContext(tI),k=z.scrollColumnIndex,j=z.stickyOffsets,Z=z.flattenColumns,G=s+y-1,H=G+1===k?y+1:y,X=uw(s,s+H-1,Z,j,L);return a.createElement(xv,(0,Ge.Z)({className:t,index:s,component:"td",prefixCls:D,record:null,dataIndex:null,align:w,colSpan:H,rowSpan:C,render:function(){return o}},X))}var _A=["children"];function bA(e){var t=e.children,s=(0,de.Z)(e,_A);return a.createElement("tr",s,t)}function dw(e){var t=e.children;return t}dw.Row=bA,dw.Cell=yA;var nI=dw;function xA(e){var t=e.children,s=e.stickyOffsets,o=e.flattenColumns,f=qc(Cu,"prefixCls"),y=o.length-1,C=o[y],w=a.useMemo(function(){return{stickyOffsets:s,flattenColumns:o,scrollColumnIndex:C!=null&&C.scrollbar?y:null}},[C,o,y,s]);return a.createElement(tI.Provider,{value:w},a.createElement("tfoot",{className:"".concat(f,"-summary")},t))}var Ox=bv(xA),rI=nI,iI=function(t){if((0,Ts.Z)()&&window.document.documentElement){var s=Array.isArray(t)?t:[t],o=window.document.documentElement;return s.some(function(f){return f in o.style})}return!1},CA=function(t,s){if(!iI(t))return!1;var o=document.createElement("div"),f=o.style[t];return o.style[t]=s,o.style[t]!==f};function fw(e,t){return!Array.isArray(e)&&t!==void 0?CA(e,t):iI(e)}var Rx=B(90242);function oI(e,t,s,o,f,y,C){e.push({record:t,indent:s,index:C});var w=y(t),I=f==null?void 0:f.has(w);if(t&&Array.isArray(t[o])&&I)for(var D=0;D<t[o].length;D+=1)oI(e,t[o][D],s+1,o,f,y,D)}function aI(e,t,s,o){var f=a.useMemo(function(){if(s!=null&&s.size){for(var y=[],C=0;C<(e==null?void 0:e.length);C+=1){var w=e[C];oI(y,w,0,t,s,o,C)}return y}return e==null?void 0:e.map(function(I,D){return{record:I,indent:0,index:D}})},[e,t,s,o]);return f}function sI(e,t,s,o){var f=qc(Cu,["prefixCls","fixedInfoList","flattenColumns","expandableType","expandRowByClick","onTriggerExpand","rowClassName","expandedRowClassName","indentSize","expandIcon","expandedRowRender","expandIconColumnIndex","expandedKeys","childrenColumnName","rowExpandable","onRow"]),y=f.flattenColumns,C=f.expandableType,w=f.expandedKeys,I=f.childrenColumnName,D=f.onTriggerExpand,L=f.rowExpandable,z=f.onRow,k=f.expandRowByClick,j=f.rowClassName,Z=C==="nest",G=C==="row"&&(!L||L(e)),H=G||Z,X=w&&w.has(t),ne=I&&e&&e[I],oe=(0,Ls.zX)(D),ae=z==null?void 0:z(e,s),ie=ae==null?void 0:ae.onClick,le=function(xe){k&&H&&D(e,xe);for(var Me=arguments.length,$e=new Array(Me>1?Me-1:0),Oe=1;Oe<Me;Oe++)$e[Oe-1]=arguments[Oe];ie==null||ie.apply(void 0,[xe].concat($e))},fe;typeof j=="string"?fe=j:typeof j=="function"&&(fe=j(e,s,o));var me=Px(y);return(0,Y.Z)((0,Y.Z)({},f),{},{columnsKey:me,nestExpandable:Z,expanded:X,hasNestChildren:ne,record:e,onTriggerExpand:oe,rowSupportExpand:G,expandable:H,rowProps:(0,Y.Z)((0,Y.Z)({},ae),{},{className:q()(fe,ae==null?void 0:ae.className),onClick:le})})}function SA(e){var t=e.prefixCls,s=e.children,o=e.component,f=e.cellComponent,y=e.className,C=e.expanded,w=e.colSpan,I=e.isEmpty,D=qc(Cu,["scrollbarSize","fixHeader","fixColumn","componentWidth","horizonScroll"]),L=D.scrollbarSize,z=D.fixHeader,k=D.fixColumn,j=D.componentWidth,Z=D.horizonScroll,G=s;return(I?Z&&j:k)&&(G=a.createElement("div",{style:{width:j-(z&&!I?L:0),position:"sticky",left:0,overflow:"hidden"},className:"".concat(t,"-expanded-row-fixed")},G)),a.createElement(o,{className:y,style:{display:C?null:"none"}},a.createElement(xv,{component:f,prefixCls:t,colSpan:w},G))}var lI=SA;function wA(e){var t=e.prefixCls,s=e.record,o=e.onExpand,f=e.expanded,y=e.expandable,C="".concat(t,"-row-expand-icon");if(!y)return a.createElement("span",{className:q()(C,"".concat(t,"-row-spaced"))});var w=function(D){o(s,D),D.stopPropagation()};return a.createElement("span",{className:q()(C,(0,pe.Z)((0,pe.Z)({},"".concat(t,"-row-expanded"),f),"".concat(t,"-row-collapsed"),!f)),onClick:w})}function EA(e,t,s){var o=[];function f(y){(y||[]).forEach(function(C,w){o.push(t(C,w)),f(C[s])})}return f(e),o}function cI(e,t,s,o){return typeof e=="string"?e:typeof e=="function"?e(t,s,o):""}function uI(e,t,s,o,f){var y=e.record,C=e.prefixCls,w=e.columnsKey,I=e.fixedInfoList,D=e.expandIconColumnIndex,L=e.nestExpandable,z=e.indentSize,k=e.expandIcon,j=e.expanded,Z=e.hasNestChildren,G=e.onTriggerExpand,H=w[s],X=I[s],ne;s===(D||0)&&L&&(ne=a.createElement(a.Fragment,null,a.createElement("span",{style:{paddingLeft:"".concat(z*o,"px")},className:"".concat(C,"-row-indent indent-level-").concat(o)}),k({prefixCls:C,expanded:j,expandable:Z,record:y,onExpand:G})));var oe;return t.onCell&&(oe=t.onCell(y,f)),{key:H,fixedInfo:X,appendCellNode:ne,additionalCellProps:oe||{}}}function IA(e){var t=e.className,s=e.style,o=e.record,f=e.index,y=e.renderIndex,C=e.rowKey,w=e.indent,I=w===void 0?0:w,D=e.rowComponent,L=e.cellComponent,z=e.scopeCellComponent,k=sI(o,C,f,I),j=k.prefixCls,Z=k.flattenColumns,G=k.expandedRowClassName,H=k.expandedRowRender,X=k.rowProps,ne=k.expanded,oe=k.rowSupportExpand,ae=a.useRef(!1);ae.current||(ae.current=ne);var ie=cI(G,o,f,I),le=a.createElement(D,(0,Ge.Z)({},X,{"data-row-key":C,className:q()(t,"".concat(j,"-row"),"".concat(j,"-row-level-").concat(I),X==null?void 0:X.className,(0,pe.Z)({},ie,I>=1)),style:(0,Y.Z)((0,Y.Z)({},s),X==null?void 0:X.style)}),Z.map(function(ge,xe){var Me=ge.render,$e=ge.dataIndex,Oe=ge.className,He=uI(k,ge,xe,I,f),Ne=He.key,Ke=He.fixedInfo,je=He.appendCellNode,lt=He.additionalCellProps;return a.createElement(xv,(0,Ge.Z)({className:Oe,ellipsis:ge.ellipsis,align:ge.align,scope:ge.rowScope,component:ge.rowScope?z:L,prefixCls:j,key:Ne,record:o,index:f,renderIndex:y,dataIndex:$e,render:Me,shouldCellUpdate:ge.shouldCellUpdate},Ke,{appendNode:je,additionalProps:lt}))})),fe;if(oe&&(ae.current||ne)){var me=H(o,f,I+1,ne);fe=a.createElement(lI,{expanded:ne,className:q()("".concat(j,"-expanded-row"),"".concat(j,"-expanded-row-level-").concat(I+1),ie),prefixCls:j,component:D,cellComponent:L,colSpan:Z.length,isEmpty:!1},me)}return a.createElement(a.Fragment,null,le,fe)}var TA=bv(IA);function MA(e){var t=e.columnKey,s=e.onColumnResize,o=a.useRef();return a.useEffect(function(){o.current&&s(t,o.current.offsetWidth)},[]),a.createElement(c.Z,{data:t},a.createElement("td",{ref:o,style:{padding:0,border:0,height:0}},a.createElement("div",{style:{height:0,overflow:"hidden"}},"\xA0")))}function PA(e){var t=e.prefixCls,s=e.columnsKey,o=e.onColumnResize;return a.createElement("tr",{"aria-hidden":"true",className:"".concat(t,"-measure-row"),style:{height:0,fontSize:0}},a.createElement(c.Z.Collection,{onBatchResize:function(y){y.forEach(function(C){var w=C.data,I=C.size;o(w,I.offsetWidth)})}},s.map(function(f){return a.createElement(MA,{key:f,columnKey:f,onColumnResize:o})})))}function OA(e){var t=e.data,s=e.measureColumnWidth,o=qc(Cu,["prefixCls","getComponent","onColumnResize","flattenColumns","getRowKey","expandedKeys","childrenColumnName","emptyNode"]),f=o.prefixCls,y=o.getComponent,C=o.onColumnResize,w=o.flattenColumns,I=o.getRowKey,D=o.expandedKeys,L=o.childrenColumnName,z=o.emptyNode,k=aI(t,L,D,I),j=a.useRef({renderWithProps:!1}),Z=y(["body","wrapper"],"tbody"),G=y(["body","row"],"tr"),H=y(["body","cell"],"td"),X=y(["body","cell"],"th"),ne;t.length?ne=k.map(function(ae,ie){var le=ae.record,fe=ae.indent,me=ae.index,ge=I(le,ie);return a.createElement(TA,{key:ge,rowKey:ge,record:le,index:ie,renderIndex:me,rowComponent:G,cellComponent:H,scopeCellComponent:X,indent:fe})}):ne=a.createElement(lI,{expanded:!0,className:"".concat(f,"-placeholder"),prefixCls:f,component:G,cellComponent:H,colSpan:w.length,isEmpty:!0},z);var oe=Px(w);return a.createElement(eI.Provider,{value:j.current},a.createElement(Z,{className:"".concat(f,"-tbody")},s&&a.createElement(PA,{prefixCls:f,columnsKey:oe,onColumnResize:C}),ne))}var RA=bv(OA),$A=["expandable"],z_="RC_TABLE_INTERNAL_COL_DEFINE";function AA(e){var t=e.expandable,s=(0,de.Z)(e,$A),o;return"expandable"in e?o=(0,Y.Z)((0,Y.Z)({},s),t):o=s,o.showExpandColumn===!1&&(o.expandIconColumnIndex=-1),o}var DA=["columnType"];function LA(e){for(var t=e.colWidths,s=e.columns,o=e.columCount,f=qc(Cu,["tableLayout"]),y=f.tableLayout,C=[],w=o||s.length,I=!1,D=w-1;D>=0;D-=1){var L=t[D],z=s&&s[D],k=void 0,j=void 0;if(z&&(k=z[z_],y==="auto"&&(j=z.minWidth)),L||j||k||I){var Z=k||{},G=Z.columnType,H=(0,de.Z)(Z,DA);C.unshift(a.createElement("col",(0,Ge.Z)({key:D,style:{width:L,minWidth:j}},H))),I=!0}}return a.createElement("colgroup",null,C)}var dI=LA,zA=["className","noData","columns","flattenColumns","colWidths","columCount","stickyOffsets","direction","fixHeader","stickyTopOffset","stickyBottomOffset","stickyClassName","onScroll","maxContentScroll","children"];function NA(e,t){return(0,a.useMemo)(function(){for(var s=[],o=0;o<t;o+=1){var f=e[o];if(f!==void 0)s[o]=f;else return null}return s},[e.join("_"),t])}var BA=a.forwardRef(function(e,t){var s=e.className,o=e.noData,f=e.columns,y=e.flattenColumns,C=e.colWidths,w=e.columCount,I=e.stickyOffsets,D=e.direction,L=e.fixHeader,z=e.stickyTopOffset,k=e.stickyBottomOffset,j=e.stickyClassName,Z=e.onScroll,G=e.maxContentScroll,H=e.children,X=(0,de.Z)(e,zA),ne=qc(Cu,["prefixCls","scrollbarSize","isSticky","getComponent"]),oe=ne.prefixCls,ae=ne.scrollbarSize,ie=ne.isSticky,le=ne.getComponent,fe=le(["header","table"],"table"),me=ie&&!L?0:ae,ge=a.useRef(null),xe=a.useCallback(function(lt){(0,Jt.mH)(t,lt),(0,Jt.mH)(ge,lt)},[]);a.useEffect(function(){var lt;function ht(It){var Tt=It,wt=Tt.currentTarget,_t=Tt.deltaX;_t&&(Z({currentTarget:wt,scrollLeft:wt.scrollLeft+_t}),It.preventDefault())}return(lt=ge.current)===null||lt===void 0||lt.addEventListener("wheel",ht,{passive:!1}),function(){var It;(It=ge.current)===null||It===void 0||It.removeEventListener("wheel",ht)}},[]);var Me=a.useMemo(function(){return y.every(function(lt){return lt.width})},[y]),$e=y[y.length-1],Oe={fixed:$e?$e.fixed:null,scrollbar:!0,onHeaderCell:function(){return{className:"".concat(oe,"-cell-scrollbar")}}},He=(0,a.useMemo)(function(){return me?[].concat((0,be.Z)(f),[Oe]):f},[me,f]),Ne=(0,a.useMemo)(function(){return me?[].concat((0,be.Z)(y),[Oe]):y},[me,y]),Ke=(0,a.useMemo)(function(){var lt=I.right,ht=I.left;return(0,Y.Z)((0,Y.Z)({},I),{},{left:D==="rtl"?[].concat((0,be.Z)(ht.map(function(It){return It+me})),[0]):ht,right:D==="rtl"?lt:[].concat((0,be.Z)(lt.map(function(It){return It+me})),[0]),isSticky:ie})},[me,I,ie]),je=NA(C,w);return a.createElement("div",{style:(0,Y.Z)({overflow:"hidden"},ie?{top:z,bottom:k}:{}),ref:xe,className:q()(s,(0,pe.Z)({},j,!!j))},a.createElement(fe,{style:{tableLayout:"fixed",visibility:o||je?null:"hidden"}},(!o||!G||Me)&&a.createElement(dI,{colWidths:je?[].concat((0,be.Z)(je),[me]):[],columCount:w+1,columns:Ne}),H((0,Y.Z)((0,Y.Z)({},X),{},{stickyOffsets:Ke,columns:He,flattenColumns:Ne}))))}),fI=a.memo(BA),FA=function(t){var s=t.cells,o=t.stickyOffsets,f=t.flattenColumns,y=t.rowComponent,C=t.cellComponent,w=t.onHeaderRow,I=t.index,D=qc(Cu,["prefixCls","direction"]),L=D.prefixCls,z=D.direction,k;w&&(k=w(s.map(function(Z){return Z.column}),I));var j=Px(s.map(function(Z){return Z.column}));return a.createElement(y,k,s.map(function(Z,G){var H=Z.column,X=uw(Z.colStart,Z.colEnd,f,o,z),ne;return H&&H.onHeaderCell&&(ne=Z.column.onHeaderCell(H)),a.createElement(xv,(0,Ge.Z)({},Z,{scope:H.title?Z.colSpan>1?"colgroup":"col":null,ellipsis:H.ellipsis,align:H.align,component:C,prefixCls:L,key:j[G]},X,{additionalProps:ne,rowType:"header"}))}))},kA=FA;function ZA(e){var t=[];function s(C,w){var I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;t[I]=t[I]||[];var D=w,L=C.filter(Boolean).map(function(z){var k={key:z.key,className:z.className||"",children:z.title,column:z,colStart:D},j=1,Z=z.children;return Z&&Z.length>0&&(j=s(Z,D,I+1).reduce(function(G,H){return G+H},0),k.hasSubColumns=!0),"colSpan"in z&&(j=z.colSpan),"rowSpan"in z&&(k.rowSpan=z.rowSpan),k.colSpan=j,k.colEnd=k.colStart+j-1,t[I].push(k),D+=j,j});return L}s(e,0);for(var o=t.length,f=function(w){t[w].forEach(function(I){!("rowSpan"in I)&&!I.hasSubColumns&&(I.rowSpan=o-w)})},y=0;y<o;y+=1)f(y);return t}var jA=function(t){var s=t.stickyOffsets,o=t.columns,f=t.flattenColumns,y=t.onHeaderRow,C=qc(Cu,["prefixCls","getComponent"]),w=C.prefixCls,I=C.getComponent,D=a.useMemo(function(){return ZA(o)},[o]),L=I(["header","wrapper"],"thead"),z=I(["header","row"],"tr"),k=I(["header","cell"],"th");return a.createElement(L,{className:"".concat(w,"-thead")},D.map(function(j,Z){var G=a.createElement(kA,{key:Z,flattenColumns:f,cells:j,stickyOffsets:s,rowComponent:z,cellComponent:k,onHeaderRow:y,index:Z});return G}))},hI=bv(jA);function pI(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return typeof t=="number"?t:t.endsWith("%")?e*parseFloat(t)/100:null}function VA(e,t,s){return a.useMemo(function(){if(t&&t>0){var o=0,f=0;e.forEach(function(k){var j=pI(t,k.width);j?o+=j:f+=1});var y=Math.max(t,s),C=Math.max(y-o,f),w=f,I=C/f,D=0,L=e.map(function(k){var j=(0,Y.Z)({},k),Z=pI(t,j.width);if(Z)j.width=Z;else{var G=Math.floor(I);j.width=w===1?C:G,C-=G,w-=1}return D+=j.width,j});if(D<y){var z=y/D;C=y,L.forEach(function(k,j){var Z=Math.floor(k.width*z);k.width=j===L.length-1?C:Z,C-=Z})}return[L,Math.max(D,y)]}return[e,t]},[e,t,s])}var HA=["children"],UA=["fixed"];function hw(e){return(0,Gl.Z)(e).filter(function(t){return a.isValidElement(t)}).map(function(t){var s=t.key,o=t.props,f=o.children,y=(0,de.Z)(o,HA),C=(0,Y.Z)({key:s},y);return f&&(C.children=hw(f)),C})}function mI(e){return e.filter(function(t){return t&&(0,nt.Z)(t)==="object"&&!t.hidden}).map(function(t){var s=t.children;return s&&s.length>0?(0,Y.Z)((0,Y.Z)({},t),{},{children:mI(s)}):t})}function pw(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"key";return e.filter(function(s){return s&&(0,nt.Z)(s)==="object"}).reduce(function(s,o,f){var y=o.fixed,C=y===!0?"left":y,w="".concat(t,"-").concat(f),I=o.children;return I&&I.length>0?[].concat((0,be.Z)(s),(0,be.Z)(pw(I,w).map(function(D){return(0,Y.Z)({fixed:C},D)}))):[].concat((0,be.Z)(s),[(0,Y.Z)((0,Y.Z)({key:w},o),{},{fixed:C})])},[])}function WA(e){return e.map(function(t){var s=t.fixed,o=(0,de.Z)(t,UA),f=s;return s==="left"?f="right":s==="right"&&(f="left"),(0,Y.Z)({fixed:f},o)})}function GA(e,t){var s=e.prefixCls,o=e.columns,f=e.children,y=e.expandable,C=e.expandedKeys,w=e.columnTitle,I=e.getRowKey,D=e.onTriggerExpand,L=e.expandIcon,z=e.rowExpandable,k=e.expandIconColumnIndex,j=e.direction,Z=e.expandRowByClick,G=e.columnWidth,H=e.fixed,X=e.scrollWidth,ne=e.clientWidth,oe=a.useMemo(function(){var $e=o||hw(f)||[];return mI($e.slice())},[o,f]),ae=a.useMemo(function(){if(y){var $e=oe.slice();if(!$e.includes(Kh)){var Oe=k||0;Oe>=0&&(Oe||H==="left"||!H)&&$e.splice(Oe,0,Kh),H==="right"&&$e.splice(oe.length,0,Kh)}var He=$e.indexOf(Kh);$e=$e.filter(function(lt,ht){return lt!==Kh||ht===He});var Ne=oe[He],Ke;H?Ke=H:Ke=Ne?Ne.fixed:null;var je=(0,pe.Z)((0,pe.Z)((0,pe.Z)((0,pe.Z)((0,pe.Z)((0,pe.Z)({},z_,{className:"".concat(s,"-expand-icon-col"),columnType:"EXPAND_COLUMN"}),"title",w),"fixed",Ke),"className","".concat(s,"-row-expand-icon-cell")),"width",G),"render",function(ht,It,Tt){var wt=I(It,Tt),_t=C.has(wt),At=z?z(It):!0,Bt=L({prefixCls:s,expanded:_t,expandable:At,record:It,onExpand:D});return Z?a.createElement("span",{onClick:function(Gt){return Gt.stopPropagation()}},Bt):Bt});return $e.map(function(lt){return lt===Kh?je:lt})}return oe.filter(function(lt){return lt!==Kh})},[y,oe,I,C,L,j]),ie=a.useMemo(function(){var $e=ae;return t&&($e=t($e)),$e.length||($e=[{render:function(){return null}}]),$e},[t,ae,j]),le=a.useMemo(function(){return j==="rtl"?WA(pw(ie)):pw(ie)},[ie,j,X]),fe=a.useMemo(function(){for(var $e=-1,Oe=le.length-1;Oe>=0;Oe-=1){var He=le[Oe].fixed;if(He==="left"||He===!0){$e=Oe;break}}if($e>=0)for(var Ne=0;Ne<=$e;Ne+=1){var Ke=le[Ne].fixed;if(Ke!=="left"&&Ke!==!0)return!0}var je=le.findIndex(function(It){var Tt=It.fixed;return Tt==="right"});if(je>=0)for(var lt=je;lt<le.length;lt+=1){var ht=le[lt].fixed;if(ht!=="right")return!0}return!1},[le]),me=VA(le,X,ne),ge=(0,Re.Z)(me,2),xe=ge[0],Me=ge[1];return[ie,xe,Me,fe]}var KA=GA;function XA(e,t,s){var o=AA(e),f=o.expandIcon,y=o.expandedRowKeys,C=o.defaultExpandedRowKeys,w=o.defaultExpandAllRows,I=o.expandedRowRender,D=o.onExpand,L=o.onExpandedRowsChange,z=o.childrenColumnName,k=f||wA,j=z||"children",Z=a.useMemo(function(){return I?"row":e.expandable&&e.internalHooks===L_&&e.expandable.__PARENT_RENDER_ICON__||t.some(function(ie){return ie&&(0,nt.Z)(ie)==="object"&&ie[j]})?"nest":!1},[!!I,t]),G=a.useState(function(){return C||(w?EA(t,s,j):[])}),H=(0,Re.Z)(G,2),X=H[0],ne=H[1],oe=a.useMemo(function(){return new Set(y||X||[])},[y,X]),ae=a.useCallback(function(ie){var le=s(ie,t.indexOf(ie)),fe,me=oe.has(le);me?(oe.delete(le),fe=(0,be.Z)(oe)):fe=[].concat((0,be.Z)(oe),[le]),ne(fe),D&&D(!me,ie),L&&L(fe)},[s,oe,t,D,L]);return[o,Z,oe,k,j,ae]}function YA(e,t,s){var o=e.map(function(f,y){return uw(y,y,e,t,s)});return(0,Qd.Z)(function(){return o},[o],function(f,y){return!(0,mu.Z)(f,y)})}function gI(e){var t=(0,a.useRef)(e),s=(0,a.useState)({}),o=(0,Re.Z)(s,2),f=o[1],y=(0,a.useRef)(null),C=(0,a.useRef)([]);function w(I){C.current.push(I);var D=Promise.resolve();y.current=D,D.then(function(){if(y.current===D){var L=C.current,z=t.current;C.current=[],L.forEach(function(k){t.current=k(t.current)}),y.current=null,z!==t.current&&f({})}})}return(0,a.useEffect)(function(){return function(){y.current=null}},[]),[t.current,w]}function qA(e){var t=(0,a.useRef)(e||null),s=(0,a.useRef)();function o(){window.clearTimeout(s.current)}function f(C){t.current=C,o(),s.current=window.setTimeout(function(){t.current=null,s.current=void 0},100)}function y(){return t.current}return(0,a.useEffect)(function(){return o},[]),[f,y]}function JA(){var e=a.useState(-1),t=(0,Re.Z)(e,2),s=t[0],o=t[1],f=a.useState(-1),y=(0,Re.Z)(f,2),C=y[0],w=y[1],I=a.useCallback(function(D,L){o(D),w(L)},[]);return[s,C,I]}var vI=(0,Ts.Z)()?window:null;function QA(e,t){var s=(0,nt.Z)(e)==="object"?e:{},o=s.offsetHeader,f=o===void 0?0:o,y=s.offsetSummary,C=y===void 0?0:y,w=s.offsetScroll,I=w===void 0?0:w,D=s.getContainer,L=D===void 0?function(){return vI}:D,z=L()||vI,k=!!e;return a.useMemo(function(){return{isSticky:k,stickyClassName:k?"".concat(t,"-sticky-holder"):"",offsetHeader:f,offsetSummary:C,offsetScroll:I,container:z}},[k,I,f,C,t,z])}function eD(e,t,s){var o=(0,a.useMemo)(function(){var f=t.length,y=function(D,L,z){for(var k=[],j=0,Z=D;Z!==L;Z+=z)k.push(j),t[Z].fixed&&(j+=e[Z]||0);return k},C=y(0,f,1),w=y(f-1,-1,-1).reverse();return s==="rtl"?{left:w,right:C}:{left:C,right:w}},[e,t,s]);return o}var tD=eD;function nD(e){var t=e.className,s=e.children;return a.createElement("div",{className:t},s)}var yI=nD,_I=B(4525);function bI(e){var t=(0,_I.bn)(e),s=t.getBoundingClientRect(),o=document.documentElement;return{left:s.left+(window.pageXOffset||o.scrollLeft)-(o.clientLeft||document.body.clientLeft||0),top:s.top+(window.pageYOffset||o.scrollTop)-(o.clientTop||document.body.clientTop||0)}}var rD=function(t,s){var o,f,y=t.scrollBodyRef,C=t.onScroll,w=t.offsetScroll,I=t.container,D=t.direction,L=qc(Cu,"prefixCls"),z=((o=y.current)===null||o===void 0?void 0:o.scrollWidth)||0,k=((f=y.current)===null||f===void 0?void 0:f.clientWidth)||0,j=z&&k*(k/z),Z=a.useRef(),G=gI({scrollLeft:0,isHiddenScrollBar:!0}),H=(0,Re.Z)(G,2),X=H[0],ne=H[1],oe=a.useRef({delta:0,x:0}),ae=a.useState(!1),ie=(0,Re.Z)(ae,2),le=ie[0],fe=ie[1],me=a.useRef(null);a.useEffect(function(){return function(){We.Z.cancel(me.current)}},[]);var ge=function(){fe(!1)},xe=function(Ne){Ne.persist(),oe.current.delta=Ne.pageX-X.scrollLeft,oe.current.x=0,fe(!0),Ne.preventDefault()},Me=function(Ne){var Ke,je=Ne||((Ke=window)===null||Ke===void 0?void 0:Ke.event),lt=je.buttons;if(!le||lt===0){le&&fe(!1);return}var ht=oe.current.x+Ne.pageX-oe.current.x-oe.current.delta,It=D==="rtl";ht=Math.max(It?j-k:0,Math.min(It?0:k-j,ht));var Tt=!It||Math.abs(ht)+Math.abs(j)<k;Tt&&(C({scrollLeft:ht/k*(z+2)}),oe.current.x=Ne.pageX)},$e=function(){We.Z.cancel(me.current),me.current=(0,We.Z)(function(){if(y.current){var Ne=bI(y.current).top,Ke=Ne+y.current.offsetHeight,je=I===window?document.documentElement.scrollTop+window.innerHeight:bI(I).top+I.clientHeight;Ke-(0,Rx.Z)()<=je||Ne>=je-w?ne(function(lt){return(0,Y.Z)((0,Y.Z)({},lt),{},{isHiddenScrollBar:!0})}):ne(function(lt){return(0,Y.Z)((0,Y.Z)({},lt),{},{isHiddenScrollBar:!1})})}})},Oe=function(Ne){ne(function(Ke){return(0,Y.Z)((0,Y.Z)({},Ke),{},{scrollLeft:Ne/z*k||0})})};return a.useImperativeHandle(s,function(){return{setScrollLeft:Oe,checkScrollBarVisible:$e}}),a.useEffect(function(){var He=cm(document.body,"mouseup",ge,!1),Ne=cm(document.body,"mousemove",Me,!1);return $e(),function(){He.remove(),Ne.remove()}},[j,le]),a.useEffect(function(){if(y.current){for(var He=[],Ne=y.current;Ne;)He.push(Ne),Ne=Ne.parentElement;return He.forEach(function(Ke){return Ke.addEventListener("scroll",$e,!1)}),window.addEventListener("resize",$e,!1),window.addEventListener("scroll",$e,!1),I.addEventListener("scroll",$e,!1),function(){He.forEach(function(Ke){return Ke.removeEventListener("scroll",$e)}),window.removeEventListener("resize",$e),window.removeEventListener("scroll",$e),I.removeEventListener("scroll",$e)}}},[I]),a.useEffect(function(){X.isHiddenScrollBar||ne(function(He){var Ne=y.current;return Ne?(0,Y.Z)((0,Y.Z)({},He),{},{scrollLeft:Ne.scrollLeft/Ne.scrollWidth*Ne.clientWidth}):He})},[X.isHiddenScrollBar]),z<=k||!j||X.isHiddenScrollBar?null:a.createElement("div",{style:{height:(0,Rx.Z)(),width:k,bottom:w},className:"".concat(L,"-sticky-scroll")},a.createElement("div",{onMouseDown:xe,ref:Z,className:q()("".concat(L,"-sticky-scroll-bar"),(0,pe.Z)({},"".concat(L,"-sticky-scroll-bar-active"),le)),style:{width:"".concat(j,"px"),transform:"translate3d(".concat(X.scrollLeft,"px, 0, 0)")}}))},iD=a.forwardRef(rD);function oD(e){return null}var aD=oD;function sD(e){return null}var lD=sD,xI="rc-table",cD=[],uD={};function dD(){return"No Data"}function fD(e,t){var s=(0,Y.Z)({rowKey:"key",prefixCls:xI,emptyText:dD},e),o=s.prefixCls,f=s.className,y=s.rowClassName,C=s.style,w=s.data,I=s.rowKey,D=s.scroll,L=s.tableLayout,z=s.direction,k=s.title,j=s.footer,Z=s.summary,G=s.caption,H=s.id,X=s.showHeader,ne=s.components,oe=s.emptyText,ae=s.onRow,ie=s.onHeaderRow,le=s.onScroll,fe=s.internalHooks,me=s.transformColumns,ge=s.internalRefs,xe=s.tailor,Me=s.getContainerWidth,$e=s.sticky,Oe=s.rowHoverable,He=Oe===void 0?!0:Oe,Ne=w||cD,Ke=!!Ne.length,je=fe===L_,lt=a.useCallback(function(Es,ha){return(0,lw.Z)(ne,Es)||ha},[ne]),ht=a.useMemo(function(){return typeof I=="function"?I:function(Es){var ha=Es&&Es[I];return ha}},[I]),It=lt(["body"]),Tt=JA(),wt=(0,Re.Z)(Tt,3),_t=wt[0],At=wt[1],Bt=wt[2],Dt=XA(s,Ne,ht),Gt=(0,Re.Z)(Dt,6),Pt=Gt[0],Pn=Gt[1],Kn=Gt[2],_n=Gt[3],Fn=Gt[4],on=Gt[5],Zt=D==null?void 0:D.x,Vn=a.useState(0),Ln=(0,Re.Z)(Vn,2),kr=Ln[0],Sr=Ln[1],dr=KA((0,Y.Z)((0,Y.Z)((0,Y.Z)({},s),Pt),{},{expandable:!!Pt.expandedRowRender,columnTitle:Pt.columnTitle,expandedKeys:Kn,getRowKey:ht,onTriggerExpand:on,expandIcon:_n,expandIconColumnIndex:Pt.expandIconColumnIndex,direction:z,scrollWidth:je&&xe&&typeof Zt=="number"?Zt:null,clientWidth:kr}),je?me:null),cr=(0,Re.Z)(dr,4),Zn=cr[0],ur=cr[1],ti=cr[2],Ei=cr[3],ki=ti!=null?ti:Zt,qi=a.useMemo(function(){return{columns:Zn,flattenColumns:ur}},[Zn,ur]),Ho=a.useRef(),Li=a.useRef(),bi=a.useRef(),$i=a.useRef();a.useImperativeHandle(t,function(){return{nativeElement:Ho.current,scrollTo:function(ha){var Ba;if(bi.current instanceof HTMLElement){var ps=ha.index,Bs=ha.top,oc=ha.key;if(uA(Bs)){var Qh;(Qh=bi.current)===null||Qh===void 0||Qh.scrollTo({top:Bs})}else{var Hg,j_=oc!=null?oc:ht(Ne[ps]);(Hg=bi.current.querySelector('[data-row-key="'.concat(j_,'"]')))===null||Hg===void 0||Hg.scrollIntoView()}}else(Ba=bi.current)!==null&&Ba!==void 0&&Ba.scrollTo&&bi.current.scrollTo(ha)}}});var go=a.useRef(),Gi=a.useState(!1),ko=(0,Re.Z)(Gi,2),Er=ko[0],Mr=ko[1],Zr=a.useState(!1),tr=(0,Re.Z)(Zr,2),yi=tr[0],Ui=tr[1],xo=gI(new Map),ra=(0,Re.Z)(xo,2),Aa=ra[0],oa=ra[1],Ss=Px(ur),Va=Ss.map(function(Es){return Aa.get(Es)}),Ga=a.useMemo(function(){return Va},[Va.join("_")]),_a=tD(Ga,ur,z),ns=D&&cw(D.y),zs=D&&cw(ki)||!!Pt.fixed,Do=zs&&ur.some(function(Es){var ha=Es.fixed;return ha}),na=a.useRef(),Ra=QA($e,o),Ka=Ra.isSticky,ls=Ra.offsetHeader,ll=Ra.offsetSummary,Pl=Ra.offsetScroll,bl=Ra.stickyClassName,Zl=Ra.container,pa=a.useMemo(function(){return Z==null?void 0:Z(Ne)},[Z,Ne]),Jo=(ns||Ka)&&a.isValidElement(pa)&&pa.type===nI&&pa.props.fixed,Qo,Wo,cs;ns&&(Wo={overflowY:Ke?"scroll":"auto",maxHeight:D.y}),zs&&(Qo={overflowX:"auto"},ns||(Wo={overflowY:"hidden"}),cs={width:ki===!0?"auto":ki,minWidth:"100%"});var Ns=a.useCallback(function(Es,ha){(0,uy.Z)(Ho.current)&&oa(function(Ba){if(Ba.get(Es)!==ha){var ps=new Map(Ba);return ps.set(Es,ha),ps}return Ba})},[]),Za=qA(null),Ea=(0,Re.Z)(Za,2),vs=Ea[0],ys=Ea[1];function qs(Es,ha){ha&&(typeof ha=="function"?ha(Es):ha.scrollLeft!==Es&&(ha.scrollLeft=Es,ha.scrollLeft!==Es&&setTimeout(function(){ha.scrollLeft=Es},0)))}var Ca=(0,_r.Z)(function(Es){var ha=Es.currentTarget,Ba=Es.scrollLeft,ps=z==="rtl",Bs=typeof Ba=="number"?Ba:ha.scrollLeft,oc=ha||uD;if(!ys()||ys()===oc){var Qh;vs(oc),qs(Bs,Li.current),qs(Bs,bi.current),qs(Bs,go.current),qs(Bs,(Qh=na.current)===null||Qh===void 0?void 0:Qh.setScrollLeft)}var Hg=ha||Li.current;if(Hg){var j_=je&&xe&&typeof ki=="number"?ki:Hg.scrollWidth,r2=Hg.clientWidth;if(j_===r2){Mr(!1),Ui(!1);return}ps?(Mr(-Bs<j_-r2),Ui(-Bs>0)):(Mr(Bs>0),Ui(Bs<j_-r2))}}),Go=(0,_r.Z)(function(Es){Ca(Es),le==null||le(Es)}),Da=function(){if(zs&&bi.current){var ha;Ca({currentTarget:(0,_I.bn)(bi.current),scrollLeft:(ha=bi.current)===null||ha===void 0?void 0:ha.scrollLeft})}else Mr(!1),Ui(!1)},ds=function(ha){var Ba,ps=ha.width;(Ba=na.current)===null||Ba===void 0||Ba.checkScrollBarVisible();var Bs=Ho.current?Ho.current.offsetWidth:ps;je&&Me&&Ho.current&&(Bs=Me(Ho.current,Bs)||Bs),Bs!==kr&&(Da(),Sr(Bs))},ks=a.useRef(!1);a.useEffect(function(){ks.current&&Da()},[zs,w,Zn.length]),a.useEffect(function(){ks.current=!0},[]);var Js=a.useState(0),Jl=(0,Re.Z)(Js,2),Qs=Jl[0],La=Jl[1],us=a.useState(!0),ws=(0,Re.Z)(us,2),Ol=ws[0],Zu=ws[1];a.useEffect(function(){(!xe||!je)&&(bi.current instanceof Element?La((0,Rx.o)(bi.current).width):La((0,Rx.o)($i.current).width)),Zu(fw("position","sticky"))},[]),a.useEffect(function(){je&&ge&&(ge.body.current=bi.current)});var Yh=a.useCallback(function(Es){return a.createElement(a.Fragment,null,a.createElement(hI,Es),Jo==="top"&&a.createElement(Ox,Es,pa))},[Jo,pa]),mm=a.useCallback(function(Es){return a.createElement(Ox,Es,pa)},[pa]),gm=lt(["table"],"table"),ah=a.useMemo(function(){return L||(Do?ki==="max-content"?"auto":"fixed":ns||Ka||ur.some(function(Es){var ha=Es.ellipsis;return ha})?"fixed":"auto")},[ns,Do,ur,L,Ka]),qh,Jh={colWidths:Ga,columCount:ur.length,stickyOffsets:_a,onHeaderRow:ie,fixHeader:ns,scroll:D},vm=a.useMemo(function(){return Ke?null:typeof oe=="function"?oe():oe},[Ke,oe]),Il=a.createElement(RA,{data:Ne,measureColumnWidth:ns||zs||Ka}),el=a.createElement(dI,{colWidths:ur.map(function(Es){var ha=Es.width;return ha}),columns:ur}),Ta=G!=null?a.createElement("caption",{className:"".concat(o,"-caption")},G):void 0,Ha=(0,ut.Z)(s,{data:!0}),fl=(0,ut.Z)(s,{aria:!0});if(ns||Ka){var Lc;typeof It=="function"?(Lc=It(Ne,{scrollbarSize:Qs,ref:bi,onScroll:Ca}),Jh.colWidths=ur.map(function(Es,ha){var Ba=Es.width,ps=ha===ur.length-1?Ba-Qs:Ba;return typeof ps=="number"&&!Number.isNaN(ps)?ps:0})):Lc=a.createElement("div",{style:(0,Y.Z)((0,Y.Z)({},Qo),Wo),onScroll:Go,ref:bi,className:q()("".concat(o,"-body"))},a.createElement(gm,(0,Ge.Z)({style:(0,Y.Z)((0,Y.Z)({},cs),{},{tableLayout:ah})},fl),Ta,el,Il,!Jo&&pa&&a.createElement(Ox,{stickyOffsets:_a,flattenColumns:ur},pa)));var bf=(0,Y.Z)((0,Y.Z)((0,Y.Z)({noData:!Ne.length,maxContentScroll:zs&&ki==="max-content"},Jh),qi),{},{direction:z,stickyClassName:bl,onScroll:Ca});qh=a.createElement(a.Fragment,null,X!==!1&&a.createElement(fI,(0,Ge.Z)({},bf,{stickyTopOffset:ls,className:"".concat(o,"-header"),ref:Li}),Yh),Lc,Jo&&Jo!=="top"&&a.createElement(fI,(0,Ge.Z)({},bf,{stickyBottomOffset:ll,className:"".concat(o,"-summary"),ref:go}),mm),Ka&&bi.current&&bi.current instanceof Element&&a.createElement(iD,{ref:na,offsetScroll:Pl,scrollBodyRef:bi,onScroll:Ca,container:Zl,direction:z}))}else qh=a.createElement("div",{style:(0,Y.Z)((0,Y.Z)({},Qo),Wo),className:q()("".concat(o,"-content")),onScroll:Ca,ref:bi},a.createElement(gm,(0,Ge.Z)({style:(0,Y.Z)((0,Y.Z)({},cs),{},{tableLayout:ah})},fl),Ta,el,X!==!1&&a.createElement(hI,(0,Ge.Z)({},Jh,qi)),Il,pa&&a.createElement(Ox,{stickyOffsets:_a,flattenColumns:ur},pa)));var jg=a.createElement("div",(0,Ge.Z)({className:q()(o,f,(0,pe.Z)((0,pe.Z)((0,pe.Z)((0,pe.Z)((0,pe.Z)((0,pe.Z)((0,pe.Z)((0,pe.Z)((0,pe.Z)((0,pe.Z)({},"".concat(o,"-rtl"),z==="rtl"),"".concat(o,"-ping-left"),Er),"".concat(o,"-ping-right"),yi),"".concat(o,"-layout-fixed"),L==="fixed"),"".concat(o,"-fixed-header"),ns),"".concat(o,"-fixed-column"),Do),"".concat(o,"-fixed-column-gapped"),Do&&Ei),"".concat(o,"-scroll-horizontal"),zs),"".concat(o,"-has-fix-left"),ur[0]&&ur[0].fixed),"".concat(o,"-has-fix-right"),ur[ur.length-1]&&ur[ur.length-1].fixed==="right")),style:C,id:H,ref:Ho},Ha),k&&a.createElement(yI,{className:"".concat(o,"-title")},k(Ne)),a.createElement("div",{ref:$i,className:"".concat(o,"-container")},qh),j&&a.createElement(yI,{className:"".concat(o,"-footer")},j(Ne)));zs&&(jg=a.createElement(c.Z,{onResize:ds},jg));var Vg=YA(ur,_a,z),Tv=a.useMemo(function(){return{scrollX:ki,prefixCls:o,getComponent:lt,scrollbarSize:Qs,direction:z,fixedInfoList:Vg,isSticky:Ka,supportSticky:Ol,componentWidth:kr,fixHeader:ns,fixColumn:Do,horizonScroll:zs,tableLayout:ah,rowClassName:y,expandedRowClassName:Pt.expandedRowClassName,expandIcon:_n,expandableType:Pn,expandRowByClick:Pt.expandRowByClick,expandedRowRender:Pt.expandedRowRender,onTriggerExpand:on,expandIconColumnIndex:Pt.expandIconColumnIndex,indentSize:Pt.indentSize,allColumnsFixedLeft:ur.every(function(Es){return Es.fixed==="left"}),emptyNode:vm,columns:Zn,flattenColumns:ur,onColumnResize:Ns,hoverStartRow:_t,hoverEndRow:At,onHover:Bt,rowExpandable:Pt.rowExpandable,onRow:ae,getRowKey:ht,expandedKeys:Kn,childrenColumnName:Fn,rowHoverable:He}},[ki,o,lt,Qs,z,Vg,Ka,Ol,kr,ns,Do,zs,ah,y,Pt.expandedRowClassName,_n,Pn,Pt.expandRowByClick,Pt.expandedRowRender,on,Pt.expandIconColumnIndex,Pt.indentSize,vm,Zn,ur,Ns,_t,At,Bt,Pt.rowExpandable,ae,ht,Kn,Fn,He]);return a.createElement(Cu.Provider,{value:Tv},jg)}var hD=a.forwardRef(fD);function CI(e){return QE(hD,e)}var Cv=CI();Cv.EXPAND_COLUMN=Kh,Cv.INTERNAL_HOOKS=L_,Cv.Column=aD,Cv.ColumnGroup=lD,Cv.Summary=rI;var pD=Cv,mD=B(98131),mw=ow(null),SI=ow(null);function gD(e,t,s){var o=t||1;return s[e+o]-(s[e]||0)}function vD(e){var t=e.rowInfo,s=e.column,o=e.colIndex,f=e.indent,y=e.index,C=e.component,w=e.renderIndex,I=e.record,D=e.style,L=e.className,z=e.inverse,k=e.getHeight,j=s.render,Z=s.dataIndex,G=s.className,H=s.width,X=qc(SI,["columnsOffset"]),ne=X.columnsOffset,oe=uI(t,s,o,f,y),ae=oe.key,ie=oe.fixedInfo,le=oe.appendCellNode,fe=oe.additionalCellProps,me=fe.style,ge=fe.colSpan,xe=ge===void 0?1:ge,Me=fe.rowSpan,$e=Me===void 0?1:Me,Oe=o-1,He=gD(Oe,xe,ne),Ne=xe>1?H-He:0,Ke=(0,Y.Z)((0,Y.Z)((0,Y.Z)({},me),D),{},{flex:"0 0 ".concat(He,"px"),width:"".concat(He,"px"),marginRight:Ne,pointerEvents:"auto"}),je=a.useMemo(function(){return z?$e<=1:xe===0||$e===0||$e>1},[$e,xe,z]);je?Ke.visibility="hidden":z&&(Ke.height=k==null?void 0:k($e));var lt=je?function(){return null}:j,ht={};return($e===0||xe===0)&&(ht.rowSpan=1,ht.colSpan=1),a.createElement(xv,(0,Ge.Z)({className:q()(G,L),ellipsis:s.ellipsis,align:s.align,scope:s.rowScope,component:C,prefixCls:t.prefixCls,key:ae,record:I,index:y,renderIndex:w,dataIndex:Z,render:lt,shouldCellUpdate:s.shouldCellUpdate},ie,{appendNode:le,additionalProps:(0,Y.Z)((0,Y.Z)({},fe),{},{style:Ke},ht)}))}var yD=vD,_D=["data","index","className","rowKey","style","extra","getHeight"],bD=a.forwardRef(function(e,t){var s=e.data,o=e.index,f=e.className,y=e.rowKey,C=e.style,w=e.extra,I=e.getHeight,D=(0,de.Z)(e,_D),L=s.record,z=s.indent,k=s.index,j=qc(Cu,["prefixCls","flattenColumns","fixColumn","componentWidth","scrollX"]),Z=j.scrollX,G=j.flattenColumns,H=j.prefixCls,X=j.fixColumn,ne=j.componentWidth,oe=qc(mw,["getComponent"]),ae=oe.getComponent,ie=sI(L,y,o,z),le=ae(["body","row"],"div"),fe=ae(["body","cell"],"div"),me=ie.rowSupportExpand,ge=ie.expanded,xe=ie.rowProps,Me=ie.expandedRowRender,$e=ie.expandedRowClassName,Oe;if(me&&ge){var He=Me(L,o,z+1,ge),Ne=cI($e,L,o,z),Ke={};X&&(Ke={style:(0,pe.Z)({},"--virtual-width","".concat(ne,"px"))});var je="".concat(H,"-expanded-row-cell");Oe=a.createElement(le,{className:q()("".concat(H,"-expanded-row"),"".concat(H,"-expanded-row-level-").concat(z+1),Ne)},a.createElement(xv,{component:fe,prefixCls:H,className:q()(je,(0,pe.Z)({},"".concat(je,"-fixed"),X)),additionalProps:Ke},He))}var lt=(0,Y.Z)((0,Y.Z)({},C),{},{width:Z});w&&(lt.position="absolute",lt.pointerEvents="none");var ht=a.createElement(le,(0,Ge.Z)({},xe,D,{"data-row-key":y,ref:me?null:t,className:q()(f,"".concat(H,"-row"),xe==null?void 0:xe.className,(0,pe.Z)({},"".concat(H,"-row-extra"),w)),style:(0,Y.Z)((0,Y.Z)({},lt),xe==null?void 0:xe.style)}),G.map(function(It,Tt){return a.createElement(yD,{key:Tt,component:fe,rowInfo:ie,column:It,colIndex:Tt,indent:z,index:o,renderIndex:k,record:L,inverse:w,getHeight:I})}));return me?a.createElement("div",{ref:t},ht,Oe):ht}),xD=bv(bD),wI=xD,CD=a.forwardRef(function(e,t){var s=e.data,o=e.onScroll,f=qc(Cu,["flattenColumns","onColumnResize","getRowKey","prefixCls","expandedKeys","childrenColumnName","scrollX","direction"]),y=f.flattenColumns,C=f.onColumnResize,w=f.getRowKey,I=f.expandedKeys,D=f.prefixCls,L=f.childrenColumnName,z=f.scrollX,k=f.direction,j=qc(mw),Z=j.sticky,G=j.scrollY,H=j.listItemHeight,X=j.getComponent,ne=j.onScroll,oe=a.useRef(),ae=aI(s,L,I,w),ie=a.useMemo(function(){var Oe=0;return y.map(function(He){var Ne=He.width,Ke=He.key;return Oe+=Ne,[Ke,Ne,Oe]})},[y]),le=a.useMemo(function(){return ie.map(function(Oe){return Oe[2]})},[ie]);a.useEffect(function(){ie.forEach(function(Oe){var He=(0,Re.Z)(Oe,2),Ne=He[0],Ke=He[1];C(Ne,Ke)})},[ie]),a.useImperativeHandle(t,function(){var Oe,He={scrollTo:function(Ke){var je;(je=oe.current)===null||je===void 0||je.scrollTo(Ke)},nativeElement:(Oe=oe.current)===null||Oe===void 0?void 0:Oe.nativeElement};return Object.defineProperty(He,"scrollLeft",{get:function(){var Ke;return((Ke=oe.current)===null||Ke===void 0?void 0:Ke.getScrollInfo().x)||0},set:function(Ke){var je;(je=oe.current)===null||je===void 0||je.scrollTo({left:Ke})}}),He});var fe=function(He,Ne){var Ke,je=(Ke=ae[Ne])===null||Ke===void 0?void 0:Ke.record,lt=He.onCell;if(lt){var ht,It=lt(je,Ne);return(ht=It==null?void 0:It.rowSpan)!==null&&ht!==void 0?ht:1}return 1},me=function(He){var Ne=He.start,Ke=He.end,je=He.getSize,lt=He.offsetY;if(Ke<0)return null;for(var ht=y.filter(function(_n){return fe(_n,Ne)===0}),It=Ne,Tt=function(Fn){if(ht=ht.filter(function(on){return fe(on,Fn)===0}),!ht.length)return It=Fn,1},wt=Ne;wt>=0&&!Tt(wt);wt-=1);for(var _t=y.filter(function(_n){return fe(_n,Ke)!==1}),At=Ke,Bt=function(Fn){if(_t=_t.filter(function(on){return fe(on,Fn)!==1}),!_t.length)return At=Math.max(Fn-1,Ke),1},Dt=Ke;Dt<ae.length&&!Bt(Dt);Dt+=1);for(var Gt=[],Pt=function(Fn){var on=ae[Fn];if(!on)return 1;y.some(function(Zt){return fe(Zt,Fn)>1})&&Gt.push(Fn)},Pn=It;Pn<=At;Pn+=1)Pt(Pn);var Kn=Gt.map(function(_n){var Fn=ae[_n],on=w(Fn.record,_n),Zt=function(kr){var Sr=_n+kr-1,dr=w(ae[Sr].record,Sr),cr=je(on,dr);return cr.bottom-cr.top},Vn=je(on);return a.createElement(wI,{key:_n,data:Fn,rowKey:on,index:_n,style:{top:-lt+Vn.top},extra:!0,getHeight:Zt})});return Kn},ge=a.useMemo(function(){return{columnsOffset:le}},[le]),xe="".concat(D,"-tbody"),Me=X(["body","wrapper"]),$e={};return Z&&($e.position="sticky",$e.bottom=0,(0,nt.Z)(Z)==="object"&&Z.offsetScroll&&($e.bottom=Z.offsetScroll)),a.createElement(SI.Provider,{value:ge},a.createElement(mD.Z,{fullHeight:!1,ref:oe,prefixCls:"".concat(xe,"-virtual"),styles:{horizontalScrollBar:$e},className:xe,height:G,itemHeight:H||24,data:ae,itemKey:function(He){return w(He.record)},component:Me,scrollWidth:z,direction:k,onVirtualScroll:function(He){var Ne,Ke=He.x;o({currentTarget:(Ne=oe.current)===null||Ne===void 0?void 0:Ne.nativeElement,scrollLeft:Ke})},onScroll:ne,extraRender:me},function(Oe,He,Ne){var Ke=w(Oe.record,He);return a.createElement(wI,{data:Oe,rowKey:Ke,index:He,style:Ne.style})}))}),SD=bv(CD),wD=SD,ED=function(t,s){var o=s.ref,f=s.onScroll;return a.createElement(wD,{ref:o,data:t,onScroll:f})};function ID(e,t){var s=e.data,o=e.columns,f=e.scroll,y=e.sticky,C=e.prefixCls,w=C===void 0?xI:C,I=e.className,D=e.listItemHeight,L=e.components,z=e.onScroll,k=f||{},j=k.x,Z=k.y;typeof j!="number"&&(j=1),typeof Z!="number"&&(Z=500);var G=(0,Ls.zX)(function(ne,oe){return(0,lw.Z)(L,ne)||oe}),H=(0,Ls.zX)(z),X=a.useMemo(function(){return{sticky:y,scrollY:Z,listItemHeight:D,getComponent:G,onScroll:H}},[y,Z,D,G,H]);return a.createElement(mw.Provider,{value:X},a.createElement(pD,(0,Ge.Z)({},e,{className:q()(I,"".concat(w,"-virtual")),scroll:(0,Y.Z)((0,Y.Z)({},f),{},{x:j}),components:(0,Y.Z)((0,Y.Z)({},L),{},{body:s!=null&&s.length?ED:void 0}),columns:o,internalHooks:L_,tailor:!0,ref:t})))}var TD=a.forwardRef(ID);function EI(e){return QE(TD,e)}var I8=EI(),T8=null,MD=e=>null,PD=e=>null,gw=B(44443);function vw(e){const[t,s]=(0,a.useState)(null);return[(0,a.useCallback)((y,C,w)=>{const I=t!=null?t:y,D=Math.min(I||0,y),L=Math.max(I||0,y),z=C.slice(D,L+1).map(Z=>e(Z)),k=z.some(Z=>!w.has(Z)),j=[];return z.forEach(Z=>{k?(w.has(Z)||j.push(Z),w.add(Z)):(w.delete(Z),j.push(Z))}),s(k?L:null),j},[t]),y=>{s(y)}]}const fm={},yw="SELECT_ALL",_w="SELECT_INVERT",bw="SELECT_NONE",II=[],TI=(e,t)=>{let s=[];return(t||[]).forEach(o=>{s.push(o),o&&typeof o=="object"&&e in o&&(s=[].concat((0,be.Z)(s),(0,be.Z)(TI(e,o[e]))))}),s};var OD=(e,t)=>{const{preserveSelectedRowKeys:s,selectedRowKeys:o,defaultSelectedRowKeys:f,getCheckboxProps:y,onChange:C,onSelect:w,onSelectAll:I,onSelectInvert:D,onSelectNone:L,onSelectMultiple:z,columnWidth:k,type:j,selections:Z,fixed:G,renderCell:H,hideSelectAll:X,checkStrictly:ne=!0}=t||{},{prefixCls:oe,data:ae,pageData:ie,getRecordByKey:le,getRowKey:fe,expandType:me,childrenColumnName:ge,locale:xe,getPopupContainer:Me}=e,$e=(0,Di.ln)("Table"),[Oe,He]=vw(_n=>_n),[Ne,Ke]=(0,Cs.Z)(o||f||II,{value:o}),je=a.useRef(new Map),lt=(0,a.useCallback)(_n=>{if(s){const Fn=new Map;_n.forEach(on=>{let Zt=le(on);!Zt&&je.current.has(on)&&(Zt=je.current.get(on)),Fn.set(on,Zt)}),je.current=Fn}},[le,s]);a.useEffect(()=>{lt(Ne)},[Ne]);const ht=(0,a.useMemo)(()=>TI(ge,ie),[ge,ie]),{keyEntities:It}=(0,a.useMemo)(()=>{if(ne)return{keyEntities:null};let _n=ae;if(s){const Fn=new Set(ht.map((Zt,Vn)=>fe(Zt,Vn))),on=Array.from(je.current).reduce((Zt,Vn)=>{let[Ln,kr]=Vn;return Fn.has(Ln)?Zt:Zt.concat(kr)},[]);_n=[].concat((0,be.Z)(_n),(0,be.Z)(on))}return(0,Jf.I8)(_n,{externalGetKey:fe,childrenPropName:ge})},[ae,fe,ne,ge,s,ht]),Tt=(0,a.useMemo)(()=>{const _n=new Map;return ht.forEach((Fn,on)=>{const Zt=fe(Fn,on),Vn=(y?y(Fn):null)||{};_n.set(Zt,Vn)}),_n},[ht,fe,y]),wt=(0,a.useCallback)(_n=>{const Fn=fe(_n);let on;return Tt.has(Fn)?on=Tt.get(fe(_n)):on=y?y(_n):void 0,!!(on!=null&&on.disabled)},[Tt,fe]),[_t,At]=(0,a.useMemo)(()=>{if(ne)return[Ne||[],[]];const{checkedKeys:_n,halfCheckedKeys:Fn}=(0,Ld.S)(Ne,!0,It,wt);return[_n||[],Fn]},[Ne,ne,It,wt]),Bt=(0,a.useMemo)(()=>{const _n=j==="radio"?_t.slice(0,1):_t;return new Set(_n)},[_t,j]),Dt=(0,a.useMemo)(()=>j==="radio"?new Set:new Set(At),[At,j]);a.useEffect(()=>{t||Ke(II)},[!!t]);const Gt=(0,a.useCallback)((_n,Fn)=>{let on,Zt;lt(_n),s?(on=_n,Zt=_n.map(Vn=>je.current.get(Vn))):(on=[],Zt=[],_n.forEach(Vn=>{const Ln=le(Vn);Ln!==void 0&&(on.push(Vn),Zt.push(Ln))})),Ke(on),C==null||C(on,Zt,{type:Fn})},[Ke,le,C,s]),Pt=(0,a.useCallback)((_n,Fn,on,Zt)=>{if(w){const Vn=on.map(Ln=>le(Ln));w(le(_n),Fn,Vn,Zt)}Gt(on,"single")},[w,le,Gt]),Pn=(0,a.useMemo)(()=>!Z||X?null:(Z===!0?[yw,_w,bw]:Z).map(Fn=>Fn===yw?{key:"all",text:xe.selectionAll,onSelect(){Gt(ae.map((on,Zt)=>fe(on,Zt)).filter(on=>{const Zt=Tt.get(on);return!(Zt!=null&&Zt.disabled)||Bt.has(on)}),"all")}}:Fn===_w?{key:"invert",text:xe.selectInvert,onSelect(){const on=new Set(Bt);ie.forEach((Vn,Ln)=>{const kr=fe(Vn,Ln),Sr=Tt.get(kr);Sr!=null&&Sr.disabled||(on.has(kr)?on.delete(kr):on.add(kr))});const Zt=Array.from(on);D&&($e.deprecated(!1,"onSelectInvert","onChange"),D(Zt)),Gt(Zt,"invert")}}:Fn===bw?{key:"none",text:xe.selectNone,onSelect(){L==null||L(),Gt(Array.from(Bt).filter(on=>{const Zt=Tt.get(on);return Zt==null?void 0:Zt.disabled}),"none")}}:Fn).map(Fn=>Object.assign(Object.assign({},Fn),{onSelect:function(){for(var on,Zt,Vn=arguments.length,Ln=new Array(Vn),kr=0;kr<Vn;kr++)Ln[kr]=arguments[kr];(Zt=Fn.onSelect)===null||Zt===void 0||(on=Zt).call.apply(on,[Fn].concat(Ln)),He(null)}})),[Z,Bt,ie,fe,D,Gt]);return[(0,a.useCallback)(_n=>{var Fn;if(!t)return _n.filter($i=>$i!==fm);let on=(0,be.Z)(_n);const Zt=new Set(Bt),Vn=ht.map(fe).filter($i=>!Tt.get($i).disabled),Ln=Vn.every($i=>Zt.has($i)),kr=Vn.some($i=>Zt.has($i)),Sr=()=>{const $i=[];Ln?Vn.forEach(Gi=>{Zt.delete(Gi),$i.push(Gi)}):Vn.forEach(Gi=>{Zt.has(Gi)||(Zt.add(Gi),$i.push(Gi))});const go=Array.from(Zt);I==null||I(!Ln,go.map(Gi=>le(Gi)),$i.map(Gi=>le(Gi))),Gt(go,"all"),He(null)};let dr,cr;if(j!=="radio"){let $i;if(Pn){const Mr={getPopupContainer:Me,items:Pn.map((Zr,tr)=>{const{key:yi,text:Ui,onSelect:xo}=Zr;return{key:yi!=null?yi:tr,onClick:()=>{xo==null||xo(Vn)},label:Ui}})};$i=a.createElement("div",{className:`${oe}-selection-extra`},a.createElement(fx,{menu:Mr,getPopupContainer:Me},a.createElement("span",null,a.createElement(Ku.Z,null))))}const go=ht.map((Mr,Zr)=>{const tr=fe(Mr,Zr),yi=Tt.get(tr)||{};return Object.assign({checked:Zt.has(tr)},yi)}).filter(Mr=>{let{disabled:Zr}=Mr;return Zr}),Gi=!!go.length&&go.length===ht.length,ko=Gi&&go.every(Mr=>{let{checked:Zr}=Mr;return Zr}),Er=Gi&&go.some(Mr=>{let{checked:Zr}=Mr;return Zr});cr=a.createElement(nh,{checked:Gi?ko:!!ht.length&&Ln,indeterminate:Gi?!ko&&Er:!Ln&&kr,onChange:Sr,disabled:ht.length===0||Gi,"aria-label":$i?"Custom selection":"Select all",skipGroup:!0}),dr=!X&&a.createElement("div",{className:`${oe}-selection`},cr,$i)}let Zn;j==="radio"?Zn=($i,go,Gi)=>{const ko=fe(go,Gi),Er=Zt.has(ko),Mr=Tt.get(ko);return{node:a.createElement(nw.ZP,Object.assign({},Mr,{checked:Er,onClick:Zr=>{var tr;Zr.stopPropagation(),(tr=Mr==null?void 0:Mr.onClick)===null||tr===void 0||tr.call(Mr,Zr)},onChange:Zr=>{var tr;Zt.has(ko)||Pt(ko,!0,[ko],Zr.nativeEvent),(tr=Mr==null?void 0:Mr.onChange)===null||tr===void 0||tr.call(Mr,Zr)}})),checked:Er}}:Zn=($i,go,Gi)=>{var ko;const Er=fe(go,Gi),Mr=Zt.has(Er),Zr=Dt.has(Er),tr=Tt.get(Er);let yi;return me==="nest"?yi=Zr:yi=(ko=tr==null?void 0:tr.indeterminate)!==null&&ko!==void 0?ko:Zr,{node:a.createElement(nh,Object.assign({},tr,{indeterminate:yi,checked:Mr,skipGroup:!0,onClick:Ui=>{var xo;Ui.stopPropagation(),(xo=tr==null?void 0:tr.onClick)===null||xo===void 0||xo.call(tr,Ui)},onChange:Ui=>{var xo;const{nativeEvent:ra}=Ui,{shiftKey:Aa}=ra,oa=Vn.findIndex(Va=>Va===Er),Ss=_t.some(Va=>Vn.includes(Va));if(Aa&&ne&&Ss){const Va=Oe(oa,Vn,Zt),Ga=Array.from(Zt);z==null||z(!Mr,Ga.map(_a=>le(_a)),Va.map(_a=>le(_a))),Gt(Ga,"multiple")}else{const Va=_t;if(ne){const Ga=Mr?(0,gw._5)(Va,Er):(0,gw.L0)(Va,Er);Pt(Er,!Mr,Ga,ra)}else{const Ga=(0,Ld.S)([].concat((0,be.Z)(Va),[Er]),!0,It,wt),{checkedKeys:_a,halfCheckedKeys:ns}=Ga;let zs=_a;if(Mr){const Do=new Set(_a);Do.delete(Er),zs=(0,Ld.S)(Array.from(Do),{checked:!1,halfCheckedKeys:ns},It,wt).checkedKeys}Pt(Er,!Mr,zs,ra)}}He(Mr?null:oa),(xo=tr==null?void 0:tr.onChange)===null||xo===void 0||xo.call(tr,Ui)}})),checked:Mr}};const ur=($i,go,Gi)=>{const{node:ko,checked:Er}=Zn($i,go,Gi);return H?H(Er,go,Gi,ko):ko};if(!on.includes(fm))if(on.findIndex($i=>{var go;return((go=$i[z_])===null||go===void 0?void 0:go.columnType)==="EXPAND_COLUMN"})===0){const[$i,...go]=on;on=[$i,fm].concat((0,be.Z)(go))}else on=[fm].concat((0,be.Z)(on));const ti=on.indexOf(fm);on=on.filter(($i,go)=>$i!==fm||go===ti);const Ei=on[ti-1],ki=on[ti+1];let qi=G;qi===void 0&&((ki==null?void 0:ki.fixed)!==void 0?qi=ki.fixed:(Ei==null?void 0:Ei.fixed)!==void 0&&(qi=Ei.fixed)),qi&&Ei&&((Fn=Ei[z_])===null||Fn===void 0?void 0:Fn.columnType)==="EXPAND_COLUMN"&&Ei.fixed===void 0&&(Ei.fixed=qi);const Ho=q()(`${oe}-selection-col`,{[`${oe}-selection-col-with-dropdown`]:Z&&j==="checkbox"}),Li=()=>t!=null&&t.columnTitle?typeof t.columnTitle=="function"?t.columnTitle(cr):t.columnTitle:dr,bi={fixed:qi,width:k,className:`${oe}-selection-column`,title:Li(),render:ur,onCell:t.onCell,[z_]:{className:Ho}};return on.map($i=>$i===fm?bi:$i)},[fe,ht,t,_t,Bt,Dt,k,Pn,me,Tt,z,Pt,wt]),Bt]};function RD(e,t){return e._antProxy=e._antProxy||{},Object.keys(t).forEach(s=>{if(!(s in e._antProxy)){const o=e[s];e._antProxy[s]=o,e[s]=t[s]}}),e}function $D(e,t){return(0,a.useImperativeHandle)(e,()=>{const s=t(),{nativeElement:o}=s;return typeof Proxy!="undefined"?new Proxy(o,{get(f,y){return s[y]?s[y]:Reflect.get(f,y)}}):RD(o,s)})}function AD(e){return t=>{const{prefixCls:s,onExpand:o,record:f,expanded:y,expandable:C}=t,w=`${s}-row-expand-icon`;return a.createElement("button",{type:"button",onClick:I=>{o(f,I),I.stopPropagation()},className:q()(w,{[`${w}-spaced`]:!C,[`${w}-expanded`]:C&&y,[`${w}-collapsed`]:C&&!y}),"aria-label":y?e.collapse:e.expand,"aria-expanded":y})}}var DD=AD;function LD(e){return(s,o)=>{const f=s.querySelector(`.${e}-container`);let y=o;if(f){const C=getComputedStyle(f),w=parseInt(C.borderLeftWidth,10),I=parseInt(C.borderRightWidth,10);y=o-w-I}return y}}const hm=(e,t)=>"key"in e&&e.key!==void 0&&e.key!==null?e.key:e.dataIndex?Array.isArray(e.dataIndex)?e.dataIndex.join("."):e.dataIndex:t;function Sv(e,t){return t?`${t}-${e}`:`${e}`}const $x=(e,t)=>typeof e=="function"?e(t):e,zD=(e,t)=>{const s=$x(e,t);return Object.prototype.toString.call(s)==="[object Object]"?"":s};var ND={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M349 838c0 17.7 14.2 32 31.8 32h262.4c17.6 0 31.8-14.3 31.8-32V642H349v196zm531.1-684H143.9c-24.5 0-39.8 26.7-27.5 48l221.3 376h348.8l221.3-376c12.1-21.3-3.2-48-27.7-48z"}}]},name:"filter",theme:"filled"},BD=ND,FD=function(t,s){return a.createElement(Xt.Z,(0,Ge.Z)({},t,{ref:s,icon:BD}))},kD=a.forwardRef(FD),ZD=kD;function jD(e){const t=a.useRef(e),s=(0,rw.Z)();return[()=>t.current,o=>{t.current=o,s()}]}var Ax=B(91606),VD={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494z"}}]},name:"file",theme:"outlined"},HD=VD,UD=function(t,s){return a.createElement(Xt.Z,(0,Ge.Z)({},t,{ref:s,icon:HD}))},WD=a.forwardRef(UD),MI=WD,GD={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 444H820V330.4c0-17.7-14.3-32-32-32H473L355.7 186.2a8.15 8.15 0 00-5.5-2.2H96c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h698c13 0 24.8-7.9 29.7-20l134-332c1.5-3.8 2.3-7.9 2.3-12 0-17.7-14.3-32-32-32zM136 256h188.5l119.6 114.4H748V444H238c-13 0-24.8 7.9-29.7 20L136 643.2V256zm635.3 512H159l103.3-256h612.4L771.3 768z"}}]},name:"folder-open",theme:"outlined"},KD=GD,XD=function(t,s){return a.createElement(Xt.Z,(0,Ge.Z)({},t,{ref:s,icon:KD}))},YD=a.forwardRef(XD),qD=YD,JD={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 298.4H521L403.7 186.2a8.15 8.15 0 00-5.5-2.2H144c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V330.4c0-17.7-14.3-32-32-32zM840 768H184V256h188.5l119.6 114.4H840V768z"}}]},name:"folder",theme:"outlined"},QD=JD,e5=function(t,s){return a.createElement(Xt.Z,(0,Ge.Z)({},t,{ref:s,icon:QD}))},t5=a.forwardRef(e5),n5=t5,r5={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M300 276.5a56 56 0 1056-97 56 56 0 00-56 97zm0 284a56 56 0 1056-97 56 56 0 00-56 97zM640 228a56 56 0 10112 0 56 56 0 00-112 0zm0 284a56 56 0 10112 0 56 56 0 00-112 0zM300 844.5a56 56 0 1056-97 56 56 0 00-56 97zM640 796a56 56 0 10112 0 56 56 0 00-112 0z"}}]},name:"holder",theme:"outlined"},i5=r5,o5=function(t,s){return a.createElement(Xt.Z,(0,Ge.Z)({},t,{ref:s,icon:i5}))},a5=a.forwardRef(o5),s5=a5;const l5=e=>{let{treeCls:t,treeNodeCls:s,directoryNodeSelectedBg:o,directoryNodeSelectedColor:f,motionDurationMid:y,borderRadius:C,controlItemBgHover:w}=e;return{[`${t}${t}-directory ${s}`]:{[`${t}-node-content-wrapper`]:{position:"static",[`> *:not(${t}-drop-indicator)`]:{position:"relative"},"&:hover":{background:"transparent"},"&:before":{position:"absolute",inset:0,transition:`background-color ${y}`,content:'""',borderRadius:C},"&:hover:before":{background:w}},[`${t}-switcher, ${t}-checkbox, ${t}-draggable-icon`]:{zIndex:1},"&-selected":{[`${t}-switcher, ${t}-draggable-icon`]:{color:f},[`${t}-node-content-wrapper`]:{color:f,background:"transparent","&:before, &:hover:before":{background:o}}}}}},c5=new he.E4("ant-tree-node-fx-do-not-use",{"0%":{opacity:0},"100%":{opacity:1}}),u5=(e,t)=>({[`.${e}-switcher-icon`]:{display:"inline-block",fontSize:10,verticalAlign:"baseline",svg:{transition:`transform ${t.motionDurationSlow}`}}}),d5=(e,t)=>({[`.${e}-drop-indicator`]:{position:"absolute",zIndex:1,height:2,backgroundColor:t.colorPrimary,borderRadius:1,pointerEvents:"none","&:after":{position:"absolute",top:-3,insetInlineStart:-6,width:8,height:8,backgroundColor:"transparent",border:`${(0,he.bf)(t.lineWidthBold)} solid ${t.colorPrimary}`,borderRadius:"50%",content:'""'}}}),f5=(e,t)=>{const{treeCls:s,treeNodeCls:o,treeNodePadding:f,titleHeight:y,indentSize:C,nodeSelectedBg:w,nodeHoverBg:I,colorTextQuaternary:D,controlItemBgActiveDisabled:L}=t;return{[s]:Object.assign(Object.assign({},(0,Qt.Wf)(t)),{background:t.colorBgContainer,borderRadius:t.borderRadius,transition:`background-color ${t.motionDurationSlow}`,"&-rtl":{direction:"rtl"},[`&${s}-rtl ${s}-switcher_close ${s}-switcher-icon svg`]:{transform:"rotate(90deg)"},[`&-focused:not(:hover):not(${s}-active-focused)`]:Object.assign({},(0,Qt.oN)(t)),[`${s}-list-holder-inner`]:{alignItems:"flex-start"},[`&${s}-block-node`]:{[`${s}-list-holder-inner`]:{alignItems:"stretch",[`${s}-node-content-wrapper`]:{flex:"auto"},[`${o}.dragging:after`]:{position:"absolute",inset:0,border:`1px solid ${t.colorPrimary}`,opacity:0,animationName:c5,animationDuration:t.motionDurationSlow,animationPlayState:"running",animationFillMode:"forwards",content:'""',pointerEvents:"none",borderRadius:t.borderRadius}}},[o]:{display:"flex",alignItems:"flex-start",marginBottom:f,lineHeight:(0,he.bf)(y),position:"relative","&:before":{content:'""',position:"absolute",zIndex:1,insetInlineStart:0,width:"100%",top:"100%",height:f},[`&-disabled ${s}-node-content-wrapper`]:{color:t.colorTextDisabled,cursor:"not-allowed","&:hover":{background:"transparent"}},[`${s}-checkbox-disabled + ${s}-node-selected,&${o}-disabled${o}-selected ${s}-node-content-wrapper`]:{backgroundColor:L},[`${s}-checkbox-disabled`]:{pointerEvents:"unset"},[`&:not(${o}-disabled)`]:{[`${s}-node-content-wrapper`]:{"&:hover":{color:t.nodeHoverColor}}},[`&-active ${s}-node-content-wrapper`]:{background:t.controlItemBgHover},[`&:not(${o}-disabled).filter-node ${s}-title`]:{color:t.colorPrimary,fontWeight:500},"&-draggable":{cursor:"grab",[`${s}-draggable-icon`]:{flexShrink:0,width:y,textAlign:"center",visibility:"visible",color:D},[`&${o}-disabled ${s}-draggable-icon`]:{visibility:"hidden"}}},[`${s}-indent`]:{alignSelf:"stretch",whiteSpace:"nowrap",userSelect:"none","&-unit":{display:"inline-block",width:C}},[`${s}-draggable-icon`]:{visibility:"hidden"},[`${s}-switcher, ${s}-checkbox`]:{marginInlineEnd:t.calc(t.calc(y).sub(t.controlInteractiveSize)).div(2).equal()},[`${s}-switcher`]:Object.assign(Object.assign({},u5(e,t)),{position:"relative",flex:"none",alignSelf:"stretch",width:y,textAlign:"center",cursor:"pointer",userSelect:"none",transition:`all ${t.motionDurationSlow}`,"&-noop":{cursor:"unset"},"&:before":{pointerEvents:"none",content:'""',width:y,height:y,position:"absolute",left:{_skip_check_:!0,value:0},top:0,borderRadius:t.borderRadius,transition:`all ${t.motionDurationSlow}`},[`&:not(${s}-switcher-noop):hover:before`]:{backgroundColor:t.colorBgTextHover},[`&_close ${s}-switcher-icon svg`]:{transform:"rotate(-90deg)"},"&-loading-icon":{color:t.colorPrimary},"&-leaf-line":{position:"relative",zIndex:1,display:"inline-block",width:"100%",height:"100%","&:before":{position:"absolute",top:0,insetInlineEnd:t.calc(y).div(2).equal(),bottom:t.calc(f).mul(-1).equal(),marginInlineStart:-1,borderInlineEnd:`1px solid ${t.colorBorder}`,content:'""'},"&:after":{position:"absolute",width:t.calc(t.calc(y).div(2).equal()).mul(.8).equal(),height:t.calc(y).div(2).equal(),borderBottom:`1px solid ${t.colorBorder}`,content:'""'}}}),[`${s}-node-content-wrapper`]:Object.assign(Object.assign({position:"relative",minHeight:y,paddingBlock:0,paddingInline:t.paddingXS,background:"transparent",borderRadius:t.borderRadius,cursor:"pointer",transition:`all ${t.motionDurationMid}, border 0s, line-height 0s, box-shadow 0s`},d5(e,t)),{"&:hover":{backgroundColor:I},[`&${s}-node-selected`]:{color:t.nodeSelectedColor,backgroundColor:w},[`${s}-iconEle`]:{display:"inline-block",width:y,height:y,textAlign:"center",verticalAlign:"top","&:empty":{display:"none"}}}),[`${s}-unselectable ${s}-node-content-wrapper:hover`]:{backgroundColor:"transparent"},[`${o}.drop-container > [draggable]`]:{boxShadow:`0 0 0 2px ${t.colorPrimary}`},"&-show-line":{[`${s}-indent-unit`]:{position:"relative",height:"100%","&:before":{position:"absolute",top:0,insetInlineEnd:t.calc(y).div(2).equal(),bottom:t.calc(f).mul(-1).equal(),borderInlineEnd:`1px solid ${t.colorBorder}`,content:'""'},"&-end:before":{display:"none"}},[`${s}-switcher`]:{background:"transparent","&-line-icon":{verticalAlign:"-0.15em"}}},[`${o}-leaf-last ${s}-switcher-leaf-line:before`]:{top:"auto !important",bottom:"auto !important",height:`${(0,he.bf)(t.calc(y).div(2).equal())} !important`}})}},PI=(e,t)=>{const s=`.${e}`,o=`${s}-treenode`,f=t.calc(t.paddingXS).div(2).equal(),y=(0,ci.IX)(t,{treeCls:s,treeNodeCls:o,treeNodePadding:f});return[f5(e,y),l5(y)]},OI=e=>{const{controlHeightSM:t,controlItemBgHover:s,controlItemBgActive:o}=e,f=t;return{titleHeight:f,indentSize:f,nodeHoverBg:s,nodeHoverColor:e.colorText,nodeSelectedBg:o,nodeSelectedColor:e.colorText}},h5=e=>{const{colorTextLightSolid:t,colorPrimary:s}=e;return Object.assign(Object.assign({},OI(e)),{directoryNodeSelectedColor:t,directoryNodeSelectedBg:s})};var p5=(0,te.I$)("Tree",(e,t)=>{let{prefixCls:s}=t;return[{[e.componentCls]:au(`${s}-checkbox`,e)},PI(s,e),(0,Ko.Z)(e)]},h5);const RI=4;function m5(e){const{dropPosition:t,dropLevelOffset:s,prefixCls:o,indent:f,direction:y="ltr"}=e,C=y==="ltr"?"left":"right",w=y==="ltr"?"right":"left",I={[C]:-s*f+RI,[w]:0};switch(t){case-1:I.top=-3;break;case 1:I.bottom=-3;break;default:I.bottom=-3,I[C]=f+RI;break}return a.createElement("div",{style:I,className:`${o}-drop-indicator`})}var g5=m5,v5={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"}}]},name:"caret-down",theme:"filled"},y5=v5,_5=function(t,s){return a.createElement(Xt.Z,(0,Ge.Z)({},t,{ref:s,icon:y5}))},b5=a.forwardRef(_5),x5=b5,C5={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M328 544h368c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"minus-square",theme:"outlined"},S5=C5,w5=function(t,s){return a.createElement(Xt.Z,(0,Ge.Z)({},t,{ref:s,icon:S5}))},E5=a.forwardRef(w5),I5=E5,T5={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M328 544h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"plus-square",theme:"outlined"},M5=T5,P5=function(t,s){return a.createElement(Xt.Z,(0,Ge.Z)({},t,{ref:s,icon:M5}))},O5=a.forwardRef(P5),R5=O5,$I=e=>{const{prefixCls:t,switcherIcon:s,treeNodeProps:o,showLine:f,switcherLoadingIcon:y}=e,{isLeaf:C,expanded:w,loading:I}=o;if(I)return a.isValidElement(y)?y:a.createElement(wn.Z,{className:`${t}-switcher-loading-icon`});let D;if(f&&typeof f=="object"&&(D=f.showLeafIcon),C){if(!f)return null;if(typeof D!="boolean"&&D){const k=typeof D=="function"?D(o):D,j=`${t}-switcher-line-custom-icon`;return a.isValidElement(k)?(0,Cn.Tm)(k,{className:q()(k.props.className||"",j)}):k}return D?a.createElement(MI,{className:`${t}-switcher-line-icon`}):a.createElement("span",{className:`${t}-switcher-leaf-line`})}const L=`${t}-switcher-icon`,z=typeof s=="function"?s(o):s;return a.isValidElement(z)?(0,Cn.Tm)(z,{className:q()(z.props.className||"",L)}):z!==void 0?z:f?w?a.createElement(I5,{className:`${t}-switcher-line-icon`}):a.createElement(R5,{className:`${t}-switcher-line-icon`}):a.createElement(x5,{className:L})},AI=a.forwardRef((e,t)=>{var s;const{getPrefixCls:o,direction:f,virtual:y,tree:C}=a.useContext(ye.E_),{prefixCls:w,className:I,showIcon:D=!1,showLine:L,switcherIcon:z,switcherLoadingIcon:k,blockNode:j=!1,children:Z,checkable:G=!1,selectable:H=!0,draggable:X,motion:ne,style:oe}=e,ae=o("tree",w),ie=o(),le=ne!=null?ne:Object.assign(Object.assign({},(0,Et.Z)(ie)),{motionAppear:!1}),fe=Object.assign(Object.assign({},e),{checkable:G,selectable:H,showIcon:D,motion:le,blockNode:j,showLine:!!L,dropIndicatorRender:g5}),[me,ge,xe]=p5(ae),[,Me]=(0,Qn.ZP)(),$e=Me.paddingXS/2+(((s=Me.Tree)===null||s===void 0?void 0:s.titleHeight)||Me.controlHeightSM),Oe=a.useMemo(()=>{if(!X)return!1;let Ne={};switch(typeof X){case"function":Ne.nodeDraggable=X;break;case"object":Ne=Object.assign({},X);break;default:break}return Ne.icon!==!1&&(Ne.icon=Ne.icon||a.createElement(s5,null)),Ne},[X]),He=Ne=>a.createElement($I,{prefixCls:ae,switcherIcon:z,switcherLoadingIcon:k,treeNodeProps:Ne,showLine:L});return me(a.createElement(Ax.ZP,Object.assign({itemHeight:$e,ref:t,virtual:y},fe,{style:Object.assign(Object.assign({},C==null?void 0:C.style),oe),prefixCls:ae,className:q()({[`${ae}-icon-hide`]:!D,[`${ae}-block-node`]:j,[`${ae}-unselectable`]:!H,[`${ae}-rtl`]:f==="rtl"},C==null?void 0:C.className,I,ge,xe),direction:f,checkable:G&&a.createElement("span",{className:`${ae}-checkbox-inner`}),selectable:H,switcherIcon:He,draggable:Oe}),Z))});const DI=0,xw=1,LI=2;function Cw(e,t,s){const{key:o,children:f}=s;function y(C){const w=C[o],I=C[f];t(w,C)!==!1&&Cw(I||[],t,s)}e.forEach(y)}function $5(e){let{treeData:t,expandedKeys:s,startKey:o,endKey:f,fieldNames:y}=e;const C=[];let w=DI;if(o&&o===f)return[o];if(!o||!f)return[];function I(D){return D===o||D===f}return Cw(t,D=>{if(w===LI)return!1;if(I(D)){if(C.push(D),w===DI)w=xw;else if(w===xw)return w=LI,!1}else w===xw&&C.push(D);return s.includes(D)},(0,Jf.w$)(y)),C}function Sw(e,t,s){const o=(0,be.Z)(t),f=[];return Cw(e,(y,C)=>{const w=o.indexOf(y);return w!==-1&&(f.push(C),o.splice(w,1)),!!o.length},(0,Jf.w$)(s)),f}var zI=function(e,t){var s={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(s[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(s[o[f]]=e[o[f]]);return s};function A5(e){const{isLeaf:t,expanded:s}=e;return t?a.createElement(MI,null):s?a.createElement(qD,null):a.createElement(n5,null)}function NI(e){let{treeData:t,children:s}=e;return t||(0,Jf.zn)(s)}const D5=(e,t)=>{var{defaultExpandAll:s,defaultExpandParent:o,defaultExpandedKeys:f}=e,y=zI(e,["defaultExpandAll","defaultExpandParent","defaultExpandedKeys"]);const C=a.useRef(null),w=a.useRef(null),I=()=>{const{keyEntities:me}=(0,Jf.I8)(NI(y));let ge;return s?ge=Object.keys(me):o?ge=(0,gw.r7)(y.expandedKeys||f||[],me):ge=y.expandedKeys||f||[],ge},[D,L]=a.useState(y.selectedKeys||y.defaultSelectedKeys||[]),[z,k]=a.useState(()=>I());a.useEffect(()=>{"selectedKeys"in y&&L(y.selectedKeys)},[y.selectedKeys]),a.useEffect(()=>{"expandedKeys"in y&&k(y.expandedKeys)},[y.expandedKeys]);const j=(me,ge)=>{var xe;return"expandedKeys"in y||k(me),(xe=y.onExpand)===null||xe===void 0?void 0:xe.call(y,me,ge)},Z=(me,ge)=>{var xe;const{multiple:Me,fieldNames:$e}=y,{node:Oe,nativeEvent:He}=ge,{key:Ne=""}=Oe,Ke=NI(y),je=Object.assign(Object.assign({},ge),{selected:!0}),lt=(He==null?void 0:He.ctrlKey)||(He==null?void 0:He.metaKey),ht=He==null?void 0:He.shiftKey;let It;Me&&lt?(It=me,C.current=Ne,w.current=It,je.selectedNodes=Sw(Ke,It,$e)):Me&&ht?(It=Array.from(new Set([].concat((0,be.Z)(w.current||[]),(0,be.Z)($5({treeData:Ke,expandedKeys:z,startKey:Ne,endKey:C.current,fieldNames:$e}))))),je.selectedNodes=Sw(Ke,It,$e)):(It=[Ne],C.current=Ne,w.current=It,je.selectedNodes=Sw(Ke,It,$e)),(xe=y.onSelect)===null||xe===void 0||xe.call(y,It,je),"selectedKeys"in y||L(It)},{getPrefixCls:G,direction:H}=a.useContext(ye.E_),{prefixCls:X,className:ne,showIcon:oe=!0,expandAction:ae="click"}=y,ie=zI(y,["prefixCls","className","showIcon","expandAction"]),le=G("tree",X),fe=q()(`${le}-directory`,{[`${le}-directory-rtl`]:H==="rtl"},ne);return a.createElement(AI,Object.assign({icon:A5,ref:t,blockNode:!0},ie,{showIcon:oe,expandAction:ae,prefixCls:le,className:fe,expandedKeys:z,selectedKeys:D,onSelect:Z,onExpand:j}))};var L5=a.forwardRef(D5);const ww=AI;ww.DirectoryTree=L5,ww.TreeNode=Ax.OF;var BI=ww,FI=e=>{const{value:t,filterSearch:s,tablePrefixCls:o,locale:f,onChange:y}=e;return s?a.createElement("div",{className:`${o}-filter-dropdown-search`},a.createElement(mv.Z,{prefix:a.createElement(ZS.Z,null),placeholder:f.filterSearchPlaceholder,onChange:y,value:t,htmlSize:1,className:`${o}-filter-dropdown-search-input`})):null};const z5=e=>{const{keyCode:t}=e;t===rt.Z.ENTER&&e.stopPropagation()};var N5=a.forwardRef((e,t)=>a.createElement("div",{className:e.className,onClick:s=>s.stopPropagation(),onKeyDown:z5,ref:t},e.children));function wv(e){let t=[];return(e||[]).forEach(s=>{let{value:o,children:f}=s;t.push(o),f&&(t=[].concat((0,be.Z)(t),(0,be.Z)(wv(f))))}),t}function B5(e){return e.some(t=>{let{children:s}=t;return s})}function kI(e,t){return typeof t=="string"||typeof t=="number"?t==null?void 0:t.toString().toLowerCase().includes(e.trim().toLowerCase()):!1}function ZI(e){let{filters:t,prefixCls:s,filteredKeys:o,filterMultiple:f,searchValue:y,filterSearch:C}=e;return t.map((w,I)=>{const D=String(w.value);if(w.children)return{key:D||I,label:w.text,popupClassName:`${s}-dropdown-submenu`,children:ZI({filters:w.children,prefixCls:s,filteredKeys:o,filterMultiple:f,searchValue:y,filterSearch:C})};const L=f?nh:nw.ZP,z={key:w.value!==void 0?D:I,label:a.createElement(a.Fragment,null,a.createElement(L,{checked:o.includes(D)}),a.createElement("span",null,w.text))};return y.trim()?typeof C=="function"?C(y,w)?z:null:kI(y,w.text)?z:null:z})}function Ew(e){return e||[]}var F5=e=>{var t,s,o,f;const{tablePrefixCls:y,prefixCls:C,column:w,dropdownPrefixCls:I,columnKey:D,filterOnClose:L,filterMultiple:z,filterMode:k="menu",filterSearch:j=!1,filterState:Z,triggerFilter:G,locale:H,children:X,getPopupContainer:ne,rootClassName:oe}=e,{filterResetToDefaultFilteredValue:ae,defaultFilteredValue:ie,filterDropdownProps:le={},filterDropdownOpen:fe,filterDropdownVisible:me,onFilterDropdownVisibleChange:ge,onFilterDropdownOpenChange:xe}=w,[Me,$e]=a.useState(!1),Oe=!!(Z&&(!((t=Z.filteredKeys)===null||t===void 0)&&t.length||Z.forceFiltered)),He=Zn=>{var ur;$e(Zn),(ur=le.onOpenChange)===null||ur===void 0||ur.call(le,Zn),xe==null||xe(Zn),ge==null||ge(Zn)},Ne=(f=(o=(s=le.open)!==null&&s!==void 0?s:fe)!==null&&o!==void 0?o:me)!==null&&f!==void 0?f:Me,Ke=Z==null?void 0:Z.filteredKeys,[je,lt]=jD(Ew(Ke)),ht=Zn=>{let{selectedKeys:ur}=Zn;lt(ur)},It=(Zn,ur)=>{let{node:ti,checked:Ei}=ur;ht(z?{selectedKeys:Zn}:{selectedKeys:Ei&&ti.key?[ti.key]:[]})};a.useEffect(()=>{Me&&ht({selectedKeys:Ew(Ke)})},[Ke]);const[Tt,wt]=a.useState([]),_t=Zn=>{wt(Zn)},[At,Bt]=a.useState(""),Dt=Zn=>{const{value:ur}=Zn.target;Bt(ur)};a.useEffect(()=>{Me||Bt("")},[Me]);const Gt=Zn=>{const ur=Zn!=null&&Zn.length?Zn:null;if(ur===null&&(!Z||!Z.filteredKeys)||(0,mu.Z)(ur,Z==null?void 0:Z.filteredKeys,!0))return null;G({column:w,key:D,filteredKeys:ur})},Pt=()=>{He(!1),Gt(je())},Pn=function(){let{confirm:Zn,closeDropdown:ur}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{confirm:!1,closeDropdown:!1};Zn&&Gt([]),ur&&He(!1),Bt(""),lt(ae?(ie||[]).map(ti=>String(ti)):[])},Kn=function(){let{closeDropdown:Zn}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{closeDropdown:!0};Zn&&He(!1),Gt(je())},_n=(Zn,ur)=>{ur.source==="trigger"&&(Zn&&Ke!==void 0&&lt(Ew(Ke)),He(Zn),!Zn&&!w.filterDropdown&&L&&Pt())},Fn=q()({[`${I}-menu-without-submenu`]:!B5(w.filters||[])}),on=Zn=>{if(Zn.target.checked){const ur=wv(w==null?void 0:w.filters).map(ti=>String(ti));lt(ur)}else lt([])},Zt=Zn=>{let{filters:ur}=Zn;return(ur||[]).map((ti,Ei)=>{const ki=String(ti.value),qi={title:ti.text,key:ti.value!==void 0?ki:String(Ei)};return ti.children&&(qi.children=Zt({filters:ti.children})),qi})},Vn=Zn=>{var ur;return Object.assign(Object.assign({},Zn),{text:Zn.title,value:Zn.key,children:((ur=Zn.children)===null||ur===void 0?void 0:ur.map(ti=>Vn(ti)))||[]})};let Ln;const{direction:kr,renderEmpty:Sr}=a.useContext(ye.E_);if(typeof w.filterDropdown=="function")Ln=w.filterDropdown({prefixCls:`${I}-custom`,setSelectedKeys:Zn=>ht({selectedKeys:Zn}),selectedKeys:je(),confirm:Kn,clearFilters:Pn,filters:w.filters,visible:Ne,close:()=>{He(!1)}});else if(w.filterDropdown)Ln=w.filterDropdown;else{const Zn=je()||[],ur=()=>{var Ei,ki;const qi=(Ei=Sr==null?void 0:Sr("Table.filter"))!==null&&Ei!==void 0?Ei:a.createElement(zS.Z,{image:zS.Z.PRESENTED_IMAGE_SIMPLE,description:H.filterEmptyText,styles:{image:{height:24}},style:{margin:0,padding:"16px 0"}});if((w.filters||[]).length===0)return qi;if(k==="tree")return a.createElement(a.Fragment,null,a.createElement(FI,{filterSearch:j,value:At,onChange:Dt,tablePrefixCls:y,locale:H}),a.createElement("div",{className:`${y}-filter-dropdown-tree`},z?a.createElement(nh,{checked:Zn.length===wv(w.filters).length,indeterminate:Zn.length>0&&Zn.length<wv(w.filters).length,className:`${y}-filter-dropdown-checkall`,onChange:on},(ki=H==null?void 0:H.filterCheckall)!==null&&ki!==void 0?ki:H==null?void 0:H.filterCheckAll):null,a.createElement(BI,{checkable:!0,selectable:!1,blockNode:!0,multiple:z,checkStrictly:!z,className:`${I}-menu`,onCheck:It,checkedKeys:Zn,selectedKeys:Zn,showIcon:!1,treeData:Zt({filters:w.filters}),autoExpandParent:!0,defaultExpandAll:!0,filterTreeNode:At.trim()?bi=>typeof j=="function"?j(At,Vn(bi)):kI(At,bi.title):void 0})));const Ho=ZI({filters:w.filters||[],filterSearch:j,prefixCls:C,filteredKeys:je(),filterMultiple:z,searchValue:At}),Li=Ho.every(bi=>bi===null);return a.createElement(a.Fragment,null,a.createElement(FI,{filterSearch:j,value:At,onChange:Dt,tablePrefixCls:y,locale:H}),Li?qi:a.createElement(cc,{selectable:!0,multiple:z,prefixCls:`${I}-menu`,className:Fn,onSelect:ht,onDeselect:ht,selectedKeys:Zn,getPopupContainer:ne,openKeys:Tt,onOpenChange:_t,items:Ho}))},ti=()=>ae?(0,mu.Z)((ie||[]).map(Ei=>String(Ei)),Zn,!0):Zn.length===0;Ln=a.createElement(a.Fragment,null,ur(),a.createElement("div",{className:`${C}-dropdown-btns`},a.createElement(Or.ZP,{type:"link",size:"small",disabled:ti(),onClick:()=>Pn()},H.filterReset),a.createElement(Or.ZP,{type:"primary",size:"small",onClick:Pt},H.filterConfirm)))}w.filterDropdown&&(Ln=a.createElement(bo,{selectable:void 0},Ln)),Ln=a.createElement(N5,{className:`${C}-dropdown`},Ln);const cr=KS({trigger:["click"],placement:kr==="rtl"?"bottomLeft":"bottomRight",children:(()=>{let Zn;return typeof w.filterIcon=="function"?Zn=w.filterIcon(Oe):w.filterIcon?Zn=w.filterIcon:Zn=a.createElement(ZD,null),a.createElement("span",{role:"button",tabIndex:-1,className:q()(`${C}-trigger`,{active:Oe}),onClick:ur=>{ur.stopPropagation()}},Zn)})(),getPopupContainer:ne},Object.assign(Object.assign({},le),{rootClassName:q()(oe,le.rootClassName),open:Ne,onOpenChange:_n,dropdownRender:()=>typeof(le==null?void 0:le.dropdownRender)=="function"?le.dropdownRender(Ln):Ln}));return a.createElement("div",{className:`${C}-column`},a.createElement("span",{className:`${y}-column-title`},X),a.createElement(fx,Object.assign({},cr)))};const Iw=(e,t,s)=>{let o=[];return(e||[]).forEach((f,y)=>{var C;const w=Sv(y,s);if(f.filters||"filterDropdown"in f||"onFilter"in f)if("filteredValue"in f){let I=f.filteredValue;"filterDropdown"in f||(I=(C=I==null?void 0:I.map(String))!==null&&C!==void 0?C:I),o.push({column:f,key:hm(f,w),filteredKeys:I,forceFiltered:f.filtered})}else o.push({column:f,key:hm(f,w),filteredKeys:t&&f.defaultFilteredValue?f.defaultFilteredValue:void 0,forceFiltered:f.filtered});"children"in f&&(o=[].concat((0,be.Z)(o),(0,be.Z)(Iw(f.children,t,w))))}),o};function jI(e,t,s,o,f,y,C,w,I){return s.map((D,L)=>{const z=Sv(L,w),{filterOnClose:k=!0,filterMultiple:j=!0,filterMode:Z,filterSearch:G}=D;let H=D;if(H.filters||H.filterDropdown){const X=hm(H,z),ne=o.find(oe=>{let{key:ae}=oe;return X===ae});H=Object.assign(Object.assign({},H),{title:oe=>a.createElement(F5,{tablePrefixCls:e,prefixCls:`${e}-filter`,dropdownPrefixCls:t,column:H,columnKey:X,filterState:ne,filterOnClose:k,filterMultiple:j,filterMode:Z,filterSearch:G,triggerFilter:y,locale:f,getPopupContainer:C,rootClassName:I},$x(D.title,oe))})}return"children"in H&&(H=Object.assign(Object.assign({},H),{children:jI(e,t,H.children,o,f,y,C,z,I)})),H})}const VI=e=>{const t={};return e.forEach(s=>{let{key:o,filteredKeys:f,column:y}=s;const C=o,{filters:w,filterDropdown:I}=y;if(I)t[C]=f||null;else if(Array.isArray(f)){const D=wv(w);t[C]=D.filter(L=>f.includes(String(L)))}else t[C]=null}),t},Tw=(e,t,s)=>t.reduce((f,y)=>{const{column:{onFilter:C,filters:w},filteredKeys:I}=y;return C&&I&&I.length?f.map(D=>Object.assign({},D)).filter(D=>I.some(L=>{const z=wv(w),k=z.findIndex(Z=>String(Z)===String(L)),j=k!==-1?z[k]:L;return D[s]&&(D[s]=Tw(D[s],t,s)),C(j,D)})):f},e),HI=e=>e.flatMap(t=>"children"in t?[t].concat((0,be.Z)(HI(t.children||[]))):[t]);var k5=e=>{const{prefixCls:t,dropdownPrefixCls:s,mergedColumns:o,onFilterChange:f,getPopupContainer:y,locale:C,rootClassName:w}=e,I=(0,Di.ln)("Table"),D=a.useMemo(()=>HI(o||[]),[o]),[L,z]=a.useState(()=>Iw(D,!0)),k=a.useMemo(()=>{const H=Iw(D,!1);if(H.length===0)return H;let X=!0,ne=!0;if(H.forEach(oe=>{let{filteredKeys:ae}=oe;ae!==void 0?X=!1:ne=!1}),X){const oe=(D||[]).map((ae,ie)=>hm(ae,Sv(ie)));return L.filter(ae=>{let{key:ie}=ae;return oe.includes(ie)}).map(ae=>{const ie=D[oe.findIndex(le=>le===ae.key)];return Object.assign(Object.assign({},ae),{column:Object.assign(Object.assign({},ae.column),ie),forceFiltered:ie.filtered})})}return H},[D,L]),j=a.useMemo(()=>VI(k),[k]),Z=H=>{const X=k.filter(ne=>{let{key:oe}=ne;return oe!==H.key});X.push(H),z(X),f(VI(X),X)};return[H=>jI(t,s,H,k,C,Z,y,void 0,w),k,j]},Z5=(e,t,s)=>{const o=a.useRef({});function f(y){var C;if(!o.current||o.current.data!==e||o.current.childrenColumnName!==t||o.current.getRowKey!==s){let I=function(D){D.forEach((L,z)=>{const k=s(L,z);w.set(k,L),L&&typeof L=="object"&&t in L&&I(L[t]||[])})};const w=new Map;I(e),o.current={data:e,childrenColumnName:t,kvMap:w,getRowKey:s}}return(C=o.current.kvMap)===null||C===void 0?void 0:C.get(y)}return[f]},j5=function(e,t){var s={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(s[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(s[o[f]]=e[o[f]]);return s};const UI=10;function V5(e,t){const s={current:e.current,pageSize:e.pageSize};return Object.keys(t&&typeof t=="object"?t:{}).forEach(f=>{const y=e[f];typeof y!="function"&&(s[f]=y)}),s}function H5(e,t,s){const o=s&&typeof s=="object"?s:{},{total:f=0}=o,y=j5(o,["total"]),[C,w]=(0,a.useState)(()=>({current:"defaultCurrent"in y?y.defaultCurrent:1,pageSize:"defaultPageSize"in y?y.defaultPageSize:UI})),I=KS(C,y,{total:f>0?f:e}),D=Math.ceil((f||e)/I.pageSize);I.current>D&&(I.current=D||1);const L=(k,j)=>{w({current:k!=null?k:1,pageSize:j||I.pageSize})},z=(k,j)=>{var Z;s&&((Z=s.onChange)===null||Z===void 0||Z.call(s,k,j)),L(k,j),t(k,j||(I==null?void 0:I.pageSize))};return s===!1?[{},()=>{}]:[Object.assign(Object.assign({},I),{onChange:z}),L]}var U5=H5,W5={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"}}]},name:"caret-down",theme:"outlined"},G5=W5,K5=function(t,s){return a.createElement(Xt.Z,(0,Ge.Z)({},t,{ref:s,icon:G5}))},X5=a.forwardRef(K5),Y5=X5,q5={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M858.9 689L530.5 308.2c-9.4-10.9-27.5-10.9-37 0L165.1 689c-12.2 14.2-1.2 35 18.5 35h656.8c19.7 0 30.7-20.8 18.5-35z"}}]},name:"caret-up",theme:"outlined"},J5=q5,Q5=function(t,s){return a.createElement(Xt.Z,(0,Ge.Z)({},t,{ref:s,icon:J5}))},eL=a.forwardRef(Q5),tL=eL;const Dx="ascend",Mw="descend",Lx=e=>typeof e.sorter=="object"&&typeof e.sorter.multiple=="number"?e.sorter.multiple:!1,WI=e=>typeof e=="function"?e:e&&typeof e=="object"&&e.compare?e.compare:!1,nL=(e,t)=>t?e[e.indexOf(t)+1]:e[0],Pw=(e,t,s)=>{let o=[];const f=(y,C)=>{o.push({column:y,key:hm(y,C),multiplePriority:Lx(y),sortOrder:y.sortOrder})};return(e||[]).forEach((y,C)=>{const w=Sv(C,s);y.children?("sortOrder"in y&&f(y,w),o=[].concat((0,be.Z)(o),(0,be.Z)(Pw(y.children,t,w)))):y.sorter&&("sortOrder"in y?f(y,w):t&&y.defaultSortOrder&&o.push({column:y,key:hm(y,w),multiplePriority:Lx(y),sortOrder:y.defaultSortOrder}))}),o},GI=(e,t,s,o,f,y,C,w)=>(t||[]).map((D,L)=>{const z=Sv(L,w);let k=D;if(k.sorter){const j=k.sortDirections||f,Z=k.showSorterTooltip===void 0?C:k.showSorterTooltip,G=hm(k,z),H=s.find(ge=>{let{key:xe}=ge;return xe===G}),X=H?H.sortOrder:null,ne=nL(j,X);let oe;if(D.sortIcon)oe=D.sortIcon({sortOrder:X});else{const ge=j.includes(Dx)&&a.createElement(tL,{className:q()(`${e}-column-sorter-up`,{active:X===Dx})}),xe=j.includes(Mw)&&a.createElement(Y5,{className:q()(`${e}-column-sorter-down`,{active:X===Mw})});oe=a.createElement("span",{className:q()(`${e}-column-sorter`,{[`${e}-column-sorter-full`]:!!(ge&&xe)})},a.createElement("span",{className:`${e}-column-sorter-inner`,"aria-hidden":"true"},ge,xe))}const{cancelSort:ae,triggerAsc:ie,triggerDesc:le}=y||{};let fe=ae;ne===Mw?fe=le:ne===Dx&&(fe=ie);const me=typeof Z=="object"?Object.assign({title:fe},Z):{title:fe};k=Object.assign(Object.assign({},k),{className:q()(k.className,{[`${e}-column-sort`]:X}),title:ge=>{const xe=`${e}-column-sorters`,Me=a.createElement("span",{className:`${e}-column-title`},$x(D.title,ge)),$e=a.createElement("div",{className:xe},Me,oe);return Z?typeof Z!="boolean"&&(Z==null?void 0:Z.target)==="sorter-icon"?a.createElement("div",{className:`${xe} ${e}-column-sorters-tooltip-target-sorter`},Me,a.createElement(qr.Z,Object.assign({},me),oe)):a.createElement(qr.Z,Object.assign({},me),$e):$e},onHeaderCell:ge=>{var xe;const Me=((xe=D.onHeaderCell)===null||xe===void 0?void 0:xe.call(D,ge))||{},$e=Me.onClick,Oe=Me.onKeyDown;Me.onClick=Ke=>{o({column:D,key:G,sortOrder:ne,multiplePriority:Lx(D)}),$e==null||$e(Ke)},Me.onKeyDown=Ke=>{Ke.keyCode===rt.Z.ENTER&&(o({column:D,key:G,sortOrder:ne,multiplePriority:Lx(D)}),Oe==null||Oe(Ke))};const He=zD(D.title,{}),Ne=He==null?void 0:He.toString();return X&&(Me["aria-sort"]=X==="ascend"?"ascending":"descending"),Me["aria-label"]=Ne||"",Me.className=q()(Me.className,`${e}-column-has-sorters`),Me.tabIndex=0,D.ellipsis&&(Me.title=(He!=null?He:"").toString()),Me}})}return"children"in k&&(k=Object.assign(Object.assign({},k),{children:GI(e,k.children,s,o,f,y,C,z)})),k}),KI=e=>{const{column:t,sortOrder:s}=e;return{column:t,order:s,field:t.dataIndex,columnKey:t.key}},XI=e=>{const t=e.filter(s=>{let{sortOrder:o}=s;return o}).map(KI);if(t.length===0&&e.length){const s=e.length-1;return Object.assign(Object.assign({},KI(e[s])),{column:void 0,order:void 0,field:void 0,columnKey:void 0})}return t.length<=1?t[0]||{}:t},Ow=(e,t,s)=>{const o=t.slice().sort((C,w)=>w.multiplePriority-C.multiplePriority),f=e.slice(),y=o.filter(C=>{let{column:{sorter:w},sortOrder:I}=C;return WI(w)&&I});return y.length?f.sort((C,w)=>{for(let I=0;I<y.length;I+=1){const D=y[I],{column:{sorter:L},sortOrder:z}=D,k=WI(L);if(k&&z){const j=k(C,w,z);if(j!==0)return z===Dx?j:-j}}return 0}).map(C=>{const w=C[s];return w?Object.assign(Object.assign({},C),{[s]:Ow(w,t,s)}):C}):f};var rL=e=>{const{prefixCls:t,mergedColumns:s,sortDirections:o,tableLocale:f,showSorterTooltip:y,onSorterChange:C}=e,[w,I]=a.useState(Pw(s,!0)),D=(G,H)=>{const X=[];return G.forEach((ne,oe)=>{const ae=Sv(oe,H);if(X.push(hm(ne,ae)),Array.isArray(ne.children)){const ie=D(ne.children,ae);X.push.apply(X,(0,be.Z)(ie))}}),X},L=a.useMemo(()=>{let G=!0;const H=Pw(s,!1);if(!H.length){const ae=D(s);return w.filter(ie=>{let{key:le}=ie;return ae.includes(le)})}const X=[];function ne(ae){G?X.push(ae):X.push(Object.assign(Object.assign({},ae),{sortOrder:null}))}let oe=null;return H.forEach(ae=>{oe===null?(ne(ae),ae.sortOrder&&(ae.multiplePriority===!1?G=!1:oe=!0)):(oe&&ae.multiplePriority!==!1||(G=!1),ne(ae))}),X},[s,w]),z=a.useMemo(()=>{var G,H;const X=L.map(ne=>{let{column:oe,sortOrder:ae}=ne;return{column:oe,order:ae}});return{sortColumns:X,sortColumn:(G=X[0])===null||G===void 0?void 0:G.column,sortOrder:(H=X[0])===null||H===void 0?void 0:H.order}},[L]),k=G=>{let H;G.multiplePriority===!1||!L.length||L[0].multiplePriority===!1?H=[G]:H=[].concat((0,be.Z)(L.filter(X=>{let{key:ne}=X;return ne!==G.key})),[G]),I(H),C(XI(H),H)};return[G=>GI(t,G,L,k,o,f,y),L,z,()=>XI(L)]};const YI=(e,t)=>e.map(o=>{const f=Object.assign({},o);return f.title=$x(o.title,t),"children"in f&&(f.children=YI(f.children,t)),f});var iL=e=>[a.useCallback(s=>YI(s,e),[e])],oL=CI((e,t)=>{const{_renderTimes:s}=e,{_renderTimes:o}=t;return s!==o}),aL=EI((e,t)=>{const{_renderTimes:s}=e,{_renderTimes:o}=t;return s!==o}),sL=e=>{const{componentCls:t,lineWidth:s,lineType:o,tableBorderColor:f,tableHeaderBg:y,tablePaddingVertical:C,tablePaddingHorizontal:w,calc:I}=e,D=`${(0,he.bf)(s)} ${o} ${f}`,L=(z,k,j)=>({[`&${t}-${z}`]:{[`> ${t}-container`]:{[`> ${t}-content, > ${t}-body`]:{"\n            > table > tbody > tr > th,\n            > table > tbody > tr > td\n          ":{[`> ${t}-expanded-row-fixed`]:{margin:`${(0,he.bf)(I(k).mul(-1).equal())}
              ${(0,he.bf)(I(I(j).add(s)).mul(-1).equal())}`}}}}}});return{[`${t}-wrapper`]:{[`${t}${t}-bordered`]:Object.assign(Object.assign(Object.assign({[`> ${t}-title`]:{border:D,borderBottom:0},[`> ${t}-container`]:{borderInlineStart:D,borderTop:D,[`
            > ${t}-content,
            > ${t}-header,
            > ${t}-body,
            > ${t}-summary
          `]:{"> table":{"\n                > thead > tr > th,\n                > thead > tr > td,\n                > tbody > tr > th,\n                > tbody > tr > td,\n                > tfoot > tr > th,\n                > tfoot > tr > td\n              ":{borderInlineEnd:D},"> thead":{"> tr:not(:last-child) > th":{borderBottom:D},"> tr > th::before":{backgroundColor:"transparent !important"}},"\n                > thead > tr,\n                > tbody > tr,\n                > tfoot > tr\n              ":{[`> ${t}-cell-fix-right-first::after`]:{borderInlineEnd:D}},"\n                > tbody > tr > th,\n                > tbody > tr > td\n              ":{[`> ${t}-expanded-row-fixed`]:{margin:`${(0,he.bf)(I(C).mul(-1).equal())} ${(0,he.bf)(I(I(w).add(s)).mul(-1).equal())}`,"&::after":{position:"absolute",top:0,insetInlineEnd:s,bottom:0,borderInlineEnd:D,content:'""'}}}}}},[`&${t}-scroll-horizontal`]:{[`> ${t}-container > ${t}-body`]:{"> table > tbody":{[`
                > tr${t}-expanded-row,
                > tr${t}-placeholder
              `]:{"> th, > td":{borderInlineEnd:0}}}}}},L("middle",e.tablePaddingVerticalMiddle,e.tablePaddingHorizontalMiddle)),L("small",e.tablePaddingVerticalSmall,e.tablePaddingHorizontalSmall)),{[`> ${t}-footer`]:{border:D,borderTop:0}}),[`${t}-cell`]:{[`${t}-container:first-child`]:{borderTop:0},"&-scrollbar:not([rowspan])":{boxShadow:`0 ${(0,he.bf)(s)} 0 ${(0,he.bf)(s)} ${y}`}},[`${t}-bordered ${t}-cell-scrollbar`]:{borderInlineEnd:D}}}},lL=e=>{const{componentCls:t}=e;return{[`${t}-wrapper`]:{[`${t}-cell-ellipsis`]:Object.assign(Object.assign({},Qt.vS),{wordBreak:"keep-all",[`
          &${t}-cell-fix-left-last,
          &${t}-cell-fix-right-first
        `]:{overflow:"visible",[`${t}-cell-content`]:{display:"block",overflow:"hidden",textOverflow:"ellipsis"}},[`${t}-column-title`]:{overflow:"hidden",textOverflow:"ellipsis",wordBreak:"keep-all"}})}}},cL=e=>{const{componentCls:t}=e;return{[`${t}-wrapper`]:{[`${t}-tbody > tr${t}-placeholder`]:{textAlign:"center",color:e.colorTextDisabled,"\n          &:hover > th,\n          &:hover > td,\n        ":{background:e.colorBgContainer}}}}},uL=e=>{const{componentCls:t,antCls:s,motionDurationSlow:o,lineWidth:f,paddingXS:y,lineType:C,tableBorderColor:w,tableExpandIconBg:I,tableExpandColumnWidth:D,borderRadius:L,tablePaddingVertical:z,tablePaddingHorizontal:k,tableExpandedRowBg:j,paddingXXS:Z,expandIconMarginTop:G,expandIconSize:H,expandIconHalfInner:X,expandIconScale:ne,calc:oe}=e,ae=`${(0,he.bf)(f)} ${C} ${w}`,ie=oe(Z).sub(f).equal();return{[`${t}-wrapper`]:{[`${t}-expand-icon-col`]:{width:D},[`${t}-row-expand-icon-cell`]:{textAlign:"center",[`${t}-row-expand-icon`]:{display:"inline-flex",float:"none",verticalAlign:"sub"}},[`${t}-row-indent`]:{height:1,float:"left"},[`${t}-row-expand-icon`]:Object.assign(Object.assign({},(0,Qt.Nd)(e)),{position:"relative",float:"left",width:H,height:H,color:"inherit",lineHeight:(0,he.bf)(H),background:I,border:ae,borderRadius:L,transform:`scale(${ne})`,"&:focus, &:hover, &:active":{borderColor:"currentcolor"},"&::before, &::after":{position:"absolute",background:"currentcolor",transition:`transform ${o} ease-out`,content:'""'},"&::before":{top:X,insetInlineEnd:ie,insetInlineStart:ie,height:f},"&::after":{top:ie,bottom:ie,insetInlineStart:X,width:f,transform:"rotate(90deg)"},"&-collapsed::before":{transform:"rotate(-180deg)"},"&-collapsed::after":{transform:"rotate(0deg)"},"&-spaced":{"&::before, &::after":{display:"none",content:"none"},background:"transparent",border:0,visibility:"hidden"}}),[`${t}-row-indent + ${t}-row-expand-icon`]:{marginTop:G,marginInlineEnd:y},[`tr${t}-expanded-row`]:{"&, &:hover":{"> th, > td":{background:j}},[`${s}-descriptions-view`]:{display:"flex",table:{flex:"auto",width:"100%"}}},[`${t}-expanded-row-fixed`]:{position:"relative",margin:`${(0,he.bf)(oe(z).mul(-1).equal())} ${(0,he.bf)(oe(k).mul(-1).equal())}`,padding:`${(0,he.bf)(z)} ${(0,he.bf)(k)}`}}}},dL=e=>{const{componentCls:t,antCls:s,iconCls:o,tableFilterDropdownWidth:f,tableFilterDropdownSearchWidth:y,paddingXXS:C,paddingXS:w,colorText:I,lineWidth:D,lineType:L,tableBorderColor:z,headerIconColor:k,fontSizeSM:j,tablePaddingHorizontal:Z,borderRadius:G,motionDurationSlow:H,colorTextDescription:X,colorPrimary:ne,tableHeaderFilterActiveBg:oe,colorTextDisabled:ae,tableFilterDropdownBg:ie,tableFilterDropdownHeight:le,controlItemBgHover:fe,controlItemBgActive:me,boxShadowSecondary:ge,filterDropdownMenuBg:xe,calc:Me}=e,$e=`${s}-dropdown`,Oe=`${t}-filter-dropdown`,He=`${s}-tree`,Ne=`${(0,he.bf)(D)} ${L} ${z}`;return[{[`${t}-wrapper`]:{[`${t}-filter-column`]:{display:"flex",justifyContent:"space-between"},[`${t}-filter-trigger`]:{position:"relative",display:"flex",alignItems:"center",marginBlock:Me(C).mul(-1).equal(),marginInline:`${(0,he.bf)(C)} ${(0,he.bf)(Me(Z).div(2).mul(-1).equal())}`,padding:`0 ${(0,he.bf)(C)}`,color:k,fontSize:j,borderRadius:G,cursor:"pointer",transition:`all ${H}`,"&:hover":{color:X,background:oe},"&.active":{color:ne}}}},{[`${s}-dropdown`]:{[Oe]:Object.assign(Object.assign({},(0,Qt.Wf)(e)),{minWidth:f,backgroundColor:ie,borderRadius:G,boxShadow:ge,overflow:"hidden",[`${$e}-menu`]:{maxHeight:le,overflowX:"hidden",border:0,boxShadow:"none",borderRadius:"unset",backgroundColor:xe,"&:empty::after":{display:"block",padding:`${(0,he.bf)(w)} 0`,color:ae,fontSize:j,textAlign:"center",content:'"Not Found"'}},[`${Oe}-tree`]:{paddingBlock:`${(0,he.bf)(w)} 0`,paddingInline:w,[He]:{padding:0},[`${He}-treenode ${He}-node-content-wrapper:hover`]:{backgroundColor:fe},[`${He}-treenode-checkbox-checked ${He}-node-content-wrapper`]:{"&, &:hover":{backgroundColor:me}}},[`${Oe}-search`]:{padding:w,borderBottom:Ne,"&-input":{input:{minWidth:y},[o]:{color:ae}}},[`${Oe}-checkall`]:{width:"100%",marginBottom:C,marginInlineStart:C},[`${Oe}-btns`]:{display:"flex",justifyContent:"space-between",padding:`${(0,he.bf)(Me(w).sub(D).equal())} ${(0,he.bf)(w)}`,overflow:"hidden",borderTop:Ne}})}},{[`${s}-dropdown ${Oe}, ${Oe}-submenu`]:{[`${s}-checkbox-wrapper + span`]:{paddingInlineStart:w,color:I},"> ul":{maxHeight:"calc(100vh - 130px)",overflowX:"hidden",overflowY:"auto"}}}]},fL=e=>{const{componentCls:t,lineWidth:s,colorSplit:o,motionDurationSlow:f,zIndexTableFixed:y,tableBg:C,zIndexTableSticky:w,calc:I}=e,D=o;return{[`${t}-wrapper`]:{[`
        ${t}-cell-fix-left,
        ${t}-cell-fix-right
      `]:{position:"sticky !important",zIndex:y,background:C},[`
        ${t}-cell-fix-left-first::after,
        ${t}-cell-fix-left-last::after
      `]:{position:"absolute",top:0,right:{_skip_check_:!0,value:0},bottom:I(s).mul(-1).equal(),width:30,transform:"translateX(100%)",transition:`box-shadow ${f}`,content:'""',pointerEvents:"none"},[`${t}-cell-fix-left-all::after`]:{display:"none"},[`
        ${t}-cell-fix-right-first::after,
        ${t}-cell-fix-right-last::after
      `]:{position:"absolute",top:0,bottom:I(s).mul(-1).equal(),left:{_skip_check_:!0,value:0},width:30,transform:"translateX(-100%)",transition:`box-shadow ${f}`,content:'""',pointerEvents:"none"},[`${t}-container`]:{position:"relative","&::before, &::after":{position:"absolute",top:0,bottom:0,zIndex:I(w).add(1).equal({unit:!1}),width:30,transition:`box-shadow ${f}`,content:'""',pointerEvents:"none"},"&::before":{insetInlineStart:0},"&::after":{insetInlineEnd:0}},[`${t}-ping-left`]:{[`&:not(${t}-has-fix-left) ${t}-container::before`]:{boxShadow:`inset 10px 0 8px -8px ${D}`},[`
          ${t}-cell-fix-left-first::after,
          ${t}-cell-fix-left-last::after
        `]:{boxShadow:`inset 10px 0 8px -8px ${D}`},[`${t}-cell-fix-left-last::before`]:{backgroundColor:"transparent !important"}},[`${t}-ping-right`]:{[`&:not(${t}-has-fix-right) ${t}-container::after`]:{boxShadow:`inset -10px 0 8px -8px ${D}`},[`
          ${t}-cell-fix-right-first::after,
          ${t}-cell-fix-right-last::after
        `]:{boxShadow:`inset -10px 0 8px -8px ${D}`}},[`${t}-fixed-column-gapped`]:{[`
        ${t}-cell-fix-left-first::after,
        ${t}-cell-fix-left-last::after,
        ${t}-cell-fix-right-first::after,
        ${t}-cell-fix-right-last::after
      `]:{boxShadow:"none"}}}}},hL=e=>{const{componentCls:t,antCls:s,margin:o}=e;return{[`${t}-wrapper`]:{[`${t}-pagination${s}-pagination`]:{margin:`${(0,he.bf)(o)} 0`},[`${t}-pagination`]:{display:"flex",flexWrap:"wrap",rowGap:e.paddingXS,"> *":{flex:"none"},"&-left":{justifyContent:"flex-start"},"&-center":{justifyContent:"center"},"&-right":{justifyContent:"flex-end"}}}}},pL=e=>{const{componentCls:t,tableRadius:s}=e;return{[`${t}-wrapper`]:{[t]:{[`${t}-title, ${t}-header`]:{borderRadius:`${(0,he.bf)(s)} ${(0,he.bf)(s)} 0 0`},[`${t}-title + ${t}-container`]:{borderStartStartRadius:0,borderStartEndRadius:0,[`${t}-header, table`]:{borderRadius:0},"table > thead > tr:first-child":{"th:first-child, th:last-child, td:first-child, td:last-child":{borderRadius:0}}},"&-container":{borderStartStartRadius:s,borderStartEndRadius:s,"table > thead > tr:first-child":{"> *:first-child":{borderStartStartRadius:s},"> *:last-child":{borderStartEndRadius:s}}},"&-footer":{borderRadius:`0 0 ${(0,he.bf)(s)} ${(0,he.bf)(s)}`}}}}},mL=e=>{const{componentCls:t}=e;return{[`${t}-wrapper-rtl`]:{direction:"rtl",table:{direction:"rtl"},[`${t}-pagination-left`]:{justifyContent:"flex-end"},[`${t}-pagination-right`]:{justifyContent:"flex-start"},[`${t}-row-expand-icon`]:{float:"right","&::after":{transform:"rotate(-90deg)"},"&-collapsed::before":{transform:"rotate(180deg)"},"&-collapsed::after":{transform:"rotate(0deg)"}},[`${t}-container`]:{"&::before":{insetInlineStart:"unset",insetInlineEnd:0},"&::after":{insetInlineStart:0,insetInlineEnd:"unset"},[`${t}-row-indent`]:{float:"right"}}}}},gL=e=>{const{componentCls:t,antCls:s,iconCls:o,fontSizeIcon:f,padding:y,paddingXS:C,headerIconColor:w,headerIconHoverColor:I,tableSelectionColumnWidth:D,tableSelectedRowBg:L,tableSelectedRowHoverBg:z,tableRowHoverBg:k,tablePaddingHorizontal:j,calc:Z}=e;return{[`${t}-wrapper`]:{[`${t}-selection-col`]:{width:D,[`&${t}-selection-col-with-dropdown`]:{width:Z(D).add(f).add(Z(y).div(4)).equal()}},[`${t}-bordered ${t}-selection-col`]:{width:Z(D).add(Z(C).mul(2)).equal(),[`&${t}-selection-col-with-dropdown`]:{width:Z(D).add(f).add(Z(y).div(4)).add(Z(C).mul(2)).equal()}},[`
        table tr th${t}-selection-column,
        table tr td${t}-selection-column,
        ${t}-selection-column
      `]:{paddingInlineEnd:e.paddingXS,paddingInlineStart:e.paddingXS,textAlign:"center",[`${s}-radio-wrapper`]:{marginInlineEnd:0}},[`table tr th${t}-selection-column${t}-cell-fix-left`]:{zIndex:Z(e.zIndexTableFixed).add(1).equal({unit:!1})},[`table tr th${t}-selection-column::after`]:{backgroundColor:"transparent !important"},[`${t}-selection`]:{position:"relative",display:"inline-flex",flexDirection:"column"},[`${t}-selection-extra`]:{position:"absolute",top:0,zIndex:1,cursor:"pointer",transition:`all ${e.motionDurationSlow}`,marginInlineStart:"100%",paddingInlineStart:(0,he.bf)(Z(j).div(4).equal()),[o]:{color:w,fontSize:f,verticalAlign:"baseline","&:hover":{color:I}}},[`${t}-tbody`]:{[`${t}-row`]:{[`&${t}-row-selected`]:{[`> ${t}-cell`]:{background:L,"&-row-hover":{background:z}}},[`> ${t}-cell-row-hover`]:{background:k}}}}}},vL=e=>{const{componentCls:t,tableExpandColumnWidth:s,calc:o}=e,f=(y,C,w,I)=>({[`${t}${t}-${y}`]:{fontSize:I,[`
        ${t}-title,
        ${t}-footer,
        ${t}-cell,
        ${t}-thead > tr > th,
        ${t}-tbody > tr > th,
        ${t}-tbody > tr > td,
        tfoot > tr > th,
        tfoot > tr > td
      `]:{padding:`${(0,he.bf)(C)} ${(0,he.bf)(w)}`},[`${t}-filter-trigger`]:{marginInlineEnd:(0,he.bf)(o(w).div(2).mul(-1).equal())},[`${t}-expanded-row-fixed`]:{margin:`${(0,he.bf)(o(C).mul(-1).equal())} ${(0,he.bf)(o(w).mul(-1).equal())}`},[`${t}-tbody`]:{[`${t}-wrapper:only-child ${t}`]:{marginBlock:(0,he.bf)(o(C).mul(-1).equal()),marginInline:`${(0,he.bf)(o(s).sub(w).equal())} ${(0,he.bf)(o(w).mul(-1).equal())}`}},[`${t}-selection-extra`]:{paddingInlineStart:(0,he.bf)(o(w).div(4).equal())}}});return{[`${t}-wrapper`]:Object.assign(Object.assign({},f("middle",e.tablePaddingVerticalMiddle,e.tablePaddingHorizontalMiddle,e.tableFontSizeMiddle)),f("small",e.tablePaddingVerticalSmall,e.tablePaddingHorizontalSmall,e.tableFontSizeSmall))}},yL=e=>{const{componentCls:t,marginXXS:s,fontSizeIcon:o,headerIconColor:f,headerIconHoverColor:y}=e;return{[`${t}-wrapper`]:{[`${t}-thead th${t}-column-has-sorters`]:{outline:"none",cursor:"pointer",transition:`all ${e.motionDurationSlow}, left 0s`,"&:hover":{background:e.tableHeaderSortHoverBg,"&::before":{backgroundColor:"transparent !important"}},"&:focus-visible":{color:e.colorPrimary},[`
          &${t}-cell-fix-left:hover,
          &${t}-cell-fix-right:hover
        `]:{background:e.tableFixedHeaderSortActiveBg}},[`${t}-thead th${t}-column-sort`]:{background:e.tableHeaderSortBg,"&::before":{backgroundColor:"transparent !important"}},[`td${t}-column-sort`]:{background:e.tableBodySortBg},[`${t}-column-title`]:{position:"relative",zIndex:1,flex:1,minWidth:0},[`${t}-column-sorters`]:{display:"flex",flex:"auto",alignItems:"center",justifyContent:"space-between","&::after":{position:"absolute",inset:0,width:"100%",height:"100%",content:'""'}},[`${t}-column-sorters-tooltip-target-sorter`]:{"&::after":{content:"none"}},[`${t}-column-sorter`]:{marginInlineStart:s,color:f,fontSize:0,transition:`color ${e.motionDurationSlow}`,"&-inner":{display:"inline-flex",flexDirection:"column",alignItems:"center"},"&-up, &-down":{fontSize:o,"&.active":{color:e.colorPrimary}},[`${t}-column-sorter-up + ${t}-column-sorter-down`]:{marginTop:"-0.3em"}},[`${t}-column-sorters:hover ${t}-column-sorter`]:{color:y}}}},_L=e=>{const{componentCls:t,opacityLoading:s,tableScrollThumbBg:o,tableScrollThumbBgHover:f,tableScrollThumbSize:y,tableScrollBg:C,zIndexTableSticky:w,stickyScrollBarBorderRadius:I,lineWidth:D,lineType:L,tableBorderColor:z}=e,k=`${(0,he.bf)(D)} ${L} ${z}`;return{[`${t}-wrapper`]:{[`${t}-sticky`]:{"&-holder":{position:"sticky",zIndex:w,background:e.colorBgContainer},"&-scroll":{position:"sticky",bottom:0,height:`${(0,he.bf)(y)} !important`,zIndex:w,display:"flex",alignItems:"center",background:C,borderTop:k,opacity:s,"&:hover":{transformOrigin:"center bottom"},"&-bar":{height:y,backgroundColor:o,borderRadius:I,transition:`all ${e.motionDurationSlow}, transform none`,position:"absolute",bottom:0,"&:hover, &-active":{backgroundColor:f}}}}}}},qI=e=>{const{componentCls:t,lineWidth:s,tableBorderColor:o,calc:f}=e,y=`${(0,he.bf)(s)} ${e.lineType} ${o}`;return{[`${t}-wrapper`]:{[`${t}-summary`]:{position:"relative",zIndex:e.zIndexTableFixed,background:e.tableBg,"> tr":{"> th, > td":{borderBottom:y}}},[`div${t}-summary`]:{boxShadow:`0 ${(0,he.bf)(f(s).mul(-1).equal())} 0 ${o}`}}}},bL=e=>{const{componentCls:t,motionDurationMid:s,lineWidth:o,lineType:f,tableBorderColor:y,calc:C}=e,w=`${(0,he.bf)(o)} ${f} ${y}`,I=`${t}-expanded-row-cell`;return{[`${t}-wrapper`]:{[`${t}-tbody-virtual`]:{[`${t}-tbody-virtual-holder-inner`]:{[`
            & > ${t}-row, 
            & > div:not(${t}-row) > ${t}-row
          `]:{display:"flex",boxSizing:"border-box",width:"100%"}},[`${t}-cell`]:{borderBottom:w,transition:`background ${s}`},[`${t}-expanded-row`]:{[`${I}${I}-fixed`]:{position:"sticky",insetInlineStart:0,overflow:"hidden",width:`calc(var(--virtual-width) - ${(0,he.bf)(o)})`,borderInlineEnd:"none"}}},[`${t}-bordered`]:{[`${t}-tbody-virtual`]:{"&:after":{content:'""',insetInline:0,bottom:0,borderBottom:w,position:"absolute"},[`${t}-cell`]:{borderInlineEnd:w,[`&${t}-cell-fix-right-first:before`]:{content:'""',position:"absolute",insetBlock:0,insetInlineStart:C(o).mul(-1).equal(),borderInlineStart:w}}},[`&${t}-virtual`]:{[`${t}-placeholder ${t}-cell`]:{borderInlineEnd:w,borderBottom:w}}}}}};const xL=e=>{const{componentCls:t,fontWeightStrong:s,tablePaddingVertical:o,tablePaddingHorizontal:f,tableExpandColumnWidth:y,lineWidth:C,lineType:w,tableBorderColor:I,tableFontSize:D,tableBg:L,tableRadius:z,tableHeaderTextColor:k,motionDurationMid:j,tableHeaderBg:Z,tableHeaderCellSplitColor:G,tableFooterTextColor:H,tableFooterBg:X,calc:ne}=e,oe=`${(0,he.bf)(C)} ${w} ${I}`;return{[`${t}-wrapper`]:Object.assign(Object.assign({clear:"both",maxWidth:"100%"},(0,Qt.dF)()),{[t]:Object.assign(Object.assign({},(0,Qt.Wf)(e)),{fontSize:D,background:L,borderRadius:`${(0,he.bf)(z)} ${(0,he.bf)(z)} 0 0`,scrollbarColor:`${e.tableScrollThumbBg} ${e.tableScrollBg}`}),table:{width:"100%",textAlign:"start",borderRadius:`${(0,he.bf)(z)} ${(0,he.bf)(z)} 0 0`,borderCollapse:"separate",borderSpacing:0},[`
          ${t}-cell,
          ${t}-thead > tr > th,
          ${t}-tbody > tr > th,
          ${t}-tbody > tr > td,
          tfoot > tr > th,
          tfoot > tr > td
        `]:{position:"relative",padding:`${(0,he.bf)(o)} ${(0,he.bf)(f)}`,overflowWrap:"break-word"},[`${t}-title`]:{padding:`${(0,he.bf)(o)} ${(0,he.bf)(f)}`},[`${t}-thead`]:{"\n          > tr > th,\n          > tr > td\n        ":{position:"relative",color:k,fontWeight:s,textAlign:"start",background:Z,borderBottom:oe,transition:`background ${j} ease`,"&[colspan]:not([colspan='1'])":{textAlign:"center"},[`&:not(:last-child):not(${t}-selection-column):not(${t}-row-expand-icon-cell):not([colspan])::before`]:{position:"absolute",top:"50%",insetInlineEnd:0,width:1,height:"1.6em",backgroundColor:G,transform:"translateY(-50%)",transition:`background-color ${j}`,content:'""'}},"> tr:not(:last-child) > th[colspan]":{borderBottom:0}},[`${t}-tbody`]:{"> tr":{"> th, > td":{transition:`background ${j}, border-color ${j}`,borderBottom:oe,[`
              > ${t}-wrapper:only-child,
              > ${t}-expanded-row-fixed > ${t}-wrapper:only-child
            `]:{[t]:{marginBlock:(0,he.bf)(ne(o).mul(-1).equal()),marginInline:`${(0,he.bf)(ne(y).sub(f).equal())}
                ${(0,he.bf)(ne(f).mul(-1).equal())}`,[`${t}-tbody > tr:last-child > td`]:{borderBottomWidth:0,"&:first-child, &:last-child":{borderRadius:0}}}}},"> th":{position:"relative",color:k,fontWeight:s,textAlign:"start",background:Z,borderBottom:oe,transition:`background ${j} ease`}}},[`${t}-footer`]:{padding:`${(0,he.bf)(o)} ${(0,he.bf)(f)}`,color:H,background:X}})}},CL=e=>{const{colorFillAlter:t,colorBgContainer:s,colorTextHeading:o,colorFillSecondary:f,colorFillContent:y,controlItemBgActive:C,controlItemBgActiveHover:w,padding:I,paddingSM:D,paddingXS:L,colorBorderSecondary:z,borderRadiusLG:k,controlHeight:j,colorTextPlaceholder:Z,fontSize:G,fontSizeSM:H,lineHeight:X,lineWidth:ne,colorIcon:oe,colorIconHover:ae,opacityLoading:ie,controlInteractiveSize:le}=e,fe=new mo.t(f).onBackground(s).toHexString(),me=new mo.t(y).onBackground(s).toHexString(),ge=new mo.t(t).onBackground(s).toHexString(),xe=new mo.t(oe),Me=new mo.t(ae),$e=le/2-ne,Oe=$e*2+ne*3;return{headerBg:ge,headerColor:o,headerSortActiveBg:fe,headerSortHoverBg:me,bodySortBg:ge,rowHoverBg:ge,rowSelectedBg:C,rowSelectedHoverBg:w,rowExpandedBg:t,cellPaddingBlock:I,cellPaddingInline:I,cellPaddingBlockMD:D,cellPaddingInlineMD:L,cellPaddingBlockSM:L,cellPaddingInlineSM:L,borderColor:z,headerBorderRadius:k,footerBg:ge,footerColor:o,cellFontSize:G,cellFontSizeMD:G,cellFontSizeSM:G,headerSplitColor:z,fixedHeaderSortActiveBg:fe,headerFilterHoverBg:y,filterDropdownMenuBg:s,filterDropdownBg:s,expandIconBg:s,selectionColumnWidth:j,stickyScrollBarBg:Z,stickyScrollBarBorderRadius:100,expandIconMarginTop:(G*X-ne*3)/2-Math.ceil((H*1.4-ne*3)/2),headerIconColor:xe.clone().setA(xe.a*ie).toRgbString(),headerIconHoverColor:Me.clone().setA(Me.a*ie).toRgbString(),expandIconHalfInner:$e,expandIconSize:Oe,expandIconScale:le/Oe}},JI=2;var SL=(0,te.I$)("Table",e=>{const{colorTextHeading:t,colorSplit:s,colorBgContainer:o,controlInteractiveSize:f,headerBg:y,headerColor:C,headerSortActiveBg:w,headerSortHoverBg:I,bodySortBg:D,rowHoverBg:L,rowSelectedBg:z,rowSelectedHoverBg:k,rowExpandedBg:j,cellPaddingBlock:Z,cellPaddingInline:G,cellPaddingBlockMD:H,cellPaddingInlineMD:X,cellPaddingBlockSM:ne,cellPaddingInlineSM:oe,borderColor:ae,footerBg:ie,footerColor:le,headerBorderRadius:fe,cellFontSize:me,cellFontSizeMD:ge,cellFontSizeSM:xe,headerSplitColor:Me,fixedHeaderSortActiveBg:$e,headerFilterHoverBg:Oe,filterDropdownBg:He,expandIconBg:Ne,selectionColumnWidth:Ke,stickyScrollBarBg:je,calc:lt}=e,ht=(0,ci.IX)(e,{tableFontSize:me,tableBg:o,tableRadius:fe,tablePaddingVertical:Z,tablePaddingHorizontal:G,tablePaddingVerticalMiddle:H,tablePaddingHorizontalMiddle:X,tablePaddingVerticalSmall:ne,tablePaddingHorizontalSmall:oe,tableBorderColor:ae,tableHeaderTextColor:C,tableHeaderBg:y,tableFooterTextColor:le,tableFooterBg:ie,tableHeaderCellSplitColor:Me,tableHeaderSortBg:w,tableHeaderSortHoverBg:I,tableBodySortBg:D,tableFixedHeaderSortActiveBg:$e,tableHeaderFilterActiveBg:Oe,tableFilterDropdownBg:He,tableRowHoverBg:L,tableSelectedRowBg:z,tableSelectedRowHoverBg:k,zIndexTableFixed:JI,zIndexTableSticky:lt(JI).add(1).equal({unit:!1}),tableFontSizeMiddle:ge,tableFontSizeSmall:xe,tableSelectionColumnWidth:Ke,tableExpandIconBg:Ne,tableExpandColumnWidth:lt(f).add(lt(e.padding).mul(2)).equal(),tableExpandedRowBg:j,tableFilterDropdownWidth:120,tableFilterDropdownHeight:264,tableFilterDropdownSearchWidth:140,tableScrollThumbSize:8,tableScrollThumbBg:je,tableScrollThumbBgHover:t,tableScrollBg:s});return[xL(ht),hL(ht),qI(ht),yL(ht),dL(ht),sL(ht),pL(ht),uL(ht),qI(ht),cL(ht),gL(ht),fL(ht),_L(ht),lL(ht),vL(ht),mL(ht),bL(ht)]},CL,{unitless:{expandIconScale:!0}});const wL=[],EL=(e,t)=>{var s,o;const{prefixCls:f,className:y,rootClassName:C,style:w,size:I,bordered:D,dropdownPrefixCls:L,dataSource:z,pagination:k,rowSelection:j,rowKey:Z="key",rowClassName:G,columns:H,children:X,childrenColumnName:ne,onChange:oe,getPopupContainer:ae,loading:ie,expandIcon:le,expandable:fe,expandedRowRender:me,expandIconColumnIndex:ge,indentSize:xe,scroll:Me,sortDirections:$e,locale:Oe,showSorterTooltip:He={target:"full-header"},virtual:Ne}=e,Ke=(0,Di.ln)("Table"),je=a.useMemo(()=>H||hw(X),[H,X]),lt=a.useMemo(()=>je.some(pa=>pa.responsive),[je]),ht=(0,Gu.Z)(lt),It=a.useMemo(()=>{const pa=new Set(Object.keys(ht).filter(Jo=>ht[Jo]));return je.filter(Jo=>!Jo.responsive||Jo.responsive.some(Qo=>pa.has(Qo)))},[je,ht]),Tt=(0,$a.Z)(e,["className","style","columns"]),{locale:wt=du.Z,direction:_t,table:At,renderEmpty:Bt,getPrefixCls:Dt,getPopupContainer:Gt}=a.useContext(ye.E_),Pt=(0,hc.Z)(I),Pn=Object.assign(Object.assign({},wt.Table),Oe),Kn=z||wL,_n=Dt("table",f),Fn=Dt("dropdown",L),[,on]=(0,Qn.ZP)(),Zt=(0,Wn.Z)(_n),[Vn,Ln,kr]=SL(_n,Zt),Sr=Object.assign(Object.assign({childrenColumnName:ne,expandIconColumnIndex:ge},fe),{expandIcon:(s=fe==null?void 0:fe.expandIcon)!==null&&s!==void 0?s:(o=At==null?void 0:At.expandable)===null||o===void 0?void 0:o.expandIcon}),{childrenColumnName:dr="children"}=Sr,cr=a.useMemo(()=>Kn.some(pa=>pa==null?void 0:pa[dr])?"nest":me||fe!=null&&fe.expandedRowRender?"row":null,[Kn]),Zn={body:a.useRef(null)},ur=LD(_n),ti=a.useRef(null),Ei=a.useRef(null);$D(t,()=>Object.assign(Object.assign({},Ei.current),{nativeElement:ti.current}));const ki=a.useMemo(()=>typeof Z=="function"?Z:pa=>pa==null?void 0:pa[Z],[Z]),[qi]=Z5(Kn,dr,ki),Ho={},Li=function(pa,Jo){let Qo=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;var Wo,cs,Ns,Za;const Ea=Object.assign(Object.assign({},Ho),pa);Qo&&((Wo=Ho.resetPagination)===null||Wo===void 0||Wo.call(Ho),!((cs=Ea.pagination)===null||cs===void 0)&&cs.current&&(Ea.pagination.current=1),k&&((Ns=k.onChange)===null||Ns===void 0||Ns.call(k,1,(Za=Ea.pagination)===null||Za===void 0?void 0:Za.pageSize))),Me&&Me.scrollToFirstRowOnChange!==!1&&Zn.body.current&&ii(0,{getContainer:()=>Zn.body.current}),oe==null||oe(Ea.pagination,Ea.filters,Ea.sorter,{currentDataSource:Tw(Ow(Kn,Ea.sorterStates,dr),Ea.filterStates,dr),action:Jo})},bi=(pa,Jo)=>{Li({sorter:pa,sorterStates:Jo},"sort",!1)},[$i,go,Gi,ko]=rL({prefixCls:_n,mergedColumns:It,onSorterChange:bi,sortDirections:$e||["ascend","descend"],tableLocale:Pn,showSorterTooltip:He}),Er=a.useMemo(()=>Ow(Kn,go,dr),[Kn,go]);Ho.sorter=ko(),Ho.sorterStates=go;const Mr=(pa,Jo)=>{Li({filters:pa,filterStates:Jo},"filter",!0)},[Zr,tr,yi]=k5({prefixCls:_n,locale:Pn,dropdownPrefixCls:Fn,mergedColumns:It,onFilterChange:Mr,getPopupContainer:ae||Gt,rootClassName:q()(C,Zt)}),Ui=Tw(Er,tr,dr);Ho.filters=yi,Ho.filterStates=tr;const xo=a.useMemo(()=>{const pa={};return Object.keys(yi).forEach(Jo=>{yi[Jo]!==null&&(pa[Jo]=yi[Jo])}),Object.assign(Object.assign({},Gi),{filters:pa})},[Gi,yi]),[ra]=iL(xo),Aa=(pa,Jo)=>{Li({pagination:Object.assign(Object.assign({},Ho.pagination),{current:pa,pageSize:Jo})},"paginate")},[oa,Ss]=U5(Ui.length,Aa,k);Ho.pagination=k===!1?{}:V5(oa,k),Ho.resetPagination=Ss;const Va=a.useMemo(()=>{if(k===!1||!oa.pageSize)return Ui;const{current:pa=1,total:Jo,pageSize:Qo=UI}=oa;return Ui.length<Jo?Ui.length>Qo?Ui.slice((pa-1)*Qo,pa*Qo):Ui:Ui.slice((pa-1)*Qo,pa*Qo)},[!!k,Ui,oa==null?void 0:oa.current,oa==null?void 0:oa.pageSize,oa==null?void 0:oa.total]),[Ga,_a]=OD({prefixCls:_n,data:Ui,pageData:Va,getRowKey:ki,getRecordByKey:qi,expandType:cr,childrenColumnName:dr,locale:Pn,getPopupContainer:ae||Gt},j),ns=(pa,Jo,Qo)=>{let Wo;return typeof G=="function"?Wo=q()(G(pa,Jo,Qo)):Wo=q()(G),q()({[`${_n}-row-selected`]:_a.has(ki(pa,Jo))},Wo)};Sr.__PARENT_RENDER_ICON__=Sr.expandIcon,Sr.expandIcon=Sr.expandIcon||le||DD(Pn),cr==="nest"&&Sr.expandIconColumnIndex===void 0?Sr.expandIconColumnIndex=j?1:0:Sr.expandIconColumnIndex>0&&j&&(Sr.expandIconColumnIndex-=1),typeof Sr.indentSize!="number"&&(Sr.indentSize=typeof xe=="number"?xe:15);const zs=a.useCallback(pa=>ra(Ga(Zr($i(pa)))),[$i,Zr,Ga]);let Do,na;if(k!==!1&&(oa!=null&&oa.total)){let pa;oa.size?pa=oa.size:pa=Pt==="small"||Pt==="middle"?"small":void 0;const Jo=cs=>a.createElement(yx,Object.assign({},oa,{className:q()(`${_n}-pagination ${_n}-pagination-${cs}`,oa.className),size:pa})),Qo=_t==="rtl"?"left":"right",{position:Wo}=oa;if(Wo!==null&&Array.isArray(Wo)){const cs=Wo.find(Ea=>Ea.includes("top")),Ns=Wo.find(Ea=>Ea.includes("bottom")),Za=Wo.every(Ea=>`${Ea}`=="none");!cs&&!Ns&&!Za&&(na=Jo(Qo)),cs&&(Do=Jo(cs.toLowerCase().replace("top",""))),Ns&&(na=Jo(Ns.toLowerCase().replace("bottom","")))}else na=Jo(Qo)}let Ra;typeof ie=="boolean"?Ra={spinning:ie}:typeof ie=="object"&&(Ra=Object.assign({spinning:!0},ie));const Ka=q()(kr,Zt,`${_n}-wrapper`,At==null?void 0:At.className,{[`${_n}-wrapper-rtl`]:_t==="rtl"},y,C,Ln),ls=Object.assign(Object.assign({},At==null?void 0:At.style),w),ll=typeof(Oe==null?void 0:Oe.emptyText)!="undefined"?Oe.emptyText:(Bt==null?void 0:Bt("Table"))||a.createElement(Qf.Z,{componentName:"Table"}),Pl=Ne?aL:oL,bl={},Zl=a.useMemo(()=>{const{fontSize:pa,lineHeight:Jo,lineWidth:Qo,padding:Wo,paddingXS:cs,paddingSM:Ns}=on,Za=Math.floor(pa*Jo);switch(Pt){case"middle":return Ns*2+Za+Qo;case"small":return cs*2+Za+Qo;default:return Wo*2+Za+Qo}},[on,Pt]);return Ne&&(bl.listItemHeight=Zl),Vn(a.createElement("div",{ref:ti,className:Ka,style:ls},a.createElement(yv,Object.assign({spinning:!1},Ra),Do,a.createElement(Pl,Object.assign({},bl,Tt,{ref:Ei,columns:It,direction:_t,expandable:Sr,prefixCls:_n,className:q()({[`${_n}-middle`]:Pt==="middle",[`${_n}-small`]:Pt==="small",[`${_n}-bordered`]:D,[`${_n}-empty`]:Kn.length===0},kr,Zt,Ln),data:Va,rowKey:ki,rowClassName:ns,emptyText:ll,internalHooks:L_,internalRefs:Zn,transformColumns:zs,getContainerWidth:ur})),na)))};var IL=a.forwardRef(EL);const TL=(e,t)=>{const s=a.useRef(0);return s.current+=1,a.createElement(IL,Object.assign({},e,{ref:t,_renderTimes:s.current}))},Xh=a.forwardRef(TL);Xh.SELECTION_COLUMN=fm,Xh.EXPAND_COLUMN=Kh,Xh.SELECTION_ALL=yw,Xh.SELECTION_INVERT=_w,Xh.SELECTION_NONE=bw,Xh.Column=MD,Xh.ColumnGroup=PD,Xh.Summary=rI;var ML=Xh,PL=ML;const OL=e=>{const{paddingXXS:t,lineWidth:s,tagPaddingHorizontal:o,componentCls:f,calc:y}=e,C=y(o).sub(s).equal(),w=y(t).sub(s).equal();return{[f]:Object.assign(Object.assign({},(0,Qt.Wf)(e)),{display:"inline-block",height:"auto",marginInlineEnd:e.marginXS,paddingInline:C,fontSize:e.tagFontSize,lineHeight:e.tagLineHeight,whiteSpace:"nowrap",background:e.defaultBg,border:`${(0,he.bf)(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,borderRadius:e.borderRadiusSM,opacity:1,transition:`all ${e.motionDurationMid}`,textAlign:"start",position:"relative",[`&${f}-rtl`]:{direction:"rtl"},"&, a, a:hover":{color:e.defaultColor},[`${f}-close-icon`]:{marginInlineStart:w,fontSize:e.tagIconSize,color:e.colorTextDescription,cursor:"pointer",transition:`all ${e.motionDurationMid}`,"&:hover":{color:e.colorTextHeading}},[`&${f}-has-color`]:{borderColor:"transparent",[`&, a, a:hover, ${e.iconCls}-close, ${e.iconCls}-close:hover`]:{color:e.colorTextLightSolid}},"&-checkable":{backgroundColor:"transparent",borderColor:"transparent",cursor:"pointer",[`&:not(${f}-checkable-checked):hover`]:{color:e.colorPrimary,backgroundColor:e.colorFillSecondary},"&:active, &-checked":{color:e.colorTextLightSolid},"&-checked":{backgroundColor:e.colorPrimary,"&:hover":{backgroundColor:e.colorPrimaryHover}},"&:active":{backgroundColor:e.colorPrimaryActive}},"&-hidden":{display:"none"},[`> ${e.iconCls} + span, > span + ${e.iconCls}`]:{marginInlineStart:C}}),[`${f}-borderless`]:{borderColor:"transparent",background:e.tagBorderlessBg}}},Rw=e=>{const{lineWidth:t,fontSizeIcon:s,calc:o}=e,f=e.fontSizeSM;return(0,ci.IX)(e,{tagFontSize:f,tagLineHeight:(0,he.bf)(o(e.lineHeightSM).mul(f).equal()),tagIconSize:o(s).sub(o(t).mul(2)).equal(),tagPaddingHorizontal:8,tagBorderlessBg:e.defaultBg})},$w=e=>({defaultBg:new mo.t(e.colorFillQuaternary).onBackground(e.colorBgContainer).toHexString(),defaultColor:e.colorText});var QI=(0,te.I$)("Tag",e=>{const t=Rw(e);return OL(t)},$w),RL=function(e,t){var s={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(s[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(s[o[f]]=e[o[f]]);return s},$L=a.forwardRef((e,t)=>{const{prefixCls:s,style:o,className:f,checked:y,onChange:C,onClick:w}=e,I=RL(e,["prefixCls","style","className","checked","onChange","onClick"]),{getPrefixCls:D,tag:L}=a.useContext(ye.E_),z=X=>{C==null||C(!y),w==null||w(X)},k=D("tag",s),[j,Z,G]=QI(k),H=q()(k,`${k}-checkable`,{[`${k}-checkable-checked`]:y},L==null?void 0:L.className,f,Z,G);return j(a.createElement("span",Object.assign({},I,{ref:t,style:Object.assign(Object.assign({},o),L==null?void 0:L.style),className:H,onClick:z})))});const AL=e=>(0,mp.Z)(e,(t,s)=>{let{textColor:o,lightBorderColor:f,lightColor:y,darkColor:C}=s;return{[`${e.componentCls}${e.componentCls}-${t}`]:{color:o,background:y,borderColor:f,"&-inverse":{color:e.colorTextLightSolid,background:C,borderColor:C},[`&${e.componentCls}-borderless`]:{borderColor:"transparent"}}}});var DL=(0,te.bk)(["Tag","preset"],e=>{const t=Rw(e);return AL(t)},$w);function LL(e){return typeof e!="string"?e:e.charAt(0).toUpperCase()+e.slice(1)}const zx=(e,t,s)=>{const o=LL(s);return{[`${e.componentCls}${e.componentCls}-${t}`]:{color:e[`color${s}`],background:e[`color${o}Bg`],borderColor:e[`color${o}Border`],[`&${e.componentCls}-borderless`]:{borderColor:"transparent"}}}};var zL=(0,te.bk)(["Tag","status"],e=>{const t=Rw(e);return[zx(t,"success","Success"),zx(t,"processing","Info"),zx(t,"error","Error"),zx(t,"warning","Warning")]},$w),NL=function(e,t){var s={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(s[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(s[o[f]]=e[o[f]]);return s};const eT=a.forwardRef((e,t)=>{const{prefixCls:s,className:o,rootClassName:f,style:y,children:C,icon:w,color:I,onClose:D,bordered:L=!0,visible:z}=e,k=NL(e,["prefixCls","className","rootClassName","style","children","icon","color","onClose","bordered","visible"]),{getPrefixCls:j,direction:Z,tag:G}=a.useContext(ye.E_),[H,X]=a.useState(!0),ne=(0,$a.Z)(k,["closeIcon","closable"]);a.useEffect(()=>{z!==void 0&&X(z)},[z]);const oe=(0,er.o2)(I),ae=(0,er.yT)(I),ie=oe||ae,le=Object.assign(Object.assign({backgroundColor:I&&!ie?I:void 0},G==null?void 0:G.style),y),fe=j("tag",s),[me,ge,xe]=QI(fe),Me=q()(fe,G==null?void 0:G.className,{[`${fe}-${I}`]:ie,[`${fe}-has-color`]:I&&!ie,[`${fe}-hidden`]:!H,[`${fe}-rtl`]:Z==="rtl",[`${fe}-borderless`]:!L},o,f,ge,xe),$e=lt=>{lt.stopPropagation(),D==null||D(lt),!lt.defaultPrevented&&X(!1)},[,Oe]=ga(ba(e),ba(G),{closable:!1,closeIconRender:lt=>{const ht=a.createElement("span",{className:`${fe}-close-icon`,onClick:$e},lt);return(0,Cn.wm)(lt,ht,It=>({onClick:Tt=>{var wt;(wt=It==null?void 0:It.onClick)===null||wt===void 0||wt.call(It,Tt),$e(Tt)},className:q()(It==null?void 0:It.className,`${fe}-close-icon`)}))}}),He=typeof k.onClick=="function"||C&&C.type==="a",Ne=w||null,Ke=Ne?a.createElement(a.Fragment,null,Ne,C&&a.createElement("span",null,C)):C,je=a.createElement("span",Object.assign({},ne,{ref:t,className:Me,style:le}),Ke,Oe,oe&&a.createElement(DL,{key:"preset",prefixCls:fe}),ae&&a.createElement(zL,{key:"status",prefixCls:fe}));return me(He?a.createElement(th.Z,{component:"Tag"},je):je)});eT.CheckableTag=$L;var BL=eT,FL=B(38920),tT=B(30767),kL=B(33598),ZL=e=>{const t=e!=null&&e.algorithm?(0,he.jG)(e.algorithm):FL.Z,s=Object.assign(Object.assign({},tT.Z),e==null?void 0:e.token);return(0,he.t2)(s,{override:e==null?void 0:e.token},t,kL.Z)},Aw=B(20284),Dw=B(28893),jL=B(10154),VL=B(79319);function HL(e){const{sizeUnit:t,sizeStep:s}=e,o=s-2;return{sizeXXL:t*(o+10),sizeXL:t*(o+6),sizeLG:t*(o+2),sizeMD:t*(o+2),sizeMS:t*(o+1),size:t*o,sizeSM:t*o,sizeXS:t*(o-1),sizeXXS:t*(o-1)}}var UL=(e,t)=>{const s=t!=null?t:(0,Dw.Z)(e),o=s.fontSizeSM,f=s.controlHeight-4;return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},s),HL(t!=null?t:e)),(0,VL.Z)(o)),{controlHeight:f}),(0,jL.Z)(Object.assign(Object.assign({},s),{controlHeight:f})))},WL=B(40329);const kd=(e,t)=>new mo.t(e).setA(t).toRgbString(),Ev=(e,t)=>new mo.t(e).lighten(t).toHexString(),GL=e=>{const t=(0,um.R_)(e,{theme:"dark"});return{1:t[0],2:t[1],3:t[2],4:t[3],5:t[6],6:t[5],7:t[4],8:t[6],9:t[5],10:t[4]}},KL=(e,t)=>{const s=e||"#000",o=t||"#fff";return{colorBgBase:s,colorTextBase:o,colorText:kd(o,.85),colorTextSecondary:kd(o,.65),colorTextTertiary:kd(o,.45),colorTextQuaternary:kd(o,.25),colorFill:kd(o,.18),colorFillSecondary:kd(o,.12),colorFillTertiary:kd(o,.08),colorFillQuaternary:kd(o,.04),colorBgSolid:kd(o,.95),colorBgSolidHover:kd(o,1),colorBgSolidActive:kd(o,.9),colorBgElevated:Ev(s,12),colorBgContainer:Ev(s,8),colorBgLayout:Ev(s,0),colorBgSpotlight:Ev(s,26),colorBgBlur:kd(o,.04),colorBorder:Ev(s,26),colorBorderSecondary:Ev(s,19)}};var XL=(e,t)=>{const s=Object.keys(tT.M).map(f=>{const y=(0,um.R_)(e[f],{theme:"dark"});return Array.from({length:10},()=>1).reduce((C,w,I)=>(C[`${f}-${I+1}`]=y[I],C[`${f}${I+1}`]=y[I],C),{})}).reduce((f,y)=>(f=Object.assign(Object.assign({},f),y),f),{}),o=t!=null?t:(0,Dw.Z)(e);return Object.assign(Object.assign(Object.assign({},o),s),(0,WL.Z)(e,{generateColorPalettes:GL,generateNeutralColorPalettes:KL}))};function YL(){const[e,t,s]=(0,Qn.ZP)();return{theme:e,token:t,hashId:s}}var qL={defaultSeed:Aw.u_.token,useToken:YL,defaultAlgorithm:Dw.Z,darkAlgorithm:XL,compactAlgorithm:UL,getDesignToken:ZL,defaultConfig:Aw.u_,_internalContext:Aw.Mj},JL=function(e,t){var s={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(s[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(s[o[f]]=e[o[f]]);return s};const{TimePicker:QL,RangePicker:ez}=xn,tz=a.forwardRef((e,t)=>a.createElement(ez,Object.assign({},e,{picker:"time",mode:void 0,ref:t}))),N_=a.forwardRef((e,t)=>{var{addon:s,renderExtraFooter:o,variant:f,bordered:y}=e,C=JL(e,["addon","renderExtraFooter","variant","bordered"]);const[w]=(0,mf.Z)("timePicker",f,y),I=a.useMemo(()=>{if(o)return o;if(s)return s},[s,o]);return a.createElement(QL,Object.assign({},C,{mode:void 0,ref:t,renderExtraFooter:I,variant:w}))}),nT=(0,Iu.Z)(N_,"popupAlign",void 0,"picker");N_._InternalPanelDoNotUseOrYouWillBeFired=nT,N_.RangePicker=tz,N_._InternalPanelDoNotUseOrYouWillBeFired=nT;var nz=N_;const rz=e=>{const{componentCls:t,calc:s}=e;return{[t]:Object.assign(Object.assign({},(0,Qt.Wf)(e)),{margin:0,padding:0,listStyle:"none",[`${t}-item`]:{position:"relative",margin:0,paddingBottom:e.itemPaddingBottom,fontSize:e.fontSize,listStyle:"none","&-tail":{position:"absolute",insetBlockStart:e.itemHeadSize,insetInlineStart:s(s(e.itemHeadSize).sub(e.tailWidth)).div(2).equal(),height:`calc(100% - ${(0,he.bf)(e.itemHeadSize)})`,borderInlineStart:`${(0,he.bf)(e.tailWidth)} ${e.lineType} ${e.tailColor}`},"&-pending":{[`${t}-item-head`]:{fontSize:e.fontSizeSM,backgroundColor:"transparent"},[`${t}-item-tail`]:{display:"none"}},"&-head":{position:"absolute",width:e.itemHeadSize,height:e.itemHeadSize,backgroundColor:e.dotBg,border:`${(0,he.bf)(e.dotBorderWidth)} ${e.lineType} transparent`,borderRadius:"50%","&-blue":{color:e.colorPrimary,borderColor:e.colorPrimary},"&-red":{color:e.colorError,borderColor:e.colorError},"&-green":{color:e.colorSuccess,borderColor:e.colorSuccess},"&-gray":{color:e.colorTextDisabled,borderColor:e.colorTextDisabled}},"&-head-custom":{position:"absolute",insetBlockStart:s(e.itemHeadSize).div(2).equal(),insetInlineStart:s(e.itemHeadSize).div(2).equal(),width:"auto",height:"auto",marginBlockStart:0,paddingBlock:e.customHeadPaddingVertical,lineHeight:1,textAlign:"center",border:0,borderRadius:0,transform:"translate(-50%, -50%)"},"&-content":{position:"relative",insetBlockStart:s(s(e.fontSize).mul(e.lineHeight).sub(e.fontSize)).mul(-1).add(e.lineWidth).equal(),marginInlineStart:s(e.margin).add(e.itemHeadSize).equal(),marginInlineEnd:0,marginBlockStart:0,marginBlockEnd:0,wordBreak:"break-word"},"&-last":{[`> ${t}-item-tail`]:{display:"none"},[`> ${t}-item-content`]:{minHeight:s(e.controlHeightLG).mul(1.2).equal()}}},[`&${t}-alternate,
        &${t}-right,
        &${t}-label`]:{[`${t}-item`]:{"&-tail, &-head, &-head-custom":{insetInlineStart:"50%"},"&-head":{marginInlineStart:s(e.marginXXS).mul(-1).equal(),"&-custom":{marginInlineStart:s(e.tailWidth).div(2).equal()}},"&-left":{[`${t}-item-content`]:{insetInlineStart:`calc(50% - ${(0,he.bf)(e.marginXXS)})`,width:`calc(50% - ${(0,he.bf)(e.marginSM)})`,textAlign:"start"}},"&-right":{[`${t}-item-content`]:{width:`calc(50% - ${(0,he.bf)(e.marginSM)})`,margin:0,textAlign:"end"}}}},[`&${t}-right`]:{[`${t}-item-right`]:{[`${t}-item-tail,
            ${t}-item-head,
            ${t}-item-head-custom`]:{insetInlineStart:`calc(100% - ${(0,he.bf)(s(s(e.itemHeadSize).add(e.tailWidth)).div(2).equal())})`},[`${t}-item-content`]:{width:`calc(100% - ${(0,he.bf)(s(e.itemHeadSize).add(e.marginXS).equal())})`}}},[`&${t}-pending
        ${t}-item-last
        ${t}-item-tail`]:{display:"block",height:`calc(100% - ${(0,he.bf)(e.margin)})`,borderInlineStart:`${(0,he.bf)(e.tailWidth)} dotted ${e.tailColor}`},[`&${t}-reverse
        ${t}-item-last
        ${t}-item-tail`]:{display:"none"},[`&${t}-reverse ${t}-item-pending`]:{[`${t}-item-tail`]:{insetBlockStart:e.margin,display:"block",height:`calc(100% - ${(0,he.bf)(e.margin)})`,borderInlineStart:`${(0,he.bf)(e.tailWidth)} dotted ${e.tailColor}`},[`${t}-item-content`]:{minHeight:s(e.controlHeightLG).mul(1.2).equal()}},[`&${t}-label`]:{[`${t}-item-label`]:{position:"absolute",insetBlockStart:s(s(e.fontSize).mul(e.lineHeight).sub(e.fontSize)).mul(-1).add(e.tailWidth).equal(),width:`calc(50% - ${(0,he.bf)(e.marginSM)})`,textAlign:"end"},[`${t}-item-right`]:{[`${t}-item-label`]:{insetInlineStart:`calc(50% + ${(0,he.bf)(e.marginSM)})`,width:`calc(50% - ${(0,he.bf)(e.marginSM)})`,textAlign:"start"}}},"&-rtl":{direction:"rtl",[`${t}-item-head-custom`]:{transform:"translate(50%, -50%)"}}})}},iz=e=>({tailColor:e.colorSplit,tailWidth:e.lineWidthBold,dotBorderWidth:e.wireframe?e.lineWidthBold:e.lineWidth*3,dotBg:e.colorBgContainer,itemPaddingBottom:e.padding*1.25});var oz=(0,te.I$)("Timeline",e=>{const t=(0,ci.IX)(e,{itemHeadSize:10,customHeadPaddingVertical:e.paddingXXS,paddingInlineEnd:2});return[rz(t)]},iz),az=function(e,t){var s={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(s[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(s[o[f]]=e[o[f]]);return s},rT=e=>{var{prefixCls:t,className:s,color:o="blue",dot:f,pending:y=!1,position:C,label:w,children:I}=e,D=az(e,["prefixCls","className","color","dot","pending","position","label","children"]);const{getPrefixCls:L}=a.useContext(ye.E_),z=L("timeline",t),k=q()(`${z}-item`,{[`${z}-item-pending`]:y},s),j=/blue|red|green|gray/.test(o||"")?void 0:o,Z=q()(`${z}-item-head`,{[`${z}-item-head-custom`]:!!f,[`${z}-item-head-${o}`]:!j});return a.createElement("li",Object.assign({},D,{className:k}),w&&a.createElement("div",{className:`${z}-item-label`},w),a.createElement("div",{className:`${z}-item-tail`}),a.createElement("div",{className:Z,style:{borderColor:j,color:j}},f),a.createElement("div",{className:`${z}-item-content`},I))},iT=function(e,t){var s={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(s[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(s[o[f]]=e[o[f]]);return s},sz=e=>{var{prefixCls:t,className:s,pending:o=!1,children:f,items:y,rootClassName:C,reverse:w=!1,direction:I,hashId:D,pendingDot:L,mode:z=""}=e,k=iT(e,["prefixCls","className","pending","children","items","rootClassName","reverse","direction","hashId","pendingDot","mode"]);const j=(ie,le)=>z==="alternate"?ie==="right"?`${t}-item-right`:ie==="left"?`${t}-item-left`:le%2===0?`${t}-item-left`:`${t}-item-right`:z==="left"?`${t}-item-left`:z==="right"?`${t}-item-right`:ie==="right"?`${t}-item-right`:"",Z=(0,be.Z)(y||[]),G=typeof o=="boolean"?null:o;o&&Z.push({pending:!!o,dot:L||a.createElement(wn.Z,null),children:G}),w&&Z.reverse();const H=Z.length,X=`${t}-item-last`,ne=Z.filter(ie=>!!ie).map((ie,le)=>{var fe;const me=le===H-2?X:"",ge=le===H-1?X:"",{className:xe}=ie,Me=iT(ie,["className"]);return a.createElement(rT,Object.assign({},Me,{className:q()([xe,!w&&o?me:ge,j((fe=ie==null?void 0:ie.position)!==null&&fe!==void 0?fe:"",le)]),key:(ie==null?void 0:ie.key)||le}))}),oe=Z.some(ie=>!!(ie!=null&&ie.label)),ae=q()(t,{[`${t}-pending`]:!!o,[`${t}-reverse`]:!!w,[`${t}-${z}`]:!!z&&!oe,[`${t}-label`]:oe,[`${t}-rtl`]:I==="rtl"},s,C,D);return a.createElement("ul",Object.assign({},k,{className:ae}),ne)};function lz(e,t){return e&&Array.isArray(e)?e:(0,Gl.Z)(t).map(s=>{var o,f;return Object.assign({children:(f=(o=s==null?void 0:s.props)===null||o===void 0?void 0:o.children)!==null&&f!==void 0?f:""},s.props)})}var cz=lz,uz=function(e,t){var s={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(s[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(s[o[f]]=e[o[f]]);return s};const oT=e=>{const{getPrefixCls:t,direction:s,timeline:o}=a.useContext(ye.E_),{prefixCls:f,children:y,items:C,className:w,style:I}=e,D=uz(e,["prefixCls","children","items","className","style"]),L=t("timeline",f),z=(0,Wn.Z)(L),[k,j,Z]=oz(L,z),G=cz(C,y);return k(a.createElement(sz,Object.assign({},D,{className:q()(o==null?void 0:o.className,w,Z,z),style:Object.assign(Object.assign({},o==null?void 0:o.style),I),prefixCls:L,direction:s,items:G,hashId:j})))};oT.Item=rT;var dz=oT,fz=dz;function aT(e){return e!==null&&(0,nt.Z)(e)==="object"}function sT(e,t,s){if(e===!1||t===!1&&(!aT(e)||!e.closeIcon))return null;var o=typeof t!="boolean"?t:void 0;if(aT(e)){var f;return(0,Y.Z)((0,Y.Z)({},e),{},{closeIcon:(f=e.closeIcon)!==null&&f!==void 0?f:o})}return s||e||t?{closeIcon:o}:"empty"}function hz(e,t,s,o){return a.useMemo(function(){var f=sT(e,t,!1),y=sT(s,o,!0);return f!=="empty"?f:y},[s,o,e,t])}function pz(e){var t=window.innerWidth||document.documentElement.clientWidth,s=window.innerHeight||document.documentElement.clientHeight,o=e.getBoundingClientRect(),f=o.top,y=o.right,C=o.bottom,w=o.left;return f>=0&&w>=0&&y<=t&&C<=s}function mz(e,t,s){var o;return(o=s!=null?s:t)!==null&&o!==void 0?o:e===null?"center":"bottom"}function gz(e){return typeof e=="number"&&!Number.isNaN(e)}function vz(e,t,s,o){var f=(0,a.useState)(void 0),y=(0,Re.Z)(f,2),C=y[0],w=y[1];(0,cl.Z)(function(){var G=typeof e=="function"?e():e;w(G||null)});var I=(0,a.useState)(null),D=(0,Re.Z)(I,2),L=D[0],z=D[1],k=(0,_r.Z)(function(){if(C){!pz(C)&&t&&C.scrollIntoView(o);var G=C.getBoundingClientRect(),H=G.left,X=G.top,ne=G.width,oe=G.height,ae={left:H,top:X,width:ne,height:oe,radius:0};z(function(ie){return JSON.stringify(ie)!==JSON.stringify(ae)?ae:ie})}else z(null)}),j=function(H){var X;return(X=Array.isArray(s==null?void 0:s.offset)?s==null?void 0:s.offset[H]:s==null?void 0:s.offset)!==null&&X!==void 0?X:6};(0,cl.Z)(function(){return k(),window.addEventListener("resize",k),function(){window.removeEventListener("resize",k)}},[C,t,k]);var Z=(0,a.useMemo)(function(){if(!L)return L;var G=j(0),H=j(1),X=gz(s==null?void 0:s.radius)?s==null?void 0:s.radius:2;return{left:L.left-G,top:L.top-H,width:L.width+G*2,height:L.height+H*2,radius:X}},[L,s]);return[Z,C]}var Nx={fill:"transparent",pointerEvents:"auto"},yz=function(t){var s=t.prefixCls,o=t.rootClassName,f=t.pos,y=t.showMask,C=t.style,w=C===void 0?{}:C,I=t.fill,D=I===void 0?"rgba(0,0,0,0.5)":I,L=t.open,z=t.animated,k=t.zIndex,j=t.disabledInteraction,Z=(0,Ye.Z)(),G="".concat(s,"-mask-").concat(Z),H=(0,nt.Z)(z)==="object"?z==null?void 0:z.placeholder:z,X=typeof navigator!="undefined"&&/^((?!chrome|android).)*safari/i.test(navigator.userAgent),ne=X?{width:"100%",height:"100%"}:{width:"100vw",height:"100vh"};return a.createElement(sn.Z,{open:L,autoLock:!0},a.createElement("div",{className:q()("".concat(s,"-mask"),o),style:(0,Y.Z)({position:"fixed",left:0,right:0,top:0,bottom:0,zIndex:k,pointerEvents:f&&!j?"none":"auto"},w)},y?a.createElement("svg",{style:{width:"100%",height:"100%"}},a.createElement("defs",null,a.createElement("mask",{id:G},a.createElement("rect",(0,Ge.Z)({x:"0",y:"0"},ne,{fill:"white"})),f&&a.createElement("rect",{x:f.left,y:f.top,rx:f.radius,width:f.width,height:f.height,fill:"black",className:H?"".concat(s,"-placeholder-animated"):""}))),a.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:D,mask:"url(#".concat(G,")")}),f&&a.createElement(a.Fragment,null,a.createElement("rect",(0,Ge.Z)({},Nx,{x:"0",y:"0",width:"100%",height:f.top})),a.createElement("rect",(0,Ge.Z)({},Nx,{x:"0",y:"0",width:f.left,height:"100%"})),a.createElement("rect",(0,Ge.Z)({},Nx,{x:"0",y:f.top+f.height,width:"100%",height:"calc(100vh - ".concat(f.top+f.height,"px)")})),a.createElement("rect",(0,Ge.Z)({},Nx,{x:f.left+f.width,y:"0",width:"calc(100vw - ".concat(f.left+f.width,"px)"),height:"100%"})))):null))},_z=yz,dk={adjustX:1,adjustY:1},bz=[0,0],lT={left:{points:["cr","cl"],offset:[-8,0]},right:{points:["cl","cr"],offset:[8,0]},top:{points:["bc","tc"],offset:[0,-8]},bottom:{points:["tc","bc"],offset:[0,8]},topLeft:{points:["bl","tl"],offset:[0,-8]},leftTop:{points:["tr","tl"],offset:[-8,0]},topRight:{points:["br","tr"],offset:[0,-8]},rightTop:{points:["tl","tr"],offset:[8,0]},bottomRight:{points:["tr","br"],offset:[0,8]},rightBottom:{points:["bl","br"],offset:[8,0]},bottomLeft:{points:["tl","bl"],offset:[0,8]},leftBottom:{points:["br","bl"],offset:[-8,0]}};function cT(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,t={};return Object.keys(lT).forEach(function(s){t[s]=(0,Y.Z)((0,Y.Z)({},lT[s]),{},{autoArrow:e,targetOffset:bz})}),t}var fk=cT();function xz(e){var t,s=e.prefixCls,o=e.current,f=e.total,y=e.title,C=e.description,w=e.onClose,I=e.onPrev,D=e.onNext,L=e.onFinish,z=e.className,k=e.closable,j=(0,ut.Z)(k||{},!0),Z=(t=k==null?void 0:k.closeIcon)!==null&&t!==void 0?t:a.createElement("span",{className:"".concat(s,"-close-x")},"\xD7"),G=!!k;return a.createElement("div",{className:q()("".concat(s,"-content"),z)},a.createElement("div",{className:"".concat(s,"-inner")},G&&a.createElement("button",(0,Ge.Z)({type:"button",onClick:w,"aria-label":"Close"},j,{className:"".concat(s,"-close")}),Z),a.createElement("div",{className:"".concat(s,"-header")},a.createElement("div",{className:"".concat(s,"-title")},y)),a.createElement("div",{className:"".concat(s,"-description")},C),a.createElement("div",{className:"".concat(s,"-footer")},a.createElement("div",{className:"".concat(s,"-sliders")},f>1?(0,be.Z)(Array.from({length:f}).keys()).map(function(H,X){return a.createElement("span",{key:H,className:X===o?"active":""})}):null),a.createElement("div",{className:"".concat(s,"-buttons")},o!==0?a.createElement("button",{className:"".concat(s,"-prev-btn"),onClick:I},"Prev"):null,o===f-1?a.createElement("button",{className:"".concat(s,"-finish-btn"),onClick:L},"Finish"):a.createElement("button",{className:"".concat(s,"-next-btn"),onClick:D},"Next")))))}var Cz=function(t){var s=t.current,o=t.renderPanel;return a.createElement(a.Fragment,null,typeof o=="function"?o(t,s):a.createElement(xz,t))},Sz=Cz,wz=["prefixCls","steps","defaultCurrent","current","onChange","onClose","onFinish","open","mask","arrow","rootClassName","placement","renderPanel","gap","animated","scrollIntoViewOptions","zIndex","closeIcon","closable","builtinPlacements","disabledInteraction"],Ez={left:"50%",top:"50%",width:1,height:1},uT={block:"center",inline:"center"},Iz=function(t){var s=t.prefixCls,o=s===void 0?"rc-tour":s,f=t.steps,y=f===void 0?[]:f,C=t.defaultCurrent,w=t.current,I=t.onChange,D=t.onClose,L=t.onFinish,z=t.open,k=t.mask,j=k===void 0?!0:k,Z=t.arrow,G=Z===void 0?!0:Z,H=t.rootClassName,X=t.placement,ne=t.renderPanel,oe=t.gap,ae=t.animated,ie=t.scrollIntoViewOptions,le=ie===void 0?uT:ie,fe=t.zIndex,me=fe===void 0?1001:fe,ge=t.closeIcon,xe=t.closable,Me=t.builtinPlacements,$e=t.disabledInteraction,Oe=(0,de.Z)(t,wz),He=a.useRef(),Ne=(0,Cs.Z)(0,{value:w,defaultValue:C}),Ke=(0,Re.Z)(Ne,2),je=Ke[0],lt=Ke[1],ht=(0,Cs.Z)(void 0,{value:z,postState:function(tr){return je<0||je>=y.length?!1:tr!=null?tr:!0}}),It=(0,Re.Z)(ht,2),Tt=It[0],wt=It[1],_t=a.useState(Tt),At=(0,Re.Z)(_t,2),Bt=At[0],Dt=At[1],Gt=a.useRef(Tt);(0,cl.Z)(function(){Tt&&(Gt.current||lt(0),Dt(!0)),Gt.current=Tt},[Tt]);var Pt=y[je]||{},Pn=Pt.target,Kn=Pt.placement,_n=Pt.style,Fn=Pt.arrow,on=Pt.className,Zt=Pt.mask,Vn=Pt.scrollIntoViewOptions,Ln=Vn===void 0?uT:Vn,kr=Pt.closeIcon,Sr=Pt.closable,dr=hz(Sr,kr,xe,ge),cr=Tt&&(Zt!=null?Zt:j),Zn=Ln!=null?Ln:le,ur=vz(Pn,z,oe,Zn),ti=(0,Re.Z)(ur,2),Ei=ti[0],ki=ti[1],qi=mz(ki,X,Kn),Ho=ki?typeof Fn=="undefined"?G:Fn:!1,Li=(0,nt.Z)(Ho)==="object"?Ho.pointAtCenter:!1;(0,cl.Z)(function(){var Zr;(Zr=He.current)===null||Zr===void 0||Zr.forceAlign()},[Li,je]);var bi=function(tr){lt(tr),I==null||I(tr)},$i=(0,a.useMemo)(function(){return Me?typeof Me=="function"?Me({arrowPointAtCenter:Li}):Me:cT(Li)},[Me,Li]);if(ki===void 0||!Bt)return null;var go=function(){wt(!1),D==null||D(je)},Gi=function(){return a.createElement(Sz,(0,Ge.Z)({arrow:Ho,key:"content",prefixCls:o,total:y.length,renderPanel:ne,onPrev:function(){bi(je-1)},onNext:function(){bi(je+1)},onClose:go,current:je,onFinish:function(){go(),L==null||L()}},y[je],{closable:dr}))},ko=typeof cr=="boolean"?cr:!!cr,Er=typeof cr=="boolean"?void 0:cr,Mr=function(tr){return tr||ki||document.body};return a.createElement(a.Fragment,null,a.createElement(_z,{zIndex:me,prefixCls:o,pos:Ei,showMask:ko,style:Er==null?void 0:Er.style,fill:Er==null?void 0:Er.color,open:Tt,animated:ae,rootClassName:H,disabledInteraction:$e}),a.createElement(Yu.Z,(0,Ge.Z)({},Oe,{builtinPlacements:$i,ref:He,popupStyle:_n,popupPlacement:qi,popupVisible:Tt,popupClassName:q()(H,on),prefixCls:o,popup:Gi,forceRender:!1,destroyPopupOnHide:!0,zIndex:me,getTriggerDOMNode:Mr,arrow:!!Ho}),a.createElement(sn.Z,{open:Tt,autoLock:!0},a.createElement("div",{className:q()(H,"".concat(o,"-target-placeholder")),style:(0,Y.Z)((0,Y.Z)({},Ei||Ez),{},{position:"fixed",pointerEvents:"none"})}))))},Tz=Iz,Mz=Tz;function Lw(e){return e!=null}var dT=e=>{var t,s;const{stepProps:o,current:f,type:y,indicatorsRender:C}=e,{prefixCls:w,total:I=1,title:D,onClose:L,onPrev:z,onNext:k,onFinish:j,cover:Z,description:G,nextButtonProps:H,prevButtonProps:X,type:ne,closable:oe}=o,ae=ne!=null?ne:y,ie=a.createElement("button",{type:"button",onClick:L,className:`${w}-close`},(oe==null?void 0:oe.closeIcon)||a.createElement(lr.Z,{className:`${w}-close-icon`})),le=f===I-1,fe=()=>{var Ke;z==null||z(),(Ke=X==null?void 0:X.onClick)===null||Ke===void 0||Ke.call(X)},me=()=>{var Ke;le?j==null||j():k==null||k(),(Ke=H==null?void 0:H.onClick)===null||Ke===void 0||Ke.call(H)},ge=Lw(D)?a.createElement("div",{className:`${w}-header`},a.createElement("div",{className:`${w}-title`},D)):null,xe=Lw(G)?a.createElement("div",{className:`${w}-description`},G):null,Me=Lw(Z)?a.createElement("div",{className:`${w}-cover`},Z):null;let $e;C?$e=C(f,I):$e=(0,be.Z)(Array.from({length:I}).keys()).map((Ke,je)=>a.createElement("span",{key:Ke,className:q()(je===f&&`${w}-indicator-active`,`${w}-indicator`)}));const Oe=ae==="primary"?"default":"primary",He={type:"default",ghost:ae==="primary"},[Ne]=(0,En.Z)("Tour",du.Z.Tour);return a.createElement("div",{className:`${w}-content`},a.createElement("div",{className:`${w}-inner`},oe&&ie,Me,ge,xe,a.createElement("div",{className:`${w}-footer`},I>1&&a.createElement("div",{className:`${w}-indicators`},$e),a.createElement("div",{className:`${w}-buttons`},f!==0?a.createElement(Or.ZP,Object.assign({},He,X,{onClick:fe,size:"small",className:q()(`${w}-prev-btn`,X==null?void 0:X.className)}),(t=X==null?void 0:X.children)!==null&&t!==void 0?t:Ne==null?void 0:Ne.Previous):null,a.createElement(Or.ZP,Object.assign({type:Oe},H,{onClick:me,size:"small",className:q()(`${w}-next-btn`,H==null?void 0:H.className)}),(s=H==null?void 0:H.children)!==null&&s!==void 0?s:le?Ne==null?void 0:Ne.Finish:Ne==null?void 0:Ne.Next)))))};const Pz=e=>{const{componentCls:t,padding:s,paddingXS:o,borderRadius:f,borderRadiusXS:y,colorPrimary:C,colorFill:w,indicatorHeight:I,indicatorWidth:D,boxShadowTertiary:L,zIndexPopup:z,colorBgElevated:k,fontWeightStrong:j,marginXS:Z,colorTextLightSolid:G,tourBorderRadius:H,colorWhite:X,primaryNextBtnHoverBg:ne,closeBtnSize:oe,motionDurationSlow:ae,antCls:ie,primaryPrevBtnBg:le}=e;return[{[t]:Object.assign(Object.assign({},(0,Qt.Wf)(e)),{position:"absolute",zIndex:z,maxWidth:"fit-content",visibility:"visible",width:520,"--antd-arrow-background-color":k,"&-pure":{maxWidth:"100%",position:"relative"},[`&${t}-hidden`]:{display:"none"},[`${t}-content`]:{position:"relative"},[`${t}-inner`]:{textAlign:"start",textDecoration:"none",borderRadius:H,boxShadow:L,position:"relative",backgroundColor:k,border:"none",backgroundClip:"padding-box",[`${t}-close`]:Object.assign({position:"absolute",top:s,insetInlineEnd:s,color:e.colorIcon,background:"none",border:"none",width:oe,height:oe,borderRadius:e.borderRadiusSM,transition:`background-color ${e.motionDurationMid}, color ${e.motionDurationMid}`,display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer","&:hover":{color:e.colorIconHover,backgroundColor:e.colorBgTextHover},"&:active":{backgroundColor:e.colorBgTextActive}},(0,Qt.Qy)(e)),[`${t}-cover`]:{textAlign:"center",padding:`${(0,he.bf)(e.calc(s).add(oe).add(o).equal())} ${(0,he.bf)(s)} 0`,img:{width:"100%"}},[`${t}-header`]:{padding:`${(0,he.bf)(s)} ${(0,he.bf)(s)} ${(0,he.bf)(o)}`,width:`calc(100% - ${(0,he.bf)(oe)})`,wordBreak:"break-word",[`${t}-title`]:{fontWeight:j}},[`${t}-description`]:{padding:`0 ${(0,he.bf)(s)}`,wordWrap:"break-word"},[`${t}-footer`]:{padding:`${(0,he.bf)(o)} ${(0,he.bf)(s)} ${(0,he.bf)(s)}`,textAlign:"end",borderRadius:`0 0 ${(0,he.bf)(y)} ${(0,he.bf)(y)}`,display:"flex",[`${t}-indicators`]:{display:"inline-block",[`${t}-indicator`]:{width:D,height:I,display:"inline-block",borderRadius:"50%",background:w,"&:not(:last-child)":{marginInlineEnd:I},"&-active":{background:C}}},[`${t}-buttons`]:{marginInlineStart:"auto",[`${ie}-btn`]:{marginInlineStart:Z}}}},[`${t}-primary, &${t}-primary`]:{"--antd-arrow-background-color":C,[`${t}-inner`]:{color:G,textAlign:"start",textDecoration:"none",backgroundColor:C,borderRadius:f,boxShadow:L,[`${t}-close`]:{color:G},[`${t}-indicators`]:{[`${t}-indicator`]:{background:le,"&-active":{background:G}}},[`${t}-prev-btn`]:{color:G,borderColor:le,backgroundColor:C,"&:hover":{backgroundColor:le,borderColor:"transparent"}},[`${t}-next-btn`]:{color:C,borderColor:"transparent",background:X,"&:hover":{background:ne}}}}}),[`${t}-mask`]:{[`${t}-placeholder-animated`]:{transition:`all ${ae}`}},[["&-placement-left","&-placement-leftTop","&-placement-leftBottom","&-placement-right","&-placement-rightTop","&-placement-rightBottom"].join(",")]:{[`${t}-inner`]:{borderRadius:e.min(H,pc.qN)}}},(0,pc.ZP)(e,"var(--antd-arrow-background-color)")]},Oz=e=>Object.assign(Object.assign({zIndexPopup:e.zIndexPopupBase+70,closeBtnSize:e.fontSize*e.lineHeight,primaryPrevBtnBg:new mo.t(e.colorTextLightSolid).setA(.15).toRgbString(),primaryNextBtnHoverBg:new mo.t(e.colorBgTextHover).onBackground(e.colorWhite).toRgbString()},(0,pc.wZ)({contentRadius:e.borderRadiusLG,limitVerticalRadius:!0})),(0,mc.w)(e));var fT=(0,te.I$)("Tour",e=>{const{borderRadiusLG:t}=e,s=(0,ci.IX)(e,{indicatorWidth:6,indicatorHeight:6,tourBorderRadius:t});return[Pz(s)]},Oz),Rz=function(e,t){var s={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(s[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(s[o[f]]=e[o[f]]);return s};const $z=e=>{const{prefixCls:t,current:s=0,total:o=6,className:f,style:y,type:C,closable:w,closeIcon:I}=e,D=Rz(e,["prefixCls","current","total","className","style","type","closable","closeIcon"]),{getPrefixCls:L}=a.useContext(ye.E_),z=L("tour",t),[k,j,Z]=fT(z),[G,H]=ga({closable:w,closeIcon:I},null,{closable:!0,closeIconRender:X=>a.isValidElement(X)?(0,Cn.Tm)(X,{className:q()(X.props.className,`${z}-close-icon`)}):X});return k(a.createElement(xE.t5,{prefixCls:z,hashId:j,className:q()(f,`${z}-pure`,C&&`${z}-${C}`,Z),style:y},a.createElement(dT,{stepProps:Object.assign(Object.assign({},D),{prefixCls:z,total:o,closable:G?{closeIcon:H}:void 0}),current:s,type:C})))};var Az=(0,Iu.i)($z),Dz=function(e,t){var s={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(s[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(s[o[f]]=e[o[f]]);return s};const hT=e=>{const{prefixCls:t,type:s,rootClassName:o,indicatorsRender:f,steps:y,closeIcon:C}=e,w=Dz(e,["prefixCls","type","rootClassName","indicatorsRender","steps","closeIcon"]),{getPrefixCls:I,direction:D,tour:L}=(0,a.useContext)(ye.E_),z=I("tour",t),[k,j,Z]=fT(z),[,G]=(0,Qn.ZP)(),H=a.useMemo(()=>y==null?void 0:y.map(le=>{var fe;return Object.assign(Object.assign({},le),{className:q()(le.className,{[`${z}-primary`]:((fe=le.type)!==null&&fe!==void 0?fe:s)==="primary"})})}),[y,s]),X=le=>{var fe;return(0,wh.Z)({arrowPointAtCenter:(fe=le==null?void 0:le.arrowPointAtCenter)!==null&&fe!==void 0?fe:!0,autoAdjustOverflow:!0,offset:G.marginXXS,arrowWidth:G.sizePopupArrow,borderRadius:G.borderRadius})},ne=q()({[`${z}-rtl`]:D==="rtl"},j,Z,o),oe=(le,fe)=>a.createElement(dT,{type:s,stepProps:le,current:fe,indicatorsRender:f}),[ae,ie]=(0,qt.Cn)("Tour",w.zIndex);return k(a.createElement(ms.Z.Provider,{value:ie},a.createElement(Mz,Object.assign({},w,{closeIcon:C!=null?C:L==null?void 0:L.closeIcon,zIndex:ae,rootClassName:ne,prefixCls:z,animated:!0,renderPanel:oe,builtinPlacements:X,steps:H}))))};hT._InternalPanelDoNotUseOrYouWillBeFired=Az;var Lz=hT;const Bx=e=>{const t=new Map;return e.forEach((s,o)=>{t.set(s,o)}),t},zz=e=>{const t=new Map;return e.forEach((s,o)=>{let{disabled:f,key:y}=s;f&&t.set(y,o)}),t};var Nz=(e,t,s)=>{const o=a.useMemo(()=>(e||[]).map(C=>t?Object.assign(Object.assign({},C),{key:t(C)}):C),[e,t]),[f,y]=a.useMemo(()=>{var C;const w=[],I=Array.from({length:(C=s==null?void 0:s.length)!==null&&C!==void 0?C:0}),D=Bx(s||[]);return o.forEach(L=>{if(D.has(L.key)){const z=D.get(L.key);I[z]=L}else w.push(L)}),[w,I]},[o,s]);return[o,f.filter(Boolean),y.filter(Boolean)]};const Bz=[];function Fx(e,t){const s=e.filter(o=>t.has(o));return e.length===s.length?e:s}function pT(e){return Array.from(e).join(";")}function Fz(e,t,s){const[o,f]=a.useMemo(()=>[new Set(e.map(z=>z==null?void 0:z.key)),new Set(t.map(z=>z==null?void 0:z.key))],[e,t]),[y,C]=(0,Ls.C8)(Bz,{value:s}),w=a.useMemo(()=>Fx(y,o),[y,o]),I=a.useMemo(()=>Fx(y,f),[y,f]);a.useEffect(()=>{C([].concat((0,be.Z)(Fx(y,o)),(0,be.Z)(Fx(y,f))))},[pT(o),pT(f)]);const D=(0,Ls.zX)(z=>{C([].concat((0,be.Z)(z),(0,be.Z)(I)))}),L=(0,Ls.zX)(z=>{C([].concat((0,be.Z)(w),(0,be.Z)(z)))});return[w,I,D,L]}var kz=Fz,Zz={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z"}}]},name:"delete",theme:"outlined"},jz=Zz,Vz=function(t,s){return a.createElement(Xt.Z,(0,Ge.Z)({},t,{ref:s,icon:jz}))},Hz=a.forwardRef(Vz),mT=Hz;const Uz=e=>{const{renderedText:t,renderedEl:s,item:o,checked:f,disabled:y,prefixCls:C,onClick:w,onRemove:I,showRemove:D}=e,L=q()(`${C}-content-item`,{[`${C}-content-item-disabled`]:y||o.disabled,[`${C}-content-item-checked`]:f&&!o.disabled});let z;(typeof t=="string"||typeof t=="number")&&(z=String(t));const[k]=(0,En.Z)("Transfer",du.Z.Transfer),j={className:L,title:z},Z=a.createElement("span",{className:`${C}-content-item-text`},s);return D?a.createElement("li",Object.assign({},j),Z,a.createElement("button",{type:"button",disabled:y||o.disabled,className:`${C}-content-item-remove`,"aria-label":k==null?void 0:k.remove,onClick:()=>I==null?void 0:I(o)},a.createElement(mT,null))):(j.onClick=y||o.disabled?void 0:G=>w(o,G),a.createElement("li",Object.assign({},j),a.createElement(nh,{className:`${C}-checkbox`,checked:f,disabled:y||o.disabled}),Z))};var Wz=a.memo(Uz);const Gz=["handleFilter","handleClear","checkedKeys"],Kz=e=>Object.assign(Object.assign({},{simple:!0,showSizeChanger:!1,showLessItems:!1}),e),Xz=(e,t)=>{const{prefixCls:s,filteredRenderItems:o,selectedKeys:f,disabled:y,showRemove:C,pagination:w,onScroll:I,onItemSelect:D,onItemRemove:L}=e,[z,k]=a.useState(1),j=a.useMemo(()=>w?Kz(typeof w=="object"?w:{}):null,[w]),[Z,G]=(0,Cs.Z)(10,{value:j==null?void 0:j.pageSize});a.useEffect(()=>{if(j){const fe=Math.ceil(o.length/Z);k(Math.min(z,fe))}},[o,j,Z]);const H=(fe,me)=>{D(fe.key,!f.includes(fe.key),me)},X=fe=>{L==null||L([fe.key])},ne=fe=>{k(fe)},oe=(fe,me)=>{k(fe),G(me)},ae=a.useMemo(()=>j?o.slice((z-1)*Z,z*Z):o,[z,o,j,Z]);a.useImperativeHandle(t,()=>({items:ae}));const ie=j?a.createElement(yx,{size:"small",disabled:y,simple:j.simple,pageSize:Z,showLessItems:j.showLessItems,showSizeChanger:j.showSizeChanger,className:`${s}-pagination`,total:o.length,current:z,onChange:ne,onShowSizeChange:oe}):null,le=q()(`${s}-content`,{[`${s}-content-show-remove`]:C});return a.createElement(a.Fragment,null,a.createElement("ul",{className:le,onScroll:I},(ae||[]).map(fe=>{let{renderedEl:me,renderedText:ge,item:xe}=fe;return a.createElement(Wz,{key:xe.key,item:xe,renderedText:ge,renderedEl:me,prefixCls:s,showRemove:C,onClick:H,onRemove:X,checked:f.includes(xe.key),disabled:y||xe.disabled})})),ie)};var Yz=a.forwardRef(Xz),gT=e=>{const{placeholder:t="",value:s,prefixCls:o,disabled:f,onChange:y,handleClear:C}=e,w=a.useCallback(I=>{y==null||y(I),I.target.value===""&&(C==null||C())},[y]);return a.createElement(mv.Z,{placeholder:t,className:o,value:s,onChange:w,disabled:f,allowClear:!0,prefix:a.createElement(ZS.Z,null)})};const qz=()=>null;function Jz(e){return!!(e&&!a.isValidElement(e)&&Object.prototype.toString.call(e)==="[object Object]")}function B_(e){return e.filter(t=>!t.disabled).map(t=>t.key)}const Qz=e=>e!==void 0,eN=e=>e&&typeof e=="object"?Object.assign(Object.assign({},e),{defaultValue:e.defaultValue||""}):{defaultValue:"",placeholder:""};var zw=e=>{const{prefixCls:t,dataSource:s=[],titleText:o="",checkedKeys:f,disabled:y,showSearch:C=!1,style:w,searchPlaceholder:I,notFoundContent:D,selectAll:L,deselectAll:z,selectCurrent:k,selectInvert:j,removeAll:Z,removeCurrent:G,showSelectAll:H=!0,showRemove:X,pagination:ne,direction:oe,itemsUnit:ae,itemUnit:ie,selectAllLabel:le,selectionsIcon:fe,footer:me,renderList:ge,onItemSelectAll:xe,onItemRemove:Me,handleFilter:$e,handleClear:Oe,filterOption:He,render:Ne=qz}=e,Ke=eN(C),[je,lt]=(0,a.useState)(Ke.defaultValue),ht=(0,a.useRef)({}),It=dr=>{lt(dr.target.value),$e(dr)},Tt=()=>{lt(""),Oe()},wt=(dr,cr)=>He?He(je,cr,oe):dr.includes(je),_t=dr=>{let cr=ge?ge(Object.assign(Object.assign({},dr),{onItemSelect:(ur,ti)=>dr.onItemSelect(ur,ti)})):null;const Zn=!!cr;return Zn||(cr=a.createElement(Yz,Object.assign({ref:ht},dr))),{customize:Zn,bodyContent:cr}},At=dr=>{const cr=Ne(dr),Zn=Jz(cr);return{item:dr,renderedEl:Zn?cr.label:cr,renderedText:Zn?cr.value:cr}},Bt=(0,a.useMemo)(()=>Array.isArray(D)?D[oe==="left"?0:1]:D,[D,oe]),[Dt,Gt]=(0,a.useMemo)(()=>{const dr=[],cr=[];return s.forEach(Zn=>{const ur=At(Zn);je&&!wt(ur.renderedText,Zn)||(dr.push(Zn),cr.push(ur))}),[dr,cr]},[s,je]),Pt=(0,a.useMemo)(()=>Dt.filter(dr=>f.includes(dr.key)&&!dr.disabled),[f,Dt]),Pn=(0,a.useMemo)(()=>{if(Pt.length===0)return"none";const dr=Bx(f);return Dt.every(cr=>dr.has(cr.key)||!!cr.disabled)?"all":"part"},[f,Pt]),Kn=(0,a.useMemo)(()=>{const dr=C?a.createElement("div",{className:`${t}-body-search-wrapper`},a.createElement(gT,{prefixCls:`${t}-search`,onChange:It,handleClear:Tt,placeholder:Ke.placeholder||I,value:je,disabled:y})):null,{customize:cr,bodyContent:Zn}=_t(Object.assign(Object.assign({},(0,$a.Z)(e,Gz)),{filteredItems:Dt,filteredRenderItems:Gt,selectedKeys:f}));let ur;return cr?ur=a.createElement("div",{className:`${t}-body-customize-wrapper`},Zn):ur=Dt.length?Zn:a.createElement("div",{className:`${t}-body-not-found`},Bt),a.createElement("div",{className:q()(`${t}-body`,{[`${t}-body-with-search`]:C})},dr,ur)},[C,t,I,je,y,f,Dt,Gt,Bt]),_n=a.createElement(nh,{disabled:s.filter(dr=>!dr.disabled).length===0||y,checked:Pn==="all",indeterminate:Pn==="part",className:`${t}-checkbox`,onChange:()=>{xe==null||xe(Dt.filter(dr=>!dr.disabled).map(dr=>{let{key:cr}=dr;return cr}),Pn!=="all")}}),Fn=(dr,cr)=>{if(le)return typeof le=="function"?le({selectedCount:dr,totalCount:cr}):le;const Zn=cr>1?ae:ie;return a.createElement(a.Fragment,null,(dr>0?`${dr}/`:"")+cr," ",Zn)},on=me&&(me.length<2?me(e):me(e,{direction:oe})),Zt=q()(t,{[`${t}-with-pagination`]:!!ne,[`${t}-with-footer`]:!!on}),Vn=on?a.createElement("div",{className:`${t}-footer`},on):null,Ln=!X&&!ne&&_n;let kr;X?kr=[ne?{key:"removeCurrent",label:G,onClick(){var dr;const cr=B_((((dr=ht.current)===null||dr===void 0?void 0:dr.items)||[]).map(Zn=>Zn.item));Me==null||Me(cr)}}:null,{key:"removeAll",label:Z,onClick(){Me==null||Me(B_(Dt))}}].filter(Boolean):kr=[{key:"selectAll",label:Pn==="all"?z:L,onClick(){const dr=B_(Dt);xe==null||xe(dr,dr.length!==f.length)}},ne?{key:"selectCurrent",label:k,onClick(){var dr;const cr=((dr=ht.current)===null||dr===void 0?void 0:dr.items)||[];xe==null||xe(B_(cr.map(Zn=>Zn.item)),!0)}}:null,{key:"selectInvert",label:j,onClick(){var dr;const cr=B_((((dr=ht.current)===null||dr===void 0?void 0:dr.items)||[]).map(ti=>ti.item)),Zn=new Set(f),ur=new Set(Zn);cr.forEach(ti=>{Zn.has(ti)?ur.delete(ti):ur.add(ti)}),xe==null||xe(Array.from(ur),"replace")}}];const Sr=a.createElement(fx,{className:`${t}-header-dropdown`,menu:{items:kr},disabled:y},Qz(fe)?fe:a.createElement(Ku.Z,null));return a.createElement("div",{className:Zt,style:w},a.createElement("div",{className:`${t}-header`},H?a.createElement(a.Fragment,null,Ln,Sr):null,a.createElement("span",{className:`${t}-header-selected`},Fn(Pt.length,Dt.length)),a.createElement("span",{className:`${t}-header-title`},o)),Kn,Vn)},vT=e=>{const{disabled:t,moveToLeft:s,moveToRight:o,leftArrowText:f="",rightArrowText:y="",leftActive:C,rightActive:w,className:I,style:D,direction:L,oneWay:z}=e;return a.createElement("div",{className:I,style:D},a.createElement(Or.ZP,{type:"primary",size:"small",disabled:t||!w,onClick:o,icon:L!=="rtl"?a.createElement(Kc.Z,null):a.createElement(vl,null)},y),!z&&a.createElement(Or.ZP,{type:"primary",size:"small",disabled:t||!C,onClick:s,icon:L!=="rtl"?a.createElement(vl,null):a.createElement(Kc.Z,null)},f))};const tN=e=>{const{antCls:t,componentCls:s,listHeight:o,controlHeightLG:f}=e,y=`${t}-table`,C=`${t}-input`;return{[`${s}-customize-list`]:{[`${s}-list`]:{flex:"1 1 50%",width:"auto",height:"auto",minHeight:o,minWidth:0},[`${y}-wrapper`]:{[`${y}-small`]:{border:0,borderRadius:0,[`${y}-selection-column`]:{width:f,minWidth:f}},[`${y}-pagination${y}-pagination`]:{margin:0,padding:e.paddingXS}},[`${C}[disabled]`]:{backgroundColor:"transparent"}}}},yT=(e,t)=>{const{componentCls:s,colorBorder:o}=e;return{[`${s}-list`]:{borderColor:t,"&-search:not([disabled])":{borderColor:o}}}},nN=e=>{const{componentCls:t}=e;return{[`${t}-status-error`]:Object.assign({},yT(e,e.colorError)),[`${t}-status-warning`]:Object.assign({},yT(e,e.colorWarning))}},rN=e=>{const{componentCls:t,colorBorder:s,colorSplit:o,lineWidth:f,itemHeight:y,headerHeight:C,transferHeaderVerticalPadding:w,itemPaddingBlock:I,controlItemBgActive:D,colorTextDisabled:L,colorTextSecondary:z,listHeight:k,listWidth:j,listWidthLG:Z,fontSizeIcon:G,marginXS:H,paddingSM:X,lineType:ne,antCls:oe,iconCls:ae,motionDurationSlow:ie,controlItemBgHover:le,borderRadiusLG:fe,colorBgContainer:me,colorText:ge,controlItemBgActiveHover:xe}=e,Me=(0,he.bf)(e.calc(fe).sub(f).equal());return{display:"flex",flexDirection:"column",width:j,height:k,border:`${(0,he.bf)(f)} ${ne} ${s}`,borderRadius:e.borderRadiusLG,"&-with-pagination":{width:Z,height:"auto"},"&-search":{[`${ae}-search`]:{color:L}},"&-header":{display:"flex",flex:"none",alignItems:"center",height:C,padding:`${(0,he.bf)(e.calc(w).sub(f).equal())} ${(0,he.bf)(X)} ${(0,he.bf)(w)}`,color:ge,background:me,borderBottom:`${(0,he.bf)(f)} ${ne} ${o}`,borderRadius:`${(0,he.bf)(fe)} ${(0,he.bf)(fe)} 0 0`,"> *:not(:last-child)":{marginInlineEnd:4},"> *":{flex:"none"},"&-title":Object.assign(Object.assign({},Qt.vS),{flex:"auto",textAlign:"end"}),"&-dropdown":Object.assign(Object.assign({},(0,Qt.Ro)()),{fontSize:G,transform:"translateY(10%)",cursor:"pointer","&[disabled]":{cursor:"not-allowed"}})},"&-body":{display:"flex",flex:"auto",flexDirection:"column",fontSize:e.fontSize,minHeight:0,"&-search-wrapper":{position:"relative",flex:"none",padding:X}},"&-content":{flex:"auto",margin:0,padding:0,overflow:"auto",listStyle:"none",borderRadius:`0 0 ${Me} ${Me}`,"&-item":{display:"flex",alignItems:"center",minHeight:y,padding:`${(0,he.bf)(I)} ${(0,he.bf)(X)}`,transition:`all ${ie}`,"> *:not(:last-child)":{marginInlineEnd:H},"> *":{flex:"none"},"&-text":Object.assign(Object.assign({},Qt.vS),{flex:"auto"}),"&-remove":Object.assign(Object.assign({},(0,Qt.Nd)(e)),{color:s,"&:hover, &:focus":{color:z}}),[`&:not(${t}-list-content-item-disabled)`]:{"&:hover":{backgroundColor:le,cursor:"pointer"},[`&${t}-list-content-item-checked:hover`]:{backgroundColor:xe}},"&-checked":{backgroundColor:D},"&-disabled":{color:L,cursor:"not-allowed"}},[`&-show-remove ${t}-list-content-item:not(${t}-list-content-item-disabled):hover`]:{background:"transparent",cursor:"default"}},"&-pagination":{padding:e.paddingXS,textAlign:"end",borderTop:`${(0,he.bf)(f)} ${ne} ${o}`,[`${oe}-pagination-options`]:{paddingInlineEnd:e.paddingXS}},"&-body-not-found":{flex:"none",width:"100%",margin:"auto 0",color:L,textAlign:"center"},"&-footer":{borderTop:`${(0,he.bf)(f)} ${ne} ${o}`},"&-checkbox":{lineHeight:1}}},iN=e=>{const{antCls:t,iconCls:s,componentCls:o,marginXS:f,marginXXS:y,fontSizeIcon:C,colorBgContainerDisabled:w}=e;return{[o]:Object.assign(Object.assign({},(0,Qt.Wf)(e)),{position:"relative",display:"flex",alignItems:"stretch",[`${o}-disabled`]:{[`${o}-list`]:{background:w}},[`${o}-list`]:rN(e),[`${o}-operation`]:{display:"flex",flex:"none",flexDirection:"column",alignSelf:"center",margin:`0 ${(0,he.bf)(f)}`,verticalAlign:"middle",gap:y,[`${t}-btn ${s}`]:{fontSize:C}}})}},oN=e=>{const{componentCls:t}=e;return{[`${t}-rtl`]:{direction:"rtl"}}},aN=e=>{const{fontSize:t,lineHeight:s,controlHeight:o,controlHeightLG:f,lineWidth:y}=e,C=Math.round(t*s);return{listWidth:180,listHeight:200,listWidthLG:250,headerHeight:f,itemHeight:o,itemPaddingBlock:(o-C)/2,transferHeaderVerticalPadding:Math.ceil((f-y-C)/2)}};var sN=(0,te.I$)("Transfer",e=>{const t=(0,ci.IX)(e);return[iN(t),tN(t),nN(t),oN(t)]},aN);const kx=e=>{const{dataSource:t,targetKeys:s=[],selectedKeys:o,selectAllLabels:f=[],operations:y=[],style:C={},listStyle:w={},locale:I={},titles:D,disabled:L,showSearch:z=!1,operationStyle:k,showSelectAll:j,oneWay:Z,pagination:G,status:H,prefixCls:X,className:ne,rootClassName:oe,selectionsIcon:ae,filterOption:ie,render:le,footer:fe,children:me,rowKey:ge,onScroll:xe,onChange:Me,onSearch:$e,onSelectChange:Oe}=e,{getPrefixCls:He,renderEmpty:Ne,direction:Ke,transfer:je}=(0,a.useContext)(ye.E_),lt=He("transfer",X),[ht,It,Tt]=sN(lt),[wt,_t,At]=Nz(t,ge,s),[Bt,Dt,Gt,Pt]=kz(_t,At,o),[Pn,Kn]=vw(Do=>Do.key),[_n,Fn]=vw(Do=>Do.key),on=(0,a.useCallback)((Do,na)=>{if(Do==="left"){const Ra=typeof na=="function"?na(Bt||[]):na;Gt(Ra)}else{const Ra=typeof na=="function"?na(Dt||[]):na;Pt(Ra)}},[Bt,Dt]),Zt=(Do,na)=>{(Do==="left"?Kn:Fn)(na)},Vn=(0,a.useCallback)((Do,na)=>{Do==="left"?Oe==null||Oe(na,Dt):Oe==null||Oe(Bt,na)},[Bt,Dt]),Ln=Do=>{var na;return(na=D!=null?D:Do.titles)!==null&&na!==void 0?na:[]},kr=Do=>{xe==null||xe("left",Do)},Sr=Do=>{xe==null||xe("right",Do)},dr=Do=>{const na=Do==="right"?Bt:Dt,Ra=zz(wt),Ka=na.filter(bl=>!Ra.has(bl)),ls=Bx(Ka),ll=Do==="right"?Ka.concat(s):s.filter(bl=>!ls.has(bl)),Pl=Do==="right"?"left":"right";on(Pl,[]),Vn(Pl,[]),Me==null||Me(ll,Do,Ka)},cr=()=>{dr("left"),Zt("left",null)},Zn=()=>{dr("right"),Zt("right",null)},ur=(Do,na,Ra)=>{on(Do,Ka=>{let ls=[];if(Ra==="replace")ls=na;else if(Ra)ls=Array.from(new Set([].concat((0,be.Z)(Ka),(0,be.Z)(na))));else{const ll=Bx(na);ls=Ka.filter(Pl=>!ll.has(Pl))}return Vn(Do,ls),ls}),Zt(Do,null)},ti=(Do,na)=>{ur("left",Do,na)},Ei=(Do,na)=>{ur("right",Do,na)},ki=Do=>$e==null?void 0:$e("left",Do.target.value),qi=Do=>$e==null?void 0:$e("right",Do.target.value),Ho=()=>$e==null?void 0:$e("left",""),Li=()=>$e==null?void 0:$e("right",""),bi=(Do,na,Ra,Ka,ls)=>{na.has(Ra)&&(na.delete(Ra),Zt(Do,null)),Ka&&(na.add(Ra),Zt(Do,ls))},$i=(Do,na,Ra,Ka)=>{(Do==="left"?Pn:_n)(Ka,na,Ra)},go=(Do,na,Ra,Ka)=>{const ls=Do==="left",ll=(0,be.Z)(ls?Bt:Dt),Pl=new Set(ll),bl=(0,be.Z)(ls?_t:At).filter(Jo=>!(Jo!=null&&Jo.disabled)),Zl=bl.findIndex(Jo=>Jo.key===na);Ka&&ll.length>0?$i(Do,bl,Pl,Zl):bi(Do,Pl,na,Ra,Zl);const pa=Array.from(Pl);Vn(Do,pa),e.selectedKeys||on(Do,pa)},Gi=(Do,na,Ra)=>{go("left",Do,na,Ra==null?void 0:Ra.shiftKey)},ko=(Do,na,Ra)=>{go("right",Do,na,Ra==null?void 0:Ra.shiftKey)},Er=Do=>{on("right",[]),Me==null||Me(s.filter(na=>!Do.includes(na)),"left",(0,be.Z)(Do))},Mr=Do=>typeof w=="function"?w({direction:Do}):w||{},Zr=(0,a.useContext)(ou.aM),{hasFeedback:tr,status:yi}=Zr,Ui=Do=>Object.assign(Object.assign(Object.assign({},Do),{notFoundContent:(Ne==null?void 0:Ne("Transfer"))||a.createElement(Qf.Z,{componentName:"Transfer"})}),I),xo=(0,Vc.F)(yi,H),ra=!me&&G,Aa=At.filter(Do=>Dt.includes(Do.key)&&!Do.disabled).length>0,oa=_t.filter(Do=>Bt.includes(Do.key)&&!Do.disabled).length>0,Ss=q()(lt,{[`${lt}-disabled`]:L,[`${lt}-customize-list`]:!!me,[`${lt}-rtl`]:Ke==="rtl"},(0,Vc.Z)(lt,xo,tr),je==null?void 0:je.className,ne,oe,It,Tt),[Va]=(0,En.Z)("Transfer",du.Z.Transfer),Ga=Ui(Va),[_a,ns]=Ln(Ga),zs=ae!=null?ae:je==null?void 0:je.selectionsIcon;return ht(a.createElement("div",{className:Ss,style:Object.assign(Object.assign({},je==null?void 0:je.style),C)},a.createElement(zw,Object.assign({prefixCls:`${lt}-list`,titleText:_a,dataSource:_t,filterOption:ie,style:Mr("left"),checkedKeys:Bt,handleFilter:ki,handleClear:Ho,onItemSelect:Gi,onItemSelectAll:ti,render:le,showSearch:z,renderList:me,footer:fe,onScroll:kr,disabled:L,direction:Ke==="rtl"?"right":"left",showSelectAll:j,selectAllLabel:f[0],pagination:ra,selectionsIcon:zs},Ga)),a.createElement(vT,{className:`${lt}-operation`,rightActive:oa,rightArrowText:y[0],moveToRight:Zn,leftActive:Aa,leftArrowText:y[1],moveToLeft:cr,style:k,disabled:L,direction:Ke,oneWay:Z}),a.createElement(zw,Object.assign({prefixCls:`${lt}-list`,titleText:ns,dataSource:At,filterOption:ie,style:Mr("right"),checkedKeys:Dt,handleFilter:qi,handleClear:Li,onItemSelect:ko,onItemSelectAll:Ei,onItemRemove:Er,render:le,showSearch:z,renderList:me,footer:fe,onScroll:Sr,disabled:L,direction:Ke==="rtl"?"left":"right",showSelectAll:j,selectAllLabel:f[1],showRemove:Z,pagination:ra,selectionsIcon:zs},Ga))))};kx.List=zw,kx.Search=gT,kx.Operation=vT;var lN=kx,cN=function(e){var t=a.useRef({valueLabels:new Map});return a.useMemo(function(){var s=t.current.valueLabels,o=new Map,f=e.map(function(y){var C=y.value,w=y.label,I=w!=null?w:s.get(C);return o.set(C,I),(0,Y.Z)((0,Y.Z)({},y),{},{label:I})});return t.current.valueLabels=o,[f]},[e])},uN=function(t,s,o,f){return a.useMemo(function(){var y=function(j){return j.map(function(Z){var G=Z.value;return G})},C=y(t),w=y(s),I=C.filter(function(k){return!f[k]}),D=C,L=w;if(o){var z=(0,Ld.S)(C,!0,f);D=z.checkedKeys,L=z.halfCheckedKeys}return[Array.from(new Set([].concat((0,be.Z)(I),(0,be.Z)(D)))),L]},[t,s,o,f])},dN=uN,fN=function(e,t){return a.useMemo(function(){var s=(0,Jf.I8)(e,{fieldNames:t,initWrapper:function(f){return(0,Y.Z)((0,Y.Z)({},f),{},{valueEntities:new Map})},processEntity:function(f,y){var C=f.node[t.value];if(0)var w;y.valueEntities.set(C,f)}});return s},[e,t])},hN=function(){return null},Nw=hN,pN=["children","value"];function _T(e){return(0,Gl.Z)(e).map(function(t){if(!a.isValidElement(t)||!t.type)return null;var s=t,o=s.key,f=s.props,y=f.children,C=f.value,w=(0,de.Z)(f,pN),I=(0,Y.Z)({key:o,value:C},w),D=_T(y);return D.length&&(I.children=D),I}).filter(function(t){return t})}function Bw(e){if(!e)return e;var t=(0,Y.Z)({},e);return"props"in t||Object.defineProperty(t,"props",{get:function(){return(0,li.ZP)(!1,"New `rc-tree-select` not support return node instance as argument anymore. Please consider to remove `props` access."),t}}),t}function mN(e,t,s,o,f,y){var C=null,w=null;function I(){function D(L){var z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"0",k=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return L.map(function(j,Z){var G="".concat(z,"-").concat(Z),H=j[y.value],X=s.includes(H),ne=D(j[y.children]||[],G,X),oe=a.createElement(Nw,j,ne.map(function(ie){return ie.node}));if(t===H&&(C=oe),X){var ae={pos:G,node:oe,children:ne};return k||w.push(ae),ae}return null}).filter(function(j){return j})}w||(w=[],D(o),w.sort(function(L,z){var k=L.node.props.value,j=z.node.props.value,Z=s.indexOf(k),G=s.indexOf(j);return Z-G}))}Object.defineProperty(e,"triggerNode",{get:function(){return(0,li.ZP)(!1,"`triggerNode` is deprecated. Please consider decoupling data with node."),I(),C}}),Object.defineProperty(e,"allCheckedNodes",{get:function(){return(0,li.ZP)(!1,"`allCheckedNodes` is deprecated. Please consider decoupling data with node."),I(),f?w:w.map(function(L){var z=L.node;return z})}})}var gN=function(t,s,o){var f=o.fieldNames,y=o.treeNodeFilterProp,C=o.filterTreeNode,w=f.children;return a.useMemo(function(){if(!s||C===!1)return t;var I=typeof C=="function"?C:function(L,z){return String(z[y]).toUpperCase().includes(s.toUpperCase())},D=function L(z){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return z.reduce(function(j,Z){var G=Z[w],H=k||I(s,Bw(Z)),X=L(G||[],H);return(H||X.length)&&j.push((0,Y.Z)((0,Y.Z)({},Z),{},(0,pe.Z)({isLeaf:void 0},w,X))),j},[])};return D(t)},[t,s,w,y,C])},vN=gN;function bT(e){var t=a.useRef();t.current=e;var s=a.useCallback(function(){return t.current.apply(t,arguments)},[]);return s}function yN(e,t){var s=t.id,o=t.pId,f=t.rootPId,y=new Map,C=[];return e.forEach(function(w){var I=w[s],D=(0,Y.Z)((0,Y.Z)({},w),{},{key:w.key||I});y.set(I,D)}),y.forEach(function(w){var I=w[o],D=y.get(I);D?(D.children=D.children||[],D.children.push(w)):(I===f||f===null)&&C.push(w)}),C}function _N(e,t,s){return a.useMemo(function(){if(e){if(s){var o=(0,Y.Z)({id:"id",pId:"pId",rootPId:null},(0,nt.Z)(s)==="object"?s:{});return yN(e,o)}return e}return _T(t)},[t,s,e])}var bN=a.createContext(null),xT=bN,xN=a.createContext(null),CT=xN,CN=function(t){return Array.isArray(t)?t:t!==void 0?[t]:[]},SN=function(t){var s=t||{},o=s.label,f=s.value,y=s.children;return{_title:o?[o]:["title","label"],value:f||"value",key:f||"value",children:y||"children"}},Fw=function(t){return!t||t.disabled||t.disableCheckbox||t.checkable===!1},wN=function(t,s){var o=[],f=function y(C){C.forEach(function(w){var I=w[s.children];I&&(o.push(w[s.value]),y(I))})};return f(t),o},ST=function(t){return t==null},EN={width:0,height:0,display:"flex",overflow:"hidden",opacity:0,border:0,padding:0,margin:0},IN=function(t,s){var o=(0,rv.lk)(),f=o.prefixCls,y=o.multiple,C=o.searchValue,w=o.toggleOpen,I=o.open,D=o.notFoundContent,L=a.useContext(CT),z=L.virtual,k=L.listHeight,j=L.listItemHeight,Z=L.listItemScrollOffset,G=L.treeData,H=L.fieldNames,X=L.onSelect,ne=L.dropdownMatchSelectWidth,oe=L.treeExpandAction,ae=L.treeTitleRender,ie=L.onPopupScroll,le=L.leftMaxCount,fe=L.leafCountOnly,me=L.valueEntities,ge=a.useContext(xT),xe=ge.checkable,Me=ge.checkedKeys,$e=ge.halfCheckedKeys,Oe=ge.treeExpandedKeys,He=ge.treeDefaultExpandAll,Ne=ge.treeDefaultExpandedKeys,Ke=ge.onTreeExpand,je=ge.treeIcon,lt=ge.showTreeIcon,ht=ge.switcherIcon,It=ge.treeLine,Tt=ge.treeNodeFilterProp,wt=ge.loadData,_t=ge.treeLoadedKeys,At=ge.treeMotion,Bt=ge.onTreeLoad,Dt=ge.keyEntities,Gt=a.useRef(),Pt=(0,Qd.Z)(function(){return G},[I,G],function(Ui,xo){return xo[0]&&Ui[1]!==xo[1]}),Pn=a.useMemo(function(){return xe?{checked:Me,halfChecked:$e}:null},[xe,Me,$e]);a.useEffect(function(){if(I&&!y&&Me.length){var Ui;(Ui=Gt.current)===null||Ui===void 0||Ui.scrollTo({key:Me[0]})}},[I]);var Kn=function(xo){xo.preventDefault()},_n=function(xo,ra){var Aa=ra.node;xe&&Fw(Aa)||(X(Aa.key,{selected:!Me.includes(Aa.key)}),y||w(!1))},Fn=a.useState(Ne),on=(0,Re.Z)(Fn,2),Zt=on[0],Vn=on[1],Ln=a.useState(null),kr=(0,Re.Z)(Ln,2),Sr=kr[0],dr=kr[1],cr=a.useMemo(function(){return Oe?(0,be.Z)(Oe):C?Sr:Zt},[Zt,Sr,Oe,C]),Zn=function(xo){Vn(xo),dr(xo),Ke&&Ke(xo)},ur=String(C).toLowerCase(),ti=function(xo){return ur?String(xo[Tt]).toLowerCase().includes(ur):!1};a.useEffect(function(){C&&dr(wN(G,H))},[C]);var Ei=a.useState(function(){return new Map}),ki=(0,Re.Z)(Ei,2),qi=ki[0],Ho=ki[1];a.useEffect(function(){le&&Ho(new Map)},[le]);function Li(Ui){var xo=Ui[H.value];if(!qi.has(xo)){var ra=me.get(xo),Aa=(ra.children||[]).length===0;if(Aa)qi.set(xo,!1);else{var oa=ra.children.filter(function(Va){return!Va.node.disabled&&!Va.node.disableCheckbox&&!Me.includes(Va.node[H.value])}),Ss=oa.length;qi.set(xo,Ss>le)}}return qi.get(xo)}var bi=(0,Ls.zX)(function(Ui){var xo=Ui[H.value];return Me.includes(xo)||le===null?!1:le<=0?!0:fe&&le?Li(Ui):!1}),$i=function Ui(xo){var ra=Fg(xo),Aa;try{for(ra.s();!(Aa=ra.n()).done;){var oa=Aa.value;if(!(oa.disabled||oa.selectable===!1)){if(C){if(ti(oa))return oa}else return oa;if(oa[H.children]){var Ss=Ui(oa[H.children]);if(Ss)return Ss}}}}catch(Va){ra.e(Va)}finally{ra.f()}return null},go=a.useState(null),Gi=(0,Re.Z)(go,2),ko=Gi[0],Er=Gi[1],Mr=Dt[ko];a.useEffect(function(){if(I){var Ui=null,xo=function(){var Aa=$i(Pt);return Aa?Aa[H.value]:null};!y&&Me.length&&!C?Ui=Me[0]:Ui=xo(),Er(Ui)}},[I,C]),a.useImperativeHandle(s,function(){var Ui;return{scrollTo:(Ui=Gt.current)===null||Ui===void 0?void 0:Ui.scrollTo,onKeyDown:function(ra){var Aa,oa=ra.which;switch(oa){case rt.Z.UP:case rt.Z.DOWN:case rt.Z.LEFT:case rt.Z.RIGHT:(Aa=Gt.current)===null||Aa===void 0||Aa.onKeyDown(ra);break;case rt.Z.ENTER:{if(Mr){var Ss=bi(Mr.node),Va=(Mr==null?void 0:Mr.node)||{},Ga=Va.selectable,_a=Va.value,ns=Va.disabled;Ga!==!1&&!ns&&!Ss&&_n(null,{node:{key:ko},selected:!Me.includes(_a)})}break}case rt.Z.ESC:w(!1)}},onKeyUp:function(){}}});var Zr=(0,Qd.Z)(function(){return!C},[C,Oe||Zt],function(Ui,xo){var ra=(0,Re.Z)(Ui,1),Aa=ra[0],oa=(0,Re.Z)(xo,2),Ss=oa[0],Va=oa[1];return Aa!==Ss&&!!(Ss||Va)}),tr=Zr?wt:null;if(Pt.length===0)return a.createElement("div",{role:"listbox",className:"".concat(f,"-empty"),onMouseDown:Kn},D);var yi={fieldNames:H};return _t&&(yi.loadedKeys=_t),cr&&(yi.expandedKeys=cr),a.createElement("div",{onMouseDown:Kn},Mr&&I&&a.createElement("span",{style:EN,"aria-live":"assertive"},Mr.node.value),a.createElement(Ax.y6.Provider,{value:{nodeDisabled:bi}},a.createElement(Ax.ZP,(0,Ge.Z)({ref:Gt,focusable:!1,prefixCls:"".concat(f,"-tree"),treeData:Pt,height:k,itemHeight:j,itemScrollOffset:Z,virtual:z!==!1&&ne!==!1,multiple:y,icon:je,showIcon:lt,switcherIcon:ht,showLine:It,loadData:tr,motion:At,activeKey:ko,checkable:xe,checkStrictly:!0,checkedKeys:Pn,selectedKeys:xe?[]:Me,defaultExpandAll:He,titleRender:ae},yi,{onActiveChange:Er,onSelect:_n,onCheck:_n,onExpand:Zn,onLoad:Bt,filterTreeNode:ti,expandAction:oe,onScroll:ie}))))},TN=a.forwardRef(IN),MN=TN,kw="SHOW_ALL",Zw="SHOW_PARENT",Zx="SHOW_CHILD";function wT(e,t,s,o){var f=new Set(e);return t===Zx?e.filter(function(y){var C=s[y];return!C||!C.children||!C.children.some(function(w){var I=w.node;return f.has(I[o.value])})||!C.children.every(function(w){var I=w.node;return Fw(I)||f.has(I[o.value])})}):t===Zw?e.filter(function(y){var C=s[y],w=C?C.parent:null;return!w||Fw(w.node)||!f.has(w.key)}):e}function yk(e){var t=e.searchPlaceholder,s=e.treeCheckStrictly,o=e.treeCheckable,f=e.labelInValue,y=e.value,C=e.multiple,w=e.showCheckedStrategy,I=e.maxCount;warning(!t,"`searchPlaceholder` has been removed."),s&&f===!1&&warning(!1,"`treeCheckStrictly` will force set `labelInValue` to `true`."),(f||s)&&warning(toArray(y).every(function(D){return D&&_typeof(D)==="object"&&"value"in D}),"Invalid prop `value` supplied to `TreeSelect`. You should use { label: string, value: string | number } or [{ label: string, value: string | number }] instead."),s||C||o?warning(!y||Array.isArray(y),"`value` should be an array when `TreeSelect` is checkable or multiple."):warning(!Array.isArray(y),"`value` should not be array when `TreeSelect` is single mode."),I&&(w==="SHOW_ALL"&&!s||w==="SHOW_PARENT")&&warning(!1,"`maxCount` not work with `showCheckedStrategy=SHOW_ALL` (when `treeCheckStrictly=false`) or `showCheckedStrategy=SHOW_PARENT`.")}var _k=null,PN=["id","prefixCls","value","defaultValue","onChange","onSelect","onDeselect","searchValue","inputValue","onSearch","autoClearSearchValue","filterTreeNode","treeNodeFilterProp","showCheckedStrategy","treeNodeLabelProp","multiple","treeCheckable","treeCheckStrictly","labelInValue","maxCount","fieldNames","treeDataSimpleMode","treeData","children","loadData","treeLoadedKeys","onTreeLoad","treeDefaultExpandAll","treeExpandedKeys","treeDefaultExpandedKeys","onTreeExpand","treeExpandAction","virtual","listHeight","listItemHeight","listItemScrollOffset","onDropdownVisibleChange","dropdownMatchSelectWidth","treeLine","treeIcon","showTreeIcon","switcherIcon","treeMotion","treeTitleRender","onPopupScroll"];function ON(e){return!e||(0,nt.Z)(e)!=="object"}var RN=a.forwardRef(function(e,t){var s=e.id,o=e.prefixCls,f=o===void 0?"rc-tree-select":o,y=e.value,C=e.defaultValue,w=e.onChange,I=e.onSelect,D=e.onDeselect,L=e.searchValue,z=e.inputValue,k=e.onSearch,j=e.autoClearSearchValue,Z=j===void 0?!0:j,G=e.filterTreeNode,H=e.treeNodeFilterProp,X=H===void 0?"value":H,ne=e.showCheckedStrategy,oe=e.treeNodeLabelProp,ae=e.multiple,ie=e.treeCheckable,le=e.treeCheckStrictly,fe=e.labelInValue,me=e.maxCount,ge=e.fieldNames,xe=e.treeDataSimpleMode,Me=e.treeData,$e=e.children,Oe=e.loadData,He=e.treeLoadedKeys,Ne=e.onTreeLoad,Ke=e.treeDefaultExpandAll,je=e.treeExpandedKeys,lt=e.treeDefaultExpandedKeys,ht=e.onTreeExpand,It=e.treeExpandAction,Tt=e.virtual,wt=e.listHeight,_t=wt===void 0?200:wt,At=e.listItemHeight,Bt=At===void 0?20:At,Dt=e.listItemScrollOffset,Gt=Dt===void 0?0:Dt,Pt=e.onDropdownVisibleChange,Pn=e.dropdownMatchSelectWidth,Kn=Pn===void 0?!0:Pn,_n=e.treeLine,Fn=e.treeIcon,on=e.showTreeIcon,Zt=e.switcherIcon,Vn=e.treeMotion,Ln=e.treeTitleRender,kr=e.onPopupScroll,Sr=(0,de.Z)(e,PN),dr=(0,i_.ZP)(s),cr=ie&&!le,Zn=ie||le,ur=le||fe,ti=Zn||ae,Ei=(0,Cs.Z)(C,{value:y}),ki=(0,Re.Z)(Ei,2),qi=ki[0],Ho=ki[1],Li=a.useMemo(function(){return ie?ne||Zx:kw},[ne,ie]),bi=a.useMemo(function(){return SN(ge)},[JSON.stringify(ge)]),$i=(0,Cs.Z)("",{value:L!==void 0?L:z,postState:function(Ea){return Ea||""}}),go=(0,Re.Z)($i,2),Gi=go[0],ko=go[1],Er=function(Ea){ko(Ea),k==null||k(Ea)},Mr=_N(Me,$e,xe),Zr=fN(Mr,bi),tr=Zr.keyEntities,yi=Zr.valueEntities,Ui=a.useCallback(function(Za){var Ea=[],vs=[];return Za.forEach(function(ys){yi.has(ys)?vs.push(ys):Ea.push(ys)}),{missingRawValues:Ea,existRawValues:vs}},[yi]),xo=vN(Mr,Gi,{fieldNames:bi,treeNodeFilterProp:X,filterTreeNode:G}),ra=a.useCallback(function(Za){if(Za){if(oe)return Za[oe];for(var Ea=bi._title,vs=0;vs<Ea.length;vs+=1){var ys=Za[Ea[vs]];if(ys!==void 0)return ys}}},[bi,oe]),Aa=a.useCallback(function(Za){var Ea=CN(Za);return Ea.map(function(vs){return ON(vs)?{value:vs}:vs})},[]),oa=a.useCallback(function(Za){var Ea=Aa(Za);return Ea.map(function(vs){var ys=vs.label,qs=vs.value,Ca=vs.halfChecked,Go,Da=yi.get(qs);if(Da){var ds;ys=Ln?Ln(Da.node):(ds=ys)!==null&&ds!==void 0?ds:ra(Da.node),Go=Da.node.disabled}else if(ys===void 0){var ks=Aa(qi).find(function(Js){return Js.value===qs});ys=ks.label}return{label:ys,value:qs,halfChecked:Ca,disabled:Go}})},[yi,ra,Aa,qi]),Ss=a.useMemo(function(){return Aa(qi===null?[]:qi)},[Aa,qi]),Va=a.useMemo(function(){var Za=[],Ea=[];return Ss.forEach(function(vs){vs.halfChecked?Ea.push(vs):Za.push(vs)}),[Za,Ea]},[Ss]),Ga=(0,Re.Z)(Va,2),_a=Ga[0],ns=Ga[1],zs=a.useMemo(function(){return _a.map(function(Za){return Za.value})},[_a]),Do=dN(_a,ns,cr,tr),na=(0,Re.Z)(Do,2),Ra=na[0],Ka=na[1],ls=a.useMemo(function(){var Za=wT(Ra,Li,tr,bi),Ea=Za.map(function(Ca){var Go,Da;return(Go=(Da=tr[Ca])===null||Da===void 0||(Da=Da.node)===null||Da===void 0?void 0:Da[bi.value])!==null&&Go!==void 0?Go:Ca}),vs=Ea.map(function(Ca){var Go=_a.find(function(ds){return ds.value===Ca}),Da=fe?Go==null?void 0:Go.label:Ln==null?void 0:Ln(Go);return{value:Ca,label:Da}}),ys=oa(vs),qs=ys[0];return!ti&&qs&&ST(qs.value)&&ST(qs.label)?[]:ys.map(function(Ca){var Go;return(0,Y.Z)((0,Y.Z)({},Ca),{},{label:(Go=Ca.label)!==null&&Go!==void 0?Go:Ca.value})})},[bi,ti,Ra,_a,oa,Li,tr]),ll=cN(ls),Pl=(0,Re.Z)(ll,1),bl=Pl[0],Zl=a.useMemo(function(){return ti&&(Li==="SHOW_CHILD"||le||!ie)?me:null},[me,ti,le,Li,ie]),pa=bT(function(Za,Ea,vs){var ys=wT(Za,Li,tr,bi);if(!(Zl&&ys.length>Zl)){var qs=oa(Za);if(Ho(qs),Z&&ko(""),w){var Ca=Za;cr&&(Ca=ys.map(function(ws){var Ol=yi.get(ws);return Ol?Ol.node[bi.value]:ws}));var Go=Ea||{triggerValue:void 0,selected:void 0},Da=Go.triggerValue,ds=Go.selected,ks=Ca;if(le){var Js=ns.filter(function(ws){return!Ca.includes(ws.value)});ks=[].concat((0,be.Z)(ks),(0,be.Z)(Js))}var Jl=oa(ks),Qs={preValue:_a,triggerValue:Da},La=!0;(le||vs==="selection"&&!ds)&&(La=!1),mN(Qs,Da,Za,Mr,La,bi),Zn?Qs.checked=ds:Qs.selected=ds;var us=ur?Jl:Jl.map(function(ws){return ws.value});w(ti?us:us[0],ur?null:Jl.map(function(ws){return ws.label}),Qs)}}}),Jo=a.useCallback(function(Za,Ea){var vs,ys=Ea.selected,qs=Ea.source,Ca=tr[Za],Go=Ca==null?void 0:Ca.node,Da=(vs=Go==null?void 0:Go[bi.value])!==null&&vs!==void 0?vs:Za;if(!ti)pa([Da],{selected:!0,triggerValue:Da},"option");else{var ds=ys?[].concat((0,be.Z)(zs),[Da]):Ra.filter(function(Ol){return Ol!==Da});if(cr){var ks=Ui(ds),Js=ks.missingRawValues,Jl=ks.existRawValues,Qs=Jl.map(function(Ol){return yi.get(Ol).key}),La;if(ys){var us=(0,Ld.S)(Qs,!0,tr);La=us.checkedKeys}else{var ws=(0,Ld.S)(Qs,{checked:!1,halfCheckedKeys:Ka},tr);La=ws.checkedKeys}ds=[].concat((0,be.Z)(Js),(0,be.Z)(La.map(function(Ol){return tr[Ol].node[bi.value]})))}pa(ds,{selected:ys,triggerValue:Da},qs||"option")}ys||!ti?I==null||I(Da,Bw(Go)):D==null||D(Da,Bw(Go))},[Ui,yi,tr,bi,ti,zs,pa,cr,I,D,Ra,Ka,me]),Qo=a.useCallback(function(Za){if(Pt){var Ea={};Object.defineProperty(Ea,"documentClickClose",{get:function(){return(0,li.ZP)(!1,"Second param of `onDropdownVisibleChange` has been removed."),!1}}),Pt(Za,Ea)}},[Pt]),Wo=bT(function(Za,Ea){var vs=Za.map(function(ys){return ys.value});if(Ea.type==="clear"){pa(vs,{},"selection");return}Ea.values.length&&Jo(Ea.values[0].value,{selected:!1,source:"selection"})}),cs=a.useMemo(function(){return{virtual:Tt,dropdownMatchSelectWidth:Kn,listHeight:_t,listItemHeight:Bt,listItemScrollOffset:Gt,treeData:xo,fieldNames:bi,onSelect:Jo,treeExpandAction:It,treeTitleRender:Ln,onPopupScroll:kr,leftMaxCount:me===void 0?null:me-bl.length,leafCountOnly:Li==="SHOW_CHILD"&&!le&&!!ie,valueEntities:yi}},[Tt,Kn,_t,Bt,Gt,xo,bi,Jo,It,Ln,kr,me,bl.length,Li,le,ie,yi]),Ns=a.useMemo(function(){return{checkable:Zn,loadData:Oe,treeLoadedKeys:He,onTreeLoad:Ne,checkedKeys:Ra,halfCheckedKeys:Ka,treeDefaultExpandAll:Ke,treeExpandedKeys:je,treeDefaultExpandedKeys:lt,onTreeExpand:ht,treeIcon:Fn,treeMotion:Vn,showTreeIcon:on,switcherIcon:Zt,treeLine:_n,treeNodeFilterProp:X,keyEntities:tr}},[Zn,Oe,He,Ne,Ra,Ka,Ke,je,lt,ht,Fn,Vn,on,Zt,_n,X,tr]);return a.createElement(CT.Provider,{value:cs},a.createElement(xT.Provider,{value:Ns},a.createElement(rv.Ac,(0,Ge.Z)({ref:t},Sr,{id:dr,prefixCls:f,mode:ti?"multiple":void 0,displayValues:bl,onDisplayValuesChange:Wo,searchValue:Gi,onSearch:Er,OptionList:MN,emptyOptions:!Mr.length,onDropdownVisibleChange:Qo,dropdownMatchSelectWidth:Kn}))))}),F_=RN;F_.TreeNode=Nw,F_.SHOW_ALL=kw,F_.SHOW_PARENT=Zw,F_.SHOW_CHILD=Zx;var $N=F_,AN=$N;const DN=e=>{const{componentCls:t,treePrefixCls:s,colorBgElevated:o}=e,f=`.${s}`;return[{[`${t}-dropdown`]:[{padding:`${(0,he.bf)(e.paddingXS)} ${(0,he.bf)(e.calc(e.paddingXS).div(2).equal())}`},PI(s,(0,ci.IX)(e,{colorBgContainer:o})),{[f]:{borderRadius:0,[`${f}-list-holder-inner`]:{alignItems:"stretch",[`${f}-treenode`]:{[`${f}-node-content-wrapper`]:{flex:"auto"}}}}},au(`${s}-checkbox`,e),{"&-rtl":{direction:"rtl",[`${f}-switcher${f}-switcher_close`]:{[`${f}-switcher-icon svg`]:{transform:"rotate(90deg)"}}}}]}]},bk=null;function LN(e,t,s){return(0,te.I$)("TreeSelect",o=>{const f=(0,ci.IX)(o,{treePrefixCls:t});return[DN(f)]},OI)(e,s)}var zN=function(e,t){var s={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(s[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(s[o[f]]=e[o[f]]);return s};const NN=(e,t)=>{var s;const{prefixCls:o,size:f,disabled:y,bordered:C=!0,className:w,rootClassName:I,treeCheckable:D,multiple:L,listHeight:z=256,listItemHeight:k,placement:j,notFoundContent:Z,switcherIcon:G,treeLine:H,getPopupContainer:X,popupClassName:ne,dropdownClassName:oe,treeIcon:ae=!1,transitionName:ie,choiceTransitionName:le="",status:fe,treeExpandAction:me,builtinPlacements:ge,dropdownMatchSelectWidth:xe,popupMatchSelectWidth:Me,allowClear:$e,variant:Oe,dropdownStyle:He,tagRender:Ne,maxCount:Ke,showCheckedStrategy:je,treeCheckStrictly:lt}=e,ht=zN(e,["prefixCls","size","disabled","bordered","className","rootClassName","treeCheckable","multiple","listHeight","listItemHeight","placement","notFoundContent","switcherIcon","treeLine","getPopupContainer","popupClassName","dropdownClassName","treeIcon","transitionName","choiceTransitionName","status","treeExpandAction","builtinPlacements","dropdownMatchSelectWidth","popupMatchSelectWidth","allowClear","variant","dropdownStyle","tagRender","maxCount","showCheckedStrategy","treeCheckStrictly"]),{getPopupContainer:It,getPrefixCls:Tt,renderEmpty:wt,direction:_t,virtual:At,popupMatchSelectWidth:Bt,popupOverflow:Dt}=a.useContext(ye.E_),[,Gt]=(0,Qn.ZP)(),Pt=k!=null?k:(Gt==null?void 0:Gt.controlHeightSM)+(Gt==null?void 0:Gt.paddingXXS),Pn=Tt(),Kn=Tt("select",o),_n=Tt("select-tree",o),Fn=Tt("tree-select",o),{compactSize:on,compactItemClassnames:Zt}=(0,il.ri)(Kn,_t),Vn=(0,Wn.Z)(Kn),Ln=(0,Wn.Z)(Fn),[kr,Sr,dr]=(0,B1.Z)(Kn,Vn),[cr]=LN(Fn,_n,Ln),[Zn,ur]=(0,mf.Z)("treeSelect",Oe,C),ti=q()(ne||oe,`${Fn}-dropdown`,{[`${Fn}-dropdown-rtl`]:_t==="rtl"},I,dr,Vn,Ln,Sr),Ei=!!(D||L),ki=a.useMemo(()=>{if(!(Ke&&(je==="SHOW_ALL"&&!lt||je==="SHOW_PARENT")))return Ke},[Ke,je,lt]),qi=(0,g_.Z)(e.suffixIcon,e.showArrow),Ho=(s=Me!=null?Me:xe)!==null&&s!==void 0?s:Bt,{status:Li,hasFeedback:bi,isFormItemInput:$i,feedbackIcon:go}=a.useContext(ou.aM),Gi=(0,Vc.F)(Li,fe),{suffixIcon:ko,removeIcon:Er,clearIcon:Mr}=(0,m_.Z)(Object.assign(Object.assign({},ht),{multiple:Ei,showSuffixIcon:qi,hasFeedback:bi,feedbackIcon:go,prefixCls:Kn,componentName:"TreeSelect"})),Zr=$e===!0?{clearIcon:Mr}:$e;let tr;Z!==void 0?tr=Z:tr=(wt==null?void 0:wt("Select"))||a.createElement(Qf.Z,{componentName:"Select"});const yi=(0,$a.Z)(ht,["suffixIcon","removeIcon","clearIcon","itemIcon","switcherIcon"]),Ui=a.useMemo(()=>j!==void 0?j:_t==="rtl"?"bottomRight":"bottomLeft",[j,_t]),xo=(0,hc.Z)(_a=>{var ns;return(ns=f!=null?f:on)!==null&&ns!==void 0?ns:_a}),ra=a.useContext(Fo.Z),Aa=y!=null?y:ra,oa=q()(!o&&Fn,{[`${Kn}-lg`]:xo==="large",[`${Kn}-sm`]:xo==="small",[`${Kn}-rtl`]:_t==="rtl",[`${Kn}-${Zn}`]:ur,[`${Kn}-in-form-item`]:$i},(0,Vc.Z)(Kn,Gi,bi),Zt,w,I,dr,Vn,Ln,Sr),Ss=_a=>a.createElement($I,{prefixCls:_n,switcherIcon:G,treeNodeProps:_a,showLine:H}),[Va]=(0,qt.Cn)("SelectLike",He==null?void 0:He.zIndex),Ga=a.createElement(AN,Object.assign({virtual:At,disabled:Aa},yi,{dropdownMatchSelectWidth:Ho,builtinPlacements:(0,p_.Z)(ge,Dt),ref:t,prefixCls:Kn,className:oa,listHeight:z,listItemHeight:Pt,treeCheckable:D&&a.createElement("span",{className:`${Kn}-tree-checkbox-inner`}),treeLine:!!H,suffixIcon:ko,multiple:Ei,placement:Ui,removeIcon:Er,allowClear:Zr,switcherIcon:Ss,showTreeIcon:ae,notFoundContent:tr,getPopupContainer:X||It,treeMotion:null,dropdownClassName:ti,dropdownStyle:Object.assign(Object.assign({},He),{zIndex:Va}),choiceTransitionName:(0,Et.m)(Pn,"",le),transitionName:(0,Et.m)(Pn,"slide-up",ie),treeExpandAction:me,tagRender:Ei?Ne:void 0,maxCount:ki,showCheckedStrategy:je,treeCheckStrictly:lt}));return kr(cr(Ga))},Zg=a.forwardRef(NN),BN=(0,Iu.Z)(Zg,"dropdownAlign",e=>(0,$a.Z)(e,["visible"]));Zg.TreeNode=Nw,Zg.SHOW_ALL=kw,Zg.SHOW_PARENT=Zw,Zg.SHOW_CHILD=Zx,Zg._InternalPanelDoNotUseOrYouWillBeFired=BN;var FN=Zg,kN={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z"}}]},name:"edit",theme:"outlined"},ZN=kN,jN=function(t,s){return a.createElement(Xt.Z,(0,Ge.Z)({},t,{ref:s,icon:ZN}))},VN=a.forwardRef(jN),HN=VN,UN={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M864 170h-60c-4.4 0-8 3.6-8 8v518H310v-73c0-6.7-7.8-10.5-13-6.3l-141.9 112a8 8 0 000 12.6l141.9 112c5.3 4.2 13 .4 13-6.3v-75h498c35.3 0 64-28.7 64-64V178c0-4.4-3.6-8-8-8z"}}]},name:"enter",theme:"outlined"},WN=UN,GN=function(t,s){return a.createElement(Xt.Z,(0,Ge.Z)({},t,{ref:s,icon:WN}))},KN=a.forwardRef(GN),XN=KN;const YN=(e,t,s,o)=>{const{titleMarginBottom:f,fontWeightStrong:y}=o;return{marginBottom:f,color:s,fontWeight:y,fontSize:e,lineHeight:t}},qN=e=>{const t=[1,2,3,4,5],s={};return t.forEach(o=>{s[`
      h${o}&,
      div&-h${o},
      div&-h${o} > textarea,
      h${o}
    `]=YN(e[`fontSizeHeading${o}`],e[`lineHeightHeading${o}`],e.colorTextHeading,e)}),s},JN=e=>{const{componentCls:t}=e;return{"a&, a":Object.assign(Object.assign({},(0,Qt.Nd)(e)),{userSelect:"text",[`&[disabled], &${t}-disabled`]:{color:e.colorTextDisabled,cursor:"not-allowed","&:active, &:hover":{color:e.colorTextDisabled},"&:active":{pointerEvents:"none"}}})}},QN=e=>({code:{margin:"0 0.2em",paddingInline:"0.4em",paddingBlock:"0.2em 0.1em",fontSize:"85%",fontFamily:e.fontFamilyCode,background:"rgba(150, 150, 150, 0.1)",border:"1px solid rgba(100, 100, 100, 0.2)",borderRadius:3},kbd:{margin:"0 0.2em",paddingInline:"0.4em",paddingBlock:"0.15em 0.1em",fontSize:"90%",fontFamily:e.fontFamilyCode,background:"rgba(150, 150, 150, 0.06)",border:"1px solid rgba(100, 100, 100, 0.2)",borderBottomWidth:2,borderRadius:3},mark:{padding:0,backgroundColor:um.EV[2]},"u, ins":{textDecoration:"underline",textDecorationSkipInk:"auto"},"s, del":{textDecoration:"line-through"},strong:{fontWeight:600},"ul, ol":{marginInline:0,marginBlock:"0 1em",padding:0,li:{marginInline:"20px 0",marginBlock:0,paddingInline:"4px 0",paddingBlock:0}},ul:{listStyleType:"circle",ul:{listStyleType:"disc"}},ol:{listStyleType:"decimal"},"pre, blockquote":{margin:"1em 0"},pre:{padding:"0.4em 0.6em",whiteSpace:"pre-wrap",wordWrap:"break-word",background:"rgba(150, 150, 150, 0.1)",border:"1px solid rgba(100, 100, 100, 0.2)",borderRadius:3,fontFamily:e.fontFamilyCode,code:{display:"inline",margin:0,padding:0,fontSize:"inherit",fontFamily:"inherit",background:"transparent",border:0}},blockquote:{paddingInline:"0.6em 0",paddingBlock:0,borderInlineStart:"4px solid rgba(100, 100, 100, 0.2)",opacity:.85}}),e6=e=>{const{componentCls:t,paddingSM:s}=e,o=s;return{"&-edit-content":{position:"relative","div&":{insetInlineStart:e.calc(e.paddingSM).mul(-1).equal(),marginTop:e.calc(o).mul(-1).equal(),marginBottom:`calc(1em - ${(0,he.bf)(o)})`},[`${t}-edit-content-confirm`]:{position:"absolute",insetInlineEnd:e.calc(e.marginXS).add(2).equal(),insetBlockEnd:e.marginXS,color:e.colorTextDescription,fontWeight:"normal",fontSize:e.fontSize,fontStyle:"normal",pointerEvents:"none"},textarea:{margin:"0!important",MozTransition:"none",height:"1em"}}}},t6=e=>({[`${e.componentCls}-copy-success`]:{"\n    &,\n    &:hover,\n    &:focus":{color:e.colorSuccess}},[`${e.componentCls}-copy-icon-only`]:{marginInlineStart:0}}),n6=()=>({"\n  a&-ellipsis,\n  span&-ellipsis\n  ":{display:"inline-block",maxWidth:"100%"},"&-ellipsis-single-line":{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis","a&, span&":{verticalAlign:"bottom"},"> code":{paddingBlock:0,maxWidth:"calc(100% - 1.2em)",display:"inline-block",overflow:"hidden",textOverflow:"ellipsis",verticalAlign:"bottom",boxSizing:"content-box"}},"&-ellipsis-multiple-line":{display:"-webkit-box",overflow:"hidden",WebkitLineClamp:3,WebkitBoxOrient:"vertical"}}),r6=e=>{const{componentCls:t,titleMarginTop:s}=e;return{[t]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({color:e.colorText,wordBreak:"break-word",lineHeight:e.lineHeight,[`&${t}-secondary`]:{color:e.colorTextDescription},[`&${t}-success`]:{color:e.colorSuccess},[`&${t}-warning`]:{color:e.colorWarning},[`&${t}-danger`]:{color:e.colorError,"a&:active, a&:focus":{color:e.colorErrorActive},"a&:hover":{color:e.colorErrorHover}},[`&${t}-disabled`]:{color:e.colorTextDisabled,cursor:"not-allowed",userSelect:"none"},"\n        div&,\n        p\n      ":{marginBottom:"1em"}},qN(e)),{[`
      & + h1${t},
      & + h2${t},
      & + h3${t},
      & + h4${t},
      & + h5${t}
      `]:{marginTop:s},"\n      div,\n      ul,\n      li,\n      p,\n      h1,\n      h2,\n      h3,\n      h4,\n      h5":{"\n        + h1,\n        + h2,\n        + h3,\n        + h4,\n        + h5\n        ":{marginTop:s}}}),QN(e)),JN(e)),{[`
        ${t}-expand,
        ${t}-collapse,
        ${t}-edit,
        ${t}-copy
      `]:Object.assign(Object.assign({},(0,Qt.Nd)(e)),{marginInlineStart:e.marginXXS})}),e6(e)),t6(e)),n6()),{"&-rtl":{direction:"rtl"}})}},i6=()=>({titleMarginTop:"1.2em",titleMarginBottom:"0.5em"});var ET=(0,te.I$)("Typography",e=>[r6(e)],i6),o6=e=>{const{prefixCls:t,"aria-label":s,className:o,style:f,direction:y,maxLength:C,autoSize:w=!0,value:I,onSave:D,onCancel:L,onEnd:z,component:k,enterIcon:j=a.createElement(XN,null)}=e,Z=a.useRef(null),G=a.useRef(!1),H=a.useRef(null),[X,ne]=a.useState(I);a.useEffect(()=>{ne(I)},[I]),a.useEffect(()=>{var He;if(!((He=Z.current)===null||He===void 0)&&He.resizableTextArea){const{textArea:Ne}=Z.current.resizableTextArea;Ne.focus();const{length:Ke}=Ne.value;Ne.setSelectionRange(Ke,Ke)}},[]);const oe=He=>{let{target:Ne}=He;ne(Ne.value.replace(/[\n\r]/g,""))},ae=()=>{G.current=!0},ie=()=>{G.current=!1},le=He=>{let{keyCode:Ne}=He;G.current||(H.current=Ne)},fe=()=>{D(X.trim())},me=He=>{let{keyCode:Ne,ctrlKey:Ke,altKey:je,metaKey:lt,shiftKey:ht}=He;H.current!==Ne||G.current||Ke||je||lt||ht||(Ne===rt.Z.ENTER?(fe(),z==null||z()):Ne===rt.Z.ESC&&L())},ge=()=>{fe()},[xe,Me,$e]=ET(t),Oe=q()(t,`${t}-edit-content`,{[`${t}-rtl`]:y==="rtl",[`${t}-${k}`]:!!k},o,Me,$e);return xe(a.createElement("div",{className:Oe,style:f},a.createElement(H2,{ref:Z,maxLength:C,value:X,onChange:oe,onKeyDown:le,onKeyUp:me,onCompositionStart:ae,onCompositionEnd:ie,onBlur:ge,"aria-label":s,rows:1,autoSize:w}),j!==null?(0,Cn.Tm)(j,{className:`${t}-edit-content-confirm`}):null))},a6=B(874),s6=B.n(a6),l6=function(e,t,s,o){function f(y){return y instanceof s?y:new s(function(C){C(y)})}return new(s||(s=Promise))(function(y,C){function w(L){try{D(o.next(L))}catch(z){C(z)}}function I(L){try{D(o.throw(L))}catch(z){C(z)}}function D(L){L.done?y(L.value):f(L.value).then(w,I)}D((o=o.apply(e,t||[])).next())})},c6=e=>{let{copyConfig:t,children:s}=e;const[o,f]=a.useState(!1),[y,C]=a.useState(!1),w=a.useRef(null),I=()=>{w.current&&clearTimeout(w.current)},D={};t.format&&(D.format=t.format),a.useEffect(()=>I,[]);const L=(0,_r.Z)(z=>l6(void 0,void 0,void 0,function*(){var k;z==null||z.preventDefault(),z==null||z.stopPropagation(),C(!0);try{const j=typeof t.text=="function"?yield t.text():t.text;s6()(j||bx(s,!0).join("")||"",D),C(!1),f(!0),I(),w.current=setTimeout(()=>{f(!1)},3e3),(k=t.onCopy)===null||k===void 0||k.call(t,z)}catch(j){throw C(!1),j}}));return{copied:o,copyLoading:y,onClick:L}};function jw(e,t){return a.useMemo(()=>{const s=!!e;return[s,Object.assign(Object.assign({},t),s&&typeof e=="object"?e:null)]},[e])}var u6=e=>{const t=(0,a.useRef)(void 0);return(0,a.useEffect)(()=>{t.current=e}),t.current},d6=(e,t,s)=>(0,a.useMemo)(()=>e===!0?{title:t!=null?t:s}:(0,a.isValidElement)(e)?{title:e}:typeof e=="object"?Object.assign({title:t!=null?t:s},e):{title:e},[e,t,s]),f6=function(e,t){var s={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(s[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(s[o[f]]=e[o[f]]);return s},IT=a.forwardRef((e,t)=>{const{prefixCls:s,component:o="article",className:f,rootClassName:y,setContentRef:C,children:w,direction:I,style:D}=e,L=f6(e,["prefixCls","component","className","rootClassName","setContentRef","children","direction","style"]),{getPrefixCls:z,direction:k,className:j,style:Z}=(0,ye.dj)("typography"),G=I!=null?I:k,H=C?(0,Jt.sQ)(t,C):t,X=z("typography",s),[ne,oe,ae]=ET(X),ie=q()(X,j,{[`${X}-rtl`]:G==="rtl"},f,y,oe,ae),le=Object.assign(Object.assign({},Z),D);return ne(a.createElement(o,Object.assign({className:ie,style:le,ref:H},L),w))}),h6={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2L263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z"}}]},name:"copy",theme:"outlined"},p6=h6,m6=function(t,s){return a.createElement(Xt.Z,(0,Ge.Z)({},t,{ref:s,icon:p6}))},g6=a.forwardRef(m6),v6=g6;function TT(e){return e===!1?[!1,!1]:Array.isArray(e)?e:[e]}function Vw(e,t,s){return e===!0||e===void 0?t:e||s&&t}function y6(e){const t=document.createElement("em");e.appendChild(t);const s=e.getBoundingClientRect(),o=t.getBoundingClientRect();return e.removeChild(t),s.left>o.left||o.right>s.right||s.top>o.top||o.bottom>s.bottom}const Hw=e=>["string","number"].includes(typeof e);var _6=e=>{let{prefixCls:t,copied:s,locale:o,iconOnly:f,tooltips:y,icon:C,tabIndex:w,onCopy:I,loading:D}=e;const L=TT(y),z=TT(C),{copied:k,copy:j}=o!=null?o:{},Z=s?k:j,G=Vw(L[s?1:0],Z),H=typeof G=="string"?G:Z;return a.createElement(qr.Z,{title:G},a.createElement("button",{type:"button",className:q()(`${t}-copy`,{[`${t}-copy-success`]:s,[`${t}-copy-icon-only`]:f}),onClick:I,"aria-label":H,tabIndex:w},s?Vw(z[1],a.createElement(QS.Z,null),!0):Vw(z[0],D?a.createElement(wn.Z,null):a.createElement(v6,null),!0)))};const jx=a.forwardRef((e,t)=>{let{style:s,children:o}=e;const f=a.useRef(null);return a.useImperativeHandle(t,()=>({isExceed:()=>{const y=f.current;return y.scrollHeight>y.clientHeight},getHeight:()=>f.current.clientHeight})),a.createElement("span",{"aria-hidden":!0,ref:f,style:Object.assign({position:"fixed",display:"block",left:0,top:0,pointerEvents:"none",backgroundColor:"rgba(255, 0, 0, 0.65)"},s)},o)}),b6=e=>e.reduce((t,s)=>t+(Hw(s)?String(s).length:1),0);function MT(e,t){let s=0;const o=[];for(let f=0;f<e.length;f+=1){if(s===t)return o;const y=e[f],w=Hw(y)?String(y).length:1,I=s+w;if(I>t){const D=t-s;return o.push(String(y).slice(0,D)),o}o.push(y),s=I}return e}const Uw=0,Ww=1,Gw=2,Kw=3,PT=4,Vx={display:"-webkit-box",overflow:"hidden",WebkitBoxOrient:"vertical"};function x6(e){const{enableMeasure:t,width:s,text:o,children:f,rows:y,expanded:C,miscDeps:w,onEllipsis:I}=e,D=a.useMemo(()=>(0,Gl.Z)(o),[o]),L=a.useMemo(()=>b6(D),[o]),z=a.useMemo(()=>f(D,!1),[o]),[k,j]=a.useState(null),Z=a.useRef(null),G=a.useRef(null),H=a.useRef(null),X=a.useRef(null),ne=a.useRef(null),[oe,ae]=a.useState(!1),[ie,le]=a.useState(Uw),[fe,me]=a.useState(0),[ge,xe]=a.useState(null);(0,cl.Z)(()=>{le(t&&s&&L?Ww:Uw)},[s,o,y,t,D]),(0,cl.Z)(()=>{var He,Ne,Ke,je;if(ie===Ww){le(Gw);const lt=G.current&&getComputedStyle(G.current).whiteSpace;xe(lt)}else if(ie===Gw){const lt=!!(!((He=H.current)===null||He===void 0)&&He.isExceed());le(lt?Kw:PT),j(lt?[0,L]:null),ae(lt);const ht=((Ne=H.current)===null||Ne===void 0?void 0:Ne.getHeight())||0,It=y===1?0:((Ke=X.current)===null||Ke===void 0?void 0:Ke.getHeight())||0,Tt=((je=ne.current)===null||je===void 0?void 0:je.getHeight())||0,wt=Math.max(ht,It+Tt);me(wt+1),I(lt)}},[ie]);const Me=k?Math.ceil((k[0]+k[1])/2):0;(0,cl.Z)(()=>{var He;const[Ne,Ke]=k||[0,0];if(Ne!==Ke){const lt=(((He=Z.current)===null||He===void 0?void 0:He.getHeight())||0)>fe;let ht=Me;Ke-Ne===1&&(ht=lt?Ne:Ke),j(lt?[Ne,ht]:[ht,Ke])}},[k,Me]);const $e=a.useMemo(()=>{if(!t)return f(D,!1);if(ie!==Kw||!k||k[0]!==k[1]){const He=f(D,!1);return[PT,Uw].includes(ie)?He:a.createElement("span",{style:Object.assign(Object.assign({},Vx),{WebkitLineClamp:y})},He)}return f(C?D:MT(D,k[0]),oe)},[C,ie,k,D].concat((0,be.Z)(w))),Oe={width:s,margin:0,padding:0,whiteSpace:ge==="nowrap"?"normal":"inherit"};return a.createElement(a.Fragment,null,$e,ie===Gw&&a.createElement(a.Fragment,null,a.createElement(jx,{style:Object.assign(Object.assign(Object.assign({},Oe),Vx),{WebkitLineClamp:y}),ref:H},z),a.createElement(jx,{style:Object.assign(Object.assign(Object.assign({},Oe),Vx),{WebkitLineClamp:y-1}),ref:X},z),a.createElement(jx,{style:Object.assign(Object.assign(Object.assign({},Oe),Vx),{WebkitLineClamp:1}),ref:ne},f([],!0))),ie===Kw&&k&&k[0]!==k[1]&&a.createElement(jx,{style:Object.assign(Object.assign({},Oe),{top:400}),ref:Z},f(MT(D,Me),!0)),ie===Ww&&a.createElement("span",{style:{whiteSpace:"inherit"},ref:G}))}var C6=e=>{let{enableEllipsis:t,isEllipsis:s,children:o,tooltipProps:f}=e;return!(f!=null&&f.title)||!t?o:a.createElement(qr.Z,Object.assign({open:s?void 0:!1},f),o)},S6=function(e,t){var s={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(s[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(s[o[f]]=e[o[f]]);return s};function w6(e,t){let{mark:s,code:o,underline:f,delete:y,strong:C,keyboard:w,italic:I}=e,D=t;function L(z,k){k&&(D=a.createElement(z,{},D))}return L("strong",C),L("u",f),L("del",y),L("code",o),L("mark",s),L("kbd",w),L("i",I),D}const E6="...";var Hx=a.forwardRef((e,t)=>{var s;const{prefixCls:o,className:f,style:y,type:C,disabled:w,children:I,ellipsis:D,editable:L,copyable:z,component:k,title:j}=e,Z=S6(e,["prefixCls","className","style","type","disabled","children","ellipsis","editable","copyable","component","title"]),{getPrefixCls:G,direction:H}=a.useContext(ye.E_),[X]=(0,En.Z)("Text"),ne=a.useRef(null),oe=a.useRef(null),ae=G("typography",o),ie=(0,$a.Z)(Z,["mark","code","delete","underline","strong","keyboard","italic"]),[le,fe]=jw(L),[me,ge]=(0,Cs.Z)(!1,{value:fe.editing}),{triggerType:xe=["icon"]}=fe,Me=Zr=>{var tr;Zr&&((tr=fe.onStart)===null||tr===void 0||tr.call(fe)),ge(Zr)},$e=u6(me);(0,cl.Z)(()=>{var Zr;!me&&$e&&((Zr=oe.current)===null||Zr===void 0||Zr.focus())},[me]);const Oe=Zr=>{Zr==null||Zr.preventDefault(),Me(!0)},He=Zr=>{var tr;(tr=fe.onChange)===null||tr===void 0||tr.call(fe,Zr),Me(!1)},Ne=()=>{var Zr;(Zr=fe.onCancel)===null||Zr===void 0||Zr.call(fe),Me(!1)},[Ke,je]=jw(z),{copied:lt,copyLoading:ht,onClick:It}=c6({copyConfig:je,children:I}),[Tt,wt]=a.useState(!1),[_t,At]=a.useState(!1),[Bt,Dt]=a.useState(!1),[Gt,Pt]=a.useState(!1),[Pn,Kn]=a.useState(!0),[_n,Fn]=jw(D,{expandable:!1,symbol:Zr=>Zr?X==null?void 0:X.collapse:X==null?void 0:X.expand}),[on,Zt]=(0,Cs.Z)(Fn.defaultExpanded||!1,{value:Fn.expanded}),Vn=_n&&(!on||Fn.expandable==="collapsible"),{rows:Ln=1}=Fn,kr=a.useMemo(()=>Vn&&(Fn.suffix!==void 0||Fn.onEllipsis||Fn.expandable||le||Ke),[Vn,Fn,le,Ke]);(0,cl.Z)(()=>{_n&&!kr&&(wt(fw("webkitLineClamp")),At(fw("textOverflow")))},[kr,_n]);const[Sr,dr]=a.useState(Vn),cr=a.useMemo(()=>kr?!1:Ln===1?_t:Tt,[kr,_t,Tt]);(0,cl.Z)(()=>{dr(cr&&Vn)},[cr,Vn]);const Zn=Vn&&(Sr?Gt:Bt),ur=Vn&&Ln===1&&Sr,ti=Vn&&Ln>1&&Sr,Ei=(Zr,tr)=>{var yi;Zt(tr.expanded),(yi=Fn.onExpand)===null||yi===void 0||yi.call(Fn,Zr,tr)},[ki,qi]=a.useState(0),Ho=Zr=>{let{offsetWidth:tr}=Zr;qi(tr)},Li=Zr=>{var tr;Dt(Zr),Bt!==Zr&&((tr=Fn.onEllipsis)===null||tr===void 0||tr.call(Fn,Zr))};a.useEffect(()=>{const Zr=ne.current;if(_n&&Sr&&Zr){const tr=y6(Zr);Gt!==tr&&Pt(tr)}},[_n,Sr,I,ti,Pn,ki]),a.useEffect(()=>{const Zr=ne.current;if(typeof IntersectionObserver=="undefined"||!Zr||!Sr||!Vn)return;const tr=new IntersectionObserver(()=>{Kn(!!Zr.offsetParent)});return tr.observe(Zr),()=>{tr.disconnect()}},[Sr,Vn]);const bi=d6(Fn.tooltip,fe.text,I),$i=a.useMemo(()=>{if(!(!_n||Sr))return[fe.text,I,j,bi.title].find(Hw)},[_n,Sr,j,bi.title,Zn]);if(me)return a.createElement(o6,{value:(s=fe.text)!==null&&s!==void 0?s:typeof I=="string"?I:"",onSave:He,onCancel:Ne,onEnd:fe.onEnd,prefixCls:ae,className:f,style:y,direction:H,component:k,maxLength:fe.maxLength,autoSize:fe.autoSize,enterIcon:fe.enterIcon});const go=()=>{const{expandable:Zr,symbol:tr}=Fn;return Zr?a.createElement("button",{type:"button",key:"expand",className:`${ae}-${on?"collapse":"expand"}`,onClick:yi=>Ei(yi,{expanded:!on}),"aria-label":on?X.collapse:X==null?void 0:X.expand},typeof tr=="function"?tr(on):tr):null},Gi=()=>{if(!le)return;const{icon:Zr,tooltip:tr,tabIndex:yi}=fe,Ui=(0,Gl.Z)(tr)[0]||(X==null?void 0:X.edit),xo=typeof Ui=="string"?Ui:"";return xe.includes("icon")?a.createElement(qr.Z,{key:"edit",title:tr===!1?"":Ui},a.createElement("button",{type:"button",ref:oe,className:`${ae}-edit`,onClick:Oe,"aria-label":xo,tabIndex:yi},Zr||a.createElement(HN,{role:"button"}))):null},ko=()=>Ke?a.createElement(_6,Object.assign({key:"copy"},je,{prefixCls:ae,copied:lt,locale:X,onCopy:It,loading:ht,iconOnly:I==null})):null,Er=Zr=>[Zr&&go(),Gi(),ko()],Mr=Zr=>[Zr&&!on&&a.createElement("span",{"aria-hidden":!0,key:"ellipsis"},E6),Fn.suffix,Er(Zr)];return a.createElement(c.Z,{onResize:Ho,disabled:!Vn},Zr=>a.createElement(C6,{tooltipProps:bi,enableEllipsis:Vn,isEllipsis:Zn},a.createElement(IT,Object.assign({className:q()({[`${ae}-${C}`]:C,[`${ae}-disabled`]:w,[`${ae}-ellipsis`]:_n,[`${ae}-ellipsis-single-line`]:ur,[`${ae}-ellipsis-multiple-line`]:ti},f),prefixCls:o,style:Object.assign(Object.assign({},y),{WebkitLineClamp:ti?Ln:void 0}),component:k,ref:(0,Jt.sQ)(Zr,ne,t),direction:H,onClick:xe.includes("text")?Oe:void 0,"aria-label":$i==null?void 0:$i.toString(),title:j},ie),a.createElement(x6,{enableMeasure:Vn&&!Sr,text:I,rows:Ln,width:ki,onEllipsis:Li,expanded:on,miscDeps:[lt,on,ht,le,Ke,X]},(tr,yi)=>w6(e,a.createElement(a.Fragment,null,tr.length>0&&yi&&!on&&$i?a.createElement("span",{key:"show-content","aria-hidden":!0},tr):tr,Mr(yi)))))))}),I6=function(e,t){var s={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(s[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(s[o[f]]=e[o[f]]);return s},T6=a.forwardRef((e,t)=>{var{ellipsis:s,rel:o}=e,f=I6(e,["ellipsis","rel"]);const y=Object.assign(Object.assign({},f),{rel:o===void 0&&f.target==="_blank"?"noopener noreferrer":o});return delete y.navigate,a.createElement(Hx,Object.assign({},y,{ref:t,ellipsis:!!s,component:"a"}))}),M6=a.forwardRef((e,t)=>a.createElement(Hx,Object.assign({ref:t},e,{component:"div"}))),P6=function(e,t){var s={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(s[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(s[o[f]]=e[o[f]]);return s};const O6=(e,t)=>{var{ellipsis:s}=e,o=P6(e,["ellipsis"]);const f=a.useMemo(()=>s&&typeof s=="object"?(0,$a.Z)(s,["expandable","rows"]):s,[s]);return a.createElement(Hx,Object.assign({ref:t},o,{ellipsis:f,component:"span"}))};var R6=a.forwardRef(O6),$6=function(e,t){var s={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(s[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(s[o[f]]=e[o[f]]);return s};const A6=[1,2,3,4,5];var D6=a.forwardRef((e,t)=>{const{level:s=1}=e,o=$6(e,["level"]),f=A6.includes(s)?`h${s}`:"h1";return a.createElement(Hx,Object.assign({ref:t},o,{component:f}))});const k_=IT;k_.Text=R6,k_.Link=T6,k_.Title=D6,k_.Paragraph=M6;var L6=k_,fd=B(63662),Zd=B(57250),Iv=B(90594),Xw=function(e,t){if(e&&t){var s=Array.isArray(t)?t:t.split(","),o=e.name||"",f=e.type||"",y=f.replace(/\/.*$/,"");return s.some(function(C){var w=C.trim();if(/^\*(\/\*)?$/.test(C))return!0;if(w.charAt(0)==="."){var I=o.toLowerCase(),D=w.toLowerCase(),L=[D];return(D===".jpg"||D===".jpeg")&&(L=[".jpg",".jpeg"]),L.some(function(z){return I.endsWith(z)})}return/\/\*$/.test(w)?y===w.replace(/\/.*$/,""):f===w?!0:/^\w+$/.test(w)?((0,li.ZP)(!1,"Upload takes an invalidate 'accept' type '".concat(w,"'.Skip for check.")),!0):!1})}return!0};function z6(e,t){var s="cannot ".concat(e.method," ").concat(e.action," ").concat(t.status,"'"),o=new Error(s);return o.status=t.status,o.method=e.method,o.url=e.action,o}function OT(e){var t=e.responseText||e.response;if(!t)return t;try{return JSON.parse(t)}catch(s){return t}}function N6(e){var t=new XMLHttpRequest;e.onProgress&&t.upload&&(t.upload.onprogress=function(y){y.total>0&&(y.percent=y.loaded/y.total*100),e.onProgress(y)});var s=new FormData;e.data&&Object.keys(e.data).forEach(function(f){var y=e.data[f];if(Array.isArray(y)){y.forEach(function(C){s.append("".concat(f,"[]"),C)});return}s.append(f,y)}),e.file instanceof Blob?s.append(e.filename,e.file,e.file.name):s.append(e.filename,e.file),t.onerror=function(y){e.onError(y)},t.onload=function(){return t.status<200||t.status>=300?e.onError(z6(e,t),OT(t)):e.onSuccess(OT(t),t)},t.open(e.method,e.action,!0),e.withCredentials&&"withCredentials"in t&&(t.withCredentials=!0);var o=e.headers||{};return o["X-Requested-With"]!==null&&t.setRequestHeader("X-Requested-With","XMLHttpRequest"),Object.keys(o).forEach(function(f){o[f]!==null&&t.setRequestHeader(f,o[f])}),t.send(s),{abort:function(){t.abort()}}}var B6=function(){var e=(0,Iv.Z)((0,Zd.Z)().mark(function t(s,o){var f,y,C,w,I,D,L,z;return(0,Zd.Z)().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:D=function(){return D=(0,Iv.Z)((0,Zd.Z)().mark(function G(H){return(0,Zd.Z)().wrap(function(ne){for(;;)switch(ne.prev=ne.next){case 0:return ne.abrupt("return",new Promise(function(oe){H.file(function(ae){o(ae)?(H.fullPath&&!ae.webkitRelativePath&&(Object.defineProperties(ae,{webkitRelativePath:{writable:!0}}),ae.webkitRelativePath=H.fullPath.replace(/^\//,""),Object.defineProperties(ae,{webkitRelativePath:{writable:!1}})),oe(ae)):oe(null)})}));case 1:case"end":return ne.stop()}},G)})),D.apply(this,arguments)},I=function(G){return D.apply(this,arguments)},w=function(){return w=(0,Iv.Z)((0,Zd.Z)().mark(function G(H){var X,ne,oe,ae,ie;return(0,Zd.Z)().wrap(function(fe){for(;;)switch(fe.prev=fe.next){case 0:X=H.createReader(),ne=[];case 2:return fe.next=5,new Promise(function(me){X.readEntries(me,function(){return me([])})});case 5:if(oe=fe.sent,ae=oe.length,ae){fe.next=9;break}return fe.abrupt("break",12);case 9:for(ie=0;ie<ae;ie++)ne.push(oe[ie]);fe.next=2;break;case 12:return fe.abrupt("return",ne);case 13:case"end":return fe.stop()}},G)})),w.apply(this,arguments)},C=function(G){return w.apply(this,arguments)},f=[],y=[],s.forEach(function(Z){return y.push(Z.webkitGetAsEntry())}),L=function(){var Z=(0,Iv.Z)((0,Zd.Z)().mark(function G(H,X){var ne,oe;return(0,Zd.Z)().wrap(function(ie){for(;;)switch(ie.prev=ie.next){case 0:if(H){ie.next=2;break}return ie.abrupt("return");case 2:if(H.path=X||"",!H.isFile){ie.next=10;break}return ie.next=6,I(H);case 6:ne=ie.sent,ne&&f.push(ne),ie.next=15;break;case 10:if(!H.isDirectory){ie.next=15;break}return ie.next=13,C(H);case 13:oe=ie.sent,y.push.apply(y,(0,be.Z)(oe));case 15:case"end":return ie.stop()}},G)}));return function(H,X){return Z.apply(this,arguments)}}(),z=0;case 9:if(!(z<y.length)){j.next=15;break}return j.next=12,L(y[z]);case 12:z++,j.next=9;break;case 15:return j.abrupt("return",f);case 16:case"end":return j.stop()}},t)}));return function(s,o){return e.apply(this,arguments)}}(),F6=B6,k6=+new Date,Z6=0;function Yw(){return"rc-upload-".concat(k6,"-").concat(++Z6)}var j6=["component","prefixCls","className","classNames","disabled","id","name","style","styles","multiple","accept","capture","children","directory","openFileDialogOnClick","onMouseEnter","onMouseLeave","hasControlInside"],V6=function(e){(0,pi.Z)(s,e);var t=(0,tu.Z)(s);function s(){var o;(0,Dn.Z)(this,s);for(var f=arguments.length,y=new Array(f),C=0;C<f;C++)y[C]=arguments[C];return o=t.call.apply(t,[this].concat(y)),(0,pe.Z)((0,fd.Z)(o),"state",{uid:Yw()}),(0,pe.Z)((0,fd.Z)(o),"reqs",{}),(0,pe.Z)((0,fd.Z)(o),"fileInput",void 0),(0,pe.Z)((0,fd.Z)(o),"_isMounted",void 0),(0,pe.Z)((0,fd.Z)(o),"onChange",function(w){var I=o.props,D=I.accept,L=I.directory,z=w.target.files,k=(0,be.Z)(z).filter(function(j){return!L||Xw(j,D)});o.uploadFiles(k),o.reset()}),(0,pe.Z)((0,fd.Z)(o),"onClick",function(w){var I=o.fileInput;if(I){var D=w.target,L=o.props.onClick;if(D&&D.tagName==="BUTTON"){var z=I.parentNode;z.focus(),D.blur()}I.click(),L&&L(w)}}),(0,pe.Z)((0,fd.Z)(o),"onKeyDown",function(w){w.key==="Enter"&&o.onClick(w)}),(0,pe.Z)((0,fd.Z)(o),"onFileDrop",function(){var w=(0,Iv.Z)((0,Zd.Z)().mark(function I(D){var L,z,k;return(0,Zd.Z)().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:if(L=o.props.multiple,D.preventDefault(),D.type!=="dragover"){Z.next=4;break}return Z.abrupt("return");case 4:if(!o.props.directory){Z.next=11;break}return Z.next=7,F6(Array.prototype.slice.call(D.dataTransfer.items),function(G){return Xw(G,o.props.accept)});case 7:z=Z.sent,o.uploadFiles(z),Z.next=14;break;case 11:k=(0,be.Z)(D.dataTransfer.files).filter(function(G){return Xw(G,o.props.accept)}),L===!1&&(k=k.slice(0,1)),o.uploadFiles(k);case 14:case"end":return Z.stop()}},I)}));return function(I){return w.apply(this,arguments)}}()),(0,pe.Z)((0,fd.Z)(o),"uploadFiles",function(w){var I=(0,be.Z)(w),D=I.map(function(L){return L.uid=Yw(),o.processFile(L,I)});Promise.all(D).then(function(L){var z=o.props.onBatchStart;z==null||z(L.map(function(k){var j=k.origin,Z=k.parsedFile;return{file:j,parsedFile:Z}})),L.filter(function(k){return k.parsedFile!==null}).forEach(function(k){o.post(k)})})}),(0,pe.Z)((0,fd.Z)(o),"processFile",function(){var w=(0,Iv.Z)((0,Zd.Z)().mark(function I(D,L){var z,k,j,Z,G,H,X,ne,oe;return(0,Zd.Z)().wrap(function(ie){for(;;)switch(ie.prev=ie.next){case 0:if(z=o.props.beforeUpload,k=D,!z){ie.next=14;break}return ie.prev=3,ie.next=6,z(D,L);case 6:k=ie.sent,ie.next=12;break;case 9:ie.prev=9,ie.t0=ie.catch(3),k=!1;case 12:if(k!==!1){ie.next=14;break}return ie.abrupt("return",{origin:D,parsedFile:null,action:null,data:null});case 14:if(j=o.props.action,typeof j!="function"){ie.next=21;break}return ie.next=18,j(D);case 18:Z=ie.sent,ie.next=22;break;case 21:Z=j;case 22:if(G=o.props.data,typeof G!="function"){ie.next=29;break}return ie.next=26,G(D);case 26:H=ie.sent,ie.next=30;break;case 29:H=G;case 30:return X=((0,nt.Z)(k)==="object"||typeof k=="string")&&k?k:D,X instanceof File?ne=X:ne=new File([X],D.name,{type:D.type}),oe=ne,oe.uid=D.uid,ie.abrupt("return",{origin:D,data:H,parsedFile:oe,action:Z});case 35:case"end":return ie.stop()}},I,null,[[3,9]])}));return function(I,D){return w.apply(this,arguments)}}()),(0,pe.Z)((0,fd.Z)(o),"saveFileInput",function(w){o.fileInput=w}),o}return(0,pn.Z)(s,[{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"componentWillUnmount",value:function(){this._isMounted=!1,this.abort()}},{key:"post",value:function(f){var y=this,C=f.data,w=f.origin,I=f.action,D=f.parsedFile;if(this._isMounted){var L=this.props,z=L.onStart,k=L.customRequest,j=L.name,Z=L.headers,G=L.withCredentials,H=L.method,X=w.uid,ne=k||N6,oe={action:I,filename:j,data:C,file:D,headers:Z,withCredentials:G,method:H||"post",onProgress:function(ie){var le=y.props.onProgress;le==null||le(ie,D)},onSuccess:function(ie,le){var fe=y.props.onSuccess;fe==null||fe(ie,D,le),delete y.reqs[X]},onError:function(ie,le){var fe=y.props.onError;fe==null||fe(ie,le,D),delete y.reqs[X]}};z(w),this.reqs[X]=ne(oe)}}},{key:"reset",value:function(){this.setState({uid:Yw()})}},{key:"abort",value:function(f){var y=this.reqs;if(f){var C=f.uid?f.uid:f;y[C]&&y[C].abort&&y[C].abort(),delete y[C]}else Object.keys(y).forEach(function(w){y[w]&&y[w].abort&&y[w].abort(),delete y[w]})}},{key:"render",value:function(){var f=this.props,y=f.component,C=f.prefixCls,w=f.className,I=f.classNames,D=I===void 0?{}:I,L=f.disabled,z=f.id,k=f.name,j=f.style,Z=f.styles,G=Z===void 0?{}:Z,H=f.multiple,X=f.accept,ne=f.capture,oe=f.children,ae=f.directory,ie=f.openFileDialogOnClick,le=f.onMouseEnter,fe=f.onMouseLeave,me=f.hasControlInside,ge=(0,de.Z)(f,j6),xe=q()((0,pe.Z)((0,pe.Z)((0,pe.Z)({},C,!0),"".concat(C,"-disabled"),L),w,w)),Me=ae?{directory:"directory",webkitdirectory:"webkitdirectory"}:{},$e=L?{}:{onClick:ie?this.onClick:function(){},onKeyDown:ie?this.onKeyDown:function(){},onMouseEnter:le,onMouseLeave:fe,onDrop:this.onFileDrop,onDragOver:this.onFileDrop,tabIndex:me?void 0:"0"};return a.createElement(y,(0,Ge.Z)({},$e,{className:xe,role:me?void 0:"button",style:j}),a.createElement("input",(0,Ge.Z)({},(0,ut.Z)(ge,{aria:!0,data:!0}),{id:z,name:k,disabled:L,type:"file",ref:this.saveFileInput,onClick:function(He){return He.stopPropagation()},key:this.state.uid,style:(0,Y.Z)({display:"none"},G.input),className:D.input,accept:X},Me,{multiple:H,onChange:this.onChange},ne!=null?{capture:ne}:{})),oe)}}]),s}(a.Component),H6=V6;function qw(){}var RT=function(e){(0,pi.Z)(s,e);var t=(0,tu.Z)(s);function s(){var o;(0,Dn.Z)(this,s);for(var f=arguments.length,y=new Array(f),C=0;C<f;C++)y[C]=arguments[C];return o=t.call.apply(t,[this].concat(y)),(0,pe.Z)((0,fd.Z)(o),"uploader",void 0),(0,pe.Z)((0,fd.Z)(o),"saveUploader",function(w){o.uploader=w}),o}return(0,pn.Z)(s,[{key:"abort",value:function(f){this.uploader.abort(f)}},{key:"render",value:function(){return a.createElement(H6,(0,Ge.Z)({},this.props,{ref:this.saveUploader}))}}]),s}(a.Component);(0,pe.Z)(RT,"defaultProps",{component:"span",prefixCls:"rc-upload",data:{},headers:{},name:"file",multipart:!1,onStart:qw,onError:qw,onSuccess:qw,multiple:!1,beforeUpload:null,customRequest:null,withCredentials:!1,openFileDialogOnClick:!0,hasControlInside:!1});var U6=RT,$T=U6,W6=e=>{const{componentCls:t,iconCls:s}=e;return{[`${t}-wrapper`]:{[`${t}-drag`]:{position:"relative",width:"100%",height:"100%",textAlign:"center",background:e.colorFillAlter,border:`${(0,he.bf)(e.lineWidth)} dashed ${e.colorBorder}`,borderRadius:e.borderRadiusLG,cursor:"pointer",transition:`border-color ${e.motionDurationSlow}`,[t]:{padding:e.padding},[`${t}-btn`]:{display:"table",width:"100%",height:"100%",outline:"none",borderRadius:e.borderRadiusLG,"&:focus-visible":{outline:`${(0,he.bf)(e.lineWidthFocus)} solid ${e.colorPrimaryBorder}`}},[`${t}-drag-container`]:{display:"table-cell",verticalAlign:"middle"},[`
          &:not(${t}-disabled):hover,
          &-hover:not(${t}-disabled)
        `]:{borderColor:e.colorPrimaryHover},[`p${t}-drag-icon`]:{marginBottom:e.margin,[s]:{color:e.colorPrimary,fontSize:e.uploadThumbnailSize}},[`p${t}-text`]:{margin:`0 0 ${(0,he.bf)(e.marginXXS)}`,color:e.colorTextHeading,fontSize:e.fontSizeLG},[`p${t}-hint`]:{color:e.colorTextDescription,fontSize:e.fontSize},[`&${t}-disabled`]:{[`p${t}-drag-icon ${s},
            p${t}-text,
            p${t}-hint
          `]:{color:e.colorTextDisabled}}}}}},G6=e=>{const{componentCls:t,iconCls:s,fontSize:o,lineHeight:f,calc:y}=e,C=`${t}-list-item`,w=`${C}-actions`,I=`${C}-action`;return{[`${t}-wrapper`]:{[`${t}-list`]:Object.assign(Object.assign({},(0,Qt.dF)()),{lineHeight:e.lineHeight,[C]:{position:"relative",height:y(e.lineHeight).mul(o).equal(),marginTop:e.marginXS,fontSize:o,display:"flex",alignItems:"center",transition:`background-color ${e.motionDurationSlow}`,borderRadius:e.borderRadiusSM,"&:hover":{backgroundColor:e.controlItemBgHover},[`${C}-name`]:Object.assign(Object.assign({},Qt.vS),{padding:`0 ${(0,he.bf)(e.paddingXS)}`,lineHeight:f,flex:"auto",transition:`all ${e.motionDurationSlow}`}),[w]:{whiteSpace:"nowrap",[I]:{opacity:0},[s]:{color:e.actionsColor,transition:`all ${e.motionDurationSlow}`},[`
              ${I}:focus-visible,
              &.picture ${I}
            `]:{opacity:1}},[`${t}-icon ${s}`]:{color:e.colorTextDescription,fontSize:o},[`${C}-progress`]:{position:"absolute",bottom:e.calc(e.uploadProgressOffset).mul(-1).equal(),width:"100%",paddingInlineStart:y(o).add(e.paddingXS).equal(),fontSize:o,lineHeight:0,pointerEvents:"none","> div":{margin:0}}},[`${C}:hover ${I}`]:{opacity:1},[`${C}-error`]:{color:e.colorError,[`${C}-name, ${t}-icon ${s}`]:{color:e.colorError},[w]:{[`${s}, ${s}:hover`]:{color:e.colorError},[I]:{opacity:1}}},[`${t}-list-item-container`]:{transition:`opacity ${e.motionDurationSlow}, height ${e.motionDurationSlow}`,"&::before":{display:"table",width:0,height:0,content:'""'}}})}}},K6=e=>{const{componentCls:t}=e,s=new he.E4("uploadAnimateInlineIn",{from:{width:0,height:0,padding:0,opacity:0,margin:e.calc(e.marginXS).div(-2).equal()}}),o=new he.E4("uploadAnimateInlineOut",{to:{width:0,height:0,padding:0,opacity:0,margin:e.calc(e.marginXS).div(-2).equal()}}),f=`${t}-animate-inline`;return[{[`${t}-wrapper`]:{[`${f}-appear, ${f}-enter, ${f}-leave`]:{animationDuration:e.motionDurationSlow,animationTimingFunction:e.motionEaseInOutCirc,animationFillMode:"forwards"},[`${f}-appear, ${f}-enter`]:{animationName:s},[`${f}-leave`]:{animationName:o}}},{[`${t}-wrapper`]:ja(e)},s,o]};const X6=e=>{const{componentCls:t,iconCls:s,uploadThumbnailSize:o,uploadProgressOffset:f,calc:y}=e,C=`${t}-list`,w=`${C}-item`;return{[`${t}-wrapper`]:{[`
        ${C}${C}-picture,
        ${C}${C}-picture-card,
        ${C}${C}-picture-circle
      `]:{[w]:{position:"relative",height:y(o).add(y(e.lineWidth).mul(2)).add(y(e.paddingXS).mul(2)).equal(),padding:e.paddingXS,border:`${(0,he.bf)(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,borderRadius:e.borderRadiusLG,"&:hover":{background:"transparent"},[`${w}-thumbnail`]:Object.assign(Object.assign({},Qt.vS),{width:o,height:o,lineHeight:(0,he.bf)(y(o).add(e.paddingSM).equal()),textAlign:"center",flex:"none",[s]:{fontSize:e.fontSizeHeading2,color:e.colorPrimary},img:{display:"block",width:"100%",height:"100%",overflow:"hidden"}}),[`${w}-progress`]:{bottom:f,width:`calc(100% - ${(0,he.bf)(y(e.paddingSM).mul(2).equal())})`,marginTop:0,paddingInlineStart:y(o).add(e.paddingXS).equal()}},[`${w}-error`]:{borderColor:e.colorError,[`${w}-thumbnail ${s}`]:{[`svg path[fill='${um.iN[0]}']`]:{fill:e.colorErrorBg},[`svg path[fill='${um.iN.primary}']`]:{fill:e.colorError}}},[`${w}-uploading`]:{borderStyle:"dashed",[`${w}-name`]:{marginBottom:f}}},[`${C}${C}-picture-circle ${w}`]:{[`&, &::before, ${w}-thumbnail`]:{borderRadius:"50%"}}}}},Y6=e=>{const{componentCls:t,iconCls:s,fontSizeLG:o,colorTextLightSolid:f,calc:y}=e,C=`${t}-list`,w=`${C}-item`,I=e.uploadPicCardSize;return{[`
      ${t}-wrapper${t}-picture-card-wrapper,
      ${t}-wrapper${t}-picture-circle-wrapper
    `]:Object.assign(Object.assign({},(0,Qt.dF)()),{display:"block",[`${t}${t}-select`]:{width:I,height:I,textAlign:"center",verticalAlign:"top",backgroundColor:e.colorFillAlter,border:`${(0,he.bf)(e.lineWidth)} dashed ${e.colorBorder}`,borderRadius:e.borderRadiusLG,cursor:"pointer",transition:`border-color ${e.motionDurationSlow}`,[`> ${t}`]:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",textAlign:"center"},[`&:not(${t}-disabled):hover`]:{borderColor:e.colorPrimary}},[`${C}${C}-picture-card, ${C}${C}-picture-circle`]:{display:"flex",flexWrap:"wrap","@supports not (gap: 1px)":{"& > *":{marginBlockEnd:e.marginXS,marginInlineEnd:e.marginXS}},"@supports (gap: 1px)":{gap:e.marginXS},[`${C}-item-container`]:{display:"inline-block",width:I,height:I,verticalAlign:"top"},"&::after":{display:"none"},"&::before":{display:"none"},[w]:{height:"100%",margin:0,"&::before":{position:"absolute",zIndex:1,width:`calc(100% - ${(0,he.bf)(y(e.paddingXS).mul(2).equal())})`,height:`calc(100% - ${(0,he.bf)(y(e.paddingXS).mul(2).equal())})`,backgroundColor:e.colorBgMask,opacity:0,transition:`all ${e.motionDurationSlow}`,content:'" "'}},[`${w}:hover`]:{[`&::before, ${w}-actions`]:{opacity:1}},[`${w}-actions`]:{position:"absolute",insetInlineStart:0,zIndex:10,width:"100%",whiteSpace:"nowrap",textAlign:"center",opacity:0,transition:`all ${e.motionDurationSlow}`,[`
            ${s}-eye,
            ${s}-download,
            ${s}-delete
          `]:{zIndex:10,width:o,margin:`0 ${(0,he.bf)(e.marginXXS)}`,fontSize:o,cursor:"pointer",transition:`all ${e.motionDurationSlow}`,color:f,"&:hover":{color:f},svg:{verticalAlign:"baseline"}}},[`${w}-thumbnail, ${w}-thumbnail img`]:{position:"static",display:"block",width:"100%",height:"100%",objectFit:"contain"},[`${w}-name`]:{display:"none",textAlign:"center"},[`${w}-file + ${w}-name`]:{position:"absolute",bottom:e.margin,display:"block",width:`calc(100% - ${(0,he.bf)(y(e.paddingXS).mul(2).equal())})`},[`${w}-uploading`]:{[`&${w}`]:{backgroundColor:e.colorFillAlter},[`&::before, ${s}-eye, ${s}-download, ${s}-delete`]:{display:"none"}},[`${w}-progress`]:{bottom:e.marginXL,width:`calc(100% - ${(0,he.bf)(y(e.paddingXS).mul(2).equal())})`,paddingInlineStart:0}}}),[`${t}-wrapper${t}-picture-circle-wrapper`]:{[`${t}${t}-select`]:{borderRadius:"50%"}}}};var q6=e=>{const{componentCls:t}=e;return{[`${t}-rtl`]:{direction:"rtl"}}};const J6=e=>{const{componentCls:t,colorTextDisabled:s}=e;return{[`${t}-wrapper`]:Object.assign(Object.assign({},(0,Qt.Wf)(e)),{[t]:{outline:0,"input[type='file']":{cursor:"pointer"}},[`${t}-select`]:{display:"inline-block"},[`${t}-hidden`]:{display:"none"},[`${t}-disabled`]:{color:s,cursor:"not-allowed"}})}},Q6=e=>({actionsColor:e.colorTextDescription});var eB=(0,te.I$)("Upload",e=>{const{fontSizeHeading3:t,fontHeight:s,lineWidth:o,controlHeightLG:f,calc:y}=e,C=(0,ci.IX)(e,{uploadThumbnailSize:y(t).mul(2).equal(),uploadProgressOffset:y(y(s).div(2)).add(o).equal(),uploadPicCardSize:y(f).mul(2.55).equal()});return[J6(C),W6(C),X6(C),Y6(C),G6(C),K6(C),q6(C),(0,Ko.Z)(C)]},Q6),tB={icon:function(t,s){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M534 352V136H232v752h560V394H576a42 42 0 01-42-42z",fill:s}},{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM602 137.8L790.2 326H602V137.8zM792 888H232V136h302v216a42 42 0 0042 42h216v494z",fill:t}}]}},name:"file",theme:"twotone"},nB=tB,rB=function(t,s){return a.createElement(Xt.Z,(0,Ge.Z)({},t,{ref:s,icon:nB}))},iB=a.forwardRef(rB),oB=iB,aB={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M779.3 196.6c-94.2-94.2-247.6-94.2-341.7 0l-261 260.8c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l261-260.8c32.4-32.4 75.5-50.2 121.3-50.2s88.9 17.8 121.2 50.2c32.4 32.4 50.2 75.5 50.2 121.2 0 45.8-17.8 88.8-50.2 121.2l-266 265.9-43.1 43.1c-40.3 40.3-105.8 40.3-146.1 0-19.5-19.5-30.2-45.4-30.2-73s10.7-53.5 30.2-73l263.9-263.8c6.7-6.6 15.5-10.3 24.9-10.3h.1c9.4 0 18.1 3.7 24.7 10.3 6.7 6.7 10.3 15.5 10.3 24.9 0 9.3-3.7 18.1-10.3 24.7L372.4 653c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l215.6-215.6c19.9-19.9 30.8-46.3 30.8-74.4s-11-54.6-30.8-74.4c-41.1-41.1-107.9-41-149 0L463 364 224.8 602.1A172.22 172.22 0 00174 724.8c0 46.3 18.1 89.8 50.8 122.5 33.9 33.8 78.3 50.7 122.7 50.7 44.4 0 88.8-16.9 122.6-50.7l309.2-309C824.8 492.7 850 432 850 367.5c.1-64.6-25.1-125.3-70.7-170.9z"}}]},name:"paper-clip",theme:"outlined"},sB=aB,lB=function(t,s){return a.createElement(Xt.Z,(0,Ge.Z)({},t,{ref:s,icon:sB}))},cB=a.forwardRef(lB),uB=cB,dB={icon:function(t,s){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 632H136v-39.9l138.5-164.3 150.1 178L658.1 489 888 761.6V792zm0-129.8L664.2 396.8c-3.2-3.8-9-3.8-12.2 0L424.6 666.4l-144-170.7c-3.2-3.8-9-3.8-12.2 0L136 652.7V232h752v430.2z",fill:t}},{tag:"path",attrs:{d:"M424.6 765.8l-150.1-178L136 752.1V792h752v-30.4L658.1 489z",fill:s}},{tag:"path",attrs:{d:"M136 652.7l132.4-157c3.2-3.8 9-3.8 12.2 0l144 170.7L652 396.8c3.2-3.8 9-3.8 12.2 0L888 662.2V232H136v420.7zM304 280a88 88 0 110 176 88 88 0 010-176z",fill:s}},{tag:"path",attrs:{d:"M276 368a28 28 0 1056 0 28 28 0 10-56 0z",fill:s}},{tag:"path",attrs:{d:"M304 456a88 88 0 100-176 88 88 0 000 176zm0-116c15.5 0 28 12.5 28 28s-12.5 28-28 28-28-12.5-28-28 12.5-28 28-28z",fill:t}}]}},name:"picture",theme:"twotone"},fB=dB,hB=function(t,s){return a.createElement(Xt.Z,(0,Ge.Z)({},t,{ref:s,icon:fB}))},pB=a.forwardRef(hB),mB=pB;function Ux(e){return Object.assign(Object.assign({},e),{lastModified:e.lastModified,lastModifiedDate:e.lastModifiedDate,name:e.name,size:e.size,type:e.type,uid:e.uid,percent:0,originFileObj:e})}function Wx(e,t){const s=(0,be.Z)(t),o=s.findIndex(f=>{let{uid:y}=f;return y===e.uid});return o===-1?s.push(e):s[o]=e,s}function Jw(e,t){const s=e.uid!==void 0?"uid":"name";return t.filter(o=>o[s]===e[s])[0]}function gB(e,t){const s=e.uid!==void 0?"uid":"name",o=t.filter(f=>f[s]!==e[s]);return o.length===t.length?null:o}const vB=function(){const t=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:"").split("/"),o=t[t.length-1].split(/#|\?/)[0];return(/\.[^./\\]*$/.exec(o)||[""])[0]},AT=e=>e.indexOf("image/")===0,yB=e=>{if(e.type&&!e.thumbUrl)return AT(e.type);const t=e.thumbUrl||e.url||"",s=vB(t);return/^data:image\//.test(t)||/(webp|svg|png|gif|jpg|jpeg|jfif|bmp|dpg|ico|heic|heif)$/i.test(s)?!0:!(/^data:/.test(t)||s)},pm=200;function _B(e){return new Promise(t=>{if(!e.type||!AT(e.type)){t("");return}const s=document.createElement("canvas");s.width=pm,s.height=pm,s.style.cssText=`position: fixed; left: 0; top: 0; width: ${pm}px; height: ${pm}px; z-index: 9999; display: none;`,document.body.appendChild(s);const o=s.getContext("2d"),f=new Image;if(f.onload=()=>{const{width:y,height:C}=f;let w=pm,I=pm,D=0,L=0;y>C?(I=C*(pm/y),L=-(I-w)/2):(w=y*(pm/C),D=-(w-I)/2),o.drawImage(f,D,L,w,I);const z=s.toDataURL();document.body.removeChild(s),window.URL.revokeObjectURL(f.src),t(z)},f.crossOrigin="anonymous",e.type.startsWith("image/svg+xml")){const y=new FileReader;y.onload=()=>{y.result&&typeof y.result=="string"&&(f.src=y.result)},y.readAsDataURL(e)}else if(e.type.startsWith("image/gif")){const y=new FileReader;y.onload=()=>{y.result&&t(y.result)},y.readAsDataURL(e)}else f.src=window.URL.createObjectURL(e)})}var bB={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M505.7 661a8 8 0 0012.6 0l112-141.7c4.1-5.2.4-12.9-6.3-12.9h-74.1V168c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v338.3H400c-6.7 0-10.4 7.7-6.3 12.9l112 141.8zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"download",theme:"outlined"},xB=bB,CB=function(t,s){return a.createElement(Xt.Z,(0,Ge.Z)({},t,{ref:s,icon:xB}))},SB=a.forwardRef(CB),wB=SB,EB=a.forwardRef((e,t)=>{let{prefixCls:s,className:o,style:f,locale:y,listType:C,file:w,items:I,progress:D,iconRender:L,actionIconRender:z,itemRender:k,isImgUrl:j,showPreviewIcon:Z,showRemoveIcon:G,showDownloadIcon:H,previewIcon:X,removeIcon:ne,downloadIcon:oe,extra:ae,onPreview:ie,onDownload:le,onClose:fe}=e;var me,ge;const{status:xe}=w,[Me,$e]=a.useState(xe);a.useEffect(()=>{xe!=="removed"&&$e(xe)},[xe]);const[Oe,He]=a.useState(!1);a.useEffect(()=>{const on=setTimeout(()=>{He(!0)},300);return()=>{clearTimeout(on)}},[]);const Ne=L(w);let Ke=a.createElement("div",{className:`${s}-icon`},Ne);if(C==="picture"||C==="picture-card"||C==="picture-circle")if(Me==="uploading"||!w.thumbUrl&&!w.url){const on=q()(`${s}-list-item-thumbnail`,{[`${s}-list-item-file`]:Me!=="uploading"});Ke=a.createElement("div",{className:on},Ne)}else{const on=j!=null&&j(w)?a.createElement("img",{src:w.thumbUrl||w.url,alt:w.name,className:`${s}-list-item-image`,crossOrigin:w.crossOrigin}):Ne,Zt=q()(`${s}-list-item-thumbnail`,{[`${s}-list-item-file`]:j&&!j(w)});Ke=a.createElement("a",{className:Zt,onClick:Vn=>ie(w,Vn),href:w.url||w.thumbUrl,target:"_blank",rel:"noopener noreferrer"},on)}const je=q()(`${s}-list-item`,`${s}-list-item-${Me}`),lt=typeof w.linkProps=="string"?JSON.parse(w.linkProps):w.linkProps,ht=(typeof G=="function"?G(w):G)?z((typeof ne=="function"?ne(w):ne)||a.createElement(mT,null),()=>fe(w),s,y.removeFile,!0):null,It=(typeof H=="function"?H(w):H)&&Me==="done"?z((typeof oe=="function"?oe(w):oe)||a.createElement(wB,null),()=>le(w),s,y.downloadFile):null,Tt=C!=="picture-card"&&C!=="picture-circle"&&a.createElement("span",{key:"download-delete",className:q()(`${s}-list-item-actions`,{picture:C==="picture"})},It,ht),wt=typeof ae=="function"?ae(w):ae,_t=wt&&a.createElement("span",{className:`${s}-list-item-extra`},wt),At=q()(`${s}-list-item-name`),Bt=w.url?a.createElement("a",Object.assign({key:"view",target:"_blank",rel:"noopener noreferrer",className:At,title:w.name},lt,{href:w.url,onClick:on=>ie(w,on)}),w.name,_t):a.createElement("span",{key:"view",className:At,onClick:on=>ie(w,on),title:w.name},w.name,_t),Dt=(typeof Z=="function"?Z(w):Z)&&(w.url||w.thumbUrl)?a.createElement("a",{href:w.url||w.thumbUrl,target:"_blank",rel:"noopener noreferrer",onClick:on=>ie(w,on),title:y.previewFile},typeof X=="function"?X(w):X||a.createElement(NS,null)):null,Gt=(C==="picture-card"||C==="picture-circle")&&Me!=="uploading"&&a.createElement("span",{className:`${s}-list-item-actions`},Dt,Me==="done"&&It,ht),{getPrefixCls:Pt}=a.useContext(ye.E_),Pn=Pt(),Kn=a.createElement("div",{className:je},Ke,Bt,Tt,Gt,Oe&&a.createElement(Rn.ZP,{motionName:`${Pn}-fade`,visible:Me==="uploading",motionDeadline:2e3},on=>{let{className:Zt}=on;const Vn="percent"in w?a.createElement(tw,Object.assign({},D,{type:"line",percent:w.percent,"aria-label":w["aria-label"],"aria-labelledby":w["aria-labelledby"]})):null;return a.createElement("div",{className:q()(`${s}-list-item-progress`,Zt)},Vn)})),_n=w.response&&typeof w.response=="string"?w.response:((me=w.error)===null||me===void 0?void 0:me.statusText)||((ge=w.error)===null||ge===void 0?void 0:ge.message)||y.uploadError,Fn=Me==="error"?a.createElement(qr.Z,{title:_n,getPopupContainer:on=>on.parentNode},Kn):Kn;return a.createElement("div",{className:q()(`${s}-list-item-container`,o),style:f,ref:t},k?k(Fn,w,I,{download:le.bind(null,w),preview:ie.bind(null,w),remove:fe.bind(null,w)}):Fn)});const IB=(e,t)=>{const{listType:s="text",previewFile:o=_B,onPreview:f,onDownload:y,onRemove:C,locale:w,iconRender:I,isImageUrl:D=yB,prefixCls:L,items:z=[],showPreviewIcon:k=!0,showRemoveIcon:j=!0,showDownloadIcon:Z=!1,removeIcon:G,previewIcon:H,downloadIcon:X,extra:ne,progress:oe={size:[-1,2],showInfo:!1},appendAction:ae,appendActionVisible:ie=!0,itemRender:le,disabled:fe}=e,me=(0,rw.Z)(),[ge,xe]=a.useState(!1),Me=["picture-card","picture-circle"].includes(s);a.useEffect(()=>{s.startsWith("picture")&&(z||[]).forEach(_t=>{!(_t.originFileObj instanceof File||_t.originFileObj instanceof Blob)||_t.thumbUrl!==void 0||(_t.thumbUrl="",o==null||o(_t.originFileObj).then(At=>{_t.thumbUrl=At||"",me()}))})},[s,z,o]),a.useEffect(()=>{xe(!0)},[]);const $e=(_t,At)=>{if(f)return At==null||At.preventDefault(),f(_t)},Oe=_t=>{typeof y=="function"?y(_t):_t.url&&window.open(_t.url)},He=_t=>{C==null||C(_t)},Ne=_t=>{if(I)return I(_t,s);const At=_t.status==="uploading";if(s.startsWith("picture")){const Bt=s==="picture"?a.createElement(wn.Z,null):w.uploading,Dt=D!=null&&D(_t)?a.createElement(mB,null):a.createElement(oB,null);return At?Bt:Dt}return At?a.createElement(wn.Z,null):a.createElement(uB,null)},Ke=(_t,At,Bt,Dt,Gt)=>{const Pt={type:"text",size:"small",title:Dt,onClick:Pn=>{var Kn,_n;At(),a.isValidElement(_t)&&((_n=(Kn=_t.props).onClick)===null||_n===void 0||_n.call(Kn,Pn))},className:`${Bt}-list-item-action`};return Gt&&(Pt.disabled=fe),a.isValidElement(_t)?a.createElement(Or.ZP,Object.assign({},Pt,{icon:(0,Cn.Tm)(_t,Object.assign(Object.assign({},_t.props),{onClick:()=>{}}))})):a.createElement(Or.ZP,Object.assign({},Pt),a.createElement("span",null,_t))};a.useImperativeHandle(t,()=>({handlePreview:$e,handleDownload:Oe}));const{getPrefixCls:je}=a.useContext(ye.E_),lt=je("upload",L),ht=je(),It=q()(`${lt}-list`,`${lt}-list-${s}`),Tt=a.useMemo(()=>(0,$a.Z)((0,Et.Z)(ht),["onAppearEnd","onEnterEnd","onLeaveEnd"]),[ht]),wt=Object.assign(Object.assign({},Me?{}:Tt),{motionDeadline:2e3,motionName:`${lt}-${Me?"animate-inline":"animate"}`,keys:(0,be.Z)(z.map(_t=>({key:_t.uid,file:_t}))),motionAppear:ge});return a.createElement("div",{className:It},a.createElement(Rn.V4,Object.assign({},wt,{component:!1}),_t=>{let{key:At,file:Bt,className:Dt,style:Gt}=_t;return a.createElement(EB,{key:At,locale:w,prefixCls:lt,className:Dt,style:Gt,file:Bt,items:z,progress:oe,listType:s,isImgUrl:D,showPreviewIcon:k,showRemoveIcon:j,showDownloadIcon:Z,removeIcon:G,previewIcon:H,downloadIcon:X,extra:ne,iconRender:Ne,actionIconRender:Ke,itemRender:le,onPreview:$e,onDownload:Oe,onClose:He})}),ae&&a.createElement(Rn.ZP,Object.assign({},wt,{visible:ie,forceRender:!0}),_t=>{let{className:At,style:Bt}=_t;return(0,Cn.Tm)(ae,Dt=>({className:q()(Dt.className,At),style:Object.assign(Object.assign(Object.assign({},Bt),{pointerEvents:At?"none":void 0}),Dt.style)}))}))};var TB=a.forwardRef(IB),MB=function(e,t,s,o){function f(y){return y instanceof s?y:new s(function(C){C(y)})}return new(s||(s=Promise))(function(y,C){function w(L){try{D(o.next(L))}catch(z){C(z)}}function I(L){try{D(o.throw(L))}catch(z){C(z)}}function D(L){L.done?y(L.value):f(L.value).then(w,I)}D((o=o.apply(e,t||[])).next())})};const Z_=`__LIST_IGNORE_${Date.now()}__`,PB=(e,t)=>{const{fileList:s,defaultFileList:o,onRemove:f,showUploadList:y=!0,listType:C="text",onPreview:w,onDownload:I,onChange:D,onDrop:L,previewFile:z,disabled:k,locale:j,iconRender:Z,isImageUrl:G,progress:H,prefixCls:X,className:ne,type:oe="select",children:ae,style:ie,itemRender:le,maxCount:fe,data:me={},multiple:ge=!1,hasControlInside:xe=!0,action:Me="",accept:$e="",supportServerRender:Oe=!0,rootClassName:He}=e,Ne=a.useContext(Fo.Z),Ke=k!=null?k:Ne,[je,lt]=(0,Cs.Z)(o||[],{value:s,postState:Er=>Er!=null?Er:[]}),[ht,It]=a.useState("drop"),Tt=a.useRef(null),wt=a.useRef(null);a.useMemo(()=>{const Er=Date.now();(s||[]).forEach((Mr,Zr)=>{!Mr.uid&&!Object.isFrozen(Mr)&&(Mr.uid=`__AUTO__${Er}_${Zr}__`)})},[s]);const _t=(Er,Mr,Zr)=>{let tr=(0,be.Z)(Mr),yi=!1;fe===1?tr=tr.slice(-1):fe&&(yi=tr.length>fe,tr=tr.slice(0,fe)),(0,Ze.flushSync)(()=>{lt(tr)});const Ui={file:Er,fileList:tr};Zr&&(Ui.event=Zr),(!yi||Er.status==="removed"||tr.some(xo=>xo.uid===Er.uid))&&(0,Ze.flushSync)(()=>{D==null||D(Ui)})},At=(Er,Mr)=>MB(void 0,void 0,void 0,function*(){const{beforeUpload:Zr,transformFile:tr}=e;let yi=Er;if(Zr){const Ui=yield Zr(Er,Mr);if(Ui===!1)return!1;if(delete Er[Z_],Ui===Z_)return Object.defineProperty(Er,Z_,{value:!0,configurable:!0}),!1;typeof Ui=="object"&&Ui&&(yi=Ui)}return tr&&(yi=yield tr(yi)),yi}),Bt=Er=>{const Mr=Er.filter(yi=>!yi.file[Z_]);if(!Mr.length)return;const Zr=Mr.map(yi=>Ux(yi.file));let tr=(0,be.Z)(je);Zr.forEach(yi=>{tr=Wx(yi,tr)}),Zr.forEach((yi,Ui)=>{let xo=yi;if(Mr[Ui].parsedFile)yi.status="uploading";else{const{originFileObj:ra}=yi;let Aa;try{Aa=new File([ra],ra.name,{type:ra.type})}catch(oa){Aa=new Blob([ra],{type:ra.type}),Aa.name=ra.name,Aa.lastModifiedDate=new Date,Aa.lastModified=new Date().getTime()}Aa.uid=yi.uid,xo=Aa}_t(xo,tr)})},Dt=(Er,Mr,Zr)=>{try{typeof Er=="string"&&(Er=JSON.parse(Er))}catch(Ui){}if(!Jw(Mr,je))return;const tr=Ux(Mr);tr.status="done",tr.percent=100,tr.response=Er,tr.xhr=Zr;const yi=Wx(tr,je);_t(tr,yi)},Gt=(Er,Mr)=>{if(!Jw(Mr,je))return;const Zr=Ux(Mr);Zr.status="uploading",Zr.percent=Er.percent;const tr=Wx(Zr,je);_t(Zr,tr,Er)},Pt=(Er,Mr,Zr)=>{if(!Jw(Zr,je))return;const tr=Ux(Zr);tr.error=Er,tr.response=Mr,tr.status="error";const yi=Wx(tr,je);_t(tr,yi)},Pn=Er=>{let Mr;Promise.resolve(typeof f=="function"?f(Er):f).then(Zr=>{var tr;if(Zr===!1)return;const yi=gB(Er,je);yi&&(Mr=Object.assign(Object.assign({},Er),{status:"removed"}),je==null||je.forEach(Ui=>{const xo=Mr.uid!==void 0?"uid":"name";Ui[xo]===Mr[xo]&&!Object.isFrozen(Ui)&&(Ui.status="removed")}),(tr=Tt.current)===null||tr===void 0||tr.abort(Mr),_t(Mr,yi))})},Kn=Er=>{It(Er.type),Er.type==="drop"&&(L==null||L(Er))};a.useImperativeHandle(t,()=>({onBatchStart:Bt,onSuccess:Dt,onProgress:Gt,onError:Pt,fileList:je,upload:Tt.current,nativeElement:wt.current}));const{getPrefixCls:_n,direction:Fn,upload:on}=a.useContext(ye.E_),Zt=_n("upload",X),Vn=Object.assign(Object.assign({onBatchStart:Bt,onError:Pt,onProgress:Gt,onSuccess:Dt},e),{data:me,multiple:ge,action:Me,accept:$e,supportServerRender:Oe,prefixCls:Zt,disabled:Ke,beforeUpload:At,onChange:void 0,hasControlInside:xe});delete Vn.className,delete Vn.style,(!ae||Ke)&&delete Vn.id;const Ln=`${Zt}-wrapper`,[kr,Sr,dr]=eB(Zt,Ln),[cr]=(0,En.Z)("Upload",du.Z.Upload),{showRemoveIcon:Zn,showPreviewIcon:ur,showDownloadIcon:ti,removeIcon:Ei,previewIcon:ki,downloadIcon:qi,extra:Ho}=typeof y=="boolean"?{}:y,Li=typeof Zn=="undefined"?!Ke:Zn,bi=(Er,Mr)=>y?a.createElement(TB,{prefixCls:Zt,listType:C,items:je,previewFile:z,onPreview:w,onDownload:I,onRemove:Pn,showRemoveIcon:Li,showPreviewIcon:ur,showDownloadIcon:ti,removeIcon:Ei,previewIcon:ki,downloadIcon:qi,iconRender:Z,extra:Ho,locale:Object.assign(Object.assign({},cr),j),isImageUrl:G,progress:H,appendAction:Er,appendActionVisible:Mr,itemRender:le,disabled:Ke}):Er,$i=q()(Ln,ne,He,Sr,dr,on==null?void 0:on.className,{[`${Zt}-rtl`]:Fn==="rtl",[`${Zt}-picture-card-wrapper`]:C==="picture-card",[`${Zt}-picture-circle-wrapper`]:C==="picture-circle"}),go=Object.assign(Object.assign({},on==null?void 0:on.style),ie);if(oe==="drag"){const Er=q()(Sr,Zt,`${Zt}-drag`,{[`${Zt}-drag-uploading`]:je.some(Mr=>Mr.status==="uploading"),[`${Zt}-drag-hover`]:ht==="dragover",[`${Zt}-disabled`]:Ke,[`${Zt}-rtl`]:Fn==="rtl"});return kr(a.createElement("span",{className:$i,ref:wt},a.createElement("div",{className:Er,style:go,onDrop:Kn,onDragOver:Kn,onDragLeave:Kn},a.createElement($T,Object.assign({},Vn,{ref:Tt,className:`${Zt}-btn`}),a.createElement("div",{className:`${Zt}-drag-container`},ae))),bi()))}const Gi=q()(Zt,`${Zt}-select`,{[`${Zt}-disabled`]:Ke,[`${Zt}-hidden`]:!ae}),ko=a.createElement("div",{className:Gi},a.createElement($T,Object.assign({},Vn,{ref:Tt})));return kr(C==="picture-card"||C==="picture-circle"?a.createElement("span",{className:$i,ref:wt},bi(ko,!!ae)):a.createElement("span",{className:$i,ref:wt},ko,bi()))};var DT=a.forwardRef(PB),OB=function(e,t){var s={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(s[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(s[o[f]]=e[o[f]]);return s},RB=a.forwardRef((e,t)=>{var{style:s,height:o,hasControlInside:f=!1}=e,y=OB(e,["style","height","hasControlInside"]);return a.createElement(DT,Object.assign({ref:t,hasControlInside:f},y,{type:"drag",style:Object.assign(Object.assign({},s),{height:o})}))});const Qw=DT;Qw.Dragger=RB,Qw.LIST_IGNORE=Z_;var $B=Qw,AB=B(41424),Zk=function(e){(0,pi.Z)(s,e);var t=(0,tu.Z)(s);function s(){return(0,Dn.Z)(this,s),t.apply(this,arguments)}return(0,pn.Z)(s,[{key:"render",value:function(){return this.props.children}}]),s}(a.Component),jk=null,DB={subtree:!0,childList:!0,attributeFilter:["style","class"]};function LB(e,t){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:DB;a.useEffect(function(){if(!(!(0,Ts.Z)()||!e)){var o,f=Array.isArray(e)?e:[e];return"MutationObserver"in window&&(o=new MutationObserver(t),f.forEach(function(y){o.observe(y,s)})),function(){var y,C;(y=o)===null||y===void 0||y.takeRecords(),(C=o)===null||C===void 0||C.disconnect()}}},[s,e])}var Vk=function(t){var s=t.children,o=t.options,f=t.onMutate,y=f===void 0?function(){}:f,C=useEvent(y),w=React.useRef(null),I=React.useRef(null),D=React.isValidElement(s)&&supportRef(s),L=useComposeRef(I,D?s.ref:null),z=React.useState(null),k=_slicedToArray(z,2),j=k[0],Z=k[1];return useMutateObserver(j,C,o),useLayoutEffect(function(){Z(findDOMNode(I.current)||findDOMNode(w.current))}),s?React.createElement(DomWrapper,{ref:w},D?React.cloneElement(s,{ref:L}):s):null},Hk=null,Uk=null;const LT=3;function e2(e,t){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;const o=document.createElement("canvas"),f=o.getContext("2d"),y=e*s,C=t*s;return o.setAttribute("width",`${y}px`),o.setAttribute("height",`${C}px`),f.save(),[f,o,y,C]}function zB(){function e(t,s,o,f,y,C,w,I){const[D,L,z,k]=e2(f,y,o);if(t instanceof HTMLImageElement)D.drawImage(t,0,0,z,k);else{const{color:Tt,fontSize:wt,fontStyle:_t,fontWeight:At,fontFamily:Bt,textAlign:Dt}=C,Gt=Number(wt)*o;D.font=`${_t} normal ${At} ${Gt}px/${y}px ${Bt}`,D.fillStyle=Tt,D.textAlign=Dt,D.textBaseline="top";const Pt=bx(t);Pt==null||Pt.forEach((Pn,Kn)=>{D.fillText(Pn!=null?Pn:"",z/2,Kn*(Gt+LT*o))})}const j=Math.PI/180*Number(s),Z=Math.max(f,y),[G,H,X]=e2(Z,Z,o);G.translate(X/2,X/2),G.rotate(j),z>0&&k>0&&G.drawImage(L,-z/2,-k/2);function ne(Tt,wt){const _t=Tt*Math.cos(j)-wt*Math.sin(j),At=Tt*Math.sin(j)+wt*Math.cos(j);return[_t,At]}let oe=0,ae=0,ie=0,le=0;const fe=z/2,me=k/2;[[0-fe,0-me],[0+fe,0-me],[0+fe,0+me],[0-fe,0+me]].forEach(Tt=>{let[wt,_t]=Tt;const[At,Bt]=ne(wt,_t);oe=Math.min(oe,At),ae=Math.max(ae,At),ie=Math.min(ie,Bt),le=Math.max(le,Bt)});const xe=oe+X/2,Me=ie+X/2,$e=ae-oe,Oe=le-ie,He=w*o,Ne=I*o,Ke=($e+He)*2,je=Oe+Ne,[lt,ht]=e2(Ke,je);function It(){let Tt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,wt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;lt.drawImage(H,xe,Me,$e,Oe,Tt,wt,$e,Oe)}return It(),It($e+He,-Oe/2-Ne/2),It($e+He,+Oe/2+Ne/2),[ht.toDataURL(),Ke/o,je/o]}return e}function NB(e){const t=a.useRef(!1),s=a.useRef(null),o=(0,_r.Z)(e);return()=>{t.current||(t.current=!0,o(),s.current=(0,We.Z)(()=>{t.current=!1}))}}function BB(){const e=a.useRef([null,null]);return(s,o)=>{const f=s.map(y=>y instanceof HTMLElement||isNaN(y)?"":y);return(0,mu.Z)(e.current[0],f)||(e.current=[f,o()]),e.current[1]}}function FB(e){return e.replace(/([A-Z])/g,"-$1").toLowerCase()}function kB(e){return Object.keys(e).map(t=>`${FB(t)}: ${e[t]};`).join(" ")}function ZB(){return window.devicePixelRatio||1}const jB=(e,t)=>{let s=!1;return e.removedNodes.length&&(s=Array.from(e.removedNodes).some(o=>t(o))),e.type==="attributes"&&t(e.target)&&(s=!0),s},Wk=2,Gk=3,VB={visibility:"visible !important"};function HB(e){const t=a.useRef(new Map);return[(y,C,w)=>{if(w){if(!t.current.get(w)){const D=document.createElement("div");t.current.set(w,D)}const I=t.current.get(w);I.setAttribute("style",kB(Object.assign(Object.assign(Object.assign({},e),{backgroundImage:`url('${y}')`,backgroundSize:`${Math.floor(C)}px`}),VB))),I.removeAttribute("class"),I.removeAttribute("hidden"),I.parentElement!==w&&w.append(I)}return t.current.get(w)},y=>{const C=t.current.get(y);C&&y&&y.removeChild(C),t.current.delete(y)},y=>Array.from(t.current.values()).includes(y)]}function zT(e,t){return e.size===t.size?e:t}const NT=100,BT=100,FT={position:"relative",overflow:"hidden"};var UB=e=>{var t,s;const{zIndex:o=9,rotate:f=-22,width:y,height:C,image:w,content:I,font:D={},style:L,className:z,rootClassName:k,gap:j=[NT,BT],offset:Z,children:G,inherit:H=!0}=e,X=Object.assign(Object.assign({},FT),L),[,ne]=(0,Qn.ZP)(),{color:oe=ne.colorFill,fontSize:ae=ne.fontSizeLG,fontWeight:ie="normal",fontStyle:le="normal",fontFamily:fe="sans-serif",textAlign:me="center"}=D,[ge=NT,xe=BT]=j,Me=ge/2,$e=xe/2,Oe=(t=Z==null?void 0:Z[0])!==null&&t!==void 0?t:Me,He=(s=Z==null?void 0:Z[1])!==null&&s!==void 0?s:$e,Ne=a.useMemo(()=>{const Zt={zIndex:o,position:"absolute",left:0,top:0,width:"100%",height:"100%",pointerEvents:"none",backgroundRepeat:"repeat"};let Vn=Oe-Me,Ln=He-$e;return Vn>0&&(Zt.left=`${Vn}px`,Zt.width=`calc(100% - ${Vn}px)`,Vn=0),Ln>0&&(Zt.top=`${Ln}px`,Zt.height=`calc(100% - ${Ln}px)`,Ln=0),Zt.backgroundPosition=`${Vn}px ${Ln}px`,Zt},[o,Oe,Me,He,$e]),[Ke,je]=a.useState(),[lt,ht]=a.useState(new Set),It=a.useMemo(()=>{const Zt=Ke?[Ke]:[];return[].concat(Zt,(0,be.Z)(Array.from(lt)))},[Ke,lt]),Tt=Zt=>{let Vn=120,Ln=64;if(!w&&Zt.measureText){Zt.font=`${Number(ae)}px ${fe}`;const kr=bx(I),Sr=kr.map(dr=>{const cr=Zt.measureText(dr);return[cr.width,cr.fontBoundingBoxAscent+cr.fontBoundingBoxDescent]});Vn=Math.ceil(Math.max.apply(Math,(0,be.Z)(Sr.map(dr=>dr[0])))),Ln=Math.ceil(Math.max.apply(Math,(0,be.Z)(Sr.map(dr=>dr[1]))))*kr.length+(kr.length-1)*LT}return[y!=null?y:Vn,C!=null?C:Ln]},wt=zB(),_t=BB(),[At,Bt]=a.useState(null),Gt=NB(()=>{const Vn=document.createElement("canvas").getContext("2d");if(Vn){const Ln=ZB(),[kr,Sr]=Tt(Vn),dr=cr=>{const Zn=[cr||"",f,Ln,kr,Sr,{color:oe,fontSize:ae,fontStyle:le,fontWeight:ie,fontFamily:fe,textAlign:me},ge,xe],ur=_t(Zn,()=>wt.apply(void 0,Zn)),[ti,Ei]=ur;Bt([ti,Ei])};if(w){const cr=new Image;cr.onload=()=>{dr(cr)},cr.onerror=()=>{dr(I)},cr.crossOrigin="anonymous",cr.referrerPolicy="no-referrer",cr.src=w}else dr(I)}}),[Pt,Pn,Kn]=HB(Ne);(0,a.useEffect)(()=>{At&&It.forEach(Zt=>{Pt(At[0],At[1],Zt)})},[At,It]);const _n=(0,_r.Z)(Zt=>{Zt.forEach(Vn=>{if(jB(Vn,Kn))Gt();else if(Vn.target===Ke&&Vn.attributeName==="style"){const Ln=Object.keys(FT);for(let kr=0;kr<Ln.length;kr+=1){const Sr=Ln[kr],dr=X[Sr],cr=Ke.style[Sr];dr&&dr!==cr&&(Ke.style[Sr]=dr)}}})});LB(It,_n),(0,a.useEffect)(Gt,[f,o,y,C,w,I,oe,ae,ie,le,fe,me,ge,xe,Oe,He]);const Fn=a.useMemo(()=>({add:Zt=>{ht(Vn=>{const Ln=new Set(Vn);return Ln.add(Zt),zT(Vn,Ln)})},remove:Zt=>{Pn(Zt),ht(Vn=>{const Ln=new Set(Vn);return Ln.delete(Zt),zT(Vn,Ln)})}}),[]),on=H?a.createElement(ao.Provider,{value:Fn},G):G;return a.createElement("div",{ref:je,className:q()(z,k),style:X},on)};const WB=(0,a.forwardRef)((e,t)=>{const{prefixCls:s,className:o,children:f,size:y,style:C={}}=e,w=q()(`${s}-panel`,{[`${s}-panel-hidden`]:y===0},o),I=y!==void 0;return a.createElement("div",{ref:t,className:w,style:Object.assign(Object.assign({},C),{flexBasis:I?y:"auto",flexGrow:I?0:1})},f)});var GB=()=>null,KB=function(e,t){var s={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(s[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(e);f<o.length;f++)t.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(e,o[f])&&(s[o[f]]=e[o[f]]);return s};function XB(e){if(e&&typeof e=="object")return e;const t=!!e;return{start:t,end:t}}function YB(e){return a.useMemo(()=>(0,Gl.Z)(e).filter(a.isValidElement).map(s=>{const{props:o}=s,{collapsible:f}=o,y=KB(o,["collapsible"]);return Object.assign(Object.assign({},y),{collapsible:XB(f)})}),[e])}function qB(e,t,s){return a.useMemo(()=>{const o=[];for(let f=0;f<e.length-1;f+=1){const y=e[f],C=e[f+1],w=t[f],I=t[f+1],{resizable:D=!0,min:L,collapsible:z}=y,{resizable:k=!0,min:j,collapsible:Z}=C,G=D&&k&&(w!==0||!L)&&(I!==0||!j),H=z.end&&w>0||Z.start&&I===0&&w>0,X=Z.start&&I>0||z.end&&w===0&&I>0;o[f]={resizable:G,startCollapsible:!!(s?X:H),endCollapsible:!!(s?H:X)}}return o},[t,e])}function Gx(e){return Number(e.slice(0,-1))/100}function t2(e){return typeof e=="string"&&e.endsWith("%")}function JB(e,t){const s=e.map(Z=>Z.size),o=e.length,f=t||0,y=Z=>Z*f,[C,w]=a.useState(()=>e.map(Z=>Z.defaultSize)),I=a.useMemo(()=>{var Z;const G=[];for(let H=0;H<o;H+=1)G[H]=(Z=s[H])!==null&&Z!==void 0?Z:C[H];return G},[o,C,s]),D=a.useMemo(()=>{let Z=[],G=0;for(let X=0;X<o;X+=1){const ne=I[X];if(t2(ne))Z[X]=Gx(ne);else if(ne||ne===0){const oe=Number(ne);Number.isNaN(oe)||(Z[X]=oe/f)}else G+=1,Z[X]=void 0}const H=Z.reduce((X,ne)=>X+(ne||0),0);if(H>1||!G){const X=1/H;Z=Z.map(ne=>ne===void 0?0:ne*X)}else{const X=(1-H)/G;Z=Z.map(ne=>ne===void 0?X:ne)}return Z},[I,f]),L=a.useMemo(()=>D.map(y),[D,f]),z=a.useMemo(()=>e.map(Z=>t2(Z.min)?Gx(Z.min):(Z.min||0)/f),[e,f]),k=a.useMemo(()=>e.map(Z=>t2(Z.max)?Gx(Z.max):(Z.max||f)/f),[e,f]);return[a.useMemo(()=>t?L:I,[L,t]),L,D,z,k,w]}function QB(e,t,s,o,f,y){const C=e.map(ae=>[ae.min,ae.max]),w=o||0,I=ae=>ae*w;function D(ae,ie){return typeof ae=="string"?I(Gx(ae)):ae!=null?ae:ie}const[L,z]=a.useState([]),k=a.useRef([]),[j,Z]=a.useState(null),G=()=>s.map(I);return[ae=>{z(G()),Z({index:ae,confirmed:!1})},(ae,ie)=>{var le;let fe=null;if((!j||!j.confirmed)&&ie!==0){if(ie>0)fe=ae,Z({index:ae,confirmed:!0});else for(let Ke=ae;Ke>=0;Ke-=1)if(L[Ke]>0&&t[Ke].resizable){fe=Ke,Z({index:Ke,confirmed:!0});break}}const me=(le=fe!=null?fe:j==null?void 0:j.index)!==null&&le!==void 0?le:ae,ge=(0,be.Z)(L),xe=me+1,Me=D(C[me][0],0),$e=D(C[xe][0],0),Oe=D(C[me][1],w),He=D(C[xe][1],w);let Ne=ie;return ge[me]+Ne<Me&&(Ne=Me-ge[me]),ge[xe]-Ne<$e&&(Ne=ge[xe]-$e),ge[me]+Ne>Oe&&(Ne=Oe-ge[me]),ge[xe]-Ne>He&&(Ne=ge[xe]-He),ge[me]+=Ne,ge[xe]-=Ne,f(ge),ge},()=>{Z(null)},(ae,ie)=>{const le=G(),fe=y?ie==="start"?"end":"start":ie,me=fe==="start"?ae:ae+1,ge=fe==="start"?ae+1:ae,xe=le[me],Me=le[ge];if(xe!==0&&Me!==0)le[me]=0,le[ge]+=xe,k.current[ae]=xe;else{const $e=xe+Me,Oe=D(C[me][0],0),He=D(C[me][1],w),Ne=D(C[ge][0],0),Ke=D(C[ge][1],w),je=Math.max(Oe,$e-Ke),ht=(Math.min(He,$e-Ne)-je)/2,It=k.current[ae],Tt=$e-It;It&&It<=Ke&&It>=Ne&&Tt<=He&&Tt>=Oe?(le[ge]=It,le[me]=Tt):(le[me]-=ht,le[ge]+=ht)}return f(le),le},j==null?void 0:j.index]}var eF=B(84896);function n2(e){return typeof e=="number"&&!Number.isNaN(e)?Math.round(e):0}var tF=e=>{const{prefixCls:t,vertical:s,index:o,active:f,ariaNow:y,ariaMin:C,ariaMax:w,resizable:I,startCollapsible:D,endCollapsible:L,onOffsetStart:z,onOffsetUpdate:k,onOffsetEnd:j,onCollapse:Z,lazy:G,containerSize:H}=e,X=`${t}-bar`,[ne,oe]=(0,a.useState)(null),[ae,ie]=(0,a.useState)(0),le=s?0:ae,fe=s?ae:0,me=Ke=>{I&&Ke.currentTarget&&(oe([Ke.pageX,Ke.pageY]),z(o))},ge=Ke=>{if(I&&Ke.touches.length===1){const je=Ke.touches[0];oe([je.pageX,je.pageY]),z(o)}},xe=Ke=>{const je=H*y/100,lt=je+Ke,ht=Math.max(0,H*C/100),It=Math.min(H,H*w/100);return Math.max(ht,Math.min(It,lt))-je},Me=(0,_r.Z)((Ke,je)=>{const lt=xe(s?je:Ke);ie(lt)}),$e=(0,_r.Z)(()=>{k(o,le,fe),ie(0)});a.useEffect(()=>{if(ne){const Ke=It=>{const{pageX:Tt,pageY:wt}=It,_t=Tt-ne[0],At=wt-ne[1];G?Me(_t,At):k(o,_t,At)},je=()=>{G&&$e(),oe(null),j()},lt=It=>{if(It.touches.length===1){const Tt=It.touches[0],wt=Tt.pageX-ne[0],_t=Tt.pageY-ne[1];G?Me(wt,_t):k(o,wt,_t)}},ht=()=>{G&&$e(),oe(null),j()};return window.addEventListener("touchmove",lt),window.addEventListener("touchend",ht),window.addEventListener("mousemove",Ke),window.addEventListener("mouseup",je),()=>{window.removeEventListener("mousemove",Ke),window.removeEventListener("mouseup",je),window.removeEventListener("touchmove",lt),window.removeEventListener("touchend",ht)}}},[ne,G,s,o,H,y,C,w]);const Oe={[`--${X}-preview-offset`]:`${ae}px`},He=s?eF.Z:vl,Ne=s?Ku.Z:Kc.Z;return a.createElement("div",{className:X,role:"separator","aria-valuenow":n2(y),"aria-valuemin":n2(C),"aria-valuemax":n2(w)},G&&a.createElement("div",{className:q()(`${X}-preview`,{[`${X}-preview-active`]:!!ae}),style:Oe}),a.createElement("div",{className:q()(`${X}-dragger`,{[`${X}-dragger-disabled`]:!I,[`${X}-dragger-active`]:f}),onMouseDown:me,onTouchStart:ge}),D&&a.createElement("div",{className:q()(`${X}-collapse-bar`,`${X}-collapse-bar-start`),onClick:()=>Z(o,"start")},a.createElement(He,{className:q()(`${X}-collapse-icon`,`${X}-collapse-start`)})),L&&a.createElement("div",{className:q()(`${X}-collapse-bar`,`${X}-collapse-bar-end`),onClick:()=>Z(o,"end")},a.createElement(Ne,{className:q()(`${X}-collapse-icon`,`${X}-collapse-end`)})))};const nF=e=>{const{componentCls:t}=e;return{[`&-rtl${t}-horizontal`]:{[`> ${t}-bar`]:{[`${t}-bar-collapse-previous`]:{insetInlineEnd:0,insetInlineStart:"unset"},[`${t}-bar-collapse-next`]:{insetInlineEnd:"unset",insetInlineStart:0}}},[`&-rtl${t}-vertical`]:{[`> ${t}-bar`]:{[`${t}-bar-collapse-previous`]:{insetInlineEnd:"50%",insetInlineStart:"unset"},[`${t}-bar-collapse-next`]:{insetInlineEnd:"50%",insetInlineStart:"unset"}}}}},Kx={position:"absolute",top:"50%",left:{_skip_check_:!0,value:"50%"},transform:"translate(-50%, -50%)"},rF=e=>{const{componentCls:t,colorFill:s,splitBarDraggableSize:o,splitBarSize:f,splitTriggerSize:y,controlItemBgHover:C,controlItemBgActive:w,controlItemBgActiveHover:I,prefixCls:D}=e,L=`${t}-bar`,z=`${t}-mask`,k=`${t}-panel`,j=e.calc(y).div(2).equal(),Z=`${D}-bar-preview-offset`,G={position:"absolute",background:e.colorPrimary,opacity:.2,pointerEvents:"none",transition:"none",zIndex:1,display:"none"};return{[t]:Object.assign(Object.assign(Object.assign({},(0,Qt.Wf)(e)),{display:"flex",width:"100%",height:"100%",alignItems:"stretch",[`> ${L}`]:{flex:"none",position:"relative",userSelect:"none",[`${L}-dragger`]:Object.assign(Object.assign({},Kx),{zIndex:1,"&::before":Object.assign({content:'""',background:C},Kx),"&::after":Object.assign({content:'""',background:s},Kx),[`&:hover:not(${L}-dragger-active)`]:{"&::before":{background:w}},"&-active":{zIndex:2,"&::before":{background:I}},[`&-disabled${L}-dragger`]:{zIndex:0,"&, &:hover, &-active":{cursor:"default","&::before":{background:C}},"&::after":{display:"none"}}}),[`${L}-collapse-bar`]:Object.assign(Object.assign({},Kx),{zIndex:e.zIndexPopupBase,background:C,fontSize:e.fontSizeSM,borderRadius:e.borderRadiusXS,color:e.colorText,cursor:"pointer",opacity:0,display:"flex",alignItems:"center",justifyContent:"center","&:hover":{background:w},"&:active":{background:I}}),"&:hover, &:active":{[`${L}-collapse-bar`]:{opacity:1}}},[z]:{position:"fixed",zIndex:e.zIndexPopupBase,inset:0,"&-horizontal":{cursor:"col-resize"},"&-vertical":{cursor:"row-resize"}},"&-horizontal":{flexDirection:"row",[`> ${L}`]:{width:0,[`${L}-preview`]:Object.assign(Object.assign({height:"100%",width:f},G),{[`&${L}-preview-active`]:{display:"block",transform:`translateX(var(--${Z}))`}}),[`${L}-dragger`]:{cursor:"col-resize",height:"100%",width:y,"&::before":{height:"100%",width:f},"&::after":{height:o,width:f}},[`${L}-collapse-bar`]:{width:e.fontSizeSM,height:e.controlHeightSM,"&-start":{left:{_skip_check_:!0,value:"auto"},right:{_skip_check_:!0,value:j},transform:"translateY(-50%)"},"&-end":{left:{_skip_check_:!0,value:j},right:{_skip_check_:!0,value:"auto"},transform:"translateY(-50%)"}}}},"&-vertical":{flexDirection:"column",[`> ${L}`]:{height:0,[`${L}-preview`]:Object.assign(Object.assign({height:f,width:"100%"},G),{[`&${L}-preview-active`]:{display:"block",transform:`translateY(var(--${Z}))`}}),[`${L}-dragger`]:{cursor:"row-resize",width:"100%",height:y,"&::before":{width:"100%",height:f},"&::after":{width:o,height:f}},[`${L}-collapse-bar`]:{height:e.fontSizeSM,width:e.controlHeightSM,"&-start":{top:"auto",bottom:j,transform:"translateX(-50%)"},"&-end":{top:j,bottom:"auto",transform:"translateX(-50%)"}}}},[k]:{overflow:"auto",padding:"0 1px",scrollbarWidth:"thin",boxSizing:"border-box","&-hidden":{padding:0,overflow:"hidden"},[`&:has(${t}:only-child)`]:{overflow:"hidden"}}}),nF(e))}},iF=e=>{var t;const s=e.splitBarSize||2,o=e.splitTriggerSize||6,f=e.resizeSpinnerSize||20,y=(t=e.splitBarDraggableSize)!==null&&t!==void 0?t:f;return{splitBarSize:s,splitTriggerSize:o,splitBarDraggableSize:y,resizeSpinnerSize:f}};var oF=(0,te.I$)("Splitter",e=>[rF(e)],iF),aF=e=>{const{prefixCls:t,className:s,style:o,layout:f="horizontal",children:y,rootClassName:C,onResizeStart:w,onResize:I,onResizeEnd:D,lazy:L}=e,{getPrefixCls:z,direction:k,className:j,style:Z}=(0,ye.dj)("splitter"),G=z("splitter",t),H=(0,Wn.Z)(G),[X,ne,oe]=oF(G,H),ae=f==="vertical",ie=k==="rtl",le=!ae&&ie,fe=YB(y),[me,ge]=(0,a.useState)(),xe=_n=>{const{offsetWidth:Fn,offsetHeight:on}=_n,Zt=ae?on:Fn;Zt!==0&&ge(Zt)},[Me,$e,Oe,He,Ne,Ke]=JB(fe,me),je=qB(fe,$e,ie),[lt,ht,It,Tt,wt]=QB(fe,je,Oe,me,Ke,ie),_t=(0,_r.Z)(_n=>{lt(_n),w==null||w($e)}),At=(0,_r.Z)((_n,Fn)=>{const on=ht(_n,Fn);I==null||I(on)}),Bt=(0,_r.Z)(()=>{It(),D==null||D($e)}),Dt=(0,_r.Z)((_n,Fn)=>{const on=Tt(_n,Fn);I==null||I(on),D==null||D(on)}),Gt=q()(G,s,`${G}-${f}`,{[`${G}-rtl`]:ie},C,j,oe,H,ne),Pt=`${G}-mask`,Pn=a.useMemo(()=>{const _n=[];let Fn=0;for(let on=0;on<fe.length;on+=1)Fn+=Oe[on],_n.push(Fn);return _n},[Oe]),Kn=Object.assign(Object.assign({},Z),o);return X(a.createElement(c.Z,{onResize:xe},a.createElement("div",{style:Kn,className:Gt},fe.map((_n,Fn)=>{const on=a.createElement(WB,Object.assign({},_n,{prefixCls:G,size:Me[Fn]}));let Zt=null;const Vn=je[Fn];if(Vn){const Ln=(Pn[Fn-1]||0)+He[Fn],kr=(Pn[Fn+1]||100)-Ne[Fn+1],Sr=(Pn[Fn-1]||0)+Ne[Fn],dr=(Pn[Fn+1]||100)-He[Fn+1];Zt=a.createElement(tF,{lazy:L,index:Fn,active:wt===Fn,prefixCls:G,vertical:ae,resizable:Vn.resizable,ariaNow:Pn[Fn]*100,ariaMin:Math.max(Ln,kr)*100,ariaMax:Math.min(Sr,dr)*100,startCollapsible:Vn.startCollapsible,endCollapsible:Vn.endCollapsible,onOffsetStart:_t,onOffsetUpdate:(cr,Zn,ur)=>{let ti=ae?ur:Zn;le&&(ti=-ti),At(cr,ti)},onOffsetEnd:Bt,onCollapse:Dt,containerSize:me||0})}return a.createElement(a.Fragment,{key:`split-panel-${Fn}`},on,Zt)}),typeof wt=="number"&&a.createElement("div",{"aria-hidden":!0,className:q()(Pt,`${Pt}-${f}`)}))))};const kT=aF;kT.Panel=GB;var sF=kT},33839:function(Ir,Ft,B){"use strict";B.d(Ft,{Z:function(){return oo}});var a=B(75271),Qe=B(13143),q=B(84896),c=B(82187),be=B.n(c),We=B(23022),De=B(38926),Te=B(5147),ye=B(89692),te=B(58190),Ve=B(59295),Ie=B(45985);function Ue(){return typeof BigInt=="function"}function tt(nn){return!nn&&nn!==0&&!Number.isNaN(nn)||!String(nn).trim()}function ot(nn){var Mn=nn.trim(),Ee=Mn.startsWith("-");Ee&&(Mn=Mn.slice(1)),Mn=Mn.replace(/(\.\d*[^0])0*$/,"$1").replace(/\.0*$/,"").replace(/^0+/,""),Mn.startsWith(".")&&(Mn="0".concat(Mn));var dn=Mn||"0",br=dn.split("."),rr=br[0]||"0",Yr=br[1]||"0";rr==="0"&&Yr==="0"&&(Ee=!1);var Mi=Ee?"-":"";return{negative:Ee,negativeStr:Mi,trimStr:dn,integerStr:rr,decimalStr:Yr,fullStr:"".concat(Mi).concat(dn)}}function Je(nn){var Mn=String(nn);return!Number.isNaN(Number(Mn))&&Mn.includes("e")}function ct(nn){var Mn=String(nn);if(Je(nn)){var Ee=Number(Mn.slice(Mn.indexOf("e-")+2)),dn=Mn.match(/\.(\d+)/);return dn!=null&&dn[1]&&(Ee+=dn[1].length),Ee}return Mn.includes(".")&&Xe(Mn)?Mn.length-Mn.indexOf(".")-1:0}function bt(nn){var Mn=String(nn);if(Je(nn)){if(nn>Number.MAX_SAFE_INTEGER)return String(Ue()?BigInt(nn).toString():Number.MAX_SAFE_INTEGER);if(nn<Number.MIN_SAFE_INTEGER)return String(Ue()?BigInt(nn).toString():Number.MIN_SAFE_INTEGER);Mn=nn.toFixed(ct(Mn))}return ot(Mn).fullStr}function Xe(nn){return typeof nn=="number"?!Number.isNaN(nn):nn?/^\s*-?\d+(\.\d+)?\s*$/.test(nn)||/^\s*-?\d+\.\s*$/.test(nn)||/^\s*-?\.\d+\s*$/.test(nn):!1}var jt=function(){function nn(Mn){if((0,Ve.Z)(this,nn),(0,De.Z)(this,"origin",""),(0,De.Z)(this,"negative",void 0),(0,De.Z)(this,"integer",void 0),(0,De.Z)(this,"decimal",void 0),(0,De.Z)(this,"decimalLen",void 0),(0,De.Z)(this,"empty",void 0),(0,De.Z)(this,"nan",void 0),tt(Mn)){this.empty=!0;return}if(this.origin=String(Mn),Mn==="-"||Number.isNaN(Mn)){this.nan=!0;return}var Ee=Mn;if(Je(Ee)&&(Ee=Number(Ee)),Ee=typeof Ee=="string"?Ee:bt(Ee),Xe(Ee)){var dn=ot(Ee);this.negative=dn.negative;var br=dn.trimStr.split(".");this.integer=BigInt(br[0]);var rr=br[1]||"0";this.decimal=BigInt(rr),this.decimalLen=rr.length}else this.nan=!0}return(0,Ie.Z)(nn,[{key:"getMark",value:function(){return this.negative?"-":""}},{key:"getIntegerStr",value:function(){return this.integer.toString()}},{key:"getDecimalStr",value:function(){return this.decimal.toString().padStart(this.decimalLen,"0")}},{key:"alignDecimal",value:function(Ee){var dn="".concat(this.getMark()).concat(this.getIntegerStr()).concat(this.getDecimalStr().padEnd(Ee,"0"));return BigInt(dn)}},{key:"negate",value:function(){var Ee=new nn(this.toString());return Ee.negative=!Ee.negative,Ee}},{key:"cal",value:function(Ee,dn,br){var rr=Math.max(this.getDecimalStr().length,Ee.getDecimalStr().length),Yr=this.alignDecimal(rr),Mi=Ee.alignDecimal(rr),Wi=dn(Yr,Mi).toString(),Bi=br(rr),Di=ot(Wi),Re=Di.negativeStr,de=Di.trimStr,Y="".concat(Re).concat(de.padStart(Bi+1,"0"));return new nn("".concat(Y.slice(0,-Bi),".").concat(Y.slice(-Bi)))}},{key:"add",value:function(Ee){if(this.isInvalidate())return new nn(Ee);var dn=new nn(Ee);return dn.isInvalidate()?this:this.cal(dn,function(br,rr){return br+rr},function(br){return br})}},{key:"multi",value:function(Ee){var dn=new nn(Ee);return this.isInvalidate()||dn.isInvalidate()?new nn(NaN):this.cal(dn,function(br,rr){return br*rr},function(br){return br*2})}},{key:"isEmpty",value:function(){return this.empty}},{key:"isNaN",value:function(){return this.nan}},{key:"isInvalidate",value:function(){return this.isEmpty()||this.isNaN()}},{key:"equals",value:function(Ee){return this.toString()===(Ee==null?void 0:Ee.toString())}},{key:"lessEquals",value:function(Ee){return this.add(Ee.negate().toString()).toNumber()<=0}},{key:"toNumber",value:function(){return this.isNaN()?NaN:Number(this.toString())}},{key:"toString",value:function(){var Ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return Ee?this.isInvalidate()?"":ot("".concat(this.getMark()).concat(this.getIntegerStr(),".").concat(this.getDecimalStr())).fullStr:this.origin}}]),nn}(),vt=function(){function nn(Mn){if((0,Ve.Z)(this,nn),(0,De.Z)(this,"origin",""),(0,De.Z)(this,"number",void 0),(0,De.Z)(this,"empty",void 0),tt(Mn)){this.empty=!0;return}this.origin=String(Mn),this.number=Number(Mn)}return(0,Ie.Z)(nn,[{key:"negate",value:function(){return new nn(-this.toNumber())}},{key:"add",value:function(Ee){if(this.isInvalidate())return new nn(Ee);var dn=Number(Ee);if(Number.isNaN(dn))return this;var br=this.number+dn;if(br>Number.MAX_SAFE_INTEGER)return new nn(Number.MAX_SAFE_INTEGER);if(br<Number.MIN_SAFE_INTEGER)return new nn(Number.MIN_SAFE_INTEGER);var rr=Math.max(ct(this.number),ct(dn));return new nn(br.toFixed(rr))}},{key:"multi",value:function(Ee){var dn=Number(Ee);if(this.isInvalidate()||Number.isNaN(dn))return new nn(NaN);var br=this.number*dn;if(br>Number.MAX_SAFE_INTEGER)return new nn(Number.MAX_SAFE_INTEGER);if(br<Number.MIN_SAFE_INTEGER)return new nn(Number.MIN_SAFE_INTEGER);var rr=Math.max(ct(this.number),ct(dn));return new nn(br.toFixed(rr))}},{key:"isEmpty",value:function(){return this.empty}},{key:"isNaN",value:function(){return Number.isNaN(this.number)}},{key:"isInvalidate",value:function(){return this.isEmpty()||this.isNaN()}},{key:"equals",value:function(Ee){return this.toNumber()===(Ee==null?void 0:Ee.toNumber())}},{key:"lessEquals",value:function(Ee){return this.add(Ee.negate().toString()).toNumber()<=0}},{key:"toNumber",value:function(){return this.number}},{key:"toString",value:function(){var Ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return Ee?this.isInvalidate()?"":bt(this.number):this.origin}}]),nn}();function Mt(nn){return Ue()?new jt(nn):new vt(nn)}function Ut(nn,Mn,Ee){var dn=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(nn==="")return"";var br=ot(nn),rr=br.negativeStr,Yr=br.integerStr,Mi=br.decimalStr,Wi="".concat(Mn).concat(Mi),Bi="".concat(rr).concat(Yr);if(Ee>=0){var Di=Number(Mi[Ee]);if(Di>=5&&!dn){var Re=Mt(nn).add("".concat(rr,"0.").concat("0".repeat(Ee)).concat(10-Di));return Ut(Re.toString(),Mn,Ee,dn)}return Ee===0?Bi:"".concat(Bi).concat(Mn).concat(Mi.padEnd(Ee,"0").slice(0,Ee))}return Wi===".0"?Bi:"".concat(Bi).concat(Wi)}var Vt=Mt,yr=B(44885),lr=B(92076);function Xn(nn,Mn){return typeof Proxy!="undefined"&&nn?new Proxy(nn,{get:function(dn,br){if(Mn[br])return Mn[br];var rr=dn[br];return typeof rr=="function"?rr.bind(dn):rr}}):nn}var Ge=B(42684),Ht=B(4449);function un(nn,Mn){var Ee=(0,a.useRef)(null);function dn(){try{var rr=nn.selectionStart,Yr=nn.selectionEnd,Mi=nn.value,Wi=Mi.substring(0,rr),Bi=Mi.substring(Yr);Ee.current={start:rr,end:Yr,value:Mi,beforeTxt:Wi,afterTxt:Bi}}catch(Di){}}function br(){if(nn&&Ee.current&&Mn)try{var rr=nn.value,Yr=Ee.current,Mi=Yr.beforeTxt,Wi=Yr.afterTxt,Bi=Yr.start,Di=rr.length;if(rr.startsWith(Mi))Di=Mi.length;else if(rr.endsWith(Wi))Di=rr.length-Ee.current.afterTxt.length;else{var Re=Mi[Bi-1],de=rr.indexOf(Re,Bi-1);de!==-1&&(Di=de+1)}nn.setSelectionRange(Di,Di)}catch(Y){(0,Ht.ZP)(!1,"Something warning of cursor restore. Please fire issue about this: ".concat(Y.message))}}return[dn,br]}var Xt=B(21611),ke=function(){var Mn=(0,a.useState)(!1),Ee=(0,ye.Z)(Mn,2),dn=Ee[0],br=Ee[1];return(0,lr.Z)(function(){br((0,Xt.Z)())},[]),dn},zn=ke,mn=B(49975),Rn=200,ut=600;function Jt(nn){var Mn=nn.prefixCls,Ee=nn.upNode,dn=nn.downNode,br=nn.upDisabled,rr=nn.downDisabled,Yr=nn.onStep,Mi=a.useRef(),Wi=a.useRef([]),Bi=a.useRef();Bi.current=Yr;var Di=function(){clearTimeout(Mi.current)},Re=function($t,ln){$t.preventDefault(),Di(),Bi.current(ln);function vn(){Bi.current(ln),Mi.current=setTimeout(vn,Rn)}Mi.current=setTimeout(vn,ut)};a.useEffect(function(){return function(){Di(),Wi.current.forEach(function(tn){return mn.Z.cancel(tn)})}},[]);var de=zn();if(de)return null;var Y="".concat(Mn,"-handler"),Ze=be()(Y,"".concat(Y,"-up"),(0,De.Z)({},"".concat(Y,"-up-disabled"),br)),pe=be()(Y,"".concat(Y,"-down"),(0,De.Z)({},"".concat(Y,"-down-disabled"),rr)),nt=function(){return Wi.current.push((0,mn.Z)(Di))},rt={unselectable:"on",role:"button",onMouseUp:nt,onMouseLeave:nt};return a.createElement("div",{className:"".concat(Y,"-wrap")},a.createElement("span",(0,We.Z)({},rt,{onMouseDown:function($t){Re($t,!0)},"aria-label":"Increase Value","aria-disabled":br,className:Ze}),Ee||a.createElement("span",{unselectable:"on",className:"".concat(Mn,"-handler-up-inner")})),a.createElement("span",(0,We.Z)({},rt,{onMouseDown:function($t){Re($t,!1)},"aria-label":"Decrease Value","aria-disabled":rr,className:pe}),dn||a.createElement("span",{unselectable:"on",className:"".concat(Mn,"-handler-down-inner")})))}function Cn(nn){var Mn=typeof nn=="number"?bt(nn):ot(nn).fullStr,Ee=Mn.includes(".");return Ee?ot(Mn.replace(/(\d)\.(\d)/g,"$1$2.")).fullStr:nn+"0"}var he=B(68677),Qt=function(){var nn=(0,a.useRef)(0),Mn=function(){mn.Z.cancel(nn.current)};return(0,a.useEffect)(function(){return Mn},[]),function(Ee){Mn(),nn.current=(0,mn.Z)(function(){Ee()})}},xi=["prefixCls","className","style","min","max","step","defaultValue","value","disabled","readOnly","upHandler","downHandler","keyboard","changeOnWheel","controls","classNames","stringMode","parser","formatter","precision","decimalSeparator","onChange","onInput","onPressEnter","onStep","changeOnBlur","domRef"],ui=["disabled","style","prefixCls","value","prefix","suffix","addonBefore","addonAfter","className","classNames"],Ae=function(Mn,Ee){return Mn||Ee.isEmpty()?Ee.toString():Ee.toNumber()},An=function(Mn){var Ee=Vt(Mn);return Ee.isInvalidate()?null:Ee},Ur=a.forwardRef(function(nn,Mn){var Ee=nn.prefixCls,dn=nn.className,br=nn.style,rr=nn.min,Yr=nn.max,Mi=nn.step,Wi=Mi===void 0?1:Mi,Bi=nn.defaultValue,Di=nn.value,Re=nn.disabled,de=nn.readOnly,Y=nn.upHandler,Ze=nn.downHandler,pe=nn.keyboard,nt=nn.changeOnWheel,rt=nt===void 0?!1:nt,tn=nn.controls,$t=tn===void 0?!0:tn,ln=nn.classNames,vn=nn.stringMode,et=nn.parser,Rt=nn.formatter,Kt=nn.precision,rn=nn.decimalSeparator,dt=nn.onChange,at=nn.onInput,Sn=nn.onPressEnter,bn=nn.onStep,Gn=nn.changeOnBlur,or=Gn===void 0?!0:Gn,gr=nn.domRef,Fr=(0,te.Z)(nn,xi),hi="".concat(Ee,"-input"),Hr=a.useRef(null),to=a.useState(!1),gt=(0,ye.Z)(to,2),wn=gt[0],qt=gt[1],Nn=a.useRef(!1),sr=a.useRef(!1),Wr=a.useRef(!1),Pi=a.useState(function(){return Vt(Di!=null?Di:Bi)}),Co=(0,ye.Z)(Pi,2),Vi=Co[0],uo=Co[1];function fo(Ce){Di===void 0&&uo(Ce)}var Ki=a.useCallback(function(Ce,Ye){if(!Ye)return Kt>=0?Kt:Math.max(ct(Ce),ct(Wi))},[Kt,Wi]),Mo=a.useCallback(function(Ce){var Ye=String(Ce);if(et)return et(Ye);var Fe=Ye;return rn&&(Fe=Fe.replace(rn,".")),Fe.replace(/[^\w.-]+/g,"")},[et,rn]),Zo=a.useRef(""),Lo=a.useCallback(function(Ce,Ye){if(Rt)return Rt(Ce,{userTyping:Ye,input:String(Zo.current)});var Fe=typeof Ce=="number"?bt(Ce):Ce;if(!Ye){var Nt=Ki(Fe,Ye);if(Xe(Fe)&&(rn||Nt>=0)){var hn=rn||".";Fe=Ut(Fe,hn,Nt)}}return Fe},[Rt,Ki,rn]),To=a.useState(function(){var Ce=Bi!=null?Bi:Di;return Vi.isInvalidate()&&["string","number"].includes((0,Te.Z)(Ce))?Number.isNaN(Ce)?"":Ce:Lo(Vi.toString(),!1)}),$o=(0,ye.Z)(To,2),zo=$o[0],qo=$o[1];Zo.current=zo;function ho(Ce,Ye){qo(Lo(Ce.isInvalidate()?Ce.toString(!1):Ce.toString(!Ye),Ye))}var So=a.useMemo(function(){return An(Yr)},[Yr,Kt]),wo=a.useMemo(function(){return An(rr)},[rr,Kt]),K=a.useMemo(function(){return!So||!Vi||Vi.isInvalidate()?!1:So.lessEquals(Vi)},[So,Vi]),_e=a.useMemo(function(){return!wo||!Vi||Vi.isInvalidate()?!1:Vi.lessEquals(wo)},[wo,Vi]),Ct=un(Hr.current,wn),Et=(0,ye.Z)(Ct,2),En=Et[0],Qn=Et[1],si=function(Ye){return So&&!Ye.lessEquals(So)?So:wo&&!wo.lessEquals(Ye)?wo:null},Or=function(Ye){return!si(Ye)},Ri=function(Ye,Fe){var Nt=Ye,hn=Or(Nt)||Nt.isEmpty();if(!Nt.isEmpty()&&!Fe&&(Nt=si(Nt)||Nt,hn=!0),!de&&!Re&&hn){var ir=Nt.toString(),Ar=Ki(ir,Fe);return Ar>=0&&(Nt=Vt(Ut(ir,".",Ar)),Or(Nt)||(Nt=Vt(Ut(ir,".",Ar,!0)))),Nt.equals(Vi)||(fo(Nt),dt==null||dt(Nt.isEmpty()?null:Ae(vn,Nt)),Di===void 0&&ho(Nt,Fe)),Nt}return Vi},_o=Qt(),Lr=function Ce(Ye){if(En(),Zo.current=Ye,qo(Ye),!sr.current){var Fe=Mo(Ye),Nt=Vt(Fe);Nt.isNaN()||Ri(Nt,!0)}at==null||at(Ye),_o(function(){var hn=Ye;et||(hn=Ye.replace(//g,".")),hn!==Ye&&Ce(hn)})},Ji=function(){sr.current=!0},zr=function(){sr.current=!1,Lr(Hr.current.value)},Si=function(Ye){Lr(Ye.target.value)},ai=function(Ye){var Fe;if(!(Ye&&K||!Ye&&_e)){Nn.current=!1;var Nt=Vt(Wr.current?Cn(Wi):Wi);Ye||(Nt=Nt.negate());var hn=(Vi||Vt(0)).add(Nt.toString()),ir=Ri(hn,!1);bn==null||bn(Ae(vn,ir),{offset:Wr.current?Cn(Wi):Wi,type:Ye?"up":"down"}),(Fe=Hr.current)===null||Fe===void 0||Fe.focus()}},mi=function(Ye){var Fe=Vt(Mo(zo)),Nt;Fe.isNaN()?Nt=Ri(Vi,Ye):Nt=Ri(Fe,Ye),Di!==void 0?ho(Vi,!1):Nt.isNaN()||ho(Nt,!1)},Xo=function(){Nn.current=!0},Uo=function(Ye){var Fe=Ye.key,Nt=Ye.shiftKey;Nn.current=!0,Wr.current=Nt,Fe==="Enter"&&(sr.current||(Nn.current=!1),mi(!1),Sn==null||Sn(Ye)),pe!==!1&&!sr.current&&["Up","ArrowUp","Down","ArrowDown"].includes(Fe)&&(ai(Fe==="Up"||Fe==="ArrowUp"),Ye.preventDefault())},sn=function(){Nn.current=!1,Wr.current=!1};a.useEffect(function(){if(rt&&wn){var Ce=function(Nt){ai(Nt.deltaY<0),Nt.preventDefault()},Ye=Hr.current;if(Ye)return Ye.addEventListener("wheel",Ce,{passive:!1}),function(){return Ye.removeEventListener("wheel",Ce)}}});var qe=function(){or&&mi(!1),qt(!1),Nn.current=!1};return(0,lr.o)(function(){Vi.isInvalidate()||ho(Vi,!1)},[Kt,Rt]),(0,lr.o)(function(){var Ce=Vt(Di);uo(Ce);var Ye=Vt(Mo(zo));(!Ce.equals(Ye)||!Nn.current||Rt)&&ho(Ce,Nn.current)},[Di]),(0,lr.o)(function(){Rt&&Qn()},[zo]),a.createElement("div",{ref:gr,className:be()(Ee,dn,(0,De.Z)((0,De.Z)((0,De.Z)((0,De.Z)((0,De.Z)({},"".concat(Ee,"-focused"),wn),"".concat(Ee,"-disabled"),Re),"".concat(Ee,"-readonly"),de),"".concat(Ee,"-not-a-number"),Vi.isNaN()),"".concat(Ee,"-out-of-range"),!Vi.isInvalidate()&&!Or(Vi))),style:br,onFocus:function(){qt(!0)},onBlur:qe,onKeyDown:Uo,onKeyUp:sn,onCompositionStart:Ji,onCompositionEnd:zr,onBeforeInput:Xo},$t&&a.createElement(Jt,{prefixCls:Ee,upNode:Y,downNode:Ze,upDisabled:K,downDisabled:_e,onStep:ai}),a.createElement("div",{className:"".concat(hi,"-wrap")},a.createElement("input",(0,We.Z)({autoComplete:"off",role:"spinbutton","aria-valuemin":rr,"aria-valuemax":Yr,"aria-valuenow":Vi.isInvalidate()?null:Vi.toString(),step:Wi},Fr,{ref:(0,Ge.sQ)(Hr,Mn),className:hi,value:zo,onChange:Si,disabled:Re,readOnly:de}))))}),Jr=a.forwardRef(function(nn,Mn){var Ee=nn.disabled,dn=nn.style,br=nn.prefixCls,rr=br===void 0?"rc-input-number":br,Yr=nn.value,Mi=nn.prefix,Wi=nn.suffix,Bi=nn.addonBefore,Di=nn.addonAfter,Re=nn.className,de=nn.classNames,Y=(0,te.Z)(nn,ui),Ze=a.useRef(null),pe=a.useRef(null),nt=a.useRef(null),rt=function($t){nt.current&&(0,he.nH)(nt.current,$t)};return a.useImperativeHandle(Mn,function(){return Xn(nt.current,{focus:rt,nativeElement:Ze.current.nativeElement||pe.current})}),a.createElement(yr.Q,{className:Re,triggerFocus:rt,prefixCls:rr,value:Yr,disabled:Ee,style:dn,prefix:Mi,suffix:Wi,addonAfter:Di,addonBefore:Bi,classNames:de,components:{affixWrapper:"div",groupWrapper:"div",wrapper:"div",groupAddon:"div"},ref:Ze},a.createElement(Ur,(0,We.Z)({prefixCls:rr,disabled:Ee,ref:nt,domRef:pe,className:de==null?void 0:de.input},Y)))}),On=Jr,Kr=On,Ti=B(78018),fr=B(94773),it=B(98446),Ot=B(62639),Dn=B(98472),pn=B(38437),gn=B(95741),wr=B(60824),Hn=B(7038),oi=B(23137),pi=B(55921),ri=B(43452),ni=B(21571),Cr=B(57616),qn=B(34299),_r=B(9288),Pr=B(84825),Tr=B(83509),ei=B(84432);const ar=nn=>{var Mn;const Ee=(Mn=nn.handleVisible)!==null&&Mn!==void 0?Mn:"auto",dn=nn.controlHeightSM-nn.lineWidth*2;return Object.assign(Object.assign({},(0,ni.T)(nn)),{controlWidth:90,handleWidth:dn,handleFontSize:nn.fontSize/2,handleVisible:Ee,handleActiveBg:nn.colorFillAlter,handleBg:nn.colorBgContainer,filledHandleBg:new ei.t(nn.colorFillSecondary).onBackground(nn.colorBgContainer).toHexString(),handleHoverColor:nn.colorPrimary,handleBorderColor:nn.colorBorder,handleOpacity:Ee===!0?1:0,handleVisibleWidth:Ee===!0?dn:0})},mr=(nn,Mn)=>{let{componentCls:Ee,borderRadiusSM:dn,borderRadiusLG:br}=nn;const rr=Mn==="lg"?br:dn;return{[`&-${Mn}`]:{[`${Ee}-handler-wrap`]:{borderStartEndRadius:rr,borderEndEndRadius:rr},[`${Ee}-handler-up`]:{borderStartEndRadius:rr},[`${Ee}-handler-down`]:{borderEndEndRadius:rr}}}},ii=nn=>{const{componentCls:Mn,lineWidth:Ee,lineType:dn,borderRadius:br,inputFontSizeSM:rr,inputFontSizeLG:Yr,controlHeightLG:Mi,controlHeightSM:Wi,colorError:Bi,paddingInlineSM:Di,paddingBlockSM:Re,paddingBlockLG:de,paddingInlineLG:Y,colorTextDescription:Ze,motionDurationMid:pe,handleHoverColor:nt,handleOpacity:rt,paddingInline:tn,paddingBlock:$t,handleBg:ln,handleActiveBg:vn,colorTextDisabled:et,borderRadiusSM:Rt,borderRadiusLG:Kt,controlWidth:rn,handleBorderColor:dt,filledHandleBg:at,lineHeightLG:Sn,calc:bn}=nn;return[{[Mn]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(0,qn.Wf)(nn)),(0,ri.ik)(nn)),{display:"inline-block",width:rn,margin:0,padding:0,borderRadius:br}),(0,Cr.qG)(nn,{[`${Mn}-handler-wrap`]:{background:ln,[`${Mn}-handler-down`]:{borderBlockStart:`${(0,pi.bf)(Ee)} ${dn} ${dt}`}}})),(0,Cr.H8)(nn,{[`${Mn}-handler-wrap`]:{background:at,[`${Mn}-handler-down`]:{borderBlockStart:`${(0,pi.bf)(Ee)} ${dn} ${dt}`}},"&:focus-within":{[`${Mn}-handler-wrap`]:{background:ln}}})),(0,Cr.vc)(nn,{[`${Mn}-handler-wrap`]:{background:ln,[`${Mn}-handler-down`]:{borderBlockStart:`${(0,pi.bf)(Ee)} ${dn} ${dt}`}}})),(0,Cr.Mu)(nn)),{"&-rtl":{direction:"rtl",[`${Mn}-input`]:{direction:"rtl"}},"&-lg":{padding:0,fontSize:Yr,lineHeight:Sn,borderRadius:Kt,[`input${Mn}-input`]:{height:bn(Mi).sub(bn(Ee).mul(2)).equal(),padding:`${(0,pi.bf)(de)} ${(0,pi.bf)(Y)}`}},"&-sm":{padding:0,fontSize:rr,borderRadius:Rt,[`input${Mn}-input`]:{height:bn(Wi).sub(bn(Ee).mul(2)).equal(),padding:`${(0,pi.bf)(Re)} ${(0,pi.bf)(Di)}`}},"&-out-of-range":{[`${Mn}-input-wrap`]:{input:{color:Bi}}},"&-group":Object.assign(Object.assign(Object.assign({},(0,qn.Wf)(nn)),(0,ri.s7)(nn)),{"&-wrapper":Object.assign(Object.assign(Object.assign({display:"inline-block",textAlign:"start",verticalAlign:"top",[`${Mn}-affix-wrapper`]:{width:"100%"},"&-lg":{[`${Mn}-group-addon`]:{borderRadius:Kt,fontSize:nn.fontSizeLG}},"&-sm":{[`${Mn}-group-addon`]:{borderRadius:Rt}}},(0,Cr.ir)(nn)),(0,Cr.S5)(nn)),{[`&:not(${Mn}-compact-first-item):not(${Mn}-compact-last-item)${Mn}-compact-item`]:{[`${Mn}, ${Mn}-group-addon`]:{borderRadius:0}},[`&:not(${Mn}-compact-last-item)${Mn}-compact-first-item`]:{[`${Mn}, ${Mn}-group-addon`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`&:not(${Mn}-compact-first-item)${Mn}-compact-last-item`]:{[`${Mn}, ${Mn}-group-addon`]:{borderStartStartRadius:0,borderEndStartRadius:0}}})}),[`&-disabled ${Mn}-input`]:{cursor:"not-allowed"},[Mn]:{"&-input":Object.assign(Object.assign(Object.assign(Object.assign({},(0,qn.Wf)(nn)),{width:"100%",padding:`${(0,pi.bf)($t)} ${(0,pi.bf)(tn)}`,textAlign:"start",backgroundColor:"transparent",border:0,borderRadius:br,outline:0,transition:`all ${pe} linear`,appearance:"textfield",fontSize:"inherit"}),(0,ri.nz)(nn.colorTextPlaceholder)),{'&[type="number"]::-webkit-inner-spin-button, &[type="number"]::-webkit-outer-spin-button':{margin:0,webkitAppearance:"none",appearance:"none"}})},[`&:hover ${Mn}-handler-wrap, &-focused ${Mn}-handler-wrap`]:{width:nn.handleWidth,opacity:1}})},{[Mn]:Object.assign(Object.assign(Object.assign({[`${Mn}-handler-wrap`]:{position:"absolute",insetBlockStart:0,insetInlineEnd:0,width:nn.handleVisibleWidth,opacity:rt,height:"100%",borderStartStartRadius:0,borderStartEndRadius:br,borderEndEndRadius:br,borderEndStartRadius:0,display:"flex",flexDirection:"column",alignItems:"stretch",transition:`all ${pe}`,overflow:"hidden",[`${Mn}-handler`]:{display:"flex",alignItems:"center",justifyContent:"center",flex:"auto",height:"40%",[`
              ${Mn}-handler-up-inner,
              ${Mn}-handler-down-inner
            `]:{marginInlineEnd:0,fontSize:nn.handleFontSize}}},[`${Mn}-handler`]:{height:"50%",overflow:"hidden",color:Ze,fontWeight:"bold",lineHeight:0,textAlign:"center",cursor:"pointer",borderInlineStart:`${(0,pi.bf)(Ee)} ${dn} ${dt}`,transition:`all ${pe} linear`,"&:active":{background:vn},"&:hover":{height:"60%",[`
              ${Mn}-handler-up-inner,
              ${Mn}-handler-down-inner
            `]:{color:nt}},"&-up-inner, &-down-inner":Object.assign(Object.assign({},(0,qn.Ro)()),{color:Ze,transition:`all ${pe} linear`,userSelect:"none"})},[`${Mn}-handler-up`]:{borderStartEndRadius:br},[`${Mn}-handler-down`]:{borderEndEndRadius:br}},mr(nn,"lg")),mr(nn,"sm")),{"&-disabled, &-readonly":{[`${Mn}-handler-wrap`]:{display:"none"},[`${Mn}-input`]:{color:"inherit"}},[`
          ${Mn}-handler-up-disabled,
          ${Mn}-handler-down-disabled
        `]:{cursor:"not-allowed"},[`
          ${Mn}-handler-up-disabled:hover &-handler-up-inner,
          ${Mn}-handler-down-disabled:hover &-handler-down-inner
        `]:{color:et}})}]},Wn=nn=>{const{componentCls:Mn,paddingBlock:Ee,paddingInline:dn,inputAffixPadding:br,controlWidth:rr,borderRadiusLG:Yr,borderRadiusSM:Mi,paddingInlineLG:Wi,paddingInlineSM:Bi,paddingBlockLG:Di,paddingBlockSM:Re,motionDurationMid:de}=nn;return{[`${Mn}-affix-wrapper`]:Object.assign(Object.assign({[`input${Mn}-input`]:{padding:`${(0,pi.bf)(Ee)} 0`}},(0,ri.ik)(nn)),{position:"relative",display:"inline-flex",alignItems:"center",width:rr,padding:0,paddingInlineStart:dn,"&-lg":{borderRadius:Yr,paddingInlineStart:Wi,[`input${Mn}-input`]:{padding:`${(0,pi.bf)(Di)} 0`}},"&-sm":{borderRadius:Mi,paddingInlineStart:Bi,[`input${Mn}-input`]:{padding:`${(0,pi.bf)(Re)} 0`}},[`&:not(${Mn}-disabled):hover`]:{zIndex:1},"&-focused, &:focus":{zIndex:1},[`&-disabled > ${Mn}-disabled`]:{background:"transparent"},[`> div${Mn}`]:{width:"100%",border:"none",outline:"none",[`&${Mn}-focused`]:{boxShadow:"none !important"}},"&::before":{display:"inline-block",width:0,visibility:"hidden",content:'"\\a0"'},[`${Mn}-handler-wrap`]:{zIndex:2},[Mn]:{position:"static",color:"inherit","&-prefix, &-suffix":{display:"flex",flex:"none",alignItems:"center",pointerEvents:"none"},"&-prefix":{marginInlineEnd:br},"&-suffix":{insetBlockStart:0,insetInlineEnd:0,height:"100%",marginInlineEnd:dn,marginInlineStart:br,transition:`margin ${de}`}},[`&:hover ${Mn}-handler-wrap, &-focused ${Mn}-handler-wrap`]:{width:nn.handleWidth,opacity:1},[`&:not(${Mn}-affix-wrapper-without-controls):hover ${Mn}-suffix`]:{marginInlineEnd:nn.calc(nn.handleWidth).add(dn).equal()}})}};var di=(0,Pr.I$)("InputNumber",nn=>{const Mn=(0,Tr.IX)(nn,(0,ni.e)(nn));return[ii(Mn),Wn(Mn),(0,_r.c)(Mn)]},ar,{unitless:{handleOpacity:!0}}),Ci=function(nn,Mn){var Ee={};for(var dn in nn)Object.prototype.hasOwnProperty.call(nn,dn)&&Mn.indexOf(dn)<0&&(Ee[dn]=nn[dn]);if(nn!=null&&typeof Object.getOwnPropertySymbols=="function")for(var br=0,dn=Object.getOwnPropertySymbols(nn);br<dn.length;br++)Mn.indexOf(dn[br])<0&&Object.prototype.propertyIsEnumerable.call(nn,dn[br])&&(Ee[dn[br]]=nn[dn[br]]);return Ee};const eo=a.forwardRef((nn,Mn)=>{const{getPrefixCls:Ee,direction:dn}=a.useContext(it.E_),br=a.useRef(null);a.useImperativeHandle(Mn,()=>br.current);const{className:rr,rootClassName:Yr,size:Mi,disabled:Wi,prefixCls:Bi,addonBefore:Di,addonAfter:Re,prefix:de,suffix:Y,bordered:Ze,readOnly:pe,status:nt,controls:rt,variant:tn}=nn,$t=Ci(nn,["className","rootClassName","size","disabled","prefixCls","addonBefore","addonAfter","prefix","suffix","bordered","readOnly","status","controls","variant"]),ln=Ee("input-number",Bi),vn=(0,pn.Z)(ln),[et,Rt,Kt]=di(ln,vn),{compactSize:rn,compactItemClassnames:dt}=(0,oi.ri)(ln,dn);let at=a.createElement(q.Z,{className:`${ln}-handler-up-inner`}),Sn=a.createElement(Qe.Z,{className:`${ln}-handler-down-inner`});const bn=typeof rt=="boolean"?rt:void 0;typeof rt=="object"&&(at=typeof rt.upIcon=="undefined"?at:a.createElement("span",{className:`${ln}-handler-up-inner`},rt.upIcon),Sn=typeof rt.downIcon=="undefined"?Sn:a.createElement("span",{className:`${ln}-handler-down-inner`},rt.downIcon));const{hasFeedback:Gn,status:or,isFormItemInput:gr,feedbackIcon:Fr}=a.useContext(wr.aM),hi=(0,fr.F)(or,nt),Hr=(0,gn.Z)(Co=>{var Vi;return(Vi=Mi!=null?Mi:rn)!==null&&Vi!==void 0?Vi:Co}),to=a.useContext(Dn.Z),gt=Wi!=null?Wi:to,[wn,qt]=(0,Hn.Z)("inputNumber",tn,Ze),Nn=Gn&&a.createElement(a.Fragment,null,Fr),sr=be()({[`${ln}-lg`]:Hr==="large",[`${ln}-sm`]:Hr==="small",[`${ln}-rtl`]:dn==="rtl",[`${ln}-in-form-item`]:gr},Rt),Wr=`${ln}-group`,Pi=a.createElement(Kr,Object.assign({ref:br,disabled:gt,className:be()(Kt,vn,rr,Yr,dt),upHandler:at,downHandler:Sn,prefixCls:ln,readOnly:pe,controls:bn,prefix:de,suffix:Nn||Y,addonBefore:Di&&a.createElement(Ti.Z,{form:!0,space:!0},Di),addonAfter:Re&&a.createElement(Ti.Z,{form:!0,space:!0},Re),classNames:{input:sr,variant:be()({[`${ln}-${wn}`]:qt},(0,fr.Z)(ln,hi,Gn)),affixWrapper:be()({[`${ln}-affix-wrapper-sm`]:Hr==="small",[`${ln}-affix-wrapper-lg`]:Hr==="large",[`${ln}-affix-wrapper-rtl`]:dn==="rtl",[`${ln}-affix-wrapper-without-controls`]:rt===!1},Rt),wrapper:be()({[`${Wr}-rtl`]:dn==="rtl"},Rt),groupWrapper:be()({[`${ln}-group-wrapper-sm`]:Hr==="small",[`${ln}-group-wrapper-lg`]:Hr==="large",[`${ln}-group-wrapper-rtl`]:dn==="rtl",[`${ln}-group-wrapper-${wn}`]:qt},(0,fr.Z)(`${ln}-group-wrapper`,hi,Gn),Rt)}},$t));return et(Pi)}),Io=eo,ci=nn=>a.createElement(Ot.ZP,{theme:{components:{InputNumber:{handleVisible:!0}}}},a.createElement(eo,Object.assign({},nn)));Io._InternalPanelDoNotUseOrYouWillBeFired=ci;var oo=Io},58793:function(Ir,Ft,B){"use strict";B.d(Ft,{Z:function(){return vt}});var a=B(75271),Qe=B(82187),q=B.n(Qe),c=B(44885),be=B(42684),We=B(78018),De=B(93473),Te=B(94773),ye=B(98446),te=B(98472),Ve=B(38437),Ie=B(95741),Ue=B(60824),tt=B(7038),ot=B(23137),Je=B(81391),ct=B(43452);function bt(Mt){return!!(Mt.prefix||Mt.suffix||Mt.allowClear||Mt.showCount)}var Xe=function(Mt,Ut){var Vt={};for(var yr in Mt)Object.prototype.hasOwnProperty.call(Mt,yr)&&Ut.indexOf(yr)<0&&(Vt[yr]=Mt[yr]);if(Mt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var lr=0,yr=Object.getOwnPropertySymbols(Mt);lr<yr.length;lr++)Ut.indexOf(yr[lr])<0&&Object.prototype.propertyIsEnumerable.call(Mt,yr[lr])&&(Vt[yr[lr]]=Mt[yr[lr]]);return Vt},vt=(0,a.forwardRef)((Mt,Ut)=>{const{prefixCls:Vt,bordered:yr=!0,status:lr,size:Xn,disabled:Ge,onBlur:Ht,onFocus:un,suffix:Xt,allowClear:ke,addonAfter:zn,addonBefore:mn,className:Rn,style:ut,styles:Jt,rootClassName:Cn,onChange:he,classNames:Qt,variant:xi}=Mt,ui=Xe(Mt,["prefixCls","bordered","status","size","disabled","onBlur","onFocus","suffix","allowClear","addonAfter","addonBefore","className","style","styles","rootClassName","onChange","classNames","variant"]),{getPrefixCls:Ae,direction:An,allowClear:Ur,autoComplete:Jr,className:On,style:Kr,classNames:Ti,styles:fr}=(0,ye.dj)("input"),it=Ae("input",Vt),Ot=(0,a.useRef)(null),Dn=(0,Ve.Z)(it),[pn,gn,wr]=(0,ct.TI)(it,Cn),[Hn]=(0,ct.ZP)(it,Dn),{compactSize:oi,compactItemClassnames:pi}=(0,ot.ri)(it,An),ri=(0,Ie.Z)(oo=>{var nn;return(nn=Xn!=null?Xn:oi)!==null&&nn!==void 0?nn:oo}),ni=a.useContext(te.Z),Cr=Ge!=null?Ge:ni,{status:qn,hasFeedback:_r,feedbackIcon:Pr}=(0,a.useContext)(Ue.aM),Tr=(0,Te.F)(qn,lr),ei=bt(Mt)||!!_r,ar=(0,a.useRef)(ei),mr=(0,Je.Z)(Ot,!0),ii=oo=>{mr(),Ht==null||Ht(oo)},Wn=oo=>{mr(),un==null||un(oo)},di=oo=>{mr(),he==null||he(oo)},Ci=(_r||Xt)&&a.createElement(a.Fragment,null,Xt,_r&&Pr),eo=(0,De.Z)(ke!=null?ke:Ur),[Io,ci]=(0,tt.Z)("input",xi,yr);return pn(Hn(a.createElement(c.Z,Object.assign({ref:(0,be.sQ)(Ut,Ot),prefixCls:it,autoComplete:Jr},ui,{disabled:Cr,onBlur:ii,onFocus:Wn,style:Object.assign(Object.assign({},Kr),ut),styles:Object.assign(Object.assign({},fr),Jt),suffix:Ci,allowClear:eo,className:q()(Rn,Cn,wr,Dn,pi,On),onChange:di,addonBefore:mn&&a.createElement(We.Z,{form:!0,space:!0},mn),addonAfter:zn&&a.createElement(We.Z,{form:!0,space:!0},zn),classNames:Object.assign(Object.assign(Object.assign({},Qt),Ti),{input:q()({[`${it}-sm`]:ri==="small",[`${it}-lg`]:ri==="large",[`${it}-rtl`]:An==="rtl"},Qt==null?void 0:Qt.input,Ti.input,gn),variant:q()({[`${it}-${Io}`]:ci},(0,Te.Z)(it,Tr)),affixWrapper:q()({[`${it}-affix-wrapper-sm`]:ri==="small",[`${it}-affix-wrapper-lg`]:ri==="large",[`${it}-affix-wrapper-rtl`]:An==="rtl"},gn),wrapper:q()({[`${it}-group-rtl`]:An==="rtl"},gn),groupWrapper:q()({[`${it}-group-wrapper-sm`]:ri==="small",[`${it}-group-wrapper-lg`]:ri==="large",[`${it}-group-wrapper-rtl`]:An==="rtl",[`${it}-group-wrapper-${Io}`]:ci},(0,Te.Z)(`${it}-group-wrapper`,Tr,_r),gn)})}))))})},81391:function(Ir,Ft,B){"use strict";B.d(Ft,{Z:function(){return Qe}});var a=B(75271);function Qe(q,c){const be=(0,a.useRef)([]),We=()=>{be.current.push(setTimeout(()=>{var De,Te,ye,te;!((De=q.current)===null||De===void 0)&&De.input&&((Te=q.current)===null||Te===void 0?void 0:Te.input.getAttribute("type"))==="password"&&(!((ye=q.current)===null||ye===void 0)&&ye.input.hasAttribute("value"))&&((te=q.current)===null||te===void 0||te.input.removeAttribute("value"))}))};return(0,a.useEffect)(()=>(c&&We(),()=>be.current.forEach(De=>{De&&clearTimeout(De)})),[]),We}},43452:function(Ir,Ft,B){"use strict";B.d(Ft,{TI:function(){return jt},ik:function(){return Ie},nz:function(){return Te},s7:function(){return Ue},x0:function(){return Ve}});var a=B(55921),Qe=B(34299),q=B(9288),c=B(84825),be=B(83509),We=B(21571),De=B(57616);const Te=vt=>({"&::-moz-placeholder":{opacity:1},"&::placeholder":{color:vt,userSelect:"none"},"&:placeholder-shown":{textOverflow:"ellipsis"}}),ye=vt=>({borderColor:vt.activeBorderColor,boxShadow:vt.activeShadow,outline:0,backgroundColor:vt.activeBg}),te=vt=>{const{paddingBlockLG:Mt,lineHeightLG:Ut,borderRadiusLG:Vt,paddingInlineLG:yr}=vt;return{padding:`${(0,a.bf)(Mt)} ${(0,a.bf)(yr)}`,fontSize:vt.inputFontSizeLG,lineHeight:Ut,borderRadius:Vt}},Ve=vt=>({padding:`${(0,a.bf)(vt.paddingBlockSM)} ${(0,a.bf)(vt.paddingInlineSM)}`,fontSize:vt.inputFontSizeSM,borderRadius:vt.borderRadiusSM}),Ie=vt=>Object.assign(Object.assign({position:"relative",display:"inline-block",width:"100%",minWidth:0,padding:`${(0,a.bf)(vt.paddingBlock)} ${(0,a.bf)(vt.paddingInline)}`,color:vt.colorText,fontSize:vt.inputFontSize,lineHeight:vt.lineHeight,borderRadius:vt.borderRadius,transition:`all ${vt.motionDurationMid}`},Te(vt.colorTextPlaceholder)),{"textarea&":{maxWidth:"100%",height:"auto",minHeight:vt.controlHeight,lineHeight:vt.lineHeight,verticalAlign:"bottom",transition:`all ${vt.motionDurationSlow}, height 0s`,resize:"vertical"},"&-lg":Object.assign({},te(vt)),"&-sm":Object.assign({},Ve(vt)),"&-rtl, &-textarea-rtl":{direction:"rtl"}}),Ue=vt=>{const{componentCls:Mt,antCls:Ut}=vt;return{position:"relative",display:"table",width:"100%",borderCollapse:"separate",borderSpacing:0,"&[class*='col-']":{paddingInlineEnd:vt.paddingXS,"&:last-child":{paddingInlineEnd:0}},[`&-lg ${Mt}, &-lg > ${Mt}-group-addon`]:Object.assign({},te(vt)),[`&-sm ${Mt}, &-sm > ${Mt}-group-addon`]:Object.assign({},Ve(vt)),[`&-lg ${Ut}-select-single ${Ut}-select-selector`]:{height:vt.controlHeightLG},[`&-sm ${Ut}-select-single ${Ut}-select-selector`]:{height:vt.controlHeightSM},[`> ${Mt}`]:{display:"table-cell","&:not(:first-child):not(:last-child)":{borderRadius:0}},[`${Mt}-group`]:{"&-addon, &-wrap":{display:"table-cell",width:1,whiteSpace:"nowrap",verticalAlign:"middle","&:not(:first-child):not(:last-child)":{borderRadius:0}},"&-wrap > *":{display:"block !important"},"&-addon":{position:"relative",padding:`0 ${(0,a.bf)(vt.paddingInline)}`,color:vt.colorText,fontWeight:"normal",fontSize:vt.inputFontSize,textAlign:"center",borderRadius:vt.borderRadius,transition:`all ${vt.motionDurationSlow}`,lineHeight:1,[`${Ut}-select`]:{margin:`${(0,a.bf)(vt.calc(vt.paddingBlock).add(1).mul(-1).equal())} ${(0,a.bf)(vt.calc(vt.paddingInline).mul(-1).equal())}`,[`&${Ut}-select-single:not(${Ut}-select-customize-input):not(${Ut}-pagination-size-changer)`]:{[`${Ut}-select-selector`]:{backgroundColor:"inherit",border:`${(0,a.bf)(vt.lineWidth)} ${vt.lineType} transparent`,boxShadow:"none"}}},[`${Ut}-cascader-picker`]:{margin:`-9px ${(0,a.bf)(vt.calc(vt.paddingInline).mul(-1).equal())}`,backgroundColor:"transparent",[`${Ut}-cascader-input`]:{textAlign:"start",border:0,boxShadow:"none"}}}},[Mt]:{width:"100%",marginBottom:0,textAlign:"inherit","&:focus":{zIndex:1,borderInlineEndWidth:1},"&:hover":{zIndex:1,borderInlineEndWidth:1,[`${Mt}-search-with-button &`]:{zIndex:0}}},[`> ${Mt}:first-child, ${Mt}-group-addon:first-child`]:{borderStartEndRadius:0,borderEndEndRadius:0,[`${Ut}-select ${Ut}-select-selector`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`> ${Mt}-affix-wrapper`]:{[`&:not(:first-child) ${Mt}`]:{borderStartStartRadius:0,borderEndStartRadius:0},[`&:not(:last-child) ${Mt}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`> ${Mt}:last-child, ${Mt}-group-addon:last-child`]:{borderStartStartRadius:0,borderEndStartRadius:0,[`${Ut}-select ${Ut}-select-selector`]:{borderStartStartRadius:0,borderEndStartRadius:0}},[`${Mt}-affix-wrapper`]:{"&:not(:last-child)":{borderStartEndRadius:0,borderEndEndRadius:0,[`${Mt}-search &`]:{borderStartStartRadius:vt.borderRadius,borderEndStartRadius:vt.borderRadius}},[`&:not(:first-child), ${Mt}-search &:not(:first-child)`]:{borderStartStartRadius:0,borderEndStartRadius:0}},[`&${Mt}-group-compact`]:Object.assign(Object.assign({display:"block"},(0,Qe.dF)()),{[`${Mt}-group-addon, ${Mt}-group-wrap, > ${Mt}`]:{"&:not(:first-child):not(:last-child)":{borderInlineEndWidth:vt.lineWidth,"&:hover, &:focus":{zIndex:1}}},"& > *":{display:"inline-flex",float:"none",verticalAlign:"top",borderRadius:0},[`
        & > ${Mt}-affix-wrapper,
        & > ${Mt}-number-affix-wrapper,
        & > ${Ut}-picker-range
      `]:{display:"inline-flex"},"& > *:not(:last-child)":{marginInlineEnd:vt.calc(vt.lineWidth).mul(-1).equal(),borderInlineEndWidth:vt.lineWidth},[Mt]:{float:"none"},[`& > ${Ut}-select > ${Ut}-select-selector,
      & > ${Ut}-select-auto-complete ${Mt},
      & > ${Ut}-cascader-picker ${Mt},
      & > ${Mt}-group-wrapper ${Mt}`]:{borderInlineEndWidth:vt.lineWidth,borderRadius:0,"&:hover, &:focus":{zIndex:1}},[`& > ${Ut}-select-focused`]:{zIndex:1},[`& > ${Ut}-select > ${Ut}-select-arrow`]:{zIndex:1},[`& > *:first-child,
      & > ${Ut}-select:first-child > ${Ut}-select-selector,
      & > ${Ut}-select-auto-complete:first-child ${Mt},
      & > ${Ut}-cascader-picker:first-child ${Mt}`]:{borderStartStartRadius:vt.borderRadius,borderEndStartRadius:vt.borderRadius},[`& > *:last-child,
      & > ${Ut}-select:last-child > ${Ut}-select-selector,
      & > ${Ut}-cascader-picker:last-child ${Mt},
      & > ${Ut}-cascader-picker-focused:last-child ${Mt}`]:{borderInlineEndWidth:vt.lineWidth,borderStartEndRadius:vt.borderRadius,borderEndEndRadius:vt.borderRadius},[`& > ${Ut}-select-auto-complete ${Mt}`]:{verticalAlign:"top"},[`${Mt}-group-wrapper + ${Mt}-group-wrapper`]:{marginInlineStart:vt.calc(vt.lineWidth).mul(-1).equal(),[`${Mt}-affix-wrapper`]:{borderRadius:0}},[`${Mt}-group-wrapper:not(:last-child)`]:{[`&${Mt}-search > ${Mt}-group`]:{[`& > ${Mt}-group-addon > ${Mt}-search-button`]:{borderRadius:0},[`& > ${Mt}`]:{borderStartStartRadius:vt.borderRadius,borderStartEndRadius:0,borderEndEndRadius:0,borderEndStartRadius:vt.borderRadius}}}})}},tt=vt=>{const{componentCls:Mt,controlHeightSM:Ut,lineWidth:Vt,calc:yr}=vt,Xn=yr(Ut).sub(yr(Vt).mul(2)).sub(16).div(2).equal();return{[Mt]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(0,Qe.Wf)(vt)),Ie(vt)),(0,De.qG)(vt)),(0,De.H8)(vt)),(0,De.Mu)(vt)),(0,De.vc)(vt)),{'&[type="color"]':{height:vt.controlHeight,[`&${Mt}-lg`]:{height:vt.controlHeightLG},[`&${Mt}-sm`]:{height:Ut,paddingTop:Xn,paddingBottom:Xn}},'&[type="search"]::-webkit-search-cancel-button, &[type="search"]::-webkit-search-decoration':{"-webkit-appearance":"none"}})}},ot=vt=>{const{componentCls:Mt}=vt;return{[`${Mt}-clear-icon`]:{margin:0,padding:0,lineHeight:0,color:vt.colorTextQuaternary,fontSize:vt.fontSizeIcon,verticalAlign:-1,cursor:"pointer",transition:`color ${vt.motionDurationSlow}`,border:"none",outline:"none",backgroundColor:"transparent","&:hover":{color:vt.colorTextTertiary},"&:active":{color:vt.colorText},"&-hidden":{visibility:"hidden"},"&-has-suffix":{margin:`0 ${(0,a.bf)(vt.inputAffixPadding)}`}}}},Je=vt=>{const{componentCls:Mt,inputAffixPadding:Ut,colorTextDescription:Vt,motionDurationSlow:yr,colorIcon:lr,colorIconHover:Xn,iconCls:Ge}=vt,Ht=`${Mt}-affix-wrapper`,un=`${Mt}-affix-wrapper-disabled`;return{[Ht]:Object.assign(Object.assign(Object.assign(Object.assign({},Ie(vt)),{display:"inline-flex",[`&:not(${Mt}-disabled):hover`]:{zIndex:1,[`${Mt}-search-with-button &`]:{zIndex:0}},"&-focused, &:focus":{zIndex:1},[`> input${Mt}`]:{padding:0},[`> input${Mt}, > textarea${Mt}`]:{fontSize:"inherit",border:"none",borderRadius:0,outline:"none",background:"transparent",color:"inherit","&::-ms-reveal":{display:"none"},"&:focus":{boxShadow:"none !important"}},"&::before":{display:"inline-block",width:0,visibility:"hidden",content:'"\\a0"'},[Mt]:{"&-prefix, &-suffix":{display:"flex",flex:"none",alignItems:"center","> *:not(:last-child)":{marginInlineEnd:vt.paddingXS}},"&-show-count-suffix":{color:Vt},"&-show-count-has-suffix":{marginInlineEnd:vt.paddingXXS},"&-prefix":{marginInlineEnd:Ut},"&-suffix":{marginInlineStart:Ut}}}),ot(vt)),{[`${Ge}${Mt}-password-icon`]:{color:lr,cursor:"pointer",transition:`all ${yr}`,"&:hover":{color:Xn}}}),[`${Mt}-underlined`]:{borderRadius:0},[un]:{[`${Ge}${Mt}-password-icon`]:{color:lr,cursor:"not-allowed","&:hover":{color:lr}}}}},ct=vt=>{const{componentCls:Mt,borderRadiusLG:Ut,borderRadiusSM:Vt}=vt;return{[`${Mt}-group`]:Object.assign(Object.assign(Object.assign({},(0,Qe.Wf)(vt)),Ue(vt)),{"&-rtl":{direction:"rtl"},"&-wrapper":Object.assign(Object.assign(Object.assign({display:"inline-block",width:"100%",textAlign:"start",verticalAlign:"top","&-rtl":{direction:"rtl"},"&-lg":{[`${Mt}-group-addon`]:{borderRadius:Ut,fontSize:vt.inputFontSizeLG}},"&-sm":{[`${Mt}-group-addon`]:{borderRadius:Vt}}},(0,De.ir)(vt)),(0,De.S5)(vt)),{[`&:not(${Mt}-compact-first-item):not(${Mt}-compact-last-item)${Mt}-compact-item`]:{[`${Mt}, ${Mt}-group-addon`]:{borderRadius:0}},[`&:not(${Mt}-compact-last-item)${Mt}-compact-first-item`]:{[`${Mt}, ${Mt}-group-addon`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`&:not(${Mt}-compact-first-item)${Mt}-compact-last-item`]:{[`${Mt}, ${Mt}-group-addon`]:{borderStartStartRadius:0,borderEndStartRadius:0}},[`&:not(${Mt}-compact-last-item)${Mt}-compact-item`]:{[`${Mt}-affix-wrapper`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`&:not(${Mt}-compact-first-item)${Mt}-compact-item`]:{[`${Mt}-affix-wrapper`]:{borderStartStartRadius:0,borderEndStartRadius:0}}})})}},bt=vt=>{const{componentCls:Mt,antCls:Ut}=vt,Vt=`${Mt}-search`;return{[Vt]:{[Mt]:{"&:hover, &:focus":{[`+ ${Mt}-group-addon ${Vt}-button:not(${Ut}-btn-primary)`]:{borderInlineStartColor:vt.colorPrimaryHover}}},[`${Mt}-affix-wrapper`]:{height:vt.controlHeight,borderRadius:0},[`${Mt}-lg`]:{lineHeight:vt.calc(vt.lineHeightLG).sub(2e-4).equal()},[`> ${Mt}-group`]:{[`> ${Mt}-group-addon:last-child`]:{insetInlineStart:-1,padding:0,border:0,[`${Vt}-button`]:{marginInlineEnd:-1,borderStartStartRadius:0,borderEndStartRadius:0,boxShadow:"none"},[`${Vt}-button:not(${Ut}-btn-primary)`]:{color:vt.colorTextDescription,"&:hover":{color:vt.colorPrimaryHover},"&:active":{color:vt.colorPrimaryActive},[`&${Ut}-btn-loading::before`]:{insetInlineStart:0,insetInlineEnd:0,insetBlockStart:0,insetBlockEnd:0}}}},[`${Vt}-button`]:{height:vt.controlHeight,"&:hover, &:focus":{zIndex:1}},"&-large":{[`${Mt}-affix-wrapper, ${Vt}-button`]:{height:vt.controlHeightLG}},"&-small":{[`${Mt}-affix-wrapper, ${Vt}-button`]:{height:vt.controlHeightSM}},"&-rtl":{direction:"rtl"},[`&${Mt}-compact-item`]:{[`&:not(${Mt}-compact-last-item)`]:{[`${Mt}-group-addon`]:{[`${Mt}-search-button`]:{marginInlineEnd:vt.calc(vt.lineWidth).mul(-1).equal(),borderRadius:0}}},[`&:not(${Mt}-compact-first-item)`]:{[`${Mt},${Mt}-affix-wrapper`]:{borderRadius:0}},[`> ${Mt}-group-addon ${Mt}-search-button,
        > ${Mt},
        ${Mt}-affix-wrapper`]:{"&:hover, &:focus, &:active":{zIndex:2}},[`> ${Mt}-affix-wrapper-focused`]:{zIndex:2}}}}},Xe=vt=>{const{componentCls:Mt}=vt;return{[`${Mt}-out-of-range`]:{[`&, & input, & textarea, ${Mt}-show-count-suffix, ${Mt}-data-count`]:{color:vt.colorError}}}},jt=(0,c.I$)(["Input","Shared"],vt=>{const Mt=(0,be.IX)(vt,(0,We.e)(vt));return[tt(Mt),Je(Mt)]},We.T,{resetFont:!1});Ft.ZP=(0,c.I$)(["Input","Component"],vt=>{const Mt=(0,be.IX)(vt,(0,We.e)(vt));return[ct(Mt),bt(Mt),Xe(Mt),(0,q.c)(Mt)]},We.T,{resetFont:!1})},21571:function(Ir,Ft,B){"use strict";B.d(Ft,{T:function(){return q},e:function(){return Qe}});var a=B(83509);function Qe(c){return(0,a.IX)(c,{inputAffixPadding:c.paddingXXS})}const q=c=>{const{controlHeight:be,fontSize:We,lineHeight:De,lineWidth:Te,controlHeightSM:ye,controlHeightLG:te,fontSizeLG:Ve,lineHeightLG:Ie,paddingSM:Ue,controlPaddingHorizontalSM:tt,controlPaddingHorizontal:ot,colorFillAlter:Je,colorPrimaryHover:ct,colorPrimary:bt,controlOutlineWidth:Xe,controlOutline:jt,colorErrorOutline:vt,colorWarningOutline:Mt,colorBgContainer:Ut,inputFontSize:Vt,inputFontSizeLG:yr,inputFontSizeSM:lr}=c,Xn=Vt||We,Ge=lr||Xn,Ht=yr||Ve,un=Math.round((be-Xn*De)/2*10)/10-Te,Xt=Math.round((ye-Ge*De)/2*10)/10-Te,ke=Math.ceil((te-Ht*Ie)/2*10)/10-Te;return{paddingBlock:Math.max(un,0),paddingBlockSM:Math.max(Xt,0),paddingBlockLG:Math.max(ke,0),paddingInline:Ue-Te,paddingInlineSM:tt-Te,paddingInlineLG:ot-Te,addonBg:Je,activeBorderColor:bt,hoverBorderColor:ct,activeShadow:`0 0 0 ${Xe}px ${jt}`,errorActiveShadow:`0 0 0 ${Xe}px ${vt}`,warningActiveShadow:`0 0 0 ${Xe}px ${Mt}`,hoverBg:Ut,activeBg:Ut,inputFontSize:Xn,inputFontSizeLG:Ht,inputFontSizeSM:Ge}}},57616:function(Ir,Ft,B){"use strict";B.d(Ft,{$U:function(){return be},H8:function(){return Ue},Mu:function(){return te},S5:function(){return ot},Xy:function(){return c},ir:function(){return ye},qG:function(){return De},vc:function(){return bt}});var a=B(55921),Qe=B(83509);const q=Xe=>({borderColor:Xe.hoverBorderColor,backgroundColor:Xe.hoverBg}),c=Xe=>({color:Xe.colorTextDisabled,backgroundColor:Xe.colorBgContainerDisabled,borderColor:Xe.colorBorder,boxShadow:"none",cursor:"not-allowed",opacity:1,"input[disabled], textarea[disabled]":{cursor:"not-allowed"},"&:hover:not([disabled])":Object.assign({},q((0,Qe.IX)(Xe,{hoverBorderColor:Xe.colorBorder,hoverBg:Xe.colorBgContainerDisabled})))}),be=(Xe,jt)=>({background:Xe.colorBgContainer,borderWidth:Xe.lineWidth,borderStyle:Xe.lineType,borderColor:jt.borderColor,"&:hover":{borderColor:jt.hoverBorderColor,backgroundColor:Xe.hoverBg},"&:focus, &:focus-within":{borderColor:jt.activeBorderColor,boxShadow:jt.activeShadow,outline:0,backgroundColor:Xe.activeBg}}),We=(Xe,jt)=>({[`&${Xe.componentCls}-status-${jt.status}:not(${Xe.componentCls}-disabled)`]:Object.assign(Object.assign({},be(Xe,jt)),{[`${Xe.componentCls}-prefix, ${Xe.componentCls}-suffix`]:{color:jt.affixColor}}),[`&${Xe.componentCls}-status-${jt.status}${Xe.componentCls}-disabled`]:{borderColor:jt.borderColor}}),De=(Xe,jt)=>({"&-outlined":Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},be(Xe,{borderColor:Xe.colorBorder,hoverBorderColor:Xe.hoverBorderColor,activeBorderColor:Xe.activeBorderColor,activeShadow:Xe.activeShadow})),{[`&${Xe.componentCls}-disabled, &[disabled]`]:Object.assign({},c(Xe))}),We(Xe,{status:"error",borderColor:Xe.colorError,hoverBorderColor:Xe.colorErrorBorderHover,activeBorderColor:Xe.colorError,activeShadow:Xe.errorActiveShadow,affixColor:Xe.colorError})),We(Xe,{status:"warning",borderColor:Xe.colorWarning,hoverBorderColor:Xe.colorWarningBorderHover,activeBorderColor:Xe.colorWarning,activeShadow:Xe.warningActiveShadow,affixColor:Xe.colorWarning})),jt)}),Te=(Xe,jt)=>({[`&${Xe.componentCls}-group-wrapper-status-${jt.status}`]:{[`${Xe.componentCls}-group-addon`]:{borderColor:jt.addonBorderColor,color:jt.addonColor}}}),ye=Xe=>({"&-outlined":Object.assign(Object.assign(Object.assign({[`${Xe.componentCls}-group`]:{"&-addon":{background:Xe.addonBg,border:`${(0,a.bf)(Xe.lineWidth)} ${Xe.lineType} ${Xe.colorBorder}`},"&-addon:first-child":{borderInlineEnd:0},"&-addon:last-child":{borderInlineStart:0}}},Te(Xe,{status:"error",addonBorderColor:Xe.colorError,addonColor:Xe.colorErrorText})),Te(Xe,{status:"warning",addonBorderColor:Xe.colorWarning,addonColor:Xe.colorWarningText})),{[`&${Xe.componentCls}-group-wrapper-disabled`]:{[`${Xe.componentCls}-group-addon`]:Object.assign({},c(Xe))}})}),te=(Xe,jt)=>{const{componentCls:vt}=Xe;return{"&-borderless":Object.assign({background:"transparent",border:"none","&:focus, &:focus-within":{outline:"none"},[`&${vt}-disabled, &[disabled]`]:{color:Xe.colorTextDisabled,cursor:"not-allowed"},[`&${vt}-status-error`]:{"&, & input, & textarea":{color:Xe.colorError}},[`&${vt}-status-warning`]:{"&, & input, & textarea":{color:Xe.colorWarning}}},jt)}},Ve=(Xe,jt)=>({background:jt.bg,borderWidth:Xe.lineWidth,borderStyle:Xe.lineType,borderColor:"transparent","input&, & input, textarea&, & textarea":{color:jt==null?void 0:jt.inputColor},"&:hover":{background:jt.hoverBg},"&:focus, &:focus-within":{outline:0,borderColor:jt.activeBorderColor,backgroundColor:Xe.activeBg}}),Ie=(Xe,jt)=>({[`&${Xe.componentCls}-status-${jt.status}:not(${Xe.componentCls}-disabled)`]:Object.assign(Object.assign({},Ve(Xe,jt)),{[`${Xe.componentCls}-prefix, ${Xe.componentCls}-suffix`]:{color:jt.affixColor}})}),Ue=(Xe,jt)=>({"&-filled":Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Ve(Xe,{bg:Xe.colorFillTertiary,hoverBg:Xe.colorFillSecondary,activeBorderColor:Xe.activeBorderColor})),{[`&${Xe.componentCls}-disabled, &[disabled]`]:Object.assign({},c(Xe))}),Ie(Xe,{status:"error",bg:Xe.colorErrorBg,hoverBg:Xe.colorErrorBgHover,activeBorderColor:Xe.colorError,inputColor:Xe.colorErrorText,affixColor:Xe.colorError})),Ie(Xe,{status:"warning",bg:Xe.colorWarningBg,hoverBg:Xe.colorWarningBgHover,activeBorderColor:Xe.colorWarning,inputColor:Xe.colorWarningText,affixColor:Xe.colorWarning})),jt)}),tt=(Xe,jt)=>({[`&${Xe.componentCls}-group-wrapper-status-${jt.status}`]:{[`${Xe.componentCls}-group-addon`]:{background:jt.addonBg,color:jt.addonColor}}}),ot=Xe=>({"&-filled":Object.assign(Object.assign(Object.assign({[`${Xe.componentCls}-group`]:{"&-addon":{background:Xe.colorFillTertiary},[`${Xe.componentCls}-filled:not(:focus):not(:focus-within)`]:{"&:not(:first-child)":{borderInlineStart:`${(0,a.bf)(Xe.lineWidth)} ${Xe.lineType} ${Xe.colorSplit}`},"&:not(:last-child)":{borderInlineEnd:`${(0,a.bf)(Xe.lineWidth)} ${Xe.lineType} ${Xe.colorSplit}`}}}},tt(Xe,{status:"error",addonBg:Xe.colorErrorBg,addonColor:Xe.colorErrorText})),tt(Xe,{status:"warning",addonBg:Xe.colorWarningBg,addonColor:Xe.colorWarningText})),{[`&${Xe.componentCls}-group-wrapper-disabled`]:{[`${Xe.componentCls}-group`]:{"&-addon":{background:Xe.colorFillTertiary,color:Xe.colorTextDisabled},"&-addon:first-child":{borderInlineStart:`${(0,a.bf)(Xe.lineWidth)} ${Xe.lineType} ${Xe.colorBorder}`,borderTop:`${(0,a.bf)(Xe.lineWidth)} ${Xe.lineType} ${Xe.colorBorder}`,borderBottom:`${(0,a.bf)(Xe.lineWidth)} ${Xe.lineType} ${Xe.colorBorder}`},"&-addon:last-child":{borderInlineEnd:`${(0,a.bf)(Xe.lineWidth)} ${Xe.lineType} ${Xe.colorBorder}`,borderTop:`${(0,a.bf)(Xe.lineWidth)} ${Xe.lineType} ${Xe.colorBorder}`,borderBottom:`${(0,a.bf)(Xe.lineWidth)} ${Xe.lineType} ${Xe.colorBorder}`}}}})}),Je=(Xe,jt)=>({background:Xe.colorBgContainer,borderWidth:`${(0,a.bf)(Xe.lineWidth)} 0`,borderStyle:`${Xe.lineType} none`,borderColor:`transparent transparent ${jt.borderColor} transparent`,borderRadius:0,"&:hover":{borderColor:`transparent transparent ${jt.borderColor} transparent`,backgroundColor:Xe.hoverBg},"&:focus, &:focus-within":{borderColor:`transparent transparent ${jt.borderColor} transparent`,outline:0,backgroundColor:Xe.activeBg}}),ct=(Xe,jt)=>({[`&${Xe.componentCls}-status-${jt.status}:not(${Xe.componentCls}-disabled)`]:Object.assign(Object.assign({},Je(Xe,jt)),{[`${Xe.componentCls}-prefix, ${Xe.componentCls}-suffix`]:{color:jt.affixColor}}),[`&${Xe.componentCls}-status-${jt.status}${Xe.componentCls}-disabled`]:{borderColor:jt.borderColor}}),bt=(Xe,jt)=>({"&-underlined":Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Je(Xe,{borderColor:Xe.colorBorder,hoverBorderColor:Xe.hoverBorderColor,activeBorderColor:Xe.activeBorderColor,activeShadow:Xe.activeShadow})),{[`&${Xe.componentCls}-disabled, &[disabled]`]:{color:Xe.colorTextDisabled,boxShadow:"none",cursor:"not-allowed","&:hover":{borderColor:Xe.colorBorder}},"input[disabled], textarea[disabled]":{cursor:"not-allowed"}}),ct(Xe,{status:"error",borderColor:Xe.colorError,hoverBorderColor:Xe.colorErrorBorderHover,activeBorderColor:Xe.colorError,activeShadow:Xe.errorActiveShadow,affixColor:Xe.colorError})),ct(Xe,{status:"warning",borderColor:Xe.colorWarning,hoverBorderColor:Xe.colorWarningBorderHover,activeBorderColor:Xe.colorWarning,activeShadow:Xe.warningActiveShadow,affixColor:Xe.colorWarning})),jt)})},59379:function(Ir,Ft,B){"use strict";var a=B(75271);const Qe=(0,a.createContext)(void 0);Ft.Z=Qe},42474:function(Ir,Ft,B){"use strict";var a=B(18507),Qe=B(40859),q=B(58492),c=B(85985);const be="${label} is not a valid ${type}",We={locale:"en",Pagination:a.Z,DatePicker:q.Z,TimePicker:c.Z,Calendar:Qe.Z,global:{placeholder:"Please select"},Table:{filterTitle:"Filter menu",filterConfirm:"OK",filterReset:"Reset",filterEmptyText:"No filters",filterCheckAll:"Select all items",filterSearchPlaceholder:"Search in filters",emptyText:"No data",selectAll:"Select current page",selectInvert:"Invert current page",selectNone:"Clear all data",selectionAll:"Select all data",sortTitle:"Sort",expand:"Expand row",collapse:"Collapse row",triggerDesc:"Click to sort descending",triggerAsc:"Click to sort ascending",cancelSort:"Click to cancel sorting"},Tour:{Next:"Next",Previous:"Previous",Finish:"Finish"},Modal:{okText:"OK",cancelText:"Cancel",justOkText:"OK"},Popconfirm:{okText:"OK",cancelText:"Cancel"},Transfer:{titles:["",""],searchPlaceholder:"Search here",itemUnit:"item",itemsUnit:"items",remove:"Remove",selectCurrent:"Select current page",removeCurrent:"Remove current page",selectAll:"Select all data",deselectAll:"Deselect all data",removeAll:"Remove all data",selectInvert:"Invert current page"},Upload:{uploading:"Uploading...",removeFile:"Remove file",uploadError:"Upload error",previewFile:"Preview file",downloadFile:"Download file"},Empty:{description:"No data"},Icon:{icon:"icon"},Text:{edit:"Edit",copy:"Copy",copied:"Copied",expand:"Expand",collapse:"Collapse"},Form:{optional:"(optional)",defaultValidateMessages:{default:"Field validation error for ${label}",required:"Please enter ${label}",enum:"${label} must be one of [${enum}]",whitespace:"${label} cannot be a blank character",date:{format:"${label} date format is invalid",parse:"${label} cannot be converted to a date",invalid:"${label} is an invalid date"},types:{string:be,method:be,array:be,object:be,number:be,date:be,boolean:be,integer:be,float:be,regexp:be,email:be,url:be,hex:be},string:{len:"${label} must be ${len} characters",min:"${label} must be at least ${min} characters",max:"${label} must be up to ${max} characters",range:"${label} must be between ${min}-${max} characters"},number:{len:"${label} must be equal to ${len}",min:"${label} must be minimum ${min}",max:"${label} must be maximum ${max}",range:"${label} must be between ${min}-${max}"},array:{len:"Must be ${len} ${label}",min:"At least ${min} ${label}",max:"At most ${max} ${label}",range:"The amount of ${label} must be between ${min}-${max}"},pattern:{mismatch:"${label} does not match the pattern ${pattern}"}}},Image:{preview:"Preview"},QRCode:{expired:"QR code expired",refresh:"Refresh",scanned:"Scanned"},ColorPicker:{presetEmpty:"Empty",transparent:"Transparent",singleColor:"Single",gradientColor:"Gradient"}};Ft.Z=We},77648:function(Ir,Ft,B){"use strict";var a=B(75271),Qe=B(59379),q=B(42474);const c=(be,We)=>{const De=a.useContext(Qe.Z),Te=a.useMemo(()=>{var te;const Ve=We||q.Z[be],Ie=(te=De==null?void 0:De[be])!==null&&te!==void 0?te:{};return Object.assign(Object.assign({},typeof Ve=="function"?Ve():Ve),Ie||{})},[be,We,De]),ye=a.useMemo(()=>{const te=De==null?void 0:De.locale;return De!=null&&De.exist&&!te?q.Z.locale:te},[De]);return[Te,ye]};Ft.Z=c},3786:function(Ir,Ft,B){"use strict";B.d(Ft,{A:function(){return We},f:function(){return be}});var a=B(42474);let Qe=Object.assign({},a.Z.Modal),q=[];const c=()=>q.reduce((De,Te)=>Object.assign(Object.assign({},De),Te),a.Z.Modal);function be(De){if(De){const Te=Object.assign({},De);return q.push(Te),Qe=c(),()=>{q=q.filter(ye=>ye!==Te),Qe=c()}}Qe=Object.assign({},a.Z.Modal)}function We(){return Qe}},97294:function(Ir,Ft,B){"use strict";B.d(Ft,{aV:function(){return ye},t5:function(){return te}});var a=B(75271),Qe=B(82187),q=B.n(Qe),c=B(75219),be=B(17522),We=B(98446),De=B(51759),Te=function(Ie,Ue){var tt={};for(var ot in Ie)Object.prototype.hasOwnProperty.call(Ie,ot)&&Ue.indexOf(ot)<0&&(tt[ot]=Ie[ot]);if(Ie!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Je=0,ot=Object.getOwnPropertySymbols(Ie);Je<ot.length;Je++)Ue.indexOf(ot[Je])<0&&Object.prototype.propertyIsEnumerable.call(Ie,ot[Je])&&(tt[ot[Je]]=Ie[ot[Je]]);return tt};const ye=Ie=>{let{title:Ue,content:tt,prefixCls:ot}=Ie;return!Ue&&!tt?null:a.createElement(a.Fragment,null,Ue&&a.createElement("div",{className:`${ot}-title`},Ue),tt&&a.createElement("div",{className:`${ot}-inner-content`},tt))},te=Ie=>{const{hashId:Ue,prefixCls:tt,className:ot,style:Je,placement:ct="top",title:bt,content:Xe,children:jt}=Ie,vt=(0,be.Z)(bt),Mt=(0,be.Z)(Xe),Ut=q()(Ue,tt,`${tt}-pure`,`${tt}-placement-${ct}`,ot);return a.createElement("div",{className:Ut,style:Je},a.createElement("div",{className:`${tt}-arrow`}),a.createElement(c.G,Object.assign({},Ie,{className:Ue,prefixCls:tt}),jt||a.createElement(ye,{prefixCls:tt,title:vt,content:Mt})))},Ve=Ie=>{const{prefixCls:Ue,className:tt}=Ie,ot=Te(Ie,["prefixCls","className"]),{getPrefixCls:Je}=a.useContext(We.E_),ct=Je("popover",Ue),[bt,Xe,jt]=(0,De.Z)(ct);return bt(a.createElement(te,Object.assign({},ot,{prefixCls:ct,hashId:Xe,className:q()(tt,jt)})))};Ft.ZP=Ve},60916:function(Ir,Ft,B){"use strict";var a=B(75271),Qe=B(82187),q=B.n(Qe),c=B(93954),be=B(14583),We=B(17522),De=B(13635),Te=B(26021),ye=B(9202),te=B(97294),Ve=B(98446),Ie=B(51759),Ue=function(Je,ct){var bt={};for(var Xe in Je)Object.prototype.hasOwnProperty.call(Je,Xe)&&ct.indexOf(Xe)<0&&(bt[Xe]=Je[Xe]);if(Je!=null&&typeof Object.getOwnPropertySymbols=="function")for(var jt=0,Xe=Object.getOwnPropertySymbols(Je);jt<Xe.length;jt++)ct.indexOf(Xe[jt])<0&&Object.prototype.propertyIsEnumerable.call(Je,Xe[jt])&&(bt[Xe[jt]]=Je[Xe[jt]]);return bt};const ot=a.forwardRef((Je,ct)=>{var bt,Xe;const{prefixCls:jt,title:vt,content:Mt,overlayClassName:Ut,placement:Vt="top",trigger:yr="hover",children:lr,mouseEnterDelay:Xn=.1,mouseLeaveDelay:Ge=.1,onOpenChange:Ht,overlayStyle:un={},styles:Xt,classNames:ke}=Je,zn=Ue(Je,["prefixCls","title","content","overlayClassName","placement","trigger","children","mouseEnterDelay","mouseLeaveDelay","onOpenChange","overlayStyle","styles","classNames"]),{getPrefixCls:mn,className:Rn,style:ut,classNames:Jt,styles:Cn}=(0,Ve.dj)("popover"),he=mn("popover",jt),[Qt,xi,ui]=(0,Ie.Z)(he),Ae=mn(),An=q()(Ut,xi,ui,Rn,Jt.root,ke==null?void 0:ke.root),Ur=q()(Jt.body,ke==null?void 0:ke.body),[Jr,On]=(0,c.Z)(!1,{value:(bt=Je.open)!==null&&bt!==void 0?bt:Je.visible,defaultValue:(Xe=Je.defaultOpen)!==null&&Xe!==void 0?Xe:Je.defaultVisible}),Kr=(Dn,pn)=>{On(Dn,!0),Ht==null||Ht(Dn,pn)},Ti=Dn=>{Dn.keyCode===be.Z.ESC&&Kr(!1,Dn)},fr=Dn=>{Kr(Dn)},it=(0,We.Z)(vt),Ot=(0,We.Z)(Mt);return Qt(a.createElement(ye.Z,Object.assign({placement:Vt,trigger:yr,mouseEnterDelay:Xn,mouseLeaveDelay:Ge},zn,{prefixCls:he,classNames:{root:An,body:Ur},styles:{root:Object.assign(Object.assign(Object.assign(Object.assign({},Cn.root),ut),un),Xt==null?void 0:Xt.root),body:Object.assign(Object.assign({},Cn.body),Xt==null?void 0:Xt.body)},ref:ct,open:Jr,onOpenChange:fr,overlay:it||Ot?a.createElement(te.aV,{prefixCls:he,title:it,content:Ot}):null,transitionName:(0,De.m)(Ae,"zoom-big",zn.transitionName),"data-popover-inject":!0}),(0,Te.Tm)(lr,{onKeyDown:Dn=>{var pn,gn;a.isValidElement(lr)&&((gn=lr==null?void 0:(pn=lr.props).onKeyDown)===null||gn===void 0||gn.call(pn,Dn)),Ti(Dn)}})))});ot._InternalPanelDoNotUseOrYouWillBeFired=te.ZP,Ft.Z=ot},51759:function(Ir,Ft,B){"use strict";var a=B(34299),Qe=B(3153),q=B(18533),c=B(2276),be=B(98990),We=B(84825),De=B(83509);const Te=Ve=>{const{componentCls:Ie,popoverColor:Ue,titleMinWidth:tt,fontWeightStrong:ot,innerPadding:Je,boxShadowSecondary:ct,colorTextHeading:bt,borderRadiusLG:Xe,zIndexPopup:jt,titleMarginBottom:vt,colorBgElevated:Mt,popoverBg:Ut,titleBorderBottom:Vt,innerContentPadding:yr,titlePadding:lr}=Ve;return[{[Ie]:Object.assign(Object.assign({},(0,a.Wf)(Ve)),{position:"absolute",top:0,left:{_skip_check_:!0,value:0},zIndex:jt,fontWeight:"normal",whiteSpace:"normal",textAlign:"start",cursor:"auto",userSelect:"text","--valid-offset-x":"var(--arrow-offset-horizontal, var(--arrow-x))",transformOrigin:["var(--valid-offset-x, 50%)","var(--arrow-y, 50%)"].join(" "),"--antd-arrow-background-color":Mt,width:"max-content",maxWidth:"100vw","&-rtl":{direction:"rtl"},"&-hidden":{display:"none"},[`${Ie}-content`]:{position:"relative"},[`${Ie}-inner`]:{backgroundColor:Ut,backgroundClip:"padding-box",borderRadius:Xe,boxShadow:ct,padding:Je},[`${Ie}-title`]:{minWidth:tt,marginBottom:vt,color:bt,fontWeight:ot,borderBottom:Vt,padding:lr},[`${Ie}-inner-content`]:{color:Ue,padding:yr}})},(0,q.ZP)(Ve,"var(--antd-arrow-background-color)"),{[`${Ie}-pure`]:{position:"relative",maxWidth:"none",margin:Ve.sizePopupArrow,display:"inline-block",[`${Ie}-content`]:{display:"inline-block"}}}]},ye=Ve=>{const{componentCls:Ie}=Ve;return{[Ie]:be.i.map(Ue=>{const tt=Ve[`${Ue}6`];return{[`&${Ie}-${Ue}`]:{"--antd-arrow-background-color":tt,[`${Ie}-inner`]:{backgroundColor:tt},[`${Ie}-arrow`]:{background:"transparent"}}}})}},te=Ve=>{const{lineWidth:Ie,controlHeight:Ue,fontHeight:tt,padding:ot,wireframe:Je,zIndexPopupBase:ct,borderRadiusLG:bt,marginXS:Xe,lineType:jt,colorSplit:vt,paddingSM:Mt}=Ve,Ut=Ue-tt,Vt=Ut/2,yr=Ut/2-Ie,lr=ot;return Object.assign(Object.assign(Object.assign({titleMinWidth:177,zIndexPopup:ct+30},(0,c.w)(Ve)),(0,q.wZ)({contentRadius:bt,limitVerticalRadius:!0})),{innerPadding:Je?0:12,titleMarginBottom:Je?0:Xe,titlePadding:Je?`${Vt}px ${lr}px ${yr}px`:0,titleBorderBottom:Je?`${Ie}px ${jt} ${vt}`:"none",innerContentPadding:Je?`${Mt}px ${lr}px`:0})};Ft.Z=(0,We.I$)("Popover",Ve=>{const{colorBgElevated:Ie,colorText:Ue}=Ve,tt=(0,De.IX)(Ve,{popoverBg:Ie,popoverColor:Ue});return[Te(tt),ye(tt),(0,Qe._y)(tt,"zoom-big")]},te,{resetStyle:!1,deprecatedTokens:[["width","titleMinWidth"],["minWidth","titleMinWidth"]]})},53498:function(Ir,Ft,B){"use strict";B.d(Ft,{Ag:function(){return c},IH:function(){return be},w:function(){return q}});var a=B(75271);const Qe=a.createContext(null),q=Qe.Provider;Ft.ZP=Qe;const c=a.createContext(null),be=c.Provider},63374:function(Ir,Ft,B){"use strict";var a=B(75271),Qe=B(82187),q=B.n(Qe),c=B(93954),be=B(71305),We=B(98446),De=B(38437),Te=B(95741),ye=B(53498),te=B(74398),Ve=B(89603),Ie=B(73188);const Ue=a.forwardRef((tt,ot)=>{const{getPrefixCls:Je,direction:ct}=a.useContext(We.E_),bt=(0,Ie.Z)(),{prefixCls:Xe,className:jt,rootClassName:vt,options:Mt,buttonStyle:Ut="outline",disabled:Vt,children:yr,size:lr,style:Xn,id:Ge,optionType:Ht,name:un=bt,defaultValue:Xt,value:ke,block:zn=!1,onChange:mn,onMouseEnter:Rn,onMouseLeave:ut,onFocus:Jt,onBlur:Cn}=tt,[he,Qt]=(0,c.Z)(Xt,{value:ke}),xi=a.useCallback(Ot=>{const Dn=he,pn=Ot.target.value;"value"in tt||Qt(pn),pn!==Dn&&(mn==null||mn(Ot))},[he,Qt,mn]),ui=Je("radio",Xe),Ae=`${ui}-group`,An=(0,De.Z)(ui),[Ur,Jr,On]=(0,Ve.Z)(ui,An);let Kr=yr;Mt&&Mt.length>0&&(Kr=Mt.map(Ot=>typeof Ot=="string"||typeof Ot=="number"?a.createElement(te.Z,{key:Ot.toString(),prefixCls:ui,disabled:Vt,value:Ot,checked:he===Ot},Ot):a.createElement(te.Z,{key:`radio-group-value-options-${Ot.value}`,prefixCls:ui,disabled:Ot.disabled||Vt,value:Ot.value,checked:he===Ot.value,title:Ot.title,style:Ot.style,id:Ot.id,required:Ot.required},Ot.label)));const Ti=(0,Te.Z)(lr),fr=q()(Ae,`${Ae}-${Ut}`,{[`${Ae}-${Ti}`]:Ti,[`${Ae}-rtl`]:ct==="rtl",[`${Ae}-block`]:zn},jt,vt,Jr,On,An),it=a.useMemo(()=>({onChange:xi,value:he,disabled:Vt,name:un,optionType:Ht,block:zn}),[xi,he,Vt,un,Ht,zn]);return Ur(a.createElement("div",Object.assign({},(0,be.Z)(tt,{aria:!0,data:!0}),{className:fr,style:Xn,onMouseEnter:Rn,onMouseLeave:ut,onFocus:Jt,onBlur:Cn,id:Ge,ref:ot}),a.createElement(ye.w,{value:it},Kr)))});Ft.Z=a.memo(Ue)},89965:function(Ir,Ft,B){"use strict";var a=B(63374),Qe=B(74398),q=B(47944);const c=Qe.Z;c.Button=q.Z,c.Group=a.Z,c.__ANT_RADIO=!0,Ft.ZP=c},74398:function(Ir,Ft,B){"use strict";var a=B(75271),Qe=B(82187),q=B.n(Qe),c=B(12977),be=B(42684),We=B(54070),De=B(5276),Te=B(59527),ye=B(98446),te=B(98472),Ve=B(38437),Ie=B(60824),Ue=B(53498),tt=B(89603),ot=function(bt,Xe){var jt={};for(var vt in bt)Object.prototype.hasOwnProperty.call(bt,vt)&&Xe.indexOf(vt)<0&&(jt[vt]=bt[vt]);if(bt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Mt=0,vt=Object.getOwnPropertySymbols(bt);Mt<vt.length;Mt++)Xe.indexOf(vt[Mt])<0&&Object.prototype.propertyIsEnumerable.call(bt,vt[Mt])&&(jt[vt[Mt]]=bt[vt[Mt]]);return jt};const Je=(bt,Xe)=>{var jt,vt;const Mt=a.useContext(Ue.ZP),Ut=a.useContext(Ue.Ag),{getPrefixCls:Vt,direction:yr,radio:lr}=a.useContext(ye.E_),Xn=a.useRef(null),Ge=(0,be.sQ)(Xe,Xn),{isFormItemInput:Ht}=a.useContext(Ie.aM),un=fr=>{var it,Ot;(it=bt.onChange)===null||it===void 0||it.call(bt,fr),(Ot=Mt==null?void 0:Mt.onChange)===null||Ot===void 0||Ot.call(Mt,fr)},{prefixCls:Xt,className:ke,rootClassName:zn,children:mn,style:Rn,title:ut}=bt,Jt=ot(bt,["prefixCls","className","rootClassName","children","style","title"]),Cn=Vt("radio",Xt),he=((Mt==null?void 0:Mt.optionType)||Ut)==="button",Qt=he?`${Cn}-button`:Cn,xi=(0,Ve.Z)(Cn),[ui,Ae,An]=(0,tt.Z)(Cn,xi),Ur=Object.assign({},Jt),Jr=a.useContext(te.Z);Mt&&(Ur.name=Mt.name,Ur.onChange=un,Ur.checked=bt.value===Mt.value,Ur.disabled=(jt=Ur.disabled)!==null&&jt!==void 0?jt:Mt.disabled),Ur.disabled=(vt=Ur.disabled)!==null&&vt!==void 0?vt:Jr;const On=q()(`${Qt}-wrapper`,{[`${Qt}-wrapper-checked`]:Ur.checked,[`${Qt}-wrapper-disabled`]:Ur.disabled,[`${Qt}-wrapper-rtl`]:yr==="rtl",[`${Qt}-wrapper-in-form-item`]:Ht,[`${Qt}-wrapper-block`]:!!(Mt!=null&&Mt.block)},lr==null?void 0:lr.className,ke,zn,Ae,An,xi),[Kr,Ti]=(0,Te.Z)(Ur.onClick);return ui(a.createElement(We.Z,{component:"Radio",disabled:Ur.disabled},a.createElement("label",{className:On,style:Object.assign(Object.assign({},lr==null?void 0:lr.style),Rn),onMouseEnter:bt.onMouseEnter,onMouseLeave:bt.onMouseLeave,title:ut,onClick:Kr},a.createElement(c.Z,Object.assign({},Ur,{className:q()(Ur.className,{[De.A]:!he}),type:"radio",prefixCls:Qt,ref:Ge,onClick:Ti})),mn!==void 0?a.createElement("span",{className:`${Qt}-label`},mn):null)))},ct=a.forwardRef(Je);Ft.Z=ct},47944:function(Ir,Ft,B){"use strict";var a=B(75271),Qe=B(98446),q=B(53498),c=B(74398),be=function(De,Te){var ye={};for(var te in De)Object.prototype.hasOwnProperty.call(De,te)&&Te.indexOf(te)<0&&(ye[te]=De[te]);if(De!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Ve=0,te=Object.getOwnPropertySymbols(De);Ve<te.length;Ve++)Te.indexOf(te[Ve])<0&&Object.prototype.propertyIsEnumerable.call(De,te[Ve])&&(ye[te[Ve]]=De[te[Ve]]);return ye};const We=(De,Te)=>{const{getPrefixCls:ye}=a.useContext(Qe.E_),{prefixCls:te}=De,Ve=be(De,["prefixCls"]),Ie=ye("radio",te);return a.createElement(q.IH,{value:"button"},a.createElement(c.Z,Object.assign({prefixCls:Ie},Ve,{type:"radio",ref:Te})))};Ft.Z=a.forwardRef(We)},89603:function(Ir,Ft,B){"use strict";var a=B(55921),Qe=B(34299),q=B(84825),c=B(83509);const be=ye=>{const{componentCls:te,antCls:Ve}=ye,Ie=`${te}-group`;return{[Ie]:Object.assign(Object.assign({},(0,Qe.Wf)(ye)),{display:"inline-block",fontSize:0,[`&${Ie}-rtl`]:{direction:"rtl"},[`&${Ie}-block`]:{display:"flex"},[`${Ve}-badge ${Ve}-badge-count`]:{zIndex:1},[`> ${Ve}-badge:not(:first-child) > ${Ve}-button-wrapper`]:{borderInlineStart:"none"}})}},We=ye=>{const{componentCls:te,wrapperMarginInlineEnd:Ve,colorPrimary:Ie,radioSize:Ue,motionDurationSlow:tt,motionDurationMid:ot,motionEaseInOutCirc:Je,colorBgContainer:ct,colorBorder:bt,lineWidth:Xe,colorBgContainerDisabled:jt,colorTextDisabled:vt,paddingXS:Mt,dotColorDisabled:Ut,lineType:Vt,radioColor:yr,radioBgColor:lr,calc:Xn}=ye,Ge=`${te}-inner`,un=Xn(Ue).sub(Xn(4).mul(2)),Xt=Xn(1).mul(Ue).equal({unit:!0});return{[`${te}-wrapper`]:Object.assign(Object.assign({},(0,Qe.Wf)(ye)),{display:"inline-flex",alignItems:"baseline",marginInlineStart:0,marginInlineEnd:Ve,cursor:"pointer","&:last-child":{marginInlineEnd:0},[`&${te}-wrapper-rtl`]:{direction:"rtl"},"&-disabled":{cursor:"not-allowed",color:ye.colorTextDisabled},"&::after":{display:"inline-block",width:0,overflow:"hidden",content:'"\\a0"'},"&-block":{flex:1,justifyContent:"center"},[`${te}-checked::after`]:{position:"absolute",insetBlockStart:0,insetInlineStart:0,width:"100%",height:"100%",border:`${(0,a.bf)(Xe)} ${Vt} ${Ie}`,borderRadius:"50%",visibility:"hidden",opacity:0,content:'""'},[te]:Object.assign(Object.assign({},(0,Qe.Wf)(ye)),{position:"relative",display:"inline-block",outline:"none",cursor:"pointer",alignSelf:"center",borderRadius:"50%"}),[`${te}-wrapper:hover &,
        &:hover ${Ge}`]:{borderColor:Ie},[`${te}-input:focus-visible + ${Ge}`]:Object.assign({},(0,Qe.oN)(ye)),[`${te}:hover::after, ${te}-wrapper:hover &::after`]:{visibility:"visible"},[`${te}-inner`]:{"&::after":{boxSizing:"border-box",position:"absolute",insetBlockStart:"50%",insetInlineStart:"50%",display:"block",width:Xt,height:Xt,marginBlockStart:Xn(1).mul(Ue).div(-2).equal({unit:!0}),marginInlineStart:Xn(1).mul(Ue).div(-2).equal({unit:!0}),backgroundColor:yr,borderBlockStart:0,borderInlineStart:0,borderRadius:Xt,transform:"scale(0)",opacity:0,transition:`all ${tt} ${Je}`,content:'""'},boxSizing:"border-box",position:"relative",insetBlockStart:0,insetInlineStart:0,display:"block",width:Xt,height:Xt,backgroundColor:ct,borderColor:bt,borderStyle:"solid",borderWidth:Xe,borderRadius:"50%",transition:`all ${ot}`},[`${te}-input`]:{position:"absolute",inset:0,zIndex:1,cursor:"pointer",opacity:0},[`${te}-checked`]:{[Ge]:{borderColor:Ie,backgroundColor:lr,"&::after":{transform:`scale(${ye.calc(ye.dotSize).div(Ue).equal()})`,opacity:1,transition:`all ${tt} ${Je}`}}},[`${te}-disabled`]:{cursor:"not-allowed",[Ge]:{backgroundColor:jt,borderColor:bt,cursor:"not-allowed","&::after":{backgroundColor:Ut}},[`${te}-input`]:{cursor:"not-allowed"},[`${te}-disabled + span`]:{color:vt,cursor:"not-allowed"},[`&${te}-checked`]:{[Ge]:{"&::after":{transform:`scale(${Xn(un).div(Ue).equal()})`}}}},[`span${te} + *`]:{paddingInlineStart:Mt,paddingInlineEnd:Mt}})}},De=ye=>{const{buttonColor:te,controlHeight:Ve,componentCls:Ie,lineWidth:Ue,lineType:tt,colorBorder:ot,motionDurationSlow:Je,motionDurationMid:ct,buttonPaddingInline:bt,fontSize:Xe,buttonBg:jt,fontSizeLG:vt,controlHeightLG:Mt,controlHeightSM:Ut,paddingXS:Vt,borderRadius:yr,borderRadiusSM:lr,borderRadiusLG:Xn,buttonCheckedBg:Ge,buttonSolidCheckedColor:Ht,colorTextDisabled:un,colorBgContainerDisabled:Xt,buttonCheckedBgDisabled:ke,buttonCheckedColorDisabled:zn,colorPrimary:mn,colorPrimaryHover:Rn,colorPrimaryActive:ut,buttonSolidCheckedBg:Jt,buttonSolidCheckedHoverBg:Cn,buttonSolidCheckedActiveBg:he,calc:Qt}=ye;return{[`${Ie}-button-wrapper`]:{position:"relative",display:"inline-block",height:Ve,margin:0,paddingInline:bt,paddingBlock:0,color:te,fontSize:Xe,lineHeight:(0,a.bf)(Qt(Ve).sub(Qt(Ue).mul(2)).equal()),background:jt,border:`${(0,a.bf)(Ue)} ${tt} ${ot}`,borderBlockStartWidth:Qt(Ue).add(.02).equal(),borderInlineStartWidth:0,borderInlineEndWidth:Ue,cursor:"pointer",transition:[`color ${ct}`,`background ${ct}`,`box-shadow ${ct}`].join(","),a:{color:te},[`> ${Ie}-button`]:{position:"absolute",insetBlockStart:0,insetInlineStart:0,zIndex:-1,width:"100%",height:"100%"},"&:not(:first-child)":{"&::before":{position:"absolute",insetBlockStart:Qt(Ue).mul(-1).equal(),insetInlineStart:Qt(Ue).mul(-1).equal(),display:"block",boxSizing:"content-box",width:1,height:"100%",paddingBlock:Ue,paddingInline:0,backgroundColor:ot,transition:`background-color ${Je}`,content:'""'}},"&:first-child":{borderInlineStart:`${(0,a.bf)(Ue)} ${tt} ${ot}`,borderStartStartRadius:yr,borderEndStartRadius:yr},"&:last-child":{borderStartEndRadius:yr,borderEndEndRadius:yr},"&:first-child:last-child":{borderRadius:yr},[`${Ie}-group-large &`]:{height:Mt,fontSize:vt,lineHeight:(0,a.bf)(Qt(Mt).sub(Qt(Ue).mul(2)).equal()),"&:first-child":{borderStartStartRadius:Xn,borderEndStartRadius:Xn},"&:last-child":{borderStartEndRadius:Xn,borderEndEndRadius:Xn}},[`${Ie}-group-small &`]:{height:Ut,paddingInline:Qt(Vt).sub(Ue).equal(),paddingBlock:0,lineHeight:(0,a.bf)(Qt(Ut).sub(Qt(Ue).mul(2)).equal()),"&:first-child":{borderStartStartRadius:lr,borderEndStartRadius:lr},"&:last-child":{borderStartEndRadius:lr,borderEndEndRadius:lr}},"&:hover":{position:"relative",color:mn},"&:has(:focus-visible)":Object.assign({},(0,Qe.oN)(ye)),[`${Ie}-inner, input[type='checkbox'], input[type='radio']`]:{width:0,height:0,opacity:0,pointerEvents:"none"},[`&-checked:not(${Ie}-button-wrapper-disabled)`]:{zIndex:1,color:mn,background:Ge,borderColor:mn,"&::before":{backgroundColor:mn},"&:first-child":{borderColor:mn},"&:hover":{color:Rn,borderColor:Rn,"&::before":{backgroundColor:Rn}},"&:active":{color:ut,borderColor:ut,"&::before":{backgroundColor:ut}}},[`${Ie}-group-solid &-checked:not(${Ie}-button-wrapper-disabled)`]:{color:Ht,background:Jt,borderColor:Jt,"&:hover":{color:Ht,background:Cn,borderColor:Cn},"&:active":{color:Ht,background:he,borderColor:he}},"&-disabled":{color:un,backgroundColor:Xt,borderColor:ot,cursor:"not-allowed","&:first-child, &:hover":{color:un,backgroundColor:Xt,borderColor:ot}},[`&-disabled${Ie}-button-wrapper-checked`]:{color:zn,backgroundColor:ke,borderColor:ot,boxShadow:"none"},"&-block":{flex:1,textAlign:"center"}}}},Te=ye=>{const{wireframe:te,padding:Ve,marginXS:Ie,lineWidth:Ue,fontSizeLG:tt,colorText:ot,colorBgContainer:Je,colorTextDisabled:ct,controlItemBgActiveDisabled:bt,colorTextLightSolid:Xe,colorPrimary:jt,colorPrimaryHover:vt,colorPrimaryActive:Mt,colorWhite:Ut}=ye,Vt=4,yr=tt,lr=te?yr-Vt*2:yr-(Vt+Ue)*2;return{radioSize:yr,dotSize:lr,dotColorDisabled:ct,buttonSolidCheckedColor:Xe,buttonSolidCheckedBg:jt,buttonSolidCheckedHoverBg:vt,buttonSolidCheckedActiveBg:Mt,buttonBg:Je,buttonCheckedBg:Je,buttonColor:ot,buttonCheckedBgDisabled:bt,buttonCheckedColorDisabled:ct,buttonPaddingInline:Ve-Ue,wrapperMarginInlineEnd:Ie,radioColor:te?jt:Ut,radioBgColor:te?Je:jt}};Ft.Z=(0,q.I$)("Radio",ye=>{const{controlOutline:te,controlOutlineWidth:Ve}=ye,Ie=`0 0 0 ${(0,a.bf)(Ve)} ${te}`,Ue=Ie,tt=(0,c.IX)(ye,{radioFocusShadow:Ie,radioButtonFocusShadow:Ue});return[be(tt),We(tt),De(tt)]},Te,{unitless:{radioSize:!0,dotSize:!0}})},82162:function(Ir,Ft,B){"use strict";B.d(Ft,{Z:function(){return ui}});var a=B(75271),Qe=B(82187),q=B.n(Qe),c=B(23022),be=B(89692),We=B(58190),De=B(38926),Te=B(54153),ye=B(5147),te=B(93954),Ve=B(18051),Ie=B(42684),Ue=B(62803),tt=B(92076),ot=function(An,Ur){if(!An)return null;var Jr={left:An.offsetLeft,right:An.parentElement.clientWidth-An.clientWidth-An.offsetLeft,width:An.clientWidth,top:An.offsetTop,bottom:An.parentElement.clientHeight-An.clientHeight-An.offsetTop,height:An.clientHeight};return Ur?{left:0,right:0,width:0,top:Jr.top,bottom:Jr.bottom,height:Jr.height}:{left:Jr.left,right:Jr.right,width:Jr.width,top:0,bottom:0,height:0}},Je=function(An){return An!==void 0?"".concat(An,"px"):void 0};function ct(Ae){var An=Ae.prefixCls,Ur=Ae.containerRef,Jr=Ae.value,On=Ae.getValueIndex,Kr=Ae.motionName,Ti=Ae.onMotionStart,fr=Ae.onMotionEnd,it=Ae.direction,Ot=Ae.vertical,Dn=Ot===void 0?!1:Ot,pn=a.useRef(null),gn=a.useState(Jr),wr=(0,be.Z)(gn,2),Hn=wr[0],oi=wr[1],pi=function(eo){var Io,ci=On(eo),oo=(Io=Ur.current)===null||Io===void 0?void 0:Io.querySelectorAll(".".concat(An,"-item"))[ci];return(oo==null?void 0:oo.offsetParent)&&oo},ri=a.useState(null),ni=(0,be.Z)(ri,2),Cr=ni[0],qn=ni[1],_r=a.useState(null),Pr=(0,be.Z)(_r,2),Tr=Pr[0],ei=Pr[1];(0,tt.Z)(function(){if(Hn!==Jr){var Ci=pi(Hn),eo=pi(Jr),Io=ot(Ci,Dn),ci=ot(eo,Dn);oi(Jr),qn(Io),ei(ci),Ci&&eo?Ti():fr()}},[Jr]);var ar=a.useMemo(function(){if(Dn){var Ci;return Je((Ci=Cr==null?void 0:Cr.top)!==null&&Ci!==void 0?Ci:0)}return Je(it==="rtl"?-(Cr==null?void 0:Cr.right):Cr==null?void 0:Cr.left)},[Dn,it,Cr]),mr=a.useMemo(function(){if(Dn){var Ci;return Je((Ci=Tr==null?void 0:Tr.top)!==null&&Ci!==void 0?Ci:0)}return Je(it==="rtl"?-(Tr==null?void 0:Tr.right):Tr==null?void 0:Tr.left)},[Dn,it,Tr]),ii=function(){return Dn?{transform:"translateY(var(--thumb-start-top))",height:"var(--thumb-start-height)"}:{transform:"translateX(var(--thumb-start-left))",width:"var(--thumb-start-width)"}},Wn=function(){return Dn?{transform:"translateY(var(--thumb-active-top))",height:"var(--thumb-active-height)"}:{transform:"translateX(var(--thumb-active-left))",width:"var(--thumb-active-width)"}},di=function(){qn(null),ei(null),fr()};return!Cr||!Tr?null:a.createElement(Ue.ZP,{visible:!0,motionName:Kr,motionAppear:!0,onAppearStart:ii,onAppearActive:Wn,onVisibleChanged:di},function(Ci,eo){var Io=Ci.className,ci=Ci.style,oo=(0,Te.Z)((0,Te.Z)({},ci),{},{"--thumb-start-left":ar,"--thumb-start-width":Je(Cr==null?void 0:Cr.width),"--thumb-active-left":mr,"--thumb-active-width":Je(Tr==null?void 0:Tr.width),"--thumb-start-top":ar,"--thumb-start-height":Je(Cr==null?void 0:Cr.height),"--thumb-active-top":mr,"--thumb-active-height":Je(Tr==null?void 0:Tr.height)}),nn={ref:(0,Ie.sQ)(pn,eo),style:oo,className:q()("".concat(An,"-thumb"),Io)};return a.createElement("div",nn)})}var bt=["prefixCls","direction","vertical","options","disabled","defaultValue","value","name","onChange","className","motionName"];function Xe(Ae){if(typeof Ae.title!="undefined")return Ae.title;if((0,ye.Z)(Ae.label)!=="object"){var An;return(An=Ae.label)===null||An===void 0?void 0:An.toString()}}function jt(Ae){return Ae.map(function(An){if((0,ye.Z)(An)==="object"&&An!==null){var Ur=Xe(An);return(0,Te.Z)((0,Te.Z)({},An),{},{title:Ur})}return{label:An==null?void 0:An.toString(),title:An==null?void 0:An.toString(),value:An}})}var vt=function(An){var Ur=An.prefixCls,Jr=An.className,On=An.disabled,Kr=An.checked,Ti=An.label,fr=An.title,it=An.value,Ot=An.name,Dn=An.onChange,pn=An.onFocus,gn=An.onBlur,wr=An.onKeyDown,Hn=An.onKeyUp,oi=An.onMouseDown,pi=function(ni){On||Dn(ni,it)};return a.createElement("label",{className:q()(Jr,(0,De.Z)({},"".concat(Ur,"-item-disabled"),On)),onMouseDown:oi},a.createElement("input",{name:Ot,className:"".concat(Ur,"-item-input"),type:"radio",disabled:On,checked:Kr,onChange:pi,onFocus:pn,onBlur:gn,onKeyDown:wr,onKeyUp:Hn}),a.createElement("div",{className:"".concat(Ur,"-item-label"),title:fr,"aria-selected":Kr},Ti))},Mt=a.forwardRef(function(Ae,An){var Ur,Jr,On=Ae.prefixCls,Kr=On===void 0?"rc-segmented":On,Ti=Ae.direction,fr=Ae.vertical,it=Ae.options,Ot=it===void 0?[]:it,Dn=Ae.disabled,pn=Ae.defaultValue,gn=Ae.value,wr=Ae.name,Hn=Ae.onChange,oi=Ae.className,pi=oi===void 0?"":oi,ri=Ae.motionName,ni=ri===void 0?"thumb-motion":ri,Cr=(0,We.Z)(Ae,bt),qn=a.useRef(null),_r=a.useMemo(function(){return(0,Ie.sQ)(qn,An)},[qn,An]),Pr=a.useMemo(function(){return jt(Ot)},[Ot]),Tr=(0,te.Z)((Ur=Pr[0])===null||Ur===void 0?void 0:Ur.value,{value:gn,defaultValue:pn}),ei=(0,be.Z)(Tr,2),ar=ei[0],mr=ei[1],ii=a.useState(!1),Wn=(0,be.Z)(ii,2),di=Wn[0],Ci=Wn[1],eo=function(Y,Ze){mr(Ze),Hn==null||Hn(Ze)},Io=(0,Ve.Z)(Cr,["children"]),ci=a.useState(!1),oo=(0,be.Z)(ci,2),nn=oo[0],Mn=oo[1],Ee=a.useState(!1),dn=(0,be.Z)(Ee,2),br=dn[0],rr=dn[1],Yr=function(){rr(!0)},Mi=function(){rr(!1)},Wi=function(){Mn(!1)},Bi=function(Y){Y.key==="Tab"&&Mn(!0)},Di=function(Y){var Ze=Pr.findIndex(function(tn){return tn.value===ar}),pe=Pr.length,nt=(Ze+Y+pe)%pe,rt=Pr[nt];rt&&(mr(rt.value),Hn==null||Hn(rt.value))},Re=function(Y){switch(Y.key){case"ArrowLeft":case"ArrowUp":Di(-1);break;case"ArrowRight":case"ArrowDown":Di(1);break}};return a.createElement("div",(0,c.Z)({role:"radiogroup","aria-label":"segmented control",tabIndex:Dn?void 0:0},Io,{className:q()(Kr,(Jr={},(0,De.Z)(Jr,"".concat(Kr,"-rtl"),Ti==="rtl"),(0,De.Z)(Jr,"".concat(Kr,"-disabled"),Dn),(0,De.Z)(Jr,"".concat(Kr,"-vertical"),fr),Jr),pi),ref:_r}),a.createElement("div",{className:"".concat(Kr,"-group")},a.createElement(ct,{vertical:fr,prefixCls:Kr,value:ar,containerRef:qn,motionName:"".concat(Kr,"-").concat(ni),direction:Ti,getValueIndex:function(Y){return Pr.findIndex(function(Ze){return Ze.value===Y})},onMotionStart:function(){Ci(!0)},onMotionEnd:function(){Ci(!1)}}),Pr.map(function(de){var Y;return a.createElement(vt,(0,c.Z)({},de,{name:wr,key:de.value,prefixCls:Kr,className:q()(de.className,"".concat(Kr,"-item"),(Y={},(0,De.Z)(Y,"".concat(Kr,"-item-selected"),de.value===ar&&!di),(0,De.Z)(Y,"".concat(Kr,"-item-focused"),br&&nn&&de.value===ar),Y)),checked:de.value===ar,onChange:eo,onFocus:Yr,onBlur:Mi,onKeyDown:Re,onKeyUp:Bi,onMouseDown:Wi,disabled:!!Dn||!!de.disabled}))})))}),Ut=Mt,Vt=Ut,yr=B(73188),lr=B(98446),Xn=B(95741),Ge=B(55921),Ht=B(34299),un=B(84825),Xt=B(83509);function ke(Ae,An){return{[`${Ae}, ${Ae}:hover, ${Ae}:focus`]:{color:An.colorTextDisabled,cursor:"not-allowed"}}}function zn(Ae){return{backgroundColor:Ae.itemSelectedBg,boxShadow:Ae.boxShadowTertiary}}const mn=Object.assign({overflow:"hidden"},Ht.vS),Rn=Ae=>{const{componentCls:An}=Ae,Ur=Ae.calc(Ae.controlHeight).sub(Ae.calc(Ae.trackPadding).mul(2)).equal(),Jr=Ae.calc(Ae.controlHeightLG).sub(Ae.calc(Ae.trackPadding).mul(2)).equal(),On=Ae.calc(Ae.controlHeightSM).sub(Ae.calc(Ae.trackPadding).mul(2)).equal();return{[An]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(0,Ht.Wf)(Ae)),{display:"inline-block",padding:Ae.trackPadding,color:Ae.itemColor,background:Ae.trackBg,borderRadius:Ae.borderRadius,transition:`all ${Ae.motionDurationMid} ${Ae.motionEaseInOut}`}),(0,Ht.Qy)(Ae)),{[`${An}-group`]:{position:"relative",display:"flex",alignItems:"stretch",justifyItems:"flex-start",flexDirection:"row",width:"100%"},[`&${An}-rtl`]:{direction:"rtl"},[`&${An}-vertical`]:{[`${An}-group`]:{flexDirection:"column"},[`${An}-thumb`]:{width:"100%",height:0,padding:`0 ${(0,Ge.bf)(Ae.paddingXXS)}`}},[`&${An}-block`]:{display:"flex"},[`&${An}-block ${An}-item`]:{flex:1,minWidth:0},[`${An}-item`]:{position:"relative",textAlign:"center",cursor:"pointer",transition:`color ${Ae.motionDurationMid} ${Ae.motionEaseInOut}`,borderRadius:Ae.borderRadiusSM,transform:"translateZ(0)","&-selected":Object.assign(Object.assign({},zn(Ae)),{color:Ae.itemSelectedColor}),"&-focused":Object.assign({},(0,Ht.oN)(Ae)),"&::after":{content:'""',position:"absolute",zIndex:-1,width:"100%",height:"100%",top:0,insetInlineStart:0,borderRadius:"inherit",opacity:0,transition:`opacity ${Ae.motionDurationMid}`,pointerEvents:"none"},[`&:hover:not(${An}-item-selected):not(${An}-item-disabled)`]:{color:Ae.itemHoverColor,"&::after":{opacity:1,backgroundColor:Ae.itemHoverBg}},[`&:active:not(${An}-item-selected):not(${An}-item-disabled)`]:{color:Ae.itemHoverColor,"&::after":{opacity:1,backgroundColor:Ae.itemActiveBg}},"&-label":Object.assign({minHeight:Ur,lineHeight:(0,Ge.bf)(Ur),padding:`0 ${(0,Ge.bf)(Ae.segmentedPaddingHorizontal)}`},mn),"&-icon + *":{marginInlineStart:Ae.calc(Ae.marginSM).div(2).equal()},"&-input":{position:"absolute",insetBlockStart:0,insetInlineStart:0,width:0,height:0,opacity:0,pointerEvents:"none"}},[`${An}-thumb`]:Object.assign(Object.assign({},zn(Ae)),{position:"absolute",insetBlockStart:0,insetInlineStart:0,width:0,height:"100%",padding:`${(0,Ge.bf)(Ae.paddingXXS)} 0`,borderRadius:Ae.borderRadiusSM,transition:`transform ${Ae.motionDurationSlow} ${Ae.motionEaseInOut}, height ${Ae.motionDurationSlow} ${Ae.motionEaseInOut}`,[`& ~ ${An}-item:not(${An}-item-selected):not(${An}-item-disabled)::after`]:{backgroundColor:"transparent"}}),[`&${An}-lg`]:{borderRadius:Ae.borderRadiusLG,[`${An}-item-label`]:{minHeight:Jr,lineHeight:(0,Ge.bf)(Jr),padding:`0 ${(0,Ge.bf)(Ae.segmentedPaddingHorizontal)}`,fontSize:Ae.fontSizeLG},[`${An}-item, ${An}-thumb`]:{borderRadius:Ae.borderRadius}},[`&${An}-sm`]:{borderRadius:Ae.borderRadiusSM,[`${An}-item-label`]:{minHeight:On,lineHeight:(0,Ge.bf)(On),padding:`0 ${(0,Ge.bf)(Ae.segmentedPaddingHorizontalSM)}`},[`${An}-item, ${An}-thumb`]:{borderRadius:Ae.borderRadiusXS}}}),ke(`&-disabled ${An}-item`,Ae)),ke(`${An}-item-disabled`,Ae)),{[`${An}-thumb-motion-appear-active`]:{transition:`transform ${Ae.motionDurationSlow} ${Ae.motionEaseInOut}, width ${Ae.motionDurationSlow} ${Ae.motionEaseInOut}`,willChange:"transform, width"},[`&${An}-shape-round`]:{borderRadius:9999,[`${An}-item, ${An}-thumb`]:{borderRadius:9999}}})}},ut=Ae=>{const{colorTextLabel:An,colorText:Ur,colorFillSecondary:Jr,colorBgElevated:On,colorFill:Kr,lineWidthBold:Ti,colorBgLayout:fr}=Ae;return{trackPadding:Ti,trackBg:fr,itemColor:An,itemHoverColor:Ur,itemHoverBg:Jr,itemSelectedBg:On,itemActiveBg:Kr,itemSelectedColor:Ur}};var Jt=(0,un.I$)("Segmented",Ae=>{const{lineWidth:An,calc:Ur}=Ae,Jr=(0,Xt.IX)(Ae,{segmentedPaddingHorizontal:Ur(Ae.controlPaddingHorizontal).sub(An).equal(),segmentedPaddingHorizontalSM:Ur(Ae.controlPaddingHorizontalSM).sub(An).equal()});return[Rn(Jr)]},ut),Cn=function(Ae,An){var Ur={};for(var Jr in Ae)Object.prototype.hasOwnProperty.call(Ae,Jr)&&An.indexOf(Jr)<0&&(Ur[Jr]=Ae[Jr]);if(Ae!=null&&typeof Object.getOwnPropertySymbols=="function")for(var On=0,Jr=Object.getOwnPropertySymbols(Ae);On<Jr.length;On++)An.indexOf(Jr[On])<0&&Object.prototype.propertyIsEnumerable.call(Ae,Jr[On])&&(Ur[Jr[On]]=Ae[Jr[On]]);return Ur};function he(Ae){return typeof Ae=="object"&&!!(Ae!=null&&Ae.icon)}var ui=a.forwardRef((Ae,An)=>{const Ur=(0,yr.Z)(),{prefixCls:Jr,className:On,rootClassName:Kr,block:Ti,options:fr=[],size:it="middle",style:Ot,vertical:Dn,shape:pn="default",name:gn=Ur}=Ae,wr=Cn(Ae,["prefixCls","className","rootClassName","block","options","size","style","vertical","shape","name"]),{getPrefixCls:Hn,direction:oi,className:pi,style:ri}=(0,lr.dj)("segmented"),ni=Hn("segmented",Jr),[Cr,qn,_r]=Jt(ni),Pr=(0,Xn.Z)(it),Tr=a.useMemo(()=>fr.map(mr=>{if(he(mr)){const{icon:ii,label:Wn}=mr,di=Cn(mr,["icon","label"]);return Object.assign(Object.assign({},di),{label:a.createElement(a.Fragment,null,a.createElement("span",{className:`${ni}-item-icon`},ii),Wn&&a.createElement("span",null,Wn))})}return mr}),[fr,ni]),ei=q()(On,Kr,pi,{[`${ni}-block`]:Ti,[`${ni}-sm`]:Pr==="small",[`${ni}-lg`]:Pr==="large",[`${ni}-vertical`]:Dn,[`${ni}-shape-${pn}`]:pn==="round"},qn,_r),ar=Object.assign(Object.assign({},ri),Ot);return Cr(a.createElement(Vt,Object.assign({},wr,{name:gn,className:ei,style:ar,options:Tr,ref:An,prefixCls:ni,direction:oi,vertical:Dn})))})},30142:function(Ir,Ft,B){"use strict";var a=B(75271),Qe=B(82187),q=B.n(Qe),c=B(12321),be=B(18051),We=B(19952),De=B(13635),Te=B(52445),ye=B(94773),te=B(98446),Ve=B(22463),Ie=B(98472),Ue=B(38437),tt=B(95741),ot=B(60824),Je=B(7038),ct=B(23137),bt=B(67699),Xe=B(95799),jt=B(80043),vt=B(50360),Mt=B(54299),Ut=function(Ge,Ht){var un={};for(var Xt in Ge)Object.prototype.hasOwnProperty.call(Ge,Xt)&&Ht.indexOf(Xt)<0&&(un[Xt]=Ge[Xt]);if(Ge!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ke=0,Xt=Object.getOwnPropertySymbols(Ge);ke<Xt.length;ke++)Ht.indexOf(Xt[ke])<0&&Object.prototype.propertyIsEnumerable.call(Ge,Xt[ke])&&(un[Xt[ke]]=Ge[Xt[ke]]);return un};const Vt="SECRET_COMBOBOX_MODE_DO_NOT_USE",yr=(Ge,Ht)=>{var un;const{prefixCls:Xt,bordered:ke,className:zn,rootClassName:mn,getPopupContainer:Rn,popupClassName:ut,dropdownClassName:Jt,listHeight:Cn=256,placement:he,listItemHeight:Qt,size:xi,disabled:ui,notFoundContent:Ae,status:An,builtinPlacements:Ur,dropdownMatchSelectWidth:Jr,popupMatchSelectWidth:On,direction:Kr,style:Ti,allowClear:fr,variant:it,dropdownStyle:Ot,transitionName:Dn,tagRender:pn,maxCount:gn,prefix:wr}=Ge,Hn=Ut(Ge,["prefixCls","bordered","className","rootClassName","getPopupContainer","popupClassName","dropdownClassName","listHeight","placement","listItemHeight","size","disabled","notFoundContent","status","builtinPlacements","dropdownMatchSelectWidth","popupMatchSelectWidth","direction","style","allowClear","variant","dropdownStyle","transitionName","tagRender","maxCount","prefix"]),{getPopupContainer:oi,getPrefixCls:pi,renderEmpty:ri,direction:ni,virtual:Cr,popupMatchSelectWidth:qn,popupOverflow:_r}=a.useContext(te.E_),Pr=(0,te.dj)("select"),[,Tr]=(0,bt.ZP)(),ei=Qt!=null?Qt:Tr==null?void 0:Tr.controlHeight,ar=pi("select",Xt),mr=pi(),ii=Kr!=null?Kr:ni,{compactSize:Wn,compactItemClassnames:di}=(0,ct.ri)(ar,ii),[Ci,eo]=(0,Je.Z)("select",it,ke),Io=(0,Ue.Z)(ar),[ci,oo,nn]=(0,jt.Z)(ar,Io),Mn=a.useMemo(()=>{const{mode:Kt}=Ge;if(Kt!=="combobox")return Kt===Vt?"combobox":Kt},[Ge.mode]),Ee=Mn==="multiple"||Mn==="tags",dn=(0,Mt.Z)(Ge.suffixIcon,Ge.showArrow),br=(un=On!=null?On:Jr)!==null&&un!==void 0?un:qn,{status:rr,hasFeedback:Yr,isFormItemInput:Mi,feedbackIcon:Wi}=a.useContext(ot.aM),Bi=(0,ye.F)(rr,An);let Di;Ae!==void 0?Di=Ae:Mn==="combobox"?Di=null:Di=(ri==null?void 0:ri("Select"))||a.createElement(Ve.Z,{componentName:"Select"});const{suffixIcon:Re,itemIcon:de,removeIcon:Y,clearIcon:Ze}=(0,vt.Z)(Object.assign(Object.assign({},Hn),{multiple:Ee,hasFeedback:Yr,feedbackIcon:Wi,showSuffixIcon:dn,prefixCls:ar,componentName:"Select"})),pe=fr===!0?{clearIcon:Ze}:fr,nt=(0,be.Z)(Hn,["suffixIcon","itemIcon"]),rt=q()(ut||Jt,{[`${ar}-dropdown-${ii}`]:ii==="rtl"},mn,nn,Io,oo),tn=(0,tt.Z)(Kt=>{var rn;return(rn=xi!=null?xi:Wn)!==null&&rn!==void 0?rn:Kt}),$t=a.useContext(Ie.Z),ln=ui!=null?ui:$t,vn=q()({[`${ar}-lg`]:tn==="large",[`${ar}-sm`]:tn==="small",[`${ar}-rtl`]:ii==="rtl",[`${ar}-${Ci}`]:eo,[`${ar}-in-form-item`]:Mi},(0,ye.Z)(ar,Bi,Yr),di,Pr.className,zn,mn,nn,Io,oo),et=a.useMemo(()=>he!==void 0?he:ii==="rtl"?"bottomRight":"bottomLeft",[he,ii]),[Rt]=(0,We.Cn)("SelectLike",Ot==null?void 0:Ot.zIndex);return ci(a.createElement(c.ZP,Object.assign({ref:Ht,virtual:Cr,showSearch:Pr.showSearch},nt,{style:Object.assign(Object.assign({},Pr.style),Ti),dropdownMatchSelectWidth:br,transitionName:(0,De.m)(mr,"slide-up",Dn),builtinPlacements:(0,Xe.Z)(Ur,_r),listHeight:Cn,listItemHeight:ei,mode:Mn,prefixCls:ar,placement:et,direction:ii,prefix:wr,suffixIcon:Re,menuItemSelectedIcon:de,removeIcon:Y,allowClear:pe,notFoundContent:Di,className:vn,getPopupContainer:Rn||oi,dropdownClassName:rt,disabled:ln,dropdownStyle:Object.assign(Object.assign({},Ot),{zIndex:Rt}),maxCount:Ee?gn:void 0,tagRender:Ee?pn:void 0})))},lr=a.forwardRef(yr),Xn=(0,Te.Z)(lr,"dropdownAlign");lr.SECRET_COMBOBOX_MODE_DO_NOT_USE=Vt,lr.Option=c.Wx,lr.OptGroup=c.Xo,lr._InternalPanelDoNotUseOrYouWillBeFired=Xn,Ft.default=lr},95799:function(Ir,Ft){"use strict";const B=Qe=>{const c={overflow:{adjustX:!0,adjustY:!0,shiftY:!0},htmlRegion:Qe==="scroll"?"scroll":"visible",dynamicInset:!0};return{bottomLeft:Object.assign(Object.assign({},c),{points:["tl","bl"],offset:[0,4]}),bottomRight:Object.assign(Object.assign({},c),{points:["tr","br"],offset:[0,4]}),topLeft:Object.assign(Object.assign({},c),{points:["bl","tl"],offset:[0,-4]}),topRight:Object.assign(Object.assign({},c),{points:["br","tr"],offset:[0,-4]})}};function a(Qe,q){return Qe||B(q)}Ft.Z=a},80043:function(Ir,Ft,B){"use strict";B.d(Ft,{Z:function(){return Xt}});var a=B(34299),Qe=B(9288),q=B(84825),c=B(83509),be=B(17877),We=B(48221);const De=ke=>{const{optionHeight:zn,optionFontSize:mn,optionLineHeight:Rn,optionPadding:ut}=ke;return{position:"relative",display:"block",minHeight:zn,padding:ut,color:ke.colorText,fontWeight:"normal",fontSize:mn,lineHeight:Rn,boxSizing:"border-box"}};var ye=ke=>{const{antCls:zn,componentCls:mn}=ke,Rn=`${mn}-item`,ut=`&${zn}-slide-up-enter${zn}-slide-up-enter-active`,Jt=`&${zn}-slide-up-appear${zn}-slide-up-appear-active`,Cn=`&${zn}-slide-up-leave${zn}-slide-up-leave-active`,he=`${mn}-dropdown-placement-`,Qt=`${Rn}-option-selected`;return[{[`${mn}-dropdown`]:Object.assign(Object.assign({},(0,a.Wf)(ke)),{position:"absolute",top:-9999,zIndex:ke.zIndexPopup,boxSizing:"border-box",padding:ke.paddingXXS,overflow:"hidden",fontSize:ke.fontSize,fontVariant:"initial",backgroundColor:ke.colorBgElevated,borderRadius:ke.borderRadiusLG,outline:"none",boxShadow:ke.boxShadowSecondary,[`
          ${ut}${he}bottomLeft,
          ${Jt}${he}bottomLeft
        `]:{animationName:be.fJ},[`
          ${ut}${he}topLeft,
          ${Jt}${he}topLeft,
          ${ut}${he}topRight,
          ${Jt}${he}topRight
        `]:{animationName:be.Qt},[`${Cn}${he}bottomLeft`]:{animationName:be.Uw},[`
          ${Cn}${he}topLeft,
          ${Cn}${he}topRight
        `]:{animationName:be.ly},"&-hidden":{display:"none"},[Rn]:Object.assign(Object.assign({},De(ke)),{cursor:"pointer",transition:`background ${ke.motionDurationSlow} ease`,borderRadius:ke.borderRadiusSM,"&-group":{color:ke.colorTextDescription,fontSize:ke.fontSizeSM,cursor:"default"},"&-option":{display:"flex","&-content":Object.assign({flex:"auto"},a.vS),"&-state":{flex:"none",display:"flex",alignItems:"center"},[`&-active:not(${Rn}-option-disabled)`]:{backgroundColor:ke.optionActiveBg},[`&-selected:not(${Rn}-option-disabled)`]:{color:ke.optionSelectedColor,fontWeight:ke.optionSelectedFontWeight,backgroundColor:ke.optionSelectedBg,[`${Rn}-option-state`]:{color:ke.colorPrimary}},"&-disabled":{[`&${Rn}-option-selected`]:{backgroundColor:ke.colorBgContainerDisabled},color:ke.colorTextDisabled,cursor:"not-allowed"},"&-grouped":{paddingInlineStart:ke.calc(ke.controlPaddingHorizontal).mul(2).equal()}},"&-empty":Object.assign(Object.assign({},De(ke)),{color:ke.colorTextDisabled})}),[`${Qt}:has(+ ${Qt})`]:{borderEndStartRadius:0,borderEndEndRadius:0,[`& + ${Qt}`]:{borderStartStartRadius:0,borderStartEndRadius:0}},"&-rtl":{direction:"rtl"}})},(0,be.oN)(ke,"slide-up"),(0,be.oN)(ke,"slide-down"),(0,We.Fm)(ke,"move-up"),(0,We.Fm)(ke,"move-down")]},te=B(17543),Ve=B(55921);function Ie(ke,zn){const{componentCls:mn,inputPaddingHorizontalBase:Rn,borderRadius:ut}=ke,Jt=ke.calc(ke.controlHeight).sub(ke.calc(ke.lineWidth).mul(2)).equal(),Cn=zn?`${mn}-${zn}`:"";return{[`${mn}-single${Cn}`]:{fontSize:ke.fontSize,height:ke.controlHeight,[`${mn}-selector`]:Object.assign(Object.assign({},(0,a.Wf)(ke,!0)),{display:"flex",borderRadius:ut,flex:"1 1 auto",[`${mn}-selection-search`]:{position:"absolute",inset:0,width:"100%","&-input":{width:"100%",WebkitAppearance:"textfield"}},[`
          ${mn}-selection-item,
          ${mn}-selection-placeholder
        `]:{display:"block",padding:0,lineHeight:(0,Ve.bf)(Jt),transition:`all ${ke.motionDurationSlow}, visibility 0s`,alignSelf:"center"},[`${mn}-selection-placeholder`]:{transition:"none",pointerEvents:"none"},[["&:after",`${mn}-selection-item:empty:after`,`${mn}-selection-placeholder:empty:after`].join(",")]:{display:"inline-block",width:0,visibility:"hidden",content:'"\\a0"'}}),[`
        &${mn}-show-arrow ${mn}-selection-item,
        &${mn}-show-arrow ${mn}-selection-search,
        &${mn}-show-arrow ${mn}-selection-placeholder
      `]:{paddingInlineEnd:ke.showArrowPaddingInlineEnd},[`&${mn}-open ${mn}-selection-item`]:{color:ke.colorTextPlaceholder},[`&:not(${mn}-customize-input)`]:{[`${mn}-selector`]:{width:"100%",height:"100%",alignItems:"center",padding:`0 ${(0,Ve.bf)(Rn)}`,[`${mn}-selection-search-input`]:{height:Jt},"&:after":{lineHeight:(0,Ve.bf)(Jt)}}},[`&${mn}-customize-input`]:{[`${mn}-selector`]:{"&:after":{display:"none"},[`${mn}-selection-search`]:{position:"static",width:"100%"},[`${mn}-selection-placeholder`]:{position:"absolute",insetInlineStart:0,insetInlineEnd:0,padding:`0 ${(0,Ve.bf)(Rn)}`,"&:after":{display:"none"}}}}}}}function Ue(ke){const{componentCls:zn}=ke,mn=ke.calc(ke.controlPaddingHorizontalSM).sub(ke.lineWidth).equal();return[Ie(ke),Ie((0,c.IX)(ke,{controlHeight:ke.controlHeightSM,borderRadius:ke.borderRadiusSM}),"sm"),{[`${zn}-single${zn}-sm`]:{[`&:not(${zn}-customize-input)`]:{[`${zn}-selector`]:{padding:`0 ${(0,Ve.bf)(mn)}`},[`&${zn}-show-arrow ${zn}-selection-search`]:{insetInlineEnd:ke.calc(mn).add(ke.calc(ke.fontSize).mul(1.5)).equal()},[`
            &${zn}-show-arrow ${zn}-selection-item,
            &${zn}-show-arrow ${zn}-selection-placeholder
          `]:{paddingInlineEnd:ke.calc(ke.fontSize).mul(1.5).equal()}}}},Ie((0,c.IX)(ke,{controlHeight:ke.singleItemHeightLG,fontSize:ke.fontSizeLG,borderRadius:ke.borderRadiusLG}),"lg")]}const tt=ke=>{const{fontSize:zn,lineHeight:mn,lineWidth:Rn,controlHeight:ut,controlHeightSM:Jt,controlHeightLG:Cn,paddingXXS:he,controlPaddingHorizontal:Qt,zIndexPopupBase:xi,colorText:ui,fontWeightStrong:Ae,controlItemBgActive:An,controlItemBgHover:Ur,colorBgContainer:Jr,colorFillSecondary:On,colorBgContainerDisabled:Kr,colorTextDisabled:Ti,colorPrimaryHover:fr,colorPrimary:it,controlOutline:Ot}=ke,Dn=he*2,pn=Rn*2,gn=Math.min(ut-Dn,ut-pn),wr=Math.min(Jt-Dn,Jt-pn),Hn=Math.min(Cn-Dn,Cn-pn);return{INTERNAL_FIXED_ITEM_MARGIN:Math.floor(he/2),zIndexPopup:xi+50,optionSelectedColor:ui,optionSelectedFontWeight:Ae,optionSelectedBg:An,optionActiveBg:Ur,optionPadding:`${(ut-zn*mn)/2}px ${Qt}px`,optionFontSize:zn,optionLineHeight:mn,optionHeight:ut,selectorBg:Jr,clearBg:Jr,singleItemHeightLG:Cn,multipleItemBg:On,multipleItemBorderColor:"transparent",multipleItemHeight:gn,multipleItemHeightSM:wr,multipleItemHeightLG:Hn,multipleSelectorBgDisabled:Kr,multipleItemColorDisabled:Ti,multipleItemBorderColorDisabled:"transparent",showArrowPaddingInlineEnd:Math.ceil(ke.fontSize*1.25),hoverBorderColor:fr,activeBorderColor:it,activeOutlineColor:Ot,selectAffixPadding:he}},ot=(ke,zn)=>{const{componentCls:mn,antCls:Rn,controlOutlineWidth:ut}=ke;return{[`&:not(${mn}-customize-input) ${mn}-selector`]:{border:`${(0,Ve.bf)(ke.lineWidth)} ${ke.lineType} ${zn.borderColor}`,background:ke.selectorBg},[`&:not(${mn}-disabled):not(${mn}-customize-input):not(${Rn}-pagination-size-changer)`]:{[`&:hover ${mn}-selector`]:{borderColor:zn.hoverBorderHover},[`${mn}-focused& ${mn}-selector`]:{borderColor:zn.activeBorderColor,boxShadow:`0 0 0 ${(0,Ve.bf)(ut)} ${zn.activeOutlineColor}`,outline:0},[`${mn}-prefix`]:{color:zn.color}}}},Je=(ke,zn)=>({[`&${ke.componentCls}-status-${zn.status}`]:Object.assign({},ot(ke,zn))}),ct=ke=>({"&-outlined":Object.assign(Object.assign(Object.assign(Object.assign({},ot(ke,{borderColor:ke.colorBorder,hoverBorderHover:ke.hoverBorderColor,activeBorderColor:ke.activeBorderColor,activeOutlineColor:ke.activeOutlineColor,color:ke.colorText})),Je(ke,{status:"error",borderColor:ke.colorError,hoverBorderHover:ke.colorErrorHover,activeBorderColor:ke.colorError,activeOutlineColor:ke.colorErrorOutline,color:ke.colorError})),Je(ke,{status:"warning",borderColor:ke.colorWarning,hoverBorderHover:ke.colorWarningHover,activeBorderColor:ke.colorWarning,activeOutlineColor:ke.colorWarningOutline,color:ke.colorWarning})),{[`&${ke.componentCls}-disabled`]:{[`&:not(${ke.componentCls}-customize-input) ${ke.componentCls}-selector`]:{background:ke.colorBgContainerDisabled,color:ke.colorTextDisabled}},[`&${ke.componentCls}-multiple ${ke.componentCls}-selection-item`]:{background:ke.multipleItemBg,border:`${(0,Ve.bf)(ke.lineWidth)} ${ke.lineType} ${ke.multipleItemBorderColor}`}})}),bt=(ke,zn)=>{const{componentCls:mn,antCls:Rn}=ke;return{[`&:not(${mn}-customize-input) ${mn}-selector`]:{background:zn.bg,border:`${(0,Ve.bf)(ke.lineWidth)} ${ke.lineType} transparent`,color:zn.color},[`&:not(${mn}-disabled):not(${mn}-customize-input):not(${Rn}-pagination-size-changer)`]:{[`&:hover ${mn}-selector`]:{background:zn.hoverBg},[`${mn}-focused& ${mn}-selector`]:{background:ke.selectorBg,borderColor:zn.activeBorderColor,outline:0}}}},Xe=(ke,zn)=>({[`&${ke.componentCls}-status-${zn.status}`]:Object.assign({},bt(ke,zn))}),jt=ke=>({"&-filled":Object.assign(Object.assign(Object.assign(Object.assign({},bt(ke,{bg:ke.colorFillTertiary,hoverBg:ke.colorFillSecondary,activeBorderColor:ke.activeBorderColor,color:ke.colorText})),Xe(ke,{status:"error",bg:ke.colorErrorBg,hoverBg:ke.colorErrorBgHover,activeBorderColor:ke.colorError,color:ke.colorError})),Xe(ke,{status:"warning",bg:ke.colorWarningBg,hoverBg:ke.colorWarningBgHover,activeBorderColor:ke.colorWarning,color:ke.colorWarning})),{[`&${ke.componentCls}-disabled`]:{[`&:not(${ke.componentCls}-customize-input) ${ke.componentCls}-selector`]:{borderColor:ke.colorBorder,background:ke.colorBgContainerDisabled,color:ke.colorTextDisabled}},[`&${ke.componentCls}-multiple ${ke.componentCls}-selection-item`]:{background:ke.colorBgContainer,border:`${(0,Ve.bf)(ke.lineWidth)} ${ke.lineType} ${ke.colorSplit}`}})}),vt=ke=>({"&-borderless":{[`${ke.componentCls}-selector`]:{background:"transparent",border:`${(0,Ve.bf)(ke.lineWidth)} ${ke.lineType} transparent`},[`&${ke.componentCls}-disabled`]:{[`&:not(${ke.componentCls}-customize-input) ${ke.componentCls}-selector`]:{color:ke.colorTextDisabled}},[`&${ke.componentCls}-multiple ${ke.componentCls}-selection-item`]:{background:ke.multipleItemBg,border:`${(0,Ve.bf)(ke.lineWidth)} ${ke.lineType} ${ke.multipleItemBorderColor}`},[`&${ke.componentCls}-status-error`]:{[`${ke.componentCls}-prefix, ${ke.componentCls}-selection-item`]:{color:ke.colorError}},[`&${ke.componentCls}-status-warning`]:{[`${ke.componentCls}-prefix, ${ke.componentCls}-selection-item`]:{color:ke.colorWarning}}}}),Mt=(ke,zn)=>{const{componentCls:mn,antCls:Rn}=ke;return{[`&:not(${mn}-customize-input) ${mn}-selector`]:{borderWidth:`0 0 ${(0,Ve.bf)(ke.lineWidth)} 0`,borderStyle:`none none ${ke.lineType} none`,borderColor:zn.borderColor,background:ke.selectorBg,borderRadius:0},[`&:not(${mn}-disabled):not(${mn}-customize-input):not(${Rn}-pagination-size-changer)`]:{[`&:hover ${mn}-selector`]:{borderColor:zn.hoverBorderHover},[`${mn}-focused& ${mn}-selector`]:{borderColor:zn.activeBorderColor,outline:0},[`${mn}-prefix`]:{color:zn.color}}}},Ut=(ke,zn)=>({[`&${ke.componentCls}-status-${zn.status}`]:Object.assign({},Mt(ke,zn))}),Vt=ke=>({"&-underlined":Object.assign(Object.assign(Object.assign(Object.assign({},Mt(ke,{borderColor:ke.colorBorder,hoverBorderHover:ke.hoverBorderColor,activeBorderColor:ke.activeBorderColor,activeOutlineColor:ke.activeOutlineColor,color:ke.colorText})),Ut(ke,{status:"error",borderColor:ke.colorError,hoverBorderHover:ke.colorErrorHover,activeBorderColor:ke.colorError,activeOutlineColor:ke.colorErrorOutline,color:ke.colorError})),Ut(ke,{status:"warning",borderColor:ke.colorWarning,hoverBorderHover:ke.colorWarningHover,activeBorderColor:ke.colorWarning,activeOutlineColor:ke.colorWarningOutline,color:ke.colorWarning})),{[`&${ke.componentCls}-disabled`]:{[`&:not(${ke.componentCls}-customize-input) ${ke.componentCls}-selector`]:{color:ke.colorTextDisabled}},[`&${ke.componentCls}-multiple ${ke.componentCls}-selection-item`]:{background:ke.multipleItemBg,border:`${(0,Ve.bf)(ke.lineWidth)} ${ke.lineType} ${ke.multipleItemBorderColor}`}})});var lr=ke=>({[ke.componentCls]:Object.assign(Object.assign(Object.assign(Object.assign({},ct(ke)),jt(ke)),vt(ke)),Vt(ke))});const Xn=ke=>{const{componentCls:zn}=ke;return{position:"relative",transition:`all ${ke.motionDurationMid} ${ke.motionEaseInOut}`,input:{cursor:"pointer"},[`${zn}-show-search&`]:{cursor:"text",input:{cursor:"auto",color:"inherit",height:"100%"}},[`${zn}-disabled&`]:{cursor:"not-allowed",input:{cursor:"not-allowed"}}}},Ge=ke=>{const{componentCls:zn}=ke;return{[`${zn}-selection-search-input`]:{margin:0,padding:0,background:"transparent",border:"none",outline:"none",appearance:"none",fontFamily:"inherit","&::-webkit-search-cancel-button":{display:"none","-webkit-appearance":"none"}}}},Ht=ke=>{const{antCls:zn,componentCls:mn,inputPaddingHorizontalBase:Rn,iconCls:ut}=ke;return{[mn]:Object.assign(Object.assign({},(0,a.Wf)(ke)),{position:"relative",display:"inline-flex",cursor:"pointer",[`&:not(${mn}-customize-input) ${mn}-selector`]:Object.assign(Object.assign({},Xn(ke)),Ge(ke)),[`${mn}-selection-item`]:Object.assign(Object.assign({flex:1,fontWeight:"normal",position:"relative",userSelect:"none"},a.vS),{[`> ${zn}-typography`]:{display:"inline"}}),[`${mn}-selection-placeholder`]:Object.assign(Object.assign({},a.vS),{flex:1,color:ke.colorTextPlaceholder,pointerEvents:"none"}),[`${mn}-arrow`]:Object.assign(Object.assign({},(0,a.Ro)()),{position:"absolute",top:"50%",insetInlineStart:"auto",insetInlineEnd:Rn,height:ke.fontSizeIcon,marginTop:ke.calc(ke.fontSizeIcon).mul(-1).div(2).equal(),color:ke.colorTextQuaternary,fontSize:ke.fontSizeIcon,lineHeight:1,textAlign:"center",pointerEvents:"none",display:"flex",alignItems:"center",transition:`opacity ${ke.motionDurationSlow} ease`,[ut]:{verticalAlign:"top",transition:`transform ${ke.motionDurationSlow}`,"> svg":{verticalAlign:"top"},[`&:not(${mn}-suffix)`]:{pointerEvents:"auto"}},[`${mn}-disabled &`]:{cursor:"not-allowed"},"> *:not(:last-child)":{marginInlineEnd:8}}),[`${mn}-selection-wrap`]:{display:"flex",width:"100%",position:"relative",minWidth:0,"&:after":{content:'"\\a0"',width:0,overflow:"hidden"}},[`${mn}-prefix`]:{flex:"none",marginInlineEnd:ke.selectAffixPadding},[`${mn}-clear`]:{position:"absolute",top:"50%",insetInlineStart:"auto",insetInlineEnd:Rn,zIndex:1,display:"inline-block",width:ke.fontSizeIcon,height:ke.fontSizeIcon,marginTop:ke.calc(ke.fontSizeIcon).mul(-1).div(2).equal(),color:ke.colorTextQuaternary,fontSize:ke.fontSizeIcon,fontStyle:"normal",lineHeight:1,textAlign:"center",textTransform:"none",cursor:"pointer",opacity:0,transition:`color ${ke.motionDurationMid} ease, opacity ${ke.motionDurationSlow} ease`,textRendering:"auto","&:before":{display:"block"},"&:hover":{color:ke.colorTextTertiary}},[`&:hover ${mn}-clear`]:{opacity:1,background:ke.colorBgBase,borderRadius:"50%"}}),[`${mn}-status`]:{"&-error, &-warning, &-success, &-validating":{[`&${mn}-has-feedback`]:{[`${mn}-clear`]:{insetInlineEnd:ke.calc(Rn).add(ke.fontSize).add(ke.paddingXS).equal()}}}}}},un=ke=>{const{componentCls:zn}=ke;return[{[zn]:{[`&${zn}-in-form-item`]:{width:"100%"}}},Ht(ke),Ue(ke),(0,te.ZP)(ke),ye(ke),{[`${zn}-rtl`]:{direction:"rtl"}},(0,Qe.c)(ke,{borderElCls:`${zn}-selector`,focusElCls:`${zn}-focused`})]};var Xt=(0,q.I$)("Select",(ke,zn)=>{let{rootPrefixCls:mn}=zn;const Rn=(0,c.IX)(ke,{rootPrefixCls:mn,inputPaddingHorizontalBase:ke.calc(ke.paddingSM).sub(1).equal(),multipleSelectItemHeight:ke.multipleItemHeight,selectHeight:ke.controlHeight});return[un(Rn),lr(Rn)]},tt,{unitless:{optionLineHeight:!0,optionSelectedFontWeight:!0}})},17543:function(Ir,Ft,B){"use strict";B.d(Ft,{_z:function(){return We},gp:function(){return c}});var a=B(55921),Qe=B(34299),q=B(83509);const c=te=>{const{multipleSelectItemHeight:Ve,paddingXXS:Ie,lineWidth:Ue,INTERNAL_FIXED_ITEM_MARGIN:tt}=te,ot=te.max(te.calc(Ie).sub(Ue).equal(),0),Je=te.max(te.calc(ot).sub(tt).equal(),0);return{basePadding:ot,containerPadding:Je,itemHeight:(0,a.bf)(Ve),itemLineHeight:(0,a.bf)(te.calc(Ve).sub(te.calc(te.lineWidth).mul(2)).equal())}},be=te=>{const{multipleSelectItemHeight:Ve,selectHeight:Ie,lineWidth:Ue}=te;return te.calc(Ie).sub(Ve).div(2).sub(Ue).equal()},We=te=>{const{componentCls:Ve,iconCls:Ie,borderRadiusSM:Ue,motionDurationSlow:tt,paddingXS:ot,multipleItemColorDisabled:Je,multipleItemBorderColorDisabled:ct,colorIcon:bt,colorIconHover:Xe,INTERNAL_FIXED_ITEM_MARGIN:jt}=te;return{[`${Ve}-selection-overflow`]:{position:"relative",display:"flex",flex:"auto",flexWrap:"wrap",maxWidth:"100%","&-item":{flex:"none",alignSelf:"center",maxWidth:"100%",display:"inline-flex"},[`${Ve}-selection-item`]:{display:"flex",alignSelf:"center",flex:"none",boxSizing:"border-box",maxWidth:"100%",marginBlock:jt,borderRadius:Ue,cursor:"default",transition:`font-size ${tt}, line-height ${tt}, height ${tt}`,marginInlineEnd:te.calc(jt).mul(2).equal(),paddingInlineStart:ot,paddingInlineEnd:te.calc(ot).div(2).equal(),[`${Ve}-disabled&`]:{color:Je,borderColor:ct,cursor:"not-allowed"},"&-content":{display:"inline-block",marginInlineEnd:te.calc(ot).div(2).equal(),overflow:"hidden",whiteSpace:"pre",textOverflow:"ellipsis"},"&-remove":Object.assign(Object.assign({},(0,Qe.Ro)()),{display:"inline-flex",alignItems:"center",color:bt,fontWeight:"bold",fontSize:10,lineHeight:"inherit",cursor:"pointer",[`> ${Ie}`]:{verticalAlign:"-0.2em"},"&:hover":{color:Xe}})}}}},De=(te,Ve)=>{const{componentCls:Ie,INTERNAL_FIXED_ITEM_MARGIN:Ue}=te,tt=`${Ie}-selection-overflow`,ot=te.multipleSelectItemHeight,Je=be(te),ct=Ve?`${Ie}-${Ve}`:"",bt=c(te);return{[`${Ie}-multiple${ct}`]:Object.assign(Object.assign({},We(te)),{[`${Ie}-selector`]:{display:"flex",alignItems:"center",width:"100%",height:"100%",paddingInline:bt.basePadding,paddingBlock:bt.containerPadding,borderRadius:te.borderRadius,[`${Ie}-disabled&`]:{background:te.multipleSelectorBgDisabled,cursor:"not-allowed"},"&:after":{display:"inline-block",width:0,margin:`${(0,a.bf)(Ue)} 0`,lineHeight:(0,a.bf)(ot),visibility:"hidden",content:'"\\a0"'}},[`${Ie}-selection-item`]:{height:bt.itemHeight,lineHeight:(0,a.bf)(bt.itemLineHeight)},[`${Ie}-selection-wrap`]:{alignSelf:"flex-start","&:after":{lineHeight:(0,a.bf)(ot),marginBlock:Ue}},[`${Ie}-prefix`]:{marginInlineStart:te.calc(te.inputPaddingHorizontalBase).sub(bt.basePadding).equal()},[`${tt}-item + ${tt}-item,
        ${Ie}-prefix + ${Ie}-selection-wrap
      `]:{[`${Ie}-selection-search`]:{marginInlineStart:0},[`${Ie}-selection-placeholder`]:{insetInlineStart:0}},[`${tt}-item-suffix`]:{minHeight:bt.itemHeight,marginBlock:Ue},[`${Ie}-selection-search`]:{display:"inline-flex",position:"relative",maxWidth:"100%",marginInlineStart:te.calc(te.inputPaddingHorizontalBase).sub(Je).equal(),"\n          &-input,\n          &-mirror\n        ":{height:ot,fontFamily:te.fontFamily,lineHeight:(0,a.bf)(ot),transition:`all ${te.motionDurationSlow}`},"&-input":{width:"100%",minWidth:4.1},"&-mirror":{position:"absolute",top:0,insetInlineStart:0,insetInlineEnd:"auto",zIndex:999,whiteSpace:"pre",visibility:"hidden"}},[`${Ie}-selection-placeholder`]:{position:"absolute",top:"50%",insetInlineStart:te.calc(te.inputPaddingHorizontalBase).sub(bt.basePadding).equal(),insetInlineEnd:te.inputPaddingHorizontalBase,transform:"translateY(-50%)",transition:`all ${te.motionDurationSlow}`}})}};function Te(te,Ve){const{componentCls:Ie}=te,Ue=Ve?`${Ie}-${Ve}`:"",tt={[`${Ie}-multiple${Ue}`]:{fontSize:te.fontSize,[`${Ie}-selector`]:{[`${Ie}-show-search&`]:{cursor:"text"}},[`
        &${Ie}-show-arrow ${Ie}-selector,
        &${Ie}-allow-clear ${Ie}-selector
      `]:{paddingInlineEnd:te.calc(te.fontSizeIcon).add(te.controlPaddingHorizontal).equal()}}};return[De(te,Ve),tt]}const ye=te=>{const{componentCls:Ve}=te,Ie=(0,q.IX)(te,{selectHeight:te.controlHeightSM,multipleSelectItemHeight:te.multipleItemHeightSM,borderRadius:te.borderRadiusSM,borderRadiusSM:te.borderRadiusXS}),Ue=(0,q.IX)(te,{fontSize:te.fontSizeLG,selectHeight:te.controlHeightLG,multipleSelectItemHeight:te.multipleItemHeightLG,borderRadius:te.borderRadiusLG,borderRadiusSM:te.borderRadius});return[Te(te),Te(Ie,"sm"),{[`${Ve}-multiple${Ve}-sm`]:{[`${Ve}-selection-placeholder`]:{insetInline:te.calc(te.controlPaddingHorizontalSM).sub(te.lineWidth).equal()},[`${Ve}-selection-search`]:{marginInlineStart:2}}},Te(Ue,"lg")]};Ft.ZP=ye},50360:function(Ir,Ft,B){"use strict";B.d(Ft,{Z:function(){return Te}});var a=B(75271),Qe=B(3642),q=B(75434),c=B(14258),be=B(13143),We=B(24573),De=B(17023);function Te(ye){let{suffixIcon:te,clearIcon:Ve,menuItemSelectedIcon:Ie,removeIcon:Ue,loading:tt,multiple:ot,hasFeedback:Je,prefixCls:ct,showSuffixIcon:bt,feedbackIcon:Xe,showArrow:jt,componentName:vt}=ye;const Mt=Ve!=null?Ve:a.createElement(q.Z,null),Ut=Xn=>te===null&&!Je&&!jt?null:a.createElement(a.Fragment,null,bt!==!1&&Xn,Je&&Xe);let Vt=null;if(te!==void 0)Vt=Ut(te);else if(tt)Vt=Ut(a.createElement(We.Z,{spin:!0}));else{const Xn=`${ct}-suffix`;Vt=Ge=>{let{open:Ht,showSearch:un}=Ge;return Ut(Ht&&un?a.createElement(De.Z,{className:Xn}):a.createElement(be.Z,{className:Xn}))}}let yr=null;Ie!==void 0?yr=Ie:ot?yr=a.createElement(Qe.Z,null):yr=null;let lr=null;return Ue!==void 0?lr=Ue:lr=a.createElement(c.Z,null),{clearIcon:Mt,suffixIcon:Vt,itemIcon:yr,removeIcon:lr}}},54299:function(Ir,Ft,B){"use strict";B.d(Ft,{Z:function(){return a}});function a(Qe,q){return q!==void 0?q:Qe!==null}},14391:function(Ir,Ft,B){"use strict";var a=B(75271);const Qe=(0,a.createContext)({});Ft.Z=Qe},80300:function(Ir,Ft,B){"use strict";B.d(Ft,{Z:function(){return Ge}});var a=B(75271),Qe=B(82187),q=B.n(Qe),c=B(28661),be=B(49975),We=B(98472),De=B(14391),Te=B(42684),ye=B(9202),Ve=a.forwardRef((Ht,un)=>{const{open:Xt,draggingDelete:ke}=Ht,zn=(0,a.useRef)(null),mn=Xt&&!ke,Rn=(0,a.useRef)(null);function ut(){be.Z.cancel(Rn.current),Rn.current=null}function Jt(){Rn.current=(0,be.Z)(()=>{var Cn;(Cn=zn.current)===null||Cn===void 0||Cn.forceAlign(),Rn.current=null})}return a.useEffect(()=>(mn?Jt():ut(),ut),[mn,Ht.title]),a.createElement(ye.Z,Object.assign({ref:(0,Te.sQ)(zn,un)},Ht,{open:mn}))}),Ie=B(55921),Ue=B(84432),tt=B(34299),ot=B(84825),Je=B(83509);const ct=Ht=>{const{componentCls:un,antCls:Xt,controlSize:ke,dotSize:zn,marginFull:mn,marginPart:Rn,colorFillContentHover:ut,handleColorDisabled:Jt,calc:Cn,handleSize:he,handleSizeHover:Qt,handleActiveColor:xi,handleActiveOutlineColor:ui,handleLineWidth:Ae,handleLineWidthHover:An,motionDurationMid:Ur}=Ht;return{[un]:Object.assign(Object.assign({},(0,tt.Wf)(Ht)),{position:"relative",height:ke,margin:`${(0,Ie.bf)(Rn)} ${(0,Ie.bf)(mn)}`,padding:0,cursor:"pointer",touchAction:"none","&-vertical":{margin:`${(0,Ie.bf)(mn)} ${(0,Ie.bf)(Rn)}`},[`${un}-rail`]:{position:"absolute",backgroundColor:Ht.railBg,borderRadius:Ht.borderRadiusXS,transition:`background-color ${Ur}`},[`${un}-track,${un}-tracks`]:{position:"absolute",transition:`background-color ${Ur}`},[`${un}-track`]:{backgroundColor:Ht.trackBg,borderRadius:Ht.borderRadiusXS},[`${un}-track-draggable`]:{boxSizing:"content-box",backgroundClip:"content-box",border:"solid rgba(0,0,0,0)"},"&:hover":{[`${un}-rail`]:{backgroundColor:Ht.railHoverBg},[`${un}-track`]:{backgroundColor:Ht.trackHoverBg},[`${un}-dot`]:{borderColor:ut},[`${un}-handle::after`]:{boxShadow:`0 0 0 ${(0,Ie.bf)(Ae)} ${Ht.colorPrimaryBorderHover}`},[`${un}-dot-active`]:{borderColor:Ht.dotActiveBorderColor}},[`${un}-handle`]:{position:"absolute",width:he,height:he,outline:"none",userSelect:"none","&-dragging-delete":{opacity:0},"&::before":{content:'""',position:"absolute",insetInlineStart:Cn(Ae).mul(-1).equal(),insetBlockStart:Cn(Ae).mul(-1).equal(),width:Cn(he).add(Cn(Ae).mul(2)).equal(),height:Cn(he).add(Cn(Ae).mul(2)).equal(),backgroundColor:"transparent"},"&::after":{content:'""',position:"absolute",insetBlockStart:0,insetInlineStart:0,width:he,height:he,backgroundColor:Ht.colorBgElevated,boxShadow:`0 0 0 ${(0,Ie.bf)(Ae)} ${Ht.handleColor}`,outline:"0px solid transparent",borderRadius:"50%",cursor:"pointer",transition:`
            inset-inline-start ${Ur},
            inset-block-start ${Ur},
            width ${Ur},
            height ${Ur},
            box-shadow ${Ur},
            outline ${Ur}
          `},"&:hover, &:active, &:focus":{"&::before":{insetInlineStart:Cn(Qt).sub(he).div(2).add(An).mul(-1).equal(),insetBlockStart:Cn(Qt).sub(he).div(2).add(An).mul(-1).equal(),width:Cn(Qt).add(Cn(An).mul(2)).equal(),height:Cn(Qt).add(Cn(An).mul(2)).equal()},"&::after":{boxShadow:`0 0 0 ${(0,Ie.bf)(An)} ${xi}`,outline:`6px solid ${ui}`,width:Qt,height:Qt,insetInlineStart:Ht.calc(he).sub(Qt).div(2).equal(),insetBlockStart:Ht.calc(he).sub(Qt).div(2).equal()}}},[`&-lock ${un}-handle`]:{"&::before, &::after":{transition:"none"}},[`${un}-mark`]:{position:"absolute",fontSize:Ht.fontSize},[`${un}-mark-text`]:{position:"absolute",display:"inline-block",color:Ht.colorTextDescription,textAlign:"center",wordBreak:"keep-all",cursor:"pointer",userSelect:"none","&-active":{color:Ht.colorText}},[`${un}-step`]:{position:"absolute",background:"transparent",pointerEvents:"none"},[`${un}-dot`]:{position:"absolute",width:zn,height:zn,backgroundColor:Ht.colorBgElevated,border:`${(0,Ie.bf)(Ae)} solid ${Ht.dotBorderColor}`,borderRadius:"50%",cursor:"pointer",transition:`border-color ${Ht.motionDurationSlow}`,pointerEvents:"auto","&-active":{borderColor:Ht.dotActiveBorderColor}},[`&${un}-disabled`]:{cursor:"not-allowed",[`${un}-rail`]:{backgroundColor:`${Ht.railBg} !important`},[`${un}-track`]:{backgroundColor:`${Ht.trackBgDisabled} !important`},[`
          ${un}-dot
        `]:{backgroundColor:Ht.colorBgElevated,borderColor:Ht.trackBgDisabled,boxShadow:"none",cursor:"not-allowed"},[`${un}-handle::after`]:{backgroundColor:Ht.colorBgElevated,cursor:"not-allowed",width:he,height:he,boxShadow:`0 0 0 ${(0,Ie.bf)(Ae)} ${Jt}`,insetInlineStart:0,insetBlockStart:0},[`
          ${un}-mark-text,
          ${un}-dot
        `]:{cursor:"not-allowed !important"}},[`&-tooltip ${Xt}-tooltip-inner`]:{minWidth:"unset"}})}},bt=(Ht,un)=>{const{componentCls:Xt,railSize:ke,handleSize:zn,dotSize:mn,marginFull:Rn,calc:ut}=Ht,Jt=un?"paddingBlock":"paddingInline",Cn=un?"width":"height",he=un?"height":"width",Qt=un?"insetBlockStart":"insetInlineStart",xi=un?"top":"insetInlineStart",ui=ut(ke).mul(3).sub(zn).div(2).equal(),Ae=ut(zn).sub(ke).div(2).equal(),An=un?{borderWidth:`${(0,Ie.bf)(Ae)} 0`,transform:`translateY(${(0,Ie.bf)(ut(Ae).mul(-1).equal())})`}:{borderWidth:`0 ${(0,Ie.bf)(Ae)}`,transform:`translateX(${(0,Ie.bf)(Ht.calc(Ae).mul(-1).equal())})`};return{[Jt]:ke,[he]:ut(ke).mul(3).equal(),[`${Xt}-rail`]:{[Cn]:"100%",[he]:ke},[`${Xt}-track,${Xt}-tracks`]:{[he]:ke},[`${Xt}-track-draggable`]:Object.assign({},An),[`${Xt}-handle`]:{[Qt]:ui},[`${Xt}-mark`]:{insetInlineStart:0,top:0,[xi]:ut(ke).mul(3).add(un?0:Rn).equal(),[Cn]:"100%"},[`${Xt}-step`]:{insetInlineStart:0,top:0,[xi]:ke,[Cn]:"100%",[he]:ke},[`${Xt}-dot`]:{position:"absolute",[Qt]:ut(ke).sub(mn).div(2).equal()}}},Xe=Ht=>{const{componentCls:un,marginPartWithMark:Xt}=Ht;return{[`${un}-horizontal`]:Object.assign(Object.assign({},bt(Ht,!0)),{[`&${un}-with-marks`]:{marginBottom:Xt}})}},jt=Ht=>{const{componentCls:un}=Ht;return{[`${un}-vertical`]:Object.assign(Object.assign({},bt(Ht,!1)),{height:"100%"})}},vt=Ht=>{const Xt=Ht.controlHeightLG/4,ke=Ht.controlHeightSM/2,zn=Ht.lineWidth+1,mn=Ht.lineWidth+1*1.5,Rn=Ht.colorPrimary,ut=new Ue.t(Rn).setA(.2).toRgbString();return{controlSize:Xt,railSize:4,handleSize:Xt,handleSizeHover:ke,dotSize:8,handleLineWidth:zn,handleLineWidthHover:mn,railBg:Ht.colorFillTertiary,railHoverBg:Ht.colorFillSecondary,trackBg:Ht.colorPrimaryBorder,trackHoverBg:Ht.colorPrimaryBorderHover,handleColor:Ht.colorPrimaryBorder,handleActiveColor:Rn,handleActiveOutlineColor:ut,handleColorDisabled:new Ue.t(Ht.colorTextDisabled).onBackground(Ht.colorBgContainer).toHexString(),dotBorderColor:Ht.colorBorderSecondary,dotActiveBorderColor:Ht.colorPrimaryBorder,trackBgDisabled:Ht.colorBgContainerDisabled}};var Mt=(0,ot.I$)("Slider",Ht=>{const un=(0,Je.IX)(Ht,{marginPart:Ht.calc(Ht.controlHeight).sub(Ht.controlSize).div(2).equal(),marginFull:Ht.calc(Ht.controlSize).div(2).equal(),marginPartWithMark:Ht.calc(Ht.controlHeightLG).sub(Ht.controlSize).equal()});return[ct(un),Xe(un),jt(un)]},vt);function Ut(){const[Ht,un]=a.useState(!1),Xt=a.useRef(null),ke=()=>{be.Z.cancel(Xt.current)},zn=mn=>{ke(),mn?un(mn):Xt.current=(0,be.Z)(()=>{un(mn)})};return a.useEffect(()=>ke,[]),[Ht,zn]}var Vt=B(98446),yr=function(Ht,un){var Xt={};for(var ke in Ht)Object.prototype.hasOwnProperty.call(Ht,ke)&&un.indexOf(ke)<0&&(Xt[ke]=Ht[ke]);if(Ht!=null&&typeof Object.getOwnPropertySymbols=="function")for(var zn=0,ke=Object.getOwnPropertySymbols(Ht);zn<ke.length;zn++)un.indexOf(ke[zn])<0&&Object.prototype.propertyIsEnumerable.call(Ht,ke[zn])&&(Xt[ke[zn]]=Ht[ke[zn]]);return Xt};function lr(Ht,un){return Ht||Ht===null?Ht:un||un===null?un:Xt=>typeof Xt=="number"?Xt.toString():""}var Ge=a.forwardRef((Ht,un)=>{const{prefixCls:Xt,range:ke,className:zn,rootClassName:mn,style:Rn,disabled:ut,tooltipPrefixCls:Jt,tipFormatter:Cn,tooltipVisible:he,getTooltipPopupContainer:Qt,tooltipPlacement:xi,tooltip:ui={},onChangeComplete:Ae,classNames:An,styles:Ur}=Ht,Jr=yr(Ht,["prefixCls","range","className","rootClassName","style","disabled","tooltipPrefixCls","tipFormatter","tooltipVisible","getTooltipPopupContainer","tooltipPlacement","tooltip","onChangeComplete","classNames","styles"]),{vertical:On}=Ht,{getPrefixCls:Kr,direction:Ti,className:fr,style:it,classNames:Ot,styles:Dn,getPopupContainer:pn}=(0,Vt.dj)("slider"),gn=a.useContext(We.Z),wr=ut!=null?ut:gn,{handleRender:Hn,direction:oi}=a.useContext(De.Z),ri=(oi||Ti)==="rtl",[ni,Cr]=Ut(),[qn,_r]=Ut(),Pr=Object.assign({},ui),{open:Tr,placement:ei,getPopupContainer:ar,prefixCls:mr,formatter:ii}=Pr,Wn=Tr!=null?Tr:he,di=(ni||qn)&&Wn!==!1,Ci=lr(ii,Cn),[eo,Io]=Ut(),ci=Re=>{Ae==null||Ae(Re),Io(!1)},oo=(Re,de)=>Re||(de?ri?"left":"right":"top"),nn=Kr("slider",Xt),[Mn,Ee,dn]=Mt(nn),br=q()(zn,fr,Ot.root,An==null?void 0:An.root,mn,{[`${nn}-rtl`]:ri,[`${nn}-lock`]:eo},Ee,dn);ri&&!Jr.vertical&&(Jr.reverse=!Jr.reverse),a.useEffect(()=>{const Re=()=>{(0,be.Z)(()=>{_r(!1)},1)};return document.addEventListener("mouseup",Re),()=>{document.removeEventListener("mouseup",Re)}},[]);const rr=ke&&!Wn,Yr=Hn||((Re,de)=>{const{index:Y}=de,Ze=Re.props;function pe($t,ln,vn){var et,Rt,Kt,rn;vn&&((Rt=(et=Jr)[$t])===null||Rt===void 0||Rt.call(et,ln)),(rn=(Kt=Ze)[$t])===null||rn===void 0||rn.call(Kt,ln)}const nt=Object.assign(Object.assign({},Ze),{onMouseEnter:$t=>{Cr(!0),pe("onMouseEnter",$t)},onMouseLeave:$t=>{Cr(!1),pe("onMouseLeave",$t)},onMouseDown:$t=>{_r(!0),Io(!0),pe("onMouseDown",$t)},onFocus:$t=>{var ln;_r(!0),(ln=Jr.onFocus)===null||ln===void 0||ln.call(Jr,$t),pe("onFocus",$t,!0)},onBlur:$t=>{var ln;_r(!1),(ln=Jr.onBlur)===null||ln===void 0||ln.call(Jr,$t),pe("onBlur",$t,!0)}}),rt=a.cloneElement(Re,nt),tn=(!!Wn||di)&&Ci!==null;return rr?rt:a.createElement(Ve,Object.assign({},Pr,{prefixCls:Kr("tooltip",mr!=null?mr:Jt),title:Ci?Ci(de.value):"",open:tn,placement:oo(ei!=null?ei:xi,On),key:Y,classNames:{root:`${nn}-tooltip`},getPopupContainer:ar||Qt||pn}),rt)}),Mi=rr?(Re,de)=>{const Y=a.cloneElement(Re,{style:Object.assign(Object.assign({},Re.props.style),{visibility:"hidden"})});return a.createElement(Ve,Object.assign({},Pr,{prefixCls:Kr("tooltip",mr!=null?mr:Jt),title:Ci?Ci(de.value):"",open:Ci!==null&&di,placement:oo(ei!=null?ei:xi,On),key:"tooltip",classNames:{root:`${nn}-tooltip`},getPopupContainer:ar||Qt||pn,draggingDelete:de.draggingDelete}),Y)}:void 0,Wi=Object.assign(Object.assign(Object.assign(Object.assign({},Dn.root),it),Ur==null?void 0:Ur.root),Rn),Bi=Object.assign(Object.assign({},Dn.tracks),Ur==null?void 0:Ur.tracks),Di=q()(Ot.tracks,An==null?void 0:An.tracks);return Mn(a.createElement(c.Z,Object.assign({},Jr,{classNames:Object.assign({handle:q()(Ot.handle,An==null?void 0:An.handle),rail:q()(Ot.rail,An==null?void 0:An.rail),track:q()(Ot.track,An==null?void 0:An.track)},Di?{tracks:Di}:{}),styles:Object.assign({handle:Object.assign(Object.assign({},Dn.handle),Ur==null?void 0:Ur.handle),rail:Object.assign(Object.assign({},Dn.rail),Ur==null?void 0:Ur.rail),track:Object.assign(Object.assign({},Dn.track),Ur==null?void 0:Ur.track)},Object.keys(Bi).length?{tracks:Bi}:{}),step:Jr.step,range:ke,className:br,style:Wi,disabled:wr,ref:un,prefixCls:nn,handleRender:Yr,activeHandleRender:Mi,onChangeComplete:ci})))})},23137:function(Ir,Ft,B){"use strict";B.d(Ft,{BR:function(){return Ve},ri:function(){return te}});var a=B(75271),Qe=B(82187),q=B.n(Qe),c=B(81626),be=B(98446),We=B(95741),De=B(45936),Te=function(tt,ot){var Je={};for(var ct in tt)Object.prototype.hasOwnProperty.call(tt,ct)&&ot.indexOf(ct)<0&&(Je[ct]=tt[ct]);if(tt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var bt=0,ct=Object.getOwnPropertySymbols(tt);bt<ct.length;bt++)ot.indexOf(ct[bt])<0&&Object.prototype.propertyIsEnumerable.call(tt,ct[bt])&&(Je[ct[bt]]=tt[ct[bt]]);return Je};const ye=a.createContext(null),te=(tt,ot)=>{const Je=a.useContext(ye),ct=a.useMemo(()=>{if(!Je)return"";const{compactDirection:bt,isFirstItem:Xe,isLastItem:jt}=Je,vt=bt==="vertical"?"-vertical-":"-";return q()(`${tt}-compact${vt}item`,{[`${tt}-compact${vt}first-item`]:Xe,[`${tt}-compact${vt}last-item`]:jt,[`${tt}-compact${vt}item-rtl`]:ot==="rtl"})},[tt,ot,Je]);return{compactSize:Je==null?void 0:Je.compactSize,compactDirection:Je==null?void 0:Je.compactDirection,compactItemClassnames:ct}},Ve=tt=>{const{children:ot}=tt;return a.createElement(ye.Provider,{value:null},ot)},Ie=tt=>{const{children:ot}=tt,Je=Te(tt,["children"]);return a.createElement(ye.Provider,{value:a.useMemo(()=>Je,[Je])},ot)},Ue=tt=>{const{getPrefixCls:ot,direction:Je}=a.useContext(be.E_),{size:ct,direction:bt,block:Xe,prefixCls:jt,className:vt,rootClassName:Mt,children:Ut}=tt,Vt=Te(tt,["size","direction","block","prefixCls","className","rootClassName","children"]),yr=(0,We.Z)(zn=>ct!=null?ct:zn),lr=ot("space-compact",jt),[Xn,Ge]=(0,De.Z)(lr),Ht=q()(lr,Ge,{[`${lr}-rtl`]:Je==="rtl",[`${lr}-block`]:Xe,[`${lr}-vertical`]:bt==="vertical"},vt,Mt),un=a.useContext(ye),Xt=(0,c.Z)(Ut),ke=a.useMemo(()=>Xt.map((zn,mn)=>{const Rn=(zn==null?void 0:zn.key)||`${lr}-item-${mn}`;return a.createElement(Ie,{key:Rn,compactSize:yr,compactDirection:bt,isFirstItem:mn===0&&(!un||(un==null?void 0:un.isFirstItem)),isLastItem:mn===Xt.length-1&&(!un||(un==null?void 0:un.isLastItem))},zn)}),[ct,Xt,un]);return Xt.length===0?null:Xn(a.createElement("div",Object.assign({className:Ht},Vt),ke))};Ft.ZP=Ue},45936:function(Ir,Ft,B){"use strict";B.d(Ft,{Z:function(){return Te}});var a=B(84825),Qe=B(83509),c=ye=>{const{componentCls:te}=ye;return{[te]:{"&-block":{display:"flex",width:"100%"},"&-vertical":{flexDirection:"column"}}}};const be=ye=>{const{componentCls:te,antCls:Ve}=ye;return{[te]:{display:"inline-flex","&-rtl":{direction:"rtl"},"&-vertical":{flexDirection:"column"},"&-align":{flexDirection:"column","&-center":{alignItems:"center"},"&-start":{alignItems:"flex-start"},"&-end":{alignItems:"flex-end"},"&-baseline":{alignItems:"baseline"}},[`${te}-item:empty`]:{display:"none"},[`${te}-item > ${Ve}-badge-not-a-wrapper:only-child`]:{display:"block"}}}},We=ye=>{const{componentCls:te}=ye;return{[te]:{"&-gap-row-small":{rowGap:ye.spaceGapSmallSize},"&-gap-row-middle":{rowGap:ye.spaceGapMiddleSize},"&-gap-row-large":{rowGap:ye.spaceGapLargeSize},"&-gap-col-small":{columnGap:ye.spaceGapSmallSize},"&-gap-col-middle":{columnGap:ye.spaceGapMiddleSize},"&-gap-col-large":{columnGap:ye.spaceGapLargeSize}}}},De=()=>({});var Te=(0,a.I$)("Space",ye=>{const te=(0,Qe.IX)(ye,{spaceGapSmallSize:ye.paddingXS,spaceGapMiddleSize:ye.padding,spaceGapLargeSize:ye.paddingLG});return[be(te),We(te),c(te)]},()=>({}),{resetStyle:!1})},9288:function(Ir,Ft,B){"use strict";B.d(Ft,{c:function(){return q}});function a(c,be,We){const{focusElCls:De,focus:Te,borderElCls:ye}=We,te=ye?"> *":"",Ve=["hover",Te?"focus":null,"active"].filter(Boolean).map(Ie=>`&:${Ie} ${te}`).join(",");return{[`&-item:not(${be}-last-item)`]:{marginInlineEnd:c.calc(c.lineWidth).mul(-1).equal()},"&-item":Object.assign(Object.assign({[Ve]:{zIndex:2}},De?{[`&${De}`]:{zIndex:2}}:{}),{[`&[disabled] ${te}`]:{zIndex:0}})}}function Qe(c,be,We){const{borderElCls:De}=We,Te=De?`> ${De}`:"";return{[`&-item:not(${be}-first-item):not(${be}-last-item) ${Te}`]:{borderRadius:0},[`&-item:not(${be}-last-item)${be}-first-item`]:{[`& ${Te}, &${c}-sm ${Te}, &${c}-lg ${Te}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`&-item:not(${be}-first-item)${be}-last-item`]:{[`& ${Te}, &${c}-sm ${Te}, &${c}-lg ${Te}`]:{borderStartStartRadius:0,borderEndStartRadius:0}}}}function q(c){let be=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{focus:!0};const{componentCls:We}=c,De=`${We}-compact`;return{[De]:Object.assign(Object.assign({},a(c,De,be)),Qe(We,De,be))}}},34299:function(Ir,Ft,B){"use strict";B.d(Ft,{JT:function(){return te},Lx:function(){return We},Nd:function(){return Ve},Qy:function(){return ye},Ro:function(){return c},Wf:function(){return q},dF:function(){return be},du:function(){return De},oN:function(){return Te},vS:function(){return Qe}});var a=B(55921);const Qe={overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},q=function(Ie){let Ue=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return{boxSizing:"border-box",margin:0,padding:0,color:Ie.colorText,fontSize:Ie.fontSize,lineHeight:Ie.lineHeight,listStyle:"none",fontFamily:Ue?"inherit":Ie.fontFamily}},c=()=>({display:"inline-flex",alignItems:"center",color:"inherit",fontStyle:"normal",lineHeight:0,textAlign:"center",textTransform:"none",verticalAlign:"-0.125em",textRendering:"optimizeLegibility","-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale","> *":{lineHeight:1},svg:{display:"inline-block"}}),be=()=>({"&::before":{display:"table",content:'""'},"&::after":{display:"table",clear:"both",content:'""'}}),We=Ie=>({a:{color:Ie.colorLink,textDecoration:Ie.linkDecoration,backgroundColor:"transparent",outline:"none",cursor:"pointer",transition:`color ${Ie.motionDurationSlow}`,"-webkit-text-decoration-skip":"objects","&:hover":{color:Ie.colorLinkHover},"&:active":{color:Ie.colorLinkActive},"&:active, &:hover":{textDecoration:Ie.linkHoverDecoration,outline:0},"&:focus":{textDecoration:Ie.linkFocusDecoration,outline:0},"&[disabled]":{color:Ie.colorTextDisabled,cursor:"not-allowed"}}}),De=(Ie,Ue,tt,ot)=>{const Je=`[class^="${Ue}"], [class*=" ${Ue}"]`,ct=tt?`.${tt}`:Je,bt={boxSizing:"border-box","&::before, &::after":{boxSizing:"border-box"}};let Xe={};return ot!==!1&&(Xe={fontFamily:Ie.fontFamily,fontSize:Ie.fontSize}),{[ct]:Object.assign(Object.assign(Object.assign({},Xe),bt),{[Je]:bt})}},Te=(Ie,Ue)=>({outline:`${(0,a.bf)(Ie.lineWidthFocus)} solid ${Ie.colorPrimaryBorder}`,outlineOffset:Ue!=null?Ue:1,transition:"outline-offset 0s, outline 0s"}),ye=(Ie,Ue)=>({"&:focus-visible":Object.assign({},Te(Ie,Ue))}),te=Ie=>({[`.${Ie}`]:Object.assign(Object.assign({},c()),{[`.${Ie} .${Ie}-icon`]:{display:"block"}})}),Ve=Ie=>Object.assign(Object.assign({color:Ie.colorLink,textDecoration:Ie.linkDecoration,outline:"none",cursor:"pointer",transition:`all ${Ie.motionDurationSlow}`,border:0,padding:0,background:"none",userSelect:"none"},ye(Ie)),{"&:focus, &:hover":{color:Ie.colorLinkHover},"&:active":{color:Ie.colorLinkActive}})},40894:function(Ir,Ft){"use strict";const B=a=>({[a.componentCls]:{[`${a.antCls}-motion-collapse-legacy`]:{overflow:"hidden","&-active":{transition:`height ${a.motionDurationMid} ${a.motionEaseInOut},
        opacity ${a.motionDurationMid} ${a.motionEaseInOut} !important`}},[`${a.antCls}-motion-collapse`]:{overflow:"hidden",transition:`height ${a.motionDurationMid} ${a.motionEaseInOut},
        opacity ${a.motionDurationMid} ${a.motionEaseInOut} !important`}}});Ft.Z=B},79318:function(Ir,Ft,B){"use strict";B.d(Ft,{R:function(){return q}});const a=c=>({animationDuration:c,animationFillMode:"both"}),Qe=c=>({animationDuration:c,animationFillMode:"both"}),q=function(c,be,We,De){const ye=(arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1)?"&":"";return{[`
      ${ye}${c}-enter,
      ${ye}${c}-appear
    `]:Object.assign(Object.assign({},a(De)),{animationPlayState:"paused"}),[`${ye}${c}-leave`]:Object.assign(Object.assign({},Qe(De)),{animationPlayState:"paused"}),[`
      ${ye}${c}-enter${c}-enter-active,
      ${ye}${c}-appear${c}-appear-active
    `]:{animationName:be,animationPlayState:"running"},[`${ye}${c}-leave${c}-leave-active`]:{animationName:We,animationPlayState:"running",pointerEvents:"none"}}}},48221:function(Ir,Ft,B){"use strict";B.d(Ft,{Fm:function(){return Ie}});var a=B(55921),Qe=B(79318);const q=new a.E4("antMoveDownIn",{"0%":{transform:"translate3d(0, 100%, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),c=new a.E4("antMoveDownOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(0, 100%, 0)",transformOrigin:"0 0",opacity:0}}),be=new a.E4("antMoveLeftIn",{"0%":{transform:"translate3d(-100%, 0, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),We=new a.E4("antMoveLeftOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(-100%, 0, 0)",transformOrigin:"0 0",opacity:0}}),De=new a.E4("antMoveRightIn",{"0%":{transform:"translate3d(100%, 0, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),Te=new a.E4("antMoveRightOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(100%, 0, 0)",transformOrigin:"0 0",opacity:0}}),ye=new a.E4("antMoveUpIn",{"0%":{transform:"translate3d(0, -100%, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),te=new a.E4("antMoveUpOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(0, -100%, 0)",transformOrigin:"0 0",opacity:0}}),Ve={"move-up":{inKeyframes:ye,outKeyframes:te},"move-down":{inKeyframes:q,outKeyframes:c},"move-left":{inKeyframes:be,outKeyframes:We},"move-right":{inKeyframes:De,outKeyframes:Te}},Ie=(Ue,tt)=>{const{antCls:ot}=Ue,Je=`${ot}-${tt}`,{inKeyframes:ct,outKeyframes:bt}=Ve[tt];return[(0,Qe.R)(Je,ct,bt,Ue.motionDurationMid),{[`
        ${Je}-enter,
        ${Je}-appear
      `]:{opacity:0,animationTimingFunction:Ue.motionEaseOutCirc},[`${Je}-leave`]:{animationTimingFunction:Ue.motionEaseInOutCirc}}]}},17877:function(Ir,Ft,B){"use strict";B.d(Ft,{Qt:function(){return be},Uw:function(){return c},fJ:function(){return q},ly:function(){return We},oN:function(){return Ie}});var a=B(55921),Qe=B(79318);const q=new a.E4("antSlideUpIn",{"0%":{transform:"scaleY(0.8)",transformOrigin:"0% 0%",opacity:0},"100%":{transform:"scaleY(1)",transformOrigin:"0% 0%",opacity:1}}),c=new a.E4("antSlideUpOut",{"0%":{transform:"scaleY(1)",transformOrigin:"0% 0%",opacity:1},"100%":{transform:"scaleY(0.8)",transformOrigin:"0% 0%",opacity:0}}),be=new a.E4("antSlideDownIn",{"0%":{transform:"scaleY(0.8)",transformOrigin:"100% 100%",opacity:0},"100%":{transform:"scaleY(1)",transformOrigin:"100% 100%",opacity:1}}),We=new a.E4("antSlideDownOut",{"0%":{transform:"scaleY(1)",transformOrigin:"100% 100%",opacity:1},"100%":{transform:"scaleY(0.8)",transformOrigin:"100% 100%",opacity:0}}),De=new a.E4("antSlideLeftIn",{"0%":{transform:"scaleX(0.8)",transformOrigin:"0% 0%",opacity:0},"100%":{transform:"scaleX(1)",transformOrigin:"0% 0%",opacity:1}}),Te=new a.E4("antSlideLeftOut",{"0%":{transform:"scaleX(1)",transformOrigin:"0% 0%",opacity:1},"100%":{transform:"scaleX(0.8)",transformOrigin:"0% 0%",opacity:0}}),ye=new a.E4("antSlideRightIn",{"0%":{transform:"scaleX(0.8)",transformOrigin:"100% 0%",opacity:0},"100%":{transform:"scaleX(1)",transformOrigin:"100% 0%",opacity:1}}),te=new a.E4("antSlideRightOut",{"0%":{transform:"scaleX(1)",transformOrigin:"100% 0%",opacity:1},"100%":{transform:"scaleX(0.8)",transformOrigin:"100% 0%",opacity:0}}),Ve={"slide-up":{inKeyframes:q,outKeyframes:c},"slide-down":{inKeyframes:be,outKeyframes:We},"slide-left":{inKeyframes:De,outKeyframes:Te},"slide-right":{inKeyframes:ye,outKeyframes:te}},Ie=(Ue,tt)=>{const{antCls:ot}=Ue,Je=`${ot}-${tt}`,{inKeyframes:ct,outKeyframes:bt}=Ve[tt];return[(0,Qe.R)(Je,ct,bt,Ue.motionDurationMid),{[`
      ${Je}-enter,
      ${Je}-appear
    `]:{transform:"scale(0)",transformOrigin:"0% 0%",opacity:0,animationTimingFunction:Ue.motionEaseOutQuint,"&-prepare":{transform:"scale(1)"}},[`${Je}-leave`]:{animationTimingFunction:Ue.motionEaseInQuint}}]}},3153:function(Ir,Ft,B){"use strict";B.d(Ft,{_y:function(){return Je},kr:function(){return q}});var a=B(55921),Qe=B(79318);const q=new a.E4("antZoomIn",{"0%":{transform:"scale(0.2)",opacity:0},"100%":{transform:"scale(1)",opacity:1}}),c=new a.E4("antZoomOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0.2)",opacity:0}}),be=new a.E4("antZoomBigIn",{"0%":{transform:"scale(0.8)",opacity:0},"100%":{transform:"scale(1)",opacity:1}}),We=new a.E4("antZoomBigOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0.8)",opacity:0}}),De=new a.E4("antZoomUpIn",{"0%":{transform:"scale(0.8)",transformOrigin:"50% 0%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"50% 0%"}}),Te=new a.E4("antZoomUpOut",{"0%":{transform:"scale(1)",transformOrigin:"50% 0%"},"100%":{transform:"scale(0.8)",transformOrigin:"50% 0%",opacity:0}}),ye=new a.E4("antZoomLeftIn",{"0%":{transform:"scale(0.8)",transformOrigin:"0% 50%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"0% 50%"}}),te=new a.E4("antZoomLeftOut",{"0%":{transform:"scale(1)",transformOrigin:"0% 50%"},"100%":{transform:"scale(0.8)",transformOrigin:"0% 50%",opacity:0}}),Ve=new a.E4("antZoomRightIn",{"0%":{transform:"scale(0.8)",transformOrigin:"100% 50%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"100% 50%"}}),Ie=new a.E4("antZoomRightOut",{"0%":{transform:"scale(1)",transformOrigin:"100% 50%"},"100%":{transform:"scale(0.8)",transformOrigin:"100% 50%",opacity:0}}),Ue=new a.E4("antZoomDownIn",{"0%":{transform:"scale(0.8)",transformOrigin:"50% 100%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"50% 100%"}}),tt=new a.E4("antZoomDownOut",{"0%":{transform:"scale(1)",transformOrigin:"50% 100%"},"100%":{transform:"scale(0.8)",transformOrigin:"50% 100%",opacity:0}}),ot={zoom:{inKeyframes:q,outKeyframes:c},"zoom-big":{inKeyframes:be,outKeyframes:We},"zoom-big-fast":{inKeyframes:be,outKeyframes:We},"zoom-left":{inKeyframes:ye,outKeyframes:te},"zoom-right":{inKeyframes:Ve,outKeyframes:Ie},"zoom-up":{inKeyframes:De,outKeyframes:Te},"zoom-down":{inKeyframes:Ue,outKeyframes:tt}},Je=(ct,bt)=>{const{antCls:Xe}=ct,jt=`${Xe}-${bt}`,{inKeyframes:vt,outKeyframes:Mt}=ot[bt];return[(0,Qe.R)(jt,vt,Mt,bt==="zoom-big-fast"?ct.motionDurationFast:ct.motionDurationMid),{[`
        ${jt}-enter,
        ${jt}-appear
      `]:{transform:"scale(0)",opacity:0,animationTimingFunction:ct.motionEaseOutCirc,"&-prepare":{transform:"none"}},[`${jt}-leave`]:{animationTimingFunction:ct.motionEaseInOutCirc}}]}},18533:function(Ir,Ft,B){"use strict";B.d(Ft,{ZP:function(){return We},qN:function(){return q},wZ:function(){return c}});var a=B(55921),Qe=B(2276);const q=8;function c(De){const{contentRadius:Te,limitVerticalRadius:ye}=De,te=Te>12?Te+2:12;return{arrowOffsetHorizontal:te,arrowOffsetVertical:ye?q:te}}function be(De,Te){return De?Te:{}}function We(De,Te,ye){const{componentCls:te,boxShadowPopoverArrow:Ve,arrowOffsetVertical:Ie,arrowOffsetHorizontal:Ue}=De,{arrowDistance:tt=0,arrowPlacement:ot={left:!0,right:!0,top:!0,bottom:!0}}=ye||{};return{[te]:Object.assign(Object.assign(Object.assign(Object.assign({[`${te}-arrow`]:[Object.assign(Object.assign({position:"absolute",zIndex:1,display:"block"},(0,Qe.W)(De,Te,Ve)),{"&:before":{background:Te}})]},be(!!ot.top,{[[`&-placement-top > ${te}-arrow`,`&-placement-topLeft > ${te}-arrow`,`&-placement-topRight > ${te}-arrow`].join(",")]:{bottom:tt,transform:"translateY(100%) rotate(180deg)"},[`&-placement-top > ${te}-arrow`]:{left:{_skip_check_:!0,value:"50%"},transform:"translateX(-50%) translateY(100%) rotate(180deg)"},"&-placement-topLeft":{"--arrow-offset-horizontal":Ue,[`> ${te}-arrow`]:{left:{_skip_check_:!0,value:Ue}}},"&-placement-topRight":{"--arrow-offset-horizontal":`calc(100% - ${(0,a.bf)(Ue)})`,[`> ${te}-arrow`]:{right:{_skip_check_:!0,value:Ue}}}})),be(!!ot.bottom,{[[`&-placement-bottom > ${te}-arrow`,`&-placement-bottomLeft > ${te}-arrow`,`&-placement-bottomRight > ${te}-arrow`].join(",")]:{top:tt,transform:"translateY(-100%)"},[`&-placement-bottom > ${te}-arrow`]:{left:{_skip_check_:!0,value:"50%"},transform:"translateX(-50%) translateY(-100%)"},"&-placement-bottomLeft":{"--arrow-offset-horizontal":Ue,[`> ${te}-arrow`]:{left:{_skip_check_:!0,value:Ue}}},"&-placement-bottomRight":{"--arrow-offset-horizontal":`calc(100% - ${(0,a.bf)(Ue)})`,[`> ${te}-arrow`]:{right:{_skip_check_:!0,value:Ue}}}})),be(!!ot.left,{[[`&-placement-left > ${te}-arrow`,`&-placement-leftTop > ${te}-arrow`,`&-placement-leftBottom > ${te}-arrow`].join(",")]:{right:{_skip_check_:!0,value:tt},transform:"translateX(100%) rotate(90deg)"},[`&-placement-left > ${te}-arrow`]:{top:{_skip_check_:!0,value:"50%"},transform:"translateY(-50%) translateX(100%) rotate(90deg)"},[`&-placement-leftTop > ${te}-arrow`]:{top:Ie},[`&-placement-leftBottom > ${te}-arrow`]:{bottom:Ie}})),be(!!ot.right,{[[`&-placement-right > ${te}-arrow`,`&-placement-rightTop > ${te}-arrow`,`&-placement-rightBottom > ${te}-arrow`].join(",")]:{left:{_skip_check_:!0,value:tt},transform:"translateX(-100%) rotate(-90deg)"},[`&-placement-right > ${te}-arrow`]:{top:{_skip_check_:!0,value:"50%"},transform:"translateY(-50%) translateX(-100%) rotate(-90deg)"},[`&-placement-rightTop > ${te}-arrow`]:{top:Ie},[`&-placement-rightBottom > ${te}-arrow`]:{bottom:Ie}}))}}},2276:function(Ir,Ft,B){"use strict";B.d(Ft,{W:function(){return q},w:function(){return Qe}});var a=B(55921);function Qe(c){const{sizePopupArrow:be,borderRadiusXS:We,borderRadiusOuter:De}=c,Te=be/2,ye=0,te=Te,Ve=De*1/Math.sqrt(2),Ie=Te-De*(1-1/Math.sqrt(2)),Ue=Te-We*(1/Math.sqrt(2)),tt=De*(Math.sqrt(2)-1)+We*(1/Math.sqrt(2)),ot=2*Te-Ue,Je=tt,ct=2*Te-Ve,bt=Ie,Xe=2*Te-ye,jt=te,vt=Te*Math.sqrt(2)+De*(Math.sqrt(2)-2),Mt=De*(Math.sqrt(2)-1),Ut=`polygon(${Mt}px 100%, 50% ${Mt}px, ${2*Te-Mt}px 100%, ${Mt}px 100%)`,Vt=`path('M ${ye} ${te} A ${De} ${De} 0 0 0 ${Ve} ${Ie} L ${Ue} ${tt} A ${We} ${We} 0 0 1 ${ot} ${Je} L ${ct} ${bt} A ${De} ${De} 0 0 0 ${Xe} ${jt} Z')`;return{arrowShadowWidth:vt,arrowPath:Vt,arrowPolygon:Ut}}const q=(c,be,We)=>{const{sizePopupArrow:De,arrowPolygon:Te,arrowPath:ye,arrowShadowWidth:te,borderRadiusXS:Ve,calc:Ie}=c;return{pointerEvents:"none",width:De,height:De,overflow:"hidden","&::before":{position:"absolute",bottom:0,insetInlineStart:0,width:De,height:Ie(De).div(2).equal(),background:be,clipPath:{_multi_value_:!0,value:[Te,ye]},content:'""'},"&::after":{content:'""',position:"absolute",width:te,height:te,bottom:0,insetInline:0,margin:"auto",borderRadius:{_skip_check_:!0,value:`0 0 ${(0,a.bf)(Ve)} 0`},transform:"translateY(50%) rotate(-135deg)",boxShadow:We,zIndex:0,background:"transparent"}}}},20284:function(Ir,Ft,B){"use strict";B.d(Ft,{Mj:function(){return c},u_:function(){return q}});var a=B(75271),Qe=B(30767);const q={token:Qe.Z,override:{override:Qe.Z},hashed:!0},c=a.createContext(q)},98990:function(Ir,Ft,B){"use strict";B.d(Ft,{i:function(){return a}});const a=["blue","purple","cyan","green","magenta","pink","red","orange","yellow","volcano","geekblue","lime","gold"]},28893:function(Ir,Ft,B){"use strict";B.d(Ft,{Z:function(){return ot}});var a=B(68640),Qe=B(30767),q=B(40329),be=Je=>{let ct=Je,bt=Je,Xe=Je,jt=Je;return Je<6&&Je>=5?ct=Je+1:Je<16&&Je>=6?ct=Je+2:Je>=16&&(ct=16),Je<7&&Je>=5?bt=4:Je<8&&Je>=7?bt=5:Je<14&&Je>=8?bt=6:Je<16&&Je>=14?bt=7:Je>=16&&(bt=8),Je<6&&Je>=2?Xe=1:Je>=6&&(Xe=2),Je>4&&Je<8?jt=4:Je>=8&&(jt=6),{borderRadius:Je,borderRadiusXS:Xe,borderRadiusSM:bt,borderRadiusLG:ct,borderRadiusOuter:jt}};function We(Je){const{motionUnit:ct,motionBase:bt,borderRadius:Xe,lineWidth:jt}=Je;return Object.assign({motionDurationFast:`${(bt+ct).toFixed(1)}s`,motionDurationMid:`${(bt+ct*2).toFixed(1)}s`,motionDurationSlow:`${(bt+ct*3).toFixed(1)}s`,lineWidthBold:jt+1},be(Xe))}var De=B(10154),Te=B(79319);function ye(Je){const{sizeUnit:ct,sizeStep:bt}=Je;return{sizeXXL:ct*(bt+8),sizeXL:ct*(bt+4),sizeLG:ct*(bt+2),sizeMD:ct*(bt+1),sizeMS:ct*bt,size:ct*bt,sizeSM:ct*(bt-1),sizeXS:ct*(bt-2),sizeXXS:ct*(bt-3)}}var te=B(84432);const Ve=(Je,ct)=>new te.t(Je).setA(ct).toRgbString(),Ie=(Je,ct)=>new te.t(Je).darken(ct).toHexString(),Ue=Je=>{const ct=(0,a.R_)(Je);return{1:ct[0],2:ct[1],3:ct[2],4:ct[3],5:ct[4],6:ct[5],7:ct[6],8:ct[4],9:ct[5],10:ct[6]}},tt=(Je,ct)=>{const bt=Je||"#fff",Xe=ct||"#000";return{colorBgBase:bt,colorTextBase:Xe,colorText:Ve(Xe,.88),colorTextSecondary:Ve(Xe,.65),colorTextTertiary:Ve(Xe,.45),colorTextQuaternary:Ve(Xe,.25),colorFill:Ve(Xe,.15),colorFillSecondary:Ve(Xe,.06),colorFillTertiary:Ve(Xe,.04),colorFillQuaternary:Ve(Xe,.02),colorBgSolid:Ve(Xe,1),colorBgSolidHover:Ve(Xe,.75),colorBgSolidActive:Ve(Xe,.95),colorBgLayout:Ie(bt,4),colorBgContainer:Ie(bt,0),colorBgElevated:Ie(bt,0),colorBgSpotlight:Ve(Xe,.85),colorBgBlur:"transparent",colorBorder:Ie(bt,15),colorBorderSecondary:Ie(bt,6)}};function ot(Je){a.ez.pink=a.ez.magenta,a.Ti.pink=a.Ti.magenta;const ct=Object.keys(Qe.M).map(bt=>{const Xe=Je[bt]===a.ez[bt]?a.Ti[bt]:(0,a.R_)(Je[bt]);return Array.from({length:10},()=>1).reduce((jt,vt,Mt)=>(jt[`${bt}-${Mt+1}`]=Xe[Mt],jt[`${bt}${Mt+1}`]=Xe[Mt],jt),{})}).reduce((bt,Xe)=>(bt=Object.assign(Object.assign({},bt),Xe),bt),{});return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Je),ct),(0,q.Z)(Je,{generateColorPalettes:Ue,generateNeutralColorPalettes:tt})),(0,Te.Z)(Je.fontSize)),ye(Je)),(0,De.Z)(Je)),We(Je))}},38920:function(Ir,Ft,B){"use strict";var a=B(55921),Qe=B(28893);const q=(0,a.jG)(Qe.Z);Ft.Z=q},30767:function(Ir,Ft,B){"use strict";B.d(Ft,{M:function(){return a}});const a={blue:"#1677FF",purple:"#722ED1",cyan:"#13C2C2",green:"#52C41A",magenta:"#EB2F96",pink:"#EB2F96",red:"#F5222D",orange:"#FA8C16",yellow:"#FADB14",volcano:"#FA541C",geekblue:"#2F54EB",gold:"#FAAD14",lime:"#A0D911"},Qe=Object.assign(Object.assign({},a),{colorPrimary:"#1677ff",colorSuccess:"#52c41a",colorWarning:"#faad14",colorError:"#ff4d4f",colorInfo:"#1677ff",colorLink:"",colorTextBase:"",colorBgBase:"",fontFamily:`-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial,
'Noto Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol',
'Noto Color Emoji'`,fontFamilyCode:"'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, Courier, monospace",fontSize:14,lineWidth:1,lineType:"solid",motionUnit:.1,motionBase:0,motionEaseOutCirc:"cubic-bezier(0.08, 0.82, 0.17, 1)",motionEaseInOutCirc:"cubic-bezier(0.78, 0.14, 0.15, 0.86)",motionEaseOut:"cubic-bezier(0.215, 0.61, 0.355, 1)",motionEaseInOut:"cubic-bezier(0.645, 0.045, 0.355, 1)",motionEaseOutBack:"cubic-bezier(0.12, 0.4, 0.29, 1.46)",motionEaseInBack:"cubic-bezier(0.71, -0.46, 0.88, 0.6)",motionEaseInQuint:"cubic-bezier(0.755, 0.05, 0.855, 0.06)",motionEaseOutQuint:"cubic-bezier(0.23, 1, 0.32, 1)",borderRadius:6,sizeUnit:4,sizeStep:4,sizePopupArrow:16,controlHeight:32,zIndexBase:0,zIndexPopupBase:1e3,opacityImage:1,wireframe:!1,motion:!0});Ft.Z=Qe},40329:function(Ir,Ft,B){"use strict";B.d(Ft,{Z:function(){return Qe}});var a=B(84432);function Qe(q,c){let{generateColorPalettes:be,generateNeutralColorPalettes:We}=c;const{colorSuccess:De,colorWarning:Te,colorError:ye,colorInfo:te,colorPrimary:Ve,colorBgBase:Ie,colorTextBase:Ue}=q,tt=be(Ve),ot=be(De),Je=be(Te),ct=be(ye),bt=be(te),Xe=We(Ie,Ue),jt=q.colorLink||q.colorInfo,vt=be(jt),Mt=new a.t(ct[1]).mix(new a.t(ct[3]),50).toHexString();return Object.assign(Object.assign({},Xe),{colorPrimaryBg:tt[1],colorPrimaryBgHover:tt[2],colorPrimaryBorder:tt[3],colorPrimaryBorderHover:tt[4],colorPrimaryHover:tt[5],colorPrimary:tt[6],colorPrimaryActive:tt[7],colorPrimaryTextHover:tt[8],colorPrimaryText:tt[9],colorPrimaryTextActive:tt[10],colorSuccessBg:ot[1],colorSuccessBgHover:ot[2],colorSuccessBorder:ot[3],colorSuccessBorderHover:ot[4],colorSuccessHover:ot[4],colorSuccess:ot[6],colorSuccessActive:ot[7],colorSuccessTextHover:ot[8],colorSuccessText:ot[9],colorSuccessTextActive:ot[10],colorErrorBg:ct[1],colorErrorBgHover:ct[2],colorErrorBgFilledHover:Mt,colorErrorBgActive:ct[3],colorErrorBorder:ct[3],colorErrorBorderHover:ct[4],colorErrorHover:ct[5],colorError:ct[6],colorErrorActive:ct[7],colorErrorTextHover:ct[8],colorErrorText:ct[9],colorErrorTextActive:ct[10],colorWarningBg:Je[1],colorWarningBgHover:Je[2],colorWarningBorder:Je[3],colorWarningBorderHover:Je[4],colorWarningHover:Je[4],colorWarning:Je[6],colorWarningActive:Je[7],colorWarningTextHover:Je[8],colorWarningText:Je[9],colorWarningTextActive:Je[10],colorInfoBg:bt[1],colorInfoBgHover:bt[2],colorInfoBorder:bt[3],colorInfoBorderHover:bt[4],colorInfoHover:bt[4],colorInfo:bt[6],colorInfoActive:bt[7],colorInfoTextHover:bt[8],colorInfoText:bt[9],colorInfoTextActive:bt[10],colorLinkHover:vt[4],colorLink:vt[6],colorLinkActive:vt[7],colorBgMask:new a.t("#000").setA(.45).toRgbString(),colorWhite:"#fff"})}},10154:function(Ir,Ft){"use strict";const B=a=>{const{controlHeight:Qe}=a;return{controlHeightSM:Qe*.75,controlHeightXS:Qe*.5,controlHeightLG:Qe*1.25}};Ft.Z=B},79319:function(Ir,Ft,B){"use strict";var a=B(78611);const Qe=q=>{const c=(0,a.Z)(q),be=c.map(Ue=>Ue.size),We=c.map(Ue=>Ue.lineHeight),De=be[1],Te=be[0],ye=be[2],te=We[1],Ve=We[0],Ie=We[2];return{fontSizeSM:Te,fontSize:De,fontSizeLG:ye,fontSizeXL:be[3],fontSizeHeading1:be[6],fontSizeHeading2:be[5],fontSizeHeading3:be[4],fontSizeHeading4:be[3],fontSizeHeading5:be[2],lineHeight:te,lineHeightLG:Ie,lineHeightSM:Ve,fontHeight:Math.round(te*De),fontHeightLG:Math.round(Ie*ye),fontHeightSM:Math.round(Ve*Te),lineHeightHeading1:We[6],lineHeightHeading2:We[5],lineHeightHeading3:We[4],lineHeightHeading4:We[3],lineHeightHeading5:We[2]}};Ft.Z=Qe},78611:function(Ir,Ft,B){"use strict";B.d(Ft,{D:function(){return a},Z:function(){return Qe}});function a(q){return(q+8)/q}function Qe(q){const c=Array.from({length:10}).map((be,We)=>{const De=We-1,Te=q*Math.pow(Math.E,De/5),ye=We>1?Math.floor(Te):Math.ceil(Te);return Math.floor(ye/2)*2});return c[1]=q,c.map(be=>({size:be,lineHeight:a(be)}))}},67699:function(Ir,Ft,B){"use strict";B.d(Ft,{NJ:function(){return ye},ZP:function(){return Ue}});var a=B(75271),Qe=B(55921),q=B(41424),c=B(20284),be=B(38920),We=B(30767),De=B(33598),Te=function(tt,ot){var Je={};for(var ct in tt)Object.prototype.hasOwnProperty.call(tt,ct)&&ot.indexOf(ct)<0&&(Je[ct]=tt[ct]);if(tt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var bt=0,ct=Object.getOwnPropertySymbols(tt);bt<ct.length;bt++)ot.indexOf(ct[bt])<0&&Object.prototype.propertyIsEnumerable.call(tt,ct[bt])&&(Je[ct[bt]]=tt[ct[bt]]);return Je};const ye={lineHeight:!0,lineHeightSM:!0,lineHeightLG:!0,lineHeightHeading1:!0,lineHeightHeading2:!0,lineHeightHeading3:!0,lineHeightHeading4:!0,lineHeightHeading5:!0,opacityLoading:!0,fontWeightStrong:!0,zIndexPopupBase:!0,zIndexBase:!0,opacityImage:!0},te={size:!0,sizeSM:!0,sizeLG:!0,sizeMD:!0,sizeXS:!0,sizeXXS:!0,sizeMS:!0,sizeXL:!0,sizeXXL:!0,sizeUnit:!0,sizeStep:!0,motionBase:!0,motionUnit:!0},Ve={screenXS:!0,screenXSMin:!0,screenXSMax:!0,screenSM:!0,screenSMMin:!0,screenSMMax:!0,screenMD:!0,screenMDMin:!0,screenMDMax:!0,screenLG:!0,screenLGMin:!0,screenLGMax:!0,screenXL:!0,screenXLMin:!0,screenXLMax:!0,screenXXL:!0,screenXXLMin:!0},Ie=(tt,ot,Je)=>{const ct=Je.getDerivativeToken(tt),{override:bt}=ot,Xe=Te(ot,["override"]);let jt=Object.assign(Object.assign({},ct),{override:bt});return jt=(0,De.Z)(jt),Xe&&Object.entries(Xe).forEach(vt=>{let[Mt,Ut]=vt;const{theme:Vt}=Ut,yr=Te(Ut,["theme"]);let lr=yr;Vt&&(lr=Ie(Object.assign(Object.assign({},jt),yr),{override:yr},Vt)),jt[Mt]=lr}),jt};function Ue(){const{token:tt,hashed:ot,theme:Je,override:ct,cssVar:bt}=a.useContext(c.Mj),Xe=`${q.Z}-${ot||""}`,jt=Je||be.Z,[vt,Mt,Ut]=(0,Qe.fp)(jt,[We.Z,tt],{salt:Xe,override:ct,getComputedToken:Ie,formatToken:De.Z,cssVar:bt&&{prefix:bt.prefix,key:bt.key,unitless:ye,ignore:te,preserve:Ve}});return[jt,Ut,ot?Mt:"",vt,bt]}},33598:function(Ir,Ft,B){"use strict";B.d(Ft,{Z:function(){return be}});var a=B(84432),Qe=B(30767),q=B(58570),c=function(We,De){var Te={};for(var ye in We)Object.prototype.hasOwnProperty.call(We,ye)&&De.indexOf(ye)<0&&(Te[ye]=We[ye]);if(We!=null&&typeof Object.getOwnPropertySymbols=="function")for(var te=0,ye=Object.getOwnPropertySymbols(We);te<ye.length;te++)De.indexOf(ye[te])<0&&Object.prototype.propertyIsEnumerable.call(We,ye[te])&&(Te[ye[te]]=We[ye[te]]);return Te};function be(We){const{override:De}=We,Te=c(We,["override"]),ye=Object.assign({},De);Object.keys(Qe.Z).forEach(bt=>{delete ye[bt]});const te=Object.assign(Object.assign({},Te),ye),Ve=480,Ie=576,Ue=768,tt=992,ot=1200,Je=1600;if(te.motion===!1){const bt="0s";te.motionDurationFast=bt,te.motionDurationMid=bt,te.motionDurationSlow=bt}return Object.assign(Object.assign(Object.assign({},te),{colorFillContent:te.colorFillSecondary,colorFillContentHover:te.colorFill,colorFillAlter:te.colorFillQuaternary,colorBgContainerDisabled:te.colorFillTertiary,colorBorderBg:te.colorBgContainer,colorSplit:(0,q.Z)(te.colorBorderSecondary,te.colorBgContainer),colorTextPlaceholder:te.colorTextQuaternary,colorTextDisabled:te.colorTextQuaternary,colorTextHeading:te.colorText,colorTextLabel:te.colorTextSecondary,colorTextDescription:te.colorTextTertiary,colorTextLightSolid:te.colorWhite,colorHighlight:te.colorError,colorBgTextHover:te.colorFillSecondary,colorBgTextActive:te.colorFill,colorIcon:te.colorTextTertiary,colorIconHover:te.colorText,colorErrorOutline:(0,q.Z)(te.colorErrorBg,te.colorBgContainer),colorWarningOutline:(0,q.Z)(te.colorWarningBg,te.colorBgContainer),fontSizeIcon:te.fontSizeSM,lineWidthFocus:te.lineWidth*3,lineWidth:te.lineWidth,controlOutlineWidth:te.lineWidth*2,controlInteractiveSize:te.controlHeight/2,controlItemBgHover:te.colorFillTertiary,controlItemBgActive:te.colorPrimaryBg,controlItemBgActiveHover:te.colorPrimaryBgHover,controlItemBgActiveDisabled:te.colorFill,controlTmpOutline:te.colorFillQuaternary,controlOutline:(0,q.Z)(te.colorPrimaryBg,te.colorBgContainer),lineType:te.lineType,borderRadius:te.borderRadius,borderRadiusXS:te.borderRadiusXS,borderRadiusSM:te.borderRadiusSM,borderRadiusLG:te.borderRadiusLG,fontWeightStrong:600,opacityLoading:.65,linkDecoration:"none",linkHoverDecoration:"none",linkFocusDecoration:"none",controlPaddingHorizontal:12,controlPaddingHorizontalSM:8,paddingXXS:te.sizeXXS,paddingXS:te.sizeXS,paddingSM:te.sizeSM,padding:te.size,paddingMD:te.sizeMD,paddingLG:te.sizeLG,paddingXL:te.sizeXL,paddingContentHorizontalLG:te.sizeLG,paddingContentVerticalLG:te.sizeMS,paddingContentHorizontal:te.sizeMS,paddingContentVertical:te.sizeSM,paddingContentHorizontalSM:te.size,paddingContentVerticalSM:te.sizeXS,marginXXS:te.sizeXXS,marginXS:te.sizeXS,marginSM:te.sizeSM,margin:te.size,marginMD:te.sizeMD,marginLG:te.sizeLG,marginXL:te.sizeXL,marginXXL:te.sizeXXL,boxShadow:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowSecondary:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowTertiary:`
      0 1px 2px 0 rgba(0, 0, 0, 0.03),
      0 1px 6px -1px rgba(0, 0, 0, 0.02),
      0 2px 4px 0 rgba(0, 0, 0, 0.02)
    `,screenXS:Ve,screenXSMin:Ve,screenXSMax:Ie-1,screenSM:Ie,screenSMMin:Ie,screenSMMax:Ue-1,screenMD:Ue,screenMDMin:Ue,screenMDMax:tt-1,screenLG:tt,screenLGMin:tt,screenLGMax:ot-1,screenXL:ot,screenXLMin:ot,screenXLMax:Je-1,screenXXL:Je,screenXXLMin:Je,boxShadowPopoverArrow:"2px 2px 5px rgba(0, 0, 0, 0.05)",boxShadowCard:`
      0 1px 2px -2px ${new a.t("rgba(0, 0, 0, 0.16)").toRgbString()},
      0 3px 6px 0 ${new a.t("rgba(0, 0, 0, 0.12)").toRgbString()},
      0 5px 12px 4px ${new a.t("rgba(0, 0, 0, 0.09)").toRgbString()}
    `,boxShadowDrawerRight:`
      -6px 0 16px 0 rgba(0, 0, 0, 0.08),
      -3px 0 6px -4px rgba(0, 0, 0, 0.12),
      -9px 0 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerLeft:`
      6px 0 16px 0 rgba(0, 0, 0, 0.08),
      3px 0 6px -4px rgba(0, 0, 0, 0.12),
      9px 0 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerUp:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerDown:`
      0 -6px 16px 0 rgba(0, 0, 0, 0.08),
      0 -3px 6px -4px rgba(0, 0, 0, 0.12),
      0 -9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowTabsOverflowLeft:"inset 10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowRight:"inset -10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowTop:"inset 0 10px 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowBottom:"inset 0 -10px 8px -8px rgba(0, 0, 0, 0.08)"}),ye)}},75428:function(Ir,Ft,B){"use strict";B.d(Ft,{Z:function(){return Qe}});var a=B(98990);function Qe(q,c){return a.i.reduce((be,We)=>{const De=q[`${We}1`],Te=q[`${We}3`],ye=q[`${We}6`],te=q[`${We}7`];return Object.assign(Object.assign({},be),c(We,{lightColor:De,lightBorderColor:Te,darkColor:ye,textColor:te}))},{})}},84825:function(Ir,Ft,B){"use strict";B.d(Ft,{A1:function(){return De},I$:function(){return We},bk:function(){return Te}});var a=B(75271),Qe=B(83509),q=B(98446),c=B(34299),be=B(67699);const{genStyleHooks:We,genComponentStyleHook:De,genSubStyleComponent:Te}=(0,Qe.rb)({usePrefix:()=>{const{getPrefixCls:ye,iconPrefixCls:te}=(0,a.useContext)(q.E_);return{rootPrefixCls:ye(),iconPrefixCls:te}},useToken:()=>{const[ye,te,Ve,Ie,Ue]=(0,be.ZP)();return{theme:ye,realToken:te,hashId:Ve,token:Ie,cssVar:Ue}},useCSP:()=>{const{csp:ye}=(0,a.useContext)(q.E_);return ye!=null?ye:{}},getResetStyles:(ye,te)=>{var Ve;const Ie=(0,c.Lx)(ye);return[Ie,{"&":Ie},(0,c.JT)((Ve=te==null?void 0:te.prefix.iconPrefixCls)!==null&&Ve!==void 0?Ve:q.oR)]},getCommonStyle:c.du,getCompUnitless:()=>be.NJ})},58570:function(Ir,Ft,B){"use strict";var a=B(84432);function Qe(c){return c>=0&&c<=255}function q(c,be){const{r:We,g:De,b:Te,a:ye}=new a.t(c).toRgb();if(ye<1)return c;const{r:te,g:Ve,b:Ie}=new a.t(be).toRgb();for(let Ue=.01;Ue<=1;Ue+=.01){const tt=Math.round((We-te*(1-Ue))/Ue),ot=Math.round((De-Ve*(1-Ue))/Ue),Je=Math.round((Te-Ie*(1-Ue))/Ue);if(Qe(tt)&&Qe(ot)&&Qe(Je))return new a.t({r:tt,g:ot,b:Je,a:Math.round(Ue*100)/100}).toRgbString()}return new a.t({r:We,g:De,b:Te,a:1}).toRgbString()}Ft.Z=q},85985:function(Ir,Ft){"use strict";const B={placeholder:"Select time",rangePlaceholder:["Start time","End time"]};Ft.Z=B},9202:function(Ir,Ft,B){"use strict";B.d(Ft,{Z:function(){return zn}});var a=B(75271),Qe=B(82187),q=B.n(Qe),c=B(75219),be=B(93954),We=B(78018),De=B(19952),Te=B(13635),ye=B(5416),te=B(26021),Ve=B(87117),Ie=B(61803),Ue=B(67699),tt=B(98446),ot=B(55921),Je=B(34299),ct=B(3153),bt=B(18533),Xe=B(2276),jt=B(75428),vt=B(83509),Mt=B(84825);const Ut=mn=>{const{calc:Rn,componentCls:ut,tooltipMaxWidth:Jt,tooltipColor:Cn,tooltipBg:he,tooltipBorderRadius:Qt,zIndexPopup:xi,controlHeight:ui,boxShadowSecondary:Ae,paddingSM:An,paddingXS:Ur,arrowOffsetHorizontal:Jr,sizePopupArrow:On}=mn,Kr=Rn(Qt).add(On).add(Jr).equal(),Ti=Rn(Qt).mul(2).add(On).equal();return[{[ut]:Object.assign(Object.assign(Object.assign(Object.assign({},(0,Je.Wf)(mn)),{position:"absolute",zIndex:xi,display:"block",width:"max-content",maxWidth:Jt,visibility:"visible","--valid-offset-x":"var(--arrow-offset-horizontal, var(--arrow-x))",transformOrigin:["var(--valid-offset-x, 50%)","var(--arrow-y, 50%)"].join(" "),"&-hidden":{display:"none"},"--antd-arrow-background-color":he,[`${ut}-inner`]:{minWidth:Ti,minHeight:ui,padding:`${(0,ot.bf)(mn.calc(An).div(2).equal())} ${(0,ot.bf)(Ur)}`,color:Cn,textAlign:"start",textDecoration:"none",wordWrap:"break-word",backgroundColor:he,borderRadius:Qt,boxShadow:Ae,boxSizing:"border-box"},[["&-placement-topLeft","&-placement-topRight","&-placement-bottomLeft","&-placement-bottomRight"].join(",")]:{minWidth:Kr},[["&-placement-left","&-placement-leftTop","&-placement-leftBottom","&-placement-right","&-placement-rightTop","&-placement-rightBottom"].join(",")]:{[`${ut}-inner`]:{borderRadius:mn.min(Qt,bt.qN)}},[`${ut}-content`]:{position:"relative"}}),(0,jt.Z)(mn,(fr,it)=>{let{darkColor:Ot}=it;return{[`&${ut}-${fr}`]:{[`${ut}-inner`]:{backgroundColor:Ot},[`${ut}-arrow`]:{"--antd-arrow-background-color":Ot}}}})),{"&-rtl":{direction:"rtl"}})},(0,bt.ZP)(mn,"var(--antd-arrow-background-color)"),{[`${ut}-pure`]:{position:"relative",maxWidth:"none",margin:mn.sizePopupArrow}}]},Vt=mn=>Object.assign(Object.assign({zIndexPopup:mn.zIndexPopupBase+70},(0,bt.wZ)({contentRadius:mn.borderRadius,limitVerticalRadius:!0})),(0,Xe.w)((0,vt.IX)(mn,{borderRadiusOuter:Math.min(mn.borderRadiusOuter,4)})));var yr=function(mn){let Rn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return(0,Mt.I$)("Tooltip",Jt=>{const{borderRadius:Cn,colorTextLightSolid:he,colorBgSpotlight:Qt}=Jt,xi=(0,vt.IX)(Jt,{tooltipMaxWidth:250,tooltipColor:he,tooltipBorderRadius:Cn,tooltipBg:Qt});return[Ut(xi),(0,ct._y)(Jt,"zoom-big-fast")]},Vt,{resetStyle:!1,injectStyle:Rn})(mn)},lr=B(53835);function Xn(mn,Rn){const ut=(0,lr.o2)(Rn),Jt=q()({[`${mn}-${Rn}`]:Rn&&ut}),Cn={},he={};return Rn&&!ut&&(Cn.background=Rn,he["--antd-arrow-background-color"]=Rn),{className:Jt,overlayStyle:Cn,arrowStyle:he}}var Ht=mn=>{const{prefixCls:Rn,className:ut,placement:Jt="top",title:Cn,color:he,overlayInnerStyle:Qt}=mn,{getPrefixCls:xi}=a.useContext(tt.E_),ui=xi("tooltip",Rn),[Ae,An,Ur]=yr(ui),Jr=Xn(ui,he),On=Jr.arrowStyle,Kr=Object.assign(Object.assign({},Qt),Jr.overlayStyle),Ti=q()(An,Ur,ui,`${ui}-pure`,`${ui}-placement-${Jt}`,ut,Jr.className);return Ae(a.createElement("div",{className:Ti,style:On},a.createElement("div",{className:`${ui}-arrow`}),a.createElement(c.G,Object.assign({},mn,{className:An,prefixCls:ui,overlayInnerStyle:Kr}),Cn)))},un=function(mn,Rn){var ut={};for(var Jt in mn)Object.prototype.hasOwnProperty.call(mn,Jt)&&Rn.indexOf(Jt)<0&&(ut[Jt]=mn[Jt]);if(mn!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Cn=0,Jt=Object.getOwnPropertySymbols(mn);Cn<Jt.length;Cn++)Rn.indexOf(Jt[Cn])<0&&Object.prototype.propertyIsEnumerable.call(mn,Jt[Cn])&&(ut[Jt[Cn]]=mn[Jt[Cn]]);return ut};const ke=a.forwardRef((mn,Rn)=>{var ut,Jt;const{prefixCls:Cn,openClassName:he,getTooltipContainer:Qt,color:xi,overlayInnerStyle:ui,children:Ae,afterOpenChange:An,afterVisibleChange:Ur,destroyTooltipOnHide:Jr,arrow:On=!0,title:Kr,overlay:Ti,builtinPlacements:fr,arrowPointAtCenter:it=!1,autoAdjustOverflow:Ot=!0,motion:Dn,getPopupContainer:pn,placement:gn="top",mouseEnterDelay:wr=.1,mouseLeaveDelay:Hn=.1,overlayStyle:oi,rootClassName:pi,overlayClassName:ri,styles:ni,classNames:Cr}=mn,qn=un(mn,["prefixCls","openClassName","getTooltipContainer","color","overlayInnerStyle","children","afterOpenChange","afterVisibleChange","destroyTooltipOnHide","arrow","title","overlay","builtinPlacements","arrowPointAtCenter","autoAdjustOverflow","motion","getPopupContainer","placement","mouseEnterDelay","mouseLeaveDelay","overlayStyle","rootClassName","overlayClassName","styles","classNames"]),_r=!!On,[,Pr]=(0,Ue.ZP)(),{getPopupContainer:Tr,getPrefixCls:ei,direction:ar,className:mr,style:ii,classNames:Wn,styles:di}=(0,tt.dj)("tooltip"),Ci=(0,Ve.ln)("Tooltip"),eo=a.useRef(null),Io=()=>{var et;(et=eo.current)===null||et===void 0||et.forceAlign()};a.useImperativeHandle(Rn,()=>{var et,Rt;return{forceAlign:Io,forcePopupAlign:()=>{Ci.deprecated(!1,"forcePopupAlign","forceAlign"),Io()},nativeElement:(et=eo.current)===null||et===void 0?void 0:et.nativeElement,popupElement:(Rt=eo.current)===null||Rt===void 0?void 0:Rt.popupElement}});const[ci,oo]=(0,be.Z)(!1,{value:(ut=mn.open)!==null&&ut!==void 0?ut:mn.visible,defaultValue:(Jt=mn.defaultOpen)!==null&&Jt!==void 0?Jt:mn.defaultVisible}),nn=!Kr&&!Ti&&Kr!==0,Mn=et=>{var Rt,Kt;oo(nn?!1:et),nn||((Rt=mn.onOpenChange)===null||Rt===void 0||Rt.call(mn,et),(Kt=mn.onVisibleChange)===null||Kt===void 0||Kt.call(mn,et))},Ee=a.useMemo(()=>{var et,Rt;let Kt=it;return typeof On=="object"&&(Kt=(Rt=(et=On.pointAtCenter)!==null&&et!==void 0?et:On.arrowPointAtCenter)!==null&&Rt!==void 0?Rt:it),fr||(0,ye.Z)({arrowPointAtCenter:Kt,autoAdjustOverflow:Ot,arrowWidth:_r?Pr.sizePopupArrow:0,borderRadius:Pr.borderRadius,offset:Pr.marginXXS,visibleFirst:!0})},[it,On,fr,Pr]),dn=a.useMemo(()=>Kr===0?Kr:Ti||Kr||"",[Ti,Kr]),br=a.createElement(We.Z,{space:!0},typeof dn=="function"?dn():dn),rr=ei("tooltip",Cn),Yr=ei(),Mi=mn["data-popover-inject"];let Wi=ci;!("open"in mn)&&!("visible"in mn)&&nn&&(Wi=!1);const Bi=a.isValidElement(Ae)&&!(0,te.M2)(Ae)?Ae:a.createElement("span",null,Ae),Di=Bi.props,Re=!Di.className||typeof Di.className=="string"?q()(Di.className,he||`${rr}-open`):Di.className,[de,Y,Ze]=yr(rr,!Mi),pe=Xn(rr,xi),nt=pe.arrowStyle,rt=q()(ri,{[`${rr}-rtl`]:ar==="rtl"},pe.className,pi,Y,Ze,mr,Wn.root,Cr==null?void 0:Cr.root),tn=q()(Wn.body,Cr==null?void 0:Cr.body),[$t,ln]=(0,De.Cn)("Tooltip",qn.zIndex),vn=a.createElement(c.Z,Object.assign({},qn,{zIndex:$t,showArrow:_r,placement:gn,mouseEnterDelay:wr,mouseLeaveDelay:Hn,prefixCls:rr,classNames:{root:rt,body:tn},styles:{root:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},nt),di.root),ii),oi),ni==null?void 0:ni.root),body:Object.assign(Object.assign(Object.assign(Object.assign({},di.body),ui),ni==null?void 0:ni.body),pe.overlayStyle)},getTooltipContainer:pn||Qt||Tr,ref:eo,builtinPlacements:Ee,overlay:br,visible:Wi,onVisibleChange:Mn,afterVisibleChange:An!=null?An:Ur,arrowContent:a.createElement("span",{className:`${rr}-arrow-content`}),motion:{motionName:(0,Te.m)(Yr,"zoom-big-fast",mn.transitionName),motionDeadline:1e3},destroyTooltipOnHide:!!Jr}),Wi?(0,te.Tm)(Bi,{className:Re}):Bi);return de(a.createElement(Ie.Z.Provider,{value:ln},vn))});ke._InternalPanelDoNotUseOrYouWillBeFired=Ht;var zn=ke},41424:function(Ir,Ft,B){"use strict";B.d(Ft,{Z:function(){return Qe}});var a="5.24.2",Qe=a},16483:function(Ir){(function(Ft,B){Ir.exports=B()})(this,function(){"use strict";var Ft=1e3,B=6e4,a=36e5,Qe="millisecond",q="second",c="minute",be="hour",We="day",De="week",Te="month",ye="quarter",te="year",Ve="date",Ie="Invalid Date",Ue=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,tt=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,ot={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(Xn){var Ge=["th","st","nd","rd"],Ht=Xn%100;return"["+Xn+(Ge[(Ht-20)%10]||Ge[Ht]||Ge[0])+"]"}},Je=function(Xn,Ge,Ht){var un=String(Xn);return!un||un.length>=Ge?Xn:""+Array(Ge+1-un.length).join(Ht)+Xn},ct={s:Je,z:function(Xn){var Ge=-Xn.utcOffset(),Ht=Math.abs(Ge),un=Math.floor(Ht/60),Xt=Ht%60;return(Ge<=0?"+":"-")+Je(un,2,"0")+":"+Je(Xt,2,"0")},m:function Xn(Ge,Ht){if(Ge.date()<Ht.date())return-Xn(Ht,Ge);var un=12*(Ht.year()-Ge.year())+(Ht.month()-Ge.month()),Xt=Ge.clone().add(un,Te),ke=Ht-Xt<0,zn=Ge.clone().add(un+(ke?-1:1),Te);return+(-(un+(Ht-Xt)/(ke?Xt-zn:zn-Xt))||0)},a:function(Xn){return Xn<0?Math.ceil(Xn)||0:Math.floor(Xn)},p:function(Xn){return{M:Te,y:te,w:De,d:We,D:Ve,h:be,m:c,s:q,ms:Qe,Q:ye}[Xn]||String(Xn||"").toLowerCase().replace(/s$/,"")},u:function(Xn){return Xn===void 0}},bt="en",Xe={};Xe[bt]=ot;var jt="$isDayjsObject",vt=function(Xn){return Xn instanceof yr||!(!Xn||!Xn[jt])},Mt=function Xn(Ge,Ht,un){var Xt;if(!Ge)return bt;if(typeof Ge=="string"){var ke=Ge.toLowerCase();Xe[ke]&&(Xt=ke),Ht&&(Xe[ke]=Ht,Xt=ke);var zn=Ge.split("-");if(!Xt&&zn.length>1)return Xn(zn[0])}else{var mn=Ge.name;Xe[mn]=Ge,Xt=mn}return!un&&Xt&&(bt=Xt),Xt||!un&&bt},Ut=function(Xn,Ge){if(vt(Xn))return Xn.clone();var Ht=typeof Ge=="object"?Ge:{};return Ht.date=Xn,Ht.args=arguments,new yr(Ht)},Vt=ct;Vt.l=Mt,Vt.i=vt,Vt.w=function(Xn,Ge){return Ut(Xn,{locale:Ge.$L,utc:Ge.$u,x:Ge.$x,$offset:Ge.$offset})};var yr=function(){function Xn(Ht){this.$L=Mt(Ht.locale,null,!0),this.parse(Ht),this.$x=this.$x||Ht.x||{},this[jt]=!0}var Ge=Xn.prototype;return Ge.parse=function(Ht){this.$d=function(un){var Xt=un.date,ke=un.utc;if(Xt===null)return new Date(NaN);if(Vt.u(Xt))return new Date;if(Xt instanceof Date)return new Date(Xt);if(typeof Xt=="string"&&!/Z$/i.test(Xt)){var zn=Xt.match(Ue);if(zn){var mn=zn[2]-1||0,Rn=(zn[7]||"0").substring(0,3);return ke?new Date(Date.UTC(zn[1],mn,zn[3]||1,zn[4]||0,zn[5]||0,zn[6]||0,Rn)):new Date(zn[1],mn,zn[3]||1,zn[4]||0,zn[5]||0,zn[6]||0,Rn)}}return new Date(Xt)}(Ht),this.init()},Ge.init=function(){var Ht=this.$d;this.$y=Ht.getFullYear(),this.$M=Ht.getMonth(),this.$D=Ht.getDate(),this.$W=Ht.getDay(),this.$H=Ht.getHours(),this.$m=Ht.getMinutes(),this.$s=Ht.getSeconds(),this.$ms=Ht.getMilliseconds()},Ge.$utils=function(){return Vt},Ge.isValid=function(){return this.$d.toString()!==Ie},Ge.isSame=function(Ht,un){var Xt=Ut(Ht);return this.startOf(un)<=Xt&&Xt<=this.endOf(un)},Ge.isAfter=function(Ht,un){return Ut(Ht)<this.startOf(un)},Ge.isBefore=function(Ht,un){return this.endOf(un)<Ut(Ht)},Ge.$g=function(Ht,un,Xt){return Vt.u(Ht)?this[un]:this.set(Xt,Ht)},Ge.unix=function(){return Math.floor(this.valueOf()/1e3)},Ge.valueOf=function(){return this.$d.getTime()},Ge.startOf=function(Ht,un){var Xt=this,ke=!!Vt.u(un)||un,zn=Vt.p(Ht),mn=function(ui,Ae){var An=Vt.w(Xt.$u?Date.UTC(Xt.$y,Ae,ui):new Date(Xt.$y,Ae,ui),Xt);return ke?An:An.endOf(We)},Rn=function(ui,Ae){return Vt.w(Xt.toDate()[ui].apply(Xt.toDate("s"),(ke?[0,0,0,0]:[23,59,59,999]).slice(Ae)),Xt)},ut=this.$W,Jt=this.$M,Cn=this.$D,he="set"+(this.$u?"UTC":"");switch(zn){case te:return ke?mn(1,0):mn(31,11);case Te:return ke?mn(1,Jt):mn(0,Jt+1);case De:var Qt=this.$locale().weekStart||0,xi=(ut<Qt?ut+7:ut)-Qt;return mn(ke?Cn-xi:Cn+(6-xi),Jt);case We:case Ve:return Rn(he+"Hours",0);case be:return Rn(he+"Minutes",1);case c:return Rn(he+"Seconds",2);case q:return Rn(he+"Milliseconds",3);default:return this.clone()}},Ge.endOf=function(Ht){return this.startOf(Ht,!1)},Ge.$set=function(Ht,un){var Xt,ke=Vt.p(Ht),zn="set"+(this.$u?"UTC":""),mn=(Xt={},Xt[We]=zn+"Date",Xt[Ve]=zn+"Date",Xt[Te]=zn+"Month",Xt[te]=zn+"FullYear",Xt[be]=zn+"Hours",Xt[c]=zn+"Minutes",Xt[q]=zn+"Seconds",Xt[Qe]=zn+"Milliseconds",Xt)[ke],Rn=ke===We?this.$D+(un-this.$W):un;if(ke===Te||ke===te){var ut=this.clone().set(Ve,1);ut.$d[mn](Rn),ut.init(),this.$d=ut.set(Ve,Math.min(this.$D,ut.daysInMonth())).$d}else mn&&this.$d[mn](Rn);return this.init(),this},Ge.set=function(Ht,un){return this.clone().$set(Ht,un)},Ge.get=function(Ht){return this[Vt.p(Ht)]()},Ge.add=function(Ht,un){var Xt,ke=this;Ht=Number(Ht);var zn=Vt.p(un),mn=function(Jt){var Cn=Ut(ke);return Vt.w(Cn.date(Cn.date()+Math.round(Jt*Ht)),ke)};if(zn===Te)return this.set(Te,this.$M+Ht);if(zn===te)return this.set(te,this.$y+Ht);if(zn===We)return mn(1);if(zn===De)return mn(7);var Rn=(Xt={},Xt[c]=B,Xt[be]=a,Xt[q]=Ft,Xt)[zn]||1,ut=this.$d.getTime()+Ht*Rn;return Vt.w(ut,this)},Ge.subtract=function(Ht,un){return this.add(-1*Ht,un)},Ge.format=function(Ht){var un=this,Xt=this.$locale();if(!this.isValid())return Xt.invalidDate||Ie;var ke=Ht||"YYYY-MM-DDTHH:mm:ssZ",zn=Vt.z(this),mn=this.$H,Rn=this.$m,ut=this.$M,Jt=Xt.weekdays,Cn=Xt.months,he=Xt.meridiem,Qt=function(Ae,An,Ur,Jr){return Ae&&(Ae[An]||Ae(un,ke))||Ur[An].slice(0,Jr)},xi=function(Ae){return Vt.s(mn%12||12,Ae,"0")},ui=he||function(Ae,An,Ur){var Jr=Ae<12?"AM":"PM";return Ur?Jr.toLowerCase():Jr};return ke.replace(tt,function(Ae,An){return An||function(Ur){switch(Ur){case"YY":return String(un.$y).slice(-2);case"YYYY":return Vt.s(un.$y,4,"0");case"M":return ut+1;case"MM":return Vt.s(ut+1,2,"0");case"MMM":return Qt(Xt.monthsShort,ut,Cn,3);case"MMMM":return Qt(Cn,ut);case"D":return un.$D;case"DD":return Vt.s(un.$D,2,"0");case"d":return String(un.$W);case"dd":return Qt(Xt.weekdaysMin,un.$W,Jt,2);case"ddd":return Qt(Xt.weekdaysShort,un.$W,Jt,3);case"dddd":return Jt[un.$W];case"H":return String(mn);case"HH":return Vt.s(mn,2,"0");case"h":return xi(1);case"hh":return xi(2);case"a":return ui(mn,Rn,!0);case"A":return ui(mn,Rn,!1);case"m":return String(Rn);case"mm":return Vt.s(Rn,2,"0");case"s":return String(un.$s);case"ss":return Vt.s(un.$s,2,"0");case"SSS":return Vt.s(un.$ms,3,"0");case"Z":return zn}return null}(Ae)||zn.replace(":","")})},Ge.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},Ge.diff=function(Ht,un,Xt){var ke,zn=this,mn=Vt.p(un),Rn=Ut(Ht),ut=(Rn.utcOffset()-this.utcOffset())*B,Jt=this-Rn,Cn=function(){return Vt.m(zn,Rn)};switch(mn){case te:ke=Cn()/12;break;case Te:ke=Cn();break;case ye:ke=Cn()/3;break;case De:ke=(Jt-ut)/6048e5;break;case We:ke=(Jt-ut)/864e5;break;case be:ke=Jt/a;break;case c:ke=Jt/B;break;case q:ke=Jt/Ft;break;default:ke=Jt}return Xt?ke:Vt.a(ke)},Ge.daysInMonth=function(){return this.endOf(Te).$D},Ge.$locale=function(){return Xe[this.$L]},Ge.locale=function(Ht,un){if(!Ht)return this.$L;var Xt=this.clone(),ke=Mt(Ht,un,!0);return ke&&(Xt.$L=ke),Xt},Ge.clone=function(){return Vt.w(this.$d,this)},Ge.toDate=function(){return new Date(this.valueOf())},Ge.toJSON=function(){return this.isValid()?this.toISOString():null},Ge.toISOString=function(){return this.$d.toISOString()},Ge.toString=function(){return this.$d.toUTCString()},Xn}(),lr=yr.prototype;return Ut.prototype=lr,[["$ms",Qe],["$s",q],["$m",c],["$H",be],["$W",We],["$M",Te],["$y",te],["$D",Ve]].forEach(function(Xn){lr[Xn[1]]=function(Ge){return this.$g(Ge,Xn[0],Xn[1])}}),Ut.extend=function(Xn,Ge){return Xn.$i||(Xn(Ge,yr,Ut),Xn.$i=!0),Ut},Ut.locale=Mt,Ut.isDayjs=vt,Ut.unix=function(Xn){return Ut(1e3*Xn)},Ut.en=Xe[bt],Ut.Ls=Xe,Ut.p={},Ut})},79771:function(Ir){(function(Ft,B){Ir.exports=B()})(this,function(){"use strict";return function(Ft,B){var a=B.prototype,Qe=a.format;a.format=function(q){var c=this,be=this.$locale();if(!this.isValid())return Qe.bind(this)(q);var We=this.$utils(),De=(q||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,function(Te){switch(Te){case"Q":return Math.ceil((c.$M+1)/3);case"Do":return be.ordinal(c.$D);case"gggg":return c.weekYear();case"GGGG":return c.isoWeekYear();case"wo":return be.ordinal(c.week(),"W");case"w":case"ww":return We.s(c.week(),Te==="w"?1:2,"0");case"W":case"WW":return We.s(c.isoWeek(),Te==="W"?1:2,"0");case"k":case"kk":return We.s(String(c.$H===0?24:c.$H),Te==="k"?1:2,"0");case"X":return Math.floor(c.$d.getTime()/1e3);case"x":return c.$d.getTime();case"z":return"["+c.offsetName()+"]";case"zzz":return"["+c.offsetName("long")+"]";default:return Te}});return Qe.bind(this)(De)}}})},30156:function(Ir){(function(Ft,B){Ir.exports=B()})(this,function(){"use strict";var Ft={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},B=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|Q|YYYY|YY?|ww?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,a=/\d/,Qe=/\d\d/,q=/\d\d?/,c=/\d*[^-_:/,()\s\d]+/,be={},We=function(Ue){return(Ue=+Ue)+(Ue>68?1900:2e3)},De=function(Ue){return function(tt){this[Ue]=+tt}},Te=[/[+-]\d\d:?(\d\d)?|Z/,function(Ue){(this.zone||(this.zone={})).offset=function(tt){if(!tt||tt==="Z")return 0;var ot=tt.match(/([+-]|\d\d)/g),Je=60*ot[1]+(+ot[2]||0);return Je===0?0:ot[0]==="+"?-Je:Je}(Ue)}],ye=function(Ue){var tt=be[Ue];return tt&&(tt.indexOf?tt:tt.s.concat(tt.f))},te=function(Ue,tt){var ot,Je=be.meridiem;if(Je){for(var ct=1;ct<=24;ct+=1)if(Ue.indexOf(Je(ct,0,tt))>-1){ot=ct>12;break}}else ot=Ue===(tt?"pm":"PM");return ot},Ve={A:[c,function(Ue){this.afternoon=te(Ue,!1)}],a:[c,function(Ue){this.afternoon=te(Ue,!0)}],Q:[a,function(Ue){this.month=3*(Ue-1)+1}],S:[a,function(Ue){this.milliseconds=100*+Ue}],SS:[Qe,function(Ue){this.milliseconds=10*+Ue}],SSS:[/\d{3}/,function(Ue){this.milliseconds=+Ue}],s:[q,De("seconds")],ss:[q,De("seconds")],m:[q,De("minutes")],mm:[q,De("minutes")],H:[q,De("hours")],h:[q,De("hours")],HH:[q,De("hours")],hh:[q,De("hours")],D:[q,De("day")],DD:[Qe,De("day")],Do:[c,function(Ue){var tt=be.ordinal,ot=Ue.match(/\d+/);if(this.day=ot[0],tt)for(var Je=1;Je<=31;Je+=1)tt(Je).replace(/\[|\]/g,"")===Ue&&(this.day=Je)}],w:[q,De("week")],ww:[Qe,De("week")],M:[q,De("month")],MM:[Qe,De("month")],MMM:[c,function(Ue){var tt=ye("months"),ot=(ye("monthsShort")||tt.map(function(Je){return Je.slice(0,3)})).indexOf(Ue)+1;if(ot<1)throw new Error;this.month=ot%12||ot}],MMMM:[c,function(Ue){var tt=ye("months").indexOf(Ue)+1;if(tt<1)throw new Error;this.month=tt%12||tt}],Y:[/[+-]?\d+/,De("year")],YY:[Qe,function(Ue){this.year=We(Ue)}],YYYY:[/\d{4}/,De("year")],Z:Te,ZZ:Te};function Ie(Ue){var tt,ot;tt=Ue,ot=be&&be.formats;for(var Je=(Ue=tt.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(Ut,Vt,yr){var lr=yr&&yr.toUpperCase();return Vt||ot[yr]||Ft[yr]||ot[lr].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(Xn,Ge,Ht){return Ge||Ht.slice(1)})})).match(B),ct=Je.length,bt=0;bt<ct;bt+=1){var Xe=Je[bt],jt=Ve[Xe],vt=jt&&jt[0],Mt=jt&&jt[1];Je[bt]=Mt?{regex:vt,parser:Mt}:Xe.replace(/^\[|\]$/g,"")}return function(Ut){for(var Vt={},yr=0,lr=0;yr<ct;yr+=1){var Xn=Je[yr];if(typeof Xn=="string")lr+=Xn.length;else{var Ge=Xn.regex,Ht=Xn.parser,un=Ut.slice(lr),Xt=Ge.exec(un)[0];Ht.call(Vt,Xt),Ut=Ut.replace(Xt,"")}}return function(ke){var zn=ke.afternoon;if(zn!==void 0){var mn=ke.hours;zn?mn<12&&(ke.hours+=12):mn===12&&(ke.hours=0),delete ke.afternoon}}(Vt),Vt}}return function(Ue,tt,ot){ot.p.customParseFormat=!0,Ue&&Ue.parseTwoDigitYear&&(We=Ue.parseTwoDigitYear);var Je=tt.prototype,ct=Je.parse;Je.parse=function(bt){var Xe=bt.date,jt=bt.utc,vt=bt.args;this.$u=jt;var Mt=vt[1];if(typeof Mt=="string"){var Ut=vt[2]===!0,Vt=vt[3]===!0,yr=Ut||Vt,lr=vt[2];Vt&&(lr=vt[2]),be=this.$locale(),!Ut&&lr&&(be=ot.Ls[lr]),this.$d=function(un,Xt,ke,zn){try{if(["x","X"].indexOf(Xt)>-1)return new Date((Xt==="X"?1e3:1)*un);var mn=Ie(Xt)(un),Rn=mn.year,ut=mn.month,Jt=mn.day,Cn=mn.hours,he=mn.minutes,Qt=mn.seconds,xi=mn.milliseconds,ui=mn.zone,Ae=mn.week,An=new Date,Ur=Jt||(Rn||ut?1:An.getDate()),Jr=Rn||An.getFullYear(),On=0;Rn&&!ut||(On=ut>0?ut-1:An.getMonth());var Kr,Ti=Cn||0,fr=he||0,it=Qt||0,Ot=xi||0;return ui?new Date(Date.UTC(Jr,On,Ur,Ti,fr,it,Ot+60*ui.offset*1e3)):ke?new Date(Date.UTC(Jr,On,Ur,Ti,fr,it,Ot)):(Kr=new Date(Jr,On,Ur,Ti,fr,it,Ot),Ae&&(Kr=zn(Kr).week(Ae).toDate()),Kr)}catch(Dn){return new Date("")}}(Xe,Mt,jt,ot),this.init(),lr&&lr!==!0&&(this.$L=this.locale(lr).$L),yr&&Xe!=this.format(Mt)&&(this.$d=new Date("")),be={}}else if(Mt instanceof Array)for(var Xn=Mt.length,Ge=1;Ge<=Xn;Ge+=1){vt[1]=Mt[Ge-1];var Ht=ot.apply(this,vt);if(Ht.isValid()){this.$d=Ht.$d,this.$L=Ht.$L,this.init();break}Ge===Xn&&(this.$d=new Date(""))}else ct.call(this,bt)}}})},2845:function(Ir){(function(Ft,B){Ir.exports=B()})(this,function(){"use strict";return function(Ft,B,a){var Qe=B.prototype,q=function(Te){return Te&&(Te.indexOf?Te:Te.s)},c=function(Te,ye,te,Ve,Ie){var Ue=Te.name?Te:Te.$locale(),tt=q(Ue[ye]),ot=q(Ue[te]),Je=tt||ot.map(function(bt){return bt.slice(0,Ve)});if(!Ie)return Je;var ct=Ue.weekStart;return Je.map(function(bt,Xe){return Je[(Xe+(ct||0))%7]})},be=function(){return a.Ls[a.locale()]},We=function(Te,ye){return Te.formats[ye]||function(te){return te.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(Ve,Ie,Ue){return Ie||Ue.slice(1)})}(Te.formats[ye.toUpperCase()])},De=function(){var Te=this;return{months:function(ye){return ye?ye.format("MMMM"):c(Te,"months")},monthsShort:function(ye){return ye?ye.format("MMM"):c(Te,"monthsShort","months",3)},firstDayOfWeek:function(){return Te.$locale().weekStart||0},weekdays:function(ye){return ye?ye.format("dddd"):c(Te,"weekdays")},weekdaysMin:function(ye){return ye?ye.format("dd"):c(Te,"weekdaysMin","weekdays",2)},weekdaysShort:function(ye){return ye?ye.format("ddd"):c(Te,"weekdaysShort","weekdays",3)},longDateFormat:function(ye){return We(Te.$locale(),ye)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};Qe.localeData=function(){return De.bind(this)()},a.localeData=function(){var Te=be();return{firstDayOfWeek:function(){return Te.weekStart||0},weekdays:function(){return a.weekdays()},weekdaysShort:function(){return a.weekdaysShort()},weekdaysMin:function(){return a.weekdaysMin()},months:function(){return a.months()},monthsShort:function(){return a.monthsShort()},longDateFormat:function(ye){return We(Te,ye)},meridiem:Te.meridiem,ordinal:Te.ordinal}},a.months=function(){return c(be(),"months")},a.monthsShort=function(){return c(be(),"monthsShort","months",3)},a.weekdays=function(Te){return c(be(),"weekdays",null,null,Te)},a.weekdaysShort=function(Te){return c(be(),"weekdaysShort","weekdays",3,Te)},a.weekdaysMin=function(Te){return c(be(),"weekdaysMin","weekdays",2,Te)}}})},88777:function(Ir){(function(Ft,B){Ir.exports=B()})(this,function(){"use strict";var Ft="week",B="year";return function(a,Qe,q){var c=Qe.prototype;c.week=function(be){if(be===void 0&&(be=null),be!==null)return this.add(7*(be-this.week()),"day");var We=this.$locale().yearStart||1;if(this.month()===11&&this.date()>25){var De=q(this).startOf(B).add(1,B).date(We),Te=q(this).endOf(Ft);if(De.isBefore(Te))return 1}var ye=q(this).startOf(B).date(We).startOf(Ft).subtract(1,"millisecond"),te=this.diff(ye,Ft,!0);return te<0?q(this).startOf("week").week():Math.ceil(te)},c.weeks=function(be){return be===void 0&&(be=null),this.week(be)}}})},41466:function(Ir){(function(Ft,B){Ir.exports=B()})(this,function(){"use strict";return function(Ft,B){B.prototype.weekYear=function(){var a=this.month(),Qe=this.week(),q=this.year();return Qe===1&&a===11?q+1:a===0&&Qe>=52?q-1:q}}})},92098:function(Ir){(function(Ft,B){Ir.exports=B()})(this,function(){"use strict";return function(Ft,B){B.prototype.weekday=function(a){var Qe=this.$locale().weekStart||0,q=this.$W,c=(q<Qe?q+7:q)-Qe;return this.$utils().u(a)?c:this.subtract(c,"day").add(a,"day")}}})},3341:function(Ir){"use strict";Ir.exports=function Ft(B,a){if(B===a)return!0;if(B&&a&&typeof B=="object"&&typeof a=="object"){if(B.constructor!==a.constructor)return!1;var Qe,q,c;if(Array.isArray(B)){if(Qe=B.length,Qe!=a.length)return!1;for(q=Qe;q--!==0;)if(!Ft(B[q],a[q]))return!1;return!0}if(B.constructor===RegExp)return B.source===a.source&&B.flags===a.flags;if(B.valueOf!==Object.prototype.valueOf)return B.valueOf()===a.valueOf();if(B.toString!==Object.prototype.toString)return B.toString()===a.toString();if(c=Object.keys(B),Qe=c.length,Qe!==Object.keys(a).length)return!1;for(q=Qe;q--!==0;)if(!Object.prototype.hasOwnProperty.call(a,c[q]))return!1;for(q=Qe;q--!==0;){var be=c[q];if(!Ft(B[be],a[be]))return!1}return!0}return B!==B&&a!==a}},55518:function(Ir,Ft,B){var a=B(3806),Qe=function(be){var We=/[height|width]$/;return We.test(be)},q=function(be){var We="",De=Object.keys(be);return De.forEach(function(Te,ye){var te=be[Te];Te=a(Te),Qe(Te)&&typeof te=="number"&&(te=te+"px"),te===!0?We+=Te:te===!1?We+="not "+Te:We+="("+Te+": "+te+")",ye<De.length-1&&(We+=" and ")}),We},c=function(be){var We="";return typeof be=="string"?be:be instanceof Array?(be.forEach(function(De,Te){We+=q(De),Te<be.length-1&&(We+=", ")}),We):q(be)};Ir.exports=c},95959:function(Ir){(function(Ft,B){Ir.exports=B()})(this,function(){"use strict";var Ft,B,a;function Qe(c,be){if(!Ft)Ft=be;else if(!B)B=be;else{var We="self.onerror = function() { console.error('An error occurred while parsing the WebWorker bundle. This is most likely due to improper transpilation by Babel; please see https://docs.mapbox.com/mapbox-gl-js/guides/install/#transpiling'); }; var sharedChunk = {}; ("+Ft+")(sharedChunk); ("+B+")(sharedChunk); self.onerror = null;",De={};Ft(De),a=be(De),typeof window!="undefined"&&window&&window.URL&&window.URL.createObjectURL&&(a.workerUrl=window.URL.createObjectURL(new Blob([We],{type:"text/javascript"})))}}Qe(["exports"],function(c){function be(u){return u&&u.__esModule&&Object.prototype.hasOwnProperty.call(u,"default")?u.default:u}var We,De={},Te={};function ye(){if(We)return Te;We=1,Object.defineProperty(Te,"__esModule",{value:!0}),Te.setMatrixArrayType=function(g){Te.ARRAY_TYPE=n=g},Te.toRadian=function(g){return g*d},Te.equals=function(g,h){return Math.abs(g-h)<=u*Math.max(1,Math.abs(g),Math.abs(h))},Te.RANDOM=Te.ARRAY_TYPE=Te.EPSILON=void 0;var u=1e-6;Te.EPSILON=u;var n=typeof Float32Array!="undefined"?Float32Array:Array;Te.ARRAY_TYPE=n;var i=Math.random;Te.RANDOM=i;var d=Math.PI/180;return Math.hypot||(Math.hypot=function(){for(var g=0,h=arguments.length;h--;)g+=arguments[h]*arguments[h];return Math.sqrt(g)}),Te}var te,Ve={};function Ie(){if(te)return Ve;function u(h){return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},u(h)}te=1,Object.defineProperty(Ve,"__esModule",{value:!0}),Ve.create=function(){var h=new n.ARRAY_TYPE(4);return n.ARRAY_TYPE!=Float32Array&&(h[1]=0,h[2]=0),h[0]=1,h[3]=1,h},Ve.clone=function(h){var v=new n.ARRAY_TYPE(4);return v[0]=h[0],v[1]=h[1],v[2]=h[2],v[3]=h[3],v},Ve.copy=function(h,v){return h[0]=v[0],h[1]=v[1],h[2]=v[2],h[3]=v[3],h},Ve.identity=function(h){return h[0]=1,h[1]=0,h[2]=0,h[3]=1,h},Ve.fromValues=function(h,v,S,M){var A=new n.ARRAY_TYPE(4);return A[0]=h,A[1]=v,A[2]=S,A[3]=M,A},Ve.set=function(h,v,S,M,A){return h[0]=v,h[1]=S,h[2]=M,h[3]=A,h},Ve.transpose=function(h,v){if(h===v){var S=v[1];h[1]=v[2],h[2]=S}else h[0]=v[0],h[1]=v[2],h[2]=v[1],h[3]=v[3];return h},Ve.invert=function(h,v){var S=v[0],M=v[1],A=v[2],b=v[3],P=S*b-A*M;return P?(h[0]=b*(P=1/P),h[1]=-M*P,h[2]=-A*P,h[3]=S*P,h):null},Ve.adjoint=function(h,v){var S=v[0];return h[0]=v[3],h[1]=-v[1],h[2]=-v[2],h[3]=S,h},Ve.determinant=function(h){return h[0]*h[3]-h[2]*h[1]},Ve.multiply=d,Ve.rotate=function(h,v,S){var M=v[0],A=v[1],b=v[2],P=v[3],$=Math.sin(S),T=Math.cos(S);return h[0]=M*T+b*$,h[1]=A*T+P*$,h[2]=M*-$+b*T,h[3]=A*-$+P*T,h},Ve.scale=function(h,v,S){var M=v[1],A=v[2],b=v[3],P=S[0],$=S[1];return h[0]=v[0]*P,h[1]=M*P,h[2]=A*$,h[3]=b*$,h},Ve.fromRotation=function(h,v){var S=Math.sin(v),M=Math.cos(v);return h[0]=M,h[1]=S,h[2]=-S,h[3]=M,h},Ve.fromScaling=function(h,v){return h[0]=v[0],h[1]=0,h[2]=0,h[3]=v[1],h},Ve.str=function(h){return"mat2("+h[0]+", "+h[1]+", "+h[2]+", "+h[3]+")"},Ve.frob=function(h){return Math.hypot(h[0],h[1],h[2],h[3])},Ve.LDU=function(h,v,S,M){return h[2]=M[2]/M[0],S[0]=M[0],S[1]=M[1],S[3]=M[3]-h[2]*S[1],[h,v,S]},Ve.add=function(h,v,S){return h[0]=v[0]+S[0],h[1]=v[1]+S[1],h[2]=v[2]+S[2],h[3]=v[3]+S[3],h},Ve.subtract=g,Ve.exactEquals=function(h,v){return h[0]===v[0]&&h[1]===v[1]&&h[2]===v[2]&&h[3]===v[3]},Ve.equals=function(h,v){var S=h[0],M=h[1],A=h[2],b=h[3],P=v[0],$=v[1],T=v[2],O=v[3];return Math.abs(S-P)<=n.EPSILON*Math.max(1,Math.abs(S),Math.abs(P))&&Math.abs(M-$)<=n.EPSILON*Math.max(1,Math.abs(M),Math.abs($))&&Math.abs(A-T)<=n.EPSILON*Math.max(1,Math.abs(A),Math.abs(T))&&Math.abs(b-O)<=n.EPSILON*Math.max(1,Math.abs(b),Math.abs(O))},Ve.multiplyScalar=function(h,v,S){return h[0]=v[0]*S,h[1]=v[1]*S,h[2]=v[2]*S,h[3]=v[3]*S,h},Ve.multiplyScalarAndAdd=function(h,v,S,M){return h[0]=v[0]+S[0]*M,h[1]=v[1]+S[1]*M,h[2]=v[2]+S[2]*M,h[3]=v[3]+S[3]*M,h},Ve.sub=Ve.mul=void 0;var n=function(h,v){if(h&&h.__esModule)return h;if(h===null||u(h)!=="object"&&typeof h!="function")return{default:h};var S=i(void 0);if(S&&S.has(h))return S.get(h);var M={},A=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var b in h)if(b!=="default"&&Object.prototype.hasOwnProperty.call(h,b)){var P=A?Object.getOwnPropertyDescriptor(h,b):null;P&&(P.get||P.set)?Object.defineProperty(M,b,P):M[b]=h[b]}return M.default=h,S&&S.set(h,M),M}(ye());function i(h){if(typeof WeakMap!="function")return null;var v=new WeakMap,S=new WeakMap;return(i=function(M){return M?S:v})(h)}function d(h,v,S){var M=v[0],A=v[1],b=v[2],P=v[3],$=S[0],T=S[1],O=S[2],N=S[3];return h[0]=M*$+b*T,h[1]=A*$+P*T,h[2]=M*O+b*N,h[3]=A*O+P*N,h}function g(h,v,S){return h[0]=v[0]-S[0],h[1]=v[1]-S[1],h[2]=v[2]-S[2],h[3]=v[3]-S[3],h}return Ve.mul=d,Ve.sub=g,Ve}var Ue,tt={};function ot(){if(Ue)return tt;function u(h){return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},u(h)}Ue=1,Object.defineProperty(tt,"__esModule",{value:!0}),tt.create=function(){var h=new n.ARRAY_TYPE(6);return n.ARRAY_TYPE!=Float32Array&&(h[1]=0,h[2]=0,h[4]=0,h[5]=0),h[0]=1,h[3]=1,h},tt.clone=function(h){var v=new n.ARRAY_TYPE(6);return v[0]=h[0],v[1]=h[1],v[2]=h[2],v[3]=h[3],v[4]=h[4],v[5]=h[5],v},tt.copy=function(h,v){return h[0]=v[0],h[1]=v[1],h[2]=v[2],h[3]=v[3],h[4]=v[4],h[5]=v[5],h},tt.identity=function(h){return h[0]=1,h[1]=0,h[2]=0,h[3]=1,h[4]=0,h[5]=0,h},tt.fromValues=function(h,v,S,M,A,b){var P=new n.ARRAY_TYPE(6);return P[0]=h,P[1]=v,P[2]=S,P[3]=M,P[4]=A,P[5]=b,P},tt.set=function(h,v,S,M,A,b,P){return h[0]=v,h[1]=S,h[2]=M,h[3]=A,h[4]=b,h[5]=P,h},tt.invert=function(h,v){var S=v[0],M=v[1],A=v[2],b=v[3],P=v[4],$=v[5],T=S*b-M*A;return T?(h[0]=b*(T=1/T),h[1]=-M*T,h[2]=-A*T,h[3]=S*T,h[4]=(A*$-b*P)*T,h[5]=(M*P-S*$)*T,h):null},tt.determinant=function(h){return h[0]*h[3]-h[1]*h[2]},tt.multiply=d,tt.rotate=function(h,v,S){var M=v[0],A=v[1],b=v[2],P=v[3],$=v[4],T=v[5],O=Math.sin(S),N=Math.cos(S);return h[0]=M*N+b*O,h[1]=A*N+P*O,h[2]=M*-O+b*N,h[3]=A*-O+P*N,h[4]=$,h[5]=T,h},tt.scale=function(h,v,S){var M=v[1],A=v[2],b=v[3],P=v[4],$=v[5],T=S[0],O=S[1];return h[0]=v[0]*T,h[1]=M*T,h[2]=A*O,h[3]=b*O,h[4]=P,h[5]=$,h},tt.translate=function(h,v,S){var M=v[0],A=v[1],b=v[2],P=v[3],$=v[4],T=v[5],O=S[0],N=S[1];return h[0]=M,h[1]=A,h[2]=b,h[3]=P,h[4]=M*O+b*N+$,h[5]=A*O+P*N+T,h},tt.fromRotation=function(h,v){var S=Math.sin(v),M=Math.cos(v);return h[0]=M,h[1]=S,h[2]=-S,h[3]=M,h[4]=0,h[5]=0,h},tt.fromScaling=function(h,v){return h[0]=v[0],h[1]=0,h[2]=0,h[3]=v[1],h[4]=0,h[5]=0,h},tt.fromTranslation=function(h,v){return h[0]=1,h[1]=0,h[2]=0,h[3]=1,h[4]=v[0],h[5]=v[1],h},tt.str=function(h){return"mat2d("+h[0]+", "+h[1]+", "+h[2]+", "+h[3]+", "+h[4]+", "+h[5]+")"},tt.frob=function(h){return Math.hypot(h[0],h[1],h[2],h[3],h[4],h[5],1)},tt.add=function(h,v,S){return h[0]=v[0]+S[0],h[1]=v[1]+S[1],h[2]=v[2]+S[2],h[3]=v[3]+S[3],h[4]=v[4]+S[4],h[5]=v[5]+S[5],h},tt.subtract=g,tt.multiplyScalar=function(h,v,S){return h[0]=v[0]*S,h[1]=v[1]*S,h[2]=v[2]*S,h[3]=v[3]*S,h[4]=v[4]*S,h[5]=v[5]*S,h},tt.multiplyScalarAndAdd=function(h,v,S,M){return h[0]=v[0]+S[0]*M,h[1]=v[1]+S[1]*M,h[2]=v[2]+S[2]*M,h[3]=v[3]+S[3]*M,h[4]=v[4]+S[4]*M,h[5]=v[5]+S[5]*M,h},tt.exactEquals=function(h,v){return h[0]===v[0]&&h[1]===v[1]&&h[2]===v[2]&&h[3]===v[3]&&h[4]===v[4]&&h[5]===v[5]},tt.equals=function(h,v){var S=h[0],M=h[1],A=h[2],b=h[3],P=h[4],$=h[5],T=v[0],O=v[1],N=v[2],W=v[3],J=v[4],se=v[5];return Math.abs(S-T)<=n.EPSILON*Math.max(1,Math.abs(S),Math.abs(T))&&Math.abs(M-O)<=n.EPSILON*Math.max(1,Math.abs(M),Math.abs(O))&&Math.abs(A-N)<=n.EPSILON*Math.max(1,Math.abs(A),Math.abs(N))&&Math.abs(b-W)<=n.EPSILON*Math.max(1,Math.abs(b),Math.abs(W))&&Math.abs(P-J)<=n.EPSILON*Math.max(1,Math.abs(P),Math.abs(J))&&Math.abs($-se)<=n.EPSILON*Math.max(1,Math.abs($),Math.abs(se))},tt.sub=tt.mul=void 0;var n=function(h,v){if(h&&h.__esModule)return h;if(h===null||u(h)!=="object"&&typeof h!="function")return{default:h};var S=i(void 0);if(S&&S.has(h))return S.get(h);var M={},A=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var b in h)if(b!=="default"&&Object.prototype.hasOwnProperty.call(h,b)){var P=A?Object.getOwnPropertyDescriptor(h,b):null;P&&(P.get||P.set)?Object.defineProperty(M,b,P):M[b]=h[b]}return M.default=h,S&&S.set(h,M),M}(ye());function i(h){if(typeof WeakMap!="function")return null;var v=new WeakMap,S=new WeakMap;return(i=function(M){return M?S:v})(h)}function d(h,v,S){var M=v[0],A=v[1],b=v[2],P=v[3],$=v[4],T=v[5],O=S[0],N=S[1],W=S[2],J=S[3],se=S[4],ue=S[5];return h[0]=M*O+b*N,h[1]=A*O+P*N,h[2]=M*W+b*J,h[3]=A*W+P*J,h[4]=M*se+b*ue+$,h[5]=A*se+P*ue+T,h}function g(h,v,S){return h[0]=v[0]-S[0],h[1]=v[1]-S[1],h[2]=v[2]-S[2],h[3]=v[3]-S[3],h[4]=v[4]-S[4],h[5]=v[5]-S[5],h}return tt.mul=d,tt.sub=g,tt}var Je,ct={};function bt(){if(Je)return ct;function u(h){return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},u(h)}Je=1,Object.defineProperty(ct,"__esModule",{value:!0}),ct.create=function(){var h=new n.ARRAY_TYPE(9);return n.ARRAY_TYPE!=Float32Array&&(h[1]=0,h[2]=0,h[3]=0,h[5]=0,h[6]=0,h[7]=0),h[0]=1,h[4]=1,h[8]=1,h},ct.fromMat4=function(h,v){return h[0]=v[0],h[1]=v[1],h[2]=v[2],h[3]=v[4],h[4]=v[5],h[5]=v[6],h[6]=v[8],h[7]=v[9],h[8]=v[10],h},ct.clone=function(h){var v=new n.ARRAY_TYPE(9);return v[0]=h[0],v[1]=h[1],v[2]=h[2],v[3]=h[3],v[4]=h[4],v[5]=h[5],v[6]=h[6],v[7]=h[7],v[8]=h[8],v},ct.copy=function(h,v){return h[0]=v[0],h[1]=v[1],h[2]=v[2],h[3]=v[3],h[4]=v[4],h[5]=v[5],h[6]=v[6],h[7]=v[7],h[8]=v[8],h},ct.fromValues=function(h,v,S,M,A,b,P,$,T){var O=new n.ARRAY_TYPE(9);return O[0]=h,O[1]=v,O[2]=S,O[3]=M,O[4]=A,O[5]=b,O[6]=P,O[7]=$,O[8]=T,O},ct.set=function(h,v,S,M,A,b,P,$,T,O){return h[0]=v,h[1]=S,h[2]=M,h[3]=A,h[4]=b,h[5]=P,h[6]=$,h[7]=T,h[8]=O,h},ct.identity=function(h){return h[0]=1,h[1]=0,h[2]=0,h[3]=0,h[4]=1,h[5]=0,h[6]=0,h[7]=0,h[8]=1,h},ct.transpose=function(h,v){if(h===v){var S=v[1],M=v[2],A=v[5];h[1]=v[3],h[2]=v[6],h[3]=S,h[5]=v[7],h[6]=M,h[7]=A}else h[0]=v[0],h[1]=v[3],h[2]=v[6],h[3]=v[1],h[4]=v[4],h[5]=v[7],h[6]=v[2],h[7]=v[5],h[8]=v[8];return h},ct.invert=function(h,v){var S=v[0],M=v[1],A=v[2],b=v[3],P=v[4],$=v[5],T=v[6],O=v[7],N=v[8],W=N*P-$*O,J=-N*b+$*T,se=O*b-P*T,ue=S*W+M*J+A*se;return ue?(h[0]=W*(ue=1/ue),h[1]=(-N*M+A*O)*ue,h[2]=($*M-A*P)*ue,h[3]=J*ue,h[4]=(N*S-A*T)*ue,h[5]=(-$*S+A*b)*ue,h[6]=se*ue,h[7]=(-O*S+M*T)*ue,h[8]=(P*S-M*b)*ue,h):null},ct.adjoint=function(h,v){var S=v[0],M=v[1],A=v[2],b=v[3],P=v[4],$=v[5],T=v[6],O=v[7],N=v[8];return h[0]=P*N-$*O,h[1]=A*O-M*N,h[2]=M*$-A*P,h[3]=$*T-b*N,h[4]=S*N-A*T,h[5]=A*b-S*$,h[6]=b*O-P*T,h[7]=M*T-S*O,h[8]=S*P-M*b,h},ct.determinant=function(h){var v=h[3],S=h[4],M=h[5],A=h[6],b=h[7],P=h[8];return h[0]*(P*S-M*b)+h[1]*(-P*v+M*A)+h[2]*(b*v-S*A)},ct.multiply=d,ct.translate=function(h,v,S){var M=v[0],A=v[1],b=v[2],P=v[3],$=v[4],T=v[5],O=v[6],N=v[7],W=v[8],J=S[0],se=S[1];return h[0]=M,h[1]=A,h[2]=b,h[3]=P,h[4]=$,h[5]=T,h[6]=J*M+se*P+O,h[7]=J*A+se*$+N,h[8]=J*b+se*T+W,h},ct.rotate=function(h,v,S){var M=v[0],A=v[1],b=v[2],P=v[3],$=v[4],T=v[5],O=v[6],N=v[7],W=v[8],J=Math.sin(S),se=Math.cos(S);return h[0]=se*M+J*P,h[1]=se*A+J*$,h[2]=se*b+J*T,h[3]=se*P-J*M,h[4]=se*$-J*A,h[5]=se*T-J*b,h[6]=O,h[7]=N,h[8]=W,h},ct.scale=function(h,v,S){var M=S[0],A=S[1];return h[0]=M*v[0],h[1]=M*v[1],h[2]=M*v[2],h[3]=A*v[3],h[4]=A*v[4],h[5]=A*v[5],h[6]=v[6],h[7]=v[7],h[8]=v[8],h},ct.fromTranslation=function(h,v){return h[0]=1,h[1]=0,h[2]=0,h[3]=0,h[4]=1,h[5]=0,h[6]=v[0],h[7]=v[1],h[8]=1,h},ct.fromRotation=function(h,v){var S=Math.sin(v),M=Math.cos(v);return h[0]=M,h[1]=S,h[2]=0,h[3]=-S,h[4]=M,h[5]=0,h[6]=0,h[7]=0,h[8]=1,h},ct.fromScaling=function(h,v){return h[0]=v[0],h[1]=0,h[2]=0,h[3]=0,h[4]=v[1],h[5]=0,h[6]=0,h[7]=0,h[8]=1,h},ct.fromMat2d=function(h,v){return h[0]=v[0],h[1]=v[1],h[2]=0,h[3]=v[2],h[4]=v[3],h[5]=0,h[6]=v[4],h[7]=v[5],h[8]=1,h},ct.fromQuat=function(h,v){var S=v[0],M=v[1],A=v[2],b=v[3],P=S+S,$=M+M,T=A+A,O=S*P,N=M*P,W=M*$,J=A*P,se=A*$,ue=A*T,re=b*P,ve=b*$,we=b*T;return h[0]=1-W-ue,h[3]=N-we,h[6]=J+ve,h[1]=N+we,h[4]=1-O-ue,h[7]=se-re,h[2]=J-ve,h[5]=se+re,h[8]=1-O-W,h},ct.normalFromMat4=function(h,v){var S=v[0],M=v[1],A=v[2],b=v[3],P=v[4],$=v[5],T=v[6],O=v[7],N=v[8],W=v[9],J=v[10],se=v[11],ue=v[12],re=v[13],ve=v[14],we=v[15],Be=S*$-M*P,mt=S*T-A*P,pt=S*O-b*P,ft=M*T-A*$,Yt=M*O-b*$,yt=A*O-b*T,en=N*re-W*ue,yn=N*ve-J*ue,fn=N*we-se*ue,xn=W*ve-J*re,Bn=W*we-se*re,Yn=J*we-se*ve,$n=Be*Yn-mt*Bn+pt*xn+ft*fn-Yt*yn+yt*en;return $n?(h[0]=($*Yn-T*Bn+O*xn)*($n=1/$n),h[1]=(T*fn-P*Yn-O*yn)*$n,h[2]=(P*Bn-$*fn+O*en)*$n,h[3]=(A*Bn-M*Yn-b*xn)*$n,h[4]=(S*Yn-A*fn+b*yn)*$n,h[5]=(M*fn-S*Bn-b*en)*$n,h[6]=(re*yt-ve*Yt+we*ft)*$n,h[7]=(ve*pt-ue*yt-we*mt)*$n,h[8]=(ue*Yt-re*pt+we*Be)*$n,h):null},ct.projection=function(h,v,S){return h[0]=2/v,h[1]=0,h[2]=0,h[3]=0,h[4]=-2/S,h[5]=0,h[6]=-1,h[7]=1,h[8]=1,h},ct.str=function(h){return"mat3("+h[0]+", "+h[1]+", "+h[2]+", "+h[3]+", "+h[4]+", "+h[5]+", "+h[6]+", "+h[7]+", "+h[8]+")"},ct.frob=function(h){return Math.hypot(h[0],h[1],h[2],h[3],h[4],h[5],h[6],h[7],h[8])},ct.add=function(h,v,S){return h[0]=v[0]+S[0],h[1]=v[1]+S[1],h[2]=v[2]+S[2],h[3]=v[3]+S[3],h[4]=v[4]+S[4],h[5]=v[5]+S[5],h[6]=v[6]+S[6],h[7]=v[7]+S[7],h[8]=v[8]+S[8],h},ct.subtract=g,ct.multiplyScalar=function(h,v,S){return h[0]=v[0]*S,h[1]=v[1]*S,h[2]=v[2]*S,h[3]=v[3]*S,h[4]=v[4]*S,h[5]=v[5]*S,h[6]=v[6]*S,h[7]=v[7]*S,h[8]=v[8]*S,h},ct.multiplyScalarAndAdd=function(h,v,S,M){return h[0]=v[0]+S[0]*M,h[1]=v[1]+S[1]*M,h[2]=v[2]+S[2]*M,h[3]=v[3]+S[3]*M,h[4]=v[4]+S[4]*M,h[5]=v[5]+S[5]*M,h[6]=v[6]+S[6]*M,h[7]=v[7]+S[7]*M,h[8]=v[8]+S[8]*M,h},ct.exactEquals=function(h,v){return h[0]===v[0]&&h[1]===v[1]&&h[2]===v[2]&&h[3]===v[3]&&h[4]===v[4]&&h[5]===v[5]&&h[6]===v[6]&&h[7]===v[7]&&h[8]===v[8]},ct.equals=function(h,v){var S=h[0],M=h[1],A=h[2],b=h[3],P=h[4],$=h[5],T=h[6],O=h[7],N=h[8],W=v[0],J=v[1],se=v[2],ue=v[3],re=v[4],ve=v[5],we=v[6],Be=v[7],mt=v[8];return Math.abs(S-W)<=n.EPSILON*Math.max(1,Math.abs(S),Math.abs(W))&&Math.abs(M-J)<=n.EPSILON*Math.max(1,Math.abs(M),Math.abs(J))&&Math.abs(A-se)<=n.EPSILON*Math.max(1,Math.abs(A),Math.abs(se))&&Math.abs(b-ue)<=n.EPSILON*Math.max(1,Math.abs(b),Math.abs(ue))&&Math.abs(P-re)<=n.EPSILON*Math.max(1,Math.abs(P),Math.abs(re))&&Math.abs($-ve)<=n.EPSILON*Math.max(1,Math.abs($),Math.abs(ve))&&Math.abs(T-we)<=n.EPSILON*Math.max(1,Math.abs(T),Math.abs(we))&&Math.abs(O-Be)<=n.EPSILON*Math.max(1,Math.abs(O),Math.abs(Be))&&Math.abs(N-mt)<=n.EPSILON*Math.max(1,Math.abs(N),Math.abs(mt))},ct.sub=ct.mul=void 0;var n=function(h,v){if(h&&h.__esModule)return h;if(h===null||u(h)!=="object"&&typeof h!="function")return{default:h};var S=i(void 0);if(S&&S.has(h))return S.get(h);var M={},A=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var b in h)if(b!=="default"&&Object.prototype.hasOwnProperty.call(h,b)){var P=A?Object.getOwnPropertyDescriptor(h,b):null;P&&(P.get||P.set)?Object.defineProperty(M,b,P):M[b]=h[b]}return M.default=h,S&&S.set(h,M),M}(ye());function i(h){if(typeof WeakMap!="function")return null;var v=new WeakMap,S=new WeakMap;return(i=function(M){return M?S:v})(h)}function d(h,v,S){var M=v[0],A=v[1],b=v[2],P=v[3],$=v[4],T=v[5],O=v[6],N=v[7],W=v[8],J=S[0],se=S[1],ue=S[2],re=S[3],ve=S[4],we=S[5],Be=S[6],mt=S[7],pt=S[8];return h[0]=J*M+se*P+ue*O,h[1]=J*A+se*$+ue*N,h[2]=J*b+se*T+ue*W,h[3]=re*M+ve*P+we*O,h[4]=re*A+ve*$+we*N,h[5]=re*b+ve*T+we*W,h[6]=Be*M+mt*P+pt*O,h[7]=Be*A+mt*$+pt*N,h[8]=Be*b+mt*T+pt*W,h}function g(h,v,S){return h[0]=v[0]-S[0],h[1]=v[1]-S[1],h[2]=v[2]-S[2],h[3]=v[3]-S[3],h[4]=v[4]-S[4],h[5]=v[5]-S[5],h[6]=v[6]-S[6],h[7]=v[7]-S[7],h[8]=v[8]-S[8],h}return ct.mul=d,ct.sub=g,ct}var Xe,jt={};function vt(){if(Xe)return jt;function u(b){return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(P){return typeof P}:function(P){return P&&typeof Symbol=="function"&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":typeof P},u(b)}Xe=1,Object.defineProperty(jt,"__esModule",{value:!0}),jt.create=function(){var b=new n.ARRAY_TYPE(16);return n.ARRAY_TYPE!=Float32Array&&(b[1]=0,b[2]=0,b[3]=0,b[4]=0,b[6]=0,b[7]=0,b[8]=0,b[9]=0,b[11]=0,b[12]=0,b[13]=0,b[14]=0),b[0]=1,b[5]=1,b[10]=1,b[15]=1,b},jt.clone=function(b){var P=new n.ARRAY_TYPE(16);return P[0]=b[0],P[1]=b[1],P[2]=b[2],P[3]=b[3],P[4]=b[4],P[5]=b[5],P[6]=b[6],P[7]=b[7],P[8]=b[8],P[9]=b[9],P[10]=b[10],P[11]=b[11],P[12]=b[12],P[13]=b[13],P[14]=b[14],P[15]=b[15],P},jt.copy=function(b,P){return b[0]=P[0],b[1]=P[1],b[2]=P[2],b[3]=P[3],b[4]=P[4],b[5]=P[5],b[6]=P[6],b[7]=P[7],b[8]=P[8],b[9]=P[9],b[10]=P[10],b[11]=P[11],b[12]=P[12],b[13]=P[13],b[14]=P[14],b[15]=P[15],b},jt.fromValues=function(b,P,$,T,O,N,W,J,se,ue,re,ve,we,Be,mt,pt){var ft=new n.ARRAY_TYPE(16);return ft[0]=b,ft[1]=P,ft[2]=$,ft[3]=T,ft[4]=O,ft[5]=N,ft[6]=W,ft[7]=J,ft[8]=se,ft[9]=ue,ft[10]=re,ft[11]=ve,ft[12]=we,ft[13]=Be,ft[14]=mt,ft[15]=pt,ft},jt.set=function(b,P,$,T,O,N,W,J,se,ue,re,ve,we,Be,mt,pt,ft){return b[0]=P,b[1]=$,b[2]=T,b[3]=O,b[4]=N,b[5]=W,b[6]=J,b[7]=se,b[8]=ue,b[9]=re,b[10]=ve,b[11]=we,b[12]=Be,b[13]=mt,b[14]=pt,b[15]=ft,b},jt.identity=d,jt.transpose=function(b,P){if(b===P){var $=P[1],T=P[2],O=P[3],N=P[6],W=P[7],J=P[11];b[1]=P[4],b[2]=P[8],b[3]=P[12],b[4]=$,b[6]=P[9],b[7]=P[13],b[8]=T,b[9]=N,b[11]=P[14],b[12]=O,b[13]=W,b[14]=J}else b[0]=P[0],b[1]=P[4],b[2]=P[8],b[3]=P[12],b[4]=P[1],b[5]=P[5],b[6]=P[9],b[7]=P[13],b[8]=P[2],b[9]=P[6],b[10]=P[10],b[11]=P[14],b[12]=P[3],b[13]=P[7],b[14]=P[11],b[15]=P[15];return b},jt.invert=function(b,P){var $=P[0],T=P[1],O=P[2],N=P[3],W=P[4],J=P[5],se=P[6],ue=P[7],re=P[8],ve=P[9],we=P[10],Be=P[11],mt=P[12],pt=P[13],ft=P[14],Yt=P[15],yt=$*J-T*W,en=$*se-O*W,yn=$*ue-N*W,fn=T*se-O*J,xn=T*ue-N*J,Bn=O*ue-N*se,Yn=re*pt-ve*mt,$n=re*ft-we*mt,$r=re*Yt-Be*mt,fi=ve*ft-we*pt,Dr=ve*Yt-Be*pt,Qi=we*Yt-Be*ft,Hi=yt*Qi-en*Dr+yn*fi+fn*$r-xn*$n+Bn*Yn;return Hi?(b[0]=(J*Qi-se*Dr+ue*fi)*(Hi=1/Hi),b[1]=(O*Dr-T*Qi-N*fi)*Hi,b[2]=(pt*Bn-ft*xn+Yt*fn)*Hi,b[3]=(we*xn-ve*Bn-Be*fn)*Hi,b[4]=(se*$r-W*Qi-ue*$n)*Hi,b[5]=($*Qi-O*$r+N*$n)*Hi,b[6]=(ft*yn-mt*Bn-Yt*en)*Hi,b[7]=(re*Bn-we*yn+Be*en)*Hi,b[8]=(W*Dr-J*$r+ue*Yn)*Hi,b[9]=(T*$r-$*Dr-N*Yn)*Hi,b[10]=(mt*xn-pt*yn+Yt*yt)*Hi,b[11]=(ve*yn-re*xn-Be*yt)*Hi,b[12]=(J*$n-W*fi-se*Yn)*Hi,b[13]=($*fi-T*$n+O*Yn)*Hi,b[14]=(pt*en-mt*fn-ft*yt)*Hi,b[15]=(re*fn-ve*en+we*yt)*Hi,b):null},jt.adjoint=function(b,P){var $=P[0],T=P[1],O=P[2],N=P[3],W=P[4],J=P[5],se=P[6],ue=P[7],re=P[8],ve=P[9],we=P[10],Be=P[11],mt=P[12],pt=P[13],ft=P[14],Yt=P[15];return b[0]=J*(we*Yt-Be*ft)-ve*(se*Yt-ue*ft)+pt*(se*Be-ue*we),b[1]=-(T*(we*Yt-Be*ft)-ve*(O*Yt-N*ft)+pt*(O*Be-N*we)),b[2]=T*(se*Yt-ue*ft)-J*(O*Yt-N*ft)+pt*(O*ue-N*se),b[3]=-(T*(se*Be-ue*we)-J*(O*Be-N*we)+ve*(O*ue-N*se)),b[4]=-(W*(we*Yt-Be*ft)-re*(se*Yt-ue*ft)+mt*(se*Be-ue*we)),b[5]=$*(we*Yt-Be*ft)-re*(O*Yt-N*ft)+mt*(O*Be-N*we),b[6]=-($*(se*Yt-ue*ft)-W*(O*Yt-N*ft)+mt*(O*ue-N*se)),b[7]=$*(se*Be-ue*we)-W*(O*Be-N*we)+re*(O*ue-N*se),b[8]=W*(ve*Yt-Be*pt)-re*(J*Yt-ue*pt)+mt*(J*Be-ue*ve),b[9]=-($*(ve*Yt-Be*pt)-re*(T*Yt-N*pt)+mt*(T*Be-N*ve)),b[10]=$*(J*Yt-ue*pt)-W*(T*Yt-N*pt)+mt*(T*ue-N*J),b[11]=-($*(J*Be-ue*ve)-W*(T*Be-N*ve)+re*(T*ue-N*J)),b[12]=-(W*(ve*ft-we*pt)-re*(J*ft-se*pt)+mt*(J*we-se*ve)),b[13]=$*(ve*ft-we*pt)-re*(T*ft-O*pt)+mt*(T*we-O*ve),b[14]=-($*(J*ft-se*pt)-W*(T*ft-O*pt)+mt*(T*se-O*J)),b[15]=$*(J*we-se*ve)-W*(T*we-O*ve)+re*(T*se-O*J),b},jt.determinant=function(b){var P=b[0],$=b[1],T=b[2],O=b[3],N=b[4],W=b[5],J=b[6],se=b[7],ue=b[8],re=b[9],ve=b[10],we=b[11],Be=b[12],mt=b[13],pt=b[14],ft=b[15];return(P*W-$*N)*(ve*ft-we*pt)-(P*J-T*N)*(re*ft-we*mt)+(P*se-O*N)*(re*pt-ve*mt)+($*J-T*W)*(ue*ft-we*Be)-($*se-O*W)*(ue*pt-ve*Be)+(T*se-O*J)*(ue*mt-re*Be)},jt.multiply=g,jt.translate=function(b,P,$){var T,O,N,W,J,se,ue,re,ve,we,Be,mt,pt=$[0],ft=$[1],Yt=$[2];return P===b?(b[12]=P[0]*pt+P[4]*ft+P[8]*Yt+P[12],b[13]=P[1]*pt+P[5]*ft+P[9]*Yt+P[13],b[14]=P[2]*pt+P[6]*ft+P[10]*Yt+P[14],b[15]=P[3]*pt+P[7]*ft+P[11]*Yt+P[15]):(O=P[1],N=P[2],W=P[3],J=P[4],se=P[5],ue=P[6],re=P[7],ve=P[8],we=P[9],Be=P[10],mt=P[11],b[0]=T=P[0],b[1]=O,b[2]=N,b[3]=W,b[4]=J,b[5]=se,b[6]=ue,b[7]=re,b[8]=ve,b[9]=we,b[10]=Be,b[11]=mt,b[12]=T*pt+J*ft+ve*Yt+P[12],b[13]=O*pt+se*ft+we*Yt+P[13],b[14]=N*pt+ue*ft+Be*Yt+P[14],b[15]=W*pt+re*ft+mt*Yt+P[15]),b},jt.scale=function(b,P,$){var T=$[0],O=$[1],N=$[2];return b[0]=P[0]*T,b[1]=P[1]*T,b[2]=P[2]*T,b[3]=P[3]*T,b[4]=P[4]*O,b[5]=P[5]*O,b[6]=P[6]*O,b[7]=P[7]*O,b[8]=P[8]*N,b[9]=P[9]*N,b[10]=P[10]*N,b[11]=P[11]*N,b[12]=P[12],b[13]=P[13],b[14]=P[14],b[15]=P[15],b},jt.rotate=function(b,P,$,T){var O,N,W,J,se,ue,re,ve,we,Be,mt,pt,ft,Yt,yt,en,yn,fn,xn,Bn,Yn,$n,$r,fi,Dr=T[0],Qi=T[1],Hi=T[2],Ii=Math.hypot(Dr,Qi,Hi);return Ii<n.EPSILON?null:(Dr*=Ii=1/Ii,Qi*=Ii,Hi*=Ii,O=Math.sin($),N=Math.cos($),se=P[1],ue=P[2],re=P[3],we=P[5],Be=P[6],mt=P[7],ft=P[9],Yt=P[10],yt=P[11],en=Dr*Dr*(W=1-N)+N,xn=Dr*Qi*W-Hi*O,Bn=Qi*Qi*W+N,Yn=Hi*Qi*W+Dr*O,$n=Dr*Hi*W+Qi*O,$r=Qi*Hi*W-Dr*O,fi=Hi*Hi*W+N,b[0]=(J=P[0])*en+(ve=P[4])*(yn=Qi*Dr*W+Hi*O)+(pt=P[8])*(fn=Hi*Dr*W-Qi*O),b[1]=se*en+we*yn+ft*fn,b[2]=ue*en+Be*yn+Yt*fn,b[3]=re*en+mt*yn+yt*fn,b[4]=J*xn+ve*Bn+pt*Yn,b[5]=se*xn+we*Bn+ft*Yn,b[6]=ue*xn+Be*Bn+Yt*Yn,b[7]=re*xn+mt*Bn+yt*Yn,b[8]=J*$n+ve*$r+pt*fi,b[9]=se*$n+we*$r+ft*fi,b[10]=ue*$n+Be*$r+Yt*fi,b[11]=re*$n+mt*$r+yt*fi,P!==b&&(b[12]=P[12],b[13]=P[13],b[14]=P[14],b[15]=P[15]),b)},jt.rotateX=function(b,P,$){var T=Math.sin($),O=Math.cos($),N=P[4],W=P[5],J=P[6],se=P[7],ue=P[8],re=P[9],ve=P[10],we=P[11];return P!==b&&(b[0]=P[0],b[1]=P[1],b[2]=P[2],b[3]=P[3],b[12]=P[12],b[13]=P[13],b[14]=P[14],b[15]=P[15]),b[4]=N*O+ue*T,b[5]=W*O+re*T,b[6]=J*O+ve*T,b[7]=se*O+we*T,b[8]=ue*O-N*T,b[9]=re*O-W*T,b[10]=ve*O-J*T,b[11]=we*O-se*T,b},jt.rotateY=function(b,P,$){var T=Math.sin($),O=Math.cos($),N=P[0],W=P[1],J=P[2],se=P[3],ue=P[8],re=P[9],ve=P[10],we=P[11];return P!==b&&(b[4]=P[4],b[5]=P[5],b[6]=P[6],b[7]=P[7],b[12]=P[12],b[13]=P[13],b[14]=P[14],b[15]=P[15]),b[0]=N*O-ue*T,b[1]=W*O-re*T,b[2]=J*O-ve*T,b[3]=se*O-we*T,b[8]=N*T+ue*O,b[9]=W*T+re*O,b[10]=J*T+ve*O,b[11]=se*T+we*O,b},jt.rotateZ=function(b,P,$){var T=Math.sin($),O=Math.cos($),N=P[0],W=P[1],J=P[2],se=P[3],ue=P[4],re=P[5],ve=P[6],we=P[7];return P!==b&&(b[8]=P[8],b[9]=P[9],b[10]=P[10],b[11]=P[11],b[12]=P[12],b[13]=P[13],b[14]=P[14],b[15]=P[15]),b[0]=N*O+ue*T,b[1]=W*O+re*T,b[2]=J*O+ve*T,b[3]=se*O+we*T,b[4]=ue*O-N*T,b[5]=re*O-W*T,b[6]=ve*O-J*T,b[7]=we*O-se*T,b},jt.fromTranslation=function(b,P){return b[0]=1,b[1]=0,b[2]=0,b[3]=0,b[4]=0,b[5]=1,b[6]=0,b[7]=0,b[8]=0,b[9]=0,b[10]=1,b[11]=0,b[12]=P[0],b[13]=P[1],b[14]=P[2],b[15]=1,b},jt.fromScaling=function(b,P){return b[0]=P[0],b[1]=0,b[2]=0,b[3]=0,b[4]=0,b[5]=P[1],b[6]=0,b[7]=0,b[8]=0,b[9]=0,b[10]=P[2],b[11]=0,b[12]=0,b[13]=0,b[14]=0,b[15]=1,b},jt.fromRotation=function(b,P,$){var T,O,N,W=$[0],J=$[1],se=$[2],ue=Math.hypot(W,J,se);return ue<n.EPSILON?null:(W*=ue=1/ue,J*=ue,se*=ue,T=Math.sin(P),O=Math.cos(P),b[0]=W*W*(N=1-O)+O,b[1]=J*W*N+se*T,b[2]=se*W*N-J*T,b[3]=0,b[4]=W*J*N-se*T,b[5]=J*J*N+O,b[6]=se*J*N+W*T,b[7]=0,b[8]=W*se*N+J*T,b[9]=J*se*N-W*T,b[10]=se*se*N+O,b[11]=0,b[12]=0,b[13]=0,b[14]=0,b[15]=1,b)},jt.fromXRotation=function(b,P){var $=Math.sin(P),T=Math.cos(P);return b[0]=1,b[1]=0,b[2]=0,b[3]=0,b[4]=0,b[5]=T,b[6]=$,b[7]=0,b[8]=0,b[9]=-$,b[10]=T,b[11]=0,b[12]=0,b[13]=0,b[14]=0,b[15]=1,b},jt.fromYRotation=function(b,P){var $=Math.sin(P),T=Math.cos(P);return b[0]=T,b[1]=0,b[2]=-$,b[3]=0,b[4]=0,b[5]=1,b[6]=0,b[7]=0,b[8]=$,b[9]=0,b[10]=T,b[11]=0,b[12]=0,b[13]=0,b[14]=0,b[15]=1,b},jt.fromZRotation=function(b,P){var $=Math.sin(P),T=Math.cos(P);return b[0]=T,b[1]=$,b[2]=0,b[3]=0,b[4]=-$,b[5]=T,b[6]=0,b[7]=0,b[8]=0,b[9]=0,b[10]=1,b[11]=0,b[12]=0,b[13]=0,b[14]=0,b[15]=1,b},jt.fromRotationTranslation=h,jt.fromQuat2=function(b,P){var $=new n.ARRAY_TYPE(3),T=-P[0],O=-P[1],N=-P[2],W=P[3],J=P[4],se=P[5],ue=P[6],re=P[7],ve=T*T+O*O+N*N+W*W;return ve>0?($[0]=2*(J*W+re*T+se*N-ue*O)/ve,$[1]=2*(se*W+re*O+ue*T-J*N)/ve,$[2]=2*(ue*W+re*N+J*O-se*T)/ve):($[0]=2*(J*W+re*T+se*N-ue*O),$[1]=2*(se*W+re*O+ue*T-J*N),$[2]=2*(ue*W+re*N+J*O-se*T)),h(b,P,$),b},jt.getTranslation=function(b,P){return b[0]=P[12],b[1]=P[13],b[2]=P[14],b},jt.getScaling=v,jt.getRotation=function(b,P){var $=new n.ARRAY_TYPE(3);v($,P);var T=1/$[0],O=1/$[1],N=1/$[2],W=P[0]*T,J=P[1]*O,se=P[2]*N,ue=P[4]*T,re=P[5]*O,ve=P[6]*N,we=P[8]*T,Be=P[9]*O,mt=P[10]*N,pt=W+re+mt,ft=0;return pt>0?(ft=2*Math.sqrt(pt+1),b[3]=.25*ft,b[0]=(ve-Be)/ft,b[1]=(we-se)/ft,b[2]=(J-ue)/ft):W>re&&W>mt?(ft=2*Math.sqrt(1+W-re-mt),b[3]=(ve-Be)/ft,b[0]=.25*ft,b[1]=(J+ue)/ft,b[2]=(we+se)/ft):re>mt?(ft=2*Math.sqrt(1+re-W-mt),b[3]=(we-se)/ft,b[0]=(J+ue)/ft,b[1]=.25*ft,b[2]=(ve+Be)/ft):(ft=2*Math.sqrt(1+mt-W-re),b[3]=(J-ue)/ft,b[0]=(we+se)/ft,b[1]=(ve+Be)/ft,b[2]=.25*ft),b},jt.fromRotationTranslationScale=function(b,P,$,T){var O=P[0],N=P[1],W=P[2],J=P[3],se=O+O,ue=N+N,re=W+W,ve=O*se,we=O*ue,Be=O*re,mt=N*ue,pt=N*re,ft=W*re,Yt=J*se,yt=J*ue,en=J*re,yn=T[0],fn=T[1],xn=T[2];return b[0]=(1-(mt+ft))*yn,b[1]=(we+en)*yn,b[2]=(Be-yt)*yn,b[3]=0,b[4]=(we-en)*fn,b[5]=(1-(ve+ft))*fn,b[6]=(pt+Yt)*fn,b[7]=0,b[8]=(Be+yt)*xn,b[9]=(pt-Yt)*xn,b[10]=(1-(ve+mt))*xn,b[11]=0,b[12]=$[0],b[13]=$[1],b[14]=$[2],b[15]=1,b},jt.fromRotationTranslationScaleOrigin=function(b,P,$,T,O){var N=P[0],W=P[1],J=P[2],se=P[3],ue=N+N,re=W+W,ve=J+J,we=N*ue,Be=N*re,mt=N*ve,pt=W*re,ft=W*ve,Yt=J*ve,yt=se*ue,en=se*re,yn=se*ve,fn=T[0],xn=T[1],Bn=T[2],Yn=O[0],$n=O[1],$r=O[2],fi=(1-(pt+Yt))*fn,Dr=(Be+yn)*fn,Qi=(mt-en)*fn,Hi=(Be-yn)*xn,Ii=(1-(we+Yt))*xn,gi=(ft+yt)*xn,Ro=(mt+en)*Bn,io=(ft-yt)*Bn,yo=(1-(we+pt))*Bn;return b[0]=fi,b[1]=Dr,b[2]=Qi,b[3]=0,b[4]=Hi,b[5]=Ii,b[6]=gi,b[7]=0,b[8]=Ro,b[9]=io,b[10]=yo,b[11]=0,b[12]=$[0]+Yn-(fi*Yn+Hi*$n+Ro*$r),b[13]=$[1]+$n-(Dr*Yn+Ii*$n+io*$r),b[14]=$[2]+$r-(Qi*Yn+gi*$n+yo*$r),b[15]=1,b},jt.fromQuat=function(b,P){var $=P[0],T=P[1],O=P[2],N=P[3],W=$+$,J=T+T,se=O+O,ue=$*W,re=T*W,ve=T*J,we=O*W,Be=O*J,mt=O*se,pt=N*W,ft=N*J,Yt=N*se;return b[0]=1-ve-mt,b[1]=re+Yt,b[2]=we-ft,b[3]=0,b[4]=re-Yt,b[5]=1-ue-mt,b[6]=Be+pt,b[7]=0,b[8]=we+ft,b[9]=Be-pt,b[10]=1-ue-ve,b[11]=0,b[12]=0,b[13]=0,b[14]=0,b[15]=1,b},jt.frustum=function(b,P,$,T,O,N,W){var J=1/($-P),se=1/(O-T),ue=1/(N-W);return b[0]=2*N*J,b[1]=0,b[2]=0,b[3]=0,b[4]=0,b[5]=2*N*se,b[6]=0,b[7]=0,b[8]=($+P)*J,b[9]=(O+T)*se,b[10]=(W+N)*ue,b[11]=-1,b[12]=0,b[13]=0,b[14]=W*N*2*ue,b[15]=0,b},jt.perspectiveNO=S,jt.perspectiveZO=function(b,P,$,T,O){var N,W=1/Math.tan(P/2);return b[0]=W/$,b[1]=0,b[2]=0,b[3]=0,b[4]=0,b[5]=W,b[6]=0,b[7]=0,b[8]=0,b[9]=0,b[11]=-1,b[12]=0,b[13]=0,b[15]=0,O!=null&&O!==1/0?(b[10]=O*(N=1/(T-O)),b[14]=O*T*N):(b[10]=-1,b[14]=-T),b},jt.perspectiveFromFieldOfView=function(b,P,$,T){var O=Math.tan(P.upDegrees*Math.PI/180),N=Math.tan(P.downDegrees*Math.PI/180),W=Math.tan(P.leftDegrees*Math.PI/180),J=Math.tan(P.rightDegrees*Math.PI/180),se=2/(W+J),ue=2/(O+N);return b[0]=se,b[1]=0,b[2]=0,b[3]=0,b[4]=0,b[5]=ue,b[6]=0,b[7]=0,b[8]=-(W-J)*se*.5,b[9]=(O-N)*ue*.5,b[10]=T/($-T),b[11]=-1,b[12]=0,b[13]=0,b[14]=T*$/($-T),b[15]=0,b},jt.orthoNO=M,jt.orthoZO=function(b,P,$,T,O,N,W){var J=1/(P-$),se=1/(T-O),ue=1/(N-W);return b[0]=-2*J,b[1]=0,b[2]=0,b[3]=0,b[4]=0,b[5]=-2*se,b[6]=0,b[7]=0,b[8]=0,b[9]=0,b[10]=ue,b[11]=0,b[12]=(P+$)*J,b[13]=(O+T)*se,b[14]=N*ue,b[15]=1,b},jt.lookAt=function(b,P,$,T){var O,N,W,J,se,ue,re,ve,we,Be,mt=P[0],pt=P[1],ft=P[2],Yt=T[0],yt=T[1],en=T[2],yn=$[0],fn=$[1],xn=$[2];return Math.abs(mt-yn)<n.EPSILON&&Math.abs(pt-fn)<n.EPSILON&&Math.abs(ft-xn)<n.EPSILON?d(b):(re=mt-yn,ve=pt-fn,we=ft-xn,O=yt*(we*=Be=1/Math.hypot(re,ve,we))-en*(ve*=Be),N=en*(re*=Be)-Yt*we,W=Yt*ve-yt*re,(Be=Math.hypot(O,N,W))?(O*=Be=1/Be,N*=Be,W*=Be):(O=0,N=0,W=0),J=ve*W-we*N,se=we*O-re*W,ue=re*N-ve*O,(Be=Math.hypot(J,se,ue))?(J*=Be=1/Be,se*=Be,ue*=Be):(J=0,se=0,ue=0),b[0]=O,b[1]=J,b[2]=re,b[3]=0,b[4]=N,b[5]=se,b[6]=ve,b[7]=0,b[8]=W,b[9]=ue,b[10]=we,b[11]=0,b[12]=-(O*mt+N*pt+W*ft),b[13]=-(J*mt+se*pt+ue*ft),b[14]=-(re*mt+ve*pt+we*ft),b[15]=1,b)},jt.targetTo=function(b,P,$,T){var O=P[0],N=P[1],W=P[2],J=T[0],se=T[1],ue=T[2],re=O-$[0],ve=N-$[1],we=W-$[2],Be=re*re+ve*ve+we*we;Be>0&&(re*=Be=1/Math.sqrt(Be),ve*=Be,we*=Be);var mt=se*we-ue*ve,pt=ue*re-J*we,ft=J*ve-se*re;return(Be=mt*mt+pt*pt+ft*ft)>0&&(mt*=Be=1/Math.sqrt(Be),pt*=Be,ft*=Be),b[0]=mt,b[1]=pt,b[2]=ft,b[3]=0,b[4]=ve*ft-we*pt,b[5]=we*mt-re*ft,b[6]=re*pt-ve*mt,b[7]=0,b[8]=re,b[9]=ve,b[10]=we,b[11]=0,b[12]=O,b[13]=N,b[14]=W,b[15]=1,b},jt.str=function(b){return"mat4("+b[0]+", "+b[1]+", "+b[2]+", "+b[3]+", "+b[4]+", "+b[5]+", "+b[6]+", "+b[7]+", "+b[8]+", "+b[9]+", "+b[10]+", "+b[11]+", "+b[12]+", "+b[13]+", "+b[14]+", "+b[15]+")"},jt.frob=function(b){return Math.hypot(b[0],b[1],b[2],b[3],b[4],b[5],b[6],b[7],b[8],b[9],b[10],b[11],b[12],b[13],b[14],b[15])},jt.add=function(b,P,$){return b[0]=P[0]+$[0],b[1]=P[1]+$[1],b[2]=P[2]+$[2],b[3]=P[3]+$[3],b[4]=P[4]+$[4],b[5]=P[5]+$[5],b[6]=P[6]+$[6],b[7]=P[7]+$[7],b[8]=P[8]+$[8],b[9]=P[9]+$[9],b[10]=P[10]+$[10],b[11]=P[11]+$[11],b[12]=P[12]+$[12],b[13]=P[13]+$[13],b[14]=P[14]+$[14],b[15]=P[15]+$[15],b},jt.subtract=A,jt.multiplyScalar=function(b,P,$){return b[0]=P[0]*$,b[1]=P[1]*$,b[2]=P[2]*$,b[3]=P[3]*$,b[4]=P[4]*$,b[5]=P[5]*$,b[6]=P[6]*$,b[7]=P[7]*$,b[8]=P[8]*$,b[9]=P[9]*$,b[10]=P[10]*$,b[11]=P[11]*$,b[12]=P[12]*$,b[13]=P[13]*$,b[14]=P[14]*$,b[15]=P[15]*$,b},jt.multiplyScalarAndAdd=function(b,P,$,T){return b[0]=P[0]+$[0]*T,b[1]=P[1]+$[1]*T,b[2]=P[2]+$[2]*T,b[3]=P[3]+$[3]*T,b[4]=P[4]+$[4]*T,b[5]=P[5]+$[5]*T,b[6]=P[6]+$[6]*T,b[7]=P[7]+$[7]*T,b[8]=P[8]+$[8]*T,b[9]=P[9]+$[9]*T,b[10]=P[10]+$[10]*T,b[11]=P[11]+$[11]*T,b[12]=P[12]+$[12]*T,b[13]=P[13]+$[13]*T,b[14]=P[14]+$[14]*T,b[15]=P[15]+$[15]*T,b},jt.exactEquals=function(b,P){return b[0]===P[0]&&b[1]===P[1]&&b[2]===P[2]&&b[3]===P[3]&&b[4]===P[4]&&b[5]===P[5]&&b[6]===P[6]&&b[7]===P[7]&&b[8]===P[8]&&b[9]===P[9]&&b[10]===P[10]&&b[11]===P[11]&&b[12]===P[12]&&b[13]===P[13]&&b[14]===P[14]&&b[15]===P[15]},jt.equals=function(b,P){var $=b[0],T=b[1],O=b[2],N=b[3],W=b[4],J=b[5],se=b[6],ue=b[7],re=b[8],ve=b[9],we=b[10],Be=b[11],mt=b[12],pt=b[13],ft=b[14],Yt=b[15],yt=P[0],en=P[1],yn=P[2],fn=P[3],xn=P[4],Bn=P[5],Yn=P[6],$n=P[7],$r=P[8],fi=P[9],Dr=P[10],Qi=P[11],Hi=P[12],Ii=P[13],gi=P[14],Ro=P[15];return Math.abs($-yt)<=n.EPSILON*Math.max(1,Math.abs($),Math.abs(yt))&&Math.abs(T-en)<=n.EPSILON*Math.max(1,Math.abs(T),Math.abs(en))&&Math.abs(O-yn)<=n.EPSILON*Math.max(1,Math.abs(O),Math.abs(yn))&&Math.abs(N-fn)<=n.EPSILON*Math.max(1,Math.abs(N),Math.abs(fn))&&Math.abs(W-xn)<=n.EPSILON*Math.max(1,Math.abs(W),Math.abs(xn))&&Math.abs(J-Bn)<=n.EPSILON*Math.max(1,Math.abs(J),Math.abs(Bn))&&Math.abs(se-Yn)<=n.EPSILON*Math.max(1,Math.abs(se),Math.abs(Yn))&&Math.abs(ue-$n)<=n.EPSILON*Math.max(1,Math.abs(ue),Math.abs($n))&&Math.abs(re-$r)<=n.EPSILON*Math.max(1,Math.abs(re),Math.abs($r))&&Math.abs(ve-fi)<=n.EPSILON*Math.max(1,Math.abs(ve),Math.abs(fi))&&Math.abs(we-Dr)<=n.EPSILON*Math.max(1,Math.abs(we),Math.abs(Dr))&&Math.abs(Be-Qi)<=n.EPSILON*Math.max(1,Math.abs(Be),Math.abs(Qi))&&Math.abs(mt-Hi)<=n.EPSILON*Math.max(1,Math.abs(mt),Math.abs(Hi))&&Math.abs(pt-Ii)<=n.EPSILON*Math.max(1,Math.abs(pt),Math.abs(Ii))&&Math.abs(ft-gi)<=n.EPSILON*Math.max(1,Math.abs(ft),Math.abs(gi))&&Math.abs(Yt-Ro)<=n.EPSILON*Math.max(1,Math.abs(Yt),Math.abs(Ro))},jt.sub=jt.mul=jt.ortho=jt.perspective=void 0;var n=function(b,P){if(b&&b.__esModule)return b;if(b===null||u(b)!=="object"&&typeof b!="function")return{default:b};var $=i(void 0);if($&&$.has(b))return $.get(b);var T={},O=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var N in b)if(N!=="default"&&Object.prototype.hasOwnProperty.call(b,N)){var W=O?Object.getOwnPropertyDescriptor(b,N):null;W&&(W.get||W.set)?Object.defineProperty(T,N,W):T[N]=b[N]}return T.default=b,$&&$.set(b,T),T}(ye());function i(b){if(typeof WeakMap!="function")return null;var P=new WeakMap,$=new WeakMap;return(i=function(T){return T?$:P})(b)}function d(b){return b[0]=1,b[1]=0,b[2]=0,b[3]=0,b[4]=0,b[5]=1,b[6]=0,b[7]=0,b[8]=0,b[9]=0,b[10]=1,b[11]=0,b[12]=0,b[13]=0,b[14]=0,b[15]=1,b}function g(b,P,$){var T=P[0],O=P[1],N=P[2],W=P[3],J=P[4],se=P[5],ue=P[6],re=P[7],ve=P[8],we=P[9],Be=P[10],mt=P[11],pt=P[12],ft=P[13],Yt=P[14],yt=P[15],en=$[0],yn=$[1],fn=$[2],xn=$[3];return b[0]=en*T+yn*J+fn*ve+xn*pt,b[1]=en*O+yn*se+fn*we+xn*ft,b[2]=en*N+yn*ue+fn*Be+xn*Yt,b[3]=en*W+yn*re+fn*mt+xn*yt,b[4]=(en=$[4])*T+(yn=$[5])*J+(fn=$[6])*ve+(xn=$[7])*pt,b[5]=en*O+yn*se+fn*we+xn*ft,b[6]=en*N+yn*ue+fn*Be+xn*Yt,b[7]=en*W+yn*re+fn*mt+xn*yt,b[8]=(en=$[8])*T+(yn=$[9])*J+(fn=$[10])*ve+(xn=$[11])*pt,b[9]=en*O+yn*se+fn*we+xn*ft,b[10]=en*N+yn*ue+fn*Be+xn*Yt,b[11]=en*W+yn*re+fn*mt+xn*yt,b[12]=(en=$[12])*T+(yn=$[13])*J+(fn=$[14])*ve+(xn=$[15])*pt,b[13]=en*O+yn*se+fn*we+xn*ft,b[14]=en*N+yn*ue+fn*Be+xn*Yt,b[15]=en*W+yn*re+fn*mt+xn*yt,b}function h(b,P,$){var T=P[0],O=P[1],N=P[2],W=P[3],J=T+T,se=O+O,ue=N+N,re=T*J,ve=T*se,we=T*ue,Be=O*se,mt=O*ue,pt=N*ue,ft=W*J,Yt=W*se,yt=W*ue;return b[0]=1-(Be+pt),b[1]=ve+yt,b[2]=we-Yt,b[3]=0,b[4]=ve-yt,b[5]=1-(re+pt),b[6]=mt+ft,b[7]=0,b[8]=we+Yt,b[9]=mt-ft,b[10]=1-(re+Be),b[11]=0,b[12]=$[0],b[13]=$[1],b[14]=$[2],b[15]=1,b}function v(b,P){var $=P[4],T=P[5],O=P[6],N=P[8],W=P[9],J=P[10];return b[0]=Math.hypot(P[0],P[1],P[2]),b[1]=Math.hypot($,T,O),b[2]=Math.hypot(N,W,J),b}function S(b,P,$,T,O){var N,W=1/Math.tan(P/2);return b[0]=W/$,b[1]=0,b[2]=0,b[3]=0,b[4]=0,b[5]=W,b[6]=0,b[7]=0,b[8]=0,b[9]=0,b[11]=-1,b[12]=0,b[13]=0,b[15]=0,O!=null&&O!==1/0?(b[10]=(O+T)*(N=1/(T-O)),b[14]=2*O*T*N):(b[10]=-1,b[14]=-2*T),b}function M(b,P,$,T,O,N,W){var J=1/(P-$),se=1/(T-O),ue=1/(N-W);return b[0]=-2*J,b[1]=0,b[2]=0,b[3]=0,b[4]=0,b[5]=-2*se,b[6]=0,b[7]=0,b[8]=0,b[9]=0,b[10]=2*ue,b[11]=0,b[12]=(P+$)*J,b[13]=(O+T)*se,b[14]=(W+N)*ue,b[15]=1,b}function A(b,P,$){return b[0]=P[0]-$[0],b[1]=P[1]-$[1],b[2]=P[2]-$[2],b[3]=P[3]-$[3],b[4]=P[4]-$[4],b[5]=P[5]-$[5],b[6]=P[6]-$[6],b[7]=P[7]-$[7],b[8]=P[8]-$[8],b[9]=P[9]-$[9],b[10]=P[10]-$[10],b[11]=P[11]-$[11],b[12]=P[12]-$[12],b[13]=P[13]-$[13],b[14]=P[14]-$[14],b[15]=P[15]-$[15],b}return jt.perspective=S,jt.ortho=M,jt.mul=g,jt.sub=A,jt}var Mt,Ut={},Vt={};function yr(){if(Mt)return Vt;function u(O){return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(N){return typeof N}:function(N){return N&&typeof Symbol=="function"&&N.constructor===Symbol&&N!==Symbol.prototype?"symbol":typeof N},u(O)}Mt=1,Object.defineProperty(Vt,"__esModule",{value:!0}),Vt.create=d,Vt.clone=function(O){var N=new n.ARRAY_TYPE(3);return N[0]=O[0],N[1]=O[1],N[2]=O[2],N},Vt.length=g,Vt.fromValues=function(O,N,W){var J=new n.ARRAY_TYPE(3);return J[0]=O,J[1]=N,J[2]=W,J},Vt.copy=function(O,N){return O[0]=N[0],O[1]=N[1],O[2]=N[2],O},Vt.set=function(O,N,W,J){return O[0]=N,O[1]=W,O[2]=J,O},Vt.add=function(O,N,W){return O[0]=N[0]+W[0],O[1]=N[1]+W[1],O[2]=N[2]+W[2],O},Vt.subtract=h,Vt.multiply=v,Vt.divide=S,Vt.ceil=function(O,N){return O[0]=Math.ceil(N[0]),O[1]=Math.ceil(N[1]),O[2]=Math.ceil(N[2]),O},Vt.floor=function(O,N){return O[0]=Math.floor(N[0]),O[1]=Math.floor(N[1]),O[2]=Math.floor(N[2]),O},Vt.min=function(O,N,W){return O[0]=Math.min(N[0],W[0]),O[1]=Math.min(N[1],W[1]),O[2]=Math.min(N[2],W[2]),O},Vt.max=function(O,N,W){return O[0]=Math.max(N[0],W[0]),O[1]=Math.max(N[1],W[1]),O[2]=Math.max(N[2],W[2]),O},Vt.round=function(O,N){return O[0]=Math.round(N[0]),O[1]=Math.round(N[1]),O[2]=Math.round(N[2]),O},Vt.scale=function(O,N,W){return O[0]=N[0]*W,O[1]=N[1]*W,O[2]=N[2]*W,O},Vt.scaleAndAdd=function(O,N,W,J){return O[0]=N[0]+W[0]*J,O[1]=N[1]+W[1]*J,O[2]=N[2]+W[2]*J,O},Vt.distance=M,Vt.squaredDistance=A,Vt.squaredLength=b,Vt.negate=function(O,N){return O[0]=-N[0],O[1]=-N[1],O[2]=-N[2],O},Vt.inverse=function(O,N){return O[0]=1/N[0],O[1]=1/N[1],O[2]=1/N[2],O},Vt.normalize=function(O,N){var W=N[0],J=N[1],se=N[2],ue=W*W+J*J+se*se;return ue>0&&(ue=1/Math.sqrt(ue)),O[0]=N[0]*ue,O[1]=N[1]*ue,O[2]=N[2]*ue,O},Vt.dot=P,Vt.cross=function(O,N,W){var J=N[0],se=N[1],ue=N[2],re=W[0],ve=W[1],we=W[2];return O[0]=se*we-ue*ve,O[1]=ue*re-J*we,O[2]=J*ve-se*re,O},Vt.lerp=function(O,N,W,J){var se=N[0],ue=N[1],re=N[2];return O[0]=se+J*(W[0]-se),O[1]=ue+J*(W[1]-ue),O[2]=re+J*(W[2]-re),O},Vt.hermite=function(O,N,W,J,se,ue){var re=ue*ue,ve=re*(2*ue-3)+1,we=re*(ue-2)+ue,Be=re*(ue-1),mt=re*(3-2*ue);return O[0]=N[0]*ve+W[0]*we+J[0]*Be+se[0]*mt,O[1]=N[1]*ve+W[1]*we+J[1]*Be+se[1]*mt,O[2]=N[2]*ve+W[2]*we+J[2]*Be+se[2]*mt,O},Vt.bezier=function(O,N,W,J,se,ue){var re=1-ue,ve=re*re,we=ue*ue,Be=ve*re,mt=3*ue*ve,pt=3*we*re,ft=we*ue;return O[0]=N[0]*Be+W[0]*mt+J[0]*pt+se[0]*ft,O[1]=N[1]*Be+W[1]*mt+J[1]*pt+se[1]*ft,O[2]=N[2]*Be+W[2]*mt+J[2]*pt+se[2]*ft,O},Vt.random=function(O,N){N=N||1;var W=2*n.RANDOM()*Math.PI,J=2*n.RANDOM()-1,se=Math.sqrt(1-J*J)*N;return O[0]=Math.cos(W)*se,O[1]=Math.sin(W)*se,O[2]=J*N,O},Vt.transformMat4=function(O,N,W){var J=N[0],se=N[1],ue=N[2],re=W[3]*J+W[7]*se+W[11]*ue+W[15];return O[0]=(W[0]*J+W[4]*se+W[8]*ue+W[12])/(re=re||1),O[1]=(W[1]*J+W[5]*se+W[9]*ue+W[13])/re,O[2]=(W[2]*J+W[6]*se+W[10]*ue+W[14])/re,O},Vt.transformMat3=function(O,N,W){var J=N[0],se=N[1],ue=N[2];return O[0]=J*W[0]+se*W[3]+ue*W[6],O[1]=J*W[1]+se*W[4]+ue*W[7],O[2]=J*W[2]+se*W[5]+ue*W[8],O},Vt.transformQuat=function(O,N,W){var J=W[0],se=W[1],ue=W[2],re=N[0],ve=N[1],we=N[2],Be=se*we-ue*ve,mt=ue*re-J*we,pt=J*ve-se*re,ft=se*pt-ue*mt,Yt=ue*Be-J*pt,yt=J*mt-se*Be,en=2*W[3];return mt*=en,pt*=en,Yt*=2,yt*=2,O[0]=re+(Be*=en)+(ft*=2),O[1]=ve+mt+Yt,O[2]=we+pt+yt,O},Vt.rotateX=function(O,N,W,J){var se=[],ue=[];return se[0]=N[0]-W[0],se[1]=N[1]-W[1],se[2]=N[2]-W[2],ue[0]=se[0],ue[1]=se[1]*Math.cos(J)-se[2]*Math.sin(J),ue[2]=se[1]*Math.sin(J)+se[2]*Math.cos(J),O[0]=ue[0]+W[0],O[1]=ue[1]+W[1],O[2]=ue[2]+W[2],O},Vt.rotateY=function(O,N,W,J){var se=[],ue=[];return se[0]=N[0]-W[0],se[1]=N[1]-W[1],se[2]=N[2]-W[2],ue[0]=se[2]*Math.sin(J)+se[0]*Math.cos(J),ue[1]=se[1],ue[2]=se[2]*Math.cos(J)-se[0]*Math.sin(J),O[0]=ue[0]+W[0],O[1]=ue[1]+W[1],O[2]=ue[2]+W[2],O},Vt.rotateZ=function(O,N,W,J){var se=[],ue=[];return se[0]=N[0]-W[0],se[1]=N[1]-W[1],se[2]=N[2]-W[2],ue[0]=se[0]*Math.cos(J)-se[1]*Math.sin(J),ue[1]=se[0]*Math.sin(J)+se[1]*Math.cos(J),ue[2]=se[2],O[0]=ue[0]+W[0],O[1]=ue[1]+W[1],O[2]=ue[2]+W[2],O},Vt.angle=function(O,N){var W=O[0],J=O[1],se=O[2],ue=N[0],re=N[1],ve=N[2],we=Math.sqrt(W*W+J*J+se*se)*Math.sqrt(ue*ue+re*re+ve*ve),Be=we&&P(O,N)/we;return Math.acos(Math.min(Math.max(Be,-1),1))},Vt.zero=function(O){return O[0]=0,O[1]=0,O[2]=0,O},Vt.str=function(O){return"vec3("+O[0]+", "+O[1]+", "+O[2]+")"},Vt.exactEquals=function(O,N){return O[0]===N[0]&&O[1]===N[1]&&O[2]===N[2]},Vt.equals=function(O,N){var W=O[0],J=O[1],se=O[2],ue=N[0],re=N[1],ve=N[2];return Math.abs(W-ue)<=n.EPSILON*Math.max(1,Math.abs(W),Math.abs(ue))&&Math.abs(J-re)<=n.EPSILON*Math.max(1,Math.abs(J),Math.abs(re))&&Math.abs(se-ve)<=n.EPSILON*Math.max(1,Math.abs(se),Math.abs(ve))},Vt.forEach=Vt.sqrLen=Vt.len=Vt.sqrDist=Vt.dist=Vt.div=Vt.mul=Vt.sub=void 0;var n=function(O,N){if(O&&O.__esModule)return O;if(O===null||u(O)!=="object"&&typeof O!="function")return{default:O};var W=i(void 0);if(W&&W.has(O))return W.get(O);var J={},se=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var ue in O)if(ue!=="default"&&Object.prototype.hasOwnProperty.call(O,ue)){var re=se?Object.getOwnPropertyDescriptor(O,ue):null;re&&(re.get||re.set)?Object.defineProperty(J,ue,re):J[ue]=O[ue]}return J.default=O,W&&W.set(O,J),J}(ye());function i(O){if(typeof WeakMap!="function")return null;var N=new WeakMap,W=new WeakMap;return(i=function(J){return J?W:N})(O)}function d(){var O=new n.ARRAY_TYPE(3);return n.ARRAY_TYPE!=Float32Array&&(O[0]=0,O[1]=0,O[2]=0),O}function g(O){return Math.hypot(O[0],O[1],O[2])}function h(O,N,W){return O[0]=N[0]-W[0],O[1]=N[1]-W[1],O[2]=N[2]-W[2],O}function v(O,N,W){return O[0]=N[0]*W[0],O[1]=N[1]*W[1],O[2]=N[2]*W[2],O}function S(O,N,W){return O[0]=N[0]/W[0],O[1]=N[1]/W[1],O[2]=N[2]/W[2],O}function M(O,N){return Math.hypot(N[0]-O[0],N[1]-O[1],N[2]-O[2])}function A(O,N){var W=N[0]-O[0],J=N[1]-O[1],se=N[2]-O[2];return W*W+J*J+se*se}function b(O){var N=O[0],W=O[1],J=O[2];return N*N+W*W+J*J}function P(O,N){return O[0]*N[0]+O[1]*N[1]+O[2]*N[2]}Vt.sub=h,Vt.mul=v,Vt.div=S,Vt.dist=M,Vt.sqrDist=A,Vt.len=g,Vt.sqrLen=b;var $,T=($=d(),function(O,N,W,J,se,ue){var re,ve;for(N||(N=3),W||(W=0),ve=J?Math.min(J*N+W,O.length):O.length,re=W;re<ve;re+=N)$[0]=O[re],$[1]=O[re+1],$[2]=O[re+2],se($,$,ue),O[re]=$[0],O[re+1]=$[1],O[re+2]=$[2];return O});return Vt.forEach=T,Vt}var lr,Xn,Ge={};function Ht(){if(lr)return Ge;function u(T){return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(O){return typeof O}:function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O},u(T)}lr=1,Object.defineProperty(Ge,"__esModule",{value:!0}),Ge.create=d,Ge.clone=function(T){var O=new n.ARRAY_TYPE(4);return O[0]=T[0],O[1]=T[1],O[2]=T[2],O[3]=T[3],O},Ge.fromValues=function(T,O,N,W){var J=new n.ARRAY_TYPE(4);return J[0]=T,J[1]=O,J[2]=N,J[3]=W,J},Ge.copy=function(T,O){return T[0]=O[0],T[1]=O[1],T[2]=O[2],T[3]=O[3],T},Ge.set=function(T,O,N,W,J){return T[0]=O,T[1]=N,T[2]=W,T[3]=J,T},Ge.add=function(T,O,N){return T[0]=O[0]+N[0],T[1]=O[1]+N[1],T[2]=O[2]+N[2],T[3]=O[3]+N[3],T},Ge.subtract=g,Ge.multiply=h,Ge.divide=v,Ge.ceil=function(T,O){return T[0]=Math.ceil(O[0]),T[1]=Math.ceil(O[1]),T[2]=Math.ceil(O[2]),T[3]=Math.ceil(O[3]),T},Ge.floor=function(T,O){return T[0]=Math.floor(O[0]),T[1]=Math.floor(O[1]),T[2]=Math.floor(O[2]),T[3]=Math.floor(O[3]),T},Ge.min=function(T,O,N){return T[0]=Math.min(O[0],N[0]),T[1]=Math.min(O[1],N[1]),T[2]=Math.min(O[2],N[2]),T[3]=Math.min(O[3],N[3]),T},Ge.max=function(T,O,N){return T[0]=Math.max(O[0],N[0]),T[1]=Math.max(O[1],N[1]),T[2]=Math.max(O[2],N[2]),T[3]=Math.max(O[3],N[3]),T},Ge.round=function(T,O){return T[0]=Math.round(O[0]),T[1]=Math.round(O[1]),T[2]=Math.round(O[2]),T[3]=Math.round(O[3]),T},Ge.scale=function(T,O,N){return T[0]=O[0]*N,T[1]=O[1]*N,T[2]=O[2]*N,T[3]=O[3]*N,T},Ge.scaleAndAdd=function(T,O,N,W){return T[0]=O[0]+N[0]*W,T[1]=O[1]+N[1]*W,T[2]=O[2]+N[2]*W,T[3]=O[3]+N[3]*W,T},Ge.distance=S,Ge.squaredDistance=M,Ge.length=A,Ge.squaredLength=b,Ge.negate=function(T,O){return T[0]=-O[0],T[1]=-O[1],T[2]=-O[2],T[3]=-O[3],T},Ge.inverse=function(T,O){return T[0]=1/O[0],T[1]=1/O[1],T[2]=1/O[2],T[3]=1/O[3],T},Ge.normalize=function(T,O){var N=O[0],W=O[1],J=O[2],se=O[3],ue=N*N+W*W+J*J+se*se;return ue>0&&(ue=1/Math.sqrt(ue)),T[0]=N*ue,T[1]=W*ue,T[2]=J*ue,T[3]=se*ue,T},Ge.dot=function(T,O){return T[0]*O[0]+T[1]*O[1]+T[2]*O[2]+T[3]*O[3]},Ge.cross=function(T,O,N,W){var J=N[0]*W[1]-N[1]*W[0],se=N[0]*W[2]-N[2]*W[0],ue=N[0]*W[3]-N[3]*W[0],re=N[1]*W[2]-N[2]*W[1],ve=N[1]*W[3]-N[3]*W[1],we=N[2]*W[3]-N[3]*W[2],Be=O[0],mt=O[1],pt=O[2],ft=O[3];return T[0]=mt*we-pt*ve+ft*re,T[1]=-Be*we+pt*ue-ft*se,T[2]=Be*ve-mt*ue+ft*J,T[3]=-Be*re+mt*se-pt*J,T},Ge.lerp=function(T,O,N,W){var J=O[0],se=O[1],ue=O[2],re=O[3];return T[0]=J+W*(N[0]-J),T[1]=se+W*(N[1]-se),T[2]=ue+W*(N[2]-ue),T[3]=re+W*(N[3]-re),T},Ge.random=function(T,O){var N,W,J,se,ue,re;O=O||1;do ue=(N=2*n.RANDOM()-1)*N+(W=2*n.RANDOM()-1)*W;while(ue>=1);do re=(J=2*n.RANDOM()-1)*J+(se=2*n.RANDOM()-1)*se;while(re>=1);var ve=Math.sqrt((1-ue)/re);return T[0]=O*N,T[1]=O*W,T[2]=O*J*ve,T[3]=O*se*ve,T},Ge.transformMat4=function(T,O,N){var W=O[0],J=O[1],se=O[2],ue=O[3];return T[0]=N[0]*W+N[4]*J+N[8]*se+N[12]*ue,T[1]=N[1]*W+N[5]*J+N[9]*se+N[13]*ue,T[2]=N[2]*W+N[6]*J+N[10]*se+N[14]*ue,T[3]=N[3]*W+N[7]*J+N[11]*se+N[15]*ue,T},Ge.transformQuat=function(T,O,N){var W=O[0],J=O[1],se=O[2],ue=N[0],re=N[1],ve=N[2],we=N[3],Be=we*W+re*se-ve*J,mt=we*J+ve*W-ue*se,pt=we*se+ue*J-re*W,ft=-ue*W-re*J-ve*se;return T[0]=Be*we+ft*-ue+mt*-ve-pt*-re,T[1]=mt*we+ft*-re+pt*-ue-Be*-ve,T[2]=pt*we+ft*-ve+Be*-re-mt*-ue,T[3]=O[3],T},Ge.zero=function(T){return T[0]=0,T[1]=0,T[2]=0,T[3]=0,T},Ge.str=function(T){return"vec4("+T[0]+", "+T[1]+", "+T[2]+", "+T[3]+")"},Ge.exactEquals=function(T,O){return T[0]===O[0]&&T[1]===O[1]&&T[2]===O[2]&&T[3]===O[3]},Ge.equals=function(T,O){var N=T[0],W=T[1],J=T[2],se=T[3],ue=O[0],re=O[1],ve=O[2],we=O[3];return Math.abs(N-ue)<=n.EPSILON*Math.max(1,Math.abs(N),Math.abs(ue))&&Math.abs(W-re)<=n.EPSILON*Math.max(1,Math.abs(W),Math.abs(re))&&Math.abs(J-ve)<=n.EPSILON*Math.max(1,Math.abs(J),Math.abs(ve))&&Math.abs(se-we)<=n.EPSILON*Math.max(1,Math.abs(se),Math.abs(we))},Ge.forEach=Ge.sqrLen=Ge.len=Ge.sqrDist=Ge.dist=Ge.div=Ge.mul=Ge.sub=void 0;var n=function(T,O){if(T&&T.__esModule)return T;if(T===null||u(T)!=="object"&&typeof T!="function")return{default:T};var N=i(void 0);if(N&&N.has(T))return N.get(T);var W={},J=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var se in T)if(se!=="default"&&Object.prototype.hasOwnProperty.call(T,se)){var ue=J?Object.getOwnPropertyDescriptor(T,se):null;ue&&(ue.get||ue.set)?Object.defineProperty(W,se,ue):W[se]=T[se]}return W.default=T,N&&N.set(T,W),W}(ye());function i(T){if(typeof WeakMap!="function")return null;var O=new WeakMap,N=new WeakMap;return(i=function(W){return W?N:O})(T)}function d(){var T=new n.ARRAY_TYPE(4);return n.ARRAY_TYPE!=Float32Array&&(T[0]=0,T[1]=0,T[2]=0,T[3]=0),T}function g(T,O,N){return T[0]=O[0]-N[0],T[1]=O[1]-N[1],T[2]=O[2]-N[2],T[3]=O[3]-N[3],T}function h(T,O,N){return T[0]=O[0]*N[0],T[1]=O[1]*N[1],T[2]=O[2]*N[2],T[3]=O[3]*N[3],T}function v(T,O,N){return T[0]=O[0]/N[0],T[1]=O[1]/N[1],T[2]=O[2]/N[2],T[3]=O[3]/N[3],T}function S(T,O){return Math.hypot(O[0]-T[0],O[1]-T[1],O[2]-T[2],O[3]-T[3])}function M(T,O){var N=O[0]-T[0],W=O[1]-T[1],J=O[2]-T[2],se=O[3]-T[3];return N*N+W*W+J*J+se*se}function A(T){return Math.hypot(T[0],T[1],T[2],T[3])}function b(T){var O=T[0],N=T[1],W=T[2],J=T[3];return O*O+N*N+W*W+J*J}Ge.sub=g,Ge.mul=h,Ge.div=v,Ge.dist=S,Ge.sqrDist=M,Ge.len=A,Ge.sqrLen=b;var P,$=(P=d(),function(T,O,N,W,J,se){var ue,re;for(O||(O=4),N||(N=0),re=W?Math.min(W*O+N,T.length):T.length,ue=N;ue<re;ue+=O)P[0]=T[ue],P[1]=T[ue+1],P[2]=T[ue+2],P[3]=T[ue+3],J(P,P,se),T[ue]=P[0],T[ue+1]=P[1],T[ue+2]=P[2],T[ue+3]=P[3];return T});return Ge.forEach=$,Ge}function un(){if(Xn)return Ut;function u(yt){return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(en){return typeof en}:function(en){return en&&typeof Symbol=="function"&&en.constructor===Symbol&&en!==Symbol.prototype?"symbol":typeof en},u(yt)}Xn=1,Object.defineProperty(Ut,"__esModule",{value:!0}),Ut.create=S,Ut.identity=function(yt){return yt[0]=0,yt[1]=0,yt[2]=0,yt[3]=1,yt},Ut.setAxisAngle=M,Ut.getAxisAngle=function(yt,en){var yn=2*Math.acos(en[3]),fn=Math.sin(yn/2);return fn>n.EPSILON?(yt[0]=en[0]/fn,yt[1]=en[1]/fn,yt[2]=en[2]/fn):(yt[0]=1,yt[1]=0,yt[2]=0),yn},Ut.getAngle=function(yt,en){var yn=N(yt,en);return Math.acos(2*yn*yn-1)},Ut.multiply=A,Ut.rotateX=function(yt,en,yn){yn*=.5;var fn=en[0],xn=en[1],Bn=en[2],Yn=en[3],$n=Math.sin(yn),$r=Math.cos(yn);return yt[0]=fn*$r+Yn*$n,yt[1]=xn*$r+Bn*$n,yt[2]=Bn*$r-xn*$n,yt[3]=Yn*$r-fn*$n,yt},Ut.rotateY=function(yt,en,yn){yn*=.5;var fn=en[0],xn=en[1],Bn=en[2],Yn=en[3],$n=Math.sin(yn),$r=Math.cos(yn);return yt[0]=fn*$r-Bn*$n,yt[1]=xn*$r+Yn*$n,yt[2]=Bn*$r+fn*$n,yt[3]=Yn*$r-xn*$n,yt},Ut.rotateZ=function(yt,en,yn){yn*=.5;var fn=en[0],xn=en[1],Bn=en[2],Yn=en[3],$n=Math.sin(yn),$r=Math.cos(yn);return yt[0]=fn*$r+xn*$n,yt[1]=xn*$r-fn*$n,yt[2]=Bn*$r+Yn*$n,yt[3]=Yn*$r-Bn*$n,yt},Ut.calculateW=function(yt,en){var yn=en[0],fn=en[1],xn=en[2];return yt[0]=yn,yt[1]=fn,yt[2]=xn,yt[3]=Math.sqrt(Math.abs(1-yn*yn-fn*fn-xn*xn)),yt},Ut.exp=b,Ut.ln=P,Ut.pow=function(yt,en,yn){return P(yt,en),O(yt,yt,yn),b(yt,yt),yt},Ut.slerp=$,Ut.random=function(yt){var en=n.RANDOM(),yn=n.RANDOM(),fn=n.RANDOM(),xn=Math.sqrt(1-en),Bn=Math.sqrt(en);return yt[0]=xn*Math.sin(2*Math.PI*yn),yt[1]=xn*Math.cos(2*Math.PI*yn),yt[2]=Bn*Math.sin(2*Math.PI*fn),yt[3]=Bn*Math.cos(2*Math.PI*fn),yt},Ut.invert=function(yt,en){var yn=en[0],fn=en[1],xn=en[2],Bn=en[3],Yn=yn*yn+fn*fn+xn*xn+Bn*Bn,$n=Yn?1/Yn:0;return yt[0]=-yn*$n,yt[1]=-fn*$n,yt[2]=-xn*$n,yt[3]=Bn*$n,yt},Ut.conjugate=function(yt,en){return yt[0]=-en[0],yt[1]=-en[1],yt[2]=-en[2],yt[3]=en[3],yt},Ut.fromMat3=T,Ut.fromEuler=function(yt,en,yn,fn){var xn=.5*Math.PI/180;en*=xn,yn*=xn,fn*=xn;var Bn=Math.sin(en),Yn=Math.cos(en),$n=Math.sin(yn),$r=Math.cos(yn),fi=Math.sin(fn),Dr=Math.cos(fn);return yt[0]=Bn*$r*Dr-Yn*$n*fi,yt[1]=Yn*$n*Dr+Bn*$r*fi,yt[2]=Yn*$r*fi-Bn*$n*Dr,yt[3]=Yn*$r*Dr+Bn*$n*fi,yt},Ut.str=function(yt){return"quat("+yt[0]+", "+yt[1]+", "+yt[2]+", "+yt[3]+")"},Ut.setAxes=Ut.sqlerp=Ut.rotationTo=Ut.equals=Ut.exactEquals=Ut.normalize=Ut.sqrLen=Ut.squaredLength=Ut.len=Ut.length=Ut.lerp=Ut.dot=Ut.scale=Ut.mul=Ut.add=Ut.set=Ut.copy=Ut.fromValues=Ut.clone=void 0;var n=v(ye()),i=v(bt()),d=v(yr()),g=v(Ht());function h(yt){if(typeof WeakMap!="function")return null;var en=new WeakMap,yn=new WeakMap;return(h=function(fn){return fn?yn:en})(yt)}function v(yt,en){if(yt&&yt.__esModule)return yt;if(yt===null||u(yt)!=="object"&&typeof yt!="function")return{default:yt};var yn=h(en);if(yn&&yn.has(yt))return yn.get(yt);var fn={},xn=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var Bn in yt)if(Bn!=="default"&&Object.prototype.hasOwnProperty.call(yt,Bn)){var Yn=xn?Object.getOwnPropertyDescriptor(yt,Bn):null;Yn&&(Yn.get||Yn.set)?Object.defineProperty(fn,Bn,Yn):fn[Bn]=yt[Bn]}return fn.default=yt,yn&&yn.set(yt,fn),fn}function S(){var yt=new n.ARRAY_TYPE(4);return n.ARRAY_TYPE!=Float32Array&&(yt[0]=0,yt[1]=0,yt[2]=0),yt[3]=1,yt}function M(yt,en,yn){yn*=.5;var fn=Math.sin(yn);return yt[0]=fn*en[0],yt[1]=fn*en[1],yt[2]=fn*en[2],yt[3]=Math.cos(yn),yt}function A(yt,en,yn){var fn=en[0],xn=en[1],Bn=en[2],Yn=en[3],$n=yn[0],$r=yn[1],fi=yn[2],Dr=yn[3];return yt[0]=fn*Dr+Yn*$n+xn*fi-Bn*$r,yt[1]=xn*Dr+Yn*$r+Bn*$n-fn*fi,yt[2]=Bn*Dr+Yn*fi+fn*$r-xn*$n,yt[3]=Yn*Dr-fn*$n-xn*$r-Bn*fi,yt}function b(yt,en){var yn=en[0],fn=en[1],xn=en[2],Bn=en[3],Yn=Math.sqrt(yn*yn+fn*fn+xn*xn),$n=Math.exp(Bn),$r=Yn>0?$n*Math.sin(Yn)/Yn:0;return yt[0]=yn*$r,yt[1]=fn*$r,yt[2]=xn*$r,yt[3]=$n*Math.cos(Yn),yt}function P(yt,en){var yn=en[0],fn=en[1],xn=en[2],Bn=en[3],Yn=Math.sqrt(yn*yn+fn*fn+xn*xn),$n=Yn>0?Math.atan2(Yn,Bn)/Yn:0;return yt[0]=yn*$n,yt[1]=fn*$n,yt[2]=xn*$n,yt[3]=.5*Math.log(yn*yn+fn*fn+xn*xn+Bn*Bn),yt}function $(yt,en,yn,fn){var xn,Bn,Yn,$n,$r,fi=en[0],Dr=en[1],Qi=en[2],Hi=en[3],Ii=yn[0],gi=yn[1],Ro=yn[2],io=yn[3];return(Bn=fi*Ii+Dr*gi+Qi*Ro+Hi*io)<0&&(Bn=-Bn,Ii=-Ii,gi=-gi,Ro=-Ro,io=-io),1-Bn>n.EPSILON?(xn=Math.acos(Bn),Yn=Math.sin(xn),$n=Math.sin((1-fn)*xn)/Yn,$r=Math.sin(fn*xn)/Yn):($n=1-fn,$r=fn),yt[0]=$n*fi+$r*Ii,yt[1]=$n*Dr+$r*gi,yt[2]=$n*Qi+$r*Ro,yt[3]=$n*Hi+$r*io,yt}function T(yt,en){var yn,fn=en[0]+en[4]+en[8];if(fn>0)yn=Math.sqrt(fn+1),yt[3]=.5*yn,yt[0]=(en[5]-en[7])*(yn=.5/yn),yt[1]=(en[6]-en[2])*yn,yt[2]=(en[1]-en[3])*yn;else{var xn=0;en[4]>en[0]&&(xn=1),en[8]>en[3*xn+xn]&&(xn=2);var Bn=(xn+1)%3,Yn=(xn+2)%3;yn=Math.sqrt(en[3*xn+xn]-en[3*Bn+Bn]-en[3*Yn+Yn]+1),yt[xn]=.5*yn,yt[3]=(en[3*Bn+Yn]-en[3*Yn+Bn])*(yn=.5/yn),yt[Bn]=(en[3*Bn+xn]+en[3*xn+Bn])*yn,yt[Yn]=(en[3*Yn+xn]+en[3*xn+Yn])*yn}return yt}Ut.clone=g.clone,Ut.fromValues=g.fromValues,Ut.copy=g.copy,Ut.set=g.set,Ut.add=g.add,Ut.mul=A;var O=g.scale;Ut.scale=O;var N=g.dot;Ut.dot=N,Ut.lerp=g.lerp;var W=g.length;Ut.length=W,Ut.len=W;var J=g.squaredLength;Ut.squaredLength=J,Ut.sqrLen=J;var se=g.normalize;Ut.normalize=se,Ut.exactEquals=g.exactEquals,Ut.equals=g.equals;var ue,re,ve,we=(ue=d.create(),re=d.fromValues(1,0,0),ve=d.fromValues(0,1,0),function(yt,en,yn){var fn=d.dot(en,yn);return fn<-.999999?(d.cross(ue,re,en),d.len(ue)<1e-6&&d.cross(ue,ve,en),d.normalize(ue,ue),M(yt,ue,Math.PI),yt):fn>.999999?(yt[0]=0,yt[1]=0,yt[2]=0,yt[3]=1,yt):(d.cross(ue,en,yn),yt[0]=ue[0],yt[1]=ue[1],yt[2]=ue[2],yt[3]=1+fn,se(yt,yt))});Ut.rotationTo=we;var Be,mt,pt=(Be=S(),mt=S(),function(yt,en,yn,fn,xn,Bn){return $(Be,en,xn,Bn),$(mt,yn,fn,Bn),$(yt,Be,mt,2*Bn*(1-Bn)),yt});Ut.sqlerp=pt;var ft,Yt=(ft=i.create(),function(yt,en,yn,fn){return ft[0]=yn[0],ft[3]=yn[1],ft[6]=yn[2],ft[1]=fn[0],ft[4]=fn[1],ft[7]=fn[2],ft[2]=-en[0],ft[5]=-en[1],ft[8]=-en[2],se(yt,T(yt,ft))});return Ut.setAxes=Yt,Ut}var Xt,ke={};function zn(){if(Xt)return ke;function u($){return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(T){return typeof T}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T},u($)}Xt=1,Object.defineProperty(ke,"__esModule",{value:!0}),ke.create=function(){var $=new n.ARRAY_TYPE(8);return n.ARRAY_TYPE!=Float32Array&&($[0]=0,$[1]=0,$[2]=0,$[4]=0,$[5]=0,$[6]=0,$[7]=0),$[3]=1,$},ke.clone=function($){var T=new n.ARRAY_TYPE(8);return T[0]=$[0],T[1]=$[1],T[2]=$[2],T[3]=$[3],T[4]=$[4],T[5]=$[5],T[6]=$[6],T[7]=$[7],T},ke.fromValues=function($,T,O,N,W,J,se,ue){var re=new n.ARRAY_TYPE(8);return re[0]=$,re[1]=T,re[2]=O,re[3]=N,re[4]=W,re[5]=J,re[6]=se,re[7]=ue,re},ke.fromRotationTranslationValues=function($,T,O,N,W,J,se){var ue=new n.ARRAY_TYPE(8);ue[0]=$,ue[1]=T,ue[2]=O,ue[3]=N;var re=.5*W,ve=.5*J,we=.5*se;return ue[4]=re*N+ve*O-we*T,ue[5]=ve*N+we*$-re*O,ue[6]=we*N+re*T-ve*$,ue[7]=-re*$-ve*T-we*O,ue},ke.fromRotationTranslation=v,ke.fromTranslation=function($,T){return $[0]=0,$[1]=0,$[2]=0,$[3]=1,$[4]=.5*T[0],$[5]=.5*T[1],$[6]=.5*T[2],$[7]=0,$},ke.fromRotation=function($,T){return $[0]=T[0],$[1]=T[1],$[2]=T[2],$[3]=T[3],$[4]=0,$[5]=0,$[6]=0,$[7]=0,$},ke.fromMat4=function($,T){var O=i.create();d.getRotation(O,T);var N=new n.ARRAY_TYPE(3);return d.getTranslation(N,T),v($,O,N),$},ke.copy=S,ke.identity=function($){return $[0]=0,$[1]=0,$[2]=0,$[3]=1,$[4]=0,$[5]=0,$[6]=0,$[7]=0,$},ke.set=function($,T,O,N,W,J,se,ue,re){return $[0]=T,$[1]=O,$[2]=N,$[3]=W,$[4]=J,$[5]=se,$[6]=ue,$[7]=re,$},ke.getDual=function($,T){return $[0]=T[4],$[1]=T[5],$[2]=T[6],$[3]=T[7],$},ke.setDual=function($,T){return $[4]=T[0],$[5]=T[1],$[6]=T[2],$[7]=T[3],$},ke.getTranslation=function($,T){var O=T[4],N=T[5],W=T[6],J=T[7],se=-T[0],ue=-T[1],re=-T[2],ve=T[3];return $[0]=2*(O*ve+J*se+N*re-W*ue),$[1]=2*(N*ve+J*ue+W*se-O*re),$[2]=2*(W*ve+J*re+O*ue-N*se),$},ke.translate=function($,T,O){var N=T[0],W=T[1],J=T[2],se=T[3],ue=.5*O[0],re=.5*O[1],ve=.5*O[2],we=T[4],Be=T[5],mt=T[6],pt=T[7];return $[0]=N,$[1]=W,$[2]=J,$[3]=se,$[4]=se*ue+W*ve-J*re+we,$[5]=se*re+J*ue-N*ve+Be,$[6]=se*ve+N*re-W*ue+mt,$[7]=-N*ue-W*re-J*ve+pt,$},ke.rotateX=function($,T,O){var N=-T[0],W=-T[1],J=-T[2],se=T[3],ue=T[4],re=T[5],ve=T[6],we=T[7],Be=ue*se+we*N+re*J-ve*W,mt=re*se+we*W+ve*N-ue*J,pt=ve*se+we*J+ue*W-re*N,ft=we*se-ue*N-re*W-ve*J;return i.rotateX($,T,O),$[4]=Be*(se=$[3])+ft*(N=$[0])+mt*(J=$[2])-pt*(W=$[1]),$[5]=mt*se+ft*W+pt*N-Be*J,$[6]=pt*se+ft*J+Be*W-mt*N,$[7]=ft*se-Be*N-mt*W-pt*J,$},ke.rotateY=function($,T,O){var N=-T[0],W=-T[1],J=-T[2],se=T[3],ue=T[4],re=T[5],ve=T[6],we=T[7],Be=ue*se+we*N+re*J-ve*W,mt=re*se+we*W+ve*N-ue*J,pt=ve*se+we*J+ue*W-re*N,ft=we*se-ue*N-re*W-ve*J;return i.rotateY($,T,O),$[4]=Be*(se=$[3])+ft*(N=$[0])+mt*(J=$[2])-pt*(W=$[1]),$[5]=mt*se+ft*W+pt*N-Be*J,$[6]=pt*se+ft*J+Be*W-mt*N,$[7]=ft*se-Be*N-mt*W-pt*J,$},ke.rotateZ=function($,T,O){var N=-T[0],W=-T[1],J=-T[2],se=T[3],ue=T[4],re=T[5],ve=T[6],we=T[7],Be=ue*se+we*N+re*J-ve*W,mt=re*se+we*W+ve*N-ue*J,pt=ve*se+we*J+ue*W-re*N,ft=we*se-ue*N-re*W-ve*J;return i.rotateZ($,T,O),$[4]=Be*(se=$[3])+ft*(N=$[0])+mt*(J=$[2])-pt*(W=$[1]),$[5]=mt*se+ft*W+pt*N-Be*J,$[6]=pt*se+ft*J+Be*W-mt*N,$[7]=ft*se-Be*N-mt*W-pt*J,$},ke.rotateByQuatAppend=function($,T,O){var N=O[0],W=O[1],J=O[2],se=O[3],ue=T[0],re=T[1],ve=T[2],we=T[3];return $[0]=ue*se+we*N+re*J-ve*W,$[1]=re*se+we*W+ve*N-ue*J,$[2]=ve*se+we*J+ue*W-re*N,$[3]=we*se-ue*N-re*W-ve*J,$[4]=(ue=T[4])*se+(we=T[7])*N+(re=T[5])*J-(ve=T[6])*W,$[5]=re*se+we*W+ve*N-ue*J,$[6]=ve*se+we*J+ue*W-re*N,$[7]=we*se-ue*N-re*W-ve*J,$},ke.rotateByQuatPrepend=function($,T,O){var N=T[0],W=T[1],J=T[2],se=T[3],ue=O[0],re=O[1],ve=O[2],we=O[3];return $[0]=N*we+se*ue+W*ve-J*re,$[1]=W*we+se*re+J*ue-N*ve,$[2]=J*we+se*ve+N*re-W*ue,$[3]=se*we-N*ue-W*re-J*ve,$[4]=N*(we=O[7])+se*(ue=O[4])+W*(ve=O[6])-J*(re=O[5]),$[5]=W*we+se*re+J*ue-N*ve,$[6]=J*we+se*ve+N*re-W*ue,$[7]=se*we-N*ue-W*re-J*ve,$},ke.rotateAroundAxis=function($,T,O,N){if(Math.abs(N)<n.EPSILON)return S($,T);var W=Math.hypot(O[0],O[1],O[2]);N*=.5;var J=Math.sin(N),se=J*O[0]/W,ue=J*O[1]/W,re=J*O[2]/W,ve=Math.cos(N),we=T[0],Be=T[1],mt=T[2],pt=T[3];$[0]=we*ve+pt*se+Be*re-mt*ue,$[1]=Be*ve+pt*ue+mt*se-we*re,$[2]=mt*ve+pt*re+we*ue-Be*se,$[3]=pt*ve-we*se-Be*ue-mt*re;var ft=T[4],Yt=T[5],yt=T[6],en=T[7];return $[4]=ft*ve+en*se+Yt*re-yt*ue,$[5]=Yt*ve+en*ue+yt*se-ft*re,$[6]=yt*ve+en*re+ft*ue-Yt*se,$[7]=en*ve-ft*se-Yt*ue-yt*re,$},ke.add=function($,T,O){return $[0]=T[0]+O[0],$[1]=T[1]+O[1],$[2]=T[2]+O[2],$[3]=T[3]+O[3],$[4]=T[4]+O[4],$[5]=T[5]+O[5],$[6]=T[6]+O[6],$[7]=T[7]+O[7],$},ke.multiply=M,ke.scale=function($,T,O){return $[0]=T[0]*O,$[1]=T[1]*O,$[2]=T[2]*O,$[3]=T[3]*O,$[4]=T[4]*O,$[5]=T[5]*O,$[6]=T[6]*O,$[7]=T[7]*O,$},ke.lerp=function($,T,O,N){var W=1-N;return A(T,O)<0&&(N=-N),$[0]=T[0]*W+O[0]*N,$[1]=T[1]*W+O[1]*N,$[2]=T[2]*W+O[2]*N,$[3]=T[3]*W+O[3]*N,$[4]=T[4]*W+O[4]*N,$[5]=T[5]*W+O[5]*N,$[6]=T[6]*W+O[6]*N,$[7]=T[7]*W+O[7]*N,$},ke.invert=function($,T){var O=P(T);return $[0]=-T[0]/O,$[1]=-T[1]/O,$[2]=-T[2]/O,$[3]=T[3]/O,$[4]=-T[4]/O,$[5]=-T[5]/O,$[6]=-T[6]/O,$[7]=T[7]/O,$},ke.conjugate=function($,T){return $[0]=-T[0],$[1]=-T[1],$[2]=-T[2],$[3]=T[3],$[4]=-T[4],$[5]=-T[5],$[6]=-T[6],$[7]=T[7],$},ke.normalize=function($,T){var O=P(T);if(O>0){O=Math.sqrt(O);var N=T[0]/O,W=T[1]/O,J=T[2]/O,se=T[3]/O,ue=T[4],re=T[5],ve=T[6],we=T[7],Be=N*ue+W*re+J*ve+se*we;$[0]=N,$[1]=W,$[2]=J,$[3]=se,$[4]=(ue-N*Be)/O,$[5]=(re-W*Be)/O,$[6]=(ve-J*Be)/O,$[7]=(we-se*Be)/O}return $},ke.str=function($){return"quat2("+$[0]+", "+$[1]+", "+$[2]+", "+$[3]+", "+$[4]+", "+$[5]+", "+$[6]+", "+$[7]+")"},ke.exactEquals=function($,T){return $[0]===T[0]&&$[1]===T[1]&&$[2]===T[2]&&$[3]===T[3]&&$[4]===T[4]&&$[5]===T[5]&&$[6]===T[6]&&$[7]===T[7]},ke.equals=function($,T){var O=$[0],N=$[1],W=$[2],J=$[3],se=$[4],ue=$[5],re=$[6],ve=$[7],we=T[0],Be=T[1],mt=T[2],pt=T[3],ft=T[4],Yt=T[5],yt=T[6],en=T[7];return Math.abs(O-we)<=n.EPSILON*Math.max(1,Math.abs(O),Math.abs(we))&&Math.abs(N-Be)<=n.EPSILON*Math.max(1,Math.abs(N),Math.abs(Be))&&Math.abs(W-mt)<=n.EPSILON*Math.max(1,Math.abs(W),Math.abs(mt))&&Math.abs(J-pt)<=n.EPSILON*Math.max(1,Math.abs(J),Math.abs(pt))&&Math.abs(se-ft)<=n.EPSILON*Math.max(1,Math.abs(se),Math.abs(ft))&&Math.abs(ue-Yt)<=n.EPSILON*Math.max(1,Math.abs(ue),Math.abs(Yt))&&Math.abs(re-yt)<=n.EPSILON*Math.max(1,Math.abs(re),Math.abs(yt))&&Math.abs(ve-en)<=n.EPSILON*Math.max(1,Math.abs(ve),Math.abs(en))},ke.sqrLen=ke.squaredLength=ke.len=ke.length=ke.dot=ke.mul=ke.setReal=ke.getReal=void 0;var n=h(ye()),i=h(un()),d=h(vt());function g($){if(typeof WeakMap!="function")return null;var T=new WeakMap,O=new WeakMap;return(g=function(N){return N?O:T})($)}function h($,T){if($&&$.__esModule)return $;if($===null||u($)!=="object"&&typeof $!="function")return{default:$};var O=g(T);if(O&&O.has($))return O.get($);var N={},W=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var J in $)if(J!=="default"&&Object.prototype.hasOwnProperty.call($,J)){var se=W?Object.getOwnPropertyDescriptor($,J):null;se&&(se.get||se.set)?Object.defineProperty(N,J,se):N[J]=$[J]}return N.default=$,O&&O.set($,N),N}function v($,T,O){var N=.5*O[0],W=.5*O[1],J=.5*O[2],se=T[0],ue=T[1],re=T[2],ve=T[3];return $[0]=se,$[1]=ue,$[2]=re,$[3]=ve,$[4]=N*ve+W*re-J*ue,$[5]=W*ve+J*se-N*re,$[6]=J*ve+N*ue-W*se,$[7]=-N*se-W*ue-J*re,$}function S($,T){return $[0]=T[0],$[1]=T[1],$[2]=T[2],$[3]=T[3],$[4]=T[4],$[5]=T[5],$[6]=T[6],$[7]=T[7],$}function M($,T,O){var N=T[0],W=T[1],J=T[2],se=T[3],ue=O[4],re=O[5],ve=O[6],we=O[7],Be=T[4],mt=T[5],pt=T[6],ft=T[7],Yt=O[0],yt=O[1],en=O[2],yn=O[3];return $[0]=N*yn+se*Yt+W*en-J*yt,$[1]=W*yn+se*yt+J*Yt-N*en,$[2]=J*yn+se*en+N*yt-W*Yt,$[3]=se*yn-N*Yt-W*yt-J*en,$[4]=N*we+se*ue+W*ve-J*re+Be*yn+ft*Yt+mt*en-pt*yt,$[5]=W*we+se*re+J*ue-N*ve+mt*yn+ft*yt+pt*Yt-Be*en,$[6]=J*we+se*ve+N*re-W*ue+pt*yn+ft*en+Be*yt-mt*Yt,$[7]=se*we-N*ue-W*re-J*ve+ft*yn-Be*Yt-mt*yt-pt*en,$}ke.getReal=i.copy,ke.setReal=i.copy,ke.mul=M;var A=i.dot;ke.dot=A;var b=i.length;ke.length=b,ke.len=b;var P=i.squaredLength;return ke.squaredLength=P,ke.sqrLen=P,ke}var mn,Rn,ut={};function Jt(){if(mn)return ut;function u(T){return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(O){return typeof O}:function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O},u(T)}mn=1,Object.defineProperty(ut,"__esModule",{value:!0}),ut.create=d,ut.clone=function(T){var O=new n.ARRAY_TYPE(2);return O[0]=T[0],O[1]=T[1],O},ut.fromValues=function(T,O){var N=new n.ARRAY_TYPE(2);return N[0]=T,N[1]=O,N},ut.copy=function(T,O){return T[0]=O[0],T[1]=O[1],T},ut.set=function(T,O,N){return T[0]=O,T[1]=N,T},ut.add=function(T,O,N){return T[0]=O[0]+N[0],T[1]=O[1]+N[1],T},ut.subtract=g,ut.multiply=h,ut.divide=v,ut.ceil=function(T,O){return T[0]=Math.ceil(O[0]),T[1]=Math.ceil(O[1]),T},ut.floor=function(T,O){return T[0]=Math.floor(O[0]),T[1]=Math.floor(O[1]),T},ut.min=function(T,O,N){return T[0]=Math.min(O[0],N[0]),T[1]=Math.min(O[1],N[1]),T},ut.max=function(T,O,N){return T[0]=Math.max(O[0],N[0]),T[1]=Math.max(O[1],N[1]),T},ut.round=function(T,O){return T[0]=Math.round(O[0]),T[1]=Math.round(O[1]),T},ut.scale=function(T,O,N){return T[0]=O[0]*N,T[1]=O[1]*N,T},ut.scaleAndAdd=function(T,O,N,W){return T[0]=O[0]+N[0]*W,T[1]=O[1]+N[1]*W,T},ut.distance=S,ut.squaredDistance=M,ut.length=A,ut.squaredLength=b,ut.negate=function(T,O){return T[0]=-O[0],T[1]=-O[1],T},ut.inverse=function(T,O){return T[0]=1/O[0],T[1]=1/O[1],T},ut.normalize=function(T,O){var N=O[0],W=O[1],J=N*N+W*W;return J>0&&(J=1/Math.sqrt(J)),T[0]=O[0]*J,T[1]=O[1]*J,T},ut.dot=function(T,O){return T[0]*O[0]+T[1]*O[1]},ut.cross=function(T,O,N){var W=O[0]*N[1]-O[1]*N[0];return T[0]=T[1]=0,T[2]=W,T},ut.lerp=function(T,O,N,W){var J=O[0],se=O[1];return T[0]=J+W*(N[0]-J),T[1]=se+W*(N[1]-se),T},ut.random=function(T,O){O=O||1;var N=2*n.RANDOM()*Math.PI;return T[0]=Math.cos(N)*O,T[1]=Math.sin(N)*O,T},ut.transformMat2=function(T,O,N){var W=O[0],J=O[1];return T[0]=N[0]*W+N[2]*J,T[1]=N[1]*W+N[3]*J,T},ut.transformMat2d=function(T,O,N){var W=O[0],J=O[1];return T[0]=N[0]*W+N[2]*J+N[4],T[1]=N[1]*W+N[3]*J+N[5],T},ut.transformMat3=function(T,O,N){var W=O[0],J=O[1];return T[0]=N[0]*W+N[3]*J+N[6],T[1]=N[1]*W+N[4]*J+N[7],T},ut.transformMat4=function(T,O,N){var W=O[0],J=O[1];return T[0]=N[0]*W+N[4]*J+N[12],T[1]=N[1]*W+N[5]*J+N[13],T},ut.rotate=function(T,O,N,W){var J=O[0]-N[0],se=O[1]-N[1],ue=Math.sin(W),re=Math.cos(W);return T[0]=J*re-se*ue+N[0],T[1]=J*ue+se*re+N[1],T},ut.angle=function(T,O){var N=T[0],W=T[1],J=O[0],se=O[1],ue=Math.sqrt(N*N+W*W)*Math.sqrt(J*J+se*se);return Math.acos(Math.min(Math.max(ue&&(N*J+W*se)/ue,-1),1))},ut.zero=function(T){return T[0]=0,T[1]=0,T},ut.str=function(T){return"vec2("+T[0]+", "+T[1]+")"},ut.exactEquals=function(T,O){return T[0]===O[0]&&T[1]===O[1]},ut.equals=function(T,O){var N=T[0],W=T[1],J=O[0],se=O[1];return Math.abs(N-J)<=n.EPSILON*Math.max(1,Math.abs(N),Math.abs(J))&&Math.abs(W-se)<=n.EPSILON*Math.max(1,Math.abs(W),Math.abs(se))},ut.forEach=ut.sqrLen=ut.sqrDist=ut.dist=ut.div=ut.mul=ut.sub=ut.len=void 0;var n=function(T,O){if(T&&T.__esModule)return T;if(T===null||u(T)!=="object"&&typeof T!="function")return{default:T};var N=i(void 0);if(N&&N.has(T))return N.get(T);var W={},J=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var se in T)if(se!=="default"&&Object.prototype.hasOwnProperty.call(T,se)){var ue=J?Object.getOwnPropertyDescriptor(T,se):null;ue&&(ue.get||ue.set)?Object.defineProperty(W,se,ue):W[se]=T[se]}return W.default=T,N&&N.set(T,W),W}(ye());function i(T){if(typeof WeakMap!="function")return null;var O=new WeakMap,N=new WeakMap;return(i=function(W){return W?N:O})(T)}function d(){var T=new n.ARRAY_TYPE(2);return n.ARRAY_TYPE!=Float32Array&&(T[0]=0,T[1]=0),T}function g(T,O,N){return T[0]=O[0]-N[0],T[1]=O[1]-N[1],T}function h(T,O,N){return T[0]=O[0]*N[0],T[1]=O[1]*N[1],T}function v(T,O,N){return T[0]=O[0]/N[0],T[1]=O[1]/N[1],T}function S(T,O){return Math.hypot(O[0]-T[0],O[1]-T[1])}function M(T,O){var N=O[0]-T[0],W=O[1]-T[1];return N*N+W*W}function A(T){return Math.hypot(T[0],T[1])}function b(T){var O=T[0],N=T[1];return O*O+N*N}ut.len=A,ut.sub=g,ut.mul=h,ut.div=v,ut.dist=S,ut.sqrDist=M,ut.sqrLen=b;var P,$=(P=d(),function(T,O,N,W,J,se){var ue,re;for(O||(O=2),N||(N=0),re=W?Math.min(W*O+N,T.length):T.length,ue=N;ue<re;ue+=O)P[0]=T[ue],P[1]=T[ue+1],J(P,P,se),T[ue]=P[0],T[ue+1]=P[1];return T});return ut.forEach=$,ut}function Cn(){if(Rn)return De;function u(T){return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(O){return typeof O}:function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O},u(T)}Rn=1,Object.defineProperty(De,"__esModule",{value:!0}),De.vec4=De.vec3=De.vec2=De.quat2=De.quat=De.mat4=De.mat3=De.mat2d=De.mat2=De.glMatrix=void 0;var n=$(ye());De.glMatrix=n;var i=$(Ie());De.mat2=i;var d=$(ot());De.mat2d=d;var g=$(bt());De.mat3=g;var h=$(vt());De.mat4=h;var v=$(un());De.quat=v;var S=$(zn());De.quat2=S;var M=$(Jt());De.vec2=M;var A=$(yr());De.vec3=A;var b=$(Ht());function P(T){if(typeof WeakMap!="function")return null;var O=new WeakMap,N=new WeakMap;return(P=function(W){return W?N:O})(T)}function $(T,O){if(T&&T.__esModule)return T;if(T===null||u(T)!=="object"&&typeof T!="function")return{default:T};var N=P(O);if(N&&N.has(T))return N.get(T);var W={},J=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var se in T)if(se!=="default"&&Object.prototype.hasOwnProperty.call(T,se)){var ue=J?Object.getOwnPropertyDescriptor(T,se):null;ue&&(ue.get||ue.set)?Object.defineProperty(W,se,ue):W[se]=T[se]}return W.default=T,N&&N.set(T,W),W}return De.vec4=b,De}var he,Qt,xi,ui,Ae=Cn(),An=function(){if(Qt)return he;function u(n,i,d,g){this.cx=3*n,this.bx=3*(d-n)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*i,this.by=3*(g-i)-this.cy,this.ay=1-this.cy-this.by,this.p1x=n,this.p1y=i,this.p2x=d,this.p2y=g}return Qt=1,he=u,u.prototype={sampleCurveX:function(n){return((this.ax*n+this.bx)*n+this.cx)*n},sampleCurveY:function(n){return((this.ay*n+this.by)*n+this.cy)*n},sampleCurveDerivativeX:function(n){return(3*this.ax*n+2*this.bx)*n+this.cx},solveCurveX:function(n,i){if(i===void 0&&(i=1e-6),n<0)return 0;if(n>1)return 1;for(var d=n,g=0;g<8;g++){var h=this.sampleCurveX(d)-n;if(Math.abs(h)<i)return d;var v=this.sampleCurveDerivativeX(d);if(Math.abs(v)<1e-6)break;d-=h/v}var S=0,M=1;for(d=n,g=0;g<20&&(h=this.sampleCurveX(d),!(Math.abs(h-n)<i));g++)n>h?S=d:M=d,d=.5*(M-S)+S;return d},solve:function(n,i){return this.sampleCurveY(this.solveCurveX(n,i))}},he}(),Ur=be(An);function Jr(){if(ui)return xi;function u(n,i){this.x=n,this.y=i}return ui=1,xi=u,u.prototype={clone:function(){return new u(this.x,this.y)},add:function(n){return this.clone()._add(n)},sub:function(n){return this.clone()._sub(n)},multByPoint:function(n){return this.clone()._multByPoint(n)},divByPoint:function(n){return this.clone()._divByPoint(n)},mult:function(n){return this.clone()._mult(n)},div:function(n){return this.clone()._div(n)},rotate:function(n){return this.clone()._rotate(n)},rotateAround:function(n,i){return this.clone()._rotateAround(n,i)},matMult:function(n){return this.clone()._matMult(n)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(n){return this.x===n.x&&this.y===n.y},dist:function(n){return Math.sqrt(this.distSqr(n))},distSqr:function(n){var i=n.x-this.x,d=n.y-this.y;return i*i+d*d},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(n){return Math.atan2(this.y-n.y,this.x-n.x)},angleWith:function(n){return this.angleWithSep(n.x,n.y)},angleWithSep:function(n,i){return Math.atan2(this.x*i-this.y*n,this.x*n+this.y*i)},_matMult:function(n){var i=n[2]*this.x+n[3]*this.y;return this.x=n[0]*this.x+n[1]*this.y,this.y=i,this},_add:function(n){return this.x+=n.x,this.y+=n.y,this},_sub:function(n){return this.x-=n.x,this.y-=n.y,this},_mult:function(n){return this.x*=n,this.y*=n,this},_div:function(n){return this.x/=n,this.y/=n,this},_multByPoint:function(n){return this.x*=n.x,this.y*=n.y,this},_divByPoint:function(n){return this.x/=n.x,this.y/=n.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var n=this.y;return this.y=this.x,this.x=-n,this},_rotate:function(n){var i=Math.cos(n),d=Math.sin(n),g=d*this.x+i*this.y;return this.x=i*this.x-d*this.y,this.y=g,this},_rotateAround:function(n,i){var d=Math.cos(n),g=Math.sin(n),h=i.y+g*(this.x-i.x)+d*(this.y-i.y);return this.x=i.x+d*(this.x-i.x)-g*(this.y-i.y),this.y=h,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},u.convert=function(n){return n instanceof u?n:Array.isArray(n)?new u(n[0],n[1]):n},xi}var On=be(Jr());function Kr(u,n){if(Array.isArray(u)){if(!Array.isArray(n)||u.length!==n.length)return!1;for(let i=0;i<u.length;i++)if(!Kr(u[i],n[i]))return!1;return!0}if(typeof u=="object"&&u!==null&&n!==null){if(typeof n!="object"||Object.keys(u).length!==Object.keys(n).length)return!1;for(const i in u)if(!Kr(u[i],n[i]))return!1;return!0}return u===n}const Ti=Math.PI/180,fr=180/Math.PI;function it(u){return u*Ti}function Ot(u){return u*fr}const Dn=[[0,0],[1,0],[1,1],[0,1]];function pn(u){if(u<=0)return 0;if(u>=1)return 1;const n=u*u,i=n*u;return 4*(u<.5?i:3*(u-n)+i-.75)}function gn(u,n,i,d){const g=new Ur(u,n,i,d);return function(h){return g.solve(h)}}const wr=gn(.25,.1,.25,1);function Hn(u,n,i){return Math.min(i,Math.max(n,u))}function oi(u,n,i){return(i=Hn((i-u)/(n-u),0,1))*i*(3-2*i)}function pi(u,n,i){const d=i-n,g=((u-n)%d+d)%d+n;return g===n?i:g}function ri(u,n,i){if(!u.length)return i(null,[]);let d=u.length;const g=new Array(u.length);let h=null;u.forEach((v,S)=>{n(v,(M,A)=>{M&&(h=M),g[S]=A,--d==0&&i(h,g)})})}function ni(u,...n){for(const i of n)for(const d in i)u[d]=i[d];return u}let Cr=1;function qn(){return Cr++}function _r(u){return u<=1?1:Math.pow(2,Math.ceil(Math.log(u)/Math.LN2))}function Pr(u,n){u.forEach(i=>{n[i]&&(n[i]=n[i].bind(n))})}function Tr(u,n){return u.indexOf(n,u.length-n.length)!==-1}function ei(u,n,i){const d={};for(const g in u)d[g]=n.call(this,u[g],g,u);return d}function ar(u,n,i){const d={};for(const g in u)n.call(this,u[g],g,u)&&(d[g]=u[g]);return d}function mr(u){return Array.isArray(u)?u.map(mr):typeof u=="object"&&u?ei(u,mr):u}const ii={};function Wn(u){ii[u]||(typeof console!="undefined"&&console.warn(u),ii[u]=!0)}function di(u,n,i){return(i.y-u.y)*(n.x-u.x)>(n.y-u.y)*(i.x-u.x)}function Ci(u){let n=0;for(let i,d,g=0,h=u.length,v=h-1;g<h;v=g++)i=u[g],d=u[v],n+=(d.x-i.x)*(i.y+d.y);return n}function eo([u,n,i]){const d=it(n+90),g=it(i);return{x:u*Math.cos(d)*Math.sin(g),y:u*Math.sin(d)*Math.sin(g),z:u*Math.cos(g),azimuthal:n,polar:i}}function Io(){return typeof WorkerGlobalScope!="undefined"&&typeof self!="undefined"&&self instanceof WorkerGlobalScope}function ci(u){const n={};if(u.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,(i,d,g,h)=>{const v=g||h;return n[d]=!v||v.toLowerCase(),""}),n["max-age"]){const i=parseInt(n["max-age"],10);isNaN(i)?delete n["max-age"]:n["max-age"]=i}return n}let oo=null;function nn(u,n){return[u[4*n],u[4*n+1],u[4*n+2],u[4*n+3]]}function Mn(u,n,i,d){for(;n<i;){const g=n+i>>1;u[g]<d?n=g+1:i=g}return n}function Ee(u,n,i,d){for(;n<i;){const g=n+i>>1;u[g]<=d?n=g+1:i=g}return n}function dn(u){return u>0?1/(1.001-u):1+u}function br(u){return u>0?1-1/(1.001-u):-u}const rr={API_URL:"https://api.mapbox.com",get API_URL_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i},get API_TILEJSON_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/v[0-9]*\/.*\.json.*$)/i},get API_SPRITE_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/styles\/v[0-9]*\/)(.*\/sprite.*\..*$)/i},get API_FONTS_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/fonts\/v[0-9]*\/)(.*\.pbf.*$)/i},get API_STYLE_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/styles\/v[0-9]*\/)(.*$)/i},get API_CDN_URL_REGEX(){return/^((https?:)?\/\/)?api\.mapbox\.c(n|om)(\/mapbox-gl-js\/)(.*$)/i},get EVENTS_URL(){if(!rr.API_URL)return null;try{const u=new URL(rr.API_URL);return u.hostname==="api.mapbox.cn"?"https://events.mapbox.cn/events/v2":u.hostname==="api.mapbox.com"?"https://events.mapbox.com/events/v2":null}catch(u){return null}},SESSION_PATH:"/map-sessions/v1",FEEDBACK_URL:"https://apps.mapbox.com/feedback",TILE_URL_VERSION:"v4",RASTER_URL_PREFIX:"raster/v1",RASTERARRAYS_URL_PREFIX:"rasterarrays/v1",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,DEFAULT_STYLE:"mapbox://styles/mapbox/standard",MAX_PARALLEL_IMAGE_REQUESTS:16,DRACO_URL:"https://api.mapbox.com/mapbox-gl-js/draco_decoder_gltf_v1.5.6.wasm",MESHOPT_URL:"https://api.mapbox.com/mapbox-gl-js/meshopt_base_v0.20.wasm",MESHOPT_SIMD_URL:"https://api.mapbox.com/mapbox-gl-js/meshopt_simd_v0.20.wasm",GLYPHS_URL:"mapbox://fonts/mapbox/{fontstack}/{range}.pbf",TILES3D_URL_PREFIX:"3dtiles/v1"};function Yr(u){return rr.API_URL_REGEX.test(u)}function Mi(u){return rr.API_SPRITE_REGEX.test(u)}let Wi,Bi,Di,Re,de,Y;function Ze(){return Wi==null&&(Wi=self.OffscreenCanvas&&new OffscreenCanvas(1,1).getContext("2d")&&typeof self.createImageBitmap=="function"),Wi}const pe={now:()=>Re!==void 0?Re:performance.now(),setNow(u){Re=u},restoreNow(){Re=void 0},frame(u){const n=requestAnimationFrame(u);return{cancel:()=>cancelAnimationFrame(n)}},getImageData(u,n=0){const{width:i,height:d}=u;de||(de=document.createElement("canvas"));const g=de.getContext("2d",{willReadFrequently:!0});if(!g)throw new Error("failed to create canvas 2d context");return(i>de.width||d>de.height)&&(de.width=i,de.height=d),g.clearRect(-n,-n,i+2*n,d+2*n),g.drawImage(u,0,0,i,d),g.getImageData(-n,-n,i+2*n,d+2*n)},resolveURL:u=>(Bi||(Bi=document.createElement("a")),Bi.href=u,Bi.href),get devicePixelRatio(){return window.devicePixelRatio},get prefersReducedMotion(){return!!window.matchMedia&&(Di==null&&(Di=window.matchMedia("(prefers-reduced-motion: reduce)")),Di.matches)},hasCanvasFingerprintNoise(){if(Y!==void 0)return Y;if(!Ze())return Y=!1,!1;const u=new OffscreenCanvas(85,1),n=u.getContext("2d",{willReadFrequently:!0});let i=0;for(let g=0;g<u.width;++g)n.fillStyle=`rgba(${i++},${i++},${i++}, 255)`,n.fillRect(g,0,1,1);const d=n.getImageData(0,0,u.width,u.height);i=0;for(let g=0;g<d.data.length;++g)if(g%4!=3&&i++!==d.data[g])return Y=!0,!0;return Y=!1,!1}};function nt(u,n){const i=u.indexOf("?");if(i<0)return`${u}?${new URLSearchParams(n).toString()}`;const d=new URLSearchParams(u.slice(i));for(const g in n)d.set(g,n[g]);return`${u.slice(0,i)}?${d.toString()}`}function rt(u,n={persistentParams:[]}){const i=u.indexOf("?");if(i<0)return u;const d=new URLSearchParams,g=new URLSearchParams(u.slice(i));for(const v of n.persistentParams){const S=g.get(v);S&&d.set(v,S)}const h=d.toString();return`${u.slice(0,i)}${h.length>0?`?${h}`:""}`}const tn="mapbox-tiles";let $t=500,ln=50;const vn=["language","worldview","jobid"];let et,Rt;function Kt(){try{return caches}catch(u){}}function rn(){const u=Kt();u&&et==null&&(et=u.open(tn))}let dt=1/0;const at={supported:!1,testSupport:function(u){!Gn&&bn&&(or?Fr(u):Sn=u)}};let Sn,bn,Gn=!1,or=!1;const gr=typeof self!="undefined"?self:{};function Fr(u){const n=u.createTexture();u.bindTexture(u.TEXTURE_2D,n);try{if(u.texImage2D(u.TEXTURE_2D,0,u.RGBA,u.RGBA,u.UNSIGNED_BYTE,bn),u.isContextLost())return;at.supported=!0}catch(i){}u.deleteTexture(n),Gn=!0}gr.document&&(bn=gr.document.createElement("img"),bn.onload=function(){Sn&&Fr(Sn),Sn=null,or=!0},bn.onerror=function(){Gn=!0,Sn=null},bn.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");const hi={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Iconset:"Iconset",Image:"Image",Model:"Model"};typeof Object.freeze=="function"&&Object.freeze(hi);class Hr extends Error{constructor(n,i,d){i===401&&Yr(d)&&(n+=": you may have provided an invalid Mapbox access token. See https://docs.mapbox.com/api/overview/#access-tokens-and-token-scopes"),super(n),this.status=i,this.url=d}toString(){return`${this.name}: ${this.message} (${this.status}): ${this.url}`}}const to=Io()?()=>self.worker&&self.worker.referrer:()=>(location.protocol==="blob:"?parent:self).location.href,gt=function(u,n){if(!(/^file:/.test(i=u.url)||/^file:/.test(to())&&!/^\w+:/.test(i))){if(self.fetch&&self.Request&&self.AbortController&&Request.prototype.hasOwnProperty("signal"))return function(d,g){const h=new AbortController,v=new Request(d.url,{method:d.method||"GET",body:d.body,credentials:d.credentials,headers:d.headers,referrer:to(),referrerPolicy:d.referrerPolicy,signal:h.signal});let S=!1,M=!1;const A=(b=v.url).indexOf("sku=")>0&&Yr(b);var b;d.type==="json"&&v.headers.set("Accept","application/json");const P=(T,O,N)=>{if(M)return;if(T&&T.message!=="SecurityError"&&Wn(T.toString()),O&&N)return $(O);const W=Date.now();fetch(v).then(J=>{if(J.ok){const se=A?J.clone():null;return $(J,se,W)}return g(new Hr(J.statusText,J.status,d.url))}).catch(J=>{J.name!=="AbortError"&&g(new Error(`${J.message} ${d.url}`))})},$=(T,O,N)=>{(d.type==="arrayBuffer"?T.arrayBuffer():d.type==="json"?T.json():T.text()).then(W=>{M||(O&&N&&function(J,se,ue){if(rn(),et==null)return;const re=ci(se.headers.get("Cache-Control")||"");if(re["no-store"])return;const ve={status:se.status,statusText:se.statusText,headers:new Headers};se.headers.forEach((mt,pt)=>ve.headers.set(pt,mt)),re["max-age"]&&ve.headers.set("Expires",new Date(ue+1e3*re["max-age"]).toUTCString());const we=ve.headers.get("Expires");if(!we||new Date(we).getTime()-ue<42e4)return;let Be=rt(J.url,{persistentParams:vn});if(se.status===206){const mt=J.headers.get("Range");if(!mt)return;ve.status=200,Be=nt(Be,{range:mt})}(function(mt,pt){if(Rt===void 0)try{new Response(new ReadableStream),Rt=!0}catch(ft){Rt=!1}Rt?pt(mt.body):mt.blob().then(pt)})(se,mt=>{const pt=new Response((ft=se.status)!==200&&ft!==404&&[101,103,204,205,304].includes(ft)?null:mt,ve);var ft;rn(),et!=null&&et.then(Yt=>Yt.put(Be,pt)).catch(Yt=>Wn(Yt.message))})}(v,O,N),S=!0,g(null,W,T.headers.get("Cache-Control"),T.headers.get("Expires")))}).catch(W=>{M||g(new Error(W.message))})};return A?function(T,O){if(rn(),et==null)return O(null);et.then(N=>{let W=rt(T.url,{persistentParams:vn});const J=T.headers.get("Range");J&&(W=nt(W,{range:J})),N.match(W).then(se=>{const ue=function(re){if(!re)return!1;const ve=new Date(re.headers.get("Expires")||0),we=ci(re.headers.get("Cache-Control")||"");return ve>Date.now()&&!we["no-cache"]}(se);N.delete(W),ue&&N.put(W,se.clone()),O(null,se,ue)}).catch(O)}).catch(O)}(v,P):P(null,null),{cancel:()=>{M=!0,S||h.abort()}}}(u,n);if(Io()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",u,n,void 0,!0)}var i;return function(d,g){const h=new XMLHttpRequest;h.open(d.method||"GET",d.url,!0),d.type==="arrayBuffer"&&(h.responseType="arraybuffer");for(const v in d.headers)h.setRequestHeader(v,d.headers[v]);return d.type==="json"&&(h.responseType="text",h.setRequestHeader("Accept","application/json")),h.withCredentials=d.credentials==="include",h.onerror=()=>{g(new Error(h.statusText))},h.onload=()=>{if((h.status>=200&&h.status<300||h.status===0)&&h.response!==null){let v=h.response;if(d.type==="json")try{v=JSON.parse(h.response)}catch(S){return g(S)}g(null,v,h.getResponseHeader("Cache-Control"),h.getResponseHeader("Expires"))}else g(new Hr(h.statusText,h.status,d.url))},h.send(d.body),{cancel:()=>h.abort()}}(u,n)},wn=function(u,n){return gt(ni(u,{type:"arrayBuffer"}),n)};function qt(u){const n=document.createElement("a");return n.href=u,n.protocol===location.protocol&&n.host===location.host}const Nn="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";let sr,Wr;sr=[],Wr=0;const Pi=function(u,n){if(at.supported&&(u.headers||(u.headers={}),u.headers.accept="image/webp,*/*"),Wr>=rr.MAX_PARALLEL_IMAGE_REQUESTS){const h={requestParameters:u,callback:n,cancelled:!1,cancel(){this.cancelled=!0}};return sr.push(h),h}Wr++;let i=!1;const d=()=>{if(!i)for(i=!0,Wr--;sr.length&&Wr<rr.MAX_PARALLEL_IMAGE_REQUESTS;){const h=sr.shift(),{requestParameters:v,callback:S,cancelled:M}=h;M||(h.cancel=Pi(v,S).cancel)}},g=wn(u,(h,v,S,M)=>{d(),h?n(h):v&&(self.createImageBitmap?function(A,b){const P=new Blob([new Uint8Array(A)],{type:"image/png"});createImageBitmap(P).then($=>{b(null,$)}).catch($=>{b(new Error(`Could not load image because of ${$.message}. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.`))})}(v,(A,b)=>n(A,b,S,M)):function(A,b){const P=new Image;P.onload=()=>{b(null,P),URL.revokeObjectURL(P.src),P.onload=null,requestAnimationFrame(()=>{P.src=Nn})},P.onerror=()=>b(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."));const $=new Blob([new Uint8Array(A)],{type:"image/png"});P.src=A.byteLength?URL.createObjectURL($):Nn}(v,(A,b)=>n(A,b,S,M)))});return{cancel:()=>{g.cancel(),d()}}};var Co,Vi,uo,fo={exports:{}},Ki={exports:{}},Mo={exports:{}},Zo=function(){if(uo)return fo.exports;uo=1;var u=(Co||(Co=1,Ki.exports=function(i,d){var g,h,v,S,M,A,b,P;for(h=i.length-(g=3&i.length),v=d,M=3432918353,A=461845907,P=0;P<h;)b=255&i.charCodeAt(P)|(255&i.charCodeAt(++P))<<8|(255&i.charCodeAt(++P))<<16|(255&i.charCodeAt(++P))<<24,++P,v=27492+(65535&(S=5*(65535&(v=(v^=b=(65535&(b=(b=(65535&b)*M+(((b>>>16)*M&65535)<<16)&4294967295)<<15|b>>>17))*A+(((b>>>16)*A&65535)<<16)&4294967295)<<13|v>>>19))+((5*(v>>>16)&65535)<<16)&4294967295))+((58964+(S>>>16)&65535)<<16);switch(b=0,g){case 3:b^=(255&i.charCodeAt(P+2))<<16;case 2:b^=(255&i.charCodeAt(P+1))<<8;case 1:v^=b=(65535&(b=(b=(65535&(b^=255&i.charCodeAt(P)))*M+(((b>>>16)*M&65535)<<16)&4294967295)<<15|b>>>17))*A+(((b>>>16)*A&65535)<<16)&4294967295}return v^=i.length,v=2246822507*(65535&(v^=v>>>16))+((2246822507*(v>>>16)&65535)<<16)&4294967295,v=3266489909*(65535&(v^=v>>>13))+((3266489909*(v>>>16)&65535)<<16)&4294967295,(v^=v>>>16)>>>0}),Ki.exports),n=(Vi||(Vi=1,Mo.exports=function(i,d){for(var g,h=i.length,v=d^h,S=0;h>=4;)g=1540483477*(65535&(g=255&i.charCodeAt(S)|(255&i.charCodeAt(++S))<<8|(255&i.charCodeAt(++S))<<16|(255&i.charCodeAt(++S))<<24))+((1540483477*(g>>>16)&65535)<<16),v=1540483477*(65535&v)+((1540483477*(v>>>16)&65535)<<16)^(g=1540483477*(65535&(g^=g>>>24))+((1540483477*(g>>>16)&65535)<<16)),h-=4,++S;switch(h){case 3:v^=(255&i.charCodeAt(S+2))<<16;case 2:v^=(255&i.charCodeAt(S+1))<<8;case 1:v=1540483477*(65535&(v^=255&i.charCodeAt(S)))+((1540483477*(v>>>16)&65535)<<16)}return v=1540483477*(65535&(v^=v>>>13))+((1540483477*(v>>>16)&65535)<<16),(v^=v>>>15)>>>0}),Mo.exports);return fo.exports=u,fo.exports.murmur3=u,fo.exports.murmur2=n,fo.exports}(),Lo=be(Zo);class To{constructor(n,...i){ni(this,i[0]||{}),this.type=n}}class $o extends To{constructor(n,i={}){super("error",ni({error:n},i))}}function zo(u,n,i){i[u]&&i[u].indexOf(n)!==-1||(i[u]=i[u]||[],i[u].push(n))}function qo(u,n,i){if(i&&i[u]){const d=i[u].indexOf(n);d!==-1&&i[u].splice(d,1)}}class ho{on(n,i){return this._listeners=this._listeners||{},zo(n,i,this._listeners),this}off(n,i){return qo(n,i,this._listeners),qo(n,i,this._oneTimeListeners),this}once(n,i){return i?(this._oneTimeListeners=this._oneTimeListeners||{},zo(n,i,this._oneTimeListeners),this):new Promise(d=>this.once(n,d))}fire(n,i){const d=typeof n=="string"?new To(n,i):n,g=d.type;if(this.listens(g)){d.target=this;const h=this._listeners&&this._listeners[g]?this._listeners[g].slice():[];for(const M of h)M.call(this,d);const v=this._oneTimeListeners&&this._oneTimeListeners[g]?this._oneTimeListeners[g].slice():[];for(const M of v)qo(g,M,this._oneTimeListeners),M.call(this,d);const S=this._eventedParent;S&&(ni(d,typeof this._eventedParentData=="function"?this._eventedParentData():this._eventedParentData),S.fire(d))}else d instanceof $o&&console.error(d.error);return this}listens(n){return!!(this._listeners&&this._listeners[n]&&this._listeners[n].length>0||this._oneTimeListeners&&this._oneTimeListeners[n]&&this._oneTimeListeners[n].length>0||this._eventedParent&&this._eventedParent.listens(n))}setEventedParent(n,i){return this._eventedParent=n,this._eventedParentData=i,this}}var So,wo={},K=function(){if(So)return wo;So=1;var u={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function n(h){return(h=Math.round(h))<0?0:h>255?255:h}function i(h){return n(h[h.length-1]==="%"?parseFloat(h)/100*255:parseInt(h))}function d(h){return(v=h[h.length-1]==="%"?parseFloat(h)/100:parseFloat(h))<0?0:v>1?1:v;var v}function g(h,v,S){return S<0?S+=1:S>1&&(S-=1),6*S<1?h+(v-h)*S*6:2*S<1?v:3*S<2?h+(v-h)*(2/3-S)*6:h}try{wo.parseCSSColor=function(h){var v,S=h.replace(/ /g,"").toLowerCase();if(S in u)return u[S].slice();if(S[0]==="#")return S.length===4?(v=parseInt(S.substr(1),16))>=0&&v<=4095?[(3840&v)>>4|(3840&v)>>8,240&v|(240&v)>>4,15&v|(15&v)<<4,1]:null:S.length===7&&(v=parseInt(S.substr(1),16))>=0&&v<=16777215?[(16711680&v)>>16,(65280&v)>>8,255&v,1]:null;var M=S.indexOf("("),A=S.indexOf(")");if(M!==-1&&A+1===S.length){var b=S.substr(0,M),P=S.substr(M+1,A-(M+1)).split(","),$=1;switch(b){case"rgba":if(P.length!==4)return null;$=d(P.pop());case"rgb":return P.length!==3?null:[i(P[0]),i(P[1]),i(P[2]),$];case"hsla":if(P.length!==4)return null;$=d(P.pop());case"hsl":if(P.length!==3)return null;var T=(parseFloat(P[0])%360+360)%360/360,O=d(P[1]),N=d(P[2]),W=N<=.5?N*(O+1):N+O-N*O,J=2*N-W;return[n(255*g(J,W,T+1/3)),n(255*g(J,W,T)),n(255*g(J,W,T-1/3)),$];default:return null}}return null}}catch(h){}return wo}();class _e{constructor(n,i,d,g=1){this.r=n,this.g=i,this.b=d,this.a=g}static parse(n){if(!n)return;if(n instanceof _e)return n;if(typeof n!="string")return;const i=K.parseCSSColor(n);return i?new _e(i[0]/255*i[3],i[1]/255*i[3],i[2]/255*i[3],i[3]):void 0}toStringPremultipliedAlpha(){const[n,i,d,g]=this.a===0?[0,0,0,0]:[255*this.r/this.a,255*this.g/this.a,255*this.b/this.a,this.a];return`rgba(${Math.round(n)},${Math.round(i)},${Math.round(d)},${g})`}toString(){const[n,i,d,g]=[this.r,this.g,this.b,this.a];return`rgba(${Math.round(255*n)},${Math.round(255*i)},${Math.round(255*d)},${g})`}toRenderColor(n){const{r:i,g:d,b:g,a:h}=this;return new Ct(n,i,d,g,h)}clone(){return new _e(this.r,this.g,this.b,this.a)}}class Ct{constructor(n,i,d,g,h){if(n){const v=n.image.height,S=v*v;i=h===0?0:i/h*(v-1),d=h===0?0:d/h*(v-1),g=h===0?0:g/h*(v-1);const M=Math.floor(i),A=Math.floor(d),b=Math.floor(g),P=Math.ceil(i),$=Math.ceil(d),T=Math.ceil(g),O=i-M,N=d-A,W=g-b,J=n.image.data,se=4*(M+A*S+b*v),ue=4*(M+A*S+T*v),re=4*(M+$*S+b*v),ve=4*(M+$*S+T*v),we=4*(P+A*S+b*v),Be=4*(P+A*S+T*v),mt=4*(P+$*S+b*v),pt=4*(P+$*S+T*v);if(se<0||pt>=J.length)throw new Error("out of range");this.r=Et(Et(Et(J[se],J[ue],W),Et(J[re],J[ve],W),N),Et(Et(J[we],J[Be],W),Et(J[mt],J[pt],W),N),O)/255*h,this.g=Et(Et(Et(J[se+1],J[ue+1],W),Et(J[re+1],J[ve+1],W),N),Et(Et(J[we+1],J[Be+1],W),Et(J[mt+1],J[pt+1],W),N),O)/255*h,this.b=Et(Et(Et(J[se+2],J[ue+2],W),Et(J[re+2],J[ve+2],W),N),Et(Et(J[we+2],J[Be+2],W),Et(J[mt+2],J[pt+2],W),N),O)/255*h,this.a=h}else this.r=i,this.g=d,this.b=g,this.a=h}toArray(){const{r:n,g:i,b:d,a:g}=this;return g===0?[0,0,0,0]:[255*n/g,255*i/g,255*d/g,g]}toHslaArray(){if(this.a===0)return[0,0,0,0];const{r:n,g:i,b:d,a:g}=this,h=Math.min(Math.max(n/g,0),1),v=Math.min(Math.max(i/g,0),1),S=Math.min(Math.max(d/g,0),1),M=Math.min(h,v,S),A=Math.max(h,v,S),b=(M+A)/2;if(M===A)return[0,0,100*b,g];const P=A-M,$=b>.5?P/(2-A-M):P/(A+M);let T=0;return A===h?T=(v-S)/P+(v<S?6:0):A===v?T=(S-h)/P+2:A===S&&(T=(h-v)/P+4),T*=60,[Math.min(Math.max(T,0),360),Math.min(Math.max(100*$,0),100),Math.min(Math.max(100*b,0),100),g]}toArray01(){const{r:n,g:i,b:d,a:g}=this;return g===0?[0,0,0,0]:[n/g,i/g,d/g,g]}toArray01Scaled(n){const{r:i,g:d,b:g,a:h}=this;return h===0?[0,0,0]:[i/h*n,d/h*n,g/h*n]}toArray01PremultipliedAlpha(){const{r:n,g:i,b:d,a:g}=this;return[n,i,d,g]}toArray01Linear(){const{r:n,g:i,b:d,a:g}=this;return g===0?[0,0,0,0]:[Math.pow(n/g,2.2),Math.pow(i/g,2.2),Math.pow(d/g,2.2),g]}}function Et(u,n,i){return u*(1-i)+n*i}function En(u,n,i){return u.map((d,g)=>Et(d,n[g],i))}_e.black=new _e(0,0,0,1),_e.white=new _e(1,1,1,1),_e.transparent=new _e(0,0,0,0),_e.red=new _e(1,0,0,1),_e.blue=new _e(0,0,1,1);var Qn=Object.freeze({__proto__:null,array:En,color:function(u,n,i){return new _e(Et(u.r,n.r,i),Et(u.g,n.g,i),Et(u.b,n.b,i),Et(u.a,n.a,i))},number:Et});function si(u,...n){for(const i of n)for(const d in i)u[d]=i[d];return u}class Or extends Error{constructor(n,i){super(i),this.message=i,this.key=n}}class Ri{constructor(n,i=[]){this.parent=n,this.bindings={};for(const[d,g]of i)this.bindings[d]=g}concat(n){return new Ri(this,n)}get(n){if(this.bindings[n])return this.bindings[n];if(this.parent)return this.parent.get(n);throw new Error(`${n} not found in scope.`)}has(n){return!!this.bindings[n]||!!this.parent&&this.parent.has(n)}}const _o={kind:"null"},Lr={kind:"number"},Ji={kind:"string"},zr={kind:"boolean"},Si={kind:"color"},ai={kind:"object"},mi={kind:"value"},Xo={kind:"collator"},Uo={kind:"formatted"},sn={kind:"resolvedImage"};function qe(u,n){return{kind:"array",itemType:u,N:n}}function Ce(u){if(u.kind==="array"){const n=Ce(u.itemType);return typeof u.N=="number"?`array<${n}, ${u.N}>`:u.itemType.kind==="value"?"array":`array<${n}>`}return u.kind}const Ye=[_o,Lr,Ji,zr,Si,Uo,ai,qe(mi),sn];function Fe(u,n){if(n.kind==="error")return null;if(u.kind==="array"){if(n.kind==="array"&&(n.N===0&&n.itemType.kind==="value"||!Fe(u.itemType,n.itemType))&&(typeof u.N!="number"||u.N===n.N))return null}else{if(u.kind===n.kind)return null;if(u.kind==="value"){for(const i of Ye)if(!Fe(i,n))return null}}return`Expected ${Ce(u)} but found ${Ce(n)} instead.`}function Nt(u,n){return n.some(i=>i.kind===u.kind)}function hn(u,n){return n.some(i=>i==="null"?u===null:i==="array"?Array.isArray(u):i==="object"?u&&!Array.isArray(u)&&typeof u=="object":i===typeof u)}class ir{constructor(n,i,d){this.sensitivity=n?i?"variant":"case":i?"accent":"base",this.locale=d,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(n,i){return this.collator.compare(n,i)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}class Ar{constructor(n,i,d,g,h){this.text=n.normalize?n.normalize():n,this.image=i,this.scale=d,this.fontStack=g,this.textColor=h}}class Nr{constructor(n){this.sections=n}static fromString(n){return new Nr([new Ar(n,null,null,null,null)])}isEmpty(){return this.sections.length===0||!this.sections.some(n=>n.text.length!==0||n.image&&n.image.namePrimary)}static factory(n){return n instanceof Nr?n:Nr.fromString(n)}toString(){return this.sections.length===0?"":this.sections.map(n=>n.text).join("")}serialize(){const n=["format"];for(const i of this.sections){if(i.image){n.push(["image",i.image.namePrimary]);continue}n.push(i.text);const d={};i.fontStack&&(d["text-font"]=["literal",i.fontStack.split(",")]),i.scale&&(d["font-scale"]=i.scale),i.textColor&&(d["text-color"]=["rgba"].concat(i.textColor.toRenderColor(null).toArray())),n.push(d)}return n}}class Rr{constructor(n,i){if(this.id=n,this.options=i||{params:{}},this.options.transform){const{a:d,b:g,c:h,d:v,e:S,f:M}=this.options.transform;this.options.transform=new DOMMatrix([d,g,h,v,S,M])}else this.options.transform=new DOMMatrix([1,0,0,1,0,0])}static deserializeId(n){return JSON.parse(n).id}static deserializeFromString(n){const i=JSON.parse(n),{a:d,b:g,c:h,d:v,e:S,f:M}=i.options.transform;return new DOMMatrix([d,g,h,v,S,M]),new Rr(i.id,i.options)}scaleSelf(n){return this.options.transform=this.options.transform.scale(n),this}serialize(){const n={id:this.id};this.options&&(n.options=this.options);const{a:i,b:d,c:g,d:h,e:v,f:S}=this.options.transform;return n.options.transform={a:i,b:d,c:g,d:h,e:v,f:S},JSON.stringify(n)}}class _i{constructor(n){this.namePrimary=n.namePrimary,n.nameSecondary&&(this.nameSecondary=n.nameSecondary),n.optionsPrimary&&(this.optionsPrimary=n.optionsPrimary),n.optionsSecondary&&(this.optionsSecondary=n.optionsSecondary),this.available=n.available}toString(){return this.namePrimary&&this.nameSecondary?`[${this.namePrimary},${this.nameSecondary}]`:this.namePrimary}getPrimary(){return new Rr(this.namePrimary,{params:this.optionsPrimary&&this.optionsPrimary.params||{}})}getSerializedPrimary(){return this.getPrimary().serialize()}getSecondary(){return this.nameSecondary?new Rr(this.nameSecondary,{params:this.optionsSecondary&&this.optionsSecondary.params||{}}):null}static from(n){return typeof n=="string"?_i.build(n):n}static build(n,i,d,g){return n?new _i({namePrimary:n,nameSecondary:i,optionsPrimary:d,optionsSecondary:g,available:!1}):null}}function Fi(u,n,i,d){return typeof u=="number"&&u>=0&&u<=255&&typeof n=="number"&&n>=0&&n<=255&&typeof i=="number"&&i>=0&&i<=255?d===void 0||typeof d=="number"&&d>=0&&d<=1?null:`Invalid rgba value [${[u,n,i,d].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${(typeof d=="number"?[u,n,i,d]:[u,n,i]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function Ao(u){if(u===null||typeof u=="string"||typeof u=="boolean"||typeof u=="number"||u instanceof _e||u instanceof ir||u instanceof Nr||u instanceof _i)return!0;if(Array.isArray(u)){for(const n of u)if(!Ao(n))return!1;return!0}if(typeof u=="object"){for(const n in u)if(!Ao(u[n]))return!1;return!0}return!1}function Ai(u){if(u===null)return _o;if(typeof u=="string")return Ji;if(typeof u=="boolean")return zr;if(typeof u=="number")return Lr;if(u instanceof _e)return Si;if(u instanceof ir)return Xo;if(u instanceof Nr)return Uo;if(u instanceof _i)return sn;if(Array.isArray(u)){const n=u.length;let i;for(const d of u){const g=Ai(d);if(i){if(i===g)continue;i=mi;break}i=g}return qe(i||mi,n)}return ai}function Zi(u){const n=typeof u;return u===null?"":n==="string"||n==="number"||n==="boolean"?String(u):u instanceof _e?u.toStringPremultipliedAlpha():u instanceof Nr||u instanceof _i?u.toString():JSON.stringify(u)}class li{constructor(n,i){this.type=n,this.value=i}static parse(n,i){if(n.length!==2)return i.error(`'literal' expression requires exactly one argument, but found ${n.length-1} instead.`);if(!Ao(n[1]))return i.error("invalid value");const d=n[1];let g=Ai(d);const h=i.expectedType;return g.kind!=="array"||g.N!==0||!h||h.kind!=="array"||typeof h.N=="number"&&h.N!==0||(g=h),new li(g,d)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}serialize(){return this.type.kind==="array"||this.type.kind==="object"?["literal",this.value]:this.value instanceof _e?["rgba"].concat(this.value.toRenderColor(null).toArray()):this.value instanceof Nr?this.value.serialize():this.value}}class Xi{constructor(n){this.name="ExpressionEvaluationError",this.message=n}toJSON(){return this.message}}const Yi={string:Ji,number:Lr,boolean:zr,object:ai};class Po{constructor(n,i){this.type=n,this.args=i}static parse(n,i){if(n.length<2)return i.error("Expected at least one argument.");let d,g=1;const h=n[0];if(h==="array"){let S,M;if(n.length>2){const A=n[1];if(typeof A!="string"||!(A in Yi)||A==="object")return i.error('The item type argument of "array" must be one of string, number, boolean',1);S=Yi[A],g++}else S=mi;if(n.length>3){if(n[2]!==null&&(typeof n[2]!="number"||n[2]<0||n[2]!==Math.floor(n[2])))return i.error('The length argument to "array" must be a positive integer literal',2);M=n[2],g++}d=qe(S,M)}else d=Yi[h];const v=[];for(;g<n.length;g++){const S=i.parse(n[g],g,mi);if(!S)return null;v.push(S)}return new Po(d,v)}evaluate(n){for(let i=0;i<this.args.length;i++){const d=this.args[i].evaluate(n);if(!Fe(this.type,Ai(d)))return d;if(i===this.args.length-1)throw new Xi(`The expression ${JSON.stringify(this.args[i].serialize())} evaluated to ${Ce(Ai(d))} but was expected to be of type ${Ce(this.type)}.`)}return null}eachChild(n){this.args.forEach(n)}outputDefined(){return this.args.every(n=>n.outputDefined())}serialize(){const n=this.type,i=[n.kind];if(n.kind==="array"){const d=n.itemType;if(d.kind==="string"||d.kind==="number"||d.kind==="boolean"){i.push(d.kind);const g=n.N;(typeof g=="number"||this.args.length>1)&&i.push(g)}}return i.concat(this.args.map(d=>d.serialize()))}}class la{constructor(n){this.type=Uo,this.sections=n}static parse(n,i){if(n.length<2)return i.error("Expected at least one argument.");const d=n[1];if(!Array.isArray(d)&&typeof d=="object")return i.error("First argument must be an image or text section.");const g=[];let h=!1;for(let v=1;v<=n.length-1;++v){const S=n[v];if(h&&typeof S=="object"&&!Array.isArray(S)){h=!1;let M=null;if(S["font-scale"]&&(M=i.parseObjectValue(S["font-scale"],v,"font-scale",Lr),!M))return null;let A=null;if(S["text-font"]&&(A=i.parseObjectValue(S["text-font"],v,"text-font",qe(Ji)),!A))return null;let b=null;if(S["text-color"]&&(b=i.parseObjectValue(S["text-color"],v,"text-color",Si),!b))return null;const P=g[g.length-1];P.scale=M,P.font=A,P.textColor=b}else{const M=i.parse(n[v],v,mi);if(!M)return null;const A=M.type.kind;if(A!=="string"&&A!=="value"&&A!=="null"&&A!=="resolvedImage")return i.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");h=!0,g.push({content:M,scale:null,font:null,textColor:null})}}return new la(g)}evaluate(n){return new Nr(this.sections.map(i=>{const d=i.content.evaluate(n);return Ai(d)===sn?new Ar("",d,null,null,null):new Ar(Zi(d),null,i.scale?i.scale.evaluate(n):null,i.font?i.font.evaluate(n).join(","):null,i.textColor?i.textColor.evaluate(n):null)}))}eachChild(n){for(const i of this.sections)n(i.content),i.scale&&n(i.scale),i.font&&n(i.font),i.textColor&&n(i.textColor)}outputDefined(){return!1}serialize(){const n=["format"];for(const i of this.sections){n.push(i.content.serialize());const d={};i.scale&&(d["font-scale"]=i.scale.serialize()),i.font&&(d["text-font"]=i.font.serialize()),i.textColor&&(d["text-color"]=i.textColor.serialize()),n.push(d)}return n}}class da{constructor(n,i,d,g){this._imageWarnHistory={},this.type=sn,this.inputPrimary=n,this.inputSecondary=i,this.inputPrimaryParams=d,this.inputSecondaryParams=g}static parse(n,i){if(n.length<2)return i.error("Expected two or more arguments.");let d=1;const g=[];function h(){if(d<n.length){const S=i.parse(n[d],d++,Ji);return S?(g.push({image:S,options:void 0}),!0):(i.error(g.length?"Secondary image variant is not a string.":"No image name provided."),!1)}return!0}function v(){if(d<n.length){if((S=n[d])===null||typeof S!="object"||Array.isArray(S))return!0;const M=n[d].params,A=i.concat(d);if(!M)return d++,!0;if(typeof M!="object"||M.constructor!==Object)return A.error('Image options "params" should be an object'),!1;const b={},P=A.concat(void 0,"params");for(const $ in M){if(!$)return P.error("Image parameter name should be non-empty"),!1;const T=P.concat(void 0,$).parse(M[$],void 0,Si,void 0,{typeAnnotation:"coerce"});if(!T)return!1;b[$]=T}return g[g.length-1].options=b,d++,!0}var S;return!0}for(let S=0;S<2;S++)if(!h()||!v())return;return new da(g[0].image,g[1]?g[1].image:void 0,g[0].options,g[1]?g[1].options:void 0)}evaluateParams(n,i){const d={};if(i){for(const g in i)if(i[g])try{const h=i[g].evaluate(n),v=`Ignoring image parameter "${g}" with semi-transparent color ${h.toString()}`;if(h.a!==1){this._imageWarnHistory[v]||(console.warn(v),this._imageWarnHistory[v]=!0);continue}d[g]=h}catch(h){continue}if(Object.keys(d).length!==0)return{params:d}}}evaluate(n){const i=_i.build(this.inputPrimary.evaluate(n),this.inputSecondary?this.inputSecondary.evaluate(n):void 0,this.inputPrimaryParams?this.evaluateParams(n,this.inputPrimaryParams):void 0,this.inputSecondaryParams?this.evaluateParams(n,this.inputSecondaryParams):void 0);return i&&n.availableImages&&(i.available=n.availableImages.indexOf(i.namePrimary)>-1,i.nameSecondary&&i.available&&n.availableImages&&(i.available=n.availableImages.indexOf(i.nameSecondary)>-1)),i}eachChild(n){if(n(this.inputPrimary),this.inputPrimaryParams)for(const i in this.inputPrimaryParams)this.inputPrimaryParams[i]&&n(this.inputPrimaryParams[i]);if(this.inputSecondary&&(n(this.inputSecondary),this.inputSecondaryParams))for(const i in this.inputSecondaryParams)this.inputSecondaryParams[i]&&n(this.inputSecondaryParams[i])}outputDefined(){return!1}serializeParams(n){const i={};if(n){for(const d in n)n[d]&&(i[d]=n[d].serialize());return{params:i}}}serialize(){const n=["image",this.inputPrimary.serialize()];return this.inputPrimaryParams&&n.push(this.serializeParams(this.inputPrimaryParams)),this.inputSecondary&&(n.push(this.inputSecondary.serialize()),this.inputSecondaryParams&&n.push(this.serializeParams(this.inputSecondaryParams))),n}}function ma(u){return u instanceof Number?"number":u instanceof String?"string":u instanceof Boolean?"boolean":Array.isArray(u)?"array":u===null?"null":typeof u}const ba={"to-boolean":zr,"to-color":Si,"to-number":Lr,"to-string":Ji};class Sa{constructor(n,i){this.type=n,this.args=i}static parse(n,i){if(n.length<2)return i.error("Expected at least one argument.");const d=n[0],g=[];let h=_o;if(d==="to-array"){if(!Array.isArray(n[1]))return null;const v=n[1].length;if(i.expectedType){if(i.expectedType.kind!=="array")return i.error(`Expected ${i.expectedType.kind} but found array.`);h=qe(i.expectedType.itemType,v)}else{if(!(v>0&&Ao(n[1][0])))return null;h=qe(Ai(n[1][0]),v)}for(let S=0;S<v;S++){const M=n[1][S];let A;if(ma(M)==="array")A=i.parse(M,void 0,h.itemType);else{const b=ma(M);if(b!==h.itemType.kind)return i.error(`Expected ${h.itemType.kind} but found ${b}.`);A=i.registry.literal.parse(["literal",M===void 0?null:M],i)}if(!A)return null;g.push(A)}}else{if((d==="to-boolean"||d==="to-string")&&n.length!==2)return i.error("Expected one argument.");h=ba[d];for(let v=1;v<n.length;v++){const S=i.parse(n[v],v,mi);if(!S)return null;g.push(S)}}return new Sa(h,g)}evaluate(n){if(this.type.kind==="boolean")return!!this.args[0].evaluate(n);if(this.type.kind==="color"){let i,d;for(const g of this.args){if(i=g.evaluate(n),d=null,i instanceof _e)return i;if(typeof i=="string"){const h=n.parseColor(i);if(h)return h}else if(Array.isArray(i)&&(d=i.length<3||i.length>4?`Invalid rbga value ${JSON.stringify(i)}: expected an array containing either three or four numeric values.`:Fi(i[0],i[1],i[2],i[3]),!d))return new _e(i[0]/255,i[1]/255,i[2]/255,i[3])}throw new Xi(d||`Could not parse color from value '${typeof i=="string"?i:String(JSON.stringify(i))}'`)}if(this.type.kind==="number"){let i=null;for(const d of this.args){if(i=d.evaluate(n),i===null)return 0;const g=Number(i);if(!isNaN(g))return g}throw new Xi(`Could not convert ${JSON.stringify(i)} to number.`)}return this.type.kind==="formatted"?Nr.fromString(Zi(this.args[0].evaluate(n))):this.type.kind==="resolvedImage"?_i.build(Zi(this.args[0].evaluate(n))):this.type.kind==="array"?this.args.map(i=>i.evaluate(n)):Zi(this.args[0].evaluate(n))}eachChild(n){this.args.forEach(n)}outputDefined(){return this.args.every(n=>n.outputDefined())}serialize(){if(this.type.kind==="formatted")return new la([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if(this.type.kind==="resolvedImage")return new da(this.args[0]).serialize();const n=this.type.kind==="array"?[]:[`to-${this.type.kind}`];return this.eachChild(i=>{n.push(i.serialize())}),n}}const wa=["Unknown","Point","LineString","Polygon"];class Ua{constructor(n,i){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null,this.featureTileCoord=null,this.featureDistanceData=null,this.scope=n,this.options=i}id(){return this.feature&&this.feature.id!==void 0?this.feature.id:null}geometryType(){return this.feature?typeof this.feature.type=="number"?wa[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}measureLight(n){return this.globals.brightness||0}distanceFromCenter(){if(this.featureTileCoord&&this.featureDistanceData){const n=this.featureDistanceData.center,i=this.featureDistanceData.scale,{x:d,y:g}=this.featureTileCoord;return this.featureDistanceData.bearing[0]*(d*i-n[0])+this.featureDistanceData.bearing[1]*(g*i-n[1])}return 0}parseColor(n){let i=this._parseColorCache[n];return i||(i=this._parseColorCache[n]=_e.parse(n)),i}getConfig(n){return this.options?this.options.get(n):null}}class ga{constructor(n,i,d,g,h){this.name=n,this.type=i,this._evaluate=d,this.args=g,this._overloadIndex=h}evaluate(n){if(!this._evaluate){const i=ga.definitions[this.name];this._evaluate=Array.isArray(i)?i[2]:i.overloads[this._overloadIndex][1]}return this._evaluate(n,this.args)}eachChild(n){this.args.forEach(n)}outputDefined(){return!1}serialize(){return[this.name].concat(this.args.map(n=>n.serialize()))}static parse(n,i){const d=n[0],g=ga.definitions[d];if(!g)return i.error(`Unknown expression "${d}". If you wanted a literal array, use ["literal", [...]].`,0);const h=Array.isArray(g)?g[0]:g.type,v=Array.isArray(g)?[[g[1],g[2]]]:g.overloads,S=[];let M=null,A=-1;for(const[b,P]of v){if(Array.isArray(b)&&b.length!==n.length-1)continue;S.push(b),A++,M=new ac(i.registry,i.path,null,i.scope,void 0,i._scope,i.options);const $=[];let T=!1;for(let O=1;O<n.length;O++){const N=n[O],W=Array.isArray(b)?b[O-1]:b.type,J=M.parse(N,1+$.length,W);if(!J){T=!0;break}$.push(J)}if(!T)if(Array.isArray(b)&&b.length!==$.length)M.error(`Expected ${b.length} arguments, but found ${$.length} instead.`);else{for(let O=0;O<$.length;O++){const N=Array.isArray(b)?b[O]:b.type,W=$[O];M.concat(O+1).checkSubtype(N,W.type)}if(M.errors.length===0)return new ga(d,h,P,$,A)}}if(S.length===1)i.errors.push(...M.errors);else{const b=(S.length?S:v.map(([$])=>$)).map(Ts).join(" | "),P=[];for(let $=1;$<n.length;$++){const T=i.parse(n[$],1+P.length);if(!T)return null;P.push(Ce(T.type))}i.error(`Expected arguments of type ${b}, but found (${P.join(", ")}) instead.`)}return null}static register(n,i){ga.definitions=i;for(const d in i)n[d]=ga}}function Ts(u){return Array.isArray(u)?`(${u.map(Ce).join(", ")})`:`(${Ce(u.type)}...)`}class Ms{constructor(n,i,d){this.type=Xo,this.locale=d,this.caseSensitive=n,this.diacriticSensitive=i}static parse(n,i){if(n.length!==2)return i.error("Expected one argument.");const d=n[1];if(typeof d!="object"||Array.isArray(d))return i.error("Collator options argument must be an object.");const g=d["case-sensitive"]===void 0?i.parse(!1,1,zr):i.parseObjectValue(d["case-sensitive"],1,"case-sensitive",zr);if(!g)return null;const h=d["diacritic-sensitive"]===void 0?i.parse(!1,1,zr):i.parseObjectValue(d["diacritic-sensitive"],1,"diacritic-sensitive",zr);if(!h)return null;let v=null;return d.locale&&(v=i.parseObjectValue(d.locale,1,"locale",Ji),!v)?null:new Ms(g,h,v)}evaluate(n){return new ir(this.caseSensitive.evaluate(n),this.diacriticSensitive.evaluate(n),this.locale?this.locale.evaluate(n):null)}eachChild(n){n(this.caseSensitive),n(this.diacriticSensitive),this.locale&&n(this.locale)}outputDefined(){return!1}serialize(){const n={};return n["case-sensitive"]=this.caseSensitive.serialize(),n["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(n.locale=this.locale.serialize()),["collator",n]}}function ms(u,n,i=0,d=u.length-1,g=xl){for(;d>i;){if(d-i>600){const M=d-i+1,A=n-i+1,b=Math.log(M),P=.5*Math.exp(2*b/3),$=.5*Math.sqrt(b*P*(M-P)/M)*(A-M/2<0?-1:1);ms(u,n,Math.max(i,Math.floor(n-A*P/M+$)),Math.min(d,Math.floor(n+(M-A)*P/M+$)),g)}const h=u[n];let v=i,S=d;for($a(u,i,n),g(u[d],h)>0&&$a(u,i,d);v<S;){for($a(u,v,S),v++,S--;g(u[v],h)<0;)v++;for(;g(u[S],h)>0;)S--}g(u[i],h)===0?$a(u,i,S):(S++,$a(u,S,d)),S<=n&&(i=S+1),n<=S&&(d=S-1)}}function $a(u,n,i){const d=u[n];u[n]=u[i],u[i]=d}function xl(u,n){return u<n?-1:u>n?1:0}function hl(u){let n=0;for(let i,d,g=0,h=u.length,v=h-1;g<h;v=g++)i=u[g],d=u[v],n+=(d.x-i.x)*(i.y+d.y);return n}function Hs(u,n){u[0]=Math.min(u[0],n[0]),u[1]=Math.min(u[1],n[1]),u[2]=Math.max(u[2],n[0]),u[3]=Math.max(u[3],n[1])}function Rl(u,n){return!(u[0]<=n[0]||u[2]>=n[2]||u[1]<=n[1]||u[3]>=n[3])}function Ql(u,n,i){const d=u[0]-n[0],g=u[1]-n[1],h=u[0]-i[0],v=u[1]-i[1];return d*v-h*g==0&&d*h<=0&&g*v<=0}function xa(u,n,i=!1){let d=!1;for(let S=0,M=n.length;S<M;S++){const A=n[S];for(let b=0,P=A.length,$=P-1;b<P;$=b++){const T=A[$],O=A[b];if(Ql(u,T,O))return i;(h=T)[1]>(g=u)[1]!=(v=O)[1]>g[1]&&g[0]<(v[0]-h[0])*(g[1]-h[1])/(v[1]-h[1])+h[0]&&(d=!d)}}var g,h,v;return d}function Wa(u,n,i,d){const g=d[0]-i[0],h=d[1]-i[1],v=(u[0]-i[0])*h-g*(u[1]-i[1]),S=(n[0]-i[0])*h-g*(n[1]-i[1]);return v>0&&S<0||v<0&&S>0}function va(u,n,i,d){return(g=[d[0]-i[0],d[1]-i[1]])[0]*(h=[n[0]-u[0],n[1]-u[1]])[1]-g[1]*h[0]!=0&&!(!Wa(u,n,i,d)||!Wa(i,d,u,n));var g,h}const aa=8192;function fs(u,n){const i=(180+u[0])/360,d=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+u[1]*Math.PI/360)))/360,g=Math.pow(2,n.z);return[Math.round(i*g*aa),Math.round(d*g*aa)]}function Fs(u,n){for(let i=0;i<n.length;i++)if(xa(u,n[i]))return!0;return!1}function Nl(u,n,i){for(const d of i)for(let g=0,h=d.length,v=h-1;g<h;v=g++)if(va(u,n,d[v],d[g]))return!0;return!1}function ec(u,n){for(let i=0;i<u.length;++i)if(!xa(u[i],n))return!1;for(let i=0;i<u.length-1;++i)if(Nl(u[i],u[i+1],n))return!1;return!0}function zc(u,n){for(let i=0;i<n.length;i++)if(ec(u,n[i]))return!0;return!1}function Cl(u,n,i){const d=[];for(let g=0;g<u.length;g++){const h=[];for(let v=0;v<u[g].length;v++){const S=fs(u[g][v],i);Hs(n,S),h.push(S)}d.push(h)}return d}function jl(u,n,i){const d=[];for(let g=0;g<u.length;g++){const h=Cl(u[g],n,i);d.push(h)}return d}function ia(u,n,i,d){if(u[0]<i[0]||u[0]>i[2]){const g=.5*d;let h=u[0]-i[0]>g?-d:i[0]-u[0]>g?d:0;h===0&&(h=u[0]-i[2]>g?-d:i[2]-u[0]>g?d:0),u[0]+=h}Hs(n,u)}function jo(u,n,i,d){const g=Math.pow(2,d.z)*aa,h=[d.x*aa,d.y*aa],v=[];if(!u)return v;for(const S of u)for(const M of S){const A=[M.x+h[0],M.y+h[1]];ia(A,n,i,g),v.push(A)}return v}function su(u,n,i,d){const g=Math.pow(2,d.z)*aa,h=[d.x*aa,d.y*aa],v=[];if(!u)return v;for(const M of u){const A=[];for(const b of M){const P=[b.x+h[0],b.y+h[1]];Hs(n,P),A.push(P)}v.push(A)}if(n[2]-n[0]<=g/2){(S=n)[0]=S[1]=1/0,S[2]=S[3]=-1/0;for(const M of v)for(const A of M)ia(A,n,i,g)}var S;return v}class ea{constructor(n,i){this.type=zr,this.geojson=n,this.geometries=i}static parse(n,i){if(n.length!==2)return i.error(`'within' expression requires exactly one argument, but found ${n.length-1} instead.`);if(Ao(n[1])){const d=n[1];if(d.type==="FeatureCollection")for(let g=0;g<d.features.length;++g){const h=d.features[g].geometry.type;if(h==="Polygon"||h==="MultiPolygon")return new ea(d,d.features[g].geometry)}else if(d.type==="Feature"){const g=d.geometry.type;if(g==="Polygon"||g==="MultiPolygon")return new ea(d,d.geometry)}else if(d.type==="Polygon"||d.type==="MultiPolygon")return new ea(d,d)}return i.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(n){if(n.geometry()!=null&&n.canonicalID()!=null){if(n.geometryType()==="Point")return function(i,d){const g=[1/0,1/0,-1/0,-1/0],h=[1/0,1/0,-1/0,-1/0],v=i.canonicalID();if(!v)return!1;if(d.type==="Polygon"){const S=Cl(d.coordinates,h,v),M=jo(i.geometry(),g,h,v);if(!Rl(g,h))return!1;for(const A of M)if(!xa(A,S))return!1}if(d.type==="MultiPolygon"){const S=jl(d.coordinates,h,v),M=jo(i.geometry(),g,h,v);if(!Rl(g,h))return!1;for(const A of M)if(!Fs(A,S))return!1}return!0}(n,this.geometries);if(n.geometryType()==="LineString")return function(i,d){const g=[1/0,1/0,-1/0,-1/0],h=[1/0,1/0,-1/0,-1/0],v=i.canonicalID();if(!v)return!1;if(d.type==="Polygon"){const S=Cl(d.coordinates,h,v),M=su(i.geometry(),g,h,v);if(!Rl(g,h))return!1;for(const A of M)if(!ec(A,S))return!1}if(d.type==="MultiPolygon"){const S=jl(d.coordinates,h,v),M=su(i.geometry(),g,h,v);if(!Rl(g,h))return!1;for(const A of M)if(!zc(A,S))return!1}return!0}(n,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}serialize(){return["within",this.geojson]}}const tc={kilometers:1,miles:1e3/1609.344,nauticalmiles:1e3/1852,meters:1e3,metres:1e3,yards:1e3/.9144,feet:1e3/.3048,inches:1e3/.0254},Jc=1/298.257223563,sa=Jc*(2-Jc),yc=Math.PI/180;class _c{static fromTile(n,i,d){const g=Math.PI*(1-2*(n+.5)/Math.pow(2,i)),h=Math.atan(.5*(Math.exp(g)-Math.exp(-g)))/yc;return new _c(h,d)}static get units(){return tc}constructor(n,i){if(n===void 0)throw new Error("No latitude given.");if(i&&!tc[i])throw new Error(`Unknown unit ${i}. Use one of: ${Object.keys(tc).join(", ")}`);const d=6378.137*yc*(i?tc[i]:1),g=Math.cos(n*yc),h=1/(1-sa*(1-g*g)),v=Math.sqrt(h);this.kx=d*v*g,this.ky=d*v*h*(1-sa)}distance(n,i){const d=nc(n[0]-i[0])*this.kx,g=(n[1]-i[1])*this.ky;return Math.sqrt(d*d+g*g)}bearing(n,i){const d=nc(i[0]-n[0])*this.kx;return Math.atan2(d,(i[1]-n[1])*this.ky)/yc}destination(n,i,d){const g=d*yc;return this.offset(n,Math.sin(g)*i,Math.cos(g)*i)}offset(n,i,d){return[n[0]+i/this.kx,n[1]+d/this.ky]}lineDistance(n){let i=0;for(let d=0;d<n.length-1;d++)i+=this.distance(n[d],n[d+1]);return i}area(n){let i=0;for(let d=0;d<n.length;d++){const g=n[d];for(let h=0,v=g.length,S=v-1;h<v;S=h++)i+=nc(g[h][0]-g[S][0])*(g[h][1]+g[S][1])*(d?-1:1)}return Math.abs(i)/2*this.kx*this.ky}along(n,i){let d=0;if(i<=0)return n[0];for(let g=0;g<n.length-1;g++){const h=n[g],v=n[g+1],S=this.distance(h,v);if(d+=S,d>i)return hd(h,v,(i-(d-S))/S)}return n[n.length-1]}pointToSegmentDistance(n,i,d){let[g,h]=i,v=nc(d[0]-g)*this.kx,S=(d[1]-h)*this.ky;if(v!==0||S!==0){const M=(nc(n[0]-g)*this.kx*v+(n[1]-h)*this.ky*S)/(v*v+S*S);M>1?(g=d[0],h=d[1]):M>0&&(g+=v/this.kx*M,h+=S/this.ky*M)}return v=nc(n[0]-g)*this.kx,S=(n[1]-h)*this.ky,Math.sqrt(v*v+S*S)}pointOnLine(n,i){let d=1/0,g=n[0][0],h=n[0][1],v=0,S=0;for(let M=0;M<n.length-1;M++){let A=n[M][0],b=n[M][1],P=nc(n[M+1][0]-A)*this.kx,$=(n[M+1][1]-b)*this.ky,T=0;P===0&&$===0||(T=(nc(i[0]-A)*this.kx*P+(i[1]-b)*this.ky*$)/(P*P+$*$),T>1?(A=n[M+1][0],b=n[M+1][1]):T>0&&(A+=P/this.kx*T,b+=$/this.ky*T)),P=nc(i[0]-A)*this.kx,$=(i[1]-b)*this.ky;const O=P*P+$*$;O<d&&(d=O,g=A,h=b,v=M,S=T)}return{point:[g,h],index:v,t:Math.max(0,Math.min(1,S))}}lineSlice(n,i,d){let g=this.pointOnLine(d,n),h=this.pointOnLine(d,i);if(g.index>h.index||g.index===h.index&&g.t>h.t){const A=g;g=h,h=A}const v=[g.point],S=g.index+1,M=h.index;!Qc(d[S],v[0])&&S<=M&&v.push(d[S]);for(let A=S+1;A<=M;A++)v.push(d[A]);return Qc(d[M],h.point)||v.push(h.point),v}lineSliceAlong(n,i,d){let g=0;const h=[];for(let v=0;v<d.length-1;v++){const S=d[v],M=d[v+1],A=this.distance(S,M);if(g+=A,g>n&&h.length===0&&h.push(hd(S,M,(n-(g-A))/A)),g>=i)return h.push(hd(S,M,(i-(g-A))/A)),h;g>n&&h.push(M)}return h}bufferPoint(n,i){const d=i/this.ky,g=i/this.kx;return[n[0]-g,n[1]-d,n[0]+g,n[1]+d]}bufferBBox(n,i){const d=i/this.ky,g=i/this.kx;return[n[0]-g,n[1]-d,n[2]+g,n[3]+d]}insideBBox(n,i){return nc(n[0]-i[0])>=0&&nc(n[0]-i[2])<=0&&n[1]>=i[1]&&n[1]<=i[3]}}function Qc(u,n){return u[0]===n[0]&&u[1]===n[1]}function hd(u,n,i){const d=nc(n[0]-u[0]);return[u[0]+d*i,u[1]+(n[1]-u[1])*i]}function nc(u){for(;u<-180;)u+=360;for(;u>180;)u-=360;return u}class pl{constructor(n=[],i=(d,g)=>d<g?-1:d>g?1:0){if(this.data=n,this.length=this.data.length,this.compare=i,this.length>0)for(let d=(this.length>>1)-1;d>=0;d--)this._down(d)}push(n){this.data.push(n),this._up(this.length++)}pop(){if(this.length===0)return;const n=this.data[0],i=this.data.pop();return--this.length>0&&(this.data[0]=i,this._down(0)),n}peek(){return this.data[0]}_up(n){const{data:i,compare:d}=this,g=i[n];for(;n>0;){const h=n-1>>1,v=i[h];if(d(g,v)>=0)break;i[n]=v,n=h}i[n]=g}_down(n){const{data:i,compare:d}=this,g=this.length>>1,h=i[n];for(;n<g;){let v=1+(n<<1);const S=v+1;if(S<this.length&&d(i[S],i[v])<0&&(v=S),d(i[v],h)>=0)break;i[n]=i[v],n=v}i[n]=h}}var ji=8192;function ju(u,n){return n.dist-u.dist}const pd=100,lu=50;function an(u){const n=[1/0,1/0,-1/0,-1/0];if(n.length!==u.length)return!1;for(let i=0;i<n.length;i++)if(n[i]!==u[i])return!1;return!0}function jn(u){return u[1]-u[0]+1}function Jn(u,n){const i=u[1]>=u[0]&&u[1]<n;return i||console.warn("Distance Expression: Index is out of range"),i}function pr(u,n){if(u[0]>u[1])return[null,null];const i=jn(u);if(n){if(i===2)return[u,null];const d=Math.floor(i/2);return[[u[0],u[0]+d],[u[0]+d,u[1]]]}{if(i===1)return[u,null];const d=Math.floor(i/2)-1;return[[u[0],u[0]+d],[u[0]+d+1,u[1]]]}}function Qr(u,n){const i=[1/0,1/0,-1/0,-1/0];if(!Jn(n,u.length))return i;for(let d=n[0];d<=n[1];++d)Hs(i,u[d]);return i}function ro(u){const n=[1/0,1/0,-1/0,-1/0];for(let i=0;i<u.length;++i)for(let d=0;d<u[i].length;++d)Hs(n,u[i][d]);return n}function vo(u,n,i){if(an(u)||an(n))return NaN;let d=0,g=0;return u[2]<n[0]&&(d=n[0]-u[2]),u[0]>n[2]&&(d=u[0]-n[2]),u[1]>n[3]&&(g=u[1]-n[3]),u[3]<n[1]&&(g=n[1]-u[3]),i.distance([0,0],[d,g])}function no(u){return 360*u-180}function Oo(u){return 360/Math.PI*Math.atan(Math.exp((180-360*u)*Math.PI/180))-90}function co(u,n){const i=Math.pow(2,n.z),d=(u.y/ji+n.y)/i;return[no((u.x/ji+n.x)/i),Oo(d)]}function ao(u,n){const i=[];for(let d=0;d<u.length;++d)i.push(co(u[d],n));return i}function Fo(u,n,i){const d=i.pointOnLine(n,u).point;return i.distance(u,d)}function Vo(u,n,i,d,g){const h=i.slice(d[0],d[1]+1);let v=1/0;for(let S=n[0];S<=n[1];++S)if((v=Math.min(v,Fo(u[S],h,g)))===0)return 0;return v}function ta(u,n,i,d,g){const h=Math.min(g.pointToSegmentDistance(u,i,d),g.pointToSegmentDistance(n,i,d)),v=Math.min(g.pointToSegmentDistance(i,u,n),g.pointToSegmentDistance(d,u,n));return Math.min(h,v)}function Xa(u,n,i,d,g){if(!Jn(n,u.length)||!Jn(d,i.length))return NaN;let h=1/0;for(let v=n[0];v<n[1];++v)for(let S=d[0];S<d[1];++S){if(va(u[v],u[v+1],i[S],i[S+1]))return 0;h=Math.min(h,ta(u[v],u[v+1],i[S],i[S+1],g))}return h}function fa(u,n,i,d,g){if(!Jn(n,u.length)||!Jn(d,i.length))return NaN;let h=1/0;for(let v=n[0];v<=n[1];++v)for(let S=d[0];S<=d[1];++S)if((h=Math.min(h,g.distance(u[v],i[S])))===0)return h;return h}function Oa(u,n,i){if(xa(u,n,!0))return 0;let d=1/0;for(const g of n){const h=g.length;if(h<2)return console.warn("Distance Expression: Invalid polygon!"),NaN;if(g[0]!==g[h-1]&&(d=Math.min(d,i.pointToSegmentDistance(u,g[h-1],g[0])))===0||(d=Math.min(d,Fo(u,g,i)))===0)return d}return d}function Ya(u,n,i,d){if(!Jn(n,u.length))return NaN;for(let h=n[0];h<=n[1];++h)if(xa(u[h],i,!0))return 0;let g=1/0;for(let h=n[0];h<n[1];++h)for(const v of i)for(let S=0,M=v.length,A=M-1;S<M;A=S++){if(va(u[h],u[h+1],v[A],v[S]))return 0;g=Math.min(g,ta(u[h],u[h+1],v[A],v[S],d))}return g}function Ma(u,n){for(const i of u)for(let d=0;d<=i.length-1;++d)if(xa(i[d],n,!0))return!0;return!1}function qa(u,n,i,d=1/0){const g=ro(u),h=ro(n);if(d!==1/0&&vo(g,h,i)>=d)return d;if(Rl(g,h)){if(Ma(u,n))return 0}else if(Ma(n,u))return 0;let v=d;for(const S of u)for(let M=0,A=S.length,b=A-1;M<A;b=M++)for(const P of n)for(let $=0,T=P.length,O=T-1;$<T;O=$++){if(va(S[b],S[M],P[O],P[$]))return 0;v=Math.min(v,ta(S[b],S[M],P[O],P[$],i))}return v}function Fa(u,n,i,d,g,h,v){if(h===null||v===null)return;const S=vo(Qr(d,h),Qr(g,v),i);S<n&&u.push({dist:S,range1:h,range2:v})}function is(u,n,i,d,g=1/0){let h=Math.min(d.distance(u[0],i[0][0]),g);if(h===0)return h;const v=new pl([{dist:0,range1:[0,u.length-1],range2:[0,0]}],ju),S=n?lu:pd,M=ro(i);for(;v.length;){const A=v.pop();if(A.dist>=h)continue;const b=A.range1;if(jn(b)<=S){if(!Jn(b,u.length))return NaN;if(n){const P=Ya(u,b,i,d);if((h=Math.min(h,P))===0)return h}else for(let P=b[0];P<=b[1];++P){const $=Oa(u[P],i,d);if((h=Math.min(h,$))===0)return h}}else{const P=pr(b,n);if(P[0]!==null){const $=vo(Qr(u,P[0]),M,d);$<h&&v.push({dist:$,range1:P[0],range2:[0,0]})}if(P[1]!==null){const $=vo(Qr(u,P[1]),M,d);$<h&&v.push({dist:$,range1:P[1],range2:[0,0]})}}}return h}function rs(u,n,i,d,g,h=1/0){let v=Math.min(h,g.distance(u[0],i[0]));if(v===0)return v;const S=new pl([{dist:0,range1:[0,u.length-1],range2:[0,i.length-1]}],ju),M=n?lu:pd,A=d?lu:pd;for(;S.length;){const b=S.pop();if(b.dist>=v)continue;const P=b.range1,$=b.range2;if(jn(P)<=M&&jn($)<=A){if(!Jn(P,u.length)||!Jn($,i.length))return NaN;if(n&&d?v=Math.min(v,Xa(u,P,i,$,g)):n||d?n&&!d?v=Math.min(v,Vo(i,$,u,P,g)):!n&&d&&(v=Math.min(v,Vo(u,P,i,$,g))):v=Math.min(v,fa(u,P,i,$,g)),v===0)return v}else{const T=pr(P,n),O=pr($,d);Fa(S,v,g,u,i,T[0],O[0]),Fa(S,v,g,u,i,T[0],O[1]),Fa(S,v,g,u,i,T[1],O[0]),Fa(S,v,g,u,i,T[1],O[1])}}return v}function ja(u,n,i,d,g=1/0){let h=g;const v=Qr(u,[0,u.length-1]);for(const S of i)if(!(h!==1/0&&vo(v,Qr(S,[0,S.length-1]),d)>=h)&&(h=Math.min(h,rs(u,n,S,!0,d,h)),h===0))return h;return h}function Ps(u,n,i,d,g=1/0){let h=g;const v=Qr(u,[0,u.length-1]);for(const S of i){if(h!==1/0&&vo(v,ro(S),d)>=h)continue;const M=is(u,n,S,d,h);if(isNaN(M))return M;if((h=Math.min(h,M))===0)return h}return h}function Vl(u){return u==="Point"||u==="MultiPoint"||u==="LineString"||u==="MultiLineString"||u==="Polygon"||u==="MultiPolygon"}class ml{constructor(n,i){this.type=Lr,this.geojson=n,this.geometries=i}static parse(n,i){if(n.length!==2)return i.error(`'distance' expression requires either one argument, but found ' ${n.length-1} instead.`);if(Ao(n[1])){const d=n[1];if(d.type==="FeatureCollection"){for(let g=0;g<d.features.length;++g)if(Vl(d.features[g].geometry.type))return new ml(d,d.features[g].geometry)}else if(d.type==="Feature"){if(Vl(d.geometry.type))return new ml(d,d.geometry)}else if(Vl(d.type))return new ml(d,d)}return i.error("'distance' expression needs to be an array with format ['Distance', GeoJSONObj].")}evaluate(n){const i=n.geometry(),d=n.canonicalID();if(i!=null&&d!=null){if(n.geometryType()==="Point")return function(g,h,v){const S=[];for(const A of g)for(const b of A)S.push(co(b,h));const M=new _c(S[0][1],"meters");return v.type==="Point"||v.type==="MultiPoint"||v.type==="LineString"?rs(S,!1,v.type==="Point"?[v.coordinates]:v.coordinates,v.type==="LineString",M):v.type==="MultiLineString"?ja(S,!1,v.coordinates,M):v.type==="Polygon"||v.type==="MultiPolygon"?Ps(S,!1,v.type==="Polygon"?[v.coordinates]:v.coordinates,M):null}(i,d,this.geometries);if(n.geometryType()==="LineString")return function(g,h,v){const S=[];for(const A of g){const b=[];for(const P of A)b.push(co(P,h));S.push(b)}const M=new _c(S[0][0][1],"meters");if(v.type==="Point"||v.type==="MultiPoint"||v.type==="LineString")return ja(v.type==="Point"?[v.coordinates]:v.coordinates,v.type==="LineString",S,M);if(v.type==="MultiLineString"){let A=1/0;for(let b=0;b<v.coordinates.length;b++){const P=ja(v.coordinates[b],!0,S,M,A);if(isNaN(P))return P;if((A=Math.min(A,P))===0)return A}return A}if(v.type==="Polygon"||v.type==="MultiPolygon"){let A=1/0;for(let b=0;b<S.length;b++){const P=Ps(S[b],!0,v.type==="Polygon"?[v.coordinates]:v.coordinates,M,A);if(isNaN(P))return P;if((A=Math.min(A,P))===0)return A}return A}return null}(i,d,this.geometries);if(n.geometryType()==="Polygon")return function(g,h,v){const S=[];for(const A of function(b,P){const $=b.length;if($<=1)return[b];const T=[];let O,N;for(let W=0;W<$;W++){const J=hl(b[W]);J!==0&&(b[W].area=Math.abs(J),N===void 0&&(N=J<0),N===J<0?(O&&T.push(O),O=[b[W]]):O.push(b[W]))}return O&&T.push(O),T}(g)){const b=[];for(let P=0;P<A.length;++P)b.push(ao(A[P],h));S.push(b)}const M=new _c(S[0][0][0][1],"meters");if(v.type==="Point"||v.type==="MultiPoint"||v.type==="LineString")return Ps(v.type==="Point"?[v.coordinates]:v.coordinates,v.type==="LineString",S,M);if(v.type==="MultiLineString"){let A=1/0;for(let b=0;b<v.coordinates.length;b++){const P=Ps(v.coordinates[b],!0,S,M,A);if(isNaN(P))return P;if((A=Math.min(A,P))===0)return A}return A}return v.type==="Polygon"||v.type==="MultiPolygon"?function(A,b,P){let $=1/0;for(const T of A)for(const O of b){const N=qa(T,O,P,$);if(isNaN(N))return N;if(($=Math.min($,N))===0)return $}return $}(v.type==="Polygon"?[v.coordinates]:v.coordinates,S,M):null}(i,d,this.geometries);console.warn("Distance Expression: currently only evaluates valid Point/LineString/Polygon geometries.")}else console.warn("Distance Expression: requirs valid feature and canonical information.");return null}eachChild(){}outputDefined(){return!0}serialize(){return["distance",this.geojson]}}function cu(u,n){switch(u){case"string":return Zi(n);case"number":return+n;case"boolean":return!!n;case"color":return _e.parse(n);case"formatted":return Nr.fromString(Zi(n));case"resolvedImage":return _i.build(Zi(n))}return n}function Vu(u,n,i,d){return d!==void 0&&(u=d*Math.round(u/d)),n!==void 0&&u<n&&(u=n),i!==void 0&&u>i&&(u=i),u}class Hl{constructor(n,i,d){this.type=n,this.key=i,this.scope=d}static parse(n,i){let d=i.expectedType;if(d==null&&(d=mi),n.length<2||n.length>3)return i.error("Invalid number of arguments for 'config' expression.");const g=i.parse(n[1],1);if(!(g instanceof li))return i.error("Key name of 'config' expression must be a string literal.");if(n.length>=3){const h=i.parse(n[2],2);return h instanceof li?new Hl(d,Zi(g.value),Zi(h.value)):i.error("Scope of 'config' expression must be a string literal.")}return new Hl(d,Zi(g.value))}evaluate(n){const i=[this.key,this.scope,n.scope].filter(Boolean).join(""),d=n.getConfig(i);if(!d)return null;const{type:g,value:h,values:v,minValue:S,maxValue:M,stepValue:A}=d,b=d.default.evaluate(n);let P=b;if(h){const $=n.scope;n.scope=($||"").split("").slice(1).join(""),P=h.evaluate(n),n.scope=$}return g&&(P=cu(g,P)),P===void 0||S===void 0&&M===void 0&&A===void 0||(typeof P=="number"?P=Vu(P,S,M,A):Array.isArray(P)&&(P=P.map($=>typeof $=="number"?Vu($,S,M,A):$))),h!==void 0&&P!==void 0&&v&&!v.includes(P)&&(P=b,g&&(P=cu(g,P))),(g&&g!==this.type||P!==void 0&&Ai(P)!==this.type)&&(P=cu(this.type.kind,P)),P}eachChild(){}outputDefined(){return!1}serialize(){const n=["config",this.key];return this.scope&&n.concat(this.key),n}}function Tl(u){if(u instanceof ga&&(u.name==="get"&&u.args.length===1||u.name==="feature-state"||u.name==="has"&&u.args.length===1||u.name==="properties"||u.name==="geometry-type"||u.name==="id"||/^filter-/.test(u.name))||u instanceof ea||u instanceof ml)return!1;let n=!0;return u.eachChild(i=>{n&&!Tl(i)&&(n=!1)}),n}function $l(u){if(u instanceof ga&&u.name==="feature-state")return!1;let n=!0;return u.eachChild(i=>{n&&!$l(i)&&(n=!1)}),n}function dc(u){if(u instanceof Hl)return new Set([u.key]);let n=new Set;return u.eachChild(i=>{n=new Set([...n,...dc(i)])}),n}function bc(u,n){if(u instanceof ga&&n.indexOf(u.name)>=0)return!1;let i=!0;return u.eachChild(d=>{i&&!bc(d,n)&&(i=!1)}),i}class rc{constructor(n,i){this.type=i.type,this.name=n,this.boundExpression=i}static parse(n,i){if(n.length!==2||typeof n[1]!="string")return i.error("'var' expression requires exactly one string literal argument.");const d=n[1];return i.scope.has(d)?new rc(d,i.scope.get(d)):i.error(`Unknown variable "${d}". Make sure "${d}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(n){return this.boundExpression.evaluate(n)}eachChild(){}outputDefined(){return!1}serialize(){return["var",this.name]}}class Ul{constructor(n,i=[],d,g=new Ri,h=[],v,S){this.registry=n,this.path=i,this.key=i.map(M=>typeof M=="string"?`['${M}']`:`[${M}]`).join(""),this.scope=g,this.errors=h,this.expectedType=d,this._scope=v,this.options=S}parse(n,i,d,g,h={}){return i||d?this.concat(i,null,d,g)._parse(n,h):this._parse(n,h)}parseObjectValue(n,i,d,g,h,v={}){return this.concat(i,d,g,h)._parse(n,v)}_parse(n,i){function d(g,h,v){return v==="assert"?new Po(h,[g]):v==="coerce"?new Sa(h,[g]):g}if(n!==null&&typeof n!="string"&&typeof n!="boolean"&&typeof n!="number"||(n=["literal",n]),Array.isArray(n)){if(n.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');const g=typeof n[0]=="string"?this.registry[n[0]]:void 0;if(g){let h=g.parse(n,this);if(!h)return null;if(this.expectedType){const v=this.expectedType,S=h.type;if(v.kind!=="string"&&v.kind!=="number"&&v.kind!=="boolean"&&v.kind!=="object"&&v.kind!=="array"||S.kind!=="value")if(v.kind!=="color"&&v.kind!=="formatted"&&v.kind!=="resolvedImage"||S.kind!=="value"&&S.kind!=="string"){if(this.checkSubtype(v,S))return null}else h=d(h,v,i.typeAnnotation||"coerce");else h=d(h,v,i.typeAnnotation||"assert")}if(!(h instanceof li)&&h.type.kind!=="resolvedImage"&&Nc(h)){const v=new Ua(this._scope,this.options);try{h=new li(h.type,h.evaluate(v))}catch(S){return this.error(S.message),null}}return h}return Sa.parse(["to-array",n],this)}return this.error(n===void 0?"'undefined' value invalid. Use null instead.":typeof n=="object"?'Bare objects invalid. Use ["literal", {...}] instead.':`Expected an array, but found ${typeof n} instead.`)}concat(n,i,d,g){let h=typeof n=="number"?this.path.concat(n):this.path;h=typeof i=="string"?h.concat(i):h;const v=g?this.scope.concat(g):this.scope;return new Ul(this.registry,h,d||null,v,this.errors,this._scope,this.options)}error(n,...i){const d=`${this.key}${i.map(g=>`[${g}]`).join("")}`;this.errors.push(new Or(d,n))}checkSubtype(n,i){const d=Fe(n,i);return d&&this.error(d),d}}var ac=Ul;function Nc(u){if(u instanceof rc)return Nc(u.boundExpression);if(u instanceof ga&&u.name==="error"||u instanceof Ms||u instanceof ea||u instanceof ml||u instanceof Hl)return!1;const n=u instanceof Sa||u instanceof Po;let i=!0;return u.eachChild(d=>{i=n?i&&Nc(d):i&&d instanceof li}),!!i&&Tl(u)&&bc(u,["zoom","heatmap-density","line-progress","raster-value","sky-radial-progress","accumulated","is-supported-script","pitch","distance-from-center","measure-light","raster-particle-speed"])}function sc(u,n){const i=u.length-1;let d,g,h=0,v=i,S=0;for(;h<=v;)if(S=Math.floor((h+v)/2),d=u[S],g=u[S+1],d<=n){if(S===i||n<g)return S;h=S+1}else{if(!(d>n))throw new Xi("Input is not a number.");v=S-1}return 0}class Ec{constructor(n,i,d){this.type=n,this.input=i,this.labels=[],this.outputs=[];for(const[g,h]of d)this.labels.push(g),this.outputs.push(h)}static parse(n,i){if(n.length-1<4)return i.error(`Expected at least 4 arguments, but found only ${n.length-1}.`);if((n.length-1)%2!=0)return i.error("Expected an even number of arguments.");const d=i.parse(n[1],1,Lr);if(!d)return null;const g=[];let h=null;i.expectedType&&i.expectedType.kind!=="value"&&(h=i.expectedType);for(let v=1;v<n.length;v+=2){const S=v===1?-1/0:n[v],M=n[v+1],A=v,b=v+1;if(typeof S!="number")return i.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',A);if(g.length&&g[g.length-1][0]>=S)return i.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',A);const P=i.parse(M,b,h);if(!P)return null;h=h||P.type,g.push([S,P])}return new Ec(h,d,g)}evaluate(n){const i=this.labels,d=this.outputs;if(i.length===1)return d[0].evaluate(n);const g=this.input.evaluate(n);if(g<=i[0])return d[0].evaluate(n);const h=i.length;return g>=i[h-1]?d[h-1].evaluate(n):d[sc(i,g)].evaluate(n)}eachChild(n){n(this.input);for(const i of this.outputs)n(i)}outputDefined(){return this.outputs.every(n=>n.outputDefined())}serialize(){const n=["step",this.input.serialize()];for(let i=0;i<this.labels.length;i++)i>0&&n.push(this.labels[i]),n.push(this.outputs[i].serialize());return n}}const Wl=.95047,Ja=1.08883,ep=4/29,jd=6/29,sh=3*jd*jd,ym=jd*jd*jd,Hu=Math.PI/180,Zs=180/Math.PI;function md(u){return u>ym?Math.pow(u,1/3):u/sh+ep}function lh(u){return u>jd?u*u*u:sh*(u-ep)}function uu(u){return 255*(u<=.0031308?12.92*u:1.055*Math.pow(u,1/2.4)-.055)}function xf(u){return(u/=255)<=.04045?u/12.92:Math.pow((u+.055)/1.055,2.4)}function Vd(u){const n=xf(u.r),i=xf(u.g),d=xf(u.b),g=md((.4124564*n+.3575761*i+.1804375*d)/Wl),h=md((.2126729*n+.7151522*i+.072175*d)/1);return{l:116*h-16,a:500*(g-h),b:200*(h-md((.0193339*n+.119192*i+.9503041*d)/Ja)),alpha:u.a}}function ch(u){let n=(u.l+16)/116,i=isNaN(u.a)?n:n+u.a/500,d=isNaN(u.b)?n:n-u.b/200;return n=1*lh(n),i=Wl*lh(i),d=Ja*lh(d),new _e(uu(3.2404542*i-1.5371385*n-.4985314*d),uu(-.969266*i+1.8760108*n+.041556*d),uu(.0556434*i-.2040259*n+1.0572252*d),u.alpha)}function Cf(u,n,i){const d=n-u;return u+i*(d>180||d<-180?d-360*Math.round(d/360):d)}const Uu={forward:Vd,reverse:ch,interpolate:function(u,n,i){return{l:Et(u.l,n.l,i),a:Et(u.a,n.a,i),b:Et(u.b,n.b,i),alpha:Et(u.alpha,n.alpha,i)}}},Hd={forward:function(u){const{l:n,a:i,b:d}=Vd(u),g=Math.atan2(d,i)*Zs;return{h:g<0?g+360:g,c:Math.sqrt(i*i+d*d),l:n,alpha:u.a}},reverse:function(u){const n=u.h*Hu,i=u.c;return ch({l:u.l,a:Math.cos(n)*i,b:Math.sin(n)*i,alpha:u.alpha})},interpolate:function(u,n,i){return{h:Cf(u.h,n.h,i),c:Et(u.c,n.c,i),l:Et(u.l,n.l,i),alpha:Et(u.alpha,n.alpha,i)}}};var du=Object.freeze({__proto__:null,hcl:Hd,lab:Uu});class xc{constructor(n,i,d,g,h,v){this.type=n,this.operator=i,this.interpolation=d,this.input=g,this.dynamicStops=h,this.labels=[],this.outputs=[];for(const[S,M]of v)this.labels.push(S),this.outputs.push(M)}static interpolationFactor(n,i,d,g){let h=0;if(n.name==="exponential")h=Sf(i,n.base,d,g);else if(n.name==="linear")h=Sf(i,1,d,g);else if(n.name==="cubic-bezier"){const v=n.controlPoints;h=new Ur(v[0],v[1],v[2],v[3]).solve(Sf(i,1,d,g))}return h}static parse(n,i){let[d,g,h,...v]=n;if(!Array.isArray(g)||g.length===0)return i.error("Expected an interpolation type expression.",1);if(g[0]==="linear")g={name:"linear"};else if(g[0]==="exponential"){const A=g[1];if(typeof A!="number")return i.error("Exponential interpolation requires a numeric base.",1,1);g={name:"exponential",base:A}}else{if(g[0]!=="cubic-bezier")return i.error(`Unknown interpolation type ${String(g[0])}`,1,0);{const A=g.slice(1);if(A.length!==4||A.some(b=>typeof b!="number"||b<0||b>1))return i.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);g={name:"cubic-bezier",controlPoints:A}}}if(n.length-1<3)return i.error(`Expected at least 3 arguments, but found only ${n.length-1}.`);if(n.length-1>3&&(n.length-1)%2!=0)return i.error("Expected an even number of arguments.");if(h=i.parse(h,2,Lr),!h)return null;const S=[];let M=null;if(d==="interpolate-hcl"||d==="interpolate-lab"?M=Si:i.expectedType&&i.expectedType.kind!=="value"&&(M=i.expectedType),n.length-1==3){const A=i.parse(v[0],3,mi);return A?new xc(M,d,g,h,A,S):null}for(let A=0;A<v.length;A+=2){const b=v[A],P=v[A+1],$=A+3,T=A+4;if(typeof b!="number")return i.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',$);if(S.length&&S[S.length-1][0]>=b)return i.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',$);const O=i.parse(P,T,M);if(!O)return null;M=M||O.type,S.push([b,O])}return M.kind==="number"||M.kind==="color"||M.kind==="array"&&M.itemType.kind==="number"&&typeof M.N=="number"?new xc(M,d,g,h,null,S):i.error(`Type ${Ce(M)} is not interpolatable.`)}evaluate(n){let i=this.labels,d=this.outputs;if(this.dynamicStops){const b=this.dynamicStops.evaluate(n);if(b.length%2!=0)throw new Xi("Expected an even number of arguments.");i=[],d=[];for(let P=0;P<b.length;P+=2){const $=b[P],T=new li(Lr,b[P+1]);if(typeof $!="number")throw new Xi('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.');if(i.length&&i[i.length-1]>=$)throw new Xi('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.');i.push($),d.push(T)}if(i.length===0)throw new Xi("Expected at least one input/output pair.")}if(i.length===1)return d[0].evaluate(n);const g=this.input.evaluate(n);if(g<=i[0])return d[0].evaluate(n);const h=i.length;if(g>=i[h-1])return d[h-1].evaluate(n);const v=sc(i,g),S=xc.interpolationFactor(this.interpolation,g,i[v],i[v+1]),M=d[v].evaluate(n),A=d[v+1].evaluate(n);return this.operator==="interpolate"?Qn[this.type.kind.toLowerCase()](M,A,S):this.operator==="interpolate-hcl"?Hd.reverse(Hd.interpolate(Hd.forward(M),Hd.forward(A),S)):Uu.reverse(Uu.interpolate(Uu.forward(M),Uu.forward(A),S))}eachChild(n){n(this.input);for(const i of this.outputs)n(i)}outputDefined(){return this.outputs.every(n=>n.outputDefined())}serialize(){let n;n=this.interpolation.name==="linear"?["linear"]:this.interpolation.name==="exponential"?this.interpolation.base===1?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);const i=[this.operator,n,this.input.serialize()];if(this.dynamicStops)i.push(this.dynamicStops.serialize());else for(let d=0;d<this.labels.length;d++)i.push(this.labels[d],this.outputs[d].serialize());return i}}function Sf(u,n,i,d){const g=d-i,h=u-i;return g===0?0:n===1?h/g:(Math.pow(n,h)-1)/(Math.pow(n,g)-1)}class Ud{constructor(n,i){this.type=n,this.args=i}static parse(n,i){if(n.length<2)return i.error("Expectected at least one argument.");let d=null;const g=i.expectedType;g&&g.kind!=="value"&&(d=g);const h=[];for(const S of n.slice(1)){const M=i.parse(S,1+h.length,d,void 0,{typeAnnotation:"omit"});if(!M)return null;d=d||M.type,h.push(M)}const v=g&&h.some(S=>Fe(g,S.type));return new Ud(v?mi:d,h)}evaluate(n){let i,d=null,g=0;for(const h of this.args){if(g++,d=h.evaluate(n),d&&d instanceof _i&&!d.available&&(i||(i=d),d=null,g===this.args.length))return i;if(d!==null)break}return d}eachChild(n){this.args.forEach(n)}outputDefined(){return this.args.every(n=>n.outputDefined())}serialize(){const n=["coalesce"];return this.eachChild(i=>{n.push(i.serialize())}),n}}class Wd{constructor(n,i){this.type=i.type,this.bindings=[].concat(n),this.result=i}evaluate(n){return this.result.evaluate(n)}eachChild(n){for(const i of this.bindings)n(i[1]);n(this.result)}static parse(n,i){if(n.length<4)return i.error(`Expected at least 3 arguments, but found ${n.length-1} instead.`);const d=[];for(let h=1;h<n.length-1;h+=2){const v=n[h];if(typeof v!="string")return i.error(`Expected string, but found ${typeof v} instead.`,h);if(/[^a-zA-Z0-9_]/.test(v))return i.error("Variable names must contain only alphanumeric characters or '_'.",h);const S=i.parse(n[h+1],h+1);if(!S)return null;d.push([v,S])}const g=i.parse(n[n.length-1],n.length-1,i.expectedType,d);return g?new Wd(d,g):null}outputDefined(){return this.result.outputDefined()}serialize(){const n=["let"];for(const[i,d]of this.bindings)n.push(i,d.serialize());return n.push(this.result.serialize()),n}}class uh{constructor(n,i,d){this.type=n,this.index=i,this.input=d}static parse(n,i){if(n.length!==3)return i.error(`Expected 2 arguments, but found ${n.length-1} instead.`);const d=i.parse(n[1],1,Lr),g=i.parse(n[2],2,qe(i.expectedType||mi));return d&&g?new uh(g.type.itemType,d,g):null}evaluate(n){const i=this.index.evaluate(n),d=this.input.evaluate(n);if(i<0)throw new Xi(`Array index out of bounds: ${i} < 0.`);if(i>d.length-1)throw new Xi(`Array index out of bounds: ${i} > ${d.length-1}.`);if(i===Math.floor(i))return d[i];const g=Math.floor(i),h=Math.ceil(i),v=d[g],S=d[h];if(typeof v!="number"||typeof S!="number")throw new Xi(`Cannot interpolate between non-number values at index ${i}.`);const M=i-g;return v*(1-M)+S*M}eachChild(n){n(this.index),n(this.input)}outputDefined(){return!1}serialize(){return["at",this.index.serialize(),this.input.serialize()]}}class dh{constructor(n,i){this.type=zr,this.needle=n,this.haystack=i}static parse(n,i){if(n.length!==3)return i.error(`Expected 2 arguments, but found ${n.length-1} instead.`);const d=i.parse(n[1],1,mi),g=i.parse(n[2],2,mi);return d&&g?Nt(d.type,[zr,Ji,Lr,_o,mi])?new dh(d,g):i.error(`Expected first argument to be of type boolean, string, number or null, but found ${Ce(d.type)} instead`):null}evaluate(n){const i=this.needle.evaluate(n),d=this.haystack.evaluate(n);if(d==null)return!1;if(!hn(i,["boolean","string","number","null"]))throw new Xi(`Expected first argument to be of type boolean, string, number or null, but found ${Ce(Ai(i))} instead.`);if(!hn(d,["string","array"]))throw new Xi(`Expected second argument to be of type array or string, but found ${Ce(Ai(d))} instead.`);return d.indexOf(i)>=0}eachChild(n){n(this.needle),n(this.haystack)}outputDefined(){return!0}serialize(){return["in",this.needle.serialize(),this.haystack.serialize()]}}class Gd{constructor(n,i,d){this.type=Lr,this.needle=n,this.haystack=i,this.fromIndex=d}static parse(n,i){if(n.length<=2||n.length>=5)return i.error(`Expected 3 or 4 arguments, but found ${n.length-1} instead.`);const d=i.parse(n[1],1,mi),g=i.parse(n[2],2,mi);if(!d||!g)return null;if(!Nt(d.type,[zr,Ji,Lr,_o,mi]))return i.error(`Expected first argument to be of type boolean, string, number or null, but found ${Ce(d.type)} instead`);if(n.length===4){const h=i.parse(n[3],3,Lr);return h?new Gd(d,g,h):null}return new Gd(d,g)}evaluate(n){const i=this.needle.evaluate(n),d=this.haystack.evaluate(n);if(!hn(i,["boolean","string","number","null"]))throw new Xi(`Expected first argument to be of type boolean, string, number or null, but found ${Ce(Ai(i))} instead.`);if(!hn(d,["string","array"]))throw new Xi(`Expected second argument to be of type array or string, but found ${Ce(Ai(d))} instead.`);if(this.fromIndex){const g=this.fromIndex.evaluate(n);return d.indexOf(i,g)}return d.indexOf(i)}eachChild(n){n(this.needle),n(this.haystack),this.fromIndex&&n(this.fromIndex)}outputDefined(){return!1}serialize(){if(this.fromIndex!=null&&this.fromIndex!==void 0){const n=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),n]}return["index-of",this.needle.serialize(),this.haystack.serialize()]}}class tp{constructor(n,i,d,g,h,v){this.inputType=n,this.type=i,this.input=d,this.cases=g,this.outputs=h,this.otherwise=v}static parse(n,i){if(n.length<5)return i.error(`Expected at least 4 arguments, but found only ${n.length-1}.`);if(n.length%2!=1)return i.error("Expected an even number of arguments.");let d,g;i.expectedType&&i.expectedType.kind!=="value"&&(g=i.expectedType);const h={},v=[];for(let A=2;A<n.length-1;A+=2){let b=n[A];const P=n[A+1];Array.isArray(b)||(b=[b]);const $=i.concat(A);if(b.length===0)return $.error("Expected at least one branch label.");for(const O of b){if(typeof O!="number"&&typeof O!="string")return $.error("Branch labels must be numbers or strings.");if(typeof O=="number"&&Math.abs(O)>Number.MAX_SAFE_INTEGER)return $.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if(typeof O=="number"&&Math.floor(O)!==O)return $.error("Numeric branch labels must be integer values.");if(d){if($.checkSubtype(d,Ai(O)))return null}else d=Ai(O);if(h[String(O)]!==void 0)return $.error("Branch labels must be unique.");h[String(O)]=v.length}const T=i.parse(P,A,g);if(!T)return null;g=g||T.type,v.push(T)}const S=i.parse(n[1],1,mi);if(!S)return null;const M=i.parse(n[n.length-1],n.length-1,g);return M?S.type.kind!=="value"&&i.concat(1).checkSubtype(d,S.type)?null:new tp(d,g,S,h,v,M):null}evaluate(n){const i=this.input.evaluate(n);return(Ai(i)===this.inputType&&this.outputs[this.cases[i]]||this.otherwise).evaluate(n)}eachChild(n){n(this.input),this.outputs.forEach(n),n(this.otherwise)}outputDefined(){return this.outputs.every(n=>n.outputDefined())&&this.otherwise.outputDefined()}serialize(){const n=["match",this.input.serialize()],i=Object.keys(this.cases).sort(),d=[],g={};for(const v of i){const S=g[this.cases[v]];S===void 0?(g[this.cases[v]]=d.length,d.push([this.cases[v],[v]])):d[S][1].push(v)}const h=v=>this.inputType.kind==="number"?Number(v):v;for(const[v,S]of d)n.push(S.length===1?h(S[0]):S.map(h)),n.push(this.outputs[v].serialize());return n.push(this.otherwise.serialize()),n}}class fu{constructor(n,i,d){this.type=n,this.branches=i,this.otherwise=d}static parse(n,i){if(n.length<4)return i.error(`Expected at least 3 arguments, but found only ${n.length-1}.`);if(n.length%2!=0)return i.error("Expected an odd number of arguments.");let d;i.expectedType&&i.expectedType.kind!=="value"&&(d=i.expectedType);const g=[];for(let v=1;v<n.length-1;v+=2){const S=i.parse(n[v],v,zr);if(!S)return null;const M=i.parse(n[v+1],v+1,d);if(!M)return null;g.push([S,M]),d=d||M.type}const h=i.parse(n[n.length-1],n.length-1,d);return h?new fu(d,g,h):null}evaluate(n){for(const[i,d]of this.branches)if(i.evaluate(n))return d.evaluate(n);return this.otherwise.evaluate(n)}eachChild(n){for(const[i,d]of this.branches)n(i),n(d);n(this.otherwise)}outputDefined(){return this.branches.every(([n,i])=>i.outputDefined())&&this.otherwise.outputDefined()}serialize(){const n=["case"];return this.eachChild(i=>{n.push(i.serialize())}),n}}class Kd{constructor(n,i,d,g){this.type=n,this.input=i,this.beginIndex=d,this.endIndex=g}static parse(n,i){if(n.length<=2||n.length>=5)return i.error(`Expected 3 or 4 arguments, but found ${n.length-1} instead.`);const d=i.parse(n[1],1,mi),g=i.parse(n[2],2,Lr);if(!d||!g)return null;if(!Nt(d.type,[qe(mi),Ji,mi]))return i.error(`Expected first argument to be of type array or string, but found ${Ce(d.type)} instead`);if(n.length===4){const h=i.parse(n[3],3,Lr);return h?new Kd(d.type,d,g,h):null}return new Kd(d.type,d,g)}evaluate(n){const i=this.input.evaluate(n),d=this.beginIndex.evaluate(n);if(!hn(i,["string","array"]))throw new Xi(`Expected first argument to be of type array or string, but found ${Ce(Ai(i))} instead.`);if(this.endIndex){const g=this.endIndex.evaluate(n);return i.slice(d,g)}return i.slice(d)}eachChild(n){n(this.input),n(this.beginIndex),this.endIndex&&n(this.endIndex)}outputDefined(){return!1}serialize(){if(this.endIndex!=null&&this.endIndex!==void 0){const n=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),n]}return["slice",this.input.serialize(),this.beginIndex.serialize()]}}function np(u,n){return u==="=="||u==="!="?n.kind==="boolean"||n.kind==="string"||n.kind==="number"||n.kind==="null"||n.kind==="value":n.kind==="string"||n.kind==="number"||n.kind==="value"}function fh(u,n,i,d){return d.compare(n,i)===0}function Wu(u,n,i){const d=u!=="=="&&u!=="!=";return class jT{constructor(h,v,S){this.type=zr,this.lhs=h,this.rhs=v,this.collator=S,this.hasUntypedArgument=h.type.kind==="value"||v.type.kind==="value"}static parse(h,v){if(h.length!==3&&h.length!==4)return v.error("Expected two or three arguments.");const S=h[0];let M=v.parse(h[1],1,mi);if(!M)return null;if(!np(S,M.type))return v.concat(1).error(`"${S}" comparisons are not supported for type '${Ce(M.type)}'.`);let A=v.parse(h[2],2,mi);if(!A)return null;if(!np(S,A.type))return v.concat(2).error(`"${S}" comparisons are not supported for type '${Ce(A.type)}'.`);if(M.type.kind!==A.type.kind&&M.type.kind!=="value"&&A.type.kind!=="value")return v.error(`Cannot compare types '${Ce(M.type)}' and '${Ce(A.type)}'.`);d&&(M.type.kind==="value"&&A.type.kind!=="value"?M=new Po(A.type,[M]):M.type.kind!=="value"&&A.type.kind==="value"&&(A=new Po(M.type,[A])));let b=null;if(h.length===4){if(M.type.kind!=="string"&&A.type.kind!=="string"&&M.type.kind!=="value"&&A.type.kind!=="value")return v.error("Cannot use collator to compare non-string types.");if(b=v.parse(h[3],3,Xo),!b)return null}return new jT(M,A,b)}evaluate(h){const v=this.lhs.evaluate(h),S=this.rhs.evaluate(h);if(d&&this.hasUntypedArgument){const M=Ai(v),A=Ai(S);if(M.kind!==A.kind||M.kind!=="string"&&M.kind!=="number")throw new Xi(`Expected arguments for "${u}" to be (string, string) or (number, number), but found (${M.kind}, ${A.kind}) instead.`)}if(this.collator&&!d&&this.hasUntypedArgument){const M=Ai(v),A=Ai(S);if(M.kind!=="string"||A.kind!=="string")return n(h,v,S)}return this.collator?i(h,v,S,this.collator.evaluate(h)):n(h,v,S)}eachChild(h){h(this.lhs),h(this.rhs),this.collator&&h(this.collator)}outputDefined(){return!0}serialize(){const h=[u];return this.eachChild(v=>{h.push(v.serialize())}),h}}}const wf=Wu("==",function(u,n,i){return n===i},fh),Ug=Wu("!=",function(u,n,i){return n!==i},function(u,n,i,d){return!fh(0,n,i,d)}),rp=Wu("<",function(u,n,i){return n<i},function(u,n,i,d){return d.compare(n,i)<0}),ip=Wu(">",function(u,n,i){return n>i},function(u,n,i,d){return d.compare(n,i)>0}),_m=Wu("<=",function(u,n,i){return n<=i},function(u,n,i,d){return d.compare(n,i)<=0}),hh=Wu(">=",function(u,n,i){return n>=i},function(u,n,i,d){return d.compare(n,i)>=0});class Ef{constructor(n,i,d,g,h,v){this.type=Ji,this.number=n,this.locale=i,this.currency=d,this.unit=g,this.minFractionDigits=h,this.maxFractionDigits=v}static parse(n,i){if(n.length!==3)return i.error("Expected two arguments.");const d=i.parse(n[1],1,Lr);if(!d)return null;const g=n[2];if(typeof g!="object"||Array.isArray(g))return i.error("NumberFormat options argument must be an object.");let h=null;if(g.locale&&(h=i.parseObjectValue(g.locale,2,"locale",Ji),!h))return null;let v=null;if(g.currency&&(v=i.parseObjectValue(g.currency,2,"currency",Ji),!v))return null;let S=null;if(g.unit&&(S=i.parseObjectValue(g.unit,2,"unit",Ji),!S))return null;let M=null;if(g["min-fraction-digits"]&&(M=i.parseObjectValue(g["min-fraction-digits"],2,"min-fraction-digits",Lr),!M))return null;let A=null;return g["max-fraction-digits"]&&(A=i.parseObjectValue(g["max-fraction-digits"],2,"max-fraction-digits",Lr),!A)?null:new Ef(d,h,v,S,M,A)}evaluate(n){return new Intl.NumberFormat(this.locale?this.locale.evaluate(n):[],{style:(this.currency?"currency":this.unit&&"unit")||"decimal",currency:this.currency?this.currency.evaluate(n):void 0,unit:this.unit?this.unit.evaluate(n):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(n):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(n):void 0}).format(this.number.evaluate(n))}eachChild(n){n(this.number),this.locale&&n(this.locale),this.currency&&n(this.currency),this.unit&&n(this.unit),this.minFractionDigits&&n(this.minFractionDigits),this.maxFractionDigits&&n(this.maxFractionDigits)}outputDefined(){return!1}serialize(){const n={};return this.locale&&(n.locale=this.locale.serialize()),this.currency&&(n.currency=this.currency.serialize()),this.unit&&(n.unit=this.unit.serialize()),this.minFractionDigits&&(n["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(n["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),n]}}class If{constructor(n){this.type=Lr,this.input=n}static parse(n,i){if(n.length!==2)return i.error(`Expected 1 argument, but found ${n.length-1} instead.`);const d=i.parse(n[1],1);return d?d.type.kind!=="array"&&d.type.kind!=="string"&&d.type.kind!=="value"?i.error(`Expected argument of type string or array, but found ${Ce(d.type)} instead.`):new If(d):null}evaluate(n){const i=this.input.evaluate(n);if(typeof i=="string"||Array.isArray(i))return i.length;throw new Xi(`Expected value to be of type string or array, but found ${Ce(Ai(i))} instead.`)}eachChild(n){n(this.input)}outputDefined(){return!1}serialize(){const n=["length"];return this.eachChild(i=>{n.push(i.serialize())}),n}}function Tf(u){return function(){u=1831565813+(u|=0)|0;let n=Math.imul(u^u>>>15,1|u);return n=n+Math.imul(n^n>>>7,61|n)^n,((n^n>>>14)>>>0)/4294967296}}const In={"==":wf,"!=":Ug,">":ip,"<":rp,">=":hh,"<=":_m,array:Po,at:uh,boolean:Po,case:fu,coalesce:Ud,collator:Ms,format:la,image:da,in:dh,"index-of":Gd,interpolate:xc,"interpolate-hcl":xc,"interpolate-lab":xc,length:If,let:Wd,literal:li,match:tp,number:Po,"number-format":Ef,object:Po,slice:Kd,step:Ec,string:Po,"to-boolean":Sa,"to-color":Sa,"to-number":Sa,"to-string":Sa,var:rc,within:ea,distance:ml,config:Hl};function Vr(u,[n,i,d,g]){n=n.evaluate(u),i=i.evaluate(u),d=d.evaluate(u);const h=g?g.evaluate(u):1,v=Fi(n,i,d,h);if(v)throw new Xi(v);return new _e(n/255*h,i/255*h,d/255*h,h)}function so(u,[n,i,d,g]){n=n.evaluate(u),i=i.evaluate(u),d=d.evaluate(u);const h=g?g.evaluate(u):1,v=function(A,b,P,$){return typeof A=="number"&&A>=0&&A<=360?typeof b=="number"&&b>=0&&b<=100&&typeof P=="number"&&P>=0&&P<=100?$===void 0||typeof $=="number"&&$>=0&&$<=1?null:`Invalid hsla value [${[A,b,P,$].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid hsla value [${(typeof $=="number"?[A,b,P,$]:[A,b,P]).join(", ")}]: 's', and 'l' must be between 0 and 100.`:`Invalid hsla value [${(typeof $=="number"?[A,b,P,$]:[A,b,P]).join(", ")}]: 'h' must be between 0 and 360.`}(n,i,d,h);if(v)throw new Xi(v);const S=`hsla(${n}, ${i}%, ${d}%, ${h})`,M=_e.parse(S);if(!M)throw new Xi(`Failed to parse HSLA color: ${S}`);return M}function ya(u,n){return u in n}function tl(u,n){const i=n[u];return i===void 0?null:i}function os(u){return{type:u}}function gl(u){return{result:"success",value:u}}function Ys(u){return{result:"error",value:u}}function Bl(u,n){return!!u&&!!u.parameters&&u.parameters.indexOf(n)>-1}function ol(u){return u["property-type"]==="data-driven"}function Uc(u){return Bl(u.expression,"measure-light")}function fc(u){return Bl(u.expression,"zoom")}function Al(u){return!!u.expression&&u.expression.interpolated}function Wc(u){return typeof u=="object"&&u!==null&&!Array.isArray(u)}function Bc(u){return u}function Rc(u,n){const i=n.type==="color",d=u.stops&&typeof u.stops[0][0]=="object",g=d||!(d||u.property!==void 0),h=u.type||(Al(n)?"exponential":"interval");if(i&&((u=si({},u)).stops&&(u.stops=u.stops.map(A=>[A[0],_e.parse(A[1])])),u.default=_e.parse(u.default?u.default:n.default)),u.colorSpace&&u.colorSpace!=="rgb"&&!du[u.colorSpace])throw new Error(`Unknown color space: ${u.colorSpace}`);let v,S,M;if(h==="exponential")v=gd;else if(h==="interval")v=wu;else if(h==="categorical"){v=Su,S=Object.create(null);for(const A of u.stops)S[A[0]]=A[1];M=typeof u.stops[0][0]}else{if(h!=="identity")throw new Error(`Unknown function type "${h}"`);v=Mf}if(d){const A={},b=[];for(let T=0;T<u.stops.length;T++){const O=u.stops[T],N=O[0].zoom;A[N]===void 0&&(A[N]={zoom:N,type:u.type,property:u.property,default:u.default,stops:[]},b.push(N)),A[N].stops.push([O[0].value,O[1]])}const P=[];for(const T of b)P.push([A[T].zoom,Rc(A[T],n)]);const $={name:"linear"};return{kind:"composite",interpolationType:$,interpolationFactor:xc.interpolationFactor.bind(void 0,$),zoomStops:P.map(T=>T[0]),evaluate:({zoom:T},O)=>gd({stops:P,base:u.base},n,T).evaluate(T,O)}}if(g){const A=h==="exponential"?{name:"exponential",base:u.base!==void 0?u.base:1}:null;return{kind:"camera",interpolationType:A,interpolationFactor:xc.interpolationFactor.bind(void 0,A),zoomStops:u.stops.map(b=>b[0]),evaluate:({zoom:b})=>v(u,n,b,S,M)}}return{kind:"source",evaluate(A,b){const P=b&&b.properties?b.properties[u.property]:void 0;return P===void 0?$c(u.default,n.default):v(u,n,P,S,M)}}}function $c(u,n,i){return u!==void 0?u:n!==void 0?n:i!==void 0?i:void 0}function Su(u,n,i,d,g){return $c(typeof i===g?d[i]:void 0,u.default,n.default)}function wu(u,n,i){if(ma(i)!=="number")return $c(u.default,n.default);const d=u.stops.length;if(d===1||i<=u.stops[0][0])return u.stops[0][1];if(i>=u.stops[d-1][0])return u.stops[d-1][1];const g=sc(u.stops.map(h=>h[0]),i);return u.stops[g][1]}function gd(u,n,i){const d=u.base!==void 0?u.base:1;if(ma(i)!=="number")return $c(u.default,n.default);const g=u.stops.length;if(g===1||i<=u.stops[0][0])return u.stops[0][1];if(i>=u.stops[g-1][0])return u.stops[g-1][1];const h=sc(u.stops.map(b=>b[0]),i),v=function(b,P,$,T){const O=T-$,N=b-$;return O===0?0:P===1?N/O:(Math.pow(P,N)-1)/(Math.pow(P,O)-1)}(i,d,u.stops[h][0],u.stops[h+1][0]),S=u.stops[h][1],M=u.stops[h+1][1];let A=Qn[n.type]||Bc;if(u.colorSpace&&u.colorSpace!=="rgb"){const b=du[u.colorSpace];A=(P,$)=>b.reverse(b.interpolate(b.forward(P),b.forward($),v))}return typeof S.evaluate=="function"?{evaluate(...b){const P=S.evaluate.apply(void 0,b),$=M.evaluate.apply(void 0,b);if(P!==void 0&&$!==void 0)return A(P,$,v)}}:A(S,M,v)}function Mf(u,n,i){return n.type==="color"?i=_e.parse(i):n.type==="formatted"?i=Nr.fromString(i.toString()):n.type==="resolvedImage"?i=_i.build(i.toString()):ma(i)===n.type||n.type==="enum"&&n.values[i]||(i=void 0),$c(i,u.default,n.default)}ga.register(In,{error:[{kind:"error"},[Ji],(u,[n])=>{throw new Xi(n.evaluate(u))}],typeof:[Ji,[mi],(u,[n])=>Ce(Ai(n.evaluate(u)))],"to-rgba":[qe(Lr,4),[Si],(u,[n])=>n.evaluate(u).toRenderColor(null).toArray()],"to-hsla":[qe(Lr,4),[Si],(u,[n])=>n.evaluate(u).toRenderColor(null).toHslaArray()],rgb:[Si,[Lr,Lr,Lr],Vr],rgba:[Si,[Lr,Lr,Lr,Lr],Vr],hsl:[Si,[Lr,Lr,Lr],so],hsla:[Si,[Lr,Lr,Lr,Lr],so],has:{type:zr,overloads:[[[Ji],(u,[n])=>ya(n.evaluate(u),u.properties())],[[Ji,ai],(u,[n,i])=>ya(n.evaluate(u),i.evaluate(u))]]},get:{type:mi,overloads:[[[Ji],(u,[n])=>tl(n.evaluate(u),u.properties())],[[Ji,ai],(u,[n,i])=>tl(n.evaluate(u),i.evaluate(u))]]},"feature-state":[mi,[Ji],(u,[n])=>tl(n.evaluate(u),u.featureState||{})],properties:[ai,[],u=>u.properties()],"geometry-type":[Ji,[],u=>u.geometryType()],id:[mi,[],u=>u.id()],zoom:[Lr,[],u=>u.globals.zoom],pitch:[Lr,[],u=>u.globals.pitch||0],"distance-from-center":[Lr,[],u=>u.distanceFromCenter()],"measure-light":[Lr,[Ji],(u,[n])=>u.measureLight(n.evaluate(u))],"heatmap-density":[Lr,[],u=>u.globals.heatmapDensity||0],"line-progress":[Lr,[],u=>u.globals.lineProgress||0],"raster-value":[Lr,[],u=>u.globals.rasterValue||0],"raster-particle-speed":[Lr,[],u=>u.globals.rasterParticleSpeed||0],"sky-radial-progress":[Lr,[],u=>u.globals.skyRadialProgress||0],accumulated:[mi,[],u=>u.globals.accumulated===void 0?null:u.globals.accumulated],"+":[Lr,os(Lr),(u,n)=>{let i=0;for(const d of n)i+=d.evaluate(u);return i}],"*":[Lr,os(Lr),(u,n)=>{let i=1;for(const d of n)i*=d.evaluate(u);return i}],"-":{type:Lr,overloads:[[[Lr,Lr],(u,[n,i])=>n.evaluate(u)-i.evaluate(u)],[[Lr],(u,[n])=>-n.evaluate(u)]]},"/":[Lr,[Lr,Lr],(u,[n,i])=>n.evaluate(u)/i.evaluate(u)],"%":[Lr,[Lr,Lr],(u,[n,i])=>n.evaluate(u)%i.evaluate(u)],ln2:[Lr,[],()=>Math.LN2],pi:[Lr,[],()=>Math.PI],e:[Lr,[],()=>Math.E],"^":[Lr,[Lr,Lr],(u,[n,i])=>Math.pow(n.evaluate(u),i.evaluate(u))],sqrt:[Lr,[Lr],(u,[n])=>Math.sqrt(n.evaluate(u))],log10:[Lr,[Lr],(u,[n])=>Math.log(n.evaluate(u))/Math.LN10],ln:[Lr,[Lr],(u,[n])=>Math.log(n.evaluate(u))],log2:[Lr,[Lr],(u,[n])=>Math.log(n.evaluate(u))/Math.LN2],sin:[Lr,[Lr],(u,[n])=>Math.sin(n.evaluate(u))],cos:[Lr,[Lr],(u,[n])=>Math.cos(n.evaluate(u))],tan:[Lr,[Lr],(u,[n])=>Math.tan(n.evaluate(u))],asin:[Lr,[Lr],(u,[n])=>Math.asin(n.evaluate(u))],acos:[Lr,[Lr],(u,[n])=>Math.acos(n.evaluate(u))],atan:[Lr,[Lr],(u,[n])=>Math.atan(n.evaluate(u))],min:[Lr,os(Lr),(u,n)=>Math.min(...n.map(i=>i.evaluate(u)))],max:[Lr,os(Lr),(u,n)=>Math.max(...n.map(i=>i.evaluate(u)))],abs:[Lr,[Lr],(u,[n])=>Math.abs(n.evaluate(u))],round:[Lr,[Lr],(u,[n])=>{const i=n.evaluate(u);return i<0?-Math.round(-i):Math.round(i)}],floor:[Lr,[Lr],(u,[n])=>Math.floor(n.evaluate(u))],ceil:[Lr,[Lr],(u,[n])=>Math.ceil(n.evaluate(u))],"filter-==":[zr,[Ji,mi],(u,[n,i])=>u.properties()[n.value]===i.value],"filter-id-==":[zr,[mi],(u,[n])=>u.id()===n.value],"filter-type-==":[zr,[Ji],(u,[n])=>u.geometryType()===n.value],"filter-<":[zr,[Ji,mi],(u,[n,i])=>{const d=u.properties()[n.value],g=i.value;return typeof d==typeof g&&d<g}],"filter-id-<":[zr,[mi],(u,[n])=>{const i=u.id(),d=n.value;return typeof i==typeof d&&i<d}],"filter->":[zr,[Ji,mi],(u,[n,i])=>{const d=u.properties()[n.value],g=i.value;return typeof d==typeof g&&d>g}],"filter-id->":[zr,[mi],(u,[n])=>{const i=u.id(),d=n.value;return typeof i==typeof d&&i>d}],"filter-<=":[zr,[Ji,mi],(u,[n,i])=>{const d=u.properties()[n.value],g=i.value;return typeof d==typeof g&&d<=g}],"filter-id-<=":[zr,[mi],(u,[n])=>{const i=u.id(),d=n.value;return typeof i==typeof d&&i<=d}],"filter->=":[zr,[Ji,mi],(u,[n,i])=>{const d=u.properties()[n.value],g=i.value;return typeof d==typeof g&&d>=g}],"filter-id->=":[zr,[mi],(u,[n])=>{const i=u.id(),d=n.value;return typeof i==typeof d&&i>=d}],"filter-has":[zr,[mi],(u,[n])=>n.value in u.properties()],"filter-has-id":[zr,[],u=>u.id()!==null&&u.id()!==void 0],"filter-type-in":[zr,[qe(Ji)],(u,[n])=>n.value.indexOf(u.geometryType())>=0],"filter-id-in":[zr,[qe(mi)],(u,[n])=>n.value.indexOf(u.id())>=0],"filter-in-small":[zr,[Ji,qe(mi)],(u,[n,i])=>i.value.indexOf(u.properties()[n.value])>=0],"filter-in-large":[zr,[Ji,qe(mi)],(u,[n,i])=>function(d,g,h,v){for(;h<=v;){const S=h+v>>1;if(g[S]===d)return!0;g[S]>d?v=S-1:h=S+1}return!1}(u.properties()[n.value],i.value,0,i.value.length-1)],all:{type:zr,overloads:[[[zr,zr],(u,[n,i])=>n.evaluate(u)&&i.evaluate(u)],[os(zr),(u,n)=>{for(const i of n)if(!i.evaluate(u))return!1;return!0}]]},any:{type:zr,overloads:[[[zr,zr],(u,[n,i])=>n.evaluate(u)||i.evaluate(u)],[os(zr),(u,n)=>{for(const i of n)if(i.evaluate(u))return!0;return!1}]]},"!":[zr,[zr],(u,[n])=>!n.evaluate(u)],"is-supported-script":[zr,[Ji],(u,[n])=>{const i=u.globals&&u.globals.isSupportedScript;return!i||i(n.evaluate(u))}],upcase:[Ji,[Ji],(u,[n])=>n.evaluate(u).toUpperCase()],downcase:[Ji,[Ji],(u,[n])=>n.evaluate(u).toLowerCase()],concat:[Ji,os(mi),(u,n)=>n.map(i=>Zi(i.evaluate(u))).join("")],"resolved-locale":[Ji,[Xo],(u,[n])=>n.evaluate(u).resolvedLocale()],random:[Lr,[Lr,Lr,mi],(u,n)=>{const[i,d,g]=n.map(v=>v.evaluate(u));if(i>d||i===d)return i;let h;if(typeof g=="string")h=function(v){let S=0;if(v.length===0)return S;for(let M=0;M<v.length;M++)S=(S<<5)-S+v.charCodeAt(M),S|=0;return S}(g);else{if(typeof g!="number")throw new Xi(`Invalid seed input: ${g}`);h=g}return i+Tf(h)()*(d-i)}]});class Eu{constructor(n,i,d,g){this.expression=n,this._warningHistory={},this._evaluator=new Ua(d,g),this._defaultValue=i?function(h){return h.type==="color"&&(Wc(h.default)||Array.isArray(h.default))?new _e(0,0,0,0):h.type==="color"?_e.parse(h.default)||null:h.default===void 0?null:h.default}(i):null,this._enumValues=i&&i.type==="enum"?i.values:null,this.configDependencies=dc(n)}evaluateWithoutErrorHandling(n,i,d,g,h,v,S,M){return this._evaluator.globals=n,this._evaluator.feature=i,this._evaluator.featureState=d,this._evaluator.canonical=g||null,this._evaluator.availableImages=h||null,this._evaluator.formattedSection=v,this._evaluator.featureTileCoord=S||null,this._evaluator.featureDistanceData=M||null,this.expression.evaluate(this._evaluator)}evaluate(n,i,d,g,h,v,S,M){this._evaluator.globals=n,this._evaluator.feature=i||null,this._evaluator.featureState=d||null,this._evaluator.canonical=g||null,this._evaluator.availableImages=h||null,this._evaluator.formattedSection=v||null,this._evaluator.featureTileCoord=S||null,this._evaluator.featureDistanceData=M||null;try{const A=this.expression.evaluate(this._evaluator);if(A==null||typeof A=="number"&&A!=A)return this._defaultValue;if(this._enumValues&&!(A in this._enumValues))throw new Xi(`Expected value to be one of ${Object.keys(this._enumValues).map(b=>JSON.stringify(b)).join(", ")}, but found ${JSON.stringify(A)} instead.`);return A}catch(A){return this._warningHistory[A.message]||(this._warningHistory[A.message]=!0,typeof console!="undefined"&&console.warn(`Failed to evaluate expression "${JSON.stringify(this.expression.serialize())}". ${A.message}`)),this._defaultValue}}}function Pf(u){return Array.isArray(u)&&u.length>0&&typeof u[0]=="string"&&u[0]in In}function Of(u,n,i,d){const g=new ac(In,[],n?function(v){const S={color:Si,string:Ji,number:Lr,enum:Ji,boolean:zr,formatted:Uo,resolvedImage:sn};return v.type==="array"?qe(S[v.value]||mi,v.length):S[v.type]}(n):void 0,void 0,void 0,i,d),h=g.parse(u,void 0,void 0,void 0,n&&n.type==="string"?{typeAnnotation:"coerce"}:void 0);return h?gl(new Eu(h,n,i,d)):Ys(g.errors)}class op{constructor(n,i,d,g){this.kind=n,this._styleExpression=i,this.isLightConstant=d,this.isLineProgressConstant=g,this.isStateDependent=n!=="constant"&&!$l(i.expression),this.configDependencies=dc(i.expression)}evaluateWithoutErrorHandling(n,i,d,g,h,v){return this._styleExpression.evaluateWithoutErrorHandling(n,i,d,g,h,v)}evaluate(n,i,d,g,h,v){return this._styleExpression.evaluate(n,i,d,g,h,v)}}class ap{constructor(n,i,d,g,h,v){this.kind=n,this.zoomStops=d,this._styleExpression=i,this.isStateDependent=n!=="camera"&&!$l(i.expression),this.isLightConstant=h,this.isLineProgressConstant=v,this.configDependencies=dc(i.expression),this.interpolationType=g}evaluateWithoutErrorHandling(n,i,d,g,h,v){return this._styleExpression.evaluateWithoutErrorHandling(n,i,d,g,h,v)}evaluate(n,i,d,g,h,v){return this._styleExpression.evaluate(n,i,d,g,h,v)}interpolationFactor(n,i,d){return this.interpolationType?xc.interpolationFactor(this.interpolationType,n,i,d):0}}function Wg(u,n,i,d){if((u=Of(u,n,i,d)).result==="error")return u;const g=u.value.expression,h=Tl(g);if(!h&&!ol(n))return Ys([new Or("","data expressions not supported")]);const v=bc(g,["zoom","pitch","distance-from-center"]);if(!v&&!fc(n))return Ys([new Or("","zoom expressions not supported")]);const S=bc(g,["measure-light"]);if(!S&&!Uc(n))return Ys([new Or("","measure-light expression not supported")]);const M=bc(g,["line-progress"]);if(!M&&!function(P){return Bl(P.expression,"line-progress")}(n))return Ys([new Or("","line-progress expression not supported")]);const A=n.expression&&n.expression.relaxZoomRestriction,b=ph(g);return b||v||A?b instanceof Or?Ys([b]):b instanceof xc&&!Al(n)?Ys([new Or("",'"interpolate" expressions cannot be used with this property')]):gl(b?new ap(h&&M?"camera":"composite",u.value,b.labels,b instanceof xc?b.interpolation:void 0,S,M):new op(h&&M?"constant":"source",u.value,S,M)):Ys([new Or("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression, or in the properties of atmosphere.')])}class sp{constructor(n,i){this._parameters=n,this._specification=i,si(this,Rc(this._parameters,this._specification))}static deserialize(n){return new sp(n._parameters,n._specification)}static serialize(n){return{_parameters:n._parameters,_specification:n._specification}}}function ph(u){let n=null;if(u instanceof Wd)n=ph(u.result);else if(u instanceof Ud){for(const i of u.args)if(n=ph(i),n)break}else(u instanceof Ec||u instanceof xc)&&u.input instanceof ga&&u.input.name==="zoom"&&(n=u);return n instanceof Or||u.eachChild(i=>{const d=ph(i);d instanceof Or?n=d:n&&d&&n!==d&&(n=new Or("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),n}var lp,Gg,Iu=function(){if(Gg)return lp;Gg=1,lp=n;var u=3;function n(i,d,g){var h=this.cells=[];if(i instanceof ArrayBuffer){this.arrayBuffer=i;var v=new Int32Array(this.arrayBuffer);i=v[0],this.d=(d=v[1])+2*(g=v[2]);for(var S=0;S<this.d*this.d;S++){var M=v[u+S],A=v[u+S+1];h.push(M===A?null:v.subarray(M,A))}var b=v[u+h.length+1];this.keys=v.subarray(v[u+h.length],b),this.bboxes=v.subarray(b),this.insert=this._insertReadonly}else{this.d=d+2*g;for(var P=0;P<this.d*this.d;P++)h.push([]);this.keys=[],this.bboxes=[]}this.n=d,this.extent=i,this.padding=g,this.scale=d/i,this.uid=0;var $=g/d*i;this.min=-$,this.max=i+$}return n.prototype.insert=function(i,d,g,h,v){this._forEachCell(d,g,h,v,this._insertCell,this.uid++),this.keys.push(i),this.bboxes.push(d),this.bboxes.push(g),this.bboxes.push(h),this.bboxes.push(v)},n.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},n.prototype._insertCell=function(i,d,g,h,v,S){this.cells[v].push(S)},n.prototype.query=function(i,d,g,h,v){var S=this.min,M=this.max;if(i<=S&&d<=S&&M<=g&&M<=h&&!v)return Array.prototype.slice.call(this.keys);var A=[];return this._forEachCell(i,d,g,h,this._queryCell,A,{},v),A},n.prototype._queryCell=function(i,d,g,h,v,S,M,A){var b=this.cells[v];if(b!==null)for(var P=this.keys,$=this.bboxes,T=0;T<b.length;T++){var O=b[T];if(M[O]===void 0){var N=4*O;(A?A($[N+0],$[N+1],$[N+2],$[N+3]):i<=$[N+2]&&d<=$[N+3]&&g>=$[N+0]&&h>=$[N+1])?(M[O]=!0,S.push(P[O])):M[O]=!1}}},n.prototype._forEachCell=function(i,d,g,h,v,S,M,A){for(var b=this._convertToCellCoord(i),P=this._convertToCellCoord(d),$=this._convertToCellCoord(g),T=this._convertToCellCoord(h),O=b;O<=$;O++)for(var N=P;N<=T;N++){var W=this.d*N+O;if((!A||A(this._convertFromCellCoord(O),this._convertFromCellCoord(N),this._convertFromCellCoord(O+1),this._convertFromCellCoord(N+1)))&&v.call(this,i,d,g,h,W,S,M,A))return}},n.prototype._convertFromCellCoord=function(i){return(i-this.padding)/this.scale},n.prototype._convertToCellCoord=function(i){return Math.max(0,Math.min(this.d-1,Math.floor(i*this.scale)+this.padding))},n.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var i=this.cells,d=u+this.cells.length+1+1,g=0,h=0;h<this.cells.length;h++)g+=this.cells[h].length;var v=new Int32Array(d+g+this.keys.length+this.bboxes.length);v[0]=this.extent,v[1]=this.n,v[2]=this.padding;for(var S=d,M=0;M<i.length;M++){var A=i[M];v[u+M]=S,v.set(A,S),S+=A.length}return v[u+i.length]=S,v.set(this.keys,S),v[u+i.length+1]=S+=this.keys.length,v.set(this.bboxes,S),S+=this.bboxes.length,v.buffer},lp}(),Fc=be(Iu);const Gl={};function Eo(u,n,i={}){Object.defineProperty(u,"_classRegistryKey",{value:n,writable:!1}),Gl[n]={klass:u,omit:i.omit||[]}}Eo(Object,"Object"),Fc.serialize=function(u,n){const i=u.toArrayBuffer();return n&&n.add(i),{buffer:i}},Fc.deserialize=function(u){return new Fc(u.buffer)},Object.defineProperty(Fc,"name",{value:"Grid"}),Eo(Fc,"Grid"),typeof DOMMatrix!="undefined"&&Eo(DOMMatrix,"DOMMatrix"),Eo(_e,"Color"),Eo(Error,"Error"),Eo(Nr,"Formatted"),Eo(Ar,"FormattedSection"),Eo(Hr,"AJAXError"),Eo(_i,"ResolvedImage"),Eo(sp,"StylePropertyFunction"),Eo(Eu,"StyleExpression",{omit:["_evaluator"]}),Eo(Rr,"ImageIdWithOptions"),Eo(ap,"ZoomDependentExpression"),Eo(op,"ZoomConstantExpression"),Eo(ga,"CompoundExpression",{omit:["_evaluate"]});for(const u in In)Gl[In[u]._classRegistryKey]||Eo(In[u],`Expression${u}`);function cp(u){return u&&typeof ArrayBuffer!="undefined"&&(u instanceof ArrayBuffer||u.constructor&&u.constructor.name==="ArrayBuffer")}function bm(u){return self.ImageBitmap&&u instanceof ImageBitmap}function Xd(u,n){if(u==null||typeof u=="boolean"||typeof u=="number"||typeof u=="string"||u instanceof Boolean||u instanceof Number||u instanceof String||u instanceof Date||u instanceof RegExp)return u;if(cp(u)||bm(u))return n&&n.add(u),u;if(ArrayBuffer.isView(u))return n&&n.add(u.buffer),u;if(u instanceof ImageData)return n&&n.add(u.data.buffer),u;if(Array.isArray(u)){const i=[];for(const d of u)i.push(Xd(d,n));return i}if(u instanceof Map){const i={$name:"Map"};for(const[d,g]of u.entries())i[d]=Xd(g);return i}if(u instanceof Set){const i={$name:"Set"};let d=0;for(const g of u.values())i[++d]=Xd(g);return i}if(typeof u=="object"){const i=u.constructor,d=i._classRegistryKey;if(!d)throw new Error(`Can't serialize object of unregistered class "${d}".`);const g=i.serialize?i.serialize(u,n):{};if(!i.serialize){for(const h in u)u.hasOwnProperty(h)&&(Gl[d].omit.indexOf(h)>=0||(g[h]=Xd(u[h],n)));u instanceof Error&&(g.message=u.message)}if(g.$name)throw new Error("$name property is reserved for worker serialization logic.");return d!=="Object"&&(g.$name=d),g}throw new Error("can't serialize object of type "+typeof u)}function vd(u){if(u==null||typeof u=="boolean"||typeof u=="number"||typeof u=="string"||u instanceof Boolean||u instanceof Number||u instanceof String||u instanceof Date||u instanceof RegExp||cp(u)||bm(u)||ArrayBuffer.isView(u)||u instanceof ImageData)return u;if(Array.isArray(u))return u.map(vd);if(typeof u=="object"){const n=u.$name||"Object";if(n==="Map"){const g=new Map;for(const h of Object.keys(u))h!=="$name"&&g.set(h,vd(u[h]));return g}if(n==="Set"){const g=new Set;for(const h of Object.keys(u))h!=="$name"&&g.add(vd(u[h]));return g}const{klass:i}=Gl[n];if(!i)throw new Error(`Can't deserialize unregistered class "${n}".`);if(i.deserialize)return i.deserialize(u);const d=Object.create(i.prototype);for(const g of Object.keys(u))g!=="$name"&&(d[g]=vd(u[g]));return d}throw new Error("can't deserialize object of type "+typeof u)}const No={"Latin-1 Supplement":u=>u>=128&&u<=255,Arabic:u=>u>=1536&&u<=1791,"Arabic Supplement":u=>u>=1872&&u<=1919,"Arabic Extended-A":u=>u>=2208&&u<=2303,"Hangul Jamo":u=>u>=4352&&u<=4607,"Unified Canadian Aboriginal Syllabics":u=>u>=5120&&u<=5759,Khmer:u=>u>=6016&&u<=6143,"Unified Canadian Aboriginal Syllabics Extended":u=>u>=6320&&u<=6399,"General Punctuation":u=>u>=8192&&u<=8303,"Letterlike Symbols":u=>u>=8448&&u<=8527,"Number Forms":u=>u>=8528&&u<=8591,"Miscellaneous Technical":u=>u>=8960&&u<=9215,"Control Pictures":u=>u>=9216&&u<=9279,"Optical Character Recognition":u=>u>=9280&&u<=9311,"Enclosed Alphanumerics":u=>u>=9312&&u<=9471,"Geometric Shapes":u=>u>=9632&&u<=9727,"Miscellaneous Symbols":u=>u>=9728&&u<=9983,"Miscellaneous Symbols and Arrows":u=>u>=11008&&u<=11263,"CJK Radicals Supplement":u=>u>=11904&&u<=12031,"Kangxi Radicals":u=>u>=12032&&u<=12255,"Ideographic Description Characters":u=>u>=12272&&u<=12287,"CJK Symbols and Punctuation":u=>u>=12288&&u<=12351,Hiragana:u=>u>=12352&&u<=12447,Katakana:u=>u>=12448&&u<=12543,Bopomofo:u=>u>=12544&&u<=12591,"Hangul Compatibility Jamo":u=>u>=12592&&u<=12687,Kanbun:u=>u>=12688&&u<=12703,"Bopomofo Extended":u=>u>=12704&&u<=12735,"CJK Strokes":u=>u>=12736&&u<=12783,"Katakana Phonetic Extensions":u=>u>=12784&&u<=12799,"Enclosed CJK Letters and Months":u=>u>=12800&&u<=13055,"CJK Compatibility":u=>u>=13056&&u<=13311,"CJK Unified Ideographs Extension A":u=>u>=13312&&u<=19903,"Yijing Hexagram Symbols":u=>u>=19904&&u<=19967,"CJK Unified Ideographs":u=>u>=19968&&u<=40959,"Yi Syllables":u=>u>=40960&&u<=42127,"Yi Radicals":u=>u>=42128&&u<=42191,"Hangul Jamo Extended-A":u=>u>=43360&&u<=43391,"Hangul Syllables":u=>u>=44032&&u<=55215,"Hangul Jamo Extended-B":u=>u>=55216&&u<=55295,"Private Use Area":u=>u>=57344&&u<=63743,"CJK Compatibility Ideographs":u=>u>=63744&&u<=64255,"Arabic Presentation Forms-A":u=>u>=64336&&u<=65023,"Vertical Forms":u=>u>=65040&&u<=65055,"CJK Compatibility Forms":u=>u>=65072&&u<=65103,"Small Form Variants":u=>u>=65104&&u<=65135,"Arabic Presentation Forms-B":u=>u>=65136&&u<=65279,"Halfwidth and Fullwidth Forms":u=>u>=65280&&u<=65519,Osage:u=>u>=66736&&u<=66815,"CJK Unified Ideographs Extension B":u=>u>=131072&&u<=173791};function xm(u){for(const n of u)if(yd(n.charCodeAt(0)))return!0;return!1}function Cm(u){for(const n of u)if(!Mv(n.charCodeAt(0)))return!1;return!0}function Mv(u){return!(No.Arabic(u)||No["Arabic Supplement"](u)||No["Arabic Extended-A"](u)||No["Arabic Presentation Forms-A"](u)||No["Arabic Presentation Forms-B"](u))}function yd(u){return!(u!==746&&u!==747&&(u<4352||!(No["Bopomofo Extended"](u)||No.Bopomofo(u)||No["CJK Compatibility Forms"](u)&&!(u>=65097&&u<=65103)||No["CJK Compatibility Ideographs"](u)||No["CJK Compatibility"](u)||No["CJK Radicals Supplement"](u)||No["CJK Strokes"](u)||!(!No["CJK Symbols and Punctuation"](u)||u>=12296&&u<=12305||u>=12308&&u<=12319||u===12336)||No["CJK Unified Ideographs Extension A"](u)||No["CJK Unified Ideographs"](u)||No["Enclosed CJK Letters and Months"](u)||No["Hangul Compatibility Jamo"](u)||No["Hangul Jamo Extended-A"](u)||No["Hangul Jamo Extended-B"](u)||No["Hangul Jamo"](u)||No["Hangul Syllables"](u)||No.Hiragana(u)||No["Ideographic Description Characters"](u)||No.Kanbun(u)||No["Kangxi Radicals"](u)||No["Katakana Phonetic Extensions"](u)||No.Katakana(u)&&u!==12540||!(!No["Halfwidth and Fullwidth Forms"](u)||u===65288||u===65289||u===65293||u>=65306&&u<=65310||u===65339||u===65341||u===65343||u>=65371&&u<=65503||u===65507||u>=65512&&u<=65519)||!(!No["Small Form Variants"](u)||u>=65112&&u<=65118||u>=65123&&u<=65126)||No["Unified Canadian Aboriginal Syllabics"](u)||No["Unified Canadian Aboriginal Syllabics Extended"](u)||No["Vertical Forms"](u)||No["Yijing Hexagram Symbols"](u)||No["Yi Syllables"](u)||No["Yi Radicals"](u))))}function hc(u){return!(yd(u)||function(n){return!!(No["Latin-1 Supplement"](n)&&(n===167||n===169||n===174||n===177||n===188||n===189||n===190||n===215||n===247)||No["General Punctuation"](n)&&(n===8214||n===8224||n===8225||n===8240||n===8241||n===8251||n===8252||n===8258||n===8263||n===8264||n===8265||n===8273)||No["Letterlike Symbols"](n)||No["Number Forms"](n)||No["Miscellaneous Technical"](n)&&(n>=8960&&n<=8967||n>=8972&&n<=8991||n>=8996&&n<=9e3||n===9003||n>=9085&&n<=9114||n>=9150&&n<=9165||n===9167||n>=9169&&n<=9179||n>=9186&&n<=9215)||No["Control Pictures"](n)&&n!==9251||No["Optical Character Recognition"](n)||No["Enclosed Alphanumerics"](n)||No["Geometric Shapes"](n)||No["Miscellaneous Symbols"](n)&&!(n>=9754&&n<=9759)||No["Miscellaneous Symbols and Arrows"](n)&&(n>=11026&&n<=11055||n>=11088&&n<=11097||n>=11192&&n<=11243)||No["CJK Symbols and Punctuation"](n)||No.Katakana(n)||No["Private Use Area"](n)||No["CJK Compatibility Forms"](n)||No["Small Form Variants"](n)||No["Halfwidth and Fullwidth Forms"](n)||n===8734||n===8756||n===8757||n>=9984&&n<=10087||n>=10102&&n<=10131||n===65532||n===65533)}(u))}function Gu(u){return u>=1424&&u<=2303||No["Arabic Presentation Forms-A"](u)||No["Arabic Presentation Forms-B"](u)}function Pv(u,n){return!(!n&&Gu(u)||u>=2304&&u<=3583||u>=3840&&u<=4255||No.Khmer(u))}function mh(u){for(const n of u)if(Gu(n.charCodeAt(0)))return!0;return!1}const gh="deferred",up="loading",Sm="loaded";let hu=null,kc="unavailable",_d=null;const Kg=function(u){u&&typeof u=="string"&&u.indexOf("NetworkError")>-1&&(kc="error"),hu&&hu(u)};function dp(){bd.fire(new To("pluginStateChange",{pluginStatus:kc,pluginURL:_d}))}const bd=new ho,vh=function(){return kc},fp=function(){if(kc!==gh||!_d)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");kc=up,dp(),_d&&wn({url:_d},u=>{u?Kg(u):(kc=Sm,dp())})},Gc={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:()=>kc===Sm||Gc.applyArabicShaping!=null,isLoading:()=>kc===up,setState(u){kc=u.pluginStatus,_d=u.pluginURL},isParsed:()=>Gc.applyArabicShaping!=null&&Gc.processBidirectionalText!=null&&Gc.processStyledBidirectionalText!=null,getPluginURL:()=>_d};class Us{constructor(n,i){this.zoom=n,i?(this.now=i.now,this.fadeDuration=i.fadeDuration,this.transition=i.transition,this.pitch=i.pitch,this.brightness=i.brightness):(this.now=0,this.fadeDuration=0,this.transition={},this.pitch=0,this.brightness=0)}isSupportedScript(n){return function(i,d){for(const g of i)if(!Pv(g.charCodeAt(0),d))return!1;return!0}(n,Gc.isLoaded())}}class hp{constructor(n,i,d,g){this.property=n,this.value=i,this.expression=function(h,v,S,M){if(Wc(h))return new sp(h,v);if(Pf(h)||Array.isArray(h)&&h.length>0){const A=Wg(h,v,S,M);if(A.result==="error")throw new Error(A.value.map(b=>`${b.key}: ${b.message}`).join(", "));return A.value}{let A=h;return typeof h=="string"&&v.type==="color"&&(A=_e.parse(h)),{kind:"constant",configDependencies:new Set,evaluate:()=>A}}}(i===void 0?n.specification.default:i,n.specification,d,g)}isDataDriven(){return this.expression.kind==="source"||this.expression.kind==="composite"}possiblyEvaluate(n,i,d){return this.property.possiblyEvaluate(this,n,i,d)}}class yh{constructor(n,i,d){this.property=n,this.value=new hp(n,void 0,i,d)}transitioned(n,i){return new wm(this.property,this.value,i,ni({},n.transition,this.transition),n.now)}untransitioned(){return new wm(this.property,this.value,null,{},0)}}class pp{constructor(n,i,d){this._properties=n,this._values=Object.create(n.defaultTransitionablePropertyValues),this._scope=i,this._options=d,this.configDependencies=new Set}getValue(n){return mr(this._values[n].value.value)}setValue(n,i){this._values.hasOwnProperty(n)||(this._values[n]=new yh(this._values[n].property,this._scope,this._options)),this._values[n].value=new hp(this._values[n].property,i===null?void 0:mr(i),this._scope,this._options),this._values[n].value.expression.configDependencies&&(this.configDependencies=new Set([...this.configDependencies,...this._values[n].value.expression.configDependencies]))}setTransitionOrValue(n,i){i&&(this._options=i);const d=this._properties.properties;if(n)for(const g in n){const h=n[g];if(Tr(g,"-transition")){const v=g.slice(0,-11);d[v]&&this.setTransition(v,h)}else d.hasOwnProperty(g)&&this.setValue(g,h)}}getTransition(n){return mr(this._values[n].transition)}setTransition(n,i){this._values.hasOwnProperty(n)||(this._values[n]=new yh(this._values[n].property)),this._values[n].transition=mr(i)||void 0}serialize(){const n={};for(const i of Object.keys(this._values)){const d=this.getValue(i);d!==void 0&&(n[i]=d);const g=this.getTransition(i);g!==void 0&&(n[`${i}-transition`]=g)}return n}transitioned(n,i){const d=new _h(this._properties);for(const g of Object.keys(this._values))d._values[g]=this._values[g].transitioned(n,i._values[g]);return d}untransitioned(){const n=new _h(this._properties);for(const i of Object.keys(this._values))n._values[i]=this._values[i].untransitioned();return n}}class wm{constructor(n,i,d,g,h){const v=g.delay||0,S=g.duration||0;h=h||0,this.property=n,this.value=i,this.begin=h+v,this.end=this.begin+S,n.specification.transition&&(g.delay||g.duration)&&(this.prior=d)}possiblyEvaluate(n,i,d){const g=n.now||0,h=this.value.possiblyEvaluate(n,i,d),v=this.prior;if(v){if(g>this.end)return this.prior=null,h;if(this.value.isDataDriven())return this.prior=null,h;if(g<this.begin)return v.possiblyEvaluate(n,i,d);{const S=(g-this.begin)/(this.end-this.begin);return this.property.interpolate(v.possiblyEvaluate(n,i,d),h,pn(S))}}return h}}class _h{constructor(n){this._properties=n,this._values=Object.create(n.defaultTransitioningPropertyValues)}possiblyEvaluate(n,i,d){const g=new $f(this._properties);for(const h of Object.keys(this._values))g._values[h]=this._values[h].possiblyEvaluate(n,i,d);return g}hasTransition(){for(const n of Object.keys(this._values))if(this._values[n].prior)return!0;return!1}}class Yd{constructor(n,i,d){this._properties=n,this._values=Object.create(n.defaultPropertyValues),this._scope=i,this._options=d,this.configDependencies=new Set}getValue(n){return mr(this._values[n].value)}setValue(n,i){this._values[n]=new hp(this._values[n].property,i===null?void 0:mr(i),this._scope,this._options),this._values[n].expression.configDependencies&&(this.configDependencies=new Set([...this.configDependencies,...this._values[n].expression.configDependencies]))}serialize(){const n={};for(const i of Object.keys(this._values)){const d=this.getValue(i);d!==void 0&&(n[i]=d)}return n}possiblyEvaluate(n,i,d){const g=new $f(this._properties);for(const h of Object.keys(this._values))g._values[h]=this._values[h].possiblyEvaluate(n,i,d);return g}}class Rf{constructor(n,i,d){this.property=n,this.value=i,this.parameters=d}isConstant(){return this.value.kind==="constant"}constantOr(n){return this.value.kind==="constant"?this.value.value:n}evaluate(n,i,d,g){return this.property.evaluate(this.value,this.parameters,n,i,d,g)}}class $f{constructor(n){this._properties=n,this._values=Object.create(n.defaultPossiblyEvaluatedValues)}get(n){return this._values[n]}}class Oi{constructor(n){this.specification=n}possiblyEvaluate(n,i){return n.expression.evaluate(i)}interpolate(n,i,d){const g=Qn[this.specification.type];return g?g(n,i,d):n}}class po{constructor(n,i){this.specification=n,this.overrides=i}possiblyEvaluate(n,i,d,g){return new Rf(this,n.expression.kind==="constant"||n.expression.kind==="camera"?{kind:"constant",value:n.expression.evaluate(i,null,{},d,g)}:n.expression,i)}interpolate(n,i,d){if(n.value.kind!=="constant"||i.value.kind!=="constant")return n;if(n.value.value===void 0||i.value.value===void 0)return new Rf(this,{kind:"constant",value:void 0},n.parameters);const g=Qn[this.specification.type];return g?new Rf(this,{kind:"constant",value:g(n.value.value,i.value.value,d)},n.parameters):n}evaluate(n,i,d,g,h,v){return n.kind==="constant"?n.value:n.evaluate(i,d,g,h,v)}}class bh{constructor(n){this.specification=n}possiblyEvaluate(n,i,d,g){return!!n.expression.evaluate(i,null,{},d,g)}interpolate(){return!1}}class al{constructor(n){this.properties=n,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];const i=new Us(0,{});for(const d in n){const g=n[d];g.specification.overridable&&this.overridableProperties.push(d);const h=this.defaultPropertyValues[d]=new hp(g,void 0),v=this.defaultTransitionablePropertyValues[d]=new yh(g);this.defaultTransitioningPropertyValues[d]=v.untransitioned(),this.defaultPossiblyEvaluatedValues[d]=h.possiblyEvaluate(i)}}}Eo(po,"DataDrivenProperty"),Eo(Oi,"DataConstantProperty"),Eo(bh,"ColorRampProperty");var er=JSON.parse('{"$version":8,"$root":{"version":{"required":true,"type":"enum","values":[8]},"fragment":{"type":"boolean"},"name":{"type":"string"},"metadata":{"type":"*"},"center":{"type":"array","value":"number"},"zoom":{"type":"number"},"bearing":{"type":"number","default":0,"period":360},"pitch":{"type":"number","default":0},"light":{"type":"light"},"lights":{"required":false,"type":"array","value":"light-3d"},"terrain":{"type":"terrain","optional":true},"fog":{"type":"fog"},"snow":{"type":"snow","experimental":true},"rain":{"type":"rain","experimental":true},"camera":{"type":"camera"},"color-theme":{"type":"colorTheme"},"indoor":{"type":"indoor","experimental":true},"imports":{"type":"array","value":"import"},"schema":{"type":"schema"},"sources":{"required":true,"type":"sources"},"sprite":{"type":"string"},"glyphs":{"type":"string","default":"mapbox://fonts/mapbox/{fontstack}/{range}.pbf"},"transition":{"type":"transition"},"projection":{"type":"projection"},"layers":{"required":true,"type":"array","value":"layer"},"models":{"type":"models"},"featuresets":{"experimental":true,"type":"featuresets"}},"featuresets":{"experimental":true,"*":{"type":"featureset"}},"featureset":{"experimental":true,"metadata":{"experimental":true,"type":"*"},"selectors":{"experimental":true,"type":"array","value":"selector"}},"selector":{"experimental":true,"layer":{"experimental":true,"type":"string","required":true},"properties":{"experimental":true,"type":"selectorProperty","required":false},"featureNamespace":{"experimental":true,"type":"string","required":false},"_uniqueFeatureID":{"experimental":true,"type":"boolean","private":true,"required":false}},"selectorProperty":{"experimental":true,"*":{"experimental":true,"type":"*"}},"model":{"type":"string","required":true},"import":{"id":{"type":"string","required":true},"url":{"type":"string","required":true},"config":{"type":"config"},"data":{"type":"$root"},"color-theme":{"type":"colorTheme","optional":true}},"config":{"*":{"type":"*"}},"schema":{"*":{"type":"option"}},"option":{"default":{"type":"*","property-type":"data-constant","expression":{},"required":true},"type":{"type":"enum","values":{"string":1,"number":1,"boolean":1,"color":1}},"array":{"type":"boolean"},"minValue":{"type":"number"},"maxValue":{"type":"number"},"stepValue":{"type":"number"},"values":{"type":"array","value":"*"},"metadata":{"type":"*"}},"models":{"*":{"type":"model"}},"light-3d":{"id":{"type":"string","required":true},"properties":{"type":"properties"},"type":{"type":"enum","values":{"ambient":{},"directional":{},"flat":{}}}},"properties":["properties_light_directional","properties_light_ambient","properties_light_flat"],"properties_light_directional":{"direction":{"type":"array","default":[210,30],"minimum":[0,0],"maximum":[360,90],"length":2,"value":"number","property-type":"data-constant","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"color":{"type":"color","property-type":"data-constant","default":"#ffffff","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"intensity":{"type":"number","property-type":"data-constant","default":0.5,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"cast-shadows":{"type":"boolean","default":false,"property-type":"data-constant"},"shadow-quality":{"type":"number","property-type":"data-constant","default":1,"minimum":0,"maximum":1,"expression":{"parameters":["zoom"]},"experimental":true},"shadow-intensity":{"type":"number","property-type":"data-constant","default":1,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true}},"properties_light_ambient":{"color":{"type":"color","property-type":"data-constant","default":"#ffffff","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"intensity":{"type":"number","property-type":"data-constant","default":0.5,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true}},"properties_light_flat":{"anchor":{"type":"enum","default":"viewport","values":{"map":1,"viewport":1},"property-type":"data-constant","expression":{"parameters":["zoom"]}},"position":{"type":"array","default":[1.15,210,30],"length":3,"value":"number","property-type":"data-constant","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"color":{"type":"color","property-type":"data-constant","default":"#ffffff","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"intensity":{"type":"number","property-type":"data-constant","default":0.5,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true}},"sources":{"*":{"type":"source"}},"source":["source_vector","source_raster","source_raster_dem","source_raster_array","source_geojson","source_video","source_image","source_model"],"source_vector":{"type":{"required":true,"type":"enum","values":{"vector":1}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"scheme":{"type":"enum","values":{"xyz":1,"tms":1},"default":"xyz"},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"attribution":{"type":"string"},"promoteId":{"type":"promoteId"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_raster":{"type":{"required":true,"type":"enum","values":{"raster":1}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"tileSize":{"type":"number","default":512},"scheme":{"type":"enum","values":{"xyz":1,"tms":1},"default":"xyz"},"attribution":{"type":"string"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_raster_dem":{"type":{"required":true,"type":"enum","values":{"raster-dem":1}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"tileSize":{"type":"number","default":512},"attribution":{"type":"string"},"encoding":{"type":"enum","values":{"terrarium":1,"mapbox":1},"default":"mapbox"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_raster_array":{"experimental":true,"type":{"required":true,"type":"enum","values":{"raster-array":1}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"tileSize":{"type":"number","default":512},"attribution":{"type":"string"},"rasterLayers":{"type":"*"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_geojson":{"type":{"required":true,"type":"enum","values":{"geojson":1}},"data":{"type":"*"},"maxzoom":{"type":"number","default":18},"minzoom":{"type":"number","default":0},"attribution":{"type":"string"},"buffer":{"type":"number","default":128,"maximum":512,"minimum":0},"filter":{"type":"*"},"tolerance":{"type":"number","default":0.375},"cluster":{"type":"boolean","default":false},"clusterRadius":{"type":"number","default":50,"minimum":0},"clusterMaxZoom":{"type":"number"},"clusterMinPoints":{"type":"number"},"clusterProperties":{"type":"*"},"lineMetrics":{"type":"boolean","default":false},"generateId":{"type":"boolean","default":false},"promoteId":{"type":"promoteId"},"dynamic":{"type":"boolean","default":false}},"source_video":{"type":{"required":true,"type":"enum","values":{"video":1}},"urls":{"required":true,"type":"array","value":"string"},"coordinates":{"required":true,"type":"array","length":4,"value":{"type":"array","length":2,"value":"number"}}},"source_image":{"type":{"required":true,"type":"enum","values":{"image":1}},"url":{"required":false,"type":"string"},"coordinates":{"required":true,"type":"array","length":4,"value":{"type":"array","length":2,"value":"number"}}},"source_model":{"type":{"required":true,"type":"enum","values":{"model":1,"batched-model":1}},"maxzoom":{"type":"number","default":18},"minzoom":{"type":"number","default":0},"tiles":{"type":"array","value":"string"}},"layer":{"id":{"type":"string","required":true},"type":{"type":"enum","values":{"fill":{},"line":{},"symbol":{},"circle":{},"heatmap":{},"fill-extrusion":{},"raster":{},"raster-particle":{"experimental":true},"hillshade":{},"model":{"experimental":true},"background":{},"sky":{},"slot":{},"clip":{}},"required":true},"metadata":{"type":"*"},"source":{"type":"string"},"source-layer":{"type":"string"},"slot":{"type":"string"},"minzoom":{"type":"number","minimum":0,"maximum":24},"maxzoom":{"type":"number","minimum":0,"maximum":24},"filter":{"type":"filter"},"layout":{"type":"layout"},"paint":{"type":"paint"}},"layout":["layout_clip","layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_raster-particle","layout_hillshade","layout_background","layout_sky","layout_model"],"layout_background":{"visibility":{"type":"enum","values":{"visible":1,"none":1},"default":"visible","expression":{},"property-type":"constant"}},"layout_sky":{"visibility":{"type":"enum","values":{"visible":1,"none":1},"default":"visible","expression":{},"property-type":"constant"}},"layout_model":{"visibility":{"type":"enum","values":{"visible":1,"none":1},"default":"visible","expression":{},"property-type":"constant"},"model-id":{"type":"string","default":"","property-type":"data-driven","expression":{"parameters":["zoom","feature"]}}},"layout_clip":{"clip-layer-types":{"type":"array","value":"enum","values":{"model":1,"symbol":1},"default":[],"expression":{},"property-type":"data-constant"},"clip-layer-scope":{"type":"array","value":"string","default":[],"expression":{},"property-type":"data-constant"}},"layout_fill":{"fill-sort-key":{"type":"number","expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"visibility":{"type":"enum","values":{"visible":1,"none":1},"default":"visible","expression":{},"property-type":"constant"},"fill-elevation-reference":{"type":"enum","values":{"none":1,"hd-road-base":1,"hd-road-markup":1},"default":"none","experimental":true,"private":true,"expression":{},"property-type":"data-constant"}},"layout_circle":{"circle-sort-key":{"type":"number","expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"circle-elevation-reference":{"type":"enum","values":{"none":1,"hd-road-markup":1},"default":"none","experimental":true,"expression":{},"property-type":"data-constant"},"visibility":{"type":"enum","values":{"visible":1,"none":1},"default":"visible","expression":{},"property-type":"constant"}},"layout_heatmap":{"visibility":{"type":"enum","values":{"visible":1,"none":1},"default":"visible","expression":{},"property-type":"constant"}},"layout_fill-extrusion":{"visibility":{"type":"enum","values":{"visible":1,"none":1},"default":"visible","expression":{},"property-type":"constant"},"fill-extrusion-edge-radius":{"type":"number","experimental":true,"default":0,"minimum":0,"maximum":1,"expression":{},"property-type":"constant"}},"layout_line":{"line-cap":{"type":"enum","values":{"butt":1,"round":1,"square":1},"default":"butt","expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-join":{"type":"enum","values":{"bevel":1,"round":1,"miter":1,"none":1},"default":"miter","expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{"type":"number","default":2,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-round-limit":{"type":"number","default":1.05,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-sort-key":{"type":"number","expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-z-offset":{"type":"number","experimental":true,"default":0,"expression":{"parameters":["zoom","feature","line-progress"]},"property-type":"data-driven"},"line-elevation-reference":{"type":"enum","values":{"none":1,"sea":1,"ground":1,"hd-road-markup":1},"default":"none","experimental":true,"expression":{},"property-type":"data-constant"},"line-cross-slope":{"type":"number","experimental":true,"expression":{},"property-type":"constant"},"visibility":{"type":"enum","values":{"visible":1,"none":1},"default":"visible","expression":{},"property-type":"constant"},"line-width-unit":{"type":"enum","values":{"pixels":1,"meters":1},"default":"pixels","experimental":true,"private":true,"expression":{"parameters":["zoom"]},"property-type":"data-constant"}},"layout_symbol":{"symbol-placement":{"type":"enum","values":{"point":1,"line":1,"line-center":1},"default":"point","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"symbol-spacing":{"type":"number","default":250,"minimum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{"type":"boolean","default":false,"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{"type":"number","expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{"type":"enum","values":{"auto":1,"viewport-y":1,"source":1},"default":"auto","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"symbol-z-elevate":{"type":"boolean","default":false,"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"symbol-elevation-reference":{"type":"enum","values":{"sea":1,"ground":1,"hd-road-markup":1},"default":"ground","experimental":true,"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{"type":"boolean","default":false,"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{"type":"boolean","default":false,"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"icon-optional":{"type":"boolean","default":false,"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{"type":"enum","values":{"map":1,"viewport":1,"auto":1},"default":"auto","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"icon-size":{"type":"number","default":1,"minimum":0,"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-size-scale-range":{"type":"array","value":"number","length":2,"default":[0.8,2],"minimum":0.1,"maximum":10,"experimental":true,"private":true,"expression":{},"property-type":"data-constant"},"icon-text-fit":{"type":"enum","values":{"none":1,"width":1,"height":1,"both":1},"default":"none","expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit-padding":{"type":"array","value":"number","length":4,"default":[0,0,0,0],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-image":{"type":"resolvedImage","tokens":true,"expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{"type":"number","default":0,"period":360,"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{"type":"number","default":2,"minimum":0,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{"type":"boolean","default":false,"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"icon-offset":{"type":"array","value":"number","length":2,"default":[0,0],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{"type":"enum","values":{"center":1,"left":1,"right":1,"top":1,"bottom":1,"top-left":1,"top-right":1,"bottom-left":1,"bottom-right":1},"default":"center","expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{"type":"enum","values":{"map":1,"viewport":1,"auto":1},"default":"auto","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{"type":"enum","values":{"map":1,"viewport":1,"auto":1},"default":"auto","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{"type":"enum","values":{"map":1,"viewport":1,"auto":1},"default":"auto","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"text-field":{"type":"formatted","default":"","tokens":true,"expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-font":{"type":"array","value":"string","default":["Open Sans Regular","Arial Unicode MS Regular"],"expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-size":{"type":"number","default":16,"minimum":0,"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-size-scale-range":{"type":"array","value":"number","length":2,"default":[0.8,2],"minimum":0.1,"maximum":10,"experimental":true,"private":true,"expression":{},"property-type":"data-constant"},"text-max-width":{"type":"number","default":10,"minimum":0,"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{"type":"number","default":1.2,"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-letter-spacing":{"type":"number","default":0,"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-justify":{"type":"enum","values":{"auto":1,"left":1,"center":1,"right":1},"default":"center","expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{"type":"number","default":0,"property-type":"data-driven","expression":{"interpolated":true,"parameters":["zoom","feature"]}},"text-variable-anchor":{"type":"array","value":"enum","values":{"center":1,"left":1,"right":1,"top":1,"bottom":1,"top-left":1,"top-right":1,"bottom-left":1,"bottom-right":1},"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"text-anchor":{"type":"enum","values":{"center":1,"left":1,"right":1,"top":1,"bottom":1,"top-left":1,"top-right":1,"bottom-left":1,"bottom-right":1},"default":"center","expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{"type":"number","default":45,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-writing-mode":{"type":"array","value":"enum","values":{"horizontal":1,"vertical":1},"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"text-rotate":{"type":"number","default":0,"period":360,"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-padding":{"type":"number","default":2,"minimum":0,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-keep-upright":{"type":"boolean","default":true,"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"text-transform":{"type":"enum","values":{"none":1,"uppercase":1,"lowercase":1},"default":"none","expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-offset":{"type":"array","value":"number","length":2,"default":[0,0],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{"type":"boolean","default":false,"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{"type":"boolean","default":false,"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"text-optional":{"type":"boolean","default":false,"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"visibility":{"type":"enum","values":{"visible":1,"none":1},"default":"visible","expression":{},"property-type":"constant"}},"layout_raster":{"visibility":{"type":"enum","values":{"visible":1,"none":1},"default":"visible","expression":{},"property-type":"constant"}},"layout_raster-particle":{"visibility":{"type":"enum","values":{"visible":1,"none":1},"default":"visible","expression":{},"property-type":"constant"}},"layout_hillshade":{"visibility":{"type":"enum","values":{"visible":1,"none":1},"default":"visible","expression":{},"property-type":"constant"}},"filter":{"type":"array","value":"*"},"filter_symbol":{"type":"boolean","default":false,"property-type":"data-driven","expression":{"parameters":["zoom","feature","pitch","distance-from-center"]}},"filter_fill":{"type":"boolean","default":false,"property-type":"data-driven","expression":{"parameters":["zoom","feature"]}},"filter_hillshade":{"type":"boolean","default":false,"property-type":"data-driven","expression":{"parameters":["zoom","feature"]}},"filter_raster":{"type":"boolean","default":false,"property-type":"data-driven","expression":{"parameters":["zoom","feature"]}},"filter_raster-particle":{"type":"boolean","default":false,"property-type":"data-driven","expression":{"parameters":["zoom","feature"]}},"filter_clip":{"type":"boolean","default":false,"property-type":"data-driven","expression":{"parameters":["zoom","feature"]}},"filter_model":{"type":"boolean","default":false,"property-type":"data-driven","expression":{"parameters":["zoom","feature"]}},"filter_line":{"type":"boolean","default":false,"property-type":"data-driven","expression":{"parameters":["zoom","feature"]}},"filter_circle":{"type":"boolean","default":false,"property-type":"data-driven","expression":{"parameters":["zoom","feature"]}},"filter_fill-extrusion":{"type":"boolean","default":false,"property-type":"data-driven","expression":{"parameters":["zoom","feature"]}},"filter_heatmap":{"type":"boolean","default":false,"property-type":"data-driven","expression":{"parameters":["zoom","feature"]}},"filter_operator":{"type":"enum","values":{"==":1,"!=":1,">":1,">=":1,"<":1,"<=":1,"in":1,"!in":1,"all":1,"any":1,"none":1,"has":1,"!has":1}},"geometry_type":{"type":"enum","values":{"Point":1,"LineString":1,"Polygon":1}},"function":{"expression":{"type":"expression"},"stops":{"type":"array","value":"function_stop"},"base":{"type":"number","default":1,"minimum":0},"property":{"type":"string","default":"$zoom"},"type":{"type":"enum","values":{"identity":1,"exponential":1,"interval":1,"categorical":1},"default":"exponential"},"colorSpace":{"type":"enum","values":{"rgb":1,"lab":1,"hcl":1},"default":"rgb"},"default":{"type":"*","required":false}},"function_stop":{"type":"array","minimum":0,"maximum":24,"value":["number","color"],"length":2},"expression":{"type":"array","value":"*","minimum":1},"fog":{"range":{"type":"array","default":[0.5,10],"minimum":-20,"maximum":20,"length":2,"value":"number","property-type":"data-constant","transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true}},"color":{"type":"color","property-type":"data-constant","default":"#ffffff","expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true},"transition":true},"high-color":{"type":"color","property-type":"data-constant","default":"#245cdf","expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true},"transition":true},"space-color":{"type":"color","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],4,"#010b19",7,"#367ab9"],"expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true},"transition":true},"horizon-blend":{"type":"number","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],4,0.2,7,0.1],"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true},"transition":true},"star-intensity":{"type":"number","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],5,0.35,6,0],"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true},"transition":true},"vertical-range":{"type":"array","default":[0,0],"minimum":0,"length":2,"value":"number","property-type":"data-constant","transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true}}},"snow":{"density":{"type":"number","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],11,0,13,0.85],"minimum":0,"maximum":1,"experimental":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true},"transition":true},"intensity":{"type":"number","property-type":"data-constant","default":1,"minimum":0,"maximum":1,"experimental":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true},"transition":true},"color":{"type":"color","property-type":"data-constant","default":"#ffffff","experimental":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true},"transition":true},"opacity":{"type":"number","property-type":"data-constant","default":1,"minimum":0,"maximum":1,"experimental":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true},"transition":true},"vignette":{"type":"number","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],11,0,13,0.3],"minimum":0,"maximum":1,"experimental":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true},"transition":true},"vignette-color":{"type":"color","property-type":"data-constant","default":"#ffffff","experimental":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true},"transition":true},"center-thinning":{"type":"number","property-type":"data-constant","default":0.4,"minimum":0,"maximum":1,"experimental":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true},"transition":true},"direction":{"type":"array","default":[0,50],"minimum":0,"maximum":360,"length":2,"value":"number","property-type":"data-constant","transition":true,"experimental":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true}},"flake-size":{"type":"number","property-type":"data-constant","default":0.71,"minimum":0,"maximum":5,"experimental":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true},"transition":true}},"rain":{"density":{"type":"number","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],11,0,13,0.5],"minimum":0,"maximum":1,"experimental":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true},"transition":true},"intensity":{"type":"number","property-type":"data-constant","default":1,"minimum":0,"maximum":1,"experimental":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true},"transition":true},"color":{"type":"color","property-type":"data-constant","default":["interpolate",["linear"],["measure-light","brightness"],0,"#03113d",0.3,"#a8adbc"],"experimental":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true},"transition":true},"opacity":{"type":"number","property-type":"data-constant","default":["interpolate",["linear"],["measure-light","brightness"],0,0.88,1,0.7],"minimum":0,"maximum":1,"experimental":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true},"transition":true},"vignette":{"type":"number","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],11,0,13,1],"minimum":0,"maximum":1,"experimental":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true},"transition":true},"vignette-color":{"type":"color","property-type":"data-constant","default":["interpolate",["linear"],["measure-light","brightness"],0,"#001736",0.3,"#464646"],"experimental":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true},"transition":true},"center-thinning":{"type":"number","property-type":"data-constant","default":0.57,"minimum":0,"maximum":1,"experimental":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true},"transition":true},"direction":{"type":"array","default":[0,80],"minimum":0,"maximum":360,"length":2,"value":"number","property-type":"data-constant","transition":true,"experimental":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true}},"droplet-size":{"type":"array","default":[2.6,18.2],"minimum":0,"maximum":50,"length":2,"value":"number","property-type":"data-constant","transition":true,"experimental":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true}},"distortion-strength":{"type":"number","property-type":"data-constant","default":0.7,"minimum":0,"maximum":1,"experimental":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"],"relaxZoomRestriction":true},"transition":true}},"camera":{"camera-projection":{"type":"enum","values":{"perspective":1,"orthographic":1},"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"default":"perspective","property-type":"data-constant"}},"colorTheme":{"data":{"type":"string","property-type":"data-constant","expression":{}}},"indoor":{"floorplanFeaturesetId":{"type":"string","experimental":true,"property-type":"data-constant","expression":{}},"buildingFeaturesetId":{"type":"string","experimental":true,"property-type":"data-constant","expression":{}}},"light":{"anchor":{"type":"enum","default":"viewport","values":{"map":1,"viewport":1},"property-type":"data-constant","expression":{"parameters":["zoom"]}},"position":{"type":"array","default":[1.15,210,30],"length":3,"value":"number","property-type":"data-constant","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"color":{"type":"color","property-type":"data-constant","default":"#ffffff","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"intensity":{"type":"number","property-type":"data-constant","default":0.5,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true}},"projection":{"name":{"type":"enum","values":{"albers":1,"equalEarth":1,"equirectangular":1,"lambertConformalConic":1,"mercator":1,"naturalEarth":1,"winkelTripel":1,"globe":1},"default":"mercator","required":true},"center":{"type":"array","length":2,"value":"number","property-type":"data-constant","minimum":[-180,-90],"maximum":[180,90]},"parallels":{"type":"array","length":2,"value":"number","property-type":"data-constant","minimum":[-90,-90],"maximum":[90,90]}},"terrain":{"source":{"type":"string","required":true},"exaggeration":{"type":"number","property-type":"data-constant","default":1,"minimum":0,"maximum":1000,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true}},"paint":["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_raster-particle","paint_hillshade","paint_background","paint_sky","paint_model"],"paint_fill":{"fill-antialias":{"type":"boolean","default":true,"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"fill-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"fill-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"fill-outline-color":{"type":"color","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"fill-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{"type":"enum","values":{"map":1,"viewport":1},"default":"map","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"fill-pattern":{"type":"resolvedImage","expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"fill-emissive-strength":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"]},"property-type":"data-constant"},"fill-z-offset":{"type":"number","default":0,"minimum":0,"transition":true,"experimental":true,"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"fill-extrusion-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{"type":"enum","values":{"map":1,"viewport":1},"default":"map","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{"type":"resolvedImage","expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"fill-extrusion-height":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-height-alignment":{"type":"enum","experimental":true,"values":{"terrain":1,"flat":1},"default":"flat","property-type":"data-constant"},"fill-extrusion-base-alignment":{"type":"enum","experimental":true,"values":{"terrain":1,"flat":1},"default":"terrain","property-type":"data-constant"},"fill-extrusion-vertical-gradient":{"type":"boolean","default":true,"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-ambient-occlusion-intensity":{"property-type":"data-constant","type":"number","default":0,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"fill-extrusion-ambient-occlusion-radius":{"property-type":"data-constant","type":"number","default":3,"minimum":0,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"fill-extrusion-ambient-occlusion-wall-radius":{"property-type":"data-constant","type":"number","experimental":true,"default":3,"minimum":0,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"fill-extrusion-ambient-occlusion-ground-radius":{"property-type":"data-constant","type":"number","experimental":true,"default":3,"minimum":0,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"fill-extrusion-ambient-occlusion-ground-attenuation":{"property-type":"data-constant","type":"number","experimental":true,"default":0.69,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"fill-extrusion-flood-light-color":{"property-type":"data-constant","type":"color","experimental":true,"default":"#ffffff","transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"]}},"fill-extrusion-flood-light-intensity":{"property-type":"data-constant","type":"number","experimental":true,"default":0,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"]}},"fill-extrusion-flood-light-wall-radius":{"property-type":"data-driven","type":"number","experimental":true,"default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["feature","feature-state"]}},"fill-extrusion-flood-light-ground-radius":{"property-type":"data-driven","type":"number","experimental":true,"default":0,"transition":true,"expression":{"interpolated":true,"parameters":["feature","feature-state"]}},"fill-extrusion-flood-light-ground-attenuation":{"property-type":"data-constant","type":"number","experimental":true,"default":0.69,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"fill-extrusion-vertical-scale":{"property-type":"data-constant","type":"number","experimental":true,"default":1,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"fill-extrusion-rounded-roof":{"property-type":"data-constant","type":"boolean","default":true,"experimental":true,"expression":{"parameters":["zoom"]}},"fill-extrusion-cutoff-fade-range":{"type":"number","default":0,"minimum":0,"maximum":1,"expression":{},"property-type":"data-constant"},"fill-extrusion-emissive-strength":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light","feature-state"]},"property-type":"data-driven"},"fill-extrusion-line-width":{"type":"number","default":0,"minimum":0,"transition":true,"experimental":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"fill-extrusion-cast-shadows":{"type":"boolean","default":true,"property-type":"data-constant"}},"paint_line":{"line-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"line-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"line-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{"type":"enum","values":{"map":1,"viewport":1},"default":"map","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"line-width":{"type":"number","default":1,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light","line-progress"]},"property-type":"data-driven"},"line-gap-width":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"line-offset":{"type":"number","default":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"line-blur":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"line-dasharray":{"type":"array","value":"number","minimum":0,"expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-pattern":{"type":"resolvedImage","expression":{"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-gradient":{"type":"color","expression":{"interpolated":true,"parameters":["line-progress"]},"property-type":"color-ramp"},"line-trim-offset":{"type":"array","value":"number","length":2,"default":[0,0],"minimum":[0,0],"maximum":[1,1],"property-type":"constant"},"line-trim-fade-range":{"type":"array","value":"number","experimental":true,"length":2,"default":[0,0],"minimum":[0,0],"maximum":[1,1],"expression":{"interpolated":true,"parameters":["zoom","measure-light"]},"property-type":"data-constant"},"line-trim-color":{"type":"color","experimental":true,"default":"transparent","transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"]},"property-type":"data-constant"},"line-emissive-strength":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"]},"property-type":"data-constant"},"line-border-width":{"type":"number","private":true,"default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-border-color":{"type":"color","private":true,"default":"rgba(0, 0, 0, 0)","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-occlusion-opacity":{"type":"number","default":0,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true,"property-type":"data-constant"}},"paint_circle":{"circle-radius":{"type":"number","default":5,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"circle-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"circle-blur":{"type":"number","default":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"circle-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"circle-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{"type":"enum","values":{"map":1,"viewport":1},"default":"map","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{"type":"enum","values":{"map":1,"viewport":1},"default":"map","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{"type":"enum","values":{"map":1,"viewport":1},"default":"viewport","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"circle-stroke-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"circle-stroke-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"circle-emissive-strength":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"]},"property-type":"data-constant"}},"paint_heatmap":{"heatmap-radius":{"type":"number","default":30,"minimum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"heatmap-weight":{"type":"number","default":1,"minimum":0,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"heatmap-intensity":{"type":"number","default":1,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"heatmap-color":{"type":"color","default":["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",0.1,"royalblue",0.3,"cyan",0.5,"lime",0.7,"yellow",1,"red"],"expression":{"interpolated":true,"parameters":["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_symbol":{"icon-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"icon-occlusion-opacity":{"type":"number","minimum":0,"maximum":1,"default":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"icon-emissive-strength":{"type":"number","default":1,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light","feature-state"]},"property-type":"data-driven"},"text-emissive-strength":{"type":"number","default":1,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light","feature-state"]},"property-type":"data-driven"},"icon-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"icon-halo-color":{"type":"color","default":"rgba(0, 0, 0, 0)","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"icon-halo-width":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"icon-halo-blur":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"icon-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{"type":"enum","values":{"map":1,"viewport":1},"default":"map","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"icon-image-cross-fade":{"type":"number","property-type":"data-driven","default":0,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"transition":true},"text-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"text-occlusion-opacity":{"type":"number","minimum":0,"maximum":1,"default":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"text-color":{"type":"color","default":"#000000","transition":true,"overridable":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"text-halo-color":{"type":"color","default":"rgba(0, 0, 0, 0)","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"text-halo-width":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"text-halo-blur":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state","measure-light"]},"property-type":"data-driven"},"text-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{"type":"enum","values":{"map":1,"viewport":1},"default":"map","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"icon-color-saturation":{"type":"number","default":0,"minimum":-1,"maximum":1,"expression":{},"property-type":"data-constant"},"icon-color-contrast":{"type":"number","default":0,"minimum":-1,"maximum":1,"expression":{},"property-type":"data-constant"},"icon-color-brightness-min":{"type":"number","default":0,"minimum":0,"maximum":1,"expression":{},"property-type":"data-constant"},"icon-color-brightness-max":{"type":"number","default":1,"minimum":0,"maximum":1,"expression":{},"property-type":"data-constant"},"symbol-z-offset":{"type":"number","default":0,"minimum":0,"transition":true,"experimental":true,"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"}},"paint_raster":{"raster-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-color":{"type":"color","expression":{"interpolated":true,"parameters":["raster-value"]},"property-type":"color-ramp"},"raster-color-mix":{"type":"array","default":[0.2126,0.7152,0.0722,0],"length":4,"value":"number","property-type":"data-constant","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"raster-color-range":{"type":"array","length":2,"value":"number","property-type":"data-constant","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"raster-hue-rotate":{"type":"number","default":0,"period":360,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{"type":"number","default":0,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-saturation":{"type":"number","default":0,"minimum":-1,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-contrast":{"type":"number","default":0,"minimum":-1,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-resampling":{"type":"enum","values":{"linear":1,"nearest":1},"default":"linear","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{"type":"number","default":300,"minimum":0,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-emissive-strength":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"]},"property-type":"data-constant"},"raster-array-band":{"type":"string","required":false,"experimental":true,"property-type":"data-constant"},"raster-elevation":{"type":"number","default":0,"minimum":0,"transition":true,"experimental":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_raster-particle":{"raster-particle-array-band":{"type":"string","required":false,"property-type":"data-constant"},"raster-particle-count":{"type":"number","default":512,"minimum":1,"property-type":"data-constant"},"raster-particle-color":{"type":"color","expression":{"interpolated":true,"parameters":["raster-particle-speed"]},"property-type":"color-ramp"},"raster-particle-max-speed":{"type":"number","default":1,"minimum":1,"property-type":"data-constant"},"raster-particle-speed-factor":{"type":"number","default":0.2,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-particle-fade-opacity-factor":{"type":"number","default":0.98,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-particle-reset-rate-factor":{"type":"number","default":0.8,"minimum":0,"maximum":1,"property-type":"data-constant"},"raster-particle-elevation":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_hillshade":{"hillshade-illumination-direction":{"type":"number","default":335,"minimum":0,"maximum":359,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{"type":"enum","values":{"map":1,"viewport":1},"default":"viewport","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{"type":"number","default":0.5,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"]},"property-type":"data-constant"},"hillshade-highlight-color":{"type":"color","default":"#FFFFFF","transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"]},"property-type":"data-constant"},"hillshade-accent-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"]},"property-type":"data-constant"},"hillshade-emissive-strength":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"]},"property-type":"data-constant"}},"paint_background":{"background-pitch-alignment":{"type":"enum","values":{"map":1,"viewport":1},"default":"map","expression":{"parameters":[]},"experimental":true,"property-type":"data-constant"},"background-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"background-pattern":{"type":"resolvedImage","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"background-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"background-emissive-strength":{"type":"number","default":0,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","measure-light"]},"property-type":"data-constant"}},"paint_sky":{"sky-type":{"type":"enum","values":{"gradient":1,"atmosphere":1},"default":"atmosphere","expression":{"parameters":["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun":{"type":"array","value":"number","length":2,"minimum":[0,0],"maximum":[360,180],"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun-intensity":{"type":"number","default":10,"minimum":0,"maximum":100,"property-type":"data-constant"},"sky-gradient-center":{"type":"array","value":"number","default":[0,0],"length":2,"minimum":[0,0],"maximum":[360,180],"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"sky-gradient-radius":{"type":"number","default":90,"minimum":0,"maximum":180,"expression":{"parameters":["zoom"]},"property-type":"data-constant"},"sky-gradient":{"type":"color","default":["interpolate",["linear"],["sky-radial-progress"],0.8,"#87ceeb",1,"white"],"expression":{"interpolated":true,"parameters":["sky-radial-progress"]},"property-type":"color-ramp"},"sky-atmosphere-halo-color":{"type":"color","default":"white","property-type":"data-constant"},"sky-atmosphere-color":{"type":"color","default":"white","property-type":"data-constant"},"sky-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_model":{"model-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["feature","feature-state","zoom"]},"property-type":"data-driven"},"model-rotation":{"type":"array","value":"number","length":3,"default":[0,0,0],"period":360,"property-type":"data-driven","expression":{"interpolated":true,"parameters":["feature","feature-state","zoom"]},"transition":true},"model-scale":{"type":"array","value":"number","length":3,"default":[1,1,1],"property-type":"data-driven","expression":{"interpolated":true,"parameters":["feature","feature-state","zoom"]},"transition":true},"model-translation":{"type":"array","value":"number","length":3,"default":[0,0,0],"property-type":"data-driven","expression":{"interpolated":true,"parameters":["feature","feature-state","zoom"]},"transition":true},"model-color":{"type":"color","default":"#ffffff","property-type":"data-driven","expression":{"interpolated":true,"parameters":["feature","feature-state","measure-light","zoom"]},"transition":true},"model-color-mix-intensity":{"type":"number","property-type":"data-driven","default":0,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["feature","feature-state","measure-light"]},"transition":true},"model-type":{"type":"enum","values":{"common-3d":1,"location-indicator":1},"default":"common-3d","property-type":"data-constant"},"model-cast-shadows":{"type":"boolean","default":true,"property-type":"data-constant"},"model-receive-shadows":{"type":"boolean","default":true,"property-type":"data-constant"},"model-ambient-occlusion-intensity":{"type":"number","default":1,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant","transition":true},"model-emissive-strength":{"type":"number","property-type":"data-driven","default":0,"minimum":0,"maximum":5,"expression":{"interpolated":true,"parameters":["feature","feature-state","measure-light"]},"transition":true},"model-roughness":{"type":"number","default":1,"minimum":0,"maximum":1,"property-type":"data-driven","expression":{"interpolated":true,"parameters":["feature","feature-state"]},"transition":true},"model-height-based-emissive-strength-multiplier":{"type":"array","default":[1,1,1,1,0],"length":5,"value":"number","property-type":"data-driven","expression":{"interpolated":true,"parameters":["feature","feature-state","measure-light"]},"transition":true},"model-cutoff-fade-range":{"type":"number","default":0,"minimum":0,"maximum":1,"expression":{},"property-type":"data-constant"},"model-front-cutoff":{"type":"array","private":true,"value":"number","property-type":"data-constant","expression":{"interpolated":true,"parameters":["zoom"]},"length":3,"default":[0,0,1],"minimum":[0,0,0],"maximum":[1,1,1]}},"transition":{"duration":{"type":"number","default":300,"minimum":0},"delay":{"type":"number","default":0,"minimum":0}},"property-type":{"data-driven":{"type":"property-type"},"color-ramp":{"type":"property-type"},"data-constant":{"type":"property-type"},"constant":{"type":"property-type"}},"promoteId":{"*":{"type":"*"}}}');function mp(u){return u instanceof Number||u instanceof String||u instanceof Boolean?u.valueOf():u}function gp(u){if(Array.isArray(u))return u.map(gp);if(u instanceof Object&&!(u instanceof Number||u instanceof String||u instanceof Boolean)){const n={};for(const i in u)n[i]=gp(u[i]);return n}return mp(u)}function Em(u){if(u===!0||u===!1)return!0;if(!Array.isArray(u)||u.length===0)return!1;switch(u[0]){case"has":return u.length>=2&&u[1]!=="$id"&&u[1]!=="$type";case"in":return u.length>=3&&(typeof u[1]!="string"||Array.isArray(u[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return u.length!==3||Array.isArray(u[1])||Array.isArray(u[2]);case"any":case"all":for(const n of u.slice(1))if(!Em(n)&&typeof n!="boolean")return!1;return!0;default:return!0}}function Xg(u,n="",i=null,d="fill"){if(u==null)return{filter:()=>!0,needGeometry:!1,needFeature:!1};Em(u)||(u=vp(u));const g=u;let h=!0;try{h=function(b){if(!Af(b))return b;let P=gp(b);return qg(P),P=Yg(P),P}(g)}catch(b){console.warn(`Failed to extract static filter. Filter will continue working, but at higher memory usage and slower framerate.
This is most likely a bug, please report this via https://github.com/mapbox/mapbox-gl-js/issues/new?assignees=&labels=&template=Bug_report.md
and paste the contents of this message in the report.
Thank you!
Filter Expression:
${JSON.stringify(g,null,2)}
        `)}let v=null,S=null;if(d!=="background"&&d!=="sky"&&d!=="slot"){S=er[`filter_${d}`];const b=Of(h,S,n,i);if(b.result==="error")throw new Error(b.value.map(P=>`${P.key}: ${P.message}`).join(", "));v=(P,$,T)=>b.value.evaluate(P,$,{},T)}let M=null,A=null;if(h!==g){const b=Of(g,S,n,i);if(b.result==="error")throw new Error(b.value.map(P=>`${P.key}: ${P.message}`).join(", "));M=(P,$,T,O,N)=>b.value.evaluate(P,$,{},T,void 0,void 0,O,N),A=!Tl(b.value.expression)}return{filter:v,dynamicFilter:M||void 0,needGeometry:Im(h),needFeature:!!A}}function Yg(u){if(!Array.isArray(u))return u;const n=function(i){if(Ov.has(i[0])){for(let d=1;d<i.length;d++)if(Af(i[d]))return!0}return i}(u);return n===!0?n:n.map(i=>Yg(i))}function qg(u){let n=!1;const i=[];if(u[0]==="case"){for(let d=1;d<u.length-1;d+=2)n=n||Af(u[d]),i.push(u[d+1]);i.push(u[u.length-1])}else if(u[0]==="match"){n=n||Af(u[1]);for(let d=2;d<u.length-1;d+=2)i.push(u[d+1]);i.push(u[u.length-1])}else if(u[0]==="step"){n=n||Af(u[1]);for(let d=1;d<u.length-1;d+=2)i.push(u[d+1])}n&&(u.length=0,u.push("any",...i));for(let d=1;d<u.length;d++)qg(u[d])}function Af(u){if(!Array.isArray(u))return!1;if((n=u[0])==="pitch"||n==="distance-from-center")return!0;var n;for(let i=1;i<u.length;i++)if(Af(u[i]))return!0;return!1}const Ov=new Set(["in","==","!=",">",">=","<","<=","to-boolean"]);function Jg(u,n){return u<n?-1:u>n?1:0}function Im(u){if(!Array.isArray(u))return!1;if(u[0]==="within"||u[0]==="distance")return!0;for(let n=1;n<u.length;n++)if(Im(u[n]))return!0;return!1}function vp(u){if(!u)return!0;const n=u[0];return u.length<=1?n!=="any":n==="=="?xd(u[1],u[2],"=="):n==="!="?qd(xd(u[1],u[2],"==")):n==="<"||n===">"||n==="<="||n===">="?xd(u[1],u[2],n):n==="any"?(i=u.slice(1),["any"].concat(i.map(vp))):n==="all"?["all"].concat(u.slice(1).map(vp)):n==="none"?["all"].concat(u.slice(1).map(vp).map(qd)):n==="in"?Tm(u[1],u.slice(2)):n==="!in"?qd(Tm(u[1],u.slice(2))):n==="has"?Qg(u[1]):n!=="!has"||qd(Qg(u[1]));var i}function xd(u,n,i){switch(u){case"$type":return[`filter-type-${i}`,n];case"$id":return[`filter-id-${i}`,n];default:return[`filter-${i}`,u,n]}}function Tm(u,n){if(n.length===0)return!1;switch(u){case"$type":return["filter-type-in",["literal",n]];case"$id":return["filter-id-in",["literal",n]];default:return n.length>200&&!n.some(i=>typeof i!=typeof n[0])?["filter-in-large",u,["literal",n.sort(Jg)]]:["filter-in-small",u,["literal",n]]}}function Qg(u){switch(u){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",u]}}function qd(u){return["!",u]}const xh="";function Tu(u,n){return n?`${u}${xh}${n}`:u}const Cd="-transition",e0=new Set(["fill","line","background","hillshade","raster"]);class ic extends ho{constructor(n,i,d,g,h){if(super(),this.id=n.id,this.fqid=Tu(this.id,d),this.type=n.type,this.scope=d,this.lut=g,this.options=h,this._featureFilter={filter:()=>!0,needGeometry:!1,needFeature:!1},this._filterCompiled=!1,this.configDependencies=new Set,n.type!=="custom"){if(this.metadata=n.metadata,this.minzoom=n.minzoom,this.maxzoom=n.maxzoom,n.type&&n.type!=="background"&&n.type!=="sky"&&n.type!=="slot"){this.source=n.source,this.sourceLayer=n["source-layer"],this.filter=n.filter;const v=Of(this.filter,er[`filter_${n.type}`]);v.result!=="error"&&(this.configDependencies=new Set([...this.configDependencies,...v.value.configDependencies]))}if(n.slot&&(this.slot=n.slot),i.layout&&(this._unevaluatedLayout=new Yd(i.layout,this.scope,h),this.configDependencies=new Set([...this.configDependencies,...this._unevaluatedLayout.configDependencies])),i.paint){this._transitionablePaint=new pp(i.paint,this.scope,h);for(const v in n.paint)this.setPaintProperty(v,n.paint[v]);for(const v in n.layout)this.setLayoutProperty(v,n.layout[v]);this.configDependencies=new Set([...this.configDependencies,...this._transitionablePaint.configDependencies]),this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new $f(i.paint)}}}onAdd(n){}onRemove(n){}isDraped(n){return!this.is3D()&&e0.has(this.type)}getLayoutProperty(n){return n==="visibility"?this.visibility:this._unevaluatedLayout.getValue(n)}setLayoutProperty(n,i){if(this.type==="custom"&&n==="visibility")return void(this.visibility=i);const d=this._unevaluatedLayout;d._properties.properties[n]&&(d.setValue(n,i),this.configDependencies=new Set([...this.configDependencies,...d.configDependencies]),n==="visibility"&&this.possiblyEvaluateVisibility())}possiblyEvaluateVisibility(){this._unevaluatedLayout._values.visibility&&(this.visibility=this._unevaluatedLayout._values.visibility.possiblyEvaluate({zoom:0}))}getPaintProperty(n){return Tr(n,Cd)?this._transitionablePaint.getTransition(n.slice(0,-11)):this._transitionablePaint.getValue(n)}setPaintProperty(n,i){const d=this._transitionablePaint,g=d._properties.properties;if(Tr(n,Cd)){const P=n.slice(0,-11);return g[P]&&d.setTransition(P,i||void 0),!1}if(!g[n])return!1;const h=d._values[n],v=h.value.isDataDriven(),S=h.value;d.setValue(n,i),this.configDependencies=new Set([...this.configDependencies,...d.configDependencies]),this._handleSpecialPaintPropertyUpdate(n);const M=d._values[n].value,A=M.isDataDriven(),b=Tr(n,"pattern")||n==="line-dasharray";return A||v||b||this._handleOverridablePaintPropertyUpdate(n,S,M)}_handleSpecialPaintPropertyUpdate(n){}getProgramIds(){return null}getDefaultProgramParams(n,i,d){return null}_handleOverridablePaintPropertyUpdate(n,i,d){return!1}isHidden(n){return!!(this.minzoom&&n<this.minzoom)||!!(this.maxzoom&&n>=this.maxzoom)||this.visibility==="none"}updateTransitions(n){this._transitioningPaint=this._transitionablePaint.transitioned(n,this._transitioningPaint)}hasTransition(){return this._transitioningPaint.hasTransition()}recalculate(n,i){this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(n,void 0,i)),this.paint=this._transitioningPaint.possiblyEvaluate(n,void 0,i)}serialize(){return ar({id:this.id,type:this.type,slot:this.slot,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()},(n,i)=>!(n===void 0||i==="layout"&&!Object.keys(n).length||i==="paint"&&!Object.keys(n).length))}is3D(){return!1}isSky(){return!1}isTileClipped(){return!1}hasOffscreenPass(){return!1}hasShadowPass(){return!1}canCastShadows(){return!1}hasLightBeamPass(){return!1}cutoffRange(){return 0}tileCoverLift(){return 0}resize(){}isStateDependent(){for(const n in this.paint._values){const i=this.paint.get(n);if(i instanceof Rf&&ol(i.property.specification)&&(i.value.kind==="source"||i.value.kind==="composite")&&i.value.isStateDependent)return!0}return!1}compileFilter(n){this._filterCompiled||(this._featureFilter=Xg(this.filter,this.scope,n),this._filterCompiled=!0)}invalidateCompiledFilter(){this._filterCompiled=!1}dynamicFilter(){return this._featureFilter.dynamicFilter}dynamicFilterNeedsFeature(){return this._featureFilter.needFeature}getLayerRenderingStats(){return this._stats}resetLayerRenderingStats(n){this._stats&&(n.renderPass==="shadow"?this._stats.numRenderedVerticesInShadowPass=0:this._stats.numRenderedVerticesInTransparentPass=0)}queryRadius(n){}queryIntersectsFeature(n,i,d,g,h,v,S,M,A){}}const H_={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array};class Ch{constructor(n,i){this._structArray=n,this._pos1=i*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8}}class Ws{constructor(){this.isTransferred=!1,this.capacity=-1,this.resize(0)}static serialize(n,i){return n._trim(),i&&(n.isTransferred=!0,i.add(n.arrayBuffer)),{length:n.length,arrayBuffer:n.arrayBuffer}}static deserialize(n){const i=Object.create(this.prototype);return i.arrayBuffer=n.arrayBuffer,i.length=n.length,i.capacity=n.arrayBuffer.byteLength/i.bytesPerElement,i._refreshViews(),i}_trim(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())}clear(){this.length=0}resize(n){this.reserve(n),this.length=n}reserve(n){if(n>this.capacity){this.capacity=Math.max(n,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);const i=this.uint8;this._refreshViews(),i&&this.uint8.set(i)}}_refreshViews(){throw new Error("StructArray#_refreshViews() must be implemented by each concrete StructArray layout")}emplace(...n){throw new Error("StructArray#emplace() must be implemented by each concrete StructArray layout")}emplaceBack(...n){throw new Error("StructArray#emplaceBack() must be implemented by each concrete StructArray layout")}destroy(){this.int8=this.uint8=this.int16=this.uint16=this.int32=this.uint32=this.float32=null,this.arrayBuffer=null}}function xs(u,n=1){let i=0,d=0;return{members:u.map(g=>{const h=H_[g.type].BYTES_PER_ELEMENT,v=i=Mm(i,Math.max(n,h)),S=g.components||1;return d=Math.max(d,h),i+=h*S,{name:g.name,type:g.type,components:S,offset:v}}),size:Mm(i,Math.max(d,n)),alignment:n}}function Mm(u,n){return Math.ceil(u/n)*n}class Mu extends Ws{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(n,i){const d=this.length;return this.resize(d+1),this.emplace(d,n,i)}emplace(n,i,d){const g=2*n;return this.int16[g+0]=i,this.int16[g+1]=d,n}}Mu.prototype.bytesPerElement=4,Eo(Mu,"StructArrayLayout2i4");class Ku extends Ws{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(n,i,d){const g=this.length;return this.resize(g+1),this.emplace(g,n,i,d)}emplace(n,i,d,g){const h=3*n;return this.int16[h+0]=i,this.int16[h+1]=d,this.int16[h+2]=g,n}}Ku.prototype.bytesPerElement=6,Eo(Ku,"StructArrayLayout3i6");class Xu extends Ws{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(n,i,d,g){const h=this.length;return this.resize(h+1),this.emplace(h,n,i,d,g)}emplace(n,i,d,g,h){const v=4*n;return this.int16[v+0]=i,this.int16[v+1]=d,this.int16[v+2]=g,this.int16[v+3]=h,n}}Xu.prototype.bytesPerElement=8,Eo(Xu,"StructArrayLayout4i8");class yp extends Ws{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(n,i,d,g,h){const v=this.length;return this.resize(v+1),this.emplace(v,n,i,d,g,h)}emplace(n,i,d,g,h,v){const S=5*n;return this.int16[S+0]=i,this.int16[S+1]=d,this.int16[S+2]=g,this.int16[S+3]=h,this.int16[S+4]=v,n}}yp.prototype.bytesPerElement=10,Eo(yp,"StructArrayLayout5i10");class Sh extends Ws{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(n,i,d,g,h,v,S){const M=this.length;return this.resize(M+1),this.emplace(M,n,i,d,g,h,v,S)}emplace(n,i,d,g,h,v,S,M){const A=6*n,b=12*n,P=3*n;return this.int16[A+0]=i,this.int16[A+1]=d,this.uint8[b+4]=g,this.uint8[b+5]=h,this.uint8[b+6]=v,this.uint8[b+7]=S,this.float32[P+2]=M,n}}Sh.prototype.bytesPerElement=12,Eo(Sh,"StructArrayLayout2i4ub1f12");class Pu extends Ws{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(n,i,d){const g=this.length;return this.resize(g+1),this.emplace(g,n,i,d)}emplace(n,i,d,g){const h=3*n;return this.float32[h+0]=i,this.float32[h+1]=d,this.float32[h+2]=g,n}}Pu.prototype.bytesPerElement=12,Eo(Pu,"StructArrayLayout3f12");class vl extends Ws{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(n,i,d,g,h){const v=this.length;return this.resize(v+1),this.emplace(v,n,i,d,g,h)}emplace(n,i,d,g,h,v){const S=6*n,M=3*n;return this.uint16[S+0]=i,this.uint16[S+1]=d,this.uint16[S+2]=g,this.uint16[S+3]=h,this.float32[M+2]=v,n}}vl.prototype.bytesPerElement=12,Eo(vl,"StructArrayLayout4ui1f12");class Kc extends Ws{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(n,i,d,g){const h=this.length;return this.resize(h+1),this.emplace(h,n,i,d,g)}emplace(n,i,d,g,h){const v=4*n;return this.uint16[v+0]=i,this.uint16[v+1]=d,this.uint16[v+2]=g,this.uint16[v+3]=h,n}}Kc.prototype.bytesPerElement=8,Eo(Kc,"StructArrayLayout4ui8");class Yu extends Ws{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(n,i,d,g,h,v){const S=this.length;return this.resize(S+1),this.emplace(S,n,i,d,g,h,v)}emplace(n,i,d,g,h,v,S){const M=6*n;return this.int16[M+0]=i,this.int16[M+1]=d,this.int16[M+2]=g,this.int16[M+3]=h,this.int16[M+4]=v,this.int16[M+5]=S,n}}Yu.prototype.bytesPerElement=12,Eo(Yu,"StructArrayLayout6i12");class Pm extends Ws{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(n,i,d,g,h,v,S,M,A,b,P,$){const T=this.length;return this.resize(T+1),this.emplace(T,n,i,d,g,h,v,S,M,A,b,P,$)}emplace(n,i,d,g,h,v,S,M,A,b,P,$,T){const O=12*n;return this.int16[O+0]=i,this.int16[O+1]=d,this.int16[O+2]=g,this.int16[O+3]=h,this.uint16[O+4]=v,this.uint16[O+5]=S,this.uint16[O+6]=M,this.uint16[O+7]=A,this.int16[O+8]=b,this.int16[O+9]=P,this.int16[O+10]=$,this.int16[O+11]=T,n}}Pm.prototype.bytesPerElement=24,Eo(Pm,"StructArrayLayout4i4ui4i24");class Om extends Ws{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(n,i,d,g,h,v){const S=this.length;return this.resize(S+1),this.emplace(S,n,i,d,g,h,v)}emplace(n,i,d,g,h,v,S){const M=10*n,A=5*n;return this.int16[M+0]=i,this.int16[M+1]=d,this.int16[M+2]=g,this.float32[A+2]=h,this.float32[A+3]=v,this.float32[A+4]=S,n}}Om.prototype.bytesPerElement=20,Eo(Om,"StructArrayLayout3i3f20");class Jd extends Ws{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(n,i,d,g){const h=this.length;return this.resize(h+1),this.emplace(h,n,i,d,g)}emplace(n,i,d,g,h){const v=4*n;return this.float32[v+0]=i,this.float32[v+1]=d,this.float32[v+2]=g,this.float32[v+3]=h,n}}Jd.prototype.bytesPerElement=16,Eo(Jd,"StructArrayLayout4f16");class Rm extends Ws{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(n){const i=this.length;return this.resize(i+1),this.emplace(i,n)}emplace(n,i){return this.uint32[1*n+0]=i,n}}Rm.prototype.bytesPerElement=4,Eo(Rm,"StructArrayLayout1ul4");class Sd extends Ws{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(n,i){const d=this.length;return this.resize(d+1),this.emplace(d,n,i)}emplace(n,i,d){const g=2*n;return this.uint16[g+0]=i,this.uint16[g+1]=d,n}}Sd.prototype.bytesPerElement=4,Eo(Sd,"StructArrayLayout2ui4");class wd extends Ws{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(n,i,d,g,h,v,S,M,A,b,P,$,T){const O=this.length;return this.resize(O+1),this.emplace(O,n,i,d,g,h,v,S,M,A,b,P,$,T)}emplace(n,i,d,g,h,v,S,M,A,b,P,$,T,O){const N=20*n,W=10*n;return this.int16[N+0]=i,this.int16[N+1]=d,this.int16[N+2]=g,this.int16[N+3]=h,this.int16[N+4]=v,this.float32[W+3]=S,this.float32[W+4]=M,this.float32[W+5]=A,this.float32[W+6]=b,this.int16[N+14]=P,this.uint32[W+8]=$,this.uint16[N+18]=T,this.uint16[N+19]=O,n}}wd.prototype.bytesPerElement=40,Eo(wd,"StructArrayLayout5i4f1i1ul2ui40");class qu extends Ws{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(n,i,d,g,h,v,S){const M=this.length;return this.resize(M+1),this.emplace(M,n,i,d,g,h,v,S)}emplace(n,i,d,g,h,v,S,M){const A=8*n;return this.int16[A+0]=i,this.int16[A+1]=d,this.int16[A+2]=g,this.int16[A+4]=h,this.int16[A+5]=v,this.int16[A+6]=S,this.int16[A+7]=M,n}}qu.prototype.bytesPerElement=16,Eo(qu,"StructArrayLayout3i2i2i16");class $m extends Ws{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(n,i,d,g,h){const v=this.length;return this.resize(v+1),this.emplace(v,n,i,d,g,h)}emplace(n,i,d,g,h,v){const S=4*n,M=8*n;return this.float32[S+0]=i,this.float32[S+1]=d,this.float32[S+2]=g,this.int16[M+6]=h,this.int16[M+7]=v,n}}$m.prototype.bytesPerElement=16,Eo($m,"StructArrayLayout2f1f2i16");class Am extends Ws{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(n,i,d,g,h,v){const S=this.length;return this.resize(S+1),this.emplace(S,n,i,d,g,h,v)}emplace(n,i,d,g,h,v,S){const M=20*n,A=5*n;return this.uint8[M+0]=i,this.uint8[M+1]=d,this.float32[A+1]=g,this.float32[A+2]=h,this.float32[A+3]=v,this.float32[A+4]=S,n}}Am.prototype.bytesPerElement=20,Eo(Am,"StructArrayLayout2ub4f20");class lc extends Ws{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(n,i,d){const g=this.length;return this.resize(g+1),this.emplace(g,n,i,d)}emplace(n,i,d,g){const h=3*n;return this.uint16[h+0]=i,this.uint16[h+1]=d,this.uint16[h+2]=g,n}}lc.prototype.bytesPerElement=6,Eo(lc,"StructArrayLayout3ui6");class Dm extends Ws{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(n,i,d,g,h,v,S,M,A,b,P,$,T,O,N,W,J,se,ue,re,ve){const we=this.length;return this.resize(we+1),this.emplace(we,n,i,d,g,h,v,S,M,A,b,P,$,T,O,N,W,J,se,ue,re,ve)}emplace(n,i,d,g,h,v,S,M,A,b,P,$,T,O,N,W,J,se,ue,re,ve,we){const Be=30*n,mt=15*n,pt=60*n;return this.int16[Be+0]=i,this.int16[Be+1]=d,this.int16[Be+2]=g,this.float32[mt+2]=h,this.float32[mt+3]=v,this.uint16[Be+8]=S,this.uint16[Be+9]=M,this.uint32[mt+5]=A,this.uint32[mt+6]=b,this.uint32[mt+7]=P,this.uint16[Be+16]=$,this.uint16[Be+17]=T,this.uint16[Be+18]=O,this.float32[mt+10]=N,this.float32[mt+11]=W,this.uint8[pt+48]=J,this.uint8[pt+49]=se,this.uint8[pt+50]=ue,this.uint32[mt+13]=re,this.int16[Be+28]=ve,this.uint8[pt+58]=we,n}}Dm.prototype.bytesPerElement=60,Eo(Dm,"StructArrayLayout3i2f2ui3ul3ui2f3ub1ul1i1ub60");class Lm extends Ws{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(n,i,d,g,h,v,S,M,A,b,P,$,T,O,N,W,J,se,ue,re,ve,we,Be,mt,pt,ft,Yt,yt,en,yn,fn,xn){const Bn=this.length;return this.resize(Bn+1),this.emplace(Bn,n,i,d,g,h,v,S,M,A,b,P,$,T,O,N,W,J,se,ue,re,ve,we,Be,mt,pt,ft,Yt,yt,en,yn,fn,xn)}emplace(n,i,d,g,h,v,S,M,A,b,P,$,T,O,N,W,J,se,ue,re,ve,we,Be,mt,pt,ft,Yt,yt,en,yn,fn,xn,Bn){const Yn=20*n,$n=40*n,$r=80*n;return this.float32[Yn+0]=i,this.float32[Yn+1]=d,this.int16[$n+4]=g,this.int16[$n+5]=h,this.int16[$n+6]=v,this.int16[$n+7]=S,this.int16[$n+8]=M,this.int16[$n+9]=A,this.int16[$n+10]=b,this.int16[$n+11]=P,this.int16[$n+12]=$,this.uint16[$n+13]=T,this.uint16[$n+14]=O,this.uint16[$n+15]=N,this.uint16[$n+16]=W,this.uint16[$n+17]=J,this.uint16[$n+18]=se,this.uint16[$n+19]=ue,this.uint16[$n+20]=re,this.uint16[$n+21]=ve,this.uint16[$n+22]=we,this.uint16[$n+23]=Be,this.uint16[$n+24]=mt,this.uint16[$n+25]=pt,this.uint16[$n+26]=ft,this.uint16[$n+27]=Yt,this.uint32[Yn+14]=yt,this.float32[Yn+15]=en,this.float32[Yn+16]=yn,this.float32[Yn+17]=fn,this.float32[Yn+18]=xn,this.uint8[$r+76]=Bn,n}}Lm.prototype.bytesPerElement=80,Eo(Lm,"StructArrayLayout2f9i15ui1ul4f1ub80");class Df extends Ws{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(n){const i=this.length;return this.resize(i+1),this.emplace(i,n)}emplace(n,i){return this.float32[1*n+0]=i,n}}Df.prototype.bytesPerElement=4,Eo(Df,"StructArrayLayout1f4");class Cs extends Ws{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(n,i,d,g,h){const v=this.length;return this.resize(v+1),this.emplace(v,n,i,d,g,h)}emplace(n,i,d,g,h,v){const S=5*n;return this.float32[S+0]=i,this.float32[S+1]=d,this.float32[S+2]=g,this.float32[S+3]=h,this.float32[S+4]=v,n}}Cs.prototype.bytesPerElement=20,Eo(Cs,"StructArrayLayout5f20");class zm extends Ws{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(n,i,d,g,h,v,S){const M=this.length;return this.resize(M+1),this.emplace(M,n,i,d,g,h,v,S)}emplace(n,i,d,g,h,v,S,M){const A=7*n;return this.float32[A+0]=i,this.float32[A+1]=d,this.float32[A+2]=g,this.float32[A+3]=h,this.float32[A+4]=v,this.float32[A+5]=S,this.float32[A+6]=M,n}}zm.prototype.bytesPerElement=28,Eo(zm,"StructArrayLayout7f28");class Ou extends Ws{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(n,i,d,g,h,v,S,M,A,b,P){const $=this.length;return this.resize($+1),this.emplace($,n,i,d,g,h,v,S,M,A,b,P)}emplace(n,i,d,g,h,v,S,M,A,b,P,$){const T=11*n;return this.float32[T+0]=i,this.float32[T+1]=d,this.float32[T+2]=g,this.float32[T+3]=h,this.float32[T+4]=v,this.float32[T+5]=S,this.float32[T+6]=M,this.float32[T+7]=A,this.float32[T+8]=b,this.float32[T+9]=P,this.float32[T+10]=$,n}}Ou.prototype.bytesPerElement=44,Eo(Ou,"StructArrayLayout11f44");class wh extends Ws{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(n,i,d,g,h,v,S,M,A){const b=this.length;return this.resize(b+1),this.emplace(b,n,i,d,g,h,v,S,M,A)}emplace(n,i,d,g,h,v,S,M,A,b){const P=9*n;return this.float32[P+0]=i,this.float32[P+1]=d,this.float32[P+2]=g,this.float32[P+3]=h,this.float32[P+4]=v,this.float32[P+5]=S,this.float32[P+6]=M,this.float32[P+7]=A,this.float32[P+8]=b,n}}wh.prototype.bytesPerElement=36,Eo(wh,"StructArrayLayout9f36");class pu extends Ws{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(n,i){const d=this.length;return this.resize(d+1),this.emplace(d,n,i)}emplace(n,i,d){const g=2*n;return this.float32[g+0]=i,this.float32[g+1]=d,n}}pu.prototype.bytesPerElement=8,Eo(pu,"StructArrayLayout2f8");class mu extends Ws{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(n,i,d,g){const h=this.length;return this.resize(h+1),this.emplace(h,n,i,d,g)}emplace(n,i,d,g,h){const v=6*n;return this.uint32[3*n+0]=i,this.uint16[v+2]=d,this.uint16[v+3]=g,this.uint16[v+4]=h,n}}mu.prototype.bytesPerElement=12,Eo(mu,"StructArrayLayout1ul3ui12");class _p extends Ws{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(n){const i=this.length;return this.resize(i+1),this.emplace(i,n)}emplace(n,i){return this.uint16[1*n+0]=i,n}}_p.prototype.bytesPerElement=2,Eo(_p,"StructArrayLayout1ui2");class Lf extends Ws{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(n,i,d,g,h,v,S,M,A,b,P,$,T,O,N,W){const J=this.length;return this.resize(J+1),this.emplace(J,n,i,d,g,h,v,S,M,A,b,P,$,T,O,N,W)}emplace(n,i,d,g,h,v,S,M,A,b,P,$,T,O,N,W,J){const se=16*n;return this.float32[se+0]=i,this.float32[se+1]=d,this.float32[se+2]=g,this.float32[se+3]=h,this.float32[se+4]=v,this.float32[se+5]=S,this.float32[se+6]=M,this.float32[se+7]=A,this.float32[se+8]=b,this.float32[se+9]=P,this.float32[se+10]=$,this.float32[se+11]=T,this.float32[se+12]=O,this.float32[se+13]=N,this.float32[se+14]=W,this.float32[se+15]=J,n}}Lf.prototype.bytesPerElement=64,Eo(Lf,"StructArrayLayout16f64");class zf extends Ws{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(n,i,d,g,h,v,S){const M=this.length;return this.resize(M+1),this.emplace(M,n,i,d,g,h,v,S)}emplace(n,i,d,g,h,v,S,M){const A=10*n,b=5*n;return this.uint16[A+0]=i,this.uint16[A+1]=d,this.uint16[A+2]=g,this.uint16[A+3]=h,this.float32[b+2]=v,this.float32[b+3]=S,this.float32[b+4]=M,n}}zf.prototype.bytesPerElement=20,Eo(zf,"StructArrayLayout4ui3f20");class Qd extends Ws{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(n){const i=this.length;return this.resize(i+1),this.emplace(i,n)}emplace(n,i){return this.int16[1*n+0]=i,n}}Qd.prototype.bytesPerElement=2,Eo(Qd,"StructArrayLayout1i2");class bp extends Ws{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer)}emplaceBack(n){const i=this.length;return this.resize(i+1),this.emplace(i,n)}emplace(n,i){return this.uint8[1*n+0]=i,n}}bp.prototype.bytesPerElement=1,Eo(bp,"StructArrayLayout1ub1");class eu extends Ch{get projectedAnchorX(){return this._structArray.int16[this._pos2+0]}get projectedAnchorY(){return this._structArray.int16[this._pos2+1]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+2]}get tileAnchorX(){return this._structArray.int16[this._pos2+3]}get tileAnchorY(){return this._structArray.int16[this._pos2+4]}get x1(){return this._structArray.float32[this._pos4+3]}get y1(){return this._structArray.float32[this._pos4+4]}get x2(){return this._structArray.float32[this._pos4+5]}get y2(){return this._structArray.float32[this._pos4+6]}get padding(){return this._structArray.int16[this._pos2+14]}get featureIndex(){return this._structArray.uint32[this._pos4+8]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+18]}get bucketIndex(){return this._structArray.uint16[this._pos2+19]}}eu.prototype.size=40;class Nm extends wd{get(n){return new eu(this,n)}}Eo(Nm,"CollisionBoxArray");class Ju extends Ch{get projectedAnchorX(){return this._structArray.int16[this._pos2+0]}get projectedAnchorY(){return this._structArray.int16[this._pos2+1]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+2]}get tileAnchorX(){return this._structArray.float32[this._pos4+2]}get tileAnchorY(){return this._structArray.float32[this._pos4+3]}get glyphStartIndex(){return this._structArray.uint16[this._pos2+8]}get numGlyphs(){return this._structArray.uint16[this._pos2+9]}get vertexStartIndex(){return this._structArray.uint32[this._pos4+5]}get lineStartIndex(){return this._structArray.uint32[this._pos4+6]}get lineLength(){return this._structArray.uint32[this._pos4+7]}get segment(){return this._structArray.uint16[this._pos2+16]}get lowerSize(){return this._structArray.uint16[this._pos2+17]}get upperSize(){return this._structArray.uint16[this._pos2+18]}get lineOffsetX(){return this._structArray.float32[this._pos4+10]}get lineOffsetY(){return this._structArray.float32[this._pos4+11]}get writingMode(){return this._structArray.uint8[this._pos1+48]}get placedOrientation(){return this._structArray.uint8[this._pos1+49]}set placedOrientation(n){this._structArray.uint8[this._pos1+49]=n}get hidden(){return this._structArray.uint8[this._pos1+50]}set hidden(n){this._structArray.uint8[this._pos1+50]=n}get crossTileID(){return this._structArray.uint32[this._pos4+13]}set crossTileID(n){this._structArray.uint32[this._pos4+13]=n}get associatedIconIndex(){return this._structArray.int16[this._pos2+28]}get flipState(){return this._structArray.uint8[this._pos1+58]}set flipState(n){this._structArray.uint8[this._pos1+58]=n}}Ju.prototype.size=60;class t0 extends Dm{get(n){return new Ju(this,n)}}Eo(t0,"PlacedSymbolArray");class Bm extends Ch{get tileAnchorX(){return this._structArray.float32[this._pos4+0]}get tileAnchorY(){return this._structArray.float32[this._pos4+1]}get projectedAnchorX(){return this._structArray.int16[this._pos2+4]}get projectedAnchorY(){return this._structArray.int16[this._pos2+5]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+6]}get rightJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+7]}get centerJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+8]}get leftJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+9]}get verticalPlacedTextSymbolIndex(){return this._structArray.int16[this._pos2+10]}get placedIconSymbolIndex(){return this._structArray.int16[this._pos2+11]}get verticalPlacedIconSymbolIndex(){return this._structArray.int16[this._pos2+12]}get key(){return this._structArray.uint16[this._pos2+13]}get textBoxStartIndex(){return this._structArray.uint16[this._pos2+14]}get textBoxEndIndex(){return this._structArray.uint16[this._pos2+15]}get verticalTextBoxStartIndex(){return this._structArray.uint16[this._pos2+16]}get verticalTextBoxEndIndex(){return this._structArray.uint16[this._pos2+17]}get iconBoxStartIndex(){return this._structArray.uint16[this._pos2+18]}get iconBoxEndIndex(){return this._structArray.uint16[this._pos2+19]}get verticalIconBoxStartIndex(){return this._structArray.uint16[this._pos2+20]}get verticalIconBoxEndIndex(){return this._structArray.uint16[this._pos2+21]}get featureIndex(){return this._structArray.uint16[this._pos2+22]}get numHorizontalGlyphVertices(){return this._structArray.uint16[this._pos2+23]}get numVerticalGlyphVertices(){return this._structArray.uint16[this._pos2+24]}get numIconVertices(){return this._structArray.uint16[this._pos2+25]}get numVerticalIconVertices(){return this._structArray.uint16[this._pos2+26]}get useRuntimeCollisionCircles(){return this._structArray.uint16[this._pos2+27]}get crossTileID(){return this._structArray.uint32[this._pos4+14]}set crossTileID(n){this._structArray.uint32[this._pos4+14]=n}get textOffset0(){return this._structArray.float32[this._pos4+15]}get textOffset1(){return this._structArray.float32[this._pos4+16]}get collisionCircleDiameter(){return this._structArray.float32[this._pos4+17]}get zOffset(){return this._structArray.float32[this._pos4+18]}set zOffset(n){this._structArray.float32[this._pos4+18]=n}get hasIconTextFit(){return this._structArray.uint8[this._pos1+76]}}Bm.prototype.size=80;class Eh extends Lm{get(n){return new Bm(this,n)}}Eo(Eh,"SymbolInstanceArray");class Fm extends Df{getoffsetX(n){return this.float32[1*n+0]}}Eo(Fm,"GlyphOffsetArray");class ef extends Mu{getx(n){return this.int16[2*n+0]}gety(n){return this.int16[2*n+1]}}Eo(ef,"SymbolLineVertexArray");class Nf extends Ch{get featureIndex(){return this._structArray.uint32[this._pos4+0]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+2]}get bucketIndex(){return this._structArray.uint16[this._pos2+3]}get layoutVertexArrayOffset(){return this._structArray.uint16[this._pos2+4]}}Nf.prototype.size=12;class Ih extends mu{get(n){return new Nf(this,n)}}Eo(Ih,"FeatureIndexArray");class Ic extends Sd{geta_centroid_pos0(n){return this.uint16[2*n+0]}geta_centroid_pos1(n){return this.uint16[2*n+1]}}Eo(Ic,"FillExtrusionCentroidArray");class Th extends Ch{get a_join_normal_inside0(){return this._structArray.int16[this._pos2+0]}get a_join_normal_inside1(){return this._structArray.int16[this._pos2+1]}get a_join_normal_inside2(){return this._structArray.int16[this._pos2+2]}}Th.prototype.size=6;class xp extends Ku{get(n){return new Th(this,n)}}Eo(xp,"FillExtrusionWallArray");const km=xs([{name:"a_pos",components:2,type:"Int16"}],4),Zm=xs([{name:"a_pos_3",components:3,type:"Int16"},{name:"a_pos_normal_3",components:3,type:"Int16"}]);class sl{constructor(n=[]){this.segments=n}_prepareSegment(n,i,d,g){let h=this.segments[this.segments.length-1];return n>sl.MAX_VERTEX_ARRAY_LENGTH&&Wn(`Max vertices per segment is ${sl.MAX_VERTEX_ARRAY_LENGTH}: bucket requested ${n}`),(!h||h.vertexLength+n>sl.MAX_VERTEX_ARRAY_LENGTH||h.sortKey!==g)&&(h={vertexOffset:i,primitiveOffset:d,vertexLength:0,primitiveLength:0},g!==void 0&&(h.sortKey=g),this.segments.push(h)),h}prepareSegment(n,i,d,g){return this._prepareSegment(n,i.length,d.length,g)}get(){return this.segments}destroy(){for(const n of this.segments)for(const i in n.vaos)n.vaos[i].destroy()}static simpleSegment(n,i,d,g){return new sl([{vertexOffset:n,primitiveOffset:i,vertexLength:d,primitiveLength:g,vaos:{},sortKey:0}])}}function tf(u,n){return 256*(u=Hn(Math.floor(u),0,255))+Hn(Math.floor(n),0,255)}sl.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,Eo(sl,"SegmentVector");const n0=xs([{name:"a_pattern",components:4,type:"Uint16"},{name:"a_pixel_ratio",components:1,type:"Float32"}]),nf=xs([{name:"a_dash",components:4,type:"Uint16"}]);class Qu{constructor(){this.ids=[],this.uniqueIds=[],this.positions=[],this.indexed=!1}add(n,i,d,g){this.ids.push(jm(n)),this.positions.push(i,d,g)}eachPosition(n,i){const d=jm(n);let g=0,h=this.ids.length-1;for(;g<h;){const v=g+h>>1;this.ids[v]>=d?h=v:g=v+1}for(;this.ids[g]===d;)i(this.positions[3*g],this.positions[3*g+1],this.positions[3*g+2]),g++}static serialize(n,i){const d=new Float64Array(n.ids),g=new Uint32Array(n.positions);return Mh(d,g,0,d.length-1),i&&(i.add(d.buffer),i.add(g.buffer)),{ids:d,positions:g}}static deserialize(n){const i=new Qu;let d;i.ids=n.ids,i.positions=n.positions;for(const g of i.ids)g!==d&&i.uniqueIds.push(g),d=g;return i.indexed=!0,i}}function jm(u){const n=+u;return!isNaN(n)&&Number.MIN_SAFE_INTEGER<=n&&n<=Number.MAX_SAFE_INTEGER?n:Lo(String(u))}function Mh(u,n,i,d){for(;i<d;){const g=u[i+d>>1];let h=i-1,v=d+1;for(;;){do h++;while(u[h]<g);do v--;while(u[v]>g);if(h>=v)break;Cp(u,h,v),Cp(n,3*h,3*v),Cp(n,3*h+1,3*v+1),Cp(n,3*h+2,3*v+2)}v-i<d-v?(Mh(u,n,i,v),i=v+1):(Mh(u,n,v+1,d),d=v)}}function Cp(u,n,i){const d=u[n];u[n]=u[i],u[i]=d}Eo(Qu,"FeaturePositionMap");class Ru{constructor(n){this.gl=n.gl,this.initialized=!1}fetchUniformLocation(n,i){return this.location||this.initialized||(this.location=this.gl.getUniformLocation(n,i),this.initialized=!0),!!this.location}set(n,i,d){throw new Error("Uniform#set() must be implemented by each concrete Uniform")}}class rf extends Ru{constructor(n){super(n),this.current=0}set(n,i,d){this.fetchUniformLocation(n,i)&&this.current!==d&&(this.current=d,this.gl.uniform1i(this.location,d))}}class yl extends Ru{constructor(n){super(n),this.current=0}set(n,i,d){this.fetchUniformLocation(n,i)&&this.current!==d&&(this.current=d,this.gl.uniform1f(this.location,d))}}class Zc extends Ru{constructor(n){super(n),this.current=[0,0]}set(n,i,d){this.fetchUniformLocation(n,i)&&(d[0]===this.current[0]&&d[1]===this.current[1]||(this.current=d,this.gl.uniform2f(this.location,d[0],d[1])))}}class Bf extends Ru{constructor(n){super(n),this.current=[0,0,0]}set(n,i,d){this.fetchUniformLocation(n,i)&&(d[0]===this.current[0]&&d[1]===this.current[1]&&d[2]===this.current[2]||(this.current=d,this.gl.uniform3f(this.location,d[0],d[1],d[2])))}}class Ph extends Ru{constructor(n){super(n),this.current=[0,0,0,0]}set(n,i,d){this.fetchUniformLocation(n,i)&&(d[0]===this.current[0]&&d[1]===this.current[1]&&d[2]===this.current[2]&&d[3]===this.current[3]||(this.current=d,this.gl.uniform4f(this.location,d[0],d[1],d[2],d[3])))}}class Sp extends Ru{constructor(n){super(n),this.current=_e.transparent.toRenderColor(null)}set(n,i,d){this.fetchUniformLocation(n,i)&&(d.r===this.current.r&&d.g===this.current.g&&d.b===this.current.b&&d.a===this.current.a||(this.current=d,this.gl.uniform4f(this.location,d.r,d.g,d.b,d.a)))}}const Vm=new Float32Array(16);class Oh extends Ru{constructor(n){super(n),this.current=Vm}set(n,i,d){if(this.fetchUniformLocation(n,i)){if(d[12]!==this.current[12]||d[0]!==this.current[0])return this.current=d,void this.gl.uniformMatrix4fv(this.location,!1,d);for(let g=1;g<16;g++)if(d[g]!==this.current[g]){this.current=d,this.gl.uniformMatrix4fv(this.location,!1,d);break}}}}const Rh=new Float32Array(9),Rv=new Float32Array(4);class of extends Ru{constructor(n){super(n),this.current=Rv}set(n,i,d){if(this.fetchUniformLocation(n,i)){for(let g=0;g<4;g++)if(d[g]!==this.current[g]){this.current=d,this.gl.uniformMatrix2fv(this.location,!1,d);break}}}}function Hm(u){return[tf(255*u.r,255*u.g),tf(255*u.b,255*u.a)]}class Ed{constructor(n,i,d,g){this.value=n,this.uniformNames=i.map(h=>`u_${h}`),this.type=d,this.context=g}setUniform(n,i,d,g,h){const v=g.constantOr(this.value);i.set(n,h,v instanceof _e?v.toRenderColor(this.ignoreLut?null:this.context.lut):v)}getBinding(n,i){return this.type==="color"?new Sp(n):new yl(n)}}class af{constructor(n,i){this.uniformNames=i.map(d=>`u_${d}`),this.pattern=null,this.pixelRatio=1}setConstantPatternPositions(n){this.pixelRatio=n.pixelRatio||1,this.pattern=n.tl.concat(n.br)}setUniform(n,i,d,g,h){const v=h==="u_pattern"||h==="u_dash"?this.pattern:h==="u_pixel_ratio"?this.pixelRatio:null;v&&i.set(n,h,v)}getBinding(n,i){return i==="u_pattern"||i==="u_dash"?new Ph(n):new yl(n)}}class tu{constructor(n,i,d,g){this.expression=n,this.type=d,this.maxValue=0,this.paintVertexAttributes=i.map(h=>({name:`a_${h}`,type:"Float32",components:d==="color"?2:1,offset:0})),this.paintVertexArray=new g}populatePaintArray(n,i,d,g,h,v,S){const M=this.paintVertexArray.length,A=this.expression.kind==="composite"||this.expression.kind==="source"?this.expression.evaluate(new Us(0,{brightness:v}),i,{},h,g,S):this.expression.kind==="constant"&&this.expression.value;!this.lutExpression||this.lutExpression.kind!=="composite"&&this.lutExpression.kind!=="source"||(this.ignoreLut=this.lutExpression.evaluate(new Us(0,{brightness:v}),i,{},h,g,S)==="none"),this.paintVertexArray.resize(n),this._setPaintValue(M,n,A,this.context)}updatePaintArray(n,i,d,g,h,v,S){const M=this.expression.kind==="composite"||this.expression.kind==="source"?this.expression.evaluate({zoom:0,brightness:S},d,g,void 0,h):this.expression.kind==="constant"&&this.expression.value;!this.lutExpression||this.lutExpression.kind!=="composite"&&this.lutExpression.kind!=="source"||(this.ignoreLut=this.lutExpression.evaluate({zoom:0,brightness:S},d,g,void 0,h)==="none"),this._setPaintValue(n,i,M,this.context)}_setPaintValue(n,i,d,g){if(this.type==="color"){const h=Hm(d.toRenderColor(this.ignoreLut?null:g.lut));for(let v=n;v<i;v++)this.paintVertexArray.emplace(v,h[0],h[1])}else{for(let h=n;h<i;h++)this.paintVertexArray.emplace(h,d);this.maxValue=Math.max(this.maxValue,Math.abs(d))}}upload(n){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=n.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.lutExpression&&this.lutExpression.kind!=="constant"&&(this.lutExpression.isStateDependent||!this.lutExpression.isLightConstant)||this.expression.kind!=="constant"&&(this.expression.isStateDependent||!this.expression.isLightConstant)))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class nu{constructor(n,i,d,g,h,v){this.expression=n,this.uniformNames=i.map(S=>`u_${S}_t`),this.type=d,this.useIntegerZoom=g,this.context=h,this.maxValue=0,this.paintVertexAttributes=i.map(S=>({name:`a_${S}`,type:"Float32",components:d==="color"?4:2,offset:0})),this.paintVertexArray=new v}populatePaintArray(n,i,d,g,h,v,S){const M=this.expression.evaluate(new Us(this.context.zoom,{brightness:v}),i,{},h,g,S),A=this.expression.evaluate(new Us(this.context.zoom+1,{brightness:v}),i,{},h,g,S);!this.lutExpression||this.lutExpression.kind!=="composite"&&this.lutExpression.kind!=="source"||(this.ignoreLut=this.lutExpression.evaluate(new Us(this.context.zoom,{brightness:v}),i,{},h,g,S)==="none");const b=this.paintVertexArray.length;this.paintVertexArray.resize(n),this._setPaintValue(b,n,M,A,this.context)}updatePaintArray(n,i,d,g,h,v,S){const M=this.expression.evaluate({zoom:this.context.zoom,brightness:S},d,g,void 0,h),A=this.expression.evaluate({zoom:this.context.zoom+1,brightness:S},d,g,void 0,h);!this.lutExpression||this.lutExpression.kind!=="composite"&&this.lutExpression.kind!=="source"||(this.ignoreLut=this.lutExpression.evaluate({zoom:this.context.zoom,brightness:S},d,g,void 0,h)==="none"),this._setPaintValue(n,i,M,A,this.context)}_setPaintValue(n,i,d,g,h){if(this.type==="color"){const v=Hm(d.toRenderColor(this.ignoreLut?null:h.lut)),S=Hm(d.toRenderColor(this.ignoreLut?null:h.lut));for(let M=n;M<i;M++)this.paintVertexArray.emplace(M,v[0],v[1],S[0],S[1])}else{for(let v=n;v<i;v++)this.paintVertexArray.emplace(v,d,g);this.maxValue=Math.max(this.maxValue,Math.abs(d),Math.abs(g))}}upload(n){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=n.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent||!this.expression.isLightConstant))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}setUniform(n,i,d,g,h){const v=this.useIntegerZoom?Math.floor(d.zoom):d.zoom,S=Hn(this.expression.interpolationFactor(v,this.context.zoom,this.context.zoom+1),0,1);i.set(n,h,S)}getBinding(n,i){return new yl(n)}}class ed{constructor(n,i,d,g,h){this.expression=n,this.layerId=h,this.paintVertexAttributes=(d==="array"?nf:n0).members;for(let v=0;v<i.length;++v);this.paintVertexArray=new g}populatePaintArray(n,i,d,g){const h=this.paintVertexArray.length;this.paintVertexArray.resize(n),this._setPaintValues(h,n,i.patterns&&i.patterns[this.layerId],d)}updatePaintArray(n,i,d,g,h,v,S){this._setPaintValues(n,i,d.patterns&&d.patterns[this.layerId],v)}_setPaintValues(n,i,d,g){if(!g||!d)return;const h=g[d];if(!h)return;const{tl:v,br:S,pixelRatio:M}=h;for(let A=n;A<i;A++)this.paintVertexArray.emplace(A,v[0],v[1],S[0],S[1],M)}upload(n){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer=n.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent||!this.expression.isLightConstant))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class Id{constructor(n,i,d=()=>!0){this.binders={},this._buffers=[],this.context=i;const g=[];for(const h in n.paint._values){const v=n.paint.get(h),S=n.paint.get(`${h}-use-theme`);if(h.endsWith("-use-theme")||!d(h)||!(v instanceof Rf&&ol(v.property.specification)))continue;const M=$v(h,n.type),A=v.value,b=v.property.specification.type,P=!!v.property.useIntegerZoom,$=h==="line-dasharray"||h.endsWith("pattern"),T=h==="line-dasharray"&&n.layout.get("line-cap").value.kind!=="constant"||S&&S.value.kind!=="constant";if(A.kind!=="constant"||T)if(A.kind==="source"||T||$){const O=r0(h,b,"source");this.binders[h]=$?new ed(A,M,b,O,n.id):new tu(A,M,b,O),g.push(`/a_${h}`)}else{const O=r0(h,b,"composite");this.binders[h]=new nu(A,M,b,P,i,O),g.push(`/z_${h}`)}else this.binders[h]=$?new af(A.value,M):new Ed(A.value,M,b,i),g.push(`/u_${h}`);S&&(this.binders[h].ignoreLut=S.constantOr("default")==="none",this.binders[h].lutExpression=S.value,this.binders[h].checkUseTheme=!0)}this.cacheKey=g.sort().join("")}getMaxValue(n){const i=this.binders[n];return i instanceof tu||i instanceof nu?i.maxValue:0}populatePaintArrays(n,i,d,g,h,v,S){for(const M in this.binders){const A=this.binders[M];A.context=this.context,A instanceof tu||A instanceof nu||A instanceof ed?A.populatePaintArray(n,i,d,g,h,v,S):A.lutExpression&&A instanceof Ed&&A.lutExpression&&(A.lutExpression.kind==="composite"||A.lutExpression.kind==="source")&&(A.ignoreLut=A.lutExpression.evaluate(new Us(0,{brightness:v}),i,{},h,g,S)==="none")}}setConstantPatternPositions(n){for(const i in this.binders){const d=this.binders[i];d instanceof af&&d.setConstantPatternPositions(n)}}updatePaintArrays(n,i,d,g,h,v,S,M,A){let b=!1;const P=Object.keys(n),$=P.length!==0&&!M,T=$?P:i.uniqueIds;this.context.lut=h.lut;for(const O in this.binders){const N=this.binders[O];if(N.context=this.context,(N instanceof tu||N instanceof nu||N instanceof ed)&&N.expression&&N.expression.kind&&N.expression.kind!=="constant"&&(N.expression.isStateDependent===!0||N.expression.isLightConstant===!1)){const W=h.paint.get(O);N.expression=W.value;for(const J of T){const se=n[J.toString()];i.eachPosition(J,(ue,re,ve)=>{const we=g.feature(ue);N.updatePaintArray(re,ve,we,se,v,S,A)})}if(!$)for(const J of d.uniqueIds){const se=n[J.toString()];d.eachPosition(J,(ue,re,ve)=>{const we=g.feature(ue);N.updatePaintArray(re,ve,we,se,v,S,A)})}b=!0}}return b}defines(){const n=[];for(const i in this.binders){const d=this.binders[i];(d instanceof Ed||d instanceof af)&&n.push(...d.uniformNames.map(g=>`#define HAS_UNIFORM_${g}`))}return n}getBinderAttributes(){const n=[];for(const i in this.binders){const d=this.binders[i];if(d instanceof tu||d instanceof nu||d instanceof ed)for(let g=0;g<d.paintVertexAttributes.length;g++)n.push(d.paintVertexAttributes[g].name)}return n}getBinderUniforms(){const n=[];for(const i in this.binders){const d=this.binders[i];if(d instanceof Ed||d instanceof af||d instanceof nu)for(const g of d.uniformNames)n.push(g)}return n}getPaintVertexBuffers(){return this._buffers}getUniforms(n){const i=[];for(const d in this.binders){const g=this.binders[d];if(g instanceof Ed||g instanceof af||g instanceof nu)for(const h of g.uniformNames)i.push({name:h,property:d,binding:g.getBinding(n,h)})}return i}setUniforms(n,i,d,g,h){for(const{name:v,property:S,binding:M}of d){if(this.binders[S].checkUseTheme&&this.binders[S]instanceof Ed){const A=g.get(`${S}-use-theme`);A.isConstant()&&(this.binders[S].ignoreLut=A.constantOr("default")==="none")}this.binders[S].setUniform(n,M,h,g.get(S),v)}}updatePaintBuffers(){this._buffers=[];for(const n in this.binders){const i=this.binders[n];(i instanceof tu||i instanceof nu||i instanceof ed)&&i.paintVertexBuffer&&this._buffers.push(i.paintVertexBuffer)}}upload(n){for(const i in this.binders){const d=this.binders[i];(d instanceof tu||d instanceof nu||d instanceof ed)&&d.upload(n)}this.updatePaintBuffers()}destroy(){for(const n in this.binders){const i=this.binders[n];(i instanceof tu||i instanceof nu||i instanceof ed)&&i.destroy()}}}class Td{constructor(n,i,d=()=>!0){this.programConfigurations={};for(const g of n)this.programConfigurations[g.id]=new Id(g,i,d);this.needsUpload=!1,this._featureMap=new Qu,this._featureMapWithoutIds=new Qu,this._bufferOffset=0,this._idlessCounter=0}populatePaintArrays(n,i,d,g,h,v,S,M){for(const A in this.programConfigurations)this.programConfigurations[A].populatePaintArrays(n,i,g,h,v,S,M);i.id!==void 0?this._featureMap.add(i.id,d,this._bufferOffset,n):(this._featureMapWithoutIds.add(this._idlessCounter,d,this._bufferOffset,n),this._idlessCounter+=1),this._bufferOffset=n,this.needsUpload=!0}updatePaintArrays(n,i,d,g,h,v,S){for(const M of d)this.needsUpload=this.programConfigurations[M.id].updatePaintArrays(n,this._featureMap,this._featureMapWithoutIds,i,M,g,h,v,S||0)||this.needsUpload}get(n){return this.programConfigurations[n]}upload(n){if(this.needsUpload){for(const i in this.programConfigurations)this.programConfigurations[i].upload(n);this.needsUpload=!1}}destroy(){for(const n in this.programConfigurations)this.programConfigurations[n].destroy()}}const wp={"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-occlusion-opacity":["occlusion_opacity"],"icon-occlusion-opacity":["occlusion_opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-emissive-strength":["emissive_strength"],"icon-emissive-strength":["emissive_strength"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"symbol-z-offset":["z_offset"],"line-gap-width":["gapwidth"],"line-pattern":["pattern","pixel_ratio"],"fill-pattern":["pattern","pixel_ratio"],"fill-extrusion-pattern":["pattern","pixel_ratio"],"line-dasharray":["dash"]};function $v(u,n){return wp[u]||[u.replace(`${n}-`,"").replace(/-/g,"_")]}const Av={"line-pattern":{source:vl,composite:vl},"fill-pattern":{source:vl,composite:vl},"fill-extrusion-pattern":{source:vl,composite:vl},"line-dasharray":{source:Kc,composite:Kc}},Ep={color:{source:pu,composite:Jd},number:{source:Df,composite:pu}};function r0(u,n,i){const d=Av[u];return d&&d[i]||Ep[n][i]}Eo(Ed,"ConstantBinder"),Eo(af,"PatternConstantBinder"),Eo(tu,"SourceExpressionBinder"),Eo(ed,"PatternCompositeBinder"),Eo(nu,"CompositeExpressionBinder"),Eo(Id,"ProgramConfiguration",{omit:["_buffers"]}),Eo(Td,"ProgramConfigurationSet");const Tc=ji/Math.PI/2,Ff=5,Md=6,i0=16383,kf=64,$h=[kf,32,16],jc=-Tc,Ac=Tc;function Kl(u,n,i,d=Tc){return i=it(i),[u*Math.sin(i)*d,-n*d,u*Math.cos(i)*d]}function sf(u,n,i){return Kl(Math.cos(it(u)),Math.sin(it(u)),n,i)}const lf=63710088e-1,o0=2*Math.PI*lf;class hs{constructor(n,i){if(isNaN(n)||isNaN(i))throw new Error(`Invalid LngLat object: (${n}, ${i})`);if(this.lng=+n,this.lat=+i,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}wrap(){return new hs(pi(this.lng,-180,180),this.lat)}toArray(){return[this.lng,this.lat]}toString(){return`LngLat(${this.lng}, ${this.lat})`}distanceTo(n){const i=Math.PI/180,d=this.lat*i,g=n.lat*i,h=Math.sin(d)*Math.sin(g)+Math.cos(d)*Math.cos(g)*Math.cos((n.lng-this.lng)*i);return lf*Math.acos(Math.min(h,1))}toBounds(n=0){const i=360*n/40075017,d=i/Math.cos(Math.PI/180*this.lat);return new Pd({lng:this.lng-d,lat:this.lat-i},{lng:this.lng+d,lat:this.lat+i})}toEcef(n){return sf(this.lat,this.lng,Tc+n*Tc/lf)}static convert(n){if(n instanceof hs)return n;if(Array.isArray(n)&&(n.length===2||n.length===3))return new hs(Number(n[0]),Number(n[1]));if(!Array.isArray(n)&&typeof n=="object"&&n!==null)return new hs(Number("lng"in n?n.lng:n.lon),Number(n.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")}}class Pd{constructor(n,i){if(n)if(i)this.setSouthWest(n).setNorthEast(i);else if(n.length===4){const d=n;this.setSouthWest([d[0],d[1]]).setNorthEast([d[2],d[3]])}else{const d=n;this.setSouthWest(d[0]).setNorthEast(d[1])}}setNorthEast(n){return this._ne=n instanceof hs?new hs(n.lng,n.lat):hs.convert(n),this}setSouthWest(n){return this._sw=n instanceof hs?new hs(n.lng,n.lat):hs.convert(n),this}extend(n){const i=this._sw,d=this._ne;let g,h;if(n instanceof hs)g=n,h=n;else{if(!(n instanceof Pd))return Array.isArray(n)?n.length===4||n.every(Array.isArray)?this.extend(Pd.convert(n)):this.extend(hs.convert(n)):typeof n=="object"&&n!==null&&n.hasOwnProperty("lat")&&(n.hasOwnProperty("lon")||n.hasOwnProperty("lng"))?this.extend(hs.convert(n)):this;if(g=n._sw,h=n._ne,!g||!h)return this}return i||d?(i.lng=Math.min(g.lng,i.lng),i.lat=Math.min(g.lat,i.lat),d.lng=Math.max(h.lng,d.lng),d.lat=Math.max(h.lat,d.lat)):(this._sw=new hs(g.lng,g.lat),this._ne=new hs(h.lng,h.lat)),this}getCenter(){return new hs((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)}getSouthWest(){return this._sw}getNorthEast(){return this._ne}getNorthWest(){return new hs(this.getWest(),this.getNorth())}getSouthEast(){return new hs(this.getEast(),this.getSouth())}getWest(){return this._sw.lng}getSouth(){return this._sw.lat}getEast(){return this._ne.lng}getNorth(){return this._ne.lat}toArray(){return[this._sw.toArray(),this._ne.toArray()]}toString(){return`LngLatBounds(${this._sw.toString()}, ${this._ne.toString()})`}isEmpty(){return!(this._sw&&this._ne)}contains(n){const{lng:i,lat:d}=hs.convert(n);let g=this._sw.lng<=i&&i<=this._ne.lng;return this._sw.lng>this._ne.lng&&(g=this._sw.lng>=i&&i>=this._ne.lng),this._sw.lat<=d&&d<=this._ne.lat&&g}static convert(n){if(n)return n instanceof Pd?n:new Pd(n)}}const Dv=0,Lv=25.5;function Ip(u){return o0*Math.cos(u*Math.PI/180)}function $u(u){return(180+u)/360}function gu(u){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+u*Math.PI/360)))/360}function Mc(u,n){return u/Ip(n)}function Cc(u){return 360*u-180}function Xl(u){return 360/Math.PI*Math.atan(Math.exp((180-360*u)*Math.PI/180))-90}function a0(u,n){return u*Ip(Xl(n))}const _l=85.051129;function Um(u){return Math.cos(it(Hn(u,-_l,_l)))}function Od(u,n){const i=Hn(n,Dv,Lv),d=Math.pow(2,i);return Um(u)*o0/(512*d)}function p(u){return 1/Math.cos(u*Math.PI/180)}function r(u,n=0){const i=Math.exp(Math.PI*(1-(u.y+n/ji)/(1<<u.z)*2));return 80150034*i/(i*i+1)/ji/(1<<u.z)}class l{constructor(n,i,d=0){this.x=+n,this.y=+i,this.z=+d}static fromLngLat(n,i=0){const d=hs.convert(n);return new l($u(d.lng),gu(d.lat),Mc(i,d.lat))}toLngLat(){return new hs(Cc(this.x),Xl(this.y))}toAltitude(){return a0(this.z,this.y)}meterInMercatorCoordinateUnits(){return 1/o0*p(Xl(this.y))}}function m(u,n,i,d,g,h,v,S,M){const A=(n+d)/2,b=(i+g)/2,P=new On(A,b);S(P),function($,T,O,N,W,J){const se=O-W,ue=N-J;return Math.abs((N-T)*se-(O-$)*ue)/Math.hypot(se,ue)}(P.x,P.y,h.x,h.y,v.x,v.y)>=M?(m(u,n,i,A,b,h,P,S,M),m(u,A,b,d,g,P,v,S,M)):u.push(v)}function _(u,n,i){let d=u[0],g=d.x,h=d.y;n(d);const v=[d];for(let S=1;S<u.length;S++){const M=u[S],{x:A,y:b}=M;n(M),m(v,g,h,A,b,d,M,n,i),g=A,h=b,d=M}return v}function x(u,n,i,d){if(d(n,i)){const g=n.add(i)._mult(.5);x(u,n,g,d),x(u,g,i,d)}else u.push(i)}function E(u,n){let i=u[0];const d=[i];for(let g=1;g<u.length;g++){const h=u[g];x(d,i,h,n),i=h}return d}const R=Math.pow(2,14)-1,F=-R-1;function V(u,n){const i=Math.round(u.x*n),d=Math.round(u.y*n);return u.x=Hn(i,F,R),u.y=Hn(d,F,R),(i<u.x||i>u.x+1||d<u.y||d>u.y+1)&&Wn("Geometry exceeds allowed extent, reduce your vector tile buffer size"),u}function U(u,n,i){const d=u.loadGeometry(),g=u.extent,h=ji/g;if(n&&i&&i.projection.isReprojectedInTileSpace){const v=1<<n.z,{scale:S,x:M,y:A,projection:b}=i,P=$=>{const T=Cc((n.x+$.x/g)/v),O=Xl((n.y+$.y/g)/v),N=b.project(T,O);$.x=(N.x*S-M)*g,$.y=(N.y*S-A)*g};for(let $=0;$<d.length;$++)if(u.type!==1)d[$]=_(d[$],P,1);else{const T=[];for(const O of d[$])O.x<0||O.x>=g||O.y<0||O.y>=g||(P(O),T.push(O));d[$]=T}}for(const v of d)for(const S of v)V(S,h);return d}function Q(u,n){return{type:u.type,id:u.id,properties:u.properties,geometry:n?U(u):[]}}function ee(u,n,i,d,g){u.emplaceBack(2*n+(d+1)/2,2*i+(g+1)/2)}function ce(u,n,i){u.emplaceBack(n.x,n.y,n.z,i[0]*16384,i[1]*16384,i[2]*16384)}class Pe{constructor(n){this.zoom=n.zoom,this.overscaling=n.overscaling,this.layers=n.layers,this.layerIds=this.layers.map(i=>i.fqid),this.index=n.index,this.hasPattern=!1,this.projection=n.projection,this.layoutVertexArray=new Mu,this.indexArray=new lc,this.segments=new sl,this.programConfigurations=new Td(n.layers,{zoom:n.zoom,lut:n.lut}),this.stateDependentLayerIds=this.layers.filter(i=>i.isStateDependent()).map(i=>i.id)}updateFootprints(n,i){}populate(n,i,d,g){const h=this.layers[0],v=[];let S=null;h.type==="circle"&&(S=h.layout.get("circle-sort-key"));for(const{feature:A,id:b,index:P,sourceLayerIndex:$}of n){const T=this.layers[0]._featureFilter.needGeometry,O=Q(A,T);if(!this.layers[0]._featureFilter.filter(new Us(this.zoom),O,d))continue;const N=S?S.evaluate(O,{},d):void 0,W={id:b,properties:A.properties,type:A.type,sourceLayerIndex:$,index:P,geometry:T?O.geometry:U(A,d,g),patterns:{},sortKey:N};v.push(W)}S&&v.sort((A,b)=>A.sortKey-b.sortKey);let M=null;g.projection.name==="globe"&&(this.globeExtVertexArray=new Yu,M=g.projection);for(const A of v){const{geometry:b,index:P,sourceLayerIndex:$}=A,T=n[P].feature;this.addFeature(A,b,P,i.availableImages,d,M,i.brightness),i.featureIndex.insert(T,b,P,$,this.index)}}update(n,i,d,g,h,v,S){this.programConfigurations.updatePaintArrays(n,i,h,d,g,v,S)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(n){this.uploaded||(this.layoutVertexBuffer=n.createVertexBuffer(this.layoutVertexArray,km.members),this.indexBuffer=n.createIndexBuffer(this.indexArray),this.globeExtVertexArray&&(this.globeExtVertexBuffer=n.createVertexBuffer(this.globeExtVertexArray,Zm.members))),this.programConfigurations.upload(n),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.globeExtVertexBuffer&&this.globeExtVertexBuffer.destroy())}addFeature(n,i,d,g,h,v,S){for(const M of i)for(const A of M){const b=A.x,P=A.y;if(b<0||b>=ji||P<0||P>=ji)continue;if(v){const O=v.projectTilePoint(b,P,h),N=v.upVector(h,b,P),W=this.globeExtVertexArray;ce(W,O,N),ce(W,O,N),ce(W,O,N),ce(W,O,N)}const $=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,n.sortKey),T=$.vertexLength;ee(this.layoutVertexArray,b,P,-1,-1),ee(this.layoutVertexArray,b,P,1,-1),ee(this.layoutVertexArray,b,P,1,1),ee(this.layoutVertexArray,b,P,-1,1),this.indexArray.emplaceBack(T,T+1,T+2),this.indexArray.emplaceBack(T,T+2,T+3),$.vertexLength+=4,$.primitiveLength+=2}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,n,d,{},g,h,S)}}function Se(u,n){for(let i=0;i<u.length;i++)if(Lt(n,u[i]))return!0;for(let i=0;i<n.length;i++)if(Lt(u,n[i]))return!0;return!!St(u,n)}function ze(u,n,i){return!!Lt(u,n)||!!Wt(n,u,i)}function Le(u,n){if(u.length===1)return kt(n,u[0]);for(let i=0;i<n.length;i++){const d=n[i];for(let g=0;g<d.length;g++)if(Lt(u,d[g]))return!0}for(let i=0;i<u.length;i++)if(kt(n,u[i]))return!0;for(let i=0;i<n.length;i++)if(St(u,n[i]))return!0;return!1}function st(u,n,i){if(u.length>1){if(St(u,n))return!0;for(let d=0;d<n.length;d++)if(Wt(n[d],u,i))return!0}for(let d=0;d<u.length;d++)if(Wt(u[d],n,i))return!0;return!1}function St(u,n){if(u.length===0||n.length===0)return!1;for(let i=0;i<u.length-1;i++){const d=u[i],g=u[i+1];for(let h=0;h<n.length-1;h++)if(xt(d,g,n[h],n[h+1]))return!0}return!1}function xt(u,n,i,d){return di(u,i,d)!==di(n,i,d)&&di(u,n,i)!==di(u,n,d)}function Wt(u,n,i){const d=i*i;if(n.length===1)return u.distSqr(n[0])<d;for(let g=1;g<n.length;g++)if(zt(u,n[g-1],n[g])<d)return!0;return!1}function zt(u,n,i){const d=n.distSqr(i);if(d===0)return u.distSqr(n);const g=((u.x-n.x)*(i.x-n.x)+(u.y-n.y)*(i.y-n.y))/d;return u.distSqr(g<0?n:g>1?i:i.sub(n)._mult(g)._add(n))}function kt(u,n){let i,d,g,h=!1;for(let v=0;v<u.length;v++){i=u[v];for(let S=0,M=i.length-1;S<i.length;M=S++)d=i[S],g=i[M],d.y>n.y!=g.y>n.y&&n.x<(g.x-d.x)*(n.y-d.y)/(g.y-d.y)+d.x&&(h=!h)}return h}function Lt(u,n){let i=!1;for(let d=0,g=u.length-1;d<u.length;g=d++){const h=u[d],v=u[g];h.y>n.y!=v.y>n.y&&n.x<(v.x-h.x)*(n.y-h.y)/(v.y-h.y)+h.x&&(i=!i)}return i}function cn(u,n,i,d,g){for(const v of u)if(n<=v.x&&i<=v.y&&d>=v.x&&g>=v.y)return!0;const h=[new On(n,i),new On(n,g),new On(d,g),new On(d,i)];if(u.length>2){for(const v of h)if(Lt(u,v))return!0}for(let v=0;v<u.length-1;v++)if(Tn(u[v],u[v+1],h))return!0;return!1}function Tn(u,n,i){const d=i[0],g=i[2];if(u.x<d.x&&n.x<d.x||u.x>g.x&&n.x>g.x||u.y<d.y&&n.y<d.y||u.y>g.y&&n.y>g.y)return!1;const h=di(u,n,i[0]);return h!==di(u,n,i[1])||h!==di(u,n,i[2])||h!==di(u,n,i[3])}function hr(u,n,i,d,g,h){let v=n.y-u.y,S=u.x-n.x;if(h=h||0){const M=v*v+S*S;if(M===0)return!0;const A=Math.sqrt(M);v/=A,S/=A}return!((i.x-u.x)*v+(i.y-u.y)*S-h<0||(d.x-u.x)*v+(d.y-u.y)*S-h<0||(g.x-u.x)*v+(g.y-u.y)*S-h<0)}function nr(u,n,i,d,g,h,v){return!(hr(u,n,d,g,h,v)||hr(n,i,d,g,h,v)||hr(i,u,d,g,h,v)||hr(d,g,u,n,i,v)||hr(g,h,u,n,i,v)||hr(h,d,u,n,i,v))}function jr(u,n,i){const d=n.paint.get(u).value;return d.kind==="constant"?d.value:i.programConfigurations.get(n.id).getMaxValue(u)}function Br(u){return Math.sqrt(u[0]*u[0]+u[1]*u[1])}function Un(u,n,i,d,g){if(!n[0]&&!n[1])return u;const h=On.convert(n)._mult(g);i==="viewport"&&h._rotate(-d);const v=[];for(let S=0;S<u.length;S++)v.push(u[S].sub(h));return v}function vr(u,n,i,d){const g=On.convert(u)._mult(d);return n==="viewport"&&g._rotate(-i),g}let vi,kn;Eo(Pe,"CircleBucket",{omit:["layers"]});var Xr,xr={exports:{}},zi=(Xr||(Xr=1,function(u,n){(function(i){function d(h,v,S){var M=g(256*h,256*(v=Math.pow(2,S)-v-1),S),A=g(256*(h+1),256*(v+1),S);return M[0]+","+M[1]+","+A[0]+","+A[1]}function g(h,v,S){var M=2*Math.PI*6378137/256/Math.pow(2,S);return[h*M-2*Math.PI*6378137/2,v*M-2*Math.PI*6378137/2]}i.getURL=function(h,v,S,M,A,b){return b=b||{},h+"?"+["bbox="+d(S,M,A),"format="+(b.format||"image/png"),"service="+(b.service||"WMS"),"version="+(b.version||"1.1.1"),"request="+(b.request||"GetMap"),"srs="+(b.srs||"EPSG:3857"),"width="+(b.width||256),"height="+(b.height||256),"layers="+v].join("&")},i.getTileBBox=d,i.getMercCoords=g,Object.defineProperty(i,"__esModule",{value:!0})})(n)}(0,xr.exports)),xr.exports);class qr{constructor(n,i,d){this.z=n,this.x=i,this.y=d,this.key=Ni(0,n,n,i,d)}equals(n){return this.z===n.z&&this.x===n.x&&this.y===n.y}url(n,i){const d=zi.getTileBBox(this.x,this.y,this.z),g=function(h,v,S){let M,A="";for(let b=h;b>0;b--)M=1<<b-1,A+=(v&M?1:0)+(S&M?2:0);return A}(this.z,this.x,this.y);return n[(this.x+this.y)%n.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace(/{z}/g,String(this.z)).replace(/{x}/g,String(this.x)).replace(/{y}/g,String(i==="tms"?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",g).replace("{bbox-epsg-3857}",d)}toString(){return`${this.z}/${this.x}/${this.y}`}}class Gr{constructor(n,i){this.wrap=n,this.canonical=i,this.key=Ni(n,i.z,i.z,i.x,i.y)}}class wi{constructor(n,i,d,g,h){this.overscaledZ=n,this.wrap=i,this.canonical=new qr(d,+g,+h),this.key=i===0&&n===d?this.canonical.key:Ni(i,n,d,g,h)}equals(n){return this.overscaledZ===n.overscaledZ&&this.wrap===n.wrap&&this.canonical.equals(n.canonical)}scaledTo(n){const i=this.canonical.z-n;return n>this.canonical.z?new wi(n,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new wi(n,this.wrap,n,this.canonical.x>>i,this.canonical.y>>i)}calculateScaledKey(n,i=!0){if(this.overscaledZ===n&&i)return this.key;if(n>this.canonical.z)return Ni(this.wrap*+i,n,this.canonical.z,this.canonical.x,this.canonical.y);{const d=this.canonical.z-n;return Ni(this.wrap*+i,n,n,this.canonical.x>>d,this.canonical.y>>d)}}isChildOf(n){if(n.wrap!==this.wrap)return!1;const i=this.canonical.z-n.canonical.z;return n.overscaledZ===0||n.overscaledZ<this.overscaledZ&&n.canonical.z<this.canonical.z&&n.canonical.x===this.canonical.x>>i&&n.canonical.y===this.canonical.y>>i}children(n){if(this.overscaledZ>=n)return[new wi(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];const i=this.canonical.z+1,d=2*this.canonical.x,g=2*this.canonical.y;return[new wi(i,this.wrap,i,d,g),new wi(i,this.wrap,i,d+1,g),new wi(i,this.wrap,i,d,g+1),new wi(i,this.wrap,i,d+1,g+1)]}isLessThan(n){return this.wrap<n.wrap||!(this.wrap>n.wrap)&&(this.overscaledZ<n.overscaledZ||!(this.overscaledZ>n.overscaledZ)&&(this.canonical.x<n.canonical.x||!(this.canonical.x>n.canonical.x)&&this.canonical.y<n.canonical.y))}wrapped(){return new wi(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)}unwrapTo(n){return new wi(this.overscaledZ,n,this.canonical.z,this.canonical.x,this.canonical.y)}overscaleFactor(){return Math.pow(2,this.overscaledZ-this.canonical.z)}toUnwrapped(){return new Gr(this.wrap,this.canonical)}toString(){return`${this.overscaledZ}/${this.canonical.x}/${this.canonical.y}`}}function Ni(u,n,i,d,g){const h=1<<Math.min(i,22);let v=h*(g%h)+d%h;return u&&i<22&&(v+=h*h*((u<0?-2*u-1:2*u)%(1<<2*(22-i)))),16*(32*v+i)+(n-i)}const lo=[u=>{let n=u.canonical.x-1,i=u.wrap;return n<0&&(n=(1<<u.canonical.z)-1,i--),new wi(u.overscaledZ,i,u.canonical.z,n,u.canonical.y)},u=>{let n=u.canonical.x+1,i=u.wrap;return n===1<<u.canonical.z&&(n=0,i++),new wi(u.overscaledZ,i,u.canonical.z,n,u.canonical.y)},u=>new wi(u.overscaledZ,u.wrap,u.canonical.z,u.canonical.x,(u.canonical.y===0?1<<u.canonical.z:u.canonical.y)-1),u=>new wi(u.overscaledZ,u.wrap,u.canonical.z,u.canonical.x,u.canonical.y===(1<<u.canonical.z)-1?0:u.canonical.y+1)];Eo(qr,"CanonicalTileID"),Eo(wi,"OverscaledTileID",{omit:["projMatrix","expandedProjMatrix"]});const bo=xs([{type:"Float32",name:"a_globe_pos",components:3},{type:"Float32",name:"a_uv",components:2}]),{members:ca}=bo,mo=xs([{name:"a_pos_3",components:3,type:"Int16"}]);var Ko=xs([{name:"a_pos",type:"Int16",components:2}]);class Yo{constructor(n,i){this.pos=n,this.dir=i}intersectsPlane(n,i,d){const g=Ae.vec3.dot(i,this.dir);if(Math.abs(g)<1e-6)return!1;const h=((n[0]-this.pos[0])*i[0]+(n[1]-this.pos[1])*i[1]+(n[2]-this.pos[2])*i[2])/g;return d[0]=this.pos[0]+this.dir[0]*h,d[1]=this.pos[1]+this.dir[1]*h,d[2]=this.pos[2]+this.dir[2]*h,!0}closestPointOnSphere(n,i,d){if(Ae.vec3.equals(this.pos,n)||i===0)return d[0]=d[1]=d[2]=0,!1;const[g,h,v]=this.dir,S=this.pos[0]-n[0],M=this.pos[1]-n[1],A=this.pos[2]-n[2],b=g*g+h*h+v*v,P=2*(S*g+M*h+A*v),$=P*P-4*b*(S*S+M*M+A*A-i*i);if($<0){const T=Math.max(-P/2,0),O=S+g*T,N=M+h*T,W=A+v*T,J=Math.hypot(O,N,W);return d[0]=O*i/J,d[1]=N*i/J,d[2]=W*i/J,!1}{const T=(-P-Math.sqrt($))/(2*b);if(T<0){const O=Math.hypot(S,M,A);return d[0]=S*i/O,d[1]=M*i/O,d[2]=A*i/O,!1}return d[0]=S+g*T,d[1]=M+h*T,d[2]=A+v*T,!0}}}class as{constructor(n,i,d,g,h){this.TL=n,this.TR=i,this.BR=d,this.BL=g,this.horizon=h}static fromInvProjectionMatrix(n,i,d){const g=[-1,1,1],h=[1,1,1],v=[1,-1,1],S=[-1,-1,1],M=Ae.vec3.transformMat4(g,g,n),A=Ae.vec3.transformMat4(h,h,n),b=Ae.vec3.transformMat4(v,v,n),P=Ae.vec3.transformMat4(S,S,n);return new as(M,A,b,P,i/d)}}function Os(u,n,i){let d=1/0,g=-1/0;const h=[];for(const v of u){Ae.vec3.sub(h,v,n);const S=Ae.vec3.dot(h,i);d=Math.min(d,S),g=Math.max(g,S)}return[d,g]}function dl(u,n){let i=!0;for(let d=0;d<u.planes.length;d++){const g=u.planes[d];let h=0;for(let v=0;v<n.length;v++)h+=Ae.vec3.dot(g,n[v])+g[3]>=0;if(h===0)return 0;h!==n.length&&(i=!1)}return i?2:1}function Gs(u,n){for(const i of u.projections){const d=Os(n,u.points[0],i.axis);if(i.projection[1]<d[0]||i.projection[0]>d[1])return 0}return 1}function Pa(u,n){let i=0;const d=[0,0,0,0];for(let g=0;g<u.length;g++)d[0]=u[g][0],d[1]=u[g][1],d[2]=u[g][2],d[3]=1,Ae.vec4.dot(d,n)>=0&&i++;return i}class gs{constructor(n,i){this.points=n||new Array(8).fill([0,0,0]),this.planes=i||new Array(6).fill([0,0,0,0]),this.bounds=Bo.fromPoints(this.points),this.projections=[],this.frustumEdges=[Ae.vec3.sub([],this.points[2],this.points[3]),Ae.vec3.sub([],this.points[0],this.points[3]),Ae.vec3.sub([],this.points[4],this.points[0]),Ae.vec3.sub([],this.points[5],this.points[1]),Ae.vec3.sub([],this.points[6],this.points[2]),Ae.vec3.sub([],this.points[7],this.points[3])];for(const d of this.frustumEdges){const g=[0,-d[2],d[1]],h=[d[2],0,-d[0]];this.projections.push({axis:g,projection:Os(this.points,this.points[0],g)}),this.projections.push({axis:h,projection:Os(this.points,this.points[0],h)})}}static fromInvProjectionMatrix(n,i,d,g){const h=Math.pow(2,d),v=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map(A=>{const b=Ae.vec4.transformMat4([],A,n),P=1/b[3]/i*h;return Ae.vec4.mul(b,b,[P,P,g?1/b[3]:P,P])}),S=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map(A=>{const b=Ae.vec3.sub([],v[A[0]],v[A[1]]),P=Ae.vec3.sub([],v[A[2]],v[A[1]]),$=Ae.vec3.normalize([],Ae.vec3.cross([],b,P)),T=-Ae.vec3.dot($,v[A[1]]);return $.concat(T)}),M=[];for(let A=0;A<v.length;A++)M.push([v[A][0],v[A][1],v[A][2]]);return new gs(M,S)}intersectsPrecise(n,i,d){for(let g=0;g<i.length;g++)if(!Pa(n,i[g]))return 0;for(let g=0;g<this.planes.length;g++)if(!Pa(n,this.planes[g]))return 0;for(const g of d)for(const h of this.frustumEdges){const v=Ae.vec3.cross([],g,h),S=Ae.vec3.length(v);if(S===0)continue;Ae.vec3.scale(v,v,1/S);const M=Os(this.points,this.points[0],v),A=Os(n,this.points[0],v);if(M[0]>A[1]||A[0]>M[1])return 0}return 1}containsPoint(n){for(const i of this.planes){const d=i[3];if(Ae.vec3.dot([i[0],i[1],i[2]],n)+d<0)return!1}return!0}}class Bo{static fromPoints(n){const i=[1/0,1/0,1/0],d=[-1/0,-1/0,-1/0];for(const g of n)Ae.vec3.min(i,i,g),Ae.vec3.max(d,d,g);return new Bo(i,d)}static fromTileIdAndHeight(n,i,d){const g=1<<n.canonical.z,h=n.canonical.x,v=n.canonical.y;return new Bo([h/g,v/g,i],[(h+1)/g,(v+1)/g,d])}static applyTransform(n,i){const d=n.getCorners();for(let g=0;g<d.length;++g)Ae.vec3.transformMat4(d[g],d[g],i);return Bo.fromPoints(d)}static applyTransformFast(n,i){const d=[i[12],i[13],i[14]],g=[...d];for(let h=0;h<3;h++)for(let v=0;v<3;v++){const S=i[4*v+h],M=S*n.min[v],A=S*n.max[v];d[h]+=Math.min(M,A),g[h]+=Math.max(M,A)}return new Bo(d,g)}static projectAabbCorners(n,i){const d=n.getCorners();for(let g=0;g<d.length;++g)Ae.vec3.transformMat4(d[g],d[g],i);return d}constructor(n,i){this.min=n,this.max=i,this.center=Ae.vec3.scale([],Ae.vec3.add([],this.min,this.max),.5)}quadrant(n){const i=[n%2==0,n<2],d=Ae.vec3.clone(this.min),g=Ae.vec3.clone(this.max);for(let h=0;h<i.length;h++)d[h]=i[h]?this.min[h]:this.center[h],g[h]=i[h]?this.center[h]:this.max[h];return g[2]=this.max[2],new Bo(d,g)}distanceX(n){return Math.max(Math.min(this.max[0],n[0]),this.min[0])-n[0]}distanceY(n){return Math.max(Math.min(this.max[1],n[1]),this.min[1])-n[1]}distanceZ(n){return Math.max(Math.min(this.max[2],n[2]),this.min[2])-n[2]}getCorners(){const n=this.min,i=this.max;return[[n[0],n[1],n[2]],[i[0],n[1],n[2]],[i[0],i[1],n[2]],[n[0],i[1],n[2]],[n[0],n[1],i[2]],[i[0],n[1],i[2]],[i[0],i[1],i[2]],[n[0],i[1],i[2]]]}intersects(n){return this.intersectsAabb(n.bounds)?dl(n,this.getCorners()):0}intersectsFlat(n){return this.intersectsAabb(n.bounds)?dl(n,[[this.min[0],this.min[1],0],[this.max[0],this.min[1],0],[this.max[0],this.max[1],0],[this.min[0],this.max[1],0]]):0}intersectsPrecise(n,i){return i||this.intersects(n)?Gs(n,this.getCorners()):0}intersectsPreciseFlat(n,i){return i||this.intersectsFlat(n)?Gs(n,[[this.min[0],this.min[1],0],[this.max[0],this.min[1],0],[this.max[0],this.max[1],0],[this.min[0],this.max[1],0]]):0}intersectsAabb(n){for(let i=0;i<3;++i)if(this.min[i]>n.max[i]||n.min[i]>this.max[i])return!1;return!0}intersectsAabbXY(n){return!(this.min[0]>n.max[0]||n.min[0]>this.max[0]||this.min[1]>n.max[1]||n.min[1]>this.max[1])}encapsulate(n){for(let i=0;i<3;i++)this.min[i]=Math.min(this.min[i],n.min[i]),this.max[i]=Math.max(this.max[i],n.max[i])}encapsulatePoint(n){for(let i=0;i<3;i++)this.min[i]=Math.min(this.min[i],n[i]),this.max[i]=Math.max(this.max[i],n[i])}closestPoint(n){return[Math.max(Math.min(this.max[0],n[0]),this.min[0]),Math.max(Math.min(this.max[1],n[1]),this.min[1]),Math.max(Math.min(this.max[2],n[2]),this.min[2])]}}function Qa(u){return u*Tc/lf}Eo(Bo,"Aabb");const _s=[new Bo([jc,jc,jc],[Ac,Ac,Ac]),new Bo([jc,jc,jc],[0,0,Ac]),new Bo([0,jc,jc],[Ac,0,Ac]),new Bo([jc,0,jc],[0,Ac,Ac]),new Bo([0,0,jc],[Ac,Ac,Ac])];function bs(u,n,i,d=!0){const g=Ae.vec3.scale([],u._camera.position,u.worldSize),h=[n,i,1,1];Ae.vec4.transformMat4(h,h,u.pixelMatrixInverse),Ae.vec4.scale(h,h,1/h[3]);const v=Ae.vec3.sub([],h,g),S=Ae.vec3.normalize([],v),M=u.globeMatrix,A=[M[12],M[13],M[14]],b=Ae.vec3.sub([],A,g),P=Ae.vec3.length(b),$=Ae.vec3.normalize([],b),T=u.worldSize/(2*Math.PI),O=Ae.vec3.dot($,S),N=Math.asin(T/P);if(N<Math.acos(O)){if(!d)return null;const Yt=[],yt=[];Ae.vec3.scale(Yt,S,P/O),Ae.vec3.normalize(yt,Ae.vec3.sub(yt,Yt,b)),Ae.vec3.normalize(S,Ae.vec3.add(S,b,Ae.vec3.scale(S,yt,Math.tan(N)*P)))}const W=[];new Yo(g,S).closestPointOnSphere(A,T,W);const J=Ae.vec3.normalize([],nn(M,0)),se=Ae.vec3.normalize([],nn(M,1)),ue=Ae.vec3.normalize([],nn(M,2)),re=Ae.vec3.dot(J,W),ve=Ae.vec3.dot(se,W),we=Ae.vec3.dot(ue,W),Be=Ot(Math.asin(-ve/T));let mt=Ot(Math.atan2(re,we));mt=u.center.lng+function(Yt,yt){const en=(yt-Yt+180)%360-180;return en<-180?en+360:en}(u.center.lng,mt);const pt=$u(mt),ft=Hn(gu(Be),0,1);return new l(pt,ft)}class nl{constructor(n,i,d){this.a=Ae.vec3.sub([],n,d),this.b=Ae.vec3.sub([],i,d),this.center=d;const g=Ae.vec3.normalize([],this.a),h=Ae.vec3.normalize([],this.b);this.angle=Math.acos(Ae.vec3.dot(g,h))}}function Fl(u,n){if(u.angle===0)return null;let i;return i=u.a[n]===0?1/u.angle*.5*Math.PI:1/u.angle*Math.atan(u.b[n]/u.a[n]/Math.sin(u.angle)-1/Math.tan(u.angle)),i<0||i>1?null:function(d,g,h,v){const S=Math.sin(h);return d*(Math.sin((1-v)*h)/S)+g*(Math.sin(v*h)/S)}(u.a[n],u.b[n],u.angle,Hn(i,0,1))+u.center[n]}function Dl(u){if(u.z<=1)return _s[u.z+2*u.y+u.x];const n=js(rl(u));return Bo.fromPoints(n)}function Ll(u,n,i){return Ae.vec3.scale(u,u,1-i),Ae.vec3.scaleAndAdd(u,u,n,i)}function Xc(u,n,i){for(const d of u)Ae.vec3.transformMat4(d,d,n),Ae.vec3.scale(d,d,i)}function Pc(u,n,i,d){const g=n/u.worldSize,h=u.globeMatrix;if(i.z<=1){const pt=Dl(i).getCorners();return Xc(pt,h,g),Bo.fromPoints(pt)}const v=rl(i,d),S=js(v,Tc+Qa(u._tileCoverLift));Xc(S,h,g);const M=Number.MAX_VALUE,A=[-M,-M,-M],b=[M,M,M];if(v.contains(u.center)){for(const Yt of S)Ae.vec3.min(b,b,Yt),Ae.vec3.max(A,A,Yt);A[2]=0;const pt=u.point,ft=[pt.x*g,pt.y*g,0];return Ae.vec3.min(b,b,ft),Ae.vec3.max(A,A,ft),new Bo(b,A)}if(u._tileCoverLift>0){for(const pt of S)Ae.vec3.min(b,b,pt),Ae.vec3.max(A,A,pt);return new Bo(b,A)}const P=[h[12]*g,h[13]*g,h[14]*g],$=v.getCenter(),T=Hn(u.center.lat,-_l,_l),O=Hn($.lat,-_l,_l),N=$u(u.center.lng),W=gu(T);let J=N-$u($.lng);const se=W-gu(O);J>.5?J-=1:J<-.5&&(J+=1);let ue=0;if(Math.abs(J)>Math.abs(se))ue=J>=0?1:3;else{ue=se>=0?0:2;const pt=[h[4]*g,h[5]*g,h[6]*g],ft=-Math.sin(it(se>=0?v.getSouth():v.getNorth()))*Tc;Ae.vec3.scaleAndAdd(P,P,pt,ft)}const re=S[ue],ve=S[(ue+1)%4],we=new nl(re,ve,P),Be=[Fl(we,0)||re[0],Fl(we,1)||re[1],Fl(we,2)||re[2]],mt=mc(u.zoom);if(mt>0){const pt=function({x:Yt,y:yt,z:en},yn,fn,xn,Bn){const Yn=1/(1<<en);let $n=Yt*Yn,$r=$n+Yn,fi=yt*Yn,Dr=fi+Yn,Qi=0;const Hi=($n+$r)/2-xn;return Hi>.5?Qi=-1:Hi<-.5&&(Qi=1),$n=(($n+Qi)*yn-(xn*=yn))*fn+xn,$r=(($r+Qi)*yn-xn)*fn+xn,fi=(fi*yn-(Bn*=yn))*fn+Bn,Dr=(Dr*yn-Bn)*fn+Bn,[[$n,Dr,0],[$r,Dr,0],[$r,fi,0],[$n,fi,0]]}(i,n,u._pixelsPerMercatorPixel,N,W);for(let Yt=0;Yt<S.length;Yt++)Ll(S[Yt],pt[Yt],mt);const ft=Ae.vec3.add([],pt[ue],pt[(ue+1)%4]);Ae.vec3.scale(ft,ft,.5),Ll(Be,ft,mt)}for(const pt of S)Ae.vec3.min(b,b,pt),Ae.vec3.max(A,A,pt);return b[2]=Math.min(re[2],ve[2]),Ae.vec3.min(b,b,Be),Ae.vec3.max(A,A,Be),new Bo(b,A)}function rl({x:u,y:n,z:i},d=!1){const g=1/(1<<i),h=new hs(Cc(u*g),n===(1<<i)-1&&d?-90:Xl((n+1)*g)),v=new hs(Cc((u+1)*g),n===0&&d?90:Xl(n*g));return new Pd(h,v)}function js(u,n=Tc){const i=it(u.getNorth()),d=it(u.getSouth()),g=Math.cos(i),h=Math.cos(d),v=Math.sin(i),S=Math.sin(d),M=u.getWest(),A=u.getEast();return[Kl(h,S,M,n),Kl(h,S,A,n),Kl(g,v,A,n),Kl(g,v,M,n)]}function As(u,n,i,d){const g=1<<i.z,h=(u/ji+i.x)/g;return sf(Xl((n/ji+i.y)/g),Cc(h),d)}function ss({min:u,max:n}){return i0/Math.max(n[0]-u[0],n[1]-u[1],n[2]-u[2])}const Ml=new Float64Array(16);function Yl(u){const n=ss(u),i=Ae.mat4.fromScaling(Ml,[n,n,n]);return Ae.mat4.translate(i,i,Ae.vec3.negate([],u.min))}function Rs(u){const n=Ae.mat4.fromTranslation(Ml,u.min),i=1/ss(u);return Ae.mat4.scale(n,n,[i,i,i])}function cc(u){const n=ji/(2*Math.PI);return u/(2*Math.PI)/n}function Dc(u,n){return ji/(512*Math.pow(2,u))*ss(Dl(n))}function pc(u,n,i,d,g){const h=cc(i),v=[u,n,-i/(2*Math.PI)],S=Ae.mat4.identity(new Float64Array(16));return Ae.mat4.translate(S,S,v),Ae.mat4.scale(S,S,[h,h,h]),Ae.mat4.rotateX(S,S,it(-g)),Ae.mat4.rotateY(S,S,it(-d)),S}function mc(u){return oi(Ff,Md,u)}function td(u,n){const i=sf(n.lat,n.lng),d=function(h){const v=sf(h._center.lat,h._center.lng),S=Ae.vec3.fromValues(0,1,0);let M=Ae.vec3.cross([],S,v);const A=Ae.mat4.fromRotation([],-h.angle,v);M=Ae.vec3.transformMat4(M,M,A),Ae.mat4.fromRotation(A,-h._pitch,M);const b=Ae.vec3.normalize([],v);return Ae.vec3.scale(b,b,Qa(h.cameraToCenterDistance/h.pixelsPerMeter)),Ae.vec3.transformMat4(b,b,A),Ae.vec3.add([],v,b)}(u),g=Ae.vec3.subtract([],d,i);return Ae.vec3.angle(g,i)}function ru(u,n){return td(u,n)>Math.PI/2*1.01}const Yc=it(85),cf=Math.cos(Yc),Au=Math.sin(Yc),Zf=Ae.mat4.create(),Rd=u=>{const n=[];return u.paint.get("circle-pitch-alignment")==="map"&&n.push("PITCH_WITH_MAP"),u.paint.get("circle-pitch-scale")==="map"&&n.push("SCALE_WITH_MAP"),n};function Tp(u,n,i,d,g,h,v,S,M){if(h&&u.queryGeometry.isAboveHorizon)return!1;h&&(M*=u.pixelToTileUnitsFactor);const A=u.tileID.canonical,b=i.projection.upVectorScale(A,i.center.lat,i.worldSize).metersToTile;for(const P of n)for(const $ of P){const T=$.add(S),O=g&&i.elevation?i.elevation.exaggeration()*g.getElevationAt(T.x,T.y,!0):0,N=i.projection.projectTilePoint(T.x,T.y,A);if(O>0){const ue=i.projection.upVector(A,T.x,T.y);N.x+=ue[0]*b*O,N.y+=ue[1]*b*O,N.z+=ue[2]*b*O}const W=h?T:Wm(N.x,N.y,N.z,d),J=h?u.tilespaceRays.map(ue=>zv(ue,O)):u.queryGeometry.screenGeometry,se=Ae.vec4.transformMat4([],[N.x,N.y,N.z,1],d);if(!v&&h?M*=se[3]/i.cameraToCenterDistance:v&&!h&&(M*=i.cameraToCenterDistance/se[3]),h){const ue=Xl(($.y/ji+A.y)/(1<<A.z));M/=i.projection.pixelsPerMeter(ue,1)/Mc(1,ue)}if(ze(J,W,M))return!0}return!1}function Wm(u,n,i,d){const g=Ae.vec4.transformMat4([],[u,n,i,1],d);return new On(g[0]/g[3],g[1]/g[3])}const s0=Ae.vec3.fromValues(0,0,0),U_=Ae.vec3.fromValues(0,0,1);function zv(u,n){const i=Ae.vec3.create();return s0[2]=n,u.intersectsPlane(s0,U_,i),new On(i[0],i[1])}class W_ extends Pe{}let G_,Nv,K_,l0;function Bv(u,{width:n,height:i},d,g){if(g){if(g instanceof Uint8ClampedArray)g=new Uint8Array(g.buffer);else if(g.length!==n*i*d)throw new RangeError("mismatched image size")}else g=new Uint8Array(n*i*d);return u.width=n,u.height=i,u.data=g,u}function Fv(u,n,i){const{width:d,height:g}=n;d===u.width&&g===u.height||(kv(u,n,{x:0,y:0},{x:0,y:0},{width:Math.min(u.width,d),height:Math.min(u.height,g)},i,null),u.width=d,u.height=g,u.data=n.data)}function kv(u,n,i,d,g,h,v,S){if(g.width===0||g.height===0)return n;if(g.width>u.width||g.height>u.height||i.x>u.width-g.width||i.y>u.height-g.height)throw new RangeError("out of range source coordinates for image copy");if(g.width>n.width||g.height>n.height||d.x>n.width-g.width||d.y>n.height-g.height)throw new RangeError("out of range destination coordinates for image copy");const M=u.data,A=n.data,b=h===4&&S;for(let P=0;P<g.height;P++){const $=((i.y+P)*u.width+i.x)*h,T=((d.y+P)*n.width+d.x)*h;if(b)for(let O=0;O<g.width;O++){const N=$+O*h+3,W=T+O*h;A[W+0]=255,A[W+1]=255,A[W+2]=255,A[W+3]=M[N]}else if(v)for(let O=0;O<g.width;O++){const N=$+O*h,W=T+O*h,J=M[N+3],se=new _e(M[N+0]/255*J,M[N+1]/255*J,M[N+2]/255*J,J).toRenderColor(v).toArray();A[W+0]=se[0],A[W+1]=se[1],A[W+2]=se[2],A[W+3]=se[3]}else for(let O=0;O<g.width*h;O++)A[T+O]=M[$+O]}return n}Eo(W_,"HeatmapBucket",{omit:["layers"]});class jf{constructor(n,i){Bv(this,n,1,i)}resize(n){Fv(this,new jf(n),1)}clone(){return new jf({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(n,i,d,g,h){kv(n,i,d,g,h,1,null)}}class gc{constructor(n,i){Bv(this,n,4,i)}resize(n){Fv(this,new gc(n),4)}replace(n,i){i?this.data.set(n):this.data=n instanceof Uint8ClampedArray?new Uint8Array(n.buffer):n}clone(){return new gc({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(n,i,d,g,h,v,S){kv(n,i,d,g,h,4,v,S)}}class X_{constructor(n,i){this.width=n.width,this.height=n.height,this.data=i instanceof Uint8Array?new Float32Array(i.buffer):i}}function Mp(u){const n={},i=u.resolution||256,d=u.clips?u.clips.length:1,g=u.image||new gc({width:i,height:d}),h=(v,S,M)=>{n[u.evaluationKey]=M;const A=u.expression.evaluate(n);A&&(g.data[v+S+0]=Math.floor(255*A.r/A.a),g.data[v+S+1]=Math.floor(255*A.g/A.a),g.data[v+S+2]=Math.floor(255*A.b/A.a),g.data[v+S+3]=Math.floor(255*A.a))};if(u.clips)for(let v=0,S=0;v<d;++v,S+=4*i)for(let M=0,A=0;M<i;M++,A+=4){const b=M/(i-1),{start:P,end:$}=u.clips[v];h(S,A,P*(1-b)+$*b)}else for(let v=0,S=0;v<i;v++,S+=4)h(0,S,v/(i-1));return g}Eo(jf,"AlphaImage"),Eo(gc,"RGBAImage");const Xx=xs([{name:"a_pos",components:2,type:"Int16"}],4),{members:Yx}=Xx;function Gm(u,n,i=2){const d=n&&n.length,g=d?n[0]*i:u.length;let h=Y_(u,0,g,i,!0);const v=[];if(!h||h.next===h.prev)return v;let S,M,A;if(d&&(h=function(b,P,$,T){const O=[];for(let N=0,W=P.length;N<W;N++){const J=Y_(b,P[N]*T,N<W-1?P[N+1]*T:b.length,T,!1);J===J.next&&(J.steiner=!0),O.push(rC(J))}O.sort(eC);for(let N=0;N<O.length;N++)$=tC(O[N],$);return $}(u,n,h,i)),u.length>80*i){S=1/0,M=1/0;let b=-1/0,P=-1/0;for(let $=i;$<g;$+=i){const T=u[$],O=u[$+1];T<S&&(S=T),O<M&&(M=O),T>b&&(b=T),O>P&&(P=O)}A=Math.max(b-S,P-M),A=A!==0?32767/A:0}return Km(h,v,i,S,M,A,0),v}function Y_(u,n,i,d,g){let h;if(g===function(v,S,M,A){let b=0;for(let P=S,$=M-A;P<M;P+=A)b+=(v[$]-v[P])*(v[P+1]+v[$+1]),$=P;return b}(u,n,i,d)>0)for(let v=n;v<i;v+=d)h=J_(v/d|0,u[v],u[v+1],h);else for(let v=i-d;v>=n;v-=d)h=J_(v/d|0,u[v],u[v+1],h);return h&&c0(h,h.next)&&(Op(h),h=h.next),h}function uf(u,n){if(!u)return u;n||(n=u);let i,d=u;do if(i=!1,d.steiner||!c0(d,d.next)&&ql(d.prev,d,d.next)!==0)d=d.next;else{if(Op(d),d=n=d.prev,d===d.next)break;i=!0}while(i||d!==n);return n}function Km(u,n,i,d,g,h,v){if(!u)return;!v&&h&&function(M,A,b,P){let $=M;do $.z===0&&($.z=Zv($.x,$.y,A,b,P)),$.prevZ=$.prev,$.nextZ=$.next,$=$.next;while($!==M);$.prevZ.nextZ=null,$.prevZ=null,function(T){let O,N=1;do{let W,J=T;T=null;let se=null;for(O=0;J;){O++;let ue=J,re=0;for(let we=0;we<N&&(re++,ue=ue.nextZ,ue);we++);let ve=N;for(;re>0||ve>0&&ue;)re!==0&&(ve===0||!ue||J.z<=ue.z)?(W=J,J=J.nextZ,re--):(W=ue,ue=ue.nextZ,ve--),se?se.nextZ=W:T=W,W.prevZ=se,se=W;J=ue}se.nextZ=null,N*=2}while(O>1)}($)}(u,d,g,h);let S=u;for(;u.prev!==u.next;){const M=u.prev,A=u.next;if(h?Jx(u,d,g,h):qx(u))n.push(M.i,u.i,A.i),Op(u),u=A.next,S=A.next;else if((u=A)===S){v?v===1?Km(u=iu(uf(u),n),n,i,d,g,h,2):v===2&&Qx(u,n,i,d,g,h):Km(uf(u),n,i,d,g,h,1);break}}}function qx(u){const n=u.prev,i=u,d=u.next;if(ql(n,i,d)>=0)return!1;const g=n.x,h=i.x,v=d.x,S=n.y,M=i.y,A=d.y,b=g<h?g<v?g:v:h<v?h:v,P=S<M?S<A?S:A:M<A?M:A,$=g>h?g>v?g:v:h>v?h:v,T=S>M?S>A?S:A:M>A?M:A;let O=d.next;for(;O!==n;){if(O.x>=b&&O.x<=$&&O.y>=P&&O.y<=T&&Pp(g,S,h,M,v,A,O.x,O.y)&&ql(O.prev,O,O.next)>=0)return!1;O=O.next}return!0}function Jx(u,n,i,d){const g=u.prev,h=u,v=u.next;if(ql(g,h,v)>=0)return!1;const S=g.x,M=h.x,A=v.x,b=g.y,P=h.y,$=v.y,T=S<M?S<A?S:A:M<A?M:A,O=b<P?b<$?b:$:P<$?P:$,N=S>M?S>A?S:A:M>A?M:A,W=b>P?b>$?b:$:P>$?P:$,J=Zv(T,O,n,i,d),se=Zv(N,W,n,i,d);let ue=u.prevZ,re=u.nextZ;for(;ue&&ue.z>=J&&re&&re.z<=se;){if(ue.x>=T&&ue.x<=N&&ue.y>=O&&ue.y<=W&&ue!==g&&ue!==v&&Pp(S,b,M,P,A,$,ue.x,ue.y)&&ql(ue.prev,ue,ue.next)>=0||(ue=ue.prevZ,re.x>=T&&re.x<=N&&re.y>=O&&re.y<=W&&re!==g&&re!==v&&Pp(S,b,M,P,A,$,re.x,re.y)&&ql(re.prev,re,re.next)>=0))return!1;re=re.nextZ}for(;ue&&ue.z>=J;){if(ue.x>=T&&ue.x<=N&&ue.y>=O&&ue.y<=W&&ue!==g&&ue!==v&&Pp(S,b,M,P,A,$,ue.x,ue.y)&&ql(ue.prev,ue,ue.next)>=0)return!1;ue=ue.prevZ}for(;re&&re.z<=se;){if(re.x>=T&&re.x<=N&&re.y>=O&&re.y<=W&&re!==g&&re!==v&&Pp(S,b,M,P,A,$,re.x,re.y)&&ql(re.prev,re,re.next)>=0)return!1;re=re.nextZ}return!0}function iu(u,n){let i=u;do{const d=i.prev,g=i.next.next;!c0(d,g)&&q_(d,i,i.next,g)&&nd(d,g)&&nd(g,d)&&(n.push(d.i,i.i,g.i),Op(i),Op(i.next),i=u=g),i=i.next}while(i!==u);return uf(i)}function Qx(u,n,i,d,g,h){let v=u;do{let S=v.next.next;for(;S!==v.prev;){if(v.i!==S.i&&iC(v,S)){let M=jv(v,S);return v=uf(v,v.next),M=uf(M,M.next),Km(v,n,i,d,g,h,0),void Km(M,n,i,d,g,h,0)}S=S.next}v=v.next}while(v!==u)}function eC(u,n){return u.x-n.x}function tC(u,n){const i=function(g,h){let v=h;const S=g.x,M=g.y;let A,b=-1/0;do{if(M<=v.y&&M>=v.next.y&&v.next.y!==v.y){const N=v.x+(M-v.y)*(v.next.x-v.x)/(v.next.y-v.y);if(N<=S&&N>b&&(b=N,A=v.x<v.next.x?v:v.next,N===S))return A}v=v.next}while(v!==h);if(!A)return null;const P=A,$=A.x,T=A.y;let O=1/0;v=A;do{if(S>=v.x&&v.x>=$&&S!==v.x&&Pp(M<T?S:b,M,$,T,M<T?b:S,M,v.x,v.y)){const N=Math.abs(M-v.y)/(S-v.x);nd(v,g)&&(N<O||N===O&&(v.x>A.x||v.x===A.x&&nC(A,v)))&&(A=v,O=N)}v=v.next}while(v!==P);return A}(u,n);if(!i)return n;const d=jv(i,u);return uf(d,d.next),uf(i,i.next)}function nC(u,n){return ql(u.prev,u,n.prev)<0&&ql(n.next,u,u.next)<0}function Zv(u,n,i,d,g){return(u=1431655765&((u=858993459&((u=252645135&((u=16711935&((u=(u-i)*g|0)|u<<8))|u<<4))|u<<2))|u<<1))|(n=1431655765&((n=858993459&((n=252645135&((n=16711935&((n=(n-d)*g|0)|n<<8))|n<<4))|n<<2))|n<<1))<<1}function rC(u){let n=u,i=u;do(n.x<i.x||n.x===i.x&&n.y<i.y)&&(i=n),n=n.next;while(n!==u);return i}function Pp(u,n,i,d,g,h,v,S){return(g-v)*(n-S)>=(u-v)*(h-S)&&(u-v)*(d-S)>=(i-v)*(n-S)&&(i-v)*(h-S)>=(g-v)*(d-S)}function iC(u,n){return u.next.i!==n.i&&u.prev.i!==n.i&&!function(i,d){let g=i;do{if(g.i!==i.i&&g.next.i!==i.i&&g.i!==d.i&&g.next.i!==d.i&&q_(g,g.next,i,d))return!0;g=g.next}while(g!==i);return!1}(u,n)&&(nd(u,n)&&nd(n,u)&&function(i,d){let g=i,h=!1;const v=(i.x+d.x)/2,S=(i.y+d.y)/2;do g.y>S!=g.next.y>S&&g.next.y!==g.y&&v<(g.next.x-g.x)*(S-g.y)/(g.next.y-g.y)+g.x&&(h=!h),g=g.next;while(g!==i);return h}(u,n)&&(ql(u.prev,u,n.prev)||ql(u,n.prev,n))||c0(u,n)&&ql(u.prev,u,u.next)>0&&ql(n.prev,n,n.next)>0)}function ql(u,n,i){return(n.y-u.y)*(i.x-n.x)-(n.x-u.x)*(i.y-n.y)}function c0(u,n){return u.x===n.x&&u.y===n.y}function q_(u,n,i,d){const g=d0(ql(u,n,i)),h=d0(ql(u,n,d)),v=d0(ql(i,d,u)),S=d0(ql(i,d,n));return g!==h&&v!==S||!(g!==0||!u0(u,i,n))||!(h!==0||!u0(u,d,n))||!(v!==0||!u0(i,u,d))||!(S!==0||!u0(i,n,d))}function u0(u,n,i){return n.x<=Math.max(u.x,i.x)&&n.x>=Math.min(u.x,i.x)&&n.y<=Math.max(u.y,i.y)&&n.y>=Math.min(u.y,i.y)}function d0(u){return u>0?1:u<0?-1:0}function nd(u,n){return ql(u.prev,u,u.next)<0?ql(u,n,u.next)>=0&&ql(u,u.prev,n)>=0:ql(u,n,u.prev)<0||ql(u,u.next,n)<0}function jv(u,n){const i=Ls(u.i,u.x,u.y),d=Ls(n.i,n.x,n.y),g=u.next,h=n.prev;return u.next=n,n.prev=u,i.next=g,g.prev=i,d.next=i,i.prev=d,h.next=d,d.prev=h,d}function J_(u,n,i,d){const g=Ls(u,n,i);return d?(g.next=d.next,g.prev=d,d.next.prev=g,d.next=g):(g.prev=g,g.next=g),g}function Op(u){u.next.prev=u.prev,u.prev.next=u.next,u.prevZ&&(u.prevZ.nextZ=u.nextZ),u.nextZ&&(u.nextZ.prevZ=u.prevZ)}function Ls(u,n,i){return{i:u,x:n,y:i,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}function cl(u,n){const i=u.length;if(i<=1)return[u];const d=[];let g,h;for(let v=0;v<i;v++){const S=Ci(u[v]);S!==0&&(u[v].area=Math.abs(S),h===void 0&&(h=S<0),h===S<0?(g&&d.push(g),g=[u[v]]):g.push(u[v]))}if(g&&d.push(g),n>1)for(let v=0;v<d.length;v++)d[v].length<=n||(ms(d[v],n,1,d[v].length-1,oC),d[v]=d[v].slice(0,n));return d}function oC(u,n){return n.area-u.area}function Q_(u,n,i=1){if(!u)return null;const d=typeof u=="string"?u:u.getPrimary().id;n[d]||(n[d]=[]);const g=_i.from(d).getPrimary().scaleSelf(i);return n[d].push(g),g.serialize()}function vu(u,n,i,d){const g=d.patternDependencies;let h=!1;for(const v of n){const S=v.paint.get(`${u}-pattern`);S.isConstant()||(h=!0),Q_(S.constantOr(null),g,i)&&(h=!0)}return h}function Vv(u,n,i,d,g,h){const v=h.patternDependencies;for(const S of n){const M=S.paint.get(`${u}-pattern`).value;if(M.kind!=="constant"){let A=M.evaluate({zoom:d},i,{},h.availableImages);A=A&&A.name?A.name:A;const b=Q_(A,v,g);b&&(i.patterns[S.id]=b)}}return i}class Hv{constructor(n){this.zoom=n.zoom,this.pixelRatio=n.pixelRatio,this.overscaling=n.overscaling,this.layers=n.layers,this.layerIds=this.layers.map(i=>i.fqid),this.index=n.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new Mu,this.indexArray=new lc,this.indexArray2=new Sd,this.programConfigurations=new Td(n.layers,{zoom:n.zoom,lut:n.lut}),this.segments=new sl,this.segments2=new sl,this.stateDependentLayerIds=this.layers.filter(i=>i.isStateDependent()).map(i=>i.id),this.projection=n.projection}updateFootprints(n,i){}populate(n,i,d,g){this.hasPattern=vu("fill",this.layers,this.pixelRatio,i);const h=this.layers[0].layout.get("fill-sort-key"),v=[];for(const{feature:S,id:M,index:A,sourceLayerIndex:b}of n){const P=this.layers[0]._featureFilter.needGeometry,$=Q(S,P);if(!this.layers[0]._featureFilter.filter(new Us(this.zoom),$,d))continue;const T=h?h.evaluate($,{},d,i.availableImages):void 0,O={id:M,properties:S.properties,type:S.type,sourceLayerIndex:b,index:A,geometry:P?$.geometry:U(S,d,g),patterns:{},sortKey:T};v.push(O)}h&&v.sort((S,M)=>S.sortKey-M.sortKey);for(const S of v){const{geometry:M,index:A,sourceLayerIndex:b}=S;if(this.hasPattern){const P=Vv("fill",this.layers,S,this.zoom,this.pixelRatio,i);this.patternFeatures.push(P)}else this.addFeature(S,M,A,d,{},i.availableImages,i.brightness,i.elevationFeatures);i.featureIndex.insert(n[A].feature,M,A,b,this.index)}}update(n,i,d,g,h,v,S){this.programConfigurations.updatePaintArrays(n,i,h,d,g,v,S)}addFeatures(n,i,d,g,h,v){for(const S of this.patternFeatures)this.addFeature(S,S.geometry,S.index,i,d,g,v,n.elevationFeatures)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(n){this.uploaded||(this.layoutVertexBuffer=n.createVertexBuffer(this.layoutVertexArray,Yx),this.indexBuffer=n.createIndexBuffer(this.indexArray),this.indexBuffer2=n.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(n),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())}addFeature(n,i,d,g,h,v=[],S,M){for(const A of cl(i,500)){let b=0;for(const W of A)b+=W.length;const P=this.segments.prepareSegment(b,this.layoutVertexArray,this.indexArray),$=P.vertexLength,T=[],O=[];for(const W of A){if(W.length===0)continue;W!==A[0]&&O.push(T.length/2);const J=this.segments2.prepareSegment(W.length,this.layoutVertexArray,this.indexArray2),se=J.vertexLength;this.layoutVertexArray.emplaceBack(W[0].x,W[0].y),this.indexArray2.emplaceBack(se+W.length-1,se),T.push(W[0].x),T.push(W[0].y);for(let ue=1;ue<W.length;ue++)this.layoutVertexArray.emplaceBack(W[ue].x,W[ue].y),this.indexArray2.emplaceBack(se+ue-1,se+ue),T.push(W[ue].x),T.push(W[ue].y);J.vertexLength+=W.length,J.primitiveLength+=W.length}const N=Gm(T,O);for(let W=0;W<N.length;W+=3)this.indexArray.emplaceBack($+N[W],$+N[W+1],$+N[W+2]);P.vertexLength+=b,P.primitiveLength+=N.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,n,d,h,v,g,S)}}let Uv,f0,Vf,Rp;Eo(Hv,"FillBucket",{omit:["layers","patternFeatures"]});class $p{constructor(n,i,d,g){if(this.triangleCount=i.length/3,this.min=new On(0,0),this.max=new On(0,0),this.xScale=0,this.yScale=0,this.cellsX=0,this.cellsY=0,this.cells=[],this.payload=[],this.triangleCount===0||n.length===0)return;const[h,v]=[n[0].clone(),n[0].clone()];for(let P=1;P<n.length;++P){const $=n[P];h.x=Math.min(h.x,$.x),h.y=Math.min(h.y,$.y),v.x=Math.max(v.x,$.x),v.y=Math.max(v.y,$.y)}if(g){const P=Math.ceil(Math.max(v.x-h.x,v.y-h.y)/g);d=Math.max(d,P)}if(d===0)return;this.min=h,this.max=v;const S=this.max.sub(this.min);S.x=Math.max(S.x,1),S.y=Math.max(S.y,1);const M=Math.max(S.x,S.y)/d;this.cellsX=Math.max(1,Math.ceil(S.x/M)),this.cellsY=Math.max(1,Math.ceil(S.y/M)),this.xScale=1/M,this.yScale=1/M;const A=[];for(let P=0;P<this.triangleCount;P++){const $=n[i[3*P+0]].sub(this.min),T=n[i[3*P+1]].sub(this.min),O=n[i[3*P+2]].sub(this.min),N=rd(Math.floor(Math.min($.x,T.x,O.x)),this.xScale,this.cellsX),W=rd(Math.floor(Math.max($.x,T.x,O.x)),this.xScale,this.cellsX),J=rd(Math.floor(Math.min($.y,T.y,O.y)),this.yScale,this.cellsY),se=rd(Math.floor(Math.max($.y,T.y,O.y)),this.yScale,this.cellsY),ue=new On(0,0),re=new On(0,0),ve=new On(0,0),we=new On(0,0);for(let Be=J;Be<=se;++Be){ue.y=re.y=Be*M,ve.y=we.y=(Be+1)*M;for(let mt=N;mt<=W;++mt)ue.x=ve.x=mt*M,re.x=we.x=(mt+1)*M,(nr($,T,O,ue,re,we)||nr($,T,O,ue,we,ve))&&A.push({cellIdx:Be*this.cellsX+mt,triIdx:P})}}if(A.length===0)return;A.sort((P,$)=>P.cellIdx-$.cellIdx||P.triIdx-$.triIdx);let b=0;for(;b<A.length;){const P=A[b].cellIdx,$={start:this.payload.length,len:0};for(;b<A.length&&A[b].cellIdx===P;)++$.len,this.payload.push(A[b++].triIdx);this.cells[P]=$}}_lazyInitLookup(){this.lookup||(this.lookup=new Uint8Array(Math.ceil(this.triangleCount/8))),this.lookup.fill(0)}queryPoint(n,i){if(this.triangleCount===0||this.cells.length===0||n.x>this.max.x||this.min.x>n.x||n.y>this.max.y||this.min.y>n.y)return;const d=rd(n.x-this.min.x,this.xScale,this.cellsX),g=rd(n.y-this.min.y,this.yScale,this.cellsY),h=this.cells[g*this.cellsX+d];if(h){this._lazyInitLookup();for(let v=0;v<h.len;v++){const S=this.payload[h.start+v],M=Math.floor(S/8),A=1<<S%8;if(!(this.lookup[M]&A)&&(this.lookup[M]|=A,i.push(S),i.length===this.triangleCount))return}}}query(n,i,d){if(this.triangleCount===0||this.cells.length===0||n.x>this.max.x||this.min.x>i.x||n.y>this.max.y||this.min.y>i.y)return;this._lazyInitLookup();const g=rd(n.x-this.min.x,this.xScale,this.cellsX),h=rd(i.x-this.min.x,this.xScale,this.cellsX),v=rd(n.y-this.min.y,this.yScale,this.cellsY),S=rd(i.y-this.min.y,this.yScale,this.cellsY);for(let M=v;M<=S;M++)for(let A=g;A<=h;A++){const b=this.cells[M*this.cellsX+A];if(b)for(let P=0;P<b.len;P++){const $=this.payload[b.start+P],T=Math.floor($/8),O=1<<$%8;if(!(this.lookup[T]&O)&&(this.lookup[T]|=O,d.push($),d.length===this.triangleCount))return}}}}function rd(u,n,i){return Math.max(0,Math.min(i-1,Math.floor(u*n)))}Eo($p,"TriangleGridIndex");class Wv{constructor(n){this.zoom=n.zoom,this.layers=n.layers,this.layerIds=this.layers.map(i=>i.fqid),this.index=n.index,this.hasPattern=!1,this.stateDependentLayerIds=this.layers.filter(i=>i.isStateDependent()).map(i=>i.id),this.footprints=[]}updateFootprints(n,i){for(const d of this.footprints)i.push({footprint:d,id:n})}populate(n,i,d,g){const h=[];for(const{feature:v,id:S,index:M,sourceLayerIndex:A}of n){const b=this.layers[0]._featureFilter.needGeometry,P=Q(v,b);if(!this.layers[0]._featureFilter.filter(new Us(this.zoom),P,d))continue;const $={id:S,properties:v.properties,type:v.type,sourceLayerIndex:A,index:M,geometry:b?P.geometry:U(v,d,g),patterns:{}};h.push($)}for(const v of h){const{geometry:S,index:M,sourceLayerIndex:A}=v;this.addFeature(v,S,M,d,{},i.availableImages,i.brightness),i.featureIndex.insert(n[M].feature,S,M,A,this.index)}}isEmpty(){return this.footprints.length===0}uploadPending(){return!1}upload(n){}update(n,i,d,g,h,v,S){}destroy(){}addFeature(n,i,d,g,h,v=[],S){for(const M of cl(i,2)){const A=[],b=[],P=[],$=new On(1/0,1/0),T=new On(-1/0,-1/0);for(const W of M)if(W.length!==0){W!==M[0]&&P.push(b.length/2);for(let J=0;J<W.length;J++)b.push(W[J].x),b.push(W[J].y),A.push(W[J]),$.x=Math.min($.x,W[J].x),$.y=Math.min($.y,W[J].y),T.x=Math.max(T.x,W[J].x),T.y=Math.max(T.y,W[J].y)}const O=Gm(b,P),N=new $p(A,O,8,256);this.footprints.push({vertices:A,indices:O,grid:N,min:$,max:T})}}}Eo(Wv,"ClipBucket",{omit:["layers"]});const eb=xs([{name:"a_pos_normal_ed",components:4,type:"Int16"}]),Gv=xs([{name:"a_pos_end",components:4,type:"Int16"},{name:"a_angular_offset_factor",components:1,type:"Int16"}]),tb=xs([{name:"a_centroid_pos",components:2,type:"Uint16"}]),nb=xs([{name:"a_join_normal_inside",components:3,type:"Int16"}]),aC=xs([{name:"a_hidden_by_landmark",components:1,type:"Uint8"}]),rb=xs([{name:"a_pos_3",components:3,type:"Int16"},{name:"a_pos_normal_3",components:3,type:"Int16"}]),{members:Xm}=eb;var Kv,ib,Xv,Yv,h0,qv,Jv,p0={};function m0(){if(ib)return Kv;ib=1;var u=Jr();function n(g,h,v,S,M){this.properties={},this.extent=v,this.type=0,this._pbf=g,this._geometry=-1,this._keys=S,this._values=M,g.readFields(i,this,h)}function i(g,h,v){g==1?h.id=v.readVarint():g==2?function(S,M){for(var A=S.readVarint()+S.pos;S.pos<A;){var b=M._keys[S.readVarint()],P=M._values[S.readVarint()];M.properties[b]=P}}(v,h):g==3?h.type=v.readVarint():g==4&&(h._geometry=v.pos)}function d(g){for(var h,v,S=0,M=0,A=g.length,b=A-1;M<A;b=M++)S+=((v=g[b]).x-(h=g[M]).x)*(h.y+v.y);return S}return Kv=n,n.types=["Unknown","Point","LineString","Polygon"],n.prototype.loadGeometry=function(){var g=this._pbf;g.pos=this._geometry;for(var h,v=g.readVarint()+g.pos,S=1,M=0,A=0,b=0,P=[];g.pos<v;){if(M<=0){var $=g.readVarint();S=7&$,M=$>>3}if(M--,S===1||S===2)A+=g.readSVarint(),b+=g.readSVarint(),S===1&&(h&&P.push(h),h=[]),h.push(new u(A,b));else{if(S!==7)throw new Error("unknown command "+S);h&&h.push(h[0].clone())}}return h&&P.push(h),P},n.prototype.bbox=function(){var g=this._pbf;g.pos=this._geometry;for(var h=g.readVarint()+g.pos,v=1,S=0,M=0,A=0,b=1/0,P=-1/0,$=1/0,T=-1/0;g.pos<h;){if(S<=0){var O=g.readVarint();v=7&O,S=O>>3}if(S--,v===1||v===2)(M+=g.readSVarint())<b&&(b=M),M>P&&(P=M),(A+=g.readSVarint())<$&&($=A),A>T&&(T=A);else if(v!==7)throw new Error("unknown command "+v)}return[b,$,P,T]},n.prototype.toGeoJSON=function(g,h,v){var S,M,A=this.extent*Math.pow(2,v),b=this.extent*g,P=this.extent*h,$=this.loadGeometry(),T=n.types[this.type];function O(J){for(var se=0;se<J.length;se++){var ue=J[se];J[se]=[360*(ue.x+b)/A-180,360/Math.PI*Math.atan(Math.exp((180-360*(ue.y+P)/A)*Math.PI/180))-90]}}switch(this.type){case 1:var N=[];for(S=0;S<$.length;S++)N[S]=$[S][0];O($=N);break;case 2:for(S=0;S<$.length;S++)O($[S]);break;case 3:for($=function(J){var se=J.length;if(se<=1)return[J];for(var ue,re,ve=[],we=0;we<se;we++){var Be=d(J[we]);Be!==0&&(re===void 0&&(re=Be<0),re===Be<0?(ue&&ve.push(ue),ue=[J[we]]):ue.push(J[we]))}return ue&&ve.push(ue),ve}($),S=0;S<$.length;S++)for(M=0;M<$[S].length;M++)O($[S][M])}$.length===1?$=$[0]:T="Multi"+T;var W={type:"Feature",geometry:{type:T,coordinates:$},properties:this.properties};return"id"in this&&(W.id=this.id),W},Kv}function df(){if(Yv)return Xv;Yv=1;var u=m0();function n(d,g){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=d,this._keys=[],this._values=[],this._features=[],d.readFields(i,this,g),this.length=this._features.length}function i(d,g,h){d===15?g.version=h.readVarint():d===1?g.name=h.readString():d===5?g.extent=h.readVarint():d===2?g._features.push(h.pos):d===3?g._keys.push(h.readString()):d===4&&g._values.push(function(v){for(var S=null,M=v.readVarint()+v.pos;v.pos<M;){var A=v.readVarint()>>3;S=A===1?v.readString():A===2?v.readFloat():A===3?v.readDouble():A===4?v.readVarint64():A===5?v.readVarint():A===6?v.readSVarint():A===7?v.readBoolean():null}return S}(h))}return Xv=n,n.prototype.feature=function(d){if(d<0||d>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[d];var g=this._pbf.readVarint()+this._pbf.pos;return new u(this._pbf,g,this.extent,this._keys,this._values)},Xv}function g0(){return Jv||(Jv=1,p0.VectorTile=function(){if(qv)return h0;qv=1;var u=df();function n(i,d,g){if(i===3){var h=new u(g,g.readVarint()+g.pos);h.length&&(d[h.name]=h)}}return h0=function(i,d){this.layers=i.readFields(n,{},d)},h0}(),p0.VectorTileFeature=m0(),p0.VectorTileLayer=df()),p0}var Du=g0();class Hf extends On{constructor(n,i,d){super(n,i),this.z=d}}class ob extends Hf{constructor(n,i,d,g){super(n,i,d),this.w=g}}function Ap(u,n,i,d){const g=[],h=d===0?(v,S,M,A,b,P)=>{v.push(new On(P,M+(P-S)/(A-S)*(b-M)))}:(v,S,M,A,b,P)=>{v.push(new On(S+(P-M)/(b-M)*(A-S),P))};for(const v of u){const S=[];for(const M of v){if(M.length<=2)continue;const A=[];for(let $=0;$<M.length-1;$++){const T=M[$].x,O=M[$].y,N=M[$+1].x,W=M[$+1].y,J=d===0?T:O,se=d===0?N:W;J<n?se>n&&h(A,T,O,N,W,n):J>i?se<i&&h(A,T,O,N,W,i):A.push(M[$]),se<n&&J>=n&&h(A,T,O,N,W,n),se>i&&J<=i&&h(A,T,O,N,W,i)}let b=M[M.length-1];const P=d===0?b.x:b.y;P>=n&&P<=i&&A.push(b),A.length&&(b=A[A.length-1],A[0].x===b.x&&A[0].y===b.y||A.push(A[0]),S.push(A))}S.length&&g.push(S)}return g}function v0(u,n,i,d){const g=i==="x"?"y":"x",h=(d-u[i])/(n[i]-u[i]);u[g]=u[g]+(n[g]-u[g])*h,u[i]=d,u.hasOwnProperty("z")&&(u.z=Et(u.z,n.z,h)),u.hasOwnProperty("w")&&(u.w=Et(u.w,n.w,h))}function Qv(u,n,i,d){const g=i,h=d;for(const v of["x","y"]){let S=u,M=n;S[v]>=M[v]&&(S=n,M=u),S[v]<g&&M[v]>g&&v0(S,M,v,g),S[v]<h&&M[v]>h&&v0(M,S,v,h)}}const Ym=Number.MAX_SAFE_INTEGER;function Dp(u,n,i,d){return u.order<n||u.order===Ym||!(u.clipMask&i)||function(g,h){return h.length!==0&&h.find(v=>v===g)===void 0}(d,u.clipScope)}function Sc(u,n){return u.x-n.x||u.y-n.y}function qm(u,n){return Sc(u.min,n.min)===0&&Sc(u.max,n.max)===0}function Lp(u,n){return!(u.min.x>n.max.x||u.max.x<n.min.x||u.min.y>n.max.y||u.max.y<n.min.y)}function ey(u,n){if(u.length!==n.length)return!1;for(let i=0;i<u.length;i++)if(u[i].sourceId!==n[i].sourceId||!qm(u[i],n[i])||u[i].order!==n[i].order||u[i].clipMask!==n[i].clipMask||!Kr(u[i].clipScope,n[i].clipScope))return!1;return!0}function vc(u,n,i){const d=1/ji,g=1/(1<<i.canonical.z),h=(n.x*d+i.canonical.x)*g+i.wrap,v=(n.y*d+i.canonical.y)*g;return{min:new On((u.x*d+i.canonical.x)*g+i.wrap,(u.y*d+i.canonical.y)*g),max:new On(h,v)}}function y0(u,n,i){const d=1<<i.canonical.z,g=((n.x-i.wrap)*d-i.canonical.x)*ji,h=(n.y*d-i.canonical.y)*ji;return{min:new On(((u.x-i.wrap)*d-i.canonical.x)*ji,(u.y*d-i.canonical.y)*ji),max:new On(g,h)}}function ab(u,n,i,d,g,h,v){const S=u.indices,M=u.vertices,A=[];for(let b=d;b<d+g;b+=3){const P=n[i[b+0]+h],$=n[i[b+1]+h],T=n[i[b+2]+h],O=Math.min(P.x,$.x,T.x),N=Math.max(P.x,$.x,T.x),W=Math.min(P.y,$.y,T.y),J=Math.max(P.y,$.y,T.y);A.length=0,u.grid.query(new On(O,W),new On(N,J),A);for(let se=0;se<A.length;se++){const ue=A[se];if(nr(M[S[3*ue+0]],M[S[3*ue+1]],M[S[3*ue+2]],P,$,T,v))return!0}}return!1}function sb(u,n,i,d){if(!u||!i)return!1;let g=u.vertices;if(!n.canonical.equals(d.canonical)||n.wrap!==d.wrap){if(i.vertices.length<u.vertices.length)return sb(i,d,u,n);const h=n.canonical,v=d.canonical,S=Math.pow(2,v.z-h.z);g=u.vertices.map(M=>new On((M.x+h.x*ji)*S-v.x*ji,(M.y+h.y*ji)*S-v.y*ji))}return ab(i,g,u.indices,0,u.indices.length,0,0)}function lb(u,n,i,d){const g=Math.pow(2,d.z-i.z);return new On((u+i.x*ji)*g-d.x*ji,(n+i.y*ji)*g-d.y*ji)}function cb(u,n){const i=[];n.grid.queryPoint(u,i);const d=n.indices,g=n.vertices;for(let h=0;h<i.length;h++){const v=i[h];if(Lt([g[d[3*v+0]],g[d[3*v+1]],g[d[3*v+2]]],u))return!0}return!1}const zp=[new On(0,0),new On(ji,0),new On(ji,ji),new On(0,ji)];function ty(u,n){const i=[];let d=[];if(!n||u.length<2)return[u];if(u.length===2)return Tn(u[0],u[1],zp)?[u]:[];for(let g=0;g<u.length+2;g++){const h=u[g%u.length],v=u[(g+1)%u.length],S=Tn(g===0?u[u.length-1]:u[(g-1)%u.length],h,zp),M=Tn(h,v,zp),A=S||M;A&&d.push(h),A&&M||d.length>0&&(d.length>1&&i.push(d),d=[])}return d.length>1&&i.push(d),i}const ny=Du.VectorTileFeature.types,ub=["fill-extrusion-base","fill-extrusion-height","fill-extrusion-color","fill-extrusion-pattern","fill-extrusion-flood-light-wall-radius","fill-extrusion-line-width","fill-extrusion-emissive-strength"],db=["fill-extrusion-flood-light-ground-radius"],fb=Math.pow(2,13),ry=Math.pow(2,15)-1,iy=new On(0,1),Uf=2147483648;function ff(u,n,i,d,g,h,v,S){u.emplaceBack((n<<1)+v,(i<<1)+h,(Math.floor(d*fb)<<1)+g,Math.round(S))}function Ah(u,n,i){u.emplaceBack(n.x*ji,n.y*ji,i?1:0)}function Jm(u,n,i,d,g,h){u.emplaceBack(n.x,n.y,(i.x<<1)+d,(i.y<<1)+g,h)}function Np(u,n,i){u.emplaceBack(n.x,n.y,n.z,i[0]*16384,i[1]*16384,i[2]*16384)}class hb{constructor(){this.vertexOffset=0,this.vertexCount=0,this.indexOffset=0,this.indexCount=0}}class oy{constructor(){this.centroidXY=new On(0,0),this.vertexArrayOffset=0,this.vertexCount=0,this.groundVertexArrayOffset=0,this.groundVertexCount=0,this.flags=0,this.footprintSegIdx=-1,this.footprintSegLen=0,this.polygonSegIdx=-1,this.polygonSegLen=0,this.min=new On(Number.MAX_VALUE,Number.MAX_VALUE),this.max=new On(-Number.MAX_VALUE,-Number.MAX_VALUE),this.height=0}span(){return new On(this.max.x-this.min.x,this.max.y-this.min.y)}}class ay{constructor(){this.acc=new On(0,0),this.accCount=0,this.centroidDataIndex=0}startRing(n,i){n.min.x===Number.MAX_VALUE&&(n.min.x=n.max.x=i.x,n.min.y=n.max.y=i.y)}appendEdge(n,i,d){this.accCount++,this.acc._add(i);let g=!!this.borders;i.x<n.min.x?(n.min.x=i.x,g=!0):i.x>n.max.x&&(n.max.x=i.x,g=!0),i.y<n.min.y?(n.min.y=i.y,g=!0):i.y>n.max.y&&(n.max.y=i.y,g=!0),((i.x===0||i.x===ji)&&i.x===d.x)!=((i.y===0||i.y===ji)&&i.y===d.y)&&this.processBorderOverlap(i,d),g&&this.checkBorderIntersection(i,d)}checkBorderIntersection(n,i){i.x<0!=n.x<0&&this.addBorderIntersection(0,Et(i.y,n.y,(0-i.x)/(n.x-i.x))),i.x>ji!=n.x>ji&&this.addBorderIntersection(1,Et(i.y,n.y,(ji-i.x)/(n.x-i.x))),i.y<0!=n.y<0&&this.addBorderIntersection(2,Et(i.x,n.x,(0-i.y)/(n.y-i.y))),i.y>ji!=n.y>ji&&this.addBorderIntersection(3,Et(i.x,n.x,(ji-i.y)/(n.y-i.y)))}addBorderIntersection(n,i){this.borders||(this.borders=[[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE]]);const d=this.borders[n];i<d[0]&&(d[0]=i),i>d[1]&&(d[1]=i)}processBorderOverlap(n,i){if(n.x===i.x){if(n.y===i.y)return;const d=n.x===0?0:1;this.addBorderIntersection(d,i.y),this.addBorderIntersection(d,n.y)}else{const d=n.y===0?2:3;this.addBorderIntersection(d,i.x),this.addBorderIntersection(d,n.x)}}centroid(){return this.accCount===0?new On(0,0):new On(Math.floor(Math.max(0,this.acc.x)/this.accCount),Math.floor(Math.max(0,this.acc.y)/this.accCount))}intersectsCount(){return this.borders?this.borders.reduce((n,i)=>n+ +(i[0]!==Number.MAX_VALUE),0):0}}function pb(u,n){const i=u.add(n)._unit(),d=Hn(u.x*i.x+u.y*i.y,-1,1);var g,h,v;return v=Math.acos(d),Math.min(4,Math.max(-4,Math.tan(v)))/4*ry*((g=u).x*(h=n).y-g.y*h.x<0?-1:1)}const mb=[u=>u.x<0,u=>u.x>ji,u=>u.y<0,u=>u.y>ji];function gb(u,n,i,d){const g=[4];if(d===0)return g;i._mult(d);const h=u.sub(i),v=n.sub(i),S=[u,n,h,v];for(let M=0;M<4;M++)for(const A of S)if(mb[M](A)){g.push(M);break}return g}class sy{constructor(n){this.vertexArray=new yp,this.indexArray=new lc,this.programConfigurations=new Td(n.layers,{zoom:n.zoom,lut:n.lut},i=>db.includes(i)),this._segments=new sl,this.hiddenByLandmarkVertexArray=new bp,this._segmentToGroundQuads={},this._segmentToGroundQuads[0]=[],this._segmentToRegionTriCounts={},this._segmentToRegionTriCounts[0]=[0,0,0,0,0],this.regionSegments={},this.regionSegments[4]=new sl}getDefaultSegment(){return this.regionSegments[4]}hasData(){return this.vertexArray.length!==0}addData(n,i,d,g=!1){const h=n.length;if(h>2){let v=Math.max(0,this._segments.get().length-1);const S=this._segments._prepareSegment(4*h,this.vertexArray.length,2*this._segmentToGroundQuads[v].length);let M;v!==this._segments.get().length-1&&(v++,this._segmentToGroundQuads[v]=[],this._segmentToRegionTriCounts[v]=[0,0,0,0,0]);{const A=n[0],b=n[1];M=pb(A.sub(n[h-1])._perp()._unit(),b.sub(A)._perp()._unit())}for(let A=0;A<h;A++){const b=A===h-1?0:A+1,P=n[A],$=n[b],T=n[b===h-1?0:b+1],O=$.sub(P)._perp()._unit(),N=pb(O,T.sub($)._perp()._unit()),W=M,J=N;if(ly(P,$,i)||g&&cy(P,i)&&cy($,i)){M=N;continue}const se=S.vertexLength;Jm(this.vertexArray,P,$,1,1,W),Jm(this.vertexArray,P,$,1,0,W),Jm(this.vertexArray,P,$,0,1,J),Jm(this.vertexArray,P,$,0,0,J),S.vertexLength+=4;const ue=gb(P,$,O,d);for(const re of ue)this._segmentToGroundQuads[v].push({id:se,region:re}),this._segmentToRegionTriCounts[v][re]+=2,S.primitiveLength+=2;M=N}}}prepareBorderSegments(){if(!this.hasData())return;const n=this._segments.get(),i=n.length;for(let d=0;d<i;d++)this._segmentToGroundQuads[d].sort((g,h)=>g.region-h.region);for(let d=0;d<i;d++){const g=this._segmentToGroundQuads[d],h=n[d],v=this._segmentToRegionTriCounts[d];v.reduce((M,A)=>M+A,0);let S=0;for(let M=0;M<=4;M++){const A=v[M];if(A!==0){let b=this.regionSegments[M];b||(b=this.regionSegments[M]=new sl);const P={vertexOffset:h.vertexOffset,primitiveOffset:h.primitiveOffset+S,vertexLength:h.vertexLength,primitiveLength:A};b.get().push(P)}S+=A}for(let M=0;M<g.length;M++){const A=g[M].id;this.indexArray.emplaceBack(A,A+1,A+3),this.indexArray.emplaceBack(A,A+3,A+2)}}this._segmentToGroundQuads=null,this._segmentToRegionTriCounts=null,this._segments.destroy(),this._segments=null}addPaintPropertiesData(n,i,d,g,h,v){this.hasData()&&this.programConfigurations.populatePaintArrays(this.vertexArray.length,n,i,d,g,h,v)}upload(n){this.hasData()&&(this.vertexBuffer=n.createVertexBuffer(this.vertexArray,Gv.members),this.indexBuffer=n.createIndexBuffer(this.indexArray))}uploadPaintProperties(n){this.hasData()&&this.programConfigurations.upload(n)}update(n,i,d,g,h,v,S){this.hasData()&&this.programConfigurations.updatePaintArrays(n,i,d,g,h,v,S)}updateHiddenByLandmark(n){if(!this.hasData())return;const i=n.groundVertexCount+n.groundVertexArrayOffset;if(n.groundVertexCount===0)return;const d=n.flags&Uf?1:0;for(let g=n.groundVertexArrayOffset;g<i;++g)this.hiddenByLandmarkVertexArray.emplace(g,d);this._needsHiddenByLandmarkUpdate=!0}uploadHiddenByLandmark(n){this.hasData()&&this._needsHiddenByLandmarkUpdate&&(!this.hiddenByLandmarkVertexBuffer&&this.hiddenByLandmarkVertexArray.length>0?this.hiddenByLandmarkVertexBuffer=n.createVertexBuffer(this.hiddenByLandmarkVertexArray,aC.members,!0):this.hiddenByLandmarkVertexBuffer&&this.hiddenByLandmarkVertexBuffer.updateData(this.hiddenByLandmarkVertexArray),this._needsHiddenByLandmarkUpdate=!1)}destroy(){if(this.vertexBuffer){this.vertexBuffer.destroy(),this.indexBuffer.destroy(),this.hiddenByLandmarkVertexBuffer&&this.hiddenByLandmarkVertexBuffer.destroy(),this._segments&&this._segments.destroy(),this.programConfigurations.destroy();for(let n=0;n<=4;n++){const i=this.regionSegments[n];i&&i.destroy()}}}}class _0{constructor(n){this.zoom=n.zoom,this.canonical=n.canonical,this.overscaling=n.overscaling,this.layers=n.layers,this.pixelRatio=n.pixelRatio,this.layerIds=this.layers.map(i=>i.fqid),this.index=n.index,this.hasPattern=!1,this.edgeRadius=0,this.projection=n.projection,this.activeReplacements=[],this.replacementUpdateTime=0,this.centroidData=[],this.footprintIndices=new lc,this.footprintVertices=new Mu,this.footprintSegments=[],this.layoutVertexArray=new Xu,this.centroidVertexArray=new Ic,this.wallVertexArray=new xp,this.indexArray=new lc,this.programConfigurations=new Td(n.layers,{zoom:n.zoom,lut:n.lut},i=>ub.includes(i)),this.segments=new sl,this.stateDependentLayerIds=this.layers.filter(i=>i.isStateDependent()).map(i=>i.id),this.groundEffect=new sy(n),this.maxHeight=0,this.partLookup={},this.triangleSubSegments=[],this.polygonSegments=[]}updateFootprints(n,i){}populate(n,i,d,g){this.features=[],this.hasPattern=vu("fill-extrusion",this.layers,this.pixelRatio,i),this.featuresOnBorder=[],this.borderFeatureIndices=[[],[],[],[]],this.borderDoneWithNeighborZ=[-1,-1,-1,-1],this.selfDEMTileTimestamp=Number.MAX_VALUE,this.borderDEMTileTimestamp=[Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE],this.tileToMeter=r(d),this.edgeRadius=this.layers[0].layout.get("fill-extrusion-edge-radius")/this.tileToMeter,this.wallMode=this.layers[0].paint.get("fill-extrusion-line-width").constantOr(1)!==0;for(const{feature:h,id:v,index:S,sourceLayerIndex:M}of n){const A=this.layers[0]._featureFilter.needGeometry,b=Q(h,A);if(!this.layers[0]._featureFilter.filter(new Us(this.zoom),b,d))continue;const P={id:v,sourceLayerIndex:M,index:S,geometry:A?b.geometry:U(h,d,g),properties:h.properties,type:h.type,patterns:{}},$=this.layoutVertexArray.length,T=ny[P.type]==="Polygon";if(this.hasPattern)this.features.push(Vv("fill-extrusion",this.layers,P,this.zoom,this.pixelRatio,i));else if(this.wallMode)for(const O of P.geometry)for(const N of ty(O,T))this.addFeature(P,[N],S,d,{},i.availableImages,g,i.brightness);else this.addFeature(P,P.geometry,S,d,{},i.availableImages,g,i.brightness);i.featureIndex.insert(h,P.geometry,S,M,this.index,$)}this.sortBorders(),this.projection.name==="mercator"&&this.splitToSubtiles(),this.groundEffect.prepareBorderSegments(),this.polygonSegments.length=0}addFeatures(n,i,d,g,h,v){for(const S of this.features){const M=ny[S.type]==="Polygon",{geometry:A}=S;if(this.wallMode)for(const b of A)for(const P of ty(b,M))this.addFeature(S,[P],S.index,i,d,g,h,v);else this.addFeature(S,A,S.index,i,d,g,h,v)}this.sortBorders(),this.projection.name==="mercator"&&this.splitToSubtiles()}update(n,i,d,g,h,v,S){this.programConfigurations.updatePaintArrays(n,i,h,d,g,v,S),this.groundEffect.update(n,i,h,d,g,v,S)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload||this.groundEffect.programConfigurations.needsUpload}upload(n){this.uploaded||(this.layoutVertexBuffer=n.createVertexBuffer(this.layoutVertexArray,Xm),this.indexBuffer=n.createIndexBuffer(this.indexArray),this.wallVertexBuffer=n.createVertexBuffer(this.wallVertexArray,nb.members),this.layoutVertexExtArray&&(this.layoutVertexExtBuffer=n.createVertexBuffer(this.layoutVertexExtArray,rb.members,!0)),this.groundEffect.upload(n)),this.groundEffect.uploadPaintProperties(n),this.programConfigurations.upload(n),this.uploaded=!0}uploadCentroid(n){this.groundEffect.uploadHiddenByLandmark(n),this.needsCentroidUpdate&&(!this.centroidVertexBuffer&&this.centroidVertexArray.length>0?this.centroidVertexBuffer=n.createVertexBuffer(this.centroidVertexArray,tb.members,!0):this.centroidVertexBuffer&&this.centroidVertexBuffer.updateData(this.centroidVertexArray),this.needsCentroidUpdate=!1)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.centroidVertexBuffer&&this.centroidVertexBuffer.destroy(),this.layoutVertexExtBuffer&&this.layoutVertexExtBuffer.destroy(),this.groundEffect.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}addFeature(n,i,d,g,h,v,S,M){const A=this.layers[0].paint.get("fill-extrusion-flood-light-ground-radius").evaluate(n,{})/this.tileToMeter,b=[new On(0,0),new On(ji,ji)],P=S.projection,$=P.name==="globe",T=this.wallMode||ny[n.type]==="Polygon",O=new ay;O.centroidDataIndex=this.centroidData.length;const N=new oy,W=this.layers[0].paint.get("fill-extrusion-base").evaluate(n,{},g)<=0,J=this.layers[0].paint.get("fill-extrusion-height").evaluate(n,{},g);let se;if(N.height=J,N.vertexArrayOffset=this.layoutVertexArray.length,N.groundVertexArrayOffset=this.groundEffect.vertexArray.length,$&&!this.layoutVertexExtArray&&(this.layoutVertexExtArray=new Yu),this.wallMode){if($)return void Wn("Non zero fill-extrusion-line-width is not yet supported on globe.");if(i.length!==1)return;se=function(ft){const Yt=ft[0].x===ft[ft.length-1].x&&ft[0].y===ft[ft.length-1].y;(function(Ii){let gi=0;const Ro=Ii.length;for(let io=0;io<Ro;io++)gi+=(Ii[(io+1)%Ro].x-Ii[io].x)*(Ii[(io+1)%Ro].y+Ii[io].y);return gi>=0})(ft)||(ft=ft.reverse());const en={geometry:[],joinNormals:[],indices:[]},yn=[],fn=[],xn=[];let Bn=ft.length;for(;Bn>=2&&ft[Bn-1].equals(ft[Bn-2]);)Bn--;if(Bn<(Yt?3:2))return en;let Yn,$n,$r,fi,Dr,Qi=0;for(;Qi<Bn-1&&ft[Qi].equals(ft[Qi+1]);)Qi++;Yt&&(Yn=ft[Bn-2],Dr=ft[Qi].sub(Yn)._unit()._perp());for(let Ii=Qi;Ii<Bn;Ii++){if($r=Ii===Bn-1?Yt?ft[Qi+1]:void 0:ft[Ii+1],$r&&ft[Ii].equals($r))continue;Dr&&(fi=Dr),Yn&&($n=Yn),Yn=ft[Ii],Dr=$r?$r.sub(Yn)._unit()._perp():fi,fi=fi||Dr;let gi=fi.add(Dr);gi.x===0&&gi.y===0||gi._unit();const Ro=gi.x*Dr.x+gi.y*Dr.y,io=Ro!==0?1/Ro:1/0,yo=fi.x*Dr.y-fi.y*Dr.x>0;let ua="miter";const ka=2;ua==="miter"&&io>ka&&(ua="bevel"),ua==="bevel"&&(io>100&&(ua="flipbevel"),io<ka&&(ua="miter"));const za=(Na,es,ts,Vs)=>{const Ds=new On(Na.x,Na.y),Ia=new On(Na.x,Na.y);Ds.x+=es.x*Vs,Ds.y+=es.y*Vs,Ia.x-=es.x*Math.max(ts,1),Ia.y-=es.y*Math.max(ts,1),xn.push(es),yn.push(Ds),fn.push(Ia)};if(ua==="miter")gi._mult(io),za(Yn,gi,0,0);else if(ua==="flipbevel")gi=Dr.mult(-1),za(Yn,gi,0,0),za(Yn,gi.mult(-1),0,0);else{const Na=-Math.sqrt(io*io-1),es=yo?Na:0,ts=yo?0:Na;$n&&za(Yn,fi,es,ts),$r&&za(Yn,Dr,es,ts)}}en.geometry=[...yn,...fn.reverse(),yn[0]],en.joinNormals=[...xn,...xn.reverse(),xn[xn.length-1]];const Hi=en.geometry.length-1;for(let Ii=0;Ii<Hi/2;Ii++)if(Ii+1<Hi/2){let gi=Ii,Ro=Ii+1,io=Hi-1-Ii,yo=Hi-2-Ii;gi=gi===0?Hi-1:gi-1,Ro=Ro===0?Hi-1:Ro-1,io=io===0?Hi-1:io-1,yo=yo===0?Hi-1:yo-1,en.indices.push(io),en.indices.push(Ro),en.indices.push(gi),en.indices.push(io),en.indices.push(yo),en.indices.push(Ro)}return en}(i[0]),i=[se.geometry]}const ue=(ft,Yt)=>ft<(Yt.length-1)/2||ft===Yt.length-1,re=this.wallMode?[i]:cl(i,500);for(let ft=re.length-1;ft>=0;ft--){const Yt=re[ft];(Yt.length===0||(ve=Yt[0]).every(yt=>yt.x<=0)||ve.every(yt=>yt.x>=ji)||ve.every(yt=>yt.y<=0)||ve.every(yt=>yt.y>=ji))&&re.splice(ft,1)}var ve;let we;if($)we=hf(re,b,g);else{we=[];for(const ft of re)we.push({polygon:ft,bounds:b})}const Be=T?this.edgeRadius:0,mt=Be>0&&this.zoom<17,pt=(ft,Yt)=>{if(ft.length===0)return!1;const yt=ft[ft.length-1];return Yt.x===yt.x&&Yt.y===yt.y};for(const{polygon:ft,bounds:Yt}of we){let yt=0,en=0;for(const Bn of ft)T&&!Bn[0].equals(Bn[Bn.length-1])&&Bn.push(Bn[0]),en+=T?Bn.length-1:Bn.length;const yn=this.segments.prepareSegment((T?5:4)*en,this.layoutVertexArray,this.indexArray);N.footprintSegIdx<0&&(N.footprintSegIdx=this.footprintSegments.length),N.polygonSegIdx<0&&(N.polygonSegIdx=this.polygonSegments.length);const fn={triangleArrayOffset:this.indexArray.length,triangleCount:0,triangleSegIdx:this.segments.segments.length-1},xn=new hb;if(xn.vertexOffset=this.footprintVertices.length,xn.indexOffset=3*this.footprintIndices.length,xn.ringIndices=[],T){const Bn=[],Yn=[];yt=yn.vertexLength;for(let $r=0;$r<ft.length;$r++){const fi=ft[$r];fi.length&&$r!==0&&Yn.push(Bn.length/2);const Dr=[];let Qi,Hi;Qi=fi[1].sub(fi[0])._perp()._unit(),xn.ringIndices.push(fi.length-1);for(let Ii=1;Ii<fi.length;Ii++){const gi=fi[Ii],Ro=fi[Ii===fi.length-1?1:Ii+1],io=gi.clone();if(Be){Hi=Ro.sub(gi)._perp()._unit();const yo=Qi.add(Hi)._unit(),ua=Be*Math.min(4,1/(Qi.x*yo.x+Qi.y*yo.y));io.x+=ua*yo.x,io.y+=ua*yo.y,io.x=Math.round(io.x),io.y=Math.round(io.y),Qi=Hi}if(!W||Be!==0&&!mt||pt(Dr,io)||Dr.push(io),ff(this.layoutVertexArray,io.x,io.y,0,0,1,1,0),this.wallMode){const yo=ue(Ii,fi);Ah(this.wallVertexArray,se.joinNormals[Ii],!yo)}yn.vertexLength++,this.footprintVertices.emplaceBack(gi.x,gi.y),Bn.push(gi.x,gi.y),$&&Np(this.layoutVertexExtArray,P.projectTilePoint(io.x,io.y,g),P.upVector(g,io.x,io.y))}W&&(Be===0||mt)&&(Dr.length!==0&&pt(Dr,Dr[0])&&Dr.pop(),this.groundEffect.addData(Dr,Yt,A))}const $n=this.wallMode?se.indices:Gm(Bn,Yn);for(let $r=0;$r<$n.length;$r+=3)this.footprintIndices.emplaceBack(xn.vertexOffset+$n[$r+0],xn.vertexOffset+$n[$r+1],xn.vertexOffset+$n[$r+2]),this.indexArray.emplaceBack(yt+$n[$r],yt+$n[$r+2],yt+$n[$r+1]),yn.primitiveLength++;xn.indexCount+=$n.length,xn.vertexCount+=this.footprintVertices.length-xn.vertexOffset}for(let Bn=0;Bn<ft.length;Bn++){const Yn=ft[Bn];O.startRing(N,Yn[0]);let $n=Yn.length>4&&Wf(Yn[Yn.length-2],Yn[0],Yn[1]),$r=Be?b0(Yn[Yn.length-2],Yn[0],Yn[1],Be):0;const fi=[];let Dr,Qi,Hi;Qi=Yn[1].sub(Yn[0])._perp()._unit();let Ii=!0;for(let gi=1,Ro=0;gi<Yn.length;gi++){let io=Yn[gi-1],yo=Yn[gi];const ua=Yn[gi===Yn.length-1?1:gi+1];if(O.appendEdge(N,yo,io),ly(yo,io,Yt)){Be&&(Qi=ua.sub(yo)._perp()._unit(),Ii=!Ii);continue}const ka=yo.sub(io)._perp(),za=ka.x/(Math.abs(ka.x)+Math.abs(ka.y)),Na=ka.y>0?1:0,es=io.dist(yo);if(Ro+es>32768&&(Ro=0),Be){Hi=ua.sub(yo)._perp()._unit();let Ia=x0(io,yo,ua,Qm(Qi,Hi),Be);isNaN(Ia)&&(Ia=0);const Is=yo.sub(io)._unit();io=io.add(Is.mult($r))._round(),yo=yo.add(Is.mult(-Ia))._round(),$r=Ia,Qi=Hi,W&&this.zoom>=17&&(pt(fi,io)||fi.push(io),pt(fi,yo)||fi.push(yo))}const ts=yn.vertexLength,Vs=Yn.length>4&&Wf(io,yo,ua);let Ds=eg(Ro,$n,Ii);if(ff(this.layoutVertexArray,io.x,io.y,za,Na,0,0,Ds),ff(this.layoutVertexArray,io.x,io.y,za,Na,0,1,Ds),this.wallMode){const Ia=ue(gi-1,Yn),Is=se.joinNormals[gi-1];Ah(this.wallVertexArray,Is,Ia),Ah(this.wallVertexArray,Is,Ia)}if(Ro+=es,Ds=eg(Ro,Vs,!Ii),$n=Vs,ff(this.layoutVertexArray,yo.x,yo.y,za,Na,0,0,Ds),ff(this.layoutVertexArray,yo.x,yo.y,za,Na,0,1,Ds),this.wallMode){const Ia=ue(gi,Yn),Is=se.joinNormals[gi];Ah(this.wallVertexArray,Is,Ia),Ah(this.wallVertexArray,Is,Ia)}if(yn.vertexLength+=4,this.indexArray.emplaceBack(ts+0,ts+1,ts+2),this.indexArray.emplaceBack(ts+1,ts+3,ts+2),yn.primitiveLength+=2,Be){const Ia=yt+(gi===1?Yn.length-2:gi-2),Is=gi===1?yt:Ia+1;if(this.indexArray.emplaceBack(ts+1,Ia,ts+3),this.indexArray.emplaceBack(Ia,Is,ts+3),yn.primitiveLength+=2,Dr===void 0&&(Dr=ts),!ly(ua,Yn[gi],Yt)){const $s=gi===Yn.length-1?Dr:yn.vertexLength;this.indexArray.emplaceBack(ts+2,ts+3,$s),this.indexArray.emplaceBack(ts+3,$s+1,$s),this.indexArray.emplaceBack(ts+3,Is,$s+1),yn.primitiveLength+=3}Ii=!Ii}if($){const Ia=this.layoutVertexExtArray,Is=P.projectTilePoint(io.x,io.y,g),$s=P.projectTilePoint(yo.x,yo.y,g),Ks=P.upVector(g,io.x,io.y),Sl=P.upVector(g,yo.x,yo.y);Np(Ia,Is,Ks),Np(Ia,Is,Ks),Np(Ia,$s,Sl),Np(Ia,$s,Sl)}}T&&(yt+=Yn.length-1),W&&Be&&this.zoom>=17&&(fi.length!==0&&pt(fi,fi[0])&&fi.pop(),this.groundEffect.addData(fi,Yt,A,Be>0))}this.footprintSegments.push(xn),fn.triangleCount=this.indexArray.length-fn.triangleArrayOffset,this.polygonSegments.push(fn),++N.footprintSegLen,++N.polygonSegLen}if(N.vertexCount=this.layoutVertexArray.length-N.vertexArrayOffset,N.groundVertexCount=this.groundEffect.vertexArray.length-N.groundVertexArrayOffset,N.vertexCount!==0){if(N.centroidXY=O.borders?iy:this.encodeCentroid(O,N),this.centroidData.push(N),O.borders){this.featuresOnBorder.push(O);const ft=this.featuresOnBorder.length-1;for(let Yt=0;Yt<O.borders.length;Yt++)O.borders[Yt][0]!==Number.MAX_VALUE&&this.borderFeatureIndices[Yt].push(ft)}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,n,d,h,v,g,M),this.groundEffect.addPaintPropertiesData(n,d,h,v,g,M),this.maxHeight=Math.max(this.maxHeight,J)}}sortBorders(){for(let n=0;n<this.borderFeatureIndices.length;n++)this.borderFeatureIndices[n].sort((i,d)=>this.featuresOnBorder[i].borders[n][0]-this.featuresOnBorder[d].borders[n][0])}splitToSubtiles(){const n=[];for(let S=0;S<this.centroidData.length;S++){const M=this.centroidData[S],A=+(M.min.y+M.max.y>ji),b=2*A+(+(M.min.x+M.max.x>ji)^A);for(let P=0;P<M.polygonSegLen;P++){const $=M.polygonSegIdx+P;n.push({centroidIdx:S,subtile:b,polygonSegmentIdx:$,triangleSegmentIdx:this.polygonSegments[$].triangleSegIdx})}}const i=new lc;n.sort((S,M)=>S.triangleSegmentIdx===M.triangleSegmentIdx?S.subtile-M.subtile:S.triangleSegmentIdx-M.triangleSegmentIdx);let d=0,g=0,h=0;for(const S of n){if(S.triangleSegmentIdx!==d)break;h++}const v=n.length;for(;g!==n.length;){d=n[g].triangleSegmentIdx;let S=0,M=g,A=g;for(let b=M;b<h&&n[b].subtile===S;b++)A++;for(;M!==h;){const b=n[M];S=b.subtile;const P=this.centroidData[b.centroidIdx].min.clone(),$=this.centroidData[b.centroidIdx].max.clone(),T={vertexOffset:this.segments.segments[d].vertexOffset,primitiveOffset:i.length,vertexLength:this.segments.segments[d].vertexLength,primitiveLength:0,sortKey:void 0,vaos:{}};for(let O=M;O<A;O++){const N=n[O],W=this.polygonSegments[N.polygonSegmentIdx],J=this.centroidData[N.centroidIdx].min,se=this.centroidData[N.centroidIdx].max,ue=this.indexArray.uint16;for(let re=W.triangleArrayOffset;re<W.triangleArrayOffset+W.triangleCount;re++)i.emplaceBack(ue[3*re],ue[3*re+1],ue[3*re+2]);T.primitiveLength+=W.triangleCount,P.x=Math.min(P.x,J.x),P.y=Math.min(P.y,J.y),$.x=Math.max($.x,se.x),$.y=Math.max($.y,se.y)}T.primitiveLength>0&&this.triangleSubSegments.push({segment:T,min:P,max:$}),M=A;for(let O=M;O<h&&n[O].subtile===n[M].subtile;O++)A++}g=h;for(let b=g;b<v&&n[b].triangleSegmentIdx===n[g].triangleSegmentIdx;b++)h++}i._trim(),this.indexArray=i}getVisibleSegments(n,i,d){const g=new sl;if(this.wallMode){for(const N of this.triangleSubSegments)g.segments.push(N.segment);return g}let h=0,v=0;const S=1<<n.canonical.z;if(i){const N=i.getMinMaxForTile(n);N&&(h=N.min,v=N.max)}v+=this.maxHeight;const M=n.toUnwrapped();let A;const b=[M.canonical.x/S+M.wrap,M.canonical.y/S],P=[(M.canonical.x+1)/S+M.wrap,(M.canonical.y+1)/S],$=(N,W,J)=>[N[0]*(1-J[0])+W[0]*J[0],N[1]*(1-J[1])+W[1]*J[1]],T=[],O=[];for(const N of this.triangleSubSegments){T[0]=N.min.x/ji,T[1]=N.min.y/ji,O[0]=N.max.x/ji,O[1]=N.max.y/ji;const W=$(b,P,T),J=$(b,P,O);if(new Bo([W[0],W[1],h],[J[0],J[1],v]).intersectsPrecise(d)===0){A&&(g.segments.push(A),A=void 0);continue}const se=N.segment;A&&A.vertexOffset!==se.vertexOffset&&(g.segments.push(A),A=void 0),A?(A.vertexLength+=se.vertexLength,A.primitiveLength+=se.primitiveLength):A={vertexOffset:se.vertexOffset,primitiveLength:se.primitiveLength,vertexLength:se.vertexLength,primitiveOffset:se.primitiveOffset,sortKey:void 0,vaos:{}}}return A&&g.segments.push(A),g}encodeCentroid(n,i){const d=n.centroid(),g=i.span(),h=Math.min(7,Math.round(g.x*this.tileToMeter/10)),v=Math.min(7,Math.round(g.y*this.tileToMeter/10));return new On(Hn(d.x,1,ji-1)<<3|h,Hn(d.y,1,ji-1)<<3|v)}encodeBorderCentroid(n){if(!n.borders)return new On(0,0);const i=n.borders,d=Number.MAX_VALUE;if(i[0][0]!==d||i[1][0]!==d){const g=i[0][0]!==d?0:1;return new On(6|(i[0][0]!==d?0:65528),(i[g][0]+i[g][1])/2<<3|6)}{const g=i[2][0]!==d?2:3;return new On((i[g][0]+i[g][1])/2<<3|6,6|(i[2][0]!==d?0:65528))}}showCentroid(n){const i=this.centroidData[n.centroidDataIndex];i.flags&=Uf,i.centroidXY.x=0,i.centroidXY.y=0,this.writeCentroidToBuffer(i)}writeCentroidToBuffer(n){this.groundEffect.updateHiddenByLandmark(n);const i=n.vertexArrayOffset,d=n.vertexCount+n.vertexArrayOffset,g=n.flags&Uf?iy:n.centroidXY,h=this.centroidVertexArray.geta_centroid_pos0(i);if(this.centroidVertexArray.geta_centroid_pos1(i)!==g.y||h!==g.x){for(let v=i;v<d;++v)this.centroidVertexArray.emplace(v,g.x,g.y);this.needsCentroidUpdate=!0}}createCentroidsBuffer(){this.centroidVertexArray.resize(this.layoutVertexArray.length),this.groundEffect.hiddenByLandmarkVertexArray.resize(this.groundEffect.vertexArray.length);for(const n of this.centroidData)this.writeCentroidToBuffer(n)}updateReplacement(n,i,d){if(i.updateTime===this.replacementUpdateTime)return;this.replacementUpdateTime=i.updateTime;const g=i.getReplacementRegionsForTile(n.toUnwrapped());if(ey(this.activeReplacements,g))return;if(this.activeReplacements=g,this.centroidVertexArray.length===0)this.createCentroidsBuffer();else for(const v of this.centroidData)v.flags&=2147483647;const h=[];for(const v of this.activeReplacements){if(v.order<d)continue;const S=Math.max(1,Math.pow(2,v.footprintTileId.canonical.z-n.canonical.z));for(const M of this.centroidData)if(!(M.flags&Uf||v.min.x>M.max.x||M.min.x>v.max.x||v.min.y>M.max.y||M.min.y>v.max.y))for(let A=0;A<M.footprintSegLen;A++){const b=this.footprintSegments[M.footprintSegIdx+A];if(h.length=0,tg(this.footprintVertices,b.vertexOffset,b.vertexCount,v.footprintTileId.canonical,n.canonical,h),ab(v.footprint,h,this.footprintIndices.uint16,b.indexOffset,b.indexCount,-b.vertexOffset,-S)){M.flags|=Uf;break}}}for(const v of this.centroidData)this.writeCentroidToBuffer(v);this.borderDoneWithNeighborZ=[-1,-1,-1,-1]}footprintContainsPoint(n,i,d){let g=!1;for(let h=0;h<d.footprintSegLen;h++){const v=this.footprintSegments[d.footprintSegIdx+h];let S=0;for(const M of v.ringIndices){for(let A=S,b=M+S-1;A<M+S;b=A++){const P=this.footprintVertices.int16[2*(A+v.vertexOffset)+0],$=this.footprintVertices.int16[2*(A+v.vertexOffset)+1],T=this.footprintVertices.int16[2*(b+v.vertexOffset)+1];$>i!=T>i&&n<(this.footprintVertices.int16[2*(b+v.vertexOffset)+0]-P)*(i-$)/(T-$)+P&&(g=!g)}S=M}}return g}getHeightAtTileCoord(n,i){let d=Number.NEGATIVE_INFINITY,g=!0;const h=4*(n+ji)*ji+(i+ji);if(this.partLookup.hasOwnProperty(h)){const v=this.partLookup[h];return v?{height:v.height,hidden:!!(v.flags&Uf)}:void 0}for(const v of this.centroidData)n>v.max.x||v.min.x>n||i>v.max.y||v.min.y>i||this.footprintContainsPoint(n,i,v)&&v&&v.height>d&&(d=v.height,this.partLookup[h]=v,g=!!(v.flags&Uf));if(d!==Number.NEGATIVE_INFINITY)return{height:d,hidden:g};this.partLookup[h]=void 0}}function Qm(u,n){const i=u.add(n)._unit();return u.x*i.x+u.y*i.y}function b0(u,n,i,d){const g=n.sub(u)._perp()._unit(),h=i.sub(n)._perp()._unit();return x0(u,n,i,Qm(g,h),d)}function x0(u,n,i,d,g){const h=Math.sqrt(1-d*d);return Math.min(u.dist(n)/3,n.dist(i)/3,g*h/d)}function ly(u,n,i){return u.x<i[0].x&&n.x<i[0].x||u.x>i[1].x&&n.x>i[1].x||u.y<i[0].y&&n.y<i[0].y||u.y>i[1].y&&n.y>i[1].y}function cy(u,n){return u.x<n[0].x||u.x>n[1].x||u.y<n[0].y||u.y>n[1].y}function Wf(u,n,i){if(u.x<0||u.x>=ji||n.x<0||n.x>=ji||i.x<0||i.x>=ji)return!1;const d=i.sub(n),g=d.perp(),h=u.sub(n);return(d.x*h.x+d.y*h.y)/Math.sqrt((d.x*d.x+d.y*d.y)*(h.x*h.x+h.y*h.y))>-.866&&g.x*h.x+g.y*h.y<0}function eg(u,n,i){const d=n?2|u:-3&u;return i?1|d:-2&d}function Dh(){const u=Math.PI/32,n=Math.tan(u),i=lf;return i*Math.sqrt(1+2*n*n)-i}function hf(u,n,i){const d=1<<i.z,g=Cc(i.x/d),h=Cc((i.x+1)/d),v=Xl(i.y/d),S=Xl((i.y+1)/d);return function(M,A,b,P,$=0,T){const O=[];if(!M.length||!b||!P)return O;const N=(we,Be)=>{for(const mt of we)O.push({polygon:mt,bounds:Be})},W=Math.ceil(Math.log2(b)),J=Math.ceil(Math.log2(P)),se=W-J,ue=[];for(let we=0;we<Math.abs(se);we++)ue.push(se>0?0:1);for(let we=0;we<Math.min(W,J);we++)ue.push(0),ue.push(1);let re=M;if(re=Ap(re,A[0].y-$,A[1].y+$,1),re=Ap(re,A[0].x-$,A[1].x+$,0),!re.length)return O;const ve=[];for(ue.length?ve.push({polygons:re,bounds:A,depth:0}):N(re,A);ve.length;){const we=ve.pop(),Be=we.depth,mt=ue[Be],pt=we.bounds[0],ft=we.bounds[1],Yt=mt===0?pt.x:pt.y,yt=mt===0?ft.x:ft.y,en=T?T(mt,Yt,yt):.5*(Yt+yt),yn=Ap(we.polygons,Yt-$,en+$,mt),fn=Ap(we.polygons,en-$,yt+$,mt);if(yn.length){const xn=[pt,new On(mt===0?en:ft.x,mt===1?en:ft.y)];ue.length>Be+1?ve.push({polygons:yn,bounds:xn,depth:Be+1}):N(yn,xn)}if(fn.length){const xn=[new On(mt===0?en:pt.x,mt===1?en:pt.y),ft];ue.length>Be+1?ve.push({polygons:fn,bounds:xn,depth:Be+1}):N(fn,xn)}}return O}(u,n,Math.ceil((h-g)/11.25),Math.ceil((v-S)/11.25),1,(M,A,b)=>{if(M===0)return .5*(A+b);{const P=Xl((i.y+A/ji)/d);return(gu(.5*(Xl((i.y+b/ji)/d)+P))*d-i.y)*ji}})}function tg(u,n,i,d,g,h){const v=Math.pow(2,d.z-g.z);for(let S=0;S<i;S++){let M=u.int16[2*(S+n)+0],A=u.int16[2*(S+n)+1];M=(M+g.x*ji)*v-d.x*ji,A=(A+g.y*ji)*v-d.y*ji,h.push(new On(M,A))}}let ng,vb;function $d(u,n){return u.x*n.x+u.y*n.y}function rg(u,n){if(u.length===1){let i=0;const d=n[i++];let g;for(;!g||d.equals(g);)if(g=n[i++],!g)return 1/0;for(;i<n.length;i++){const h=n[i],v=u[0],S=g.sub(d),M=h.sub(d),A=v.sub(d),b=$d(S,S),P=$d(S,M),$=$d(M,M),T=$d(A,S),O=$d(A,M),N=b*$-P*P,W=($*T-P*O)/N,J=(b*O-P*T)/N,se=d.z*(1-W-J)+g.z*W+h.z*J;if(isFinite(se))return se}return 1/0}{let i=1/0;for(const d of n)i=Math.min(i,d.z);return i}}function uy(u,n,i,d,g,h,v,S){const M=v*g.getElevationAt(u,n,!0,!0),A=h[0]!==0,b=A?h[1]===0?v*(h[0]/7-450):v*function(P,$,T){const O=Math.floor($[0]/8),N=Math.floor($[1]/8),W=10*($[0]-8*O),J=10*($[1]-8*N),se=P.getElevationAt(O,N,!0,!0),ue=P.getMeterToDEM(T),re=Math.floor(.5*(W*ue-1)),ve=Math.floor(.5*(J*ue-1)),we=P.tileCoordToPixel(O,N),Be=2*re+1,mt=2*ve+1,pt=function(fn,xn,Bn,Yn,$n){return[fn.getElevationAtPixel(xn,Bn,!0),fn.getElevationAtPixel(xn+$n,Bn,!0),fn.getElevationAtPixel(xn,Bn+$n,!0),fn.getElevationAtPixel(xn+Yn,Bn+$n,!0)]}(P,we.x-re,we.y-ve,Be,mt),ft=Math.abs(pt[0]-pt[1]),Yt=Math.abs(pt[2]-pt[3]),yt=Math.abs(pt[0]-pt[2])+Math.abs(pt[1]-pt[3]),en=Math.min(.25,.5*ue*(ft+Yt)/Be),yn=Math.min(.25,.5*ue*yt/mt);return se+Math.max(en*W,yn*J)}(g,h,S):M;return{base:M+(i===0?-1:i),top:A?Math.max(b+d,M+i+2):M+d}}Eo(_0,"FillExtrusionBucket",{omit:["layers","features"]}),Eo(oy,"PartData"),Eo(hb,"FootprintSegment"),Eo(ay,"BorderCentroidData"),Eo(sy,"GroundEffect");const sC=xs([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"},{name:"a_linesofar",components:1,type:"Float32"}],4),lC=xs([{name:"a_z_offset_width",components:3,type:"Float32"}],4),{members:cC}=sC,uC=xs([{name:"a_packed",components:3,type:"Float32"}]),{members:ig}=uC,Gf=xs([{name:"a_pattern_data",components:3,type:"Float32"}]),{members:dC}=Gf;class dy{constructor(n,i){this.width=n,this.height=i,this.nextRow=0,this.image=new jf({width:n,height:i}),this.positions={},this.uploaded=!1}getDash(n,i){const d=this.getKey(n,i);return this.positions[d]}trim(){const n=this.width,i=this.height=_r(this.nextRow);this.image.resize({width:n,height:i})}getKey(n,i){return n.join(",")+i}getDashRanges(n,i,d){const g=[];let h=n.length%2==1?-n[n.length-1]*d:0,v=n[0]*d,S=!0;g.push({left:h,right:v,isDash:S,zeroLength:n[0]===0});let M=n[0];for(let A=1;A<n.length;A++){S=!S;const b=n[A];h=M*d,M+=b,v=M*d,g.push({left:h,right:v,isDash:S,zeroLength:b===0})}return g}addRoundDash(n,i,d){const g=i/2;for(let h=-d;h<=d;h++){const v=this.width*(this.nextRow+d+h);let S=0,M=n[S];for(let A=0;A<this.width;A++){A/M.right>1&&(M=n[++S]);const b=Math.abs(A-M.left),P=Math.abs(A-M.right),$=Math.min(b,P);let T;const O=h/d*(g+1);if(M.isDash){const N=g-Math.abs(O);T=Math.sqrt($*$+N*N)}else T=g-Math.sqrt($*$+O*O);this.image.data[v+A]=Math.max(0,Math.min(255,T+128))}}}addRegularDash(n,i){for(let M=n.length-1;M>=0;--M){const A=n[M],b=n[M+1];A.zeroLength?n.splice(M,1):b&&b.isDash===A.isDash&&(b.left=A.left,n.splice(M,1))}const d=n[0],g=n[n.length-1];d.isDash===g.isDash&&(d.left=g.left-this.width,g.right=d.right+this.width);const h=this.width*this.nextRow;let v=0,S=n[v];for(let M=0;M<this.width;M++){M/S.right>1&&(S=n[++v]);const A=Math.abs(M-S.left),b=Math.abs(M-S.right),P=Math.min(A,b);this.image.data[h+M]=Math.max(0,Math.min(255,(S.isDash?P:-P)+i+128))}}addDash(n,i){const d=this.getKey(n,i);if(this.positions[d])return this.positions[d];const g=i==="round",h=g?7:0,v=2*h+1;if(this.nextRow+v>this.height)return Wn("LineAtlas out of space"),null;n.length===0&&n.push(1);let S=0;for(let b=0;b<n.length;b++)n[b]<0&&(Wn("Negative value is found in line dasharray, replacing values with 0"),n[b]=0),S+=n[b];if(S!==0){const b=this.width/S,P=this.getDashRanges(n,this.width,b);g?this.addRoundDash(P,b,h):this.addRegularDash(P,i==="square"?.5*b:0)}const M=this.nextRow+h;this.nextRow+=v;const A={tl:[M,h],br:[S,0]};return this.positions[d]=A,A}}Eo(dy,"LineAtlas");const fC=Du.VectorTileFeature.types,hC=Math.cos(Math.PI/180*37.5),pC=Math.cos(Math.PI/180*5);class fy{constructor(n){this.evaluationGlobals={zoom:0,lineProgress:void 0},this.zoom=n.zoom,this.evaluationGlobals.zoom=this.zoom,this.overscaling=n.overscaling,this.pixelRatio=n.pixelRatio,this.layers=n.layers,this.layerIds=this.layers.map(i=>i.fqid),this.index=n.index,this.projection=n.projection,this.hasPattern=!1,this.hasZOffset=!1,this.hasCrossSlope=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(i=>{this.gradients[i.id]={}}),this.layoutVertexArray=new Sh,this.layoutVertexArray2=new Pu,this.patternVertexArray=new Pu,this.indexArray=new lc,this.programConfigurations=new Td(n.layers,{zoom:n.zoom,lut:n.lut}),this.segments=new sl,this.maxLineLength=0,this.zOffsetVertexArray=new Pu,this.stateDependentLayerIds=this.layers.filter(i=>i.isStateDependent()).map(i=>i.id),this.tessellationStep=n.tessellationStep?n.tessellationStep:ji/64}updateFootprints(n,i){}populate(n,i,d,g){this.hasPattern=vu("line",this.layers,this.pixelRatio,i);const h=this.layers[0].layout.get("line-sort-key");this.tileToMeter=r(d);const v=this.layers[0].layout.get("line-z-offset"),S=v.isConstant()&&!v.constantOr(0),M=this.layers[0].layout.get("line-elevation-reference");this.hasZOffset=M==="sea"||M==="ground"||!S&&M==="none",this.hasZOffset&&M==="none"&&Wn(`line-elevation-reference: ground is used for the layer ${this.layerIds[0]} because non-zero line-z-offset value was found.`);const A=this.layers[0].layout.get("line-cross-slope");this.hasCrossSlope=this.hasZOffset&&A!==void 0;const b=[];for(const{feature:O,id:N,index:W,sourceLayerIndex:J}of n){const se=this.layers[0]._featureFilter.needGeometry,ue=Q(O,se);if(!this.layers[0]._featureFilter.filter(new Us(this.zoom),ue,d))continue;const re=h?h.evaluate(ue,{},d):void 0,ve={id:N,properties:O.properties,type:O.type,sourceLayerIndex:J,index:W,geometry:se?ue.geometry:U(O,d,g),patterns:{},sortKey:re};b.push(ve)}h&&b.sort((O,N)=>O.sortKey-N.sortKey);const{lineAtlas:P,featureIndex:$}=i,T=this.addConstantDashes(P);for(const O of b){const{geometry:N,index:W,sourceLayerIndex:J}=O;if(T&&this.addFeatureDashes(O,P),this.hasPattern){const se=Vv("line",this.layers,O,this.zoom,this.pixelRatio,i);this.patternFeatures.push(se)}else this.addFeature(O,N,W,d,P.positions,i.availableImages,i.brightness);$.insert(n[W].feature,N,W,J,this.index)}}addConstantDashes(n){let i=!1;for(const d of this.layers){const g=d.paint.get("line-dasharray").value,h=d.layout.get("line-cap").value;if(g.kind!=="constant"||h.kind!=="constant")i=!0;else{const v=h.value,S=g.value;if(!S)continue;n.addDash(S,v)}}return i}addFeatureDashes(n,i){const d=this.zoom;for(const g of this.layers){const h=g.paint.get("line-dasharray").value,v=g.layout.get("line-cap").value;if(h.kind==="constant"&&v.kind==="constant")continue;let S,M;if(h.kind==="constant"){if(S=h.value,!S)continue}else S=h.evaluate({zoom:d},n);M=v.kind==="constant"?v.value:v.evaluate({zoom:d},n),i.addDash(S,M),n.patterns[g.id]=i.getKey(S,M)}}update(n,i,d,g,h,v,S){this.programConfigurations.updatePaintArrays(n,i,h,d,g,v,S)}addFeatures(n,i,d,g,h,v){for(const S of this.patternFeatures)this.addFeature(S,S.geometry,S.index,i,d,g,v)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(n){this.uploaded||(this.layoutVertexArray2.length!==0&&(this.layoutVertexBuffer2=n.createVertexBuffer(this.layoutVertexArray2,ig)),this.patternVertexArray.length!==0&&(this.patternVertexBuffer=n.createVertexBuffer(this.patternVertexArray,dC)),!this.zOffsetVertexBuffer&&this.zOffsetVertexArray.length>0&&(this.zOffsetVertexBuffer=n.createVertexBuffer(this.zOffsetVertexArray,lC.members,!0)),this.layoutVertexBuffer=n.createVertexBuffer(this.layoutVertexArray,cC),this.indexBuffer=n.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(n),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.zOffsetVertexBuffer&&this.zOffsetVertexBuffer.destroy(),this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}lineFeatureClips(n){if(n.properties&&n.properties.hasOwnProperty("mapbox_clip_start")&&n.properties.hasOwnProperty("mapbox_clip_end"))return{start:+n.properties.mapbox_clip_start,end:+n.properties.mapbox_clip_end}}addFeature(n,i,d,g,h,v,S){const M=this.layers[0].layout,A=M.get("line-join").evaluate(n,{}),b=M.get("line-cap").evaluate(n,{}),P=M.get("line-miter-limit"),$=M.get("line-round-limit");this.lineClips=this.lineFeatureClips(n),this.lineFeature=n,this.zOffsetValue=M.get("line-z-offset").value;const T=this.layers[0].paint.get("line-width").value;T.kind!=="constant"&&T.isLineProgressConstant===!1&&(this.variableWidthValue=T);for(const O of i)this.addLine(O,n,g,A,b,P,$);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,n,d,h,v,g,S)}addLine(n,i,d,g,h,v,S){this.distance=0,this.prevDistance=0,this.scaledDistance=0,this.totalDistance=0,this.totalFeatureLength=0,this.lineSoFar=0,this.currentVertex=void 0;const M=g==="none";if(this.patternJoinNone=this.hasPattern&&M,this.segmentStart=0,this.segmentStartf32=0,this.segmentPoints=[],this.lineClips){this.lineClipsArray.push(this.lineClips);for(let ue=0;ue<n.length-1;ue++)this.totalDistance+=n[ue].dist(n[ue+1]);this.totalFeatureLength=this.totalDistance/(this.lineClips.end-this.lineClips.start),this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}const A=fC[i.type]==="Polygon";let b=n.length;for(;b>=2&&n[b-1].equals(n[b-2]);)b--;let P=0;for(;P<b-1&&n[P].equals(n[P+1]);)P++;if(b<(A?3:2))return;g==="bevel"&&(v=1.05);const $=this.segments.prepareSegment(10*b,this.layoutVertexArray,this.indexArray);let T,O,N,W,J,se;this.e1=this.e2=-1,A&&(T=n[b-2],J=n[P].sub(T)._unit()._perp());for(let ue=P;ue<b;ue++){if(N=ue===b-1?A?n[P+1]:void 0:n[ue+1],N&&n[ue].equals(N))continue;J&&(W=J),T&&(O=T),T=n[ue],se=this.evaluateLineProgressFeatures(O?O.dist(T):0),J=N?N.sub(T)._unit()._perp():W,W=W||J;const re=O&&N;let ve=re?g:A||M?"butt":h;const we=W.x*J.x+W.y*J.y;if(M){const yn=function(fn){if(fn.patternJoinNone){const xn=fn.segmentPoints.length/2,Bn=fn.lineSoFar-fn.segmentStart;for(let Yn=0;Yn<xn;++Yn){const $n=fn.segmentPoints[2*Yn+1],$r=Math.round(fn.segmentPoints[2*Yn])+.5+.25*$n;fn.patternVertexArray.emplaceBack($r,Bn,fn.segmentStart),fn.patternVertexArray.emplaceBack($r,Bn,fn.segmentStart)}fn.segmentPoints.length=0}fn.e1=fn.e2=-1};if(re&&we<pC){this.updateDistance(O,T),this.addCurrentVertex(T,W,1,1,$,se),yn(this),this.addCurrentVertex(T,J,-1,-1,$,se);continue}if(O){if(!N){this.updateDistance(O,T),this.addCurrentVertex(T,W,1,1,$,se),yn(this);continue}ve="miter"}}let Be=W.add(J);Be.x===0&&Be.y===0||Be._unit();const mt=Be.x*J.x+Be.y*J.y,pt=mt!==0?1/mt:1/0,ft=2*Math.sqrt(2-2*mt),Yt=mt<hC&&O&&N,yt=W.x*J.y-W.y*J.x>0,en=this.overscaling<=16?15*ji/(512*this.overscaling):0;if(re&&ve==="round"){if(pt<S)ve="miter";else if(pt<=2){const yn=hy(T,-10,ji+10);ve=this.hasZOffset&&(yn||this.hasCrossSlope)?"miter":"fakeround"}}if(ve==="miter"&&pt>v&&(ve="bevel"),ve==="bevel"&&(pt>2&&(ve="flipbevel"),pt<v&&(ve="miter")),O&&!(ve==="miter"&&Yt)&&this.updateDistance(O,T),ve==="miter")if(Yt){const yn=T.dist(O);if(yn>2*en){const xn=T.sub(T.sub(O)._mult(en/yn)._round());this.updateDistance(O,xn),this.addCurrentVertex(xn,W,0,0,$,se),O=xn}this.updateDistance(O,T),Be._mult(pt),this.addCurrentVertex(T,Be,0,0,$,se);const fn=T.dist(N);if(fn>2*en){const xn=T.add(N.sub(T)._mult(en/fn)._round());this.updateDistance(T,xn),this.addCurrentVertex(xn,J,0,0,$,se),T=xn}}else Be._mult(pt),this.addCurrentVertex(T,Be,0,0,$,se);else if(ve==="flipbevel"){if(pt>100)Be=J.mult(-1);else{const yn=pt*W.add(J).mag()/W.sub(J).mag();Be._perp()._mult(yn*(yt?-1:1))}this.addCurrentVertex(T,Be,0,0,$,se),this.addCurrentVertex(T,Be.mult(-1),0,0,$,se)}else if(ve==="bevel"||ve==="fakeround"){se!=null&&O&&this.addCurrentVertex(T,W,-1,-1,$,se);const yn=T.dist(O)<=2*en&&ve!=="bevel",fn=Be.mult(yt?1:-1);fn._mult(pt);const xn=J.mult(yt?-1:1),Bn=W.mult(yt?-1:1),Yn=this.evaluateLineProgressFeatures(this.distance);if(se==null&&(this.addHalfVertex(T,fn.x,fn.y,!1,!yt,0,$,Yn),yn||this.addHalfVertex(T,fn.x+2*Bn.x,fn.y+2*Bn.y,!1,yt,0,$,Yn)),ve==="fakeround"){const $n=Math.round(180*ft/Math.PI/20);this.addHalfVertex(T,Bn.x,Bn.y,!1,yt,0,$,Yn);for(let $r=0;$r<$n;$r++){let fi=$r/$n;if(fi!==.5){const Qi=fi-.5;fi+=fi*Qi*(fi-1)*((1.0904+we*(we*(3.55645-1.43519*we)-3.2452))*Qi*Qi+(.848013+we*(.215638*we-1.06021)))}const Dr=xn.sub(Bn)._mult(fi)._add(Bn)._unit();this.addHalfVertex(T,Dr.x,Dr.y,!1,yt,0,$,Yn)}this.addHalfVertex(T,xn.x,xn.y,!1,yt,0,$,Yn)}yn||se!=null||this.addHalfVertex(T,fn.x+2*xn.x,fn.y+2*xn.y,!1,yt,0,$,Yn),se!=null&&N&&this.addCurrentVertex(T,J,1,1,$,se)}else ve==="butt"?this.addCurrentVertex(T,Be,0,0,$,se):ve==="square"?(O||this.addCurrentVertex(T,Be,-1,-1,$,se),this.addCurrentVertex(T,Be,0,0,$,se),O&&this.addCurrentVertex(T,Be,1,1,$,se)):ve==="round"&&(O&&(this.addCurrentVertex(T,W,0,0,$,se),this.addCurrentVertex(T,W,1,1,$,se,!0)),N&&(this.addCurrentVertex(T,J,-1,-1,$,se,!0),this.addCurrentVertex(T,J,0,0,$,se)))}}addVerticesTo(n,i,d,g,h,v,S,M,A,b){const P=(i.w-n.w)/this.tessellationStep|0;let $=0;const T=this.scaledDistance;if(P>1){this.lineSoFar=n.w;const N=(i.x-n.x)/P,W=(i.y-n.y)/P,J=(i.z-n.z)/P,se=(i.w-n.w)/P;for(let ue=1;ue<P;++ue){n.x+=N,n.y+=W,n.z+=J,this.lineSoFar+=se,$+=se;const re=this.evaluateLineProgressFeatures(this.prevDistance+$);this.scaledDistance=(this.prevDistance+$)/this.totalDistance,this.addHalfVertex(n,d,g,b,!1,S,A,re),this.addHalfVertex(n,h,v,b,!0,-M,A,re)}}this.lineSoFar=i.w,this.scaledDistance=T;const O=this.evaluateLineProgressFeatures(this.distance);this.addHalfVertex(i,d,g,b,!1,S,A,O),this.addHalfVertex(i,h,v,b,!0,-M,A,O)}evaluateLineProgressFeatures(n){if(!this.variableWidthValue&&!this.hasZOffset)return null;this.evaluationGlobals.lineProgress=0,this.lineClips?this.evaluationGlobals.lineProgress=Math.min(1,(this.totalFeatureLength*this.lineClips.start+n)/this.totalFeatureLength):Wn(`line-progress evaluation for ${this.layerIds[0]} requires enabling 'lineMetrics' for the source.`);let i=0;return this.variableWidthValue&&this.variableWidthValue.kind!=="constant"&&(i=this.variableWidthValue.evaluate(this.evaluationGlobals,this.lineFeature)||0),this.hasZOffset?this.zOffsetValue.kind==="constant"?{zOffset:this.zOffsetValue.value,variableWidth:i}:{zOffset:this.zOffsetValue.evaluate(this.evaluationGlobals,this.lineFeature)||0,variableWidth:i}:{zOffset:0,variableWidth:i}}addCurrentVertex(n,i,d,g,h,v,S=!1){const M=i.x+i.y*d,A=i.y-i.x*d,b=i.y*g-i.x,P=-i.y-i.x*g;if(v!=null){const $=this.hasZOffset,T=-10,O=ji+10,N=v.zOffset,W=new ob(n.x,n.y,N,this.lineSoFar),J=!!$&&hy(n,T,O),se=this.lineSoFar,ue=this.distance;if(this.currentVertex)if(J){const re=this.currentVertexIsOutside,ve=this.currentVertex,we=new ob(n.x,n.y,N,this.lineSoFar);if(Qv(ve,we,T,O),!hy(we,T,O)){if(re){this.e1=this.e2=-1,this.distance-=ve.dist(W),this.lineSoFar=ve.w;const Be=this.evaluateLineProgressFeatures(ve.w-this.totalFeatureLength*(this.lineClips?this.lineClips.start:0));this.addHalfVertex(ve,M,A,S,!1,d,h,Be),this.addHalfVertex(ve,b,P,S,!0,-g,h,Be),this.prevDistance=this.distance}this.distance=this.prevDistance+ve.dist(we),this.scaledDistance=this.distance/this.totalDistance,this.addVerticesTo(ve,we,M,A,b,P,d,g,h,S),this.distance=ue,this.scaledDistance=this.distance/this.totalDistance}}else{const re=this.currentVertex;if(this.currentVertexIsOutside){Qv(re,W,T,O),this.e1=this.e2=-1,this.distance-=re.dist(W),this.scaledDistance=this.distance/this.totalDistance,this.lineSoFar=re.w;const ve=this.evaluateLineProgressFeatures(re.w-this.totalFeatureLength*(this.lineClips?this.lineClips.start:0));this.addHalfVertex(re,M,A,S,!1,d,h,ve),this.addHalfVertex(re,b,P,S,!0,-g,h,ve),this.prevDistance=this.distance,this.distance=ue,this.scaledDistance=this.distance/this.totalDistance}this.addVerticesTo(re,W,M,A,b,P,d,g,h,S)}else J||(this.addHalfVertex(n,M,A,S,!1,d,h,v),this.addHalfVertex(n,b,P,S,!0,-g,h,v));this.currentVertex=W,this.currentVertexIsOutside=J,this.lineSoFar=se}else this.addHalfVertex(n,M,A,S,!1,d,h,v),this.addHalfVertex(n,b,P,S,!0,-g,h,v)}addHalfVertex({x:n,y:i},d,g,h,v,S,M,A){if(this.patternJoinNone&&(this.segmentPoints.length===0&&(this.segmentStart=this.lineSoFar,this.segmentStartf32=Math.fround(this.lineSoFar)),v||this.segmentPoints.push(this.lineSoFar-this.segmentStart,S)),this.layoutVertexArray.emplaceBack((n<<1)+(h?1:0),(i<<1)+(v?1:0),Math.round(63*d)+128,Math.round(63*g)+128,1+(S===0?0:S<0?-1:1),0,this.lineSoFar-this.segmentStartf32),this.lineClips){const P=Et(this.lineClips.start,this.lineClips.end,this.scaledDistance);this.layoutVertexArray2.emplaceBack(this.scaledDistance,this.lineClipsArray.length,P)}const b=M.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,b),M.primitiveLength++),v?this.e2=b:this.e1=b,A!=null&&this.zOffsetVertexArray.emplaceBack(A.zOffset,A.variableWidth,A.variableWidth)}updateScaledDistance(){this.lineClips?(this.scaledDistance=this.distance/this.totalDistance,this.lineSoFar=this.totalFeatureLength*this.lineClips.start+this.distance):this.lineSoFar=this.distance}updateDistance(n,i){this.prevDistance=this.distance,this.distance+=n.dist(i),this.updateScaledDistance()}}function hy(u,n,i){return u.x<n||u.x>i||u.y<n||u.y>i}let yb,_b;function bb(u,n,i){return n*(ji/(u.tileSize*Math.pow(2,i-u.tileID.overscaledZ)))}Eo(fy,"LineBucket",{omit:["layers","patternFeatures","currentVertex","currentVertexIsOutside"]});const xb=(u,n,i)=>(1-i)*u+i*n;function og(u,n){return 1/bb(u,1,n.tileZoom)}function Cb(u,n,i,d){return u.translatePosMatrix(d||n.tileID.projMatrix,n,i.paint.get("line-translate"),i.paint.get("line-translate-anchor"))}const py=u=>{const n=[];Sb(u)&&n.push("RENDER_LINE_DASH"),u.paint.get("line-gradient")&&n.push("RENDER_LINE_GRADIENT");const i=u.paint.get("line-trim-offset");i[0]===0&&i[1]===0||n.push("RENDER_LINE_TRIM_OFFSET"),u.paint.get("line-border-width").constantOr(1)!==0&&n.push("RENDER_LINE_BORDER");const d=u.layout.get("line-join").constantOr("miter")==="none",g=!!u.paint.get("line-pattern").constantOr(1);return d&&g&&n.push("LINE_JOIN_NONE"),n};function Sb(u){const n=u.paint.get("line-dasharray").value;return n.value||n.kind!=="constant"}let C0;const my=()=>C0||(C0={layout:yb||(yb=new al({"line-cap":new po(er.layout_line["line-cap"]),"line-join":new po(er.layout_line["line-join"]),"line-miter-limit":new Oi(er.layout_line["line-miter-limit"]),"line-round-limit":new Oi(er.layout_line["line-round-limit"]),"line-sort-key":new po(er.layout_line["line-sort-key"]),"line-z-offset":new po(er.layout_line["line-z-offset"]),"line-elevation-reference":new Oi(er.layout_line["line-elevation-reference"]),"line-cross-slope":new Oi(er.layout_line["line-cross-slope"]),visibility:new Oi(er.layout_line.visibility),"line-width-unit":new Oi(er.layout_line["line-width-unit"])})),paint:_b||(_b=new al({"line-opacity":new po(er.paint_line["line-opacity"]),"line-color":new po(er.paint_line["line-color"]),"line-translate":new Oi(er.paint_line["line-translate"]),"line-translate-anchor":new Oi(er.paint_line["line-translate-anchor"]),"line-width":new po(er.paint_line["line-width"]),"line-gap-width":new po(er.paint_line["line-gap-width"]),"line-offset":new po(er.paint_line["line-offset"]),"line-blur":new po(er.paint_line["line-blur"]),"line-dasharray":new po(er.paint_line["line-dasharray"]),"line-pattern":new po(er.paint_line["line-pattern"]),"line-gradient":new bh(er.paint_line["line-gradient"]),"line-trim-offset":new Oi(er.paint_line["line-trim-offset"]),"line-trim-fade-range":new Oi(er.paint_line["line-trim-fade-range"]),"line-trim-color":new Oi(er.paint_line["line-trim-color"]),"line-emissive-strength":new Oi(er.paint_line["line-emissive-strength"]),"line-border-width":new po(er.paint_line["line-border-width"]),"line-border-color":new po(er.paint_line["line-border-color"]),"line-occlusion-opacity":new Oi(er.paint_line["line-occlusion-opacity"]),"line-color-use-theme":new po({type:"string",default:"default","property-type":"data-driven"}),"line-gradient-use-theme":new po({type:"string",default:"default","property-type":"data-driven"}),"line-trim-color-use-theme":new po({type:"string",default:"default","property-type":"data-driven"}),"line-border-color-use-theme":new po({type:"string",default:"default","property-type":"data-driven"})}))},C0);class mC extends po{possiblyEvaluate(n,i){return i=new Us(Math.floor(i.zoom),{now:i.now,fadeDuration:i.fadeDuration,transition:i.transition}),super.possiblyEvaluate(n,i)}evaluate(n,i,d,g){return i=ni({},i,{zoom:Math.floor(i.zoom)}),super.evaluate(n,i,d,g)}}let Bp;function wb(u,n){return n>0?n+2*u:u}const gC=xs([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_tex_size",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),S0=xs([{name:"a_globe_anchor",components:3,type:"Int16"},{name:"a_globe_normal",components:3,type:"Float32"}],4),gy=xs([{name:"a_projected_pos",components:4,type:"Float32"}],4);xs([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);const vy=xs([{name:"a_auto_z_offset",components:1,type:"Float32"}],4),Eb=xs([{name:"a_texb",components:2,type:"Uint16"}]),vC=xs([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"},{name:"a_elevation_from_sea",components:2,type:"Float32"}]),yC=xs([{name:"a_size_scale",components:1,type:"Float32"},{name:"a_padding",components:2,type:"Float32"},{name:"a_auto_z_offset",components:1,type:"Float32"}]);xs([{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Int16",name:"tileAnchorX"},{type:"Int16",name:"tileAnchorY"},{type:"Float32",name:"x1"},{type:"Float32",name:"y1"},{type:"Float32",name:"x2"},{type:"Float32",name:"y2"},{type:"Int16",name:"padding"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);const Ib=xs([{name:"a_pos",components:3,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),_C=xs([{name:"a_pos_2f",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);xs([{name:"triangle",components:3,type:"Uint16"}]),xs([{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Float32",name:"tileAnchorX"},{type:"Float32",name:"tileAnchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"},{type:"Uint8",name:"flipState"}]),xs([{type:"Float32",name:"tileAnchorX"},{type:"Float32",name:"tileAnchorY"},{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"},{type:"Float32",name:"zOffset"},{type:"Uint8",name:"hasIconTextFit"}]),xs([{type:"Float32",name:"offsetX"}]),xs([{type:"Int16",name:"x"},{type:"Int16",name:"y"}]);var uc=24;const id=128;function yy(u,n,i,d,g){if(u.kind==="camera")return u.maxSize;if(u.kind==="composite"){const h=n.possiblyEvaluate(new Us(u.maxZoom),i).evaluate(g,{},i),v=n.possiblyEvaluate(new Us(u.minZoom),i).evaluate(g,{},i);return Math.max(h,v)}return n.possiblyEvaluate(new Us(d)).evaluate(g,{},i)}function _y(u,n){const{expression:i}=n;if(i.kind==="constant")return{kind:"constant",layoutSize:i.evaluate(new Us(u+1))};if(i.kind==="source")return{kind:"source"};{const{zoomStops:d,interpolationType:g}=i;let h=0;for(;h<d.length&&d[h]<=u;)h++;h=Math.max(0,h-1);let v=h;for(;v<d.length&&d[v]<u+1;)v++;v=Math.min(d.length-1,v);const S=d[h],M=d[v];return i.kind==="composite"?{kind:"composite",minZoom:S,maxZoom:M,interpolationType:g}:{kind:"camera",minZoom:S,maxZoom:M,minSize:i.evaluate(new Us(S)),maxSize:i.evaluate(new Us(M)),interpolationType:g}}}function w0(u,{uSize:n,uSizeT:i},{lowerSize:d,upperSize:g}){return u.kind==="source"?d/id:u.kind==="composite"?Et(d/id,g/id,i):n}function Fp(u,n,i=1){let d=0,g=0;if(u.kind==="constant")g=u.layoutSize*i;else if(u.kind!=="source"){const{interpolationType:h,minZoom:v,maxZoom:S}=u,M=h?Hn(xc.interpolationFactor(h,n,v,S),0,1):0;u.kind==="camera"?g=Et(u.minSize,u.maxSize,M)*i:d=M*i}return{uSizeT:d,uSize:g}}var Tb=Object.freeze({__proto__:null,SIZE_PACK_FACTOR:id,evaluateSizeForFeature:w0,evaluateSizeForZoom:Fp,getRasterizedIconSize:yy,getSizeData:_y});function E0(u,n,i){return u.sections.forEach(d=>{d.text=function(g,h,v){const S=h.layout.get("text-transform").evaluate(v,{});return S==="uppercase"?g=g.toLocaleUpperCase():S==="lowercase"&&(g=g.toLocaleLowerCase()),Gc.applyArabicShaping&&(g=Gc.applyArabicShaping(g)),g}(d.text,n,i)}),u}const ag={"!":"\uFE15","#":"\uFF03",$:"\uFF04","%":"\uFF05","&":"\uFF06","(":"\uFE35",")":"\uFE36","*":"\uFF0A","+":"\uFF0B",",":"\uFE10","-":"\uFE32",".":"\u30FB","/":"\uFF0F",":":"\uFE13",";":"\uFE14","<":"\uFE3F","=":"\uFF1D",">":"\uFE40","?":"\uFE16","@":"\uFF20","[":"\uFE47","\\":"\uFF3C","]":"\uFE48","^":"\uFF3E",_:"\uFE33","`":"\uFF40","{":"\uFE37","|":"\u2015","}":"\uFE38","~":"\uFF5E","\xA2":"\uFFE0","\xA3":"\uFFE1","\xA5":"\uFFE5","\xA6":"\uFFE4","\xAC":"\uFFE2","\xAF":"\uFFE3","\u2013":"\uFE32","\u2014":"\uFE31","\u2018":"\uFE43","\u2019":"\uFE44","\u201C":"\uFE41","\u201D":"\uFE42","\u2026":"\uFE19","\u2027":"\u30FB","\u20A9":"\uFFE6","\u3001":"\uFE11","\u3002":"\uFE12","\u3008":"\uFE3F","\u3009":"\uFE40","\u300A":"\uFE3D","\u300B":"\uFE3E","\u300C":"\uFE41","\u300D":"\uFE42","\u300E":"\uFE43","\u300F":"\uFE44","\u3010":"\uFE3B","\u3011":"\uFE3C","\u3014":"\uFE39","\u3015":"\uFE3A","\u3016":"\uFE17","\u3017":"\uFE18","\uFF01":"\uFE15","\uFF08":"\uFE35","\uFF09":"\uFE36","\uFF0C":"\uFE10","\uFF0D":"\uFE32","\uFF0E":"\u30FB","\uFF1A":"\uFE13","\uFF1B":"\uFE14","\uFF1C":"\uFE3F","\uFF1E":"\uFE40","\uFF1F":"\uFE16","\uFF3B":"\uFE47","\uFF3D":"\uFE48","\uFF3F":"\uFE33","\uFF5B":"\uFE37","\uFF5C":"\u2015","\uFF5D":"\uFE38","\uFF5F":"\uFE35","\uFF60":"\uFE36","\uFF61":"\uFE12","\uFF62":"\uFE41","\uFF63":"\uFE42","\u2190":"\u2191","\u2192":"\u2193"};function bC(u){return u==="\uFE36"||u==="\uFE48"||u==="\uFE38"||u==="\uFE44"||u==="\uFE42"||u==="\uFE3E"||u==="\uFE3C"||u==="\uFE3A"||u==="\uFE18"||u==="\uFE40"||u==="\uFE10"||u==="\uFE13"||u==="\uFE14"||u==="\uFF40"||u==="\uFFE3"||u==="\uFE11"||u==="\uFE12"}function xC(u){return u==="\uFE35"||u==="\uFE47"||u==="\uFE37"||u==="\uFE43"||u==="\uFE41"||u==="\uFE3D"||u==="\uFE3B"||u==="\uFE39"||u==="\uFE17"||u==="\uFE3F"}var Mb,by,Pb,xy={};function CC(){return Mb||(Mb=1,xy.read=function(u,n,i,d,g){var h,v,S=8*g-d-1,M=(1<<S)-1,A=M>>1,b=-7,P=i?g-1:0,$=i?-1:1,T=u[n+P];for(P+=$,h=T&(1<<-b)-1,T>>=-b,b+=S;b>0;h=256*h+u[n+P],P+=$,b-=8);for(v=h&(1<<-b)-1,h>>=-b,b+=d;b>0;v=256*v+u[n+P],P+=$,b-=8);if(h===0)h=1-A;else{if(h===M)return v?NaN:1/0*(T?-1:1);v+=Math.pow(2,d),h-=A}return(T?-1:1)*v*Math.pow(2,h-d)},xy.write=function(u,n,i,d,g,h){var v,S,M,A=8*h-g-1,b=(1<<A)-1,P=b>>1,$=g===23?Math.pow(2,-24)-Math.pow(2,-77):0,T=d?0:h-1,O=d?1:-1,N=n<0||n===0&&1/n<0?1:0;for(n=Math.abs(n),isNaN(n)||n===1/0?(S=isNaN(n)?1:0,v=b):(v=Math.floor(Math.log(n)/Math.LN2),n*(M=Math.pow(2,-v))<1&&(v--,M*=2),(n+=v+P>=1?$/M:$*Math.pow(2,1-P))*M>=2&&(v++,M/=2),v+P>=b?(S=0,v=b):v+P>=1?(S=(n*M-1)*Math.pow(2,g),v+=P):(S=n*Math.pow(2,P-1)*Math.pow(2,g),v=0));g>=8;u[i+T]=255&S,T+=O,S/=256,g-=8);for(v=v<<g|S,A+=g;A>0;u[i+T]=255&v,T+=O,v/=256,A-=8);u[i+T-O]|=128*N}),xy}function Ob(){if(Pb)return by;Pb=1,by=n;var u=CC();function n(re){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(re)?re:new Uint8Array(re||0),this.pos=0,this.type=0,this.length=this.buf.length}n.Varint=0,n.Fixed64=1,n.Bytes=2,n.Fixed32=5;var i=4294967296,d=1/i,g=typeof TextDecoder=="undefined"?null:new TextDecoder("utf8");function h(re){return re.type===n.Bytes?re.readVarint()+re.pos:re.pos+1}function v(re,ve,we){return we?4294967296*ve+(re>>>0):4294967296*(ve>>>0)+(re>>>0)}function S(re,ve,we){var Be=ve<=16383?1:ve<=2097151?2:ve<=268435455?3:Math.floor(Math.log(ve)/(7*Math.LN2));we.realloc(Be);for(var mt=we.pos-1;mt>=re;mt--)we.buf[mt+Be]=we.buf[mt]}function M(re,ve){for(var we=0;we<re.length;we++)ve.writeVarint(re[we])}function A(re,ve){for(var we=0;we<re.length;we++)ve.writeSVarint(re[we])}function b(re,ve){for(var we=0;we<re.length;we++)ve.writeFloat(re[we])}function P(re,ve){for(var we=0;we<re.length;we++)ve.writeDouble(re[we])}function $(re,ve){for(var we=0;we<re.length;we++)ve.writeBoolean(re[we])}function T(re,ve){for(var we=0;we<re.length;we++)ve.writeFixed32(re[we])}function O(re,ve){for(var we=0;we<re.length;we++)ve.writeSFixed32(re[we])}function N(re,ve){for(var we=0;we<re.length;we++)ve.writeFixed64(re[we])}function W(re,ve){for(var we=0;we<re.length;we++)ve.writeSFixed64(re[we])}function J(re,ve){return(re[ve]|re[ve+1]<<8|re[ve+2]<<16)+16777216*re[ve+3]}function se(re,ve,we){re[we]=ve,re[we+1]=ve>>>8,re[we+2]=ve>>>16,re[we+3]=ve>>>24}function ue(re,ve){return(re[ve]|re[ve+1]<<8|re[ve+2]<<16)+(re[ve+3]<<24)}return n.prototype={destroy:function(){this.buf=null},readFields:function(re,ve,we){for(we=we||this.length;this.pos<we;){var Be=this.readVarint(),mt=Be>>3,pt=this.pos;this.type=7&Be,re(mt,ve,this),this.pos===pt&&this.skip(Be)}return ve},readMessage:function(re,ve){return this.readFields(re,ve,this.readVarint()+this.pos)},readFixed32:function(){var re=J(this.buf,this.pos);return this.pos+=4,re},readSFixed32:function(){var re=ue(this.buf,this.pos);return this.pos+=4,re},readFixed64:function(){var re=J(this.buf,this.pos)+J(this.buf,this.pos+4)*i;return this.pos+=8,re},readSFixed64:function(){var re=J(this.buf,this.pos)+ue(this.buf,this.pos+4)*i;return this.pos+=8,re},readFloat:function(){var re=u.read(this.buf,this.pos,!0,23,4);return this.pos+=4,re},readDouble:function(){var re=u.read(this.buf,this.pos,!0,52,8);return this.pos+=8,re},readVarint:function(re){var ve,we,Be=this.buf;return ve=127&(we=Be[this.pos++]),we<128?ve:(ve|=(127&(we=Be[this.pos++]))<<7,we<128?ve:(ve|=(127&(we=Be[this.pos++]))<<14,we<128?ve:(ve|=(127&(we=Be[this.pos++]))<<21,we<128?ve:function(mt,pt,ft){var Yt,yt,en=ft.buf;if(Yt=(112&(yt=en[ft.pos++]))>>4,yt<128||(Yt|=(127&(yt=en[ft.pos++]))<<3,yt<128)||(Yt|=(127&(yt=en[ft.pos++]))<<10,yt<128)||(Yt|=(127&(yt=en[ft.pos++]))<<17,yt<128)||(Yt|=(127&(yt=en[ft.pos++]))<<24,yt<128)||(Yt|=(1&(yt=en[ft.pos++]))<<31,yt<128))return v(mt,Yt,pt);throw new Error("Expected varint not more than 10 bytes")}(ve|=(15&(we=Be[this.pos]))<<28,re,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var re=this.readVarint();return re%2==1?(re+1)/-2:re/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var re=this.readVarint()+this.pos,ve=this.pos;return this.pos=re,re-ve>=12&&g?function(we,Be,mt){return g.decode(we.subarray(Be,mt))}(this.buf,ve,re):function(we,Be,mt){for(var pt="",ft=Be;ft<mt;){var Yt,yt,en,yn=we[ft],fn=null,xn=yn>239?4:yn>223?3:yn>191?2:1;if(ft+xn>mt)break;xn===1?yn<128&&(fn=yn):xn===2?(192&(Yt=we[ft+1]))==128&&(fn=(31&yn)<<6|63&Yt)<=127&&(fn=null):xn===3?(yt=we[ft+2],(192&(Yt=we[ft+1]))==128&&(192&yt)==128&&((fn=(15&yn)<<12|(63&Yt)<<6|63&yt)<=2047||fn>=55296&&fn<=57343)&&(fn=null)):xn===4&&(yt=we[ft+2],en=we[ft+3],(192&(Yt=we[ft+1]))==128&&(192&yt)==128&&(192&en)==128&&((fn=(15&yn)<<18|(63&Yt)<<12|(63&yt)<<6|63&en)<=65535||fn>=1114112)&&(fn=null)),fn===null?(fn=65533,xn=1):fn>65535&&(fn-=65536,pt+=String.fromCharCode(fn>>>10&1023|55296),fn=56320|1023&fn),pt+=String.fromCharCode(fn),ft+=xn}return pt}(this.buf,ve,re)},readBytes:function(){var re=this.readVarint()+this.pos,ve=this.buf.subarray(this.pos,re);return this.pos=re,ve},readPackedVarint:function(re,ve){if(this.type!==n.Bytes)return re.push(this.readVarint(ve));var we=h(this);for(re=re||[];this.pos<we;)re.push(this.readVarint(ve));return re},readPackedSVarint:function(re){if(this.type!==n.Bytes)return re.push(this.readSVarint());var ve=h(this);for(re=re||[];this.pos<ve;)re.push(this.readSVarint());return re},readPackedBoolean:function(re){if(this.type!==n.Bytes)return re.push(this.readBoolean());var ve=h(this);for(re=re||[];this.pos<ve;)re.push(this.readBoolean());return re},readPackedFloat:function(re){if(this.type!==n.Bytes)return re.push(this.readFloat());var ve=h(this);for(re=re||[];this.pos<ve;)re.push(this.readFloat());return re},readPackedDouble:function(re){if(this.type!==n.Bytes)return re.push(this.readDouble());var ve=h(this);for(re=re||[];this.pos<ve;)re.push(this.readDouble());return re},readPackedFixed32:function(re){if(this.type!==n.Bytes)return re.push(this.readFixed32());var ve=h(this);for(re=re||[];this.pos<ve;)re.push(this.readFixed32());return re},readPackedSFixed32:function(re){if(this.type!==n.Bytes)return re.push(this.readSFixed32());var ve=h(this);for(re=re||[];this.pos<ve;)re.push(this.readSFixed32());return re},readPackedFixed64:function(re){if(this.type!==n.Bytes)return re.push(this.readFixed64());var ve=h(this);for(re=re||[];this.pos<ve;)re.push(this.readFixed64());return re},readPackedSFixed64:function(re){if(this.type!==n.Bytes)return re.push(this.readSFixed64());var ve=h(this);for(re=re||[];this.pos<ve;)re.push(this.readSFixed64());return re},skip:function(re){var ve=7&re;if(ve===n.Varint)for(;this.buf[this.pos++]>127;);else if(ve===n.Bytes)this.pos=this.readVarint()+this.pos;else if(ve===n.Fixed32)this.pos+=4;else{if(ve!==n.Fixed64)throw new Error("Unimplemented type: "+ve);this.pos+=8}},writeTag:function(re,ve){this.writeVarint(re<<3|ve)},realloc:function(re){for(var ve=this.length||16;ve<this.pos+re;)ve*=2;if(ve!==this.length){var we=new Uint8Array(ve);we.set(this.buf),this.buf=we,this.length=ve}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(re){this.realloc(4),se(this.buf,re,this.pos),this.pos+=4},writeSFixed32:function(re){this.realloc(4),se(this.buf,re,this.pos),this.pos+=4},writeFixed64:function(re){this.realloc(8),se(this.buf,-1&re,this.pos),se(this.buf,Math.floor(re*d),this.pos+4),this.pos+=8},writeSFixed64:function(re){this.realloc(8),se(this.buf,-1&re,this.pos),se(this.buf,Math.floor(re*d),this.pos+4),this.pos+=8},writeVarint:function(re){(re=+re||0)>268435455||re<0?function(ve,we){var Be,mt;if(ve>=0?(Be=ve%4294967296|0,mt=ve/4294967296|0):(mt=~(-ve/4294967296),4294967295^(Be=~(-ve%4294967296))?Be=Be+1|0:(Be=0,mt=mt+1|0)),ve>=18446744073709552e3||ve<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");we.realloc(10),function(pt,ft,Yt){Yt.buf[Yt.pos++]=127&pt|128,pt>>>=7,Yt.buf[Yt.pos++]=127&pt|128,pt>>>=7,Yt.buf[Yt.pos++]=127&pt|128,pt>>>=7,Yt.buf[Yt.pos++]=127&pt|128,Yt.buf[Yt.pos]=127&(pt>>>=7)}(Be,0,we),function(pt,ft){var Yt=(7&pt)<<4;ft.buf[ft.pos++]|=Yt|((pt>>>=3)?128:0),pt&&(ft.buf[ft.pos++]=127&pt|((pt>>>=7)?128:0),pt&&(ft.buf[ft.pos++]=127&pt|((pt>>>=7)?128:0),pt&&(ft.buf[ft.pos++]=127&pt|((pt>>>=7)?128:0),pt&&(ft.buf[ft.pos++]=127&pt|((pt>>>=7)?128:0),pt&&(ft.buf[ft.pos++]=127&pt)))))}(mt,we)}(re,this):(this.realloc(4),this.buf[this.pos++]=127&re|(re>127?128:0),re<=127||(this.buf[this.pos++]=127&(re>>>=7)|(re>127?128:0),re<=127||(this.buf[this.pos++]=127&(re>>>=7)|(re>127?128:0),re<=127||(this.buf[this.pos++]=re>>>7&127))))},writeSVarint:function(re){this.writeVarint(re<0?2*-re-1:2*re)},writeBoolean:function(re){this.writeVarint(!!re)},writeString:function(re){re=String(re),this.realloc(4*re.length),this.pos++;var ve=this.pos;this.pos=function(Be,mt,pt){for(var ft,Yt,yt=0;yt<mt.length;yt++){if((ft=mt.charCodeAt(yt))>55295&&ft<57344){if(!Yt){ft>56319||yt+1===mt.length?(Be[pt++]=239,Be[pt++]=191,Be[pt++]=189):Yt=ft;continue}if(ft<56320){Be[pt++]=239,Be[pt++]=191,Be[pt++]=189,Yt=ft;continue}ft=Yt-55296<<10|ft-56320|65536,Yt=null}else Yt&&(Be[pt++]=239,Be[pt++]=191,Be[pt++]=189,Yt=null);ft<128?Be[pt++]=ft:(ft<2048?Be[pt++]=ft>>6|192:(ft<65536?Be[pt++]=ft>>12|224:(Be[pt++]=ft>>18|240,Be[pt++]=ft>>12&63|128),Be[pt++]=ft>>6&63|128),Be[pt++]=63&ft|128)}return pt}(this.buf,re,this.pos);var we=this.pos-ve;we>=128&&S(ve,we,this),this.pos=ve-1,this.writeVarint(we),this.pos+=we},writeFloat:function(re){this.realloc(4),u.write(this.buf,re,this.pos,!0,23,4),this.pos+=4},writeDouble:function(re){this.realloc(8),u.write(this.buf,re,this.pos,!0,52,8),this.pos+=8},writeBytes:function(re){var ve=re.length;this.writeVarint(ve),this.realloc(ve);for(var we=0;we<ve;we++)this.buf[this.pos++]=re[we]},writeRawMessage:function(re,ve){this.pos++;var we=this.pos;re(ve,this);var Be=this.pos-we;Be>=128&&S(we,Be,this),this.pos=we-1,this.writeVarint(Be),this.pos+=Be},writeMessage:function(re,ve,we){this.writeTag(re,n.Bytes),this.writeRawMessage(ve,we)},writePackedVarint:function(re,ve){ve.length&&this.writeMessage(re,M,ve)},writePackedSVarint:function(re,ve){ve.length&&this.writeMessage(re,A,ve)},writePackedBoolean:function(re,ve){ve.length&&this.writeMessage(re,$,ve)},writePackedFloat:function(re,ve){ve.length&&this.writeMessage(re,b,ve)},writePackedDouble:function(re,ve){ve.length&&this.writeMessage(re,P,ve)},writePackedFixed32:function(re,ve){ve.length&&this.writeMessage(re,T,ve)},writePackedSFixed32:function(re,ve){ve.length&&this.writeMessage(re,O,ve)},writePackedFixed64:function(re,ve){ve.length&&this.writeMessage(re,N,ve)},writePackedSFixed64:function(re,ve){ve.length&&this.writeMessage(re,W,ve)},writeBytesField:function(re,ve){this.writeTag(re,n.Bytes),this.writeBytes(ve)},writeFixed32Field:function(re,ve){this.writeTag(re,n.Fixed32),this.writeFixed32(ve)},writeSFixed32Field:function(re,ve){this.writeTag(re,n.Fixed32),this.writeSFixed32(ve)},writeFixed64Field:function(re,ve){this.writeTag(re,n.Fixed64),this.writeFixed64(ve)},writeSFixed64Field:function(re,ve){this.writeTag(re,n.Fixed64),this.writeSFixed64(ve)},writeVarintField:function(re,ve){this.writeTag(re,n.Varint),this.writeVarint(ve)},writeSVarintField:function(re,ve){this.writeTag(re,n.Varint),this.writeSVarint(ve)},writeStringField:function(re,ve){this.writeTag(re,n.Bytes),this.writeString(ve)},writeFloatField:function(re,ve){this.writeTag(re,n.Fixed32),this.writeFloat(ve)},writeDoubleField:function(re,ve){this.writeTag(re,n.Fixed64),this.writeDouble(ve)},writeBooleanField:function(re,ve){this.writeVarintField(re,!!ve)}},by}var I0=be(Ob());const Cy=3;function SC(u,n,i){n.glyphs=[],u===1&&i.readMessage(ou,n)}function ou(u,n,i){if(u===3){const{id:d,bitmap:g,width:h,height:v,left:S,top:M,advance:A}=i.readMessage(wC,{});n.glyphs.push({id:d,bitmap:new jf({width:h+2*Cy,height:v+2*Cy},g),metrics:{width:h,height:v,left:S,top:M,advance:A}})}else u===4?n.ascender=i.readSVarint():u===5&&(n.descender=i.readSVarint())}function wC(u,n,i){u===1?n.id=i.readVarint():u===2?n.bitmap=i.readBytes():u===3?n.width=i.readVarint():u===4?n.height=i.readVarint():u===5?n.left=i.readSVarint():u===6?n.top=i.readSVarint():u===7&&(n.advance=i.readVarint())}const Sy=Cy,yu={horizontal:1,vertical:2,horizontalOnly:3};class sg{constructor(){this.scale=1,this.fontStack="",this.image=null}static forText(n,i){const d=new sg;return d.scale=n||1,d.fontStack=i,d}static forImage(n){const i=new sg;return i.image=n,i}}class kp{constructor(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null}static fromFeature(n,i){const d=new kp;for(let g=0;g<n.sections.length;g++){const h=n.sections[g];h.image?d.addImageSection(h):d.addTextSection(h,i)}return d}length(){return this.text.length}getSection(n){return this.sections[this.sectionIndex[n]]}getSections(){return this.sections}getSectionIndex(n){return this.sectionIndex[n]}getCodePoint(n){return this.text.codePointAt(n)}verticalizePunctuation(n){this.text=function(i,d){let g="";for(let h=0;h<i.length;h++){const v=i.charCodeAt(h+1)||null,S=i.charCodeAt(h-1)||null;g+=!d&&(v&&hc(v)&&!ag[i[h+1]]||S&&hc(S)&&!ag[i[h-1]])||!ag[i[h]]?i[h]:ag[i[h]]}return g}(this.text,n)}trim(){let n=0;for(let d=0;d<this.text.length&&T0[this.text.charCodeAt(d)];d++)n++;let i=this.text.length;for(let d=this.text.length-1;d>=0&&d>=n&&T0[this.text.charCodeAt(d)];d--)i--;this.text=this.text.substring(n,i),this.sectionIndex=this.sectionIndex.slice(n,i)}substring(n,i){const d=new kp;return d.text=this.text.substring(n,i),d.sectionIndex=this.sectionIndex.slice(n,i),d.sections=this.sections,d}toString(){return this.text}getMaxScale(){return this.sectionIndex.reduce((n,i)=>Math.max(n,this.sections[i].scale),0)}addTextSection(n,i){this.text+=n.text,this.sections.push(sg.forText(n.scale,n.fontStack||i));const d=this.sections.length-1;for(let g=0;g<n.text.length;++g)this.sectionIndex.push(d)}addImageSection(n){const i=n.image&&n.image.namePrimary?n.image.getPrimary():null;if(!i)return void Wn("Can't add FormattedSection with an empty image.");const d=this.getNextImageSectionCharCode();d?(this.text+=String.fromCodePoint(d),this.sections.push(sg.forImage(i)),this.sectionIndex.push(this.sections.length-1)):Wn("Reached maximum number of images 6401")}getNextImageSectionCharCode(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)}}function wy(u,n,i,d,g,h,v,S,M,A,b,P,$,T,O){const N=kp.fromFeature(u,g);P===yu.vertical&&N.verticalizePunctuation($);let W=[];const J=function(we,Be,mt,pt,ft,Yt){if(!we)return[];const yt=[],en=function(Bn,Yn,$n,$r,fi,Dr){let Qi=0;for(let Hi=0;Hi<Bn.length();Hi++){const Ii=Bn.getSection(Hi);Qi+=Rb(Bn.getCodePoint(Hi),Ii,$r,fi,Yn,Dr)}return Qi/Math.max(1,Math.ceil(Qi/$n))}(we,Be,mt,pt,ft,Yt),yn=we.text.indexOf("\u200B")>=0;let fn=0;for(let Bn=0;Bn<we.length();Bn++){const Yn=we.getSection(Bn),$n=we.getCodePoint(Bn);if(T0[$n]||(fn+=Rb($n,Yn,pt,ft,Be,Yt)),Bn<we.length()-1){const $r=!((xn=$n)<11904||!(No["Bopomofo Extended"](xn)||No.Bopomofo(xn)||No["CJK Compatibility Forms"](xn)||No["CJK Compatibility Ideographs"](xn)||No["CJK Compatibility"](xn)||No["CJK Radicals Supplement"](xn)||No["CJK Strokes"](xn)||No["CJK Symbols and Punctuation"](xn)||No["CJK Unified Ideographs Extension A"](xn)||No["CJK Unified Ideographs"](xn)||No["Enclosed CJK Letters and Months"](xn)||No["Halfwidth and Fullwidth Forms"](xn)||No.Hiragana(xn)||No["Ideographic Description Characters"](xn)||No["Kangxi Radicals"](xn)||No["Katakana Phonetic Extensions"](xn)||No.Katakana(xn)||No["Vertical Forms"](xn)||No["Yi Radicals"](xn)||No["Yi Syllables"](xn)));(EC[$n]||$r||Yn.image)&&yt.push(Ey(Bn+1,fn,en,yt,IC($n,we.getCodePoint(Bn+1),$r&&yn),!1))}}var xn;return TC(Ey(we.length(),fn,en,yt,0,!0))}(N,A,h,n,d,T),{processBidirectionalText:se,processStyledBidirectionalText:ue}=Gc;if(se&&N.sections.length===1){const we=se(N.toString(),J);for(const Be of we){const mt=new kp;mt.text=Be,mt.sections=N.sections;for(let pt=0;pt<Be.length;pt++)mt.sectionIndex.push(0);W.push(mt)}}else if(ue){const we=ue(N.text,N.sectionIndex,J);for(const Be of we){const mt=new kp;mt.text=Be[0],mt.sectionIndex=Be[1],mt.sections=N.sections,W.push(mt)}}else W=function(we,Be){const mt=[],pt=we.text;let ft=0;for(const Yt of Be)mt.push(we.substring(ft,Yt)),ft=Yt;return ft<pt.length&&mt.push(we.substring(ft,pt.length)),mt}(N,J);const re=[],ve={positionedLines:re,text:N.toString(),top:b[1],bottom:b[1],left:b[0],right:b[0],writingMode:P,iconsInText:!1,verticalizable:!1,hasBaseline:!1};return function(we,Be,mt,pt,ft,Yt,yt,en,yn,fn,xn,Bn){let Yn=0,$n=0,$r=0;const fi=en==="right"?1:en==="left"?0:.5;let Dr=!1;for(const io of ft){const yo=io.getSections();for(const ua of yo){if(ua.image)continue;const ka=Be[ua.fontStack];if(ka&&(Dr=ka.ascender!==void 0&&ka.descender!==void 0,!Dr))break}if(!Dr)break}let Qi=0;for(const io of ft){io.trim();const yo=io.getMaxScale(),ua=(yo-1)*uc,ka={positionedGlyphs:[],lineOffset:0};we.positionedLines[Qi]=ka;const za=ka.positionedGlyphs;let Na=0;if(!io.length()){$n+=Yt,++Qi;continue}let es=0,ts=0;for(let Ds=0;Ds<io.length();Ds++){const Ia=io.getSection(Ds),Is=io.getSectionIndex(Ds),$s=io.getCodePoint(Ds);let Ks=Ia.scale,Sl=null,zl=null,wl=null,ul=uc,El=0;const kl=!(yn===yu.horizontal||!xn&&!yd($s)||xn&&(T0[$s]||(Hi=$s,No.Arabic(Hi)||No["Arabic Supplement"](Hi)||No["Arabic Extended-A"](Hi)||No["Arabic Presentation Forms-A"](Hi)||No["Arabic Presentation Forms-B"](Hi))));if(Ia.image){const wc=pt[Ia.image.serialize()];if(!wc)continue;wl=Ia.image.id,we.iconsInText=we.iconsInText||!0,zl=wc.paddedRect;const Xs=wc.displaySize;Ks=Ks*uc/Bn,Sl={width:Xs[0],height:Xs[1],left:0,top:-Sy,advance:kl?Xs[1]:Xs[0],localGlyph:!1},El=Dr?-Sl.height*Ks:yo*uc-17-Xs[1]*Ks,ul=Sl.advance;const Hc=(kl?Xs[0]:Xs[1])*Ks-uc*yo;Hc>0&&Hc>Na&&(Na=Hc)}else{const wc=mt[Ia.fontStack];if(!wc)continue;wc[$s]&&(zl=wc[$s]);const Xs=Be[Ia.fontStack];if(!Xs)continue;const Hc=Xs.glyphs[$s];if(!Hc)continue;if(Sl=Hc.metrics,ul=$s!==8203?uc:0,Dr){const zd=Xs.ascender!==void 0?Math.abs(Xs.ascender):0,bu=Xs.descender!==void 0?Math.abs(Xs.descender):0,Fu=(zd+bu)*Ks;es<Fu&&(es=Fu,ts=(zd-bu)/2*Ks),El=-zd*Ks}else El=(yo-Ks)*uc-17}kl?(we.verticalizable=!0,za.push({glyph:$s,imageName:wl,x:Yn,y:$n+El,vertical:kl,scale:Ks,localGlyph:Sl.localGlyph,fontStack:Ia.fontStack,sectionIndex:Is,metrics:Sl,rect:zl}),Yn+=ul*Ks+fn):(za.push({glyph:$s,imageName:wl,x:Yn,y:$n+El,vertical:kl,scale:Ks,localGlyph:Sl.localGlyph,fontStack:Ia.fontStack,sectionIndex:Is,metrics:Sl,rect:zl}),Yn+=Sl.advance*Ks+fn)}za.length!==0&&($r=Math.max(Yn-fn,$r),Dr?od(za,fi,Na,ts,Yt*yo/2):od(za,fi,Na,0,Yt/2)),Yn=0;const Vs=Yt*yo+Na;ka.lineOffset=Math.max(Na,ua),$n+=Vs,++Qi}var Hi;const Ii=$n,{horizontalAlign:gi,verticalAlign:Ro}=Iy(yt);(function(io,yo,ua,ka,za,Na){const es=(yo-ua)*za,ts=-Na*ka;for(const Vs of io)for(const Ds of Vs.positionedGlyphs)Ds.x+=es,Ds.y+=ts})(we.positionedLines,fi,gi,Ro,$r,Ii),we.top+=-Ro*Ii,we.bottom=we.top+Ii,we.left+=-gi*$r,we.right=we.left+$r,we.hasBaseline=Dr}(ve,n,i,d,W,v,S,M,P,A,$,O),!function(we){for(const Be of we)if(Be.positionedGlyphs.length!==0)return!1;return!0}(re)&&ve}const T0={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},EC={10:!0,32:!0,38:!0,40:!0,41:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0,8231:!0};function Rb(u,n,i,d,g,h){if(n.image){const v=d[n.image.serialize()];return v?v.displaySize[0]*n.scale*uc/h+g:0}{const v=i[n.fontStack],S=v&&v.glyphs[u];return S?S.metrics.advance*n.scale+g:0}}function $b(u,n,i,d){const g=Math.pow(u-n,2);return d?u<n?g/2:2*g:g+Math.abs(i)*i}function IC(u,n,i){let d=0;return u===10&&(d-=1e4),i&&(d+=150),u!==40&&u!==65288||(d+=50),n!==41&&n!==65289||(d+=50),d}function Ey(u,n,i,d,g,h){let v=null,S=$b(n,i,g,h);for(const M of d){const A=$b(n-M.x,i,g,h)+M.badness;A<=S&&(v=M,S=A)}return{index:u,x:n,priorBreak:v,badness:S}}function TC(u){return u?TC(u.priorBreak).concat(u.index):[]}function Iy(u){let n=.5,i=.5;switch(u){case"right":case"top-right":case"bottom-right":n=1;break;case"left":case"top-left":case"bottom-left":n=0}switch(u){case"bottom":case"bottom-right":case"bottom-left":i=1;break;case"top":case"top-right":case"top-left":i=0}return{horizontalAlign:n,verticalAlign:i}}function od(u,n,i,d,g){if(!(n||i||d||g))return;const h=u.length-1,v=u[h],S=(v.x+v.metrics.advance*v.scale)*n;for(let M=0;M<=h;M++)u[M].x-=S,u[M].y+=i+d+g}function Ab(u,n,i,d){const{horizontalAlign:g,verticalAlign:h}=Iy(d),v=i[0]-u.displaySize[0]*g,S=i[1]-u.displaySize[1]*h;return{imagePrimary:u,imageSecondary:n,top:S,bottom:S+u.displaySize[1],left:v,right:v+u.displaySize[0]}}function Ty(u,n,i,d,g,h){const v=u.imagePrimary;let S;if(v.content){const W=v.content,J=v.pixelRatio||1;S=[W[0]/J,W[1]/J,v.displaySize[0]-W[2]/J,v.displaySize[1]-W[3]/J]}const M=n.left*h,A=n.right*h;let b,P,$,T;i==="width"||i==="both"?(T=g[0]+M-d[3],P=g[0]+A+d[1]):(T=g[0]+(M+A-v.displaySize[0])/2,P=T+v.displaySize[0]);const O=n.top*h,N=n.bottom*h;return i==="height"||i==="both"?(b=g[1]+O-d[0],$=g[1]+N+d[2]):(b=g[1]+(O+N-v.displaySize[1])/2,$=b+v.displaySize[1]),{imagePrimary:v,imageSecondary:void 0,top:b,right:P,bottom:$,left:T,collisionPadding:S}}class pf extends On{constructor(n,i,d,g,h){super(n,i),this.angle=g,this.z=d,h!==void 0&&(this.segment=h)}clone(){return new pf(this.x,this.y,this.z,this.angle,this.segment)}}function Db(u,n,i,d,g){if(n.segment===void 0)return!0;let h=n,v=n.segment+1,S=0;for(;S>-i/2;){if(v--,v<0)return!1;S-=u[v].dist(h),h=u[v]}S+=u[v].dist(u[v+1]),v++;const M=[];let A=0;for(;S<i/2;){const b=u[v],P=u[v+1];if(!P)return!1;let $=u[v-1].angleTo(b)-b.angleTo(P);for($=Math.abs(($+3*Math.PI)%(2*Math.PI)-Math.PI),M.push({distance:S,angleDelta:$}),A+=$;S-M[0].distance>d;)A-=M.shift().angleDelta;if(A>g)return!1;v++,S+=b.dist(P)}return!0}function Lb(u){let n=0;for(let i=0;i<u.length-1;i++)n+=u[i].dist(u[i+1]);return n}function zb(u,n,i){return u?.6*n*i:0}function My(u,n){return Math.max(u?u.right-u.left:0,n?n.right-n.left:0)}function Py(u,n,i,d,g,h){const v=zb(i,g,h),S=My(i,d)*h;let M=0;const A=Lb(u)/2;for(let b=0;b<u.length-1;b++){const P=u[b],$=u[b+1],T=P.dist($);if(M+T>A){const O=(A-M)/T,N=Et(P.x,$.x,O),W=Et(P.y,$.y,O),J=new pf(N,W,0,$.angleTo(P),b);return!v||Db(u,J,S,v,n)?J:void 0}M+=T}}function Nb(u,n,i,d,g,h,v,S,M){const A=zb(d,h,v),b=My(d,g),P=b*v,$=u[0].x===0||u[0].x===M||u[0].y===0||u[0].y===M;return n-P<n/4&&(n=P+n/4),MC(u,$?n/2*S%n:(b/2+2*h)*v*S%n,n,A,i,P,$,!1,M)}function MC(u,n,i,d,g,h,v,S,M){const A=h/2,b=Lb(u);let P=0,$=n-i,T=[];for(let O=0;O<u.length-1;O++){const N=u[O],W=u[O+1],J=N.dist(W),se=W.angleTo(N);for(;$+i<P+J;){$+=i;const ue=($-P)/J,re=Et(N.x,W.x,ue),ve=Et(N.y,W.y,ue);if(re>=0&&re<M&&ve>=0&&ve<M&&$-A>=0&&$+A<=b){const we=new pf(re,ve,0,se,O);d&&!Db(u,we,h,d,g)||T.push(we)}}P+=J}return S||T.length||v||(T=MC(u,P/2,i,d,g,h,v,!0,M)),T}function Oy(u,n,i,d,g){const h=[];for(let v=0;v<u.length;v++){const S=u[v];let M;for(let A=0;A<S.length-1;A++){let b=S[A],P=S[A+1];b.x<n&&P.x<n||(b.x<n?b=new On(n,b.y+(n-b.x)/(P.x-b.x)*(P.y-b.y))._round():P.x<n&&(P=new On(n,b.y+(n-b.x)/(P.x-b.x)*(P.y-b.y))._round()),b.y<i&&P.y<i||(b.y<i?b=new On(b.x+(i-b.y)/(P.y-b.y)*(P.x-b.x),i)._round():P.y<i&&(P=new On(b.x+(i-b.y)/(P.y-b.y)*(P.x-b.x),i)._round()),b.x>=d&&P.x>=d||(b.x>=d?b=new On(d,b.y+(d-b.x)/(P.x-b.x)*(P.y-b.y))._round():P.x>=d&&(P=new On(d,b.y+(d-b.x)/(P.x-b.x)*(P.y-b.y))._round()),b.y>=g&&P.y>=g||(b.y>=g?b=new On(b.x+(g-b.y)/(P.y-b.y)*(P.x-b.x),g)._round():P.y>=g&&(P=new On(b.x+(g-b.y)/(P.y-b.y)*(P.x-b.x),g)._round()),M&&b.equals(M[M.length-1])||(M=[b],h.push(M)),M.push(P)))))}}return h}function Ry(u){let n=0,i=0;for(const v of u)n+=v.w*v.h,i=Math.max(i,v.w);u.sort((v,S)=>S.h-v.h);const d=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(n/.95)),i),h:1/0}];let g=0,h=0;for(const v of u)for(let S=d.length-1;S>=0;S--){const M=d[S];if(!(v.w>M.w||v.h>M.h)){if(v.x=M.x,v.y=M.y,h=Math.max(h,v.y+v.h),g=Math.max(g,v.x+v.w),v.w===M.w&&v.h===M.h){const A=d.pop();S<d.length&&(d[S]=A)}else v.h===M.h?(M.x+=v.w,M.w-=v.w):v.w===M.w?(M.y+=v.h,M.h-=v.h):(d.push({x:M.x+v.w,y:M.y,w:M.w-v.w,h:v.h}),M.y+=v.h,M.h-=v.h);break}}return{w:g,h,fill:n/(g*h)||0}}Eo(pf,"Anchor");const lg=1;class cg{static getImagePositionScale(n,i,d){return i&&n&&n.options&&n.options.transform?{x:n.options.transform.a,y:n.options.transform.d}:{x:d,y:d}}constructor(n,{pixelRatio:i,version:d,stretchX:g,stretchY:h,content:v,sdf:S,usvg:M},A,b){this.paddedRect=n,this.pixelRatio=i,this.stretchX=g,this.stretchY=h,this.content=v,this.version=d,this.padding=A,this.sdf=S,this.scale=cg.getImagePositionScale(b,M,i)}get tl(){return[this.paddedRect.x+this.padding,this.paddedRect.y+this.padding]}get br(){return[this.paddedRect.x+this.paddedRect.w-this.padding,this.paddedRect.y+this.paddedRect.h-this.padding]}get displaySize(){return[(this.paddedRect.w-2*this.padding)/this.scale.x,(this.paddedRect.h-2*this.padding)/this.scale.y]}}class Bb{constructor(n,i,d){const g={},h={};this.haveRenderCallbacks=[];const v=[];this.addImages(n,g,lg,v),this.addImages(i,h,2,v);const{w:S,h:M}=Ry(v),A=new gc({width:S||1,height:M||1});for(const b in n){const P=n[b],$=g[b].paddedRect;gc.copy(P.data,A,{x:0,y:0},{x:$.x+lg,y:$.y+lg},P.data,d,P.sdf)}for(const b in i){const P=i[b],$=h[b].paddedRect;let T=h[b].padding;const O=$.x+T,N=$.y+T,W=P.data.width,J=P.data.height;T=T>1?T-1:T,gc.copy(P.data,A,{x:0,y:0},{x:O,y:N},P.data,d),gc.copy(P.data,A,{x:0,y:J-T},{x:O,y:N-T},{width:W,height:T},d),gc.copy(P.data,A,{x:0,y:0},{x:O,y:N+J},{width:W,height:T},d),gc.copy(P.data,A,{x:W-T,y:0},{x:O-T,y:N},{width:T,height:J},d),gc.copy(P.data,A,{x:0,y:0},{x:O+W,y:N},{width:T,height:J},d),gc.copy(P.data,A,{x:W-T,y:J-T},{x:O-T,y:N-T},{width:T,height:T},d),gc.copy(P.data,A,{x:0,y:J-T},{x:O+W,y:N-T},{width:T,height:T},d),gc.copy(P.data,A,{x:0,y:0},{x:O+W,y:N+J},{width:T,height:T},d),gc.copy(P.data,A,{x:W-T,y:0},{x:O-T,y:N+J},{width:T,height:T},d)}this.lut=d,this.image=A,this.iconPositions=g,this.patternPositions=h}addImages(n,i,d,g){for(const h in n){const v=n[h],S={x:0,y:0,w:v.data.width+2*d,h:v.data.height+2*d};g.push(S);const M=Rr.deserializeFromString(h);i[h]=new cg(S,v,d,M),v.hasRenderCallback&&this.haveRenderCallbacks.push(M.id)}}patchUpdatedImages(n,i,d){this.haveRenderCallbacks=this.haveRenderCallbacks.filter(g=>n.hasImage(g,d)),n.dispatchRenderCallbacks(this.haveRenderCallbacks,d);for(const g in n.getUpdatedImages(d)){for(const h of Object.keys(this.iconPositions))Rr.deserializeId(h)===g&&this.patchUpdatedImage(this.iconPositions[h],n.getImage(g,d),i);for(const h of Object.keys(this.patternPositions))Rr.deserializeId(h)===g&&this.patchUpdatedImage(this.patternPositions[h],n.getImage(g,d),i)}}patchUpdatedImage(n,i,d){if(!n||!i||n.version===i.version)return;n.version=i.version;const[g,h]=n.tl,v=n.sdf;if(this.lut||v){const S={width:i.data.width,height:i.data.height},M=new gc(S);gc.copy(i.data,M,{x:0,y:0},{x:0,y:0},S,this.lut,v),d.update(M,{position:{x:g,y:h}})}else d.update(i.data,{position:{x:g,y:h}})}}Eo(cg,"ImagePosition"),Eo(Bb,"ImageAtlas");const ug=1e20;function Fb(u,n,i,d,g,h,v,S,M){for(let A=n;A<n+d;A++)kb(u,i*h+A,h,g,v,S,M);for(let A=i;A<i+g;A++)kb(u,A*h+n,1,d,v,S,M)}function kb(u,n,i,d,g,h,v){h[0]=0,v[0]=-ug,v[1]=ug,g[0]=u[n];for(let S=1,M=0,A=0;S<d;S++){g[S]=u[n+S*i];const b=S*S;do{const P=h[M];A=(g[S]-g[P]+b-P*P)/(S-P)/2}while(A<=v[M]&&--M>-1);M++,h[M]=S,v[M]=A,v[M+1]=ug}for(let S=0,M=0;S<d;S++){for(;v[M+1]<S;)M++;const A=h[M],b=S-A;u[n+S*i]=g[A]+b*b}}const ad=2,Zp={none:0,ideographs:1,all:2};class jp{constructor(n,i,d){this.requestManager=n,this.localGlyphMode=i,this.localFontFamily=d,this.urls={},this.entries={},this.localGlyphs={200:{},400:{},500:{},900:{}}}setURL(n,i){this.urls[i]=n}getGlyphs(n,i,d){const g=[],h=this.urls[i]||rr.GLYPHS_URL;for(const v in n)for(const S of n[v])g.push({stack:v,id:S});ri(g,({stack:v,id:S},M)=>{let A=this.entries[v];A||(A=this.entries[v]={glyphs:{},requests:{},ranges:{},ascender:void 0,descender:void 0});let b=A.glyphs[S];if(b!==void 0)return void M(null,{stack:v,id:S,glyph:b});if(b=this._tinySDF(A,v,S),b)return A.glyphs[S]=b,void M(null,{stack:v,id:S,glyph:b});const P=Math.floor(S/256);if(256*P>65535)return Wn("glyphs > 65535 not supported"),void M(null,{stack:v,id:S,glyph:b});if(A.ranges[P])return void M(null,{stack:v,id:S,glyph:b});let $=A.requests[P];$||($=A.requests[P]=[],jp.loadGlyphRange(v,P,h,this.requestManager,(T,O)=>{if(O){A.ascender=O.ascender,A.descender=O.descender;for(const N in O.glyphs)this._doesCharSupportLocalGlyph(+N)||(A.glyphs[+N]=O.glyphs[+N]);A.ranges[P]=!0}for(const N of $)N(T,O);delete A.requests[P]})),$.push((T,O)=>{T?M(T):O&&M(null,{stack:v,id:S,glyph:O.glyphs[S]||null})})},(v,S)=>{if(v)d(v);else if(S){const M={};for(const{stack:A,id:b,glyph:P}of S)M[A]===void 0&&(M[A]={}),M[A].glyphs===void 0&&(M[A].glyphs={}),M[A].glyphs[b]=P&&{id:P.id,bitmap:P.bitmap.clone(),metrics:P.metrics},M[A].ascender=this.entries[A].ascender,M[A].descender=this.entries[A].descender;d(null,M)}})}_doesCharSupportLocalGlyph(n){return this.localGlyphMode!==Zp.none&&(this.localGlyphMode===Zp.all?!!this.localFontFamily:!!this.localFontFamily&&(No["CJK Unified Ideographs"](n)||No["Hangul Syllables"](n)||No.Hiragana(n)||No.Katakana(n)||No["CJK Symbols and Punctuation"](n)||No["CJK Unified Ideographs Extension A"](n)||No["CJK Unified Ideographs Extension B"](n)||No.Osage(n)))}_tinySDF(n,i,d){const g=this.localFontFamily;if(!g||!this._doesCharSupportLocalGlyph(d))return;let h=n.tinySDF;if(!h){let N="400";/bold/i.test(i)?N="900":/medium/i.test(i)?N="500":/light/i.test(i)&&(N="200"),h=n.tinySDF=new jp.TinySDF({fontFamily:g,fontWeight:N,fontSize:24*ad,buffer:3*ad,radius:8*ad}),h.fontWeight=N}if(this.localGlyphs[h.fontWeight][d])return this.localGlyphs[h.fontWeight][d];const v=String.fromCodePoint(d),{data:S,width:M,height:A,glyphWidth:b,glyphHeight:P,glyphLeft:$,glyphTop:T,glyphAdvance:O}=h.draw(v);return this.localGlyphs[h.fontWeight][d]={id:d,bitmap:new jf({width:M,height:A},S),metrics:{width:b/ad,height:P/ad,left:$/ad,top:T/ad-27,advance:O/ad,localGlyph:!0}}}}jp.loadGlyphRange=function(u,n,i,d,g){const h=256*n,v=h+255,S=d.transformRequest(d.normalizeGlyphsURL(i).replace("{fontstack}",u).replace("{range}",`${h}-${v}`),hi.Glyphs);wn(S,(M,A)=>{if(M)g(M);else if(A){const b={},P=function($){return new I0($).readFields(SC,{})}(A);for(const $ of P.glyphs)b[$.id]=$;g(null,{glyphs:b,ascender:P.ascender,descender:P.descender})}})},jp.TinySDF=class{constructor({fontSize:u=24,buffer:n=3,radius:i=8,cutoff:d=.25,fontFamily:g="sans-serif",fontWeight:h="normal",fontStyle:v="normal"}={}){this.buffer=n,this.cutoff=d,this.radius=i;const S=this.size=u+4*n,M=this._createCanvas(S),A=this.ctx=M.getContext("2d",{willReadFrequently:!0});A.font=`${v} ${h} ${u}px ${g}`,A.textBaseline="alphabetic",A.textAlign="left",A.fillStyle="black",this.gridOuter=new Float64Array(S*S),this.gridInner=new Float64Array(S*S),this.f=new Float64Array(S),this.z=new Float64Array(S+1),this.v=new Uint16Array(S)}_createCanvas(u){const n=document.createElement("canvas");return n.width=n.height=u,n}draw(u){const{width:n,actualBoundingBoxAscent:i,actualBoundingBoxDescent:d,actualBoundingBoxLeft:g,actualBoundingBoxRight:h}=this.ctx.measureText(u),v=Math.ceil(i),S=Math.max(0,Math.min(this.size-this.buffer,Math.ceil(h-g))),M=Math.min(this.size-this.buffer,v+Math.ceil(d)),A=S+2*this.buffer,b=M+2*this.buffer,P=Math.max(A*b,0),$=new Uint8ClampedArray(P),T={data:$,width:A,height:b,glyphWidth:S,glyphHeight:M,glyphTop:v,glyphLeft:0,glyphAdvance:n};if(S===0||M===0)return T;const{ctx:O,buffer:N,gridInner:W,gridOuter:J}=this;O.clearRect(N,N,S,M),O.fillText(u,N,N+v);const se=O.getImageData(N,N,S,M);J.fill(ug,0,P),W.fill(0,0,P);for(let ue=0;ue<M;ue++)for(let re=0;re<S;re++){const ve=se.data[4*(ue*S+re)+3]/255;if(ve===0)continue;const we=(ue+N)*A+re+N;if(ve===1)J[we]=0,W[we]=ug;else{const Be=.5-ve;J[we]=Be>0?Be*Be:0,W[we]=Be<0?Be*Be:0}}Fb(J,0,0,A,b,A,this.f,this.v,this.z),Fb(W,N,N,S,M,A,this.f,this.v,this.z);for(let ue=0;ue<P;ue++){const re=Math.sqrt(J[ue])-Math.sqrt(W[ue]);$[ue]=Math.round(255-255*(re/this.radius+this.cutoff))}return T}};const Kf=lg;function $y(u,n){return u+n[1]-n[0]}function Zb(u,n,i,d,g=1){const h=[],v=u.imagePrimary,S=v.pixelRatio,M=v.paddedRect.w-2*Kf,A=v.paddedRect.h-2*Kf,b=(u.right-u.left)*g,P=(u.bottom-u.top)*g,$=v.stretchX||[[0,M]],T=v.stretchY||[[0,A]],O=$.reduce($y,0),N=T.reduce($y,0),W=M-O,J=A-N;let se=0,ue=O,re=0,ve=N,we=0,Be=W,mt=0,pt=J;if(v.content&&d){const Yt=v.content;se=dg($,0,Yt[0]),re=dg(T,0,Yt[1]),ue=dg($,Yt[0],Yt[2]),ve=dg(T,Yt[1],Yt[3]),we=Yt[0]-se,mt=Yt[1]-re,Be=Yt[2]-Yt[0]-ue,pt=Yt[3]-Yt[1]-ve}const ft=(Yt,yt,en,yn)=>{const fn=fg(Yt.stretch-se,ue,b,u.left*g),xn=Lh(Yt.fixed-we,Be,Yt.stretch,O),Bn=fg(yt.stretch-re,ve,P,u.top*g),Yn=Lh(yt.fixed-mt,pt,yt.stretch,N),$n=fg(en.stretch-se,ue,b,u.left*g),$r=Lh(en.fixed-we,Be,en.stretch,O),fi=fg(yn.stretch-re,ve,P,u.top*g),Dr=Lh(yn.fixed-mt,pt,yn.stretch,N),Qi=new On(fn,Bn),Hi=new On($n,Bn),Ii=new On($n,fi),gi=new On(fn,fi),Ro=new On(xn/S,Yn/S),io=new On($r/S,Dr/S),yo=n*Math.PI/180;if(yo){const ts=Math.sin(yo),Vs=Math.cos(yo),Ds=[Vs,-ts,ts,Vs];Qi._matMult(Ds),Hi._matMult(Ds),gi._matMult(Ds),Ii._matMult(Ds)}const ua=Yt.stretch+Yt.fixed,ka=en.stretch+en.fixed,za=yt.stretch+yt.fixed,Na=yn.stretch+yn.fixed,es=u.imageSecondary;return{tl:Qi,tr:Hi,bl:gi,br:Ii,texPrimary:{x:v.paddedRect.x+Kf+ua,y:v.paddedRect.y+Kf+za,w:ka-ua,h:Na-za},texSecondary:es?{x:es.paddedRect.x+Kf+ua,y:es.paddedRect.y+Kf+za,w:ka-ua,h:Na-za}:void 0,writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:Ro,pixelOffsetBR:io,minFontScaleX:Be/S/b,minFontScaleY:pt/S/P,isSDF:i}};if(d&&(v.stretchX||v.stretchY)){const Yt=jb($,W,O),yt=jb(T,J,N);for(let en=0;en<Yt.length-1;en++){const yn=Yt[en],fn=Yt[en+1];for(let xn=0;xn<yt.length-1;xn++)h.push(ft(yn,yt[xn],fn,yt[xn+1]))}}else h.push(ft({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:M+1},{fixed:0,stretch:A+1}));return h}function dg(u,n,i){let d=0;for(const g of u)d+=Math.max(n,Math.min(i,g[1]))-Math.max(n,Math.min(i,g[0]));return d}function jb(u,n,i){const d=[{fixed:-Kf,stretch:0}];for(const[g,h]of u){const v=d[d.length-1];d.push({fixed:g-v.stretch,stretch:v.stretch}),d.push({fixed:g-v.stretch,stretch:v.stretch+(h-g)})}return d.push({fixed:n+Kf,stretch:i}),d}function fg(u,n,i,d){return u/n*i+d}function Lh(u,n,i,d){return u-n*i/d}function Vb(u,n,i,d){const g=n+u.positionedLines[d].lineOffset;return d===0?i+g/2:i+(g+(n+u.positionedLines[d-1].lineOffset))/2}function PC(u,n=1,i=!1){let d=1/0,g=1/0,h=-1/0,v=-1/0;const S=u[0];for(let T=0;T<S.length;T++){const O=S[T];(!T||O.x<d)&&(d=O.x),(!T||O.y<g)&&(g=O.y),(!T||O.x>h)&&(h=O.x),(!T||O.y>v)&&(v=O.y)}const M=Math.min(h-d,v-g);let A=M/2;const b=new pl([],Hb);if(M===0)return new On(d,g);for(let T=d;T<h;T+=M)for(let O=g;O<v;O+=M)b.push(new Vp(T+A,O+A,A,u));let P=function(T){let O=0,N=0,W=0;const J=T[0];for(let se=0,ue=J.length,re=ue-1;se<ue;re=se++){const ve=J[se],we=J[re],Be=ve.x*we.y-we.x*ve.y;N+=(ve.x+we.x)*Be,W+=(ve.y+we.y)*Be,O+=3*Be}return new Vp(N/O,W/O,0,T)}(u),$=b.length;for(;b.length;){const T=b.pop();(T.d>P.d||!P.d)&&(P=T,i&&console.log("found best %d after %d probes",Math.round(1e4*T.d)/1e4,$)),T.max-P.d<=n||(A=T.h/2,b.push(new Vp(T.p.x-A,T.p.y-A,A,u)),b.push(new Vp(T.p.x+A,T.p.y-A,A,u)),b.push(new Vp(T.p.x-A,T.p.y+A,A,u)),b.push(new Vp(T.p.x+A,T.p.y+A,A,u)),$+=4)}return i&&(console.log(`num probes: ${$}`),console.log(`best distance: ${P.d}`)),P.p}function Hb(u,n){return n.max-u.max}class Vp{constructor(n,i,d,g){this.p=new On(n,i),this.h=d,this.d=function(h,v){let S=!1,M=1/0;for(let A=0;A<v.length;A++){const b=v[A];for(let P=0,$=b.length,T=$-1;P<$;T=P++){const O=b[P],N=b[T];O.y>h.y!=N.y>h.y&&h.x<(N.x-O.x)*(h.y-O.y)/(N.y-O.y)+O.x&&(S=!S),M=Math.min(M,zt(h,O,N))}}return(S?1:-1)*Math.sqrt(M)}(this.p,g),this.max=this.d+this.h*Math.SQRT2}}const M0=Number.POSITIVE_INFINITY,OC=Math.sqrt(2);function Ay(u,[n,i]){let d=0,g=0;if(i===M0){n<0&&(n=0);const h=n/OC;switch(u){case"top-right":case"top-left":g=h-7;break;case"bottom-right":case"bottom-left":g=7-h;break;case"bottom":g=7-n;break;case"top":g=n-7}switch(u){case"top-right":case"bottom-right":d=-h;break;case"top-left":case"bottom-left":d=h;break;case"left":d=n;break;case"right":d=-n}}else{switch(n=Math.abs(n),i=Math.abs(i),u){case"top-right":case"top-left":case"top":g=i-7;break;case"bottom-right":case"bottom-left":case"bottom":g=7-i}switch(u){case"top-right":case"bottom-right":case"right":d=-n;break;case"top-left":case"bottom-left":case"left":d=n}}return[d,g]}function Dy(u){switch(u){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function Ub(u,n,i,d,g,h,v,S,M,A,b,P,$,T,O){let N=h.textMaxSize.evaluate(n,{},P);N===void 0?N=v*h.textScaleFactor:N*=h.textScaleFactor;const W=u.layers[0].layout,J=W.get("icon-offset").evaluate(n,{},P),se=Wb(i.horizontal)||i.vertical,ue=$.name==="globe",re=uc,ve=v*h.textScaleFactor/re,we=u.tilePixelRatio*N/re,Be=(fn=u.overscaling,u.zoom>18&&fn>2&&(fn>>=1),Math.max(ji/(512*fn),1)*W.get("symbol-spacing")),mt=W.get("text-padding")*u.tilePixelRatio,pt=W.get("icon-padding")*u.tilePixelRatio,ft=it(W.get("text-max-angle")),Yt=W.get("text-rotation-alignment")==="map"&&W.get("symbol-placement")!=="point",yt=W.get("icon-rotation-alignment")==="map"&&W.get("symbol-placement")!=="point",en=W.get("symbol-placement"),yn=Be/2;var fn;const xn=W.get("icon-text-fit").evaluate(n,{},P),Bn=W.get("icon-text-fit-padding").evaluate(n,{},P),Yn=xn!=="none";let $n;u.hasAnyIconTextFit===!1&&Yn&&(u.hasAnyIconTextFit=!0),d&&Yn&&(u.allowVerticalPlacement&&i.vertical&&($n=Ty(d,i.vertical,xn,Bn,J,ve)),se&&(d=Ty(d,se,xn,Bn,J,ve)));const $r=(fi,Dr,Qi)=>{if(Dr.x<0||Dr.x>=ji||Dr.y<0||Dr.y>=ji)return;let Hi=null;if(ue){const{x:Ii,y:gi,z:Ro}=$.projectTilePoint(Dr.x,Dr.y,Qi);Hi={anchor:new pf(Ii,gi,Ro,0,void 0),up:$.upVector(Qi,Dr.x,Dr.y)}}(function(Ii,gi,Ro,io,yo,ua,ka,za,Na,es,ts,Vs,Ds,Ia,Is,$s,Ks,Sl,zl,wl,ul,El,kl,wc,Xs,Hc,zd){const bu=Ii.addToLineVertexArray(gi,io);let Fu,jh,rh,Vh,Lg,sx,DS,C_=0,lx=0,S_=0,w_=0,E_=-1,cx=-1;const Nd={};let ux=Lo("");const Hh=Ro?Ro.anchor:gi,uv=Na.layout.get("icon-text-fit").evaluate(ul,{},Xs)!=="none";let dv=0,dx=0;if(Na._unevaluatedLayout.getValue("text-radial-offset")===void 0?[dv,dx]=Na.layout.get("text-offset").evaluate(ul,{},Xs).map(xu=>xu*uc):(dv=Na.layout.get("text-radial-offset").evaluate(ul,{},Xs)*uc,dx=M0),Ii.allowVerticalPlacement&&yo.vertical){const xu=yo.vertical;if(Is)sx=zy(xu),za&&(DS=zy(za));else{const Oc=Na.layout.get("text-rotate").evaluate(ul,{},Xs)+90;rh=hg(es,Hh,gi,ts,Vs,Ds,xu,Ia,Oc,$s),za&&(Vh=hg(es,Hh,gi,ts,Vs,Ds,za,Sl,Oc))}}if(ua){const xu=Ii.iconSizeData,Oc=Na.layout.get("icon-rotate").evaluate(ul,{},Xs),lm=Zb(ua,Oc,kl,uv,El.iconScaleFactor),hv=za?Zb(za,Oc,kl,uv,El.iconScaleFactor):void 0;jh=hg(es,Hh,gi,ts,Vs,Ds,ua,Sl,Oc,null),C_=4*lm.length;let Uh=null;xu.kind==="source"?(Uh=[id*Na.layout.get("icon-size").evaluate(ul,{},Xs)*El.iconScaleFactor],Uh[0]>Xf&&Wn(`${Ii.layerIds[0]}: Value for "icon-size" is >= ${zh}. Reduce your "icon-size".`)):xu.kind==="composite"&&(Uh=[id*El.compositeIconSizes[0].evaluate(ul,{},Xs)*El.iconScaleFactor,id*El.compositeIconSizes[1].evaluate(ul,{},Xs)*El.iconScaleFactor],(Uh[0]>Xf||Uh[1]>Xf)&&Wn(`${Ii.layerIds[0]}: Value for "icon-size" is >= ${zh}. Reduce your "icon-size".`)),Ii.addSymbols(Ii.icon,lm,Uh,wl,zl,ul,!1,Ro,gi,bu.lineStartIndex,bu.lineLength,-1,wc,Xs,Hc,zd),E_=Ii.icon.placedSymbolArray.length-1,hv&&(lx=4*hv.length,Ii.addSymbols(Ii.icon,hv,Uh,wl,zl,ul,yu.vertical,Ro,gi,bu.lineStartIndex,bu.lineLength,-1,wc,Xs,Hc,zd),cx=Ii.icon.placedSymbolArray.length-1)}for(const xu in yo.horizontal){const Oc=yo.horizontal[xu];Fu||(ux=Lo(Oc.text),Is?Lg=zy(Oc):Fu=hg(es,Hh,gi,ts,Vs,Ds,Oc,Ia,Na.layout.get("text-rotate").evaluate(ul,{},Xs),$s));const lm=Oc.positionedLines.length===1;if(S_+=Ly(Ii,Ro,gi,Oc,ka,Na,Is,ul,$s,bu,yo.vertical?yu.horizontal:yu.horizontalOnly,lm?Object.keys(yo.horizontal):[xu],Nd,E_,El,wc,Xs,Hc),lm)break}yo.vertical&&(w_+=Ly(Ii,Ro,gi,yo.vertical,ka,Na,Is,ul,$s,bu,yu.vertical,["vertical"],Nd,cx,El,wc,Xs,Hc));let ih=-1;const fv=(xu,Oc)=>xu?Math.max(xu,Oc):Oc;ih=fv(Lg,ih),ih=fv(sx,ih),ih=fv(DS,ih);const LS=ih>-1?1:0;Ii.glyphOffsetArray.length>=65535&&Wn("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),ul.sortKey!==void 0&&Ii.addToSortKeyRanges(Ii.symbolInstances.length,ul.sortKey),Ii.symbolInstances.emplaceBack(gi.x,gi.y,Hh.x,Hh.y,Hh.z,Nd.right>=0?Nd.right:-1,Nd.center>=0?Nd.center:-1,Nd.left>=0?Nd.left:-1,Nd.vertical>=0?Nd.vertical:-1,E_,cx,ux,Fu!==void 0?Fu:Ii.collisionBoxArray.length,Fu!==void 0?Fu+1:Ii.collisionBoxArray.length,rh!==void 0?rh:Ii.collisionBoxArray.length,rh!==void 0?rh+1:Ii.collisionBoxArray.length,jh!==void 0?jh:Ii.collisionBoxArray.length,jh!==void 0?jh+1:Ii.collisionBoxArray.length,Vh||Ii.collisionBoxArray.length,Vh?Vh+1:Ii.collisionBoxArray.length,ts,S_,w_,C_,lx,LS,0,dv,dx,ih,0,uv?1:0)})(u,Dr,Hi,fi,i,d,g,$n,u.layers[0],u.collisionBoxArray,n.index,n.sourceLayerIndex,u.index,mt,Yt,M,0,pt,yt,J,n,h,A,b,P,T,O)};if(en==="line")for(const fi of Oy(n.geometry,0,0,ji,ji)){const Dr=Nb(fi,Be,ft,i.vertical||se,d,re,we,u.overscaling,ji);for(const Qi of Dr)se&&RC(u,se.text,yn,Qi)||$r(fi,Qi,P)}else if(en==="line-center"){for(const fi of n.geometry)if(fi.length>1){const Dr=Py(fi,ft,i.vertical||se,d,re,we);Dr&&$r(fi,Dr,P)}}else if(n.type==="Polygon")for(const fi of cl(n.geometry,0)){const Dr=PC(fi,16);$r(fi[0],new pf(Dr.x,Dr.y,0,0,void 0),P)}else if(n.type==="LineString")for(const fi of n.geometry)$r(fi,new pf(fi[0].x,fi[0].y,0,0,void 0),P);else if(n.type==="Point")for(const fi of n.geometry)for(const Dr of fi)$r([Dr],new pf(Dr.x,Dr.y,0,0,void 0),P)}const zh=255,Xf=zh*id;function Ly(u,n,i,d,g,h,v,S,M,A,b,P,$,T,O,N,W,J){const se=function(ve,we,Be,mt,pt,ft,Yt,yt){const en=[];if(we.positionedLines.length===0)return en;const yn=mt.layout.get("text-rotate").evaluate(ft,{})*Math.PI/180,fn=function($r){const fi=$r[0],Dr=$r[1],Qi=fi*Dr;return Qi>0?[fi,-Dr]:Qi<0?[-fi,Dr]:fi===0?[Dr,fi]:[Dr,-fi]}(Be);let xn=Math.abs(we.top-we.bottom);for(const $r of we.positionedLines)xn-=$r.lineOffset;const Bn=we.positionedLines.length,Yn=xn/Bn;let $n=we.top-Be[1];for(let $r=0;$r<Bn;++$r){const fi=we.positionedLines[$r];$n=Vb(we,Yn,$n,$r);for(const Dr of fi.positionedGlyphs){if(!Dr.rect)continue;const Qi=Dr.rect||{};let Hi=Sy+1,Ii=!0,gi=1,Ro=0;if(Dr.imageName){const wl=Yt[_i.build(Dr.imageName).getSerializedPrimary()];if(!wl)continue;if(wl.sdf){Wn("SDF images are not supported in formatted text and will be ignored.");continue}Ii=!1,gi=wl.pixelRatio,Hi=lg/gi}const io=(pt||yt)&&Dr.vertical,yo=Dr.metrics.advance*Dr.scale/2,ua=Dr.metrics,ka=Dr.rect;if(ka===null)continue;yt&&we.verticalizable&&(Ro=Dr.imageName?yo-Dr.metrics.width*Dr.scale/2:0);const za=pt?[Dr.x+yo,Dr.y]:[0,0];let Na=[0,0],es=[0,0],ts=!1;pt||(io?(es=[Dr.x+yo+fn[0],Dr.y+fn[1]-Ro],ts=!0):Na=[Dr.x+yo+Be[0],Dr.y+Be[1]-Ro]);const Vs=ka.w*Dr.scale/(gi*(Dr.localGlyph?ad:1)),Ds=ka.h*Dr.scale/(gi*(Dr.localGlyph?ad:1));let Ia,Is,$s,Ks;if(io){const wl=Dr.y-$n,ul=new On(-yo,yo-wl),El=-Math.PI/2,kl=new On(...es);Ia=new On(-yo+Na[0],Na[1]),Ia._rotateAround(El,ul)._add(kl),Ia.x+=-wl+yo,Ia.y-=(ua.left-Hi)*Dr.scale;const wc=Dr.imageName?ua.advance*Dr.scale:uc*Dr.scale,Xs=String.fromCodePoint(Dr.glyph);bC(Xs)?Ia.x+=(1-Hi)*Dr.scale:xC(Xs)?Ia.x+=wc-ua.height*Dr.scale+(-Hi-1)*Dr.scale:Ia.x+=Dr.imageName||ua.width+2*Hi===ka.w&&ua.height+2*Hi===ka.h?(wc-Ds)/2:(wc-(ua.height+2*Hi)*Dr.scale)/2,Is=new On(Ia.x,Ia.y-Vs),$s=new On(Ia.x+Ds,Ia.y),Ks=new On(Ia.x+Ds,Ia.y-Vs)}else{const wl=(ua.left-Hi)*Dr.scale-yo+Na[0],ul=(-ua.top-Hi)*Dr.scale+Na[1],El=wl+Vs,kl=ul+Ds;Ia=new On(wl,ul),Is=new On(El,ul),$s=new On(wl,kl),Ks=new On(El,kl)}if(yn){let wl;wl=pt?new On(0,0):ts?new On(fn[0],fn[1]):new On(Be[0],Be[1]),Ia._rotateAround(yn,wl),Is._rotateAround(yn,wl),$s._rotateAround(yn,wl),Ks._rotateAround(yn,wl)}const Sl=new On(0,0),zl=new On(0,0);en.push({tl:Ia,tr:Is,bl:$s,br:Ks,texPrimary:Qi,texSecondary:void 0,writingMode:we.writingMode,glyphOffset:za,sectionIndex:Dr.sectionIndex,isSDF:Ii,pixelOffsetTL:Sl,pixelOffsetBR:zl,minFontScaleX:0,minFontScaleY:0})}}return en}(0,d,M,h,v,S,g,u.allowVerticalPlacement),ue=u.textSizeData;let re=null;ue.kind==="source"?(re=[id*h.layout.get("text-size").evaluate(S,{},W)*O.textScaleFactor],re[0]>Xf&&Wn(`${u.layerIds[0]}: Value for "text-size" is >= ${zh}. Reduce your "text-size".`)):ue.kind==="composite"&&(re=[id*O.compositeTextSizes[0].evaluate(S,{},W)*O.textScaleFactor,id*O.compositeTextSizes[1].evaluate(S,{},W)*O.textScaleFactor],(re[0]>Xf||re[1]>Xf)&&Wn(`${u.layerIds[0]}: Value for "text-size" is >= ${zh}. Reduce your "text-size".`)),u.addSymbols(u.text,se,re,M,v,S,b,n,i,A.lineStartIndex,A.lineLength,T,N,W,J,!1);for(const ve of P)$[ve]=u.text.placedSymbolArray.length-1;return 4*se.length}function Wb(u){for(const n in u)return u[n];return null}function hg(u,n,i,d,g,h,v,S,M,A){let b=v.top,P=v.bottom,$=v.left,T=v.right;const O=v.collisionPadding;if(O&&($-=O[0],b-=O[1],T+=O[2],P+=O[3]),M){const N=new On($,b),W=new On(T,b),J=new On($,P),se=new On(T,P),ue=it(M);let re=new On(0,0);A&&(re=new On(A[0],A[1])),N._rotateAround(ue,re),W._rotateAround(ue,re),J._rotateAround(ue,re),se._rotateAround(ue,re),$=Math.min(N.x,W.x,J.x,se.x),T=Math.max(N.x,W.x,J.x,se.x),b=Math.min(N.y,W.y,J.y,se.y),P=Math.max(N.y,W.y,J.y,se.y)}return u.emplaceBack(n.x,n.y,n.z,i.x,i.y,$,b,T,P,S,d,g,h),u.length-1}function zy(u){u.collisionPadding&&(u.top-=u.collisionPadding[1],u.bottom+=u.collisionPadding[3]);const n=u.bottom-u.top;return n>0?Math.max(10,n):null}function RC(u,n,i,d){const g=u.compareText;if(n in g){const h=g[n];for(let v=h.length-1;v>=0;v--)if(d.dist(h[v])<i)return!0}else g[n]=[];return g[n].push(d),!1}function Gb(u,n){const i=u.fovAboveCenter,d=u.elevation?u.elevation.getMinElevationBelowMSL()*n:0,g=(u._camera.position[2]*u.worldSize-d)/Math.cos(u._pitch),h=Math.sin(i)*g/Math.sin(Math.max(Math.PI/2-u._pitch-i,.01));let v=Math.sin(u._pitch)*h+g;const S=g*(1/u._horizonShift);if(!u.elevation||u.elevation.exaggeration()===0){let M=Math.max(u.zoom-17,0);u.isOrthographic&&(M/=10),v*=1+M}return Math.min(1.01*v,S)}function pg(u,n){if(!n.isReprojectedInTileSpace)return{scale:1<<u.z,x:u.x,y:u.y,x2:u.x+1,y2:u.y+1,projection:n};const i=Math.pow(2,-u.z),d=u.x*i,g=(u.x+1)*i,h=u.y*i,v=(u.y+1)*i,S=Cc(d),M=Cc(g),A=Xl(h),b=Xl(v),P=n.project(S,A),$=n.project(M,A),T=n.project(M,b),O=n.project(S,b);let N=Math.min(P.x,$.x,T.x,O.x),W=Math.min(P.y,$.y,T.y,O.y),J=Math.max(P.x,$.x,T.x,O.x),se=Math.max(P.y,$.y,T.y,O.y);const ue=i/16;function re(we,Be,mt,pt,ft,Yt){const yt=(mt+ft)/2,en=(pt+Yt)/2,yn=n.project(Cc(yt),Xl(en)),fn=Math.max(0,N-yn.x,W-yn.y,yn.x-J,yn.y-se);N=Math.min(N,yn.x),J=Math.max(J,yn.x),W=Math.min(W,yn.y),se=Math.max(se,yn.y),fn>ue&&(re(we,yn,mt,pt,yt,en),re(yn,Be,yt,en,ft,Yt))}re(P,$,d,h,g,h),re($,T,g,h,g,v),re(T,O,g,v,d,v),re(O,P,d,v,d,h),N-=ue,W-=ue,J+=ue,se+=ue;const ve=1/Math.max(J-N,se-W);return{scale:ve,x:N*ve,y:W*ve,x2:J*ve,y2:se*ve,projection:n}}function Kb(u,{x:n,y:i},d=0){return new On(((n-d)*u.scale-u.x)*ji,(i*u.scale-u.y)*ji)}const Hp=Ae.mat4.identity(new Float32Array(16));class sd{constructor(n){this.spec=n,this.name=n.name,this.wrap=!1,this.requiresDraping=!1,this.supportsWorldCopies=!1,this.supportsTerrain=!1,this.supportsFog=!1,this.supportsFreeCamera=!1,this.zAxisUnit="meters",this.isReprojectedInTileSpace=!0,this.unsupportedLayers=["custom"],this.center=[0,0],this.range=[3.5,7]}project(n,i){return{x:0,y:0,z:0}}unproject(n,i){return new hs(0,0)}projectTilePoint(n,i,d){return{x:n,y:i,z:0}}locationPoint(n,i,d=!0){return n._coordinatePoint(n.locationCoordinate(i),d)}pixelsPerMeter(n,i){return Mc(1,n)*i}pixelSpaceConversion(n,i,d){return 1}farthestPixelDistance(n){return Gb(n,n.pixelsPerMeter)}pointCoordinate(n,i,d,g){const h=n.horizonLineFromTop(!1),v=new On(i,Math.max(h,d));return n.rayIntersectionCoordinate(n.pointRayIntersection(v,g))}pointCoordinate3D(n,i,d){const g=new On(i,d);if(n.elevation)return n.elevation.pointCoordinate(g);{const h=this.pointCoordinate(n,g.x,g.y,0);return[h.x,h.y,h.z]}}isPointAboveHorizon(n,i){if(n.elevation&&n.elevation.visibleDemTiles.length)return!this.pointCoordinate3D(n,i.x,i.y);const d=n.horizonLineFromTop();return i.y<d}createInversionMatrix(n,i){return Hp}createTileMatrix(n,i,d){let g,h,v;const S=d.canonical,M=Ae.mat4.identity(new Float64Array(16));if(this.isReprojectedInTileSpace){const A=pg(S,this);g=1,h=A.x+d.wrap*A.scale,v=A.y,Ae.mat4.scale(M,M,[g/A.scale,g/A.scale,n.pixelsPerMeter/i])}else g=i/n.zoomScale(S.z),h=(S.x+Math.pow(2,S.z)*d.wrap)*g,v=S.y*g;return Ae.mat4.translate(M,M,[h,v,0]),Ae.mat4.scale(M,M,[g/ji,g/ji,1]),M}upVector(n,i,d){return[0,0,1]}upVectorScale(n,i,d){return{metersToTile:1}}}class $C extends sd{constructor(n){super(n),this.range=[4,7],this.center=n.center||[-96,37.5];const[i,d]=this.parallels=n.parallels||[29.5,45.5],g=Math.sin(it(i));this.n=(g+Math.sin(it(d)))/2,this.c=1+g*(2*this.n-g),this.r0=Math.sqrt(this.c)/this.n}project(n,i){const{n:d,c:g,r0:h}=this,v=it(n-this.center[0]),S=it(i),M=Math.sqrt(g-2*d*Math.sin(S))/d;return{x:M*Math.sin(v*d),y:M*Math.cos(v*d)-h,z:0}}unproject(n,i){const{n:d,c:g,r0:h}=this,v=h+i;let S=Math.atan2(n,Math.abs(v))*Math.sign(v);v*d<0&&(S-=Math.PI*Math.sign(n)*Math.sign(v));const M=it(this.center[0])*d;S=pi(S,-Math.PI-M,Math.PI-M);const A=Hn(Ot(S/d)+this.center[0],-180,180),b=Math.asin(Hn((g-(n*n+v*v)*d*d)/(2*d),-1,1)),P=Hn(Ot(b),-_l,_l);return new hs(A,P)}}const Up=1.340264,mg=-.081106,Wp=893e-6,gg=.003796,P0=Math.sqrt(3)/2;class AC extends sd{project(n,i){i=i/180*Math.PI,n=n/180*Math.PI;const d=Math.asin(P0*Math.sin(i)),g=d*d,h=g*g*g;return{x:.5*(n*Math.cos(d)/(P0*(Up+3*mg*g+h*(7*Wp+9*gg*g)))/Math.PI+.5),y:1-.5*(d*(Up+mg*g+h*(Wp+gg*g))/Math.PI+1),z:0}}unproject(n,i){n=(2*n-.5)*Math.PI;let d=i=(2*(1-i)-1)*Math.PI,g=d*d,h=g*g*g;for(let b,P,$,T=0;T<12&&(P=d*(Up+mg*g+h*(Wp+gg*g))-i,$=Up+3*mg*g+h*(7*Wp+9*gg*g),b=P/$,d=Hn(d-b,-Math.PI/3,Math.PI/3),g=d*d,h=g*g*g,!(Math.abs(b)<1e-12));++T);const v=P0*n*(Up+3*mg*g+h*(7*Wp+9*gg*g))/Math.cos(d),S=Math.asin(Math.sin(d)/P0),M=Hn(180*v/Math.PI,-180,180),A=Hn(180*S/Math.PI,-_l,_l);return new hs(M,A)}}class DC extends sd{constructor(n){super(n),this.wrap=!0,this.supportsWorldCopies=!0}project(n,i){return{x:.5+n/360,y:.5-i/360,z:0}}unproject(n,i){const d=360*(n-.5),g=Hn(360*(.5-i),-_l,_l);return new hs(d,g)}}const Gp=Math.PI/2;function O0(u){return Math.tan((Gp+u)/2)}class LC extends sd{constructor(n){super(n),this.center=n.center||[0,30];const[i,d]=this.parallels=n.parallels||[30,30];let g=it(i),h=it(d);this.southernCenter=g+h<0,this.southernCenter&&(g=-g,h=-h);const v=Math.cos(g),S=O0(g);this.n=g===h?Math.sin(g):Math.log(v/Math.cos(h))/Math.log(O0(h)/S),this.f=v*Math.pow(O0(g),this.n)/this.n}project(n,i){i=it(i),this.southernCenter&&(i=-i),n=it(n-this.center[0]);const d=1e-6,{n:g,f:h}=this;h>0?i<-Gp+d&&(i=-Gp+d):i>Gp-d&&(i=Gp-d);const v=h/Math.pow(O0(i),g);let S=v*Math.sin(g*n),M=h-v*Math.cos(g*n);return S=.5*(S/Math.PI+.5),M=.5*(M/Math.PI+.5),{x:S,y:this.southernCenter?M:1-M,z:0}}unproject(n,i){n=(2*n-.5)*Math.PI,this.southernCenter&&(i=1-i),i=(2*(1-i)-.5)*Math.PI;const{n:d,f:g}=this,h=g-i,v=Math.sign(h),S=Math.sign(d)*Math.sqrt(n*n+h*h);let M=Math.atan2(n,Math.abs(h))*v;h*d<0&&(M-=Math.PI*Math.sign(n)*v);const A=Hn(Ot(M/d)+this.center[0],-180,180),b=Hn(Ot(2*Math.atan(Math.pow(g/S,1/d))-Gp),-_l,_l);return new hs(A,this.southernCenter?-b:b)}}class Xb extends sd{constructor(n){super(n),this.wrap=!0,this.supportsWorldCopies=!0,this.supportsTerrain=!0,this.supportsFog=!0,this.supportsFreeCamera=!0,this.isReprojectedInTileSpace=!1,this.unsupportedLayers=[],this.range=null}project(n,i){return{x:$u(n),y:gu(i),z:0}}unproject(n,i){const d=Cc(n),g=Xl(i);return new hs(d,g)}}const Yb=it(_l);class qb extends sd{project(n,i){const d=(i=it(i))*i,g=d*d;return{x:.5*((n=it(n))*(.8707-.131979*d+g*(g*(.003971*d-.001529*g)-.013791))/Math.PI+.5),y:1-.5*(i*(1.007226+d*(.015085+g*(.028874*d-.044475-.005916*g)))/Math.PI+1),z:0}}unproject(n,i){n=(2*n-.5)*Math.PI;let d=i=(2*(1-i)-1)*Math.PI,g=25,h=0,v=d*d;do{v=d*d;const A=v*v;h=(d*(1.007226+v*(.015085+A*(.028874*v-.044475-.005916*A)))-i)/(1.007226+v*(.045255+A*(.259866*v-.311325-.005916*11*A))),d=Hn(d-h,-Yb,Yb)}while(Math.abs(h)>1e-6&&--g>0);v=d*d;const S=Hn(Ot(n/(.8707+v*(v*(v*v*v*(.003971-.001529*v)-.013791)-.131979))),-180,180),M=Ot(d);return new hs(S,M)}}const Jb=it(_l);class zC extends sd{project(n,i){i=it(i),n=it(n);const d=Math.cos(i),g=2/Math.PI,h=Math.acos(d*Math.cos(n/2)),v=Math.sin(h)/h,S=.5*(n*g+2*d*Math.sin(n/2)/v)||0,M=.5*(i+Math.sin(i)/v)||0;return{x:.5*(S/Math.PI+.5),y:1-.5*(M/Math.PI+1),z:0}}unproject(n,i){let d=n=(2*n-.5)*Math.PI,g=i=(2*(1-i)-1)*Math.PI,h=25;const v=1e-6;let S=0,M=0;do{const A=Math.cos(g),b=Math.sin(g),P=2*b*A,$=b*b,T=A*A,O=Math.cos(d/2),N=Math.sin(d/2),W=2*O*N,J=N*N,se=1-T*O*O,ue=se?1/se:0,re=se?Math.acos(A*O)*Math.sqrt(1/se):0,ve=.5*(2*re*A*N+2*d/Math.PI)-n,we=.5*(re*b+g)-i,Be=.5*ue*(T*J+re*A*O*$)+1/Math.PI,mt=ue*(W*P/4-re*b*N),pt=.125*ue*(P*N-re*b*T*W),ft=.5*ue*($*O+re*J*A)+.5,Yt=mt*pt-ft*Be;S=(we*mt-ve*ft)/Yt,M=(ve*pt-we*Be)/Yt,d=Hn(d-S,-Math.PI,Math.PI),g=Hn(g-M,-Jb,Jb)}while((Math.abs(S)>v||Math.abs(M)>v)&&--h>0);return new hs(Ot(d),Ot(g))}}class Qb extends sd{constructor(n){super(n),this.center=n.center||[0,0],this.parallels=n.parallels||[0,0],this.cosPhi=Math.max(.01,Math.cos(it(this.parallels[0]))),this.scale=1/(2*Math.max(Math.PI*this.cosPhi,1/this.cosPhi)),this.wrap=!0,this.supportsWorldCopies=!0}project(n,i){const{scale:d,cosPhi:g}=this;return{x:it(n)*g*d+.5,y:-Math.sin(it(i))/g*d+.5,z:0}}unproject(n,i){const{scale:d,cosPhi:g}=this,h=-(i-.5)/d,v=Hn(Ot((n-.5)/d)/g,-180,180),S=Math.asin(Hn(h*g,-1,1)),M=Hn(Ot(S),-_l,_l);return new hs(v,M)}}class NC extends Xb{constructor(n){super(n),this.requiresDraping=!0,this.supportsWorldCopies=!1,this.supportsFog=!0,this.zAxisUnit="pixels",this.unsupportedLayers=["debug"],this.range=[3,5]}projectTilePoint(n,i,d){const g=As(n,i,d),h=Yl(Dl(d));return Ae.vec3.transformMat4(g,g,h),{x:g[0],y:g[1],z:g[2]}}locationPoint(n,i){const d=sf(i.lat,i.lng),g=Ae.vec3.normalize([],d),h=n.elevation?n.elevation.getAtPointOrZero(n.locationCoordinate(i),n._centerAltitude):n._centerAltitude,v=Mc(1,0)*ji*h;Ae.vec3.scaleAndAdd(d,d,g,v);const S=Ae.mat4.identity(new Float64Array(16));return Ae.mat4.multiply(S,n.pixelMatrix,n.globeMatrix),Ae.vec3.transformMat4(d,d,S),new On(d[0],d[1])}pixelsPerMeter(n,i){return Mc(1,0)*i}pixelSpaceConversion(n,i,d){const g=Mc(1,n)*i,h=Et(Mc(1,45)*i,g,d);return this.pixelsPerMeter(n,i)/h}createTileMatrix(n,i,d){const g=Rs(Dl(d.canonical));return Ae.mat4.multiply(new Float64Array(16),n.globeMatrix,g)}createInversionMatrix(n,i){const{center:d}=n,g=Yl(Dl(i));return Ae.mat4.rotateY(g,g,it(d.lng)),Ae.mat4.rotateX(g,g,it(d.lat)),Ae.mat4.scale(g,g,[n._pixelsPerMercatorPixel,n._pixelsPerMercatorPixel,1]),Float32Array.from(g)}pointCoordinate(n,i,d,g){return bs(n,i,d,!0)||new l(0,0)}pointCoordinate3D(n,i,d){const g=this.pointCoordinate(n,i,d,0);return[g.x,g.y,g.z]}isPointAboveHorizon(n,i){return!bs(n,i.x,i.y,!1)}farthestPixelDistance(n){const i=function(g,h){const v=g.cameraToCenterDistance,S=g._centerAltitude*h,M=g._camera,A=g._camera.forward(),b=Ae.vec3.add([],Ae.vec3.scale([],A,-v),[0,0,S]),P=g.worldSize/(2*Math.PI),$=[0,0,-P],T=g.width/g.height,O=Math.tan(g.fovAboveCenter),N=Ae.vec3.scale([],M.up(),O),W=Ae.vec3.scale([],M.right(),O*T),J=Ae.vec3.normalize([],Ae.vec3.add([],Ae.vec3.add([],A,N),W)),se=[];let ue;if(new Yo(b,J).closestPointOnSphere($,P,se)){const re=Ae.vec3.add([],se,$),ve=Ae.vec3.sub([],re,b);ue=Math.cos(g.fovAboveCenter)*Ae.vec3.length(ve)}else{const re=Ae.vec3.sub([],b,$),ve=Ae.vec3.sub([],$,b);Ae.vec3.normalize(ve,ve);const we=Ae.vec3.length(re)-P;ue=Math.sqrt(we*(we+2*P));const Be=Math.acos(ue/(P+we))-Math.acos(Ae.vec3.dot(A,ve));ue*=Math.cos(Be)}return 1.01*ue}(n,this.pixelsPerMeter(n.center.lat,n.worldSize)),d=mc(n.zoom);if(d>0){const g=Gb(n,Mc(1,n.center.lat)*n.worldSize),h=n.worldSize/(2*Math.PI),v=Math.max(n.width,n.height)/n.worldSize*Math.PI;return Et(i,g+h*(1-Math.cos(v)),Math.pow(d,10))}return i}upVector(n,i,d){return As(i,d,n,1)}upVectorScale(n){return{metersToTile:Qa(ss(Dl(n)))}}}function e1(u){const n=u.parallels,i=!!n&&Math.abs(n[0]+n[1])<.01;switch(u.name){case"mercator":return new Xb(u);case"equirectangular":return new DC(u);case"naturalEarth":return new qb(u);case"equalEarth":return new AC(u);case"winkelTripel":return new zC(u);case"albers":return i?new Qb(u):new $C(u);case"lambertConformalConic":return i?new Qb(u):new LC(u);case"globe":return new NC(u)}throw new Error(`Invalid projection name: ${u.name}`)}const BC=Du.VectorTileFeature.types,FC=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function R0(u,n,i,d,g,h,v,S,M,A,b,P,$){const T=S?Math.min(Xf,Math.round(S[0])):0,O=S?Math.min(Xf,Math.round(S[1])):0;u.emplaceBack(n,i,Math.round(32*d),Math.round(32*g),h,v,(T<<1)+(M?1:0),O,16*A,16*b,256*P,256*$)}function Ny(u,n,i){u.emplaceBack(n,i)}function $0(u,n,i,d,g,h,v){u.emplaceBack(n,i,d,g,h,v)}function A0(u,n,i,d,g){u.emplaceBack(n,i,d,g),u.emplaceBack(n,i,d,g),u.emplaceBack(n,i,d,g),u.emplaceBack(n,i,d,g)}function kC(u){for(const n of u.sections)if(mh(n.text))return!0;return!1}class By{constructor(n){this.layoutVertexArray=new Pm,this.indexArray=new lc,this.programConfigurations=n,this.segments=new sl,this.dynamicLayoutVertexArray=new Jd,this.opacityVertexArray=new Rm,this.placedSymbolArray=new t0,this.iconTransitioningVertexArray=new Sd,this.globeExtVertexArray=new Om,this.zOffsetVertexArray=new Df}isEmpty(){return this.layoutVertexArray.length===0&&this.indexArray.length===0&&this.dynamicLayoutVertexArray.length===0&&this.opacityVertexArray.length===0&&this.iconTransitioningVertexArray.length===0}upload(n,i,d,g,h){this.isEmpty()||(d&&(this.layoutVertexBuffer=n.createVertexBuffer(this.layoutVertexArray,gC.members),this.indexBuffer=n.createIndexBuffer(this.indexArray,i),this.dynamicLayoutVertexBuffer=n.createVertexBuffer(this.dynamicLayoutVertexArray,gy.members,!0),this.opacityVertexBuffer=n.createVertexBuffer(this.opacityVertexArray,FC,!0),this.iconTransitioningVertexArray.length>0&&(this.iconTransitioningVertexBuffer=n.createVertexBuffer(this.iconTransitioningVertexArray,Eb.members,!0)),this.globeExtVertexArray.length>0&&(this.globeExtVertexBuffer=n.createVertexBuffer(this.globeExtVertexArray,S0.members,!0)),!this.zOffsetVertexBuffer&&(this.zOffsetVertexArray.length>0||h)&&(this.zOffsetVertexBuffer=n.createVertexBuffer(this.zOffsetVertexArray,vy.members,!0)),this.opacityVertexBuffer.itemSize=1),(d||g)&&this.programConfigurations.upload(n))}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy(),this.iconTransitioningVertexBuffer&&this.iconTransitioningVertexBuffer.destroy(),this.globeExtVertexBuffer&&this.globeExtVertexBuffer.destroy(),this.zOffsetVertexBuffer&&this.zOffsetVertexBuffer.destroy())}}Eo(By,"SymbolBuffers");class Fy{constructor(n,i,d){this.layoutVertexArray=new n,this.layoutAttributes=i,this.indexArray=new d,this.segments=new sl,this.collisionVertexArray=new Am,this.collisionVertexArrayExt=new Jd}upload(n){this.layoutVertexBuffer=n.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=n.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=n.createVertexBuffer(this.collisionVertexArray,vC.members,!0),this.collisionVertexBufferExt=n.createVertexBuffer(this.collisionVertexArrayExt,yC.members,!0)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy(),this.collisionVertexBufferExt.destroy())}}Eo(Fy,"CollisionBuffers");class D0{constructor(n){this.collisionBoxArray=n.collisionBoxArray,this.zoom=n.zoom,this.lut=n.lut,this.overscaling=n.overscaling,this.layers=n.layers,this.layerIds=this.layers.map(v=>v.fqid),this.index=n.index,this.pixelRatio=n.pixelRatio,this.sourceLayerIndex=n.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.fullyClipped=!1,this.hasAnyIconTextFit=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=Ae.mat4.identity([]),this.placementViewportMatrix=Ae.mat4.identity([]);const i=this.layers[0]._unevaluatedLayout._values;this.textSizeData=_y(this.zoom,i["text-size"]),this.iconSizeData=_y(this.zoom,i["icon-size"]);const d=this.layers[0].layout,g=d.get("symbol-sort-key"),h=d.get("symbol-z-order");this.canOverlap=d.get("text-allow-overlap")||d.get("icon-allow-overlap")||d.get("text-ignore-placement")||d.get("icon-ignore-placement"),this.sortFeaturesByKey=h!=="viewport-y"&&g.constantOr(1)!==void 0,this.sortFeaturesByY=(h==="viewport-y"||h==="auto"&&!this.sortFeaturesByKey)&&this.canOverlap,this.writingModes=d.get("text-writing-mode").map(v=>yu[v]),this.stateDependentLayerIds=this.layers.filter(v=>v.isStateDependent()).map(v=>v.id),this.sourceID=n.sourceID,this.projection=n.projection,this.hasAnyZOffset=!1,this.zOffsetSortDirty=!1,this.zOffsetBuffersNeedUpload=d.get("symbol-z-elevate"),this.activeReplacements=[],this.replacementUpdateTime=0}createArrays(){this.text=new By(new Td(this.layers,{zoom:this.zoom,lut:this.lut},n=>n.startsWith("text")||n.startsWith("symbol"))),this.icon=new By(new Td(this.layers,{zoom:this.zoom,lut:this.lut},n=>n.startsWith("icon")||n.startsWith("symbol"))),this.glyphOffsetArray=new Fm,this.lineVertexArray=new ef,this.symbolInstances=new Eh}calculateGlyphDependencies(n,i,d,g,h){for(const v of n){const S=v.codePointAt(0);if(S===void 0)break;if(i[S]=!0,g&&h&&S<=65535){const M=ag[v];M&&(i[M.charCodeAt(0)]=!0)}}}updateFootprints(n,i){}updateReplacement(n,i){if(i.updateTime===this.replacementUpdateTime)return!1;this.replacementUpdateTime=i.updateTime;const d=i.getReplacementRegionsForTile(n.toUnwrapped(),!0);return!ey(this.activeReplacements,d)&&(this.activeReplacements=d,!0)}populate(n,i,d,g){const h=this.layers[0],v=h.layout,S=this.projection.name==="globe",M=v.get("text-font"),A=v.get("text-field"),b=v.get("icon-image"),[P,$]=v.get("icon-size-scale-range"),T=Hn(i.scaleFactor||1,P,$),O=(A.value.kind!=="constant"||A.value.value instanceof Nr&&!A.value.value.isEmpty()||A.value.value.toString().length>0)&&(M.value.kind!=="constant"||M.value.value.length>0),N=b.value.kind!=="constant"||!!b.value.value||Object.keys(b.parameters).length>0,W=v.get("symbol-sort-key");if(this.features=[],!O&&!N)return;const J=i.iconDependencies,se=i.glyphDependencies,ue=i.availableImages,re=new Us(this.zoom);for(const{feature:ve,id:we,index:Be,sourceLayerIndex:mt}of n){const pt=h._featureFilter.needGeometry,ft=Q(ve,pt);if(!h._featureFilter.filter(re,ft,d))continue;if(pt||(ft.geometry=U(ve,d,g)),S&&ve.type!==1&&d.z<=5){const fn=ft.geometry,xn=.98078528056,Bn=(Yn,$n)=>{const $r=As(Yn.x,Yn.y,d,1),fi=As($n.x,$n.y,d,1);return Ae.vec3.dot($r,fi)<xn};for(let Yn=0;Yn<fn.length;Yn++)fn[Yn]=E(fn[Yn],Bn)}let Yt,yt;if(O){const fn=h.getValueAndResolveTokens("text-field",ft,d,ue),xn=Nr.factory(fn);kC(xn)&&(this.hasRTLText=!0),(!this.hasRTLText||vh()==="unavailable"||this.hasRTLText&&Gc.isParsed())&&(Yt=E0(xn,h,ft))}if(N){const fn=h.getValueAndResolveTokens("icon-image",ft,d,ue);yt=fn instanceof _i?fn:_i.build(fn)}if(!Yt&&!yt)continue;const en=this.sortFeaturesByKey?W.evaluate(ft,{},d):void 0,yn={id:we,text:Yt,icon:yt,index:Be,sourceLayerIndex:mt,geometry:ft.geometry,properties:ve.properties,type:BC[ve.type],sortKey:en};if(this.features.push(yn),yt){const fn=yy(this.iconSizeData,this.layers[0]._unevaluatedLayout._values["icon-size"],d,this.zoom,yn)*T*this.pixelRatio,xn=yt.getPrimary().scaleSelf(fn);if(J[xn.id]=J[xn.id]||[],J[xn.id].push(xn),yt.nameSecondary){const Bn=yt.getSecondary().scaleSelf(fn);J[Bn.id]=J[Bn.id]||[],J[Bn.id].push(Bn)}}if(Yt){const fn=M.evaluate(ft,{},d).join(","),xn=v.get("text-rotation-alignment")==="map"&&v.get("symbol-placement")!=="point";this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(yu.vertical)>=0;for(const Bn of Yt.sections)if(Bn.image){const Yn=Bn.image.getPrimary().scaleSelf(this.pixelRatio);J[Yn.id]=J[Yn.id]||[],J[Yn.id].push(Yn)}else{const Yn=xm(Yt.toString()),$n=Bn.fontStack||fn,$r=se[$n]=se[$n]||{};this.calculateGlyphDependencies(Bn.text,$r,xn,this.allowVerticalPlacement,Yn)}}}v.get("symbol-placement")==="line"&&(this.features=function(ve){const we={},Be={},mt=[];let pt=0;function ft(yn){mt.push(ve[yn]),pt++}function Yt(yn,fn,xn){const Bn=Be[yn];return delete Be[yn],Be[fn]=Bn,mt[Bn].geometry[0].pop(),mt[Bn].geometry[0]=mt[Bn].geometry[0].concat(xn[0]),Bn}function yt(yn,fn,xn){const Bn=we[fn];return delete we[fn],we[yn]=Bn,mt[Bn].geometry[0].shift(),mt[Bn].geometry[0]=xn[0].concat(mt[Bn].geometry[0]),Bn}function en(yn,fn,xn){const Bn=xn?fn[0][fn[0].length-1]:fn[0][0];return`${yn}:${Bn.x}:${Bn.y}`}for(let yn=0;yn<ve.length;yn++){const fn=ve[yn],xn=fn.geometry,Bn=fn.text?fn.text.toString():null;if(!Bn){ft(yn);continue}const Yn=en(Bn,xn),$n=en(Bn,xn,!0);if(Yn in Be&&$n in we&&Be[Yn]!==we[$n]){const $r=yt(Yn,$n,xn),fi=Yt(Yn,$n,mt[$r].geometry);delete we[Yn],delete Be[$n],Be[en(Bn,mt[fi].geometry,!0)]=fi,mt[$r].geometry=null}else Yn in Be?Yt(Yn,$n,xn):$n in we?yt(Yn,$n,xn):(ft(yn),we[Yn]=pt-1,Be[$n]=pt-1)}return mt.filter(yn=>yn.geometry)}(this.features)),this.sortFeaturesByKey&&this.features.sort((ve,we)=>ve.sortKey-we.sortKey)}update(n,i,d,g,h,v,S){this.text.programConfigurations.updatePaintArrays(n,i,h,d,g,v,S),this.icon.programConfigurations.updatePaintArrays(n,i,h,d,g,v,S)}updateZOffset(){const n=(h,v,S)=>{d+=v,d>h.length&&h.resize(d);for(let M=-v;M<0;M++)h.emplace(M+d,S)},i=(h,v,S)=>{g+=v,g>h.length&&h.resize(g);for(let M=-v;M<0;M++)h.emplace(M+g,S)};if(!this.zOffsetBuffersNeedUpload)return;this.zOffsetBuffersNeedUpload=!1;let d=0,g=0;for(let h=0;h<this.symbolInstances.length;h++){const v=this.symbolInstances.get(h),{numHorizontalGlyphVertices:S,numVerticalGlyphVertices:M,numIconVertices:A}=v,b=v.zOffset,P=A>0;if((S>0||M>0)&&(n(this.text.zOffsetVertexArray,S,b),n(this.text.zOffsetVertexArray,M,b)),P){const{placedIconSymbolIndex:$,verticalPlacedIconSymbolIndex:T}=v;$>=0&&i(this.icon.zOffsetVertexArray,A,b),T>=0&&i(this.icon.zOffsetVertexArray,v.numVerticalIconVertices,b)}}this.text.zOffsetVertexBuffer&&this.text.zOffsetVertexBuffer.updateData(this.text.zOffsetVertexArray),this.icon.zOffsetVertexBuffer&&this.icon.zOffsetVertexBuffer.updateData(this.icon.zOffsetVertexArray)}isEmpty(){return this.symbolInstances.length===0&&!this.hasRTLText}uploadPending(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload}upload(n){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(n),this.iconCollisionBox.upload(n)),this.text.upload(n,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload,this.zOffsetBuffersNeedUpload),this.icon.upload(n,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload,this.zOffsetBuffersNeedUpload),this.uploaded=!0}destroyDebugData(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()}getProjection(){return this.projectionInstance||(this.projectionInstance=e1(this.projection)),this.projectionInstance}destroy(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()}addToLineVertexArray(n,i){const d=this.lineVertexArray.length;if(n.segment!==void 0)for(const{x:g,y:h}of i)this.lineVertexArray.emplaceBack(g,h);return{lineStartIndex:d,lineLength:this.lineVertexArray.length-d}}addSymbols(n,i,d,g,h,v,S,M,A,b,P,$,T,O,N,W){const J=n.indexArray,se=n.layoutVertexArray,ue=n.globeExtVertexArray,re=n.segments.prepareSegment(4*i.length,se,J,this.canOverlap?v.sortKey:void 0),ve=this.glyphOffsetArray.length,we=re.vertexLength,Be=this.allowVerticalPlacement&&S===yu.vertical?Math.PI/2:0,mt=v.text&&v.text.sections;for(let ft=0;ft<i.length;ft++){const{tl:Yt,tr:yt,bl:en,br:yn,texPrimary:fn,texSecondary:xn,pixelOffsetTL:Bn,pixelOffsetBR:Yn,minFontScaleX:$n,minFontScaleY:$r,glyphOffset:fi,isSDF:Dr,sectionIndex:Qi}=i[ft],Hi=re.vertexLength,Ii=fi[1];if(R0(se,A.x,A.y,Yt.x,Ii+Yt.y,fn.x,fn.y,d,Dr,Bn.x,Bn.y,$n,$r),R0(se,A.x,A.y,yt.x,Ii+yt.y,fn.x+fn.w,fn.y,d,Dr,Yn.x,Bn.y,$n,$r),R0(se,A.x,A.y,en.x,Ii+en.y,fn.x,fn.y+fn.h,d,Dr,Bn.x,Yn.y,$n,$r),R0(se,A.x,A.y,yn.x,Ii+yn.y,fn.x+fn.w,fn.y+fn.h,d,Dr,Yn.x,Yn.y,$n,$r),M){const{x:gi,y:Ro,z:io}=M.anchor,[yo,ua,ka]=M.up;$0(ue,gi,Ro,io,yo,ua,ka),$0(ue,gi,Ro,io,yo,ua,ka),$0(ue,gi,Ro,io,yo,ua,ka),$0(ue,gi,Ro,io,yo,ua,ka),A0(n.dynamicLayoutVertexArray,gi,Ro,io,Be)}else A0(n.dynamicLayoutVertexArray,A.x,A.y,A.z,Be);if(W){const gi=xn||fn;Ny(n.iconTransitioningVertexArray,gi.x,gi.y),Ny(n.iconTransitioningVertexArray,gi.x+gi.w,gi.y),Ny(n.iconTransitioningVertexArray,gi.x,gi.y+gi.h),Ny(n.iconTransitioningVertexArray,gi.x+gi.w,gi.y+gi.h)}J.emplaceBack(Hi,Hi+1,Hi+2),J.emplaceBack(Hi+1,Hi+2,Hi+3),re.vertexLength+=4,re.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(fi[0]),ft!==i.length-1&&Qi===i[ft+1].sectionIndex||n.programConfigurations.populatePaintArrays(se.length,v,v.index,{},T,O,N,mt&&mt[Qi])}const pt=M?M.anchor:A;n.placedSymbolArray.emplaceBack(pt.x,pt.y,pt.z,A.x,A.y,ve,this.glyphOffsetArray.length-ve,we,b,P,A.segment,d?d[0]:0,d?d[1]:0,g[0],g[1],S,0,!1,0,$,0)}_commitLayoutVertex(n,i,d,g,h,v,S){n.emplaceBack(i,d,g,h,v,Math.round(S.x),Math.round(S.y))}_addCollisionDebugVertices(n,i,d,g,h,v,S){const M=d.segments.prepareSegment(4,d.layoutVertexArray,d.indexArray),A=M.vertexLength,b=S.tileAnchorX,P=S.tileAnchorY;for(let T=0;T<4;T++)d.collisionVertexArray.emplaceBack(0,0,0,0,0,0);this._commitDebugCollisionVertexUpdate(d.collisionVertexArrayExt,i,n.padding,S.zOffset),this._commitLayoutVertex(d.layoutVertexArray,g,h,v,b,P,new On(n.x1,n.y1)),this._commitLayoutVertex(d.layoutVertexArray,g,h,v,b,P,new On(n.x2,n.y1)),this._commitLayoutVertex(d.layoutVertexArray,g,h,v,b,P,new On(n.x2,n.y2)),this._commitLayoutVertex(d.layoutVertexArray,g,h,v,b,P,new On(n.x1,n.y2)),M.vertexLength+=4;const $=d.indexArray;$.emplaceBack(A,A+1),$.emplaceBack(A+1,A+2),$.emplaceBack(A+2,A+3),$.emplaceBack(A+3,A),M.primitiveLength+=4}_addTextDebugCollisionBoxes(n,i,d,g,h,v){for(let S=g;S<h;S++){const M=d.get(S),A=this.getSymbolInstanceTextSize(n,v,i,S);this._addCollisionDebugVertices(M,A,this.textCollisionBox,M.projectedAnchorX,M.projectedAnchorY,M.projectedAnchorZ,v)}}_addIconDebugCollisionBoxes(n,i,d,g,h,v){for(let S=g;S<h;S++){const M=d.get(S),A=this.getSymbolInstanceIconSize(n,i,v.placedIconSymbolIndex);this._addCollisionDebugVertices(M,A,this.iconCollisionBox,M.projectedAnchorX,M.projectedAnchorY,M.projectedAnchorZ,v)}}generateCollisionDebugBuffers(n,i,d){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new Fy(qu,Ib.members,Sd),this.iconCollisionBox=new Fy(qu,Ib.members,Sd);const g=Fp(this.iconSizeData,n),h=Fp(this.textSizeData,n,d);for(let v=0;v<this.symbolInstances.length;v++){const S=this.symbolInstances.get(v);this._addTextDebugCollisionBoxes(h,n,i,S.textBoxStartIndex,S.textBoxEndIndex,S),this._addTextDebugCollisionBoxes(h,n,i,S.verticalTextBoxStartIndex,S.verticalTextBoxEndIndex,S),this._addIconDebugCollisionBoxes(g,n,i,S.iconBoxStartIndex,S.iconBoxEndIndex,S),this._addIconDebugCollisionBoxes(g,n,i,S.verticalIconBoxStartIndex,S.verticalIconBoxEndIndex,S)}}getSymbolInstanceTextSize(n,i,d,g){const h=this.text.placedSymbolArray.get(i.rightJustifiedTextSymbolIndex>=0?i.rightJustifiedTextSymbolIndex:i.centerJustifiedTextSymbolIndex>=0?i.centerJustifiedTextSymbolIndex:i.leftJustifiedTextSymbolIndex>=0?i.leftJustifiedTextSymbolIndex:i.verticalPlacedTextSymbolIndex>=0?i.verticalPlacedTextSymbolIndex:g),v=w0(this.textSizeData,n,h)/uc;return this.tilePixelRatio*v}getSymbolInstanceIconSize(n,i,d){const g=this.icon.placedSymbolArray.get(d),h=w0(this.iconSizeData,n,g);return this.tilePixelRatio*h}_commitDebugCollisionVertexUpdate(n,i,d,g){n.emplaceBack(i,-d,-d,g),n.emplaceBack(i,d,-d,g),n.emplaceBack(i,d,d,g),n.emplaceBack(i,-d,d,g)}_updateTextDebugCollisionBoxes(n,i,d,g,h,v,S){for(let M=g;M<h;M++){const A=d.get(M),b=this.getSymbolInstanceTextSize(n,v,i,M);this._commitDebugCollisionVertexUpdate(this.textCollisionBox.collisionVertexArrayExt,b,A.padding,v.zOffset)}}_updateIconDebugCollisionBoxes(n,i,d,g,h,v,S){for(let M=g;M<h;M++){const A=d.get(M),b=this.getSymbolInstanceIconSize(n,i,v.placedIconSymbolIndex);this._commitDebugCollisionVertexUpdate(this.iconCollisionBox.collisionVertexArrayExt,b,A.padding,v.zOffset)}}updateCollisionDebugBuffers(n,i,d,g){if(!this.hasDebugData())return;this.hasTextCollisionBoxData()&&this.textCollisionBox.collisionVertexArrayExt.clear(),this.hasIconCollisionBoxData()&&this.iconCollisionBox.collisionVertexArrayExt.clear();const h=Fp(this.iconSizeData,n,g),v=Fp(this.textSizeData,n,d);for(let S=0;S<this.symbolInstances.length;S++){const M=this.symbolInstances.get(S);this._updateTextDebugCollisionBoxes(v,n,i,M.textBoxStartIndex,M.textBoxEndIndex,M,d),this._updateTextDebugCollisionBoxes(v,n,i,M.verticalTextBoxStartIndex,M.verticalTextBoxEndIndex,M,d),this._updateIconDebugCollisionBoxes(h,n,i,M.iconBoxStartIndex,M.iconBoxEndIndex,M,g),this._updateIconDebugCollisionBoxes(h,n,i,M.verticalIconBoxStartIndex,M.verticalIconBoxEndIndex,M,g)}this.hasTextCollisionBoxData()&&this.textCollisionBox.collisionVertexBufferExt&&this.textCollisionBox.collisionVertexBufferExt.updateData(this.textCollisionBox.collisionVertexArrayExt),this.hasIconCollisionBoxData()&&this.iconCollisionBox.collisionVertexBufferExt&&this.iconCollisionBox.collisionVertexBufferExt.updateData(this.iconCollisionBox.collisionVertexArrayExt)}_deserializeCollisionBoxesForSymbol(n,i,d,g,h,v,S,M,A){const b={};if(i<d){const{x1:P,y1:$,x2:T,y2:O,padding:N,projectedAnchorX:W,projectedAnchorY:J,projectedAnchorZ:se,tileAnchorX:ue,tileAnchorY:re,featureIndex:ve}=n.get(i);b.textBox={x1:P,y1:$,x2:T,y2:O,padding:N,projectedAnchorX:W,projectedAnchorY:J,projectedAnchorZ:se,tileAnchorX:ue,tileAnchorY:re},b.textFeatureIndex=ve}if(g<h){const{x1:P,y1:$,x2:T,y2:O,padding:N,projectedAnchorX:W,projectedAnchorY:J,projectedAnchorZ:se,tileAnchorX:ue,tileAnchorY:re,featureIndex:ve}=n.get(g);b.verticalTextBox={x1:P,y1:$,x2:T,y2:O,padding:N,projectedAnchorX:W,projectedAnchorY:J,projectedAnchorZ:se,tileAnchorX:ue,tileAnchorY:re},b.verticalTextFeatureIndex=ve}if(v<S){const{x1:P,y1:$,x2:T,y2:O,padding:N,projectedAnchorX:W,projectedAnchorY:J,projectedAnchorZ:se,tileAnchorX:ue,tileAnchorY:re,featureIndex:ve}=n.get(v);b.iconBox={x1:P,y1:$,x2:T,y2:O,padding:N,projectedAnchorX:W,projectedAnchorY:J,projectedAnchorZ:se,tileAnchorX:ue,tileAnchorY:re},b.iconFeatureIndex=ve}if(M<A){const{x1:P,y1:$,x2:T,y2:O,padding:N,projectedAnchorX:W,projectedAnchorY:J,projectedAnchorZ:se,tileAnchorX:ue,tileAnchorY:re,featureIndex:ve}=n.get(M);b.verticalIconBox={x1:P,y1:$,x2:T,y2:O,padding:N,projectedAnchorX:W,projectedAnchorY:J,projectedAnchorZ:se,tileAnchorX:ue,tileAnchorY:re},b.verticalIconFeatureIndex=ve}return b}deserializeCollisionBoxes(n){this.collisionArrays=[];for(let i=0;i<this.symbolInstances.length;i++){const d=this.symbolInstances.get(i);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(n,d.textBoxStartIndex,d.textBoxEndIndex,d.verticalTextBoxStartIndex,d.verticalTextBoxEndIndex,d.iconBoxStartIndex,d.iconBoxEndIndex,d.verticalIconBoxStartIndex,d.verticalIconBoxEndIndex))}}hasTextData(){return this.text.segments.get().length>0}hasIconData(){return this.icon.segments.get().length>0}hasDebugData(){return this.textCollisionBox&&this.iconCollisionBox}hasTextCollisionBoxData(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0}hasIconCollisionBoxData(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0}hasIconTextFit(){return this.hasAnyIconTextFit}addIndicesForPlacedSymbol(n,i){const d=n.placedSymbolArray.get(i),g=d.vertexStartIndex+4*d.numGlyphs;for(let h=d.vertexStartIndex;h<g;h+=4)n.indexArray.emplaceBack(h,h+1,h+2),n.indexArray.emplaceBack(h+1,h+2,h+3)}getSortedSymbolIndexes(n){if(this.sortedAngle===n&&this.symbolInstanceIndexes!==void 0)return this.symbolInstanceIndexes;const i=Math.sin(n),d=Math.cos(n),g=[],h=[],v=[];for(let S=0;S<this.symbolInstances.length;++S){v.push(S);const M=this.symbolInstances.get(S);g.push(0|Math.round(i*M.tileAnchorX+d*M.tileAnchorY)),h.push(M.featureIndex)}return v.sort((S,M)=>g[S]-g[M]||h[M]-h[S]),v}getSortedIndexesByZOffset(){if(!this.zOffsetSortDirty)return this.symbolInstanceIndexesSortedZOffset;if(!this.symbolInstanceIndexesSortedZOffset){this.symbolInstanceIndexesSortedZOffset=[];for(let n=0;n<this.symbolInstances.length;++n)this.symbolInstanceIndexesSortedZOffset.push(n)}return this.zOffsetSortDirty=!1,this.symbolInstanceIndexesSortedZOffset.sort((n,i)=>this.symbolInstances.get(i).zOffset-this.symbolInstances.get(n).zOffset)}addToSortKeyRanges(n,i){const d=this.sortKeyRanges[this.sortKeyRanges.length-1];d&&d.sortKey===i?d.symbolInstanceEnd=n+1:this.sortKeyRanges.push({sortKey:i,symbolInstanceStart:n,symbolInstanceEnd:n+1})}sortFeatures(n){if(this.sortFeaturesByY&&this.sortedAngle!==n&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(n),this.sortedAngle=n,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(const i of this.symbolInstanceIndexes){const d=this.symbolInstances.get(i);this.featureSortOrder.push(d.featureIndex);const{rightJustifiedTextSymbolIndex:g,centerJustifiedTextSymbolIndex:h,leftJustifiedTextSymbolIndex:v,verticalPlacedTextSymbolIndex:S,placedIconSymbolIndex:M,verticalPlacedIconSymbolIndex:A}=d;g>=0&&this.addIndicesForPlacedSymbol(this.text,g),h>=0&&h!==g&&this.addIndicesForPlacedSymbol(this.text,h),v>=0&&v!==h&&v!==g&&this.addIndicesForPlacedSymbol(this.text,v),S>=0&&this.addIndicesForPlacedSymbol(this.text,S),M>=0&&this.addIndicesForPlacedSymbol(this.icon,M),A>=0&&this.addIndicesForPlacedSymbol(this.icon,A)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}}}let t1,n1,ky;Eo(D0,"SymbolBucket",{omit:["layers","collisionBoxArray","features","compareText"]}),D0.addDynamicAttributes=A0;class r1{constructor(n){this.type=n.property.overrides?n.property.overrides.runtimeType:_o,this.defaultValue=n}evaluate(n){if(n.formattedSection){const i=this.defaultValue.property.overrides;if(i&&i.hasOverride(n.formattedSection))return i.getOverride(n.formattedSection)}return n.feature&&n.featureState?this.defaultValue.evaluate(n.feature,n.featureState):this.defaultValue.property.specification.default}eachChild(n){this.defaultValue.isConstant()||n(this.defaultValue.value._styleExpression.expression)}outputDefined(){return!1}serialize(){return null}}Eo(r1,"FormatSectionOverride",{omit:["defaultValue"]});const i1=()=>ky||(ky={layout:t1||(t1=new al({"symbol-placement":new Oi(er.layout_symbol["symbol-placement"]),"symbol-spacing":new Oi(er.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new Oi(er.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new po(er.layout_symbol["symbol-sort-key"]),"symbol-z-order":new Oi(er.layout_symbol["symbol-z-order"]),"symbol-z-elevate":new Oi(er.layout_symbol["symbol-z-elevate"]),"symbol-elevation-reference":new Oi(er.layout_symbol["symbol-elevation-reference"]),"icon-allow-overlap":new Oi(er.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new Oi(er.layout_symbol["icon-ignore-placement"]),"icon-optional":new Oi(er.layout_symbol["icon-optional"]),"icon-rotation-alignment":new Oi(er.layout_symbol["icon-rotation-alignment"]),"icon-size":new po(er.layout_symbol["icon-size"]),"icon-size-scale-range":new Oi(er.layout_symbol["icon-size-scale-range"]),"icon-text-fit":new po(er.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new po(er.layout_symbol["icon-text-fit-padding"]),"icon-image":new po(er.layout_symbol["icon-image"]),"icon-rotate":new po(er.layout_symbol["icon-rotate"]),"icon-padding":new Oi(er.layout_symbol["icon-padding"]),"icon-keep-upright":new Oi(er.layout_symbol["icon-keep-upright"]),"icon-offset":new po(er.layout_symbol["icon-offset"]),"icon-anchor":new po(er.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new Oi(er.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new Oi(er.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new Oi(er.layout_symbol["text-rotation-alignment"]),"text-field":new po(er.layout_symbol["text-field"]),"text-font":new po(er.layout_symbol["text-font"]),"text-size":new po(er.layout_symbol["text-size"]),"text-size-scale-range":new Oi(er.layout_symbol["text-size-scale-range"]),"text-max-width":new po(er.layout_symbol["text-max-width"]),"text-line-height":new po(er.layout_symbol["text-line-height"]),"text-letter-spacing":new po(er.layout_symbol["text-letter-spacing"]),"text-justify":new po(er.layout_symbol["text-justify"]),"text-radial-offset":new po(er.layout_symbol["text-radial-offset"]),"text-variable-anchor":new Oi(er.layout_symbol["text-variable-anchor"]),"text-anchor":new po(er.layout_symbol["text-anchor"]),"text-max-angle":new Oi(er.layout_symbol["text-max-angle"]),"text-writing-mode":new Oi(er.layout_symbol["text-writing-mode"]),"text-rotate":new po(er.layout_symbol["text-rotate"]),"text-padding":new Oi(er.layout_symbol["text-padding"]),"text-keep-upright":new Oi(er.layout_symbol["text-keep-upright"]),"text-transform":new po(er.layout_symbol["text-transform"]),"text-offset":new po(er.layout_symbol["text-offset"]),"text-allow-overlap":new Oi(er.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new Oi(er.layout_symbol["text-ignore-placement"]),"text-optional":new Oi(er.layout_symbol["text-optional"]),visibility:new Oi(er.layout_symbol.visibility)})),paint:n1||(n1=new al({"icon-opacity":new po(er.paint_symbol["icon-opacity"]),"icon-occlusion-opacity":new po(er.paint_symbol["icon-occlusion-opacity"]),"icon-emissive-strength":new po(er.paint_symbol["icon-emissive-strength"]),"text-emissive-strength":new po(er.paint_symbol["text-emissive-strength"]),"icon-color":new po(er.paint_symbol["icon-color"]),"icon-halo-color":new po(er.paint_symbol["icon-halo-color"]),"icon-halo-width":new po(er.paint_symbol["icon-halo-width"]),"icon-halo-blur":new po(er.paint_symbol["icon-halo-blur"]),"icon-translate":new Oi(er.paint_symbol["icon-translate"]),"icon-translate-anchor":new Oi(er.paint_symbol["icon-translate-anchor"]),"icon-image-cross-fade":new po(er.paint_symbol["icon-image-cross-fade"]),"text-opacity":new po(er.paint_symbol["text-opacity"]),"text-occlusion-opacity":new po(er.paint_symbol["text-occlusion-opacity"]),"text-color":new po(er.paint_symbol["text-color"],{runtimeType:Si,getOverride:u=>u.textColor,hasOverride:u=>!!u.textColor}),"text-halo-color":new po(er.paint_symbol["text-halo-color"]),"text-halo-width":new po(er.paint_symbol["text-halo-width"]),"text-halo-blur":new po(er.paint_symbol["text-halo-blur"]),"text-translate":new Oi(er.paint_symbol["text-translate"]),"text-translate-anchor":new Oi(er.paint_symbol["text-translate-anchor"]),"icon-color-saturation":new Oi(er.paint_symbol["icon-color-saturation"]),"icon-color-contrast":new Oi(er.paint_symbol["icon-color-contrast"]),"icon-color-brightness-min":new Oi(er.paint_symbol["icon-color-brightness-min"]),"icon-color-brightness-max":new Oi(er.paint_symbol["icon-color-brightness-max"]),"symbol-z-offset":new po(er.paint_symbol["symbol-z-offset"]),"icon-color-use-theme":new po({type:"string",default:"default","property-type":"data-driven"}),"icon-halo-color-use-theme":new po({type:"string",default:"default","property-type":"data-driven"}),"text-color-use-theme":new po({type:"string",default:"default","property-type":"data-driven"}),"text-halo-color-use-theme":new po({type:"string",default:"default","property-type":"data-driven"})}))},ky);class L0 extends ic{constructor(n,i,d,g){super(n,i1(),i,d,g),this._colorAdjustmentMatrix=Ae.mat4.identity([]),this.hasInitialOcclusionOpacityProperties=n.paint!==void 0&&("icon-occlusion-opacity"in n.paint||"text-occlusion-opacity"in n.paint)}recalculate(n,i){super.recalculate(n,i),this.layout.get("icon-rotation-alignment")==="auto"&&(this.layout._values["icon-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-rotation-alignment")==="auto"&&(this.layout._values["text-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-pitch-alignment")==="auto"&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),this.layout.get("icon-pitch-alignment")==="auto"&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment"));const d=this.layout.get("text-writing-mode");if(d){const g=[];for(const h of d)g.indexOf(h)<0&&g.push(h);this.layout._values["text-writing-mode"]=g}else this.layout._values["text-writing-mode"]=this.layout.get("symbol-placement")==="point"?["horizontal"]:["horizontal","vertical"];this._setPaintOverrides()}getColorAdjustmentMatrix(n,i,d,g){return this._saturation===n&&this._contrast===i&&this._brightnessMin===d&&this._brightnessMax===g||(this._colorAdjustmentMatrix=function(h,v,S,M){h=br(h),v=dn(v);const A=Ae.mat4.create(),b=h/3,P=1-2*b,$=[P,b,b,0,b,P,b,0,b,b,P,0,0,0,0,1],T=.5-.5*v,O=M-S;return Ae.mat4.multiply(A,[O,0,0,0,0,O,0,0,0,0,O,0,S,S,S,1],[v,0,0,0,0,v,0,0,0,0,v,0,T,T,T,1]),Ae.mat4.multiply(A,A,$),A}(n,i,d,g),this._saturation=n,this._contrast=i,this._brightnessMin=d,this._brightnessMax=g),this._colorAdjustmentMatrix}getValueAndResolveTokens(n,i,d,g){const h=this.layout.get(n).evaluate(i,{},d,g),v=this._unevaluatedLayout._values[n];return v.isDataDriven()||Pf(v.value)||!h?h:function(S,M){return M.replace(/{([^{}]+)}/g,(A,b)=>b in S?String(S[b]):"")}(i.properties,h)}createBucket(n){return new D0(n)}queryRadius(){return 0}queryIntersectsFeature(){return!1}_setPaintOverrides(){for(const n of i1().paint.overridableProperties){if(!L0.hasPaintOverride(this.layout,n))continue;const i=this.paint.get(n),d=new r1(i),g=new Eu(d,i.property.specification,this.scope,this.options);let h=null;h=i.value.kind==="constant"||i.value.kind==="source"?new op("source",g):new ap("composite",g,i.value.zoomStops,i.value._interpolationType),this.paint._values[n]=new Rf(i.property,h,i.parameters)}}_handleOverridablePaintPropertyUpdate(n,i,d){return!(!this.layout||i.isDataDriven()||d.isDataDriven())&&L0.hasPaintOverride(this.layout,n)}static hasPaintOverride(n,i){const d=n.get("text-field"),g=i1().paint.properties[i];let h=!1;const v=S=>{for(const M of S)if(g.overrides&&g.overrides.hasOverride(M))return void(h=!0)};if(d.value.kind==="constant"&&d.value.value instanceof Nr)v(d.value.value.sections);else if(d.value.kind==="source"){const S=A=>{h||(A instanceof li&&Ai(A.value)===Uo?v(A.value.sections):A instanceof la?v(A.sections):A.eachChild(S))},M=d.value;M._styleExpression&&S(M._styleExpression.expression)}return h}getProgramIds(){return["symbol"]}getDefaultProgramParams(n,i,d){return{config:new Id(this,{zoom:i,lut:d}),overrideFog:!1}}}let o1,Zy,jy,a1;var s1=xs([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]);function z0(u){switch(u){case WebGL2RenderingContext.RGBA8:return WebGL2RenderingContext.RGBA;case WebGL2RenderingContext.DEPTH_COMPONENT16:return WebGL2RenderingContext.DEPTH_COMPONENT;case WebGL2RenderingContext.DEPTH24_STENCIL8:return WebGL2RenderingContext.DEPTH_STENCIL;case WebGL2RenderingContext.R8:case WebGL2RenderingContext.R32F:return WebGL2RenderingContext.RED}}function Vy(u){switch(u){case WebGL2RenderingContext.RGBA8:return WebGL2RenderingContext.UNSIGNED_BYTE;case WebGL2RenderingContext.DEPTH_COMPONENT16:return WebGL2RenderingContext.UNSIGNED_SHORT;case WebGL2RenderingContext.DEPTH24_STENCIL8:return WebGL2RenderingContext.UNSIGNED_INT_24_8;case WebGL2RenderingContext.R8:return WebGL2RenderingContext.UNSIGNED_BYTE;case WebGL2RenderingContext.R32F:return WebGL2RenderingContext.FLOAT}}class Hy{constructor(n,i,d,g){this.context=n,this.format=d,this.useMipmap=g&&g.useMipmap,this.texture=n.gl.createTexture(),this.update(i,{premultiply:g&&g.premultiply})}update(n,i){const d=n&&n instanceof HTMLVideoElement&&n.width===0?n.videoWidth:n.width,g=n&&n instanceof HTMLVideoElement&&n.height===0?n.videoHeight:n.height,{context:h}=this,{gl:v}=h,{x:S,y:M}=i&&i.position?i.position:{x:0,y:0},A=S+d,b=M+g;!this.size||this.size[0]===A&&this.size[1]===b||(v.bindTexture(v.TEXTURE_2D,null),v.deleteTexture(this.texture),this.texture=v.createTexture(),this.size=null),v.bindTexture(v.TEXTURE_2D,this.texture),h.pixelStoreUnpackFlipY.set(!1),h.pixelStoreUnpack.set(1),h.pixelStoreUnpackPremultiplyAlpha.set(this.format===v.RGBA8&&(!i||i.premultiply!==!1));const P=n instanceof HTMLImageElement||n instanceof HTMLCanvasElement||n instanceof HTMLVideoElement||n instanceof ImageData||ImageBitmap&&n instanceof ImageBitmap;if(!this.size&&A>0&&b>0){const $=this.useMipmap?Math.floor(Math.log2(Math.max(A,b)))+1:1;v.texStorage2D(v.TEXTURE_2D,$,this.format,A,b),this.size=[A,b]}if(this.size)if(P)v.texSubImage2D(v.TEXTURE_2D,0,S,M,z0(this.format),Vy(this.format),n);else{const $=n.data;$&&v.texSubImage2D(v.TEXTURE_2D,0,S,M,d,g,z0(this.format),Vy(this.format),$)}this.useMipmap&&v.generateMipmap(v.TEXTURE_2D)}bind(n,i,d=!1){const{context:g}=this,{gl:h}=g;h.bindTexture(h.TEXTURE_2D,this.texture),n!==this.minFilter&&(h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MAG_FILTER,n),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MIN_FILTER,this.useMipmap&&!d?n===h.NEAREST?h.NEAREST_MIPMAP_NEAREST:h.LINEAR_MIPMAP_LINEAR:n),this.minFilter=n),i!==this.wrapS&&(h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_S,i),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_T,i),this.wrapS=i)}bindExtraParam(n,i,d,g){const{context:h}=this,{gl:v}=h;v.bindTexture(v.TEXTURE_2D,this.texture),i!==this.magFilter&&(v.texParameteri(v.TEXTURE_2D,v.TEXTURE_MAG_FILTER,i),this.magFilter=i),n!==this.minFilter&&(v.texParameteri(v.TEXTURE_2D,v.TEXTURE_MIN_FILTER,this.useMipmap?n===v.NEAREST?v.NEAREST_MIPMAP_NEAREST:v.LINEAR_MIPMAP_LINEAR:n),this.minFilter=n),d!==this.wrapS&&(v.texParameteri(v.TEXTURE_2D,v.TEXTURE_WRAP_S,d),this.wrapS=d),g!==this.wrapT&&(v.texParameteri(v.TEXTURE_2D,v.TEXTURE_WRAP_T,g),this.wrapT=g)}destroy(){const{gl:n}=this.context;n.deleteTexture(this.texture),this.texture=null}}class N0{constructor(n,i){this.context=n,this.texture=i}bind(n,i){const{context:d}=this,{gl:g}=d;g.bindTexture(g.TEXTURE_2D,this.texture),n!==this.minFilter&&(g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MAG_FILTER,n),g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MIN_FILTER,n),this.minFilter=n),i!==this.wrapS&&(g.texParameteri(g.TEXTURE_2D,g.TEXTURE_WRAP_S,i),g.texParameteri(g.TEXTURE_2D,g.TEXTURE_WRAP_T,i),this.wrapS=i)}}function B0(u,n,i,d,g,h,v,S){const M=[u,n,1,i,d,1,g,h,1],A=[v,S,1],b=Ae.mat3.adjoint([],M),[P,$,T]=Ae.vec3.transformMat3(A,A,b);return Ae.mat3.multiply(M,M,[P,0,0,0,$,0,0,0,T])}function l1(u,n,i,d,g,h,v,S){const M=function(A,b,P,$,T,O,N,W){const J=B0(0,0,1,0,1,1,0,1),se=B0(A,b,P,$,T,O,N,W),ue=Ae.mat3.adjoint([],J);return Ae.mat3.multiply(se,se,ue)}(u,n,i,d,g,h,v,S);return[M[2]/M[8]/ji,M[5]/M[8]/ji]}function F0(u){return[u[0],Math.min(Math.max(u[1],-_l),_l)]}class c1 extends ho{constructor(n,i,d,g){super(),this.id=n,this.dispatcher=d,this.coordinates=i.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.onNorthPole=!1,this.onSouthPole=!1,this.setEventedParent(g),this.options=i,this._dirty=!1}load(n,i){if(this._loaded=i||!1,this.fire(new To("dataloading",{dataType:"source"})),this.url=this.options.url,!this.url)return n&&(this.coordinates=n),this._loaded=!0,void this._finishLoading();this._imageRequest=Pi(this.map._requestManager.transformRequest(this.url,hi.Image),(d,g)=>{this._imageRequest=null,this._loaded=!0,d?this.fire(new $o(d)):g&&(this.image=g instanceof HTMLImageElement?pe.getImageData(g):g,this._dirty=!0,this.width=this.image.width,this.height=this.image.height,n&&(this.coordinates=n),this._finishLoading())})}loaded(){return this._loaded}updateImage(n){return n.url?(this._imageRequest&&n.url!==this.options.url&&(this._imageRequest.cancel(),this._imageRequest=null),this.options.url=n.url,this.load(n.coordinates,this._loaded),this):this}setTexture(n){if(!(n.handle instanceof WebGLTexture))throw new Error("The provided handle is not a WebGLTexture instance");return this.texture=new N0(this.map.painter.context,n.handle),this.width=n.dimensions[0],this.height=n.dimensions[1],this._dirty=!1,this._loaded=!0,this._finishLoading(),this}_finishLoading(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new To("data",{dataType:"source",sourceDataType:"metadata"})))}onAdd(n){this.map=n,this.load()}onRemove(n){this._imageRequest&&(this._imageRequest.cancel(),this._imageRequest=null),!this.texture||this.texture instanceof N0||this.texture.destroy(),this.boundsBuffer&&(this.boundsBuffer.destroy(),this.elevatedGlobeVertexBuffer&&this.elevatedGlobeVertexBuffer.destroy(),this.elevatedGlobeIndexBuffer&&this.elevatedGlobeIndexBuffer.destroy())}setCoordinates(n){if(this.coordinates=n,this._boundsArray=void 0,this._unsupportedCoords=!1,!n.length)return this;this.onNorthPole=!1,this.onSouthPole=!1;let i=n[0][1],d=n[0][1];for(const h of n)h[1]>d&&(d=h[1]),h[1]<i&&(i=h[1]);const g=(d+i)/2;if(g>_l?this.onNorthPole=!0:g<-_l&&(this.onSouthPole=!0),!this.onNorthPole&&!this.onSouthPole){const h=n.map(l.fromLngLat);this.tileID=function(v){let S=1/0,M=1/0,A=-1/0,b=-1/0;for(const N of v)S=Math.min(S,N.x),M=Math.min(M,N.y),A=Math.max(A,N.x),b=Math.max(b,N.y);const P=Math.max(A-S,b-M),$=Math.max(0,Math.floor(-Math.log(P)/Math.LN2)),T=Math.pow(2,$);let O=Math.floor((S+A)/2*T);return O>1&&(O-=1),new qr($,O,Math.floor((M+b)/2*T))}(h),this.minzoom=this.maxzoom=this.tileID.z}return this.fire(new To("data",{dataType:"source",sourceDataType:"content"})),this}_clear(){this._boundsArray=void 0,this._unsupportedCoords=!1}_prepareData(n){for(const J in this.tiles){const se=this.tiles[J];se.state!=="loaded"&&(se.state="loaded",se.texture=this.texture)}if(this._boundsArray||this.onNorthPole||this.onSouthPole||this._unsupportedCoords)return;const i=pg(new qr(0,0,0),this.map.transform.projection),d=[i.projection.project(this.coordinates[0][0],this.coordinates[0][1]),i.projection.project(this.coordinates[1][0],this.coordinates[1][1]),i.projection.project(this.coordinates[2][0],this.coordinates[2][1]),i.projection.project(this.coordinates[3][0],this.coordinates[3][1])];if(!function(J){const se=J[1].x-J[0].x,ue=J[1].y-J[0].y,re=J[2].x-J[1].x,ve=J[2].y-J[1].y,we=J[3].x-J[2].x,Be=J[3].y-J[2].y,mt=J[0].x-J[3].x,pt=J[0].y-J[3].y,ft=se*ve-re*ue,Yt=re*Be-we*ve,yt=we*pt-mt*Be,en=mt*ue-se*pt;return ft>0&&Yt>0&&yt>0&&en>0||ft<0&&Yt<0&&yt<0&&en<0}(d))return console.warn("Image source coordinates are defining non-convex area in the Mercator projection"),void(this._unsupportedCoords=!0);const g=pg(this.tileID,this.map.transform.projection),[h,v,S,M]=this.coordinates.map(J=>{const se=g.projection.project(J[0],J[1]);return Kb(g,se)._round()});this.perspectiveTransform=l1(h.x,h.y,v.x,v.y,S.x,S.y,M.x,M.y);const A=this._boundsArray=new Xu;A.emplaceBack(h.x,h.y,0,0),A.emplaceBack(v.x,v.y,ji,0),A.emplaceBack(M.x,M.y,0,ji),A.emplaceBack(S.x,S.y,ji,ji),this.boundsBuffer&&(this.boundsBuffer.destroy(),this.elevatedGlobeVertexBuffer&&this.elevatedGlobeVertexBuffer.destroy(),this.elevatedGlobeIndexBuffer&&this.elevatedGlobeIndexBuffer.destroy()),this.boundsBuffer=n.createVertexBuffer(A,s1.members),this.boundsSegments=sl.simpleSegment(0,0,4,2);const b=[],P=[F0(($=this.coordinates)[0]),F0($[1]),F0($[2]),F0($[3])];var $;const[T,O,N,W]=function(J){let se=J[0][0],ue=se,re=J[0][1],ve=re;for(let we=1;we<J.length;we++)J[we][0]<se?se=J[we][0]:J[we][0]>ue&&(ue=J[we][0]),J[we][1]<re?re=J[we][1]:J[we][1]>ve&&(ve=J[we][1]);return[se,re,ue-se,ve-re]}(P);{const J=new Xu,[se,ue,re,ve]=function(Bn){let Yn=Bn[0].x,$n=Yn,$r=Bn[0].y,fi=$r;for(let Dr=1;Dr<Bn.length;Dr++)Bn[Dr].x<Yn?Yn=Bn[Dr].x:Bn[Dr].x>$n&&($n=Bn[Dr].x),Bn[Dr].y<$r?$r=Bn[Dr].y:Bn[Dr].y>fi&&(fi=Bn[Dr].y);return[Yn,$r,$n-Yn,fi-$r]}(d),we=Bn=>[(Bn.x-se)/re,(Bn.y-ue)/ve],[Be,mt,pt,ft]=d.map(we),Yt=function(Bn,Yn,$n,$r,fi,Dr,Qi,Hi){const Ii=B0(0,0,1,0,1,1,0,1),gi=B0(Bn,Yn,$n,$r,fi,Dr,Qi,Hi),Ro=Ae.mat3.adjoint([],gi);return Ae.mat3.multiply(Ii,Ii,Ro)}(Be[0],Be[1],mt[0],mt[1],pt[0],pt[1],ft[0],ft[1]);this.elevatedGlobePerspectiveTransform=l1(Be[0],Be[1],mt[0],mt[1],pt[0],pt[1],ft[0],ft[1]);const yt=(Bn,Yn)=>{b.push(Bn.lng);const $n=Math.round((Bn.lng-T)/N*ji),$r=Math.round((Bn.lat-O)/W*ji),fi=we(Yn),Dr=Ae.vec3.transformMat3([],[fi[0],fi[1],1],Yt),Qi=Math.round(Dr[0]/Dr[2]*ji),Hi=Math.round(Dr[1]/Dr[2]*ji);J.emplaceBack($n,$r,Qi,Hi)},en=d[3].x-d[0].x,yn=d[3].y-d[0].y,fn=d[2].x-d[1].x,xn=d[2].y-d[1].y;for(let Bn=0;Bn<65;Bn++){const Yn=Bn/64,$n=[d[0].x+Yn*en,d[0].y+Yn*yn],$r=[d[1].x+Yn*fn,d[1].y+Yn*xn],fi=$r[0]-$n[0],Dr=$r[1]-$n[1];for(let Qi=0;Qi<65;Qi++){const Hi=Qi/64,Ii={x:$n[0]+fi*Hi,y:$n[1]+Dr*Hi,z:0};yt(i.projection.unproject(Ii.x,Ii.y),Ii)}}this.elevatedGlobeVertexBuffer=n.createVertexBuffer(J,s1.members)}{this.maxLongitudeTriangleSize=0;let J=[],se=new lc;const ue=(re,ve,we)=>{se.emplaceBack(re,ve,we);const Be=b[re],mt=b[ve],pt=b[we],ft=Math.min(Math.min(Be,mt),pt),Yt=Math.max(Math.max(Be,mt),pt)-ft;Yt>this.maxLongitudeTriangleSize&&(this.maxLongitudeTriangleSize=Yt),J.push(ft+Yt/2)};for(let re=0;re<64;re++)for(let ve=0;ve<64;ve++){const we=65*re+ve,Be=we+1,mt=we+65,pt=mt+1;ue(we,mt,Be),ue(Be,mt,pt)}[J,se]=function(re,ve){const we=Array.from({length:re.length},(pt,ft)=>ft);we.sort((pt,ft)=>re[pt]-re[ft]);const Be=[],mt=new lc;for(let pt=0;pt<we.length;pt++){const ft=we[pt];Be.push(re[ft]);const Yt=3*ft,yt=Yt+1;mt.emplaceBack(ve.uint16[Yt],ve.uint16[yt],ve.uint16[yt+1])}return[Be,mt]}(J,se),this.elevatedGlobeTrianglesCenterLongitudes=J,this.elevatedGlobeIndexBuffer=n.createIndexBuffer(se)}this.elevatedGlobeSegments=sl.simpleSegment(0,0,4225,8192),this.elevatedGlobeGridMatrix=new Float32Array([0,N/ji,0,W/ji,0,0,O,T,0])}prepare(){const n=Object.keys(this.tiles).length!==0;if(this.tileID&&!n)return;const i=this.map.painter.context,d=i.gl;!this._dirty||this.texture instanceof N0||(this.texture?this.texture.update(this.image):(this.texture=new Hy(i,this.image,d.RGBA8),this.texture.bind(d.LINEAR,d.CLAMP_TO_EDGE)),this._dirty=!1),n&&this._prepareData(i)}loadTile(n,i){this.tileID&&this.tileID.equals(n.tileID.canonical)?(this.tiles[String(n.tileID.wrap)]=n,n.buckets={},i(null)):(n.state="errored",i(null))}serialize(){return{type:"image",url:this.options.url,coordinates:this.coordinates}}hasTransition(){return!1}getSegmentsForLongitude(n){const i=this.elevatedGlobeSegments;if(!this.elevatedGlobeTrianglesCenterLongitudes||!i)return null;const d=this.elevatedGlobeTrianglesCenterLongitudes;let g=(h=n+180)+360*Math.round((d[0]-h)/360);var h;const v=new sl,S=(P,$)=>{v.segments.push({vertexOffset:0,primitiveOffset:P,vertexLength:i.segments[0].vertexLength,primitiveLength:$,sortKey:void 0,vaos:{}})},M=.51*this.maxLongitudeTriangleSize;if(Math.abs(d[0]-g)<=M){const P=Ee(d,0,d.length,g+M);return P===d.length||S(P,Mn(d,P+1,d.length,g+360-M)-P),v}g<d[0]&&(g+=360);const A=Mn(d,0,d.length,g-M);if(A===d.length)return S(0,d.length),v;S(0,A-0);const b=Ee(d,A+1,d.length,g+M);return b!==d.length&&S(b,d.length-b),v}}const ZC=(Math.pow(256,2)-1)/16907520;class u1 extends ic{constructor(n,i,d,g){super(n,{layout:jy||(jy=new al({visibility:new Oi(er.layout_raster.visibility)})),paint:a1||(a1=new al({"raster-opacity":new Oi(er.paint_raster["raster-opacity"]),"raster-color":new bh(er.paint_raster["raster-color"]),"raster-color-mix":new Oi(er.paint_raster["raster-color-mix"]),"raster-color-range":new Oi(er.paint_raster["raster-color-range"]),"raster-hue-rotate":new Oi(er.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new Oi(er.paint_raster["raster-brightness-min"]),"raster-brightness-max":new Oi(er.paint_raster["raster-brightness-max"]),"raster-saturation":new Oi(er.paint_raster["raster-saturation"]),"raster-contrast":new Oi(er.paint_raster["raster-contrast"]),"raster-resampling":new Oi(er.paint_raster["raster-resampling"]),"raster-fade-duration":new Oi(er.paint_raster["raster-fade-duration"]),"raster-emissive-strength":new Oi(er.paint_raster["raster-emissive-strength"]),"raster-array-band":new Oi(er.paint_raster["raster-array-band"]),"raster-elevation":new Oi(er.paint_raster["raster-elevation"]),"raster-color-use-theme":new po({type:"string",default:"default","property-type":"data-driven"})}))},i,d,g),this.updateColorRamp(),this._curRampRange=[NaN,NaN]}getProgramIds(){return["raster"]}hasColorMap(){return!!this._transitionablePaint._values["raster-color"].value.value}tileCoverLift(){return this.paint.get("raster-elevation")}isDraped(n){return!(n&&n._source instanceof c1&&(n._source.onNorthPole||n._source.onSouthPole))&&this.paint.get("raster-elevation")===0}_handleSpecialPaintPropertyUpdate(n){n!=="raster-color"&&n!=="raster-color-range"||(this._curRampRange=[NaN,NaN],this.updateColorRamp())}updateColorRamp(n){if(!this.hasColorMap()||!this._curRampRange)return;const i=this._transitionablePaint._values["raster-color"].value.expression,[d,g]=n||this._transitionablePaint._values["raster-color-range"].value.expression.evaluate({zoom:0})||[NaN,NaN];isNaN(d)&&isNaN(g)||d===this._curRampRange[0]&&g===this._curRampRange[1]||(this.colorRamp=Mp({expression:i,evaluationKey:"rasterValue",image:this.colorRamp,clips:[{start:d,end:g}],resolution:256}),this.colorRampTexture=null,this._curRampRange=[d,g])}}let d1,mf,Uy,f1,jC;class h1 extends ic{constructor(n,i,d,g){super(n,{layout:d1||(d1=new al({visibility:new Oi(er["layout_raster-particle"].visibility)})),paint:mf||(mf=new al({"raster-particle-array-band":new Oi(er["paint_raster-particle"]["raster-particle-array-band"]),"raster-particle-count":new Oi(er["paint_raster-particle"]["raster-particle-count"]),"raster-particle-color":new bh(er["paint_raster-particle"]["raster-particle-color"]),"raster-particle-max-speed":new Oi(er["paint_raster-particle"]["raster-particle-max-speed"]),"raster-particle-speed-factor":new Oi(er["paint_raster-particle"]["raster-particle-speed-factor"]),"raster-particle-fade-opacity-factor":new Oi(er["paint_raster-particle"]["raster-particle-fade-opacity-factor"]),"raster-particle-reset-rate-factor":new Oi(er["paint_raster-particle"]["raster-particle-reset-rate-factor"]),"raster-particle-elevation":new Oi(er["paint_raster-particle"]["raster-particle-elevation"]),"raster-particle-color-use-theme":new po({type:"string",default:"default","property-type":"data-driven"})}))},i,d,g),this._updateColorRamp(),this.lastInvalidatedAt=pe.now()}onRemove(n){this.colorRampTexture&&this.colorRampTexture.destroy(),this.tileFramebuffer&&this.tileFramebuffer.destroy(),this.particleFramebuffer&&this.particleFramebuffer.destroy()}hasColorMap(){return!!this._transitionablePaint._values["raster-particle-color"].value.value}getProgramIds(){return["rasterParticle"]}hasOffscreenPass(){return this.visibility!=="none"}isDraped(n){return!1}_handleSpecialPaintPropertyUpdate(n){n!=="raster-particle-color"&&n!=="raster-particle-max-speed"||(this._updateColorRamp(),this._invalidateAnimationState()),n==="raster-particle-count"&&this._invalidateAnimationState()}_updateColorRamp(){if(!this.hasColorMap())return;const n=this._transitionablePaint._values["raster-particle-color"].value.expression,i=this._transitionablePaint._values["raster-particle-max-speed"].value.expression.evaluate({zoom:0});this.colorRamp=Mp({expression:n,evaluationKey:"rasterParticleSpeed",image:this.colorRamp,clips:[{start:0,end:i}],resolution:256}),this.colorRampTexture=null}_invalidateAnimationState(){this.lastInvalidatedAt=pe.now()}tileCoverLift(){return this.paint.get("raster-particle-elevation")}}class VC extends ic{constructor(n,i){super(n,{},i,null),this.implementation=n,n.slot&&(this.slot=n.slot)}is3D(){return this.implementation.renderingMode==="3d"}hasOffscreenPass(){return this.implementation.prerender!==void 0}isDraped(n){return this.implementation.renderToTile!==void 0}shouldRedrape(){return!!this.implementation.shouldRerenderTiles&&this.implementation.shouldRerenderTiles()}recalculate(){}updateTransitions(){}hasTransition(){return!1}serialize(){}onAdd(n){this.implementation.onAdd&&this.implementation.onAdd(n,n.painter.context.gl)}onRemove(n){this.implementation.onRemove&&this.implementation.onRemove(n,n.painter.context.gl)}}function p1(u,n,i){const d=[0,0,1],g=Ae.quat.identity([]);return Ae.quat.rotateY(g,g,i?-it(u)+Math.PI:it(u)),Ae.quat.rotateX(g,g,-it(n)),Ae.vec3.transformQuat(d,d,g),Ae.vec3.normalize(d,d)}function m1(u,n){const i=Z0(u.projection,u.zoom,u.width,u.height),d=function(h,v,S,M,A){const b=new hs(S.lng-180*Yf,S.lat),P=new hs(S.lng+180*Yf,S.lat),$=h.project(b.lng,b.lat),T=h.project(P.lng,P.lat),O=-Math.atan2(T.y-$.y,T.x-$.x),N=l.fromLngLat(S);N.y=Hn(N.y,-1+Yf,1-Yf);const W=N.toLngLat(),J=h.project(W.lng,W.lat),se=l.fromLngLat(W);se.x+=Yf;const ue=se.toLngLat(),re=h.project(ue.lng,ue.lat),ve=g1(re.x-J.x,re.y-J.y,O),we=l.fromLngLat(W);we.y+=Yf;const Be=we.toLngLat(),mt=h.project(Be.lng,Be.lat),pt=g1(mt.x-J.x,mt.y-J.y,O),ft=Math.abs(ve.x)/Math.abs(pt.y),Yt=Ae.mat4.identity([]);Ae.mat4.rotateZ(Yt,Yt,-O*(1-(A?0:M)));const yt=Ae.mat4.identity([]);return Ae.mat4.scale(yt,yt,[1,1-(1-ft)*M,1]),yt[4]=-pt.x/pt.y*M,Ae.mat4.rotateZ(yt,yt,O),Ae.mat4.multiply(yt,Yt,yt),yt}(u.projection,0,u.center,i,n),g=k0(u);return Ae.mat4.scale(d,d,[g,g,1]),d}function k0(u){const n=u.projection,i=Z0(u.projection,u.zoom,u.width,u.height),d=Wy(n,u.center),g=Wy(n,hs.convert(n.center));return Math.pow(2,d*i+(1-i)*g)}function Z0(u,n,i,d,g=1/0){const h=u.range;if(!h)return 0;const v=Math.min(g,Math.max(i,d)),S=Math.log(v/1024)/Math.LN2;return oi(h[0]+S,h[1]+S,n)}const Yf=1/4e4;function Wy(u,n){const i=Hn(n.lat,-_l,_l),d=new hs(n.lng-180*Yf,i),g=new hs(n.lng+180*Yf,i),h=u.project(d.lng,i),v=u.project(g.lng,i),S=l.fromLngLat(d),M=l.fromLngLat(g),A=v.x-h.x,b=v.y-h.y,P=M.x-S.x,$=M.y-S.y,T=Math.sqrt((P*P+$*$)/(A*A+b*b));return Math.log(T)/Math.LN2}function g1(u,n,i){const d=Math.cos(i),g=Math.sin(i);return{x:u*d-n*g,y:u*g+n*d}}function Gy(u,n,i){Ae.mat4.identity(u),Ae.mat4.rotateZ(u,u,it(n[2])),Ae.mat4.rotateX(u,u,it(n[0])),Ae.mat4.rotateY(u,u,it(n[1])),Ae.mat4.scale(u,u,i),Ae.mat4.multiply(u,u,[1,0,0,0,0,0,1,0,0,1,0,0,0,0,0,1])}function j0(u,n,i,d,g,h,v,S){const M=[i[0]-n[0],i[1]-n[1],0],A=[d[0]-n[0],d[1]-n[1],0];if(Ae.vec3.length(M)<1e-12||Ae.vec3.length(A)<1e-12)return Ae.quat.identity(u);const b=Ae.vec3.cross([],M,A);Ae.vec3.normalize(b,b),Ae.vec3.subtract(A,d,n),M[2]=(h-g)*S,A[2]=(v-g)*S;const P=M;return Ae.vec3.cross(P,M,A),Ae.vec3.normalize(P,P),Ae.quat.rotationTo(u,b,P)}function vg(u,n,i=!1){const d=mc(n.zoom),g=function(h,v,S){const M=v.worldSize,A=[h[12],h[13],h[14]],b=Xl(A[1]/M),P=Cc(A[0]/M),$=Ae.mat4.identity([]),T=Mc(1,b)*M,O=Mc(1,0)*M*Od(b,v.zoom),N=1/cc(M);let W=O*N;if(S){const re=Z0(v.projection,v.zoom,v.width,v.height,1024);W=N*v.projection.pixelSpaceConversion(v.center.lat,M,re)}const J=sf(b,P);Ae.vec3.add(J,J,Ae.vec3.scale([],Ae.vec3.normalize([],J),T*W*A[2]));const se=function(re){const ve=[re[0],re[1],re[2]];let we=[0,1,0];const Be=Ae.vec3.cross([],we,ve);return Ae.vec3.cross(we,ve,Be),Ae.vec3.squaredLength(we)===0&&(we=[0,1,0],Ae.vec3.cross(Be,ve,we)),Ae.vec3.normalize(Be,Be),Ae.vec3.normalize(we,we),Ae.vec3.normalize(ve,ve),[Be[0],Be[1],Be[2],0,we[0],we[1],we[2],0,ve[0],ve[1],ve[2],0,re[0],re[1],re[2],1]}(J);Ae.mat4.scale($,$,[W,W,W*T]),Ae.mat4.translate($,$,[-A[0],-A[1],-A[2]]);const ue=Ae.mat4.multiply([],v.globeMatrix,se);return Ae.mat4.multiply(ue,ue,$),Ae.mat4.multiply(ue,ue,h),ue}(u,n,i);if(d>0){const h=function(v,S){const M=S.worldSize,A=Mc(1,0)*M*Od(S.center.lat,S.zoom)/cc(M),b=Mc(1,S.center.lat)*M,P=Ae.mat4.identity([]);return Ae.mat4.rotateY(P,P,it(S.center.lng)),Ae.mat4.rotateX(P,P,it(S.center.lat)),Ae.mat4.translate(P,P,[0,0,Tc]),Ae.mat4.scale(P,P,[A,A,A*b]),Ae.mat4.translate(P,P,[S.point.x-.5*M,S.point.y-.5*M,0]),Ae.mat4.multiply(P,P,v),Ae.mat4.multiply(P,S.globeMatrix,P)}(u,n);return function(v,S,M){const A=(O,N,W)=>{const J=Ae.vec3.length(O),se=Ae.vec3.length(N),ue=Ll(O,N,W);return Ae.vec3.scale(ue,ue,1/Ae.vec3.length(ue)*Et(J,se,W))},b=A([v[0],v[1],v[2]],[S[0],S[1],S[2]],M),P=A([v[4],v[5],v[6]],[S[4],S[5],S[6]],M),$=A([v[8],v[9],v[10]],[S[8],S[9],S[10]],M),T=Ll([v[12],v[13],v[14]],[S[12],S[13],S[14]],M);return[b[0],b[1],b[2],0,P[0],P[1],P[2],0,$[0],$[1],$[2],0,T[0],T[1],T[2],1]}(g,h,d)}return g}function V0(u,n,i,d){const g=Bo.projectAabbCorners(d,i);let h=Number.MAX_VALUE,v=-1;for(let A=0;A<g.length;++A){const b=g[A];b[0]=(.5*b[0]+.5)*n.width,b[1]=(.5-.5*b[1])*n.height,b[2]<h&&(v=A,h=b[2])}const S=A=>new On(g[A][0],g[A][1]);let M;switch(v){case 0:case 6:M=[S(1),S(5),S(4),S(7),S(3),S(2),S(1)];break;case 1:case 7:M=[S(0),S(4),S(5),S(6),S(2),S(3),S(0)];break;case 3:case 5:M=[S(1),S(0),S(4),S(7),S(6),S(2),S(1)];break;default:M=[S(1),S(5),S(6),S(7),S(3),S(0),S(1)]}if(Se(u,M))return h}const Kp=xs([{name:"a_pos_3f",components:3,type:"Float32"}]),H0=xs([{name:"a_color_3f",components:3,type:"Float32"}]),o2=xs([{name:"a_color_4f",components:4,type:"Float32"}]),Ky=xs([{name:"a_uv_2f",components:2,type:"Float32"}]),Xy=xs([{name:"a_normal_3f",components:3,type:"Float32"}]),HC=xs([{name:"a_normal_matrix0",components:4,type:"Float32"},{name:"a_normal_matrix1",components:4,type:"Float32"},{name:"a_normal_matrix2",components:4,type:"Float32"},{name:"a_normal_matrix3",components:4,type:"Float32"}]),UC=xs([{name:"a_pbr",components:4,type:"Uint16"},{name:"a_heightBasedEmissiveStrength",components:3,type:"Float32"}]),U0={None:0,Model:1,Symbol:2,FillExtrusion:4,All:7};class Xp{constructor(n,i,d,g){this.message=(n?`${n}: `:"")+d,g&&(this.identifier=g),i!=null&&i.__line__&&(this.line=i.__line__)}}function Yy(u,n){const i=u.indexOf("://")===-1;try{return new URL(u,i&&n?"http://example.com":void 0),!0}catch(d){return!1}}class yg{constructor(n,i){this.feature=n,this.instancedDataOffset=i,this.instancedDataCount=0,this.rotation=[0,0,0],this.scale=[1,1,1],this.translation=[0,0,0]}}class W0{constructor(){this.instancedDataArray=new Lf,this.instancesEvaluatedElevation=[],this.features=[],this.idToFeaturesIndex={}}}class qy{constructor(n){this.zoom=n.zoom,this.canonical=n.canonical,this.layers=n.layers,this.layerIds=this.layers.map(i=>i.fqid),this.projection=n.projection,this.index=n.index,this.hasZoomDependentProperties=this.layers[0].isZoomDependent(),this.stateDependentLayerIds=this.layers.filter(i=>i.isStateDependent()).map(i=>i.id),this.hasPattern=!1,this.instancesPerModel={},this.validForExaggeration=0,this.maxVerticalOffset=0,this.maxScale=0,this.maxHeight=0,this.lookupDim=this.zoom>this.canonical.z?256:this.zoom>15?75:100,this.instanceCount=0,this.terrainElevationMin=0,this.terrainElevationMax=0,this.validForDEMTile={id:null,timestamp:0},this.modelUris=[],this.modelsRequested=!1,this.activeReplacements=[],this.replacementUpdateTime=0}updateFootprints(n,i){}populate(n,i,d,g){this.tileToMeter=r(d);const h=this.layers[0]._featureFilter.needGeometry;this.lookup=new Uint8Array(this.lookupDim*this.lookupDim);for(const{feature:v,id:S,index:M,sourceLayerIndex:A}of n){const b=S!=null?S:v.properties&&v.properties.hasOwnProperty("id")?v.properties.id:void 0,P=Q(v,h);if(!this.layers[0]._featureFilter.filter(new Us(this.zoom),P,d))continue;const $={id:b,sourceLayerIndex:A,index:M,geometry:h?P.geometry:U(v,d,g),properties:v.properties,type:v.type,patterns:{}},T=this.addFeature($,$.geometry,P);T&&i.featureIndex.insert(v,$.geometry,M,A,this.index,this.instancesPerModel[T].instancedDataArray.length,ji/32)}this.lookup=null}update(n,i,d,g){for(const h in this.instancesPerModel){const v=this.instancesPerModel[h];for(const S in n)v.idToFeaturesIndex.hasOwnProperty(S)&&(this.evaluate(v.features[v.idToFeaturesIndex[S]],n[S],v,!0),this.uploaded=!1)}this.maxHeight=0}updateZoomBasedPaintProperties(){if(!this.hasZoomDependentProperties)return!1;let n=!1;for(const i in this.instancesPerModel){const d=this.instancesPerModel[i];for(const g of d.features){const h=this.layers[0],v=g.feature,S=this.canonical,M=h.paint.get("model-rotation").evaluate(v,{},S),A=h.paint.get("model-scale").evaluate(v,{},S),b=h.paint.get("model-translation").evaluate(v,{},S);Ae.vec3.exactEquals(g.rotation,M)&&Ae.vec3.exactEquals(g.scale,A)&&Ae.vec3.exactEquals(g.translation,b)||(this.evaluate(g,g.featureStates,d,!0),n=!0)}}return n}updateReplacement(n,i,d,g){if(i.updateTime===this.replacementUpdateTime)return!1;this.replacementUpdateTime=i.updateTime;const h=i.getReplacementRegionsForTile(n.toUnwrapped(),!0);if(ey(this.activeReplacements,h))return!1;this.activeReplacements=h;let v=!1;for(const S in this.instancesPerModel){const M=this.instancesPerModel[S],A=M.instancedDataArray;for(const b of M.features){const P=b.instancedDataOffset,$=b.instancedDataCount;for(let T=0;T<$;T++){const O=16*(T+P);let N=A.float32[O+0];const W=N>ji;N=W?N-ji:N;const J=Math.floor(N),se=A.float32[O+1];let ue=!1;for(const re of this.activeReplacements)if(!Dp(re,d,U0.Model,g)&&!(re.min.x>J||J>re.max.x||re.min.y>se||se>re.max.y)&&(ue=cb(lb(J,se,n.canonical,re.footprintTileId.canonical),re.footprint),ue))break;A.float32[O]=ue?N+ji:N,v=v||ue!==W}}}return v}isEmpty(){for(const n in this.instancesPerModel)if(this.instancesPerModel[n].instancedDataArray.length!==0)return!1;return!0}uploadPending(){return!this.uploaded}upload(n){if(!this.uploaded)for(const i in this.instancesPerModel){const d=this.instancesPerModel[i];d.instancedDataArray.length<0||d.instancedDataArray.length===0||(d.instancedDataBuffer?d.instancedDataBuffer.updateData(d.instancedDataArray):d.instancedDataBuffer=n.createVertexBuffer(d.instancedDataArray,HC.members,!0,void 0,this.instanceCount))}this.uploaded=!0}destroy(){for(const i in this.instancesPerModel){const d=this.instancesPerModel[i];d.instancedDataArray.length!==0&&d.instancedDataBuffer&&d.instancedDataBuffer.destroy()}const n=this.layers[0].modelManager;if(n&&this.modelUris)for(const i of this.modelUris)n.removeModel(i,"")}addFeature(n,i,d){const g=this.layers[0],h=g.layout.get("model-id").evaluate(d,{},this.canonical);if(!h)return Wn(`modelId is not evaluated for layer ${g.id} and it is not going to get rendered.`),h;Yy(h,!1)&&(this.modelUris.includes(h)||this.modelUris.push(h)),this.instancesPerModel[h]||(this.instancesPerModel[h]=new W0);const v=this.instancesPerModel[h],S=v.instancedDataArray,M=new yg(d,S.length);for(const A of i)for(const b of A){if(b.x<0||b.x>=ji||b.y<0||b.y>=ji)continue;const P=(this.lookupDim-1)/ji,$=this.lookupDim*(b.y*P|0)+b.x*P|0;if(this.lookup){if(this.lookup[$]!==0)continue;this.lookup[$]=1}this.instanceCount++;const T=S.length;S.resize(T+1),v.instancesEvaluatedElevation.push(0),S.float32[16*T]=b.x,S.float32[16*T+1]=b.y}return M.instancedDataCount=v.instancedDataArray.length-M.instancedDataOffset,M.instancedDataCount>0&&(n.id&&(v.idToFeaturesIndex[n.id]=v.features.length),v.features.push(M),this.evaluate(M,{},v,!1)),h}getModelUris(){return this.modelUris}evaluate(n,i,d,g){const h=this.layers[0],v=n.feature,S=this.canonical,M=n.rotation=h.paint.get("model-rotation").evaluate(v,i,S),A=n.scale=h.paint.get("model-scale").evaluate(v,i,S),b=n.translation=h.paint.get("model-translation").evaluate(v,i,S),P=h.paint.get("model-color").evaluate(v,i,S);P.a=h.paint.get("model-color-mix-intensity").evaluate(v,i,S);const $=[];this.maxVerticalOffset<b[2]&&(this.maxVerticalOffset=b[2]),this.maxScale=Math.max(Math.max(this.maxScale,A[0]),Math.max(A[1],A[2])),Gy($,M,A);const T=Math.round(100*P.a)+P.b/1.05;for(let O=0;O<n.instancedDataCount;++O){const N=n.instancedDataOffset+O,W=16*N,J=d.instancedDataArray.float32;let se=0;g&&(se=J[W+6]-d.instancesEvaluatedElevation[N]);const ue=0|J[W+1];J[W]=(0|J[W])+P.r/1.05,J[W+1]=ue+P.g/1.05,J[W+2]=T,J[W+3]=1/(S.z>10?this.tileToMeter:r(S,ue)),J[W+4]=b[0],J[W+5]=b[1],J[W+6]=b[2]+se,J[W+7]=$[0],J[W+8]=$[1],J[W+9]=$[2],J[W+10]=$[4],J[W+11]=$[5],J[W+12]=$[6],J[W+13]=$[8],J[W+14]=$[9],J[W+15]=$[10],d.instancesEvaluatedElevation[N]=b[2]}}}let v1,y1;Eo(qy,"ModelBucket",{omit:["layers"]}),Eo(W0,"PerModelAttributes"),Eo(yg,"ModelFeature");const Nh=64,Yp={CoordinateSpaceTile:1,CoordinateSpaceYUp:2,HasMapboxMeshFeatures:4,HasMeshoptCompression:8};function _1(u,n,i,d,g,h,v,S,M,A=!1){const b=i.zoom,P=i.project(d),$=Od(d.lat,b),T=1/$;Ae.mat4.identity(u),Ae.mat4.translate(u,u,[P.x+v[0]*T,P.y+v[1]*T,v[2]]);let O=1,N=1;const W=i.worldSize;if(A){if(i.projection.name==="mercator"){let re=0;i.elevation&&(re=i.elevation.getAtPointOrZero(new l(P.x/W,P.y/W),0));const ve=Ae.vec4.transformMat4([],[P.x,P.y,re,1],i.projMatrix)[3]/i.cameraToCenterDistance;O=ve,N=ve*Od(i.center.lat,b)}else if(i.projection.name==="globe"){const re=vg(u,i),ve=Ae.mat4.multiply([],i.projMatrix,re),we=[0,0,0,1];Ae.vec4.transformMat4(we,we,ve);const Be=we[3]/i.cameraToCenterDistance,mt=mc(b),pt=i.projection.pixelsPerMeter(d.lat,W)*Od(d.lat,b),ft=i.projection.pixelsPerMeter(i.center.lat,W)*Od(i.center.lat,b);O=Be/Et(pt,Um(i.center.lat),mt),N=Be*$/pt,O*=ft,N*=ft}}else O=T;Ae.mat4.scale(u,u,[O,O,N]);const J=[...u],se=n.orientation,ue=[];if(Gy(ue,[se[0]+g[0],se[1]+g[1],se[2]+g[2]],h),Ae.mat4.multiply(u,J,ue),S&&i.elevation){let re=0;const ve=[];if(M&&i.elevation){re=function(mt,pt,ft,Yt,yt){const en=pt.elevation;if(!en)return 0;const yn=Bo.projectAabbCorners(ft,Yt),fn=Mc(1,yt.lat)*pt.worldSize,xn=function(Ro,io){const yo=[0,0,1],ua=[{corners:[0,1,3,2],dotProductWithUp:0},{corners:[1,5,2,6],dotProductWithUp:0},{corners:[0,4,1,5],dotProductWithUp:0},{corners:[2,6,3,7],dotProductWithUp:0},{corners:[4,7,5,6],dotProductWithUp:0},{corners:[0,3,4,7],dotProductWithUp:0}];for(const ka of ua){const za=Ro[ka.corners[0]],Na=Ro[ka.corners[1]],es=Ro[ka.corners[2]],ts=[Na[0]-za[0],Na[1]-za[1],io*(Na[2]-za[2])],Vs=Ae.vec3.cross(ts,ts,[es[0]-za[0],es[1]-za[1],io*(es[2]-za[2])]);Ae.vec3.normalize(Vs,Vs),ka.dotProductWithUp=Ae.vec3.dot(Vs,yo)}return ua.sort((ka,za)=>ka.dotProductWithUp-za.dotProductWithUp),ua[0].corners}(yn,fn),Bn=yn[xn[0]],Yn=yn[xn[1]],$n=yn[xn[2]],$r=yn[xn[3]],fi=en.getAtPointOrZero(new l(Bn[0]/pt.worldSize,Bn[1]/pt.worldSize),0),Dr=en.getAtPointOrZero(new l(Yn[0]/pt.worldSize,Yn[1]/pt.worldSize),0),Qi=en.getAtPointOrZero(new l($n[0]/pt.worldSize,$n[1]/pt.worldSize),0),Hi=en.getAtPointOrZero(new l($r[0]/pt.worldSize,$r[1]/pt.worldSize),0),Ii=(fi+Hi)/2,gi=(Dr+Qi)/2;return Ii>gi?Dr<Qi?j0(mt,Yn,$r,Bn,Dr,Hi,fi,fn):j0(mt,$n,Bn,$r,Qi,fi,Hi,fn):fi<Hi?j0(mt,Bn,Yn,$n,fi,Dr,Qi,fn):j0(mt,$r,$n,Yn,Hi,Qi,Dr,fn),Math.max(Ii,gi)}(ve,i,n.aabb,u,d);const we=Ae.mat4.fromQuat([],ve),Be=Ae.mat4.multiply([],we,ue);Ae.mat4.multiply(u,J,Be)}else re=i.elevation.getAtPointOrZero(new l(P.x/W,P.y/W),0);re!==0&&(u[14]+=re)}}function _g(u,n,i=!1){u.uploaded||(u.gfxTexture=new Hy(n,u.image,i?n.gl.R8:n.gl.RGBA8,{useMipmap:u.sampler.minFilter>=n.gl.NEAREST_MIPMAP_NEAREST}),u.uploaded=!0,u.image=null)}function WC(u,n,i){u.indexBuffer=n.createIndexBuffer(u.indexArray,!1,!0),u.vertexBuffer=n.createVertexBuffer(u.vertexArray,Kp.members,!1,!0),u.normalArray&&(u.normalBuffer=n.createVertexBuffer(u.normalArray,Xy.members,!1,!0)),u.texcoordArray&&(u.texcoordBuffer=n.createVertexBuffer(u.texcoordArray,Ky.members,!1,!0)),u.colorArray&&(u.colorBuffer=n.createVertexBuffer(u.colorArray,(u.colorArray.bytesPerElement===12?H0:o2).members,!1,!0)),u.featureArray&&(u.pbrBuffer=n.createVertexBuffer(u.featureArray,UC.members,!0)),u.segments=sl.simpleSegment(0,0,u.vertexArray.length,u.indexArray.length);const d=u.material;d.pbrMetallicRoughness.baseColorTexture&&_g(d.pbrMetallicRoughness.baseColorTexture,n),d.pbrMetallicRoughness.metallicRoughnessTexture&&_g(d.pbrMetallicRoughness.metallicRoughnessTexture,n),d.normalTexture&&_g(d.normalTexture,n),d.occlusionTexture&&_g(d.occlusionTexture,n,i),d.emissionTexture&&_g(d.emissionTexture,n)}function G0(u,n,i){if(u.meshes)for(const d of u.meshes)WC(d,n,i);if(u.children)for(const d of u.children)G0(d,n,i)}function bg(u){if(u.meshes)for(const n of u.meshes)n.indexArray.destroy(),n.vertexArray.destroy(),n.colorArray&&n.colorArray.destroy(),n.normalArray&&n.normalArray.destroy(),n.texcoordArray&&n.texcoordArray.destroy(),n.featureArray&&n.featureArray.destroy();if(u.children)for(const n of u.children)bg(n)}function xg(u){if(u.meshes)for(const i of u.meshes)i.vertexBuffer&&(i.vertexBuffer.destroy(),i.indexBuffer.destroy(),i.normalBuffer&&i.normalBuffer.destroy(),i.texcoordBuffer&&i.texcoordBuffer.destroy(),i.colorBuffer&&i.colorBuffer.destroy(),i.pbrBuffer&&i.pbrBuffer.destroy(),i.segments.destroy(),i.material&&((n=i.material).pbrMetallicRoughness.baseColorTexture&&n.pbrMetallicRoughness.baseColorTexture.gfxTexture&&n.pbrMetallicRoughness.baseColorTexture.gfxTexture.destroy(),n.pbrMetallicRoughness.metallicRoughnessTexture&&n.pbrMetallicRoughness.metallicRoughnessTexture.gfxTexture&&n.pbrMetallicRoughness.metallicRoughnessTexture.gfxTexture.destroy(),n.normalTexture&&n.normalTexture.gfxTexture&&n.normalTexture.gfxTexture.destroy(),n.emissionTexture&&n.emissionTexture.gfxTexture&&n.emissionTexture.gfxTexture.destroy(),n.occlusionTexture&&n.occlusionTexture.gfxTexture&&n.occlusionTexture.gfxTexture.destroy()));var n;if(u.children)for(const i of u.children)xg(i)}class Ad{constructor(n,i,d){this._demTile=n,this._dem=this._demTile.dem,this._scale=i,this._offset=d}static create(n,i,d){const g=d||n.findDEMTileFor(i);if(!g||!g.dem)return;const h=g.dem,v=g.tileID,S=1<<i.canonical.z-v.canonical.z;return new Ad(g,h.dim/ji/S,[(i.canonical.x/S-v.canonical.x)*h.dim,(i.canonical.y/S-v.canonical.y)*h.dim])}tileCoordToPixel(n,i){const d=i*this._scale+this._offset[1],g=Math.floor(n*this._scale+this._offset[0]),h=Math.floor(d);return new On(g,h)}getElevationAt(n,i,d,g){const h=n*this._scale+this._offset[0],v=i*this._scale+this._offset[1],S=Math.floor(h),M=Math.floor(v),A=this._dem;return g=!!g,d?Et(Et(A.get(S,M,g),A.get(S,M+1,g),v-M),Et(A.get(S+1,M,g),A.get(S+1,M+1,g),v-M),h-S):A.get(S,M,g)}getElevationAtPixel(n,i,d){return this._dem.get(n,i,!!d)}getMeterToDEM(n){return(1<<this._demTile.tileID.canonical.z)*Mc(1,n)*this._dem.stride}}const K0=new Float32Array(262144),ld=new Uint8Array(262144);function Dd(u){let n=0;if(u.meshes)for(const i of u.meshes)n=Math.max(n,i.aabb.max[2]);if(u.children)for(const i of u.children)n=Math.max(n,Dd(i));return n}function Cg(u,n,i){if(u.meshes)for(const d of u.meshes){if(d.aabb.min[0]===1/0)continue;const g=Bo.applyTransform(d.aabb,u.matrix);i.insert(n,g.min[0],g.min[1],g.max[0],g.max[1])}if(u.children)for(const d of u.children)Cg(d,n,i)}const b1=["","wall","door","roof","window","lamp","logo"];class x1{constructor(n){this.node=n,this.evaluatedRMEA=[[1,0,0,1],[1,0,0,1],[1,0,0,1],[1,0,0,1],[.4,1,0,1],[1,0,0,1],[1,0,0,1]],this.hiddenByReplacement=!1,this.evaluatedScale=[1,1,1],this.evaluatedColor=[],this.emissionHeightBasedParams=[],this.cameraCollisionOpacity=1,this.feature={type:"Point",id:n.id,geometry:[],properties:{height:Dd(n)}},this.aabb=this._getLocalBounds(),this.state=null}_getLocalBounds(){if(!this.node.meshes)return new Bo([1/0,1/0,1/0],[-1/0,-1/0,-1/0]);if(!this.aabb){let n=0;const i=new Bo([1/0,1/0,1/0],[-1/0,-1/0,-1/0]);for(const d of this.node.meshes)this.node.lightMeshIndex!==n&&(d.transformedAabb=Bo.applyTransformFast(d.aabb,this.node.matrix),i.encapsulate(d.transformedAabb)),n++;this.aabb=i}return this.aabb}}class X0{constructor(n,i,d,g,h,v,S){this.id=d,this.layers=n,this.layerIds=this.layers.map(M=>M.fqid),this.stateDependentLayerIds=this.layers.filter(M=>M.isStateDependent()).map(M=>M.id),this.modelTraits|=Yp.CoordinateSpaceTile,this.uploaded=!1,this.hasPattern=!1,g&&(this.modelTraits|=Yp.HasMapboxMeshFeatures),h&&(this.modelTraits|=Yp.HasMeshoptCompression),this.zoom=-1,this.terrainExaggeration=1,this.projection={name:"mercator"},this.replacementUpdateTime=0,this.elevationReadFromZ=255,this.brightness=v,this.dirty=!0,this.needsUpload=!1,this.nodesInfo=[];for(const M of i)this.nodesInfo.push(new x1(M)),Cg(M,S.featureIndexArray.length,S.grid),S.featureIndexArray.emplaceBack(this.nodesInfo.length-1,0,S.bucketLayerIDs.length-1,0);this.states={}}updateFootprints(n,i){for(const d of this.getNodesInfo()){const g=d.node;g.footprint&&i.push({footprint:g.footprint,id:n})}}update(n){const i=Object.keys(n).length!==0;if(i&&!this.stateDependentLayers.length)return;const d=i?this.stateDependentLayers:this.layers;if(!Kr(n,this.states))for(const g of d)this.evaluate(g,n);this.states=structuredClone(n)}populate(){console.log("populate 3D model bucket")}uploadPending(){return!this.uploaded||this.needsUpload}upload(n){if(!this.needsUpload)return;const i=this.getNodesInfo();for(const d of i){const g=d.node;this.uploaded?this.updatePbrBuffer(g):G0(g,n,!0)}for(const d of i)bg(d.node);this.uploaded=!0,this.needsUpload=!1}updatePbrBuffer(n){let i=!1;if(!n.meshes)return i;for(const d of n.meshes)d.pbrBuffer&&(d.pbrBuffer.updateData(d.featureArray),i=!0);return i}needsReEvaluation(n,i,d){const g=n.transform.projectionOptions,h=n.style.getBrightness(),v=this.brightness!==h;if(!this.uploaded||this.dirty||g.name!==this.projection.name||Sg(d.paint.get("model-color").value,v)||Sg(d.paint.get("model-color-mix-intensity").value,v)||Sg(d.paint.get("model-roughness").value,v)||Sg(d.paint.get("model-emissive-strength").value,v)||Sg(d.paint.get("model-height-based-emissive-strength-multiplier").value,v)){this.projection=g,this.brightness=h;const S=this.getNodesInfo();for(const M of S)M.state=null;return!0}return!1}evaluateScale(n,i){if(n.transform.zoom===this.zoom)return;this.zoom=n.transform.zoom;const d=this.getNodesInfo(),g=this.id.canonical;for(const h of d){const v=h.feature;h.evaluatedScale=i.paint.get("model-scale").evaluate(v,{},g)}}evaluate(n,i){const d=this.getNodesInfo();for(const g of d){if(!g.node.meshes)continue;const h=g.feature,v=i&&i[h.id];if(Kr(v,g.state))continue;g.state=structuredClone(v);const S=g.node.meshes&&g.node.meshes[0].featureData,M=g.evaluatedColor[2],A=g.evaluatedRMEA[2],b=this.id.canonical;if(g.hasTranslucentParts=!1,S){for(let P=0;P<b1.length;P++){const $=b1[P];$.length&&(h.properties.part=$);const T=n.paint.get("model-color").evaluate(h,v,b).toRenderColor(null),O=n.paint.get("model-color-mix-intensity").evaluate(h,v,b);g.evaluatedColor[P]=[T.r,T.g,T.b,O],g.evaluatedRMEA[P][0]=n.paint.get("model-roughness").evaluate(h,v,b),g.evaluatedRMEA[P][2]=n.paint.get("model-emissive-strength").evaluate(h,v,b),g.evaluatedRMEA[P][3]=T.a,g.emissionHeightBasedParams[P]=n.paint.get("model-height-based-emissive-strength-multiplier").evaluate(h,v,b),!g.hasTranslucentParts&&T.a<1&&(g.hasTranslucentParts=!0)}delete h.properties.part,GC(g,M!==g.evaluatedColor[2]||A!==g.evaluatedRMEA[2],this.modelTraits)}else g.evaluatedRMEA[0][2]=n.paint.get("model-emissive-strength").evaluate(h,v,b);g.evaluatedScale=n.paint.get("model-scale").evaluate(h,v,b),this.updatePbrBuffer(g.node)||(this.needsUpload=!0)}this.dirty=!1}elevationUpdate(n,i,d,g){const h=n.findDEMTileFor(d);if(h&&(h.tileID.canonical!==this.terrainTile||i!==this.terrainExaggeration)){if(h.dem&&h.tileID.overscaledZ!==this.elevationReadFromZ){this.elevationReadFromZ=h.tileID.overscaledZ;const v=Ad.create(n,d,h);if(!v)return;this.modelTraits&Yp.HasMapboxMeshFeatures&&this.updateDEM(n,v,d,g);for(const S of this.getNodesInfo()){const M=S.node;if(!M.footprint||!M.footprint.vertices||!M.footprint.vertices.length)continue;const A=M.footprint.vertices;let b=v.getElevationAt(A[0].x,A[0].y,!0,!0);for(let P=1;P<A.length;P++)b=Math.min(b,v.getElevationAt(A[P].x,A[P].y,!0,!0));M.elevation=b}}this.terrainTile=h.tileID.canonical,this.terrainExaggeration=i}}updateDEM(n,i,d,g){let h=i._dem._modifiedForSources[g];if(h===void 0&&(i._dem._modifiedForSources[g]=[],h=i._dem._modifiedForSources[g]),h.includes(d.canonical))return;const v=i._dem.dim;h.push(d.canonical);let S=!1;for(const M of this.getNodesInfo()){const A=M.node;if(!A.footprint||!A.footprint.grid)continue;const b=A.footprint.grid,P=i.tileCoordToPixel(b.min.x,b.min.y),$=i.tileCoordToPixel(b.max.x,b.max.y),T=Math.min(Math.min(v-$.y,P.x),Math.min(P.y,v-$.x));if(T<0)continue;const O=Hn(T,2,5);let N=Math.max(0,P.x-O),W=Math.max(0,P.y-O),J=Math.min($.x+O,v-1),se=Math.min($.y+O,v-1);for(let we=W;we<=se;++we)for(let Be=N;Be<=J;++Be)ld[we*v+Be]=255;let ue=0,re=0;for(let we=0;we<b.cellsY;++we)for(let Be=0;Be<b.cellsX;++Be){if(!b.cells[we*b.cellsX+Be])continue;const mt=i.tileCoordToPixel(b.min.x+Be/b.xScale,b.min.y+we/b.yScale),pt=i.tileCoordToPixel(b.min.x+(Be+1)/b.xScale,b.min.y+(we+1)/b.yScale);for(let ft=mt.y;ft<=Math.min(pt.y+1,v-1);++ft)for(let Yt=mt.x;Yt<=Math.min(pt.x+1,v-1);++Yt)ld[ft*v+Yt]===255&&(ld[ft*v+Yt]=0,ue+=i.getElevationAtPixel(Yt,ft),re++)}const ve=ue/re;N=Math.max(1,P.x-O),W=Math.max(1,P.y-O),J=Math.min($.x+O,v-2),se=Math.min($.y+O,v-2),S=!0;for(let we=W;we<=se;++we)for(let Be=N;Be<=J;++Be)ld[we*v+Be]===0&&(K0[we*v+Be]=i._dem.set(Be,we,ve));for(let we=1;we<O;++we){N=Math.max(1,P.x-we),W=Math.max(1,P.y-we),J=Math.min($.x+we,v-2),se=Math.min($.y+we,v-2);for(let Be=W;Be<=se;++Be)for(let mt=N;mt<=J;++mt){const pt=Be*v+mt;if(ld[pt]===255){let ft=0,Yt=0,yt=-1,en=-1;for(let yn=-1;yn<=1;++yn)for(let fn=-1;fn<=1;++fn){const xn=(Be+yn)*v+mt+fn;if(ld[xn]>=we)continue;const Bn=K0[xn],Yn=Math.abs(Bn);Yn>Yt&&(ft=Bn,Yt=Yn,yt=fn,en=yn)}if(Yt>.1){const yn=1-(we+.5*Math.abs(yt*en))/O;let fn=i._dem.get(mt,Be)+ft*yn;const xn=i._dem.get(mt+yt,Be+en),Bn=i._dem.get(mt-yt,Be-en,!0);(fn-xn)*(fn-Bn)>0&&(fn=(xn+Bn)/2),K0[pt]=i._dem.set(mt,Be,fn),ld[pt]=we}}}}}S&&(i._demTile.needsDEMTextureUpload=!0,i._dem._timestamp=pe.now())}getNodesInfo(){return this.nodesInfo}destroy(){const n=this.getNodesInfo();for(const i of n)bg(i.node),xg(i.node)}isEmpty(){return!this.nodesInfo.length}updateReplacement(n,i){if(i.updateTime===this.replacementUpdateTime)return;this.replacementUpdateTime=i.updateTime;const d=i.getReplacementRegionsForTile(n.toUnwrapped()),g=this.getNodesInfo();for(let h=0;h<this.nodesInfo.length;h++){const v=g[h].node;g[h].hiddenByReplacement=!!v.footprint&&!d.find(S=>S.footprint===v.footprint)}}getHeightAtTileCoord(n,i){const d=this.getNodesInfo(),g=[],h=[0,0,0],v=Ae.mat4.identity([]);for(let S=0;S<this.nodesInfo.length;S++){const M=d[S],A=M.node.meshes[0],b=A.transformedAabb;if(n<b.min[0]||i<b.min[1]||n>b.max[0]||i>b.max[1])continue;if(M.node.hidden===!0)return{height:1/0,maxHeight:M.feature.properties.height,hidden:!1,verticalScale:M.evaluatedScale[2]};Ae.mat4.invert(v,M.node.matrix),h[0]=n,h[1]=i,Ae.vec3.transformMat4(h,h,v);const P=(h[0]-A.aabb.min[0])/(A.aabb.max[0]-A.aabb.min[0])*Nh|0,$=Math.min(63,(h[1]-A.aabb.min[1])/(A.aabb.max[1]-A.aabb.min[1])*Nh|0)*Nh+Math.min(63,P),T=A.heightmap[$];if(!(T<0&&M.node.footprint))return M.hiddenByReplacement?void 0:{height:T,maxHeight:M.feature.properties.height,hidden:!1,verticalScale:M.evaluatedScale[2]};if(M.node.footprint.grid.query(new On(n,i),new On(n,i),g),g.length>0)return{height:void 0,maxHeight:M.feature.properties.height,hidden:M.hiddenByReplacement,verticalScale:M.evaluatedScale[2]}}}}function Sg(u,n){return!u.isLightConstant&&n}function C1(u,n,i,d,g,h,v,S){let M=(61440&n|(61440&n)>>4)>>8,A=(3840&n|(3840&n)>>4)>>4,b=240&n|(240&n)>>4;i[3]>0&&(M=Et(M,255*i[0],i[3]),A=Et(A,255*i[1],i[3]),b=Et(b,255*i[2],i[3]));const P=M<<8|A,$=b<<8|Math.floor(255*d[3]),T=function(we){const Be=Hn(we,0,2);return Math.min(Math.round(.5*Be*255),255)}(d[2])<<8|15*d[0]<<4|15*d[1],O=Hn(g[0],0,1),N=Hn(g[1],0,1),W=Hn(g[2],0,1),J=Hn(g[3],0,1);let se,ue,re,ve;if(O!==N&&v!==h&&N!==O){const we=v-h;ue=1/(we*(N-O)),re=-(h+we*O)/(we*(N-O));const Be=Hn(g[4],-1,1);ve=Math.pow(10,Be),se=255*W<<8|255*J}else se=65535,ue=0,re=1,ve=1;if(u.emplaceBack(P,$,T,se,ue,re,ve),S){const we=S.length;S.clear();for(let Be=0;Be<we;Be++)S.emplaceBack(P,$,T,se,ue,re,ve)}}function GC(u,n,i){const d=u.node;let g=0;const h=i&Yp.HasMeshoptCompression;for(const v of d.meshes){if(d.lights&&d.lightMeshIndex===g||!v.featureData)continue;v.featureArray=new zf,v.featureArray.reserve(v.featureData.length);let S=n;for(const M of v.featureData){const A=h?65535&M:M>>16&65535,b=h?M>>16&65535:65535&M,P=(15&b)<8?15&b:0,$=u.evaluatedRMEA[P],T=u.evaluatedColor[P],O=u.emissionHeightBasedParams[P];let N;if(S&&P===2&&d.lights&&(N=new zf,N.resize(10*d.lights.length)),C1(v.featureArray,A,T,$,O,v.aabb.min[2],v.aabb.max[2],N),N&&S){S=!1;const W=d.meshes[d.lightMeshIndex];W.featureArray=N,W.featureArray._trim()}}v.featureArray._trim(),g++}}function S1(u,n,i,d){const g=1<<u.z;n.lat=Xl((d/ji+u.y)/g),n.lng=Cc((i/ji+u.x)/g)}Eo(X0,"Tiled3dModelBucket",{omit:["layers"]}),Eo(x1,"Tiled3dModelFeature");const KC={circle:class extends ic{constructor(u,n,i,d){super(u,{layout:vi||(vi=new al({"circle-sort-key":new po(er.layout_circle["circle-sort-key"]),"circle-elevation-reference":new Oi(er.layout_circle["circle-elevation-reference"]),visibility:new Oi(er.layout_circle.visibility)})),paint:kn||(kn=new al({"circle-radius":new po(er.paint_circle["circle-radius"]),"circle-color":new po(er.paint_circle["circle-color"]),"circle-blur":new po(er.paint_circle["circle-blur"]),"circle-opacity":new po(er.paint_circle["circle-opacity"]),"circle-translate":new Oi(er.paint_circle["circle-translate"]),"circle-translate-anchor":new Oi(er.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new Oi(er.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new Oi(er.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new po(er.paint_circle["circle-stroke-width"]),"circle-stroke-color":new po(er.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new po(er.paint_circle["circle-stroke-opacity"]),"circle-emissive-strength":new Oi(er.paint_circle["circle-emissive-strength"]),"circle-color-use-theme":new po({type:"string",default:"default","property-type":"data-driven"}),"circle-stroke-color-use-theme":new po({type:"string",default:"default","property-type":"data-driven"})}))},n,i,d)}createBucket(u){return new Pe(u)}queryRadius(u){const n=u;return jr("circle-radius",this,n)+jr("circle-stroke-width",this,n)+Br(this.paint.get("circle-translate"))}queryIntersectsFeature(u,n,i,d,g,h,v,S){const M=vr(this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),h.angle,u.pixelToTileUnitsFactor),A=this.paint.get("circle-radius").evaluate(n,i)+this.paint.get("circle-stroke-width").evaluate(n,i);return Tp(u,d,h,v,S,this.paint.get("circle-pitch-alignment")==="map",this.paint.get("circle-pitch-scale")==="map",M,A)}getProgramIds(){return["circle"]}getDefaultProgramParams(u,n,i){const d=Rd(this);return{config:new Id(this,{zoom:n,lut:i}),defines:d,overrideFog:!1}}},heatmap:class extends ic{createBucket(u){return new W_(u)}constructor(u,n,i,d){super(u,{layout:G_||(G_=new al({visibility:new Oi(er.layout_heatmap.visibility)})),paint:Nv||(Nv=new al({"heatmap-radius":new po(er.paint_heatmap["heatmap-radius"]),"heatmap-weight":new po(er.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new Oi(er.paint_heatmap["heatmap-intensity"]),"heatmap-color":new bh(er.paint_heatmap["heatmap-color"]),"heatmap-opacity":new Oi(er.paint_heatmap["heatmap-opacity"]),"heatmap-color-use-theme":new po({type:"string",default:"default","property-type":"data-driven"})}))},n,i,d),this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(u){u==="heatmap-color"&&this._updateColorRamp()}_updateColorRamp(){this.colorRamp=Mp({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null}resize(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)}queryRadius(u){return jr("heatmap-radius",this,u)}queryIntersectsFeature(u,n,i,d,g,h,v,S){const M=this.paint.get("heatmap-radius").evaluate(n,i);return Tp(u,d,h,v,S,!0,!0,new On(0,0),M)}hasOffscreenPass(){return this.paint.get("heatmap-opacity")!==0&&this.visibility!=="none"}getProgramIds(){return["heatmap","heatmapTexture"]}getDefaultProgramParams(u,n,i){return u==="heatmap"?{config:new Id(this,{zoom:n,lut:i}),overrideFog:!1}:{}}},hillshade:class extends ic{constructor(u,n,i,d){super(u,{layout:K_||(K_=new al({visibility:new Oi(er.layout_hillshade.visibility)})),paint:l0||(l0=new al({"hillshade-illumination-direction":new Oi(er.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new Oi(er.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new Oi(er.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new Oi(er.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new Oi(er.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new Oi(er.paint_hillshade["hillshade-accent-color"]),"hillshade-emissive-strength":new Oi(er.paint_hillshade["hillshade-emissive-strength"]),"hillshade-shadow-color-use-theme":new po({type:"string",default:"default","property-type":"data-driven"}),"hillshade-highlight-color-use-theme":new po({type:"string",default:"default","property-type":"data-driven"}),"hillshade-accent-color-use-theme":new po({type:"string",default:"default","property-type":"data-driven"})}))},n,i,d)}shouldRedrape(){return this.hasOffscreenPass()&&this.paint.get("hillshade-illumination-anchor")==="viewport"}hasOffscreenPass(){return this.paint.get("hillshade-exaggeration")!==0&&this.visibility!=="none"}getProgramIds(){return["hillshade","hillshadePrepare"]}getDefaultProgramParams(u,n,i){return{overrideFog:!1}}},fill:class extends ic{constructor(u,n,i,d){super(u,{layout:Uv||(Uv=new al({"fill-sort-key":new po(er.layout_fill["fill-sort-key"]),visibility:new Oi(er.layout_fill.visibility),"fill-elevation-reference":new Oi(er.layout_fill["fill-elevation-reference"])})),paint:f0||(f0=new al({"fill-antialias":new Oi(er.paint_fill["fill-antialias"]),"fill-opacity":new po(er.paint_fill["fill-opacity"]),"fill-color":new po(er.paint_fill["fill-color"]),"fill-outline-color":new po(er.paint_fill["fill-outline-color"]),"fill-translate":new Oi(er.paint_fill["fill-translate"]),"fill-translate-anchor":new Oi(er.paint_fill["fill-translate-anchor"]),"fill-pattern":new po(er.paint_fill["fill-pattern"]),"fill-emissive-strength":new Oi(er.paint_fill["fill-emissive-strength"]),"fill-z-offset":new po(er.paint_fill["fill-z-offset"]),"fill-color-use-theme":new po({type:"string",default:"default","property-type":"data-driven"}),"fill-outline-color-use-theme":new po({type:"string",default:"default","property-type":"data-driven"})}))},n,i,d)}getProgramIds(){const u=this.paint.get("fill-pattern"),n=u&&u.constantOr(1),i=[n?"fillPattern":"fill"];return this.paint.get("fill-antialias")&&i.push(n&&!this.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline"),i}getDefaultProgramParams(u,n,i){return{config:new Id(this,{zoom:n,lut:i}),overrideFog:!1}}recalculate(u,n){super.recalculate(u,n);const i=this.paint._values["fill-outline-color"];i.value.kind==="constant"&&i.value.value===void 0&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])}createBucket(u){return new Hv(u)}queryRadius(){return Br(this.paint.get("fill-translate"))}queryIntersectsFeature(u,n,i,d,g,h){return!u.queryGeometry.isAboveHorizon&&Le(Un(u.tilespaceGeometry,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),h.angle,u.pixelToTileUnitsFactor),d)}isTileClipped(){return!0}is3D(){return this.paint.get("fill-z-offset").constantOr(1)!==0}},"fill-extrusion":class extends ic{constructor(u,n,i,d){super(u,{layout:ng||(ng=new al({visibility:new Oi(er["layout_fill-extrusion"].visibility),"fill-extrusion-edge-radius":new Oi(er["layout_fill-extrusion"]["fill-extrusion-edge-radius"])})),paint:vb||(vb=new al({"fill-extrusion-opacity":new Oi(er["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new po(er["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new Oi(er["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new Oi(er["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new po(er["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new po(er["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new po(er["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-height-alignment":new Oi(er["paint_fill-extrusion"]["fill-extrusion-height-alignment"]),"fill-extrusion-base-alignment":new Oi(er["paint_fill-extrusion"]["fill-extrusion-base-alignment"]),"fill-extrusion-vertical-gradient":new Oi(er["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"]),"fill-extrusion-ambient-occlusion-intensity":new Oi(er["paint_fill-extrusion"]["fill-extrusion-ambient-occlusion-intensity"]),"fill-extrusion-ambient-occlusion-radius":new Oi(er["paint_fill-extrusion"]["fill-extrusion-ambient-occlusion-radius"]),"fill-extrusion-ambient-occlusion-wall-radius":new Oi(er["paint_fill-extrusion"]["fill-extrusion-ambient-occlusion-wall-radius"]),"fill-extrusion-ambient-occlusion-ground-radius":new Oi(er["paint_fill-extrusion"]["fill-extrusion-ambient-occlusion-ground-radius"]),"fill-extrusion-ambient-occlusion-ground-attenuation":new Oi(er["paint_fill-extrusion"]["fill-extrusion-ambient-occlusion-ground-attenuation"]),"fill-extrusion-flood-light-color":new Oi(er["paint_fill-extrusion"]["fill-extrusion-flood-light-color"]),"fill-extrusion-flood-light-intensity":new Oi(er["paint_fill-extrusion"]["fill-extrusion-flood-light-intensity"]),"fill-extrusion-flood-light-wall-radius":new po(er["paint_fill-extrusion"]["fill-extrusion-flood-light-wall-radius"]),"fill-extrusion-flood-light-ground-radius":new po(er["paint_fill-extrusion"]["fill-extrusion-flood-light-ground-radius"]),"fill-extrusion-flood-light-ground-attenuation":new Oi(er["paint_fill-extrusion"]["fill-extrusion-flood-light-ground-attenuation"]),"fill-extrusion-vertical-scale":new Oi(er["paint_fill-extrusion"]["fill-extrusion-vertical-scale"]),"fill-extrusion-rounded-roof":new Oi(er["paint_fill-extrusion"]["fill-extrusion-rounded-roof"]),"fill-extrusion-cutoff-fade-range":new Oi(er["paint_fill-extrusion"]["fill-extrusion-cutoff-fade-range"]),"fill-extrusion-emissive-strength":new po(er["paint_fill-extrusion"]["fill-extrusion-emissive-strength"]),"fill-extrusion-line-width":new po(er["paint_fill-extrusion"]["fill-extrusion-line-width"]),"fill-extrusion-cast-shadows":new Oi(er["paint_fill-extrusion"]["fill-extrusion-cast-shadows"]),"fill-extrusion-color-use-theme":new po({type:"string",default:"default","property-type":"data-driven"}),"fill-extrusion-flood-light-color-use-theme":new po({type:"string",default:"default","property-type":"data-driven"})}))},n,i,d),this._stats={numRenderedVerticesInShadowPass:0,numRenderedVerticesInTransparentPass:0}}createBucket(u){return new _0(u)}queryRadius(){return Br(this.paint.get("fill-extrusion-translate"))}is3D(){return!0}hasShadowPass(){return this.paint.get("fill-extrusion-cast-shadows")}cutoffRange(){return this.paint.get("fill-extrusion-cutoff-fade-range")}canCastShadows(){return!0}getProgramIds(){return[this.paint.get("fill-extrusion-pattern").constantOr(1)?"fillExtrusionPattern":"fillExtrusion"]}queryIntersectsFeature(u,n,i,d,g,h,v,S,M){const A=vr(this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),h.angle,u.pixelToTileUnitsFactor),b=this.paint.get("fill-extrusion-height").evaluate(n,i),P=this.paint.get("fill-extrusion-base").evaluate(n,i),$=[0,0],T=S&&h.elevation,O=h.elevation?h.elevation.exaggeration():1,N=u.tile.getBucket(this);if(T&&N instanceof _0){const re=N.centroidVertexArray,ve=M+1;ve<re.length&&($[0]=re.geta_centroid_pos0(ve),$[1]=re.geta_centroid_pos1(ve))}if($[0]===0&&$[1]===1)return!1;h.projection.name==="globe"&&(d=hf([d],[new On(0,0),new On(ji,ji)],u.tileID.canonical).map(re=>re.polygon).flat());const W=T?S:null,[J,se]=function(re,ve,we,Be,mt,pt,ft,Yt,yt,en,yn){return re.projection.name==="globe"?function(fn,xn,Bn,Yn,$n,$r,fi,Dr,Qi,Hi,Ii){const gi=[],Ro=[],io=fn.projection.upVectorScale(Ii,fn.center.lat,fn.worldSize).metersToTile,yo=[0,0,0,1],ua=[0,0,0,1],ka=(Na,es,ts,Vs)=>{Na[0]=es,Na[1]=ts,Na[2]=Vs,Na[3]=1},za=Dh();Bn>0&&(Bn+=za),Yn+=za;for(const Na of xn){const es=[],ts=[];for(const Vs of Na){const Ds=Vs.x+$n.x,Ia=Vs.y+$n.y,Is=fn.projection.projectTilePoint(Ds,Ia,Ii),$s=fn.projection.upVector(Ii,Vs.x,Vs.y);let Ks=Bn,Sl=Yn;if(fi){const zl=uy(Ds,Ia,Bn,Yn,fi,Dr,Qi,Hi);Ks+=zl.base,Sl+=zl.top}Bn!==0?ka(yo,Is.x+$s[0]*io*Ks,Is.y+$s[1]*io*Ks,Is.z+$s[2]*io*Ks):ka(yo,Is.x,Is.y,Is.z),ka(ua,Is.x+$s[0]*io*Sl,Is.y+$s[1]*io*Sl,Is.z+$s[2]*io*Sl),Ae.vec3.transformMat4(yo,yo,$r),Ae.vec3.transformMat4(ua,ua,$r),es.push(new Hf(yo[0],yo[1],yo[2])),ts.push(new Hf(ua[0],ua[1],ua[2]))}gi.push(es),Ro.push(ts)}return[gi,Ro]}(re,ve,we,Be,mt,pt,ft,Yt,yt,en,yn):ft?function(fn,xn,Bn,Yn,$n,$r,fi,Dr,Qi){const Hi=[],Ii=[],gi=[0,0,0,1];for(const Ro of fn){const io=[],yo=[];for(const ua of Ro){const ka=ua.x+Yn.x,za=ua.y+Yn.y,Na=uy(ka,za,xn,Bn,$r,fi,Dr,Qi);gi[0]=ka,gi[1]=za,gi[2]=Na.base,gi[3]=1,Ae.vec4.transformMat4(gi,gi,$n),gi[3]=Math.max(gi[3],1e-5);const es=new Hf(gi[0]/gi[3],gi[1]/gi[3],gi[2]/gi[3]);gi[0]=ka,gi[1]=za,gi[2]=Na.top,gi[3]=1,Ae.vec4.transformMat4(gi,gi,$n),gi[3]=Math.max(gi[3],1e-5);const ts=new Hf(gi[0]/gi[3],gi[1]/gi[3],gi[2]/gi[3]);io.push(es),yo.push(ts)}Hi.push(io),Ii.push(yo)}return[Hi,Ii]}(ve,we,Be,mt,pt,ft,Yt,yt,en):function(fn,xn,Bn,Yn,$n){const $r=[],fi=[],Dr=$n[8]*xn,Qi=$n[9]*xn,Hi=$n[10]*xn,Ii=$n[11]*xn,gi=$n[8]*Bn,Ro=$n[9]*Bn,io=$n[10]*Bn,yo=$n[11]*Bn;for(const ua of fn){const ka=[],za=[];for(const Na of ua){const es=Na.x+Yn.x,ts=Na.y+Yn.y,Vs=$n[0]*es+$n[4]*ts+$n[12],Ds=$n[1]*es+$n[5]*ts+$n[13],Ia=$n[2]*es+$n[6]*ts+$n[14],Is=$n[3]*es+$n[7]*ts+$n[15],$s=Vs+Dr,Ks=Ds+Qi,Sl=Ia+Hi,zl=Math.max(Is+Ii,1e-5),wl=Vs+gi,ul=Ds+Ro,El=Ia+io,kl=Math.max(Is+yo,1e-5);ka.push(new Hf($s/zl,Ks/zl,Sl/zl)),za.push(new Hf(wl/kl,ul/kl,El/kl))}$r.push(ka),fi.push(za)}return[$r,fi]}(ve,we,Be,mt,pt)}(h,d,P,b,A,v,W,$,O,h.center.lat,u.tileID.canonical),ue=u.queryGeometry;return function(re,ve,we){let Be=1/0;Le(we,ve)&&(Be=rg(we,ve[0]));for(let mt=0;mt<ve.length;mt++){const pt=ve[mt],ft=re[mt];for(let Yt=0;Yt<pt.length-1;Yt++){const yt=pt[Yt],en=[yt,pt[Yt+1],ft[Yt+1],ft[Yt],yt];Se(we,en)&&(Be=Math.min(Be,rg(we,en)))}}return Be!==1/0&&Be}(J,se,ue.isPointQuery()?ue.screenBounds:ue.screenGeometry)}},line:class extends ic{constructor(u,n,i,d){const g=my();super(u,g,n,i,d),g.layout&&(this.layout=new $f(g.layout)),this.gradientVersion=0,this.hasElevatedBuckets=!1,this.hasNonElevatedBuckets=!1}_handleSpecialPaintPropertyUpdate(u){if(u==="line-gradient"){const n=this._transitionablePaint._values["line-gradient"].value.expression;this.stepInterpolant=n._styleExpression&&n._styleExpression.expression instanceof Ec,this.gradientVersion=(this.gradientVersion+1)%Number.MAX_SAFE_INTEGER}}gradientExpression(){return this._transitionablePaint._values["line-gradient"].value.expression}widthExpression(){return this._transitionablePaint._values["line-width"].value.expression}recalculate(u,n){super.recalculate(u,n),this.paint._values["line-floorwidth"]=(()=>{if(Bp)return Bp;const i=my();return Bp=new mC(i.paint.properties["line-width"].specification),Bp.useIntegerZoom=!0,Bp})().possiblyEvaluate(this._transitioningPaint._values["line-width"].value,u)}createBucket(u){return new fy(u)}getProgramIds(){return[this.paint.get("line-pattern").constantOr(1)?"linePattern":"line"]}getDefaultProgramParams(u,n,i){const d=py(this);return{config:new Id(this,{zoom:n,lut:i}),defines:d,overrideFog:!1}}queryRadius(u){const n=u,i=wb(jr("line-width",this,n),jr("line-gap-width",this,n)),d=jr("line-offset",this,n);return i/2+Math.abs(d)+Br(this.paint.get("line-translate"))}queryIntersectsFeature(u,n,i,d,g,h){if(u.queryGeometry.isAboveHorizon)return!1;const v=Un(u.tilespaceGeometry,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),h.angle,u.pixelToTileUnitsFactor),S=u.pixelToTileUnitsFactor/2*wb(this.paint.get("line-width").evaluate(n,i),this.paint.get("line-gap-width").evaluate(n,i)),M=this.paint.get("line-offset").evaluate(n,i);return M&&(d=function(A,b){const P=[],$=new On(0,0);for(let T=0;T<A.length;T++){const O=A[T],N=[];for(let W=0;W<O.length;W++){const J=O[W],se=O[W+1],ue=W===0?$:J.sub(O[W-1])._unit()._perp(),re=W===O.length-1?$:se.sub(J)._unit()._perp(),ve=ue._add(re)._unit();ve._mult(1/(ve.x*re.x+ve.y*re.y)),N.push(ve._mult(b)._add(J))}P.push(N)}return P}(d,M*u.pixelToTileUnitsFactor)),function(A,b,P){for(let $=0;$<b.length;$++){const T=b[$];if(A.length>=3){for(let O=0;O<T.length;O++)if(Lt(A,T[O]))return!0}if(st(A,T,P))return!0}return!1}(v,d,S)}isTileClipped(){return!0}isDraped(u){return!this.hasElevatedBuckets}},symbol:L0,background:class extends ic{constructor(u,n,i,d){super(u,{layout:o1||(o1=new al({visibility:new Oi(er.layout_background.visibility)})),paint:Zy||(Zy=new al({"background-pitch-alignment":new Oi(er.paint_background["background-pitch-alignment"]),"background-color":new Oi(er.paint_background["background-color"]),"background-pattern":new Oi(er.paint_background["background-pattern"]),"background-opacity":new Oi(er.paint_background["background-opacity"]),"background-emissive-strength":new Oi(er.paint_background["background-emissive-strength"]),"background-color-use-theme":new po({type:"string",default:"default","property-type":"data-driven"})}))},n,i,d)}getProgramIds(){return[this.paint.get("background-pattern")?"backgroundPattern":"background"]}getDefaultProgramParams(u,n,i){return{overrideFog:!1}}is3D(){return this.paint.get("background-pitch-alignment")==="viewport"}},raster:u1,"raster-particle":h1,sky:class extends ic{constructor(u,n,i,d){super(u,{layout:Uy||(Uy=new al({visibility:new Oi(er.layout_sky.visibility)})),paint:f1||(f1=new al({"sky-type":new Oi(er.paint_sky["sky-type"]),"sky-atmosphere-sun":new Oi(er.paint_sky["sky-atmosphere-sun"]),"sky-atmosphere-sun-intensity":new Oi(er.paint_sky["sky-atmosphere-sun-intensity"]),"sky-gradient-center":new Oi(er.paint_sky["sky-gradient-center"]),"sky-gradient-radius":new Oi(er.paint_sky["sky-gradient-radius"]),"sky-gradient":new bh(er.paint_sky["sky-gradient"]),"sky-atmosphere-halo-color":new Oi(er.paint_sky["sky-atmosphere-halo-color"]),"sky-atmosphere-color":new Oi(er.paint_sky["sky-atmosphere-color"]),"sky-opacity":new Oi(er.paint_sky["sky-opacity"]),"sky-gradient-use-theme":new po({type:"string",default:"default","property-type":"data-driven"}),"sky-atmosphere-halo-color-use-theme":new po({type:"string",default:"default","property-type":"data-driven"}),"sky-atmosphere-color-use-theme":new po({type:"string",default:"default","property-type":"data-driven"})}))},n,i,d),this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(u){u==="sky-gradient"?this._updateColorRamp():u!=="sky-atmosphere-sun"&&u!=="sky-atmosphere-halo-color"&&u!=="sky-atmosphere-color"&&u!=="sky-atmosphere-sun-intensity"||(this._skyboxInvalidated=!0)}_updateColorRamp(){this.colorRamp=Mp({expression:this._transitionablePaint._values["sky-gradient"].value.expression,evaluationKey:"skyRadialProgress"}),this.colorRampTexture&&(this.colorRampTexture.destroy(),this.colorRampTexture=null)}needsSkyboxCapture(u){if(this._skyboxInvalidated||!this.skyboxTexture||!this.skyboxGeometry)return!0;if(!this.paint.get("sky-atmosphere-sun")){const n=u.style.light.properties.get("position");return this._lightPosition.azimuthal!==n.azimuthal||this._lightPosition.polar!==n.polar}return!1}getCenter(u,n){if(this.paint.get("sky-type")==="atmosphere"){const d=this.paint.get("sky-atmosphere-sun"),g=!d,h=u.style.light,v=h.properties.get("position");return g&&h.properties.get("anchor")==="viewport"&&Wn("The sun direction is attached to a light with viewport anchor, lighting may behave unexpectedly."),g?p1(v.azimuthal,90-v.polar,n):p1(d[0],90-d[1],n)}const i=this.paint.get("sky-gradient-center");return p1(i[0],90-i[1],n)}isSky(){return!0}markSkyboxValid(u){this._skyboxInvalidated=!1,this._lightPosition=u.style.light.properties.get("position")}hasOffscreenPass(){return!0}getProgramIds(){const u=this.paint.get("sky-type");return u==="atmosphere"?["skyboxCapture","skybox"]:u==="gradient"?["skyboxGradient"]:null}},slot:class extends ic{constructor(u,n,i,d){super(u,{paint:jC||(jC=new al({}))},n,null)}},model:class extends ic{constructor(u,n,i,d){super(u,{layout:v1||(v1=new al({visibility:new Oi(er.layout_model.visibility),"model-id":new po(er.layout_model["model-id"])})),paint:y1||(y1=new al({"model-opacity":new po(er.paint_model["model-opacity"]),"model-rotation":new po(er.paint_model["model-rotation"]),"model-scale":new po(er.paint_model["model-scale"]),"model-translation":new po(er.paint_model["model-translation"]),"model-color":new po(er.paint_model["model-color"]),"model-color-mix-intensity":new po(er.paint_model["model-color-mix-intensity"]),"model-type":new Oi(er.paint_model["model-type"]),"model-cast-shadows":new Oi(er.paint_model["model-cast-shadows"]),"model-receive-shadows":new Oi(er.paint_model["model-receive-shadows"]),"model-ambient-occlusion-intensity":new Oi(er.paint_model["model-ambient-occlusion-intensity"]),"model-emissive-strength":new po(er.paint_model["model-emissive-strength"]),"model-roughness":new po(er.paint_model["model-roughness"]),"model-height-based-emissive-strength-multiplier":new po(er.paint_model["model-height-based-emissive-strength-multiplier"]),"model-cutoff-fade-range":new Oi(er.paint_model["model-cutoff-fade-range"]),"model-front-cutoff":new Oi(er.paint_model["model-front-cutoff"]),"model-color-use-theme":new po({type:"string",default:"default","property-type":"data-driven"})}))},n,i,d),this._stats={numRenderedVerticesInShadowPass:0,numRenderedVerticesInTransparentPass:0}}createBucket(u){return new qy(u)}getProgramIds(){return["model"]}is3D(){return!0}hasShadowPass(){return!0}canCastShadows(){return!0}hasLightBeamPass(){return!0}cutoffRange(){return this.paint.get("model-cutoff-fade-range")}queryRadius(u){return u instanceof X0?ji-1:0}queryIntersectsFeature(u,n,i,d,g,h){if(!this.modelManager)return!1;const v=this.modelManager,S=u.tile.getBucket(this);if(!(S&&S instanceof qy))return!1;for(const M in S.instancesPerModel){const A=S.instancesPerModel[M],b=n.id!==void 0?n.id:n.properties&&n.properties.hasOwnProperty("id")?n.properties.id:void 0;if(A.idToFeaturesIndex.hasOwnProperty(b)){const P=A.features[A.idToFeaturesIndex[b]],$=v.getModel(M,this.scope);if(!$)return!1;let T=Ae.mat4.create();const O=new hs(0,0),N=S.canonical;let W=Number.MAX_VALUE;for(let J=0;J<P.instancedDataCount;++J){const se=16*(P.instancedDataOffset+J),ue=A.instancedDataArray.float32,re=[ue[se+4],ue[se+5],ue[se+6]];S1(N,O,ue[se],0|ue[se+1]),_1(T,$,h,O,P.rotation,P.scale,re,!1,!1,!1),h.projection.name==="globe"&&(T=vg(T,h));const ve=Ae.mat4.multiply([],h.projMatrix,T),we=u.queryGeometry,Be=V0(we.isPointQuery()?we.screenBounds:we.screenGeometry,h,ve,$.aabb);Be!=null&&(W=Math.min(Be,W))}return W!==Number.MAX_VALUE&&W}}return!1}_handleOverridablePaintPropertyUpdate(u,n,i){return!(!this.layout||n.isDataDriven()||i.isDataDriven()||u!=="model-color"&&u!=="model-color-mix-intensity"&&u!=="model-rotation"&&u!=="model-scale"&&u!=="model-translation"&&u!=="model-emissive-strength")}_isPropertyZoomDependent(u){const n=this._transitionablePaint._values[u];return n!=null&&n.value!=null&&n.value.expression!=null&&n.value.expression instanceof ap}isZoomDependent(){return this._isPropertyZoomDependent("model-scale")||this._isPropertyZoomDependent("model-rotation")||this._isPropertyZoomDependent("model-translation")}},clip:class extends ic{constructor(u,n,i,d){super(u,{layout:Vf||(Vf=new al({"clip-layer-types":new Oi(er.layout_clip["clip-layer-types"]),"clip-layer-scope":new Oi(er.layout_clip["clip-layer-scope"])})),paint:Rp||(Rp=new al({}))},n,i,d)}recalculate(u,n){super.recalculate(u,n)}createBucket(u){return new Wv(u)}isTileClipped(){return!0}is3D(){return!0}}};class Jy{constructor(n){this._callback=n,this._triggered=!1,typeof MessageChannel!="undefined"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=()=>{this._triggered=!1,this._callback()})}trigger(){this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(()=>{this._triggered=!1,this._callback()},0))}remove(){this._channel=void 0,this._callback=()=>{}}}class XC{constructor(){this.tasks={},this.taskQueue=[],Pr(["process"],this),this.invoker=new Jy(this.process),this.nextId=0}add(n,i){const d=this.nextId++,g=function({type:h,isSymbolTile:v,zoom:S}){return S=S||0,h==="message"?0:h!=="maybePrepare"||v?h!=="parseTile"||v?h==="parseTile"&&v?300-S:h==="maybePrepare"&&v?400-S:500:200-S:100-S}(i);if(g===0){try{n()}finally{}return null}return this.tasks[d]={fn:n,metadata:i,priority:g,id:d},this.taskQueue.push(d),this.invoker.trigger(),{cancel:()=>{delete this.tasks[d]}}}process(){try{if(this.taskQueue=this.taskQueue.filter(d=>!!this.tasks[d]),!this.taskQueue.length)return;const n=this.pick();if(n===null)return;const i=this.tasks[n];if(delete this.tasks[n],this.taskQueue.length&&this.invoker.trigger(),!i)return;i.fn()}finally{}}pick(){let n=null,i=1/0;for(let g=0;g<this.taskQueue.length;g++){const h=this.tasks[this.taskQueue[g]];h.priority<i&&(i=h.priority,n=g)}if(n===null)return null;const d=this.taskQueue[n];return this.taskQueue.splice(n,1),d}remove(){this.invoker.remove()}}class Y0{constructor(n,i,d){this.target=n,this.parent=i,this.mapId=d,this.callbacks={},this.cancelCallbacks={},Pr(["receive"],this),this.target.addEventListener("message",this.receive,!1),this.scheduler=new XC}send(n,i,d,g,h=!1,v){const S=Math.round(1e18*Math.random()).toString(36).substring(0,10);d&&(d.metadata=v,this.callbacks[S]=d);const M=new Set;return this.target.postMessage({id:S,type:n,hasCallback:!!d,targetMapId:g,mustQueue:h,sourceMapId:this.mapId,data:Xd(i,M)},M),{cancel:()=>{d&&delete this.callbacks[S],this.target.postMessage({id:S,type:"<cancel>",targetMapId:g,sourceMapId:this.mapId})}}}receive(n){const i=n.data,d=i.id;if(d&&(!i.targetMapId||this.mapId===i.targetMapId))if(i.type==="<cancel>"){const g=this.cancelCallbacks[d];delete this.cancelCallbacks[d],g&&g.cancel()}else if(i.mustQueue||Io()){const g=this.callbacks[d],h=this.scheduler.add(()=>this.processTask(d,i),g&&g.metadata||{type:"message"});h&&(this.cancelCallbacks[d]=h)}else this.processTask(d,i)}processTask(n,i){if(delete this.cancelCallbacks[n],i.type==="<response>"){const d=this.callbacks[n];delete this.callbacks[n],d&&(i.error?d(vd(i.error)):d(null,vd(i.data)))}else{const d=new Set,g=i.hasCallback?(v,S)=>{this.target.postMessage({id:n,type:"<response>",sourceMapId:this.mapId,error:v?Xd(v):null,data:Xd(S,d)},d)}:()=>{},h=vd(i.data);if(this.parent[i.type])this.parent[i.type](i.sourceMapId,h,g);else if(this.parent.getWorkerSource){const v=i.type.split(".");this.parent.getWorkerSource(i.sourceMapId,v[0],h.source,h.scope)[v[1]](h,g)}else g(new Error(`Could not find function ${i.type}`))}}remove(){this.scheduler.remove(),this.target.removeEventListener("message",this.receive,!1)}}var wg={workerUrl:"",workerClass:null,workerParams:void 0};const Qy="mapboxgl_preloaded_worker_pool";class Bh{constructor(){this.active={}}acquire(n,i=Bh.workerCount){if(!this.workers)for(this.workers=[];this.workers.length<i;)this.workers.push(wg.workerClass!=null?new wg.workerClass:new self.Worker(wg.workerUrl,wg.workerParams));return this.active[n]=!0,this.workers.slice()}release(n){delete this.active[n],this.workers&&this.numActive()===0&&(this.workers.forEach(i=>{i.terminate()}),this.workers=null)}isPreloaded(){return!!this.active[Qy]}numActive(){return Object.keys(this.active).length}}Bh.workerCount=2;class qp{constructor(n,i,d="Worker",g=Bh.workerCount){this.workerPool=n,this.actors=[],this.currentActor=0,this.id=qn();const h=this.workerPool.acquire(this.id,g);for(let v=0;v<h.length;v++){const S=new qp.Actor(h[v],i,this.id);S.name=`${d} ${v}`,this.actors.push(S)}this.ready=!1,this.broadcast("checkIfReady",null,()=>{this.ready=!0})}broadcast(n,i,d){ri(this.actors,(g,h)=>{g.send(n,i,h)},d=d||function(){})}getActor(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]}remove(){this.actors.forEach(n=>{n.remove()}),this.actors=[],this.workerPool.release(this.id)}}let Eg,q0;function J0(){return Eg||(Eg=new Bh),Eg}qp.Actor=Y0;const e_=new _e(0,0,0);var t_=(u=>(u[u.PATH_RULE_UNSPECIFIED=0]="PATH_RULE_UNSPECIFIED",u[u.PATH_RULE_NON_ZERO=1]="PATH_RULE_NON_ZERO",u[u.PATH_RULE_EVEN_ODD=2]="PATH_RULE_EVEN_ODD",u))(t_||{}),Q0=(u=>(u[u.LINE_CAP_UNSPECIFIED=0]="LINE_CAP_UNSPECIFIED",u[u.LINE_CAP_BUTT=1]="LINE_CAP_BUTT",u[u.LINE_CAP_ROUND=2]="LINE_CAP_ROUND",u[u.LINE_CAP_SQUARE=3]="LINE_CAP_SQUARE",u))(Q0||{}),Ig=(u=>(u[u.LINE_JOIN_UNSPECIFIED=0]="LINE_JOIN_UNSPECIFIED",u[u.LINE_JOIN_MITER=1]="LINE_JOIN_MITER",u[u.LINE_JOIN_MITER_CLIP=2]="LINE_JOIN_MITER_CLIP",u[u.LINE_JOIN_ROUND=3]="LINE_JOIN_ROUND",u[u.LINE_JOIN_BEVEL=4]="LINE_JOIN_BEVEL",u))(Ig||{}),w1=(u=>(u[u.PAINT_ORDER_UNSPECIFIED=0]="PAINT_ORDER_UNSPECIFIED",u[u.PAINT_ORDER_FILL_AND_STROKE=1]="PAINT_ORDER_FILL_AND_STROKE",u[u.PAINT_ORDER_STROKE_AND_FILL=2]="PAINT_ORDER_STROKE_AND_FILL",u))(w1||{}),Jp=(u=>(u[u.PATH_COMMAND_UNSPECIFIED=0]="PATH_COMMAND_UNSPECIFIED",u[u.PATH_COMMAND_MOVE=1]="PATH_COMMAND_MOVE",u[u.PATH_COMMAND_LINE=2]="PATH_COMMAND_LINE",u[u.PATH_COMMAND_QUAD=3]="PATH_COMMAND_QUAD",u[u.PATH_COMMAND_CUBIC=4]="PATH_COMMAND_CUBIC",u[u.PATH_COMMAND_CLOSE=5]="PATH_COMMAND_CLOSE",u))(Jp||{}),ev=(u=>(u[u.MASK_TYPE_UNSPECIFIED=0]="MASK_TYPE_UNSPECIFIED",u[u.MASK_TYPE_LUMINANCE=1]="MASK_TYPE_LUMINANCE",u[u.MASK_TYPE_ALPHA=2]="MASK_TYPE_ALPHA",u))(ev||{});function YC(u,n,i){u===1&&n.icons.push(function(d,g){return function(h){if(h.usvg_tree.height||(h.usvg_tree.height=h.usvg_tree.width),!h.metadata)return h;const{metadata:v}=h;if(v.content_area){const{content_area:S}=v;S.top==null&&(S.top=S.left),S.width==null&&(S.width=h.usvg_tree.width),S.height==null&&(S.height=S.width)}return v.stretch_x&&v.stretch_x.length&&E1(v,"x"),v.stretch_y&&v.stretch_y.length&&E1(v,"y"),h}(d.readFields(qC,{name:void 0},g))}(i,i.readVarint()+i.pos))}function E1(u,n){const i=[],d=u[`stretch_${n}`];let g=null;for(let h=0;h<d.length;h++)g===null?g=i.length===0?d[0]:i[i.length-1][1]+d[h]:(i.push([g,g+d[h]]),g=null);u[`stretch_${n}_areas`]=i}function qC(u,n,i){u===1?n.name=i.readString():u===2?n.metadata=function(d,g){return d.readFields(n_,{stretch_x:null,stretch_y:null,stretch_x_areas:null,stretch_y_areas:null,variables:[]},g)}(i,i.readVarint()+i.pos):u===3&&(n.usvg_tree=function(d,g){return d.readFields(eS,{width:20,children:[],linear_gradients:[],radial_gradients:[],clip_paths:[],masks:[]},g)}(i,i.readVarint()+i.pos),n.data="usvg_tree")}function n_(u,n,i){u===1?n.stretch_x=i.readPackedVarint():u===2?n.stretch_y=i.readPackedVarint():u===3?n.content_area=function(d,g){return d.readFields(JC,{left:0},g)}(i,i.readVarint()+i.pos):u===4&&n.variables.push(function(d,g){return d.readFields(QC,{name:void 0},g)}(i,i.readVarint()+i.pos))}function JC(u,n,i){u===1?n.left=i.readVarint():u===2?n.width=i.readVarint():u===3?n.top=i.readVarint():u===4&&(n.height=i.readVarint())}function QC(u,n,i){u===1?n.name=i.readString():u===2&&(n.rgb_color=r_(i.readVarint()),n.value="rgb_color")}function eS(u,n,i){u===1?n.width=n.height=i.readVarint():u===2?n.height=i.readVarint():u===3?n.children.push(tv(i,i.readVarint()+i.pos)):u===4?n.linear_gradients.push(function(d,g){return d.readFields(rv,{spread_method:1,stops:[],x1:0,y1:0,x2:1,y2:0},g)}(i,i.readVarint()+i.pos)):u===5?n.radial_gradients.push(function(d,g){return d.readFields(Qp,{spread_method:1,stops:[],cx:.5,cy:.5,r:.5,fx:.5,fy:.5,fr:0},g)}(i,i.readVarint()+i.pos)):u===7?n.clip_paths.push(function(d,g){return d.readFields(em,{children:[]},g)}(i,i.readVarint()+i.pos)):u===8&&n.masks.push(function(d,g){const h=d.readFields(oS,{left:0,width:20,mask_type:1,children:[]},g);return h.height==null&&(h.height=h.width),h.top==null&&(h.top=h.left),h}(i,i.readVarint()+i.pos))}function tv(u,n){return u.readFields(tS,{},n)}function tS(u,n,i){u===1?(n.group=function(d,g){return d.readFields(nS,{opacity:255,children:[]},g)}(i,i.readVarint()+i.pos),n.node="group"):u===2&&(n.path=function(d,g){return d.readFields(T1,{paint_order:1,commands:[],step:1,diffs:[],rule:1},g)}(i,i.readVarint()+i.pos),n.node="path")}function nS(u,n,i){u===1?n.transform=nv(i,i.readVarint()+i.pos):u===2?n.opacity=i.readVarint():u===5?n.clip_path_idx=i.readVarint():u===6?n.mask_idx=i.readVarint():u===7&&n.children.push(tv(i,i.readVarint()+i.pos))}function nv(u,n){return u.readFields(I1,{sx:1,ky:0,kx:0,sy:1,tx:0,ty:0},n)}function I1(u,n,i){u===1?n.sx=i.readFloat():u===2?n.ky=i.readFloat():u===3?n.kx=i.readFloat():u===4?n.sy=i.readFloat():u===5?n.tx=i.readFloat():u===6&&(n.ty=i.readFloat())}function T1(u,n,i){u===1?n.fill=function(d,g){return d.readFields(M1,{rgb_color:e_,paint:"rgb_color",opacity:255},g)}(i,i.readVarint()+i.pos):u===2?n.stroke=function(d,g){return d.readFields(rS,{rgb_color:e_,paint:"rgb_color",dasharray:[],dashoffset:0,miterlimit:4,opacity:255,width:1,linecap:1,linejoin:1},g)}(i,i.readVarint()+i.pos):u===3?n.paint_order=i.readVarint():u===5?i.readPackedVarint(n.commands):u===6?n.step=i.readFloat():u===7?i.readPackedSVarint(n.diffs):u===8&&(n.rule=i.readVarint())}function M1(u,n,i){u===1?(n.rgb_color=r_(i.readVarint()),n.paint="rgb_color"):u===2?(n.linear_gradient_idx=i.readVarint(),n.paint="linear_gradient_idx"):u===3?(n.radial_gradient_idx=i.readVarint(),n.paint="radial_gradient_idx"):u===5&&(n.opacity=i.readVarint())}function r_(u){return new _e((u>>16&255)/255,(u>>8&255)/255,(255&u)/255,1)}function rS(u,n,i){u===1?(n.rgb_color=r_(i.readVarint()),n.paint="rgb_color"):u===2?(n.linear_gradient_idx=i.readVarint(),n.paint="linear_gradient_idx"):u===3?(n.radial_gradient_idx=i.readVarint(),n.paint="radial_gradient_idx"):u===5?i.readPackedFloat(n.dasharray):u===6?n.dashoffset=i.readFloat():u===7?n.miterlimit=i.readFloat():u===8?n.opacity=i.readVarint():u===9?n.width=i.readFloat():u===10?n.linecap=i.readVarint():u===11&&(n.linejoin=i.readVarint())}function rv(u,n,i){u===1?n.transform=nv(i,i.readVarint()+i.pos):u===2?n.spread_method=i.readVarint():u===3?n.stops.push(i_(i,i.readVarint()+i.pos)):u===4?n.x1=i.readFloat():u===5?n.y1=i.readFloat():u===6?n.x2=i.readFloat():u===7&&(n.y2=i.readFloat())}function i_(u,n){return u.readFields(iS,{offset:0,opacity:255,rgb_color:e_},n)}function iS(u,n,i){u===1?n.offset=i.readFloat():u===2?n.opacity=i.readVarint():u===3&&(n.rgb_color=r_(i.readVarint()))}function Qp(u,n,i){u===1?n.transform=nv(i,i.readVarint()+i.pos):u===2?n.spread_method=i.readVarint():u===3?n.stops.push(i_(i,i.readVarint()+i.pos)):u===4?n.cx=i.readFloat():u===5?n.cy=i.readFloat():u===6?n.r=i.readFloat():u===7?n.fx=i.readFloat():u===8?n.fy=i.readFloat():u===9&&(n.fr=i.readFloat())}function em(u,n,i){u===1?n.transform=nv(i,i.readVarint()+i.pos):u===2?n.clip_path_idx=i.readVarint():u===3&&n.children.push(tv(i,i.readVarint()+i.pos))}function oS(u,n,i){u===1?n.left=n.top=i.readFloat():u===2?n.width=n.height=i.readFloat():u===3?n.top=i.readFloat():u===4?n.height=i.readFloat():u===5?n.mask_type=i.readVarint():u===6?n.mask_idx=i.readVarint():u===7&&n.children.push(tv(i,i.readVarint()+i.pos))}class aS{static calculate(n,i){const d=new Map,g=new Map;if(Object.keys(n).length===0)return d;i.forEach(h=>{g.set(h.name,h.rgb_color||new _e(0,0,0))});for(const[h,v]of Object.entries(n))g.has(h)?d.set(g.get(h).toStringPremultipliedAlpha(),v):console.warn(`Ignoring unknown image variable "${h}"`);return d}}function tm(u,n=255,i){const d=n/255,g=u.toStringPremultipliedAlpha(),h=i.has(g)?i.get(g).clone():u.clone();return h.a=d,h.toString()}function Tg(u,n){if(!Ze()){const i=document.createElement("canvas");return i.width=u,i.height=n,i}return new OffscreenCanvas(u,n)}function o_(u,n){const i=aS.calculate(n.params,u.metadata?u.metadata.variables:[]),d=u.usvg_tree,g=d.width,h=d.height,v=n.transform?n.transform:new DOMMatrix,S=Math.max(1,Math.round(g*v.a)),M=Math.max(1,Math.round(h*v.d)),A=new DOMMatrix([S/g,0,0,M/h,0,0]),b=Tg(S,M).getContext("2d");return iv(b,A,d,d,i),b.getImageData(0,0,S,M)}function iv(u,n,i,d,g){for(const h of d.children)a_(u,n,i,h,g)}function a_(u,n,i,d,g){d.group?(u.save(),function(h,v,S,M,A){const b=M.mask_idx!=null?S.masks[M.mask_idx]:null,P=M.clip_path_idx!=null?S.clip_paths[M.clip_path_idx]:null;if(M.transform&&(v=kh(M.transform).preMultiplySelf(v)),!function(O,N,W){return O.opacity!==255||N||W}(M,P!=null,b!=null))return void iv(h,v,S,M,A);const $=Tg(h.canvas.width,h.canvas.height),T=$.getContext("2d");iv(T,v,S,M,A),P&&l_(T,v,S,P),b&&R1(T,v,S,b,A),h.globalAlpha=M.opacity/255,h.drawImage($,0,0)}(u,n,i,d.group,g),u.restore()):d.path&&(u.save(),function(h,v,S,M,A){const b=c_(M);h.setTransform(v),M.paint_order===w1.PAINT_ORDER_FILL_AND_STROKE?(Lu(h,S,M,b,A),P1(h,S,M,b,A)):(P1(h,S,M,b,A),Lu(h,S,M,b,A))}(u,n,i,d.path,g),u.restore())}function Lu(u,n,i,d,g){const h=i.fill;if(!h)return;const v=h.opacity/255;switch(h.paint){case"rgb_color":u.fillStyle=tm(h.rgb_color,h.opacity,g);break;case"linear_gradient_idx":u.fillStyle=s_(u,n.linear_gradients[h.linear_gradient_idx],v,g);break;case"radial_gradient_idx":u.fillStyle=nm(u,n.radial_gradients[h.radial_gradient_idx],v,g)}u.fill(d,Fh(i))}function Fh(u){return u.rule===t_.PATH_RULE_NON_ZERO?"nonzero":u.rule===t_.PATH_RULE_EVEN_ODD?"evenodd":void 0}function P1(u,n,i,d,g){const h=i.stroke;if(!h)return;u.lineWidth=h.width,u.miterLimit=h.miterlimit,u.setLineDash(h.dasharray),u.lineDashOffset=h.dashoffset;const v=h.opacity/255;switch(h.paint){case"rgb_color":u.strokeStyle=tm(h.rgb_color,h.opacity,g);break;case"linear_gradient_idx":u.strokeStyle=s_(u,n.linear_gradients[h.linear_gradient_idx],v,g);break;case"radial_gradient_idx":u.strokeStyle=nm(u,n.radial_gradients[h.radial_gradient_idx],v,g)}switch(h.linejoin){case Ig.LINE_JOIN_MITER_CLIP:case Ig.LINE_JOIN_MITER:u.lineJoin="miter";break;case Ig.LINE_JOIN_ROUND:u.lineJoin="round";break;case Ig.LINE_JOIN_BEVEL:u.lineJoin="bevel"}switch(h.linecap){case Q0.LINE_CAP_BUTT:u.lineCap="butt";break;case Q0.LINE_CAP_ROUND:u.lineCap="round";break;case Q0.LINE_CAP_SQUARE:u.lineCap="square"}u.stroke(d)}function s_(u,n,i,d){if(n.stops.length===1){const $=n.stops[0];return tm($.rgb_color,$.opacity*i,d)}const g=kh(n.transform),{x1:h,y1:v,x2:S,y2:M}=n,A=g.transformPoint(new DOMPoint(h,v)),b=g.transformPoint(new DOMPoint(S,M)),P=u.createLinearGradient(A.x,A.y,b.x,b.y);for(const $ of n.stops)P.addColorStop($.offset,tm($.rgb_color,$.opacity*i,d));return P}function nm(u,n,i,d){if(n.stops.length===1){const $=n.stops[0];return tm($.rgb_color,$.opacity*i,d)}const g=kh(n.transform),{fx:h,fy:v,cx:S,cy:M}=n,A=g.transformPoint(new DOMPoint(h,v)),b=g.transformPoint(new DOMPoint(S,M)),P=u.createRadialGradient(A.x,A.y,0,b.x,b.y,n.r*((g.a+g.d)/2));for(const $ of n.stops)P.addColorStop($.offset,tm($.rgb_color,$.opacity*i,d));return P}function O1(u,n,i,d){const g=d.transform?kh(d.transform).preMultiplySelf(n):n,h=Tg(u.canvas.width,u.canvas.height),v=h.getContext("2d");for(const M of d.children)if(M.group)O1(v,g,i,M.group);else if(M.path){const A=M.path,b=new Path2D;b.addPath(c_(A),g),v.fill(b,Fh(A))}const S=d.clip_path_idx!=null?i.clip_paths[d.clip_path_idx]:null;S&&l_(v,g,i,S),u.globalCompositeOperation="source-over",u.drawImage(h,0,0)}function l_(u,n,i,d){const g=Tg(u.canvas.width,u.canvas.height);O1(g.getContext("2d"),n,i,d),u.globalCompositeOperation="destination-in",u.drawImage(g,0,0)}function R1(u,n,i,d,g){if(d.children.length===0)return;const h=d.mask_idx!=null?i.masks[d.mask_idx]:null;h&&R1(u,n,i,h,g);const v=u.canvas.width,S=u.canvas.height,M=Tg(v,S),A=M.getContext("2d"),b=d.width,P=d.height,$=d.left,T=d.top,O=new Path2D,N=new Path2D;N.rect($,T,b,P),O.addPath(N,n),A.clip(O);for(const se of d.children)a_(A,n,i,se,g);const W=A.getImageData(0,0,v,S),J=W.data;if(d.mask_type===ev.MASK_TYPE_LUMINANCE)for(let se=0;se<J.length;se+=4)J[se+3]=J[se+3]/255*(.2126*J[se]+.7152*J[se+1]+.0722*J[se+2]);A.putImageData(W,0,0),u.globalCompositeOperation="destination-in",u.drawImage(M,0,0)}function kh(u){return u?new DOMMatrix([u.sx,u.ky,u.kx,u.sy,u.tx,u.ty]):new DOMMatrix}function c_(u){const n=new Path2D,i=u.step;let d=u.diffs[0]*i,g=u.diffs[1]*i;n.moveTo(d,g);for(let h=0,v=2;h<u.commands.length;h++)switch(u.commands[h]){case Jp.PATH_COMMAND_MOVE:d+=u.diffs[v++]*i,g+=u.diffs[v++]*i,n.moveTo(d,g);break;case Jp.PATH_COMMAND_LINE:d+=u.diffs[v++]*i,g+=u.diffs[v++]*i,n.lineTo(d,g);break;case Jp.PATH_COMMAND_QUAD:{const S=d+u.diffs[v++]*i,M=g+u.diffs[v++]*i;d=S+u.diffs[v++]*i,g=M+u.diffs[v++]*i,n.quadraticCurveTo(S,M,d,g);break}case Jp.PATH_COMMAND_CUBIC:{const S=d+u.diffs[v++]*i,M=g+u.diffs[v++]*i,A=S+u.diffs[v++]*i,b=M+u.diffs[v++]*i;d=A+u.diffs[v++]*i,g=b+u.diffs[v++]*i,n.bezierCurveTo(S,M,A,b,d,g);break}case Jp.PATH_COMMAND_CLOSE:n.closePath()}return n}class qf{constructor(n){this.capacity=n,this.cache=new Map}get(n){if(!this.cache.has(n))return;const i=this.cache.get(n);return this.cache.delete(n),this.cache.set(n,i),i}put(n,i){this.cache.has(n)?this.cache.delete(n):this.cache.size===this.capacity&&this.cache.delete(this.cache.keys().next().value),this.cache.set(n,i)}delete(n){this.cache.delete(n)}}class u_{constructor(){this.cacheMap=new Map,this.cacheDependenciesMap=new Map}static _getImage(n){return new gc(n,n.data)}getFromCache(n,i,d){return this.cacheMap.has(d)||this.cacheMap.set(d,new qf(150)),this.cacheMap.get(d).get(Tu(n.serialize(),i))}setInCache(n,i,d,g){this.cacheDependenciesMap.has(g)||this.cacheDependenciesMap.set(g,new Map),this.cacheMap.has(g)||this.cacheMap.set(g,new qf(150));const h=this.cacheDependenciesMap.get(g);h.get(Tu(n.id,d))||h.set(Tu(n.id,d),new Set);const v=this.cacheMap.get(g),S=n.serialize();h.get(Tu(n.id,d)).add(S),v.put(Tu(n.serialize(),d),i)}removeImagesFromCacheByIds(n,i,d=""){if(!this.cacheMap.has(d)||!this.cacheDependenciesMap.has(d))return;const g=this.cacheMap.get(d),h=this.cacheDependenciesMap.get(d);for(const v of n)if(h.has(Tu(v,i))){for(const S of h.get(Tu(v,i)))g.delete(S);h.delete(Tu(v,i))}}rasterize(n,i,d,g,h=o_){const v=this.getFromCache(n,d,g);if(v)return v.clone();const S=h(i.icon,n.options),M=u_._getImage(S);return this.setInCache(n,M,d,g),M.clone()}}class d_{constructor(n){this.size=n,this.minimums=[],this.maximums=[],this.leaves=[]}getElevation(n,i){const d=this.toIdx(n,i);return{min:this.minimums[d],max:this.maximums[d]}}isLeaf(n,i){return this.leaves[this.toIdx(n,i)]}toIdx(n,i){return i*this.size+n}}function Jf(u,n,i,d){let g=0,h=Number.MAX_VALUE;for(let v=0;v<3;v++)if(Math.abs(d[v])<1e-15){if(i[v]<u[v]||i[v]>n[v])return null}else{const S=1/d[v];let M=(u[v]-i[v])*S,A=(n[v]-i[v])*S;if(M>A){const b=M;M=A,A=b}if(M>g&&(g=M),A<h&&(h=A),g>h)return null}return g}function $1(u,n,i,d,g,h,v,S,M,A,b){const P=d-u,$=g-n,T=h-i,O=v-u,N=S-n,W=M-i,J=b[1]*W-b[2]*N,se=b[2]*O-b[0]*W,ue=b[0]*N-b[1]*O,re=P*J+$*se+T*ue;if(Math.abs(re)<1e-15)return null;const ve=1/re,we=A[0]-u,Be=A[1]-n,mt=A[2]-i,pt=(we*J+Be*se+mt*ue)*ve;if(pt<0||pt>1)return null;const ft=Be*T-mt*$,Yt=mt*P-we*T,yt=we*$-Be*P,en=(b[0]*ft+b[1]*Yt+b[2]*yt)*ve;return en<0||pt+en>1?null:(O*ft+N*Yt+W*yt)*ve}function f_(u,n,i){return(u-n)/(i-n)}function A1(u,n,i,d,g,h,v,S,M){const A=1<<i,b=h-d,P=v-g,$=(u+1)/A*b+d,T=(n+0)/A*P+g,O=(n+1)/A*P+g;S[0]=(u+0)/A*b+d,S[1]=T,M[0]=$,M[1]=O}class Ld{constructor(n){if(this.maximums=[],this.minimums=[],this.leaves=[],this.childOffsets=[],this.nodeCount=0,this.dem=n,this._siblingOffset=[[0,0],[1,0],[0,1],[1,1]],!this.dem)return;const i=function(h){const v=Math.ceil(Math.log2(h.dim/8)),S=[];let M=Math.ceil(Math.pow(2,v));const A=1/M,b=(T,O,N,W,J)=>{const se=W?1:0,ue=(T+1)*N-se,re=O*N,ve=(O+1)*N-se;J[0]=T*N,J[1]=re,J[2]=ue,J[3]=ve};let P=new d_(M);const $=[];for(let T=0;T<M*M;T++){b(T%M,Math.floor(T/M),A,!1,$);const O=gf($[0],$[1],h),N=gf($[2],$[1],h),W=gf($[2],$[3],h),J=gf($[0],$[3],h);P.minimums.push(Math.min(O,N,W,J)),P.maximums.push(Math.max(O,N,W,J)),P.leaves.push(1)}for(S.push(P),M/=2;M>=1;M/=2){const T=S[S.length-1];P=new d_(M);for(let O=0;O<M*M;O++){b(O%M,Math.floor(O/M),2,!0,$);const N=T.getElevation($[0],$[1]),W=T.getElevation($[2],$[1]),J=T.getElevation($[2],$[3]),se=T.getElevation($[0],$[3]),ue=T.isLeaf($[0],$[1]),re=T.isLeaf($[2],$[1]),ve=T.isLeaf($[2],$[3]),we=T.isLeaf($[0],$[3]),Be=Math.min(N.min,W.min,J.min,se.min),mt=Math.max(N.max,W.max,J.max,se.max),pt=ue&&re&&ve&&we;P.maximums.push(mt),P.minimums.push(Be),P.leaves.push(mt-Be<=5&&pt?1:0)}S.push(P)}return S}(this.dem),d=i.length-1,g=i[d];this._addNode(g.minimums[0],g.maximums[0],g.leaves[0]),this._construct(i,0,0,d,0)}raycastRoot(n,i,d,g,h,v,S=1){return Jf([n,i,-100],[d,g,this.maximums[0]*S],h,v)}raycast(n,i,d,g,h,v,S=1){if(!this.nodeCount)return null;const M=this.raycastRoot(n,i,d,g,h,v,S);if(M==null)return null;const A=[],b=[],P=[],$=[],T=[{idx:0,t:M,nodex:0,nodey:0,depth:0}];for(;T.length>0;){const{idx:O,t:N,nodex:W,nodey:J,depth:se}=T.pop();if(this.leaves[O]){A1(W,J,se,n,i,d,g,P,$);const re=1<<se,ve=(W+0)/re,we=(W+1)/re,Be=(J+0)/re,mt=(J+1)/re,pt=gf(ve,Be,this.dem)*S,ft=gf(we,Be,this.dem)*S,Yt=gf(we,mt,this.dem)*S,yt=gf(ve,mt,this.dem)*S,en=$1(P[0],P[1],pt,$[0],P[1],ft,$[0],$[1],Yt,h,v),yn=$1($[0],$[1],Yt,P[0],$[1],yt,P[0],P[1],pt,h,v),fn=Math.min(en!==null?en:Number.MAX_VALUE,yn!==null?yn:Number.MAX_VALUE);if(fn!==Number.MAX_VALUE)return fn;{const xn=Ae.vec3.scaleAndAdd([],h,v,N);if(h_(pt,ft,yt,Yt,f_(xn[0],P[0],$[0]),f_(xn[1],P[1],$[1]))>=xn[2])return N}continue}let ue=0;for(let re=0;re<this._siblingOffset.length;re++){A1((W<<1)+this._siblingOffset[re][0],(J<<1)+this._siblingOffset[re][1],se+1,n,i,d,g,P,$),P[2]=-100,$[2]=this.maximums[this.childOffsets[O]+re]*S;const ve=Jf(P,$,h,v);if(ve!=null){const we=ve;A[re]=we;let Be=!1;for(let mt=0;mt<ue&&!Be;mt++)we>=A[b[mt]]&&(b.splice(mt,0,re),Be=!0);Be||(b[ue]=re),ue++}}for(let re=0;re<ue;re++){const ve=b[re];T.push({idx:this.childOffsets[O]+ve,t:A[ve],nodex:(W<<1)+this._siblingOffset[ve][0],nodey:(J<<1)+this._siblingOffset[ve][1],depth:se+1})}}return null}_addNode(n,i,d){return this.minimums.push(n),this.maximums.push(i),this.leaves.push(d),this.childOffsets.push(0),this.nodeCount++}_construct(n,i,d,g,h){if(n[g].isLeaf(i,d)===1)return;this.childOffsets[h]||(this.childOffsets[h]=this.nodeCount);const v=g-1,S=n[v];let M=0,A=0;for(let b=0;b<this._siblingOffset.length;b++){const P=2*i+this._siblingOffset[b][0],$=2*d+this._siblingOffset[b][1],T=S.getElevation(P,$),O=S.isLeaf(P,$),N=this._addNode(T.min,T.max,O);O&&(M|=1<<b),A||(A=N)}for(let b=0;b<this._siblingOffset.length;b++)M&1<<b||this._construct(n,2*i+this._siblingOffset[b][0],2*d+this._siblingOffset[b][1],v,A+b)}}function h_(u,n,i,d,g,h){return Et(Et(u,i,h),Et(n,d,h),g)}function gf(u,n,i){const d=i.dim,g=Hn(u*d-.5,0,d-1),h=Hn(n*d-.5,0,d-1),v=Math.floor(g),S=Math.floor(h),M=Math.min(v+1,d-1),A=Math.min(S+1,d-1);return h_(i.get(v,S),i.get(M,S),i.get(v,A),i.get(M,A),g-v,h-S)}const sS={mapbox:[6553.6,25.6,.1,1e4],terrarium:[256,1,1/256,32768]};function lS(u,n,i){return(256*u*256+256*n+i)/10-1e4}function cS(u,n,i){return 256*u+n+i/256-32768}class Mg{get tree(){return this._tree||this._buildQuadTree(),this._tree}constructor(n,i,d,g=!1){if(this.uid=n,i.height!==i.width)throw new RangeError("DEM tiles must be square");if(d&&d!=="mapbox"&&d!=="terrarium")return void Wn(`"${d}" is not a valid encoding type. Valid types include "mapbox" and "terrarium".`);this.stride=i.height;const h=this.dim=i.height-2,v=new Uint32Array(i.data.buffer);if(this.pixels=new Uint8Array(i.data.buffer),this.floatView=new Float32Array(i.data.buffer),this.borderReady=g,this._modifiedForSources={},!g){for(let M=0;M<h;M++)v[this._idx(-1,M)]=v[this._idx(0,M)],v[this._idx(h,M)]=v[this._idx(h-1,M)],v[this._idx(M,-1)]=v[this._idx(M,0)],v[this._idx(M,h)]=v[this._idx(M,h-1)];v[this._idx(-1,-1)]=v[this._idx(0,0)],v[this._idx(h,-1)]=v[this._idx(h-1,0)],v[this._idx(-1,h)]=v[this._idx(0,h-1)],v[this._idx(h,h)]=v[this._idx(h-1,h-1)]}const S=d==="terrarium"?cS:lS;for(let M=0;M<v.length;++M){const A=4*M;this.floatView[M]=S(this.pixels[A],this.pixels[A+1],this.pixels[A+2])}this._timestamp=pe.now()}_buildQuadTree(){this._tree=new Ld(this)}get(n,i,d=!1){d&&(n=Hn(n,-1,this.dim),i=Hn(i,-1,this.dim));const g=this._idx(n,i);return this.floatView[g]}set(n,i,d){const g=this._idx(n,i),h=this.floatView[g];return this.floatView[g]=d,d-h}static getUnpackVector(n){return sS[n]}_idx(n,i){if(n<-1||n>=this.dim+1||i<-1||i>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(i+1)*this.stride+(n+1)}static pack(n,i){const d=[0,0,0,0],g=Mg.getUnpackVector(i);let h=Math.floor((n+g[3])/g[2]);return d[2]=h%256,h=Math.floor(h/256),d[1]=h%256,h=Math.floor(h/256),d[0]=h,d}getPixels(){return new X_({width:this.stride,height:this.stride},this.pixels)}backfillBorder(n,i,d){if(this.dim!==n.dim)throw new Error("dem dimension mismatch");let g=i*this.dim,h=i*this.dim+this.dim,v=d*this.dim,S=d*this.dim+this.dim;switch(i){case-1:g=h-1;break;case 1:h=g+1}switch(d){case-1:v=S-1;break;case 1:S=v+1}const M=-i*this.dim,A=-d*this.dim;for(let b=v;b<S;b++)for(let P=g;P<h;P++){const $=4*this._idx(P,b),T=4*this._idx(P+M,b+A);this.pixels[$+0]=n.pixels[T+0],this.pixels[$+1]=n.pixels[T+1],this.pixels[$+2]=n.pixels[T+2],this.pixels[$+3]=n.pixels[T+3]}}onDeserialize(){this._tree&&(this._tree.dem=this)}}function uS(u,n,i){u===1?n.headerLength=i.readFixed32():u===2?n.x=i.readVarint():u===3?n.y=i.readVarint():u===4?n.z=i.readVarint():u===5&&n.layers.push(function(d,g){return d.readFields(D1,{version:0,name:"",units:"",tileSize:0,buffer:0,pixelFormat:0,dataIndex:[]},g)}(i,i.readVarint()+i.pos))}function dS(u,n,i){u===1?(n.delta_filter=function(d,g){return d.readFields(fS,{blockSize:0},g)}(i,i.readVarint()+i.pos),n.filter="delta_filter"):u===2?(i.readVarint(),n.filter="zigzag_filter"):u===3?(i.readVarint(),n.filter="bitshuffle_filter"):u===4&&(i.readVarint(),n.filter="byteshuffle_filter")}function fS(u,n,i){u===1&&(n.blockSize=i.readVarint())}function hS(u,n,i){u===1?(i.readVarint(),n.codec="gzip_data"):u===2?(i.readVarint(),n.codec="jpeg_image"):u===3?(i.readVarint(),n.codec="webp_image"):u===4&&(i.readVarint(),n.codec="png_image")}function pS(u,n,i){let d=0,g=0;u===1?n.firstByte=i.readFixed64():u===2?n.lastByte=i.readFixed64():u===3?n.filters.push(function(h,v){return h.readFields(dS,{},v)}(i,i.readVarint()+i.pos)):u===4?n.codec=function(h,v){return h.readFields(hS,{},v)}(i,i.readVarint()+i.pos):u===5?g=i.readFloat():u===6?d=i.readFloat():u===7?n.bands.push(i.readString()):u===8?n.offset=i.readDouble():u===9&&(n.scale=i.readDouble()),n.offset===0&&(n.offset=g),n.scale===0&&(n.scale=d)}function D1(u,n,i){u===1?n.version=i.readVarint():u===2?n.name=i.readString():u===3?n.units=i.readString():u===4?n.tileSize=i.readVarint():u===5?n.buffer=i.readVarint():u===6?n.pixelFormat=i.readVarint():u===7&&n.dataIndex.push(function(d,g){return d.readFields(pS,{firstByte:0,lastByte:0,filters:[],codec:null,offset:0,scale:0,bands:[]},g)}(i,i.readVarint()+i.pos))}function mS(u,n,i){if(u===2)(function(d,g,h){d.readFields(gS,h,g)})(i,i.readVarint()+i.pos,n);else if(u===3)throw new Error("Not implemented")}function gS(u,n,i){if(u===1){let d=0;const g=i.readVarint()+i.pos;for(;i.pos<g;)n[d++]=i.readVarint()}}function vS(u,n){if(n.length!==4)throw new Error(`Expected data of dimension 4 but got ${n.length}.`);let i=n[3];for(let d=2;d>=1;d--){const g=d===1?1:0,h=d===2?1:0;for(let v=0;v<n[0];v++){const S=n[1]*v;for(let M=g;M<n[1];M++){const A=n[2]*(M+S);for(let b=h;b<n[2];b++){const P=n[3]*(b+A);for(let $=0;$<n[3];$++){const T=P+$;u[T]+=u[T-i]}}}}i*=n[d]}return u}function L1(u){for(let n=0,i=u.length;n<i;n++)u[n]=u[n]>>>1^-(1&u[n]);return u}function a2(u,n){switch(n){case"uint32":return u;case"uint16":for(let i=0;i<u.length;i+=2){const d=u[i],g=u[i+1];u[i]=(240&d)>>4|(61440&d)>>8|(240&g)<<4|61440&g,u[i+1]=15&d|(3840&d)>>4|(15&g)<<8|(3840&g)<<4}return u;case"uint8":for(let i=0;i<u.length;i+=4){const d=u[i],g=u[i+1],h=u[i+2],v=u[i+3];u[i+0]=(192&d)>>6|(192&g)>>4|(192&h)>>2|192&v,u[i+1]=(48&d)>>4|(48&g)>>2|48&h|(48&v)<<2,u[i+2]=(12&d)>>2|12&g|(12&h)<<2|(12&v)<<4,u[i+3]=3&d|(3&g)<<2|(3&h)<<4|(3&v)<<6}return u;default:throw new Error(`Invalid pixel format, "${n}"`)}}Eo(Mg,"DEMData"),Eo(Ld,"DemMinMaxQuadTree",{omit:["dem"]});var zu=Uint8Array,ov=Uint16Array,yS=Int32Array,Pg=new zu([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),z1=new zu([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),N1=new zu([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Vc=function(u,n){for(var i=new ov(31),d=0;d<31;++d)i[d]=n+=1<<u[d-1];var g=new yS(i[30]);for(d=1;d<30;++d)for(var h=i[d];h<i[d+1];++h)g[h]=h-i[d]<<5|d;return{b:i,r:g}},Qf=Vc(Pg,2),p_=Qf.b,B1=Qf.r;p_[28]=258,B1[258]=28;for(var m_=Vc(z1,0).b,g_=new ov(32768),il=0;il<32768;++il){var rm=(43690&il)>>1|(21845&il)<<1;g_[il]=((65280&(rm=(61680&(rm=(52428&rm)>>2|(13107&rm)<<2))>>4|(3855&rm)<<4))>>8|(255&rm)<<8)>>1}var im=function(u,n,i){for(var d=u.length,g=0,h=new ov(n);g<d;++g)u[g]&&++h[u[g]-1];var v,S=new ov(n);for(g=1;g<n;++g)S[g]=S[g-1]+h[g-1]<<1;v=new ov(1<<n);var M=15-n;for(g=0;g<d;++g)if(u[g])for(var A=g<<4|u[g],b=n-u[g],P=S[u[g]-1]++<<b,$=P|(1<<b)-1;P<=$;++P)v[g_[P]>>M]=A;return v},om=new zu(288);for(il=0;il<144;++il)om[il]=8;for(il=144;il<256;++il)om[il]=9;for(il=256;il<280;++il)om[il]=7;for(il=280;il<288;++il)om[il]=8;var _S=new zu(32);for(il=0;il<32;++il)_S[il]=5;var F1=im(om,9),k1=im(_S,5),v_=function(u){for(var n=u[0],i=1;i<u.length;++i)u[i]>n&&(n=u[i]);return n},au=function(u,n,i){var d=n/8|0;return(u[d]|u[d+1]<<8)>>(7&n)&i},av=function(u,n){var i=n/8|0;return(u[i]|u[i+1]<<8|u[i+2]<<16)>>(7&n)},s2=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Nu=function(u,n,i){var d=new Error(n||s2[u]);if(d.code=u,Error.captureStackTrace&&Error.captureStackTrace(d,Nu),!i)throw d;return d},bS=new zu(0),Z1=typeof TextDecoder!="undefined"&&new TextDecoder;try{Z1.decode(bS,{stream:!0})}catch(u){}const j1={gzip_data:"gzip"};class Bu extends Error{constructor(n){super(n),this.name="MRTError"}}const xS={0:"uint32",1:"uint32",2:"uint16",3:"uint8"},V1={uint32:1,uint16:2,uint8:4},CS={uint32:Uint32Array,uint16:Uint16Array,uint8:Uint8Array};let y_;class __{constructor(n=5){this.x=NaN,this.y=NaN,this.z=NaN,this.layers={},this._cacheSize=n}getLayer(n){const i=this.layers[n];if(!i)throw new Bu(`Layer '${n}' not found`);return i}getHeaderLength(n){const i=new Uint8Array(n),d=new DataView(n);if(i[0]!==13)throw new Bu("File is not a valid MRT.");return d.getUint32(1,!0)}parseHeader(n){const i=new Uint8Array(n),d=this.getHeaderLength(n);if(i.length<d)throw new Bu(`Expected header with length >= ${d} but got buffer of length ${i.length}`);const g=function(h,v){return h.readFields(uS,{headerLength:0,x:0,y:0,z:0,layers:[]},void 0)}(new y_(i.subarray(0,d)));if(!isNaN(this.x)&&(this.x!==g.x||this.y!==g.y||this.z!==g.z))throw new Bu(`Invalid attempt to parse header ${g.z}/${g.x}/${g.y} for tile ${this.z}/${this.x}/${this.y}`);this.x=g.x,this.y=g.y,this.z=g.z;for(const h of g.layers)this.layers[h.name]=new SS(h,{cacheSize:this._cacheSize});return this}createDecodingTask(n){const i=[],d=this.getLayer(n.layerName);for(let g of n.blockIndices){const h=d.dataIndex[g],v=h.firstByte-n.firstByte,S=h.lastByte-n.firstByte;if(d._blocksInProgress.has(g))continue;const M={layerName:d.name,firstByte:v,lastByte:S,pixelFormat:d.pixelFormat,blockIndex:g,blockShape:[h.bands.length].concat(d.bandShape),buffer:d.buffer,codec:h.codec.codec,filters:h.filters.map(A=>A.filter)};d._blocksInProgress.add(g),i.push(M)}return new H1(i,()=>{i.forEach(g=>d._blocksInProgress.delete(g.blockIndex))},(g,h)=>{if(i.forEach(v=>d._blocksInProgress.delete(v.blockIndex)),g)throw g;h.forEach(v=>{this.getLayer(v.layerName).processDecodedData(v)})})}}class SS{constructor({version:n,name:i,units:d,tileSize:g,pixelFormat:h,buffer:v,dataIndex:S},M){if(this.version=n,this.version!==1)throw new Bu(`Cannot parse raster layer encoded with MRT version ${n}`);this.name=i,this.units=d,this.tileSize=g,this.buffer=v,this.pixelFormat=xS[h],this.dataIndex=S,this.bandShape=[g+2*v,g+2*v,V1[this.pixelFormat]],this._decodedBlocks=new qf(M?M.cacheSize:5),this._blocksInProgress=new Set}get dimension(){return V1[this.pixelFormat]}get cacheSize(){return this._decodedBlocks.capacity}getBandList(){return this.dataIndex.map(({bands:n})=>n).flat()}processDecodedData(n){const i=n.blockIndex.toString();this._decodedBlocks.get(i)||this._decodedBlocks.put(i,n.data)}getBlockForBand(n){let i=0;switch(typeof n){case"string":for(const[d,g]of this.dataIndex.entries()){for(const[h,v]of g.bands.entries())if(v===n)return{bandIndex:i+h,blockIndex:d,blockBandIndex:h};i+=g.bands.length}break;case"number":for(const[d,g]of this.dataIndex.entries()){if(n>=i&&n<i+g.bands.length)return{bandIndex:n,blockIndex:d,blockBandIndex:n-i};i+=g.bands.length}break;default:throw new Bu(`Invalid band \`${JSON.stringify(n)}\`. Expected string or integer.`)}throw new Bu(`Band not found: ${JSON.stringify(n)}`)}getDataRange(n){let i=1/0,d=-1/0;const g=[],h=new Set;for(const v of n){const{blockIndex:S}=this.getBlockForBand(v);if(S<0)throw new Bu(`Invalid band: ${JSON.stringify(v)}`);const M=this.dataIndex[S];g.includes(S)||g.push(S),h.add(S),i=Math.min(i,M.firstByte),d=Math.max(d,M.lastByte)}if(h.size>this.cacheSize)throw new Bu(`Number of blocks to decode (${h.size}) exceeds cache size (${this.cacheSize}).`);return{layerName:this.name,firstByte:i,lastByte:d,blockIndices:g}}hasBand(n){const{blockIndex:i}=this.getBlockForBand(n);return i>=0}hasDataForBand(n){const{blockIndex:i}=this.getBlockForBand(n);return i>=0&&!!this._decodedBlocks.get(i.toString())}getBandView(n){const{blockIndex:i,blockBandIndex:d}=this.getBlockForBand(n),g=this._decodedBlocks.get(i.toString());if(!g)throw new Bu(`Data for band ${JSON.stringify(n)} of layer "${this.name}" not decoded.`);const h=this.dataIndex[i],v=this.bandShape.reduce((A,b)=>A*b,1),S=d*v,M=g.subarray(S,S+v);return{data:M,bytes:new Uint8Array(M.buffer).subarray(M.byteOffset,M.byteOffset+M.byteLength),tileSize:this.tileSize,buffer:this.buffer,pixelFormat:this.pixelFormat,dimension:this.dimension,offset:h.offset,scale:h.scale}}}__.setPbf=function(u){y_=u};class H1{constructor(n,i,d){this.tasks=n,this._onCancel=i,this._onComplete=d,this._finalized=!1}cancel(){this._finalized||(this._onCancel(),this._finalized=!0)}complete(n,i){this._finalized||(this._onComplete(n,i),this._finalized=!0)}}__.performDecoding=function(u,n){const i=new Uint8Array(u);return Promise.all(n.tasks.map(d=>{const{layerName:g,firstByte:h,lastByte:v,pixelFormat:S,blockShape:M,blockIndex:A,filters:b,codec:P}=d,$=i.subarray(h,v+1),T=new Uint32Array(M[0]*M[1]*M[2]);let O;if(P!=="gzip_data")throw new Bu(`Unhandled codec: ${P}`);return O=function(N,W){if(!globalThis.DecompressionStream&&W==="gzip_data")return Promise.resolve(((re=function(Be){Be[0]==31&&Be[1]==139&&Be[2]==8||Nu(6,"invalid gzip data");var mt=Be[3],pt=10;4&mt&&(pt+=2+(Be[10]|Be[11]<<8));for(var ft=(mt>>3&1)+(mt>>4&1);ft>0;ft-=!Be[pt++]);return pt+(2&mt)}(ue=N))+8>ue.length&&Nu(6,"invalid gzip data"),function(Be,mt,pt,ft){var Yt=Be.length;if(!Yt||mt.f&&!mt.l)return pt||new zu(0);var yt=!pt,en=yt||mt.i!=2,yn=mt.i;yt&&(pt=new zu(3*Yt));var fn,xn,Bn=function(rh){var Vh=pt.length;if(rh>Vh){var Lg=new zu(Math.max(2*Vh,rh));Lg.set(pt),pt=Lg}},Yn=mt.f||0,$n=mt.p||0,$r=mt.b||0,fi=mt.l,Dr=mt.d,Qi=mt.m,Hi=mt.n,Ii=8*Yt;do{if(!fi){Yn=au(Be,$n,1);var gi=au(Be,$n+1,3);if($n+=3,!gi){var Ro=Be[(Ia=4+(($n+7)/8|0))-4]|Be[Ia-3]<<8,io=Ia+Ro;if(io>Yt){yn&&Nu(0);break}en&&Bn($r+Ro),pt.set(Be.subarray(Ia,io),$r),mt.b=$r+=Ro,mt.p=$n=8*io,mt.f=Yn;continue}if(gi==1)fi=F1,Dr=k1,Qi=9,Hi=5;else if(gi==2){var yo=au(Be,$n,31)+257,ua=au(Be,$n+10,15)+4,ka=yo+au(Be,$n+5,31)+1;$n+=14;for(var za=new zu(ka),Na=new zu(19),es=0;es<ua;++es)Na[N1[es]]=au(Be,$n+3*es,7);$n+=3*ua;var ts=v_(Na),Vs=(1<<ts)-1,Ds=im(Na,ts);for(es=0;es<ka;){var Ia,Is=Ds[au(Be,$n,Vs)];if($n+=15&Is,(Ia=Is>>4)<16)za[es++]=Ia;else{var $s=0,Ks=0;for(Ia==16?(Ks=3+au(Be,$n,3),$n+=2,$s=za[es-1]):Ia==17?(Ks=3+au(Be,$n,7),$n+=3):Ia==18&&(Ks=11+au(Be,$n,127),$n+=7);Ks--;)za[es++]=$s}}var Sl=za.subarray(0,yo),zl=za.subarray(yo);Qi=v_(Sl),Hi=v_(zl),fi=im(Sl,Qi),Dr=im(zl,Hi)}else Nu(1);if($n>Ii){yn&&Nu(0);break}}en&&Bn($r+131072);for(var wl=(1<<Qi)-1,ul=(1<<Hi)-1,El=$n;;El=$n){var kl=($s=fi[av(Be,$n)&wl])>>4;if(($n+=15&$s)>Ii){yn&&Nu(0);break}if($s||Nu(2),kl<256)pt[$r++]=kl;else{if(kl==256){El=$n,fi=null;break}var wc=kl-254;kl>264&&(wc=au(Be,$n,(1<<(zd=Pg[es=kl-257]))-1)+p_[es],$n+=zd);var Xs=Dr[av(Be,$n)&ul],Hc=Xs>>4;if(Xs||Nu(3),$n+=15&Xs,zl=m_[Hc],Hc>3){var zd=z1[Hc];zl+=av(Be,$n)&(1<<zd)-1,$n+=zd}if($n>Ii){yn&&Nu(0);break}en&&Bn($r+131072);var bu=$r+wc;if($r<zl){var Fu=0-zl,jh=Math.min(zl,bu);for(Fu+$r<0&&Nu(3);$r<jh;++$r)pt[$r]=(void 0)[Fu+$r]}for(;$r<bu;++$r)pt[$r]=pt[$r-zl]}}mt.l=fi,mt.p=El,mt.b=$r,mt.f=Yn,fi&&(Yn=1,mt.m=Qi,mt.d=Dr,mt.n=Hi)}while(!Yn);return $r!=pt.length&&yt?(fn=pt,((xn=$r)==null||xn>fn.length)&&(xn=fn.length),new zu(fn.subarray(0,xn))):pt.subarray(0,$r)}(ue.subarray(re,-8),{i:2},new zu(((J=ue)[(se=J.length)-4]|J[se-3]<<8|J[se-2]<<16|J[se-1]<<24)>>>0))));var J,se,ue,re;const ve=j1[W];if(!ve)throw new Error(`Unhandled codec: ${W}`);const we=new globalThis.DecompressionStream(ve);return new Response(new Blob([N]).stream().pipeThrough(we)).arrayBuffer().then(Be=>new Uint8Array(Be))}($,P).then(N=>(function(W,J){W.readFields(mS,J)}(new y_(N),T),new CS[S](T.buffer))),O.then(N=>{for(let W=b.length-1;W>=0;W--)switch(b[W]){case"delta_filter":vS(N,M);break;case"zigzag_filter":L1(N);break;case"bitshuffle_filter":a2(N,S);break;default:throw new Bu(`Unhandled filter "${b[W]}"`)}return{layerName:g,blockIndex:A,data:N}}).catch(N=>{throw N})}))},Eo(H1,"MRTDecodingBatch",{omit:["_onCancel","_onComplete"]});let Og,eh,cd,am,b_,th=null;function U1(){return Io()&&self.worker&&self.worker.dracoUrl?self.worker.dracoUrl:eh||rr.DRACO_URL}function wS(){if(Io()&&self.worker&&self.worker.meshoptUrl)return self.worker.meshoptUrl;if(am)return am;const u=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]);if(typeof WebAssembly!="object")throw new Error("WebAssembly not supported, cannot instantiate meshoptimizer");return am=WebAssembly.validate(u)?rr.MESHOPT_SIMD_URL:rr.MESHOPT_URL,am}const Rg={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},ES={5120:"DT_INT8",5121:"DT_UINT8",5122:"DT_INT16",5123:"DT_UINT16",5125:"DT_UINT32",5126:"DT_FLOAT32"},$g={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16};function W1(u,n,i){const d=i.json.bufferViews.length,g=i.buffers.length;n.bufferView=d,i.json.bufferViews[d]={buffer:g,byteLength:u.byteLength},i.buffers[g]=u}const G1="KHR_draco_mesh_compression";function K1(u,n){const i=u.extensions&&u.extensions[G1];if(!i)return;const d=new cd.Decoder,g=q1(n,i.bufferView),h=new cd.Mesh;if(!d.DecodeArrayToMesh(g,g.byteLength,h))throw new Error("Failed to decode Draco mesh");const v=n.json.accessors[u.indices],S=Rg[v.componentType],M=v.count*S.BYTES_PER_ELEMENT,A=cd._malloc(M);S===Uint16Array?d.GetTrianglesUInt16Array(h,M,A):d.GetTrianglesUInt32Array(h,M,A),W1(cd.memory.buffer.slice(A,A+M),v,n),cd._free(A);for(const b of Object.keys(i.attributes)){const P=d.GetAttributeByUniqueId(h,i.attributes[b]),$=n.json.accessors[u.attributes[b]],T=ES[$.componentType],O=$.count*$g[$.type]*Rg[$.componentType].BYTES_PER_ELEMENT,N=cd._malloc(O);d.GetAttributeDataArrayForAllPoints(h,P,cd[T],O,N),W1(cd.memory.buffer.slice(N,N+O),$,n),cd._free(N)}d.destroy(),h.destroy(),delete u.extensions[G1]}const sv="EXT_meshopt_compression";function l2(u,n){if(!u.extensions||!u.extensions[sv])return;const i=u.extensions[sv],d=new Uint8Array(n.buffers[i.buffer],i.byteOffset||0,i.byteLength||0),g=new Uint8Array(i.count*i.byteStride);b_.decodeGltfBuffer(g,i.count,i.byteStride,d,i.mode,i.filter),u.buffer=n.buffers.length,u.byteOffset=0,n.buffers[u.buffer]=g.buffer,delete u.extensions[sv]}const X1=1179937895,lv=new TextDecoder("utf8");function nh(u,n){return new URL(u,n).href}function Y1(u,n,i,d){return fetch(nh(u.uri,d)).then(g=>g.arrayBuffer()).then(g=>{n.buffers[i]=g})}function q1(u,n){const i=u.json.bufferViews[n];return new Uint8Array(u.buffers[i.buffer],i.byteOffset||0,i.byteLength)}function IS(u,n,i,d){if(u.uri){const g=nh(u.uri,d);return fetch(g).then(h=>h.blob()).then(h=>createImageBitmap(h)).then(h=>{n.images[i]=h})}if(u.bufferView!==void 0){const g=q1(n,u.bufferView),h=new Blob([g],{type:u.mimeType});return createImageBitmap(h).then(v=>{n.images[i]=v})}}function J1(u,n=0,i){const d={json:null,images:[],buffers:[]};if(new Uint32Array(u,n,1)[0]===X1){const b=new Uint32Array(u,n);let P=2;const $=(b[P++]>>2)-3,T=b[P++]>>2;if(P++,d.json=JSON.parse(lv.decode(b.subarray(P,P+T))),P+=T,P<$){const O=b[P++];P++;const N=n+(P<<2);d.buffers[0]=u.slice(N,N+O)}}else d.json=JSON.parse(lv.decode(new Uint8Array(u,n)));const{buffers:g,images:h,meshes:v,extensionsUsed:S,bufferViews:M}=d.json;let A=Promise.resolve();if(g){const b=[];for(let P=0;P<g.length;P++){const $=g[P];$.uri?b.push(Y1($,d,P,i)):d.buffers[P]||(d.buffers[P]=null)}A=Promise.all(b)}return A.then(()=>{const b=[],P=S&&S.includes(G1),$=S&&S.includes(sv);if(P&&b.push(function(){if(!cd)return Og!=null?Og:(Og=function(T){let O,N=null;function W(){O=new Uint8Array(N.buffer)}function J(){throw new Error("Unexpected Draco error.")}const se={a:{a:J,d:function(ue,re,ve){return O.copyWithin(ue,re,re+ve)},c:function(ue){const re=O.length,ve=Math.max(ue>>>0,Math.ceil(1.2*re)),we=Math.ceil((ve-re)/65536);try{return N.grow(we),W(),!0}catch(Be){return!1}},b:J}};return(WebAssembly.instantiateStreaming?WebAssembly.instantiateStreaming(T,se):T.then(ue=>ue.arrayBuffer()).then(ue=>WebAssembly.instantiate(ue,se))).then(ue=>{const{Rb:re,Qb:ve,P:we,T:Be,X:mt,Ja:pt,La:ft,Qa:Yt,Va:yt,Wa:en,eb:yn,jb:fn,f:xn,e:Bn,yb:Yn,zb:$n,Ab:$r,Bb:fi,Db:Dr,Gb:Qi}=ue.instance.exports;N=Bn;const Hi=(()=>{let Ii=0,gi=0,Ro=0,io=0;return yo=>{Ro&&(re(io),re(Ii),gi+=Ro,Ro=Ii=0),Ii||(gi+=128,Ii=ve(gi));const ua=yo.length+7&-8;let ka=Ii;ua>=gi&&(Ro=ua,ka=io=ve(ua));for(let za=0;za<yo.length;za++)O[ka+za]=yo[za];return ka}})();return W(),xn(),{memory:Bn,_free:re,_malloc:ve,Mesh:class{constructor(){this.ptr=we()}destroy(){Be(this.ptr)}},Decoder:class{constructor(){this.ptr=pt()}destroy(){fn(this.ptr)}DecodeArrayToMesh(Ii,gi,Ro){const io=Hi(Ii),yo=ft(this.ptr,io,gi,Ro.ptr);return!!mt(yo)}GetAttributeByUniqueId(Ii,gi){return{ptr:Yt(this.ptr,Ii.ptr,gi)}}GetTrianglesUInt16Array(Ii,gi,Ro){yt(this.ptr,Ii.ptr,gi,Ro)}GetTrianglesUInt32Array(Ii,gi,Ro){en(this.ptr,Ii.ptr,gi,Ro)}GetAttributeDataArrayForAllPoints(Ii,gi,Ro,io,yo){yn(this.ptr,Ii.ptr,gi.ptr,Ro,io,yo)}},DT_INT8:Yn(),DT_UINT8:$n(),DT_INT16:$r(),DT_UINT16:fi(),DT_UINT32:Dr(),DT_FLOAT32:Qi()}})}(fetch(U1())),Og.then(T=>{cd=T,Og=void 0}))}()),$&&b.push(function(){if(b_)return;const T=function(O){let N;const W=WebAssembly.instantiateStreaming(O,{}).then(ue=>{N=ue.instance,N.exports.__wasm_call_ctors()}),J={NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},se={ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};return{ready:W,supported:!0,decodeGltfBuffer(ue,re,ve,we,Be,mt){(function(pt,ft,Yt,yt,en,yn,fn){const xn=pt.exports.sbrk,Bn=yt+3&-4,Yn=xn(Bn*en),$n=xn(yn.length),$r=new Uint8Array(pt.exports.memory.buffer);$r.set(yn,$n);const fi=ft(Yn,yt,en,$n,yn.length);if(fi===0&&fn&&fn(Yn,Bn,en),Yt.set($r.subarray(Yn,Yn+yt*en)),xn(Yn-xn(0)),fi!==0)throw new Error(`Malformed buffer data: ${fi}`)})(N,N.exports[se[Be]],ue,re,ve,we,N.exports[J[mt]])}}}(fetch(wS()));return T.ready.then(()=>{b_=T})}()),h)for(let T=0;T<h.length;T++)b.push(IS(h[T],d,T,i));return(b.length?Promise.all(b):Promise.resolve()).then(()=>{if(P&&v)for(const{primitives:T}of v)for(const O of T)K1(O,d);if($&&v&&M)for(const T of M)l2(T,d);return d})})}function Zh(u,n){const i=u.json.bufferViews[n.bufferView],d=Rg[n.componentType];return new d(u.buffers[i.buffer],(n.byteOffset||0)+(i.byteOffset||0),n.count*(i.byteStride&&i.byteStride!==$g[n.type]*d.BYTES_PER_ELEMENT?i.byteStride/d.BYTES_PER_ELEMENT:$g[n.type]))}function x_(u,n,i,d){const g=Rg[n.componentType],h=function(b){switch(b){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:return 1}}(g),v=u.json.bufferViews[n.bufferView],S=v.byteStride?v.byteStride/g.BYTES_PER_ELEMENT:$g[n.type],M=i.float32,A=M.length/i.capacity;for(let b=0,P=0;b<n.count*S;b+=S,P+=A)for(let $=0;$<A;$++)M[P+$]=d[b+$]*h;i._trim()}function TS(u,n,i){const d=u.indices,g=u.attributes,h={};h.indexArray=new lc;const v=n.json.accessors[d],S=v.count/3;h.indexArray.reserve(S);const M=Zh(n,v);for(let $=0;$<S;$++)h.indexArray.emplaceBack(M[3*$],M[3*$+1],M[3*$+2]);h.indexArray._trim(),h.vertexArray=new Pu;const A=n.json.accessors[g.POSITION];h.vertexArray.reserve(A.count);const b=Zh(n,A);for(let $=0;$<A.count;$++)h.vertexArray.emplaceBack(b[3*$],b[3*$+1],b[3*$+2]);if(h.vertexArray._trim(),h.aabb=new Bo(A.min,A.max),h.centroid=function($,T){const O=[0,0,0],N=$.length;if(N>0){for(let W=0;W<N;W++){const J=3*$[W];O[0]+=T[J],O[1]+=T[J+1],O[2]+=T[J+2]}O[0]/=N,O[1]/=N,O[2]/=N}return O}(M,b),g.COLOR_0!==void 0){const $=n.json.accessors[g.COLOR_0],T=$g[$.type],O=Zh(n,$);h.colorArray=T===3?new Pu:new Jd,h.colorArray.resize($.count),x_(n,$,h.colorArray,O)}if(g.NORMAL!==void 0){h.normalArray=new Pu;const $=n.json.accessors[g.NORMAL];h.normalArray.resize($.count);const T=Zh(n,$);x_(n,$,h.normalArray,T)}if(g.TEXCOORD_0!==void 0&&i.length>0){h.texcoordArray=new pu;const $=n.json.accessors[g.TEXCOORD_0];h.texcoordArray.resize($.count);const T=Zh(n,$);x_(n,$,h.texcoordArray,T)}if(g._FEATURE_ID_RGBA4444!==void 0){const $=n.json.accessors[g._FEATURE_ID_RGBA4444];n.json.extensionsUsed&&n.json.extensionsUsed.includes("EXT_meshopt_compression")&&(h.featureData=Zh(n,$))}g._FEATURE_RGBA4444!==void 0&&(h.featureData=new Uint32Array(Zh(n,n.json.accessors[g._FEATURE_RGBA4444]).buffer));const P=u.material;return h.material=function($,T){const{emissiveFactor:O=[0,0,0],alphaMode:N="OPAQUE",alphaCutoff:W=.5,normalTexture:J,occlusionTexture:se,emissiveTexture:ue,doubleSided:re}=$,{baseColorFactor:ve=[1,1,1,1],metallicFactor:we=1,roughnessFactor:Be=1,baseColorTexture:mt,metallicRoughnessTexture:pt}=$.pbrMetallicRoughness||{},ft=se?T[se.index]:void 0;if(se&&se.extensions&&se.extensions.KHR_texture_transform&&ft){const Yt=se.extensions.KHR_texture_transform;ft.offsetScale=[Yt.offset[0],Yt.offset[1],Yt.scale[0],Yt.scale[1]]}return{pbrMetallicRoughness:{baseColorFactor:new _e(...ve),metallicFactor:we,roughnessFactor:Be,baseColorTexture:mt?T[mt.index]:void 0,metallicRoughnessTexture:pt?T[pt.index]:void 0},doubleSided:re,emissiveFactor:O,alphaMode:N,alphaCutoff:W,normalTexture:J?T[J.index]:void 0,occlusionTexture:ft,emissionTexture:ue?T[ue.index]:void 0,defined:$.defined===void 0}}(P!==void 0?n.json.materials[P]:{defined:!1},i),h}function Q1(u,n,i){const{matrix:d,rotation:g,translation:h,scale:v,mesh:S,extras:M,children:A}=u,b={};if(b.matrix=d||Ae.mat4.fromRotationTranslationScale([],g||[0,0,0,1],h||[0,0,0],v||[1,1,1]),S!==void 0){b.meshes=i[S];const P=b.anchor=[0,0];for(const $ of b.meshes){const{min:T,max:O}=$.aabb;P[0]+=T[0]+O[0],P[1]+=T[1]+O[1]}P[0]=Math.floor(P[0]/b.meshes.length/2),P[1]=Math.floor(P[1]/b.meshes.length/2)}if(M&&(M.id&&(b.id=M.id),M.lights&&(b.lights=function(P){if(!P.length)return[];const $=function(J){const se=atob(J),ue=new Uint8Array(se.length);for(let re=0;re<se.length;re++)ue[re]=se.codePointAt(re);return ue}(P),T=[],O=$.length/24,N=new Uint16Array($.buffer),W=new Float32Array($.buffer);for(let J=0;J<O;J++){const se=N[2*J*6]/30,ue=N[2*J*6+1]/30,re=N[2*J*6+10]/100,ve=W[6*J+1],we=W[6*J+2],Be=W[6*J+3],mt=W[6*J+4],pt=Be-ve,ft=mt-we,Yt=Math.hypot(pt,ft);T.push({pos:[ve+.5*pt,we+.5*ft,ue],normal:[ft/Yt,-pt/Yt,0],width:Yt,height:se,depth:re,points:[ve,we,Be,mt]})}return T}(M.lights))),A){const P=[];for(const $ of A)P.push(Q1(n.json.nodes[$],n,i));b.children=P}return b}function ex(u){if(u.vertices.length===0||u.indices.length===0)return null;const n=new $p(u.vertices,u.indices,8,256),[i,d]=[n.min.clone(),n.max.clone()];return{vertices:u.vertices,indices:u.indices,grid:n,min:i,max:d}}function MS(u){if(!u.extras||!u.extras.ground)return null;const n=u.extras.ground;if(!n||!Array.isArray(n)||n.length===0)return null;const i=n[0];if(!i||!Array.isArray(i)||i.length===0)return null;const d=[];for(const v of i){if(!Array.isArray(v)||v.length!==2)continue;const S=v[0],M=v[1];typeof S=="number"&&typeof M=="number"&&d.push(new On(S,M))}if(d.length<3)return null;d.length>1&&d[d.length-1].equals(d[0])&&d.pop();let g=0;for(let v=0;v<d.length;v++){const S=d[v],M=d[(v+1)%d.length],A=d[(v+2)%d.length];g+=(S.x-M.x)*(A.y-M.y)-(A.x-M.x)*(S.y-M.y)}g>0&&d.reverse();const h=Gm(d.flatMap(v=>[v.x,v.y]),[]);return h.length===0?null:{vertices:d,indices:h}}function PS(u,n){const i=[],d=[];let g=0;const h=[];for(const v of u){g=i.length;const S=v.vertexArray.float32,M=v.indexArray.uint16;for(let A=0;A<v.vertexArray.length;A++)h[0]=S[3*A+0],h[1]=S[3*A+1],h[2]=S[3*A+2],Ae.vec3.transformMat4(h,h,n),i.push(new On(h[0],h[1]));for(let A=0;A<3*v.indexArray.length;A++)d.push(M[A]+g)}if(d.length%3!=0)return null;for(let v=0;v<d.length;v+=3){const S=i[d[v+0]],M=i[d[v+1]],A=i[d[v+2]];(S.x-M.x)*(A.y-M.y)-(A.x-M.x)*(S.y-M.y)>0&&([d[v+1],d[v+2]]=[d[v+2],d[v+1]])}return{vertices:i,indices:d}}function tx(u){const n=function(M,A){const b=[],P=WebGL2RenderingContext;if(M.json.textures)for(const $ of M.json.textures){const T={magFilter:P.LINEAR,minFilter:P.NEAREST,wrapS:P.REPEAT,wrapT:P.REPEAT};$.sampler!==void 0&&Object.assign(T,M.json.samplers[$.sampler]),b.push({image:A[$.source],sampler:T,uploaded:!1})}return b}(u,u.images),i=function(M,A){const b=[];for(const P of M.json.meshes){const $=[];for(const T of P.primitives)$.push(TS(T,M,A));b.push($)}return b}(u,n),{scenes:d,scene:g,nodes:h}=u.json,v=d?d[g||0].nodes:h,S=[];for(const M of v)S.push(Q1(h[M],u,i));return function(M,A,b){const P={},$=new Set;for(let T=0;T<M.length;T++){const O=b[A[T]];if(!O.extras)continue;const N=O.extras["mapbox:footprint:version"],W=O.extras["mapbox:footprint:id"];(N||W)&&$.add(T),N==="1.0.0"&&W&&(P[W]=T)}for(let T=0;T<M.length;T++){if($.has(T))continue;const O=M[T],N=b[A[T]];if(!N.extras)continue;let W=null;O.id in P&&(W=PS(M[P[O.id]].meshes,O.matrix)),W||(W=MS(N)),W&&(O.footprint=ex(W))}if($.size>0){const T=Array.from($.values()).sort((O,N)=>O-N);for(let O=T.length-1;O>=0;O--)M.splice(T[O],1)}}(S,v,u.json.nodes),S}function OS(u){u.heightmap=new Float32Array(4096),u.heightmap.fill(-1);const n=u.vertexArray.float32,i=u.aabb.min[0]-1,d=u.aabb.min[1]-1,g=Nh/(u.aabb.max[0]-i+2),h=Nh/(u.aabb.max[1]-d+2);for(let v=0;v<n.length;v+=3){const S=n[v+2],M=(n[v+0]-i)*g|0,A=(n[v+1]-d)*h|0;S>u.heightmap[A*Nh+M]&&(u.heightmap[A*Nh+M]=S)}}function nx(u,n){const i={};i.indexArray=new lc,i.indexArray.reserve(4*u.length),i.vertexArray=new Pu,i.vertexArray.reserve(10*u.length),i.colorArray=new Jd,i.vertexArray.reserve(10*u.length);let d=0;for(const v of u){const S=Math.min(10,Math.max(4,1.3*v.height))*n,M=[-v.normal[1],v.normal[0],0],A=Math.min(.29,.1*v.width/v.depth),b=v.width-2*v.depth*n*(A+.01),P=Ae.vec3.scaleAndAdd([],v.pos,M,b/2),$=Ae.vec3.scaleAndAdd([],v.pos,M,-b/2),T=[P[0],P[1],P[2]+v.height],O=[$[0],$[1],$[2]+v.height],N=Ae.vec3.scaleAndAdd([],v.normal,M,A);Ae.vec3.scale(N,N,S);const W=Ae.vec3.scaleAndAdd([],v.normal,M,-A);Ae.vec3.scale(W,W,S),Ae.vec3.add(N,P,N),Ae.vec3.add(W,$,W),P[2]+=.1,$[2]+=.1,i.vertexArray.emplaceBack(N[0],N[1],N[2]),i.vertexArray.emplaceBack(W[0],W[1],W[2]),i.vertexArray.emplaceBack(P[0],P[1],P[2]),i.vertexArray.emplaceBack($[0],$[1],$[2]),i.vertexArray.emplaceBack(T[0],T[1],T[2]),i.vertexArray.emplaceBack(O[0],O[1],O[2]),i.vertexArray.emplaceBack(P[0],P[1],P[2]),i.vertexArray.emplaceBack($[0],$[1],$[2]),i.vertexArray.emplaceBack(N[0],N[1],N[2]),i.vertexArray.emplaceBack(W[0],W[1],W[2]);const J=b/S/2;i.colorArray.emplaceBack(-J-A,-1,J,.8),i.colorArray.emplaceBack(J+A,-1,J,.8),i.colorArray.emplaceBack(-J,0,J,1.3),i.colorArray.emplaceBack(J,0,J,1.3),i.colorArray.emplaceBack(J+A,-.8,J,.7),i.colorArray.emplaceBack(J+A,-.8,J,.7),i.colorArray.emplaceBack(0,0,J,1.3),i.colorArray.emplaceBack(0,0,J,1.3),i.colorArray.emplaceBack(J+A,-1.2,J,.8),i.colorArray.emplaceBack(J+A,-1.2,J,.8),i.indexArray.emplaceBack(6+d,4+d,8+d),i.indexArray.emplaceBack(7+d,9+d,5+d),i.indexArray.emplaceBack(0+d,1+d,2+d),i.indexArray.emplaceBack(1+d,3+d,2+d),d+=10}const g={defined:!0,emissiveFactor:[0,0,0]},h={};return h.baseColorFactor=_e.white,g.pbrMetallicRoughness=h,i.material=g,i.aabb=new Bo([1/0,1/0,1/0],[-1/0,-1/0,-1/0]),i}class rx{constructor(n){this._stringToNumber={},this._numberToString=[];for(let i=0;i<n.length;i++){const d=n[i];this._stringToNumber[d]=i,this._numberToString[i]=d}}encode(n){return this._stringToNumber[n]}decode(n){return this._numberToString[n]}}const RS=["id","tile","layer","source","sourceLayer","state"];class sm{constructor(n,i,d,g,h){this.type="Feature",this._vectorTileFeature=n,this._z=i,this._x=d,this._y=g,this.properties=n.properties,this.id=h}clone(){const n=new sm(this._vectorTileFeature,this._z,this._x,this._y,this.id);return this.state&&(n.state=Object.assign({},this.state)),this.layer&&(n.layer=Object.assign({},this.layer)),this.source&&(n.source=this.source),this.sourceLayer&&(n.sourceLayer=this.sourceLayer),n}get geometry(){return this._geometry===void 0&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._x,this._y,this._z).geometry),this._geometry}set geometry(n){this._geometry=n}toJSON(){const n={type:"Feature",state:void 0,geometry:this.geometry,properties:this.properties};for(const i of RS)this[i]!==void 0&&(n[i]=this[i]);return n}}class ix{constructor(n,i){this.tileID=n,this.x=n.canonical.x,this.y=n.canonical.y,this.z=n.canonical.z,this.grid=new Fc(ji,16,0),this.featureIndexArray=new Ih,this.promoteId=i,this.is3DTile=!1,this.serializedLayersCache=new Map}insert(n,i,d,g,h,v=0,S=0){const M=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(d,g,h,v);const A=this.grid;for(let b=0;b<i.length;b++){const P=i[b],$=[1/0,1/0,-1/0,-1/0];for(let T=0;T<P.length;T++){const O=P[T];$[0]=Math.min($[0],O.x),$[1]=Math.min($[1],O.y),$[2]=Math.max($[2],O.x),$[3]=Math.max($[3],O.y)}S!==0&&($[0]-=S,$[1]-=S,$[2]+=S,$[3]+=S),$[0]<ji&&$[1]<ji&&$[2]>=0&&$[3]>=0&&A.insert(M,$[0],$[1],$[2],$[3])}}loadVTLayers(){if(!this.vtLayers){this.vtLayers=new Du.VectorTile(new I0(this.rawTileData)).layers,this.sourceLayerCoder=new rx(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"]),this.vtFeatures={};for(const n in this.vtLayers)this.vtFeatures[n]=[]}return this.vtLayers}query(n,i){const{tilespaceGeometry:d,transform:g,tileTransform:h,pixelPosMatrix:v,availableImages:S}=i;this.loadVTLayers(),this.serializedLayersCache.clear();const M=d.bufferedTilespaceBounds,A=this.grid.query(M.min.x,M.min.y,M.max.x,M.max.y,(T,O,N,W)=>cn(d.bufferedTilespaceGeometry,T,O,N,W));A.sort(ax);let b=null;g.elevation&&A.length>0&&(b=Ad.create(g.elevation,this.tileID));const P={};let $;for(let T=0;T<A.length;T++){const O=A[T];if(O===$)continue;$=O;const N=this.featureIndexArray.get(O);let W=null;this.is3DTile?this.loadMatchingModelFeature(P,N,n,d,g):this.loadMatchingFeature(P,N,n,S,(J,se,ue,re=0)=>(W||(W=U(J,this.tileID.canonical,h)),se.queryIntersectsFeature(d,J,ue,W,this.z,g,v,b,re)))}return P}loadMatchingFeature(n,i,d,g,h){const{featureIndex:v,bucketIndex:S,sourceLayerIndex:M,layoutVertexArrayOffset:A}=i,b=this.bucketLayerIDs[S],P=d.layers,$=Object.keys(P);if($.length&&!function(J,se){for(let ue=0;ue<J.length;ue++)if(se.indexOf(J[ue])>=0)return!0;return!1}($,b))return;const T=d.sourceCache,O=this.sourceLayerCoder.decode(M),N=this.vtLayers[O].feature(v),W=this.getId(N,O);for(let J=0;J<b.length;J++){const se=b[J];if(!P[se])continue;const{styleLayer:ue,targets:re}=P[se];let ve={};W!==void 0&&(ve=T.getFeatureState(ue.sourceLayer,W));const we=!h||h(N,ue,ve,A);if(!we)continue;const Be=new sm(N,this.z,this.x,this.y,W);Be.tile=this.tileID.canonical,Be.state=ve;let mt=this.serializedLayersCache.get(se);mt||(mt=ue.serialize(),mt.id=se,this.serializedLayersCache.set(se,mt)),Be.source=mt.source,Be.sourceLayer=mt["source-layer"],Be.layer=ni({},mt),Be.layer.paint=ox(mt.paint,ue.paint,N,ve,g),Be.layer.layout=ox(mt.layout,ue.layout,N,ve,g);let pt=!1;for(const ft of re){this.updateFeatureProperties(Be,ft);const{filter:Yt}=ft;if(Yt){if(N.properties=Be.properties,Yt.needGeometry){const yt=Q(N,!0);if(!Yt.filter(new Us(this.tileID.overscaledZ),yt,this.tileID.canonical))continue}else if(!Yt.filter(new Us(this.tileID.overscaledZ),N))continue}pt=!0,ft.targetId&&this.addFeatureVariant(Be,ft)}pt&&this.appendToResult(n,se,v,Be,we)}}loadMatchingModelFeature(n,i,d,g,h){const v=this.bucketLayerIDs[0][0],S=d.layers;if(!S[v])return;const{styleLayer:M,targets:A}=S[v];if(M.type!=="model")return;const b=g.tile,P=i.featureIndex,$=b.getBucket(M);if(!($&&$ instanceof X0))return;const T=function(mt,pt,ft,Yt){const yt=mt.getNodesInfo()[pt];if(yt.hiddenByReplacement||!yt.node.meshes)return;let en=Number.MAX_VALUE;const yn=yt.node,fn=ft.tile,xn=Yt.calculatePosMatrix(fn.tileID.toUnwrapped(),Yt.worldSize),Bn=yt.evaluatedScale;let Yn=0;Yt.elevation&&yn.elevation&&(Yn=yn.elevation*Yt.elevation.exaggeration()),Ae.mat4.translate(xn,xn,[(yn.anchor?yn.anchor[0]:0)*(Bn[0]-1),(yn.anchor?yn.anchor[1]:0)*(Bn[1]-1),Yn]),Ae.mat4.scale(xn,xn,Bn);const $n=ft.queryGeometry,$r=$n.isPointQuery()?$n.screenBounds:$n.screenGeometry,fi=function(Qi){const Hi=Ae.mat4.multiply([],xn,Qi.matrix);Ae.mat4.multiply(Hi,Yt.expandedFarZProjMatrix,Hi);for(let Ii=0;Ii<Qi.meshes.length;++Ii){const gi=Qi.meshes[Ii];if(Ii===Qi.lightMeshIndex)continue;const Ro=V0($r,Yt,Hi,gi.aabb);Ro!=null&&(en=Math.min(Ro,en))}if(Qi.children)for(const Ii of Qi.children)fi(Ii)};if(fi(yn),en===Number.MAX_VALUE)return;const Dr=new hs(0,0);return S1(fn.tileID.canonical,Dr,yt.node.anchor[0],yt.node.anchor[1]),{intersectionZ:en,position:Dr,feature:yt.feature}}($,P,g,h);if(!T)return;const{z:O,x:N,y:W}=b.tileID.canonical,{feature:J,intersectionZ:se,position:ue}=T;let re={};J.id!==void 0&&(re=d.sourceCache.getFeatureState(M.sourceLayer,J.id));const ve=new sm({},O,N,W,J.id);ve.tile=this.tileID.canonical,ve.state=re,ve.properties=J.properties,ve.geometry={type:"Point",coordinates:[ue.lng,ue.lat]};let we=this.serializedLayersCache.get(v);we||(we=M.serialize(),we.id=v,this.serializedLayersCache.set(v,we)),ve.source=we.source,ve.sourceLayer=we["source-layer"],ve.layer=ni({},we);let Be=!1;for(const mt of A){this.updateFeatureProperties(ve,mt);const{filter:pt}=mt;if(pt){if(J.properties=ve.properties,pt.needGeometry){if(!pt.filter(new Us(this.tileID.overscaledZ),J,this.tileID.canonical))continue}else if(!pt.filter(new Us(this.tileID.overscaledZ),J))continue}Be=!0,mt.targetId&&this.addFeatureVariant(ve,mt)}Be&&this.appendToResult(n,v,P,ve,se)}updateFeatureProperties(n,i,d){if(i.properties){const g={};for(const h in i.properties){const v=i.properties[h].evaluate({zoom:this.z},n._vectorTileFeature,n.state,n.tile,d);v!=null&&(g[h]=v)}n.properties=g}}addFeatureVariant(n,i,d){const g={target:i.target,namespace:i.namespace,uniqueFeatureID:i.uniqueFeatureID};i.properties&&(g.properties=n.properties),n.variants=n.variants||{},n.variants[i.targetId]=n.variants[i.targetId]||[],n.variants[i.targetId].push(g)}appendToResult(n,i,d,g,h){let v=n[i];v===void 0&&(v=n[i]=[]),v.push({featureIndex:d,feature:g,intersectionZ:h})}lookupSymbolFeatures(n,i,d,g,h){const v={};this.loadVTLayers();for(const S of n)this.loadMatchingFeature(v,{bucketIndex:i,sourceLayerIndex:d,featureIndex:S,layoutVertexArrayOffset:0},g,h);return v}loadFeature(n){const{featureIndex:i,sourceLayerIndex:d}=n;this.loadVTLayers();const g=this.sourceLayerCoder.decode(d),h=this.vtFeatures[g];if(h[i])return h[i];const v=this.vtLayers[g].feature(i);return h[i]=v,v}hasLayer(n){for(const i of this.bucketLayerIDs)for(const d of i)if(n===d)return!0;return!1}getId(n,i){let d=n.id;if(this.promoteId){const g=Array.isArray(this.promoteId)||typeof this.promoteId!="object"?this.promoteId:this.promoteId[i];if(g!=null)if(Array.isArray(g)){if(!this.promoteIdExpression){const h=Of(g);if(h.result!=="success"){const v=h.value.map(S=>`${S.key}: ${S.message}`).join(", ");return void Wn(`Failed to create expression for promoteId: ${v}`)}this.promoteIdExpression=h.value}this.promoteIdExpression._evaluator||(this.promoteIdExpression._evaluator=new Ua),d=this.promoteIdExpression.evaluate({zoom:0},n)}else d=n.properties[g];typeof d=="boolean"&&(d=Number(d))}return d}}function ox(u,n,i,d,g){return ei(u,(h,v)=>{const S=n instanceof $f?n.get(v):null;return S&&S.evaluate?S.evaluate(i,d,g):S})}function ax(u,n){return n-u}Eo(ix,"FeatureIndex",{omit:["rawTileData","sourceLayerCoder"]});const vf=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array];class cv{static from(n){if(!(n instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");const[i,d]=new Uint8Array(n,0,2);if(i!==219)throw new Error("Data does not appear to be in a KDBush format.");const g=d>>4;if(g!==1)throw new Error(`Got v${g} data when expected v1.`);const h=vf[15&d];if(!h)throw new Error("Unrecognized array type.");const[v]=new Uint16Array(n,2,1),[S]=new Uint32Array(n,4,1);return new cv(S,v,h,n)}constructor(n,i=64,d=Float64Array,g){if(isNaN(n)||n<0)throw new Error(`Unpexpected numItems value: ${n}.`);this.numItems=+n,this.nodeSize=Math.min(Math.max(+i,2),65535),this.ArrayType=d,this.IndexArrayType=n<65536?Uint16Array:Uint32Array;const h=vf.indexOf(this.ArrayType),v=2*n*this.ArrayType.BYTES_PER_ELEMENT,S=n*this.IndexArrayType.BYTES_PER_ELEMENT,M=(8-S%8)%8;if(h<0)throw new Error(`Unexpected typed array class: ${d}.`);g&&g instanceof ArrayBuffer?(this.data=g,this.ids=new this.IndexArrayType(this.data,8,n),this.coords=new this.ArrayType(this.data,8+S+M,2*n),this._pos=2*n,this._finished=!0):(this.data=new ArrayBuffer(8+v+S+M),this.ids=new this.IndexArrayType(this.data,8,n),this.coords=new this.ArrayType(this.data,8+S+M,2*n),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,16+h]),new Uint16Array(this.data,2,1)[0]=i,new Uint32Array(this.data,4,1)[0]=n)}add(n,i){const d=this._pos>>1;return this.ids[d]=d,this.coords[this._pos++]=n,this.coords[this._pos++]=i,d}finish(){const n=this._pos>>1;if(n!==this.numItems)throw new Error(`Added ${n} items when expected ${this.numItems}.`);return Ag(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(n,i,d,g){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:h,coords:v,nodeSize:S}=this,M=[0,h.length-1,0],A=[];for(;M.length;){const b=M.pop()||0,P=M.pop()||0,$=M.pop()||0;if(P-$<=S){for(let W=$;W<=P;W++){const J=v[2*W],se=v[2*W+1];J>=n&&J<=d&&se>=i&&se<=g&&A.push(h[W])}continue}const T=$+P>>1,O=v[2*T],N=v[2*T+1];O>=n&&O<=d&&N>=i&&N<=g&&A.push(h[T]),(b===0?n<=O:i<=N)&&(M.push($),M.push(T-1),M.push(1-b)),(b===0?d>=O:g>=N)&&(M.push(T+1),M.push(P),M.push(1-b))}return A}within(n,i,d){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:g,coords:h,nodeSize:v}=this,S=[0,g.length-1,0],M=[],A=d*d;for(;S.length;){const b=S.pop()||0,P=S.pop()||0,$=S.pop()||0;if(P-$<=v){for(let W=$;W<=P;W++)AS(h[2*W],h[2*W+1],n,i)<=A&&M.push(g[W]);continue}const T=$+P>>1,O=h[2*T],N=h[2*T+1];AS(O,N,n,i)<=A&&M.push(g[T]),(b===0?n-d<=O:i-d<=N)&&(S.push($),S.push(T-1),S.push(1-b)),(b===0?n+d>=O:i+d>=N)&&(S.push(T+1),S.push(P),S.push(1-b))}return M}}function Ag(u,n,i,d,g,h){if(g-d<=i)return;const v=d+g>>1;$S(u,n,v,d,g,h),Ag(u,n,i,d,v-1,1-h),Ag(u,n,i,v+1,g,1-h)}function $S(u,n,i,d,g,h){for(;g>d;){if(g-d>600){const A=g-d+1,b=i-d+1,P=Math.log(A),$=.5*Math.exp(2*P/3),T=.5*Math.sqrt(P*$*(A-$)/A)*(b-A/2<0?-1:1);$S(u,n,i,Math.max(d,Math.floor(i-b*$/A+T)),Math.min(g,Math.floor(i+(A-b)*$/A+T)),h)}const v=n[2*i+h];let S=d,M=g;for(Dg(u,n,d,i),n[2*g+h]>v&&Dg(u,n,d,g);S<M;){for(Dg(u,n,S,M),S++,M--;n[2*S+h]<v;)S++;for(;n[2*M+h]>v;)M--}n[2*d+h]===v?Dg(u,n,d,M):(M++,Dg(u,n,M,g)),M<=i&&(d=M+1),i<=M&&(g=M-1)}}function Dg(u,n,i,d){_u(u,i,d),_u(n,2*i,2*d),_u(n,2*i+1,2*d+1)}function _u(u,n,i){const d=u[n];u[n]=u[i],u[i]=d}function AS(u,n,i,d){const g=u-i,h=n-d;return g*g+h*h}c.$=Em,c.A=_i,c.B=2,c.C=cg,c.D=qp,c.E=ho,c.F=Ry,c.G=class extends Xp{},c.H=ma,c.I=u_,c.J=si,c.K=mp,c.L=Al,c.M=ol,c.N=fc,c.O=Pf,c.P=On,c.Q=gp,c.R=hi,c.S=Wg,c.T=Hy,c.U=Of,c.V=Xp,c.W=$l,c.X=bc,c.Y=Tl,c.Z=ga,c._=K,c.a=function(u){return rr.API_CDN_URL_REGEX.test(u)},c.a$=sm,c.a0=Wc,c.a1=Uc,c.a2=function(u){const n=u.value;let i=[];if(!n)return i;const d=ma(n);return d!=="string"?(i=i.concat([new Xp(u.key,n,`string expected, "${d}" found`)]),i):(Yy(n,!0)||(i=i.concat([new Xp(u.key,n,`invalid url "${n}"`)])),i)},c.a3=er,c.a4=pp,c.a5=al,c.a6=Oi,c.a7=class{constructor(u){this.specification=u}possiblyEvaluate(u,n){return eo(u.expression.evaluate(n))}interpolate(u,n,i){return{x:Et(u.x,n.x,i),y:Et(u.y,n.y,i),z:Et(u.z,n.z,i),azimuthal:Et(u.azimuthal,n.azimuthal,i),polar:Et(u.polar,n.polar,i)}}},c.a8=Us,c.a9=ap,c.aA=gu,c.aB=class{constructor(u){this.entries={},this.scheduler=u}request(u,n,i,d){const g=this.entries[u]=this.entries[u]||{callbacks:[]};if(g.result){const[h,v]=g.result;return this.scheduler?this.scheduler.add(()=>{d(h,v)},n):d(h,v),()=>{}}return g.callbacks.push(d),g.cancel||(g.cancel=i((h,v)=>{g.result=[h,v];for(const S of g.callbacks)this.scheduler?this.scheduler.add(()=>{S(h,v)},n):S(h,v);setTimeout(()=>delete this.entries[u],3e3)})),()=>{g.result||(g.callbacks=g.callbacks.filter(h=>h!==d),g.callbacks.length||(g.cancel(),delete this.entries[u]))}}},c.aC=Tu,c.aD=function(u,n,i){const d=JSON.stringify(u.request);return u.data&&(this.deduped.entries[d]={result:[null,u.data]}),this.deduped.request(d,{type:"parseTile",isSymbolTile:u.isSymbolTile,zoom:u.tileZoom},g=>{const h=wn(u.request,(v,S,M,A)=>{v?g(v):S&&g(null,{vectorTile:i?void 0:new Du.VectorTile(new I0(S)),rawData:S,cacheControl:M,expires:A})});return()=>{h.cancel(),g()}},n)},c.aE=function(u){dt++,dt>ln&&(u.getActor().send("enforceCacheSizeLimit",$t),dt=0)},c.aF=function(u){return u<=1?1:Math.pow(2,Math.floor(Math.log(u)/Math.LN2))},c.aG=wi,c.aH=u1,c.aI=h1,c.aJ=c1,c.aK=function(u,n){const i=document.createElement("video");i.muted=!0,i.onloadstart=function(){n(null,i)};for(let d=0;d<u.length;d++){const g=document.createElement("source");qt(u[d])||(i.crossOrigin="Anonymous"),g.src=u[d],i.appendChild(g)}return{cancel:()=>{}}},c.aL=N0,c.aM=function(u){return fetch(u).then(n=>n.arrayBuffer()).then(n=>J1(n,0,u))},c.aN=tx,c.aO=class{constructor(u,n,i,d){this.id=u,this.position=n!=null?new hs(n[0],n[1]):new hs(0,0),this.orientation=i!=null?i:[0,0,0],this.nodes=d,this.uploaded=!1,this.aabb=new Bo([1/0,1/0,1/0],[-1/0,-1/0,-1/0]),this.matrix=[]}_applyTransformations(u,n){if(Ae.mat4.multiply(u.matrix,n,u.matrix),u.meshes)for(const i of u.meshes){const d=Bo.applyTransformFast(i.aabb,u.matrix);this.aabb.encapsulate(d)}if(u.children)for(const i of u.children)this._applyTransformations(i,u.matrix)}computeBoundsAndApplyParent(){const u=Ae.mat4.identity([]);for(const n of this.nodes)this._applyTransformations(n,u)}computeModelMatrix(u,n,i,d,g,h,v=!1){_1(this.matrix,this,u.transform,this.position,n,i,d,g,h,v)}upload(u){if(!this.uploaded){for(const n of this.nodes)G0(n,u);for(const n of this.nodes)bg(n);this.uploaded=!0}}destroy(){for(const u of this.nodes)xg(u)}},c.aP=Pr,c.aQ=pg,c.aR=Cc,c.aS=Xl,c.aT=Xu,c.aU=lc,c.aV=qn,c.aW=Nm,c.aX=D0,c.aY=function(){Gc.isLoading()||Gc.isLoaded()||vh()!=="deferred"||fp()},c.aZ=Xg,c.a_=Q,c.aa=l,c.ab=Ae,c.ac=oi,c.ad=$f,c.ae=mc,c.af=Et,c.ag=ji,c.ah=En,c.ai=it,c.aj=_e,c.ak=class{constructor(u){this.specification=u}possiblyEvaluate(u,n){return function([i,d]){const g=eo([1,i,d]);return{x:g.x,y:g.y,z:g.z}}(u.expression.evaluate(n))}interpolate(u,n,i){return{x:Et(u.x,n.x,i),y:Et(u.y,n.y,i),z:Et(u.z,n.z,i)}}},c.al=function(u,n,i=0,d=!0){const g=new On(i,i),h=u.sub(g),v=n.add(g),S=[h,new On(v.x,h.y),v,new On(h.x,v.y)];return d&&S.push(h.clone()),S},c.am=function(u,n){const i=[];for(let d=0;d<u.length;d++){const g=pi(d-1,-1,u.length-1),h=pi(d+1,-1,u.length-1),v=u[d],S=u[h],M=u[g].sub(v).unit(),A=S.sub(v).unit(),b=A.angleWithSep(M.x,M.y),P=M.add(A).unit().mult(-1*n/Math.sin(b/2));i.push(v.add(P))}return i},c.an=Kb,c.ao=cn,c.ap=function(u,n,i=0){return Ae.vec3.fromValues(((n.x-i)*u.scale-u.x)*ji,(n.y*u.scale-u.y)*ji,a0(n.z,n.y))},c.aq=Yo,c.ar=bb,c.as=function(u){let n=1/0,i=1/0,d=-1/0,g=-1/0;for(const h of u)n=Math.min(n,h.x),i=Math.min(i,h.y),d=Math.max(d,h.x),g=Math.max(g,h.y);return{min:new On(n,i),max:new On(d,g)}},c.at=$u,c.au=Lt,c.av=_,c.aw=Hn,c.ax=Tc,c.ay=function(u,n){const i={};for(let d=0;d<n.length;d++){const g=n[d];g in u&&(i[g]=u[g])}return i},c.az=Pd,c.b=function(u){return rr.API_FONTS_REGEX.test(u)},c.b$=Z0,c.b0=ci,c.b1=fy,c.b2=Hv,c.b3=U,c.b4=Mu,c.b5=_p,c.b6=Ko,c.b7=sl,c.b8=Gm,c.b9=s1,c.bA=cb,c.bB=Dy,c.bC=Ay,c.bD=Iy,c.bE=cv,c.bF=pi,c.bG=nn,c.bH=Mc,c.bI=function(u,n,i){u[4*n+0]=i[0],u[4*n+1]=i[1],u[4*n+2]=i[2],u[4*n+3]=i[3]},c.bJ=Oh,c.bK=Zc,c.bL=Bf,c.bM=yl,c.bN=rf,c.bO=hs,c.bP=e1,c.bQ=Gr,c.bR=gs,c.bS=k0,c.bT=qr,c.bU=Pc,c.bV=function(u,n,i,d,g,h,v,S,M){if(M.name==="globe")return Pc(u,n,new qr(i,d,g),!1);const A=pg({z:i,x:d,y:g},M);return new Bo([(h+A.x/A.scale)*n,n*(A.y/A.scale),v],[(h+A.x2/A.scale)*n,n*(A.y2/A.scale),S])},c.bW=function(u,n,i){let d=0;for(let g=0;g<2;++g)u[g]>0&&(d+=(u[g]-0)*(u[g]-0)),n[g]<0&&(d+=(0-n[g])*(0-n[g]));return d},c.bX=_l,c.bY=Md,c.bZ=function(u){const n=Ae.mat4.identity(new Float64Array(16));Ae.mat4.multiply(n,u.pixelMatrix,u.globeMatrix);const i=[0,jc,0],d=[0,Ac,0];return Ae.vec3.transformMat4(i,i,n),Ae.vec3.transformMat4(d,d,n),[i[0]>0&&i[0]<=u.width&&i[1]>0&&i[1]<=u.height&&!ru(u,new hs(u.center.lat,90)),d[0]>0&&d[0]<=u.width&&d[1]>0&&d[1]<=u.height&&!ru(u,new hs(u.center.lat,-90))]},c.b_=function(u,n){const{scale:i}=u.tileTransform,d=i*ji/(u.tileSize*Math.pow(2,n.zoom-u.tileID.overscaledZ+u.tileID.canonical.z));return Ae.mat2.scale(new Float32Array(4),n.inverseAdjustmentMatrix,[d,d])},c.ba=function(u,n){const i=mc(n.zoom);if(i===0)return Dl(u);const d=rl(u),g=js(d),h=$u(d.getWest())*n.worldSize,v=$u(d.getEast())*n.worldSize,S=gu(d.getNorth())*n.worldSize,M=gu(d.getSouth())*n.worldSize,A=[h,S,0],b=[v,S,0],P=[h,M,0],$=[v,M,0],T=Ae.mat4.invert([],n.globeMatrix);return Ae.vec3.transformMat4(A,A,T),Ae.vec3.transformMat4(b,b,T),Ae.vec3.transformMat4(P,P,T),Ae.vec3.transformMat4($,$,T),g[0]=Ll(g[0],P,i),g[1]=Ll(g[1],$,i),g[2]=Ll(g[2],b,i),g[3]=Ll(g[3],A,i),Bo.fromPoints(g)},c.bb=Yl,c.bc=As,c.bd=Ll,c.be=Ku,c.bf=mo,c.bg=__,c.bh=I0,c.bi=wn,c.bj=function(u){const n=[];for(const i in u)n.push(u[i]);return n},c.bk=function(u,n){const i=[];for(const d in u)d in n||i.push(d);return i},c.bl=ri,c.bm=["type","source","source-layer","minzoom","maxzoom","filter","layout"],c.bn=Kr,c.bo=function(u,n){const{x:i,y:d}=u.point,g=pc(i,d,u.worldSize/u._pixelsPerMercatorPixel,0,0);return Ae.mat4.multiply(g,g,Rs(Dl(n)))},c.bp=Fp,c.bq=yu,c.br=w0,c.bs=function(u,n,i,d,g){const h=5*n+2;u.float32[h+0]=i,u.float32[h+1]=d,u.float32[h+2]=g},c.bt=A0,c.bu=Oy,c.bv=Se,c.bw=uc,c.bx=Dp,c.by=U0,c.bz=lb,c.c=Mi,c.c$=(u,n,i,d,g,h,v,S)=>{const M=u.transform,A=M.pitch<15?xb(.07,.7,Hn((14-M.zoom)/5,0,1)):.07,b=i.paint.get("line-trim-color-use-theme").constantOr("default")==="none";return{u_matrix:Cb(u,n,i,d),u_texsize:n.imageAtlasTexture?n.imageAtlasTexture.size:[0,0],u_pixels_to_tile_units:M.calculatePixelsToTileUnitsMatrix(n),u_device_pixel_ratio:g,u_width_scale:h,u_floor_width_scale:v,u_image:0,u_tile_units_to_pixels:og(n,M),u_units_to_pixels:[1/M.pixelsToGLUnits[0],1/M.pixelsToGLUnits[1]],u_alpha_discard_threshold:0,u_trim_offset:S,u_trim_fade_range:i.paint.get("line-trim-fade-range"),u_trim_color:i.paint.get("line-trim-color").toRenderColor(b?null:i.lut).toArray01(),u_emissive_strength:i.paint.get("line-emissive-strength"),u_zbias_factor:A,u_tile_to_meter:r(n.tileID.canonical,0)}},c.c0=m1,c.c1=function(u){const n=m1(u,!0);return Ae.mat2.invert([],[n[0],n[1],n[4],n[5]])},c.c2=as,c.c3=function(u){const{x:n,y:i}=u.point,{lng:d,lat:g}=u._center;return pc(n,i,u.worldSize,d,g)},c.c4=Ot,c.c5=Ni,c.c6=Ff,c.c7=function(u){const n=Math.round((u+45+360)%360/90)%4;return Dn[n]},c.c8=45,c.c9=Ip,c.cA=class extends Ru{constructor(u){super(u),this.current=Rh}set(u,n,i){if(this.fetchUniformLocation(u,n)){for(let d=0;d<9;d++)if(i[d]!==this.current[d]){this.current=i,this.gl.uniformMatrix3fv(this.location,!1,i);break}}}},c.cB=pn,c.cC=function(u,n,i){const d=mc(i.zoom),g=u.style.map._antialias,h=u.terrain&&u.terrain.exaggeration()>0;return d===0&&!g&&!h},c.cD=function(u){const n=u.pixelsPerMeter,i=n/Mc(1,u.center.lat),d=Ae.mat4.identity(new Float64Array(16));return Ae.mat4.translate(d,d,[u.point.x,u.point.y,0]),Ae.mat4.scale(d,d,[i,i,n]),Float32Array.from(d)},c.cE=rl,c.cF=function(u){const n=_l-5;u=Hn(u,-n,n)/n*90;const i=Math.pow(Math.abs(Math.sin(it(u))),3);return Math.round(i*($h.length-1))},c.cG=function(u,n,i,d){const g=n.getNorth(),h=n.getSouth(),v=n.getWest(),S=n.getEast(),M=1<<u.z,A=S-v,b=g-h,P=A/kf,$=-b/$h[i],T=[0,P,0,$,0,0,g,v,0];if(u.z>0){const O=180/d;Ae.mat3.multiply(T,T,[O/A+1,0,0,0,O/b+1,0,-.5*O/P,.5*O/$,1])}return T[2]=M,T[5]=u.x,T[8]=u.y,T},c.cH=Dl,c.cI=function(u,n,i){const d=Ae.mat4.identity(new Float64Array(16)),g=(n/(1<<u)-.5)*Math.PI*2;return Ae.mat4.rotateY(d,i.globeMatrix,g),Float32Array.from(d)},c.cJ=class{isDataAvailableAtPoint(u){const n=this._source();if(this.isUsingMockSource()||!n||u.y<0||u.y>1)return!1;const i=n.getSource().maxzoom,d=1<<i,g=Math.floor(u.x),h=Math.floor((u.x-g)*d),v=Math.floor(u.y*d),S=this.findDEMTileFor(new wi(i,g,i,h,v));return!(!S||!S.dem)}getAtPointOrZero(u,n=0){return this.getAtPoint(u,n)||0}getAtPoint(u,n,i=!0){if(this.isUsingMockSource())return null;n==null&&(n=null);const d=this._source();if(!d||u.y<0||u.y>1)return n;const g=d.getSource().maxzoom,h=1<<g,v=Math.floor(u.x),S=u.x-v,M=new wi(g,v,g,Math.floor(S*h),Math.floor(u.y*h)),A=this.findDEMTileFor(M);if(!A||!A.dem)return n;const b=A.dem,P=1<<A.tileID.canonical.z,$=(S*P-A.tileID.canonical.x)*b.dim,T=(u.y*P-A.tileID.canonical.y)*b.dim,O=Math.floor($),N=Math.floor(T);return(i?this.exaggeration():1)*Et(Et(b.get(O,N),b.get(O,N+1),T-N),Et(b.get(O+1,N),b.get(O+1,N+1),T-N),$-O)}getAtTileOffset(u,n,i){const d=1<<u.canonical.z;return this.getAtPointOrZero(new l(u.wrap+(u.canonical.x+n/ji)/d,(u.canonical.y+i/ji)/d))}getAtTileOffsetFunc(u,n,i,d){return g=>{const h=this.getAtTileOffset(u,g.x,g.y),v=d.upVector(u.canonical,g.x,g.y),S=d.upVectorScale(u.canonical,n,i).metersToTile;return Ae.vec3.scale(v,v,h*S),v}}getForTilePoints(u,n,i,d){if(this.isUsingMockSource())return!1;const g=Ad.create(this,u,d);return!!g&&(n.forEach(h=>{h[2]=this.exaggeration()*g.getElevationAt(h[0],h[1],i)}),!0)}getMinMaxForTile(u){if(this.isUsingMockSource())return null;const n=this.findDEMTileFor(u);if(!n||!n.dem)return null;const i=n.dem.tree,d=n.tileID,g=1<<u.canonical.z-d.canonical.z;let h=u.canonical.x/g-d.canonical.x,v=u.canonical.y/g-d.canonical.y,S=0;for(let M=0;M<u.canonical.z-d.canonical.z&&!i.leaves[S];M++){h*=2,v*=2;const A=2*Math.floor(v)+Math.floor(h);S=i.childOffsets[S]+A,h%=1,v%=1}return{min:this.exaggeration()*i.minimums[S],max:this.exaggeration()*i.maximums[S]}}getMinElevationBelowMSL(){throw new Error("Pure virtual method called.")}raycast(u,n,i){throw new Error("Pure virtual method called.")}pointCoordinate(u){throw new Error("Pure virtual method called.")}_source(){throw new Error("Pure virtual method called.")}isUsingMockSource(){throw new Error("Pure virtual method called.")}exaggeration(){throw new Error("Pure virtual method called.")}findDEMTileFor(u){throw new Error("Pure virtual method called.")}get visibleDemTiles(){throw new Error("Getter must be implemented in subclass.")}getMinMaxForVisibleTiles(){const u=this.visibleDemTiles;if(u.length===0)return null;let n=!1,i=Number.MAX_VALUE,d=Number.MIN_VALUE;for(const g of u){const h=this.getMinMaxForTile(g.tileID);h&&(i=Math.min(i,h.min),d=Math.max(d,h.max),n=!0)}return n?{min:i,max:d}:null}},c.cK=X_,c.cL=Qa,c.cM=function(u,n){return[Math.pow(u[0],2.2)*n,Math.pow(u[1],2.2)*n,Math.pow(u[2],2.2)*n]},c.cN=Dc,c.cO=br,c.cP=dn,c.cQ=256,c.cR=function(u,n){const i=[0,0,0],d=Yl(Dl(n.canonical));return Ae.vec3.transformMat4(i,i,d),Ae.vec3.transformMat4(i,i,u),i},c.cS=u=>({u_camera_to_center_distance:new yl(u),u_extrude_scale:new of(u),u_device_pixel_ratio:new yl(u),u_matrix:new Oh(u),u_inv_rot_matrix:new Oh(u),u_merc_center:new Zc(u),u_tile_id:new Bf(u),u_zoom_transition:new yl(u),u_up_dir:new Bf(u),u_emissive_strength:new yl(u)}),c.cT=u=>({u_matrix:new Oh(u),u_pixels_to_tile_units:new of(u),u_device_pixel_ratio:new yl(u),u_width_scale:new yl(u),u_floor_width_scale:new yl(u),u_units_to_pixels:new Zc(u),u_dash_image:new rf(u),u_gradient_image:new rf(u),u_image_height:new yl(u),u_texsize:new Zc(u),u_tile_units_to_pixels:new yl(u),u_alpha_discard_threshold:new yl(u),u_trim_offset:new Zc(u),u_trim_fade_range:new Zc(u),u_trim_color:new Ph(u),u_emissive_strength:new yl(u),u_zbias_factor:new yl(u),u_tile_to_meter:new yl(u)}),c.cU=u=>({u_matrix:new Oh(u),u_texsize:new Zc(u),u_pixels_to_tile_units:new of(u),u_device_pixel_ratio:new yl(u),u_width_scale:new yl(u),u_floor_width_scale:new yl(u),u_image:new rf(u),u_units_to_pixels:new Zc(u),u_tile_units_to_pixels:new yl(u),u_alpha_discard_threshold:new yl(u),u_trim_offset:new Zc(u),u_trim_fade_range:new Zc(u),u_trim_color:new Ph(u),u_emissive_strength:new yl(u),u_zbias_factor:new yl(u),u_tile_to_meter:new yl(u)}),c.cV=$m,c.cW=_C,c.cX=Tb,c.cY=Rd,c.cZ=(u,n,i,d,g,h)=>{const v=u.transform,S=v.projection.name==="globe";let M;if(h.paint.get("circle-pitch-alignment")==="map")if(S){const b=Dc(v.zoom,n.canonical)*v._pixelsPerMercatorPixel;M=Float32Array.from([b,0,0,b])}else M=v.calculatePixelsToTileUnitsMatrix(i);else M=new Float32Array([v.pixelsToGLUnits[0],0,0,v.pixelsToGLUnits[1]]);const A={u_camera_to_center_distance:u.transform.getCameraToCenterDistance(v.projection),u_matrix:u.translatePosMatrix(n.projMatrix,i,h.paint.get("circle-translate"),h.paint.get("circle-translate-anchor")),u_device_pixel_ratio:pe.devicePixelRatio,u_extrude_scale:M,u_inv_rot_matrix:Zf,u_merc_center:[0,0],u_tile_id:[0,0,0],u_zoom_transition:0,u_up_dir:[0,0,0],u_emissive_strength:h.paint.get("circle-emissive-strength")};if(S){A.u_inv_rot_matrix=d,A.u_merc_center=g,A.u_tile_id=[n.canonical.x,n.canonical.y,1<<n.canonical.z],A.u_zoom_transition=mc(v.zoom);const b=g[0]*ji,P=g[1]*ji;A.u_up_dir=v.projection.upVector(new qr(0,0,0),b,P)}return A},c.c_=py,c.ca=Ph,c.cb=function(u,n,i){const d=Math.sqrt(u*u+n*n+i*i),g=d>0?Math.acos(i/d)*fr:0;let h=u!==0||n!==0?Math.atan2(-n,-u)*fr+90:0;return h<0&&(h+=360),[d,h,g]},c.cc=r,c.cd=Bo,c.ce=eo,c.cf=function(u){return[Math.pow(u[0],1/2.2),Math.pow(u[1],1/2.2),Math.pow(u[2],1/2.2)]},c.cg=function(u,n){return u.readFields(YC,{icons:[]},n)},c.ch=function(u){return u({pluginStatus:kc,pluginURL:_d}),bd.on("pluginStateChange",u),u},c.ci=J0,c.cj=jp,c.ck=Zp,c.cl=to,c.cm=Kg,c.cn=rt,c.co=Lo,c.cp=mr,c.cq=function(u){const n=u.indexOf(xh);return n>=0?u.slice(0,n):u},c.cr=function(u){return u.indexOf(xh)>=0},c.cs=function(u){const n=u.indexOf(xh);return n>=0?u.slice(n+1):""},c.ct=function(u){const n=[],i=u.id;return i===void 0&&n.push({message:`layers.${i}: missing required property "id"`}),u.render===void 0&&n.push({message:`layers.${i}: missing required method "render"`}),u.renderingMode&&u.renderingMode!=="2d"&&u.renderingMode!=="3d"&&n.push({message:`layers.${i}: property "renderingMode" must be either "2d" or "3d"`}),n},c.cu=function(u,n,i,d){return u.type==="custom"?new VC(u,n):new KC[u.type](u,n,i,d)},c.cv=ar,c.cw=class extends sm{constructor(u,n){super(u._vectorTileFeature,u._z,u._x,u._y,u.id),u.state&&(this.state=Object.assign({},u.state)),this.target=n.target,this.namespace=n.namespace,n.properties&&(this.properties=n.properties),this.target&&("featuresetId"in this.target&&!this.target.importId||"layerId"in this.target)&&(this.source=u.source,this.sourceLayer=u.sourceLayer,this.layer=u.layer)}toJSON(){const u=super.toJSON();return u.target=this.target,u.namespace=this.namespace,u}},c.cx=bd,c.cy=gt,c.cz=Sp,c.d=function(u){return rr.API_TILEJSON_REGEX.test(u)},c.d$=ix,c.d0=(u,n,i,d,g,h,v,S,M)=>{const A=u.transform,b=A.calculatePixelsToTileUnitsMatrix(n),P=i.paint.get("line-trim-color-use-theme").constantOr("default")==="none",$=A.pitch<15?xb(.07,.7,Hn((14-A.zoom)/5,0,1)):.07;return{u_matrix:Cb(u,n,i,d),u_pixels_to_tile_units:b,u_device_pixel_ratio:h,u_width_scale:v,u_floor_width_scale:S,u_units_to_pixels:[1/A.pixelsToGLUnits[0],1/A.pixelsToGLUnits[1]],u_dash_image:0,u_gradient_image:1,u_image_height:g,u_texsize:Sb(i)&&n.lineAtlasTexture?n.lineAtlasTexture.size:[0,0],u_tile_units_to_pixels:og(n,u.transform),u_alpha_discard_threshold:0,u_trim_offset:M,u_trim_fade_range:i.paint.get("line-trim-fade-range"),u_trim_color:i.paint.get("line-trim-color").toRenderColor(P?null:i.lut).toArray01(),u_emissive_strength:i.paint.get("line-emissive-strength"),u_zbias_factor:$,u_tile_to_meter:r(n.tileID.canonical,0)}},c.d1=_r,c.d2=Mp,c.d3=Dh,c.d4=lo,c.d5=_0,c.d6=Uf,c.d7=450,c.d8=7,c.d9=ZC,c.dA=wr,c.dB=p,c.dC=sf,c.dD=function([u,n,i]){const d=Math.hypot(u,n,i),g=Math.atan2(u,i),h=.5*Math.PI-Math.acos(-n/d);return new hs(Ot(g),Ot(h))},c.dE=Wy,c.dF=function(u){const n=u.navigator?u.navigator.userAgent:null;return!!function(i){if(oo==null){const d=i.navigator?i.navigator.userAgent:null;oo=!!i.safari||!(!d||!(/\b(iPad|iPhone|iPod)\b/.test(d)||d.match("Safari")&&!d.match("Chrome")))}return oo}(u)&&n&&(n.match("Version/15.4")||n.match("Version/15.5")||n.match(/CPU (OS|iPhone OS) (15_4|15_5) like Mac OS X/))},c.dG=function(u,n){$t=u,ln=n},c.dH=ru,c.dI=td,c.dJ=function(u){const n=[0,0,0],i=Ae.mat4.identity(new Float64Array(16));return Ae.mat4.multiply(i,u.pixelMatrix,u.globeMatrix),Ae.vec3.transformMat4(n,n,i),new On(n[0],n[1])},c.dK=function(u,n,i=!1){if(kc===gh||kc===up||kc===Sm)throw new Error("setRTLTextPlugin cannot be called multiple times.");_d=pe.resolveURL(u),kc=gh,hu=n,dp(),i||fp()},c.dL=vh,c.dM=function(){J0().acquire(Qy)},c.dN=function(){const u=Eg;u&&(u.isPreloaded()&&u.numActive()===1?(u.release(Qy),Eg=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},c.dO=Bh,c.dP=function(u){const n=Kt();if(!n)return;const i=n.delete(tn);u&&i.catch(u).then(()=>u())},c.dQ=wg,c.dR=U1,c.dS=function(u){eh=pe.resolveURL(u),th||(th=new qp(J0(),new ho)),th.broadcast("setDracoUrl",eh)},c.dT=wS,c.dU=function(u){am=pe.resolveURL(u),th||(th=new qp(J0(),new ho)),th.broadcast("setMeshoptUrl",am)},c.dV=Eo,c.dW=jf,c.dX=ad,c.dY=Du,c.dZ=class{constructor(u,n){this.pos=u,this.dir=n}intersectsPlane(u,n,i){const d=Ae.vec2.dot(n,this.dir);if(Math.abs(d)<1e-6)return!1;const g=((u[0]-this.pos[0])*n[0]+(u[1]-this.pos[1])*n[1])/d;return i[0]=this.pos[0]+this.dir[0]*g,i[1]=this.pos[1]+this.dir[1]*g,!0}},c.d_=rx,c.da=xs,c.db=Qd,c.dc=256,c.dd=Rs,c.de=Pu,c.df=Cs,c.dg=zm,c.dh=function(u,n,i,d,g){return Hn((u-n)/(i-n)*(g-d)+d,d,g)},c.di=Tf,c.dj=Od,c.dk=class{constructor(u,n,i,d){this.context=u,this.format=d,this.size=i,this.texture=u.gl.createTexture();const[g,h,v]=this.size,{gl:S}=u;S.bindTexture(S.TEXTURE_3D,this.texture),u.pixelStoreUnpackFlipY.set(!1),u.pixelStoreUnpack.set(1),u.pixelStoreUnpackPremultiplyAlpha.set(!1),S.texImage3D(S.TEXTURE_3D,0,this.format,g,h,v,0,z0(this.format),Vy(this.format),n.data)}bind(u,n){const{context:i}=this,{gl:d}=i;d.bindTexture(d.TEXTURE_3D,this.texture),u!==this.minFilter&&(d.texParameteri(d.TEXTURE_3D,d.TEXTURE_MAG_FILTER,u),d.texParameteri(d.TEXTURE_3D,d.TEXTURE_MIN_FILTER,u),this.minFilter=u),n!==this.wrapS&&(d.texParameteri(d.TEXTURE_3D,d.TEXTURE_WRAP_S,n),d.texParameteri(d.TEXTURE_3D,d.TEXTURE_WRAP_T,n),this.wrapS=n)}destroy(){const{gl:u}=this.context;u.deleteTexture(this.texture),this.texture=null}},c.dl=vg,c.dm=[1,1,1],c.dn=Ad,c.dp=Yp,c.dq=Sd,c.dr=pu,c.ds=lf,c.dt=wh,c.du=Ou,c.dv=class{constructor(){this._updateTime=0,this._sourceIds=[],this._activeRegions=[],this._prevRegions=[],this._globalClipBounds={min:new On(1/0,1/0),max:new On(-1/0,-1/0)}}clear(){this._activeRegions.length>0&&++this._updateTime,this._activeRegions=[],this._prevRegions=[]}get updateTime(){return this._updateTime}getReplacementRegionsForTile(u,n=!1){const i=vc(new On(0,0),new On(ji,ji),u),d=[];if(n&&!Lp(i,this._globalClipBounds))return d;for(const g of this._activeRegions){if(g.hiddenByOverlap||!Lp(i,g))continue;const h=y0(g.min,g.max,u);d.push({min:h.min,max:h.max,sourceId:this._sourceIds[g.priority],footprint:g.footprint,footprintTileId:g.tileId,order:g.order,clipMask:g.clipMask,clipScope:g.clipScope})}return d}setSources(u){this._setSources(u.map(n=>({getSourceId:()=>n.cache.id,getFootprints:()=>{const i=[];for(const d of n.cache.getVisibleCoordinates()){const g=n.cache.getTile(d).buckets[n.layer];g&&g.updateFootprints(d.toUnwrapped(),i)}return i},getOrder:()=>n.order,getClipMask:()=>n.clipMask,getClipScope:()=>n.clipScope})))}_addSource(u){const n=u.getFootprints();if(n.length===0)return;const i=u.getOrder(),d=u.getClipMask(),g=u.getClipScope();for(const h of n){if(!h.footprint)continue;const v=vc(h.footprint.min,h.footprint.max,h.id);this._activeRegions.push({min:v.min,max:v.max,hiddenByOverlap:!1,priority:this._sourceIds.length,tileId:h.id,footprint:h.footprint,order:i,clipMask:d,clipScope:g})}this._sourceIds.push(u.getSourceId())}_computeReplacement(){this._activeRegions.sort((n,i)=>n.priority-i.priority||Sc(n.min,i.min)||Sc(n.max,i.max)||n.order-i.order||n.clipMask-i.clipMask||function(d,g){const h=(v,S)=>v+S;return d.length-g.length||d.reduce(h,"").localeCompare(g.reduce(h,""))}(n.clipScope,i.clipScope));let u=this._activeRegions.length!==this._prevRegions.length;if(!u){let n=0;for(;!u&&n!==this._activeRegions.length;){const i=this._activeRegions[n],d=this._prevRegions[n];u=i.priority!==d.priority||!qm(i,d)||i.order!==d.order||i.clipMask!==d.clipMask||!Kr(i.clipScope,d.clipScope),++n}}if(u){++this._updateTime;for(const i of this._activeRegions)i.order!==Ym&&(this._globalClipBounds.min.x=Math.min(this._globalClipBounds.min.x,i.min.x),this._globalClipBounds.min.y=Math.min(this._globalClipBounds.min.y,i.min.y),this._globalClipBounds.max.x=Math.max(this._globalClipBounds.max.x,i.max.x),this._globalClipBounds.max.y=Math.max(this._globalClipBounds.max.y,i.max.y));const n=i=>{const d=this._activeRegions;if(i>=d.length)return i;const g=d[i].priority;for(;i<d.length&&d[i].priority===g;)++i;return i};if(this._sourceIds.length>1){let i=0,d=n(i);for(;i!==d;){let g=i;const h=i;for(;g!==d;){const v=this._activeRegions[g];v.hiddenByOverlap=!1;for(let S=0;S<h;S++){const M=this._activeRegions[S];if(!M.hiddenByOverlap&&v.order===Ym&&Lp(v,M)&&(v.hiddenByOverlap=sb(v.footprint,v.tileId,M.footprint,M.tileId),v.hiddenByOverlap))break}++g}i=d,d=n(i)}}}}_setSources(u){[this._prevRegions,this._activeRegions]=[this._activeRegions,[]],this._sourceIds=[];for(let n=u.length-1;n>=0;n--)this._addSource(u[n]);this._computeReplacement()}},c.dw=class{constructor(u){this._createGrid(u),this._createPoles(u)}destroy(){this._poleIndexBuffer.destroy(),this._gridBuffer.destroy(),this._gridIndexBuffer.destroy(),this._poleNorthVertexBuffer.destroy(),this._poleSouthVertexBuffer.destroy();for(const u of this._poleSegments)u.destroy();for(const u of this._gridSegments)u.withSkirts.destroy(),u.withoutSkirts.destroy()}_fillGridMeshWithLods(u,n){const i=new Mu,d=new lc,g=[],h=u+1+2,v=n[0]+1,S=n[0]+1+(1+n.length),M=(A,b,P)=>{let $=A===h-1?A-2:A===0?A:A-1;return $+=P?24575:0,[$,b]};for(let A=0;A<h;++A)i.emplaceBack(...M(A,0,!0));for(let A=0;A<v;++A)for(let b=0;b<h;++b)i.emplaceBack(...M(b,A,(b===0||b===h-1)&&!0));for(let A=0;A<n.length;++A){const b=n[A];for(let P=0;P<h;++P)i.emplaceBack(...M(P,b,!0))}for(let A=0;A<n.length;++A){const b=d.length,P=n[A]+1+2,$=new lc;for(let N=0;N<P-1;N++){const W=N===P-2,J=W?h*(S-n.length+A-N):h;for(let se=0;se<h-1;se++){const ue=N*h+se;N===0||W||se===0||se===h-2?($.emplaceBack(ue+1,ue,ue+J),$.emplaceBack(ue+J,ue+J+1,ue+1)):(d.emplaceBack(ue+1,ue,ue+J),d.emplaceBack(ue+J,ue+J+1,ue+1))}}const T=sl.simpleSegment(0,b,i.length,d.length-b);for(let N=0;N<$.uint16.length;N+=3)d.emplaceBack($.uint16[N],$.uint16[N+1],$.uint16[N+2]);const O=sl.simpleSegment(0,b,i.length,d.length-b);g.push({withoutSkirts:T,withSkirts:O})}return{vertices:i,indices:d,segments:g}}_createGrid(u){const n=this._fillGridMeshWithLods(kf,$h);this._gridSegments=n.segments,this._gridBuffer=u.createVertexBuffer(n.vertices,Ko.members),this._gridIndexBuffer=u.createIndexBuffer(n.indices,!0)}_createPoles(u){const n=new lc;for(let v=0;v<=kf;v++)n.emplaceBack(0,v+1,v+2);this._poleIndexBuffer=u.createIndexBuffer(n,!0);const i=new Cs,d=new Cs,g=new Cs,h=new Cs;this._poleSegments=[];for(let v=0,S=0;v<Ff;v++){const M=360/(1<<v);i.emplaceBack(0,-Tc,0,.5,0),d.emplaceBack(0,-Tc,0,.5,1),g.emplaceBack(0,-Tc,0,.5,.5),h.emplaceBack(0,-Tc,0,.5,.5);for(let A=0;A<=kf;A++){let b=A/kf,P=0;const $=Et(0,M,b),[T,O,N]=Kl(cf,Au,$,Tc);i.emplaceBack(T,O,N,b,P),d.emplaceBack(T,O,N,b,1-P);const W=it($);b=.5+.5*Math.sin(W),P=.5+.5*Math.cos(W),g.emplaceBack(T,O,N,b,P),h.emplaceBack(T,O,N,b,1-P)}this._poleSegments.push(sl.simpleSegment(S,0,66,64)),S+=66}this._poleNorthVertexBuffer=u.createVertexBuffer(i,ca,!1),this._poleSouthVertexBuffer=u.createVertexBuffer(d,ca,!1),this._texturedPoleNorthVertexBuffer=u.createVertexBuffer(g,ca,!1),this._texturedPoleSouthVertexBuffer=u.createVertexBuffer(h,ca,!1)}getGridBuffers(u,n){return[this._gridBuffer,this._gridIndexBuffer,n?this._gridSegments[u].withSkirts:this._gridSegments[u].withoutSkirts]}getPoleBuffers(u,n){return[n?this._texturedPoleNorthVertexBuffer:this._poleNorthVertexBuffer,n?this._texturedPoleSouthVertexBuffer:this._poleSouthVertexBuffer,this._poleIndexBuffer,this._poleSegments[u]]}},c.dx=Ym,c.dy=gn,c.dz=function(){return!!document.fullscreenElement||!!document.webkitFullscreenElement},c.e=rr,c.e0=dy,c.e1=ei,c.e2=Rr,c.e3=Bb,c.e4=function(u,n,i,d,g,h,v,S,M,A,b=1,P,$){u.createArrays(),u.tilePixelRatio=ji/(512*u.overscaling),u.compareText={},u.iconsNeedLinear=!1;const T=u.layers[0].layout,O=u.layers[0]._unevaluatedLayout._values,N={};N.scaleFactor=b,N.textSizeScaleRange=T.get("text-size-scale-range"),N.iconSizeScaleRange=T.get("icon-size-scale-range");const[W,J]=N.textSizeScaleRange,[se,ue]=N.iconSizeScaleRange;if(N.textScaleFactor=Hn(N.scaleFactor,W,J),N.iconScaleFactor=Hn(N.scaleFactor,se,ue),u.textSizeData.kind==="composite"){const{minZoom:Be,maxZoom:mt}=u.textSizeData;N.compositeTextSizes=[O["text-size"].possiblyEvaluate(new Us(Be),S),O["text-size"].possiblyEvaluate(new Us(mt),S)]}if(u.iconSizeData.kind==="composite"){const{minZoom:Be,maxZoom:mt}=u.iconSizeData;N.compositeIconSizes=[O["icon-size"].possiblyEvaluate(new Us(Be),S),O["icon-size"].possiblyEvaluate(new Us(mt),S)]}N.layoutTextSize=O["text-size"].possiblyEvaluate(new Us(M+1),S),N.layoutIconSize=O["icon-size"].possiblyEvaluate(new Us(M+1),S),N.textMaxSize=O["text-size"].possiblyEvaluate(new Us(18),S);const re=T.get("text-rotation-alignment")==="map"&&T.get("symbol-placement")!=="point",ve=T.get("text-size");let we=!1;for(const Be of u.features)if(Be.icon&&Be.icon.nameSecondary){we=!0;break}for(const Be of u.features){const mt=T.get("text-font").evaluate(Be,{},S).join(","),pt=ve.evaluate(Be,{},S)*N.textScaleFactor,ft=N.layoutTextSize.evaluate(Be,{},S)*N.textScaleFactor,Yt=(N.layoutIconSize.evaluate(Be,{},S),{horizontal:{},vertical:void 0}),yt=Be.text;let en,yn=[0,0];if(yt){const Bn=yt.toString(),Yn=T.get("text-letter-spacing").evaluate(Be,{},S)*uc,$n=T.get("text-line-height").evaluate(Be,{},S)*uc,$r=Cm(Bn)?Yn:0,fi=T.get("text-anchor").evaluate(Be,{},S),Dr=T.get("text-variable-anchor");if(!Dr){const Ro=T.get("text-radial-offset").evaluate(Be,{},S);yn=Ro?Ay(fi,[Ro*uc,M0]):T.get("text-offset").evaluate(Be,{},S).map(io=>io*uc)}let Qi=re?"center":T.get("text-justify").evaluate(Be,{},S);const Hi=T.get("symbol-placement")==="point",Ii=Hi?T.get("text-max-width").evaluate(Be,{},S)*uc:1/0,gi=Ro=>{u.allowVerticalPlacement&&xm(Bn)&&(Yt.vertical=wy(yt,n,i,g,mt,Ii,$n,fi,Ro,$r,yn,yu.vertical,!0,ft,pt))};if(!re&&Dr){const Ro=Qi==="auto"?Dr.map(yo=>Dy(yo)):[Qi];let io=!1;for(let yo=0;yo<Ro.length;yo++){const ua=Ro[yo];if(!Yt.horizontal[ua])if(io)Yt.horizontal[ua]=Yt.horizontal[0];else{const ka=wy(yt,n,i,g,mt,Ii,$n,"center",ua,$r,yn,yu.horizontal,!1,ft,pt);ka&&(Yt.horizontal[ua]=ka,io=ka.positionedLines.length===1)}}gi("left")}else{if(Qi==="auto"&&(Qi=Dy(fi)),Hi||T.get("text-writing-mode").indexOf("horizontal")>=0||!xm(Bn)){const Ro=wy(yt,n,i,g,mt,Ii,$n,fi,Qi,$r,yn,yu.horizontal,!1,ft,pt);Ro&&(Yt.horizontal[Qi]=Ro)}gi(Hi?"left":Qi)}}let fn=!1;if(Be.icon&&Be.icon.namePrimary){const Bn=yy(u.iconSizeData,O["icon-size"],S,u.zoom,Be)*N.iconScaleFactor*P,Yn=Be.icon.getPrimary().scaleSelf(Bn).serialize(),$n=d[Yn];$n&&(en=Ab(g[Yn],Be.icon.nameSecondary?g[Be.icon.getSecondary().scaleSelf(Bn).serialize()]:void 0,T.get("icon-offset").evaluate(Be,{},S),T.get("icon-anchor").evaluate(Be,{},S)),fn=$n.sdf,u.sdfIcons===void 0?u.sdfIcons=$n.sdf:u.sdfIcons!==$n.sdf&&Wn("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),($n.pixelRatio!==u.pixelRatio||T.get("icon-rotate").constantOr(1)!==0)&&(u.iconsNeedLinear=!0))}const xn=Wb(Yt.horizontal)||Yt.vertical;u.iconsInText||(u.iconsInText=!!xn&&xn.iconsInText),(xn||en)&&Ub(u,Be,Yt,en,d,N,ft,0,yn,fn,v,S,A,$,we)}h&&u.generateCollisionDebugBuffers(M,u.collisionBoxArray,N.textScaleFactor)},c.e5=Mg,c.e6=Jr,c.e7=g0,c.e8=Ob,c.e9=be,c.ea=function(u){let n=0;if(new Uint32Array(u,0,1)[0]!==X1){const i=new Uint32Array(u,0,7),[,,d,g,h,v]=i;n=i.byteLength+g+h+v+h,(d!==u.byteLength||n>=u.byteLength)&&Wn("Invalid b3dm header information.")}return J1(u,n)},c.eb=function(u,n){const i=tx(u);for(const d of i){for(const g of d.meshes)OS(g);d.lights&&(d.lightMeshIndex=d.meshes.length,d.meshes.push(nx(d.lights,n)))}return i},c.ec=X0,c.ed=Y0,c.ee=Gc,c.ef=function(u){rn(),et!=null&&et.then(n=>{n.keys().then(i=>{for(let d=0;d<i.length-u;d++)n.delete(i[d])})})},c.f=function(u){return u.indexOf("mapbox:")===0},c.g=function(u,n){return gt(ni(u,{method:"GET"}),n)},c.h=Yr,c.i=function(u){return rr.API_STYLE_REGEX.test(u)&&!Mi(u)},c.j=function(u){return decodeURIComponent(atob(u).split("").map(n=>"%"+("00"+n.charCodeAt(0).toString(16)).slice(-2)).join(""))},c.k=function(u){return btoa(encodeURIComponent(u).replace(/%([0-9A-F]{2})/g,(n,i)=>String.fromCharCode(+("0x"+i))))},c.l=ni,c.m=at,c.n=function(u,n){return gt(ni(u,{type:"json"}),n)},c.o=Pi,c.p=function(u,n){return gt(ni(u,{method:"POST"}),n)},c.q=pe,c.r=gc,c.s=function(u){try{const n=self[u];return n.setItem("_mapbox_test_",1),n.removeItem("_mapbox_test_"),!0}catch(n){return!1}},c.t=Ze,c.u=function(){return function u(n){return n?(n^Math.random()*(16>>n/4)).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,u)}()},c.v=function(u){return!!u&&/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(u)},c.w=Wn,c.x=function(){return q0||(q0=new Bh),q0},c.y=$o,c.z=To}),Qe(["./shared"],function(c){function be(Re){const de=Re?Re.url.toString():void 0;return de?performance.getEntriesByName(de):[]}function We(Re){if(typeof Re=="number"||typeof Re=="boolean"||typeof Re=="string"||Re==null)return JSON.stringify(Re);if(Array.isArray(Re)){let Y="[";for(const Ze of Re)Y+=`${We(Ze)},`;return`${Y}]`}let de="{";for(const Y of Object.keys(Re).sort())de+=`${Y}:${We(Re[Y])},`;return`${de}}`}function De(Re){let de="";for(const Y of c.bm)(Re.type!=="model"||Y!=="minzoom"&&Y!=="maxzoom")&&(de+=`/${We(Re[Y])}`);return de}class Te{constructor(de){this.keyCache={},this._layers={},this._layerConfigs={},de&&this.replace(de)}replace(de,Y){this._layerConfigs={},this._layers={},this.update(de,[],Y)}update(de,Y,Ze){this._options=Ze;for(const nt of de)this._layerConfigs[nt.id]=nt,(this._layers[nt.id]=c.cu(nt,this.scope,null,this._options)).compileFilter(Ze),this.keyCache[nt.id]&&delete this.keyCache[nt.id];for(const nt of Y)delete this.keyCache[nt],delete this._layerConfigs[nt],delete this._layers[nt];this.familiesBySource={};const pe=function(nt,rt){const tn={};for(let ln=0;ln<nt.length;ln++){const vn=nt[ln];let et=rt&&rt[vn.id];!et&&(et=De(vn),vn.type==="line"&&vn.paint)&&function Kt(rn){return typeof rn=="string"&&rn==="line-progress"||(Array.isArray(rn)?rn.some(Kt):!(!rn||typeof rn!="object")&&Object.values(rn).some(Kt))}(vn.paint["line-width"])&&(et+=`/${We(vn.paint["line-width"])}`),rt&&(rt[vn.id]=et);let Rt=tn[et];Rt||(Rt=tn[et]=[]),Rt.push(vn)}const $t=[];for(const ln in tn)$t.push(tn[ln]);return $t}(c.bj(this._layerConfigs),this.keyCache);for(const nt of pe){const rt=nt.map(Rt=>this._layers[Rt.id]),tn=rt[0];if(tn.visibility==="none")continue;const $t=tn.source||"";let ln=this.familiesBySource[$t];ln||(ln=this.familiesBySource[$t]={});const vn=tn.sourceLayer||"_geojsonTileLayer";let et=ln[vn];et||(et=ln[vn]=[]),et.push(rt)}}}const ye=1*c.dX;class te{constructor(de){const Y={},Ze=[];for(const tn in de){const $t=de[tn],ln=Y[tn]={};for(const vn in $t.glyphs){const et=$t.glyphs[+vn];if(!et||et.bitmap.width===0||et.bitmap.height===0)continue;const Rt=et.metrics.localGlyph?ye:1,Kt={x:0,y:0,w:et.bitmap.width+2*Rt,h:et.bitmap.height+2*Rt};Ze.push(Kt),ln[vn]=Kt}}const{w:pe,h:nt}=c.F(Ze),rt=new c.dW({width:pe||1,height:nt||1});for(const tn in de){const $t=de[tn];for(const ln in $t.glyphs){const vn=$t.glyphs[+ln];if(!vn||vn.bitmap.width===0||vn.bitmap.height===0)continue;const et=Y[tn][ln],Rt=vn.metrics.localGlyph?ye:1;c.dW.copy(vn.bitmap,rt,{x:0,y:0},{x:et.x+Rt,y:et.y+Rt},vn.bitmap)}}this.image=rt,this.positions=Y}}c.dV(te,"GlyphAtlas");const Ve="3d_elevation_id",Ie="hd_road_elevation";class Ue{constructor(){this._valid=!1}reset(de){return this.feature=de,this._valid=!0,this._geometry=de.loadGeometry(),this._geometry.length!==0&&this._geometry[0].length!==0||(this._valid=!1),this}geometry(de,Y){return this._valid&&de(Y(this._geometry)),this}require(de,Y,Ze){return this.get(de,!0,Y,Ze)}optional(de,Y,Ze){return this.get(de,!1,Y,Ze)}success(){return this._valid}get(de,Y,Ze,pe){const nt=this.feature.properties.hasOwnProperty(de)?+this.feature.properties[de]:void 0;return this._valid&&nt!==void 0?Ze(pe?pe(nt):nt):Y&&(this._valid=!1),this}}class tt{constructor(de,Y){this.featureFunc=de,this.vertexFunc=Y}parseFeature(de,Y,Ze){return this.featureFunc(de,Y,Ze)}parseVertex(de,Y,Ze){return this.vertexFunc(de,Y,Ze)}}const ot=new tt((Re,de,Y)=>Re.reset(de).require(Ve,Ze=>{Y.id=Ze}).optional("fixed_height_relative",Ze=>{Y.constantHeight=Ze},ct.decodeRelativeHeight).geometry(Ze=>{Y.bounds=Ze},ct.computeBounds).success(),(Re,de,Y)=>Re.reset(de).require(Ve,Ze=>{Y.id=Ze}).require("elevation_idx",Ze=>{Y.idx=Ze}).require("extent",Ze=>{Y.extent=Ze}).require("height_relative",Ze=>{Y.height=Ze},ct.decodeRelativeHeight).geometry(Ze=>{Y.position=Ze},ct.getPoint).success()),Je=new tt((Re,de,Y)=>Re.reset(de).require(Ve,Ze=>{Y.id=Ze}).optional("fixed_height",Ze=>{Y.constantHeight=Ze},ct.decodeMetricHeight).geometry(Ze=>{Y.bounds=Ze},ct.computeBounds).success(),(Re,de,Y)=>Re.reset(de).require(Ve,Ze=>{Y.id=Ze}).require("elevation_idx",Ze=>{Y.idx=Ze}).require("extent",Ze=>{Y.extent=Ze}).require("height",Ze=>{Y.height=Ze},ct.decodeMetricHeight).geometry(Ze=>{Y.position=Ze},ct.getPoint).success());class ct{static computeBounds(de){const Y=new c.P(Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY),Ze=new c.P(Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY);for(const pe of de[0])Y.x>pe.x&&(Y.x=pe.x),Y.y>pe.y&&(Y.y=pe.y),Ze.x<pe.x&&(Ze.x=pe.x),Ze.y<pe.y&&(Ze.y=pe.y);return{min:Y,max:Ze}}static getPoint(de){return c.ab.vec2.fromValues(de[0][0].x,de[0][0].y)}static decodeRelativeHeight(de){return 1e-4*de*5}static decodeMetricHeight(de){return 1e-4*de}static parse(de){const Y=[],Ze=[],pe=de.length,nt=new Ue;for(let tn=0;tn<pe;tn++){const $t=de.feature(tn),ln=$t.properties.hasOwnProperty("version")?String($t.properties.version):void 0,vn=(rt=ln)?rt==="1.0.1"?Je:void 0:ot;if(vn===void 0){c.w(`Unknown elevation feature version number ${ln||"(unknown)"}`);continue}const et=$t.properties.hasOwnProperty("type")?$t.properties.type:void 0;if(et){if(c.dY.VectorTileFeature.types[$t.type]==="Point"&&et==="curve_point"){const Rt={};vn.parseVertex(nt,$t,Rt)&&Y.push(Rt)}else if(c.dY.VectorTileFeature.types[$t.type]==="Polygon"&&et==="curve_meta"){const Rt={};vn.parseFeature(nt,$t,Rt)&&Ze.push(Rt)}}}var rt;return{vertices:Y,features:Ze}}}class bt{constructor(de,Y,Ze,pe,nt,rt){if(this.vertices=new Array,this.vertexProps=new Array,this.edges=new Array,this.edgeProps=new Array,this.id=de,this.heightRange={min:Ze,max:Ze},this.safeArea=Y,this.constantHeight=Ze,this.constantHeight==null&&(this.constantHeight!=null||pe.length!==0)){this.vertices=pe,this.edges=nt,this.edges=this.edges.filter(tn=>tn.a<this.vertices.length&&tn.b<this.vertices.length&&!c.ab.vec2.exactEquals(this.vertices[tn.a].position,this.vertices[tn.b].position)),this.heightRange={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};for(const tn of this.vertices)this.vertexProps.push({dir:c.ab.vec2.fromValues(0,0)}),this.heightRange.min=Math.min(this.heightRange.min,tn.height),this.heightRange.max=Math.max(this.heightRange.max,tn.height);for(const tn of this.edges){const $t=this.vertices[tn.a].position,ln=this.vertices[tn.b].position,vn=c.ab.vec2.subtract(c.ab.vec2.create(),ln,$t),et=c.ab.vec2.length(vn),Rt=c.ab.vec2.scale(c.ab.vec2.create(),vn,1/et);this.edgeProps.push({vec:vn,dir:Rt,len:et});const Kt=this.vertexProps[tn.a].dir,rn=this.vertexProps[tn.b].dir;c.ab.vec2.add(Kt,Kt,Rt),c.ab.vec2.add(rn,rn,Rt)}for(const tn of this.vertexProps)tn.dir[0]===0&&tn.dir[1]===0||c.ab.vec2.normalize(tn.dir,tn.dir);this.tessellate(rt)}}pointElevation(de){if(this.constantHeight!=null)return this.constantHeight;const Y=this.getClosestEdge(de);if(Y==null)return 0;const[Ze,pe]=Y;return(1-(nt=pe))*this.vertices[this.edges[Ze].a].height+nt*this.vertices[this.edges[Ze].b].height;var nt}getClosestEdge(de){if(this.edges.length===0)return;let Y=0,Ze=Number.POSITIVE_INFINITY,pe=0;const nt=c.ab.vec2.fromValues(de.x,de.y);for(let rt=0;rt<this.edges.length;rt++){const tn=this.edges[rt],$t=this.edgeProps[rt].dir,ln=new c.dZ(nt,this.edgeProps[rt].dir),vn=this.vertices[tn.a].position,et=this.vertices[tn.b].position,Rt=c.ab.vec2.create(),Kt=c.ab.vec2.create(),rn=ln.intersectsPlane(vn,this.vertexProps[tn.a].dir,Rt),dt=ln.intersectsPlane(et,this.vertexProps[tn.b].dir,Kt);if(!rn||!dt)continue;const at=c.ab.vec2.subtract(c.ab.vec2.create(),Kt,Rt),Sn=c.ab.vec2.subtract(c.ab.vec2.create(),nt,Rt),bn=c.ab.vec2.dot(at,at),Gn=bn>0?c.ab.vec2.dot(Sn,at)/bn:0,or=c.aw(Gn,0,1),gr=Math.abs((Gn-or)*this.edgeProps[rt].len),Fr=c.ab.vec2.subtract(c.ab.vec2.create(),nt,vn),hi=gr+Math.abs(c.ab.vec2.dot(Fr,c.ab.vec2.fromValues($t[1],-$t[0])));hi<Ze&&(Y=rt,Ze=hi,pe=or)}return[Y,pe]}tessellate(de){for(let Y=this.edges.length-1;Y>=0;--Y){const Ze=this.edges[Y].a,pe=this.edges[Y].b,{position:nt,height:rt,extent:tn}=this.vertices[Ze],{position:$t,height:ln,extent:vn}=this.vertices[pe],et=this.vertexProps[Ze].dir,Rt=this.vertexProps[pe].dir,Kt=c.ab.vec3.fromValues(nt[0]/de,nt[1]/de,rt),rn=c.ab.vec3.fromValues($t[0]/de,$t[1]/de,ln),dt=c.ab.vec3.fromValues(et[1],-et[0],0);c.ab.vec3.scale(dt,dt,tn);const at=c.ab.vec3.fromValues(Rt[1],-Rt[0],0);if(c.ab.vec3.scale(at,at,vn),this.distSqLines(c.ab.vec3.fromValues(Kt[0]+.5*dt[0],Kt[1]+.5*dt[1],Kt[2]+.5*dt[2]),c.ab.vec3.fromValues(rn[0]-.5*at[0],rn[1]-.5*at[1],rn[2]-.5*at[2]),c.ab.vec3.fromValues(Kt[0]-.5*dt[0],Kt[1]-.5*dt[1],Kt[2]-.5*dt[2]),c.ab.vec3.fromValues(rn[0]+.5*at[0],rn[1]+.5*at[1],rn[2]+.5*at[2]))<=.05*.05)continue;const Sn=this.vertices.length,bn=c.ab.vec2.add(c.ab.vec2.create(),nt,$t);this.vertices.push({position:c.ab.vec2.scale(bn,bn,.5),height:.5*(rt+ln),extent:.5*(tn+vn)});const Gn=c.ab.vec2.add(c.ab.vec2.create(),et,Rt);this.vertexProps.push({dir:c.ab.vec2.normalize(Gn,Gn)}),this.edges.splice(Y,1),this.edgeProps.splice(Y,1),this.edges.push({a:Ze,b:Sn}),this.edges.push({a:Sn,b:pe});const or=c.ab.vec2.subtract(c.ab.vec2.create(),this.vertices[Sn].position,nt),gr=c.ab.vec2.length(or),Fr={vec:or,dir:c.ab.vec2.scale(c.ab.vec2.create(),or,1/gr),len:gr};this.edgeProps.push(Fr),this.edgeProps.push(Fr)}}distSqLines(de,Y,Ze,pe){const nt=c.ab.vec3.subtract(c.ab.vec3.create(),Y,de),rt=c.ab.vec3.subtract(c.ab.vec3.create(),pe,Ze),tn=c.ab.vec3.subtract(c.ab.vec3.create(),de,Ze),$t=c.ab.vec3.dot(nt,nt),ln=c.ab.vec3.dot(nt,rt),vn=c.ab.vec3.dot(nt,tn),et=c.ab.vec3.dot(rt,rt),Rt=c.ab.vec3.dot(rt,tn),Kt=$t*et-ln*ln;if(Kt===0){const bn=c.ab.vec3.dot(tn,rt)/c.ab.vec3.dot(rt,rt),Gn=c.ab.vec3.lerp(c.ab.vec3.create(),Ze,pe,bn);return c.ab.vec3.squaredDistance(Gn,de)}const rn=(ln*Rt-vn*et)/Kt,dt=($t*Rt-ln*vn)/Kt,at=c.ab.vec3.lerp(c.ab.vec3.create(),de,Y,rn),Sn=c.ab.vec3.lerp(c.ab.vec3.create(),Ze,pe,dt);return c.ab.vec3.squaredDistance(at,Sn)}}class Xe{static parseFrom(de,Y){const Ze=ct.parse(de);if(!Ze)return[];let{vertices:pe,features:nt}=Ze;const rt=1/c.cc(Y);nt.sort((vn,et)=>vn.id-et.id),pe.sort((vn,et)=>vn.id-et.id||vn.idx-et.idx),pe=pe.filter((vn,et,Rt)=>et===Rt.findIndex(Kt=>Kt.id===vn.id&&Kt.idx===vn.idx));const tn=new Array;let $t=0;const ln=pe.length;for(const vn of nt){if(vn.constantHeight){tn.push(new bt(vn.id,vn.bounds,vn.constantHeight));continue}for(;$t!==ln&&pe[$t].id<vn.id;)$t++;if($t===ln||pe[$t].id!==vn.id)continue;const et=new Array,Rt=new Array,Kt=$t;for(;$t!==ln&&pe[$t].id===vn.id;){const rn=pe[$t];if(et.push({position:rn.position,height:rn.height,extent:rn.extent}),$t!==Kt&&pe[$t-1].idx===rn.idx-1){const dt=$t-Kt;Rt.push({a:dt-1,b:dt})}$t++}tn.push(new bt(vn.id,vn.bounds,void 0,et,Rt,rt))}return tn}}c.dV(bt,"ElevationFeature");class jt{constructor(de){this.tileID=new c.aG(de.tileID.overscaledZ,de.tileID.wrap,de.tileID.canonical.z,de.tileID.canonical.x,de.tileID.canonical.y),this.tileZoom=de.tileZoom,this.uid=de.uid,this.zoom=de.zoom,this.lut=de.lut,this.canonical=de.tileID.canonical,this.pixelRatio=de.pixelRatio,this.tileSize=de.tileSize,this.source=de.source,this.scope=de.scope,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=de.showCollisionBoxes,this.collectResourceTiming=!!de.request&&de.request.collectResourceTiming,this.promoteId=de.promoteId,this.isSymbolTile=de.isSymbolTile,this.tileTransform=c.aQ(de.tileID.canonical,de.projection),this.projection=de.projection,this.worldview=de.worldview,this.localizableLayerIds=de.localizableLayerIds,this.brightness=de.brightness,this.extraShadowCaster=!!de.extraShadowCaster,this.tessellationStep=de.tessellationStep,this.scaleFactor=de.scaleFactor}parse(de,Y,Ze,pe,nt){this.status="parsing",this.data=de,this.collisionBoxArray=new c.aW;const rt=new c.d_(Object.keys(de.layers).sort()),tn=new c.d$(this.tileID,this.promoteId);tn.bucketLayerIDs=[];const $t={},ln=new c.e0(256,256),vn={featureIndex:tn,iconDependencies:{},patternDependencies:{},glyphDependencies:{},lineAtlas:ln,availableImages:Ze,brightness:this.brightness,scaleFactor:this.scaleFactor,elevationFeatures:void 0},et=Y.familiesBySource[this.source];for(const bn in et){const Gn=de.layers[bn];if(!Gn)continue;let or=!1,gr=!1,Fr=!1;for(const gt of et[bn])gt[0].type==="symbol"?or=!0:gr=!0,gt[0].is3D()&&gt[0].type!=="model"&&(Fr=!0);if(this.extraShadowCaster&&!Fr||this.isSymbolTile===!0&&!or||this.isSymbolTile===!1&&!gr)continue;Gn.version===1&&c.w(`Vector tile source "${this.source}" layer "${bn}" does not use vector tile spec v2 and therefore may have some rendering errors.`);const hi=rt.encode(bn),Hr=[];let to=!1;for(let gt=0,wn=0;gt<Gn.length;gt++){const qt=Gn.feature(gt),Nn=tn.getId(qt,bn);if(this.localizableLayerIds&&this.localizableLayerIds.has(bn)){const sr=qt.properties?qt.properties.worldview:null;if(this.worldview&&typeof sr=="string")if(sr==="all")qt.properties.$localized=!0;else{if(!sr.split(",").includes(this.worldview))continue;qt.properties.$localized=!0,qt.properties.worldview=this.worldview}}!to&&qt.properties&&qt.properties.hasOwnProperty(Ve)&&(to=!0),Hr.push({feature:qt,id:Nn,index:wn,sourceLayerIndex:hi}),wn++}to&&de.layers.hasOwnProperty(Ie)&&(vn.elevationFeatures=Xe.parseFrom(de.layers[Ie],this.canonical));for(const gt of et[bn]){const wn=gt[0];(!this.extraShadowCaster||wn.is3D()&&wn.type!=="model")&&(this.isSymbolTile!==void 0&&wn.type==="symbol"!==this.isSymbolTile||wn.minzoom&&this.zoom<Math.floor(wn.minzoom)||wn.maxzoom&&this.zoom>=wn.maxzoom||wn.visibility!=="none"&&(vt(gt,this.zoom,vn.brightness,Ze),($t[wn.id]=wn.createBucket({index:tn.bucketLayerIDs.length,layers:gt,zoom:this.zoom,lut:this.lut,canonical:this.canonical,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:hi,sourceID:this.source,projection:this.projection.spec,tessellationStep:this.tessellationStep})).populate(Hr,vn,this.tileID.canonical,this.tileTransform),tn.bucketLayerIDs.push(gt.map(qt=>c.aC(qt.id,qt.scope)))))}}let Rt,Kt,rn,dt;ln.trim();const at={type:"maybePrepare",isSymbolTile:this.isSymbolTile,zoom:this.zoom},Sn=()=>{if(Rt)return this.status="done",nt(Rt);if(this.extraShadowCaster)this.status="done",nt(null,{buckets:c.bj($t).filter(bn=>!bn.isEmpty()),featureIndex:tn,collisionBoxArray:null,glyphAtlasImage:null,lineAtlas:null,imageAtlas:null,brightness:vn.brightness,glyphMap:null,iconMap:null,glyphPositions:null});else if(Kt&&rn&&dt){const bn=new te(Kt),Gn=new c.e3(rn,dt,this.lut);for(const or in $t){const gr=$t[or];gr instanceof c.aX?(vt(gr.layers,this.zoom,vn.brightness,Ze),c.e4(gr,Kt,bn.positions,rn,Gn.iconPositions,this.showCollisionBoxes,Ze,this.tileID.canonical,this.tileZoom,this.projection,this.scaleFactor,this.pixelRatio,this.brightness)):gr.hasPattern&&(gr instanceof c.b1||gr instanceof c.b2||gr instanceof c.d5)&&(vt(gr.layers,this.zoom,vn.brightness,Ze),gr.addFeatures(vn,this.tileID.canonical,Gn.patternPositions,Ze,this.tileTransform,this.brightness))}this.status="done",nt(null,{buckets:c.bj($t).filter(or=>!or.isEmpty()),featureIndex:tn,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:bn.image,lineAtlas:ln,imageAtlas:Gn,brightness:vn.brightness})}};if(!this.extraShadowCaster){const bn=c.e1(vn.glyphDependencies,gr=>Object.keys(gr).map(Number));Object.keys(bn).length?pe.send("getGlyphs",{uid:this.uid,stacks:bn,scope:this.scope},(gr,Fr)=>{Rt||(Rt=gr,Kt=Fr,Sn())},void 0,!1,at):Kt={};const Gn=Object.keys(vn.iconDependencies);Gn.length?pe.send("getImages",{icons:Gn,source:this.source,scope:this.scope,tileID:this.tileID,type:"icons"},(gr,Fr)=>{if(Rt)return;Rt=gr;const hi={};Object.values(Fr).some(Hr=>Hr.usvg)?this.rasterize(pe,hi,Fr,vn.iconDependencies,()=>{rn=hi,Sn()}):(this.fillImageMap(hi,vn.iconDependencies,Fr),rn=hi,Sn())},void 0,!1,at):rn={};const or=Object.keys(vn.patternDependencies);or.length?pe.send("getImages",{icons:or,source:this.source,scope:this.scope,tileID:this.tileID,type:"patterns"},(gr,Fr)=>{if(!Rt){Rt=gr;const hi={};Object.values(Fr).some(Hr=>Hr.usvg)?this.rasterize(pe,hi,Fr,vn.patternDependencies,()=>{dt=hi,Sn()}):(this.fillImageMap(hi,vn.patternDependencies,Fr),dt=hi,Sn())}},void 0,!1,at):dt={}}Sn()}fillImageMap(de,Y,Ze){for(const pe in Ze){const nt=Y[pe]||[];for(const rt of nt)Ze[rt.id].usvg||(de[rt.serialize()]=Ze[rt.id])}}getImageTaskQueue(de,Y,Ze){const pe={};for(const nt in Y){const rt=Ze[nt]||[];for(const tn of rt){const $t=tn.serialize();Y[tn.id].usvg?pe[$t]||(pe[$t]=tn):de[$t]=Y[tn.id]}}return pe}rasterize(de,Y,Ze,pe,nt){const rt=this.getImageTaskQueue(Y,Ze,pe);this.rasterizeTask=de.send("rasterizeImages",{scope:this.scope,imageTasks:rt},(tn,$t)=>{if(!tn)for(const ln in $t){const{id:vn}=c.e2.deserializeFromString(ln);Y[ln]=Object.assign({},Ze[vn],{data:$t[ln]})}nt()})}cancelRasterize(){this.rasterizeTask&&this.rasterizeTask.cancel()}}function vt(Re,de,Y,Ze){const pe=new c.a8(de,{brightness:Y});for(const nt of Re)nt.recalculate(pe,Ze)}class Mt extends c.E{constructor(de,Y,Ze,pe,nt,rt){super(),this.actor=de,this.layerIndex=Y,this.availableImages=Ze,this.loadVectorData=nt||c.aD,this.loading={},this.loaded={},this.deduped=new c.aB(de.scheduler),this.isSpriteLoaded=pe,this.scheduler=de.scheduler,this.brightness=rt}loadTile(de,Y){const Ze=de.uid,pe=de&&de.request,nt=pe&&pe.collectResourceTiming,rt=this.loading[Ze]=new jt(de);rt.abort=this.loadVectorData(de,(tn,$t)=>{const ln=!this.loading[Ze];if(delete this.loading[Ze],rt.cancelRasterize(),ln||tn||!$t)return rt.status="done",ln||(this.loaded[Ze]=rt),Y(tn);const vn=$t.rawData,et={};$t.expires&&(et.expires=$t.expires),$t.cacheControl&&(et.cacheControl=$t.cacheControl),rt.vectorTile=$t.vectorTile||new c.dY.VectorTile(new c.bh(vn));const Rt=()=>{rt.parse(rt.vectorTile,this.layerIndex,this.availableImages,this.actor,(Kt,rn)=>{if(Kt||!rn)return Y(Kt);const dt={};if(nt){const at=be(pe);at.length>0&&(dt.resourceTiming=JSON.parse(JSON.stringify(at)))}Y(null,c.l({rawTileData:vn.slice(0)},rn,et,dt))})};this.isSpriteLoaded?Rt():this.once("isSpriteLoaded",()=>{this.scheduler?this.scheduler.add(Rt,{type:"parseTile",isSymbolTile:de.isSymbolTile,zoom:de.tileZoom}):Rt()}),this.loaded=this.loaded||{},this.loaded[Ze]=rt})}reloadTile(de,Y){const Ze=this.loaded,pe=de.uid;if(Ze&&Ze[pe]){const nt=Ze[pe];nt.scaleFactor=de.scaleFactor,nt.showCollisionBoxes=de.showCollisionBoxes,nt.projection=de.projection,nt.brightness=de.brightness,nt.tileTransform=c.aQ(de.tileID.canonical,de.projection),nt.extraShadowCaster=de.extraShadowCaster,nt.lut=de.lut;const rt=(tn,$t)=>{const ln=nt.reloadCallback;ln&&(delete nt.reloadCallback,nt.parse(nt.vectorTile,this.layerIndex,this.availableImages,this.actor,ln)),Y(tn,$t)};nt.status==="parsing"?nt.reloadCallback=rt:nt.status==="done"&&(nt.vectorTile?nt.parse(nt.vectorTile,this.layerIndex,this.availableImages,this.actor,rt):rt())}else Y(null,void 0)}abortTile(de,Y){const Ze=de.uid,pe=this.loading[Ze];pe&&(pe.abort&&pe.abort(),delete this.loading[Ze]),Y()}removeTile(de,Y){const Ze=this.loaded,pe=de.uid;Ze&&Ze[pe]&&delete Ze[pe],Y()}}class Ut{loadTile(de,Y){const{uid:Ze,encoding:pe,rawImageData:nt,padding:rt}=de,tn=ImageBitmap&&nt instanceof ImageBitmap?this.getImageData(nt,rt):nt;Y(null,new c.e5(Ze,tn,pe,rt<1))}getImageData(de,Y){this.offscreenCanvas&&this.offscreenCanvasContext||(this.offscreenCanvas=new OffscreenCanvas(de.width,de.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d",{willReadFrequently:!0})),this.offscreenCanvas.width=de.width,this.offscreenCanvas.height=de.height,this.offscreenCanvasContext.drawImage(de,0,0,de.width,de.height);const Ze=this.offscreenCanvasContext.getImageData(-Y,-Y,de.width+2*Y,de.height+2*Y);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),Ze}}c.bg.setPbf(c.bh);class Vt{decodeRasterArray({task:de,buffer:Y},Ze){c.bg.performDecoding(Y,de).then(pe=>{Ze(null,pe)},pe=>{Ze(pe)})}}const yr=c.dY.VectorTileFeature.prototype.toGeoJSON;class lr{constructor(de){this._feature=de,this.extent=c.ag,this.type=de.type,this.properties=de.tags,"id"in de&&!isNaN(de.id)&&(this.id=parseInt(de.id,10))}loadGeometry(){if(this._feature.type===1){const de=[];for(const Y of this._feature.geometry)de.push([new c.P(Y[0],Y[1])]);return de}{const de=[];for(const Y of this._feature.geometry){const Ze=[];for(const pe of Y)Ze.push(new c.P(pe[0],pe[1]));de.push(Ze)}return de}}toGeoJSON(de,Y,Ze){return yr.call(this,de,Y,Ze)}}class Xn{constructor(de){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=c.ag,this.length=de.length,this._features=de}feature(de){return new lr(this._features[de])}}const Ge=64/4096,Ht=128;class un{constructor(){this.features=new Map}clear(){this.features.clear()}load(de=[],Y){for(const Ze of de){const pe=Ze.id;if(pe==null)continue;let nt=this.features.get(pe);nt&&this.updateCache(nt,Y),Ze.geometry?(nt=ke(Ze),this.updateCache(nt,Y),this.features.set(pe,nt)):this.features.delete(pe),this.updateCache(nt,Y)}}updateCache(de,Y){for(const{canonical:Ze,uid:pe}of Object.values(Y)){const{z:nt,x:rt,y:tn}=Ze;Xt(de,Math.pow(2,nt),rt,tn)&&delete Y[pe]}}getTile(de,Y,Ze){const pe=Math.pow(2,de),nt=[];for(const rt of this.features.values())Xt(rt,pe,Y,Ze)&&nt.push(ut(rt,pe,Y,Ze));return{features:nt}}getFeatures(){return[...this.features.values()]}}function Xt({minX:Re,minY:de,maxX:Y,maxY:Ze},pe,nt,rt){return Re<(nt+1+Ge)/pe&&de<(rt+1+Ge)/pe&&Y>(nt-Ge)/pe&&Ze>(rt-Ge)/pe}function ke(Re){const{id:de,geometry:Y,properties:Ze}=Re;if(!Y)return;if(Y.type==="GeometryCollection")throw new Error("GeometryCollection not supported in dynamic mode.");const{type:pe,coordinates:nt}=Y,rt={id:de,type:1,geometry:[],tags:Ze,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0},tn=rt.geometry;if(pe==="Point")zn(nt,tn,rt);else if(pe==="MultiPoint")for(const $t of nt)zn($t,tn,rt);else if(pe==="LineString")rt.type=2,mn(nt,tn,rt);else if(pe==="MultiLineString")rt.type=2,Rn(nt,tn,rt);else if(pe==="Polygon")rt.type=3,Rn(nt,tn,rt,!0);else{if(pe!=="MultiPolygon")throw new Error("Input data is not a valid GeoJSON object.");rt.type=3;for(const $t of nt)Rn($t,tn,rt,!0)}return rt}function zn([Re,de],Y,Ze){const pe=c.at(Re);let nt=c.aA(de);nt=nt<0?0:nt>1?1:nt,Y.push(pe,nt),Ze.minX=Math.min(Ze.minX,pe),Ze.minY=Math.min(Ze.minY,nt),Ze.maxX=Math.max(Ze.maxX,pe),Ze.maxY=Math.max(Ze.maxY,nt)}function mn(Re,de,Y,Ze=!1,pe=!1){const nt=[];for(const rt of Re)zn(rt,nt,Y);de.push(nt),Ze&&function(rt,tn){let $t=0;for(let ln=0,vn=rt.length,et=vn-2;ln<vn;et=ln,ln+=2)$t+=(rt[ln]-rt[et])*(rt[ln+1]+rt[et+1]);if($t>0===tn)for(let ln=0,vn=rt.length;ln<vn/2;ln+=2){const et=rt[ln],Rt=rt[ln+1];rt[ln]=rt[vn-2-ln],rt[ln+1]=rt[vn-1-ln],rt[vn-2-ln]=et,rt[vn-1-ln]=Rt}}(nt,pe)}function Rn(Re,de,Y,Ze=!1){for(let pe=0;pe<Re.length;pe++)mn(Re[pe],de,Y,Ze,pe===0)}function ut(Re,de,Y,Ze){const{id:pe,type:nt,geometry:rt,tags:tn}=Re,$t=[];if(nt===1)(function(ln,vn,et,Rt,Kt){for(let rn=0;rn<ln.length;rn+=2){const dt=Math.round(c.ag*(ln[rn+0]*vn-et)),at=Math.round(c.ag*(ln[rn+1]*vn-Rt));Kt.push([dt,at])}})(rt,de,Y,Ze,$t);else for(const ln of rt)Jt(ln,de,Y,Ze,$t);return{id:pe,type:nt,geometry:$t,tags:tn}}function Jt(Re,de,Y,Ze,pe){const nt=-Ht,rt=c.ag+Ht;let tn;for(let $t=0;$t<Re.length-2;$t+=2){let ln=Math.round(c.ag*(Re[$t+0]*de-Y)),vn=Math.round(c.ag*(Re[$t+1]*de-Ze)),et=Math.round(c.ag*(Re[$t+2]*de-Y)),Rt=Math.round(c.ag*(Re[$t+3]*de-Ze));const Kt=et-ln,rn=Rt-vn;ln<nt&&et<nt||(ln<nt?(vn+=Math.round(rn*((nt-ln)/Kt)),ln=nt):et<nt&&(Rt=vn+Math.round(rn*((nt-ln)/Kt)),et=nt),vn<nt&&Rt<nt||(vn<nt?(ln+=Math.round(Kt*((nt-vn)/rn)),vn=nt):Rt<nt&&(et=ln+Math.round(Kt*((nt-vn)/rn)),Rt=nt),ln>=rt&&et>=rt||(ln>=rt?(vn+=Math.round(rn*((rt-ln)/Kt)),ln=rt):et>=rt&&(Rt=vn+Math.round(rn*((rt-ln)/Kt)),et=rt),vn>=rt&&Rt>=rt||(vn>=rt?(ln+=Math.round(Kt*((rt-vn)/rn)),vn=rt):Rt>=rt&&(et=ln+Math.round(Kt*((rt-vn)/rn)),Rt=rt),tn&&ln===tn[tn.length-1][0]&&vn===tn[tn.length-1][1]||(tn=[[ln,vn]],pe.push(tn)),tn.push([et,Rt])))))}}var Cn,he,Qt,xi={exports:{}},ui=function(){if(Qt)return xi.exports;Qt=1;var Re=c.e8(),de=function(){if(he)return Cn;he=1;var vn=c.e6(),et=c.e7().VectorTileFeature;function Rt(rn,dt){this.options=dt||{},this.features=rn,this.length=rn.length}function Kt(rn,dt){this.id=typeof rn.id=="number"?rn.id:void 0,this.type=rn.type,this.rawGeometry=rn.type===1?[rn.geometry]:rn.geometry,this.properties=rn.tags,this.extent=dt||4096}return Cn=Rt,Rt.prototype.feature=function(rn){return new Kt(this.features[rn],this.options.extent)},Kt.prototype.loadGeometry=function(){var rn=this.rawGeometry;this.geometry=[];for(var dt=0;dt<rn.length;dt++){for(var at=rn[dt],Sn=[],bn=0;bn<at.length;bn++)Sn.push(new vn(at[bn][0],at[bn][1]));this.geometry.push(Sn)}return this.geometry},Kt.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var rn=this.geometry,dt=1/0,at=-1/0,Sn=1/0,bn=-1/0,Gn=0;Gn<rn.length;Gn++)for(var or=rn[Gn],gr=0;gr<or.length;gr++){var Fr=or[gr];dt=Math.min(dt,Fr.x),at=Math.max(at,Fr.x),Sn=Math.min(Sn,Fr.y),bn=Math.max(bn,Fr.y)}return[dt,Sn,at,bn]},Kt.prototype.toGeoJSON=et.prototype.toGeoJSON,Cn}();function Y(vn){var et=new Re;return function(Rt,Kt){for(var rn in Rt.layers)Kt.writeMessage(3,Ze,Rt.layers[rn])}(vn,et),et.finish()}function Ze(vn,et){var Rt;et.writeVarintField(15,vn.version||1),et.writeStringField(1,vn.name||""),et.writeVarintField(5,vn.extent||4096);var Kt={keys:[],values:[],keycache:{},valuecache:{}};for(Rt=0;Rt<vn.length;Rt++)Kt.feature=vn.feature(Rt),et.writeMessage(2,pe,Kt);var rn=Kt.keys;for(Rt=0;Rt<rn.length;Rt++)et.writeStringField(3,rn[Rt]);var dt=Kt.values;for(Rt=0;Rt<dt.length;Rt++)et.writeMessage(4,ln,dt[Rt])}function pe(vn,et){var Rt=vn.feature;Rt.id!==void 0&&et.writeVarintField(1,Rt.id),et.writeMessage(2,nt,vn),et.writeVarintField(3,Rt.type),et.writeMessage(4,$t,Rt)}function nt(vn,et){var Rt=vn.feature,Kt=vn.keys,rn=vn.values,dt=vn.keycache,at=vn.valuecache;for(var Sn in Rt.properties){var bn=Rt.properties[Sn],Gn=dt[Sn];if(bn!==null){Gn===void 0&&(Kt.push(Sn),dt[Sn]=Gn=Kt.length-1),et.writeVarint(Gn);var or=typeof bn;or!=="string"&&or!=="boolean"&&or!=="number"&&(bn=JSON.stringify(bn));var gr=or+":"+bn,Fr=at[gr];Fr===void 0&&(rn.push(bn),at[gr]=Fr=rn.length-1),et.writeVarint(Fr)}}}function rt(vn,et){return(et<<3)+(7&vn)}function tn(vn){return vn<<1^vn>>31}function $t(vn,et){for(var Rt=vn.loadGeometry(),Kt=vn.type,rn=0,dt=0,at=Rt.length,Sn=0;Sn<at;Sn++){var bn=Rt[Sn],Gn=1;Kt===1&&(Gn=bn.length),et.writeVarint(rt(1,Gn));for(var or=Kt===3?bn.length-1:bn.length,gr=0;gr<or;gr++){gr===1&&Kt!==1&&et.writeVarint(rt(2,or-1));var Fr=bn[gr].x-rn,hi=bn[gr].y-dt;et.writeVarint(tn(Fr)),et.writeVarint(tn(hi)),rn+=Fr,dt+=hi}Kt===3&&et.writeVarint(rt(7,1))}}function ln(vn,et){var Rt=typeof vn;Rt==="string"?et.writeStringField(1,vn):Rt==="boolean"?et.writeBooleanField(7,vn):Rt==="number"&&(vn%1!=0?et.writeDoubleField(3,vn):vn<0?et.writeSVarintField(6,vn):et.writeVarintField(5,vn))}return xi.exports=Y,xi.exports.fromVectorTileJs=Y,xi.exports.fromGeojsonVt=function(vn,et){et=et||{};var Rt={};for(var Kt in vn)Rt[Kt]=new de(vn[Kt].features,et),Rt[Kt].name=Kt,Rt[Kt].version=et.version,Rt[Kt].extent=et.extent;return Y({layers:Rt})},xi.exports.GeoJSONWrapper=de,xi.exports}(),Ae=c.e9(ui);const An={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:Re=>Re},Ur=Math.fround||(Jr=new Float32Array(1),Re=>(Jr[0]=+Re,Jr[0]));var Jr;const On=3,Kr=5,Ti=6;class fr{constructor(de){this.options=Object.assign(Object.create(An),de),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(de){const{log:Y,minZoom:Ze,maxZoom:pe}=this.options;Y&&console.time("total time");const nt=`prepare ${de.length} points`;Y&&console.time(nt),this.points=de;const rt=[];for(let $t=0;$t<de.length;$t++){const ln=de[$t];if(!ln.geometry)continue;const[vn,et]=ln.geometry.coordinates,Rt=Ur(Dn(vn)),Kt=Ur(pn(et));rt.push(Rt,Kt,1/0,$t,-1,1),this.options.reduce&&rt.push(0)}let tn=this.trees[pe+1]=this._createTree(rt);Y&&console.timeEnd(nt);for(let $t=pe;$t>=Ze;$t--){const ln=+Date.now();tn=this.trees[$t]=this._createTree(this._cluster(tn,$t)),Y&&console.log("z%d: %d clusters in %dms",$t,tn.numItems,+Date.now()-ln)}return Y&&console.timeEnd("total time"),this}getClusters(de,Y){let Ze=((de[0]+180)%360+360)%360-180;const pe=Math.max(-90,Math.min(90,de[1]));let nt=de[2]===180?180:((de[2]+180)%360+360)%360-180;const rt=Math.max(-90,Math.min(90,de[3]));if(de[2]-de[0]>=360)Ze=-180,nt=180;else if(Ze>nt){const et=this.getClusters([Ze,pe,180,rt],Y),Rt=this.getClusters([-180,pe,nt,rt],Y);return et.concat(Rt)}const tn=this.trees[this._limitZoom(Y)],$t=tn.range(Dn(Ze),pn(rt),Dn(nt),pn(pe)),ln=tn.data,vn=[];for(const et of $t){const Rt=this.stride*et;vn.push(ln[Rt+Kr]>1?it(ln,Rt,this.clusterProps):this.points[ln[Rt+On]])}return vn}getChildren(de){const Y=this._getOriginId(de),Ze=this._getOriginZoom(de),pe="No cluster with the specified id.",nt=this.trees[Ze];if(!nt)throw new Error(pe);const rt=nt.data;if(Y*this.stride>=rt.length)throw new Error(pe);const tn=this.options.radius/(this.options.extent*Math.pow(2,Ze-1)),$t=nt.within(rt[Y*this.stride],rt[Y*this.stride+1],tn),ln=[];for(const vn of $t){const et=vn*this.stride;rt[et+4]===de&&ln.push(rt[et+Kr]>1?it(rt,et,this.clusterProps):this.points[rt[et+On]])}if(ln.length===0)throw new Error(pe);return ln}getLeaves(de,Y,Ze){const pe=[];return this._appendLeaves(pe,de,Y=Y||10,Ze=Ze||0,0),pe}getTile(de,Y,Ze){const pe=this.trees[this._limitZoom(de)],nt=Math.pow(2,de),{extent:rt,radius:tn}=this.options,$t=tn/rt,ln=(Ze-$t)/nt,vn=(Ze+1+$t)/nt,et={features:[]};return this._addTileFeatures(pe.range((Y-$t)/nt,ln,(Y+1+$t)/nt,vn),pe.data,Y,Ze,nt,et),Y===0&&this._addTileFeatures(pe.range(1-$t/nt,ln,1,vn),pe.data,nt,Ze,nt,et),Y===nt-1&&this._addTileFeatures(pe.range(0,ln,$t/nt,vn),pe.data,-1,Ze,nt,et),et.features.length?et:null}getClusterExpansionZoom(de){let Y=this._getOriginZoom(de)-1;for(;Y<=this.options.maxZoom;){const Ze=this.getChildren(de);if(Y++,Ze.length!==1)break;de=Ze[0].properties.cluster_id}return Y}_appendLeaves(de,Y,Ze,pe,nt){const rt=this.getChildren(Y);for(const tn of rt){const $t=tn.properties;if($t&&$t.cluster?nt+$t.point_count<=pe?nt+=$t.point_count:nt=this._appendLeaves(de,$t.cluster_id,Ze,pe,nt):nt<pe?nt++:de.push(tn),de.length===Ze)break}return nt}_createTree(de){const Y=new c.bE(de.length/this.stride|0,this.options.nodeSize,Float32Array);for(let Ze=0;Ze<de.length;Ze+=this.stride)Y.add(de[Ze],de[Ze+1]);return Y.finish(),Y.data=de,Y}_addTileFeatures(de,Y,Ze,pe,nt,rt){for(const tn of de){const $t=tn*this.stride,ln=Y[$t+Kr]>1;let vn,et,Rt;if(ln)vn=Ot(Y,$t,this.clusterProps),et=Y[$t],Rt=Y[$t+1];else{const dt=this.points[Y[$t+On]];vn=dt.properties;const[at,Sn]=dt.geometry.coordinates;et=Dn(at),Rt=pn(Sn)}const Kt={type:1,geometry:[[Math.round(this.options.extent*(et*nt-Ze)),Math.round(this.options.extent*(Rt*nt-pe))]],tags:vn};let rn;rn=ln||this.options.generateId?Y[$t+On]:this.points[Y[$t+On]].id,rn!==void 0&&(Kt.id=rn),rt.features.push(Kt)}}_limitZoom(de){return Math.max(this.options.minZoom,Math.min(Math.floor(+de),this.options.maxZoom+1))}_cluster(de,Y){const{radius:Ze,extent:pe,reduce:nt,minPoints:rt}=this.options,tn=Ze/(pe*Math.pow(2,Y)),$t=de.data,ln=[],vn=this.stride;for(let et=0;et<$t.length;et+=vn){if($t[et+2]<=Y)continue;$t[et+2]=Y;const Rt=$t[et],Kt=$t[et+1],rn=de.within($t[et],$t[et+1],tn),dt=$t[et+Kr];let at=dt;for(const Sn of rn){const bn=Sn*vn;$t[bn+2]>Y&&(at+=$t[bn+Kr])}if(at>dt&&at>=rt){let Sn,bn=Rt*dt,Gn=Kt*dt,or=-1;const gr=(et/vn<<5)+(Y+1)+this.points.length;for(const Fr of rn){const hi=Fr*vn;if($t[hi+2]<=Y)continue;$t[hi+2]=Y;const Hr=$t[hi+Kr];bn+=$t[hi]*Hr,Gn+=$t[hi+1]*Hr,$t[hi+4]=gr,nt&&(Sn||(Sn=this._map($t,et,!0),or=this.clusterProps.length,this.clusterProps.push(Sn)),nt(Sn,this._map($t,hi)))}$t[et+4]=gr,ln.push(bn/at,Gn/at,1/0,gr,-1,at),nt&&ln.push(or)}else{for(let Sn=0;Sn<vn;Sn++)ln.push($t[et+Sn]);if(at>1)for(const Sn of rn){const bn=Sn*vn;if(!($t[bn+2]<=Y)){$t[bn+2]=Y;for(let Gn=0;Gn<vn;Gn++)ln.push($t[bn+Gn])}}}}return ln}_getOriginId(de){return de-this.points.length>>5}_getOriginZoom(de){return(de-this.points.length)%32}_map(de,Y,Ze){if(de[Y+Kr]>1){const rt=this.clusterProps[de[Y+Ti]];return Ze?Object.assign({},rt):rt}const pe=this.points[de[Y+On]].properties,nt=this.options.map(pe);return Ze&&nt===pe?Object.assign({},nt):nt}}function it(Re,de,Y){return{type:"Feature",id:Re[de+On],properties:Ot(Re,de,Y),geometry:{type:"Point",coordinates:[(Ze=Re[de],360*(Ze-.5)),gn(Re[de+1])]}};var Ze}function Ot(Re,de,Y){const Ze=Re[de+Kr],pe=Ze>=1e4?`${Math.round(Ze/1e3)}k`:Ze>=1e3?Math.round(Ze/100)/10+"k":Ze,nt=Re[de+Ti],rt=nt===-1?{}:Object.assign({},Y[nt]);return Object.assign(rt,{cluster:!0,cluster_id:Re[de+On],point_count:Ze,point_count_abbreviated:pe})}function Dn(Re){return Re/360+.5}function pn(Re){const de=Math.sin(Re*Math.PI/180),Y=.5-.25*Math.log((1+de)/(1-de))/Math.PI;return Y<0?0:Y>1?1:Y}function gn(Re){const de=(180-360*Re)*Math.PI/180;return 360*Math.atan(Math.exp(de))/Math.PI-90}function wr(Re,de,Y,Ze){let pe=Ze;const nt=de+(Y-de>>1);let rt,tn=Y-de;const $t=Re[de],ln=Re[de+1],vn=Re[Y],et=Re[Y+1];for(let Rt=de+3;Rt<Y;Rt+=3){const Kt=Hn(Re[Rt],Re[Rt+1],$t,ln,vn,et);if(Kt>pe)rt=Rt,pe=Kt;else if(Kt===pe){const rn=Math.abs(Rt-nt);rn<tn&&(rt=Rt,tn=rn)}}pe>Ze&&(rt-de>3&&wr(Re,de,rt,Ze),Re[rt+2]=pe,Y-rt>3&&wr(Re,rt,Y,Ze))}function Hn(Re,de,Y,Ze,pe,nt){let rt=pe-Y,tn=nt-Ze;if(rt!==0||tn!==0){const $t=((Re-Y)*rt+(de-Ze)*tn)/(rt*rt+tn*tn);$t>1?(Y=pe,Ze=nt):$t>0&&(Y+=rt*$t,Ze+=tn*$t)}return rt=Re-Y,tn=de-Ze,rt*rt+tn*tn}function oi(Re,de,Y,Ze){const pe={id:Re!=null?Re:null,type:de,geometry:Y,tags:Ze,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};if(de==="Point"||de==="MultiPoint"||de==="LineString")pi(pe,Y);else if(de==="Polygon")pi(pe,Y[0]);else if(de==="MultiLineString")for(const nt of Y)pi(pe,nt);else if(de==="MultiPolygon")for(const nt of Y)pi(pe,nt[0]);return pe}function pi(Re,de){for(let Y=0;Y<de.length;Y+=3)Re.minX=Math.min(Re.minX,de[Y]),Re.minY=Math.min(Re.minY,de[Y+1]),Re.maxX=Math.max(Re.maxX,de[Y]),Re.maxY=Math.max(Re.maxY,de[Y+1])}function ri(Re,de,Y,Ze){if(!de.geometry)return;const pe=de.geometry.coordinates;if(pe&&pe.length===0)return;const nt=de.geometry.type,rt=Math.pow(Y.tolerance/((1<<Y.maxZoom)*Y.extent),2);let tn=[],$t=de.id;if(Y.promoteId?$t=de.properties[Y.promoteId]:Y.generateId&&($t=Ze||0),nt==="Point")ni(pe,tn);else if(nt==="MultiPoint")for(const ln of pe)ni(ln,tn);else if(nt==="LineString")Cr(pe,tn,rt,!1);else if(nt==="MultiLineString"){if(Y.lineMetrics){for(const ln of pe)tn=[],Cr(ln,tn,rt,!1),Re.push(oi($t,"LineString",tn,de.properties));return}qn(pe,tn,rt,!1)}else if(nt==="Polygon")qn(pe,tn,rt,!0);else{if(nt!=="MultiPolygon"){if(nt==="GeometryCollection"){for(const ln of de.geometry.geometries)ri(Re,{id:$t,geometry:ln,properties:de.properties},Y,Ze);return}throw new Error("Input data is not a valid GeoJSON object.")}for(const ln of pe){const vn=[];qn(ln,vn,rt,!0),tn.push(vn)}}Re.push(oi($t,nt,tn,de.properties))}function ni(Re,de){de.push(_r(Re[0]),Pr(Re[1]),0)}function Cr(Re,de,Y,Ze){let pe,nt,rt=0;for(let $t=0;$t<Re.length;$t++){const ln=_r(Re[$t][0]),vn=Pr(Re[$t][1]);de.push(ln,vn,0),$t>0&&(rt+=Ze?(pe*vn-ln*nt)/2:Math.sqrt(Math.pow(ln-pe,2)+Math.pow(vn-nt,2))),pe=ln,nt=vn}const tn=de.length-3;de[2]=1,wr(de,0,tn,Y),de[tn+2]=1,de.size=Math.abs(rt),de.start=0,de.end=de.size}function qn(Re,de,Y,Ze){for(let pe=0;pe<Re.length;pe++){const nt=[];Cr(Re[pe],nt,Y,Ze),de.push(nt)}}function _r(Re){return Re/360+.5}function Pr(Re){const de=Math.sin(Re*Math.PI/180),Y=.5-.25*Math.log((1+de)/(1-de))/Math.PI;return Y<0?0:Y>1?1:Y}function Tr(Re,de,Y,Ze,pe,nt,rt,tn){if(Ze/=de,nt>=(Y/=de)&&rt<Ze)return Re;if(rt<Y||nt>=Ze)return null;const $t=[];for(const ln of Re){const vn=ln.geometry;let et=ln.type;const Rt=pe===0?ln.minX:ln.minY,Kt=pe===0?ln.maxX:ln.maxY;if(Rt>=Y&&Kt<Ze){$t.push(ln);continue}if(Kt<Y||Rt>=Ze)continue;let rn=[];if(et==="Point"||et==="MultiPoint")ei(vn,rn,Y,Ze,pe);else if(et==="LineString")ar(vn,rn,Y,Ze,pe,!1,tn.lineMetrics);else if(et==="MultiLineString")ii(vn,rn,Y,Ze,pe,!1);else if(et==="Polygon")ii(vn,rn,Y,Ze,pe,!0);else if(et==="MultiPolygon")for(const dt of vn){const at=[];ii(dt,at,Y,Ze,pe,!0),at.length&&rn.push(at)}if(rn.length){if(tn.lineMetrics&&et==="LineString"){for(const dt of rn)$t.push(oi(ln.id,et,dt,ln.tags));continue}et!=="LineString"&&et!=="MultiLineString"||(rn.length===1?(et="LineString",rn=rn[0]):et="MultiLineString"),et!=="Point"&&et!=="MultiPoint"||(et=rn.length===3?"Point":"MultiPoint"),$t.push(oi(ln.id,et,rn,ln.tags))}}return $t.length?$t:null}function ei(Re,de,Y,Ze,pe){for(let nt=0;nt<Re.length;nt+=3){const rt=Re[nt+pe];rt>=Y&&rt<=Ze&&Wn(de,Re[nt],Re[nt+1],Re[nt+2])}}function ar(Re,de,Y,Ze,pe,nt,rt){let tn=mr(Re);const $t=pe===0?di:Ci;let ln,vn,et=Re.start;for(let at=0;at<Re.length-3;at+=3){const Sn=Re[at],bn=Re[at+1],Gn=Re[at+2],or=Re[at+3],gr=Re[at+4],Fr=pe===0?Sn:bn,hi=pe===0?or:gr;let Hr=!1;rt&&(ln=Math.sqrt(Math.pow(Sn-or,2)+Math.pow(bn-gr,2))),Fr<Y?hi>Y&&(vn=$t(tn,Sn,bn,or,gr,Y),rt&&(tn.start=et+ln*vn)):Fr>Ze?hi<Ze&&(vn=$t(tn,Sn,bn,or,gr,Ze),rt&&(tn.start=et+ln*vn)):Wn(tn,Sn,bn,Gn),hi<Y&&Fr>=Y&&(vn=$t(tn,Sn,bn,or,gr,Y),Hr=!0),hi>Ze&&Fr<=Ze&&(vn=$t(tn,Sn,bn,or,gr,Ze),Hr=!0),!nt&&Hr&&(rt&&(tn.end=et+ln*vn),de.push(tn),tn=mr(Re)),rt&&(et+=ln)}let Rt=Re.length-3;const Kt=Re[Rt],rn=Re[Rt+1],dt=pe===0?Kt:rn;dt>=Y&&dt<=Ze&&Wn(tn,Kt,rn,Re[Rt+2]),Rt=tn.length-3,nt&&Rt>=3&&(tn[Rt]!==tn[0]||tn[Rt+1]!==tn[1])&&Wn(tn,tn[0],tn[1],tn[2]),tn.length&&de.push(tn)}function mr(Re){const de=[];return de.size=Re.size,de.start=Re.start,de.end=Re.end,de}function ii(Re,de,Y,Ze,pe,nt){for(const rt of Re)ar(rt,de,Y,Ze,pe,nt,!1)}function Wn(Re,de,Y,Ze){Re.push(de,Y,Ze)}function di(Re,de,Y,Ze,pe,nt){const rt=(nt-de)/(Ze-de);return Wn(Re,nt,Y+(pe-Y)*rt,1),rt}function Ci(Re,de,Y,Ze,pe,nt){const rt=(nt-Y)/(pe-Y);return Wn(Re,de+(Ze-de)*rt,nt,1),rt}function eo(Re,de){const Y=[];for(let Ze=0;Ze<Re.length;Ze++){const pe=Re[Ze],nt=pe.type;let rt;if(nt==="Point"||nt==="MultiPoint"||nt==="LineString")rt=Io(pe.geometry,de);else if(nt==="MultiLineString"||nt==="Polygon"){rt=[];for(const tn of pe.geometry)rt.push(Io(tn,de))}else if(nt==="MultiPolygon"){rt=[];for(const tn of pe.geometry){const $t=[];for(const ln of tn)$t.push(Io(ln,de));rt.push($t)}}Y.push(oi(pe.id,nt,rt,pe.tags))}return Y}function Io(Re,de){const Y=[];Y.size=Re.size,Re.start!==void 0&&(Y.start=Re.start,Y.end=Re.end);for(let Ze=0;Ze<Re.length;Ze+=3)Y.push(Re[Ze]+de,Re[Ze+1],Re[Ze+2]);return Y}function ci(Re,de){if(Re.transformed)return Re;const Y=1<<Re.z,Ze=Re.x,pe=Re.y;for(const nt of Re.features){const rt=nt.geometry,tn=nt.type;if(nt.geometry=[],tn===1)for(let $t=0;$t<rt.length;$t+=2)nt.geometry.push(oo(rt[$t],rt[$t+1],de,Y,Ze,pe));else for(let $t=0;$t<rt.length;$t++){const ln=[];for(let vn=0;vn<rt[$t].length;vn+=2)ln.push(oo(rt[$t][vn],rt[$t][vn+1],de,Y,Ze,pe));nt.geometry.push(ln)}}return Re.transformed=!0,Re}function oo(Re,de,Y,Ze,pe,nt){return[Math.round(Y*(Re*Ze-pe)),Math.round(Y*(de*Ze-nt))]}function nn(Re,de,Y,Ze,pe){const nt=de===pe.maxZoom?0:pe.tolerance/((1<<de)*pe.extent),rt={features:[],numPoints:0,numSimplified:0,numFeatures:Re.length,source:null,x:Y,y:Ze,z:de,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0};for(const tn of Re)Mn(rt,tn,nt,pe);return rt}function Mn(Re,de,Y,Ze){const pe=de.geometry,nt=de.type,rt=[];if(Re.minX=Math.min(Re.minX,de.minX),Re.minY=Math.min(Re.minY,de.minY),Re.maxX=Math.max(Re.maxX,de.maxX),Re.maxY=Math.max(Re.maxY,de.maxY),nt==="Point"||nt==="MultiPoint")for(let tn=0;tn<pe.length;tn+=3)rt.push(pe[tn],pe[tn+1]),Re.numPoints++,Re.numSimplified++;else if(nt==="LineString")Ee(rt,pe,Re,Y,!1,!1);else if(nt==="MultiLineString"||nt==="Polygon")for(let tn=0;tn<pe.length;tn++)Ee(rt,pe[tn],Re,Y,nt==="Polygon",tn===0);else if(nt==="MultiPolygon")for(let tn=0;tn<pe.length;tn++){const $t=pe[tn];for(let ln=0;ln<$t.length;ln++)Ee(rt,$t[ln],Re,Y,!0,ln===0)}if(rt.length){let tn=de.tags||null;if(nt==="LineString"&&Ze.lineMetrics){tn={};for(const ln in de.tags)tn[ln]=de.tags[ln];tn.mapbox_clip_start=pe.start/pe.size,tn.mapbox_clip_end=pe.end/pe.size}const $t={geometry:rt,type:nt==="Polygon"||nt==="MultiPolygon"?3:nt==="LineString"||nt==="MultiLineString"?2:1,tags:tn};de.id!==null&&($t.id=de.id),Re.features.push($t)}}function Ee(Re,de,Y,Ze,pe,nt){const rt=Ze*Ze;if(Ze>0&&de.size<(pe?rt:Ze))return void(Y.numPoints+=de.length/3);const tn=[];for(let $t=0;$t<de.length;$t+=3)(Ze===0||de[$t+2]>rt)&&(Y.numSimplified++,tn.push(de[$t],de[$t+1])),Y.numPoints++;pe&&function($t,ln){let vn=0;for(let et=0,Rt=$t.length,Kt=Rt-2;et<Rt;Kt=et,et+=2)vn+=($t[et]-$t[Kt])*($t[et+1]+$t[Kt+1]);if(vn>0===ln)for(let et=0,Rt=$t.length;et<Rt/2;et+=2){const Kt=$t[et],rn=$t[et+1];$t[et]=$t[Rt-2-et],$t[et+1]=$t[Rt-1-et],$t[Rt-2-et]=Kt,$t[Rt-1-et]=rn}}(tn,nt),Re.push(tn)}const dn={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0};class br{constructor(de,Y){const Ze=(Y=this.options=function(nt,rt){for(const tn in rt)nt[tn]=rt[tn];return nt}(Object.create(dn),Y)).debug;if(Ze&&console.time("preprocess data"),Y.maxZoom<0||Y.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(Y.promoteId&&Y.generateId)throw new Error("promoteId and generateId cannot be used together.");let pe=function(nt,rt){const tn=[];if(nt.type==="FeatureCollection")for(let $t=0;$t<nt.features.length;$t++)ri(tn,nt.features[$t],rt,$t);else ri(tn,nt.type==="Feature"?nt:{geometry:nt},rt);return tn}(de,Y);this.tiles={},this.tileCoords=[],Ze&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",Y.indexMaxZoom,Y.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),pe=function(nt,rt){const tn=rt.buffer/rt.extent;let $t=nt;const ln=Tr(nt,1,-1-tn,tn,0,-1,2,rt),vn=Tr(nt,1,1-tn,2+tn,0,-1,2,rt);return(ln||vn)&&($t=Tr(nt,1,-tn,1+tn,0,-1,2,rt)||[],ln&&($t=eo(ln,1).concat($t)),vn&&($t=$t.concat(eo(vn,-1)))),$t}(pe,Y),pe.length&&this.splitTile(pe,0,0,0),Ze&&(pe.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}splitTile(de,Y,Ze,pe,nt,rt,tn){const $t=[de,Y,Ze,pe],ln=this.options,vn=ln.debug;for(;$t.length;){pe=$t.pop(),Ze=$t.pop(),Y=$t.pop(),de=$t.pop();const et=1<<Y,Rt=rr(Y,Ze,pe);let Kt=this.tiles[Rt];if(!Kt&&(vn>1&&console.time("creation"),Kt=this.tiles[Rt]=nn(de,Y,Ze,pe,ln),this.tileCoords.push({z:Y,x:Ze,y:pe}),vn)){vn>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",Y,Ze,pe,Kt.numFeatures,Kt.numPoints,Kt.numSimplified),console.timeEnd("creation"));const Hr=`z${Y}`;this.stats[Hr]=(this.stats[Hr]||0)+1,this.total++}if(Kt.source=de,nt==null){if(Y===ln.indexMaxZoom||Kt.numPoints<=ln.indexMaxPoints)continue}else{if(Y===ln.maxZoom||Y===nt)continue;if(nt!=null){const Hr=nt-Y;if(Ze!==rt>>Hr||pe!==tn>>Hr)continue}}if(Kt.source=null,de.length===0)continue;vn>1&&console.time("clipping");const rn=.5*ln.buffer/ln.extent,dt=.5-rn,at=.5+rn,Sn=1+rn;let bn=null,Gn=null,or=null,gr=null,Fr=Tr(de,et,Ze-rn,Ze+at,0,Kt.minX,Kt.maxX,ln),hi=Tr(de,et,Ze+dt,Ze+Sn,0,Kt.minX,Kt.maxX,ln);de=null,Fr&&(bn=Tr(Fr,et,pe-rn,pe+at,1,Kt.minY,Kt.maxY,ln),Gn=Tr(Fr,et,pe+dt,pe+Sn,1,Kt.minY,Kt.maxY,ln),Fr=null),hi&&(or=Tr(hi,et,pe-rn,pe+at,1,Kt.minY,Kt.maxY,ln),gr=Tr(hi,et,pe+dt,pe+Sn,1,Kt.minY,Kt.maxY,ln),hi=null),vn>1&&console.timeEnd("clipping"),$t.push(bn||[],Y+1,2*Ze,2*pe),$t.push(Gn||[],Y+1,2*Ze,2*pe+1),$t.push(or||[],Y+1,2*Ze+1,2*pe),$t.push(gr||[],Y+1,2*Ze+1,2*pe+1)}}getTile(de,Y,Ze){de=+de,Y=+Y,Ze=+Ze;const pe=this.options,{extent:nt,debug:rt}=pe;if(de<0||de>24)return null;const tn=1<<de,$t=rr(de,Y=Y+tn&tn-1,Ze);if(this.tiles[$t])return ci(this.tiles[$t],nt);rt>1&&console.log("drilling down to z%d-%d-%d",de,Y,Ze);let ln,vn=de,et=Y,Rt=Ze;for(;!ln&&vn>0;)vn--,et>>=1,Rt>>=1,ln=this.tiles[rr(vn,et,Rt)];return ln&&ln.source?(rt>1&&(console.log("found parent tile z%d-%d-%d",vn,et,Rt),console.time("drilling down")),this.splitTile(ln.source,vn,et,Rt,de,Y,Ze),rt>1&&console.timeEnd("drilling down"),this.tiles[$t]?ci(this.tiles[$t],nt):null):null}}function rr(Re,de,Y){return 32*((1<<Re)*Y+de)+Re}function Yr(Re,de){const Y=Re.tileID.canonical;if(!this._geoJSONIndex)return void de(null,null);const Ze=this._geoJSONIndex.getTile(Y.z,Y.x,Y.y);if(!Ze)return void de(null,null);const pe=new Xn(Ze.features);let nt=Ae(pe);nt.byteOffset===0&&nt.byteLength===nt.buffer.byteLength||(nt=new Uint8Array(nt)),de(null,{vectorTile:pe,rawData:nt.buffer})}class Mi extends Mt{constructor(de,Y,Ze,pe,nt,rt){super(de,Y,Ze,pe,Yr,rt),nt&&(this.loadGeoJSON=nt),this._dynamicIndex=new un}loadData(de,Y){const Ze=de&&de.request,pe=Ze&&Ze.collectResourceTiming;this.loadGeoJSON(de,(nt,rt)=>{if(nt||!rt)return Y(nt);if(typeof rt!="object")return Y(new Error(`Input data given to '${de.source}' is not a valid GeoJSON object.`));{try{if(de.filter){const $t=c.U(de.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if($t.result==="error")throw new Error($t.value.map(ln=>`${ln.key}: ${ln.message}`).join(", "));rt.features=rt.features.filter(ln=>$t.value.evaluate({zoom:0},ln))}de.dynamic?(rt.type==="Feature"&&(rt={type:"FeatureCollection",features:[rt]}),de.append||(this._dynamicIndex.clear(),this.loaded={}),this._dynamicIndex.load(rt.features,this.loaded),de.cluster&&(rt.features=this._dynamicIndex.getFeatures())):this.loaded={},this._geoJSONIndex=de.cluster?new fr(function({superclusterOptions:$t,clusterProperties:ln}){if(!ln||!$t)return $t;const vn={},et={},Rt={accumulated:null,zoom:0},Kt={properties:null},rn=Object.keys(ln);for(const dt of rn){const[at,Sn]=ln[dt],bn=c.U(Sn),Gn=c.U(typeof at=="string"?[at,["accumulated"],["get",dt]]:at);vn[dt]=bn.value,et[dt]=Gn.value}return $t.map=dt=>{Kt.properties=dt;const at={};for(const Sn of rn)at[Sn]=vn[Sn].evaluate(Rt,Kt);return at},$t.reduce=(dt,at)=>{Kt.properties=at;for(const Sn of rn)Rt.accumulated=dt[Sn],dt[Sn]=et[Sn].evaluate(Rt,Kt)},$t}(de)).load(rt.features):de.dynamic?this._dynamicIndex:function($t,ln){return new br($t,ln)}(rt,de.geojsonVtOptions)}catch($t){return Y($t)}const tn={};if(pe){const $t=be(Ze);$t&&(tn.resourceTiming={},tn.resourceTiming[de.source]=JSON.parse(JSON.stringify($t)))}Y(null,tn)}})}reloadTile(de,Y){const Ze=this.loaded;return Ze&&Ze[de.uid]?de.partial?Y(null,void 0):super.reloadTile(de,Y):this.loadTile(de,Y)}loadGeoJSON(de,Y){if(de.request)c.n(de.request,Y);else{if(typeof de.data!="string")return Y(new Error(`Input data given to '${de.source}' is not a valid GeoJSON object.`));try{return Y(null,JSON.parse(de.data))}catch(Ze){return Y(new Error(`Input data given to '${de.source}' is not a valid GeoJSON object.`))}}}getClusterExpansionZoom(de,Y){try{Y(null,this._geoJSONIndex.getClusterExpansionZoom(de.clusterId))}catch(Ze){Y(Ze)}}getClusterChildren(de,Y){try{Y(null,this._geoJSONIndex.getChildren(de.clusterId))}catch(Ze){Y(Ze)}}getClusterLeaves(de,Y){try{Y(null,this._geoJSONIndex.getLeaves(de.clusterId,de.limit,de.offset))}catch(Ze){Y(Ze)}}}class Wi{constructor(de,Y){this.tileID=new c.aG(de.tileID.overscaledZ,de.tileID.wrap,de.tileID.canonical.z,de.tileID.canonical.x,de.tileID.canonical.y),this.tileZoom=de.tileZoom,this.uid=de.uid,this.zoom=de.zoom,this.canonical=de.tileID.canonical,this.pixelRatio=de.pixelRatio,this.tileSize=de.tileSize,this.source=de.source,this.overscaling=this.tileID.overscaleFactor(),this.projection=de.projection,this.brightness=Y}parse(de,Y,Ze,pe){this.status="parsing";const nt=new c.aG(Ze.tileID.overscaledZ,Ze.tileID.wrap,Ze.tileID.canonical.z,Ze.tileID.canonical.x,Ze.tileID.canonical.y),rt=[],tn=Y.familiesBySource[Ze.source],$t=new c.d$(nt,Ze.promoteId);return $t.bucketLayerIDs=[],$t.is3DTile=!0,c.ea(de).then(ln=>{if(!ln)return pe(new Error("Could not parse tile"));const vn=c.eb(ln,1/c.cc(Ze.tileID.canonical)),et=ln.json.extensionsUsed&&ln.json.extensionsUsed.includes("MAPBOX_mesh_features")||ln.json.asset.extras&&ln.json.asset.extras.MAPBOX_mesh_features,Rt=ln.json.extensionsUsed&&ln.json.extensionsUsed.includes("EXT_meshopt_compression"),Kt=new c.a8(this.zoom,{brightness:this.brightness});for(const rn in tn)for(const dt of tn[rn]){const at=dt[0];$t.bucketLayerIDs.push(dt.map(bn=>c.aC(bn.id,bn.scope))),at.recalculate(Kt,[]);const Sn=new c.ec(dt,vn,nt,et,Rt,this.brightness,$t);et||(Sn.needsUpload=!0),rt.push(Sn),Sn.evaluate(at)}this.status="done",pe(null,{buckets:rt,featureIndex:$t,collisionBoxArray:null,glyphAtlasImage:null,lineAtlas:null,imageAtlas:null,brightness:null})}).catch(ln=>pe(new Error(ln.message)))}}class Bi{constructor(de,Y,Ze,pe,nt,rt){this.actor=de,this.layerIndex=Y,this.availableImages=Ze,this.brightness=rt,this.loading={},this.loaded={}}loadTile(de,Y){const Ze=de.uid,pe=this.loading[Ze]=new Wi(de,this.brightness);c.bi(de.request,(nt,rt)=>{const tn=!this.loading[Ze];return delete this.loading[Ze],tn||nt?(pe.status="done",tn||(this.loaded[Ze]=pe),Y(nt)):rt&&rt.byteLength!==0?void pe.parse(rt,this.layerIndex,de,($t,ln)=>{pe.status="done",this.loaded=this.loaded||{},this.loaded[Ze]=pe,$t||!ln?Y($t):Y(null,ln)}):(pe.status="done",this.loaded[Ze]=pe,Y())})}reloadTile(de,Y){const Ze=this.loaded,pe=de.uid;if(Ze&&Ze[pe]){const nt=Ze[pe];nt.projection=de.projection,nt.brightness=de.brightness;const rt=(tn,$t)=>{nt.reloadCallback&&(delete nt.reloadCallback,this.loadTile(de,Y)),Y(tn,$t)};nt.status==="parsing"?nt.reloadCallback=rt:nt.status==="done"&&this.loadTile(de,Y)}}abortTile(de,Y){const Ze=de.uid;this.loading[Ze]&&delete this.loading[Ze],Y()}removeTile(de,Y){const Ze=this.loaded,pe=de.uid;Ze&&Ze[pe]&&delete Ze[pe],Y()}}class Di{constructor(de){this.self=de,this.actor=new c.ed(de,this),this.layerIndexes={},this.availableImages={},this.isSpriteLoaded={},this.imageRasterizer=new c.I,this.projections={},this.defaultProjection=c.bP({name:"mercator"}),this.workerSourceTypes={vector:Mt,geojson:Mi,"batched-model":Bi},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=(Y,Ze)=>{if(this.workerSourceTypes[Y])throw new Error(`Worker source with name "${Y}" already registered.`);this.workerSourceTypes[Y]=Ze},this.self.registerRTLTextPlugin=Y=>{if(c.ee.isParsed())throw new Error("RTL text plugin already registered.");c.ee.applyArabicShaping=Y.applyArabicShaping,c.ee.processBidirectionalText=Y.processBidirectionalText,c.ee.processStyledBidirectionalText=Y.processStyledBidirectionalText}}clearCaches(de,Y,Ze){delete this.layerIndexes[de],delete this.availableImages[de],delete this.workerSources[de],delete this.demWorkerSources[de],delete this.rasterArrayWorkerSource,Ze()}checkIfReady(de,Y,Ze){Ze()}setReferrer(de,Y){this.referrer=Y}spriteLoaded(de,{scope:Y,isLoaded:Ze}){if(this.isSpriteLoaded[de]||(this.isSpriteLoaded[de]={}),this.isSpriteLoaded[de][Y]=Ze,this.workerSources[de]&&this.workerSources[de][Y])for(const pe in this.workerSources[de][Y]){const nt=this.workerSources[de][Y][pe];for(const rt in nt){const tn=nt[rt];tn instanceof Mt&&(tn.isSpriteLoaded=Ze,tn.fire(new c.z("isSpriteLoaded")))}}}setImages(de,{scope:Y,images:Ze},pe){if(this.availableImages[de]||(this.availableImages[de]={}),this.availableImages[de][Y]=Ze,this.workerSources[de]&&this.workerSources[de][Y]){for(const nt in this.workerSources[de][Y]){const rt=this.workerSources[de][Y][nt];for(const tn in rt)rt[tn].availableImages=Ze}pe()}else pe()}setProjection(de,Y){this.projections[de]=c.bP(Y)}setBrightness(de,Y,Ze){this.brightness=Y,Ze()}setLayers(de,Y,Ze){this.getLayerIndex(de,Y.scope).replace(Y.layers,Y.options),Ze()}updateLayers(de,Y,Ze){this.getLayerIndex(de,Y.scope).update(Y.layers,Y.removedIds,Y.options),Ze()}loadTile(de,Y,Ze){Y.projection=this.projections[de]||this.defaultProjection,this.getWorkerSource(de,Y.type,Y.source,Y.scope).loadTile(Y,Ze)}loadDEMTile(de,Y,Ze){this.getDEMWorkerSource(de,Y.source,Y.scope).loadTile(Y,Ze)}decodeRasterArray(de,Y,Ze){this.getRasterArrayWorkerSource().decodeRasterArray(Y,Ze)}reloadTile(de,Y,Ze){Y.projection=this.projections[de]||this.defaultProjection,this.getWorkerSource(de,Y.type,Y.source,Y.scope).reloadTile(Y,Ze)}abortTile(de,Y,Ze){this.getWorkerSource(de,Y.type,Y.source,Y.scope).abortTile(Y,Ze)}removeTile(de,Y,Ze){this.getWorkerSource(de,Y.type,Y.source,Y.scope).removeTile(Y,Ze)}removeSource(de,Y,Ze){if(!(this.workerSources[de]&&this.workerSources[de][Y.scope]&&this.workerSources[de][Y.scope][Y.type]&&this.workerSources[de][Y.scope][Y.type][Y.source]))return;const pe=this.workerSources[de][Y.scope][Y.type][Y.source];delete this.workerSources[de][Y.scope][Y.type][Y.source],pe.removeSource!==void 0?pe.removeSource(Y,Ze):Ze()}loadWorkerSource(de,Y,Ze){try{this.self.importScripts(Y.url),Ze()}catch(pe){Ze(pe.toString())}}syncRTLPluginState(de,Y,Ze){try{c.ee.setState(Y);const pe=c.ee.getPluginURL();if(c.ee.isLoaded()&&!c.ee.isParsed()&&pe!=null){this.self.importScripts(pe);const nt=c.ee.isParsed();Ze(nt?void 0:new Error(`RTL Text Plugin failed to import scripts from ${pe}`),nt)}}catch(pe){Ze(pe.toString())}}setDracoUrl(de,Y){this.dracoUrl=Y}getAvailableImages(de,Y){this.availableImages[de]||(this.availableImages[de]={});let Ze=this.availableImages[de][Y];return Ze||(Ze=[]),Ze}getLayerIndex(de,Y){this.layerIndexes[de]||(this.layerIndexes[de]={});let Ze=this.layerIndexes[de][Y];return Ze||(Ze=this.layerIndexes[de][Y]=new Te,Ze.scope=Y),Ze}getWorkerSource(de,Y,Ze,pe){return this.workerSources[de]||(this.workerSources[de]={}),this.workerSources[de][pe]||(this.workerSources[de][pe]={}),this.workerSources[de][pe][Y]||(this.workerSources[de][pe][Y]={}),this.isSpriteLoaded[de]||(this.isSpriteLoaded[de]={}),this.workerSources[de][pe][Y][Ze]||(this.workerSources[de][pe][Y][Ze]=new this.workerSourceTypes[Y]({send:(nt,rt,tn,$t,ln,vn)=>{this.actor.send(nt,rt,tn,de,ln,vn)},scheduler:this.actor.scheduler},this.getLayerIndex(de,pe),this.getAvailableImages(de,pe),this.isSpriteLoaded[de][pe],void 0,this.brightness)),this.workerSources[de][pe][Y][Ze]}rasterizeImages(de,Y,Ze){const{imageTasks:pe,scope:nt}=Y,rt={};for(const tn in pe){const{image:$t,imageIdWithOptions:ln}=pe[tn];rt[tn]=this.imageRasterizer.rasterize(ln,$t,nt,de)}Ze(void 0,rt)}removeRasterizedImages(de,Y,Ze){const{imageIds:pe,scope:nt}=Y;this.imageRasterizer.removeImagesFromCacheByIds(pe,nt,de),Ze()}getDEMWorkerSource(de,Y,Ze){return this.demWorkerSources[de]||(this.demWorkerSources[de]={}),this.demWorkerSources[de][Ze]||(this.demWorkerSources[de][Ze]={}),this.demWorkerSources[de][Ze][Y]||(this.demWorkerSources[de][Ze][Y]=new Ut),this.demWorkerSources[de][Ze][Y]}getRasterArrayWorkerSource(){return this.rasterArrayWorkerSource||(this.rasterArrayWorkerSource=new Vt),this.rasterArrayWorkerSource}enforceCacheSizeLimit(de,Y){c.ef(Y)}getWorkerPerformanceMetrics(de,Y,Ze){Ze(void 0,void 0)}}return typeof WorkerGlobalScope!="undefined"&&typeof self!="undefined"&&self instanceof WorkerGlobalScope&&(self.worker=new Di(self)),Di}),Qe(["./shared"],function(c){var be="3.10.0";const We={create:"create",load:"load",fullLoad:"fullLoad"},De={mark(p){performance.mark(p)},measure(p,r,l){performance.measure(p,r,l)}};function Te(p){const r=p.name.split("?")[0];return c.a(r)&&r.includes("mapbox-gl.js")?"javascript":c.a(r)&&r.includes("mapbox-gl.css")?"css":c.b(r)?"fontRange":c.c(r)?"sprite":c.i(r)?"style":c.d(r)?"tilejson":"other"}var ye,te={},Ve=function(){if(ye)return te;function p(m){return!r(m)}function r(m){return typeof window=="undefined"||typeof document=="undefined"?"not a browser":function(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var x,E,R=new Blob([""],{type:"text/javascript"}),F=URL.createObjectURL(R);try{E=new Worker(F),x=!0}catch(V){x=!1}return E&&E.terminate(),URL.revokeObjectURL(F),x}()?function(){var x=document.createElement("canvas");x.width=x.height=1;var E=x.getContext("2d");if(!E)return!1;var R=E.getImageData(0,0,1,1);return R&&R.width===x.width}()?(l[_=m&&m.failIfMajorPerformanceCaveat]===void 0&&(l[_]=function(x){var E,R=function(F){var V=document.createElement("canvas"),U=Object.create(p.webGLContextAttributes);return U.failIfMajorPerformanceCaveat=F,V.getContext("webgl2",U)}(x);if(!R)return!1;try{E=R.createShader(R.VERTEX_SHADER)}catch(F){return!1}return!(!E||R.isContextLost())&&(R.shaderSource(E,"void main() {}"),R.compileShader(E),R.getShaderParameter(E,R.COMPILE_STATUS)===!0)}(_)),l[_]?document.documentMode?"insufficient ECMAScript 6 support":void 0:"insufficient WebGL2 support"):"insufficient Canvas/getImageData support":"insufficient worker support";var _}ye=1,te.supported=p,te.notSupportedReason=r;var l={};return p.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0},te}();function Ie(p,r,l){const m=document.createElement(p);return r!=null&&(m.className=r),l&&l.appendChild(m),m}function Ue(p,r,l){const m=document.createElementNS("http://www.w3.org/2000/svg",p);for(const _ of Object.keys(r))m.setAttributeNS(null,_,String(r[_]));return l&&l.appendChild(m),m}const tt=typeof document!="undefined"?document.documentElement&&document.documentElement.style:null,ot=tt&&tt.userSelect!==void 0?"userSelect":"WebkitUserSelect";let Je;function ct(){tt&&ot&&(Je=tt[ot],tt[ot]="none")}function bt(){tt&&ot&&(tt[ot]=Je)}function Xe(p){p.preventDefault(),p.stopPropagation(),window.removeEventListener("click",Xe,!0)}function jt(){window.addEventListener("click",Xe,!0),window.setTimeout(()=>{window.removeEventListener("click",Xe,!0)},0)}function vt(p,r){const l=p.getBoundingClientRect();return Vt(p,l,r)}function Mt(p,r){const l=p.getBoundingClientRect(),m=[];for(let _=0;_<r.length;_++)m.push(Vt(p,l,r[_]));return m}function Ut(p){return/firefox/i.test(navigator.userAgent)&&/macintosh/i.test(navigator.userAgent)&&p.button===2&&p.ctrlKey?0:p.button}function Vt(p,r,l){const m=p.offsetWidth===r.width?1:p.offsetWidth/r.width;return new c.P((l.clientX-r.left)*m,(l.clientY-r.top)*m)}const yr="01",lr="NO_ACCESS_TOKEN";class Xn{constructor(r,l,m){this._transformRequestFn=r,this._customAccessToken=l,this._silenceAuthErrors=!!m,this._createSkuToken()}_createSkuToken(){const r=function(){let l="";for(let m=0;m<10;m++)l+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.floor(62*Math.random())];return{token:["1",yr,l].join(""),tokenExpiresAt:Date.now()+432e5}}();this._skuToken=r.token,this._skuTokenExpiresAt=r.tokenExpiresAt}_isSkuTokenExpired(){return Date.now()>this._skuTokenExpiresAt}transformRequest(r,l){return this._transformRequestFn&&this._transformRequestFn(r,l)||{url:r}}normalizeStyleURL(r,l){if(!c.f(r))return r;const m=Ht(r);return m.params.push(`sdk=js-${be}`),m.path=`/styles/v1${m.path}`,this._makeAPIURL(m,this._customAccessToken||l)}normalizeGlyphsURL(r,l){if(!c.f(r))return r;const m=Ht(r);return m.path=`/fonts/v1${m.path}`,this._makeAPIURL(m,this._customAccessToken||l)}normalizeModelURL(r,l){if(!c.f(r))return r;const m=Ht(r);return m.path=`/models/v1${m.path}`,this._makeAPIURL(m,this._customAccessToken||l)}normalizeSourceURL(r,l,m,_){if(!c.f(r))return r;const x=Ht(r);return x.path=`/v4/${x.authority}.json`,x.params.push("secure"),m&&x.params.push(`language=${m}`),_&&x.params.push(`worldview=${_}`),this._makeAPIURL(x,this._customAccessToken||l)}normalizeIconsetURL(r,l){const m=Ht(r);return c.f(r)?(m.path=`/styles/v1${m.path}/iconset.pbf`,this._makeAPIURL(m,this._customAccessToken||l)):un(m)}normalizeSpriteURL(r,l,m,_){const x=Ht(r);return c.f(r)?(x.path=`/styles/v1${x.path}/sprite${l}${m}`,this._makeAPIURL(x,this._customAccessToken||_)):(x.path+=`${l}${m}`,un(x))}normalizeTileURL(r,l,m){if(this._isSkuTokenExpired()&&this._createSkuToken(),r&&!c.f(r))return r;const _=Ht(r);_.path=_.path.replace(/(\.(png|jpg)\d*)(?=$)/,`${l||m&&_.authority!=="raster"&&m===512?"@2x":""}${c.m.supported?".webp":"$1"}`),_.authority==="raster"?_.path=`/${c.e.RASTER_URL_PREFIX}${_.path}`:_.authority==="rasterarrays"?_.path=`/${c.e.RASTERARRAYS_URL_PREFIX}${_.path}`:_.authority==="3dtiles"?_.path=`/${c.e.TILES3D_URL_PREFIX}${_.path}`:(_.path=_.path.replace(/^.+\/v4\//,"/"),_.path=`/${c.e.TILE_URL_VERSION}${_.path}`);const x=this._customAccessToken||function(E){for(const R of E){const F=R.match(/^access_token=(.*)$/);if(F)return F[1]}return null}(_.params)||c.e.ACCESS_TOKEN;return c.e.REQUIRE_ACCESS_TOKEN&&x&&this._skuToken&&_.params.push(`sku=${this._skuToken}`),this._makeAPIURL(_,x)}canonicalizeTileURL(r,l){const m=Ht(r);if(!m.path.match(/^(\/v4\/|\/(raster|rasterarrays)\/v1\/)/)||!m.path.match(/\.[\w]+$/))return r;let _="mapbox://";m.path.match(/^\/raster\/v1\//)?_+=`raster/${m.path.replace(`/${c.e.RASTER_URL_PREFIX}/`,"")}`:m.path.match(/^\/rasterarrays\/v1\//)?_+=`rasterarrays/${m.path.replace(`/${c.e.RASTERARRAYS_URL_PREFIX}/`,"")}`:_+=`tiles/${m.path.replace(`/${c.e.TILE_URL_VERSION}/`,"")}`;let x=m.params;return l&&(x=x.filter(E=>!E.match(/^access_token=/))),x.length&&(_+=`?${x.join("&")}`),_}canonicalizeTileset(r,l){const m=!!l&&c.f(l),_=[];for(const x of r.tiles||[])c.h(x)?_.push(this.canonicalizeTileURL(x,m)):_.push(x);return _}_makeAPIURL(r,l){const m="See https://docs.mapbox.com/api/overview/#access-tokens-and-token-scopes",_=Ht(c.e.API_URL);if(r.protocol=_.protocol,r.authority=_.authority,r.protocol==="http"){const x=r.params.indexOf("secure");x>=0&&r.params.splice(x,1)}if(_.path!=="/"&&(r.path=`${_.path}${r.path}`),!c.e.REQUIRE_ACCESS_TOKEN)return un(r);if(l=l||c.e.ACCESS_TOKEN,!this._silenceAuthErrors){if(!l)throw new Error(`An API access token is required to use Mapbox GL. ${m}`);if(l[0]==="s")throw new Error(`Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). ${m}`)}return r.params=r.params.filter(x=>x.indexOf("access_token")===-1),r.params.push(`access_token=${l||""}`),un(r)}}const Ge=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function Ht(p){const r=p.match(Ge);if(!r)throw new Error("Unable to parse URL object");return{protocol:r[1],authority:r[2],path:r[3]||"/",params:r[4]?r[4].split("&"):[]}}function un(p){const r=p.params.length?`?${p.params.join("&")}`:"";return`${p.protocol}://${p.authority}${p.path}${r}`}const Xt="mapbox.eventData";function ke(p){if(!p)return null;const r=p.split(".");if(!r||r.length!==3)return null;try{return JSON.parse(c.j(r[1]))}catch(l){return null}}class zn{constructor(r){this.type=r,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null}getStorageKey(r){const l=ke(c.e.ACCESS_TOKEN);let m="";return m=l&&l.u?c.k(l.u):c.e.ACCESS_TOKEN||"",r?`${Xt}.${r}:${m}`:`${Xt}:${m}`}fetchEventData(){const r=c.s("localStorage"),l=this.getStorageKey(),m=this.getStorageKey("uuid");if(r)try{const _=localStorage.getItem(l);_&&(this.eventData=JSON.parse(_));const x=localStorage.getItem(m);x&&(this.anonId=x)}catch(_){c.w("Unable to read from LocalStorage")}}saveEventData(){const r=c.s("localStorage"),l=this.getStorageKey(),m=this.getStorageKey("uuid"),_=this.anonId;if(r&&_)try{localStorage.setItem(m,_),Object.keys(this.eventData).length>=1&&localStorage.setItem(l,JSON.stringify(this.eventData))}catch(x){c.w("Unable to write to LocalStorage")}}processRequests(r){}postEvent(r,l,m,_){if(!c.e.EVENTS_URL)return;const x=Ht(c.e.EVENTS_URL);x.params.push(`access_token=${_||c.e.ACCESS_TOKEN||""}`);const E={event:this.type,created:new Date(r).toISOString()},R=l?c.l(E,l):E,F={url:un(x),headers:{"Content-Type":"text/plain"},body:JSON.stringify([R])};this.pendingRequest=c.p(F,V=>{this.pendingRequest=null,m(V),this.saveEventData(),this.processRequests(_)})}queueRequest(r,l){this.queue.push(r),this.processRequests(l)}}const mn=new class extends zn{constructor(p){super("appUserTurnstile"),this._customAccessToken=p}postTurnstileEvent(p,r){c.e.EVENTS_URL&&c.e.ACCESS_TOKEN&&Array.isArray(p)&&p.some(l=>c.f(l)||c.h(l))&&this.queueRequest(Date.now(),r)}processRequests(p){if(this.pendingRequest||this.queue.length===0)return;this.anonId&&this.eventData.lastSuccess&&this.eventData.tokenU||this.fetchEventData();const r=ke(c.e.ACCESS_TOKEN),l=r?r.u:c.e.ACCESS_TOKEN;let m=l!==this.eventData.tokenU;c.v(this.anonId)||(this.anonId=c.u(),m=!0);const _=this.queue.shift();if(this.eventData.lastSuccess){const x=new Date(this.eventData.lastSuccess),E=new Date(_),R=(_-this.eventData.lastSuccess)/864e5;m=m||R>=1||R<-1||x.getDate()!==E.getDate()}else m=!0;m?this.postEvent(_,{sdkIdentifier:"mapbox-gl-js",sdkVersion:be,skuId:yr,"enabled.telemetry":!1,userId:this.anonId},x=>{x||(this.eventData.lastSuccess=_,this.eventData.tokenU=l)},p):this.processRequests()}},Rn=mn.postTurnstileEvent.bind(mn),ut=new class extends zn{constructor(){super("map.load"),this.success={},this.skuToken=""}postMapLoadEvent(p,r,l,m){this.skuToken=r,this.errorCb=m,c.e.EVENTS_URL&&(l||c.e.ACCESS_TOKEN?this.queueRequest({id:p,timestamp:Date.now()},l):this.errorCb(new Error(lr)))}processRequests(p){if(this.pendingRequest||this.queue.length===0)return;const{id:r,timestamp:l}=this.queue.shift();r&&this.success[r]||(this.anonId||this.fetchEventData(),c.v(this.anonId)||(this.anonId=c.u()),this.postEvent(l,{sdkIdentifier:"mapbox-gl-js",sdkVersion:be,skuId:yr,skuToken:this.skuToken,userId:this.anonId},m=>{m?this.errorCb(m):r&&(this.success[r]=!0)},p))}remove(){this.errorCb=null}},Jt=ut.postMapLoadEvent.bind(ut),Cn=new class extends zn{constructor(){super("style.load"),this.eventIdPerMapInstanceMap=new Map,this.mapInstanceIdMap=new WeakMap}getMapInstanceId(p){let r=this.mapInstanceIdMap.get(p);return r||(r=c.u(),this.mapInstanceIdMap.set(p,r)),r}getEventId(p){const r=this.eventIdPerMapInstanceMap.get(p)||0;return this.eventIdPerMapInstanceMap.set(p,r+1),r}postStyleLoadEvent(p,r){const{map:l,style:m,importedStyles:_}=r;if(!c.e.EVENTS_URL||!p&&!c.e.ACCESS_TOKEN)return;const x=this.getMapInstanceId(l),E={mapInstanceId:x,eventId:this.getEventId(x),style:m};_.length&&(E.importedStyles=_),this.queueRequest({timestamp:Date.now(),payload:E},p)}processRequests(p){if(this.pendingRequest||this.queue.length===0)return;const{timestamp:r,payload:l}=this.queue.shift();this.postEvent(r,l,()=>{},p)}},he=Cn.postStyleLoadEvent.bind(Cn),Qt=new class extends zn{constructor(){super("gljs.performance")}postPerformanceEvent(p,r){c.e.EVENTS_URL&&(p||c.e.ACCESS_TOKEN)&&this.queueRequest({timestamp:Date.now(),performanceData:r},p)}processRequests(p){if(this.pendingRequest||this.queue.length===0)return;const{timestamp:r,performanceData:l}=this.queue.shift(),m=function(_){const x=performance.getEntriesByType("resource"),E=performance.getEntriesByType("mark"),R=function(ce){const Pe={};if(ce){for(const Se in ce)if(Se!=="other")for(const ze of ce[Se]){const Le=`${Se}ResolveRangeMin`,st=`${Se}ResolveRangeMax`,St=`${Se}RequestCount`,xt=`${Se}RequestCachedCount`;Pe[Le]=Math.min(Pe[Le]||1/0,ze.startTime),Pe[st]=Math.max(Pe[st]||-1/0,ze.responseEnd);const Wt=zt=>{Pe[zt]===void 0&&(Pe[zt]=0),++Pe[zt]};ze.transferSize!==void 0&&ze.transferSize===0&&Wt(xt),Wt(St)}}return Pe}(function(ce,Pe){const Se={};if(ce)for(const ze of ce){const Le=Pe(ze);Se[Le]===void 0&&(Se[Le]=[]),Se[Le].push(ze)}return Se}(x,Te)),F=window.devicePixelRatio,V=navigator.connection||navigator.mozConnection||navigator.webkitConnection,U=V?V.effectiveType:void 0,Q={counters:[],metadata:[],attributes:[]},ee=(ce,Pe,Se)=>{Se!=null&&ce.push({name:Pe,value:Se.toString()})};for(const ce in R)ee(Q.counters,ce,R[ce]);if(_.interactionRange[0]!==1/0&&_.interactionRange[1]!==-1/0&&(ee(Q.counters,"interactionRangeMin",_.interactionRange[0]),ee(Q.counters,"interactionRangeMax",_.interactionRange[1])),E)for(const ce of Object.keys(We)){const Pe=We[ce],Se=E.find(ze=>ze.name===Pe);Se&&ee(Q.counters,Pe,Se.startTime)}return ee(Q.counters,"visibilityHidden",_.visibilityHidden),ee(Q.attributes,"style",function(ce){if(ce)for(const Pe of ce){const Se=Pe.name.split("?")[0];if(c.i(Se)){const ze=Se.split("/").slice(-2);if(ze.length===2)return`mapbox://styles/${ze[0]}/${ze[1]}`}}}(x)),ee(Q.attributes,"terrainEnabled",_.terrainEnabled?"true":"false"),ee(Q.attributes,"fogEnabled",_.fogEnabled?"true":"false"),ee(Q.attributes,"projection",_.projection),ee(Q.attributes,"zoom",_.zoom),ee(Q.metadata,"devicePixelRatio",F),ee(Q.metadata,"connectionEffectiveType",U),ee(Q.metadata,"navigatorUserAgent",navigator.userAgent),ee(Q.metadata,"screenWidth",window.screen.width),ee(Q.metadata,"screenHeight",window.screen.height),ee(Q.metadata,"windowWidth",window.innerWidth),ee(Q.metadata,"windowHeight",window.innerHeight),ee(Q.metadata,"mapWidth",_.width/F),ee(Q.metadata,"mapHeight",_.height/F),ee(Q.metadata,"webglRenderer",_.renderer),ee(Q.metadata,"webglVendor",_.vendor),ee(Q.metadata,"sdkVersion",be),ee(Q.metadata,"sdkIdentifier","mapbox-gl-js"),Q}(l);for(const _ of m.metadata);for(const _ of m.counters);for(const _ of m.attributes);this.postEvent(r,m,()=>{},p)}},xi=Qt.postPerformanceEvent.bind(Qt),ui=new class extends zn{constructor(){super("map.auth"),this.success={},this.skuToken=""}getSession(p,r,l,m){if(!c.e.API_URL||!c.e.SESSION_PATH)return;const _=Ht(c.e.API_URL+c.e.SESSION_PATH);_.params.push(`sku=${r||""}`),_.params.push(`access_token=${m||c.e.ACCESS_TOKEN||""}`);const x={url:un(_),headers:{"Content-Type":"text/plain"}};this.pendingRequest=c.g(x,E=>{this.pendingRequest=null,l(E),this.saveEventData(),this.processRequests(m)})}getSessionAPI(p,r,l,m){this.skuToken=r,this.errorCb=m,c.e.SESSION_PATH&&c.e.API_URL&&(l||c.e.ACCESS_TOKEN?this.queueRequest({id:p,timestamp:Date.now()},l):this.errorCb(new Error(lr)))}processRequests(p){if(this.pendingRequest||this.queue.length===0)return;const{id:r,timestamp:l}=this.queue.shift();r&&this.success[r]||this.getSession(l,this.skuToken,m=>{m?this.errorCb(m):r&&(this.success[r]=!0)},p)}remove(){this.errorCb=null}},Ae=ui.getSessionAPI.bind(ui),An=new Set;function Ur(p,r){r?An.add(p):An.delete(p)}class Jr{constructor(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSourceCaches={},this._updatedPaintProps=new Set,this._updatedImages=new Set}isDirty(){return this._changed}setDirty(){this._changed=!0}getUpdatedSourceCaches(){return this._updatedSourceCaches}updateSourceCache(r,l){this._updatedSourceCaches[r]=l,this.setDirty()}discardSourceCacheUpdate(r){delete this._updatedSourceCaches[r]}updateLayer(r){const l=r.scope;this._updatedLayers[l]=this._updatedLayers[l]||new Set,this._updatedLayers[l].add(r.id),this.setDirty()}removeLayer(r){const l=r.scope;this._removedLayers[l]=this._removedLayers[l]||{},this._updatedLayers[l]=this._updatedLayers[l]||new Set,this._removedLayers[l][r.id]=r,this._updatedLayers[l].delete(r.id),this._updatedPaintProps.delete(r.fqid),this.setDirty()}getRemovedLayer(r){return this._removedLayers[r.scope]?this._removedLayers[r.scope][r.id]:null}discardLayerRemoval(r){this._removedLayers[r.scope]&&delete this._removedLayers[r.scope][r.id]}getLayerUpdatesByScope(){const r={};for(const l in this._updatedLayers)r[l]=r[l]||{},r[l].updatedIds=Array.from(this._updatedLayers[l].values());for(const l in this._removedLayers)r[l]=r[l]||{},r[l].removedIds=Object.keys(this._removedLayers[l]);return r}getUpdatedPaintProperties(){return this._updatedPaintProps}updatePaintProperties(r){this._updatedPaintProps.add(r.fqid),this.setDirty()}getUpdatedImages(){return Array.from(this._updatedImages.values())}updateImage(r){this._updatedImages.add(r),this.setDirty()}resetUpdatedImages(){this._updatedImages.clear()}reset(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSourceCaches={},this._updatedPaintProps.clear(),this._updatedImages.clear()}}function On(p){const{userImage:r}=p;return!!(r&&r.render&&r.render())&&(p.data.replace(new Uint8Array(r.data.buffer)),!0)}class Kr extends c.E{constructor(r){super(),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded={},this.requestors=[],this.patterns={},this.atlasImage={},this.atlasTexture={},this.dirty=!0,this.spriteFormat=r,r!=="raster"&&c.t()&&(this.imageRasterizerDispatcher=new c.D(c.x(),this,"Image Rasterizer Worker",1))}get imageRasterizer(){return this._imageRasterizer||(this._imageRasterizer=new c.I),this._imageRasterizer}createScope(r){this.images[r]={},this.loaded[r]=!1,this.updatedImages[r]={},this.patterns[r]={},this.callbackDispatchedThisFrame[r]={},this.atlasImage[r]=new c.r({width:1,height:1})}isLoaded(){for(const r in this.loaded)if(!this.loaded[r])return!1;return!0}setLoaded(r,l){if(this.loaded[l]!==r&&(this.loaded[l]=r,r)){for(const{ids:m,callback:_}of this.requestors)this._notify(m,l,_);this.requestors=[]}}hasImage(r,l){return!!this.getImage(r,l)}getImage(r,l){return this.images[l][r]}addImage(r,l,m){this._validate(r,m)&&(this.images[l][r]=m)}_validate(r,l){let m=!0;return this._validateStretch(l.stretchX,l.data&&l.data.width)||(this.fire(new c.y(new Error(`Image "${r}" has invalid "stretchX" value`))),m=!1),this._validateStretch(l.stretchY,l.data&&l.data.height)||(this.fire(new c.y(new Error(`Image "${r}" has invalid "stretchY" value`))),m=!1),this._validateContent(l.content,l)||(this.fire(new c.y(new Error(`Image "${r}" has invalid "content" value`))),m=!1),m}_validateStretch(r,l){if(!r)return!0;let m=0;for(const _ of r){if(_[0]<m||_[1]<_[0]||l<_[1])return!1;m=_[1]}return!0}_validateContent(r,l){return r?r.length!==4||!l.usvg&&(r[0]<0||l.data.width<r[0]||r[1]<0||l.data.height<r[1]||r[2]<0||l.data.width<r[2]||r[3]<0||l.data.height<r[3])?!1:!(r[2]<r[0]||r[3]<r[1]):!0}updateImage(r,l,m){m.version=this.images[l][r].version+1,this.images[l][r]=m,this.updatedImages[l][r]=!0,this.removeFromImageRasterizerCache(r,l)}removeFromImageRasterizerCache(r,l){this.spriteFormat!=="raster"&&(c.t()?this.imageRasterizerDispatcher.getActor().send("removeRasterizedImages",{imageIds:[r],scope:l}):this.imageRasterizer.removeImagesFromCacheByIds([r],l))}removeImage(r,l){const m=this.images[l][r];delete this.images[l][r],delete this.patterns[l][r],this.removeFromImageRasterizerCache(r,l),m.userImage&&m.userImage.onRemove&&m.userImage.onRemove()}listImages(r){return Object.keys(this.images[r])}getImages(r,l,m){let _=!0;const x=!!this.loaded[l];if(!x)for(const E of r)this.images[l][E]||(_=!1);x||_?this._notify(r,l,m):this.requestors.push({ids:r,scope:l,callback:m})}rasterizeImages({scope:r,imageTasks:l},m){const _={};for(const x in l){const E=l[x],R=this.getImage(E.id,r);R&&(_[x]={image:R,imageIdWithOptions:E})}c.t()?this.imageRasterizerDispatcher.getActor().send("rasterizeImages",{imageTasks:_,scope:r},m):this.rasterizeImagesInMainThread({imageTasks:_,scope:r},m)}rasterizeImagesInMainThread(r,l){const{imageTasks:m,scope:_}=r,x={};for(const E in m){const{image:R,imageIdWithOptions:F}=m[E];x[E]=this.imageRasterizer.rasterize(F,R,_,"")}l(void 0,x)}getUpdatedImages(r){return this.updatedImages[r]}_notify(r,l,m){const _={};for(const x of r){this.images[l][x]||this.fire(new c.z("styleimagemissing",{id:x}));const E=this.images[l][x];E?_[x]={data:E.usvg?null:E.data.clone(),pixelRatio:E.pixelRatio,sdf:E.sdf,usvg:E.usvg,version:E.version,stretchX:E.stretchX,stretchY:E.stretchY,content:E.content,hasRenderCallback:!!(E.userImage&&E.userImage.render)}:c.w(`Image "${x}" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.`)}m(null,_)}getPixelSize(r){const{width:l,height:m}=this.atlasImage[r];return{width:l,height:m}}getPattern(r,l,m){const _=this.patterns[l][r],x=this.getImage(r,l);if(!x)return null;if(_&&_.position.version===x.version)return _.position;if(_)_.position.version=x.version;else{x.usvg&&!x.data&&(x.data=this.imageRasterizer.rasterize(c.A.from(r).getPrimary(),x,l,""));const E={w:x.data.width+2*c.B,h:x.data.height+2*c.B,x:0,y:0},R=new c.C(E,x,c.B);this.patterns[l][r]={bin:E,position:R}}return this._updatePatternAtlas(l,m),this.patterns[l][r].position}bind(r,l){const m=r.gl;let _=this.atlasTexture[l];_?this.dirty&&(_.update(this.atlasImage[l]),this.dirty=!1):(_=new c.T(r,this.atlasImage[l],m.RGBA8),this.atlasTexture[l]=_),_.bind(m.LINEAR,m.CLAMP_TO_EDGE)}_updatePatternAtlas(r,l){const m=[];for(const R in this.patterns[r])m.push(this.patterns[r][R].bin);const{w:_,h:x}=c.F(m),E=this.atlasImage[r];E.resize({width:_||1,height:x||1});for(const R in this.patterns[r]){const{bin:F,position:V}=this.patterns[r][R];let U=V.padding;const Q=F.x+U,ee=F.y+U,ce=this.images[r][R].data,Pe=ce.width,Se=ce.height;U=U>1?U-1:U,c.r.copy(ce,E,{x:0,y:0},{x:Q,y:ee},{width:Pe,height:Se},l),c.r.copy(ce,E,{x:0,y:Se-U},{x:Q,y:ee-U},{width:Pe,height:U},l),c.r.copy(ce,E,{x:0,y:0},{x:Q,y:ee+Se},{width:Pe,height:U},l),c.r.copy(ce,E,{x:Pe-U,y:0},{x:Q-U,y:ee},{width:U,height:Se},l),c.r.copy(ce,E,{x:0,y:0},{x:Q+Pe,y:ee},{width:U,height:Se},l),c.r.copy(ce,E,{x:Pe-U,y:Se-U},{x:Q-U,y:ee-U},{width:U,height:U},l),c.r.copy(ce,E,{x:0,y:Se-U},{x:Q+Pe,y:ee-U},{width:U,height:U},l),c.r.copy(ce,E,{x:0,y:0},{x:Q+Pe,y:ee+Se},{width:U,height:U},l),c.r.copy(ce,E,{x:Pe-U,y:0},{x:Q-U,y:ee+Se},{width:U,height:U},l)}this.dirty=!0}beginFrame(){for(const r in this.images)this.callbackDispatchedThisFrame[r]={}}dispatchRenderCallbacks(r,l){for(const m of r){if(this.callbackDispatchedThisFrame[l][m])continue;this.callbackDispatchedThisFrame[l][m]=!0;const _=this.images[l][m];On(_)&&this.updateImage(m,l,_)}}}function Ti(p){const r=p.key,l=p.value,m=p.valueSpec||{},_=p.objectElementValidators||{},x=p.style,E=p.styleSpec;let R=[];const F=c.H(l);if(F!=="object")return[new c.V(r,l,`object expected, ${F} found`)];for(const V in l){const U=V.split(".")[0];let Q;_[U]?Q=_[U]:m[U]?Q=Wn:_["*"]?Q=_["*"]:m["*"]&&(Q=Wn),Q?R=R.concat(Q({key:(r&&`${r}.`)+V,value:l[V],valueSpec:m[U]||m["*"],style:x,styleSpec:E,object:l,objectKey:V},l)):R.push(new c.G(r,l[V],`unknown property "${V}"`))}for(const V in m)_[V]||m[V].required&&m[V].default===void 0&&l[V]===void 0&&R.push(new c.V(r,l,`missing required property "${V}"`));return R}function fr(p){const r=p.value,l=p.valueSpec,m=p.style,_=p.styleSpec,x=p.key,E=p.arrayElementValidator||Wn;if(c.H(r)!=="array")return[new c.V(x,r,`array expected, ${c.H(r)} found`)];if(l.length&&r.length!==l.length)return[new c.V(x,r,`array length ${l.length} expected, length ${r.length} found`)];if(l["min-length"]&&r.length<l["min-length"])return[new c.V(x,r,`array length at least ${l["min-length"]} expected, length ${r.length} found`)];let R={type:l.value,values:l.values,minimum:l.minimum,maximum:l.maximum,function:void 0};_.$version<7&&(R.function=l.function),c.H(l.value)==="object"&&(R=l.value);let F=[];for(let V=0;V<r.length;V++)F=F.concat(E({array:r,arrayIndex:V,value:r[V],valueSpec:R,style:m,styleSpec:_,key:`${x}[${V}]`},!0));return F}function it(p){const r=p.key,l=p.value,m=p.valueSpec;let _=c.H(l);if(_==="number"&&l!=l&&(_="NaN"),_!=="number")return[new c.V(r,l,`number expected, ${_} found`)];if("minimum"in m){let x=m.minimum;if(c.H(m.minimum)==="array"&&(x=m.minimum[p.arrayIndex]),l<x)return[new c.V(r,l,`${l} is less than the minimum value ${x}`)]}if("maximum"in m){let x=m.maximum;if(c.H(m.maximum)==="array"&&(x=m.maximum[p.arrayIndex]),l>x)return[new c.V(r,l,`${l} is greater than the maximum value ${x}`)]}return[]}function Ot(p){const r=p.valueSpec,l=c.K(p.value.type);let m,_,x,E={};const R=l!=="categorical"&&p.value.property===void 0,F=!R,V=c.H(p.value.stops)==="array"&&c.H(p.value.stops[0])==="array"&&c.H(p.value.stops[0][0])==="object",U=Ti({key:p.key,value:p.value,valueSpec:p.styleSpec.function,style:p.style,styleSpec:p.styleSpec,objectElementValidators:{stops:function(ce){if(l==="identity")return[new c.V(ce.key,ce.value,'identity function may not have a "stops" property')];let Pe=[];const Se=ce.value;return Pe=Pe.concat(fr({key:ce.key,value:Se,valueSpec:ce.valueSpec,style:ce.style,styleSpec:ce.styleSpec,arrayElementValidator:Q})),c.H(Se)==="array"&&Se.length===0&&Pe.push(new c.V(ce.key,Se,"array must have at least one stop")),Pe},default:function(ce){return Wn({key:ce.key,value:ce.value,valueSpec:r,style:ce.style,styleSpec:ce.styleSpec})}}});return l==="identity"&&R&&U.push(new c.V(p.key,p.value,'missing required property "property"')),l==="identity"||p.value.stops||U.push(new c.V(p.key,p.value,'missing required property "stops"')),l==="exponential"&&p.valueSpec.expression&&!c.L(p.valueSpec)&&U.push(new c.V(p.key,p.value,"exponential functions not supported")),p.styleSpec.$version>=8&&(F&&!c.M(p.valueSpec)?U.push(new c.V(p.key,p.value,"property functions not supported")):R&&!c.N(p.valueSpec)&&U.push(new c.V(p.key,p.value,"zoom functions not supported"))),l!=="categorical"&&!V||p.value.property!==void 0||U.push(new c.V(p.key,p.value,'"property" property is required')),U;function Q(ce){let Pe=[];const Se=ce.value,ze=ce.key;if(c.H(Se)!=="array")return[new c.V(ze,Se,`array expected, ${c.H(Se)} found`)];if(Se.length!==2)return[new c.V(ze,Se,`array length 2 expected, length ${Se.length} found`)];if(V){if(c.H(Se[0])!=="object")return[new c.V(ze,Se,`object expected, ${c.H(Se[0])} found`)];if(Se[0].zoom===void 0)return[new c.V(ze,Se,"object stop key must have zoom")];if(Se[0].value===void 0)return[new c.V(ze,Se,"object stop key must have value")];const Le=c.K(Se[0].zoom);if(typeof Le!="number")return[new c.V(ze,Se[0].zoom,"stop zoom values must be numbers")];if(x&&x>Le)return[new c.V(ze,Se[0].zoom,"stop zoom values must appear in ascending order")];Le!==x&&(x=Le,_=void 0,E={}),Pe=Pe.concat(Ti({key:`${ze}[0]`,value:Se[0],valueSpec:{zoom:{}},style:ce.style,styleSpec:ce.styleSpec,objectElementValidators:{zoom:it,value:ee}}))}else Pe=Pe.concat(ee({key:`${ze}[0]`,value:Se[0],valueSpec:{},style:ce.style,styleSpec:ce.styleSpec},Se));return c.O(c.Q(Se[1]))?Pe.concat([new c.V(`${ze}[1]`,Se[1],"expressions are not allowed in function stops.")]):Pe.concat(Wn({key:`${ze}[1]`,value:Se[1],valueSpec:r,style:ce.style,styleSpec:ce.styleSpec}))}function ee(ce,Pe){const Se=c.H(ce.value),ze=c.K(ce.value),Le=ce.value!==null?ce.value:Pe;if(m){if(Se!==m)return[new c.V(ce.key,Le,`${Se} stop domain type must match previous stop domain type ${m}`)]}else m=Se;if(Se!=="number"&&Se!=="string"&&Se!=="boolean"&&typeof ze!="number"&&typeof ze!="string"&&typeof ze!="boolean")return[new c.V(ce.key,Le,"stop domain value must be a number, string, or boolean")];if(Se!=="number"&&l!=="categorical"){let st=`number expected, ${Se} found`;return c.M(r)&&l===void 0&&(st+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new c.V(ce.key,Le,st)]}return l!=="categorical"||Se!=="number"||typeof ze=="number"&&isFinite(ze)&&Math.floor(ze)===ze?l!=="categorical"&&Se==="number"&&typeof ze=="number"&&typeof _=="number"&&_!==void 0&&ze<_?[new c.V(ce.key,Le,"stop domain values must appear in ascending order")]:(_=ze,l==="categorical"&&ze in E?[new c.V(ce.key,Le,"stop domain values must be unique")]:(E[ze]=!0,[])):[new c.V(ce.key,Le,`integer expected, found ${String(ze)}`)]}}function Dn(p){const r=(p.expressionContext==="property"?c.S:c.U)(c.Q(p.value),p.valueSpec);if(r.result==="error")return r.value.map(m=>new c.V(`${p.key}${m.key}`,p.value,m.message));const l=r.value.expression||r.value._styleExpression.expression;if(p.expressionContext==="property"&&p.propertyKey==="text-font"&&!l.outputDefined())return[new c.V(p.key,p.value,`Invalid data expression for "${p.propertyKey}". Output values must be contained as literals within the expression.`)];if(p.expressionContext==="property"&&p.propertyType==="layout"&&!c.W(l))return[new c.V(p.key,p.value,'"feature-state" data expressions are not supported with layout properties.')];if(p.expressionContext==="filter")return pn(l,p);if(p.expressionContext&&p.expressionContext.indexOf("cluster")===0){if(!c.X(l,["zoom","feature-state"]))return[new c.V(p.key,p.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if(p.expressionContext==="cluster-initial"&&!c.Y(l))return[new c.V(p.key,p.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function pn(p,r){const l=new Set(["zoom","feature-state","pitch","distance-from-center"]);if(r.valueSpec&&r.valueSpec.expression)for(const _ of r.valueSpec.expression.parameters)l.delete(_);if(l.size===0)return[];const m=[];return p instanceof c.Z&&l.has(p.name)?[new c.V(r.key,r.value,`["${p.name}"] expression is not supported in a filter for a ${r.object.type} layer with id: ${r.object.id}`)]:(p.eachChild(_=>{m.push(...pn(_,r))}),m)}function gn(p){const r=p.key,l=p.value,m=p.valueSpec,_=[];return Array.isArray(m.values)?m.values.indexOf(c.K(l))===-1&&_.push(new c.V(r,l,`expected one of [${m.values.join(", ")}], ${JSON.stringify(l)} found`)):Object.keys(m.values).indexOf(c.K(l))===-1&&_.push(new c.V(r,l,`expected one of [${Object.keys(m.values).join(", ")}], ${JSON.stringify(l)} found`)),_}function wr(p){return c.$(c.Q(p.value))?Dn(c.J({},p,{expressionContext:"filter",valueSpec:p.styleSpec[`filter_${p.layerType||"fill"}`]})):Hn(p)}function Hn(p){const r=p.value,l=p.key;if(c.H(r)!=="array")return[new c.V(l,r,`array expected, ${c.H(r)} found`)];const m=p.styleSpec;let _,x=[];if(r.length<1)return[new c.V(l,r,"filter array must have at least 1 element")];switch(x=x.concat(gn({key:`${l}[0]`,value:r[0],valueSpec:m.filter_operator,style:p.style,styleSpec:p.styleSpec})),c.K(r[0])){case"<":case"<=":case">":case">=":r.length>=2&&c.K(r[1])==="$type"&&x.push(new c.V(l,r,`"$type" cannot be use with operator "${r[0]}"`));case"==":case"!=":r.length!==3&&x.push(new c.V(l,r,`filter array for operator "${r[0]}" must have 3 elements`));case"in":case"!in":r.length>=2&&(_=c.H(r[1]),_!=="string"&&x.push(new c.V(`${l}[1]`,r[1],`string expected, ${_} found`)));for(let E=2;E<r.length;E++)_=c.H(r[E]),c.K(r[1])==="$type"?x=x.concat(gn({key:`${l}[${E}]`,value:r[E],valueSpec:m.geometry_type,style:p.style,styleSpec:p.styleSpec})):_!=="string"&&_!=="number"&&_!=="boolean"&&x.push(new c.V(`${l}[${E}]`,r[E],`string, number, or boolean expected, ${_} found`));break;case"any":case"all":case"none":for(let E=1;E<r.length;E++)x=x.concat(Hn({key:`${l}[${E}]`,value:r[E],style:p.style,styleSpec:p.styleSpec}));break;case"has":case"!has":_=c.H(r[1]),r.length!==2?x.push(new c.V(l,r,`filter array for "${r[0]}" operator must have 2 elements`)):_!=="string"&&x.push(new c.V(`${l}[1]`,r[1],`string expected, ${_} found`))}return x}function oi(p,r){const l=p.key,m=p.style,_=p.layer,x=p.styleSpec,E=p.value,R=p.objectKey,F=x[`${r}_${p.layerType}`];if(!F)return[];const V=R.match(/^(.*)-use-theme$/);if(r==="paint"&&V&&F[V[1]])return c.O(E)?[].concat(Wn({key:p.key,value:E,valueSpec:{type:"string",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},style:m,styleSpec:x,expressionContext:"property",propertyType:r,propertyKey:R})):Wn({key:l,value:E,valueSpec:{type:"string"},style:m,styleSpec:x});const U=R.match(/^(.*)-transition$/);if(r==="paint"&&U&&F[U[1]]&&F[U[1]].transition)return Wn({key:l,value:E,valueSpec:x.transition,style:m,styleSpec:x});const Q=p.valueSpec||F[R];if(!Q)return[new c.G(l,E,`unknown property "${R}"`)];let ee;if(c.H(E)==="string"&&c.M(Q)&&!Q.tokens&&(ee=/^{([^}]+)}$/.exec(E))){const Pe=`\`{ "type": "identity", "property": ${ee?JSON.stringify(ee[1]):'"_"'} }\``;return[new c.V(l,E,`"${R}" does not support interpolation syntax
Use an identity property function instead: ${Pe}.`)]}const ce=[];if(p.layerType==="symbol")R!=="text-field"||!m||m.glyphs||m.imports||ce.push(new c.V(l,E,'use of "text-field" requires a style "glyphs" property')),R==="text-font"&&c.a0(c.Q(E))&&c.K(E.type)==="identity"&&ce.push(new c.V(l,E,'"text-font" does not support identity functions'));else if(p.layerType==="model"&&r==="paint"&&_&&_.layout&&_.layout.hasOwnProperty("model-id")&&c.M(Q)&&(c.a1(Q)||c.N(Q))){const Pe=c.S(c.Q(E),Q),Se=Pe.value.expression||Pe.value._styleExpression.expression;Se&&!c.X(Se,["measure-light"])&&(R==="model-emissive-strength"&&c.Y(Se)&&c.W(Se)||ce.push(new c.V(l,E,`${R} does not support measure-light expressions when the model layer source is vector tile or GeoJSON.`)))}return ce.concat(Wn({key:p.key,value:E,valueSpec:Q,style:m,styleSpec:x,expressionContext:"property",propertyType:r,propertyKey:R}))}function pi(p){return oi(p,"paint")}function ri(p){return oi(p,"layout")}function ni(p){let r=[];const l=p.value,m=p.key,_=p.style,x=p.styleSpec;l.type||l.ref||r.push(new c.V(m,l,'either "type" or "ref" is required'));let E=c.K(l.type);const R=c.K(l.ref);if(l.id){const F=c.K(l.id);for(let V=0;V<p.arrayIndex;V++){const U=_.layers[V];c.K(U.id)===F&&r.push(new c.V(m,l.id,`duplicate layer id "${l.id}", previously used at line ${U.id.__line__}`))}}if("ref"in l){let F;["type","source","source-layer","filter","layout"].forEach(V=>{V in l&&r.push(new c.V(m,l[V],`"${V}" is prohibited for ref layers`))}),_.layers.forEach(V=>{c.K(V.id)===R&&(F=V)}),F?F.ref?r.push(new c.V(m,l.ref,"ref cannot reference another ref layer")):E=c.K(F.type):typeof R=="string"&&r.push(new c.V(m,l.ref,`ref layer "${R}" not found`))}else if(E!=="background"&&E!=="sky"&&E!=="slot")if(l.source){const F=_.sources&&_.sources[l.source],V=F&&c.K(F.type);F?V==="vector"&&E==="raster"?r.push(new c.V(m,l.source,`layer "${l.id}" requires a raster source`)):V==="raster"&&E!=="raster"?r.push(new c.V(m,l.source,`layer "${l.id}" requires a vector source`)):V!=="vector"||l["source-layer"]?V==="raster-dem"&&E!=="hillshade"?r.push(new c.V(m,l.source,"raster-dem source can only be used with layer type 'hillshade'.")):V!=="raster-array"||["raster","raster-particle"].includes(E)?E!=="line"||!l.paint||!l.paint["line-gradient"]&&!l.paint["line-trim-offset"]||V==="geojson"&&F.lineMetrics?E==="raster-particle"&&V!=="raster-array"&&r.push(new c.V(m,l.source,`layer "${l.id}" requires a 'raster-array' source.`)):r.push(new c.V(m,l,`layer "${l.id}" specifies a line-gradient, which requires a GeoJSON source with \`lineMetrics\` enabled.`)):r.push(new c.V(m,l.source,"raster-array source can only be used with layer type 'raster'.")):r.push(new c.V(m,l,`layer "${l.id}" must specify a "source-layer"`)):r.push(new c.V(m,l.source,`source "${l.source}" not found`))}else r.push(new c.V(m,l,'missing required property "source"'));return r=r.concat(Ti({key:m,value:l,valueSpec:x.layer,style:p.style,styleSpec:p.styleSpec,objectElementValidators:{"*":()=>[],type:()=>Wn({key:`${m}.type`,value:l.type,valueSpec:x.layer.type,style:p.style,styleSpec:p.styleSpec,object:l,objectKey:"type"}),filter:F=>wr(c.J({layerType:E},F)),layout:F=>Ti({layer:l,key:F.key,value:F.value,valueSpec:{},style:F.style,styleSpec:F.styleSpec,objectElementValidators:{"*":V=>ri(c.J({layerType:E},V))}}),paint:F=>Ti({layer:l,key:F.key,value:F.value,valueSpec:{},style:F.style,styleSpec:F.styleSpec,objectElementValidators:{"*":V=>pi(c.J({layerType:E,layer:l},V))}})}})),r}function Cr(p){const r=p.value,l=p.key,m=c.H(r);return m!=="string"?[new c.V(l,r,`string expected, ${m} found`)]:[]}const qn={promoteId:function p({key:r,value:l}){if(c.H(l)==="string")return Cr({key:r,value:l});if(Array.isArray(l)){const m=[],_=c.Q(l),x=c.U(_);return x.result==="error"&&x.value.forEach(E=>{m.push(new c.V(`${r}${E.key}`,null,`${E.message}`))}),c.X(x.value.expression,["zoom","heatmap-density","line-progress","raster-value","sky-radial-progress","accumulated","is-supported-script","pitch","distance-from-center","measure-light","raster-particle-speed"])||m.push(new c.V(`${r}`,null,"promoteId expression should be only feature dependent")),m}{const m=[];for(const _ in l)m.push(...p({key:`${r}.${_}`,value:l[_]}));return m}}};function _r(p){const r=p.value,l=p.key,m=p.styleSpec,_=p.style;if(!r.type)return[new c.V(l,r,'"type" is required')];const x=c.K(r.type);let E=[];switch(["vector","raster","raster-dem","raster-array"].includes(x)&&(r.url||r.tiles||E.push(new c.G(l,r,'Either "url" or "tiles" is required.'))),x){case"vector":case"raster":case"raster-dem":case"raster-array":return E=E.concat(Ti({key:l,value:r,valueSpec:m[`source_${x.replace("-","_")}`],style:p.style,styleSpec:m,objectElementValidators:qn})),E;case"geojson":if(E=Ti({key:l,value:r,valueSpec:m.source_geojson,style:_,styleSpec:m,objectElementValidators:qn}),r.cluster)for(const R in r.clusterProperties){const[F,V]=r.clusterProperties[R],U=typeof F=="string"?[F,["accumulated"],["get",R]]:F;E.push(...Dn({key:`${l}.${R}.map`,value:V,expressionContext:"cluster-map"})),E.push(...Dn({key:`${l}.${R}.reduce`,value:U,expressionContext:"cluster-reduce"}))}return E;case"video":return Ti({key:l,value:r,valueSpec:m.source_video,style:_,styleSpec:m});case"image":return Ti({key:l,value:r,valueSpec:m.source_image,style:_,styleSpec:m});case"canvas":return[new c.V(l,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return gn({key:`${l}.type`,value:r.type,valueSpec:{values:Pr(m)},style:_,styleSpec:m})}}function Pr(p){return p.source.reduce((r,l)=>{const m=p[l];return m.type.type==="enum"&&(r=r.concat(Object.keys(m.type.values))),r},[])}function Tr(p){const r=p.value,l=p.styleSpec,m=l.light,_=p.style;let x=[];const E=c.H(r);if(r===void 0)return x;if(E!=="object")return x=x.concat([new c.V("light",r,`object expected, ${E} found`)]),x;for(const R in r){const F=R.match(/^(.*)-transition$/),V=R.match(/^(.*)-use-theme$/);x=x.concat(V&&m[V[1]]?Wn({key:R,value:r[R],valueSpec:{type:"string"},style:_,styleSpec:l}):F&&m[F[1]]&&m[F[1]].transition?Wn({key:R,value:r[R],valueSpec:l.transition,style:_,styleSpec:l}):m[R]?Wn({key:R,value:r[R],valueSpec:m[R],style:_,styleSpec:l}):[new c.V(R,r[R],`unknown property "${R}"`)])}return x}function ei(p){const r=p.value;let l=[];if(!r)return l;const m=c.H(r);if(m!=="object")return l=l.concat([new c.V("light-3d",r,`object expected, ${m} found`)]),l;const _=p.styleSpec,x=_["light-3d"],E=p.key,R=p.style,F=p.style.lights;for(const Q of["type","id"])if(!(Q in r))return l=l.concat([new c.V("light-3d",r,`missing property ${Q} on light`)]),l;if(r.type&&F)for(let Q=0;Q<p.arrayIndex;Q++){const ee=c.K(r.type),ce=F[Q];c.K(ce.type)===ee&&l.push(new c.V(E,r.id,`duplicate light type "${r.type}", previously defined at line ${ce.id.__line__}`))}const V=`properties_light_${r.type}`;if(!(V in _))return l=l.concat([new c.V("light-3d",r,`Invalid light type ${r.type}`)]),l;const U=_[V];for(const Q in r)if(Q==="properties"){const ee=r[Q],ce=c.H(ee);if(ce!=="object")return l=l.concat([new c.V("properties",ee,`object expected, ${ce} found`)]),l;for(const Pe in ee)l=l.concat(U[Pe]?Wn({key:Pe,value:ee[Pe],valueSpec:U[Pe],style:R,styleSpec:_}):[new c.G(p.key,ee[Pe],`unknown property "${Pe}"`)])}else{const ee=Q.match(/^(.*)-transition$/),ce=Q.match(/^(.*)-use-theme$/);l=l.concat(ce&&x[ce[1]]?Wn({key:Q,value:r[Q],valueSpec:{type:"string"},style:R,styleSpec:_}):ee&&x[ee[1]]&&x[ee[1]].transition?Wn({key:Q,value:r[Q],valueSpec:_.transition,style:R,styleSpec:_}):x[Q]?Wn({key:Q,value:r[Q],valueSpec:x[Q],style:R,styleSpec:_}):[new c.G(Q,r[Q],`unknown property "${Q}"`)])}return l}function ar(p){const r=p.value,l=p.key,m=p.style,_=p.styleSpec,x=_.terrain;let E=[];const R=c.H(r);if(r===void 0||R==="null")return E;if(R!=="object")return E=E.concat([new c.V("terrain",r,`object expected, ${R} found`)]),E;for(const F in r){const V=F.match(/^(.*)-transition$/),U=F.match(/^(.*)-use-theme$/);E=E.concat(U&&x[U[1]]?Wn({key:F,value:r[F],valueSpec:{type:"string"},style:m,styleSpec:_}):V&&x[V[1]]&&x[V[1]].transition?Wn({key:F,value:r[F],valueSpec:_.transition,style:m,styleSpec:_}):x[F]?Wn({key:F,value:r[F],valueSpec:x[F],style:m,styleSpec:_}):[new c.G(F,r[F],`unknown property "${F}"`)])}if(r.source){const F=m.sources&&m.sources[r.source],V=F&&c.K(F.type);F?V!=="raster-dem"&&E.push(new c.V(l,r.source,`terrain cannot be used with a source of type ${String(V)}, it only be used with a "raster-dem" source type`)):E.push(new c.V(l,r.source,`source "${r.source}" not found`))}else E.push(new c.V(l,r,'terrain is missing required property "source"'));return E}function mr(p){const r=p.value,l=p.style,m=p.styleSpec,_=m.fog;let x=[];const E=c.H(r);if(r===void 0)return x;if(E!=="object")return x=x.concat([new c.V("fog",r,`object expected, ${E} found`)]),x;for(const R in r){const F=R.match(/^(.*)-transition$/),V=R.match(/^(.*)-use-theme$/);x=x.concat(V&&_[V[1]]?Wn({key:R,value:r[R],valueSpec:{type:"string"},style:l,styleSpec:m}):F&&_[F[1]]&&_[F[1]].transition?Wn({key:R,value:r[R],valueSpec:m.transition,style:l,styleSpec:m}):_[R]?Wn({key:R,value:r[R],valueSpec:_[R],style:l,styleSpec:m}):[new c.G(R,r[R],`unknown property "${R}"`)])}return x}const ii={"*":()=>[],array:fr,boolean:function(p){const r=p.value,l=p.key,m=c.H(r);return m!=="boolean"?[new c.V(l,r,`boolean expected, ${m} found`)]:[]},number:it,color:function(p){const r=p.key,l=p.value,m=c.H(l);return m!=="string"?[new c.V(r,l,`color expected, ${m} found`)]:c._.parseCSSColor(l)===null?[new c.V(r,l,`color expected, "${l}" found`)]:[]},enum:gn,filter:wr,function:Ot,layer:ni,object:Ti,source:_r,model:c.a2,light:Tr,"light-3d":ei,terrain:ar,fog:mr,string:Cr,formatted:function(p){return Cr(p).length===0?[]:Dn(p)},resolvedImage:function(p){return Cr(p).length===0?[]:Dn(p)},projection:function(p){const r=p.value,l=p.styleSpec,m=l.projection,_=p.style;let x=[];const E=c.H(r);if(E==="object")for(const R in r)x=x.concat(Wn({key:R,value:r[R],valueSpec:m[R],style:_,styleSpec:l}));else E!=="string"&&(x=x.concat([new c.V("projection",r,`object or string expected, ${E} found`)]));return x},import:function(p){const{value:r,styleSpec:l}=p,E=r,{data:m}=E,_=i2(E,["data"]);Object.defineProperty(_,"__line__",{value:r.__line__,enumerable:!1});let x=Ti(c.J({},p,{value:_,valueSpec:l.import}));return c.K(_.id)===""&&x.push(new c.V(`${p.key}.id`,_,"import id can't be an empty string")),m&&(x=x.concat(Ci(m,l,{key:`${p.key}.data`}))),x}};function Wn(p,r=!1){const l=p.value,m=p.valueSpec,_=p.styleSpec;if(m.expression&&c.a0(c.K(l)))return Ot(p);if(m.expression&&c.O(c.Q(l)))return Dn(p);if(m.type&&ii[m.type]){const x=ii[m.type](p);return r===!0&&x.length>0&&c.H(p.value)==="array"?Dn(p):x}return Ti(c.J({},p,{valueSpec:m.type?_[m.type]:m}))}function di(p){const r=p.value,l=p.key,m=Cr(p);return m.length||(r.indexOf("{fontstack}")===-1&&m.push(new c.V(l,r,'"glyphs" url must include a "{fontstack}" token')),r.indexOf("{range}")===-1&&m.push(new c.V(l,r,'"glyphs" url must include a "{range}" token'))),m}function Ci(p,r=c.a3,l={}){return Wn({key:l.key||"",value:p,valueSpec:r.$root,styleSpec:r,style:p,objectElementValidators:{glyphs:di,"*":()=>[]}})}function eo(p,r=c.a3){return Bi(Ci(p,r))}const Io=p=>Bi(_r(p)),ci=p=>Bi(Tr(p)),oo=p=>Bi(ei(p)),nn=p=>Bi(ar(p)),Mn=p=>Bi(mr(p)),Ee=p=>Bi(function(r){const l=r.value,m=r.style,_=r.styleSpec,x=_.snow;let E=[];const R=c.H(l);if(l===void 0)return E;if(R!=="object")return E=E.concat([new c.V("snow",l,`object expected, ${R} found`)]),E;for(const F in l){const V=F.match(/^(.*)-transition$/);E=E.concat(V&&x[V[1]]&&x[V[1]].transition?Wn({key:F,value:l[F],valueSpec:_.transition,style:m,styleSpec:_}):x[F]?Wn({key:F,value:l[F],valueSpec:x[F],style:m,styleSpec:_}):[new c.G(F,l[F],`unknown property "${F}"`)])}return E}(p)),dn=p=>Bi(function(r){const l=r.value,m=r.style,_=r.styleSpec,x=_.rain;let E=[];const R=c.H(l);if(l===void 0)return E;if(R!=="object")return E=E.concat([new c.V("rain",l,`object expected, ${R} found`)]),E;for(const F in l){const V=F.match(/^(.*)-transition$/);E=E.concat(V&&x[V[1]]&&x[V[1]].transition?Wn({key:F,value:l[F],valueSpec:_.transition,style:m,styleSpec:_}):x[F]?Wn({key:F,value:l[F],valueSpec:x[F],style:m,styleSpec:_}):[new c.G(F,l[F],`unknown property "${F}"`)])}return E}(p)),br=p=>Bi(ni(p)),rr=p=>Bi(wr(p)),Yr=p=>Bi(pi(p)),Mi=p=>Bi(ri(p)),Wi=p=>Bi(c.a2(p));function Bi(p){return p.slice().sort((r,l)=>r.line&&l.line?r.line-l.line:0)}function Di(p,r){let l=!1;if(r&&r.length)for(const m of r)m instanceof c.G?c.w(m.message):(p.fire(new c.y(new Error(m.message))),l=!0);return l}let Re;class de extends c.E{constructor(r,l="flat"){super(),this._transitionable=new c.a4(Re||(Re=new c.a5({anchor:new c.a6(c.a3.light.anchor),position:new c.a7(c.a3.light.position),color:new c.a6(c.a3.light.color),intensity:new c.a6(c.a3.light.intensity)}))),this.setLight(r,l),this._transitioning=this._transitionable.untransitioned()}getLight(){return this._transitionable.serialize()}setLight(r,l,m={}){this._validate(ci,r,m)||(this._transitionable.setTransitionOrValue(r),this.id=l)}updateTransitions(r){this._transitioning=this._transitionable.transitioned(r,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(r){this.properties=this._transitioning.possiblyEvaluate(r)}_validate(r,l,m){return(!m||m.validate!==!1)&&Di(this,r.call(eo,c.l({value:l,style:{glyphs:!0,sprite:!0},styleSpec:c.a3})))}}let Y=class extends c.E{constructor(p,r,l,m){super(),this.scope=l,this._transitionable=new c.a4(new c.a5({source:new c.a6(c.a3.terrain.source),exaggeration:new c.a6(c.a3.terrain.exaggeration)}),l,m),this._transitionable.setTransitionOrValue(p,m),this._transitioning=this._transitionable.untransitioned(),this.drapeRenderMode=r}get(){return this._transitionable.serialize()}set(p,r){this._transitionable.setTransitionOrValue(p,r)}updateTransitions(p){this._transitioning=this._transitionable.transitioned(p,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(p){this.properties=this._transitioning.possiblyEvaluate(p)}getExaggeration(p){return this._transitioning.possiblyEvaluate(new c.a8(p)).get("exaggeration")}getAttenuationRange(){if(!this.isZoomDependent())return null;const p=this._transitionable._values.exaggeration;if(!p)return null;const r=p.value.expression;if(!r)return null;let l=-1,m=-1,_=1;for(const x of r.zoomStops)_=r.evaluate(new c.a8(x)),_>.01?(l=x,m=-1):m=x;return _<.01&&l>0&&m>l?[l,m]:null}isZoomDependent(){const p=this._transitionable._values.exaggeration;return p!=null&&p.value!=null&&p.value.expression!=null&&p.value.expression instanceof c.a9}};const Ze=45,pe=65,nt=.05;function rt(p,r,l,m){const _=c.ac(Ze,pe,l),[x,E]=tn(p,m);let R=1-Math.min(1,Math.exp((r-x)/(E-x)*-6));return R*=R*R,R=Math.min(1,1.00747*R),R*_*p.alpha}function tn(p,r){const l=.5/Math.tan(.5*r);return[p.range[0]+l,p.range[1]+l]}function $t(p,r,l,m,_){const x=c.ab.vec3.transformMat4([],[r,l,m],_.mercatorFogMatrix);return rt(p,c.ab.vec3.length(x),_.pitch,_._fov)}function ln(p,r,l,m,_,x,E){const R=[[l,m,0],[_,m,0],[_,x,0],[l,x,0]];let F=Number.MAX_VALUE,V=-Number.MAX_VALUE;for(const U of R){const Q=c.ab.vec3.transformMat4([],U,r),ee=c.ab.vec3.length(Q);F=Math.min(F,ee),V=Math.max(V,ee)}return[rt(p,F,E.pitch,E._fov),rt(p,V,E.pitch,E._fov)]}class vn extends c.E{constructor(r,l,m,_){super();const x=new c.a5({range:new c.a6(c.a3.fog.range),color:new c.a6(c.a3.fog.color),"color-use-theme":new c.a6({type:"string","property-type":"data-constant",default:"default"}),"high-color":new c.a6(c.a3.fog["high-color"]),"high-color-use-theme":new c.a6({type:"string","property-type":"data-constant",default:"default"}),"space-color":new c.a6(c.a3.fog["space-color"]),"space-color-use-theme":new c.a6({type:"string","property-type":"data-constant",default:"default"}),"horizon-blend":new c.a6(c.a3.fog["horizon-blend"]),"star-intensity":new c.a6(c.a3.fog["star-intensity"]),"vertical-range":new c.a6(c.a3.fog["vertical-range"])});this._transitionable=new c.a4(x,m,new Map(_)),this.set(r,_),this._transitioning=this._transitionable.untransitioned(),this._transform=l,this.properties=new c.ad(x),this.scope=m}get state(){const r=this._transform,l=r.projection.name==="globe",m=c.ae(r.zoom),_=this.properties.get("range"),x=[.5,3];return{range:l?[c.af(x[0],_[0],m),c.af(x[1],_[1],m)]:_,horizonBlend:this.properties.get("horizon-blend"),alpha:this.properties.get("color").a}}get(){return this._transitionable.serialize()}set(r,l,m={}){if(this._validate(Mn,r,m))return;const _=c.l({},r);for(const x of Object.keys(c.a3.fog))_[x]===void 0&&(_[x]=c.a3.fog[x].default);this._options=_,this._transitionable.setTransitionOrValue(this._options,l)}getOpacity(r){if(!this._transform.projection.supportsFog)return 0;const l=this.properties&&this.properties.get("color")||1;return(this._transform.projection.name==="globe"?1:c.ac(Ze,pe,r))*l.a}getOpacityAtLatLng(r,l){return this._transform.projection.supportsFog?function(m,_,x){const E=c.aa.fromLngLat(_),R=x.elevation?x.elevation.getAtPointOrZero(E):0;return $t(m,E.x,E.y,R,x)}(this.state,r,l):0}getOpacityForTile(r){if(!this._transform.projection.supportsFog)return[1,1];const l=this._transform.calculateFogTileMatrix(r.toUnwrapped());return ln(this.state,l,0,0,c.ag,c.ag,this._transform)}getOpacityForBounds(r,l,m,_,x){return this._transform.projection.supportsFog?ln(this.state,r,l,m,_,x,this._transform):[1,1]}getFovAdjustedRange(r){return this._transform.projection.supportsFog?tn(this.state,r):[0,1]}isVisibleOnFrustum(r){if(!this._transform.projection.supportsFog)return!1;const l=[4,5,6,7];for(const m of l){const _=r.points[m];let x;if(_[2]>=0)x=_;else{const E=r.points[m-4];x=c.ah(E,_,E[2]/(E[2]-_[2]))}if($t(this.state,x[0],x[1],0,this._transform)>=nt)return!0}return!1}updateConfig(r){this._transitionable.setTransitionOrValue(this._options,new Map(r))}updateTransitions(r){this._transitioning=this._transitionable.transitioned(r,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(r){this.properties=this._transitioning.possiblyEvaluate(r)}_validate(r,l,m){return(!m||m.validate!==!1)&&Di(this,r.call(eo,c.l({value:l,style:{glyphs:!0,sprite:!0},styleSpec:c.a3})))}}let et,Rt,Kt,rn,dt=class extends c.E{constructor(p,r,l,m){super();const _=et||(et=new c.a5({density:new c.a6(c.a3.snow.density),intensity:new c.a6(c.a3.snow.intensity),color:new c.a6(c.a3.snow.color),opacity:new c.a6(c.a3.snow.opacity),vignette:new c.a6(c.a3.snow.vignette),"vignette-color":new c.a6(c.a3.snow["vignette-color"]),"center-thinning":new c.a6(c.a3.snow["center-thinning"]),direction:new c.a6(c.a3.snow.direction),"flake-size":new c.a6(c.a3.snow["flake-size"])}));this._transitionable=new c.a4(_,l,new Map(m)),this.set(p,m),this._transitioning=this._transitionable.untransitioned(),this.properties=new c.ad(_),this.scope=l}get state(){const p=this.properties.get("opacity"),r=this.properties.get("color"),l=this.properties.get("direction"),m=c.ai(l[0]),_=-Math.max(c.ai(l[1]),.01),x=[Math.cos(m)*Math.cos(_),Math.sin(m)*Math.cos(_),Math.sin(_)],E=this.properties.get("vignette"),R=this.properties.get("vignette-color");return R.a=E,{density:this.properties.get("density"),intensity:this.properties.get("intensity"),color:new c.aj(r.r,r.g,r.b,r.a*p),direction:x,centerThinning:this.properties.get("center-thinning"),flakeSize:this.properties.get("flake-size"),vignetteColor:R}}get(){return this._transitionable.serialize()}set(p,r,l={}){if(this._validate(Ee,p,l))return;const m=c.l({},p);for(const _ of Object.keys(c.a3.snow))m[_]===void 0&&(m[_]=c.a3.snow[_].default);this._options=m,this._transitionable.setTransitionOrValue(this._options,r)}updateConfig(p){this._transitionable.setTransitionOrValue(this._options,new Map(p))}updateTransitions(p){this._transitioning=this._transitionable.transitioned(p,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(p){this.properties=this._transitioning.possiblyEvaluate(p)}_validate(p,r,l){return(!l||l.validate!==!1)&&Di(this,p.call(eo,c.l({value:r,style:{glyphs:!0,sprite:!0},styleSpec:c.a3})))}},at=class extends c.E{constructor(p,r,l,m){super();const _=Rt||(Rt=new c.a5({density:new c.a6(c.a3.rain.density),intensity:new c.a6(c.a3.rain.intensity),color:new c.a6(c.a3.rain.color),opacity:new c.a6(c.a3.rain.opacity),vignette:new c.a6(c.a3.rain.vignette),"vignette-color":new c.a6(c.a3.rain["vignette-color"]),"center-thinning":new c.a6(c.a3.rain["center-thinning"]),direction:new c.a6(c.a3.rain.direction),"droplet-size":new c.a6(c.a3.rain["droplet-size"]),"distortion-strength":new c.a6(c.a3.rain["distortion-strength"])}));this._transitionable=new c.a4(_,l,new Map(m)),this.set(p,m),this._transitioning=this._transitionable.untransitioned(),this.properties=new c.ad(_),this.scope=l}get state(){const p=this.properties.get("opacity"),r=this.properties.get("color"),l=this.properties.get("direction"),m=c.ai(l[0]),_=-Math.max(c.ai(l[1]),.01),x=[Math.cos(m)*Math.cos(_),Math.sin(m)*Math.cos(_),Math.sin(_)],E=this.properties.get("vignette-color");return E.a=this.properties.get("vignette"),{density:this.properties.get("density"),intensity:this.properties.get("intensity"),color:new c.aj(r.r,r.g,r.b,r.a*p),direction:x,centerThinning:this.properties.get("center-thinning"),dropletSize:this.properties.get("droplet-size"),distortionStrength:this.properties.get("distortion-strength"),vignetteColor:E}}get(){return this._transitionable.serialize()}set(p,r,l={}){if(this._validate(dn,p,l))return;const m=c.l({},p);for(const _ of Object.keys(c.a3.rain))m[_]===void 0&&(m[_]=c.a3.rain[_].default);this._options=m,this._transitionable.setTransitionOrValue(this._options,r)}updateConfig(p){this._transitionable.setTransitionOrValue(this._options,new Map(p))}updateTransitions(p){this._transitioning=this._transitionable.transitioned(p,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(p){this.properties=this._transitioning.possiblyEvaluate(p)}_validate(p,r,l){return(!l||l.validate!==!1)&&Di(this,p.call(eo,c.l({value:r,style:{glyphs:!0,sprite:!0},styleSpec:c.a3})))}};class Sn extends c.E{constructor(r,l,m,_){super(),this.scope=m,this._options=r,this.properties=new c.ad(l),this._transitionable=new c.a4(l,m,new Map(_)),this._transitionable.setTransitionOrValue(r.properties),this._transitioning=this._transitionable.untransitioned()}updateConfig(r){this._transitionable.setTransitionOrValue(this._options.properties,new Map(r))}updateTransitions(r){this._transitioning=this._transitionable.transitioned(r,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(r){this.properties=this._transitioning.possiblyEvaluate(r)}get(){return this._options.properties=this._transitionable.serialize(),this._options}set(r,l){this._options=r,this._transitionable.setTransitionOrValue(r.properties,l)}shadowsEnabled(){return!!this.properties&&this.properties.get("cast-shadows")===!0}}class bn{constructor(r,l,m,_){this.screenBounds=r,this.cameraPoint=l,this._screenRaycastCache={},this._cameraRaycastCache={},this.isAboveHorizon=m,this.screenGeometry=this.bufferedScreenGeometry(0),this.screenGeometryMercator=this._bufferedScreenMercator(0,_)}static createFromScreenPoints(r,l){let m,_;if(r instanceof c.P||typeof r[0]=="number"){const x=c.P.convert(r);m=[x],_=l.isPointAboveHorizon(x)}else{const x=c.P.convert(r[0]),E=c.P.convert(r[1]);m=[x,E],_=c.al(x,E).every(R=>l.isPointAboveHorizon(R))}return new bn(m,l.getCameraPoint(),_,l)}isPointQuery(){return this.screenBounds.length===1}bufferedScreenGeometry(r){return c.al(this.screenBounds[0],this.screenBounds.length===1?this.screenBounds[0]:this.screenBounds[1],r)}bufferedCameraGeometry(r){const l=this.screenBounds[0],m=this.screenBounds.length===1?this.screenBounds[0].add(new c.P(1,1)):this.screenBounds[1],_=c.al(l,m,0,!1);return this.cameraPoint.y>m.y&&(this.cameraPoint.x>l.x&&this.cameraPoint.x<m.x?_.splice(3,0,this.cameraPoint):this.cameraPoint.x>=m.x?_[2]=this.cameraPoint:this.cameraPoint.x<=l.x&&(_[3]=this.cameraPoint)),c.am(_,r)}bufferedCameraGeometryGlobe(r){const l=this.screenBounds[0],m=this.screenBounds.length===1?this.screenBounds[0].add(new c.P(1,1)):this.screenBounds[1],_=c.al(l,m,r),x=this.cameraPoint.clone();switch(3*((x.y>l.y)+(x.y>m.y))+((x.x>l.x)+(x.x>m.x))){case 0:_[0]=x,_[4]=x.clone();break;case 1:_.splice(1,0,x);break;case 2:_[1]=x;break;case 3:_.splice(4,0,x);break;case 5:_.splice(2,0,x);break;case 6:_[3]=x;break;case 7:_.splice(3,0,x);break;case 8:_[2]=x}return _}containsTile(r,l,m,_=0){const x=r.queryPadding/l._pixelsPerMercatorPixel+1,E=m?this._bufferedCameraMercator(x,l):this._bufferedScreenMercator(x,l);let R=r.tileID.wrap+(E.unwrapped?_:0);const F=E.polygon.map(ze=>c.an(r.tileTransform,ze,R));if(!c.ao(F,0,0,c.ag,c.ag))return;R=r.tileID.wrap+(this.screenGeometryMercator.unwrapped?_:0);const V=this.screenGeometryMercator.polygon.map(ze=>c.ap(r.tileTransform,ze,R)),U=V.map(ze=>new c.P(ze[0],ze[1])),Q=l.getFreeCameraOptions().position||new c.aa(0,0,0),ee=c.ap(r.tileTransform,Q,R),ce=V.map(ze=>{const Le=c.ab.vec3.sub(ze,ze,ee);return c.ab.vec3.normalize(Le,Le),new c.aq(ee,Le)}),Pe=c.ar(r,1,l.zoom)*l._pixelsPerMercatorPixel;return{queryGeometry:this,tilespaceGeometry:U,tilespaceRays:ce,bufferedTilespaceGeometry:F,bufferedTilespaceBounds:(Se=c.as(F),Se.min.x=c.aw(Se.min.x,0,c.ag),Se.min.y=c.aw(Se.min.y,0,c.ag),Se.max.x=c.aw(Se.max.x,0,c.ag),Se.max.y=c.aw(Se.max.y,0,c.ag),Se),tile:r,tileID:r.tileID,pixelToTileUnitsFactor:Pe};var Se}_bufferedScreenMercator(r,l){const m=gr(r);if(this._screenRaycastCache[m])return this._screenRaycastCache[m];{let _;return _=l.projection.name==="globe"?this._projectAndResample(this.bufferedScreenGeometry(r),l):{polygon:this.bufferedScreenGeometry(r).map(x=>l.pointCoordinate3D(x)),unwrapped:!0},this._screenRaycastCache[m]=_,_}}_bufferedCameraMercator(r,l){const m=gr(r);if(this._cameraRaycastCache[m])return this._cameraRaycastCache[m];{let _;return _=l.projection.name==="globe"?this._projectAndResample(this.bufferedCameraGeometryGlobe(r),l):{polygon:this.bufferedCameraGeometry(r).map(x=>l.pointCoordinate3D(x)),unwrapped:!0},this._cameraRaycastCache[m]=_,_}}_projectAndResample(r,l){const m=function(x,E){const R=c.ab.mat4.multiply([],E.pixelMatrix,E.globeMatrix),F=[0,-c.ax,0,1],V=[0,c.ax,0,1],U=[0,0,0,1];c.ab.vec4.transformMat4(F,F,R),c.ab.vec4.transformMat4(V,V,R),c.ab.vec4.transformMat4(U,U,R);const Q=new c.P(F[0]/F[3],F[1]/F[3]),ee=new c.P(V[0]/V[3],V[1]/V[3]),ce=c.au(x,Q)&&F[3]<U[3],Pe=c.au(x,ee)&&V[3]<U[3];if(!ce&&!Pe)return null;const Se=function(kt,Lt,cn){for(let Tn=1;Tn<kt.length;Tn++){const hr=or(Lt.pointCoordinate3D(kt[Tn-1]).x),nr=or(Lt.pointCoordinate3D(kt[Tn]).x);if(cn<0){if(hr<nr)return{idx:Tn,t:-hr/(nr-1-hr)}}else if(nr<hr)return{idx:Tn,t:(1-hr)/(nr+1-hr)}}return null}(x,E,ce?-1:1);if(!Se)return null;const{idx:ze,t:Le}=Se;let st=ze>1?Gn(x.slice(0,ze),E):[],St=ze<x.length?Gn(x.slice(ze),E):[];st=st.map(kt=>new c.P(or(kt.x),kt.y)),St=St.map(kt=>new c.P(or(kt.x),kt.y));const xt=[...st];xt.length===0&&xt.push(St[St.length-1]);const Wt=c.af(xt[xt.length-1].y,(St.length===0?st[0]:St[0]).y,Le);let zt;return zt=ce?[new c.P(0,Wt),new c.P(0,0),new c.P(1,0),new c.P(1,Wt)]:[new c.P(1,Wt),new c.P(1,1),new c.P(0,1),new c.P(0,Wt)],xt.push(...zt),St.length===0?xt.push(st[0]):xt.push(...St),{polygon:xt.map(kt=>new c.aa(kt.x,kt.y)),unwrapped:!1}}(r,l);if(m)return m;const _=function(x,E){let R=!1,F=-1/0,V=0;for(let Q=0;Q<x.length-1;Q++)x[Q].x>F&&(F=x[Q].x,V=Q);for(let Q=0;Q<x.length-1;Q++){const ee=(V+Q)%(x.length-1),ce=x[ee],Pe=x[ee+1];Math.abs(ce.x-Pe.x)>.5&&(ce.x<Pe.x?(ce.x+=1,ee===0&&(x[x.length-1].x+=1)):(Pe.x+=1,ee+1===x.length-1&&(x[0].x+=1)),R=!0)}const U=c.at(E.center.lng);return R&&U<Math.abs(U-1)&&x.forEach(Q=>{Q.x-=1}),{polygon:x,unwrapped:R}}(Gn(r,l).map(x=>new c.P(or(x.x),x.y)),l);return{polygon:_.polygon.map(x=>new c.aa(x.x,x.y)),unwrapped:_.unwrapped}}}function Gn(p,r){return c.av(p,l=>{const m=r.pointCoordinate3D(l);l.x=m.x,l.y=m.y},1/256)}function or(p){return p<0?1+p%1:p%1}function gr(p){return 100*p|0}function Fr(p,r,l,m,_){const x=function(R,F){if(R)return _(R);if(F){if(p.url&&F.tiles&&p.tiles&&delete p.tiles,F.variants){if(!Array.isArray(F.variants))return _(new Error("variants must be an array"));for(const U of F.variants){if(U==null||typeof U!="object"||U.constructor!==Object)return _(new Error("variant must be an object"));if(!Array.isArray(U.capabilities))return _(new Error("capabilities must be an array"));if(U.capabilities.length===1&&U.capabilities[0]==="meshopt"){F=c.l(F,U);break}}}const V=c.ay(c.l({},F,p),["tilejson","tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds","scheme","tileSize","encoding","vector_layers","raster_layers","worldview_options","worldview_default","worldview"]);V.tiles=r.canonicalizeTileset(V,p.url),_(null,V)}},E=function(R,F,V){if(!R)return null;if(!F&&!V)return R;V=V||R.worldview_default;const U=Object.values(R.language||{});if(U.length===0)return null;const Q=Object.values(R.worldview||{});if(Q.length===0)return null;const ee=U.every(Pe=>Pe===F),ce=Q.every(Pe=>Pe===V);return ee&&ce?R:F in(R.language_options||{})||V in(R.worldview_options||{})?null:R.language_options&&R.worldview_options?R:null}(p.data,l,m);return E?c.q.frame(()=>x(null,E)):p.url?c.n(r.transformRequest(r.normalizeSourceURL(p.url,null,l,m),c.R.Source),x):c.q.frame(()=>{const V=p,{data:R}=V,F=i2(V,["data"]);x(null,F)})}class hi{constructor(r,l,m){this.bounds=c.az.convert(this.validateBounds(r)),this.minzoom=l||0,this.maxzoom=m||24}validateBounds(r){return Array.isArray(r)&&r.length===4?[Math.max(-180,r[0]),Math.max(-90,r[1]),Math.min(180,r[2]),Math.min(90,r[3])]:[-180,-90,180,90]}contains(r){const l=Math.pow(2,r.z),m=Math.floor(c.at(this.bounds.getWest())*l),_=Math.floor(c.aA(this.bounds.getNorth())*l),x=Math.ceil(c.at(this.bounds.getEast())*l),E=Math.ceil(c.aA(this.bounds.getSouth())*l);return r.x>=m&&r.x<x&&r.y>=_&&r.y<E}}class Hr extends c.E{constructor(r,l,m,_){if(super(),this.id=r,this.dispatcher=m,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,c.l(this,c.ay(l,["url","scheme","tileSize","promoteId"])),this._options=c.l({type:"vector"},l),this._collectResourceTiming=!!l.collectResourceTiming,this.tileSize!==512)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(_),this._tileWorkers={},this._deduped=new c.aB}load(r){this._loaded=!1,this.fire(new c.z("dataloading",{dataType:"source"}));const l=Array.isArray(this.map._language)?this.map._language.join():this.map._language,m=this.map.getWorldview();this._tileJSONRequest=Fr(this._options,this.map._requestManager,l,m,(_,x)=>{if(this._tileJSONRequest=null,this._loaded=!0,_)l&&console.warn(`Ensure that your requested language string is a valid BCP-47 code or list of codes. Found: ${l}`),m&&console.warn(`Requested worldview strings must be a valid ISO alpha-2 code. Found: ${m}`),this.fire(new c.y(_));else if(x){if(c.l(this,x),this.hasWorldviews=!!x.worldview_options,x.worldview_default&&(this.worldviewDefault=x.worldview_default),x.vector_layers){this.vectorLayers=x.vector_layers,this.vectorLayerIds=[],this.localizableLayerIds=new Set;for(const E of x.vector_layers)this.vectorLayerIds.push(E.id),x.worldview&&x.worldview[E.source]&&this.localizableLayerIds.add(E.id)}x.bounds&&(this.tileBounds=new hi(x.bounds,this.minzoom,this.maxzoom)),Rn(x.tiles,this.map._requestManager._customAccessToken),this.fire(new c.z("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new c.z("data",{dataType:"source",sourceDataType:"content"}))}r&&r(_)})}loaded(){return this._loaded}hasTile(r){return!this.tileBounds||this.tileBounds.contains(r.canonical)}onAdd(r){this.map=r,this.load()}reload(){this.cancelTileJSONRequest();const r=c.aC(this.id,this.scope);this.load(()=>this.map.style.clearSource(r))}setTiles(r){return this._options.tiles=r,this.reload(),this}setUrl(r){return this.url=r,this._options.url=r,this.reload(),this}onRemove(r){this.cancelTileJSONRequest()}serialize(){return c.l({},this._options)}loadTile(r,l){const m=r.tileID.canonical.url(this.tiles,this.scheme),_=this.map._requestManager.normalizeTileURL(m),x=this.map._requestManager.transformRequest(_,c.R.Tile),E=this.map.style?this.map.style.getLut(this.scope):null,R=E?{image:E.image.clone()}:null,F={request:x,data:void 0,uid:r.uid,tileID:r.tileID,tileZoom:r.tileZoom,zoom:r.tileID.overscaledZ,maxZoom:this.maxzoom,lut:R,tileSize:this.tileSize*r.tileID.overscaleFactor(),type:this.type,source:this.id,scope:this.scope,pixelRatio:c.q.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId,isSymbolTile:r.isSymbolTile,brightness:this.map.style&&this.map.style.getBrightness()||0,extraShadowCaster:r.isExtraShadowCaster,tessellationStep:this.map._tessellationStep,scaleFactor:this.map.getScaleFactor()};if(this.hasWorldviews&&c.f(m)&&(F.worldview=this.map.getWorldview()||this.worldviewDefault,F.localizableLayerIds=this.localizableLayerIds),F.request.collectResourceTiming=this._collectResourceTiming,r.actor&&r.state!=="expired")r.state==="loading"?r.reloadCallback=l:r.request=r.actor.send("reloadTile",F,V.bind(this));else if(r.actor=this._tileWorkers[_]=this._tileWorkers[_]||this.dispatcher.getActor(),this.dispatcher.ready)r.request=r.actor.send("loadTile",F,V.bind(this),void 0,!0);else{const U=c.aD.call({deduped:this._deduped},F,(Q,ee)=>{Q||!ee?V.call(this,Q):(F.data={cacheControl:ee.cacheControl,expires:ee.expires,rawData:ee.rawData.slice(0)},r.actor&&r.actor.send("loadTile",F,V.bind(this),void 0,!0))},!0);r.request={cancel:U}}function V(U,Q){return delete r.request,r.aborted?l(null):U&&U.status!==404?l(U):(Q&&Q.resourceTiming&&(r.resourceTiming=Q.resourceTiming),this.map._refreshExpiredTiles&&Q&&r.setExpiryData(Q),r.loadVectorData(Q,this.map.painter),c.aE(this.dispatcher),l(null),void(r.reloadCallback&&(this.loadTile(r,r.reloadCallback),r.reloadCallback=null)))}}abortTile(r){r.request&&(r.request.cancel(),delete r.request),r.actor&&r.actor.send("abortTile",{uid:r.uid,type:this.type,source:this.id,scope:this.scope})}unloadTile(r,l){r.actor&&r.actor.send("removeTile",{uid:r.uid,type:this.type,source:this.id,scope:this.scope}),r.destroy()}hasTransition(){return!1}afterUpdate(){this._tileWorkers={}}cancelTileJSONRequest(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}}class to extends c.E{constructor(r,l,m,_){super(),this.id=r,this.dispatcher=m,this.setEventedParent(_),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=c.l({type:"raster"},l),c.l(this,c.ay(l,["url","scheme","tileSize"]))}load(r){this._loaded=!1,this.fire(new c.z("dataloading",{dataType:"source"})),this._tileJSONRequest=Fr(this._options,this.map._requestManager,null,null,(l,m)=>{this._tileJSONRequest=null,this._loaded=!0,l?this.fire(new c.y(l)):m&&(c.l(this,m),m.raster_layers&&(this.rasterLayers=m.raster_layers,this.rasterLayerIds=this.rasterLayers.map(_=>_.id)),m.bounds&&(this.tileBounds=new hi(m.bounds,this.minzoom,this.maxzoom)),Rn(m.tiles),this.fire(new c.z("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new c.z("data",{dataType:"source",sourceDataType:"content"}))),r&&r(l)})}loaded(){return this._loaded}onAdd(r){this.map=r,this.load()}reload(){this.cancelTileJSONRequest();const r=c.aC(this.id,this.scope);this.load(()=>this.map.style.clearSource(r))}setTiles(r){return this._options.tiles=r,this.reload(),this}setUrl(r){return this.url=r,this._options.url=r,this.reload(),this}onRemove(r){this.cancelTileJSONRequest()}serialize(){return c.l({},this._options)}hasTile(r){return!this.tileBounds||this.tileBounds.contains(r.canonical)}loadTile(r,l){const m=c.q.devicePixelRatio>=2,_=this.map._requestManager.normalizeTileURL(r.tileID.canonical.url(this.tiles,this.scheme),m,this.tileSize);r.request=c.o(this.map._requestManager.transformRequest(_,c.R.Tile),(x,E,R,F)=>(delete r.request,r.aborted?(r.state="unloaded",l(null)):x?(r.state="errored",l(x)):E?(this.map._refreshExpiredTiles&&r.setExpiryData({cacheControl:R,expires:F}),r.setTexture(E,this.map.painter),r.state="loaded",c.aE(this.dispatcher),void l(null)):l(null)))}abortTile(r,l){r.request&&(r.request.cancel(),delete r.request),l&&l()}unloadTile(r,l){r.texture&&r.texture instanceof c.T?(r.destroy(!0),r.texture&&r.texture instanceof c.T&&this.map.painter.saveTileTexture(r.texture)):r.destroy(),l&&l()}hasTransition(){return!1}cancelTileJSONRequest(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}}class gt extends to{constructor(r,l,m,_){super(r,l,m,_),this.type="raster-array",this.maxzoom=22,this._options=c.l({type:"raster-array"},l)}triggerRepaint(r){const l=this.map.painter._terrain,m=this.map.style.getSourceCache(this.id);l&&l.enabled&&m&&l._clearRenderCacheForTile(m.id,r.tileID),this.map.triggerRepaint()}loadTile(r,l){const m=this.map._requestManager.normalizeTileURL(r.tileID.canonical.url(this.tiles,this.scheme),!1,this.tileSize),_=this.map._requestManager.transformRequest(m,c.R.Tile);r.requestParams=_,r.actor||(r.actor=this.dispatcher.getActor()),r.request=r.fetchHeader(void 0,(x,E,R,F)=>{if(delete r.request,r.aborted)return r.state="unloaded",l(null);if(x)return x.code===20?void 0:(r.state="errored",l(x));this.map._refreshExpiredTiles&&r.setExpiryData({cacheControl:R,expires:F}),r.state="empty",l(null)})}unloadTile(r,l){const m=r.texture;m&&m instanceof c.T?(r.destroy(!0),this.map.painter.saveTileTexture(m)):(r.destroy(),r.flushQueues(),r._isHeaderLoaded=!1,delete r._mrt,delete r.textureDescriptor),r.fbo&&(r.fbo.destroy(),delete r.fbo),delete r.request,delete r.requestParams,delete r.neighboringTiles,r.state="unloaded"}prepareTile(r,l,m){r._isHeaderLoaded&&(r.state!=="empty"&&(r.state="reloading"),r.fetchBand(l,m,(_,x)=>{if(_)return r.state="errored",this.fire(new c.y(_)),void this.triggerRepaint(r);x&&(r.setTexture(x,this.map.painter),r.state="loaded",this.triggerRepaint(r))}))}getInitialBand(r){if(!this.rasterLayers)return 0;const l=this.rasterLayers.find(({id:x})=>x===r),m=l&&l.fields,_=m&&m.bands&&m.bands;return _?_[0]:0}getTextureDescriptor(r,l,m){if(!r)return;const _=l.sourceLayer||this.rasterLayerIds&&this.rasterLayerIds[0];if(!_)return;let x=null;l instanceof c.aH?x=l.paint.get("raster-array-band"):l instanceof c.aI&&(x=l.paint.get("raster-particle-array-band"));const E=x||this.getInitialBand(_);if(E!=null)if(r.textureDescriptor){if(!r.updateNeeded(_,E)||m)return Object.assign({},r.textureDescriptor,{texture:r.texture})}else this.prepareTile(r,_,E)}}const wn={vector:Hr,raster:to,"raster-dem":class extends to{constructor(p,r,l,m){super(p,r,l,m),this.type="raster-dem",this.maxzoom=22,this._options=c.l({type:"raster-dem"},r),this.encoding=r.encoding||"mapbox"}loadTile(p,r){const l=this.map._requestManager.normalizeTileURL(p.tileID.canonical.url(this.tiles,this.scheme),!1,this.tileSize);function m(_,x){_&&(p.state="errored",r(_)),x&&(p.dem=x,p.dem.onDeserialize(),p.needsHillshadePrepare=!0,p.needsDEMTextureUpload=!0,p.state="loaded",r(null))}p.request=c.o(this.map._requestManager.transformRequest(l,c.R.Tile),function(_,x,E,R){if(delete p.request,p.aborted)p.state="unloaded",r(null);else if(_)p.state="errored",r(_);else if(x){this.map._refreshExpiredTiles&&p.setExpiryData({cacheControl:E,expires:R});const F=ImageBitmap&&x instanceof ImageBitmap&&c.t(),V=1-(x.width-c.aF(x.width))/2;V<1||p.neighboringTiles||(p.neighboringTiles=this._getNeighboringTiles(p.tileID));const U=F?x:c.q.getImageData(x,V),Q={uid:p.uid,coord:p.tileID,source:this.id,scope:this.scope,rawImageData:U,encoding:this.encoding,padding:V};p.actor&&p.state!=="expired"||(p.actor=this.dispatcher.getActor(),p.actor.send("loadDEMTile",Q,m.bind(this),void 0,!0))}}.bind(this))}_getNeighboringTiles(p){const r=p.canonical,l=Math.pow(2,r.z),m=(r.x-1+l)%l,_=r.x===0?p.wrap-1:p.wrap,x=(r.x+1+l)%l,E=r.x+1===l?p.wrap+1:p.wrap,R={};return R[new c.aG(p.overscaledZ,_,r.z,m,r.y).key]={backfilled:!1},R[new c.aG(p.overscaledZ,E,r.z,x,r.y).key]={backfilled:!1},r.y>0&&(R[new c.aG(p.overscaledZ,_,r.z,m,r.y-1).key]={backfilled:!1},R[new c.aG(p.overscaledZ,p.wrap,r.z,r.x,r.y-1).key]={backfilled:!1},R[new c.aG(p.overscaledZ,E,r.z,x,r.y-1).key]={backfilled:!1}),r.y+1<l&&(R[new c.aG(p.overscaledZ,_,r.z,m,r.y+1).key]={backfilled:!1},R[new c.aG(p.overscaledZ,p.wrap,r.z,r.x,r.y+1).key]={backfilled:!1},R[new c.aG(p.overscaledZ,E,r.z,x,r.y+1).key]={backfilled:!1}),R}},"raster-array":gt,geojson:class extends c.E{constructor(p,r,l,m){super(),this.id=p,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._loaded=!1,this.actor=l.getActor(),this.setEventedParent(m),this._data=r.data,this._options=c.l({},r),this._collectResourceTiming=r.collectResourceTiming,r.maxzoom!==void 0&&(this.maxzoom=r.maxzoom),r.minzoom!==void 0&&(this.minzoom=r.minzoom),r.type&&(this.type=r.type),r.attribution&&(this.attribution=r.attribution),this.promoteId=r.promoteId;const _=c.ag/this.tileSize;this.workerOptions=c.l({source:this.id,scope:this.scope,cluster:r.cluster||!1,geojsonVtOptions:{buffer:(r.buffer!==void 0?r.buffer:128)*_,tolerance:(r.tolerance!==void 0?r.tolerance:.375)*_,extent:c.ag,maxZoom:this.maxzoom,lineMetrics:r.lineMetrics||!1,generateId:r.generateId||!1},superclusterOptions:{maxZoom:r.clusterMaxZoom!==void 0?r.clusterMaxZoom:this.maxzoom-1,minPoints:Math.max(2,r.clusterMinPoints||2),extent:c.ag,radius:(r.clusterRadius!==void 0?r.clusterRadius:50)*_,log:!1,generateId:r.generateId||!1},clusterProperties:r.clusterProperties,filter:r.filter,dynamic:r.dynamic},r.workerOptions)}onAdd(p){this.map=p,this.setData(this._data)}setData(p){return this._data=p,this._updateWorkerData(),this}updateData(p){if(!this._options.dynamic)return this.fire(new c.y(new Error("Can't call updateData on a GeoJSON source with dynamic set to false.")));if(typeof p!="string"&&(p.type==="Feature"&&(p={type:"FeatureCollection",features:[p]}),p.type!=="FeatureCollection"))return this.fire(new c.y(new Error("Data to update should be a feature or a feature collection.")));if(this._coalesce&&typeof p!="string"&&typeof this._data!="string"&&this._data.type==="FeatureCollection"){const r=new Map;for(const l of this._data.features)r.set(l.id,l);for(const l of p.features)r.set(l.id,l);this._data.features=[...r.values()]}else this._data=p;return this._updateWorkerData(!0),this}getClusterExpansionZoom(p,r){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:p,source:this.id,scope:this.scope},r),this}getClusterChildren(p,r){return this.actor.send("geojson.getClusterChildren",{clusterId:p,source:this.id,scope:this.scope},r),this}getClusterLeaves(p,r,l,m){return this.actor.send("geojson.getClusterLeaves",{source:this.id,scope:this.scope,clusterId:p,limit:r,offset:l},m),this}_updateWorkerData(p=!1){if(this._pendingLoad)return void(this._coalesce=!0);this.fire(new c.z("dataloading",{dataType:"source"})),this._loaded=!1;const r=c.l({append:p},this.workerOptions);r.scope=this.scope;const l=this._data;typeof l=="string"?(r.request=this.map._requestManager.transformRequest(c.q.resolveURL(l),c.R.Source),r.request.collectResourceTiming=this._collectResourceTiming):r.data=JSON.stringify(l),this._pendingLoad=this.actor.send(`${this.type}.loadData`,r,(m,_)=>{if(this._loaded=!0,this._pendingLoad=null,m)this.fire(new c.y(m));else{const x={dataType:"source",sourceDataType:this._metadataFired?"content":"metadata"};this._collectResourceTiming&&_&&_.resourceTiming&&_.resourceTiming[this.id]&&(x.resourceTiming=_.resourceTiming[this.id]),p&&(this._partialReload=!0),this.fire(new c.z("data",x)),this._partialReload=!1,this._metadataFired=!0}this._coalesce&&(this._updateWorkerData(p),this._coalesce=!1)})}loaded(){return this._loaded}reload(){const p=c.aC(this.id,this.scope);this.map.style.clearSource(p),this._updateWorkerData()}loadTile(p,r){const l=p.actor?"reloadTile":"loadTile";p.actor=this.actor;const m=this.map.style?this.map.style.getLut(this.scope):null,_=m?{image:m.image.clone()}:null,x=this._partialReload,E={type:this.type,uid:p.uid,tileID:p.tileID,tileZoom:p.tileZoom,zoom:p.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,lut:_,scope:this.scope,pixelRatio:c.q.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId,brightness:this.map.style&&this.map.style.getBrightness()||0,scaleFactor:this.map.getScaleFactor(),partial:x};p.request=this.actor.send(l,E,(R,F)=>x&&!F?(p.state="loaded",r(null)):(delete p.request,p.destroy(),p.aborted?r(null):R?r(R):(p.loadVectorData(F,this.map.painter,l==="reloadTile"),r(null))),void 0,l==="loadTile")}abortTile(p){p.request&&(p.request.cancel(),delete p.request),p.aborted=!0}unloadTile(p,r){this.actor.send("removeTile",{uid:p.uid,type:this.type,source:this.id,scope:this.scope}),p.destroy()}onRemove(p){this._pendingLoad&&this._pendingLoad.cancel()}serialize(){return c.l({},this._options,{type:this.type,data:this._data})}hasTransition(){return!1}},video:class extends c.aJ{constructor(p,r,l,m){super(p,r,l,m),this.roundZoom=!0,this.type="video",this.options=r}load(){this._loaded=!1;const p=this.options;this.urls=[];for(const r of p.urls)this.urls.push(this.map._requestManager.transformRequest(r,c.R.Source).url);c.aK(this.urls,(r,l)=>{this._loaded=!0,r?this.fire(new c.y(r)):l&&(this.video=l,this.video.loop=!0,this.video.setAttribute("playsinline",""),this.video.addEventListener("playing",()=>{this.map.triggerRepaint()}),this.map&&this.video.play(),this._finishLoading())})}pause(){this.video&&this.video.pause()}play(){this.video&&this.video.play()}seek(p){if(this.video){const r=this.video.seekable;p<r.start(0)||p>r.end(0)?this.fire(new c.y(new c.V(`sources.${this.id}`,null,`Playback for this video can be set only between the ${r.start(0)} and ${r.end(0)}-second mark.`))):this.video.currentTime=p}}getVideo(){return this.video}onAdd(p){this.map||(this.map=p,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))}prepare(){if(Object.keys(this.tiles).length===0||this.video.readyState<2)return;const p=this.map.painter.context,r=p.gl;this.texture?this.video.paused||(this.texture.bind(r.LINEAR,r.CLAMP_TO_EDGE),r.texSubImage2D(r.TEXTURE_2D,0,0,0,r.RGBA,r.UNSIGNED_BYTE,this.video)):(this.texture=new c.T(p,this.video,r.RGBA8),this.texture.bind(r.LINEAR,r.CLAMP_TO_EDGE),this.width=this.video.videoWidth,this.height=this.video.videoHeight),this._prepareData(p)}serialize(){return{type:"video",urls:this.urls,coordinates:this.coordinates}}hasTransition(){return this.video&&!this.video.paused}},image:c.aJ,model:class extends c.E{constructor(p,r,l,m){super(),this.id=p,this.type="model",this.models=[],this._loaded=!1,this._options=r}load(){const p=[];for(const r in this._options.models){const l=this._options.models[r],m=c.aM(this.map._requestManager.transformRequest(l.uri,c.R.Model).url).then(_=>{if(!_)return;const x=c.aN(_),E=new c.aO(r,l.position,l.orientation,x);E.computeBoundsAndApplyParent(),this.models.push(E)}).catch(_=>{this.fire(new c.y(new Error(`Could not load model ${r} from ${l.uri}: ${_.message}`)))});p.push(m)}return Promise.allSettled(p).then(()=>{this._loaded=!0,this.fire(new c.z("data",{dataType:"source",sourceDataType:"metadata"}))}).catch(r=>{this.fire(new c.y(new Error(`Could not load models: ${r.message}`)))})}onAdd(p){this.map=p,this.load()}hasTransition(){return!1}loaded(){return this._loaded}getModels(){return this.models}loadTile(p,r){}serialize(){return{type:"model"}}},"batched-model":class extends c.E{constructor(p,r,l,m){super(),this.type="batched-model",this.id=p,this.tileSize=512,this._options=r,this.tiles=this._options.tiles,this.maxzoom=r.maxzoom||19,this.minzoom=r.minzoom||0,this.roundZoom=!0,this.usedInConflation=!0,this.dispatcher=l,this.reparseOverscaled=!1,this.scheme="xyz",this._loaded=!1,this.setEventedParent(m)}onAdd(p){this.map=p,this.load()}reload(){this.cancelTileJSONRequest();const p=c.aC(this.id,this.scope);this.load(()=>this.map.style.clearSource(p))}cancelTileJSONRequest(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}load(p){this._loaded=!1,this.fire(new c.z("dataloading",{dataType:"source"}));const r=Array.isArray(this.map._language)?this.map._language.join():this.map._language,l=this.map.getWorldview();this._tileJSONRequest=Fr(this._options,this.map._requestManager,r,l,(m,_)=>{this._tileJSONRequest=null,this._loaded=!0,m?(r&&console.warn(`Ensure that your requested language string is a valid BCP-47 code or list of codes. Found: ${r}`),l&&l.length!==2&&console.warn(`Requested worldview strings must be a valid ISO alpha-2 code. Found: ${l}`),this.fire(new c.y(m))):_&&(c.l(this,_),_.bounds&&(this.tileBounds=new hi(_.bounds,this.minzoom,this.maxzoom)),Rn(_.tiles,this.map._requestManager._customAccessToken),this.fire(new c.z("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new c.z("data",{dataType:"source",sourceDataType:"content"}))),p&&p(m)})}hasTransition(){return!1}hasTile(p){return!this.tileBounds||this.tileBounds.contains(p.canonical)}loaded(){return this._loaded}loadTile(p,r){const l=this.map._requestManager.normalizeTileURL(p.tileID.canonical.url(this.tiles,this.scheme)),m={request:this.map._requestManager.transformRequest(l,c.R.Tile),data:void 0,uid:p.uid,tileID:p.tileID,tileZoom:p.tileZoom,zoom:p.tileID.overscaledZ,tileSize:this.tileSize*p.tileID.overscaleFactor(),type:this.type,source:this.id,scope:this.scope,showCollisionBoxes:this.map.showCollisionBoxes,isSymbolTile:p.isSymbolTile,brightness:this.map.style&&this.map.style.getBrightness()||0,lut:null,maxZoom:null,promoteId:null,pixelRatio:null,scaleFactor:null};if(p.actor&&p.state!=="expired")if(p.state==="loading")p.reloadCallback=r;else{if(p.buckets){const x=Object.values(p.buckets);for(const E of x)E.dirty=!0;return void(p.state="loaded")}p.request=p.actor.send("reloadTile",m,_.bind(this))}else p.actor=this.dispatcher.getActor(),p.request=p.actor.send("loadTile",m,_.bind(this),void 0,!0);function _(x,E){return p.aborted?r(null):x&&x.status!==404?r(x):(this.map._refreshExpiredTiles&&E&&p.setExpiryData(E),p.loadModelData(E,this.map.painter),p.state="loaded",void r(null))}}serialize(){return c.l({},this._options)}},canvas:class extends c.aJ{constructor(p,r,l,m){super(p,r,l,m),r.coordinates?Array.isArray(r.coordinates)&&r.coordinates.length===4&&!r.coordinates.some(_=>!Array.isArray(_)||_.length!==2||_.some(x=>typeof x!="number"))||this.fire(new c.y(new c.V(`sources.${p}`,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new c.y(new c.V(`sources.${p}`,null,'missing required property "coordinates"'))),r.animate&&typeof r.animate!="boolean"&&this.fire(new c.y(new c.V(`sources.${p}`,null,'optional "animate" property must be a boolean value'))),r.canvas?typeof r.canvas=="string"||r.canvas instanceof HTMLCanvasElement||this.fire(new c.y(new c.V(`sources.${p}`,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new c.y(new c.V(`sources.${p}`,null,'missing required property "canvas"'))),this.options=r,this.animate=r.animate===void 0||r.animate}load(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof HTMLCanvasElement?this.options.canvas:document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new c.y(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())}getCanvas(){return this.canvas}onAdd(p){this.map=p,this.load(),this.canvas&&this.animate&&this.play()}onRemove(p){this.pause()}prepare(){let p=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,p=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,p=!0),this._hasInvalidDimensions()||Object.keys(this.tiles).length===0)return;const r=this.map.painter.context;this.texture?!p&&!this._playing||this.texture instanceof c.aL||this.texture.update(this.canvas,{premultiply:!0}):this.texture=new c.T(r,this.canvas,r.gl.RGBA8,{premultiply:!0}),this._prepareData(r)}serialize(){return{type:"canvas",coordinates:this.coordinates}}hasTransition(){return this._playing}_hasInvalidDimensions(){for(const p of[this.canvas.width,this.canvas.height])if(isNaN(p)||p<=0)return!0;return!1}},custom:class extends c.E{constructor(p,r,l,m){super(),this.id=p,this.type="custom",this._dataType="raster",this._dispatcher=l,this._implementation=r,this.setEventedParent(m),this.scheme="xyz",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this._loaded=!1,this.roundZoom=!0,this._implementation||this.fire(new c.y(new Error(`Missing implementation for ${this.id} custom source`))),this._implementation.loadTile||this.fire(new c.y(new Error(`Missing loadTile implementation for ${this.id} custom source`))),this._implementation.bounds&&(this.tileBounds=new hi(this._implementation.bounds,this.minzoom,this.maxzoom)),r.update=this._update.bind(this),r.clearTiles=this._clearTiles.bind(this),r.coveringTiles=this._coveringTiles.bind(this),c.l(this,c.ay(r,["dataType","scheme","minzoom","maxzoom","tileSize","attribution","minTileCacheSize","maxTileCacheSize"]))}serialize(){return c.ay(this,["type","scheme","minzoom","maxzoom","tileSize","attribution"])}load(){this._loaded=!0,this.fire(new c.z("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new c.z("data",{dataType:"source",sourceDataType:"content"}))}loaded(){return this._loaded}onAdd(p){this.map=p,this._loaded=!1,this.fire(new c.z("dataloading",{dataType:"source"})),this._implementation.onAdd&&this._implementation.onAdd(p),this.load()}onRemove(p){this._implementation.onRemove&&this._implementation.onRemove(p)}hasTile(p){if(this._implementation.hasTile){const{x:r,y:l,z:m}=p.canonical;return this._implementation.hasTile({x:r,y:l,z:m})}return!this.tileBounds||this.tileBounds.contains(p.canonical)}loadTile(p,r){const{x:l,y:m,z:_}=p.tileID.canonical,x=new AbortController;p.request=Promise.resolve(this._implementation.loadTile({x:l,y:m,z:_},{signal:x.signal})).then(function(E){return delete p.request,p.aborted?(p.state="unloaded",r(null)):E===void 0?(p.state="errored",r(null)):E===null?(this.loadTileData(p,{width:this.tileSize,height:this.tileSize,data:null}),p.state="loaded",r(null)):function(R){return R instanceof ImageData||R instanceof HTMLCanvasElement||R instanceof ImageBitmap||R instanceof HTMLImageElement}(E)?(this.loadTileData(p,E),p.state="loaded",void r(null)):(p.state="errored",r(new Error(`Can't infer data type for ${this.id}, only raster data supported at the moment`)))}.bind(this)).catch(E=>{E.code!==20&&(p.state="errored",r(E))}),p.request.cancel=()=>x.abort()}loadTileData(p,r){p.setTexture(r,this.map.painter)}unloadTile(p,r){if(p.texture&&p.texture instanceof c.T?(p.destroy(!0),p.texture&&p.texture instanceof c.T&&this.map.painter.saveTileTexture(p.texture)):p.destroy(),this._implementation.unloadTile){const{x:l,y:m,z:_}=p.tileID.canonical;this._implementation.unloadTile({x:l,y:m,z:_})}r&&r()}abortTile(p,r){p.request&&p.request.cancel&&(p.request.cancel(),delete p.request),r&&r()}hasTransition(){return!1}_coveringTiles(){return this.map.transform.coveringTiles({tileSize:this.tileSize,minzoom:this.minzoom,maxzoom:this.maxzoom,roundZoom:this.roundZoom}).map(p=>({x:p.canonical.x,y:p.canonical.y,z:p.canonical.z}))}_clearTiles(){const p=c.aC(this.id,this.scope);this.map.style.clearSource(p)}_update(){this.fire(new c.z("data",{dataType:"source",sourceDataType:"content"}))}}},qt=function(p,r,l,m){const _=new wn[r.type](p,r,l,m);if(_.id!==p)throw new Error(`Expected Source id to be ${p} instead of ${_.id}`);return c.aP(["load","abort","unload","serialize","prepare"],_),_};function Nn(p,r,l=""){return`${l}:${r.id||""}:${r.layer.id}:${function(m){if("layerId"in m)return`layer:${m.layerId}`;{const{featuresetId:_,importId:x}=m;return`featureset:${_}${x?`:import:${x}`:""}`}}(p.target)}`}function sr(p,r,l,m=""){if(p.uniqueFeatureID){const _=Nn(p,r,m);if(l.has(_))return!0;l.add(_)}return!1}function Wr(p,r,l,m,_=!1){const x=r.sourceCache.transform,E=r.sourceCache.tilesIn(p,r.has3DLayers,_);E.sort(Vi);const R=[];for(const F of E){const V=F.tile.queryRenderedFeatures(r,F,l,m,x,_);Object.keys(V).length&&R.push({wrappedTileID:F.tile.tileID.wrapped().key,queryResults:V})}return R.length===0?{}:function(F){const V={},U={};for(const Q of F){const ee=Q.queryResults,ce=Q.wrappedTileID,Pe=U[ce]=U[ce]||{};for(const Se in ee){const ze=ee[Se],Le=Pe[Se]=Pe[Se]||{},st=V[Se]=V[Se]||[];for(const St of ze)Le[St.featureIndex]||(Le[St.featureIndex]=!0,st.push(St))}}return V}(R)}function Pi(p,r,l,m,_){const x={},E=m.queryRenderedSymbols(p),R=[];for(const F of Object.keys(E).map(Number))R.push(_[F]);R.sort(Vi);for(const F of R){const V=F.featureIndex.lookupSymbolFeatures(E[F.bucketInstanceId],F.bucketIndex,F.sourceLayerIndex,r,l);for(const U in V){const Q=x[U]=x[U]||[],ee=V[U];ee.sort((ce,Pe)=>{const Se=F.featureSortOrder;if(Se){const ze=Se.indexOf(ce.featureIndex);return Se.indexOf(Pe.featureIndex)-ze}return Pe.featureIndex-ce.featureIndex});for(const ce of ee)Q.push(ce)}}return x}function Co(p,r){const l=p.getRenderableIds().map(x=>p.getTileByID(x)),m=[],_={};for(let x=0;x<l.length;x++){const E=l[x],R=E.tileID.canonical.key;_[R]||(_[R]=!0,E.querySourceFeatures(m,r))}return m}function Vi(p,r){const l=p.tileID,m=r.tileID;return l.overscaledZ-m.overscaledZ||l.canonical.y-m.canonical.y||l.wrap-m.wrap||l.canonical.x-m.canonical.x}function uo(p,r){const l={};if(!r)return l;for(const m of p){const _=m.layerIds.map(x=>r.getLayer(x)).filter(Boolean);if(_.length!==0){m.layers=_,m.stateDependentLayerIds&&(m.stateDependentLayers=m.stateDependentLayerIds.map(x=>_.filter(E=>E.id===x)[0]));for(const x of _)l[x.fqid]=m}}return l}const fo=32,Ki=33,Mo=new Uint16Array(8184);for(let p=0;p<2046;p++){let r=p+2,l=0,m=0,_=0,x=0,E=0,R=0;for(1&r?_=x=E=fo:l=m=R=fo;(r>>=1)>1;){const V=l+_>>1,U=m+x>>1;1&r?(_=l,x=m,l=E,m=R):(l=_,m=x,_=E,x=R),E=V,R=U}const F=4*p;Mo[F+0]=l,Mo[F+1]=m,Mo[F+2]=_,Mo[F+3]=x}const Zo=new Uint16Array(2178),Lo=new Uint8Array(1089),To=new Uint16Array(1089);function $o(p){return p===0?-.03125:p===32?.03125:0}const zo={type:2,extent:c.ag,loadGeometry:()=>[[new c.P(0,0),new c.P(c.ag+1,0),new c.P(c.ag+1,c.ag+1),new c.P(0,c.ag+1),new c.P(0,0)]]};class qo{constructor(r,l,m,_,x){this.tileID=r,this.uid=c.aV(),this.uses=0,this.tileSize=l,this.tileZoom=m,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.isRaster=x,_&&_.style&&(this._lastUpdatedBrightness=_.style.getBrightness()),this.expiredRequestCount=0,this.state="loading",_&&_.transform&&(this.projection=_.transform.projection)}registerFadeDuration(r){const l=r+this.timeAdded;l<c.q.now()||this.fadeEndTime&&l<this.fadeEndTime||(this.fadeEndTime=l)}wasRequested(){return this.state==="errored"||this.state==="loaded"||this.state==="reloading"}get tileTransform(){return this._tileTransform||(this._tileTransform=c.aQ(this.tileID.canonical,this.projection)),this._tileTransform}loadVectorData(r,l,m){if(this.unloadVectorData(),this.state="loaded",r){r.featureIndex&&(this.latestFeatureIndex=r.featureIndex,r.rawTileData?(this.latestRawTileData=r.rawTileData,this.latestFeatureIndex.rawTileData=r.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=r.collisionBoxArray,this.buckets=uo(r.buckets,l.style),this.hasSymbolBuckets=!1;for(const _ in this.buckets){const x=this.buckets[_];if(x instanceof c.aX){if(this.hasSymbolBuckets=!0,!m)break;x.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(const _ in this.buckets){const x=this.buckets[_];if(x instanceof c.aX&&x.hasRTLText){this.hasRTLText=!0,c.aY();break}}this.queryPadding=0;for(const _ in this.buckets){const x=this.buckets[_],E=l.style.getOwnLayer(_);if(!E)continue;const R=E.queryRadius(x);this.queryPadding=Math.max(this.queryPadding,R)}r.imageAtlas&&(this.imageAtlas=r.imageAtlas),r.glyphAtlasImage&&(this.glyphAtlasImage=r.glyphAtlasImage),r.lineAtlas&&(this.lineAtlas=r.lineAtlas),this._lastUpdatedBrightness=r.brightness}else this.collisionBoxArray=new c.aW}unloadVectorData(){if(this.hasData()){for(const r in this.buckets)this.buckets[r].destroy();this.buckets={},this.imageAtlas&&(this.imageAtlas=null),this.lineAtlas&&(this.lineAtlas=null),this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.lineAtlasTexture&&this.lineAtlasTexture.destroy(),this._tileBoundsBuffer&&(this._tileBoundsBuffer.destroy(),this._tileBoundsIndexBuffer.destroy(),this._tileBoundsSegments.destroy(),this._tileBoundsBuffer=null),this._tileDebugBuffer&&(this._tileDebugBuffer.destroy(),this._tileDebugSegments.destroy(),this._tileDebugBuffer=null),this._tileDebugIndexBuffer&&(this._tileDebugIndexBuffer.destroy(),this._tileDebugIndexBuffer=null),this._globeTileDebugBorderBuffer&&(this._globeTileDebugBorderBuffer.destroy(),this._globeTileDebugBorderBuffer=null),this._tileDebugTextBuffer&&(this._tileDebugTextBuffer.destroy(),this._tileDebugTextSegments.destroy(),this._tileDebugTextIndexBuffer.destroy(),this._tileDebugTextBuffer=null),this._globeTileDebugTextBuffer&&(this._globeTileDebugTextBuffer.destroy(),this._globeTileDebugTextBuffer=null),this.latestFeatureIndex=null,this.state="unloaded"}}loadModelData(r,l,m){r&&(r.resourceTiming&&(this.resourceTiming=r.resourceTiming),this.buckets=Object.assign({},this.buckets,uo(r.buckets,l.style)),r.featureIndex&&(this.latestFeatureIndex=r.featureIndex))}getBucket(r){return this.buckets[r.fqid]}upload(r){for(const _ in this.buckets){const x=this.buckets[_];x.uploadPending()&&x.upload(r)}const l=r.gl,m=this.imageAtlas;if(m&&!m.uploaded){const _=!!Object.keys(m.patternPositions).length;this.imageAtlasTexture=new c.T(r,m.image,l.RGBA8,{useMipmap:_}),this.imageAtlas.uploaded=!0}this.glyphAtlasImage&&(this.glyphAtlasTexture=new c.T(r,this.glyphAtlasImage,l.R8),this.glyphAtlasImage=null),this.lineAtlas&&!this.lineAtlas.uploaded&&(this.lineAtlasTexture=new c.T(r,this.lineAtlas.image,l.R8),this.lineAtlas.uploaded=!0)}prepare(r,l,m){if(this.imageAtlas&&this.imageAtlasTexture&&this.imageAtlas.patchUpdatedImages(r,this.imageAtlasTexture,m),!l||!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData)return;const _=l.style.getBrightness();(this._lastUpdatedBrightness||_)&&(this._lastUpdatedBrightness&&_&&Math.abs(this._lastUpdatedBrightness-_)<.001||(this.updateBuckets(l,this._lastUpdatedBrightness!==_),this._lastUpdatedBrightness=_))}queryRenderedFeatures(r,l,m,_,x,E){if(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData&&!this.latestFeatureIndex.is3DTile)return{};const R=function(F,V){const U=c.ab.mat4.fromScaling([],[.5*F.width,.5*-F.height,1]);return c.ab.mat4.translate(U,U,[1,-1,0]),c.ab.mat4.multiply(U,U,F.calculateProjMatrix(V.toUnwrapped())),Float32Array.from(U)}(x,this.tileID);return this.latestFeatureIndex.query(r,{tilespaceGeometry:l,pixelPosMatrix:R,transform:_,availableImages:m,tileTransform:this.tileTransform})}querySourceFeatures(r,l){const m=this.latestFeatureIndex;if(!m||!m.rawTileData)return;const _=m.loadVTLayers(),x=l?l.sourceLayer:"",E=_._geojsonTileLayer||_[x];if(!E)return;const R=c.aZ(l&&l.filter),{z:F,x:V,y:U}=this.tileID.canonical,Q={z:F,x:V,y:U};for(let ee=0;ee<E.length;ee++){const ce=E.feature(ee);if(R.needGeometry){const ze=c.a_(ce,!0);if(!R.filter(new c.a8(this.tileID.overscaledZ),ze,this.tileID.canonical))continue}else if(!R.filter(new c.a8(this.tileID.overscaledZ),ce))continue;const Pe=m.getId(ce,x),Se=new c.a$(ce,F,V,U,Pe);Se.tile=Q,r.push(Se)}}hasData(){return this.state==="loaded"||this.state==="reloading"||this.state==="expired"}patternsLoaded(){return!!this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length}setExpiryData(r){const l=this.expirationTime;if(r.cacheControl){const m=c.b0(r.cacheControl);m["max-age"]&&(this.expirationTime=Date.now()+1e3*m["max-age"])}else r.expires&&(this.expirationTime=new Date(r.expires).getTime());if(this.expirationTime){const m=Date.now();let _=!1;if(this.expirationTime>m)_=!1;else if(l)if(this.expirationTime<l)_=!0;else{const x=this.expirationTime-l;x?this.expirationTime=m+Math.max(x,3e4):_=!0}else _=!0;_?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}}getExpiryTimeout(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-new Date().getTime(),Math.pow(2,31)-1)}refreshFeatureState(r){this.latestFeatureIndex&&(this.latestFeatureIndex.rawTileData||this.latestFeatureIndex.is3DTile)&&r&&this.updateBuckets(r)}updateBuckets(r,l){if(!this.latestFeatureIndex||!r.style)return;const m=this.latestFeatureIndex.loadVTLayers(),_=r.style.listImages(),x=r.style.getBrightness();for(const E in this.buckets){if(!r.style.hasLayer(E))continue;const R=this.buckets[E],F=R.layers[0],V=F.sourceLayer||"_geojsonTileLayer",U=m[V],Q=r.style.getLayerSourceCache(F);let ee={};Q&&(ee=Q._state.getState(V,void 0));const ce=this.imageAtlas&&this.imageAtlas.patternPositions||{},Pe=Object.keys(ee).length>0&&!l;Pe&&!R.stateDependentLayers.length&&!l||R.update(ee,U,_,ce,Pe?R.stateDependentLayers:R.layers,l,x),(R instanceof c.b1||R instanceof c.b2)&&r._terrain&&r._terrain.enabled&&Q&&R.programConfigurations.needsUpload&&r._terrain._clearRenderCacheForTile(Q.id,this.tileID);const Se=r&&r.style&&r.style.getOwnLayer(E);Se&&(this.queryPadding=Math.max(this.queryPadding,Se.queryRadius(R)))}}holdingForFade(){return this.symbolFadeHoldUntil!==void 0}symbolFadeFinished(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<c.q.now()}clearFadeHold(){this.symbolFadeHoldUntil=void 0}setHoldDuration(r){this.symbolFadeHoldUntil=c.q.now()+r}setTexture(r,l){const m=l.context,_=m.gl;this.texture=this.texture||l.getTileTexture(r.width),this.texture&&this.texture instanceof c.T?this.texture.update(r):(this.texture=new c.T(m,r,_.RGBA8,{useMipmap:!0}),this.texture.bind(_.LINEAR,_.CLAMP_TO_EDGE))}setDependencies(r,l){const m={};for(const _ of l)m[_]=!0;this.dependencies[r]=m}hasDependency(r,l){for(const m of r){const _=this.dependencies[m];if(_){for(const x of l)if(_[x])return!0}}return!1}clearQueryDebugViz(){}_makeDebugTileBoundsBuffers(r,l){if(!l||l.name==="mercator"||this._tileDebugBuffer)return;const m=c.b3(zo,this.tileID.canonical,this.tileTransform)[0],_=new c.b4,x=new c.b5;for(let E=0;E<m.length;E++){const{x:R,y:F}=m[E];_.emplaceBack(R,F),x.emplaceBack(E)}x.emplaceBack(0),this._tileDebugIndexBuffer=r.createIndexBuffer(x),this._tileDebugBuffer=r.createVertexBuffer(_,c.b6.members),this._tileDebugSegments=c.b7.simpleSegment(0,0,_.length,x.length)}_makeTileBoundsBuffers(r,l){if(this._tileBoundsBuffer||!l||l.name==="mercator")return;const m=c.b3(zo,this.tileID.canonical,this.tileTransform)[0];let _,x;if(this.isRaster){const E=function(R,F){const V=c.aQ(R,F),U=Math.pow(2,R.z);for(let ze=0;ze<Ki;ze++)for(let Le=0;Le<Ki;Le++){const st=c.aR((R.x+(Le+$o(Le))/fo)/U),St=c.aS((R.y+(ze+$o(ze))/fo)/U),xt=F.project(st,St),Wt=ze*Ki+Le;Zo[2*Wt+0]=Math.round((xt.x*V.scale-V.x)*c.ag),Zo[2*Wt+1]=Math.round((xt.y*V.scale-V.y)*c.ag)}Lo.fill(0),To.fill(0);for(let ze=2045;ze>=0;ze--){const Le=4*ze,st=Mo[Le+0],St=Mo[Le+1],xt=Mo[Le+2],Wt=Mo[Le+3],zt=st+xt>>1,kt=St+Wt>>1,Lt=zt+kt-St,cn=kt+st-zt,Tn=St*Ki+st,hr=Wt*Ki+xt,nr=kt*Ki+zt,jr=Math.hypot((Zo[2*Tn+0]+Zo[2*hr+0])/2-Zo[2*nr+0],(Zo[2*Tn+1]+Zo[2*hr+1])/2-Zo[2*nr+1])>=16;Lo[nr]=Lo[nr]||(jr?1:0),ze<1022&&(Lo[nr]=Lo[nr]||Lo[(St+cn>>1)*Ki+(st+Lt>>1)]||Lo[(Wt+cn>>1)*Ki+(xt+Lt>>1)])}const Q=new c.aT,ee=new c.aU;let ce=0;function Pe(ze,Le){const st=Le*Ki+ze;return To[st]===0&&(Q.emplaceBack(Zo[2*st+0],Zo[2*st+1],ze*c.ag/fo,Le*c.ag/fo),To[st]=++ce),To[st]-1}function Se(ze,Le,st,St,xt,Wt){const zt=ze+st>>1,kt=Le+St>>1;if(Math.abs(ze-xt)+Math.abs(Le-Wt)>1&&Lo[kt*Ki+zt])Se(xt,Wt,ze,Le,zt,kt),Se(st,St,xt,Wt,zt,kt);else{const Lt=Pe(ze,Le),cn=Pe(st,St),Tn=Pe(xt,Wt);ee.emplaceBack(Lt,cn,Tn)}}return Se(0,0,fo,fo,fo,0),Se(fo,fo,0,0,0,fo),{vertices:Q,indices:ee}}(this.tileID.canonical,l);_=E.vertices,x=E.indices}else{_=new c.aT,x=new c.aU;for(const{x:R,y:F}of m)_.emplaceBack(R,F,0,0);const E=c.b8(_.int16,void 0,4);for(let R=0;R<E.length;R+=3)x.emplaceBack(E[R],E[R+1],E[R+2])}this._tileBoundsBuffer=r.createVertexBuffer(_,c.b9.members),this._tileBoundsIndexBuffer=r.createIndexBuffer(x),this._tileBoundsSegments=c.b7.simpleSegment(0,0,_.length,x.length)}_makeGlobeTileDebugBuffers(r,l){const m=l.projection;if(!m||m.name!=="globe"||l.freezeTileCoverage)return;const _=this.tileID.canonical,x=c.ba(_,l),E=c.bb(x),R=c.ae(l.zoom);let F;R>0&&(F=c.ab.mat4.invert(new Float64Array(16),l.globeMatrix)),this._makeGlobeTileDebugBorderBuffer(r,_,l,E,F,R),this._makeGlobeTileDebugTextBuffer(r,_,l,E,F,R)}_globePoint(r,l,m,_,x,E,R){let F=c.bc(r,l,m);if(E){const V=1<<m.z,U=c.at(_.center.lng),Q=c.aA(_.center.lat),ee=(m.x+.5)/V-U;let ce=0;ee>.5?ce=-1:ee<-.5&&(ce=1);let Pe=(r/c.ag+m.x)/V+ce,Se=(l/c.ag+m.y)/V;Pe=(Pe-U)*_._pixelsPerMercatorPixel+U,Se=(Se-Q)*_._pixelsPerMercatorPixel+Q;const ze=[Pe*_.worldSize,Se*_.worldSize,0];c.ab.vec3.transformMat4(ze,ze,E),F=c.bd(F,ze,R)}return c.ab.vec3.transformMat4(F,F,x)}_makeGlobeTileDebugBorderBuffer(r,l,m,_,x,E){const R=new c.b4,F=new c.b5,V=new c.be,U=(ee,ce,Pe,Se,ze)=>{const Le=(Pe-ee)/(ze-1),st=(Se-ce)/(ze-1),St=R.length;for(let xt=0;xt<ze;xt++){const Wt=ee+xt*Le,zt=ce+xt*st;R.emplaceBack(Wt,zt);const kt=this._globePoint(Wt,zt,l,m,_,x,E);V.emplaceBack(kt[0],kt[1],kt[2]),F.emplaceBack(St+xt)}},Q=c.ag;U(0,0,Q,0,16),U(Q,0,Q,Q,16),U(Q,Q,0,Q,16),U(0,Q,0,0,16),this._tileDebugIndexBuffer=r.createIndexBuffer(F),this._tileDebugBuffer=r.createVertexBuffer(R,c.b6.members),this._globeTileDebugBorderBuffer=r.createVertexBuffer(V,c.bf.members),this._tileDebugSegments=c.b7.simpleSegment(0,0,R.length,F.length)}_makeGlobeTileDebugTextBuffer(r,l,m,_,x,E){const R=c.ag/4,F=new c.b4,V=new c.aU,U=new c.be,Q=25;V.reserve(32),F.reserve(Q),U.reserve(Q);const ee=(ce,Pe)=>Q*ce+Pe;for(let ce=0;ce<Q;ce++){const Pe=ce*R;for(let Se=0;Se<Q;Se++){const ze=Se*R;F.emplaceBack(ze,Pe);const Le=this._globePoint(ze,Pe,l,m,_,x,E);U.emplaceBack(Le[0],Le[1],Le[2])}}for(let ce=0;ce<4;ce++)for(let Pe=0;Pe<4;Pe++){const Se=ee(ce,Pe),ze=ee(ce,Pe+1),Le=ee(ce+1,Pe),st=ee(ce+1,Pe+1);V.emplaceBack(Se,ze,Le),V.emplaceBack(Le,ze,st)}this._tileDebugTextIndexBuffer=r.createIndexBuffer(V),this._tileDebugTextBuffer=r.createVertexBuffer(F,c.b6.members),this._globeTileDebugTextBuffer=r.createVertexBuffer(U,c.bf.members),this._tileDebugTextSegments=c.b7.simpleSegment(0,0,Q,32)}destroy(r=!1){for(const l in this.buckets)this.buckets[l].destroy();this.buckets={},this.imageAtlas&&(this.imageAtlas=null),this.lineAtlas&&(this.lineAtlas=null),this.imageAtlasTexture&&(this.imageAtlasTexture.destroy(),delete this.imageAtlasTexture),this.glyphAtlasTexture&&(this.glyphAtlasTexture.destroy(),delete this.glyphAtlasTexture),this.lineAtlasTexture&&(this.lineAtlasTexture.destroy(),delete this.lineAtlasTexture),this._tileBoundsBuffer&&(this._tileBoundsBuffer.destroy(),this._tileBoundsIndexBuffer.destroy(),this._tileBoundsSegments.destroy(),this._tileBoundsBuffer=null),this._tileDebugBuffer&&(this._tileDebugBuffer.destroy(),this._tileDebugSegments.destroy(),this._tileDebugBuffer=null),this._tileDebugIndexBuffer&&(this._tileDebugIndexBuffer.destroy(),this._tileDebugIndexBuffer=null),this._globeTileDebugBorderBuffer&&(this._globeTileDebugBorderBuffer.destroy(),this._globeTileDebugBorderBuffer=null),this._tileDebugTextBuffer&&(this._tileDebugTextBuffer.destroy(),this._tileDebugTextSegments.destroy(),this._tileDebugTextIndexBuffer.destroy(),this._tileDebugTextBuffer=null),this._globeTileDebugTextBuffer&&(this._globeTileDebugTextBuffer.destroy(),this._globeTileDebugTextBuffer=null),!r&&this.texture&&this.texture instanceof c.T&&(this.texture.destroy(),delete this.texture),this.hillshadeFBO&&(this.hillshadeFBO.destroy(),delete this.hillshadeFBO),this.dem&&delete this.dem,this.neighboringTiles&&delete this.neighboringTiles,this.demTexture&&(this.demTexture.destroy(),delete this.demTexture),this.rasterParticleState&&(this.rasterParticleState.destroy(),delete this.rasterParticleState),this.latestFeatureIndex=null,this.state="unloaded"}}c.bg.setPbf(c.bh);class ho extends qo{constructor(r,l,m,_,x){super(r,l,m,_,x),this._workQueue=[],this._fetchQueue=[],this._isHeaderLoaded=!1}setTexture(r,l){const m=l.context,_=m.gl;this.texture=this.texture||l.getTileTexture(r.width),this.texture&&this.texture instanceof c.T?this.texture.update(r,{premultiply:!1}):this.texture=new c.T(m,r,_.RGBA8,{premultiply:!1})}flushQueues(){for(;this._workQueue.length;)this._workQueue.pop()();for(;this._fetchQueue.length;)this._fetchQueue.pop()()}fetchHeader(r=16384,l){const m=this._mrt=new c.bg(30),_=Object.assign({},this.requestParams,{headers:{Range:"bytes=0-"+(r-1)}});return this.entireBuffer=null,this.request=c.bi(_,(x,E,R,F)=>{if(x)l(x);else try{const V=m.getHeaderLength(E);if(V>r)return void(this.request=this.fetchHeader(V,l));m.parseHeader(E),this._isHeaderLoaded=!0;let U=0;for(const Q of Object.values(m.layers))U=Math.max(U,Q.dataIndex[Q.dataIndex.length-1].last_byte);E.byteLength>=U&&(this.entireBuffer=E),l(null,this.entireBuffer||E,R,F)}catch(V){l(V)}}),this.request}fetchBand(r,l,m){const _=this._mrt;if(!this._isHeaderLoaded||!_)return void m(new Error("Tile header is not ready"));const x=this.actor;if(!x)return void m(new Error("Can't fetch tile band without an actor"));let E;const R=(Q,ee)=>{E.complete(Q,ee),Q?m(Q):(this.updateTextureDescriptor(r,l),m(null,this.textureDescriptor&&this.textureDescriptor.img))},F=(Q,ee)=>{if(Q)return m(Q);const ce=x.send("decodeRasterArray",{buffer:ee,task:E},R,void 0,!0);this._workQueue.push(()=>{ce&&ce.cancel(),E.cancel()})},V=_.getLayer(r);if(!V)return void m(new Error(`Unknown sourceLayer "${r}"`));if(V.hasDataForBand(l))return this.updateTextureDescriptor(r,l),void m(null,this.textureDescriptor?this.textureDescriptor.img:null);const U=V.getDataRange([l]);if(E=_.createDecodingTask(U),!E||E.tasks.length)if(this.flushQueues(),this.entireBuffer)F(null,this.entireBuffer.slice(U.firstByte,U.lastByte+1));else{const Q=Object.assign({},this.requestParams,{headers:{Range:`bytes=${U.firstByte}-${U.lastByte}`}}),ee=c.bi(Q,F);this._fetchQueue.push(()=>{ee.cancel(),E.cancel()})}else m(null)}updateNeeded(r,l){return(!this.textureDescriptor||this.textureDescriptor.band!==l||this.textureDescriptor.layer!==r)&&this.state!=="errored"}updateTextureDescriptor(r,l){if(!this._mrt)return;const m=this._mrt.getLayer(r);if(!m||!m.hasBand(l)||!m.hasDataForBand(l))return;const{bytes:_,tileSize:x,buffer:E,offset:R,scale:F}=m.getBandView(l),V=x+2*E,U={data:_,width:V,height:V},Q=this.texture;Q&&Q instanceof c.T&&Q.update(U,{premultiply:!1}),this.textureDescriptor={layer:r,band:l,img:U,buffer:E,offset:R,tileSize:x,format:m.pixelFormat,mix:[F,256*F,65536*F,16777216*F]}}}class So{constructor(r,l){this.max=r,this.onRemove=l,this.reset()}reset(){for(const r in this.data)for(const l of this.data[r])l.timeout&&clearTimeout(l.timeout),this.onRemove(l.value);return this.data={},this.order=[],this}add(r,l,m){const _=r.wrapped().key;this.data[_]===void 0&&(this.data[_]=[]);const x={value:l,timeout:void 0};if(m!==void 0&&(x.timeout=setTimeout(()=>{this.remove(r,x)},m)),this.data[_].push(x),this.order.push(_),this.order.length>this.max){const E=this._getAndRemoveByKey(this.order[0]);E&&this.onRemove(E)}return this}has(r){return r.wrapped().key in this.data}getAndRemove(r){return this.has(r)?this._getAndRemoveByKey(r.wrapped().key):null}_getAndRemoveByKey(r){const l=this.data[r].shift();return l.timeout&&clearTimeout(l.timeout),this.data[r].length===0&&delete this.data[r],this.order.splice(this.order.indexOf(r),1),l.value}getByKey(r){const l=this.data[r];return l?l[0].value:null}get(r){return this.has(r)?this.data[r.wrapped().key][0].value:null}remove(r,l){if(!this.has(r))return this;const m=r.wrapped().key,_=l===void 0?0:this.data[m].indexOf(l),x=this.data[m][_];return this.data[m].splice(_,1),x.timeout&&clearTimeout(x.timeout),this.data[m].length===0&&delete this.data[m],this.onRemove(x.value),this.order.splice(this.order.indexOf(m),1),this}setMaxSize(r){for(this.max=r;this.order.length>this.max;){const l=this._getAndRemoveByKey(this.order[0]);l&&this.onRemove(l)}return this}filter(r){const l=[];for(const m in this.data)for(const _ of this.data[m])r(_.value)||l.push(_);for(const m of l)this.remove(m.value.tileID,m)}}class wo{constructor(){this.state={},this.stateChanges={},this.deletedStates={}}updateState(r,l,m){const _=String(l);if(this.stateChanges[r]=this.stateChanges[r]||{},this.stateChanges[r][_]=this.stateChanges[r][_]||{},c.l(this.stateChanges[r][_],m),this.deletedStates[r]===null){this.deletedStates[r]={};for(const x in this.state[r])x!==_&&(this.deletedStates[r][x]=null)}else if(this.deletedStates[r]&&this.deletedStates[r][_]===null){this.deletedStates[r][_]={};for(const x in this.state[r][_])m[x]||(this.deletedStates[r][_][x]=null)}else for(const x in m)this.deletedStates[r]&&this.deletedStates[r][_]&&this.deletedStates[r][_][x]===null&&delete this.deletedStates[r][_][x]}removeFeatureState(r,l,m){if(this.deletedStates[r]===null)return;const _=String(l);if(this.deletedStates[r]=this.deletedStates[r]||{},m&&l!==void 0)this.deletedStates[r][_]!==null&&(this.deletedStates[r][_]=this.deletedStates[r][_]||{},this.deletedStates[r][_][m]=null);else if(l!==void 0)if(this.stateChanges[r]&&this.stateChanges[r][_])for(m in this.deletedStates[r][_]={},this.stateChanges[r][_])this.deletedStates[r][_][m]=null;else this.deletedStates[r][_]=null;else this.deletedStates[r]=null}getState(r,l){const m=this.state[r]||{},_=this.stateChanges[r]||{},x=this.deletedStates[r];if(x===null)return{};if(l!==void 0){const R=String(l),F=c.l({},m[R],_[R]);if(x){const V=x[l];if(V===null)return{};for(const U in V)delete F[U]}return F}const E=c.l({},m,_);if(x)for(const R in x)delete E[R];return E}initializeTileState(r,l){r.refreshFeatureState(l)}coalesceChanges(r,l){const m={};for(const _ in this.stateChanges){this.state[_]=this.state[_]||{};const x={};for(const E in this.stateChanges[_])this.state[_][E]||(this.state[_][E]={}),c.l(this.state[_][E],this.stateChanges[_][E]),x[E]=this.state[_][E];m[_]=x}for(const _ in this.deletedStates){this.state[_]=this.state[_]||{};const x={};if(this.deletedStates[_]===null)for(const E in this.state[_])x[E]={},this.state[_][E]={};else for(const E in this.deletedStates[_]){if(this.deletedStates[_][E]===null)this.state[_][E]={};else if(this.state[_][E])for(const R of Object.keys(this.deletedStates[_][E]))delete this.state[_][E][R];x[E]=this.state[_][E]}m[_]=m[_]||{},c.l(m[_],x)}if(this.stateChanges={},this.deletedStates={},Object.keys(m).length!==0)for(const _ in r)r[_].refreshFeatureState(l)}}class K extends c.E{constructor(r,l,m){super(),this.id=r,this._onlySymbols=m,l.on("data",_=>{_.dataType==="source"&&_.sourceDataType==="metadata"&&(this._sourceLoaded=!0),this._sourceLoaded&&!this._paused&&_.dataType==="source"&&_.sourceDataType==="content"&&(this.reload(),this.transform&&this.update(this.transform))}),l.on("error",()=>{this._sourceErrored=!0}),this._source=l,this._tiles={},this._cache=new So(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._minTileCacheSize=l.minTileCacheSize,this._maxTileCacheSize=l.maxTileCacheSize,this._loadedParentTiles={},this.castsShadows=!1,this.tileCoverLift=0,this._coveredTiles={},this._shadowCasterTiles={},this._state=new wo,this._isRaster=this._source.type==="raster"||this._source.type==="raster-dem"||this._source.type==="raster-array"||this._source.type==="custom"&&this._source._dataType==="raster"}onAdd(r){this.map=r,this._minTileCacheSize=this._minTileCacheSize===void 0&&r?r._minTileCacheSize:this._minTileCacheSize,this._maxTileCacheSize=this._maxTileCacheSize===void 0&&r?r._maxTileCacheSize:this._maxTileCacheSize}loaded(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;for(const r in this._tiles){const l=this._tiles[r];if(l.state!=="loaded"&&l.state!=="errored")return!1}return!0}getSource(){return this._source}pause(){this._paused=!0}resume(){if(!this._paused)return;const r=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,r&&this.reload(),this.transform&&this.update(this.transform)}_loadTile(r,l){return r.isSymbolTile=this._onlySymbols,r.isExtraShadowCaster=this._shadowCasterTiles[r.tileID.key],this._source.loadTile(r,l)}_unloadTile(r){if(this._source.unloadTile)return this._source.unloadTile(r)}_abortTile(r){if(this._source.abortTile)return this._source.abortTile(r)}serialize(){return this._source.serialize()}prepare(r){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(const l in this._tiles){const m=this._tiles[l];m.upload(r),m.prepare(this.map.style.imageManager,this.map?this.map.painter:null,this._source.scope)}}getIds(){return c.bj(this._tiles).map(r=>r.tileID).sort(_e).map(r=>r.key)}getRenderableIds(r,l){const m=[];for(const _ in this._tiles)this._isIdRenderable(+_,r,l)&&m.push(this._tiles[_]);return r?m.sort((_,x)=>{const E=_.tileID,R=x.tileID,F=new c.P(E.canonical.x,E.canonical.y)._rotate(this.transform.angle),V=new c.P(R.canonical.x,R.canonical.y)._rotate(this.transform.angle);return E.overscaledZ-R.overscaledZ||V.y-F.y||V.x-F.x}).map(_=>_.tileID.key):m.map(_=>_.tileID).sort(_e).map(_=>_.key)}hasRenderableParent(r){const l=this.findLoadedParent(r,0);return!!l&&this._isIdRenderable(l.tileID.key)}_isIdRenderable(r,l,m){return this._tiles[r]&&this._tiles[r].hasData()&&!this._coveredTiles[r]&&(l||!this._tiles[r].holdingForFade())&&(m||!this._shadowCasterTiles[r])}reload(){if(this._paused)this._shouldReloadOnResume=!0;else{this._cache.reset();for(const r in this._tiles)this._tiles[r].state!=="errored"&&this._reloadTile(+r,"reloading")}}_reloadTile(r,l){const m=this._tiles[r];m&&(m.state!=="loading"&&(m.state=l),this._loadTile(m,this._tileLoaded.bind(this,m,r,l)))}_tileLoaded(r,l,m,_){if(_)if(r.state="errored",_.status!==404)this._source.fire(new c.y(_,{tile:r}));else{if(this._source.fire(new c.z("data",{dataType:"source",sourceDataType:"error",sourceId:this._source.id,tile:r})),!(r.tileID.key in this._loadedParentTiles))return;if(this._source.type==="raster-dem"&&this.usedForTerrain&&this.map.painter.terrain){const x=this.map.painter.terrain;this.update(this.transform,x.getScaledDemTileSize(),!0),x.resetTileLookupCache(this.id)}else this.update(this.transform)}else r.timeAdded=c.q.now(),m==="expired"&&(r.refreshedUponExpiration=!0),this._setTileReloadTimer(l,r),this._source.type==="raster-dem"&&r.dem&&this._backfillDEM(r),this._state.initializeTileState(r,this.map?this.map.painter:null),this._source.fire(new c.z("data",{dataType:"source",tile:r,coord:r.tileID,sourceCacheId:this.id}))}_backfillDEM(r){const l=this.getRenderableIds();for(let _=0;_<l.length;_++){const x=l[_];if(r.neighboringTiles&&r.neighboringTiles[x]){const E=this.getTileByID(x);m(r,E),m(E,r)}}function m(_,x){if(!_.dem||_.dem.borderReady)return;_.needsHillshadePrepare=!0,_.needsDEMTextureUpload=!0;let E=x.tileID.canonical.x-_.tileID.canonical.x;const R=x.tileID.canonical.y-_.tileID.canonical.y,F=Math.pow(2,_.tileID.canonical.z),V=x.tileID.key;E===0&&R===0||Math.abs(R)>1||(Math.abs(E)>1&&(Math.abs(E+F)===1?E+=F:Math.abs(E-F)===1&&(E-=F)),x.dem&&_.dem&&(_.dem.backfillBorder(x.dem,E,R),_.neighboringTiles&&_.neighboringTiles[V]&&(_.neighboringTiles[V].backfilled=!0)))}}getTile(r){return this.getTileByID(r.key)}getTileByID(r){return this._tiles[r]}_retainLoadedChildren(r,l,m,_){for(const x in this._tiles){let E=this._tiles[x];if(_[x]||!E.hasData()||E.tileID.overscaledZ<=l||E.tileID.overscaledZ>m)continue;let R=E.tileID;for(;E&&E.tileID.overscaledZ>l+1;){const V=E.tileID.scaledTo(E.tileID.overscaledZ-1);E=this._tiles[V.key],E&&E.hasData()&&(R=V)}let F=R;for(;F.overscaledZ>l;)if(F=F.scaledTo(F.overscaledZ-1),r[F.key]){_[R.key]=R;break}}}findLoadedParent(r,l){if(r.key in this._loadedParentTiles){const m=this._loadedParentTiles[r.key];return m&&m.tileID.overscaledZ>=l?m:null}for(let m=r.overscaledZ-1;m>=l;m--){const _=r.scaledTo(m),x=this._getLoadedTile(_);if(x)return x}}_getLoadedTile(r){const l=this._tiles[r.key];return l&&l.hasData()?l:this._cache.getByKey(this._source.reparseOverscaled?r.wrapped().key:r.canonical.key)}updateCacheSize(r,l){l=l||this._source.tileSize;const m=Math.ceil(r.width/l)+1,_=Math.ceil(r.height/l)+1,x=Math.floor(m*_*5),E=typeof this._minTileCacheSize=="number"?Math.max(this._minTileCacheSize,x):x,R=typeof this._maxTileCacheSize=="number"?Math.min(this._maxTileCacheSize,E):E;this._cache.setMaxSize(R)}handleWrapJump(r){const l=Math.round((r-(this._prevLng===void 0?r:this._prevLng))/360);if(this._prevLng=r,l){const m={};for(const _ in this._tiles){const x=this._tiles[_];x.tileID=x.tileID.unwrapTo(x.tileID.wrap+l),m[x.tileID.key]=x}this._tiles=m;for(const _ in this._timers)clearTimeout(this._timers[_]),delete this._timers[_];for(const _ in this._tiles)this._setTileReloadTimer(+_,this._tiles[_])}}update(r,l,m,_){if(this.transform=r,!this._sourceLoaded||this._paused||this.transform.freezeTileCoverage||this.usedForTerrain&&!m)return;this.updateCacheSize(r,l),this.transform.projection.name!=="globe"&&this.handleWrapJump(this.transform.center.lng),this._shadowCasterTiles={},this._coveredTiles={};const x=this._source.type==="batched-model";let E,R=this._source.maxzoom;const F=this.map&&this.map.painter?this.map.painter._terrain:null;if(F&&F.sourceCache===this&&F.attenuationRange()){const Q=F.attenuationRange()[0],ee=Math.floor(Q)-Math.log2(F.getDemUpscale());R>ee&&(R=ee)}if(this.used||this.usedForTerrain){if(this._source.tileID)E=r.getVisibleUnwrappedCoordinates(this._source.tileID).map(Q=>new c.aG(Q.canonical.z,Q.wrap,Q.canonical.z,Q.canonical.x,Q.canonical.y));else if(this.tileCoverLift!==0){const Q=r.clone();Q.tileCoverLift=this.tileCoverLift,E=Q.coveringTiles({tileSize:l||this._source.tileSize,minzoom:this._source.minzoom,maxzoom:R,roundZoom:this._source.roundZoom&&!m,reparseOverscaled:this._source.reparseOverscaled,isTerrainDEM:this.usedForTerrain,calculateQuadrantVisibility:x}),this._source.minzoom<=1&&r.projection.name==="globe"&&(E.push(new c.aG(1,0,1,0,0)),E.push(new c.aG(1,0,1,1,0)),E.push(new c.aG(1,0,1,0,1)),E.push(new c.aG(1,0,1,1,1)))}else if(E=r.coveringTiles({tileSize:l||this._source.tileSize,minzoom:this._source.minzoom,maxzoom:R,roundZoom:this._source.roundZoom&&!m,reparseOverscaled:this._source.reparseOverscaled,isTerrainDEM:this.usedForTerrain,calculateQuadrantVisibility:x}),this._source.hasTile){const Q=this._source.hasTile.bind(this._source);E=E.filter(ee=>Q(ee))}}else E=[];if(E.length>0&&this.castsShadows&&_&&this.transform.projection.name!=="globe"&&!this.usedForTerrain&&!Ct(this._source.type)){const Q=r.coveringZoomLevel({tileSize:l||this._source.tileSize,roundZoom:this._source.roundZoom&&!m}),ee=Math.min(Q,this._source.maxzoom);if(x){const ce=r.extendTileCover(E,ee);for(const Pe of ce)E.push(Pe)}else{const ce=r.extendTileCover(E,ee,_);for(const Pe of ce)this._shadowCasterTiles[Pe.key]=!0,E.push(Pe)}}const V=this._updateRetainedTiles(E);if(Ct(this._source.type)&&E.length!==0){const Q={},ee={},ce=Object.keys(V);for(const Se of ce){const ze=V[Se],Le=this._tiles[Se];if(!Le||Le.fadeEndTime&&Le.fadeEndTime<=c.q.now())continue;const st=this.findLoadedParent(ze,Math.max(ze.overscaledZ-K.maxOverzooming,this._source.minzoom));st&&(this._addTile(st.tileID),Q[st.tileID.key]=st.tileID),ee[Se]=ze}const Pe=E[E.length-1].overscaledZ;for(const Se in this._tiles){const ze=this._tiles[Se];if(V[Se]||!ze.hasData())continue;let Le=ze.tileID;for(;Le.overscaledZ>Pe;){Le=Le.scaledTo(Le.overscaledZ-1);const st=this._tiles[Le.key];if(st&&st.hasData()&&ee[Le.key]){V[Se]=ze.tileID;break}}}for(const Se in Q)V[Se]||(this._coveredTiles[Se]=!0,V[Se]=Q[Se])}for(const Q in V)this._tiles[Q].clearFadeHold();const U=c.bk(this._tiles,V);for(const Q of U){const ee=this._tiles[Q];ee.hasSymbolBuckets&&!ee.holdingForFade()?ee.setHoldDuration(this.map._fadeDuration):ee.hasSymbolBuckets&&!ee.symbolFadeFinished()||this._removeTile(+Q)}this._updateLoadedParentTileCache(),this._onlySymbols&&this._source.afterUpdate&&this._source.afterUpdate()}releaseSymbolFadeTiles(){for(const r in this._tiles)this._tiles[r].holdingForFade()&&this._removeTile(+r)}_updateRetainedTiles(r){const l={};if(r.length===0)return l;const m={},_=r.reduce((V,U)=>Math.min(V,U.overscaledZ),1/0),x=r[0].overscaledZ,E=Math.max(x-K.maxOverzooming,this._source.minzoom),R=Math.max(x+K.maxUnderzooming,this._source.minzoom),F={};for(const V of r){const U=this._addTile(V);l[V.key]=V,U.hasData()||_<this._source.maxzoom&&(F[V.key]=V)}this._retainLoadedChildren(F,_,R,l);for(const V of r){let U=this._tiles[V.key];if(U.hasData())continue;if(V.canonical.z>=this._source.maxzoom){const ee=V.children(this._source.maxzoom)[0],ce=this.getTile(ee);if(ce&&ce.hasData()){l[ee.key]=ee;continue}}else{const ee=V.children(this._source.maxzoom);if(l[ee[0].key]&&l[ee[1].key]&&l[ee[2].key]&&l[ee[3].key])continue}let Q=U.wasRequested();for(let ee=V.overscaledZ-1;ee>=E;--ee){const ce=V.scaledTo(ee);if(m[ce.key]||(m[ce.key]=!0,U=this.getTile(ce),!U&&Q&&(U=this._addTile(ce)),U&&(l[ce.key]=ce,Q=U.wasRequested(),U.hasData())))break}}return l}_updateLoadedParentTileCache(){this._loadedParentTiles={};for(const r in this._tiles){const l=[];let m,_=this._tiles[r].tileID;for(;_.overscaledZ>0;){if(_.key in this._loadedParentTiles){m=this._loadedParentTiles[_.key];break}l.push(_.key);const x=_.scaledTo(_.overscaledZ-1);if(m=this._getLoadedTile(x),m)break;_=x}for(const x of l)this._loadedParentTiles[x]=m}}_addTile(r){let l=this._tiles[r.key];if(l)return l.isExtraShadowCaster!==!0||this._shadowCasterTiles[r.key]||this._reloadTile(r.key,"reloading"),l;l=this._cache.getAndRemove(r),l&&(this._setTileReloadTimer(r.key,l),l.tileID=r,this._state.initializeTileState(l,this.map?this.map.painter:null),this._cacheTimers[r.key]&&(clearTimeout(this._cacheTimers[r.key]),delete this._cacheTimers[r.key],this._setTileReloadTimer(r.key,l)));const m=!!l;if(!m){const _=this.map?this.map.painter:null,x=this._source.tileSize*r.overscaleFactor();l=this._source.type==="raster-array"?new ho(r,x,this.transform.tileZoom,_,this._isRaster):new qo(r,x,this.transform.tileZoom,_,this._isRaster),this._loadTile(l,this._tileLoaded.bind(this,l,r.key,l.state))}return l?(l.uses++,this._tiles[r.key]=l,m||this._source.fire(new c.z("dataloading",{tile:l,coord:l.tileID,dataType:"source"})),l):null}_setTileReloadTimer(r,l){r in this._timers&&(clearTimeout(this._timers[r]),delete this._timers[r]);const m=l.getExpiryTimeout();m&&(this._timers[r]=setTimeout(()=>{this._reloadTile(r,"expired"),delete this._timers[r]},m))}_removeTile(r){const l=this._tiles[r];l&&(l.uses--,delete this._tiles[r],this._timers[r]&&(clearTimeout(this._timers[r]),delete this._timers[r]),l.uses>0||(l.hasData()&&l.state!=="reloading"||l.state==="empty"?this._cache.add(l.tileID,l,l.getExpiryTimeout()):(l.aborted=!0,this._abortTile(l),this._unloadTile(l))))}clearTiles(){this._shouldReloadOnResume=!1,this._paused=!1;for(const r in this._tiles)this._removeTile(+r);this._source._clear&&this._source._clear(),this._cache.reset(),this.map&&this.usedForTerrain&&this.map.painter.terrain&&this.map.painter.terrain.resetTileLookupCache(this.id)}tilesIn(r,l,m){const _=[],x=this.transform;if(!x)return _;const E=x.projection.name==="globe",R=c.at(x.center.lng);for(const F in this._tiles){const V=this._tiles[F];if(m&&V.clearQueryDebugViz(),V.holdingForFade())continue;let U;if(E){const Q=V.tileID.canonical;if(Q.z===0){const ee=[Math.abs(c.aw(R,...Et(Q,-1))-R),Math.abs(c.aw(R,...Et(Q,1))-R)];U=[0,2*ee.indexOf(Math.min(...ee))-1]}else{const ee=[Math.abs(c.aw(R,...Et(Q,-1))-R),Math.abs(c.aw(R,...Et(Q,0))-R),Math.abs(c.aw(R,...Et(Q,1))-R)];U=[ee.indexOf(Math.min(...ee))-1]}}else U=[0];for(const Q of U){const ee=r.containsTile(V,x,l,Q);ee&&_.push(ee)}}return _}getShadowCasterCoordinates(){return this._getRenderableCoordinates(!1,!0)}getVisibleCoordinates(r){return this._getRenderableCoordinates(r)}_getRenderableCoordinates(r,l){const m=this.getRenderableIds(r,l).map(x=>this._tiles[x].tileID),_=this.transform.projection.name==="globe";for(const x of m)x.projMatrix=this.transform.calculateProjMatrix(x.toUnwrapped()),x.expandedProjMatrix=_?this.transform.calculateProjMatrix(x.toUnwrapped(),!1,!0):x.projMatrix;return m}sortCoordinatesByDistance(r){const l=r.slice(),m=this.transform._camera.position,_=this.transform._camera.forward(),x={};for(const E of l){const R=1/(1<<E.canonical.z);x[E.key]=((E.canonical.x+.5)*R+E.wrap-m[0])*_[0]+((E.canonical.y+.5)*R-m[1])*_[1]-m[2]*_[2]}return l.sort((E,R)=>x[E.key]-x[R.key]),l}hasTransition(){if(this._source.hasTransition())return!0;if(Ct(this._source.type))for(const r in this._tiles){const l=this._tiles[r];if(l.fadeEndTime!==void 0&&l.fadeEndTime>=c.q.now())return!0}return!1}setFeatureState(r,l,m){this._state.updateState(r=r||"_geojsonTileLayer",l,m)}removeFeatureState(r,l,m){this._state.removeFeatureState(r=r||"_geojsonTileLayer",l,m)}getFeatureState(r,l){return this._state.getState(r=r||"_geojsonTileLayer",l)}setDependencies(r,l,m){const _=this._tiles[r];_&&_.setDependencies(l,m)}reloadTilesForDependencies(r,l){for(const m in this._tiles)this._tiles[m].hasDependency(r,l)&&this._reloadTile(+m,"reloading");this._cache.filter(m=>!m.hasDependency(r,l))}_preloadTiles(r,l){if(!this._sourceLoaded){const F=()=>{this._sourceLoaded&&(this._source.off("data",F),this._preloadTiles(r,l))};return void this._source.on("data",F)}const m=new Map,_=Array.isArray(r)?r:[r],x=this.map.painter.terrain,E=this.usedForTerrain&&x?x.getScaledDemTileSize():this._source.tileSize;for(const F of _){const V=F.coveringTiles({tileSize:E,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom&&!this.usedForTerrain,reparseOverscaled:this._source.reparseOverscaled,isTerrainDEM:this.usedForTerrain});for(const U of V)m.set(U.key,U);this.usedForTerrain&&F.updateElevation(!1)}const R=Array.from(m.values());c.bl(R,(F,V)=>{const U=new qo(F,this._source.tileSize*F.overscaleFactor(),this.transform.tileZoom,this.map.painter,this._isRaster);this._loadTile(U,Q=>{this._source.type==="raster-dem"&&U.dem&&this._backfillDEM(U),V(Q,U)})},l)}}function _e(p,r){const l=Math.abs(2*p.wrap)-+(p.wrap<0),m=Math.abs(2*r.wrap)-+(r.wrap<0);return p.overscaledZ-r.overscaledZ||m-l||r.canonical.y-p.canonical.y||r.canonical.x-p.canonical.x}function Ct(p){return p==="raster"||p==="image"||p==="video"||p==="custom"}function Et(p,r){const l=1<<p.z;return[p.x/l+r,(p.x+1)/l+r]}K.maxOverzooming=10,K.maxUnderzooming=3;class En{constructor(r){this.style=r,this.layersGotHidden=!1,this.layers=[]}processLayersChanged(){this.layers=[];const r=!1,l=!1;for(const m in this.style._mergedLayers){const _=this.style._mergedLayers[m];if(_.type==="fill-extrusion")this.layers.push({layer:_,visible:r,visibilityChanged:l});else if(_.type==="model"){const x=this.style.getLayerSource(_);x&&x.type==="batched-model"&&this.layers.push({layer:_,visible:r,visibilityChanged:l})}}}onNewFrame(r){this.layersGotHidden=!1;for(const l of this.layers){const m=l.layer;let _=!1;m.type==="fill-extrusion"?_=!m.isHidden(r)&&m.paint.get("fill-extrusion-opacity")>0:m.type==="model"&&(_=!m.isHidden(r)&&m.paint.get("model-opacity").constantOr(1)>0),this.layersGotHidden=this.layersGotHidden||!_&&l.visible,l.visible=_}}updateZOffset(r,l){this.currentBuildingBuckets=[];for(const _ of this.layers){const x=_.layer,E=this.style.getLayerSourceCache(x);let R=1;x.type==="fill-extrusion"&&(R=_.visible?x.paint.get("fill-extrusion-vertical-scale"):0);let F=E?E.getTile(l):null;if(!F&&E&&l.canonical.z>E.getSource().minzoom){let V=l.scaledTo(Math.min(E.getSource().maxzoom,l.overscaledZ-1));for(;V.overscaledZ>=E.getSource().minzoom&&(F=E.getTile(V),!F&&V.overscaledZ!==0);)V=V.scaledTo(V.overscaledZ-1)}this.currentBuildingBuckets.push({bucket:F?F.getBucket(x):null,tileID:F?F.tileID:l,verticalScale:R})}r.hasAnyZOffset=!1;let m=!1;for(let _=0;_<r.symbolInstances.length;_++){const x=r.symbolInstances.get(_),E=x.zOffset,R=this._getHeightAtTileOffset(l,x.tileAnchorX,x.tileAnchorY);x.zOffset=R!==Number.NEGATIVE_INFINITY?R:E,m||E===x.zOffset||(m=!0),r.hasAnyZOffset||x.zOffset===0||(r.hasAnyZOffset=!0)}m&&(r.zOffsetBuffersNeedUpload=!0,r.zOffsetSortDirty=!0)}_mapCoordToOverlappingTile(r,l,m,_){let x=l,E=m;if(r.canonical.z!==_.canonical.z){const R=_.canonical,F=1/(1<<r.canonical.z-R.z);x=(l+r.canonical.x*c.ag)*F-R.x*c.ag|0,E=(m+r.canonical.y*c.ag)*F-R.y*c.ag|0}return{tileX:x,tileY:E}}_getHeightAtTileOffset(r,l,m){let _,x;for(let E=0;E<this.layers.length;++E){if(this.layers[E].layer.type!=="fill-extrusion")continue;const{bucket:R,tileID:F,verticalScale:V}=this.currentBuildingBuckets[E];if(!R)continue;const{tileX:U,tileY:Q}=this._mapCoordToOverlappingTile(r,l,m,F),ee=R.getHeightAtTileCoord(U,Q);ee&&ee.height!==void 0&&(ee.hidden?_=ee.height:x=Math.max(ee.height*V,x||0))}if(x!==void 0)return x;for(let E=0;E<this.layers.length;++E){const R=this.layers[E];if(R.layer.type!=="model"||!R.visible)continue;const{bucket:F,tileID:V}=this.currentBuildingBuckets[E];if(!F)continue;const{tileX:U,tileY:Q}=this._mapCoordToOverlappingTile(r,l,m,V),ee=F.getHeightAtTileCoord(U,Q);if(ee&&!ee.hidden)return ee.height===void 0&&_!==void 0?Math.min(ee.maxHeight,_)*ee.verticalScale:ee.height?ee.height*ee.verticalScale:Number.NEGATIVE_INFINITY}return this.layersGotHidden?0:Number.NEGATIVE_INFINITY}}function Qn(p,r){const l={};for(const m in p)m!=="ref"&&(l[m]=p[m]);return c.bm.forEach(m=>{m in r&&(l[m]=r[m])}),l}function si(p){p=p.slice();const r=Object.create(null);for(let l=0;l<p.length;l++)r[p[l].id]=p[l];for(let l=0;l<p.length;l++)"ref"in p[l]&&(p[l]=Qn(p[l],r[p[l].ref]));return p}const Or={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setSlot:"setSlot",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight",setTerrain:"setTerrain",setFog:"setFog",setSnow:"setSnow",setRain:"setRain",setCamera:"setCamera",setLights:"setLights",setProjection:"setProjection",addImport:"addImport",removeImport:"removeImport",updateImport:"updateImport"};function Ri(p,r,l){l.push({command:Or.addSource,args:[p,r[p]]})}function _o(p,r,l){r.push({command:Or.removeSource,args:[p]}),l[p]=!0}function Lr(p,r,l,m){_o(p,l,m),Ri(p,r,l)}function Ji(p,r,l){let m;for(m in p[l])if(p[l].hasOwnProperty(m)&&m!=="data"&&!c.bn(p[l][m],r[l][m]))return!1;for(m in r[l])if(r[l].hasOwnProperty(m)&&m!=="data"&&!c.bn(p[l][m],r[l][m]))return!1;return!0}function zr(p,r,l,m,_,x){let E;for(E in r=r||{},p=p||{})p.hasOwnProperty(E)&&(c.bn(p[E],r[E])||l.push({command:x,args:[m,E,r[E],_]}));for(E in r)r.hasOwnProperty(E)&&!p.hasOwnProperty(E)&&(c.bn(p[E],r[E])||l.push({command:x,args:[m,E,r[E],_]}))}function Si(p){return p.id}function ai(p,r){return p[r.id]=r,p}class mi{constructor(r,l){this.reset(r,l)}reset(r,l){this.points=r||[],this._distances=[0];for(let m=1;m<this.points.length;m++)this._distances[m]=this._distances[m-1]+this.points[m].dist(this.points[m-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(l||0,.5*this.length),this.paddedLength=this.length-2*this.padding}lerp(r){if(this.points.length===1)return this.points[0];r=c.aw(r,0,1);let l=1,m=this._distances[l];const _=r*this.paddedLength+this.padding;for(;m<_&&l<this._distances.length;)m=this._distances[++l];const x=l-1,E=this._distances[x],R=m-E,F=R>0?(_-E)/R:0;return this.points[x].mult(1-F).add(this.points[l].mult(F))}}class Xo{constructor(r,l,m){const _=this.boxCells=[],x=this.circleCells=[];this.xCellCount=Math.ceil(r/m),this.yCellCount=Math.ceil(l/m);for(let E=0;E<this.xCellCount*this.yCellCount;E++)_.push([]),x.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=r,this.height=l,this.xScale=this.xCellCount/r,this.yScale=this.yCellCount/l,this.boxUid=0,this.circleUid=0}keysLength(){return this.boxKeys.length+this.circleKeys.length}insert(r,l,m,_,x){this._forEachCell(l,m,_,x,this._insertBoxCell,this.boxUid++),this.boxKeys.push(r),this.bboxes.push(l),this.bboxes.push(m),this.bboxes.push(_),this.bboxes.push(x)}insertCircle(r,l,m,_){this._forEachCell(l-_,m-_,l+_,m+_,this._insertCircleCell,this.circleUid++),this.circleKeys.push(r),this.circles.push(l),this.circles.push(m),this.circles.push(_)}_insertBoxCell(r,l,m,_,x,E){this.boxCells[x].push(E)}_insertCircleCell(r,l,m,_,x,E){this.circleCells[x].push(E)}_query(r,l,m,_,x,E){if(m<0||r>this.width||_<0||l>this.height)return!x&&[];const R=[];if(r<=0&&l<=0&&this.width<=m&&this.height<=_){if(x)return!0;for(let F=0;F<this.boxKeys.length;F++)R.push({key:this.boxKeys[F],x1:this.bboxes[4*F],y1:this.bboxes[4*F+1],x2:this.bboxes[4*F+2],y2:this.bboxes[4*F+3]});for(let F=0;F<this.circleKeys.length;F++){const V=this.circles[3*F],U=this.circles[3*F+1],Q=this.circles[3*F+2];R.push({key:this.circleKeys[F],x1:V-Q,y1:U-Q,x2:V+Q,y2:U+Q})}return E?R.filter(E):R}return this._forEachCell(r,l,m,_,this._queryCell,R,{hitTest:x,seenUids:{box:{},circle:{}}},E),x?R.length>0:R}_queryCircle(r,l,m,_,x){const E=r-m,R=r+m,F=l-m,V=l+m;if(R<0||E>this.width||V<0||F>this.height)return!_&&[];const U=[];return this._forEachCell(E,F,R,V,this._queryCellCircle,U,{hitTest:_,circle:{x:r,y:l,radius:m},seenUids:{box:{},circle:{}}},x),_?U.length>0:U}query(r,l,m,_,x){return this._query(r,l,m,_,!1,x)}hitTest(r,l,m,_,x){return this._query(r,l,m,_,!0,x)}hitTestCircle(r,l,m,_){return this._queryCircle(r,l,m,!0,_)}_queryCell(r,l,m,_,x,E,R,F){const V=R.seenUids,U=this.boxCells[x];if(U!==null){const ee=this.bboxes;for(const ce of U)if(!V.box[ce]){V.box[ce]=!0;const Pe=4*ce;if(r<=ee[Pe+2]&&l<=ee[Pe+3]&&m>=ee[Pe+0]&&_>=ee[Pe+1]&&(!F||F(this.boxKeys[ce]))){if(R.hitTest)return E.push(!0),!0;E.push({key:this.boxKeys[ce],x1:ee[Pe],y1:ee[Pe+1],x2:ee[Pe+2],y2:ee[Pe+3]})}}}const Q=this.circleCells[x];if(Q!==null){const ee=this.circles;for(const ce of Q)if(!V.circle[ce]){V.circle[ce]=!0;const Pe=3*ce;if(this._circleAndRectCollide(ee[Pe],ee[Pe+1],ee[Pe+2],r,l,m,_)&&(!F||F(this.circleKeys[ce]))){if(R.hitTest)return E.push(!0),!0;{const Se=ee[Pe],ze=ee[Pe+1],Le=ee[Pe+2];E.push({key:this.circleKeys[ce],x1:Se-Le,y1:ze-Le,x2:Se+Le,y2:ze+Le})}}}}}_queryCellCircle(r,l,m,_,x,E,R,F){const V=R.circle,U=R.seenUids,Q=this.boxCells[x];if(Q!==null){const ce=this.bboxes;for(const Pe of Q)if(!U.box[Pe]){U.box[Pe]=!0;const Se=4*Pe;if(this._circleAndRectCollide(V.x,V.y,V.radius,ce[Se+0],ce[Se+1],ce[Se+2],ce[Se+3])&&(!F||F(this.boxKeys[Pe])))return E.push(!0),!0}}const ee=this.circleCells[x];if(ee!==null){const ce=this.circles;for(const Pe of ee)if(!U.circle[Pe]){U.circle[Pe]=!0;const Se=3*Pe;if(this._circlesCollide(ce[Se],ce[Se+1],ce[Se+2],V.x,V.y,V.radius)&&(!F||F(this.circleKeys[Pe])))return E.push(!0),!0}}}_forEachCell(r,l,m,_,x,E,R,F){const V=this._convertToXCellCoord(r),U=this._convertToYCellCoord(l),Q=this._convertToXCellCoord(m),ee=this._convertToYCellCoord(_);for(let ce=V;ce<=Q;ce++)for(let Pe=U;Pe<=ee;Pe++)if(x.call(this,r,l,m,_,this.xCellCount*Pe+ce,E,R,F))return}_convertToXCellCoord(r){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(r*this.xScale)))}_convertToYCellCoord(r){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(r*this.yScale)))}_circlesCollide(r,l,m,_,x,E){const R=_-r,F=x-l,V=m+E;return V*V>R*R+F*F}_circleAndRectCollide(r,l,m,_,x,E,R){const F=(E-_)/2,V=Math.abs(r-(_+F));if(V>F+m)return!1;const U=(R-x)/2,Q=Math.abs(l-(x+U));if(Q>U+m)return!1;if(V<=F||Q<=U)return!0;const ee=V-F,ce=Q-U;return ee*ee+ce*ce<=m*m}}const Uo={unknown:0,flipRequired:1,flipNotRequired:2},sn=Math.tan(85*Math.PI/180);function qe(p,r,l,m,_,x,E){const R=c.ab.mat4.create();if(l)if(x.name==="globe"){const F=c.bo(_,r);c.ab.mat4.multiply(R,R,F)}else{const F=c.ab.mat2.invert([],E);R[0]=F[0],R[1]=F[1],R[4]=F[2],R[5]=F[3],m||c.ab.mat4.rotateZ(R,R,_.angle)}else c.ab.mat4.multiply(R,_.labelPlaneMatrix,p);return R}function Ce(p,r,l,m,_,x,E){const R=qe(p,r,l,m,_,x,E);return x.name==="globe"&&l||(R[2]=R[6]=R[10]=R[14]=0),R}function Ye(p,r,l,m,_,x,E){if(l){if(x.name==="globe"){const R=qe(p,r,l,m,_,x,E);return c.ab.mat4.invert(R,R),c.ab.mat4.multiply(R,p,R),R}{const R=c.ab.mat4.clone(p),F=c.ab.mat4.identity([]);return F[0]=E[0],F[1]=E[1],F[4]=E[2],F[5]=E[3],c.ab.mat4.multiply(R,R,F),m||c.ab.mat4.rotateZ(R,R,-_.angle),R}}return _.glCoordMatrix}function Fe(p,r,l,m){const _=[p,r,l,1];l?c.ab.vec4.transformMat4(_,_,m):Zi(_,_,m);const x=_[3];return _[0]/=x,_[1]/=x,_[2]/=x,_}function Nt(p,r){return Math.min(.5+p/r*.5,1.5)}function hn(p,r){const l=p[0]/p[3],m=p[1]/p[3];return l>=-r[0]&&l<=r[0]&&m>=-r[1]&&m<=r[1]}function ir(p,r,l,m,_,x,E,R,F,V){const U=l.transform,Q=m?p.textSizeData:p.iconSizeData,ee=c.bp(Q,l.transform.zoom),ce=U.projection.name==="globe",Pe=[256/l.width*2+1,256/l.height*2+1],Se=m?p.text.dynamicLayoutVertexArray:p.icon.dynamicLayoutVertexArray;Se.clear();let ze=null;ce&&(ze=m?p.text.globeExtVertexArray:p.icon.globeExtVertexArray);const Le=p.lineVertexArray,st=m?p.text.placedSymbolArray:p.icon.placedSymbolArray,St=l.transform.width/l.transform.height;let xt,Wt=!1;for(let zt=0;zt<st.length;zt++){const kt=st.get(zt),{numGlyphs:Lt,writingMode:cn}=kt;if(cn!==c.bq.vertical||Wt||xt===c.bq.horizontal||(Wt=!0),xt=cn,(kt.hidden||cn===c.bq.vertical)&&!Wt){Ai(Lt,Se);continue}Wt=!1;const Tn=new c.P(kt.tileAnchorX,kt.tileAnchorY);let{x:hr,y:nr,z:jr}=U.projection.projectTilePoint(Tn.x,Tn.y,V.canonical);if(F){const[Gr,wi,Ni]=F(Tn);hr+=Gr,nr+=wi,jr+=Ni}const Br=[hr,nr,jr,1];if(c.ab.vec4.transformMat4(Br,Br,r),!hn(Br,Pe)){Ai(Lt,Se);continue}const Un=Br[3],vr=Nt(l.transform.getCameraToCenterDistance(U.projection),Un),vi=c.br(Q,ee,kt),kn=E?vi/vr:vi*vr,Xr=Fe(hr,nr,jr,_);if(Xr[3]<=0){Ai(Lt,Se);continue}let xr={};const zi=E?null:F,qr=Rr(kt,kn,!1,R,r,_,x,p.glyphOffsetArray,Le,Se,ze,Xr,Tn,xr,St,zi,U.projection,V,E);Wt=qr.useVertical,zi&&qr.needsFlipping&&(xr={}),(qr.notEnoughRoom||Wt||qr.needsFlipping&&Rr(kt,kn,!0,R,r,_,x,p.glyphOffsetArray,Le,Se,ze,Xr,Tn,xr,St,zi,U.projection,V,E).notEnoughRoom)&&Ai(Lt,Se)}m?(p.text.dynamicLayoutVertexBuffer.updateData(Se),ze&&p.text.globeExtVertexBuffer&&p.text.globeExtVertexBuffer.updateData(ze)):(p.icon.dynamicLayoutVertexBuffer.updateData(Se),ze&&p.icon.globeExtVertexBuffer&&p.icon.globeExtVertexBuffer.updateData(ze))}function Ar(p,r,l,m,_,x,E,R,F,V,U,Q,ee,ce,Pe,Se){const{lineStartIndex:ze,glyphStartIndex:Le,segment:st}=R,St=Le+R.numGlyphs,xt=ze+R.lineLength,Wt=r.getoffsetX(Le),zt=r.getoffsetX(St-1),kt=Ao(p*Wt,l,m,_,x,E,st,ze,xt,F,V,U,Q,ee,!0,ce,Pe,Se);if(!kt)return null;const Lt=Ao(p*zt,l,m,_,x,E,st,ze,xt,F,V,U,Q,ee,!0,ce,Pe,Se);return Lt?{first:kt,last:Lt}:null}function Nr(p,r,l,m){return p===c.bq.horizontal&&Math.abs(m)>Math.abs(l)?{useVertical:!0}:p===c.bq.vertical?m>0?{needsFlipping:!0}:null:r!==Uo.unknown&&function(_,x){return _===0||Math.abs(x/_)>sn}(l,m)?r===Uo.flipRequired?{needsFlipping:!0}:null:l<0?{needsFlipping:!0}:null}function Rr(p,r,l,m,_,x,E,R,F,V,U,Q,ee,ce,Pe,Se,ze,Le,st){const St=r/24,xt=p.lineOffsetX*St,Wt=p.lineOffsetY*St,{lineStartIndex:zt,glyphStartIndex:kt,numGlyphs:Lt,segment:cn,writingMode:Tn,flipState:hr}=p,nr=zt+p.lineLength,jr=Br=>{if(U){const[kn,Xr,xr]=Br.up,zi=V.length;c.bs(U,zi+0,kn,Xr,xr),c.bs(U,zi+1,kn,Xr,xr),c.bs(U,zi+2,kn,Xr,xr),c.bs(U,zi+3,kn,Xr,xr)}const[Un,vr,vi]=Br.point;c.bt(V,Un,vr,vi,Br.angle)};if(Lt>1){const Br=Ar(St,R,xt,Wt,l,Q,ee,p,F,x,ce,Se,!1,ze,Le,st);if(!Br)return{notEnoughRoom:!0};if(m&&!l){let[Un,vr,vi]=Br.first.point,[kn,Xr,xr]=Br.last.point;[Un,vr]=Fe(Un,vr,vi,E),[kn,Xr]=Fe(kn,Xr,xr,E);const zi=Nr(Tn,hr,(kn-Un)*Pe,Xr-vr);if(p.flipState=zi&&zi.needsFlipping?Uo.flipRequired:Uo.flipNotRequired,zi)return zi}jr(Br.first);for(let Un=kt+1;Un<kt+Lt-1;Un++){const vr=Ao(St*R.getoffsetX(Un),xt,Wt,l,Q,ee,cn,zt,nr,F,x,ce,Se,!1,!1,ze,Le,st);if(!vr)return V.length-=4*(Un-kt),{notEnoughRoom:!0};jr(vr)}jr(Br.last)}else{if(m&&!l){const Un=Fe(ee.x,ee.y,0,_),vr=zt+cn+1,vi=new c.P(F.getx(vr),F.gety(vr)),kn=Fe(vi.x,vi.y,0,_),Xr=kn[3]>0?kn:Fi(ee,vi,Un,1,_,void 0,ze,Le.canonical),xr=Nr(Tn,hr,(Xr[0]-Un[0])*Pe,Xr[1]-Un[1]);if(p.flipState=xr&&xr.needsFlipping?Uo.flipRequired:Uo.flipNotRequired,xr)return xr}const Br=Ao(St*R.getoffsetX(kt),xt,Wt,l,Q,ee,cn,zt,nr,F,x,ce,Se,!1,!1,ze,Le,st);if(!Br)return{notEnoughRoom:!0};jr(Br)}return{}}function _i(p,r,l,m,_){const{x,y:E,z:R}=m.projectTilePoint(p.x,p.y,r);if(!_)return Fe(x,E,R,l);const[F,V,U]=_(p);return Fe(x+F,E+V,R+U,l)}function Fi(p,r,l,m,_,x,E,R){const F=_i(p.sub(r)._unit()._add(p),R,_,E,x);return c.ab.vec3.sub(F,l,F),c.ab.vec3.normalize(F,F),c.ab.vec3.scaleAndAdd(F,l,F,m)}function Ao(p,r,l,m,_,x,E,R,F,V,U,Q,ee,ce,Pe,Se,ze,Le){const st=m?p-r:p+r;let St=st>0?1:-1,xt=0;m&&(St*=-1,xt=Math.PI),St<0&&(xt+=Math.PI);let Wt=R+E+(St>0?0:1)|0,zt=_,kt=_,Lt=0,cn=0;const Tn=Math.abs(st),hr=[],nr=[];let jr=x,Br=jr;const Un=()=>Fi(Br,jr,kt,Tn-Lt+1,U,ee,Se,ze.canonical);for(;Lt+cn<=Tn;){if(Wt+=St,Wt<R||Wt>=F)return null;if(kt=zt,Br=jr,hr.push(kt),ce&&nr.push(Br),jr=new c.P(V.getx(Wt),V.gety(Wt)),zt=Q[Wt],!zt){const wi=_i(jr,ze.canonical,U,Se,ee);zt=wi[3]>0?Q[Wt]=wi:Un()}Lt+=cn,cn=c.ab.vec3.distance(kt,zt)}Pe&&ee&&(Q[Wt]&&(zt=Un(),cn=c.ab.vec3.distance(kt,zt)),Q[Wt]=zt);const vr=(Tn-Lt)/cn,vi=jr.sub(Br)._mult(vr)._add(Br),kn=c.ab.vec3.sub([],zt,kt),Xr=c.ab.vec3.scaleAndAdd([],kt,kn,vr);let xr=[0,0,1],zi=kn[0],qr=kn[1];if(Le&&(xr=Se.upVector(ze.canonical,vi.x,vi.y),xr[0]!==0||xr[1]!==0||xr[2]!==1)){const wi=[xr[2],0,-xr[0]],Ni=c.ab.vec3.cross([],xr,wi);c.ab.vec3.normalize(wi,wi),c.ab.vec3.normalize(Ni,Ni),zi=c.ab.vec3.dot(kn,wi),qr=c.ab.vec3.dot(kn,Ni)}if(l){const wi=c.ab.vec3.cross([],xr,kn);c.ab.vec3.normalize(wi,wi),c.ab.vec3.scaleAndAdd(Xr,Xr,wi,l*St)}const Gr=xt+Math.atan2(qr,zi);return hr.push(Xr),ce&&nr.push(vi),{point:Xr,angle:Gr,path:hr,tilePath:nr,up:xr}}function Ai(p,r){const l=r.length,m=l+4*p;r.resize(m),r.float32.fill(-1/0,4*l,4*m)}function Zi(p,r,l){const m=r[0],_=r[1];return p[0]=l[0]*m+l[4]*_+l[12],p[1]=l[1]*m+l[5]*_+l[13],p[3]=l[3]*m+l[7]*_+l[15],p}const li=100;class Xi{constructor(r,l,m=new Xo(r.width+200,r.height+200,25),_=new Xo(r.width+200,r.height+200,25)){this.transform=r,this.grid=m,this.ignoredGrid=_,this.pitchfactor=Math.cos(r._pitch)*r.cameraToCenterDistance,this.screenRightBoundary=r.width+li,this.screenBottomBoundary=r.height+li,this.gridRightBoundary=r.width+200,this.gridBottomBoundary=r.height+200,this.fogState=l}placeCollisionBox(r,l,m,_,x,E,R,F){let V=m.projectedAnchorX,U=m.projectedAnchorY,Q=m.projectedAnchorZ;const ee=m.elevation,ce=m.tileID,Pe=r.getProjection();if(ee&&ce){const[zt,kt,Lt]=Pe.upVector(ce.canonical,m.tileAnchorX,m.tileAnchorY),cn=Pe.upVectorScale(ce.canonical,this.transform.center.lat,this.transform.worldSize).metersToTile;V+=zt*ee*cn,U+=kt*ee*cn,Q+=Lt*ee*cn}const Se=this.projectAndGetPerspectiveRatio(R,V,U,Q,m.tileID,Pe.name==="globe"||!!ee||this.transform.pitch>0,Pe),ze=E*Se.perspectiveRatio,Le=(m.x1*l+_.x-m.padding)*ze+Se.point.x,st=(m.y1*l+_.y-m.padding)*ze+Se.point.y,St=(m.x2*l+_.x+m.padding)*ze+Se.point.x,xt=(m.y2*l+_.y+m.padding)*ze+Se.point.y,Wt=Se.perspectiveRatio<=.55||Se.occluded;return!this.isInsideGrid(Le,st,St,xt)||!x&&this.grid.hitTest(Le,st,St,xt,F)||Wt?{box:[],offscreen:!1,occluded:Se.occluded}:{box:[Le,st,St,xt],offscreen:this.isOffscreen(Le,st,St,xt),occluded:!1}}placeCollisionCircles(r,l,m,_,x,E,R,F,V,U,Q,ee,ce,Pe,Se){const ze=[],Le=this.transform.elevation,st=r.getProjection(),St=Le?Le.getAtTileOffsetFunc(Se,this.transform.center.lat,this.transform.worldSize,st):null,xt=new c.P(m.tileAnchorX,m.tileAnchorY);let{x:Wt,y:zt,z:kt}=st.projectTilePoint(xt.x,xt.y,Se.canonical);if(St){const[vi,kn,Xr]=St(xt);Wt+=vi,zt+=kn,kt+=Xr}const Lt=st.name==="globe",cn=this.projectAndGetPerspectiveRatio(R,Wt,zt,kt,Se,Lt||!!Le||this.transform.pitch>0,st),{perspectiveRatio:Tn}=cn,hr=(Q?E/Tn:E*Tn)/c.bw,nr=Fe(Wt,zt,kt,F),jr=cn.signedDistanceFromCamera>0?Ar(hr,x,m.lineOffsetX*hr,m.lineOffsetY*hr,!1,nr,xt,m,_,F,{},Le&&!Q?St:null,Q&&!!Le,st,Se,Q):null;let Br=!1,Un=!1,vr=!0;if(jr&&!cn.occluded){const vi=.5*ce*Tn+Pe,kn=new c.P(-100,-100),Xr=new c.P(this.screenRightBoundary,this.screenBottomBoundary),xr=new mi,{first:zi,last:qr}=jr,Gr=zi.path.length;let wi=[];for(let bo=Gr-1;bo>=1;bo--)wi.push(zi.path[bo]);for(let bo=1;bo<qr.path.length;bo++)wi.push(qr.path[bo]);const Ni=2.5*vi;V&&(wi=wi.map(([bo,ca,mo],Ko)=>(St&&!Lt&&(mo=St(Ko<Gr-1?zi.tilePath[Gr-1-Ko]:qr.tilePath[Ko-Gr+2])[2]),Fe(bo,ca,mo,V))),wi.some(bo=>bo[3]<=0)&&(wi=[]));let lo=[];if(wi.length>0){let bo=1/0,ca=-1/0,mo=1/0,Ko=-1/0;for(const Yo of wi)bo=Math.min(bo,Yo[0]),mo=Math.min(mo,Yo[1]),ca=Math.max(ca,Yo[0]),Ko=Math.max(Ko,Yo[1]);ca>=kn.x&&bo<=Xr.x&&Ko>=kn.y&&mo<=Xr.y&&(lo=[wi.map(Yo=>new c.P(Yo[0],Yo[1]))],(bo<kn.x||ca>Xr.x||mo<kn.y||Ko>Xr.y)&&(lo=c.bu(lo,kn.x,kn.y,Xr.x,Xr.y)))}for(const bo of lo){xr.reset(bo,.25*vi);let ca=0;ca=xr.length<=.5*vi?1:Math.ceil(xr.paddedLength/Ni)+1;for(let mo=0;mo<ca;mo++){const Ko=mo/Math.max(ca-1,1),Yo=xr.lerp(Ko),as=Yo.x+li,Os=Yo.y+li;ze.push(as,Os,vi,0);const dl=as-vi,Gs=Os-vi,Pa=as+vi,gs=Os+vi;if(vr=vr&&this.isOffscreen(dl,Gs,Pa,gs),Un=Un||this.isInsideGrid(dl,Gs,Pa,gs),!l&&this.grid.hitTestCircle(as,Os,vi,ee)&&(Br=!0,!U))return{circles:[],offscreen:!1,collisionDetected:Br,occluded:!1}}}}return{circles:!U&&Br||!Un?[]:ze,offscreen:vr,collisionDetected:Br,occluded:cn.occluded}}queryRenderedSymbols(r){if(r.length===0||this.grid.keysLength()===0&&this.ignoredGrid.keysLength()===0)return{};const l=[];let m=1/0,_=1/0,x=-1/0,E=-1/0;for(const U of r){const Q=new c.P(U.x+li,U.y+li);m=Math.min(m,Q.x),_=Math.min(_,Q.y),x=Math.max(x,Q.x),E=Math.max(E,Q.y),l.push(Q)}const R=this.grid.query(m,_,x,E).concat(this.ignoredGrid.query(m,_,x,E)),F={},V={};for(const U of R){const Q=U.key;if(F[Q.bucketInstanceId]===void 0&&(F[Q.bucketInstanceId]={}),F[Q.bucketInstanceId][Q.featureIndex])continue;const ee=[new c.P(U.x1,U.y1),new c.P(U.x2,U.y1),new c.P(U.x2,U.y2),new c.P(U.x1,U.y2)];c.bv(l,ee)&&(F[Q.bucketInstanceId][Q.featureIndex]=!0,V[Q.bucketInstanceId]===void 0&&(V[Q.bucketInstanceId]=[]),V[Q.bucketInstanceId].push(Q.featureIndex))}return V}insertCollisionBox(r,l,m,_,x){(l?this.ignoredGrid:this.grid).insert({bucketInstanceId:m,featureIndex:_,collisionGroupID:x},r[0],r[1],r[2],r[3])}insertCollisionCircles(r,l,m,_,x){const E=l?this.ignoredGrid:this.grid,R={bucketInstanceId:m,featureIndex:_,collisionGroupID:x};for(let F=0;F<r.length;F+=4)E.insertCircle(R,r[F],r[F+1],r[F+2])}projectAndGetPerspectiveRatio(r,l,m,_,x,E,R){const F=[l,m,_,1];let V=!1;_||this.transform.pitch>0?(c.ab.vec4.transformMat4(F,F,r),this.fogState&&x&&R.name!=="globe"&&(V=function(ee,ce,Pe,Se,ze,Le){const st=Le.calculateFogTileMatrix(ze),St=[ce,Pe,Se];return c.ab.vec3.transformMat4(St,St,st),rt(ee,c.ab.vec3.length(St),Le.pitch,Le._fov)}(this.fogState,l,m,_,x.toUnwrapped(),this.transform)>.9)):Zi(F,F,r);const U=F[3];return{point:new c.P((F[0]/U+1)/2*this.transform.width+li,(-F[1]/U+1)/2*this.transform.height+li),perspectiveRatio:Math.min(.5+this.transform.getCameraToCenterDistance(R)/U*.5,1.5),signedDistanceFromCamera:U,occluded:E&&F[2]>U||V}}isOffscreen(r,l,m,_){return m<li||r>=this.screenRightBoundary||_<li||l>this.screenBottomBoundary}isInsideGrid(r,l,m,_){return m>=0&&r<this.gridRightBoundary&&_>=0&&l<this.gridBottomBoundary}getViewportMatrix(){const r=c.ab.mat4.identity([]);return c.ab.mat4.translate(r,r,[-100,-100,0]),r}}function Yi(p,r,l){const m=r.createTileMatrix(p,p.worldSize,l.toUnwrapped());return c.ab.mat4.multiply(new Float32Array(16),p.projMatrix,m)}function Po(p,r,l){if(r.projection.name===l.projection.name)return p.projMatrix;const m=l.clone();return m.setProjection(r.projection),Yi(m,r.getProjection(),p)}function la(p,r,l){return r.name===l.projection.name?p.projMatrix:Yi(l,r,p)}class da{constructor(r,l,m,_){this.opacity=r?Math.max(0,Math.min(1,r.opacity+(r.placed?l:-l))):_&&m?1:0,this.placed=m}isHidden(){return this.opacity===0&&!this.placed}}class ma{constructor(r,l,m,_,x,E=!1){this.text=new da(r?r.text:null,l,m,x),this.icon=new da(r?r.icon:null,l,_,x),this.clipped=E}isHidden(){return this.text.isHidden()&&this.icon.isHidden()}}class ba{constructor(r,l,m,_=!1){this.text=r,this.icon=l,this.skipFade=m,this.clipped=_}}class Sa{constructor(){this.invProjMatrix=c.ab.mat4.create(),this.viewportMatrix=c.ab.mat4.create(),this.circles=[]}}class wa{constructor(r,l,m,_,x){this.bucketInstanceId=r,this.featureIndex=l,this.sourceLayerIndex=m,this.bucketIndex=_,this.tileID=x}}class Ua{constructor(r){this.crossSourceCollisions=r,this.maxGroupID=0,this.collisionGroups={}}get(r){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[r]){const l=++this.maxGroupID;this.collisionGroups[r]={ID:l,predicate:m=>m.collisionGroupID===l}}return this.collisionGroups[r]}}function ga(p,r,l,m,_){const{horizontalAlign:x,verticalAlign:E}=c.bD(p),R=-(x-.5)*r,F=-(E-.5)*l,V=c.bC(p,m);return new c.P(R+V[0]*_,F+V[1]*_)}function Ts(p,r,l,m,_){const x=new c.P(p,r);return l&&x._rotate(m?_:-_),x}class Ms{constructor(r,l,m,_,x,E){this.transform=r.clone(),this.projection=r.projection.name,this.collisionIndex=new Xi(this.transform,x),this.buildingIndex=E,this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=l,this.retainedQueryData={},this.collisionGroups=new Ua(m),this.collisionCircleArrays={},this.prevPlacement=_,_&&(_.prevPlacement=void 0),this.placedOrientations={}}getBucketParts(r,l,m,_,x=1){const E=m.getBucket(l),R=m.latestFeatureIndex;if(!E||!R||l.fqid!==E.layerIds[0])return;const F=E.layers[0].layout,V=E.layers[0].paint,U=m.collisionBoxArray,Q=Math.pow(2,this.transform.zoom-m.tileID.overscaledZ),ee=m.tileSize/c.ag,ce=m.tileID.toUnwrapped();this.transform.setProjection(E.projection);const Pe=(Se=m.tileID,ze=E.getProjection(),Le=this.transform,ze.name===this.projection?Le.calculateProjMatrix(Se.toUnwrapped()):Yi(Le,ze,Se));var Se,ze,Le;const st=F.get("text-pitch-alignment")==="map",St=F.get("text-rotation-alignment")==="map";l.compileFilter(l.options);const xt=l.dynamicFilter(),Wt=l.dynamicFilterNeedsFeature(),zt=this.transform.calculatePixelsToTileUnitsMatrix(m),kt=Ce(Pe,m.tileID.canonical,st,St,this.transform,E.getProjection(),zt);let Lt=null;if(st){const vi=Ye(Pe,m.tileID.canonical,st,St,this.transform,E.getProjection(),zt);Lt=c.ab.mat4.multiply([],this.transform.labelPlaneMatrix,vi)}let cn=null;xt&&m.latestFeatureIndex&&(cn={unwrappedTileID:ce,dynamicFilter:xt,dynamicFilterNeedsFeature:Wt}),this.retainedQueryData[E.bucketInstanceId]=new wa(E.bucketInstanceId,R,E.sourceLayerIndex,E.index,m.tileID);const[Tn,hr]=E.layers[0].layout.get("text-size-scale-range"),nr=c.aw(x,Tn,hr),[jr,Br]=F.get("icon-size-scale-range"),Un=c.aw(x,jr,Br),vr={bucket:E,layout:F,paint:V,posMatrix:Pe,textLabelPlaneMatrix:kt,labelToScreenMatrix:Lt,clippingData:cn,scale:Q,textPixelRatio:ee,holdingForFade:m.holdingForFade(),collisionBoxArray:U,partiallyEvaluatedTextSize:c.bp(E.textSizeData,this.transform.zoom,nr),partiallyEvaluatedIconSize:c.bp(E.iconSizeData,this.transform.zoom,Un),collisionGroup:this.collisionGroups.get(E.sourceID),latestFeatureIndex:m.latestFeatureIndex};if(_)for(const vi of E.sortKeyRanges){const{sortKey:kn,symbolInstanceStart:Xr,symbolInstanceEnd:xr}=vi;r.push({sortKey:kn,symbolInstanceStart:Xr,symbolInstanceEnd:xr,parameters:vr})}else r.push({symbolInstanceStart:0,symbolInstanceEnd:E.symbolInstances.length,parameters:vr})}attemptAnchorPlacement(r,l,m,_,x,E,R,F,V,U,Q,ee,ce,Pe,Se,ze,Le,st){const{textOffset0:St,textOffset1:xt,crossTileID:Wt}=ee,zt=[St,xt],kt=ga(r,m,_,zt,x),Lt=this.collisionIndex.placeCollisionBox(Pe,x,l,Ts(kt.x,kt.y,E,R,this.transform.angle),Q,F,V,U.predicate);if(ze){const cn=Pe.getSymbolInstanceIconSize(st,this.transform.zoom,ee.placedIconSymbolIndex);if(this.collisionIndex.placeCollisionBox(Pe,cn,ze,Ts(kt.x,kt.y,E,R,this.transform.angle),Q,F,V,U.predicate).box.length===0)return}if(Lt.box.length>0){let cn;return this.prevPlacement&&this.prevPlacement.variableOffsets[Wt]&&this.prevPlacement.placements[Wt]&&this.prevPlacement.placements[Wt].text&&(cn=this.prevPlacement.variableOffsets[Wt].anchor),this.variableOffsets[Wt]={textOffset:zt,width:m,height:_,anchor:r,textScale:x,prevAnchor:cn},this.markUsedJustification(Pe,r,ee,Se),Pe.allowVerticalPlacement&&(this.markUsedOrientation(Pe,Se,ee),this.placedOrientations[Wt]=Se),{shift:kt,placedGlyphBoxes:Lt}}}placeLayerBucketPart(r,l,m,_,x=1){const{bucket:E,layout:R,paint:F,posMatrix:V,textLabelPlaneMatrix:U,labelToScreenMatrix:Q,clippingData:ee,textPixelRatio:ce,holdingForFade:Pe,collisionBoxArray:Se,partiallyEvaluatedTextSize:ze,partiallyEvaluatedIconSize:Le,collisionGroup:st,latestFeatureIndex:St}=r.parameters,xt=R.get("text-optional"),Wt=R.get("icon-optional"),zt=R.get("text-allow-overlap"),kt=R.get("icon-allow-overlap"),Lt=R.get("text-rotation-alignment")==="map",cn=R.get("text-pitch-alignment")==="map",Tn=R.get("symbol-z-elevate"),hr=F.get("symbol-z-offset"),nr=R.get("symbol-elevation-reference")==="sea",[jr,Br]=R.get("text-size-scale-range"),[Un,vr]=R.get("icon-size-scale-range"),vi=c.aw(x,jr,Br),kn=c.aw(x,Un,vr);this.transform.setProjection(E.projection);let Xr=zt&&(kt||!E.hasIconData()||Wt),xr=kt&&(zt||!E.hasTextData()||xt);const zi=!hr.isConstant();!E.collisionArrays&&Se&&E.deserializeCollisionBoxes(Se),m&&_&&E.updateCollisionDebugBuffers(this.transform.zoom,Se,vi,kn);const qr=(Gr,wi,Ni)=>{const{crossTileID:lo,numVerticalGlyphVertices:bo}=Gr;let ca=null;if(ee&&ee.dynamicFilterNeedsFeature||zi){const js=this.retainedQueryData[E.bucketInstanceId];ca=St.loadFeature({featureIndex:Gr.featureIndex,bucketIndex:js.bucketIndex,sourceLayerIndex:js.sourceLayerIndex,layoutVertexArrayOffset:0})}if(ee&&!(0,ee.dynamicFilter)({zoom:this.transform.zoom,pitch:this.transform.pitch},ca,this.retainedQueryData[E.bucketInstanceId].tileID.canonical,new c.P(Gr.tileAnchorX,Gr.tileAnchorY),this.transform.calculateDistanceTileData(ee.unwrappedTileID)))return this.placements[lo]=new ba(!1,!1,!1,!0),void l.add(lo);const mo=hr.evaluate(ca,{});if(l.has(lo))return;if(Pe)return void(this.placements[lo]=new ba(!1,!1,!1));let Ko=!1,Yo=!1,as=!0,Os=!1,dl=!1,Gs=null,Pa={box:null,offscreen:null,occluded:null},gs={box:null,offscreen:null,occluded:null},Bo=null,Qa=null,_s=null,bs=0,nl=0,Fl=0;Ni.textFeatureIndex?bs=Ni.textFeatureIndex:Gr.useRuntimeCollisionCircles&&(bs=Gr.featureIndex),Ni.verticalTextFeatureIndex&&(nl=Ni.verticalTextFeatureIndex);const Dl=js=>{js.tileID=this.retainedQueryData[E.bucketInstanceId].tileID;const As=this.transform.elevation;js.elevation=nr?mo:mo+(As?As.getAtTileOffset(js.tileID,js.tileAnchorX,js.tileAnchorY):0),js.elevation+=Gr.zOffset},Ll=Ni.textBox;if(Ll){Dl(Ll);const js=ss=>{let Ml=c.bq.horizontal;if(E.allowVerticalPlacement&&!ss&&this.prevPlacement){const Yl=this.prevPlacement.placedOrientations[lo];Yl&&(this.placedOrientations[lo]=Yl,Ml=Yl,this.markUsedOrientation(E,Ml,Gr))}return Ml},As=(ss,Ml)=>{if(E.allowVerticalPlacement&&bo>0&&Ni.verticalTextBox){for(const Yl of E.writingModes)if(Yl===c.bq.vertical?(Pa=Ml(),gs=Pa):Pa=ss(),Pa&&Pa.box&&Pa.box.length)break}else Pa=ss()};if(R.get("text-variable-anchor")){let ss=R.get("text-variable-anchor");if(this.prevPlacement&&this.prevPlacement.variableOffsets[lo]){const Rs=this.prevPlacement.variableOffsets[lo];ss.indexOf(Rs.anchor)>0&&(ss=ss.filter(cc=>cc!==Rs.anchor),ss.unshift(Rs.anchor))}const Ml=(Rs,cc,Dc)=>{const pc=E.getSymbolInstanceTextSize(ze,Gr,this.transform.zoom,wi),mc=(Rs.x2-Rs.x1)*pc+2*Rs.padding,td=(Rs.y2-Rs.y1)*pc+2*Rs.padding,ru=Gr.hasIconTextFit&&!kt?cc:null;ru&&Dl(ru);let Yc={box:[],offscreen:!1,occluded:!1};const cf=zt?2*ss.length:ss.length;for(let Au=0;Au<cf;++Au){const Zf=this.attemptAnchorPlacement(ss[Au%ss.length],Rs,mc,td,pc,Lt,cn,ce,V,st,Au>=ss.length,Gr,wi,E,Dc,ru,ze,Le);if(Zf&&(Yc=Zf.placedGlyphBoxes,Yc&&Yc.box&&Yc.box.length)){Ko=!0,Gs=Zf.shift;break}}return Yc};As(()=>Ml(Ll,Ni.iconBox,c.bq.horizontal),()=>{const Rs=Ni.verticalTextBox;return Rs&&Dl(Rs),E.allowVerticalPlacement&&!(Pa&&Pa.box&&Pa.box.length)&&bo>0&&Rs?Ml(Rs,Ni.verticalIconBox,c.bq.vertical):{box:null,offscreen:null,occluded:null}}),Pa&&(Ko=Pa.box,as=Pa.offscreen,Os=Pa.occluded);const Yl=js(!(!Pa||!Pa.box));if(!Ko&&this.prevPlacement){const Rs=this.prevPlacement.variableOffsets[lo];Rs&&(this.variableOffsets[lo]=Rs,this.markUsedJustification(E,Rs.anchor,Gr,Yl))}}else{const ss=(Ml,Yl)=>{const Rs=E.getSymbolInstanceTextSize(ze,Gr,this.transform.zoom,wi,x),cc=this.collisionIndex.placeCollisionBox(E,Rs,Ml,new c.P(0,0),zt,ce,V,st.predicate);return cc&&cc.box&&cc.box.length&&(this.markUsedOrientation(E,Yl,Gr),this.placedOrientations[lo]=Yl),cc};As(()=>ss(Ll,c.bq.horizontal),()=>{const Ml=Ni.verticalTextBox;return E.allowVerticalPlacement&&bo>0&&Ml?(Dl(Ml),ss(Ml,c.bq.vertical)):{box:null,offscreen:null,occluded:null}}),js(!!(Pa&&Pa.box&&Pa.box.length))}}if(Bo=Pa,Ko=Bo&&Bo.box&&Bo.box.length>0,as=Bo&&Bo.offscreen,Os=Bo&&Bo.occluded,Gr.useRuntimeCollisionCircles){const js=E.text.placedSymbolArray.get(Gr.centerJustifiedTextSymbolIndex>=0?Gr.centerJustifiedTextSymbolIndex:Gr.verticalPlacedTextSymbolIndex),As=c.br(E.textSizeData,ze,js),ss=R.get("text-padding");Qa=this.collisionIndex.placeCollisionCircles(E,zt,js,E.lineVertexArray,E.glyphOffsetArray,As,V,U,Q,m,cn,st.predicate,Gr.collisionCircleDiameter*As/c.bw,ss,this.retainedQueryData[E.bucketInstanceId].tileID),Ko=zt||Qa.circles.length>0&&!Qa.collisionDetected,as=as&&Qa.offscreen,Os=Qa.occluded}if(Ni.iconFeatureIndex&&(Fl=Ni.iconFeatureIndex),Ni.iconBox){const js=As=>{Dl(As);const ss=Gr.hasIconTextFit&&Gs?Ts(Gs.x,Gs.y,Lt,cn,this.transform.angle):new c.P(0,0),Ml=E.getSymbolInstanceIconSize(Le,this.transform.zoom,Gr.placedIconSymbolIndex);return this.collisionIndex.placeCollisionBox(E,Ml,As,ss,kt,ce,V,st.predicate)};gs&&gs.box&&gs.box.length&&Ni.verticalIconBox?(_s=js(Ni.verticalIconBox),Yo=_s.box.length>0):(_s=js(Ni.iconBox),Yo=_s.box.length>0),as=as&&_s.offscreen,dl=_s.occluded}const Xc=xt||Gr.numHorizontalGlyphVertices===0&&bo===0,Pc=Wt||Gr.numIconVertices===0;if(Xc||Pc?Pc?Xc||(Yo=Yo&&Ko):Ko=Yo&&Ko:Yo=Ko=Yo&&Ko,Ko&&Bo&&Bo.box&&this.collisionIndex.insertCollisionBox(Bo.box,R.get("text-ignore-placement"),E.bucketInstanceId,gs&&gs.box&&nl?nl:bs,st.ID),Yo&&_s&&this.collisionIndex.insertCollisionBox(_s.box,R.get("icon-ignore-placement"),E.bucketInstanceId,Fl,st.ID),Qa&&(Ko&&this.collisionIndex.insertCollisionCircles(Qa.circles,R.get("text-ignore-placement"),E.bucketInstanceId,bs,st.ID),m)){const js=E.bucketInstanceId;let As=this.collisionCircleArrays[js];As===void 0&&(As=this.collisionCircleArrays[js]=new Sa);for(let ss=0;ss<Qa.circles.length;ss+=4)As.circles.push(Qa.circles[ss+0]),As.circles.push(Qa.circles[ss+1]),As.circles.push(Qa.circles[ss+2]),As.circles.push(Qa.collisionDetected?1:0)}const rl=E.projection.name!=="globe";Xr=Xr&&(rl||!Os),xr=xr&&(rl||!dl),this.placements[lo]=new ba(Ko||Xr,Yo||xr,as||E.justReloaded),l.add(lo)};if(Tn&&this.buildingIndex&&(this.buildingIndex.updateZOffset(E,this.retainedQueryData[E.bucketInstanceId].tileID),E.updateZOffset()),E.sortFeaturesByY){const Gr=E.getSortedSymbolIndexes(this.transform.angle);for(let wi=Gr.length-1;wi>=0;--wi){const Ni=Gr[wi];qr(E.symbolInstances.get(Ni),Ni,E.collisionArrays[Ni])}E.hasAnyZOffset&&c.w(`${E.layerIds[0]} layer symbol-z-elevate: symbols are not sorted by elevation if symbol-z-order is evaluated to viewport-y`)}else if(E.hasAnyZOffset){const Gr=E.getSortedIndexesByZOffset();for(let wi=0;wi<Gr.length;++wi){const Ni=Gr[wi];qr(E.symbolInstances.get(Ni),Ni,E.collisionArrays[Ni])}}else for(let Gr=r.symbolInstanceStart;Gr<r.symbolInstanceEnd;Gr++)qr(E.symbolInstances.get(Gr),Gr,E.collisionArrays[Gr]);if(m&&E.bucketInstanceId in this.collisionCircleArrays){const Gr=this.collisionCircleArrays[E.bucketInstanceId];c.ab.mat4.invert(Gr.invProjMatrix,V),Gr.viewportMatrix=this.collisionIndex.getViewportMatrix()}E.justReloaded=!1}markUsedJustification(r,l,m,_){const{leftJustifiedTextSymbolIndex:x,centerJustifiedTextSymbolIndex:E,rightJustifiedTextSymbolIndex:R,verticalPlacedTextSymbolIndex:F,crossTileID:V}=m,U=c.bB(l),Q=_===c.bq.vertical?F:U==="left"?x:U==="center"?E:U==="right"?R:-1;x>=0&&(r.text.placedSymbolArray.get(x).crossTileID=Q>=0&&x!==Q?0:V),E>=0&&(r.text.placedSymbolArray.get(E).crossTileID=Q>=0&&E!==Q?0:V),R>=0&&(r.text.placedSymbolArray.get(R).crossTileID=Q>=0&&R!==Q?0:V),F>=0&&(r.text.placedSymbolArray.get(F).crossTileID=Q>=0&&F!==Q?0:V)}markUsedOrientation(r,l,m){const _=l===c.bq.horizontal||l===c.bq.horizontalOnly?l:0,x=l===c.bq.vertical?l:0,{leftJustifiedTextSymbolIndex:E,centerJustifiedTextSymbolIndex:R,rightJustifiedTextSymbolIndex:F,verticalPlacedTextSymbolIndex:V}=m,U=r.text.placedSymbolArray;E>=0&&(U.get(E).placedOrientation=_),R>=0&&(U.get(R).placedOrientation=_),F>=0&&(U.get(F).placedOrientation=_),V>=0&&(U.get(V).placedOrientation=x)}commit(r){this.commitTime=r,this.zoomAtLastRecencyCheck=this.transform.zoom;const l=this.prevPlacement;let m=!1;this.prevZoomAdjustment=l?l.zoomAdjustment(this.transform.zoom):0;const _=l?l.symbolFadeChange(r):1,x=l?l.opacities:{},E=l?l.variableOffsets:{},R=l?l.placedOrientations:{};for(const F in this.placements){const V=this.placements[F],U=x[F];U?(this.opacities[F]=new ma(U,_,V.text,V.icon,null,V.clipped),m=m||V.text!==U.text.placed||V.icon!==U.icon.placed):(this.opacities[F]=new ma(null,_,V.text,V.icon,V.skipFade,V.clipped),m=m||V.text||V.icon)}for(const F in x){const V=x[F];if(!this.opacities[F]){const U=new ma(V,_,!1,!1);U.isHidden()||(this.opacities[F]=U,m=m||V.text.placed||V.icon.placed)}}for(const F in E)this.variableOffsets[F]||!this.opacities[F]||this.opacities[F].isHidden()||(this.variableOffsets[F]=E[F]);for(const F in R)this.placedOrientations[F]||!this.opacities[F]||this.opacities[F].isHidden()||(this.placedOrientations[F]=R[F]);m?this.lastPlacementChangeTime=r:typeof this.lastPlacementChangeTime!="number"&&(this.lastPlacementChangeTime=l?l.lastPlacementChangeTime:r)}updateLayerOpacities(r,l,m,_){const x=new Set;for(const E of l){const R=E.getBucket(r);R&&E.latestFeatureIndex&&r.fqid===R.layerIds[0]&&(this.updateBucketOpacities(R,x,E,E.collisionBoxArray,m,_,E.tileID,r.scope),R.layers[0].layout.get("symbol-z-elevate")&&this.buildingIndex&&(this.buildingIndex.updateZOffset(R,E.tileID),R.updateZOffset()))}}updateBucketOpacities(r,l,m,_,x,E,R,F){r.hasTextData()&&r.text.opacityVertexArray.clear(),r.hasIconData()&&r.icon.opacityVertexArray.clear(),r.hasIconCollisionBoxData()&&r.iconCollisionBox.collisionVertexArray.clear(),r.hasTextCollisionBoxData()&&r.textCollisionBox.collisionVertexArray.clear();const V=r.layers[0].layout,U=r.layers[0].paint,Q=!!r.layers[0].dynamicFilter(),ee=new ma(null,0,!1,!1,!0),ce=V.get("text-allow-overlap"),Pe=V.get("icon-allow-overlap"),Se=V.get("text-variable-anchor"),ze=V.get("text-rotation-alignment")==="map",Le=V.get("text-pitch-alignment")==="map",st=U.get("symbol-z-offset"),St=V.get("symbol-elevation-reference")==="sea",xt=!st.isConstant(),Wt=new ma(null,0,ce&&(Pe||!r.hasIconData()||V.get("icon-optional")),Pe&&(ce||!r.hasTextData()||V.get("text-optional")),!0);!r.collisionArrays&&_&&(r.hasIconCollisionBoxData()||r.hasTextCollisionBoxData())&&r.deserializeCollisionBoxes(_);const zt=(Lt,cn,Tn)=>{for(let hr=0;hr<cn/4;hr++)Lt.opacityVertexArray.emplaceBack(Tn)};let kt=0;E&&r.updateReplacement(R,E);for(let Lt=0;Lt<r.symbolInstances.length;Lt++){const cn=r.symbolInstances.get(Lt),{numHorizontalGlyphVertices:Tn,numVerticalGlyphVertices:hr,crossTileID:nr,numIconVertices:jr,tileAnchorX:Br,tileAnchorY:Un}=cn;let vr=null;const vi=this.retainedQueryData[r.bucketInstanceId];xt&&cn&&vi&&(vr=m.latestFeatureIndex.loadFeature({featureIndex:cn.featureIndex,bucketIndex:vi.bucketIndex,sourceLayerIndex:vi.sourceLayerIndex,layoutVertexArrayOffset:0}));const kn=st.evaluate(vr,{}),Xr=l.has(nr);let xr=this.opacities[nr];Xr?xr=ee:xr||(xr=Wt,this.opacities[nr]=xr),l.add(nr);const zi=Tn>0||hr>0,qr=jr>0,Gr=this.placedOrientations[nr],wi=Gr===c.bq.vertical,Ni=Gr===c.bq.horizontal||Gr===c.bq.horizontalOnly;!zi&&!qr||xr.isHidden()||kt++;let lo=!1;if((zi||qr)&&E)for(const bo of r.activeReplacements){if(c.bx(bo,x,c.by.Symbol,F)||bo.min.x>Br||Br>bo.max.x||bo.min.y>Un||Un>bo.max.y)continue;const ca=c.bz(Br,Un,R.canonical,bo.footprintTileId.canonical);if(lo=c.bA(ca,bo.footprint),lo)break}if(zi){const bo=lo?va:Wa(xr.text);zt(r.text,Tn,wi?va:bo),zt(r.text,hr,Ni?va:bo);const ca=xr.text.isHidden(),{leftJustifiedTextSymbolIndex:mo,centerJustifiedTextSymbolIndex:Ko,rightJustifiedTextSymbolIndex:Yo,verticalPlacedTextSymbolIndex:as}=cn,Os=r.text.placedSymbolArray,dl=ca||wi?1:0;mo>=0&&(Os.get(mo).hidden=dl),Ko>=0&&(Os.get(Ko).hidden=dl),Yo>=0&&(Os.get(Yo).hidden=dl),as>=0&&(Os.get(as).hidden=ca||Ni?1:0);const Gs=this.variableOffsets[nr];Gs&&this.markUsedJustification(r,Gs.anchor,cn,Gr);const Pa=this.placedOrientations[nr];Pa&&(this.markUsedJustification(r,"left",cn,Pa),this.markUsedOrientation(r,Pa,cn))}if(qr){const bo=lo?va:Wa(xr.icon),{placedIconSymbolIndex:ca,verticalPlacedIconSymbolIndex:mo}=cn,Ko=r.icon.placedSymbolArray,Yo=xr.icon.isHidden()?1:0;ca>=0&&(zt(r.icon,jr,wi?va:bo),Ko.get(ca).hidden=Yo),mo>=0&&(zt(r.icon,cn.numVerticalIconVertices,Ni?va:bo),Ko.get(mo).hidden=Yo)}if(r.hasIconCollisionBoxData()||r.hasTextCollisionBoxData()){const bo=r.collisionArrays[Lt];if(bo){let ca=new c.P(0,0),mo=!0;if(bo.textBox||bo.verticalTextBox){if(Se){const Yo=this.variableOffsets[nr];Yo?(ca=ga(Yo.anchor,Yo.width,Yo.height,Yo.textOffset,Yo.textScale),ze&&ca._rotate(Le?this.transform.angle:-this.transform.angle)):mo=!1}Q&&(mo=!xr.clipped),bo.textBox&&ms(r.textCollisionBox.collisionVertexArray,xr.text.placed,!mo||wi,kn,St,ca.x,ca.y),bo.verticalTextBox&&ms(r.textCollisionBox.collisionVertexArray,xr.text.placed,!mo||Ni,kn,St,ca.x,ca.y)}const Ko=mo&&!!(!Ni&&bo.verticalIconBox);bo.iconBox&&ms(r.iconCollisionBox.collisionVertexArray,xr.icon.placed,Ko,kn,St,cn.hasIconTextFit?ca.x:0,cn.hasIconTextFit?ca.y:0),bo.verticalIconBox&&ms(r.iconCollisionBox.collisionVertexArray,xr.icon.placed,!Ko,kn,St,cn.hasIconTextFit?ca.x:0,cn.hasIconTextFit?ca.y:0)}}}if(r.fullyClipped=kt===0,r.sortFeatures(this.transform.angle),this.retainedQueryData[r.bucketInstanceId]&&(this.retainedQueryData[r.bucketInstanceId].featureSortOrder=r.featureSortOrder),r.hasTextData()&&r.text.opacityVertexBuffer&&r.text.opacityVertexBuffer.updateData(r.text.opacityVertexArray),r.hasIconData()&&r.icon.opacityVertexBuffer&&r.icon.opacityVertexBuffer.updateData(r.icon.opacityVertexArray),r.hasIconCollisionBoxData()&&r.iconCollisionBox.collisionVertexBuffer&&r.iconCollisionBox.collisionVertexBuffer.updateData(r.iconCollisionBox.collisionVertexArray),r.hasTextCollisionBoxData()&&r.textCollisionBox.collisionVertexBuffer&&r.textCollisionBox.collisionVertexBuffer.updateData(r.textCollisionBox.collisionVertexArray),r.bucketInstanceId in this.collisionCircleArrays){const Lt=this.collisionCircleArrays[r.bucketInstanceId];r.placementInvProjMatrix=Lt.invProjMatrix,r.placementViewportMatrix=Lt.viewportMatrix,r.collisionCircleArray=Lt.circles,delete this.collisionCircleArrays[r.bucketInstanceId]}}symbolFadeChange(r){return this.fadeDuration===0?1:(r-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment}zoomAdjustment(r){return Math.max(0,(this.transform.zoom-r)/1.5)}hasTransitions(r){return this.stale||r-this.lastPlacementChangeTime<this.fadeDuration}stillRecent(r,l){const m=this.zoomAtLastRecencyCheck===l?1-this.zoomAdjustment(l):1;return this.zoomAtLastRecencyCheck=l,this.commitTime+this.fadeDuration*m>r}setStale(){this.stale=!0}}function ms(p,r,l,m,_,x,E){p.emplaceBack(r?1:0,l?1:0,x||0,E||0,m,_?1:0),p.emplaceBack(r?1:0,l?1:0,x||0,E||0,m,_?1:0),p.emplaceBack(r?1:0,l?1:0,x||0,E||0,m,_?1:0),p.emplaceBack(r?1:0,l?1:0,x||0,E||0,m,_?1:0)}const $a=Math.pow(2,25),xl=Math.pow(2,24),hl=Math.pow(2,17),Hs=Math.pow(2,16),Rl=Math.pow(2,9),Ql=Math.pow(2,8),xa=Math.pow(2,1);function Wa(p){if(p.opacity===0&&!p.placed)return 0;if(p.opacity===1&&p.placed)return 4294967295;const r=p.placed?1:0,l=Math.floor(127*p.opacity);return l*$a+r*xl+l*hl+r*Hs+l*Rl+r*Ql+l*xa+r}const va=0;class aa{constructor(r){this._sortAcrossTiles=r.layout.get("symbol-z-order")!=="viewport-y"&&r.layout.get("symbol-sort-key").constantOr(1)!==void 0,this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs=new Set,this._bucketParts=[]}continuePlacement(r,l,m,_,x,E){const R=this._bucketParts;for(;this._currentTileIndex<r.length;)if(l.getBucketParts(R,_,r[this._currentTileIndex],this._sortAcrossTiles,E),this._currentTileIndex++,x())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,R.sort((F,V)=>F.sortKey-V.sortKey));this._currentPartIndex<R.length;){const F=R[this._currentPartIndex];if(l.placeLayerBucketPart(F,this._seenCrossTileIDs,m,F.symbolInstanceStart===0,E),this._currentPartIndex++,x())return!0}return!1}}class fs{constructor(r,l,m,_,x,E,R,F,V){this.placement=new Ms(r,x,E,R,F,V),this._currentPlacementIndex=l.length-1,this._forceFullPlacement=m,this._showCollisionBoxes=_,this._done=!1}isDone(){return this._done}continuePlacement(r,l,m,_,x){const E=c.q.now(),R=()=>{const F=c.q.now()-E;return!this._forceFullPlacement&&F>2};for(;this._currentPlacementIndex>=0;){const F=l[r[this._currentPlacementIndex]],V=this.placement.collisionIndex.transform.zoom;if(F.type==="symbol"&&(!F.minzoom||F.minzoom<=V)&&(!F.maxzoom||F.maxzoom>V)){const U=F,Q=U.layout.get("symbol-z-elevate"),ee=U.layout.get("symbol-sort-key").constantOr(1)!==void 0,ce=U.layout.get("symbol-z-order"),Pe=ce==="viewport-y"||ce==="auto"&&!(ce!=="viewport-y"&&ee),Se=U.layout.get("text-allow-overlap")||U.layout.get("icon-allow-overlap")||U.layout.get("text-ignore-placement")||U.layout.get("icon-ignore-placement"),ze=Pe&&Se,Le=this._inProgressLayer=this._inProgressLayer||new aa(U),st=c.aC(F.source,F.scope);if(Le.continuePlacement(Q||ze?_[st]:m[st],this.placement,this._showCollisionBoxes,F,R,x))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0}commit(r){return this.placement.commit(r),this.placement}}const Fs=512/c.ag/2;class Nl{constructor(r,l,m){this.tileID=r,this.bucketInstanceId=m,this.index=new c.bE(l.length,16,Int32Array),this.keys=[],this.crossTileIDs=[];const _=r.canonical.x*c.ag,x=r.canonical.y*c.ag;for(let E=0;E<l.length;E++){const{key:R,crossTileID:F,tileAnchorX:V,tileAnchorY:U}=l.get(E),Q=Math.floor((_+V)*Fs),ee=Math.floor((x+U)*Fs);this.index.add(Q,ee),this.keys.push(R),this.crossTileIDs.push(F)}this.index.finish()}findMatches(r,l,m){const _=this.tileID.canonical.z<l.canonical.z?1:Math.pow(2,this.tileID.canonical.z-l.canonical.z),x=Fs/Math.pow(2,l.canonical.z-this.tileID.canonical.z),E=l.canonical.x*c.ag,R=l.canonical.y*c.ag;for(let F=0;F<r.length;F++){const V=r.get(F);if(V.crossTileID)continue;const{key:U,tileAnchorX:Q,tileAnchorY:ee}=V,ce=Math.floor((E+Q)*x),Pe=Math.floor((R+ee)*x),Se=this.index.range(ce-_,Pe-_,ce+_,Pe+_);for(const ze of Se){const Le=this.crossTileIDs[ze];if(this.keys[ze]===U&&!m.has(Le)){m.add(Le),V.crossTileID=Le;break}}}}}class ec{constructor(){this.maxCrossTileID=0}generate(){return++this.maxCrossTileID}}class zc{constructor(){this.indexes={},this.usedCrossTileIDs={},this.lng=0}handleWrapJump(r){const l=Math.round((r-this.lng)/360);if(l!==0)for(const m in this.indexes){const _=this.indexes[m],x={};for(const E in _){const R=_[E];R.tileID=R.tileID.unwrapTo(R.tileID.wrap+l),x[R.tileID.key]=R}this.indexes[m]=x}this.lng=r}addBucket(r,l,m){if(this.indexes[r.overscaledZ]&&this.indexes[r.overscaledZ][r.key]){if(this.indexes[r.overscaledZ][r.key].bucketInstanceId===l.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(r.overscaledZ,this.indexes[r.overscaledZ][r.key])}for(let x=0;x<l.symbolInstances.length;x++)l.symbolInstances.get(x).crossTileID=0;this.usedCrossTileIDs[r.overscaledZ]||(this.usedCrossTileIDs[r.overscaledZ]=new Set);const _=this.usedCrossTileIDs[r.overscaledZ];for(const x in this.indexes){const E=this.indexes[x];if(Number(x)>r.overscaledZ)for(const R in E){const F=E[R];F.tileID.isChildOf(r)&&F.findMatches(l.symbolInstances,r,_)}else{const R=E[r.scaledTo(Number(x)).key];R&&R.findMatches(l.symbolInstances,r,_)}}for(let x=0;x<l.symbolInstances.length;x++){const E=l.symbolInstances.get(x);E.crossTileID||(E.crossTileID=m.generate(),_.add(E.crossTileID))}return this.indexes[r.overscaledZ]===void 0&&(this.indexes[r.overscaledZ]={}),this.indexes[r.overscaledZ][r.key]=new Nl(r,l.symbolInstances,l.bucketInstanceId),!0}removeBucketCrossTileIDs(r,l){for(const m of l.crossTileIDs)this.usedCrossTileIDs[r].delete(m)}removeStaleBuckets(r){let l=!1;for(const m in this.indexes){const _=this.indexes[m];for(const x in _)r[_[x].bucketInstanceId]||(this.removeBucketCrossTileIDs(m,_[x]),delete _[x],l=!0)}return l}}class Cl{constructor(){this.layerIndexes={},this.crossTileIDs=new ec,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}}addLayer(r,l,m,_){let x=this.layerIndexes[r.fqid];x===void 0&&(x=this.layerIndexes[r.fqid]=new zc);let E=!1;const R={};_.name!=="globe"&&x.handleWrapJump(m);for(const F of l){const V=F.getBucket(r);V&&r.fqid===V.layerIds[0]&&(V.bucketInstanceId||(V.bucketInstanceId=++this.maxBucketInstanceId),x.addBucket(F.tileID,V,this.crossTileIDs)&&(E=!0),R[V.bucketInstanceId]=!0)}return x.removeStaleBuckets(R)&&(E=!0),E}pruneUnusedLayers(r){const l={};r.forEach(m=>{l[m]=!0});for(const m in this.layerIndexes)l[m]||delete this.layerIndexes[m]}}const jl=771;class ia{constructor(r,l,m,_){this.blendFunction=r,this.blendColor=l,this.mask=m,this.blendEquation=_}}ia.Replace=[1,0,1,0],ia.disabled=new ia(ia.Replace,c.aj.transparent,[!1,!1,!1,!1]),ia.unblended=new ia(ia.Replace,c.aj.transparent,[!0,!0,!0,!0]),ia.alphaBlended=new ia([1,jl,1,jl],c.aj.transparent,[!0,!0,!0,!0]),ia.alphaBlendedNonPremultiplied=new ia([770,jl,770,jl],c.aj.transparent,[!0,!0,!0,!0]),ia.multiply=new ia([774,0,774,0],c.aj.transparent,[!0,!0,!0,!0]);class jo{constructor(r,l,m){this.func=r,this.mask=l,this.range=m}}jo.ReadOnly=!1,jo.ReadWrite=!0,jo.disabled=new jo(519,jo.ReadOnly,[0,1]);const su=7680;class ea{constructor(r,l,m,_,x,E){this.test=r,this.ref=l,this.mask=m,this.fail=_,this.depthFail=x,this.pass=E}}ea.disabled=new ea({func:519,mask:0},0,0,su,su,su);const tc=1029,Jc=2305;class sa{constructor(r,l,m){this.enable=r,this.mode=l,this.frontFace=m}}function yc(p,r){const l=c.bG(p,3);c.ab.mat4.fromQuat(p,r),c.bI(p,3,l)}function _c(p,r){const l=c.ab.quat.identity([]);return c.ab.quat.rotateZ(l,l,-r),c.ab.quat.rotateX(l,l,-p),l}function Qc(p,r){const l=[p[0],p[1],0],m=[r[0],r[1],0];if(c.ab.vec3.length(l)>=1e-15){const E=c.ab.vec3.normalize([],l);c.ab.vec3.scale(m,E,c.ab.vec3.dot(m,E)),r[0]=m[0],r[1]=m[1]}const _=c.ab.vec3.cross([],r,p);if(c.ab.vec3.len(_)<1e-15)return null;const x=Math.atan2(-_[1],_[0]);return _c(Math.atan2(Math.sqrt(p[0]*p[0]+p[1]*p[1]),-p[2]),x)}sa.disabled=new sa(!1,tc,Jc),sa.backCCW=new sa(!0,tc,Jc),sa.backCW=new sa(!0,tc,2304),sa.frontCW=new sa(!0,1028,2304),sa.frontCCW=new sa(!0,1028,Jc);class hd{constructor(r,l){this.position=r,this.orientation=l}get position(){return this._position}set position(r){if(r){const l=r instanceof c.aa?r:new c.aa(r[0],r[1],r[2]);this._renderWorldCopies&&(l.x=c.bF(l.x,0,1)),this._position=l}else this._position=null}lookAtPoint(r,l){if(this.orientation=null,!this.position)return;const m=this.position,_=this._elevation?this._elevation.getAtPointOrZero(c.aa.fromLngLat(r)):0,x=c.aa.fromLngLat(r,_),E=[x.x-m.x,x.y-m.y,x.z-m.z];l||(l=[0,0,1]),l[2]=Math.abs(l[2]),this.orientation=Qc(E,l)}setPitchBearing(r,l){this.orientation=_c(c.ai(r),c.ai(-l))}}class nc{constructor(r,l){this._transform=c.ab.mat4.identity([]),this.orientation=l,this.position=r}get mercatorPosition(){const r=this.position;return new c.aa(r[0],r[1],r[2])}get position(){const r=c.bG(this._transform,3);return[r[0],r[1],r[2]]}set position(r){var l;r&&c.bI(this._transform,3,[(l=r)[0],l[1],l[2],1])}get orientation(){return this._orientation}set orientation(r){this._orientation=r||c.ab.quat.identity([]),r&&yc(this._transform,this._orientation)}getPitchBearing(){const r=this.forward(),l=this.right();return{bearing:Math.atan2(-l[1],l[0]),pitch:Math.atan2(Math.sqrt(r[0]*r[0]+r[1]*r[1]),-r[2])}}setPitchBearing(r,l){this._orientation=_c(r,l),yc(this._transform,this._orientation)}forward(){const r=c.bG(this._transform,2);return[-r[0],-r[1],-r[2]]}up(){const r=c.bG(this._transform,1);return[-r[0],-r[1],-r[2]]}right(){const r=c.bG(this._transform,0);return[r[0],r[1],r[2]]}getCameraToWorld(r,l){const m=new Float64Array(16);return c.ab.mat4.invert(m,this.getWorldToCamera(r,l)),m}getCameraToWorldMercator(){return this._transform}getWorldToCameraPosition(r,l,m){const _=this.position;c.ab.vec3.scale(_,_,-r);const x=new Float64Array(16);return c.ab.mat4.fromScaling(x,[m,m,m]),c.ab.mat4.translate(x,x,_),x[10]*=l,x}getWorldToCamera(r,l){const m=new Float64Array(16),_=new Float64Array(4),x=this.position;return c.ab.quat.conjugate(_,this._orientation),c.ab.vec3.scale(x,x,-r),c.ab.mat4.fromQuat(m,_),c.ab.mat4.translate(m,m,x),m[1]*=-1,m[5]*=-1,m[9]*=-1,m[13]*=-1,m[8]*=l,m[9]*=l,m[10]*=l,m[11]*=l,m}getCameraToClipPerspective(r,l,m,_){const x=new Float64Array(16);return c.ab.mat4.perspective(x,r,l,m,_),x}getCameraToClipOrthographic(r,l,m,_,x,E){const R=new Float64Array(16);return c.ab.mat4.ortho(R,r,l,m,_,x,E),R}getDistanceToElevation(r,l=!1){const m=r===0?0:c.bH(r,l?c.aS(this.position[1]):this.position[1]),_=this.forward();return(m-this.position[2])/_[2]}clone(){return new nc([...this.position],[...this.orientation])}}const pl={BaseColor:5,MetallicRoughness:6,Normal:7,Occlusion:8,Emission:9,LUT:10,ShadowMap0:11};class ji{constructor(r=0,l=0,m=0,_=0){if(isNaN(r)||r<0||isNaN(l)||l<0||isNaN(m)||m<0||isNaN(_)||_<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=r,this.bottom=l,this.left=m,this.right=_}interpolate(r,l,m){return l.top!=null&&r.top!=null&&(this.top=c.af(r.top,l.top,m)),l.bottom!=null&&r.bottom!=null&&(this.bottom=c.af(r.bottom,l.bottom,m)),l.left!=null&&r.left!=null&&(this.left=c.af(r.left,l.left,m)),l.right!=null&&r.right!=null&&(this.right=c.af(r.right,l.right,m)),this}getCenter(r,l){const m=c.aw((this.left+r-this.right)/2,0,r),_=c.aw((this.top+l-this.bottom)/2,0,l);return new c.P(m,_)}equals(r){return this.top===r.top&&this.bottom===r.bottom&&this.left===r.left&&this.right===r.right}clone(){return new ji(this.top,this.bottom,this.left,this.right)}toJSON(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}const ju=(p,r,l)=>(1-l)*p+l*r,pd=p=>p*p*p*p*p;class lu{constructor(r,l,m,_,x,E,R){this.tileSize=512,this._renderWorldCopies=x===void 0||x,this._minZoom=r||0,this._maxZoom=l||22,this._minPitch=m!=null?m:0,this._maxPitch=_!=null?_:60,this.setProjection(E),this.setMaxBounds(R),this.width=0,this.height=0,this._center=new c.bO(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._nearZ=0,this._farZ=0,this._unmodified=!0,this._edgeInsets=new ji,this._projMatrixCache={},this._alignedProjMatrixCache={},this._fogTileMatrixCache={},this._expandedProjMatrixCache={},this._distanceTileDataCache={},this._camera=new nc,this._centerAltitude=0,this._averageElevation=0,this.cameraElevationReference="ground",this._pixelsPerMercatorPixel=1,this.globeRadius=0,this.globeCenterInViewSpace=[0,0,0],this._tileCoverLift=0,this.freezeTileCoverage=!1,this._horizonShift=.1,this._orthographicProjectionAtLowPitch=!1}clone(){const r=new lu(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies,this.getProjection());return r._elevation=this._elevation,r._centerAltitude=this._centerAltitude,r._centerAltitudeValidForExaggeration=this._centerAltitudeValidForExaggeration,r.tileSize=this.tileSize,r.mercatorFromTransition=this.mercatorFromTransition,r.width=this.width,r.height=this.height,r.cameraElevationReference=this.cameraElevationReference,r._center=this._center,r._setZoom(this.zoom),r._seaLevelZoom=this._seaLevelZoom,r.angle=this.angle,r._fov=this._fov,r._pitch=this._pitch,r._nearZ=this._nearZ,r._farZ=this._farZ,r._averageElevation=this._averageElevation,r._orthographicProjectionAtLowPitch=this._orthographicProjectionAtLowPitch,r._unmodified=this._unmodified,r._edgeInsets=this._edgeInsets.clone(),r._camera=this._camera.clone(),r._calcMatrices(),r.freezeTileCoverage=this.freezeTileCoverage,r.frustumCorners=this.frustumCorners,r}get isOrthographic(){return this.projection.name!=="globe"&&this._orthographicProjectionAtLowPitch&&this.pitch<15}get elevation(){return this._elevation}set elevation(r){this._elevation!==r&&(this._elevation=r,this._updateCameraOnTerrain(),this._calcMatrices())}get depthOcclusionForSymbolsAndCircles(){return this.projection.name!=="globe"&&!this.isOrthographic}updateElevation(r,l=!1){const m=this._elevation&&this._elevation.exaggeration()!==this._centerAltitudeValidForExaggeration;(this._seaLevelZoom==null||m)&&this._updateCameraOnTerrain(),(r||m)&&this._constrainCamera(l),this._calcMatrices()}getProjection(){return c.ay(this.projection,["name","center","parallels"])}setProjection(r){this.projectionOptions=r||{name:"mercator"};const l=this.projection?this.getProjection():void 0;this.projection=c.bP(this.projectionOptions);const m=this.getProjection(),_=!c.bn(l,m);return _&&this._calcMatrices(),this.mercatorFromTransition=!1,_}setOrthographicProjectionAtLowPitch(r){return this._orthographicProjectionAtLowPitch!==r&&(this._orthographicProjectionAtLowPitch=r,this._calcMatrices(),!0)}setMercatorFromTransition(){const r=this.projection.name;this.mercatorFromTransition=!0,this.projectionOptions={name:"mercator"},this.projection=c.bP({name:"mercator"});const l=r!==this.projection.name;return l&&this._calcMatrices(),l}get minZoom(){return this._minZoom}set minZoom(r){this._minZoom!==r&&(this._minZoom=r,this.zoom=Math.max(this.zoom,r))}get maxZoom(){return this._maxZoom}set maxZoom(r){this._maxZoom!==r&&(this._maxZoom=r,this.zoom=Math.min(this.zoom,r))}get minPitch(){return this._minPitch}set minPitch(r){this._minPitch!==r&&(this._minPitch=r,this.pitch=Math.max(this.pitch,r))}get maxPitch(){return this._maxPitch}set maxPitch(r){this._maxPitch!==r&&(this._maxPitch=r,this.pitch=Math.min(this.pitch,r))}get renderWorldCopies(){return this._renderWorldCopies&&this.projection.supportsWorldCopies===!0}set renderWorldCopies(r){r===void 0?r=!0:r===null&&(r=!1),this._renderWorldCopies=r}get worldSize(){return this.tileSize*this.scale}get cameraWorldSizeForFog(){const r=Math.max(this._camera.getDistanceToElevation(this._averageElevation),Number.EPSILON);return this._worldSizeFromZoom(this._zoomFromMercatorZ(r))}get cameraWorldSize(){const r=Math.max(this._camera.getDistanceToElevation(this._averageElevation,!0),Number.EPSILON);return this._worldSizeFromZoom(this._zoomFromMercatorZ(r))}get pixelsPerMeter(){return this.projection.pixelsPerMeter(this.center.lat,this.worldSize)}get cameraPixelsPerMeter(){return c.bH(1,this.center.lat)*this.cameraWorldSizeForFog}get centerOffset(){return this.centerPoint._sub(this.size._div(2))}get size(){return new c.P(this.width,this.height)}get bearing(){return c.bF(this.rotation,-180,180)}set bearing(r){this.rotation=r}get rotation(){return-this.angle/Math.PI*180}set rotation(r){const l=-r*Math.PI/180;this.angle!==l&&(this._unmodified=!1,this.angle=l,this._calcMatrices(),this.rotationMatrix=c.ab.mat2.create(),c.ab.mat2.rotate(this.rotationMatrix,this.rotationMatrix,this.angle))}get pitch(){return this._pitch/Math.PI*180}set pitch(r){const l=c.aw(r,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==l&&(this._unmodified=!1,this._pitch=l,this._calcMatrices())}get aspect(){return this.width/this.height}get fov(){return this._fov/Math.PI*180}get fovX(){return this._fov}get fovY(){const r=1/Math.tan(.5*this.fovX);return 2*Math.atan(1/this.aspect/r)}set fov(r){r=Math.max(.01,Math.min(60,r)),this._fov!==r&&(this._unmodified=!1,this._fov=c.ai(r),this._calcMatrices())}get averageElevation(){return this._averageElevation}set averageElevation(r){this._averageElevation=r,this._calcFogMatrices(),this._distanceTileDataCache={}}get zoom(){return this._zoom}set zoom(r){const l=Math.min(Math.max(r,this.minZoom),this.maxZoom);this._zoom!==l&&(this._unmodified=!1,this._setZoom(l),this._updateSeaLevelZoom(),this._constrain(),this._calcMatrices())}_setZoom(r){this._zoom=r,this.scale=this.zoomScale(r),this.tileZoom=Math.floor(r),this.zoomFraction=r-this.tileZoom}get tileCoverLift(){return this._tileCoverLift}set tileCoverLift(r){this._tileCoverLift!==r&&(this._tileCoverLift=r)}_updateCameraOnTerrain(){const r=this.elevation?this.elevation.getAtPoint(this.locationCoordinate(this.center),Number.NEGATIVE_INFINITY):Number.NEGATIVE_INFINITY,l=this.elevation&&r===Number.NEGATIVE_INFINITY&&this.elevation.visibleDemTiles.length>0&&this.elevation.exaggeration()>0&&this._centerAltitudeValidForExaggeration;if(!this._elevation||r===Number.NEGATIVE_INFINITY&&(!l||!this._centerAltitude))return this._centerAltitude=0,this._seaLevelZoom=null,void(this._centerAltitudeValidForExaggeration=void 0);const m=this._elevation;l||this._centerAltitude&&this._centerAltitudeValidForExaggeration&&m.exaggeration()&&this._centerAltitudeValidForExaggeration!==m.exaggeration()?(this._centerAltitude=this._centerAltitude/this._centerAltitudeValidForExaggeration*m.exaggeration(),this._centerAltitudeValidForExaggeration=m.exaggeration()):(this._centerAltitude=r||0,this._centerAltitudeValidForExaggeration=m.exaggeration()),this._updateSeaLevelZoom()}_updateSeaLevelZoom(){this._centerAltitudeValidForExaggeration!==void 0&&(this._seaLevelZoom=this._zoomFromMercatorZ((this.pixelsPerMeter*this._centerAltitude+this.cameraToCenterDistance)/this.worldSize))}sampleAverageElevation(){if(!this._elevation)return 0;const r=this._elevation,l=[[.5,.2],[.3,.5],[.5,.5],[.7,.5],[.5,.8]],m=this.horizonLineFromTop();let _=0,x=0;for(let E=0;E<l.length;E++){const R=new c.P(l[E][0]*this.width,m+l[E][1]*(this.height-m)),F=r.pointCoordinate(R);if(!F)continue;const V=1/Math.hypot(F[0]-this._camera.position[0],F[1]-this._camera.position[1]);_+=F[3]*V,x+=V}return x===0?NaN:_/x}get center(){return this._center}set center(r){r.lat===this._center.lat&&r.lng===this._center.lng||(this._unmodified=!1,this._center=r,this._terrainEnabled()&&(this.cameraElevationReference==="ground"?this._updateCameraOnTerrain():this._updateZoomFromElevation()),this._constrain(),this._calcMatrices())}_updateZoomFromElevation(){if(this._seaLevelZoom==null||!this._elevation)return;const r=this._seaLevelZoom,l=this._elevation.getAtPointOrZero(this.locationCoordinate(this.center)),m=this.pixelsPerMeter/this.worldSize*l,_=this._mercatorZfromZoom(r),x=this._mercatorZfromZoom(this._maxZoom),E=Math.max(_-m,x);this._setZoom(this._zoomFromMercatorZ(E))}get padding(){return this._edgeInsets.toJSON()}set padding(r){this._edgeInsets.equals(r)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,r,1),this._calcMatrices())}computeZoomRelativeTo(r){const l=this.rayIntersectionCoordinate(this.pointRayIntersection(this.centerPoint,r.toAltitude()));let m;m=r.z<this._camera.position[2]?[l.x,l.y,l.z]:[r.x,r.y,r.z];const _=c.ab.vec3.length(c.ab.vec3.sub([],this._camera.position,m));return c.aw(this._zoomFromMercatorZ(_),this._minZoom,this._maxZoom)}setFreeCameraOptions(r){if(!this.height||!r.position&&!r.orientation)return;this._updateCameraState();let l=!1;if(r.orientation&&!c.ab.quat.exactEquals(r.orientation,this._camera.orientation)&&(l=this._setCameraOrientation(r.orientation)),r.position){const m=[r.position.x,r.position.y,r.position.z];c.ab.vec3.exactEquals(m,this._camera.position)||(this._setCameraPosition(m),l=!0)}l&&(this._updateStateFromCamera(),this.recenterOnTerrain())}getFreeCameraOptions(){this._updateCameraState();const r=this._camera.position,l=new hd;return l.position=new c.aa(r[0],r[1],r[2]),l.orientation=this._camera.orientation,l._elevation=this.elevation,l._renderWorldCopies=this.renderWorldCopies,l}_setCameraOrientation(r){if(!c.ab.quat.length(r))return!1;c.ab.quat.normalize(r,r);const l=c.ab.vec3.transformQuat([],[0,0,-1],r),m=c.ab.vec3.transformQuat([],[0,-1,0],r);if(m[2]<0)return!1;const _=Qc(l,m);return!!_&&(this._camera.orientation=_,!0)}_setCameraPosition(r){const l=this.zoomScale(this.minZoom)*this.tileSize,m=this.zoomScale(this.maxZoom)*this.tileSize,_=this.cameraToCenterDistance;r[2]=c.aw(r[2],_/m,_/l),this._camera.position=r}get centerPoint(){return this._edgeInsets.getCenter(this.width,this.height)}get fovAboveCenter(){return this._fov*(.5+this.centerOffset.y/this.height)}isPaddingEqual(r){return this._edgeInsets.equals(r)}interpolatePadding(r,l,m){this._unmodified=!1,this._edgeInsets.interpolate(r,l,m),this._constrain(),this._calcMatrices()}coveringZoomLevel(r){const l=(r.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/r.tileSize));return Math.max(0,l)}getVisibleUnwrappedCoordinates(r){const l=[new c.bQ(0,r)];if(this.renderWorldCopies){const m=this.pointCoordinate(new c.P(0,0)),_=this.pointCoordinate(new c.P(this.width,0)),x=this.pointCoordinate(new c.P(this.width,this.height)),E=this.pointCoordinate(new c.P(0,this.height)),R=Math.floor(Math.min(m.x,_.x,x.x,E.x)),F=Math.floor(Math.max(m.x,_.x,x.x,E.x)),V=1;for(let U=R-V;U<=F+V;U++)U!==0&&l.push(new c.bQ(U,r))}return l}isLODDisabled(r){return(!r||this.pitch<=60)&&this._edgeInsets.top<=this._edgeInsets.bottom&&!this._elevation&&!this.projection.isReprojectedInTileSpace}extendTileCover(r,l,m){let _=[];const x=m!==void 0,E=!x;if(E&&this.zoom<l||x&&m[0]===0&&m[1]===0)return _;const R=new Set,F=(U,Q,ee,ce,Pe)=>{const Se=c.c5(Q,U,ee,ce,Pe);R.has(Se)||(_.push(new c.aG(U,Q,ee,ce,Pe)),R.add(Se))};for(let U=0;U<r.length;U++){const Q=r[U];if(E&&Q.canonical.z!==l)continue;const ee=Q.canonical,ce=Q.overscaledZ,Pe=Q.wrap,Se=1<<ee.z,ze=ee.x+1<Se,Le=ee.x>0,st=ee.y+1<Se,St=ee.y>0,xt=Q.wrap-(Le?0:1),Wt=Q.wrap+(ze?0:1),zt=Le?ee.x-1:Se-1,kt=ze?ee.x+1:0;if(x)m[0]<0?(F(ce,Wt,ee.z,kt,ee.y),m[1]<0&&st&&(F(ce,Pe,ee.z,ee.x,ee.y+1),F(ce,Wt,ee.z,kt,ee.y+1)),m[1]>0&&St&&(F(ce,Pe,ee.z,ee.x,ee.y-1),F(ce,Wt,ee.z,kt,ee.y-1))):m[0]>0?(F(ce,xt,ee.z,zt,ee.y),m[1]<0&&st&&(F(ce,Pe,ee.z,ee.x,ee.y+1),F(ce,xt,ee.z,zt,ee.y+1)),m[1]>0&&St&&(F(ce,Pe,ee.z,ee.x,ee.y-1),F(ce,xt,ee.z,zt,ee.y-1))):m[1]<0&&st?F(ce,Pe,ee.z,ee.x,ee.y+1):St&&F(ce,Pe,ee.z,ee.x,ee.y-1);else{const Lt=Q.visibleQuadrants;1&Lt&&(F(ce,xt,ee.z,zt,ee.y),St&&(F(ce,Pe,ee.z,ee.x,ee.y-1),F(ce,xt,ee.z,zt,ee.y-1))),2&Lt&&(F(ce,Wt,ee.z,kt,ee.y),St&&(F(ce,Pe,ee.z,ee.x,ee.y-1),F(ce,Wt,ee.z,kt,ee.y-1))),4&Lt&&(F(ce,xt,ee.z,zt,ee.y),st&&(F(ce,Pe,ee.z,ee.x,ee.y+1),F(ce,xt,ee.z,zt,ee.y+1))),8&Lt&&(F(ce,Wt,ee.z,kt,ee.y),st&&(F(ce,Pe,ee.z,ee.x,ee.y+1),F(ce,Wt,ee.z,kt,ee.y+1)))}}const V=[];for(const U of _)_.some(Q=>U.isChildOf(Q))||V.push(U);if(_=V.filter(U=>!r.some(Q=>!!(U.overscaledZ<l&&Q.isChildOf(U))||U.equals(Q)||U.isChildOf(Q))),E){const U=1<<l,Q=this.projection.name==="globe"?this._camera.mercatorPosition:this.pointCoordinate(this.getCameraPoint()),ee=[U*Q.x,U*Q.y],ce=4,Pe=ce*ce;_=_.filter(Se=>{const ze=Se.canonical.x+.5-ee[0],Le=Se.canonical.y+.5-ee[1];return ze*ze+Le*Le<Pe})}return _}coveringTiles(r){let l=this.coveringZoomLevel(r);const m=l,_=this.elevation&&this.elevation.exaggeration(),x=_&&!r.isTerrainDEM,E=this.projection.name==="mercator";if(r.minzoom!==void 0&&l<r.minzoom)return[];r.maxzoom!==void 0&&l>r.maxzoom&&(l=r.maxzoom);const R=this.locationCoordinate(this.center),F=this.center.lat,V=1<<l,U=[V*R.x,V*R.y,0],Q=this.projection.name==="globe",ee=!Q,ce=c.bR.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,l,ee),Pe=Q?this._camera.mercatorPosition:this.pointCoordinate(this.getCameraPoint()),Se=V*c.bH(1,this.center.lat),ze=this._camera.position[2]/c.bH(1,this.center.lat),Le=[V*Pe.x,V*Pe.y,ze*(ee?1:Se)],st=Q||_,St=this.cameraToCenterDistance/r.tileSize*(r.roundZoom?1:.502),xt=this.isLODDisabled(!0)?l:0;let Wt;if(this._elevation&&r.isTerrainDEM)Wt=1e4*this._elevation.exaggeration();else if(this._elevation){const kn=this._elevation.getMinMaxForVisibleTiles();Wt=kn?kn.max:this._centerAltitude}else Wt=this._centerAltitude;const zt=r.isTerrainDEM?-Wt:this._elevation?this._elevation.getMinElevationBelowMSL():0,kt=this.projection.isReprojectedInTileSpace?c.bS(this):1,Lt=kn=>{const xr=new c.aa(kn.x+25e-6,kn.y,kn.z),zi=new c.aa(kn.x,kn.y+25e-6,kn.z),qr=kn.toLngLat(),Gr=xr.toLngLat(),wi=zi.toLngLat(),Ni=this.locationCoordinate(qr),lo=this.locationCoordinate(Gr),bo=this.locationCoordinate(wi),ca=Math.hypot(lo.x-Ni.x,lo.y-Ni.y),mo=Math.hypot(bo.x-Ni.x,bo.y-Ni.y);return Math.sqrt(ca*mo)*kt/25e-6},cn=kn=>{const Xr=Wt,xr=zt;return{aabb:c.bV(this,V,0,0,0,kn,xr,Xr,this.projection),zoom:0,x:0,y:0,minZ:xr,maxZ:Xr,wrap:kn,fullyVisible:!1}},Tn=[];let hr=[];const nr=l,jr=r.reparseOverscaled?m:l,Br=(ze-this._centerAltitude)*Se,Un=kn=>{if(!this._elevation||!kn.tileID||!E)return;const Xr=this._elevation.getMinMaxForTile(kn.tileID),xr=kn.aabb;Xr?(xr.min[2]=Xr.min,xr.max[2]=Xr.max,xr.center[2]=(xr.min[2]+xr.max[2])/2):(kn.shouldSplit=vi(kn),kn.shouldSplit||(xr.min[2]=xr.max[2]=xr.center[2]=this._centerAltitude))},vr=(kn,Xr)=>{if(.707*Xr<kn)return 1;const xr=Xr/kn;return xr/(1.4144271570014144+(Math.pow(1.1,xr-1.4144271570014144+1)-1)/(1.1-1)-1)},vi=kn=>{if(kn.zoom<xt)return!0;if(kn.zoom===nr)return!1;if(kn.shouldSplit!=null)return kn.shouldSplit;const Xr=kn.aabb.distanceX(Le),xr=kn.aabb.distanceY(Le);let zi=Br,qr=1;if(Q){zi=kn.aabb.distanceZ(Le);const mo=Math.pow(2,kn.zoom),Ko=c.aS((kn.y+1)/mo),Yo=c.aS(kn.y/mo),as=Math.min(Math.max(F,Ko),Yo),Os=c.c9(as)/c.c9(F);if(qr=as===F?1/Math.max(1,this._mercatorScaleRatio-.3):Math.min(1,Os/this._mercatorScaleRatio),this.zoom<=c.c6&&kn.zoom===nr-1&&Os>=.9)return!0}else if(x&&(zi=kn.aabb.distanceZ(Le)*Se),this.projection.isReprojectedInTileSpace&&m<=5){const mo=Math.pow(2,kn.zoom),Ko=Lt(new c.aa((kn.x+.5)/mo,(kn.y+.5)/mo));qr=Ko>.85?1:Ko}if(!E){const mo=Math.sqrt(Xr*Xr+xr*xr+zi*zi);let Ko=(1<<nr-kn.zoom)*St*qr;return Ko*=vr(Math.max(zi,Br),mo),mo<Ko}let Gr=Number.MAX_VALUE,wi=0;const Ni=kn.aabb.getCorners(),lo=[];for(const mo of Ni){c.ab.vec3.sub(lo,mo,Le),Q||(x?lo[2]*=Se:lo[2]=Br);const Ko=c.ab.vec3.dot(lo,this._camera.forward());Ko<Gr&&(Gr=Ko,wi=Math.abs(lo[2]))}let bo=(1<<nr-kn.zoom)*St*qr;if(bo*=vr(Math.max(wi,Br),Gr),Gr<bo)return!0;const ca=kn.aabb.closestPoint(U);return ca[0]===U[0]&&ca[1]===U[1]};if(this.renderWorldCopies)for(let kn=1;kn<=3;kn++)Tn.push(cn(-kn)),Tn.push(cn(kn));for(Tn.push(cn(0));Tn.length>0;){const kn=Tn.pop(),Xr=kn.x,xr=kn.y;let zi=kn.fullyVisible;const qr=()=>this.projection.name==="globe"&&(kn.y===0||kn.y===(1<<kn.zoom)-1);if(!zi){let Gr=st?kn.aabb.intersects(ce):kn.aabb.intersectsFlat(ce);if(Gr===0&&qr()){const wi=new c.bT(kn.zoom,Xr,xr);Gr=c.bU(this,V,wi,!0).intersects(ce)}if(Gr===0)continue;zi=Gr===2}if(kn.zoom!==nr&&vi(kn))for(let Gr=0;Gr<4;Gr++){const wi=(Xr<<1)+Gr%2,Ni=(xr<<1)+(Gr>>1),lo={aabb:E?kn.aabb.quadrant(Gr):c.bV(this,V,kn.zoom+1,wi,Ni,kn.wrap,kn.minZ,kn.maxZ,this.projection),zoom:kn.zoom+1,x:wi,y:Ni,wrap:kn.wrap,fullyVisible:zi,tileID:void 0,shouldSplit:void 0,minZ:kn.minZ,maxZ:kn.maxZ};x&&!Q&&(lo.tileID=new c.aG(kn.zoom+1===nr?jr:kn.zoom+1,kn.wrap,kn.zoom+1,wi,Ni),Un(lo)),Tn.push(lo)}else{const Gr=kn.zoom===nr?jr:kn.zoom;if(r.minzoom&&r.minzoom>Gr)continue;let wi=0;if(!zi){let ca=st?kn.aabb.intersectsPrecise(ce):kn.aabb.intersectsPreciseFlat(ce);if(ca===0&&qr()){const mo=new c.bT(kn.zoom,Xr,xr);ca=c.bU(this,V,mo,!0).intersectsPrecise(ce)}if(ca===0)continue;if(r.calculateQuadrantVisibility)if(ce.containsPoint(kn.aabb.center))wi=15;else for(let mo=0;mo<4;mo++)kn.aabb.quadrant(mo).intersects(ce)!==0&&(wi|=1<<mo)}const Ni=U[0]-(.5+Xr+(kn.wrap<<kn.zoom))*(1<<l-kn.zoom),lo=U[1]-.5-xr,bo=kn.tileID?kn.tileID:new c.aG(Gr,kn.wrap,kn.zoom,Xr,xr);r.calculateQuadrantVisibility&&(bo.visibleQuadrants=wi),hr.push({tileID:bo,distanceSq:Ni*Ni+lo*lo})}}if(this.fogCullDistSq){const kn=this.fogCullDistSq,Xr=this.horizonLineFromTop();hr=hr.filter(xr=>{const zi=[0,0,0,1],qr=[c.ag,c.ag,0,1],Gr=this.calculateFogTileMatrix(xr.tileID.toUnwrapped());c.ab.vec4.transformMat4(zi,zi,Gr),c.ab.vec4.transformMat4(qr,qr,Gr);const wi=c.ab.vec4.min([],zi,qr),Ni=c.ab.vec4.max([],zi,qr),lo=c.bW(wi,Ni);if(lo===0)return!0;let bo=!1;const ca=this._elevation;if(ca&&lo>kn&&Xr!==0){const mo=this.calculateProjMatrix(xr.tileID.toUnwrapped());let Ko;r.isTerrainDEM||(Ko=ca.getMinMaxForTile(xr.tileID)),Ko||(Ko={min:zt,max:Wt});const Yo=c.c7(this.rotation),as=[Yo[0]*c.ag,Yo[1]*c.ag,Ko.max];c.ab.vec3.transformMat4(as,as,mo),bo=(1-as[1])*this.height*.5<Xr}return lo<kn||bo})}return hr.sort((kn,Xr)=>kn.distanceSq-Xr.distanceSq).map(kn=>kn.tileID)}resize(r,l){this.width=r,this.height=l,this.pixelsToGLUnits=[2/r,-2/l],this._constrain(),this._calcMatrices()}get unmodified(){return this._unmodified}zoomScale(r){return Math.pow(2,r)}scaleZoom(r){return Math.log(r)/Math.LN2}project(r){const l=c.aw(r.lat,-c.bX,c.bX),m=this.projection.project(r.lng,l);return new c.P(m.x*this.worldSize,m.y*this.worldSize)}unproject(r){return this.projection.unproject(r.x/this.worldSize,r.y/this.worldSize)}get point(){return this.project(this.center)}get pointMerc(){return this.point._div(this.worldSize)}get pixelsPerMeterRatio(){return this.pixelsPerMeter/c.bH(1,this.center.lat)/this.worldSize}setLocationAtPoint(r,l){let m,_;const x=this.centerPoint;if(this.projection.name==="globe"){const R=this.worldSize;m=(l.x-x.x)/R,_=(l.y-x.y)/R}else{const R=this.pointCoordinate(l),F=this.pointCoordinate(x);m=R.x-F.x,_=R.y-F.y}const E=this.locationCoordinate(r);this.setLocation(new c.aa(E.x-m,E.y-_))}setLocation(r){this.center=this.coordinateLocation(r),this.projection.wrap&&(this.center=this.center.wrap())}locationPoint(r){return this.projection.locationPoint(this,r)}locationPoint3D(r){return this.projection.locationPoint(this,r,!0)}pointLocation(r){return this.coordinateLocation(this.pointCoordinate(r))}pointLocation3D(r){return this.coordinateLocation(this.pointCoordinate3D(r))}locationCoordinate(r,l){const m=l?c.bH(l,r.lat):void 0,_=this.projection.project(r.lng,r.lat);return new c.aa(_.x,_.y,m)}coordinateLocation(r){return this.projection.unproject(r.x,r.y)}pointRayIntersection(r,l){const m=l!=null?l:this._centerAltitude,_=[r.x,r.y,0,1],x=[r.x,r.y,1,1];c.ab.vec4.transformMat4(_,_,this.pixelMatrixInverse),c.ab.vec4.transformMat4(x,x,this.pixelMatrixInverse);const E=x[3];c.ab.vec4.scale(_,_,1/_[3]),c.ab.vec4.scale(x,x,1/E);const R=_[2],F=x[2];return{p0:_,p1:x,t:R===F?0:(m-R)/(F-R)}}screenPointToMercatorRay(r){const l=[r.x,r.y,0,1],m=[r.x,r.y,1,1];return c.ab.vec4.transformMat4(l,l,this.pixelMatrixInverse),c.ab.vec4.transformMat4(m,m,this.pixelMatrixInverse),c.ab.vec4.scale(l,l,1/l[3]),c.ab.vec4.scale(m,m,1/m[3]),l[2]=c.bH(l[2],this._center.lat)*this.worldSize,m[2]=c.bH(m[2],this._center.lat)*this.worldSize,c.ab.vec4.scale(l,l,1/this.worldSize),c.ab.vec4.scale(m,m,1/this.worldSize),new c.aq([l[0],l[1],l[2]],c.ab.vec3.normalize([],c.ab.vec3.sub([],m,l)))}rayIntersectionCoordinate(r){const{p0:l,p1:m,t:_}=r,x=c.bH(l[2],this._center.lat),E=c.bH(m[2],this._center.lat);return new c.aa(c.af(l[0],m[0],_)/this.worldSize,c.af(l[1],m[1],_)/this.worldSize,c.af(x,E,_))}pointCoordinate(r,l=this._centerAltitude){return this.projection.pointCoordinate(this,r.x,r.y,l)}pointCoordinate3D(r){if(!this.elevation)return this.pointCoordinate(r);let l=this.projection.pointCoordinate3D(this,r.x,r.y);if(l)return new c.aa(l[0],l[1],l[2]);let m=0,_=this.horizonLineFromTop();if(r.y>_)return this.pointCoordinate(r);const x=.02*_,E=r.clone();for(let R=0;R<10&&_-m>x;R++){E.y=c.af(m,_,.66);const F=this.projection.pointCoordinate3D(this,E.x,E.y);F?(_=E.y,l=F):m=E.y}return l?new c.aa(l[0],l[1],l[2]):this.pointCoordinate(r)}isPointAboveHorizon(r){return this.projection.isPointAboveHorizon(this,r)}isPointOnSurface(r){if(r.y<0||r.y>this.height||r.x<0||r.x>this.width)return!1;if(this.elevation||this.zoom>=c.bY)return!this.isPointAboveHorizon(r);const l=this.pointCoordinate(r);return l.y>=0&&l.y<=1}_coordinatePoint(r,l){const m=l&&this.elevation?this.elevation.getAtPointOrZero(r,this._centerAltitude):this._centerAltitude,_=[r.x*this.worldSize,r.y*this.worldSize,m+r.toAltitude(),1];return c.ab.vec4.transformMat4(_,_,this.pixelMatrix),_[3]>0?new c.P(_[0]/_[3],_[1]/_[3]):new c.P(Number.MAX_VALUE,Number.MAX_VALUE)}_getBoundsNonRectangular(){const{top:r,left:l}=this._edgeInsets,m=this.height-this._edgeInsets.bottom,_=this.width-this._edgeInsets.right,x=this.pointLocation3D(new c.P(l,r)),E=this.pointLocation3D(new c.P(_,r)),R=this.pointLocation3D(new c.P(_,m)),F=this.pointLocation3D(new c.P(l,m));let V=Math.min(x.lng,E.lng,R.lng,F.lng),U=Math.max(x.lng,E.lng,R.lng,F.lng),Q=Math.min(x.lat,E.lat,R.lat,F.lat),ee=Math.max(x.lat,E.lat,R.lat,F.lat);const ce=Math.pow(2,-this.zoom)/16*270,Pe=this.projection.name==="globe"?1:4,Se=(ze,Le,st,St,xt)=>{const Wt=(ze+st)/2,zt=(Le+St)/2,kt=new c.P(Wt,zt),{lng:Lt,lat:cn}=this.pointLocation3D(kt),Tn=Math.max(0,V-Lt,Q-cn,Lt-U,cn-ee);V=Math.min(V,Lt),U=Math.max(U,Lt),Q=Math.min(Q,cn),ee=Math.max(ee,cn),(xt<Pe||Tn>ce)&&(Se(ze,Le,Wt,zt,xt+1),Se(Wt,zt,st,St,xt+1))};if(Se(l,r,_,r,1),Se(_,r,_,m,1),Se(_,m,l,m,1),Se(l,m,l,r,1),this.projection.name==="globe"){const[ze,Le]=c.bZ(this);ze?(ee=90,U=180,V=-180):Le&&(Q=-90,U=180,V=-180)}return new c.az(new c.bO(V,Q),new c.bO(U,ee))}_getBoundsRectangular(r,l){const{top:m,left:_}=this._edgeInsets,x=this.height-this._edgeInsets.bottom,E=this.width-this._edgeInsets.right,R=new c.P(_,m),F=new c.P(E,m),V=new c.P(E,x),U=new c.P(_,x);let Q=this.pointCoordinate(R,r),ee=this.pointCoordinate(F,r);const ce=this.pointCoordinate(V,l),Pe=this.pointCoordinate(U,l),Se=(ze,Le)=>(Le.y-ze.y)/(Le.x-ze.x);return Q.y>1&&ee.y>=0?Q=new c.aa((1-Pe.y)/Se(Pe,Q)+Pe.x,1):Q.y<0&&ee.y<=1&&(Q=new c.aa(-Pe.y/Se(Pe,Q)+Pe.x,0)),ee.y>1&&Q.y>=0?ee=new c.aa((1-ce.y)/Se(ce,ee)+ce.x,1):ee.y<0&&Q.y<=1&&(ee=new c.aa(-ce.y/Se(ce,ee)+ce.x,0)),new c.az().extend(this.coordinateLocation(Q)).extend(this.coordinateLocation(ee)).extend(this.coordinateLocation(Pe)).extend(this.coordinateLocation(ce))}_getBoundsRectangularTerrain(){const r=this.elevation;if(!r.visibleDemTiles.length||r.isUsingMockSource())return this._getBoundsRectangular(0,0);const l=r.visibleDemTiles.reduce((m,_)=>{if(_.dem){const x=_.dem.tree;m.min=Math.min(m.min,x.minimums[0]),m.max=Math.max(m.max,x.maximums[0])}return m},{min:Number.MAX_VALUE,max:0});return this._getBoundsRectangular(l.min*r.exaggeration(),l.max*r.exaggeration())}getBounds(){return this.projection.name==="mercator"||this.projection.name==="equirectangular"?this._terrainEnabled()?this._getBoundsRectangularTerrain():this._getBoundsRectangular(0,0):this._getBoundsNonRectangular()}horizonLineFromTop(r=!0){const l=this.height/2/Math.tan(this._fov/2)/Math.tan(Math.max(this._pitch,.1))-this.centerOffset.y,m=this.height/2-l*(1-this._horizonShift);return r?Math.max(0,m):m}getMaxBounds(){return this.maxBounds}setMaxBounds(r){this.maxBounds=r,this.minLat=-c.bX,this.maxLat=c.bX,this.minLng=-180,this.maxLng=180,r&&(this.minLat=r.getSouth(),this.maxLat=r.getNorth(),this.minLng=r.getWest(),this.maxLng=r.getEast(),this.maxLng<this.minLng&&(this.maxLng+=360)),this.worldMinX=c.at(this.minLng)*this.tileSize,this.worldMaxX=c.at(this.maxLng)*this.tileSize,this.worldMinY=c.aA(this.maxLat)*this.tileSize,this.worldMaxY=c.aA(this.minLat)*this.tileSize,this._constrain()}calculatePosMatrix(r,l){return this.projection.createTileMatrix(this,l,r)}calculateDistanceTileData(r){const l=r.key,m=this._distanceTileDataCache;if(m[l])return m[l];const _=r.canonical,x=1/this.height,E=this.cameraWorldSize,R=E/this.zoomScale(_.z),F=(_.x+Math.pow(2,_.z)*r.wrap)*R,V=_.y*R,U=this.point;U.x*=E/this.worldSize,U.y*=E/this.worldSize;const Q=this.angle,ee=Math.sin(-Q),ce=-Math.cos(-Q);return m[l]={bearing:[ee,ce],center:[(U.x-F)*x,(U.y-V)*x],scale:R/c.ag*x},m[l]}calculateFogTileMatrix(r){const l=r.key,m=this._fogTileMatrixCache;if(m[l])return m[l];const _=this.projection.createTileMatrix(this,this.cameraWorldSizeForFog,r);return c.ab.mat4.multiply(_,this.worldToFogMatrix,_),m[l]=new Float32Array(_),m[l]}calculateProjMatrix(r,l=!1,m=!1){const _=r.key;let x;if(x=m?this._expandedProjMatrixCache:l?this._alignedProjMatrixCache:this._projMatrixCache,x[_])return x[_];const E=this.calculatePosMatrix(r,this.worldSize);let R;return R=this.projection.isReprojectedInTileSpace?this.mercatorMatrix:m?this.expandedFarZProjMatrix:l?this.alignedProjMatrix:this.projMatrix,c.ab.mat4.multiply(E,R,E),x[_]=new Float32Array(E),x[_]}calculatePixelsToTileUnitsMatrix(r){const l=r.tileID.key,m=this._pixelsToTileUnitsCache;if(m[l])return m[l];const _=c.b_(r,this);return m[l]=_,m[l]}customLayerMatrix(){return this.mercatorMatrix.slice()}globeToMercatorMatrix(){if(this.projection.name==="globe"){const r=1/this.worldSize,l=c.ab.mat4.fromScaling([],[r,r,r]);return c.ab.mat4.multiply(l,l,this.globeMatrix),l}}recenterOnTerrain(){if(!this._elevation||this.projection.name==="globe")return;const r=this._elevation;this._updateCameraState();const l=c.bH(1,this._center.lat)*this.worldSize,m=this._computeCameraPosition(l),_=this._camera.forward(),x=c.bH(1,this._center.lat);m[2]/=x,_[2]/=x,c.ab.vec3.normalize(_,_);const E=r.raycast(m,_,r.exaggeration());if(E){const R=c.ab.vec3.scaleAndAdd([],m,_,E),F=new c.aa(R[0],R[1],c.bH(R[2],c.aS(R[1]))),V=(F.z+c.ab.vec3.length([F.x-m[0],F.y-m[1],F.z-m[2]*x]))*this._pixelsPerMercatorPixel;this._seaLevelZoom=this._zoomFromMercatorZ(V),this._centerAltitude=F.toAltitude(),this._center=this.coordinateLocation(F),this._updateZoomFromElevation(),this._constrain(),this._calcMatrices()}}_constrainCamera(r=!1){if(!this._elevation)return;const l=this._elevation,m=c.bH(1,this._center.lat)*this.worldSize,_=this._computeCameraPosition(m),x=l.getAtPointOrZero(new c.aa(..._)),E=this.pixelsPerMeter/this.worldSize*x,R=this._minimumHeightOverTerrain(),F=_[2]-E;if(F<=R)if(F<0||r){const V=this.locationCoordinate(this._center,this._centerAltitude),U=[_[0],_[1],V.z-_[2]],Q=c.ab.vec3.length(U);U[2]-=(R-F)/this._pixelsPerMercatorPixel;const ee=c.ab.vec3.length(U);if(ee===0)return;c.ab.vec3.scale(U,U,Q/ee*this._pixelsPerMercatorPixel),this._camera.position=[_[0],_[1],V.z*this._pixelsPerMercatorPixel-U[2]],this._updateStateFromCamera()}else this._isCameraConstrained=!0}_constrain(){if(!this.center||!this.width||!this.height||this._constraining)return;this._constraining=!0;const r=this.projection.name==="globe"||this.mercatorFromTransition;if(this.projection.isReprojectedInTileSpace||r){const ee=this.center;return ee.lat=c.aw(ee.lat,this.minLat,this.maxLat),(this.maxBounds||!this.renderWorldCopies&&!r)&&(ee.lng=c.aw(ee.lng,this.minLng,this.maxLng)),this.center=ee,void(this._constraining=!1)}const l=this._unmodified,{x:m,y:_}=this.point;let x=0,E=m,R=_;const F=this.width/2,V=this.height/2,U=this.worldMinY*this.scale,Q=this.worldMaxY*this.scale;if(_-V<U&&(R=U+V),_+V>Q&&(R=Q-V),Q-U<this.height&&(x=Math.max(x,this.height/(Q-U)),R=(Q+U)/2),this.maxBounds||!this._renderWorldCopies||!this.projection.wrap){const ee=this.worldMinX*this.scale,ce=this.worldMaxX*this.scale,Pe=this.worldSize/2-(ee+ce)/2;E=(m+Pe+this.worldSize)%this.worldSize-Pe,E-F<ee&&(E=ee+F),E+F>ce&&(E=ce-F),ce-ee<this.width&&(x=Math.max(x,this.width/(ce-ee)),E=(ce+ee)/2)}E===m&&R===_||(this.center=this.unproject(new c.P(E,R))),x&&(this.zoom+=this.scaleZoom(x)),this._constrainCamera(),this._unmodified=l,this._constraining=!1}_minZoomForBounds(){let r=Math.max(0,this.scaleZoom(this.height/(this.worldMaxY-this.worldMinY)));return this.maxBounds&&(r=Math.max(r,this.scaleZoom(this.width/(this.worldMaxX-this.worldMinX)))),r}_maxCameraBoundsDistance(){return this._mercatorZfromZoom(this._minZoomForBounds())}_calcMatrices(){if(!this.height)return;const r=this.centerOffset,l=this.projection.name==="globe",m=this.pixelsPerMeter;this.projection.name==="globe"&&(this._mercatorScaleRatio=c.bH(1,this.center.lat)/c.bH(1,c.c8));const _=c.b$(this.projection,this.zoom,this.width,this.height,1024);this._pixelsPerMercatorPixel=this.projection.pixelSpaceConversion(this.center.lat,this.worldSize,_),this.cameraToCenterDistance=.5/Math.tan(.5*this._fov)*this.height*this._pixelsPerMercatorPixel,this._updateCameraState(),this._farZ=this.projection.farthestPixelDistance(this),this._nearZ=this.height/50;const x=this.projection.zAxisUnit==="meters"?m:1,E=this._camera.getWorldToCamera(this.worldSize,x);let R;const F=this._camera.getCameraToClipPerspective(this._fov,this.width/this.height,this._nearZ,this._farZ);if(F[8]=2*-r.x/this.width,F[9]=2*r.y/this.height,this.isOrthographic){let cn=.5*this.height/Math.tan(this._fov/2)*1*Math.tan(.5*this._fov),Tn=cn*this.aspect,hr=-Tn,nr=-cn;Tn-=r.x,hr-=r.x,cn+=r.y,nr+=r.y,R=this._camera.getCameraToClipOrthographic(hr,Tn,nr,cn,this._nearZ,this._farZ),((jr,Br,Un,vr)=>{for(let vi=0;vi<16;vi++)jr[vi]=ju(Br[vi],Un[vi],vr)})(R,R,F,pd(this.pitch>=15?1:this.pitch/15))}else R=F;const V=c.ab.mat4.mul([],F,E);let U=c.ab.mat4.mul([],R,E);if(this.projection.isReprojectedInTileSpace){const cn=this.locationCoordinate(this.center),Tn=c.ab.mat4.identity([]);c.ab.mat4.translate(Tn,Tn,[cn.x*this.worldSize,cn.y*this.worldSize,0]),c.ab.mat4.multiply(Tn,Tn,c.c0(this)),c.ab.mat4.translate(Tn,Tn,[-cn.x*this.worldSize,-cn.y*this.worldSize,0]),c.ab.mat4.multiply(U,U,Tn),c.ab.mat4.multiply(V,V,Tn),this.inverseAdjustmentMatrix=c.c1(this)}else this.inverseAdjustmentMatrix=[1,0,0,1];if(this.mercatorMatrix=c.ab.mat4.scale([],U,[this.worldSize,this.worldSize,this.worldSize/x,1]),this.projMatrix=U,this.invProjMatrix=c.ab.mat4.invert(new Float64Array(16),this.projMatrix),l){const cn=this._camera.getCameraToClipPerspective(this._fov,this.width/this.height,this._nearZ,1/0);cn[8]=2*-r.x/this.width,cn[9]=2*r.y/this.height,this.expandedFarZProjMatrix=c.ab.mat4.mul([],cn,E)}else this.expandedFarZProjMatrix=this.projMatrix;const Q=c.ab.mat4.invert([],R);this.frustumCorners=c.c2.fromInvProjectionMatrix(Q,this.horizonLineFromTop(),this.height),this.cameraFrustum=c.bR.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,0,!l);const ee=new Float32Array(16);c.ab.mat4.identity(ee),c.ab.mat4.scale(ee,ee,[1,-1,1]),c.ab.mat4.rotateX(ee,ee,this._pitch),c.ab.mat4.rotateZ(ee,ee,this.angle);const ce=c.ab.mat4.perspective(new Float32Array(16),this._fov,this.width/this.height,this._nearZ,this._farZ);this.starsProjMatrix=c.ab.mat4.clone(ce);const Pe=(Math.PI/2-this._pitch)*(this.height/this._fov)*this._horizonShift;ce[8]=2*-r.x/this.width,ce[9]=2*(r.y+Pe)/this.height,this.skyboxMatrix=c.ab.mat4.multiply(ee,ce,ee);const Se=this.point,ze=Se.x,Le=Se.y,st=this.width%2/2,St=this.height%2/2,xt=Math.cos(this.angle),Wt=Math.sin(this.angle),zt=ze-Math.round(ze)+xt*st+Wt*St,kt=Le-Math.round(Le)+xt*St+Wt*st,Lt=new Float64Array(U);if(c.ab.mat4.translate(Lt,Lt,[zt>.5?zt-1:zt,kt>.5?kt-1:kt,0]),this.alignedProjMatrix=Lt,U=c.ab.mat4.create(),c.ab.mat4.scale(U,U,[this.width/2,-this.height/2,1]),c.ab.mat4.translate(U,U,[1,-1,0]),this.labelPlaneMatrix=U,U=c.ab.mat4.create(),c.ab.mat4.scale(U,U,[1,-1,1]),c.ab.mat4.translate(U,U,[-1,-1,0]),c.ab.mat4.scale(U,U,[2/this.width,2/this.height,1]),this.glCoordMatrix=U,this.pixelMatrix=c.ab.mat4.multiply(new Float64Array(16),this.labelPlaneMatrix,V),this._calcFogMatrices(),this._distanceTileDataCache={},U=c.ab.mat4.invert(new Float64Array(16),this.pixelMatrix),!U)throw new Error("failed to invert matrix");if(this.pixelMatrixInverse=U,this.projection.name==="globe"||this.mercatorFromTransition){this.globeMatrix=c.c3(this);const cn=[this.globeMatrix[12],this.globeMatrix[13],this.globeMatrix[14]];this.globeCenterInViewSpace=c.ab.vec3.transformMat4(cn,cn,E),this.globeRadius=this.worldSize/2/Math.PI-1}else this.globeMatrix=U;this._projMatrixCache={},this._alignedProjMatrixCache={},this._pixelsToTileUnitsCache={},this._expandedProjMatrixCache={}}_calcFogMatrices(){this._fogTileMatrixCache={};const r=this.cameraWorldSizeForFog,l=this.cameraPixelsPerMeter,m=this._camera.position,_=1/this.height/this._pixelsPerMercatorPixel,x=[r,r,l];c.ab.vec3.scale(x,x,_),c.ab.vec3.scale(m,m,-1),c.ab.vec3.multiply(m,m,x);const E=c.ab.mat4.create();c.ab.mat4.translate(E,E,m),c.ab.mat4.scale(E,E,x),this.mercatorFogMatrix=E,this.worldToFogMatrix=this._camera.getWorldToCameraPosition(r,l,_)}_computeCameraPosition(r){const l=(r=r||this.pixelsPerMeter)/this.pixelsPerMeter,m=this._camera.forward(),_=this.point,x=this._mercatorZfromZoom(this._seaLevelZoom?this._seaLevelZoom:this._zoom)*l-r/this.worldSize*this._centerAltitude;return[_.x/this.worldSize-m[0]*x,_.y/this.worldSize-m[1]*x,r/this.worldSize*this._centerAltitude-m[2]*x]}_updateCameraState(){this.height&&(this._camera.setPitchBearing(this._pitch,this.angle),this._camera.position=this._computeCameraPosition())}_translateCameraConstrained(r){const l=this._maxCameraBoundsDistance()*Math.cos(this._pitch),m=this._camera.position[2],_=r[2];let x=1;this.projection.wrap&&(this.center=this.center.wrap()),_>0&&(x=Math.min((l-m)/_,1)),this._camera.position=c.ab.vec3.scaleAndAdd([],this._camera.position,r,x),this._updateStateFromCamera()}_updateStateFromCamera(){const r=this._camera.position,l=this._camera.forward(),{pitch:m,bearing:_}=this._camera.getPitchBearing(),x=c.bH(this._centerAltitude,this.center.lat)*this._pixelsPerMercatorPixel,E=this._mercatorZfromZoom(this._maxZoom)*Math.cos(c.ai(this._maxPitch)),R=Math.max((r[2]-x)/Math.cos(m),E),F=this._zoomFromMercatorZ(R);c.ab.vec3.scaleAndAdd(r,r,l,R),this._pitch=c.aw(m,c.ai(this.minPitch),c.ai(this.maxPitch)),this.angle=c.bF(_,-Math.PI,Math.PI),this._setZoom(c.aw(F,this._minZoom,this._maxZoom)),this._updateSeaLevelZoom(),this._center=this.coordinateLocation(new c.aa(r[0],r[1],r[2])),this._unmodified=!1,this._constrain(),this._calcMatrices()}_worldSizeFromZoom(r){return Math.pow(2,r)*this.tileSize}_mercatorZfromZoom(r){return this.cameraToCenterDistance/this._worldSizeFromZoom(r)}_minimumHeightOverTerrain(){const r=Math.min(this._seaLevelZoom!=null?this._seaLevelZoom:this._zoom,this._maxZoom)+4;return this._mercatorZfromZoom(r)}_zoomFromMercatorZ(r){return this.scaleZoom(this.cameraToCenterDistance/(r*this.tileSize))}zoomFromMercatorZAdjusted(r){let l=0,m=c.bY,_=0,x=1/0;for(;m-l>1e-6&&m>l;){const E=l+.5*(m-l),R=this.tileSize*Math.pow(2,E),F=this.getCameraToCenterDistance(this.projection,E,R),V=this.scaleZoom(F/(r*this.tileSize)),U=Math.abs(E-V);U<x&&(x=U,_=E),E<V?l=E:m=E}return _}_terrainEnabled(){return!(!this._elevation||!this.projection.supportsTerrain&&(c.w("Terrain is not yet supported with alternate projections. Use mercator or globe to enable terrain."),1))}anyCornerOffEdge(r,l){const m=Math.min(r.x,l.x),_=Math.max(r.x,l.x),x=Math.min(r.y,l.y),E=Math.max(r.y,l.y);if(x<this.horizonLineFromTop(!1))return!0;if(this.projection.name!=="mercator")return!1;const R=[new c.P(m,x),new c.P(_,E),new c.P(m,E),new c.P(_,x)],F=this.renderWorldCopies?-3:0,V=this.renderWorldCopies?4:1;for(const U of R){const Q=this.pointRayIntersection(U);if(Q.t<0)return!0;const ee=this.rayIntersectionCoordinate(Q);if(ee.x<F||ee.y<0||ee.x>V||ee.y>1)return!0}return!1}isHorizonVisible(){return this.pitch+c.c4(this.fovAboveCenter)>88||this.anyCornerOffEdge(new c.P(0,0),new c.P(this.width,this.height))}zoomDeltaToMovement(r,l){const m=c.ab.vec3.length(c.ab.vec3.sub([],this._camera.position,r)),_=this._zoomFromMercatorZ(m)+l;return m-this._mercatorZfromZoom(_)}getCameraPoint(){if(this.projection.name==="globe"){const r=function([l,m,_],x){const E=[l,m,_,1];c.ab.vec4.transformMat4(E,E,x);const R=E[3]=Math.max(E[3],1e-6);return E[0]/=R,E[1]/=R,E[2]/=R,E}([this.globeMatrix[12],this.globeMatrix[13],this.globeMatrix[14]],this.pixelMatrix);return new c.P(r[0],r[1])}{const r=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new c.P(0,r))}}getCameraToCenterDistance(r,l=this.zoom,m=this.worldSize){const _=c.b$(r,l,this.width,this.height,1024),x=r.pixelSpaceConversion(this.center.lat,m,_);let E=.5/Math.tan(.5*this._fov)*this.height*x;return this.isOrthographic&&(E=ju(1,E,pd(this.pitch>=15?1:this.pitch/15))),E}getWorldToCameraMatrix(){const r=this._camera.getWorldToCamera(this.worldSize,this.projection.zAxisUnit==="meters"?this.pixelsPerMeter:1);return this.projection.name==="globe"&&c.ab.mat4.multiply(r,r,this.globeMatrix),r}getFrustum(r){return c.bR.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,r,this.projection.zAxisUnit==="meters")}}const an=(p,r)=>{if(r>0&&p.terrain&&c.w("Cutoff is currently disabled on terrain"),r<=0||p.terrain)return{shouldRenderCutoff:!1,uniformValues:{u_cutoff_params:[0,0,0,1]}};const l=p.transform,m=Math.max(Math.abs(l._zoom-(p.minCutoffZoom-1)),1),_=l.isLODDisabled(!1)?c.ac(60,45,l.pitch):c.ac(30,15,l.pitch),x=l._farZ-l._nearZ,E=r*l.height,R=((1-(F=_))*l.cameraToCenterDistance+F*(l._farZ+E))*m;var F;return{shouldRenderCutoff:_<1,uniformValues:{u_cutoff_params:[l._nearZ,l._farZ,(R-l._nearZ)/x,(R-E-l._nearZ)/x]}}},jn={cascadeCount:2,normalOffset:3,shadowMapResolution:2048};class Jn{constructor(r,l){this.aabb=r,this.lastCascade=l}}class pr{add(r,l){const m=this.receivers[r.key];m!==void 0?(m.aabb.min[0]=Math.min(m.aabb.min[0],l.min[0]),m.aabb.min[1]=Math.min(m.aabb.min[1],l.min[1]),m.aabb.min[2]=Math.min(m.aabb.min[2],l.min[2]),m.aabb.max[0]=Math.max(m.aabb.max[0],l.max[0]),m.aabb.max[1]=Math.max(m.aabb.max[1],l.max[1]),m.aabb.max[2]=Math.max(m.aabb.max[2],l.max[2])):this.receivers[r.key]=new Jn(l,null)}clear(){this.receivers={}}get(r){return this.receivers[r.key]}computeRequiredCascades(r,l,m){const _=c.cd.fromPoints(r.points);let x=0;for(const E in this.receivers){const R=this.receivers[E];if(!R||!_.intersectsAabb(R.aabb))continue;R.aabb.min=_.closestPoint(R.aabb.min),R.aabb.max=_.closestPoint(R.aabb.max);const F=R.aabb.getCorners();for(let V=0;V<m.length;V++){let U=!0;for(const Q of F){const ee=[Q[0]*l,Q[1]*l,Q[2]];if(c.ab.vec3.transformMat4(ee,ee,m[V].matrix),ee[0]<-1||ee[0]>1||ee[1]<-1||ee[1]>1){U=!1;break}}if(R.lastCascade=V,x=Math.max(x,V),U)break}}return x+1}}class Qr{constructor(r){this.painter=r,this._enabled=!1,this._shadowLayerCount=0,this._numCascadesToRender=0,this._cascades=[],this._groundShadowTiles=[],this._receivers=new pr,this._depthMode=new jo(r.context.gl.LEQUAL,jo.ReadWrite,[0,1]),this._uniformValues={u_light_matrix_0:new Float32Array(16),u_light_matrix_1:new Float32Array(16),u_shadow_intensity:0,u_fade_range:[0,0],u_shadow_normal_offset:[1,1,1],u_shadow_texel_size:1,u_shadow_map_resolution:1,u_shadow_direction:[0,0,1],u_shadow_bias:[36e-5,.0012,.012],u_shadowmap_0:0,u_shadowmap_1:0},this._forceDisable=!1,this.useNormalOffset=!1,r.tp.registerParameter(this,["Shadows"],"_forceDisable",{label:"forceDisable"},()=>{this.painter.style.map.triggerRepaint()}),r.tp.registerParameter(jn,["Shadows"],"cascadeCount",{min:1,max:2,step:1}),r.tp.registerParameter(jn,["Shadows"],"normalOffset",{min:0,max:10,step:.05}),r.tp.registerParameter(jn,["Shadows"],"shadowMapResolution",{min:32,max:2048,step:32}),r.tp.registerBinding(this,["Shadows"],"_numCascadesToRender",{readonly:!0,label:"numCascadesToRender"})}destroy(){for(const r of this._cascades)r.texture.destroy(),r.framebuffer.destroy();this._cascades=[]}updateShadowParameters(r,l){const m=this.painter;if(this._enabled=!1,this._shadowLayerCount=0,this._receivers.clear(),!l||!l.properties)return;const _=l.properties.get("shadow-intensity");if(!l.shadowsEnabled()||_<=0||(this._shadowLayerCount=m.style.order.reduce((Pe,Se)=>{const ze=m.style._mergedLayers[Se];return Pe+(ze.hasShadowPass()&&!ze.isHidden(r.zoom)?1:0)},0),this._enabled=this._shadowLayerCount>0,!this.enabled))return;const x=m.context,E=jn.shadowMapResolution,R=jn.shadowMapResolution;if(this._cascades.length===0||jn.shadowMapResolution!==this._cascades[0].texture.size[0]){this._cascades=[];for(let Pe=0;Pe<jn.cascadeCount;++Pe){const Se=m._shadowMapDebug,ze=x.gl,Le=x.createFramebuffer(E,R,Se,"texture"),st=new c.T(x,{width:E,height:R,data:null},ze.DEPTH_COMPONENT16);if(Le.depthAttachment.set(st.texture),Se){const St=new c.T(x,{width:E,height:R,data:null},ze.RGBA8);Le.colorAttachment.set(St.texture)}this._cascades.push({framebuffer:Le,texture:st,matrix:[],far:0,boundingSphereRadius:0,frustum:new c.bR,scale:0})}}this.shadowDirection=vo(l);let F=0;if(r.elevation){const Pe=r.elevation,Se=[1e4,-1e4];Pe.visibleDemTiles.filter(ze=>ze.dem).forEach(ze=>{const Le=ze.dem.tree;Se[0]=Math.min(Se[0],Le.minimums[0]),Se[1]=Math.max(Se[1],Le.maximums[0])}),Se[0]!==1e4&&(F=(Se[1]-Se[0])*Pe.exaggeration())}const V=1.5*r.cameraToCenterDistance,U=3*V,Q=new Float64Array(16);for(let Pe=0;Pe<this._cascades.length;++Pe){const Se=this._cascades[Pe];let ze=r.height/50,Le=1;jn.cascadeCount===1?Le=U:Pe===0?Le=V:(ze=V,Le=U);const[st,St]=Oo(r,this.shadowDirection,ze,Le,jn.shadowMapResolution,F);Se.scale=r.scale,Se.matrix=st,Se.boundingSphereRadius=St,c.ab.mat4.invert(Q,Se.matrix),Se.frustum=c.bR.fromInvProjectionMatrix(Q,1,0,!0),Se.far=Le}const ee=this._cascades.length-1;this._uniformValues.u_fade_range=[.75*this._cascades[ee].far,this._cascades[ee].far],this._uniformValues.u_shadow_intensity=_,this._uniformValues.u_shadow_direction=[this.shadowDirection[0],this.shadowDirection[1],this.shadowDirection[2]],this._uniformValues.u_shadow_texel_size=1/jn.shadowMapResolution,this._uniformValues.u_shadow_map_resolution=jn.shadowMapResolution,this._uniformValues.u_shadowmap_0=pl.ShadowMap0,this._uniformValues.u_shadowmap_1=pl.ShadowMap0+1,this._groundShadowTiles=m.transform.coveringTiles({tileSize:512,renderWorldCopies:!0});const ce=m.transform.elevation;for(const Pe of this._groundShadowTiles){let Se={min:0,max:0};if(ce){const ze=ce.getMinMaxForTile(Pe);ze&&(Se=ze)}this.addShadowReceiver(Pe.toUnwrapped(),Se.min,Se.max)}}get enabled(){return this._enabled&&!this._forceDisable}set enabled(r){this._enabled=r}drawShadowPass(r,l){if(!this.enabled)return;const m=this.painter,_=m.context;this._numCascadesToRender=this._receivers.computeRequiredCascades(m.transform.getFrustum(0),m.transform.worldSize,this._cascades),_.viewport.set([0,0,jn.shadowMapResolution,jn.shadowMapResolution]);for(let x=0;x<this._numCascadesToRender;++x){m.currentShadowCascade=x,_.bindFramebuffer.set(this._cascades[x].framebuffer.framebuffer),_.clear({color:c.aj.white,depth:1});for(const E of r.order){const R=r._mergedLayers[E];if(!R.hasShadowPass()||R.isHidden(m.transform.zoom))continue;const F=r.getLayerSourceCache(R),V=F?l[F.id]:void 0;(R.type==="model"||V&&V.length)&&m.renderLayer(m,F,R,V)}}m.currentShadowCascade=0}drawGroundShadows(){if(!this.enabled)return;const r=this.painter,l=r.style,m=r.context,_=l.directionalLight,x=l.ambientLight;if(!_||!x)return;const E=[],R=an(r,r.longestCutoffRange);R.shouldRenderCutoff&&E.push("RENDER_CUTOFF"),E.push("RENDER_SHADOWS","DEPTH_TEXTURE"),this.useNormalOffset&&E.push("NORMAL_OFFSET");const F=no(l,_,x),V=new jo(m.gl.LEQUAL,jo.ReadOnly,r.depthRangeFor3D);for(const U of this._groundShadowTiles){const Q=U.toUnwrapped(),ee=r.isTileAffectedByFog(U),ce=r.getOrCreateProgram("groundShadow",{defines:E,overrideFog:ee});this.setupShadows(Q,ce),r.uploadCommonUniforms(m,ce,Q,null,R);const Pe={u_matrix:r.transform.calculateProjMatrix(Q),u_ground_shadow_factor:F};ce.draw(r,m.gl.TRIANGLES,V,ea.disabled,ia.multiply,sa.disabled,Pe,"ground_shadow",r.tileExtentBuffer,r.quadTriangleIndexBuffer,r.tileExtentSegments,{},r.transform.zoom,null,null)}}getShadowPassColorMode(){return this.painter._shadowMapDebug?ia.unblended:ia.disabled}getShadowPassDepthMode(){return this._depthMode}getShadowCastingLayerCount(){return this._shadowLayerCount}calculateShadowPassMatrixFromTile(r){const l=this.painter.transform,m=l.calculatePosMatrix(r,l.worldSize);return c.ab.mat4.multiply(m,this._cascades[this.painter.currentShadowCascade].matrix,m),Float32Array.from(m)}calculateShadowPassMatrixFromMatrix(r){return c.ab.mat4.multiply(r,this._cascades[this.painter.currentShadowCascade].matrix,r),Float32Array.from(r)}setupShadows(r,l,m,_=0){if(!this.enabled)return;const x=this.painter.transform,E=this.painter.context,R=E.gl,F=this._uniformValues,V=new Float64Array(16),U=x.calculatePosMatrix(r,x.worldSize);for(let Q=0;Q<this._cascades.length;Q++)c.ab.mat4.multiply(V,this._cascades[Q].matrix,U),F[Q===0?"u_light_matrix_0":"u_light_matrix_1"]=Float32Array.from(V),E.activeTexture.set(R.TEXTURE0+pl.ShadowMap0+Q),this._cascades[Q].texture.bind(R.NEAREST,R.CLAMP_TO_EDGE);if(this.useNormalOffset=!!m,this.useNormalOffset){const Q=c.cc(r.canonical),ee=2/x.tileSize*c.ag/jn.shadowMapResolution,ce=ee*this._cascades[0].boundingSphereRadius,Pe=ee*this._cascades[this._cascades.length-1].boundingSphereRadius,Se=(m==="vector-tile"?1:3)/Math.pow(2,_-r.canonical.z-(1-x.zoom+Math.floor(x.zoom)));F.u_shadow_normal_offset=[Q,ce*Se,Pe*Se],F.u_shadow_bias=[6e-5,.0012,.012]}else F.u_shadow_bias=[36e-5,.0012,.012];l.setShadowUniformValues(E,F)}setupShadowsFromMatrix(r,l,m=!1){if(!this.enabled)return;const _=this.painter.context,x=_.gl,E=this._uniformValues,R=new Float64Array(16);for(let F=0;F<jn.cascadeCount;F++)c.ab.mat4.multiply(R,this._cascades[F].matrix,r),E[F===0?"u_light_matrix_0":"u_light_matrix_1"]=Float32Array.from(R),_.activeTexture.set(x.TEXTURE0+pl.ShadowMap0+F),this._cascades[F].texture.bind(x.NEAREST,x.CLAMP_TO_EDGE);if(this.useNormalOffset=m,m){const F=jn.normalOffset;E.u_shadow_normal_offset=[1,F,F],E.u_shadow_bias=[6e-5,.0012,.012]}else E.u_shadow_bias=[36e-5,.0012,.012];l.setShadowUniformValues(_,E)}getShadowUniformValues(){return this._uniformValues}getCurrentCascadeFrustum(){return this._cascades[this.painter.currentShadowCascade].frustum}computeSimplifiedTileShadowVolume(r,l,m,_){if(_[2]>=0)return{};const x=function(F,V,U){const Q=U/(1<<F.canonical.z);return new c.cd([F.canonical.x*Q+F.wrap*U,F.canonical.y*Q+F.wrap*U,0],[(F.canonical.x+1)*Q+F.wrap*U,(F.canonical.y+1)*Q+F.wrap*U,V])}(r,l,m).getCorners(),E=l/-_[2];_[0]<0?(c.ab.vec3.add(x[0],x[0],[_[0]*E,0,0]),c.ab.vec3.add(x[3],x[3],[_[0]*E,0,0])):_[0]>0&&(c.ab.vec3.add(x[1],x[1],[_[0]*E,0,0]),c.ab.vec3.add(x[2],x[2],[_[0]*E,0,0])),_[1]<0?(c.ab.vec3.add(x[0],x[0],[0,_[1]*E,0]),c.ab.vec3.add(x[1],x[1],[0,_[1]*E,0])):_[1]>0&&(c.ab.vec3.add(x[2],x[2],[0,_[1]*E,0]),c.ab.vec3.add(x[3],x[3],[0,_[1]*E,0]));const R={};return R.vertices=x,R.planes=[ro(x[1],x[0],x[4]),ro(x[2],x[1],x[5]),ro(x[3],x[2],x[6]),ro(x[0],x[3],x[7])],R}addShadowReceiver(r,l,m){this._receivers.add(r,c.cd.fromTileIdAndHeight(r,l,m))}getMaxCascadeForTile(r){const l=this._receivers.get(r);return l&&l.lastCascade?l.lastCascade:0}}function ro(p,r,l){const m=c.ab.vec3.sub([],l,r),_=c.ab.vec3.sub([],p,r),x=c.ab.vec3.cross([],m,_),E=c.ab.vec3.length(x);return E===0?[0,0,1,0]:(c.ab.vec3.scale(x,x,1/E),[x[0],x[1],x[2],-c.ab.vec3.dot(x,r)])}function vo(p){const r=p.properties.get("direction"),l=c.cb(r.x,r.y,r.z);l[2]=c.aw(l[2],0,75);const m=c.ce([l[0],l[1],l[2]]);return c.ab.vec3.fromValues(m.x,m.y,m.z)}function no(p,r,l){const m=r.properties.get("color-use-theme")==="none",_=r.properties.get("color"),x=r.properties.get("intensity"),E=r.properties.get("direction"),R=[E.x,E.y,E.z],F=l.properties.get("color-use-theme")==="none",V=l.properties.get("color"),U=l.properties.get("intensity"),Q=Math.max(c.ab.vec3.dot([0,0,1],R),0),ee=[0,0,0];c.ab.vec3.scale(ee,V.toRenderColor(F?null:p.getLut(r.scope)).toArray01Linear().slice(0,3),U);const ce=[0,0,0];return c.ab.vec3.scale(ce,_.toRenderColor(m?null:p.getLut(l.scope)).toArray01Linear().slice(0,3),Q*x),c.cf([ee[0]>0?ee[0]/(ee[0]+ce[0]):0,ee[1]>0?ee[1]/(ee[1]+ce[1]):0,ee[2]>0?ee[2]/(ee[2]+ce[2]):0])}function Oo(p,r,l,m,_,x){const E=p.zoom,R=p.scale,F=p.worldSize,V=1/F,U=p.aspect,Q=Math.sqrt(1+U*U)*Math.tan(.5*p.fovX),ee=Q*Q,ce=m-l,Pe=m+l;let Se,ze;ee>ce/Pe?(Se=m,ze=m*Q):(Se=.5*Pe*(1+ee),ze=.5*Math.sqrt(ce*ce+2*(m*m+l*l)*ee+Pe*Pe*ee*ee));const Le=p.projection.pixelsPerMeter(p.center.lat,F),st=p._camera.getCameraToWorldMercator(),St=[0,0,-Se*V];c.ab.vec3.transformMat4(St,St,st);let xt=ze*V;const Wt=p._edgeInsets;if(!(Wt.left===0&&Wt.top===0&&Wt.right===0&&Wt.bottom===0||Wt.left===Wt.right&&Wt.top===Wt.bottom)){const zi=p._camera.getWorldToCamera(p.worldSize,p.projection.zAxisUnit==="meters"?Le:1),qr=p._camera.getCameraToClipPerspective(p._fov,p.width/p.height,l,m);qr[8]=2*-p.centerOffset.x/p.width,qr[9]=2*p.centerOffset.y/p.height;const Gr=new Float64Array(16);c.ab.mat4.mul(Gr,qr,zi);const wi=new Float64Array(16);c.ab.mat4.invert(wi,Gr);const Ni=c.bR.fromInvProjectionMatrix(wi,F,E,!0);for(const lo of Ni.points){const bo=((zt=lo)[0]/=R,zt[1]/=R,zt[2]=c.bH(zt[2],p._center.lat),zt);xt=Math.max(xt,c.ab.vec3.len(c.ab.vec3.subtract([],St,bo)))}}var zt;xt*=_/(_-1);const kt=Math.acos(r[2]),Lt=Math.atan2(-r[0],-r[1]),cn=new nc;cn.position=St,cn.setPitchBearing(kt,Lt);const Tn=cn.getWorldToCamera(F,Le),hr=xt*F,nr=Math.min(p._mercatorZfromZoom(17)*F*-2,-2*hr),jr=cn.getCameraToClipOrthographic(-hr,hr,-hr,hr,nr,(hr+x*Le)/r[2]),Br=new Float64Array(16);c.ab.mat4.multiply(Br,jr,Tn);const Un=c.ab.vec3.fromValues(Math.floor(1e6*St[0])/1e6*F,Math.floor(1e6*St[1])/1e6*F,0),vr=.5*_,vi=[0,0,0];c.ab.vec3.transformMat4(vi,Un,Br),c.ab.vec3.scale(vi,vi,vr);const kn=[Math.floor(vi[0]),Math.floor(vi[1]),Math.floor(vi[2])],Xr=[0,0,0];c.ab.vec3.sub(Xr,vi,kn),c.ab.vec3.scale(Xr,Xr,-1/vr);const xr=new Float64Array(16);return c.ab.mat4.identity(xr),c.ab.mat4.translate(xr,xr,Xr),c.ab.mat4.multiply(Br,xr,Br),[Br,hr]}class co extends c.E{constructor(r){super(),this.requestManager=r,this.models={"":{}},this.modelUris={"":{}},this.numModelsLoading={}}loadModel(r,l){return c.aM(this.requestManager.transformRequest(l,c.R.Model).url).then(m=>{if(!m)return;const _=c.aN(m),x=new c.aO(r,void 0,void 0,_);return x.computeBoundsAndApplyParent(),x}).catch(m=>{if(m&&m.status===404)return null;this.fire(new c.y(new Error(`Could not load model ${r} from ${l}: ${m.message}`)))})}load(r,l,m={keepNumReferences:!1}){this.models[l]||(this.models[l]={});const _=Object.keys(r);this.numModelsLoading[l]=(this.numModelsLoading[l]||0)+_.length;const x=[];for(const E of _)x.push(this.loadModel(E,r[E]));Promise.allSettled(x).then(E=>{for(let R=0;R<E.length;R++){const{status:F,value:V}=E[R];if(F==="fulfilled"&&V){const U=this.models[l][_[R]];this.models[l][_[R]]={model:V,numReferences:m.keepNumReferences&&U?U.numReferences:1}}}this.numModelsLoading[l]-=_.length,this.fire(new c.z("data",{dataType:"style"}))}).catch(E=>{this.fire(new c.y(new Error(`Could not load models: ${E.message}`)))})}isLoaded(){for(const r in this.numModelsLoading)if(this.numModelsLoading[r]>0)return!1;return!0}hasModel(r,l){return!!this.getModel(r,l)}getModel(r,l){return this.models[l]||(this.models[l]={}),this.models[l][r]?this.models[l][r].model:void 0}addModel(r,l,m){this.models[m]||(this.models[m]={}),this.modelUris[m]||(this.modelUris[m]={}),this.hasModel(r,m)&&this.models[m][r].numReferences++,this.modelUris[m][r]=this.requestManager.normalizeModelURL(l),this.load({[r]:this.modelUris[m][r]},m)}addModels(r,l){this.models[l]||(this.models[l]={}),this.modelUris[l]||(this.modelUris[l]={});const m=this.modelUris[l];for(const _ in r)this.models[l][_]={},m[_]=this.requestManager.normalizeModelURL(r[_]);this.load(m,l,{keepNumReferences:!0})}reloadModels(r){this.load(this.modelUris[r],r)}addModelsFromBucket(r,l){this.models[l]||(this.models[l]={}),this.modelUris[l]||(this.modelUris[l]={});const m={};for(const _ of r)this.hasModel(_,l)?this.models[l][_].numReferences++:(this.modelUris[l][_]=this.requestManager.normalizeModelURL(_),m[_]=this.modelUris[l][_]);this.load(m,l)}removeModel(r,l){if(this.models[l]&&this.models[l][r]&&(this.models[l][r].numReferences--,this.models[l][r].numReferences===0)){const m=this.models[l][r].model;delete this.models[l][r],delete this.modelUris[l][r],m.destroy()}}listModels(r){return this.models[r]||(this.models[r]={}),Object.keys(this.models[r])}upload(r,l){this.models[l]||(this.models[l]={});for(const m in this.models[l])this.models[l][m].model&&this.models[l][m].model.upload(r.context)}}const ao=new c.a5({data:new c.a6(c.a3.colorTheme.data)}),Fo={"mbx-indoor-active-floorplans":{default:["literal",[]]},"mbx-indoor-underground":{default:["literal",!1]},"mbx-indoor-loaded-levels":{default:["literal",[]]},"mbx-indoor-level-height":{default:["literal",{}]},"mbx-indoor-level-base":{default:["literal",{}]},"mbx-indoor-level-selected":{default:["literal",{}]},"mbx-indoor-level-overlapped":{default:["literal",{}]}};function Vo(p){return p=p||{},Object.assign(p,Fo)}class ta extends c.E{constructor(r){super(),this.mergeFloors=!0,this._scope=void 0,this._queryFeatureSetId=void 0,this._buildingEntryFeatureSetId=void 0,this._selectedFloorplan=void 0,this._indoorData=void 0,this._selectedLevel=void 0,this._floorplanStates={},c.aP(["_onLoad","_onMove","_checkFloorplanVisible"],this),this._map=r,this._checkFloorplanVisible(!0),this._map.on("load",this._onLoad),this._map.on("move",this._onMove)}destroy(){this._map.indoor.off("load",this._onLoad),this._map.indoor.off("move",this._onMove),this._map=void 0}_onLoad(){this._map.style.forEachFragmentStyle(r=>{r.stylesheet.indoor&&(this._queryFeatureSetId?this.fire(new c.y(new Error("Multiple indoor map styles detected, simultaneous usage is not allowed currently."))):(this._queryFeatureSetId=r.stylesheet.indoor.floorplanFeaturesetId,this._buildingEntryFeatureSetId=r.stylesheet.indoor.buildingFeaturesetId,this._scope=r.scope))}),this._queryFeatureSetId&&this._buildingEntryFeatureSetId&&this._map.addInteraction("mbx-indoor-buildingclick",{type:"click",target:{featuresetId:this._buildingEntryFeatureSetId,importId:this._scope},handler:r=>(r.feature&&r.feature.properties.floorplan&&this.selectFloorplan(r.feature.properties.floorplan),!0)}),this._checkFloorplanVisible(!0)}_onMove(){this._checkFloorplanVisible(!1)}_checkFloorplanVisible(r){if(!this._queryFeatureSetId||!this._map.isStyleLoaded()||this._map.transform.zoom<13)return;this._indoorData&&!function(E,R){const[F,V]=E,{center:U,radius:Q}=R,[ee,ce]=U,Pe=Math.abs(F-ee);return Math.sqrt(V_(Pe>180?360-Pe:Pe,2)+V_(V-ce,2))<=Q}([this._map.getCenter().lng,this._map.getCenter().lat],this._indoorData.circumCircle)&&(this._indoorData=void 0,this._selectedFloorplan=void 0,this._map.setConfigProperty(this._scope,"mbx-indoor-underground",!1),this._map.setConfigProperty(this._scope,"mbx-indoor-active-floorplans",["literal",[]]),this.fire(new c.z("floorplangone")));const l={target:{featuresetId:this._queryFeatureSetId,importId:this._scope}},m=new c.P(this._map.transform.width/2,this._map.transform.height/2),_=[new c.P(0,0),new c.P(this._map.transform.width,this._map.transform.height)],x=this._map.queryRenderedFeatures(r?_:m,l);x.length>0&&(this._selectedFloorplan&&x[0].properties.id===this._selectedFloorplan.properties.id||(this._selectedFloorplan=x[0],this._floorplanSelected(!1)))}_floorplanSelected(r){this._indoorData=JSON.parse(this._selectedFloorplan.properties["indoor-data"]),this._indoorData.id=this._selectedFloorplan.properties.id,this._indoorData.circumCircle=function(x){const[[E,R],[F,V]]=x,U=(F-E+360)%360,Q=U>180?360-U:U;return{center:[(E+Q/2+360)%360,(R+V)/2],radius:Math.sqrt(V_(Q,2)+V_(V-R,2))/2}}(this._indoorData.extent),this._floorplanStates[this._indoorData.id]||(this._floorplanStates[this._indoorData.id]={});const l=this._floorplanStates[this._indoorData.id].selectedBuilding,m=this._floorplanStates[this._indoorData.id].selectedLevel;let _;if(this._map.setConfigProperty(this._scope,"mbx-indoor-active-floorplans",this._indoorData.floorplanIDs),this._selectedLevel)for(const x of this._indoorData.levels)x.id===this._selectedLevel.id&&(_=x.id);if(this.fire(new c.z("floorplanselected",{buildings:this._indoorData.buildings,levels:this._indoorData.levels,selectedLevelId:_})),l){const x=this._indoorData.buildings.find(E=>E.id===l);this._buildingSelected(x,!1)}else this._indoorData.buildings.length>0&&this._buildingSelected(this._indoorData.buildings[0],!1);if(m){const x=this._indoorData.levels.find(E=>E.id===m);this._updateLevels(x,r)}else r&&this._indoorData["default-levels"].length>0&&this.selectLevel(this._indoorData["default-levels"][0])}_buildingSelected(r,l){l&&r&&r.extent&&this._map.fitBounds(r.extent,{pitch:this._map.getPitch(),bearing:this._map.getBearing()}),this._floorplanStates[this._indoorData.id].selectedBuilding=r?r.id:void 0;const m=this._indoorData.levels.filter(_=>r.levels.includes(_.id));this.fire(new c.z("buildingselected",{buildingId:r.id,levels:m}))}_levelSelected(r){if(r==="overview")this._updateLevels(void 0,!0);else{const l=this._indoorData.levels.find(m=>m.id===r);this._updateLevels(l,!0)}this.fire(new c.z("levelselected",{levelId:r==="overview"?void 0:r}))}_updateLevels(r,l){if(!r)return this._map.setConfigProperty(this._scope,"mbx-indoor-loaded-levels",["literal",[]]),this._map.setConfigProperty(this._scope,"mbx-indoor-underground",!1),this._floorplanStates[this._indoorData.id].selectedLevel=void 0,void(l&&this._indoorData.extent&&this._map.fitBounds(this._indoorData.extent,{pitch:this._map.getPitch(),bearing:this._map.getBearing()}));function m(V){const U=V.indexOf("/floor/");if(U===-1)return V;const Q=U+7,ee=V.indexOf("/",Q);return ee===-1?V.slice(Q):V.slice(Q,ee)}this._selectedLevel=r,this._floorplanStates[this._indoorData.id].selectedLevel=r?r.id:void 0;const _=[],x={},E={},R={},F={};for(const V of this._indoorData.levels)if(_.push(V.id),x[V.id]=V.height,E[V.id]=V.base,r){if(this.mergeFloors){const U=m(r.id),Q=m(V.id);R[V.id]=Q===U?"true":"false"}else R[V.id]=V.id===r.id?"true":"false";F[V.id]=V.base<r.base?"true":"false"}else F[V.id]=!0;if(this._map.setConfigProperty(this._scope,"mbx-indoor-loaded-levels",["literal",_]),this._map.setConfigProperty(this._scope,"mbx-indoor-level-height",["literal",x]),this._map.setConfigProperty(this._scope,"mbx-indoor-level-base",["literal",E]),this._map.setConfigProperty(this._scope,"mbx-indoor-level-selected",["literal",R]),this._map.setConfigProperty(this._scope,"mbx-indoor-level-overlapped",["literal",F]),r&&(this._map.setConfigProperty(this._scope,"mbx-indoor-underground",!!r.isUnderground),l&&r.extent)){const V=this._map.cameraForBounds(r.extent,{pitch:this._map.getPitch(),bearing:this._map.getBearing()}),U=this._map.getZoom(),Q=V.zoom?Math.abs(U-V.zoom):0;this._map.fitBounds(r.extent,Q>=1?{pitch:this._map.getPitch(),bearing:this._map.getBearing()}:{pitch:this._map.getPitch(),bearing:this._map.getBearing(),zoom:U})}}selectFloorplan(r){const l={target:{featuresetId:this._queryFeatureSetId,importId:this._scope}},m=[new c.P(0,0),new c.P(this._map.transform.width,this._map.transform.height)],_=this._map.queryRenderedFeatures(m,l);if(_.length>0){for(const x of _)if(JSON.parse(x.properties["indoor-data"]).floorplanIDs.includes(r)){this._selectedFloorplan=x,this._floorplanSelected(!0);break}}}selectBuilding(r){const l=this._indoorData.buildings.find(m=>m.id===r);this._buildingSelected(l,!0)}selectLevel(r){this._levelSelected(r)}}function Xa(p){if(!p.metadata||!p.metadata.content_area)return;const r=c.q.devicePixelRatio,{left:l,top:m,width:_,height:x}=p.metadata.content_area,E=l*r,R=m*r;return[E,R,E+_*r,R+x*r]}function fa(p){if(p)return p.map(([r,l])=>[r*c.q.devicePixelRatio,l*c.q.devicePixelRatio])}const Oa=(p,r)=>Di(p,r&&r.filter(l=>l.identifier!=="source.canvas")),Ya=c.ay(Or,["addLayer","removeLayer","setLights","setPaintProperty","setLayoutProperty","setSlot","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData","setTerrain","setFog","setSnow","setRain","setProjection","setCamera","addImport","removeImport","updateImport"]),Ma=c.ay(Or,["setCenter","setZoom","setBearing","setPitch"]),qa=new Set(["background","sky","slot","custom"]),Fa={version:8,layers:[],sources:{}},is={duration:300,delay:0};class rs extends c.E{constructor(r,l={}){super(),this.map=r,this.scope=l.scope||"",this.globalId=null,this.fragments=[],this.importDepth=l.importDepth||0,this.importsCache=l.importsCache||new Map,this.resolvedImports=l.resolvedImports||new Set,this.transition=c.l({},is),this._buildingIndex=new En(this),this.crossTileSymbolIndex=new Cl,this._mergedOrder=[],this._drapedFirstOrder=[],this._mergedLayers={},this._mergedSourceCaches={},this._mergedOtherSourceCaches={},this._mergedSymbolSourceCaches={},this._clipLayerPresent=!1,this._has3DLayers=!1,this._hasCircleLayers=!1,this._hasSymbolLayers=!1,this._changes=l.styleChanges||new Jr,this.dispatcher=l.dispatcher?l.dispatcher:new c.D(c.ci(),this),l.imageManager?this.imageManager=l.imageManager:(this.imageManager=new Kr(this.map._spriteFormat),this.imageManager.setEventedParent(this)),this.imageManager.createScope(this.scope),this.glyphManager=l.glyphManager?l.glyphManager:new c.cj(r._requestManager,l.localFontFamily?c.ck.all:l.localIdeographFontFamily?c.ck.ideographs:c.ck.none,l.localFontFamily||l.localIdeographFontFamily),l.modelManager?this.modelManager=l.modelManager:(this.modelManager=new co(r._requestManager),this.modelManager.setEventedParent(this)),this._layers={},this._sourceCaches={},this._otherSourceCaches={},this._symbolSourceCaches={},this._loaded=!1,this._precompileDone=!1,this._shouldPrecompile=!1,this._availableImages=[],this._order=[],this._markersNeedUpdate=!1,this.options=l.configOptions?l.configOptions:new Map,this._configDependentLayers=l.configDependentLayers?l.configDependentLayers:new Set,this._config=l.config,this._styleColorTheme={lut:null,lutLoading:!1,lutLoadingCorrelationID:0,colorTheme:null,colorThemeOverride:l.colorThemeOverride},this._styleColorThemeForScope={},this._initialConfig=l.initialConfig,this.dispatcher.broadcast("setReferrer",c.cl());const m=this;this._rtlTextPluginCallback=rs.registerForPluginStateChange(_=>{m.dispatcher.broadcast("syncRTLPluginState",{pluginStatus:_.pluginStatus,pluginURL:_.pluginURL},(x,E)=>{if(c.cm(x),E&&E.every(R=>R))for(const R in m._sourceCaches){const F=m._sourceCaches[R],V=F.getSource().type;V!=="vector"&&V!=="geojson"||F.reload()}})}),this.on("data",_=>{if(_.dataType!=="source"||_.sourceDataType!=="metadata")return;const x=this.getOwnSource(_.sourceId);if(x&&x.vectorLayerIds)for(const E in this._layers){const R=this._layers[E];R.source===x.id&&this._validateLayer(R)}})}load(r){return r?(typeof r=="string"?this.loadURL(r):this.loadJSON(r),this):this}_getGlobalId(r){if(!r)return null;if(typeof r=="string"){if(c.f(r))return r;const l=c.cn(r);if(!l.startsWith("http"))try{return new URL(l,location.href).toString()}catch(m){return l}return l}return`json://${c.co(JSON.stringify(r))}`}_diffStyle(r,l,m){this.globalId=this._getGlobalId(r);const _=(x,E)=>{try{E(null,this.setState(x,m))}catch(R){E(R,!1)}};if(typeof r=="string"){const x=this.map._requestManager.normalizeStyleURL(r),E=this.map._requestManager.transformRequest(x,c.R.Style);c.n(E,(R,F)=>{R?this.fire(new c.y(R)):F&&_(F,l)})}else typeof r=="object"&&_(r,l)}loadURL(r,l={}){this.fire(new c.z("dataloading",{dataType:"style"}));const m=typeof l.validate=="boolean"?l.validate:!c.f(r);this.globalId=this._getGlobalId(r),r=this.map._requestManager.normalizeStyleURL(r,l.accessToken),this.resolvedImports.add(r);const _=this.importsCache.get(r);if(_)return this._load(_,m);const x=this.map._requestManager.transformRequest(r,c.R.Style);this._request=c.n(x,(E,R)=>{if(this._request=null,E)this.fire(new c.y(E));else if(R)return this.importsCache.set(r,R),this._load(R,m)})}loadJSON(r,l={}){this.fire(new c.z("dataloading",{dataType:"style"})),this.globalId=this._getGlobalId(r),this._request=c.q.frame(()=>{this._request=null,this._load(r,l.validate!==!1)})}loadEmpty(){this.fire(new c.z("dataloading",{dataType:"style"})),this._load(Fa,!1)}_loadImports(r,l,m){if(this.importDepth>=4)return c.w("Style doesn't support nesting deeper than 5"),Promise.resolve();const _=[];for(const x of r){const E=this._createFragmentStyle(x),R=new Promise(U=>{E.once("style.import.load",U),E.once("error",U)}).then(()=>this.mergeAll());if(_.push(R),this.resolvedImports.has(x.url)){E.loadEmpty();continue}const F=x.data||this.importsCache.get(x.url);F?(E.loadJSON(F,{validate:l}),this._isInternalStyle(F)&&(E.globalId=null)):x.url?E.loadURL(x.url,{validate:l}):E.loadEmpty();const V={style:E,id:x.id,config:x.config};if(m){const U=this.fragments.findIndex(({id:Q})=>Q===m);this.fragments=this.fragments.slice(0,U).concat(V).concat(this.fragments.slice(U))}else this.fragments.push(V)}return Promise.allSettled(_)}getImportGlobalIds(r=this,l=new Set){for(const m of r.fragments)m.style.globalId&&l.add(m.style.globalId),this.getImportGlobalIds(m.style,l);return[...l.values()]}_createFragmentStyle(r){const l=this.scope?c.aC(r.id,this.scope):r.id;let m;const _=this._initialConfig&&this._initialConfig[l];(r.config||_)&&(m=c.l({},r.config,_));const x=new rs(this.map,{scope:l,styleChanges:this._changes,importDepth:this.importDepth+1,importsCache:this.importsCache,resolvedImports:new Set(this.resolvedImports),dispatcher:this.dispatcher,imageManager:this.imageManager,glyphManager:this.glyphManager,modelManager:this.modelManager,config:m,configOptions:this.options,colorThemeOverride:r["color-theme"],configDependentLayers:this._configDependentLayers});return x.setEventedParent(this.map,{style:x}),x}_reloadImports(){this.mergeAll(),this._updateMapProjection(),this.updateConfigDependencies(),this.map._triggerCameraUpdate(this.camera),this.dispatcher.broadcast("setLayers",{layers:this._serializeLayers(this._order),scope:this.scope,options:this.options}),this._shouldPrecompile=this.map._precompilePrograms&&this.isRootStyle()}_isInternalStyle(r){return this.isRootStyle()&&(r.fragment||!!r.schema&&r.fragment!==!1)}_load(r,l){const m=r.indoor?Vo(r.schema):r.schema;if(this._isInternalStyle(r)){const E=c.l({},Fa,{imports:[{id:"basemap",data:r,url:""}]});return void this._load(E,l)}if(this.updateConfig(this._config,m),l&&Oa(this,eo(r)))return;this._loaded=!0,this.stylesheet=c.cp(r);const _=()=>{for(const V in r.sources)this.addSource(V,r.sources[V],{validate:!1,isInitialLoad:!0});r.sprite?this._loadIconset(r.sprite):(this.imageManager.setLoaded(!0,this.scope),this.dispatcher.broadcast("spriteLoaded",{scope:this.scope,isLoaded:!0})),this.glyphManager.setURL(r.glyphs,this.scope);const E=si(this.stylesheet.layers);if(this._order=E.map(V=>V.id),this.stylesheet.light&&c.w("The `light` root property is deprecated, prefer using `lights` with `flat` light type instead."),this.stylesheet.lights)if(this.stylesheet.lights.length===1&&this.stylesheet.lights[0].type==="flat"){const V=this.stylesheet.lights[0];this.light=new de(V.properties,V.id)}else this.setLights(this.stylesheet.lights);this.light||(this.light=new de(this.stylesheet.light)),this._layers={};for(const V of E){const U=c.cu(V,this.scope,this._styleColorTheme.lut,this.options);U.configDependencies.size!==0&&this._configDependentLayers.add(U.fqid),U.setEventedParent(this,{layer:{id:U.id}}),this._layers[U.id]=U;const Q=this.getOwnLayerSourceCache(U),ee=!!this.directionalLight&&this.directionalLight.shadowsEnabled();Q&&U.canCastShadows()&&ee&&(Q.castsShadows=!0)}this.stylesheet.featuresets&&this.setFeaturesetSelectors(this.stylesheet.featuresets),this.stylesheet.models&&this.modelManager.addModels(this.stylesheet.models,this.scope);const R=this.stylesheet.terrain;R&&(this.checkCanvasFingerprintNoise(),this.disableElevatedTerrain||this.terrainSetForDrapingOnly()||this._createTerrain(R,1)),this.stylesheet.fog&&this._createFog(this.stylesheet.fog),this.stylesheet.snow&&this._createSnow(this.stylesheet.snow),this.stylesheet.rain&&this._createRain(this.stylesheet.rain),this.stylesheet.transition&&this.setTransition(this.stylesheet.transition),this.fire(new c.z("data",{dataType:"style"}));const F=this.isRootStyle();r.imports?this._loadImports(r.imports,l).then(()=>{this._reloadImports(),this.fire(new c.z(F?"style.load":"style.import.load"))}):(this._reloadImports(),this.fire(new c.z(F?"style.load":"style.import.load")))};this._styleColorTheme.colorTheme=this.stylesheet["color-theme"];const x=this._styleColorTheme.colorThemeOverride?this._styleColorTheme.colorThemeOverride:this._styleColorTheme.colorTheme;if(x){const E=this._evaluateColorThemeData(x);this._loadColorTheme(E).then(()=>{_()}).catch(R=>{c.w(`Couldn't load color theme from the stylesheet: ${R}`),_()})}else this._styleColorTheme.lut=null,_()}isRootStyle(){return this.importDepth===0}mergeAll(){let r,l,m,_,x,E,R,F,V,U;const Q={};this.terrain&&this.terrain.scope!==this.scope&&delete this.terrain,this.forEachFragmentStyle(ee=>{if(ee.stylesheet){if(ee.light!=null&&(r=ee.light),ee.stylesheet.lights)for(const ce of ee.stylesheet.lights)ce.type==="ambient"&&ee.ambientLight!=null&&(l=ee.ambientLight),ce.type==="directional"&&ee.directionalLight!=null&&(m=ee.directionalLight);_=this._prioritizeTerrain(_,ee.terrain,ee.stylesheet.terrain),ee.stylesheet.fog&&ee.fog!=null&&(x=ee.fog),ee.stylesheet.snow&&ee.snow!=null&&(E=ee.snow),ee.stylesheet.rain&&ee.rain!=null&&(R=ee.rain),ee.stylesheet.camera!=null&&(U=ee.stylesheet.camera),ee.stylesheet.projection!=null&&(F=ee.stylesheet.projection),ee.stylesheet.transition!=null&&(V=ee.stylesheet.transition),Q[ee.scope]=ee._styleColorTheme}}),this.light=r,this.ambientLight=l,this.directionalLight=m,this.fog=x,this.snow=E,this.rain=R,this._styleColorThemeForScope=Q,_===null?delete this.terrain:this.terrain=_,this.camera=U||{"camera-projection":"perspective"},this.projection=F||{name:"mercator"},this.transition=c.l({},is,V),this.mergeSources(),this.mergeLayers()}forEachFragmentStyle(r){const l=m=>{for(const _ of m.fragments)l(_.style);r(m)};l(this)}_prioritizeTerrain(r,l,m){const _=r&&r.drapeRenderMode===0;return m===null?l&&l.drapeRenderMode===0?l:_?r:null:l!=null&&(!r||_||l&&l.drapeRenderMode===1)?l:r}mergeTerrain(){let r;this.terrain&&this.terrain.scope!==this.scope&&delete this.terrain,this.forEachFragmentStyle(l=>{r=this._prioritizeTerrain(r,l.terrain,l.stylesheet.terrain)}),r===null?delete this.terrain:this.terrain=r}mergeProjection(){let r;this.forEachFragmentStyle(l=>{l.stylesheet.projection!=null&&(r=l.stylesheet.projection)}),this.projection=r||{name:"mercator"}}mergeSources(){const r={},l={},m={};this.forEachFragmentStyle(_=>{for(const x in _._sourceCaches){const E=c.aC(x,_.scope);r[E]=_._sourceCaches[x]}for(const x in _._otherSourceCaches){const E=c.aC(x,_.scope);l[E]=_._otherSourceCaches[x]}for(const x in _._symbolSourceCaches){const E=c.aC(x,_.scope);m[E]=_._symbolSourceCaches[x]}}),this._mergedSourceCaches=r,this._mergedOtherSourceCaches=l,this._mergedSymbolSourceCaches=m}mergeLayers(){const r={},l=[],m={};this._mergedSlots=[],this._has3DLayers=!1,this._hasCircleLayers=!1,this._hasSymbolLayers=!1,this.forEachFragmentStyle(x=>{for(const E of x._order){const R=x._layers[E];if(R.type==="slot"){const F=c.cq(E);if(r[F])continue;r[F]=[]}R.slot&&r[R.slot]?r[R.slot].push(R):l.push(R)}}),this._mergedOrder=[];const _=(x=[])=>{for(const E of x)if(E.type==="slot"){const R=c.cq(E.id);r[R]&&_(r[R]),this._mergedSlots.push(R)}else{const R=c.aC(E.id,E.scope);this._mergedOrder.push(R),m[R]=E,E.is3D()&&(this._has3DLayers=!0),E.type==="circle"&&(this._hasCircleLayers=!0),E.type==="symbol"&&(this._hasSymbolLayers=!0),E.type==="clip"&&(this._clipLayerPresent=!0)}};_(l),this._mergedOrder.sort((x,E)=>{const R=m[x],F=m[E];return R.hasInitialOcclusionOpacityProperties?F.is3D()?1:0:R.is3D()&&F.hasInitialOcclusionOpacityProperties?-1:0}),this._mergedLayers=m,this.updateDrapeFirstLayers(),this._buildingIndex.processLayersChanged()}terrainSetForDrapingOnly(){return!!this.terrain&&this.terrain.drapeRenderMode===0}getCamera(){return this.stylesheet.camera}setCamera(r){return this.stylesheet.camera=c.l({},this.stylesheet.camera,r),this.camera=this.stylesheet.camera,this}_evaluateColorThemeData(r){return r.data?function(l,m,_){const x=c.l({},m);for(const R of Object.keys(c.a3.colorTheme))x[R]===void 0&&(x[R]=c.a3.colorTheme[R].default);const E=new c.a4(ao,l,new Map(_));return E.setTransitionOrValue(x,_),E.untransitioned().possiblyEvaluate(new c.a8(0))}(this.scope,r,this.options).get("data"):null}_loadColorTheme(r){this._styleColorTheme.lutLoading=!0,this._styleColorTheme.lutLoadingCorrelationID+=1;const l=this._styleColorTheme.lutLoadingCorrelationID;return new Promise((m,_)=>{const x="data:image/png;base64,";if(!r||r.length===0)return this._styleColorTheme.lut=null,this._styleColorTheme.lutLoading=!1,void m();let E=r;E.startsWith(x)||(E=x+E);const R="mapbox-reserved-lut",F=new Image;F.src=E,F.onerror=()=>{this._styleColorTheme.lutLoading=!1,_(new Error("Failed to load image data"))},F.onload=()=>{if(this._styleColorTheme.lutLoadingCorrelationID!==l)return void m();this._styleColorTheme.lutLoading=!1;const{width:V,height:U,data:Q}=c.q.getImageData(F);if(U>32)return void _(new Error("The height of the image must be less than or equal to 32 pixels."));if(V!==U*U)return void _(new Error("The width of the image must be equal to the height squared."));this.getImage(R)&&this.removeImage(R),this.addImage(R,{data:new c.r({width:V,height:U},Q),pixelRatio:1,sdf:!1,usvg:!1,version:0});const ee=this.imageManager.getImage(R,this.scope);ee?(this._styleColorTheme.lut={image:ee.data,data:r},m()):_(new Error("Missing LUT image."))}})}getLut(r){const l=this._styleColorThemeForScope[r];return l?l.lut:null}setProjection(r){r?this.stylesheet.projection=r:delete this.stylesheet.projection,this.mergeProjection(),this._updateMapProjection()}applyProjectionUpdate(){this._loaded&&(this.dispatcher.broadcast("setProjection",this.map.transform.projectionOptions),this.map.transform.projection.requiresDraping?(this.getTerrain()||this.stylesheet.terrain)&&!this.disableElevatedTerrain||this.setTerrainForDraping():this.terrainSetForDrapingOnly()&&this.setTerrain(null,0))}_updateMapProjection(){this.isRootStyle()&&(this.map._useExplicitProjection?this.applyProjectionUpdate():this.map._prioritizeAndUpdateProjection(null,this.projection))}_loadSprite(r){this._spriteRequest=function(l,m,_){let x,E,R;const F=c.q.devicePixelRatio>1?"@2x":"";let V=c.n(m.transformRequest(m.normalizeSpriteURL(l,F,".json"),c.R.SpriteJSON),(ee,ce)=>{V=null,R||(R=ee,x=ce,Q())}),U=c.o(m.transformRequest(m.normalizeSpriteURL(l,F,".png"),c.R.SpriteImage),(ee,ce)=>{U=null,R||(R=ee,E=ce,Q())});function Q(){if(R)_(R);else if(x&&E){const ee=c.q.getImageData(E),ce={};for(const Pe in x){const{width:Se,height:ze,x:Le,y:st,sdf:St,pixelRatio:xt,stretchX:Wt,stretchY:zt,content:kt}=x[Pe],Lt=new c.r({width:Se,height:ze});c.r.copy(ee,Lt,{x:Le,y:st},{x:0,y:0},{width:Se,height:ze},null),ce[Pe]={data:Lt,pixelRatio:xt,sdf:St,stretchX:Wt,stretchY:zt,content:kt,usvg:!1}}_(null,ce)}}return{cancel(){V&&(V.cancel(),V=null),U&&(U.cancel(),U=null)}}}(r,this.map._requestManager,(l,m)=>{if(this._spriteRequest=null,l)this.fire(new c.y(l));else if(m)for(const _ in m)this.imageManager.addImage(_,this.scope,m[_]);this.imageManager.setLoaded(!0,this.scope),this._availableImages=this.imageManager.listImages(this.scope),this.dispatcher.broadcast("setImages",{scope:this.scope,images:this._availableImages}),this.dispatcher.broadcast("spriteLoaded",{scope:this.scope,isLoaded:!0}),this.fire(new c.z("data",{dataType:"style"}))})}_loadIconset(r){if(!c.f(r)&&this.map._spriteFormat!=="icon_set"||this.map._spriteFormat==="raster")return void this._loadSprite(r);const l=this.map._spriteFormat==="auto";var m,_;this._spriteRequest=(_=(x,E)=>{if(this._spriteRequest=null,x)l?this._loadSprite(r):this.fire(new c.y(x));else if(E)for(const R in E)this.imageManager.addImage(R,this.scope,E[R]);this.imageManager.setLoaded(!0,this.scope),this._availableImages=this.imageManager.listImages(this.scope),this.dispatcher.broadcast("setImages",{scope:this.scope,images:this._availableImages}),this.dispatcher.broadcast("spriteLoaded",{scope:this.scope,isLoaded:!0}),this.fire(new c.z("data",{dataType:"style"}))},c.bi((m=this.map._requestManager).transformRequest(m.normalizeIconsetURL(r),c.R.Iconset),(x,E)=>{if(x)return void _(x);const R={},F=c.cg(new c.bh(E));for(const V of F.icons){const U={version:1,pixelRatio:c.q.devicePixelRatio,content:Xa(V),stretchX:V.metadata?fa(V.metadata.stretch_x_areas):void 0,stretchY:V.metadata?fa(V.metadata.stretch_y_areas):void 0,sdf:!1,usvg:!0,icon:V};R[V.name]=U}_(null,R)}))}_validateLayer(r){const l=this.getOwnSource(r.source);if(!l)return;const m=r.sourceLayer;m&&(l.type==="geojson"||l.vectorLayerIds&&l.vectorLayerIds.indexOf(m)===-1)&&this.fire(new c.y(new Error(`Source layer "${m}" does not exist on source "${l.id}" as specified by style layer "${r.id}"`)))}loaded(){if(!this._loaded||Object.keys(this._changes.getUpdatedSourceCaches()).length)return!1;for(const r in this._sourceCaches)if(!this._sourceCaches[r].loaded())return!1;if(!this.imageManager.isLoaded()||!this.modelManager.isLoaded()||this._styleColorTheme.lutLoading)return!1;for(const{style:r}of this.fragments)if(!r.loaded())return!1;return!0}_serializeImports(){if(this.stylesheet.imports)return this.stylesheet.imports.map((r,l)=>{const m=this.fragments[l];return m&&m.style&&(r.data=m.style.serialize()),r})}_serializeSources(){const r={};for(const l in this._sourceCaches){const m=this._sourceCaches[l].getSource();r[m.id]||(r[m.id]=m.serialize())}return r}_serializeLayers(r){const l=[];for(const m of r){const _=this._layers[m];_&&_.type!=="custom"&&l.push(_.serialize())}return l}hasLightTransitions(){return!(!this.light||!this.light.hasTransition())||!(!this.ambientLight||!this.ambientLight.hasTransition())||!(!this.directionalLight||!this.directionalLight.hasTransition())}hasFogTransition(){return!!this.fog&&this.fog.hasTransition()}hasSnowTransition(){return!!this.snow&&this.snow.hasTransition()}hasRainTransition(){return!!this.rain&&this.rain.hasTransition()}hasTransitions(){if(this.hasLightTransitions()||this.hasFogTransition()||this.hasSnowTransition()||this.hasRainTransition())return!0;for(const r in this._sourceCaches)if(this._sourceCaches[r].hasTransition())return!0;for(const r in this._layers)if(this._layers[r].hasTransition())return!0;return!1}get order(){return this.terrain?this._drapedFirstOrder:this._mergedOrder}_getOrder(r){return r?this.order:this._mergedOrder}isLayerDraped(r){return!!this.terrain&&r.isDraped(this.getLayerSourceCache(r))}_checkLoaded(){if(!this._loaded)throw new Error("Style is not done loading")}_checkLayer(r){const l=this.getOwnLayer(r);if(l)return l;this.fire(new c.y(new Error(`The layer '${r}' does not exist in the map's style.`)))}_checkSource(r){const l=this.getOwnSource(r);if(l)return l;this.fire(new c.y(new Error(`The source '${r}' does not exist in the map's style.`)))}precompilePrograms(r,l){const m=this.map.painter;if(m)for(let _=r.minzoom||0;_<(r.maxzoom||25.5);_++){const x=r.getProgramIds();if(x)for(const E of x){const R=r.getDefaultProgramParams(E,l.zoom,this._styleColorTheme.lut);R&&(m.style=this,this.fog&&(m._fogVisible=!0,R.overrideFog=!0,m.getOrCreateProgram(E,R)),m._fogVisible=!1,R.overrideFog=!1,m.getOrCreateProgram(E,R),(this.stylesheet.terrain||this.stylesheet.projection&&this.stylesheet.projection.name==="globe")&&(R.overrideRtt=!0,m.getOrCreateProgram(E,R)))}}}update(r){if(!this._loaded)return;this.ambientLight&&this.ambientLight.recalculate(r),this.directionalLight&&this.directionalLight.recalculate(r);const l=this.calculateLightsBrightness();r.brightness=l||0,l!==this._brightness&&(this._brightness=l,this.dispatcher.broadcast("setBrightness",l));const m=this._changes.isDirty();let _=!1;if(this._changes.isDirty()){const E=this._changes.getLayerUpdatesByScope();for(const R in E){const{updatedIds:F,removedIds:V}=E[R];(F||V)&&(this._updateWorkerLayers(R,F,V),_=!0)}this.updateSourceCaches(),this._updateTilesForChangedImages(),this.updateLayers(r),this.light&&this.light.updateTransitions(r),this.ambientLight&&this.ambientLight.updateTransitions(r),this.directionalLight&&this.directionalLight.updateTransitions(r),this.fog&&this.fog.updateTransitions(r),this.snow&&this.snow.updateTransitions(r),this.rain&&this.rain.updateTransitions(r),this._changes.reset()}const x={};for(const E in this._mergedSourceCaches){const R=this._mergedSourceCaches[E];x[E]=R.used,R.used=!1,R.tileCoverLift=0}for(const E of this._mergedOrder){const R=this._mergedLayers[E];if(R.recalculate(r,this._availableImages),!R.isHidden(r.zoom)){const F=this.getLayerSourceCache(R);F&&(F.used=!0,F.tileCoverLift=Math.max(F.tileCoverLift,R.tileCoverLift()))}!this._precompileDone&&this._shouldPrecompile&&("requestIdleCallback"in window?requestIdleCallback(()=>{this.precompilePrograms(R,r)}):this.precompilePrograms(R,r))}this._shouldPrecompile&&(this._precompileDone=!0),this.terrain&&_&&this.mergeLayers();for(const E in x){const R=this._mergedSourceCaches[E];x[E]!==R.used&&R.getSource().fire(new c.z("data",{sourceDataType:"visibility",dataType:"source",sourceId:R.getSource().id}))}this.light&&this.light.recalculate(r),this.terrain&&this.terrain.recalculate(r),this.fog&&this.fog.recalculate(r),this.snow&&this.snow.recalculate(r),this.rain&&this.rain.recalculate(r),this.z=r.zoom,this._markersNeedUpdate&&(this._updateMarkersOpacity(),this._markersNeedUpdate=!1),m&&this.fire(new c.z("data",{dataType:"style"}))}_updateTilesForChangedImages(){const r=this._changes.getUpdatedImages();if(r.length){for(const l in this._sourceCaches)this._sourceCaches[l].reloadTilesForDependencies(["icons","patterns"],r);this._changes.resetUpdatedImages()}}_updateWorkerLayers(r,l,m){const _=this.getFragmentStyle(r);_&&this.dispatcher.broadcast("updateLayers",{layers:l?_._serializeLayers(l):[],scope:r,removedIds:m||[],options:_.options})}setState(r,l){if(this._checkLoaded(),Oa(this,eo(r)))return!1;(r=c.cp(r)).layers=si(r.layers);const m=function(E,R){if(!E)return[{command:Or.setStyle,args:[R]}];let F=[];try{if(!c.bn(E.version,R.version))return[{command:Or.setStyle,args:[R]}];if(c.bn(E.center,R.center)||F.push({command:Or.setCenter,args:[R.center]}),c.bn(E.zoom,R.zoom)||F.push({command:Or.setZoom,args:[R.zoom]}),c.bn(E.bearing,R.bearing)||F.push({command:Or.setBearing,args:[R.bearing]}),c.bn(E.pitch,R.pitch)||F.push({command:Or.setPitch,args:[R.pitch]}),c.bn(E.sprite,R.sprite)||F.push({command:Or.setSprite,args:[R.sprite]}),c.bn(E.glyphs,R.glyphs)||F.push({command:Or.setGlyphs,args:[R.glyphs]}),c.bn(E.imports,R.imports)||function(ce=[],Pe=[],Se){Pe=Pe||[];const ze=(ce=ce||[]).map(Si),Le=Pe.map(Si),st=ce.reduce(ai,{}),St=Pe.reduce(ai,{}),xt=ze.slice();let Wt,zt,kt,Lt;for(Wt=0,zt=0;Wt<ze.length;Wt++)kt=ze[Wt],St.hasOwnProperty(kt)?zt++:(Se.push({command:Or.removeImport,args:[kt]}),xt.splice(xt.indexOf(kt,zt),1));for(Wt=0,zt=0;Wt<Le.length;Wt++)kt=Le[Le.length-1-Wt],xt[xt.length-1-Wt]!==kt&&(st.hasOwnProperty(kt)?(Se.push({command:Or.removeImport,args:[kt]}),xt.splice(xt.lastIndexOf(kt,xt.length-zt),1)):zt++,Lt=xt[xt.length-Wt],Se.push({command:Or.addImport,args:[St[kt],Lt]}),xt.splice(xt.length-Wt,0,kt));for(const cn of Pe){const Tn=st[cn.id];Tn&&!c.bn(Tn,cn)&&Se.push({command:Or.updateImport,args:[cn.id,cn]})}}(E.imports,R.imports,F),c.bn(E.transition,R.transition)||F.push({command:Or.setTransition,args:[R.transition]}),c.bn(E.light,R.light)||F.push({command:Or.setLight,args:[R.light]}),c.bn(E.fog,R.fog)||F.push({command:Or.setFog,args:[R.fog]}),c.bn(E.snow,R.snow)||F.push({command:Or.setSnow,args:[R.snow]}),c.bn(E.rain,R.rain)||F.push({command:Or.setRain,args:[R.rain]}),c.bn(E.projection,R.projection)||F.push({command:Or.setProjection,args:[R.projection]}),c.bn(E.lights,R.lights)||F.push({command:Or.setLights,args:[R.lights]}),c.bn(E.camera,R.camera)||F.push({command:Or.setCamera,args:[R.camera]}),!c.bn(E["color-theme"],R["color-theme"]))return[{command:Or.setStyle,args:[R]}];const V={},U=[];(function(ce,Pe,Se,ze){let Le;for(Le in Pe=Pe||{},ce=ce||{})ce.hasOwnProperty(Le)&&(Pe.hasOwnProperty(Le)||_o(Le,Se,ze));for(Le in Pe){if(!Pe.hasOwnProperty(Le))continue;const st=Pe[Le];ce.hasOwnProperty(Le)?c.bn(ce[Le],st)||(ce[Le].type==="geojson"&&st.type==="geojson"&&Ji(ce,Pe,Le)?Se.push({command:Or.setGeoJSONSourceData,args:[Le,st.data]}):Lr(Le,Pe,Se,ze)):Ri(Le,Pe,Se)}})(E.sources,R.sources,U,V);const Q=[];E.layers&&E.layers.forEach(ce=>{ce.source&&V[ce.source]?F.push({command:Or.removeLayer,args:[ce.id]}):Q.push(ce)});let ee=E.terrain;ee&&V[ee.source]&&(F.push({command:Or.setTerrain,args:[void 0]}),ee=void 0),F=F.concat(U),c.bn(ee,R.terrain)||F.push({command:Or.setTerrain,args:[R.terrain]}),function(ce,Pe,Se){Pe=Pe||[];const ze=(ce=ce||[]).map(Si),Le=Pe.map(Si),st=ce.reduce(ai,{}),St=Pe.reduce(ai,{}),xt=ze.slice(),Wt=Object.create(null);let zt,kt,Lt,cn,Tn,hr,nr;for(zt=0,kt=0;zt<ze.length;zt++)Lt=ze[zt],St.hasOwnProperty(Lt)?kt++:(Se.push({command:Or.removeLayer,args:[Lt]}),xt.splice(xt.indexOf(Lt,kt),1));for(zt=0,kt=0;zt<Le.length;zt++)Lt=Le[Le.length-1-zt],xt[xt.length-1-zt]!==Lt&&(st.hasOwnProperty(Lt)?(Se.push({command:Or.removeLayer,args:[Lt]}),xt.splice(xt.lastIndexOf(Lt,xt.length-kt),1)):kt++,hr=xt[xt.length-zt],Se.push({command:Or.addLayer,args:[St[Lt],hr]}),xt.splice(xt.length-zt,0,Lt),Wt[Lt]=!0);for(zt=0;zt<Le.length;zt++)if(Lt=Le[zt],cn=st[Lt],Tn=St[Lt],!Wt[Lt]&&!c.bn(cn,Tn))if(c.bn(cn.source,Tn.source)&&c.bn(cn["source-layer"],Tn["source-layer"])&&c.bn(cn.type,Tn.type)){for(nr in zr(cn.layout,Tn.layout,Se,Lt,null,Or.setLayoutProperty),zr(cn.paint,Tn.paint,Se,Lt,null,Or.setPaintProperty),c.bn(cn.slot,Tn.slot)||Se.push({command:Or.setSlot,args:[Lt,Tn.slot]}),c.bn(cn.filter,Tn.filter)||Se.push({command:Or.setFilter,args:[Lt,Tn.filter]}),c.bn(cn.minzoom,Tn.minzoom)&&c.bn(cn.maxzoom,Tn.maxzoom)||Se.push({command:Or.setLayerZoomRange,args:[Lt,Tn.minzoom,Tn.maxzoom]}),cn)cn.hasOwnProperty(nr)&&nr!=="layout"&&nr!=="paint"&&nr!=="filter"&&nr!=="metadata"&&nr!=="minzoom"&&nr!=="maxzoom"&&nr!=="slot"&&(nr.indexOf("paint.")===0?zr(cn[nr],Tn[nr],Se,Lt,nr.slice(6),Or.setPaintProperty):c.bn(cn[nr],Tn[nr])||Se.push({command:Or.setLayerProperty,args:[Lt,nr,Tn[nr]]}));for(nr in Tn)Tn.hasOwnProperty(nr)&&!cn.hasOwnProperty(nr)&&nr!=="layout"&&nr!=="paint"&&nr!=="filter"&&nr!=="metadata"&&nr!=="minzoom"&&nr!=="maxzoom"&&nr!=="slot"&&(nr.indexOf("paint.")===0?zr(cn[nr],Tn[nr],Se,Lt,nr.slice(6),Or.setPaintProperty):c.bn(cn[nr],Tn[nr])||Se.push({command:Or.setLayerProperty,args:[Lt,nr,Tn[nr]]}))}else Se.push({command:Or.removeLayer,args:[Lt]}),hr=xt[xt.lastIndexOf(Lt)+1],Se.push({command:Or.addLayer,args:[Tn,hr]})}(Q,R.layers,F)}catch(V){console.warn("Unable to compute style diff:",V),F=[{command:Or.setStyle,args:[R]}]}return F}(this.serialize(),r).filter(E=>!(E.command in Ma));if(m.length===0)return!1;const _=m.filter(E=>!(E.command in Ya));if(_.length>0)throw new Error(`Unimplemented: ${_.map(E=>E.command).join(", ")}.`);const x=[];return m.forEach(E=>{x.push(this[E.command].apply(this,E.args))}),l&&Promise.all(x).then(l),this.stylesheet=r,this.mergeAll(),this.dispatcher.broadcast("setLayers",{layers:this._serializeLayers(this._order),scope:this.scope,options:this.options}),!0}addImage(r,l){return this.getImage(r)?this.fire(new c.y(new Error("An image with this name already exists."))):(this.imageManager.addImage(r,this.scope,l),this._afterImageUpdated(r),this)}updateImage(r,l,m=!1){this.imageManager.updateImage(r,this.scope,l),m&&this._afterImageUpdated(r)}getImage(r){return this.imageManager.getImage(r,this.scope)}removeImage(r){return this.getImage(r)?(this.imageManager.removeImage(r,this.scope),this._afterImageUpdated(r),this):this.fire(new c.y(new Error("No image with this name exists.")))}_afterImageUpdated(r){this._availableImages=this.imageManager.listImages(this.scope),this._changes.updateImage(r),this.dispatcher.broadcast("setImages",{scope:this.scope,images:this._availableImages}),this.fire(new c.z("data",{dataType:"style"}))}listImages(){return this._checkLoaded(),this._availableImages.slice()}addModel(r,l,m={}){return this._checkLoaded(),this._validate(Wi,`models.${r}`,l,null,m)||(this.modelManager.addModel(r,l,this.scope),this._changes.setDirty()),this}hasModel(r){return this.modelManager.hasModel(r,this.scope)}removeModel(r){return this.hasModel(r)?(this.modelManager.removeModel(r,this.scope),this):this.fire(new c.y(new Error("No model with this ID exists.")))}listModels(){return this._checkLoaded(),this.modelManager.listModels(this.scope)}addSource(r,l,m={}){if(this._checkLoaded(),this.getOwnSource(r)!==void 0)throw new Error(`There is already a source with ID "${r}".`);if(!l.type)throw new Error(`The type property must be defined, but only the following properties were given: ${Object.keys(l).join(", ")}.`);if(["vector","raster","geojson","video","image"].indexOf(l.type)>=0&&this._validate(Io,`sources.${r}`,l,null,m))return;this.map&&this.map._collectResourceTiming&&(l.collectResourceTiming=!0);const _=qt(r,l,this.dispatcher,this);_.scope=this.scope,_.setEventedParent(this,()=>({isSourceLoaded:this._isSourceCacheLoaded(_.id),source:_.serialize(),sourceId:_.id}));const x=E=>{const R=(E?"symbol:":"other:")+_.id,F=c.aC(R,this.scope),V=this._sourceCaches[R]=new K(F,_,E);(E?this._symbolSourceCaches:this._otherSourceCaches)[_.id]=V,V.onAdd(this.map)};x(!1),l.type!=="vector"&&l.type!=="geojson"||x(!0),_.onAdd&&_.onAdd(this.map),m.isInitialLoad||(this.mergeSources(),this._changes.setDirty())}removeSource(r){this._checkLoaded();const l=this.getOwnSource(r);if(!l)throw new Error("There is no source with this ID");for(const _ in this._layers)if(this._layers[_].source===r)return this.fire(new c.y(new Error(`Source "${r}" cannot be removed while layer "${_}" is using it.`)));if(this.terrain&&this.terrain.scope===this.scope&&this.terrain.get().source===r)return this.fire(new c.y(new Error(`Source "${r}" cannot be removed while terrain is using it.`)));const m=this.getOwnSourceCaches(r);for(const _ of m){const x=c.cq(_.id);delete this._sourceCaches[x],this._changes.discardSourceCacheUpdate(_.id),_.fire(new c.z("data",{sourceDataType:"metadata",dataType:"source",sourceId:_.getSource().id})),_.setEventedParent(null),_.clearTiles()}return delete this._otherSourceCaches[r],delete this._symbolSourceCaches[r],this.mergeSources(),l.setEventedParent(null),l.onRemove&&l.onRemove(this.map),this._changes.setDirty(),this}setGeoJSONSourceData(r,l){this._checkLoaded(),this.getOwnSource(r).setData(l),this._changes.setDirty()}getOwnSource(r){const l=this.getOwnSourceCache(r);return l&&l.getSource()}getOwnSources(){const r=[];for(const l in this._otherSourceCaches){const m=this.getOwnSourceCache(l);m&&r.push(m.getSource())}return r}areTilesLoaded(){const r=this._mergedSourceCaches;for(const l in r){const m=r[l]._tiles;for(const _ in m){const x=m[_];if(x.state!=="loaded"&&x.state!=="errored")return!1}}return!0}setLights(r){if(this._checkLoaded(),!r)return delete this.ambientLight,void delete this.directionalLight;const l=this._getTransitionParameters();for(const _ of r){if(this._validate(oo,"lights",_))return;switch(_.type){case"ambient":if(this.ambientLight){const x=this.ambientLight;x.set(_),x.updateTransitions(l)}else this.ambientLight=new Sn(_,Kt||(Kt=new c.a5({color:new c.a6(c.a3.properties_light_ambient.color),"color-use-theme":new c.a6({type:"string",default:"default","property-type":"data-constant"}),intensity:new c.a6(c.a3.properties_light_ambient.intensity)})),this.scope,this.options);break;case"directional":if(this.directionalLight){const x=this.directionalLight;x.set(_),x.updateTransitions(l)}else this.directionalLight=new Sn(_,rn||(rn=new c.a5({direction:new c.ak(c.a3.properties_light_directional.direction),color:new c.a6(c.a3.properties_light_directional.color),"color-use-theme":new c.a6({type:"string",default:"default","property-type":"data-constant"}),intensity:new c.a6(c.a3.properties_light_directional.intensity),"cast-shadows":new c.a6(c.a3.properties_light_directional["cast-shadows"]),"shadow-quality":new c.a6(c.a3.properties_light_directional["shadow-quality"]),"shadow-intensity":new c.a6(c.a3.properties_light_directional["shadow-intensity"])})),this.scope,this.options)}}const m=new c.a8(this.z||0,l);this.ambientLight&&this.ambientLight.recalculate(m),this.directionalLight&&this.directionalLight.recalculate(m),this._brightness=this.calculateLightsBrightness(),this.dispatcher.broadcast("setBrightness",this._brightness)}calculateLightsBrightness(){const r=this.directionalLight,l=this.ambientLight;if(!r||!l)return;const m=ee=>.2126*(ee[0]<=.03928?ee[0]/12.92:Math.pow((ee[0]+.055)/1.055,2.4))+.7152*(ee[1]<=.03928?ee[1]/12.92:Math.pow((ee[1]+.055)/1.055,2.4))+.0722*(ee[2]<=.03928?ee[2]/12.92:Math.pow((ee[2]+.055)/1.055,2.4)),_=r.properties.get("color").toRenderColor(null).toArray01(),x=r.properties.get("intensity"),E=r.properties.get("direction"),R=1-c.cb(E.x,E.y,E.z)[2]/90,F=m(_)*x*R,V=l.properties.get("color").toRenderColor(null).toArray01(),U=l.properties.get("intensity"),Q=m(V)*U;return Number(((F+Q)/2).toFixed(6))}getBrightness(){return this._brightness}getLights(){if(!this.enable3dLights())return null;const r=[];return this.directionalLight&&r.push(this.directionalLight.get()),this.ambientLight&&r.push(this.ambientLight.get()),r}enable3dLights(){return!!this.ambientLight&&!!this.directionalLight}getFragmentStyle(r){if(!r)return this;if(c.cr(r)){const l=c.cs(r),m=this.fragments.find(({id:x})=>x===l);if(!m)throw new Error(`Style import '${r}' not found`);const _=c.cq(r);return m.style.getFragmentStyle(_)}{const l=this.fragments.find(({id:m})=>m===r);return l?l.style:void 0}}setFeaturesetSelectors(r){if(!r)return;const l={},m=(_,x="")=>`${_}::${x}`;this._featuresetSelectors={};for(const _ in r){const x=this._featuresetSelectors[_]=[];for(const E of r[_].selectors){if(E.featureNamespace){const F=this.getOwnLayer(E.layer);if(!F){c.w(`Layer is undefined for selector: ${E.layer}`);continue}const V=m(F.source,F.sourceLayer);if(V in l&&l[V]!==E.featureNamespace){c.w(`"featureNamespace ${E.featureNamespace} of featureset ${_}'s selector is not associated to the same source, skip this selector`);continue}l[V]=E.featureNamespace}let R;if(E.properties)for(const F in E.properties){const V=c.U(E.properties[F]);V.result==="success"&&(R=R||{},R[F]=V.value)}x.push({layerId:E.layer,namespace:E.featureNamespace,properties:R,uniqueFeatureID:E._uniqueFeatureID})}}}getFeaturesetDescriptors(r){const l=this.getFragmentStyle(r);if(!l||!l.stylesheet.featuresets)return[];const m=[];for(const _ in l.stylesheet.featuresets)m.push({featuresetId:_,importId:l.scope?l.scope:void 0});return m}getFeaturesetLayers(r,l){const m=this.getFragmentStyle(l),_=m.stylesheet.featuresets;if(!_||!_[r])return this.fire(new c.y(new Error(`The featureset '${r}' does not exist in the map's style and cannot be queried.`))),[];const x=[];for(const E of _[r].selectors){const R=m.getOwnLayer(E.layer);R&&x.push(R)}return x}getConfigProperty(r,l){const m=this.getFragmentStyle(r);if(!m)return null;const _=c.aC(l,m.scope),x=m.options.get(_),E=x?x.value||x.default:null;return E?E.serialize():null}setConfigProperty(r,l,m){const _=this.getFragmentStyle(r);if(!_)return;const x=_.stylesheet.indoor?Vo(_.stylesheet.schema):_.stylesheet.schema;if(!x||!x[l])return;const E=c.U(m);if(E.result!=="success")return void Oa(this,E.value);const R=E.value.expression,F=c.aC(l,_.scope),V=_.options.get(F);if(!V)return;let U;const{minValue:Q,maxValue:ee,stepValue:ce,type:Pe,values:Se}=x[l],ze=c.U(x[l].default);ze.result==="success"&&(U=ze.value.expression),U?(this.options.set(F,Object.assign({},V,{value:R,default:U,minValue:Q,maxValue:ee,stepValue:ce,type:Pe,values:Se})),this.updateConfigDependencies(l)):this.fire(new c.y(new Error(`No schema defined for the config option "${l}" in the "${r}" fragment.`)))}getConfig(r){const l=this.getFragmentStyle(r);if(!l)return null;const m=l.stylesheet.schema;if(!m)return null;const _={};for(const x in m){const E=c.aC(x,l.scope),R=l.options.get(E),F=R?R.value||R.default:null;_[x]=F?F.serialize():null}return _}setConfig(r,l){const m=this.getFragmentStyle(r);m&&(m.updateConfig(l,m.stylesheet.schema),this.updateConfigDependencies())}getSchema(r){const l=this.getFragmentStyle(r);return l?l.stylesheet.schema:null}setSchema(r,l){const m=this.getFragmentStyle(r);m&&(m.stylesheet.schema=l,m.updateConfig(m._config,l),this.updateConfigDependencies())}updateConfig(r,l){if(this._config=r,r||l)if(l)for(const m in l){let _,x;const E=c.U(l[m].default);if(E.result==="success"&&(_=E.value.expression),r&&r[m]!==void 0){const ee=c.U(r[m]);ee.result==="success"&&(x=ee.value.expression)}const{minValue:R,maxValue:F,stepValue:V,type:U,values:Q}=l[m];if(_){const ee=c.aC(m,this.scope);this.options.set(ee,{default:_,value:x,minValue:R,maxValue:F,stepValue:V,type:U,values:Q})}else this.fire(new c.y(new Error(`No schema defined for config option "${m}".`)))}else this.fire(new c.y(new Error("Attempting to set config for a style without schema.")))}updateConfigDependencies(r){for(const l of this._configDependentLayers){const m=this.getLayer(l);if(m){if(r&&!m.configDependencies.has(r))continue;m.possiblyEvaluateVisibility(),this._updateLayer(m)}}this.ambientLight&&this.ambientLight.updateConfig(this.options),this.directionalLight&&this.directionalLight.updateConfig(this.options),this.fog&&this.fog.updateConfig(this.options),this.snow&&this.snow.updateConfig(this.options),this.rain&&this.rain.updateConfig(this.options),this.forEachFragmentStyle(l=>{const m=l._styleColorTheme.colorThemeOverride?l._styleColorTheme.colorThemeOverride:l._styleColorTheme.colorTheme;if(m){const _=l._evaluateColorThemeData(m);(!l._styleColorTheme.lut&&_!==""||l._styleColorTheme.lut&&_!==l._styleColorTheme.lut.data)&&l.setColorTheme(m)}}),this._changes.setDirty()}addLayer(r,l,m={}){this._checkLoaded();const _=r.id;if(this._layers[_])return void this.fire(new c.y(new Error(`Layer with id "${_}" already exists on this map`)));let x;if(r.type==="custom"){if(Oa(this,c.ct(r)))return;x=c.cu(r,this.scope,this._styleColorTheme.lut,this.options)}else{if(typeof r.source=="object"&&(this.addSource(_,r.source),r=c.cp(r),r=c.l(r,{source:_})),this._validate(br,`layers.${_}`,r,{arrayIndex:-1},m))return;x=c.cu(r,this.scope,this._styleColorTheme.lut,this.options),this._validateLayer(x),x.setEventedParent(this,{layer:{id:_}})}x.configDependencies.size!==0&&this._configDependentLayers.add(x.fqid);let E=this._order.length;if(l){const U=this._order.indexOf(l);if(U===-1)return void this.fire(new c.y(new Error(`Layer with id "${l}" does not exist on this map.`)));x.slot===this._layers[l].slot?E=U:c.w(`Layer with id "${l}" has a different slot. Layers can only be rearranged within the same slot.`)}this._order.splice(E,0,_),this._layerOrderChanged=!0,this._layers[_]=x;const R=this.getOwnLayerSourceCache(x),F=!!this.directionalLight&&this.directionalLight.shadowsEnabled();R&&x.canCastShadows()&&F&&(R.castsShadows=!0);const V=this._changes.getRemovedLayer(x);if(V&&x.source&&R&&x.type!=="custom"){this._changes.discardLayerRemoval(x);const U=c.aC(x.source,x.scope);V.type!==x.type?this._changes.updateSourceCache(U,"clear"):(this._changes.updateSourceCache(U,"reload"),R.pause())}this._updateLayer(x),x.onAdd&&x.onAdd(this.map),x.scope=this.scope,this.mergeLayers()}moveLayer(r,l){this._checkLoaded();const m=this._checkLayer(r);if(!m||r===l)return;const _=this._order.indexOf(r);this._order.splice(_,1);let x=this._order.length;if(l){const E=this._order.indexOf(l);if(E===-1)return void this.fire(new c.y(new Error(`Layer with id "${l}" does not exist on this map.`)));m.slot===this._layers[l].slot?x=E:c.w(`Layer with id "${l}" has a different slot. Layers can only be rearranged within the same slot.`)}this._order.splice(x,0,r),this._changes.setDirty(),this._layerOrderChanged=!0,this.mergeLayers()}removeLayer(r){this._checkLoaded();const l=this._checkLayer(r);if(!l)return;l.setEventedParent(null);const m=this._order.indexOf(r);this._order.splice(m,1),delete this._layers[r],this._changes.setDirty(),this._layerOrderChanged=!0,this._configDependentLayers.delete(l.fqid),this._changes.removeLayer(l);const _=this.getOwnLayerSourceCache(l);if(_&&_.castsShadows){let x=!1;for(const E in this._layers)if(this._layers[E].source===l.source&&this._layers[E].canCastShadows()){x=!0;break}_.castsShadows=x}l.onRemove&&l.onRemove(this.map),this.mergeLayers()}getOwnLayer(r){return this._layers[r]}hasLayer(r){return r in this._mergedLayers}hasLayerType(r){for(const l in this._layers)if(this._layers[l].type===r)return!0;return!1}setLayerZoomRange(r,l,m){this._checkLoaded();const _=this._checkLayer(r);_&&(_.minzoom===l&&_.maxzoom===m||(l!=null&&(_.minzoom=l),m!=null&&(_.maxzoom=m),this._updateLayer(_)))}getSlots(){return this._checkLoaded(),this._mergedSlots}setSlot(r,l){this._checkLoaded();const m=this._checkLayer(r);m&&m.slot!==l&&(m.slot=l,this._updateLayer(m))}setFilter(r,l,m={}){this._checkLoaded();const _=this._checkLayer(r);if(_&&!c.bn(_.filter,l))return l==null?(_.filter=void 0,void this._updateLayer(_)):void(this._validate(rr,`layers.${_.id}.filter`,l,{layerType:_.type},m)||(_.filter=c.cp(l),this._updateLayer(_)))}getFilter(r){const l=this._checkLayer(r);if(l)return c.cp(l.filter)}setLayoutProperty(r,l,m,_={}){this._checkLoaded();const x=this._checkLayer(r);if(x&&!c.bn(x.getLayoutProperty(l),m)){if(m!=null&&(!_||_.validate!==!1)&&Oa(x,Mi.call(eo,{key:`layers.${r}.layout.${l}`,layerType:x.type,objectKey:l,value:m,styleSpec:c.a3,style:{glyphs:!0,sprite:!0}})))return;x.setLayoutProperty(l,m),x.configDependencies.size!==0&&this._configDependentLayers.add(x.fqid),this._updateLayer(x)}}getLayoutProperty(r,l){const m=this._checkLayer(r);if(m)return m.getLayoutProperty(l)}setPaintProperty(r,l,m,_={}){this._checkLoaded();const x=this._checkLayer(r);if(!x||c.bn(x.getPaintProperty(l),m)||m!=null&&(!_||_.validate!==!1)&&Oa(x,Yr.call(eo,{key:`layers.${r}.paint.${l}`,layerType:x.type,objectKey:l,value:m,styleSpec:c.a3})))return;const E=x.setPaintProperty(l,m);x.configDependencies.size!==0&&this._configDependentLayers.add(x.fqid),E&&this._updateLayer(x),this._changes.updatePaintProperties(x)}getPaintProperty(r,l){const m=this._checkLayer(r);if(m)return m.getPaintProperty(l)}setFeatureState(r,l){if(this._checkLoaded(),"target"in r){if("featuresetId"in r.target){const{featuresetId:F,importId:V}=r.target,U=this.getFragmentStyle(V),Q=U.getFeaturesetLayers(F);for(const{source:ee,sourceLayer:ce}of Q)U.setFeatureState({id:r.id,source:ee,sourceLayer:ce},l)}else if("layerId"in r.target){const{layerId:F}=r.target,V=this.getLayer(F);this.setFeatureState({id:r.id,source:V.source,sourceLayer:V.sourceLayer},l)}return}const m=r.source,_=r.sourceLayer,x=this._checkSource(m);if(!x)return;const E=x.type;if(E==="geojson"&&_)return void this.fire(new c.y(new Error("GeoJSON sources cannot have a sourceLayer parameter.")));if(E==="vector"&&!_)return void this.fire(new c.y(new Error("The sourceLayer parameter must be provided for vector source types.")));r.id===void 0&&this.fire(new c.y(new Error("The feature id parameter must be provided.")));const R=this.getOwnSourceCaches(m);for(const F of R)F.setFeatureState(_,r.id,l)}removeFeatureState(r,l){if(this._checkLoaded(),"target"in r){if("featuresetId"in r.target){const{featuresetId:F,importId:V}=r.target,U=this.getFragmentStyle(V),Q=U.getFeaturesetLayers(F);for(const{source:ee,sourceLayer:ce}of Q)U.removeFeatureState({id:r.id,source:ee,sourceLayer:ce},l)}else if("layerId"in r.target){const{layerId:F}=r.target,V=this.getLayer(F);this.removeFeatureState({id:r.id,source:V.source,sourceLayer:V.sourceLayer},l)}return}const m=r.source,_=this._checkSource(m);if(!_)return;const x=_.type,E=x==="vector"?r.sourceLayer:void 0;if(x==="vector"&&!E)return void this.fire(new c.y(new Error("The sourceLayer parameter must be provided for vector source types.")));if(l&&typeof r.id!="string"&&typeof r.id!="number")return void this.fire(new c.y(new Error("A feature id is required to remove its specific state property.")));const R=this.getOwnSourceCaches(m);for(const F of R)F.removeFeatureState(E,r.id,l)}getFeatureState(r){if(this._checkLoaded(),"target"in r){let x;if("featuresetId"in r.target){const{featuresetId:E,importId:R}=r.target,F=this.getFragmentStyle(R),V=F.getFeaturesetLayers(E);for(const{source:U,sourceLayer:Q}of V){const ee=F.getFeatureState({id:r.id,source:U,sourceLayer:Q});if(ee&&!x)x=ee;else if(!c.bn(x,ee))return void this.fire(new c.y(new Error("The same feature id exists in multiple sources in the featureset, but their feature states are not consistent through the sources.")))}}else if("layerId"in r.target){const{layerId:E}=r.target,R=this.getLayer(E);x=this.getFeatureState({id:r.id,source:R.source,sourceLayer:R.sourceLayer})}return x}const l=r.source,m=r.sourceLayer,_=this._checkSource(l);if(_){if(_.type!=="vector"||m)return r.id===void 0&&this.fire(new c.y(new Error("The feature id parameter must be provided."))),this.getOwnSourceCaches(l)[0].getFeatureState(m,r.id);this.fire(new c.y(new Error("The sourceLayer parameter must be provided for vector source types.")))}}setTransition(r){return this.stylesheet.transition=c.l({},this.stylesheet.transition,r),this.transition=this.stylesheet.transition,this}getTransition(){return c.l({},this.stylesheet.transition)}serialize(){this._checkLoaded();const r=this.getTerrain(),l=r&&this.terrain&&this.terrain.scope===this.scope?r:this.stylesheet.terrain;return c.cv({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,fragment:this.stylesheet.fragment,imports:this._serializeImports(),schema:this.stylesheet.schema,camera:this.stylesheet.camera,light:this.stylesheet.light,lights:this.stylesheet.lights,terrain:l,fog:this.stylesheet.fog,snow:this.stylesheet.snow,rain:this.stylesheet.rain,center:this.stylesheet.center,"color-theme":this.stylesheet["color-theme"],zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,projection:this.stylesheet.projection,sources:this._serializeSources(),layers:this._serializeLayers(this._order)},m=>m!==void 0)}_updateFilteredLayers(r){for(const l of Object.values(this._mergedLayers))r(l)&&this._updateLayer(l)}_updateLayer(r){this._changes.updateLayer(r);const l=this.getLayerSourceCache(r),m=c.aC(r.source,r.scope),_=this._changes.getUpdatedSourceCaches();r.source&&!_[m]&&l&&l.getSource().type!=="raster"&&(this._changes.updateSourceCache(m,"reload"),l.pause()),r.invalidateCompiledFilter()}_flattenAndSortRenderedFeatures(r){const l=R=>this._mergedLayers[R].is3D(),m=this.order,_={},x=[];for(let R=m.length-1;R>=0;R--){const F=m[R];if(l(F)){_[F]=R;for(const V of r){const U=V[F];if(U)for(const Q of U)x.push(Q)}}}x.sort((R,F)=>F.intersectionZ-R.intersectionZ);const E=[];for(let R=m.length-1;R>=0;R--){const F=m[R];if(l(F))for(let V=x.length-1;V>=0;V--){const U=x[V].feature;if(U.layer&&_[U.layer.id]<R)break;E.push(U),x.pop()}else for(const V of r){const U=V[F];if(U)for(const Q of U)E.push(Q.feature)}}return E}queryRenderedFeatures(r,l,m){let _;l&&!Array.isArray(l)&&l.filter&&(this._validate(rr,"queryRenderedFeatures.filter",l.filter,null,l),_=c.aZ(l.filter));const x={},E=U=>{if(qa.has(U.type))return;const Q=this.getOwnLayerSourceCache(U),ee=x[Q.id]=x[Q.id]||{sourceCache:Q,layers:{},has3DLayers:!1};U.is3D()&&(ee.has3DLayers=!0),ee.layers[U.fqid]=ee.layers[U.fqid]||{styleLayer:U,targets:[]},ee.layers[U.fqid].targets.push({filter:_})};if(l&&l.layers){if(!Array.isArray(l.layers))return this.fire(new c.y(new Error("parameters.layers must be an Array."))),[];for(const U of l.layers){const Q=this._layers[U];if(!Q)return this.fire(new c.y(new Error(`The layer '${U}' does not exist in the map's style and cannot be queried for features.`))),[];E(Q)}}else for(const U in this._layers)E(this._layers[U]);const R=this._queryRenderedFeatures(r,x,m),F=this._flattenAndSortRenderedFeatures(R),V=[];for(const U of F)c.cs(U.layer.id)===this.scope&&V.push(U);return V}queryRenderedFeatureset(r,l,m){let _;l&&!Array.isArray(l)&&l.filter&&(this._validate(rr,"queryRenderedFeatures.filter",l.filter,null,l),_=c.aZ(l.filter));const x="mock",E=[];if(l&&l.target)E.push(Object.assign({},l,{targetId:x,filter:_}));else{const U=this.getFeaturesetDescriptors();for(const Q of U)E.push({targetId:x,filter:_,target:Q});for(const{style:Q}of this.fragments){const ee=Q.getFeaturesetDescriptors();for(const ce of ee)E.push({targetId:x,filter:_,target:ce})}}const R=this.queryRenderedTargets(r,E,m),F=[],V=new Set;for(const U of R)for(const Q of U.variants[x])sr(Q,U,V)||F.push(new c.cw(U,Q));return F}queryRenderedTargets(r,l,m){const _={},x=(R,F,V,U)=>{const Q=_[F.id]=_[F.id]||{sourceCache:F,layers:{},has3DLayers:!1};if(Q.layers[R.fqid]=Q.layers[R.fqid]||{styleLayer:R,targets:[]},R.is3D()&&(Q.has3DLayers=!0),!U)return V.uniqueFeatureID=!1,void Q.layers[R.fqid].targets.push(V);Q.layers[R.fqid].targets.push(Object.assign({},V,{namespace:U.namespace,properties:U.properties,uniqueFeatureID:U.uniqueFeatureID}))};for(const R of l)if("featuresetId"in R.target){const{featuresetId:F,importId:V}=R.target,U=this.getFragmentStyle(V);if(!U||!U._featuresetSelectors)continue;const Q=U._featuresetSelectors[F];if(!Q){this.fire(new c.y(new Error(`The featureset '${F}' does not exist in the map's style and cannot be queried for features.`)));continue}for(const ee of Q){const ce=U.getOwnLayer(ee.layerId);ce&&!qa.has(ce.type)&&x(ce,U.getOwnLayerSourceCache(ce),R,ee)}}else if("layerId"in R.target){const{layerId:F}=R.target,V=this.getLayer(F);if(!V||qa.has(V.type))continue;x(V,this.getLayerSourceCache(V),R)}const E=this._queryRenderedFeatures(r,_,m);return this._flattenAndSortRenderedFeatures(E)}_queryRenderedFeatures(r,l,m){const _=[],x=!!this.map._showQueryGeometry,E=bn.createFromScreenPoints(r,m);for(const R in l){const F=Wr(E,l[R],this._availableImages,m,x);Object.keys(F).length&&_.push(F)}if(this.placement)for(const R in l){if(!l[R].sourceCache._onlySymbols)continue;const F=Pi(E.screenGeometry,l[R],this._availableImages,this.placement.collisionIndex,this.placement.retainedQueryData);Object.keys(F).length&&_.push(F)}return _}querySourceFeatures(r,l){const m=l&&l.filter;m&&this._validate(rr,"querySourceFeatures.filter",m,null,l);let _=[];const x=this.getOwnSourceCaches(r);for(const E of x)_=_.concat(Co(E,l));return _}addSourceType(r,l,m){return rs.getSourceType(r)?m(new Error(`A source type called "${r}" already exists.`)):(rs.setSourceType(r,l),l.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:r,url:l.workerSourceURL},m):m(null,null))}getFlatLight(){return this.light.getLight()}setFlatLight(r,l,m={}){this._checkLoaded();const _=this.light.getLight();let x=!1;for(const R in r)if(!c.bn(r[R],_[R])){x=!0;break}if(!x)return;const E=this._getTransitionParameters();this.light.setLight(r,l,m),this.light.updateTransitions(E)}getTerrain(){return this.terrain&&this.terrain.drapeRenderMode===1?this.terrain.get():null}setTerrainForDraping(){this.setTerrain({source:"",exaggeration:0},0)}checkCanvasFingerprintNoise(){this.disableElevatedTerrain===void 0&&(this.disableElevatedTerrain=c.q.hasCanvasFingerprintNoise(),this.disableElevatedTerrain&&c.w("Terrain and hillshade are disabled because of Canvas2D limitations when fingerprinting protection is enabled (e.g. in private browsing mode)."))}setTerrain(r,l=1){if(this._checkLoaded(),!r)return this.terrainSetForDrapingOnly()||(delete this.terrain,this.map.transform.projection.requiresDraping&&this.setTerrainForDraping()),l===0&&delete this.terrain,r===null?this.stylesheet.terrain=null:delete this.stylesheet.terrain,this._force3DLayerUpdate(),void(this._markersNeedUpdate=!0);this.checkCanvasFingerprintNoise();let m=r;const _=r.source==null;if(l===1){if(this.disableElevatedTerrain)return;if(typeof m.source=="object"){const R="terrain-dem-src";this.addSource(R,m.source),m=c.cp(m),m=c.l(m,{source:R})}const x=c.l({},m),E={};if(this.terrain&&_){x.source=this.terrain.get().source;const R=this.terrain?this.getFragmentStyle(this.terrain.scope):null;R&&(E.style=R.serialize())}if(this._validate(nn,"terrain",x,E))return}if(!this.terrain||this.terrain.scope!==this.scope&&!_||this.terrain&&l!==this.terrain.drapeRenderMode){if(!m)return;this._createTerrain(m,l),this.fire(new c.z("data",{dataType:"style"}))}else{const x=this.terrain,E=x.get();for(const R of Object.keys(c.a3.terrain))!m.hasOwnProperty(R)&&c.a3.terrain[R].default&&(m[R]=c.a3.terrain[R].default);for(const R in r)if(!c.bn(r[R],E[R])){x.set(r,this.options),this.stylesheet.terrain=r;const F=this._getTransitionParameters({duration:0});x.updateTransitions(F),this.fire(new c.z("data",{dataType:"style"}));break}}this.mergeTerrain(),this.updateDrapeFirstLayers(),this._markersNeedUpdate=!0}_createFog(r){const l=this.fog=new vn(r,this.map.transform,this.scope,this.options);this.stylesheet.fog=l.get();const m=this._getTransitionParameters({duration:0});l.updateTransitions(m)}_createSnow(r){const l=this.snow=new dt(r,this.map.transform,this.scope,this.options);this.stylesheet.snow=l.get();const m=this._getTransitionParameters({duration:0});l.updateTransitions(m)}_createRain(r){const l=this.rain=new at(r,this.map.transform,this.scope,this.options);this.stylesheet.rain=l.get();const m=this._getTransitionParameters({duration:0});l.updateTransitions(m)}_updateMarkersOpacity(){this.map._markers.length!==0&&this.map._requestDomTask(()=>{for(const r of this.map._markers)r._evaluateOpacity()})}getFog(){return this.fog?this.fog.get():null}setFog(r){if(this._checkLoaded(),!r)return delete this.fog,delete this.stylesheet.fog,void(this._markersNeedUpdate=!0);if(this.fog){const l=this.fog;if(!c.bn(l.get(),r)){l.set(r,this.options),this.stylesheet.fog=l.get();const m=this._getTransitionParameters({duration:0});l.updateTransitions(m)}}else this._createFog(r);this._markersNeedUpdate=!0}getSnow(){return this.snow?this.snow.get():null}setSnow(r){if(this._checkLoaded(),!r)return delete this.snow,void delete this.stylesheet.snow;if(this.snow){const l=this.snow;if(!c.bn(l.get(),r)){l.set(r,this.options),this.stylesheet.snow=l.get();const m=this._getTransitionParameters({duration:0});l.updateTransitions(m)}}else this._createSnow(r);this._markersNeedUpdate=!0}getRain(){return this.rain?this.rain.get():null}setRain(r){if(this._checkLoaded(),!r)return delete this.rain,void delete this.stylesheet.rain;if(this.rain){const l=this.rain;if(!c.bn(l.get(),r)){l.set(r,this.options),this.stylesheet.rain=l.get();const m=this._getTransitionParameters({duration:0});l.updateTransitions(m)}}else this._createRain(r);this._markersNeedUpdate=!0}_reloadColorTheme(){const r=()=>{for(const _ in this._layers)this._layers[_].lut=this._styleColorTheme.lut;for(const _ in this._sourceCaches)this._sourceCaches[_].clearTiles()},l=this._styleColorTheme.colorThemeOverride?this._styleColorTheme.colorThemeOverride:this._styleColorTheme.colorTheme;if(!l)return this._styleColorTheme.lut=null,void r();const m=this._evaluateColorThemeData(l);this._loadColorTheme(m).then(()=>{this.fire(new c.z("colorthemeset")),r()}).catch(_=>{c.w(`Couldn't set color theme: ${_}`)})}setColorTheme(r){this._checkLoaded(),this._styleColorTheme.colorThemeOverride&&c.w("Note: setColorTheme is called on a style with a color-theme override, the passed color-theme won't be visible."),this._styleColorTheme.colorTheme=r,this._reloadColorTheme()}setImportColorTheme(r,l){const m=this.getFragmentStyle(r);m&&(m._styleColorTheme.colorThemeOverride=l,m._reloadColorTheme())}_getTransitionParameters(r){return{now:c.q.now(),transition:c.l(this.transition,r)}}updateDrapeFirstLayers(){if(!this.terrain)return;const r=[],l=[];for(const m of this._mergedOrder)this.isLayerDraped(this._mergedLayers[m])?r.push(m):l.push(m);this._drapedFirstOrder=[],this._drapedFirstOrder.push(...r),this._drapedFirstOrder.push(...l)}_createTerrain(r,l){const m=this.terrain=new Y(r,l,this.scope,this.options);l===1&&(this.stylesheet.terrain=r),this.mergeTerrain(),this.updateDrapeFirstLayers(),this._force3DLayerUpdate();const _=this._getTransitionParameters({duration:0});m.updateTransitions(_)}_force3DLayerUpdate(){for(const r in this._layers){const l=this._layers[r];l.type==="fill-extrusion"&&this._updateLayer(l)}}_forceSymbolLayerUpdate(){for(const r in this._layers){const l=this._layers[r];l.type==="symbol"&&this._updateLayer(l)}}_validate(r,l,m,_,x={}){if(x&&x.validate===!1)return!1;const E=c.l({},this.serialize());return Oa(this,r.call(eo,c.l({key:l,style:E,value:m,styleSpec:c.a3},_)))}_remove(){this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),c.cx.off("pluginStateChange",this._rtlTextPluginCallback);for(const r in this._mergedLayers)this._mergedLayers[r].setEventedParent(null);for(const r in this._mergedSourceCaches)this._mergedSourceCaches[r].clearTiles(),this._mergedSourceCaches[r].setEventedParent(null);this.setEventedParent(null),delete this.fog,delete this.snow,delete this.rain,delete this.terrain,delete this.ambientLight,delete this.directionalLight,this.isRootStyle()&&(this.imageManager.setEventedParent(null),this.modelManager.setEventedParent(null),this.dispatcher.remove())}clearSource(r){const l=this.getSourceCaches(r);for(const m of l)m.clearTiles()}clearSources(){for(const r in this._mergedSourceCaches)this._mergedSourceCaches[r].clearTiles()}reloadSource(r){const l=this.getSourceCaches(r);for(const m of l)m.resume(),m.reload()}reloadSources(){for(const r of this.getSources())r.reload&&r.reload()}reloadModels(){this.modelManager.reloadModels(""),this.forEachFragmentStyle(r=>{r.modelManager.reloadModels(r.scope)})}updateSources(r){let l;this.directionalLight&&(l=vo(this.directionalLight));for(const m in this._mergedSourceCaches)this._mergedSourceCaches[m].update(r,void 0,void 0,l)}_generateCollisionBoxes(){for(const r in this._sourceCaches){const l=this._sourceCaches[r];l.resume(),l.reload()}}_updatePlacement(r,l,m,_,x,E,R=!1){let F=!1,V=!1;const U={},Q={};for(const ee of this._mergedOrder){const ce=this._mergedLayers[ee];if(ce.type!=="symbol")continue;const Pe=c.aC(ce.source,ce.scope);let Se=U[Pe];if(!Se){const Le=this.getLayerSourceCache(ce);if(!Le)continue;const st=Le.getRenderableIds(!0).map(St=>Le.getTileByID(St));Q[Pe]=st.slice(),Se=U[Pe]=st.sort((St,xt)=>xt.tileID.overscaledZ-St.tileID.overscaledZ||(St.tileID.isLessThan(xt.tileID)?-1:1))}const ze=this.crossTileSymbolIndex.addLayer(ce,Se,l.center.lng,l.projection);F=F||ze}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._mergedOrder),R=R||this._layerOrderChanged||_===0,this._layerOrderChanged&&this.fire(new c.z("neworder")),(R||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(c.q.now(),l.zoom))&&(this.pauseablePlacement=new fs(l,this._mergedOrder,R,m,_,x,this.placement,this.fog&&l.projection.supportsFog?this.fog.state:null,this._buildingIndex),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._mergedOrder,this._mergedLayers,U,Q,this.map.painter.scaleFactor),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(c.q.now()),V=!0),F&&this.pauseablePlacement.placement.setStale()),V||F){this._buildingIndex.onNewFrame(l.zoom);for(let ee=0;ee<this._mergedOrder.length;ee++){const ce=this._mergedLayers[this._mergedOrder[ee]];if(ce.type!=="symbol")continue;const Pe=this.isLayerClipped(ce);this.placement.updateLayerOpacities(ce,U[c.aC(ce.source,ce.scope)],ee,Pe?E:null)}}return{needsRerender:!this.pauseablePlacement.isDone()||this.placement.hasTransitions(c.q.now())}}_releaseSymbolFadeTiles(){for(const r in this._sourceCaches)this._sourceCaches[r].releaseSymbolFadeTiles()}addImport(r,l){this._checkLoaded();const m=this.stylesheet.imports=this.stylesheet.imports||[];if(m.findIndex(({id:x})=>x===r.id)!==-1)return void this.fire(new c.y(new Error(`Import with id '${r.id}' already exists in the map's style.`)));if(!l)return m.push(r),this._loadImports([r],!0);const _=m.findIndex(({id:x})=>x===l);return _===-1&&this.fire(new c.y(new Error(`Import with id "${l}" does not exist on this map.`))),this.stylesheet.imports=m.slice(0,_).concat(r).concat(m.slice(_)),this._loadImports([r],!0,l)}updateImport(r,l){this._checkLoaded();const m=this.stylesheet.imports||[],_=this.getImportIndex(r);return _===-1?this:typeof l=="string"?(this.setImportUrl(r,l),this):(l.url&&l.url!==m[_].url&&this.setImportUrl(r,l.url),c.bn(l.config,m[_].config)||this.setImportConfig(r,l.config,l.data.schema),c.bn(l.data,m[_].data)||this.setImportData(r,l.data),this)}moveImport(r,l){this._checkLoaded();let m=this.stylesheet.imports||[];const _=this.getImportIndex(r);if(_===-1)return this;const x=this.getImportIndex(l);if(x===-1)return this;const E=m[_],R=this.fragments[_];return m=m.filter(({id:F})=>F!==r),this.fragments=this.fragments.filter(({id:F})=>F!==r),this.stylesheet.imports=m.slice(0,x).concat(E).concat(m.slice(x)),this.fragments=this.fragments.slice(0,x).concat(R).concat(this.fragments.slice(x)),this.mergeLayers(),this}setImportUrl(r,l){this._checkLoaded();const m=this.stylesheet.imports||[],_=this.getImportIndex(r);if(_===-1)return this;m[_].url=l;const x=this.fragments[_];return x.style=this._createFragmentStyle(m[_]),x.style.on("style.import.load",()=>this.mergeAll()),x.style.loadURL(l),this}setImportData(r,l){this._checkLoaded();const m=this.getImportIndex(r),_=this.stylesheet.imports||[];return m===-1?this:l?(this.fragments[m].style.setState(l),this._reloadImports(),this):(delete _[m].data,this.setImportUrl(r,_[m].url))}setImportConfig(r,l,m){this._checkLoaded();const _=this.getImportIndex(r),x=this.stylesheet.imports||[];if(_===-1)return this;l?x[_].config=l:delete x[_].config;const E=this.fragments[_];m&&E.style.stylesheet&&(E.style.stylesheet.schema=m);const R=E.style.stylesheet&&E.style.stylesheet.schema;return E.config=l,E.style.updateConfig(l,R),this.updateConfigDependencies(),this}removeImport(r){this._checkLoaded();const l=this.stylesheet.imports||[],m=this.getImportIndex(r);m!==-1&&(l.splice(m,1),this.fragments[m].style._remove(),this.fragments.splice(m,1),this._reloadImports())}getImportIndex(r){const l=(this.stylesheet.imports||[]).findIndex(m=>m.id===r);return l===-1&&this.fire(new c.y(new Error(`Import '${r}' does not exist in the map's style and cannot be updated.`))),l}getLayer(r){return this._mergedLayers[r]}getSources(){const r=[];for(const l in this._mergedOtherSourceCaches){const m=this._mergedOtherSourceCaches[l];m&&r.push(m.getSource())}return r}getSource(r,l){const m=this.getSourceCache(r,l);return m&&m.getSource()}getLayerSource(r){const l=this.getLayerSourceCache(r);return l&&l.getSource()}getSourceCache(r,l){const m=c.aC(r,l);return this._mergedOtherSourceCaches[m]}getLayerSourceCache(r){const l=c.aC(r.source,r.scope);return r.type==="symbol"?this._mergedSymbolSourceCaches[l]:this._mergedOtherSourceCaches[l]}getSourceCaches(r){if(r==null)return Object.values(this._mergedSourceCaches);const l=[];return this._mergedOtherSourceCaches[r]&&l.push(this._mergedOtherSourceCaches[r]),this._mergedSymbolSourceCaches[r]&&l.push(this._mergedSymbolSourceCaches[r]),l}updateSourceCaches(){const r=this._changes.getUpdatedSourceCaches();for(const l in r){const m=r[l];m==="reload"?this.reloadSource(l):m==="clear"&&this.clearSource(l)}}updateLayers(r){const l=this._changes.getUpdatedPaintProperties();for(const m of l){const _=this.getLayer(m);_&&_.updateTransitions(r)}}getImages(r,l,m){this.imageManager.getImages(l.icons,l.scope,m),this._updateTilesForChangedImages();const _=x=>{x&&x.setDependencies(l.tileID.key,l.type,l.icons)};_(this._otherSourceCaches[l.source]),_(this._symbolSourceCaches[l.source])}rasterizeImages(r,l,m){this.imageManager.rasterizeImages(l,m)}getGlyphs(r,l,m){this.glyphManager.getGlyphs(l.stacks,l.scope,m)}getResource(r,l,m){return c.cy(l,m)}getOwnSourceCache(r){return this._otherSourceCaches[r]}getOwnLayerSourceCache(r){return r.type==="symbol"?this._symbolSourceCaches[r.source]:this._otherSourceCaches[r.source]}getOwnSourceCaches(r){const l=[];return this._otherSourceCaches[r]&&l.push(this._otherSourceCaches[r]),this._symbolSourceCaches[r]&&l.push(this._symbolSourceCaches[r]),l}_isSourceCacheLoaded(r){const l=this.getOwnSourceCaches(r);return l.length===0?(this.fire(new c.y(new Error(`There is no source with ID '${r}'`))),!1):l.every(m=>m.loaded())}has3DLayers(){return this._has3DLayers}hasSymbolLayers(){return this._hasSymbolLayers}hasCircleLayers(){return this._hasCircleLayers}isLayerClipped(r,l){if(!this._clipLayerPresent&&r.type!=="fill-extrusion")return!1;const m=r.type==="fill-extrusion"&&r.sourceLayer==="building";if(r.is3D()){if(m||l&&l.type==="batched-model"||r.type==="model")return!0}else if(r.type==="symbol")return!0;return!1}_clearWorkerCaches(){this.dispatcher.broadcast("clearCaches")}destroy(){this._clearWorkerCaches(),this.fragments.forEach(r=>{r.style._remove()}),this.terrainSetForDrapingOnly()&&(delete this.terrain,delete this.stylesheet.terrain)}}rs.getSourceType=function(p){return wn[p]},rs.setSourceType=function(p,r){wn[p]=r},rs.registerForPluginStateChange=c.ch;var ja=`
#define EPSILON 0.0000001
#define PI 3.141592653589793
#ifdef RENDER_CUTOFF
float cutoff_opacity(vec4 cutoff_params,float depth) {float near=cutoff_params.x;float far=cutoff_params.y;float cutoffStart=cutoff_params.z;float cutoffEnd=cutoff_params.w;float linearDepth=(depth-near)/(far-near);return clamp((linearDepth-cutoffStart)/(cutoffEnd-cutoffStart),0.0,1.0);}
#endif`,Ps=`
out vec4 glFragColor;highp float unpack_depth(highp vec4 rgba_depth)
{const highp vec4 bit_shift=vec4(1.0/(255.0*255.0*255.0),1.0/(255.0*255.0),1.0/255.0,1.0);return dot(rgba_depth,bit_shift)*2.0-1.0;}highp vec4 pack_depth(highp float ndc_z) {highp float depth=ndc_z*0.5+0.5;const highp vec4 bit_shift=vec4(255.0*255.0*255.0,255.0*255.0,255.0,1.0);const highp vec4 bit_mask =vec4(0.0,1.0/255.0,1.0/255.0,1.0/255.0);highp vec4 res=fract(depth*bit_shift);res-=res.xxyz*bit_mask;return res;}
#ifdef INDICATOR_CUTOUT
uniform vec3 u_indicator_cutout_centers;uniform vec4 u_indicator_cutout_params;
#endif
vec4 applyCutout(vec4 color,float height) {
#ifdef INDICATOR_CUTOUT
float verticalFadeRange=u_indicator_cutout_centers.z*0.25;float holeMinOpacity=mix(1.0,u_indicator_cutout_params.x,smoothstep(u_indicator_cutout_centers.z,u_indicator_cutout_centers.z+verticalFadeRange,height));float holeRadius=max(u_indicator_cutout_params.y,0.0);float holeAspectRatio=u_indicator_cutout_params.z;float fadeStart=u_indicator_cutout_params.w;float distA=distance(vec2(gl_FragCoord.x,gl_FragCoord.y*holeAspectRatio),vec2(u_indicator_cutout_centers[0],u_indicator_cutout_centers[1]*holeAspectRatio));return color*min(smoothstep(fadeStart,holeRadius,distA)+holeMinOpacity,1.0);
#else
return color;
#endif
}
#ifdef DEBUG_WIREFRAME
#define HANDLE_WIREFRAME_DEBUG \\
glFragColor=vec4(0.7,0.0,0.0,0.7); \\
gl_FragDepth=gl_FragCoord.z-0.0001;
#else
#define HANDLE_WIREFRAME_DEBUG
#endif
#ifdef RENDER_CUTOFF
uniform highp vec4 u_cutoff_params;in float v_cutoff_opacity;
#endif
vec4 textureLodCustom(sampler2D image,highp vec2 pos,highp vec2 lod_coord) {highp vec2 size=vec2(textureSize(image,0));highp vec2 dx=dFdx(lod_coord.xy*size);highp vec2 dy=dFdy(lod_coord.xy*size);highp float delta_max_sqr=max(dot(dx,dx),dot(dy,dy));highp float lod=0.5*log2(delta_max_sqr);return textureLod(image,pos,lod);}vec4 applyLUT(highp sampler3D lut,vec4 col) {vec3 size=vec3(textureSize(lut,0));vec3 uvw=(col.rbg*float(size-1.0)+0.5)/size;return vec4(texture(lut,uvw).rgb,col.a);}vec3 applyLUT(highp sampler3D lut,vec3 col) {return applyLUT(lut,vec4(col,1.0)).rgb;}`,Vl=`
#define EXTENT 8192.0
#define RAD_TO_DEG 180.0/PI
#define DEG_TO_RAD PI/180.0
#define GLOBE_RADIUS EXTENT/PI/2.0
float wrap(float n,float min,float max) {float d=max-min;float w=mod(mod(n-min,d)+d,d)+min;return (w==min) ? max : w;}
#ifdef PROJECTION_GLOBE_VIEW
vec3 mercator_tile_position(mat4 matrix,vec2 tile_anchor,vec3 tile_id,vec2 mercator_center) {
#ifndef PROJECTED_POS_ON_VIEWPORT
float tiles=tile_id.z;vec2 mercator=(tile_anchor/EXTENT+tile_id.xy)/tiles;mercator-=mercator_center;mercator.x=wrap(mercator.x,-0.5,0.5);vec4 mercator_tile=vec4(mercator.xy*EXTENT,EXTENT/(2.0*PI),1.0);mercator_tile=matrix*mercator_tile;return mercator_tile.xyz;
#else
return vec3(0.0);
#endif
}vec3 mix_globe_mercator(vec3 globe,vec3 mercator,float t) {return mix(globe,mercator,t);}mat3 globe_mercator_surface_vectors(vec3 pos_normal,vec3 up_dir,float zoom_transition) {vec3 normal=zoom_transition==0.0 ? pos_normal : normalize(mix(pos_normal,up_dir,zoom_transition));vec3 xAxis=normalize(vec3(normal.z,0.0,-normal.x));vec3 yAxis=normalize(cross(normal,xAxis));return mat3(xAxis,yAxis,normal);}
#endif
vec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(
unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0
);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const vec2 units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (units_to_pixels*pos+offset)/pattern_size;}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {return get_pattern_pos(pixel_coord_upper,pixel_coord_lower,pattern_size,vec2(tile_units_to_pixels),pos);}float mercatorXfromLng(float lng) {return (180.0+lng)/360.0;}float mercatorYfromLat(float lat) {return (180.0-(RAD_TO_DEG*log(tan(PI/4.0+lat/2.0*DEG_TO_RAD))))/360.0;}vec3 latLngToECEF(vec2 latLng) {latLng=DEG_TO_RAD*latLng;float cosLat=cos(latLng[0]);float sinLat=sin(latLng[0]);float cosLng=cos(latLng[1]);float sinLng=sin(latLng[1]);float sx=cosLat*sinLng*GLOBE_RADIUS;float sy=-sinLat*GLOBE_RADIUS;float sz=cosLat*cosLng*GLOBE_RADIUS;return vec3(sx,sy,sz);}
#ifdef RENDER_CUTOFF
uniform vec4 u_cutoff_params;out float v_cutoff_opacity;
#endif
const vec4 AWAY=vec4(-1000.0,-1000.0,-1000.0,1);const float skirtOffset=24575.0;vec3 decomposeToPosAndSkirt(vec2 posWithComposedSkirt)
{float skirt=float(posWithComposedSkirt.x >=skirtOffset);vec2 pos=posWithComposedSkirt-vec2(skirt*skirtOffset,0.0);return vec3(pos,skirt);}`,ml="in highp vec3 a_pos_3f;uniform lowp mat4 u_matrix;out highp vec3 v_uv;void main() {const mat3 half_neg_pi_around_x=mat3(1.0,0.0, 0.0,0.0,0.0,-1.0,0.0,1.0, 0.0);v_uv=half_neg_pi_around_x*a_pos_3f;vec4 pos=u_matrix*vec4(a_pos_3f,1.0);gl_Position=pos.xyww;}",cu=`
#define ELEVATION_SCALE 7.0
#define ELEVATION_OFFSET 450.0
#ifdef PROJECTION_GLOBE_VIEW
uniform vec3 u_tile_tl_up;uniform vec3 u_tile_tr_up;uniform vec3 u_tile_br_up;uniform vec3 u_tile_bl_up;uniform float u_tile_up_scale;vec3 elevationVector(vec2 pos) {vec2 uv=pos/EXTENT;vec3 up=normalize(mix(
mix(u_tile_tl_up,u_tile_tr_up,uv.xxx),mix(u_tile_bl_up,u_tile_br_up,uv.xxx),uv.yyy));return up*u_tile_up_scale;}
#else
vec3 elevationVector(vec2 pos) { return vec3(0,0,1); }
#endif
#ifdef TERRAIN
uniform highp sampler2D u_dem;uniform highp sampler2D u_dem_prev;uniform vec2 u_dem_tl;uniform vec2 u_dem_tl_prev;uniform float u_dem_scale;uniform float u_dem_scale_prev;uniform float u_dem_size;uniform float u_dem_lerp;uniform float u_exaggeration;uniform float u_meter_to_dem;uniform mat4 u_label_plane_matrix_inv;vec4 tileUvToDemSample(vec2 uv,float dem_size,float dem_scale,vec2 dem_tl) {vec2 pos=dem_size*(uv*dem_scale+dem_tl)+1.0;vec2 f=fract(pos);return vec4((pos-f+0.5)/(dem_size+2.0),f);}float currentElevation(vec2 apos) {
#ifdef TERRAIN_DEM_FLOAT_FORMAT
vec2 pos=(u_dem_size*(apos/8192.0*u_dem_scale+u_dem_tl)+1.5)/(u_dem_size+2.0);return u_exaggeration*texture(u_dem,pos).r;
#else
float dd=1.0/(u_dem_size+2.0);vec4 r=tileUvToDemSample(apos/8192.0,u_dem_size,u_dem_scale,u_dem_tl);vec2 pos=r.xy;vec2 f=r.zw;float tl=texture(u_dem,pos).r;float tr=texture(u_dem,pos+vec2(dd,0)).r;float bl=texture(u_dem,pos+vec2(0,dd)).r;float br=texture(u_dem,pos+vec2(dd,dd)).r;return u_exaggeration*mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);
#endif
}float prevElevation(vec2 apos) {
#ifdef TERRAIN_DEM_FLOAT_FORMAT
vec2 pos=(u_dem_size*(apos/8192.0*u_dem_scale_prev+u_dem_tl_prev)+1.5)/(u_dem_size+2.0);return u_exaggeration*texture(u_dem_prev,pos).r;
#else
float dd=1.0/(u_dem_size+2.0);vec4 r=tileUvToDemSample(apos/8192.0,u_dem_size,u_dem_scale_prev,u_dem_tl_prev);vec2 pos=r.xy;vec2 f=r.zw;float tl=texture(u_dem_prev,pos).r;float tr=texture(u_dem_prev,pos+vec2(dd,0)).r;float bl=texture(u_dem_prev,pos+vec2(0,dd)).r;float br=texture(u_dem_prev,pos+vec2(dd,dd)).r;return u_exaggeration*mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);
#endif
}
#ifdef TERRAIN_VERTEX_MORPHING
float elevation(vec2 apos) {
#ifdef ZERO_EXAGGERATION
return 0.0;
#endif
float nextElevation=currentElevation(apos);float prevElevation=prevElevation(apos);return mix(prevElevation,nextElevation,u_dem_lerp);}
#else
float elevation(vec2 apos) {
#ifdef ZERO_EXAGGERATION
return 0.0;
#endif
return currentElevation(apos);}
#endif
vec4 fourSample(vec2 pos,vec2 off) {float tl=texture(u_dem,pos).r;float tr=texture(u_dem,pos+vec2(off.x,0.0)).r;float bl=texture(u_dem,pos+vec2(0.0,off.y)).r;float br=texture(u_dem,pos+off).r;return vec4(tl,tr,bl,br);}float flatElevation(vec2 pack) {vec2 apos=floor(pack/8.0);vec2 span=10.0*(pack-apos*8.0);vec2 uvTex=(apos-vec2(1.0,1.0))/8190.0;float size=u_dem_size+2.0;float dd=1.0/size;vec2 pos=u_dem_size*(uvTex*u_dem_scale+u_dem_tl)+1.0;vec2 f=fract(pos);pos=(pos-f+0.5)*dd;vec4 h=fourSample(pos,vec2(dd));float z=mix(mix(h.x,h.y,f.x),mix(h.z,h.w,f.x),f.y);vec2 w=floor(0.5*(span*u_meter_to_dem-1.0));vec2 d=dd*w;h=fourSample(pos-d,2.0*d+vec2(dd));vec4 diff=abs(h.xzxy-h.ywzw);vec2 slope=min(vec2(0.25),u_meter_to_dem*0.5*(diff.xz+diff.yw)/(2.0*w+vec2(1.0)));vec2 fix=slope*span;float base=z+max(fix.x,fix.y);return u_exaggeration*base;}float elevationFromUint16(float word) {return u_exaggeration*(word/ELEVATION_SCALE-ELEVATION_OFFSET);}
#else
float elevation(vec2 pos) { return 0.0; }
#endif
#ifdef DEPTH_OCCLUSION
uniform highp sampler2D u_depth;uniform highp vec2 u_depth_size_inv;uniform highp vec2 u_depth_range_unpack;uniform highp float u_occluder_half_size;uniform highp float u_occlusion_depth_offset;
#ifdef DEPTH_D24
float unpack_depth(float depth) {return depth*u_depth_range_unpack.x+u_depth_range_unpack.y;}vec4 unpack_depth4(vec4 depth) {return depth*u_depth_range_unpack.x+vec4(u_depth_range_unpack.y);}
#else
highp float unpack_depth_rgba(vec4 rgba_depth)
{const highp vec4 bit_shift=vec4(1.0/(255.0*255.0*255.0),1.0/(255.0*255.0),1.0/255.0,1.0);return dot(rgba_depth,bit_shift)*2.0-1.0;}
#endif
bool isOccluded(vec4 frag) {vec3 coord=frag.xyz/frag.w;
#ifdef DEPTH_D24
float depth=unpack_depth(texture(u_depth,(coord.xy+1.0)*0.5).r);
#else
float depth=unpack_depth_rgba(texture(u_depth,(coord.xy+1.0)*0.5));
#endif
return coord.z+u_occlusion_depth_offset > depth;}highp vec4 getCornerDepths(vec2 coord) {highp vec3 df=vec3(u_occluder_half_size*u_depth_size_inv,0.0);highp vec2 uv=0.5*coord.xy+0.5;
#ifdef DEPTH_D24
highp vec4 depth=vec4(
texture(u_depth,uv-df.xz).r,texture(u_depth,uv+df.xz).r,texture(u_depth,uv-df.zy).r,texture(u_depth,uv+df.zy).r
);depth=unpack_depth4(depth);
#else
highp vec4 depth=vec4(
unpack_depth_rgba(texture(u_depth,uv-df.xz)),unpack_depth_rgba(texture(u_depth,uv+df.xz)),unpack_depth_rgba(texture(u_depth,uv-df.zy)),unpack_depth_rgba(texture(u_depth,uv+df.zy))
);
#endif
return depth;}highp float occlusionFadeMultiSample(vec4 frag) {highp vec3 coord=frag.xyz/frag.w;highp vec2 uv=0.5*coord.xy+0.5;int NX=3;int NY=4;highp vec2 df=u_occluder_half_size*u_depth_size_inv;highp vec2 oneStep=2.0*u_occluder_half_size*u_depth_size_inv/vec2(NX-1,NY-1);highp float res=0.0;for (int y=0; y < NY;++y) {for (int x=0; x < NX;++x) {
#ifdef DEPTH_D24
highp float depth=unpack_depth(texture(u_depth,uv-df+vec2(float(x)*oneStep.x,float(y)*oneStep.y)).r);
#else
highp float depth=unpack_depth_rgba(texture(u_depth,uv-df+vec2(float(x)*oneStep.x,float(y)*oneStep.y)));
#endif
res+=1.0-clamp(300.0*(coord.z+u_occlusion_depth_offset-depth),0.0,1.0);}}res=clamp(2.0*res/float(NX*NY)-0.5,0.0,1.0);return res;}highp float occlusionFade(vec4 frag) {highp vec3 coord=frag.xyz/frag.w;highp vec4 depth=getCornerDepths(coord.xy);return dot(vec4(0.25),vec4(1.0)-clamp(300.0*(vec4(coord.z+u_occlusion_depth_offset)-depth),0.0,1.0));}
#else
bool isOccluded(vec4 frag) { return false; }highp float occlusionFade(vec4 frag) { return 1.0; }highp float occlusionFadeMultiSample(vec4 frag) { return 1.0; }
#endif//DEPTH_OCCLUSION`,Vu=`#ifdef FOG
uniform mediump vec4 u_fog_color;uniform mediump vec2 u_fog_range;uniform mediump float u_fog_horizon_blend;uniform mediump mat4 u_fog_matrix;out vec3 v_fog_pos;float fog_range(float depth) {return (depth-u_fog_range[0])/(u_fog_range[1]-u_fog_range[0]);}float fog_horizon_blending(vec3 camera_dir) {float t=max(0.0,camera_dir.z/u_fog_horizon_blend);return u_fog_color.a*exp(-3.0*t*t);}float fog_opacity(float t) {const float decay=6.0;float falloff=1.0-min(1.0,exp(-decay*t));falloff*=falloff*falloff;return u_fog_color.a*min(1.0,1.00747*falloff);}vec3 fog_position(vec3 pos) {return (u_fog_matrix*vec4(pos,1.0)).xyz;}vec3 fog_position(vec2 pos) {return fog_position(vec3(pos,0.0));}float fog(vec3 pos) {float depth=length(pos);float opacity=fog_opacity(fog_range(depth));return opacity*fog_horizon_blending(pos/depth);}
#endif`,Hl=`#ifdef FOG
uniform mediump vec4 u_fog_color;uniform mediump vec2 u_fog_range;uniform mediump float u_fog_horizon_blend;uniform mediump vec2 u_fog_vertical_limit;uniform mediump float u_fog_temporal_offset;in vec3 v_fog_pos;uniform highp vec3 u_frustum_tl;uniform highp vec3 u_frustum_tr;uniform highp vec3 u_frustum_br;uniform highp vec3 u_frustum_bl;uniform highp vec3 u_globe_pos;uniform highp float u_globe_radius;uniform highp vec2 u_viewport;uniform float u_globe_transition;uniform int u_is_globe;float fog_range(float depth) {return (depth-u_fog_range[0])/(u_fog_range[1]-u_fog_range[0]);}float fog_horizon_blending(vec3 camera_dir) {float t=max(0.0,camera_dir.z/u_fog_horizon_blend);return u_fog_color.a*exp(-3.0*t*t);}float fog_opacity(float t) {const float decay=6.0;float falloff=1.0-min(1.0,exp(-decay*t));falloff*=falloff*falloff;return u_fog_color.a*min(1.0,1.00747*falloff);}float globe_glow_progress() {highp vec2 uv=gl_FragCoord.xy/u_viewport;highp vec3 ray_dir=mix(
mix(u_frustum_tl,u_frustum_tr,uv.x),mix(u_frustum_bl,u_frustum_br,uv.x),1.0-uv.y);highp vec3 dir=normalize(ray_dir);highp vec3 closest_point=dot(u_globe_pos,dir)*dir;highp float sdf=length(closest_point-u_globe_pos)/u_globe_radius;return sdf+PI*0.5;}float fog_opacity(vec3 pos) {float depth=length(pos);return fog_opacity(fog_range(depth));}vec3 fog_apply(vec3 color,vec3 pos,float opacity_limit) {float depth=length(pos);float opacity;if (u_is_globe==1) {float glow_progress=globe_glow_progress();float t=mix(glow_progress,depth,u_globe_transition);opacity=fog_opacity(fog_range(t));} else {opacity=fog_opacity(fog_range(depth));opacity*=fog_horizon_blending(pos/depth);}return mix(color,u_fog_color.rgb,min(opacity,opacity_limit));}vec3 fog_apply(vec3 color,vec3 pos) {return fog_apply(color,pos,1.0);}vec4 fog_apply_from_vert(vec4 color,float fog_opac) {float alpha=EPSILON+color.a;color.rgb=mix(color.rgb/alpha,u_fog_color.rgb,fog_opac)*alpha;return color;}vec3 fog_apply_sky_gradient(vec3 camera_ray,vec3 sky_color) {float horizon_blend=fog_horizon_blending(normalize(camera_ray));return mix(sky_color,u_fog_color.rgb,horizon_blend);}vec4 fog_apply_premultiplied(vec4 color,vec3 pos) {float alpha=EPSILON+color.a;color.rgb=fog_apply(color.rgb/alpha,pos)*alpha;return color;}vec4 fog_apply_premultiplied(vec4 color,vec3 pos,float heightMeters) {float verticalProgress=(u_fog_vertical_limit.x > 0.0 || u_fog_vertical_limit.y > 0.0) ? smoothstep(u_fog_vertical_limit.x,u_fog_vertical_limit.y,heightMeters) : 0.0;float opacityLimit=1.0-smoothstep(0.9,1.0,fog_opacity(pos));return mix(fog_apply_premultiplied(color,pos),color,min(verticalProgress,opacityLimit));}vec3 fog_dither(vec3 color) {return color;}vec4 fog_dither(vec4 color) {return vec4(fog_dither(color.rgb),color.a);}
#endif`,Tl=`#ifdef RASTER_ARRAY
uniform highp sampler2D u_image0;uniform sampler2D u_image1;const vec4 NODATA=vec4(1);ivec4 _raTexLinearCoord(highp vec2 texCoord,highp vec2 texResolution,out highp vec2 fxy) {texCoord=texCoord*texResolution-0.5;fxy=fract(texCoord);texCoord-=fxy;return ivec4(texCoord.xxyy+vec2(1.5,0.5).xyxy);}vec2 _raTexLinearMix(highp vec2 fxy,highp vec4 colorMix,highp float colorOffset,highp vec4 t00,highp vec4 t10,highp vec4 t01,highp vec4 t11) {vec2 c00=t00==NODATA ? vec2(0) : vec2(colorOffset+dot(t00,colorMix),1);vec2 c10=t10==NODATA ? vec2(0) : vec2(colorOffset+dot(t10,colorMix),1);vec2 c01=t01==NODATA ? vec2(0) : vec2(colorOffset+dot(t01,colorMix),1);vec2 c11=t11==NODATA ? vec2(0) : vec2(colorOffset+dot(t11,colorMix),1);return mix(mix(c01,c11,fxy.x),mix(c00,c10,fxy.x),fxy.y);}vec2 raTexture2D_image0_linear(highp vec2 texCoord,highp vec2 texResolution,highp vec4 colorMix,highp float colorOffset) {vec2 fxy;ivec4 c=_raTexLinearCoord(texCoord,texResolution,fxy);return _raTexLinearMix(fxy,colorMix,colorOffset,texelFetch(u_image0,c.yz,0),texelFetch(u_image0,c.xz,0),texelFetch(u_image0,c.yw,0),texelFetch(u_image0,c.xw,0)
);}vec2 raTexture2D_image1_linear(highp vec2 texCoord,highp vec2 texResolution,highp vec4 colorMix,highp float colorOffset) {vec2 fxy;ivec4 c=_raTexLinearCoord(texCoord,texResolution,fxy);return _raTexLinearMix(fxy,colorMix,colorOffset,texelFetch(u_image1,c.yz,0),texelFetch(u_image1,c.xz,0),texelFetch(u_image1,c.yw,0),texelFetch(u_image1,c.xw,0)
);}vec2 raTexture2D_image0_nearest(highp vec2 texCoord,highp vec2 texResolution,highp vec4 colorMix,highp float colorOffset) {vec4 t=texelFetch(u_image0,ivec2(texCoord*texResolution),0);return t==NODATA ? vec2(0) : vec2(colorOffset+dot(t,colorMix),1);}vec2 raTexture2D_image1_nearest(highp vec2 texCoord,highp vec2 texResolution,highp vec4 colorMix,highp float colorOffset) {vec4 t=texelFetch(u_image1,ivec2(texCoord*texResolution),0);return t==NODATA ? vec2(0) : vec2(colorOffset+dot(t,colorMix),1);}
#endif`,$l=`#ifdef RASTER_ARRAY
uniform sampler2D u_velocity;uniform mediump vec2 u_velocity_res;uniform mediump float u_max_speed;const vec4 NO_DATA=vec4(1);const vec2 INVALID_VELOCITY=vec2(-1);uniform highp vec2 u_uv_offset;uniform highp float u_data_offset;uniform highp vec2 u_data_scale;ivec4 rasterArrayLinearCoord(highp vec2 texCoord,highp vec2 texResolution,out highp vec2 fxy) {texCoord=texCoord*texResolution-0.5;fxy=fract(texCoord);texCoord-=fxy;return ivec4(texCoord.xxyy+vec2(1.5,0.5).xyxy);}highp vec2 lookup_velocity(highp vec2 uv) {uv=u_uv_offset.x+u_uv_offset.y*uv;highp vec2 fxy;ivec4 c=rasterArrayLinearCoord(uv,u_velocity_res,fxy);highp vec4 tl=texelFetch(u_velocity,c.yz,0);highp vec4 tr=texelFetch(u_velocity,c.xz,0);highp vec4 bl=texelFetch(u_velocity,c.yw,0);highp vec4 br=texelFetch(u_velocity,c.xw,0);if (tl==NO_DATA) {return INVALID_VELOCITY;}if (tr==NO_DATA) {return INVALID_VELOCITY;}if (bl==NO_DATA) {return INVALID_VELOCITY;}if (br==NO_DATA) {return INVALID_VELOCITY;}highp vec4 t=mix(mix(bl,br,fxy.x),mix(tl,tr,fxy.x),fxy.y);highp vec2 velocity=u_data_offset+vec2(dot(t.rg,u_data_scale),dot(t.ba,u_data_scale));velocity.y=-velocity.y;velocity/=max(u_max_speed,length(velocity));return velocity;}
#endif
uniform highp float u_particle_pos_scale;uniform highp vec2 u_particle_pos_offset;highp vec4 pack_pos_to_rgba(highp vec2 p) {highp vec2 v=(p+u_particle_pos_offset)/u_particle_pos_scale;highp vec4 r=vec4(v.x,fract(v.x*255.0),v.y,fract(v.y*255.0));return vec4(r.x-r.y/255.0,r.y,r.z-r.w/255.0,r.w);}highp vec2 unpack_pos_from_rgba(highp vec4 v) {v=floor(v*255.0+0.5)/255.0;highp vec2 p=vec2(v.x+(v.y/255.0),v.z+(v.w/255.0));return u_particle_pos_scale*p-u_particle_pos_offset;}`,dc=`#ifdef RENDER_SHADOWS
uniform mediump vec3 u_shadow_direction;uniform highp vec3 u_shadow_normal_offset;vec3 shadow_normal_offset(vec3 normal) {float tileInMeters=u_shadow_normal_offset[0];vec3 n=vec3(-normal.xy,tileInMeters*normal.z);float dotScale=min(1.0-dot(normal,u_shadow_direction),1.0)*0.5+0.5;return n*dotScale;}vec3 shadow_normal_offset_model(vec3 normal) {vec3 transformed_normal=vec3(-normal.xy,normal.z);float NDotL=dot(normalize(transformed_normal),u_shadow_direction);float dotScale=min(1.0-NDotL,1.0)*0.5+0.5;return normal*dotScale;}float shadow_normal_offset_multiplier0() {return u_shadow_normal_offset[1];}float shadow_normal_offset_multiplier1() {return u_shadow_normal_offset[2];}
#endif//RENDER_SHADOWS`,bc=`#ifdef RENDER_SHADOWS
#ifdef DEPTH_TEXTURE
uniform highp sampler2D u_shadowmap_0;uniform highp sampler2D u_shadowmap_1;
#else
uniform sampler2D u_shadowmap_0;uniform sampler2D u_shadowmap_1;
#endif
uniform float u_shadow_intensity;uniform float u_shadow_map_resolution;uniform float u_shadow_texel_size;uniform highp vec3 u_shadow_normal_offset;uniform vec2 u_fade_range;uniform mediump vec3 u_shadow_direction;uniform highp vec3 u_shadow_bias;highp float shadow_sample_1(highp vec2 uv,highp float compare) {highp float shadow_depth;
#ifdef DEPTH_TEXTURE
shadow_depth=texture(u_shadowmap_1,uv).r;
#else
shadow_depth=unpack_depth(texture(u_shadowmap_1,uv))*0.5+0.5;
#endif
return step(shadow_depth,compare);}highp float shadow_sample_0(highp vec2 uv,highp float compare) {highp float shadow_depth;
#ifdef DEPTH_TEXTURE
shadow_depth=texture(u_shadowmap_0,uv).r;
#else
shadow_depth=unpack_depth(texture(u_shadowmap_0,uv))*0.5+0.5;
#endif
return step(shadow_depth,compare);}float shadow_occlusion_1(highp vec4 pos,highp float bias) {highp vec2 uv=pos.xy;return shadow_sample_1(uv,pos.z-bias);}float shadow_occlusion_0(highp vec4 pos,highp float bias) {highp float compare0=pos.z-bias;
#ifdef TEXTURE_GATHER
highp vec2 uv=pos.xy;highp vec4 samples=textureGather(u_shadowmap_0,uv,0);lowp vec4 stepSamples=step(samples,vec4(compare0));
#else
highp vec2 uv00=pos.xy-vec2(0.5*u_shadow_texel_size);highp vec2 uv10=uv00+vec2(u_shadow_texel_size,0.0);highp vec2 uv01=uv00+vec2(0.0,u_shadow_texel_size);highp vec2 uv11=uv01+vec2(u_shadow_texel_size,0.0);lowp vec4 stepSamples=vec4(
shadow_sample_0(uv01,compare0),shadow_sample_0(uv11,compare0),shadow_sample_0(uv10,compare0),shadow_sample_0(uv00,compare0)
);
#endif
vec2 f=fract(pos.xy*u_shadow_map_resolution-vec2(0.5));lowp vec2 lerpx=mix(stepSamples.wx,stepSamples.zy,f.xx);return mix(lerpx.x,lerpx.y,f.y);}float shadow_occlusion(highp vec4 light_view_pos0,highp vec4 light_view_pos1,float view_depth,highp float bias) {
#ifdef SHADOWS_SINGLE_CASCADE
light_view_pos0.xyz/=light_view_pos0.w;vec2 abs_bounds=abs(light_view_pos0.xy);if (abs_bounds.x >=1.0 || abs_bounds.y >=1.0) {return 0.0;}light_view_pos0.xyz=light_view_pos0.xyz*0.5+0.5;return shadow_occlusion_0(light_view_pos0,bias);
#else
light_view_pos0.xyz/=light_view_pos0.w;light_view_pos1.xyz/=light_view_pos1.w;vec4 uv=vec4(light_view_pos0.xy,light_view_pos1.xy);vec4 abs_bounds=abs(uv);if (abs_bounds.x < 1.0 && abs_bounds.y < 1.0) {light_view_pos0.xyz=light_view_pos0.xyz*0.5+0.5;return shadow_occlusion_0(light_view_pos0,bias);}if (abs_bounds.z >=1.0 || abs_bounds.w >=1.0) {return 0.0;}light_view_pos1.xyz=light_view_pos1.xyz*0.5+0.5;float occlusion1=shadow_occlusion_1(light_view_pos1,bias);return mix(occlusion1,0.0,smoothstep(u_fade_range.x,u_fade_range.y,view_depth));
#endif
}highp float calculate_shadow_bias(float NDotL) {
#ifdef NORMAL_OFFSET
return 0.5*u_shadow_bias.x;
#else
return 0.5*(u_shadow_bias.x+clamp(u_shadow_bias.y*tan(acos(NDotL)),0.0,u_shadow_bias.z));
#endif
}float shadowed_light_factor_normal(vec3 N,highp vec4 light_view_pos0,highp vec4 light_view_pos1,float view_depth) {float NDotL=dot(N,u_shadow_direction);float bias=calculate_shadow_bias(NDotL);float occlusion=shadow_occlusion(light_view_pos0,light_view_pos1,view_depth,bias);return mix(0.0,(1.0-(u_shadow_intensity*occlusion))*NDotL,step(0.0,NDotL));}float shadowed_light_factor_normal_opacity(vec3 N,highp vec4 light_view_pos0,highp vec4 light_view_pos1,float view_depth,float shadow_opacity) {float NDotL=dot(N,u_shadow_direction);float bias=calculate_shadow_bias(NDotL);float occlusion=shadow_occlusion(light_view_pos0,light_view_pos1,view_depth,bias)*shadow_opacity;return mix(0.0,(1.0-(u_shadow_intensity*occlusion))*NDotL,step(0.0,NDotL));}float shadowed_light_factor_normal_unbiased(vec3 N,highp vec4 light_view_pos0,highp vec4 light_view_pos1,float view_depth) {float NDotL=dot(N,u_shadow_direction);float bias=0.0;float occlusion=shadow_occlusion(light_view_pos0,light_view_pos1,view_depth,bias);return mix(0.0,(1.0-(u_shadow_intensity*occlusion))*NDotL,step(0.0,NDotL));}highp vec2 compute_receiver_plane_depth_bias(highp vec3 pos_dx,highp vec3 pos_dy)
{highp vec2 biasUV=vec2(
pos_dy.y*pos_dx.z-pos_dx.y*pos_dy.z,pos_dx.x*pos_dy.z-pos_dy.x*pos_dx.z);biasUV*=1.0/((pos_dx.x*pos_dy.y)-(pos_dx.y*pos_dy.x));return biasUV;}float shadowed_light_factor_plane_bias(highp vec4 light_view_pos0,highp vec4 light_view_pos1,float view_depth) {highp vec3 light_view_pos0_xyz=light_view_pos0.xyz/light_view_pos0.w*0.5+0.5;highp vec3 light_view_pos0_ddx=dFdx(light_view_pos0_xyz);highp vec3 light_view_pos0_ddy=dFdy(light_view_pos0_xyz);highp vec2 plane_depth_bias=compute_receiver_plane_depth_bias(light_view_pos0_ddx,light_view_pos0_ddy);highp float bias=dot(vec2(u_shadow_texel_size,u_shadow_texel_size),plane_depth_bias)+0.0001;float occlusion=shadow_occlusion(light_view_pos0,light_view_pos1,view_depth,bias);return 1.0-(u_shadow_intensity*occlusion);}float shadowed_light_factor(highp vec4 light_view_pos0,highp vec4 light_view_pos1,float view_depth) {float bias=0.0;float occlusion=shadow_occlusion(light_view_pos0,light_view_pos1,view_depth,bias);return 1.0-(u_shadow_intensity*occlusion);}float shadow_occlusion(float ndotl,highp vec4 light_view_pos0,highp vec4 light_view_pos1,float view_depth) {float bias=calculate_shadow_bias(ndotl);return shadow_occlusion(light_view_pos0,light_view_pos1,view_depth,bias);}
#endif`;const rc=[];Wl(ja,rc),Wl(Vl,rc),Wl(Ps,rc);const Ul={"_prelude_fog.vertex.glsl":Vu,"_prelude_terrain.vertex.glsl":cu,"_prelude_shadow.vertex.glsl":dc,"_prelude_fog.fragment.glsl":Hl,"_prelude_shadow.fragment.glsl":bc,"_prelude_lighting.glsl":`
#ifdef LIGHTING_3D_MODE
uniform mediump vec3 u_lighting_ambient_color;uniform mediump vec3 u_lighting_directional_dir;uniform mediump vec3 u_lighting_directional_color;uniform mediump vec3 u_ground_radiance;float calculate_ambient_directional_factor(vec3 normal) {float NdotL=dot(normal,u_lighting_directional_dir);const float factor_reduction_max=0.3;float dir_luminance=dot(u_lighting_directional_color,vec3(0.2126,0.7152,0.0722));float directional_factor_min=1.0-factor_reduction_max*min(dir_luminance,1.0);float ambient_directional_factor=mix(directional_factor_min,1.0,min((NdotL+1.0),1.0));const float vertical_factor_min=0.92;float vertical_factor=mix(vertical_factor_min,1.0,normal.z*0.5+0.5);return vertical_factor*ambient_directional_factor;}vec3 linearProduct(vec3 srgbIn,vec3 k) {return srgbIn*pow(k,vec3(1./2.2));}vec3 apply_lighting(vec3 color,vec3 normal,float dir_factor) {float ambient_directional_factor=calculate_ambient_directional_factor(normal);vec3 ambient_contrib=ambient_directional_factor*u_lighting_ambient_color;vec3 directional_contrib=u_lighting_directional_color*dir_factor;return linearProduct(color,ambient_contrib+directional_contrib);}vec4 apply_lighting(vec4 color,vec3 normal,float dir_factor) {return vec4(apply_lighting(color.rgb,normal,dir_factor),color.a);}vec3 apply_lighting(vec3 color,vec3 normal) {float dir_factor=max(dot(normal,u_lighting_directional_dir),0.0);return apply_lighting(color.rgb,normal,dir_factor);}vec4 apply_lighting(vec4 color,vec3 normal) {float dir_factor=max(dot(normal,u_lighting_directional_dir),0.0);return vec4(apply_lighting(color.rgb,normal,dir_factor),color.a);}vec3 apply_lighting_ground(vec3 color) {return color*u_ground_radiance;}vec4 apply_lighting_ground(vec4 color) {return vec4(apply_lighting_ground(color.rgb),color.a);}float calculate_NdotL(vec3 normal) {const float ext=0.70710678118;return (clamp(dot(normal,u_lighting_directional_dir),-ext,1.0)+ext)/(1.0+ext);}vec4 apply_lighting_with_emission_ground(vec4 color,float emissive_strength) {return mix(apply_lighting_ground(color),color,emissive_strength);}vec3 compute_flood_lighting(vec3 flood_light_color,float fully_occluded_factor,float occlusion,vec3 ground_shadow_factor) {vec3 fully_occluded_color=flood_light_color*mix(ground_shadow_factor,vec3(1.0),fully_occluded_factor);float occlusion_ramp=smoothstep(0.0,0.2,1.0-occlusion);return mix(fully_occluded_color,flood_light_color,occlusion_ramp);}vec3 compute_emissive_draped(vec3 unlit_color,float fully_occluded_factor,float occlusion,vec3 ground_shadow_factor) {vec3 fully_occluded_color=unlit_color*mix(ground_shadow_factor,vec3(1.0),fully_occluded_factor);return mix(fully_occluded_color,unlit_color,1.0-occlusion);}
#endif//LIGHTING_3D_MODE`,"_prelude_raster_array.glsl":Tl,"_prelude_raster_particle.glsl":$l},ac={};Ja("",cu),Ja(Hl,Vu),Ja(bc,dc),Ja(Tl,""),Ja($l,"");const Nc=Ja(Ps,Vl),sc=ja;var Ec={background:Ja(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_lighting.glsl"
uniform vec4 u_color;uniform float u_opacity;
#ifdef LIGHTING_3D_MODE
in vec4 v_color;
#endif
void main() {vec4 out_color;
#ifdef LIGHTING_3D_MODE
out_color=v_color;
#else
out_color=u_color;
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
glFragColor=out_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
#include "_prelude_lighting.glsl"
in vec2 a_pos;uniform mat4 u_matrix;
#ifdef LIGHTING_3D_MODE
uniform mediump vec4 u_color;out vec4 v_color;uniform float u_emissive_strength;
#endif
void main() {gl_Position=u_matrix*vec4(a_pos,0,1);
#ifdef LIGHTING_3D_MODE
v_color=apply_lighting_with_emission_ground(u_color,u_emissive_strength);
#endif
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),backgroundPattern:Ja(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_lighting.glsl"
uniform vec2 u_pattern_tl;uniform vec2 u_pattern_br;uniform vec2 u_texsize;uniform float u_opacity;uniform float u_emissive_strength;uniform sampler2D u_image;in highp vec2 v_pos;void main() {highp vec2 imagecoord=mod(v_pos,1.0);highp vec2 pos=mix(u_pattern_tl/u_texsize,u_pattern_br/u_texsize,imagecoord);vec4 out_color=textureLodCustom(u_image,pos,v_pos);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting_with_emission_ground(out_color,u_emissive_strength);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
glFragColor=out_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
uniform mat4 u_matrix;uniform vec2 u_pattern_size;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec2 u_pattern_units_to_pixels;in vec2 a_pos;out highp vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_pattern_size,u_pattern_units_to_pixels,a_pos);
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),circle:Ja(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_lighting.glsl"
in vec3 v_data;in float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
uniform float u_emissive_strength;void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=v_data.xy;float blur_positive=blur < 0.0 ? 0.0 : 1.0;lowp float antialiasblur=v_data.z;float extrude_length=length(extrude)+antialiasblur*(1.0-blur_positive);float antialiased_blur=-max(abs(blur),antialiasblur);float antialiase_blur_opacity=smoothstep(0.0,antialiasblur,extrude_length-1.0);float opacity_t=blur_positive==1.0 ? 
smoothstep(0.0,-antialiased_blur,1.0-extrude_length) : 
smoothstep(antialiased_blur,0.0,extrude_length-1.0)-antialiase_blur_opacity;float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(
antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width)
);vec4 out_color=mix(color*opacity,stroke_color*stroke_opacity,color_t);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting_with_emission_ground(out_color,u_emissive_strength);
#endif
#ifdef FOG
out_color=fog_apply_premultiplied(out_color,v_fog_pos);
#endif
glFragColor=out_color*(v_visibility*opacity_t);
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
}`,`#include "_prelude_fog.vertex.glsl"
#include "_prelude_terrain.vertex.glsl"
#define NUM_VISIBILITY_RINGS 2
#define INV_SQRT2 0.70710678
#define ELEVATION_BIAS 0.0001
#define NUM_SAMPLES_PER_RING 16
uniform mat4 u_matrix;uniform mat2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;in vec2 a_pos;
#ifdef PROJECTION_GLOBE_VIEW
in vec3 a_pos_3;in vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;
#endif
#ifdef ELEVATED_ROADS
in float a_circle_z_offset;
#endif
out vec3 v_data;out float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
vec2 calc_offset(vec2 extrusion,float radius,float stroke_width, float view_scale) {return extrusion*(radius+stroke_width)*u_extrude_scale*view_scale;}float cantilevered_elevation(vec2 pos,float radius,float stroke_width,float view_scale) {vec2 c1=pos+calc_offset(vec2(-1,-1),radius,stroke_width,view_scale);vec2 c2=pos+calc_offset(vec2(1,-1),radius,stroke_width,view_scale);vec2 c3=pos+calc_offset(vec2(1,1),radius,stroke_width,view_scale);vec2 c4=pos+calc_offset(vec2(-1,1),radius,stroke_width,view_scale);float h1=elevation(c1)+ELEVATION_BIAS;float h2=elevation(c2)+ELEVATION_BIAS;float h3=elevation(c3)+ELEVATION_BIAS;float h4=elevation(c4)+ELEVATION_BIAS;return max(h4,max(h3,max(h1,h2)));}float circle_elevation(vec2 pos) {
#if defined(TERRAIN)
return elevation(pos)+ELEVATION_BIAS;
#else
return 0.0;
#endif
}vec4 project_vertex(vec2 extrusion,vec4 world_center,vec4 projected_center,float radius,float stroke_width, float view_scale,mat3 surface_vectors) {vec2 sample_offset=calc_offset(extrusion,radius,stroke_width,view_scale);
#ifdef PITCH_WITH_MAP
#ifdef PROJECTION_GLOBE_VIEW
return u_matrix*( world_center+vec4(sample_offset.x*surface_vectors[0]+sample_offset.y*surface_vectors[1],0) );
#else
return u_matrix*( world_center+vec4(sample_offset,0,0) );
#endif
#else
return projected_center+vec4(sample_offset,0,0);
#endif
}float get_sample_step() {
#ifdef PITCH_WITH_MAP
return 2.0*PI/float(NUM_SAMPLES_PER_RING);
#else
return PI/float(NUM_SAMPLES_PER_RING);
#endif
}void main(void) {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);vec4 world_center;mat3 surface_vectors;
#ifdef PROJECTION_GLOBE_VIEW
vec3 pos_normal_3=a_pos_normal_3/16384.0;surface_vectors=globe_mercator_surface_vectors(pos_normal_3,u_up_dir,u_zoom_transition);vec3 surface_extrusion=extrude.x*surface_vectors[0]+extrude.y*surface_vectors[1];vec3 globe_elevation=elevationVector(circle_center)*circle_elevation(circle_center);vec3 globe_pos=a_pos_3+surface_extrusion+globe_elevation;vec3 mercator_elevation=u_up_dir*u_tile_up_scale*circle_elevation(circle_center);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,circle_center,u_tile_id,u_merc_center)+surface_extrusion+mercator_elevation;vec3 pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);world_center=vec4(pos,1);
#else 
surface_vectors=mat3(1.0);float height=circle_elevation(circle_center);world_center=vec4(circle_center,height,1);
#endif
#ifdef ELEVATED_ROADS
world_center.z+=a_circle_z_offset+ELEVATION_BIAS;
#endif
vec4 projected_center=u_matrix*world_center;float view_scale=0.0;
#ifdef PITCH_WITH_MAP
#ifdef SCALE_WITH_MAP
view_scale=1.0;
#else
view_scale=projected_center.w/u_camera_to_center_distance;
#endif
#else
#ifdef SCALE_WITH_MAP
view_scale=u_camera_to_center_distance;
#else
view_scale=projected_center.w;
#endif
#endif
gl_Position=project_vertex(extrude,world_center,projected_center,radius,stroke_width,view_scale,surface_vectors);float visibility=0.0;
#ifdef TERRAIN
float step=get_sample_step();vec4 occlusion_world_center;vec4 occlusion_projected_center;
#ifdef PITCH_WITH_MAP
float cantilevered_height=cantilevered_elevation(circle_center,radius,stroke_width,view_scale);occlusion_world_center=vec4(circle_center,cantilevered_height,1);occlusion_projected_center=u_matrix*occlusion_world_center;
#else
occlusion_world_center=world_center;occlusion_projected_center=projected_center;
#endif
for(int ring=0; ring < NUM_VISIBILITY_RINGS; ring++) {float scale=(float(ring)+1.0)/float(NUM_VISIBILITY_RINGS);for(int i=0; i < NUM_SAMPLES_PER_RING; i++) {vec2 extrusion=vec2(cos(step*float(i)),-sin(step*float(i)))*scale;vec4 frag_pos=project_vertex(extrusion,occlusion_world_center,occlusion_projected_center,radius,stroke_width,view_scale,surface_vectors);visibility+=float(!isOccluded(frag_pos));}}visibility/=float(NUM_VISIBILITY_RINGS)*float(NUM_SAMPLES_PER_RING);
#else
visibility=1.0;
#endif
#ifdef PROJECTION_GLOBE_VIEW
visibility=1.0;
#endif
v_visibility=visibility;lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);
#ifdef FOG
v_fog_pos=fog_position(world_center.xyz);
#endif
}`),clippingMask:Ja("void main() {glFragColor=vec4(1.0);}","in vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),heatmap:Ja(`#include "_prelude_fog.fragment.glsl"
uniform highp float u_intensity;in vec2 v_extrude;
#pragma mapbox: define highp float weight
#define GAUSS_COEF 0.3989422804014327
void main() {
#pragma mapbox: initialize highp float weight
float d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);glFragColor=vec4(val,1.0,1.0,1.0);
#ifdef FOG
if (u_is_globe==0) {glFragColor.r*=pow(1.0-fog_opacity(v_fog_pos),2.0);}
#endif
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_terrain.vertex.glsl"
#include "_prelude_fog.vertex.glsl"
uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;in vec2 a_pos;
#ifdef PROJECTION_GLOBE_VIEW
in vec3 a_pos_3;in vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;
#endif
out vec2 v_extrude;
#pragma mapbox: define highp float weight
#pragma mapbox: define mediump float radius
const highp float ZERO=1.0/255.0/16.0;
#define GAUSS_COEF 0.3989422804014327
void main(void) {
#pragma mapbox: initialize highp float weight
#pragma mapbox: initialize mediump float radius
vec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec2 tilePos=floor(a_pos*0.5);vec3 pos;
#ifdef PROJECTION_GLOBE_VIEW
vec3 pos_normal_3=a_pos_normal_3/16384.0;mat3 surface_vectors=globe_mercator_surface_vectors(pos_normal_3,u_up_dir,u_zoom_transition);vec3 surface_extrusion=extrude.x*surface_vectors[0]+extrude.y*surface_vectors[1];vec3 globe_elevation=elevationVector(tilePos)*elevation(tilePos);vec3 globe_pos=a_pos_3+surface_extrusion+globe_elevation;vec3 mercator_elevation=u_up_dir*u_tile_up_scale*elevation(tilePos);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,tilePos,u_tile_id,u_merc_center)+surface_extrusion+mercator_elevation;pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);
#else
pos=vec3(tilePos+extrude,elevation(tilePos));
#endif
gl_Position=u_matrix*vec4(pos,1);
#ifdef FOG
v_fog_pos=fog_position(pos);
#endif
}`),heatmapTexture:Ja(`uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;in vec2 v_pos;void main() {float t=texture(u_image,v_pos).r;vec4 color=texture(u_color_ramp,vec2(t,0.5));glFragColor=color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(0.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,"in vec2 a_pos;out vec2 v_pos;void main() {gl_Position=vec4(a_pos,0,1);v_pos=a_pos*0.5+0.5;}"),collisionBox:Ja("in float v_placed;in float v_notUsed;void main() {vec4 red =vec4(1.0,0.0,0.0,1.0);vec4 blue=vec4(0.0,0.0,1.0,0.5);glFragColor =mix(red,blue,step(0.5,v_placed))*0.5;glFragColor*=mix(1.0,0.1,step(0.5,v_notUsed));}",`#include "_prelude_terrain.vertex.glsl"
in vec3 a_pos;in vec2 a_anchor_pos;in vec2 a_extrude;in vec2 a_placed;in vec2 a_shift;in vec2 a_elevation_from_sea;in float a_size_scale;in vec2 a_padding;in float a_auto_z_offset;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;out float v_placed;out float v_notUsed;void main() {float feature_elevation=a_elevation_from_sea.x+a_auto_z_offset;float terrain_elevation=(a_elevation_from_sea.y==1.0 ? 0.0 : elevation(a_anchor_pos));vec4 projectedPoint=u_matrix*vec4(a_pos+elevationVector(a_anchor_pos)*(feature_elevation+terrain_elevation),1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(
0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,1.5);gl_Position=projectedPoint;gl_Position.xy+=(a_extrude*a_size_scale+a_shift+a_padding)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}`),collisionCircle:Ja("in float v_radius;in vec2 v_extrude;in float v_perspective_ratio;in float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);glFragColor=color*alpha*opacity_t;}",`in vec2 a_pos_2f;in float a_radius;in vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;out float v_radius;out vec2 v_extrude;out float v_perspective_ratio;out float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos_2f;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(
mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(
0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}`),debug:Ja("uniform highp vec4 u_color;uniform sampler2D u_overlay;in vec2 v_uv;void main() {vec4 overlay_color=texture(u_overlay,v_uv);glFragColor=mix(u_color,overlay_color,overlay_color.a);}",`#include "_prelude_terrain.vertex.glsl"
in vec2 a_pos;
#ifdef PROJECTION_GLOBE_VIEW
in vec3 a_pos_3;
#endif
out vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {float h=elevation(a_pos);v_uv=a_pos/8192.0;
#ifdef PROJECTION_GLOBE_VIEW
gl_Position=u_matrix*vec4(a_pos_3+elevationVector(a_pos)*h,1);
#else
gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,h,1);
#endif
}`),fill:Ja(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_lighting.glsl"
#include "_prelude_shadow.fragment.glsl"
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
uniform float u_emissive_strength;
#ifdef RENDER_SHADOWS
uniform vec3 u_ground_shadow_factor;in highp vec4 v_pos_light_view_0;in highp vec4 v_pos_light_view_1;in highp float v_depth;
#endif
#ifdef INDICATOR_CUTOUT
in highp float v_z_offset;
#endif
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
vec4 out_color=color;
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting_with_emission_ground(out_color,u_emissive_strength);
#ifdef RENDER_SHADOWS
float light=shadowed_light_factor(v_pos_light_view_0,v_pos_light_view_1,v_depth);out_color.rgb*=mix(u_ground_shadow_factor,vec3(1.0),light);
#endif
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
out_color*=opacity;
#ifdef INDICATOR_CUTOUT
if (v_z_offset >=0.0) {out_color=applyCutout(out_color,v_z_offset);}
#endif
glFragColor=out_color;
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
#include "_prelude_shadow.vertex.glsl"
in vec2 a_pos;
#ifdef ELEVATED_ROADS
in float a_road_z_offset;
#endif
#ifdef RENDER_SHADOWS
uniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;out highp vec4 v_pos_light_view_0;out highp vec4 v_pos_light_view_1;out highp float v_depth;
#endif
#ifdef INDICATOR_CUTOUT
out highp float v_z_offset;
#endif
uniform mat4 u_matrix;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp float z_offset
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp float z_offset
#ifdef ELEVATED_ROADS
z_offset+=a_road_z_offset;
#endif
float hidden=float(opacity==0.0);gl_Position=mix(u_matrix*vec4(a_pos,z_offset,1),AWAY,hidden);
#ifdef RENDER_SHADOWS
vec3 shd_pos0=vec3(a_pos,z_offset);vec3 shd_pos1=vec3(a_pos,z_offset);
#ifdef NORMAL_OFFSET
vec3 offset=shadow_normal_offset(vec3(0.0,0.0,1.0));shd_pos0+=offset*shadow_normal_offset_multiplier0();shd_pos1+=offset*shadow_normal_offset_multiplier1();
#endif
v_pos_light_view_0=u_light_matrix_0*vec4(shd_pos0,1);v_pos_light_view_1=u_light_matrix_1*vec4(shd_pos1,1);v_depth=gl_Position.w;
#endif
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
#ifdef INDICATOR_CUTOUT
v_z_offset=z_offset;
#endif
}`),fillOutline:Ja(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_lighting.glsl"
#include "_prelude_shadow.fragment.glsl"
in highp vec2 v_pos;uniform float u_emissive_strength;
#ifdef RENDER_SHADOWS
uniform vec3 u_ground_shadow_factor;in highp vec4 v_pos_light_view_0;in highp vec4 v_pos_light_view_1;in highp float v_depth;
#endif
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);vec4 out_color=outline_color;
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting_with_emission_ground(out_color,u_emissive_strength);
#ifdef RENDER_SHADOWS
float light=shadowed_light_factor(v_pos_light_view_0,v_pos_light_view_1,v_depth);out_color.rgb*=mix(u_ground_shadow_factor,vec3(1.0),light);
#endif
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
glFragColor=out_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
#include "_prelude_shadow.vertex.glsl"
in vec2 a_pos;
#ifdef ELEVATED_ROADS
in float a_road_z_offset;
#endif
#ifdef RENDER_SHADOWS
uniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;out highp vec4 v_pos_light_view_0;out highp vec4 v_pos_light_view_1;out highp float v_depth;
#endif
uniform mat4 u_matrix;uniform vec2 u_world;out highp vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp float z_offset
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp float z_offset
#ifdef ELEVATED_ROADS
z_offset+=a_road_z_offset;
#endif
float hidden=float(opacity==0.0);gl_Position=mix(u_matrix*vec4(a_pos,z_offset,1),AWAY,hidden);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;
#ifdef RENDER_SHADOWS
vec3 shd_pos0=vec3(a_pos,z_offset);vec3 shd_pos1=vec3(a_pos,z_offset);
#ifdef NORMAL_OFFSET
vec3 offset=shadow_normal_offset(vec3(0.0,0.0,1.0));shd_pos0+=offset*shadow_normal_offset_multiplier0();shd_pos1+=offset*shadow_normal_offset_multiplier1();
#endif
v_pos_light_view_0=u_light_matrix_0*vec4(shd_pos0,1);v_pos_light_view_1=u_light_matrix_1*vec4(shd_pos1,1);v_depth=gl_Position.w;
#endif
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),fillOutlinePattern:Ja(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_lighting.glsl"
#include "_prelude_shadow.fragment.glsl"
uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_emissive_strength;
#ifdef RENDER_SHADOWS
uniform vec3 u_ground_shadow_factor;in highp vec4 v_pos_light_view_0;in highp vec4 v_pos_light_view_1;in highp float v_depth;
#endif
in highp vec2 v_pos;in highp vec2 v_pos_world;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;highp vec2 imagecoord=mod(v_pos,1.0);highp vec2 pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,imagecoord);highp vec2 lod_pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,v_pos);float dist=length(v_pos_world-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);vec4 out_color=textureLodCustom(u_image,pos,lod_pos);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting_with_emission_ground(out_color,u_emissive_strength);
#ifdef RENDER_SHADOWS
float light=shadowed_light_factor(v_pos_light_view_0,v_pos_light_view_1,v_depth);out_color.rgb*=mix(u_ground_shadow_factor,vec3(1.0),light);
#endif
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
glFragColor=out_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
#include "_prelude_shadow.vertex.glsl"
uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_tile_units_to_pixels;in vec2 a_pos;
#ifdef ELEVATED_ROADS
in float a_road_z_offset;
#endif
#ifdef RENDER_SHADOWS
uniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;out highp vec4 v_pos_light_view_0;out highp vec4 v_pos_light_view_1;out highp float v_depth;
#endif
out highp vec2 v_pos;out highp vec2 v_pos_world;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern
#pragma mapbox: define lowp float pixel_ratio
#pragma mapbox: define highp float z_offset
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize lowp float pixel_ratio
#pragma mapbox: initialize highp float z_offset
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;
#ifdef ELEVATED_ROADS
z_offset+=a_road_z_offset;
#endif
float hidden=float(opacity==0.0);gl_Position=mix(u_matrix*vec4(a_pos,z_offset,1),AWAY,hidden);vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,display_size,u_tile_units_to_pixels,a_pos);v_pos_world=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;
#ifdef RENDER_SHADOWS
vec3 shd_pos0=vec3(a_pos,z_offset);vec3 shd_pos1=vec3(a_pos,z_offset);
#ifdef NORMAL_OFFSET
vec3 offset=shadow_normal_offset(vec3(0.0,0.0,1.0));shd_pos0+=offset*shadow_normal_offset_multiplier0();shd_pos1+=offset*shadow_normal_offset_multiplier1();
#endif
v_pos_light_view_0=u_light_matrix_0*vec4(shd_pos0,1);v_pos_light_view_1=u_light_matrix_1*vec4(shd_pos1,1);v_depth=gl_Position.w;
#endif
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),fillPattern:Ja(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_lighting.glsl"
#include "_prelude_shadow.fragment.glsl"
uniform vec2 u_texsize;uniform sampler2D u_image;in highp vec2 v_pos;uniform float u_emissive_strength;
#ifdef RENDER_SHADOWS
uniform vec3 u_ground_shadow_factor;in highp vec4 v_pos_light_view_0;in highp vec4 v_pos_light_view_1;in highp float v_depth;
#endif
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;highp vec2 imagecoord=mod(v_pos,1.0);highp vec2 pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,imagecoord);highp vec2 lod_pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,v_pos);vec4 out_color=textureLodCustom(u_image,pos,lod_pos);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting_with_emission_ground(out_color,u_emissive_strength);
#ifdef RENDER_SHADOWS
float light=shadowed_light_factor(v_pos_light_view_0,v_pos_light_view_1,v_depth);out_color.rgb*=mix(u_ground_shadow_factor,vec3(1.0),light);
#endif
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
glFragColor=out_color*opacity;
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
#include "_prelude_shadow.vertex.glsl"
uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_tile_units_to_pixels;in vec2 a_pos;
#ifdef ELEVATED_ROADS
in float a_road_z_offset;
#endif
#ifdef RENDER_SHADOWS
uniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;out highp vec4 v_pos_light_view_0;out highp vec4 v_pos_light_view_1;out highp float v_depth;
#endif
out highp vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern
#pragma mapbox: define lowp float pixel_ratio
#pragma mapbox: define highp float z_offset
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize lowp float pixel_ratio
#pragma mapbox: initialize highp float z_offset
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;
#ifdef ELEVATED_ROADS
z_offset+=a_road_z_offset;
#endif
float hidden=float(opacity==0.0);gl_Position=mix(u_matrix*vec4(a_pos,z_offset,1),AWAY,hidden);v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,display_size,u_tile_units_to_pixels,a_pos);
#ifdef RENDER_SHADOWS
vec3 shd_pos0=vec3(a_pos,z_offset);vec3 shd_pos1=vec3(a_pos,z_offset);
#ifdef NORMAL_OFFSET
vec3 offset=shadow_normal_offset(vec3(0.0,0.0,1.0));shd_pos0+=offset*shadow_normal_offset_multiplier0();shd_pos1+=offset*shadow_normal_offset_multiplier1();
#endif
v_pos_light_view_0=u_light_matrix_0*vec4(shd_pos0,1);v_pos_light_view_1=u_light_matrix_1*vec4(shd_pos1,1);v_depth=gl_Position.w;
#endif
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),fillExtrusion:Ja(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_shadow.fragment.glsl"
#include "_prelude_lighting.glsl"
in vec4 v_color;in vec4 v_flat;
#ifdef RENDER_SHADOWS
in highp vec4 v_pos_light_view_0;in highp vec4 v_pos_light_view_1;
#endif
uniform lowp float u_opacity;
#ifdef FAUX_AO
uniform lowp vec2 u_ao;in vec2 v_ao;
#endif
#if defined(ZERO_ROOF_RADIUS) && !defined(LIGHTING_3D_MODE)
in vec4 v_roof_color;
#endif
#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS) || defined(LIGHTING_3D_MODE)
in highp vec3 v_normal;
#endif
uniform vec3 u_flood_light_color;uniform highp float u_vertical_scale;uniform float u_flood_light_intensity;uniform vec3 u_ground_shadow_factor;
#if defined(LIGHTING_3D_MODE) && defined(FLOOD_LIGHT)
in float v_flood_radius;in float v_has_floodlight;
#endif
in float v_height;
#pragma mapbox: define highp float emissive_strength
void main() {
#pragma mapbox: initialize highp float emissive_strength
#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS) || defined(LIGHTING_3D_MODE)
vec3 normal=normalize(v_normal);
#endif
float z;vec4 color=v_color;
#ifdef ZERO_ROOF_RADIUS
z=float(normal.z > 0.00001);
#ifdef LIGHTING_3D_MODE
normal=mix(normal,vec3(0.0,0.0,1.0),z);
#else
color=mix(v_color,v_roof_color,z);
#endif
#endif
float h=max(0.0,v_height);float ao_shade=1.0;
#ifdef FAUX_AO
float intensity=u_ao[0];float h_floors=h/(u_ao[1]*u_vertical_scale);float y_shade=1.0-0.9*intensity*min(v_ao.y,1.0);ao_shade=(1.0-0.08*intensity)*(y_shade+(1.0-y_shade)*(1.0-pow(1.0-min(h_floors/16.0,1.0),16.0)))+0.08*intensity*min(h_floors/160.0,1.0);float concave=v_ao.x*v_ao.x;
#ifdef ZERO_ROOF_RADIUS
concave*=(1.0-z);
#endif
float x_shade=mix(1.0,mix(0.6,0.75,min(h_floors/30.0,1.0)),intensity)+0.1*intensity*min(h,1.0);ao_shade*=mix(1.0,x_shade*x_shade*x_shade,concave);
#ifdef LIGHTING_3D_MODE
#ifdef FLOOD_LIGHT
color.rgb*=mix(ao_shade,1.0,v_has_floodlight);
#else
color.rgb*=ao_shade;
#endif
#else
color.rgb*=ao_shade;
#endif
#endif
#ifdef LIGHTING_3D_MODE
float flood_radiance=0.0;
#ifdef FLOOD_LIGHT
flood_radiance=(1.0-min(h/v_flood_radius,1.0))*u_flood_light_intensity*v_has_floodlight;
#endif
#ifdef RENDER_SHADOWS
#ifdef FLOOD_LIGHT
float ndotl_unclamped=dot(normal,u_shadow_direction);float ndotl=max(0.0,ndotl_unclamped);float occlusion=ndotl_unclamped < 0.0 ? 1.0 : shadow_occlusion(ndotl,v_pos_light_view_0,v_pos_light_view_1,1.0/gl_FragCoord.w);vec3 litColor=apply_lighting(color.rgb,normal,(1.0-u_shadow_intensity*occlusion)*ndotl);vec3 floodLitColor=compute_flood_lighting(u_flood_light_color*u_opacity,1.0-u_shadow_intensity,occlusion,u_ground_shadow_factor);color.rgb=mix(litColor,floodLitColor,flood_radiance);
#else
float shadowed_lighting_factor;
#ifdef RENDER_CUTOFF
shadowed_lighting_factor=shadowed_light_factor_normal_opacity(normal,v_pos_light_view_0,v_pos_light_view_1,1.0/gl_FragCoord.w,v_cutoff_opacity);if (v_cutoff_opacity==0.0) {discard;}
#else
shadowed_lighting_factor=shadowed_light_factor_normal(normal,v_pos_light_view_0,v_pos_light_view_1,1.0/gl_FragCoord.w);
#endif
color.rgb=apply_lighting(color.rgb,normal,shadowed_lighting_factor);
#endif
#else
color.rgb=apply_lighting(color.rgb,normal);
#ifdef FLOOD_LIGHT
color.rgb=mix(color.rgb,u_flood_light_color*u_opacity,flood_radiance);
#endif
#endif
color.rgb=mix(color.rgb,v_flat.rgb,emissive_strength);color*=u_opacity;
#endif
#ifdef FOG
color=fog_dither(fog_apply_premultiplied(color,v_fog_pos,h));
#endif
#ifdef INDICATOR_CUTOUT
color=applyCutout(color,h);
#endif
glFragColor=color;
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
#include "_prelude_terrain.vertex.glsl"
#include "_prelude_shadow.vertex.glsl"
#include "_prelude_lighting.glsl"
uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform float u_edge_radius;uniform float u_width_scale;in vec4 a_pos_normal_ed;in vec2 a_centroid_pos;
#ifdef RENDER_WALL_MODE
in vec3 a_join_normal_inside;
#endif
#ifdef PROJECTION_GLOBE_VIEW
in vec3 a_pos_3;in vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;uniform float u_height_lift;
#endif
#ifdef TERRAIN
uniform int u_height_type;uniform int u_base_type;
#endif
uniform highp float u_vertical_scale;out vec4 v_color;out vec4 v_flat;
#ifdef RENDER_SHADOWS
uniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;out highp vec4 v_pos_light_view_0;out highp vec4 v_pos_light_view_1;
#endif
#if defined(ZERO_ROOF_RADIUS) && !defined(LIGHTING_3D_MODE)
out vec4 v_roof_color;
#endif
#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS) || defined(LIGHTING_3D_MODE)
out highp vec3 v_normal;
#endif
#ifdef FAUX_AO
uniform lowp vec2 u_ao;out vec2 v_ao;
#endif
#if defined(LIGHTING_3D_MODE) && defined(FLOOD_LIGHT)
out float v_flood_radius;out float v_has_floodlight;
#endif
out float v_height;vec3 linearTosRGB(vec3 color) {return pow(color,vec3(1./2.2));}vec3 sRGBToLinear(vec3 srgbIn) {return pow(srgbIn,vec3(2.2));}
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp vec4 color
#pragma mapbox: define highp float flood_light_wall_radius
#pragma mapbox: define highp float line_width
#pragma mapbox: define highp float emissive_strength
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize highp float flood_light_wall_radius
#pragma mapbox: initialize highp float line_width
#pragma mapbox: initialize highp float emissive_strength
base*=u_vertical_scale;height*=u_vertical_scale;vec4 pos_nx=floor(a_pos_normal_ed*0.5);vec4 top_up_ny_start=a_pos_normal_ed-2.0*pos_nx;vec3 top_up_ny=top_up_ny_start.xyz;float x_normal=pos_nx.z/8192.0;vec3 normal=top_up_ny.y==1.0 ? vec3(0.0,0.0,1.0) : normalize(vec3(x_normal,(2.0*top_up_ny.z-1.0)*(1.0-abs(x_normal)),0.0));
#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS) || defined(LIGHTING_3D_MODE)
v_normal=normal;
#endif
base=max(0.0,base);float attr_height=height;height=max(0.0,top_up_ny.y==0.0 && top_up_ny.x==1.0 ? height-u_edge_radius : height);float t=top_up_ny.x;vec2 centroid_pos=vec2(0.0);
#if defined(HAS_CENTROID) || defined(TERRAIN)
centroid_pos=a_centroid_pos;
#endif
float ele=0.0;float h=0.0;float c_ele=0.0;vec3 pos;
#ifdef TERRAIN
bool is_flat_height=centroid_pos.x !=0.0 && u_height_type==1;bool is_flat_base=centroid_pos.x !=0.0 && u_base_type==1;ele=elevation(pos_nx.xy);c_ele=is_flat_height || is_flat_base ? (centroid_pos.y==0.0 ? elevationFromUint16(centroid_pos.x) : flatElevation(centroid_pos)) : ele;float h_height=is_flat_height ? max(c_ele+height,ele+base+2.0) : ele+height;float h_base=is_flat_base ? max(c_ele+base,ele+base) : ele+(base==0.0 ?-5.0 : base);h=t > 0.0 ? max(h_base,h_height) : h_base;pos=vec3(pos_nx.xy,h);
#else
h=t > 0.0 ? height : base;pos=vec3(pos_nx.xy,h);
#endif
#ifdef PROJECTION_GLOBE_VIEW
float lift=float((t+base) > 0.0)*u_height_lift;h+=lift;vec3 globe_normal=normalize(mix(a_pos_normal_3/16384.0,u_up_dir,u_zoom_transition));vec3 globe_pos=a_pos_3+globe_normal*(u_tile_up_scale*h);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,pos.xy,u_tile_id,u_merc_center)+u_up_dir*u_tile_up_scale*pos.z;pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);
#endif
float cutoff=1.0;vec3 scaled_pos=pos;
#ifdef RENDER_CUTOFF
vec3 centroid_random=vec3(centroid_pos.xy,centroid_pos.x+centroid_pos.y+1.0);vec3 ground_pos=centroid_pos.x==0.0 ? pos.xyz : (centroid_random/8.0);vec4 ground=u_matrix*vec4(ground_pos.xy,ele,1.0);cutoff=cutoff_opacity(u_cutoff_params,ground.z);if (centroid_pos.y !=0.0 && centroid_pos.x !=0.0) {vec3 g=floor(ground_pos);vec3 mod_=centroid_random-g*8.0;float seed=min(1.0,0.1*(min(3.5,max(mod_.x+mod_.y,0.2*attr_height))*0.35+mod_.z));if (cutoff < 0.8-seed) {cutoff=0.0;}}float cutoff_scale=cutoff;v_cutoff_opacity=cutoff;scaled_pos.z=mix(c_ele,h,cutoff_scale);
#endif
float hidden=float((centroid_pos.x==0.0 && centroid_pos.y==1.0) || (cutoff==0.0 && centroid_pos.x !=0.0) || (color.a==0.0));
#ifdef RENDER_WALL_MODE
vec2 wall_offset=u_width_scale*line_width*(a_join_normal_inside.xy/EXTENT);scaled_pos.xy+=(1.0-a_join_normal_inside.z)*wall_offset*0.5;scaled_pos.xy-=a_join_normal_inside.z*wall_offset*0.5;
#endif
gl_Position=mix(u_matrix*vec4(scaled_pos,1),AWAY,hidden);h=h-ele;v_height=h;
#ifdef RENDER_SHADOWS
vec3 shd_pos0=pos;vec3 shd_pos1=pos;
#ifdef NORMAL_OFFSET
vec3 offset=shadow_normal_offset(normal);shd_pos0+=offset*shadow_normal_offset_multiplier0();shd_pos1+=offset*shadow_normal_offset_multiplier1();
#endif
v_pos_light_view_0=u_light_matrix_0*vec4(shd_pos0,1);v_pos_light_view_1=u_light_matrix_1*vec4(shd_pos1,1);
#endif
float NdotL=0.0;float colorvalue=0.0;
#ifndef LIGHTING_3D_MODE
colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;NdotL=clamp(dot(normal,u_lightpos),0.0,1.0);NdotL=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),NdotL);if (normal.y !=0.0) {float r=0.84;r=mix(0.7,0.98,1.0-u_lightintensity);NdotL*=(
(1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),r,1.0)));}
#endif
#ifdef FAUX_AO
float concave=pos_nx.w-floor(pos_nx.w*0.5)*2.0;float start=top_up_ny_start.w;float y_ground=1.0-clamp(t+base,0.0,1.0);float top_height=height;
#ifdef TERRAIN
top_height=mix(max(c_ele+height,ele+base+2.0),ele+height,float(centroid_pos.x==0.0))-ele;y_ground+=y_ground*5.0/max(3.0,top_height);
#endif
v_ao=vec2(mix(concave,-concave,start),y_ground);NdotL*=(1.0+0.05*(1.0-top_up_ny.y)*u_ao[0]);
#ifdef PROJECTION_GLOBE_VIEW
top_height+=u_height_lift;
#endif
gl_Position.z-=(0.0000006*(min(top_height,500.)+2.0*min(base,500.0)+60.0*concave+3.0*start))*gl_Position.w;
#endif
#ifdef LIGHTING_3D_MODE
#ifdef FLOOD_LIGHT
float is_wall=1.0-float(t > 0.0 && top_up_ny.y > 0.0);v_has_floodlight=float(flood_light_wall_radius > 0.0 && is_wall > 0.0);v_flood_radius=flood_light_wall_radius*u_vertical_scale;
#endif
v_color=vec4(color.rgb,1.0);float ndotl=calculate_NdotL(normal);v_flat.rgb=sRGBToLinear(color.rgb);v_flat.rgb=v_flat.rgb*(ndotl+(1.0-min(ndotl*57.29,1.0))*emissive_strength);v_flat=vec4(linearTosRGB(v_flat.rgb),1.0);
#else
v_color=vec4(0.0,0.0,0.0,1.0);v_color.rgb+=clamp(color.rgb*NdotL*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_color*=u_opacity;
#endif
#if defined(ZERO_ROOF_RADIUS) && !defined(LIGHTING_3D_MODE)
float roofNdotL=clamp(u_lightpos.z,0.0,1.0);roofNdotL=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),roofNdotL);v_roof_color=vec4(0.0,0.0,0.0,1.0);v_roof_color.rgb+=clamp(color.rgb*roofNdotL*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_roof_color*=u_opacity;
#endif
#ifdef FOG
v_fog_pos=fog_position(pos);
#endif
}`),fillExtrusionDepth:Ja(`in highp float v_depth;void main() {
#ifndef DEPTH_TEXTURE
glFragColor=pack_depth(v_depth);
#endif
}`,`#include "_prelude_terrain.vertex.glsl"
uniform mat4 u_matrix;uniform float u_edge_radius;uniform float u_width_scale;uniform float u_vertical_scale;
#ifdef TERRAIN
uniform int u_height_type;uniform int u_base_type;
#endif
in vec4 a_pos_normal_ed;in vec2 a_centroid_pos;
#ifdef RENDER_WALL_MODE
in vec3 a_join_normal_inside;
#endif
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp float line_width
#pragma mapbox: define highp vec4 color
out highp float v_depth;void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp float line_width
#pragma mapbox: initialize highp vec4 color
base*=u_vertical_scale;height*=u_vertical_scale;vec3 pos_nx=floor(a_pos_normal_ed.xyz*0.5);mediump vec3 top_up_ny=a_pos_normal_ed.xyz-2.0*pos_nx;base=max(0.0,base);height=max(0.0,top_up_ny.y==0.0 && top_up_ny.x==1.0 ? height-u_edge_radius : height);float t=top_up_ny.x;vec2 centroid_pos=vec2(0.0);
#if defined(HAS_CENTROID) || defined(TERRAIN)
centroid_pos=a_centroid_pos;
#endif
vec3 pos;
#ifdef TERRAIN
bool is_flat_height=centroid_pos.x !=0.0 && u_height_type==1;bool is_flat_base=centroid_pos.x !=0.0 && u_base_type==1;float ele=elevation(pos_nx.xy);float c_ele=is_flat_height || is_flat_base ? (centroid_pos.y==0.0 ? elevationFromUint16(centroid_pos.x) : flatElevation(centroid_pos)) : ele;float h_height=is_flat_height ? max(c_ele+height,ele+base+2.0) : ele+height;float h_base=is_flat_base ? max(c_ele+base,ele+base) : ele+(base==0.0 ?-5.0 : base);float h=t > 0.0 ? max(h_base,h_height) : h_base;pos=vec3(pos_nx.xy,h);
#else
pos=vec3(pos_nx.xy,t > 0.0 ? height : base);
#endif
#ifdef RENDER_WALL_MODE
vec2 wall_offset=u_width_scale*line_width*(a_join_normal_inside.xy/EXTENT);pos.xy+=(1.0-a_join_normal_inside.z)*wall_offset*0.5;pos.xy-=a_join_normal_inside.z*wall_offset*0.5;
#endif
float hidden=float((centroid_pos.x==0.0 && centroid_pos.y==1.0) || (color.a==0.0));gl_Position=mix(u_matrix*vec4(pos,1),AWAY,hidden);v_depth=gl_Position.z/gl_Position.w;}`),fillExtrusionPattern:Ja(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_lighting.glsl"
uniform vec2 u_texsize;uniform sampler2D u_image;
#ifdef FAUX_AO
uniform lowp vec2 u_ao;in vec3 v_ao;
#endif
#ifdef LIGHTING_3D_MODE
in vec3 v_normal;
#endif
in highp vec2 v_pos;in vec4 v_lighting;uniform lowp float u_opacity;
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define mediump vec4 pattern
#pragma mapbox: define highp float pixel_ratio
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize highp float pixel_ratio
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;highp vec2 imagecoord=mod(v_pos,1.0);highp vec2 pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,imagecoord);highp vec2 lod_pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,v_pos);vec4 out_color=textureLodCustom(u_image,pos,lod_pos);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color,normalize(v_normal))*u_opacity;
#else
out_color=out_color*v_lighting;
#endif
#ifdef FAUX_AO
float intensity=u_ao[0];float h=max(0.0,v_ao.z);float h_floors=h/u_ao[1];float y_shade=1.0-0.9*intensity*min(v_ao.y,1.0);float shade=(1.0-0.08*intensity)*(y_shade+(1.0-y_shade)*(1.0-pow(1.0-min(h_floors/16.0,1.0),16.0)))+0.08*intensity*min(h_floors/160.0,1.0);float concave=v_ao.x*v_ao.x;float x_shade=mix(1.0,mix(0.6,0.75,min(h_floors/30.0,1.0)),intensity)+0.1*intensity*min(h,1.0);shade*=mix(1.0,x_shade*x_shade*x_shade,concave);out_color.rgb=out_color.rgb*shade;
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
#ifdef INDICATOR_CUTOUT
out_color=applyCutout(out_color,height);
#endif
glFragColor=out_color;
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
#include "_prelude_terrain.vertex.glsl"
#include "_prelude_lighting.glsl"
uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform float u_tile_units_to_pixels;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform float u_width_scale;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;in vec4 a_pos_normal_ed;in vec2 a_centroid_pos;
#ifdef RENDER_WALL_MODE
in vec3 a_join_normal_inside;
#endif
#ifdef PROJECTION_GLOBE_VIEW
in vec3 a_pos_3;in vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;uniform float u_height_lift;
#endif
#ifdef TERRAIN
uniform int u_height_type;uniform int u_base_type;
#endif
out highp vec2 v_pos;out vec4 v_lighting;
#ifdef FAUX_AO
uniform lowp vec2 u_ao;out vec3 v_ao;
#endif
#ifdef LIGHTING_3D_MODE
out vec3 v_normal;
#endif
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump vec4 pattern
#pragma mapbox: define highp float pixel_ratio
#pragma mapbox: define highp float line_width
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize highp float pixel_ratio
#pragma mapbox: initialize highp float line_width
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec4 pos_nx=floor(a_pos_normal_ed*0.5);mediump vec4 top_up_ny_start=a_pos_normal_ed-2.0*pos_nx;mediump vec3 top_up_ny=top_up_ny_start.xyz;float x_normal=pos_nx.z/8192.0;vec3 normal=top_up_ny.y==1.0 ? vec3(0.0,0.0,1.0) : normalize(vec3(x_normal,(2.0*top_up_ny.z-1.0)*(1.0-abs(x_normal)),0.0));float edgedistance=a_pos_normal_ed.w;vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;base=max(0.0,base);height=max(0.0,height);float t=top_up_ny.x;float z=t > 0.0 ? height : base;vec2 centroid_pos=vec2(0.0);
#if defined(HAS_CENTROID) || defined(TERRAIN)
centroid_pos=a_centroid_pos;
#endif
float ele=0.0;float h=z;vec3 p;float c_ele;
#ifdef TERRAIN
bool is_flat_height=centroid_pos.x !=0.0 && u_height_type==1;bool is_flat_base=centroid_pos.x !=0.0 && u_base_type==1;ele=elevation(pos_nx.xy);c_ele=is_flat_height || is_flat_base ? (centroid_pos.y==0.0 ? elevationFromUint16(centroid_pos.x) : flatElevation(centroid_pos)) : ele;float h_height=is_flat_height ? max(c_ele+height,ele+base+2.0) : ele+height;float h_base=is_flat_base ? max(c_ele+base,ele+base) : ele+(base==0.0 ?-5.0 : base);h=t > 0.0 ? max(h_base,h_height) : h_base;p=vec3(pos_nx.xy,h);
#else
p=vec3(pos_nx.xy,z);
#endif
#ifdef PROJECTION_GLOBE_VIEW
float lift=float((t+base) > 0.0)*u_height_lift;h+=lift;vec3 globe_normal=normalize(mix(a_pos_normal_3/16384.0,u_up_dir,u_zoom_transition));vec3 globe_pos=a_pos_3+globe_normal*(u_tile_up_scale*(p.z+lift));vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,p.xy,u_tile_id,u_merc_center)+u_up_dir*u_tile_up_scale*p.z;p=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);
#endif
#ifdef RENDER_WALL_MODE
vec2 wall_offset=u_width_scale*line_width*(a_join_normal_inside.xy/EXTENT);p.xy+=(1.0-a_join_normal_inside.z)*wall_offset*0.5;p.xy-=a_join_normal_inside.z*wall_offset*0.5;
#endif
float hidden=float((centroid_pos.x==0.0 && centroid_pos.y==1.0) || (color.a==0.0));gl_Position=mix(u_matrix*vec4(p,1),AWAY,hidden);vec2 pos=normal.z==1.0
? pos_nx.xy
: vec2(edgedistance,z*u_height_factor);v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,display_size,u_tile_units_to_pixels,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float NdotL=0.0;
#ifdef LIGHTING_3D_MODE
NdotL=calculate_NdotL(normal);
#else
NdotL=clamp(dot(normal,u_lightpos),0.0,1.0);NdotL=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),NdotL);
#endif
if (normal.y !=0.0) {float r=0.84;
#ifndef LIGHTING_3D_MODE
r=mix(0.7,0.98,1.0-u_lightintensity);
#endif
NdotL*=(
(1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),r,1.0)));}
#ifdef FAUX_AO
float concave=pos_nx.w-floor(pos_nx.w*0.5)*2.0;float start=top_up_ny_start.w;float y_ground=1.0-clamp(t+base,0.0,1.0);float top_height=height;
#ifdef TERRAIN
top_height=mix(max(c_ele+height,ele+base+2.0),ele+height,float(centroid_pos.x==0.0))-ele;y_ground+=y_ground*5.0/max(3.0,top_height);
#endif
v_ao=vec3(mix(concave,-concave,start),y_ground,h-ele);NdotL*=(1.0+0.05*(1.0-top_up_ny.y)*u_ao[0]);
#ifdef PROJECTION_GLOBE_VIEW
top_height+=u_height_lift;
#endif
gl_Position.z-=(0.0000006*(min(top_height,500.)+2.0*min(base,500.0)+60.0*concave+3.0*start))*gl_Position.w;
#endif
#ifdef LIGHTING_3D_MODE
v_normal=normal;
#else
v_lighting.rgb+=clamp(NdotL*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;
#endif 
#ifdef FOG
v_fog_pos=fog_position(p);
#endif
}`),groundShadow:Ja(`#include "_prelude_shadow.fragment.glsl"
precision highp float;uniform vec3 u_ground_shadow_factor;in vec4 v_pos_light_view_0;in vec4 v_pos_light_view_1;
#ifdef FOG
in float v_fog_opacity;
#endif
void main() {float light=shadowed_light_factor_plane_bias(v_pos_light_view_0,v_pos_light_view_1,1.0/gl_FragCoord.w);vec3 shadow=mix(u_ground_shadow_factor,vec3(1.0),light);
#ifdef RENDER_CUTOFF
shadow=mix(vec3(1.0),shadow,cutoff_opacity(u_cutoff_params,1.0/gl_FragCoord.w));
#endif
#ifdef FOG
shadow=mix(shadow,vec3(1.0),v_fog_opacity);
#endif
#ifdef INDICATOR_CUTOUT
shadow=mix(shadow,vec3(1.0),1.0-applyCutout(vec4(1.0),0.0).r);
#endif
glFragColor=vec4(shadow,1.0);}`,`#include "_prelude_fog.vertex.glsl"
uniform mat4 u_matrix;uniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;in vec2 a_pos;out vec4 v_pos_light_view_0;out vec4 v_pos_light_view_1;
#ifdef FOG
out float v_fog_opacity;
#endif
void main() {gl_Position=u_matrix*vec4(a_pos,0.0,1.0);v_pos_light_view_0=u_light_matrix_0*vec4(a_pos,0.0,1.0);v_pos_light_view_1=u_light_matrix_1*vec4(a_pos,0.0,1.0);
#ifdef FOG
v_fog_pos=fog_position(a_pos);v_fog_opacity=fog(v_fog_pos);
#endif
}`),fillExtrusionGroundEffect:Ja(`uniform highp float u_ao_pass;uniform highp float u_opacity;uniform highp float u_flood_light_intensity;uniform highp vec3 u_flood_light_color;uniform highp float u_attenuation;uniform sampler2D u_fb;uniform float u_fb_size;
#ifdef SDF_SUBPASS
in highp vec2 v_pos;in highp vec4 v_line_segment;in highp float v_flood_light_radius_tile;in highp vec2 v_ao;float line_df(highp vec2 a,highp vec2 b,highp vec2 p) {highp vec2 ba=b-a;highp vec2 pa=p-a;highp float r=clamp(dot(pa,ba)/dot(ba,ba),0.0,1.0);return length(pa-r*ba);}
#ifdef FOG
in highp float v_fog;
#endif
#endif
void main() {
#ifdef CLEAR_SUBPASS
vec4 color=vec4(1.0);
#ifdef CLEAR_FROM_TEXTURE
color=texture(u_fb,gl_FragCoord.xy/vec2(u_fb_size));
#endif
glFragColor=color;
#else
#ifdef SDF_SUBPASS
highp float d=line_df(v_line_segment.xy,v_line_segment.zw,v_pos);highp float effect_radius=mix(v_flood_light_radius_tile,v_ao.y,u_ao_pass);d/=effect_radius;d=min(d,1.0);d=1.0-pow(1.0-d,u_attenuation);highp float effect_intensity=mix(u_flood_light_intensity,v_ao.x,u_ao_pass);highp float fog=1.0;
#ifdef FOG
fog=v_fog;
#endif
#ifdef RENDER_CUTOFF
fog*=v_cutoff_opacity;
#endif
glFragColor=vec4(vec3(0.0),mix(1.0,d,effect_intensity*u_opacity*fog));
#else
vec4 color=mix(vec4(u_flood_light_color,1.0),vec4(vec3(0.0),1.0),u_ao_pass);
#ifdef OVERDRAW_INSPECTOR
color=vec4(1.0);
#endif
glFragColor=color;
#endif
HANDLE_WIREFRAME_DEBUG;
#endif
}`,`#include "_prelude_fog.vertex.glsl"
in highp vec4 a_pos_end;in highp float a_angular_offset_factor;in highp float a_hidden_by_landmark;
#ifdef SDF_SUBPASS
out highp vec2 v_pos;out highp vec4 v_line_segment;out highp float v_flood_light_radius_tile;out highp vec2 v_ao;
#ifdef FOG
out highp float v_fog;
#endif
#endif
uniform highp float u_flood_light_intensity;uniform highp mat4 u_matrix;uniform highp float u_ao_pass;uniform highp float u_meter_to_tile;uniform highp float u_edge_radius;uniform highp float u_dynamic_offset;uniform highp vec2 u_ao;
#pragma mapbox: define highp float flood_light_ground_radius
const float TANGENT_CUTOFF=4.0;const float NORM=32767.0;void main() {
#pragma mapbox: initialize highp float flood_light_ground_radius
vec2 p=a_pos_end.xy;vec2 q=floor(a_pos_end.zw*0.5);vec2 start_bottom=a_pos_end.zw-q*2.0;float fl_ground_radius=flood_light_ground_radius;fl_ground_radius=abs(flood_light_ground_radius);float direction=flood_light_ground_radius < 0.0 ?-1.0 : 1.0;float flood_radius_tile=fl_ground_radius*u_meter_to_tile;vec2 v=normalize(q-p);float ao_radius=u_ao.y/3.5;float effect_radius=mix(flood_radius_tile,ao_radius,u_ao_pass)+u_edge_radius;float angular_offset_factor=a_angular_offset_factor/NORM*TANGENT_CUTOFF;float angular_offset=direction*angular_offset_factor*effect_radius;float top=1.0-start_bottom.y;float side=(0.5-start_bottom.x)*2.0;vec2 extrusion_parallel=v*side*mix(u_dynamic_offset,angular_offset,top);vec2 perp=vec2(v.y,-v.x);vec2 extrusion_perp=direction*perp*effect_radius*top;vec3 pos=vec3(mix(q,p,start_bottom.x),0.0);pos.xy+=extrusion_parallel+extrusion_perp;
#ifdef SDF_SUBPASS
v_pos=pos.xy;v_line_segment=vec4(p,q)+perp.xyxy*u_edge_radius;v_flood_light_radius_tile=flood_radius_tile;v_ao=vec2(u_ao.x,ao_radius);
#ifdef FOG
v_fog_pos=fog_position(pos);v_fog=1.0-fog(v_fog_pos);
#endif
#endif
float hidden_by_landmark=0.0;
#ifdef HAS_CENTROID
hidden_by_landmark=a_hidden_by_landmark;
#endif
float isFloodlit=float(fl_ground_radius > 0.0 && u_flood_light_intensity > 0.0);float hidden=mix(1.0-isFloodlit,isFloodlit,u_ao_pass);hidden+=hidden_by_landmark;gl_Position=mix(u_matrix*vec4(pos,1.0),AWAY,float(hidden > 0.0));
#ifdef RENDER_CUTOFF
v_cutoff_opacity=cutoff_opacity(u_cutoff_params,gl_Position.z);
#endif
}`),hillshadePrepare:Ja(`precision highp float;uniform sampler2D u_image;in vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;float getElevation(vec2 coord) {return texture(u_image,coord).r/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y));float b=getElevation(v_pos+vec2(0,-epsilon.y));float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y));float d=getElevation(v_pos+vec2(-epsilon.x,0));float e=getElevation(v_pos+vec2(epsilon.x,0));float f=getElevation(v_pos+vec2(-epsilon.x,epsilon.y));float g=getElevation(v_pos+vec2(0,epsilon.y));float h=getElevation(v_pos+vec2(epsilon.x,epsilon.y));float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2(
(c+e+e+h)-(a+d+d+f),(f+g+g+h)-(a+b+b+c)
)/pow(2.0,exaggeration+(19.2562-u_zoom));glFragColor=clamp(vec4(
deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);}`,"uniform mat4 u_matrix;uniform vec2 u_dimension;in vec2 a_pos;in vec2 a_texture_pos;out vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),hillshade:Ja(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_lighting.glsl"
uniform sampler2D u_image;in vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;uniform float u_emissive_strength;void main() {vec4 pixel=texture(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);glFragColor=accent_color*(1.0-shade_color.a)+shade_color;
#ifdef LIGHTING_3D_MODE
glFragColor=apply_lighting_with_emission_ground(glFragColor,u_emissive_strength);
#endif
#ifdef FOG
glFragColor=fog_dither(fog_apply_premultiplied(glFragColor,v_fog_pos));
#endif
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
uniform mat4 u_matrix;in vec2 a_pos;in vec2 a_texture_pos;out vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),line:Ja(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_lighting.glsl"
#include "_prelude_shadow.fragment.glsl"
uniform lowp float u_device_pixel_ratio;uniform highp float u_width_scale;uniform highp float u_floor_width_scale;uniform float u_alpha_discard_threshold;uniform highp vec2 u_trim_offset;uniform highp vec2 u_trim_fade_range;uniform lowp vec4 u_trim_color;in vec2 v_width2;in vec2 v_normal;in float v_gamma_scale;in highp vec3 v_uv;
#ifdef ELEVATED_ROADS
in highp float v_road_z_offset;
#endif
#ifdef RENDER_LINE_DASH
uniform sampler2D u_dash_image;in vec2 v_tex;
#endif
#ifdef RENDER_LINE_GRADIENT
uniform sampler2D u_gradient_image;
#endif
#ifdef INDICATOR_CUTOUT
in highp float v_z_offset;
#endif
#ifdef RENDER_SHADOWS
uniform vec3 u_ground_shadow_factor;in highp vec4 v_pos_light_view_0;in highp vec4 v_pos_light_view_1;in highp float v_depth;
#endif
float luminance(vec3 c) {return (c.r+c.r+c.b+c.g+c.g+c.g)*0.1667;}uniform float u_emissive_strength;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 dash
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float border_width
#pragma mapbox: define lowp vec4 border_color
float linearstep(float edge0,float edge1,float x) {return  clamp((x-edge0)/(edge1-edge0),0.0,1.0);}void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize lowp vec4 dash
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float border_width
#pragma mapbox: initialize lowp vec4 border_color
float dist=length(v_normal)*v_width2.s;float blur2=(u_width_scale*blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);
#ifdef RENDER_LINE_DASH
float sdfdist=texture(u_dash_image,v_tex).r;float sdfgamma=1.0/(2.0*u_device_pixel_ratio)/dash.z;float scaled_floorwidth=(floorwidth*u_floor_width_scale);alpha*=linearstep(0.5-sdfgamma/scaled_floorwidth,0.5+sdfgamma/scaled_floorwidth,sdfdist);
#endif
highp vec4 out_color;
#ifdef RENDER_LINE_GRADIENT
out_color=texture(u_gradient_image,v_uv.xy);
#else
out_color=color;
#endif
float trim_alpha=1.0;
#ifdef RENDER_LINE_TRIM_OFFSET
highp float trim_start=u_trim_offset[0];highp float trim_end=u_trim_offset[1];highp float line_progress=v_uv[2];if (trim_end > trim_start) {highp float start_transition=max(0.0,min(1.0,(line_progress-trim_start)/max(u_trim_fade_range[0],1.0e-9)));highp float end_transition=max(0.0,min(1.0,(trim_end-line_progress)/max(u_trim_fade_range[1],1.0e-9)));highp float transition_factor=min(start_transition,end_transition);out_color=mix(out_color,u_trim_color,transition_factor);trim_alpha=1.0-transition_factor;}
#endif
if (u_alpha_discard_threshold !=0.0) {if (alpha < u_alpha_discard_threshold) {discard;}}
#ifdef RENDER_LINE_BORDER
float edgeBlur=((border_width*u_width_scale)+1.0/u_device_pixel_ratio);float alpha2=clamp(min(dist-(v_width2.t-edgeBlur),v_width2.s-dist)/edgeBlur,0.0,1.0);if (alpha2 < 1.) {float smoothAlpha=smoothstep(0.6,1.0,alpha2);if (border_color.a==0.0) {float Y=(out_color.a > 0.01) ? luminance(out_color.rgb/out_color.a) : 1.;float adjustment=(Y > 0.) ? 0.5/Y : 0.45;if (out_color.a > 0.25 && Y < 0.25) {vec3 borderColor=(Y > 0.) ? out_color.rgb : vec3(1,1,1)*out_color.a;out_color.rgb=out_color.rgb+borderColor*(adjustment*(1.0-smoothAlpha));} else {out_color.rgb*=(0.6 +0.4*smoothAlpha);}} else {out_color=mix(border_color*trim_alpha,out_color,smoothAlpha);}}
#endif
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting_with_emission_ground(out_color,u_emissive_strength);
#ifdef RENDER_SHADOWS
float light=shadowed_light_factor(v_pos_light_view_0,v_pos_light_view_1,v_depth);
#ifdef ELEVATED_ROADS
out_color.rgb*=mix(v_road_z_offset > 0.0 ? u_ground_shadow_factor : vec3(1.0),vec3(1.0),light);
#else
out_color.rgb*=mix(u_ground_shadow_factor,vec3(1.0),light);
#endif
#endif
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
out_color*=(alpha*opacity);
#ifdef INDICATOR_CUTOUT
out_color=applyCutout(out_color,v_z_offset);
#endif
glFragColor=out_color;
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
#include "_prelude_shadow.vertex.glsl"
#include "_prelude_terrain.vertex.glsl"
#define EXTRUDE_SCALE 0.015873016
in vec2 a_pos_normal;in vec4 a_data;
#if defined(ELEVATED) || defined(ELEVATED_ROADS) || defined(VARIABLE_LINE_WIDTH)
in vec3 a_z_offset_width;
#endif
#if defined(RENDER_LINE_GRADIENT) || defined(RENDER_LINE_TRIM_OFFSET)
in highp vec3 a_packed;
#endif
#ifdef RENDER_LINE_DASH
in float a_linesofar;
#endif
uniform mat4 u_matrix;uniform mat2 u_pixels_to_tile_units;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;uniform float u_width_scale;uniform highp float u_floor_width_scale;
#ifdef ELEVATED
uniform lowp float u_zbias_factor;uniform lowp float u_tile_to_meter;float sample_elevation(vec2 apos) {
#ifdef ELEVATION_REFERENCE_SEA
return 0.0;
#else
return elevation(apos);
#endif
}
#endif
out vec2 v_normal;out vec2 v_width2;out float v_gamma_scale;out highp vec3 v_uv;
#ifdef ELEVATED_ROADS
out highp float v_road_z_offset;
#endif
#ifdef RENDER_LINE_DASH
uniform vec2 u_texsize;uniform float u_tile_units_to_pixels;out vec2 v_tex;
#endif
#ifdef RENDER_LINE_GRADIENT
uniform float u_image_height;
#endif
#ifdef INDICATOR_CUTOUT
out highp float v_z_offset;
#endif
#ifdef RENDER_SHADOWS
uniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;out highp vec4 v_pos_light_view_0;out highp vec4 v_pos_light_view_1;out highp float v_depth;
#endif
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 dash
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float border_width
#pragma mapbox: define lowp vec4 border_color
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize lowp vec4 dash
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float border_width
#pragma mapbox: initialize lowp vec4 border_color
float a_z_offset;
#if defined(ELEVATED) || defined(ELEVATED_ROADS)
a_z_offset=a_z_offset_width.x;
#endif
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth;
#ifdef VARIABLE_LINE_WIDTH
float left=a_pos_normal.y-2.0*floor(a_pos_normal.y*0.5);halfwidth=(u_width_scale*(left==1.0 ? a_z_offset_width.y : a_z_offset_width.z))/2.0;
#else
halfwidth=(u_width_scale*width)/2.0;
#endif
offset=-1.0*offset*u_width_scale;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*EXTRUDE_SCALE;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*EXTRUDE_SCALE*normal.y*mat2(t,-u,u,t);float hidden=float(opacity==0.0);vec2 extrude=dist*u_pixels_to_tile_units;vec4 projected_extrude=u_matrix*vec4(extrude,0.0,0.0);vec2 projected_extrude_xy=projected_extrude.xy;
#ifdef ELEVATED_ROADS
v_road_z_offset=a_z_offset;gl_Position=u_matrix*vec4(pos+offset2*u_pixels_to_tile_units,a_z_offset,1.0)+projected_extrude;
#else
#ifdef ELEVATED
vec2 offsetTile=offset2*u_pixels_to_tile_units;vec2 offset_pos=pos+offsetTile;float ele=0.0;
#ifdef CROSS_SLOPE_VERTICAL
float top=a_pos_normal.y-2.0*floor(a_pos_normal.y*0.5);float line_height=2.0*u_tile_to_meter*outset*top*u_pixels_to_tile_units[1][1]+a_z_offset;ele=sample_elevation(offset_pos)+line_height;projected_extrude=vec4(0);
#else
#ifdef CROSS_SLOPE_HORIZONTAL
float ele0=sample_elevation(offset_pos);float ele1=max(sample_elevation(offset_pos+extrude),sample_elevation(offset_pos+extrude/2.0));float ele2=max(sample_elevation(offset_pos-extrude),sample_elevation(offset_pos-extrude/2.0));float ele_max=max(ele0,max(ele1,ele2));ele=ele_max+a_z_offset;
#else
float ele0=sample_elevation(offset_pos);float ele1=max(sample_elevation(offset_pos+extrude),sample_elevation(offset_pos+extrude/2.0));float ele2=max(sample_elevation(offset_pos-extrude),sample_elevation(offset_pos-extrude/2.0));float ele_max=max(ele0,0.5*(ele1+ele2));ele=ele_max-ele0+ele1+a_z_offset;
#endif
#endif
gl_Position=u_matrix*vec4(offset_pos,ele,1.0)+projected_extrude;float z=clamp(gl_Position.z/gl_Position.w,0.5,1.0);float zbias=max(0.00005,(pow(z,0.8)-z)*u_zbias_factor*u_exaggeration);gl_Position.z-=(gl_Position.w*zbias);gl_Position=mix(gl_Position,AWAY,hidden);
#else
gl_Position=mix(u_matrix*vec4(pos+offset2*u_pixels_to_tile_units,0.0,1.0)+projected_extrude,AWAY,hidden);
#endif
#endif
#ifdef ELEVATED_ROADS
#ifdef RENDER_SHADOWS
vec3 shd_pos=vec3(pos+(offset2+dist)*u_pixels_to_tile_units,a_z_offset);vec3 shd_pos0=shd_pos;vec3 shd_pos1=shd_pos;
#ifdef NORMAL_OFFSET
vec3 shd_pos_offset=shadow_normal_offset(vec3(0.0,0.0,1.0));shd_pos0+=shd_pos_offset*shadow_normal_offset_multiplier0();shd_pos1+=shd_pos_offset*shadow_normal_offset_multiplier1();
#endif
v_pos_light_view_0=u_light_matrix_0*vec4(shd_pos0,1);v_pos_light_view_1=u_light_matrix_1*vec4(shd_pos1,1);v_depth=gl_Position.w;
#endif
#endif
#ifndef RENDER_TO_TEXTURE
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude_xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=mix(extrude_length_without_perspective/extrude_length_with_perspective,1.0,step(0.01,blur));
#else
v_gamma_scale=1.0;
#endif
#if defined(RENDER_LINE_GRADIENT) || defined(RENDER_LINE_TRIM_OFFSET)
highp float a_uv_x=a_packed[0];float a_split_index=a_packed[1];highp float line_progress=a_packed[2];
#ifdef RENDER_LINE_GRADIENT
highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec3(a_uv_x,a_split_index*texel_height-half_texel_height,line_progress);
#else
v_uv=vec3(a_uv_x,0.0,line_progress);
#endif
#endif
#ifdef RENDER_LINE_DASH
float scale=dash.z==0.0 ? 0.0 : u_tile_units_to_pixels/dash.z;float height=dash.y;v_tex=vec2(a_linesofar*scale/(floorwidth*u_floor_width_scale),(-normal.y*height+dash.x+0.5)/u_texsize.y);
#endif
v_width2=vec2(outset,inset);
#ifdef FOG
v_fog_pos=fog_position(pos);
#endif
#ifdef INDICATOR_CUTOUT
v_z_offset=a_z_offset;
#endif
}`),linePattern:Ja(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_lighting.glsl"
#include "_prelude_shadow.fragment.glsl"
uniform highp float u_device_pixel_ratio;uniform highp float u_width_scale;uniform highp float u_alpha_discard_threshold;uniform highp vec2 u_texsize;uniform highp float u_tile_units_to_pixels;uniform highp vec2 u_trim_offset;uniform highp vec2 u_trim_fade_range;uniform lowp vec4 u_trim_color;uniform sampler2D u_image;in vec2 v_normal;in vec2 v_width2;in highp float v_linesofar;in float v_gamma_scale;in float v_width;
#ifdef RENDER_LINE_TRIM_OFFSET
in highp vec3 v_uv;
#endif
#ifdef ELEVATED_ROADS
in highp float v_road_z_offset;
#endif
#ifdef LINE_JOIN_NONE
in vec2 v_pattern_data;
#endif
#ifdef INDICATOR_CUTOUT
in highp float v_z_offset;
#endif
#ifdef RENDER_SHADOWS
uniform vec3 u_ground_shadow_factor;in highp vec4 v_pos_light_view_0;in highp vec4 v_pos_light_view_1;in highp float v_depth;
#endif
uniform float u_emissive_strength;
#pragma mapbox: define mediump vec4 pattern
#pragma mapbox: define mediump float pixel_ratio
#pragma mapbox: define mediump float blur
#pragma mapbox: define mediump float opacity
void main() {
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize mediump float pixel_ratio
#pragma mapbox: initialize mediump float blur
#pragma mapbox: initialize mediump float opacity
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;highp float pattern_size=display_size.x/u_tile_units_to_pixels;float aspect=display_size.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(u_width_scale*blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);highp float pattern_x=v_linesofar/pattern_size*aspect;highp float x=mod(pattern_x,1.0);highp float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;highp vec2 pos=mix(pattern_tl*texel_size-texel_size,pattern_br*texel_size+texel_size,vec2(x,y));highp vec2 lod_pos=mix(pattern_tl*texel_size-texel_size,pattern_br*texel_size+texel_size,vec2(pattern_x,y));vec4 color=textureLodCustom(u_image,pos,lod_pos);
#ifdef RENDER_LINE_TRIM_OFFSET
highp float trim_start=u_trim_offset[0];highp float trim_end=u_trim_offset[1];highp float line_progress=v_uv[2];if (trim_end > trim_start) {highp float start_transition=max(0.0,min(1.0,(line_progress-trim_start)/max(u_trim_fade_range[0],1.0e-9)));highp float end_transition=max(0.0,min(1.0,(trim_end-line_progress)/max(u_trim_fade_range[1],1.0e-9)));highp float transition_factor=min(start_transition,end_transition);color=mix(color,color.a*u_trim_color,transition_factor);}
#endif
#ifdef LINE_JOIN_NONE
highp float pattern_len=pattern_size/aspect;highp float segment_phase=pattern_len-mod(v_linesofar-v_pattern_data.x+pattern_len,pattern_len);highp float visible_start=segment_phase-step(pattern_len*0.5,segment_phase)*pattern_len;highp float visible_end=floor((v_pattern_data.y-segment_phase)/pattern_len)*pattern_len+segment_phase;visible_end+=step(pattern_len*0.5,v_pattern_data.y-visible_end)*pattern_len;if (v_pattern_data.x < visible_start || v_pattern_data.x >=visible_end) {color=vec4(0.0);}
#endif
#ifdef LIGHTING_3D_MODE
color=apply_lighting_with_emission_ground(color,u_emissive_strength);
#ifdef RENDER_SHADOWS
float light=shadowed_light_factor(v_pos_light_view_0,v_pos_light_view_1,v_depth);
#ifdef ELEVATED_ROADS
color.rgb*=mix(v_road_z_offset > 0.0 ? u_ground_shadow_factor : vec3(1.0),vec3(1.0),light);
#else
color.rgb*=mix(u_ground_shadow_factor,vec3(1.0),light);
#endif
#endif
#endif
#ifdef FOG
color=fog_dither(fog_apply_premultiplied(color,v_fog_pos));
#endif
color*=(alpha*opacity);if (u_alpha_discard_threshold !=0.0) {if (color.a < u_alpha_discard_threshold) {discard;}}
#ifdef INDICATOR_CUTOUT
color=applyCutout(color,v_z_offset);
#endif
glFragColor=color;
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
#include "_prelude_shadow.vertex.glsl"
#include "_prelude_terrain.vertex.glsl"
#define scale 0.015873016
in vec2 a_pos_normal;in vec4 a_data;
#if defined(ELEVATED) || defined(ELEVATED_ROADS)
in vec3 a_z_offset_width;
#endif
#ifdef RENDER_LINE_TRIM_OFFSET
in highp vec3 a_packed;
#endif
in highp float a_linesofar;
#ifdef LINE_JOIN_NONE
in highp vec3 a_pattern_data;out vec2 v_pattern_data;
#endif
#ifdef INDICATOR_CUTOUT
out highp float v_z_offset;
#endif
uniform mat4 u_matrix;uniform float u_tile_units_to_pixels;uniform vec2 u_units_to_pixels;uniform mat2 u_pixels_to_tile_units;uniform float u_device_pixel_ratio;uniform float u_width_scale;uniform float u_floor_width_scale;
#ifdef ELEVATED
uniform lowp float u_zbias_factor;uniform lowp float u_tile_to_meter;float sample_elevation(vec2 apos) {
#ifdef ELEVATION_REFERENCE_SEA
return 0.0;
#else
return elevation(apos);
#endif
}
#endif
out vec2 v_normal;out vec2 v_width2;out highp float v_linesofar;out float v_gamma_scale;out float v_width;
#ifdef RENDER_LINE_TRIM_OFFSET
out highp vec3 v_uv;
#endif
#ifdef ELEVATED_ROADS
out highp float v_road_z_offset;
#endif
#ifdef RENDER_SHADOWS
uniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;out highp vec4 v_pos_light_view_0;out highp vec4 v_pos_light_view_1;out highp float v_depth;
#endif
#pragma mapbox: define mediump float blur
#pragma mapbox: define mediump float opacity
#pragma mapbox: define mediump float offset
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define mediump float width
#pragma mapbox: define mediump float floorwidth
#pragma mapbox: define mediump vec4 pattern
#pragma mapbox: define mediump float pixel_ratio
void main() {
#pragma mapbox: initialize mediump float blur
#pragma mapbox: initialize mediump float opacity
#pragma mapbox: initialize mediump float offset
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize mediump float floorwidth
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize mediump float pixel_ratio
float a_z_offset;
#if defined(ELEVATED) || defined(ELEVATED_ROADS)
a_z_offset=a_z_offset_width.x;
#endif
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;vec2 pos=floor(a_pos_normal*0.5);vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=(u_width_scale*width)/2.0;offset=-1.0*offset*u_width_scale;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);vec2 dist=outset*a_extrude*scale;float u=0.5*a_direction;float t=1.0-abs(u);vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);float hidden=float(opacity==0.0);vec2 extrude=dist*u_pixels_to_tile_units;vec4 projected_extrude=u_matrix*vec4(extrude,0.0,0.0);vec2 projected_extrude_xy=projected_extrude.xy;
#ifdef ELEVATED_ROADS
v_road_z_offset=a_z_offset;gl_Position=u_matrix*vec4(pos+offset2*u_pixels_to_tile_units,a_z_offset,1.0)+projected_extrude;
#else
#ifdef ELEVATED
vec2 offsetTile=offset2*u_pixels_to_tile_units;vec2 offset_pos=pos+offsetTile;float ele=0.0;
#ifdef CROSS_SLOPE_VERTICAL
float top=a_pos_normal.y-2.0*floor(a_pos_normal.y*0.5);float line_height=2.0*u_tile_to_meter*outset*top*u_pixels_to_tile_units[1][1]+a_z_offset;ele=sample_elevation(offset_pos)+line_height;projected_extrude=vec4(0);
#else
#ifdef CROSS_SLOPE_HORIZONTAL
float ele0=sample_elevation(offset_pos);float ele1=max(sample_elevation(offset_pos+extrude),sample_elevation(offset_pos+extrude/2.0));float ele2=max(sample_elevation(offset_pos-extrude),sample_elevation(offset_pos-extrude/2.0));float ele_max=max(ele0,max(ele1,ele2));ele=ele_max+a_z_offset;
#else
float ele0=sample_elevation(offset_pos);float ele1=max(sample_elevation(offset_pos+extrude),sample_elevation(offset_pos+extrude/2.0));float ele2=max(sample_elevation(offset_pos-extrude),sample_elevation(offset_pos-extrude/2.0));float ele_max=max(ele0,0.5*(ele1+ele2));ele=ele_max-ele0+ele1+a_z_offset;
#endif
#endif
gl_Position=u_matrix*vec4(offset_pos,ele,1.0)+projected_extrude;float z=clamp(gl_Position.z/gl_Position.w,0.5,1.0);float zbias=max(0.00005,(pow(z,0.8)-z)*u_zbias_factor*u_exaggeration);gl_Position.z-=(gl_Position.w*zbias);gl_Position=mix(gl_Position,AWAY,hidden);
#else
gl_Position=mix(u_matrix*vec4(pos+offset2*u_pixels_to_tile_units,0.0,1.0)+projected_extrude,AWAY,hidden);
#endif
#endif
#ifdef ELEVATED_ROADS
#ifdef RENDER_SHADOWS
vec3 shd_pos=vec3(pos+(offset2+dist)*u_pixels_to_tile_units,a_z_offset);vec3 shd_pos0=shd_pos;vec3 shd_pos1=shd_pos;
#ifdef NORMAL_OFFSET
vec3 shd_pos_offset=shadow_normal_offset(vec3(0.0,0.0,1.0));shd_pos0+=shd_pos_offset*shadow_normal_offset_multiplier0();shd_pos1+=shd_pos_offset*shadow_normal_offset_multiplier1();
#endif
v_pos_light_view_0=u_light_matrix_0*vec4(shd_pos0,1);v_pos_light_view_1=u_light_matrix_1*vec4(shd_pos1,1);v_depth=gl_Position.w;
#endif
#endif
#ifndef RENDER_TO_TEXTURE
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude_xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=mix(extrude_length_without_perspective/extrude_length_with_perspective,1.0,step(0.01,blur));
#else
v_gamma_scale=1.0;
#endif
#ifdef RENDER_LINE_TRIM_OFFSET
highp float a_uv_x=a_packed[0];highp float line_progress=a_packed[2];v_uv=vec3(a_uv_x,0.0,line_progress);
#endif
v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=(floorwidth*u_floor_width_scale);
#ifdef LINE_JOIN_NONE
v_width=(floorwidth*u_floor_width_scale)+ANTIALIASING;mediump float pixels_to_tile_units=1.0/u_tile_units_to_pixels;mediump float pixel_ratio_inverse=1.0/pixel_ratio;mediump float aspect=v_width/((pattern.w-pattern.y)*pixel_ratio_inverse);highp float subt_multiple=(pattern.z-pattern.x)*pixel_ratio_inverse*pixels_to_tile_units*aspect*32.0;highp float subt=floor(a_pattern_data.z/subt_multiple)*subt_multiple;float offset_sign=(fract(a_pattern_data.x)-0.5)*4.0;float line_progress_offset=offset_sign*v_width*0.5*pixels_to_tile_units;v_linesofar=(a_pattern_data.z-subt)+a_linesofar+line_progress_offset;v_pattern_data=vec2(a_pattern_data.x+line_progress_offset,a_pattern_data.y);
#endif
#ifdef FOG
v_fog_pos=fog_position(pos);
#endif
#ifdef INDICATOR_CUTOUT
v_z_offset=a_z_offset;
#endif
}`),raster:Ja(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_lighting.glsl"
#include "_prelude_raster_array.glsl"
uniform float u_fade_t;uniform float u_opacity;uniform highp float u_raster_elevation;uniform highp float u_zoom_transition;in vec2 v_pos0;in vec2 v_pos1;in float v_depth;
#ifdef PROJECTION_GLOBE_VIEW
in float v_split_fade;
#endif
uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;uniform float u_emissive_strength;
#ifndef RASTER_ARRAY
uniform highp sampler2D u_image0;uniform sampler2D u_image1;
#endif
#ifdef RASTER_COLOR
uniform sampler2D u_color_ramp;uniform highp vec4 u_colorization_mix;uniform highp float u_colorization_offset;uniform vec2 u_texture_res;
#endif
void main() {vec4 color0,color1,color;vec2 value;
#ifdef RASTER_COLOR
#ifdef RASTER_ARRAY
#ifdef RASTER_ARRAY_LINEAR
value=mix(
raTexture2D_image0_linear(v_pos0,u_texture_res,u_colorization_mix,u_colorization_offset),raTexture2D_image1_linear(v_pos1,u_texture_res,u_colorization_mix,u_colorization_offset),u_fade_t
);
#else
value=mix(
raTexture2D_image0_nearest(v_pos0,u_texture_res,u_colorization_mix,u_colorization_offset),raTexture2D_image1_nearest(v_pos1,u_texture_res,u_colorization_mix,u_colorization_offset),u_fade_t
);
#endif
if (value.y > 0.0) value.x/=value.y;
#else
color=mix(texture(u_image0,v_pos0),texture(u_image1,v_pos1),u_fade_t);value=vec2(u_colorization_offset+dot(color.rgb,u_colorization_mix.rgb),color.a);
#endif
color=texture(u_color_ramp,vec2(value.x,0.5));if (color.a > 0.0) color.rgb/=color.a;color.a*=value.y;
#else
color0=texture(u_image0,v_pos0);color1=texture(u_image1,v_pos1);if (color0.a > 0.0) color0.rgb/=color0.a;if (color1.a > 0.0) color1.rgb/=color1.a;color=mix(color0,color1,u_fade_t);
#endif
color.a*=u_opacity;
#ifdef GLOBE_POLES
color.a*=1.0-smoothstep(0.0,0.05,u_zoom_transition);
#endif
vec3 rgb=color.rgb;rgb=vec3(
dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);vec3 out_color=mix(u_high_vec,u_low_vec,rgb);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting_with_emission_ground(vec4(out_color,1.0),u_emissive_strength).rgb;
#endif
#ifdef FOG
highp float fog_limit_high_meters=1000000.0;highp float fog_limit_low_meters=600000.0;float fog_limit=1.0-smoothstep(fog_limit_low_meters,fog_limit_high_meters,u_raster_elevation);out_color=fog_dither(fog_apply(out_color,v_fog_pos,fog_limit));
#endif
glFragColor=vec4(out_color*color.a,color.a);
#ifdef PROJECTION_GLOBE_VIEW
glFragColor*=mix(1.0,1.0-smoothstep(0.0,0.05,u_zoom_transition),smoothstep(0.8,0.9,v_split_fade));
#endif
#ifdef RENDER_CUTOFF
glFragColor=glFragColor*cutoff_opacity(u_cutoff_params,v_depth);
#endif
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
uniform mat4 u_matrix;uniform mat4 u_normalize_matrix;uniform mat4 u_globe_matrix;uniform mat4 u_merc_matrix;uniform mat3 u_grid_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform vec2 u_perspective_transform;uniform vec2 u_texture_offset;uniform float u_raster_elevation;uniform float u_zoom_transition;uniform vec2 u_merc_center;
#define GLOBE_UPSCALE GLOBE_RADIUS/6371008.8
#ifdef GLOBE_POLES
in vec3 a_globe_pos;in vec2 a_uv;
#else
in vec2 a_pos;in vec2 a_texture_pos;
#endif
out vec2 v_pos0;out vec2 v_pos1;out float v_depth;
#ifdef PROJECTION_GLOBE_VIEW
out float v_split_fade;
#endif
void main() {vec2 uv;
#ifdef GLOBE_POLES
vec3 globe_pos=a_globe_pos;globe_pos+=normalize(globe_pos)*u_raster_elevation*GLOBE_UPSCALE;gl_Position=u_matrix*u_globe_matrix*vec4(globe_pos   ,1.0);uv=a_uv;
#ifdef FOG
v_fog_pos=fog_position((u_normalize_matrix*vec4(a_globe_pos,1.0)).xyz);
#endif
#else
float w=1.0+dot(a_texture_pos,u_perspective_transform);uv=a_texture_pos/8192.0;
#ifdef PROJECTION_GLOBE_VIEW
vec3 decomposed_pos_and_skirt=decomposeToPosAndSkirt(a_pos);vec3 latLng=u_grid_matrix*vec3(decomposed_pos_and_skirt.xy,1.0);vec3 globe_pos=latLngToECEF(latLng.xy);globe_pos+=normalize(globe_pos)*u_raster_elevation*GLOBE_UPSCALE;vec4 globe_world_pos=u_globe_matrix*vec4(globe_pos,1.0);vec4 merc_world_pos=vec4(0.0);float mercatorY=mercatorYfromLat(latLng[0]);float mercatorX=mercatorXfromLng(latLng[1]);    
v_split_fade=0.0;if (u_zoom_transition > 0.0) {vec2 merc_pos=vec2(mercatorX,mercatorY);merc_world_pos=vec4(merc_pos,u_raster_elevation,1.0);merc_world_pos.xy-=u_merc_center;merc_world_pos.x=wrap(merc_world_pos.x,-0.5,0.5);merc_world_pos=u_merc_matrix*merc_world_pos;float opposite_merc_center=mod(u_merc_center.x+0.5,1.0);float dist_from_poles=(abs(mercatorY-0.5)*2.0);float range=0.1;v_split_fade=abs(opposite_merc_center-mercatorX);v_split_fade=clamp(1.0-v_split_fade,0.0,1.0);v_split_fade=max(smoothstep(1.0-range,1.0,dist_from_poles),max(smoothstep(1.0-range,1.0,v_split_fade),smoothstep(1.0-range,1.0,1.0-v_split_fade)));}float tiles=u_grid_matrix[0][2];if (tiles > 0.0) {float idx=u_grid_matrix[1][2];float idy=u_grid_matrix[2][2];float uvY=mercatorY*tiles-idy;float uvX=mercatorX*tiles-idx;uv=vec2(uvX,uvY);}vec4 interpolated_pos=vec4(mix(globe_world_pos.xyz,merc_world_pos.xyz,u_zoom_transition)*w,w);gl_Position=u_matrix*interpolated_pos;
#ifdef FOG
v_fog_pos=fog_position((u_normalize_matrix*vec4(globe_pos,1.0)).xyz);
#endif
#else
gl_Position=u_matrix*vec4(a_pos*w,u_raster_elevation*w,w);
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
#endif
#endif
v_pos0=uv;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;v_pos0=u_texture_offset.x+u_texture_offset.y*v_pos0;v_pos1=u_texture_offset.x+u_texture_offset.y*v_pos1;
#ifdef RENDER_CUTOFF
v_depth=gl_Position.z;
#endif
}`),rasterParticle:Ja(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_lighting.glsl"
uniform float u_fade_t;uniform float u_opacity;uniform highp float u_raster_elevation;in vec2 v_pos0;in vec2 v_pos1;uniform sampler2D u_image0;uniform sampler2D u_image1;void main() {vec4 color0,color1,color;color0=texture(u_image0,v_pos0);color1=texture(u_image1,v_pos1);if (color0.a > 0.0) color0.rgb/=color0.a;if (color1.a > 0.0) color1.rgb/=color1.a;color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 out_color=color.rgb;
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting_with_emission_ground(vec4(out_color,1.0),0.0).rgb;
#endif
#ifdef FOG
highp float fog_limit_high_meters=1000000.0;highp float fog_limit_low_meters=600000.0;float fog_limit=1.0-smoothstep(fog_limit_low_meters,fog_limit_high_meters,u_raster_elevation);out_color=fog_dither(fog_apply(out_color,v_fog_pos,fog_limit));
#endif
glFragColor=vec4(out_color*color.a,color.a);
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
uniform mat4 u_matrix;uniform mat4 u_normalize_matrix;uniform mat4 u_globe_matrix;uniform mat4 u_merc_matrix;uniform mat3 u_grid_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_raster_elevation;uniform float u_zoom_transition;uniform vec2 u_merc_center;
#define GLOBE_UPSCALE GLOBE_RADIUS/6371008.8
in vec2 a_pos;in vec2 a_texture_pos;out vec2 v_pos0;out vec2 v_pos1;void main() {float w=1.0;vec2 uv;
#ifdef PROJECTION_GLOBE_VIEW
vec3 decomposed_pos_and_skirt=decomposeToPosAndSkirt(a_pos);vec3 latLng=u_grid_matrix*vec3(decomposed_pos_and_skirt.xy,1.0);float mercatorY=mercatorYfromLat(latLng[0]);float mercatorX=mercatorXfromLng(latLng[1]);float tiles=u_grid_matrix[0][2];float idx=u_grid_matrix[1][2];float idy=u_grid_matrix[2][2];float uvX=mercatorX*tiles-idx;float uvY=mercatorY*tiles-idy;uv=vec2(uvX,uvY);vec3 globe_pos=latLngToECEF(latLng.xy);globe_pos+=normalize(globe_pos)*u_raster_elevation*GLOBE_UPSCALE;vec4 globe_world_pos=u_globe_matrix*vec4(globe_pos,1.0);vec4 merc_world_pos=vec4(0.0);if (u_zoom_transition > 0.0) {vec2 merc_pos=vec2(mercatorX,mercatorY);merc_world_pos=vec4(merc_pos,u_raster_elevation,1.0);merc_world_pos.xy-=u_merc_center;merc_world_pos.x=wrap(merc_world_pos.x,-0.5,0.5);merc_world_pos=u_merc_matrix*merc_world_pos;}vec4 interpolated_pos=vec4(mix(globe_world_pos.xyz,merc_world_pos.xyz,u_zoom_transition)*w,w);gl_Position=u_matrix*interpolated_pos;
#ifdef FOG
v_fog_pos=fog_position((u_normalize_matrix*vec4(globe_pos,1.0)).xyz);
#endif
#else
uv=a_texture_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*w,u_raster_elevation*w,w);
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
#endif
v_pos0=uv;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}`),rasterParticleDraw:Ja("uniform sampler2D u_color_ramp;in float v_particle_speed;void main() {glFragColor=texture(u_color_ramp,vec2(v_particle_speed,0.5));}",`#include "_prelude_raster_particle.glsl"
in float a_index;uniform sampler2D u_particle_texture;uniform float u_particle_texture_side_len;uniform vec2 u_tile_offset;out float v_particle_speed;void main() {ivec2 pixel_coord=ivec2(
mod(a_index,u_particle_texture_side_len),a_index/u_particle_texture_side_len);vec4 pixel=texelFetch(u_particle_texture,pixel_coord,0);vec2 pos=unpack_pos_from_rgba(pixel)+u_tile_offset;vec2 tex_coord=fract(pos);vec2 velocity=lookup_velocity(tex_coord);if (velocity==INVALID_VELOCITY) {gl_Position=AWAY;v_particle_speed=0.0;} else {gl_Position=vec4(2.0*pos-1.0,0,1);v_particle_speed=length(velocity);}gl_PointSize=1.0;}`),rasterParticleTexture:Ja("uniform sampler2D u_texture;uniform float u_opacity;in vec2 v_tex_pos;void main() {vec4 color=texture(u_texture,v_tex_pos);glFragColor=vec4(floor(255.0*color*u_opacity)/255.0);}","in vec2 a_pos;out vec2 v_tex_pos;void main() {vec2 uv=0.5*a_pos+vec2(0.5);v_tex_pos=uv;gl_Position=vec4(a_pos,0.0,1.0);}"),rasterParticleUpdate:Ja(`#include "_prelude_raster_particle.glsl"
uniform sampler2D u_particle_texture;uniform mediump float u_particle_texture_side_len;uniform mediump float u_speed_factor;uniform highp float u_reset_rate;uniform highp float u_rand_seed;in highp vec2 v_tex_coord;vec2 linearstep(vec2 edge0,vec2 edge1,vec2 x) {return  clamp((x-edge0)/(edge1-edge0),vec2(0),vec2(1));}const highp vec3 rand_constants=vec3(12.9898,78.233,4375.85453);highp float rand(const highp vec2 co) {highp float t=dot(rand_constants.xy,co);return fract(sin(t)*(rand_constants.z+t));}void main() {ivec2 pixel_coord=ivec2(v_tex_coord*u_particle_texture_side_len);highp vec4 pixel=texelFetch(u_particle_texture,pixel_coord,0);highp vec2 pos=unpack_pos_from_rgba(pixel);highp vec2 velocity=lookup_velocity(clamp(pos,0.0,1.0));highp vec2 dp=velocity==INVALID_VELOCITY ? vec2(0) : velocity*u_speed_factor;pos=pos+dp;highp vec2 seed=(pos+v_tex_coord)*u_rand_seed;highp vec2 random_pos=vec2(rand(seed+1.3),rand(seed+2.1));highp vec2 persist_rate=pow(
linearstep(vec2(-u_particle_pos_offset),vec2(0),pos)*linearstep(vec2(1.0+u_particle_pos_offset),vec2(1),pos),vec2(4)
);highp vec2 per_frame_persist=pow(persist_rate,abs(dp)/u_particle_pos_offset);highp float drop_rate=1.0-per_frame_persist.x*per_frame_persist.y;drop_rate=any(greaterThanEqual(abs(pos-0.5),vec2(0.5+u_particle_pos_offset))) ? 1.0 : drop_rate;highp float drop=step(1.0-drop_rate-u_reset_rate,rand(seed));highp vec2 next_pos=mix(pos,random_pos,drop);glFragColor=pack_pos_to_rgba(next_pos);}`,"in vec2 a_pos;out vec2 v_tex_coord;void main() {v_tex_coord=0.5*(a_pos+vec2(1.0));gl_Position=vec4(a_pos,0.0,1.0);}"),symbol:Ja(`#include "_prelude_lighting.glsl"
#define SDF_PX 8.0
#define SDF 1.0
#define ICON 0.0
uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;uniform bool u_is_halo;uniform lowp float u_scale_factor;
#ifdef ICON_TRANSITION
uniform float u_icon_transition;
#endif
#ifdef COLOR_ADJUSTMENT
uniform mat4 u_color_adj_mat;
#endif
#ifdef INDICATOR_CUTOUT
in highp float v_z_offset;
#endif
in vec2 v_tex_a;
#ifdef ICON_TRANSITION
in vec2 v_tex_b;
#endif
in float v_draw_halo;in vec3 v_gamma_scale_size_fade_opacity;
#ifdef RENDER_TEXT_AND_SYMBOL
in float is_sdf;in vec2 v_tex_a_icon;
#endif
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
#pragma mapbox: define lowp float emissive_strength
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
#pragma mapbox: initialize lowp float emissive_strength
vec4 out_color;float fade_opacity=v_gamma_scale_size_fade_opacity[2];
#ifdef RENDER_TEXT_AND_SYMBOL
if (is_sdf==ICON) {vec2 tex_icon=v_tex_a_icon;lowp float alpha=opacity*fade_opacity;glFragColor=texture(u_texture_icon,tex_icon)*alpha;
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
return;}
#endif
#ifdef RENDER_SDF
float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_gamma_scale_size_fade_opacity.x;float size=v_gamma_scale_size_fade_opacity.y;float fontScale=u_is_text ? size/24.0 : size;out_color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;bool draw_halo=v_draw_halo > 0.0;if (draw_halo) {out_color=halo_color;gamma=(halo_blur*u_scale_factor*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width*u_scale_factor/fontScale)/SDF_PX;}lowp float dist=texture(u_texture,v_tex_a).r;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);out_color*=alpha;
#else
#ifdef ICON_TRANSITION
vec4 a=texture(u_texture,v_tex_a)*(1.0-u_icon_transition);vec4 b=texture(u_texture,v_tex_b)*u_icon_transition;out_color=(a+b);
#else
out_color=texture(u_texture,v_tex_a);
#endif
#ifdef COLOR_ADJUSTMENT
out_color=u_color_adj_mat*out_color;
#endif
#endif
out_color*=opacity*fade_opacity;
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting_with_emission_ground(out_color,emissive_strength);
#endif
#ifdef INDICATOR_CUTOUT
out_color=applyCutout(out_color,v_z_offset);
#endif
glFragColor=out_color;
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_terrain.vertex.glsl"
in vec4 a_pos_offset;in vec4 a_tex_size;in vec4 a_pixeloffset;in vec4 a_projected_pos;in float a_fade_opacity;
#ifdef Z_OFFSET
in float a_auto_z_offset;
#endif
#ifdef PROJECTION_GLOBE_VIEW
in vec3 a_globe_anchor;in vec3 a_globe_normal;
#endif
#ifdef ICON_TRANSITION
in vec2 a_texb;
#endif
#ifdef OCCLUSION_QUERIES
in float a_occlusion_query_opacity;
#endif
#ifdef INDICATOR_CUTOUT
out highp float v_z_offset;
#endif
uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_elevation_from_sea;uniform bool u_pitch_with_map;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec3 u_up_vector;uniform vec2 u_texsize_icon;uniform bool u_is_halo;
#ifdef PROJECTION_GLOBE_VIEW
uniform vec3 u_tile_id;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_camera_forward;uniform float u_zoom_transition;uniform vec3 u_ecef_origin;uniform mat4 u_tile_matrix;
#endif
out vec2 v_tex_a;
#ifdef ICON_TRANSITION
out vec2 v_tex_b;
#endif
out float v_draw_halo;out vec3 v_gamma_scale_size_fade_opacity;
#ifdef RENDER_TEXT_AND_SYMBOL
out float is_sdf;out vec2 v_tex_a_icon;
#endif
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
#pragma mapbox: define lowp float emissive_strength
#pragma mapbox: define lowp float occlusion_opacity
#pragma mapbox: define lowp float z_offset
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
#pragma mapbox: initialize lowp float emissive_strength
#pragma mapbox: initialize lowp float occlusion_opacity
#pragma mapbox: initialize lowp float z_offset
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_min_font_scale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[3];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 tile_anchor=a_pos;float e=u_elevation_from_sea ? z_offset : z_offset+elevation(tile_anchor);
#ifdef Z_OFFSET
e+=a_auto_z_offset;
#endif
vec3 h=elevationVector(tile_anchor)*e;float globe_occlusion_fade;vec3 world_pos;vec3 mercator_pos;vec3 world_pos_globe;
#ifdef PROJECTION_GLOBE_VIEW
mercator_pos=mercator_tile_position(u_inv_rot_matrix,tile_anchor,u_tile_id,u_merc_center);world_pos_globe=a_globe_anchor+h;world_pos=mix_globe_mercator(world_pos_globe,mercator_pos,u_zoom_transition);vec4 ecef_point=u_tile_matrix*vec4(world_pos,1.0);vec3 origin_to_point=ecef_point.xyz-u_ecef_origin;globe_occlusion_fade=dot(origin_to_point,u_camera_forward) >=0.0 ? 0.0 : 1.0;
#else
world_pos=vec3(tile_anchor,0)+h;globe_occlusion_fade=1.0;
#endif
vec4 projected_point=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projected_point.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(
0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float font_scale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetprojected_point;vec2 a;
#ifdef PROJECTION_GLOBE_VIEW
vec3 displacement=vec3(a_globe_normal.z,0,-a_globe_normal.x);offsetprojected_point=u_matrix*vec4(a_globe_anchor+displacement,1);vec4 projected_point_globe=u_matrix*vec4(world_pos_globe,1);a=projected_point_globe.xy/projected_point_globe.w;
#else
offsetprojected_point=u_matrix*vec4(tile_anchor+vec2(1,0),0,1);a=projected_point.xy/projected_point.w;
#endif
vec2 b=offsetprojected_point.xy/offsetprojected_point.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}vec4 projected_pos;
#ifdef PROJECTION_GLOBE_VIEW
#ifdef PROJECTED_POS_ON_VIEWPORT
projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xyz+h,1.0);
#else
vec3 proj_pos=mix_globe_mercator(a_projected_pos.xyz,mercator_pos,u_zoom_transition)+h;projected_pos=u_label_plane_matrix*vec4(proj_pos,1.0);    
#endif
#else
projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h.z,1.0);
#endif
highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*max(a_min_font_scale,font_scale)+a_pxoffset/16.0);
#ifdef TERRAIN
#ifdef PITCH_WITH_MAP_TERRAIN
vec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);
#endif
#endif
#ifdef Z_OFFSET
z+=u_pitch_with_map ? a_auto_z_offset+(u_elevation_from_sea ? z_offset : z_offset) : 0.0;
#else
z+=u_pitch_with_map ? (u_elevation_from_sea ? z_offset : z_offset) : 0.0;
#endif
float occlusion_fade=globe_occlusion_fade;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float out_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change));
#ifdef DEPTH_OCCLUSION
float depth_occlusion=occlusionFadeMultiSample(projected_point);float depth_occlusion_multplier=mix(occlusion_opacity,1.0,depth_occlusion);out_fade_opacity*=depth_occlusion_multplier;
#endif
#ifdef OCCLUSION_QUERIES
float occludedFadeMultiplier=mix(occlusion_opacity,1.0,a_occlusion_query_opacity);out_fade_opacity*=occludedFadeMultiplier;
#endif
float alpha=opacity*out_fade_opacity;float hidden=float(alpha==0.0 || projected_point.w <=0.0 || occlusion_fade==0.0);
#ifdef PROJECTION_GLOBE_VIEW
vec3 xAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,u_up_vector)) : vec3(1,0,0);vec3 yAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,xAxis)) : vec3(0,1,0);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xyz/projected_pos.w+xAxis*offset.x+yAxis*offset.y,1.0),AWAY,hidden);
#else
gl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,hidden);
#endif
float gamma_scale=gl_Position.w;v_draw_halo=(u_is_halo && float(gl_InstanceID)==0.0) ? 1.0 : 0.0;v_gamma_scale_size_fade_opacity=vec3(gamma_scale,size,out_fade_opacity);v_tex_a=a_tex/u_texsize;
#ifdef RENDER_TEXT_AND_SYMBOL
is_sdf=a_size[0]-2.0*a_size_min;v_tex_a_icon=a_tex/u_texsize_icon;
#endif
#ifdef ICON_TRANSITION
v_tex_b=a_texb/u_texsize;
#endif
#ifdef INDICATOR_CUTOUT
v_z_offset=e;
#endif
}`),terrainRaster:Ja(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_shadow.fragment.glsl"
#include "_prelude_lighting.glsl"
uniform sampler2D u_image0;in vec2 v_pos0;
#ifdef FOG
in float v_fog_opacity;
#endif
#ifdef RENDER_SHADOWS
in vec4 v_pos_light_view_0;in vec4 v_pos_light_view_1;
#endif
uniform vec3 u_ground_shadow_factor;void main() {vec4 image_color=texture(u_image0,v_pos0);vec4 color;
#ifdef LIGHTING_3D_MODE
const vec3 normal=vec3(0.0,0.0,1.0);
#ifdef RENDER_SHADOWS
float cutoffOpacity=1.0;
#ifdef RENDER_CUTOFF
cutoffOpacity=cutoff_opacity(u_cutoff_params,1.0/gl_FragCoord.w);
#endif
#ifdef LIGHTING_3D_ALPHA_EMISSIVENESS
vec3 unlit_base=image_color.rgb*(1.0-image_color.a);vec3 emissive_base=image_color.rgb*image_color.a;float ndotl=u_shadow_direction.z;float occlusion=ndotl < 0.0 ? 1.0 : shadow_occlusion(v_pos_light_view_0,v_pos_light_view_1,1.0/gl_FragCoord.w,0.0);ndotl=max(0.0,ndotl);vec3 lit=apply_lighting(unlit_base,normal,mix(1.0,(1.0-(u_shadow_intensity*occlusion))*ndotl,cutoffOpacity));vec3 emissive=compute_emissive_draped(emissive_base,1.0-u_shadow_intensity,occlusion,u_ground_shadow_factor);color.rgb=lit+emissive;color.a=1.0;
#else
float lighting_factor=shadowed_light_factor_normal_unbiased(normal,v_pos_light_view_0,v_pos_light_view_1,1.0/gl_FragCoord.w);color=apply_lighting(image_color,normal,mix(1.0,lighting_factor,cutoffOpacity));
#endif
#else
float lighting_factor=u_lighting_directional_dir.z;color=apply_lighting(image_color,normal,lighting_factor);
#ifdef LIGHTING_3D_ALPHA_EMISSIVENESS
color.rgb=mix(color.rgb,image_color.rgb,image_color.a);color.a=1.0;
#endif
#endif
#else
color=image_color;
#endif
#ifdef FOG
#ifdef ZERO_EXAGGERATION
color=fog_dither(fog_apply_premultiplied(color,v_fog_pos));
#else
color=fog_dither(fog_apply_from_vert(color,v_fog_opacity));
#endif
#endif
glFragColor=color;
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
#include "_prelude_terrain.vertex.glsl"
uniform mat4 u_matrix;uniform float u_skirt_height;in vec2 a_pos;out vec2 v_pos0;
#ifdef FOG
out float v_fog_opacity;
#endif
#ifdef RENDER_SHADOWS
uniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;out vec4 v_pos_light_view_0;out vec4 v_pos_light_view_1;out float v_depth;
#endif
void main() {vec3 decomposedPosAndSkirt=decomposeToPosAndSkirt(a_pos);float skirt=decomposedPosAndSkirt.z;vec2 decodedPos=decomposedPosAndSkirt.xy;float elevation=elevation(decodedPos)-skirt*u_skirt_height;v_pos0=decodedPos/8192.0;gl_Position=u_matrix*vec4(decodedPos,elevation,1.0);
#ifdef FOG
#ifdef ZERO_EXAGGERATION
v_fog_pos=fog_position(decodedPos);
#else
v_fog_opacity=fog(fog_position(vec3(decodedPos,elevation)));
#endif
#endif
#ifdef RENDER_SHADOWS
vec3 pos=vec3(decodedPos,elevation);v_pos_light_view_0=u_light_matrix_0*vec4(pos,1.);v_pos_light_view_1=u_light_matrix_1*vec4(pos,1.);
#endif
}`),terrainDepth:Ja("precision highp float;in float v_depth;void main() {glFragColor=pack_depth(v_depth);}",`#include "_prelude_terrain.vertex.glsl"
uniform mat4 u_matrix;in vec2 a_pos;out float v_depth;void main() {float elevation=elevation(a_pos);gl_Position=u_matrix*vec4(a_pos,elevation,1.0);v_depth=gl_Position.z/gl_Position.w;}`),skybox:Ja(`#include "_prelude_fog.fragment.glsl"
in lowp vec3 v_uv;uniform lowp samplerCube u_cubemap;uniform lowp float u_opacity;uniform highp float u_temporal_offset;uniform highp vec3 u_sun_direction;float sun_disk(highp vec3 ray_direction,highp vec3 sun_direction) {highp float cos_angle=dot(normalize(ray_direction),sun_direction);const highp float cos_sun_angular_diameter=0.99996192306;const highp float smoothstep_delta=1e-5;return smoothstep(
cos_sun_angular_diameter-smoothstep_delta,cos_sun_angular_diameter+smoothstep_delta,cos_angle);}float map(float value,float start,float end,float new_start,float new_end) {return ((value-start)*(new_end-new_start))/(end-start)+new_start;}void main() {vec3 uv=v_uv;const float y_bias=0.015;uv.y+=y_bias;uv.y=pow(abs(uv.y),1.0/5.0);uv.y=map(uv.y,0.0,1.0,-1.0,1.0);vec3 sky_color=texture(u_cubemap,uv).rgb;
#ifdef FOG
sky_color=fog_apply_sky_gradient(v_uv.xzy,sky_color);
#endif
sky_color+=0.1*sun_disk(v_uv,u_sun_direction);glFragColor=vec4(sky_color*u_opacity,u_opacity);
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
}`,ml),skyboxGradient:Ja(`#include "_prelude_fog.fragment.glsl"
in highp vec3 v_uv;uniform lowp sampler2D u_color_ramp;uniform highp vec3 u_center_direction;uniform lowp float u_radius;uniform lowp float u_opacity;uniform highp float u_temporal_offset;void main() {float progress=acos(dot(normalize(v_uv),u_center_direction))/u_radius;vec4 color=texture(u_color_ramp,vec2(progress,0.5));
#ifdef FOG
color.rgb=fog_apply_sky_gradient(v_uv.xzy,color.rgb/color.a)*color.a;
#endif
color*=u_opacity;glFragColor=color;
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
}`,ml),skyboxCapture:Ja(`
in highp vec3 v_position;uniform highp float u_sun_intensity;uniform highp float u_luminance;uniform lowp vec3 u_sun_direction;uniform highp vec4 u_color_tint_r;uniform highp vec4 u_color_tint_m;precision highp float;
#define BETA_R                  vec3(5.5e-6,13.0e-6,22.4e-6)
#define BETA_M                  vec3(21e-6,21e-6,21e-6)
#define MIE_G                   0.76
#define DENSITY_HEIGHT_SCALE_R  8000.0
#define DENSITY_HEIGHT_SCALE_M  1200.0
#define PLANET_RADIUS           6360e3
#define ATMOSPHERE_RADIUS       6420e3
#define SAMPLE_STEPS            10
#define DENSITY_STEPS           4
float ray_sphere_exit(vec3 orig,vec3 dir,float radius) {float a=dot(dir,dir);float b=2.0*dot(dir,orig);float c=dot(orig,orig)-radius*radius;float d=sqrt(b*b-4.0*a*c);return (-b+d)/(2.0*a);}vec3 extinction(vec2 density) {return exp(-vec3(BETA_R*u_color_tint_r.a*density.x+BETA_M*u_color_tint_m.a*density.y));}vec2 local_density(vec3 point) {float height=max(length(point)-PLANET_RADIUS,0.0);float exp_r=exp(-height/DENSITY_HEIGHT_SCALE_R);float exp_m=exp(-height/DENSITY_HEIGHT_SCALE_M);return vec2(exp_r,exp_m);}float phase_ray(float cos_angle) {return (3.0/(16.0*PI))*(1.0+cos_angle*cos_angle);}float phase_mie(float cos_angle) {return (3.0/(8.0*PI))*((1.0-MIE_G*MIE_G)*(1.0+cos_angle*cos_angle))/((2.0+MIE_G*MIE_G)*pow(1.0+MIE_G*MIE_G-2.0*MIE_G*cos_angle,1.5));}vec2 density_to_atmosphere(vec3 point,vec3 light_dir) {float ray_len=ray_sphere_exit(point,light_dir,ATMOSPHERE_RADIUS);float step_len=ray_len/float(DENSITY_STEPS);vec2 density_point_to_atmosphere=vec2(0.0);for (int i=0; i < DENSITY_STEPS;++i) {vec3 point_on_ray=point+light_dir*((float(i)+0.5)*step_len);density_point_to_atmosphere+=local_density(point_on_ray)*step_len;;}return density_point_to_atmosphere;}vec3 atmosphere(vec3 ray_dir,vec3 sun_direction,float sun_intensity) {vec2 density_orig_to_point=vec2(0.0);vec3 scatter_r=vec3(0.0);vec3 scatter_m=vec3(0.0);vec3 origin=vec3(0.0,PLANET_RADIUS,0.0);float ray_len=ray_sphere_exit(origin,ray_dir,ATMOSPHERE_RADIUS);float step_len=ray_len/float(SAMPLE_STEPS);for (int i=0; i < SAMPLE_STEPS;++i) {vec3 point_on_ray=origin+ray_dir*((float(i)+0.5)*step_len);vec2 density=local_density(point_on_ray)*step_len;density_orig_to_point+=density;vec2 density_point_to_atmosphere=density_to_atmosphere(point_on_ray,sun_direction);vec2 density_orig_to_atmosphere=density_orig_to_point+density_point_to_atmosphere;vec3 extinction=extinction(density_orig_to_atmosphere);scatter_r+=density.x*extinction;scatter_m+=density.y*extinction;}float cos_angle=dot(ray_dir,sun_direction);float phase_r=phase_ray(cos_angle);float phase_m=phase_mie(cos_angle);vec3 beta_r=BETA_R*u_color_tint_r.rgb*u_color_tint_r.a;vec3 beta_m=BETA_M*u_color_tint_m.rgb*u_color_tint_m.a;return (scatter_r*phase_r*beta_r+scatter_m*phase_m*beta_m)*sun_intensity;}const float A=0.15;const float B=0.50;const float C=0.10;const float D=0.20;const float E=0.02;const float F=0.30;vec3 uncharted2_tonemap(vec3 x) {return ((x*(A*x+C*B)+D*E)/(x*(A*x+B)+D*F))-E/F;}void main() {vec3 ray_direction=v_position;ray_direction.y=pow(ray_direction.y,5.0);const float y_bias=0.015;ray_direction.y+=y_bias;vec3 color=atmosphere(normalize(ray_direction),u_sun_direction,u_sun_intensity);float white_scale=1.0748724675633854;color=uncharted2_tonemap((log2(2.0/pow(u_luminance,4.0)))*color)*white_scale;glFragColor=vec4(color,1.0);}`,"in highp vec3 a_pos_3f;uniform mat3 u_matrix_3f;out highp vec3 v_position;float map(float value,float start,float end,float new_start,float new_end) {return ((value-start)*(new_end-new_start))/(end-start)+new_start;}void main() {vec4 pos=vec4(u_matrix_3f*a_pos_3f,1.0);v_position=pos.xyz;v_position.y*=-1.0;v_position.y=map(v_position.y,-1.0,1.0,0.0,1.0);gl_Position=vec4(a_pos_3f.xy,0.0,1.0);}"),globeRaster:Ja(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_lighting.glsl"
uniform sampler2D u_image0;uniform float u_far_z_cutoff;in vec2 v_pos0;
#ifndef FOG
uniform highp vec3 u_frustum_tl;uniform highp vec3 u_frustum_tr;uniform highp vec3 u_frustum_br;uniform highp vec3 u_frustum_bl;uniform highp vec3 u_globe_pos;uniform highp float u_globe_radius;uniform vec2 u_viewport;
#endif
void main() {vec4 color;
#ifdef CUSTOM_ANTIALIASING
highp vec2 uv=gl_FragCoord.xy/u_viewport;highp vec3 ray_dir=mix(
mix(u_frustum_tl,u_frustum_tr,uv.x),mix(u_frustum_bl,u_frustum_br,uv.x),1.0-uv.y);highp vec3 dir=normalize(ray_dir);highp vec3 closest_point=dot(u_globe_pos,dir)*dir;highp float norm_dist_from_center=1.0-length(closest_point-u_globe_pos)/u_globe_radius;const float antialias_pixel=2.0;highp float antialias_factor=antialias_pixel*fwidth(norm_dist_from_center);highp float antialias=smoothstep(0.0,antialias_factor,norm_dist_from_center);vec4 raster=texture(u_image0,v_pos0);
#ifdef LIGHTING_3D_MODE
#ifdef LIGHTING_3D_ALPHA_EMISSIVENESS
raster=apply_lighting_with_emission_ground(raster,raster.a);color=vec4(clamp(raster.rgb,vec3(0),vec3(1))*antialias,antialias);
#else
raster=apply_lighting_ground(raster);color=vec4(raster.rgb*antialias,raster.a*antialias);
#endif
#else
color=vec4(raster.rgb*antialias,raster.a*antialias);
#endif
#else
color=texture(u_image0,v_pos0);
#ifdef LIGHTING_3D_MODE
#ifdef LIGHTING_3D_ALPHA_EMISSIVENESS
color=apply_lighting_with_emission_ground(color,color.a);color.a=1.0;
#else
color=apply_lighting_ground(color);
#endif
#endif
#endif
#ifdef FOG
color=fog_dither(fog_apply_premultiplied(color,v_fog_pos));
#endif
color*=1.0-step(u_far_z_cutoff,1.0/gl_FragCoord.w);glFragColor=color;
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
#include "_prelude_terrain.vertex.glsl"
uniform mat4 u_proj_matrix;uniform mat4 u_normalize_matrix;uniform mat4 u_globe_matrix;uniform mat4 u_merc_matrix;uniform float u_zoom_transition;uniform vec2 u_merc_center;uniform mat3 u_grid_matrix;uniform float u_skirt_height;
#ifdef GLOBE_POLES
in vec3 a_globe_pos;in vec2 a_uv;
#else
in vec2 a_pos;
#endif
out vec2 v_pos0;void main() {
#ifdef GLOBE_POLES
vec3 globe_pos=a_globe_pos;vec2 uv=a_uv;
#else
float tiles=u_grid_matrix[0][2];float idx=u_grid_matrix[1][2];float idy=u_grid_matrix[2][2];vec3 decomposed_pos_and_skirt=decomposeToPosAndSkirt(a_pos);vec3 latLng=u_grid_matrix*vec3(decomposed_pos_and_skirt.xy,1.0);float mercatorY=mercatorYfromLat(latLng[0]);float uvY=mercatorY*tiles-idy;float mercatorX=mercatorXfromLng(latLng[1]);float uvX=mercatorX*tiles-idx;vec3 globe_pos=latLngToECEF(latLng.xy);vec2 merc_pos=vec2(mercatorX,mercatorY);vec2 uv=vec2(uvX,uvY);
#endif
v_pos0=uv;vec2 tile_pos=uv*EXTENT;vec3 globe_derived_up_vector=normalize(globe_pos)*u_tile_up_scale;
#ifdef GLOBE_POLES
vec3 up_vector=globe_derived_up_vector;
#else
vec3 up_vector=elevationVector(tile_pos);
#endif
float height=elevation(tile_pos);globe_pos+=up_vector*height;
#ifndef GLOBE_POLES
globe_pos-=globe_derived_up_vector*u_skirt_height*decomposed_pos_and_skirt.z;
#endif
#ifdef GLOBE_POLES
vec4 interpolated_pos=u_globe_matrix*vec4(globe_pos,1.0);
#else
vec4 globe_world_pos=u_globe_matrix*vec4(globe_pos,1.0);vec4 merc_world_pos=vec4(0.0);if (u_zoom_transition > 0.0) {merc_world_pos=vec4(merc_pos,height-u_skirt_height*decomposed_pos_and_skirt.z,1.0);merc_world_pos.xy-=u_merc_center;merc_world_pos.x=wrap(merc_world_pos.x,-0.5,0.5);merc_world_pos=u_merc_matrix*merc_world_pos;}vec4 interpolated_pos=vec4(mix(globe_world_pos.xyz,merc_world_pos.xyz,u_zoom_transition),1.0);
#endif
gl_Position=u_proj_matrix*interpolated_pos;
#ifdef FOG
v_fog_pos=fog_position((u_normalize_matrix*vec4(globe_pos,1.0)).xyz);
#endif
}`),globeAtmosphere:Ja(`#include "_prelude_fog.fragment.glsl"
uniform float u_transition;uniform highp float u_fadeout_range;uniform highp float u_temporal_offset;uniform vec4 u_color;uniform vec4 u_high_color;uniform vec4 u_space_color;uniform float u_horizon_angle;in highp vec3 v_ray_dir;in highp vec3 v_horizon_dir;void main() {highp vec3 dir=normalize(v_ray_dir);float globe_pos_dot_dir;
#ifdef PROJECTION_GLOBE_VIEW
globe_pos_dot_dir=dot(u_globe_pos,dir);highp vec3 closest_point_forward=abs(globe_pos_dot_dir)*dir;float norm_dist_from_center=length(closest_point_forward-u_globe_pos)/u_globe_radius;if (norm_dist_from_center < 0.98) {
#ifdef ALPHA_PASS
glFragColor=vec4(0,0,0,0);return;
#else
#ifdef NATIVE
glFragColor=vec4(1,1,1,1);
#else
glFragColor=vec4(0,0,0,1);
#endif
return;
#endif
}
#endif
highp vec3 horizon_dir=normalize(v_horizon_dir);float horizon_angle_mercator=dir.y < horizon_dir.y ?
0.0 : max(acos(clamp(dot(dir,horizon_dir),-1.0,1.0)),0.0);float horizon_angle;
#ifdef PROJECTION_GLOBE_VIEW
highp vec3 closest_point=globe_pos_dot_dir*dir;highp float closest_point_to_center=length(closest_point-u_globe_pos);highp float theta=asin(clamp(closest_point_to_center/length(u_globe_pos),-1.0,1.0));horizon_angle=globe_pos_dot_dir < 0.0 ?
PI-theta-u_horizon_angle : theta-u_horizon_angle;float angle_t=pow(u_transition,10.0);horizon_angle=mix(horizon_angle,horizon_angle_mercator,angle_t);
#else
horizon_angle=horizon_angle_mercator;
#endif
horizon_angle/=PI;float t=exp(-horizon_angle/u_fadeout_range);float alpha_0=u_color.a;float alpha_1=u_high_color.a;float alpha_2=u_space_color.a;vec3 color_stop_0=u_color.rgb;vec3 color_stop_1=u_high_color.rgb;vec3 color_stop_2=u_space_color.rgb;
#ifdef ALPHA_PASS
float a0=mix(alpha_2,1.0,alpha_1);float a1=mix(a0,1.0,alpha_0);float a2=mix(a0,a1,t);float a =mix(alpha_2,a2,t);glFragColor=vec4(1.0,1.0,1.0,a);
#else
vec3 c0=mix(color_stop_2,color_stop_1,alpha_1);vec3 c1=mix(c0,color_stop_0,alpha_0);vec3 c2=mix(c0,c1,t);vec3 c=c2;glFragColor=vec4(c*t,t);
#endif
}`,`in vec3 a_pos;in vec2 a_uv;uniform vec3 u_frustum_tl;uniform vec3 u_frustum_tr;uniform vec3 u_frustum_br;uniform vec3 u_frustum_bl;uniform float u_horizon;out highp vec3 v_ray_dir;out highp vec3 v_horizon_dir;void main() {v_ray_dir=mix(
mix(u_frustum_tl,u_frustum_tr,a_uv.x),mix(u_frustum_bl,u_frustum_br,a_uv.x),a_uv.y);v_horizon_dir=mix(
mix(u_frustum_tl,u_frustum_bl,u_horizon),mix(u_frustum_tr,u_frustum_br,u_horizon),a_uv.x);gl_Position=vec4(a_pos,1.0);}`),model:Ja(`#include "_prelude_fog.fragment.glsl"
#include "_prelude_shadow.fragment.glsl"
#include "_prelude_lighting.glsl"
uniform float u_opacity;uniform vec3 u_lightcolor;uniform vec3 u_lightpos;uniform float u_lightintensity;uniform vec4 u_baseColorFactor;uniform vec4 u_emissiveFactor;uniform float u_metallicFactor;uniform float u_roughnessFactor;uniform float u_emissive_strength;in highp vec4 v_position_height;in lowp vec4 v_color_mix;
#ifdef RENDER_SHADOWS
in highp vec4 v_pos_light_view_0;in highp vec4 v_pos_light_view_1;in float v_depth_shadows;
#endif
#ifdef OCCLUSION_TEXTURE_TRANSFORM
uniform vec4 u_occlusionTextureTransform;
#endif
#pragma mapbox: define-attribute highp vec3 normal_3f
#pragma mapbox: define-attribute highp vec3 color_3f
#pragma mapbox: define-attribute highp vec4 color_4f
#pragma mapbox: define-attribute highp vec2 uv_2f
#pragma mapbox: initialize-attribute highp vec3 normal_3f
#pragma mapbox: initialize-attribute highp vec3 color_3f
#pragma mapbox: initialize-attribute highp vec4 color_4f
#pragma mapbox: initialize-attribute highp vec2 uv_2f
#ifdef HAS_ATTRIBUTE_a_pbr
in lowp vec4 v_roughness_metallic_emissive_alpha;in mediump vec4 v_height_based_emission_params;
#endif
#ifdef HAS_TEXTURE_u_baseColorTexture
uniform sampler2D u_baseColorTexture;uniform bool u_baseTextureIsAlpha;uniform bool u_alphaMask;uniform float u_alphaCutoff;
#endif
#ifdef HAS_TEXTURE_u_metallicRoughnessTexture
uniform sampler2D u_metallicRoughnessTexture;
#endif
#ifdef HAS_TEXTURE_u_occlusionTexture
uniform sampler2D u_occlusionTexture;uniform float u_aoIntensity;
#endif
#ifdef HAS_TEXTURE_u_normalTexture
uniform sampler2D u_normalTexture;
#endif
#ifdef HAS_TEXTURE_u_emissionTexture
uniform sampler2D u_emissionTexture;
#endif
#ifdef APPLY_LUT_ON_GPU
uniform highp sampler3D u_lutTexture;
#endif
#ifdef TERRAIN_FRAGMENT_OCCLUSION
in highp float v_depth;uniform highp sampler2D u_depthTexture;uniform highp vec2 u_inv_depth_size;uniform highp vec2 u_depth_range_unpack;
#ifdef DEPTH_D24
highp float unpack_depth(highp float depth) {return  depth*u_depth_range_unpack.x+u_depth_range_unpack.y;}
#else
highp float unpack_depth_rgba(highp vec4 rgba_depth)
{const highp vec4 bit_shift=vec4(1.0/(255.0*255.0*255.0),1.0/(255.0*255.0),1.0/255.0,1.0);return dot(rgba_depth,bit_shift)*2.0-1.0;}
#endif
bool isOccluded() {highp vec2 coord=gl_FragCoord.xy*u_inv_depth_size;
#ifdef DEPTH_D24
highp float depth=unpack_depth(texture(u_depthTexture,coord).r);
#else
highp float depth=unpack_depth_rgba(texture(u_depthTexture,coord));
#endif
return v_depth > depth+0.0005;}
#endif
#define saturate(_x) clamp(_x,0.,1.)
vec3 linearTosRGB(vec3 color) {return pow(color,vec3(1./2.2));}vec3 sRGBToLinear(vec3 srgbIn) {return pow(srgbIn,vec3(2.2));}float calculate_NdotL(vec3 normal,vec3 lightDir) {const float ext=0.70710678118;return (clamp(dot(normal,lightDir),-ext,1.0)+ext)/(1.0+ext);}vec3 getDiffuseShadedColor(vec3 albedo,vec3 normal,vec3 lightDir,vec3 lightColor)
{
#ifdef LIGHTING_3D_MODE
vec3 transformed_normal=vec3(-normal.xy,normal.z);float lighting_factor;
#ifdef RENDER_SHADOWS
lighting_factor=shadowed_light_factor_normal(transformed_normal,v_pos_light_view_0,v_pos_light_view_1,v_depth_shadows);
#else
lighting_factor=saturate(dot(transformed_normal,u_lighting_directional_dir));
#endif
return apply_lighting(albedo,transformed_normal,lighting_factor);
#else
vec3 n=normal;float colorvalue=((albedo.x*0.2126)+(albedo.y*0.7152))+(albedo.z*0.0722);vec3 c=vec3(0.03,0.03,0.03);float directional=clamp(dot(n,vec3(lightDir)),0.0,1.0);directional=mix(1.0-u_lightintensity,max((1.0-colorvalue)+u_lightintensity,1.0),directional);vec3 c3=c+clamp((albedo*directional)*lightColor,mix(vec3(0.0),vec3(0.3),vec3(1.0)-lightColor),vec3(1.0));return c3;
#endif
}vec4 getBaseColor() {vec4 albedo=u_baseColorFactor;
#ifdef HAS_ATTRIBUTE_a_color_3f
albedo*=vec4(color_3f,1.0);
#endif
#ifdef HAS_ATTRIBUTE_a_pbr
#else
#ifdef HAS_ATTRIBUTE_a_color_4f
albedo*=color_4f;
#endif
#endif
#if defined (HAS_TEXTURE_u_baseColorTexture) && defined (HAS_ATTRIBUTE_a_uv_2f)
vec4 texColor=texture(u_baseColorTexture,uv_2f);if(u_alphaMask) {if (texColor.w < u_alphaCutoff) {discard;}}
#ifdef UNPREMULT_TEXTURE_IN_SHADER
if(texColor.w > 0.0) {texColor.rgb/=texColor.w;}texColor.w=1.0;
#endif
if(u_baseTextureIsAlpha) {if (texColor.r < 0.5) {discard;}} else {texColor.rgb=sRGBToLinear(texColor.rgb);albedo*=texColor;}
#endif
vec4 color=vec4(mix(albedo.rgb,v_color_mix.rgb,v_color_mix.a),albedo.a);
#ifdef APPLY_LUT_ON_GPU
color=applyLUT(u_lutTexture,color);
#endif
return color;}highp mat3 cotangentFrame(highp vec3 N,highp vec3 p,highp vec2 uv ) {
#ifdef HAS_TEXTURE_u_normalTexture
highp vec3 dp1=vec3(dFdx(p.x),dFdx(p.y),dFdx(p.z));highp vec3 dp2=vec3(dFdy(p.x),dFdy(p.y),dFdy(p.z));highp vec2 duv1=vec2(dFdx(uv.x),dFdx(uv.y));highp vec2 duv2=vec2(dFdy(uv.x),dFdy(uv.y));highp vec3 dp2perp=cross( dp2,N );highp vec3 dp1perp=cross( N,dp1 );highp vec3 T=dp2perp*duv1.x+dp1perp*duv2.x;highp vec3 B=dp2perp*duv1.y+dp1perp*duv2.y;highp float lengthT=dot(T,T);highp float lengthB=dot(B,B);highp float maxLength=max(lengthT,lengthB);highp float invmax=inversesqrt( maxLength );highp mat3 res=mat3( T*invmax,B*invmax,N );return res;
#else
return mat3(1.0);
#endif
}highp vec3 getNormal(){highp vec3 n;
#ifdef HAS_ATTRIBUTE_a_normal_3f
n=normalize(normal_3f);
#else
highp vec3 fdx=vec3(dFdx(v_position_height.x),dFdx(v_position_height.y),dFdx(v_position_height.z));highp vec3 fdy=vec3(dFdy(v_position_height.x),dFdy(v_position_height.y),dFdy(v_position_height.z));n=normalize(cross(fdx,fdy))*-1.0;
#endif
#if defined(HAS_TEXTURE_u_normalTexture) && defined(HAS_ATTRIBUTE_a_uv_2f)
vec3 nMap=texture( u_normalTexture,uv_2f).xyz;nMap=normalize(2.0*nMap-vec3(1.0));highp vec3 v=normalize(-v_position_height.xyz);highp mat3 TBN=cotangentFrame(n,v,uv_2f);n=normalize(TBN*nMap);
#endif
return n;}struct Material {float perceptualRoughness;float alphaRoughness;float metallic;vec3 f90;vec4 baseColor;vec3 diffuseColor;vec3 specularColor;highp vec3 normal;};Material getPBRMaterial() {Material mat;mat.baseColor=getBaseColor();mat.perceptualRoughness=u_roughnessFactor;mat.metallic=u_metallicFactor;
#ifdef HAS_ATTRIBUTE_a_pbr
mat.perceptualRoughness=v_roughness_metallic_emissive_alpha.x;mat.metallic=v_roughness_metallic_emissive_alpha.y;mat.baseColor.w*=v_roughness_metallic_emissive_alpha.w;
#endif
#if defined(HAS_TEXTURE_u_metallicRoughnessTexture) && defined(HAS_ATTRIBUTE_a_uv_2f) 
vec4 mrSample=texture(u_metallicRoughnessTexture,uv_2f);mat.perceptualRoughness*=mrSample.g;mat.metallic*=mrSample.b;
#endif
const float c_minRoughness=0.04;mat.perceptualRoughness=clamp(mat.perceptualRoughness,c_minRoughness,1.0);mat.metallic=saturate(mat.metallic);mat.alphaRoughness=mat.perceptualRoughness*mat.perceptualRoughness;const vec3 f0=vec3(0.04);mat.diffuseColor=mat.baseColor.rgb*(vec3(1.0)-f0);mat.diffuseColor*=1.0-mat.metallic;mat.specularColor=mix(f0,mat.baseColor.rgb,mat.metallic);highp float reflectance=max(max(mat.specularColor.r,mat.specularColor.g),mat.specularColor.b);highp float reflectance90=saturate(reflectance*25.0);mat.f90=vec3(reflectance90);mat.normal=getNormal();return mat;}float V_GGX(float NdotL,float NdotV,float roughness)
{float a2=roughness*roughness;float GGXV=NdotL*sqrt(NdotV*NdotV*(1.0-a2)+a2);float GGXL=NdotV*sqrt(NdotL*NdotL*(1.0-a2)+a2);return 0.5/(GGXV+GGXL);}float V_GGXFast(float NdotL,float NdotV,float roughness) {float a=roughness;float GGXV=NdotL*(NdotV*(1.0-a)+a);float GGXL=NdotV*(NdotL*(1.0-a)+a);return 0.5/(GGXV+GGXL);}vec3 F_Schlick(vec3 specularColor,vec3 f90,float VdotH)
{return specularColor+(f90-specularColor)*pow(clamp(1.0-VdotH,0.0,1.0),5.0);}vec3 F_SchlickFast(vec3 specularColor,float VdotH)
{float x=1.0-VdotH;float x4=x*x*x*x;return specularColor+(1.0-specularColor)*x4*x;}float D_GGX(highp float NdotH,float alphaRoughness)
{highp float a4=alphaRoughness*alphaRoughness;highp float f=(NdotH*a4-NdotH)*NdotH+1.0;return a4/(PI*f*f);}vec3 diffuseBurley(Material mat,float LdotH,float NdotL,float NdotV)
{float f90=2.0*LdotH*LdotH*mat.alphaRoughness-0.5;return (mat.diffuseColor/PI)*(1.0+f90*pow((1.0-NdotL),5.0))*(1.0+f90*pow((1.0-NdotV),5.0));}vec3 diffuseLambertian(Material mat)
{
#ifdef LIGHTING_3D_MODE
return mat.diffuseColor;
#else
return mat.diffuseColor/PI;
#endif
}vec3 EnvBRDFApprox(vec3 specularColor,float roughness,highp float NdotV)
{vec4 c0=vec4(-1,-0.0275,-0.572,0.022);vec4 c1=vec4(1,0.0425,1.04,-0.04);highp vec4 r=roughness*c0+c1;highp float a004=min(r.x*r.x,exp2(-9.28*NdotV))*r.x+r.y;vec2 AB=vec2(-1.04,1.04)*a004+r.zw;return specularColor*AB.x+AB.y;}vec3 computeIndirectLightContribution(Material mat,float NdotV,vec3 normal)
{vec3 env_light=vec3(0.65,0.65,0.65);
#ifdef LIGHTING_3D_MODE
float ambient_factor=calculate_ambient_directional_factor(normal);env_light=u_lighting_ambient_color*ambient_factor;
#endif
vec3 envBRDF=EnvBRDFApprox(mat.specularColor,mat.perceptualRoughness,NdotV);vec3 indirectSpecular= envBRDF*env_light;vec3 indirectDiffuse=mat.diffuseColor*env_light;return indirectSpecular+indirectDiffuse;}vec3 computeLightContribution(Material mat,vec3 lightPosition,vec3 lightColor)
{highp vec3 n=mat.normal;highp vec3 v=normalize(-v_position_height.xyz);highp vec3 l=normalize(lightPosition);highp vec3 h=normalize(v+l);float NdotV=clamp(abs(dot(n,v)),0.001,1.0);float NdotL=saturate(dot(n,l));highp float NdotH=saturate(dot(n,h));float VdotH=saturate(dot(v,h));vec3 f=F_SchlickFast(mat.specularColor,VdotH);float g=V_GGXFast(NdotL,NdotV,mat.alphaRoughness);float d=D_GGX(NdotH,mat.alphaRoughness);vec3 diffuseTerm=(1.0-f)*diffuseLambertian(mat);vec3 specularTerm=f*g*d;vec3 transformed_normal=vec3(-n.xy,n.z);float lighting_factor;
#ifdef RENDER_SHADOWS
lighting_factor=shadowed_light_factor_normal(transformed_normal,v_pos_light_view_0,v_pos_light_view_1,v_depth_shadows);
#else
lighting_factor=NdotL;
#endif
vec3 directLightColor=(specularTerm+diffuseTerm)*lighting_factor*lightColor;vec3 indirectLightColor=computeIndirectLightContribution(mat,NdotV,transformed_normal);vec3 color=(saturate(directLightColor)+indirectLightColor);float intensityFactor=1.0;
#if !defined(LIGHTING_3D_MODE)
const vec3 luminosityFactor=vec3(0.2126,0.7152,0.0722);float luminance=dot(diffuseTerm,luminosityFactor);intensityFactor=mix((1.0-u_lightintensity),max((1.0-luminance+u_lightintensity),1.0),NdotL);
#endif
color*=intensityFactor;return color;}void main() {
#ifdef TERRAIN_FRAGMENT_OCCLUSION
if (isOccluded()) {discard;}
#endif
vec3 lightDir=u_lightpos;vec3 lightColor=u_lightcolor;
#ifdef LIGHTING_3D_MODE
lightDir=u_lighting_directional_dir;lightDir.xy=-lightDir.xy;lightColor=u_lighting_directional_color;
#endif
vec4 finalColor;
#ifdef DIFFUSE_SHADED
vec3 N=getNormal();vec3 baseColor=getBaseColor().rgb;vec3 diffuse=getDiffuseShadedColor(baseColor,N,lightDir,lightColor);
#ifdef HAS_TEXTURE_u_occlusionTexture
float ao=(texture(u_occlusionTexture,uv_2f).r-1.0)*u_aoIntensity+1.0;diffuse*=ao;
#endif
finalColor=vec4(mix(diffuse,baseColor,u_emissive_strength),1.0)*u_opacity;
#else
Material mat=getPBRMaterial();vec3 color=computeLightContribution(mat,lightDir,lightColor);float ao=1.0;
#if defined (HAS_TEXTURE_u_occlusionTexture) && defined(HAS_ATTRIBUTE_a_uv_2f)
#ifdef OCCLUSION_TEXTURE_TRANSFORM
vec2 uv=uv_2f.xy*u_occlusionTextureTransform.zw+u_occlusionTextureTransform.xy;
#else
vec2 uv=uv_2f;
#endif
ao=(texture(u_occlusionTexture,uv).x-1.0)*u_aoIntensity+1.0;color*=ao;
#endif
vec4 emissive=u_emissiveFactor;
#if defined(HAS_TEXTURE_u_emissionTexture) && defined(HAS_ATTRIBUTE_a_uv_2f)
emissive.rgb*=sRGBToLinear(texture(u_emissionTexture,uv_2f).rgb);
#endif
#ifdef APPLY_LUT_ON_GPU
float emissiveFactorLength=max(length(u_emissiveFactor.rgb),0.001);emissive.rgb=sRGBToLinear(applyLUT(u_lutTexture,linearTosRGB(emissive.rgb/emissiveFactorLength).rbg))*emissiveFactorLength;
#endif
color+=emissive.rgb;float opacity=mat.baseColor.w*u_opacity;
#ifdef HAS_ATTRIBUTE_a_pbr
float resEmission=v_roughness_metallic_emissive_alpha.z;resEmission*=v_height_based_emission_params.z+v_height_based_emission_params.w*pow(clamp(v_height_based_emission_params.x,0.0,1.0),v_height_based_emission_params.y);vec3 color_mix=v_color_mix.rgb;
#ifdef APPLY_LUT_ON_GPU
color_mix=applyLUT(u_lutTexture,color_mix);
#endif
color=mix(color,color_mix,min(1.0,resEmission));
#ifdef HAS_ATTRIBUTE_a_color_4f
float distance=length(vec2(1.3*max(0.0,abs(color_4f.x)-color_4f.z),color_4f.y));distance+= mix(0.5,0.0,clamp(resEmission-1.0,0.0,1.0));opacity*=v_roughness_metallic_emissive_alpha.w*saturate(1.0-distance*distance);
#endif
#endif
vec3 unlitColor=mat.baseColor.rgb*ao+emissive.rgb;color=mix(color,unlitColor,u_emissive_strength);color=linearTosRGB(color);color*=opacity;finalColor=vec4(color,opacity);
#endif
#ifdef FOG
finalColor=fog_dither(fog_apply_premultiplied(finalColor,v_fog_pos,v_position_height.w));
#endif
#ifdef RENDER_CUTOFF
finalColor*=v_cutoff_opacity;
#endif
#ifdef INDICATOR_CUTOUT
finalColor=applyCutout(finalColor,v_position_height.w);
#endif
glFragColor=finalColor;
#ifdef OVERDRAW_INSPECTOR
glFragColor=vec4(1.0);
#endif
HANDLE_WIREFRAME_DEBUG;}`,`#include "_prelude_fog.vertex.glsl"
#include "_prelude_shadow.vertex.glsl"
in vec3 a_pos_3f;
#pragma mapbox: define-attribute highp vec3 normal_3f
#pragma mapbox: define-attribute highp vec2 uv_2f
#pragma mapbox: define-attribute highp vec3 color_3f
#pragma mapbox: define-attribute highp vec4 color_4f
#pragma mapbox: define-attribute-vertex-shader-only highp vec4 pbr
#pragma mapbox: define-attribute-vertex-shader-only highp vec3 heightBasedEmissiveStrength
uniform mat4 u_matrix;uniform mat4 u_node_matrix;uniform mat4 u_lighting_matrix;uniform vec3 u_camera_pos;uniform vec4 u_color_mix;
#ifdef INSTANCED_ARRAYS
in vec4 a_normal_matrix0;in vec4 a_normal_matrix1;in vec4 a_normal_matrix2;in vec4 a_normal_matrix3;
#else
uniform highp mat4 u_normal_matrix;
#endif
#ifdef RENDER_SHADOWS
uniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;out highp vec4 v_pos_light_view_0;out highp vec4 v_pos_light_view_1;out float v_depth_shadows;
#endif
out vec4 v_position_height;out lowp vec4 v_color_mix;
#ifdef TERRAIN_FRAGMENT_OCCLUSION
out highp float v_depth;
#endif
#ifdef HAS_ATTRIBUTE_a_pbr
out lowp vec4 v_roughness_metallic_emissive_alpha;out mediump vec4 v_height_based_emission_params;
#endif
vec3 sRGBToLinear(vec3 srgbIn) {return pow(srgbIn,vec3(2.2));}void main() {
#pragma mapbox: initialize-attribute highp vec3 normal_3f
#pragma mapbox: initialize-attribute highp vec2 uv_2f
#pragma mapbox: initialize-attribute highp vec3 color_3f
#pragma mapbox: initialize-attribute highp vec4 color_4f
#pragma mapbox: initialize-attribute-custom highp vec4 pbr
#pragma mapbox: initialize-attribute-custom highp vec3 heightBasedEmissiveStrength
highp mat4 normal_matrix;
#ifdef INSTANCED_ARRAYS
normal_matrix=mat4(a_normal_matrix0,a_normal_matrix1,a_normal_matrix2,a_normal_matrix3);
#else
normal_matrix=u_normal_matrix;
#endif
vec3 local_pos;mat3 rs;
#ifdef MODEL_POSITION_ON_GPU
vec3 pos_color=normal_matrix[0].xyz;vec4 translate=normal_matrix[1];vec3 pos_a=floor(pos_color);vec3 rgb=1.05*(pos_color-pos_a);float hidden=float(pos_a.x > EXTENT);float color_mix=pos_a.z/100.0;v_color_mix=vec4(sRGBToLinear(rgb),color_mix);float meter_to_tile=normal_matrix[0].w;vec4 pos=vec4(pos_a.xy,translate.z,1.0);rs[0].x=normal_matrix[1].w;rs[0].yz=normal_matrix[2].xy;rs[1].xy=normal_matrix[2].zw;rs[1].z=normal_matrix[3].x;rs[2].xyz=normal_matrix[3].yzw;vec4 pos_node=u_lighting_matrix*vec4(a_pos_3f,1.0);vec3 rotated_pos_node=rs*pos_node.xyz;vec3 pos_model_tile=(rotated_pos_node+vec3(translate.xy,0.0))*vec3(meter_to_tile,meter_to_tile,1.0);pos.xyz+=pos_model_tile;local_pos=pos.xyz;gl_Position=mix(u_matrix*pos,AWAY,hidden);pos.z*=meter_to_tile;v_position_height.xyz=pos.xyz-u_camera_pos;
#else
local_pos=a_pos_3f;gl_Position=u_matrix*vec4(a_pos_3f,1);v_position_height.xyz=vec3(u_lighting_matrix*vec4(a_pos_3f,1));v_color_mix=vec4(sRGBToLinear(u_color_mix.rgb),u_color_mix.a);
#endif
v_position_height.w=a_pos_3f.z;
#ifdef HAS_ATTRIBUTE_a_pbr
vec4 albedo_c=decode_color(pbr.xy);vec2 e_r_m=unpack_float(pbr.z);vec2 r_m= unpack_float(e_r_m.y*16.0);r_m.r=r_m.r*16.0;v_color_mix=vec4(albedo_c.rgb,1.0);v_roughness_metallic_emissive_alpha=vec4(vec3(r_m,e_r_m.x)/255.0,albedo_c.a);v_roughness_metallic_emissive_alpha.z*=2.0;float heightBasedRelativeIntepolation=a_pos_3f.z*heightBasedEmissiveStrength.x+heightBasedEmissiveStrength.y;v_height_based_emission_params.x=heightBasedRelativeIntepolation;v_height_based_emission_params.y=heightBasedEmissiveStrength.z;vec2 emissionMultiplierValues=unpack_float(pbr.w)/256.0;v_height_based_emission_params.z=emissionMultiplierValues.x;v_height_based_emission_params.w=emissionMultiplierValues.y-emissionMultiplierValues.x;
#endif
#ifdef FOG
v_fog_pos=fog_position(local_pos);
#endif
#ifdef RENDER_CUTOFF
v_cutoff_opacity=cutoff_opacity(u_cutoff_params,gl_Position.z);
#endif
#ifdef TERRAIN_FRAGMENT_OCCLUSION
v_depth=gl_Position.z/gl_Position.w;
#endif
#ifdef HAS_ATTRIBUTE_a_normal_3f
#ifdef MODEL_POSITION_ON_GPU
float x_squared_scale=dot(rs[0],rs[0]);float y_squared_scale=dot(rs[1],rs[1]);float z_squared_scale=dot(rs[2],rs[2]);vec3 squared_scale=vec3(x_squared_scale,y_squared_scale,z_squared_scale);normal_3f=rs*((u_lighting_matrix*vec4(normal_3f,0.0)).xyz/squared_scale);normal_3f=normalize(normal_3f);
#else
normal_3f=vec3(normal_matrix*vec4(normal_3f,0));
#endif
#endif
#ifdef HAS_ATTRIBUTE_a_pbr
#ifdef HAS_ATTRIBUTE_a_color_4f
v_roughness_metallic_emissive_alpha.w=clamp(color_4f.a*v_roughness_metallic_emissive_alpha.w*(v_roughness_metallic_emissive_alpha.z-1.0),0.0,1.0);
#endif
#endif
#ifdef RENDER_SHADOWS
vec4 shadow_pos=u_node_matrix*vec4(local_pos,1.0);
#ifdef NORMAL_OFFSET
#ifdef HAS_ATTRIBUTE_a_normal_3f
#ifdef MODEL_POSITION_ON_GPU
vec3 offset=shadow_normal_offset(vec3(-normal_3f.xy,normal_3f.z));shadow_pos.xyz+=offset*shadow_normal_offset_multiplier0();
#else
vec3 offset=shadow_normal_offset_model(normal_3f);shadow_pos.xyz+=offset*shadow_normal_offset_multiplier0();
#endif
#endif
#endif
v_pos_light_view_0=u_light_matrix_0*shadow_pos;v_pos_light_view_1=u_light_matrix_1*shadow_pos;v_depth_shadows=gl_Position.w;
#endif
}`),modelDepth:Ja(`in highp float v_depth;void main() {
#ifndef DEPTH_TEXTURE
glFragColor=pack_depth(v_depth);
#endif
}`,`in vec3 a_pos_3f;uniform mat4 u_matrix;out highp float v_depth;
#ifdef MODEL_POSITION_ON_GPU
#ifdef INSTANCED_ARRAYS
in vec4 a_normal_matrix0;in vec4 a_normal_matrix1;in vec4 a_normal_matrix2;in vec4 a_normal_matrix3;
#else
uniform highp mat4 u_instance;
#endif
uniform highp mat4 u_node_matrix;
#endif
void main() {
#ifdef MODEL_POSITION_ON_GPU
highp mat4 instance;
#ifdef INSTANCED_ARRAYS
instance=mat4(a_normal_matrix0,a_normal_matrix1,a_normal_matrix2,a_normal_matrix3);
#else
instance=u_instance;
#endif
vec3 pos_color=instance[0].xyz;vec4 translate=instance[1];vec3 pos_a=floor(pos_color);float hidden=float(pos_a.x > EXTENT);float meter_to_tile=instance[0].w;vec4 pos=vec4(pos_a.xy,translate.z,1.0);mat3 rs;rs[0].x=instance[1].w;rs[0].yz=instance[2].xy;rs[1].xy=instance[2].zw;rs[1].z=instance[3].x;rs[2].xyz=instance[3].yzw;vec4 pos_node=u_node_matrix*vec4(a_pos_3f,1.0);vec3 rotated_pos_node=rs*pos_node.xyz;vec3 pos_model_tile=(rotated_pos_node+vec3(translate.xy,0.0))*vec3(meter_to_tile,meter_to_tile,1.0);pos.xyz+=pos_model_tile;gl_Position=mix(u_matrix*pos,AWAY,hidden);
#else
gl_Position=u_matrix*vec4(a_pos_3f,1);
#endif
v_depth=gl_Position.z/gl_Position.w;}`),stars:Ja(`in highp vec2 v_uv;in mediump float v_intensity;float shapeCircle(in vec2 uv)
{float beginFade=0.6;float lengthFromCenter=length(v_uv);return 1.0-clamp((lengthFromCenter-beginFade)/(1.0-beginFade),0.0,1.0);}void main() {float alpha=shapeCircle(v_uv);vec3 color=vec3(1.0,1.0,1.0);alpha*=v_intensity;glFragColor=vec4(color*alpha,alpha);HANDLE_WIREFRAME_DEBUG;}`,`
in vec3 a_pos_3f;in vec2 a_uv;in float a_size_scale;in float a_fade_opacity;uniform mat4 u_matrix;uniform vec3 u_up;uniform vec3 u_right;uniform float u_intensity_multiplier;out highp vec2 v_uv;out mediump float v_intensity;void main() {v_uv=a_uv;v_intensity=a_fade_opacity*u_intensity_multiplier;vec3 pos=a_pos_3f;pos+=a_uv.x*u_right*a_size_scale;pos+=a_uv.y*u_up*a_size_scale;gl_Position=u_matrix*vec4(pos,1.0);}`),snowParticle:Ja("in highp vec2 uv;in highp float alphaMultiplier;uniform vec4 u_particleColor;uniform vec2 u_simpleShapeParameters;void main() {float t=clamp((length(uv)-u_simpleShapeParameters.x)/(1.0-u_simpleShapeParameters.x),0.0,1.0);float alpha=1.0-pow(t,pow(10.0,u_simpleShapeParameters.y));alpha*=alphaMultiplier;alpha*=u_particleColor.a;vec3 color=u_particleColor.rgb*alpha;glFragColor=vec4(color,alpha) ;HANDLE_WIREFRAME_DEBUG;}",`
in highp vec3 a_pos_3f;in highp vec2 a_uv;in highp vec4 a_snowParticleData;in highp vec4 a_snowParticleDataHorizontalOscillation;uniform mat4 u_modelview;uniform mat4 u_projection;uniform vec3 u_cam_pos;uniform vec2 u_screenSize;uniform float u_time;uniform float u_boxSize;uniform float u_velocityConeAperture; 
uniform float u_velocity;uniform vec3 u_direction;uniform float u_horizontalOscillationRadius; 
uniform float u_horizontalOscillationRate; 
uniform float u_billboardSize;uniform vec2 u_thinningCenterPos;uniform vec3 u_thinningShape;uniform float u_thinningAffectedRatio;uniform float u_thinningParticleOffset;out highp vec2 uv;out highp float alphaMultiplier;void main() {vec3 pos=a_pos_3f;float halfBoxSize=0.5*u_boxSize;pos.xyz*=halfBoxSize;pos+=u_cam_pos;float velocityConeApertureRad=radians(u_velocityConeAperture*0.5);float coneAnglePichRad=velocityConeApertureRad*a_snowParticleData.z;float coneAngleHeadingRad=a_snowParticleData.w*radians(360.0);vec3 localZ=normalize(u_direction);vec3 localX=normalize(cross(localZ,vec3(1,0,0)));vec3 localY=normalize(cross(localZ,localX));vec3 direction;direction.x=cos(coneAngleHeadingRad)*sin(coneAnglePichRad);direction.y=sin(coneAngleHeadingRad)*sin(coneAnglePichRad);direction.z=cos(coneAnglePichRad);direction=normalize(direction);vec3 simPosLocal=vec3(0,0,0);float velocityScale=(1.0+3.0*a_snowParticleData.y)*u_velocity;simPosLocal+=direction*velocityScale*u_time;float horizontalOscillationRadius=u_horizontalOscillationRadius*a_snowParticleDataHorizontalOscillation.x;float horizontalOscillationAngle=u_horizontalOscillationRate*u_time*(-1.0+2.0*a_snowParticleDataHorizontalOscillation.y);simPosLocal.xy+=horizontalOscillationRadius*vec2(cos(horizontalOscillationAngle),sin(horizontalOscillationAngle));vec3 simPos=localX*simPosLocal.x+
localY*simPosLocal.y+localZ*simPosLocal.z;pos+=simPos;pos=fract((pos+vec3(halfBoxSize))/vec3(u_boxSize))*u_boxSize-vec3(halfBoxSize);float clipZ=-u_cam_pos.z+pos.z;vec4 posView=u_modelview*vec4(pos,1.0);float size=u_billboardSize;alphaMultiplier=1.0;vec4 posScreen=u_projection*posView;posScreen/=posScreen.w;posScreen.xy=vec2(0.5)+posScreen.xy*0.5;posScreen.xy*=u_screenSize;vec2 thinningCenterPos=u_thinningCenterPos.xy;thinningCenterPos.y=u_screenSize.y-thinningCenterPos.y;float screenDist=length((thinningCenterPos-posScreen.xy)/(0.5*u_screenSize));screenDist+=a_snowParticleData.x*u_thinningParticleOffset;float scaleFactorMode=0.0;float thinningShapeDist=u_thinningShape.x+u_thinningShape.y;if (screenDist < thinningShapeDist) {float thinningFadeRatio=clamp((screenDist-u_thinningShape.x)/u_thinningShape.y,0.0,1.0);thinningFadeRatio=pow(thinningFadeRatio,u_thinningShape.z);if (a_snowParticleData.x < u_thinningAffectedRatio) {scaleFactorMode=1.0-thinningFadeRatio;alphaMultiplier=thinningFadeRatio;}}vec4 posScreen1=u_projection*vec4(posView.x-size,posView.yzw);posScreen1/=posScreen1.w;vec4 posScreen2=u_projection*vec4(posView.x+size,posView.yzw);posScreen2/=posScreen2.w;posScreen1.xy=vec2(0.5)+posScreen1.xy*0.5;posScreen1.xy*=u_screenSize;posScreen2.xy=vec2(0.5)+posScreen2.xy*0.5;posScreen2.xy*=u_screenSize;float screenLength=length(posScreen1.xy-posScreen2.xy);float screenEpsilon=3.0;float scaleFactor=1.0;if (screenLength < screenEpsilon) {scaleFactor=screenEpsilon/max(screenLength,0.01);scaleFactor=mix(scaleFactor,1.0,scaleFactorMode);}float screenEpsilon2=15.0;if (screenLength > screenEpsilon2) {scaleFactor=screenEpsilon2/max(screenLength,0.01);}size*=scaleFactor;vec2 right=size*vec2(1,0);vec2 up=size*vec2(0,1);posView.xy+=right*a_uv.x;posView.xy+=up*a_uv.y;uv=a_uv;gl_Position=u_projection*posView;}`),rainParticle:Ja("in highp vec2 uv;in highp float particleRandomValue;uniform sampler2D u_texScreen;uniform float u_distortionStrength;uniform vec4 u_color;uniform vec2 u_thinningCenterPos;uniform vec3 u_thinningShape;uniform float u_thinningAffectedRatio;uniform float u_thinningParticleOffset;uniform float u_shapeDirectionalPower;uniform float u_mode;void main() {vec2 st=uv*0.5+vec2(0.5);vec2 uvm=uv;uvm.y=-1.0+2.0*pow(st.y,u_shapeDirectionalPower);float shape=clamp(1.0-length(uvm),0.0,1.0);float alpha=abs(shape)*u_color.a;vec2 screenSize=vec2(textureSize(u_texScreen,0));vec2 thinningCenterPos=u_thinningCenterPos.xy;thinningCenterPos.y=screenSize.y-thinningCenterPos.y;float screenDist=length((thinningCenterPos-gl_FragCoord.xy)/(0.5*screenSize));screenDist+=(0.5+0.5*particleRandomValue)*u_thinningParticleOffset;float thinningShapeDist=u_thinningShape.x+u_thinningShape.y;float thinningAlpha=1.0;if (screenDist < thinningShapeDist) {float thinningFadeRatio=clamp((screenDist-u_thinningShape.x)/u_thinningShape.y,0.0,1.0);thinningFadeRatio=pow(thinningFadeRatio,u_thinningShape.z);thinningAlpha*=thinningFadeRatio;}vec2 offsetXY=normalize(uvm)*abs(shape);vec2 stScreen=(gl_FragCoord.xy+offsetXY*u_distortionStrength*thinningAlpha)/screenSize;vec3 colorScreen=texture(u_texScreen,stScreen).rgb;alpha*=thinningAlpha;glFragColor=mix(vec4(colorScreen,1.0),vec4(u_color.rgb*alpha,alpha),u_mode);HANDLE_WIREFRAME_DEBUG;}",`
in highp vec3 a_pos_3f;in highp vec2 a_uv;in highp vec4 a_rainParticleData;uniform mat4 u_modelview;uniform mat4 u_projection;uniform vec3 u_cam_pos;uniform float u_time;uniform float u_boxSize;uniform float u_velocityConeAperture; 
uniform float u_velocity; 
uniform vec2 u_rainDropletSize;uniform vec3 u_rainDirection;out highp vec2 uv;out highp float particleRandomValue;void main() {vec3 pos=a_pos_3f;float halfBoxSize=0.5*u_boxSize;pos*=halfBoxSize; 
pos+=u_cam_pos;float velocityConeApertureRad=radians(u_velocityConeAperture*0.5);float coneAnglePichRad=velocityConeApertureRad*a_rainParticleData.z;float coneAngleHeadingRad=a_rainParticleData.w*radians(360.0);vec3 localZ=normalize(u_rainDirection);vec3 localX=normalize(cross(localZ,vec3(1,0,0)));vec3 localY=normalize(cross(localZ,localX));vec3 directionLocal;directionLocal.x=cos(coneAngleHeadingRad)*sin(coneAnglePichRad);directionLocal.y=sin(coneAngleHeadingRad)*sin(coneAnglePichRad);directionLocal.z=cos(coneAnglePichRad);directionLocal=normalize(directionLocal);vec3 directionWorld=localX*directionLocal.x+localY*directionLocal.y+localZ*directionLocal.z;float velocityScale=(1.0+3.0*a_rainParticleData.y)*u_velocity;vec3 simPosLocal=vec3(0,0,0);simPosLocal+=directionLocal*velocityScale*u_time;vec3 simPos=localX*simPosLocal.x+
localY*simPosLocal.y+localZ*simPosLocal.z;pos+=simPos;pos=fract((pos+vec3(halfBoxSize))/vec3(u_boxSize))*u_boxSize-vec3(halfBoxSize);vec4 posView=u_modelview*vec4(pos,1.0);vec3 directionView=normalize((u_modelview*vec4(directionWorld,0.0)).xyz);vec3 side=cross(directionView,normalize(posView.xyz));posView.xyz+=side*a_uv.x*u_rainDropletSize.x;posView.xyz+=directionView*a_uv.y*u_rainDropletSize.y;uv=a_uv;particleRandomValue=a_rainParticleData.x;gl_Position=u_projection*posView;}`),vignette:Ja("uniform vec3 u_vignetteShape;uniform vec4 u_vignetteColor;in vec2 st;void main() {float screenDist=length(st);float alpha=clamp((screenDist-u_vignetteShape.x)/u_vignetteShape.y,0.0,1.0);alpha=pow(alpha,u_vignetteShape.z)*u_vignetteColor.a;vec3 color=u_vignetteColor.rgb;glFragColor=vec4(color*alpha,alpha) ;}","in vec2 a_pos_2f;out vec2 st;void main() {st=a_pos_2f;gl_Position=vec4(a_pos_2f,0,1);}"),occlusion:Ja("uniform vec4 u_color;void main() {glFragColor=u_color;}",`#include "_prelude_terrain.vertex.glsl"
in highp vec2 a_offset_xy;uniform highp vec3 u_anchorPos;uniform mat4 u_matrix;uniform vec2 u_screenSizePx;uniform vec2 u_occluderSizePx;void main() {vec3 world_pos=u_anchorPos;
#ifdef TERRAIN
float e=elevation(world_pos.xy);world_pos.z+=e;
#endif
vec4 projected_point=u_matrix*vec4(world_pos,1.0);projected_point.xy+=projected_point.w*a_offset_xy*0.5*u_occluderSizePx/u_screenSizePx;gl_Position=projected_point;}`)};function Wl(p,r){const l=p.replace(/\s*\/\/[^\n]*\n/g,`
`).split(`
`);for(let m of l)if(m=m.trim(),m[0]==="#"&&m.includes("if")&&!m.includes("endif")){m=m.replace("#","").replace(/ifdef|ifndef|elif|if/g,"").replace(/!|defined|\(|\)|\|\||&&/g,"").replace(/\s+/g," ").trim();const _=m.split(" ");for(const x of _)r.includes(x)||r.push(x)}}function Ja(p,r){const l=/#include\s+"([^"]+)"/g,m=/#pragma mapbox: ([\w\-]+) ([\w]+) ([\w]+) ([\w]+)/g;let _=r.match(/(attribute(\S*)|(^\s*|;)in) (highp |mediump |lowp )?([\w]+) ([\w]+)/gm);_&&(_=_.map(V=>{const U=V.split(" ");return U[U.length-1]}),_=[...new Set(_)]);const x={},E=[],R=[];if(p=p.replace(l,(V,U)=>(R.push(U),"")),(r=r.replace(l,(V,U)=>(E.push(U),""))).includes("flat out"))return void console.error('The usage of "flat" qualifier is disallowed, see: https://bugs.webkit.org/show_bug.cgi?id=268071');let F=[...rc];Wl(p,F),Wl(r,F);for(const V of[...E,...R])Ul[V]||console.error(`Undefined include: ${V}`),ac[V]||(ac[V]=[],Wl(Ul[V],ac[V])),F=[...F,...ac[V]];return{fragmentSource:p=p.replace(m,(V,U,Q,ee,ce)=>(x[ce]=!0,U==="define"?`
#ifndef HAS_UNIFORM_u_${ce}
in ${Q} ${ee} ${ce};
#else
uniform ${Q} ${ee} u_${ce};
#endif
`:U==="initialize"?`
#ifdef HAS_UNIFORM_u_${ce}
    ${Q} ${ee} ${ce} = u_${ce};
#endif
`:U==="define-attribute"?`
#ifdef HAS_ATTRIBUTE_a_${ce}
    in ${Q} ${ee} ${ce};
#endif
`:U==="initialize-attribute"?"":void 0)),vertexSource:r=r.replace(m,(V,U,Q,ee,ce)=>{const Pe=ee==="float"?"vec2":ee,Se=ce.match(/color/)?"color":Pe;return U==="define-attribute-vertex-shader-only"?`
#ifdef HAS_ATTRIBUTE_a_${ce}
in ${Q} ${ee} a_${ce};
#endif
`:x[ce]?U==="define"?`
#ifndef HAS_UNIFORM_u_${ce}
uniform lowp float u_${ce}_t;
in ${Q} ${Pe} a_${ce};
out ${Q} ${ee} ${ce};
#else
uniform ${Q} ${ee} u_${ce};
#endif
`:U==="initialize"?Se==="vec4"?`
#ifndef HAS_UNIFORM_u_${ce}
    ${ce} = a_${ce};
#else
    ${Q} ${ee} ${ce} = u_${ce};
#endif
`:`
#ifndef HAS_UNIFORM_u_${ce}
    ${ce} = unpack_mix_${Se}(a_${ce}, u_${ce}_t);
#else
    ${Q} ${ee} ${ce} = u_${ce};
#endif
`:U==="define-attribute"?`
#ifdef HAS_ATTRIBUTE_a_${ce}
    in ${Q} ${ee} a_${ce};
    out ${Q} ${ee} ${ce};
#endif
`:U==="initialize-attribute"?`
#ifdef HAS_ATTRIBUTE_a_${ce}
    ${ce} = a_${ce};
#endif
`:void 0:U==="define"?`
#ifndef HAS_UNIFORM_u_${ce}
uniform lowp float u_${ce}_t;
in ${Q} ${Pe} a_${ce};
#else
uniform ${Q} ${ee} u_${ce};
#endif
`:U==="define-instanced"?Se==="mat4"?`
#ifdef INSTANCED_ARRAYS
in vec4 a_${ce}0;
in vec4 a_${ce}1;
in vec4 a_${ce}2;
in vec4 a_${ce}3;
#else
uniform ${Q} ${ee} u_${ce};
#endif
`:`
#ifdef INSTANCED_ARRAYS
in ${Q} ${Pe} a_${ce};
#else
uniform ${Q} ${ee} u_${ce};
#endif
`:U==="initialize-attribute-custom"?`
#ifdef HAS_ATTRIBUTE_a_${ce}
    ${Q} ${ee} ${ce} = a_${ce};
#endif
`:Se==="vec4"?`
#ifndef HAS_UNIFORM_u_${ce}
    ${Q} ${ee} ${ce} = a_${ce};
#else
    ${Q} ${ee} ${ce} = u_${ce};
#endif
`:`
#ifndef HAS_UNIFORM_u_${ce}
    ${Q} ${ee} ${ce} = unpack_mix_${Se}(a_${ce}, u_${ce}_t);
#else
    ${Q} ${ee} ${ce} = u_${ce};
#endif
`}),staticAttributes:_,usedDefines:F,vertexIncludes:E,fragmentIncludes:R}}class ep{constructor(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffers=[],this.vao=null}bind(r,l,m,_,x,E,R,F){this.context=r;let V=this.boundPaintVertexBuffers.length!==_.length;for(let Q=0;!V&&Q<_.length;Q++)this.boundPaintVertexBuffers[Q]!==_[Q]&&(V=!0);let U=this.boundDynamicVertexBuffers.length!==R.length;for(let Q=0;!U&&Q<R.length;Q++)this.boundDynamicVertexBuffers[Q]!==R[Q]&&(U=!0);if(!this.vao||this.boundProgram!==l||this.boundLayoutVertexBuffer!==m||V||U||this.boundIndexBuffer!==x||this.boundVertexOffset!==E)this.freshBind(l,m,_,x,E,R,F);else{r.bindVertexArrayOES.set(this.vao);for(const Q of R)Q&&(Q.bind(),F&&Q.instanceCount&&Q.setVertexAttribDivisor(r.gl,l,F));x&&x.dynamicDraw&&x.bind()}}freshBind(r,l,m,_,x,E,R){const F=r.numAttributes,V=this.context,U=V.gl;this.vao&&this.destroy(),this.vao=V.gl.createVertexArray(),V.bindVertexArrayOES.set(this.vao),this.boundProgram=r,this.boundLayoutVertexBuffer=l,this.boundPaintVertexBuffers=m,this.boundIndexBuffer=_,this.boundVertexOffset=x,this.boundDynamicVertexBuffers=E,l.enableAttributes(U,r),l.bind(),l.setVertexAttribPointers(U,r,x);for(const Q of m)Q.enableAttributes(U,r),Q.bind(),Q.setVertexAttribPointers(U,r,x);for(const Q of E)Q&&(Q.enableAttributes(U,r),Q.bind(),Q.setVertexAttribPointers(U,r,x),R&&Q.instanceCount&&Q.setVertexAttribDivisor(U,r,R));_&&_.bind(),V.currentNumAttributes=F}destroy(){this.vao&&(this.context.gl.deleteVertexArray(this.vao),this.vao=null)}}function jd(p,r){const l=Math.pow(2,r.canonical.z),m=r.canonical.y;return[new c.aa(0,m/l).toLngLat().lat,new c.aa(0,(m+1)/l).toLngLat().lat]}function sh(p,r,l,m,_,x,E){const R=p.context,F=R.gl,V=l.hillshadeFBO;if(!V)return;p.prepareDrawTile();const U=p.isTileAffectedByFog(r),Q=p.getOrCreateProgram("hillshade",{overrideFog:U});R.activeTexture.set(F.TEXTURE0),F.bindTexture(F.TEXTURE_2D,V.colorAttachment.get());const ee=((ze,Le,st,St)=>{const xt=st.paint.get("hillshade-shadow-color"),Wt=st.paint.get("hillshade-shadow-color-use-theme").constantOr("default")==="none",zt=st.paint.get("hillshade-highlight-color"),kt=st.paint.get("hillshade-highlight-color-use-theme").constantOr("default")==="none",Lt=st.paint.get("hillshade-accent-color"),cn=st.paint.get("hillshade-accent-color-use-theme").constantOr("default")==="none",Tn=st.paint.get("hillshade-emissive-strength");let hr=c.ai(st.paint.get("hillshade-illumination-direction"));if(st.paint.get("hillshade-illumination-anchor")==="viewport")hr-=ze.transform.angle;else if(ze.style&&ze.style.enable3dLights()&&ze.style.directionalLight){const jr=ze.style.directionalLight.properties.get("direction"),Br=c.cb(jr.x,jr.y,jr.z);hr=c.ai(Br[1])}const nr=!ze.options.moving;return{u_matrix:St||ze.transform.calculateProjMatrix(Le.tileID.toUnwrapped(),nr),u_image:0,u_latrange:jd(0,Le.tileID),u_light:[st.paint.get("hillshade-exaggeration"),hr],u_shadow:xt.toRenderColor(Wt?null:st.lut),u_highlight:zt.toRenderColor(kt?null:st.lut),u_emissive_strength:Tn,u_accent:Lt.toRenderColor(cn?null:st.lut)}})(p,l,m,p.terrain?r.projMatrix:null);p.uploadCommonUniforms(R,Q,r.toUnwrapped());const{tileBoundsBuffer:ce,tileBoundsIndexBuffer:Pe,tileBoundsSegments:Se}=p.getTileBoundsBuffers(l);Q.draw(p,F.TRIANGLES,_,x,E,sa.disabled,ee,m.id,ce,Pe,Se)}function ym(p,r,l){if(!r.needsDEMTextureUpload)return;const m=p.context,_=m.gl;m.pixelStoreUnpackPremultiplyAlpha.set(!1),r.demTexture=r.demTexture||p.getTileTexture(l.stride);const x=l.getPixels();r.demTexture?r.demTexture.update(x,{premultiply:!1}):r.demTexture=new c.T(m,x,_.R32F,{premultiply:!1}),r.needsDEMTextureUpload=!1}function Hu(p,r,l){const m=p.context,_=m.gl;if(!r.dem)return;const x=r.dem;if(m.activeTexture.set(_.TEXTURE1),ym(p,r,x),!r.demTexture)return;r.demTexture.bind(_.NEAREST,_.CLAMP_TO_EDGE);const E=x.dim;m.activeTexture.set(_.TEXTURE0);let R=r.hillshadeFBO;if(!R){const ee=new c.T(m,{width:E,height:E,data:null},_.RGBA8);ee.bind(_.LINEAR,_.CLAMP_TO_EDGE),R=r.hillshadeFBO=m.createFramebuffer(E,E,!0,"renderbuffer"),R.colorAttachment.set(ee.texture)}m.bindFramebuffer.set(R.framebuffer),m.viewport.set([0,0,E,E]);const{tileBoundsBuffer:F,tileBoundsIndexBuffer:V,tileBoundsSegments:U}=p.getMercatorTileBoundsBuffers(),Q=[];p.linearFloatFilteringSupported()&&Q.push("TERRAIN_DEM_FLOAT_FORMAT"),p.getOrCreateProgram("hillshadePrepare",{defines:Q}).draw(p,_.TRIANGLES,jo.disabled,ea.disabled,ia.unblended,sa.disabled,((ee,ce)=>{const Pe=ce.stride,Se=c.ab.mat4.create();return c.ab.mat4.ortho(Se,0,c.ag,-c.ag,0,0,1),c.ab.mat4.translate(Se,Se,[0,-c.ag,0]),{u_matrix:Se,u_image:1,u_dimension:[Pe,Pe],u_zoom:ee.overscaledZ}})(r.tileID,x),l.id,F,V,U),r.needsHillshadePrepare=!1}class Zs{constructor(r){this.gl=r.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1}get(){return this.current}set(r){}getDefault(){return this.default}setDefault(){this.set(this.default)}}class md extends Zs{getDefault(){return c.aj.transparent}set(r){const l=this.current;(r.r!==l.r||r.g!==l.g||r.b!==l.b||r.a!==l.a||this.dirty)&&(this.gl.clearColor(r.r,r.g,r.b,r.a),this.current=r,this.dirty=!1)}}class lh extends Zs{getDefault(){return 1}set(r){(r!==this.current||this.dirty)&&(this.gl.clearDepth(r),this.current=r,this.dirty=!1)}}class uu extends Zs{getDefault(){return 0}set(r){(r!==this.current||this.dirty)&&(this.gl.clearStencil(r),this.current=r,this.dirty=!1)}}class xf extends Zs{getDefault(){return[!0,!0,!0,!0]}set(r){const l=this.current;(r[0]!==l[0]||r[1]!==l[1]||r[2]!==l[2]||r[3]!==l[3]||this.dirty)&&(this.gl.colorMask(r[0],r[1],r[2],r[3]),this.current=r,this.dirty=!1)}}class Vd extends Zs{getDefault(){return!0}set(r){(r!==this.current||this.dirty)&&(this.gl.depthMask(r),this.current=r,this.dirty=!1)}}class ch extends Zs{getDefault(){return 255}set(r){(r!==this.current||this.dirty)&&(this.gl.stencilMask(r),this.current=r,this.dirty=!1)}}class Cf extends Zs{getDefault(){return{func:this.gl.ALWAYS,ref:0,mask:255}}set(r){const l=this.current;(r.func!==l.func||r.ref!==l.ref||r.mask!==l.mask||this.dirty)&&(this.gl.stencilFunc(r.func,r.ref,r.mask),this.current=r,this.dirty=!1)}}class Uu extends Zs{getDefault(){const r=this.gl;return[r.KEEP,r.KEEP,r.KEEP]}set(r){const l=this.current;(r[0]!==l[0]||r[1]!==l[1]||r[2]!==l[2]||this.dirty)&&(this.gl.stencilOp(r[0],r[1],r[2]),this.current=r,this.dirty=!1)}}class Hd extends Zs{getDefault(){return!1}set(r){if(r===this.current&&!this.dirty)return;const l=this.gl;r?l.enable(l.STENCIL_TEST):l.disable(l.STENCIL_TEST),this.current=r,this.dirty=!1}}class du extends Zs{getDefault(){return[0,1]}set(r){const l=this.current;(r[0]!==l[0]||r[1]!==l[1]||this.dirty)&&(this.gl.depthRange(r[0],r[1]),this.current=r,this.dirty=!1)}}class xc extends Zs{getDefault(){return!1}set(r){if(r===this.current&&!this.dirty)return;const l=this.gl;r?l.enable(l.DEPTH_TEST):l.disable(l.DEPTH_TEST),this.current=r,this.dirty=!1}}class Sf extends Zs{getDefault(){return this.gl.LESS}set(r){(r!==this.current||this.dirty)&&(this.gl.depthFunc(r),this.current=r,this.dirty=!1)}}class Ud extends Zs{getDefault(){return!1}set(r){if(r===this.current&&!this.dirty)return;const l=this.gl;r?l.enable(l.BLEND):l.disable(l.BLEND),this.current=r,this.dirty=!1}}class Wd extends Zs{getDefault(){const r=this.gl;return[r.ONE,r.ZERO,r.ONE,r.ZERO]}set(r){const l=this.current;(r[0]!==l[0]||r[1]!==l[1]||r[2]!==l[2]||r[3]!==l[3]||this.dirty)&&(this.gl.blendFuncSeparate(r[0],r[1],r[2],r[3]),this.current=r,this.dirty=!1)}}class uh extends Zs{getDefault(){return c.aj.transparent}set(r){const l=this.current;(r.r!==l.r||r.g!==l.g||r.b!==l.b||r.a!==l.a||this.dirty)&&(this.gl.blendColor(r.r,r.g,r.b,r.a),this.current=r,this.dirty=!1)}}class dh extends Zs{getDefault(){return this.gl.FUNC_ADD}set(r){(r!==this.current||this.dirty)&&(this.gl.blendEquationSeparate(r,r),this.current=r,this.dirty=!1)}}class Gd extends Zs{getDefault(){return!1}set(r){if(r===this.current&&!this.dirty)return;const l=this.gl;r?l.enable(l.CULL_FACE):l.disable(l.CULL_FACE),this.current=r,this.dirty=!1}}class tp extends Zs{getDefault(){return this.gl.BACK}set(r){(r!==this.current||this.dirty)&&(this.gl.cullFace(r),this.current=r,this.dirty=!1)}}class fu extends Zs{getDefault(){return this.gl.CCW}set(r){(r!==this.current||this.dirty)&&(this.gl.frontFace(r),this.current=r,this.dirty=!1)}}let Kd=class extends Zs{getDefault(){return null}set(p){(p!==this.current||this.dirty)&&(this.gl.useProgram(p),this.current=p,this.dirty=!1)}};class np extends Zs{getDefault(){return this.gl.TEXTURE0}set(r){(r!==this.current||this.dirty)&&(this.gl.activeTexture(r),this.current=r,this.dirty=!1)}}class fh extends Zs{getDefault(){const r=this.gl;return[0,0,r.drawingBufferWidth,r.drawingBufferHeight]}set(r){const l=this.current;(r[0]!==l[0]||r[1]!==l[1]||r[2]!==l[2]||r[3]!==l[3]||this.dirty)&&(this.gl.viewport(r[0],r[1],r[2],r[3]),this.current=r,this.dirty=!1)}}class Wu extends Zs{getDefault(){return null}set(r){if(r===this.current&&!this.dirty)return;const l=this.gl;l.bindFramebuffer(l.FRAMEBUFFER,r),this.current=r,this.dirty=!1}}class wf extends Zs{getDefault(){return null}set(r){if(r===this.current&&!this.dirty)return;const l=this.gl;l.bindRenderbuffer(l.RENDERBUFFER,r),this.current=r,this.dirty=!1}}class Ug extends Zs{getDefault(){return null}set(r){if(r===this.current&&!this.dirty)return;const l=this.gl;l.bindTexture(l.TEXTURE_2D,r),this.current=r,this.dirty=!1}}class rp extends Zs{getDefault(){return null}set(r){if(r===this.current&&!this.dirty)return;const l=this.gl;l.bindBuffer(l.ARRAY_BUFFER,r),this.current=r,this.dirty=!1}}class ip extends Zs{getDefault(){return null}set(r){const l=this.gl;l.bindBuffer(l.ELEMENT_ARRAY_BUFFER,r),this.current=r,this.dirty=!1}}class _m extends Zs{getDefault(){return null}set(r){this.gl&&(r!==this.current||this.dirty)&&(this.gl.bindVertexArray(r),this.current=r,this.dirty=!1)}}class hh extends Zs{getDefault(){return 4}set(r){if(r===this.current&&!this.dirty)return;const l=this.gl;l.pixelStorei(l.UNPACK_ALIGNMENT,r),this.current=r,this.dirty=!1}}class Ef extends Zs{getDefault(){return!1}set(r){if(r===this.current&&!this.dirty)return;const l=this.gl;l.pixelStorei(l.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r),this.current=r,this.dirty=!1}}class If extends Zs{getDefault(){return!1}set(r){if(r===this.current&&!this.dirty)return;const l=this.gl;l.pixelStorei(l.UNPACK_FLIP_Y_WEBGL,r),this.current=r,this.dirty=!1}}class Tf extends Zs{constructor(r,l){super(r),this.context=r,this.parent=l}getDefault(){return null}}class In extends Tf{setDirty(){this.dirty=!0}set(r){if(r===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const l=this.gl;l.framebufferTexture2D(l.FRAMEBUFFER,l.COLOR_ATTACHMENT0,l.TEXTURE_2D,r,0),this.current=r,this.dirty=!1}}class Vr extends Tf{attachment(){return this.gl.DEPTH_ATTACHMENT}set(r){if(r===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const l=this.gl;l.framebufferRenderbuffer(l.FRAMEBUFFER,this.attachment(),l.RENDERBUFFER,r),this.current=r,this.dirty=!1}}class so extends Tf{attachment(){return this.gl.DEPTH_ATTACHMENT}set(r){if(r===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const l=this.gl;l.framebufferTexture2D(l.FRAMEBUFFER,this.attachment(),l.TEXTURE_2D,r,0),this.current=r,this.dirty=!1}}class ya extends Vr{attachment(){return this.gl.DEPTH_STENCIL_ATTACHMENT}}const tl=(p,r,l)=>({u_matrix:p,u_image0:0,u_skirt_height:r,u_ground_shadow_factor:l}),os=(p,r,l,m,_,x,E,R,F,V,U,Q,ee,ce,Pe,Se)=>({u_proj_matrix:Float32Array.from(p),u_globe_matrix:r,u_normalize_matrix:Float32Array.from(m),u_merc_matrix:l,u_zoom_transition:_,u_merc_center:x,u_image0:0,u_frustum_tl:E,u_frustum_tr:R,u_frustum_br:F,u_frustum_bl:V,u_globe_pos:U,u_globe_radius:Q,u_viewport:ee,u_grid_matrix:Se?Float32Array.from(Se):new Float32Array(9),u_skirt_height:ce,u_far_z_cutoff:Pe});function gl(p,r){return p!=null&&r!=null&&!(!p.hasData()||!r.hasData())&&p.demTexture!=null&&r.demTexture!=null&&p.tileID.key!==r.tileID.key}const Ys=new class{constructor(){this.operations={}}newMorphing(p,r,l,m,_){if(p in this.operations){const x=this.operations[p];x.to.tileID.key!==l.tileID.key&&(x.queued=l)}else this.operations[p]={startTime:m,phase:0,duration:_,from:r,to:l,queued:null}}getMorphValuesForProxy(p){if(!(p in this.operations))return null;const r=this.operations[p];return{from:r.from,to:r.to,phase:r.phase}}update(p){for(const r in this.operations){const l=this.operations[r];for(l.phase=(p-l.startTime)/l.duration;l.phase>=1||!this._validOp(l);)if(!this._nextOp(l,p)){delete this.operations[r];break}}}_nextOp(p,r){return!!p.queued&&(p.from=p.to,p.to=p.queued,p.queued=null,p.phase=0,p.startTime=r,!0)}_validOp(p){return p.from.hasData()&&p.to.hasData()}},Bl={0:null,1:"TERRAIN_VERTEX_MORPHING"};function ol(p,r,l){if(r===0)return 0;const m=r<1&&l===514?.25/r:1;return 6*Math.pow(1.5,22-p)*Math.max(r,1)*m}function Uc(p,r){const l=1<<p.z;return!r&&(p.x===0||p.x===l-1)||p.y===0||p.y===l-1}const fc=p=>({u_matrix:p});function Al(p,r,l,m,_){if(_>0){const x=c.q.now(),E=(x-p.timeAdded)/_,R=r?(x-r.timeAdded)/_:-1,F=l.getSource(),V=m.coveringZoomLevel({tileSize:F.tileSize,roundZoom:F.roundZoom}),U=!r||Math.abs(r.tileID.overscaledZ-V)>Math.abs(p.tileID.overscaledZ-V),Q=U&&p.refreshedUponExpiration?1:c.aw(U?E:1-R,0,1);return p.refreshedUponExpiration&&E>=1&&(p.refreshedUponExpiration=!1),r?{opacity:1,mix:1-Q}:{opacity:Q,mix:0}}return{opacity:1,mix:0}}class Wc extends K{constructor(r){const l={type:"raster-dem",maxzoom:r.transform.maxZoom},m=new c.D(c.ci(),null),_=qt("mock-dem",l,m,r.style);super("mock-dem",_,!1),_.setEventedParent(this),this._sourceLoaded=!0}_loadTile(r,l){r.state="loaded",l(null)}}class Bc extends K{constructor(r){const l=qt("proxy",{type:"geojson",maxzoom:r.transform.maxZoom},new c.D(c.ci(),null),r.style);super("proxy",l,!1),l.setEventedParent(this),this.map=this.getSource().map=r,this.used=this._sourceLoaded=!0,this.renderCache=[],this.renderCachePool=[],this.proxyCachedFBO={}}update(r,l,m){if(r.freezeTileCoverage)return;this.transform=r;const _=r.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}).reduce((x,E)=>{if(x[E.key]="",!this._tiles[E.key]){const R=new qo(E,this._source.tileSize*E.overscaleFactor(),r.tileZoom);R.state="loaded",this._tiles[E.key]=R}return x},{});for(const x in this._tiles)x in _||(this.freeFBO(x),this._tiles[x].unloadVectorData(),delete this._tiles[x])}freeFBO(r){const l=this.proxyCachedFBO[r];if(l!==void 0){const m=Object.values(l);this.renderCachePool.push(...m),delete this.proxyCachedFBO[r]}}deallocRenderCache(){this.renderCache.forEach(r=>r.fb.destroy()),this.renderCache=[],this.renderCachePool=[],this.proxyCachedFBO={}}}class Rc extends c.aG{constructor(r,l,m){super(r.overscaledZ,r.wrap,r.canonical.z,r.canonical.x,r.canonical.y),this.proxyTileKey=l,this.projMatrix=m}}class $c extends c.cJ{constructor(r,l){super(),this._debugParams={sortTilesHiZFirst:!0,disableRenderCache:!1},r.tp.registerParameter(this._debugParams,["Terrain"],"sortTilesHiZFirst",{},()=>{this._style.map.triggerRepaint()}),r.tp.registerParameter(this._debugParams,["Terrain"],"disableRenderCache",{},()=>{this._style.map.triggerRepaint()}),r.tp.registerButton(["Terrain"],"Invalidate Render Cache",()=>{this.invalidateRenderCache=!0,this._style.map.triggerRepaint()}),this.painter=r,this.terrainTileForTile={},this.prevTerrainTileForTile={};const[m,_,x]=function(F){const V=new c.b4,U=new c.aU,Q=131;V.reserve(17161),U.reserve(33800);const ee=c.ag/128,ce=c.ag+ee/2,Pe=ce+ee;for(let ze=-ee;ze<Pe;ze+=ee)for(let Le=-ee;Le<Pe;Le+=ee){const st=Le<0||Le>ce||ze<0||ze>ce?24575:0,St=c.aw(Math.round(Le),0,c.ag),xt=c.aw(Math.round(ze),0,c.ag);V.emplaceBack(St+st,xt)}const Se=(ze,Le)=>{const st=Le*Q+ze;U.emplaceBack(st+1,st,st+Q),U.emplaceBack(st+Q,st+Q+1,st+1)};for(let ze=1;ze<129;ze++)for(let Le=1;Le<129;Le++)Se(Le,ze);return[0,129].forEach(ze=>{for(let Le=0;Le<130;Le++)Se(Le,ze),Se(ze,Le)}),[V,U,32768]}(),E=r.context;this.gridBuffer=E.createVertexBuffer(m,c.b6.members),this.gridIndexBuffer=E.createIndexBuffer(_),this.gridSegments=c.b7.simpleSegment(0,0,m.length,_.length),this.gridNoSkirtSegments=c.b7.simpleSegment(0,0,m.length,x),this.proxyCoords=[],this.proxiedCoords={},this._visibleDemTiles=[],this._drapedRenderBatches=[],this._sourceTilesOverlap={},this.proxySourceCache=new Bc(l.map),this.orthoMatrix=c.ab.mat4.create(),c.ab.mat4.ortho(this.orthoMatrix,this.painter.transform.projection.name==="globe"?.015:0,c.ag,0,c.ag,0,1);const R=E.gl;this._overlapStencilMode=new ea({func:R.GEQUAL,mask:255},0,255,R.KEEP,R.KEEP,R.REPLACE),this._previousZoom=r.transform.zoom,this.pool=[],this._findCoveringTileCache={},this._tilesDirty={},this.style=l,this._useVertexMorphing=!0,this._exaggeration=1,this._mockSourceCache=new Wc(l.map),this._pendingGroundEffectLayers=[]}set style(r){r.on("data",this._onStyleDataEvent.bind(this)),this._style=r,this._style.map.on("moveend",()=>{this._clearLineLayersFromRenderCache()})}update(r,l,m){if(r&&r.terrain){this._style!==r&&(this.style=r,this._evaluationZoom=void 0);const _=r.terrain.properties,x=r.terrain.drapeRenderMode===0,E=r.terrain.isZoomDependent();this._previousUpdateTimestamp=this.enabled?this._updateTimestamp:void 0,this._updateTimestamp=c.q.now();const R=r.terrain&&r.terrain.scope,F=_.get("source"),V=x?this._mockSourceCache:r.getSourceCache(F,R);if(!V)return void c.w(`Couldn't find terrain source "${F}".`);if(this.sourceCache=V,this._attenuationRange=r.terrain.getAttenuationRange(),this._exaggeration=E?this.calculateExaggeration(l):_.get("exaggeration"),!l.projection.requiresDraping&&E&&this._exaggeration===0)return void this._disable();this.enabled=!0;const U=()=>{this.sourceCache.used&&c.w(`Raster DEM source '${this.sourceCache.id}' is used both for terrain and as layer source.
This leads to lower resolution of hillshade. For full hillshade resolution but higher memory consumption, define another raster DEM source.`);const Q=this.getScaledDemTileSize();this.sourceCache.update(l,Q,!0),this.resetTileLookupCache(this.sourceCache.id)};this.sourceCache.usedForTerrain||(this.resetTileLookupCache(this.sourceCache.id),this.sourceCache.usedForTerrain=!0,U(),this._initializing=!0),U(),l.updateElevation(!0,m),this.resetTileLookupCache(this.proxySourceCache.id),this.proxySourceCache.update(l),this._emptyDEMTextureDirty=!0,this._previousZoom=l.zoom}else this._disable()}calculateExaggeration(r){if(this._attenuationRange&&r.zoom>=Math.ceil(this._attenuationRange[1]))return this._style.terrain.getExaggeration(r.zoom);const l=this._previousCameraAltitude,m=r.getFreeCameraOptions().position.z/r.pixelsPerMeter*r.worldSize;this._previousCameraAltitude=m;const _=l!=null?m-l:Number.MAX_VALUE;if(Math.abs(_)<2)return this._exaggeration;const x=r.zoom,E=this._style.terrain;if(!this._previousUpdateTimestamp)return E.getExaggeration(x);let R=x-this._previousZoom;const F=this._previousUpdateTimestamp;let V=x;this._evaluationZoom!=null&&(V=this._evaluationZoom,Math.abs(x-V)>.5&&(R=.5*(x-V+R)),R*_<0&&(V+=R)),this._evaluationZoom=V;const U=E.getExaggeration(V),Q=U===E.getExaggeration(Math.max(0,V-.1));if(Q&&Math.abs(U-this._exaggeration)<.01)return U;let ee=Math.min(.1,.00375*(this._updateTimestamp-F));return(Q||U<.1||Math.abs(R)<1e-4)&&(ee=Math.min(.2,4*ee)),c.af(this._exaggeration,U,ee)}resetTileLookupCache(r){this._findCoveringTileCache[r]={}}attenuationRange(){return this._attenuationRange}getDemUpscale(){return this.proxySourceCache.getSource().tileSize/128}getScaledDemTileSize(){return this.sourceCache.getSource().tileSize/128*this.proxySourceCache.getSource().tileSize}_onStyleDataEvent(r){r.coord&&r.dataType==="source"?this._clearRenderCacheForTile(r.sourceCacheId,r.coord):r.dataType==="style"&&(this.invalidateRenderCache=!0,this._evaluationZoom=void 0,this._previousUpdateTimestamp=void 0,this._previousCameraAltitude=void 0)}_disable(){if(this.enabled&&(this.enabled=!1,this._emptyDEMTextureDirty=!0,this._sharedDepthStencil=void 0,this._evaluationZoom=void 0,this._previousUpdateTimestamp=void 0,this.proxySourceCache.deallocRenderCache(),this._style))for(const r in this._style._mergedSourceCaches)this._style._mergedSourceCaches[r].usedForTerrain=!1}destroy(){this._disable(),this._emptyDEMTexture&&this._emptyDEMTexture.destroy(),this.pool.forEach(r=>r.fb.destroy()),this.pool=[],this.framebufferCopyTexture&&this.framebufferCopyTexture.destroy()}_source(){return this.enabled?this.sourceCache:null}isUsingMockSource(){return this.sourceCache===this._mockSourceCache}exaggeration(){return this.enabled?this._exaggeration:0}get visibleDemTiles(){return this._visibleDemTiles}get drapeBufferSize(){const r=2*this.proxySourceCache.getSource().tileSize;return[r,r]}set useVertexMorphing(r){this._useVertexMorphing=r}updateTileBinding(r){if(!this.enabled)return;this.prevTerrainTileForTile=this.terrainTileForTile;const l=this.proxySourceCache,m=this.painter.transform;this._initializing&&(this._initializing=m._centerAltitude===0&&this.getAtPointOrZero(c.aa.fromLngLat(m.center),-1)===-1,this._emptyDEMTextureDirty=!this._initializing);const _=this.proxyCoords=l.getIds().map(F=>{const V=l.getTileByID(F).tileID;return V.projMatrix=m.calculateProjMatrix(V.toUnwrapped()),V});(function(F,V){const U=V.transform.pointCoordinate(V.transform.getCameraPoint()),Q=new c.P(U.x,U.y);F.sort((ee,ce)=>{if(ce.overscaledZ-ee.overscaledZ)return ce.overscaledZ-ee.overscaledZ;const Pe=new c.P(ee.canonical.x+(1<<ee.canonical.z)*ee.wrap,ee.canonical.y),Se=new c.P(ce.canonical.x+(1<<ce.canonical.z)*ce.wrap,ce.canonical.y),ze=Q.mult(1<<ee.canonical.z);return ze.x-=.5,ze.y-=.5,ze.distSqr(Pe)-ze.distSqr(Se)})})(_,this.painter);const x=this.proxyToSource||{};this.proxyToSource={},_.forEach(F=>{this.proxyToSource[F.key]={}}),this.terrainTileForTile={};const E=this._style._mergedSourceCaches;for(const F in E){const V=E[F];if(!V.used||(V!==this.sourceCache&&this.resetTileLookupCache(V.id),this._setupProxiedCoordsForOrtho(V,r[F],x),V.usedForTerrain))continue;const U=r[F];V.getSource().reparseOverscaled&&this._assignTerrainTiles(U)}this.proxiedCoords[l.id]=_.map(F=>new Rc(F,F.key,this.orthoMatrix)),this._assignTerrainTiles(_),this._prepareDEMTextures(),this._setupDrapedRenderBatches(),this._initFBOPool(),this._setupRenderCache(x),this.renderingToTexture=!1;const R={};this._visibleDemTiles=[];for(const F of this.proxyCoords){const V=this.terrainTileForTile[F.key];if(!V)continue;const U=V.tileID.key;U in R||(this._visibleDemTiles.push(V),R[U]=U)}}_assignTerrainTiles(r){this._initializing||r.forEach(l=>{if(this.terrainTileForTile[l.key])return;const m=this._findTileCoveringTileID(l,this.sourceCache);m&&(this.terrainTileForTile[l.key]=m)})}_prepareDEMTextures(){const r=this.painter.context,l=r.gl;for(const m in this.terrainTileForTile){const _=this.terrainTileForTile[m],x=_.dem;!x||_.demTexture&&!_.needsDEMTextureUpload||(r.activeTexture.set(l.TEXTURE1),ym(this.painter,_,x))}}_prepareDemTileUniforms(r,l,m,_){if(!l||l.demTexture==null)return!1;const x=r.tileID.canonical,E=Math.pow(2,l.tileID.canonical.z-x.z),R=_||"";return m[`u_dem_tl${R}`]=[x.x*E%1,x.y*E%1],m[`u_dem_scale${R}`]=E,!0}get emptyDEMTexture(){return!this._emptyDEMTextureDirty&&this._emptyDEMTexture?this._emptyDEMTexture:this._updateEmptyDEMTexture()}_getLoadedAreaMinimum(){if(!this.enabled)return 0;let r=0;const l=this._visibleDemTiles.reduce((m,_)=>{if(!_.dem)return m;const x=_.dem.tree.minimums[0];return x>0&&r++,m+x},0);return r?l/r:0}_updateEmptyDEMTexture(){const r=this.painter.context,l=r.gl;r.activeTexture.set(l.TEXTURE2);const m=this._getLoadedAreaMinimum(),_=new c.cK({width:1,height:1},new Float32Array([m]));this._emptyDEMTextureDirty=!1;let x=this._emptyDEMTexture;return x?x.update(_,{premultiply:!1}):x=this._emptyDEMTexture=new c.T(r,_,l.R32F,{premultiply:!1}),x}setupElevationDraw(r,l,m){const _=this.painter.context,x=_.gl,E={u_dem:2,u_dem_prev:4,u_dem_tl:[0,0],u_dem_tl_prev:[0,0],u_dem_scale:0,u_dem_scale_prev:0,u_dem_size:0,u_dem_lerp:1,u_depth:3,u_depth_size_inv:[0,0],u_depth_range_unpack:[0,1],u_occluder_half_size:16,u_occlusion_depth_offset:-1e-4,u_exaggeration:0};E.u_exaggeration=this.exaggeration();let R=null,F=null,V=1;if(m&&m.morphing&&this._useVertexMorphing){const ce=m.morphing.srcDemTile,Pe=m.morphing.dstDemTile;V=m.morphing.phase,ce&&Pe&&(this._prepareDemTileUniforms(r,ce,E,"_prev")&&(F=ce),this._prepareDemTileUniforms(r,Pe,E)&&(R=Pe))}const U=ce=>ce&&ce.demTexture&&this.painter.linearFloatFilteringSupported()?x.LINEAR:x.NEAREST;let Q=null;var ee;if(this.enabled?F&&R?(Q=R.demTexture,_.activeTexture.set(x.TEXTURE4),F.demTexture.bind(U(F),x.CLAMP_TO_EDGE),E.u_dem_lerp=V):(R=this.terrainTileForTile[r.tileID.key],Q=this._prepareDemTileUniforms(r,R,E)?R.demTexture:this.emptyDEMTexture):Q=this.emptyDEMTexture,_.activeTexture.set(x.TEXTURE2),Q&&(E.u_dem_size=(ee=Q).size[0]===1?1:ee.size[0]-2,Q.bind(U(R),x.CLAMP_TO_EDGE)),this.painter.setupDepthForOcclusion(m&&m.useDepthForOcclusion,l,E),m&&m.useMeterToDem&&R){const ce=(1<<R.tileID.canonical.z)*c.bH(1,this.painter.transform.center.lat)*this.sourceCache.getSource().tileSize;E.u_meter_to_dem=ce}if(m&&m.labelPlaneMatrixInv&&(E.u_label_plane_matrix_inv=m.labelPlaneMatrixInv),l.setTerrainUniformValues(_,E),this.painter.transform.projection.name==="globe"){const ce=this.globeUniformValues(this.painter.transform,r.tileID.canonical,m&&m.useDenormalizedUpVectorScale);l.setGlobeUniformValues(_,ce)}}globeUniformValues(r,l,m){const _=r.projection;return{u_tile_tl_up:_.upVector(l,0,0),u_tile_tr_up:_.upVector(l,c.ag,0),u_tile_br_up:_.upVector(l,c.ag,c.ag),u_tile_bl_up:_.upVector(l,0,c.ag),u_tile_up_scale:m?c.cL(1):_.upVectorScale(l,r.center.lat,r.worldSize).metersToTile}}renderToBackBuffer(r){const l=this.painter,m=this.painter.context;r.length!==0&&(m.bindFramebuffer.set(null),m.viewport.set([0,0,l.width,l.height]),l.gpuTimingDeferredRenderStart(),this.renderingToTexture=!1,function(_,x,E,R,F){if(_.transform.projection.name==="globe")(function(V,U,Q,ee,ce){const Pe=V.context,Se=Pe.gl;let ze,Le;const st=V.transform,St=c.cC(V,Pe,st),xt=(jr,Br)=>{if(Le===Br)return;const Un=[Bl[Br],"PROJECTION_GLOBE_VIEW"];St&&Un.push("CUSTOM_ANTIALIASING");const vr=V.isTileAffectedByFog(jr);ze=V.getOrCreateProgram("globeRaster",{defines:Un,overrideFog:vr}),Le=Br},Wt=V.colorModeForRenderPass(),zt=new jo(Se.LEQUAL,jo.ReadWrite,V.depthRangeFor3D);Ys.update(ce);const kt=c.cD(st),Lt=[c.at(st.center.lng),c.aA(st.center.lat)],cn=V.globeSharedBuffers,Tn=[st.width*c.q.devicePixelRatio,st.height*c.q.devicePixelRatio],hr=Float32Array.from(st.globeMatrix),nr={useDenormalizedUpVectorScale:!0};{const jr=V.transform,Br=ol(jr.zoom,U.exaggeration(),U.sourceCache._source.tileSize);Le=-1;const Un=Se.TRIANGLES;for(const vr of ee){const vi=Q.getTile(vr),kn=ea.disabled,Xr=U.prevTerrainTileForTile[vr.key],xr=U.terrainTileForTile[vr.key];gl(Xr,xr)&&Ys.newMorphing(vr.key,Xr,xr,ce,250),Pe.activeTexture.set(Se.TEXTURE0),vi.texture&&vi.texture.bind(Se.LINEAR,Se.CLAMP_TO_EDGE);const zi=Ys.getMorphValuesForProxy(vr.key),qr=zi?1:0;zi&&c.J(nr,{morphing:{srcDemTile:zi.from,dstDemTile:zi.to,phase:c.cB(zi.phase)}});const Gr=c.cE(vr.canonical),wi=c.cF(Gr.getCenter().lat),Ni=c.cG(vr.canonical,Gr,wi,jr.worldSize/jr._pixelsPerMercatorPixel),lo=c.bb(c.cH(vr.canonical)),bo=os(jr.expandedFarZProjMatrix,hr,kt,lo,c.ae(jr.zoom),Lt,jr.frustumCorners.TL,jr.frustumCorners.TR,jr.frustumCorners.BR,jr.frustumCorners.BL,jr.globeCenterInViewSpace,jr.globeRadius,Tn,Br,jr._farZ,Ni);if(xt(vr,qr),ze&&(U.setupElevationDraw(vi,ze,nr),V.uploadCommonUniforms(Pe,ze,vr.toUnwrapped()),cn)){const[ca,mo,Ko]=cn.getGridBuffers(wi,Br!==0);ze.draw(V,Un,zt,kn,Wt,sa.backCCW,bo,"globe_raster",ca,mo,Ko)}}}if(cn&&(V.renderDefaultNorthPole||V.renderDefaultSouthPole)){const jr=["GLOBE_POLES","PROJECTION_GLOBE_VIEW"];St&&jr.push("CUSTOM_ANTIALIASING"),ze=V.getOrCreateProgram("globeRaster",{defines:jr});for(const Br of ee){const{x:Un,y:vr,z:vi}=Br.canonical,kn=vr===0,Xr=vr===(1<<vi)-1,[xr,zi,qr,Gr]=cn.getPoleBuffers(vi,!1);if(Gr&&(kn||Xr)){const wi=Q.getTile(Br);Pe.activeTexture.set(Se.TEXTURE0),wi.texture&&wi.texture.bind(Se.LINEAR,Se.CLAMP_TO_EDGE);let Ni=c.cI(vi,Un,st);const lo=c.bb(c.cH(Br.canonical)),bo=(ca,mo)=>ca.draw(V,Se.TRIANGLES,zt,ea.disabled,Wt,sa.disabled,os(st.expandedFarZProjMatrix,Ni,Ni,lo,0,Lt,st.frustumCorners.TL,st.frustumCorners.TR,st.frustumCorners.BR,st.frustumCorners.BL,st.globeCenterInViewSpace,st.globeRadius,Tn,0,st._farZ),"globe_pole_raster",mo,qr,Gr);U.setupElevationDraw(wi,ze,nr),V.uploadCommonUniforms(Pe,ze,Br.toUnwrapped()),kn&&V.renderDefaultNorthPole&&bo(ze,xr),Xr&&V.renderDefaultSouthPole&&(Ni=c.ab.mat4.scale(c.ab.mat4.create(),Ni,[1,-1,1]),bo(ze,zi))}}}})(_,x,E,R,F);else{const V=_.context,U=V.gl;let Q,ee;const ce=_.shadowRenderer,Pe=an(_,_.longestCutoffRange),Se=Wt=>{if(ee===Wt)return;const zt=[];zt.push(Bl[Wt]),Pe.shouldRenderCutoff&&zt.push("RENDER_CUTOFF"),ce&&(zt.push("RENDER_SHADOWS","DEPTH_TEXTURE"),ce.useNormalOffset&&zt.push("NORMAL_OFFSET")),Q=_.getOrCreateProgram("terrainRaster",{defines:zt}),ee=Wt},ze=_.colorModeForRenderPass(),Le=new jo(U.LEQUAL,jo.ReadWrite,_.depthRangeFor3D);Ys.update(F);const st=_.transform,St=ol(st.zoom,x.exaggeration(),x.sourceCache._source.tileSize);let xt=[0,0,0];if(ce){const Wt=_.style.directionalLight,zt=_.style.ambientLight;Wt&&zt&&(xt=no(_.style,Wt,zt))}{ee=-1;const Wt=U.TRIANGLES,[zt,kt]=[x.gridIndexBuffer,x.gridSegments];for(const Lt of R){const cn=E.getTile(Lt),Tn=ea.disabled,hr=x.prevTerrainTileForTile[Lt.key],nr=x.terrainTileForTile[Lt.key];gl(hr,nr)&&Ys.newMorphing(Lt.key,hr,nr,F,250),V.activeTexture.set(U.TEXTURE0),cn.texture&&cn.texture.bind(U.LINEAR,U.CLAMP_TO_EDGE);const jr=Ys.getMorphValuesForProxy(Lt.key),Br=jr?1:0;let Un;jr&&(Un={morphing:{srcDemTile:jr.from,dstDemTile:jr.to,phase:c.cB(jr.phase)}});const vr=tl(Lt.projMatrix,Uc(Lt.canonical,st.renderWorldCopies)?St/10:St,xt);if(Se(Br),!Q)continue;x.setupElevationDraw(cn,Q,Un);const vi=Lt.toUnwrapped();ce&&ce.setupShadows(vi,Q),_.uploadCommonUniforms(V,Q,vi,null,Pe),Q.draw(_,Wt,Le,Tn,ze,sa.backCCW,vr,"terrain_raster",x.gridBuffer,zt,kt)}}}}(l,this,this.proxySourceCache,r,this._updateTimestamp),this.renderingToTexture=!0,l.gpuTimingDeferredRenderEnd(),r.splice(0,r.length))}renderBatch(r){if(this._drapedRenderBatches.length===0)return r+1;this.renderingToTexture=!0;const l=this.painter,m=this.painter.context,_=this.proxySourceCache,x=this.proxiedCoords[_.id],E=this._drapedRenderBatches.shift(),R=l.style.order,F=[];let V=0;for(const U of x){const Q=_.getTileByID(U.proxyTileKey),ee=_.proxyCachedFBO[U.key]?_.proxyCachedFBO[U.key][r]:void 0,ce=ee!==void 0?_.renderCache[ee]:this.pool[V++],Pe=ee!==void 0;if(Q.texture=ce.tex,Pe&&!ce.dirty){F.push(Q.tileID);continue}let Se;m.bindFramebuffer.set(ce.fb.framebuffer),this.renderedToTile=!1,ce.dirty&&(m.clear({color:c.aj.transparent,stencil:0}),ce.dirty=!1);for(let ze=E.start;ze<=E.end;++ze){const Le=l.style._mergedLayers[R[ze]];if(Le.isHidden(l.transform.zoom))continue;const st=l.style.getLayerSourceCache(Le),St=st?this.proxyToSource[U.key][st.id]:[U];if(!St)continue;const xt=St;m.viewport.set([0,0,ce.fb.width,ce.fb.height]),Se!==(st?st.id:null)&&(this._setupStencil(ce,St,Le,st),Se=st?st.id:null),l.renderLayer(l,st,Le,xt)}if(this._drapedRenderBatches.length===0)for(const ze of this._pendingGroundEffectLayers){const Le=l.style._mergedLayers[R[ze]];if(Le.isHidden(l.transform.zoom))continue;const st=l.style.getLayerSourceCache(Le),St=st?this.proxyToSource[U.key][st.id]:[U];if(!St)continue;const xt=St;m.viewport.set([0,0,ce.fb.width,ce.fb.height]),Se!==(st?st.id:null)&&(this._setupStencil(ce,St,Le,st),Se=st?st.id:null),l.renderLayer(l,st,Le,xt)}this.renderedToTile?(ce.dirty=!0,F.push(Q.tileID)):Pe||--V,V===5&&(V=0,this.renderToBackBuffer(F))}return this.renderToBackBuffer(F),this.renderingToTexture=!1,m.bindFramebuffer.set(null),m.viewport.set([0,0,l.width,l.height]),E.end+1}postRender(){}isLayerOrderingCorrect(r){const l=r.order.length;let m=-1,_=l;for(let x=0;x<l;++x)this._style.isLayerDraped(r._mergedLayers[r.order[x]])?m=Math.max(m,x):_=Math.min(_,x);return _>m}getMinElevationBelowMSL(){let r=0;return this._visibleDemTiles.filter(l=>l.dem).forEach(l=>{r=Math.min(r,l.dem.tree.minimums[0])}),r===0?r:(r-30)*this._exaggeration}raycast(r,l,m){if(!this._visibleDemTiles)return null;const _=this._visibleDemTiles.filter(x=>x.dem).map(x=>{const E=x.tileID,R=1<<E.overscaledZ,{x:F,y:V}=E.canonical,U=F/R,Q=(F+1)/R,ee=V/R,ce=(V+1)/R;return{minx:U,miny:ee,maxx:Q,maxy:ce,t:x.dem.tree.raycastRoot(U,ee,Q,ce,r,l,m),tile:x}});_.sort((x,E)=>(x.t!==null?x.t:Number.MAX_VALUE)-(E.t!==null?E.t:Number.MAX_VALUE));for(const x of _){if(x.t==null)return null;const E=x.tile.dem.tree.raycast(x.minx,x.miny,x.maxx,x.maxy,r,l,m);if(E!=null)return E}return null}_createFBO(){const r=this.painter.context,l=r.gl,m=this.drapeBufferSize;r.activeTexture.set(l.TEXTURE0);const _=new c.T(r,{width:m[0],height:m[1],data:null},l.RGBA8);_.bind(l.LINEAR,l.CLAMP_TO_EDGE);const x=r.createFramebuffer(m[0],m[1],!0,null);return x.colorAttachment.set(_.texture),x.depthAttachment=new ya(r,x.framebuffer),this._sharedDepthStencil===void 0?(this._sharedDepthStencil=r.createRenderbuffer(r.gl.DEPTH_STENCIL,m[0],m[1]),this._stencilRef=0,x.depthAttachment.set(this._sharedDepthStencil),r.clear({stencil:0})):x.depthAttachment.set(this._sharedDepthStencil),r.extTextureFilterAnisotropic&&l.texParameterf(l.TEXTURE_2D,r.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,r.extTextureFilterAnisotropicMax),{fb:x,tex:_,dirty:!1}}_initFBOPool(){for(;this.pool.length<Math.min(5,this.proxyCoords.length);)this.pool.push(this._createFBO())}_shouldDisableRenderCache(){if(this._debugParams.disableRenderCache||this._style.hasLightTransitions())return!0;for(const r in this._style._mergedSourceCaches)if(this._style._mergedSourceCaches[r].hasTransition())return!0;return this._style.order.some(r=>{const l=this._style._mergedLayers[r],m=l.isHidden(this.painter.transform.zoom);return l.type==="hillshade"||l.type==="custom"?!m&&l.shouldRedrape():!m&&l.hasTransition()})}_clearLineLayersFromRenderCache(){let r=!1;for(const m of this._style.getSources())if(m instanceof Hr){r=!0;break}if(!r)return;const l={};for(let m=0;m<this._style.order.length;++m){const _=this._style._mergedLayers[this._style.order[m]],x=this._style.getLayerSourceCache(_);if(x&&!l[x.id]&&!_.isHidden(this.painter.transform.zoom)&&_.type==="line"&&_.widthExpression()instanceof c.a9){l[x.id]=!0;for(const E of this.proxyCoords){const R=this.proxyToSource[E.key][x.id];if(R)for(const F of R)this._clearRenderCacheForTile(x.id,F)}}}}_clearRasterLayersFromRenderCache(){let r=!1;for(const m in this._style._mergedSourceCaches)if(this._style._mergedSourceCaches[m]._source instanceof to){r=!0;break}if(!r)return;const l={};for(let m=0;m<this._style.order.length;++m){const _=this._style._mergedLayers[this._style.order[m]],x=this._style.getLayerSourceCache(_);if(!x||l[x.id]||_.isHidden(this.painter.transform.zoom)||_.type!=="raster")continue;const E=_.paint.get("raster-fade-duration");for(const R of this.proxyCoords){const F=this.proxyToSource[R.key][x.id];if(F)for(const V of F){const U=Al(x.getTile(V),x.findLoadedParent(V,0),x,this.painter.transform,E);(U.opacity!==1||U.mix!==0)&&this._clearRenderCacheForTile(x.id,V)}}}}_setupDrapedRenderBatches(){this._style.updateDrapeFirstLayers();const r=this._style.order,l=r.length;if(l===0)return;const m=[];this._pendingGroundEffectLayers=[];let _,x=0,E=this._style._mergedLayers[r[x]];for(;!this._style.isLayerDraped(E)&&E.isHidden(this.painter.transform.zoom)&&++x<l;)E=this._style._mergedLayers[r[x]];for(;x<l;++x){const R=this._style._mergedLayers[r[x]];R.isHidden(this.painter.transform.zoom)||(this._style.isLayerDraped(R)?_===void 0&&(_=x):(R.type==="fill-extrusion"&&this._pendingGroundEffectLayers.push(x),_!==void 0&&(m.push({start:_,end:x-1}),_=void 0)))}if(_!==void 0&&m.push({start:_,end:x-1}),m.length!==0){const R=m[m.length-1];this._pendingGroundEffectLayers.every(F=>F>R.end)||c.w("fill-extrusion with flood lighting and/or ground ambient occlusion should be moved to be on top of all draped layers.")}this._drapedRenderBatches=m}_setupRenderCache(r){const l=this.proxySourceCache;if(this._shouldDisableRenderCache()||this.invalidateRenderCache){if(this.invalidateRenderCache=!1,l.renderCache.length>l.renderCachePool.length){const E=Object.values(l.proxyCachedFBO);l.proxyCachedFBO={};for(let R=0;R<E.length;++R){const F=Object.values(E[R]);l.renderCachePool.push(...F)}}return}this._clearRasterLayersFromRenderCache();const m=this.proxyCoords,_=this._tilesDirty;for(let E=m.length-1;E>=0;E--){const R=m[E];if(l.getTileByID(R.key),l.proxyCachedFBO[R.key]!==void 0){const F=r[R.key],V=this.proxyToSource[R.key];let U=0;for(const Q in V){const ee=V[Q],ce=F[Q];if(!ce||ce.length!==ee.length||ee.some((Pe,Se)=>Pe!==ce[Se]||_[Q]&&_[Q].hasOwnProperty(Pe.key))){U=-1;break}++U}for(const Q in l.proxyCachedFBO[R.key])l.renderCache[l.proxyCachedFBO[R.key][Q]].dirty=U<0||U!==Object.values(F).length}}const x=[...this._drapedRenderBatches];x.sort((E,R)=>R.end-R.start-(E.end-E.start));for(const E of x)for(const R of m){if(l.proxyCachedFBO[R.key])continue;let F=l.renderCachePool.pop();F===void 0&&l.renderCache.length<50&&(F=l.renderCache.length,l.renderCache.push(this._createFBO())),F!==void 0&&(l.proxyCachedFBO[R.key]={},l.proxyCachedFBO[R.key][E.start]=F,l.renderCache[F].dirty=!0)}this._tilesDirty={}}_setupStencil(r,l,m,_){if(!_||!this._sourceTilesOverlap[_.id])return void(this._overlapStencilType&&(this._overlapStencilType=!1));const x=this.painter.context,E=x.gl;if(l.length<=1)return void(this._overlapStencilType=!1);let R;if(m.isTileClipped())R=l.length,this._overlapStencilMode.test={func:E.EQUAL,mask:255},this._overlapStencilType="Clip";else{if(!(l[0].overscaledZ>l[l.length-1].overscaledZ))return void(this._overlapStencilType=!1);R=1,this._overlapStencilMode.test={func:E.GREATER,mask:255},this._overlapStencilType="Mask"}this._stencilRef+R>255&&(x.clear({stencil:0}),this._stencilRef=0),this._stencilRef+=R,this._overlapStencilMode.ref=this._stencilRef,m.isTileClipped()&&this._renderTileClippingMasks(l,this._overlapStencilMode.ref)}clipOrMaskOverlapStencilType(){return this._overlapStencilType==="Clip"||this._overlapStencilType==="Mask"}stencilModeForRTTOverlap(r){return this.renderingToTexture&&this._overlapStencilType?(this._overlapStencilType==="Clip"&&(this._overlapStencilMode.ref=this.painter._tileClippingMaskIDs[r.key]),this._overlapStencilMode):ea.disabled}_renderTileClippingMasks(r,l){const m=this.painter,_=this.painter.context,x=_.gl;m._tileClippingMaskIDs={},_.setColorMode(ia.disabled),_.setDepthMode(jo.disabled);const E=m.getOrCreateProgram("clippingMask");for(const R of r){const F=m._tileClippingMaskIDs[R.key]=--l;E.draw(m,x.TRIANGLES,jo.disabled,new ea({func:x.ALWAYS,mask:0},F,255,x.KEEP,x.KEEP,x.REPLACE),ia.disabled,sa.disabled,fc(R.projMatrix),"$clipping",m.tileExtentBuffer,m.quadTriangleIndexBuffer,m.tileExtentSegments)}}pointCoordinate(r){const l=this.painter.transform;if(r.x<0||r.x>l.width||r.y<0||r.y>l.height)return null;const m=[r.x,r.y,1,1];c.ab.vec4.transformMat4(m,m,l.pixelMatrixInverse),c.ab.vec4.scale(m,m,1/m[3]),m[0]/=l.worldSize,m[1]/=l.worldSize;const _=l._camera.position,x=c.bH(1,l.center.lat),E=[_[0],_[1],_[2]/x,0],R=c.ab.vec3.subtract([],m.slice(0,3),E);c.ab.vec3.normalize(R,R);const F=this.raycast(E,R,this._exaggeration);return F!==null&&F?(c.ab.vec3.scaleAndAdd(E,E,R,F),E[3]=E[2],E[2]*=x,E):null}_setupProxiedCoordsForOrtho(r,l,m){if(r.getSource()instanceof c.aJ)return this._setupProxiedCoordsForImageSource(r,l,m);this._findCoveringTileCache[r.id]=this._findCoveringTileCache[r.id]||{};const _=this.proxiedCoords[r.id]=[],x=this.proxyCoords;for(let F=0;F<x.length;F++){const V=x[F],U=this._findTileCoveringTileID(V,r);if(U){const Q=this._createProxiedId(V,U,m[V.key]&&m[V.key][r.id]);_.push(Q),this.proxyToSource[V.key][r.id]=[Q]}}let E=!1;const R=new Set;for(let F=0;F<l.length;F++){const V=r.getTile(l[F]);if(!V||!V.hasData())continue;const U=this._findTileCoveringTileID(V.tileID,this.proxySourceCache);if(U&&U.tileID.canonical.z!==V.tileID.canonical.z){const Q=this.proxyToSource[U.tileID.key][r.id],ee=this._createProxiedId(U.tileID,V,m[U.tileID.key]&&m[U.tileID.key][r.id]);Q?Q.splice(Q.length-1,0,ee):this.proxyToSource[U.tileID.key][r.id]=[ee];const ce=this.proxyToSource[U.tileID.key][r.id];R.has(ce)||R.add(ce),_.push(ee),E=!0}}if(this._sourceTilesOverlap[r.id]=E,E&&this._debugParams.sortTilesHiZFirst)for(const F of R)F.sort((V,U)=>U.overscaledZ-V.overscaledZ)}_setupProxiedCoordsForImageSource(r,l,m){if(!r.getSource().loaded())return;const _=this.proxiedCoords[r.id]=[],x=this.proxyCoords,E=r.getSource(),R=E.tileID;if(!R)return;const F=new c.P(R.x,R.y)._div(1<<R.z),V=E.coordinates.map(c.aa.fromLngLat).reduce((Q,ee)=>(Q.min.x=Math.min(Q.min.x,ee.x-F.x),Q.min.y=Math.min(Q.min.y,ee.y-F.y),Q.max.x=Math.max(Q.max.x,ee.x-F.x),Q.max.y=Math.max(Q.max.y,ee.y-F.y),Q),{min:new c.P(Number.MAX_VALUE,Number.MAX_VALUE),max:new c.P(-Number.MAX_VALUE,-Number.MAX_VALUE)}),U=(Q,ee)=>{const ce=Q.wrap+Q.canonical.x/(1<<Q.canonical.z),Pe=Q.canonical.y/(1<<Q.canonical.z),Se=c.ag/(1<<Q.canonical.z),ze=ee.wrap+ee.canonical.x/(1<<ee.canonical.z),Le=ee.canonical.y/(1<<ee.canonical.z);return ce+Se<ze+V.min.x||ce>ze+V.max.x||Pe+Se<Le+V.min.y||Pe>Le+V.max.y};for(let Q=0;Q<x.length;Q++){const ee=x[Q];for(let ce=0;ce<l.length;ce++){const Pe=r.getTile(l[ce]);if(!Pe||!Pe.hasData()||U(ee,Pe.tileID))continue;const Se=this._createProxiedId(ee,Pe,m[ee.key]&&m[ee.key][r.id]),ze=this.proxyToSource[ee.key][r.id];ze?ze.push(Se):this.proxyToSource[ee.key][r.id]=[Se],_.push(Se)}}}_createProxiedId(r,l,m){let _=this.orthoMatrix;if(m){const x=m.find(E=>E.key===l.tileID.key);if(x)return x}if(l.tileID.key!==r.key){const x=r.canonical.z-l.tileID.canonical.z;let E,R,F;_=c.ab.mat4.create();const V=l.tileID.wrap-r.wrap<<r.overscaledZ;x>0?(E=c.ag>>x,R=E*((l.tileID.canonical.x<<x)-r.canonical.x+V),F=E*((l.tileID.canonical.y<<x)-r.canonical.y)):(E=c.ag<<-x,R=c.ag*(l.tileID.canonical.x-(r.canonical.x+V<<-x)),F=c.ag*(l.tileID.canonical.y-(r.canonical.y<<-x))),c.ab.mat4.ortho(_,0,E,0,E,0,1),c.ab.mat4.translate(_,_,[R,F,0])}return new Rc(l.tileID,r.key,_)}_findTileCoveringTileID(r,l){let m=l.getTile(r);if(m&&m.hasData())return m;const _=this._findCoveringTileCache[l.id],x=_[r.key];if(m=x?l.getTileByID(x):null,m&&m.hasData()||x===null)return m;let E=m?m.tileID:r,R=E.overscaledZ;const F=l.getSource().minzoom,V=[];if(!x){const Q=l.getSource().maxzoom;if(r.canonical.z>=Q){const ee=r.canonical.z-Q;l.getSource().reparseOverscaled?(R=Math.max(r.canonical.z+2,l.transform.tileZoom),E=new c.aG(R,r.wrap,Q,r.canonical.x>>ee,r.canonical.y>>ee)):ee!==0&&(R=Q,E=new c.aG(R,r.wrap,Q,r.canonical.x>>ee,r.canonical.y>>ee))}E.key!==r.key&&(V.push(E.key),m=l.getTile(E))}const U=Q=>{V.forEach(ee=>{_[ee]=Q}),V.length=0};for(R-=1;R>=F&&(!m||!m.hasData());R--){m&&U(m.tileID.key);const Q=E.calculateScaledKey(R);if(m=l.getTileByID(Q),m&&m.hasData())break;const ee=_[Q];if(ee===null)break;ee===void 0?V.push(Q):m=l.getTileByID(ee)}return U(m?m.tileID.key:null),m&&m.hasData()?m:null}findDEMTileFor(r){return this.enabled?this._findTileCoveringTileID(r,this.sourceCache):null}prepareDrawTile(){this.renderedToTile=!0}_clearRenderCacheForTile(r,l){let m=this._tilesDirty[r];m||(m=this._tilesDirty[r]={}),m[l.key]=!0}}function Su(p,r,l){const m=function(R,F,V){const U=c.ab.vec3.dot(F,R),Q=c.ab.vec3.dot(V,[.2126,.7152,.0722]),ee=(Pe,Se,ze)=>(1-ze)*Pe+ze*Se,ce=ee(1-.3*Math.min(Q,1),1,Math.min(U+1,1));return ee(.92,1,Math.asin(c.aw(F[2],-1,1))/Math.PI+.5)*ce}(p,[0,0,1],r),_=[0,0,0];c.ab.vec3.scale(_,l.slice(0,3),m);const x=[0,0,0];c.ab.vec3.scale(x,r.slice(0,3),p[2]);const E=[0,0,0];return c.ab.vec3.add(E,_,x),c.cf(E)}const wu=["fill","fillOutline","fillPattern","line","linePattern","background","backgroundPattern","hillshade","raster"],gd=["stars","rainParticle","snowParticle","fillExtrusion","fillExtrusionGroundEffect","model","symbol"];class Mf{static cacheKey(r,l,m,_){let x=`${l}${_?_.cacheKey:""}`;for(const E of m)r.usedDefines.includes(E)&&(x+=`/${E}`);return x}constructor(r,l,m,_,x,E){const R=r.gl;this.program=R.createProgram(),this.configuration=_,this.name=l,this.fixedDefines=[...E];const F=_?_.getBinderAttributes():[],V=(m.staticAttributes||[]).concat(F);let U=_?_.defines():[];U=U.concat(E.map(ze=>`#define ${ze}`));const Q=`#version 300 es
`;let ee=Q+U.concat("precision mediump float;",sc,Nc.fragmentSource).join(`
`);for(const ze of m.fragmentIncludes)ee+=`
${Ul[ze]}`;ee+=`
${m.fragmentSource}`;let ce=Q+U.concat("precision highp float;",sc,Nc.vertexSource).join(`
`);for(const ze of m.vertexIncludes)ce+=`
${Ul[ze]}`;this.forceManualRenderingForInstanceIDShaders=r.forceManualRenderingForInstanceIDShaders&&m.vertexSource.indexOf("gl_InstanceID")!==-1,this.forceManualRenderingForInstanceIDShaders&&(ce+=`
uniform int u_instanceID;
`),ce+=`
${m.vertexSource}`,this.forceManualRenderingForInstanceIDShaders&&(ce=ce.replaceAll("gl_InstanceID","u_instanceID"));const Pe=R.createShader(R.FRAGMENT_SHADER);if(R.isContextLost())return void(this.failedToCreate=!0);R.shaderSource(Pe,ee),R.compileShader(Pe),R.attachShader(this.program,Pe);const Se=R.createShader(R.VERTEX_SHADER);if(R.isContextLost())this.failedToCreate=!0;else{R.shaderSource(Se,ce),R.compileShader(Se),R.attachShader(this.program,Se),this.attributes={},this.numAttributes=V.length;for(let ze=0;ze<this.numAttributes;ze++)if(V[ze]){const Le=V[ze].startsWith("a_")?V[ze]:`a_${V[ze]}`;R.bindAttribLocation(this.program,ze,Le),this.attributes[Le]=ze}R.linkProgram(this.program),R.deleteShader(Se),R.deleteShader(Pe),this.fixedUniforms=x(r),this.binderUniforms=_?_.getUniforms(r):[],this.forceManualRenderingForInstanceIDShaders&&(this.instancingUniforms=(ze=>({u_instanceID:new c.bN(ze)}))(r)),(E.includes("TERRAIN")||l.indexOf("symbol")!==-1||l.indexOf("circle")!==-1)&&(this.terrainUniforms=(ze=>({u_dem:new c.bN(ze),u_dem_prev:new c.bN(ze),u_dem_tl:new c.bK(ze),u_dem_scale:new c.bM(ze),u_dem_tl_prev:new c.bK(ze),u_dem_scale_prev:new c.bM(ze),u_dem_size:new c.bM(ze),u_dem_lerp:new c.bM(ze),u_exaggeration:new c.bM(ze),u_depth:new c.bN(ze),u_depth_size_inv:new c.bK(ze),u_depth_range_unpack:new c.bK(ze),u_occluder_half_size:new c.bM(ze),u_occlusion_depth_offset:new c.bM(ze),u_meter_to_dem:new c.bM(ze),u_label_plane_matrix_inv:new c.bJ(ze)}))(r)),E.includes("GLOBE")&&(this.globeUniforms=(ze=>({u_tile_tl_up:new c.bL(ze),u_tile_tr_up:new c.bL(ze),u_tile_br_up:new c.bL(ze),u_tile_bl_up:new c.bL(ze),u_tile_up_scale:new c.bM(ze)}))(r)),E.includes("FOG")&&(this.fogUniforms=(ze=>({u_fog_matrix:new c.bJ(ze),u_fog_range:new c.bK(ze),u_fog_color:new c.ca(ze),u_fog_horizon_blend:new c.bM(ze),u_fog_vertical_limit:new c.bK(ze),u_fog_temporal_offset:new c.bM(ze),u_frustum_tl:new c.bL(ze),u_frustum_tr:new c.bL(ze),u_frustum_br:new c.bL(ze),u_frustum_bl:new c.bL(ze),u_globe_pos:new c.bL(ze),u_globe_radius:new c.bM(ze),u_globe_transition:new c.bM(ze),u_is_globe:new c.bN(ze),u_viewport:new c.bK(ze)}))(r)),E.includes("RENDER_CUTOFF")&&(this.cutoffUniforms=(ze=>({u_cutoff_params:new c.ca(ze)}))(r)),E.includes("LIGHTING_3D_MODE")&&(this.lightsUniforms=(ze=>({u_lighting_ambient_color:new c.bL(ze),u_lighting_directional_dir:new c.bL(ze),u_lighting_directional_color:new c.bL(ze),u_ground_radiance:new c.bL(ze)}))(r)),E.includes("RENDER_SHADOWS")&&(this.shadowUniforms=(ze=>({u_light_matrix_0:new c.bJ(ze),u_light_matrix_1:new c.bJ(ze),u_fade_range:new c.bK(ze),u_shadow_normal_offset:new c.bL(ze),u_shadow_intensity:new c.bM(ze),u_shadow_texel_size:new c.bM(ze),u_shadow_map_resolution:new c.bM(ze),u_shadow_direction:new c.bL(ze),u_shadow_bias:new c.bL(ze),u_shadowmap_0:new c.bN(ze),u_shadowmap_1:new c.bN(ze)}))(r))}}setTerrainUniformValues(r,l){if(!this.terrainUniforms)return;const m=this.terrainUniforms;if(!this.failedToCreate){r.program.set(this.program);for(const _ in l)m[_]&&m[_].set(this.program,_,l[_])}}setGlobeUniformValues(r,l){if(!this.globeUniforms)return;const m=this.globeUniforms;if(!this.failedToCreate){r.program.set(this.program);for(const _ in l)m[_]&&m[_].set(this.program,_,l[_])}}setFogUniformValues(r,l){if(!this.fogUniforms)return;const m=this.fogUniforms;if(!this.failedToCreate){r.program.set(this.program);for(const _ in l)m[_].set(this.program,_,l[_])}}setCutoffUniformValues(r,l){if(!this.cutoffUniforms)return;const m=this.cutoffUniforms;if(!this.failedToCreate){r.program.set(this.program);for(const _ in l)m[_].set(this.program,_,l[_])}}setLightsUniformValues(r,l){if(!this.lightsUniforms)return;const m=this.lightsUniforms;if(!this.failedToCreate){r.program.set(this.program);for(const _ in l)m[_].set(this.program,_,l[_])}}setShadowUniformValues(r,l){if(this.failedToCreate||!this.shadowUniforms)return;const m=this.shadowUniforms;r.program.set(this.program);for(const _ in l)m[_].set(this.program,_,l[_])}_drawDebugWireframe(r,l,m,_,x,E,R,F,V,U){const Q=r.options.wireframe;if(Q.terrain===!1&&Q.layers2D===!1&&Q.layers3D===!1)return;const ee=r.context;if(!(!(!Q.terrain||this.name!=="terrainRaster"&&this.name!=="globeRaster")||!(!Q.layers2D||r._terrain&&r._terrain.renderingToTexture||!wu.includes(this.name))||!(!Q.layers3D||!gd.includes(this.name))))return;const ce=ee.gl,Pe=r.wireframeDebugCache.getLinesFromTrianglesBuffer(r.frameCounter,x,ee);if(!Pe)return;const Se=[...this.fixedDefines];Se.push("DEBUG_WIREFRAME");const ze=r.getOrCreateProgram(this.name,{config:this.configuration,defines:Se});ee.program.set(ze.program);const Le=(xt,Wt,zt)=>{if(Wt[xt]&&zt[xt])for(const kt in Wt[xt])zt[xt][kt]&&zt[xt][kt].set(zt.program,kt,Wt[xt][kt].current)};V&&V.setUniforms(ze.program,ee,ze.binderUniforms,R,{zoom:F}),Le("fixedUniforms",this,ze),Le("terrainUniforms",this,ze),Le("globeUniforms",this,ze),Le("fogUniforms",this,ze),Le("lightsUniforms",this,ze),Le("shadowUniforms",this,ze),Pe.bind(),ee.setColorMode(new ia([ce.ONE,ce.ONE_MINUS_SRC_ALPHA,ce.ZERO,ce.ONE],c.aj.transparent,[!0,!0,!0,!1])),ee.setDepthMode(new jo(l.func===ce.LESS?ce.LEQUAL:l.func,jo.ReadOnly,l.range)),ee.setStencilMode(ea.disabled);const st=3*E.primitiveLength*2,St=3*E.primitiveOffset*2*2;if(this.forceManualRenderingForInstanceIDShaders){const xt=U||1;for(let Wt=0;Wt<xt;++Wt)ze.instancingUniforms.u_instanceID.set(this.program,"u_instanceID",Wt),ce.drawElements(ce.LINES,st,ce.UNSIGNED_SHORT,St)}else U&&U>1?ce.drawElementsInstanced(ce.LINES,st,ce.UNSIGNED_SHORT,St,U):ce.drawElements(ce.LINES,st,ce.UNSIGNED_SHORT,St);x.bind(),ee.program.set(this.program),ee.setDepthMode(l),ee.setStencilMode(m),ee.setColorMode(_)}checkUniforms(r,l,m){if(this.fixedDefines.includes(l)){for(const _ of Object.keys(m))if(!m[_].initialized)throw new Error(`Program '${this.name}', from draw '${r}': uniform ${_} not set but required by ${l} being defined`)}}draw(r,l,m,_,x,E,R,F,V,U,Q,ee,ce,Pe,Se,ze){const Le=r.context,st=Le.gl;if(this.failedToCreate)return;Le.program.set(this.program),Le.setDepthMode(m),Le.setStencilMode(_),Le.setColorMode(x),Le.setCullFace(E);for(const Wt of Object.keys(this.fixedUniforms))this.fixedUniforms[Wt].set(this.program,Wt,R[Wt]);Pe&&Pe.setUniforms(this.program,Le,this.binderUniforms,ee,{zoom:ce});const St={[st.POINTS]:1,[st.LINES]:2,[st.TRIANGLES]:3,[st.LINE_STRIP]:1}[l];this.checkUniforms(F,"RENDER_SHADOWS",this.shadowUniforms);const xt=ze&&ze>0?1:void 0;for(const Wt of Q.get()){const zt=Wt.vaos||(Wt.vaos={});if((zt[F]||(zt[F]=new ep)).bind(Le,this,V,Pe?Pe.getPaintVertexBuffers():[],U,Wt.vertexOffset,Se||[],xt),this.forceManualRenderingForInstanceIDShaders){const kt=ze||1;for(let Lt=0;Lt<kt;++Lt)this.instancingUniforms.u_instanceID.set(this.program,"u_instanceID",Lt),U?st.drawElements(l,Wt.primitiveLength*St,st.UNSIGNED_SHORT,Wt.primitiveOffset*St*2):st.drawArrays(l,Wt.vertexOffset,Wt.vertexLength)}else ze&&ze>1?st.drawElementsInstanced(l,Wt.primitiveLength*St,st.UNSIGNED_SHORT,Wt.primitiveOffset*St*2,ze):U?st.drawElements(l,Wt.primitiveLength*St,st.UNSIGNED_SHORT,Wt.primitiveOffset*St*2):st.drawArrays(l,Wt.vertexOffset,Wt.vertexLength);l===st.TRIANGLES&&U&&this._drawDebugWireframe(r,m,_,x,U,Wt,ee,ce,Pe,ze)}}}function Eu(p,r){const l=Math.pow(2,r.tileID.overscaledZ),m=r.tileSize*Math.pow(2,p.transform.tileZoom)/l,_=m*(r.tileID.canonical.x+r.tileID.wrap*l),x=m*r.tileID.canonical.y;return{u_image:0,u_texsize:r.imageAtlasTexture?r.imageAtlasTexture.size:[0,0],u_tile_units_to_pixels:1/c.ar(r,1,p.transform.tileZoom),u_pixel_coord_upper:[_>>16,x>>16],u_pixel_coord_lower:[65535&_,65535&x]}}const Pf={terrain:0,flat:1},Of=c.ab.mat4.create(),op=(p,r,l,m,_,x,E,R,F,V,U,Q,ee,ce,Pe,Se,ze,Le)=>{const st=r.style.light,St=st.properties.get("position"),xt=[St.x,St.y,St.z],Wt=c.ab.mat3.create();st.properties.get("anchor")==="viewport"&&(c.ab.mat3.fromRotation(Wt,-r.transform.angle),c.ab.vec3.transformMat3(xt,xt,Wt));const zt=st.properties.get("color"),kt=r.transform,Lt={u_matrix:p,u_lightpos:xt,u_lightintensity:st.properties.get("intensity"),u_lightcolor:[zt.r,zt.g,zt.b],u_vertical_gradient:+l,u_opacity:m,u_tile_id:[0,0,0],u_zoom_transition:0,u_inv_rot_matrix:Of,u_merc_center:[0,0],u_up_dir:[0,0,0],u_height_lift:0,u_height_type:Pf[V],u_base_type:Pf[U],u_ao:_,u_edge_radius:x,u_width_scale:E,u_flood_light_color:Pe,u_vertical_scale:Se,u_flood_light_intensity:ze,u_ground_shadow_factor:Le};return kt.projection.name==="globe"&&(Lt.u_tile_id=[R.canonical.x,R.canonical.y,1<<R.canonical.z],Lt.u_zoom_transition=Q,Lt.u_inv_rot_matrix=ce,Lt.u_merc_center=ee,Lt.u_up_dir=kt.projection.upVector(new c.bT(0,0,0),ee[0]*c.ag,ee[1]*c.ag),Lt.u_height_lift=F),Lt},ap=(p,r,l,m,_,x)=>({u_matrix:p,u_edge_radius:r,u_width_scale:l,u_vertical_scale:m,u_height_type:Pf[_],u_base_type:Pf[x]}),Wg=(p,r,l,m,_,x,E,R,F,V,U,Q,ee,ce,Pe,Se,ze)=>{const Le=op(p,r,l,m,_,x,E,R,V,U,Q,ee,ce,Pe,Se,ze,1,[0,0,0]),st={u_height_factor:-Math.pow(2,R.overscaledZ)/F.tileSize/8};return c.l(Le,Eu(r,F),st)},sp=(p,r)=>({u_matrix:p,u_emissive_strength:r}),ph=(p,r,l,m)=>c.l(sp(p,r),Eu(l,m)),lp=(p,r,l)=>({u_matrix:p,u_world:l,u_emissive_strength:r}),Gg=(p,r,l,m,_)=>c.l(ph(p,r,l,m),{u_world:_}),Iu=(p,r,l,m)=>{const _=c.ag/l.tileSize;return{u_matrix:p,u_camera_to_center_distance:r.getCameraToCenterDistance(m),u_extrude_scale:[r.pixelsToGLUnits[0]/_,r.pixelsToGLUnits[1]/_]}},Fc=(p,r,l=1)=>({u_matrix:p,u_color:r.toRenderColor(null),u_overlay:0,u_overlay_scale:l}),Gl=c.ab.mat4.create(),Eo=(p,r,l,m,_,x,E)=>{const R=p.transform,F=R.projection.name==="globe",V=F?c.cN(R.zoom,r.canonical)*R._pixelsPerMercatorPixel:c.ar(l,1,x),U={u_matrix:r.projMatrix,u_extrude_scale:V,u_intensity:E,u_inv_rot_matrix:Gl,u_merc_center:[0,0],u_tile_id:[0,0,0],u_zoom_transition:0,u_up_dir:[0,0,0]};if(F){U.u_inv_rot_matrix=m,U.u_merc_center=_,U.u_tile_id=[r.canonical.x,r.canonical.y,1<<r.canonical.z],U.u_zoom_transition=c.ae(R.zoom);const Q=_[0]*c.ag,ee=_[1]*c.ag;U.u_up_dir=R.projection.upVector(new c.bT(0,0,0),Q,ee)}return U};function cp(p,[r,l,m,_],[x,E]){if(x===E)return[0,0,0,0];const R=255*(p-1)/(p*(E-x));return[r*R,l*R,m*R,_*R]}function bm(p,r,[l,m]){return l===m?0:.5/p+(r-l)*(p-1)/(p*(m-l))}const Xd=(p,r,l,m,_,x,E,R,F,V,U,Q,ee,ce,Pe,Se,ze,Le,st,St,xt)=>({u_matrix:p,u_normalize_matrix:r,u_globe_matrix:l,u_merc_matrix:m,u_grid_matrix:_,u_tl_parent:x,u_scale_parent:V,u_fade_t:U.mix,u_opacity:U.opacity*Q.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:Q.paint.get("raster-brightness-min"),u_brightness_high:Q.paint.get("raster-brightness-max"),u_saturation_factor:c.cO(Q.paint.get("raster-saturation")),u_contrast_factor:c.cP(Q.paint.get("raster-contrast")),u_spin_weights:vd(Q.paint.get("raster-hue-rotate")),u_perspective_transform:ee,u_raster_elevation:ce,u_zoom_transition:E,u_merc_center:R,u_cutoff_params:F,u_colorization_mix:cp(c.cQ,Se,Le),u_colorization_offset:bm(c.cQ,ze,Le),u_color_ramp:Pe,u_texture_offset:[St/(st+2*St),st/(st+2*St)],u_texture_res:[st+2*St,st+2*St],u_emissive_strength:xt});function vd(p){p*=Math.PI/180;const r=Math.sin(p),l=Math.cos(p);return[(2*l+1)/3,(-Math.sqrt(3)*r-l+1)/3,(Math.sqrt(3)*r-l+1)/3]}const No=.05,xm=(p,r,l,m,_,x,E,R,F,V,U,Q)=>({u_matrix:p,u_normalize_matrix:r,u_globe_matrix:l,u_merc_matrix:m,u_grid_matrix:_,u_tl_parent:x,u_scale_parent:V,u_fade_t:U.mix,u_opacity:U.opacity,u_image0:0,u_image1:1,u_raster_elevation:Q,u_zoom_transition:E,u_merc_center:R,u_cutoff_params:F}),Cm=(p,r,l,m,_,x,E,R,F,V)=>({u_particle_texture:p,u_particle_texture_side_len:r,u_tile_offset:l,u_velocity:m,u_color_ramp:x,u_velocity_res:_,u_max_speed:E,u_uv_offset:R,u_data_scale:[255*F[0],255*F[1]],u_data_offset:V,u_particle_pos_scale:1.1,u_particle_pos_offset:[No,No]}),Mv=(p,r,l,m,_,x,E,R,F,V)=>({u_particle_texture:p,u_particle_texture_side_len:r,u_velocity:l,u_velocity_res:m,u_max_speed:_,u_speed_factor:x,u_reset_rate:E,u_rand_seed:Math.random(),u_uv_offset:R,u_data_scale:[255*F[0],255*F[1]],u_data_offset:V,u_particle_pos_scale:1.1,u_particle_pos_offset:[No,No]}),yd=c.ab.mat4.create(),hc=(p,r,l,m,_,x,E,R,F,V,U,Q,ee,ce,Pe,Se,ze,Le,st,St,xt,Wt)=>{const zt=_.transform,kt={u_is_size_zoom_constant:+(p==="constant"||p==="source"),u_is_size_feature_constant:+(p==="constant"||p==="camera"),u_size_t:r?r.uSizeT:0,u_size:r?r.uSize:0,u_camera_to_center_distance:zt.getCameraToCenterDistance(st),u_rotate_symbol:+l,u_aspect_ratio:zt.width/zt.height,u_fade_change:_.options.fadeDuration?_.symbolFadeChange:1,u_matrix:x,u_label_plane_matrix:E,u_coord_matrix:R,u_is_text:+V,u_elevation_from_sea:F?1:0,u_pitch_with_map:+m,u_texsize:U,u_texsize_icon:Q,u_texture:0,u_texture_icon:1,u_tile_id:[0,0,0],u_zoom_transition:0,u_inv_rot_matrix:yd,u_merc_center:[0,0],u_camera_forward:[0,0,0],u_ecef_origin:[0,0,0],u_tile_matrix:yd,u_up_vector:[0,-1,0],u_color_adj_mat:St,u_icon_transition:xt||0,u_gamma_scale:m?_.transform.getCameraToCenterDistance(st)*Math.cos(_.terrain?0:_.transform._pitch):1,u_device_pixel_ratio:c.q.devicePixelRatio,u_is_halo:+ee,u_scale_factor:Wt||1};return st.name==="globe"&&(kt.u_tile_id=[ce.canonical.x,ce.canonical.y,1<<ce.canonical.z],kt.u_zoom_transition=Pe,kt.u_inv_rot_matrix=ze,kt.u_merc_center=Se,kt.u_camera_forward=zt._camera.forward(),kt.u_ecef_origin=c.cR(zt.globeMatrix,ce.toUnwrapped()),kt.u_tile_matrix=Float32Array.from(zt.globeMatrix),kt.u_up_vector=Le),kt},Gu=(p,r,l,m)=>({u_matrix:p,u_emissive_strength:r,u_opacity:l,u_color:m}),Pv=(p,r,l,m,_,x,E,R,F)=>c.l(function(V,U,Q,ee,ce,Pe){const{width:Se,height:ze}=ee.imageManager.getPixelSize(U),Le=Math.pow(2,Pe.tileID.overscaledZ),st=Pe.tileSize*Math.pow(2,ee.transform.tileZoom)/Le,St=st*(Pe.tileID.canonical.x+Pe.tileID.wrap*Le),xt=st*Pe.tileID.canonical.y;return{u_image:0,u_pattern_tl:Q.tl,u_pattern_br:Q.br,u_texsize:[Se,ze],u_pattern_size:Q.displaySize,u_pattern_units_to_pixels:ce?[ee.transform.width,-1*ee.transform.height]:[1/c.ar(Pe,1,ee.transform.tileZoom),1/c.ar(Pe,1,ee.transform.tileZoom)],u_pixel_coord_upper:[St>>16,xt>>16],u_pixel_coord_lower:[65535&St,65535&xt]}}(0,x,E,m,R,F),{u_matrix:p,u_emissive_strength:r,u_opacity:l}),mh=new Float32Array(c.ab.mat4.identity([])),gh=(p,r,l,m,_,x,E,R,F,V,U,Q,ee,ce=[0,0,0],Pe)=>{const Se=_.style.light,ze=Se.properties.get("position"),Le=[-ze.x,-ze.y,ze.z],st=c.ab.mat3.create();Se.properties.get("anchor")==="viewport"&&(c.ab.mat3.fromRotation(st,-_.transform.angle),c.ab.vec3.transformMat3(Le,Le,st));const St=U.alphaMode==="MASK",xt=Se.properties.get("color").toRenderColor(null),Wt=ee.paint.get("model-ambient-occlusion-intensity"),zt=ee.paint.get("model-color").constantOr(c.aj.white).toRenderColor(null),kt=ee.paint.get("model-color-mix-intensity").constantOr(0);return{u_matrix:p,u_lighting_matrix:r,u_normal_matrix:l,u_node_matrix:m||mh,u_lightpos:Le,u_lightintensity:Se.properties.get("intensity"),u_lightcolor:[xt.r,xt.g,xt.b],u_camera_pos:ce,u_opacity:x,u_baseTextureIsAlpha:0,u_alphaMask:+St,u_alphaCutoff:U.alphaCutoff,u_baseColorFactor:[E.r,E.g,E.b,E.a],u_emissiveFactor:[R[0],R[1],R[2],1],u_metallicFactor:F,u_roughnessFactor:V,u_baseColorTexture:pl.BaseColor,u_metallicRoughnessTexture:pl.MetallicRoughness,u_normalTexture:pl.Normal,u_occlusionTexture:pl.Occlusion,u_emissionTexture:pl.Emission,u_lutTexture:pl.LUT,u_color_mix:[zt.r,zt.g,zt.b,kt],u_aoIntensity:Wt,u_emissive_strength:Q,u_occlusionTextureTransform:Pe||[0,0,0,0]}},up=(p,r=mh,l=mh)=>({u_matrix:p,u_instance:r,u_node_matrix:l}),Sm={fillExtrusion:p=>({u_matrix:new c.bJ(p),u_lightpos:new c.bL(p),u_lightintensity:new c.bM(p),u_lightcolor:new c.bL(p),u_vertical_gradient:new c.bM(p),u_opacity:new c.bM(p),u_edge_radius:new c.bM(p),u_width_scale:new c.bM(p),u_ao:new c.bK(p),u_height_type:new c.bN(p),u_base_type:new c.bN(p),u_tile_id:new c.bL(p),u_zoom_transition:new c.bM(p),u_inv_rot_matrix:new c.bJ(p),u_merc_center:new c.bK(p),u_up_dir:new c.bL(p),u_height_lift:new c.bM(p),u_flood_light_color:new c.bL(p),u_vertical_scale:new c.bM(p),u_flood_light_intensity:new c.bM(p),u_ground_shadow_factor:new c.bL(p)}),fillExtrusionDepth:p=>({u_matrix:new c.bJ(p),u_edge_radius:new c.bM(p),u_width_scale:new c.bM(p),u_vertical_scale:new c.bM(p),u_height_type:new c.bN(p),u_base_type:new c.bN(p)}),fillExtrusionPattern:p=>({u_matrix:new c.bJ(p),u_lightpos:new c.bL(p),u_lightintensity:new c.bM(p),u_lightcolor:new c.bL(p),u_vertical_gradient:new c.bM(p),u_height_factor:new c.bM(p),u_edge_radius:new c.bM(p),u_width_scale:new c.bM(p),u_ao:new c.bK(p),u_height_type:new c.bN(p),u_base_type:new c.bN(p),u_tile_id:new c.bL(p),u_zoom_transition:new c.bM(p),u_inv_rot_matrix:new c.bJ(p),u_merc_center:new c.bK(p),u_up_dir:new c.bL(p),u_height_lift:new c.bM(p),u_image:new c.bN(p),u_texsize:new c.bK(p),u_pixel_coord_upper:new c.bK(p),u_pixel_coord_lower:new c.bK(p),u_tile_units_to_pixels:new c.bM(p),u_opacity:new c.bM(p)}),fillExtrusionGroundEffect:p=>({u_matrix:new c.bJ(p),u_opacity:new c.bM(p),u_ao_pass:new c.bM(p),u_meter_to_tile:new c.bM(p),u_ao:new c.bK(p),u_flood_light_intensity:new c.bM(p),u_flood_light_color:new c.bL(p),u_attenuation:new c.bM(p),u_edge_radius:new c.bM(p),u_fb:new c.bN(p),u_fb_size:new c.bM(p),u_dynamic_offset:new c.bM(p)}),fill:p=>({u_matrix:new c.bJ(p),u_emissive_strength:new c.bM(p)}),fillPattern:p=>({u_matrix:new c.bJ(p),u_emissive_strength:new c.bM(p),u_image:new c.bN(p),u_texsize:new c.bK(p),u_pixel_coord_upper:new c.bK(p),u_pixel_coord_lower:new c.bK(p),u_tile_units_to_pixels:new c.bM(p)}),fillOutline:p=>({u_matrix:new c.bJ(p),u_emissive_strength:new c.bM(p),u_world:new c.bK(p)}),fillOutlinePattern:p=>({u_matrix:new c.bJ(p),u_emissive_strength:new c.bM(p),u_world:new c.bK(p),u_image:new c.bN(p),u_texsize:new c.bK(p),u_pixel_coord_upper:new c.bK(p),u_pixel_coord_lower:new c.bK(p),u_tile_units_to_pixels:new c.bM(p)}),circle:c.cS,collisionBox:p=>({u_matrix:new c.bJ(p),u_camera_to_center_distance:new c.bM(p),u_extrude_scale:new c.bK(p)}),collisionCircle:p=>({u_matrix:new c.bJ(p),u_inv_matrix:new c.bJ(p),u_camera_to_center_distance:new c.bM(p),u_viewport_size:new c.bK(p)}),debug:p=>({u_color:new c.cz(p),u_matrix:new c.bJ(p),u_overlay:new c.bN(p),u_overlay_scale:new c.bM(p)}),clippingMask:p=>({u_matrix:new c.bJ(p)}),heatmap:p=>({u_extrude_scale:new c.bM(p),u_intensity:new c.bM(p),u_matrix:new c.bJ(p),u_inv_rot_matrix:new c.bJ(p),u_merc_center:new c.bK(p),u_tile_id:new c.bL(p),u_zoom_transition:new c.bM(p),u_up_dir:new c.bL(p)}),heatmapTexture:p=>({u_image:new c.bN(p),u_color_ramp:new c.bN(p),u_opacity:new c.bM(p)}),hillshade:p=>({u_matrix:new c.bJ(p),u_image:new c.bN(p),u_latrange:new c.bK(p),u_light:new c.bK(p),u_shadow:new c.cz(p),u_highlight:new c.cz(p),u_emissive_strength:new c.bM(p),u_accent:new c.cz(p)}),hillshadePrepare:p=>({u_matrix:new c.bJ(p),u_image:new c.bN(p),u_dimension:new c.bK(p),u_zoom:new c.bM(p)}),line:c.cT,linePattern:c.cU,raster:p=>({u_matrix:new c.bJ(p),u_normalize_matrix:new c.bJ(p),u_globe_matrix:new c.bJ(p),u_merc_matrix:new c.bJ(p),u_grid_matrix:new c.cA(p),u_tl_parent:new c.bK(p),u_scale_parent:new c.bM(p),u_fade_t:new c.bM(p),u_opacity:new c.bM(p),u_image0:new c.bN(p),u_image1:new c.bN(p),u_brightness_low:new c.bM(p),u_brightness_high:new c.bM(p),u_saturation_factor:new c.bM(p),u_contrast_factor:new c.bM(p),u_spin_weights:new c.bL(p),u_perspective_transform:new c.bK(p),u_raster_elevation:new c.bM(p),u_zoom_transition:new c.bM(p),u_merc_center:new c.bK(p),u_cutoff_params:new c.ca(p),u_colorization_mix:new c.ca(p),u_colorization_offset:new c.bM(p),u_color_ramp:new c.bN(p),u_texture_offset:new c.bK(p),u_texture_res:new c.bK(p),u_emissive_strength:new c.bM(p)}),rasterParticle:p=>({u_matrix:new c.bJ(p),u_normalize_matrix:new c.bJ(p),u_globe_matrix:new c.bJ(p),u_merc_matrix:new c.bJ(p),u_grid_matrix:new c.cA(p),u_tl_parent:new c.bK(p),u_scale_parent:new c.bM(p),u_fade_t:new c.bM(p),u_opacity:new c.bM(p),u_image0:new c.bN(p),u_image1:new c.bN(p),u_raster_elevation:new c.bM(p),u_zoom_transition:new c.bM(p),u_merc_center:new c.bK(p),u_cutoff_params:new c.ca(p)}),rasterParticleTexture:p=>({u_texture:new c.bN(p),u_opacity:new c.bM(p)}),rasterParticleDraw:p=>({u_particle_texture:new c.bN(p),u_particle_texture_side_len:new c.bM(p),u_tile_offset:new c.bK(p),u_velocity:new c.bN(p),u_color_ramp:new c.bN(p),u_velocity_res:new c.bK(p),u_max_speed:new c.bM(p),u_uv_offset:new c.bK(p),u_data_scale:new c.bK(p),u_data_offset:new c.bM(p),u_particle_pos_scale:new c.bM(p),u_particle_pos_offset:new c.bK(p)}),rasterParticleUpdate:p=>({u_particle_texture:new c.bN(p),u_particle_texture_side_len:new c.bM(p),u_velocity:new c.bN(p),u_velocity_res:new c.bK(p),u_max_speed:new c.bM(p),u_speed_factor:new c.bM(p),u_reset_rate:new c.bM(p),u_rand_seed:new c.bM(p),u_uv_offset:new c.bK(p),u_data_scale:new c.bK(p),u_data_offset:new c.bM(p),u_particle_pos_scale:new c.bM(p),u_particle_pos_offset:new c.bK(p)}),symbol:p=>({u_is_size_zoom_constant:new c.bN(p),u_is_size_feature_constant:new c.bN(p),u_size_t:new c.bM(p),u_size:new c.bM(p),u_camera_to_center_distance:new c.bM(p),u_rotate_symbol:new c.bN(p),u_aspect_ratio:new c.bM(p),u_fade_change:new c.bM(p),u_matrix:new c.bJ(p),u_label_plane_matrix:new c.bJ(p),u_coord_matrix:new c.bJ(p),u_is_text:new c.bN(p),u_elevation_from_sea:new c.bN(p),u_pitch_with_map:new c.bN(p),u_texsize:new c.bK(p),u_texsize_icon:new c.bK(p),u_texture:new c.bN(p),u_texture_icon:new c.bN(p),u_gamma_scale:new c.bM(p),u_device_pixel_ratio:new c.bM(p),u_tile_id:new c.bL(p),u_zoom_transition:new c.bM(p),u_inv_rot_matrix:new c.bJ(p),u_merc_center:new c.bK(p),u_camera_forward:new c.bL(p),u_tile_matrix:new c.bJ(p),u_up_vector:new c.bL(p),u_ecef_origin:new c.bL(p),u_is_halo:new c.bN(p),u_icon_transition:new c.bM(p),u_color_adj_mat:new c.bJ(p),u_scale_factor:new c.bM(p)}),background:p=>({u_matrix:new c.bJ(p),u_emissive_strength:new c.bM(p),u_opacity:new c.bM(p),u_color:new c.cz(p)}),backgroundPattern:p=>({u_matrix:new c.bJ(p),u_emissive_strength:new c.bM(p),u_opacity:new c.bM(p),u_image:new c.bN(p),u_pattern_tl:new c.bK(p),u_pattern_br:new c.bK(p),u_texsize:new c.bK(p),u_pattern_size:new c.bK(p),u_pixel_coord_upper:new c.bK(p),u_pixel_coord_lower:new c.bK(p),u_pattern_units_to_pixels:new c.bK(p)}),terrainRaster:p=>({u_matrix:new c.bJ(p),u_image0:new c.bN(p),u_skirt_height:new c.bM(p),u_ground_shadow_factor:new c.bL(p)}),skybox:p=>({u_matrix:new c.bJ(p),u_sun_direction:new c.bL(p),u_cubemap:new c.bN(p),u_opacity:new c.bM(p),u_temporal_offset:new c.bM(p)}),skyboxGradient:p=>({u_matrix:new c.bJ(p),u_color_ramp:new c.bN(p),u_center_direction:new c.bL(p),u_radius:new c.bM(p),u_opacity:new c.bM(p),u_temporal_offset:new c.bM(p)}),skyboxCapture:p=>({u_matrix_3f:new c.cA(p),u_sun_direction:new c.bL(p),u_sun_intensity:new c.bM(p),u_color_tint_r:new c.ca(p),u_color_tint_m:new c.ca(p),u_luminance:new c.bM(p)}),globeRaster:p=>({u_proj_matrix:new c.bJ(p),u_globe_matrix:new c.bJ(p),u_normalize_matrix:new c.bJ(p),u_merc_matrix:new c.bJ(p),u_zoom_transition:new c.bM(p),u_merc_center:new c.bK(p),u_image0:new c.bN(p),u_grid_matrix:new c.cA(p),u_skirt_height:new c.bM(p),u_far_z_cutoff:new c.bM(p),u_frustum_tl:new c.bL(p),u_frustum_tr:new c.bL(p),u_frustum_br:new c.bL(p),u_frustum_bl:new c.bL(p),u_globe_pos:new c.bL(p),u_globe_radius:new c.bM(p),u_viewport:new c.bK(p)}),globeAtmosphere:p=>({u_frustum_tl:new c.bL(p),u_frustum_tr:new c.bL(p),u_frustum_br:new c.bL(p),u_frustum_bl:new c.bL(p),u_horizon:new c.bM(p),u_transition:new c.bM(p),u_fadeout_range:new c.bM(p),u_color:new c.ca(p),u_high_color:new c.ca(p),u_space_color:new c.ca(p),u_temporal_offset:new c.bM(p),u_horizon_angle:new c.bM(p)}),model:p=>({u_matrix:new c.bJ(p),u_lighting_matrix:new c.bJ(p),u_normal_matrix:new c.bJ(p),u_node_matrix:new c.bJ(p),u_lightpos:new c.bL(p),u_lightintensity:new c.bM(p),u_lightcolor:new c.bL(p),u_camera_pos:new c.bL(p),u_opacity:new c.bM(p),u_baseColorFactor:new c.ca(p),u_emissiveFactor:new c.ca(p),u_metallicFactor:new c.bM(p),u_roughnessFactor:new c.bM(p),u_baseTextureIsAlpha:new c.bN(p),u_alphaMask:new c.bN(p),u_alphaCutoff:new c.bM(p),u_baseColorTexture:new c.bN(p),u_metallicRoughnessTexture:new c.bN(p),u_normalTexture:new c.bN(p),u_occlusionTexture:new c.bN(p),u_emissionTexture:new c.bN(p),u_lutTexture:new c.bN(p),u_color_mix:new c.ca(p),u_aoIntensity:new c.bM(p),u_emissive_strength:new c.bM(p),u_occlusionTextureTransform:new c.ca(p)}),modelDepth:p=>({u_matrix:new c.bJ(p),u_instance:new c.bJ(p),u_node_matrix:new c.bJ(p)}),groundShadow:p=>({u_matrix:new c.bJ(p),u_ground_shadow_factor:new c.bL(p)}),stars:p=>({u_matrix:new c.bJ(p),u_up:new c.bL(p),u_right:new c.bL(p),u_intensity_multiplier:new c.bM(p)}),snowParticle:p=>({u_modelview:new c.bJ(p),u_projection:new c.bJ(p),u_time:new c.bM(p),u_cam_pos:new c.bL(p),u_velocityConeAperture:new c.bM(p),u_velocity:new c.bM(p),u_horizontalOscillationRadius:new c.bM(p),u_horizontalOscillationRate:new c.bM(p),u_boxSize:new c.bM(p),u_billboardSize:new c.bM(p),u_simpleShapeParameters:new c.bK(p),u_screenSize:new c.bK(p),u_thinningCenterPos:new c.bK(p),u_thinningShape:new c.bL(p),u_thinningAffectedRatio:new c.bM(p),u_thinningParticleOffset:new c.bM(p),u_particleColor:new c.ca(p),u_direction:new c.bL(p)}),rainParticle:p=>({u_modelview:new c.bJ(p),u_projection:new c.bJ(p),u_time:new c.bM(p),u_cam_pos:new c.bL(p),u_texScreen:new c.bN(p),u_velocityConeAperture:new c.bM(p),u_velocity:new c.bM(p),u_boxSize:new c.bM(p),u_rainDropletSize:new c.bK(p),u_distortionStrength:new c.bM(p),u_rainDirection:new c.bL(p),u_color:new c.ca(p),u_screenSize:new c.bK(p),u_thinningCenterPos:new c.bK(p),u_thinningShape:new c.bL(p),u_thinningAffectedRatio:new c.bM(p),u_thinningParticleOffset:new c.bM(p),u_shapeDirectionalPower:new c.bM(p),u_shapeNormalPower:new c.bM(p),u_mode:new c.bM(p)}),vignette:p=>({u_vignetteShape:new c.bL(p),u_vignetteColor:new c.ca(p)}),occlusion:p=>({u_matrix:new c.bJ(p),u_anchorPos:new c.bL(p),u_screenSizePx:new c.bK(p),u_occluderSizePx:new c.bK(p),u_color:new c.ca(p)})};class hu{constructor(r,l,m,_){this.id=hu.uniqueIdxCounter,hu.uniqueIdxCounter++,this.context=r;const x=r.gl;this.buffer=x.createBuffer(),this.dynamicDraw=!!m,this.context.unbindVAO(),r.bindElementBuffer.set(this.buffer),x.bufferData(x.ELEMENT_ARRAY_BUFFER,l.arrayBuffer,this.dynamicDraw?x.DYNAMIC_DRAW:x.STATIC_DRAW),this.dynamicDraw||_||l.destroy()}bind(){this.context.bindElementBuffer.set(this.buffer)}updateData(r){this.id=hu.uniqueIdxCounter,hu.uniqueIdxCounter++;const l=this.context.gl;this.context.unbindVAO(),this.bind(),l.bufferSubData(l.ELEMENT_ARRAY_BUFFER,0,r.arrayBuffer)}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}hu.uniqueIdxCounter=0;const kc={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"};class _d{constructor(r,l,m,_,x,E){this.length=l.length,this.attributes=m,this.itemSize=l.bytesPerElement,this.dynamicDraw=_,this.instanceCount=E,this.context=r;const R=r.gl;this.buffer=R.createBuffer(),r.bindVertexBuffer.set(this.buffer),R.bufferData(R.ARRAY_BUFFER,l.arrayBuffer,this.dynamicDraw?R.DYNAMIC_DRAW:R.STATIC_DRAW),this.dynamicDraw||x||l.destroy()}bind(){this.context.bindVertexBuffer.set(this.buffer)}updateData(r){const l=this.context.gl;this.bind(),l.bufferSubData(l.ARRAY_BUFFER,0,r.arrayBuffer)}enableAttributes(r,l){for(let m=0;m<this.attributes.length;m++){const _=l.attributes[this.attributes[m].name];_!==void 0&&r.enableVertexAttribArray(_)}}setVertexAttribPointers(r,l,m){for(let _=0;_<this.attributes.length;_++){const x=this.attributes[_],E=l.attributes[x.name];E!==void 0&&r.vertexAttribPointer(E,x.components,r[kc[x.type]],!1,this.itemSize,x.offset+this.itemSize*(m||0))}}setVertexAttribDivisor(r,l,m){for(let _=0;_<this.attributes.length;_++){const x=l.attributes[this.attributes[_].name];x!==void 0&&this.instanceCount&&this.instanceCount>0&&r.vertexAttribDivisor(x,m)}}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}class Kg{constructor(r,l,m,_,x){this.context=r,this.width=l,this.height=m;const E=this.framebuffer=r.gl.createFramebuffer();_&&(this.colorAttachment=new In(r,E)),x&&(this.depthAttachmentType=x,this.depthAttachment=x==="renderbuffer"?new Vr(r,E):new so(r,E))}destroy(){const r=this.context.gl;if(this.colorAttachment){const l=this.colorAttachment.get();l&&r.deleteTexture(l)}if(this.depthAttachment&&this.depthAttachmentType)if(this.depthAttachmentType==="renderbuffer"){const l=this.depthAttachment.get();l&&r.deleteRenderbuffer(l)}else{const l=this.depthAttachment.get();l&&r.deleteTexture(l)}r.deleteFramebuffer(this.framebuffer)}}class dp{constructor(r,l){this.gl=r,this.clearColor=new md(this),this.clearDepth=new lh(this),this.clearStencil=new uu(this),this.colorMask=new xf(this),this.depthMask=new Vd(this),this.stencilMask=new ch(this),this.stencilFunc=new Cf(this),this.stencilOp=new Uu(this),this.stencilTest=new Hd(this),this.depthRange=new du(this),this.depthTest=new xc(this),this.depthFunc=new Sf(this),this.blend=new Ud(this),this.blendFunc=new Wd(this),this.blendColor=new uh(this),this.blendEquation=new dh(this),this.cullFace=new Gd(this),this.cullFaceSide=new tp(this),this.frontFace=new fu(this),this.program=new Kd(this),this.activeTexture=new np(this),this.viewport=new fh(this),this.bindFramebuffer=new Wu(this),this.bindRenderbuffer=new wf(this),this.bindTexture=new Ug(this),this.bindVertexBuffer=new rp(this),this.bindElementBuffer=new ip(this),this.bindVertexArrayOES=new _m(this),this.pixelStoreUnpack=new hh(this),this.pixelStoreUnpackPremultiplyAlpha=new Ef(this),this.pixelStoreUnpackFlipY=new If(this),this.options=l?Object.assign({},l):{},this.options.extTextureFilterAnisotropicForceOff||(this.extTextureFilterAnisotropic=r.getExtension("EXT_texture_filter_anisotropic")||r.getExtension("MOZ_EXT_texture_filter_anisotropic")||r.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=r.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT))),this.extDebugRendererInfo=r.getExtension("WEBGL_debug_renderer_info"),this.extDebugRendererInfo&&(this.renderer=r.getParameter(this.extDebugRendererInfo.UNMASKED_RENDERER_WEBGL),this.vendor=r.getParameter(this.extDebugRendererInfo.UNMASKED_VENDOR_WEBGL)),this.forceManualRenderingForInstanceIDShaders=l&&!!l.forceManualRenderingForInstanceIDShaders||this.renderer&&this.renderer.indexOf("PowerVR")!==-1,this.options.extTextureFloatLinearForceOff||(this.extTextureFloatLinear=r.getExtension("OES_texture_float_linear")),this.extRenderToTextureHalfFloat=r.getExtension("EXT_color_buffer_half_float"),this.extTimerQuery=r.getExtension("EXT_disjoint_timer_query_webgl2"),this.maxTextureSize=r.getParameter(r.MAX_TEXTURE_SIZE),this.maxPointSize=r.getParameter(r.ALIASED_POINT_SIZE_RANGE)[1]}setDefault(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()}setDirty(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.bindVertexArrayOES.dirty=!0,this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0}createIndexBuffer(r,l,m){return new hu(this,r,l,m)}createVertexBuffer(r,l,m,_,x){return new _d(this,r,l,m,_,x)}createRenderbuffer(r,l,m){const _=this.gl,x=_.createRenderbuffer();return this.bindRenderbuffer.set(x),_.renderbufferStorage(_.RENDERBUFFER,r,l,m),this.bindRenderbuffer.set(null),x}createFramebuffer(r,l,m,_){return new Kg(this,r,l,m,_)}clear({color:r,depth:l,stencil:m,colorMask:_}){const x=this.gl;let E=0;r&&(E|=x.COLOR_BUFFER_BIT,this.clearColor.set(r),this.colorMask.set(_||[!0,!0,!0,!0])),l!==void 0&&(E|=x.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(l),this.depthMask.set(!0)),m!==void 0&&(E|=x.STENCIL_BUFFER_BIT,this.clearStencil.set(m),this.stencilMask.set(255)),x.clear(E)}setCullFace(r){r.enable===!1?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(r.mode),this.frontFace.set(r.frontFace))}setDepthMode(r){r.func!==this.gl.ALWAYS||r.mask?(this.depthTest.set(!0),this.depthFunc.set(r.func),this.depthMask.set(r.mask),this.depthRange.set(r.range)):this.depthTest.set(!1)}setStencilMode(r){r.test.func!==this.gl.ALWAYS||r.mask?(this.stencilTest.set(!0),this.stencilMask.set(r.mask),this.stencilOp.set([r.fail,r.depthFail,r.pass]),this.stencilFunc.set({func:r.test.func,ref:r.ref,mask:r.test.mask})):this.stencilTest.set(!1)}setColorMode(r){c.bn(r.blendFunction,ia.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(r.blendFunction),this.blendColor.set(r.blendColor),r.blendEquation?this.blendEquation.set(r.blendEquation):this.blendEquation.setDefault()),this.colorMask.set(r.mask)}unbindVAO(){this.bindVertexArrayOES.set(null)}}let bd;function vh(p,r,l,m,_,x,E){const R=p.context,F=R.gl,V=p.transform,U=p.getOrCreateProgram("collisionBox"),Q=[];let ee=0,ce=0;for(let xt=0;xt<m.length;xt++){const Wt=m[xt],zt=r.getTile(Wt),kt=zt.getBucket(l);if(!kt)continue;const Lt=Po(Wt,kt,V);let cn=Lt;_[0]===0&&_[1]===0||(cn=p.translatePosMatrix(Lt,zt,_,x));const Tn=E?kt.textCollisionBox:kt.iconCollisionBox,hr=kt.collisionCircleArray;if(hr.length>0){const nr=c.ab.mat4.create(),jr=cn;c.ab.mat4.mul(nr,kt.placementInvProjMatrix,V.glCoordMatrix),c.ab.mat4.mul(nr,nr,kt.placementViewportMatrix),Q.push({circleArray:hr,circleOffset:ce,transform:jr,invTransform:nr,projection:kt.getProjection()}),ee+=hr.length/4,ce=ee}Tn&&(p.terrain&&p.terrain.setupElevationDraw(zt,U),U.draw(p,F.LINES,jo.disabled,ea.disabled,p.colorModeForRenderPass(),sa.disabled,Iu(cn,V,zt,kt.getProjection()),l.id,Tn.layoutVertexBuffer,Tn.indexBuffer,Tn.segments,null,V.zoom,null,[Tn.collisionVertexBuffer,Tn.collisionVertexBufferExt]))}if(!E||!Q.length)return;const Pe=p.getOrCreateProgram("collisionCircle"),Se=new c.cV;Se.resize(4*ee),Se._trim();let ze=0;for(const xt of Q)for(let Wt=0;Wt<xt.circleArray.length/4;Wt++){const zt=4*Wt,kt=xt.circleArray[zt+0],Lt=xt.circleArray[zt+1],cn=xt.circleArray[zt+2],Tn=xt.circleArray[zt+3];Se.emplace(ze++,kt,Lt,cn,Tn,0),Se.emplace(ze++,kt,Lt,cn,Tn,1),Se.emplace(ze++,kt,Lt,cn,Tn,2),Se.emplace(ze++,kt,Lt,cn,Tn,3)}(!bd||bd.length<2*ee)&&(bd=function(xt){const Wt=2*xt,zt=new c.aU;zt.resize(Wt),zt._trim();for(let kt=0;kt<Wt;kt++){const Lt=6*kt;zt.uint16[Lt+0]=4*kt+0,zt.uint16[Lt+1]=4*kt+1,zt.uint16[Lt+2]=4*kt+2,zt.uint16[Lt+3]=4*kt+2,zt.uint16[Lt+4]=4*kt+3,zt.uint16[Lt+5]=4*kt+0}return zt}(ee));const Le=R.createIndexBuffer(bd,!0),st=R.createVertexBuffer(Se,c.cW.members,!0);for(const xt of Q){const Wt={u_matrix:xt.transform,u_inv_matrix:xt.invTransform,u_camera_to_center_distance:(St=V).getCameraToCenterDistance(xt.projection),u_viewport_size:[St.width,St.height]};Pe.draw(p,F.TRIANGLES,jo.disabled,ea.disabled,p.colorModeForRenderPass(),sa.disabled,Wt,l.id,st,Le,c.b7.simpleSegment(0,2*xt.circleOffset,xt.circleArray.length,xt.circleArray.length/2),null,V.zoom)}var St;st.destroy(),Le.destroy()}const fp=c.ab.mat4.create();function Gc(p){const r=p._camera.getWorldToCamera(p.worldSize,1),l=c.ab.mat4.multiply([],r,p.globeMatrix);c.ab.mat4.invert(l,l);const m=[0,0,0],_=[0,1,0,0];return c.ab.vec4.transformMat4(_,_,l),m[0]=_[0],m[1]=_[1],m[2]=_[2],c.ab.vec3.normalize(m,m),m}function Us({width:p,height:r,anchor:l,textOffset:m,textScale:_},x){const{horizontalAlign:E,verticalAlign:R}=c.bD(l),F=-(E-.5)*p,V=-(R-.5)*r,U=c.bC(l,m);return new c.P((F/_+U[0])*x,(V/_+U[1])*x)}function hp(p,r,l,m,_,x,E,R,F,V,U){const Q=p.text.placedSymbolArray,ee=p.text.dynamicLayoutVertexArray,ce=p.icon.dynamicLayoutVertexArray,Pe={},Se=p.getProjection(),ze=la(R,Se,x),Le=x.elevation,st=Se.upVectorScale(R.canonical,x.center.lat,x.worldSize).metersToTile;ee.clear();for(let St=0;St<Q.length;St++){const xt=Q.get(St),{tileAnchorX:Wt,tileAnchorY:zt,numGlyphs:kt}=xt,Lt=xt.hidden||!xt.crossTileID||p.allowVerticalPlacement&&!xt.placedOrientation?null:m[xt.crossTileID];if(Lt){let cn=0,Tn=0,hr=0;if(Le){const xr=Le?Le.getAtTileOffset(R,Wt,zt):0,[zi,qr,Gr]=Se.upVector(R.canonical,Wt,zt);cn=xr*zi*st,Tn=xr*qr*st,hr=xr*Gr*st}let[nr,jr,Br,Un]=Fe(xt.projectedAnchorX+cn,xt.projectedAnchorY+Tn,xt.projectedAnchorZ+hr,l?ze:E);const vr=Nt(x.getCameraToCenterDistance(Se),Un);let vi=_.evaluateSizeForFeature(p.textSizeData,V,xt)*vr/c.bw;l&&(vi*=p.tilePixelRatio/F);const kn=Us(Lt,vi);l?({x:nr,y:jr,z:Br}=Se.projectTilePoint(Wt+kn.x,zt+kn.y,R.canonical),[nr,jr,Br]=Fe(nr+cn,jr+Tn,Br+hr,E)):(r&&kn._rotate(-x.angle),nr+=kn.x,jr+=kn.y,Br=0);const Xr=p.allowVerticalPlacement&&xt.placedOrientation===c.bq.vertical?Math.PI/2:0;for(let xr=0;xr<kt;xr++)c.bt(ee,nr,jr,Br,Xr);U&&xt.associatedIconIndex>=0&&(Pe[xt.associatedIconIndex]={x:nr,y:jr,z:Br,angle:Xr})}else Ai(kt,ee)}if(U){ce.clear();const St=p.icon.placedSymbolArray;for(let xt=0;xt<St.length;xt++){const Wt=St.get(xt),{numGlyphs:zt}=Wt,kt=Pe[xt];if(Wt.hidden||!kt)Ai(zt,ce);else{const{x:Lt,y:cn,z:Tn,angle:hr}=kt;for(let nr=0;nr<zt;nr++)c.bt(ce,Lt,cn,Tn,hr)}}p.icon.dynamicLayoutVertexBuffer.updateData(ce)}p.text.dynamicLayoutVertexBuffer.updateData(ee)}function yh(p,r,l,m,_,x,E={}){const R=l.paint.get("icon-translate"),F=l.paint.get("text-translate"),V=l.paint.get("icon-translate-anchor"),U=l.paint.get("text-translate-anchor"),Q=l.layout.get("icon-rotation-alignment"),ee=l.layout.get("text-rotation-alignment"),ce=l.layout.get("icon-pitch-alignment"),Pe=l.layout.get("text-pitch-alignment"),Se=l.layout.get("icon-keep-upright"),ze=l.layout.get("text-keep-upright"),Le=l.paint.get("icon-color-saturation"),st=l.paint.get("icon-color-contrast"),St=l.paint.get("icon-color-brightness-min"),xt=l.paint.get("icon-color-brightness-max"),Wt=l.layout.get("symbol-elevation-reference")==="sea",zt=p.context,kt=zt.gl,Lt=p.transform,cn=Q==="map",Tn=ee==="map",hr=ce==="map",nr=Pe==="map",jr=l.layout.get("symbol-sort-key").constantOr(1)!==void 0;let Br=!1;const Un=p.depthModeForSublayer(0,jo.ReadOnly),vr=[c.at(Lt.center.lng),c.aA(Lt.center.lat)],vi=l.layout.get("text-variable-anchor"),kn=Lt.projection.name==="globe",Xr=[],xr=[0,-1,0];for(const zi of m){const qr=r.getTile(zi),Gr=qr.getBucket(l);if(!Gr||Gr.projection.name==="mercator"&&kn||Gr.fullyClipped)continue;const wi=Gr.projection.name==="globe",Ni=wi?c.ae(Lt.zoom):0,lo=la(zi,Gr.getProjection(),Lt),bo=Lt.calculatePixelsToTileUnitsMatrix(qr),ca=vi&&Gr.hasTextData(),mo=Gr.hasIconTextFit()&&ca&&Gr.hasIconData(),Ko=Gr.getProjection().createInversionMatrix(Lt,zi.canonical),Yo=_s=>{Lt.depthOcclusionForSymbolsAndCircles&&(l.hasInitialOcclusionOpacityProperties||p.terrain)&&(_s.push("DEPTH_D24"),_s.push("DEPTH_OCCLUSION"))},as=()=>{const _s=cn&&l.layout.get("symbol-placement")!=="point",bs=[];Yo(bs);const nl=_s||mo,Fl=l.paint.get("icon-image-cross-fade").constantOr(0);p.terrainRenderModeElevated()&&hr&&bs.push("PITCH_WITH_MAP_TERRAIN"),wi&&(bs.push("PROJECTION_GLOBE_VIEW"),nl&&bs.push("PROJECTED_POS_ON_VIEWPORT")),Fl>0&&bs.push("ICON_TRANSITION"),Gr.icon.zOffsetVertexBuffer&&bs.push("Z_OFFSET"),Le===0&&st===0&&St===0&&xt===1||bs.push("COLOR_ADJUSTMENT"),Gr.sdfIcons&&bs.push("RENDER_SDF");const Dl=Gr.icon.programConfigurations.get(l.id),Ll=p.getOrCreateProgram("symbol",{config:Dl,defines:bs}),Xc=qr.imageAtlasTexture?qr.imageAtlasTexture.size:[0,0],Pc=Gr.iconSizeData,rl=c.bp(Pc,Lt.zoom),js=hr||Lt.pitch!==0,As=qe(lo,qr.tileID.canonical,hr,cn,Lt,Gr.getProjection(),bo),ss=Ye(lo,qr.tileID.canonical,hr,cn,Lt,Gr.getProjection(),bo),Ml=p.translatePosMatrix(ss,qr,R,V,!0),Yl=p.translatePosMatrix(lo,qr,R,V),Rs=nl?fp:As,cc=cn&&!hr&&!_s;let Dc=xr;!kn&&!Lt.mercatorFromTransition||cn||(Dc=Gc(Lt));const pc=wi?Dc:xr,mc=l.getColorAdjustmentMatrix(Le,st,St,xt),td=hc(Pc.kind,rl,cc,hr,p,Yl,Rs,Ml,Wt,!1,Xc,[0,0],!0,zi,Ni,vr,Ko,pc,Gr.getProjection(),mc,Fl),ru=qr.imageAtlasTexture?qr.imageAtlasTexture:null,Yc=l.layout.get("icon-size").constantOr(0)!==1||Gr.iconsNeedLinear,cf=Gr.sdfIcons||p.options.rotating||p.options.zooming||Yc||js?kt.LINEAR:kt.NEAREST,Au=Gr.sdfIcons&&l.paint.get("icon-halo-width").constantOr(1)!==0,Zf=p.terrain&&hr&&_s?c.ab.mat4.invert(c.ab.mat4.create(),As):fp;if(_s&&Gr.icon){const Rd=Lt.elevation,Tp=Rd?Rd.getAtTileOffsetFunc(zi,Lt.center.lat,Lt.worldSize,Gr.getProjection()):null,Wm=Ce(lo,qr.tileID.canonical,hr,cn,Lt,Gr.getProjection(),bo);ir(Gr,lo,p,!1,Wm,ss,hr,Se,Tp,zi)}return{program:Ll,buffers:Gr.icon,uniformValues:td,atlasTexture:ru,atlasTextureIcon:null,atlasInterpolation:cf,atlasInterpolationIcon:null,isSDF:Gr.sdfIcons,hasHalo:Au,tile:qr,labelPlaneMatrixInv:Zf}},Os=()=>{const _s=Tn&&l.layout.get("symbol-placement")!=="point",bs=[],nl=_s||vi||mo;p.terrainRenderModeElevated()&&nr&&bs.push("PITCH_WITH_MAP_TERRAIN"),wi&&(bs.push("PROJECTION_GLOBE_VIEW"),nl&&bs.push("PROJECTED_POS_ON_VIEWPORT")),Gr.text.zOffsetVertexBuffer&&bs.push("Z_OFFSET"),Gr.iconsInText&&bs.push("RENDER_TEXT_AND_SYMBOL"),bs.push("RENDER_SDF"),Yo(bs);const Fl=Gr.text.programConfigurations.get(l.id),Dl=p.getOrCreateProgram("symbol",{config:Fl,defines:bs});let Ll,Xc=[0,0],Pc=null;const rl=Gr.textSizeData;Gr.iconsInText&&(Xc=qr.imageAtlasTexture?qr.imageAtlasTexture.size:[0,0],Pc=qr.imageAtlasTexture?qr.imageAtlasTexture:null,Ll=nr||Lt.pitch!==0||p.options.rotating||p.options.zooming||rl.kind==="composite"||rl.kind==="camera"?kt.LINEAR:kt.NEAREST);const js=qr.glyphAtlasTexture?qr.glyphAtlasTexture.size:[0,0],As=l.layout.get("text-size-scale-range"),ss=c.aw(p.scaleFactor,As[0],As[1]),Ml=c.bp(rl,Lt.zoom,ss),Yl=qe(lo,qr.tileID.canonical,nr,Tn,Lt,Gr.getProjection(),bo),Rs=Ye(lo,qr.tileID.canonical,nr,Tn,Lt,Gr.getProjection(),bo),cc=p.translatePosMatrix(Rs,qr,F,U,!0),Dc=p.translatePosMatrix(lo,qr,F,U),pc=nl?fp:Yl,mc=Tn&&!nr&&!_s;let td=xr;!kn&&!Lt.mercatorFromTransition||Tn||(td=Gc(Lt));const ru=hc(rl.kind,Ml,mc,nr,p,Dc,pc,cc,Wt,!0,js,Xc,!0,zi,Ni,vr,Ko,wi?td:xr,Gr.getProjection(),null,null,ss),Yc=qr.glyphAtlasTexture?qr.glyphAtlasTexture:null,cf=kt.LINEAR,Au=l.paint.get("text-halo-width").constantOr(1)!==0,Zf=p.terrain&&nr&&_s?c.ab.mat4.invert(c.ab.mat4.create(),Yl):fp;if(_s&&Gr.text){const Rd=Lt.elevation,Tp=Rd?Rd.getAtTileOffsetFunc(zi,Lt.center.lat,Lt.worldSize,Gr.getProjection()):null,Wm=Ce(lo,qr.tileID.canonical,nr,Tn,Lt,Gr.getProjection(),bo);ir(Gr,lo,p,!0,Wm,Rs,nr,ze,Tp,zi)}return{program:Dl,buffers:Gr.text,uniformValues:ru,atlasTexture:Yc,atlasTextureIcon:Pc,atlasInterpolation:cf,atlasInterpolationIcon:Ll,isSDF:!0,hasHalo:Au,tile:qr,labelPlaneMatrixInv:Zf}},dl=Gr.icon.segments.get().length,Gs=Gr.text.segments.get().length,Pa=dl&&!E.onlyText?as():null,gs=Gs&&!E.onlyIcons?Os():null,Bo=l.paint.get("icon-opacity").constantOr(1),Qa=l.paint.get("text-opacity").constantOr(1);if(jr&&Gr.canOverlap){Br=!0;const _s=Bo&&!E.onlyText?Gr.icon.segments.get():[],bs=Qa&&!E.onlyIcons?Gr.text.segments.get():[];for(const nl of _s)Xr.push({segments:new c.b7([nl]),sortKey:nl.sortKey,state:Pa});for(const nl of bs)Xr.push({segments:new c.b7([nl]),sortKey:nl.sortKey,state:gs})}else E.onlyText||Xr.push({segments:Bo?Gr.icon.segments:new c.b7([]),sortKey:0,state:Pa}),E.onlyIcons||Xr.push({segments:Qa?Gr.text.segments:new c.b7([]),sortKey:0,state:gs})}Br&&Xr.sort((zi,qr)=>zi.sortKey-qr.sortKey);for(const zi of Xr){const qr=zi.state;if(qr)if(p.terrain?p.terrain.setupElevationDraw(qr.tile,qr.program,{useDepthForOcclusion:Lt.depthOcclusionForSymbolsAndCircles,labelPlaneMatrixInv:qr.labelPlaneMatrixInv}):p.setupDepthForOcclusion(Lt.depthOcclusionForSymbolsAndCircles,qr.program),zt.activeTexture.set(kt.TEXTURE0),qr.atlasTexture&&qr.atlasTexture.bind(qr.atlasInterpolation,kt.CLAMP_TO_EDGE,!0),qr.atlasTextureIcon&&(zt.activeTexture.set(kt.TEXTURE1),qr.atlasTextureIcon&&qr.atlasTextureIcon.bind(qr.atlasInterpolationIcon,kt.CLAMP_TO_EDGE,!0)),p.uploadCommonLightUniforms(p.context,qr.program),qr.hasHalo){const Gr=qr.uniformValues;Gr.u_is_halo=1,pp(qr.buffers,zi.segments,l,p,qr.program,Un,_,x,Gr,2),Gr.u_is_halo=0}else{if(qr.isSDF){const Gr=qr.uniformValues;qr.hasHalo&&(Gr.u_is_halo=1,pp(qr.buffers,zi.segments,l,p,qr.program,Un,_,x,Gr,1)),Gr.u_is_halo=0}pp(qr.buffers,zi.segments,l,p,qr.program,Un,_,x,qr.uniformValues,1)}}}function pp(p,r,l,m,_,x,E,R,F,V){const U=[p.dynamicLayoutVertexBuffer,p.opacityVertexBuffer,p.iconTransitioningVertexBuffer,p.globeExtVertexBuffer,p.zOffsetVertexBuffer];_.draw(m,m.context.gl.TRIANGLES,x,E,R,sa.disabled,F,l.id,p.layoutVertexBuffer,p.indexBuffer,r,l.paint,m.transform.zoom,p.programConfigurations.get(l.id),U,V)}function wm(p,r,l,m,_,x,E){const R=p.context.gl,F=l.paint.get("fill-pattern"),V=l.is3D(),U=V?p.stencilModeFor3D():ea.disabled,Q=F&&F.constantOr(1);let ee,ce,Pe,Se,ze;E?(ce=Q&&!l.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",ee=R.LINES):(ce=Q?"fillPattern":"fill",ee=R.TRIANGLES);for(const Le of m){const st=r.getTile(Le);if(Q&&!st.patternsLoaded())continue;const St=st.getBucket(l);if(!St)continue;p.prepareDrawTile();const xt=St.programConfigurations.get(l.id),Wt=p.isTileAffectedByFog(Le),zt=p.getOrCreateProgram(ce,{config:xt,overrideFog:Wt});Q&&(p.context.activeTexture.set(R.TEXTURE0),st.imageAtlasTexture&&st.imageAtlasTexture.bind(R.LINEAR,R.CLAMP_TO_EDGE),xt.updatePaintBuffers());const kt=F.constantOr(null);if(kt&&st.imageAtlas){const Tn=st.imageAtlas,hr=c.A.from(kt).getPrimary().scaleSelf(c.q.devicePixelRatio).serialize(),nr=Tn.patternPositions[hr];nr&&xt.setConstantPatternPositions(nr)}const Lt=p.translatePosMatrix(Le.projMatrix,st,l.paint.get("fill-translate"),l.paint.get("fill-translate-anchor")),cn=l.paint.get("fill-emissive-strength");if(E){Se=St.indexBuffer2,ze=St.segments2;const Tn=p.terrain&&p.terrain.renderingToTexture?p.terrain.drapeBufferSize:[R.drawingBufferWidth,R.drawingBufferHeight];Pe=ce==="fillOutlinePattern"&&Q?Gg(Lt,cn,p,st,Tn):lp(Lt,cn,Tn)}else Se=St.indexBuffer,ze=St.segments,Pe=Q?ph(Lt,cn,p,st):sp(Lt,cn);p.uploadCommonUniforms(p.context,zt,Le.toUnwrapped()),zt.draw(p,ee,_,V?U:p.stencilModeForClipping(Le),x,sa.disabled,Pe,l.id,St.layoutVertexBuffer,Se,ze,l.paint,p.transform.zoom,xt,void 0)}}function _h(p,r,l,m,_,x,E,R){l.resetLayerRenderingStats(p);const F=p.context,V=F.gl,U=p.transform,Q=l.paint.get("fill-extrusion-pattern"),ee=Q.constantOr(1),ce=l.paint.get("fill-extrusion-opacity"),Pe=p.style.enable3dLights(),Se=l.paint.get(Pe&&!ee?"fill-extrusion-ambient-occlusion-wall-radius":"fill-extrusion-ambient-occlusion-radius"),ze=[l.paint.get("fill-extrusion-ambient-occlusion-intensity"),Se],Le=l.layout.get("fill-extrusion-edge-radius"),st=Le>0&&!l.paint.get("fill-extrusion-rounded-roof"),St=st?0:Le,xt=U.projection.name==="globe"?c.d3():0,Wt=U.projection.name==="globe",zt=Wt?c.ae(U.zoom):0,kt=[c.at(U.center.lng),c.aA(U.center.lat)],Lt=l.paint.get("fill-extrusion-flood-light-color-use-theme").constantOr("default")==="none",cn=l.paint.get("fill-extrusion-flood-light-color").toRenderColor(Lt?null:l.lut).toArray01().slice(0,3),Tn=l.paint.get("fill-extrusion-flood-light-intensity"),hr=l.paint.get("fill-extrusion-vertical-scale"),nr=l.paint.get("fill-extrusion-line-width").constantOr(1)!==0,jr=l.paint.get("fill-extrusion-height-alignment"),Br=l.paint.get("fill-extrusion-base-alignment"),Un=an(p,l.paint.get("fill-extrusion-cutoff-fade-range")),vr=[];let vi;Wt&&vr.push("PROJECTION_GLOBE_VIEW"),ze[0]>0&&vr.push("FAUX_AO"),st&&vr.push("ZERO_ROOF_RADIUS"),R&&vr.push("HAS_CENTROID"),Tn>0&&vr.push("FLOOD_LIGHT"),Un.shouldRenderCutoff&&vr.push("RENDER_CUTOFF"),nr&&vr.push("RENDER_WALL_MODE");const kn=p.renderPass==="shadow",Xr=p.shadowRenderer,xr=kn&&!!Xr;p.shadowRenderer&&(p.shadowRenderer.useNormalOffset=!0);let zi=[0,0,0];if(Xr){const wi=p.style.directionalLight,Ni=p.style.ambientLight;wi&&Ni&&(zi=no(p.style,wi,Ni)),kn||(vr.push("RENDER_SHADOWS","DEPTH_TEXTURE"),Xr.useNormalOffset&&vr.push("NORMAL_OFFSET")),vi=vr.concat(["SHADOWS_SINGLE_CASCADE"])}const qr=xr?"fillExtrusionDepth":ee?"fillExtrusionPattern":"fillExtrusion",Gr=l.getLayerRenderingStats();for(const wi of m){const Ni=r.getTile(wi),lo=Ni.getBucket(l);if(!lo||lo.projection.name!==U.projection.name)continue;let bo=!1;Xr&&(bo=Xr.getMaxCascadeForTile(wi.toUnwrapped())===0);const ca=p.isTileAffectedByFog(wi),mo=lo.programConfigurations.get(l.id),Ko=p.getOrCreateProgram(qr,{config:mo,defines:bo?vi:vr,overrideFog:ca});if(p.terrain&&p.terrain.setupElevationDraw(Ni,Ko,{useMeterToDem:!0}),!lo.centroidVertexBuffer){const gs=Ko.attributes.a_centroid_pos;gs!==void 0&&V.vertexAttrib2f(gs,0,0)}!kn&&Xr&&Xr.setupShadows(Ni.tileID.toUnwrapped(),Ko,"vector-tile",Ni.tileID.overscaledZ),ee&&(p.context.activeTexture.set(V.TEXTURE0),Ni.imageAtlasTexture&&Ni.imageAtlasTexture.bind(V.LINEAR,V.CLAMP_TO_EDGE),mo.updatePaintBuffers());const Yo=Q.constantOr(null);if(Yo&&Ni.imageAtlas){const gs=Ni.imageAtlas,Bo=c.A.from(Yo).getPrimary().scaleSelf(c.q.devicePixelRatio),Qa=gs.patternPositions[Bo.serialize()];Qa&&mo.setConstantPatternPositions(Qa)}const as=l.paint.get("fill-extrusion-vertical-gradient"),Os=1/lo.tileToMeter;let dl;if(kn&&Xr){if(bh(Ni.tileID,lo,p))continue;const gs=Xr.calculateShadowPassMatrixFromTile(Ni.tileID.toUnwrapped());dl=ap(gs,St,Os,hr,jr,Br)}else{const gs=p.translatePosMatrix(wi.expandedProjMatrix,Ni,l.paint.get("fill-extrusion-translate"),l.paint.get("fill-extrusion-translate-anchor")),Bo=U.projection.createInversionMatrix(U,wi.canonical);dl=ee?Wg(gs,p,as,ce,ze,St,Os,wi,Ni,xt,jr,Br,zt,kt,Bo,cn,hr):op(gs,p,as,ce,ze,St,Os,wi,xt,jr,Br,zt,kt,Bo,cn,hr,Tn,zi)}p.uploadCommonUniforms(F,Ko,wi.toUnwrapped(),null,Un);let Gs=lo.segments;if(U.projection.name==="mercator"&&!kn&&(Gs=lo.getVisibleSegments(Ni.tileID,p.terrain,p.transform.getFrustum(0)),!Gs.get().length))continue;if(Gr)if(kn)for(const gs of Gs.get())Gr.numRenderedVerticesInShadowPass+=gs.primitiveLength;else for(const gs of Gs.get())Gr.numRenderedVerticesInTransparentPass+=gs.primitiveLength;const Pa=[];(p.terrain||R)&&Pa.push(lo.centroidVertexBuffer),Wt&&Pa.push(lo.layoutVertexExtBuffer),nr&&Pa.push(lo.wallVertexBuffer),Ko.draw(p,F.gl.TRIANGLES,_,x,E,sa.backCCW,dl,l.id,lo.layoutVertexBuffer,lo.indexBuffer,Gs,l.paint,p.transform.zoom,mo,Pa)}p.shadowRenderer&&(p.shadowRenderer.useNormalOffset=!1)}function Yd(p,r,l,m,_,x,E,R,F,V,U,Q,ee,ce,Pe,Se,ze,Le,st){const St=p.context,xt=St.gl,Wt=p.transform,zt=p.transform.zoom,kt=[],Lt=an(p,l.paint.get("fill-extrusion-cutoff-fade-range"));V==="clear"?(kt.push("CLEAR_SUBPASS"),st&&(kt.push("CLEAR_FROM_TEXTURE"),St.activeTexture.set(xt.TEXTURE0),st.bind(xt.LINEAR,xt.CLAMP_TO_EDGE))):V==="sdf"&&kt.push("SDF_SUBPASS"),ze&&kt.push("HAS_CENTROID"),Lt.shouldRenderCutoff&&kt.push("RENDER_CUTOFF");const cn=l.layout.get("fill-extrusion-edge-radius"),Tn=(hr,nr,jr,Br,Un)=>{const vr=nr.programConfigurations.get(l.id),vi=p.isTileAffectedByFog(hr),kn=p.getOrCreateProgram("fillExtrusionGroundEffect",{config:vr,defines:kt,overrideFog:vi}),Xr=((zi,qr,Gr,wi,Ni,lo,bo,ca,mo,Ko,Yo)=>({u_matrix:qr,u_opacity:Gr,u_ao_pass:wi?1:0,u_meter_to_tile:Ni,u_ao:lo,u_flood_light_intensity:bo,u_flood_light_color:ca,u_attenuation:mo,u_edge_radius:Ko,u_fb:0,u_fb_size:Yo,u_dynamic_offset:1}))(0,Br,U,F,Un,[Q,ee*Un],ce,Pe,Se,zt>=17?0:cn*Un,st?st.size[0]:0),xr=[];ze&&xr.push(nr.hiddenByLandmarkVertexBuffer),p.uploadCommonUniforms(St,kn,hr.toUnwrapped(),null,Lt),kn.draw(p,St.gl.TRIANGLES,_,x,E,R,Xr,l.id,nr.vertexBuffer,nr.indexBuffer,jr,l.paint,zt,vr,xr)};for(const hr of m){const nr=r.getTile(hr),jr=nr.getBucket(l);if(!jr||jr.projection.name!==Wt.projection.name||!jr.groundEffect||jr.groundEffect&&!jr.groundEffect.hasData())continue;const Br=jr.groundEffect,Un=1/jr.tileToMeter;{const vr=p.translatePosMatrix(hr.projMatrix,nr,l.paint.get("fill-extrusion-translate"),l.paint.get("fill-extrusion-translate-anchor")),vi=Br.getDefaultSegment();Tn(hr,Br,vi,vr,Un)}if(Le)for(let vr=0;vr<4;vr++){const vi=c.d4[vr](hr),kn=r.getTile(vi);if(!kn)continue;const Xr=kn.getBucket(l);if(!Xr||Xr.projection.name!==Wt.projection.name||!Xr.groundEffect||Xr.groundEffect&&!Xr.groundEffect.hasData())continue;const xr=Xr.groundEffect;let zi,qr;vr===0?(zi=[-c.ag,0,0],qr=1):vr===1?(zi=[c.ag,0,0],qr=0):vr===2?(zi=[0,-c.ag,0],qr=3):(zi=[0,c.ag,0],qr=2);const Gr=xr.regionSegments[qr];if(!Gr)continue;const wi=new Float32Array(16);c.ab.mat4.translate(wi,hr.projMatrix,zi),Tn(hr,xr,Gr,p.translatePosMatrix(wi,nr,l.paint.get("fill-extrusion-translate"),l.paint.get("fill-extrusion-translate-anchor")),Un)}}}function Rf(p,r,l,m,_,x,E){m.centroidVertexArray.length===0&&m.createCentroidsBuffer();const R=x?x.findDEMTileFor(l):null;if(!(R&&R.dem||E))return;x&&R&&R.dem&&m.selfDEMTileTimestamp!==R.dem._timestamp&&(m.borderDoneWithNeighborZ=[-1,-1,-1,-1],m.selfDEMTileTimestamp=R.dem._timestamp);const F=Le=>new c.P(Math.ceil((Le+c.d7)*c.d8),0),V=Le=>{const st=r.getSource().minzoom,St=Wt=>{const zt=r.getTileByID(Wt);if(zt&&zt.hasData())return zt.getBucket(_)},xt=[0,-1,1];for(const Wt of xt){if(Le.overscaledZ+Wt<st)continue;const zt=St(Le.calculateScaledKey(Le.overscaledZ+Wt));if(zt)return zt}},U=[0,0,0],Q=(Le,st)=>(U[0]=Math.min(Le.min.y,st.min.y),U[1]=Math.max(Le.max.y,st.max.y),U[2]=c.ag-st.min.x>Le.max.x?st.min.x-c.ag:Le.max.x,U),ee=(Le,st)=>(U[0]=Math.min(Le.min.x,st.min.x),U[1]=Math.max(Le.max.x,st.max.x),U[2]=c.ag-st.min.y>Le.max.y?st.min.y-c.ag:Le.max.y,U),ce=[(Le,st)=>Q(Le,st),(Le,st)=>Q(st,Le),(Le,st)=>ee(Le,st),(Le,st)=>ee(st,Le)],Pe=(Le,st,St,xt,Wt,zt,kt)=>{if(!x)return 0;const Lt=[[zt?St:Le,zt?Le:St,0],[zt?St:st,zt?st:St,0]],cn=kt<0?c.ag+kt:kt,Tn=[zt?cn:(Le+st)/2,zt?(Le+st)/2:cn,0];return St===0&&kt<0||St!==0&&kt>0?x.getForTilePoints(Wt,[Tn],!0,xt):Lt.push(Tn),x.getForTilePoints(l,Lt,!0,R),Math.max(Lt[0][2],Lt[1][2],Tn[2])/x.exaggeration()};for(let Le=0;Le<4;Le++){const st=m.borderFeatureIndices[Le];if(st.length===0)continue;const St=c.d4[Le](l),xt=V(St);if(!(xt&&xt instanceof c.d5))continue;const Wt=x?x.findDEMTileFor(St):null;if(!(Wt&&Wt.dem||E)||(x&&Wt&&Wt.dem&&m.borderDEMTileTimestamp[Le]!==Wt.dem._timestamp&&(m.borderDoneWithNeighborZ[Le]=-1,m.borderDEMTileTimestamp[Le]=Wt.dem._timestamp),m.borderDoneWithNeighborZ[Le]===xt.canonical.z))continue;xt.centroidVertexArray.length===0&&xt.createCentroidsBuffer();const zt=(Le<2?1:5)-Le,kt=xt.borderDoneWithNeighborZ[zt]!==m.canonical.z,Lt=xt.borderFeatureIndices[zt];let cn=0;if(m.canonical.z!==xt.canonical.z){for(const Tn of st)m.showCentroid(m.featuresOnBorder[Tn]);if(kt)for(const Tn of Lt)xt.showCentroid(xt.featuresOnBorder[Tn]);m.borderDoneWithNeighborZ[Le]=xt.canonical.z,xt.borderDoneWithNeighborZ[zt]=m.canonical.z}for(const Tn of st){const hr=m.featuresOnBorder[Tn],nr=m.centroidData[hr.centroidDataIndex],jr=hr.borders[Le];let Br;for(;cn<Lt.length;){Br=xt.featuresOnBorder[Lt[cn]];const Un=Br.borders[zt];if(Un[1]>jr[0]+3||Un[0]>jr[0]-3)break;xt.showCentroid(Br),cn++}if(Br&&cn<Lt.length){const Un=cn;let vr=0;for(;!(Br.borders[zt][0]>jr[1]-3)&&(vr++,++cn!==Lt.length);)Br=xt.featuresOnBorder[Lt[cn]];Br=xt.featuresOnBorder[Lt[Un]];let vi=!1;if(vr>=1){const xr=Br.borders[zt];Math.abs(jr[0]-xr[0])<3&&Math.abs(jr[1]-xr[1])<3&&(vr=1,vi=!0,cn=Un+1)}else if(vr===0){m.showCentroid(hr);continue}const kn=xt.centroidData[Br.centroidDataIndex];E&&vi&&(((Se=nr).flags|(ze=kn).flags)&c.d6?(Se.flags|=c.d6,ze.flags|=c.d6):(Se.flags&=~c.d6,ze.flags&=~c.d6));const Xr=hr.intersectsCount()>1||Br.intersectsCount()>1;if(vr>1)cn=Un,nr.centroidXY=kn.centroidXY=new c.P(0,0);else if(Wt&&Wt.dem&&!Xr){const xr=ce[Le](nr,kn),zi=Le%2?c.ag-1:0,qr=Pe(xr[0],Math.min(c.ag-1,xr[1]),zi,Wt,St,Le<2,xr[2]);nr.centroidXY=kn.centroidXY=F(qr)}else Xr?nr.centroidXY=kn.centroidXY=new c.P(0,0):(nr.centroidXY=m.encodeBorderCentroid(hr),kn.centroidXY=xt.encodeBorderCentroid(Br));m.writeCentroidToBuffer(nr),xt.writeCentroidToBuffer(kn)}else m.showCentroid(hr)}m.borderDoneWithNeighborZ[Le]=xt.canonical.z,xt.borderDoneWithNeighborZ[zt]=m.canonical.z}var Se,ze;(m.needsCentroidUpdate||!m.centroidVertexBuffer&&m.centroidVertexArray.length!==0)&&m.uploadCentroid(p)}const $f=[1,0,0],Oi=[0,1,0],po=[0,0,1];function bh(p,r,l){const m=l.transform,_=l.shadowRenderer;if(!_)return!0;const x=p.toUnwrapped(),E=m.tileSize*_._cascades[l.currentShadowCascade].scale;let R=r.maxHeight;if(m.elevation){const Se=m.elevation.getMinMaxForTile(p);Se&&(R+=Se.max)}const F=[..._.shadowDirection];F[2]=-F[2];const V=_.computeSimplifiedTileShadowVolume(x,R,E,F);if(!V)return!1;const U=[$f,Oi,po,F,[F[0],0,F[2]],[0,F[1],F[2]]],Q=m.projection.name==="globe",ee=m.scaleZoom(E),ce=c.bR.fromInvProjectionMatrix(m.invProjMatrix,m.worldSize,ee,!Q),Pe=_.getCurrentCascadeFrustum();return ce.intersectsPrecise(V.vertices,V.planes,U)===0||Pe.intersectsPrecise(V.vertices,V.planes,U)===0}function al(p){return[p[0]*c.d9,p[1]*c.d9,p[2]*c.d9,0]}function er(p,r,l,m,_,x,E,R,F){const V=m.getSource(),U=l.globeSharedBuffers;if(!U)return;let Q,ee,ce;if(r&&(Q=m.getTile(r)),V instanceof c.aJ?(ee=V.texture,ce=c.cI(0,0,l.transform)):Q&&r&&(ee=Q.texture,ce=c.cI(r.canonical.z,r.canonical.x,l.transform)),!ee||!ce)return;p||(ce=c.ab.mat4.scale(c.ab.mat4.create(),ce,[1,-1,1]));const Pe=l.context,Se=Pe.gl,ze=_.paint.get("raster-resampling")==="nearest"?Se.NEAREST:Se.LINEAR,Le=l.colorModeForDrapableLayerRenderPass(x),st=E.defines;st.push("GLOBE_POLES");const St=new jo(Se.LEQUAL,jo.ReadWrite,l.depthRangeFor3D),xt=Float32Array.from(l.transform.expandedFarZProjMatrix),Wt=Float32Array.from(c.bb(c.cH(new c.bT(0,0,0))));l.terrain&&l.terrain.prepareDrawTile(),Pe.activeTexture.set(Se.TEXTURE0),ee.bind(ze,Se.CLAMP_TO_EDGE),Pe.activeTexture.set(Se.TEXTURE1),ee.bind(ze,Se.CLAMP_TO_EDGE),ee.useMipmap&&Pe.extTextureFilterAnisotropic&&l.transform.pitch>20&&Se.texParameterf(Se.TEXTURE_2D,Pe.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,Pe.extTextureFilterAnisotropicMax);const[zt,kt,Lt,cn]=r?U.getPoleBuffers(r.canonical.z,!1):U.getPoleBuffers(0,!0),Tn=_.paint.get("raster-elevation");let hr;p?(hr=zt,l.renderDefaultNorthPole=Tn!==0):(hr=kt,l.renderDefaultSouthPole=Tn!==0);const nr=al(E.mix),jr=((Un,vr,vi,kn,Xr,xr,zi,qr,Gr,wi,Ni,lo,bo)=>Xd(Un,vr,vi,new Float32Array(16),new Float32Array(9),[0,0],kn,[0,0],[0,0,0,0],1,{opacity:1,mix:0},xr,[0,0],qr,2,wi,Ni,lo,1,0,bo))(xt,Wt,ce,c.ae(l.transform.zoom),0,_,0,Tn,0,nr,E.offset,E.range,x),Br=l.getOrCreateProgram("raster",{defines:st});l.uploadCommonUniforms(Pe,Br,null),Br.draw(l,Se.TRIANGLES,St,F,Le,R,jr,_.id,hr,Lt,cn)}function mp(p){const r=p._nearZ,l=p.projection.farthestPixelDistance(p),m=l-r,_=.2*p.height,x=r+_;return[r,l,(x-_-r)/m,(x-r)/m]}function gp(p,r,l,m){if(p)return r instanceof gt&&p instanceof ho?r.getTextureDescriptor(p,l,!0):{texture:p.texture,mix:al(m.mix),offset:m.offset,buffer:0,tileSize:1}}var Em=c.da([{name:"a_index",type:"Int16",components:1}]);class Xg{constructor(r,l,m,_){const x={width:m[0],height:m[1],data:null},E=r.gl;this.targetColorTexture=new c.T(r,x,E.RGBA8,{useMipmap:!1}),this.backgroundColorTexture=new c.T(r,x,E.RGBA8,{useMipmap:!1}),this.context=r,this.updateParticleTexture(l,_),this.lastInvalidatedAt=0}updateParticleTexture(r,l){if(this.particleTextureDimension===l.width)return;(this.particleTexture0||this.particleTexture1||this.particleIndexBuffer||this.particleSegment)&&(this.particleTexture0.destroy(),this.particleTexture1.destroy(),this.particleIndexBuffer.destroy(),this.particleSegment.destroy());const m=this.context.gl,_=l.width*l.height;this.particleTexture0=new c.T(this.context,l,m.RGBA8,{premultiply:!1,useMipmap:!1}),this.particleTexture1=new c.T(this.context,l,m.RGBA8,{premultiply:!1,useMipmap:!1});const x=new c.db;x.reserve(_);for(let E=0;E<_;E++)x.emplaceBack(E);this.particleIndexBuffer=this.context.createVertexBuffer(x,Em.members,!0),this.particleSegment=c.b7.simpleSegment(0,0,this.particleIndexBuffer.length,0),this.particleTextureDimension=l.width}update(r){return!(this.lastInvalidatedAt<r&&(this.lastInvalidatedAt=c.q.now(),1))}destroy(){this.targetColorTexture.destroy(),this.backgroundColorTexture.destroy(),this.particleIndexBuffer.destroy(),this.particleTexture0.destroy(),this.particleTexture1.destroy(),this.particleSegment.destroy()}}function Yg(p,r,l){if(!p)return null;const m=r.getTextureDescriptor(p,l,!0);if(!m)return null;let{texture:_,mix:x,offset:E,tileSize:R,buffer:F,format:V}=m;if(!_||!V)return null;let U=!1;return V==="uint32"&&(U=!0,x[3]=0,x=cp(c.dc,x,[0,l.paint.get("raster-particle-max-speed")]),E=bm(c.dc,E,[0,l.paint.get("raster-particle-max-speed")])),{texture:_,textureOffset:[F/(R+2*F),R/(R+2*F)],tileSize:R,scalarData:U,scale:x,offset:E,defines:["RASTER_ARRAY",{uint8:"DATA_FORMAT_UINT8",uint16:"DATA_FORMAT_UINT16",uint32:"DATA_FORMAT_UINT32"}[V]]}}function qg(p){const r=p._nearZ,l=p.projection.farthestPixelDistance(p),m=l-r,_=.2*p.height,x=r+_;return[r,l,(x-_-r)/m,(x-r)/m]}const Af=new c.aj(1,0,0,1),Ov=new c.aj(0,1,0,1),Jg=new c.aj(0,0,1,1),Im=new c.aj(1,0,1,1),vp=new c.aj(0,1,1,1);function xd(p,r,l,m,_,x,E){const R=p.context,F=p.transform,V=R.gl,U=F.projection.name==="globe",Q=U?["PROJECTION_GLOBE_VIEW"]:[];let ee=c.ab.mat4.clone(l.projMatrix);if(U&&c.ae(F.zoom)>0){const nr=c.ba(l.canonical,F),jr=c.dd(nr);ee=c.ab.mat4.multiply(new Float32Array(16),F.globeMatrix,jr),c.ab.mat4.multiply(ee,F.projMatrix,ee)}const ce=c.ab.mat4.create();ce[12]+=2*_/(c.q.devicePixelRatio*F.width),ce[13]+=2*x/(c.q.devicePixelRatio*F.height),c.ab.mat4.multiply(ee,ce,ee);const Pe=p.getOrCreateProgram("debug",{defines:Q}),Se=r.getTileByID(l.key);p.terrain&&p.terrain.setupElevationDraw(Se,Pe);const ze=jo.disabled,Le=ea.disabled,st=p.colorModeForRenderPass(),St="$debug";R.activeTexture.set(V.TEXTURE0),p.emptyTexture.bind(V.LINEAR,V.CLAMP_TO_EDGE),U?Se._makeGlobeTileDebugBuffers(p.context,F):Se._makeDebugTileBoundsBuffers(p.context,F.projection);const xt=Se._tileDebugBuffer||p.debugBuffer,Wt=Se._tileDebugIndexBuffer||p.debugIndexBuffer,zt=Se._tileDebugSegments||p.debugSegments;if(Pe.draw(p,V.LINE_STRIP,ze,Le,st,sa.disabled,Fc(ee,m),St,xt,Wt,zt,null,null,null,[Se._globeTileDebugBorderBuffer]),E){const nr=Se.latestRawTileData,jr=Math.floor((nr&&nr.byteLength||0)/1024);let Br=l.canonical.toString();l.overscaledZ!==l.canonical.z&&(Br+=` => ${l.overscaledZ}`),Br+=` ${Se.state}`,Br+=` ${jr}kb`,function(Un,vr){Un.initDebugOverlayCanvas();const vi=Un.debugOverlayCanvas,kn=Un.context.gl,Xr=Un.debugOverlayCanvas.getContext("2d");Xr.clearRect(0,0,vi.width,vi.height),Xr.shadowColor="white",Xr.shadowBlur=2,Xr.lineWidth=1.5,Xr.strokeStyle="white",Xr.textBaseline="top",Xr.font="bold 36px Open Sans, sans-serif",Xr.fillText(vr,5,5),Xr.strokeText(vr,5,5),Un.debugOverlayTexture.update(vi),Un.debugOverlayTexture.bind(kn.LINEAR,kn.CLAMP_TO_EDGE)}(p,Br)}const kt=r.getTile(l).tileSize,Lt=512/Math.min(kt,512)*(l.overscaledZ/F.zoom)*.5,cn=Se._tileDebugTextBuffer||p.debugBuffer,Tn=Se._tileDebugTextIndexBuffer||p.quadTriangleIndexBuffer,hr=Se._tileDebugTextSegments||p.debugSegments;Pe.draw(p,V.TRIANGLES,ze,Le,ia.alphaBlended,sa.disabled,Fc(ee,c.aj.transparent,Lt),St,cn,Tn,hr,null,null,null,[Se._globeTileDebugTextBuffer])}function Tm(p,r,l,m){qd(p,0,r+l/2,p.transform.width,l,m)}function Qg(p,r,l,m){qd(p,r-l/2,0,l,p.transform.height,m)}function qd(p,r,l,m,_,x){const E=p.context,R=E.gl;R.enable(R.SCISSOR_TEST),R.scissor(r*c.q.devicePixelRatio,l*c.q.devicePixelRatio,m*c.q.devicePixelRatio,_*c.q.devicePixelRatio),E.clear({color:x}),R.disable(R.SCISSOR_TEST)}const xh=c.da([{name:"a_pos_3f",components:3,type:"Float32"}]),{members:Tu}=xh;function Cd(p,r,l,m){p.emplaceBack(r,l,m)}class e0{constructor(r){this.vertexArray=new c.de,this.indices=new c.aU,Cd(this.vertexArray,-1,-1,1),Cd(this.vertexArray,1,-1,1),Cd(this.vertexArray,-1,1,1),Cd(this.vertexArray,1,1,1),Cd(this.vertexArray,-1,-1,-1),Cd(this.vertexArray,1,-1,-1),Cd(this.vertexArray,-1,1,-1),Cd(this.vertexArray,1,1,-1),this.indices.emplaceBack(5,1,3),this.indices.emplaceBack(3,7,5),this.indices.emplaceBack(6,2,0),this.indices.emplaceBack(0,4,6),this.indices.emplaceBack(2,6,7),this.indices.emplaceBack(7,3,2),this.indices.emplaceBack(5,4,0),this.indices.emplaceBack(0,1,5),this.indices.emplaceBack(0,2,3),this.indices.emplaceBack(3,1,0),this.indices.emplaceBack(7,6,4),this.indices.emplaceBack(4,5,7),this.vertexBuffer=r.createVertexBuffer(this.vertexArray,Tu),this.indexBuffer=r.createIndexBuffer(this.indices),this.segment=c.b7.simpleSegment(0,0,36,12)}}function ic(p,r,l,m,_,x){const E=p.context.gl,R=r.paint.get("sky-atmosphere-color"),F=r.paint.get("sky-atmosphere-halo-color"),V=r.paint.get("sky-atmosphere-sun-intensity"),U=((Q,ee,ce,Pe,Se)=>({u_matrix_3f:Q,u_sun_direction:ee,u_sun_intensity:ce,u_color_tint_r:[Pe.r,Pe.g,Pe.b,Pe.a],u_color_tint_m:[Se.r,Se.g,Se.b,Se.a],u_luminance:5e-5}))(c.ab.mat3.fromMat4(c.ab.mat3.create(),m),_,V,R,F);E.framebufferTexture2D(E.FRAMEBUFFER,E.COLOR_ATTACHMENT0,E.TEXTURE_CUBE_MAP_POSITIVE_X+x,r.skyboxTexture,0),l.draw(p,E.TRIANGLES,jo.disabled,ea.disabled,ia.unblended,sa.frontCW,U,"skyboxCapture",r.skyboxGeometry.vertexBuffer,r.skyboxGeometry.indexBuffer,r.skyboxGeometry.segment)}const H_=c.da([{type:"Float32",name:"a_pos",components:3},{type:"Float32",name:"a_uv",components:2}]);class Ch{constructor(r){const l=new c.df;l.emplaceBack(-1,1,1,0,0),l.emplaceBack(1,1,1,1,0),l.emplaceBack(1,-1,1,1,1),l.emplaceBack(-1,-1,1,0,1);const m=new c.aU;m.emplaceBack(0,1,2),m.emplaceBack(2,3,0),this.vertexBuffer=r.createVertexBuffer(l,H_.members),this.indexBuffer=r.createIndexBuffer(m),this.segments=c.b7.simpleSegment(0,0,4,2)}destroy(){this.vertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy()}}const Ws=c.da([{type:"Float32",name:"a_pos_3f",components:3},{type:"Float32",name:"a_uv",components:2},{type:"Float32",name:"a_size_scale",components:1},{type:"Float32",name:"a_fade_opacity",components:1}]);class xs{constructor(){this.starsCount=16e3,this.sizeMultiplier=.15,this.sizeRange=100,this.intensityRange=200}}class Mm{constructor(r){this.colorModeAlphaBlendedWriteRGB=new ia([1,jl,1,jl],c.aj.transparent,[!0,!0,!0,!1]),this.colorModeWriteAlpha=new ia([1,0,1,0],c.aj.transparent,[!1,!1,!1,!0]),this.params=new xs,this.updateNeeded=!0,r.tp.registerParameter(this.params,["Stars"],"starsCount",{min:100,max:16e3,step:1},()=>{this.updateNeeded=!0}),r.tp.registerParameter(this.params,["Stars"],"sizeMultiplier",{min:.01,max:2,step:.01}),r.tp.registerParameter(this.params,["Stars"],"sizeRange",{min:0,max:200,step:1},()=>{this.updateNeeded=!0}),r.tp.registerParameter(this.params,["Stars"],"intensityRange",{min:0,max:200,step:1},()=>{this.updateNeeded=!0})}update(r){const l=r.context;if(!this.atmosphereBuffer||this.updateNeeded){this.updateNeeded=!1,this.atmosphereBuffer=new Ch(l);const m=this.params.sizeRange,_=this.params.intensityRange,x=function(U){const Q=c.di(30),ee=[];for(let ce=0;ce<U;++ce){const Pe=2*Math.PI*Q(),Se=Math.acos(1-2*Q())-.5*Math.PI;ee.push(c.ab.vec3.fromValues(Math.cos(Se)*Math.cos(Pe),Math.cos(Se)*Math.sin(Pe),Math.sin(Se)))}return ee}(this.params.starsCount),E=c.di(300),R=new c.dg,F=new c.aU;let V=0;for(let U=0;U<x.length;++U){const Q=c.ab.vec3.scale([],x[U],200),ee=Math.max(0,1+.01*m*(1*E()-.5)),ce=Math.max(0,1+.01*_*(1*E()-.5));R.emplaceBack(Q[0],Q[1],Q[2],-1,-1,ee,ce),R.emplaceBack(Q[0],Q[1],Q[2],1,-1,ee,ce),R.emplaceBack(Q[0],Q[1],Q[2],1,1,ee,ce),R.emplaceBack(Q[0],Q[1],Q[2],-1,1,ee,ce),F.emplaceBack(V+0,V+1,V+2),F.emplaceBack(V+0,V+2,V+3),V+=4}this.starsVx=l.createVertexBuffer(R,Ws.members),this.starsIdx=l.createIndexBuffer(F),this.starsSegments=c.b7.simpleSegment(0,0,R.length,F.length)}}destroy(){this.atmosphereBuffer&&this.atmosphereBuffer.destroy(),this.starsVx&&this.starsVx.destroy(),this.starsIdx&&this.starsIdx.destroy()}drawAtmosphereGlow(r,l){const m=r.context,_=m.gl,x=r.transform,E=new jo(_.LEQUAL,jo.ReadOnly,[0,1]),R=c.ae(x.zoom),F=r.style.getLut(l.scope),V=l.properties.get("color-use-theme")==="none",U=l.properties.get("color").toRenderColor(V?null:F).toArray01(),Q=l.properties.get("high-color-use-theme")==="none",ee=l.properties.get("high-color").toRenderColor(Q?null:F).toArray01(),ce=l.properties.get("space-color-use-theme")==="none",Pe=l.properties.get("space-color").toRenderColor(ce?null:F).toArray01PremultipliedAlpha(),Se=5e-4,ze=c.dh(l.properties.get("horizon-blend"),0,1,Se,.25),Le=c.cC(r,m,x)&&ze===Se?x.worldSize/(2*Math.PI*1.025)-1:x.globeRadius,st=r.frameCounter/1e3%1,St=c.ab.vec3.length(x.globeCenterInViewSpace),xt=Math.sqrt(Math.pow(St,2)-Math.pow(Le,2)),Wt=Math.acos(xt/St),zt=kt=>{const Lt=x.projection.name==="globe"?["PROJECTION_GLOBE_VIEW","FOG"]:["FOG"];kt&&Lt.push("ALPHA_PASS");const cn=r.getOrCreateProgram("globeAtmosphere",{defines:Lt}),Tn=((nr,jr,Br,Un,vr,vi,kn,Xr,xr,zi,qr,Gr)=>({u_frustum_tl:nr,u_frustum_tr:jr,u_frustum_br:Br,u_frustum_bl:Un,u_horizon:vr,u_transition:vi,u_fadeout_range:kn,u_color:Xr,u_high_color:xr,u_space_color:zi,u_temporal_offset:qr,u_horizon_angle:Gr}))(x.frustumCorners.TL,x.frustumCorners.TR,x.frustumCorners.BR,x.frustumCorners.BL,x.frustumCorners.horizon,R,ze,U,ee,Pe,st,Wt);r.uploadCommonUniforms(m,cn);const hr=this.atmosphereBuffer;hr&&cn.draw(r,_.TRIANGLES,E,ea.disabled,kt?this.colorModeWriteAlpha:this.colorModeAlphaBlendedWriteRGB,sa.backCW,Tn,kt?"atmosphere_glow_alpha":"atmosphere_glow",hr.vertexBuffer,hr.indexBuffer,hr.segments)};zt(!1),zt(!0)}drawStars(r,l){const m=c.aw(l.properties.get("star-intensity"),0,1);if(m===0)return;const _=r.context,x=_.gl,E=r.transform,R=r.getOrCreateProgram("stars"),F=c.ab.quat.identity([]);c.ab.quat.rotateX(F,F,-E._pitch),c.ab.quat.rotateZ(F,F,-E.angle),c.ab.quat.rotateX(F,F,c.ai(E._center.lat)),c.ab.quat.rotateY(F,F,-c.ai(E._center.lng));const V=c.ab.mat4.fromQuat(new Float32Array(16),F),U=c.ab.mat4.multiply([],E.starsProjMatrix,V),Q=c.ab.mat3.fromMat4([],V),ee=c.ab.mat3.invert([],Q),ce=[0,1,0];c.ab.vec3.transformMat3(ce,ce,ee),c.ab.vec3.scale(ce,ce,this.params.sizeMultiplier);const Pe=[1,0,0];c.ab.vec3.transformMat3(Pe,Pe,ee),c.ab.vec3.scale(Pe,Pe,this.params.sizeMultiplier);const Se=(ze=ce,Le=Pe,st=m,{u_matrix:Float32Array.from(U),u_up:ze,u_right:Le,u_intensity_multiplier:st});var ze,Le,st;r.uploadCommonUniforms(_,R),this.starsVx&&this.starsIdx&&R.draw(r,x.TRIANGLES,jo.disabled,ea.disabled,this.colorModeAlphaBlendedWriteRGB,sa.disabled,Se,"atmosphere_stars",this.starsVx,this.starsIdx,this.starsSegments)}}function Mu(p,r){const l=[...p],m=r.cameraWorldSizeForFog/r.worldSize,_=c.ab.mat4.identity([]);return c.ab.mat4.scale(_,_,[m,m,1]),c.ab.mat4.multiply(l,_,l),c.ab.mat4.multiply(l,r.worldToFogMatrix,l),l}function Ku(p,r,l,m,_){const x=l.material,E=m.context,{baseColorTexture:R,metallicRoughnessTexture:F}=x.pbrMetallicRoughness,{normalTexture:V,occlusionTexture:U,emissionTexture:Q}=x;function ee(Pe,Se,ze){if(Pe&&(p.push(Se),E.activeTexture.set(E.gl.TEXTURE0+ze),Pe.gfxTexture)){const{minFilter:Le,magFilter:st,wrapS:St,wrapT:xt}=Pe.sampler;Pe.gfxTexture.bindExtraParam(Le,st,St,xt)}}ee(R,"HAS_TEXTURE_u_baseColorTexture",pl.BaseColor),ee(F,"HAS_TEXTURE_u_metallicRoughnessTexture",pl.MetallicRoughness),ee(V,"HAS_TEXTURE_u_normalTexture",pl.Normal),ee(U,"HAS_TEXTURE_u_occlusionTexture",pl.Occlusion),ee(Q,"HAS_TEXTURE_u_emissionTexture",pl.Emission),_&&(_.texture||(_.texture=new c.dk(m.context,_.image,[_.image.height,_.image.height,_.image.height],E.gl.RGBA8)),E.activeTexture.set(E.gl.TEXTURE0+pl.LUT),_.texture&&_.texture.bind(E.gl.LINEAR,E.gl.CLAMP_TO_EDGE),p.push("APPLY_LUT_ON_GPU")),l.texcoordBuffer&&(p.push("HAS_ATTRIBUTE_a_uv_2f"),r.push(l.texcoordBuffer)),l.colorBuffer&&(p.push(l.colorBuffer.itemSize===12?"HAS_ATTRIBUTE_a_color_3f":"HAS_ATTRIBUTE_a_color_4f"),r.push(l.colorBuffer)),l.normalBuffer&&(p.push("HAS_ATTRIBUTE_a_normal_3f"),r.push(l.normalBuffer)),l.pbrBuffer&&(p.push("HAS_ATTRIBUTE_a_pbr"),p.push("HAS_ATTRIBUTE_a_heightBasedEmissiveStrength"),r.push(l.pbrBuffer)),x.alphaMode!=="OPAQUE"&&x.alphaMode!=="MASK"||p.push("UNPREMULT_TEXTURE_IN_SHADER"),x.defined||p.push("DIFFUSE_SHADED");const ce=m.shadowRenderer;ce&&(p.push("RENDER_SHADOWS","DEPTH_TEXTURE"),ce.useNormalOffset&&p.push("NORMAL_OFFSET"))}function Xu(p,r,l,m,_,x){const E=l.paint.get("model-opacity").constantOr(1),R=r.context,F=new jo(r.context.gl.LEQUAL,jo.ReadWrite,r.depthRangeFor3D),V=r.transform,U=p.mesh,Q=U.material,ee=Q.pbrMetallicRoughness,ce=r.style.fog;let Pe;Pe=r.transform.projection.zAxisUnit==="pixels"?[...p.nodeModelMatrix]:c.ab.mat4.multiply([],m.zScaleMatrix,p.nodeModelMatrix),c.ab.mat4.multiply(Pe,m.negCameraPosMatrix,Pe);const Se=c.ab.mat4.invert([],Pe);c.ab.mat4.transpose(Se,Se);const ze=l.paint.get("model-color-use-theme").constantOr("default")==="none",Le=l.paint.get("model-emissive-strength").constantOr(0),st=gh(new Float32Array(p.worldViewProjection),new Float32Array(Pe),new Float32Array(Se),null,r,E,ee.baseColorFactor.toRenderColor(null),Q.emissiveFactor,ee.metallicFactor,ee.roughnessFactor,Q,Le,l),St={defines:[]},xt=[],Wt=r.shadowRenderer;Wt&&(Wt.useNormalOffset=!1),Ku(St.defines,xt,U,r,ze?null:l.lut);let zt=null;if(ce){const cn=Mu(p.nodeModelMatrix,r.transform);if(zt=new Float32Array(cn),V.projection.name!=="globe"){const Tn=U.aabb.min,hr=U.aabb.max,[nr,jr]=ce.getOpacityForBounds(cn,Tn[0],Tn[1],hr[0],hr[1]);St.overrideFog=nr>=nt||jr>=nt}}const kt=an(r,l.paint.get("model-cutoff-fade-range"));kt.shouldRenderCutoff&&St.defines.push("RENDER_CUTOFF");const Lt=r.getOrCreateProgram("model",St);r.uploadCommonUniforms(R,Lt,null,zt,kt),r.renderPass!=="shadow"&&Wt&&Wt.setupShadowsFromMatrix(p.nodeModelMatrix,Lt),Lt.draw(r,R.gl.TRIANGLES,F,_,x,U.material.doubleSided?sa.disabled:sa.backCCW,st,l.id,U.vertexBuffer,U.indexBuffer,U.segments,l.paint,r.transform.zoom,void 0,xt)}function yp(p,r,l,m,_,x,E){let R;R=p.projection.name==="globe"?c.dl(l,p):[...l],c.ab.mat4.multiply(R,R,r.matrix);const F=c.ab.mat4.multiply([],m,R);if(r.meshes)for(const V of r.meshes){if(V.material.alphaMode!=="BLEND"){E.push({mesh:V,depth:0,modelIndex:_,worldViewProjection:F,nodeModelMatrix:R});continue}const U=c.ab.vec3.transformMat4([],V.centroid,F);!p.isOrthographic&&U[2]<=0||x.push({mesh:V,depth:U[2],modelIndex:_,worldViewProjection:F,nodeModelMatrix:R})}if(r.children)for(const V of r.children)yp(p,V,l,m,_,x,E)}function Sh(p,r,l,m){const _=l.shadowRenderer;if(!_)return;const x=_.getShadowPassDepthMode(),E=_.getShadowPassColorMode(),R=_.calculateShadowPassMatrixFromMatrix(r),F=up(R);l.getOrCreateProgram("modelDepth",{defines:l._shadowMapDebug?[]:["DEPTH_TEXTURE"]}).draw(l,l.context.gl.TRIANGLES,x,ea.disabled,E,sa.backCCW,F,m.id,p.vertexBuffer,p.indexBuffer,p.segments,m.paint,l.transform.zoom,void 0,void 0)}function Pu(p,r,l){const m=r.updateZoomBasedPaintProperties(),_=function(x,E,R){let F,V,U,Q=x.terrain?x.terrain.exaggeration():0;if(x.terrain&&Q>0){const ee=x.terrain,ce=ee.findDEMTileFor(R);ce&&ce.dem?F=c.dn.create(ee,R,ce):Q=0}if(Q===0&&(E.terrainElevationMin=0,E.terrainElevationMax=0),Q===E.validForExaggeration&&(Q===0||F&&F._demTile&&F._demTile.tileID===E.validForDEMTile.id&&F._dem._timestamp===E.validForDEMTile.timestamp))return!1;for(const ee in E.instancesPerModel){const ce=E.instancesPerModel[ee];for(let Pe=0;Pe<ce.instancedDataArray.length;++Pe){const Se=(F?Q*F.getElevationAt(0|ce.instancedDataArray.float32[16*Pe],0|ce.instancedDataArray.float32[16*Pe+1],!0,!0):0)+ce.instancesEvaluatedElevation[Pe];ce.instancedDataArray.float32[16*Pe+6]=Se,V=V?Math.min(E.terrainElevationMin,Se):Se,U=U?Math.max(E.terrainElevationMax,Se):Se}}return E.terrainElevationMin=V||0,E.terrainElevationMax=U||0,E.validForExaggeration=Q,E.validForDEMTile=F&&F._demTile?{id:F._demTile.tileID,timestamp:F._dem._timestamp}:{id:void 0,timestamp:0},!0}(p,r,l);(m||_)&&(r.uploaded=!1,r.upload(p.context))}const vl={shadowUniformsInitialized:!1,useSingleShadowCascade:!1,tileMatrix:new Float64Array(16),shadowTileMatrix:new Float32Array(16),aabb:new c.cd([0,0,0],[c.ag,c.ag,0])};function Kc(p,r){const l=1<<p.canonical.z,m=r.getFreeCameraOptions().position,_=r.elevation,x=p.canonical.x/l,E=(p.canonical.x+1)/l,R=p.canonical.y/l,F=(p.canonical.y+1)/l;let V=r._centerAltitude;if(_){const ce=_.getMinMaxForTile(p);ce&&ce.max>V&&(V=ce.max)}const U=c.aw(m.x,x,E)-m.x,Q=c.aw(m.y,R,F)-m.y,ee=c.bH(V,r.center.lat)-m.z;return r._zoomFromMercatorZ(Math.sqrt(U*U+Q*Q+ee*ee))}function Yu(p,r,l,m,_,x,E){const R=p.context,F=p.renderPass==="shadow",V=p.shadowRenderer,U=F&&V?V.getShadowPassDepthMode():new jo(R.gl.LEQUAL,jo.ReadWrite,p.depthRangeFor3D),Q=p.isTileAffectedByFog(x);if(l.meshes)for(const ee of l.meshes){const ce=["MODEL_POSITION_ON_GPU"],Pe=[];let Se,ze,Le;m.instancedDataArray.length>20&&ce.push("INSTANCED_ARRAYS");const st=an(p,r.paint.get("model-cutoff-fade-range"));if(st.shouldRenderCutoff&&ce.push("RENDER_CUTOFF"),F&&V)Se=p.getOrCreateProgram("modelDepth",{defines:ce}),ze=up(E.shadowTileMatrix,E.shadowTileMatrix,Float32Array.from(l.matrix)),Le=V.getShadowPassColorMode();else{Ku(ce,Pe,ee,p,r.paint.get("model-color-use-theme").constantOr("default")==="none"?null:r.lut),Se=p.getOrCreateProgram("model",{defines:ce,overrideFog:Q});const xt=ee.material,Wt=xt.pbrMetallicRoughness,zt=r.paint.get("model-opacity").constantOr(1),kt=r.paint.get("model-emissive-strength").constantOr(0);ze=gh(x.expandedProjMatrix,Float32Array.from(l.matrix),new Float32Array(16),null,p,zt,Wt.baseColorFactor.toRenderColor(null),xt.emissiveFactor,Wt.metallicFactor,Wt.roughnessFactor,xt,kt,r,_),V&&(E.shadowUniformsInitialized?Se.setShadowUniformValues(R,V.getShadowUniformValues()):(V.setupShadows(x.toUnwrapped(),Se,"model-tile",x.overscaledZ),E.shadowUniformsInitialized=!0)),Le=st.shouldRenderCutoff||zt<1||xt.alphaMode!=="OPAQUE"?ia.alphaBlended:ia.unblended}p.uploadCommonUniforms(R,Se,x.toUnwrapped(),null,st);const St=ee.material.doubleSided?sa.disabled:sa.backCCW;if(m.instancedDataArray.length>20)Pe.push(m.instancedDataBuffer),Se.draw(p,R.gl.TRIANGLES,U,ea.disabled,Le,St,ze,r.id,ee.vertexBuffer,ee.indexBuffer,ee.segments,r.paint,p.transform.zoom,void 0,Pe,m.instancedDataArray.length);else{const xt=F?"u_instance":"u_normal_matrix";for(let Wt=0;Wt<m.instancedDataArray.length;++Wt)ze[xt]=new Float32Array(m.instancedDataArray.arrayBuffer,64*Wt,16),Se.draw(p,R.gl.TRIANGLES,U,ea.disabled,Le,St,ze,r.id,ee.vertexBuffer,ee.indexBuffer,ee.segments,r.paint,p.transform.zoom,void 0,Pe)}}if(l.children)for(const ee of l.children)Yu(p,r,ee,m,_,x,E)}const Pm=[1,-1,1];function Om(p,r,l,m){if(!l.modelManager)return!0;const _=l.modelManager;if(!l.shadowRenderer)return!0;const x=l.shadowRenderer,E=r.aabb;let R=!0,F=p.maxHeight;if(F===0){let U=0;for(const Q in p.instancesPerModel){const ee=_.getModel(Q,m);ee?U=Math.max(U,Math.max(Math.max(ee.aabb.max[0],ee.aabb.max[1]),ee.aabb.max[2])):R=!1}F=p.maxScale*U*1.41+p.maxVerticalOffset,R&&(p.maxHeight=F)}E.max[2]=F,E.min[2]+=p.terrainElevationMin,E.max[2]+=p.terrainElevationMax,c.ab.vec3.transformMat4(E.min,E.min,r.tileMatrix),c.ab.vec3.transformMat4(E.max,E.max,r.tileMatrix);const V=E.intersects(x.getCurrentCascadeFrustum());return l.currentShadowCascade===0&&(p.isInsideFirstShadowMapFrustum=V===2),V===0}function Jd(p,r){const l=p.uniformValues.u_cutoff_params[0],m=p.uniformValues.u_cutoff_params[1],_=p.uniformValues.u_cutoff_params[2],x=p.uniformValues.u_cutoff_params[3];return m===l||x===_?1:c.aw(((r-l)/(m-l)-_)/(x-_),0,1)}function Rm(p,r,l,m){if(r.pitch<20)return 1;const _=r.getWorldToCameraMatrix();c.ab.mat4.multiply(_,_,p);const x=c.ab.vec4.fromValues(l.min[0],l.min[1],l.min[2],1);let E=c.ab.vec4.transformMat4(c.ab.vec4.create(),x,_),R=E,F=E;x[1]=l.max[1],E=c.ab.vec4.transformMat4(c.ab.vec4.create(),x,_),R=E[1]<R[1]?E:R,F=E[1]>F[1]?E:F,x[0]=l.max[0],E=c.ab.vec4.transformMat4(c.ab.vec4.create(),x,_),R=E[1]<R[1]?E:R,F=E[1]>F[1]?E:F,x[1]=l.min[1],E=c.ab.vec4.transformMat4(c.ab.vec4.create(),x,_),R=E[1]<R[1]?E:R,F=E[1]>F[1]?E:F;const V=c.aw(m[0],0,1),U=100*r.pixelsPerMeter*c.aw(m[1],0,1),Q=c.aw(m[2],0,1),ee=c.ab.vec4.lerp(c.ab.vec4.create(),R,F,V),ce=Math.tan(.5*r.fovX),Pe=-ee[2]*ce;if(U===0)return ee[1]<-Math.abs(Pe)?Q:1;const Se=(-Math.abs(Pe)-ee[1])/U,ze=(st,St,xt)=>(1-xt)*st+xt*St,Le=c.aw(ze(1,Q,Se),Q,1);return ze(1,Le,c.aw((r.pitch-20)/20,0,1))}class Sd{}class wd{constructor(){this._storage=new Map}getLinesFromTrianglesBuffer(r,l,m){{const Q=this._storage.get(l.id);if(Q)return Q.lastUsedFrameIdx=r,Q.buf}const _=m.gl,x=_.getBufferParameter(_.ELEMENT_ARRAY_BUFFER,_.BUFFER_SIZE),E=new ArrayBuffer(x),R=new Int16Array(E);_.getBufferSubData(_.ELEMENT_ARRAY_BUFFER,0,new Int16Array(E));const F=new c.dq;for(let Q=0;Q<x/2;Q+=3){const ee=R[Q],ce=R[Q+1],Pe=R[Q+2];F.emplaceBack(ee,ce),F.emplaceBack(ce,Pe),F.emplaceBack(Pe,ee)}const V=m.bindVertexArrayOES.current,U=new Sd;return U.buf=new hu(m,F),U.lastUsedFrameIdx=r,this._storage.set(l.id,U),m.bindVertexArrayOES.set(V),U.buf}update(r){for(const[l,m]of this._storage)r-m.lastUsedFrameIdx>30&&(m.buf.destroy(),this._storage.delete(l))}destroy(){for(const[r,l]of this._storage)l.buf.destroy(),this._storage.delete(r)}}class qu{constructor(r){this.occluderSize=30,this.depthOffset=-1e-4,r.registerParameter(this,["Occlusion"],"occluderSize",{min:1,max:100,step:1}),r.registerParameter(this,["Occlusion"],"depthOffset",{min:-.05,max:0,step:1e-5})}}const $m=c.da([{type:"Float32",name:"a_pos_3f",components:3},{type:"Float32",name:"a_uv",components:2},{type:"Float32",name:"a_rainParticleData",components:4}]);class Am{registerParameter(){}registerButton(){}registerBinding(){}refreshUI(){}}class lc{constructor(r,l){this.revealStart=11,this.revealRange=2,r.registerParameter(this,[...l,"Reveal"],"revealStart",{min:0,max:17,step:.05}),r.registerParameter(this,[...l,"Reveal"],"revealRange",{min:.1,max:5.1,step:.05})}}const Dm=c.da([{type:"Float32",name:"a_pos_2f",components:2}]);class Lm{destroy(){this.vignetteVx&&this.vignetteVx.destroy(),this.vignetteIdx&&this.vignetteIdx.destroy()}draw(r,l){const m=r.getOrCreateProgram("vignette");if(!this.vignetteVx||!this.vignetteIdx){const E=new c.dr,R=new c.aU;E.emplaceBack(-1,-1),E.emplaceBack(1,-1),E.emplaceBack(1,1),E.emplaceBack(-1,1),R.emplaceBack(0,1,2),R.emplaceBack(0,2,3),this.vignetteVx=r.context.createVertexBuffer(E,Dm.members),this.vignetteIdx=r.context.createIndexBuffer(R)}const _=c.b7.simpleSegment(0,0,4,6);if(this.vignetteVx&&this.vignetteIdx){r.uploadCommonUniforms(r.context,m);const E={u_vignetteShape:(x={vignetteShape:[l.start,l.range,Math.pow(10,l.fadePower)],vignetteColor:[l.color.r,l.color.g,l.color.b,l.color.a*l.strength]}).vignetteShape,u_vignetteColor:x.vignetteColor};m.draw(r,r.context.gl.TRIANGLES,jo.disabled,ea.disabled,ia.alphaBlended,sa.disabled,E,"vignette",this.vignetteVx,this.vignetteIdx,_,{})}var x}}class Df{constructor(){this._accumulatedOffsetX=0,this._accumulatedOffsetY=0,this._accumulatedElevation=0}update(r,l){const m=r.getFreeCameraOptions().position,_=m.toAltitude(),x=m.toLngLat(),E=c.ai(x.lng),R=c.ai(x.lat),F=r.pixelsPerMeter/l,V=E*c.ds,U=c.ds*Math.log(Math.tan(Math.PI/4+R/2));if(this._offsetXPrev===void 0)this._offsetXPrev=0,this._offsetYPrev=0,this._elevationPrev=0,this._accumulatedOffsetX=0,this._accumulatedOffsetY=0,this._accumulatedElevation=0;else{const Q=-this._offsetYPrev+U,ee=-this._elevationPrev+_;this._accumulatedOffsetX+=(-this._offsetXPrev+V)*F,this._accumulatedOffsetY+=Q*F,this._accumulatedElevation+=ee*F,this._offsetXPrev=V,this._offsetYPrev=U,this._elevationPrev=_}}getPosition(){return[this._accumulatedOffsetX,this._accumulatedOffsetY,this._accumulatedElevation]}}function Cs(p,r){return[-(p[0]-Math.floor(p[0]/r)*r),-(p[1]-Math.floor(p[1]/r)*r),-(p[2]-Math.floor(p[2]/r)*r)]}function zm(p){const r=c.di(1323123451230),l=[];for(let m=0;m<p;++m){const _=2*r()-1,x=2*r()-1,E=2*r()-1;l.push(c.ab.vec3.fromValues(_,x,E))}return l}function Ou(p,r,l,m,_){const x=c.aw((_-l)/(m-l),0,1);return(1-x)*p+x*r}class wh{constructor(r){this._movement=new Df,this._accumulatedTimeFromStart=0,this._prevTime=Date.now()/1e3,this._vignette=new Lm,this._ppmScaleFactor=r}destroy(){this.particlesVx&&this.particlesVx.destroy(),this.particlesIdx&&this.particlesIdx.destroy(),this._vignette&&this._vignette.destroy()}updateOnRender(r,l){const m=r.transform;this._movement.update(m,this._ppmScaleFactor);const _=m.starsProjMatrix,x=c.ab.quat.identity([]);c.ab.quat.rotateX(x,x,c.ai(90)-m._pitch),c.ab.quat.rotateZ(x,x,-m.angle);const E=c.ab.mat4.fromQuat(new Float32Array(16),x),R=c.ab.mat4.fromValues(1,0,0,0,0,0,1,0,0,-1,0,0,0,0,0,1),F=c.ab.mat4.transpose([],R),V=c.ab.mat4.multiply([],F,E),U=Date.now()/1e3;return this._accumulatedTimeFromStart+=(U-this._prevTime)*l,this._prevTime=U,{projectionMatrix:_,modelviewMatrix:V}}}class pu extends wh{constructor(r){super(4.25),this._params={overrideStyleParameters:!1,intensity:.5,timeFactor:1,velocityConeAperture:0,velocity:300,boxSize:2500,dropletSizeX:1,dropletSizeYScale:10,distortionStrength:70,screenThinning:{intensity:.57,start:.46,range:1.17,fadePower:.17,affectedRatio:1,particleOffset:-.2},color:{r:.66,g:.68,b:.74,a:.7},direction:{x:-50,y:-35},shapeDirPower:2,shapeNormalPower:1},this._revealParams=new lc(r.tp,["Precipitation","Rain"]),this._vignetteParams={strength:1,start:.7,range:1,fadePower:.4,color:{r:.27,g:.27,b:.27,a:1}},this.particlesCount=16e3}update(r){const l=r.context;if(!this.particlesVx){const m=zm(this.particlesCount),_=new c.dt,x=new c.aU;let E=0;const R=c.di(1323123451230);for(let F=0;F<m.length;++F){const V=m[F],U=[2*R()-1,R(),R(),R()];_.emplaceBack(V[0],V[1],V[2],-1,-1,...U),_.emplaceBack(V[0],V[1],V[2],1,-1,...U),_.emplaceBack(V[0],V[1],V[2],1,1,...U),_.emplaceBack(V[0],V[1],V[2],-1,1,...U),x.emplaceBack(E+0,E+1,E+2),x.emplaceBack(E+0,E+2,E+3),E+=4}this.particlesVx=l.createVertexBuffer(_,$m.members),this.particlesIdx=l.createIndexBuffer(x)}}draw(r){if(!this._params.overrideStyleParameters&&!r.style.rain)return;const l=this._params.overrideStyleParameters?this._revealParams:{revealStart:0,revealRange:.01},m=r.transform.zoom;if(l.revealStart>m)return;const _=Ou(0,1,l.revealStart,l.revealStart+l.revealRange,m);if(!this.particlesVx||!this.particlesIdx)return;const x=structuredClone(this._params);let E=[-x.direction.x,x.direction.y,-100];c.ab.vec3.normalize(E,E);const R=structuredClone(this._vignetteParams);R.strength*=_,x.overrideStyleParameters||(x.intensity=r.style.rain.state.density,x.timeFactor=r.style.rain.state.intensity,x.color=structuredClone(r.style.rain.state.color),E=structuredClone(r.style.rain.state.direction),x.screenThinning.intensity=r.style.rain.state.centerThinning,x.dropletSizeX=r.style.rain.state.dropletSize[0],x.dropletSizeYScale=r.style.rain.state.dropletSize[1]/r.style.rain.state.dropletSize[0],x.distortionStrength=100*r.style.rain.state.distortionStrength,R.strength=1,R.color=structuredClone(r.style.rain.state.vignetteColor));const F=this.updateOnRender(r,x.timeFactor),V=r.context,U=V.gl,Q=r.transform;this.screenTexture&&this.screenTexture.size[0]===r.width&&this.screenTexture.size[1]===r.height||(this.screenTexture=new c.T(V,{width:r.width,height:r.height,data:null},U.RGBA8)),x.distortionStrength>0&&(V.activeTexture.set(U.TEXTURE0),this.screenTexture.bind(U.LINEAR,U.CLAMP_TO_EDGE),U.copyTexSubImage2D(U.TEXTURE_2D,0,0,0,0,0,r.width,r.height));const ee=r.getOrCreateProgram("rainParticle");r.uploadCommonUniforms(V,ee),V.activeTexture.set(U.TEXTURE0),this.screenTexture.bind(U.LINEAR,U.CLAMP_TO_EDGE);const ce=[x.color.r,x.color.g,x.color.b,x.color.a],Pe=(Se,ze)=>{const Le=Cs(this._movement.getPosition(),Se),st=x.dropletSizeX,St=x.dropletSizeX*x.dropletSizeYScale,xt=r.width/2,Wt=r.height/2,zt=Ou(0,x.screenThinning.start,0,1,x.screenThinning.intensity),kt=Ou(.001,x.screenThinning.range,0,1,x.screenThinning.intensity),Lt=Ou(0,x.screenThinning.particleOffset,0,1,x.screenThinning.intensity),cn=(Tn={modelview:F.modelviewMatrix,projection:F.projectionMatrix,time:this._accumulatedTimeFromStart,camPos:Le,velocityConeAperture:x.velocityConeAperture,velocity:x.velocity,boxSize:Se,rainDropletSize:[st,St],distortionStrength:x.distortionStrength,rainDirection:E,color:ce,screenSize:[Q.width,Q.height],thinningCenterPos:[xt,Wt],thinningShape:[zt,kt,Math.pow(10,x.screenThinning.fadePower)],thinningAffectedRatio:x.screenThinning.affectedRatio,thinningParticleOffset:Lt,shapeDirectionalPower:x.shapeDirPower,shapeNormalPower:x.shapeNormalPower,mode:ze?0:1},{u_modelview:Float32Array.from(Tn.modelview),u_projection:Float32Array.from(Tn.projection),u_time:Tn.time,u_cam_pos:Tn.camPos,u_texScreen:0,u_velocityConeAperture:Tn.velocityConeAperture,u_velocity:Tn.velocity,u_boxSize:Tn.boxSize,u_rainDropletSize:Tn.rainDropletSize,u_distortionStrength:Tn.distortionStrength,u_rainDirection:Tn.rainDirection,u_color:Tn.color,u_screenSize:Tn.screenSize,u_thinningCenterPos:Tn.thinningCenterPos,u_thinningShape:Tn.thinningShape,u_thinningAffectedRatio:Tn.thinningAffectedRatio,u_thinningParticleOffset:Tn.thinningParticleOffset,u_shapeDirectionalPower:Tn.shapeDirectionalPower,u_shapeNormalPower:Tn.shapeNormalPower,u_mode:Tn.mode});var Tn;const hr=Math.round(x.intensity*this.particlesCount),nr=c.b7.simpleSegment(0,0,4*hr,2*hr);ee.draw(r,U.TRIANGLES,jo.disabled,ea.disabled,ia.alphaBlended,sa.disabled,cn,"rain_particles",this.particlesVx,this.particlesIdx,nr,{})};x.distortionStrength>0&&Pe(x.boxSize,!0),Pe(x.boxSize,!1),this._vignette.draw(r,R)}}const mu=c.da([{type:"Float32",name:"a_pos_3f",components:3},{type:"Float32",name:"a_uv",components:2},{type:"Float32",name:"a_snowParticleData",components:4},{type:"Float32",name:"a_snowParticleDataHorizontalOscillation",components:2}]);class _p extends wh{constructor(r){super(2.25),this._params={overrideStyleParameters:!1,intensity:.85,timeFactor:.75,velocityConeAperture:70,velocity:40,horizontalOscillationRadius:4,horizontalOscillationRate:1.5,boxSize:2e3,billboardSize:2,shapeFadeStart:.27,shapeFadePower:.21,screenThinning:{intensity:.4,start:.15,range:1.4,fadePower:.24,affectedRatio:1,particleOffset:-.2},color:{r:1,g:1,b:1,a:1},direction:{x:-50,y:-35}},this._revealParams=new lc(r.tp,["Precipitation","Snow"]),this._vignetteParams={strength:.3,start:.78,range:.46,fadePower:.2,color:{r:1,g:1,b:1,a:1}},this.particlesCount=16e3}update(r){const l=r.context;if(!this.particlesVx){const m=zm(this.particlesCount),_=new c.du,x=new c.aU;let E=0;const R=c.di(1323123451230);for(let F=0;F<m.length;++F){const V=m[F],U=R(),Q=R(),ee=R(),ce=[F/m.length,U,Q,ee],Pe=[R(),R()];_.emplaceBack(V[0],V[1],V[2],-1,-1,...ce,...Pe),_.emplaceBack(V[0],V[1],V[2],1,-1,...ce,...Pe),_.emplaceBack(V[0],V[1],V[2],1,1,...ce,...Pe),_.emplaceBack(V[0],V[1],V[2],-1,1,...ce,...Pe),x.emplaceBack(E+0,E+1,E+2),x.emplaceBack(E+0,E+2,E+3),E+=4}this.particlesVx=l.createVertexBuffer(_,mu.members),this.particlesIdx=l.createIndexBuffer(x)}}draw(r){if(!this._params.overrideStyleParameters&&!r.style.snow)return;const l=structuredClone(this._params);let m=[-l.direction.x,l.direction.y,-100];c.ab.vec3.normalize(m,m);const _=structuredClone(this._vignetteParams),x=l.overrideStyleParameters?this._revealParams:{revealStart:0,revealRange:.01},E=r.transform.zoom;if(x.revealStart>E)return;const R=Ou(0,1,x.revealStart,x.revealStart+x.revealRange,E);_.strength*=R,l.overrideStyleParameters||(l.intensity=r.style.snow.state.density,l.timeFactor=r.style.snow.state.intensity,l.color=structuredClone(r.style.snow.state.color),m=structuredClone(r.style.snow.state.direction),l.screenThinning.intensity=r.style.snow.state.centerThinning,l.billboardSize=2.79*r.style.snow.state.flakeSize,_.strength=1,_.color=structuredClone(r.style.snow.state.vignetteColor));const F=this.updateOnRender(r,l.timeFactor);if(!this.particlesVx||!this.particlesIdx)return;const V=r.context,U=V.gl,Q=r.transform,ee=r.getOrCreateProgram("snowParticle");r.uploadCommonUniforms(V,ee),((ce,Pe,Se)=>{const ze=Cs(this._movement.getPosition(),ce),Le=Q.width/2,st=Q.height/2,St=Ou(0,Se.screenThinning.start,0,1,Se.screenThinning.intensity),xt=Ou(.001,Se.screenThinning.range,0,1,Se.screenThinning.intensity),Wt=Ou(0,Se.screenThinning.particleOffset,0,1,Se.screenThinning.intensity),zt=(kt={modelview:F.modelviewMatrix,projection:F.projectionMatrix,time:this._accumulatedTimeFromStart,camPos:ze,velocityConeAperture:Se.velocityConeAperture,velocity:Se.velocity,horizontalOscillationRadius:Se.horizontalOscillationRadius,horizontalOscillationRate:Se.horizontalOscillationRate,boxSize:ce,billboardSize:1*Se.billboardSize,simpleShapeParameters:[Se.shapeFadeStart,Se.shapeFadePower],screenSize:[Q.width,Q.height],thinningCenterPos:[Le,st],thinningShape:[St,xt,Math.pow(10,Se.screenThinning.fadePower)],thinningAffectedRatio:Se.screenThinning.affectedRatio,thinningParticleOffset:Wt,color:[Se.color.r,Se.color.g,Se.color.b,Se.color.a],direction:m},{u_modelview:Float32Array.from(kt.modelview),u_projection:Float32Array.from(kt.projection),u_time:kt.time,u_cam_pos:kt.camPos,u_velocityConeAperture:kt.velocityConeAperture,u_velocity:kt.velocity,u_horizontalOscillationRadius:kt.horizontalOscillationRadius,u_horizontalOscillationRate:kt.horizontalOscillationRate,u_boxSize:kt.boxSize,u_billboardSize:kt.billboardSize,u_simpleShapeParameters:kt.simpleShapeParameters,u_screenSize:kt.screenSize,u_thinningCenterPos:kt.thinningCenterPos,u_thinningShape:kt.thinningShape,u_thinningAffectedRatio:kt.thinningAffectedRatio,u_thinningParticleOffset:kt.thinningParticleOffset,u_particleColor:kt.color,u_direction:kt.direction});var kt;const Lt=Math.round(Se.intensity*this.particlesCount),cn=c.b7.simpleSegment(0,0,4*Lt,2*Lt);this.particlesVx&&this.particlesIdx&&ee.draw(r,U.TRIANGLES,jo.disabled,ea.disabled,ia.alphaBlended,sa.disabled,zt,"snow_particles",this.particlesVx,this.particlesIdx,cn,{})})(l.boxSize,0,l),this._vignette.draw(r,_)}}const Lf={symbol:function(p,r,l,m,_){if(p.renderPass!=="translucent")return;const x=ea.disabled,E=p.colorModeForRenderPass(),R=l.layout.get("text-variable-anchor"),F=l.layout.get("text-size-scale-range"),V=c.aw(p.scaleFactor,F[0],F[1]);R&&function(ee,ce,Pe,Se,ze,Le,st,St){const xt=ce.transform,Wt=ze==="map",zt=Le==="map";for(const kt of ee){const Lt=Se.getTile(kt),cn=Lt.getBucket(Pe);if(!cn||!cn.text||!cn.text.segments.get().length)continue;const Tn=c.bp(cn.textSizeData,xt.zoom,St),hr=la(kt,cn.getProjection(),xt),nr=xt.calculatePixelsToTileUnitsMatrix(Lt),jr=qe(hr,Lt.tileID.canonical,zt,Wt,xt,cn.getProjection(),nr),Br=cn.hasIconTextFit()&&cn.hasIconData();if(Tn){const Un=Math.pow(2,xt.zoom-Lt.tileID.overscaledZ);hp(cn,Wt,zt,st,c.cX,xt,jr,kt,Un,Tn,Br)}}}(m,p,l,r,l.layout.get("text-rotation-alignment"),l.layout.get("text-pitch-alignment"),_,V);const U=l.paint.get("icon-opacity").constantOr(1)!==0,Q=l.paint.get("text-opacity").constantOr(1)!==0;l.layout.get("symbol-sort-key").constantOr(1)!==void 0&&(U||Q)?yh(p,r,l,m,x,E):(U&&yh(p,r,l,m,x,E,{onlyIcons:!0}),Q&&yh(p,r,l,m,x,E,{onlyText:!0})),r.map.showCollisionBoxes&&(vh(p,r,l,m,l.paint.get("text-translate"),l.paint.get("text-translate-anchor"),!0),vh(p,r,l,m,l.paint.get("icon-translate"),l.paint.get("icon-translate-anchor"),!1))},circle:function(p,r,l,m){if(p.renderPass!=="translucent")return;const _=l.paint.get("circle-opacity"),x=l.paint.get("circle-stroke-width"),E=l.paint.get("circle-stroke-opacity"),R=l.layout.get("circle-sort-key").constantOr(1)!==void 0,F=l.paint.get("circle-emissive-strength");if(_.constantOr(1)===0&&(x.constantOr(1)===0||E.constantOr(1)===0))return;const V=p.context,U=V.gl,Q=p.transform,ee=p.depthModeForSublayer(0,jo.ReadOnly),ce=ea.disabled,Pe=p.colorModeForDrapableLayerRenderPass(F),Se=Q.projection.name==="globe",ze=[c.at(Q.center.lng),c.aA(Q.center.lat)],Le=[];for(let St=0;St<m.length;St++){const xt=m[St],Wt=r.getTile(xt),zt=Wt.getBucket(l);if(!zt||zt.projection.name!==Q.projection.name)continue;const kt=zt.programConfigurations.get(l.id),Lt=c.cY(l),cn=p.isTileAffectedByFog(xt);Se&&Lt.push("PROJECTION_GLOBE_VIEW"),Lt.push("DEPTH_D24"),p.terrain&&Q.depthOcclusionForSymbolsAndCircles&&Lt.push("DEPTH_OCCLUSION");const Tn=p.getOrCreateProgram("circle",{config:kt,defines:Lt,overrideFog:cn}),hr=zt.layoutVertexBuffer,nr=zt.globeExtVertexBuffer,jr=zt.indexBuffer,Br=Q.projection.createInversionMatrix(Q,xt.canonical),Un={programConfiguration:kt,program:Tn,layoutVertexBuffer:hr,globeExtVertexBuffer:nr,indexBuffer:jr,uniformValues:c.cZ(p,xt,Wt,Br,ze,l),tile:Wt};if(R){const vr=zt.segments.get();for(const vi of vr)Le.push({segments:new c.b7([vi]),sortKey:vi.sortKey,state:Un})}else Le.push({segments:zt.segments,sortKey:0,state:Un})}R&&Le.sort((St,xt)=>St.sortKey-xt.sortKey);const st={useDepthForOcclusion:Q.depthOcclusionForSymbolsAndCircles};for(const St of Le){const{programConfiguration:xt,program:Wt,layoutVertexBuffer:zt,globeExtVertexBuffer:kt,indexBuffer:Lt,uniformValues:cn,tile:Tn}=St.state,hr=St.segments;p.terrain&&p.terrain.setupElevationDraw(Tn,Wt,st),p.uploadCommonUniforms(V,Wt,Tn.tileID.toUnwrapped()),Wt.draw(p,U.TRIANGLES,ee,ce,Pe,sa.disabled,cn,l.id,zt,Lt,hr,l.paint,Q.zoom,xt,[kt])}},heatmap:function(p,r,l,m){if(l.paint.get("heatmap-opacity")!==0)if(p.renderPass==="offscreen"){const _=p.context,x=_.gl,E=ea.disabled,R=new ia([x.ONE,x.ONE,x.ONE,x.ONE],c.aj.transparent,[!0,!0,!0,!0]);(function(ce,Pe,Se,ze){const Le=ce.gl,st=Pe.width*ze,St=Pe.height*ze;ce.activeTexture.set(Le.TEXTURE1),ce.viewport.set([0,0,st,St]);let xt=Se.heatmapFbo;if(!xt||xt&&(xt.width!==st||xt.height!==St)){xt&&xt.destroy();const Wt=Le.createTexture();Le.bindTexture(Le.TEXTURE_2D,Wt),Le.texParameteri(Le.TEXTURE_2D,Le.TEXTURE_WRAP_S,Le.CLAMP_TO_EDGE),Le.texParameteri(Le.TEXTURE_2D,Le.TEXTURE_WRAP_T,Le.CLAMP_TO_EDGE),Le.texParameteri(Le.TEXTURE_2D,Le.TEXTURE_MIN_FILTER,Le.LINEAR),Le.texParameteri(Le.TEXTURE_2D,Le.TEXTURE_MAG_FILTER,Le.LINEAR),xt=Se.heatmapFbo=ce.createFramebuffer(st,St,!0,null),function(zt,kt,Lt,cn,Tn,hr){const nr=zt.gl;nr.texImage2D(nr.TEXTURE_2D,0,zt.extRenderToTextureHalfFloat?nr.RGBA16F:nr.RGBA,Tn,hr,0,nr.RGBA,zt.extRenderToTextureHalfFloat?nr.HALF_FLOAT:nr.UNSIGNED_BYTE,null),cn.colorAttachment.set(Lt)}(ce,0,Wt,xt,st,St)}else Le.bindTexture(Le.TEXTURE_2D,xt.colorAttachment.get()),ce.bindFramebuffer.set(xt.framebuffer)})(_,p,l,p.transform.projection.name==="globe"?.5:.25),_.clear({color:c.aj.transparent});const F=p.transform,V=F.projection.name==="globe",U=V?["PROJECTION_GLOBE_VIEW"]:[],Q=V?sa.frontCCW:sa.disabled,ee=[c.at(F.center.lng),c.aA(F.center.lat)];for(let ce=0;ce<m.length;ce++){const Pe=m[ce];if(r.hasRenderableParent(Pe))continue;const Se=r.getTile(Pe),ze=Se.getBucket(l);if(!ze||ze.projection.name!==F.projection.name)continue;const Le=p.isTileAffectedByFog(Pe),st=ze.programConfigurations.get(l.id),St=p.getOrCreateProgram("heatmap",{config:st,defines:U,overrideFog:Le}),{zoom:xt}=p.transform;p.terrain&&p.terrain.setupElevationDraw(Se,St),p.uploadCommonUniforms(_,St,Pe.toUnwrapped());const Wt=F.projection.createInversionMatrix(F,Pe.canonical);St.draw(p,x.TRIANGLES,jo.disabled,E,R,Q,Eo(p,Pe,Se,Wt,ee,xt,l.paint.get("heatmap-intensity")),l.id,ze.layoutVertexBuffer,ze.indexBuffer,ze.segments,l.paint,p.transform.zoom,st,V?[ze.globeExtVertexBuffer]:null)}_.viewport.set([0,0,p.width,p.height])}else p.renderPass==="translucent"&&(p.context.setColorMode(p.colorModeForRenderPass()),function(_,x){const E=_.context,R=E.gl,F=x.heatmapFbo;if(!F)return;E.activeTexture.set(R.TEXTURE0),R.bindTexture(R.TEXTURE_2D,F.colorAttachment.get()),E.activeTexture.set(R.TEXTURE1);let V=x.colorRampTexture;V||(V=x.colorRampTexture=new c.T(E,x.colorRamp,R.RGBA8)),V.bind(R.LINEAR,R.CLAMP_TO_EDGE),_.getOrCreateProgram("heatmapTexture").draw(_,R.TRIANGLES,jo.disabled,ea.disabled,_.colorModeForRenderPass(),sa.disabled,((U,Q,ee,ce)=>({u_image:0,u_color_ramp:1,u_opacity:Q.paint.get("heatmap-opacity")}))(0,x),x.id,_.viewportBuffer,_.quadTriangleIndexBuffer,_.viewportSegments,x.paint,_.transform.zoom)}(p,l))},line:function(p,r,l,m){if(p.renderPass!=="translucent")return;const _=l.paint.get("line-opacity"),x=l.paint.get("line-width");if(_.constantOr(1)===0||x.constantOr(1)===0)return;const E=l.paint.get("line-emissive-strength"),R=l.paint.get("line-occlusion-opacity"),F=l.layout.get("line-elevation-reference"),V=l.layout.get("line-width-unit")==="meters",U=F==="sea",Q=p.context,ee=Q.gl;if(l.hasElevatedBuckets&&p.transform.projection.name==="globe")return;const ce=l.layout.get("line-cross-slope"),Pe=ce!==void 0,Se=ce<1,ze=p.colorModeForDrapableLayerRenderPass(E),Le=p.terrain&&p.terrain.renderingToTexture,st=Le?1:c.q.devicePixelRatio,St=l.paint.get("line-dasharray"),xt=St.constantOr(1),Wt=l.layout.get("line-cap"),zt=St.constantOr(null),kt=Wt.constantOr(null),Lt=l.paint.get("line-pattern"),cn=Lt.constantOr(1),Tn=Lt.constantOr(null),hr=l.paint.get("line-opacity").constantOr(1);let nr=!cn&&hr!==1||p.depthOcclusion&&R>0&&R<1;const jr=l.paint.get("line-gradient"),Br=cn?"linePattern":"line",Un=c.c_(l);let vr;if(Le&&p.terrain&&p.terrain.clipOrMaskOverlapStencilType()&&(nr=!1),R!==0&&p.depthOcclusion){const kn=l.paint._values["line-opacity"];kn&&kn.value&&kn.value.kind==="constant"?vr=kn.value:c.w(`Occlusion opacity for layer ${l.id} is supported only when line-opacity isn't data-driven.`)}x.value.kind!=="constant"&&x.value.isLineProgressConstant===!1&&Un.push("VARIABLE_LINE_WIDTH");const vi=(kn,Xr,xr,zi,qr)=>{for(const Gr of kn){const wi=r.getTile(Gr);if(cn&&!wi.patternsLoaded())continue;const Ni=wi.getBucket(l);if(!Ni||Ni.hasZOffset&&!qr||!Ni.hasZOffset&&qr)continue;p.prepareDrawTile();const lo=Ni.programConfigurations.get(l.id),bo=p.isTileAffectedByFog(Gr),ca=p.getOrCreateProgram(Br,{config:lo,defines:Xr,overrideFog:bo,overrideRtt:!qr&&void 0});if(Tn&&wi.imageAtlas){const Pa=c.A.from(Tn).getPrimary().scaleSelf(st).serialize(),gs=wi.imageAtlas.patternPositions[Pa];gs&&lo.setConstantPatternPositions(gs)}if(!cn&&zt&&kt&&wi.lineAtlas){const Pa=wi.lineAtlas.getDash(zt,kt);Pa&&lo.setConstantPatternPositions(Pa)}let[mo,Ko]=l.paint.get("line-trim-offset");(kt==="round"||kt==="square")&&mo!==Ko&&(mo===0&&(mo-=1),Ko===1&&(Ko+=1));const Yo=Le?Gr.projMatrix:null,as=V?1/Ni.tileToMeter/c.ar(wi,1,p.transform.zoom):1,Os=V?1/Ni.tileToMeter/c.ar(wi,1,Math.floor(p.transform.zoom)):1,dl=cn?c.c$(p,wi,l,Yo,st,as,Os,[mo,Ko]):c.d0(p,wi,l,Yo,Ni.lineClipsArray.length,st,as,Os,[mo,Ko]);if(jr){const Pa=Ni.gradients[l.id];let gs=Pa.texture;if(l.gradientVersion!==Pa.version){let Bo=256;if(l.stepInterpolant){const Qa=r.getSource().maxzoom,_s=Gr.canonical.z===Qa?Math.ceil(1<<p.transform.maxZoom-Gr.canonical.z):1;Bo=c.aw(c.d1(Ni.maxLineLength/c.ag*1024*_s),256,Q.maxTextureSize)}Pa.gradient=c.d2({expression:l.gradientExpression(),evaluationKey:"lineProgress",resolution:Bo,image:Pa.gradient||void 0,clips:Ni.lineClipsArray}),Pa.texture?Pa.texture.update(Pa.gradient):Pa.texture=new c.T(Q,Pa.gradient,ee.RGBA8),Pa.version=l.gradientVersion,gs=Pa.texture}Q.activeTexture.set(ee.TEXTURE1),gs.bind(l.stepInterpolant?ee.NEAREST:ee.LINEAR,ee.CLAMP_TO_EDGE)}xt&&(Q.activeTexture.set(ee.TEXTURE0),wi.lineAtlasTexture&&wi.lineAtlasTexture.bind(ee.LINEAR,ee.REPEAT),lo.updatePaintBuffers()),cn&&(Q.activeTexture.set(ee.TEXTURE0),wi.imageAtlasTexture&&wi.imageAtlasTexture.bind(ee.LINEAR,ee.CLAMP_TO_EDGE),lo.updatePaintBuffers()),qr&&!U&&p.terrain.setupElevationDraw(wi,ca),p.uploadCommonUniforms(Q,ca,Gr.toUnwrapped());const Gs=Pa=>{vr!=null&&(vr.value=hr*R),ca.draw(p,ee.TRIANGLES,xr,Pa,ze,sa.disabled,dl,l.id,Ni.layoutVertexBuffer,Ni.indexBuffer,Ni.segments,l.paint,p.transform.zoom,lo,[Ni.layoutVertexBuffer2,Ni.patternVertexBuffer,Ni.zOffsetVertexBuffer]),vr!=null&&(vr.value=hr)};if(nr&&!qr){const Pa=p.stencilModeForClipping(Gr).ref;Pa===0&&Le&&Q.clear({stencil:0});const gs={func:ee.EQUAL,mask:255};dl.u_alpha_discard_threshold=.8,Gs(new ea(gs,Pa,255,ee.KEEP,ee.KEEP,ee.INVERT)),dl.u_alpha_discard_threshold=0,Gs(new ea(gs,Pa,255,ee.KEEP,ee.KEEP,ee.KEEP))}else nr&&qr&&(dl.u_alpha_discard_threshold=.001),Gs(qr?zi:p.stencilModeForClipping(Gr))}};if(l.hasNonElevatedBuckets){const kn=!Le&&p.terrain;R!==0&&kn?c.w(`Occlusion opacity for layer ${l.id} is supported on terrain only if the layer has line-z-offset enabled.`):kn?c.w(`Cannot render non-elevated lines in immediate mode when terrain is enabled. Layer: ${l.id}.`):vi(m,Un,p.depthModeForSublayer(0,jo.ReadOnly),ea.disabled,!1)}if(l.hasElevatedBuckets){Un.push("ELEVATED"),Pe&&Un.push(Se?"CROSS_SLOPE_HORIZONTAL":"CROSS_SLOPE_VERTICAL"),U&&Un.push("ELEVATION_REFERENCE_SEA");const kn=nr?p.stencilModeFor3D():ea.disabled,Xr=new jo(p.depthOcclusion?ee.GREATER:ee.LEQUAL,jo.ReadOnly,p.depthRangeFor3D);p.forceTerrainMode=!0,vi(m,Un,Xr,kn,!0),p.forceTerrainMode=!1}nr&&(p.resetStencilClippingMasks(),Le&&Q.clear({stencil:0})),R===0||p.depthOcclusion||Le||p.layersWithOcclusionOpacity.push(p.currentLayer)},fill:function(p,r,l,m){const _=l.paint.get("fill-color"),x=l.paint.get("fill-opacity"),E=l.is3D(),R=new jo(p.context.gl.LEQUAL,jo.ReadWrite,p.depthRangeFor3D);if(x.constantOr(1)===0)return;const F=l.paint.get("fill-emissive-strength"),V=p.colorModeForDrapableLayerRenderPass(F),U=l.paint.get("fill-pattern"),Q=p.opaquePassEnabledForLayer()&&!U.constantOr(1)&&_.constantOr(c.aj.transparent).a===1&&x.constantOr(0)===1?"opaque":"translucent";if(p.renderPass===Q){const ee=E?R:p.depthModeForSublayer(1,p.renderPass==="opaque"?jo.ReadWrite:jo.ReadOnly);wm(p,r,l,m,ee,V,!1)}if(!E&&p.renderPass==="translucent"&&l.paint.get("fill-antialias")){const ee=E?R:p.depthModeForSublayer(l.getPaintProperty("fill-outline-color")?2:0,jo.ReadOnly);wm(p,r,l,m,ee,V,!0)}},"fill-extrusion":function(p,r,l,m){const _=l.paint.get("fill-extrusion-opacity"),x=p.context,E=x.gl,R=p.terrain,F=R&&R.renderingToTexture;if(_===0)return;const V=p.conflationActive&&p.style.isLayerClipped(l,r.getSource()),U=p.style.order.indexOf(l.fqid);if(V&&function(Q,ee,ce,Pe,Se){for(const ze of Pe){const Le=ee.getTile(ze).getBucket(ce);Le&&(Le.updateReplacement(ze,Q.replacementSource,Se),Le.uploadCentroid(Q.context))}}(p,r,l,m,U),R||V)for(const Q of m){const ee=r.getTile(Q).getBucket(l);ee&&Rf(p.context,r,Q,ee,l,R,V)}if(p.renderPass==="shadow"&&p.shadowRenderer){const Q=p.shadowRenderer;if(R&&_<.65&&l._transitionablePaint._values["fill-extrusion-opacity"].value.expression instanceof c.a9)return;const ee=Q.getShadowPassDepthMode(),ce=Q.getShadowPassColorMode();_h(p,r,l,m,ee,ea.disabled,ce,V)}else if(p.renderPass==="translucent"){const Q=!l.paint.get("fill-extrusion-pattern").constantOr(1),ee=l.paint.get("fill-extrusion-color").constantOr(c.aj.white);if(!F&&ee.a!==0){const ce=new jo(p.context.gl.LEQUAL,jo.ReadWrite,p.depthRangeFor3D);_===1&&Q?_h(p,r,l,m,ce,ea.disabled,ia.unblended,V):(_h(p,r,l,m,ce,ea.disabled,ia.disabled,V),_h(p,r,l,m,ce,p.stencilModeFor3D(),p.colorModeForRenderPass(),V),p.resetStencilClippingMasks())}if(p.style.enable3dLights()&&Q&&(!R&&p.transform.projection.name!=="globe"||F)){const ce=l.paint.get("fill-extrusion-opacity"),Pe=l.paint.get("fill-extrusion-ambient-occlusion-intensity"),Se=l.paint.get("fill-extrusion-ambient-occlusion-ground-radius"),ze=l.paint.get("fill-extrusion-flood-light-intensity"),Le=l.paint.get("fill-extrusion-flood-light-color-use-theme").constantOr("default")==="none",st=l.paint.get("fill-extrusion-flood-light-color").toRenderColor(Le?null:l.lut).toArray01().slice(0,3),St=Pe>0&&Se>0,xt=ze>0,Wt=(kt,Lt,cn)=>(1-cn)*kt+cn*Lt,zt=kt=>{const Lt=p.depthModeForSublayer(1,jo.ReadOnly,E.LEQUAL,!0),cn=l.paint.get(kt?"fill-extrusion-ambient-occlusion-ground-attenuation":"fill-extrusion-flood-light-ground-attenuation"),Tn=Wt(.1,3,cn),hr=p._showOverdrawInspector;if(!hr){const nr=new ea({func:E.ALWAYS,mask:255},255,255,E.KEEP,E.KEEP,E.REPLACE),jr=new ia([E.ONE,E.ONE,E.ONE,E.ONE],c.aj.transparent,[!1,!1,!1,!0],E.MIN);Yd(p,r,l,m,Lt,nr,jr,sa.disabled,kt,"sdf",ce,Pe,Se,ze,st,Tn,V,!1)}{const nr=hr?ea.disabled:new ea({func:E.EQUAL,mask:255},255,255,E.KEEP,E.DECR,E.DECR),jr=hr?p.colorModeForRenderPass():new ia([E.ONE_MINUS_DST_ALPHA,E.DST_ALPHA,E.ONE,E.ONE],c.aj.transparent,[!0,!0,!0,!0]);Yd(p,r,l,m,Lt,nr,jr,sa.disabled,kt,"color",ce,Pe,Se,ze,st,Tn,V,!1)}};if(F){const kt=(Lt,cn,Tn)=>{const hr=p.depthModeForSublayer(1,jo.ReadOnly,E.LEQUAL,!1),nr=l.paint.get(Lt?"fill-extrusion-ambient-occlusion-ground-attenuation":"fill-extrusion-flood-light-ground-attenuation"),jr=Wt(.1,3,nr);{const Br=new ia([E.ONE,E.ONE,E.ONE,E.ONE],c.aj.transparent,[!1,!1,!1,!0]);Yd(p,r,l,m,hr,ea.disabled,Br,sa.disabled,Lt,"clear",ce,Pe,Se,ze,st,jr,V,cn)}{const Br=new ea({func:E.ALWAYS,mask:255},255,255,E.KEEP,E.KEEP,E.REPLACE),Un=new ia([E.ONE,E.ONE,E.ONE,E.ONE],c.aj.transparent,[!1,!1,!1,!0],E.MIN);Yd(p,r,l,m,hr,Br,Un,sa.disabled,Lt,"sdf",ce,Pe,Se,ze,st,jr,V,cn)}{const Br=Lt?E.ZERO:E.ONE_MINUS_DST_ALPHA,Un=new ea({func:E.EQUAL,mask:255},255,255,E.KEEP,E.DECR,E.DECR),vr=new ia([Br,E.DST_ALPHA,E.ONE_MINUS_DST_ALPHA,E.ZERO],c.aj.transparent,[!0,!0,!0,!0]);Yd(p,r,l,m,hr,Un,vr,sa.disabled,Lt,"color",ce,Pe,Se,ze,st,jr,V,cn)}{const Br=new ia([E.ONE,E.ONE,E.ONE,Lt?E.ZERO:E.ONE],c.aj.transparent,[!1,!1,!1,!0],Lt?E.FUNC_ADD:E.MAX);Yd(p,r,l,m,hr,ea.disabled,Br,sa.disabled,Lt,"clear",ce,Pe,Se,ze,st,jr,V,cn,Tn)}};if(St||xt){let Lt;if(p.prepareDrawTile(),R){const cn=R.drapeBufferSize[0],Tn=R.drapeBufferSize[1];Lt=R.framebufferCopyTexture,Lt&&(!Lt||Lt.size[0]===cn&&Lt.size[1]===Tn)||(Lt&&Lt.destroy(),Lt=R.framebufferCopyTexture=new c.T(x,new c.r({width:cn,height:Tn}),E.RGBA8)),Lt.bind(E.LINEAR,E.CLAMP_TO_EDGE),E.copyTexSubImage2D(E.TEXTURE_2D,0,0,0,0,0,cn,Tn)}St&&kt(!0,!1,Lt),xt&&kt(!1,!0,Lt)}}else St&&zt(!0),xt&&zt(!1),(St||xt)&&p.resetStencilClippingMasks()}}},hillshade:function(p,r,l,m){if(p.renderPass!=="offscreen"&&p.renderPass!=="translucent"||p.style.disableElevatedTerrain)return;const _=p.context,x=p.terrain&&p.terrain.renderingToTexture,[E,R]=p.renderPass!=="translucent"||x?[{},m]:p.stencilConfigForOverlap(m);for(const F of R){const V=r.getTile(F);if(V.needsHillshadePrepare&&p.renderPass==="offscreen")Hu(p,V,l);else if(p.renderPass==="translucent"){const U=p.depthModeForSublayer(0,jo.ReadOnly),Q=l.paint.get("hillshade-emissive-strength"),ee=p.colorModeForDrapableLayerRenderPass(Q),ce=x&&p.terrain?p.terrain.stencilModeForRTTOverlap(F):E[F.overscaledZ];sh(p,F,V,l,U,ce,ee)}}_.viewport.set([0,0,p.width,p.height]),p.resetStencilClippingMasks()},raster:function(p,r,l,m,_,x){if(p.renderPass!=="translucent"||l.paint.get("raster-opacity")===0)return;const E=p.transform.projection.name==="globe",R=l.paint.get("raster-elevation")!==0,F=R&&E;if(p.renderElevatedRasterBackface&&!F)return;const V=p.context,U=V.gl,Q=r.getSource(),ee=function(zt,kt,Lt,cn){const Tn=kt.paint.get("raster-color"),hr=zt.type==="raster-array",nr=[],jr=kt.paint.get("raster-resampling"),Br=kt.paint.get("raster-color-mix");let Un=kt.paint.get("raster-color-range");const vr=[Br[0],Br[1],Br[2],0],vi=Br[3];let kn=jr==="nearest"?cn.NEAREST:cn.LINEAR;if(hr&&(nr.push("RASTER_ARRAY"),Tn||nr.push("RASTER_COLOR"),jr==="linear"&&nr.push("RASTER_ARRAY_LINEAR"),kn=cn.NEAREST,!Un&&zt.rasterLayers)){const Xr=zt.rasterLayers.find(({id:xr})=>xr===kt.sourceLayer);Xr&&Xr.fields&&Xr.fields.range&&(Un=Xr.fields.range)}if(Un=Un||[0,1],Tn){nr.push("RASTER_COLOR"),Lt.activeTexture.set(cn.TEXTURE2),kt.updateColorRamp(Un);let Xr=kt.colorRampTexture;Xr||(Xr=kt.colorRampTexture=new c.T(Lt,kt.colorRamp,cn.RGBA8)),Xr.bind(cn.LINEAR,cn.CLAMP_TO_EDGE)}return{mix:vr,range:Un,offset:vi,defines:nr,resampling:kn}}(Q,l,V,U);if(Q instanceof c.aJ&&!m.length&&!E)return;const ce=l.paint.get("raster-emissive-strength"),Pe=p.colorModeForDrapableLayerRenderPass(ce),Se=p.terrain&&p.terrain.renderingToTexture,ze=!p.options.moving,Le=l.paint.get("raster-resampling")==="nearest"?U.NEAREST:U.LINEAR;if(Q instanceof c.aJ&&!m.length&&(Q.onNorthPole||Q.onSouthPole)){const zt=R?p.stencilModeFor3D():ea.disabled;return void er(!!Q.onNorthPole,null,p,r,l,ce,ee,sa.disabled,zt)}if(!m.length)return;const[st,St]=Q instanceof c.aJ||Se?[{},m]:p.stencilConfigForOverlap(m),xt=St[St.length-1].overscaledZ;F&&ee.defines.push("PROJECTION_GLOBE_VIEW"),R&&ee.defines.push("RENDER_CUTOFF");const Wt=(zt,kt,Lt)=>{for(const cn of zt){const Tn=cn.toUnwrapped(),hr=r.getTile(cn);if(Se&&(!hr||!hr.hasData()))continue;V.activeTexture.set(U.TEXTURE0);const nr=gp(hr,Q,l,ee);if(!nr||!nr.texture)continue;const{texture:jr,mix:Br,offset:Un,tileSize:vr,buffer:vi}=nr;let kn,Xr;Se?(kn=jo.disabled,Xr=cn.projMatrix):R?(kn=new jo(U.LEQUAL,jo.ReadWrite,p.depthRangeFor3D),Xr=E?Float32Array.from(p.transform.expandedFarZProjMatrix):p.transform.calculateProjMatrix(Tn,ze)):(kn=p.depthModeForSublayer(cn.overscaledZ-xt,l.paint.get("raster-opacity")===1?jo.ReadWrite:jo.ReadOnly,U.LESS),Xr=p.transform.calculateProjMatrix(Tn,ze));const xr=p.terrain&&Se?p.terrain.stencilModeForRTTOverlap(cn):st[cn.overscaledZ],zi=x?0:l.paint.get("raster-fade-duration");hr.registerFadeDuration(zi);const qr=r.findLoadedParent(cn,0),Gr=Al(hr,qr,r,p.transform,zi);let wi,Ni;p.terrain&&p.terrain.prepareDrawTile(),V.activeTexture.set(U.TEXTURE0),jr.bind(Le,U.CLAMP_TO_EDGE),V.activeTexture.set(U.TEXTURE1),qr?(qr.texture&&qr.texture.bind(Le,U.CLAMP_TO_EDGE),wi=Math.pow(2,qr.tileID.overscaledZ-hr.tileID.overscaledZ),Ni=[hr.tileID.canonical.x*wi%1,hr.tileID.canonical.y*wi%1]):jr.bind(Le,U.CLAMP_TO_EDGE),jr.useMipmap&&V.extTextureFilterAnisotropic&&p.transform.pitch>20&&U.texParameterf(U.TEXTURE_2D,V.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,V.extTextureFilterAnisotropicMax);const lo=p.transform;let bo;const ca=R?mp(lo):[0,0,0,0];let mo,Ko,Yo,as,Os,dl=0;if(F&&Q instanceof c.aJ&&Q.coordinates.length>3)mo=Float32Array.from(c.bb(c.cH(new c.bT(0,0,0)))),Ko=Float32Array.from(lo.globeMatrix),Yo=Float32Array.from(c.cD(lo)),as=[c.at(lo.center.lng),c.aA(lo.center.lat)],bo=Q.elevatedGlobePerspectiveTransform,Os=Q.elevatedGlobeGridMatrix||new Float32Array(9);else if(F){const Bo=c.cE(cn.canonical);dl=c.cF(Bo.getCenter().lat),mo=Float32Array.from(c.bb(c.cH(cn.canonical))),Ko=Float32Array.from(lo.globeMatrix),Yo=Float32Array.from(c.cD(lo)),as=[c.at(lo.center.lng),c.aA(lo.center.lat)],bo=[0,0],Os=Float32Array.from(c.cG(cn.canonical,Bo,dl,lo.worldSize/lo._pixelsPerMercatorPixel))}else bo=Q instanceof c.aJ?Q.perspectiveTransform:[0,0],mo=new Float32Array(16),Ko=new Float32Array(9),Yo=new Float32Array(16),as=[0,0],Os=new Float32Array(9);const Gs=Xd(Xr,mo,Ko,Yo,Os,Ni||[0,0],c.ae(p.transform.zoom),as,ca,wi||1,Gr,l,bo,R?l.paint.get("raster-elevation"):0,2,Br,Un,ee.range,vr,vi,ce),Pa=p.isTileAffectedByFog(cn),gs=p.getOrCreateProgram("raster",{defines:ee.defines,overrideFog:Pa});if(p.uploadCommonUniforms(V,gs,Tn),Q instanceof c.aJ){const Bo=Q.elevatedGlobeVertexBuffer,Qa=Q.elevatedGlobeIndexBuffer;if(Se||!E)Q.boundsBuffer&&Q.boundsSegments&&gs.draw(p,U.TRIANGLES,kn,ea.disabled,Pe,sa.disabled,Gs,l.id,Q.boundsBuffer,p.quadTriangleIndexBuffer,Q.boundsSegments);else if(Bo&&Qa){const _s=lo.zoom<=c.c6?Q.elevatedGlobeSegments:Q.getSegmentsForLongitude(lo.center.lng);_s&&gs.draw(p,U.TRIANGLES,kn,ea.disabled,Pe,kt,Gs,l.id,Bo,Qa,_s)}}else if(F){kn=new jo(U.LEQUAL,jo.ReadOnly,p.depthRangeFor3D);const Bo=p.globeSharedBuffers;if(Bo){const[Qa,_s,bs]=Bo.getGridBuffers(dl,!1);gs.draw(p,U.TRIANGLES,kn,Lt||xr,p.colorModeForRenderPass(),kt,Gs,l.id,Qa,_s,bs)}}else{const{tileBoundsBuffer:Bo,tileBoundsIndexBuffer:Qa,tileBoundsSegments:_s}=p.getTileBoundsBuffers(hr);gs.draw(p,U.TRIANGLES,kn,xr,Pe,sa.disabled,Gs,l.id,Bo,Qa,_s)}}if(!(Q instanceof c.aJ)&&F)for(const cn of zt){const Tn=cn.canonical.y===(1<<cn.canonical.z)-1;cn.canonical.y===0&&er(!0,cn,p,r,l,ce,ee,kt,Lt||ea.disabled),Tn&&er(!1,cn,p,r,l,ce,ee,kt===sa.frontCW?sa.backCW:sa.frontCW,Lt||ea.disabled)}};F?Wt(St,p.renderElevatedRasterBackface?sa.backCW:sa.frontCW,p.stencilModeFor3D()):Wt(St,sa.disabled,void 0),p.resetStencilClippingMasks()},"raster-particle":function(p,r,l,m,_,x){p.renderPass==="offscreen"&&function(E,R,F,V){if(!V.length)return;const U=E.context,Q=U.gl,ee=R.getSource();if(!(ee instanceof gt))return;const ce=Math.ceil(Math.sqrt(F.paint.get("raster-particle-count")));let Pe=F.particlePositionRGBAImage;if(!Pe||Pe.width!==ce){const St=function(xt){const Wt=xt*xt,zt=new Uint8Array(4*Wt),kt=function(cn){return cn|=0,cn=Math.imul(2747636419^cn,2654435769),cn=Math.imul(cn^cn>>>16,2654435769),((cn=Math.imul(cn^cn>>>16,2654435769))>>>0)/4294967296},Lt=1/1.1;for(let cn=0;cn<Wt;cn++){const Tn=Lt*(kt(2*cn+0)+No),hr=Lt*(kt(2*cn+1)+No),nr=255*Tn%1,jr=255*hr%1,Br=nr,Un=hr-jr/255,vr=jr;zt[4*cn+0]=255*(Tn-nr/255),zt[4*cn+1]=255*Br,zt[4*cn+2]=255*Un,zt[4*cn+3]=255*vr}return zt}(ce);Pe=F.particlePositionRGBAImage=new c.r({width:ce,height:ce},St)}let Se=F.particleFramebuffer;Se?Se.width!==ce&&(Se.destroy(),Se=F.particleFramebuffer=U.createFramebuffer(ce,ce,!0,null)):Se=F.particleFramebuffer=U.createFramebuffer(ce,ce,!0,null);const ze=[];for(const St of V){const xt=R.getTile(St);if(!(xt instanceof ho))continue;const Wt=Yg(xt,ee,F);if(!Wt)continue;const zt=[xt.tileSize,xt.tileSize];let kt=F.tileFramebuffer;kt||(kt=F.tileFramebuffer=U.createFramebuffer(zt[0],zt[1],!0,null));let Lt=xt.rasterParticleState;Lt||(Lt=xt.rasterParticleState=new Xg(U,St,zt,Pe));const cn=Lt.update(F.lastInvalidatedAt);Lt.particleTextureDimension!==ce&&Lt.updateParticleTexture(St,Pe);const Tn=Lt.targetColorTexture;Lt.targetColorTexture=Lt.backgroundColorTexture,Lt.backgroundColorTexture=Tn;const hr=Lt.particleTexture0;Lt.particleTexture0=Lt.particleTexture1,Lt.particleTexture1=hr,ze.push([St,Wt,Lt,cn])}if(ze.length===0)return;const Le=c.q.now(),st=F.previousDrawTimestamp?.001*(Le-F.previousDrawTimestamp):.0167;if(F.previousDrawTimestamp=Le,F.hasColorMap()){U.activeTexture.set(Q.TEXTURE0+2);let St=F.colorRampTexture;St||(St=F.colorRampTexture=new c.T(U,F.colorRamp,Q.RGBA8)),St.bind(Q.LINEAR,Q.CLAMP_TO_EDGE)}U.bindFramebuffer.set(F.tileFramebuffer.framebuffer),function(St,xt,Wt){const zt=St.context,kt=zt.gl,Lt=xt.tileFramebuffer;zt.activeTexture.set(kt.TEXTURE0);const cn={u_texture:0,u_opacity:1.05*(hr=xt.paint.get("raster-particle-fade-opacity-factor"))/(hr+.05)},Tn=St.getOrCreateProgram("rasterParticleTexture",{defines:[],overrideFog:!1});var hr;for(const nr of Wt){const[,,jr,Br]=nr;Lt.colorAttachment.set(jr.targetColorTexture.texture),zt.viewport.set([0,0,Lt.width,Lt.height]),zt.clear({color:c.aj.transparent}),Br&&(jr.backgroundColorTexture.bind(kt.NEAREST,kt.CLAMP_TO_EDGE),Tn.draw(St,kt.TRIANGLES,jo.disabled,ea.disabled,ia.alphaBlended,sa.disabled,cn,xt.id,St.viewportBuffer,St.quadTriangleIndexBuffer,St.viewportSegments))}}(E,F,ze),function(St,xt,Wt,zt){const kt=St.context,Lt=kt.gl,cn=Wt.tileFramebuffer,Tn=St.transform.projection.name==="globe",hr=Wt.paint.get("raster-particle-max-speed");for(const nr of zt){const[jr,Br,Un]=nr;kt.activeTexture.set(Lt.TEXTURE0+0),Br.texture.bind(Lt.LINEAR,Lt.CLAMP_TO_EDGE),cn.colorAttachment.set(Un.targetColorTexture.texture);const vr=St.getOrCreateProgram("rasterParticleDraw",{defines:Br.defines,overrideFog:!1});kt.activeTexture.set(Lt.TEXTURE0+1);const vi=Br.scalarData?[]:[0,1,2,3].map(xr=>c.d4[xr](jr));vi.push(jr);const kn=jr.canonical.x,Xr=jr.canonical.y;for(const xr of vi){const zi=xt.getTile(Tn?xr.wrapped():xr);if(!zi)continue;const qr=zi.rasterParticleState;if(!qr)continue;const Gr=xr.canonical.x+(1<<xr.canonical.z)*(xr.wrap-jr.wrap),wi=xr.canonical.y;qr.particleTexture0.bind(Lt.NEAREST,Lt.CLAMP_TO_EDGE);const Ni=Cm(1,qr.particleTexture0.size[0],[Gr-kn,wi-Xr],0,Br.texture.size,2,hr,Br.textureOffset,Br.scale,Br.offset);vr.draw(St,Lt.POINTS,jo.disabled,ea.disabled,ia.alphaBlended,sa.disabled,Ni,Wt.id,qr.particleIndexBuffer,void 0,qr.particleSegment)}}}(E,R,F,ze),U.bindFramebuffer.set(F.particleFramebuffer.framebuffer),function(St,xt,Wt,zt){const kt=St.context,Lt=kt.gl,cn=xt.paint.get("raster-particle-max-speed"),Tn=zt*xt.paint.get("raster-particle-speed-factor")*.15,hr=function(jr){return Math.pow(jr,6)}(.01+1*xt.paint.get("raster-particle-reset-rate-factor")),nr=xt.particleFramebuffer;kt.viewport.set([0,0,nr.width,nr.height]);for(const jr of Wt){const[,Br,Un]=jr;kt.activeTexture.set(Lt.TEXTURE0+0),Br.texture.bind(Lt.LINEAR,Lt.CLAMP_TO_EDGE),kt.activeTexture.set(Lt.TEXTURE0+1);const vr=Un.particleTexture0;vr.bind(Lt.NEAREST,Lt.CLAMP_TO_EDGE);const vi=Mv(1,vr.size[0],0,Br.texture.size,cn,Tn,hr,Br.textureOffset,Br.scale,Br.offset);nr.colorAttachment.set(Un.particleTexture1.texture),kt.clear({color:c.aj.transparent}),St.getOrCreateProgram("rasterParticleUpdate",{defines:Br.defines}).draw(St,Lt.TRIANGLES,jo.disabled,ea.disabled,ia.unblended,sa.disabled,vi,xt.id,St.viewportBuffer,St.quadTriangleIndexBuffer,St.viewportSegments)}}(E,F,ze,st)}(p,r,l,m),p.renderPass==="translucent"&&(function(E,R,F,V,U){const Q=E.context,ee=Q.gl,ce=R.getSource().tileSize,Pe=5*(1-c.ac(c.bY,c.bY+1,E.transform.zoom))*ce+F.paint.get("raster-particle-elevation"),Se=!E.options.moving,ze=E.transform.projection.name==="globe";if(!V.length)return;const[Le,st]=E.stencilConfigForOverlap(V),St=[];ze&&St.push("PROJECTION_GLOBE_VIEW");const xt=E.stencilModeFor3D();for(const Wt of st){const zt=Wt.toUnwrapped(),kt=R.getTile(Wt);if(!kt.rasterParticleState)continue;const Lt=kt.rasterParticleState,cn=100;kt.registerFadeDuration(cn);const Tn=R.findLoadedParent(Wt,0),hr=Al(kt,Tn,R,E.transform,cn);let nr,jr;E.terrain&&E.terrain.prepareDrawTile(),Q.activeTexture.set(ee.TEXTURE0),Lt.targetColorTexture.bind(ee.LINEAR,ee.CLAMP_TO_EDGE),Q.activeTexture.set(ee.TEXTURE1),Tn&&Tn.rasterParticleState?(Tn.rasterParticleState.targetColorTexture.bind(ee.LINEAR,ee.CLAMP_TO_EDGE),nr=Math.pow(2,Tn.tileID.overscaledZ-kt.tileID.overscaledZ),jr=[kt.tileID.canonical.x*nr%1,kt.tileID.canonical.y*nr%1]):Lt.targetColorTexture.bind(ee.LINEAR,ee.CLAMP_TO_EDGE);const Br=ze?Float32Array.from(E.transform.expandedFarZProjMatrix):E.transform.calculateProjMatrix(zt,Se),Un=E.transform,vr=qg(Un),vi=c.cE(Wt.canonical),kn=c.cF(vi.getCenter().lat);let Xr,xr,zi,qr,Gr;ze?(Xr=Float32Array.from(c.bb(c.cH(Wt.canonical))),xr=Float32Array.from(Un.globeMatrix),zi=Float32Array.from(c.cD(Un)),qr=[c.at(Un.center.lng),c.aA(Un.center.lat)],Gr=Float32Array.from(c.cG(Wt.canonical,vi,kn,Un.worldSize/Un._pixelsPerMercatorPixel))):(Xr=new Float32Array(16),xr=new Float32Array(9),zi=new Float32Array(16),qr=[0,0],Gr=new Float32Array(9));const wi=xm(Br,Xr,xr,zi,Gr,jr||[0,0],c.ae(E.transform.zoom),qr,vr,nr||1,hr,Pe),Ni=E.isTileAffectedByFog(Wt),lo=E.getOrCreateProgram("rasterParticle",{defines:St,overrideFog:Ni});if(E.uploadCommonUniforms(Q,lo,zt),ze){const bo=new jo(ee.LEQUAL,jo.ReadOnly,E.depthRangeFor3D),ca=0,mo=E.globeSharedBuffers;if(mo){const[Ko,Yo,as]=mo.getGridBuffers(kn,ca!==0);lo.draw(E,ee.TRIANGLES,bo,xt,ia.alphaBlended,E.renderElevatedRasterBackface?sa.frontCCW:sa.backCCW,wi,F.id,Ko,Yo,as)}}else{const bo=E.depthModeForSublayer(0,jo.ReadOnly),ca=Le[Wt.overscaledZ],{tileBoundsBuffer:mo,tileBoundsIndexBuffer:Ko,tileBoundsSegments:Yo}=E.getTileBoundsBuffers(kt);lo.draw(E,ee.TRIANGLES,bo,ca,ia.alphaBlended,sa.disabled,wi,F.id,mo,Ko,Yo)}}E.resetStencilClippingMasks()}(p,r,l,m),p.style.map.triggerRepaint())},background:function(p,r,l,m){const _=l.paint.get("background-color"),x=l.paint.get("background-color-use-theme").constantOr("default")==="none",E=l.paint.get("background-opacity"),R=l.paint.get("background-emissive-strength"),F=l.paint.get("background-pitch-alignment")==="viewport";if(E===0)return;const V=p.context,U=V.gl,Q=p.transform,ee=Q.tileSize,ce=l.paint.get("background-pattern");let Pe;if(ce!==void 0&&(ce===null||(Pe=p.imageManager.getPattern(ce.toString(),l.scope,p.style.getLut(l.scope)),!Pe)))return;const Se=!ce&&_.a===1&&E===1&&p.opaquePassEnabledForLayer()?"opaque":"translucent";if(p.renderPass!==Se)return;const ze=ea.disabled,Le=p.depthModeForSublayer(0,Se==="opaque"?jo.ReadWrite:jo.ReadOnly),st=p.colorModeForDrapableLayerRenderPass(R),St=ce?"backgroundPattern":"background";let xt,Wt=m;if(Wt||(xt=p.getBackgroundTiles(),Wt=Object.values(xt).map(zt=>zt.tileID)),ce&&(V.activeTexture.set(U.TEXTURE0),p.imageManager.bind(p.context,l.scope)),F){const zt=p.getOrCreateProgram(St,{overrideFog:!1,overrideRtt:!0}),kt=new Float32Array(c.ab.mat4.identity([])),Lt=new c.aG(0,0,0,0,0),cn=ce?Pv(kt,R,E,p,0,l.scope,Pe,F,{tileID:Lt,tileSize:ee}):Gu(kt,R,E,_.toRenderColor(x?null:l.lut));zt.draw(p,U.TRIANGLES,Le,ze,st,sa.disabled,cn,l.id,p.viewportBuffer,p.quadTriangleIndexBuffer,p.viewportSegments)}else for(const zt of Wt){const kt=p.isTileAffectedByFog(zt),Lt=p.getOrCreateProgram(St,{overrideFog:kt}),cn=zt.toUnwrapped(),Tn=m?zt.projMatrix:p.transform.calculateProjMatrix(cn);p.prepareDrawTile();const hr=r?r.getTile(zt):xt?xt[zt.key]:new qo(zt,ee,Q.zoom,p),nr=ce?Pv(Tn,R,E,p,0,l.scope,Pe,F,{tileID:zt,tileSize:ee}):Gu(Tn,R,E,_.toRenderColor(x?null:l.lut));p.uploadCommonUniforms(V,Lt,cn);const{tileBoundsBuffer:jr,tileBoundsIndexBuffer:Br,tileBoundsSegments:Un}=p.getTileBoundsBuffers(hr);Lt.draw(p,U.TRIANGLES,Le,ze,st,sa.disabled,nr,l.id,jr,Br,Un)}},sky:function(p,r,l){const m=p._atmosphere?c.ae(p.transform.zoom):1,_=l.paint.get("sky-opacity")*m;if(_===0)return;const x=p.context,E=l.paint.get("sky-type"),R=new jo(x.gl.LEQUAL,jo.ReadOnly,[0,1]),F=p.frameCounter/1e3%1;E==="atmosphere"?p.renderPass==="offscreen"?l.needsSkyboxCapture(p)&&(function(V,U,Q,ee){const ce=V.context,Pe=ce.gl;let Se=U.skyboxFbo;if(!Se){Se=U.skyboxFbo=ce.createFramebuffer(32,32,!0,null),U.skyboxGeometry=new e0(ce),U.skyboxTexture=ce.gl.createTexture(),Pe.bindTexture(Pe.TEXTURE_CUBE_MAP,U.skyboxTexture),Pe.texParameteri(Pe.TEXTURE_CUBE_MAP,Pe.TEXTURE_WRAP_S,Pe.CLAMP_TO_EDGE),Pe.texParameteri(Pe.TEXTURE_CUBE_MAP,Pe.TEXTURE_WRAP_T,Pe.CLAMP_TO_EDGE),Pe.texParameteri(Pe.TEXTURE_CUBE_MAP,Pe.TEXTURE_MIN_FILTER,Pe.LINEAR),Pe.texParameteri(Pe.TEXTURE_CUBE_MAP,Pe.TEXTURE_MAG_FILTER,Pe.LINEAR);for(let St=0;St<6;++St)Pe.texImage2D(Pe.TEXTURE_CUBE_MAP_POSITIVE_X+St,0,Pe.RGBA,32,32,0,Pe.RGBA,Pe.UNSIGNED_BYTE,null)}ce.bindFramebuffer.set(Se.framebuffer),ce.viewport.set([0,0,32,32]);const ze=U.getCenter(V,!0),Le=V.getOrCreateProgram("skyboxCapture"),st=new Float64Array(16);c.ab.mat4.identity(st),c.ab.mat4.rotateY(st,st,.5*-Math.PI),ic(V,U,Le,st,ze,0),c.ab.mat4.identity(st),c.ab.mat4.rotateY(st,st,.5*Math.PI),ic(V,U,Le,st,ze,1),c.ab.mat4.identity(st),c.ab.mat4.rotateX(st,st,.5*-Math.PI),ic(V,U,Le,st,ze,2),c.ab.mat4.identity(st),c.ab.mat4.rotateX(st,st,.5*Math.PI),ic(V,U,Le,st,ze,3),c.ab.mat4.identity(st),ic(V,U,Le,st,ze,4),c.ab.mat4.identity(st),c.ab.mat4.rotateY(st,st,Math.PI),ic(V,U,Le,st,ze,5),ce.viewport.set([0,0,V.width,V.height])}(p,l),l.markSkyboxValid(p)):p.renderPass==="sky"&&function(V,U,Q,ee,ce){const Pe=V.context,Se=Pe.gl,ze=V.transform,Le=V.getOrCreateProgram("skybox");Pe.activeTexture.set(Se.TEXTURE0),Se.bindTexture(Se.TEXTURE_CUBE_MAP,U.skyboxTexture);const st=((St,xt,Wt,zt,kt)=>({u_matrix:St,u_sun_direction:xt,u_cubemap:0,u_opacity:zt,u_temporal_offset:kt}))(ze.skyboxMatrix,U.getCenter(V,!1),0,ee,ce);V.uploadCommonUniforms(Pe,Le),Le.draw(V,Se.TRIANGLES,Q,ea.disabled,V.colorModeForRenderPass(),sa.backCW,st,"skybox",U.skyboxGeometry.vertexBuffer,U.skyboxGeometry.indexBuffer,U.skyboxGeometry.segment)}(p,l,R,_,F):E==="gradient"&&p.renderPass==="sky"&&function(V,U,Q,ee,ce){const Pe=V.context,Se=Pe.gl,ze=V.transform,Le=V.getOrCreateProgram("skyboxGradient");U.skyboxGeometry||(U.skyboxGeometry=new e0(Pe)),Pe.activeTexture.set(Se.TEXTURE0);let st=U.colorRampTexture;st||(st=U.colorRampTexture=new c.T(Pe,U.colorRamp,Se.RGBA8)),st.bind(Se.LINEAR,Se.CLAMP_TO_EDGE);const St=((xt,Wt,zt,kt,Lt)=>({u_matrix:xt,u_color_ramp:0,u_center_direction:Wt,u_radius:c.ai(zt),u_opacity:kt,u_temporal_offset:Lt}))(ze.skyboxMatrix,U.getCenter(V,!1),U.paint.get("sky-gradient-radius"),ee,ce);V.uploadCommonUniforms(Pe,Le),Le.draw(V,Se.TRIANGLES,Q,ea.disabled,V.colorModeForRenderPass(),sa.backCW,St,"skyboxGradient",U.skyboxGeometry.vertexBuffer,U.skyboxGeometry.indexBuffer,U.skyboxGeometry.segment)}(p,l,R,_,F)},debug:function(p,r,l,m,_,x){for(let E=0;E<l.length;E++)if(_){const V=new c.aj(m.r*.8,m.g*.8,m.b*.8,1);xd(p,r,l[E],m,-1,-1,x),xd(p,r,l[E],m,-1,1,x),xd(p,r,l[E],m,1,1,x),xd(p,r,l[E],m,1,-1,x),xd(p,r,l[E],V,0,0,x)}else xd(p,r,l[E],m,0,0,x)},custom:function(p,r,l,m){const _=p.context,x=l.implementation;if(!p.transform.projection.unsupportedLayers||!p.transform.projection.unsupportedLayers.includes("custom")||p.terrain&&(p.terrain.renderingToTexture||p.renderPass==="offscreen")&&l.isDraped(r)){if(p.renderPass==="offscreen"){const E=x.prerender;if(E){if(p.setCustomLayerDefaults(),_.setColorMode(p.colorModeForRenderPass()),p.transform.projection.name==="globe"){const R=p.transform.pointMerc;E.call(x,_.gl,p.transform.customLayerMatrix(),p.transform.getProjection(),p.transform.globeToMercatorMatrix(),c.ae(p.transform.zoom),[R.x,R.y],p.transform.pixelsPerMeterRatio)}else E.call(x,_.gl,p.transform.customLayerMatrix());_.setDirty(),p.setBaseState()}}else if(p.renderPass==="translucent"){if(p.terrain&&p.terrain.renderingToTexture){const R=x.renderToTile;if(R){const F=m[0].canonical,V=new c.aa(F.x+m[0].wrap*(1<<F.z),F.y,F.z);_.setDepthMode(jo.disabled),_.setStencilMode(ea.disabled),_.setColorMode(p.colorModeForRenderPass()),p.setCustomLayerDefaults(),R.call(x,_.gl,V),_.setDirty(),p.setBaseState()}return}p.setCustomLayerDefaults(),_.setColorMode(p.colorModeForRenderPass()),_.setStencilMode(ea.disabled);const E=x.renderingMode==="3d"?new jo(p.context.gl.LEQUAL,jo.ReadWrite,p.depthRangeFor3D):p.depthModeForSublayer(0,jo.ReadOnly);if(_.setDepthMode(E),p.transform.projection.name==="globe"){const R=p.transform.pointMerc;x.render(_.gl,p.transform.customLayerMatrix(),p.transform.getProjection(),p.transform.globeToMercatorMatrix(),c.ae(p.transform.zoom),[R.x,R.y],p.transform.pixelsPerMeterRatio)}else x.render(_.gl,p.transform.customLayerMatrix());_.setDirty(),p.setBaseState(),_.bindFramebuffer.set(null)}}else c.w("Custom layers are not yet supported with this projection. Use mercator or globe to enable usage of custom layers.")},model:function(p,r,l,m){if(p.renderPass==="opaque")return;const _=l.paint.get("model-opacity").constantOr(1);if(_===0)return;const x=l.paint.get("model-cast-shadows");if(p.renderPass==="shadow"&&(!x||p.terrain&&_<.65&&l._transitionablePaint._values["model-opacity"].value.expression instanceof c.a9))return;const E=p.shadowRenderer,R=l.paint.get("model-receive-shadows");E&&(E.useNormalOffset=!0,R||(E.enabled=!1));const F=()=>{E&&(E.useNormalOffset=!0,R||(E.enabled=!0))},V=r.getSource();if(p.renderPass==="light-beam"&&V.type!=="batched-model")return;if(V.type==="vector"||V.type==="geojson")return function(Le,st,St,xt,Wt){const zt=Le.transform;if(zt.projection.name!=="mercator")return void c.w(`Drawing 3D models for ${zt.projection.name} projection is not yet implemented`);const kt=zt.getFreeCameraOptions().position;if(!Le.modelManager)return;const Lt=Le.modelManager;St.modelManager=Lt;const cn=Le.shadowRenderer;if(!St._unevaluatedLayout._values.hasOwnProperty("model-id"))return;const Tn=St._unevaluatedLayout._values["model-id"],hr=Object.assign({},St.layout.get("model-id").parameters),nr=Le.style.order.indexOf(St.fqid);for(const jr of xt){const Br=st.getTile(jr).getBucket(St);if(!Br||Br.projection.name!==zt.projection.name)continue;const Un=Br.getModelUris();Un&&!Br.modelsRequested&&(Lt.addModelsFromBucket(Un,Wt),Br.modelsRequested=!0);const vr=Kc(jr,zt);hr.zoom=vr;const vi=Tn.possiblyEvaluate(hr);if(Pu(Le,Br,jr),vl.shadowUniformsInitialized=!1,vl.useSingleShadowCascade=!!cn&&cn.getMaxCascadeForTile(jr.toUnwrapped())===0,Le.renderPass==="shadow"&&cn){if(Le.currentShadowCascade===1&&Br.isInsideFirstShadowMapFrustum)continue;const xr=zt.calculatePosMatrix(jr.toUnwrapped(),zt.worldSize);if(vl.tileMatrix.set(xr),vl.shadowTileMatrix=Float32Array.from(cn.calculateShadowPassMatrixFromMatrix(xr)),vl.aabb.min.fill(0),vl.aabb.max[0]=vl.aabb.max[1]=c.ag,vl.aabb.max[2]=0,Om(Br,vl,Le,St.scope))continue}const kn=1<<jr.canonical.z,Xr=[((kt.x-jr.wrap)*kn-jr.canonical.x)*c.ag,(kt.y*kn-jr.canonical.y)*c.ag,kt.z*kn*c.ag];Le.conflationActive&&Object.keys(Br.instancesPerModel).length>0&&Le.style.isLayerClipped(St,st.getSource())&&Br.updateReplacement(jr,Le.replacementSource,nr,Wt)&&(Br.uploaded=!1,Br.upload(Le.context));for(let xr in Br.instancesPerModel){const zi=Br.instancesPerModel[xr];zi.features.length>0&&(xr=vi.evaluate(zi.features[0].feature,{}));const qr=Lt.getModel(xr,Wt);if(qr&&qr.uploaded)for(const Gr of qr.nodes)Yu(Le,St,Gr,zi,Xr,jr,vl)}}}(p,r,l,m,V.type==="vector"?l.scope:""),void F();if(!V.loaded())return;if(V.type==="batched-model")return function(Le,st,St,xt){St.resetLayerRenderingStats(Le);const Wt=Le.context,zt=Le.transform,kt=Le.style.fog,Lt=Le.shadowRenderer;if(zt.projection.name!=="mercator")return void c.w(`Drawing 3D landmark models for ${zt.projection.name} projection is not yet implemented`);const cn=Le.transform.getFreeCameraOptions().position,Tn=c.ab.vec3.scale([],[cn.x,cn.y,cn.z],Le.transform.worldSize),hr=c.ab.vec3.negate([],Tn),nr=c.ab.mat4.identity([]),jr=c.dj(zt.center.lat,zt.zoom),Br=c.ab.mat4.fromScaling([],[1,1,1/jr]);c.ab.mat4.translate(nr,nr,hr);const Un=St.paint.get("model-opacity").constantOr(1),vr=new jo(Wt.gl.LEQUAL,jo.ReadWrite,Le.depthRangeFor3D),vi=new jo(Wt.gl.LEQUAL,jo.ReadOnly,Le.depthRangeFor3D),kn=new c.cd([1/0,1/0,1/0],[-1/0,-1/0,-1/0]),Xr=Le.renderPass==="shadow",xr=Xr&&Lt?Lt.getCurrentCascadeFrustum():zt.getFrustum(zt.scaleZoom(zt.worldSize)),zi=St.paint.get("model-front-cutoff"),qr=zi[2]<1,Gr=an(Le,St.paint.get("model-cutoff-fade-range")),wi=St.getLayerRenderingStats();(function(Ni,lo,bo,ca){const mo=Ni.terrain?Ni.terrain.exaggeration():0,Ko=Ni.transform.zoom;for(const Yo of ca){const as=lo.getTile(Yo).getBucket(bo);as&&(Ni.conflationActive&&as.updateReplacement(Yo,Ni.replacementSource),as.evaluateScale(Ni,bo),Ni.terrain&&mo>0&&as.elevationUpdate(Ni.terrain,mo,Yo,bo.source),as.needsReEvaluation(Ni,Ko,bo)&&as.evaluate(bo))}})(Le,st,St,xt),function(){let Ni,lo,bo;qr?(Ni=xt.length-1,lo=-1,bo=-1):(Ni=0,lo=xt.length,bo=1);const ca=new Float64Array(16),mo=c.ab.vec3.create(),Ko=new c.P(0,0);for(let Yo=Ni;Yo!==lo;Yo+=bo){const as=xt[Yo],Os=st.getTile(as).getBucket(St);if(!Os||!Os.uploaded)continue;let dl=!1;Lt&&(dl=Lt.getMaxCascadeForTile(as.toUnwrapped())===0);const Gs=zt.calculatePosMatrix(as.toUnwrapped(),zt.worldSize),Pa=Os.modelTraits;!Xr&&qr&&(c.ab.mat4.invert(ca,Gs),c.ab.vec3.transformMat4(mo,Tn,ca),Ko.x=mo[0],Ko.y=mo[1]);const gs=[];for(const Bo of Os.getNodesInfo()){if(Bo.hiddenByReplacement||!Bo.node.meshes)continue;const Qa=Bo.node;let _s=0;Le.terrain&&Qa.elevation&&(_s=Qa.elevation*Le.terrain.exaggeration());const bs=(()=>{const ss=Bo.aabb;return kn.min=[...ss.min],kn.max=[...ss.max],kn.min[2]+=_s,kn.max[2]+=_s,c.ab.vec3.transformMat4(kn.min,kn.min,Gs),c.ab.vec3.transformMat4(kn.max,kn.max,Gs),kn})(),nl=Bo.evaluatedScale;if(nl[0]<=1&&nl[1]<=1&&nl[2]<=1&&bs.intersects(xr)===0)continue;if(!Xr&&qr){const ss=.16666666666666666;Bo.cameraCollisionOpacity=Tn[0]>bs.min[0]&&Tn[0]<bs.max[0]&&Tn[1]>bs.min[1]&&Tn[1]<bs.max[1]&&Tn[2]*jr<bs.max[2]&&Qa.footprint&&c.bA(Ko,Qa.footprint)?Math.max(Bo.cameraCollisionOpacity-ss,0):Math.min(1,Bo.cameraCollisionOpacity+ss)}const Fl=[...Gs],Dl=Qa.anchor?Qa.anchor[0]:0,Ll=Qa.anchor?Qa.anchor[1]:0;c.ab.mat4.translate(Fl,Fl,[Dl*(nl[0]-1),Ll*(nl[1]-1),_s]),c.ab.vec3.exactEquals(nl,c.dm)||c.ab.mat4.scale(Fl,Fl,nl);const Xc=c.ab.mat4.multiply([],Fl,Qa.matrix),Pc=c.ab.mat4.multiply([],zt.expandedFarZProjMatrix,Xc),rl=c.ab.mat4.multiply([],zt.expandedFarZProjMatrix,Fl),js=c.ab.vec4.transformMat4([],[Dl,Ll,_s,1],Pc)[2];Qa.hidden=!1;let As=Un;Xr||(qr&&(As*=Bo.cameraCollisionOpacity,As*=Rm(Fl,zt,Bo.aabb,zi)),As*=Jd(Gr,js)),As!==0?gs.push({nodeInfo:Bo,depth:js,opacity:As,wvpForNode:Pc,wvpForTile:rl,nodeModelMatrix:Xc,tileModelMatrix:Fl}):Qa.hidden=!0}Xr||gs.sort((Bo,Qa)=>!qr||Bo.opacity===1&&Qa.opacity===1?Bo.depth<Qa.depth?-1:1:Bo.opacity===1?-1:Qa.opacity===1?1:Bo.depth>Qa.depth?-1:1);for(const Bo of gs){const Qa=Bo.nodeInfo,_s=Qa.node;let bs=c.ab.mat4.multiply([],Br,Bo.tileModelMatrix);c.ab.mat4.multiply(bs,nr,bs);const nl=c.ab.mat4.invert([],bs);c.ab.mat4.transpose(nl,nl),c.ab.mat4.scale(nl,nl,Pm),bs=c.ab.mat4.multiply(bs,bs,_s.matrix);const Fl=Le.renderPass==="light-beam",Dl=St.paint.get("model-color-use-theme").constantOr("default")==="none",Ll=Pa&c.dp.HasMapboxMeshFeatures,Xc=Ll?0:Qa.evaluatedRMEA[0][2];for(let Pc=0;Pc<_s.meshes.length;++Pc){const rl=_s.meshes[Pc],js=Pc===_s.lightMeshIndex;let As=Bo.wvpForNode;if(js){if(!Fl&&!Le.terrain&&Le.shadowRenderer){Le.currentLayer<Le.firstLightBeamLayer&&(Le.firstLightBeamLayer=Le.currentLayer);continue}As=Bo.wvpForTile}else if(Fl)continue;const ss={defines:[]},Ml=[];if(!Xr&&Lt&&(Lt.useNormalOffset=!!rl.normalBuffer),Ku(ss.defines,Ml,rl,Le,Dl?null:St.lut),Ll||ss.defines.push("DIFFUSE_SHADED"),dl&&ss.defines.push("SHADOWS_SINGLE_CASCADE"),wi&&(Xr?wi.numRenderedVerticesInShadowPass+=rl.vertexArray.length:wi.numRenderedVerticesInTransparentPass+=rl.vertexArray.length),Xr){Sh(rl,Bo.nodeModelMatrix,Le,St);continue}let Yl=null;if(kt){const td=Mu(Bo.nodeModelMatrix,Le.transform);if(Yl=new Float32Array(td),zt.projection.name!=="globe"){const ru=rl.aabb.min,Yc=rl.aabb.max,[cf,Au]=kt.getOpacityForBounds(td,ru[0],ru[1],Yc[0],Yc[1]);ss.overrideFog=cf>=nt||Au>=nt}}const Rs=rl.material;let cc;Rs.occlusionTexture&&Rs.occlusionTexture.offsetScale&&(cc=Rs.occlusionTexture.offsetScale,ss.defines.push("OCCLUSION_TEXTURE_TRANSFORM"));const Dc=Le.getOrCreateProgram("model",ss);!Xr&&Lt&&Lt.setupShadowsFromMatrix(Bo.tileModelMatrix,Dc,Lt.useNormalOffset),Le.uploadCommonUniforms(Wt,Dc,null,Yl);const pc=Rs.pbrMetallicRoughness;pc.metallicFactor=.9,pc.roughnessFactor=.5;const mc=gh(new Float32Array(As),new Float32Array(bs),new Float32Array(nl),new Float32Array(_s.matrix),Le,Bo.opacity,pc.baseColorFactor.toRenderColor(null),Rs.emissiveFactor,pc.metallicFactor,pc.roughnessFactor,Rs,Xc,St,[0,0,0],cc);!js&&(Qa.hasTranslucentParts||Bo.opacity<1)&&Dc.draw(Le,Wt.gl.TRIANGLES,vr,ea.disabled,ia.disabled,sa.backCCW,mc,St.id,rl.vertexBuffer,rl.indexBuffer,rl.segments,St.paint,Le.transform.zoom,void 0,Ml),Dc.draw(Le,Wt.gl.TRIANGLES,js?vi:vr,ea.disabled,js||Bo.opacity<1||Qa.hasTranslucentParts?ia.alphaBlended:ia.unblended,sa.backCCW,mc,St.id,rl.vertexBuffer,rl.indexBuffer,rl.segments,St.paint,Le.transform.zoom,void 0,Ml)}}}}()}(p,r,l,m),void F();if(V.type!=="model")return;const U=V.getModels(),Q=[],ee=p.transform.getFreeCameraOptions().position,ce=c.ab.vec3.scale([],[ee.x,ee.y,ee.z],p.transform.worldSize);c.ab.vec3.negate(ce,ce);const Pe=[],Se=[];let ze=0;for(const Le of U){const st=l.paint.get("model-rotation").constantOr(null),St=l.paint.get("model-scale").constantOr(null),xt=l.paint.get("model-translation").constantOr(null);Le.computeModelMatrix(p,st,St,xt,!0,!0,!1);const Wt=c.ab.mat4.identity([]),zt=c.dj(Le.position.lat,p.transform.zoom),kt=c.ab.mat4.fromScaling([],[1,1,1/zt]);c.ab.mat4.translate(Wt,Wt,ce),Q.push({zScaleMatrix:kt,negCameraPosMatrix:Wt});for(const Lt of Le.nodes)yp(p.transform,Lt,Le.matrix,p.transform.expandedFarZProjMatrix,ze,Pe,Se);ze++}if(Pe.sort((Le,st)=>st.depth-Le.depth),p.renderPass!=="shadow"){if(_===1)for(const Le of Se)Xu(Le,p,l,Q[Le.modelIndex],ea.disabled,p.colorModeForRenderPass());else{for(const Le of Se)Xu(Le,p,l,Q[Le.modelIndex],ea.disabled,ia.disabled);for(const Le of Se)Xu(Le,p,l,Q[Le.modelIndex],p.stencilModeFor3D(),p.colorModeForRenderPass());p.resetStencilClippingMasks()}for(const Le of Pe)Xu(Le,p,l,Q[Le.modelIndex],ea.disabled,p.colorModeForRenderPass());F()}else{for(const Le of Se)Sh(Le.mesh,Le.nodeModelMatrix,p,l);for(const Le of Pe)Sh(Le.mesh,Le.nodeModelMatrix,p,l);F()}}},zf={line:function(p,r,l){if(p.hasElevatedBuckets=!1,p.hasNonElevatedBuckets=!1,p._unevaluatedLayout.getValue("line-elevation-reference")!==void 0||p._unevaluatedLayout.getValue("line-z-offset")!==void 0){if(r){const m=r.getVisibleCoordinates();for(const _ of m){const x=r.getTile(_).getBucket(p);if(x&&(x.hasZOffset?p.hasElevatedBuckets=!0:p.hasNonElevatedBuckets=!0,p.hasElevatedBuckets&&p.hasNonElevatedBuckets))break}}}else p.hasNonElevatedBuckets=!0},model:function(p,r,l){const m=r.getSource();if(!m.loaded())return;if(m.type==="vector"||m.type==="geojson")return void(l.modelManager&&l.modelManager.upload(l,m.type==="vector"?p.scope:""));if(m.type==="batched-model"||m.type!=="model")return;const _=m.getModels();for(const x of _)x.upload(l.context)},raster:function(p,r,l){const m=r.getSource();if(!(m instanceof gt&&m.loaded()))return;const _=p.sourceLayer||m.rasterLayerIds&&m.rasterLayerIds[0];if(!_)return;const x=p.paint.get("raster-array-band")||m.getInitialBand(_);if(x==null)return;const E=r.getIds().map(R=>r.getTileByID(R));for(const R of E)R.updateNeeded(_,x)&&m.prepareTile(R,_,x)},"raster-particle":function(p,r,l){const m=r.getSource();if(!(m instanceof gt&&m.loaded()))return;const _=p.sourceLayer||m.rasterLayerIds&&m.rasterLayerIds[0];if(!_)return;const x=p.paint.get("raster-particle-array-band")||m.getInitialBand(_);if(x==null)return;const E=r.getIds().map(R=>r.getTileByID(R));for(const R of E)R.updateNeeded(_,x)&&m.prepareTile(R,_,x)}};class Qd{constructor(r,l,m,_,x){this.context=new dp(r,l),this.transform=m,this._tileTextures={},this.frameCopies=[],this.loadTimeStamps=[],this.tp=x,this._timeStamp=c.q.now(),this._averageFPS=0,this._fpsHistory=[],this._dt=0,this._debugParams={forceEnablePrecipitation:!1,showTerrainProxyTiles:!1,fpsWindow:30,continousRedraw:!1,enabledLayers:{}};const E=["fill","line","symbol","circle","heatmap","fill-extrusion","raster","raster-particle","hillshade","model","background","sky"];for(const F of E)this._debugParams.enabledLayers[F]=!0;x.registerParameter(this._debugParams,["Terrain"],"showTerrainProxyTiles",{},()=>{this.style.map.triggerRepaint()}),x.registerParameter(this._debugParams,["Precipitation"],"forceEnablePrecipitation"),x.registerParameter(this._debugParams,["FPS"],"fpsWindow",{min:1,max:100,step:1}),x.registerBinding(this._debugParams,["FPS"],"continousRedraw",{readonly:!0,label:"continuous redraw"}),x.registerBinding(this,["FPS"],"_averageFPS",{readonly:!0,label:"value"}),x.registerBinding(this,["FPS"],"_averageFPS",{readonly:!0,label:"graph",view:"graph",min:0,max:200});for(const F of E)x.registerParameter(this._debugParams.enabledLayers,["Debug","Layers"],F);this.occlusionParams=new qu(x),this.setup(),this.numSublayers=K.maxUnderzooming+K.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.deferredRenderGpuTimeQueries=[],this.gpuTimers={},this.frameCounter=0,this._backgroundTiles={},this.conflationActive=!1,this.replacementSource=new c.dv,this.longestCutoffRange=0,this.minCutoffZoom=0,this._fogVisible=!1,this._cachedTileFogOpacities={},this._shadowRenderer=new Qr(this),this._wireframeDebugCache=new wd,this.renderDefaultNorthPole=!0,this.renderDefaultSouthPole=!0,this.layersWithOcclusionOpacity=[];const R=new c.r({width:1,height:1},Uint8Array.of(0,0,0,0));this.emptyDepthTexture=new c.T(this.context,R,r.RGBA8),this._clippingActiveLastFrame=!1,this.scaleFactor=_}updateTerrain(r,l){const m=!!r&&!!r.terrain&&this.transform.projection.supportsTerrain;if(!(m||this._terrain&&this._terrain.enabled))return;this._terrain||(this._terrain=new $c(this,r));const _=this._terrain;this.transform.elevation=m?_:null,_.update(r,this.transform,l),this.transform.elevation&&!_.enabled&&(this.transform.elevation=null)}_updateFog(r){const l=r.fog;if(!l||this.transform.projection.name==="globe"||l.getOpacity(this.transform.pitch)<1||l.properties.get("horizon-blend")<.03)return void(this.transform.fogCullDistSq=null);const[m,_]=l.getFovAdjustedRange(this.transform._fov);if(m>_)return void(this.transform.fogCullDistSq=null);const x=m+.78*(_-m);this.transform.fogCullDistSq=x*x}get terrain(){return this.transform._terrainEnabled()&&this._terrain&&this._terrain.enabled||this._forceTerrainMode?this._terrain:null}get forceTerrainMode(){return this._forceTerrainMode}set forceTerrainMode(r){r&&!this._terrain&&(this._terrain=new $c(this,this.style)),this._forceTerrainMode=r}get shadowRenderer(){return this._shadowRenderer&&this._shadowRenderer.enabled?this._shadowRenderer:null}get wireframeDebugCache(){return this._wireframeDebugCache}resize(r,l){if(this.width=r*c.q.devicePixelRatio,this.height=l*c.q.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(const m of this.style.order)this.style._mergedLayers[m].resize()}setup(){const r=this.context,l=new c.b4;l.emplaceBack(0,0),l.emplaceBack(c.ag,0),l.emplaceBack(0,c.ag),l.emplaceBack(c.ag,c.ag),this.tileExtentBuffer=r.createVertexBuffer(l,c.b6.members),this.tileExtentSegments=c.b7.simpleSegment(0,0,4,2);const m=new c.b4;m.emplaceBack(0,0),m.emplaceBack(c.ag,0),m.emplaceBack(0,c.ag),m.emplaceBack(c.ag,c.ag),this.debugBuffer=r.createVertexBuffer(m,c.b6.members),this.debugSegments=c.b7.simpleSegment(0,0,4,5);const _=new c.b4;_.emplaceBack(-1,-1),_.emplaceBack(1,-1),_.emplaceBack(-1,1),_.emplaceBack(1,1),this.viewportBuffer=r.createVertexBuffer(_,c.b6.members),this.viewportSegments=c.b7.simpleSegment(0,0,4,2);const x=new c.aT;x.emplaceBack(0,0,0,0),x.emplaceBack(c.ag,0,c.ag,0),x.emplaceBack(0,c.ag,0,c.ag),x.emplaceBack(c.ag,c.ag,c.ag,c.ag),this.mercatorBoundsBuffer=r.createVertexBuffer(x,c.b9.members),this.mercatorBoundsSegments=c.b7.simpleSegment(0,0,4,2);const E=new c.aU;E.emplaceBack(0,1,2),E.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=r.createIndexBuffer(E);const R=new c.b5;for(const V of[0,1,3,2,0])R.emplaceBack(V);this.debugIndexBuffer=r.createIndexBuffer(R),this.emptyTexture=new c.T(r,new c.r({width:1,height:1},Uint8Array.of(0,0,0,0)),r.gl.RGBA8),this.identityMat=c.ab.mat4.create();const F=this.context.gl;this.stencilClearMode=new ea({func:F.ALWAYS,mask:0},0,255,F.ZERO,F.ZERO,F.ZERO),this.loadTimeStamps.push(performance.now())}getMercatorTileBoundsBuffers(){return{tileBoundsBuffer:this.mercatorBoundsBuffer,tileBoundsIndexBuffer:this.quadTriangleIndexBuffer,tileBoundsSegments:this.mercatorBoundsSegments}}getTileBoundsBuffers(r){return r._makeTileBoundsBuffers(this.context,this.transform.projection),r._tileBoundsBuffer?{tileBoundsBuffer:r._tileBoundsBuffer,tileBoundsIndexBuffer:r._tileBoundsIndexBuffer,tileBoundsSegments:r._tileBoundsSegments}:this.getMercatorTileBoundsBuffers()}clearStencil(){const r=this.context.gl;this.nextStencilID=1,this.currentStencilSource=void 0,this._tileClippingMaskIDs={},this.getOrCreateProgram("clippingMask").draw(this,r.TRIANGLES,jo.disabled,this.stencilClearMode,ia.disabled,sa.disabled,fc(this.identityMat),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)}resetStencilClippingMasks(){this.terrain||(this.currentStencilSource=void 0,this._tileClippingMaskIDs={})}_renderTileClippingMasks(r,l,m){if(!l||this.currentStencilSource===l.id||!r.isTileClipped()||!m||m.length===0)return;if(this._tileClippingMaskIDs&&!this.terrain){let R=!1;for(const F of m)if(this._tileClippingMaskIDs[F.key]===void 0){R=!0;break}if(!R)return}this.currentStencilSource=l.id;const _=this.context,x=_.gl;this.nextStencilID+m.length>256&&this.clearStencil(),_.setColorMode(ia.disabled),_.setDepthMode(jo.disabled);const E=this.getOrCreateProgram("clippingMask");this._tileClippingMaskIDs={};for(const R of m){const F=l.getTile(R),V=this._tileClippingMaskIDs[R.key]=this.nextStencilID++,{tileBoundsBuffer:U,tileBoundsIndexBuffer:Q,tileBoundsSegments:ee}=this.getTileBoundsBuffers(F);E.draw(this,x.TRIANGLES,jo.disabled,new ea({func:x.ALWAYS,mask:0},V,255,x.KEEP,x.KEEP,x.REPLACE),ia.disabled,sa.disabled,fc(R.projMatrix),"$clipping",U,Q,ee)}}stencilModeFor3D(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();const r=this.nextStencilID++,l=this.context.gl;return new ea({func:l.NOTEQUAL,mask:255},r,255,l.KEEP,l.KEEP,l.REPLACE)}stencilModeForClipping(r){if(this.terrain)return this.terrain.stencilModeForRTTOverlap(r);const l=this.context.gl;return new ea({func:l.EQUAL,mask:255},this._tileClippingMaskIDs[r.key],0,l.KEEP,l.KEEP,l.REPLACE)}stencilConfigForOverlap(r){const l=this.context.gl,m=r.sort((E,R)=>R.overscaledZ-E.overscaledZ),_=m[m.length-1].overscaledZ,x=m[0].overscaledZ-_+1;if(x>1){this.currentStencilSource=void 0,this.nextStencilID+x>256&&this.clearStencil();const E={};for(let R=0;R<x;R++)E[R+_]=new ea({func:l.GEQUAL,mask:255},R+this.nextStencilID,255,l.KEEP,l.KEEP,l.REPLACE);return this.nextStencilID+=x,[E,m]}return[{[_]:ea.disabled},m]}colorModeForRenderPass(){const r=this.context.gl;return this._showOverdrawInspector?new ia([r.CONSTANT_COLOR,r.ONE,r.CONSTANT_COLOR,r.ONE],new c.aj(.125,.125,.125,0),[!0,!0,!0,!0]):this.renderPass==="opaque"?ia.unblended:ia.alphaBlended}colorModeForDrapableLayerRenderPass(r){const l=this.context.gl;return this.style&&this.style.enable3dLights()&&this.terrain&&this.terrain.renderingToTexture&&this.renderPass==="translucent"?new ia([l.ONE,l.ONE_MINUS_SRC_ALPHA,l.CONSTANT_ALPHA,l.ONE_MINUS_SRC_ALPHA],new c.aj(0,0,0,r===void 0?0:r),[!0,!0,!0,!0]):this.colorModeForRenderPass()}depthModeForSublayer(r,l,m,_=!1){if(this.depthOcclusion)return new jo(this.context.gl.GREATER,jo.ReadOnly,this.depthRangeFor3D);if(!this.opaquePassEnabledForLayer()&&!_)return jo.disabled;const x=1-((1+this.currentLayer)*this.numSublayers+r)*this.depthEpsilon;return new jo(m||this.context.gl.LEQUAL,l,[x,x])}opaquePassEnabledForLayer(){return this.currentLayer<this.opaquePassCutoff}blitDepth(){const r=this.context.gl,l=Math.ceil(this.width),m=Math.ceil(this.height),_=this.context.bindFramebuffer.get(),x=r.getParameter(r.TEXTURE_BINDING_2D);this.depthFBO&&this.depthFBO.width===l&&this.depthFBO.height===m||(this.depthFBO&&(this.depthFBO.destroy(),this.depthFBO=void 0,this.depthTexture=void 0),l!==0&&m!==0&&(this.depthFBO=new Kg(this.context,l,m,!1,"texture"),this.depthTexture=new c.T(this.context,{width:l,height:m,data:null},r.DEPTH24_STENCIL8),this.depthFBO.depthAttachment.set(this.depthTexture.texture))),this.context.bindFramebuffer.set(_),r.bindTexture(r.TEXTURE_2D,x),this.depthFBO&&(r.bindFramebuffer(r.READ_FRAMEBUFFER,null),r.bindFramebuffer(r.DRAW_FRAMEBUFFER,this.depthFBO.framebuffer),r.blitFramebuffer(0,0,l,m,0,0,l,m,r.DEPTH_BUFFER_BIT,r.NEAREST),r.bindFramebuffer(r.FRAMEBUFFER,this.context.bindFramebuffer.current))}updateAverageFPS(){this._fpsHistory.push(this._dt===0?0:1e3/this._dt),this._fpsHistory.length>this._debugParams.fpsWindow&&this._fpsHistory.splice(0,this._fpsHistory.length-this._debugParams.fpsWindow),this._averageFPS=Math.round(this._fpsHistory.reduce((r,l)=>r+l/this._fpsHistory.length,0))}render(r,l){const m=c.q.now();this._dt=m-this._timeStamp,this._timeStamp=m,this._wireframeDebugCache.update(this.frameCounter),this._debugParams.continousRedraw=r.map.repaint,this.style=r,this.options=l;const _=this.style._mergedLayers,x=!(!this.terrain||!this.terrain.enabled),E=()=>this.style._getOrder(x).filter(Un=>{const vr=_[Un];return!(vr.type in this._debugParams.enabledLayers)||this._debugParams.enabledLayers[vr.type]});let R=E(),F=!1,V=!1;for(const Un of R){const vr=_[Un];vr.type==="circle"&&(F=!0),vr.type==="symbol"&&(vr.hasInitialOcclusionOpacityProperties?V=!0:F=!0)}let U=R.map(Un=>_[Un]);const Q=this.style._mergedSourceCaches;this.imageManager=r.imageManager,this.modelManager=r.modelManager,this.symbolFadeChange=r.placement.symbolFadeChange(c.q.now()),this.imageManager.beginFrame();let ee=0,ce=!1;for(const Un in Q){const vr=Q[Un];vr.used&&(vr.prepare(this.context),vr.getSource().usedInConflation&&++ee)}let Pe=!1;for(const Un of U)Un.isHidden(this.transform.zoom)||(Un.type==="clip"&&(Pe=!0),this.prepareLayer(Un));const Se={},ze={},Le={},st={},St={};for(const Un in Q){const vr=Q[Un];Se[Un]=vr.getVisibleCoordinates(),ze[Un]=Se[Un].slice().reverse(),Le[Un]=vr.getVisibleCoordinates(!0).reverse(),st[Un]=vr.getShadowCasterCoordinates(),St[Un]=vr.sortCoordinatesByDistance(Se[Un])}const xt=Un=>{const vr=this.style.getLayerSourceCache(Un);return vr&&vr.used?vr.getSource():null};if(ee||Pe||this._clippingActiveLastFrame){const Un=[],vr=[];let vi=0;for(const kn of U)this.isSourceForClippingOrConflation(kn,xt(kn))&&(Un.push(kn),vr.push(vi)),vi++;if(Un&&(Pe||Un.length>1)||this._clippingActiveLastFrame){Pe=!1;const kn=[];for(let Xr=0;Xr<Un.length;Xr++){const xr=Un[Xr],zi=vr[Xr],qr=this.style.getLayerSourceCache(xr);if(!qr||!qr.used||!qr.getSource().usedInConflation&&xr.type!=="clip")continue;let Gr=c.dx,wi=c.by.None;const Ni=[];let lo=!0;if(xr.type==="clip"){Gr=zi;for(const bo of xr.layout.get("clip-layer-types"))wi|=bo==="model"?c.by.Model:bo==="symbol"?c.by.Symbol:c.by.FillExtrusion;for(const bo of xr.layout.get("clip-layer-scope"))Ni.push(bo);xr.isHidden(this.transform.zoom)?lo=!1:Pe=!0}lo&&kn.push({layer:xr.fqid,cache:qr,order:Gr,clipMask:wi,clipScope:Ni})}this.replacementSource.setSources(kn),ce=!0}}this._clippingActiveLastFrame=Pe,ce||this.replacementSource.clear(),this.conflationActive=ce,this.minCutoffZoom=0,this.longestCutoffRange=0,this.opaquePassCutoff=1/0,this._lastOcclusionLayer=-1,this.layersWithOcclusionOpacity=[];for(let Un=0;Un<U.length;Un++){const vr=U[Un],vi=vr.cutoffRange();if(this.longestCutoffRange=Math.max(vi,this.longestCutoffRange),vi>0){const kn=xt(vr);kn&&(this.minCutoffZoom=Math.max(kn.minzoom,this.minCutoffZoom)),vr.minzoom&&(this.minCutoffZoom=Math.max(vr.minzoom,this.minCutoffZoom))}vr.is3D()&&(this.opaquePassCutoff===1/0&&(this.opaquePassCutoff=Un),this._lastOcclusionLayer=Un)}const Wt=this.style&&this.style.fog;Wt?(this._fogVisible=Wt.getOpacity(this.transform.pitch)!==0,this._fogVisible&&this.transform.projection.name!=="globe"&&(this._fogVisible=Wt.isVisibleOnFrustum(this.transform.cameraFrustum))):this._fogVisible=!1,this._cachedTileFogOpacities={},this.terrain&&(this.terrain.updateTileBinding(Le),this.opaquePassCutoff=0,R=E(),U=R.map(Un=>_[Un]));const zt=this._shadowRenderer;if(zt){zt.updateShadowParameters(this.transform,this.style.directionalLight);for(const Un in Q)for(const vr of Se[Un]){let vi={min:0,max:0};this.terrain&&(vi=this.terrain.getMinMaxForTile(vr)||vi),zt.addShadowReceiver(vr.toUnwrapped(),vi.min,vi.max)}}this.transform.projection.name!=="globe"||this.globeSharedBuffers||(this.globeSharedBuffers=new c.dw(this.context)),this.style.fog&&this.transform.projection.supportsFog?(this._atmosphere||(this._atmosphere=new Mm(this)),this._atmosphere.update(this)):this._atmosphere&&(this._atmosphere.destroy(),this._atmosphere=void 0);const kt=this._debugParams.forceEnablePrecipitation||!(!this.style||!this.style.snow),Lt=this._debugParams.forceEnablePrecipitation||!(!this.style||!this.style.rain);if(kt&&!this._snow&&(this._snow=new _p(this)),!kt&&this._snow&&(this._snow.destroy(),delete this._snow),Lt&&!this._rain&&(this._rain=new pu(this)),!Lt&&this._rain&&(this._rain.destroy(),delete this._rain),this._snow&&this._snow.update(this),this._rain&&this._rain.update(this),!An.has(this.context.gl))return;this.renderPass="offscreen";for(const Un of U){const vr=r.getLayerSourceCache(Un);if(!Un.hasOffscreenPass()||Un.isHidden(this.transform.zoom))continue;const vi=vr?ze[vr.id]:void 0;(Un.type==="custom"||Un.type==="raster"||Un.type==="raster-particle"||Un.isSky()||vi&&vi.length)&&this.renderLayer(this,vr,Un,vi)}this.depthRangeFor3D=[0,1-(U.length+2)*this.numSublayers*this.depthEpsilon],this._shadowRenderer&&(this.renderPass="shadow",this._shadowRenderer.drawShadowPass(this.style,st)),this.context.bindFramebuffer.set(null),this.context.viewport.set([0,0,this.width,this.height]);const cn=this.transform.projection.name==="globe"||this.transform.isHorizonVisible(),Tn=(()=>{if(l.showOverdrawInspector)return c.aj.black;const Un=this.style.fog;if(Un&&this.transform.projection.supportsFog){const vr=this.style.getLut(Un.scope);if(!cn){const vi=Un.properties.get("color-use-theme")==="none",kn=Un.properties.get("color").toRenderColor(vi?null:vr).toArray01();return new c.aj(...kn)}if(cn){const vi=Un.properties.get("space-color-use-theme")==="none",kn=Un.properties.get("space-color").toRenderColor(vi?null:vr).toArray01();return new c.aj(...kn)}}return c.aj.transparent})();if(this.context.clear({color:Tn,depth:1}),this.clearStencil(),this._showOverdrawInspector=l.showOverdrawInspector,this.renderPass="opaque",this.style.fog&&this.transform.projection.supportsFog&&this._atmosphere&&!this._showOverdrawInspector&&cn&&this._atmosphere.drawStars(this,this.style.fog),!this.terrain)for(this.currentLayer=R.length-1;this.currentLayer>=0;this.currentLayer--){const Un=U[this.currentLayer],vr=r.getLayerSourceCache(Un);if(Un.isSky())continue;const vi=vr?(Un.is3D()?St:ze)[vr.id]:void 0;this._renderTileClippingMasks(Un,vr,vi),this.renderLayer(this,vr,Un,vi)}if(this.style.fog&&this.transform.projection.supportsFog&&this._atmosphere&&!this._showOverdrawInspector&&cn&&this._atmosphere.drawAtmosphereGlow(this,this.style.fog),this.renderPass="sky",(!this._atmosphere||c.ae(this.transform.zoom)>0)&&(this.transform.projection.name==="globe"||this.transform.isHorizonVisible()))for(this.currentLayer=0;this.currentLayer<R.length;this.currentLayer++){const Un=U[this.currentLayer],vr=r.getLayerSourceCache(Un);Un.isSky()&&this.renderLayer(this,vr,Un,vr?ze[vr.id]:void 0)}function hr(Un,vr){let vi;return vr&&(vi=(Un.type==="symbol"?Le:Un.is3D()?St:ze)[vr.id]),vi}if(this.renderPass="translucent",this.transform.projection.name==="globe"){for(this.renderElevatedRasterBackface=!0,this.currentLayer=0;this.currentLayer<R.length;){const Un=U[this.currentLayer];if(Un.type==="raster"||Un.type==="raster-particle"){const vr=r.getLayerSourceCache(Un);this.renderLayer(this,vr,Un,hr(Un,vr))}++this.currentLayer}this.renderElevatedRasterBackface=!1}this.currentLayer=0,this.firstLightBeamLayer=Number.MAX_SAFE_INTEGER;let nr=0;zt&&(nr=zt.getShadowCastingLayerCount());let jr=!1,Br=-1;for(let Un=0;Un<R.length;++Un){const vr=U[Un];vr.isHidden(this.transform.zoom)||vr.is3D()&&(Br=Un)}for(V&&Br===-1&&(F=!0);this.currentLayer<R.length;){const Un=U[this.currentLayer],vr=r.getLayerSourceCache(Un);if(Un.isSky())++this.currentLayer;else if(this.terrain&&this.style.isLayerDraped(Un)){if(Un.isHidden(this.transform.zoom)){++this.currentLayer;continue}this.currentLayer=this.terrain.renderBatch(this.currentLayer),this._lastOcclusionLayer=Math.max(this.currentLayer,this._lastOcclusionLayer)}else{if(F&&!jr&&this.terrain&&!this.transform.isOrthographic&&(jr=!0,this.blitDepth()),V&&Br!==-1&&this.currentLayer===Br+1&&!this.transform.isOrthographic&&this.blitDepth(),Un.is3D()||this.terrain||this._renderTileClippingMasks(Un,vr,vr?Se[vr.id]:void 0),this.renderLayer(this,vr,Un,hr(Un,vr)),!this.terrain&&zt&&nr>0&&Un.hasShadowPass()&&--nr==0&&(zt.drawGroundShadows(),this.firstLightBeamLayer<=this.currentLayer)){const vi=this.currentLayer;for(this.renderPass="light-beam",this.currentLayer=this.firstLightBeamLayer;this.currentLayer<=vi;this.currentLayer++){const kn=U[this.currentLayer];if(!kn.hasLightBeamPass())continue;const Xr=r.getLayerSourceCache(kn);this.renderLayer(this,Xr,kn,Xr?ze[Xr.id]:void 0)}this.currentLayer=vi,this.renderPass="translucent"}if(this.currentLayer>=this._lastOcclusionLayer&&this.layersWithOcclusionOpacity.length>0){const vi=this.currentLayer;this.depthOcclusion=!0;for(const kn of this.layersWithOcclusionOpacity){this.currentLayer=kn;const Xr=U[this.currentLayer],xr=r.getLayerSourceCache(Xr),zi=xr?ze[xr.id]:void 0;Xr.is3D()||this.terrain||this._renderTileClippingMasks(Xr,xr,xr?Se[xr.id]:void 0),this.renderLayer(this,xr,Xr,zi)}this.depthOcclusion=!1,this.currentLayer=vi,this.renderPass="translucent",this.layersWithOcclusionOpacity=[]}++this.currentLayer}}if(this.terrain&&this.terrain.postRender(),this._snow&&this._snow.draw(this),this._rain&&this._rain.draw(this),this.options.showTileBoundaries||this.options.showQueryGeometry||this.options.showTileAABBs){let Un=null;U.forEach(vr=>{const vi=r.getLayerSourceCache(vr);vi&&!vr.isHidden(this.transform.zoom)&&vi.getVisibleCoordinates().length&&(!Un||Un.getSource().maxzoom<vi.getSource().maxzoom)&&(Un=vi)}),Un&&this.options.showTileBoundaries&&Lf.debug(this,Un,Un.getVisibleCoordinates(),c.aj.red,!1,this.options.showParseStatus)}this.terrain&&this._debugParams.showTerrainProxyTiles&&Lf.debug(this,this.terrain.proxySourceCache,this.terrain.proxyCoords,new c.aj(1,.8,.1,1),!0,this.options.showParseStatus),this.options.showPadding&&function(Un){const vr=Un.transform.padding;Tm(Un,Un.transform.height-(vr.top||0),3,Af),Tm(Un,vr.bottom||0,3,Ov),Qg(Un,vr.left||0,3,Jg),Qg(Un,Un.transform.width-(vr.right||0),3,Im);const vi=Un.transform.centerPoint;(function(kn,Xr,xr,zi){qd(kn,Xr-1,xr-10,2,20,zi),qd(kn,Xr-10,xr-1,20,2,zi)})(Un,vi.x,Un.transform.height-vi.y,vp)}(this),this.context.setDefault(),this.frameCounter=(this.frameCounter+1)%Number.MAX_SAFE_INTEGER,this.tileLoaded&&this.options.speedIndexTiming&&(this.loadTimeStamps.push(performance.now()),this.saveCanvasCopy()),ce||(this.conflationActive=!1)}prepareLayer(r){this.gpuTimingStart(r);const{unsupportedLayers:l}=this.transform.projection,m=!l||!l.includes(r.type);if(zf[r.type]&&(m||this.terrain&&r.type==="custom")){const _=this.style.getLayerSourceCache(r);zf[r.type](r,_,this)}this.gpuTimingEnd()}renderLayer(r,l,m,_){m.isHidden(this.transform.zoom)||(m.type==="background"||m.type==="sky"||m.type==="custom"||m.type==="model"||m.type==="raster"||m.type==="raster-particle"||_&&_.length)&&(this.id=m.id,this.gpuTimingStart(m),r.transform.projection.unsupportedLayers&&r.transform.projection.unsupportedLayers.includes(m.type)&&(!r.terrain||m.type!=="custom")||m.type==="clip"||Lf[m.type](r,l,m,_,this.style.placement.variableOffsets,this.options.isInitialLoad),this.gpuTimingEnd())}gpuTimingStart(r){if(!this.options.gpuTiming)return;const l=this.context.extTimerQuery,m=this.context.gl;let _=this.gpuTimers[r.id];_||(_=this.gpuTimers[r.id]={calls:0,cpuTime:0,query:m.createQuery()}),_.calls++,m.beginQuery(l.TIME_ELAPSED_EXT,_.query)}gpuTimingDeferredRenderStart(){if(this.options.gpuTimingDeferredRender){const r=this.context.extTimerQuery,l=this.context.gl,m=l.createQuery();this.deferredRenderGpuTimeQueries.push(m),l.beginQuery(r.TIME_ELAPSED_EXT,m)}}gpuTimingDeferredRenderEnd(){this.options.gpuTimingDeferredRender&&this.context.gl.endQuery(this.context.extTimerQuery.TIME_ELAPSED_EXT)}gpuTimingEnd(){this.options.gpuTiming&&this.context.gl.endQuery(this.context.extTimerQuery.TIME_ELAPSED_EXT)}collectGpuTimers(){const r=this.gpuTimers;return this.gpuTimers={},r}collectDeferredRenderGpuQueries(){const r=this.deferredRenderGpuTimeQueries;return this.deferredRenderGpuTimeQueries=[],r}queryGpuTimers(r){const l={};for(const m in r){const _=r[m],x=this.context.extTimerQuery,E=x.getQueryParameter(_.query,this.context.gl.QUERY_RESULT)/1e6;x.deleteQueryEXT(_.query),l[m]=E}return l}queryGpuTimeDeferredRender(r){if(!this.options.gpuTimingDeferredRender)return 0;const l=this.context.gl;let m=0;for(const _ of r)m+=l.getQueryParameter(_,l.QUERY_RESULT)/1e6,l.deleteQuery(_);return m}translatePosMatrix(r,l,m,_,x){if(!m[0]&&!m[1])return r;const E=x?_==="map"?this.transform.angle:0:_==="viewport"?-this.transform.angle:0;if(E){const V=Math.sin(E),U=Math.cos(E);m=[m[0]*U-m[1]*V,m[0]*V+m[1]*U]}const R=[x?m[0]:c.ar(l,m[0],this.transform.zoom),x?m[1]:c.ar(l,m[1],this.transform.zoom),0],F=new Float32Array(16);return c.ab.mat4.translate(F,r,R),F}saveTileTexture(r){const l=r.size[0],m=this._tileTextures[l];m?m.push(r):this._tileTextures[l]=[r]}getTileTexture(r){const l=this._tileTextures[r];return l&&l.length>0?l.pop():null}terrainRenderModeElevated(){return this.style&&!!this.style.getTerrain()&&!!this.terrain&&!this.terrain.renderingToTexture||this.forceTerrainMode}linearFloatFilteringSupported(){return this.context.extTextureFloatLinear!=null}currentGlobalDefines(r,l,m){const _=m===void 0?this.terrain&&this.terrain.renderingToTexture:m,x=[];return this.style&&this.style.enable3dLights()&&(r==="globeRaster"||r==="terrainRaster"?(x.push("LIGHTING_3D_MODE"),x.push("LIGHTING_3D_ALPHA_EMISSIVENESS")):_||x.push("LIGHTING_3D_MODE")),this.renderPass==="shadow"&&(this._shadowMapDebug||x.push("DEPTH_TEXTURE")),this.terrainRenderModeElevated()&&(x.push("TERRAIN"),this.linearFloatFilteringSupported()&&x.push("TERRAIN_DEM_FLOAT_FORMAT")),this.transform.projection.name==="globe"&&x.push("GLOBE"),!this._fogVisible||_||l!==void 0&&!l||x.push("FOG","FOG_DITHERING"),_&&x.push("RENDER_TO_TEXTURE"),this._showOverdrawInspector&&x.push("OVERDRAW_INSPECTOR"),x}getOrCreateProgram(r,l){this.cache=this.cache||{};const m=l&&l.defines||[],_=l&&l.config,x=this.currentGlobalDefines(r,l&&l.overrideFog,l&&l.overrideRtt).concat(m),E=Mf.cacheKey(Ec[r],r,x,_);return this.cache[E]||(this.cache[E]=new Mf(this.context,r,Ec[r],_,Sm[r],x)),this.cache[E]}setCustomLayerDefaults(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.frontFace.setDefault(),this.context.cullFaceSide.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()}setBaseState(){const r=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(r.FUNC_ADD)}initDebugOverlayCanvas(){this.debugOverlayCanvas==null&&(this.debugOverlayCanvas=document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new c.T(this.context,this.debugOverlayCanvas,this.context.gl.RGBA8))}destroy(){this._terrain&&this._terrain.destroy(),this._atmosphere&&(this._atmosphere.destroy(),this._atmosphere=void 0),this.globeSharedBuffers&&this.globeSharedBuffers.destroy(),this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy(),this._wireframeDebugCache.destroy(),this.depthFBO&&(this.depthFBO.destroy(),this.depthFBO=void 0,this.depthTexture=void 0),this.emptyDepthTexture&&this.emptyDepthTexture.destroy()}prepareDrawTile(){this.terrain&&this.terrain.prepareDrawTile()}uploadCommonLightUniforms(r,l){if(this.style.enable3dLights()){const m=this.style.directionalLight,_=this.style.ambientLight;if(m&&_){const x=((E,R,F)=>{const V=E.properties.get("direction"),U=E.properties.get("color-use-theme")==="none",Q=E.properties.get("color").toRenderColor(U?null:F.getLut(E.scope)).toArray01(),ee=E.properties.get("intensity"),ce=R.properties.get("color-use-theme")==="none",Pe=R.properties.get("color").toRenderColor(ce?null:F.getLut(R.scope)).toArray01(),Se=R.properties.get("intensity"),ze=[V.x,V.y,V.z],Le=c.cM(Pe,Se),st=c.cM(Q,ee);return{u_lighting_ambient_color:Le,u_lighting_directional_dir:ze,u_lighting_directional_color:st,u_ground_radiance:Su(ze,st,Le)}})(m,_,this.style);l.setLightsUniformValues(r,x)}}}uploadCommonUniforms(r,l,m,_,x){if(this.uploadCommonLightUniforms(r,l),this.terrain&&this.terrain.renderingToTexture)return;const E=this.style.fog;if(E){const R=E.getOpacity(this.transform.pitch),F=((V,U,Q,ee,ce,Pe,Se,ze,Le,st,St,xt)=>{const Wt=V.transform,zt=U.properties.get("color-use-theme")==="none",kt=U.properties.get("color").toRenderColor(zt?null:V.style.getLut(U.scope)).toArray01();kt[3]=ee;const Lt=V.frameCounter/1e3%1,[cn,Tn]=U.properties.get("vertical-range");return{u_fog_matrix:Q?Wt.calculateFogTileMatrix(Q):xt||V.identityMat,u_fog_range:U.getFovAdjustedRange(Wt._fov),u_fog_color:kt,u_fog_horizon_blend:U.properties.get("horizon-blend"),u_fog_vertical_limit:[Math.min(cn,Tn),Tn],u_fog_temporal_offset:Lt,u_frustum_tl:ce,u_frustum_tr:Pe,u_frustum_br:Se,u_frustum_bl:ze,u_globe_pos:Le,u_globe_radius:st,u_viewport:St,u_globe_transition:c.ae(Wt.zoom),u_is_globe:+(Wt.projection.name==="globe")}})(this,E,m,R,this.transform.frustumCorners.TL,this.transform.frustumCorners.TR,this.transform.frustumCorners.BR,this.transform.frustumCorners.BL,this.transform.globeCenterInViewSpace,this.transform.globeRadius,[this.transform.width*c.q.devicePixelRatio,this.transform.height*c.q.devicePixelRatio],_);l.setFogUniformValues(r,F)}x&&l.setCutoffUniformValues(r,x.uniformValues)}setTileLoadedFlag(r){this.tileLoaded=r}saveCanvasCopy(){const r=this.canvasCopy();r&&(this.frameCopies.push(r),this.tileLoaded=!1)}canvasCopy(){const r=this.context.gl,l=r.createTexture();return r.bindTexture(r.TEXTURE_2D,l),r.copyTexImage2D(r.TEXTURE_2D,0,r.RGBA,0,0,r.drawingBufferWidth,r.drawingBufferHeight,0),l}getCanvasCopiesAndTimestamps(){return{canvasCopies:this.frameCopies,timeStamps:this.loadTimeStamps}}averageElevationNeedsEasing(){if(!this.transform._elevation)return!1;const r=this.style&&this.style.fog;return!!r&&r.getOpacity(this.transform.pitch)!==0}getBackgroundTiles(){const r=this._backgroundTiles,l=this._backgroundTiles={},m=this.transform.coveringTiles({tileSize:512});for(const _ of m)l[_.key]=r[_.key]||new qo(_,512,this.transform.tileZoom,this);return l}clearBackgroundTiles(){this._backgroundTiles={}}isSourceForClippingOrConflation(r,l){return!(!r.is3D()||r.type!=="clip"&&(r.minzoom&&r.minzoom>this.transform.zoom||(this.style._clipLayerPresent||r.sourceLayer!=="building")&&(!l||l.type!=="batched-model")))}isTileAffectedByFog(r){if(!this.style||!this.style.fog)return!1;if(this.transform.projection.name==="globe")return!0;let l=this._cachedTileFogOpacities[r.key];return l||(this._cachedTileFogOpacities[r.key]=l=this.style.fog.getOpacityForTile(r)),l[0]>=nt||l[1]>=nt}setupDepthForOcclusion(r,l,m){const _=this.context,x=_.gl,E=!!m;var R;m||(m={u_dem:2,u_dem_prev:4,u_dem_tl:[0,0],u_dem_tl_prev:[0,0],u_dem_scale:0,u_dem_scale_prev:0,u_dem_size:0,u_dem_lerp:1,u_depth:3,u_depth_size_inv:[0,0],u_depth_range_unpack:[0,1],u_occluder_half_size:16,u_occlusion_depth_offset:-1e-4,u_exaggeration:0}),_.activeTexture.set(x.TEXTURE3),r&&this.depthFBO&&this.depthTexture?(this.depthTexture.bind(x.NEAREST,x.CLAMP_TO_EDGE),m.u_depth_size_inv=[1/this.depthFBO.width,1/this.depthFBO.height],m.u_depth_range_unpack=[2/((R=this.depthRangeFor3D)[1]-R[0]),-1-2*R[0]/(R[1]-R[0])],m.u_occluder_half_size=.5*this.occlusionParams.occluderSize,m.u_occlusion_depth_offset=this.occlusionParams.depthOffset):this.emptyDepthTexture.bind(x.NEAREST,x.CLAMP_TO_EDGE),_.activeTexture.set(x.TEXTURE0),E||l.setTerrainUniformValues(_,m)}}function bp(p,r){let l=!1,m=null;const _=()=>{m=null,l&&(p(),m=setTimeout(_,r),l=!1)};return()=>(l=!0,m||_(),m)}class eu{constructor(r){this._hashName=r&&encodeURIComponent(r),c.aP(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=bp(this._updateHashUnthrottled.bind(this),300)}addTo(r){return this._map=r,window.addEventListener("hashchange",this._onHashChange,!1),r.on("moveend",this._updateHash),this}remove(){return this._map?(this._map.off("moveend",this._updateHash),window.removeEventListener("hashchange",this._onHashChange,!1),clearTimeout(this._updateHash()),this._map=void 0,this):this}getHashString(){const r=this._map;if(!r)return"";const l=Nm(r);if(this._hashName){const m=this._hashName;let _=!1;const x=location.hash.slice(1).split("&").map(E=>{const R=E.split("=")[0];return R===m?(_=!0,`${R}=${l}`):E}).filter(E=>E);return _||x.push(`${m}=${l}`),`#${x.join("&")}`}return`#${l}`}_getCurrentHash(){const r=location.hash.replace("#","");if(this._hashName){let l;return r.split("&").map(m=>m.split("=")).forEach(m=>{m[0]===this._hashName&&(l=m)}),(l&&l[1]||"").split("/")}return r.split("/")}_onHashChange(){const r=this._map;if(!r)return!1;const l=this._getCurrentHash();if(l.length>=3&&!l.some(m=>isNaN(m))){const m=r.dragRotate.isEnabled()&&r.touchZoomRotate.isEnabled()?+(l[3]||0):r.getBearing();return r.jumpTo({center:[+l[2],+l[1]],zoom:+l[0],bearing:m,pitch:+(l[4]||0)}),!0}return!1}_updateHashUnthrottled(){history.replaceState(history.state,"",location.href.replace(/(#.+)?$/,this.getHashString()))}}function Nm(p,r){const l=p.getCenter(),m=Math.round(100*p.getZoom())/100,_=Math.ceil((m*Math.LN2+Math.log(512/360/.5))/Math.LN10),x=Math.pow(10,_),E=Math.round(l.lng*x)/x,R=Math.round(l.lat*x)/x,F=p.getBearing(),V=p.getPitch();let U=r?`/${E}/${R}/${m}`:`${m}/${R}/${E}`;return(F||V)&&(U+="/"+Math.round(10*F)/10),V&&(U+=`/${Math.round(V)}`),U}const Ju={linearity:.3,easing:c.dy(0,0,.3,1)},t0=c.l({deceleration:2500,maxSpeed:1400},Ju),Bm=c.l({deceleration:20,maxSpeed:1400},Ju),Eh=c.l({deceleration:1e3,maxSpeed:360},Ju),Fm=c.l({deceleration:1e3,maxSpeed:90},Ju);class ef{constructor(r){this._map=r,this.clear()}clear(){this._inertiaBuffer=[]}record(r){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:c.q.now(),settings:r})}_drainInertiaBuffer(){const r=this._inertiaBuffer,l=c.q.now();for(;r.length>0&&l-r[0].time>160;)r.shift()}_onMoveEnd(r){if(this._map._prefersReducedMotion()||(this._drainInertiaBuffer(),this._inertiaBuffer.length<2))return;const l={zoom:0,bearing:0,pitch:0,pan:new c.P(0,0),pinchAround:void 0,around:void 0};for(const{settings:x}of this._inertiaBuffer)l.zoom+=x.zoomDelta||0,l.bearing+=x.bearingDelta||0,l.pitch+=x.pitchDelta||0,x.panDelta&&l.pan._add(x.panDelta),x.around&&(l.around=x.around),x.pinchAround&&(l.pinchAround=x.pinchAround);const m=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,_={};if(l.pan.mag()){const x=Ih(l.pan.mag(),m,c.l({},t0,r||{}));_.offset=l.pan.mult(x.amount/l.pan.mag()),_.center=this._map.transform.center,Nf(_,x)}if(l.zoom){const x=Ih(l.zoom,m,Bm);_.zoom=this._map.transform.zoom+x.amount,Nf(_,x)}if(l.bearing){const x=Ih(l.bearing,m,Eh);_.bearing=this._map.transform.bearing+c.aw(x.amount,-179,179),Nf(_,x)}if(l.pitch){const x=Ih(l.pitch,m,Fm);_.pitch=this._map.transform.pitch+x.amount,Nf(_,x)}if(_.zoom||_.bearing){const x=l.pinchAround===void 0?l.around:l.pinchAround;_.around=x?this._map.unproject(x):this._map.getCenter()}return this.clear(),_.noMoveStart=!0,_}}function Nf(p,r){(!p.duration||p.duration<r.duration)&&(p.duration=r.duration,p.easing=r.easing)}function Ih(p,r,l){const{maxSpeed:m,linearity:_,deceleration:x}=l,E=c.aw(p*_/(r/1e3),-m,m),R=Math.abs(E)/(x*_);return{easing:l.easing,duration:1e3*R,amount:E*(R/2)}}class Ic extends c.z{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(r,l,m,_={}){const x=vt(l.getCanvasContainer(),m),E=l.unproject(x);super(r,c.l({point:x,lngLat:E,originalEvent:m},_)),this._defaultPrevented=!1,this.target=l}}class Th extends c.z{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(r,l,m){const _=r==="touchend"?m.changedTouches:m.touches,x=Mt(l.getCanvasContainer(),_),E=x.map(F=>l.unproject(F)),R=x.reduce((F,V,U,Q)=>F.add(V.div(Q.length)),new c.P(0,0));super(r,{points:x,point:R,lngLats:E,lngLat:l.unproject(R),originalEvent:m}),this._defaultPrevented=!1}}class xp extends c.z{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(r,l){super("wheel",{originalEvent:l}),this._defaultPrevented=!1}}class km{constructor(r,l){this._map=r,this._clickTolerance=l.clickTolerance}reset(){this._mousedownPos=void 0}wheel(r){return this._firePreventable(new xp(this._map,r))}mousedown(r,l){return this._mousedownPos=l,this._firePreventable(new Ic(r.type,this._map,r))}mouseup(r){this._map.fire(new Ic(r.type,this._map,r))}preclick(r){const l=c.l({},r);l.type="preclick",this._map.fire(new Ic(l.type,this._map,l))}click(r,l){this._mousedownPos&&this._mousedownPos.dist(l)>=this._clickTolerance||(this.preclick(r),this._map.fire(new Ic(r.type,this._map,r)))}dblclick(r){return this._firePreventable(new Ic(r.type,this._map,r))}mouseover(r){this._map.fire(new Ic(r.type,this._map,r))}mouseout(r){this._map.fire(new Ic(r.type,this._map,r))}touchstart(r){return this._firePreventable(new Th(r.type,this._map,r))}touchmove(r){this._map.fire(new Th(r.type,this._map,r))}touchend(r){this._map.fire(new Th(r.type,this._map,r))}touchcancel(r){this._map.fire(new Th(r.type,this._map,r))}_firePreventable(r){if(this._map.fire(r),r.defaultPrevented)return{}}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class Zm{constructor(r){this._map=r}reset(){this._delayContextMenu=!1,this._contextMenuEvent=void 0}mousemove(r){this._map.fire(new Ic(r.type,this._map,r))}mousedown(){this._delayContextMenu=!0}mouseup(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new Ic("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)}contextmenu(r){this._delayContextMenu?this._contextMenuEvent=r:this._map.fire(new Ic(r.type,this._map,r)),this._map.listens("contextmenu")&&r.preventDefault()}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class sl{constructor(r,l){this._map=r,this._el=r.getCanvasContainer(),this._container=r.getContainer(),this._clickTolerance=l.clickTolerance||1}isEnabled(){return!!this._enabled}isActive(){return!!this._active}enable(){this.isEnabled()||(this._enabled=!0)}disable(){this.isEnabled()&&(this._enabled=!1)}mousedown(r,l){this.isEnabled()&&r.shiftKey&&r.button===0&&(ct(),this._startPos=this._lastPos=l,this._active=!0)}mousemoveWindow(r,l){if(!this._active)return;const m=l,_=this._startPos,x=this._lastPos;if(!_||!x||x.equals(m)||!this._box&&m.dist(_)<this._clickTolerance)return;this._lastPos=m,this._box||(this._box=Ie("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",r));const E=Math.min(_.x,m.x),R=Math.max(_.x,m.x),F=Math.min(_.y,m.y),V=Math.max(_.y,m.y);this._map._requestDomTask(()=>{this._box&&(this._box.style.transform=`translate(${E}px,${F}px)`,this._box.style.width=R-E+"px",this._box.style.height=V-F+"px")})}mouseupWindow(r,l){if(!this._active)return;const m=this._startPos,_=l;if(m&&r.button===0){if(this.reset(),jt(),m.x!==_.x||m.y!==_.y)return this._map.fire(new c.z("boxzoomend",{originalEvent:r})),{cameraAnimation:x=>x.fitScreenCoordinates(m,_,this._map.getBearing(),{linear:!1})};this._fireEvent("boxzoomcancel",r)}}keydown(r){this._active&&r.keyCode===27&&(this.reset(),this._fireEvent("boxzoomcancel",r))}blur(){this.reset()}reset(){this._active=!1,this._container.classList.remove("mapboxgl-crosshair"),this._box&&(this._box.remove(),this._box=null),bt(),delete this._startPos,delete this._lastPos}_fireEvent(r,l){return this._map.fire(new c.z(r,{originalEvent:l}))}}function tf(p,r){const l={};for(let m=0;m<p.length;m++)l[p[m].identifier]=r[m];return l}class n0{constructor(r){this.reset(),this.numTouches=r.numTouches}reset(){this.centroid=void 0,this.startTime=0,this.touches={},this.aborted=!1}touchstart(r,l,m){(this.centroid||m.length>this.numTouches)&&(this.aborted=!0),this.aborted||(this.startTime===0&&(this.startTime=r.timeStamp),m.length===this.numTouches&&(this.centroid=function(_){const x=new c.P(0,0);for(const E of _)x._add(E);return x.div(_.length)}(l),this.touches=tf(m,l)))}touchmove(r,l,m){if(this.aborted||!this.centroid)return;const _=tf(m,l);for(const x in this.touches){const E=_[x];(!E||E.dist(this.touches[x])>30)&&(this.aborted=!0)}}touchend(r,l,m){if((!this.centroid||r.timeStamp-this.startTime>500)&&(this.aborted=!0),m.length===0){const _=!this.aborted&&this.centroid;if(this.reset(),_)return _}}}class nf{constructor(r){this.singleTap=new n0(r),this.numTaps=r.numTaps,this.reset()}reset(){this.lastTime=1/0,this.lastTap=void 0,this.count=0,this.singleTap.reset()}touchstart(r,l,m){this.singleTap.touchstart(r,l,m)}touchmove(r,l,m){this.singleTap.touchmove(r,l,m)}touchend(r,l,m){const _=this.singleTap.touchend(r,l,m);if(_){const x=r.timeStamp-this.lastTime<500,E=!this.lastTap||this.lastTap.dist(_)<30;if(x&&E||this.reset(),this.count++,this.lastTime=r.timeStamp,this.lastTap=_,this.count===this.numTaps)return this.reset(),_}}}class Qu{constructor(){this._zoomIn=new nf({numTouches:1,numTaps:2}),this._zoomOut=new nf({numTouches:2,numTaps:1}),this.reset()}reset(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()}touchstart(r,l,m){this._zoomIn.touchstart(r,l,m),this._zoomOut.touchstart(r,l,m)}touchmove(r,l,m){this._zoomIn.touchmove(r,l,m),this._zoomOut.touchmove(r,l,m)}touchend(r,l,m){const _=this._zoomIn.touchend(r,l,m),x=this._zoomOut.touchend(r,l,m);return _?(this._active=!0,r.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:E=>E.easeTo({duration:300,zoom:E.getZoom()+1,around:E.unproject(_)},{originalEvent:r})}):x?(this._active=!0,r.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:E=>E.easeTo({duration:300,zoom:E.getZoom()-1,around:E.unproject(x)},{originalEvent:r})}):void 0}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}const jm={0:1,2:2};class Mh{constructor(r){this.reset(),this._clickTolerance=r.clickTolerance||1}blur(){this.reset()}reset(){this._active=!1,this._moved=!1,this._lastPoint=void 0,this._eventButton=void 0}_correctButton(r,l){return!1}_move(r,l){return{}}mousedown(r,l){if(this._lastPoint)return;const m=Ut(r);this._correctButton(r,m)&&(this._lastPoint=l,this._eventButton=m)}mousemoveWindow(r,l){const m=this._lastPoint;if(m){if(r.preventDefault(),this._eventButton!=null&&function(_,x){const E=jm[x];return _.buttons===void 0||(_.buttons&E)!==E}(r,this._eventButton))this.reset();else if(this._moved||!(l.dist(m)<this._clickTolerance))return this._moved=!0,this._lastPoint=l,this._move(m,l)}}mouseupWindow(r){this._lastPoint&&Ut(r)===this._eventButton&&(this._moved&&jt(),this.reset())}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Cp extends Mh{mousedown(r,l){super.mousedown(r,l),this._lastPoint&&(this._active=!0)}_correctButton(r,l){return l===0&&!r.ctrlKey}_move(r,l){return{around:l,panDelta:l.sub(r)}}}class Ru extends Mh{_correctButton(r,l){return l===0&&r.ctrlKey||l===2}_move(r,l){const m=.8*(l.x-r.x);if(m)return this._active=!0,{bearingDelta:m}}contextmenu(r){r.preventDefault()}}class rf extends Mh{_correctButton(r,l){return l===0&&r.ctrlKey||l===2}_move(r,l){const m=-.5*(l.y-r.y);if(m)return this._active=!0,{pitchDelta:m}}contextmenu(r){r.preventDefault()}}class yl{constructor(r,l){this._map=r,this._el=r.getCanvasContainer(),this._minTouches=1,this._clickTolerance=l.clickTolerance||1,this.reset(),c.aP(["_addTouchPanBlocker","_showTouchPanBlockerAlert"],this)}reset(){this._active=!1,this._touches={},this._sum=new c.P(0,0)}touchstart(r,l,m){return this._calculateTransform(r,l,m)}touchmove(r,l,m){if(this._active&&!(m.length<this._minTouches)){if(this._map._cooperativeGestures&&!this._map.isMoving()){if(m.length===1&&!c.dz())return void this._showTouchPanBlockerAlert();this._alertContainer.style.visibility!=="hidden"&&(this._alertContainer.style.visibility="hidden",clearTimeout(this._alertTimer))}return r.cancelable&&r.preventDefault(),this._calculateTransform(r,l,m)}}touchend(r,l,m){this._calculateTransform(r,l,m),this._active&&m.length<this._minTouches&&this.reset()}touchcancel(){this.reset()}_calculateTransform(r,l,m){m.length>0&&(this._active=!0);const _=tf(m,l),x=new c.P(0,0),E=new c.P(0,0);let R=0;for(const V in _){const U=_[V],Q=this._touches[V];Q&&(x._add(U),E._add(U.sub(Q)),R++,_[V]=U)}if(this._touches=_,R<this._minTouches||!E.mag())return;const F=E.div(R);return this._sum._add(F),this._sum.mag()<this._clickTolerance?void 0:{around:x.div(R),panDelta:F}}enable(){this._enabled=!0,this._map._cooperativeGestures&&(this._addTouchPanBlocker(),this._el.classList.add("mapboxgl-touch-pan-blocker-override","mapboxgl-scrollable-page"))}disable(){this._enabled=!1,this._map._cooperativeGestures&&(clearTimeout(this._alertTimer),this._alertContainer.remove(),this._el.classList.remove("mapboxgl-touch-pan-blocker-override","mapboxgl-scrollable-page")),this.reset()}isEnabled(){return!!this._enabled}isActive(){return!!this._active}_addTouchPanBlocker(){this._map&&!this._alertContainer&&(this._alertContainer=Ie("div","mapboxgl-touch-pan-blocker",this._map._container),this._alertContainer.textContent=this._map._getUIString("TouchPanBlocker.Message"),this._alertContainer.style.fontSize=`${Math.max(10,Math.min(24,Math.floor(.05*this._el.clientWidth)))}px`)}_showTouchPanBlockerAlert(){this._alertContainer.style.visibility="visible",this._alertContainer.classList.add("mapboxgl-touch-pan-blocker-show"),this._alertContainer.setAttribute("role","alert"),clearTimeout(this._alertTimer),this._alertTimer=window.setTimeout(()=>{this._alertContainer.classList.remove("mapboxgl-touch-pan-blocker-show"),this._alertContainer.removeAttribute("role")},500)}}class Zc{constructor(){this.reset()}reset(){this._active=!1,this._firstTwoTouches=void 0}_start(r){}_move(r,l,m){return{}}touchstart(r,l,m){this._firstTwoTouches||m.length<2||(this._firstTwoTouches=[m[0].identifier,m[1].identifier],this._start([l[0],l[1]]))}touchmove(r,l,m){const _=this._firstTwoTouches;if(!_)return;r.preventDefault();const[x,E]=_,R=Bf(m,l,x),F=Bf(m,l,E);if(!R||!F)return;const V=this._aroundCenter?null:R.add(F).div(2);return this._move([R,F],V,r)}touchend(r,l,m){if(!this._firstTwoTouches)return;const[_,x]=this._firstTwoTouches,E=Bf(m,l,_),R=Bf(m,l,x);E&&R||(this._active&&jt(),this.reset())}touchcancel(){this.reset()}enable(r){this._enabled=!0,this._aroundCenter=!!r&&r.around==="center"}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}function Bf(p,r,l){for(let m=0;m<p.length;m++)if(p[m].identifier===l)return r[m]}function Ph(p,r){return Math.log(p/r)/Math.LN2}class Sp extends Zc{reset(){super.reset(),this._distance=0,this._startDistance=0}_start(r){this._startDistance=this._distance=r[0].dist(r[1])}_move(r,l){const m=this._distance;if(this._distance=r[0].dist(r[1]),this._active||!(Math.abs(Ph(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:Ph(this._distance,m),pinchAround:l}}}function Vm(p,r){return 180*p.angleWith(r)/Math.PI}class Oh extends Zc{reset(){super.reset(),this._minDiameter=0,this._startVector=void 0,this._vector=void 0}_start(r){this._startVector=this._vector=r[0].sub(r[1]),this._minDiameter=r[0].dist(r[1])}_move(r,l){const m=this._vector;if(this._vector=r[0].sub(r[1]),m&&(this._active||!this._isBelowThreshold(this._vector)))return this._active=!0,{bearingDelta:Vm(this._vector,m),pinchAround:l}}_isBelowThreshold(r){this._minDiameter=Math.min(this._minDiameter,r.mag());const l=25/(Math.PI*this._minDiameter)*360,m=this._startVector;if(!m)return!1;const _=Vm(r,m);return Math.abs(_)<l}}function Rh(p){return Math.abs(p.y)>Math.abs(p.x)}class Rv extends Zc{constructor(r){super(),this._map=r}reset(){super.reset(),this._valid=void 0,this._firstMove=void 0,this._lastPoints=void 0}_start(r){this._lastPoints=r,Rh(r[0].sub(r[1]))&&(this._valid=!1)}_move(r,l,m){const _=this._lastPoints;if(!_)return;const x=r[0].sub(_[0]),E=r[1].sub(_[1]);return this._map._cooperativeGestures&&!c.dz()&&m.touches.length<3||(this._valid=this.gestureBeginsVertically(x,E,m.timeStamp),!this._valid)?void 0:(this._lastPoints=r,this._active=!0,{pitchDelta:(x.y+E.y)/2*-.5})}gestureBeginsVertically(r,l,m){if(this._valid!==void 0)return this._valid;const _=r.mag()>=2,x=l.mag()>=2;if(!_&&!x)return;if(!_||!x)return this._firstMove==null&&(this._firstMove=m),m-this._firstMove<100&&void 0;const E=r.y>0==l.y>0;return Rh(r)&&Rh(l)&&E}}const of={panStep:100,bearingStep:15,pitchStep:10};class Hm{constructor(){const r=of;this._panStep=r.panStep,this._bearingStep=r.bearingStep,this._pitchStep=r.pitchStep,this._rotationDisabled=!1}blur(){this.reset()}reset(){this._active=!1}keydown(r){if(r.altKey||r.ctrlKey||r.metaKey)return;let l=0,m=0,_=0,x=0,E=0;switch(r.keyCode){case 61:case 107:case 171:case 187:l=1;break;case 189:case 109:case 173:l=-1;break;case 37:r.shiftKey?m=-1:(r.preventDefault(),x=-1);break;case 39:r.shiftKey?m=1:(r.preventDefault(),x=1);break;case 38:r.shiftKey?_=1:(r.preventDefault(),E=-1);break;case 40:r.shiftKey?_=-1:(r.preventDefault(),E=1);break;default:return}return this._rotationDisabled&&(m=0,_=0),{cameraAnimation:R=>{const F=R.getZoom();R.easeTo({duration:300,easeId:"keyboardHandler",easing:Ed,zoom:l?Math.round(F)+l*(r.shiftKey?2:1):F,bearing:R.getBearing()+m*this._bearingStep,pitch:R.getPitch()+_*this._pitchStep,offset:[-x*this._panStep,-E*this._panStep],center:R.getCenter()},{originalEvent:r})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}disableRotation(){this._rotationDisabled=!0}enableRotation(){this._rotationDisabled=!1}}function Ed(p){return p*(2-p)}const af=4.000244140625,tu=1/450;class nu{constructor(r,l){this._map=r,this._el=r.getCanvasContainer(),this._handler=l,this._delta=0,this._lastDelta=0,this._defaultZoomRate=.01,this._wheelZoomRate=tu,c.aP(["_onTimeout","_addScrollZoomBlocker","_showBlockerAlert"],this)}setZoomRate(r){this._defaultZoomRate=r}setWheelZoomRate(r){this._wheelZoomRate=r}isEnabled(){return!!this._enabled}isActive(){return this._active||this._finishTimeout!==void 0}isZooming(){return!!this._zooming}enable(r){this.isEnabled()||(this._enabled=!0,this._aroundCenter=!!r&&r.around==="center",this._map._cooperativeGestures&&this._addScrollZoomBlocker())}disable(){this.isEnabled()&&(this._enabled=!1,this._map._cooperativeGestures&&(clearTimeout(this._alertTimer),this._alertContainer.remove()))}wheel(r){if(!this.isEnabled())return;if(this._map._cooperativeGestures){if(!(r.ctrlKey||r.metaKey||this.isZooming()||c.dz()))return void this._showBlockerAlert();this._alertContainer.style.visibility!=="hidden"&&(this._alertContainer.style.visibility="hidden",clearTimeout(this._alertTimer))}let l=r.deltaMode===WheelEvent.DOM_DELTA_LINE?40*r.deltaY:r.deltaY;const m=c.q.now(),_=m-(this._lastWheelEventTime||0);this._lastWheelEventTime=m,l!==0&&l%af==0?this._type="wheel":l!==0&&Math.abs(l)<4?this._type="trackpad":_>400?(this._type=null,this._lastValue=l,this._timeout=window.setTimeout(this._onTimeout,40,r)):this._type||(this._type=Math.abs(_*l)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,l+=this._lastValue)),r.shiftKey&&l&&(l/=4),this._type&&(this._lastWheelEvent=r,this._delta-=l,this._active||this._start(r)),r.preventDefault()}_onTimeout(r){this._type="wheel",this._delta-=this._lastValue,this._active||this._start(r)}_start(r){if(!this._delta)return;this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);const l=vt(this._el,r);this._aroundPoint=this._aroundCenter?this._map.transform.centerPoint:l,this._aroundCoord=this._map.transform.pointCoordinate3D(this._aroundPoint),this._targetZoom=void 0,this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}renderFrame(){if(!this._frameId||(this._frameId=null,!this.isActive()))return;const r=this._map.transform;this._type==="wheel"&&r.projection.wrap&&(r._center.lng>=180||r._center.lng<=-180)&&(this._prevEase=null,this._easing=null,this._lastWheelEvent=null,this._lastWheelEventTime=0);const l=()=>r._terrainEnabled()&&this._aroundCoord?r.computeZoomRelativeTo(this._aroundCoord):r.zoom;if(this._delta!==0){const V=this._type==="wheel"&&Math.abs(this._delta)>af?this._wheelZoomRate:this._defaultZoomRate;let U=2/(1+Math.exp(-Math.abs(this._delta*V)));this._delta<0&&U!==0&&(U=1/U);const Q=l(),ee=Math.pow(2,Q),ce=typeof this._targetZoom=="number"?r.zoomScale(this._targetZoom):ee;this._targetZoom=Math.min(r.maxZoom,Math.max(r.minZoom,r.scaleZoom(ce*U))),this._type==="wheel"&&(this._startZoom=Q,this._easing=this._smoothOutEasing(200)),this._lastDelta=this._delta,this._delta=0}const m=typeof this._targetZoom=="number"?this._targetZoom:l(),_=this._startZoom,x=this._easing;let E,R=!1;if(this._type==="wheel"&&_&&x){const V=Math.min((c.q.now()-this._lastWheelEventTime)/200,1),U=x(V);E=c.af(_,m,U),V<1?this._frameId||(this._frameId=!0):R=!0}else E=m,R=!0;this._active=!0,R&&(this._active=!1,this._finishTimeout=window.setTimeout(()=>{this._zooming=!1,this._handler._triggerRenderFrame(),delete this._targetZoom,delete this._finishTimeout},200));let F=E-l();return F*this._lastDelta<0&&(F=0),{noInertia:!0,needsRenderFrame:!R,zoomDelta:F,around:this._aroundPoint,aroundCoord:this._aroundCoord,originalEvent:this._lastWheelEvent}}_smoothOutEasing(r){let l=c.dA;if(this._prevEase){const m=this._prevEase,_=(c.q.now()-m.start)/m.duration,x=m.easing(_+.01)-m.easing(_),E=.27/Math.sqrt(x*x+1e-4)*.01,R=Math.sqrt(.0729-E*E);l=c.dy(E,R,.25,1)}return this._prevEase={start:c.q.now(),duration:r,easing:l},l}blur(){this.reset()}reset(){this._active=!1}_addScrollZoomBlocker(){this._map&&!this._alertContainer&&(this._alertContainer=Ie("div","mapboxgl-scroll-zoom-blocker",this._map._container),this._alertContainer.textContent=/(Mac|iPad)/i.test(navigator.userAgent)?this._map._getUIString("ScrollZoomBlocker.CmdMessage"):this._map._getUIString("ScrollZoomBlocker.CtrlMessage"),this._alertContainer.style.fontSize=`${Math.max(10,Math.min(24,Math.floor(.05*this._el.clientWidth)))}px`)}_showBlockerAlert(){this._alertContainer.style.visibility="visible",this._alertContainer.classList.add("mapboxgl-scroll-zoom-blocker-show"),this._alertContainer.setAttribute("role","alert"),clearTimeout(this._alertTimer),this._alertTimer=window.setTimeout(()=>{this._alertContainer.classList.remove("mapboxgl-scroll-zoom-blocker-show"),this._alertContainer.removeAttribute("role")},200)}}class ed{constructor(r,l){this._clickZoom=r,this._tapZoom=l}enable(){this._clickZoom.enable(),this._tapZoom.enable()}disable(){this._clickZoom.disable(),this._tapZoom.disable()}isEnabled(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()}isActive(){return this._clickZoom.isActive()||this._tapZoom.isActive()}}class Id{constructor(){this.reset()}reset(){this._active=!1}blur(){this.reset()}dblclick(r,l){return r.preventDefault(),{cameraAnimation:m=>{m.easeTo({duration:300,zoom:m.getZoom()+(r.shiftKey?-1:1),around:m.unproject(l)},{originalEvent:r})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Td{constructor(){this._tap=new nf({numTouches:1,numTaps:1}),this.reset()}reset(){this._active=!1,this._swipePoint=void 0,this._swipeTouch=0,this._tapTime=0,this._tap.reset()}touchstart(r,l,m){this._swipePoint||(this._tapTime&&r.timeStamp-this._tapTime>500&&this.reset(),this._tapTime?m.length>0&&(this._swipePoint=l[0],this._swipeTouch=m[0].identifier):this._tap.touchstart(r,l,m))}touchmove(r,l,m){if(this._tapTime){if(this._swipePoint){if(m[0].identifier!==this._swipeTouch)return;const _=l[0],x=_.y-this._swipePoint.y;return this._swipePoint=_,r.preventDefault(),this._active=!0,{zoomDelta:x/128}}}else this._tap.touchmove(r,l,m)}touchend(r,l,m){this._tapTime?this._swipePoint&&m.length===0&&this.reset():this._tap.touchend(r,l,m)&&(this._tapTime=r.timeStamp)}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class wp{constructor(r,l,m){this._el=r,this._mousePan=l,this._touchPan=m}enable(r){this._inertiaOptions=r||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("mapboxgl-touch-drag-pan")}disable(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("mapboxgl-touch-drag-pan")}isEnabled(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()}isActive(){return this._mousePan.isActive()||this._touchPan.isActive()}}class $v{constructor(r,l,m){this._pitchWithRotate=r.pitchWithRotate,this._mouseRotate=l,this._mousePitch=m}enable(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()}disable(){this._mouseRotate.disable(),this._mousePitch.disable()}isEnabled(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())}isActive(){return this._mouseRotate.isActive()||this._mousePitch.isActive()}}class Av{constructor(r,l,m,_){this._el=r,this._touchZoom=l,this._touchRotate=m,this._tapDragZoom=_,this._rotationDisabled=!1,this._enabled=!0}enable(r){this._touchZoom.enable(r),this._rotationDisabled||this._touchRotate.enable(r),this._tapDragZoom.enable(),this._el.classList.add("mapboxgl-touch-zoom-rotate")}disable(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("mapboxgl-touch-zoom-rotate")}isEnabled(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()}isActive(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()}disableRotation(){this._rotationDisabled=!0,this._touchRotate.disable()}enableRotation(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()}}const Ep=p=>p.zoom||p.drag||p.pitch||p.rotate;class r0 extends c.z{}class Tc{constructor(){this.constants=[1,1,.01],this.radius=0}setup(r,l){const m=c.ab.vec3.sub([],l,r);this.radius=c.ab.vec3.length(m[2]<0?c.ab.vec3.div([],m,this.constants):[m[0],m[1],0])}projectRay(r){c.ab.vec3.div(r,r,this.constants),c.ab.vec3.normalize(r,r),c.ab.vec3.mul(r,r,this.constants);const l=c.ab.vec3.scale([],r,this.radius);if(l[2]>0){const m=c.ab.vec3.scale([],[0,0,1],c.ab.vec3.dot(l,[0,0,1])),_=c.ab.vec3.scale([],c.ab.vec3.normalize([],[l[0],l[1],0]),this.radius),x=c.ab.vec3.add([],l,c.ab.vec3.scale([],c.ab.vec3.sub([],c.ab.vec3.add([],_,m),l),2));l[0]=x[0],l[1]=x[1]}return l}}function Ff(p){return p.panDelta&&p.panDelta.mag()||p.zoomDelta||p.bearingDelta||p.pitchDelta}class Md{constructor(r,l){this._map=r,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new ef(r),this._bearingSnap=l.bearingSnap,this._previousActiveHandlers={},this._trackingEllipsoid=new Tc,this._dragOrigin=null,this._eventsInProgress={},this._addDefaultHandlers(l),c.aP(["handleEvent","handleWindowEvent"],this);const m=this._el;this._listeners=[[m,"touchstart",{passive:!0}],[m,"touchmove",{passive:!1}],[m,"touchend",void 0],[m,"touchcancel",void 0],[m,"mousedown",void 0],[m,"mousemove",void 0],[m,"mouseup",void 0],[document,"mousemove",{capture:!0}],[document,"mouseup",void 0],[m,"mouseover",void 0],[m,"mouseout",void 0],[m,"dblclick",void 0],[m,"click",void 0],[m,"keydown",{capture:!1}],[m,"keyup",void 0],[m,"wheel",{passive:!1}],[m,"contextmenu",void 0],[window,"blur",void 0]];for(const[_,x,E]of this._listeners){const R=_===document?this.handleWindowEvent:this.handleEvent;_.addEventListener(x,R,E)}}destroy(){for(const[r,l,m]of this._listeners){const _=r===document?this.handleWindowEvent:this.handleEvent;r.removeEventListener(l,_,m)}}_addDefaultHandlers(r){const l=this._map,m=l.getCanvasContainer();this._add("mapEvent",new km(l,r));const _=l.boxZoom=new sl(l,r);this._add("boxZoom",_);const x=new Qu,E=new Id;l.doubleClickZoom=new ed(E,x),this._add("tapZoom",x),this._add("clickZoom",E);const R=new Td;this._add("tapDragZoom",R);const F=l.touchPitch=new Rv(l);this._add("touchPitch",F);const V=new Ru(r),U=new rf(r);l.dragRotate=new $v(r,V,U),this._add("mouseRotate",V,["mousePitch"]),this._add("mousePitch",U,["mouseRotate"]);const Q=new Cp(r),ee=new yl(l,r);l.dragPan=new wp(m,Q,ee),this._add("mousePan",Q),this._add("touchPan",ee,["touchZoom","touchRotate"]);const ce=new Oh,Pe=new Sp;l.touchZoomRotate=new Av(m,Pe,ce,R),this._add("touchRotate",ce,["touchPan","touchZoom"]),this._add("touchZoom",Pe,["touchPan","touchRotate"]),this._add("blockableMapEvent",new Zm(l));const Se=l.scrollZoom=new nu(l,this);this._add("scrollZoom",Se,["mousePan"]);const ze=l.keyboard=new Hm;this._add("keyboard",ze);for(const Le of["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"])r.interactive&&r[Le]&&l[Le].enable(r[Le])}_add(r,l,m){this._handlers.push({handlerName:r,handler:l,allowed:m}),this._handlersById[r]=l}stop(r){if(!this._updatingCamera){for(const{handler:l}of this._handlers)l.reset();this._inertia.clear(),this._fireEvents({},{},r),this._changes=[],this._originalZoom=void 0}}isActive(){for(const{handler:r}of this._handlers)if(r.isActive())return!0;return!1}isZooming(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()}isRotating(){return!!this._eventsInProgress.rotate}isMoving(){return!!Ep(this._eventsInProgress)||this.isZooming()}_isDragging(){return!!this._eventsInProgress.drag}_blockedByActive(r,l,m){for(const _ in r)if(_!==m&&(!l||l.indexOf(_)<0))return!0;return!1}handleWindowEvent(r){this.handleEvent(r,`${r.type}Window`)}_getMapTouches(r){const l=[];for(const m of r)this._el.contains(m.target)&&l.push(m);return l}handleEvent(r,l){this._updatingCamera=!0;const m=r.type==="renderFrame",_=m?void 0:r,x={needsRenderFrame:!1},E={},R={},F=r.touches?this._getMapTouches(r.touches):void 0,V=F?Mt(this._el,F):m?void 0:vt(this._el,r);for(const{handlerName:ee,handler:ce,allowed:Pe}of this._handlers){if(!ce.isEnabled())continue;let Se;this._blockedByActive(R,Pe,ee)?ce.reset():ce[l||r.type]&&(Se=ce[l||r.type](r,V,F),this.mergeHandlerResult(x,E,Se,ee,_),Se&&Se.needsRenderFrame&&this._triggerRenderFrame()),(Se||ce.isActive())&&(R[ee]=ce)}const U={};for(const ee in this._previousActiveHandlers)R[ee]||(U[ee]=_);this._previousActiveHandlers=R,(Object.keys(U).length||Ff(x))&&(this._changes.push([x,E,U]),this._triggerRenderFrame()),(Object.keys(R).length||Ff(x))&&this._map._stop(!0),this._updatingCamera=!1;const{cameraAnimation:Q}=x;Q&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],Q(this._map))}mergeHandlerResult(r,l,m,_,x){if(!m)return;c.l(r,m);const E={handlerName:_,originalEvent:m.originalEvent||x};m.zoomDelta!==void 0&&(l.zoom=E),m.panDelta!==void 0&&(l.drag=E),m.pitchDelta!==void 0&&(l.pitch=E),m.bearingDelta!==void 0&&(l.rotate=E)}_applyChanges(){const r={},l={},m={};for(const[_,x,E]of this._changes)_.panDelta&&(r.panDelta=(r.panDelta||new c.P(0,0))._add(_.panDelta)),_.zoomDelta&&(r.zoomDelta=(r.zoomDelta||0)+_.zoomDelta),_.bearingDelta&&(r.bearingDelta=(r.bearingDelta||0)+_.bearingDelta),_.pitchDelta&&(r.pitchDelta=(r.pitchDelta||0)+_.pitchDelta),_.around!==void 0&&(r.around=_.around),_.aroundCoord!==void 0&&(r.aroundCoord=_.aroundCoord),_.pinchAround!==void 0&&(r.pinchAround=_.pinchAround),_.noInertia&&(r.noInertia=_.noInertia),c.l(l,x),c.l(m,E);this._updateMapTransform(r,l,m),this._changes=[]}_updateMapTransform(r,l,m){const _=this._map,x=_.transform,E=st=>[st.x,st.y,st.z];if((st=>{const St=this._eventsInProgress.drag;return St&&!this._handlersById[St.handlerName].isActive()})()&&!Ff(r)){const st=x.zoom;x.cameraElevationReference="sea",this._originalZoom!=null&&x._orthographicProjectionAtLowPitch&&x.projection.name!=="globe"&&x.pitch===0?(x.cameraElevationReference="ground",x.zoom=this._originalZoom):(x.recenterOnTerrain(),x.cameraElevationReference="ground"),st!==x.zoom&&this._map._update(!0)}if(x._isCameraConstrained&&_._stop(!0),!Ff(r))return void this._fireEvents(l,m,!0);let{panDelta:R,zoomDelta:F,bearingDelta:V,pitchDelta:U,around:Q,aroundCoord:ee,pinchAround:ce}=r;x._isCameraConstrained&&(F>0&&(F=0),x._isCameraConstrained=!1),ce!==void 0&&(Q=ce),(F||(st=>l[st]&&!this._eventsInProgress[st])("drag"))&&Q&&(this._dragOrigin=E(x.pointCoordinate3D(Q)),this._originalZoom=x.zoom,this._trackingEllipsoid.setup(x._camera.position,this._dragOrigin)),x.cameraElevationReference="sea",_._stop(!0),Q=Q||_.transform.centerPoint,V&&(x.bearing+=V),U&&(x.pitch+=U),x._updateCameraState();const Pe=[0,0,0];if(R)if(x.projection.name==="mercator"){const st=this._trackingEllipsoid.projectRay(x.screenPointToMercatorRay(Q).dir),St=this._trackingEllipsoid.projectRay(x.screenPointToMercatorRay(Q.sub(R)).dir);Pe[0]=St[0]-st[0],Pe[1]=St[1]-st[1]}else{const st=x.pointCoordinate(Q);if(x.projection.name==="globe"){R=R.rotate(-x.angle);const St=x._pixelsPerMercatorPixel/x.worldSize;Pe[0]=-R.x*c.dB(c.aS(st.y))*St,Pe[1]=-R.y*c.dB(x.center.lat)*St}else{const St=x.pointCoordinate(Q.sub(R));st&&St&&(Pe[0]=St.x-st.x,Pe[1]=St.y-st.y)}}const Se=x.zoom,ze=[0,0,0];if(F){const st=E(ee||x.pointCoordinate3D(Q)),St={dir:c.ab.vec3.normalize([],c.ab.vec3.sub([],st,x._camera.position))};if(St.dir[2]<0){const xt=x.zoomDeltaToMovement(st,F);c.ab.vec3.scale(ze,St.dir,xt)}}const Le=c.ab.vec3.add(Pe,Pe,ze);x._translateCameraConstrained(Le),F&&Math.abs(x.zoom-Se)>1e-4&&x.recenterOnTerrain(),x.cameraElevationReference="ground",this._map._update(),r.noInertia||this._inertia.record(r),this._fireEvents(l,m,!0)}_fireEvents(r,l,m){const _=Ep(this._eventsInProgress),x=Ep(r),E={};for(const U in r){const{originalEvent:Q}=r[U];this._eventsInProgress[U]||(E[`${U}start`]=Q),this._eventsInProgress[U]=r[U]}!_&&x&&this._fireEvent("movestart",x.originalEvent);for(const U in E)this._fireEvent(U,E[U]);x&&this._fireEvent("move",x.originalEvent);for(const U in r){const{originalEvent:Q}=r[U];this._fireEvent(U,Q)}const R={};let F;for(const U in this._eventsInProgress){const{handlerName:Q,originalEvent:ee}=this._eventsInProgress[U];this._handlersById[Q].isActive()||(delete this._eventsInProgress[U],F=l[Q]||ee,R[`${U}end`]=F)}for(const U in R)this._fireEvent(U,R[U]);const V=Ep(this._eventsInProgress);if(m&&(_||x)&&!V){this._updatingCamera=!0;const U=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),Q=ee=>ee!==0&&-this._bearingSnap<ee&&ee<this._bearingSnap;U?(Q(U.bearing||this._map.getBearing())&&(U.bearing=0),this._map.easeTo(U,{originalEvent:F})):(this._map.fire(new c.z("moveend",{originalEvent:F})),Q(this._map.getBearing())&&this._map.resetNorth()),this._updatingCamera=!1}}_fireEvent(r,l){this._map.fire(new c.z(r,l?{originalEvent:l}:{}))}_requestFrame(){return this._map.triggerRepaint(),this._map._renderTaskQueue.add(r=>{this._frameId=void 0,this.handleEvent(new r0("renderFrame",{timeStamp:r})),this._applyChanges()})}_triggerRenderFrame(){this._frameId===void 0&&(this._frameId=this._requestFrame())}}const i0="map.setFreeCameraOptions(...) and map.getFreeCameraOptions() are not yet supported for non-mercator projections.";class kf extends c.E{constructor(r,l){super(),this._moving=!1,this._zooming=!1,this.transform=r,this._bearingSnap=l.bearingSnap,this._respectPrefersReducedMotion=l.respectPrefersReducedMotion!==!1,c.aP(["_renderFrameCallback"],this)}getCenter(){return new c.bO(this.transform.center.lng,this.transform.center.lat)}setCenter(r,l){return this.jumpTo({center:r},l)}panBy(r,l,m){return r=c.P.convert(r).mult(-1),this.panTo(this.transform.center,c.l({offset:r},l),m)}panTo(r,l,m){return this.easeTo(c.l({center:r},l),m)}getZoom(){return this.transform.zoom}setZoom(r,l){return this.jumpTo({zoom:r},l),this}zoomTo(r,l,m){return this.easeTo(c.l({zoom:r},l),m)}zoomIn(r,l){return this.zoomTo(this.getZoom()+1,r,l),this}zoomOut(r,l){return this.zoomTo(this.getZoom()-1,r,l),this}getBearing(){return this.transform.bearing}setBearing(r,l){return this.jumpTo({bearing:r},l),this}getPadding(){return this.transform.padding}setPadding(r,l){return this.jumpTo({padding:r},l),this}rotateTo(r,l,m){return this.easeTo(c.l({bearing:r},l),m)}resetNorth(r,l){return this.rotateTo(0,c.l({duration:1e3},r),l),this}resetNorthPitch(r,l){return this.easeTo(c.l({bearing:0,pitch:0,duration:1e3},r),l),this}snapToNorth(r,l){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(r,l):this}getPitch(){return this.transform.pitch}setPitch(r,l){return this.jumpTo({pitch:r},l),this}cameraForBounds(r,l){r=c.az.convert(r);const m=l&&l.bearing||0,_=l&&l.pitch||0,x=r.getNorthWest(),E=r.getSouthEast();return this._cameraForBounds(this.transform,x,E,m,_,l)}_extendPadding(r){const l={top:0,right:0,bottom:0,left:0};return r==null?c.l({},l,this.transform.padding):typeof r=="number"?{top:r,bottom:r,right:r,left:r}:c.l({},l,r)}_extendCameraOptions(r){return(r=c.l({offset:[0,0],maxZoom:this.transform.maxZoom},r)).padding=this._extendPadding(r.padding),r}_minimumAABBFrustumDistance(r,l){const m=l.max[0]-l.min[0],_=l.max[1]-l.min[1];return m/_>r.aspect?m/(2*Math.tan(.5*r.fovX)*r.aspect):_/(2*Math.tan(.5*r.fovY)*r.aspect)}_cameraForBoundsOnGlobe(r,l,m,_,x,E){const R=r.clone(),F=this._extendCameraOptions(E);R.bearing=_,R.pitch=x;const V=c.bO.convert(l),U=c.bO.convert(m),Q=.5*(V.lat+U.lat),ee=.5*(V.lng+U.lng),ce=c.dC(Q,ee),Pe=c.ab.vec3.normalize([],ce),Se=c.ab.vec3.normalize([],c.ab.vec3.cross([],Pe,[0,1,0])),ze=c.ab.vec3.cross([],Se,Pe),Le=[Se[0],Se[1],Se[2],0,ze[0],ze[1],ze[2],0,Pe[0],Pe[1],Pe[2],0,0,0,0,1],st=[ce,c.dC(V.lat,V.lng),c.dC(U.lat,V.lng),c.dC(U.lat,U.lng),c.dC(V.lat,U.lng),c.dC(Q,V.lng),c.dC(Q,U.lng),c.dC(V.lat,ee),c.dC(U.lat,ee)];let St=c.cd.fromPoints(st.map(xr=>[c.ab.vec3.dot(Se,xr),c.ab.vec3.dot(ze,xr),c.ab.vec3.dot(Pe,xr)]));const xt=c.ab.vec3.transformMat4([],St.center,Le);c.ab.vec3.squaredLength(xt)===0&&c.ab.vec3.set(xt,0,0,1),c.ab.vec3.normalize(xt,xt),c.ab.vec3.scale(xt,xt,c.ax),R.center=c.dD(xt);const Wt=R.getWorldToCameraMatrix(),zt=c.ab.mat4.invert(new Float64Array(16),Wt);St=c.cd.applyTransform(St,c.ab.mat4.multiply([],Wt,Le));const kt=this._extendAABB(St,R,F,_);if(!kt)return void c.w("Map cannot fit within canvas with the given bounds, padding, and/or offset.");St=kt,c.ab.vec3.transformMat4(xt,xt,Wt);const Lt=.5*(St.max[2]-St.min[2]),cn=this._minimumAABBFrustumDistance(R,St),Tn=c.ab.vec3.scale([],[0,0,1],Lt),hr=c.ab.vec3.add(Tn,xt,Tn),nr=cn+(R.pitch===0?0:c.ab.vec3.distance(xt,hr)),jr=R.globeCenterInViewSpace,Br=c.ab.vec3.sub([],xt,[jr[0],jr[1],jr[2]]);c.ab.vec3.normalize(Br,Br),c.ab.vec3.scale(Br,Br,nr);const Un=c.ab.vec3.add([],xt,Br);c.ab.vec3.transformMat4(Un,Un,zt);const vr=c.ds/c.ax,vi=c.ab.vec3.length(Un),kn=c.bH(Math.max(vi*vr-c.ds,Number.EPSILON),0),Xr=Math.min(R.zoomFromMercatorZAdjusted(kn),F.maxZoom);return Xr>.5*(c.c6+c.bY)?(R.setProjection({name:"mercator"}),R.zoom=Xr,this._cameraForBounds(R,l,m,_,x,E)):{center:R.center,zoom:Xr,bearing:_,pitch:x}}_extendAABB(r,l,m,_){const x=.5*((m.padding.left||0)+(m.padding.right||0)),E=.5*((m.padding.top||0)+(m.padding.bottom||0)),R=E,F=x,V=x,U=E,Q=l.width-(F+V),ee=l.height-(R+U),ce=c.ab.vec3.sub([],r.max,r.min),Pe=Math.min(Q/ce[0],ee/ce[1]),Se=Math.min(l.scaleZoom(l.scale*Pe),m.maxZoom);if(isNaN(Se))return null;const ze=l.scale/l.zoomScale(Se),Le=new c.cd([r.min[0]-F*ze,r.min[1]-U*ze,r.min[2]],[r.max[0]+V*ze,r.max[1]+R*ze,r.max[2]]),st=(typeof m.offset.x=="number"&&typeof m.offset.y=="number"?new c.P(m.offset.x,m.offset.y):c.P.convert(m.offset)).rotate(-c.ai(_));return Le.center[0]-=st.x*ze,Le.center[1]+=st.y*ze,Le}queryTerrainElevation(r,l){const m=this.transform.elevation;return m?(l=c.l({},{exaggerated:!0},l),m.getAtPoint(c.aa.fromLngLat(r),null,l.exaggerated)):null}_cameraForBounds(r,l,m,_,x,E){if(r.projection.name==="globe")return this._cameraForBoundsOnGlobe(r,l,m,_,x,E);const R=r.clone(),F=this._extendCameraOptions(E);R.bearing=_,R.pitch=x;const V=c.bO.convert(l),U=c.bO.convert(m),Q=new c.bO(V.lng,U.lat),ee=new c.bO(U.lng,V.lat),ce=R.project(V),Pe=R.project(U),Se=this.queryTerrainElevation(V),ze=this.queryTerrainElevation(U),Le=this.queryTerrainElevation(Q),st=this.queryTerrainElevation(ee),St=[[ce.x,ce.y,Math.min(Se||0,ze||0,Le||0,st||0)],[Pe.x,Pe.y,Math.max(Se||0,ze||0,Le||0,st||0)]];let xt=c.cd.fromPoints(St);const Wt=R.getWorldToCameraMatrix(),zt=c.ab.mat4.invert(new Float64Array(16),Wt);xt=c.cd.applyTransform(xt,Wt);const kt=this._extendAABB(xt,R,F,_);if(!kt)return void c.w("Map cannot fit within canvas with the given bounds, padding, and/or offset.");xt=kt;const Lt=.5*c.ab.vec3.sub([],xt.max,xt.min)[2],cn=this._minimumAABBFrustumDistance(R,xt),Tn=[0,0,1,0];c.ab.vec4.transformMat4(Tn,Tn,Wt),c.ab.vec4.normalize(Tn,Tn);const hr=c.ab.vec3.scale([],Tn,cn+Lt),nr=c.ab.vec3.add([],xt.center,hr);c.ab.vec3.transformMat4(xt.center,xt.center,zt),c.ab.vec3.transformMat4(nr,nr,zt);const jr=R.unproject(new c.P(xt.center[0],xt.center[1])),Br=c.dE(R.projection,jr),Un=Math.pow(2,Br),vr=Math.min(R._zoomFromMercatorZ(nr[2]*R.pixelsPerMeter*Un/R.worldSize),F.maxZoom);return R.mercatorFromTransition&&vr<.5*(c.c6+c.bY)?(R.setProjection({name:"globe"}),R.zoom=vr,this._cameraForBounds(R,l,m,_,x,E)):{center:jr,zoom:vr,bearing:_,pitch:x}}fitBounds(r,l,m){const _=this.cameraForBounds(r,l);return this._fitInternal(_,l,m)}fitScreenCoordinates(r,l,m,_,x){const E=c.P.convert(r),R=c.P.convert(l),F=new c.P(Math.min(E.x,R.x),Math.min(E.y,R.y)),V=new c.P(Math.max(E.x,R.x),Math.max(E.y,R.y));if(this.transform.projection.name==="mercator"&&this.transform.anyCornerOffEdge(E,R))return this;const U=this.transform.pointLocation3D(F),Q=this.transform.pointLocation3D(V),ee=this.transform.pointLocation3D(new c.P(F.x,V.y)),ce=this.transform.pointLocation3D(new c.P(V.x,F.y)),Pe=[Math.min(U.lng,Q.lng,ee.lng,ce.lng),Math.min(U.lat,Q.lat,ee.lat,ce.lat)],Se=[Math.max(U.lng,Q.lng,ee.lng,ce.lng),Math.max(U.lat,Q.lat,ee.lat,ce.lat)],ze=_&&_.pitch?_.pitch:this.getPitch(),Le=this._cameraForBounds(this.transform,Pe,Se,m,ze,_);return this._fitInternal(Le,_,x)}_fitInternal(r,l,m){return r?(l=c.l(r,l)).linear?this.easeTo(l,m):this.flyTo(l,m):this}jumpTo(r,l){this.stop();const m=r.preloadOnly?this.transform.clone():this.transform;let _=!1,x=!1,E=!1;"zoom"in r&&m.zoom!==+r.zoom&&(_=!0,m.zoom=+r.zoom),r.center!==void 0&&(m.center=c.bO.convert(r.center)),"bearing"in r&&m.bearing!==+r.bearing&&(x=!0,m.bearing=+r.bearing),"pitch"in r&&m.pitch!==+r.pitch&&(E=!0,m.pitch=+r.pitch);const R=typeof r.padding=="number"?this._extendPadding(r.padding):r.padding;if(r.padding!=null&&!m.isPaddingEqual(R))if(r.retainPadding===!1){const F=m.clone();F.padding=R,m.setLocationAtPoint(m.center,F.centerPoint)}else m.padding=R;return r.preloadOnly?(this._preloadTiles(m),this):(this.fire(new c.z("movestart",l)).fire(new c.z("move",l)),_&&this.fire(new c.z("zoomstart",l)).fire(new c.z("zoom",l)).fire(new c.z("zoomend",l)),x&&this.fire(new c.z("rotatestart",l)).fire(new c.z("rotate",l)).fire(new c.z("rotateend",l)),E&&this.fire(new c.z("pitchstart",l)).fire(new c.z("pitch",l)).fire(new c.z("pitchend",l)),this.fire(new c.z("moveend",l)))}getFreeCameraOptions(){return this.transform.projection.supportsFreeCamera||c.w(i0),this.transform.getFreeCameraOptions()}setFreeCameraOptions(r,l){const m=this.transform;if(!m.projection.supportsFreeCamera)return c.w(i0),this;this.stop();const _=m.zoom,x=m.pitch,E=m.bearing;m.setFreeCameraOptions(r);const R=_!==m.zoom,F=x!==m.pitch,V=E!==m.bearing;return this.fire(new c.z("movestart",l)).fire(new c.z("move",l)),R&&this.fire(new c.z("zoomstart",l)).fire(new c.z("zoom",l)).fire(new c.z("zoomend",l)),V&&this.fire(new c.z("rotatestart",l)).fire(new c.z("rotate",l)).fire(new c.z("rotateend",l)),F&&this.fire(new c.z("pitchstart",l)).fire(new c.z("pitch",l)).fire(new c.z("pitchend",l)),this.fire(new c.z("moveend",l)),this}easeTo(r,l){this._stop(!1,r.easeId),((r=c.l({offset:[0,0],duration:500,easing:c.dA},r)).animate===!1||this._prefersReducedMotion(r))&&(r.duration=0);const m=this.transform,_=this.getZoom(),x=this.getBearing(),E=this.getPitch(),R=this.getPadding(),F="zoom"in r?+r.zoom:_,V="bearing"in r?this._normalizeBearing(r.bearing,x):x,U="pitch"in r?+r.pitch:E,Q=this._extendPadding(r.padding),ee=c.P.convert(r.offset);let ce,Pe,Se;if(m.projection.name==="globe"){const Tn=c.aa.fromLngLat(m.center),hr=ee.rotate(-m.angle);Tn.x+=hr.x/m.worldSize,Tn.y+=hr.y/m.worldSize;const nr=Tn.toLngLat(),jr=c.bO.convert(r.center||nr);this._normalizeCenter(jr),ce=m.centerPoint.add(hr),Pe=new c.P(Tn.x,Tn.y).mult(m.worldSize),Se=new c.P(c.at(jr.lng),c.aA(jr.lat)).mult(m.worldSize).sub(Pe)}else{ce=m.centerPoint.add(ee);const Tn=m.pointLocation(ce),hr=c.bO.convert(r.center||Tn);this._normalizeCenter(hr),Pe=m.project(Tn),Se=m.project(hr).sub(Pe)}const ze=m.zoomScale(F-_);let Le,st;r.around&&(Le=c.bO.convert(r.around),st=m.locationPoint(Le));const St=this._zooming||F!==_,xt=this._rotating||x!==V,Wt=this._pitching||U!==E,zt=!m.isPaddingEqual(Q),kt=r.retainPadding===!1?m.clone():m,Lt=Tn=>hr=>{if(St&&(Tn.zoom=c.af(_,F,hr)),xt&&(Tn.bearing=c.af(x,V,hr)),Wt&&(Tn.pitch=c.af(E,U,hr)),zt&&(kt.interpolatePadding(R,Q,hr),ce=kt.centerPoint.add(ee)),Le)Tn.setLocationAtPoint(Le,st);else{const nr=Tn.zoomScale(Tn.zoom-_),jr=F>_?Math.min(2,ze):Math.max(.5,ze),Br=Math.pow(jr,1-hr),Un=Tn.unproject(Pe.add(Se.mult(hr*Br)).mult(nr));Tn.setLocationAtPoint(Tn.renderWorldCopies?Un.wrap():Un,ce)}return r.preloadOnly||this._fireMoveEvents(l),Tn};if(r.preloadOnly){const Tn=this._emulate(Lt,r.duration,m);return this._preloadTiles(Tn),this}const cn={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=St,this._rotating=xt,this._pitching=Wt,this._padding=zt,this._easeId=r.easeId,this._prepareEase(l,r.noMoveStart,cn),this._ease(Lt(m),Tn=>{m.cameraElevationReference==="sea"&&m.recenterOnTerrain(),this._afterEase(l,Tn)},r),this}_prepareEase(r,l,m={}){this._moving=!0,this.transform.cameraElevationReference="sea",this.transform._orthographicProjectionAtLowPitch&&this.transform.pitch===0&&this.transform.projection.name!=="globe"&&(this.transform.cameraElevationReference="ground"),l||m.moving||this.fire(new c.z("movestart",r)),this._zooming&&!m.zooming&&this.fire(new c.z("zoomstart",r)),this._rotating&&!m.rotating&&this.fire(new c.z("rotatestart",r)),this._pitching&&!m.pitching&&this.fire(new c.z("pitchstart",r))}_fireMoveEvents(r){this.fire(new c.z("move",r)),this._zooming&&this.fire(new c.z("zoom",r)),this._rotating&&this.fire(new c.z("rotate",r)),this._pitching&&this.fire(new c.z("pitch",r))}_afterEase(r,l){if(this._easeId&&l&&this._easeId===l)return;this._easeId=void 0,this.transform.cameraElevationReference="ground";const m=this._zooming,_=this._rotating,x=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,m&&this.fire(new c.z("zoomend",r)),_&&this.fire(new c.z("rotateend",r)),x&&this.fire(new c.z("pitchend",r)),this.fire(new c.z("moveend",r))}flyTo(r,l){if(this._prefersReducedMotion(r)){const xr=c.ay(r,["center","zoom","bearing","pitch","around","padding","retainPadding"]);return this.jumpTo(xr,l)}this.stop(),r=c.l({offset:[0,0],speed:1.2,curve:1.42,easing:c.dA},r);const m=this.transform,_=this.getZoom(),x=this.getBearing(),E=this.getPitch(),R=this.getPadding(),F="zoom"in r?c.aw(+r.zoom,m.minZoom,m.maxZoom):_,V="bearing"in r?this._normalizeBearing(r.bearing,x):x,U="pitch"in r?+r.pitch:E,Q=this._extendPadding(r.padding),ee=m.zoomScale(F-_),ce=c.P.convert(r.offset);let Pe=m.centerPoint.add(ce);const Se=m.pointLocation(Pe),ze=c.bO.convert(r.center||Se);this._normalizeCenter(ze);const Le=m.project(Se),st=m.project(ze).sub(Le);let St=r.curve;const xt=Math.max(m.width,m.height),Wt=xt/ee,zt=st.mag();if("minZoom"in r){const xr=c.aw(Math.min(r.minZoom,_,F),m.minZoom,m.maxZoom),zi=xt/m.zoomScale(xr-_);St=Math.sqrt(zi/zt*2)}const kt=St*St;function Lt(xr){const zi=(Wt*Wt-xt*xt+(xr?-1:1)*kt*kt*zt*zt)/(2*(xr?Wt:xt)*kt*zt);return Math.log(Math.sqrt(zi*zi+1)-zi)}function cn(xr){return(Math.exp(xr)-Math.exp(-xr))/2}function Tn(xr){return(Math.exp(xr)+Math.exp(-xr))/2}const hr=Lt(0);let nr=function(xr){return Tn(hr)/Tn(hr+St*xr)},jr=function(xr){return xt*((Tn(hr)*(cn(zi=hr+St*xr)/Tn(zi))-cn(hr))/kt)/zt;var zi},Br=(Lt(1)-hr)/St;if(Math.abs(zt)<1e-6||!isFinite(Br)){if(Math.abs(xt-Wt)<1e-6)return this.easeTo(r,l);const xr=Wt<xt?-1:1;Br=Math.abs(Math.log(Wt/xt))/St,jr=function(){return 0},nr=function(zi){return Math.exp(xr*St*zi)}}r.duration="duration"in r?+r.duration:1e3*Br/("screenSpeed"in r?+r.screenSpeed/St:+r.speed),r.maxDuration&&r.duration>r.maxDuration&&(r.duration=0);const Un=x!==V,vr=U!==E,vi=!m.isPaddingEqual(Q),kn=r.retainPadding===!1?m.clone():m,Xr=xr=>zi=>{const qr=zi*Br,Gr=1/nr(qr);xr.zoom=zi===1?F:_+xr.scaleZoom(Gr),Un&&(xr.bearing=c.af(x,V,zi)),vr&&(xr.pitch=c.af(E,U,zi)),vi&&(kn.interpolatePadding(R,Q,zi),Pe=kn.centerPoint.add(ce));const wi=zi===1?ze:xr.unproject(Le.add(st.mult(jr(qr))).mult(Gr));return xr.setLocationAtPoint(xr.renderWorldCopies?wi.wrap():wi,Pe),xr._updateCameraOnTerrain(),r.preloadOnly||this._fireMoveEvents(l),xr};if(r.preloadOnly){const xr=this._emulate(Xr,r.duration,m);return this._preloadTiles(xr),this}return this._zooming=!0,this._rotating=Un,this._pitching=vr,this._padding=vi,this._prepareEase(l,!1),this._ease(Xr(m),()=>this._afterEase(l),r),this}isEasing(){return!!this._easeFrameId}stop(){return this._stop()}_requestRenderFrame(r){}_cancelRenderFrame(r){}_stop(r,l){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),this._easeFrameId=void 0,this._onEaseFrame=void 0),this._onEaseEnd){const m=this._onEaseEnd;this._onEaseEnd=void 0,m.call(this,l)}if(!r){const m=this.handlers;m&&m.stop(!1)}return this}_ease(r,l,m){m.animate===!1||m.duration===0?(r(1),l()):(this._easeStart=c.q.now(),this._easeOptions=m,this._onEaseFrame=r,this._onEaseEnd=l,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))}_renderFrameCallback(){const r=Math.min((c.q.now()-this._easeStart)/this._easeOptions.duration,1),l=this._onEaseFrame;l&&l(this._easeOptions.easing(r)),r<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()}_normalizeBearing(r,l){r=c.bF(r,-180,180);const m=Math.abs(r-l);return Math.abs(r-360-l)<m&&(r-=360),Math.abs(r+360-l)<m&&(r+=360),r}_normalizeCenter(r){const l=this.transform;if(l.maxBounds||l.projection.name!=="globe"&&!l.renderWorldCopies)return;const m=r.lng-l.center.lng;r.lng+=m>180?-360:m<-180?360:0}_prefersReducedMotion(r){return this._respectPrefersReducedMotion&&c.q.prefersReducedMotion&&!(r&&r.essential)}_emulate(r,l,m){const _=Math.ceil(15*l/1e3),x=[],E=r(m.clone());for(let R=0;R<=_;R++){const F=E(R/_);x.push(F.clone())}return x}_preloadTiles(r,l){}}class $h{constructor(r={}){this.options=r,c.aP(["_toggleAttribution","_updateEditLink","_updateData","_updateCompact"],this)}getDefaultPosition(){return"bottom-right"}onAdd(r){const l=this.options&&this.options.compact,m=r._getUIString("AttributionControl.ToggleAttribution");this._map=r,this._container=Ie("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._compactButton=Ie("button","mapboxgl-ctrl-attrib-button",this._container),this._compactButton.type="button",this._compactButton.addEventListener("click",this._toggleAttribution),this._compactButton.setAttribute("aria-label",m);const _=Ie("span","mapboxgl-ctrl-icon",this._compactButton);return _.setAttribute("aria-hidden","true"),_.setAttribute("title",m),this._innerContainer=Ie("div","mapboxgl-ctrl-attrib-inner",this._container),l&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),l===void 0&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container}onRemove(){this._container.remove(),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0,this._attribHTML=void 0}_toggleAttribution(){this._container.classList.contains("mapboxgl-compact-show")?(this._container.classList.remove("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-expanded","false")):(this._container.classList.add("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-expanded","true"))}_updateEditLink(){let r=this._editLink;r||(r=this._editLink=this._container.querySelector(".mapbox-improve-map"));const l=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:this._map._requestManager._customAccessToken||c.e.ACCESS_TOKEN}];if(r){const m=l.reduce((_,x,E)=>(x.value&&(_+=`${x.key}=${x.value}${E<l.length-1?"&":""}`),_),"?");r.href=`${c.e.FEEDBACK_URL}/${m}#${Nm(this._map,!0)}`,r.rel="noopener nofollow"}}_updateData(r){!r||r.sourceDataType!=="metadata"&&r.sourceDataType!=="visibility"&&r.dataType!=="style"||(this._updateAttributions(),this._updateEditLink())}_updateAttributions(){if(!this._map.style)return;let r=[];if(this._map.style.stylesheet){const _=this._map.style.stylesheet;this.styleOwner=_.owner,this.styleId=_.id}const l=this._map.style._mergedSourceCaches;for(const _ in l){const x=l[_];if(x.used){const E=x.getSource();E.attribution&&r.indexOf(E.attribution)<0&&r.push(E.attribution)}}r.sort((_,x)=>_.length-x.length),r=r.filter((_,x)=>{for(let E=x+1;E<r.length;E++)if(r[E].indexOf(_)>=0)return!1;return!0}),this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?r=[...this.options.customAttribution,...r]:r.unshift(this.options.customAttribution));const m=r.join(" | ");m!==this._attribHTML&&(this._attribHTML=m,r.length?(this._innerContainer.innerHTML=m,this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null)}_updateCompact(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact","mapboxgl-compact-show")}}class jc{constructor(){c.aP(["_updateLogo","_updateCompact"],this)}onAdd(r){this._map=r,this._container=Ie("div","mapboxgl-ctrl");const l=Ie("a","mapboxgl-ctrl-logo");return l.target="_blank",l.rel="noopener nofollow",l.href="https://www.mapbox.com/",l.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),l.setAttribute("rel","noopener nofollow"),this._container.appendChild(l),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container}onRemove(){this._container.remove(),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)}getDefaultPosition(){return"bottom-left"}_updateLogo(r){r&&r.sourceDataType!=="metadata"||(this._container.style.display=this._logoRequired()?"block":"none")}_logoRequired(){if(!this._map.style)return!0;const r=this._map.style._sourceCaches;if(Object.entries(r).length===0)return!0;for(const l in r){const m=r[l].getSource();if(m.hasOwnProperty("mapbox_logo")&&!m.mapbox_logo)return!1}return!0}_updateCompact(){const r=this._container.children;if(r.length){const l=r[0];this._map.getCanvasContainer().offsetWidth<250?l.classList.add("mapboxgl-compact"):l.classList.remove("mapboxgl-compact")}}}class Ac{constructor(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1}add(r){const l=++this._id;return this._queue.push({callback:r,id:l,cancelled:!1}),l}remove(r){const l=this._currentlyRunning,m=l?this._queue.concat(l):this._queue;for(const _ of m)if(_.id===r)return void(_.cancelled=!0)}run(r=0){const l=this._currentlyRunning=this._queue;this._queue=[];for(const m of l)if(!m.cancelled&&(m.callback(r),this._cleared))break;this._cleared=!1,this._currentlyRunning=!1}clear(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]}}class Kl{constructor(r){this.jumpTo(r)}getValue(r){if(r<=this._startTime)return this._start;if(r>=this._endTime)return this._end;const l=c.cB((r-this._startTime)/(this._endTime-this._startTime));return this._start*(1-l)+this._end*l}isEasing(r){return r>=this._startTime&&r<=this._endTime}jumpTo(r){this._startTime=-1/0,this._endTime=-1/0,this._start=r,this._end=r}easeTo(r,l,m){this._start=this.getValue(l),this._end=r,this._startTime=l,this._endTime=l+m}}const sf={"AttributionControl.ToggleAttribution":"Toggle attribution","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox homepage","Map.Title":"Map","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScrollZoomBlocker.CtrlMessage":"Use ctrl + scroll to zoom the map","ScrollZoomBlocker.CmdMessage":"Use \u2318 + scroll to zoom the map","TouchPanBlocker.Message":"Use two fingers to move the map"};class lf extends c.z{constructor(r,l,m,_){const{point:x,lngLat:E,originalEvent:R,target:F}=r;super(r.type,{point:x,lngLat:E,originalEvent:R,target:F}),this.preventDefault=()=>{r.preventDefault()},this.id=l,this.interaction=m,this.feature=_}}class o0{constructor(r){this.map=r,this.interactionsByType=new Map,this.delegatedInteractions=new Map,this.typeById=new Map,this.filters=new Map,this.handleType=this.handleType.bind(this),this.handleMove=this.handleMove.bind(this),this.handleOut=this.handleOut.bind(this),this.hoveredFeatures=new Map,this.prevHoveredFeatures=new Map}add(r,l){if(this.typeById.has(r))throw new Error(`Interaction id "${r}" already exists.`);const m=l.filter;let _=l.type;m&&this.filters.set(r,c.aZ(m)),_==="mouseover"&&(_="mouseenter"),_==="mouseout"&&(_="mouseleave");const x=this.interactionsByType.get(_)||new Map;_==="mouseenter"||_==="mouseleave"?(this.delegatedInteractions.size===0&&(this.map.on("mousemove",this.handleMove),this.map.on("mouseout",this.handleOut)),this.delegatedInteractions.set(r,l)):x.size===0&&this.map.on(_,this.handleType),x.size===0&&this.interactionsByType.set(_,x),x.set(r,l),this.typeById.set(r,_)}get(r){const l=this.typeById.get(r);if(!l)return;const m=this.interactionsByType.get(l);return m?m.get(r):void 0}remove(r){const l=this.typeById.get(r);if(!l)return;this.typeById.delete(r),this.filters.delete(r);const m=this.interactionsByType.get(l);m&&(m.delete(r),l==="mouseenter"||l==="mouseleave"?(this.delegatedInteractions.delete(r),this.delegatedInteractions.size===0&&(this.map.off("mousemove",this.handleMove),this.map.off("mouseout",this.handleOut))):m.size===0&&this.map.off(l,this.handleType))}queryTargets(r,l){const m=[];for(const[_,x]of l)x.target&&m.push({targetId:_,target:x.target,filter:this.filters.get(_)});return this.map.style.queryRenderedTargets(r,m,this.map.transform)}handleMove(r){this.prevHoveredFeatures=this.hoveredFeatures,this.hoveredFeatures=new Map;const l=this.queryTargets(r.point,Array.from(this.delegatedInteractions).reverse());l.length&&(r.type="mouseenter",this.handleType(r,l));const m=new Map;for(const[_,{feature:x}]of this.prevHoveredFeatures)this.hoveredFeatures.has(_)||m.set(x.id,x);m.size&&(r.type="mouseleave",this.handleType(r,Array.from(m.values())))}handleOut(r){const l=Array.from(this.hoveredFeatures.values()).map(({feature:m})=>m);l.length&&(r.type="mouseleave",this.handleType(r,l)),this.hoveredFeatures.clear()}handleType(r,l){const m=Array.from(this.interactionsByType.get(r.type)).reverse(),_=!!l;l=l||this.queryTargets(r.point,m);const x=r.type==="mouseenter";let E=!1;const R=new Set;for(const F of l){for(const[V,U]of m){if(!U.target)continue;const Q=F.variants?F.variants[V]:null;if(Q){for(const ee of Q){if(sr(ee,F,R,V))continue;const ce=new c.cw(F,ee),Pe=Nn(ee,F,V);_&&(ce.state=this.map.getFeatureState(ce));const Se=x?this.prevHoveredFeatures.get(Pe):null,ze=new lf(r,V,U,ce),Le=Se?Se.stop:U.handler(ze);if(x&&this.hoveredFeatures.set(Pe,{feature:F,stop:Le}),Le!==!1){E=!0;break}}if(E)break}}if(E)break}if(!E)for(const[F,V]of m){const{handler:U,target:Q}=V;if(!Q&&U(new lf(r,F,V,null))!==!1)break}}}function hs(p,r){if(Array.isArray(p)&&Array.isArray(r)){const l=new Set(p),m=new Set(r);return l.size===m.size&&p.every(_=>m.has(_))}return c.bn(p,r)}const Pd={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:85,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,cooperativeGestures:!1,performanceMetricsCollection:!0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,antialias:!1,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,minTileCacheSize:null,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",localFontFamily:null,transformRequest:null,accessToken:null,fadeDuration:300,respectPrefersReducedMotion:!0,crossSourceCollisions:!0,collectResourceTiming:!1,testMode:!1,precompilePrograms:!0,scaleFactor:1,spriteFormat:"auto"},Dv={showCompass:!0,showZoom:!0,visualizePitch:!1};class Lv{constructor(r,l,m=!1){this._clickTolerance=10,this.element=l,this.mouseRotate=new Ru({clickTolerance:r.dragRotate._mouseRotate._clickTolerance}),this.map=r,m&&(this.mousePitch=new rf({clickTolerance:r.dragRotate._mousePitch._clickTolerance})),c.aP(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),l.addEventListener("mousedown",this.mousedown),l.addEventListener("touchstart",this.touchstart,{passive:!1}),l.addEventListener("touchmove",this.touchmove),l.addEventListener("touchend",this.touchend),l.addEventListener("touchcancel",this.reset)}down(r,l){this.mouseRotate.mousedown(r,l),this.mousePitch&&this.mousePitch.mousedown(r,l),ct()}move(r,l){const m=this.map,_=this.mouseRotate.mousemoveWindow(r,l),x=_&&_.bearingDelta;if(x&&m.setBearing(m.getBearing()+x),this.mousePitch){const E=this.mousePitch.mousemoveWindow(r,l),R=E&&E.pitchDelta;R&&m.setPitch(m.getPitch()+R)}}off(){const r=this.element;r.removeEventListener("mousedown",this.mousedown),r.removeEventListener("touchstart",this.touchstart,{passive:!1}),r.removeEventListener("touchmove",this.touchmove),r.removeEventListener("touchend",this.touchend),r.removeEventListener("touchcancel",this.reset),this.offTemp()}offTemp(){bt(),window.removeEventListener("mousemove",this.mousemove),window.removeEventListener("mouseup",this.mouseup)}mousedown(r){this.down(c.l({},r,{ctrlKey:!0,preventDefault:()=>r.preventDefault()}),vt(this.element,r)),window.addEventListener("mousemove",this.mousemove),window.addEventListener("mouseup",this.mouseup)}mousemove(r){this.move(r,vt(this.element,r))}mouseup(r){this.mouseRotate.mouseupWindow(r),this.mousePitch&&this.mousePitch.mouseupWindow(r),this.offTemp()}touchstart(r){r.targetTouches.length!==1?this.reset():(this._startPos=this._lastPos=Mt(this.element,r.targetTouches)[0],this.down({type:"mousedown",button:0,ctrlKey:!0,preventDefault:()=>r.preventDefault()},this._startPos))}touchmove(r){r.targetTouches.length!==1?this.reset():(this._lastPos=Mt(this.element,r.targetTouches)[0],this.move({preventDefault:()=>r.preventDefault()},this._lastPos))}touchend(r){r.targetTouches.length===0&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset()}reset(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()}}function Ip(p,r,l){if(p=new c.bO(p.lng,p.lat),r){const m=new c.bO(p.lng-360,p.lat),_=new c.bO(p.lng+360,p.lat),x=360*Math.ceil(Math.abs(p.lng-l.center.lng)/360),E=l.locationPoint(p).distSqr(r),R=r.x<0||r.y<0||r.x>l.width||r.y>l.height;l.locationPoint(m).distSqr(r)<E&&(R||Math.abs(m.lng-l.center.lng)<x)?p=m:l.locationPoint(_).distSqr(r)<E&&(R||Math.abs(_.lng-l.center.lng)<x)&&(p=_)}for(;Math.abs(p.lng-l.center.lng)>180;){const m=l.locationPoint(p);if(m.x>=0&&m.y>=0&&m.x<=l.width&&m.y<=l.height)break;p.lng>l.center.lng?p.lng-=360:p.lng+=360}return p}const $u={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};class gu extends c.E{constructor(r,l){if(super(),(r instanceof HTMLElement||l)&&(r=c.l({element:r},l)),c.aP(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress","_clearFadeTimer"],this),this._anchor=r&&r.anchor||"center",this._color=r&&r.color||"#3FB1CE",this._scale=r&&r.scale||1,this._draggable=r&&r.draggable||!1,this._clickTolerance=r&&r.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=r&&r.rotation||0,this._rotationAlignment=r&&r.rotationAlignment||"auto",this._pitchAlignment=r&&r.pitchAlignment&&r.pitchAlignment||"auto",this._updateMoving=()=>this._update(!0),this._occludedOpacity=r&&r.occludedOpacity||.2,r&&r.element)this._element=r.element,this._offset=c.P.convert(r&&r.offset||[0,0]);else{this._defaultMarker=!0,this._element=Ie("div");const x=41,E=27,R=Ue("svg",{display:"block",height:x*this._scale+"px",width:E*this._scale+"px",viewBox:`0 0 ${E} ${x}`},this._element),F=Ue("radialGradient",{id:"shadowGradient"},Ue("defs",{},R));Ue("stop",{offset:"10%","stop-opacity":.4},F),Ue("stop",{offset:"100%","stop-opacity":.05},F),Ue("ellipse",{cx:13.5,cy:34.8,rx:10.5,ry:5.25,fill:"url(#shadowGradient)"},R),Ue("path",{fill:this._color,d:"M27,13.5C27,19.07 20.25,27 14.75,34.5C14.02,35.5 12.98,35.5 12.25,34.5C6.75,27 0,19.22 0,13.5C0,6.04 6.04,0 13.5,0C20.96,0 27,6.04 27,13.5Z"},R),Ue("path",{opacity:.25,d:"M13.5,0C6.04,0 0,6.04 0,13.5C0,19.22 6.75,27 12.25,34.5C13,35.52 14.02,35.5 14.75,34.5C20.25,27 27,19.07 27,13.5C27,6.04 20.96,0 13.5,0ZM13.5,1C20.42,1 26,6.58 26,13.5C26,15.9 24.5,19.18 22.22,22.74C19.95,26.3 16.71,30.14 13.94,33.91C13.74,34.18 13.61,34.32 13.5,34.44C13.39,34.32 13.26,34.18 13.06,33.91C10.28,30.13 7.41,26.31 5.02,22.77C2.62,19.23 1,15.95 1,13.5C1,6.58 6.58,1 13.5,1Z"},R),Ue("circle",{fill:"white",cx:13.5,cy:13.5,r:5.5},R),this._offset=c.P.convert(r&&r.offset||[0,-14])}this._element.hasAttribute("aria-label")||this._element.setAttribute("aria-label","Map marker"),this._element.hasAttribute("role")||this._element.setAttribute("role","img"),this._element.classList.add("mapboxgl-marker"),this._element.addEventListener("dragstart",x=>{x.preventDefault()}),this._element.addEventListener("mousedown",x=>{x.preventDefault()});const m=this._element.classList;for(const x in $u)m.remove(`mapboxgl-marker-anchor-${x}`);m.add(`mapboxgl-marker-anchor-${this._anchor}`);const _=r&&r.className?r.className.trim().split(/\s+/):[];m.add(..._),this._popup=null}addTo(r){return r===this._map||(this.remove(),this._map=r,r.getCanvasContainer().appendChild(this._element),r.on("move",this._updateMoving),r.on("moveend",this._update),r.on("remove",this._clearFadeTimer),r._addMarker(this),this.setDraggable(this._draggable),this._update(),r.on("click",this._onMapClick)),this}remove(){const r=this._map;return r&&(r.off("click",this._onMapClick),r.off("move",this._updateMoving),r.off("moveend",this._update),r.off("mousedown",this._addDragHandler),r.off("touchstart",this._addDragHandler),r.off("mouseup",this._onUp),r.off("touchend",this._onUp),r.off("mousemove",this._onMove),r.off("touchmove",this._onMove),r.off("remove",this._clearFadeTimer),r._removeMarker(this),this._map=void 0),this._clearFadeTimer(),this._element.remove(),this._popup&&this._popup.remove(),this}getLngLat(){return this._lngLat}setLngLat(r){return this._lngLat=c.bO.convert(r),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(!0),this}getElement(){return this._element}setPopup(r){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeAttribute("role"),this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),r){if(!("offset"in r.options)){const _=Math.sqrt(Math.pow(13.5,2)/2);r.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[_,-1*(38.1-13.5+_)],"bottom-right":[-_,-1*(38.1-13.5+_)],left:[13.5,-1*(38.1-13.5)],right:[-13.5,-1*(38.1-13.5)]}:this._offset}this._popup=r,r._marker=this,this._lngLat&&this._popup.setLngLat(this._lngLat),this._element.setAttribute("role","button"),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress),this._element.setAttribute("aria-expanded","false")}return this}_onKeyPress(r){const l=r.code,m=r.charCode||r.keyCode;l!=="Space"&&l!=="Enter"&&m!==32&&m!==13||this.togglePopup()}_onMapClick(r){const l=r.originalEvent.target,m=this._element;this._popup&&(l===m||m.contains(l))&&this.togglePopup()}getPopup(){return this._popup}togglePopup(){const r=this._popup;return r?(r.isOpen()?(r.remove(),this._element.setAttribute("aria-expanded","false")):this._map&&(r.addTo(this._map),this._element.setAttribute("aria-expanded","true")),this):this}_behindTerrain(){const r=this._map,l=this._pos;if(!r||!l)return!1;const m=r.unproject(l),_=r.getFreeCameraOptions();if(!_.position)return!1;const x=_.position.toLngLat();return x.distanceTo(m)<.9*x.distanceTo(this._lngLat)}_evaluateOpacity(){const r=this._map;if(!r)return;const l=this._pos;if(!l||l.x<0||l.x>r.transform.width||l.y<0||l.y>r.transform.height)return void this._clearFadeTimer();const m=r.unproject(l);let _;r._showingGlobe()&&c.dH(r.transform,this._lngLat)?_=0:(_=1-r._queryFogOpacity(m),r.transform._terrainEnabled()&&r.getTerrain()&&this._behindTerrain()&&(_*=this._occludedOpacity)),this._element.style.opacity=`${_}`,this._element.style.pointerEvents=_>0?"auto":"none",this._popup&&this._popup._setOpacity(_),this._fadeTimer=null}_clearFadeTimer(){this._fadeTimer&&(clearTimeout(this._fadeTimer),this._fadeTimer=null)}_updateDOM(){const r=this._pos;if(!r||!this._map)return;const l=this._offset.mult(this._scale);this._element.style.transform=`
            translate(${r.x}px,${r.y}px)
            ${$u[this._anchor]}
            ${this._calculateXYTransform()} ${this._calculateZTransform()}
            translate(${l.x}px,${l.y}px)
        `}_calculateXYTransform(){const r=this._pos,l=this._map,m=this.getPitchAlignment();if(!l||!r||m!=="map")return"";if(!l._showingGlobe()){const F=l.getPitch();return F?`rotateX(${F}deg)`:""}const _=c.c4(c.dI(l.transform,this._lngLat)),x=r.sub(c.dJ(l.transform)),E=Math.abs(x.x)+Math.abs(x.y);if(E===0)return"";const R=_/E;return`rotateX(${-x.y*R}deg) rotateY(${x.x*R}deg)`}_calculateZTransform(){const r=this._pos,l=this._map;if(!l||!r)return"";let m=0;const _=this.getRotationAlignment();if(_==="map")if(l._showingGlobe()){const x=l.project(new c.bO(this._lngLat.lng,this._lngLat.lat+.001)),E=l.project(new c.bO(this._lngLat.lng,this._lngLat.lat-.001)).sub(x);m=c.c4(Math.atan2(E.y,E.x))-90}else m=-l.getBearing();else if(_==="horizon"){const x=c.ac(4,6,l.getZoom()),E=c.dJ(l.transform);E.y+=x*l.transform.height;const R=r.sub(E),F=c.c4(Math.atan2(R.y,R.x));m=(F>90?F-270:F+90)*(1-x)}return m+=this._rotation,m?`rotateZ(${m}deg)`:""}_update(r){cancelAnimationFrame(this._updateFrameId);const l=this._map;l&&(l.transform.renderWorldCopies&&(this._lngLat=Ip(this._lngLat,this._pos,l.transform)),this._pos=l.project(this._lngLat),r===!0?this._updateFrameId=requestAnimationFrame(()=>{this._element&&this._pos&&this._anchor&&(this._pos=this._pos.round(),this._updateDOM())}):this._pos=this._pos.round(),l._requestDomTask(()=>{this._map&&(this._element&&this._pos&&this._anchor&&this._updateDOM(),(l._showingGlobe()||l.getTerrain()||l.getFog())&&!this._fadeTimer&&(this._fadeTimer=window.setTimeout(this._evaluateOpacity.bind(this),60)))}))}getOffset(){return this._offset}setOffset(r){return this._offset=c.P.convert(r),this._update(),this}addClassName(r){return this._element.classList.add(r),this}removeClassName(r){return this._element.classList.remove(r),this}toggleClassName(r){return this._element.classList.toggle(r)}_onMove(r){const l=this._map;if(!l)return;const m=this._pointerdownPos,_=this._positionDelta;if(m&&_){if(!this._isDragging){const x=this._clickTolerance||l._clickTolerance;if(r.point.dist(m)<x)return;this._isDragging=!0}this._pos=r.point.sub(_),this._lngLat=l.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none",this._state==="pending"&&(this._state="active",this.fire(new c.z("dragstart"))),this.fire(new c.z("drag"))}}_onUp(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1;const r=this._map;r&&(r.off("mousemove",this._onMove),r.off("touchmove",this._onMove)),this._state==="active"&&this.fire(new c.z("dragend")),this._state="inactive"}_addDragHandler(r){const l=this._map,m=this._pos;l&&m&&this._element.contains(r.originalEvent.target)&&(r.preventDefault(),this._positionDelta=r.point.sub(m),this._pointerdownPos=r.point,this._state="pending",l.on("mousemove",this._onMove),l.on("touchmove",this._onMove),l.once("mouseup",this._onUp),l.once("touchend",this._onUp))}setDraggable(r){this._draggable=!!r;const l=this._map;return l&&(r?(l.on("mousedown",this._addDragHandler),l.on("touchstart",this._addDragHandler)):(l.off("mousedown",this._addDragHandler),l.off("touchstart",this._addDragHandler))),this}isDraggable(){return this._draggable}setRotation(r){return this._rotation=r||0,this._update(),this}getRotation(){return this._rotation}setRotationAlignment(r){return this._rotationAlignment=r||"auto",this._update(),this}getRotationAlignment(){return this._rotationAlignment==="auto"||this._rotationAlignment==="horizon"&&this._map&&!this._map._showingGlobe()?"viewport":this._rotationAlignment}setPitchAlignment(r){return this._pitchAlignment=r||"auto",this._update(),this}getPitchAlignment(){return this._pitchAlignment==="auto"?this.getRotationAlignment():this._pitchAlignment}setOccludedOpacity(r){return this._occludedOpacity=r||.2,this._update(),this}getOccludedOpacity(){return this._occludedOpacity}}const Mc={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0,showUserHeading:!1},Cc={maxWidth:100,unit:"metric"},Xl={kilometer:"km",meter:"m",mile:"mi",foot:"ft","nautical-mile":"nm"},a0={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},_l=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", ");function Um(p=new c.P(0,0),r="bottom"){if(typeof p=="number"){const l=Math.round(Math.sqrt(.5*Math.pow(p,2)));switch(r){case"top":return new c.P(0,p);case"top-left":return new c.P(l,l);case"top-right":return new c.P(-l,l);case"bottom":return new c.P(0,-p);case"bottom-left":return new c.P(l,-l);case"bottom-right":return new c.P(-l,-l);case"left":return new c.P(p,0);case"right":return new c.P(-p,0)}return new c.P(0,0)}return p instanceof c.P||Array.isArray(p)?c.P.convert(p):c.P.convert(p[r]||[0,0])}return{version:be,supported:Ve.supported,setRTLTextPlugin:c.dK,getRTLTextPluginStatus:c.dL,Map:class extends kf{constructor(p){De.mark(We.create);const r=p;if((p=c.l({},Pd,p)).minZoom!=null&&p.maxZoom!=null&&p.minZoom>p.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(p.minPitch!=null&&p.maxPitch!=null&&p.minPitch>p.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(p.minPitch!=null&&p.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(p.maxPitch!=null&&p.maxPitch>85)throw new Error("maxPitch must be less than or equal to 85");if(p.antialias&&c.dF(window)&&(p.antialias=!1,c.w("Antialiasing is disabled for this WebGL context to avoid browser bug: https://github.com/mapbox/mapbox-gl-js/issues/11609")),super(new lu(p.minZoom,p.maxZoom,p.minPitch,p.maxPitch,p.renderWorldCopies),p),this._repaint=!!p.repaint,this._interactive=p.interactive,this._minTileCacheSize=p.minTileCacheSize,this._maxTileCacheSize=p.maxTileCacheSize,this._failIfMajorPerformanceCaveat=p.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=p.preserveDrawingBuffer,this._antialias=p.antialias,this._trackResize=p.trackResize,this._bearingSnap=p.bearingSnap,this._refreshExpiredTiles=p.refreshExpiredTiles,this._fadeDuration=p.fadeDuration,this._isInitialLoad=!0,this._crossSourceCollisions=p.crossSourceCollisions,this._collectResourceTiming=p.collectResourceTiming,this._language=this._parseLanguage(p.language),this._worldview=p.worldview,this._renderTaskQueue=new Ac,this._domRenderTaskQueue=new Ac,this._controls=[],this._markers=[],this._popups=[],this._mapId=c.aV(),this._locale=c.l({},sf,p.locale),this._clickTolerance=p.clickTolerance,this._cooperativeGestures=p.cooperativeGestures,this._performanceMetricsCollection=p.performanceMetricsCollection,this._tessellationStep=p.tessellationStep,this._containerWidth=0,this._containerHeight=0,this._showParseStatus=!0,this._precompilePrograms=p.precompilePrograms,this._scaleFactorChanged=!1,this._averageElevationLastSampledAt=-1/0,this._averageElevationExaggeration=0,this._averageElevation=new Kl(0),this._interactionRange=[1/0,-1/0],this._visibilityHidden=0,this._useExplicitProjection=!1,this._frameId=0,this._scaleFactor=p.scaleFactor,this._requestManager=new Xn(p.transformRequest,p.accessToken,p.testMode),this._silenceAuthErrors=!!p.testMode,this._contextCreateOptions=p.contextCreateOptions?Object.assign({},p.contextCreateOptions):{},typeof p.container=="string"){const l=document.getElementById(p.container);if(!l)throw new Error(`Container '${p.container.toString()}' not found.`);this._container=l}else{if(!(p.container instanceof HTMLElement))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=p.container}if(this._container.childNodes.length>0&&c.w("The map container element should be empty, otherwise the map's interactivity will be negatively impacted. If you want to display a message when WebGL is not supported, use the Mapbox GL Supported plugin instead."),p.maxBounds&&this.setMaxBounds(p.maxBounds),this._spriteFormat=p.spriteFormat,c.aP(["_onWindowOnline","_onWindowResize","_onVisibilityChange","_onMapScroll","_contextLost","_contextRestored"],this),this._setupContainer(),this._tp||(this._tp=new Am),this._tp.registerParameter(this,["Debug"],"showOverdrawInspector"),this._tp.registerParameter(this,["Debug"],"showTileBoundaries"),this._tp.registerParameter(this,["Debug"],"showParseStatus"),this._tp.registerParameter(this,["Debug"],"repaint"),this._tp.registerParameter(this,["Debug"],"showTileAABBs"),this._tp.registerParameter(this,["Debug"],"showPadding"),this._tp.registerParameter(this,["Debug"],"showCollisionBoxes",{noSave:!0}),this._tp.registerParameter(this.transform,["Debug"],"freezeTileCoverage",{noSave:!0},()=>{this._update()}),this._tp.registerParameter(this,["Debug","Wireframe"],"showTerrainWireframe"),this._tp.registerParameter(this,["Debug","Wireframe"],"showLayers2DWireframe"),this._tp.registerParameter(this,["Debug","Wireframe"],"showLayers3DWireframe"),this._tp.registerParameter(this,["Scaling"],"_scaleFactor",{min:.1,max:10,step:.1},()=>{this.setScaleFactor(this._scaleFactor)}),this._setupPainter(),this.painter===void 0)throw new Error("Failed to initialize WebGL.");if(this.on("move",()=>this._update(!1)),this.on("moveend",()=>this._update(!1)),this.on("zoom",()=>this._update(!0)),this._fullscreenchangeEvent="onfullscreenchange"in document?"fullscreenchange":"webkitfullscreenchange",window.addEventListener("online",this._onWindowOnline,!1),window.addEventListener("resize",this._onWindowResize,!1),window.addEventListener("orientationchange",this._onWindowResize,!1),window.addEventListener(this._fullscreenchangeEvent,this._onWindowResize,!1),window.addEventListener("visibilitychange",this._onVisibilityChange,!1),this.handlers=new Md(this,p),this._localFontFamily=p.localFontFamily,this._localIdeographFontFamily=p.localIdeographFontFamily,(p.style||!p.testMode)&&this.setStyle(p.style||c.e.DEFAULT_STYLE,{config:p.config,localFontFamily:this._localFontFamily,localIdeographFontFamily:this._localIdeographFontFamily}),p.projection&&this.setProjection(p.projection),this.indoor=new ta(this),p.hash&&(this._hash=new eu(typeof p.hash=="string"&&p.hash||void 0).addTo(this)),!this._hash||!this._hash._onHashChange()){r.center==null&&r.zoom==null||(this.transform._unmodified=!1),this.jumpTo({center:p.center,zoom:p.zoom,bearing:p.bearing,pitch:p.pitch});const l=p.bounds;l&&(this.resize(),this.fitBounds(l,c.l({},p.fitBoundsOptions,{duration:0})))}this.resize(),p.attributionControl&&this.addControl(new $h({customAttribution:p.customAttribution})),this._logoControl=new jc,this.addControl(this._logoControl,p.logoPosition),this.on("style.load",()=>{this.transform.unmodified&&this.jumpTo(this.style.stylesheet),this._postStyleLoadEvent()}),this.on("data",l=>{this._update(l.dataType==="style"),this.fire(new c.z(`${l.dataType}data`,l))}),this.on("dataloading",l=>{this.fire(new c.z(`${l.dataType}dataloading`,l))}),this._interactions=new o0(this)}_getMapId(){return this._mapId}addControl(p,r){if(r===void 0&&(r=p.getDefaultPosition?p.getDefaultPosition():"top-right"),!p||!p.onAdd)return this.fire(new c.y(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));const l=p.onAdd(this);this._controls.push(p);const m=this._controlPositions[r];return r.indexOf("bottom")!==-1?m.insertBefore(l,m.firstChild):m.appendChild(l),this}removeControl(p){if(!p||!p.onRemove)return this.fire(new c.y(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));const r=this._controls.indexOf(p);return r>-1&&this._controls.splice(r,1),p.onRemove(this),this}hasControl(p){return this._controls.indexOf(p)>-1}getContainer(){return this._container}getCanvasContainer(){return this._canvasContainer}getCanvas(){return this._canvas}resize(p){if(this._updateContainerDimensions(),this._containerWidth===this.transform.width&&this._containerHeight===this.transform.height)return this;this._resizeCanvas(this._containerWidth,this._containerHeight),this.transform.resize(this._containerWidth,this._containerHeight),this.painter.resize(Math.ceil(this._containerWidth),Math.ceil(this._containerHeight));const r=!this._moving;return r&&this.fire(new c.z("movestart",p)).fire(new c.z("move",p)),this.fire(new c.z("resize",p)),r&&this.fire(new c.z("moveend",p)),this}getBounds(){return this.transform.getBounds()}getMaxBounds(){return this.transform.getMaxBounds()||null}setMaxBounds(p){return this.transform.setMaxBounds(c.az.convert(p)),this._update()}setMinZoom(p){if((p=p!=null?p:-2)>=-2&&p<=this.transform.maxZoom)return this.transform.minZoom=p,this._update(),this.getZoom()<p?this.setZoom(p):this.fire(new c.z("zoomstart")).fire(new c.z("zoom")).fire(new c.z("zoomend")),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")}getMinZoom(){return this.transform.minZoom}setMaxZoom(p){if((p=p!=null?p:22)>=this.transform.minZoom)return this.transform.maxZoom=p,this._update(),this.getZoom()>p?this.setZoom(p):this.fire(new c.z("zoomstart")).fire(new c.z("zoom")).fire(new c.z("zoomend")),this;throw new Error("maxZoom must be greater than the current minZoom")}getMaxZoom(){return this.transform.maxZoom}setMinPitch(p){if((p=p!=null?p:0)<0)throw new Error("minPitch must be greater than or equal to 0");if(p>=0&&p<=this.transform.maxPitch)return this.transform.minPitch=p,this._update(),this.getPitch()<p?this.setPitch(p):this.fire(new c.z("pitchstart")).fire(new c.z("pitch")).fire(new c.z("pitchend")),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")}getMinPitch(){return this.transform.minPitch}setMaxPitch(p){if((p=p!=null?p:85)>85)throw new Error("maxPitch must be less than or equal to 85");if(p>=this.transform.minPitch)return this.transform.maxPitch=p,this._update(),this.getPitch()>p?this.setPitch(p):this.fire(new c.z("pitchstart")).fire(new c.z("pitch")).fire(new c.z("pitchend")),this;throw new Error("maxPitch must be greater than or equal to minPitch")}getMaxPitch(){return this.transform.maxPitch}getScaleFactor(){return this._scaleFactor}setScaleFactor(p){return this._scaleFactor=p,this.painter.scaleFactor=p,this._tp.refreshUI(),this._scaleFactorChanged=!0,this.style._updateFilteredLayers(r=>r.type==="symbol"),this._update(!0),this}getRenderWorldCopies(){return this.transform.renderWorldCopies}setRenderWorldCopies(p){return this.transform.renderWorldCopies=p,this.transform.renderWorldCopies||this._forceMarkerAndPopupUpdate(!0),this._update()}getLanguage(){return this._language}_parseLanguage(p){return p==="auto"?navigator.language:Array.isArray(p)?p.length===0?void 0:p.map(r=>r==="auto"?navigator.language:r):p}setLanguage(p){const r=this._parseLanguage(p);if(!this.style||r===this._language)return this;this._language=r,this.style.reloadSources();for(const l of this._controls)l._setLanguage&&l._setLanguage(this._language);return this}getWorldview(){return this._worldview}setWorldview(p){return this.style&&p!==this._worldview?(this._worldview=p,this.style.reloadSources(),this):this}getProjection(){return this.transform.mercatorFromTransition?{name:"globe",center:[0,0]}:this.transform.getProjection()}_showingGlobe(){return this.transform.projection.name==="globe"}setProjection(p){return this._lazyInitEmptyStyle(),p?typeof p=="string"&&(p={name:p}):p=null,this._useExplicitProjection=!!p,this._prioritizeAndUpdateProjection(p,this.style.projection)}_updateProjectionTransition(){if(this.getProjection().name!=="globe")return;const p=this.transform,r=p.projection.name;let l;r==="globe"&&p.zoom>=c.bY?(p.setMercatorFromTransition(),l=!0):r==="mercator"&&p.zoom<c.bY&&(p.setProjection({name:"globe"}),l=!0),l&&(this.style.applyProjectionUpdate(),this.style._forceSymbolLayerUpdate())}_prioritizeAndUpdateProjection(p,r){return this._updateProjection(p||r||{name:"mercator"})}_updateProjection(p){let r;return r=p.name==="globe"&&this.transform.zoom>=c.bY?this.transform.setMercatorFromTransition():this.transform.setProjection(p),this.style.applyProjectionUpdate(),r&&(this.painter.clearBackgroundTiles(),this.style.clearSources(),this._update(!0),this._forceMarkerAndPopupUpdate(!0)),this}project(p){return this.transform.locationPoint3D(c.bO.convert(p))}unproject(p){return this.transform.pointLocation3D(c.P.convert(p))}isMoving(){return this._moving||this.handlers&&this.handlers.isMoving()||!1}isZooming(){return this._zooming||this.handlers&&this.handlers.isZooming()||!1}isRotating(){return this._rotating||this.handlers&&this.handlers.isRotating()||!1}_isDragging(){return this.handlers&&this.handlers._isDragging()||!1}_createDelegatedListener(p,r,l){const m=_=>{let x=[];if(Array.isArray(r)){const E=r.filter(R=>this.getLayer(R));x=E.length?this.queryRenderedFeatures(_,{layers:E}):[]}else x=this.queryRenderedFeatures(_,{target:r});return x};if(p==="mouseenter"||p==="mouseover"){let _=!1;return{listener:l,targets:r,delegates:{mousemove:E=>{const R=m(E.point);R.length?_||(_=!0,l.call(this,new Ic(p,this,E.originalEvent,{features:R}))):_=!1},mouseout:()=>{_=!1}}}}if(p==="mouseleave"||p==="mouseout"){let _=!1;return{listener:l,targets:r,delegates:{mousemove:R=>{m(R.point).length?_=!0:_&&(_=!1,l.call(this,new Ic(p,this,R.originalEvent)))},mouseout:R=>{_&&(_=!1,l.call(this,new Ic(p,this,R.originalEvent)))}}}}{const _=x=>{const E=m(x.point);E.length&&(x.features=E,l.call(this,x),delete x.features)};return{listener:l,targets:r,delegates:{[p]:_}}}}on(p,r,l){if(typeof r=="function"||l===void 0)return super.on(p,r);if(typeof r=="string"&&(r=[r]),!this._areTargetsValid(r))return this;const m=this._createDelegatedListener(p,r,l);this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[p]=this._delegatedListeners[p]||[],this._delegatedListeners[p].push(m);for(const _ in m.delegates)this.on(_,m.delegates[_]);return this}once(p,r,l){if(typeof r=="function"||l===void 0)return super.once(p,r);if(typeof r=="string"&&(r=[r]),!this._areTargetsValid(r))return this;const m=this._createDelegatedListener(p,r,l);for(const _ in m.delegates)this.once(_,m.delegates[_]);return this}off(p,r,l){if(typeof r=="function"||l===void 0)return super.off(p,r);if(typeof r=="string"&&(r=[r]),!this._areTargetsValid(r))return this;const m=this._delegatedListeners?this._delegatedListeners[p]:void 0;return m&&(_=>{for(let x=0;x<_.length;x++){const E=_[x];if(E.listener===l&&hs(E.targets,r)){for(const R in E.delegates)this.off(R,E.delegates[R]);return _.splice(x,1),this}}})(m),this}queryRenderedFeatures(p,r){if(!this.style)return[];if(p===void 0||p instanceof c.P||Array.isArray(p)||r!==void 0||(r=p,p=void 0),p=p||[[0,0],[this.transform.width,this.transform.height]],!r){const x=this.style.queryRenderedFeatures(p,void 0,this.transform),E=this.style.queryRenderedFeatureset(p,void 0,this.transform);return x.concat(E)}let l=!0;if(r.target&&(l=this._isTargetValid(r.target),l&&!r.layers))return this.style.queryRenderedFeatureset(p,r,this.transform);let m=!0;if(r.layers&&Array.isArray(r.layers)){for(const x of r.layers)if(!this._isValidId(x)){m=!1;break}if(m&&!r.target)return this.style.queryRenderedFeatures(p,r,this.transform)}let _=[];return m&&(_=_.concat(this.style.queryRenderedFeatures(p,r,this.transform))),l&&(_=_.concat(this.style.queryRenderedFeatureset(p,r,this.transform))),_}querySourceFeatures(p,r){return!p||typeof p=="string"&&!this._isValidId(p)?[]:this.style.querySourceFeatures(p,r)}isPointOnSurface(p){const{name:r}=this.transform.projection;return r!=="globe"&&r!=="mercator"&&c.w(`${r} projection does not support isPointOnSurface, this API may behave unexpectedly.`),this.transform.isPointOnSurface(c.P.convert(p))}addInteraction(p,r){return this._interactions.add(p,r),this}removeInteraction(p){return this._interactions.remove(p),this}setStyle(p,r){return r=c.l({},{localIdeographFontFamily:this._localIdeographFontFamily,localFontFamily:this._localFontFamily},r),this.style&&p&&r.diff!==!1&&r.localFontFamily===this._localFontFamily&&r.localIdeographFontFamily===this._localIdeographFontFamily&&!r.config?(this.style._diffStyle(p,(l,m)=>{l?(c.w(`Unable to perform style diff: ${String(l.message||l.error||l)}. Rebuilding the style from scratch.`),this._updateStyle(p,r)):m&&this._update(!0)},()=>{this._postStyleLoadEvent()}),this):(this._localIdeographFontFamily=r.localIdeographFontFamily,this._localFontFamily=r.localFontFamily,this._updateStyle(p,r))}_getUIString(p){const r=this._locale[p];if(r==null)throw new Error(`Missing UI string '${p}'`);return r}_updateStyle(p,r){if(this.style&&(this.style.setEventedParent(null),this.style._remove(),this.style=void 0),p){const l=c.l({},r);r&&r.config&&(l.initialConfig=r.config,delete l.config),this.style=new rs(this,l).load(p),this.style.setEventedParent(this,{style:this.style})}return this._updateTerrain(),this}_lazyInitEmptyStyle(){this.style||(this.style=new rs(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())}getStyle(){if(this.style)return this.style.serialize()}isStyleLoaded(){return this.style?this.style.loaded():(c.w("There is no style added to the map."),!1)}_isValidId(p){return p==null?(this.fire(new c.y(new Error("IDs can't be empty."))),!1):!c.cr(p)||(this.fire(new c.y(new Error(`IDs can't contain special symbols: "${p}".`))),!1)}_isTargetValid(p){return"featuresetId"in p?this._isValidId("importId"in p?p.importId:p.featuresetId):"layerId"in p&&this._isValidId(p.layerId)}_areTargetsValid(p){if(Array.isArray(p)){for(const r of p)if(!this._isValidId(r))return!1;return!0}return this._isTargetValid(p)}addSource(p,r){return this._isValidId(p)?(this._lazyInitEmptyStyle(),this.style.addSource(p,r),this._update(!0)):this}isSourceLoaded(p){return!!this._isValidId(p)&&!!this.style&&this.style._isSourceCacheLoaded(p)}areTilesLoaded(){return this.style.areTilesLoaded()}addSourceType(p,r,l){this._lazyInitEmptyStyle(),this.style.addSourceType(p,r,l)}removeSource(p){return this._isValidId(p)?(this.style.removeSource(p),this._updateTerrain(),this._update(!0)):this}getSource(p){return this._isValidId(p)?this.style.getOwnSource(p):null}addImage(p,r,{pixelRatio:l=1,sdf:m=!1,stretchX:_,stretchY:x,content:E}={}){if(this._lazyInitEmptyStyle(),r instanceof HTMLImageElement||ImageBitmap&&r instanceof ImageBitmap){const{width:R,height:F,data:V}=c.q.getImageData(r);this.style.addImage(p,{data:new c.r({width:R,height:F},V),pixelRatio:l,stretchX:_,stretchY:x,content:E,sdf:m,version:0,usvg:!1})}else if(r.width===void 0||r.height===void 0)this.fire(new c.y(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));else{const{width:R,height:F}=r,V=r;this.style.addImage(p,{data:new c.r({width:R,height:F},new Uint8Array(V.data)),pixelRatio:l,stretchX:_,stretchY:x,content:E,sdf:m,usvg:!1,version:0,userImage:V}),V.onAdd&&V.onAdd(this,p)}}updateImage(p,r){this._lazyInitEmptyStyle();const l=this.style.getImage(p);if(!l)return void this.fire(new c.y(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));const m=r instanceof HTMLImageElement||ImageBitmap&&r instanceof ImageBitmap?c.q.getImageData(r):r,{width:_,height:x,data:E}=m;if(_===void 0||x===void 0)return void this.fire(new c.y(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));if(_!==(l.usvg?l.icon.usvg_tree.width:l.data.width)||x!==(l.usvg?l.icon.usvg_tree.height:l.data.height))return void this.fire(new c.y(new Error(`The width and height of the updated image (${_}, ${x})
                must be that same as the previous version of the image
                (${l.data.width}, ${l.data.height})`)));const R=!(r instanceof HTMLImageElement||ImageBitmap&&r instanceof ImageBitmap);let F=!1;l.usvg?(l.data=new c.r({width:_,height:x},new Uint8Array(E)),l.usvg=!1,l.icon=void 0,F=!0):l.data.replace(E,R),this.style.updateImage(p,l,F)}hasImage(p){return p?!!this.style&&!!this.style.getImage(p):(this.fire(new c.y(new Error("Missing required image id"))),!1)}removeImage(p){this.style.removeImage(p)}loadImage(p,r){c.o(this._requestManager.transformRequest(p,c.R.Image),(l,m)=>{r(l,m instanceof HTMLImageElement?c.q.getImageData(m):m)})}listImages(){return this.style.listImages()}addModel(p,r){this._lazyInitEmptyStyle(),this.style.addModel(p,r)}hasModel(p){return p?this.style.hasModel(p):(this.fire(new c.y(new Error("Missing required model id"))),!1)}removeModel(p){this.style.removeModel(p)}listModels(){return this.style.listModels()}addLayer(p,r){return this._isValidId(p.id)?(this._lazyInitEmptyStyle(),this.style.addLayer(p,r),this._update(!0)):this}getSlot(p){const r=this.getLayer(p);return r&&r.slot||null}setSlot(p,r){return this.style.setSlot(p,r),this.style.mergeLayers(),this._update(!0)}addImport(p,r){return this.style.addImport(p,r),this}updateImport(p,r){return typeof r!="string"&&r.id!==p?(this.removeImport(p),this.addImport(r)):(this.style.updateImport(p,r),this._update(!0))}removeImport(p){return this.style.removeImport(p),this}moveImport(p,r){return this.style.moveImport(p,r),this._update(!0)}moveLayer(p,r){return this._isValidId(p)?(this.style.moveLayer(p,r),this._update(!0)):this}removeLayer(p){return this._isValidId(p)?(this.style.removeLayer(p),this._update(!0)):this}getLayer(p){if(!this._isValidId(p))return null;const r=this.style.getOwnLayer(p);return r?r.type==="custom"?r.implementation:r.serialize():void 0}getSlots(){return this.style.getSlots()}setLayerZoomRange(p,r,l){return this._isValidId(p)?(this.style.setLayerZoomRange(p,r,l),this._update(!0)):this}setFilter(p,r,l={}){return this._isValidId(p)?(this.style.setFilter(p,r,l),this._update(!0)):this}getFilter(p){return this._isValidId(p)?this.style.getFilter(p):null}setPaintProperty(p,r,l,m={}){return this._isValidId(p)?(this.style.setPaintProperty(p,r,l,m),this._update(!0)):this}getPaintProperty(p,r){return this._isValidId(p)?this.style.getPaintProperty(p,r):null}setLayoutProperty(p,r,l,m={}){return this._isValidId(p)?(this.style.setLayoutProperty(p,r,l,m),this._update(!0)):this}getLayoutProperty(p,r){return this._isValidId(p)?this.style.getLayoutProperty(p,r):null}getSchema(p){return this.style.getSchema(p)}setSchema(p,r){return this.style.setSchema(p,r),this._update(!0)}getConfig(p){return this.style.getConfig(p)}setConfig(p,r){return this.style.setConfig(p,r),this._update(!0)}getConfigProperty(p,r){return this.style.getConfigProperty(p,r)}setConfigProperty(p,r,l){return this.style.setConfigProperty(p,r,l),this._update(!0)}getFeaturesetDescriptors(p){return this.style.getFeaturesetDescriptors(p)}setLights(p){if(this._lazyInitEmptyStyle(),p&&p.length===1&&p[0].type==="flat"){const r=p[0];r.properties?this.style.setFlatLight(r.properties,r.id,{}):this.style.setFlatLight({},"flat")}else this.style.setLights(p),this.painter.terrain&&(this.painter.terrain.invalidateRenderCache=!0);return this._update(!0)}getLights(){const p=this.style.getLights()||[];return p.length===0&&p.push({id:this.style.light.id,type:"flat",properties:this.style.getFlatLight()}),p}setLight(p,r={}){return console.log("The `map.setLight` function is deprecated, prefer using `map.setLights` with `flat` light type instead."),this.setLights([{id:"flat",type:"flat",properties:p}])}getLight(){return console.log("The `map.getLight` function is deprecated, prefer using `map.getLights` instead."),this.style.getFlatLight()}setTerrain(p){return this._lazyInitEmptyStyle(),!p&&this.transform.projection.requiresDraping?this.style.setTerrainForDraping():this.style.setTerrain(p),this._averageElevationLastSampledAt=-1/0,this._update(!0)}getTerrain(){return this.style?this.style.getTerrain():null}setFog(p){return this._lazyInitEmptyStyle(),this.style.setFog(p),this._update(!0)}getFog(){return this.style?this.style.getFog():null}setSnow(p){return this._lazyInitEmptyStyle(),this.style.setSnow(p),this._update(!0)}getSnow(){return this.style?this.style.getSnow():null}setRain(p){return this._lazyInitEmptyStyle(),this.style.setRain(p),this._update(!0)}getRain(){return this.style?this.style.getRain():null}setColorTheme(p){return this._lazyInitEmptyStyle(),this.style.setColorTheme(p),this._update(!0)}setImportColorTheme(p,r){return this._lazyInitEmptyStyle(),this.style.setImportColorTheme(p,r),this._update(!0)}setCamera(p){return this.style.setCamera(p),this._triggerCameraUpdate(p)}_triggerCameraUpdate(p){return this._update(this.transform.setOrthographicProjectionAtLowPitch(p["camera-projection"]==="orthographic"))}getCamera(){return this.style.camera}_queryFogOpacity(p){return this.style&&this.style.fog?this.style.fog.getOpacityAtLatLng(c.bO.convert(p),this.transform):0}setFeatureState(p,r){return p.source&&!this._isValidId(p.source)?this:(this.style.setFeatureState(p,r),this._update())}removeFeatureState(p,r){return p.source&&!this._isValidId(p.source)?this:(this.style.removeFeatureState(p,r),this._update())}getFeatureState(p){return p.source&&!this._isValidId(p.source)?null:this.style.getFeatureState(p)}_updateContainerDimensions(){if(!this._container)return;const p=this._container.getBoundingClientRect().width||400,r=this._container.getBoundingClientRect().height||300;let l,m,_,x=this._container;for(;x&&(!m||!_);){const E=window.getComputedStyle(x).transform;E&&E!=="none"&&(l=E.match(/matrix.*\((.+)\)/)[1].split(", "),l[0]&&l[0]!=="0"&&l[0]!=="1"&&(m=l[0]),l[3]&&l[3]!=="0"&&l[3]!=="1"&&(_=l[3])),x=x.parentElement}this._containerWidth=m?Math.abs(p/m):p,this._containerHeight=_?Math.abs(r/_):r}_detectMissingCSS(){window.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color")!=="rgb(250, 128, 114)"&&c.w("This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.")}_setupContainer(){const p=this._container;p.classList.add("mapboxgl-map"),(this._missingCSSCanary=Ie("div","mapboxgl-canary",p)).style.visibility="hidden",this._detectMissingCSS();const r=this._canvasContainer=Ie("div","mapboxgl-canvas-container",p);this._canvas=Ie("canvas","mapboxgl-canvas",r),this._interactive&&(r.classList.add("mapboxgl-interactive"),this._canvas.setAttribute("tabindex","0")),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("aria-label",this._getUIString("Map.Title")),this._canvas.setAttribute("role","region"),this._updateContainerDimensions(),this._resizeCanvas(this._containerWidth,this._containerHeight);const l=this._controlContainer=Ie("div","mapboxgl-control-container",p),m=this._controlPositions={};["top-left","top","top-right","right","bottom-right","bottom","bottom-left","left"].forEach(_=>{m[_]=Ie("div",`mapboxgl-ctrl-${_}`,l)}),this._container.addEventListener("scroll",this._onMapScroll,!1)}_resizeCanvas(p,r){const l=c.q.devicePixelRatio||1;this._canvas.width=l*Math.ceil(p),this._canvas.height=l*Math.ceil(r),this._canvas.style.width=`${p}px`,this._canvas.style.height=`${r}px`}_addMarker(p){this._markers.push(p)}_removeMarker(p){const r=this._markers.indexOf(p);r!==-1&&this._markers.splice(r,1)}_addPopup(p){this._popups.push(p)}_removePopup(p){const r=this._popups.indexOf(p);r!==-1&&this._popups.splice(r,1)}_setupPainter(){const p=c.l({},Ve.supported.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),r=this._canvas.getContext("webgl2",p);r?(Ur(r,!0),this.painter=new Qd(r,this._contextCreateOptions,this.transform,this._scaleFactor,this._tp),this.on("data",l=>{l.dataType==="source"&&this.painter.setTileLoadedFlag(!0)}),c.m.testSupport(r)):this.fire(new c.y(new Error("Failed to initialize WebGL")))}_contextLost(p){p.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new c.z("webglcontextlost",{originalEvent:p}))}_contextRestored(p){this._setupPainter(),this.painter.resize(Math.ceil(this._containerWidth),Math.ceil(this._containerHeight)),this._updateTerrain(),this.style.reloadModels(),this.style.clearSources(),this._update(),this.fire(new c.z("webglcontextrestored",{originalEvent:p}))}_onMapScroll(p){if(p.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1}idle(){return!this.isMoving()&&this.loaded()}loaded(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()}frameReady(){return this.loaded()&&!this._placementDirty}_update(p){return this.style?(this._styleDirty=this._styleDirty||p,this._sourcesDirty=!0,this.triggerRepaint(),this):this}_requestRenderFrame(p){return this._update(),this._renderTaskQueue.add(p)}_cancelRenderFrame(p){this._renderTaskQueue.remove(p)}_requestDomTask(p){!this.loaded()||this.loaded()&&!this.isMoving()?p():this._domRenderTaskQueue.add(p)}_render(p){let r;this.fire(new c.z("renderstart")),++this._frameId;const l=this.painter.context.extTimerQuery,m=c.q.now(),_=this.painter.context.gl;if(this.listens("gpu-timing-frame")&&(r=_.createQuery(),_.beginQuery(l.TIME_ELAPSED_EXT,r)),this.painter.context.setDirty(),this.painter.setBaseState(),(this.isMoving()||this.isRotating()||this.isZooming())&&(this._interactionRange[0]=Math.min(this._interactionRange[0],performance.now()),this._interactionRange[1]=Math.max(this._interactionRange[1],performance.now())),this._renderTaskQueue.run(p),this._domRenderTaskQueue.run(p),this._removed)return;this._updateProjectionTransition();const x=this._isInitialLoad?0:this._fadeDuration;if(this.style&&this._styleDirty){this._styleDirty=!1;const V=this.transform.zoom,U=this.transform.pitch,Q=c.q.now(),ee=new c.a8(V,{now:Q,fadeDuration:x,pitch:U,transition:this.style.transition});this.style.update(ee)}this.style&&this.style.hasFogTransition()&&(this.style._markersNeedUpdate=!0,this._sourcesDirty=!0);let E=!1;this.style&&this._sourcesDirty?(this._sourcesDirty=!1,this.painter._updateFog(this.style),this._updateTerrain(),E=this._updateAverageElevation(m),this.style.updateSources(this.transform),this._forceMarkerAndPopupUpdate()):E=this._updateAverageElevation(m);const R=this.style&&this.style._updatePlacement(this.painter,this.painter.transform,this.showCollisionBoxes,x,this._crossSourceCollisions,this.painter.replacementSource,this._scaleFactorChanged);if(this._scaleFactorChanged&&(this._scaleFactorChanged=!1),R&&(this._placementDirty=R.needsRerender),this.style&&this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showParseStatus:this.showParseStatus,wireframe:{terrain:this.showTerrainWireframe,layers2D:this.showLayers2DWireframe,layers3D:this.showLayers3DWireframe},showOverdrawInspector:this._showOverdrawInspector,showQueryGeometry:!!this._showQueryGeometry,showTileAABBs:this.showTileAABBs,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:x,isInitialLoad:this._isInitialLoad,showPadding:this.showPadding,gpuTiming:!!this.listens("gpu-timing-layer"),gpuTimingDeferredRender:!!this.listens("gpu-timing-deferred-render"),speedIndexTiming:this.speedIndexTiming}),this.fire(new c.z("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,De.mark(We.load),this.fire(new c.z("load"))),this.style&&this.style.hasTransitions()&&(this._styleDirty=!0),this.style&&(this.style.snow||this.style.rain)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),r){const V=c.q.now()-m;_.endQuery(l.TIME_ELAPSED_EXT),setTimeout(()=>{const U=_.getQueryParameter(r,_.QUERY_RESULT)/1e6;_.deleteQuery(r),this.fire(new c.z("gpu-timing-frame",{cpuTime:V,gpuTime:U}))},50)}if(this.listens("gpu-timing-layer")){const V=this.painter.collectGpuTimers();setTimeout(()=>{const U=this.painter.queryGpuTimers(V);this.fire(new c.z("gpu-timing-layer",{layerTimes:U}))},50)}if(this.listens("gpu-timing-deferred-render")){const V=this.painter.collectDeferredRenderGpuQueries();setTimeout(()=>{const U=this.painter.queryGpuTimeDeferredRender(V);this.fire(new c.z("gpu-timing-deferred-render",{gpuTime:U}))},50)}const F=this._sourcesDirty||this._styleDirty||this._placementDirty||E;if(F||this._repaint)this.triggerRepaint();else{const V=this.idle();if(V&&(E=this._updateAverageElevation(m,!0)),E)this.triggerRepaint();else if(this._triggerFrame(!1),V&&(this.fire(new c.z("idle")),this._isInitialLoad=!1,this.speedIndexTiming)){const U=this._calculateSpeedIndex();this.fire(new c.z("speedindexcompleted",{speedIndex:U})),this.speedIndexTiming=!1}}!this._loaded||this._fullyLoaded||F||(this._fullyLoaded=!0,De.mark(We.fullLoad),this._performanceMetricsCollection&&xi(this._requestManager._customAccessToken,{width:this.painter.width,height:this.painter.height,interactionRange:this._interactionRange,visibilityHidden:this._visibilityHidden,terrainEnabled:!!this.painter.style.getTerrain(),fogEnabled:!!this.painter.style.getFog(),projection:this.getProjection().name,zoom:this.transform.zoom,renderer:this.painter.context.renderer,vendor:this.painter.context.vendor}),this._authenticate())}_forceMarkerAndPopupUpdate(p){for(const r of this._markers)p&&!this.getRenderWorldCopies()&&(r._lngLat=r._lngLat.wrap()),r._update();for(const r of this._popups)!p||this.getRenderWorldCopies()||r._trackPointer||(r._lngLat=r._lngLat.wrap()),r._update()}_updateAverageElevation(p,r=!1){const l=_=>(this.transform.averageElevation=_,this._update(!1),!0);if(!this.painter.averageElevationNeedsEasing())return this.transform.averageElevation!==0&&l(0);const m=this.transform.elevation&&this.transform.elevation.exaggeration()!==this._averageElevationExaggeration;if(m||(r||p-this._averageElevationLastSampledAt>500)&&!this._averageElevation.isEasing(p)){const _=this.transform.averageElevation;let x=this.transform.sampleAverageElevation();this.transform.elevation!=null&&(this._averageElevationExaggeration=this.transform.elevation.exaggeration()),isNaN(x)?x=0:this._averageElevationLastSampledAt=p;const E=Math.abs(_-x);if(E>1){if(this._isInitialLoad||m)return this._averageElevation.jumpTo(x),l(x);this._averageElevation.easeTo(x,p,300)}else if(E>1e-4)return this._averageElevation.jumpTo(x),l(x)}return!!this._averageElevation.isEasing(p)&&l(this._averageElevation.getValue(p))}_authenticate(){Ae(this._getMapId(),this._requestManager._skuToken,this._requestManager._customAccessToken,p=>{if(p&&(p.message===lr||p.status===401)){const r=this.painter.context.gl;Ur(r,!1),this._logoControl instanceof jc&&this._logoControl._updateLogo(),r&&r.clear(r.DEPTH_BUFFER_BIT|r.COLOR_BUFFER_BIT|r.STENCIL_BUFFER_BIT),this._silenceAuthErrors||this.fire(new c.y(new Error("A valid Mapbox access token is required to use Mapbox GL JS. To create an account or a new access token, visit https://account.mapbox.com/")))}}),Jt(this._getMapId(),this._requestManager._skuToken,this._requestManager._customAccessToken,()=>{})}_postStyleLoadEvent(){this.style.globalId&&he(this._requestManager._customAccessToken,{map:this,skuToken:this._requestManager._skuToken,style:this.style.globalId,importedStyles:this.style.getImportGlobalIds()})}_updateTerrain(){const p=this._isDragging();this.painter.updateTerrain(this.style,p)}_calculateSpeedIndex(){const p=this.painter.canvasCopy(),r=this.painter.getCanvasCopiesAndTimestamps();r.timeStamps.push(performance.now());const l=this.painter.context.gl,m=l.createFramebuffer();function _(x){l.framebufferTexture2D(l.FRAMEBUFFER,l.COLOR_ATTACHMENT0,l.TEXTURE_2D,x,0);const E=new Uint8Array(l.drawingBufferWidth*l.drawingBufferHeight*4);return l.readPixels(0,0,l.drawingBufferWidth,l.drawingBufferHeight,l.RGBA,l.UNSIGNED_BYTE,E),E}return l.bindFramebuffer(l.FRAMEBUFFER,m),this._canvasPixelComparison(_(p),r.canvasCopies.map(_),r.timeStamps)}_canvasPixelComparison(p,r,l){let m=l[1]-l[0];const _=p.length/4;for(let x=0;x<r.length;x++){const E=r[x];let R=0;for(let F=0;F<E.length;F+=4)E[F]===p[F]&&E[F+1]===p[F+1]&&E[F+2]===p[F+2]&&E[F+3]===p[F+3]&&(R+=1);m+=(l[x+2]-l[x+1])*(1-R/_)}return m}remove(){this._hash&&this._hash.remove();for(const r of this._controls)r.onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this._domRenderTaskQueue.clear(),this.style&&this.style.destroy(),this.indoor.destroy(),this.painter.destroy(),this.handlers&&this.handlers.destroy(),this.handlers=void 0,this.setStyle(null),window.removeEventListener("resize",this._onWindowResize,!1),window.removeEventListener("orientationchange",this._onWindowResize,!1),window.removeEventListener(this._fullscreenchangeEvent,this._onWindowResize,!1),window.removeEventListener("online",this._onWindowOnline,!1),window.removeEventListener("visibilitychange",this._onVisibilityChange,!1);const p=this.painter.context.gl.getExtension("WEBGL_lose_context");p&&p.loseContext(),this._canvas.removeEventListener("webglcontextlost",this._contextLost,!1),this._canvas.removeEventListener("webglcontextrestored",this._contextRestored,!1),this._canvasContainer.remove(),this._controlContainer.remove(),this._missingCSSCanary.remove(),this._canvas=void 0,this._canvasContainer=void 0,this._controlContainer=void 0,this._missingCSSCanary=void 0,this._container.classList.remove("mapboxgl-map"),this._container.removeEventListener("scroll",this._onMapScroll,!1),An.delete(this.painter.context.gl),ui.remove(),ut.remove(),this._removed=!0,this.fire(new c.z("remove"))}triggerRepaint(){this._triggerFrame(!0)}_triggerFrame(p){this._renderNextFrame=this._renderNextFrame||p,this.style&&!this._frame&&(this._frame=c.q.frame(r=>{const l=!!this._renderNextFrame;this._frame=null,this._renderNextFrame=null,l&&this._render(r)}))}_preloadTiles(p){const r=this.style?this.style.getSourceCaches():[];return c.bl(r,(l,m)=>l._preloadTiles(p,m),()=>{this.triggerRepaint()}),this}_onWindowOnline(){this._update()}_onWindowResize(p){this._trackResize&&this.resize({originalEvent:p})._update()}_onVisibilityChange(){document.visibilityState==="hidden"&&this._visibilityHidden++}get showTileBoundaries(){return!!this._showTileBoundaries}set showTileBoundaries(p){this._showTileBoundaries!==p&&(this._showTileBoundaries=p,this._tp.refreshUI(),this._update())}get showParseStatus(){return!!this._showParseStatus}set showParseStatus(p){this._showParseStatus!==p&&(this._showParseStatus=p,this._tp.refreshUI(),this._update())}get showTerrainWireframe(){return!!this._showTerrainWireframe}set showTerrainWireframe(p){this._showTerrainWireframe!==p&&(this._showTerrainWireframe=p,this._tp.refreshUI(),this._update())}get showLayers2DWireframe(){return!!this._showLayers2DWireframe}set showLayers2DWireframe(p){this._showLayers2DWireframe!==p&&(this._showLayers2DWireframe=p,this._tp.refreshUI(),this._update())}get showLayers3DWireframe(){return!!this._showLayers3DWireframe}set showLayers3DWireframe(p){this._showLayers3DWireframe!==p&&(this._showLayers3DWireframe=p,this._tp.refreshUI(),this._update())}get speedIndexTiming(){return!!this._speedIndexTiming}set speedIndexTiming(p){this._speedIndexTiming!==p&&(this._speedIndexTiming=p,this._update())}get showPadding(){return!!this._showPadding}set showPadding(p){this._showPadding!==p&&(this._showPadding=p,this._tp.refreshUI(),this._update())}get showCollisionBoxes(){return!!this._showCollisionBoxes}set showCollisionBoxes(p){this._showCollisionBoxes!==p&&(this._showCollisionBoxes=p,this._tp.refreshUI(),p?this.style._generateCollisionBoxes():this._update())}get showOverdrawInspector(){return!!this._showOverdrawInspector}set showOverdrawInspector(p){this._showOverdrawInspector!==p&&(this._showOverdrawInspector=p,this._tp.refreshUI(),this._update())}get repaint(){return!!this._repaint}set repaint(p){this._repaint!==p&&(this._repaint=p,this._tp.refreshUI(),this.triggerRepaint())}get vertices(){return!!this._vertices}set vertices(p){this._vertices=p,this._update()}get showTileAABBs(){return!!this._showTileAABBs}set showTileAABBs(p){this._showTileAABBs!==p&&(this._showTileAABBs=p,this._tp.refreshUI(),p&&this._update())}_setCacheLimits(p,r){c.dG(p,r)}get version(){return be}},NavigationControl:class{constructor(p={}){this.options=c.l({},Dv,p),this._container=Ie("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",r=>r.preventDefault()),this.options.showZoom&&(c.aP(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("mapboxgl-ctrl-zoom-in",r=>{this._map&&this._map.zoomIn({},{originalEvent:r})}),Ie("span","mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden","true"),this._zoomOutButton=this._createButton("mapboxgl-ctrl-zoom-out",r=>{this._map&&this._map.zoomOut({},{originalEvent:r})}),Ie("span","mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden","true")),this.options.showCompass&&(c.aP(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-compass",r=>{const l=this._map;l&&(this.options.visualizePitch?l.resetNorthPitch({},{originalEvent:r}):l.resetNorth({},{originalEvent:r}))}),this._compassIcon=Ie("span","mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden","true"))}_updateZoomButtons(){const p=this._map;if(!p)return;const r=p.getZoom(),l=r===p.getMaxZoom(),m=r===p.getMinZoom();this._zoomInButton.disabled=l,this._zoomOutButton.disabled=m,this._zoomInButton.setAttribute("aria-disabled",l.toString()),this._zoomOutButton.setAttribute("aria-disabled",m.toString())}_rotateCompassArrow(){const p=this._map;if(!p)return;const r=this.options.visualizePitch?`scale(${1/Math.pow(Math.cos(p.transform.pitch*(Math.PI/180)),.5)}) rotateX(${p.transform.pitch}deg) rotateZ(${p.transform.angle*(180/Math.PI)}deg)`:`rotate(${p.transform.angle*(180/Math.PI)}deg)`;p._requestDomTask(()=>{this._compassIcon&&(this._compassIcon.style.transform=r)})}onAdd(p){return this._map=p,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),p.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&p.on("pitch",this._rotateCompassArrow),p.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new Lv(p,this._compass,this.options.visualizePitch)),this._container}onRemove(){const p=this._map;p&&(this._container.remove(),this.options.showZoom&&p.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&p.off("pitch",this._rotateCompassArrow),p.off("rotate",this._rotateCompassArrow),this._handler&&this._handler.off(),this._handler=void 0),this._map=void 0)}_createButton(p,r){const l=Ie("button",p,this._container);return l.type="button",l.addEventListener("click",r),l}_setButtonTitle(p,r){if(!this._map)return;const l=this._map._getUIString(`NavigationControl.${r}`);p.setAttribute("aria-label",l),p.firstElementChild&&p.firstElementChild.setAttribute("title",l)}},GeolocateControl:class extends c.E{constructor(p={}){super();const r=navigator.geolocation;this.options=c.l({geolocation:r},Mc,p),c.aP(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker","_updateMarkerRotation","_onDeviceOrientation"],this),this._updateMarkerRotationThrottled=bp(this._updateMarkerRotation,20),this._numberOfWatches=0}onAdd(p){return this._map=p,this._container=Ie("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkGeolocationSupport(this._setupUI),this._container}onRemove(){this._geolocationWatchID!==void 0&&(this.options.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),this._container.remove(),this._map.off("zoom",this._onZoom),this._map=void 0,this._numberOfWatches=0,this._noTimeout=!1}_checkGeolocationSupport(p){const r=(l=!!this.options.geolocation)=>{this._supportsGeolocation=l,p(l)};this._supportsGeolocation!==void 0?p(this._supportsGeolocation):navigator.permissions!==void 0?navigator.permissions.query({name:"geolocation"}).then(l=>r(l.state!=="denied")).catch(()=>r()):r()}_isOutOfMapMaxBounds(p){const r=this._map.getMaxBounds(),l=p.coords;return!!r&&(l.longitude<r.getWest()||l.longitude>r.getEast()||l.latitude<r.getSouth()||l.latitude>r.getNorth())}_setErrorState(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting")}}_onSuccess(p){if(this._map){if(this._isOutOfMapMaxBounds(p))return this._setErrorState(),this.fire(new c.z("outofmaxbounds",p)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=p,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background")}this.options.showUserLocation&&this._watchState!=="OFF"&&this._updateMarker(p),this.options.trackUserLocation&&this._watchState!=="ACTIVE_LOCK"||this._updateCamera(p),this.options.showUserLocation&&this._userLocationDotMarker.removeClassName("mapboxgl-user-location-dot-stale"),this.fire(new c.z("geolocate",p)),this._finish()}}_updateCamera(p){const r=new c.bO(p.coords.longitude,p.coords.latitude),l=p.coords.accuracy,m=this._map.getBearing(),_=c.l({bearing:m},this.options.fitBoundsOptions);this._map.fitBounds(r.toBounds(l),_,{geolocateSource:!0})}_updateMarker(p){if(p){const r=new c.bO(p.coords.longitude,p.coords.latitude);this._accuracyCircleMarker.setLngLat(r).addTo(this._map),this._userLocationDotMarker.setLngLat(r).addTo(this._map),this._accuracy=p.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()}_updateCircleRadius(){const p=this._map.transform,r=c.bH(1,p._center.lat)*p.worldSize,l=Math.ceil(2*this._accuracy*r);this._circleElement.style.width=`${l}px`,this._circleElement.style.height=`${l}px`}_onZoom(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}_updateMarkerRotation(){this._userLocationDotMarker&&typeof this._heading=="number"?(this._userLocationDotMarker.setRotation(this._heading),this._userLocationDotMarker.addClassName("mapboxgl-user-location-show-heading")):(this._userLocationDotMarker.removeClassName("mapboxgl-user-location-show-heading"),this._userLocationDotMarker.setRotation(0))}_onError(p){if(this._map){if(this.options.trackUserLocation)if(p.code===1){this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;const r=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.setAttribute("aria-label",r),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",r),this._geolocationWatchID!==void 0&&this._clearWatch()}else{if(p.code===3&&this._noTimeout)return;this._setErrorState()}this._watchState!=="OFF"&&this.options.showUserLocation&&this._userLocationDotMarker.addClassName("mapboxgl-user-location-dot-stale"),this.fire(new c.z("error",p)),this._finish()}}_finish(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0}_setupUI(p){if(this._map!==void 0){if(this._container.addEventListener("contextmenu",r=>r.preventDefault()),this._geolocateButton=Ie("button","mapboxgl-ctrl-geolocate",this._container),Ie("span","mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden","true"),this._geolocateButton.type="button",p===!1){c.w("Geolocation support is not available so the GeolocateControl will be disabled.");const r=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.setAttribute("aria-label",r),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",r)}else{const r=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.setAttribute("aria-label",r),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",r)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=Ie("div","mapboxgl-user-location"),this._dotElement.appendChild(Ie("div","mapboxgl-user-location-dot")),this._dotElement.appendChild(Ie("div","mapboxgl-user-location-heading")),this._userLocationDotMarker=new gu({element:this._dotElement,rotationAlignment:"map",pitchAlignment:"map"}),this._circleElement=Ie("div","mapboxgl-user-location-accuracy-circle"),this._accuracyCircleMarker=new gu({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",r=>{r.geolocateSource||this._watchState!=="ACTIVE_LOCK"||r.originalEvent&&r.originalEvent.type==="resize"||(this._watchState="BACKGROUND",this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this.fire(new c.z("trackuserlocationend")))})}}_onDeviceOrientation(p){this._userLocationDotMarker&&(p.webkitCompassHeading?this._heading=p.webkitCompassHeading:p.absolute===!0&&(this._heading=-1*p.alpha),this._updateMarkerRotationThrottled())}trigger(){if(!this._setup)return c.w("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new c.z("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":this._numberOfWatches--,this._noTimeout=!1,this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new c.z("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new c.z("trackuserlocationstart"))}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error")}if(this._watchState==="OFF"&&this._geolocationWatchID!==void 0)this._clearWatch();else if(this._geolocationWatchID===void 0){let p;this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),this._numberOfWatches++,this._numberOfWatches>1?(p={maximumAge:6e5,timeout:0},this._noTimeout=!0):(p=this.options.positionOptions,this._noTimeout=!1),this._geolocationWatchID=this.options.geolocation.watchPosition(this._onSuccess,this._onError,p),this.options.showUserHeading&&this._addDeviceOrientationListener()}}else this.options.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=window.setTimeout(this._finish,1e4);return!0}_addDeviceOrientationListener(){const p=()=>{"ondeviceorientationabsolute"in window?window.addEventListener("deviceorientationabsolute",this._onDeviceOrientation):window.addEventListener("deviceorientation",this._onDeviceOrientation)};typeof DeviceMotionEvent!="undefined"&&typeof DeviceMotionEvent.requestPermission=="function"?DeviceOrientationEvent.requestPermission().then(r=>{r==="granted"&&p()}).catch(console.error):p()}_clearWatch(){this.options.geolocation.clearWatch(this._geolocationWatchID),window.removeEventListener("deviceorientation",this._onDeviceOrientation),window.removeEventListener("deviceorientationabsolute",this._onDeviceOrientation),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)}},AttributionControl:$h,ScaleControl:class{constructor(p={}){this.options=c.l({},Cc,p),this._isNumberFormatSupported=function(){try{return new Intl.NumberFormat("en",{style:"unit",unitDisplay:"short",unit:"meter"}),!0}catch(r){return!1}}(),c.aP(["_update","_setScale","setUnit"],this)}getDefaultPosition(){return"bottom-left"}_update(){const p=this.options.maxWidth||100,r=this._map,l=r._containerHeight/2,m=r._containerWidth/2-p/2,_=r.unproject([m,l]),x=r.unproject([m+p,l]),E=_.distanceTo(x);if(this.options.unit==="imperial"){const R=3.2808*E;R>5280?this._setScale(p,R/5280,"mile"):this._setScale(p,R,"foot")}else this.options.unit==="nautical"?this._setScale(p,E/1852,"nautical-mile"):E>=1e3?this._setScale(p,E/1e3,"kilometer"):this._setScale(p,E,"meter")}_setScale(p,r,l){this._map._requestDomTask(()=>{const m=function(x){const E=Math.pow(10,`${Math.floor(x)}`.length-1);let R=x/E;return R=R>=10?10:R>=5?5:R>=3?3:R>=2?2:R>=1?1:function(F){const V=Math.pow(10,Math.ceil(-Math.log(F)/Math.LN10));return Math.round(F*V)/V}(R),E*R}(r),_=m/r;this._container.innerHTML=this._isNumberFormatSupported&&l!=="nautical-mile"?new Intl.NumberFormat(this._language,{style:"unit",unitDisplay:"short",unit:l}).format(m):`${m}&nbsp;${Xl[l]}`,this._container.style.width=p*_+"px"})}onAdd(p){return this._map=p,this._language=p.getLanguage(),this._container=Ie("div","mapboxgl-ctrl mapboxgl-ctrl-scale",p.getContainer()),this._container.dir="auto",this._map.on("move",this._update),this._update(),this._container}onRemove(){this._container.remove(),this._map.off("move",this._update),this._map=void 0}_setLanguage(p){this._language=p,this._update()}setUnit(p){this.options.unit=p,this._update()}},FullscreenControl:class{constructor(p={}){this._fullscreen=!1,p&&p.container&&(p.container instanceof HTMLElement?this._container=p.container:c.w("Full screen control 'container' must be a DOM element.")),c.aP(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in document?this._fullscreenchange="fullscreenchange":"onwebkitfullscreenchange"in document&&(this._fullscreenchange="webkitfullscreenchange")}onAdd(p){return this._map=p,this._container||(this._container=this._map.getContainer()),this._controlContainer=Ie("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",c.w("This device does not support fullscreen mode.")),this._controlContainer}onRemove(){this._controlContainer.remove(),this._map=null,document.removeEventListener(this._fullscreenchange,this._changeIcon)}_checkFullscreenSupport(){return!(!document.fullscreenEnabled&&!document.webkitFullscreenEnabled)}_setupUI(){const p=this._fullscreenButton=Ie("button","mapboxgl-ctrl-fullscreen",this._controlContainer);Ie("span","mapboxgl-ctrl-icon",p).setAttribute("aria-hidden","true"),p.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),document.addEventListener(this._fullscreenchange,this._changeIcon)}_updateTitle(){const p=this._getTitle();this._fullscreenButton.setAttribute("aria-label",p),this._fullscreenButton.firstElementChild&&this._fullscreenButton.firstElementChild.setAttribute("title",p)}_getTitle(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")}_isFullscreen(){return this._fullscreen}_changeIcon(){(document.fullscreenElement||document.webkitFullscreenElement)===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())}_onClickFullscreen(){this._isFullscreen()?document.exitFullscreen?document.exitFullscreen():document.webkitCancelFullScreen&&document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()}},Popup:class extends c.E{constructor(p){super(),this.options=c.l(Object.create(a0),p),c.aP(["_update","_onClose","remove","_onMouseEvent"],this),this._classList=new Set(p&&p.className?p.className.trim().split(/\s+/):[])}addTo(p){return this._map&&this.remove(),this._map=p,this.options.closeOnClick&&p.on("preclick",this._onClose),this.options.closeOnMove&&p.on("move",this._onClose),p.on("remove",this.remove),this._update(),p._addPopup(this),this._focusFirstElement(),this._trackPointer?(p.on("mousemove",this._onMouseEvent),p.on("mouseup",this._onMouseEvent),p._canvasContainer.classList.add("mapboxgl-track-pointer")):p.on("move",this._update),this.fire(new c.z("open")),this}isOpen(){return!!this._map}remove(){this._content&&this._content.remove(),this._container&&(this._container.remove(),this._container=void 0);const p=this._map;return p&&(p.off("move",this._update),p.off("move",this._onClose),p.off("preclick",this._onClose),p.off("click",this._onClose),p.off("remove",this.remove),p.off("mousemove",this._onMouseEvent),p.off("mouseup",this._onMouseEvent),p.off("drag",this._onMouseEvent),p._canvasContainer&&p._canvasContainer.classList.remove("mapboxgl-track-pointer"),p._removePopup(this),this._map=void 0),this.fire(new c.z("close")),this}getLngLat(){return this._lngLat}setLngLat(p){this._lngLat=c.bO.convert(p),this._pos=null,this._trackPointer=!1,this._update();const r=this._map;return r&&(r.on("move",this._update),r.off("mousemove",this._onMouseEvent),r._canvasContainer.classList.remove("mapboxgl-track-pointer")),this}trackPointer(){this._trackPointer=!0,this._pos=null,this._update();const p=this._map;return p&&(p.off("move",this._update),p.on("mousemove",this._onMouseEvent),p.on("drag",this._onMouseEvent),p._canvasContainer.classList.add("mapboxgl-track-pointer")),this}getElement(){return this._container}setText(p){return this.setDOMContent(document.createTextNode(p))}setHTML(p){const r=document.createDocumentFragment(),l=document.createElement("body");let m;for(l.innerHTML=p;m=l.firstChild,m;)r.appendChild(m);return this.setDOMContent(r)}getMaxWidth(){return this._container&&this._container.style.maxWidth}setMaxWidth(p){return this.options.maxWidth=p,this._update(),this}setDOMContent(p){let r=this._content;if(r)for(;r.hasChildNodes();)r.firstChild&&r.removeChild(r.firstChild);else r=this._content=Ie("div","mapboxgl-popup-content",this._container||void 0);if(r.appendChild(p),this.options.closeButton){const l=this._closeButton=Ie("button","mapboxgl-popup-close-button",r);l.type="button",l.setAttribute("aria-label","Close popup"),l.innerHTML='<span aria-hidden="true">&#215;</span>',l.addEventListener("click",this._onClose)}return this._update(),this._focusFirstElement(),this}addClassName(p){return this._classList.add(p),this._updateClassList(),this}removeClassName(p){return this._classList.delete(p),this._updateClassList(),this}setOffset(p){return this.options.offset=p,this._update(),this}toggleClassName(p){let r;return this._classList.delete(p)?r=!1:(this._classList.add(p),r=!0),this._updateClassList(),r}_onMouseEvent(p){this._update(p.point)}_getAnchor(p){if(this.options.anchor)return this.options.anchor;const r=this._map,l=this._container,m=this._pos;if(!r||!l||!m)return"bottom";const _=l.offsetWidth,x=l.offsetHeight,E=m.x<_/2,R=m.x>r.transform.width-_/2;if(m.y+p<x)return E?"top-left":R?"top-right":"top";if(m.y>r.transform.height-x){if(E)return"bottom-left";if(R)return"bottom-right"}return E?"left":R?"right":"bottom"}_updateClassList(){const p=this._container;if(!p)return;const r=[...this._classList];r.push("mapboxgl-popup"),this._anchor&&r.push(`mapboxgl-popup-anchor-${this._anchor}`),this._trackPointer&&r.push("mapboxgl-popup-track-pointer"),p.className=r.join(" ")}_update(p){const r=this._map,l=this._content;if(!r||!this._lngLat&&!this._trackPointer||!l)return;let m=this._container;if(m||(m=this._container=Ie("div","mapboxgl-popup",r.getContainer()),this._tip=Ie("div","mapboxgl-popup-tip",m),m.appendChild(l)),this.options.maxWidth&&m.style.maxWidth!==this.options.maxWidth&&(m.style.maxWidth=this.options.maxWidth),r.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=Ip(this._lngLat,this._pos,r.transform)),!this._trackPointer||p){const _=this._pos=this._trackPointer&&p instanceof c.P?p:r.project(this._lngLat),x=Um(this.options.offset),E=this._anchor=this._getAnchor(x.y),R=Um(this.options.offset,E),F=_.add(R).round();r._requestDomTask(()=>{this._container&&E&&(this._container.style.transform=`${$u[E]} translate(${F.x}px,${F.y}px)`)})}if(!this._marker&&r._showingGlobe()){const _=c.dH(r.transform,this._lngLat)?0:1;this._setOpacity(_)}this._updateClassList()}_focusFirstElement(){if(!this.options.focusAfterOpen||!this._container)return;const p=this._container.querySelector(_l);p&&p.focus()}_onClose(){this.remove()}_setOpacity(p){this._container&&(this._container.style.opacity=`${p}`),this._content&&(this._content.style.pointerEvents=p?"auto":"none")}},Marker:gu,Style:rs,LngLat:c.bO,LngLatBounds:c.az,Point:c.P,MercatorCoordinate:c.aa,FreeCameraOptions:hd,Evented:c.E,config:c.e,prewarm:c.dM,clearPrewarmedResources:c.dN,get accessToken(){return c.e.ACCESS_TOKEN},set accessToken(p){c.e.ACCESS_TOKEN=p},get baseApiUrl(){return c.e.API_URL},set baseApiUrl(p){c.e.API_URL=p},get workerCount(){return c.dO.workerCount},set workerCount(p){c.dO.workerCount=p},get maxParallelImageRequests(){return c.e.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(p){c.e.MAX_PARALLEL_IMAGE_REQUESTS=p},clearStorage(p){c.dP(p)},get workerUrl(){return c.dQ.workerUrl},set workerUrl(p){c.dQ.workerUrl=p},get workerClass(){return c.dQ.workerClass},set workerClass(p){c.dQ.workerClass=p},get workerParams(){return c.dQ.workerParams},set workerParams(p){c.dQ.workerParams=p},get dracoUrl(){return c.dR()},set dracoUrl(p){c.dS(p)},get meshoptUrl(){return c.dT()},set meshoptUrl(p){c.dU(p)},setNow:c.q.setNow,restoreNow:c.q.restoreNow}});var q=a;return q})},14224:function(Ir){var Ft=Ir.exports={},B,a;function Qe(){throw new Error("setTimeout has not been defined")}function q(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?B=setTimeout:B=Qe}catch(tt){B=Qe}try{typeof clearTimeout=="function"?a=clearTimeout:a=q}catch(tt){a=q}})();function c(tt){if(B===setTimeout)return setTimeout(tt,0);if((B===Qe||!B)&&setTimeout)return B=setTimeout,setTimeout(tt,0);try{return B(tt,0)}catch(ot){try{return B.call(null,tt,0)}catch(Je){return B.call(this,tt,0)}}}function be(tt){if(a===clearTimeout)return clearTimeout(tt);if((a===q||!a)&&clearTimeout)return a=clearTimeout,clearTimeout(tt);try{return a(tt)}catch(ot){try{return a.call(null,tt)}catch(Je){return a.call(this,tt)}}}var We=[],De=!1,Te,ye=-1;function te(){!De||!Te||(De=!1,Te.length?We=Te.concat(We):ye=-1,We.length&&Ve())}function Ve(){if(!De){var tt=c(te);De=!0;for(var ot=We.length;ot;){for(Te=We,We=[];++ye<ot;)Te&&Te[ye].run();ye=-1,ot=We.length}Te=null,De=!1,be(tt)}}Ft.nextTick=function(tt){var ot=new Array(arguments.length-1);if(arguments.length>1)for(var Je=1;Je<arguments.length;Je++)ot[Je-1]=arguments[Je];We.push(new Ie(tt,ot)),We.length===1&&!De&&c(Ve)};function Ie(tt,ot){this.fun=tt,this.array=ot}Ie.prototype.run=function(){this.fun.apply(null,this.array)},Ft.title="browser",Ft.browser=!0,Ft.env={},Ft.argv=[],Ft.version="",Ft.versions={};function Ue(){}Ft.on=Ue,Ft.addListener=Ue,Ft.once=Ue,Ft.off=Ue,Ft.removeListener=Ue,Ft.removeAllListeners=Ue,Ft.emit=Ue,Ft.prependListener=Ue,Ft.prependOnceListener=Ue,Ft.listeners=function(tt){return[]},Ft.binding=function(tt){throw new Error("process.binding is not supported")},Ft.cwd=function(){return"/"},Ft.chdir=function(tt){throw new Error("process.chdir is not supported")},Ft.umask=function(){return 0}},12977:function(Ir,Ft,B){"use strict";var a=B(23022),Qe=B(54153),q=B(38926),c=B(89692),be=B(58190),We=B(82187),De=B.n(We),Te=B(93954),ye=B(75271),te=["prefixCls","className","style","checked","disabled","defaultChecked","type","title","onChange"],Ve=(0,ye.forwardRef)(function(Ie,Ue){var tt=Ie.prefixCls,ot=tt===void 0?"rc-checkbox":tt,Je=Ie.className,ct=Ie.style,bt=Ie.checked,Xe=Ie.disabled,jt=Ie.defaultChecked,vt=jt===void 0?!1:jt,Mt=Ie.type,Ut=Mt===void 0?"checkbox":Mt,Vt=Ie.title,yr=Ie.onChange,lr=(0,be.Z)(Ie,te),Xn=(0,ye.useRef)(null),Ge=(0,ye.useRef)(null),Ht=(0,Te.Z)(vt,{value:bt}),un=(0,c.Z)(Ht,2),Xt=un[0],ke=un[1];(0,ye.useImperativeHandle)(Ue,function(){return{focus:function(ut){var Jt;(Jt=Xn.current)===null||Jt===void 0||Jt.focus(ut)},blur:function(){var ut;(ut=Xn.current)===null||ut===void 0||ut.blur()},input:Xn.current,nativeElement:Ge.current}});var zn=De()(ot,Je,(0,q.Z)((0,q.Z)({},"".concat(ot,"-checked"),Xt),"".concat(ot,"-disabled"),Xe)),mn=function(ut){Xe||("checked"in Ie||ke(ut.target.checked),yr==null||yr({target:(0,Qe.Z)((0,Qe.Z)({},Ie),{},{type:Ut,checked:ut.target.checked}),stopPropagation:function(){ut.stopPropagation()},preventDefault:function(){ut.preventDefault()},nativeEvent:ut.nativeEvent}))};return ye.createElement("span",{className:zn,title:Vt,style:ct,ref:Ge},ye.createElement("input",(0,a.Z)({},lr,{className:"".concat(ot,"-input"),ref:Xn,onChange:mn,disabled:Xe,checked:!!Xt,type:Ut})),ye.createElement("span",{className:"".concat(ot,"-inner")}))});Ft.Z=Ve},93930:function(Ir,Ft,B){"use strict";B.d(Ft,{gN:function(){return Lo},zb:function(){return jt},RV:function(){return si},aV:function(){return $o},ZM:function(){return Mt},ZP:function(){return Uo},cI:function(){return En},qo:function(){return ai}});var a=B(75271),Qe=B(23022),q=B(58190),c=B(57250),be=B(90594),We=B(54153),De=B(46865),Te=B(59295),ye=B(45985),te=B(63662),Ve=B(76525),Ie=B(56216),Ue=B(38926),tt=B(81626),ot=B(47996),Je=B(4449),ct="RC_FORM_INTERNAL_HOOKS",bt=function(){(0,Je.ZP)(!1,"Can not find FormContext. Please make sure you wrap Field under Form.")},Xe=a.createContext({getFieldValue:bt,getFieldsValue:bt,getFieldError:bt,getFieldWarning:bt,getFieldsError:bt,isFieldsTouched:bt,isFieldTouched:bt,isFieldValidating:bt,isFieldsValidating:bt,resetFields:bt,setFields:bt,setFieldValue:bt,setFieldsValue:bt,validateFields:bt,submit:bt,getInternalHooks:function(){return bt(),{dispatch:bt,initEntityValue:bt,registerField:bt,useSubscribe:bt,setInitialValues:bt,destroyForm:bt,setCallbacks:bt,registerWatch:bt,getFields:bt,setValidateMessages:bt,setPreserve:bt,getInitialValue:bt}}}),jt=Xe,vt=a.createContext(null),Mt=vt;function Ut(sn){return sn==null?[]:Array.isArray(sn)?sn:[sn]}function Vt(sn){return sn&&!!sn._init}var yr=B(5147);function lr(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var qe=JSON.parse(JSON.stringify(this));return qe.clone=this.clone,qe}}}var Xn=lr(),Ge=B(51123),Ht=B(84255);function un(sn){try{return Function.toString.call(sn).indexOf("[native code]")!==-1}catch(qe){return typeof sn=="function"}}var Xt=B(57649);function ke(sn,qe,Ce){if((0,Xt.Z)())return Reflect.construct.apply(null,arguments);var Ye=[null];Ye.push.apply(Ye,qe);var Fe=new(sn.bind.apply(sn,Ye));return Ce&&(0,Ht.Z)(Fe,Ce.prototype),Fe}function zn(sn){var qe=typeof Map=="function"?new Map:void 0;return zn=function(Ye){if(Ye===null||!un(Ye))return Ye;if(typeof Ye!="function")throw new TypeError("Super expression must either be null or a function");if(qe!==void 0){if(qe.has(Ye))return qe.get(Ye);qe.set(Ye,Fe)}function Fe(){return ke(Ye,arguments,(0,Ge.Z)(this).constructor)}return Fe.prototype=Object.create(Ye.prototype,{constructor:{value:Fe,enumerable:!1,writable:!0,configurable:!0}}),(0,Ht.Z)(Fe,Ye)},zn(sn)}var mn=B(14224),Rn=/%[sdj%]/g,ut=function(){};function Jt(sn){if(!sn||!sn.length)return null;var qe={};return sn.forEach(function(Ce){var Ye=Ce.field;qe[Ye]=qe[Ye]||[],qe[Ye].push(Ce)}),qe}function Cn(sn){for(var qe=arguments.length,Ce=new Array(qe>1?qe-1:0),Ye=1;Ye<qe;Ye++)Ce[Ye-1]=arguments[Ye];var Fe=0,Nt=Ce.length;if(typeof sn=="function")return sn.apply(null,Ce);if(typeof sn=="string"){var hn=sn.replace(Rn,function(ir){if(ir==="%%")return"%";if(Fe>=Nt)return ir;switch(ir){case"%s":return String(Ce[Fe++]);case"%d":return Number(Ce[Fe++]);case"%j":try{return JSON.stringify(Ce[Fe++])}catch(Ar){return"[Circular]"}break;default:return ir}});return hn}return sn}function he(sn){return sn==="string"||sn==="url"||sn==="hex"||sn==="email"||sn==="date"||sn==="pattern"}function Qt(sn,qe){return!!(sn==null||qe==="array"&&Array.isArray(sn)&&!sn.length||he(qe)&&typeof sn=="string"&&!sn)}function xi(sn){return Object.keys(sn).length===0}function ui(sn,qe,Ce){var Ye=[],Fe=0,Nt=sn.length;function hn(ir){Ye.push.apply(Ye,(0,De.Z)(ir||[])),Fe++,Fe===Nt&&Ce(Ye)}sn.forEach(function(ir){qe(ir,hn)})}function Ae(sn,qe,Ce){var Ye=0,Fe=sn.length;function Nt(hn){if(hn&&hn.length){Ce(hn);return}var ir=Ye;Ye=Ye+1,ir<Fe?qe(sn[ir],Nt):Ce([])}Nt([])}function An(sn){var qe=[];return Object.keys(sn).forEach(function(Ce){qe.push.apply(qe,(0,De.Z)(sn[Ce]||[]))}),qe}var Ur=function(sn){(0,Ve.Z)(Ce,sn);var qe=(0,Ie.Z)(Ce);function Ce(Ye,Fe){var Nt;return(0,Te.Z)(this,Ce),Nt=qe.call(this,"Async Validation Error"),(0,Ue.Z)((0,te.Z)(Nt),"errors",void 0),(0,Ue.Z)((0,te.Z)(Nt),"fields",void 0),Nt.errors=Ye,Nt.fields=Fe,Nt}return(0,ye.Z)(Ce)}(zn(Error));function Jr(sn,qe,Ce,Ye,Fe){if(qe.first){var Nt=new Promise(function(Fi,Ao){var Ai=function(Xi){return Ye(Xi),Xi.length?Ao(new Ur(Xi,Jt(Xi))):Fi(Fe)},Zi=An(sn);Ae(Zi,Ce,Ai)});return Nt.catch(function(Fi){return Fi}),Nt}var hn=qe.firstFields===!0?Object.keys(sn):qe.firstFields||[],ir=Object.keys(sn),Ar=ir.length,Nr=0,Rr=[],_i=new Promise(function(Fi,Ao){var Ai=function(li){if(Rr.push.apply(Rr,li),Nr++,Nr===Ar)return Ye(Rr),Rr.length?Ao(new Ur(Rr,Jt(Rr))):Fi(Fe)};ir.length||(Ye(Rr),Fi(Fe)),ir.forEach(function(Zi){var li=sn[Zi];hn.indexOf(Zi)!==-1?Ae(li,Ce,Ai):ui(li,Ce,Ai)})});return _i.catch(function(Fi){return Fi}),_i}function On(sn){return!!(sn&&sn.message!==void 0)}function Kr(sn,qe){for(var Ce=sn,Ye=0;Ye<qe.length;Ye++){if(Ce==null)return Ce;Ce=Ce[qe[Ye]]}return Ce}function Ti(sn,qe){return function(Ce){var Ye;return sn.fullFields?Ye=Kr(qe,sn.fullFields):Ye=qe[Ce.field||sn.fullField],On(Ce)?(Ce.field=Ce.field||sn.fullField,Ce.fieldValue=Ye,Ce):{message:typeof Ce=="function"?Ce():Ce,fieldValue:Ye,field:Ce.field||sn.fullField}}}function fr(sn,qe){if(qe){for(var Ce in qe)if(qe.hasOwnProperty(Ce)){var Ye=qe[Ce];(0,yr.Z)(Ye)==="object"&&(0,yr.Z)(sn[Ce])==="object"?sn[Ce]=(0,We.Z)((0,We.Z)({},sn[Ce]),Ye):sn[Ce]=Ye}}return sn}var it="enum",Ot=function(qe,Ce,Ye,Fe,Nt){qe[it]=Array.isArray(qe[it])?qe[it]:[],qe[it].indexOf(Ce)===-1&&Fe.push(Cn(Nt.messages[it],qe.fullField,qe[it].join(", ")))},Dn=Ot,pn=function(qe,Ce,Ye,Fe,Nt){if(qe.pattern){if(qe.pattern instanceof RegExp)qe.pattern.lastIndex=0,qe.pattern.test(Ce)||Fe.push(Cn(Nt.messages.pattern.mismatch,qe.fullField,Ce,qe.pattern));else if(typeof qe.pattern=="string"){var hn=new RegExp(qe.pattern);hn.test(Ce)||Fe.push(Cn(Nt.messages.pattern.mismatch,qe.fullField,Ce,qe.pattern))}}},gn=pn,wr=function(qe,Ce,Ye,Fe,Nt){var hn=typeof qe.len=="number",ir=typeof qe.min=="number",Ar=typeof qe.max=="number",Nr=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Rr=Ce,_i=null,Fi=typeof Ce=="number",Ao=typeof Ce=="string",Ai=Array.isArray(Ce);if(Fi?_i="number":Ao?_i="string":Ai&&(_i="array"),!_i)return!1;Ai&&(Rr=Ce.length),Ao&&(Rr=Ce.replace(Nr,"_").length),hn?Rr!==qe.len&&Fe.push(Cn(Nt.messages[_i].len,qe.fullField,qe.len)):ir&&!Ar&&Rr<qe.min?Fe.push(Cn(Nt.messages[_i].min,qe.fullField,qe.min)):Ar&&!ir&&Rr>qe.max?Fe.push(Cn(Nt.messages[_i].max,qe.fullField,qe.max)):ir&&Ar&&(Rr<qe.min||Rr>qe.max)&&Fe.push(Cn(Nt.messages[_i].range,qe.fullField,qe.min,qe.max))},Hn=wr,oi=function(qe,Ce,Ye,Fe,Nt,hn){qe.required&&(!Ye.hasOwnProperty(qe.field)||Qt(Ce,hn||qe.type))&&Fe.push(Cn(Nt.messages.required,qe.fullField))},pi=oi,ri,ni=function(){if(ri)return ri;var sn="[a-fA-F\\d:]",qe=function(ma){return ma&&ma.includeBoundaries?"(?:(?<=\\s|^)(?=".concat(sn,")|(?<=").concat(sn,")(?=\\s|$))"):""},Ce="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",Ye="[a-fA-F\\d]{1,4}",Fe=["(?:".concat(Ye,":){7}(?:").concat(Ye,"|:)"),"(?:".concat(Ye,":){6}(?:").concat(Ce,"|:").concat(Ye,"|:)"),"(?:".concat(Ye,":){5}(?::").concat(Ce,"|(?::").concat(Ye,"){1,2}|:)"),"(?:".concat(Ye,":){4}(?:(?::").concat(Ye,"){0,1}:").concat(Ce,"|(?::").concat(Ye,"){1,3}|:)"),"(?:".concat(Ye,":){3}(?:(?::").concat(Ye,"){0,2}:").concat(Ce,"|(?::").concat(Ye,"){1,4}|:)"),"(?:".concat(Ye,":){2}(?:(?::").concat(Ye,"){0,3}:").concat(Ce,"|(?::").concat(Ye,"){1,5}|:)"),"(?:".concat(Ye,":){1}(?:(?::").concat(Ye,"){0,4}:").concat(Ce,"|(?::").concat(Ye,"){1,6}|:)"),"(?::(?:(?::".concat(Ye,"){0,5}:").concat(Ce,"|(?::").concat(Ye,"){1,7}|:))")],Nt="(?:%[0-9a-zA-Z]{1,})?",hn="(?:".concat(Fe.join("|"),")").concat(Nt),ir=new RegExp("(?:^".concat(Ce,"$)|(?:^").concat(hn,"$)")),Ar=new RegExp("^".concat(Ce,"$")),Nr=new RegExp("^".concat(hn,"$")),Rr=function(ma){return ma&&ma.exact?ir:new RegExp("(?:".concat(qe(ma)).concat(Ce).concat(qe(ma),")|(?:").concat(qe(ma)).concat(hn).concat(qe(ma),")"),"g")};Rr.v4=function(da){return da&&da.exact?Ar:new RegExp("".concat(qe(da)).concat(Ce).concat(qe(da)),"g")},Rr.v6=function(da){return da&&da.exact?Nr:new RegExp("".concat(qe(da)).concat(hn).concat(qe(da)),"g")};var _i="(?:(?:[a-z]+:)?//)",Fi="(?:\\S+(?::\\S*)?@)?",Ao=Rr.v4().source,Ai=Rr.v6().source,Zi="(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)",li="(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*",Xi="(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))",Yi="(?::\\d{2,5})?",Po='(?:[/?#][^\\s"]*)?',la="(?:".concat(_i,"|www\\.)").concat(Fi,"(?:localhost|").concat(Ao,"|").concat(Ai,"|").concat(Zi).concat(li).concat(Xi,")").concat(Yi).concat(Po);return ri=new RegExp("(?:^".concat(la,"$)"),"i"),ri},Cr={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},qn={integer:function(qe){return qn.number(qe)&&parseInt(qe,10)===qe},float:function(qe){return qn.number(qe)&&!qn.integer(qe)},array:function(qe){return Array.isArray(qe)},regexp:function(qe){if(qe instanceof RegExp)return!0;try{return!!new RegExp(qe)}catch(Ce){return!1}},date:function(qe){return typeof qe.getTime=="function"&&typeof qe.getMonth=="function"&&typeof qe.getYear=="function"&&!isNaN(qe.getTime())},number:function(qe){return isNaN(qe)?!1:typeof qe=="number"},object:function(qe){return(0,yr.Z)(qe)==="object"&&!qn.array(qe)},method:function(qe){return typeof qe=="function"},email:function(qe){return typeof qe=="string"&&qe.length<=320&&!!qe.match(Cr.email)},url:function(qe){return typeof qe=="string"&&qe.length<=2048&&!!qe.match(ni())},hex:function(qe){return typeof qe=="string"&&!!qe.match(Cr.hex)}},_r=function(qe,Ce,Ye,Fe,Nt){if(qe.required&&Ce===void 0){pi(qe,Ce,Ye,Fe,Nt);return}var hn=["integer","float","array","regexp","object","method","email","number","date","url","hex"],ir=qe.type;hn.indexOf(ir)>-1?qn[ir](Ce)||Fe.push(Cn(Nt.messages.types[ir],qe.fullField,qe.type)):ir&&(0,yr.Z)(Ce)!==qe.type&&Fe.push(Cn(Nt.messages.types[ir],qe.fullField,qe.type))},Pr=_r,Tr=function(qe,Ce,Ye,Fe,Nt){(/^\s+$/.test(Ce)||Ce==="")&&Fe.push(Cn(Nt.messages.whitespace,qe.fullField))},ei=Tr,ar={required:pi,whitespace:ei,type:Pr,range:Hn,enum:Dn,pattern:gn},mr=function(qe,Ce,Ye,Fe,Nt){var hn=[],ir=qe.required||!qe.required&&Fe.hasOwnProperty(qe.field);if(ir){if(Qt(Ce)&&!qe.required)return Ye();ar.required(qe,Ce,Fe,hn,Nt)}Ye(hn)},ii=mr,Wn=function(qe,Ce,Ye,Fe,Nt){var hn=[],ir=qe.required||!qe.required&&Fe.hasOwnProperty(qe.field);if(ir){if(Ce==null&&!qe.required)return Ye();ar.required(qe,Ce,Fe,hn,Nt,"array"),Ce!=null&&(ar.type(qe,Ce,Fe,hn,Nt),ar.range(qe,Ce,Fe,hn,Nt))}Ye(hn)},di=Wn,Ci=function(qe,Ce,Ye,Fe,Nt){var hn=[],ir=qe.required||!qe.required&&Fe.hasOwnProperty(qe.field);if(ir){if(Qt(Ce)&&!qe.required)return Ye();ar.required(qe,Ce,Fe,hn,Nt),Ce!==void 0&&ar.type(qe,Ce,Fe,hn,Nt)}Ye(hn)},eo=Ci,Io=function(qe,Ce,Ye,Fe,Nt){var hn=[],ir=qe.required||!qe.required&&Fe.hasOwnProperty(qe.field);if(ir){if(Qt(Ce,"date")&&!qe.required)return Ye();if(ar.required(qe,Ce,Fe,hn,Nt),!Qt(Ce,"date")){var Ar;Ce instanceof Date?Ar=Ce:Ar=new Date(Ce),ar.type(qe,Ar,Fe,hn,Nt),Ar&&ar.range(qe,Ar.getTime(),Fe,hn,Nt)}}Ye(hn)},ci=Io,oo="enum",nn=function(qe,Ce,Ye,Fe,Nt){var hn=[],ir=qe.required||!qe.required&&Fe.hasOwnProperty(qe.field);if(ir){if(Qt(Ce)&&!qe.required)return Ye();ar.required(qe,Ce,Fe,hn,Nt),Ce!==void 0&&ar[oo](qe,Ce,Fe,hn,Nt)}Ye(hn)},Mn=nn,Ee=function(qe,Ce,Ye,Fe,Nt){var hn=[],ir=qe.required||!qe.required&&Fe.hasOwnProperty(qe.field);if(ir){if(Qt(Ce)&&!qe.required)return Ye();ar.required(qe,Ce,Fe,hn,Nt),Ce!==void 0&&(ar.type(qe,Ce,Fe,hn,Nt),ar.range(qe,Ce,Fe,hn,Nt))}Ye(hn)},dn=Ee,br=function(qe,Ce,Ye,Fe,Nt){var hn=[],ir=qe.required||!qe.required&&Fe.hasOwnProperty(qe.field);if(ir){if(Qt(Ce)&&!qe.required)return Ye();ar.required(qe,Ce,Fe,hn,Nt),Ce!==void 0&&(ar.type(qe,Ce,Fe,hn,Nt),ar.range(qe,Ce,Fe,hn,Nt))}Ye(hn)},rr=br,Yr=function(qe,Ce,Ye,Fe,Nt){var hn=[],ir=qe.required||!qe.required&&Fe.hasOwnProperty(qe.field);if(ir){if(Qt(Ce)&&!qe.required)return Ye();ar.required(qe,Ce,Fe,hn,Nt),Ce!==void 0&&ar.type(qe,Ce,Fe,hn,Nt)}Ye(hn)},Mi=Yr,Wi=function(qe,Ce,Ye,Fe,Nt){var hn=[],ir=qe.required||!qe.required&&Fe.hasOwnProperty(qe.field);if(ir){if(Ce===""&&(Ce=void 0),Qt(Ce)&&!qe.required)return Ye();ar.required(qe,Ce,Fe,hn,Nt),Ce!==void 0&&(ar.type(qe,Ce,Fe,hn,Nt),ar.range(qe,Ce,Fe,hn,Nt))}Ye(hn)},Bi=Wi,Di=function(qe,Ce,Ye,Fe,Nt){var hn=[],ir=qe.required||!qe.required&&Fe.hasOwnProperty(qe.field);if(ir){if(Qt(Ce)&&!qe.required)return Ye();ar.required(qe,Ce,Fe,hn,Nt),Ce!==void 0&&ar.type(qe,Ce,Fe,hn,Nt)}Ye(hn)},Re=Di,de=function(qe,Ce,Ye,Fe,Nt){var hn=[],ir=qe.required||!qe.required&&Fe.hasOwnProperty(qe.field);if(ir){if(Qt(Ce,"string")&&!qe.required)return Ye();ar.required(qe,Ce,Fe,hn,Nt),Qt(Ce,"string")||ar.pattern(qe,Ce,Fe,hn,Nt)}Ye(hn)},Y=de,Ze=function(qe,Ce,Ye,Fe,Nt){var hn=[],ir=qe.required||!qe.required&&Fe.hasOwnProperty(qe.field);if(ir){if(Qt(Ce)&&!qe.required)return Ye();ar.required(qe,Ce,Fe,hn,Nt),Qt(Ce)||ar.type(qe,Ce,Fe,hn,Nt)}Ye(hn)},pe=Ze,nt=function(qe,Ce,Ye,Fe,Nt){var hn=[],ir=Array.isArray(Ce)?"array":(0,yr.Z)(Ce);ar.required(qe,Ce,Fe,hn,Nt,ir),Ye(hn)},rt=nt,tn=function(qe,Ce,Ye,Fe,Nt){var hn=[],ir=qe.required||!qe.required&&Fe.hasOwnProperty(qe.field);if(ir){if(Qt(Ce,"string")&&!qe.required)return Ye();ar.required(qe,Ce,Fe,hn,Nt,"string"),Qt(Ce,"string")||(ar.type(qe,Ce,Fe,hn,Nt),ar.range(qe,Ce,Fe,hn,Nt),ar.pattern(qe,Ce,Fe,hn,Nt),qe.whitespace===!0&&ar.whitespace(qe,Ce,Fe,hn,Nt))}Ye(hn)},$t=tn,ln=function(qe,Ce,Ye,Fe,Nt){var hn=qe.type,ir=[],Ar=qe.required||!qe.required&&Fe.hasOwnProperty(qe.field);if(Ar){if(Qt(Ce,hn)&&!qe.required)return Ye();ar.required(qe,Ce,Fe,ir,Nt,hn),Qt(Ce,hn)||ar.type(qe,Ce,Fe,ir,Nt)}Ye(ir)},vn=ln,et={string:$t,method:Mi,number:Bi,boolean:eo,regexp:pe,integer:rr,float:dn,array:di,object:Re,enum:Mn,pattern:Y,date:ci,url:vn,hex:vn,email:vn,required:rt,any:ii},Rt=function(){function sn(qe){(0,Te.Z)(this,sn),(0,Ue.Z)(this,"rules",null),(0,Ue.Z)(this,"_messages",Xn),this.define(qe)}return(0,ye.Z)(sn,[{key:"define",value:function(Ce){var Ye=this;if(!Ce)throw new Error("Cannot configure a schema with no rules");if((0,yr.Z)(Ce)!=="object"||Array.isArray(Ce))throw new Error("Rules must be an object");this.rules={},Object.keys(Ce).forEach(function(Fe){var Nt=Ce[Fe];Ye.rules[Fe]=Array.isArray(Nt)?Nt:[Nt]})}},{key:"messages",value:function(Ce){return Ce&&(this._messages=fr(lr(),Ce)),this._messages}},{key:"validate",value:function(Ce){var Ye=this,Fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Nt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){},hn=Ce,ir=Fe,Ar=Nt;if(typeof ir=="function"&&(Ar=ir,ir={}),!this.rules||Object.keys(this.rules).length===0)return Ar&&Ar(null,hn),Promise.resolve(hn);function Nr(Ai){var Zi=[],li={};function Xi(Po){if(Array.isArray(Po)){var la;Zi=(la=Zi).concat.apply(la,(0,De.Z)(Po))}else Zi.push(Po)}for(var Yi=0;Yi<Ai.length;Yi++)Xi(Ai[Yi]);Zi.length?(li=Jt(Zi),Ar(Zi,li)):Ar(null,hn)}if(ir.messages){var Rr=this.messages();Rr===Xn&&(Rr=lr()),fr(Rr,ir.messages),ir.messages=Rr}else ir.messages=this.messages();var _i={},Fi=ir.keys||Object.keys(this.rules);Fi.forEach(function(Ai){var Zi=Ye.rules[Ai],li=hn[Ai];Zi.forEach(function(Xi){var Yi=Xi;typeof Yi.transform=="function"&&(hn===Ce&&(hn=(0,We.Z)({},hn)),li=hn[Ai]=Yi.transform(li),li!=null&&(Yi.type=Yi.type||(Array.isArray(li)?"array":(0,yr.Z)(li)))),typeof Yi=="function"?Yi={validator:Yi}:Yi=(0,We.Z)({},Yi),Yi.validator=Ye.getValidationMethod(Yi),Yi.validator&&(Yi.field=Ai,Yi.fullField=Yi.fullField||Ai,Yi.type=Ye.getType(Yi),_i[Ai]=_i[Ai]||[],_i[Ai].push({rule:Yi,value:li,source:hn,field:Ai}))})});var Ao={};return Jr(_i,ir,function(Ai,Zi){var li=Ai.rule,Xi=(li.type==="object"||li.type==="array")&&((0,yr.Z)(li.fields)==="object"||(0,yr.Z)(li.defaultField)==="object");Xi=Xi&&(li.required||!li.required&&Ai.value),li.field=Ai.field;function Yi(ba,Sa){return(0,We.Z)((0,We.Z)({},Sa),{},{fullField:"".concat(li.fullField,".").concat(ba),fullFields:li.fullFields?[].concat((0,De.Z)(li.fullFields),[ba]):[ba]})}function Po(){var ba=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],Sa=Array.isArray(ba)?ba:[ba];!ir.suppressWarning&&Sa.length&&sn.warning("async-validator:",Sa),Sa.length&&li.message!==void 0&&(Sa=[].concat(li.message));var wa=Sa.map(Ti(li,hn));if(ir.first&&wa.length)return Ao[li.field]=1,Zi(wa);if(!Xi)Zi(wa);else{if(li.required&&!Ai.value)return li.message!==void 0?wa=[].concat(li.message).map(Ti(li,hn)):ir.error&&(wa=[ir.error(li,Cn(ir.messages.required,li.field))]),Zi(wa);var Ua={};li.defaultField&&Object.keys(Ai.value).map(function(Ms){Ua[Ms]=li.defaultField}),Ua=(0,We.Z)((0,We.Z)({},Ua),Ai.rule.fields);var ga={};Object.keys(Ua).forEach(function(Ms){var ms=Ua[Ms],$a=Array.isArray(ms)?ms:[ms];ga[Ms]=$a.map(Yi.bind(null,Ms))});var Ts=new sn(ga);Ts.messages(ir.messages),Ai.rule.options&&(Ai.rule.options.messages=ir.messages,Ai.rule.options.error=ir.error),Ts.validate(Ai.value,Ai.rule.options||ir,function(Ms){var ms=[];wa&&wa.length&&ms.push.apply(ms,(0,De.Z)(wa)),Ms&&Ms.length&&ms.push.apply(ms,(0,De.Z)(Ms)),Zi(ms.length?ms:null)})}}var la;if(li.asyncValidator)la=li.asyncValidator(li,Ai.value,Po,Ai.source,ir);else if(li.validator){try{la=li.validator(li,Ai.value,Po,Ai.source,ir)}catch(ba){var da,ma;(da=(ma=console).error)===null||da===void 0||da.call(ma,ba),ir.suppressValidatorError||setTimeout(function(){throw ba},0),Po(ba.message)}la===!0?Po():la===!1?Po(typeof li.message=="function"?li.message(li.fullField||li.field):li.message||"".concat(li.fullField||li.field," fails")):la instanceof Array?Po(la):la instanceof Error&&Po(la.message)}la&&la.then&&la.then(function(){return Po()},function(ba){return Po(ba)})},function(Ai){Nr(Ai)},hn)}},{key:"getType",value:function(Ce){if(Ce.type===void 0&&Ce.pattern instanceof RegExp&&(Ce.type="pattern"),typeof Ce.validator!="function"&&Ce.type&&!et.hasOwnProperty(Ce.type))throw new Error(Cn("Unknown rule type %s",Ce.type));return Ce.type||"string"}},{key:"getValidationMethod",value:function(Ce){if(typeof Ce.validator=="function")return Ce.validator;var Ye=Object.keys(Ce),Fe=Ye.indexOf("message");return Fe!==-1&&Ye.splice(Fe,1),Ye.length===1&&Ye[0]==="required"?et.required:et[this.getType(Ce)]||void 0}}]),sn}();(0,Ue.Z)(Rt,"register",function(qe,Ce){if(typeof Ce!="function")throw new Error("Cannot register a validator by type, validator is not a function");et[qe]=Ce}),(0,Ue.Z)(Rt,"warning",ut),(0,Ue.Z)(Rt,"messages",Xn),(0,Ue.Z)(Rt,"validators",et);var Kt=Rt,rn="'${name}' is not a valid ${type}",dt={default:"Validation error on field '${name}'",required:"'${name}' is required",enum:"'${name}' must be one of [${enum}]",whitespace:"'${name}' cannot be empty",date:{format:"'${name}' is invalid for format date",parse:"'${name}' could not be parsed as date",invalid:"'${name}' is invalid date"},types:{string:rn,method:rn,array:rn,object:rn,number:rn,date:rn,boolean:rn,integer:rn,float:rn,regexp:rn,email:rn,url:rn,hex:rn},string:{len:"'${name}' must be exactly ${len} characters",min:"'${name}' must be at least ${min} characters",max:"'${name}' cannot be longer than ${max} characters",range:"'${name}' must be between ${min} and ${max} characters"},number:{len:"'${name}' must equal ${len}",min:"'${name}' cannot be less than ${min}",max:"'${name}' cannot be greater than ${max}",range:"'${name}' must be between ${min} and ${max}"},array:{len:"'${name}' must be exactly ${len} in length",min:"'${name}' cannot be less than ${min} in length",max:"'${name}' cannot be greater than ${max} in length",range:"'${name}' must be between ${min} and ${max} in length"},pattern:{mismatch:"'${name}' does not match pattern ${pattern}"}},at=B(27636),Sn=Kt;function bn(sn,qe){return sn.replace(/\\?\$\{\w+\}/g,function(Ce){if(Ce.startsWith("\\"))return Ce.slice(1);var Ye=Ce.slice(2,-1);return qe[Ye]})}var Gn="CODE_LOGIC_ERROR";function or(sn,qe,Ce,Ye,Fe){return gr.apply(this,arguments)}function gr(){return gr=(0,be.Z)((0,c.Z)().mark(function sn(qe,Ce,Ye,Fe,Nt){var hn,ir,Ar,Nr,Rr,_i,Fi,Ao,Ai;return(0,c.Z)().wrap(function(li){for(;;)switch(li.prev=li.next){case 0:return hn=(0,We.Z)({},Ye),delete hn.ruleIndex,Sn.warning=function(){},hn.validator&&(ir=hn.validator,hn.validator=function(){try{return ir.apply(void 0,arguments)}catch(Xi){return console.error(Xi),Promise.reject(Gn)}}),Ar=null,hn&&hn.type==="array"&&hn.defaultField&&(Ar=hn.defaultField,delete hn.defaultField),Nr=new Sn((0,Ue.Z)({},qe,[hn])),Rr=(0,at.T)(dt,Fe.validateMessages),Nr.messages(Rr),_i=[],li.prev=10,li.next=13,Promise.resolve(Nr.validate((0,Ue.Z)({},qe,Ce),(0,We.Z)({},Fe)));case 13:li.next=18;break;case 15:li.prev=15,li.t0=li.catch(10),li.t0.errors&&(_i=li.t0.errors.map(function(Xi,Yi){var Po=Xi.message,la=Po===Gn?Rr.default:Po;return a.isValidElement(la)?a.cloneElement(la,{key:"error_".concat(Yi)}):la}));case 18:if(!(!_i.length&&Ar)){li.next=23;break}return li.next=21,Promise.all(Ce.map(function(Xi,Yi){return or("".concat(qe,".").concat(Yi),Xi,Ar,Fe,Nt)}));case 21:return Fi=li.sent,li.abrupt("return",Fi.reduce(function(Xi,Yi){return[].concat((0,De.Z)(Xi),(0,De.Z)(Yi))},[]));case 23:return Ao=(0,We.Z)((0,We.Z)({},Ye),{},{name:qe,enum:(Ye.enum||[]).join(", ")},Nt),Ai=_i.map(function(Xi){return typeof Xi=="string"?bn(Xi,Ao):Xi}),li.abrupt("return",Ai);case 26:case"end":return li.stop()}},sn,null,[[10,15]])})),gr.apply(this,arguments)}function Fr(sn,qe,Ce,Ye,Fe,Nt){var hn=sn.join("."),ir=Ce.map(function(Rr,_i){var Fi=Rr.validator,Ao=(0,We.Z)((0,We.Z)({},Rr),{},{ruleIndex:_i});return Fi&&(Ao.validator=function(Ai,Zi,li){var Xi=!1,Yi=function(){for(var da=arguments.length,ma=new Array(da),ba=0;ba<da;ba++)ma[ba]=arguments[ba];Promise.resolve().then(function(){(0,Je.ZP)(!Xi,"Your validator function has already return a promise. `callback` will be ignored."),Xi||li.apply(void 0,ma)})},Po=Fi(Ai,Zi,Yi);Xi=Po&&typeof Po.then=="function"&&typeof Po.catch=="function",(0,Je.ZP)(Xi,"`callback` is deprecated. Please return a promise instead."),Xi&&Po.then(function(){li()}).catch(function(la){li(la||" ")})}),Ao}).sort(function(Rr,_i){var Fi=Rr.warningOnly,Ao=Rr.ruleIndex,Ai=_i.warningOnly,Zi=_i.ruleIndex;return!!Fi==!!Ai?Ao-Zi:Fi?1:-1}),Ar;if(Fe===!0)Ar=new Promise(function(){var Rr=(0,be.Z)((0,c.Z)().mark(function _i(Fi,Ao){var Ai,Zi,li;return(0,c.Z)().wrap(function(Yi){for(;;)switch(Yi.prev=Yi.next){case 0:Ai=0;case 1:if(!(Ai<ir.length)){Yi.next=12;break}return Zi=ir[Ai],Yi.next=5,or(hn,qe,Zi,Ye,Nt);case 5:if(li=Yi.sent,!li.length){Yi.next=9;break}return Ao([{errors:li,rule:Zi}]),Yi.abrupt("return");case 9:Ai+=1,Yi.next=1;break;case 12:Fi([]);case 13:case"end":return Yi.stop()}},_i)}));return function(_i,Fi){return Rr.apply(this,arguments)}}());else{var Nr=ir.map(function(Rr){return or(hn,qe,Rr,Ye,Nt).then(function(_i){return{errors:_i,rule:Rr}})});Ar=(Fe?to(Nr):hi(Nr)).then(function(Rr){return Promise.reject(Rr)})}return Ar.catch(function(Rr){return Rr}),Ar}function hi(sn){return Hr.apply(this,arguments)}function Hr(){return Hr=(0,be.Z)((0,c.Z)().mark(function sn(qe){return(0,c.Z)().wrap(function(Ye){for(;;)switch(Ye.prev=Ye.next){case 0:return Ye.abrupt("return",Promise.all(qe).then(function(Fe){var Nt,hn=(Nt=[]).concat.apply(Nt,(0,De.Z)(Fe));return hn}));case 1:case"end":return Ye.stop()}},sn)})),Hr.apply(this,arguments)}function to(sn){return gt.apply(this,arguments)}function gt(){return gt=(0,be.Z)((0,c.Z)().mark(function sn(qe){var Ce;return(0,c.Z)().wrap(function(Fe){for(;;)switch(Fe.prev=Fe.next){case 0:return Ce=0,Fe.abrupt("return",new Promise(function(Nt){qe.forEach(function(hn){hn.then(function(ir){ir.errors.length&&Nt([ir]),Ce+=1,Ce===qe.length&&Nt([])})})}));case 2:case"end":return Fe.stop()}},sn)})),gt.apply(this,arguments)}var wn=B(36040);function qt(sn){return Ut(sn)}function Nn(sn,qe){var Ce={};return qe.forEach(function(Ye){var Fe=(0,wn.Z)(sn,Ye);Ce=(0,at.Z)(Ce,Ye,Fe)}),Ce}function sr(sn,qe){var Ce=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return sn&&sn.some(function(Ye){return Wr(qe,Ye,Ce)})}function Wr(sn,qe){var Ce=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return!sn||!qe||!Ce&&sn.length!==qe.length?!1:qe.every(function(Ye,Fe){return sn[Fe]===Ye})}function Pi(sn,qe){if(sn===qe)return!0;if(!sn&&qe||sn&&!qe||!sn||!qe||(0,yr.Z)(sn)!=="object"||(0,yr.Z)(qe)!=="object")return!1;var Ce=Object.keys(sn),Ye=Object.keys(qe),Fe=new Set([].concat(Ce,Ye));return(0,De.Z)(Fe).every(function(Nt){var hn=sn[Nt],ir=qe[Nt];return typeof hn=="function"&&typeof ir=="function"?!0:hn===ir})}function Co(sn){var qe=arguments.length<=1?void 0:arguments[1];return qe&&qe.target&&(0,yr.Z)(qe.target)==="object"&&sn in qe.target?qe.target[sn]:qe}function Vi(sn,qe,Ce){var Ye=sn.length;if(qe<0||qe>=Ye||Ce<0||Ce>=Ye)return sn;var Fe=sn[qe],Nt=qe-Ce;return Nt>0?[].concat((0,De.Z)(sn.slice(0,Ce)),[Fe],(0,De.Z)(sn.slice(Ce,qe)),(0,De.Z)(sn.slice(qe+1,Ye))):Nt<0?[].concat((0,De.Z)(sn.slice(0,qe)),(0,De.Z)(sn.slice(qe+1,Ce+1)),[Fe],(0,De.Z)(sn.slice(Ce+1,Ye))):sn}var uo=["name"],fo=[];function Ki(sn,qe,Ce,Ye,Fe,Nt){return typeof sn=="function"?sn(qe,Ce,"source"in Nt?{source:Nt.source}:{}):Ye!==Fe}var Mo=function(sn){(0,Ve.Z)(Ce,sn);var qe=(0,Ie.Z)(Ce);function Ce(Ye){var Fe;if((0,Te.Z)(this,Ce),Fe=qe.call(this,Ye),(0,Ue.Z)((0,te.Z)(Fe),"state",{resetCount:0}),(0,Ue.Z)((0,te.Z)(Fe),"cancelRegisterFunc",null),(0,Ue.Z)((0,te.Z)(Fe),"mounted",!1),(0,Ue.Z)((0,te.Z)(Fe),"touched",!1),(0,Ue.Z)((0,te.Z)(Fe),"dirty",!1),(0,Ue.Z)((0,te.Z)(Fe),"validatePromise",void 0),(0,Ue.Z)((0,te.Z)(Fe),"prevValidating",void 0),(0,Ue.Z)((0,te.Z)(Fe),"errors",fo),(0,Ue.Z)((0,te.Z)(Fe),"warnings",fo),(0,Ue.Z)((0,te.Z)(Fe),"cancelRegister",function(){var Ar=Fe.props,Nr=Ar.preserve,Rr=Ar.isListField,_i=Ar.name;Fe.cancelRegisterFunc&&Fe.cancelRegisterFunc(Rr,Nr,qt(_i)),Fe.cancelRegisterFunc=null}),(0,Ue.Z)((0,te.Z)(Fe),"getNamePath",function(){var Ar=Fe.props,Nr=Ar.name,Rr=Ar.fieldContext,_i=Rr.prefixName,Fi=_i===void 0?[]:_i;return Nr!==void 0?[].concat((0,De.Z)(Fi),(0,De.Z)(Nr)):[]}),(0,Ue.Z)((0,te.Z)(Fe),"getRules",function(){var Ar=Fe.props,Nr=Ar.rules,Rr=Nr===void 0?[]:Nr,_i=Ar.fieldContext;return Rr.map(function(Fi){return typeof Fi=="function"?Fi(_i):Fi})}),(0,Ue.Z)((0,te.Z)(Fe),"refresh",function(){Fe.mounted&&Fe.setState(function(Ar){var Nr=Ar.resetCount;return{resetCount:Nr+1}})}),(0,Ue.Z)((0,te.Z)(Fe),"metaCache",null),(0,Ue.Z)((0,te.Z)(Fe),"triggerMetaEvent",function(Ar){var Nr=Fe.props.onMetaChange;if(Nr){var Rr=(0,We.Z)((0,We.Z)({},Fe.getMeta()),{},{destroy:Ar});(0,ot.Z)(Fe.metaCache,Rr)||Nr(Rr),Fe.metaCache=Rr}else Fe.metaCache=null}),(0,Ue.Z)((0,te.Z)(Fe),"onStoreChange",function(Ar,Nr,Rr){var _i=Fe.props,Fi=_i.shouldUpdate,Ao=_i.dependencies,Ai=Ao===void 0?[]:Ao,Zi=_i.onReset,li=Rr.store,Xi=Fe.getNamePath(),Yi=Fe.getValue(Ar),Po=Fe.getValue(li),la=Nr&&sr(Nr,Xi);switch(Rr.type==="valueUpdate"&&Rr.source==="external"&&!(0,ot.Z)(Yi,Po)&&(Fe.touched=!0,Fe.dirty=!0,Fe.validatePromise=null,Fe.errors=fo,Fe.warnings=fo,Fe.triggerMetaEvent()),Rr.type){case"reset":if(!Nr||la){Fe.touched=!1,Fe.dirty=!1,Fe.validatePromise=void 0,Fe.errors=fo,Fe.warnings=fo,Fe.triggerMetaEvent(),Zi==null||Zi(),Fe.refresh();return}break;case"remove":{if(Fi&&Ki(Fi,Ar,li,Yi,Po,Rr)){Fe.reRender();return}break}case"setField":{var da=Rr.data;if(la){"touched"in da&&(Fe.touched=da.touched),"validating"in da&&!("originRCField"in da)&&(Fe.validatePromise=da.validating?Promise.resolve([]):null),"errors"in da&&(Fe.errors=da.errors||fo),"warnings"in da&&(Fe.warnings=da.warnings||fo),Fe.dirty=!0,Fe.triggerMetaEvent(),Fe.reRender();return}else if("value"in da&&sr(Nr,Xi,!0)){Fe.reRender();return}if(Fi&&!Xi.length&&Ki(Fi,Ar,li,Yi,Po,Rr)){Fe.reRender();return}break}case"dependenciesUpdate":{var ma=Ai.map(qt);if(ma.some(function(ba){return sr(Rr.relatedFields,ba)})){Fe.reRender();return}break}default:if(la||(!Ai.length||Xi.length||Fi)&&Ki(Fi,Ar,li,Yi,Po,Rr)){Fe.reRender();return}break}Fi===!0&&Fe.reRender()}),(0,Ue.Z)((0,te.Z)(Fe),"validateRules",function(Ar){var Nr=Fe.getNamePath(),Rr=Fe.getValue(),_i=Ar||{},Fi=_i.triggerName,Ao=_i.validateOnly,Ai=Ao===void 0?!1:Ao,Zi=Promise.resolve().then((0,be.Z)((0,c.Z)().mark(function li(){var Xi,Yi,Po,la,da,ma,ba;return(0,c.Z)().wrap(function(wa){for(;;)switch(wa.prev=wa.next){case 0:if(Fe.mounted){wa.next=2;break}return wa.abrupt("return",[]);case 2:if(Xi=Fe.props,Yi=Xi.validateFirst,Po=Yi===void 0?!1:Yi,la=Xi.messageVariables,da=Xi.validateDebounce,ma=Fe.getRules(),Fi&&(ma=ma.filter(function(Ua){return Ua}).filter(function(Ua){var ga=Ua.validateTrigger;if(!ga)return!0;var Ts=Ut(ga);return Ts.includes(Fi)})),!(da&&Fi)){wa.next=10;break}return wa.next=8,new Promise(function(Ua){setTimeout(Ua,da)});case 8:if(Fe.validatePromise===Zi){wa.next=10;break}return wa.abrupt("return",[]);case 10:return ba=Fr(Nr,Rr,ma,Ar,Po,la),ba.catch(function(Ua){return Ua}).then(function(){var Ua=arguments.length>0&&arguments[0]!==void 0?arguments[0]:fo;if(Fe.validatePromise===Zi){var ga;Fe.validatePromise=null;var Ts=[],Ms=[];(ga=Ua.forEach)===null||ga===void 0||ga.call(Ua,function(ms){var $a=ms.rule.warningOnly,xl=ms.errors,hl=xl===void 0?fo:xl;$a?Ms.push.apply(Ms,(0,De.Z)(hl)):Ts.push.apply(Ts,(0,De.Z)(hl))}),Fe.errors=Ts,Fe.warnings=Ms,Fe.triggerMetaEvent(),Fe.reRender()}}),wa.abrupt("return",ba);case 13:case"end":return wa.stop()}},li)})));return Ai||(Fe.validatePromise=Zi,Fe.dirty=!0,Fe.errors=fo,Fe.warnings=fo,Fe.triggerMetaEvent(),Fe.reRender()),Zi}),(0,Ue.Z)((0,te.Z)(Fe),"isFieldValidating",function(){return!!Fe.validatePromise}),(0,Ue.Z)((0,te.Z)(Fe),"isFieldTouched",function(){return Fe.touched}),(0,Ue.Z)((0,te.Z)(Fe),"isFieldDirty",function(){if(Fe.dirty||Fe.props.initialValue!==void 0)return!0;var Ar=Fe.props.fieldContext,Nr=Ar.getInternalHooks(ct),Rr=Nr.getInitialValue;return Rr(Fe.getNamePath())!==void 0}),(0,Ue.Z)((0,te.Z)(Fe),"getErrors",function(){return Fe.errors}),(0,Ue.Z)((0,te.Z)(Fe),"getWarnings",function(){return Fe.warnings}),(0,Ue.Z)((0,te.Z)(Fe),"isListField",function(){return Fe.props.isListField}),(0,Ue.Z)((0,te.Z)(Fe),"isList",function(){return Fe.props.isList}),(0,Ue.Z)((0,te.Z)(Fe),"isPreserve",function(){return Fe.props.preserve}),(0,Ue.Z)((0,te.Z)(Fe),"getMeta",function(){Fe.prevValidating=Fe.isFieldValidating();var Ar={touched:Fe.isFieldTouched(),validating:Fe.prevValidating,errors:Fe.errors,warnings:Fe.warnings,name:Fe.getNamePath(),validated:Fe.validatePromise===null};return Ar}),(0,Ue.Z)((0,te.Z)(Fe),"getOnlyChild",function(Ar){if(typeof Ar=="function"){var Nr=Fe.getMeta();return(0,We.Z)((0,We.Z)({},Fe.getOnlyChild(Ar(Fe.getControlled(),Nr,Fe.props.fieldContext))),{},{isFunction:!0})}var Rr=(0,tt.Z)(Ar);return Rr.length!==1||!a.isValidElement(Rr[0])?{child:Rr,isFunction:!1}:{child:Rr[0],isFunction:!1}}),(0,Ue.Z)((0,te.Z)(Fe),"getValue",function(Ar){var Nr=Fe.props.fieldContext.getFieldsValue,Rr=Fe.getNamePath();return(0,wn.Z)(Ar||Nr(!0),Rr)}),(0,Ue.Z)((0,te.Z)(Fe),"getControlled",function(){var Ar=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Nr=Fe.props,Rr=Nr.name,_i=Nr.trigger,Fi=Nr.validateTrigger,Ao=Nr.getValueFromEvent,Ai=Nr.normalize,Zi=Nr.valuePropName,li=Nr.getValueProps,Xi=Nr.fieldContext,Yi=Fi!==void 0?Fi:Xi.validateTrigger,Po=Fe.getNamePath(),la=Xi.getInternalHooks,da=Xi.getFieldsValue,ma=la(ct),ba=ma.dispatch,Sa=Fe.getValue(),wa=li||function(ms){return(0,Ue.Z)({},Zi,ms)},Ua=Ar[_i],ga=Rr!==void 0?wa(Sa):{},Ts=(0,We.Z)((0,We.Z)({},Ar),ga);Ts[_i]=function(){Fe.touched=!0,Fe.dirty=!0,Fe.triggerMetaEvent();for(var ms,$a=arguments.length,xl=new Array($a),hl=0;hl<$a;hl++)xl[hl]=arguments[hl];Ao?ms=Ao.apply(void 0,xl):ms=Co.apply(void 0,[Zi].concat(xl)),Ai&&(ms=Ai(ms,Sa,da(!0))),ms!==Sa&&ba({type:"updateValue",namePath:Po,value:ms}),Ua&&Ua.apply(void 0,xl)};var Ms=Ut(Yi||[]);return Ms.forEach(function(ms){var $a=Ts[ms];Ts[ms]=function(){$a&&$a.apply(void 0,arguments);var xl=Fe.props.rules;xl&&xl.length&&ba({type:"validateField",namePath:Po,triggerName:ms})}}),Ts}),Ye.fieldContext){var Nt=Ye.fieldContext.getInternalHooks,hn=Nt(ct),ir=hn.initEntityValue;ir((0,te.Z)(Fe))}return Fe}return(0,ye.Z)(Ce,[{key:"componentDidMount",value:function(){var Fe=this.props,Nt=Fe.shouldUpdate,hn=Fe.fieldContext;if(this.mounted=!0,hn){var ir=hn.getInternalHooks,Ar=ir(ct),Nr=Ar.registerField;this.cancelRegisterFunc=Nr(this)}Nt===!0&&this.reRender()}},{key:"componentWillUnmount",value:function(){this.cancelRegister(),this.triggerMetaEvent(!0),this.mounted=!1}},{key:"reRender",value:function(){this.mounted&&this.forceUpdate()}},{key:"render",value:function(){var Fe=this.state.resetCount,Nt=this.props.children,hn=this.getOnlyChild(Nt),ir=hn.child,Ar=hn.isFunction,Nr;return Ar?Nr=ir:a.isValidElement(ir)?Nr=a.cloneElement(ir,this.getControlled(ir.props)):((0,Je.ZP)(!ir,"`children` of Field is not validate ReactElement."),Nr=ir),a.createElement(a.Fragment,{key:Fe},Nr)}}]),Ce}(a.Component);(0,Ue.Z)(Mo,"contextType",jt),(0,Ue.Z)(Mo,"defaultProps",{trigger:"onChange",valuePropName:"value"});function Zo(sn){var qe,Ce=sn.name,Ye=(0,q.Z)(sn,uo),Fe=a.useContext(jt),Nt=a.useContext(Mt),hn=Ce!==void 0?qt(Ce):void 0,ir=(qe=Ye.isListField)!==null&&qe!==void 0?qe:!!Nt,Ar="keep";return ir||(Ar="_".concat((hn||[]).join("_"))),a.createElement(Mo,(0,Qe.Z)({key:Ar,name:hn,isListField:ir},Ye,{fieldContext:Fe}))}var Lo=Zo;function To(sn){var qe=sn.name,Ce=sn.initialValue,Ye=sn.children,Fe=sn.rules,Nt=sn.validateTrigger,hn=sn.isListField,ir=a.useContext(jt),Ar=a.useContext(Mt),Nr=a.useRef({keys:[],id:0}),Rr=Nr.current,_i=a.useMemo(function(){var Zi=qt(ir.prefixName)||[];return[].concat((0,De.Z)(Zi),(0,De.Z)(qt(qe)))},[ir.prefixName,qe]),Fi=a.useMemo(function(){return(0,We.Z)((0,We.Z)({},ir),{},{prefixName:_i})},[ir,_i]),Ao=a.useMemo(function(){return{getKey:function(li){var Xi=_i.length,Yi=li[Xi];return[Rr.keys[Yi],li.slice(Xi+1)]}}},[_i]);if(typeof Ye!="function")return(0,Je.ZP)(!1,"Form.List only accepts function as children."),null;var Ai=function(li,Xi,Yi){var Po=Yi.source;return Po==="internal"?!1:li!==Xi};return a.createElement(Mt.Provider,{value:Ao},a.createElement(jt.Provider,{value:Fi},a.createElement(Lo,{name:[],shouldUpdate:Ai,rules:Fe,validateTrigger:Nt,initialValue:Ce,isList:!0,isListField:hn!=null?hn:!!Ar},function(Zi,li){var Xi=Zi.value,Yi=Xi===void 0?[]:Xi,Po=Zi.onChange,la=ir.getFieldValue,da=function(){var wa=la(_i||[]);return wa||[]},ma={add:function(wa,Ua){var ga=da();Ua>=0&&Ua<=ga.length?(Rr.keys=[].concat((0,De.Z)(Rr.keys.slice(0,Ua)),[Rr.id],(0,De.Z)(Rr.keys.slice(Ua))),Po([].concat((0,De.Z)(ga.slice(0,Ua)),[wa],(0,De.Z)(ga.slice(Ua))))):(Rr.keys=[].concat((0,De.Z)(Rr.keys),[Rr.id]),Po([].concat((0,De.Z)(ga),[wa]))),Rr.id+=1},remove:function(wa){var Ua=da(),ga=new Set(Array.isArray(wa)?wa:[wa]);ga.size<=0||(Rr.keys=Rr.keys.filter(function(Ts,Ms){return!ga.has(Ms)}),Po(Ua.filter(function(Ts,Ms){return!ga.has(Ms)})))},move:function(wa,Ua){if(wa!==Ua){var ga=da();wa<0||wa>=ga.length||Ua<0||Ua>=ga.length||(Rr.keys=Vi(Rr.keys,wa,Ua),Po(Vi(ga,wa,Ua)))}}},ba=Yi||[];return Array.isArray(ba)||(ba=[]),Ye(ba.map(function(Sa,wa){var Ua=Rr.keys[wa];return Ua===void 0&&(Rr.keys[wa]=Rr.id,Ua=Rr.keys[wa],Rr.id+=1),{name:wa,key:Ua,isListField:!0}}),ma,li)})))}var $o=To,zo=B(89692);function qo(sn){var qe=!1,Ce=sn.length,Ye=[];return sn.length?new Promise(function(Fe,Nt){sn.forEach(function(hn,ir){hn.catch(function(Ar){return qe=!0,Ar}).then(function(Ar){Ce-=1,Ye[ir]=Ar,!(Ce>0)&&(qe&&Nt(Ye),Fe(Ye))})})}):Promise.resolve([])}var ho="__@field_split__";function So(sn){return sn.map(function(qe){return"".concat((0,yr.Z)(qe),":").concat(qe)}).join(ho)}var wo=function(){function sn(){(0,Te.Z)(this,sn),(0,Ue.Z)(this,"kvs",new Map)}return(0,ye.Z)(sn,[{key:"set",value:function(Ce,Ye){this.kvs.set(So(Ce),Ye)}},{key:"get",value:function(Ce){return this.kvs.get(So(Ce))}},{key:"update",value:function(Ce,Ye){var Fe=this.get(Ce),Nt=Ye(Fe);Nt?this.set(Ce,Nt):this.delete(Ce)}},{key:"delete",value:function(Ce){this.kvs.delete(So(Ce))}},{key:"map",value:function(Ce){return(0,De.Z)(this.kvs.entries()).map(function(Ye){var Fe=(0,zo.Z)(Ye,2),Nt=Fe[0],hn=Fe[1],ir=Nt.split(ho);return Ce({key:ir.map(function(Ar){var Nr=Ar.match(/^([^:]*):(.*)$/),Rr=(0,zo.Z)(Nr,3),_i=Rr[1],Fi=Rr[2];return _i==="number"?Number(Fi):Fi}),value:hn})})}},{key:"toJSON",value:function(){var Ce={};return this.map(function(Ye){var Fe=Ye.key,Nt=Ye.value;return Ce[Fe.join(".")]=Nt,null}),Ce}}]),sn}(),K=wo,_e=["name"],Ct=(0,ye.Z)(function sn(qe){var Ce=this;(0,Te.Z)(this,sn),(0,Ue.Z)(this,"formHooked",!1),(0,Ue.Z)(this,"forceRootUpdate",void 0),(0,Ue.Z)(this,"subscribable",!0),(0,Ue.Z)(this,"store",{}),(0,Ue.Z)(this,"fieldEntities",[]),(0,Ue.Z)(this,"initialValues",{}),(0,Ue.Z)(this,"callbacks",{}),(0,Ue.Z)(this,"validateMessages",null),(0,Ue.Z)(this,"preserve",null),(0,Ue.Z)(this,"lastValidatePromise",null),(0,Ue.Z)(this,"getForm",function(){return{getFieldValue:Ce.getFieldValue,getFieldsValue:Ce.getFieldsValue,getFieldError:Ce.getFieldError,getFieldWarning:Ce.getFieldWarning,getFieldsError:Ce.getFieldsError,isFieldsTouched:Ce.isFieldsTouched,isFieldTouched:Ce.isFieldTouched,isFieldValidating:Ce.isFieldValidating,isFieldsValidating:Ce.isFieldsValidating,resetFields:Ce.resetFields,setFields:Ce.setFields,setFieldValue:Ce.setFieldValue,setFieldsValue:Ce.setFieldsValue,validateFields:Ce.validateFields,submit:Ce.submit,_init:!0,getInternalHooks:Ce.getInternalHooks}}),(0,Ue.Z)(this,"getInternalHooks",function(Ye){return Ye===ct?(Ce.formHooked=!0,{dispatch:Ce.dispatch,initEntityValue:Ce.initEntityValue,registerField:Ce.registerField,useSubscribe:Ce.useSubscribe,setInitialValues:Ce.setInitialValues,destroyForm:Ce.destroyForm,setCallbacks:Ce.setCallbacks,setValidateMessages:Ce.setValidateMessages,getFields:Ce.getFields,setPreserve:Ce.setPreserve,getInitialValue:Ce.getInitialValue,registerWatch:Ce.registerWatch}):((0,Je.ZP)(!1,"`getInternalHooks` is internal usage. Should not call directly."),null)}),(0,Ue.Z)(this,"useSubscribe",function(Ye){Ce.subscribable=Ye}),(0,Ue.Z)(this,"prevWithoutPreserves",null),(0,Ue.Z)(this,"setInitialValues",function(Ye,Fe){if(Ce.initialValues=Ye||{},Fe){var Nt,hn=(0,at.T)(Ye,Ce.store);(Nt=Ce.prevWithoutPreserves)===null||Nt===void 0||Nt.map(function(ir){var Ar=ir.key;hn=(0,at.Z)(hn,Ar,(0,wn.Z)(Ye,Ar))}),Ce.prevWithoutPreserves=null,Ce.updateStore(hn)}}),(0,Ue.Z)(this,"destroyForm",function(Ye){if(Ye)Ce.updateStore({});else{var Fe=new K;Ce.getFieldEntities(!0).forEach(function(Nt){Ce.isMergedPreserve(Nt.isPreserve())||Fe.set(Nt.getNamePath(),!0)}),Ce.prevWithoutPreserves=Fe}}),(0,Ue.Z)(this,"getInitialValue",function(Ye){var Fe=(0,wn.Z)(Ce.initialValues,Ye);return Ye.length?(0,at.T)(Fe):Fe}),(0,Ue.Z)(this,"setCallbacks",function(Ye){Ce.callbacks=Ye}),(0,Ue.Z)(this,"setValidateMessages",function(Ye){Ce.validateMessages=Ye}),(0,Ue.Z)(this,"setPreserve",function(Ye){Ce.preserve=Ye}),(0,Ue.Z)(this,"watchList",[]),(0,Ue.Z)(this,"registerWatch",function(Ye){return Ce.watchList.push(Ye),function(){Ce.watchList=Ce.watchList.filter(function(Fe){return Fe!==Ye})}}),(0,Ue.Z)(this,"notifyWatch",function(){var Ye=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];if(Ce.watchList.length){var Fe=Ce.getFieldsValue(),Nt=Ce.getFieldsValue(!0);Ce.watchList.forEach(function(hn){hn(Fe,Nt,Ye)})}}),(0,Ue.Z)(this,"timeoutId",null),(0,Ue.Z)(this,"warningUnhooked",function(){}),(0,Ue.Z)(this,"updateStore",function(Ye){Ce.store=Ye}),(0,Ue.Z)(this,"getFieldEntities",function(){var Ye=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return Ye?Ce.fieldEntities.filter(function(Fe){return Fe.getNamePath().length}):Ce.fieldEntities}),(0,Ue.Z)(this,"getFieldsMap",function(){var Ye=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,Fe=new K;return Ce.getFieldEntities(Ye).forEach(function(Nt){var hn=Nt.getNamePath();Fe.set(hn,Nt)}),Fe}),(0,Ue.Z)(this,"getFieldEntitiesForNamePathList",function(Ye){if(!Ye)return Ce.getFieldEntities(!0);var Fe=Ce.getFieldsMap(!0);return Ye.map(function(Nt){var hn=qt(Nt);return Fe.get(hn)||{INVALIDATE_NAME_PATH:qt(Nt)}})}),(0,Ue.Z)(this,"getFieldsValue",function(Ye,Fe){Ce.warningUnhooked();var Nt,hn,ir;if(Ye===!0||Array.isArray(Ye)?(Nt=Ye,hn=Fe):Ye&&(0,yr.Z)(Ye)==="object"&&(ir=Ye.strict,hn=Ye.filter),Nt===!0&&!hn)return Ce.store;var Ar=Ce.getFieldEntitiesForNamePathList(Array.isArray(Nt)?Nt:null),Nr=[];return Ar.forEach(function(Rr){var _i,Fi,Ao="INVALIDATE_NAME_PATH"in Rr?Rr.INVALIDATE_NAME_PATH:Rr.getNamePath();if(ir){var Ai,Zi;if((Ai=(Zi=Rr).isList)!==null&&Ai!==void 0&&Ai.call(Zi))return}else if(!Nt&&(_i=(Fi=Rr).isListField)!==null&&_i!==void 0&&_i.call(Fi))return;if(!hn)Nr.push(Ao);else{var li="getMeta"in Rr?Rr.getMeta():null;hn(li)&&Nr.push(Ao)}}),Nn(Ce.store,Nr.map(qt))}),(0,Ue.Z)(this,"getFieldValue",function(Ye){Ce.warningUnhooked();var Fe=qt(Ye);return(0,wn.Z)(Ce.store,Fe)}),(0,Ue.Z)(this,"getFieldsError",function(Ye){Ce.warningUnhooked();var Fe=Ce.getFieldEntitiesForNamePathList(Ye);return Fe.map(function(Nt,hn){return Nt&&!("INVALIDATE_NAME_PATH"in Nt)?{name:Nt.getNamePath(),errors:Nt.getErrors(),warnings:Nt.getWarnings()}:{name:qt(Ye[hn]),errors:[],warnings:[]}})}),(0,Ue.Z)(this,"getFieldError",function(Ye){Ce.warningUnhooked();var Fe=qt(Ye),Nt=Ce.getFieldsError([Fe])[0];return Nt.errors}),(0,Ue.Z)(this,"getFieldWarning",function(Ye){Ce.warningUnhooked();var Fe=qt(Ye),Nt=Ce.getFieldsError([Fe])[0];return Nt.warnings}),(0,Ue.Z)(this,"isFieldsTouched",function(){Ce.warningUnhooked();for(var Ye=arguments.length,Fe=new Array(Ye),Nt=0;Nt<Ye;Nt++)Fe[Nt]=arguments[Nt];var hn=Fe[0],ir=Fe[1],Ar,Nr=!1;Fe.length===0?Ar=null:Fe.length===1?Array.isArray(hn)?(Ar=hn.map(qt),Nr=!1):(Ar=null,Nr=hn):(Ar=hn.map(qt),Nr=ir);var Rr=Ce.getFieldEntities(!0),_i=function(li){return li.isFieldTouched()};if(!Ar)return Nr?Rr.every(function(Zi){return _i(Zi)||Zi.isList()}):Rr.some(_i);var Fi=new K;Ar.forEach(function(Zi){Fi.set(Zi,[])}),Rr.forEach(function(Zi){var li=Zi.getNamePath();Ar.forEach(function(Xi){Xi.every(function(Yi,Po){return li[Po]===Yi})&&Fi.update(Xi,function(Yi){return[].concat((0,De.Z)(Yi),[Zi])})})});var Ao=function(li){return li.some(_i)},Ai=Fi.map(function(Zi){var li=Zi.value;return li});return Nr?Ai.every(Ao):Ai.some(Ao)}),(0,Ue.Z)(this,"isFieldTouched",function(Ye){return Ce.warningUnhooked(),Ce.isFieldsTouched([Ye])}),(0,Ue.Z)(this,"isFieldsValidating",function(Ye){Ce.warningUnhooked();var Fe=Ce.getFieldEntities();if(!Ye)return Fe.some(function(hn){return hn.isFieldValidating()});var Nt=Ye.map(qt);return Fe.some(function(hn){var ir=hn.getNamePath();return sr(Nt,ir)&&hn.isFieldValidating()})}),(0,Ue.Z)(this,"isFieldValidating",function(Ye){return Ce.warningUnhooked(),Ce.isFieldsValidating([Ye])}),(0,Ue.Z)(this,"resetWithFieldInitialValue",function(){var Ye=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Fe=new K,Nt=Ce.getFieldEntities(!0);Nt.forEach(function(Ar){var Nr=Ar.props.initialValue,Rr=Ar.getNamePath();if(Nr!==void 0){var _i=Fe.get(Rr)||new Set;_i.add({entity:Ar,value:Nr}),Fe.set(Rr,_i)}});var hn=function(Nr){Nr.forEach(function(Rr){var _i=Rr.props.initialValue;if(_i!==void 0){var Fi=Rr.getNamePath(),Ao=Ce.getInitialValue(Fi);if(Ao!==void 0)(0,Je.ZP)(!1,"Form already set 'initialValues' with path '".concat(Fi.join("."),"'. Field can not overwrite it."));else{var Ai=Fe.get(Fi);if(Ai&&Ai.size>1)(0,Je.ZP)(!1,"Multiple Field with path '".concat(Fi.join("."),"' set 'initialValue'. Can not decide which one to pick."));else if(Ai){var Zi=Ce.getFieldValue(Fi),li=Rr.isListField();!li&&(!Ye.skipExist||Zi===void 0)&&Ce.updateStore((0,at.Z)(Ce.store,Fi,(0,De.Z)(Ai)[0].value))}}}})},ir;Ye.entities?ir=Ye.entities:Ye.namePathList?(ir=[],Ye.namePathList.forEach(function(Ar){var Nr=Fe.get(Ar);if(Nr){var Rr;(Rr=ir).push.apply(Rr,(0,De.Z)((0,De.Z)(Nr).map(function(_i){return _i.entity})))}})):ir=Nt,hn(ir)}),(0,Ue.Z)(this,"resetFields",function(Ye){Ce.warningUnhooked();var Fe=Ce.store;if(!Ye){Ce.updateStore((0,at.T)(Ce.initialValues)),Ce.resetWithFieldInitialValue(),Ce.notifyObservers(Fe,null,{type:"reset"}),Ce.notifyWatch();return}var Nt=Ye.map(qt);Nt.forEach(function(hn){var ir=Ce.getInitialValue(hn);Ce.updateStore((0,at.Z)(Ce.store,hn,ir))}),Ce.resetWithFieldInitialValue({namePathList:Nt}),Ce.notifyObservers(Fe,Nt,{type:"reset"}),Ce.notifyWatch(Nt)}),(0,Ue.Z)(this,"setFields",function(Ye){Ce.warningUnhooked();var Fe=Ce.store,Nt=[];Ye.forEach(function(hn){var ir=hn.name,Ar=(0,q.Z)(hn,_e),Nr=qt(ir);Nt.push(Nr),"value"in Ar&&Ce.updateStore((0,at.Z)(Ce.store,Nr,Ar.value)),Ce.notifyObservers(Fe,[Nr],{type:"setField",data:hn})}),Ce.notifyWatch(Nt)}),(0,Ue.Z)(this,"getFields",function(){var Ye=Ce.getFieldEntities(!0),Fe=Ye.map(function(Nt){var hn=Nt.getNamePath(),ir=Nt.getMeta(),Ar=(0,We.Z)((0,We.Z)({},ir),{},{name:hn,value:Ce.getFieldValue(hn)});return Object.defineProperty(Ar,"originRCField",{value:!0}),Ar});return Fe}),(0,Ue.Z)(this,"initEntityValue",function(Ye){var Fe=Ye.props.initialValue;if(Fe!==void 0){var Nt=Ye.getNamePath(),hn=(0,wn.Z)(Ce.store,Nt);hn===void 0&&Ce.updateStore((0,at.Z)(Ce.store,Nt,Fe))}}),(0,Ue.Z)(this,"isMergedPreserve",function(Ye){var Fe=Ye!==void 0?Ye:Ce.preserve;return Fe!=null?Fe:!0}),(0,Ue.Z)(this,"registerField",function(Ye){Ce.fieldEntities.push(Ye);var Fe=Ye.getNamePath();if(Ce.notifyWatch([Fe]),Ye.props.initialValue!==void 0){var Nt=Ce.store;Ce.resetWithFieldInitialValue({entities:[Ye],skipExist:!0}),Ce.notifyObservers(Nt,[Ye.getNamePath()],{type:"valueUpdate",source:"internal"})}return function(hn,ir){var Ar=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];if(Ce.fieldEntities=Ce.fieldEntities.filter(function(_i){return _i!==Ye}),!Ce.isMergedPreserve(ir)&&(!hn||Ar.length>1)){var Nr=hn?void 0:Ce.getInitialValue(Fe);if(Fe.length&&Ce.getFieldValue(Fe)!==Nr&&Ce.fieldEntities.every(function(_i){return!Wr(_i.getNamePath(),Fe)})){var Rr=Ce.store;Ce.updateStore((0,at.Z)(Rr,Fe,Nr,!0)),Ce.notifyObservers(Rr,[Fe],{type:"remove"}),Ce.triggerDependenciesUpdate(Rr,Fe)}}Ce.notifyWatch([Fe])}}),(0,Ue.Z)(this,"dispatch",function(Ye){switch(Ye.type){case"updateValue":{var Fe=Ye.namePath,Nt=Ye.value;Ce.updateValue(Fe,Nt);break}case"validateField":{var hn=Ye.namePath,ir=Ye.triggerName;Ce.validateFields([hn],{triggerName:ir});break}default:}}),(0,Ue.Z)(this,"notifyObservers",function(Ye,Fe,Nt){if(Ce.subscribable){var hn=(0,We.Z)((0,We.Z)({},Nt),{},{store:Ce.getFieldsValue(!0)});Ce.getFieldEntities().forEach(function(ir){var Ar=ir.onStoreChange;Ar(Ye,Fe,hn)})}else Ce.forceRootUpdate()}),(0,Ue.Z)(this,"triggerDependenciesUpdate",function(Ye,Fe){var Nt=Ce.getDependencyChildrenFields(Fe);return Nt.length&&Ce.validateFields(Nt),Ce.notifyObservers(Ye,Nt,{type:"dependenciesUpdate",relatedFields:[Fe].concat((0,De.Z)(Nt))}),Nt}),(0,Ue.Z)(this,"updateValue",function(Ye,Fe){var Nt=qt(Ye),hn=Ce.store;Ce.updateStore((0,at.Z)(Ce.store,Nt,Fe)),Ce.notifyObservers(hn,[Nt],{type:"valueUpdate",source:"internal"}),Ce.notifyWatch([Nt]);var ir=Ce.triggerDependenciesUpdate(hn,Nt),Ar=Ce.callbacks.onValuesChange;if(Ar){var Nr=Nn(Ce.store,[Nt]);Ar(Nr,Ce.getFieldsValue())}Ce.triggerOnFieldsChange([Nt].concat((0,De.Z)(ir)))}),(0,Ue.Z)(this,"setFieldsValue",function(Ye){Ce.warningUnhooked();var Fe=Ce.store;if(Ye){var Nt=(0,at.T)(Ce.store,Ye);Ce.updateStore(Nt)}Ce.notifyObservers(Fe,null,{type:"valueUpdate",source:"external"}),Ce.notifyWatch()}),(0,Ue.Z)(this,"setFieldValue",function(Ye,Fe){Ce.setFields([{name:Ye,value:Fe,errors:[],warnings:[]}])}),(0,Ue.Z)(this,"getDependencyChildrenFields",function(Ye){var Fe=new Set,Nt=[],hn=new K;Ce.getFieldEntities().forEach(function(Ar){var Nr=Ar.props.dependencies;(Nr||[]).forEach(function(Rr){var _i=qt(Rr);hn.update(_i,function(){var Fi=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new Set;return Fi.add(Ar),Fi})})});var ir=function Ar(Nr){var Rr=hn.get(Nr)||new Set;Rr.forEach(function(_i){if(!Fe.has(_i)){Fe.add(_i);var Fi=_i.getNamePath();_i.isFieldDirty()&&Fi.length&&(Nt.push(Fi),Ar(Fi))}})};return ir(Ye),Nt}),(0,Ue.Z)(this,"triggerOnFieldsChange",function(Ye,Fe){var Nt=Ce.callbacks.onFieldsChange;if(Nt){var hn=Ce.getFields();if(Fe){var ir=new K;Fe.forEach(function(Nr){var Rr=Nr.name,_i=Nr.errors;ir.set(Rr,_i)}),hn.forEach(function(Nr){Nr.errors=ir.get(Nr.name)||Nr.errors})}var Ar=hn.filter(function(Nr){var Rr=Nr.name;return sr(Ye,Rr)});Ar.length&&Nt(Ar,hn)}}),(0,Ue.Z)(this,"validateFields",function(Ye,Fe){Ce.warningUnhooked();var Nt,hn;Array.isArray(Ye)||typeof Ye=="string"||typeof Fe=="string"?(Nt=Ye,hn=Fe):hn=Ye;var ir=!!Nt,Ar=ir?Nt.map(qt):[],Nr=[],Rr=String(Date.now()),_i=new Set,Fi=hn||{},Ao=Fi.recursive,Ai=Fi.dirty;Ce.getFieldEntities(!0).forEach(function(Yi){if(ir||Ar.push(Yi.getNamePath()),!(!Yi.props.rules||!Yi.props.rules.length)&&!(Ai&&!Yi.isFieldDirty())){var Po=Yi.getNamePath();if(_i.add(Po.join(Rr)),!ir||sr(Ar,Po,Ao)){var la=Yi.validateRules((0,We.Z)({validateMessages:(0,We.Z)((0,We.Z)({},dt),Ce.validateMessages)},hn));Nr.push(la.then(function(){return{name:Po,errors:[],warnings:[]}}).catch(function(da){var ma,ba=[],Sa=[];return(ma=da.forEach)===null||ma===void 0||ma.call(da,function(wa){var Ua=wa.rule.warningOnly,ga=wa.errors;Ua?Sa.push.apply(Sa,(0,De.Z)(ga)):ba.push.apply(ba,(0,De.Z)(ga))}),ba.length?Promise.reject({name:Po,errors:ba,warnings:Sa}):{name:Po,errors:ba,warnings:Sa}}))}}});var Zi=qo(Nr);Ce.lastValidatePromise=Zi,Zi.catch(function(Yi){return Yi}).then(function(Yi){var Po=Yi.map(function(la){var da=la.name;return da});Ce.notifyObservers(Ce.store,Po,{type:"validateFinish"}),Ce.triggerOnFieldsChange(Po,Yi)});var li=Zi.then(function(){return Ce.lastValidatePromise===Zi?Promise.resolve(Ce.getFieldsValue(Ar)):Promise.reject([])}).catch(function(Yi){var Po=Yi.filter(function(la){return la&&la.errors.length});return Promise.reject({values:Ce.getFieldsValue(Ar),errorFields:Po,outOfDate:Ce.lastValidatePromise!==Zi})});li.catch(function(Yi){return Yi});var Xi=Ar.filter(function(Yi){return _i.has(Yi.join(Rr))});return Ce.triggerOnFieldsChange(Xi),li}),(0,Ue.Z)(this,"submit",function(){Ce.warningUnhooked(),Ce.validateFields().then(function(Ye){var Fe=Ce.callbacks.onFinish;if(Fe)try{Fe(Ye)}catch(Nt){console.error(Nt)}}).catch(function(Ye){var Fe=Ce.callbacks.onFinishFailed;Fe&&Fe(Ye)})}),this.forceRootUpdate=qe});function Et(sn){var qe=a.useRef(),Ce=a.useState({}),Ye=(0,zo.Z)(Ce,2),Fe=Ye[1];if(!qe.current)if(sn)qe.current=sn;else{var Nt=function(){Fe({})},hn=new Ct(Nt);qe.current=hn.getForm()}return[qe.current]}var En=Et,Qn=a.createContext({triggerFormChange:function(){},triggerFormFinish:function(){},registerForm:function(){},unregisterForm:function(){}}),si=function(qe){var Ce=qe.validateMessages,Ye=qe.onFormChange,Fe=qe.onFormFinish,Nt=qe.children,hn=a.useContext(Qn),ir=a.useRef({});return a.createElement(Qn.Provider,{value:(0,We.Z)((0,We.Z)({},hn),{},{validateMessages:(0,We.Z)((0,We.Z)({},hn.validateMessages),Ce),triggerFormChange:function(Nr,Rr){Ye&&Ye(Nr,{changedFields:Rr,forms:ir.current}),hn.triggerFormChange(Nr,Rr)},triggerFormFinish:function(Nr,Rr){Fe&&Fe(Nr,{values:Rr,forms:ir.current}),hn.triggerFormFinish(Nr,Rr)},registerForm:function(Nr,Rr){Nr&&(ir.current=(0,We.Z)((0,We.Z)({},ir.current),{},(0,Ue.Z)({},Nr,Rr))),hn.registerForm(Nr,Rr)},unregisterForm:function(Nr){var Rr=(0,We.Z)({},ir.current);delete Rr[Nr],ir.current=Rr,hn.unregisterForm(Nr)}})},Nt)},Or=Qn,Ri=["name","initialValues","fields","form","preserve","children","component","validateMessages","validateTrigger","onValuesChange","onFieldsChange","onFinish","onFinishFailed","clearOnDestroy"],_o=function(qe,Ce){var Ye=qe.name,Fe=qe.initialValues,Nt=qe.fields,hn=qe.form,ir=qe.preserve,Ar=qe.children,Nr=qe.component,Rr=Nr===void 0?"form":Nr,_i=qe.validateMessages,Fi=qe.validateTrigger,Ao=Fi===void 0?"onChange":Fi,Ai=qe.onValuesChange,Zi=qe.onFieldsChange,li=qe.onFinish,Xi=qe.onFinishFailed,Yi=qe.clearOnDestroy,Po=(0,q.Z)(qe,Ri),la=a.useRef(null),da=a.useContext(Or),ma=En(hn),ba=(0,zo.Z)(ma,1),Sa=ba[0],wa=Sa.getInternalHooks(ct),Ua=wa.useSubscribe,ga=wa.setInitialValues,Ts=wa.setCallbacks,Ms=wa.setValidateMessages,ms=wa.setPreserve,$a=wa.destroyForm;a.useImperativeHandle(Ce,function(){return(0,We.Z)((0,We.Z)({},Sa),{},{nativeElement:la.current})}),a.useEffect(function(){return da.registerForm(Ye,Sa),function(){da.unregisterForm(Ye)}},[da,Sa,Ye]),Ms((0,We.Z)((0,We.Z)({},da.validateMessages),_i)),Ts({onValuesChange:Ai,onFieldsChange:function(aa){if(da.triggerFormChange(Ye,aa),Zi){for(var fs=arguments.length,Fs=new Array(fs>1?fs-1:0),Nl=1;Nl<fs;Nl++)Fs[Nl-1]=arguments[Nl];Zi.apply(void 0,[aa].concat(Fs))}},onFinish:function(aa){da.triggerFormFinish(Ye,aa),li&&li(aa)},onFinishFailed:Xi}),ms(ir);var xl=a.useRef(null);ga(Fe,!xl.current),xl.current||(xl.current=!0),a.useEffect(function(){return function(){return $a(Yi)}},[]);var hl,Hs=typeof Ar=="function";if(Hs){var Rl=Sa.getFieldsValue(!0);hl=Ar(Rl,Sa)}else hl=Ar;Ua(!Hs);var Ql=a.useRef();a.useEffect(function(){Pi(Ql.current||[],Nt||[])||Sa.setFields(Nt||[]),Ql.current=Nt},[Nt,Sa]);var xa=a.useMemo(function(){return(0,We.Z)((0,We.Z)({},Sa),{},{validateTrigger:Ao})},[Sa,Ao]),Wa=a.createElement(Mt.Provider,{value:null},a.createElement(jt.Provider,{value:xa},hl));return Rr===!1?Wa:a.createElement(Rr,(0,Qe.Z)({},Po,{ref:la,onSubmit:function(aa){aa.preventDefault(),aa.stopPropagation(),Sa.submit()},onReset:function(aa){var fs;aa.preventDefault(),Sa.resetFields(),(fs=Po.onReset)===null||fs===void 0||fs.call(Po,aa)}}),Wa)},Lr=_o;function Ji(sn){try{return JSON.stringify(sn)}catch(qe){return Math.random()}}var zr=function(){};function Si(){for(var sn=arguments.length,qe=new Array(sn),Ce=0;Ce<sn;Ce++)qe[Ce]=arguments[Ce];var Ye=qe[0],Fe=qe[1],Nt=Fe===void 0?{}:Fe,hn=Vt(Nt)?{form:Nt}:Nt,ir=hn.form,Ar=(0,a.useState)(),Nr=(0,zo.Z)(Ar,2),Rr=Nr[0],_i=Nr[1],Fi=(0,a.useMemo)(function(){return Ji(Rr)},[Rr]),Ao=(0,a.useRef)(Fi);Ao.current=Fi;var Ai=(0,a.useContext)(jt),Zi=ir||Ai,li=Zi&&Zi._init,Xi=qt(Ye),Yi=(0,a.useRef)(Xi);return Yi.current=Xi,zr(Xi),(0,a.useEffect)(function(){if(li){var Po=Zi.getFieldsValue,la=Zi.getInternalHooks,da=la(ct),ma=da.registerWatch,ba=function(ga,Ts){var Ms=hn.preserve?Ts:ga;return typeof Ye=="function"?Ye(Ms):(0,wn.Z)(Ms,Yi.current)},Sa=ma(function(Ua,ga){var Ts=ba(Ua,ga),Ms=Ji(Ts);Ao.current!==Ms&&(Ao.current=Ms,_i(Ts))}),wa=ba(Po(),Po(!0));return Rr!==wa&&_i(wa),Sa}},[li]),Rr}var ai=Si,mi=a.forwardRef(Lr),Xo=mi;Xo.FormProvider=si,Xo.Field=Lo,Xo.List=$o,Xo.useForm=En,Xo.useWatch=ai;var Uo=Xo},88555:function(Ir,Ft,B){"use strict";B.d(Ft,{Z:function(){return De}});var a=B(58190),Qe=B(54153),q=B(5147),c=B(75271),be=["show"];function We(Te,ye){if(!ye.max)return!0;var te=ye.strategy(Te);return te<=ye.max}function De(Te,ye){return c.useMemo(function(){var te={};ye&&(te.show=(0,q.Z)(ye)==="object"&&ye.formatter?ye.formatter:!!ye),te=(0,Qe.Z)((0,Qe.Z)({},te),Te);var Ve=te,Ie=Ve.show,Ue=(0,a.Z)(Ve,be);return(0,Qe.Z)((0,Qe.Z)({},Ue),{},{show:!!Ie,showFormatter:typeof Ie=="function"?Ie:void 0,strategy:Ue.strategy||function(tt){return tt.length}})},[Te,ye])}},44885:function(Ir,Ft,B){"use strict";B.d(Ft,{Q:function(){return te},Z:function(){return jt}});var a=B(54153),Qe=B(23022),q=B(38926),c=B(5147),be=B(82187),We=B.n(be),De=B(75271),Te=B(68677),ye=De.forwardRef(function(vt,Mt){var Ut,Vt,yr,lr=vt.inputElement,Xn=vt.children,Ge=vt.prefixCls,Ht=vt.prefix,un=vt.suffix,Xt=vt.addonBefore,ke=vt.addonAfter,zn=vt.className,mn=vt.style,Rn=vt.disabled,ut=vt.readOnly,Jt=vt.focused,Cn=vt.triggerFocus,he=vt.allowClear,Qt=vt.value,xi=vt.handleReset,ui=vt.hidden,Ae=vt.classes,An=vt.classNames,Ur=vt.dataAttrs,Jr=vt.styles,On=vt.components,Kr=vt.onClear,Ti=Xn!=null?Xn:lr,fr=(On==null?void 0:On.affixWrapper)||"span",it=(On==null?void 0:On.groupWrapper)||"span",Ot=(On==null?void 0:On.wrapper)||"span",Dn=(On==null?void 0:On.groupAddon)||"span",pn=(0,De.useRef)(null),gn=function(di){var Ci;(Ci=pn.current)!==null&&Ci!==void 0&&Ci.contains(di.target)&&(Cn==null||Cn())},wr=(0,Te.X3)(vt),Hn=(0,De.cloneElement)(Ti,{value:Qt,className:We()((Ut=Ti.props)===null||Ut===void 0?void 0:Ut.className,!wr&&(An==null?void 0:An.variant))||null}),oi=(0,De.useRef)(null);if(De.useImperativeHandle(Mt,function(){return{nativeElement:oi.current||pn.current}}),wr){var pi=null;if(he){var ri=!Rn&&!ut&&Qt,ni="".concat(Ge,"-clear-icon"),Cr=(0,c.Z)(he)==="object"&&he!==null&&he!==void 0&&he.clearIcon?he.clearIcon:"\u2716";pi=De.createElement("button",{type:"button",tabIndex:-1,onClick:function(di){xi==null||xi(di),Kr==null||Kr()},onMouseDown:function(di){return di.preventDefault()},className:We()(ni,(0,q.Z)((0,q.Z)({},"".concat(ni,"-hidden"),!ri),"".concat(ni,"-has-suffix"),!!un))},Cr)}var qn="".concat(Ge,"-affix-wrapper"),_r=We()(qn,(0,q.Z)((0,q.Z)((0,q.Z)((0,q.Z)((0,q.Z)({},"".concat(Ge,"-disabled"),Rn),"".concat(qn,"-disabled"),Rn),"".concat(qn,"-focused"),Jt),"".concat(qn,"-readonly"),ut),"".concat(qn,"-input-with-clear-btn"),un&&he&&Qt),Ae==null?void 0:Ae.affixWrapper,An==null?void 0:An.affixWrapper,An==null?void 0:An.variant),Pr=(un||he)&&De.createElement("span",{className:We()("".concat(Ge,"-suffix"),An==null?void 0:An.suffix),style:Jr==null?void 0:Jr.suffix},pi,un);Hn=De.createElement(fr,(0,Qe.Z)({className:_r,style:Jr==null?void 0:Jr.affixWrapper,onClick:gn},Ur==null?void 0:Ur.affixWrapper,{ref:pn}),Ht&&De.createElement("span",{className:We()("".concat(Ge,"-prefix"),An==null?void 0:An.prefix),style:Jr==null?void 0:Jr.prefix},Ht),Hn,Pr)}if((0,Te.He)(vt)){var Tr="".concat(Ge,"-group"),ei="".concat(Tr,"-addon"),ar="".concat(Tr,"-wrapper"),mr=We()("".concat(Ge,"-wrapper"),Tr,Ae==null?void 0:Ae.wrapper,An==null?void 0:An.wrapper),ii=We()(ar,(0,q.Z)({},"".concat(ar,"-disabled"),Rn),Ae==null?void 0:Ae.group,An==null?void 0:An.groupWrapper);Hn=De.createElement(it,{className:ii,ref:oi},De.createElement(Ot,{className:mr},Xt&&De.createElement(Dn,{className:ei},Xt),Hn,ke&&De.createElement(Dn,{className:ei},ke)))}return De.cloneElement(Hn,{className:We()((Vt=Hn.props)===null||Vt===void 0?void 0:Vt.className,zn)||null,style:(0,a.Z)((0,a.Z)({},(yr=Hn.props)===null||yr===void 0?void 0:yr.style),mn),hidden:ui})}),te=ye,Ve=B(46865),Ie=B(89692),Ue=B(58190),tt=B(93954),ot=B(18051),Je=B(88555),ct=["autoComplete","onChange","onFocus","onBlur","onPressEnter","onKeyDown","onKeyUp","prefixCls","disabled","htmlSize","className","maxLength","suffix","showCount","count","type","classes","classNames","styles","onCompositionStart","onCompositionEnd"],bt=(0,De.forwardRef)(function(vt,Mt){var Ut=vt.autoComplete,Vt=vt.onChange,yr=vt.onFocus,lr=vt.onBlur,Xn=vt.onPressEnter,Ge=vt.onKeyDown,Ht=vt.onKeyUp,un=vt.prefixCls,Xt=un===void 0?"rc-input":un,ke=vt.disabled,zn=vt.htmlSize,mn=vt.className,Rn=vt.maxLength,ut=vt.suffix,Jt=vt.showCount,Cn=vt.count,he=vt.type,Qt=he===void 0?"text":he,xi=vt.classes,ui=vt.classNames,Ae=vt.styles,An=vt.onCompositionStart,Ur=vt.onCompositionEnd,Jr=(0,Ue.Z)(vt,ct),On=(0,De.useState)(!1),Kr=(0,Ie.Z)(On,2),Ti=Kr[0],fr=Kr[1],it=(0,De.useRef)(!1),Ot=(0,De.useRef)(!1),Dn=(0,De.useRef)(null),pn=(0,De.useRef)(null),gn=function(dn){Dn.current&&(0,Te.nH)(Dn.current,dn)},wr=(0,tt.Z)(vt.defaultValue,{value:vt.value}),Hn=(0,Ie.Z)(wr,2),oi=Hn[0],pi=Hn[1],ri=oi==null?"":String(oi),ni=(0,De.useState)(null),Cr=(0,Ie.Z)(ni,2),qn=Cr[0],_r=Cr[1],Pr=(0,Je.Z)(Cn,Jt),Tr=Pr.max||Rn,ei=Pr.strategy(ri),ar=!!Tr&&ei>Tr;(0,De.useImperativeHandle)(Mt,function(){var Ee;return{focus:gn,blur:function(){var br;(br=Dn.current)===null||br===void 0||br.blur()},setSelectionRange:function(br,rr,Yr){var Mi;(Mi=Dn.current)===null||Mi===void 0||Mi.setSelectionRange(br,rr,Yr)},select:function(){var br;(br=Dn.current)===null||br===void 0||br.select()},input:Dn.current,nativeElement:((Ee=pn.current)===null||Ee===void 0?void 0:Ee.nativeElement)||Dn.current}}),(0,De.useEffect)(function(){Ot.current&&(Ot.current=!1),fr(function(Ee){return Ee&&ke?!1:Ee})},[ke]);var mr=function(dn,br,rr){var Yr=br;if(!it.current&&Pr.exceedFormatter&&Pr.max&&Pr.strategy(br)>Pr.max){if(Yr=Pr.exceedFormatter(br,{max:Pr.max}),br!==Yr){var Mi,Wi;_r([((Mi=Dn.current)===null||Mi===void 0?void 0:Mi.selectionStart)||0,((Wi=Dn.current)===null||Wi===void 0?void 0:Wi.selectionEnd)||0])}}else if(rr.source==="compositionEnd")return;pi(Yr),Dn.current&&(0,Te.rJ)(Dn.current,dn,Vt,Yr)};(0,De.useEffect)(function(){if(qn){var Ee;(Ee=Dn.current)===null||Ee===void 0||Ee.setSelectionRange.apply(Ee,(0,Ve.Z)(qn))}},[qn]);var ii=function(dn){mr(dn,dn.target.value,{source:"change"})},Wn=function(dn){it.current=!1,mr(dn,dn.currentTarget.value,{source:"compositionEnd"}),Ur==null||Ur(dn)},di=function(dn){Xn&&dn.key==="Enter"&&!Ot.current&&(Ot.current=!0,Xn(dn)),Ge==null||Ge(dn)},Ci=function(dn){dn.key==="Enter"&&(Ot.current=!1),Ht==null||Ht(dn)},eo=function(dn){fr(!0),yr==null||yr(dn)},Io=function(dn){Ot.current&&(Ot.current=!1),fr(!1),lr==null||lr(dn)},ci=function(dn){pi(""),gn(),Dn.current&&(0,Te.rJ)(Dn.current,dn,Vt)},oo=ar&&"".concat(Xt,"-out-of-range"),nn=function(){var dn=(0,ot.Z)(vt,["prefixCls","onPressEnter","addonBefore","addonAfter","prefix","suffix","allowClear","defaultValue","showCount","count","classes","htmlSize","styles","classNames","onClear"]);return De.createElement("input",(0,Qe.Z)({autoComplete:Ut},dn,{onChange:ii,onFocus:eo,onBlur:Io,onKeyDown:di,onKeyUp:Ci,className:We()(Xt,(0,q.Z)({},"".concat(Xt,"-disabled"),ke),ui==null?void 0:ui.input),style:Ae==null?void 0:Ae.input,ref:Dn,size:zn,type:Qt,onCompositionStart:function(rr){it.current=!0,An==null||An(rr)},onCompositionEnd:Wn}))},Mn=function(){var dn=Number(Tr)>0;if(ut||Pr.show){var br=Pr.showFormatter?Pr.showFormatter({value:ri,count:ei,maxLength:Tr}):"".concat(ei).concat(dn?" / ".concat(Tr):"");return De.createElement(De.Fragment,null,Pr.show&&De.createElement("span",{className:We()("".concat(Xt,"-show-count-suffix"),(0,q.Z)({},"".concat(Xt,"-show-count-has-suffix"),!!ut),ui==null?void 0:ui.count),style:(0,a.Z)({},Ae==null?void 0:Ae.count)},br),ut)}return null};return De.createElement(te,(0,Qe.Z)({},Jr,{prefixCls:Xt,className:We()(mn,oo),handleReset:ci,value:ri,focused:Ti,triggerFocus:gn,suffix:Mn(),disabled:ke,classes:xi,classNames:ui,styles:Ae}),nn())}),Xe=bt,jt=Xe},68677:function(Ir,Ft,B){"use strict";B.d(Ft,{He:function(){return a},X3:function(){return Qe},nH:function(){return be},rJ:function(){return c}});function a(We){return!!(We.addonBefore||We.addonAfter)}function Qe(We){return!!(We.prefix||We.suffix||We.allowClear)}function q(We,De,Te){var ye=De.cloneNode(!0),te=Object.create(We,{target:{value:ye},currentTarget:{value:ye}});return ye.value=Te,typeof De.selectionStart=="number"&&typeof De.selectionEnd=="number"&&(ye.selectionStart=De.selectionStart,ye.selectionEnd=De.selectionEnd),ye.setSelectionRange=function(){De.setSelectionRange.apply(De,arguments)},te}function c(We,De,Te,ye){if(Te){var te=De;if(De.type==="click"){te=q(De,We,""),Te(te);return}if(We.type!=="file"&&ye!==void 0){te=q(De,We,ye),Te(te);return}Te(te)}}function be(We,De){if(We){We.focus(De);var Te=De||{},ye=Te.cursor;if(ye){var te=We.value.length;switch(ye){case"start":We.setSelectionRange(0,0);break;case"end":We.setSelectionRange(te,te);break;default:We.setSelectionRange(0,te)}}}}},18507:function(Ir,Ft){"use strict";var B={items_per_page:"/ page",jump_to:"Go to",jump_to_confirm:"confirm",page:"Page",prev_page:"Previous Page",next_page:"Next Page",prev_5:"Previous 5 Pages",next_5:"Next 5 Pages",prev_3:"Previous 3 Pages",next_3:"Next 3 Pages",page_size:"Page Size"};Ft.Z=B},21125:function(Ir,Ft,B){"use strict";B.d(Ft,{ZP:function(){return De}});var a=B(89692),Qe=B(75271),q=B(18415),c=0,be=(0,q.Z)();function We(){var Te;return be?(Te=c,c+=1):Te="TEST_OR_SSR",Te}function De(Te){var ye=Qe.useState(),te=(0,a.Z)(ye,2),Ve=te[0],Ie=te[1];return Qe.useEffect(function(){Ie("rc_select_".concat(We()))},[]),Te||Ve}},12321:function(Ir,Ft,B){"use strict";B.d(Ft,{Ac:function(){return ar},Xo:function(){return ii},Wx:function(){return di},ZP:function(){return rn},lk:function(){return jt}});var a=B(23022),Qe=B(46865),q=B(38926),c=B(54153),be=B(89692),We=B(58190),De=B(5147),Te=B(93954),ye=B(4449),te=B(75271),Ve=B(82187),Ie=B.n(Ve),Ue=B(92076),tt=B(21611),ot=B(42684),Je=function(at){var Sn=at.className,bn=at.customizeIcon,Gn=at.customizeIconProps,or=at.children,gr=at.onMouseDown,Fr=at.onClick,hi=typeof bn=="function"?bn(Gn):bn;return te.createElement("span",{className:Sn,onMouseDown:function(to){to.preventDefault(),gr==null||gr(to)},style:{userSelect:"none",WebkitUserSelect:"none"},unselectable:"on",onClick:Fr,"aria-hidden":!0},hi!==void 0?hi:te.createElement("span",{className:Ie()(Sn.split(/\s+/).map(function(Hr){return"".concat(Hr,"-icon")}))},or))},ct=Je,bt=function(at,Sn,bn,Gn,or){var gr=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!1,Fr=arguments.length>6?arguments[6]:void 0,hi=arguments.length>7?arguments[7]:void 0,Hr=te.useMemo(function(){if((0,De.Z)(Gn)==="object")return Gn.clearIcon;if(or)return or},[Gn,or]),to=te.useMemo(function(){return!!(!gr&&Gn&&(bn.length||Fr)&&!(hi==="combobox"&&Fr===""))},[Gn,gr,bn.length,Fr,hi]);return{allowClear:to,clearIcon:te.createElement(ct,{className:"".concat(at,"-clear"),onMouseDown:Sn,customizeIcon:Hr},"\xD7")}},Xe=te.createContext(null);function jt(){return te.useContext(Xe)}function vt(){var dt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:10,at=te.useState(!1),Sn=(0,be.Z)(at,2),bn=Sn[0],Gn=Sn[1],or=te.useRef(null),gr=function(){window.clearTimeout(or.current)};te.useEffect(function(){return gr},[]);var Fr=function(Hr,to){gr(),or.current=window.setTimeout(function(){Gn(Hr),to&&to()},dt)};return[bn,Fr,gr]}function Mt(){var dt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:250,at=te.useRef(null),Sn=te.useRef(null);te.useEffect(function(){return function(){window.clearTimeout(Sn.current)}},[]);function bn(Gn){(Gn||at.current===null)&&(at.current=Gn),window.clearTimeout(Sn.current),Sn.current=window.setTimeout(function(){at.current=null},dt)}return[function(){return at.current},bn]}function Ut(dt,at,Sn,bn){var Gn=te.useRef(null);Gn.current={open:at,triggerOpen:Sn,customizedTrigger:bn},te.useEffect(function(){function or(gr){var Fr;if(!((Fr=Gn.current)!==null&&Fr!==void 0&&Fr.customizedTrigger)){var hi=gr.target;hi.shadowRoot&&gr.composed&&(hi=gr.composedPath()[0]||hi),Gn.current.open&&dt().filter(function(Hr){return Hr}).every(function(Hr){return!Hr.contains(hi)&&Hr!==hi})&&Gn.current.triggerOpen(!1)}}return window.addEventListener("mousedown",or),function(){return window.removeEventListener("mousedown",or)}},[])}var Vt=B(14583);function yr(dt){return dt&&![Vt.Z.ESC,Vt.Z.SHIFT,Vt.Z.BACKSPACE,Vt.Z.TAB,Vt.Z.WIN_KEY,Vt.Z.ALT,Vt.Z.META,Vt.Z.WIN_KEY_RIGHT,Vt.Z.CTRL,Vt.Z.SEMICOLON,Vt.Z.EQUALS,Vt.Z.CAPS_LOCK,Vt.Z.CONTEXT_MENU,Vt.Z.F1,Vt.Z.F2,Vt.Z.F3,Vt.Z.F4,Vt.Z.F5,Vt.Z.F6,Vt.Z.F7,Vt.Z.F8,Vt.Z.F9,Vt.Z.F10,Vt.Z.F11,Vt.Z.F12].includes(dt)}var lr=B(71305),Xn=B(50009),Ge=function(at,Sn){var bn,Gn=at.prefixCls,or=at.id,gr=at.inputElement,Fr=at.disabled,hi=at.tabIndex,Hr=at.autoFocus,to=at.autoComplete,gt=at.editable,wn=at.activeDescendantId,qt=at.value,Nn=at.maxLength,sr=at.onKeyDown,Wr=at.onMouseDown,Pi=at.onChange,Co=at.onPaste,Vi=at.onCompositionStart,uo=at.onCompositionEnd,fo=at.onBlur,Ki=at.open,Mo=at.attrs,Zo=gr||te.createElement("input",null),Lo=Zo,To=Lo.ref,$o=Lo.props,zo=$o.onKeyDown,qo=$o.onChange,ho=$o.onMouseDown,So=$o.onCompositionStart,wo=$o.onCompositionEnd,K=$o.onBlur,_e=$o.style;return(0,ye.Kp)(!("maxLength"in Zo.props),"Passing 'maxLength' to input element directly may not work because input in BaseSelect is controlled."),Zo=te.cloneElement(Zo,(0,c.Z)((0,c.Z)((0,c.Z)({type:"search"},$o),{},{id:or,ref:(0,ot.sQ)(Sn,To),disabled:Fr,tabIndex:hi,autoComplete:to||"off",autoFocus:Hr,className:Ie()("".concat(Gn,"-selection-search-input"),(bn=Zo)===null||bn===void 0||(bn=bn.props)===null||bn===void 0?void 0:bn.className),role:"combobox","aria-expanded":Ki||!1,"aria-haspopup":"listbox","aria-owns":"".concat(or,"_list"),"aria-autocomplete":"list","aria-controls":"".concat(or,"_list"),"aria-activedescendant":Ki?wn:void 0},Mo),{},{value:gt?qt:"",maxLength:Nn,readOnly:!gt,unselectable:gt?null:"on",style:(0,c.Z)((0,c.Z)({},_e),{},{opacity:gt?null:0}),onKeyDown:function(Et){sr(Et),zo&&zo(Et)},onMouseDown:function(Et){Wr(Et),ho&&ho(Et)},onChange:function(Et){Pi(Et),qo&&qo(Et)},onCompositionStart:function(Et){Vi(Et),So&&So(Et)},onCompositionEnd:function(Et){uo(Et),wo&&wo(Et)},onPaste:Co,onBlur:function(Et){fo(Et),K&&K(Et)}})),Zo},Ht=te.forwardRef(Ge),un=Ht;function Xt(dt){return Array.isArray(dt)?dt:dt!==void 0?[dt]:[]}var ke=typeof window!="undefined"&&window.document&&window.document.documentElement,zn=ke;function mn(dt){return dt!=null}function Rn(dt){return!dt&&dt!==0}function ut(dt){return["string","number"].includes((0,De.Z)(dt))}function Jt(dt){var at=void 0;return dt&&(ut(dt.title)?at=dt.title.toString():ut(dt.label)&&(at=dt.label.toString())),at}function Cn(dt,at){zn?te.useLayoutEffect(dt,at):te.useEffect(dt,at)}function he(dt){var at;return(at=dt.key)!==null&&at!==void 0?at:dt.value}var Qt=function(at){at.preventDefault(),at.stopPropagation()},xi=function(at){var Sn=at.id,bn=at.prefixCls,Gn=at.values,or=at.open,gr=at.searchValue,Fr=at.autoClearSearchValue,hi=at.inputRef,Hr=at.placeholder,to=at.disabled,gt=at.mode,wn=at.showSearch,qt=at.autoFocus,Nn=at.autoComplete,sr=at.activeDescendantId,Wr=at.tabIndex,Pi=at.removeIcon,Co=at.maxTagCount,Vi=at.maxTagTextLength,uo=at.maxTagPlaceholder,fo=uo===void 0?function(Uo){return"+ ".concat(Uo.length," ...")}:uo,Ki=at.tagRender,Mo=at.onToggleOpen,Zo=at.onRemove,Lo=at.onInputChange,To=at.onInputPaste,$o=at.onInputKeyDown,zo=at.onInputMouseDown,qo=at.onInputCompositionStart,ho=at.onInputCompositionEnd,So=at.onInputBlur,wo=te.useRef(null),K=(0,te.useState)(0),_e=(0,be.Z)(K,2),Ct=_e[0],Et=_e[1],En=(0,te.useState)(!1),Qn=(0,be.Z)(En,2),si=Qn[0],Or=Qn[1],Ri="".concat(bn,"-selection"),_o=or||gt==="multiple"&&Fr===!1||gt==="tags"?gr:"",Lr=gt==="tags"||gt==="multiple"&&Fr===!1||wn&&(or||si);Cn(function(){Et(wo.current.scrollWidth)},[_o]);var Ji=function(sn,qe,Ce,Ye,Fe){return te.createElement("span",{title:Jt(sn),className:Ie()("".concat(Ri,"-item"),(0,q.Z)({},"".concat(Ri,"-item-disabled"),Ce))},te.createElement("span",{className:"".concat(Ri,"-item-content")},qe),Ye&&te.createElement(ct,{className:"".concat(Ri,"-item-remove"),onMouseDown:Qt,onClick:Fe,customizeIcon:Pi},"\xD7"))},zr=function(sn,qe,Ce,Ye,Fe,Nt){var hn=function(Ar){Qt(Ar),Mo(!or)};return te.createElement("span",{onMouseDown:hn},Ki({label:qe,value:sn,disabled:Ce,closable:Ye,onClose:Fe,isMaxTag:!!Nt}))},Si=function(sn){var qe=sn.disabled,Ce=sn.label,Ye=sn.value,Fe=!to&&!qe,Nt=Ce;if(typeof Vi=="number"&&(typeof Ce=="string"||typeof Ce=="number")){var hn=String(Nt);hn.length>Vi&&(Nt="".concat(hn.slice(0,Vi),"..."))}var ir=function(Nr){Nr&&Nr.stopPropagation(),Zo(sn)};return typeof Ki=="function"?zr(Ye,Nt,qe,Fe,ir):Ji(sn,Nt,qe,Fe,ir)},ai=function(sn){if(!Gn.length)return null;var qe=typeof fo=="function"?fo(sn):fo;return typeof Ki=="function"?zr(void 0,qe,!1,!1,void 0,!0):Ji({title:qe},qe,!1)},mi=te.createElement("div",{className:"".concat(Ri,"-search"),style:{width:Ct},onFocus:function(){Or(!0)},onBlur:function(){Or(!1)}},te.createElement(un,{ref:hi,open:or,prefixCls:bn,id:Sn,inputElement:null,disabled:to,autoFocus:qt,autoComplete:Nn,editable:Lr,activeDescendantId:sr,value:_o,onKeyDown:$o,onMouseDown:zo,onChange:Lo,onPaste:To,onCompositionStart:qo,onCompositionEnd:ho,onBlur:So,tabIndex:Wr,attrs:(0,lr.Z)(at,!0)}),te.createElement("span",{ref:wo,className:"".concat(Ri,"-search-mirror"),"aria-hidden":!0},_o,"\xA0")),Xo=te.createElement(Xn.Z,{prefixCls:"".concat(Ri,"-overflow"),data:Gn,renderItem:Si,renderRest:ai,suffix:mi,itemKey:he,maxCount:Co});return te.createElement("span",{className:"".concat(Ri,"-wrap")},Xo,!Gn.length&&!_o&&te.createElement("span",{className:"".concat(Ri,"-placeholder")},Hr))},ui=xi,Ae=function(at){var Sn=at.inputElement,bn=at.prefixCls,Gn=at.id,or=at.inputRef,gr=at.disabled,Fr=at.autoFocus,hi=at.autoComplete,Hr=at.activeDescendantId,to=at.mode,gt=at.open,wn=at.values,qt=at.placeholder,Nn=at.tabIndex,sr=at.showSearch,Wr=at.searchValue,Pi=at.activeValue,Co=at.maxLength,Vi=at.onInputKeyDown,uo=at.onInputMouseDown,fo=at.onInputChange,Ki=at.onInputPaste,Mo=at.onInputCompositionStart,Zo=at.onInputCompositionEnd,Lo=at.onInputBlur,To=at.title,$o=te.useState(!1),zo=(0,be.Z)($o,2),qo=zo[0],ho=zo[1],So=to==="combobox",wo=So||sr,K=wn[0],_e=Wr||"";So&&Pi&&!qo&&(_e=Pi),te.useEffect(function(){So&&ho(!1)},[So,Pi]);var Ct=to!=="combobox"&&!gt&&!sr?!1:!!_e,Et=To===void 0?Jt(K):To,En=te.useMemo(function(){return K?null:te.createElement("span",{className:"".concat(bn,"-selection-placeholder"),style:Ct?{visibility:"hidden"}:void 0},qt)},[K,Ct,qt,bn]);return te.createElement("span",{className:"".concat(bn,"-selection-wrap")},te.createElement("span",{className:"".concat(bn,"-selection-search")},te.createElement(un,{ref:or,prefixCls:bn,id:Gn,open:gt,inputElement:Sn,disabled:gr,autoFocus:Fr,autoComplete:hi,editable:wo,activeDescendantId:Hr,value:_e,onKeyDown:Vi,onMouseDown:uo,onChange:function(si){ho(!0),fo(si)},onPaste:Ki,onCompositionStart:Mo,onCompositionEnd:Zo,onBlur:Lo,tabIndex:Nn,attrs:(0,lr.Z)(at,!0),maxLength:So?Co:void 0})),!So&&K?te.createElement("span",{className:"".concat(bn,"-selection-item"),title:Et,style:Ct?{visibility:"hidden"}:void 0},K.label):null,En)},An=Ae,Ur=function(at,Sn){var bn=(0,te.useRef)(null),Gn=(0,te.useRef)(!1),or=at.prefixCls,gr=at.open,Fr=at.mode,hi=at.showSearch,Hr=at.tokenWithEnter,to=at.disabled,gt=at.prefix,wn=at.autoClearSearchValue,qt=at.onSearch,Nn=at.onSearchSubmit,sr=at.onToggleOpen,Wr=at.onInputKeyDown,Pi=at.onInputBlur,Co=at.domRef;te.useImperativeHandle(Sn,function(){return{focus:function(Et){bn.current.focus(Et)},blur:function(){bn.current.blur()}}});var Vi=Mt(0),uo=(0,be.Z)(Vi,2),fo=uo[0],Ki=uo[1],Mo=function(Et){var En=Et.which,Qn=bn.current instanceof HTMLTextAreaElement;!Qn&&gr&&(En===Vt.Z.UP||En===Vt.Z.DOWN)&&Et.preventDefault(),Wr&&Wr(Et),En===Vt.Z.ENTER&&Fr==="tags"&&!Gn.current&&!gr&&(Nn==null||Nn(Et.target.value)),!(Qn&&!gr&&~[Vt.Z.UP,Vt.Z.DOWN,Vt.Z.LEFT,Vt.Z.RIGHT].indexOf(En))&&yr(En)&&sr(!0)},Zo=function(){Ki(!0)},Lo=(0,te.useRef)(null),To=function(Et){qt(Et,!0,Gn.current)!==!1&&sr(!0)},$o=function(){Gn.current=!0},zo=function(Et){Gn.current=!1,Fr!=="combobox"&&To(Et.target.value)},qo=function(Et){var En=Et.target.value;if(Hr&&Lo.current&&/[\r\n]/.test(Lo.current)){var Qn=Lo.current.replace(/[\r\n]+$/,"").replace(/\r\n/g," ").replace(/[\r\n]/g," ");En=En.replace(Qn,Lo.current)}Lo.current=null,To(En)},ho=function(Et){var En=Et.clipboardData,Qn=En==null?void 0:En.getData("text");Lo.current=Qn||""},So=function(Et){var En=Et.target;if(En!==bn.current){var Qn=document.body.style.msTouchAction!==void 0;Qn?setTimeout(function(){bn.current.focus()}):bn.current.focus()}},wo=function(Et){var En=fo();Et.target!==bn.current&&!En&&!(Fr==="combobox"&&to)&&Et.preventDefault(),(Fr!=="combobox"&&(!hi||!En)||!gr)&&(gr&&wn!==!1&&qt("",!0,!1),sr())},K={inputRef:bn,onInputKeyDown:Mo,onInputMouseDown:Zo,onInputChange:qo,onInputPaste:ho,onInputCompositionStart:$o,onInputCompositionEnd:zo,onInputBlur:Pi},_e=Fr==="multiple"||Fr==="tags"?te.createElement(ui,(0,a.Z)({},at,K)):te.createElement(An,(0,a.Z)({},at,K));return te.createElement("div",{ref:Co,className:"".concat(or,"-selector"),onClick:So,onMouseDown:wo},gt&&te.createElement("div",{className:"".concat(or,"-prefix")},gt),_e)},Jr=te.forwardRef(Ur),On=Jr,Kr=B(83190),Ti=["prefixCls","disabled","visible","children","popupElement","animation","transitionName","dropdownStyle","dropdownClassName","direction","placement","builtinPlacements","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","getPopupContainer","empty","getTriggerDOMNode","onPopupVisibleChange","onPopupMouseEnter"],fr=function(at){var Sn=at===!0?0:1;return{bottomLeft:{points:["tl","bl"],offset:[0,4],overflow:{adjustX:Sn,adjustY:1},htmlRegion:"scroll"},bottomRight:{points:["tr","br"],offset:[0,4],overflow:{adjustX:Sn,adjustY:1},htmlRegion:"scroll"},topLeft:{points:["bl","tl"],offset:[0,-4],overflow:{adjustX:Sn,adjustY:1},htmlRegion:"scroll"},topRight:{points:["br","tr"],offset:[0,-4],overflow:{adjustX:Sn,adjustY:1},htmlRegion:"scroll"}}},it=function(at,Sn){var bn=at.prefixCls,Gn=at.disabled,or=at.visible,gr=at.children,Fr=at.popupElement,hi=at.animation,Hr=at.transitionName,to=at.dropdownStyle,gt=at.dropdownClassName,wn=at.direction,qt=wn===void 0?"ltr":wn,Nn=at.placement,sr=at.builtinPlacements,Wr=at.dropdownMatchSelectWidth,Pi=at.dropdownRender,Co=at.dropdownAlign,Vi=at.getPopupContainer,uo=at.empty,fo=at.getTriggerDOMNode,Ki=at.onPopupVisibleChange,Mo=at.onPopupMouseEnter,Zo=(0,We.Z)(at,Ti),Lo="".concat(bn,"-dropdown"),To=Fr;Pi&&(To=Pi(Fr));var $o=te.useMemo(function(){return sr||fr(Wr)},[sr,Wr]),zo=hi?"".concat(Lo,"-").concat(hi):Hr,qo=typeof Wr=="number",ho=te.useMemo(function(){return qo?null:Wr===!1?"minWidth":"width"},[Wr,qo]),So=to;qo&&(So=(0,c.Z)((0,c.Z)({},So),{},{width:Wr}));var wo=te.useRef(null);return te.useImperativeHandle(Sn,function(){return{getPopupElement:function(){var _e;return(_e=wo.current)===null||_e===void 0?void 0:_e.popupElement}}}),te.createElement(Kr.Z,(0,a.Z)({},Zo,{showAction:Ki?["click"]:[],hideAction:Ki?["click"]:[],popupPlacement:Nn||(qt==="rtl"?"bottomRight":"bottomLeft"),builtinPlacements:$o,prefixCls:Lo,popupTransitionName:zo,popup:te.createElement("div",{onMouseEnter:Mo},To),ref:wo,stretch:ho,popupAlign:Co,popupVisible:or,getPopupContainer:Vi,popupClassName:Ie()(gt,(0,q.Z)({},"".concat(Lo,"-empty"),uo)),popupStyle:So,getTriggerDOMNode:fo,onPopupVisibleChange:Ki}),gr)},Ot=te.forwardRef(it),Dn=Ot,pn=B(70615);function gn(dt,at){var Sn=dt.key,bn;return"value"in dt&&(bn=dt.value),Sn!=null?Sn:bn!==void 0?bn:"rc-index-key-".concat(at)}function wr(dt){return typeof dt!="undefined"&&!Number.isNaN(dt)}function Hn(dt,at){var Sn=dt||{},bn=Sn.label,Gn=Sn.value,or=Sn.options,gr=Sn.groupLabel,Fr=bn||(at?"children":"label");return{label:Fr,value:Gn||"value",options:or||"options",groupLabel:gr||Fr}}function oi(dt){var at=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Sn=at.fieldNames,bn=at.childrenAsData,Gn=[],or=Hn(Sn,!1),gr=or.label,Fr=or.value,hi=or.options,Hr=or.groupLabel;function to(gt,wn){Array.isArray(gt)&&gt.forEach(function(qt){if(wn||!(hi in qt)){var Nn=qt[Fr];Gn.push({key:gn(qt,Gn.length),groupOption:wn,data:qt,label:qt[gr],value:Nn})}else{var sr=qt[Hr];sr===void 0&&bn&&(sr=qt.label),Gn.push({key:gn(qt,Gn.length),group:!0,data:qt,label:sr}),to(qt[hi],!0)}})}return to(dt,!1),Gn}function pi(dt){var at=(0,c.Z)({},dt);return"props"in at||Object.defineProperty(at,"props",{get:function(){return(0,ye.ZP)(!1,"Return type is option instead of Option instance. Please read value directly instead of reading from `props`."),at}}),at}var ri=function(at,Sn,bn){if(!Sn||!Sn.length)return null;var Gn=!1,or=function Fr(hi,Hr){var to=(0,pn.Z)(Hr),gt=to[0],wn=to.slice(1);if(!gt)return[hi];var qt=hi.split(gt);return Gn=Gn||qt.length>1,qt.reduce(function(Nn,sr){return[].concat((0,Qe.Z)(Nn),(0,Qe.Z)(Fr(sr,wn)))},[]).filter(Boolean)},gr=or(at,Sn);return Gn?typeof bn!="undefined"?gr.slice(0,bn):gr:null},ni=te.createContext(null),Cr=ni;function qn(dt){var at=dt.visible,Sn=dt.values;if(!at)return null;var bn=50;return te.createElement("span",{"aria-live":"polite",style:{width:0,height:0,position:"absolute",overflow:"hidden",opacity:0}},"".concat(Sn.slice(0,bn).map(function(Gn){var or=Gn.label,gr=Gn.value;return["number","string"].includes((0,De.Z)(or))?or:gr}).join(", ")),Sn.length>bn?", ...":null)}var _r=["id","prefixCls","className","showSearch","tagRender","direction","omitDomProps","displayValues","onDisplayValuesChange","emptyOptions","notFoundContent","onClear","mode","disabled","loading","getInputElement","getRawInputElement","open","defaultOpen","onDropdownVisibleChange","activeValue","onActiveValueChange","activeDescendantId","searchValue","autoClearSearchValue","onSearch","onSearchSplit","tokenSeparators","allowClear","prefix","suffixIcon","clearIcon","OptionList","animation","transitionName","dropdownStyle","dropdownClassName","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","placement","builtinPlacements","getPopupContainer","showAction","onFocus","onBlur","onKeyUp","onKeyDown","onMouseDown"],Pr=["value","onChange","removeIcon","placeholder","autoFocus","maxTagCount","maxTagTextLength","maxTagPlaceholder","choiceTransitionName","onInputKeyDown","onPopupScroll","tabIndex"],Tr=function(at){return at==="tags"||at==="multiple"},ei=te.forwardRef(function(dt,at){var Sn,bn=dt.id,Gn=dt.prefixCls,or=dt.className,gr=dt.showSearch,Fr=dt.tagRender,hi=dt.direction,Hr=dt.omitDomProps,to=dt.displayValues,gt=dt.onDisplayValuesChange,wn=dt.emptyOptions,qt=dt.notFoundContent,Nn=qt===void 0?"Not Found":qt,sr=dt.onClear,Wr=dt.mode,Pi=dt.disabled,Co=dt.loading,Vi=dt.getInputElement,uo=dt.getRawInputElement,fo=dt.open,Ki=dt.defaultOpen,Mo=dt.onDropdownVisibleChange,Zo=dt.activeValue,Lo=dt.onActiveValueChange,To=dt.activeDescendantId,$o=dt.searchValue,zo=dt.autoClearSearchValue,qo=dt.onSearch,ho=dt.onSearchSplit,So=dt.tokenSeparators,wo=dt.allowClear,K=dt.prefix,_e=dt.suffixIcon,Ct=dt.clearIcon,Et=dt.OptionList,En=dt.animation,Qn=dt.transitionName,si=dt.dropdownStyle,Or=dt.dropdownClassName,Ri=dt.dropdownMatchSelectWidth,_o=dt.dropdownRender,Lr=dt.dropdownAlign,Ji=dt.placement,zr=dt.builtinPlacements,Si=dt.getPopupContainer,ai=dt.showAction,mi=ai===void 0?[]:ai,Xo=dt.onFocus,Uo=dt.onBlur,sn=dt.onKeyUp,qe=dt.onKeyDown,Ce=dt.onMouseDown,Ye=(0,We.Z)(dt,_r),Fe=Tr(Wr),Nt=(gr!==void 0?gr:Fe)||Wr==="combobox",hn=(0,c.Z)({},Ye);Pr.forEach(function(co){delete hn[co]}),Hr==null||Hr.forEach(function(co){delete hn[co]});var ir=te.useState(!1),Ar=(0,be.Z)(ir,2),Nr=Ar[0],Rr=Ar[1];te.useEffect(function(){Rr((0,tt.Z)())},[]);var _i=te.useRef(null),Fi=te.useRef(null),Ao=te.useRef(null),Ai=te.useRef(null),Zi=te.useRef(null),li=te.useRef(!1),Xi=vt(),Yi=(0,be.Z)(Xi,3),Po=Yi[0],la=Yi[1],da=Yi[2];te.useImperativeHandle(at,function(){var co,ao;return{focus:(co=Ai.current)===null||co===void 0?void 0:co.focus,blur:(ao=Ai.current)===null||ao===void 0?void 0:ao.blur,scrollTo:function(Vo){var ta;return(ta=Zi.current)===null||ta===void 0?void 0:ta.scrollTo(Vo)},nativeElement:_i.current||Fi.current}});var ma=te.useMemo(function(){var co;if(Wr!=="combobox")return $o;var ao=(co=to[0])===null||co===void 0?void 0:co.value;return typeof ao=="string"||typeof ao=="number"?String(ao):""},[$o,Wr,to]),ba=Wr==="combobox"&&typeof Vi=="function"&&Vi()||null,Sa=typeof uo=="function"&&uo(),wa=(0,ot.x1)(Fi,Sa==null||(Sn=Sa.props)===null||Sn===void 0?void 0:Sn.ref),Ua=te.useState(!1),ga=(0,be.Z)(Ua,2),Ts=ga[0],Ms=ga[1];(0,Ue.Z)(function(){Ms(!0)},[]);var ms=(0,Te.Z)(!1,{defaultValue:Ki,value:fo}),$a=(0,be.Z)(ms,2),xl=$a[0],hl=$a[1],Hs=Ts?xl:!1,Rl=!Nn&&wn;(Pi||Rl&&Hs&&Wr==="combobox")&&(Hs=!1);var Ql=Rl?!1:Hs,xa=te.useCallback(function(co){var ao=co!==void 0?co:!Hs;Pi||(hl(ao),Hs!==ao&&(Mo==null||Mo(ao)))},[Pi,Hs,hl,Mo]),Wa=te.useMemo(function(){return(So||[]).some(function(co){return[`
`,`\r
`].includes(co)})},[So]),va=te.useContext(Cr)||{},aa=va.maxCount,fs=va.rawValues,Fs=function(ao,Fo,Vo){if(!(Fe&&wr(aa)&&(fs==null?void 0:fs.size)>=aa)){var ta=!0,Xa=ao;Lo==null||Lo(null);var fa=ri(ao,So,wr(aa)?aa-fs.size:void 0),Oa=Vo?null:fa;return Wr!=="combobox"&&Oa&&(Xa="",ho==null||ho(Oa),xa(!1),ta=!1),qo&&ma!==Xa&&qo(Xa,{source:Fo?"typing":"effect"}),ta}},Nl=function(ao){!ao||!ao.trim()||qo(ao,{source:"submit"})};te.useEffect(function(){!Hs&&!Fe&&Wr!=="combobox"&&Fs("",!1,!1)},[Hs]),te.useEffect(function(){xl&&Pi&&hl(!1),Pi&&!li.current&&la(!1)},[Pi]);var ec=Mt(),zc=(0,be.Z)(ec,2),Cl=zc[0],jl=zc[1],ia=te.useRef(!1),jo=function(ao){var Fo=Cl(),Vo=ao.key,ta=Vo==="Enter";if(ta&&(Wr!=="combobox"&&ao.preventDefault(),Hs||xa(!0)),jl(!!ma),Vo==="Backspace"&&!Fo&&Fe&&!ma&&to.length){for(var Xa=(0,Qe.Z)(to),fa=null,Oa=Xa.length-1;Oa>=0;Oa-=1){var Ya=Xa[Oa];if(!Ya.disabled){Xa.splice(Oa,1),fa=Ya;break}}fa&&gt(Xa,{type:"remove",values:[fa]})}for(var Ma=arguments.length,qa=new Array(Ma>1?Ma-1:0),Fa=1;Fa<Ma;Fa++)qa[Fa-1]=arguments[Fa];if(Hs&&(!ta||!ia.current)){var is;ta&&(ia.current=!0),(is=Zi.current)===null||is===void 0||is.onKeyDown.apply(is,[ao].concat(qa))}qe==null||qe.apply(void 0,[ao].concat(qa))},su=function(ao){for(var Fo=arguments.length,Vo=new Array(Fo>1?Fo-1:0),ta=1;ta<Fo;ta++)Vo[ta-1]=arguments[ta];if(Hs){var Xa;(Xa=Zi.current)===null||Xa===void 0||Xa.onKeyUp.apply(Xa,[ao].concat(Vo))}ao.key==="Enter"&&(ia.current=!1),sn==null||sn.apply(void 0,[ao].concat(Vo))},ea=function(ao){var Fo=to.filter(function(Vo){return Vo!==ao});gt(Fo,{type:"remove",values:[ao]})},tc=function(){ia.current=!1},Jc=te.useRef(!1),sa=function(){la(!0),Pi||(Xo&&!Jc.current&&Xo.apply(void 0,arguments),mi.includes("focus")&&xa(!0)),Jc.current=!0},yc=function(){li.current=!0,la(!1,function(){Jc.current=!1,li.current=!1,xa(!1)}),!Pi&&(ma&&(Wr==="tags"?qo(ma,{source:"submit"}):Wr==="multiple"&&qo("",{source:"blur"})),Uo&&Uo.apply(void 0,arguments))},_c=[];te.useEffect(function(){return function(){_c.forEach(function(co){return clearTimeout(co)}),_c.splice(0,_c.length)}},[]);var Qc=function(ao){var Fo,Vo=ao.target,ta=(Fo=Ao.current)===null||Fo===void 0?void 0:Fo.getPopupElement();if(ta&&ta.contains(Vo)){var Xa=setTimeout(function(){var Ma=_c.indexOf(Xa);if(Ma!==-1&&_c.splice(Ma,1),da(),!Nr&&!ta.contains(document.activeElement)){var qa;(qa=Ai.current)===null||qa===void 0||qa.focus()}});_c.push(Xa)}for(var fa=arguments.length,Oa=new Array(fa>1?fa-1:0),Ya=1;Ya<fa;Ya++)Oa[Ya-1]=arguments[Ya];Ce==null||Ce.apply(void 0,[ao].concat(Oa))},hd=te.useState({}),nc=(0,be.Z)(hd,2),pl=nc[1];function ji(){pl({})}var ju;Sa&&(ju=function(ao){xa(ao)}),Ut(function(){var co;return[_i.current,(co=Ao.current)===null||co===void 0?void 0:co.getPopupElement()]},Ql,xa,!!Sa);var pd=te.useMemo(function(){return(0,c.Z)((0,c.Z)({},dt),{},{notFoundContent:Nn,open:Hs,triggerOpen:Ql,id:bn,showSearch:Nt,multiple:Fe,toggleOpen:xa})},[dt,Nn,Ql,Hs,bn,Nt,Fe,xa]),lu=!!_e||Co,an;lu&&(an=te.createElement(ct,{className:Ie()("".concat(Gn,"-arrow"),(0,q.Z)({},"".concat(Gn,"-arrow-loading"),Co)),customizeIcon:_e,customizeIconProps:{loading:Co,searchValue:ma,open:Hs,focused:Po,showSearch:Nt}}));var jn=function(){var ao;sr==null||sr(),(ao=Ai.current)===null||ao===void 0||ao.focus(),gt([],{type:"clear",values:to}),Fs("",!1,!1)},Jn=bt(Gn,jn,to,wo,Ct,Pi,ma,Wr),pr=Jn.allowClear,Qr=Jn.clearIcon,ro=te.createElement(Et,{ref:Zi}),vo=Ie()(Gn,or,(0,q.Z)((0,q.Z)((0,q.Z)((0,q.Z)((0,q.Z)((0,q.Z)((0,q.Z)((0,q.Z)((0,q.Z)((0,q.Z)({},"".concat(Gn,"-focused"),Po),"".concat(Gn,"-multiple"),Fe),"".concat(Gn,"-single"),!Fe),"".concat(Gn,"-allow-clear"),wo),"".concat(Gn,"-show-arrow"),lu),"".concat(Gn,"-disabled"),Pi),"".concat(Gn,"-loading"),Co),"".concat(Gn,"-open"),Hs),"".concat(Gn,"-customize-input"),ba),"".concat(Gn,"-show-search"),Nt)),no=te.createElement(Dn,{ref:Ao,disabled:Pi,prefixCls:Gn,visible:Ql,popupElement:ro,animation:En,transitionName:Qn,dropdownStyle:si,dropdownClassName:Or,direction:hi,dropdownMatchSelectWidth:Ri,dropdownRender:_o,dropdownAlign:Lr,placement:Ji,builtinPlacements:zr,getPopupContainer:Si,empty:wn,getTriggerDOMNode:function(ao){return Fi.current||ao},onPopupVisibleChange:ju,onPopupMouseEnter:ji},Sa?te.cloneElement(Sa,{ref:wa}):te.createElement(On,(0,a.Z)({},dt,{domRef:Fi,prefixCls:Gn,inputElement:ba,ref:Ai,id:bn,prefix:K,showSearch:Nt,autoClearSearchValue:zo,mode:Wr,activeDescendantId:To,tagRender:Fr,values:to,open:Hs,onToggleOpen:xa,activeValue:Zo,searchValue:ma,onSearch:Fs,onSearchSubmit:Nl,onRemove:ea,tokenWithEnter:Wa,onInputBlur:tc}))),Oo;return Sa?Oo=no:Oo=te.createElement("div",(0,a.Z)({className:vo},hn,{ref:_i,onMouseDown:Qc,onKeyDown:jo,onKeyUp:su,onFocus:sa,onBlur:yc}),te.createElement(qn,{visible:Po&&!Hs,values:to}),no,an,pr&&Qr),te.createElement(Xe.Provider,{value:pd},Oo)}),ar=ei,mr=function(){return null};mr.isSelectOptGroup=!0;var ii=mr,Wn=function(){return null};Wn.isSelectOption=!0;var di=Wn,Ci=B(54596),eo=B(18051),Io=B(98131);function ci(){return/(mac\sos|macintosh)/i.test(navigator.appVersion)}var oo=["disabled","title","children","style","className"];function nn(dt){return typeof dt=="string"||typeof dt=="number"}var Mn=function(at,Sn){var bn=jt(),Gn=bn.prefixCls,or=bn.id,gr=bn.open,Fr=bn.multiple,hi=bn.mode,Hr=bn.searchValue,to=bn.toggleOpen,gt=bn.notFoundContent,wn=bn.onPopupScroll,qt=te.useContext(Cr),Nn=qt.maxCount,sr=qt.flattenOptions,Wr=qt.onActiveValue,Pi=qt.defaultActiveFirstOption,Co=qt.onSelect,Vi=qt.menuItemSelectedIcon,uo=qt.rawValues,fo=qt.fieldNames,Ki=qt.virtual,Mo=qt.direction,Zo=qt.listHeight,Lo=qt.listItemHeight,To=qt.optionRender,$o="".concat(Gn,"-item"),zo=(0,Ci.Z)(function(){return sr},[gr,sr],function(ai,mi){return mi[0]&&ai[1]!==mi[1]}),qo=te.useRef(null),ho=te.useMemo(function(){return Fr&&wr(Nn)&&(uo==null?void 0:uo.size)>=Nn},[Fr,Nn,uo==null?void 0:uo.size]),So=function(mi){mi.preventDefault()},wo=function(mi){var Xo;(Xo=qo.current)===null||Xo===void 0||Xo.scrollTo(typeof mi=="number"?{index:mi}:mi)},K=te.useCallback(function(ai){return hi==="combobox"?!1:uo.has(ai)},[hi,(0,Qe.Z)(uo).toString(),uo.size]),_e=function(mi){for(var Xo=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,Uo=zo.length,sn=0;sn<Uo;sn+=1){var qe=(mi+sn*Xo+Uo)%Uo,Ce=zo[qe]||{},Ye=Ce.group,Fe=Ce.data;if(!Ye&&!(Fe!=null&&Fe.disabled)&&(K(Fe.value)||!ho))return qe}return-1},Ct=te.useState(function(){return _e(0)}),Et=(0,be.Z)(Ct,2),En=Et[0],Qn=Et[1],si=function(mi){var Xo=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;Qn(mi);var Uo={source:Xo?"keyboard":"mouse"},sn=zo[mi];if(!sn){Wr(null,-1,Uo);return}Wr(sn.value,mi,Uo)};(0,te.useEffect)(function(){si(Pi!==!1?_e(0):-1)},[zo.length,Hr]);var Or=te.useCallback(function(ai){return hi==="combobox"?String(ai).toLowerCase()===Hr.toLowerCase():uo.has(ai)},[hi,Hr,(0,Qe.Z)(uo).toString(),uo.size]);(0,te.useEffect)(function(){var ai=setTimeout(function(){if(!Fr&&gr&&uo.size===1){var Xo=Array.from(uo)[0],Uo=zo.findIndex(function(sn){var qe=sn.data;return qe.value===Xo});Uo!==-1&&(si(Uo),wo(Uo))}});if(gr){var mi;(mi=qo.current)===null||mi===void 0||mi.scrollTo(void 0)}return function(){return clearTimeout(ai)}},[gr,Hr]);var Ri=function(mi){mi!==void 0&&Co(mi,{selected:!uo.has(mi)}),Fr||to(!1)};if(te.useImperativeHandle(Sn,function(){return{onKeyDown:function(mi){var Xo=mi.which,Uo=mi.ctrlKey;switch(Xo){case Vt.Z.N:case Vt.Z.P:case Vt.Z.UP:case Vt.Z.DOWN:{var sn=0;if(Xo===Vt.Z.UP?sn=-1:Xo===Vt.Z.DOWN?sn=1:ci()&&Uo&&(Xo===Vt.Z.N?sn=1:Xo===Vt.Z.P&&(sn=-1)),sn!==0){var qe=_e(En+sn,sn);wo(qe),si(qe,!0)}break}case Vt.Z.TAB:case Vt.Z.ENTER:{var Ce,Ye=zo[En];Ye&&!(Ye!=null&&(Ce=Ye.data)!==null&&Ce!==void 0&&Ce.disabled)&&!ho?Ri(Ye.value):Ri(void 0),gr&&mi.preventDefault();break}case Vt.Z.ESC:to(!1),gr&&mi.stopPropagation()}},onKeyUp:function(){},scrollTo:function(mi){wo(mi)}}}),zo.length===0)return te.createElement("div",{role:"listbox",id:"".concat(or,"_list"),className:"".concat($o,"-empty"),onMouseDown:So},gt);var _o=Object.keys(fo).map(function(ai){return fo[ai]}),Lr=function(mi){return mi.label};function Ji(ai,mi){var Xo=ai.group;return{role:Xo?"presentation":"option",id:"".concat(or,"_list_").concat(mi)}}var zr=function(mi){var Xo=zo[mi];if(!Xo)return null;var Uo=Xo.data||{},sn=Uo.value,qe=Xo.group,Ce=(0,lr.Z)(Uo,!0),Ye=Lr(Xo);return Xo?te.createElement("div",(0,a.Z)({"aria-label":typeof Ye=="string"&&!qe?Ye:null},Ce,{key:mi},Ji(Xo,mi),{"aria-selected":Or(sn)}),sn):null},Si={role:"listbox",id:"".concat(or,"_list")};return te.createElement(te.Fragment,null,Ki&&te.createElement("div",(0,a.Z)({},Si,{style:{height:0,width:0,overflow:"hidden"}}),zr(En-1),zr(En),zr(En+1)),te.createElement(Io.Z,{itemKey:"key",ref:qo,data:zo,height:Zo,itemHeight:Lo,fullHeight:!1,onMouseDown:So,onScroll:wn,virtual:Ki,direction:Mo,innerProps:Ki?null:Si},function(ai,mi){var Xo=ai.group,Uo=ai.groupOption,sn=ai.data,qe=ai.label,Ce=ai.value,Ye=sn.key;if(Xo){var Fe,Nt=(Fe=sn.title)!==null&&Fe!==void 0?Fe:nn(qe)?qe.toString():void 0;return te.createElement("div",{className:Ie()($o,"".concat($o,"-group"),sn.className),title:Nt},qe!==void 0?qe:Ye)}var hn=sn.disabled,ir=sn.title,Ar=sn.children,Nr=sn.style,Rr=sn.className,_i=(0,We.Z)(sn,oo),Fi=(0,eo.Z)(_i,_o),Ao=K(Ce),Ai=hn||!Ao&&ho,Zi="".concat($o,"-option"),li=Ie()($o,Zi,Rr,(0,q.Z)((0,q.Z)((0,q.Z)((0,q.Z)({},"".concat(Zi,"-grouped"),Uo),"".concat(Zi,"-active"),En===mi&&!Ai),"".concat(Zi,"-disabled"),Ai),"".concat(Zi,"-selected"),Ao)),Xi=Lr(ai),Yi=!Vi||typeof Vi=="function"||Ao,Po=typeof Xi=="number"?Xi:Xi||Ce,la=nn(Po)?Po.toString():void 0;return ir!==void 0&&(la=ir),te.createElement("div",(0,a.Z)({},(0,lr.Z)(Fi),Ki?{}:Ji(ai,mi),{"aria-selected":Or(Ce),className:li,title:la,onMouseMove:function(){En===mi||Ai||si(mi)},onClick:function(){Ai||Ri(Ce)},style:Nr}),te.createElement("div",{className:"".concat(Zi,"-content")},typeof To=="function"?To(ai,{index:mi}):Po),te.isValidElement(Vi)||Ao,Yi&&te.createElement(ct,{className:"".concat($o,"-option-state"),customizeIcon:Vi,customizeIconProps:{value:Ce,disabled:Ai,isSelected:Ao}},Ao?"\u2713":null))}))},Ee=te.forwardRef(Mn),dn=Ee,br=function(dt,at){var Sn=te.useRef({values:new Map,options:new Map}),bn=te.useMemo(function(){var or=Sn.current,gr=or.values,Fr=or.options,hi=dt.map(function(gt){if(gt.label===void 0){var wn;return(0,c.Z)((0,c.Z)({},gt),{},{label:(wn=gr.get(gt.value))===null||wn===void 0?void 0:wn.label})}return gt}),Hr=new Map,to=new Map;return hi.forEach(function(gt){Hr.set(gt.value,gt),to.set(gt.value,at.get(gt.value)||Fr.get(gt.value))}),Sn.current.values=Hr,Sn.current.options=to,hi},[dt,at]),Gn=te.useCallback(function(or){return at.get(or)||Sn.current.options.get(or)},[at]);return[bn,Gn]};function rr(dt,at){return Xt(dt).join("").toUpperCase().includes(at)}var Yr=function(dt,at,Sn,bn,Gn){return te.useMemo(function(){if(!Sn||bn===!1)return dt;var or=at.options,gr=at.label,Fr=at.value,hi=[],Hr=typeof bn=="function",to=Sn.toUpperCase(),gt=Hr?bn:function(qt,Nn){return Gn?rr(Nn[Gn],to):Nn[or]?rr(Nn[gr!=="children"?gr:"label"],to):rr(Nn[Fr],to)},wn=Hr?function(qt){return pi(qt)}:function(qt){return qt};return dt.forEach(function(qt){if(qt[or]){var Nn=gt(Sn,wn(qt));if(Nn)hi.push(qt);else{var sr=qt[or].filter(function(Wr){return gt(Sn,wn(Wr))});sr.length&&hi.push((0,c.Z)((0,c.Z)({},qt),{},(0,q.Z)({},or,sr)))}return}gt(Sn,wn(qt))&&hi.push(qt)}),hi},[dt,bn,Gn,Sn,at])},Mi=B(21125),Wi=B(81626),Bi=["children","value"],Di=["children"];function Re(dt){var at=dt,Sn=at.key,bn=at.props,Gn=bn.children,or=bn.value,gr=(0,We.Z)(bn,Bi);return(0,c.Z)({key:Sn,value:or!==void 0?or:Sn,children:Gn},gr)}function de(dt){var at=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return(0,Wi.Z)(dt).map(function(Sn,bn){if(!te.isValidElement(Sn)||!Sn.type)return null;var Gn=Sn,or=Gn.type.isSelectOptGroup,gr=Gn.key,Fr=Gn.props,hi=Fr.children,Hr=(0,We.Z)(Fr,Di);return at||!or?Re(Sn):(0,c.Z)((0,c.Z)({key:"__RC_SELECT_GRP__".concat(gr===null?bn:gr,"__"),label:gr},Hr),{},{options:de(hi)})}).filter(function(Sn){return Sn})}var Y=function(at,Sn,bn,Gn,or){return te.useMemo(function(){var gr=at,Fr=!at;Fr&&(gr=de(Sn));var hi=new Map,Hr=new Map,to=function(qt,Nn,sr){sr&&typeof sr=="string"&&qt.set(Nn[sr],Nn)},gt=function wn(qt){for(var Nn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,sr=0;sr<qt.length;sr+=1){var Wr=qt[sr];!Wr[bn.options]||Nn?(hi.set(Wr[bn.value],Wr),to(Hr,Wr,bn.label),to(Hr,Wr,Gn),to(Hr,Wr,or)):wn(Wr[bn.options],!0)}};return gt(gr),{options:gr,valueOptions:hi,labelOptions:Hr}},[at,Sn,bn,Gn,or])},Ze=Y;function pe(dt){var at=te.useRef();at.current=dt;var Sn=te.useCallback(function(){return at.current.apply(at,arguments)},[]);return Sn}function nt(dt){var at=dt.mode,Sn=dt.options,bn=dt.children,Gn=dt.backfill,or=dt.allowClear,gr=dt.placeholder,Fr=dt.getInputElement,hi=dt.showSearch,Hr=dt.onSearch,to=dt.defaultOpen,gt=dt.autoFocus,wn=dt.labelInValue,qt=dt.value,Nn=dt.inputValue,sr=dt.optionLabelProp,Wr=isMultiple(at),Pi=hi!==void 0?hi:Wr||at==="combobox",Co=Sn||convertChildrenToData(bn);if(warning(at!=="tags"||Co.every(function(Ki){return!Ki.disabled}),"Please avoid setting option to disabled in tags mode since user can always type text as tag."),at==="tags"||at==="combobox"){var Vi=Co.some(function(Ki){return Ki.options?Ki.options.some(function(Mo){return typeof("value"in Mo?Mo.value:Mo.key)=="number"}):typeof("value"in Ki?Ki.value:Ki.key)=="number"});warning(!Vi,"`value` of Option should not use number type when `mode` is `tags` or `combobox`.")}if(warning(at!=="combobox"||!sr,"`combobox` mode not support `optionLabelProp`. Please set `value` on Option directly."),warning(at==="combobox"||!Gn,"`backfill` only works with `combobox` mode."),warning(at==="combobox"||!Fr,"`getInputElement` only work with `combobox` mode."),noteOnce(at!=="combobox"||!Fr||!or||!gr,"Customize `getInputElement` should customize clear and placeholder logic instead of configuring `allowClear` and `placeholder`."),Hr&&!Pi&&at!=="combobox"&&at!=="tags"&&warning(!1,"`onSearch` should work with `showSearch` instead of use alone."),noteOnce(!to||gt,"`defaultOpen` makes Select open without focus which means it will not close by click outside. You can set `autoFocus` if needed."),qt!=null){var uo=toArray(qt);warning(!wn||uo.every(function(Ki){return _typeof(Ki)==="object"&&("key"in Ki||"value"in Ki)}),"`value` should in shape of `{ value: string | number, label?: ReactNode }` when you set `labelInValue` to `true`"),warning(!Wr||Array.isArray(qt),"`value` should be array when `mode` is `multiple` or `tags`")}if(bn){var fo=null;toNodeArray(bn).some(function(Ki){if(!React.isValidElement(Ki)||!Ki.type)return!1;var Mo=Ki,Zo=Mo.type;if(Zo.isSelectOption)return!1;if(Zo.isSelectOptGroup){var Lo=toNodeArray(Ki.props.children).every(function(To){return!React.isValidElement(To)||!Ki.type||To.type.isSelectOption?!0:(fo=To.type,!1)});return!Lo}return fo=Zo,!0}),fo&&warning(!1,"`children` should be `Select.Option` or `Select.OptGroup` instead of `".concat(fo.displayName||fo.name||fo,"`.")),warning(Nn===void 0,"`inputValue` is deprecated, please use `searchValue` instead.")}}function rt(dt,at){if(dt){var Sn=function bn(Gn){for(var or=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,gr=0;gr<Gn.length;gr++){var Fr=Gn[gr];if(Fr[at==null?void 0:at.value]===null)return warning(!1,"`value` in Select options should not be `null`."),!0;if(!or&&Array.isArray(Fr[at==null?void 0:at.options])&&bn(Fr[at==null?void 0:at.options],!0))break}};Sn(dt)}}var tn=null,$t=["id","mode","prefixCls","backfill","fieldNames","inputValue","searchValue","onSearch","autoClearSearchValue","onSelect","onDeselect","dropdownMatchSelectWidth","filterOption","filterSort","optionFilterProp","optionLabelProp","options","optionRender","children","defaultActiveFirstOption","menuItemSelectedIcon","virtual","direction","listHeight","listItemHeight","labelRender","value","defaultValue","labelInValue","onChange","maxCount"],ln=["inputValue"];function vn(dt){return!dt||(0,De.Z)(dt)!=="object"}var et=te.forwardRef(function(dt,at){var Sn=dt.id,bn=dt.mode,Gn=dt.prefixCls,or=Gn===void 0?"rc-select":Gn,gr=dt.backfill,Fr=dt.fieldNames,hi=dt.inputValue,Hr=dt.searchValue,to=dt.onSearch,gt=dt.autoClearSearchValue,wn=gt===void 0?!0:gt,qt=dt.onSelect,Nn=dt.onDeselect,sr=dt.dropdownMatchSelectWidth,Wr=sr===void 0?!0:sr,Pi=dt.filterOption,Co=dt.filterSort,Vi=dt.optionFilterProp,uo=dt.optionLabelProp,fo=dt.options,Ki=dt.optionRender,Mo=dt.children,Zo=dt.defaultActiveFirstOption,Lo=dt.menuItemSelectedIcon,To=dt.virtual,$o=dt.direction,zo=dt.listHeight,qo=zo===void 0?200:zo,ho=dt.listItemHeight,So=ho===void 0?20:ho,wo=dt.labelRender,K=dt.value,_e=dt.defaultValue,Ct=dt.labelInValue,Et=dt.onChange,En=dt.maxCount,Qn=(0,We.Z)(dt,$t),si=(0,Mi.ZP)(Sn),Or=Tr(bn),Ri=!!(!fo&&Mo),_o=te.useMemo(function(){return Pi===void 0&&bn==="combobox"?!1:Pi},[Pi,bn]),Lr=te.useMemo(function(){return Hn(Fr,Ri)},[JSON.stringify(Fr),Ri]),Ji=(0,Te.Z)("",{value:Hr!==void 0?Hr:hi,postState:function(Wa){return Wa||""}}),zr=(0,be.Z)(Ji,2),Si=zr[0],ai=zr[1],mi=Ze(fo,Mo,Lr,Vi,uo),Xo=mi.valueOptions,Uo=mi.labelOptions,sn=mi.options,qe=te.useCallback(function(xa){var Wa=Xt(xa);return Wa.map(function(va){var aa,fs,Fs,Nl,ec;if(vn(va))aa=va;else{var zc;Fs=va.key,fs=va.label,aa=(zc=va.value)!==null&&zc!==void 0?zc:Fs}var Cl=Xo.get(aa);if(Cl){var jl;if(fs===void 0&&(fs=Cl==null?void 0:Cl[uo||Lr.label]),Fs===void 0&&(Fs=(jl=Cl==null?void 0:Cl.key)!==null&&jl!==void 0?jl:aa),Nl=Cl==null?void 0:Cl.disabled,ec=Cl==null?void 0:Cl.title,0)var ia}return{label:fs,value:aa,key:Fs,disabled:Nl,title:ec}})},[Lr,uo,Xo]),Ce=(0,Te.Z)(_e,{value:K}),Ye=(0,be.Z)(Ce,2),Fe=Ye[0],Nt=Ye[1],hn=te.useMemo(function(){var xa,Wa=Or&&Fe===null?[]:Fe,va=qe(Wa);return bn==="combobox"&&Rn((xa=va[0])===null||xa===void 0?void 0:xa.value)?[]:va},[Fe,qe,bn,Or]),ir=br(hn,Xo),Ar=(0,be.Z)(ir,2),Nr=Ar[0],Rr=Ar[1],_i=te.useMemo(function(){if(!bn&&Nr.length===1){var xa=Nr[0];if(xa.value===null&&(xa.label===null||xa.label===void 0))return[]}return Nr.map(function(Wa){var va;return(0,c.Z)((0,c.Z)({},Wa),{},{label:(va=typeof wo=="function"?wo(Wa):Wa.label)!==null&&va!==void 0?va:Wa.value})})},[bn,Nr,wo]),Fi=te.useMemo(function(){return new Set(Nr.map(function(xa){return xa.value}))},[Nr]);te.useEffect(function(){if(bn==="combobox"){var xa,Wa=(xa=Nr[0])===null||xa===void 0?void 0:xa.value;ai(mn(Wa)?String(Wa):"")}},[Nr]);var Ao=pe(function(xa,Wa){var va=Wa!=null?Wa:xa;return(0,q.Z)((0,q.Z)({},Lr.value,xa),Lr.label,va)}),Ai=te.useMemo(function(){if(bn!=="tags")return sn;var xa=(0,Qe.Z)(sn),Wa=function(aa){return Xo.has(aa)};return(0,Qe.Z)(Nr).sort(function(va,aa){return va.value<aa.value?-1:1}).forEach(function(va){var aa=va.value;Wa(aa)||xa.push(Ao(aa,va.label))}),xa},[Ao,sn,Xo,Nr,bn]),Zi=Yr(Ai,Lr,Si,_o,Vi),li=te.useMemo(function(){return bn!=="tags"||!Si||Zi.some(function(xa){return xa[Vi||"value"]===Si})||Zi.some(function(xa){return xa[Lr.value]===Si})?Zi:[Ao(Si)].concat((0,Qe.Z)(Zi))},[Ao,Vi,bn,Zi,Si,Lr]),Xi=function xa(Wa){var va=(0,Qe.Z)(Wa).sort(function(aa,fs){return Co(aa,fs,{searchValue:Si})});return va.map(function(aa){return Array.isArray(aa.options)?(0,c.Z)((0,c.Z)({},aa),{},{options:aa.options.length>0?xa(aa.options):aa.options}):aa})},Yi=te.useMemo(function(){return Co?Xi(li):li},[li,Co,Si]),Po=te.useMemo(function(){return oi(Yi,{fieldNames:Lr,childrenAsData:Ri})},[Yi,Lr,Ri]),la=function(Wa){var va=qe(Wa);if(Nt(va),Et&&(va.length!==Nr.length||va.some(function(Fs,Nl){var ec;return((ec=Nr[Nl])===null||ec===void 0?void 0:ec.value)!==(Fs==null?void 0:Fs.value)}))){var aa=Ct?va:va.map(function(Fs){return Fs.value}),fs=va.map(function(Fs){return pi(Rr(Fs.value))});Et(Or?aa:aa[0],Or?fs:fs[0])}},da=te.useState(null),ma=(0,be.Z)(da,2),ba=ma[0],Sa=ma[1],wa=te.useState(0),Ua=(0,be.Z)(wa,2),ga=Ua[0],Ts=Ua[1],Ms=Zo!==void 0?Zo:bn!=="combobox",ms=te.useCallback(function(xa,Wa){var va=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},aa=va.source,fs=aa===void 0?"keyboard":aa;Ts(Wa),gr&&bn==="combobox"&&xa!==null&&fs==="keyboard"&&Sa(String(xa))},[gr,bn]),$a=function(Wa,va,aa){var fs=function(){var ea,tc=Rr(Wa);return[Ct?{label:tc==null?void 0:tc[Lr.label],value:Wa,key:(ea=tc==null?void 0:tc.key)!==null&&ea!==void 0?ea:Wa}:Wa,pi(tc)]};if(va&&qt){var Fs=fs(),Nl=(0,be.Z)(Fs,2),ec=Nl[0],zc=Nl[1];qt(ec,zc)}else if(!va&&Nn&&aa!=="clear"){var Cl=fs(),jl=(0,be.Z)(Cl,2),ia=jl[0],jo=jl[1];Nn(ia,jo)}},xl=pe(function(xa,Wa){var va,aa=Or?Wa.selected:!0;aa?va=Or?[].concat((0,Qe.Z)(Nr),[xa]):[xa]:va=Nr.filter(function(fs){return fs.value!==xa}),la(va),$a(xa,aa),bn==="combobox"?Sa(""):(!Tr||wn)&&(ai(""),Sa(""))}),hl=function(Wa,va){la(Wa);var aa=va.type,fs=va.values;(aa==="remove"||aa==="clear")&&fs.forEach(function(Fs){$a(Fs.value,!1,aa)})},Hs=function(Wa,va){if(ai(Wa),Sa(null),va.source==="submit"){var aa=(Wa||"").trim();if(aa){var fs=Array.from(new Set([].concat((0,Qe.Z)(Fi),[aa])));la(fs),$a(aa,!0),ai("")}return}va.source!=="blur"&&(bn==="combobox"&&la(Wa),to==null||to(Wa))},Rl=function(Wa){var va=Wa;bn!=="tags"&&(va=Wa.map(function(fs){var Fs=Uo.get(fs);return Fs==null?void 0:Fs.value}).filter(function(fs){return fs!==void 0}));var aa=Array.from(new Set([].concat((0,Qe.Z)(Fi),(0,Qe.Z)(va))));la(aa),aa.forEach(function(fs){$a(fs,!0)})},Ql=te.useMemo(function(){var xa=To!==!1&&Wr!==!1;return(0,c.Z)((0,c.Z)({},mi),{},{flattenOptions:Po,onActiveValue:ms,defaultActiveFirstOption:Ms,onSelect:xl,menuItemSelectedIcon:Lo,rawValues:Fi,fieldNames:Lr,virtual:xa,direction:$o,listHeight:qo,listItemHeight:So,childrenAsData:Ri,maxCount:En,optionRender:Ki})},[En,mi,Po,ms,Ms,xl,Lo,Fi,Lr,To,Wr,$o,qo,So,Ri,Ki]);return te.createElement(Cr.Provider,{value:Ql},te.createElement(ar,(0,a.Z)({},Qn,{id:si,prefixCls:or,ref:at,omitDomProps:ln,mode:bn,displayValues:_i,onDisplayValuesChange:hl,direction:$o,searchValue:Si,onSearch:Hs,autoClearSearchValue:wn,onSearchSplit:Rl,dropdownMatchSelectWidth:Wr,OptionList:dn,emptyOptions:!Po.length,activeValue:ba,activeDescendantId:"".concat(si,"_list_").concat(ga)})))}),Rt=et;Rt.Option=di,Rt.OptGroup=ii;var Kt=Rt,rn=Kt},28661:function(Ir,Ft,B){"use strict";B.d(Ft,{y:function(){return Mt},Z:function(){return fr}});var a=B(54153),Qe=B(38926),q=B(46865),c=B(5147),be=B(89692),We=B(82187),De=B.n(We),Te=B(59373),ye=B(93954),te=B(47996),Ve=B(4449),Ie=B(75271),Ue=B(23022),tt=B(58190),ot=B(30967);function Je(it,Ot,Dn){return(it-Ot)/(Dn-Ot)}function ct(it,Ot,Dn,pn){var gn=Je(Ot,Dn,pn),wr={};switch(it){case"rtl":wr.right="".concat(gn*100,"%"),wr.transform="translateX(50%)";break;case"btt":wr.bottom="".concat(gn*100,"%"),wr.transform="translateY(50%)";break;case"ttb":wr.top="".concat(gn*100,"%"),wr.transform="translateY(-50%)";break;default:wr.left="".concat(gn*100,"%"),wr.transform="translateX(-50%)";break}return wr}function bt(it,Ot){return Array.isArray(it)?it[Ot]:it}var Xe=B(14583),jt=Ie.createContext({min:0,max:0,direction:"ltr",step:1,includedStart:0,includedEnd:0,tabIndex:0,keyboard:!0,styles:{},classNames:{}}),vt=jt,Mt=Ie.createContext({}),Ut=["prefixCls","value","valueIndex","onStartMove","onDelete","style","render","dragging","draggingDelete","onOffsetChange","onChangeComplete","onFocus","onMouseEnter"],Vt=Ie.forwardRef(function(it,Ot){var Dn=it.prefixCls,pn=it.value,gn=it.valueIndex,wr=it.onStartMove,Hn=it.onDelete,oi=it.style,pi=it.render,ri=it.dragging,ni=it.draggingDelete,Cr=it.onOffsetChange,qn=it.onChangeComplete,_r=it.onFocus,Pr=it.onMouseEnter,Tr=(0,tt.Z)(it,Ut),ei=Ie.useContext(vt),ar=ei.min,mr=ei.max,ii=ei.direction,Wn=ei.disabled,di=ei.keyboard,Ci=ei.range,eo=ei.tabIndex,Io=ei.ariaLabelForHandle,ci=ei.ariaLabelledByForHandle,oo=ei.ariaRequired,nn=ei.ariaValueTextFormatterForHandle,Mn=ei.styles,Ee=ei.classNames,dn="".concat(Dn,"-handle"),br=function(Ze){Wn||wr(Ze,gn)},rr=function(Ze){_r==null||_r(Ze,gn)},Yr=function(Ze){Pr(Ze,gn)},Mi=function(Ze){if(!Wn&&di){var pe=null;switch(Ze.which||Ze.keyCode){case Xe.Z.LEFT:pe=ii==="ltr"||ii==="btt"?-1:1;break;case Xe.Z.RIGHT:pe=ii==="ltr"||ii==="btt"?1:-1;break;case Xe.Z.UP:pe=ii!=="ttb"?1:-1;break;case Xe.Z.DOWN:pe=ii!=="ttb"?-1:1;break;case Xe.Z.HOME:pe="min";break;case Xe.Z.END:pe="max";break;case Xe.Z.PAGE_UP:pe=2;break;case Xe.Z.PAGE_DOWN:pe=-2;break;case Xe.Z.BACKSPACE:case Xe.Z.DELETE:Hn(gn);break}pe!==null&&(Ze.preventDefault(),Cr(pe,gn))}},Wi=function(Ze){switch(Ze.which||Ze.keyCode){case Xe.Z.LEFT:case Xe.Z.RIGHT:case Xe.Z.UP:case Xe.Z.DOWN:case Xe.Z.HOME:case Xe.Z.END:case Xe.Z.PAGE_UP:case Xe.Z.PAGE_DOWN:qn==null||qn();break}},Bi=ct(ii,pn,ar,mr),Di={};if(gn!==null){var Re;Di={tabIndex:Wn?null:bt(eo,gn),role:"slider","aria-valuemin":ar,"aria-valuemax":mr,"aria-valuenow":pn,"aria-disabled":Wn,"aria-label":bt(Io,gn),"aria-labelledby":bt(ci,gn),"aria-required":bt(oo,gn),"aria-valuetext":(Re=bt(nn,gn))===null||Re===void 0?void 0:Re(pn),"aria-orientation":ii==="ltr"||ii==="rtl"?"horizontal":"vertical",onMouseDown:br,onTouchStart:br,onFocus:rr,onMouseEnter:Yr,onKeyDown:Mi,onKeyUp:Wi}}var de=Ie.createElement("div",(0,Ue.Z)({ref:Ot,className:De()(dn,(0,Qe.Z)((0,Qe.Z)((0,Qe.Z)({},"".concat(dn,"-").concat(gn+1),gn!==null&&Ci),"".concat(dn,"-dragging"),ri),"".concat(dn,"-dragging-delete"),ni),Ee.handle),style:(0,a.Z)((0,a.Z)((0,a.Z)({},Bi),oi),Mn.handle)},Di,Tr));return pi&&(de=pi(de,{index:gn,prefixCls:Dn,value:pn,dragging:ri,draggingDelete:ni})),de}),yr=Vt,lr=["prefixCls","style","onStartMove","onOffsetChange","values","handleRender","activeHandleRender","draggingIndex","draggingDelete","onFocus"],Xn=Ie.forwardRef(function(it,Ot){var Dn=it.prefixCls,pn=it.style,gn=it.onStartMove,wr=it.onOffsetChange,Hn=it.values,oi=it.handleRender,pi=it.activeHandleRender,ri=it.draggingIndex,ni=it.draggingDelete,Cr=it.onFocus,qn=(0,tt.Z)(it,lr),_r=Ie.useRef({}),Pr=Ie.useState(!1),Tr=(0,be.Z)(Pr,2),ei=Tr[0],ar=Tr[1],mr=Ie.useState(-1),ii=(0,be.Z)(mr,2),Wn=ii[0],di=ii[1],Ci=function(nn){di(nn),ar(!0)},eo=function(nn,Mn){Ci(Mn),Cr==null||Cr(nn)},Io=function(nn,Mn){Ci(Mn)};Ie.useImperativeHandle(Ot,function(){return{focus:function(nn){var Mn;(Mn=_r.current[nn])===null||Mn===void 0||Mn.focus()},hideHelp:function(){(0,ot.flushSync)(function(){ar(!1)})}}});var ci=(0,a.Z)({prefixCls:Dn,onStartMove:gn,onOffsetChange:wr,render:oi,onFocus:eo,onMouseEnter:Io},qn);return Ie.createElement(Ie.Fragment,null,Hn.map(function(oo,nn){var Mn=ri===nn;return Ie.createElement(yr,(0,Ue.Z)({ref:function(dn){dn?_r.current[nn]=dn:delete _r.current[nn]},dragging:Mn,draggingDelete:Mn&&ni,style:bt(pn,nn),key:nn,value:oo,valueIndex:nn},ci))}),pi&&ei&&Ie.createElement(yr,(0,Ue.Z)({key:"a11y"},ci,{value:Hn[Wn],valueIndex:null,dragging:ri!==-1,draggingDelete:ni,render:pi,style:{pointerEvents:"none"},tabIndex:null,"aria-hidden":!0})))}),Ge=Xn,Ht=function(Ot){var Dn=Ot.prefixCls,pn=Ot.style,gn=Ot.children,wr=Ot.value,Hn=Ot.onClick,oi=Ie.useContext(vt),pi=oi.min,ri=oi.max,ni=oi.direction,Cr=oi.includedStart,qn=oi.includedEnd,_r=oi.included,Pr="".concat(Dn,"-text"),Tr=ct(ni,wr,pi,ri);return Ie.createElement("span",{className:De()(Pr,(0,Qe.Z)({},"".concat(Pr,"-active"),_r&&Cr<=wr&&wr<=qn)),style:(0,a.Z)((0,a.Z)({},Tr),pn),onMouseDown:function(ar){ar.stopPropagation()},onClick:function(){Hn(wr)}},gn)},un=Ht,Xt=function(Ot){var Dn=Ot.prefixCls,pn=Ot.marks,gn=Ot.onClick,wr="".concat(Dn,"-mark");return pn.length?Ie.createElement("div",{className:wr},pn.map(function(Hn){var oi=Hn.value,pi=Hn.style,ri=Hn.label;return Ie.createElement(un,{key:oi,prefixCls:wr,style:pi,value:oi,onClick:gn},ri)})):null},ke=Xt,zn=function(Ot){var Dn=Ot.prefixCls,pn=Ot.value,gn=Ot.style,wr=Ot.activeStyle,Hn=Ie.useContext(vt),oi=Hn.min,pi=Hn.max,ri=Hn.direction,ni=Hn.included,Cr=Hn.includedStart,qn=Hn.includedEnd,_r="".concat(Dn,"-dot"),Pr=ni&&Cr<=pn&&pn<=qn,Tr=(0,a.Z)((0,a.Z)({},ct(ri,pn,oi,pi)),typeof gn=="function"?gn(pn):gn);return Pr&&(Tr=(0,a.Z)((0,a.Z)({},Tr),typeof wr=="function"?wr(pn):wr)),Ie.createElement("span",{className:De()(_r,(0,Qe.Z)({},"".concat(_r,"-active"),Pr)),style:Tr})},mn=zn,Rn=function(Ot){var Dn=Ot.prefixCls,pn=Ot.marks,gn=Ot.dots,wr=Ot.style,Hn=Ot.activeStyle,oi=Ie.useContext(vt),pi=oi.min,ri=oi.max,ni=oi.step,Cr=Ie.useMemo(function(){var qn=new Set;if(pn.forEach(function(Pr){qn.add(Pr.value)}),gn&&ni!==null)for(var _r=pi;_r<=ri;)qn.add(_r),_r+=ni;return Array.from(qn)},[pi,ri,ni,gn,pn]);return Ie.createElement("div",{className:"".concat(Dn,"-step")},Cr.map(function(qn){return Ie.createElement(mn,{prefixCls:Dn,key:qn,value:qn,style:wr,activeStyle:Hn})}))},ut=Rn,Jt=function(Ot){var Dn=Ot.prefixCls,pn=Ot.style,gn=Ot.start,wr=Ot.end,Hn=Ot.index,oi=Ot.onStartMove,pi=Ot.replaceCls,ri=Ie.useContext(vt),ni=ri.direction,Cr=ri.min,qn=ri.max,_r=ri.disabled,Pr=ri.range,Tr=ri.classNames,ei="".concat(Dn,"-track"),ar=Je(gn,Cr,qn),mr=Je(wr,Cr,qn),ii=function(eo){!_r&&oi&&oi(eo,-1)},Wn={};switch(ni){case"rtl":Wn.right="".concat(ar*100,"%"),Wn.width="".concat(mr*100-ar*100,"%");break;case"btt":Wn.bottom="".concat(ar*100,"%"),Wn.height="".concat(mr*100-ar*100,"%");break;case"ttb":Wn.top="".concat(ar*100,"%"),Wn.height="".concat(mr*100-ar*100,"%");break;default:Wn.left="".concat(ar*100,"%"),Wn.width="".concat(mr*100-ar*100,"%")}var di=pi||De()(ei,(0,Qe.Z)((0,Qe.Z)({},"".concat(ei,"-").concat(Hn+1),Hn!==null&&Pr),"".concat(Dn,"-track-draggable"),oi),Tr.track);return Ie.createElement("div",{className:di,style:(0,a.Z)((0,a.Z)({},Wn),pn),onMouseDown:ii,onTouchStart:ii})},Cn=Jt,he=function(Ot){var Dn=Ot.prefixCls,pn=Ot.style,gn=Ot.values,wr=Ot.startPoint,Hn=Ot.onStartMove,oi=Ie.useContext(vt),pi=oi.included,ri=oi.range,ni=oi.min,Cr=oi.styles,qn=oi.classNames,_r=Ie.useMemo(function(){if(!ri){if(gn.length===0)return[];var Tr=wr!=null?wr:ni,ei=gn[0];return[{start:Math.min(Tr,ei),end:Math.max(Tr,ei)}]}for(var ar=[],mr=0;mr<gn.length-1;mr+=1)ar.push({start:gn[mr],end:gn[mr+1]});return ar},[gn,ri,wr,ni]);if(!pi)return null;var Pr=_r!=null&&_r.length&&(qn.tracks||Cr.tracks)?Ie.createElement(Cn,{index:null,prefixCls:Dn,start:_r[0].start,end:_r[_r.length-1].end,replaceCls:De()(qn.tracks,"".concat(Dn,"-tracks")),style:Cr.tracks}):null;return Ie.createElement(Ie.Fragment,null,Pr,_r.map(function(Tr,ei){var ar=Tr.start,mr=Tr.end;return Ie.createElement(Cn,{index:ei,prefixCls:Dn,style:(0,a.Z)((0,a.Z)({},bt(pn,ei)),Cr.track),start:ar,end:mr,key:ei,onStartMove:Hn})}))},Qt=he,xi=B(92076),ui=130;function Ae(it){var Ot="targetTouches"in it?it.targetTouches[0]:it;return{pageX:Ot.pageX,pageY:Ot.pageY}}function An(it,Ot,Dn,pn,gn,wr,Hn,oi,pi,ri,ni){var Cr=Ie.useState(null),qn=(0,be.Z)(Cr,2),_r=qn[0],Pr=qn[1],Tr=Ie.useState(-1),ei=(0,be.Z)(Tr,2),ar=ei[0],mr=ei[1],ii=Ie.useState(!1),Wn=(0,be.Z)(ii,2),di=Wn[0],Ci=Wn[1],eo=Ie.useState(Dn),Io=(0,be.Z)(eo,2),ci=Io[0],oo=Io[1],nn=Ie.useState(Dn),Mn=(0,be.Z)(nn,2),Ee=Mn[0],dn=Mn[1],br=Ie.useRef(null),rr=Ie.useRef(null),Yr=Ie.useRef(null),Mi=Ie.useContext(Mt),Wi=Mi.onDragStart,Bi=Mi.onDragChange;(0,xi.Z)(function(){ar===-1&&oo(Dn)},[Dn,ar]),Ie.useEffect(function(){return function(){document.removeEventListener("mousemove",br.current),document.removeEventListener("mouseup",rr.current),Yr.current&&(Yr.current.removeEventListener("touchmove",br.current),Yr.current.removeEventListener("touchend",rr.current))}},[]);var Di=function(pe,nt,rt){nt!==void 0&&Pr(nt),oo(pe);var tn=pe;rt&&(tn=pe.filter(function($t,ln){return ln!==ar})),Hn(tn),Bi&&Bi({rawValues:pe,deleteIndex:rt?ar:-1,draggingIndex:ar,draggingValue:nt})},Re=(0,Te.Z)(function(Ze,pe,nt){if(Ze===-1){var rt=Ee[0],tn=Ee[Ee.length-1],$t=pn-rt,ln=gn-tn,vn=pe*(gn-pn);vn=Math.max(vn,$t),vn=Math.min(vn,ln);var et=wr(rt+vn);vn=et-rt;var Rt=Ee.map(function(at){return at+vn});Di(Rt)}else{var Kt=(gn-pn)*pe,rn=(0,q.Z)(ci);rn[Ze]=Ee[Ze];var dt=pi(rn,Kt,Ze,"dist");Di(dt.values,dt.value,nt)}}),de=function(pe,nt,rt){pe.stopPropagation();var tn=rt||Dn,$t=tn[nt];mr(nt),Pr($t),dn(tn),oo(tn),Ci(!1);var ln=Ae(pe),vn=ln.pageX,et=ln.pageY,Rt=!1;Wi&&Wi({rawValues:tn,draggingIndex:nt,draggingValue:$t});var Kt=function(at){at.preventDefault();var Sn=Ae(at),bn=Sn.pageX,Gn=Sn.pageY,or=bn-vn,gr=Gn-et,Fr=it.current.getBoundingClientRect(),hi=Fr.width,Hr=Fr.height,to,gt;switch(Ot){case"btt":to=-gr/Hr,gt=or;break;case"ttb":to=gr/Hr,gt=or;break;case"rtl":to=-or/hi,gt=gr;break;default:to=or/hi,gt=gr}Rt=ri?Math.abs(gt)>ui&&ni<ci.length:!1,Ci(Rt),Re(nt,to,Rt)},rn=function dt(at){at.preventDefault(),document.removeEventListener("mouseup",dt),document.removeEventListener("mousemove",Kt),Yr.current&&(Yr.current.removeEventListener("touchmove",br.current),Yr.current.removeEventListener("touchend",rr.current)),br.current=null,rr.current=null,Yr.current=null,oi(Rt),mr(-1),Ci(!1)};document.addEventListener("mouseup",rn),document.addEventListener("mousemove",Kt),pe.currentTarget.addEventListener("touchend",rn),pe.currentTarget.addEventListener("touchmove",Kt),br.current=Kt,rr.current=rn,Yr.current=pe.currentTarget},Y=Ie.useMemo(function(){var Ze=(0,q.Z)(Dn).sort(function($t,ln){return $t-ln}),pe=(0,q.Z)(ci).sort(function($t,ln){return $t-ln}),nt={};pe.forEach(function($t){nt[$t]=(nt[$t]||0)+1}),Ze.forEach(function($t){nt[$t]=(nt[$t]||0)-1});var rt=ri?1:0,tn=Object.values(nt).reduce(function($t,ln){return $t+Math.abs(ln)},0);return tn<=rt?ci:Dn},[Dn,ci,ri]);return[ar,_r,di,Y,de]}var Ur=An;function Jr(it,Ot,Dn,pn,gn,wr){var Hn=Ie.useCallback(function(_r){return Math.max(it,Math.min(Ot,_r))},[it,Ot]),oi=Ie.useCallback(function(_r){if(Dn!==null){var Pr=it+Math.round((Hn(_r)-it)/Dn)*Dn,Tr=function(ii){return(String(ii).split(".")[1]||"").length},ei=Math.max(Tr(Dn),Tr(Ot),Tr(it)),ar=Number(Pr.toFixed(ei));return it<=ar&&ar<=Ot?ar:null}return null},[Dn,it,Ot,Hn]),pi=Ie.useCallback(function(_r){var Pr=Hn(_r),Tr=pn.map(function(mr){return mr.value});Dn!==null&&Tr.push(oi(_r)),Tr.push(it,Ot);var ei=Tr[0],ar=Ot-it;return Tr.forEach(function(mr){var ii=Math.abs(Pr-mr);ii<=ar&&(ei=mr,ar=ii)}),ei},[it,Ot,pn,Dn,Hn,oi]),ri=function _r(Pr,Tr,ei){var ar=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit";if(typeof Tr=="number"){var mr,ii=Pr[ei],Wn=ii+Tr,di=[];pn.forEach(function(oo){di.push(oo.value)}),di.push(it,Ot),di.push(oi(ii));var Ci=Tr>0?1:-1;ar==="unit"?di.push(oi(ii+Ci*Dn)):di.push(oi(Wn)),di=di.filter(function(oo){return oo!==null}).filter(function(oo){return Tr<0?oo<=ii:oo>=ii}),ar==="unit"&&(di=di.filter(function(oo){return oo!==ii}));var eo=ar==="unit"?ii:Wn;mr=di[0];var Io=Math.abs(mr-eo);if(di.forEach(function(oo){var nn=Math.abs(oo-eo);nn<Io&&(mr=oo,Io=nn)}),mr===void 0)return Tr<0?it:Ot;if(ar==="dist")return mr;if(Math.abs(Tr)>1){var ci=(0,q.Z)(Pr);return ci[ei]=mr,_r(ci,Tr-Ci,ei,ar)}return mr}else{if(Tr==="min")return it;if(Tr==="max")return Ot}},ni=function(Pr,Tr,ei){var ar=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit",mr=Pr[ei],ii=ri(Pr,Tr,ei,ar);return{value:ii,changed:ii!==mr}},Cr=function(Pr){return wr===null&&Pr===0||typeof wr=="number"&&Pr<wr},qn=function(Pr,Tr,ei){var ar=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit",mr=Pr.map(pi),ii=mr[ei],Wn=ri(mr,Tr,ei,ar);if(mr[ei]=Wn,gn===!1){var di=wr||0;ei>0&&mr[ei-1]!==ii&&(mr[ei]=Math.max(mr[ei],mr[ei-1]+di)),ei<mr.length-1&&mr[ei+1]!==ii&&(mr[ei]=Math.min(mr[ei],mr[ei+1]-di))}else if(typeof wr=="number"||wr===null){for(var Ci=ei+1;Ci<mr.length;Ci+=1)for(var eo=!0;Cr(mr[Ci]-mr[Ci-1])&&eo;){var Io=ni(mr,1,Ci);mr[Ci]=Io.value,eo=Io.changed}for(var ci=ei;ci>0;ci-=1)for(var oo=!0;Cr(mr[ci]-mr[ci-1])&&oo;){var nn=ni(mr,-1,ci-1);mr[ci-1]=nn.value,oo=nn.changed}for(var Mn=mr.length-1;Mn>0;Mn-=1)for(var Ee=!0;Cr(mr[Mn]-mr[Mn-1])&&Ee;){var dn=ni(mr,-1,Mn-1);mr[Mn-1]=dn.value,Ee=dn.changed}for(var br=0;br<mr.length-1;br+=1)for(var rr=!0;Cr(mr[br+1]-mr[br])&&rr;){var Yr=ni(mr,1,br+1);mr[br+1]=Yr.value,rr=Yr.changed}}return{value:mr[ei],values:mr}};return[pi,qn]}function On(it){return(0,Ie.useMemo)(function(){if(it===!0||!it)return[!!it,!1,!1,0];var Ot=it.editable,Dn=it.draggableTrack,pn=it.minCount,gn=it.maxCount;return[!0,Ot,!Ot&&Dn,pn||0,gn]},[it])}var Kr=Ie.forwardRef(function(it,Ot){var Dn=it.prefixCls,pn=Dn===void 0?"rc-slider":Dn,gn=it.className,wr=it.style,Hn=it.classNames,oi=it.styles,pi=it.id,ri=it.disabled,ni=ri===void 0?!1:ri,Cr=it.keyboard,qn=Cr===void 0?!0:Cr,_r=it.autoFocus,Pr=it.onFocus,Tr=it.onBlur,ei=it.min,ar=ei===void 0?0:ei,mr=it.max,ii=mr===void 0?100:mr,Wn=it.step,di=Wn===void 0?1:Wn,Ci=it.value,eo=it.defaultValue,Io=it.range,ci=it.count,oo=it.onChange,nn=it.onBeforeChange,Mn=it.onAfterChange,Ee=it.onChangeComplete,dn=it.allowCross,br=dn===void 0?!0:dn,rr=it.pushable,Yr=rr===void 0?!1:rr,Mi=it.reverse,Wi=it.vertical,Bi=it.included,Di=Bi===void 0?!0:Bi,Re=it.startPoint,de=it.trackStyle,Y=it.handleStyle,Ze=it.railStyle,pe=it.dotStyle,nt=it.activeDotStyle,rt=it.marks,tn=it.dots,$t=it.handleRender,ln=it.activeHandleRender,vn=it.track,et=it.tabIndex,Rt=et===void 0?0:et,Kt=it.ariaLabelForHandle,rn=it.ariaLabelledByForHandle,dt=it.ariaRequired,at=it.ariaValueTextFormatterForHandle,Sn=Ie.useRef(null),bn=Ie.useRef(null),Gn=Ie.useMemo(function(){return Wi?Mi?"ttb":"btt":Mi?"rtl":"ltr"},[Mi,Wi]),or=On(Io),gr=(0,be.Z)(or,5),Fr=gr[0],hi=gr[1],Hr=gr[2],to=gr[3],gt=gr[4],wn=Ie.useMemo(function(){return isFinite(ar)?ar:0},[ar]),qt=Ie.useMemo(function(){return isFinite(ii)?ii:100},[ii]),Nn=Ie.useMemo(function(){return di!==null&&di<=0?1:di},[di]),sr=Ie.useMemo(function(){return typeof Yr=="boolean"?Yr?Nn:!1:Yr>=0?Yr:!1},[Yr,Nn]),Wr=Ie.useMemo(function(){return Object.keys(rt||{}).map(function(Ce){var Ye=rt[Ce],Fe={value:Number(Ce)};return Ye&&(0,c.Z)(Ye)==="object"&&!Ie.isValidElement(Ye)&&("label"in Ye||"style"in Ye)?(Fe.style=Ye.style,Fe.label=Ye.label):Fe.label=Ye,Fe}).filter(function(Ce){var Ye=Ce.label;return Ye||typeof Ye=="number"}).sort(function(Ce,Ye){return Ce.value-Ye.value})},[rt]),Pi=Jr(wn,qt,Nn,Wr,br,sr),Co=(0,be.Z)(Pi,2),Vi=Co[0],uo=Co[1],fo=(0,ye.Z)(eo,{value:Ci}),Ki=(0,be.Z)(fo,2),Mo=Ki[0],Zo=Ki[1],Lo=Ie.useMemo(function(){var Ce=Mo==null?[]:Array.isArray(Mo)?Mo:[Mo],Ye=(0,be.Z)(Ce,1),Fe=Ye[0],Nt=Fe===void 0?wn:Fe,hn=Mo===null?[]:[Nt];if(Fr){if(hn=(0,q.Z)(Ce),ci||Mo===void 0){var ir=ci>=0?ci+1:2;for(hn=hn.slice(0,ir);hn.length<ir;){var Ar;hn.push((Ar=hn[hn.length-1])!==null&&Ar!==void 0?Ar:wn)}}hn.sort(function(Nr,Rr){return Nr-Rr})}return hn.forEach(function(Nr,Rr){hn[Rr]=Vi(Nr)}),hn},[Mo,Fr,wn,ci,Vi]),To=function(Ye){return Fr?Ye:Ye[0]},$o=(0,Te.Z)(function(Ce){var Ye=(0,q.Z)(Ce).sort(function(Fe,Nt){return Fe-Nt});oo&&!(0,te.Z)(Ye,Lo,!0)&&oo(To(Ye)),Zo(Ye)}),zo=(0,Te.Z)(function(Ce){Ce&&Sn.current.hideHelp();var Ye=To(Lo);Mn==null||Mn(Ye),(0,Ve.ZP)(!Mn,"[rc-slider] `onAfterChange` is deprecated. Please use `onChangeComplete` instead."),Ee==null||Ee(Ye)}),qo=function(Ye){if(!(ni||!hi||Lo.length<=to)){var Fe=(0,q.Z)(Lo);Fe.splice(Ye,1),nn==null||nn(To(Fe)),$o(Fe);var Nt=Math.max(0,Ye-1);Sn.current.hideHelp(),Sn.current.focus(Nt)}},ho=Ur(bn,Gn,Lo,wn,qt,Vi,$o,zo,uo,hi,to),So=(0,be.Z)(ho,5),wo=So[0],K=So[1],_e=So[2],Ct=So[3],Et=So[4],En=function(Ye,Fe){if(!ni){var Nt=(0,q.Z)(Lo),hn=0,ir=0,Ar=qt-wn;Lo.forEach(function(Ao,Ai){var Zi=Math.abs(Ye-Ao);Zi<=Ar&&(Ar=Zi,hn=Ai),Ao<Ye&&(ir=Ai)});var Nr=hn;hi&&Ar!==0&&(!gt||Lo.length<gt)?(Nt.splice(ir+1,0,Ye),Nr=ir+1):Nt[hn]=Ye,Fr&&!Lo.length&&ci===void 0&&Nt.push(Ye);var Rr=To(Nt);if(nn==null||nn(Rr),$o(Nt),Fe){var _i,Fi;(_i=document.activeElement)===null||_i===void 0||(Fi=_i.blur)===null||Fi===void 0||Fi.call(_i),Sn.current.focus(Nr),Et(Fe,Nr,Nt)}else Mn==null||Mn(Rr),(0,Ve.ZP)(!Mn,"[rc-slider] `onAfterChange` is deprecated. Please use `onChangeComplete` instead."),Ee==null||Ee(Rr)}},Qn=function(Ye){Ye.preventDefault();var Fe=bn.current.getBoundingClientRect(),Nt=Fe.width,hn=Fe.height,ir=Fe.left,Ar=Fe.top,Nr=Fe.bottom,Rr=Fe.right,_i=Ye.clientX,Fi=Ye.clientY,Ao;switch(Gn){case"btt":Ao=(Nr-Fi)/hn;break;case"ttb":Ao=(Fi-Ar)/hn;break;case"rtl":Ao=(Rr-_i)/Nt;break;default:Ao=(_i-ir)/Nt}var Ai=wn+Ao*(qt-wn);En(Vi(Ai),Ye)},si=Ie.useState(null),Or=(0,be.Z)(si,2),Ri=Or[0],_o=Or[1],Lr=function(Ye,Fe){if(!ni){var Nt=uo(Lo,Ye,Fe);nn==null||nn(To(Lo)),$o(Nt.values),_o(Nt.value)}};Ie.useEffect(function(){if(Ri!==null){var Ce=Lo.indexOf(Ri);Ce>=0&&Sn.current.focus(Ce)}_o(null)},[Ri]);var Ji=Ie.useMemo(function(){return Hr&&Nn===null?!1:Hr},[Hr,Nn]),zr=(0,Te.Z)(function(Ce,Ye){Et(Ce,Ye),nn==null||nn(To(Lo))}),Si=wo!==-1;Ie.useEffect(function(){if(!Si){var Ce=Lo.lastIndexOf(K);Sn.current.focus(Ce)}},[Si]);var ai=Ie.useMemo(function(){return(0,q.Z)(Ct).sort(function(Ce,Ye){return Ce-Ye})},[Ct]),mi=Ie.useMemo(function(){return Fr?[ai[0],ai[ai.length-1]]:[wn,ai[0]]},[ai,Fr,wn]),Xo=(0,be.Z)(mi,2),Uo=Xo[0],sn=Xo[1];Ie.useImperativeHandle(Ot,function(){return{focus:function(){Sn.current.focus(0)},blur:function(){var Ye,Fe=document,Nt=Fe.activeElement;(Ye=bn.current)!==null&&Ye!==void 0&&Ye.contains(Nt)&&(Nt==null||Nt.blur())}}}),Ie.useEffect(function(){_r&&Sn.current.focus(0)},[]);var qe=Ie.useMemo(function(){return{min:wn,max:qt,direction:Gn,disabled:ni,keyboard:qn,step:Nn,included:Di,includedStart:Uo,includedEnd:sn,range:Fr,tabIndex:Rt,ariaLabelForHandle:Kt,ariaLabelledByForHandle:rn,ariaRequired:dt,ariaValueTextFormatterForHandle:at,styles:oi||{},classNames:Hn||{}}},[wn,qt,Gn,ni,qn,Nn,Di,Uo,sn,Fr,Rt,Kt,rn,dt,at,oi,Hn]);return Ie.createElement(vt.Provider,{value:qe},Ie.createElement("div",{ref:bn,className:De()(pn,gn,(0,Qe.Z)((0,Qe.Z)((0,Qe.Z)((0,Qe.Z)({},"".concat(pn,"-disabled"),ni),"".concat(pn,"-vertical"),Wi),"".concat(pn,"-horizontal"),!Wi),"".concat(pn,"-with-marks"),Wr.length)),style:wr,onMouseDown:Qn,id:pi},Ie.createElement("div",{className:De()("".concat(pn,"-rail"),Hn==null?void 0:Hn.rail),style:(0,a.Z)((0,a.Z)({},Ze),oi==null?void 0:oi.rail)}),vn!==!1&&Ie.createElement(Qt,{prefixCls:pn,style:de,values:Lo,startPoint:Re,onStartMove:Ji?zr:void 0}),Ie.createElement(ut,{prefixCls:pn,marks:Wr,dots:tn,style:pe,activeStyle:nt}),Ie.createElement(Ge,{ref:Sn,prefixCls:pn,style:Y,values:Ct,draggingIndex:wo,draggingDelete:_e,onStartMove:zr,onOffsetChange:Lr,onFocus:Pr,onBlur:Tr,handleRender:$t,activeHandleRender:ln,onChangeComplete:zo,onDelete:hi?qo:void 0}),Ie.createElement(ke,{prefixCls:pn,marks:Wr,onClick:En})))}),Ti=Kr,fr=Ti},3806:function(Ir){var Ft=function(B){return B.replace(/[A-Z]/g,function(a){return"-"+a.toLowerCase()}).toLowerCase()};Ir.exports=Ft},1129:function(Ir){Ir.exports.RADIUS=6378137,Ir.exports.FLATTENING=1/298.257223563,Ir.exports.POLAR_RADIUS=63567523142e-4},38498:function(Ir,Ft,B){var a=B(78770);function Qe(q){if(Array.isArray(q))return a(q)}Ir.exports=Qe,Ir.exports.__esModule=!0,Ir.exports.default=Ir.exports},20698:function(Ir){function Ft(B){if(typeof Symbol!="undefined"&&B[Symbol.iterator]!=null||B["@@iterator"]!=null)return Array.from(B)}Ir.exports=Ft,Ir.exports.__esModule=!0,Ir.exports.default=Ir.exports},91162:function(Ir){function Ft(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}Ir.exports=Ft,Ir.exports.__esModule=!0,Ir.exports.default=Ir.exports},67825:function(Ir,Ft,B){var a=B(64382);function Qe(q,c){if(q==null)return{};var be=a(q,c),We,De;if(Object.getOwnPropertySymbols){var Te=Object.getOwnPropertySymbols(q);for(De=0;De<Te.length;De++)We=Te[De],!(c.indexOf(We)>=0)&&Object.prototype.propertyIsEnumerable.call(q,We)&&(be[We]=q[We])}return be}Ir.exports=Qe,Ir.exports.__esModule=!0,Ir.exports.default=Ir.exports},64382:function(Ir){function Ft(B,a){if(B==null)return{};var Qe={},q=Object.keys(B),c,be;for(be=0;be<q.length;be++)c=q[be],!(a.indexOf(c)>=0)&&(Qe[c]=B[c]);return Qe}Ir.exports=Ft,Ir.exports.__esModule=!0,Ir.exports.default=Ir.exports},15558:function(Ir,Ft,B){var a=B(38498),Qe=B(20698),q=B(31479),c=B(91162);function be(We){return a(We)||Qe(We)||q(We)||c()}Ir.exports=be,Ir.exports.__esModule=!0,Ir.exports.default=Ir.exports},90594:function(Ir,Ft,B){"use strict";B.d(Ft,{Z:function(){return Qe}});function a(q,c,be,We,De,Te,ye){try{var te=q[Te](ye),Ve=te.value}catch(Ie){return void be(Ie)}te.done?c(Ve):Promise.resolve(Ve).then(We,De)}function Qe(q){return function(){var c=this,be=arguments;return new Promise(function(We,De){var Te=q.apply(c,be);function ye(Ve){a(Te,We,De,ye,te,"next",Ve)}function te(Ve){a(Te,We,De,ye,te,"throw",Ve)}ye(void 0)})}}},57250:function(Ir,Ft,B){"use strict";B.d(Ft,{Z:function(){return Qe}});var a=B(5147);function Qe(){"use strict";Qe=function(){return c};var q,c={},be=Object.prototype,We=be.hasOwnProperty,De=Object.defineProperty||function(Rn,ut,Jt){Rn[ut]=Jt.value},Te=typeof Symbol=="function"?Symbol:{},ye=Te.iterator||"@@iterator",te=Te.asyncIterator||"@@asyncIterator",Ve=Te.toStringTag||"@@toStringTag";function Ie(Rn,ut,Jt){return Object.defineProperty(Rn,ut,{value:Jt,enumerable:!0,configurable:!0,writable:!0}),Rn[ut]}try{Ie({},"")}catch(Rn){Ie=function(Jt,Cn,he){return Jt[Cn]=he}}function Ue(Rn,ut,Jt,Cn){var he=ut&&ut.prototype instanceof jt?ut:jt,Qt=Object.create(he.prototype),xi=new zn(Cn||[]);return De(Qt,"_invoke",{value:Ht(Rn,Jt,xi)}),Qt}function tt(Rn,ut,Jt){try{return{type:"normal",arg:Rn.call(ut,Jt)}}catch(Cn){return{type:"throw",arg:Cn}}}c.wrap=Ue;var ot="suspendedStart",Je="suspendedYield",ct="executing",bt="completed",Xe={};function jt(){}function vt(){}function Mt(){}var Ut={};Ie(Ut,ye,function(){return this});var Vt=Object.getPrototypeOf,yr=Vt&&Vt(Vt(mn([])));yr&&yr!==be&&We.call(yr,ye)&&(Ut=yr);var lr=Mt.prototype=jt.prototype=Object.create(Ut);function Xn(Rn){["next","throw","return"].forEach(function(ut){Ie(Rn,ut,function(Jt){return this._invoke(ut,Jt)})})}function Ge(Rn,ut){function Jt(he,Qt,xi,ui){var Ae=tt(Rn[he],Rn,Qt);if(Ae.type!=="throw"){var An=Ae.arg,Ur=An.value;return Ur&&(0,a.Z)(Ur)=="object"&&We.call(Ur,"__await")?ut.resolve(Ur.__await).then(function(Jr){Jt("next",Jr,xi,ui)},function(Jr){Jt("throw",Jr,xi,ui)}):ut.resolve(Ur).then(function(Jr){An.value=Jr,xi(An)},function(Jr){return Jt("throw",Jr,xi,ui)})}ui(Ae.arg)}var Cn;De(this,"_invoke",{value:function(Qt,xi){function ui(){return new ut(function(Ae,An){Jt(Qt,xi,Ae,An)})}return Cn=Cn?Cn.then(ui,ui):ui()}})}function Ht(Rn,ut,Jt){var Cn=ot;return function(he,Qt){if(Cn===ct)throw Error("Generator is already running");if(Cn===bt){if(he==="throw")throw Qt;return{value:q,done:!0}}for(Jt.method=he,Jt.arg=Qt;;){var xi=Jt.delegate;if(xi){var ui=un(xi,Jt);if(ui){if(ui===Xe)continue;return ui}}if(Jt.method==="next")Jt.sent=Jt._sent=Jt.arg;else if(Jt.method==="throw"){if(Cn===ot)throw Cn=bt,Jt.arg;Jt.dispatchException(Jt.arg)}else Jt.method==="return"&&Jt.abrupt("return",Jt.arg);Cn=ct;var Ae=tt(Rn,ut,Jt);if(Ae.type==="normal"){if(Cn=Jt.done?bt:Je,Ae.arg===Xe)continue;return{value:Ae.arg,done:Jt.done}}Ae.type==="throw"&&(Cn=bt,Jt.method="throw",Jt.arg=Ae.arg)}}}function un(Rn,ut){var Jt=ut.method,Cn=Rn.iterator[Jt];if(Cn===q)return ut.delegate=null,Jt==="throw"&&Rn.iterator.return&&(ut.method="return",ut.arg=q,un(Rn,ut),ut.method==="throw")||Jt!=="return"&&(ut.method="throw",ut.arg=new TypeError("The iterator does not provide a '"+Jt+"' method")),Xe;var he=tt(Cn,Rn.iterator,ut.arg);if(he.type==="throw")return ut.method="throw",ut.arg=he.arg,ut.delegate=null,Xe;var Qt=he.arg;return Qt?Qt.done?(ut[Rn.resultName]=Qt.value,ut.next=Rn.nextLoc,ut.method!=="return"&&(ut.method="next",ut.arg=q),ut.delegate=null,Xe):Qt:(ut.method="throw",ut.arg=new TypeError("iterator result is not an object"),ut.delegate=null,Xe)}function Xt(Rn){var ut={tryLoc:Rn[0]};1 in Rn&&(ut.catchLoc=Rn[1]),2 in Rn&&(ut.finallyLoc=Rn[2],ut.afterLoc=Rn[3]),this.tryEntries.push(ut)}function ke(Rn){var ut=Rn.completion||{};ut.type="normal",delete ut.arg,Rn.completion=ut}function zn(Rn){this.tryEntries=[{tryLoc:"root"}],Rn.forEach(Xt,this),this.reset(!0)}function mn(Rn){if(Rn||Rn===""){var ut=Rn[ye];if(ut)return ut.call(Rn);if(typeof Rn.next=="function")return Rn;if(!isNaN(Rn.length)){var Jt=-1,Cn=function he(){for(;++Jt<Rn.length;)if(We.call(Rn,Jt))return he.value=Rn[Jt],he.done=!1,he;return he.value=q,he.done=!0,he};return Cn.next=Cn}}throw new TypeError((0,a.Z)(Rn)+" is not iterable")}return vt.prototype=Mt,De(lr,"constructor",{value:Mt,configurable:!0}),De(Mt,"constructor",{value:vt,configurable:!0}),vt.displayName=Ie(Mt,Ve,"GeneratorFunction"),c.isGeneratorFunction=function(Rn){var ut=typeof Rn=="function"&&Rn.constructor;return!!ut&&(ut===vt||(ut.displayName||ut.name)==="GeneratorFunction")},c.mark=function(Rn){return Object.setPrototypeOf?Object.setPrototypeOf(Rn,Mt):(Rn.__proto__=Mt,Ie(Rn,Ve,"GeneratorFunction")),Rn.prototype=Object.create(lr),Rn},c.awrap=function(Rn){return{__await:Rn}},Xn(Ge.prototype),Ie(Ge.prototype,te,function(){return this}),c.AsyncIterator=Ge,c.async=function(Rn,ut,Jt,Cn,he){he===void 0&&(he=Promise);var Qt=new Ge(Ue(Rn,ut,Jt,Cn),he);return c.isGeneratorFunction(ut)?Qt:Qt.next().then(function(xi){return xi.done?xi.value:Qt.next()})},Xn(lr),Ie(lr,Ve,"Generator"),Ie(lr,ye,function(){return this}),Ie(lr,"toString",function(){return"[object Generator]"}),c.keys=function(Rn){var ut=Object(Rn),Jt=[];for(var Cn in ut)Jt.push(Cn);return Jt.reverse(),function he(){for(;Jt.length;){var Qt=Jt.pop();if(Qt in ut)return he.value=Qt,he.done=!1,he}return he.done=!0,he}},c.values=mn,zn.prototype={constructor:zn,reset:function(ut){if(this.prev=0,this.next=0,this.sent=this._sent=q,this.done=!1,this.delegate=null,this.method="next",this.arg=q,this.tryEntries.forEach(ke),!ut)for(var Jt in this)Jt.charAt(0)==="t"&&We.call(this,Jt)&&!isNaN(+Jt.slice(1))&&(this[Jt]=q)},stop:function(){this.done=!0;var ut=this.tryEntries[0].completion;if(ut.type==="throw")throw ut.arg;return this.rval},dispatchException:function(ut){if(this.done)throw ut;var Jt=this;function Cn(An,Ur){return xi.type="throw",xi.arg=ut,Jt.next=An,Ur&&(Jt.method="next",Jt.arg=q),!!Ur}for(var he=this.tryEntries.length-1;he>=0;--he){var Qt=this.tryEntries[he],xi=Qt.completion;if(Qt.tryLoc==="root")return Cn("end");if(Qt.tryLoc<=this.prev){var ui=We.call(Qt,"catchLoc"),Ae=We.call(Qt,"finallyLoc");if(ui&&Ae){if(this.prev<Qt.catchLoc)return Cn(Qt.catchLoc,!0);if(this.prev<Qt.finallyLoc)return Cn(Qt.finallyLoc)}else if(ui){if(this.prev<Qt.catchLoc)return Cn(Qt.catchLoc,!0)}else{if(!Ae)throw Error("try statement without catch or finally");if(this.prev<Qt.finallyLoc)return Cn(Qt.finallyLoc)}}}},abrupt:function(ut,Jt){for(var Cn=this.tryEntries.length-1;Cn>=0;--Cn){var he=this.tryEntries[Cn];if(he.tryLoc<=this.prev&&We.call(he,"finallyLoc")&&this.prev<he.finallyLoc){var Qt=he;break}}Qt&&(ut==="break"||ut==="continue")&&Qt.tryLoc<=Jt&&Jt<=Qt.finallyLoc&&(Qt=null);var xi=Qt?Qt.completion:{};return xi.type=ut,xi.arg=Jt,Qt?(this.method="next",this.next=Qt.finallyLoc,Xe):this.complete(xi)},complete:function(ut,Jt){if(ut.type==="throw")throw ut.arg;return ut.type==="break"||ut.type==="continue"?this.next=ut.arg:ut.type==="return"?(this.rval=this.arg=ut.arg,this.method="return",this.next="end"):ut.type==="normal"&&Jt&&(this.next=Jt),Xe},finish:function(ut){for(var Jt=this.tryEntries.length-1;Jt>=0;--Jt){var Cn=this.tryEntries[Jt];if(Cn.finallyLoc===ut)return this.complete(Cn.completion,Cn.afterLoc),ke(Cn),Xe}},catch:function(ut){for(var Jt=this.tryEntries.length-1;Jt>=0;--Jt){var Cn=this.tryEntries[Jt];if(Cn.tryLoc===ut){var he=Cn.completion;if(he.type==="throw"){var Qt=he.arg;ke(Cn)}return Qt}}throw Error("illegal catch attempt")},delegateYield:function(ut,Jt,Cn){return this.delegate={iterator:mn(ut),resultName:Jt,nextLoc:Cn},this.method==="next"&&(this.arg=q),Xe}},c}},60738:function(Ir,Ft,B){"use strict";B.d(Ft,{Z:function(){return wo}});var a={};B.r(a),B.d(a,{LAT_MAX:function(){return jt},LAT_MIN:function(){return bt},LAT_RENDERED_MAX:function(){return vt},LAT_RENDERED_MIN:function(){return Xe},LNG_MAX:function(){return Ut},LNG_MIN:function(){return Mt},activeStates:function(){return Je},classes:function(){return De},cursors:function(){return ye},events:function(){return Ue},geojsonTypes:function(){return Ve},interactions:function(){return ct},meta:function(){return ot},modes:function(){return Ie},sources:function(){return Te},types:function(){return te},updateActions:function(){return tt}});var Qe={};B.r(Qe),B.d(Qe,{isActiveFeature:function(){return rr},isEnterKey:function(){return de},isEscapeKey:function(){return Re},isFeature:function(){return Wi},isInactiveFeature:function(){return Yr},isOfMetaType:function(){return dn},isShiftDown:function(){return Di},isShiftMousedown:function(){return br},isTrue:function(){return Y},isVertex:function(){return Bi},noTarget:function(){return Mi}});var q={};B.r(q),B.d(q,{CommonSelectors:function(){return Qe},ModeHandler:function(){return be},StringSet:function(){return Xt},constrainFeatureMovement:function(){return bn},createMidPoint:function(){return tn},createSupplementaryPoints:function(){return ln},createVertex:function(){return rt},doubleClickZoom:function(){return vn},euclideanDistance:function(){return Cn},featuresAt:function(){return zn},getFeatureAtAndSetCursors:function(){return Jt},isClick:function(){return ui},isEventAtCoordinates:function(){return Nn},isTap:function(){return Ur},mapEventToBoundingBox:function(){return Ht},moveFeatures:function(){return Gn},sortFeatures:function(){return Xn},stringSetsAreEqual:function(){return $o},theme:function(){return Ee},toDenseArray:function(){return ii}});var be=function(K,_e){const Ct={drag:[],click:[],mousemove:[],mousedown:[],mouseup:[],mouseout:[],keydown:[],keyup:[],touchstart:[],touchmove:[],touchend:[],tap:[]},Et={on(Qn,si,Or){if(Ct[Qn]===void 0)throw new Error(`Invalid event type: ${Qn}`);Ct[Qn].push({selector:si,fn:Or})},render(Qn){_e.store.featureChanged(Qn)}},En=function(Qn,si){const Or=Ct[Qn];let Ri=Or.length;for(;Ri--;){const _o=Or[Ri];if(_o.selector(si)){_o.fn.call(Et,si)||_e.store.render(),_e.ui.updateMapClasses();break}}};return K.start.call(Et),{render:K.render,stop(){K.stop&&K.stop()},trash(){K.trash&&(K.trash(),_e.store.render())},combineFeatures(){K.combineFeatures&&K.combineFeatures()},uncombineFeatures(){K.uncombineFeatures&&K.uncombineFeatures()},drag(Qn){En("drag",Qn)},click(Qn){En("click",Qn)},mousemove(Qn){En("mousemove",Qn)},mousedown(Qn){En("mousedown",Qn)},mouseup(Qn){En("mouseup",Qn)},mouseout(Qn){En("mouseout",Qn)},keydown(Qn){En("keydown",Qn)},keyup(Qn){En("keyup",Qn)},touchstart(Qn){En("touchstart",Qn)},touchmove(Qn){En("touchmove",Qn)},touchend(Qn){En("touchend",Qn)},tap(Qn){En("tap",Qn)}}},We=B(12398);const De={CANVAS:"mapboxgl-canvas",CONTROL_BASE:"mapboxgl-ctrl",CONTROL_PREFIX:"mapboxgl-ctrl-",CONTROL_BUTTON:"mapbox-gl-draw_ctrl-draw-btn",CONTROL_BUTTON_LINE:"mapbox-gl-draw_line",CONTROL_BUTTON_POLYGON:"mapbox-gl-draw_polygon",CONTROL_BUTTON_POINT:"mapbox-gl-draw_point",CONTROL_BUTTON_TRASH:"mapbox-gl-draw_trash",CONTROL_BUTTON_COMBINE_FEATURES:"mapbox-gl-draw_combine",CONTROL_BUTTON_UNCOMBINE_FEATURES:"mapbox-gl-draw_uncombine",CONTROL_GROUP:"mapboxgl-ctrl-group",ATTRIBUTION:"mapboxgl-ctrl-attrib",ACTIVE_BUTTON:"active",BOX_SELECT:"mapbox-gl-draw_boxselect"},Te={HOT:"mapbox-gl-draw-hot",COLD:"mapbox-gl-draw-cold"},ye={ADD:"add",MOVE:"move",DRAG:"drag",POINTER:"pointer",NONE:"none"},te={POLYGON:"polygon",LINE:"line_string",POINT:"point"},Ve={FEATURE:"Feature",POLYGON:"Polygon",LINE_STRING:"LineString",POINT:"Point",FEATURE_COLLECTION:"FeatureCollection",MULTI_PREFIX:"Multi",MULTI_POINT:"MultiPoint",MULTI_LINE_STRING:"MultiLineString",MULTI_POLYGON:"MultiPolygon"},Ie={DRAW_LINE_STRING:"draw_line_string",DRAW_POLYGON:"draw_polygon",DRAW_POINT:"draw_point",SIMPLE_SELECT:"simple_select",DIRECT_SELECT:"direct_select"},Ue={CREATE:"draw.create",DELETE:"draw.delete",UPDATE:"draw.update",SELECTION_CHANGE:"draw.selectionchange",MODE_CHANGE:"draw.modechange",ACTIONABLE:"draw.actionable",RENDER:"draw.render",COMBINE_FEATURES:"draw.combine",UNCOMBINE_FEATURES:"draw.uncombine"},tt={MOVE:"move",CHANGE_PROPERTIES:"change_properties",CHANGE_COORDINATES:"change_coordinates"},ot={FEATURE:"feature",MIDPOINT:"midpoint",VERTEX:"vertex"},Je={ACTIVE:"true",INACTIVE:"false"},ct=["scrollZoom","boxZoom","dragRotate","dragPan","keyboard","doubleClickZoom","touchZoomRotate"],bt=-90,Xe=-85,jt=90,vt=85,Mt=-270,Ut=270,Vt={Point:0,LineString:1,MultiLineString:1,Polygon:2};function yr(K,_e){const Ct=Vt[K.geometry.type]-Vt[_e.geometry.type];return Ct===0&&K.geometry.type===Ve.POLYGON?K.area-_e.area:Ct}function lr(K){return K.map(_e=>(_e.geometry.type===Ve.POLYGON&&(_e.area=We.geometry({type:Ve.FEATURE,property:{},geometry:_e.geometry})),_e)).sort(yr).map(_e=>(delete _e.area,_e))}var Xn=lr;function Ge(K,_e=0){return[[K.point.x-_e,K.point.y-_e],[K.point.x+_e,K.point.y+_e]]}var Ht=Ge;function un(K){if(this._items={},this._nums={},this._length=K?K.length:0,!!K)for(let _e=0,Ct=K.length;_e<Ct;_e++)this.add(K[_e]),K[_e]!==void 0&&(typeof K[_e]=="string"?this._items[K[_e]]=_e:this._nums[K[_e]]=_e)}un.prototype.add=function(K){return this.has(K)?this:(this._length++,typeof K=="string"?this._items[K]=this._length:this._nums[K]=this._length,this)},un.prototype.delete=function(K){return this.has(K)===!1?this:(this._length--,delete this._items[K],delete this._nums[K],this)},un.prototype.has=function(K){return typeof K!="string"&&typeof K!="number"?!1:this._items[K]!==void 0||this._nums[K]!==void 0},un.prototype.values=function(){const K=[];return Object.keys(this._items).forEach(_e=>{K.push({k:_e,v:this._items[_e]})}),Object.keys(this._nums).forEach(_e=>{K.push({k:JSON.parse(_e),v:this._nums[_e]})}),K.sort((_e,Ct)=>_e.v-Ct.v).map(_e=>_e.k)},un.prototype.clear=function(){return this._length=0,this._items={},this._nums={},this};var Xt=un;const ke=[ot.FEATURE,ot.MIDPOINT,ot.VERTEX];var zn={click:mn,touch:Rn};function mn(K,_e,Ct){return ut(K,_e,Ct,Ct.options.clickBuffer)}function Rn(K,_e,Ct){return ut(K,_e,Ct,Ct.options.touchBuffer)}function ut(K,_e,Ct,Et){if(Ct.map===null)return[];const En=K?Ht(K,Et):_e,Qn={};Ct.options.styles&&(Qn.layers=Ct.options.styles.map(_o=>_o.id).filter(_o=>Ct.map.getLayer(_o)!=null));const si=Ct.map.queryRenderedFeatures(En,Qn).filter(_o=>ke.indexOf(_o.properties.meta)!==-1),Or=new Xt,Ri=[];return si.forEach(_o=>{const Lr=_o.properties.id;Or.has(Lr)||(Or.add(Lr),Ri.push(_o))}),Xn(Ri)}function Jt(K,_e){const Ct=zn.click(K,null,_e),Et={mouse:ye.NONE};return Ct[0]&&(Et.mouse=Ct[0].properties.active===Je.ACTIVE?ye.MOVE:ye.POINTER,Et.feature=Ct[0].properties.meta),_e.events.currentModeName().indexOf("draw")!==-1&&(Et.mouse=ye.ADD),_e.ui.queueMapClasses(Et),_e.ui.updateMapClasses(),Ct[0]}function Cn(K,_e){const Ct=K.x-_e.x,Et=K.y-_e.y;return Math.sqrt(Ct*Ct+Et*Et)}const he=4,Qt=12,xi=500;function ui(K,_e,Ct={}){const Et=Ct.fineTolerance!=null?Ct.fineTolerance:he,En=Ct.grossTolerance!=null?Ct.grossTolerance:Qt,Qn=Ct.interval!=null?Ct.interval:xi;K.point=K.point||_e.point,K.time=K.time||_e.time;const si=Cn(K.point,_e.point);return si<Et||si<En&&_e.time-K.time<Qn}const Ae=25,An=250;function Ur(K,_e,Ct={}){const Et=Ct.tolerance!=null?Ct.tolerance:Ae,En=Ct.interval!=null?Ct.interval:An;return K.point=K.point||_e.point,K.time=K.time||_e.time,Cn(K.point,_e.point)<Et&&_e.time-K.time<En}let Jr="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",On=(K,_e=21)=>(Ct=_e)=>{let Et="",En=Ct|0;for(;En--;)Et+=K[Math.random()*K.length|0];return Et},Kr=(K=21)=>{let _e="",Ct=K|0;for(;Ct--;)_e+=Jr[Math.random()*64|0];return _e};const Ti=On("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",32);function fr(){return Ti()}const it=function(K,_e){this.ctx=K,this.properties=_e.properties||{},this.coordinates=_e.geometry.coordinates,this.id=_e.id||fr(),this.type=_e.geometry.type};it.prototype.changed=function(){this.ctx.store.featureChanged(this.id)},it.prototype.incomingCoords=function(K){this.setCoordinates(K)},it.prototype.setCoordinates=function(K){this.coordinates=K,this.changed()},it.prototype.getCoordinates=function(){return JSON.parse(JSON.stringify(this.coordinates))},it.prototype.setProperty=function(K,_e){this.properties[K]=_e},it.prototype.toGeoJSON=function(){return JSON.parse(JSON.stringify({id:this.id,type:Ve.FEATURE,properties:this.properties,geometry:{coordinates:this.getCoordinates(),type:this.type}}))},it.prototype.internal=function(K){const _e={id:this.id,meta:ot.FEATURE,"meta:type":this.type,active:Je.INACTIVE,mode:K};if(this.ctx.options.userProperties)for(const Ct in this.properties)_e[`user_${Ct}`]=this.properties[Ct];return{type:Ve.FEATURE,properties:_e,geometry:{coordinates:this.getCoordinates(),type:this.type}}};var Ot=it;const Dn=function(K,_e){Ot.call(this,K,_e)};Dn.prototype=Object.create(Ot.prototype),Dn.prototype.isValid=function(){return typeof this.coordinates[0]=="number"&&typeof this.coordinates[1]=="number"},Dn.prototype.updateCoordinate=function(K,_e,Ct){arguments.length===3?this.coordinates=[_e,Ct]:this.coordinates=[K,_e],this.changed()},Dn.prototype.getCoordinate=function(){return this.getCoordinates()};var pn=Dn;const gn=function(K,_e){Ot.call(this,K,_e)};gn.prototype=Object.create(Ot.prototype),gn.prototype.isValid=function(){return this.coordinates.length>1},gn.prototype.addCoordinate=function(K,_e,Ct){this.changed();const Et=parseInt(K,10);this.coordinates.splice(Et,0,[_e,Ct])},gn.prototype.getCoordinate=function(K){const _e=parseInt(K,10);return JSON.parse(JSON.stringify(this.coordinates[_e]))},gn.prototype.removeCoordinate=function(K){this.changed(),this.coordinates.splice(parseInt(K,10),1)},gn.prototype.updateCoordinate=function(K,_e,Ct){const Et=parseInt(K,10);this.coordinates[Et]=[_e,Ct],this.changed()};var wr=gn;const Hn=function(K,_e){Ot.call(this,K,_e),this.coordinates=this.coordinates.map(Ct=>Ct.slice(0,-1))};Hn.prototype=Object.create(Ot.prototype),Hn.prototype.isValid=function(){return this.coordinates.length===0?!1:this.coordinates.every(K=>K.length>2)},Hn.prototype.incomingCoords=function(K){this.coordinates=K.map(_e=>_e.slice(0,-1)),this.changed()},Hn.prototype.setCoordinates=function(K){this.coordinates=K,this.changed()},Hn.prototype.addCoordinate=function(K,_e,Ct){this.changed();const Et=K.split(".").map(Qn=>parseInt(Qn,10));this.coordinates[Et[0]].splice(Et[1],0,[_e,Ct])},Hn.prototype.removeCoordinate=function(K){this.changed();const _e=K.split(".").map(Et=>parseInt(Et,10)),Ct=this.coordinates[_e[0]];Ct&&(Ct.splice(_e[1],1),Ct.length<3&&this.coordinates.splice(_e[0],1))},Hn.prototype.getCoordinate=function(K){const _e=K.split(".").map(Et=>parseInt(Et,10)),Ct=this.coordinates[_e[0]];return JSON.parse(JSON.stringify(Ct[_e[1]]))},Hn.prototype.getCoordinates=function(){return this.coordinates.map(K=>K.concat([K[0]]))},Hn.prototype.updateCoordinate=function(K,_e,Ct){this.changed();const Et=K.split("."),En=parseInt(Et[0],10),Qn=parseInt(Et[1],10);this.coordinates[En]===void 0&&(this.coordinates[En]=[]),this.coordinates[En][Qn]=[_e,Ct]};var oi=Hn;const pi={MultiPoint:pn,MultiLineString:wr,MultiPolygon:oi},ri=(K,_e,Ct,Et,En)=>{const Qn=Ct.split("."),si=parseInt(Qn[0],10),Or=Qn[1]?Qn.slice(1).join("."):null;return K[si][_e](Or,Et,En)},ni=function(K,_e){if(Ot.call(this,K,_e),delete this.coordinates,this.model=pi[_e.geometry.type],this.model===void 0)throw new TypeError(`${_e.geometry.type} is not a valid type`);this.features=this._coordinatesToFeatures(_e.geometry.coordinates)};ni.prototype=Object.create(Ot.prototype),ni.prototype._coordinatesToFeatures=function(K){const _e=this.model.bind(this);return K.map(Ct=>new _e(this.ctx,{id:fr(),type:Ve.FEATURE,properties:{},geometry:{coordinates:Ct,type:this.type.replace("Multi","")}}))},ni.prototype.isValid=function(){return this.features.every(K=>K.isValid())},ni.prototype.setCoordinates=function(K){this.features=this._coordinatesToFeatures(K),this.changed()},ni.prototype.getCoordinate=function(K){return ri(this.features,"getCoordinate",K)},ni.prototype.getCoordinates=function(){return JSON.parse(JSON.stringify(this.features.map(K=>K.type===Ve.POLYGON?K.getCoordinates():K.coordinates)))},ni.prototype.updateCoordinate=function(K,_e,Ct){ri(this.features,"updateCoordinate",K,_e,Ct),this.changed()},ni.prototype.addCoordinate=function(K,_e,Ct){ri(this.features,"addCoordinate",K,_e,Ct),this.changed()},ni.prototype.removeCoordinate=function(K){ri(this.features,"removeCoordinate",K),this.changed()},ni.prototype.getFeatures=function(){return this.features};var Cr=ni;function qn(K){this.map=K.map,this.drawConfig=JSON.parse(JSON.stringify(K.options||{})),this._ctx=K}qn.prototype.setSelected=function(K){return this._ctx.store.setSelected(K)},qn.prototype.setSelectedCoordinates=function(K){this._ctx.store.setSelectedCoordinates(K),K.reduce((_e,Ct)=>(_e[Ct.feature_id]===void 0&&(_e[Ct.feature_id]=!0,this._ctx.store.get(Ct.feature_id).changed()),_e),{})},qn.prototype.getSelected=function(){return this._ctx.store.getSelected()},qn.prototype.getSelectedIds=function(){return this._ctx.store.getSelectedIds()},qn.prototype.isSelected=function(K){return this._ctx.store.isSelected(K)},qn.prototype.getFeature=function(K){return this._ctx.store.get(K)},qn.prototype.select=function(K){return this._ctx.store.select(K)},qn.prototype.deselect=function(K){return this._ctx.store.deselect(K)},qn.prototype.deleteFeature=function(K,_e={}){return this._ctx.store.delete(K,_e)},qn.prototype.addFeature=function(K,_e={}){return this._ctx.store.add(K,_e)},qn.prototype.clearSelectedFeatures=function(){return this._ctx.store.clearSelected()},qn.prototype.clearSelectedCoordinates=function(){return this._ctx.store.clearSelectedCoordinates()},qn.prototype.setActionableState=function(K={}){const _e={trash:K.trash||!1,combineFeatures:K.combineFeatures||!1,uncombineFeatures:K.uncombineFeatures||!1};return this._ctx.events.actionable(_e)},qn.prototype.changeMode=function(K,_e={},Ct={}){return this._ctx.events.changeMode(K,_e,Ct)},qn.prototype.fire=function(K,_e){return this._ctx.events.fire(K,_e)},qn.prototype.updateUIClasses=function(K){return this._ctx.ui.queueMapClasses(K)},qn.prototype.activateUIButton=function(K){return this._ctx.ui.setActiveButton(K)},qn.prototype.featuresAt=function(K,_e,Ct="click"){if(Ct!=="click"&&Ct!=="touch")throw new Error("invalid buffer type");return zn[Ct](K,_e,this._ctx)},qn.prototype.newFeature=function(K){const _e=K.geometry.type;return _e===Ve.POINT?new pn(this._ctx,K):_e===Ve.LINE_STRING?new wr(this._ctx,K):_e===Ve.POLYGON?new oi(this._ctx,K):new Cr(this._ctx,K)},qn.prototype.isInstanceOf=function(K,_e){if(K===Ve.POINT)return _e instanceof pn;if(K===Ve.LINE_STRING)return _e instanceof wr;if(K===Ve.POLYGON)return _e instanceof oi;if(K==="MultiFeature")return _e instanceof Cr;throw new Error(`Unknown feature class: ${K}`)},qn.prototype.doRender=function(K){return this._ctx.store.featureChanged(K)};var _r=qn;qn.prototype.onSetup=function(){},qn.prototype.onDrag=function(){},qn.prototype.onClick=function(){},qn.prototype.onMouseMove=function(){},qn.prototype.onMouseDown=function(){},qn.prototype.onMouseUp=function(){},qn.prototype.onMouseOut=function(){},qn.prototype.onKeyUp=function(){},qn.prototype.onKeyDown=function(){},qn.prototype.onTouchStart=function(){},qn.prototype.onTouchMove=function(){},qn.prototype.onTouchEnd=function(){},qn.prototype.onTap=function(){},qn.prototype.onStop=function(){},qn.prototype.onTrash=function(){},qn.prototype.onCombineFeature=function(){},qn.prototype.onUncombineFeature=function(){},qn.prototype.toDisplayFeatures=function(){throw new Error("You must overwrite toDisplayFeatures")};const Pr={drag:"onDrag",click:"onClick",mousemove:"onMouseMove",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseout:"onMouseOut",keyup:"onKeyUp",keydown:"onKeyDown",touchstart:"onTouchStart",touchmove:"onTouchMove",touchend:"onTouchEnd",tap:"onTap"},Tr=Object.keys(Pr);function ei(K){const _e=Object.keys(K);return function(Ct,Et={}){let En={};const Qn=_e.reduce((Or,Ri)=>(Or[Ri]=K[Ri],Or),new _r(Ct));function si(Or){return Ri=>Qn[Or](En,Ri)}return{start(){En=Qn.onSetup(Et),Tr.forEach(Or=>{const Ri=Pr[Or];let _o=()=>!1;K[Ri]&&(_o=()=>!0),this.on(Or,_o,si(Ri))})},stop(){Qn.onStop(En)},trash(){Qn.onTrash(En)},combineFeatures(){Qn.onCombineFeatures(En)},uncombineFeatures(){Qn.onUncombineFeatures(En)},render(Or,Ri){Qn.toDisplayFeatures(En,Or,Ri)}}}}function ar(K){const _e=Object.keys(K.options.modes).reduce((zr,Si)=>(zr[Si]=ei(K.options.modes[Si]),zr),{});let Ct={},Et={};const En={};let Qn=null,si=null;En.drag=function(zr,Si){Si({point:zr.point,time:new Date().getTime()})?(K.ui.queueMapClasses({mouse:ye.DRAG}),si.drag(zr)):zr.originalEvent.stopPropagation()},En.mousedrag=function(zr){En.drag(zr,Si=>!ui(Ct,Si))},En.touchdrag=function(zr){En.drag(zr,Si=>!Ur(Et,Si))},En.mousemove=function(zr){if((zr.originalEvent.buttons!==void 0?zr.originalEvent.buttons:zr.originalEvent.which)===1)return En.mousedrag(zr);const ai=Jt(zr,K);zr.featureTarget=ai,si.mousemove(zr)},En.mousedown=function(zr){Ct={time:new Date().getTime(),point:zr.point};const Si=Jt(zr,K);zr.featureTarget=Si,si.mousedown(zr)},En.mouseup=function(zr){const Si=Jt(zr,K);zr.featureTarget=Si,ui(Ct,{point:zr.point,time:new Date().getTime()})?si.click(zr):si.mouseup(zr)},En.mouseout=function(zr){si.mouseout(zr)},En.touchstart=function(zr){if(!K.options.touchEnabled)return;Et={time:new Date().getTime(),point:zr.point};const Si=zn.touch(zr,null,K)[0];zr.featureTarget=Si,si.touchstart(zr)},En.touchmove=function(zr){if(K.options.touchEnabled)return si.touchmove(zr),En.touchdrag(zr)},En.touchend=function(zr){if(zr.originalEvent.preventDefault(),!K.options.touchEnabled)return;const Si=zn.touch(zr,null,K)[0];zr.featureTarget=Si,Ur(Et,{time:new Date().getTime(),point:zr.point})?si.tap(zr):si.touchend(zr)};const Or=zr=>!(zr===8||zr===46||zr>=48&&zr<=57);En.keydown=function(zr){(zr.srcElement||zr.target).classList.contains(De.CANVAS)&&((zr.keyCode===8||zr.keyCode===46)&&K.options.controls.trash?(zr.preventDefault(),si.trash()):Or(zr.keyCode)?si.keydown(zr):zr.keyCode===49&&K.options.controls.point?Ri(Ie.DRAW_POINT):zr.keyCode===50&&K.options.controls.line_string?Ri(Ie.DRAW_LINE_STRING):zr.keyCode===51&&K.options.controls.polygon&&Ri(Ie.DRAW_POLYGON))},En.keyup=function(zr){Or(zr.keyCode)&&si.keyup(zr)},En.zoomend=function(){K.store.changeZoom()},En.data=function(zr){if(zr.dataType==="style"){const{setup:Si,map:ai,options:mi,store:Xo}=K;mi.styles.some(sn=>ai.getLayer(sn.id))||(Si.addLayers(),Xo.setDirty(),Xo.render())}};function Ri(zr,Si,ai={}){si.stop();const mi=_e[zr];if(mi===void 0)throw new Error(`${zr} is not valid`);Qn=zr;const Xo=mi(K,Si);si=be(Xo,K),ai.silent||K.map.fire(Ue.MODE_CHANGE,{mode:zr}),K.store.setDirty(),K.store.render()}const _o={trash:!1,combineFeatures:!1,uncombineFeatures:!1};function Lr(zr){let Si=!1;Object.keys(zr).forEach(ai=>{if(_o[ai]===void 0)throw new Error("Invalid action type");_o[ai]!==zr[ai]&&(Si=!0),_o[ai]=zr[ai]}),Si&&K.map.fire(Ue.ACTIONABLE,{actions:_o})}return{start(){Qn=K.options.defaultMode,si=be(_e[Qn](K),K)},changeMode:Ri,actionable:Lr,currentModeName(){return Qn},currentModeRender(zr,Si){return si.render(zr,Si)},fire(zr,Si){K.map&&K.map.fire(zr,Si)},addEventListeners(){K.map.on("mousemove",En.mousemove),K.map.on("mousedown",En.mousedown),K.map.on("mouseup",En.mouseup),K.map.on("data",En.data),K.map.on("touchmove",En.touchmove),K.map.on("touchstart",En.touchstart),K.map.on("touchend",En.touchend),K.container.addEventListener("mouseout",En.mouseout),K.options.keybindings&&(K.container.addEventListener("keydown",En.keydown),K.container.addEventListener("keyup",En.keyup))},removeEventListeners(){K.map.off("mousemove",En.mousemove),K.map.off("mousedown",En.mousedown),K.map.off("mouseup",En.mouseup),K.map.off("data",En.data),K.map.off("touchmove",En.touchmove),K.map.off("touchstart",En.touchstart),K.map.off("touchend",En.touchend),K.container.removeEventListener("mouseout",En.mouseout),K.options.keybindings&&(K.container.removeEventListener("keydown",En.keydown),K.container.removeEventListener("keyup",En.keyup))},trash(zr){si.trash(zr)},combineFeatures(){si.combineFeatures()},uncombineFeatures(){si.uncombineFeatures()},getMode(){return Qn}}}function mr(K){return[].concat(K).filter(_e=>_e!==void 0)}var ii=mr;function Wn(){const K=this;if(!(K.ctx.map&&K.ctx.map.getSource(Te.HOT)!==void 0))return Ri();const Ct=K.ctx.events.currentModeName();K.ctx.ui.queueMapClasses({mode:Ct});let Et=[],En=[];K.isDirty?En=K.getAllIds():(Et=K.getChangedIds().filter(_o=>K.get(_o)!==void 0),En=K.sources.hot.filter(_o=>_o.properties.id&&Et.indexOf(_o.properties.id)===-1&&K.get(_o.properties.id)!==void 0).map(_o=>_o.properties.id)),K.sources.hot=[];const Qn=K.sources.cold.length;K.sources.cold=K.isDirty?[]:K.sources.cold.filter(_o=>{const Lr=_o.properties.id||_o.properties.parent;return Et.indexOf(Lr)===-1});const si=Qn!==K.sources.cold.length||En.length>0;Et.forEach(_o=>Or(_o,"hot")),En.forEach(_o=>Or(_o,"cold"));function Or(_o,Lr){const zr=K.get(_o).internal(Ct);K.ctx.events.currentModeRender(zr,Si=>{Si.properties.mode=Ct,K.sources[Lr].push(Si)})}si&&K.ctx.map.getSource(Te.COLD).setData({type:Ve.FEATURE_COLLECTION,features:K.sources.cold}),K.ctx.map.getSource(Te.HOT).setData({type:Ve.FEATURE_COLLECTION,features:K.sources.hot}),Ri();function Ri(){K.isDirty=!1,K.clearChangedIds()}}function di(K){this._features={},this._featureIds=new Xt,this._selectedFeatureIds=new Xt,this._selectedCoordinates=[],this._changedFeatureIds=new Xt,this._emitSelectionChange=!1,this._mapInitialConfig={},this.ctx=K,this.sources={hot:[],cold:[]};let _e;this.render=()=>{_e||(_e=requestAnimationFrame(()=>{_e=null,Wn.call(this),this._emitSelectionChange&&(this.ctx.events.fire(Ue.SELECTION_CHANGE,{features:this.getSelected().map(Ct=>Ct.toGeoJSON()),points:this.getSelectedCoordinates().map(Ct=>({type:Ve.FEATURE,properties:{},geometry:{type:Ve.POINT,coordinates:Ct.coordinates}}))}),this._emitSelectionChange=!1),this.ctx.events.fire(Ue.RENDER,{})}))},this.isDirty=!1}di.prototype.createRenderBatch=function(){const K=this.render;let _e=0;return this.render=function(){_e++},()=>{this.render=K,_e>0&&this.render()}},di.prototype.setDirty=function(){return this.isDirty=!0,this},di.prototype.featureCreated=function(K,_e={}){if(this._changedFeatureIds.add(K),(_e.silent!=null?_e.silent:this.ctx.options.suppressAPIEvents)!==!0){const Et=this.get(K);this.ctx.events.fire(Ue.CREATE,{features:[Et.toGeoJSON()]})}return this},di.prototype.featureChanged=function(K,_e={}){return this._changedFeatureIds.add(K),(_e.silent!=null?_e.silent:this.ctx.options.suppressAPIEvents)!==!0&&this.ctx.events.fire(Ue.UPDATE,{action:_e.action?_e.action:tt.CHANGE_COORDINATES,features:[this.get(K).toGeoJSON()]}),this},di.prototype.getChangedIds=function(){return this._changedFeatureIds.values()},di.prototype.clearChangedIds=function(){return this._changedFeatureIds.clear(),this},di.prototype.getAllIds=function(){return this._featureIds.values()},di.prototype.add=function(K,_e={}){return this._features[K.id]=K,this._featureIds.add(K.id),this.featureCreated(K.id,{silent:_e.silent}),this},di.prototype.delete=function(K,_e={}){const Ct=[];return ii(K).forEach(Et=>{this._featureIds.has(Et)&&(this._featureIds.delete(Et),this._selectedFeatureIds.delete(Et),_e.silent||Ct.indexOf(this._features[Et])===-1&&Ct.push(this._features[Et].toGeoJSON()),delete this._features[Et],this.isDirty=!0)}),Ct.length&&this.ctx.events.fire(Ue.DELETE,{features:Ct}),Ci(this,_e),this},di.prototype.get=function(K){return this._features[K]},di.prototype.getAll=function(){return Object.keys(this._features).map(K=>this._features[K])},di.prototype.select=function(K,_e={}){return ii(K).forEach(Ct=>{this._selectedFeatureIds.has(Ct)||(this._selectedFeatureIds.add(Ct),this._changedFeatureIds.add(Ct),_e.silent||(this._emitSelectionChange=!0))}),this},di.prototype.deselect=function(K,_e={}){return ii(K).forEach(Ct=>{this._selectedFeatureIds.has(Ct)&&(this._selectedFeatureIds.delete(Ct),this._changedFeatureIds.add(Ct),_e.silent||(this._emitSelectionChange=!0))}),Ci(this,_e),this},di.prototype.clearSelected=function(K={}){return this.deselect(this._selectedFeatureIds.values(),{silent:K.silent}),this},di.prototype.setSelected=function(K,_e={}){return K=ii(K),this.deselect(this._selectedFeatureIds.values().filter(Ct=>K.indexOf(Ct)===-1),{silent:_e.silent}),this.select(K.filter(Ct=>!this._selectedFeatureIds.has(Ct)),{silent:_e.silent}),this},di.prototype.setSelectedCoordinates=function(K){return this._selectedCoordinates=K,this._emitSelectionChange=!0,this},di.prototype.clearSelectedCoordinates=function(){return this._selectedCoordinates=[],this._emitSelectionChange=!0,this},di.prototype.getSelectedIds=function(){return this._selectedFeatureIds.values()},di.prototype.getSelected=function(){return this.getSelectedIds().map(K=>this.get(K))},di.prototype.getSelectedCoordinates=function(){return this._selectedCoordinates.map(_e=>({coordinates:this.get(_e.feature_id).getCoordinate(_e.coord_path)}))},di.prototype.isSelected=function(K){return this._selectedFeatureIds.has(K)},di.prototype.setFeatureProperty=function(K,_e,Ct,Et={}){this.get(K).setProperty(_e,Ct),this.featureChanged(K,{silent:Et.silent,action:tt.CHANGE_PROPERTIES})};function Ci(K,_e={}){const Ct=K._selectedCoordinates.filter(Et=>K._selectedFeatureIds.has(Et.feature_id));K._selectedCoordinates.length!==Ct.length&&!_e.silent&&(K._emitSelectionChange=!0),K._selectedCoordinates=Ct}di.prototype.storeMapConfig=function(){ct.forEach(K=>{this.ctx.map[K]&&(this._mapInitialConfig[K]=this.ctx.map[K].isEnabled())})},di.prototype.restoreMapConfig=function(){Object.keys(this._mapInitialConfig).forEach(K=>{this._mapInitialConfig[K]?this.ctx.map[K].enable():this.ctx.map[K].disable()})},di.prototype.getInitialConfigValue=function(K){return this._mapInitialConfig[K]!==void 0?this._mapInitialConfig[K]:!0};const eo=["mode","feature","mouse"];function Io(K){const _e={};let Ct=null,Et={mode:null,feature:null,mouse:null},En={mode:null,feature:null,mouse:null};function Qn(){si({mode:null,feature:null,mouse:null}),Or()}function si(Si){En=Object.assign(En,Si)}function Or(){if(!K.container)return;const Si=[],ai=[];eo.forEach(mi=>{En[mi]!==Et[mi]&&(Si.push(`${mi}-${Et[mi]}`),En[mi]!==null&&ai.push(`${mi}-${En[mi]}`))}),Si.length>0&&K.container.classList.remove(...Si),ai.length>0&&K.container.classList.add(...ai),Et=Object.assign(Et,En)}function Ri(Si,ai={}){const mi=document.createElement("button");return mi.className=`${De.CONTROL_BUTTON} ${ai.className}`,mi.setAttribute("title",ai.title),ai.container.appendChild(mi),mi.addEventListener("click",Xo=>{if(Xo.preventDefault(),Xo.stopPropagation(),Xo.target===Ct){_o(),ai.onDeactivate();return}Lr(Si),ai.onActivate()},!0),mi}function _o(){Ct&&(Ct.classList.remove(De.ACTIVE_BUTTON),Ct=null)}function Lr(Si){_o();const ai=_e[Si];ai&&ai&&Si!=="trash"&&(ai.classList.add(De.ACTIVE_BUTTON),Ct=ai)}function Ji(){const Si=K.options.controls,ai=document.createElement("div");return ai.className=`${De.CONTROL_GROUP} ${De.CONTROL_BASE}`,Si&&(Si[te.LINE]&&(_e[te.LINE]=Ri(te.LINE,{container:ai,className:De.CONTROL_BUTTON_LINE,title:`LineString tool ${K.options.keybindings?"(l)":""}`,onActivate:()=>K.events.changeMode(Ie.DRAW_LINE_STRING),onDeactivate:()=>K.events.trash()})),Si[te.POLYGON]&&(_e[te.POLYGON]=Ri(te.POLYGON,{container:ai,className:De.CONTROL_BUTTON_POLYGON,title:`Polygon tool ${K.options.keybindings?"(p)":""}`,onActivate:()=>K.events.changeMode(Ie.DRAW_POLYGON),onDeactivate:()=>K.events.trash()})),Si[te.POINT]&&(_e[te.POINT]=Ri(te.POINT,{container:ai,className:De.CONTROL_BUTTON_POINT,title:`Marker tool ${K.options.keybindings?"(m)":""}`,onActivate:()=>K.events.changeMode(Ie.DRAW_POINT),onDeactivate:()=>K.events.trash()})),Si.trash&&(_e.trash=Ri("trash",{container:ai,className:De.CONTROL_BUTTON_TRASH,title:"Delete",onActivate:()=>{K.events.trash()}})),Si.combine_features&&(_e.combine_features=Ri("combineFeatures",{container:ai,className:De.CONTROL_BUTTON_COMBINE_FEATURES,title:"Combine",onActivate:()=>{K.events.combineFeatures()}})),Si.uncombine_features&&(_e.uncombine_features=Ri("uncombineFeatures",{container:ai,className:De.CONTROL_BUTTON_UNCOMBINE_FEATURES,title:"Uncombine",onActivate:()=>{K.events.uncombineFeatures()}}))),ai}function zr(){Object.keys(_e).forEach(Si=>{const ai=_e[Si];ai.parentNode&&ai.parentNode.removeChild(ai),delete _e[Si]})}return{setActiveButton:Lr,queueMapClasses:si,updateMapClasses:Or,clearMapClasses:Qn,addButtons:Ji,removeButtons:zr}}function ci(K){let _e=null,Ct=null;const Et={onRemove(){return K.map.off("load",Et.connect),clearInterval(Ct),Et.removeLayers(),K.store.restoreMapConfig(),K.ui.removeButtons(),K.events.removeEventListeners(),K.ui.clearMapClasses(),K.boxZoomInitial&&K.map.boxZoom.enable(),K.map=null,K.container=null,K.store=null,_e&&_e.parentNode&&_e.parentNode.removeChild(_e),_e=null,this},connect(){K.map.off("load",Et.connect),clearInterval(Ct),Et.addLayers(),K.store.storeMapConfig(),K.events.addEventListeners()},onAdd(En){if(K.map=En,K.events=ar(K),K.ui=Io(K),K.container=En.getContainer(),K.store=new di(K),_e=K.ui.addButtons(),K.options.boxSelect){K.boxZoomInitial=En.boxZoom.isEnabled(),En.boxZoom.disable();const Qn=En.dragPan.isEnabled();En.dragPan.disable(),En.dragPan.enable(),Qn||En.dragPan.disable()}return En.loaded()?Et.connect():(En.on("load",Et.connect),Ct=setInterval(()=>{En.loaded()&&Et.connect()},16)),K.events.start(),_e},addLayers(){K.map.addSource(Te.COLD,{data:{type:Ve.FEATURE_COLLECTION,features:[]},type:"geojson"}),K.map.addSource(Te.HOT,{data:{type:Ve.FEATURE_COLLECTION,features:[]},type:"geojson"}),K.options.styles.forEach(En=>{K.map.addLayer(En)}),K.store.setDirty(!0),K.store.render()},removeLayers(){K.options.styles.forEach(En=>{K.map.getLayer(En.id)&&K.map.removeLayer(En.id)}),K.map.getSource(Te.COLD)&&K.map.removeSource(Te.COLD),K.map.getSource(Te.HOT)&&K.map.removeSource(Te.HOT)}};return K.setup=Et,Et}const oo="#3bb2d0",nn="#fbb03b",Mn="#fff";var Ee=[{id:"gl-draw-polygon-fill",type:"fill",filter:["all",["==","$type","Polygon"]],paint:{"fill-color":["case",["==",["get","active"],"true"],nn,oo],"fill-opacity":.1}},{id:"gl-draw-lines",type:"line",filter:["any",["==","$type","LineString"],["==","$type","Polygon"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":["case",["==",["get","active"],"true"],nn,oo],"line-dasharray":["case",["==",["get","active"],"true"],[.2,2],[2,0]],"line-width":2}},{id:"gl-draw-point-outer",type:"circle",filter:["all",["==","$type","Point"],["==","meta","feature"]],paint:{"circle-radius":["case",["==",["get","active"],"true"],7,5],"circle-color":Mn}},{id:"gl-draw-point-inner",type:"circle",filter:["all",["==","$type","Point"],["==","meta","feature"]],paint:{"circle-radius":["case",["==",["get","active"],"true"],5,3],"circle-color":["case",["==",["get","active"],"true"],nn,oo]}},{id:"gl-draw-vertex-outer",type:"circle",filter:["all",["==","$type","Point"],["==","meta","vertex"],["!=","mode","simple_select"]],paint:{"circle-radius":["case",["==",["get","active"],"true"],7,5],"circle-color":Mn}},{id:"gl-draw-vertex-inner",type:"circle",filter:["all",["==","$type","Point"],["==","meta","vertex"],["!=","mode","simple_select"]],paint:{"circle-radius":["case",["==",["get","active"],"true"],5,3],"circle-color":nn}},{id:"gl-draw-midpoint",type:"circle",filter:["all",["==","meta","midpoint"]],paint:{"circle-radius":3,"circle-color":nn}}];function dn(K){return function(_e){const Ct=_e.featureTarget;return!Ct||!Ct.properties?!1:Ct.properties.meta===K}}function br(K){return!K.originalEvent||!K.originalEvent.shiftKey?!1:K.originalEvent.button===0}function rr(K){return!K.featureTarget||!K.featureTarget.properties?!1:K.featureTarget.properties.active===Je.ACTIVE&&K.featureTarget.properties.meta===ot.FEATURE}function Yr(K){return!K.featureTarget||!K.featureTarget.properties?!1:K.featureTarget.properties.active===Je.INACTIVE&&K.featureTarget.properties.meta===ot.FEATURE}function Mi(K){return K.featureTarget===void 0}function Wi(K){return!K.featureTarget||!K.featureTarget.properties?!1:K.featureTarget.properties.meta===ot.FEATURE}function Bi(K){const _e=K.featureTarget;return!_e||!_e.properties?!1:_e.properties.meta===ot.VERTEX}function Di(K){return K.originalEvent?K.originalEvent.shiftKey===!0:!1}function Re(K){return K.keyCode===27}function de(K){return K.keyCode===13}function Y(){return!0}function Ze(K,_e){this.x=K,this.y=_e}Ze.prototype={clone(){return new Ze(this.x,this.y)},add(K){return this.clone()._add(K)},sub(K){return this.clone()._sub(K)},multByPoint(K){return this.clone()._multByPoint(K)},divByPoint(K){return this.clone()._divByPoint(K)},mult(K){return this.clone()._mult(K)},div(K){return this.clone()._div(K)},rotate(K){return this.clone()._rotate(K)},rotateAround(K,_e){return this.clone()._rotateAround(K,_e)},matMult(K){return this.clone()._matMult(K)},unit(){return this.clone()._unit()},perp(){return this.clone()._perp()},round(){return this.clone()._round()},mag(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals(K){return this.x===K.x&&this.y===K.y},dist(K){return Math.sqrt(this.distSqr(K))},distSqr(K){const _e=K.x-this.x,Ct=K.y-this.y;return _e*_e+Ct*Ct},angle(){return Math.atan2(this.y,this.x)},angleTo(K){return Math.atan2(this.y-K.y,this.x-K.x)},angleWith(K){return this.angleWithSep(K.x,K.y)},angleWithSep(K,_e){return Math.atan2(this.x*_e-this.y*K,this.x*K+this.y*_e)},_matMult(K){const _e=K[0]*this.x+K[1]*this.y,Ct=K[2]*this.x+K[3]*this.y;return this.x=_e,this.y=Ct,this},_add(K){return this.x+=K.x,this.y+=K.y,this},_sub(K){return this.x-=K.x,this.y-=K.y,this},_mult(K){return this.x*=K,this.y*=K,this},_div(K){return this.x/=K,this.y/=K,this},_multByPoint(K){return this.x*=K.x,this.y*=K.y,this},_divByPoint(K){return this.x/=K.x,this.y/=K.y,this},_unit(){return this._div(this.mag()),this},_perp(){const K=this.y;return this.y=this.x,this.x=-K,this},_rotate(K){const _e=Math.cos(K),Ct=Math.sin(K),Et=_e*this.x-Ct*this.y,En=Ct*this.x+_e*this.y;return this.x=Et,this.y=En,this},_rotateAround(K,_e){const Ct=Math.cos(K),Et=Math.sin(K),En=_e.x+Ct*(this.x-_e.x)-Et*(this.y-_e.y),Qn=_e.y+Et*(this.x-_e.x)+Ct*(this.y-_e.y);return this.x=En,this.y=Qn,this},_round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},constructor:Ze},Ze.convert=function(K){if(K instanceof Ze)return K;if(Array.isArray(K))return new Ze(+K[0],+K[1]);if(K.x!==void 0&&K.y!==void 0)return new Ze(+K.x,+K.y);throw new Error("Expected [x, y] or {x, y} point format")};function pe(K,_e){const Ct=_e.getBoundingClientRect();return new Ze(K.clientX-Ct.left-(_e.clientLeft||0),K.clientY-Ct.top-(_e.clientTop||0))}var nt=pe;function rt(K,_e,Ct,Et){return{type:Ve.FEATURE,properties:{meta:ot.VERTEX,parent:K,coord_path:Ct,active:Et?Je.ACTIVE:Je.INACTIVE},geometry:{type:Ve.POINT,coordinates:_e}}}function tn(K,_e,Ct){const Et=_e.geometry.coordinates,En=Ct.geometry.coordinates;if(Et[1]>vt||Et[1]<Xe||En[1]>vt||En[1]<Xe)return null;const Qn={lng:(Et[0]+En[0])/2,lat:(Et[1]+En[1])/2};return{type:Ve.FEATURE,properties:{meta:ot.MIDPOINT,parent:K,lng:Qn.lng,lat:Qn.lat,coord_path:Ct.properties.coord_path},geometry:{type:Ve.POINT,coordinates:[Qn.lng,Qn.lat]}}}function $t(K,_e={},Ct=null){const{type:Et,coordinates:En}=K.geometry,Qn=K.properties&&K.properties.id;let si=[];Et===Ve.POINT?si.push(rt(Qn,En,Ct,Ri(Ct))):Et===Ve.POLYGON?En.forEach((Lr,Ji)=>{Or(Lr,Ct!==null?`${Ct}.${Ji}`:String(Ji))}):Et===Ve.LINE_STRING?Or(En,Ct):Et.indexOf(Ve.MULTI_PREFIX)===0&&_o();function Or(Lr,Ji){let zr="",Si=null;Lr.forEach((ai,mi)=>{const Xo=Ji!=null?`${Ji}.${mi}`:String(mi),Uo=rt(Qn,ai,Xo,Ri(Xo));if(_e.midpoints&&Si){const qe=tn(Qn,Si,Uo);qe&&si.push(qe)}Si=Uo;const sn=JSON.stringify(ai);zr!==sn&&si.push(Uo),mi===0&&(zr=sn)})}function Ri(Lr){return _e.selectedPaths?_e.selectedPaths.indexOf(Lr)!==-1:!1}function _o(){const Lr=Et.replace(Ve.MULTI_PREFIX,"");En.forEach((Ji,zr)=>{const Si={type:Ve.FEATURE,properties:K.properties,geometry:{type:Lr,coordinates:Ji}};si=si.concat($t(Si,_e,zr))})}return si}var ln=$t,vn={enable(K){setTimeout(()=>{!K.map||!K.map.doubleClickZoom||!K._ctx||!K._ctx.store||!K._ctx.store.getInitialConfigValue||K._ctx.store.getInitialConfigValue("doubleClickZoom")&&K.map.doubleClickZoom.enable()},0)},disable(K){setTimeout(()=>{!K.map||!K.map.doubleClickZoom||K.map.doubleClickZoom.disable()},0)}};const{LAT_MIN:et,LAT_MAX:Rt,LAT_RENDERED_MIN:Kt,LAT_RENDERED_MAX:rn,LNG_MIN:dt,LNG_MAX:at}=a;function Sn(K){const _e={Point:0,LineString:1,Polygon:2,MultiPoint:1,MultiLineString:2,MultiPolygon:3}[K.geometry.type],Ct=[K.geometry.coordinates].flat(_e),Et=Ct.map(Or=>Or[0]),En=Ct.map(Or=>Or[1]),Qn=Or=>Math.min.apply(null,Or),si=Or=>Math.max.apply(null,Or);return[Qn(Et),Qn(En),si(Et),si(En)]}function bn(K,_e){let Ct=et,Et=Rt,En=et,Qn=Rt,si=at,Or=dt;K.forEach(_o=>{const Lr=Sn(_o),Ji=Lr[1],zr=Lr[3],Si=Lr[0],ai=Lr[2];Ji>Ct&&(Ct=Ji),zr<Et&&(Et=zr),zr>En&&(En=zr),Ji<Qn&&(Qn=Ji),Si<si&&(si=Si),ai>Or&&(Or=ai)});const Ri=_e;return Ct+Ri.lat>rn&&(Ri.lat=rn-Ct),En+Ri.lat>Rt&&(Ri.lat=Rt-En),Et+Ri.lat<Kt&&(Ri.lat=Kt-Et),Qn+Ri.lat<et&&(Ri.lat=et-Qn),si+Ri.lng<=dt&&(Ri.lng+=Math.ceil(Math.abs(Ri.lng)/360)*360),Or+Ri.lng>=at&&(Ri.lng-=Math.ceil(Math.abs(Ri.lng)/360)*360),Ri}function Gn(K,_e){const Ct=bn(K.map(Et=>Et.toGeoJSON()),_e);K.forEach(Et=>{const En=Et.getCoordinates(),Qn=_o=>{const Lr={lng:_o[0]+Ct.lng,lat:_o[1]+Ct.lat};return[Lr.lng,Lr.lat]},si=_o=>_o.map(Lr=>Qn(Lr)),Or=_o=>_o.map(Lr=>si(Lr));let Ri;Et.type===Ve.POINT?Ri=Qn(En):Et.type===Ve.LINE_STRING||Et.type===Ve.MULTI_POINT?Ri=En.map(Qn):Et.type===Ve.POLYGON||Et.type===Ve.MULTI_LINE_STRING?Ri=En.map(si):Et.type===Ve.MULTI_POLYGON&&(Ri=En.map(Or)),Et.incomingCoords(Ri)})}const or={};or.onSetup=function(K){const _e={dragMoveLocation:null,boxSelectStartLocation:null,boxSelectElement:void 0,boxSelecting:!1,canBoxSelect:!1,dragMoving:!1,canDragMove:!1,initialDragPanState:this.map.dragPan.isEnabled(),initiallySelectedFeatureIds:K.featureIds||[]};return this.setSelected(_e.initiallySelectedFeatureIds.filter(Ct=>this.getFeature(Ct)!==void 0)),this.fireActionable(),this.setActionableState({combineFeatures:!0,uncombineFeatures:!0,trash:!0}),_e},or.fireUpdate=function(){this.fire(Ue.UPDATE,{action:tt.MOVE,features:this.getSelected().map(K=>K.toGeoJSON())})},or.fireActionable=function(){const K=this.getSelected(),_e=K.filter(Qn=>this.isInstanceOf("MultiFeature",Qn));let Ct=!1;if(K.length>1){Ct=!0;const Qn=K[0].type.replace("Multi","");K.forEach(si=>{si.type.replace("Multi","")!==Qn&&(Ct=!1)})}const Et=_e.length>0,En=K.length>0;this.setActionableState({combineFeatures:Ct,uncombineFeatures:Et,trash:En})},or.getUniqueIds=function(K){return K.length?K.map(Ct=>Ct.properties.id).filter(Ct=>Ct!==void 0).reduce((Ct,Et)=>(Ct.add(Et),Ct),new Xt).values():[]},or.stopExtendedInteractions=function(K){K.boxSelectElement&&(K.boxSelectElement.parentNode&&K.boxSelectElement.parentNode.removeChild(K.boxSelectElement),K.boxSelectElement=null),(K.canDragMove||K.canBoxSelect)&&K.initialDragPanState===!0&&this.map.dragPan.enable(),K.boxSelecting=!1,K.canBoxSelect=!1,K.dragMoving=!1,K.canDragMove=!1},or.onStop=function(){vn.enable(this)},or.onMouseMove=function(K,_e){return Wi(_e)&&K.dragMoving&&this.fireUpdate(),this.stopExtendedInteractions(K),!0},or.onMouseOut=function(K){return K.dragMoving?this.fireUpdate():!0},or.onTap=or.onClick=function(K,_e){if(Mi(_e))return this.clickAnywhere(K,_e);if(dn(ot.VERTEX)(_e))return this.clickOnVertex(K,_e);if(Wi(_e))return this.clickOnFeature(K,_e)},or.clickAnywhere=function(K){const _e=this.getSelectedIds();_e.length&&(this.clearSelectedFeatures(),_e.forEach(Ct=>this.doRender(Ct))),vn.enable(this),this.stopExtendedInteractions(K)},or.clickOnVertex=function(K,_e){this.changeMode(Ie.DIRECT_SELECT,{featureId:_e.featureTarget.properties.parent,coordPath:_e.featureTarget.properties.coord_path,startPos:_e.lngLat}),this.updateUIClasses({mouse:ye.MOVE})},or.startOnActiveFeature=function(K,_e){this.stopExtendedInteractions(K),this.map.dragPan.disable(),this.doRender(_e.featureTarget.properties.id),K.canDragMove=!0,K.dragMoveLocation=_e.lngLat},or.clickOnFeature=function(K,_e){vn.disable(this),this.stopExtendedInteractions(K);const Ct=Di(_e),Et=this.getSelectedIds(),En=_e.featureTarget.properties.id,Qn=this.isSelected(En);if(!Ct&&Qn&&this.getFeature(En).type!==Ve.POINT)return this.changeMode(Ie.DIRECT_SELECT,{featureId:En});Qn&&Ct?(this.deselect(En),this.updateUIClasses({mouse:ye.POINTER}),Et.length===1&&vn.enable(this)):!Qn&&Ct?(this.select(En),this.updateUIClasses({mouse:ye.MOVE})):!Qn&&!Ct&&(Et.forEach(si=>this.doRender(si)),this.setSelected(En),this.updateUIClasses({mouse:ye.MOVE})),this.doRender(En)},or.onMouseDown=function(K,_e){if(K.initialDragPanState=this.map.dragPan.isEnabled(),rr(_e))return this.startOnActiveFeature(K,_e);if(this.drawConfig.boxSelect&&br(_e))return this.startBoxSelect(K,_e)},or.startBoxSelect=function(K,_e){this.stopExtendedInteractions(K),this.map.dragPan.disable(),K.boxSelectStartLocation=nt(_e.originalEvent,this.map.getContainer()),K.canBoxSelect=!0},or.onTouchStart=function(K,_e){if(rr(_e))return this.startOnActiveFeature(K,_e)},or.onDrag=function(K,_e){if(K.canDragMove)return this.dragMove(K,_e);if(this.drawConfig.boxSelect&&K.canBoxSelect)return this.whileBoxSelect(K,_e)},or.whileBoxSelect=function(K,_e){K.boxSelecting=!0,this.updateUIClasses({mouse:ye.ADD}),K.boxSelectElement||(K.boxSelectElement=document.createElement("div"),K.boxSelectElement.classList.add(De.BOX_SELECT),this.map.getContainer().appendChild(K.boxSelectElement));const Ct=nt(_e.originalEvent,this.map.getContainer()),Et=Math.min(K.boxSelectStartLocation.x,Ct.x),En=Math.max(K.boxSelectStartLocation.x,Ct.x),Qn=Math.min(K.boxSelectStartLocation.y,Ct.y),si=Math.max(K.boxSelectStartLocation.y,Ct.y),Or=`translate(${Et}px, ${Qn}px)`;K.boxSelectElement.style.transform=Or,K.boxSelectElement.style.WebkitTransform=Or,K.boxSelectElement.style.width=`${En-Et}px`,K.boxSelectElement.style.height=`${si-Qn}px`},or.dragMove=function(K,_e){K.dragMoving=!0,_e.originalEvent.stopPropagation();const Ct={lng:_e.lngLat.lng-K.dragMoveLocation.lng,lat:_e.lngLat.lat-K.dragMoveLocation.lat};Gn(this.getSelected(),Ct),K.dragMoveLocation=_e.lngLat},or.onTouchEnd=or.onMouseUp=function(K,_e){if(K.dragMoving)this.fireUpdate();else if(K.boxSelecting){const Ct=[K.boxSelectStartLocation,nt(_e.originalEvent,this.map.getContainer())],Et=this.featuresAt(null,Ct,"click"),En=this.getUniqueIds(Et).filter(Qn=>!this.isSelected(Qn));En.length&&(this.select(En),En.forEach(Qn=>this.doRender(Qn)),this.updateUIClasses({mouse:ye.MOVE}))}this.stopExtendedInteractions(K)},or.toDisplayFeatures=function(K,_e,Ct){_e.properties.active=this.isSelected(_e.properties.id)?Je.ACTIVE:Je.INACTIVE,Ct(_e),this.fireActionable(),!(_e.properties.active!==Je.ACTIVE||_e.geometry.type===Ve.POINT)&&ln(_e).forEach(Ct)},or.onTrash=function(){this.deleteFeature(this.getSelectedIds()),this.fireActionable()},or.onCombineFeatures=function(){const K=this.getSelected();if(K.length===0||K.length<2)return;const _e=[],Ct=[],Et=K[0].type.replace("Multi","");for(let En=0;En<K.length;En++){const Qn=K[En];if(Qn.type.replace("Multi","")!==Et)return;Qn.type.includes("Multi")?Qn.getCoordinates().forEach(si=>{_e.push(si)}):_e.push(Qn.getCoordinates()),Ct.push(Qn.toGeoJSON())}if(Ct.length>1){const En=this.newFeature({type:Ve.FEATURE,properties:Ct[0].properties,geometry:{type:`Multi${Et}`,coordinates:_e}});this.addFeature(En),this.deleteFeature(this.getSelectedIds(),{silent:!0}),this.setSelected([En.id]),this.fire(Ue.COMBINE_FEATURES,{createdFeatures:[En.toGeoJSON()],deletedFeatures:Ct})}this.fireActionable()},or.onUncombineFeatures=function(){const K=this.getSelected();if(K.length===0)return;const _e=[],Ct=[];for(let Et=0;Et<K.length;Et++){const En=K[Et];this.isInstanceOf("MultiFeature",En)&&(En.getFeatures().forEach(Qn=>{this.addFeature(Qn),Qn.properties=En.properties,_e.push(Qn.toGeoJSON()),this.select([Qn.id])}),this.deleteFeature(En.id,{silent:!0}),Ct.push(En.toGeoJSON()))}_e.length>1&&this.fire(Ue.UNCOMBINE_FEATURES,{createdFeatures:_e,deletedFeatures:Ct}),this.fireActionable()};var gr=or;const Fr=dn(ot.VERTEX),hi=dn(ot.MIDPOINT),Hr={};Hr.fireUpdate=function(){this.fire(Ue.UPDATE,{action:tt.CHANGE_COORDINATES,features:this.getSelected().map(K=>K.toGeoJSON())})},Hr.fireActionable=function(K){this.setActionableState({combineFeatures:!1,uncombineFeatures:!1,trash:K.selectedCoordPaths.length>0})},Hr.startDragging=function(K,_e){K.initialDragPanState=this.map.dragPan.isEnabled(),this.map.dragPan.disable(),K.canDragMove=!0,K.dragMoveLocation=_e.lngLat},Hr.stopDragging=function(K){K.canDragMove&&K.initialDragPanState===!0&&this.map.dragPan.enable(),K.dragMoving=!1,K.canDragMove=!1,K.dragMoveLocation=null},Hr.onVertex=function(K,_e){this.startDragging(K,_e);const Ct=_e.featureTarget.properties,Et=K.selectedCoordPaths.indexOf(Ct.coord_path);!Di(_e)&&Et===-1?K.selectedCoordPaths=[Ct.coord_path]:Di(_e)&&Et===-1&&K.selectedCoordPaths.push(Ct.coord_path);const En=this.pathsToCoordinates(K.featureId,K.selectedCoordPaths);this.setSelectedCoordinates(En)},Hr.onMidpoint=function(K,_e){this.startDragging(K,_e);const Ct=_e.featureTarget.properties;K.feature.addCoordinate(Ct.coord_path,Ct.lng,Ct.lat),this.fireUpdate(),K.selectedCoordPaths=[Ct.coord_path]},Hr.pathsToCoordinates=function(K,_e){return _e.map(Ct=>({feature_id:K,coord_path:Ct}))},Hr.onFeature=function(K,_e){K.selectedCoordPaths.length===0?this.startDragging(K,_e):this.stopDragging(K)},Hr.dragFeature=function(K,_e,Ct){Gn(this.getSelected(),Ct),K.dragMoveLocation=_e.lngLat},Hr.dragVertex=function(K,_e,Ct){const Et=K.selectedCoordPaths.map(si=>K.feature.getCoordinate(si)),En=Et.map(si=>({type:Ve.FEATURE,properties:{},geometry:{type:Ve.POINT,coordinates:si}})),Qn=bn(En,Ct);for(let si=0;si<Et.length;si++){const Or=Et[si];K.feature.updateCoordinate(K.selectedCoordPaths[si],Or[0]+Qn.lng,Or[1]+Qn.lat)}},Hr.clickNoTarget=function(){this.changeMode(Ie.SIMPLE_SELECT)},Hr.clickInactive=function(){this.changeMode(Ie.SIMPLE_SELECT)},Hr.clickActiveFeature=function(K){K.selectedCoordPaths=[],this.clearSelectedCoordinates(),K.feature.changed()},Hr.onSetup=function(K){const _e=K.featureId,Ct=this.getFeature(_e);if(!Ct)throw new Error("You must provide a featureId to enter direct_select mode");if(Ct.type===Ve.POINT)throw new TypeError("direct_select mode doesn't handle point features");const Et={featureId:_e,feature:Ct,dragMoveLocation:K.startPos||null,dragMoving:!1,canDragMove:!1,selectedCoordPaths:K.coordPath?[K.coordPath]:[]};return this.setSelectedCoordinates(this.pathsToCoordinates(_e,Et.selectedCoordPaths)),this.setSelected(_e),vn.disable(this),this.setActionableState({trash:!0}),Et},Hr.onStop=function(){vn.enable(this),this.clearSelectedCoordinates()},Hr.toDisplayFeatures=function(K,_e,Ct){K.featureId===_e.properties.id?(_e.properties.active=Je.ACTIVE,Ct(_e),ln(_e,{map:this.map,midpoints:!0,selectedPaths:K.selectedCoordPaths}).forEach(Ct)):(_e.properties.active=Je.INACTIVE,Ct(_e)),this.fireActionable(K)},Hr.onTrash=function(K){K.selectedCoordPaths.sort((_e,Ct)=>Ct.localeCompare(_e,"en",{numeric:!0})).forEach(_e=>K.feature.removeCoordinate(_e)),this.fireUpdate(),K.selectedCoordPaths=[],this.clearSelectedCoordinates(),this.fireActionable(K),K.feature.isValid()===!1&&(this.deleteFeature([K.featureId]),this.changeMode(Ie.SIMPLE_SELECT,{}))},Hr.onMouseMove=function(K,_e){const Ct=rr(_e),Et=Fr(_e),En=hi(_e),Qn=K.selectedCoordPaths.length===0;return Ct&&Qn?this.updateUIClasses({mouse:ye.MOVE}):Et&&!Qn?this.updateUIClasses({mouse:ye.MOVE}):this.updateUIClasses({mouse:ye.NONE}),(Et||Ct||En)&&K.dragMoving&&this.fireUpdate(),this.stopDragging(K),!0},Hr.onMouseOut=function(K){return K.dragMoving&&this.fireUpdate(),!0},Hr.onTouchStart=Hr.onMouseDown=function(K,_e){if(Fr(_e))return this.onVertex(K,_e);if(rr(_e))return this.onFeature(K,_e);if(hi(_e))return this.onMidpoint(K,_e)},Hr.onDrag=function(K,_e){if(K.canDragMove!==!0)return;K.dragMoving=!0,_e.originalEvent.stopPropagation();const Ct={lng:_e.lngLat.lng-K.dragMoveLocation.lng,lat:_e.lngLat.lat-K.dragMoveLocation.lat};K.selectedCoordPaths.length>0?this.dragVertex(K,_e,Ct):this.dragFeature(K,_e,Ct),K.dragMoveLocation=_e.lngLat},Hr.onClick=function(K,_e){if(Mi(_e))return this.clickNoTarget(K,_e);if(rr(_e))return this.clickActiveFeature(K,_e);if(Yr(_e))return this.clickInactive(K,_e);this.stopDragging(K)},Hr.onTap=function(K,_e){if(Mi(_e))return this.clickNoTarget(K,_e);if(rr(_e))return this.clickActiveFeature(K,_e);if(Yr(_e))return this.clickInactive(K,_e)},Hr.onTouchEnd=Hr.onMouseUp=function(K){K.dragMoving&&this.fireUpdate(),this.stopDragging(K)};var to=Hr;const gt={};gt.onSetup=function(){const K=this.newFeature({type:Ve.FEATURE,properties:{},geometry:{type:Ve.POINT,coordinates:[]}});return this.addFeature(K),this.clearSelectedFeatures(),this.updateUIClasses({mouse:ye.ADD}),this.activateUIButton(te.POINT),this.setActionableState({trash:!0}),{point:K}},gt.stopDrawingAndRemove=function(K){this.deleteFeature([K.point.id],{silent:!0}),this.changeMode(Ie.SIMPLE_SELECT)},gt.onTap=gt.onClick=function(K,_e){this.updateUIClasses({mouse:ye.MOVE}),K.point.updateCoordinate("",_e.lngLat.lng,_e.lngLat.lat),this.fire(Ue.CREATE,{features:[K.point.toGeoJSON()]}),this.changeMode(Ie.SIMPLE_SELECT,{featureIds:[K.point.id]})},gt.onStop=function(K){this.activateUIButton(),K.point.getCoordinate().length||this.deleteFeature([K.point.id],{silent:!0})},gt.toDisplayFeatures=function(K,_e,Ct){const Et=_e.properties.id===K.point.id;if(_e.properties.active=Et?Je.ACTIVE:Je.INACTIVE,!Et)return Ct(_e)},gt.onTrash=gt.stopDrawingAndRemove,gt.onKeyUp=function(K,_e){if(Re(_e)||de(_e))return this.stopDrawingAndRemove(K,_e)};var wn=gt;function qt(K,_e){return K.lngLat?K.lngLat.lng===_e[0]&&K.lngLat.lat===_e[1]:!1}var Nn=qt;const sr={};sr.onSetup=function(){const K=this.newFeature({type:Ve.FEATURE,properties:{},geometry:{type:Ve.POLYGON,coordinates:[[]]}});return this.addFeature(K),this.clearSelectedFeatures(),vn.disable(this),this.updateUIClasses({mouse:ye.ADD}),this.activateUIButton(te.POLYGON),this.setActionableState({trash:!0}),{polygon:K,currentVertexPosition:0}},sr.clickAnywhere=function(K,_e){if(K.currentVertexPosition>0&&Nn(_e,K.polygon.coordinates[0][K.currentVertexPosition-1]))return this.changeMode(Ie.SIMPLE_SELECT,{featureIds:[K.polygon.id]});this.updateUIClasses({mouse:ye.ADD}),K.polygon.updateCoordinate(`0.${K.currentVertexPosition}`,_e.lngLat.lng,_e.lngLat.lat),K.currentVertexPosition++,K.polygon.updateCoordinate(`0.${K.currentVertexPosition}`,_e.lngLat.lng,_e.lngLat.lat)},sr.clickOnVertex=function(K){return this.changeMode(Ie.SIMPLE_SELECT,{featureIds:[K.polygon.id]})},sr.onMouseMove=function(K,_e){K.polygon.updateCoordinate(`0.${K.currentVertexPosition}`,_e.lngLat.lng,_e.lngLat.lat),Bi(_e)&&this.updateUIClasses({mouse:ye.POINTER})},sr.onTap=sr.onClick=function(K,_e){return Bi(_e)?this.clickOnVertex(K,_e):this.clickAnywhere(K,_e)},sr.onKeyUp=function(K,_e){Re(_e)?(this.deleteFeature([K.polygon.id],{silent:!0}),this.changeMode(Ie.SIMPLE_SELECT)):de(_e)&&this.changeMode(Ie.SIMPLE_SELECT,{featureIds:[K.polygon.id]})},sr.onStop=function(K){this.updateUIClasses({mouse:ye.NONE}),vn.enable(this),this.activateUIButton(),this.getFeature(K.polygon.id)!==void 0&&(K.polygon.removeCoordinate(`0.${K.currentVertexPosition}`),K.polygon.isValid()?this.fire(Ue.CREATE,{features:[K.polygon.toGeoJSON()]}):(this.deleteFeature([K.polygon.id],{silent:!0}),this.changeMode(Ie.SIMPLE_SELECT,{},{silent:!0})))},sr.toDisplayFeatures=function(K,_e,Ct){const Et=_e.properties.id===K.polygon.id;if(_e.properties.active=Et?Je.ACTIVE:Je.INACTIVE,!Et)return Ct(_e);if(_e.geometry.coordinates.length===0)return;const En=_e.geometry.coordinates[0].length;if(!(En<3)){if(_e.properties.meta=ot.FEATURE,Ct(rt(K.polygon.id,_e.geometry.coordinates[0][0],"0.0",!1)),En>3){const Qn=_e.geometry.coordinates[0].length-3;Ct(rt(K.polygon.id,_e.geometry.coordinates[0][Qn],`0.${Qn}`,!1))}if(En<=4){const Qn=[[_e.geometry.coordinates[0][0][0],_e.geometry.coordinates[0][0][1]],[_e.geometry.coordinates[0][1][0],_e.geometry.coordinates[0][1][1]]];if(Ct({type:Ve.FEATURE,properties:_e.properties,geometry:{coordinates:Qn,type:Ve.LINE_STRING}}),En===3)return}return Ct(_e)}},sr.onTrash=function(K){this.deleteFeature([K.polygon.id],{silent:!0}),this.changeMode(Ie.SIMPLE_SELECT)};var Wr=sr;const Pi={};Pi.onSetup=function(K){K=K||{};const _e=K.featureId;let Ct,Et,En="forward";if(_e){if(Ct=this.getFeature(_e),!Ct)throw new Error("Could not find a feature with the provided featureId");let Qn=K.from;if(Qn&&Qn.type==="Feature"&&Qn.geometry&&Qn.geometry.type==="Point"&&(Qn=Qn.geometry),Qn&&Qn.type==="Point"&&Qn.coordinates&&Qn.coordinates.length===2&&(Qn=Qn.coordinates),!Qn||!Array.isArray(Qn))throw new Error("Please use the `from` property to indicate which point to continue the line from");const si=Ct.coordinates.length-1;if(Ct.coordinates[si][0]===Qn[0]&&Ct.coordinates[si][1]===Qn[1])Et=si+1,Ct.addCoordinate(Et,...Ct.coordinates[si]);else if(Ct.coordinates[0][0]===Qn[0]&&Ct.coordinates[0][1]===Qn[1])En="backwards",Et=0,Ct.addCoordinate(Et,...Ct.coordinates[0]);else throw new Error("`from` should match the point at either the start or the end of the provided LineString")}else Ct=this.newFeature({type:Ve.FEATURE,properties:{},geometry:{type:Ve.LINE_STRING,coordinates:[]}}),Et=0,this.addFeature(Ct);return this.clearSelectedFeatures(),vn.disable(this),this.updateUIClasses({mouse:ye.ADD}),this.activateUIButton(te.LINE),this.setActionableState({trash:!0}),{line:Ct,currentVertexPosition:Et,direction:En}},Pi.clickAnywhere=function(K,_e){if(K.currentVertexPosition>0&&Nn(_e,K.line.coordinates[K.currentVertexPosition-1])||K.direction==="backwards"&&Nn(_e,K.line.coordinates[K.currentVertexPosition+1]))return this.changeMode(Ie.SIMPLE_SELECT,{featureIds:[K.line.id]});this.updateUIClasses({mouse:ye.ADD}),K.line.updateCoordinate(K.currentVertexPosition,_e.lngLat.lng,_e.lngLat.lat),K.direction==="forward"?(K.currentVertexPosition++,K.line.updateCoordinate(K.currentVertexPosition,_e.lngLat.lng,_e.lngLat.lat)):K.line.addCoordinate(0,_e.lngLat.lng,_e.lngLat.lat)},Pi.clickOnVertex=function(K){return this.changeMode(Ie.SIMPLE_SELECT,{featureIds:[K.line.id]})},Pi.onMouseMove=function(K,_e){K.line.updateCoordinate(K.currentVertexPosition,_e.lngLat.lng,_e.lngLat.lat),Bi(_e)&&this.updateUIClasses({mouse:ye.POINTER})},Pi.onTap=Pi.onClick=function(K,_e){if(Bi(_e))return this.clickOnVertex(K,_e);this.clickAnywhere(K,_e)},Pi.onKeyUp=function(K,_e){de(_e)?this.changeMode(Ie.SIMPLE_SELECT,{featureIds:[K.line.id]}):Re(_e)&&(this.deleteFeature([K.line.id],{silent:!0}),this.changeMode(Ie.SIMPLE_SELECT))},Pi.onStop=function(K){vn.enable(this),this.activateUIButton(),this.getFeature(K.line.id)!==void 0&&(K.line.removeCoordinate(`${K.currentVertexPosition}`),K.line.isValid()?this.fire(Ue.CREATE,{features:[K.line.toGeoJSON()]}):(this.deleteFeature([K.line.id],{silent:!0}),this.changeMode(Ie.SIMPLE_SELECT,{},{silent:!0})))},Pi.onTrash=function(K){this.deleteFeature([K.line.id],{silent:!0}),this.changeMode(Ie.SIMPLE_SELECT)},Pi.toDisplayFeatures=function(K,_e,Ct){const Et=_e.properties.id===K.line.id;if(_e.properties.active=Et?Je.ACTIVE:Je.INACTIVE,!Et)return Ct(_e);_e.geometry.coordinates.length<2||(_e.properties.meta=ot.FEATURE,Ct(rt(K.line.id,_e.geometry.coordinates[K.direction==="forward"?_e.geometry.coordinates.length-2:1],`${K.direction==="forward"?_e.geometry.coordinates.length-2:1}`,!1)),Ct(_e))};var Co=Pi,Vi={simple_select:gr,direct_select:to,draw_point:wn,draw_polygon:Wr,draw_line_string:Co};const uo={defaultMode:Ie.SIMPLE_SELECT,keybindings:!0,touchEnabled:!0,clickBuffer:2,touchBuffer:25,boxSelect:!0,displayControlsDefault:!0,styles:Ee,modes:Vi,controls:{},userProperties:!1,suppressAPIEvents:!0},fo={point:!0,line_string:!0,polygon:!0,trash:!0,combine_features:!0,uncombine_features:!0},Ki={point:!1,line_string:!1,polygon:!1,trash:!1,combine_features:!1,uncombine_features:!1};function Mo(K,_e){return K.map(Ct=>Ct.source?Ct:Object.assign({},Ct,{id:`${Ct.id}.${_e}`,source:_e==="hot"?Te.HOT:Te.COLD}))}function Zo(K={}){let _e=Object.assign({},K);return K.controls||(_e.controls={}),K.displayControlsDefault===!1?_e.controls=Object.assign({},Ki,K.controls):_e.controls=Object.assign({},fo,K.controls),_e=Object.assign({},uo,_e),_e.styles=Mo(_e.styles,"cold").concat(Mo(_e.styles,"hot")),_e}var Lo=B(3341),To=B(74444);function $o(K,_e){return K.length!==_e.length?!1:JSON.stringify(K.map(Ct=>Ct).sort())===JSON.stringify(_e.map(Ct=>Ct).sort())}const zo={Polygon:oi,LineString:wr,Point:pn,MultiPolygon:Cr,MultiLineString:Cr,MultiPoint:Cr};function qo(K,_e){_e.modes=Ie;const Ct=K.options.suppressAPIEvents!==void 0?!!K.options.suppressAPIEvents:!0;return _e.getFeatureIdsAt=function(Et){return zn.click({point:Et},null,K).map(Qn=>Qn.properties.id)},_e.getSelectedIds=function(){return K.store.getSelectedIds()},_e.getSelected=function(){return{type:Ve.FEATURE_COLLECTION,features:K.store.getSelectedIds().map(Et=>K.store.get(Et)).map(Et=>Et.toGeoJSON())}},_e.getSelectedPoints=function(){return{type:Ve.FEATURE_COLLECTION,features:K.store.getSelectedCoordinates().map(Et=>({type:Ve.FEATURE,properties:{},geometry:{type:Ve.POINT,coordinates:Et.coordinates}}))}},_e.set=function(Et){if(Et.type===void 0||Et.type!==Ve.FEATURE_COLLECTION||!Array.isArray(Et.features))throw new Error("Invalid FeatureCollection");const En=K.store.createRenderBatch();let Qn=K.store.getAllIds().slice();const si=_e.add(Et),Or=new Xt(si);return Qn=Qn.filter(Ri=>!Or.has(Ri)),Qn.length&&_e.delete(Qn),En(),si},_e.add=function(Et){const Qn=JSON.parse(JSON.stringify(To(Et))).features.map(si=>{if(si.id=si.id||fr(),si.geometry===null)throw new Error("Invalid geometry: null");if(K.store.get(si.id)===void 0||K.store.get(si.id).type!==si.geometry.type){const Or=zo[si.geometry.type];if(Or===void 0)throw new Error(`Invalid geometry type: ${si.geometry.type}.`);const Ri=new Or(K,si);K.store.add(Ri,{silent:Ct})}else{const Or=K.store.get(si.id),Ri=Or.properties;Or.properties=si.properties,Lo(Ri,si.properties)||K.store.featureChanged(Or.id,{silent:Ct}),Lo(Or.getCoordinates(),si.geometry.coordinates)||Or.incomingCoords(si.geometry.coordinates)}return si.id});return K.store.render(),Qn},_e.get=function(Et){const En=K.store.get(Et);if(En)return En.toGeoJSON()},_e.getAll=function(){return{type:Ve.FEATURE_COLLECTION,features:K.store.getAll().map(Et=>Et.toGeoJSON())}},_e.delete=function(Et){return K.store.delete(Et,{silent:Ct}),_e.getMode()===Ie.DIRECT_SELECT&&!K.store.getSelectedIds().length?K.events.changeMode(Ie.SIMPLE_SELECT,void 0,{silent:Ct}):K.store.render(),_e},_e.deleteAll=function(){return K.store.delete(K.store.getAllIds(),{silent:Ct}),_e.getMode()===Ie.DIRECT_SELECT?K.events.changeMode(Ie.SIMPLE_SELECT,void 0,{silent:Ct}):K.store.render(),_e},_e.changeMode=function(Et,En={}){return Et===Ie.SIMPLE_SELECT&&_e.getMode()===Ie.SIMPLE_SELECT?($o(En.featureIds||[],K.store.getSelectedIds())||(K.store.setSelected(En.featureIds,{silent:Ct}),K.store.render()),_e):(Et===Ie.DIRECT_SELECT&&_e.getMode()===Ie.DIRECT_SELECT&&En.featureId===K.store.getSelectedIds()[0]||K.events.changeMode(Et,En,{silent:Ct}),_e)},_e.getMode=function(){return K.events.getMode()},_e.trash=function(){return K.events.trash({silent:Ct}),_e},_e.combineFeatures=function(){return K.events.combineFeatures({silent:Ct}),_e},_e.uncombineFeatures=function(){return K.events.uncombineFeatures({silent:Ct}),_e},_e.setFeatureProperty=function(Et,En,Qn){return K.store.setFeatureProperty(Et,En,Qn,{silent:Ct}),_e},_e}const ho=function(K,_e){K=Zo(K);const Ct={options:K};_e=qo(Ct,_e),Ct.api=_e;const Et=ci(Ct);return _e.onAdd=Et.onAdd,_e.onRemove=Et.onRemove,_e.types=te,_e.options=K,_e};function So(K){ho(K,this)}So.modes=Vi,So.constants=a,So.lib=q;var wo=So},69370:function(Ir,Ft,B){"use strict";B.d(Ft,{Z:function(){return Tf}});function a(){this.__data__=[],this.size=0}var Qe=a;function q(In,Vr){return In===Vr||In!==In&&Vr!==Vr}var c=q;function be(In,Vr){for(var so=In.length;so--;)if(c(In[so][0],Vr))return so;return-1}var We=be,De=Array.prototype,Te=De.splice;function ye(In){var Vr=this.__data__,so=We(Vr,In);if(so<0)return!1;var ya=Vr.length-1;return so==ya?Vr.pop():Te.call(Vr,so,1),--this.size,!0}var te=ye;function Ve(In){var Vr=this.__data__,so=We(Vr,In);return so<0?void 0:Vr[so][1]}var Ie=Ve;function Ue(In){return We(this.__data__,In)>-1}var tt=Ue;function ot(In,Vr){var so=this.__data__,ya=We(so,In);return ya<0?(++this.size,so.push([In,Vr])):so[ya][1]=Vr,this}var Je=ot;function ct(In){var Vr=-1,so=In==null?0:In.length;for(this.clear();++Vr<so;){var ya=In[Vr];this.set(ya[0],ya[1])}}ct.prototype.clear=Qe,ct.prototype.delete=te,ct.prototype.get=Ie,ct.prototype.has=tt,ct.prototype.set=Je;var bt=ct;function Xe(){this.__data__=new bt,this.size=0}var jt=Xe;function vt(In){var Vr=this.__data__,so=Vr.delete(In);return this.size=Vr.size,so}var Mt=vt;function Ut(In){return this.__data__.get(In)}var Vt=Ut;function yr(In){return this.__data__.has(In)}var lr=yr,Xn=typeof global=="object"&&global&&global.Object===Object&&global,Ge=Xn,Ht=typeof self=="object"&&self&&self.Object===Object&&self,un=Ge||Ht||Function("return this")(),Xt=un,ke=Xt.Symbol,zn=ke,mn=Object.prototype,Rn=mn.hasOwnProperty,ut=mn.toString,Jt=zn?zn.toStringTag:void 0;function Cn(In){var Vr=Rn.call(In,Jt),so=In[Jt];try{In[Jt]=void 0;var ya=!0}catch(os){}var tl=ut.call(In);return ya&&(Vr?In[Jt]=so:delete In[Jt]),tl}var he=Cn,Qt=Object.prototype,xi=Qt.toString;function ui(In){return xi.call(In)}var Ae=ui,An="[object Null]",Ur="[object Undefined]",Jr=zn?zn.toStringTag:void 0;function On(In){return In==null?In===void 0?Ur:An:Jr&&Jr in Object(In)?he(In):Ae(In)}var Kr=On;function Ti(In){var Vr=typeof In;return In!=null&&(Vr=="object"||Vr=="function")}var fr=Ti,it="[object AsyncFunction]",Ot="[object Function]",Dn="[object GeneratorFunction]",pn="[object Proxy]";function gn(In){if(!fr(In))return!1;var Vr=Kr(In);return Vr==Ot||Vr==Dn||Vr==it||Vr==pn}var wr=gn,Hn=Xt["__core-js_shared__"],oi=Hn,pi=function(){var In=/[^.]+$/.exec(oi&&oi.keys&&oi.keys.IE_PROTO||"");return In?"Symbol(src)_1."+In:""}();function ri(In){return!!pi&&pi in In}var ni=ri,Cr=Function.prototype,qn=Cr.toString;function _r(In){if(In!=null){try{return qn.call(In)}catch(Vr){}try{return In+""}catch(Vr){}}return""}var Pr=_r,Tr=/[\\^$.*+?()[\]{}|]/g,ei=/^\[object .+?Constructor\]$/,ar=Function.prototype,mr=Object.prototype,ii=ar.toString,Wn=mr.hasOwnProperty,di=RegExp("^"+ii.call(Wn).replace(Tr,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Ci(In){if(!fr(In)||ni(In))return!1;var Vr=wr(In)?di:ei;return Vr.test(Pr(In))}var eo=Ci;function Io(In,Vr){return In==null?void 0:In[Vr]}var ci=Io;function oo(In,Vr){var so=ci(In,Vr);return eo(so)?so:void 0}var nn=oo,Mn=nn(Xt,"Map"),Ee=Mn,dn=nn(Object,"create"),br=dn;function rr(){this.__data__=br?br(null):{},this.size=0}var Yr=rr;function Mi(In){var Vr=this.has(In)&&delete this.__data__[In];return this.size-=Vr?1:0,Vr}var Wi=Mi,Bi="__lodash_hash_undefined__",Di=Object.prototype,Re=Di.hasOwnProperty;function de(In){var Vr=this.__data__;if(br){var so=Vr[In];return so===Bi?void 0:so}return Re.call(Vr,In)?Vr[In]:void 0}var Y=de,Ze=Object.prototype,pe=Ze.hasOwnProperty;function nt(In){var Vr=this.__data__;return br?Vr[In]!==void 0:pe.call(Vr,In)}var rt=nt,tn="__lodash_hash_undefined__";function $t(In,Vr){var so=this.__data__;return this.size+=this.has(In)?0:1,so[In]=br&&Vr===void 0?tn:Vr,this}var ln=$t;function vn(In){var Vr=-1,so=In==null?0:In.length;for(this.clear();++Vr<so;){var ya=In[Vr];this.set(ya[0],ya[1])}}vn.prototype.clear=Yr,vn.prototype.delete=Wi,vn.prototype.get=Y,vn.prototype.has=rt,vn.prototype.set=ln;var et=vn;function Rt(){this.size=0,this.__data__={hash:new et,map:new(Ee||bt),string:new et}}var Kt=Rt;function rn(In){var Vr=typeof In;return Vr=="string"||Vr=="number"||Vr=="symbol"||Vr=="boolean"?In!=="__proto__":In===null}var dt=rn;function at(In,Vr){var so=In.__data__;return dt(Vr)?so[typeof Vr=="string"?"string":"hash"]:so.map}var Sn=at;function bn(In){var Vr=Sn(this,In).delete(In);return this.size-=Vr?1:0,Vr}var Gn=bn;function or(In){return Sn(this,In).get(In)}var gr=or;function Fr(In){return Sn(this,In).has(In)}var hi=Fr;function Hr(In,Vr){var so=Sn(this,In),ya=so.size;return so.set(In,Vr),this.size+=so.size==ya?0:1,this}var to=Hr;function gt(In){var Vr=-1,so=In==null?0:In.length;for(this.clear();++Vr<so;){var ya=In[Vr];this.set(ya[0],ya[1])}}gt.prototype.clear=Kt,gt.prototype.delete=Gn,gt.prototype.get=gr,gt.prototype.has=hi,gt.prototype.set=to;var wn=gt,qt=200;function Nn(In,Vr){var so=this.__data__;if(so instanceof bt){var ya=so.__data__;if(!Ee||ya.length<qt-1)return ya.push([In,Vr]),this.size=++so.size,this;so=this.__data__=new wn(ya)}return so.set(In,Vr),this.size=so.size,this}var sr=Nn;function Wr(In){var Vr=this.__data__=new bt(In);this.size=Vr.size}Wr.prototype.clear=jt,Wr.prototype.delete=Mt,Wr.prototype.get=Vt,Wr.prototype.has=lr,Wr.prototype.set=sr;var Pi=Wr,Co="__lodash_hash_undefined__";function Vi(In){return this.__data__.set(In,Co),this}var uo=Vi;function fo(In){return this.__data__.has(In)}var Ki=fo;function Mo(In){var Vr=-1,so=In==null?0:In.length;for(this.__data__=new wn;++Vr<so;)this.add(In[Vr])}Mo.prototype.add=Mo.prototype.push=uo,Mo.prototype.has=Ki;var Zo=Mo;function Lo(In,Vr){for(var so=-1,ya=In==null?0:In.length;++so<ya;)if(Vr(In[so],so,In))return!0;return!1}var To=Lo;function $o(In,Vr){return In.has(Vr)}var zo=$o,qo=1,ho=2;function So(In,Vr,so,ya,tl,os){var gl=so&qo,Ys=In.length,Bl=Vr.length;if(Ys!=Bl&&!(gl&&Bl>Ys))return!1;var ol=os.get(In),Uc=os.get(Vr);if(ol&&Uc)return ol==Vr&&Uc==In;var fc=-1,Al=!0,Wc=so&ho?new Zo:void 0;for(os.set(In,Vr),os.set(Vr,In);++fc<Ys;){var Bc=In[fc],Rc=Vr[fc];if(ya)var $c=gl?ya(Rc,Bc,fc,Vr,In,os):ya(Bc,Rc,fc,In,Vr,os);if($c!==void 0){if($c)continue;Al=!1;break}if(Wc){if(!To(Vr,function(Su,wu){if(!zo(Wc,wu)&&(Bc===Su||tl(Bc,Su,so,ya,os)))return Wc.push(wu)})){Al=!1;break}}else if(!(Bc===Rc||tl(Bc,Rc,so,ya,os))){Al=!1;break}}return os.delete(In),os.delete(Vr),Al}var wo=So,K=Xt.Uint8Array,_e=K;function Ct(In){var Vr=-1,so=Array(In.size);return In.forEach(function(ya,tl){so[++Vr]=[tl,ya]}),so}var Et=Ct;function En(In){var Vr=-1,so=Array(In.size);return In.forEach(function(ya){so[++Vr]=ya}),so}var Qn=En,si=1,Or=2,Ri="[object Boolean]",_o="[object Date]",Lr="[object Error]",Ji="[object Map]",zr="[object Number]",Si="[object RegExp]",ai="[object Set]",mi="[object String]",Xo="[object Symbol]",Uo="[object ArrayBuffer]",sn="[object DataView]",qe=zn?zn.prototype:void 0,Ce=qe?qe.valueOf:void 0;function Ye(In,Vr,so,ya,tl,os,gl){switch(so){case sn:if(In.byteLength!=Vr.byteLength||In.byteOffset!=Vr.byteOffset)return!1;In=In.buffer,Vr=Vr.buffer;case Uo:return!(In.byteLength!=Vr.byteLength||!os(new _e(In),new _e(Vr)));case Ri:case _o:case zr:return c(+In,+Vr);case Lr:return In.name==Vr.name&&In.message==Vr.message;case Si:case mi:return In==Vr+"";case Ji:var Ys=Et;case ai:var Bl=ya&si;if(Ys||(Ys=Qn),In.size!=Vr.size&&!Bl)return!1;var ol=gl.get(In);if(ol)return ol==Vr;ya|=Or,gl.set(In,Vr);var Uc=wo(Ys(In),Ys(Vr),ya,tl,os,gl);return gl.delete(In),Uc;case Xo:if(Ce)return Ce.call(In)==Ce.call(Vr)}return!1}var Fe=Ye;function Nt(In,Vr){for(var so=-1,ya=Vr.length,tl=In.length;++so<ya;)In[tl+so]=Vr[so];return In}var hn=Nt,ir=Array.isArray,Ar=ir;function Nr(In,Vr,so){var ya=Vr(In);return Ar(In)?ya:hn(ya,so(In))}var Rr=Nr;function _i(In,Vr){for(var so=-1,ya=In==null?0:In.length,tl=0,os=[];++so<ya;){var gl=In[so];Vr(gl,so,In)&&(os[tl++]=gl)}return os}var Fi=_i;function Ao(){return[]}var Ai=Ao,Zi=Object.prototype,li=Zi.propertyIsEnumerable,Xi=Object.getOwnPropertySymbols,Yi=Xi?function(In){return In==null?[]:(In=Object(In),Fi(Xi(In),function(Vr){return li.call(In,Vr)}))}:Ai,Po=Yi;function la(In,Vr){for(var so=-1,ya=Array(In);++so<In;)ya[so]=Vr(so);return ya}var da=la;function ma(In){return In!=null&&typeof In=="object"}var ba=ma,Sa="[object Arguments]";function wa(In){return ba(In)&&Kr(In)==Sa}var Ua=wa,ga=Object.prototype,Ts=ga.hasOwnProperty,Ms=ga.propertyIsEnumerable,ms=Ua(function(){return arguments}())?Ua:function(In){return ba(In)&&Ts.call(In,"callee")&&!Ms.call(In,"callee")},$a=ms;function xl(){return!1}var hl=xl,Hs=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Rl=Hs&&typeof module=="object"&&module&&!module.nodeType&&module,Ql=Rl&&Rl.exports===Hs,xa=Ql?Xt.Buffer:void 0,Wa=xa?xa.isBuffer:void 0,va=Wa||hl,aa=va,fs=9007199254740991,Fs=/^(?:0|[1-9]\d*)$/;function Nl(In,Vr){var so=typeof In;return Vr=Vr==null?fs:Vr,!!Vr&&(so=="number"||so!="symbol"&&Fs.test(In))&&In>-1&&In%1==0&&In<Vr}var ec=Nl,zc=9007199254740991;function Cl(In){return typeof In=="number"&&In>-1&&In%1==0&&In<=zc}var jl=Cl,ia="[object Arguments]",jo="[object Array]",su="[object Boolean]",ea="[object Date]",tc="[object Error]",Jc="[object Function]",sa="[object Map]",yc="[object Number]",_c="[object Object]",Qc="[object RegExp]",hd="[object Set]",nc="[object String]",pl="[object WeakMap]",ji="[object ArrayBuffer]",ju="[object DataView]",pd="[object Float32Array]",lu="[object Float64Array]",an="[object Int8Array]",jn="[object Int16Array]",Jn="[object Int32Array]",pr="[object Uint8Array]",Qr="[object Uint8ClampedArray]",ro="[object Uint16Array]",vo="[object Uint32Array]",no={};no[pd]=no[lu]=no[an]=no[jn]=no[Jn]=no[pr]=no[Qr]=no[ro]=no[vo]=!0,no[ia]=no[jo]=no[ji]=no[su]=no[ju]=no[ea]=no[tc]=no[Jc]=no[sa]=no[yc]=no[_c]=no[Qc]=no[hd]=no[nc]=no[pl]=!1;function Oo(In){return ba(In)&&jl(In.length)&&!!no[Kr(In)]}var co=Oo;function ao(In){return function(Vr){return In(Vr)}}var Fo=ao,Vo=typeof exports=="object"&&exports&&!exports.nodeType&&exports,ta=Vo&&typeof module=="object"&&module&&!module.nodeType&&module,Xa=ta&&ta.exports===Vo,fa=Xa&&Ge.process,Oa=function(){try{var In=ta&&ta.require&&ta.require("util").types;return In||fa&&fa.binding&&fa.binding("util")}catch(Vr){}}(),Ya=Oa,Ma=Ya&&Ya.isTypedArray,qa=Ma?Fo(Ma):co,Fa=qa,is=Object.prototype,rs=is.hasOwnProperty;function ja(In,Vr){var so=Ar(In),ya=!so&&$a(In),tl=!so&&!ya&&aa(In),os=!so&&!ya&&!tl&&Fa(In),gl=so||ya||tl||os,Ys=gl?da(In.length,String):[],Bl=Ys.length;for(var ol in In)(Vr||rs.call(In,ol))&&!(gl&&(ol=="length"||tl&&(ol=="offset"||ol=="parent")||os&&(ol=="buffer"||ol=="byteLength"||ol=="byteOffset")||ec(ol,Bl)))&&Ys.push(ol);return Ys}var Ps=ja,Vl=Object.prototype;function ml(In){var Vr=In&&In.constructor,so=typeof Vr=="function"&&Vr.prototype||Vl;return In===so}var cu=ml;function Vu(In,Vr){return function(so){return In(Vr(so))}}var Hl=Vu,Tl=Hl(Object.keys,Object),$l=Tl,dc=Object.prototype,bc=dc.hasOwnProperty;function rc(In){if(!cu(In))return $l(In);var Vr=[];for(var so in Object(In))bc.call(In,so)&&so!="constructor"&&Vr.push(so);return Vr}var Ul=rc;function ac(In){return In!=null&&jl(In.length)&&!wr(In)}var Nc=ac;function sc(In){return Nc(In)?Ps(In):Ul(In)}var Ec=sc;function Wl(In){return Rr(In,Ec,Po)}var Ja=Wl,ep=1,jd=Object.prototype,sh=jd.hasOwnProperty;function ym(In,Vr,so,ya,tl,os){var gl=so&ep,Ys=Ja(In),Bl=Ys.length,ol=Ja(Vr),Uc=ol.length;if(Bl!=Uc&&!gl)return!1;for(var fc=Bl;fc--;){var Al=Ys[fc];if(!(gl?Al in Vr:sh.call(Vr,Al)))return!1}var Wc=os.get(In),Bc=os.get(Vr);if(Wc&&Bc)return Wc==Vr&&Bc==In;var Rc=!0;os.set(In,Vr),os.set(Vr,In);for(var $c=gl;++fc<Bl;){Al=Ys[fc];var Su=In[Al],wu=Vr[Al];if(ya)var gd=gl?ya(wu,Su,Al,Vr,In,os):ya(Su,wu,Al,In,Vr,os);if(!(gd===void 0?Su===wu||tl(Su,wu,so,ya,os):gd)){Rc=!1;break}$c||($c=Al=="constructor")}if(Rc&&!$c){var Mf=In.constructor,Eu=Vr.constructor;Mf!=Eu&&"constructor"in In&&"constructor"in Vr&&!(typeof Mf=="function"&&Mf instanceof Mf&&typeof Eu=="function"&&Eu instanceof Eu)&&(Rc=!1)}return os.delete(In),os.delete(Vr),Rc}var Hu=ym,Zs=nn(Xt,"DataView"),md=Zs,lh=nn(Xt,"Promise"),uu=lh,xf=nn(Xt,"Set"),Vd=xf,ch=nn(Xt,"WeakMap"),Cf=ch,Uu="[object Map]",Hd="[object Object]",du="[object Promise]",xc="[object Set]",Sf="[object WeakMap]",Ud="[object DataView]",Wd=Pr(md),uh=Pr(Ee),dh=Pr(uu),Gd=Pr(Vd),tp=Pr(Cf),fu=Kr;(md&&fu(new md(new ArrayBuffer(1)))!=Ud||Ee&&fu(new Ee)!=Uu||uu&&fu(uu.resolve())!=du||Vd&&fu(new Vd)!=xc||Cf&&fu(new Cf)!=Sf)&&(fu=function(In){var Vr=Kr(In),so=Vr==Hd?In.constructor:void 0,ya=so?Pr(so):"";if(ya)switch(ya){case Wd:return Ud;case uh:return Uu;case dh:return du;case Gd:return xc;case tp:return Sf}return Vr});var Kd=fu,np=1,fh="[object Arguments]",Wu="[object Array]",wf="[object Object]",Ug=Object.prototype,rp=Ug.hasOwnProperty;function ip(In,Vr,so,ya,tl,os){var gl=Ar(In),Ys=Ar(Vr),Bl=gl?Wu:Kd(In),ol=Ys?Wu:Kd(Vr);Bl=Bl==fh?wf:Bl,ol=ol==fh?wf:ol;var Uc=Bl==wf,fc=ol==wf,Al=Bl==ol;if(Al&&aa(In)){if(!aa(Vr))return!1;gl=!0,Uc=!1}if(Al&&!Uc)return os||(os=new Pi),gl||Fa(In)?wo(In,Vr,so,ya,tl,os):Fe(In,Vr,Bl,so,ya,tl,os);if(!(so&np)){var Wc=Uc&&rp.call(In,"__wrapped__"),Bc=fc&&rp.call(Vr,"__wrapped__");if(Wc||Bc){var Rc=Wc?In.value():In,$c=Bc?Vr.value():Vr;return os||(os=new Pi),tl(Rc,$c,so,ya,os)}}return Al?(os||(os=new Pi),Hu(In,Vr,so,ya,tl,os)):!1}var _m=ip;function hh(In,Vr,so,ya,tl){return In===Vr?!0:In==null||Vr==null||!ba(In)&&!ba(Vr)?In!==In&&Vr!==Vr:_m(In,Vr,so,ya,hh,tl)}var Ef=hh;function If(In,Vr){return Ef(In,Vr)}var Tf=If},56680:function(Ir,Ft,B){"use strict";B.d(Ft,{Z:function(){return Te}});const a=ye=>typeof ye=="object"&&ye!=null&&ye.nodeType===1,Qe=(ye,te)=>(!te||ye!=="hidden")&&ye!=="visible"&&ye!=="clip",q=(ye,te)=>{if(ye.clientHeight<ye.scrollHeight||ye.clientWidth<ye.scrollWidth){const Ve=getComputedStyle(ye,null);return Qe(Ve.overflowY,te)||Qe(Ve.overflowX,te)||(Ie=>{const Ue=(tt=>{if(!tt.ownerDocument||!tt.ownerDocument.defaultView)return null;try{return tt.ownerDocument.defaultView.frameElement}catch(ot){return null}})(Ie);return!!Ue&&(Ue.clientHeight<Ie.scrollHeight||Ue.clientWidth<Ie.scrollWidth)})(ye)}return!1},c=(ye,te,Ve,Ie,Ue,tt,ot,Je)=>tt<ye&&ot>te||tt>ye&&ot<te?0:tt<=ye&&Je<=Ve||ot>=te&&Je>=Ve?tt-ye-Ie:ot>te&&Je<Ve||tt<ye&&Je>Ve?ot-te+Ue:0,be=ye=>{const te=ye.parentElement;return te==null?ye.getRootNode().host||null:te},We=(ye,te)=>{var Ve,Ie,Ue,tt;if(typeof document=="undefined")return[];const{scrollMode:ot,block:Je,inline:ct,boundary:bt,skipOverflowHiddenElements:Xe}=te,jt=typeof bt=="function"?bt:xi=>xi!==bt;if(!a(ye))throw new TypeError("Invalid target");const vt=document.scrollingElement||document.documentElement,Mt=[];let Ut=ye;for(;a(Ut)&&jt(Ut);){if(Ut=be(Ut),Ut===vt){Mt.push(Ut);break}Ut!=null&&Ut===document.body&&q(Ut)&&!q(document.documentElement)||Ut!=null&&q(Ut,Xe)&&Mt.push(Ut)}const Vt=(Ie=(Ve=window.visualViewport)==null?void 0:Ve.width)!=null?Ie:innerWidth,yr=(tt=(Ue=window.visualViewport)==null?void 0:Ue.height)!=null?tt:innerHeight,{scrollX:lr,scrollY:Xn}=window,{height:Ge,width:Ht,top:un,right:Xt,bottom:ke,left:zn}=ye.getBoundingClientRect(),{top:mn,right:Rn,bottom:ut,left:Jt}=(xi=>{const ui=window.getComputedStyle(xi);return{top:parseFloat(ui.scrollMarginTop)||0,right:parseFloat(ui.scrollMarginRight)||0,bottom:parseFloat(ui.scrollMarginBottom)||0,left:parseFloat(ui.scrollMarginLeft)||0}})(ye);let Cn=Je==="start"||Je==="nearest"?un-mn:Je==="end"?ke+ut:un+Ge/2-mn+ut,he=ct==="center"?zn+Ht/2-Jt+Rn:ct==="end"?Xt+Rn:zn-Jt;const Qt=[];for(let xi=0;xi<Mt.length;xi++){const ui=Mt[xi],{height:Ae,width:An,top:Ur,right:Jr,bottom:On,left:Kr}=ui.getBoundingClientRect();if(ot==="if-needed"&&un>=0&&zn>=0&&ke<=yr&&Xt<=Vt&&(ui===vt&&!q(ui)||un>=Ur&&ke<=On&&zn>=Kr&&Xt<=Jr))return Qt;const Ti=getComputedStyle(ui),fr=parseInt(Ti.borderLeftWidth,10),it=parseInt(Ti.borderTopWidth,10),Ot=parseInt(Ti.borderRightWidth,10),Dn=parseInt(Ti.borderBottomWidth,10);let pn=0,gn=0;const wr="offsetWidth"in ui?ui.offsetWidth-ui.clientWidth-fr-Ot:0,Hn="offsetHeight"in ui?ui.offsetHeight-ui.clientHeight-it-Dn:0,oi="offsetWidth"in ui?ui.offsetWidth===0?0:An/ui.offsetWidth:0,pi="offsetHeight"in ui?ui.offsetHeight===0?0:Ae/ui.offsetHeight:0;if(vt===ui)pn=Je==="start"?Cn:Je==="end"?Cn-yr:Je==="nearest"?c(Xn,Xn+yr,yr,it,Dn,Xn+Cn,Xn+Cn+Ge,Ge):Cn-yr/2,gn=ct==="start"?he:ct==="center"?he-Vt/2:ct==="end"?he-Vt:c(lr,lr+Vt,Vt,fr,Ot,lr+he,lr+he+Ht,Ht),pn=Math.max(0,pn+Xn),gn=Math.max(0,gn+lr);else{pn=Je==="start"?Cn-Ur-it:Je==="end"?Cn-On+Dn+Hn:Je==="nearest"?c(Ur,On,Ae,it,Dn+Hn,Cn,Cn+Ge,Ge):Cn-(Ur+Ae/2)+Hn/2,gn=ct==="start"?he-Kr-fr:ct==="center"?he-(Kr+An/2)+wr/2:ct==="end"?he-Jr+Ot+wr:c(Kr,Jr,An,fr,Ot+wr,he,he+Ht,Ht);const{scrollLeft:ri,scrollTop:ni}=ui;pn=pi===0?0:Math.max(0,Math.min(ni+pn/pi,ui.scrollHeight-Ae/pi+Hn)),gn=oi===0?0:Math.max(0,Math.min(ri+gn/oi,ui.scrollWidth-An/oi+wr)),Cn+=ni-pn,he+=ri-gn}Qt.push({el:ui,top:pn,left:gn})}return Qt},De=ye=>ye===!1?{block:"end",inline:"nearest"}:(te=>te===Object(te)&&Object.keys(te).length!==0)(ye)?ye:{block:"start",inline:"nearest"};function Te(ye,te){if(!ye.isConnected||!(Ue=>{let tt=Ue;for(;tt&&tt.parentNode;){if(tt.parentNode===document)return!0;tt=tt.parentNode instanceof ShadowRoot?tt.parentNode.host:tt.parentNode}return!1})(ye))return;const Ve=(Ue=>{const tt=window.getComputedStyle(Ue);return{top:parseFloat(tt.scrollMarginTop)||0,right:parseFloat(tt.scrollMarginRight)||0,bottom:parseFloat(tt.scrollMarginBottom)||0,left:parseFloat(tt.scrollMarginLeft)||0}})(ye);if((Ue=>typeof Ue=="object"&&typeof Ue.behavior=="function")(te))return te.behavior(We(ye,te));const Ie=typeof te=="boolean"||te==null?void 0:te.behavior;for(const{el:Ue,top:tt,left:ot}of We(ye,De(te))){const Je=tt-Ve.top+Ve.bottom,ct=ot-Ve.left+Ve.right;Ue.scroll({top:Je,left:ct,behavior:Ie})}}}}]);
}());